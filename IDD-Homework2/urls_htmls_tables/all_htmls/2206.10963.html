<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2206.10963] FLaaS: Cross-App On-device Federated Learning in Mobile Environments</title><meta property="og:description" content="Federated Learning (FL) has recently emerged as a popular solution to distributedly train a model on user devices improving user privacy and system scalability.
Major Internet companies have deployed FL in their applic…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="FLaaS: Cross-App On-device Federated Learning in Mobile Environments">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="FLaaS: Cross-App On-device Federated Learning in Mobile Environments">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2206.10963">

<!--Generated on Mon Mar 11 16:34:25 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">FLaaS: Cross-App On-device Federated Learning in Mobile Environments</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Kleomenis Katevas
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id1.1.id1" class="ltx_text ltx_affiliation_institution">Brave Software</span><span id="id2.2.id2" class="ltx_text ltx_affiliation_country">London, UK</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Diego Perino
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id3.1.id1" class="ltx_text ltx_affiliation_institution">Telefónica Research</span><span id="id4.2.id2" class="ltx_text ltx_affiliation_country">Barcelona, Spain</span>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Nicolas Kourtellis
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id5.1.id1" class="ltx_text ltx_affiliation_institution">Telefónica Research</span><span id="id6.2.id2" class="ltx_text ltx_affiliation_country">Barcelona, Spain</span>
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p id="id7.id1" class="ltx_p">Federated Learning (FL) has recently emerged as a popular solution to distributedly train a model on user devices improving user privacy and system scalability.
Major Internet companies have deployed FL in their applications for specific use cases (<em id="id7.id1.1" class="ltx_emph ltx_font_italic">e.g.</em>, keyboard prediction or acoustic keyword trigger), and the research community has devoted significant attention to improving different aspects of FL (<em id="id7.id1.2" class="ltx_emph ltx_font_italic">e.g.</em>, accuracy, privacy, efficiency).
However, there is still a lack of a practical system to enable easy collaborative cross-silo FL training, in the context of mobile environments.
In this work, we bridge this gap and propose FLaaS, an end-to-end system (<em id="id7.id1.3" class="ltx_emph ltx_font_italic">i.e.</em>, client-side framework and libraries, and central server) to enable intra- and inter-app training on mobile devices with different types of IID and NonIID data distributions, in a secure and easy to deploy fashion.
Our design solves major technical challenges such as on-device training, secure and private single and cross-app model training, while being offered in an “as a service” model.
We implement FLaaS for Android devices and experimentally evaluate its performance in-lab and in-wild, on more than 140 users for over a month.
Our results show the feasibility and benefits of the design in a realistic mobile context and provide several insights to the FL community on the practicality and usage of FL in the wild.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated Learning (FL) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib24" title="" class="ltx_ref">konecny2016federated-learning, </a>)</cite> enables data owners to securely train a Machine Learning (ML) model between them, by sharing only private models trained locally on their data.
FL, coupled with Differential Privacy (DP) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib17" title="" class="ltx_ref">geyer2017FL-DP-central, </a>)</cite>, Trust Execution Environments (TEE) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib33" title="" class="ltx_ref">ppfl, </a>)</cite>, or other methods, has been adopted by major tech corporations (<em id="S1.p1.1.1" class="ltx_emph ltx_font_italic">e.g.</em>, Google <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib7" title="" class="ltx_ref">bonawitz2019FL-sysml, </a>)</cite>, Apple <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib37" title="" class="ltx_ref">apple-fl, </a>)</cite>, Meta <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib21" title="" class="ltx_ref">huba2022papaya-mlsys, </a>)</cite>, etc.) due to its properties such as scalability, privacy-preserving (PP) data modeling and performance.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Typical FL use cases currently employed by industry focus on building an ML model for a specific ML task by applying FL across user devices, <em id="S1.p2.1.1" class="ltx_emph ltx_font_italic">i.e.</em>, <span id="S1.p2.1.2" class="ltx_text ltx_font_italic">cross-device</span>, on user local data (<em id="S1.p2.1.3" class="ltx_emph ltx_font_italic">e.g.</em>, GBoard <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib7" title="" class="ltx_ref">bonawitz2019FL-sysml, </a>)</cite>).
These deployments are based on proprietary code, embedded in owner products, and typically designed on a per application (app) basis.
This clearly limits the usage of FL to a few big players able to sustain cost and risk of developing and using FL.
To change this status quo, recent start-up or open source efforts (<em id="S1.p2.1.4" class="ltx_emph ltx_font_italic">e.g.</em>, <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib36" title="" class="ltx_ref">openmined2020, </a>; <a href="#bib.bib12" title="" class="ltx_ref">datafleets2020, </a>; <a href="#bib.bib15" title="" class="ltx_ref">DML2018, </a>; <a href="#bib.bib2" title="" class="ltx_ref">integrate-ai, </a>; <a href="#bib.bib4" title="" class="ltx_ref">sherpa-ai, </a>)</cite>) aim to provide FL tools for B2B customers or end-users, where FL is performed across company servers, <em id="S1.p2.1.5" class="ltx_emph ltx_font_italic">i.e.</em>, <span id="S1.p2.1.6" class="ltx_text ltx_font_italic">cross-silo</span>, on cloud-collected data (<em id="S1.p2.1.7" class="ltx_emph ltx_font_italic">e.g.</em>, between health providers, or financial institutions, etc.).
Furthermore, <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib25" title="" class="ltx_ref">flaas, </a>)</cite> even advocates for an FL-as-a-Service system in mobile settings.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Despite these early efforts, there are several novel scenarios where FL can be applied that remain unexplored, such as the <span id="S1.p3.1.1" class="ltx_text ltx_font_italic">cross-app</span> mode: a combination of <span id="S1.p3.1.2" class="ltx_text ltx_font_italic">cross-silo</span> and <span id="S1.p3.1.3" class="ltx_text ltx_font_italic">cross-device</span> for an ML task that apps share.
For example, two e-health apps (<em id="S1.p3.1.4" class="ltx_emph ltx_font_italic">e.g.</em>, fitness and nutrition apps) that collect partially similar data, want to collaborate and solve the same ML problem with better accuracy (<em id="S1.p3.1.5" class="ltx_emph ltx_font_italic">e.g.</em>, detecting when their user is at risk of diabetes).
If the apps could locally share their data or models in a PP fashion, they could train a unique FL model across their users’ devices that helps both apps, while not violating data owner’s privacy.
Under the <span id="S1.p3.1.6" class="ltx_text ltx_font_italic">cross-app</span> mode, even multi-task ML problems <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib28" title="" class="ltx_ref">marfoq2021multi-taskFL, </a>; <a href="#bib.bib11" title="" class="ltx_ref">corinzia2021multi-taskFL, </a>)</cite> could be collaboratively solved between apps.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Unfortunately, many system challenges remain to be solved to materialize such scenarios in the mobile context, and even democratizing FL to small and medium companies in as-a-service fashion.
First, there is lack of libraries supporting background ML training on mobile devices, and especially for collaborative, cross-app scenarios.
Second, there is no support for cross-app local sharing of data or models for collaborative training: it requires secure and PP mechanisms for storage, communication, and permissions management across apps.
Finally, existing FL methods do not provide an easy to use model for app developers based on simple APIs and tools as ML-as-a-Service counterparts (<em id="S1.p4.1.1" class="ltx_emph ltx_font_italic">e.g.</em>, Amazon Web Services <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib5" title="" class="ltx_ref">aws-mlaas2020, </a>)</cite>, Google Cloud <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib18" title="" class="ltx_ref">googlecloud-mlaas2020, </a>)</cite> or Microsoft Azure <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib32" title="" class="ltx_ref">azure-mlaas2020, </a>)</cite>).</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">In this paper, we focus on solving these challenges and present FLaaS, the first practical FL framework for mobile environments that enables <span id="S1.p5.1.1" class="ltx_text ltx_font_italic">cross-app</span> FL, and <span id="S1.p5.1.2" class="ltx_text ltx_font_italic">as-a-Service</span> (Figure <a href="#S1.F1" title="Figure 1 ‣ 1. Introduction ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
Our design includes a client-side middleware and library enabling third-party mobile apps to train FL models on-device, either independently or in a joint fashion. We investigate two types of cross-app FL modeling: shared samples and shared models.
Cross-app training is based on a set of secure and PP communication and storage primitives, while the library makes seamless the integration of FL into existing apps.
FLaaS also includes a centralized component to automatically orchestrate the FL process, with an easy interface for app developers.
Our design is end-to-end and includes several system optimizations required to deploy it in the wild in a scalable and robust fashion.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2206.10963/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="175" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.6.3.1" class="ltx_text" style="font-size:90%;">Figure 1</span>. </span><span id="S1.F1.4.2" class="ltx_text" style="font-size:90%;">FLaaS Overview: A set of K devices with N installed apps securely share their heterogeneous samples or locally trained models with the local service. They are aggregated locally (denoted by <math id="S1.F1.3.1.m1.1" class="ltx_Math" alttext="\otimes" display="inline"><semantics id="S1.F1.3.1.m1.1b"><mo id="S1.F1.3.1.m1.1.1" xref="S1.F1.3.1.m1.1.1.cmml">⊗</mo><annotation-xml encoding="MathML-Content" id="S1.F1.3.1.m1.1c"><csymbol cd="latexml" id="S1.F1.3.1.m1.1.1.cmml" xref="S1.F1.3.1.m1.1.1">tensor-product</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.3.1.m1.1d">\otimes</annotation></semantics></math>) in order to produce a local model. The model parameters from all K devices are securely aggregated by applying FedAvg (denoted by <math id="S1.F1.4.2.m2.1" class="ltx_Math" alttext="\Sigma" display="inline"><semantics id="S1.F1.4.2.m2.1b"><mi mathvariant="normal" id="S1.F1.4.2.m2.1.1" xref="S1.F1.4.2.m2.1.1.cmml">Σ</mi><annotation-xml encoding="MathML-Content" id="S1.F1.4.2.m2.1c"><ci id="S1.F1.4.2.m2.1.1.cmml" xref="S1.F1.4.2.m2.1.1">Σ</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.F1.4.2.m2.1d">\Sigma</annotation></semantics></math>) following the traditional federated learning approach.</span></figcaption>
</figure>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">We implement FLaaS for Android-based mobile devices (<em id="S1.p6.1.1" class="ltx_emph ltx_font_italic">i.e.</em>, client-side elements), while leveraging a popular cloud-based platform for the centralized component.
The complete source-code of our system is available at: <a target="_blank" href="https://github.com/FLaaSResearch" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/FLaaSResearch</a>.
Finally, we evaluate FLaaS feasibility, overhead and performance via in-lab and real-world experiments with more than 140 real users.
The former allows us to evaluate the cost of the system under controlled settings: we observe devices spend a limited amount of time (<em id="S1.p6.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, few minutes) and resources (<em id="S1.p6.1.3" class="ltx_emph ltx_font_italic">i.e.</em>, energy and CPU) in training of an ML model during an FL round, and communication with the system.
The evaluation with real users allows us to analyze the ML performance and cost in real settings, as well as derive critical insights for any FL system for mobile environments in the wild.
We observe that even if a few 10s of devices actually report trained models, FLaaS builds a global FL model that compares in utility with a centralized model, while having very limited impact on user experience.
We also observe that cross-app modeling with shared samples achieves, on average, <math id="S1.p6.1.m1.1" class="ltx_Math" alttext="24.10\%" display="inline"><semantics id="S1.p6.1.m1.1a"><mrow id="S1.p6.1.m1.1.1" xref="S1.p6.1.m1.1.1.cmml"><mn id="S1.p6.1.m1.1.1.2" xref="S1.p6.1.m1.1.1.2.cmml">24.10</mn><mo id="S1.p6.1.m1.1.1.1" xref="S1.p6.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S1.p6.1.m1.1b"><apply id="S1.p6.1.m1.1.1.cmml" xref="S1.p6.1.m1.1.1"><csymbol cd="latexml" id="S1.p6.1.m1.1.1.1.cmml" xref="S1.p6.1.m1.1.1.1">percent</csymbol><cn type="float" id="S1.p6.1.m1.1.1.2.cmml" xref="S1.p6.1.m1.1.1.2">24.10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p6.1.m1.1c">24.10\%</annotation></semantics></math> higher accuracy across all data distributions when compared with the shared models approach, and this difference is pronounced in 3 diverse and realistic NonIID data distributions tested across participating users.
To the best of our knowledge this is the first work to design and experimentally evaluate a practical, FL-as-a-Service system for collaborative cross-mobile app ML training in the wild.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>System Overview</h2>

<figure id="S2.F2" class="ltx_figure"><img src="/html/2206.10963/assets/x2.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="150" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.3.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>. </span><span id="S2.F2.4.2" class="ltx_text" style="font-size:90%;">Overview of FLaaS ML modeling architecture. We assume a set of client devices participating in FLaaS device infrastructure, periodically reporting their status through the backend’s REST API (1) to the DB for logging (2).
An app developer uses the Admin Interface to create a new FLaaS FL project (3), whose configuration is stored in the DB (4).
The Device Scheduler detects the new FLaaS project (5), queries the device statuses from the DB (5), and sends an FL training request using its Notification Service provider (6a) to external services such as APN and FCM (6b).
Each device’s FLaaS Local receives the FL training request (7) and requests from the participating third-party apps to receive either their local samples for training, or to train their own models (8a, b and c).
It then conducts the necessary on-device model training (if it received samples) or model aggregation and averaging depending on the training mode. When a substantial number of reported models is received by the Server (1), the Device Scheduler instructs the Model Aggregator to accumulate the received models (9a and 9b), marks the FL round as complete, and continues with the next FL round until the project is complete (<em id="S2.F2.4.2.1" class="ltx_emph ltx_font_italic">i.e.</em>, stopping requirements are reached).
</span></figcaption>
</figure>
<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">In this section, we discuss 5 main challenges that FLaaS addresses with its design, in providing a practical end-to-end FL system for mobile apps.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Design Challenges</h3>

<div id="S2.SS1.p1" class="ltx_para ltx_noindent">
<p id="S2.SS1.p1.1" class="ltx_p"><span id="S2.SS1.p1.1.1" class="ltx_text ltx_font_bold">1. Easy to use.</span>
FLaaS needs to be 1) easy to incorporate in existing apps; 2) provide a simple interface to configure the FL training process.
For the first issue, we design two on-device components: a service and a library.
The service is to be installed in devices participating in the FL process.
The library is to be integrated in existing apps and can be used by calling its APIs, thus, requiring adding only a few lines of code.
For the second issue, we provide a user interface (UI) similar to the ones provided by existing MLaaS.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para ltx_noindent">
<p id="S2.SS1.p2.1" class="ltx_p"><span id="S2.SS1.p2.1.1" class="ltx_text ltx_font_bold">2. Multi use case coverage.</span>
FLaaS should be able to support at least two types of ML modeling scenarios:
<br class="ltx_break"><span id="S2.SS1.p2.1.2" class="ltx_text ltx_font_italic">i) Single-app FL modeling:</span> Typically, a specific app is interested in building a ML model to solve a specific task: <em id="S2.SS1.p2.1.3" class="ltx_emph ltx_font_italic">e.g.</em>, a nutrition app that wants to model its users’ behavior and preferences to provide better food recommendations, and thus wants to utilize the local data per user/device.
<br class="ltx_break"><span id="S2.SS1.p2.1.4" class="ltx_text ltx_font_italic">ii) Cross-app FL modeling:</span> A group of two or more apps, concurrently installed on the same device, want to collaborate and build a shared model to solve a task, identical for each app, but on more, shared and possibly heterogeneous data.
For example, a fitness app and a nutrition app may want to build a joint ML model for better health recommendations, to push their users away from diabetes risk, based on data coming from each app’s local store.</p>
</div>
<div id="S2.SS1.p3" class="ltx_para ltx_noindent">
<p id="S2.SS1.p3.1" class="ltx_p"><span id="S2.SS1.p3.1.1" class="ltx_text ltx_font_bold">3. On-device training</span>.
Currently there are no libraries enabling background ML training, and between mobile apps, to support our envisioned use cases.
Thus, we design an on-device, background ML training module building on TensorFlow Lite framework that we extend to be integrated, and support the different functionalities of FLaaS, and to provide the different training modes, <em id="S2.SS1.p3.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, single-app and cross-app.</p>
</div>
<div id="S2.SS1.p4" class="ltx_para ltx_noindent">
<p id="S2.SS1.p4.1" class="ltx_p"><span id="S2.SS1.p4.1.1" class="ltx_text ltx_font_bold">4. Secure and private training.</span>
FLaaS needs to enable a secure and private training process.
First, we enable a secure communication channel between apps embedding the library and the FLaaS service supporting different types of data, <em id="S2.SS1.p4.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, numerical, text and binary.
Second, data and model storage on device are secured using per app and service spaces with permissions specified by developers and enforced using an on-device data management engine.
Finally, we need to guarantee secure authentication and communication between the FLaaS back-end and the training client devices.
This is achieved via authentication tokens for apps and FLaaS service, and using state of art encrypted communication mechanisms.
We assume developers and the system are trusted, and that attacks to the training process or models, such as membership/attribute/data inference attacks <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib41" title="" class="ltx_ref">shokri2017membership, </a>; <a href="#bib.bib35" title="" class="ltx_ref">nasr2019comprehensive, </a>; <a href="#bib.bib39" title="" class="ltx_ref">sablayrolles2019white, </a>)</cite> can be solved by integrating in our design solutions with TEEs such as <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib33" title="" class="ltx_ref">ppfl, </a>)</cite>, or by injecting DP noise during the FL process <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib16" title="" class="ltx_ref">dwork2014algorithmic, </a>)</cite>.</p>
</div>
<div id="S2.SS1.p5" class="ltx_para ltx_noindent">
<p id="S2.SS1.p5.1" class="ltx_p"><span id="S2.SS1.p5.1.1" class="ltx_text ltx_font_bold">5. Production ready.</span>
FLaaS needs to be deployable in the wild and to deal with production environment challenges such as scalability and robustness.
To this goal, we leverage several system and software engineering optimizations both at the back-end (<em id="S2.SS1.p5.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, easy scalability for load balancing, notification service, etc.), and device (<em id="S2.SS1.p5.1.3" class="ltx_emph ltx_font_italic">e.g.</em>, opportunistic ML training based on available battery, optimized data storage and inter-app communication for joint-app modeling).</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Main Components</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">To address these challenges, we propose FLaaS.
Figure <a href="#S2.F2" title="Figure 2 ‣ 2. System Overview ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> provides an overview of the system architecture, along with the list of steps required to perform an FL training process.
The 4 core system elements (detailed in Sec. <a href="#S3" title="3. FLaaS Back-end Design ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>&amp; <a href="#S4" title="4. FLaaS Client Devices ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>) are:</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p"><em id="S2.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">Admin Interface</em> (Backend,§ <a href="#S3.SS1" title="3.1. Admin Interface ‣ 3. FLaaS Back-end Design ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>): The main front-end interface for app developers, which is used to bootstrap, configure, execute and monitor an FL project within FLaaS.</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p"><em id="S2.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">Server</em> (Backend,§ <a href="#S3.SS2" title="3.2. FLaaS Server ‣ 3. FLaaS Back-end Design ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>): A scalable, cloud-hosted service orchestrating and monitoring the FL process on the app developer’s behalf.</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p"><em id="S2.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">Notification Services</em> (Backend,§ <a href="#S3.SS3" title="3.3. Notification Service ‣ 3. FLaaS Back-end Design ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.3</span></a>): Mobile push notification services used for push communications to client devices for new FL projects and rounds execution: typically Apple Push Notification (APNs) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib22" title="" class="ltx_ref">APNs, </a>)</cite> and Firebase Cloud Messaging (FCM) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib23" title="" class="ltx_ref">FCM, </a>)</cite> are used in the mobile context.</p>
</div>
</li>
<li id="S2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i4.p1" class="ltx_para">
<p id="S2.I1.i4.p1.1" class="ltx_p"><em id="S2.I1.i4.p1.1.1" class="ltx_emph ltx_font_italic">Client Devices</em> (§ <a href="#S4" title="4. FLaaS Client Devices ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>): The set of mobile devices that could execute the FL tasks on the apps’ local data.</p>
</div>
</li>
</ul>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">We elaborate on these elements in the next two sections.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>FLaaS Back-end Design</h2>

<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Admin Interface</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">This is the administrator UI for developers to bootstrap, configure, monitor, and terminate an FL project executed within FLaaS.
Developers can use the UI for registering their apps with the system, produce the authentication tokens that will be used in their app and configure the data and model access policies to be enforced by FLaaS at device level.
Thus, they can create new FL projects to be executed from FLaaS-registered devices, make a pre-selection of participating apps and devices, and initiate the FL training process.
For details on device registration with FLaaS see § <a href="#S4" title="4. FLaaS Client Devices ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p">Each app developer interested in running an FL project using FLaaS can configure their project with a number of available system, ML and FL parameters:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_typewriter">ML model architecture:</span> A list of available ML models that can be used in the on-device ML training task.
New models can also be uploaded by the developer, as long as they are supported by the on-device ML training engine.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">ML model training mode:</span> 1) <em id="S3.I1.i2.p1.1.2" class="ltx_emph ltx_font_italic">Single-app (SA)</em> (<em id="S3.I1.i2.p1.1.3" class="ltx_emph ltx_font_italic">i.e.</em>, a model per app); 2) <em id="S3.I1.i2.p1.1.4" class="ltx_emph ltx_font_italic">Joint Samples (JS)</em> (<em id="S3.I1.i2.p1.1.5" class="ltx_emph ltx_font_italic">i.e.</em>, data shared between apps); 3) <em id="S3.I1.i2.p1.1.6" class="ltx_emph ltx_font_italic">Joint Models (JM)</em> (<em id="S3.I1.i2.p1.1.7" class="ltx_emph ltx_font_italic">i.e.</em>, model trained on app’s local data, then model shared between apps, more:§<a href="#S4" title="4. FLaaS Client Devices ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.1" class="ltx_p"><span id="S3.I1.i3.p1.1.1" class="ltx_text ltx_font_typewriter">ML model training epochs:</span> Number of epochs (or iterations) the SGD will be executed on the data of an app, while training the model, during a given FL round.</p>
</div>
</li>
<li id="S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i4.p1" class="ltx_para">
<p id="S3.I1.i4.p1.1" class="ltx_p"><span id="S3.I1.i4.p1.1.1" class="ltx_text ltx_font_typewriter">Policy Management:</span> Depending on model training mode selected, different policy options are available to the developer: how data or model parameters would be shared between which apps, for how long, etc. More: § <a href="#S4" title="4. FLaaS Client Devices ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
</li>
<li id="S3.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i5.p1" class="ltx_para">
<p id="S3.I1.i5.p1.1" class="ltx_p"><span id="S3.I1.i5.p1.1.1" class="ltx_text ltx_font_typewriter">FL training rounds</span>*: Number of iterations of the FL process (<em id="S3.I1.i5.p1.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, global model sent to clients, trained locally, and returned to server for aggregation).</p>
</div>
</li>
<li id="S3.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i6.p1" class="ltx_para">
<p id="S3.I1.i6.p1.1" class="ltx_p"><span id="S3.I1.i6.p1.1.1" class="ltx_text ltx_font_typewriter">FL training round duration</span>*: Maximum time duration that an FL training round can last.</p>
</div>
</li>
<li id="S3.I1.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i7.p1" class="ltx_para">
<p id="S3.I1.i7.p1.1" class="ltx_p"><span id="S3.I1.i7.p1.1.1" class="ltx_text ltx_font_typewriter">FL model loss</span>*: Minimum value of optimization function loss to be achieved by the aggregated FL model.</p>
</div>
</li>
<li id="S3.I1.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i8.p1" class="ltx_para">
<p id="S3.I1.i8.p1.2" class="ltx_p"><span id="S3.I1.i8.p1.2.1" class="ltx_text ltx_font_typewriter">Device power availability:</span> Power of devices that should participate in the FL project: only devices power-plugged AND/OR devices battery-powered, with battery level <math id="S3.I1.i8.p1.1.m1.1" class="ltx_Math" alttext="&gt;X\%" display="inline"><semantics id="S3.I1.i8.p1.1.m1.1a"><mrow id="S3.I1.i8.p1.1.m1.1.1" xref="S3.I1.i8.p1.1.m1.1.1.cmml"><mi id="S3.I1.i8.p1.1.m1.1.1.2" xref="S3.I1.i8.p1.1.m1.1.1.2.cmml"></mi><mo id="S3.I1.i8.p1.1.m1.1.1.1" xref="S3.I1.i8.p1.1.m1.1.1.1.cmml">&gt;</mo><mrow id="S3.I1.i8.p1.1.m1.1.1.3" xref="S3.I1.i8.p1.1.m1.1.1.3.cmml"><mi id="S3.I1.i8.p1.1.m1.1.1.3.2" xref="S3.I1.i8.p1.1.m1.1.1.3.2.cmml">X</mi><mo id="S3.I1.i8.p1.1.m1.1.1.3.1" xref="S3.I1.i8.p1.1.m1.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i8.p1.1.m1.1b"><apply id="S3.I1.i8.p1.1.m1.1.1.cmml" xref="S3.I1.i8.p1.1.m1.1.1"><gt id="S3.I1.i8.p1.1.m1.1.1.1.cmml" xref="S3.I1.i8.p1.1.m1.1.1.1"></gt><csymbol cd="latexml" id="S3.I1.i8.p1.1.m1.1.1.2.cmml" xref="S3.I1.i8.p1.1.m1.1.1.2">absent</csymbol><apply id="S3.I1.i8.p1.1.m1.1.1.3.cmml" xref="S3.I1.i8.p1.1.m1.1.1.3"><csymbol cd="latexml" id="S3.I1.i8.p1.1.m1.1.1.3.1.cmml" xref="S3.I1.i8.p1.1.m1.1.1.3.1">percent</csymbol><ci id="S3.I1.i8.p1.1.m1.1.1.3.2.cmml" xref="S3.I1.i8.p1.1.m1.1.1.3.2">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i8.p1.1.m1.1c">&gt;X\%</annotation></semantics></math> (if defined).
Lower <math id="S3.I1.i8.p1.2.m2.1" class="ltx_Math" alttext="X\%" display="inline"><semantics id="S3.I1.i8.p1.2.m2.1a"><mrow id="S3.I1.i8.p1.2.m2.1.1" xref="S3.I1.i8.p1.2.m2.1.1.cmml"><mi id="S3.I1.i8.p1.2.m2.1.1.2" xref="S3.I1.i8.p1.2.m2.1.1.2.cmml">X</mi><mo id="S3.I1.i8.p1.2.m2.1.1.1" xref="S3.I1.i8.p1.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i8.p1.2.m2.1b"><apply id="S3.I1.i8.p1.2.m2.1.1.cmml" xref="S3.I1.i8.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.I1.i8.p1.2.m2.1.1.1.cmml" xref="S3.I1.i8.p1.2.m2.1.1.1">percent</csymbol><ci id="S3.I1.i8.p1.2.m2.1.1.2.cmml" xref="S3.I1.i8.p1.2.m2.1.1.2">𝑋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i8.p1.2.m2.1c">X\%</annotation></semantics></math> allows more devices to participate.</p>
</div>
</li>
<li id="S3.I1.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i9.p1" class="ltx_para">
<p id="S3.I1.i9.p1.1" class="ltx_p"><span id="S3.I1.i9.p1.1.1" class="ltx_text ltx_font_typewriter">Number of available devices:</span> Number of devices that need to be reached based on the device power availability setting, for an FL training round start request to be sent to available and responded devices.</p>
</div>
</li>
<li id="S3.I1.i10" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i10.p1" class="ltx_para">
<p id="S3.I1.i10.p1.1" class="ltx_p"><span id="S3.I1.i10.p1.1.1" class="ltx_text ltx_font_typewriter">Number of model parameters received:</span> Number of ML model parameters that should be successfully received for an FL training round to be considered valid.</p>
</div>
</li>
</ul>
<p id="S3.SS1.p2.2" class="ltx_p">*: Can be used as a stopping criterion for the FL round.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">When the developer defines a new project using the UI (step 3, Fig. <a href="#S2.F2" title="Figure 2 ‣ 2. System Overview ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), the project is pushed to the <em id="S3.SS1.p3.1.1" class="ltx_emph ltx_font_italic">FLaaS Server</em> (step 4) for (i) storing its configuration, (ii) executing the project in the available client devices, (iii) monitoring the project’s health and progress, (iv) terminating the project when stopping criteria are reached.
The Admin UI is highly scalable using a Load Balancer to accommodate concurrent developers managing their FLaaS projects.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>FLaaS Server</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">It is a cloud-hosted service in charge of executing the FL project previously created at the Admin Interface, while coordinating the Client Devices.
It consists of the following modules:
1) Database, 2) Device Schedulers, 3) Model Aggregator, 4) Device Workers.
Next, we explain each.</p>
</div>
<section id="S3.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.1. </span>Database (DB)</h4>

<div id="S3.SS2.SSS1.p1" class="ltx_para">
<p id="S3.SS2.SSS1.p1.1" class="ltx_p">The system requires two separate databases responsible for storing and querying data: a <em id="S3.SS2.SSS1.p1.1.1" class="ltx_emph ltx_font_italic">Relational DB</em> and an <em id="S3.SS2.SSS1.p1.1.2" class="ltx_emph ltx_font_italic">Object Storage DB</em>.
On the one hand, the <em id="S3.SS2.SSS1.p1.1.3" class="ltx_emph ltx_font_italic">Relational DB</em> is an SQL-based database for hosting project-related metadata.
These include the FL project configuration as defined by the developer through the Admin Interface, information reported by the devices (<em id="S3.SS2.SSS1.p1.1.4" class="ltx_emph ltx_font_italic">e.g.</em>, power availability, status, step 1+2), authentication credentials, project status (training or waiting), etc.
On the other hand, <em id="S3.SS2.SSS1.p1.1.5" class="ltx_emph ltx_font_italic">Object Storage DB</em> is a file storage for hosting files.
These include the ML model parameters received by Client Devices, ML performance results, ML performance plots created and to be shown to the developer via the Admin Interface, etc.</p>
</div>
</section>
<section id="S3.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.2. </span>Device Schedulers</h4>

<div id="S3.SS2.SSS2.p1" class="ltx_para">
<p id="S3.SS2.SSS2.p1.2" class="ltx_p">This is a set of workers, one per FL project, configured to be executed every <math id="S3.SS2.SSS2.p1.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.SSS2.p1.1.m1.1a"><mi id="S3.SS2.SSS2.p1.1.m1.1.1" xref="S3.SS2.SSS2.p1.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.1.m1.1b"><ci id="S3.SS2.SSS2.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p1.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.1.m1.1c">T</annotation></semantics></math> minutes.
<math id="S3.SS2.SSS2.p1.2.m2.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS2.SSS2.p1.2.m2.1a"><mi id="S3.SS2.SSS2.p1.2.m2.1.1" xref="S3.SS2.SSS2.p1.2.m2.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p1.2.m2.1b"><ci id="S3.SS2.SSS2.p1.2.m2.1.1.cmml" xref="S3.SS2.SSS2.p1.2.m2.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p1.2.m2.1c">T</annotation></semantics></math> can be set by the system administrator depending on the FL project load, device availability and FL project requirements.
The role of this module is to verify the status of all active FL projects, which can either be at <em id="S3.SS2.SSS2.p1.2.1" class="ltx_emph ltx_font_italic">waiting</em> or <em id="S3.SS2.SSS2.p1.2.2" class="ltx_emph ltx_font_italic">training</em> mode, and execute the related management tasks per project.
Each new FL project has an initial state of <em id="S3.SS2.SSS2.p1.2.3" class="ltx_emph ltx_font_italic">waiting</em> and for the scheduler there are two possible conditions:</p>
</div>
<div id="S3.SS2.SSS2.p2" class="ltx_para ltx_noindent">
<p id="S3.SS2.SSS2.p2.1" class="ltx_p"><span id="S3.SS2.SSS2.p2.1.1" class="ltx_text ltx_font_bold">1. FL project is in <em id="S3.SS2.SSS2.p2.1.1.1" class="ltx_emph ltx_font_italic">waiting</em> state.</span> In this case, the scheduler executes a query on the Relational DB to identify how many devices meet the <span id="S3.SS2.SSS2.p2.1.2" class="ltx_text ltx_font_typewriter">device power availability</span> criterion defined by the developer via the Admin Interface. This query also returns the list of devices available across the system that have the desired power status (battery of at least <math id="S3.SS2.SSS2.p2.1.m1.1" class="ltx_Math" alttext="X\%" display="inline"><semantics id="S3.SS2.SSS2.p2.1.m1.1a"><mrow id="S3.SS2.SSS2.p2.1.m1.1.1" xref="S3.SS2.SSS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.SSS2.p2.1.m1.1.1.2" xref="S3.SS2.SSS2.p2.1.m1.1.1.2.cmml">X</mi><mo id="S3.SS2.SSS2.p2.1.m1.1.1.1" xref="S3.SS2.SSS2.p2.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS2.p2.1.m1.1b"><apply id="S3.SS2.SSS2.p2.1.m1.1.1.cmml" xref="S3.SS2.SSS2.p2.1.m1.1.1"><csymbol cd="latexml" id="S3.SS2.SSS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.SSS2.p2.1.m1.1.1.1">percent</csymbol><ci id="S3.SS2.SSS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.SSS2.p2.1.m1.1.1.2">𝑋</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS2.p2.1.m1.1c">X\%</annotation></semantics></math> and/or plugged-in), for an FL training round to be performed for the specific FL project. If the criterion is reached, a new FL round can start: the specific scheduler changes the state of the FL project to <em id="S3.SS2.SSS2.p2.1.3" class="ltx_emph ltx_font_italic">training</em>, stores this information to the Relational DB for future reference and sends a <em id="S3.SS2.SSS2.p2.1.4" class="ltx_emph ltx_font_italic">Device FL Training Request</em> through the <em id="S3.SS2.SSS2.p2.1.5" class="ltx_emph ltx_font_italic">Notification Service</em> to the devices identified as available (see next paragraph for details).</p>
</div>
<div id="S3.SS2.SSS2.p3" class="ltx_para ltx_noindent">
<p id="S3.SS2.SSS2.p3.1" class="ltx_p"><span id="S3.SS2.SSS2.p3.1.1" class="ltx_text ltx_font_bold">2. FL project is in <em id="S3.SS2.SSS2.p3.1.1.1" class="ltx_emph ltx_font_italic">training</em> state.</span> In this case, the <em id="S3.SS2.SSS2.p3.1.2" class="ltx_emph ltx_font_italic">Device Scheduler</em> checks how many model training responses (model training parameters and on-device ML performance results) have been received from devices.
If the FL round is <em id="S3.SS2.SSS2.p3.1.3" class="ltx_emph ltx_font_italic">completed</em> (<em id="S3.SS2.SSS2.p3.1.4" class="ltx_emph ltx_font_italic">i.e.</em>, enough models were received), the <em id="S3.SS2.SSS2.p3.1.5" class="ltx_emph ltx_font_italic">Device Scheduler</em> requests from the <em id="S3.SS2.SSS2.p3.1.6" class="ltx_emph ltx_font_italic">Model Aggregator</em> to apply Federated Aggregation (FedAvg) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib30" title="" class="ltx_ref">mcmahan2017-FL, </a>)</cite> to the parameters of received models to generate a new global FL model (see details next), and sets the project in <em id="S3.SS2.SSS2.p3.1.7" class="ltx_emph ltx_font_italic">waiting</em> state to begin a new round.</p>
</div>
<div id="S3.SS2.SSS2.p4" class="ltx_para">
<p id="S3.SS2.SSS2.p4.1" class="ltx_p">An alternative option supported by the system is to wait for <span id="S3.SS2.SSS2.p4.1.1" class="ltx_text ltx_font_typewriter">FL training round duration</span> expiration before it performs FedAvg and subsequent steps: this would potentially collect more models from clients thus improving accuracy, but would extend the round duration to its maximum.
If this duration is reached and there are not enough ML models received (as defined earlier), the specific FL round is marked as <em id="S3.SS2.SSS2.p4.1.2" class="ltx_emph ltx_font_italic">invalid</em>, and the project is set to <em id="S3.SS2.SSS2.p4.1.3" class="ltx_emph ltx_font_italic">waiting</em> state to begin a new FL round.</p>
</div>
<div id="S3.SS2.SSS2.p5" class="ltx_para">
<p id="S3.SS2.SSS2.p5.1" class="ltx_p">This iterative process is followed until the requirement of number of FL rounds is fulfilled.
Alternatively, the developer may also define a desired <span id="S3.SS2.SSS2.p5.1.1" class="ltx_text ltx_font_typewriter">FL model loss</span> for the project to be reached, before it is completed.
If this parameter is set, at the end of each round, the scheduler also requires from the <em id="S3.SS2.SSS2.p5.1.2" class="ltx_emph ltx_font_italic">Model Aggregator</em> to assess the global ML model’s performance such as test accuracy (evaluated at the Server) and optimization function loss (as reported by the Client Devices), and persists them on the Object Storage DB.
Thus, the Scheduler continues to initialize FL training rounds for the specific project until any of the desired model loss or rounds are reached.</p>
</div>
</section>
<section id="S3.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.3. </span>Model Aggregator</h4>

<div id="S3.SS2.SSS3.p1" class="ltx_para">
<p id="S3.SS2.SSS3.p1.1" class="ltx_p">This component requests from the <em id="S3.SS2.SSS3.p1.1.1" class="ltx_emph ltx_font_italic">Object Storage DB</em> for all ML model parameters (weights) reported by devices for a specific FL project and FL round.
Then, it accumulates and applies the FedAvg algorithm in order to produce the global FL model of the next (or final) FL round of the given project.
Optionally, Global <math id="S3.SS2.SSS3.p1.1.m1.1" class="ltx_Math" alttext="DP" display="inline"><semantics id="S3.SS2.SSS3.p1.1.m1.1a"><mrow id="S3.SS2.SSS3.p1.1.m1.1.1" xref="S3.SS2.SSS3.p1.1.m1.1.1.cmml"><mi id="S3.SS2.SSS3.p1.1.m1.1.1.2" xref="S3.SS2.SSS3.p1.1.m1.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S3.SS2.SSS3.p1.1.m1.1.1.1" xref="S3.SS2.SSS3.p1.1.m1.1.1.1.cmml">​</mo><mi id="S3.SS2.SSS3.p1.1.m1.1.1.3" xref="S3.SS2.SSS3.p1.1.m1.1.1.3.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.SSS3.p1.1.m1.1b"><apply id="S3.SS2.SSS3.p1.1.m1.1.1.cmml" xref="S3.SS2.SSS3.p1.1.m1.1.1"><times id="S3.SS2.SSS3.p1.1.m1.1.1.1.cmml" xref="S3.SS2.SSS3.p1.1.m1.1.1.1"></times><ci id="S3.SS2.SSS3.p1.1.m1.1.1.2.cmml" xref="S3.SS2.SSS3.p1.1.m1.1.1.2">𝐷</ci><ci id="S3.SS2.SSS3.p1.1.m1.1.1.3.cmml" xref="S3.SS2.SSS3.p1.1.m1.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.SSS3.p1.1.m1.1c">DP</annotation></semantics></math> applied in a centralized fashion <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib17" title="" class="ltx_ref">geyer2017FL-DP-central, </a>)</cite> can be enforced to the produced model for protecting the users’ privacy from relevant model attacks, such as inference attacks <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib20" title="" class="ltx_ref">hitaj2017deep, </a>; <a href="#bib.bib31" title="" class="ltx_ref">melis2019exploiting, </a>)</cite> and other types of attacks <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib20" title="" class="ltx_ref">hitaj2017deep, </a>; <a href="#bib.bib31" title="" class="ltx_ref">melis2019exploiting, </a>)</cite>.</p>
</div>
</section>
<section id="S3.SS2.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.4. </span>Device Workers</h4>

<div id="S3.SS2.SSS4.p1" class="ltx_para">
<p id="S3.SS2.SSS4.p1.1" class="ltx_p">This module contains a series of containerized workers
responsible for interacting with the client devices for FL model training assigning and responses received.
Each worker includes a dedicated REST-based communication API that allows the interaction of the worker with the client devices involved in a particular FL project.
Such interaction is initiated by the client device (<em id="S3.SS2.SSS4.p1.1.1" class="ltx_emph ltx_font_italic">e.g.</em>, to report its device status).
However, it can also be indirectly triggered by the Server through a push notification (<em id="S3.SS2.SSS4.p1.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, a training request) to the device, that in turn contacts the Server.
Which worker to handle what FL project is decided by the system Load Balancer, as explained in the next paragraph.
Each worker includes the following REST endpoints, all exposed to the client devices using a token-based authentication:</p>
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p id="S3.I2.i1.p1.1" class="ltx_p"><span id="S3.I2.i1.p1.1.1" class="ltx_text ltx_font_typewriter">Report Availability</span>: Device status (<em id="S3.I2.i1.p1.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, battery level, charging state, memory available, etc.) reported to the system and used by the Device Scheduler to find opportune moments for requesting device training tasks.</p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i2.p1" class="ltx_para">
<p id="S3.I2.i2.p1.1" class="ltx_p"><span id="S3.I2.i2.p1.1.1" class="ltx_text ltx_font_typewriter">Get model</span>: Download the model’s parameters of a particular round of a project.</p>
</div>
</li>
<li id="S3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i3.p1" class="ltx_para">
<p id="S3.I2.i3.p1.1" class="ltx_p"><span id="S3.I2.i3.p1.1.1" class="ltx_text ltx_font_typewriter">Join Round</span>: Declares that a device has received the training request and will execute the requested training task of a particular round.</p>
</div>
</li>
<li id="S3.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i4.p1" class="ltx_para">
<p id="S3.I2.i4.p1.1" class="ltx_p"><span id="S3.I2.i4.p1.1.1" class="ltx_text ltx_font_typewriter">Submit Model</span>: Upload the parameters of a trained model to the server.</p>
</div>
</li>
<li id="S3.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i5.p1" class="ltx_para">
<p id="S3.I2.i5.p1.1" class="ltx_p"><span id="S3.I2.i5.p1.1.1" class="ltx_text ltx_font_typewriter">Submit Results</span>: Upload training results (<em id="S3.I2.i5.p1.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, loss, device performance during training, etc.) to the server.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S3.SS2.SSS5" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">3.2.5. </span>Load Balancer</h4>

<div id="S3.SS2.SSS5.p1" class="ltx_para">
<p id="S3.SS2.SSS5.p1.1" class="ltx_p">This is the entry point of the Server when interacting with the Client Devices.
It automatically distributes all HTTP(S) requests sent to the Server’s hostname(s) to the Device Workers.
It also monitors the performance of the Device Workers and automatically creates new instances when required (<em id="S3.SS2.SSS5.p1.1.1" class="ltx_emph ltx_font_italic">i.e.</em>, when the Server is under heavy network traffic load due to several, simultaneous devices reporting status, models, results, etc.).</p>
</div>
</section>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Notification Service</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">The Notification Service (NS) is used for secure, asynchronous, and one-way communication from the Server to Client Devices.
While it can generally depend on various types of technologies (<em id="S3.SS3.p1.1.1" class="ltx_emph ltx_font_italic">e.g.</em>, message brokers, TCP connections, etc.), in the context of mobile computing it takes the form of a Push NS.
These are cloud-based, highly efficient services for iOS and Android to propagate information to a previously registered mobile app, either in a form of a visual popup, but also invisible (silent) notifications that deliver JSON structured data to an app.
They use secure TCP communication to directly push data to a device’s registered app through dedicated cloud services provided by Apple (APNs) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib22" title="" class="ltx_ref">APNs, </a>)</cite> and Google (FCM) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib23" title="" class="ltx_ref">FCM, </a>)</cite>.
To utilize such services, a NS Provider is required: either custom made or an existing one (<em id="S3.SS3.p1.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, Amazon SNS, Pushwoosh, etc.).
Silent notifications (<em id="S3.SS3.p1.1.3" class="ltx_emph ltx_font_italic">i.e.</em>, notifications that do not appear to the user but wake up the app in the background) are usually received with an unspecified delay from the app.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p">In our system, such communication is used for sending FL training requests to the participating devices.
Each training request sent to devices consists of the following fields:</p>
<ul id="S3.I3" class="ltx_itemize">
<li id="S3.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i1.p1" class="ltx_para">
<p id="S3.I3.i1.p1.1" class="ltx_p"><span id="S3.I3.i1.p1.1.1" class="ltx_text ltx_font_typewriter">Request ID</span>: A unique ID per request.</p>
</div>
</li>
<li id="S3.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i2.p1" class="ltx_para">
<p id="S3.I3.i2.p1.1" class="ltx_p"><span id="S3.I3.i2.p1.1.1" class="ltx_text ltx_font_typewriter">Expiration Date</span>: The date after which the request will be ignored from the participating device.</p>
</div>
</li>
<li id="S3.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i3.p1" class="ltx_para">
<p id="S3.I3.i3.p1.1" class="ltx_p"><span id="S3.I3.i3.p1.1.1" class="ltx_text ltx_font_typewriter">Project ID</span>: A unique ID of the FL project that the ML training will be conducted.</p>
</div>
</li>
<li id="S3.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i4.p1" class="ltx_para">
<p id="S3.I3.i4.p1.1" class="ltx_p"><span id="S3.I3.i4.p1.1.1" class="ltx_text ltx_font_typewriter">FL round</span>: The round for which this request is relevant.</p>
</div>
</li>
<li id="S3.I3.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I3.i5.p1" class="ltx_para">
<p id="S3.I3.i5.p1.1" class="ltx_p"><span id="S3.I3.i5.p1.1.1" class="ltx_text ltx_font_typewriter">ML training mode</span>: A selection between Joint Samples (JS) or Joint Models (JM), as explained in § <a href="#S4" title="4. FLaaS Client Devices ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.1" class="ltx_p">As it is apparent from the information included in each notification, these messages from the Notification Service are used to alert the devices of pending FL training tasks in the system, that they can contribute to if available.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.4. </span>Back-end Implementation</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">The Admin Interface and Server are hosted in Heroku Cloud Application platform <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib1" title="" class="ltx_ref">heroku, </a>)</cite>, under the EU region.
The platform uses Linux-based shared containers called <em id="S3.SS4.p1.1.1" class="ltx_emph ltx_font_italic">Dynos</em> to enable easy deployment and scaling of the system modules.
In fact, we use Standard-1X Dynos (512MB RAM) and leverage platform load balancing and scheduling functions.
The NS Provider is hosted in a separate organization domain (Pushwoosh <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib3" title="" class="ltx_ref">pushwoosh, </a>)</cite>).
Overall, the back-end is implemented in 1.6k lines of Python code.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para ltx_noindent">
<p id="S3.SS4.p2.1" class="ltx_p"><span id="S3.SS4.p2.1.1" class="ltx_text ltx_font_bold">Admin Interface:</span>
This module is hosted on Heroku using the gunicorn web server v20.1.0.
An instantiation of the Web interface is executed inside a Web Dyno container.
A Heroku Load Balancer allows scaling to more Dynos to accommodate concurrent developers interacting with FLaaS.</p>
</div>
<div id="S3.SS4.p3" class="ltx_para ltx_noindent">
<p id="S3.SS4.p3.1" class="ltx_p"><span id="S3.SS4.p3.1.1" class="ltx_text ltx_font_bold">Databases:</span>
All data are stored into two separate databases, as explained earlier.
A PostgreSQL v13.4 instance is used for the Relational DB, and an Amazon S3 Data Store is used as an Object Storage DB.</p>
</div>
<div id="S3.SS4.p4" class="ltx_para ltx_noindent">
<p id="S3.SS4.p4.1" class="ltx_p"><span id="S3.SS4.p4.1.1" class="ltx_text ltx_font_bold">Device Schedulers:</span>
Each scheduler is implemented within a separate one-off (worker) Dyno that is only instantiated periodically every <math id="S3.SS4.p4.1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S3.SS4.p4.1.m1.1a"><mi id="S3.SS4.p4.1.m1.1.1" xref="S3.SS4.p4.1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.1.m1.1b"><ci id="S3.SS4.p4.1.m1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.1.m1.1c">T</annotation></semantics></math> minutes, as defined earlier.
This periodic launching is handled by the <em id="S3.SS4.p4.1.2" class="ltx_emph ltx_font_italic">Heroku Scheduler service</em>, by starting a new Dyno (one per FL project) to perform its assigned tasks:
1) start a new or pending FL round (if device availability requirement is met),
2) stop an earlier FL round if completion criteria have been met,
3) launch the Model Aggregator for preparation of new global model,
4) terminate the FL project if completion criteria have been met.</p>
</div>
<div id="S3.SS4.p5" class="ltx_para ltx_noindent">
<p id="S3.SS4.p5.1" class="ltx_p"><span id="S3.SS4.p5.1.1" class="ltx_text ltx_font_bold">Device Workers:</span>
Each Worker is implemented within a separate, continuously running Web Dyno.
All HTTPS traffic is handled by a Load Balancer instantiating new Dynos to handle elevated incoming workload from Devices.
Each Device Worker uses Django v3.2 under Python v3.8.12 and has a dedicated REST API based on Django REST framework v3.12.4.
Communication between Device Workers and Client Devices is encrypted using TLS v1.3 over HTTPS.</p>
</div>
<div id="S3.SS4.p6" class="ltx_para ltx_noindent">
<p id="S3.SS4.p6.1" class="ltx_p"><span id="S3.SS4.p6.1.1" class="ltx_text ltx_font_bold">Notification Service Provider:</span>
We use the Pushwoosh push notification services <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib3" title="" class="ltx_ref">pushwoosh, </a>)</cite> configured with both FCM (for Android devices) and APN (for future extension to iOS).</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>FLaaS Client Devices</h2>

<figure id="S4.F3" class="ltx_figure"><img src="/html/2206.10963/assets/x3.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="184" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>. </span><span id="S4.F3.3.2" class="ltx_text" style="font-size:90%;">Inter and intra-app modules on Client Devices</span></figcaption>
</figure>
<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">The most important piece of FLaaS is the set of client devices in charge of computing the ML training tasks orchestrated by the Server for the execution of an FL project.
On such devices, there are two main modules: Local and Library (Lib).
These modules facilitate on-device functionalities (Figure <a href="#S4.F3" title="Figure 3 ‣ 4. FLaaS Client Devices ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>): App authentication, inter-app communication, access policy management, ML model training, data storing, and status reporting.
Each function is elaborated next.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>FLaaS Local</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">This is a standalone service that needs to be installed on the device and provides the core FL functionality to the device in accordance with requests sent by the Server.
We do not make any assumption on how this service is installed.
We envision this service can be pre-installed on the device by the device or OS manufacturer or provider.
Alternatively, an interested third-party app developer can recruit a device owner to install its app with proper user incentives (<em id="S4.SS1.p1.1.1" class="ltx_emph ltx_font_italic">e.g.</em>, promise of better app experience due to ML model personalized on user data).</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">Local provides authentication and secure communication of the device to the Server, and periodically reports the device status (akin to a heartbeat), with different details such as battery level, charging state, connectivity state, to the Server for consideration.
The set of statuses from all participating client devices is in fact the one collected and analyzed by the Server to decide which devices to invite for upcoming FL training tasks (as explained in § <a href="#S3.SS2.SSS2" title="3.2.2. Device Schedulers ‣ 3.2. FLaaS Server ‣ 3. FLaaS Back-end Design ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2.2</span></a>).</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">Local is also the module that receives messages from the <em id="S4.SS1.p3.1.1" class="ltx_emph ltx_font_italic">Notification Service</em> with configurations for pending FL project tasks related to specific third-party apps.
These task configurations are then communicated to the appropriate apps for execution, within their Library (see next).</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>FLaaS Library</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">This is a mobile app library integrated within each FLaaS-enabled third-party app willing to participate in FL training processes.
This library has a set of simple APIs that are called by the developer in the app code.
More particularly, the API consists of calls to register the app’s secure token (created through the Admin Interface) and to provide controlled (secured through policies) access to data the app is willing to share.
Under the hood, it implements a set of functions that allows the app to securely communicate with Local to receive ML modeling configurations based on FL project of relevance to the app, execute the appropriate on-device ML training, and share data or model parameters with Local.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>FLaaS Security</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">Our system depends on two communication channels:</p>
</div>
<div id="S4.SS3.p2" class="ltx_para ltx_noindent">
<p id="S4.SS3.p2.1" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold">Back-end communication</span> of Server with each user’s Local.
Security, integrity, and confidentiality are automatically enforced using secure <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="TLS" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mrow id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><mi id="S4.SS3.p2.1.m1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.2.cmml">T</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p2.1.m1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.cmml">​</mo><mi id="S4.SS3.p2.1.m1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.3.cmml">L</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p2.1.m1.1.1.1a" xref="S4.SS3.p2.1.m1.1.1.1.cmml">​</mo><mi id="S4.SS3.p2.1.m1.1.1.4" xref="S4.SS3.p2.1.m1.1.1.4.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><times id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1"></times><ci id="S4.SS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2">𝑇</ci><ci id="S4.SS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.3">𝐿</ci><ci id="S4.SS3.p2.1.m1.1.1.4.cmml" xref="S4.SS3.p2.1.m1.1.1.4">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">TLS</annotation></semantics></math> communication.
Device authentication is implemented using a set of pre-installed authentication tokens, saved within the device’s keystore system (<em id="S4.SS3.p2.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, Android keystore or iOS keychain).</p>
</div>
<div id="S4.SS3.p3" class="ltx_para ltx_noindent">
<p id="S4.SS3.p3.1" class="ltx_p"><span id="S4.SS3.p3.1.1" class="ltx_text ltx_font_bold">Inter-app communication</span> between Local and third-party apps.
An app authenticates with the Server via its Library through the Local, to enable inter-app communication and collaborative ML model training.
We use a symmetric key approach <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib46" title="" class="ltx_ref">yassein2017symmetric, </a>)</cite>, based on authentication tokens produced by the Developer through the Admin Interface and also securely stored to the device’s keystore system.
Each token has an expiration date but can also be invalidated by Local at any moment a developer needs to.
All communication takes place within the device and can support encrypted numerical, text and binary types of data.
The purpose of this channel, materialized via the Library instantiated in each app and Local, is to enable communication between Local and apps, and communicate project-related settings, get training samples, or trained models, etc.
In the future, we will explore advanced cryptographic methods using public key cryptography with external certification authority.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>On-device ML Training</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.3" class="ltx_p">We assume a set of apps, <math id="S4.SS4.p1.1.m1.1" class="ltx_Math" alttext="i\in\mathbb{N}" display="inline"><semantics id="S4.SS4.p1.1.m1.1a"><mrow id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml"><mi id="S4.SS4.p1.1.m1.1.1.2" xref="S4.SS4.p1.1.m1.1.1.2.cmml">i</mi><mo id="S4.SS4.p1.1.m1.1.1.1" xref="S4.SS4.p1.1.m1.1.1.1.cmml">∈</mo><mi id="S4.SS4.p1.1.m1.1.1.3" xref="S4.SS4.p1.1.m1.1.1.3.cmml">ℕ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><apply id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1"><in id="S4.SS4.p1.1.m1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1.1"></in><ci id="S4.SS4.p1.1.m1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.1.1.2">𝑖</ci><ci id="S4.SS4.p1.1.m1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.1.1.3">ℕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">i\in\mathbb{N}</annotation></semantics></math>, installed on device <math id="S4.SS4.p1.2.m2.1" class="ltx_Math" alttext="k\in\mathbb{K}" display="inline"><semantics id="S4.SS4.p1.2.m2.1a"><mrow id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml"><mi id="S4.SS4.p1.2.m2.1.1.2" xref="S4.SS4.p1.2.m2.1.1.2.cmml">k</mi><mo id="S4.SS4.p1.2.m2.1.1.1" xref="S4.SS4.p1.2.m2.1.1.1.cmml">∈</mo><mi id="S4.SS4.p1.2.m2.1.1.3" xref="S4.SS4.p1.2.m2.1.1.3.cmml">𝕂</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><apply id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1"><in id="S4.SS4.p1.2.m2.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1"></in><ci id="S4.SS4.p1.2.m2.1.1.2.cmml" xref="S4.SS4.p1.2.m2.1.1.2">𝑘</ci><ci id="S4.SS4.p1.2.m2.1.1.3.cmml" xref="S4.SS4.p1.2.m2.1.1.3">𝕂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">k\in\mathbb{K}</annotation></semantics></math>, are interested in building <math id="S4.SS4.p1.3.m3.1" class="ltx_Math" alttext="FL" display="inline"><semantics id="S4.SS4.p1.3.m3.1a"><mrow id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml"><mi id="S4.SS4.p1.3.m3.1.1.2" xref="S4.SS4.p1.3.m3.1.1.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p1.3.m3.1.1.1" xref="S4.SS4.p1.3.m3.1.1.1.cmml">​</mo><mi id="S4.SS4.p1.3.m3.1.1.3" xref="S4.SS4.p1.3.m3.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><apply id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1"><times id="S4.SS4.p1.3.m3.1.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1.1"></times><ci id="S4.SS4.p1.3.m3.1.1.2.cmml" xref="S4.SS4.p1.3.m3.1.1.2">𝐹</ci><ci id="S4.SS4.p1.3.m3.1.1.3.cmml" xref="S4.SS4.p1.3.m3.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">FL</annotation></semantics></math> models with FLaaS.
There are two types of ML training supported by FLaaS and executed on the client devices: Single-app and Cross-app FL modeling.
Both options require ML modeling at the app or at Local level.
This is performed by an on-device ML training engine that exists in the Library.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para ltx_noindent">
<p id="S4.SS4.p2.2" class="ltx_p"><span id="S4.SS4.p2.2.1" class="ltx_text ltx_font_bold">1. Single-app FL modeling.</span>
In this case, each app <math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mi id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><ci id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">i</annotation></semantics></math> of device <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><mi id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><ci id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">k</annotation></semantics></math> trains a model on its own data only.
The starting configuration for this training is received by the Library of the specific app involved, and includes the base model to be trained, access policy requirements on the local data to be used (see details next), and model hyperparameters.
If the developer requires DP-noise to be injected, this is done at this ML training stage.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.4" class="ltx_p">After local training is done, each app sends to Local its model built: <math id="S4.SS4.p3.1.m1.3" class="ltx_Math" alttext="F^{i}_{k}(w),\forall i\in\mathbb{N}" display="inline"><semantics id="S4.SS4.p3.1.m1.3a"><mrow id="S4.SS4.p3.1.m1.3.3" xref="S4.SS4.p3.1.m1.3.3.cmml"><mrow id="S4.SS4.p3.1.m1.3.3.2.2" xref="S4.SS4.p3.1.m1.3.3.2.3.cmml"><mrow id="S4.SS4.p3.1.m1.2.2.1.1.1" xref="S4.SS4.p3.1.m1.2.2.1.1.1.cmml"><msubsup id="S4.SS4.p3.1.m1.2.2.1.1.1.2" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2.cmml"><mi id="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.2" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.2.cmml">F</mi><mi id="S4.SS4.p3.1.m1.2.2.1.1.1.2.3" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2.3.cmml">k</mi><mi id="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.3" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.3.cmml">i</mi></msubsup><mo lspace="0em" rspace="0em" id="S4.SS4.p3.1.m1.2.2.1.1.1.1" xref="S4.SS4.p3.1.m1.2.2.1.1.1.1.cmml">​</mo><mrow id="S4.SS4.p3.1.m1.2.2.1.1.1.3.2" xref="S4.SS4.p3.1.m1.2.2.1.1.1.cmml"><mo stretchy="false" id="S4.SS4.p3.1.m1.2.2.1.1.1.3.2.1" xref="S4.SS4.p3.1.m1.2.2.1.1.1.cmml">(</mo><mi id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">w</mi><mo stretchy="false" id="S4.SS4.p3.1.m1.2.2.1.1.1.3.2.2" xref="S4.SS4.p3.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p3.1.m1.3.3.2.2.3" xref="S4.SS4.p3.1.m1.3.3.2.3.cmml">,</mo><mrow id="S4.SS4.p3.1.m1.3.3.2.2.2" xref="S4.SS4.p3.1.m1.3.3.2.2.2.cmml"><mo rspace="0.167em" id="S4.SS4.p3.1.m1.3.3.2.2.2.1" xref="S4.SS4.p3.1.m1.3.3.2.2.2.1.cmml">∀</mo><mi id="S4.SS4.p3.1.m1.3.3.2.2.2.2" xref="S4.SS4.p3.1.m1.3.3.2.2.2.2.cmml">i</mi></mrow></mrow><mo id="S4.SS4.p3.1.m1.3.3.3" xref="S4.SS4.p3.1.m1.3.3.3.cmml">∈</mo><mi id="S4.SS4.p3.1.m1.3.3.4" xref="S4.SS4.p3.1.m1.3.3.4.cmml">ℕ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.3b"><apply id="S4.SS4.p3.1.m1.3.3.cmml" xref="S4.SS4.p3.1.m1.3.3"><in id="S4.SS4.p3.1.m1.3.3.3.cmml" xref="S4.SS4.p3.1.m1.3.3.3"></in><list id="S4.SS4.p3.1.m1.3.3.2.3.cmml" xref="S4.SS4.p3.1.m1.3.3.2.2"><apply id="S4.SS4.p3.1.m1.2.2.1.1.1.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1"><times id="S4.SS4.p3.1.m1.2.2.1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1.1"></times><apply id="S4.SS4.p3.1.m1.2.2.1.1.1.2.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.2.2.1.1.1.2.1.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2">subscript</csymbol><apply id="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.1.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2">superscript</csymbol><ci id="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.2">𝐹</ci><ci id="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.3.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS4.p3.1.m1.2.2.1.1.1.2.3.cmml" xref="S4.SS4.p3.1.m1.2.2.1.1.1.2.3">𝑘</ci></apply><ci id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">𝑤</ci></apply><apply id="S4.SS4.p3.1.m1.3.3.2.2.2.cmml" xref="S4.SS4.p3.1.m1.3.3.2.2.2"><csymbol cd="latexml" id="S4.SS4.p3.1.m1.3.3.2.2.2.1.cmml" xref="S4.SS4.p3.1.m1.3.3.2.2.2.1">for-all</csymbol><ci id="S4.SS4.p3.1.m1.3.3.2.2.2.2.cmml" xref="S4.SS4.p3.1.m1.3.3.2.2.2.2">𝑖</ci></apply></list><ci id="S4.SS4.p3.1.m1.3.3.4.cmml" xref="S4.SS4.p3.1.m1.3.3.4">ℕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.3c">F^{i}_{k}(w),\forall i\in\mathbb{N}</annotation></semantics></math>.
When Local has all such models from unique apps, it compresses and transmits them to FLaaS Global.
Global performs FedAVG across all reported local models of app <math id="S4.SS4.p3.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.SS4.p3.2.m2.1a"><mi id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.1b"><ci id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.1c">i</annotation></semantics></math> (i.e., <math id="S4.SS4.p3.3.m3.3" class="ltx_Math" alttext="F^{i}_{k}(w),\forall k\in\mathbb{K}" display="inline"><semantics id="S4.SS4.p3.3.m3.3a"><mrow id="S4.SS4.p3.3.m3.3.3" xref="S4.SS4.p3.3.m3.3.3.cmml"><mrow id="S4.SS4.p3.3.m3.3.3.2.2" xref="S4.SS4.p3.3.m3.3.3.2.3.cmml"><mrow id="S4.SS4.p3.3.m3.2.2.1.1.1" xref="S4.SS4.p3.3.m3.2.2.1.1.1.cmml"><msubsup id="S4.SS4.p3.3.m3.2.2.1.1.1.2" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2.cmml"><mi id="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.2" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.2.cmml">F</mi><mi id="S4.SS4.p3.3.m3.2.2.1.1.1.2.3" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2.3.cmml">k</mi><mi id="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.3" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.3.cmml">i</mi></msubsup><mo lspace="0em" rspace="0em" id="S4.SS4.p3.3.m3.2.2.1.1.1.1" xref="S4.SS4.p3.3.m3.2.2.1.1.1.1.cmml">​</mo><mrow id="S4.SS4.p3.3.m3.2.2.1.1.1.3.2" xref="S4.SS4.p3.3.m3.2.2.1.1.1.cmml"><mo stretchy="false" id="S4.SS4.p3.3.m3.2.2.1.1.1.3.2.1" xref="S4.SS4.p3.3.m3.2.2.1.1.1.cmml">(</mo><mi id="S4.SS4.p3.3.m3.1.1" xref="S4.SS4.p3.3.m3.1.1.cmml">w</mi><mo stretchy="false" id="S4.SS4.p3.3.m3.2.2.1.1.1.3.2.2" xref="S4.SS4.p3.3.m3.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p3.3.m3.3.3.2.2.3" xref="S4.SS4.p3.3.m3.3.3.2.3.cmml">,</mo><mrow id="S4.SS4.p3.3.m3.3.3.2.2.2" xref="S4.SS4.p3.3.m3.3.3.2.2.2.cmml"><mo rspace="0.167em" id="S4.SS4.p3.3.m3.3.3.2.2.2.1" xref="S4.SS4.p3.3.m3.3.3.2.2.2.1.cmml">∀</mo><mi id="S4.SS4.p3.3.m3.3.3.2.2.2.2" xref="S4.SS4.p3.3.m3.3.3.2.2.2.2.cmml">k</mi></mrow></mrow><mo id="S4.SS4.p3.3.m3.3.3.3" xref="S4.SS4.p3.3.m3.3.3.3.cmml">∈</mo><mi id="S4.SS4.p3.3.m3.3.3.4" xref="S4.SS4.p3.3.m3.3.3.4.cmml">𝕂</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.3.m3.3b"><apply id="S4.SS4.p3.3.m3.3.3.cmml" xref="S4.SS4.p3.3.m3.3.3"><in id="S4.SS4.p3.3.m3.3.3.3.cmml" xref="S4.SS4.p3.3.m3.3.3.3"></in><list id="S4.SS4.p3.3.m3.3.3.2.3.cmml" xref="S4.SS4.p3.3.m3.3.3.2.2"><apply id="S4.SS4.p3.3.m3.2.2.1.1.1.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1"><times id="S4.SS4.p3.3.m3.2.2.1.1.1.1.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1.1"></times><apply id="S4.SS4.p3.3.m3.2.2.1.1.1.2.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p3.3.m3.2.2.1.1.1.2.1.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2">subscript</csymbol><apply id="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.1.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2">superscript</csymbol><ci id="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.2.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.2">𝐹</ci><ci id="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.3.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS4.p3.3.m3.2.2.1.1.1.2.3.cmml" xref="S4.SS4.p3.3.m3.2.2.1.1.1.2.3">𝑘</ci></apply><ci id="S4.SS4.p3.3.m3.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1">𝑤</ci></apply><apply id="S4.SS4.p3.3.m3.3.3.2.2.2.cmml" xref="S4.SS4.p3.3.m3.3.3.2.2.2"><csymbol cd="latexml" id="S4.SS4.p3.3.m3.3.3.2.2.2.1.cmml" xref="S4.SS4.p3.3.m3.3.3.2.2.2.1">for-all</csymbol><ci id="S4.SS4.p3.3.m3.3.3.2.2.2.2.cmml" xref="S4.SS4.p3.3.m3.3.3.2.2.2.2">𝑘</ci></apply></list><ci id="S4.SS4.p3.3.m3.3.3.4.cmml" xref="S4.SS4.p3.3.m3.3.3.4">𝕂</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.3.m3.3c">F^{i}_{k}(w),\forall k\in\mathbb{K}</annotation></semantics></math>) and builds one global weighted average model per app, which it then communicates back to the participating devices per app:
<math id="S4.SS4.p3.4.m4.3" class="ltx_Math" alttext="f^{i}(w),\forall i\in\mathbb{N}" display="inline"><semantics id="S4.SS4.p3.4.m4.3a"><mrow id="S4.SS4.p3.4.m4.3.3" xref="S4.SS4.p3.4.m4.3.3.cmml"><mrow id="S4.SS4.p3.4.m4.3.3.2.2" xref="S4.SS4.p3.4.m4.3.3.2.3.cmml"><mrow id="S4.SS4.p3.4.m4.2.2.1.1.1" xref="S4.SS4.p3.4.m4.2.2.1.1.1.cmml"><msup id="S4.SS4.p3.4.m4.2.2.1.1.1.2" xref="S4.SS4.p3.4.m4.2.2.1.1.1.2.cmml"><mi id="S4.SS4.p3.4.m4.2.2.1.1.1.2.2" xref="S4.SS4.p3.4.m4.2.2.1.1.1.2.2.cmml">f</mi><mi id="S4.SS4.p3.4.m4.2.2.1.1.1.2.3" xref="S4.SS4.p3.4.m4.2.2.1.1.1.2.3.cmml">i</mi></msup><mo lspace="0em" rspace="0em" id="S4.SS4.p3.4.m4.2.2.1.1.1.1" xref="S4.SS4.p3.4.m4.2.2.1.1.1.1.cmml">​</mo><mrow id="S4.SS4.p3.4.m4.2.2.1.1.1.3.2" xref="S4.SS4.p3.4.m4.2.2.1.1.1.cmml"><mo stretchy="false" id="S4.SS4.p3.4.m4.2.2.1.1.1.3.2.1" xref="S4.SS4.p3.4.m4.2.2.1.1.1.cmml">(</mo><mi id="S4.SS4.p3.4.m4.1.1" xref="S4.SS4.p3.4.m4.1.1.cmml">w</mi><mo stretchy="false" id="S4.SS4.p3.4.m4.2.2.1.1.1.3.2.2" xref="S4.SS4.p3.4.m4.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p3.4.m4.3.3.2.2.3" xref="S4.SS4.p3.4.m4.3.3.2.3.cmml">,</mo><mrow id="S4.SS4.p3.4.m4.3.3.2.2.2" xref="S4.SS4.p3.4.m4.3.3.2.2.2.cmml"><mo rspace="0.167em" id="S4.SS4.p3.4.m4.3.3.2.2.2.1" xref="S4.SS4.p3.4.m4.3.3.2.2.2.1.cmml">∀</mo><mi id="S4.SS4.p3.4.m4.3.3.2.2.2.2" xref="S4.SS4.p3.4.m4.3.3.2.2.2.2.cmml">i</mi></mrow></mrow><mo id="S4.SS4.p3.4.m4.3.3.3" xref="S4.SS4.p3.4.m4.3.3.3.cmml">∈</mo><mi id="S4.SS4.p3.4.m4.3.3.4" xref="S4.SS4.p3.4.m4.3.3.4.cmml">ℕ</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.4.m4.3b"><apply id="S4.SS4.p3.4.m4.3.3.cmml" xref="S4.SS4.p3.4.m4.3.3"><in id="S4.SS4.p3.4.m4.3.3.3.cmml" xref="S4.SS4.p3.4.m4.3.3.3"></in><list id="S4.SS4.p3.4.m4.3.3.2.3.cmml" xref="S4.SS4.p3.4.m4.3.3.2.2"><apply id="S4.SS4.p3.4.m4.2.2.1.1.1.cmml" xref="S4.SS4.p3.4.m4.2.2.1.1.1"><times id="S4.SS4.p3.4.m4.2.2.1.1.1.1.cmml" xref="S4.SS4.p3.4.m4.2.2.1.1.1.1"></times><apply id="S4.SS4.p3.4.m4.2.2.1.1.1.2.cmml" xref="S4.SS4.p3.4.m4.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p3.4.m4.2.2.1.1.1.2.1.cmml" xref="S4.SS4.p3.4.m4.2.2.1.1.1.2">superscript</csymbol><ci id="S4.SS4.p3.4.m4.2.2.1.1.1.2.2.cmml" xref="S4.SS4.p3.4.m4.2.2.1.1.1.2.2">𝑓</ci><ci id="S4.SS4.p3.4.m4.2.2.1.1.1.2.3.cmml" xref="S4.SS4.p3.4.m4.2.2.1.1.1.2.3">𝑖</ci></apply><ci id="S4.SS4.p3.4.m4.1.1.cmml" xref="S4.SS4.p3.4.m4.1.1">𝑤</ci></apply><apply id="S4.SS4.p3.4.m4.3.3.2.2.2.cmml" xref="S4.SS4.p3.4.m4.3.3.2.2.2"><csymbol cd="latexml" id="S4.SS4.p3.4.m4.3.3.2.2.2.1.cmml" xref="S4.SS4.p3.4.m4.3.3.2.2.2.1">for-all</csymbol><ci id="S4.SS4.p3.4.m4.3.3.2.2.2.2.cmml" xref="S4.SS4.p3.4.m4.3.3.2.2.2.2">𝑖</ci></apply></list><ci id="S4.SS4.p3.4.m4.3.3.4.cmml" xref="S4.SS4.p3.4.m4.3.3.4">ℕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.4.m4.3c">f^{i}(w),\forall i\in\mathbb{N}</annotation></semantics></math>.
Finally, Local distributes this global model to each app for next FL round.</p>
</div>
<div id="S4.SS4.p4" class="ltx_para ltx_noindent">
<p id="S4.SS4.p4.6" class="ltx_p"><span id="S4.SS4.p4.6.1" class="ltx_text ltx_font_bold">2. Cross-app FL Modeling.</span>
A group <math id="S4.SS4.p4.1.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S4.SS4.p4.1.m1.1a"><mi id="S4.SS4.p4.1.m1.1.1" xref="S4.SS4.p4.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.1.m1.1b"><ci id="S4.SS4.p4.1.m1.1.1.cmml" xref="S4.SS4.p4.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.1.m1.1c">g</annotation></semantics></math> of third-party apps (e.g., <math id="S4.SS4.p4.2.m2.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S4.SS4.p4.2.m2.1a"><mi id="S4.SS4.p4.2.m2.1.1" xref="S4.SS4.p4.2.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.2.m2.1b"><ci id="S4.SS4.p4.2.m2.1.1.cmml" xref="S4.SS4.p4.2.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.2.m2.1c">g</annotation></semantics></math>=<math id="S4.SS4.p4.3.m3.2" class="ltx_Math" alttext="\{i,j\}" display="inline"><semantics id="S4.SS4.p4.3.m3.2a"><mrow id="S4.SS4.p4.3.m3.2.3.2" xref="S4.SS4.p4.3.m3.2.3.1.cmml"><mo stretchy="false" id="S4.SS4.p4.3.m3.2.3.2.1" xref="S4.SS4.p4.3.m3.2.3.1.cmml">{</mo><mi id="S4.SS4.p4.3.m3.1.1" xref="S4.SS4.p4.3.m3.1.1.cmml">i</mi><mo id="S4.SS4.p4.3.m3.2.3.2.2" xref="S4.SS4.p4.3.m3.2.3.1.cmml">,</mo><mi id="S4.SS4.p4.3.m3.2.2" xref="S4.SS4.p4.3.m3.2.2.cmml">j</mi><mo stretchy="false" id="S4.SS4.p4.3.m3.2.3.2.3" xref="S4.SS4.p4.3.m3.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.3.m3.2b"><set id="S4.SS4.p4.3.m3.2.3.1.cmml" xref="S4.SS4.p4.3.m3.2.3.2"><ci id="S4.SS4.p4.3.m3.1.1.cmml" xref="S4.SS4.p4.3.m3.1.1">𝑖</ci><ci id="S4.SS4.p4.3.m3.2.2.cmml" xref="S4.SS4.p4.3.m3.2.2">𝑗</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.3.m3.2c">\{i,j\}</annotation></semantics></math>, <math id="S4.SS4.p4.4.m4.2" class="ltx_Math" alttext="i,j" display="inline"><semantics id="S4.SS4.p4.4.m4.2a"><mrow id="S4.SS4.p4.4.m4.2.3.2" xref="S4.SS4.p4.4.m4.2.3.1.cmml"><mi id="S4.SS4.p4.4.m4.1.1" xref="S4.SS4.p4.4.m4.1.1.cmml">i</mi><mo id="S4.SS4.p4.4.m4.2.3.2.1" xref="S4.SS4.p4.4.m4.2.3.1.cmml">,</mo><mi id="S4.SS4.p4.4.m4.2.2" xref="S4.SS4.p4.4.m4.2.2.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.4.m4.2b"><list id="S4.SS4.p4.4.m4.2.3.1.cmml" xref="S4.SS4.p4.4.m4.2.3.2"><ci id="S4.SS4.p4.4.m4.1.1.cmml" xref="S4.SS4.p4.4.m4.1.1">𝑖</ci><ci id="S4.SS4.p4.4.m4.2.2.cmml" xref="S4.SS4.p4.4.m4.2.2">𝑗</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.4.m4.2c">i,j</annotation></semantics></math> <math id="S4.SS4.p4.5.m5.1" class="ltx_Math" alttext="\in" display="inline"><semantics id="S4.SS4.p4.5.m5.1a"><mo id="S4.SS4.p4.5.m5.1.1" xref="S4.SS4.p4.5.m5.1.1.cmml">∈</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.5.m5.1b"><in id="S4.SS4.p4.5.m5.1.1.cmml" xref="S4.SS4.p4.5.m5.1.1"></in></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.5.m5.1c">\in</annotation></semantics></math> <math id="S4.SS4.p4.6.m6.1" class="ltx_Math" alttext="\mathbb{N}" display="inline"><semantics id="S4.SS4.p4.6.m6.1a"><mi id="S4.SS4.p4.6.m6.1.1" xref="S4.SS4.p4.6.m6.1.1.cmml">ℕ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.6.m6.1b"><ci id="S4.SS4.p4.6.m6.1.1.cmml" xref="S4.SS4.p4.6.m6.1.1">ℕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.6.m6.1c">\mathbb{N}</annotation></semantics></math>), interested in collaborating to build a joint model that solves the same ML task (<em id="S4.SS4.p4.6.2" class="ltx_emph ltx_font_italic">e.g.</em>, object recognition on images from both Google Photos and Gallery apps) have two FLaaS <span id="S4.SS4.p4.6.3" class="ltx_text ltx_font_typewriter">ML training modes</span>: JS and JM.</p>
</div>
<div id="S4.SS4.p5" class="ltx_para">
<p id="S4.SS4.p5.1" class="ltx_p"><em id="S4.SS4.p5.1.1" class="ltx_emph ltx_font_italic">2a. Joint Samples (JS) mode:</em> The apps in <math id="S4.SS4.p5.1.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S4.SS4.p5.1.m1.1a"><mi id="S4.SS4.p5.1.m1.1.1" xref="S4.SS4.p5.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.1.m1.1b"><ci id="S4.SS4.p5.1.m1.1.1.cmml" xref="S4.SS4.p5.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.1.m1.1c">g</annotation></semantics></math> share training samples with Local, appropriately packaged to a format pre-agreed by the developers.
DP-noise may be added by each app, in a pre-training stage.
Local checks the received samples from each app for formatting, and then merges them before performing ML model training on all.
If these third-party apps require it, Local may also inject further DP-noise during the ML training.
Then, Local communicates with the Server the resulting ML model as in the Single-App mode.</p>
</div>
<div id="S4.SS4.p6" class="ltx_para">
<p id="S4.SS4.p6.8" class="ltx_p"><em id="S4.SS4.p6.8.1" class="ltx_emph ltx_font_italic">2b. Joint Models (JM) mode:</em> The apps in <math id="S4.SS4.p6.1.m1.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S4.SS4.p6.1.m1.1a"><mi id="S4.SS4.p6.1.m1.1.1" xref="S4.SS4.p6.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.1.m1.1b"><ci id="S4.SS4.p6.1.m1.1.1.cmml" xref="S4.SS4.p6.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.1.m1.1c">g</annotation></semantics></math> conduct the ML model training individually using their local samples, as in the Single-app mode (with or without DP-noise).
Then, each app shares only its ML model parameters with Local, which then applies FedAvg to the received model and produces a joint model.
It finally communicates to the Server the joint ML trained model across apps in <math id="S4.SS4.p6.2.m2.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S4.SS4.p6.2.m2.1a"><mi id="S4.SS4.p6.2.m2.1.1" xref="S4.SS4.p6.2.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.2.m2.1b"><ci id="S4.SS4.p6.2.m2.1.1.cmml" xref="S4.SS4.p6.2.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.2.m2.1c">g</annotation></semantics></math> of device <math id="S4.SS4.p6.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS4.p6.3.m3.1a"><mi id="S4.SS4.p6.3.m3.1.1" xref="S4.SS4.p6.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.3.m3.1b"><ci id="S4.SS4.p6.3.m3.1.1.cmml" xref="S4.SS4.p6.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.3.m3.1c">k</annotation></semantics></math>: <math id="S4.SS4.p6.4.m4.1" class="ltx_Math" alttext="F^{g}_{k}(w)" display="inline"><semantics id="S4.SS4.p6.4.m4.1a"><mrow id="S4.SS4.p6.4.m4.1.2" xref="S4.SS4.p6.4.m4.1.2.cmml"><msubsup id="S4.SS4.p6.4.m4.1.2.2" xref="S4.SS4.p6.4.m4.1.2.2.cmml"><mi id="S4.SS4.p6.4.m4.1.2.2.2.2" xref="S4.SS4.p6.4.m4.1.2.2.2.2.cmml">F</mi><mi id="S4.SS4.p6.4.m4.1.2.2.3" xref="S4.SS4.p6.4.m4.1.2.2.3.cmml">k</mi><mi id="S4.SS4.p6.4.m4.1.2.2.2.3" xref="S4.SS4.p6.4.m4.1.2.2.2.3.cmml">g</mi></msubsup><mo lspace="0em" rspace="0em" id="S4.SS4.p6.4.m4.1.2.1" xref="S4.SS4.p6.4.m4.1.2.1.cmml">​</mo><mrow id="S4.SS4.p6.4.m4.1.2.3.2" xref="S4.SS4.p6.4.m4.1.2.cmml"><mo stretchy="false" id="S4.SS4.p6.4.m4.1.2.3.2.1" xref="S4.SS4.p6.4.m4.1.2.cmml">(</mo><mi id="S4.SS4.p6.4.m4.1.1" xref="S4.SS4.p6.4.m4.1.1.cmml">w</mi><mo stretchy="false" id="S4.SS4.p6.4.m4.1.2.3.2.2" xref="S4.SS4.p6.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.4.m4.1b"><apply id="S4.SS4.p6.4.m4.1.2.cmml" xref="S4.SS4.p6.4.m4.1.2"><times id="S4.SS4.p6.4.m4.1.2.1.cmml" xref="S4.SS4.p6.4.m4.1.2.1"></times><apply id="S4.SS4.p6.4.m4.1.2.2.cmml" xref="S4.SS4.p6.4.m4.1.2.2"><csymbol cd="ambiguous" id="S4.SS4.p6.4.m4.1.2.2.1.cmml" xref="S4.SS4.p6.4.m4.1.2.2">subscript</csymbol><apply id="S4.SS4.p6.4.m4.1.2.2.2.cmml" xref="S4.SS4.p6.4.m4.1.2.2"><csymbol cd="ambiguous" id="S4.SS4.p6.4.m4.1.2.2.2.1.cmml" xref="S4.SS4.p6.4.m4.1.2.2">superscript</csymbol><ci id="S4.SS4.p6.4.m4.1.2.2.2.2.cmml" xref="S4.SS4.p6.4.m4.1.2.2.2.2">𝐹</ci><ci id="S4.SS4.p6.4.m4.1.2.2.2.3.cmml" xref="S4.SS4.p6.4.m4.1.2.2.2.3">𝑔</ci></apply><ci id="S4.SS4.p6.4.m4.1.2.2.3.cmml" xref="S4.SS4.p6.4.m4.1.2.2.3">𝑘</ci></apply><ci id="S4.SS4.p6.4.m4.1.1.cmml" xref="S4.SS4.p6.4.m4.1.1">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.4.m4.1c">F^{g}_{k}(w)</annotation></semantics></math>.
Global performs FedAVG across all collected local models and builds a global weighted averaged model, for each collaborating group <math id="S4.SS4.p6.5.m5.1" class="ltx_Math" alttext="g\in\mathbb{G}" display="inline"><semantics id="S4.SS4.p6.5.m5.1a"><mrow id="S4.SS4.p6.5.m5.1.1" xref="S4.SS4.p6.5.m5.1.1.cmml"><mi id="S4.SS4.p6.5.m5.1.1.2" xref="S4.SS4.p6.5.m5.1.1.2.cmml">g</mi><mo id="S4.SS4.p6.5.m5.1.1.1" xref="S4.SS4.p6.5.m5.1.1.1.cmml">∈</mo><mi id="S4.SS4.p6.5.m5.1.1.3" xref="S4.SS4.p6.5.m5.1.1.3.cmml">𝔾</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.5.m5.1b"><apply id="S4.SS4.p6.5.m5.1.1.cmml" xref="S4.SS4.p6.5.m5.1.1"><in id="S4.SS4.p6.5.m5.1.1.1.cmml" xref="S4.SS4.p6.5.m5.1.1.1"></in><ci id="S4.SS4.p6.5.m5.1.1.2.cmml" xref="S4.SS4.p6.5.m5.1.1.2">𝑔</ci><ci id="S4.SS4.p6.5.m5.1.1.3.cmml" xref="S4.SS4.p6.5.m5.1.1.3">𝔾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.5.m5.1c">g\in\mathbb{G}</annotation></semantics></math> of apps.
Then, it communicates each such global model back to the participating devices: <math id="S4.SS4.p6.6.m6.3" class="ltx_Math" alttext="f^{g}(w),\forall g" display="inline"><semantics id="S4.SS4.p6.6.m6.3a"><mrow id="S4.SS4.p6.6.m6.3.3.2" xref="S4.SS4.p6.6.m6.3.3.3.cmml"><mrow id="S4.SS4.p6.6.m6.2.2.1.1" xref="S4.SS4.p6.6.m6.2.2.1.1.cmml"><msup id="S4.SS4.p6.6.m6.2.2.1.1.2" xref="S4.SS4.p6.6.m6.2.2.1.1.2.cmml"><mi id="S4.SS4.p6.6.m6.2.2.1.1.2.2" xref="S4.SS4.p6.6.m6.2.2.1.1.2.2.cmml">f</mi><mi id="S4.SS4.p6.6.m6.2.2.1.1.2.3" xref="S4.SS4.p6.6.m6.2.2.1.1.2.3.cmml">g</mi></msup><mo lspace="0em" rspace="0em" id="S4.SS4.p6.6.m6.2.2.1.1.1" xref="S4.SS4.p6.6.m6.2.2.1.1.1.cmml">​</mo><mrow id="S4.SS4.p6.6.m6.2.2.1.1.3.2" xref="S4.SS4.p6.6.m6.2.2.1.1.cmml"><mo stretchy="false" id="S4.SS4.p6.6.m6.2.2.1.1.3.2.1" xref="S4.SS4.p6.6.m6.2.2.1.1.cmml">(</mo><mi id="S4.SS4.p6.6.m6.1.1" xref="S4.SS4.p6.6.m6.1.1.cmml">w</mi><mo stretchy="false" id="S4.SS4.p6.6.m6.2.2.1.1.3.2.2" xref="S4.SS4.p6.6.m6.2.2.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p6.6.m6.3.3.2.3" xref="S4.SS4.p6.6.m6.3.3.3.cmml">,</mo><mrow id="S4.SS4.p6.6.m6.3.3.2.2" xref="S4.SS4.p6.6.m6.3.3.2.2.cmml"><mo rspace="0.167em" id="S4.SS4.p6.6.m6.3.3.2.2.1" xref="S4.SS4.p6.6.m6.3.3.2.2.1.cmml">∀</mo><mi id="S4.SS4.p6.6.m6.3.3.2.2.2" xref="S4.SS4.p6.6.m6.3.3.2.2.2.cmml">g</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.6.m6.3b"><list id="S4.SS4.p6.6.m6.3.3.3.cmml" xref="S4.SS4.p6.6.m6.3.3.2"><apply id="S4.SS4.p6.6.m6.2.2.1.1.cmml" xref="S4.SS4.p6.6.m6.2.2.1.1"><times id="S4.SS4.p6.6.m6.2.2.1.1.1.cmml" xref="S4.SS4.p6.6.m6.2.2.1.1.1"></times><apply id="S4.SS4.p6.6.m6.2.2.1.1.2.cmml" xref="S4.SS4.p6.6.m6.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p6.6.m6.2.2.1.1.2.1.cmml" xref="S4.SS4.p6.6.m6.2.2.1.1.2">superscript</csymbol><ci id="S4.SS4.p6.6.m6.2.2.1.1.2.2.cmml" xref="S4.SS4.p6.6.m6.2.2.1.1.2.2">𝑓</ci><ci id="S4.SS4.p6.6.m6.2.2.1.1.2.3.cmml" xref="S4.SS4.p6.6.m6.2.2.1.1.2.3">𝑔</ci></apply><ci id="S4.SS4.p6.6.m6.1.1.cmml" xref="S4.SS4.p6.6.m6.1.1">𝑤</ci></apply><apply id="S4.SS4.p6.6.m6.3.3.2.2.cmml" xref="S4.SS4.p6.6.m6.3.3.2.2"><csymbol cd="latexml" id="S4.SS4.p6.6.m6.3.3.2.2.1.cmml" xref="S4.SS4.p6.6.m6.3.3.2.2.1">for-all</csymbol><ci id="S4.SS4.p6.6.m6.3.3.2.2.2.cmml" xref="S4.SS4.p6.6.m6.3.3.2.2.2">𝑔</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.6.m6.3c">f^{g}(w),\forall g</annotation></semantics></math>.
Finally, each Local distributes the global model to each app of the collaborating group <math id="S4.SS4.p6.7.m7.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S4.SS4.p6.7.m7.1a"><mi id="S4.SS4.p6.7.m7.1.1" xref="S4.SS4.p6.7.m7.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.7.m7.1b"><ci id="S4.SS4.p6.7.m7.1.1.cmml" xref="S4.SS4.p6.7.m7.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.7.m7.1c">g</annotation></semantics></math>, <math id="S4.SS4.p6.8.m8.3" class="ltx_Math" alttext="f^{g}(w),\forall i\in g" display="inline"><semantics id="S4.SS4.p6.8.m8.3a"><mrow id="S4.SS4.p6.8.m8.3.3" xref="S4.SS4.p6.8.m8.3.3.cmml"><mrow id="S4.SS4.p6.8.m8.3.3.2.2" xref="S4.SS4.p6.8.m8.3.3.2.3.cmml"><mrow id="S4.SS4.p6.8.m8.2.2.1.1.1" xref="S4.SS4.p6.8.m8.2.2.1.1.1.cmml"><msup id="S4.SS4.p6.8.m8.2.2.1.1.1.2" xref="S4.SS4.p6.8.m8.2.2.1.1.1.2.cmml"><mi id="S4.SS4.p6.8.m8.2.2.1.1.1.2.2" xref="S4.SS4.p6.8.m8.2.2.1.1.1.2.2.cmml">f</mi><mi id="S4.SS4.p6.8.m8.2.2.1.1.1.2.3" xref="S4.SS4.p6.8.m8.2.2.1.1.1.2.3.cmml">g</mi></msup><mo lspace="0em" rspace="0em" id="S4.SS4.p6.8.m8.2.2.1.1.1.1" xref="S4.SS4.p6.8.m8.2.2.1.1.1.1.cmml">​</mo><mrow id="S4.SS4.p6.8.m8.2.2.1.1.1.3.2" xref="S4.SS4.p6.8.m8.2.2.1.1.1.cmml"><mo stretchy="false" id="S4.SS4.p6.8.m8.2.2.1.1.1.3.2.1" xref="S4.SS4.p6.8.m8.2.2.1.1.1.cmml">(</mo><mi id="S4.SS4.p6.8.m8.1.1" xref="S4.SS4.p6.8.m8.1.1.cmml">w</mi><mo stretchy="false" id="S4.SS4.p6.8.m8.2.2.1.1.1.3.2.2" xref="S4.SS4.p6.8.m8.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p6.8.m8.3.3.2.2.3" xref="S4.SS4.p6.8.m8.3.3.2.3.cmml">,</mo><mrow id="S4.SS4.p6.8.m8.3.3.2.2.2" xref="S4.SS4.p6.8.m8.3.3.2.2.2.cmml"><mo rspace="0.167em" id="S4.SS4.p6.8.m8.3.3.2.2.2.1" xref="S4.SS4.p6.8.m8.3.3.2.2.2.1.cmml">∀</mo><mi id="S4.SS4.p6.8.m8.3.3.2.2.2.2" xref="S4.SS4.p6.8.m8.3.3.2.2.2.2.cmml">i</mi></mrow></mrow><mo id="S4.SS4.p6.8.m8.3.3.3" xref="S4.SS4.p6.8.m8.3.3.3.cmml">∈</mo><mi id="S4.SS4.p6.8.m8.3.3.4" xref="S4.SS4.p6.8.m8.3.3.4.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p6.8.m8.3b"><apply id="S4.SS4.p6.8.m8.3.3.cmml" xref="S4.SS4.p6.8.m8.3.3"><in id="S4.SS4.p6.8.m8.3.3.3.cmml" xref="S4.SS4.p6.8.m8.3.3.3"></in><list id="S4.SS4.p6.8.m8.3.3.2.3.cmml" xref="S4.SS4.p6.8.m8.3.3.2.2"><apply id="S4.SS4.p6.8.m8.2.2.1.1.1.cmml" xref="S4.SS4.p6.8.m8.2.2.1.1.1"><times id="S4.SS4.p6.8.m8.2.2.1.1.1.1.cmml" xref="S4.SS4.p6.8.m8.2.2.1.1.1.1"></times><apply id="S4.SS4.p6.8.m8.2.2.1.1.1.2.cmml" xref="S4.SS4.p6.8.m8.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p6.8.m8.2.2.1.1.1.2.1.cmml" xref="S4.SS4.p6.8.m8.2.2.1.1.1.2">superscript</csymbol><ci id="S4.SS4.p6.8.m8.2.2.1.1.1.2.2.cmml" xref="S4.SS4.p6.8.m8.2.2.1.1.1.2.2">𝑓</ci><ci id="S4.SS4.p6.8.m8.2.2.1.1.1.2.3.cmml" xref="S4.SS4.p6.8.m8.2.2.1.1.1.2.3">𝑔</ci></apply><ci id="S4.SS4.p6.8.m8.1.1.cmml" xref="S4.SS4.p6.8.m8.1.1">𝑤</ci></apply><apply id="S4.SS4.p6.8.m8.3.3.2.2.2.cmml" xref="S4.SS4.p6.8.m8.3.3.2.2.2"><csymbol cd="latexml" id="S4.SS4.p6.8.m8.3.3.2.2.2.1.cmml" xref="S4.SS4.p6.8.m8.3.3.2.2.2.1">for-all</csymbol><ci id="S4.SS4.p6.8.m8.3.3.2.2.2.2.cmml" xref="S4.SS4.p6.8.m8.3.3.2.2.2.2">𝑖</ci></apply></list><ci id="S4.SS4.p6.8.m8.3.3.4.cmml" xref="S4.SS4.p6.8.m8.3.3.4">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p6.8.m8.3c">f^{g}(w),\forall i\in g</annotation></semantics></math>.</p>
</div>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5. </span>On-device data management</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p">To support these two training modes, Local and Library are responsible for the following data management functions:</p>
</div>
<div id="S4.SS5.p2" class="ltx_para ltx_noindent">
<p id="S4.SS5.p2.1" class="ltx_p"><span id="S4.SS5.p2.1.1" class="ltx_text ltx_font_bold">Access Policy Management:</span> A policy enforcement engine (<em id="S4.SS5.p2.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib6" title="" class="ltx_ref">bagdasaryan2019ancile, </a>)</cite>) defined by the developer in the Admin Interface.
The developer can define:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.2" class="ltx_p">Which data (for <math id="S4.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S4.I1.i1.p1.1.m1.1a"><mrow id="S4.I1.i1.p1.1.m1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.2" xref="S4.I1.i1.p1.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.1.m1.1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3" xref="S4.I1.i1.p1.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.1b"><apply id="S4.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1"><times id="S4.I1.i1.p1.1.m1.1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1"></times><ci id="S4.I1.i1.p1.1.m1.1.1.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2">𝐽</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.1c">JS</annotation></semantics></math>) or ML models (for <math id="S4.I1.i1.p1.2.m2.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S4.I1.i1.p1.2.m2.1a"><mrow id="S4.I1.i1.p1.2.m2.1.1" xref="S4.I1.i1.p1.2.m2.1.1.cmml"><mi id="S4.I1.i1.p1.2.m2.1.1.2" xref="S4.I1.i1.p1.2.m2.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S4.I1.i1.p1.2.m2.1.1.1" xref="S4.I1.i1.p1.2.m2.1.1.1.cmml">​</mo><mi id="S4.I1.i1.p1.2.m2.1.1.3" xref="S4.I1.i1.p1.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.2.m2.1b"><apply id="S4.I1.i1.p1.2.m2.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1"><times id="S4.I1.i1.p1.2.m2.1.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1.1"></times><ci id="S4.I1.i1.p1.2.m2.1.1.2.cmml" xref="S4.I1.i1.p1.2.m2.1.1.2">𝐽</ci><ci id="S4.I1.i1.p1.2.m2.1.1.3.cmml" xref="S4.I1.i1.p1.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.2.m2.1c">JM</annotation></semantics></math>) to share with Local for the Cross-app training.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">What type of pre-processing (<em id="S4.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">e.g.</em>, data filtering) (for <math id="S4.I1.i2.p1.1.m1.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S4.I1.i2.p1.1.m1.1a"><mrow id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.2" xref="S4.I1.i2.p1.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S4.I1.i2.p1.1.m1.1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i2.p1.1.m1.1.1.3" xref="S4.I1.i2.p1.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><apply id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><times id="S4.I1.i2.p1.1.m1.1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.1"></times><ci id="S4.I1.i2.p1.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2">𝐽</ci><ci id="S4.I1.i2.p1.1.m1.1.1.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">JS</annotation></semantics></math>) should be applied before sharing.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.2" class="ltx_p">How much DP-noise should be added on samples before sharing (in case of <math id="S4.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S4.I1.i3.p1.1.m1.1a"><mrow id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I1.i3.p1.1.m1.1.1.2" xref="S4.I1.i3.p1.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S4.I1.i3.p1.1.m1.1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i3.p1.1.m1.1.1.3" xref="S4.I1.i3.p1.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><apply id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1"><times id="S4.I1.i3.p1.1.m1.1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1.1"></times><ci id="S4.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I1.i3.p1.1.m1.1.1.2">𝐽</ci><ci id="S4.I1.i3.p1.1.m1.1.1.3.cmml" xref="S4.I1.i3.p1.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">JS</annotation></semantics></math>), or while training the model (in case of <math id="S4.I1.i3.p1.2.m2.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S4.I1.i3.p1.2.m2.1a"><mrow id="S4.I1.i3.p1.2.m2.1.1" xref="S4.I1.i3.p1.2.m2.1.1.cmml"><mi id="S4.I1.i3.p1.2.m2.1.1.2" xref="S4.I1.i3.p1.2.m2.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S4.I1.i3.p1.2.m2.1.1.1" xref="S4.I1.i3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S4.I1.i3.p1.2.m2.1.1.3" xref="S4.I1.i3.p1.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.2.m2.1b"><apply id="S4.I1.i3.p1.2.m2.1.1.cmml" xref="S4.I1.i3.p1.2.m2.1.1"><times id="S4.I1.i3.p1.2.m2.1.1.1.cmml" xref="S4.I1.i3.p1.2.m2.1.1.1"></times><ci id="S4.I1.i3.p1.2.m2.1.1.2.cmml" xref="S4.I1.i3.p1.2.m2.1.1.2">𝐽</ci><ci id="S4.I1.i3.p1.2.m2.1.1.3.cmml" xref="S4.I1.i3.p1.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.2.m2.1c">JM</annotation></semantics></math>) (following best practices in FL with DP <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib17" title="" class="ltx_ref">geyer2017FL-DP-central, </a>)</cite>).</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.1" class="ltx_p">Which other apps can receive these shared data or ML models (for now, only Local can receive them, but future training modes could require sharing data and/or models with other apps).</p>
</div>
</li>
<li id="S4.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i5.p1" class="ltx_para">
<p id="S4.I1.i5.p1.2" class="ltx_p">How many times to allow this sharing between apps: a) only once, b) <math id="S4.I1.i5.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.I1.i5.p1.1.m1.1a"><mi id="S4.I1.i5.p1.1.m1.1.1" xref="S4.I1.i5.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i5.p1.1.m1.1b"><ci id="S4.I1.i5.p1.1.m1.1.1.cmml" xref="S4.I1.i5.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i5.p1.1.m1.1c">N</annotation></semantics></math> times (<em id="S4.I1.i5.p1.2.1" class="ltx_emph ltx_font_italic">i.e.</em>, for <math id="S4.I1.i5.p1.2.m2.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S4.I1.i5.p1.2.m2.1a"><mi id="S4.I1.i5.p1.2.m2.1.1" xref="S4.I1.i5.p1.2.m2.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i5.p1.2.m2.1b"><ci id="S4.I1.i5.p1.2.m2.1.1.cmml" xref="S4.I1.i5.p1.2.m2.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i5.p1.2.m2.1c">N</annotation></semantics></math> FL rounds), c) until certain deadline is reached.</p>
</div>
</li>
<li id="S4.I1.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i6.p1" class="ltx_para">
<p id="S4.I1.i6.p1.1" class="ltx_p">Minimum loss of locally trained model (in case of <math id="S4.I1.i6.p1.1.m1.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S4.I1.i6.p1.1.m1.1a"><mrow id="S4.I1.i6.p1.1.m1.1.1" xref="S4.I1.i6.p1.1.m1.1.1.cmml"><mi id="S4.I1.i6.p1.1.m1.1.1.2" xref="S4.I1.i6.p1.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S4.I1.i6.p1.1.m1.1.1.1" xref="S4.I1.i6.p1.1.m1.1.1.1.cmml">​</mo><mi id="S4.I1.i6.p1.1.m1.1.1.3" xref="S4.I1.i6.p1.1.m1.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i6.p1.1.m1.1b"><apply id="S4.I1.i6.p1.1.m1.1.1.cmml" xref="S4.I1.i6.p1.1.m1.1.1"><times id="S4.I1.i6.p1.1.m1.1.1.1.cmml" xref="S4.I1.i6.p1.1.m1.1.1.1"></times><ci id="S4.I1.i6.p1.1.m1.1.1.2.cmml" xref="S4.I1.i6.p1.1.m1.1.1.2">𝐽</ci><ci id="S4.I1.i6.p1.1.m1.1.1.3.cmml" xref="S4.I1.i6.p1.1.m1.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i6.p1.1.m1.1c">JM</annotation></semantics></math>).</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS5.p3" class="ltx_para ltx_noindent">
<p id="S4.SS5.p3.1" class="ltx_p"><span id="S4.SS5.p3.1.1" class="ltx_text ltx_font_bold">Data Store:</span> This is a secure data store of Local and Library (one for each involved app).
Local can temporarily host binary data such as training samples sent by apps and prepared for on-device training by Local, or ML weights sent by apps and prepared for model averaging by Local.
Each app’s Library can host training weights sent by Local and used as basis for in-app ML training.
Each datum has an expiration condition and automatically gets deleted when the condition is met (<em id="S4.SS5.p3.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, trained model is sent).</p>
</div>
</section>
<section id="S4.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.6. </span>Client Device Implementation</h3>

<div id="S4.SS6.p1" class="ltx_para ltx_noindent">
<p id="S4.SS6.p1.1" class="ltx_p"><span id="S4.SS6.p1.1.1" class="ltx_text ltx_font_bold">Supported Mobile Operating System:</span>
FLaaS currently supports Android-based (<math id="S4.SS6.p1.1.m1.1" class="ltx_Math" alttext="\geq" display="inline"><semantics id="S4.SS6.p1.1.m1.1a"><mo id="S4.SS6.p1.1.m1.1.1" xref="S4.SS6.p1.1.m1.1.1.cmml">≥</mo><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.1.m1.1b"><geq id="S4.SS6.p1.1.m1.1.1.cmml" xref="S4.SS6.p1.1.m1.1.1"></geq></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.1.m1.1c">\geq</annotation></semantics></math>8.0) devices, since iOS does not provide (yet) in-app communication features necessary for instructing third-party apps to perform on-device cross-app ML training, either using shared data or shared models.</p>
</div>
<div id="S4.SS6.p2" class="ltx_para ltx_noindent">
<p id="S4.SS6.p2.1" class="ltx_p"><span id="S4.SS6.p2.1.1" class="ltx_text ltx_font_bold">Device Authentication:</span>
Device authentication with the back-end is implemented using JWT with djangorestframework-simplejwt v5.0.0.
The framework is configured to produce tokens expiring after 10 minutes but can be refreshed automatically by the client using <em id="S4.SS6.p2.1.2" class="ltx_emph ltx_font_italic">refresh tokens</em> function, with rotating expiration time of 1 day.</p>
</div>
<div id="S4.SS6.p3" class="ltx_para ltx_noindent">
<p id="S4.SS6.p3.1" class="ltx_p"><span id="S4.SS6.p3.1.1" class="ltx_text ltx_font_bold">FLaaS Library:</span>
Third-party apps participating in projects implement this library to:
receive configuration setups and perform ML tasks in single-app or JM modes, send samples to Local for JS mode, or
communicate model parameters to Local for FedAvg.
The Library is implemented with 1.5k lines of Java code, with:</p>
</div>
<div id="S4.SS6.p4" class="ltx_para">
<ul id="S4.I2" class="ltx_itemize">
<li id="S4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i1.p1" class="ltx_para">
<p id="S4.I2.i1.p1.1" class="ltx_p">TensorFlow Lite v2.6.0: Deep learning framework used for on-device ML training.</p>
</div>
</li>
<li id="S4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i2.p1" class="ltx_para">
<p id="S4.I2.i2.p1.1" class="ltx_p">WorkManager v2.7.0: Android framework for scheduling deferrable, asynchronous tasks within apps.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS6.p5" class="ltx_para ltx_noindent">
<p id="S4.SS6.p5.1" class="ltx_p"><span id="S4.SS6.p5.1.1" class="ltx_text ltx_font_bold">FLaaS Local:</span>
This app can be implemented as an OS core service, or a regular app.
The former implementation requires changes in Android design, and thus impacts all stakeholders involved in the chain, making it more difficult to roll-out.
However, device and OS manufacturers
could opt for such choice and include FLaaS Local in their customized OS.
In the latter implementation, the app can be standalone, or included in other apps (<em id="S4.SS6.p5.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, a phone provider main app).</p>
</div>
<div id="S4.SS6.p6" class="ltx_para">
<p id="S4.SS6.p6.1" class="ltx_p">The limitation of using the regular app option is the <em id="S4.SS6.p6.1.1" class="ltx_emph ltx_font_italic">App Standby Bucket</em> system introduced by Android 9 to manage app’s requests for resources depending on their frequency of usage.
Apps that are not essential (<em id="S4.SS6.p6.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, whitelisted by the phone vendor or OS) and/or have not been used in a while by the user receive lower priority or placed on standby.
As Local does not require user interaction, the app would receive lower priority.
Therefore, the app may not be immediately responsive to system notifications, and may not execute, or significantly delay tasks and message processing. This issue can be solved with two approaches:
1) Local is whitelisted in the unrestricted bucket list, <em id="S4.SS6.p6.1.3" class="ltx_emph ltx_font_italic">i.e.</em>, the common case of apps installed by phone vendors.
2) Local is included in a frequently used app to remain in the high priority bucket.
Regardless of this decision, the system design of § <a href="#S3" title="3. FLaaS Back-end Design ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> remains same.</p>
</div>
<div id="S4.SS6.p7" class="ltx_para">
<p id="S4.SS6.p7.1" class="ltx_p">Currently, we implement Local as a standalone app and use the whitelisting approach.
The implementation counts 2,414 lines of Java code and uses the following:</p>
<ul id="S4.I3" class="ltx_itemize">
<li id="S4.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I3.i1.p1" class="ltx_para">
<p id="S4.I3.i1.p1.1" class="ltx_p">FLaaS Library v0.1.0, to handle app authentication, inter-app communication, on-device ML training.</p>
</div>
</li>
<li id="S4.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I3.i2.p1" class="ltx_para">
<p id="S4.I3.i2.p1.1" class="ltx_p">Retrofit v2.9.0, an HTTP networking library for managing the communication with the back-end’s REST API.</p>
</div>
</li>
<li id="S4.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I3.i3.p1" class="ltx_para">
<p id="S4.I3.i3.p1.1" class="ltx_p">Pushwoosh Android SDK v6.3.5 as a Push Notification library for receiving and parsing the push notification messages sent by the back-end.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS6.p8" class="ltx_para ltx_noindent">
<p id="S4.SS6.p8.1" class="ltx_p"><span id="S4.SS6.p8.1.1" class="ltx_text ltx_font_bold">Inter-App Communication:</span>
This functionality is required to exchange messages (<em id="S4.SS6.p8.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, dictionary-based numerical and text) and data (<em id="S4.SS6.p8.1.3" class="ltx_emph ltx_font_italic">i.e.</em>, in binary format such as training samples and model parameters) between FLaaS-enabled apps and Local.
In Android, inter-app communication for both messages and data can be achieved with explicit, manifest-declared <em id="S4.SS6.p8.1.4" class="ltx_emph ltx_font_italic">Broadcast Receivers</em>.
Similar communication can also be achieved with the <em id="S4.SS6.p8.1.5" class="ltx_emph ltx_font_italic">ContentProvider API</em> or Android 10’s only <em id="S4.SS6.p8.1.6" class="ltx_emph ltx_font_italic">Scoped Storage</em>.
In our implementation, we use the approach of Broadcast Receivers for simplicity.</p>
</div>
<div id="S4.SS6.p9" class="ltx_para ltx_noindent">
<p id="S4.SS6.p9.1" class="ltx_p"><span id="S4.SS6.p9.1.1" class="ltx_text ltx_font_bold">App Workers:</span>
For executing ML tasks in the background, we utilize Android’s WorkManager API, a robust framework for executing tasks (workers) asynchronously for optimal usage of device resources.
All workers are executed sequentially when they belong to the same app.
The only exception is the on-device training per app in JM mode, where the OS can decide to execute in parallel.
Delays between workers can be introduced by the OS for better battery performance.
We identify these delays or pauses in our experiments with real devices, discussed next.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Experimental Evaluation</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">This experimental evaluation aims to answer the following questions:
a) How does FLaaS operate in the wild, on real user Android devices?
b) Is it easily deployable? And does it function well with respect to device availability?
c) What do users think of the system’s impact on their devices?
d) What is the FLaaS ML performance and system overhead while computing FL projects on real user devices?
e) How does this performance compare with ideal conditions assumed in past studies with FL simulations?
f) How does the cross-app, on-device FL training perform?</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Experimental Setup</h3>

<section id="S5.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.1. </span>Third-party apps</h4>

<div id="S5.SS1.SSS1.p1" class="ltx_para">
<p id="S5.SS1.SSS1.p1.1" class="ltx_p">We create three simple apps (named Red, Green and Blue, or <math id="S5.SS1.SSS1.p1.1.m1.1" class="ltx_Math" alttext="RGB" display="inline"><semantics id="S5.SS1.SSS1.p1.1.m1.1a"><mrow id="S5.SS1.SSS1.p1.1.m1.1.1" xref="S5.SS1.SSS1.p1.1.m1.1.1.cmml"><mi id="S5.SS1.SSS1.p1.1.m1.1.1.2" xref="S5.SS1.SSS1.p1.1.m1.1.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS1.p1.1.m1.1.1.1" xref="S5.SS1.SSS1.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS1.p1.1.m1.1.1.3" xref="S5.SS1.SSS1.p1.1.m1.1.1.3.cmml">G</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS1.p1.1.m1.1.1.1a" xref="S5.SS1.SSS1.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS1.p1.1.m1.1.1.4" xref="S5.SS1.SSS1.p1.1.m1.1.1.4.cmml">B</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS1.p1.1.m1.1b"><apply id="S5.SS1.SSS1.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS1.p1.1.m1.1.1"><times id="S5.SS1.SSS1.p1.1.m1.1.1.1.cmml" xref="S5.SS1.SSS1.p1.1.m1.1.1.1"></times><ci id="S5.SS1.SSS1.p1.1.m1.1.1.2.cmml" xref="S5.SS1.SSS1.p1.1.m1.1.1.2">𝑅</ci><ci id="S5.SS1.SSS1.p1.1.m1.1.1.3.cmml" xref="S5.SS1.SSS1.p1.1.m1.1.1.3">𝐺</ci><ci id="S5.SS1.SSS1.p1.1.m1.1.1.4.cmml" xref="S5.SS1.SSS1.p1.1.m1.1.1.4">𝐵</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p1.1.m1.1c">RGB</annotation></semantics></math>), with 101 lines of Java code each.
Each app includes FLaaS Library v0.1.0 for supporting system functions and to demonstrate the simplicity and efficiency of a third-party app executing FLaaS projects.</p>
</div>
</section>
<section id="S5.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.2. </span>Dataset</h4>

<div id="S5.SS1.SSS2.p1" class="ltx_para">
<p id="S5.SS1.SSS2.p1.8" class="ltx_p">As a dataset for the ML model training and testing, we use <math id="S5.SS1.SSS2.p1.1.m1.1" class="ltx_Math" alttext="CIFAR" display="inline"><semantics id="S5.SS1.SSS2.p1.1.m1.1a"><mrow id="S5.SS1.SSS2.p1.1.m1.1.1" xref="S5.SS1.SSS2.p1.1.m1.1.1.cmml"><mi id="S5.SS1.SSS2.p1.1.m1.1.1.2" xref="S5.SS1.SSS2.p1.1.m1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p1.1.m1.1.1.1" xref="S5.SS1.SSS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p1.1.m1.1.1.3" xref="S5.SS1.SSS2.p1.1.m1.1.1.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p1.1.m1.1.1.1a" xref="S5.SS1.SSS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p1.1.m1.1.1.4" xref="S5.SS1.SSS2.p1.1.m1.1.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p1.1.m1.1.1.1b" xref="S5.SS1.SSS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p1.1.m1.1.1.5" xref="S5.SS1.SSS2.p1.1.m1.1.1.5.cmml">A</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p1.1.m1.1.1.1c" xref="S5.SS1.SSS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p1.1.m1.1.1.6" xref="S5.SS1.SSS2.p1.1.m1.1.1.6.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.1.m1.1b"><apply id="S5.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS2.p1.1.m1.1.1"><times id="S5.SS1.SSS2.p1.1.m1.1.1.1.cmml" xref="S5.SS1.SSS2.p1.1.m1.1.1.1"></times><ci id="S5.SS1.SSS2.p1.1.m1.1.1.2.cmml" xref="S5.SS1.SSS2.p1.1.m1.1.1.2">𝐶</ci><ci id="S5.SS1.SSS2.p1.1.m1.1.1.3.cmml" xref="S5.SS1.SSS2.p1.1.m1.1.1.3">𝐼</ci><ci id="S5.SS1.SSS2.p1.1.m1.1.1.4.cmml" xref="S5.SS1.SSS2.p1.1.m1.1.1.4">𝐹</ci><ci id="S5.SS1.SSS2.p1.1.m1.1.1.5.cmml" xref="S5.SS1.SSS2.p1.1.m1.1.1.5">𝐴</ci><ci id="S5.SS1.SSS2.p1.1.m1.1.1.6.cmml" xref="S5.SS1.SSS2.p1.1.m1.1.1.6">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.1.m1.1c">CIFAR</annotation></semantics></math>-<math id="S5.SS1.SSS2.p1.2.m2.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S5.SS1.SSS2.p1.2.m2.1a"><mn id="S5.SS1.SSS2.p1.2.m2.1.1" xref="S5.SS1.SSS2.p1.2.m2.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.2.m2.1b"><cn type="integer" id="S5.SS1.SSS2.p1.2.m2.1.1.cmml" xref="S5.SS1.SSS2.p1.2.m2.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.2.m2.1c">10</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib26" title="" class="ltx_ref">cifar10, </a>)</cite>, a benchmark dataset commonly employed by FL researchers.
We do not anticipate drastic changes in system overhead if we use other datasets.
This dataset consists of <math id="S5.SS1.SSS2.p1.3.m3.1" class="ltx_Math" alttext="60k" display="inline"><semantics id="S5.SS1.SSS2.p1.3.m3.1a"><mrow id="S5.SS1.SSS2.p1.3.m3.1.1" xref="S5.SS1.SSS2.p1.3.m3.1.1.cmml"><mn id="S5.SS1.SSS2.p1.3.m3.1.1.2" xref="S5.SS1.SSS2.p1.3.m3.1.1.2.cmml">60</mn><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p1.3.m3.1.1.1" xref="S5.SS1.SSS2.p1.3.m3.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p1.3.m3.1.1.3" xref="S5.SS1.SSS2.p1.3.m3.1.1.3.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.3.m3.1b"><apply id="S5.SS1.SSS2.p1.3.m3.1.1.cmml" xref="S5.SS1.SSS2.p1.3.m3.1.1"><times id="S5.SS1.SSS2.p1.3.m3.1.1.1.cmml" xref="S5.SS1.SSS2.p1.3.m3.1.1.1"></times><cn type="integer" id="S5.SS1.SSS2.p1.3.m3.1.1.2.cmml" xref="S5.SS1.SSS2.p1.3.m3.1.1.2">60</cn><ci id="S5.SS1.SSS2.p1.3.m3.1.1.3.cmml" xref="S5.SS1.SSS2.p1.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.3.m3.1c">60k</annotation></semantics></math> total samples of images (<math id="S5.SS1.SSS2.p1.4.m4.1" class="ltx_Math" alttext="32" display="inline"><semantics id="S5.SS1.SSS2.p1.4.m4.1a"><mn id="S5.SS1.SSS2.p1.4.m4.1.1" xref="S5.SS1.SSS2.p1.4.m4.1.1.cmml">32</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.4.m4.1b"><cn type="integer" id="S5.SS1.SSS2.p1.4.m4.1.1.cmml" xref="S5.SS1.SSS2.p1.4.m4.1.1">32</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.4.m4.1c">32</annotation></semantics></math><math id="S5.SS1.SSS2.p1.5.m5.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS1.SSS2.p1.5.m5.1a"><mo id="S5.SS1.SSS2.p1.5.m5.1.1" xref="S5.SS1.SSS2.p1.5.m5.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.5.m5.1b"><times id="S5.SS1.SSS2.p1.5.m5.1.1.cmml" xref="S5.SS1.SSS2.p1.5.m5.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.5.m5.1c">\times</annotation></semantics></math><math id="S5.SS1.SSS2.p1.6.m6.1" class="ltx_Math" alttext="32" display="inline"><semantics id="S5.SS1.SSS2.p1.6.m6.1a"><mn id="S5.SS1.SSS2.p1.6.m6.1.1" xref="S5.SS1.SSS2.p1.6.m6.1.1.cmml">32</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.6.m6.1b"><cn type="integer" id="S5.SS1.SSS2.p1.6.m6.1.1.cmml" xref="S5.SS1.SSS2.p1.6.m6.1.1">32</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.6.m6.1c">32</annotation></semantics></math><math id="S5.SS1.SSS2.p1.7.m7.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS1.SSS2.p1.7.m7.1a"><mo id="S5.SS1.SSS2.p1.7.m7.1.1" xref="S5.SS1.SSS2.p1.7.m7.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.7.m7.1b"><times id="S5.SS1.SSS2.p1.7.m7.1.1.cmml" xref="S5.SS1.SSS2.p1.7.m7.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.7.m7.1c">\times</annotation></semantics></math><math id="S5.SS1.SSS2.p1.8.m8.1" class="ltx_Math" alttext="3" display="inline"><semantics id="S5.SS1.SSS2.p1.8.m8.1a"><mn id="S5.SS1.SSS2.p1.8.m8.1.1" xref="S5.SS1.SSS2.p1.8.m8.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p1.8.m8.1b"><cn type="integer" id="S5.SS1.SSS2.p1.8.m8.1.1.cmml" xref="S5.SS1.SSS2.p1.8.m8.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.8.m8.1c">3</annotation></semantics></math>) representing one of 10 types of objects, or classes.
We partition the training set into subsets of 150 samples, and each subset is assigned to an instance of a third-party app (Red, Green and Blue) to be installed on a user device.</p>
</div>
<div id="S5.SS1.SSS2.p2" class="ltx_para">
<p id="S5.SS1.SSS2.p2.2" class="ltx_p">Non-Independent and Identically Distributed (NonIID) data provide a more realistic view of how data would be distributed
a) across users: real users cannot be expected to have examples of all classes of data;
b) across apps: different apps would have different classes that either overlap or not, and this can be persistent across users.
Thus, 4 different data distributions are constructed from <math id="S5.SS1.SSS2.p2.1.m1.1" class="ltx_Math" alttext="CIFAR" display="inline"><semantics id="S5.SS1.SSS2.p2.1.m1.1a"><mrow id="S5.SS1.SSS2.p2.1.m1.1.1" xref="S5.SS1.SSS2.p2.1.m1.1.1.cmml"><mi id="S5.SS1.SSS2.p2.1.m1.1.1.2" xref="S5.SS1.SSS2.p2.1.m1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p2.1.m1.1.1.1" xref="S5.SS1.SSS2.p2.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p2.1.m1.1.1.3" xref="S5.SS1.SSS2.p2.1.m1.1.1.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p2.1.m1.1.1.1a" xref="S5.SS1.SSS2.p2.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p2.1.m1.1.1.4" xref="S5.SS1.SSS2.p2.1.m1.1.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p2.1.m1.1.1.1b" xref="S5.SS1.SSS2.p2.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p2.1.m1.1.1.5" xref="S5.SS1.SSS2.p2.1.m1.1.1.5.cmml">A</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS2.p2.1.m1.1.1.1c" xref="S5.SS1.SSS2.p2.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS2.p2.1.m1.1.1.6" xref="S5.SS1.SSS2.p2.1.m1.1.1.6.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p2.1.m1.1b"><apply id="S5.SS1.SSS2.p2.1.m1.1.1.cmml" xref="S5.SS1.SSS2.p2.1.m1.1.1"><times id="S5.SS1.SSS2.p2.1.m1.1.1.1.cmml" xref="S5.SS1.SSS2.p2.1.m1.1.1.1"></times><ci id="S5.SS1.SSS2.p2.1.m1.1.1.2.cmml" xref="S5.SS1.SSS2.p2.1.m1.1.1.2">𝐶</ci><ci id="S5.SS1.SSS2.p2.1.m1.1.1.3.cmml" xref="S5.SS1.SSS2.p2.1.m1.1.1.3">𝐼</ci><ci id="S5.SS1.SSS2.p2.1.m1.1.1.4.cmml" xref="S5.SS1.SSS2.p2.1.m1.1.1.4">𝐹</ci><ci id="S5.SS1.SSS2.p2.1.m1.1.1.5.cmml" xref="S5.SS1.SSS2.p2.1.m1.1.1.5">𝐴</ci><ci id="S5.SS1.SSS2.p2.1.m1.1.1.6.cmml" xref="S5.SS1.SSS2.p2.1.m1.1.1.6">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p2.1.m1.1c">CIFAR</annotation></semantics></math>-<math id="S5.SS1.SSS2.p2.2.m2.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S5.SS1.SSS2.p2.2.m2.1a"><mn id="S5.SS1.SSS2.p2.2.m2.1.1" xref="S5.SS1.SSS2.p2.2.m2.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p2.2.m2.1b"><cn type="integer" id="S5.SS1.SSS2.p2.2.m2.1.1.cmml" xref="S5.SS1.SSS2.p2.2.m2.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p2.2.m2.1c">10</annotation></semantics></math> data:</p>
<ol id="S5.I1" class="ltx_enumerate">
<li id="S5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S5.I1.i1.p1" class="ltx_para">
<p id="S5.I1.i1.p1.1" class="ltx_p">Independent and Identically Distributed (<em id="S5.I1.i1.p1.1.1" class="ltx_emph ltx_font_italic">IID</em>): All apps have samples of all 10 classes in the data;</p>
</div>
</li>
<li id="S5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S5.I1.i2.p1" class="ltx_para">
<p id="S5.I1.i2.p1.1" class="ltx_p">NonIID Per User (<em id="S5.I1.i2.p1.1.1" class="ltx_emph ltx_font_italic">NonIIDPU</em>): Each user has samples from 3 random classes, consistently across its apps;</p>
</div>
</li>
<li id="S5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S5.I1.i3.p1" class="ltx_para">
<p id="S5.I1.i3.p1.1" class="ltx_p">NonIID Per App Overlapping (<em id="S5.I1.i3.p1.1.1" class="ltx_emph ltx_font_italic">NonIIDPAO</em>): Each app has 3 random classes that can overlap between the apps.</p>
</div>
</li>
<li id="S5.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span> 
<div id="S5.I1.i4.p1" class="ltx_para">
<p id="S5.I1.i4.p1.1" class="ltx_p">NonIID Per App Persistent (<em id="S5.I1.i4.p1.1.1" class="ltx_emph ltx_font_italic">NonIIDPAP</em>): 10 classes are split across the 3 apps: R &amp; G get 3 classes, B gets 4 classes; the class selection is persistent across all users.</p>
</div>
</li>
</ol>
</div>
</section>
<section id="S5.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.3. </span>ML model &amp; hyperparameters</h4>

<div id="S5.SS1.SSS3.p1" class="ltx_para">
<p id="S5.SS1.SSS3.p1.5" class="ltx_p">As a base DNN model we use MobileNetV2 <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib40" title="" class="ltx_ref">s2018mobilenetv2, </a>)</cite>, which is pre-trained with ImageNet <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib13" title="" class="ltx_ref">imagenet_cvpr09, </a>)</cite> dataset with image size of 224x224.
As a head of the DNN (used for model personalization on user local data), we use a single dense layer with 32 neurons and <math id="S5.SS1.SSS3.p1.1.m1.1" class="ltx_Math" alttext="RELU" display="inline"><semantics id="S5.SS1.SSS3.p1.1.m1.1a"><mrow id="S5.SS1.SSS3.p1.1.m1.1.1" xref="S5.SS1.SSS3.p1.1.m1.1.1.cmml"><mi id="S5.SS1.SSS3.p1.1.m1.1.1.2" xref="S5.SS1.SSS3.p1.1.m1.1.1.2.cmml">R</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.1.m1.1.1.1" xref="S5.SS1.SSS3.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.1.m1.1.1.3" xref="S5.SS1.SSS3.p1.1.m1.1.1.3.cmml">E</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.1.m1.1.1.1a" xref="S5.SS1.SSS3.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.1.m1.1.1.4" xref="S5.SS1.SSS3.p1.1.m1.1.1.4.cmml">L</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.1.m1.1.1.1b" xref="S5.SS1.SSS3.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.1.m1.1.1.5" xref="S5.SS1.SSS3.p1.1.m1.1.1.5.cmml">U</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS3.p1.1.m1.1b"><apply id="S5.SS1.SSS3.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS3.p1.1.m1.1.1"><times id="S5.SS1.SSS3.p1.1.m1.1.1.1.cmml" xref="S5.SS1.SSS3.p1.1.m1.1.1.1"></times><ci id="S5.SS1.SSS3.p1.1.m1.1.1.2.cmml" xref="S5.SS1.SSS3.p1.1.m1.1.1.2">𝑅</ci><ci id="S5.SS1.SSS3.p1.1.m1.1.1.3.cmml" xref="S5.SS1.SSS3.p1.1.m1.1.1.3">𝐸</ci><ci id="S5.SS1.SSS3.p1.1.m1.1.1.4.cmml" xref="S5.SS1.SSS3.p1.1.m1.1.1.4">𝐿</ci><ci id="S5.SS1.SSS3.p1.1.m1.1.1.5.cmml" xref="S5.SS1.SSS3.p1.1.m1.1.1.5">𝑈</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS3.p1.1.m1.1c">RELU</annotation></semantics></math> activation function, followed by <math id="S5.SS1.SSS3.p1.2.m2.1" class="ltx_Math" alttext="softmax" display="inline"><semantics id="S5.SS1.SSS3.p1.2.m2.1a"><mrow id="S5.SS1.SSS3.p1.2.m2.1.1" xref="S5.SS1.SSS3.p1.2.m2.1.1.cmml"><mi id="S5.SS1.SSS3.p1.2.m2.1.1.2" xref="S5.SS1.SSS3.p1.2.m2.1.1.2.cmml">s</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.2.m2.1.1.1" xref="S5.SS1.SSS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.2.m2.1.1.3" xref="S5.SS1.SSS3.p1.2.m2.1.1.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.2.m2.1.1.1a" xref="S5.SS1.SSS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.2.m2.1.1.4" xref="S5.SS1.SSS3.p1.2.m2.1.1.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.2.m2.1.1.1b" xref="S5.SS1.SSS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.2.m2.1.1.5" xref="S5.SS1.SSS3.p1.2.m2.1.1.5.cmml">t</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.2.m2.1.1.1c" xref="S5.SS1.SSS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.2.m2.1.1.6" xref="S5.SS1.SSS3.p1.2.m2.1.1.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.2.m2.1.1.1d" xref="S5.SS1.SSS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.2.m2.1.1.7" xref="S5.SS1.SSS3.p1.2.m2.1.1.7.cmml">a</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.2.m2.1.1.1e" xref="S5.SS1.SSS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.2.m2.1.1.8" xref="S5.SS1.SSS3.p1.2.m2.1.1.8.cmml">x</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS3.p1.2.m2.1b"><apply id="S5.SS1.SSS3.p1.2.m2.1.1.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1"><times id="S5.SS1.SSS3.p1.2.m2.1.1.1.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1.1"></times><ci id="S5.SS1.SSS3.p1.2.m2.1.1.2.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1.2">𝑠</ci><ci id="S5.SS1.SSS3.p1.2.m2.1.1.3.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1.3">𝑜</ci><ci id="S5.SS1.SSS3.p1.2.m2.1.1.4.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1.4">𝑓</ci><ci id="S5.SS1.SSS3.p1.2.m2.1.1.5.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1.5">𝑡</ci><ci id="S5.SS1.SSS3.p1.2.m2.1.1.6.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1.6">𝑚</ci><ci id="S5.SS1.SSS3.p1.2.m2.1.1.7.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1.7">𝑎</ci><ci id="S5.SS1.SSS3.p1.2.m2.1.1.8.cmml" xref="S5.SS1.SSS3.p1.2.m2.1.1.8">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS3.p1.2.m2.1c">softmax</annotation></semantics></math> activation function (SGD optimizer with 0.001 learning rate, 0.0001 kernel regularizer, and 0.0001 for bias regularizer).
Furthermore, we applied typical parameter values used in other <math id="S5.SS1.SSS3.p1.3.m3.1" class="ltx_Math" alttext="FL" display="inline"><semantics id="S5.SS1.SSS3.p1.3.m3.1a"><mrow id="S5.SS1.SSS3.p1.3.m3.1.1" xref="S5.SS1.SSS3.p1.3.m3.1.1.cmml"><mi id="S5.SS1.SSS3.p1.3.m3.1.1.2" xref="S5.SS1.SSS3.p1.3.m3.1.1.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.3.m3.1.1.1" xref="S5.SS1.SSS3.p1.3.m3.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.3.m3.1.1.3" xref="S5.SS1.SSS3.p1.3.m3.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS3.p1.3.m3.1b"><apply id="S5.SS1.SSS3.p1.3.m3.1.1.cmml" xref="S5.SS1.SSS3.p1.3.m3.1.1"><times id="S5.SS1.SSS3.p1.3.m3.1.1.1.cmml" xref="S5.SS1.SSS3.p1.3.m3.1.1.1"></times><ci id="S5.SS1.SSS3.p1.3.m3.1.1.2.cmml" xref="S5.SS1.SSS3.p1.3.m3.1.1.2">𝐹</ci><ci id="S5.SS1.SSS3.p1.3.m3.1.1.3.cmml" xref="S5.SS1.SSS3.p1.3.m3.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS3.p1.3.m3.1c">FL</annotation></semantics></math> works with <math id="S5.SS1.SSS3.p1.4.m4.1" class="ltx_Math" alttext="CIFAR" display="inline"><semantics id="S5.SS1.SSS3.p1.4.m4.1a"><mrow id="S5.SS1.SSS3.p1.4.m4.1.1" xref="S5.SS1.SSS3.p1.4.m4.1.1.cmml"><mi id="S5.SS1.SSS3.p1.4.m4.1.1.2" xref="S5.SS1.SSS3.p1.4.m4.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.4.m4.1.1.1" xref="S5.SS1.SSS3.p1.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.4.m4.1.1.3" xref="S5.SS1.SSS3.p1.4.m4.1.1.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.4.m4.1.1.1a" xref="S5.SS1.SSS3.p1.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.4.m4.1.1.4" xref="S5.SS1.SSS3.p1.4.m4.1.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.4.m4.1.1.1b" xref="S5.SS1.SSS3.p1.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.4.m4.1.1.5" xref="S5.SS1.SSS3.p1.4.m4.1.1.5.cmml">A</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS3.p1.4.m4.1.1.1c" xref="S5.SS1.SSS3.p1.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS3.p1.4.m4.1.1.6" xref="S5.SS1.SSS3.p1.4.m4.1.1.6.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS3.p1.4.m4.1b"><apply id="S5.SS1.SSS3.p1.4.m4.1.1.cmml" xref="S5.SS1.SSS3.p1.4.m4.1.1"><times id="S5.SS1.SSS3.p1.4.m4.1.1.1.cmml" xref="S5.SS1.SSS3.p1.4.m4.1.1.1"></times><ci id="S5.SS1.SSS3.p1.4.m4.1.1.2.cmml" xref="S5.SS1.SSS3.p1.4.m4.1.1.2">𝐶</ci><ci id="S5.SS1.SSS3.p1.4.m4.1.1.3.cmml" xref="S5.SS1.SSS3.p1.4.m4.1.1.3">𝐼</ci><ci id="S5.SS1.SSS3.p1.4.m4.1.1.4.cmml" xref="S5.SS1.SSS3.p1.4.m4.1.1.4">𝐹</ci><ci id="S5.SS1.SSS3.p1.4.m4.1.1.5.cmml" xref="S5.SS1.SSS3.p1.4.m4.1.1.5">𝐴</ci><ci id="S5.SS1.SSS3.p1.4.m4.1.1.6.cmml" xref="S5.SS1.SSS3.p1.4.m4.1.1.6">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS3.p1.4.m4.1c">CIFAR</annotation></semantics></math>-<math id="S5.SS1.SSS3.p1.5.m5.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S5.SS1.SSS3.p1.5.m5.1a"><mn id="S5.SS1.SSS3.p1.5.m5.1.1" xref="S5.SS1.SSS3.p1.5.m5.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS3.p1.5.m5.1b"><cn type="integer" id="S5.SS1.SSS3.p1.5.m5.1.1.cmml" xref="S5.SS1.SSS3.p1.5.m5.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS3.p1.5.m5.1c">10</annotation></semantics></math>: 20 samples per batch and 20 epochs per batch.
We experimented with 10 up to 30 FL rounds.</p>
</div>
</section>
<section id="S5.SS1.SSS4" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.4. </span>Performance Metrics</h4>

<div id="S5.SS1.SSS4.p1" class="ltx_para">
<p id="S5.SS1.SSS4.p1.2" class="ltx_p">We measure model performance using Accuracy when testing the global FL model on 1,000 unseen samples of <math id="S5.SS1.SSS4.p1.1.m1.1" class="ltx_Math" alttext="CIFAR" display="inline"><semantics id="S5.SS1.SSS4.p1.1.m1.1a"><mrow id="S5.SS1.SSS4.p1.1.m1.1.1" xref="S5.SS1.SSS4.p1.1.m1.1.1.cmml"><mi id="S5.SS1.SSS4.p1.1.m1.1.1.2" xref="S5.SS1.SSS4.p1.1.m1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS4.p1.1.m1.1.1.1" xref="S5.SS1.SSS4.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS4.p1.1.m1.1.1.3" xref="S5.SS1.SSS4.p1.1.m1.1.1.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS4.p1.1.m1.1.1.1a" xref="S5.SS1.SSS4.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS4.p1.1.m1.1.1.4" xref="S5.SS1.SSS4.p1.1.m1.1.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS4.p1.1.m1.1.1.1b" xref="S5.SS1.SSS4.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS4.p1.1.m1.1.1.5" xref="S5.SS1.SSS4.p1.1.m1.1.1.5.cmml">A</mi><mo lspace="0em" rspace="0em" id="S5.SS1.SSS4.p1.1.m1.1.1.1c" xref="S5.SS1.SSS4.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS1.SSS4.p1.1.m1.1.1.6" xref="S5.SS1.SSS4.p1.1.m1.1.1.6.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS4.p1.1.m1.1b"><apply id="S5.SS1.SSS4.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS4.p1.1.m1.1.1"><times id="S5.SS1.SSS4.p1.1.m1.1.1.1.cmml" xref="S5.SS1.SSS4.p1.1.m1.1.1.1"></times><ci id="S5.SS1.SSS4.p1.1.m1.1.1.2.cmml" xref="S5.SS1.SSS4.p1.1.m1.1.1.2">𝐶</ci><ci id="S5.SS1.SSS4.p1.1.m1.1.1.3.cmml" xref="S5.SS1.SSS4.p1.1.m1.1.1.3">𝐼</ci><ci id="S5.SS1.SSS4.p1.1.m1.1.1.4.cmml" xref="S5.SS1.SSS4.p1.1.m1.1.1.4">𝐹</ci><ci id="S5.SS1.SSS4.p1.1.m1.1.1.5.cmml" xref="S5.SS1.SSS4.p1.1.m1.1.1.5">𝐴</ci><ci id="S5.SS1.SSS4.p1.1.m1.1.1.6.cmml" xref="S5.SS1.SSS4.p1.1.m1.1.1.6">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS4.p1.1.m1.1c">CIFAR</annotation></semantics></math>-<math id="S5.SS1.SSS4.p1.2.m2.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S5.SS1.SSS4.p1.2.m2.1a"><mn id="S5.SS1.SSS4.p1.2.m2.1.1" xref="S5.SS1.SSS4.p1.2.m2.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS4.p1.2.m2.1b"><cn type="integer" id="S5.SS1.SSS4.p1.2.m2.1.1.cmml" xref="S5.SS1.SSS4.p1.2.m2.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS4.p1.2.m2.1c">10</annotation></semantics></math>.
This ML performance is 1) measured on FL global models built in ideal scenarios (via simulation) when all user devices participate in all FL rounds, and 2) compared to real scenarios with real user devices freely joining and completing or dropping their FL rounds depending on their actual phone usage.
The simulation environment uses Keras TensorFlow v2.6.0 under Python v3.8.12.</p>
</div>
<div id="S5.SS1.SSS4.p2" class="ltx_para">
<p id="S5.SS1.SSS4.p2.1" class="ltx_p">We assess the cost of on-device FLaaS functionalities by measuring computing cost via CPU utilization (in %), time delay (in minutes), and battery discharge (in mAh) taken to compute said ML tasks.
These metrics are computed in a course-grained fashion on real user devices while training ML models, as well as in a fine-grained, lab-controlled fashion on test devices using the BatteryLab infrastructure <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib45" title="" class="ltx_ref">batterylab, </a>)</cite> that utilizes <em id="S5.SS1.SSS4.p2.1.1" class="ltx_emph ltx_font_italic">Monsoon High Voltage Power Monitor</em> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib34" title="" class="ltx_ref">msoon, </a>)</cite> for accurately measuring power discharge of a phone’s battery.</p>
</div>
</section>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>How does FLaaS operate in the wild?</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.3" class="ltx_p">We assess system deployability and overhead by designing a user study and deploying the various FLaaS components on real user devices.
Recruited users are paid for their participation over two weeks providing their consent for:</p>
<ol id="S5.I2" class="ltx_enumerate">
<li id="S5.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span> 
<div id="S5.I2.i1.p1" class="ltx_para">
<p id="S5.I2.i1.p1.2" class="ltx_p">Installing 4 mobile apps: FLaaS Local and RGB apps, each preloaded with 150 <math id="S5.I2.i1.p1.1.m1.1" class="ltx_Math" alttext="CIFAR" display="inline"><semantics id="S5.I2.i1.p1.1.m1.1a"><mrow id="S5.I2.i1.p1.1.m1.1.1" xref="S5.I2.i1.p1.1.m1.1.1.cmml"><mi id="S5.I2.i1.p1.1.m1.1.1.2" xref="S5.I2.i1.p1.1.m1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S5.I2.i1.p1.1.m1.1.1.1" xref="S5.I2.i1.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.I2.i1.p1.1.m1.1.1.3" xref="S5.I2.i1.p1.1.m1.1.1.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S5.I2.i1.p1.1.m1.1.1.1a" xref="S5.I2.i1.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.I2.i1.p1.1.m1.1.1.4" xref="S5.I2.i1.p1.1.m1.1.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="S5.I2.i1.p1.1.m1.1.1.1b" xref="S5.I2.i1.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.I2.i1.p1.1.m1.1.1.5" xref="S5.I2.i1.p1.1.m1.1.1.5.cmml">A</mi><mo lspace="0em" rspace="0em" id="S5.I2.i1.p1.1.m1.1.1.1c" xref="S5.I2.i1.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.I2.i1.p1.1.m1.1.1.6" xref="S5.I2.i1.p1.1.m1.1.1.6.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.I2.i1.p1.1.m1.1b"><apply id="S5.I2.i1.p1.1.m1.1.1.cmml" xref="S5.I2.i1.p1.1.m1.1.1"><times id="S5.I2.i1.p1.1.m1.1.1.1.cmml" xref="S5.I2.i1.p1.1.m1.1.1.1"></times><ci id="S5.I2.i1.p1.1.m1.1.1.2.cmml" xref="S5.I2.i1.p1.1.m1.1.1.2">𝐶</ci><ci id="S5.I2.i1.p1.1.m1.1.1.3.cmml" xref="S5.I2.i1.p1.1.m1.1.1.3">𝐼</ci><ci id="S5.I2.i1.p1.1.m1.1.1.4.cmml" xref="S5.I2.i1.p1.1.m1.1.1.4">𝐹</ci><ci id="S5.I2.i1.p1.1.m1.1.1.5.cmml" xref="S5.I2.i1.p1.1.m1.1.1.5">𝐴</ci><ci id="S5.I2.i1.p1.1.m1.1.1.6.cmml" xref="S5.I2.i1.p1.1.m1.1.1.6">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i1.p1.1.m1.1c">CIFAR</annotation></semantics></math>-<math id="S5.I2.i1.p1.2.m2.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S5.I2.i1.p1.2.m2.1a"><mn id="S5.I2.i1.p1.2.m2.1.1" xref="S5.I2.i1.p1.2.m2.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S5.I2.i1.p1.2.m2.1b"><cn type="integer" id="S5.I2.i1.p1.2.m2.1.1.cmml" xref="S5.I2.i1.p1.2.m2.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.I2.i1.p1.2.m2.1c">10</annotation></semantics></math> samples for each of the 4 data distributions.</p>
</div>
</li>
<li id="S5.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span> 
<div id="S5.I2.i2.p1" class="ltx_para">
<p id="S5.I2.i2.p1.1" class="ltx_p">The FLaaS Server to receive regular status from their device, to decide if it is available for local ML training inside the third-party apps and FLaaS Local.</p>
</div>
</li>
<li id="S5.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span> 
<div id="S5.I2.i3.p1" class="ltx_para">
<p id="S5.I2.i3.p1.1" class="ltx_p">The FLaaS Server to invite their device to join FL projects and perform ML training on the preloaded data.</p>
</div>
</li>
</ol>
<p id="S5.SS2.p1.2" class="ltx_p">Note: the ML models are never trained on user personal data; only on <math id="S5.SS2.p1.1.m1.1" class="ltx_Math" alttext="CIFAR" display="inline"><semantics id="S5.SS2.p1.1.m1.1a"><mrow id="S5.SS2.p1.1.m1.1.1" xref="S5.SS2.p1.1.m1.1.1.cmml"><mi id="S5.SS2.p1.1.m1.1.1.2" xref="S5.SS2.p1.1.m1.1.1.2.cmml">C</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p1.1.m1.1.1.1" xref="S5.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS2.p1.1.m1.1.1.3" xref="S5.SS2.p1.1.m1.1.1.3.cmml">I</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p1.1.m1.1.1.1a" xref="S5.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS2.p1.1.m1.1.1.4" xref="S5.SS2.p1.1.m1.1.1.4.cmml">F</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p1.1.m1.1.1.1b" xref="S5.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS2.p1.1.m1.1.1.5" xref="S5.SS2.p1.1.m1.1.1.5.cmml">A</mi><mo lspace="0em" rspace="0em" id="S5.SS2.p1.1.m1.1.1.1c" xref="S5.SS2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS2.p1.1.m1.1.1.6" xref="S5.SS2.p1.1.m1.1.1.6.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.1b"><apply id="S5.SS2.p1.1.m1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1"><times id="S5.SS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1.1"></times><ci id="S5.SS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.p1.1.m1.1.1.2">𝐶</ci><ci id="S5.SS2.p1.1.m1.1.1.3.cmml" xref="S5.SS2.p1.1.m1.1.1.3">𝐼</ci><ci id="S5.SS2.p1.1.m1.1.1.4.cmml" xref="S5.SS2.p1.1.m1.1.1.4">𝐹</ci><ci id="S5.SS2.p1.1.m1.1.1.5.cmml" xref="S5.SS2.p1.1.m1.1.1.5">𝐴</ci><ci id="S5.SS2.p1.1.m1.1.1.6.cmml" xref="S5.SS2.p1.1.m1.1.1.6">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.1c">CIFAR</annotation></semantics></math>-<math id="S5.SS2.p1.2.m2.1" class="ltx_Math" alttext="10" display="inline"><semantics id="S5.SS2.p1.2.m2.1a"><mn id="S5.SS2.p1.2.m2.1.1" xref="S5.SS2.p1.2.m2.1.1.cmml">10</mn><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.2.m2.1b"><cn type="integer" id="S5.SS2.p1.2.m2.1.1.cmml" xref="S5.SS2.p1.2.m2.1.1">10</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">10</annotation></semantics></math> sets of pre-allocated samples in each app installed by users.
In fact, this user study followed strict principles of ethical information research and use of shared measurement data <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib14" title="" class="ltx_ref">dittrich2012menloreport, </a>; <a href="#bib.bib38" title="" class="ltx_ref">rivers2014ethicalresearchstandards, </a>)</cite>, as well as our institution’s ethical, privacy and security policies, in compliance with GDPR on getting informed consents from users for handling their data.</p>
</div>
<section id="S5.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.1. </span>What is the device availability for FLaaS tasks?</h4>

<div id="S5.SS2.SSS1.p1" class="ltx_para">
<p id="S5.SS2.SSS1.p1.1" class="ltx_p">We actively recruit users for two weeks, asking each to participate for at least 2 weeks to allow us enough time to perform essential ML training tasks.
However, users are free to join and exit the study at any moment creating a dynamic set of client devices available for FLaaS-related ML tasks.
The overall duration of the user study is 4 weeks, with a total of 144 unique users from 5 EU countries sharing the same timezone, joining and installing the FLaaS apps for at least 1 day.
We observe a fairly balanced breakdown of users with respect to gender (61% male, 39% female) and age groups (18-29y: 34%, 30-39y: 41%, 40-49y: 17%, 50+y: 8%).
Furthermore, we identify 116 unique models of Android phones, from 15 unique smartphone manufacturers.
The top 3 are Samsung (44%), Xiaomi (24%) and Huawei (12%).</p>
</div>
<figure id="S5.F4" class="ltx_figure ltx_align_center"><img src="/html/2206.10963/assets/x4.png" id="S5.F4.1.g1" class="ltx_graphics ltx_img_landscape" width="538" height="193" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.3.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>. </span><span id="S5.F4.4.2" class="ltx_text" style="font-size:90%;">Portion of unique devices available for FL training per hour, during the study.
Error bars: 1 st. deviation.
</span></figcaption>
</figure>
<figure id="S5.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.10963/assets/x5.png" id="S5.F5.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="276" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S5.F5.sf1.3.2" class="ltx_text" style="font-size:90%;">IID</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.10963/assets/x6.png" id="S5.F5.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="276" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S5.F5.sf2.3.2" class="ltx_text" style="font-size:90%;">NonIIDPU</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F5.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.10963/assets/x7.png" id="S5.F5.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="276" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S5.F5.sf3.3.2" class="ltx_text" style="font-size:90%;">NonIIDPAO</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F5.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.10963/assets/x8.png" id="S5.F5.sf4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="276" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf4.2.1.1" class="ltx_text" style="font-size:90%;">(d)</span> </span><span id="S5.F5.sf4.3.2" class="ltx_text" style="font-size:90%;">NonIIDPAP</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.2.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>. </span><span id="S5.F5.3.2" class="ltx_text" style="font-size:90%;">Test accuracy per FL round, for different experimental configurations: IID, NonIIDPU, NonIIDPAO, NonIIDPAP, with Joint Samples (JS) vs. Joint Models (JM).
Horizontal dashed line: Baseline with centralized ML on all data.</span></figcaption>
</figure>
<div id="S5.SS2.SSS1.p2" class="ltx_para">
<p id="S5.SS2.SSS1.p2.1" class="ltx_p">We found an average of 94-99% of total (or 76-94 unique) devices available per day for FLaaS ML tasks.
This ratio was fairly constant across all days of the week.
When studying device availability on a more granular level (<em id="S5.SS2.SSS1.p2.1.1" class="ltx_emph ltx_font_italic">i.e.</em>, per hour, Fig. <a href="#S5.F4" title="Figure 4 ‣ 5.2.1. What is the device availability for FLaaS tasks? ‣ 5.2. How does FLaaS operate in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>), we find that there are 37-82% of total (or 33-73 unique) devices available for training at any given hour of the day.
We observe a slight diurnal behavior of user devices (since they are a proxy of users being active on their phones), with a slight dip in availability during early morning hours, and an increase during work and dinner hours.</p>
</div>
</section>
<section id="S5.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.2. </span>What is the user perception of FLaaS impact on devices?</h4>

<div id="S5.SS2.SSS2.p1" class="ltx_para">
<p id="S5.SS2.SSS2.p1.1" class="ltx_p">Users are also prompted 3 times per day to fill-in a simple user survey of 4 questions to provide feedback on (i) their mobility through the day (scale 1-5), (ii) their phone usage through the day (scale 1-5), (iii) their phone performance through the day (with 3 possible answers, <em id="S5.SS2.SSS2.p1.1.1" class="ltx_emph ltx_font_italic">e.g.</em>, if during the day, their phone performed slower or was heating more often than usual) and (iv) the battery performance through the day (with 3 possible answers, <em id="S5.SS2.SSS2.p1.1.2" class="ltx_emph ltx_font_italic">e.g.</em>, if during the day, their phone was running out of battery more often than usual).</p>
</div>
<div id="S5.SS2.SSS2.p2" class="ltx_para">
<p id="S5.SS2.SSS2.p2.13" class="ltx_p">We observe these prompts produced 3 corresponding spikes in device availability at 10am, 2pm and 6pm CET (Fig. <a href="#S5.F4" title="Figure 4 ‣ 5.2.1. What is the device availability for FLaaS tasks? ‣ 5.2. How does FLaaS operate in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).
We collect <math id="S5.SS2.SSS2.p2.1.m1.1" class="ltx_Math" alttext="3780" display="inline"><semantics id="S5.SS2.SSS2.p2.1.m1.1a"><mn id="S5.SS2.SSS2.p2.1.m1.1.1" xref="S5.SS2.SSS2.p2.1.m1.1.1.cmml">3780</mn><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.1.m1.1b"><cn type="integer" id="S5.SS2.SSS2.p2.1.m1.1.1.cmml" xref="S5.SS2.SSS2.p2.1.m1.1.1">3780</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.1.m1.1c">3780</annotation></semantics></math> survey responses across users and time.
In summary, <math id="S5.SS2.SSS2.p2.2.m2.1" class="ltx_Math" alttext="90.8\%" display="inline"><semantics id="S5.SS2.SSS2.p2.2.m2.1a"><mrow id="S5.SS2.SSS2.p2.2.m2.1.1" xref="S5.SS2.SSS2.p2.2.m2.1.1.cmml"><mn id="S5.SS2.SSS2.p2.2.m2.1.1.2" xref="S5.SS2.SSS2.p2.2.m2.1.1.2.cmml">90.8</mn><mo id="S5.SS2.SSS2.p2.2.m2.1.1.1" xref="S5.SS2.SSS2.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.2.m2.1b"><apply id="S5.SS2.SSS2.p2.2.m2.1.1.cmml" xref="S5.SS2.SSS2.p2.2.m2.1.1"><csymbol cd="latexml" id="S5.SS2.SSS2.p2.2.m2.1.1.1.cmml" xref="S5.SS2.SSS2.p2.2.m2.1.1.1">percent</csymbol><cn type="float" id="S5.SS2.SSS2.p2.2.m2.1.1.2.cmml" xref="S5.SS2.SSS2.p2.2.m2.1.1.2">90.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.2.m2.1c">90.8\%</annotation></semantics></math> remarked no change in phone performance, <math id="S5.SS2.SSS2.p2.3.m3.1" class="ltx_Math" alttext="8.5\%" display="inline"><semantics id="S5.SS2.SSS2.p2.3.m3.1a"><mrow id="S5.SS2.SSS2.p2.3.m3.1.1" xref="S5.SS2.SSS2.p2.3.m3.1.1.cmml"><mn id="S5.SS2.SSS2.p2.3.m3.1.1.2" xref="S5.SS2.SSS2.p2.3.m3.1.1.2.cmml">8.5</mn><mo id="S5.SS2.SSS2.p2.3.m3.1.1.1" xref="S5.SS2.SSS2.p2.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.3.m3.1b"><apply id="S5.SS2.SSS2.p2.3.m3.1.1.cmml" xref="S5.SS2.SSS2.p2.3.m3.1.1"><csymbol cd="latexml" id="S5.SS2.SSS2.p2.3.m3.1.1.1.cmml" xref="S5.SS2.SSS2.p2.3.m3.1.1.1">percent</csymbol><cn type="float" id="S5.SS2.SSS2.p2.3.m3.1.1.2.cmml" xref="S5.SS2.SSS2.p2.3.m3.1.1.2">8.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.3.m3.1c">8.5\%</annotation></semantics></math> noticed some change (device was slower/warmed-up a bit), and only <math id="S5.SS2.SSS2.p2.4.m4.1" class="ltx_Math" alttext="0.8\%" display="inline"><semantics id="S5.SS2.SSS2.p2.4.m4.1a"><mrow id="S5.SS2.SSS2.p2.4.m4.1.1" xref="S5.SS2.SSS2.p2.4.m4.1.1.cmml"><mn id="S5.SS2.SSS2.p2.4.m4.1.1.2" xref="S5.SS2.SSS2.p2.4.m4.1.1.2.cmml">0.8</mn><mo id="S5.SS2.SSS2.p2.4.m4.1.1.1" xref="S5.SS2.SSS2.p2.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.4.m4.1b"><apply id="S5.SS2.SSS2.p2.4.m4.1.1.cmml" xref="S5.SS2.SSS2.p2.4.m4.1.1"><csymbol cd="latexml" id="S5.SS2.SSS2.p2.4.m4.1.1.1.cmml" xref="S5.SS2.SSS2.p2.4.m4.1.1.1">percent</csymbol><cn type="float" id="S5.SS2.SSS2.p2.4.m4.1.1.2.cmml" xref="S5.SS2.SSS2.p2.4.m4.1.1.2">0.8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.4.m4.1c">0.8\%</annotation></semantics></math> noticed a drastic change (device was very slow/warmed-up a lot).
Also, <math id="S5.SS2.SSS2.p2.5.m5.1" class="ltx_Math" alttext="73.7\%" display="inline"><semantics id="S5.SS2.SSS2.p2.5.m5.1a"><mrow id="S5.SS2.SSS2.p2.5.m5.1.1" xref="S5.SS2.SSS2.p2.5.m5.1.1.cmml"><mn id="S5.SS2.SSS2.p2.5.m5.1.1.2" xref="S5.SS2.SSS2.p2.5.m5.1.1.2.cmml">73.7</mn><mo id="S5.SS2.SSS2.p2.5.m5.1.1.1" xref="S5.SS2.SSS2.p2.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.5.m5.1b"><apply id="S5.SS2.SSS2.p2.5.m5.1.1.cmml" xref="S5.SS2.SSS2.p2.5.m5.1.1"><csymbol cd="latexml" id="S5.SS2.SSS2.p2.5.m5.1.1.1.cmml" xref="S5.SS2.SSS2.p2.5.m5.1.1.1">percent</csymbol><cn type="float" id="S5.SS2.SSS2.p2.5.m5.1.1.2.cmml" xref="S5.SS2.SSS2.p2.5.m5.1.1.2">73.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.5.m5.1c">73.7\%</annotation></semantics></math> remarked no change of phone battery, <math id="S5.SS2.SSS2.p2.6.m6.1" class="ltx_Math" alttext="22.7\%" display="inline"><semantics id="S5.SS2.SSS2.p2.6.m6.1a"><mrow id="S5.SS2.SSS2.p2.6.m6.1.1" xref="S5.SS2.SSS2.p2.6.m6.1.1.cmml"><mn id="S5.SS2.SSS2.p2.6.m6.1.1.2" xref="S5.SS2.SSS2.p2.6.m6.1.1.2.cmml">22.7</mn><mo id="S5.SS2.SSS2.p2.6.m6.1.1.1" xref="S5.SS2.SSS2.p2.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.6.m6.1b"><apply id="S5.SS2.SSS2.p2.6.m6.1.1.cmml" xref="S5.SS2.SSS2.p2.6.m6.1.1"><csymbol cd="latexml" id="S5.SS2.SSS2.p2.6.m6.1.1.1.cmml" xref="S5.SS2.SSS2.p2.6.m6.1.1.1">percent</csymbol><cn type="float" id="S5.SS2.SSS2.p2.6.m6.1.1.2.cmml" xref="S5.SS2.SSS2.p2.6.m6.1.1.2">22.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.6.m6.1c">22.7\%</annotation></semantics></math> noticed their battery was somewhat lower than usual and only <math id="S5.SS2.SSS2.p2.7.m7.1" class="ltx_Math" alttext="3.6\%" display="inline"><semantics id="S5.SS2.SSS2.p2.7.m7.1a"><mrow id="S5.SS2.SSS2.p2.7.m7.1.1" xref="S5.SS2.SSS2.p2.7.m7.1.1.cmml"><mn id="S5.SS2.SSS2.p2.7.m7.1.1.2" xref="S5.SS2.SSS2.p2.7.m7.1.1.2.cmml">3.6</mn><mo id="S5.SS2.SSS2.p2.7.m7.1.1.1" xref="S5.SS2.SSS2.p2.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.7.m7.1b"><apply id="S5.SS2.SSS2.p2.7.m7.1.1.cmml" xref="S5.SS2.SSS2.p2.7.m7.1.1"><csymbol cd="latexml" id="S5.SS2.SSS2.p2.7.m7.1.1.1.cmml" xref="S5.SS2.SSS2.p2.7.m7.1.1.1">percent</csymbol><cn type="float" id="S5.SS2.SSS2.p2.7.m7.1.1.2.cmml" xref="S5.SS2.SSS2.p2.7.m7.1.1.2">3.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.7.m7.1c">3.6\%</annotation></semantics></math> noticed a drastic change on battery/had to charge it more than usual.
Perhaps expectedly, we noticed a significant correlation between users’ declared mobility and usage of phone (<math id="S5.SS2.SSS2.p2.8.m8.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="S5.SS2.SSS2.p2.8.m8.1a"><mi id="S5.SS2.SSS2.p2.8.m8.1.1" xref="S5.SS2.SSS2.p2.8.m8.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.8.m8.1b"><ci id="S5.SS2.SSS2.p2.8.m8.1.1.cmml" xref="S5.SS2.SSS2.p2.8.m8.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.8.m8.1c">\rho</annotation></semantics></math>=0.365, p-value<math id="S5.SS2.SSS2.p2.9.m9.1" class="ltx_Math" alttext="&lt;" display="inline"><semantics id="S5.SS2.SSS2.p2.9.m9.1a"><mo id="S5.SS2.SSS2.p2.9.m9.1.1" xref="S5.SS2.SSS2.p2.9.m9.1.1.cmml">&lt;</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.9.m9.1b"><lt id="S5.SS2.SSS2.p2.9.m9.1.1.cmml" xref="S5.SS2.SSS2.p2.9.m9.1.1"></lt></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.9.m9.1c">&lt;</annotation></semantics></math><math id="S5.SS2.SSS2.p2.10.m10.1" class="ltx_Math" alttext="3e^{-16}" display="inline"><semantics id="S5.SS2.SSS2.p2.10.m10.1a"><mrow id="S5.SS2.SSS2.p2.10.m10.1.1" xref="S5.SS2.SSS2.p2.10.m10.1.1.cmml"><mn id="S5.SS2.SSS2.p2.10.m10.1.1.2" xref="S5.SS2.SSS2.p2.10.m10.1.1.2.cmml">3</mn><mo lspace="0em" rspace="0em" id="S5.SS2.SSS2.p2.10.m10.1.1.1" xref="S5.SS2.SSS2.p2.10.m10.1.1.1.cmml">​</mo><msup id="S5.SS2.SSS2.p2.10.m10.1.1.3" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.cmml"><mi id="S5.SS2.SSS2.p2.10.m10.1.1.3.2" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.2.cmml">e</mi><mrow id="S5.SS2.SSS2.p2.10.m10.1.1.3.3" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.3.cmml"><mo id="S5.SS2.SSS2.p2.10.m10.1.1.3.3a" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.3.cmml">−</mo><mn id="S5.SS2.SSS2.p2.10.m10.1.1.3.3.2" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.3.2.cmml">16</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.10.m10.1b"><apply id="S5.SS2.SSS2.p2.10.m10.1.1.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1"><times id="S5.SS2.SSS2.p2.10.m10.1.1.1.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1.1"></times><cn type="integer" id="S5.SS2.SSS2.p2.10.m10.1.1.2.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1.2">3</cn><apply id="S5.SS2.SSS2.p2.10.m10.1.1.3.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.SSS2.p2.10.m10.1.1.3.1.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1.3">superscript</csymbol><ci id="S5.SS2.SSS2.p2.10.m10.1.1.3.2.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.2">𝑒</ci><apply id="S5.SS2.SSS2.p2.10.m10.1.1.3.3.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.3"><minus id="S5.SS2.SSS2.p2.10.m10.1.1.3.3.1.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.3"></minus><cn type="integer" id="S5.SS2.SSS2.p2.10.m10.1.1.3.3.2.cmml" xref="S5.SS2.SSS2.p2.10.m10.1.1.3.3.2">16</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.10.m10.1c">3e^{-16}</annotation></semantics></math>), stating the obvious: users use their phone more often when they moved.
Similarly, we find a significant correlation between users’ declared phone overall performance and phone battery consumption (<math id="S5.SS2.SSS2.p2.11.m11.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="S5.SS2.SSS2.p2.11.m11.1a"><mi id="S5.SS2.SSS2.p2.11.m11.1.1" xref="S5.SS2.SSS2.p2.11.m11.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.11.m11.1b"><ci id="S5.SS2.SSS2.p2.11.m11.1.1.cmml" xref="S5.SS2.SSS2.p2.11.m11.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.11.m11.1c">\rho</annotation></semantics></math>=0.413, p-value<math id="S5.SS2.SSS2.p2.12.m12.1" class="ltx_Math" alttext="&lt;" display="inline"><semantics id="S5.SS2.SSS2.p2.12.m12.1a"><mo id="S5.SS2.SSS2.p2.12.m12.1.1" xref="S5.SS2.SSS2.p2.12.m12.1.1.cmml">&lt;</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.12.m12.1b"><lt id="S5.SS2.SSS2.p2.12.m12.1.1.cmml" xref="S5.SS2.SSS2.p2.12.m12.1.1"></lt></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.12.m12.1c">&lt;</annotation></semantics></math><math id="S5.SS2.SSS2.p2.13.m13.1" class="ltx_Math" alttext="2.2e^{-16}" display="inline"><semantics id="S5.SS2.SSS2.p2.13.m13.1a"><mrow id="S5.SS2.SSS2.p2.13.m13.1.1" xref="S5.SS2.SSS2.p2.13.m13.1.1.cmml"><mn id="S5.SS2.SSS2.p2.13.m13.1.1.2" xref="S5.SS2.SSS2.p2.13.m13.1.1.2.cmml">2.2</mn><mo lspace="0em" rspace="0em" id="S5.SS2.SSS2.p2.13.m13.1.1.1" xref="S5.SS2.SSS2.p2.13.m13.1.1.1.cmml">​</mo><msup id="S5.SS2.SSS2.p2.13.m13.1.1.3" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.cmml"><mi id="S5.SS2.SSS2.p2.13.m13.1.1.3.2" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.2.cmml">e</mi><mrow id="S5.SS2.SSS2.p2.13.m13.1.1.3.3" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.3.cmml"><mo id="S5.SS2.SSS2.p2.13.m13.1.1.3.3a" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.3.cmml">−</mo><mn id="S5.SS2.SSS2.p2.13.m13.1.1.3.3.2" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.3.2.cmml">16</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p2.13.m13.1b"><apply id="S5.SS2.SSS2.p2.13.m13.1.1.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1"><times id="S5.SS2.SSS2.p2.13.m13.1.1.1.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1.1"></times><cn type="float" id="S5.SS2.SSS2.p2.13.m13.1.1.2.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1.2">2.2</cn><apply id="S5.SS2.SSS2.p2.13.m13.1.1.3.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1.3"><csymbol cd="ambiguous" id="S5.SS2.SSS2.p2.13.m13.1.1.3.1.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1.3">superscript</csymbol><ci id="S5.SS2.SSS2.p2.13.m13.1.1.3.2.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.2">𝑒</ci><apply id="S5.SS2.SSS2.p2.13.m13.1.1.3.3.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.3"><minus id="S5.SS2.SSS2.p2.13.m13.1.1.3.3.1.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.3"></minus><cn type="integer" id="S5.SS2.SSS2.p2.13.m13.1.1.3.3.2.cmml" xref="S5.SS2.SSS2.p2.13.m13.1.1.3.3.2">16</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p2.13.m13.1c">2.2e^{-16}</annotation></semantics></math>).
These results confirm that users who noticed their phone having performance slowdown, also found their battery performing worse.</p>
</div>
<div id="S5.SS2.SSS2.p3" class="ltx_para ltx_noindent">
<p id="S5.SS2.SSS2.p3.1" class="ltx_p"><span id="S5.SS2.SSS2.p3.1.1" class="ltx_text ltx_font_bold">Summary:</span>
Overall, we find more than 94% of registered devices available per day for ML training tasks (<math id="S5.SS2.SSS2.p3.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S5.SS2.SSS2.p3.1.m1.1a"><mo id="S5.SS2.SSS2.p3.1.m1.1.1" xref="S5.SS2.SSS2.p3.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p3.1.m1.1b"><csymbol cd="latexml" id="S5.SS2.SSS2.p3.1.m1.1.1.cmml" xref="S5.SS2.SSS2.p3.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p3.1.m1.1c">\sim</annotation></semantics></math>33-73 unique devices at any hour of day), and a slight diurnal behavior of user devices in their availability.
Also, users appear to be OK with the way their phone is performing during the day and while FLaaS ML training tasks are executed at the same time as their daily phone tasks.
These results demonstrate that running FL model training on real users’ phones is practical when utilizing available OS APIs, even with the introduced restrictions that affect the duration of a FL round.</p>
</div>
</section>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>How well can FL models train in the wild?</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">The user study aims to investigate to what extend real devices can execute FL tasks with a variable number of devices.
During the study, we execute more than 50 different FL projects, while varying experimental parameters such as:</p>
<ul id="S5.I3" class="ltx_itemize">
<li id="S5.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i1.p1" class="ltx_para">
<p id="S5.I3.i1.p1.1" class="ltx_p">type of local ML modeling: single-app vs. cross-app</p>
</div>
</li>
<li id="S5.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i2.p1" class="ltx_para">
<p id="S5.I3.i2.p1.2" class="ltx_p">type of cross-app modeling: <math id="S5.I3.i2.p1.1.m1.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.I3.i2.p1.1.m1.1a"><mrow id="S5.I3.i2.p1.1.m1.1.1" xref="S5.I3.i2.p1.1.m1.1.1.cmml"><mi id="S5.I3.i2.p1.1.m1.1.1.2" xref="S5.I3.i2.p1.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.I3.i2.p1.1.m1.1.1.1" xref="S5.I3.i2.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.I3.i2.p1.1.m1.1.1.3" xref="S5.I3.i2.p1.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.I3.i2.p1.1.m1.1b"><apply id="S5.I3.i2.p1.1.m1.1.1.cmml" xref="S5.I3.i2.p1.1.m1.1.1"><times id="S5.I3.i2.p1.1.m1.1.1.1.cmml" xref="S5.I3.i2.p1.1.m1.1.1.1"></times><ci id="S5.I3.i2.p1.1.m1.1.1.2.cmml" xref="S5.I3.i2.p1.1.m1.1.1.2">𝐽</ci><ci id="S5.I3.i2.p1.1.m1.1.1.3.cmml" xref="S5.I3.i2.p1.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I3.i2.p1.1.m1.1c">JS</annotation></semantics></math> vs. <math id="S5.I3.i2.p1.2.m2.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.I3.i2.p1.2.m2.1a"><mrow id="S5.I3.i2.p1.2.m2.1.1" xref="S5.I3.i2.p1.2.m2.1.1.cmml"><mi id="S5.I3.i2.p1.2.m2.1.1.2" xref="S5.I3.i2.p1.2.m2.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.I3.i2.p1.2.m2.1.1.1" xref="S5.I3.i2.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.I3.i2.p1.2.m2.1.1.3" xref="S5.I3.i2.p1.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.I3.i2.p1.2.m2.1b"><apply id="S5.I3.i2.p1.2.m2.1.1.cmml" xref="S5.I3.i2.p1.2.m2.1.1"><times id="S5.I3.i2.p1.2.m2.1.1.1.cmml" xref="S5.I3.i2.p1.2.m2.1.1.1"></times><ci id="S5.I3.i2.p1.2.m2.1.1.2.cmml" xref="S5.I3.i2.p1.2.m2.1.1.2">𝐽</ci><ci id="S5.I3.i2.p1.2.m2.1.1.3.cmml" xref="S5.I3.i2.p1.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.I3.i2.p1.2.m2.1c">JM</annotation></semantics></math></p>
</div>
</li>
<li id="S5.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i3.p1" class="ltx_para">
<p id="S5.I3.i3.p1.1" class="ltx_p">number of apps participating in training: {1, 2, 3}</p>
</div>
</li>
<li id="S5.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i4.p1" class="ltx_para">
<p id="S5.I3.i4.p1.1" class="ltx_p">type of data/app: <span id="S5.I3.i4.p1.1.1" class="ltx_text">IID</span>, <span id="S5.I3.i4.p1.1.2" class="ltx_text">NonIIDPU</span>, <span id="S5.I3.i4.p1.1.3" class="ltx_text">NonIIDPAO</span>, <span id="S5.I3.i4.p1.1.4" class="ltx_text">NonIIDPAP</span></p>
</div>
</li>
<li id="S5.I3.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I3.i5.p1" class="ltx_para">
<p id="S5.I3.i5.p1.1" class="ltx_p">FL round duration: {1, 1.5, 2, 8, 12, or 24} hours</p>
</div>
</li>
</ul>
</div>
<div id="S5.SS3.p2" class="ltx_para">
<p id="S5.SS3.p2.1" class="ltx_p">Due to limited space, we only present results from the more challenging scenarios, involving cross-app FL modeling with 3 apps (RGB) computing models, in JS or JM mode, using IID, NonIIDPU, NonIIDPAO, NonIIDPAP data.</p>
</div>
<figure id="S5.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.10963/assets/x9.png" id="S5.F6.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="107" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S5.F6.sf1.3.2" class="ltx_text" style="font-size:90%;">Available app workers, with average time (and Std.) for task duration (black) and task waiting time (red).</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.10963/assets/x10.png" id="S5.F6.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="346" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S5.F6.sf2.3.2" class="ltx_text" style="font-size:90%;">Model Training</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F6.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.10963/assets/x11.png" id="S5.F6.sf3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="346" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.sf3.2.1.1" class="ltx_text" style="font-size:90%;">(c)</span> </span><span id="S5.F6.sf3.3.2" class="ltx_text" style="font-size:90%;">Total Duration</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.3.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>. </span><span id="S5.F6.4.2" class="ltx_text" style="font-size:90%;">Duration of on-device functions of devices participating in FL round using JS or JM mode.
(a) Available app workers (grey boxes) execute different tasks with duration declared with black numbers; worker dependency can be chained (black arrows) and has task execution waiting time declared with red numbers.
Inter-app communication (dashed arrows) is instantaneous, but with restrictions: OS does not allow a process to take many resources for too long.
(b) CDF of the most expensive worker (<em id="S5.F6.4.2.1" class="ltx_emph ltx_font_italic">i.e.</em>, Model Training) for the JS or JM modes, decomposed in two main tasks: Load Samples and Conduct Training.
(c) CDF of total duration of on-device pipeline, for the two modes.
</span></figcaption>
</figure>
<section id="S5.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.1. </span>How does user availability impact model performance?</h4>

<div id="S5.SS3.SSS1.p1" class="ltx_para">
<p id="S5.SS3.SSS1.p1.1" class="ltx_p">We compare test accuracy achieved per configuration (under 90min FL rounds) on the FLaaS infrastructure using incrementally smaller subsets of user devices:</p>
<ul id="S5.I4" class="ltx_itemize">
<li id="S5.I4.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I4.i1.p1" class="ltx_para">
<p id="S5.I4.i1.p1.1" class="ltx_p">All registered user devices (<math id="S5.I4.i1.p1.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S5.I4.i1.p1.1.m1.1a"><mo id="S5.I4.i1.p1.1.m1.1.1" xref="S5.I4.i1.p1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S5.I4.i1.p1.1.m1.1b"><csymbol cd="latexml" id="S5.I4.i1.p1.1.m1.1.1.cmml" xref="S5.I4.i1.p1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.I4.i1.p1.1.m1.1c">\sim</annotation></semantics></math>100 at any moment) are assumed available and join FL project rounds (results from simulation on GPU cluster).</p>
</div>
</li>
<li id="S5.I4.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I4.i2.p1" class="ltx_para">
<p id="S5.I4.i2.p1.1" class="ltx_p">Only user devices that reported availability are assumed to join FL project rounds; on average 30-70 devices per hour (results from simulation on GPU cluster).</p>
</div>
</li>
<li id="S5.I4.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I4.i3.p1" class="ltx_para">
<p id="S5.I4.i3.p1.1" class="ltx_p">Only user devices that actually joined an FL project, but not necessarily reported a model; on average, 30-70 devices per hour (results from simulation on GPU cluster).</p>
</div>
</li>
<li id="S5.I4.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I4.i4.p1" class="ltx_para">
<p id="S5.I4.i4.p1.1" class="ltx_p">Only user devices that were available, joined the FL project and actually reported a model trained for the FL project; <math id="S5.I4.i4.p1.1.m1.1" class="ltx_Math" alttext="\sim" display="inline"><semantics id="S5.I4.i4.p1.1.m1.1a"><mo id="S5.I4.i4.p1.1.m1.1.1" xref="S5.I4.i4.p1.1.m1.1.1.cmml">∼</mo><annotation-xml encoding="MathML-Content" id="S5.I4.i4.p1.1.m1.1b"><csymbol cd="latexml" id="S5.I4.i4.p1.1.m1.1.1.cmml" xref="S5.I4.i4.p1.1.m1.1.1">similar-to</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.I4.i4.p1.1.m1.1c">\sim</annotation></semantics></math>20-40 devices per hour (results from real user devices).</p>
</div>
</li>
</ul>
</div>
<div id="S5.SS3.SSS1.p2" class="ltx_para">
<p id="S5.SS3.SSS1.p2.1" class="ltx_p">Figure <a href="#S5.F5" title="Figure 5 ‣ 5.2.1. What is the device availability for FLaaS tasks? ‣ 5.2. How does FLaaS operate in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows that across all scenarios, with a few tens of devices joining an FL project, FLaaS can produce a useful model and comparable to a centralized ML model.
In particular, even though the number of user devices joining and delivering ML models is much lower than the ideal, each model trained performs similarly.</p>
</div>
</section>
<section id="S5.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.2. </span>How does data distribution impact model performance?</h4>

<div id="S5.SS3.SSS2.p1" class="ltx_para">
<p id="S5.SS3.SSS2.p1.7" class="ltx_p">We note that in JS mode, and expectedly, IID (Fig. <a href="#S5.F5.sf1" title="In Figure 5 ‣ 5.2.1. What is the device availability for FLaaS tasks? ‣ 5.2. How does FLaaS operate in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(a)</span></a>) leads to ML models with <math id="S5.SS3.SSS2.p1.1.m1.1" class="ltx_Math" alttext="21.58\%" display="inline"><semantics id="S5.SS3.SSS2.p1.1.m1.1a"><mrow id="S5.SS3.SSS2.p1.1.m1.1.1" xref="S5.SS3.SSS2.p1.1.m1.1.1.cmml"><mn id="S5.SS3.SSS2.p1.1.m1.1.1.2" xref="S5.SS3.SSS2.p1.1.m1.1.1.2.cmml">21.58</mn><mo id="S5.SS3.SSS2.p1.1.m1.1.1.1" xref="S5.SS3.SSS2.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.1.m1.1b"><apply id="S5.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S5.SS3.SSS2.p1.1.m1.1.1"><csymbol cd="latexml" id="S5.SS3.SSS2.p1.1.m1.1.1.1.cmml" xref="S5.SS3.SSS2.p1.1.m1.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS2.p1.1.m1.1.1.2.cmml" xref="S5.SS3.SSS2.p1.1.m1.1.1.2">21.58</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.1.m1.1c">21.58\%</annotation></semantics></math> higher accuracy on Replied users, than with NonIIDPU (Fig. <a href="#S5.F5.sf2" title="In Figure 5 ‣ 5.2.1. What is the device availability for FLaaS tasks? ‣ 5.2. How does FLaaS operate in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(b)</span></a>), at the <math id="S5.SS3.SSS2.p1.2.m2.1" class="ltx_Math" alttext="10^{th}" display="inline"><semantics id="S5.SS3.SSS2.p1.2.m2.1a"><msup id="S5.SS3.SSS2.p1.2.m2.1.1" xref="S5.SS3.SSS2.p1.2.m2.1.1.cmml"><mn id="S5.SS3.SSS2.p1.2.m2.1.1.2" xref="S5.SS3.SSS2.p1.2.m2.1.1.2.cmml">10</mn><mrow id="S5.SS3.SSS2.p1.2.m2.1.1.3" xref="S5.SS3.SSS2.p1.2.m2.1.1.3.cmml"><mi id="S5.SS3.SSS2.p1.2.m2.1.1.3.2" xref="S5.SS3.SSS2.p1.2.m2.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S5.SS3.SSS2.p1.2.m2.1.1.3.1" xref="S5.SS3.SSS2.p1.2.m2.1.1.3.1.cmml">​</mo><mi id="S5.SS3.SSS2.p1.2.m2.1.1.3.3" xref="S5.SS3.SSS2.p1.2.m2.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.2.m2.1b"><apply id="S5.SS3.SSS2.p1.2.m2.1.1.cmml" xref="S5.SS3.SSS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS2.p1.2.m2.1.1.1.cmml" xref="S5.SS3.SSS2.p1.2.m2.1.1">superscript</csymbol><cn type="integer" id="S5.SS3.SSS2.p1.2.m2.1.1.2.cmml" xref="S5.SS3.SSS2.p1.2.m2.1.1.2">10</cn><apply id="S5.SS3.SSS2.p1.2.m2.1.1.3.cmml" xref="S5.SS3.SSS2.p1.2.m2.1.1.3"><times id="S5.SS3.SSS2.p1.2.m2.1.1.3.1.cmml" xref="S5.SS3.SSS2.p1.2.m2.1.1.3.1"></times><ci id="S5.SS3.SSS2.p1.2.m2.1.1.3.2.cmml" xref="S5.SS3.SSS2.p1.2.m2.1.1.3.2">𝑡</ci><ci id="S5.SS3.SSS2.p1.2.m2.1.1.3.3.cmml" xref="S5.SS3.SSS2.p1.2.m2.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.2.m2.1c">10^{th}</annotation></semantics></math> round.
NonIIDPAO (Fig. <a href="#S5.F5.sf3" title="In Figure 5 ‣ 5.2.1. What is the device availability for FLaaS tasks? ‣ 5.2. How does FLaaS operate in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(c)</span></a>) and NonIIDPAP (Fig. <a href="#S5.F5.sf4" title="In Figure 5 ‣ 5.2.1. What is the device availability for FLaaS tasks? ‣ 5.2. How does FLaaS operate in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5(d)</span></a>) also perform well; in some cases slightly better (<math id="S5.SS3.SSS2.p1.3.m3.1" class="ltx_Math" alttext="1.05\%" display="inline"><semantics id="S5.SS3.SSS2.p1.3.m3.1a"><mrow id="S5.SS3.SSS2.p1.3.m3.1.1" xref="S5.SS3.SSS2.p1.3.m3.1.1.cmml"><mn id="S5.SS3.SSS2.p1.3.m3.1.1.2" xref="S5.SS3.SSS2.p1.3.m3.1.1.2.cmml">1.05</mn><mo id="S5.SS3.SSS2.p1.3.m3.1.1.1" xref="S5.SS3.SSS2.p1.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.3.m3.1b"><apply id="S5.SS3.SSS2.p1.3.m3.1.1.cmml" xref="S5.SS3.SSS2.p1.3.m3.1.1"><csymbol cd="latexml" id="S5.SS3.SSS2.p1.3.m3.1.1.1.cmml" xref="S5.SS3.SSS2.p1.3.m3.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS2.p1.3.m3.1.1.2.cmml" xref="S5.SS3.SSS2.p1.3.m3.1.1.2">1.05</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.3.m3.1c">1.05\%</annotation></semantics></math> and <math id="S5.SS3.SSS2.p1.4.m4.1" class="ltx_Math" alttext="0.35\%" display="inline"><semantics id="S5.SS3.SSS2.p1.4.m4.1a"><mrow id="S5.SS3.SSS2.p1.4.m4.1.1" xref="S5.SS3.SSS2.p1.4.m4.1.1.cmml"><mn id="S5.SS3.SSS2.p1.4.m4.1.1.2" xref="S5.SS3.SSS2.p1.4.m4.1.1.2.cmml">0.35</mn><mo id="S5.SS3.SSS2.p1.4.m4.1.1.1" xref="S5.SS3.SSS2.p1.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.4.m4.1b"><apply id="S5.SS3.SSS2.p1.4.m4.1.1.cmml" xref="S5.SS3.SSS2.p1.4.m4.1.1"><csymbol cd="latexml" id="S5.SS3.SSS2.p1.4.m4.1.1.1.cmml" xref="S5.SS3.SSS2.p1.4.m4.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS2.p1.4.m4.1.1.2.cmml" xref="S5.SS3.SSS2.p1.4.m4.1.1.2">0.35</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.4.m4.1c">0.35\%</annotation></semantics></math>, respectively) than IID.
Results in JM mode follow a slightly different pattern. IID performs best, NonIIDPAO performs worst (<em id="S5.SS3.SSS2.p1.7.1" class="ltx_emph ltx_font_italic">i.e.</em>, <math id="S5.SS3.SSS2.p1.5.m5.1" class="ltx_Math" alttext="14.63\%" display="inline"><semantics id="S5.SS3.SSS2.p1.5.m5.1a"><mrow id="S5.SS3.SSS2.p1.5.m5.1.1" xref="S5.SS3.SSS2.p1.5.m5.1.1.cmml"><mn id="S5.SS3.SSS2.p1.5.m5.1.1.2" xref="S5.SS3.SSS2.p1.5.m5.1.1.2.cmml">14.63</mn><mo id="S5.SS3.SSS2.p1.5.m5.1.1.1" xref="S5.SS3.SSS2.p1.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.5.m5.1b"><apply id="S5.SS3.SSS2.p1.5.m5.1.1.cmml" xref="S5.SS3.SSS2.p1.5.m5.1.1"><csymbol cd="latexml" id="S5.SS3.SSS2.p1.5.m5.1.1.1.cmml" xref="S5.SS3.SSS2.p1.5.m5.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS2.p1.5.m5.1.1.2.cmml" xref="S5.SS3.SSS2.p1.5.m5.1.1.2">14.63</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.5.m5.1c">14.63\%</annotation></semantics></math> lower than IID), and NonIIDPAP <math id="S5.SS3.SSS2.p1.6.m6.1" class="ltx_Math" alttext="44.28\%" display="inline"><semantics id="S5.SS3.SSS2.p1.6.m6.1a"><mrow id="S5.SS3.SSS2.p1.6.m6.1.1" xref="S5.SS3.SSS2.p1.6.m6.1.1.cmml"><mn id="S5.SS3.SSS2.p1.6.m6.1.1.2" xref="S5.SS3.SSS2.p1.6.m6.1.1.2.cmml">44.28</mn><mo id="S5.SS3.SSS2.p1.6.m6.1.1.1" xref="S5.SS3.SSS2.p1.6.m6.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.6.m6.1b"><apply id="S5.SS3.SSS2.p1.6.m6.1.1.cmml" xref="S5.SS3.SSS2.p1.6.m6.1.1"><csymbol cd="latexml" id="S5.SS3.SSS2.p1.6.m6.1.1.1.cmml" xref="S5.SS3.SSS2.p1.6.m6.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS2.p1.6.m6.1.1.2.cmml" xref="S5.SS3.SSS2.p1.6.m6.1.1.2">44.28</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.6.m6.1c">44.28\%</annotation></semantics></math> lower compared to IID.
Interestingly, the performance of NonIIDPU under JM is rather unstable across rounds, with best performance at round 7 (<em id="S5.SS3.SSS2.p1.7.2" class="ltx_emph ltx_font_italic">i.e.</em>. <math id="S5.SS3.SSS2.p1.7.m7.1" class="ltx_Math" alttext="31.21\%" display="inline"><semantics id="S5.SS3.SSS2.p1.7.m7.1a"><mrow id="S5.SS3.SSS2.p1.7.m7.1.1" xref="S5.SS3.SSS2.p1.7.m7.1.1.cmml"><mn id="S5.SS3.SSS2.p1.7.m7.1.1.2" xref="S5.SS3.SSS2.p1.7.m7.1.1.2.cmml">31.21</mn><mo id="S5.SS3.SSS2.p1.7.m7.1.1.1" xref="S5.SS3.SSS2.p1.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.7.m7.1b"><apply id="S5.SS3.SSS2.p1.7.m7.1.1.cmml" xref="S5.SS3.SSS2.p1.7.m7.1.1"><csymbol cd="latexml" id="S5.SS3.SSS2.p1.7.m7.1.1.1.cmml" xref="S5.SS3.SSS2.p1.7.m7.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS2.p1.7.m7.1.1.2.cmml" xref="S5.SS3.SSS2.p1.7.m7.1.1.2">31.21</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.7.m7.1c">31.21\%</annotation></semantics></math> lower than IID).
With further investigation, we identified that this behaviour depends on the number of epochs executed locally per round.</p>
</div>
</section>
<section id="S5.SS3.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.3. </span>How does cross-app model merging perform?</h4>

<div id="S5.SS3.SSS3.p1" class="ltx_para">
<p id="S5.SS3.SSS3.p1.10" class="ltx_p">Figure <a href="#S5.F5" title="Figure 5 ‣ 5.2.1. What is the device availability for FLaaS tasks? ‣ 5.2. How does FLaaS operate in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows a higher ML performance of models trained by sharing samples with FLaaS Local (<em id="S5.SS3.SSS3.p1.10.1" class="ltx_emph ltx_font_italic">i.e.</em>, <math id="S5.SS3.SSS3.p1.1.m1.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS3.SSS3.p1.1.m1.1a"><mrow id="S5.SS3.SSS3.p1.1.m1.1.1" xref="S5.SS3.SSS3.p1.1.m1.1.1.cmml"><mi id="S5.SS3.SSS3.p1.1.m1.1.1.2" xref="S5.SS3.SSS3.p1.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS3.SSS3.p1.1.m1.1.1.1" xref="S5.SS3.SSS3.p1.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS3.SSS3.p1.1.m1.1.1.3" xref="S5.SS3.SSS3.p1.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.1.m1.1b"><apply id="S5.SS3.SSS3.p1.1.m1.1.1.cmml" xref="S5.SS3.SSS3.p1.1.m1.1.1"><times id="S5.SS3.SSS3.p1.1.m1.1.1.1.cmml" xref="S5.SS3.SSS3.p1.1.m1.1.1.1"></times><ci id="S5.SS3.SSS3.p1.1.m1.1.1.2.cmml" xref="S5.SS3.SSS3.p1.1.m1.1.1.2">𝐽</ci><ci id="S5.SS3.SSS3.p1.1.m1.1.1.3.cmml" xref="S5.SS3.SSS3.p1.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.1.m1.1c">JS</annotation></semantics></math>), vs. training individual models, one per third-party app, and then averaging them at Local (<em id="S5.SS3.SSS3.p1.10.2" class="ltx_emph ltx_font_italic">i.e.</em>, <math id="S5.SS3.SSS3.p1.2.m2.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS3.SSS3.p1.2.m2.1a"><mrow id="S5.SS3.SSS3.p1.2.m2.1.1" xref="S5.SS3.SSS3.p1.2.m2.1.1.cmml"><mi id="S5.SS3.SSS3.p1.2.m2.1.1.2" xref="S5.SS3.SSS3.p1.2.m2.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS3.SSS3.p1.2.m2.1.1.1" xref="S5.SS3.SSS3.p1.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS3.SSS3.p1.2.m2.1.1.3" xref="S5.SS3.SSS3.p1.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.2.m2.1b"><apply id="S5.SS3.SSS3.p1.2.m2.1.1.cmml" xref="S5.SS3.SSS3.p1.2.m2.1.1"><times id="S5.SS3.SSS3.p1.2.m2.1.1.1.cmml" xref="S5.SS3.SSS3.p1.2.m2.1.1.1"></times><ci id="S5.SS3.SSS3.p1.2.m2.1.1.2.cmml" xref="S5.SS3.SSS3.p1.2.m2.1.1.2">𝐽</ci><ci id="S5.SS3.SSS3.p1.2.m2.1.1.3.cmml" xref="S5.SS3.SSS3.p1.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.2.m2.1c">JM</annotation></semantics></math>).
In fact, <math id="S5.SS3.SSS3.p1.3.m3.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS3.SSS3.p1.3.m3.1a"><mrow id="S5.SS3.SSS3.p1.3.m3.1.1" xref="S5.SS3.SSS3.p1.3.m3.1.1.cmml"><mi id="S5.SS3.SSS3.p1.3.m3.1.1.2" xref="S5.SS3.SSS3.p1.3.m3.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS3.SSS3.p1.3.m3.1.1.1" xref="S5.SS3.SSS3.p1.3.m3.1.1.1.cmml">​</mo><mi id="S5.SS3.SSS3.p1.3.m3.1.1.3" xref="S5.SS3.SSS3.p1.3.m3.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.3.m3.1b"><apply id="S5.SS3.SSS3.p1.3.m3.1.1.cmml" xref="S5.SS3.SSS3.p1.3.m3.1.1"><times id="S5.SS3.SSS3.p1.3.m3.1.1.1.cmml" xref="S5.SS3.SSS3.p1.3.m3.1.1.1"></times><ci id="S5.SS3.SSS3.p1.3.m3.1.1.2.cmml" xref="S5.SS3.SSS3.p1.3.m3.1.1.2">𝐽</ci><ci id="S5.SS3.SSS3.p1.3.m3.1.1.3.cmml" xref="S5.SS3.SSS3.p1.3.m3.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.3.m3.1c">JS</annotation></semantics></math> mode at the 10<sup id="S5.SS3.SSS3.p1.10.3" class="ltx_sup"><span id="S5.SS3.SSS3.p1.10.3.1" class="ltx_text ltx_font_italic">th</span></sup> round leads to a model with <math id="S5.SS3.SSS3.p1.5.m5.1" class="ltx_Math" alttext="6.49\%" display="inline"><semantics id="S5.SS3.SSS3.p1.5.m5.1a"><mrow id="S5.SS3.SSS3.p1.5.m5.1.1" xref="S5.SS3.SSS3.p1.5.m5.1.1.cmml"><mn id="S5.SS3.SSS3.p1.5.m5.1.1.2" xref="S5.SS3.SSS3.p1.5.m5.1.1.2.cmml">6.49</mn><mo id="S5.SS3.SSS3.p1.5.m5.1.1.1" xref="S5.SS3.SSS3.p1.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.5.m5.1b"><apply id="S5.SS3.SSS3.p1.5.m5.1.1.cmml" xref="S5.SS3.SSS3.p1.5.m5.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p1.5.m5.1.1.1.cmml" xref="S5.SS3.SSS3.p1.5.m5.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p1.5.m5.1.1.2.cmml" xref="S5.SS3.SSS3.p1.5.m5.1.1.2">6.49</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.5.m5.1c">6.49\%</annotation></semantics></math> higher test accuracy than <math id="S5.SS3.SSS3.p1.6.m6.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS3.SSS3.p1.6.m6.1a"><mrow id="S5.SS3.SSS3.p1.6.m6.1.1" xref="S5.SS3.SSS3.p1.6.m6.1.1.cmml"><mi id="S5.SS3.SSS3.p1.6.m6.1.1.2" xref="S5.SS3.SSS3.p1.6.m6.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS3.SSS3.p1.6.m6.1.1.1" xref="S5.SS3.SSS3.p1.6.m6.1.1.1.cmml">​</mo><mi id="S5.SS3.SSS3.p1.6.m6.1.1.3" xref="S5.SS3.SSS3.p1.6.m6.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.6.m6.1b"><apply id="S5.SS3.SSS3.p1.6.m6.1.1.cmml" xref="S5.SS3.SSS3.p1.6.m6.1.1"><times id="S5.SS3.SSS3.p1.6.m6.1.1.1.cmml" xref="S5.SS3.SSS3.p1.6.m6.1.1.1"></times><ci id="S5.SS3.SSS3.p1.6.m6.1.1.2.cmml" xref="S5.SS3.SSS3.p1.6.m6.1.1.2">𝐽</ci><ci id="S5.SS3.SSS3.p1.6.m6.1.1.3.cmml" xref="S5.SS3.SSS3.p1.6.m6.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.6.m6.1c">JM</annotation></semantics></math> mode for IID, <math id="S5.SS3.SSS3.p1.7.m7.1" class="ltx_Math" alttext="20.81\%" display="inline"><semantics id="S5.SS3.SSS3.p1.7.m7.1a"><mrow id="S5.SS3.SSS3.p1.7.m7.1.1" xref="S5.SS3.SSS3.p1.7.m7.1.1.cmml"><mn id="S5.SS3.SSS3.p1.7.m7.1.1.2" xref="S5.SS3.SSS3.p1.7.m7.1.1.2.cmml">20.81</mn><mo id="S5.SS3.SSS3.p1.7.m7.1.1.1" xref="S5.SS3.SSS3.p1.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.7.m7.1b"><apply id="S5.SS3.SSS3.p1.7.m7.1.1.cmml" xref="S5.SS3.SSS3.p1.7.m7.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p1.7.m7.1.1.1.cmml" xref="S5.SS3.SSS3.p1.7.m7.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p1.7.m7.1.1.2.cmml" xref="S5.SS3.SSS3.p1.7.m7.1.1.2">20.81</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.7.m7.1c">20.81\%</annotation></semantics></math> higher for NonIIDPU, <math id="S5.SS3.SSS3.p1.8.m8.1" class="ltx_Math" alttext="21.01\%" display="inline"><semantics id="S5.SS3.SSS3.p1.8.m8.1a"><mrow id="S5.SS3.SSS3.p1.8.m8.1.1" xref="S5.SS3.SSS3.p1.8.m8.1.1.cmml"><mn id="S5.SS3.SSS3.p1.8.m8.1.1.2" xref="S5.SS3.SSS3.p1.8.m8.1.1.2.cmml">21.01</mn><mo id="S5.SS3.SSS3.p1.8.m8.1.1.1" xref="S5.SS3.SSS3.p1.8.m8.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.8.m8.1b"><apply id="S5.SS3.SSS3.p1.8.m8.1.1.cmml" xref="S5.SS3.SSS3.p1.8.m8.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p1.8.m8.1.1.1.cmml" xref="S5.SS3.SSS3.p1.8.m8.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p1.8.m8.1.1.2.cmml" xref="S5.SS3.SSS3.p1.8.m8.1.1.2">21.01</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.8.m8.1c">21.01\%</annotation></semantics></math> higher for NonIIDPAO and <math id="S5.SS3.SSS3.p1.9.m9.1" class="ltx_Math" alttext="48.07\%" display="inline"><semantics id="S5.SS3.SSS3.p1.9.m9.1a"><mrow id="S5.SS3.SSS3.p1.9.m9.1.1" xref="S5.SS3.SSS3.p1.9.m9.1.1.cmml"><mn id="S5.SS3.SSS3.p1.9.m9.1.1.2" xref="S5.SS3.SSS3.p1.9.m9.1.1.2.cmml">48.07</mn><mo id="S5.SS3.SSS3.p1.9.m9.1.1.1" xref="S5.SS3.SSS3.p1.9.m9.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.9.m9.1b"><apply id="S5.SS3.SSS3.p1.9.m9.1.1.cmml" xref="S5.SS3.SSS3.p1.9.m9.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p1.9.m9.1.1.1.cmml" xref="S5.SS3.SSS3.p1.9.m9.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p1.9.m9.1.1.2.cmml" xref="S5.SS3.SSS3.p1.9.m9.1.1.2">48.07</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.9.m9.1c">48.07\%</annotation></semantics></math> higher for NonIIDPPA.
The decreased performance of NonIIDPAP is expected since it enforces the distribution of data across apps, while NonIIDPAO allows the cross-silo effect to be less prominent.
Additionally, the improved performance of JS is expected since sharing data with Local allows it to train the joint model on <math id="S5.SS3.SSS3.p1.10.m10.1" class="ltx_math_unparsed" alttext="3\times" display="inline"><semantics id="S5.SS3.SSS3.p1.10.m10.1a"><mrow id="S5.SS3.SSS3.p1.10.m10.1b"><mn id="S5.SS3.SSS3.p1.10.m10.1.1">3</mn><mo lspace="0.222em" id="S5.SS3.SSS3.p1.10.m10.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.10.m10.1c">3\times</annotation></semantics></math> more data and thus optimize it better, than averaging models from the RGB apps, trained on 1/3 of samples.</p>
</div>
<div id="S5.SS3.SSS3.p2" class="ltx_para">
<p id="S5.SS3.SSS3.p2.5" class="ltx_p">The overall JS performance is comparable with our baseline non-FL approach where all data are shared in a centralized ML service for training (early stopping when monitoring validation loss with validation_split=0.3, patience=5 and min_delta=0.001), with only exception the more challenging NonIIDPU that performed <math id="S5.SS3.SSS3.p2.1.m1.1" class="ltx_Math" alttext="26.62\%" display="inline"><semantics id="S5.SS3.SSS3.p2.1.m1.1a"><mrow id="S5.SS3.SSS3.p2.1.m1.1.1" xref="S5.SS3.SSS3.p2.1.m1.1.1.cmml"><mn id="S5.SS3.SSS3.p2.1.m1.1.1.2" xref="S5.SS3.SSS3.p2.1.m1.1.1.2.cmml">26.62</mn><mo id="S5.SS3.SSS3.p2.1.m1.1.1.1" xref="S5.SS3.SSS3.p2.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p2.1.m1.1b"><apply id="S5.SS3.SSS3.p2.1.m1.1.1.cmml" xref="S5.SS3.SSS3.p2.1.m1.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p2.1.m1.1.1.1.cmml" xref="S5.SS3.SSS3.p2.1.m1.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p2.1.m1.1.1.2.cmml" xref="S5.SS3.SSS3.p2.1.m1.1.1.2">26.62</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p2.1.m1.1c">26.62\%</annotation></semantics></math> lower. The decreased performance of JM compared to baseline is more obvious: <math id="S5.SS3.SSS3.p2.2.m2.1" class="ltx_Math" alttext="6.19\%" display="inline"><semantics id="S5.SS3.SSS3.p2.2.m2.1a"><mrow id="S5.SS3.SSS3.p2.2.m2.1.1" xref="S5.SS3.SSS3.p2.2.m2.1.1.cmml"><mn id="S5.SS3.SSS3.p2.2.m2.1.1.2" xref="S5.SS3.SSS3.p2.2.m2.1.1.2.cmml">6.19</mn><mo id="S5.SS3.SSS3.p2.2.m2.1.1.1" xref="S5.SS3.SSS3.p2.2.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p2.2.m2.1b"><apply id="S5.SS3.SSS3.p2.2.m2.1.1.cmml" xref="S5.SS3.SSS3.p2.2.m2.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p2.2.m2.1.1.1.cmml" xref="S5.SS3.SSS3.p2.2.m2.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p2.2.m2.1.1.2.cmml" xref="S5.SS3.SSS3.p2.2.m2.1.1.2">6.19</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p2.2.m2.1c">6.19\%</annotation></semantics></math> for IID, <math id="S5.SS3.SSS3.p2.3.m3.1" class="ltx_Math" alttext="59.89\%" display="inline"><semantics id="S5.SS3.SSS3.p2.3.m3.1a"><mrow id="S5.SS3.SSS3.p2.3.m3.1.1" xref="S5.SS3.SSS3.p2.3.m3.1.1.cmml"><mn id="S5.SS3.SSS3.p2.3.m3.1.1.2" xref="S5.SS3.SSS3.p2.3.m3.1.1.2.cmml">59.89</mn><mo id="S5.SS3.SSS3.p2.3.m3.1.1.1" xref="S5.SS3.SSS3.p2.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p2.3.m3.1b"><apply id="S5.SS3.SSS3.p2.3.m3.1.1.cmml" xref="S5.SS3.SSS3.p2.3.m3.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p2.3.m3.1.1.1.cmml" xref="S5.SS3.SSS3.p2.3.m3.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p2.3.m3.1.1.2.cmml" xref="S5.SS3.SSS3.p2.3.m3.1.1.2">59.89</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p2.3.m3.1c">59.89\%</annotation></semantics></math> for NonIIDPU, <math id="S5.SS3.SSS3.p2.4.m4.1" class="ltx_Math" alttext="23.30\%" display="inline"><semantics id="S5.SS3.SSS3.p2.4.m4.1a"><mrow id="S5.SS3.SSS3.p2.4.m4.1.1" xref="S5.SS3.SSS3.p2.4.m4.1.1.cmml"><mn id="S5.SS3.SSS3.p2.4.m4.1.1.2" xref="S5.SS3.SSS3.p2.4.m4.1.1.2.cmml">23.30</mn><mo id="S5.SS3.SSS3.p2.4.m4.1.1.1" xref="S5.SS3.SSS3.p2.4.m4.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p2.4.m4.1b"><apply id="S5.SS3.SSS3.p2.4.m4.1.1.cmml" xref="S5.SS3.SSS3.p2.4.m4.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p2.4.m4.1.1.1.cmml" xref="S5.SS3.SSS3.p2.4.m4.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p2.4.m4.1.1.2.cmml" xref="S5.SS3.SSS3.p2.4.m4.1.1.2">23.30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p2.4.m4.1c">23.30\%</annotation></semantics></math> for NonIIDPAO and <math id="S5.SS3.SSS3.p2.5.m5.1" class="ltx_Math" alttext="93.60\%" display="inline"><semantics id="S5.SS3.SSS3.p2.5.m5.1a"><mrow id="S5.SS3.SSS3.p2.5.m5.1.1" xref="S5.SS3.SSS3.p2.5.m5.1.1.cmml"><mn id="S5.SS3.SSS3.p2.5.m5.1.1.2" xref="S5.SS3.SSS3.p2.5.m5.1.1.2.cmml">93.60</mn><mo id="S5.SS3.SSS3.p2.5.m5.1.1.1" xref="S5.SS3.SSS3.p2.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p2.5.m5.1b"><apply id="S5.SS3.SSS3.p2.5.m5.1.1.cmml" xref="S5.SS3.SSS3.p2.5.m5.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p2.5.m5.1.1.1.cmml" xref="S5.SS3.SSS3.p2.5.m5.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p2.5.m5.1.1.2.cmml" xref="S5.SS3.SSS3.p2.5.m5.1.1.2">93.60</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p2.5.m5.1c">93.60\%</annotation></semantics></math> for NonIIDPAP.</p>
</div>
<div id="S5.SS3.SSS3.p3" class="ltx_para ltx_noindent">
<p id="S5.SS3.SSS3.p3.1" class="ltx_p"><span id="S5.SS3.SSS3.p3.1.1" class="ltx_text ltx_font_bold">Summary:</span>
The ML performance results show the feasibility of our design. With a few 10s of devices reporting trained models, FLaaS builds a useful FL model, comparable to ideal scenarios of all devices participating and reporting models, and even centralized ML training.
We also show that cross-app modeling with shared samples, in comparison to joint models, achieves, on average, a <math id="S5.SS3.SSS3.p3.1.m1.1" class="ltx_Math" alttext="24.10\%" display="inline"><semantics id="S5.SS3.SSS3.p3.1.m1.1a"><mrow id="S5.SS3.SSS3.p3.1.m1.1.1" xref="S5.SS3.SSS3.p3.1.m1.1.1.cmml"><mn id="S5.SS3.SSS3.p3.1.m1.1.1.2" xref="S5.SS3.SSS3.p3.1.m1.1.1.2.cmml">24.10</mn><mo id="S5.SS3.SSS3.p3.1.m1.1.1.1" xref="S5.SS3.SSS3.p3.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p3.1.m1.1b"><apply id="S5.SS3.SSS3.p3.1.m1.1.1.cmml" xref="S5.SS3.SSS3.p3.1.m1.1.1"><csymbol cd="latexml" id="S5.SS3.SSS3.p3.1.m1.1.1.1.cmml" xref="S5.SS3.SSS3.p3.1.m1.1.1.1">percent</csymbol><cn type="float" id="S5.SS3.SSS3.p3.1.m1.1.1.2.cmml" xref="S5.SS3.SSS3.p3.1.m1.1.1.2">24.10</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p3.1.m1.1c">24.10\%</annotation></semantics></math> higher test accuracy across all data distributions.
Expectedly, NonIID data across users (NonIIDPU), while being a more realistic scenario, leads to models with lower accuracy.</p>
</div>
</section>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4. </span>What is the cost of FLaaS operations?</h3>

<section id="S5.SS4.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.1. </span>Latency of FLaaS functions on user devices?</h4>

<div id="S5.SS4.SSS1.p1" class="ltx_para">
<p id="S5.SS4.SSS1.p1.1" class="ltx_p">We showed that real user devices with their intermittent participation in FL rounds can enable FLaaS to build a well-performing model.
Next, we assess on-device cost for 3 fundamental FLaaS functions executed during an FL round, by measuring time required to execute them on user devices:</p>
<ul id="S5.I5" class="ltx_itemize">
<li id="S5.I5.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I5.i1.p1" class="ltx_para">
<p id="S5.I5.i1.p1.1" class="ltx_p"><em id="S5.I5.i1.p1.1.1" class="ltx_emph ltx_font_italic">Join FL round:</em> Communicate with Server and download global FL model parameters (Fig. <a href="#S5.F6.sf1" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a>).</p>
</div>
</li>
<li id="S5.I5.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I5.i2.p1" class="ltx_para">
<p id="S5.I5.i2.p1.1" class="ltx_p"><em id="S5.I5.i2.p1.1.1" class="ltx_emph ltx_font_italic">Model Training:</em> Load local samples into on-device ML engine and conduct training (Fig. <a href="#S5.F6.sf1" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a> and Fig. <a href="#S5.F6.sf2" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>).</p>
</div>
</li>
<li id="S5.I5.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I5.i3.p1" class="ltx_para">
<p id="S5.I5.i3.p1.1" class="ltx_p"><em id="S5.I5.i3.p1.1.1" class="ltx_emph ltx_font_italic">Model Merging:</em> Aggregate local models and apply FedAvg (in JM only; typically very small. Fig. <a href="#S5.F6.sf1" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a>).</p>
</div>
</li>
<li id="S5.I5.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S5.I5.i4.p1" class="ltx_para">
<p id="S5.I5.i4.p1.1" class="ltx_p"><em id="S5.I5.i4.p1.1.1" class="ltx_emph ltx_font_italic">Reporting:</em> Communicate with Server to report updated local model and other performance metrics (Fig. <a href="#S5.F6.sf1" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a>).</p>
</div>
</li>
</ul>
</div>
<div id="S5.SS4.SSS1.p2" class="ltx_para">
<p id="S5.SS4.SSS1.p2.2" class="ltx_p">Figure <a href="#S5.F6.sf1" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a> presents the combination of app workers and in-app communication pipeline for executing FL tasks under JS or JM training modes.
The task begins when a notification is received by the device that immediately schedules the first app worker (<em id="S5.SS4.SSS1.p2.2.1" class="ltx_emph ltx_font_italic">i.e.</em>, Join FL Round) and continues with an inter-app communication with the participating apps.
As expected, the most expensive task is Model Training under both JM and JS.
Interestingly, though JS takes <math id="S5.SS4.SSS1.p2.1.m1.1" class="ltx_Math" alttext="2" display="inline"><semantics id="S5.SS4.SSS1.p2.1.m1.1a"><mn id="S5.SS4.SSS1.p2.1.m1.1.1" xref="S5.SS4.SSS1.p2.1.m1.1.1.cmml">2</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p2.1.m1.1b"><cn type="integer" id="S5.SS4.SSS1.p2.1.m1.1.1.cmml" xref="S5.SS4.SSS1.p2.1.m1.1.1">2</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p2.1.m1.1c">2</annotation></semantics></math>x more time than JM for this step, the waiting time for the task to be executed in JM is <math id="S5.SS4.SSS1.p2.2.m2.1" class="ltx_Math" alttext="18.4" display="inline"><semantics id="S5.SS4.SSS1.p2.2.m2.1a"><mn id="S5.SS4.SSS1.p2.2.m2.1.1" xref="S5.SS4.SSS1.p2.2.m2.1.1.cmml">18.4</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p2.2.m2.1b"><cn type="float" id="S5.SS4.SSS1.p2.2.m2.1.1.cmml" xref="S5.SS4.SSS1.p2.2.m2.1.1">18.4</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p2.2.m2.1c">18.4</annotation></semantics></math>x slower.
This is because the training is to be executed on three toy apps (RGB), which remain mostly inactive (<em id="S5.SS4.SSS1.p2.2.2" class="ltx_emph ltx_font_italic">i.e.</em>, no user interaction takes place).
Thus, the OS, while optimizing task execution for power efficiency, schedules such long tasks later.
However, we expect this time to be significantly lower when apps are actively used.
For all other workers, both task duration and waiting time are short.</p>
</div>
<div id="S5.SS4.SSS1.p3" class="ltx_para">
<p id="S5.SS4.SSS1.p3.10" class="ltx_p">In Figure <a href="#S5.F6.sf2" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(b)</span></a>, we breakdown the execution of Model Training and measure average time needed to load samples and conduct model training.
Note: results are independent of data distribution (IID, NonIIDPU, NonIIDPAO, NonIIDPAP), but dependent on type of cross-app modeling (<math id="S5.SS4.SSS1.p3.1.m1.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS1.p3.1.m1.1a"><mrow id="S5.SS4.SSS1.p3.1.m1.1.1" xref="S5.SS4.SSS1.p3.1.m1.1.1.cmml"><mi id="S5.SS4.SSS1.p3.1.m1.1.1.2" xref="S5.SS4.SSS1.p3.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p3.1.m1.1.1.1" xref="S5.SS4.SSS1.p3.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p3.1.m1.1.1.3" xref="S5.SS4.SSS1.p3.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.1.m1.1b"><apply id="S5.SS4.SSS1.p3.1.m1.1.1.cmml" xref="S5.SS4.SSS1.p3.1.m1.1.1"><times id="S5.SS4.SSS1.p3.1.m1.1.1.1.cmml" xref="S5.SS4.SSS1.p3.1.m1.1.1.1"></times><ci id="S5.SS4.SSS1.p3.1.m1.1.1.2.cmml" xref="S5.SS4.SSS1.p3.1.m1.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p3.1.m1.1.1.3.cmml" xref="S5.SS4.SSS1.p3.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.1.m1.1c">JS</annotation></semantics></math> vs. <math id="S5.SS4.SSS1.p3.2.m2.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS1.p3.2.m2.1a"><mrow id="S5.SS4.SSS1.p3.2.m2.1.1" xref="S5.SS4.SSS1.p3.2.m2.1.1.cmml"><mi id="S5.SS4.SSS1.p3.2.m2.1.1.2" xref="S5.SS4.SSS1.p3.2.m2.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p3.2.m2.1.1.1" xref="S5.SS4.SSS1.p3.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p3.2.m2.1.1.3" xref="S5.SS4.SSS1.p3.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.2.m2.1b"><apply id="S5.SS4.SSS1.p3.2.m2.1.1.cmml" xref="S5.SS4.SSS1.p3.2.m2.1.1"><times id="S5.SS4.SSS1.p3.2.m2.1.1.1.cmml" xref="S5.SS4.SSS1.p3.2.m2.1.1.1"></times><ci id="S5.SS4.SSS1.p3.2.m2.1.1.2.cmml" xref="S5.SS4.SSS1.p3.2.m2.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p3.2.m2.1.1.3.cmml" xref="S5.SS4.SSS1.p3.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.2.m2.1c">JM</annotation></semantics></math>).
Interestingly, the most costly operation is to load data into the on-device training engine, with median time <math id="S5.SS4.SSS1.p3.3.m3.1" class="ltx_Math" alttext="1.94" display="inline"><semantics id="S5.SS4.SSS1.p3.3.m3.1a"><mn id="S5.SS4.SSS1.p3.3.m3.1.1" xref="S5.SS4.SSS1.p3.3.m3.1.1.cmml">1.94</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.3.m3.1b"><cn type="float" id="S5.SS4.SSS1.p3.3.m3.1.1.cmml" xref="S5.SS4.SSS1.p3.3.m3.1.1">1.94</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.3.m3.1c">1.94</annotation></semantics></math> and <math id="S5.SS4.SSS1.p3.4.m4.1" class="ltx_Math" alttext="0.80" display="inline"><semantics id="S5.SS4.SSS1.p3.4.m4.1a"><mn id="S5.SS4.SSS1.p3.4.m4.1.1" xref="S5.SS4.SSS1.p3.4.m4.1.1.cmml">0.80</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.4.m4.1b"><cn type="float" id="S5.SS4.SSS1.p3.4.m4.1.1.cmml" xref="S5.SS4.SSS1.p3.4.m4.1.1">0.80</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.4.m4.1c">0.80</annotation></semantics></math> minutes, for <math id="S5.SS4.SSS1.p3.5.m5.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS1.p3.5.m5.1a"><mrow id="S5.SS4.SSS1.p3.5.m5.1.1" xref="S5.SS4.SSS1.p3.5.m5.1.1.cmml"><mi id="S5.SS4.SSS1.p3.5.m5.1.1.2" xref="S5.SS4.SSS1.p3.5.m5.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p3.5.m5.1.1.1" xref="S5.SS4.SSS1.p3.5.m5.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p3.5.m5.1.1.3" xref="S5.SS4.SSS1.p3.5.m5.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.5.m5.1b"><apply id="S5.SS4.SSS1.p3.5.m5.1.1.cmml" xref="S5.SS4.SSS1.p3.5.m5.1.1"><times id="S5.SS4.SSS1.p3.5.m5.1.1.1.cmml" xref="S5.SS4.SSS1.p3.5.m5.1.1.1"></times><ci id="S5.SS4.SSS1.p3.5.m5.1.1.2.cmml" xref="S5.SS4.SSS1.p3.5.m5.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p3.5.m5.1.1.3.cmml" xref="S5.SS4.SSS1.p3.5.m5.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.5.m5.1c">JS</annotation></semantics></math> and <math id="S5.SS4.SSS1.p3.6.m6.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS1.p3.6.m6.1a"><mrow id="S5.SS4.SSS1.p3.6.m6.1.1" xref="S5.SS4.SSS1.p3.6.m6.1.1.cmml"><mi id="S5.SS4.SSS1.p3.6.m6.1.1.2" xref="S5.SS4.SSS1.p3.6.m6.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p3.6.m6.1.1.1" xref="S5.SS4.SSS1.p3.6.m6.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p3.6.m6.1.1.3" xref="S5.SS4.SSS1.p3.6.m6.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.6.m6.1b"><apply id="S5.SS4.SSS1.p3.6.m6.1.1.cmml" xref="S5.SS4.SSS1.p3.6.m6.1.1"><times id="S5.SS4.SSS1.p3.6.m6.1.1.1.cmml" xref="S5.SS4.SSS1.p3.6.m6.1.1.1"></times><ci id="S5.SS4.SSS1.p3.6.m6.1.1.2.cmml" xref="S5.SS4.SSS1.p3.6.m6.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p3.6.m6.1.1.3.cmml" xref="S5.SS4.SSS1.p3.6.m6.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.6.m6.1c">JM</annotation></semantics></math>, respectively.
Finally, there is the expected difference when conducting ML training for <math id="S5.SS4.SSS1.p3.7.m7.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS1.p3.7.m7.1a"><mrow id="S5.SS4.SSS1.p3.7.m7.1.1" xref="S5.SS4.SSS1.p3.7.m7.1.1.cmml"><mi id="S5.SS4.SSS1.p3.7.m7.1.1.2" xref="S5.SS4.SSS1.p3.7.m7.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p3.7.m7.1.1.1" xref="S5.SS4.SSS1.p3.7.m7.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p3.7.m7.1.1.3" xref="S5.SS4.SSS1.p3.7.m7.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.7.m7.1b"><apply id="S5.SS4.SSS1.p3.7.m7.1.1.cmml" xref="S5.SS4.SSS1.p3.7.m7.1.1"><times id="S5.SS4.SSS1.p3.7.m7.1.1.1.cmml" xref="S5.SS4.SSS1.p3.7.m7.1.1.1"></times><ci id="S5.SS4.SSS1.p3.7.m7.1.1.2.cmml" xref="S5.SS4.SSS1.p3.7.m7.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p3.7.m7.1.1.3.cmml" xref="S5.SS4.SSS1.p3.7.m7.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.7.m7.1c">JS</annotation></semantics></math> and <math id="S5.SS4.SSS1.p3.8.m8.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS1.p3.8.m8.1a"><mrow id="S5.SS4.SSS1.p3.8.m8.1.1" xref="S5.SS4.SSS1.p3.8.m8.1.1.cmml"><mi id="S5.SS4.SSS1.p3.8.m8.1.1.2" xref="S5.SS4.SSS1.p3.8.m8.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p3.8.m8.1.1.1" xref="S5.SS4.SSS1.p3.8.m8.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p3.8.m8.1.1.3" xref="S5.SS4.SSS1.p3.8.m8.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.8.m8.1b"><apply id="S5.SS4.SSS1.p3.8.m8.1.1.cmml" xref="S5.SS4.SSS1.p3.8.m8.1.1"><times id="S5.SS4.SSS1.p3.8.m8.1.1.1.cmml" xref="S5.SS4.SSS1.p3.8.m8.1.1.1"></times><ci id="S5.SS4.SSS1.p3.8.m8.1.1.2.cmml" xref="S5.SS4.SSS1.p3.8.m8.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p3.8.m8.1.1.3.cmml" xref="S5.SS4.SSS1.p3.8.m8.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.8.m8.1c">JM</annotation></semantics></math> (median <math id="S5.SS4.SSS1.p3.9.m9.1" class="ltx_Math" alttext="0.39" display="inline"><semantics id="S5.SS4.SSS1.p3.9.m9.1a"><mn id="S5.SS4.SSS1.p3.9.m9.1.1" xref="S5.SS4.SSS1.p3.9.m9.1.1.cmml">0.39</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.9.m9.1b"><cn type="float" id="S5.SS4.SSS1.p3.9.m9.1.1.cmml" xref="S5.SS4.SSS1.p3.9.m9.1.1">0.39</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.9.m9.1c">0.39</annotation></semantics></math> and <math id="S5.SS4.SSS1.p3.10.m10.1" class="ltx_Math" alttext="0.18" display="inline"><semantics id="S5.SS4.SSS1.p3.10.m10.1a"><mn id="S5.SS4.SSS1.p3.10.m10.1.1" xref="S5.SS4.SSS1.p3.10.m10.1.1.cmml">0.18</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p3.10.m10.1b"><cn type="float" id="S5.SS4.SSS1.p3.10.m10.1.1.cmml" xref="S5.SS4.SSS1.p3.10.m10.1.1">0.18</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p3.10.m10.1c">0.18</annotation></semantics></math> minutes, respectively).</p>
</div>
<div id="S5.SS4.SSS1.p4" class="ltx_para">
<p id="S5.SS4.SSS1.p4.17" class="ltx_p">Finally, in Figure <a href="#S5.F6.sf3" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(c)</span></a>, we study the total time to complete an FL round, for the cross-app modeling (<math id="S5.SS4.SSS1.p4.1.m1.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS1.p4.1.m1.1a"><mrow id="S5.SS4.SSS1.p4.1.m1.1.1" xref="S5.SS4.SSS1.p4.1.m1.1.1.cmml"><mi id="S5.SS4.SSS1.p4.1.m1.1.1.2" xref="S5.SS4.SSS1.p4.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p4.1.m1.1.1.1" xref="S5.SS4.SSS1.p4.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p4.1.m1.1.1.3" xref="S5.SS4.SSS1.p4.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.1.m1.1b"><apply id="S5.SS4.SSS1.p4.1.m1.1.1.cmml" xref="S5.SS4.SSS1.p4.1.m1.1.1"><times id="S5.SS4.SSS1.p4.1.m1.1.1.1.cmml" xref="S5.SS4.SSS1.p4.1.m1.1.1.1"></times><ci id="S5.SS4.SSS1.p4.1.m1.1.1.2.cmml" xref="S5.SS4.SSS1.p4.1.m1.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p4.1.m1.1.1.3.cmml" xref="S5.SS4.SSS1.p4.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.1.m1.1c">JS</annotation></semantics></math> vs. <math id="S5.SS4.SSS1.p4.2.m2.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS1.p4.2.m2.1a"><mrow id="S5.SS4.SSS1.p4.2.m2.1.1" xref="S5.SS4.SSS1.p4.2.m2.1.1.cmml"><mi id="S5.SS4.SSS1.p4.2.m2.1.1.2" xref="S5.SS4.SSS1.p4.2.m2.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p4.2.m2.1.1.1" xref="S5.SS4.SSS1.p4.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p4.2.m2.1.1.3" xref="S5.SS4.SSS1.p4.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.2.m2.1b"><apply id="S5.SS4.SSS1.p4.2.m2.1.1.cmml" xref="S5.SS4.SSS1.p4.2.m2.1.1"><times id="S5.SS4.SSS1.p4.2.m2.1.1.1.cmml" xref="S5.SS4.SSS1.p4.2.m2.1.1.1"></times><ci id="S5.SS4.SSS1.p4.2.m2.1.1.2.cmml" xref="S5.SS4.SSS1.p4.2.m2.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p4.2.m2.1.1.3.cmml" xref="S5.SS4.SSS1.p4.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.2.m2.1c">JM</annotation></semantics></math>).
This time includes potential pauses of the FL training process, if, for example the device OS delays the worker execution (red numbers Fig. <a href="#S5.F6.sf1" title="In Figure 6 ‣ 5.3. How well can FL models train in the wild? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6(a)</span></a>).
Interestingly, the great majority of FL rounds, in both <math id="S5.SS4.SSS1.p4.3.m3.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS1.p4.3.m3.1a"><mrow id="S5.SS4.SSS1.p4.3.m3.1.1" xref="S5.SS4.SSS1.p4.3.m3.1.1.cmml"><mi id="S5.SS4.SSS1.p4.3.m3.1.1.2" xref="S5.SS4.SSS1.p4.3.m3.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p4.3.m3.1.1.1" xref="S5.SS4.SSS1.p4.3.m3.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p4.3.m3.1.1.3" xref="S5.SS4.SSS1.p4.3.m3.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.3.m3.1b"><apply id="S5.SS4.SSS1.p4.3.m3.1.1.cmml" xref="S5.SS4.SSS1.p4.3.m3.1.1"><times id="S5.SS4.SSS1.p4.3.m3.1.1.1.cmml" xref="S5.SS4.SSS1.p4.3.m3.1.1.1"></times><ci id="S5.SS4.SSS1.p4.3.m3.1.1.2.cmml" xref="S5.SS4.SSS1.p4.3.m3.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p4.3.m3.1.1.3.cmml" xref="S5.SS4.SSS1.p4.3.m3.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.3.m3.1c">JS</annotation></semantics></math> and <math id="S5.SS4.SSS1.p4.4.m4.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS1.p4.4.m4.1a"><mrow id="S5.SS4.SSS1.p4.4.m4.1.1" xref="S5.SS4.SSS1.p4.4.m4.1.1.cmml"><mi id="S5.SS4.SSS1.p4.4.m4.1.1.2" xref="S5.SS4.SSS1.p4.4.m4.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p4.4.m4.1.1.1" xref="S5.SS4.SSS1.p4.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p4.4.m4.1.1.3" xref="S5.SS4.SSS1.p4.4.m4.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.4.m4.1b"><apply id="S5.SS4.SSS1.p4.4.m4.1.1.cmml" xref="S5.SS4.SSS1.p4.4.m4.1.1"><times id="S5.SS4.SSS1.p4.4.m4.1.1.1.cmml" xref="S5.SS4.SSS1.p4.4.m4.1.1.1"></times><ci id="S5.SS4.SSS1.p4.4.m4.1.1.2.cmml" xref="S5.SS4.SSS1.p4.4.m4.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p4.4.m4.1.1.3.cmml" xref="S5.SS4.SSS1.p4.4.m4.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.4.m4.1c">JM</annotation></semantics></math> have short duration: the 80<sup id="S5.SS4.SSS1.p4.17.1" class="ltx_sup"><span id="S5.SS4.SSS1.p4.17.1.1" class="ltx_text ltx_font_italic">th</span></sup> percentile duration of an FL round is <math id="S5.SS4.SSS1.p4.6.m6.1" class="ltx_Math" alttext="6.15" display="inline"><semantics id="S5.SS4.SSS1.p4.6.m6.1a"><mn id="S5.SS4.SSS1.p4.6.m6.1.1" xref="S5.SS4.SSS1.p4.6.m6.1.1.cmml">6.15</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.6.m6.1b"><cn type="float" id="S5.SS4.SSS1.p4.6.m6.1.1.cmml" xref="S5.SS4.SSS1.p4.6.m6.1.1">6.15</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.6.m6.1c">6.15</annotation></semantics></math> minutes for <math id="S5.SS4.SSS1.p4.7.m7.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS1.p4.7.m7.1a"><mrow id="S5.SS4.SSS1.p4.7.m7.1.1" xref="S5.SS4.SSS1.p4.7.m7.1.1.cmml"><mi id="S5.SS4.SSS1.p4.7.m7.1.1.2" xref="S5.SS4.SSS1.p4.7.m7.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p4.7.m7.1.1.1" xref="S5.SS4.SSS1.p4.7.m7.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p4.7.m7.1.1.3" xref="S5.SS4.SSS1.p4.7.m7.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.7.m7.1b"><apply id="S5.SS4.SSS1.p4.7.m7.1.1.cmml" xref="S5.SS4.SSS1.p4.7.m7.1.1"><times id="S5.SS4.SSS1.p4.7.m7.1.1.1.cmml" xref="S5.SS4.SSS1.p4.7.m7.1.1.1"></times><ci id="S5.SS4.SSS1.p4.7.m7.1.1.2.cmml" xref="S5.SS4.SSS1.p4.7.m7.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p4.7.m7.1.1.3.cmml" xref="S5.SS4.SSS1.p4.7.m7.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.7.m7.1c">JS</annotation></semantics></math> and <math id="S5.SS4.SSS1.p4.8.m8.1" class="ltx_Math" alttext="4.65" display="inline"><semantics id="S5.SS4.SSS1.p4.8.m8.1a"><mn id="S5.SS4.SSS1.p4.8.m8.1.1" xref="S5.SS4.SSS1.p4.8.m8.1.1.cmml">4.65</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.8.m8.1b"><cn type="float" id="S5.SS4.SSS1.p4.8.m8.1.1.cmml" xref="S5.SS4.SSS1.p4.8.m8.1.1">4.65</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.8.m8.1c">4.65</annotation></semantics></math> minutes for <math id="S5.SS4.SSS1.p4.9.m9.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS1.p4.9.m9.1a"><mrow id="S5.SS4.SSS1.p4.9.m9.1.1" xref="S5.SS4.SSS1.p4.9.m9.1.1.cmml"><mi id="S5.SS4.SSS1.p4.9.m9.1.1.2" xref="S5.SS4.SSS1.p4.9.m9.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p4.9.m9.1.1.1" xref="S5.SS4.SSS1.p4.9.m9.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p4.9.m9.1.1.3" xref="S5.SS4.SSS1.p4.9.m9.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.9.m9.1b"><apply id="S5.SS4.SSS1.p4.9.m9.1.1.cmml" xref="S5.SS4.SSS1.p4.9.m9.1.1"><times id="S5.SS4.SSS1.p4.9.m9.1.1.1.cmml" xref="S5.SS4.SSS1.p4.9.m9.1.1.1"></times><ci id="S5.SS4.SSS1.p4.9.m9.1.1.2.cmml" xref="S5.SS4.SSS1.p4.9.m9.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p4.9.m9.1.1.3.cmml" xref="S5.SS4.SSS1.p4.9.m9.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.9.m9.1c">JM</annotation></semantics></math>.
This means FLaaS or other FL-based ML systems can train full FL rounds in short periods of time.
However, straggler devices needing 100s of minutes to complete their FL tasks, create a long tail: we find that 90<sup id="S5.SS4.SSS1.p4.17.2" class="ltx_sup"><span id="S5.SS4.SSS1.p4.17.2.1" class="ltx_text ltx_font_italic">th</span></sup>(99<sup id="S5.SS4.SSS1.p4.17.3" class="ltx_sup"><span id="S5.SS4.SSS1.p4.17.3.1" class="ltx_text ltx_font_italic">th</span></sup>) percentile for the two modes is <math id="S5.SS4.SSS1.p4.12.m12.1" class="ltx_Math" alttext="12.1" display="inline"><semantics id="S5.SS4.SSS1.p4.12.m12.1a"><mn id="S5.SS4.SSS1.p4.12.m12.1.1" xref="S5.SS4.SSS1.p4.12.m12.1.1.cmml">12.1</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.12.m12.1b"><cn type="float" id="S5.SS4.SSS1.p4.12.m12.1.1.cmml" xref="S5.SS4.SSS1.p4.12.m12.1.1">12.1</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.12.m12.1c">12.1</annotation></semantics></math>(<math id="S5.SS4.SSS1.p4.13.m13.1" class="ltx_Math" alttext="48.7" display="inline"><semantics id="S5.SS4.SSS1.p4.13.m13.1a"><mn id="S5.SS4.SSS1.p4.13.m13.1.1" xref="S5.SS4.SSS1.p4.13.m13.1.1.cmml">48.7</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.13.m13.1b"><cn type="float" id="S5.SS4.SSS1.p4.13.m13.1.1.cmml" xref="S5.SS4.SSS1.p4.13.m13.1.1">48.7</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.13.m13.1c">48.7</annotation></semantics></math>) minutes for <math id="S5.SS4.SSS1.p4.14.m14.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS1.p4.14.m14.1a"><mrow id="S5.SS4.SSS1.p4.14.m14.1.1" xref="S5.SS4.SSS1.p4.14.m14.1.1.cmml"><mi id="S5.SS4.SSS1.p4.14.m14.1.1.2" xref="S5.SS4.SSS1.p4.14.m14.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p4.14.m14.1.1.1" xref="S5.SS4.SSS1.p4.14.m14.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p4.14.m14.1.1.3" xref="S5.SS4.SSS1.p4.14.m14.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.14.m14.1b"><apply id="S5.SS4.SSS1.p4.14.m14.1.1.cmml" xref="S5.SS4.SSS1.p4.14.m14.1.1"><times id="S5.SS4.SSS1.p4.14.m14.1.1.1.cmml" xref="S5.SS4.SSS1.p4.14.m14.1.1.1"></times><ci id="S5.SS4.SSS1.p4.14.m14.1.1.2.cmml" xref="S5.SS4.SSS1.p4.14.m14.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p4.14.m14.1.1.3.cmml" xref="S5.SS4.SSS1.p4.14.m14.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.14.m14.1c">JS</annotation></semantics></math> and <math id="S5.SS4.SSS1.p4.15.m15.1" class="ltx_Math" alttext="40.3" display="inline"><semantics id="S5.SS4.SSS1.p4.15.m15.1a"><mn id="S5.SS4.SSS1.p4.15.m15.1.1" xref="S5.SS4.SSS1.p4.15.m15.1.1.cmml">40.3</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.15.m15.1b"><cn type="float" id="S5.SS4.SSS1.p4.15.m15.1.1.cmml" xref="S5.SS4.SSS1.p4.15.m15.1.1">40.3</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.15.m15.1c">40.3</annotation></semantics></math>(<math id="S5.SS4.SSS1.p4.16.m16.1" class="ltx_Math" alttext="2527.3" display="inline"><semantics id="S5.SS4.SSS1.p4.16.m16.1a"><mn id="S5.SS4.SSS1.p4.16.m16.1.1" xref="S5.SS4.SSS1.p4.16.m16.1.1.cmml">2527.3</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.16.m16.1b"><cn type="float" id="S5.SS4.SSS1.p4.16.m16.1.1.cmml" xref="S5.SS4.SSS1.p4.16.m16.1.1">2527.3</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.16.m16.1c">2527.3</annotation></semantics></math>) minutes for <math id="S5.SS4.SSS1.p4.17.m17.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS1.p4.17.m17.1a"><mrow id="S5.SS4.SSS1.p4.17.m17.1.1" xref="S5.SS4.SSS1.p4.17.m17.1.1.cmml"><mi id="S5.SS4.SSS1.p4.17.m17.1.1.2" xref="S5.SS4.SSS1.p4.17.m17.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS1.p4.17.m17.1.1.1" xref="S5.SS4.SSS1.p4.17.m17.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS1.p4.17.m17.1.1.3" xref="S5.SS4.SSS1.p4.17.m17.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS1.p4.17.m17.1b"><apply id="S5.SS4.SSS1.p4.17.m17.1.1.cmml" xref="S5.SS4.SSS1.p4.17.m17.1.1"><times id="S5.SS4.SSS1.p4.17.m17.1.1.1.cmml" xref="S5.SS4.SSS1.p4.17.m17.1.1.1"></times><ci id="S5.SS4.SSS1.p4.17.m17.1.1.2.cmml" xref="S5.SS4.SSS1.p4.17.m17.1.1.2">𝐽</ci><ci id="S5.SS4.SSS1.p4.17.m17.1.1.3.cmml" xref="S5.SS4.SSS1.p4.17.m17.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS1.p4.17.m17.1c">JM</annotation></semantics></math>.
These results motivate novel Asynchronous FL systems <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib21" title="" class="ltx_ref">huba2022papaya-mlsys, </a>)</cite>.</p>
</div>
<figure id="S5.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T1.2.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>. </span><span id="S5.T1.3.2" class="ltx_text" style="font-size:90%;">Device Specification (CPU and Memory)</span></figcaption>
<table id="S5.T1.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T1.4.1.1" class="ltx_tr">
<th id="S5.T1.4.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S5.T1.4.1.1.1.1" class="ltx_text" style="font-size:80%;">Model</span></th>
<th id="S5.T1.4.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column"><span id="S5.T1.4.1.1.2.1" class="ltx_text" style="font-size:80%;">Device Specification</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T1.4.2.1" class="ltx_tr">
<td id="S5.T1.4.2.1.1" class="ltx_td ltx_align_left ltx_border_t"><span id="S5.T1.4.2.1.1.1" class="ltx_text" style="font-size:80%;">Pixel 3a (P3a)</span></td>
<td id="S5.T1.4.2.1.2" class="ltx_td ltx_align_left ltx_border_t"><span id="S5.T1.4.2.1.2.1" class="ltx_text" style="font-size:80%;">8-core (2x2.0 &amp; 6x1.7 GHz), 4GB RAM</span></td>
</tr>
<tr id="S5.T1.4.3.2" class="ltx_tr">
<td id="S5.T1.4.3.2.1" class="ltx_td ltx_align_left"><span id="S5.T1.4.3.2.1.1" class="ltx_text" style="font-size:80%;">Pixel 4 (P4)</span></td>
<td id="S5.T1.4.3.2.2" class="ltx_td ltx_align_left"><span id="S5.T1.4.3.2.2.1" class="ltx_text" style="font-size:80%;">8-core (1x2.84, 3x2.42 &amp; 4x1.78 GHz), 4GB</span></td>
</tr>
<tr id="S5.T1.4.4.3" class="ltx_tr">
<td id="S5.T1.4.4.3.1" class="ltx_td ltx_align_left"><span id="S5.T1.4.4.3.1.1" class="ltx_text" style="font-size:80%;">Pixel 5 (P5)</span></td>
<td id="S5.T1.4.4.3.2" class="ltx_td ltx_align_left"><span id="S5.T1.4.4.3.2.1" class="ltx_text" style="font-size:80%;">8-core (1x2.4, 1x2.2 &amp; 6x1.8 GHz), 8GB RAM</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S5.SS4.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.2. </span>Device cost of FLaaS functions?</h4>

<div id="S5.SS4.SSS2.p1" class="ltx_para">
<p id="S5.SS4.SSS2.p1.1" class="ltx_p">Diving deeper into the system cost of on-device ML training, we perform several experiments with three popular Google Pixel devices (specs in Table <a href="#S5.T1" title="Table 1 ‣ 5.4.1. Latency of FLaaS functions on user devices? ‣ 5.4. What is the cost of FLaaS operations? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>) as test devices in a controlled setting: the devices are forced to perform the ML task on IID data, from beginning (received notification of new ML task) until the end (delivery of ML model to Server) without any breaks.
All devices were updated to Android 12 and with deactivated OS-related automated process that would influence measurements (<em id="S5.SS4.SSS2.p1.1.1" class="ltx_emph ltx_font_italic">i.e.</em>, automatic updates, adaptive battery and brightness).
During evaluation, all devices are connected to a stable 5GHz (IEEE 802.11ac) Wi-Fi network, while CPU utilization was collected using the Android Device Bridge (ADB) tool, and Battery Discharge using the BatteryLab <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib45" title="" class="ltx_ref">batterylab, </a>)</cite> infrastructure.
All RGB apps are whitelisted (<em id="S5.SS4.SSS2.p1.1.2" class="ltx_emph ltx_font_italic">i.e.</em>, set to Unrestricted Battery usage) aiming to measure the most optimal scenario where all apps are responsive to ML training requests, without further scheduling delays introduced by Android’s Work Manager.</p>
</div>
<div id="S5.SS4.SSS2.p2" class="ltx_para">
<p id="S5.SS4.SSS2.p2.12" class="ltx_p">Table <a href="#S5.T2" title="Table 2 ‣ 5.4.2. Device cost of FLaaS functions? ‣ 5.4. What is the cost of FLaaS operations? ‣ 5. Experimental Evaluation ‣ FLaaS: Cross-App On-device Federated Learning in Mobile Environments" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows the average time taken for a device to perform the ML training task, for the three test devices and two cross-app modes (<math id="S5.SS4.SSS2.p2.1.m1.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS2.p2.1.m1.1a"><mrow id="S5.SS4.SSS2.p2.1.m1.1.1" xref="S5.SS4.SSS2.p2.1.m1.1.1.cmml"><mi id="S5.SS4.SSS2.p2.1.m1.1.1.2" xref="S5.SS4.SSS2.p2.1.m1.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.1.m1.1.1.1" xref="S5.SS4.SSS2.p2.1.m1.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.1.m1.1.1.3" xref="S5.SS4.SSS2.p2.1.m1.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.1.m1.1b"><apply id="S5.SS4.SSS2.p2.1.m1.1.1.cmml" xref="S5.SS4.SSS2.p2.1.m1.1.1"><times id="S5.SS4.SSS2.p2.1.m1.1.1.1.cmml" xref="S5.SS4.SSS2.p2.1.m1.1.1.1"></times><ci id="S5.SS4.SSS2.p2.1.m1.1.1.2.cmml" xref="S5.SS4.SSS2.p2.1.m1.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.1.m1.1.1.3.cmml" xref="S5.SS4.SSS2.p2.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.1.m1.1c">JS</annotation></semantics></math> vs. <math id="S5.SS4.SSS2.p2.2.m2.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS2.p2.2.m2.1a"><mrow id="S5.SS4.SSS2.p2.2.m2.1.1" xref="S5.SS4.SSS2.p2.2.m2.1.1.cmml"><mi id="S5.SS4.SSS2.p2.2.m2.1.1.2" xref="S5.SS4.SSS2.p2.2.m2.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.2.m2.1.1.1" xref="S5.SS4.SSS2.p2.2.m2.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.2.m2.1.1.3" xref="S5.SS4.SSS2.p2.2.m2.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.2.m2.1b"><apply id="S5.SS4.SSS2.p2.2.m2.1.1.cmml" xref="S5.SS4.SSS2.p2.2.m2.1.1"><times id="S5.SS4.SSS2.p2.2.m2.1.1.1.cmml" xref="S5.SS4.SSS2.p2.2.m2.1.1.1"></times><ci id="S5.SS4.SSS2.p2.2.m2.1.1.2.cmml" xref="S5.SS4.SSS2.p2.2.m2.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.2.m2.1.1.3.cmml" xref="S5.SS4.SSS2.p2.2.m2.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.2.m2.1c">JM</annotation></semantics></math>) with a total of 450 samples.
As expected, the older device (Pixel 3a) takes the longest to finish, regardless of modeling mode.
Also, confirming results from the user study, <math id="S5.SS4.SSS2.p2.3.m3.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS2.p2.3.m3.1a"><mrow id="S5.SS4.SSS2.p2.3.m3.1.1" xref="S5.SS4.SSS2.p2.3.m3.1.1.cmml"><mi id="S5.SS4.SSS2.p2.3.m3.1.1.2" xref="S5.SS4.SSS2.p2.3.m3.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.3.m3.1.1.1" xref="S5.SS4.SSS2.p2.3.m3.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.3.m3.1.1.3" xref="S5.SS4.SSS2.p2.3.m3.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.3.m3.1b"><apply id="S5.SS4.SSS2.p2.3.m3.1.1.cmml" xref="S5.SS4.SSS2.p2.3.m3.1.1"><times id="S5.SS4.SSS2.p2.3.m3.1.1.1.cmml" xref="S5.SS4.SSS2.p2.3.m3.1.1.1"></times><ci id="S5.SS4.SSS2.p2.3.m3.1.1.2.cmml" xref="S5.SS4.SSS2.p2.3.m3.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.3.m3.1.1.3.cmml" xref="S5.SS4.SSS2.p2.3.m3.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.3.m3.1c">JS</annotation></semantics></math> is slower than <math id="S5.SS4.SSS2.p2.4.m4.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS2.p2.4.m4.1a"><mrow id="S5.SS4.SSS2.p2.4.m4.1.1" xref="S5.SS4.SSS2.p2.4.m4.1.1.cmml"><mi id="S5.SS4.SSS2.p2.4.m4.1.1.2" xref="S5.SS4.SSS2.p2.4.m4.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.4.m4.1.1.1" xref="S5.SS4.SSS2.p2.4.m4.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.4.m4.1.1.3" xref="S5.SS4.SSS2.p2.4.m4.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.4.m4.1b"><apply id="S5.SS4.SSS2.p2.4.m4.1.1.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1"><times id="S5.SS4.SSS2.p2.4.m4.1.1.1.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1.1"></times><ci id="S5.SS4.SSS2.p2.4.m4.1.1.2.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.4.m4.1.1.3.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.4.m4.1c">JM</annotation></semantics></math> since apps have to first transfer data to Local, and then Local has to train the model on them.
On the other hand, <math id="S5.SS4.SSS2.p2.5.m5.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS2.p2.5.m5.1a"><mrow id="S5.SS4.SSS2.p2.5.m5.1.1" xref="S5.SS4.SSS2.p2.5.m5.1.1.cmml"><mi id="S5.SS4.SSS2.p2.5.m5.1.1.2" xref="S5.SS4.SSS2.p2.5.m5.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.5.m5.1.1.1" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.5.m5.1.1.3" xref="S5.SS4.SSS2.p2.5.m5.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.5.m5.1b"><apply id="S5.SS4.SSS2.p2.5.m5.1.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1"><times id="S5.SS4.SSS2.p2.5.m5.1.1.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1"></times><ci id="S5.SS4.SSS2.p2.5.m5.1.1.2.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.5.m5.1.1.3.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.5.m5.1c">JM</annotation></semantics></math> builds 3 individual models, even in parallel if the OS’s Work Manager allows it.
Interestingly, this parallelized execution in <math id="S5.SS4.SSS2.p2.6.m6.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS2.p2.6.m6.1a"><mrow id="S5.SS4.SSS2.p2.6.m6.1.1" xref="S5.SS4.SSS2.p2.6.m6.1.1.cmml"><mi id="S5.SS4.SSS2.p2.6.m6.1.1.2" xref="S5.SS4.SSS2.p2.6.m6.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.6.m6.1.1.1" xref="S5.SS4.SSS2.p2.6.m6.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.6.m6.1.1.3" xref="S5.SS4.SSS2.p2.6.m6.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.6.m6.1b"><apply id="S5.SS4.SSS2.p2.6.m6.1.1.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1"><times id="S5.SS4.SSS2.p2.6.m6.1.1.1.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1.1"></times><ci id="S5.SS4.SSS2.p2.6.m6.1.1.2.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.6.m6.1.1.3.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.6.m6.1c">JM</annotation></semantics></math> is reflected in
CPU usage, which is, on average, <math id="S5.SS4.SSS2.p2.7.m7.1" class="ltx_Math" alttext="74.7\%" display="inline"><semantics id="S5.SS4.SSS2.p2.7.m7.1a"><mrow id="S5.SS4.SSS2.p2.7.m7.1.1" xref="S5.SS4.SSS2.p2.7.m7.1.1.cmml"><mn id="S5.SS4.SSS2.p2.7.m7.1.1.2" xref="S5.SS4.SSS2.p2.7.m7.1.1.2.cmml">74.7</mn><mo id="S5.SS4.SSS2.p2.7.m7.1.1.1" xref="S5.SS4.SSS2.p2.7.m7.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.7.m7.1b"><apply id="S5.SS4.SSS2.p2.7.m7.1.1.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p2.7.m7.1.1.1.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1.1">percent</csymbol><cn type="float" id="S5.SS4.SSS2.p2.7.m7.1.1.2.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1.2">74.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.7.m7.1c">74.7\%</annotation></semantics></math> higher on <math id="S5.SS4.SSS2.p2.8.m8.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS2.p2.8.m8.1a"><mrow id="S5.SS4.SSS2.p2.8.m8.1.1" xref="S5.SS4.SSS2.p2.8.m8.1.1.cmml"><mi id="S5.SS4.SSS2.p2.8.m8.1.1.2" xref="S5.SS4.SSS2.p2.8.m8.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.8.m8.1.1.1" xref="S5.SS4.SSS2.p2.8.m8.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.8.m8.1.1.3" xref="S5.SS4.SSS2.p2.8.m8.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.8.m8.1b"><apply id="S5.SS4.SSS2.p2.8.m8.1.1.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1"><times id="S5.SS4.SSS2.p2.8.m8.1.1.1.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1.1"></times><ci id="S5.SS4.SSS2.p2.8.m8.1.1.2.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.8.m8.1.1.3.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.8.m8.1c">JM</annotation></semantics></math> than <math id="S5.SS4.SSS2.p2.9.m9.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS2.p2.9.m9.1a"><mrow id="S5.SS4.SSS2.p2.9.m9.1.1" xref="S5.SS4.SSS2.p2.9.m9.1.1.cmml"><mi id="S5.SS4.SSS2.p2.9.m9.1.1.2" xref="S5.SS4.SSS2.p2.9.m9.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.9.m9.1.1.1" xref="S5.SS4.SSS2.p2.9.m9.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.9.m9.1.1.3" xref="S5.SS4.SSS2.p2.9.m9.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.9.m9.1b"><apply id="S5.SS4.SSS2.p2.9.m9.1.1.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1"><times id="S5.SS4.SSS2.p2.9.m9.1.1.1.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1.1"></times><ci id="S5.SS4.SSS2.p2.9.m9.1.1.2.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.9.m9.1.1.3.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.9.m9.1c">JS</annotation></semantics></math>, across devices.
Finally, the reduced execution time, even at higher CPU usage, leads to overall reduction in consumed power from <math id="S5.SS4.SSS2.p2.10.m10.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS2.p2.10.m10.1a"><mrow id="S5.SS4.SSS2.p2.10.m10.1.1" xref="S5.SS4.SSS2.p2.10.m10.1.1.cmml"><mi id="S5.SS4.SSS2.p2.10.m10.1.1.2" xref="S5.SS4.SSS2.p2.10.m10.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.10.m10.1.1.1" xref="S5.SS4.SSS2.p2.10.m10.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.10.m10.1.1.3" xref="S5.SS4.SSS2.p2.10.m10.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.10.m10.1b"><apply id="S5.SS4.SSS2.p2.10.m10.1.1.cmml" xref="S5.SS4.SSS2.p2.10.m10.1.1"><times id="S5.SS4.SSS2.p2.10.m10.1.1.1.cmml" xref="S5.SS4.SSS2.p2.10.m10.1.1.1"></times><ci id="S5.SS4.SSS2.p2.10.m10.1.1.2.cmml" xref="S5.SS4.SSS2.p2.10.m10.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.10.m10.1.1.3.cmml" xref="S5.SS4.SSS2.p2.10.m10.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.10.m10.1c">JM</annotation></semantics></math>: <math id="S5.SS4.SSS2.p2.11.m11.1" class="ltx_Math" alttext="41\%" display="inline"><semantics id="S5.SS4.SSS2.p2.11.m11.1a"><mrow id="S5.SS4.SSS2.p2.11.m11.1.1" xref="S5.SS4.SSS2.p2.11.m11.1.1.cmml"><mn id="S5.SS4.SSS2.p2.11.m11.1.1.2" xref="S5.SS4.SSS2.p2.11.m11.1.1.2.cmml">41</mn><mo id="S5.SS4.SSS2.p2.11.m11.1.1.1" xref="S5.SS4.SSS2.p2.11.m11.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.11.m11.1b"><apply id="S5.SS4.SSS2.p2.11.m11.1.1.cmml" xref="S5.SS4.SSS2.p2.11.m11.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p2.11.m11.1.1.1.cmml" xref="S5.SS4.SSS2.p2.11.m11.1.1.1">percent</csymbol><cn type="integer" id="S5.SS4.SSS2.p2.11.m11.1.1.2.cmml" xref="S5.SS4.SSS2.p2.11.m11.1.1.2">41</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.11.m11.1c">41\%</annotation></semantics></math> lower than <math id="S5.SS4.SSS2.p2.12.m12.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS2.p2.12.m12.1a"><mrow id="S5.SS4.SSS2.p2.12.m12.1.1" xref="S5.SS4.SSS2.p2.12.m12.1.1.cmml"><mi id="S5.SS4.SSS2.p2.12.m12.1.1.2" xref="S5.SS4.SSS2.p2.12.m12.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p2.12.m12.1.1.1" xref="S5.SS4.SSS2.p2.12.m12.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p2.12.m12.1.1.3" xref="S5.SS4.SSS2.p2.12.m12.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.12.m12.1b"><apply id="S5.SS4.SSS2.p2.12.m12.1.1.cmml" xref="S5.SS4.SSS2.p2.12.m12.1.1"><times id="S5.SS4.SSS2.p2.12.m12.1.1.1.cmml" xref="S5.SS4.SSS2.p2.12.m12.1.1.1"></times><ci id="S5.SS4.SSS2.p2.12.m12.1.1.2.cmml" xref="S5.SS4.SSS2.p2.12.m12.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p2.12.m12.1.1.3.cmml" xref="S5.SS4.SSS2.p2.12.m12.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.12.m12.1c">JS</annotation></semantics></math>.</p>
</div>
<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T2.2.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>. </span><span id="S5.T2.3.2" class="ltx_text" style="font-size:90%;">Cost for on-device ML training: Training duration, CPU usage, and Power discharge.
Means and standard deviation (SD) computed on distribution of each metric on each device and modeling mode, over 10 rounds.</span></figcaption>
<table id="S5.T2.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T2.4.1.1" class="ltx_tr">
<td id="S5.T2.4.1.1.1" class="ltx_td ltx_align_top"></td>
<th id="S5.T2.4.1.1.2" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column" colspan="2"><span id="S5.T2.4.1.1.2.1" class="ltx_text" style="font-size:80%;">Duration(sec)</span></th>
<th id="S5.T2.4.1.1.3" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column" colspan="2"><span id="S5.T2.4.1.1.3.1" class="ltx_text" style="font-size:80%;">CPU usage(%)</span></th>
<th id="S5.T2.4.1.1.4" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column" colspan="2"><span id="S5.T2.4.1.1.4.1" class="ltx_text" style="font-size:80%;">Discharge(mAh)</span></th>
</tr>
<tr id="S5.T2.4.2.2" class="ltx_tr">
<td id="S5.T2.4.2.2.1" class="ltx_td ltx_align_top ltx_border_t"></td>
<th id="S5.T2.4.2.2.2" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_t"><span id="S5.T2.4.2.2.2.1" class="ltx_text" style="font-size:80%;">JS</span></th>
<th id="S5.T2.4.2.2.3" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_t"><span id="S5.T2.4.2.2.3.1" class="ltx_text" style="font-size:80%;">JM</span></th>
<th id="S5.T2.4.2.2.4" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_t"><span id="S5.T2.4.2.2.4.1" class="ltx_text" style="font-size:80%;">JS</span></th>
<th id="S5.T2.4.2.2.5" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_t"><span id="S5.T2.4.2.2.5.1" class="ltx_text" style="font-size:80%;">JM</span></th>
<th id="S5.T2.4.2.2.6" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_t"><span id="S5.T2.4.2.2.6.1" class="ltx_text" style="font-size:80%;">JS</span></th>
<th id="S5.T2.4.2.2.7" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_t"><span id="S5.T2.4.2.2.7.1" class="ltx_text" style="font-size:80%;">JM</span></th>
</tr>
<tr id="S5.T2.4.3.3" class="ltx_tr">
<td id="S5.T2.4.3.3.1" class="ltx_td ltx_align_top"></td>
<th id="S5.T2.4.3.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S5.T2.4.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.3.3.2.1.1" class="ltx_p" style="width:28.5pt;"><span id="S5.T2.4.3.3.2.1.1.1" class="ltx_text" style="font-size:80%;">Mean(SD)</span></span>
</span>
</th>
<th id="S5.T2.4.3.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S5.T2.4.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.3.3.3.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.3.3.3.1.1.1" class="ltx_text" style="font-size:80%;">Mean(SD)</span></span>
</span>
</th>
<th id="S5.T2.4.3.3.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S5.T2.4.3.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.3.3.4.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.3.3.4.1.1.1" class="ltx_text" style="font-size:80%;">Mean(SD)</span></span>
</span>
</th>
<th id="S5.T2.4.3.3.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S5.T2.4.3.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.3.3.5.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.3.3.5.1.1.1" class="ltx_text" style="font-size:80%;">Mean(SD)</span></span>
</span>
</th>
<th id="S5.T2.4.3.3.6" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S5.T2.4.3.3.6.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.3.3.6.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.3.3.6.1.1.1" class="ltx_text" style="font-size:80%;">Mean(SD)</span></span>
</span>
</th>
<th id="S5.T2.4.3.3.7" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S5.T2.4.3.3.7.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.3.3.7.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.3.3.7.1.1.1" class="ltx_text" style="font-size:80%;">Mean(SD)</span></span>
</span>
</th>
</tr>
<tr id="S5.T2.4.4.4" class="ltx_tr">
<td id="S5.T2.4.4.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S5.T2.4.4.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.4.4.1.1.1" class="ltx_p" style="width:5.7pt;"><span id="S5.T2.4.4.4.1.1.1.1" class="ltx_text" style="font-size:80%;">P3a</span></span>
</span>
</td>
<td id="S5.T2.4.4.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S5.T2.4.4.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.4.4.2.1.1" class="ltx_p" style="width:28.5pt;"><span id="S5.T2.4.4.4.2.1.1.1" class="ltx_text" style="font-size:80%;">167.3(13.1)</span></span>
</span>
</td>
<td id="S5.T2.4.4.4.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S5.T2.4.4.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.4.4.3.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.4.4.3.1.1.1" class="ltx_text" style="font-size:80%;">85.3(1.5)</span></span>
</span>
</td>
<td id="S5.T2.4.4.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S5.T2.4.4.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.4.4.4.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.4.4.4.1.1.1" class="ltx_text" style="font-size:80%;">17.9(2.1)</span></span>
</span>
</td>
<td id="S5.T2.4.4.4.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S5.T2.4.4.4.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.4.4.5.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.4.4.5.1.1.1" class="ltx_text" style="font-size:80%;">29.7(0.6)</span></span>
</span>
</td>
<td id="S5.T2.4.4.4.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S5.T2.4.4.4.6.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.4.4.6.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.4.4.6.1.1.1" class="ltx_text" style="font-size:80%;">56.8(8.6)</span></span>
</span>
</td>
<td id="S5.T2.4.4.4.7" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S5.T2.4.4.4.7.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.4.4.7.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.4.4.7.1.1.1" class="ltx_text" style="font-size:80%;">37.8(0.5)</span></span>
</span>
</td>
</tr>
<tr id="S5.T2.4.5.5" class="ltx_tr">
<td id="S5.T2.4.5.5.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.5.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.5.5.1.1.1" class="ltx_p" style="width:5.7pt;"><span id="S5.T2.4.5.5.1.1.1.1" class="ltx_text" style="font-size:80%;">P4</span></span>
</span>
</td>
<td id="S5.T2.4.5.5.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.5.5.2.1.1" class="ltx_p" style="width:28.5pt;"><span id="S5.T2.4.5.5.2.1.1.1" class="ltx_text" style="font-size:80%;">117.1(1.1)</span></span>
</span>
</td>
<td id="S5.T2.4.5.5.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.5.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.5.5.3.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.5.5.3.1.1.1" class="ltx_text" style="font-size:80%;">62.1(0.8)</span></span>
</span>
</td>
<td id="S5.T2.4.5.5.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.5.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.5.5.4.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.5.5.4.1.1.1" class="ltx_text" style="font-size:80%;">15.4(0.1)</span></span>
</span>
</td>
<td id="S5.T2.4.5.5.5" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.5.5.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.5.5.5.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.5.5.5.1.1.1" class="ltx_text" style="font-size:80%;">27.8(0.4)</span></span>
</span>
</td>
<td id="S5.T2.4.5.5.6" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.5.5.6.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.5.5.6.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.5.5.6.1.1.1" class="ltx_text" style="font-size:80%;">41.3(0.9)</span></span>
</span>
</td>
<td id="S5.T2.4.5.5.7" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.5.5.7.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.5.5.7.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.5.5.7.1.1.1" class="ltx_text" style="font-size:80%;">29.7(0.5)</span></span>
</span>
</td>
</tr>
<tr id="S5.T2.4.6.6" class="ltx_tr">
<td id="S5.T2.4.6.6.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.6.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.6.6.1.1.1" class="ltx_p" style="width:5.7pt;"><span id="S5.T2.4.6.6.1.1.1.1" class="ltx_text" style="font-size:80%;">P5</span></span>
</span>
</td>
<td id="S5.T2.4.6.6.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.6.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.6.6.2.1.1" class="ltx_p" style="width:28.5pt;"><span id="S5.T2.4.6.6.2.1.1.1" class="ltx_text" style="font-size:80%;">115.0(0.4)</span></span>
</span>
</td>
<td id="S5.T2.4.6.6.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.6.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.6.6.3.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.6.6.3.1.1.1" class="ltx_text" style="font-size:80%;">62.8(0.9)</span></span>
</span>
</td>
<td id="S5.T2.4.6.6.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.6.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.6.6.4.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.6.6.4.1.1.1" class="ltx_text" style="font-size:80%;">16.1(0.1)</span></span>
</span>
</td>
<td id="S5.T2.4.6.6.5" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.6.6.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.6.6.5.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.6.6.5.1.1.1" class="ltx_text" style="font-size:80%;">28.8(0.4)</span></span>
</span>
</td>
<td id="S5.T2.4.6.6.6" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.6.6.6.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.6.6.6.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.6.6.6.1.1.1" class="ltx_text" style="font-size:80%;">42.7(1.0)</span></span>
</span>
</td>
<td id="S5.T2.4.6.6.7" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S5.T2.4.6.6.7.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T2.4.6.6.7.1.1" class="ltx_p" style="width:25.6pt;"><span id="S5.T2.4.6.6.7.1.1.1" class="ltx_text" style="font-size:80%;">32.4(0.7)</span></span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S5.SS4.SSS2.p3" class="ltx_para ltx_noindent">
<p id="S5.SS4.SSS2.p3.15" class="ltx_p"><span id="S5.SS4.SSS2.p3.15.1" class="ltx_text ltx_font_bold">Summary:</span>
Overall, a regular user device is expected to spend small amount of time for completing an FL round: a median of <math id="S5.SS4.SSS2.p3.1.m1.1" class="ltx_Math" alttext="131.7" display="inline"><semantics id="S5.SS4.SSS2.p3.1.m1.1a"><mn id="S5.SS4.SSS2.p3.1.m1.1.1" xref="S5.SS4.SSS2.p3.1.m1.1.1.cmml">131.7</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.1.m1.1b"><cn type="float" id="S5.SS4.SSS2.p3.1.m1.1.1.cmml" xref="S5.SS4.SSS2.p3.1.m1.1.1">131.7</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.1.m1.1c">131.7</annotation></semantics></math>s and <math id="S5.SS4.SSS2.p3.2.m2.1" class="ltx_Math" alttext="69.6" display="inline"><semantics id="S5.SS4.SSS2.p3.2.m2.1a"><mn id="S5.SS4.SSS2.p3.2.m2.1.1" xref="S5.SS4.SSS2.p3.2.m2.1.1.cmml">69.6</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.2.m2.1b"><cn type="float" id="S5.SS4.SSS2.p3.2.m2.1.1.cmml" xref="S5.SS4.SSS2.p3.2.m2.1.1">69.6</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.2.m2.1c">69.6</annotation></semantics></math>s in optimal case (test devices) and <math id="S5.SS4.SSS2.p3.3.m3.1" class="ltx_Math" alttext="178.2" display="inline"><semantics id="S5.SS4.SSS2.p3.3.m3.1a"><mn id="S5.SS4.SSS2.p3.3.m3.1.1" xref="S5.SS4.SSS2.p3.3.m3.1.1.cmml">178.2</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.3.m3.1b"><cn type="float" id="S5.SS4.SSS2.p3.3.m3.1.1.cmml" xref="S5.SS4.SSS2.p3.3.m3.1.1">178.2</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.3.m3.1c">178.2</annotation></semantics></math>s and <math id="S5.SS4.SSS2.p3.4.m4.1" class="ltx_Math" alttext="85.2" display="inline"><semantics id="S5.SS4.SSS2.p3.4.m4.1a"><mn id="S5.SS4.SSS2.p3.4.m4.1.1" xref="S5.SS4.SSS2.p3.4.m4.1.1.cmml">85.2</mn><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.4.m4.1b"><cn type="float" id="S5.SS4.SSS2.p3.4.m4.1.1.cmml" xref="S5.SS4.SSS2.p3.4.m4.1.1">85.2</cn></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.4.m4.1c">85.2</annotation></semantics></math>s in regular case (real users), for <math id="S5.SS4.SSS2.p3.5.m5.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS2.p3.5.m5.1a"><mrow id="S5.SS4.SSS2.p3.5.m5.1.1" xref="S5.SS4.SSS2.p3.5.m5.1.1.cmml"><mi id="S5.SS4.SSS2.p3.5.m5.1.1.2" xref="S5.SS4.SSS2.p3.5.m5.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p3.5.m5.1.1.1" xref="S5.SS4.SSS2.p3.5.m5.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p3.5.m5.1.1.3" xref="S5.SS4.SSS2.p3.5.m5.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.5.m5.1b"><apply id="S5.SS4.SSS2.p3.5.m5.1.1.cmml" xref="S5.SS4.SSS2.p3.5.m5.1.1"><times id="S5.SS4.SSS2.p3.5.m5.1.1.1.cmml" xref="S5.SS4.SSS2.p3.5.m5.1.1.1"></times><ci id="S5.SS4.SSS2.p3.5.m5.1.1.2.cmml" xref="S5.SS4.SSS2.p3.5.m5.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p3.5.m5.1.1.3.cmml" xref="S5.SS4.SSS2.p3.5.m5.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.5.m5.1c">JS</annotation></semantics></math> and <math id="S5.SS4.SSS2.p3.6.m6.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS2.p3.6.m6.1a"><mrow id="S5.SS4.SSS2.p3.6.m6.1.1" xref="S5.SS4.SSS2.p3.6.m6.1.1.cmml"><mi id="S5.SS4.SSS2.p3.6.m6.1.1.2" xref="S5.SS4.SSS2.p3.6.m6.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p3.6.m6.1.1.1" xref="S5.SS4.SSS2.p3.6.m6.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p3.6.m6.1.1.3" xref="S5.SS4.SSS2.p3.6.m6.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.6.m6.1b"><apply id="S5.SS4.SSS2.p3.6.m6.1.1.cmml" xref="S5.SS4.SSS2.p3.6.m6.1.1"><times id="S5.SS4.SSS2.p3.6.m6.1.1.1.cmml" xref="S5.SS4.SSS2.p3.6.m6.1.1.1"></times><ci id="S5.SS4.SSS2.p3.6.m6.1.1.2.cmml" xref="S5.SS4.SSS2.p3.6.m6.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p3.6.m6.1.1.3.cmml" xref="S5.SS4.SSS2.p3.6.m6.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.6.m6.1c">JM</annotation></semantics></math>, respectively.
Notably, there are straggler devices requiring significantly more time; a practical FL system should stop waiting for them very early on in the FL round.
Also, the most costly function in the process is loading data for the ML training.
Future work could further optimize this step.
Further, <math id="S5.SS4.SSS2.p3.7.m7.1" class="ltx_Math" alttext="JS" display="inline"><semantics id="S5.SS4.SSS2.p3.7.m7.1a"><mrow id="S5.SS4.SSS2.p3.7.m7.1.1" xref="S5.SS4.SSS2.p3.7.m7.1.1.cmml"><mi id="S5.SS4.SSS2.p3.7.m7.1.1.2" xref="S5.SS4.SSS2.p3.7.m7.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p3.7.m7.1.1.1" xref="S5.SS4.SSS2.p3.7.m7.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p3.7.m7.1.1.3" xref="S5.SS4.SSS2.p3.7.m7.1.1.3.cmml">S</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.7.m7.1b"><apply id="S5.SS4.SSS2.p3.7.m7.1.1.cmml" xref="S5.SS4.SSS2.p3.7.m7.1.1"><times id="S5.SS4.SSS2.p3.7.m7.1.1.1.cmml" xref="S5.SS4.SSS2.p3.7.m7.1.1.1"></times><ci id="S5.SS4.SSS2.p3.7.m7.1.1.2.cmml" xref="S5.SS4.SSS2.p3.7.m7.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p3.7.m7.1.1.3.cmml" xref="S5.SS4.SSS2.p3.7.m7.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.7.m7.1c">JS</annotation></semantics></math>, in comparison to <math id="S5.SS4.SSS2.p3.8.m8.1" class="ltx_Math" alttext="JM" display="inline"><semantics id="S5.SS4.SSS2.p3.8.m8.1a"><mrow id="S5.SS4.SSS2.p3.8.m8.1.1" xref="S5.SS4.SSS2.p3.8.m8.1.1.cmml"><mi id="S5.SS4.SSS2.p3.8.m8.1.1.2" xref="S5.SS4.SSS2.p3.8.m8.1.1.2.cmml">J</mi><mo lspace="0em" rspace="0em" id="S5.SS4.SSS2.p3.8.m8.1.1.1" xref="S5.SS4.SSS2.p3.8.m8.1.1.1.cmml">​</mo><mi id="S5.SS4.SSS2.p3.8.m8.1.1.3" xref="S5.SS4.SSS2.p3.8.m8.1.1.3.cmml">M</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.8.m8.1b"><apply id="S5.SS4.SSS2.p3.8.m8.1.1.cmml" xref="S5.SS4.SSS2.p3.8.m8.1.1"><times id="S5.SS4.SSS2.p3.8.m8.1.1.1.cmml" xref="S5.SS4.SSS2.p3.8.m8.1.1.1"></times><ci id="S5.SS4.SSS2.p3.8.m8.1.1.2.cmml" xref="S5.SS4.SSS2.p3.8.m8.1.1.2">𝐽</ci><ci id="S5.SS4.SSS2.p3.8.m8.1.1.3.cmml" xref="S5.SS4.SSS2.p3.8.m8.1.1.3">𝑀</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.8.m8.1c">JM</annotation></semantics></math>, requires <math id="S5.SS4.SSS2.p3.9.m9.1" class="ltx_Math" alttext="90.00\%" display="inline"><semantics id="S5.SS4.SSS2.p3.9.m9.1a"><mrow id="S5.SS4.SSS2.p3.9.m9.1.1" xref="S5.SS4.SSS2.p3.9.m9.1.1.cmml"><mn id="S5.SS4.SSS2.p3.9.m9.1.1.2" xref="S5.SS4.SSS2.p3.9.m9.1.1.2.cmml">90.00</mn><mo id="S5.SS4.SSS2.p3.9.m9.1.1.1" xref="S5.SS4.SSS2.p3.9.m9.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.9.m9.1b"><apply id="S5.SS4.SSS2.p3.9.m9.1.1.cmml" xref="S5.SS4.SSS2.p3.9.m9.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p3.9.m9.1.1.1.cmml" xref="S5.SS4.SSS2.p3.9.m9.1.1.1">percent</csymbol><cn type="float" id="S5.SS4.SSS2.p3.9.m9.1.1.2.cmml" xref="S5.SS4.SSS2.p3.9.m9.1.1.2">90.00</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.9.m9.1c">90.00\%</annotation></semantics></math> more execution time, but uses <math id="S5.SS4.SSS2.p3.10.m10.1" class="ltx_Math" alttext="74.68\%" display="inline"><semantics id="S5.SS4.SSS2.p3.10.m10.1a"><mrow id="S5.SS4.SSS2.p3.10.m10.1.1" xref="S5.SS4.SSS2.p3.10.m10.1.1.cmml"><mn id="S5.SS4.SSS2.p3.10.m10.1.1.2" xref="S5.SS4.SSS2.p3.10.m10.1.1.2.cmml">74.68</mn><mo id="S5.SS4.SSS2.p3.10.m10.1.1.1" xref="S5.SS4.SSS2.p3.10.m10.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.10.m10.1b"><apply id="S5.SS4.SSS2.p3.10.m10.1.1.cmml" xref="S5.SS4.SSS2.p3.10.m10.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p3.10.m10.1.1.1.cmml" xref="S5.SS4.SSS2.p3.10.m10.1.1.1">percent</csymbol><cn type="float" id="S5.SS4.SSS2.p3.10.m10.1.1.2.cmml" xref="S5.SS4.SSS2.p3.10.m10.1.1.2">74.68</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.10.m10.1c">74.68\%</annotation></semantics></math> less CPU.
However, it requires <math id="S5.SS4.SSS2.p3.11.m11.1" class="ltx_Math" alttext="40.96\%" display="inline"><semantics id="S5.SS4.SSS2.p3.11.m11.1a"><mrow id="S5.SS4.SSS2.p3.11.m11.1.1" xref="S5.SS4.SSS2.p3.11.m11.1.1.cmml"><mn id="S5.SS4.SSS2.p3.11.m11.1.1.2" xref="S5.SS4.SSS2.p3.11.m11.1.1.2.cmml">40.96</mn><mo id="S5.SS4.SSS2.p3.11.m11.1.1.1" xref="S5.SS4.SSS2.p3.11.m11.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.11.m11.1b"><apply id="S5.SS4.SSS2.p3.11.m11.1.1.cmml" xref="S5.SS4.SSS2.p3.11.m11.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p3.11.m11.1.1.1.cmml" xref="S5.SS4.SSS2.p3.11.m11.1.1.1">percent</csymbol><cn type="float" id="S5.SS4.SSS2.p3.11.m11.1.1.2.cmml" xref="S5.SS4.SSS2.p3.11.m11.1.1.2">40.96</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.11.m11.1c">40.96\%</annotation></semantics></math> more power to process the same number of samples but in a single app (FLaaS Local).
Finally, older devices (<em id="S5.SS4.SSS2.p3.15.2" class="ltx_emph ltx_font_italic">e.g.</em>, Pixel 3a) require more execution time (<math id="S5.SS4.SSS2.p3.12.m12.1" class="ltx_Math" alttext="44.2\%" display="inline"><semantics id="S5.SS4.SSS2.p3.12.m12.1a"><mrow id="S5.SS4.SSS2.p3.12.m12.1.1" xref="S5.SS4.SSS2.p3.12.m12.1.1.cmml"><mn id="S5.SS4.SSS2.p3.12.m12.1.1.2" xref="S5.SS4.SSS2.p3.12.m12.1.1.2.cmml">44.2</mn><mo id="S5.SS4.SSS2.p3.12.m12.1.1.1" xref="S5.SS4.SSS2.p3.12.m12.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.12.m12.1b"><apply id="S5.SS4.SSS2.p3.12.m12.1.1.cmml" xref="S5.SS4.SSS2.p3.12.m12.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p3.12.m12.1.1.1.cmml" xref="S5.SS4.SSS2.p3.12.m12.1.1.1">percent</csymbol><cn type="float" id="S5.SS4.SSS2.p3.12.m12.1.1.2.cmml" xref="S5.SS4.SSS2.p3.12.m12.1.1.2">44.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.12.m12.1c">44.2\%</annotation></semantics></math> and <math id="S5.SS4.SSS2.p3.13.m13.1" class="ltx_Math" alttext="36.6\%" display="inline"><semantics id="S5.SS4.SSS2.p3.13.m13.1a"><mrow id="S5.SS4.SSS2.p3.13.m13.1.1" xref="S5.SS4.SSS2.p3.13.m13.1.1.cmml"><mn id="S5.SS4.SSS2.p3.13.m13.1.1.2" xref="S5.SS4.SSS2.p3.13.m13.1.1.2.cmml">36.6</mn><mo id="S5.SS4.SSS2.p3.13.m13.1.1.1" xref="S5.SS4.SSS2.p3.13.m13.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.13.m13.1b"><apply id="S5.SS4.SSS2.p3.13.m13.1.1.cmml" xref="S5.SS4.SSS2.p3.13.m13.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p3.13.m13.1.1.1.cmml" xref="S5.SS4.SSS2.p3.13.m13.1.1.1">percent</csymbol><cn type="float" id="S5.SS4.SSS2.p3.13.m13.1.1.2.cmml" xref="S5.SS4.SSS2.p3.13.m13.1.1.2">36.6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.13.m13.1c">36.6\%</annotation></semantics></math> increase) and power (<math id="S5.SS4.SSS2.p3.14.m14.1" class="ltx_Math" alttext="35.2\%" display="inline"><semantics id="S5.SS4.SSS2.p3.14.m14.1a"><mrow id="S5.SS4.SSS2.p3.14.m14.1.1" xref="S5.SS4.SSS2.p3.14.m14.1.1.cmml"><mn id="S5.SS4.SSS2.p3.14.m14.1.1.2" xref="S5.SS4.SSS2.p3.14.m14.1.1.2.cmml">35.2</mn><mo id="S5.SS4.SSS2.p3.14.m14.1.1.1" xref="S5.SS4.SSS2.p3.14.m14.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.14.m14.1b"><apply id="S5.SS4.SSS2.p3.14.m14.1.1.cmml" xref="S5.SS4.SSS2.p3.14.m14.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p3.14.m14.1.1.1.cmml" xref="S5.SS4.SSS2.p3.14.m14.1.1.1">percent</csymbol><cn type="float" id="S5.SS4.SSS2.p3.14.m14.1.1.2.cmml" xref="S5.SS4.SSS2.p3.14.m14.1.1.2">35.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.14.m14.1c">35.2\%</annotation></semantics></math> and <math id="S5.SS4.SSS2.p3.15.m15.1" class="ltx_Math" alttext="21.7\%" display="inline"><semantics id="S5.SS4.SSS2.p3.15.m15.1a"><mrow id="S5.SS4.SSS2.p3.15.m15.1.1" xref="S5.SS4.SSS2.p3.15.m15.1.1.cmml"><mn id="S5.SS4.SSS2.p3.15.m15.1.1.2" xref="S5.SS4.SSS2.p3.15.m15.1.1.2.cmml">21.7</mn><mo id="S5.SS4.SSS2.p3.15.m15.1.1.1" xref="S5.SS4.SSS2.p3.15.m15.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.15.m15.1b"><apply id="S5.SS4.SSS2.p3.15.m15.1.1.cmml" xref="S5.SS4.SSS2.p3.15.m15.1.1"><csymbol cd="latexml" id="S5.SS4.SSS2.p3.15.m15.1.1.1.cmml" xref="S5.SS4.SSS2.p3.15.m15.1.1.1">percent</csymbol><cn type="float" id="S5.SS4.SSS2.p3.15.m15.1.1.2.cmml" xref="S5.SS4.SSS2.p3.15.m15.1.1.2">21.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.15.m15.1c">21.7\%</annotation></semantics></math> increase) to perform the same ML task in JS and JM, respectively.</p>
</div>
<div id="S5.SS4.SSS2.p4" class="ltx_para">
<p id="S5.SS4.SSS2.p4.1" class="ltx_p">It is worth mentioning that in the Android ecosystem, and in contrast to Apple’s iOS, on-device training is only available through TensorFlow Lite with limitations: only utilizing CPU (and not available GPU) and no support of multi-processing.
Future releases from Google TensorFlow could allow great performance increases, as indicated in their roadmap <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib43" title="" class="ltx_ref">tflite-roadmap2021, </a>)</cite>.</p>
</div>
</section>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Related Work</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">The industrial, research and open source communities have proposed various frameworks for distributed or federated learning.
On the industrial side, large Internet companies, such as Google, Meta and Apple, are using FL on Android and iOS phones for different tasks such as keyboard next word prediction, error correction, and acoustic keyword trigger <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib7" title="" class="ltx_ref">bonawitz2019FL-sysml, </a>; <a href="#bib.bib21" title="" class="ltx_ref">huba2022papaya-mlsys, </a>; <a href="#bib.bib37" title="" class="ltx_ref">apple-fl, </a>)</cite>.
Interestingly, Papaya from Meta AI <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib21" title="" class="ltx_ref">huba2022papaya-mlsys, </a>)</cite> performs buffered asynchronous FL for next-word prediction using the concept of staleness to incorporate late arrivals of models from devices into the global FL model.
Overall, these frameworks are tailored for mobile devices, but they are designed on a per-app basis and embedded in company products.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">Training model with FL across companies (<em id="S6.p2.1.1" class="ltx_emph ltx_font_italic">i.e.</em>, cross-silo FL) has also received attention from major industry players, such as Nvidia, IBM, and Intel, as well as startups with focus on healthcare or finance <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib8" title="" class="ltx_ref">bonawitz2021, </a>; <a href="#bib.bib4" title="" class="ltx_ref">sherpa-ai, </a>)</cite>.
While these frameworks are relevant to our work, they are proprietary and not designed for generalized use in mobile apps.
Similarly, other startups provide proprietary frameworks for FL or distributed training, but not for mobile environments <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib2" title="" class="ltx_ref">integrate-ai, </a>)</cite>.
Finally, all these efforts, including the cross-silo FL solutions, do not tackle the cross-app problem of how to enable third-party apps to collaborate and jointly build an ML model that solves same or new ML problems, on the user device.
This paper proposes the first practical solution to enable this joint modeling between apps.</p>
</div>
<div id="S6.p3" class="ltx_para">
<p id="S6.p3.4" class="ltx_p">On the open-source community side, different frameworks have been proposed for decentralized, secured and private ML:
Open source frameworks developed for simulations, optimization, high level programming language, or benchmarking for FL and decentralized computation systems, such as TensorFlow Federated (TFF) <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib42" title="" class="ltx_ref">tensorflow-federated2020, </a>)</cite>, coMind <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib10" title="" class="ltx_ref">comind2019, </a>)</cite> or LEAF <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib9" title="" class="ltx_ref">leaf-benchmark2019, </a>)</cite>, though none of these frameworks have support for mobile environments.
Also, <span id="S6.p3.4.1" class="ltx_text ltx_font_italic">OpenMined</span> <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib36" title="" class="ltx_ref">openmined2020, </a>)</cite> proposes the libraries <span id="S6.p3.4.2" class="ltx_text ltx_font_italic">PySyft</span> and <span id="S6.p3.4.3" class="ltx_text ltx_font_italic">PyGrid</span> by employing <math id="S6.p3.1.m1.1" class="ltx_Math" alttext="MPC" display="inline"><semantics id="S6.p3.1.m1.1a"><mrow id="S6.p3.1.m1.1.1" xref="S6.p3.1.m1.1.1.cmml"><mi id="S6.p3.1.m1.1.1.2" xref="S6.p3.1.m1.1.1.2.cmml">M</mi><mo lspace="0em" rspace="0em" id="S6.p3.1.m1.1.1.1" xref="S6.p3.1.m1.1.1.1.cmml">​</mo><mi id="S6.p3.1.m1.1.1.3" xref="S6.p3.1.m1.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S6.p3.1.m1.1.1.1a" xref="S6.p3.1.m1.1.1.1.cmml">​</mo><mi id="S6.p3.1.m1.1.1.4" xref="S6.p3.1.m1.1.1.4.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.1.m1.1b"><apply id="S6.p3.1.m1.1.1.cmml" xref="S6.p3.1.m1.1.1"><times id="S6.p3.1.m1.1.1.1.cmml" xref="S6.p3.1.m1.1.1.1"></times><ci id="S6.p3.1.m1.1.1.2.cmml" xref="S6.p3.1.m1.1.1.2">𝑀</ci><ci id="S6.p3.1.m1.1.1.3.cmml" xref="S6.p3.1.m1.1.1.3">𝑃</ci><ci id="S6.p3.1.m1.1.1.4.cmml" xref="S6.p3.1.m1.1.1.4">𝐶</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.1.m1.1c">MPC</annotation></semantics></math>, homomorphic encryption, <math id="S6.p3.2.m2.1" class="ltx_Math" alttext="DP" display="inline"><semantics id="S6.p3.2.m2.1a"><mrow id="S6.p3.2.m2.1.1" xref="S6.p3.2.m2.1.1.cmml"><mi id="S6.p3.2.m2.1.1.2" xref="S6.p3.2.m2.1.1.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="S6.p3.2.m2.1.1.1" xref="S6.p3.2.m2.1.1.1.cmml">​</mo><mi id="S6.p3.2.m2.1.1.3" xref="S6.p3.2.m2.1.1.3.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.2.m2.1b"><apply id="S6.p3.2.m2.1.1.cmml" xref="S6.p3.2.m2.1.1"><times id="S6.p3.2.m2.1.1.1.cmml" xref="S6.p3.2.m2.1.1.1"></times><ci id="S6.p3.2.m2.1.1.2.cmml" xref="S6.p3.2.m2.1.1.2">𝐷</ci><ci id="S6.p3.2.m2.1.1.3.cmml" xref="S6.p3.2.m2.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.2.m2.1c">DP</annotation></semantics></math> and <math id="S6.p3.3.m3.1" class="ltx_Math" alttext="FL" display="inline"><semantics id="S6.p3.3.m3.1a"><mrow id="S6.p3.3.m3.1.1" xref="S6.p3.3.m3.1.1.cmml"><mi id="S6.p3.3.m3.1.1.2" xref="S6.p3.3.m3.1.1.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="S6.p3.3.m3.1.1.1" xref="S6.p3.3.m3.1.1.1.cmml">​</mo><mi id="S6.p3.3.m3.1.1.3" xref="S6.p3.3.m3.1.1.3.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.3.m3.1b"><apply id="S6.p3.3.m3.1.1.cmml" xref="S6.p3.3.m3.1.1"><times id="S6.p3.3.m3.1.1.1.cmml" xref="S6.p3.3.m3.1.1.1"></times><ci id="S6.p3.3.m3.1.1.2.cmml" xref="S6.p3.3.m3.1.1.2">𝐹</ci><ci id="S6.p3.3.m3.1.1.3.cmml" xref="S6.p3.3.m3.1.1.3">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.3.m3.1c">FL</annotation></semantics></math> for secured and <math id="S6.p3.4.m4.1" class="ltx_Math" alttext="PPML" display="inline"><semantics id="S6.p3.4.m4.1a"><mrow id="S6.p3.4.m4.1.1" xref="S6.p3.4.m4.1.1.cmml"><mi id="S6.p3.4.m4.1.1.2" xref="S6.p3.4.m4.1.1.2.cmml">P</mi><mo lspace="0em" rspace="0em" id="S6.p3.4.m4.1.1.1" xref="S6.p3.4.m4.1.1.1.cmml">​</mo><mi id="S6.p3.4.m4.1.1.3" xref="S6.p3.4.m4.1.1.3.cmml">P</mi><mo lspace="0em" rspace="0em" id="S6.p3.4.m4.1.1.1a" xref="S6.p3.4.m4.1.1.1.cmml">​</mo><mi id="S6.p3.4.m4.1.1.4" xref="S6.p3.4.m4.1.1.4.cmml">M</mi><mo lspace="0em" rspace="0em" id="S6.p3.4.m4.1.1.1b" xref="S6.p3.4.m4.1.1.1.cmml">​</mo><mi id="S6.p3.4.m4.1.1.5" xref="S6.p3.4.m4.1.1.5.cmml">L</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.4.m4.1b"><apply id="S6.p3.4.m4.1.1.cmml" xref="S6.p3.4.m4.1.1"><times id="S6.p3.4.m4.1.1.1.cmml" xref="S6.p3.4.m4.1.1.1"></times><ci id="S6.p3.4.m4.1.1.2.cmml" xref="S6.p3.4.m4.1.1.2">𝑃</ci><ci id="S6.p3.4.m4.1.1.3.cmml" xref="S6.p3.4.m4.1.1.3">𝑃</ci><ci id="S6.p3.4.m4.1.1.4.cmml" xref="S6.p3.4.m4.1.1.4">𝑀</ci><ci id="S6.p3.4.m4.1.1.5.cmml" xref="S6.p3.4.m4.1.1.5">𝐿</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.4.m4.1c">PPML</annotation></semantics></math> modeling.
FedML <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib19" title="" class="ltx_ref">he2020fedml, </a>)</cite> proposes an FL product closer to FLaaS, by allowing FL customers to seamlessly deploy their FL projects to edge devices and collaborate with other each other.</p>
</div>
<div id="S6.p4" class="ltx_para">
<p id="S6.p4.1" class="ltx_p">On academic side, Hermes <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib27" title="" class="ltx_ref">hermes-mobicom, </a>)</cite> and Flower <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib29" title="" class="ltx_ref">flower2021, </a>)</cite> are two frameworks close to this study’s goals, allowing FL to be deployed on heterogeneous devices, such as phones and tablets.
However, Hermes focuses on providing personalization and communication efficiency of FL models while considering data heterogeneity.
Also, Flower supports Android-based devices using TFLite <cite class="ltx_cite ltx_citemacro_citep">(<a href="#bib.bib44" title="" class="ltx_ref">tflite2022, </a>)</cite>, but assumes an gRPC connection always exists between server and FL clients, who are assumed to be always available for training.
This design decision makes it unsuitable for ad-hoc or asynchronous FL modeling on mobile devices we aim to support with FLaaS.
Also, both Hermes and Flower do not support cross-app modeling, nor assume the <span id="S6.p4.1.1" class="ltx_text ltx_font_italic">as-a-service</span> paradigm, both which are essential design elements of FLaaS.</p>
</div>
<div id="S6.p5" class="ltx_para ltx_noindent">
<p id="S6.p5.1" class="ltx_p"><span id="S6.p5.1.1" class="ltx_text ltx_font_bold">Contributions:</span>
FLaaS provides an easy to use, open-source framework for mobile app developers, currently not provided by past solutions.
Specifically, we advance the FL state-of-art by designing, implementing and evaluating:
i) a first of its kind middleware for mobiles enabling single/cross-app on-device training;
ii) a set of secure and PP mechanisms to enable cross-app training;
iii) a mobile app library and easy-to-use API for app developers to enable FL usage seamlessly;
iv) a robust end-to-end design for system scalability and in-the-wild deployment.
Furthermore, we are the first to provide an in-depth evaluation of the benefits of cross-silo FL in the context and at the level of mobile apps (not at cross-silo servers), and in-the-wild analysis of this proposal.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Conclusion</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this paper, we presented FLaaS, the first practical Federated Learning system for mobile environments, that supports single and joint-app ML modeling, in a secure, private and “as-a-Service” fashion.
We implemented FLaaS for Android-based mobile devices and performed extensive in-lab and in the wild experiments with 144 real users.
Our results show the feasibility of the FLaaS design: with a few tens of devices, FLaaS can build a useful ML model having an almost negligible impact on user phone experience and requiring a few minutes to perform each FL round.
We also showed the impact of different strategies for joint ML model training across third-party mobile apps and presented several insights on real devices with actual users’ availability and opportunities for FL training.
The complete source-code of our system is available at: <a target="_blank" href="https://github.com/FLaaSResearch" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/FLaaSResearch</a>.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">The research leading to these results received partial funding from the EU H2020 Research and Innovation programme under grant agreements No 830927 (Concordia), No 871793 (Accordion), No 871370 (Pimcity), and No 101021808 (SPATIAL).
These results reflect only the authors’ view and the EU Commission are not responsible for any use that may be made of the information it contains.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
Heroku cloud application platform.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.heroku.com" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.heroku.com</a>, 2021.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(2)</span>
<span class="ltx_bibblock">
Machine learning for decentralized data.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://integrate.ai" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://integrate.ai</a>, 2021.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(3)</span>
<span class="ltx_bibblock">
Pushwoosh notification service.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.pushwoosh.com" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.pushwoosh.com</a>, 2021.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(4)</span>
<span class="ltx_bibblock">
Sherpa.ai.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.sherpa.ai" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.sherpa.ai</a>, 2022.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(5)</span>
<span class="ltx_bibblock">
<span id="bib.bib5.1.1" class="ltx_text ltx_font_smallcaps">Amazon</span>.

</span>
<span class="ltx_bibblock">Machine learning on aws.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://aws.amazon.com/machine-learning/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://aws.amazon.com/machine-learning/</a>, 2020.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(6)</span>
<span class="ltx_bibblock">
<span id="bib.bib6.1.1" class="ltx_text ltx_font_smallcaps">Bagdasaryan, E., Berlstein, G., Waterman, J., Birrell, E., Foster, N.,
Schneider, F. B., and Estrin, D.</span>

</span>
<span class="ltx_bibblock">Ancile: Enhancing privacy for ubiquitous computing with use-based
privacy.

</span>
<span class="ltx_bibblock">In <span id="bib.bib6.2.1" class="ltx_text ltx_font_italic">Proceedings of the 18th ACM Workshop on Privacy in the
Electronic Society</span> (2019), pp. 111–124.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(7)</span>
<span class="ltx_bibblock">
<span id="bib.bib7.1.1" class="ltx_text ltx_font_smallcaps">Bonawitz, K., Eichner, H., Grieskamp, W., Huba, D., Ingerman, A., Ivanov,
V., Kiddon, C., Konečný, J., Mazzocchi, S., McMahan, H., Overveldt, T.,
Petrou, D., Ramage, D., and Roselander, J.</span>

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design.

</span>
<span class="ltx_bibblock">In <span id="bib.bib7.2.1" class="ltx_text ltx_font_italic">2nd SysML Conference</span> (2019).

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(8)</span>
<span class="ltx_bibblock">
<span id="bib.bib8.1.1" class="ltx_text ltx_font_smallcaps">Bonawitz, K., Kairouz, P., McMahan, B., and Ramage, D.</span>

</span>
<span class="ltx_bibblock">Federated learning and privacy: Building privacy-preserving systems
for machine learning and data science on decentralized data.

</span>
<span class="ltx_bibblock"><span id="bib.bib8.2.1" class="ltx_text ltx_font_italic">Queue 19</span>, 5 (oct 2021), 87–114.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(9)</span>
<span class="ltx_bibblock">
<span id="bib.bib9.1.1" class="ltx_text ltx_font_smallcaps">Caldas, S., Meher Karthik Duddu, S., Wu, P., Li, T., Konečný, J.,
McMahan, H. B., Smith, V., and Talwalkar, A.</span>

</span>
<span class="ltx_bibblock">Leaf: A benchmark for federated settings.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://leaf.cmu.edu" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://leaf.cmu.edu</a>, 2019.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(10)</span>
<span class="ltx_bibblock">
<span id="bib.bib10.1.1" class="ltx_text ltx_font_smallcaps">CoMind</span>.

</span>
<span class="ltx_bibblock">comind: Collaborative machine learning.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://comind.org" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://comind.org</a>, 2019.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(11)</span>
<span class="ltx_bibblock">
<span id="bib.bib11.1.1" class="ltx_text ltx_font_smallcaps">Corinzia, L., Beuret, A., and Buhmann, J. M.</span>

</span>
<span class="ltx_bibblock">Variational federated multi-task learning.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://arxiv.org/pdf/1906.06268.pdf" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://arxiv.org/pdf/1906.06268.pdf</a><span id="bib.bib11.2.1" class="ltx_text ltx_font_italic"></span> (2019).

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(12)</span>
<span class="ltx_bibblock">
<span id="bib.bib12.1.1" class="ltx_text ltx_font_smallcaps">Datafleets</span>.

</span>
<span class="ltx_bibblock">Datafleets: The federated intelligence platform.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.datafleets.com" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.datafleets.com</a>, 2020.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(13)</span>
<span class="ltx_bibblock">
<span id="bib.bib13.1.1" class="ltx_text ltx_font_smallcaps">Deng, J., Dong, W., Socher, R., Li, L.-J., Li, K., and Fei-Fei, L.</span>

</span>
<span class="ltx_bibblock">ImageNet: A Large-Scale Hierarchical Image Database.

</span>
<span class="ltx_bibblock">In <span id="bib.bib13.2.1" class="ltx_text ltx_font_italic">CVPR09</span> (2009).

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(14)</span>
<span class="ltx_bibblock">
<span id="bib.bib14.1.1" class="ltx_text ltx_font_smallcaps">Dittrich, D., and Kenneally, E.</span>

</span>
<span class="ltx_bibblock">The menlo report: Ethical principles guiding information and
communication technology research.

</span>
<span class="ltx_bibblock">Tech. rep., 2012.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(15)</span>
<span class="ltx_bibblock">
<span id="bib.bib15.1.1" class="ltx_text ltx_font_smallcaps">DML</span>.

</span>
<span class="ltx_bibblock">Decentralized machine learning.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://decentralizedml.com" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://decentralizedml.com</a>, 2018.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(16)</span>
<span class="ltx_bibblock">
<span id="bib.bib16.1.1" class="ltx_text ltx_font_smallcaps">Dwork, C., Roth, A., et al.</span>

</span>
<span class="ltx_bibblock">The algorithmic foundations of differential privacy.

</span>
<span class="ltx_bibblock"><span id="bib.bib16.2.1" class="ltx_text ltx_font_italic">Foundations and Trends in Theoretical Computer Science 9</span>, 3-4
(2014), 211–407.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(17)</span>
<span class="ltx_bibblock">
<span id="bib.bib17.1.1" class="ltx_text ltx_font_smallcaps">Geyer, R. C., Klein, T., and Nabi, M.</span>

</span>
<span class="ltx_bibblock">Differentially private federated learning: A client level
perspective.

</span>
<span class="ltx_bibblock">In <span id="bib.bib17.2.1" class="ltx_text ltx_font_italic">NIPS Workshop: Machine Learning on the Phone and other
Consumer Devices</span> (2017).

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(18)</span>
<span class="ltx_bibblock">
<span id="bib.bib18.1.1" class="ltx_text ltx_font_smallcaps">Google</span>.

</span>
<span class="ltx_bibblock">Ai platform.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://cloud.google.com/ai-platform" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://cloud.google.com/ai-platform</a>, 2020.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(19)</span>
<span class="ltx_bibblock">
<span id="bib.bib19.1.1" class="ltx_text ltx_font_smallcaps">He, C., Li, S., So, J., Zeng, X., Zhang, M., Wang, H., Wang, X.,
Vepakomma, P., Singh, A., Qiu, H., et al.</span>

</span>
<span class="ltx_bibblock">FedML: A research library and benchmark for federated machine
learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib19.2.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2007.13518</span> (2020).

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(20)</span>
<span class="ltx_bibblock">
<span id="bib.bib20.1.1" class="ltx_text ltx_font_smallcaps">Hitaj, B., Ateniese, G., and Perez-Cruz, F.</span>

</span>
<span class="ltx_bibblock">Deep models under the gan: information leakage from collaborative
deep learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib20.2.1" class="ltx_text ltx_font_italic">Proceedings of the 2017 ACM SIGSAC Conference on Computer and
Communications Security</span> (2017), pp. 603–618.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(21)</span>
<span class="ltx_bibblock">
<span id="bib.bib21.1.1" class="ltx_text ltx_font_smallcaps">Huba, D., Nguyen, J., Malik, K., Zhu, R., Rabbat, M., Yousefpour, A., Wu,
C.-J., Zhan, H., Ustinov, P., Srinivas, H., Wang, K., Shoumikhin, A., Min,
J., and Malek, M.</span>

</span>
<span class="ltx_bibblock">Papaya: Practical, private, and scalable federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib21.2.1" class="ltx_text ltx_font_italic">Proceedings of Machine Learning and Systems</span> (2022),
D. Marculescu, Y. Chi, and C. Wu, Eds., vol. 4, pp. 814–832.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(22)</span>
<span class="ltx_bibblock">
<span id="bib.bib22.1.1" class="ltx_text ltx_font_smallcaps">Inc., A.</span>

</span>
<span class="ltx_bibblock">Setting up a remote notification server.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://developer.apple.com/documentation/usernotifications/setting_up_a_remote_notification_server</a>,
2021.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(23)</span>
<span class="ltx_bibblock">
<span id="bib.bib23.1.1" class="ltx_text ltx_font_smallcaps">Inc., G.</span>

</span>
<span class="ltx_bibblock">Firebase cloud messaging.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://firebase.google.com/docs/cloud-messaging" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://firebase.google.com/docs/cloud-messaging</a>, 2021.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(24)</span>
<span class="ltx_bibblock">
<span id="bib.bib24.1.1" class="ltx_text ltx_font_smallcaps">Konecny, J., McMahan, H. B., Yu, F., Richtarik, P., Theertha Suresh, A.,
and Bacon, D.</span>

</span>
<span class="ltx_bibblock">Federated learning: Strategies for improving communication
efficiency.

</span>
<span class="ltx_bibblock">In <span id="bib.bib24.2.1" class="ltx_text ltx_font_italic">29th Conference on Neural Information Processing
Systems(NIPS)</span> (2016).

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(25)</span>
<span class="ltx_bibblock">
<span id="bib.bib25.1.1" class="ltx_text ltx_font_smallcaps">Kourtellis, N., Katevas, K., and Perino, D.</span>

</span>
<span class="ltx_bibblock">Flaas: Federated learning as a service.

</span>
<span class="ltx_bibblock">In <span id="bib.bib25.2.1" class="ltx_text ltx_font_italic">Proceedings of the 1st Workshop on Distributed Machine
Learning</span> (New York, NY, USA, 2020), DistributedML’20, Association for
Computing Machinery, p. 7–13.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(26)</span>
<span class="ltx_bibblock">
<span id="bib.bib26.1.1" class="ltx_text ltx_font_smallcaps">Krizhevsky, A., Hinton, G., et al.</span>

</span>
<span class="ltx_bibblock">Learning multiple layers of features from tiny images.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(27)</span>
<span class="ltx_bibblock">
<span id="bib.bib27.1.1" class="ltx_text ltx_font_smallcaps">Li, A., Sun, J., Li, P., Pu, Y., Li, H., and Chen, Y.</span>

</span>
<span class="ltx_bibblock">Hermes: An efficient federated learning framework for heterogeneous
mobile clients.

</span>
<span class="ltx_bibblock">In <span id="bib.bib27.2.1" class="ltx_text ltx_font_italic">Proceedings of the 27th Annual International Conference on
Mobile Computing and Networking</span> (New York, NY, USA, 2021), MobiCom ’21,
Association for Computing Machinery, p. 420–437.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(28)</span>
<span class="ltx_bibblock">
<span id="bib.bib28.1.1" class="ltx_text ltx_font_smallcaps">Marfoq, O., Neglia, G., Bellet, A., Kameni, L., and Vidal, R.</span>

</span>
<span class="ltx_bibblock">Federated multi-task learning under a mixture of distributions.

</span>
<span class="ltx_bibblock">In <span id="bib.bib28.2.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span> (2021),
M. Ranzato, A. Beygelzimer, Y. Dauphin, P. Liang, and J. W. Vaughan, Eds.,
vol. 34, Curran Associates, Inc., pp. 15434–15447.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(29)</span>
<span class="ltx_bibblock">
<span id="bib.bib29.1.1" class="ltx_text ltx_font_smallcaps">Mathur, A., Beutel, D. J., Porto Buarque de Gusmao, P., Fernandez-Marques,
J., Topal, T., Qiu, X., Parcollet, T., Gao, Y., and D. Lane, N.</span>

</span>
<span class="ltx_bibblock">On-device federated learning with FLOWER.

</span>
<span class="ltx_bibblock">In <span id="bib.bib29.2.1" class="ltx_text ltx_font_italic">On-device Intelligence Workshop at the 4th Conference on
Machine Learning and Systems (MLSys)</span> (April 2021).

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(30)</span>
<span class="ltx_bibblock">
<span id="bib.bib30.1.1" class="ltx_text ltx_font_smallcaps">McMahan, H. B., Moore, E., Ramage, D., and Agüera y Arcas, B.</span>

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <span id="bib.bib30.2.1" class="ltx_text ltx_font_italic">20th International Conference on Artificial Intelligence and
Statistics (AISTATS)</span> (2017).

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(31)</span>
<span class="ltx_bibblock">
<span id="bib.bib31.1.1" class="ltx_text ltx_font_smallcaps">Melis, L., Song, C., De Cristofaro, E., and Shmatikov, V.</span>

</span>
<span class="ltx_bibblock">Exploiting unintended feature leakage in collaborative learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib31.2.1" class="ltx_text ltx_font_italic">2019 IEEE Symposium on Security and Privacy (SP)</span> (2019),
IEEE, pp. 691–706.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(32)</span>
<span class="ltx_bibblock">
<span id="bib.bib32.1.1" class="ltx_text ltx_font_smallcaps">Microsoft</span>.

</span>
<span class="ltx_bibblock">Azure machine learning.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://azure.microsoft.com/en-us/services/machine-learning/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://azure.microsoft.com/en-us/services/machine-learning/</a>,
2020.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(33)</span>
<span class="ltx_bibblock">
<span id="bib.bib33.1.1" class="ltx_text ltx_font_smallcaps">Mo, F., Haddadi, H., Katevas, K., Marin, E., Perino, D., and Kourtellis,
N.</span>

</span>
<span class="ltx_bibblock">Ppfl: Privacy-preserving federated learning with trusted execution
environments.

</span>
<span class="ltx_bibblock">In <span id="bib.bib33.2.1" class="ltx_text ltx_font_italic">Proceedings of the 19th Annual International Conference on
Mobile Systems, Applications, and Services</span> (New York, NY, USA, 2021),
MobiSys ’21, Association for Computing Machinery, p. 94–108.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(34)</span>
<span class="ltx_bibblock">
<span id="bib.bib34.1.1" class="ltx_text ltx_font_smallcaps">Monsoon Solutions Inc.</span>

</span>
<span class="ltx_bibblock">Monsoon Solutions Inc.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.msoon.com" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.msoon.com</a>, 2022 (accessed November 29, 2022).

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(35)</span>
<span class="ltx_bibblock">
<span id="bib.bib35.1.1" class="ltx_text ltx_font_smallcaps">Nasr, M., Shokri, R., and Houmansadr, A.</span>

</span>
<span class="ltx_bibblock">Comprehensive privacy analysis of deep learning: Passive and active
white-box inference attacks against centralized and federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib35.2.1" class="ltx_text ltx_font_italic">2019 IEEE Symposium on Security and Privacy (SP)</span> (2019),
IEEE, pp. 739–753.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(36)</span>
<span class="ltx_bibblock">
<span id="bib.bib36.1.1" class="ltx_text ltx_font_smallcaps">OpenMined</span>.

</span>
<span class="ltx_bibblock">Openmined.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.openmined.org" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.openmined.org</a>, 2020.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(37)</span>
<span class="ltx_bibblock">
<span id="bib.bib37.1.1" class="ltx_text ltx_font_smallcaps">Paulik, M., Seigel, M., Mason, H., Telaar, D., Kluivers, J., van Dalen,
R., Lau, C. W., Carlson, L., Granqvist, F., Vandevelde, C., Agarwal, S.,
Freudiger, J., Byde, A., Bhowmick, A., Kapoor, G., Beaumont, S., Áine
Cahill, Hughes, D., Javidbakht, O., Dong, F., Rishi, R., and Hung, S.</span>

</span>
<span class="ltx_bibblock">Federated evaluation and tuning for on-device personalization: System
design &amp; applications, 2021.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(38)</span>
<span class="ltx_bibblock">
<span id="bib.bib38.1.1" class="ltx_text ltx_font_smallcaps">Rivers, C. M., and Lewis, B. L.</span>

</span>
<span class="ltx_bibblock">Ethical research standards in a world of big.

</span>
<span class="ltx_bibblock"><span id="bib.bib38.2.1" class="ltx_text ltx_font_italic">F1000Research 3</span> (2014).

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(39)</span>
<span class="ltx_bibblock">
<span id="bib.bib39.1.1" class="ltx_text ltx_font_smallcaps">Sablayrolles, A., Douze, M., Schmid, C., Ollivier, Y., and Jégou, H.</span>

</span>
<span class="ltx_bibblock">White-box vs black-box: Bayes optimal strategies for membership
inference.

</span>
<span class="ltx_bibblock">In <span id="bib.bib39.2.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span> (2019),
pp. 5558–5567.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(40)</span>
<span class="ltx_bibblock">
<span id="bib.bib40.1.1" class="ltx_text ltx_font_smallcaps">Sandler, M., Howard, A., Zhu, M., Zhmoginov, A., and Chen, L.-C.</span>

</span>
<span class="ltx_bibblock">Mobilenetv2: Inverted residuals and linear bottlenecks, 2018.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(41)</span>
<span class="ltx_bibblock">
<span id="bib.bib41.1.1" class="ltx_text ltx_font_smallcaps">Shokri, R., Stronati, M., Song, C., and Shmatikov, V.</span>

</span>
<span class="ltx_bibblock">Membership inference attacks against machine learning models.

</span>
<span class="ltx_bibblock">In <span id="bib.bib41.2.1" class="ltx_text ltx_font_italic">2017 IEEE Symposium on Security and Privacy (SP)</span> (2017),
IEEE, pp. 3–18.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(42)</span>
<span class="ltx_bibblock">
<span id="bib.bib42.1.1" class="ltx_text ltx_font_smallcaps">TensorFlow</span>.

</span>
<span class="ltx_bibblock">Tensorflow federated: Machine learning on decentralized data.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/federated" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/federated</a>, 2020.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(43)</span>
<span class="ltx_bibblock">
<span id="bib.bib43.1.1" class="ltx_text ltx_font_smallcaps">TensorFlow, G.</span>

</span>
<span class="ltx_bibblock">Tensorflow lite roadmap.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/lite/guide/roadmap" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/lite/guide/roadmap</a>, 2021.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(44)</span>
<span class="ltx_bibblock">
<span id="bib.bib44.1.1" class="ltx_text ltx_font_smallcaps">TensorFlow, G.</span>

</span>
<span class="ltx_bibblock">Deploy machine learning models on mobile and iot devices.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/lite" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/lite</a>, 2022.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(45)</span>
<span class="ltx_bibblock">
<span id="bib.bib45.1.1" class="ltx_text ltx_font_smallcaps">Varvello, M., Katevas, K., Plesa, M., Haddadi, H., and Livshits, B.</span>

</span>
<span class="ltx_bibblock">Batterylab, a distributed power monitoring platform for mobile
devices.

</span>
<span class="ltx_bibblock">In <span id="bib.bib45.2.1" class="ltx_text ltx_font_italic">Proceedings of the 18th ACM Workshop on Hot Topics in
Networks</span> (2019), pp. 101–108.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(46)</span>
<span class="ltx_bibblock">
<span id="bib.bib46.1.1" class="ltx_text ltx_font_smallcaps">Yassein, M. B., Aljawarneh, S., Qawasmeh, E., Mardini, W., and Khamayseh,
Y.</span>

</span>
<span class="ltx_bibblock">Comprehensive study of symmetric key and asymmetric key encryption
algorithms.

</span>
<span class="ltx_bibblock">In <span id="bib.bib46.2.1" class="ltx_text ltx_font_italic">IEEE International Conference on Engineering and Technology
(ICET)</span> (2017).

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2206.10962" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2206.10963" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2206.10963">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2206.10963" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2206.10964" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Mar 11 16:34:25 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
