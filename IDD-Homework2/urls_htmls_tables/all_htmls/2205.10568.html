<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2205.10568] BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework</title><meta property="og:description" content="Federated learning (FL) enables collaborative training of machine learning models without sharing training data.
Traditional FL heavily relies on a trusted centralized server.
Although decentralized FL eliminates the c…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2205.10568">

<!--Generated on Mon Mar 11 14:52:22 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Decentralized Federated Learning,  Peer-to-Peer,  Blockchain,  Trustworthy Federated Learning.">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhen Qin
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id1.1.id1" class="ltx_text ltx_affiliation_institution">Zhejiang University</span><span id="id2.2.id2" class="ltx_text ltx_affiliation_city">Hangzhou</span><span id="id3.3.id3" class="ltx_text ltx_affiliation_country">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:zhenqin@zju.edu.cn">zhenqin@zju.edu.cn</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xueqiang Yan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id4.1.id1" class="ltx_text ltx_affiliation_institution">Huawei Technologies Co. Ltd.</span><span id="id5.2.id2" class="ltx_text ltx_affiliation_city">Shanghai</span><span id="id6.3.id3" class="ltx_text ltx_affiliation_country">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:yanxueqiang1@huawei.com">yanxueqiang1@huawei.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Mengchu Zhou
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id7.1.id1" class="ltx_text ltx_affiliation_institution">Zhejiang Gongshang University</span><span id="id8.2.id2" class="ltx_text ltx_affiliation_city">Hangzhou</span><span id="id9.3.id3" class="ltx_text ltx_affiliation_country">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:mengchu@gmail.com">mengchu@gmail.com</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shuiguang Deng
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id10.1.id1" class="ltx_text ltx_affiliation_institution">Zhejiang University</span><span id="id11.2.id2" class="ltx_text ltx_affiliation_city">Hangzhou</span><span id="id12.3.id3" class="ltx_text ltx_affiliation_country">China</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:dengsg@zju.edu.cn">dengsg@zju.edu.cn</a>
</span></span></span>
</div>
<div class="ltx_dates">(2018)</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p id="id13.id1" class="ltx_p">Federated learning (FL) enables collaborative training of machine learning models without sharing training data.
Traditional FL heavily relies on a trusted centralized server.
Although decentralized FL eliminates the central dependence, it may worsen the other inherit problems faced by FL such as poisoning attacks and data representation leakage due to insufficient restrictions on the behavior of participants, and heavy communication cost, especially in fully decentralized scenarios, i.e., peer-to-peer (P2P) settings.
In this paper, we propose a blockchain-based fully decentralized P2P framework for FL, called BlockDFL.
It takes blockchain as the foundation, leveraging the proposed PBFT-based voting mechanism and two-layer scoring mechanism to coordinate FL among peer participants without mutual trust, while effectively defending against poisoning attacks.
Gradient compression is introduced to lowering communication cost and prevent data from being reconstructed from transmitted model updates.
Extensive experiments conducted on two real-world datasets exhibit that BlockDFL obtains competitive accuracy compared to centralized FL and can defend poisoning attacks while achieving efficiency and scalability.
Especially when the proportion of malicious participants is as high as 40%, BlockDFL can still preserve the accuracy of FL, outperforming existing fully decentralized P2P FL frameworks based on blockchain.</p>
</div>
<div class="ltx_keywords">Decentralized Federated Learning, Peer-to-Peer, Blockchain, Trustworthy Federated Learning.
</div>
<span id="id1" class="ltx_note ltx_note_frontmatter ltx_role_copyright"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmcopyright</span></span></span><span id="id2" class="ltx_note ltx_note_frontmatter ltx_role_journalyear"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2018</span></span></span><span id="id3" class="ltx_note ltx_note_frontmatter ltx_role_doi"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>XXXXXXX.XXXXXXX</span></span></span><span id="id4" class="ltx_note ltx_note_frontmatter ltx_role_conference"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Make sure to enter the correct
conference title from your rights confirmation emai; June 03–05,
2018; Woodstock, NY</span></span></span><span id="id5" class="ltx_note ltx_note_frontmatter ltx_role_price"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">price: </span>15.00</span></span></span><span id="id6" class="ltx_note ltx_note_frontmatter ltx_role_isbn"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>978-1-4503-XXXX-X/18/06</span></span></span><span id="id7" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Distributed artificial intelligence</span></span></span><span id="id8" class="ltx_note ltx_note_frontmatter ltx_role_ccs"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Computing methodologies Learning paradigms</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2017</a>)</cite> enables multiple mobile and Web-of-Things devices to jointly train a machine learning model while keeping the data on their own devices <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib32" title="" class="ltx_ref">2023</a>)</cite>.
It can contribute to a series of web applications such as web tracking based on FL <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a href="#bib.bib37" title="" class="ltx_ref">2022</a>)</cite>.
However, traditional FL heavily relies on a trusted centralized server, where the bandwidth limitations caused by long-distance transmission restricts the application of FL in large-scale and highly complex problems.
The central dependence can be solved by decentralized FL <cite class="ltx_cite ltx_citemacro_citep">(Jeon
et al<span class="ltx_text">.</span>, <a href="#bib.bib16" title="" class="ltx_ref">2021</a>; Zhao
et al<span class="ltx_text">.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2022</a>; Hu
et al<span class="ltx_text">.</span>, <a href="#bib.bib15" title="" class="ltx_ref">2020</a>; Cui et al<span class="ltx_text">.</span>, <a href="#bib.bib7" title="" class="ltx_ref">2022a</a>)</cite>.
However, the primary challenge faced by decentralized FL is the trust between participants, especially in collaboration across business organizations.
In a scenario without mutual trust, a global model may not be trustworthy, and the contribution of different participants is hard to authoritatively quantified.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Blockchain, a distributed ledger originated from decentralized currency systems, offers distributed trust that enables cooperation among participants without mutual trust by forcing the participants to behave honestly <cite class="ltx_cite ltx_citemacro_citep">(Kim
et al<span class="ltx_text">.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2020</a>; Weng
et al<span class="ltx_text">.</span>, <a href="#bib.bib35" title="" class="ltx_ref">2021</a>; Zhao
et al<span class="ltx_text">.</span>, <a href="#bib.bib45" title="" class="ltx_ref">2022</a>)</cite>.
It can also record stake for monetary reward to motivate honest behaviors <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2023</a>)</cite>, since decentralized systems relieve the burden of maintaining centralized servers for the operators.
These characteristics make blockchain an promising basis for designing a decentralized trustworthy FL framework.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Unfortunately, decentralization also exacerbates the inherent issues of FL such as
1) vulnerability to poisoning attacks;
2) relatively insufficient privacy protection because the private training data can be reconstructed from intermediate model updates by <em id="S1.p3.1.1" class="ltx_emph ltx_font_italic">model inversion attack</em> <cite class="ltx_cite ltx_citemacro_citep">(Fredrikson
et al<span class="ltx_text">.</span>, <a href="#bib.bib13" title="" class="ltx_ref">2015</a>; Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>; Sun
et al<span class="ltx_text">.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2021</a>)</cite>; and
3) inefficiency caused by heavy communication cost for transmitting model updates.
Existing blockchain-based FL frameworks usually integrate additional protection mechanisms to partially solve the privacy and security issues <cite class="ltx_cite ltx_citemacro_citep">(Ali
et al<span class="ltx_text">.</span>, <a href="#bib.bib2" title="" class="ltx_ref">2021</a>)</cite>.
For example, protecting the privacy by differential privacy (DP) <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al<span class="ltx_text">.</span>, <a href="#bib.bib46" title="" class="ltx_ref">2021a</a>; Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>; Li
et al<span class="ltx_text">.</span>, <a href="#bib.bib20" title="" class="ltx_ref">2023</a>; Zhao et al<span class="ltx_text">.</span>, <a href="#bib.bib47" title="" class="ltx_ref">2021b</a>)</cite>, homomorphic encryption <cite class="ltx_cite ltx_citemacro_citep">(Awan
et al<span class="ltx_text">.</span>, <a href="#bib.bib3" title="" class="ltx_ref">2019</a>; Weng
et al<span class="ltx_text">.</span>, <a href="#bib.bib35" title="" class="ltx_ref">2021</a>)</cite> and secure aggregation <cite class="ltx_cite ltx_citemacro_citep">(Liu
et al<span class="ltx_text">.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2020</a>; Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>, and ensuring the security by Krum <cite class="ltx_cite ltx_citemacro_citep">(Blanchard et al<span class="ltx_text">.</span>, <a href="#bib.bib4" title="" class="ltx_ref">2017</a>)</cite>, threshold-based testing <cite class="ltx_cite ltx_citemacro_citep">(Zhang
et al<span class="ltx_text">.</span>, <a href="#bib.bib40" title="" class="ltx_ref">2021a</a>)</cite> and auditing <cite class="ltx_cite ltx_citemacro_citep">(Awan
et al<span class="ltx_text">.</span>, <a href="#bib.bib3" title="" class="ltx_ref">2019</a>)</cite>.
However, existing frameworks still have some limitations on technical selections.
For privacy, although DP provides provable protection <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib34" title="" class="ltx_ref">2021</a>)</cite>, it lowers model accuracy.
Homomorphic encryption and secure aggregation bring tremendous computation and communication cost, lowering the efficiency.
For security, existing approaches mainly apply Krum on local updates <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib33" title="" class="ltx_ref">2020</a>; Zhao et al<span class="ltx_text">.</span>, <a href="#bib.bib46" title="" class="ltx_ref">2021a</a>; Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>, ignoring that global updates may also be poisoned.
Besides, Krum performs not well when facing not identically and independently distributed (non-IID) data.
Threshold-based testing relies on manual thresholds that are not easily to be determined.
Auditing provides only traceability but no defenses.
Moreover, existing solutions often neglect efficiency optimization.
Some of them rely on mining for consensus that further deteriorates the efficiency <cite class="ltx_cite ltx_citemacro_citep">(Chen
et al<span class="ltx_text">.</span>, <a href="#bib.bib6" title="" class="ltx_ref">2018</a>; Kim
et al<span class="ltx_text">.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2020</a>; Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib33" title="" class="ltx_ref">2020</a>)</cite> due to a large number of hash calculations.
Additionally, some of existing frameworks are not fully decentralized <cite class="ltx_cite ltx_citemacro_citep">(Hu
et al<span class="ltx_text">.</span>, <a href="#bib.bib15" title="" class="ltx_ref">2020</a>; Zhao et al<span class="ltx_text">.</span>, <a href="#bib.bib46" title="" class="ltx_ref">2021a</a>; Yapp et al<span class="ltx_text">.</span>, <a href="#bib.bib38" title="" class="ltx_ref">2021</a>; Li
et al<span class="ltx_text">.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2021</a>; Kasyap
et al<span class="ltx_text">.</span>, <a href="#bib.bib17" title="" class="ltx_ref">2023</a>; Sun
et al<span class="ltx_text">.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2022</a>; Cui et al<span class="ltx_text">.</span>, <a href="#bib.bib7" title="" class="ltx_ref">2022a</a>)</cite>, i.e., relying on a global trust authority or trusted servers <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>.
Thus, there needs <em id="S1.p3.1.2" class="ltx_emph ltx_font_italic">a fully decentralized peer-to-peer (P2P) solution with high efficiency that protects FL systems from being poisoned and the training data from being reconstructed</em>.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">To address these issues, we propose BlockDFL, a <span id="S1.p4.1.1" class="ltx_text ltx_font_bold">fully decentralized P2P FL framework</span> based on blockchain that protects the privacy in terms of data representation and security in terms of poisoning attacks while achieving high efficiency.
To effectively filter out poisoned updates even in non-IID setting, we propose a two-layer scoring mechanism, where local updates are filtered according to the stake and scored by median-based testing, and global updates are scored by Krum.
To uniquely select a global update in each round without forking, we design an efficient voting mechanism based on the Practical Byzantine Fault Tolerance (PBFT) <cite class="ltx_cite ltx_citemacro_citep">(Castro and Liskov, <a href="#bib.bib5" title="" class="ltx_ref">1999</a>)</cite> algorithm.
The two mechanisms work jointly to defend poisoning attacks.
Gradient compression is introduced to protect the training data from being reconstructed and further reduce communication cost.
The main contributions of this paper are threefold:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We propose BlockDFL, an efficient decentralized P2P FL framework with blockchain as the foundation, which provides security and privacy protections for FL while achieving high efficiency.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">To reach the consensus on one suitable global update in each round of FL, we propose a PBFT-based voting mechanism, which never forks.
It works together with the proposed two-layer scoring mechanism to fulfill poisoning-resistance.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We implement a prototype of BlockDFL and conduct extensive experiments on two real-world datasets, showing that BlockDFL achieves good efficiency and scalability and can resist poisoning attacks when there are up to 40% malicious participants for both IID and non-IID data.
We also experimentally demonstrate that there exists appropriate sparsity that protects data representation privacy without harming the accuracy and security of BlockDFL.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Preliminaries</h2>

<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Poisoning Attack</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">FL suffers the risk of poisoning attacks.
Malicious participants can upload poisoned models to negatively impact the convergence of FL <cite class="ltx_cite ltx_citemacro_citep">(Liu
et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2021</a>)</cite>, such as wrongly labeling the training data within one certain class and training the local model on the tampered datasets, causing the global model unable to distinguish the data of this class.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">There are many defenses suitable for a centralized system <cite class="ltx_cite ltx_citemacro_citep">(Blanchard et al<span class="ltx_text">.</span>, <a href="#bib.bib4" title="" class="ltx_ref">2017</a>; Yin
et al<span class="ltx_text">.</span>, <a href="#bib.bib39" title="" class="ltx_ref">2018</a>; Liu
et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2021</a>)</cite>.
For example, Krum <cite class="ltx_cite ltx_citemacro_citep">(Blanchard et al<span class="ltx_text">.</span>, <a href="#bib.bib4" title="" class="ltx_ref">2017</a>)</cite> regards the model updates significantly differ from others as poisoned ones.
However, in a P2P system where there is no mutual trust among participants, it is hard to decide which participant should be responsible for detecting poisoned model updates, and participant may distrust the judgments from the others.
BlockDFL solves these problems by a two-layer scoring mechanism, i.e., in each round, the local updates are scored through local inference by several other participants (aggregators in Section <a href="#S3" title="3. BlockDFL Overview ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>) to form up several global updates, then these global updates are scored through Krum by another group of participants (verifiers in Section <a href="#S3" title="3. BlockDFL Overview ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>) to finally select one global update.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Data Representation Leakage</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Existing studies show that the model updates shared by participants in FL still contain some information of training data useful for data reconstruction through model inversion attack <cite class="ltx_cite ltx_citemacro_citep">(Fredrikson
et al<span class="ltx_text">.</span>, <a href="#bib.bib13" title="" class="ltx_ref">2015</a>; Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>; Sun
et al<span class="ltx_text">.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2021</a>; Zhao
et al<span class="ltx_text">.</span>, <a href="#bib.bib44" title="" class="ltx_ref">2020</a>)</cite>.
If the model updates are leaked, attackers can reconstruct the private training datasets <cite class="ltx_cite ltx_citemacro_citep">(Weng
et al<span class="ltx_text">.</span>, <a href="#bib.bib35" title="" class="ltx_ref">2021</a>; Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>.
Thus, FL needs further privacy protection since there is no protection for model updates in vanilla FL <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2017</a>)</cite>, especially in decentralized systems since the model updates are transmitted among ordinary participants which may be malicious.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">Such kind of risk can be defended by gradient compression that only transmits elements with large absolute values in model updates <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>)</cite>.
Attackers cannot reconstruct data from sufficiently sparse updates <cite class="ltx_cite ltx_citemacro_citep">(Shokri and
Shmatikov, <a href="#bib.bib28" title="" class="ltx_ref">2015</a>; Sun
et al<span class="ltx_text">.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2021</a>)</cite>.
Intuitively, excessive compression may bring negative impact on Krum since it filters out model updates heavily differ from the direction of the majority of updates.
But we experimentally find that many of the indexes of the transmitted elements with the largest absolute value in different updates may still overlap, enabling to spatially distinguish the normal and malicious model updates with sparsification introduced.
Besides, it may even improve the accuracy of Krum since it helps to focus only on important parameters, which may reduce the negative impact of unimportant parameters on the element-wise distance calculation.
More details about this are available in Appendix <a href="#A1.SS1" title="A.1. Distance between Sparsed Model Updates ‣ Appendix A Supplementary Experiments ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">BlockDFL drops over 90% and 85% elements with lower absolute value in model updates before transmission respectively on two datasets so that model inversion attacks represented by the Deep Leakage from Gradients (DLG) attack <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>)</cite> cannot obtain any useful information as experimentally demonstrated in Appendix <a href="#A1.SS2" title="A.2. Gradient Compression versus Data Reconstruction ‣ Appendix A Supplementary Experiments ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.2</span></a>.</p>
</div>
<figure id="S2.F1" class="ltx_figure"><img src="/html/2205.10568/assets/x1.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="396" height="137" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>The detailed processes of BlockDFL in one round of communication, from ➀ to ➃.</figcaption>
</figure>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>BlockDFL Overview</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">BlockDFL is designed for decentralized P2P FL with the following goals:
1) to prevent the global model from being jeopardized by poisoning attacks,
2) to prevent the private training data from being revealed, and
3) to conduct FL efficiently.
As shown in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, there are four processes in it during each communication round:
1) <em id="S3.p1.1.1" class="ltx_emph ltx_font_italic">Role Selection</em>,
2) <em id="S3.p1.1.2" class="ltx_emph ltx_font_italic">Local Training</em>,
3) <em id="S3.p1.1.3" class="ltx_emph ltx_font_italic">Aggregation</em>
and 4) <em id="S3.p1.1.4" class="ltx_emph ltx_font_italic">Verification and Consensus</em>, some of which contain more than one steps.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">It is assumed that participants can obtain the public key for verifying digital signatures of the others and send information through broadcasting.
The stake recorded on the blockchain can be tied to monetary reward from mobile operators or AI service providers, since a decentralized FL system relieves them of the heavy burden of setting up and maintaining a centralized server.
Thus, as in <cite class="ltx_cite ltx_citemacro_citep">(Gilad et al<span class="ltx_text">.</span>, <a href="#bib.bib14" title="" class="ltx_ref">2017</a>; Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>, it is reasonable to assume that participants holding large amounts of the stake tend to perform obligations honestly, because they can benefit more from the monetary reward.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">Participants are granted with three different roles, i.e., <em id="S3.p3.1.1" class="ltx_emph ltx_font_italic">Update Provider</em>, <em id="S3.p3.1.2" class="ltx_emph ltx_font_italic">Aggregator</em> and <em id="S3.p3.1.3" class="ltx_emph ltx_font_italic">Verifier</em>.
The update provider is for training a model based on its private training data and sharing its local update to aggregators.
It works independently.
The aggregator is responsible for collecting local updates and selecting a certain number of them for aggregating global update.
It works independently, too.
The verifiers preside over electing a suitable global update together and packaging it with the digital signatures created by the verifiers’ private keys and the identity of its aggregator and update providers into a block newly added to the blockchain.
They score global update independently, and select one global update collaboratively.
The independent and cooperative steps are marked with different colors in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.
In BlockDFL, adding a block means that all participants have conducted a round of communications (equivalent to executing the FedAVG algorithm <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2017</a>)</cite> once in FL).
If the block is not empty, all participants will update their model according to the global update contained in the newly added block.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.1" class="ltx_p">At the start of each communication round, each participant is randomly assigned with a role based on the hash of the last block as in <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite> (process ➀).
Then, update providers train local models with a stochastic gradient descent (SGD) algorithm on their own training set and sparse the local updates by gradient compression before broadcasting them to aggregators (process ➁).
Each aggregator continues to receive local updates until a certain number of local updates are obtained, and then starts the aggregation independently (process ➂).
An aggregator first samples a certain number of local updates from the received ones according to the stake of the corresponding providers.
Then, it scores the sampled local updates and selects some of them to aggregate a global update which is then broadcasted to verifiers.
When verifiers receive enough global updates (e.g., the global updates from the super majority of aggregators), the verification starts (process ➃).
Each verifier independently scores the global updates and votes for them based on the scores, so as to select one approved global update.
Finally, the approved global update with its relative information is wrapped in a new block that is then broadcasted to all participants.</p>
</div>
<div id="S3.p5" class="ltx_para">
<p id="S3.p5.1" class="ltx_p">Each non-empty block contains five components: 1) the hash of the previous block; 2) the approved global update and the identities of the corresponding aggregator and update providers; 3) the signed votes from verifiers; 4) the stake increment of relevant participants; and 5) the identity of the creator with its digital signature of this block.
BlockDFL introduces blockchain to: 1) consistently and randomly assign roles through the hash of the last block <cite class="ltx_cite ltx_citemacro_citep">(Zhang
et al<span class="ltx_text">.</span>, <a href="#bib.bib42" title="" class="ltx_ref">2022</a>)</cite>; 2) synchronize global updates through newly-added blocks; and 3) distinguish contributions through the stake <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Zhou, <a href="#bib.bib43" title="" class="ltx_ref">2020</a>)</cite>.
Participants with honest behaviors will continue to accumulate stake, making malicious participants less and less influential to the entire FL system.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Detailed Processes of BlockDFL</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Role Selection</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.10" class="ltx_p">At the start of role selection in BlockDFL, the hash value of last block <math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="h_{-1}" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><msub id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml">h</mi><mrow id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml"><mo id="S4.SS1.p1.1.m1.1.1.3a" xref="S4.SS1.p1.1.m1.1.1.3.cmml">−</mo><mn id="S4.SS1.p1.1.m1.1.1.3.2" xref="S4.SS1.p1.1.m1.1.1.3.2.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2">ℎ</ci><apply id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3"><minus id="S4.SS1.p1.1.m1.1.1.3.1.cmml" xref="S4.SS1.p1.1.m1.1.1.3"></minus><cn type="integer" id="S4.SS1.p1.1.m1.1.1.3.2.cmml" xref="S4.SS1.p1.1.m1.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">h_{-1}</annotation></semantics></math> is mapped to a hash ring where each participant is assigned a space proportional to its stake as in <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>.
The participant whose portion corresponds to <math id="S4.SS1.p1.2.m2.1" class="ltx_Math" alttext="h_{-1}" display="inline"><semantics id="S4.SS1.p1.2.m2.1a"><msub id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml"><mi id="S4.SS1.p1.2.m2.1.1.2" xref="S4.SS1.p1.2.m2.1.1.2.cmml">h</mi><mrow id="S4.SS1.p1.2.m2.1.1.3" xref="S4.SS1.p1.2.m2.1.1.3.cmml"><mo id="S4.SS1.p1.2.m2.1.1.3a" xref="S4.SS1.p1.2.m2.1.1.3.cmml">−</mo><mn id="S4.SS1.p1.2.m2.1.1.3.2" xref="S4.SS1.p1.2.m2.1.1.3.2.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><apply id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.p1.2.m2.1.1.2">ℎ</ci><apply id="S4.SS1.p1.2.m2.1.1.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3"><minus id="S4.SS1.p1.2.m2.1.1.3.1.cmml" xref="S4.SS1.p1.2.m2.1.1.3"></minus><cn type="integer" id="S4.SS1.p1.2.m2.1.1.3.2.cmml" xref="S4.SS1.p1.2.m2.1.1.3.2">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">h_{-1}</annotation></semantics></math> is selected as the first aggregator.
Then, the hash value is repeatedly re-hashed to select other aggregators.
When a certain number of aggregators are selected, it turns to select verifiers in the same way.
When all aggregators and verifiers are selected, the rest participants become update providers.
It ensures that participants with more stakes are more likely to be selected as important roles, i.e., aggregators and verifiers.
The set of verifiers, aggregators and update providers are represented by <math id="S4.SS1.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{V}" display="inline"><semantics id="S4.SS1.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.3.m3.1.1" xref="S4.SS1.p1.3.m3.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.1b"><ci id="S4.SS1.p1.3.m3.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.1c">\mathcal{V}</annotation></semantics></math>, <math id="S4.SS1.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{A}" display="inline"><semantics id="S4.SS1.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.1b"><ci id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.1c">\mathcal{A}</annotation></semantics></math> and <math id="S4.SS1.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{U}" display="inline"><semantics id="S4.SS1.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.5.m5.1.1" xref="S4.SS1.p1.5.m5.1.1.cmml">𝒰</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.5.m5.1b"><ci id="S4.SS1.p1.5.m5.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1">𝒰</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.5.m5.1c">\mathcal{U}</annotation></semantics></math>, respectively.
The number of verifiers <math id="S4.SS1.p1.6.m6.1" class="ltx_Math" alttext="|\mathcal{V}|" display="inline"><semantics id="S4.SS1.p1.6.m6.1a"><mrow id="S4.SS1.p1.6.m6.1.2.2" xref="S4.SS1.p1.6.m6.1.2.1.cmml"><mo stretchy="false" id="S4.SS1.p1.6.m6.1.2.2.1" xref="S4.SS1.p1.6.m6.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.6.m6.1.1" xref="S4.SS1.p1.6.m6.1.1.cmml">𝒱</mi><mo stretchy="false" id="S4.SS1.p1.6.m6.1.2.2.2" xref="S4.SS1.p1.6.m6.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.6.m6.1b"><apply id="S4.SS1.p1.6.m6.1.2.1.cmml" xref="S4.SS1.p1.6.m6.1.2.2"><abs id="S4.SS1.p1.6.m6.1.2.1.1.cmml" xref="S4.SS1.p1.6.m6.1.2.2.1"></abs><ci id="S4.SS1.p1.6.m6.1.1.cmml" xref="S4.SS1.p1.6.m6.1.1">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.6.m6.1c">|\mathcal{V}|</annotation></semantics></math> and the number of aggregators <math id="S4.SS1.p1.7.m7.1" class="ltx_Math" alttext="|\mathcal{A}|" display="inline"><semantics id="S4.SS1.p1.7.m7.1a"><mrow id="S4.SS1.p1.7.m7.1.2.2" xref="S4.SS1.p1.7.m7.1.2.1.cmml"><mo stretchy="false" id="S4.SS1.p1.7.m7.1.2.2.1" xref="S4.SS1.p1.7.m7.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.7.m7.1.1" xref="S4.SS1.p1.7.m7.1.1.cmml">𝒜</mi><mo stretchy="false" id="S4.SS1.p1.7.m7.1.2.2.2" xref="S4.SS1.p1.7.m7.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.7.m7.1b"><apply id="S4.SS1.p1.7.m7.1.2.1.cmml" xref="S4.SS1.p1.7.m7.1.2.2"><abs id="S4.SS1.p1.7.m7.1.2.1.1.cmml" xref="S4.SS1.p1.7.m7.1.2.2.1"></abs><ci id="S4.SS1.p1.7.m7.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.7.m7.1c">|\mathcal{A}|</annotation></semantics></math> are both hyper-parameters set before BlockDFL starts.
As illustrated in Section <a href="#S5.SS3" title="5.3. Time Consumption and Scalability ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.3</span></a>, the efficiency of BlockDFL is mainly related to the number of aggregators and verifiers.
Thus, <math id="S4.SS1.p1.8.m8.1" class="ltx_Math" alttext="|\mathcal{V}|" display="inline"><semantics id="S4.SS1.p1.8.m8.1a"><mrow id="S4.SS1.p1.8.m8.1.2.2" xref="S4.SS1.p1.8.m8.1.2.1.cmml"><mo stretchy="false" id="S4.SS1.p1.8.m8.1.2.2.1" xref="S4.SS1.p1.8.m8.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.8.m8.1.1" xref="S4.SS1.p1.8.m8.1.1.cmml">𝒱</mi><mo stretchy="false" id="S4.SS1.p1.8.m8.1.2.2.2" xref="S4.SS1.p1.8.m8.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.8.m8.1b"><apply id="S4.SS1.p1.8.m8.1.2.1.cmml" xref="S4.SS1.p1.8.m8.1.2.2"><abs id="S4.SS1.p1.8.m8.1.2.1.1.cmml" xref="S4.SS1.p1.8.m8.1.2.2.1"></abs><ci id="S4.SS1.p1.8.m8.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.8.m8.1c">|\mathcal{V}|</annotation></semantics></math> and <math id="S4.SS1.p1.9.m9.1" class="ltx_Math" alttext="|\mathcal{A}|" display="inline"><semantics id="S4.SS1.p1.9.m9.1a"><mrow id="S4.SS1.p1.9.m9.1.2.2" xref="S4.SS1.p1.9.m9.1.2.1.cmml"><mo stretchy="false" id="S4.SS1.p1.9.m9.1.2.2.1" xref="S4.SS1.p1.9.m9.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.9.m9.1.1" xref="S4.SS1.p1.9.m9.1.1.cmml">𝒜</mi><mo stretchy="false" id="S4.SS1.p1.9.m9.1.2.2.2" xref="S4.SS1.p1.9.m9.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.9.m9.1b"><apply id="S4.SS1.p1.9.m9.1.2.1.cmml" xref="S4.SS1.p1.9.m9.1.2.2"><abs id="S4.SS1.p1.9.m9.1.2.1.1.cmml" xref="S4.SS1.p1.9.m9.1.2.2.1"></abs><ci id="S4.SS1.p1.9.m9.1.1.cmml" xref="S4.SS1.p1.9.m9.1.1">𝒜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.9.m9.1c">|\mathcal{A}|</annotation></semantics></math> are recommended to be much smaller than <math id="S4.SS1.p1.10.m10.1" class="ltx_Math" alttext="|\mathcal{U}|" display="inline"><semantics id="S4.SS1.p1.10.m10.1a"><mrow id="S4.SS1.p1.10.m10.1.2.2" xref="S4.SS1.p1.10.m10.1.2.1.cmml"><mo stretchy="false" id="S4.SS1.p1.10.m10.1.2.2.1" xref="S4.SS1.p1.10.m10.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.10.m10.1.1" xref="S4.SS1.p1.10.m10.1.1.cmml">𝒰</mi><mo stretchy="false" id="S4.SS1.p1.10.m10.1.2.2.2" xref="S4.SS1.p1.10.m10.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.10.m10.1b"><apply id="S4.SS1.p1.10.m10.1.2.1.cmml" xref="S4.SS1.p1.10.m10.1.2.2"><abs id="S4.SS1.p1.10.m10.1.2.1.1.cmml" xref="S4.SS1.p1.10.m10.1.2.2.1"></abs><ci id="S4.SS1.p1.10.m10.1.1.cmml" xref="S4.SS1.p1.10.m10.1.1">𝒰</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.10.m10.1c">|\mathcal{U}|</annotation></semantics></math>.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">In BlockDFL, roles are reassigned at the start of each round to give each participant the opportunity to contribute its local update to an FL system and defend bribery attack.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Local Training</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.3" class="ltx_p">In round <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">t</annotation></semantics></math>, update provider <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="u_{i}" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><msub id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">u</mi><mi id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">𝑢</ci><ci id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">u_{i}</annotation></semantics></math> performs local training based on the model parameters of the previous round <math id="S4.SS2.p1.3.m3.1" class="ltx_Math" alttext="\mathbf{w}_{i}(t-1)" display="inline"><semantics id="S4.SS2.p1.3.m3.1a"><mrow id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml"><msub id="S4.SS2.p1.3.m3.1.1.3" xref="S4.SS2.p1.3.m3.1.1.3.cmml"><mi id="S4.SS2.p1.3.m3.1.1.3.2" xref="S4.SS2.p1.3.m3.1.1.3.2.cmml">𝐰</mi><mi id="S4.SS2.p1.3.m3.1.1.3.3" xref="S4.SS2.p1.3.m3.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2.cmml">​</mo><mrow id="S4.SS2.p1.3.m3.1.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p1.3.m3.1.1.1.1.2" xref="S4.SS2.p1.3.m3.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p1.3.m3.1.1.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.1.1.cmml"><mi id="S4.SS2.p1.3.m3.1.1.1.1.1.2" xref="S4.SS2.p1.3.m3.1.1.1.1.1.2.cmml">t</mi><mo id="S4.SS2.p1.3.m3.1.1.1.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.1.1.1.cmml">−</mo><mn id="S4.SS2.p1.3.m3.1.1.1.1.1.3" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S4.SS2.p1.3.m3.1.1.1.1.3" xref="S4.SS2.p1.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1"><times id="S4.SS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.2"></times><apply id="S4.SS2.p1.3.m3.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.1.1.3.1.cmml" xref="S4.SS2.p1.3.m3.1.1.3">subscript</csymbol><ci id="S4.SS2.p1.3.m3.1.1.3.2.cmml" xref="S4.SS2.p1.3.m3.1.1.3.2">𝐰</ci><ci id="S4.SS2.p1.3.m3.1.1.3.3.cmml" xref="S4.SS2.p1.3.m3.1.1.3.3">𝑖</ci></apply><apply id="S4.SS2.p1.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1"><minus id="S4.SS2.p1.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.1"></minus><ci id="S4.SS2.p1.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="S4.SS2.p1.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">\mathbf{w}_{i}(t-1)</annotation></semantics></math> on its private training data with the SGD algorithm as:</p>
<table id="S4.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E1.m1.2" class="ltx_Math" alttext="\mathbf{w}-\eta\frac{1}{b}\nabla\mathcal{L}(\mathbf{x},\mathbf{w})\rightarrow\mathbf{w}" display="block"><semantics id="S4.E1.m1.2a"><mrow id="S4.E1.m1.2.3" xref="S4.E1.m1.2.3.cmml"><mrow id="S4.E1.m1.2.3.2" xref="S4.E1.m1.2.3.2.cmml"><mi id="S4.E1.m1.2.3.2.2" xref="S4.E1.m1.2.3.2.2.cmml">𝐰</mi><mo id="S4.E1.m1.2.3.2.1" xref="S4.E1.m1.2.3.2.1.cmml">−</mo><mrow id="S4.E1.m1.2.3.2.3" xref="S4.E1.m1.2.3.2.3.cmml"><mi id="S4.E1.m1.2.3.2.3.2" xref="S4.E1.m1.2.3.2.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="S4.E1.m1.2.3.2.3.1" xref="S4.E1.m1.2.3.2.3.1.cmml">​</mo><mfrac id="S4.E1.m1.2.3.2.3.3" xref="S4.E1.m1.2.3.2.3.3.cmml"><mn id="S4.E1.m1.2.3.2.3.3.2" xref="S4.E1.m1.2.3.2.3.3.2.cmml">1</mn><mi id="S4.E1.m1.2.3.2.3.3.3" xref="S4.E1.m1.2.3.2.3.3.3.cmml">b</mi></mfrac><mo lspace="0.167em" rspace="0em" id="S4.E1.m1.2.3.2.3.1a" xref="S4.E1.m1.2.3.2.3.1.cmml">​</mo><mrow id="S4.E1.m1.2.3.2.3.4" xref="S4.E1.m1.2.3.2.3.4.cmml"><mo rspace="0.167em" id="S4.E1.m1.2.3.2.3.4.1" xref="S4.E1.m1.2.3.2.3.4.1.cmml">∇</mo><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.2.3.2.3.4.2" xref="S4.E1.m1.2.3.2.3.4.2.cmml">ℒ</mi></mrow><mo lspace="0em" rspace="0em" id="S4.E1.m1.2.3.2.3.1b" xref="S4.E1.m1.2.3.2.3.1.cmml">​</mo><mrow id="S4.E1.m1.2.3.2.3.5.2" xref="S4.E1.m1.2.3.2.3.5.1.cmml"><mo stretchy="false" id="S4.E1.m1.2.3.2.3.5.2.1" xref="S4.E1.m1.2.3.2.3.5.1.cmml">(</mo><mi id="S4.E1.m1.1.1" xref="S4.E1.m1.1.1.cmml">𝐱</mi><mo id="S4.E1.m1.2.3.2.3.5.2.2" xref="S4.E1.m1.2.3.2.3.5.1.cmml">,</mo><mi id="S4.E1.m1.2.2" xref="S4.E1.m1.2.2.cmml">𝐰</mi><mo stretchy="false" id="S4.E1.m1.2.3.2.3.5.2.3" xref="S4.E1.m1.2.3.2.3.5.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S4.E1.m1.2.3.1" xref="S4.E1.m1.2.3.1.cmml">→</mo><mi id="S4.E1.m1.2.3.3" xref="S4.E1.m1.2.3.3.cmml">𝐰</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.E1.m1.2b"><apply id="S4.E1.m1.2.3.cmml" xref="S4.E1.m1.2.3"><ci id="S4.E1.m1.2.3.1.cmml" xref="S4.E1.m1.2.3.1">→</ci><apply id="S4.E1.m1.2.3.2.cmml" xref="S4.E1.m1.2.3.2"><minus id="S4.E1.m1.2.3.2.1.cmml" xref="S4.E1.m1.2.3.2.1"></minus><ci id="S4.E1.m1.2.3.2.2.cmml" xref="S4.E1.m1.2.3.2.2">𝐰</ci><apply id="S4.E1.m1.2.3.2.3.cmml" xref="S4.E1.m1.2.3.2.3"><times id="S4.E1.m1.2.3.2.3.1.cmml" xref="S4.E1.m1.2.3.2.3.1"></times><ci id="S4.E1.m1.2.3.2.3.2.cmml" xref="S4.E1.m1.2.3.2.3.2">𝜂</ci><apply id="S4.E1.m1.2.3.2.3.3.cmml" xref="S4.E1.m1.2.3.2.3.3"><divide id="S4.E1.m1.2.3.2.3.3.1.cmml" xref="S4.E1.m1.2.3.2.3.3"></divide><cn type="integer" id="S4.E1.m1.2.3.2.3.3.2.cmml" xref="S4.E1.m1.2.3.2.3.3.2">1</cn><ci id="S4.E1.m1.2.3.2.3.3.3.cmml" xref="S4.E1.m1.2.3.2.3.3.3">𝑏</ci></apply><apply id="S4.E1.m1.2.3.2.3.4.cmml" xref="S4.E1.m1.2.3.2.3.4"><ci id="S4.E1.m1.2.3.2.3.4.1.cmml" xref="S4.E1.m1.2.3.2.3.4.1">∇</ci><ci id="S4.E1.m1.2.3.2.3.4.2.cmml" xref="S4.E1.m1.2.3.2.3.4.2">ℒ</ci></apply><interval closure="open" id="S4.E1.m1.2.3.2.3.5.1.cmml" xref="S4.E1.m1.2.3.2.3.5.2"><ci id="S4.E1.m1.1.1.cmml" xref="S4.E1.m1.1.1">𝐱</ci><ci id="S4.E1.m1.2.2.cmml" xref="S4.E1.m1.2.2">𝐰</ci></interval></apply></apply><ci id="S4.E1.m1.2.3.3.cmml" xref="S4.E1.m1.2.3.3">𝐰</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.2c">\mathbf{w}-\eta\frac{1}{b}\nabla\mathcal{L}(\mathbf{x},\mathbf{w})\rightarrow\mathbf{w}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS2.p1.11" class="ltx_p">where <math id="S4.SS2.p1.4.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.SS2.p1.4.m1.1a"><mi id="S4.SS2.p1.4.m1.1.1" xref="S4.SS2.p1.4.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m1.1b"><ci id="S4.SS2.p1.4.m1.1.1.cmml" xref="S4.SS2.p1.4.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m1.1c">x</annotation></semantics></math> is a mini-batch with <math id="S4.SS2.p1.5.m2.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S4.SS2.p1.5.m2.1a"><mi id="S4.SS2.p1.5.m2.1.1" xref="S4.SS2.p1.5.m2.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.5.m2.1b"><ci id="S4.SS2.p1.5.m2.1.1.cmml" xref="S4.SS2.p1.5.m2.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.5.m2.1c">b</annotation></semantics></math> samples of the training set <math id="S4.SS2.p1.6.m3.1" class="ltx_Math" alttext="\mathcal{X}" display="inline"><semantics id="S4.SS2.p1.6.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.6.m3.1.1" xref="S4.SS2.p1.6.m3.1.1.cmml">𝒳</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.6.m3.1b"><ci id="S4.SS2.p1.6.m3.1.1.cmml" xref="S4.SS2.p1.6.m3.1.1">𝒳</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.6.m3.1c">\mathcal{X}</annotation></semantics></math> of <math id="S4.SS2.p1.7.m4.1" class="ltx_Math" alttext="u_{i}" display="inline"><semantics id="S4.SS2.p1.7.m4.1a"><msub id="S4.SS2.p1.7.m4.1.1" xref="S4.SS2.p1.7.m4.1.1.cmml"><mi id="S4.SS2.p1.7.m4.1.1.2" xref="S4.SS2.p1.7.m4.1.1.2.cmml">u</mi><mi id="S4.SS2.p1.7.m4.1.1.3" xref="S4.SS2.p1.7.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.7.m4.1b"><apply id="S4.SS2.p1.7.m4.1.1.cmml" xref="S4.SS2.p1.7.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.7.m4.1.1.1.cmml" xref="S4.SS2.p1.7.m4.1.1">subscript</csymbol><ci id="S4.SS2.p1.7.m4.1.1.2.cmml" xref="S4.SS2.p1.7.m4.1.1.2">𝑢</ci><ci id="S4.SS2.p1.7.m4.1.1.3.cmml" xref="S4.SS2.p1.7.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.7.m4.1c">u_{i}</annotation></semantics></math>, <math id="S4.SS2.p1.8.m5.1" class="ltx_Math" alttext="\mathcal{L}" display="inline"><semantics id="S4.SS2.p1.8.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.8.m5.1.1" xref="S4.SS2.p1.8.m5.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.8.m5.1b"><ci id="S4.SS2.p1.8.m5.1.1.cmml" xref="S4.SS2.p1.8.m5.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.8.m5.1c">\mathcal{L}</annotation></semantics></math> is the loss function and <math id="S4.SS2.p1.9.m6.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S4.SS2.p1.9.m6.1a"><mi id="S4.SS2.p1.9.m6.1.1" xref="S4.SS2.p1.9.m6.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.9.m6.1b"><ci id="S4.SS2.p1.9.m6.1.1.cmml" xref="S4.SS2.p1.9.m6.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.9.m6.1c">\eta</annotation></semantics></math> is the learning rate (step 2-1 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
Let <math id="S4.SS2.p1.10.m7.1" class="ltx_Math" alttext="\mathbf{w}_{i}(t)" display="inline"><semantics id="S4.SS2.p1.10.m7.1a"><mrow id="S4.SS2.p1.10.m7.1.2" xref="S4.SS2.p1.10.m7.1.2.cmml"><msub id="S4.SS2.p1.10.m7.1.2.2" xref="S4.SS2.p1.10.m7.1.2.2.cmml"><mi id="S4.SS2.p1.10.m7.1.2.2.2" xref="S4.SS2.p1.10.m7.1.2.2.2.cmml">𝐰</mi><mi id="S4.SS2.p1.10.m7.1.2.2.3" xref="S4.SS2.p1.10.m7.1.2.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS2.p1.10.m7.1.2.1" xref="S4.SS2.p1.10.m7.1.2.1.cmml">​</mo><mrow id="S4.SS2.p1.10.m7.1.2.3.2" xref="S4.SS2.p1.10.m7.1.2.cmml"><mo stretchy="false" id="S4.SS2.p1.10.m7.1.2.3.2.1" xref="S4.SS2.p1.10.m7.1.2.cmml">(</mo><mi id="S4.SS2.p1.10.m7.1.1" xref="S4.SS2.p1.10.m7.1.1.cmml">t</mi><mo stretchy="false" id="S4.SS2.p1.10.m7.1.2.3.2.2" xref="S4.SS2.p1.10.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.10.m7.1b"><apply id="S4.SS2.p1.10.m7.1.2.cmml" xref="S4.SS2.p1.10.m7.1.2"><times id="S4.SS2.p1.10.m7.1.2.1.cmml" xref="S4.SS2.p1.10.m7.1.2.1"></times><apply id="S4.SS2.p1.10.m7.1.2.2.cmml" xref="S4.SS2.p1.10.m7.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p1.10.m7.1.2.2.1.cmml" xref="S4.SS2.p1.10.m7.1.2.2">subscript</csymbol><ci id="S4.SS2.p1.10.m7.1.2.2.2.cmml" xref="S4.SS2.p1.10.m7.1.2.2.2">𝐰</ci><ci id="S4.SS2.p1.10.m7.1.2.2.3.cmml" xref="S4.SS2.p1.10.m7.1.2.2.3">𝑖</ci></apply><ci id="S4.SS2.p1.10.m7.1.1.cmml" xref="S4.SS2.p1.10.m7.1.1">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.10.m7.1c">\mathbf{w}_{i}(t)</annotation></semantics></math> be the model parameters after several epochs of local training.
The local update <math id="S4.SS2.p1.11.m8.1" class="ltx_Math" alttext="\mathbf{d}_{i}" display="inline"><semantics id="S4.SS2.p1.11.m8.1a"><msub id="S4.SS2.p1.11.m8.1.1" xref="S4.SS2.p1.11.m8.1.1.cmml"><mi id="S4.SS2.p1.11.m8.1.1.2" xref="S4.SS2.p1.11.m8.1.1.2.cmml">𝐝</mi><mi id="S4.SS2.p1.11.m8.1.1.3" xref="S4.SS2.p1.11.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.11.m8.1b"><apply id="S4.SS2.p1.11.m8.1.1.cmml" xref="S4.SS2.p1.11.m8.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.11.m8.1.1.1.cmml" xref="S4.SS2.p1.11.m8.1.1">subscript</csymbol><ci id="S4.SS2.p1.11.m8.1.1.2.cmml" xref="S4.SS2.p1.11.m8.1.1.2">𝐝</ci><ci id="S4.SS2.p1.11.m8.1.1.3.cmml" xref="S4.SS2.p1.11.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.11.m8.1c">\mathbf{d}_{i}</annotation></semantics></math> is obtained as:</p>
<table id="S4.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E2.m1.2" class="ltx_Math" alttext="\mathbf{d}_{i}=\mathbf{w}_{i}(t)-\mathbf{w}_{i}(t-1)" display="block"><semantics id="S4.E2.m1.2a"><mrow id="S4.E2.m1.2.2" xref="S4.E2.m1.2.2.cmml"><msub id="S4.E2.m1.2.2.3" xref="S4.E2.m1.2.2.3.cmml"><mi id="S4.E2.m1.2.2.3.2" xref="S4.E2.m1.2.2.3.2.cmml">𝐝</mi><mi id="S4.E2.m1.2.2.3.3" xref="S4.E2.m1.2.2.3.3.cmml">i</mi></msub><mo id="S4.E2.m1.2.2.2" xref="S4.E2.m1.2.2.2.cmml">=</mo><mrow id="S4.E2.m1.2.2.1" xref="S4.E2.m1.2.2.1.cmml"><mrow id="S4.E2.m1.2.2.1.3" xref="S4.E2.m1.2.2.1.3.cmml"><msub id="S4.E2.m1.2.2.1.3.2" xref="S4.E2.m1.2.2.1.3.2.cmml"><mi id="S4.E2.m1.2.2.1.3.2.2" xref="S4.E2.m1.2.2.1.3.2.2.cmml">𝐰</mi><mi id="S4.E2.m1.2.2.1.3.2.3" xref="S4.E2.m1.2.2.1.3.2.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.2.1.3.1" xref="S4.E2.m1.2.2.1.3.1.cmml">​</mo><mrow id="S4.E2.m1.2.2.1.3.3.2" xref="S4.E2.m1.2.2.1.3.cmml"><mo stretchy="false" id="S4.E2.m1.2.2.1.3.3.2.1" xref="S4.E2.m1.2.2.1.3.cmml">(</mo><mi id="S4.E2.m1.1.1" xref="S4.E2.m1.1.1.cmml">t</mi><mo stretchy="false" id="S4.E2.m1.2.2.1.3.3.2.2" xref="S4.E2.m1.2.2.1.3.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.2.2.1.2" xref="S4.E2.m1.2.2.1.2.cmml">−</mo><mrow id="S4.E2.m1.2.2.1.1" xref="S4.E2.m1.2.2.1.1.cmml"><msub id="S4.E2.m1.2.2.1.1.3" xref="S4.E2.m1.2.2.1.1.3.cmml"><mi id="S4.E2.m1.2.2.1.1.3.2" xref="S4.E2.m1.2.2.1.1.3.2.cmml">𝐰</mi><mi id="S4.E2.m1.2.2.1.1.3.3" xref="S4.E2.m1.2.2.1.1.3.3.cmml">i</mi></msub><mo lspace="0em" rspace="0em" id="S4.E2.m1.2.2.1.1.2" xref="S4.E2.m1.2.2.1.1.2.cmml">​</mo><mrow id="S4.E2.m1.2.2.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E2.m1.2.2.1.1.1.1.2" xref="S4.E2.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S4.E2.m1.2.2.1.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.1.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.2" xref="S4.E2.m1.2.2.1.1.1.1.1.2.cmml">t</mi><mo id="S4.E2.m1.2.2.1.1.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.1.1.cmml">−</mo><mn id="S4.E2.m1.2.2.1.1.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S4.E2.m1.2.2.1.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.2b"><apply id="S4.E2.m1.2.2.cmml" xref="S4.E2.m1.2.2"><eq id="S4.E2.m1.2.2.2.cmml" xref="S4.E2.m1.2.2.2"></eq><apply id="S4.E2.m1.2.2.3.cmml" xref="S4.E2.m1.2.2.3"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.3.1.cmml" xref="S4.E2.m1.2.2.3">subscript</csymbol><ci id="S4.E2.m1.2.2.3.2.cmml" xref="S4.E2.m1.2.2.3.2">𝐝</ci><ci id="S4.E2.m1.2.2.3.3.cmml" xref="S4.E2.m1.2.2.3.3">𝑖</ci></apply><apply id="S4.E2.m1.2.2.1.cmml" xref="S4.E2.m1.2.2.1"><minus id="S4.E2.m1.2.2.1.2.cmml" xref="S4.E2.m1.2.2.1.2"></minus><apply id="S4.E2.m1.2.2.1.3.cmml" xref="S4.E2.m1.2.2.1.3"><times id="S4.E2.m1.2.2.1.3.1.cmml" xref="S4.E2.m1.2.2.1.3.1"></times><apply id="S4.E2.m1.2.2.1.3.2.cmml" xref="S4.E2.m1.2.2.1.3.2"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.3.2.1.cmml" xref="S4.E2.m1.2.2.1.3.2">subscript</csymbol><ci id="S4.E2.m1.2.2.1.3.2.2.cmml" xref="S4.E2.m1.2.2.1.3.2.2">𝐰</ci><ci id="S4.E2.m1.2.2.1.3.2.3.cmml" xref="S4.E2.m1.2.2.1.3.2.3">𝑖</ci></apply><ci id="S4.E2.m1.1.1.cmml" xref="S4.E2.m1.1.1">𝑡</ci></apply><apply id="S4.E2.m1.2.2.1.1.cmml" xref="S4.E2.m1.2.2.1.1"><times id="S4.E2.m1.2.2.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.2"></times><apply id="S4.E2.m1.2.2.1.1.3.cmml" xref="S4.E2.m1.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.3.1.cmml" xref="S4.E2.m1.2.2.1.1.3">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.3.2.cmml" xref="S4.E2.m1.2.2.1.1.3.2">𝐰</ci><ci id="S4.E2.m1.2.2.1.1.3.3.cmml" xref="S4.E2.m1.2.2.1.1.3.3">𝑖</ci></apply><apply id="S4.E2.m1.2.2.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1"><minus id="S4.E2.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1"></minus><ci id="S4.E2.m1.2.2.1.1.1.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.2">𝑡</ci><cn type="integer" id="S4.E2.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.2c">\mathbf{d}_{i}=\mathbf{w}_{i}(t)-\mathbf{w}_{i}(t-1)</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.4" class="ltx_p">To protect the representation privacy of local data and reduce the communication cost, we apply top-k sparsification to the local updates as in <cite class="ltx_cite ltx_citemacro_citep">(Cui et al<span class="ltx_text">.</span>, <a href="#bib.bib8" title="" class="ltx_ref">2022b</a>)</cite>.
Let <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">s</annotation></semantics></math> be the sparse ratio, i.e., the percentage of zero elements in the sparsed local update <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="\mathbf{d}_{i}" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><msub id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml"><mi id="S4.SS2.p2.2.m2.1.1.2" xref="S4.SS2.p2.2.m2.1.1.2.cmml">𝐝</mi><mi id="S4.SS2.p2.2.m2.1.1.3" xref="S4.SS2.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><apply id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p2.2.m2.1.1.2.cmml" xref="S4.SS2.p2.2.m2.1.1.2">𝐝</ci><ci id="S4.SS2.p2.2.m2.1.1.3.cmml" xref="S4.SS2.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">\mathbf{d}_{i}</annotation></semantics></math>, the update provider only transmits the <math id="S4.SS2.p2.3.m3.2" class="ltx_Math" alttext="(1-s)|\mathbf{d}_{i}|" display="inline"><semantics id="S4.SS2.p2.3.m3.2a"><mrow id="S4.SS2.p2.3.m3.2.2" xref="S4.SS2.p2.3.m3.2.2.cmml"><mrow id="S4.SS2.p2.3.m3.1.1.1.1" xref="S4.SS2.p2.3.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS2.p2.3.m3.1.1.1.1.2" xref="S4.SS2.p2.3.m3.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.p2.3.m3.1.1.1.1.1" xref="S4.SS2.p2.3.m3.1.1.1.1.1.cmml"><mn id="S4.SS2.p2.3.m3.1.1.1.1.1.2" xref="S4.SS2.p2.3.m3.1.1.1.1.1.2.cmml">1</mn><mo id="S4.SS2.p2.3.m3.1.1.1.1.1.1" xref="S4.SS2.p2.3.m3.1.1.1.1.1.1.cmml">−</mo><mi id="S4.SS2.p2.3.m3.1.1.1.1.1.3" xref="S4.SS2.p2.3.m3.1.1.1.1.1.3.cmml">s</mi></mrow><mo stretchy="false" id="S4.SS2.p2.3.m3.1.1.1.1.3" xref="S4.SS2.p2.3.m3.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S4.SS2.p2.3.m3.2.2.3" xref="S4.SS2.p2.3.m3.2.2.3.cmml">​</mo><mrow id="S4.SS2.p2.3.m3.2.2.2.1" xref="S4.SS2.p2.3.m3.2.2.2.2.cmml"><mo stretchy="false" id="S4.SS2.p2.3.m3.2.2.2.1.2" xref="S4.SS2.p2.3.m3.2.2.2.2.1.cmml">|</mo><msub id="S4.SS2.p2.3.m3.2.2.2.1.1" xref="S4.SS2.p2.3.m3.2.2.2.1.1.cmml"><mi id="S4.SS2.p2.3.m3.2.2.2.1.1.2" xref="S4.SS2.p2.3.m3.2.2.2.1.1.2.cmml">𝐝</mi><mi id="S4.SS2.p2.3.m3.2.2.2.1.1.3" xref="S4.SS2.p2.3.m3.2.2.2.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS2.p2.3.m3.2.2.2.1.3" xref="S4.SS2.p2.3.m3.2.2.2.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.2b"><apply id="S4.SS2.p2.3.m3.2.2.cmml" xref="S4.SS2.p2.3.m3.2.2"><times id="S4.SS2.p2.3.m3.2.2.3.cmml" xref="S4.SS2.p2.3.m3.2.2.3"></times><apply id="S4.SS2.p2.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1.1.1"><minus id="S4.SS2.p2.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1.1.1.1.1"></minus><cn type="integer" id="S4.SS2.p2.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.p2.3.m3.1.1.1.1.1.2">1</cn><ci id="S4.SS2.p2.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.p2.3.m3.1.1.1.1.1.3">𝑠</ci></apply><apply id="S4.SS2.p2.3.m3.2.2.2.2.cmml" xref="S4.SS2.p2.3.m3.2.2.2.1"><abs id="S4.SS2.p2.3.m3.2.2.2.2.1.cmml" xref="S4.SS2.p2.3.m3.2.2.2.1.2"></abs><apply id="S4.SS2.p2.3.m3.2.2.2.1.1.cmml" xref="S4.SS2.p2.3.m3.2.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.2.2.2.1.1.1.cmml" xref="S4.SS2.p2.3.m3.2.2.2.1.1">subscript</csymbol><ci id="S4.SS2.p2.3.m3.2.2.2.1.1.2.cmml" xref="S4.SS2.p2.3.m3.2.2.2.1.1.2">𝐝</ci><ci id="S4.SS2.p2.3.m3.2.2.2.1.1.3.cmml" xref="S4.SS2.p2.3.m3.2.2.2.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.2c">(1-s)|\mathbf{d}_{i}|</annotation></semantics></math> elements of <math id="S4.SS2.p2.4.m4.1" class="ltx_Math" alttext="\mathbf{d}_{i}" display="inline"><semantics id="S4.SS2.p2.4.m4.1a"><msub id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml"><mi id="S4.SS2.p2.4.m4.1.1.2" xref="S4.SS2.p2.4.m4.1.1.2.cmml">𝐝</mi><mi id="S4.SS2.p2.4.m4.1.1.3" xref="S4.SS2.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><apply id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.4.m4.1.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.p2.4.m4.1.1.2.cmml" xref="S4.SS2.p2.4.m4.1.1.2">𝐝</ci><ci id="S4.SS2.p2.4.m4.1.1.3.cmml" xref="S4.SS2.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">\mathbf{d}_{i}</annotation></semantics></math> with the largest absolute value (step 2-2 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
To avoid the loss of accuracy, the rest elements are kept locally and accumulated to the next local training of the participant as in <cite class="ltx_cite ltx_citemacro_citep">(Lin
et al<span class="ltx_text">.</span>, <a href="#bib.bib22" title="" class="ltx_ref">2018</a>)</cite>.
The sparse local update is digitally signed and broadcasted to aggregators (step 2-3 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Aggregation</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.6" class="ltx_p">When an aggregator has collected a certain number of local updates, the aggregation starts where each aggregator performs the same process independently.
Let <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><ci id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">\mathcal{D}</annotation></semantics></math> denote the set of local updates received by an aggregator and <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><mi id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">c</annotation></semantics></math> be the number of local updates that a global update must contain.
There are two sampling steps in aggregation.
The first step is to discard most of the model updates based on the corresponding stake for relieving the computation cost of later testing.
In this step, the aggregator samples <math id="S4.SS3.p1.3.m3.1" class="ltx_Math" alttext="3\times c" display="inline"><semantics id="S4.SS3.p1.3.m3.1a"><mrow id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml"><mn id="S4.SS3.p1.3.m3.1.1.2" xref="S4.SS3.p1.3.m3.1.1.2.cmml">3</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS3.p1.3.m3.1.1.1" xref="S4.SS3.p1.3.m3.1.1.1.cmml">×</mo><mi id="S4.SS3.p1.3.m3.1.1.3" xref="S4.SS3.p1.3.m3.1.1.3.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><apply id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1"><times id="S4.SS3.p1.3.m3.1.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1.1"></times><cn type="integer" id="S4.SS3.p1.3.m3.1.1.2.cmml" xref="S4.SS3.p1.3.m3.1.1.2">3</cn><ci id="S4.SS3.p1.3.m3.1.1.3.cmml" xref="S4.SS3.p1.3.m3.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">3\times c</annotation></semantics></math> local updates from <math id="S4.SS3.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S4.SS3.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.4.m4.1.1" xref="S4.SS3.p1.4.m4.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><ci id="S4.SS3.p1.4.m4.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">\mathcal{D}</annotation></semantics></math>, where the probability of each local update to be selected is proportional to the stake of its update provider (step 3-1 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
The sampled local updates constitute a set <math id="S4.SS3.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{D}^{S}" display="inline"><semantics id="S4.SS3.p1.5.m5.1a"><msup id="S4.SS3.p1.5.m5.1.1" xref="S4.SS3.p1.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.5.m5.1.1.2" xref="S4.SS3.p1.5.m5.1.1.2.cmml">𝒟</mi><mi id="S4.SS3.p1.5.m5.1.1.3" xref="S4.SS3.p1.5.m5.1.1.3.cmml">S</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.5.m5.1b"><apply id="S4.SS3.p1.5.m5.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.5.m5.1.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1">superscript</csymbol><ci id="S4.SS3.p1.5.m5.1.1.2.cmml" xref="S4.SS3.p1.5.m5.1.1.2">𝒟</ci><ci id="S4.SS3.p1.5.m5.1.1.3.cmml" xref="S4.SS3.p1.5.m5.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.5.m5.1c">\mathcal{D}^{S}</annotation></semantics></math>.
To make more honest participants have the opportunity to share their local updates, the stake can be <math id="S4.SS3.p1.6.m6.1" class="ltx_Math" alttext="\log" display="inline"><semantics id="S4.SS3.p1.6.m6.1a"><mi id="S4.SS3.p1.6.m6.1.1" xref="S4.SS3.p1.6.m6.1.1.cmml">log</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.6.m6.1b"><log id="S4.SS3.p1.6.m6.1.1.cmml" xref="S4.SS3.p1.6.m6.1.1"></log></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.6.m6.1c">\log</annotation></semantics></math>-scaled here.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.10" class="ltx_p">The second step conducts the median-based testing to select high-quality un-poisoned local updates for aggregation.
Each aggregator updates the global model in last round with local updates in <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{D}^{S}" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><msup id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.1.m1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.2.cmml">𝒟</mi><mi id="S4.SS3.p2.1.m1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.3.cmml">S</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">superscript</csymbol><ci id="S4.SS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2">𝒟</ci><ci id="S4.SS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">\mathcal{D}^{S}</annotation></semantics></math> one by one and performs inference on a subset randomly sampled from its own training set (step 3-2 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
Then, local updates in <math id="S4.SS3.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{D}^{S}" display="inline"><semantics id="S4.SS3.p2.2.m2.1a"><msup id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml">𝒟</mi><mi id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml">S</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">superscript</csymbol><ci id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2">𝒟</ci><ci id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">\mathcal{D}^{S}</annotation></semantics></math> are ranked in descending order according to their accuracy of inference.
Let <math id="S4.SS3.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{DM}^{S}" display="inline"><semantics id="S4.SS3.p2.3.m3.1a"><mrow id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.3.m3.1.1.2" xref="S4.SS3.p2.3.m3.1.1.2.cmml">𝒟</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p2.3.m3.1.1.1" xref="S4.SS3.p2.3.m3.1.1.1.cmml">​</mo><msup id="S4.SS3.p2.3.m3.1.1.3" xref="S4.SS3.p2.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.3.m3.1.1.3.2" xref="S4.SS3.p2.3.m3.1.1.3.2.cmml">ℳ</mi><mi id="S4.SS3.p2.3.m3.1.1.3.3" xref="S4.SS3.p2.3.m3.1.1.3.3.cmml">S</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><apply id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1"><times id="S4.SS3.p2.3.m3.1.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1.1"></times><ci id="S4.SS3.p2.3.m3.1.1.2.cmml" xref="S4.SS3.p2.3.m3.1.1.2">𝒟</ci><apply id="S4.SS3.p2.3.m3.1.1.3.cmml" xref="S4.SS3.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.p2.3.m3.1.1.3.1.cmml" xref="S4.SS3.p2.3.m3.1.1.3">superscript</csymbol><ci id="S4.SS3.p2.3.m3.1.1.3.2.cmml" xref="S4.SS3.p2.3.m3.1.1.3.2">ℳ</ci><ci id="S4.SS3.p2.3.m3.1.1.3.3.cmml" xref="S4.SS3.p2.3.m3.1.1.3.3">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">\mathcal{DM}^{S}</annotation></semantics></math> denote the local updates before the median of sorted <math id="S4.SS3.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{D}^{S}" display="inline"><semantics id="S4.SS3.p2.4.m4.1a"><msup id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.4.m4.1.1.2" xref="S4.SS3.p2.4.m4.1.1.2.cmml">𝒟</mi><mi id="S4.SS3.p2.4.m4.1.1.3" xref="S4.SS3.p2.4.m4.1.1.3.cmml">S</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><apply id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m4.1.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1">superscript</csymbol><ci id="S4.SS3.p2.4.m4.1.1.2.cmml" xref="S4.SS3.p2.4.m4.1.1.2">𝒟</ci><ci id="S4.SS3.p2.4.m4.1.1.3.cmml" xref="S4.SS3.p2.4.m4.1.1.3">𝑆</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">\mathcal{D}^{S}</annotation></semantics></math>, the local updates for aggregation are randomly selected from <math id="S4.SS3.p2.5.m5.1" class="ltx_Math" alttext="\mathcal{DM}^{S}" display="inline"><semantics id="S4.SS3.p2.5.m5.1a"><mrow id="S4.SS3.p2.5.m5.1.1" xref="S4.SS3.p2.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.5.m5.1.1.2" xref="S4.SS3.p2.5.m5.1.1.2.cmml">𝒟</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p2.5.m5.1.1.1" xref="S4.SS3.p2.5.m5.1.1.1.cmml">​</mo><msup id="S4.SS3.p2.5.m5.1.1.3" xref="S4.SS3.p2.5.m5.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.5.m5.1.1.3.2" xref="S4.SS3.p2.5.m5.1.1.3.2.cmml">ℳ</mi><mi id="S4.SS3.p2.5.m5.1.1.3.3" xref="S4.SS3.p2.5.m5.1.1.3.3.cmml">S</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m5.1b"><apply id="S4.SS3.p2.5.m5.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1"><times id="S4.SS3.p2.5.m5.1.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1.1"></times><ci id="S4.SS3.p2.5.m5.1.1.2.cmml" xref="S4.SS3.p2.5.m5.1.1.2">𝒟</ci><apply id="S4.SS3.p2.5.m5.1.1.3.cmml" xref="S4.SS3.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.p2.5.m5.1.1.3.1.cmml" xref="S4.SS3.p2.5.m5.1.1.3">superscript</csymbol><ci id="S4.SS3.p2.5.m5.1.1.3.2.cmml" xref="S4.SS3.p2.5.m5.1.1.3.2">ℳ</ci><ci id="S4.SS3.p2.5.m5.1.1.3.3.cmml" xref="S4.SS3.p2.5.m5.1.1.3.3">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m5.1c">\mathcal{DM}^{S}</annotation></semantics></math> and constitute a set <math id="S4.SS3.p2.6.m6.1" class="ltx_Math" alttext="\mathcal{D}^{A}" display="inline"><semantics id="S4.SS3.p2.6.m6.1a"><msup id="S4.SS3.p2.6.m6.1.1" xref="S4.SS3.p2.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.6.m6.1.1.2" xref="S4.SS3.p2.6.m6.1.1.2.cmml">𝒟</mi><mi id="S4.SS3.p2.6.m6.1.1.3" xref="S4.SS3.p2.6.m6.1.1.3.cmml">A</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.6.m6.1b"><apply id="S4.SS3.p2.6.m6.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.6.m6.1.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1">superscript</csymbol><ci id="S4.SS3.p2.6.m6.1.1.2.cmml" xref="S4.SS3.p2.6.m6.1.1.2">𝒟</ci><ci id="S4.SS3.p2.6.m6.1.1.3.cmml" xref="S4.SS3.p2.6.m6.1.1.3">𝐴</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.6.m6.1c">\mathcal{D}^{A}</annotation></semantics></math> (<math id="S4.SS3.p2.7.m7.1" class="ltx_Math" alttext="|\mathcal{D}^{A}|=c" display="inline"><semantics id="S4.SS3.p2.7.m7.1a"><mrow id="S4.SS3.p2.7.m7.1.1" xref="S4.SS3.p2.7.m7.1.1.cmml"><mrow id="S4.SS3.p2.7.m7.1.1.1.1" xref="S4.SS3.p2.7.m7.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS3.p2.7.m7.1.1.1.1.2" xref="S4.SS3.p2.7.m7.1.1.1.2.1.cmml">|</mo><msup id="S4.SS3.p2.7.m7.1.1.1.1.1" xref="S4.SS3.p2.7.m7.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.7.m7.1.1.1.1.1.2" xref="S4.SS3.p2.7.m7.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S4.SS3.p2.7.m7.1.1.1.1.1.3" xref="S4.SS3.p2.7.m7.1.1.1.1.1.3.cmml">A</mi></msup><mo stretchy="false" id="S4.SS3.p2.7.m7.1.1.1.1.3" xref="S4.SS3.p2.7.m7.1.1.1.2.1.cmml">|</mo></mrow><mo id="S4.SS3.p2.7.m7.1.1.2" xref="S4.SS3.p2.7.m7.1.1.2.cmml">=</mo><mi id="S4.SS3.p2.7.m7.1.1.3" xref="S4.SS3.p2.7.m7.1.1.3.cmml">c</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.7.m7.1b"><apply id="S4.SS3.p2.7.m7.1.1.cmml" xref="S4.SS3.p2.7.m7.1.1"><eq id="S4.SS3.p2.7.m7.1.1.2.cmml" xref="S4.SS3.p2.7.m7.1.1.2"></eq><apply id="S4.SS3.p2.7.m7.1.1.1.2.cmml" xref="S4.SS3.p2.7.m7.1.1.1.1"><abs id="S4.SS3.p2.7.m7.1.1.1.2.1.cmml" xref="S4.SS3.p2.7.m7.1.1.1.1.2"></abs><apply id="S4.SS3.p2.7.m7.1.1.1.1.1.cmml" xref="S4.SS3.p2.7.m7.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.7.m7.1.1.1.1.1.1.cmml" xref="S4.SS3.p2.7.m7.1.1.1.1.1">superscript</csymbol><ci id="S4.SS3.p2.7.m7.1.1.1.1.1.2.cmml" xref="S4.SS3.p2.7.m7.1.1.1.1.1.2">𝒟</ci><ci id="S4.SS3.p2.7.m7.1.1.1.1.1.3.cmml" xref="S4.SS3.p2.7.m7.1.1.1.1.1.3">𝐴</ci></apply></apply><ci id="S4.SS3.p2.7.m7.1.1.3.cmml" xref="S4.SS3.p2.7.m7.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.7.m7.1c">|\mathcal{D}^{A}|=c</annotation></semantics></math>).
The probability <math id="S4.SS3.p2.8.m8.1" class="ltx_Math" alttext="p_{i}" display="inline"><semantics id="S4.SS3.p2.8.m8.1a"><msub id="S4.SS3.p2.8.m8.1.1" xref="S4.SS3.p2.8.m8.1.1.cmml"><mi id="S4.SS3.p2.8.m8.1.1.2" xref="S4.SS3.p2.8.m8.1.1.2.cmml">p</mi><mi id="S4.SS3.p2.8.m8.1.1.3" xref="S4.SS3.p2.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.8.m8.1b"><apply id="S4.SS3.p2.8.m8.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.8.m8.1.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS3.p2.8.m8.1.1.2.cmml" xref="S4.SS3.p2.8.m8.1.1.2">𝑝</ci><ci id="S4.SS3.p2.8.m8.1.1.3.cmml" xref="S4.SS3.p2.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.8.m8.1c">p_{i}</annotation></semantics></math> of each local update <math id="S4.SS3.p2.9.m9.1" class="ltx_Math" alttext="\mathbf{d}_{i}" display="inline"><semantics id="S4.SS3.p2.9.m9.1a"><msub id="S4.SS3.p2.9.m9.1.1" xref="S4.SS3.p2.9.m9.1.1.cmml"><mi id="S4.SS3.p2.9.m9.1.1.2" xref="S4.SS3.p2.9.m9.1.1.2.cmml">𝐝</mi><mi id="S4.SS3.p2.9.m9.1.1.3" xref="S4.SS3.p2.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.9.m9.1b"><apply id="S4.SS3.p2.9.m9.1.1.cmml" xref="S4.SS3.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.9.m9.1.1.1.cmml" xref="S4.SS3.p2.9.m9.1.1">subscript</csymbol><ci id="S4.SS3.p2.9.m9.1.1.2.cmml" xref="S4.SS3.p2.9.m9.1.1.2">𝐝</ci><ci id="S4.SS3.p2.9.m9.1.1.3.cmml" xref="S4.SS3.p2.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.9.m9.1c">\mathbf{d}_{i}</annotation></semantics></math> in ranked <math id="S4.SS3.p2.10.m10.1" class="ltx_Math" alttext="\mathcal{DM}^{S}" display="inline"><semantics id="S4.SS3.p2.10.m10.1a"><mrow id="S4.SS3.p2.10.m10.1.1" xref="S4.SS3.p2.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.10.m10.1.1.2" xref="S4.SS3.p2.10.m10.1.1.2.cmml">𝒟</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p2.10.m10.1.1.1" xref="S4.SS3.p2.10.m10.1.1.1.cmml">​</mo><msup id="S4.SS3.p2.10.m10.1.1.3" xref="S4.SS3.p2.10.m10.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.10.m10.1.1.3.2" xref="S4.SS3.p2.10.m10.1.1.3.2.cmml">ℳ</mi><mi id="S4.SS3.p2.10.m10.1.1.3.3" xref="S4.SS3.p2.10.m10.1.1.3.3.cmml">S</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.10.m10.1b"><apply id="S4.SS3.p2.10.m10.1.1.cmml" xref="S4.SS3.p2.10.m10.1.1"><times id="S4.SS3.p2.10.m10.1.1.1.cmml" xref="S4.SS3.p2.10.m10.1.1.1"></times><ci id="S4.SS3.p2.10.m10.1.1.2.cmml" xref="S4.SS3.p2.10.m10.1.1.2">𝒟</ci><apply id="S4.SS3.p2.10.m10.1.1.3.cmml" xref="S4.SS3.p2.10.m10.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.p2.10.m10.1.1.3.1.cmml" xref="S4.SS3.p2.10.m10.1.1.3">superscript</csymbol><ci id="S4.SS3.p2.10.m10.1.1.3.2.cmml" xref="S4.SS3.p2.10.m10.1.1.3.2">ℳ</ci><ci id="S4.SS3.p2.10.m10.1.1.3.3.cmml" xref="S4.SS3.p2.10.m10.1.1.3.3">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.10.m10.1c">\mathcal{DM}^{S}</annotation></semantics></math> to be selected is:</p>
<table id="S4.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E3.m1.4" class="ltx_Math" alttext="p_{i}=\frac{\exp(q(\mathbf{d}_{i}))}{\sum_{\mathbf{d}_{j}\in\mathcal{DM}^{S}}\exp(q(\mathbf{d}_{j}))}" display="block"><semantics id="S4.E3.m1.4a"><mrow id="S4.E3.m1.4.5" xref="S4.E3.m1.4.5.cmml"><msub id="S4.E3.m1.4.5.2" xref="S4.E3.m1.4.5.2.cmml"><mi id="S4.E3.m1.4.5.2.2" xref="S4.E3.m1.4.5.2.2.cmml">p</mi><mi id="S4.E3.m1.4.5.2.3" xref="S4.E3.m1.4.5.2.3.cmml">i</mi></msub><mo id="S4.E3.m1.4.5.1" xref="S4.E3.m1.4.5.1.cmml">=</mo><mfrac id="S4.E3.m1.4.4" xref="S4.E3.m1.4.4.cmml"><mrow id="S4.E3.m1.2.2.2.2" xref="S4.E3.m1.2.2.2.3.cmml"><mi id="S4.E3.m1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.cmml">exp</mi><mo id="S4.E3.m1.2.2.2.2a" xref="S4.E3.m1.2.2.2.3.cmml">⁡</mo><mrow id="S4.E3.m1.2.2.2.2.1" xref="S4.E3.m1.2.2.2.3.cmml"><mo stretchy="false" id="S4.E3.m1.2.2.2.2.1.2" xref="S4.E3.m1.2.2.2.3.cmml">(</mo><mrow id="S4.E3.m1.2.2.2.2.1.1" xref="S4.E3.m1.2.2.2.2.1.1.cmml"><mi id="S4.E3.m1.2.2.2.2.1.1.3" xref="S4.E3.m1.2.2.2.2.1.1.3.cmml">q</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.2.2.2.2.1.1.2" xref="S4.E3.m1.2.2.2.2.1.1.2.cmml">​</mo><mrow id="S4.E3.m1.2.2.2.2.1.1.1.1" xref="S4.E3.m1.2.2.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E3.m1.2.2.2.2.1.1.1.1.2" xref="S4.E3.m1.2.2.2.2.1.1.1.1.1.cmml">(</mo><msub id="S4.E3.m1.2.2.2.2.1.1.1.1.1" xref="S4.E3.m1.2.2.2.2.1.1.1.1.1.cmml"><mi id="S4.E3.m1.2.2.2.2.1.1.1.1.1.2" xref="S4.E3.m1.2.2.2.2.1.1.1.1.1.2.cmml">𝐝</mi><mi id="S4.E3.m1.2.2.2.2.1.1.1.1.1.3" xref="S4.E3.m1.2.2.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.E3.m1.2.2.2.2.1.1.1.1.3" xref="S4.E3.m1.2.2.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S4.E3.m1.2.2.2.2.1.3" xref="S4.E3.m1.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S4.E3.m1.4.4.4" xref="S4.E3.m1.4.4.4.cmml"><msub id="S4.E3.m1.4.4.4.3" xref="S4.E3.m1.4.4.4.3.cmml"><mo id="S4.E3.m1.4.4.4.3.2" xref="S4.E3.m1.4.4.4.3.2.cmml">∑</mo><mrow id="S4.E3.m1.4.4.4.3.3" xref="S4.E3.m1.4.4.4.3.3.cmml"><msub id="S4.E3.m1.4.4.4.3.3.2" xref="S4.E3.m1.4.4.4.3.3.2.cmml"><mi id="S4.E3.m1.4.4.4.3.3.2.2" xref="S4.E3.m1.4.4.4.3.3.2.2.cmml">𝐝</mi><mi id="S4.E3.m1.4.4.4.3.3.2.3" xref="S4.E3.m1.4.4.4.3.3.2.3.cmml">j</mi></msub><mo id="S4.E3.m1.4.4.4.3.3.1" xref="S4.E3.m1.4.4.4.3.3.1.cmml">∈</mo><mrow id="S4.E3.m1.4.4.4.3.3.3" xref="S4.E3.m1.4.4.4.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.4.4.4.3.3.3.2" xref="S4.E3.m1.4.4.4.3.3.3.2.cmml">𝒟</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.4.3.3.3.1" xref="S4.E3.m1.4.4.4.3.3.3.1.cmml">​</mo><msup id="S4.E3.m1.4.4.4.3.3.3.3" xref="S4.E3.m1.4.4.4.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.4.4.4.3.3.3.3.2" xref="S4.E3.m1.4.4.4.3.3.3.3.2.cmml">ℳ</mi><mi id="S4.E3.m1.4.4.4.3.3.3.3.3" xref="S4.E3.m1.4.4.4.3.3.3.3.3.cmml">S</mi></msup></mrow></mrow></msub><mrow id="S4.E3.m1.4.4.4.2.1" xref="S4.E3.m1.4.4.4.2.2.cmml"><mi id="S4.E3.m1.3.3.3.1" xref="S4.E3.m1.3.3.3.1.cmml">exp</mi><mo id="S4.E3.m1.4.4.4.2.1a" xref="S4.E3.m1.4.4.4.2.2.cmml">⁡</mo><mrow id="S4.E3.m1.4.4.4.2.1.1" xref="S4.E3.m1.4.4.4.2.2.cmml"><mo stretchy="false" id="S4.E3.m1.4.4.4.2.1.1.2" xref="S4.E3.m1.4.4.4.2.2.cmml">(</mo><mrow id="S4.E3.m1.4.4.4.2.1.1.1" xref="S4.E3.m1.4.4.4.2.1.1.1.cmml"><mi id="S4.E3.m1.4.4.4.2.1.1.1.3" xref="S4.E3.m1.4.4.4.2.1.1.1.3.cmml">q</mi><mo lspace="0em" rspace="0em" id="S4.E3.m1.4.4.4.2.1.1.1.2" xref="S4.E3.m1.4.4.4.2.1.1.1.2.cmml">​</mo><mrow id="S4.E3.m1.4.4.4.2.1.1.1.1.1" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E3.m1.4.4.4.2.1.1.1.1.1.2" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E3.m1.4.4.4.2.1.1.1.1.1.1" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.cmml"><mi id="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.2" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.2.cmml">𝐝</mi><mi id="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.3" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.3.cmml">j</mi></msub><mo stretchy="false" id="S4.E3.m1.4.4.4.2.1.1.1.1.1.3" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S4.E3.m1.4.4.4.2.1.1.3" xref="S4.E3.m1.4.4.4.2.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.4b"><apply id="S4.E3.m1.4.5.cmml" xref="S4.E3.m1.4.5"><eq id="S4.E3.m1.4.5.1.cmml" xref="S4.E3.m1.4.5.1"></eq><apply id="S4.E3.m1.4.5.2.cmml" xref="S4.E3.m1.4.5.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.5.2.1.cmml" xref="S4.E3.m1.4.5.2">subscript</csymbol><ci id="S4.E3.m1.4.5.2.2.cmml" xref="S4.E3.m1.4.5.2.2">𝑝</ci><ci id="S4.E3.m1.4.5.2.3.cmml" xref="S4.E3.m1.4.5.2.3">𝑖</ci></apply><apply id="S4.E3.m1.4.4.cmml" xref="S4.E3.m1.4.4"><divide id="S4.E3.m1.4.4.5.cmml" xref="S4.E3.m1.4.4"></divide><apply id="S4.E3.m1.2.2.2.3.cmml" xref="S4.E3.m1.2.2.2.2"><exp id="S4.E3.m1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1"></exp><apply id="S4.E3.m1.2.2.2.2.1.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1"><times id="S4.E3.m1.2.2.2.2.1.1.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.2"></times><ci id="S4.E3.m1.2.2.2.2.1.1.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.3">𝑞</ci><apply id="S4.E3.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.2.2.1.1.1.1.1.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.1">subscript</csymbol><ci id="S4.E3.m1.2.2.2.2.1.1.1.1.1.2.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.1.1.2">𝐝</ci><ci id="S4.E3.m1.2.2.2.2.1.1.1.1.1.3.cmml" xref="S4.E3.m1.2.2.2.2.1.1.1.1.1.3">𝑖</ci></apply></apply></apply><apply id="S4.E3.m1.4.4.4.cmml" xref="S4.E3.m1.4.4.4"><apply id="S4.E3.m1.4.4.4.3.cmml" xref="S4.E3.m1.4.4.4.3"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.4.3.1.cmml" xref="S4.E3.m1.4.4.4.3">subscript</csymbol><sum id="S4.E3.m1.4.4.4.3.2.cmml" xref="S4.E3.m1.4.4.4.3.2"></sum><apply id="S4.E3.m1.4.4.4.3.3.cmml" xref="S4.E3.m1.4.4.4.3.3"><in id="S4.E3.m1.4.4.4.3.3.1.cmml" xref="S4.E3.m1.4.4.4.3.3.1"></in><apply id="S4.E3.m1.4.4.4.3.3.2.cmml" xref="S4.E3.m1.4.4.4.3.3.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.4.3.3.2.1.cmml" xref="S4.E3.m1.4.4.4.3.3.2">subscript</csymbol><ci id="S4.E3.m1.4.4.4.3.3.2.2.cmml" xref="S4.E3.m1.4.4.4.3.3.2.2">𝐝</ci><ci id="S4.E3.m1.4.4.4.3.3.2.3.cmml" xref="S4.E3.m1.4.4.4.3.3.2.3">𝑗</ci></apply><apply id="S4.E3.m1.4.4.4.3.3.3.cmml" xref="S4.E3.m1.4.4.4.3.3.3"><times id="S4.E3.m1.4.4.4.3.3.3.1.cmml" xref="S4.E3.m1.4.4.4.3.3.3.1"></times><ci id="S4.E3.m1.4.4.4.3.3.3.2.cmml" xref="S4.E3.m1.4.4.4.3.3.3.2">𝒟</ci><apply id="S4.E3.m1.4.4.4.3.3.3.3.cmml" xref="S4.E3.m1.4.4.4.3.3.3.3"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.4.3.3.3.3.1.cmml" xref="S4.E3.m1.4.4.4.3.3.3.3">superscript</csymbol><ci id="S4.E3.m1.4.4.4.3.3.3.3.2.cmml" xref="S4.E3.m1.4.4.4.3.3.3.3.2">ℳ</ci><ci id="S4.E3.m1.4.4.4.3.3.3.3.3.cmml" xref="S4.E3.m1.4.4.4.3.3.3.3.3">𝑆</ci></apply></apply></apply></apply><apply id="S4.E3.m1.4.4.4.2.2.cmml" xref="S4.E3.m1.4.4.4.2.1"><exp id="S4.E3.m1.3.3.3.1.cmml" xref="S4.E3.m1.3.3.3.1"></exp><apply id="S4.E3.m1.4.4.4.2.1.1.1.cmml" xref="S4.E3.m1.4.4.4.2.1.1.1"><times id="S4.E3.m1.4.4.4.2.1.1.1.2.cmml" xref="S4.E3.m1.4.4.4.2.1.1.1.2"></times><ci id="S4.E3.m1.4.4.4.2.1.1.1.3.cmml" xref="S4.E3.m1.4.4.4.2.1.1.1.3">𝑞</ci><apply id="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.cmml" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1">subscript</csymbol><ci id="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.2">𝐝</ci><ci id="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.4.4.4.2.1.1.1.1.1.1.3">𝑗</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.4c">p_{i}=\frac{\exp(q(\mathbf{d}_{i}))}{\sum_{\mathbf{d}_{j}\in\mathcal{DM}^{S}}\exp(q(\mathbf{d}_{j}))}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS3.p2.14" class="ltx_p">where <math id="S4.SS3.p2.11.m1.1" class="ltx_Math" alttext="q(\mathbf{d}_{i})" display="inline"><semantics id="S4.SS3.p2.11.m1.1a"><mrow id="S4.SS3.p2.11.m1.1.1" xref="S4.SS3.p2.11.m1.1.1.cmml"><mi id="S4.SS3.p2.11.m1.1.1.3" xref="S4.SS3.p2.11.m1.1.1.3.cmml">q</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p2.11.m1.1.1.2" xref="S4.SS3.p2.11.m1.1.1.2.cmml">​</mo><mrow id="S4.SS3.p2.11.m1.1.1.1.1" xref="S4.SS3.p2.11.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.p2.11.m1.1.1.1.1.2" xref="S4.SS3.p2.11.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.SS3.p2.11.m1.1.1.1.1.1" xref="S4.SS3.p2.11.m1.1.1.1.1.1.cmml"><mi id="S4.SS3.p2.11.m1.1.1.1.1.1.2" xref="S4.SS3.p2.11.m1.1.1.1.1.1.2.cmml">𝐝</mi><mi id="S4.SS3.p2.11.m1.1.1.1.1.1.3" xref="S4.SS3.p2.11.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS3.p2.11.m1.1.1.1.1.3" xref="S4.SS3.p2.11.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.11.m1.1b"><apply id="S4.SS3.p2.11.m1.1.1.cmml" xref="S4.SS3.p2.11.m1.1.1"><times id="S4.SS3.p2.11.m1.1.1.2.cmml" xref="S4.SS3.p2.11.m1.1.1.2"></times><ci id="S4.SS3.p2.11.m1.1.1.3.cmml" xref="S4.SS3.p2.11.m1.1.1.3">𝑞</ci><apply id="S4.SS3.p2.11.m1.1.1.1.1.1.cmml" xref="S4.SS3.p2.11.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.11.m1.1.1.1.1.1.1.cmml" xref="S4.SS3.p2.11.m1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p2.11.m1.1.1.1.1.1.2.cmml" xref="S4.SS3.p2.11.m1.1.1.1.1.1.2">𝐝</ci><ci id="S4.SS3.p2.11.m1.1.1.1.1.1.3.cmml" xref="S4.SS3.p2.11.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.11.m1.1c">q(\mathbf{d}_{i})</annotation></semantics></math> is the inference accuracy of local update <math id="S4.SS3.p2.12.m2.1" class="ltx_Math" alttext="\mathbf{d}_{i}" display="inline"><semantics id="S4.SS3.p2.12.m2.1a"><msub id="S4.SS3.p2.12.m2.1.1" xref="S4.SS3.p2.12.m2.1.1.cmml"><mi id="S4.SS3.p2.12.m2.1.1.2" xref="S4.SS3.p2.12.m2.1.1.2.cmml">𝐝</mi><mi id="S4.SS3.p2.12.m2.1.1.3" xref="S4.SS3.p2.12.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.12.m2.1b"><apply id="S4.SS3.p2.12.m2.1.1.cmml" xref="S4.SS3.p2.12.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.12.m2.1.1.1.cmml" xref="S4.SS3.p2.12.m2.1.1">subscript</csymbol><ci id="S4.SS3.p2.12.m2.1.1.2.cmml" xref="S4.SS3.p2.12.m2.1.1.2">𝐝</ci><ci id="S4.SS3.p2.12.m2.1.1.3.cmml" xref="S4.SS3.p2.12.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.12.m2.1c">\mathbf{d}_{i}</annotation></semantics></math> on the subset of the training set held by the aggregator.
Local updates in <math id="S4.SS3.p2.13.m3.1" class="ltx_Math" alttext="\mathcal{D}^{A}" display="inline"><semantics id="S4.SS3.p2.13.m3.1a"><msup id="S4.SS3.p2.13.m3.1.1" xref="S4.SS3.p2.13.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.13.m3.1.1.2" xref="S4.SS3.p2.13.m3.1.1.2.cmml">𝒟</mi><mi id="S4.SS3.p2.13.m3.1.1.3" xref="S4.SS3.p2.13.m3.1.1.3.cmml">A</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.13.m3.1b"><apply id="S4.SS3.p2.13.m3.1.1.cmml" xref="S4.SS3.p2.13.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.13.m3.1.1.1.cmml" xref="S4.SS3.p2.13.m3.1.1">superscript</csymbol><ci id="S4.SS3.p2.13.m3.1.1.2.cmml" xref="S4.SS3.p2.13.m3.1.1.2">𝒟</ci><ci id="S4.SS3.p2.13.m3.1.1.3.cmml" xref="S4.SS3.p2.13.m3.1.1.3">𝐴</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.13.m3.1c">\mathcal{D}^{A}</annotation></semantics></math> are aggregated to a global update <math id="S4.SS3.p2.14.m4.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S4.SS3.p2.14.m4.1a"><mi id="S4.SS3.p2.14.m4.1.1" xref="S4.SS3.p2.14.m4.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.14.m4.1b"><ci id="S4.SS3.p2.14.m4.1.1.cmml" xref="S4.SS3.p2.14.m4.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.14.m4.1c">G</annotation></semantics></math> as:</p>
<table id="S4.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E4.m1.1" class="ltx_Math" alttext="G=\frac{1}{|\mathcal{D}^{A}|}\sum_{\mathbf{d}\in\mathcal{D}^{A}}\mathbf{d}" display="block"><semantics id="S4.E4.m1.1a"><mrow id="S4.E4.m1.1.2" xref="S4.E4.m1.1.2.cmml"><mi id="S4.E4.m1.1.2.2" xref="S4.E4.m1.1.2.2.cmml">G</mi><mo id="S4.E4.m1.1.2.1" xref="S4.E4.m1.1.2.1.cmml">=</mo><mrow id="S4.E4.m1.1.2.3" xref="S4.E4.m1.1.2.3.cmml"><mfrac id="S4.E4.m1.1.1" xref="S4.E4.m1.1.1.cmml"><mn id="S4.E4.m1.1.1.3" xref="S4.E4.m1.1.1.3.cmml">1</mn><mrow id="S4.E4.m1.1.1.1.1" xref="S4.E4.m1.1.1.1.2.cmml"><mo stretchy="false" id="S4.E4.m1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.2.1.cmml">|</mo><msup id="S4.E4.m1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.1.2.cmml">𝒟</mi><mi id="S4.E4.m1.1.1.1.1.1.3" xref="S4.E4.m1.1.1.1.1.1.3.cmml">A</mi></msup><mo stretchy="false" id="S4.E4.m1.1.1.1.1.3" xref="S4.E4.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo lspace="0em" rspace="0em" id="S4.E4.m1.1.2.3.1" xref="S4.E4.m1.1.2.3.1.cmml">​</mo><mrow id="S4.E4.m1.1.2.3.2" xref="S4.E4.m1.1.2.3.2.cmml"><munder id="S4.E4.m1.1.2.3.2.1" xref="S4.E4.m1.1.2.3.2.1.cmml"><mo movablelimits="false" id="S4.E4.m1.1.2.3.2.1.2" xref="S4.E4.m1.1.2.3.2.1.2.cmml">∑</mo><mrow id="S4.E4.m1.1.2.3.2.1.3" xref="S4.E4.m1.1.2.3.2.1.3.cmml"><mi id="S4.E4.m1.1.2.3.2.1.3.2" xref="S4.E4.m1.1.2.3.2.1.3.2.cmml">𝐝</mi><mo id="S4.E4.m1.1.2.3.2.1.3.1" xref="S4.E4.m1.1.2.3.2.1.3.1.cmml">∈</mo><msup id="S4.E4.m1.1.2.3.2.1.3.3" xref="S4.E4.m1.1.2.3.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.1.2.3.2.1.3.3.2" xref="S4.E4.m1.1.2.3.2.1.3.3.2.cmml">𝒟</mi><mi id="S4.E4.m1.1.2.3.2.1.3.3.3" xref="S4.E4.m1.1.2.3.2.1.3.3.3.cmml">A</mi></msup></mrow></munder><mi id="S4.E4.m1.1.2.3.2.2" xref="S4.E4.m1.1.2.3.2.2.cmml">𝐝</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.1b"><apply id="S4.E4.m1.1.2.cmml" xref="S4.E4.m1.1.2"><eq id="S4.E4.m1.1.2.1.cmml" xref="S4.E4.m1.1.2.1"></eq><ci id="S4.E4.m1.1.2.2.cmml" xref="S4.E4.m1.1.2.2">𝐺</ci><apply id="S4.E4.m1.1.2.3.cmml" xref="S4.E4.m1.1.2.3"><times id="S4.E4.m1.1.2.3.1.cmml" xref="S4.E4.m1.1.2.3.1"></times><apply id="S4.E4.m1.1.1.cmml" xref="S4.E4.m1.1.1"><divide id="S4.E4.m1.1.1.2.cmml" xref="S4.E4.m1.1.1"></divide><cn type="integer" id="S4.E4.m1.1.1.3.cmml" xref="S4.E4.m1.1.1.3">1</cn><apply id="S4.E4.m1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1"><abs id="S4.E4.m1.1.1.1.2.1.cmml" xref="S4.E4.m1.1.1.1.1.2"></abs><apply id="S4.E4.m1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1">superscript</csymbol><ci id="S4.E4.m1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1.1.2">𝒟</ci><ci id="S4.E4.m1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.1.1.1.1.1.3">𝐴</ci></apply></apply></apply><apply id="S4.E4.m1.1.2.3.2.cmml" xref="S4.E4.m1.1.2.3.2"><apply id="S4.E4.m1.1.2.3.2.1.cmml" xref="S4.E4.m1.1.2.3.2.1"><csymbol cd="ambiguous" id="S4.E4.m1.1.2.3.2.1.1.cmml" xref="S4.E4.m1.1.2.3.2.1">subscript</csymbol><sum id="S4.E4.m1.1.2.3.2.1.2.cmml" xref="S4.E4.m1.1.2.3.2.1.2"></sum><apply id="S4.E4.m1.1.2.3.2.1.3.cmml" xref="S4.E4.m1.1.2.3.2.1.3"><in id="S4.E4.m1.1.2.3.2.1.3.1.cmml" xref="S4.E4.m1.1.2.3.2.1.3.1"></in><ci id="S4.E4.m1.1.2.3.2.1.3.2.cmml" xref="S4.E4.m1.1.2.3.2.1.3.2">𝐝</ci><apply id="S4.E4.m1.1.2.3.2.1.3.3.cmml" xref="S4.E4.m1.1.2.3.2.1.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.1.2.3.2.1.3.3.1.cmml" xref="S4.E4.m1.1.2.3.2.1.3.3">superscript</csymbol><ci id="S4.E4.m1.1.2.3.2.1.3.3.2.cmml" xref="S4.E4.m1.1.2.3.2.1.3.3.2">𝒟</ci><ci id="S4.E4.m1.1.2.3.2.1.3.3.3.cmml" xref="S4.E4.m1.1.2.3.2.1.3.3.3">𝐴</ci></apply></apply></apply><ci id="S4.E4.m1.1.2.3.2.2.cmml" xref="S4.E4.m1.1.2.3.2.2">𝐝</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.1c">G=\frac{1}{|\mathcal{D}^{A}|}\sum_{\mathbf{d}\in\mathcal{D}^{A}}\mathbf{d}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS3.p2.15" class="ltx_p">(step 3-3 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
The aggregated global update <math id="S4.SS3.p2.15.m1.1" class="ltx_Math" alttext="G" display="inline"><semantics id="S4.SS3.p2.15.m1.1a"><mi id="S4.SS3.p2.15.m1.1.1" xref="S4.SS3.p2.15.m1.1.1.cmml">G</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.15.m1.1b"><ci id="S4.SS3.p2.15.m1.1.1.cmml" xref="S4.SS3.p2.15.m1.1.1">𝐺</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.15.m1.1c">G</annotation></semantics></math> is then digitally signed and broadcasted to verifiers to compete for being packaged on the blockchain (step 3-4 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.3" class="ltx_p">There are two reasons for adopting median-based testing in stead of Krum to select local updates:
1) The complexity of Krum is <math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(n^{2})" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><mrow id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p3.1.m1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS3.p3.1.m1.1.1.2" xref="S4.SS3.p3.1.m1.1.1.2.cmml">​</mo><mrow id="S4.SS3.p3.1.m1.1.1.1.1" xref="S4.SS3.p3.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.p3.1.m1.1.1.1.1.2" xref="S4.SS3.p3.1.m1.1.1.1.1.1.cmml">(</mo><msup id="S4.SS3.p3.1.m1.1.1.1.1.1" xref="S4.SS3.p3.1.m1.1.1.1.1.1.cmml"><mi id="S4.SS3.p3.1.m1.1.1.1.1.1.2" xref="S4.SS3.p3.1.m1.1.1.1.1.1.2.cmml">n</mi><mn id="S4.SS3.p3.1.m1.1.1.1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.1.1.1.3.cmml">2</mn></msup><mo stretchy="false" id="S4.SS3.p3.1.m1.1.1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><apply id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1"><times id="S4.SS3.p3.1.m1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1.2"></times><ci id="S4.SS3.p3.1.m1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.3">𝒪</ci><apply id="S4.SS3.p3.1.m1.1.1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1">superscript</csymbol><ci id="S4.SS3.p3.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1.2">𝑛</ci><cn type="integer" id="S4.SS3.p3.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">\mathcal{O}(n^{2})</annotation></semantics></math> where <math id="S4.SS3.p3.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS3.p3.2.m2.1a"><mi id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><ci id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">n</annotation></semantics></math> is the number of model updates to be evaluated, thus, Krum may not be appropriate to score a large number of model updates such as verifying local updates <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>, where <math id="S4.SS3.p3.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS3.p3.3.m3.1a"><mi id="S4.SS3.p3.3.m3.1.1" xref="S4.SS3.p3.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.3.m3.1b"><ci id="S4.SS3.p3.3.m3.1.1.cmml" xref="S4.SS3.p3.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.3.m3.1c">n</annotation></semantics></math> is relatively large; and
2) Krum suffers from the non-IIDness of training data, since non-IID data enlarge the distance between local updates.
The non-IIDness has a relatively small impact on testing, as the local models trained on non-IID datasets do not lead to the inability to distinguish between specific two categories of data as poisoned models do.
The experiments in Section <a href="#S5.SS2" title="5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.2</span></a> also confirm this.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p">The stake filter makes most of the local updates to be tested come from honest participants, so that the model updates before the median are un-poisoned.
Median-based testing determines whether a local update is poisoned by comparing its score with that of the others, instead of relying on a manual threshold <cite class="ltx_cite ltx_citemacro_citep">(Zhang
et al<span class="ltx_text">.</span>, <a href="#bib.bib41" title="" class="ltx_ref">2021b</a>)</cite> or a baseline validation model which may be hard to obtain in real world to judge whether an update is malicious.
Therefore, this process is reliable and applicable.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Verification and Consensus</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">In order to uniquely elect one suitable global update in each round, we simplify PBFT <cite class="ltx_cite ltx_citemacro_citep">(Castro and Liskov, <a href="#bib.bib5" title="" class="ltx_ref">1999</a>)</cite> for decentralized FL and design a voting-based verification mechanism based on the simplified PBFT, which has the following advantages:
1) It has high efficiency since the verifiers are a small group of randomly selected participants;
2) It can deal with malicious participants and the disconnection problem, even for the leader of PBFT;
and 3) It never forks.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.14" class="ltx_p">The first selected verifier is the leader of verifiers to initiate the verification of global updates one by one in the order it determines.
There are three stages in the proposed voting mechanism that each global update needs to go through, i.e., <span id="S4.SS4.p2.14.1" class="ltx_text ltx_font_italic">pre-prepare</span>, <span id="S4.SS4.p2.14.2" class="ltx_text ltx_font_italic">prepare</span> and <span id="S4.SS4.p2.14.3" class="ltx_text ltx_font_italic">commit</span>.
Let <math id="S4.SS4.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{G}" display="inline"><semantics id="S4.SS4.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><ci id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">\mathcal{G}</annotation></semantics></math> be the set of candidate global updates in this communication round.
Assuming that <math id="S4.SS4.p2.2.m2.1" class="ltx_Math" alttext="G_{i}\in\mathcal{G}" display="inline"><semantics id="S4.SS4.p2.2.m2.1a"><mrow id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><msub id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2.2" xref="S4.SS4.p2.2.m2.1.1.2.2.cmml">G</mi><mi id="S4.SS4.p2.2.m2.1.1.2.3" xref="S4.SS4.p2.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S4.SS4.p2.2.m2.1.1.1" xref="S4.SS4.p2.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml">𝒢</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><in id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1.1"></in><apply id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.2.1.cmml" xref="S4.SS4.p2.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2.2">𝐺</ci><ci id="S4.SS4.p2.2.m2.1.1.2.3.cmml" xref="S4.SS4.p2.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3">𝒢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">G_{i}\in\mathcal{G}</annotation></semantics></math> is the first selected global update to be verified.
In the verification of <math id="S4.SS4.p2.3.m3.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.3.m3.1a"><msub id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mi id="S4.SS4.p2.3.m3.1.1.2" xref="S4.SS4.p2.3.m3.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.3.m3.1.1.3" xref="S4.SS4.p2.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2">𝐺</ci><ci id="S4.SS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">G_{i}</annotation></semantics></math>, the leader first sends a <span id="S4.SS4.p2.14.4" class="ltx_text ltx_font_italic">pre-prepare</span> message with the digital signature of <math id="S4.SS4.p2.4.m4.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.4.m4.1a"><msub id="S4.SS4.p2.4.m4.1.1" xref="S4.SS4.p2.4.m4.1.1.cmml"><mi id="S4.SS4.p2.4.m4.1.1.2" xref="S4.SS4.p2.4.m4.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.4.m4.1.1.3" xref="S4.SS4.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.4.m4.1b"><apply id="S4.SS4.p2.4.m4.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.4.m4.1.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS4.p2.4.m4.1.1.2.cmml" xref="S4.SS4.p2.4.m4.1.1.2">𝐺</ci><ci id="S4.SS4.p2.4.m4.1.1.3.cmml" xref="S4.SS4.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.4.m4.1c">G_{i}</annotation></semantics></math> to the other verifiers.
When a verifier receives the <span id="S4.SS4.p2.14.5" class="ltx_text ltx_font_italic">pre-prepare</span> message, it broadcasts a <span id="S4.SS4.p2.14.6" class="ltx_text ltx_font_italic">prepare</span> message with the digital signature of <math id="S4.SS4.p2.5.m5.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.5.m5.1a"><msub id="S4.SS4.p2.5.m5.1.1" xref="S4.SS4.p2.5.m5.1.1.cmml"><mi id="S4.SS4.p2.5.m5.1.1.2" xref="S4.SS4.p2.5.m5.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.5.m5.1.1.3" xref="S4.SS4.p2.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.5.m5.1b"><apply id="S4.SS4.p2.5.m5.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.5.m5.1.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS4.p2.5.m5.1.1.2.cmml" xref="S4.SS4.p2.5.m5.1.1.2">𝐺</ci><ci id="S4.SS4.p2.5.m5.1.1.3.cmml" xref="S4.SS4.p2.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.5.m5.1c">G_{i}</annotation></semantics></math> to all verifiers.
When a verifier receives more than <math id="S4.SS4.p2.6.m6.1" class="ltx_Math" alttext="\frac{2}{3}|\mathcal{V}|" display="inline"><semantics id="S4.SS4.p2.6.m6.1a"><mrow id="S4.SS4.p2.6.m6.1.2" xref="S4.SS4.p2.6.m6.1.2.cmml"><mfrac id="S4.SS4.p2.6.m6.1.2.2" xref="S4.SS4.p2.6.m6.1.2.2.cmml"><mn id="S4.SS4.p2.6.m6.1.2.2.2" xref="S4.SS4.p2.6.m6.1.2.2.2.cmml">2</mn><mn id="S4.SS4.p2.6.m6.1.2.2.3" xref="S4.SS4.p2.6.m6.1.2.2.3.cmml">3</mn></mfrac><mo lspace="0em" rspace="0em" id="S4.SS4.p2.6.m6.1.2.1" xref="S4.SS4.p2.6.m6.1.2.1.cmml">​</mo><mrow id="S4.SS4.p2.6.m6.1.2.3.2" xref="S4.SS4.p2.6.m6.1.2.3.1.cmml"><mo stretchy="false" id="S4.SS4.p2.6.m6.1.2.3.2.1" xref="S4.SS4.p2.6.m6.1.2.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.6.m6.1.1" xref="S4.SS4.p2.6.m6.1.1.cmml">𝒱</mi><mo stretchy="false" id="S4.SS4.p2.6.m6.1.2.3.2.2" xref="S4.SS4.p2.6.m6.1.2.3.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.6.m6.1b"><apply id="S4.SS4.p2.6.m6.1.2.cmml" xref="S4.SS4.p2.6.m6.1.2"><times id="S4.SS4.p2.6.m6.1.2.1.cmml" xref="S4.SS4.p2.6.m6.1.2.1"></times><apply id="S4.SS4.p2.6.m6.1.2.2.cmml" xref="S4.SS4.p2.6.m6.1.2.2"><divide id="S4.SS4.p2.6.m6.1.2.2.1.cmml" xref="S4.SS4.p2.6.m6.1.2.2"></divide><cn type="integer" id="S4.SS4.p2.6.m6.1.2.2.2.cmml" xref="S4.SS4.p2.6.m6.1.2.2.2">2</cn><cn type="integer" id="S4.SS4.p2.6.m6.1.2.2.3.cmml" xref="S4.SS4.p2.6.m6.1.2.2.3">3</cn></apply><apply id="S4.SS4.p2.6.m6.1.2.3.1.cmml" xref="S4.SS4.p2.6.m6.1.2.3.2"><abs id="S4.SS4.p2.6.m6.1.2.3.1.1.cmml" xref="S4.SS4.p2.6.m6.1.2.3.2.1"></abs><ci id="S4.SS4.p2.6.m6.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1">𝒱</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.6.m6.1c">\frac{2}{3}|\mathcal{V}|</annotation></semantics></math> <span id="S4.SS4.p2.14.7" class="ltx_text ltx_font_italic">prepare</span> messages, it starts the <span id="S4.SS4.p2.14.8" class="ltx_text ltx_font_italic">commit</span> stage.
In <span id="S4.SS4.p2.14.9" class="ltx_text ltx_font_italic">commit</span>, the verifier scores each <math id="S4.SS4.p2.7.m7.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.7.m7.1a"><msub id="S4.SS4.p2.7.m7.1.1" xref="S4.SS4.p2.7.m7.1.1.cmml"><mi id="S4.SS4.p2.7.m7.1.1.2" xref="S4.SS4.p2.7.m7.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.7.m7.1.1.3" xref="S4.SS4.p2.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.7.m7.1b"><apply id="S4.SS4.p2.7.m7.1.1.cmml" xref="S4.SS4.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.7.m7.1.1.1.cmml" xref="S4.SS4.p2.7.m7.1.1">subscript</csymbol><ci id="S4.SS4.p2.7.m7.1.1.2.cmml" xref="S4.SS4.p2.7.m7.1.1.2">𝐺</ci><ci id="S4.SS4.p2.7.m7.1.1.3.cmml" xref="S4.SS4.p2.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.7.m7.1c">G_{i}</annotation></semantics></math> by Krum <cite class="ltx_cite ltx_citemacro_citep">(Blanchard et al<span class="ltx_text">.</span>, <a href="#bib.bib4" title="" class="ltx_ref">2017</a>)</cite>, where a lower score indicates a higher quality.
Let <math id="S4.SS4.p2.8.m8.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S4.SS4.p2.8.m8.1a"><mi id="S4.SS4.p2.8.m8.1.1" xref="S4.SS4.p2.8.m8.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.8.m8.1b"><ci id="S4.SS4.p2.8.m8.1.1.cmml" xref="S4.SS4.p2.8.m8.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.8.m8.1c">f</annotation></semantics></math> be the percentage of malicious participants and <math id="S4.SS4.p2.9.m9.1" class="ltx_Math" alttext="\mathcal{G}_{i}^{c}\subseteq\mathcal{G}" display="inline"><semantics id="S4.SS4.p2.9.m9.1a"><mrow id="S4.SS4.p2.9.m9.1.1" xref="S4.SS4.p2.9.m9.1.1.cmml"><msubsup id="S4.SS4.p2.9.m9.1.1.2" xref="S4.SS4.p2.9.m9.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.9.m9.1.1.2.2.2" xref="S4.SS4.p2.9.m9.1.1.2.2.2.cmml">𝒢</mi><mi id="S4.SS4.p2.9.m9.1.1.2.2.3" xref="S4.SS4.p2.9.m9.1.1.2.2.3.cmml">i</mi><mi id="S4.SS4.p2.9.m9.1.1.2.3" xref="S4.SS4.p2.9.m9.1.1.2.3.cmml">c</mi></msubsup><mo id="S4.SS4.p2.9.m9.1.1.1" xref="S4.SS4.p2.9.m9.1.1.1.cmml">⊆</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.9.m9.1.1.3" xref="S4.SS4.p2.9.m9.1.1.3.cmml">𝒢</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.9.m9.1b"><apply id="S4.SS4.p2.9.m9.1.1.cmml" xref="S4.SS4.p2.9.m9.1.1"><subset id="S4.SS4.p2.9.m9.1.1.1.cmml" xref="S4.SS4.p2.9.m9.1.1.1"></subset><apply id="S4.SS4.p2.9.m9.1.1.2.cmml" xref="S4.SS4.p2.9.m9.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p2.9.m9.1.1.2.1.cmml" xref="S4.SS4.p2.9.m9.1.1.2">superscript</csymbol><apply id="S4.SS4.p2.9.m9.1.1.2.2.cmml" xref="S4.SS4.p2.9.m9.1.1.2"><csymbol cd="ambiguous" id="S4.SS4.p2.9.m9.1.1.2.2.1.cmml" xref="S4.SS4.p2.9.m9.1.1.2">subscript</csymbol><ci id="S4.SS4.p2.9.m9.1.1.2.2.2.cmml" xref="S4.SS4.p2.9.m9.1.1.2.2.2">𝒢</ci><ci id="S4.SS4.p2.9.m9.1.1.2.2.3.cmml" xref="S4.SS4.p2.9.m9.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS4.p2.9.m9.1.1.2.3.cmml" xref="S4.SS4.p2.9.m9.1.1.2.3">𝑐</ci></apply><ci id="S4.SS4.p2.9.m9.1.1.3.cmml" xref="S4.SS4.p2.9.m9.1.1.3">𝒢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.9.m9.1c">\mathcal{G}_{i}^{c}\subseteq\mathcal{G}</annotation></semantics></math> denote the <math id="S4.SS4.p2.10.m10.2" class="ltx_Math" alttext="(1-f)|\mathcal{G}|-2" display="inline"><semantics id="S4.SS4.p2.10.m10.2a"><mrow id="S4.SS4.p2.10.m10.2.2" xref="S4.SS4.p2.10.m10.2.2.cmml"><mrow id="S4.SS4.p2.10.m10.2.2.1" xref="S4.SS4.p2.10.m10.2.2.1.cmml"><mrow id="S4.SS4.p2.10.m10.2.2.1.1.1" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS4.p2.10.m10.2.2.1.1.1.2" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.cmml">(</mo><mrow id="S4.SS4.p2.10.m10.2.2.1.1.1.1" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.cmml"><mn id="S4.SS4.p2.10.m10.2.2.1.1.1.1.2" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.2.cmml">1</mn><mo id="S4.SS4.p2.10.m10.2.2.1.1.1.1.1" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.1.cmml">−</mo><mi id="S4.SS4.p2.10.m10.2.2.1.1.1.1.3" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.3.cmml">f</mi></mrow><mo stretchy="false" id="S4.SS4.p2.10.m10.2.2.1.1.1.3" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S4.SS4.p2.10.m10.2.2.1.2" xref="S4.SS4.p2.10.m10.2.2.1.2.cmml">​</mo><mrow id="S4.SS4.p2.10.m10.2.2.1.3.2" xref="S4.SS4.p2.10.m10.2.2.1.3.1.cmml"><mo stretchy="false" id="S4.SS4.p2.10.m10.2.2.1.3.2.1" xref="S4.SS4.p2.10.m10.2.2.1.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.10.m10.1.1" xref="S4.SS4.p2.10.m10.1.1.cmml">𝒢</mi><mo stretchy="false" id="S4.SS4.p2.10.m10.2.2.1.3.2.2" xref="S4.SS4.p2.10.m10.2.2.1.3.1.1.cmml">|</mo></mrow></mrow><mo id="S4.SS4.p2.10.m10.2.2.2" xref="S4.SS4.p2.10.m10.2.2.2.cmml">−</mo><mn id="S4.SS4.p2.10.m10.2.2.3" xref="S4.SS4.p2.10.m10.2.2.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.10.m10.2b"><apply id="S4.SS4.p2.10.m10.2.2.cmml" xref="S4.SS4.p2.10.m10.2.2"><minus id="S4.SS4.p2.10.m10.2.2.2.cmml" xref="S4.SS4.p2.10.m10.2.2.2"></minus><apply id="S4.SS4.p2.10.m10.2.2.1.cmml" xref="S4.SS4.p2.10.m10.2.2.1"><times id="S4.SS4.p2.10.m10.2.2.1.2.cmml" xref="S4.SS4.p2.10.m10.2.2.1.2"></times><apply id="S4.SS4.p2.10.m10.2.2.1.1.1.1.cmml" xref="S4.SS4.p2.10.m10.2.2.1.1.1"><minus id="S4.SS4.p2.10.m10.2.2.1.1.1.1.1.cmml" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.1"></minus><cn type="integer" id="S4.SS4.p2.10.m10.2.2.1.1.1.1.2.cmml" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.2">1</cn><ci id="S4.SS4.p2.10.m10.2.2.1.1.1.1.3.cmml" xref="S4.SS4.p2.10.m10.2.2.1.1.1.1.3">𝑓</ci></apply><apply id="S4.SS4.p2.10.m10.2.2.1.3.1.cmml" xref="S4.SS4.p2.10.m10.2.2.1.3.2"><abs id="S4.SS4.p2.10.m10.2.2.1.3.1.1.cmml" xref="S4.SS4.p2.10.m10.2.2.1.3.2.1"></abs><ci id="S4.SS4.p2.10.m10.1.1.cmml" xref="S4.SS4.p2.10.m10.1.1">𝒢</ci></apply></apply><cn type="integer" id="S4.SS4.p2.10.m10.2.2.3.cmml" xref="S4.SS4.p2.10.m10.2.2.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.10.m10.2c">(1-f)|\mathcal{G}|-2</annotation></semantics></math> global updates closest to <math id="S4.SS4.p2.11.m11.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.11.m11.1a"><msub id="S4.SS4.p2.11.m11.1.1" xref="S4.SS4.p2.11.m11.1.1.cmml"><mi id="S4.SS4.p2.11.m11.1.1.2" xref="S4.SS4.p2.11.m11.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.11.m11.1.1.3" xref="S4.SS4.p2.11.m11.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.11.m11.1b"><apply id="S4.SS4.p2.11.m11.1.1.cmml" xref="S4.SS4.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.11.m11.1.1.1.cmml" xref="S4.SS4.p2.11.m11.1.1">subscript</csymbol><ci id="S4.SS4.p2.11.m11.1.1.2.cmml" xref="S4.SS4.p2.11.m11.1.1.2">𝐺</ci><ci id="S4.SS4.p2.11.m11.1.1.3.cmml" xref="S4.SS4.p2.11.m11.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.11.m11.1c">G_{i}</annotation></semantics></math>, Krum scores <math id="S4.SS4.p2.12.m12.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.12.m12.1a"><msub id="S4.SS4.p2.12.m12.1.1" xref="S4.SS4.p2.12.m12.1.1.cmml"><mi id="S4.SS4.p2.12.m12.1.1.2" xref="S4.SS4.p2.12.m12.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.12.m12.1.1.3" xref="S4.SS4.p2.12.m12.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.12.m12.1b"><apply id="S4.SS4.p2.12.m12.1.1.cmml" xref="S4.SS4.p2.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.12.m12.1.1.1.cmml" xref="S4.SS4.p2.12.m12.1.1">subscript</csymbol><ci id="S4.SS4.p2.12.m12.1.1.2.cmml" xref="S4.SS4.p2.12.m12.1.1.2">𝐺</ci><ci id="S4.SS4.p2.12.m12.1.1.3.cmml" xref="S4.SS4.p2.12.m12.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.12.m12.1c">G_{i}</annotation></semantics></math> by calculating the distance of <math id="S4.SS4.p2.13.m13.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.13.m13.1a"><msub id="S4.SS4.p2.13.m13.1.1" xref="S4.SS4.p2.13.m13.1.1.cmml"><mi id="S4.SS4.p2.13.m13.1.1.2" xref="S4.SS4.p2.13.m13.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.13.m13.1.1.3" xref="S4.SS4.p2.13.m13.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.13.m13.1b"><apply id="S4.SS4.p2.13.m13.1.1.cmml" xref="S4.SS4.p2.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.13.m13.1.1.1.cmml" xref="S4.SS4.p2.13.m13.1.1">subscript</csymbol><ci id="S4.SS4.p2.13.m13.1.1.2.cmml" xref="S4.SS4.p2.13.m13.1.1.2">𝐺</ci><ci id="S4.SS4.p2.13.m13.1.1.3.cmml" xref="S4.SS4.p2.13.m13.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.13.m13.1c">G_{i}</annotation></semantics></math> to global updates in <math id="S4.SS4.p2.14.m14.1" class="ltx_Math" alttext="\mathcal{G}_{i}^{c}" display="inline"><semantics id="S4.SS4.p2.14.m14.1a"><msubsup id="S4.SS4.p2.14.m14.1.1" xref="S4.SS4.p2.14.m14.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.14.m14.1.1.2.2" xref="S4.SS4.p2.14.m14.1.1.2.2.cmml">𝒢</mi><mi id="S4.SS4.p2.14.m14.1.1.2.3" xref="S4.SS4.p2.14.m14.1.1.2.3.cmml">i</mi><mi id="S4.SS4.p2.14.m14.1.1.3" xref="S4.SS4.p2.14.m14.1.1.3.cmml">c</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.14.m14.1b"><apply id="S4.SS4.p2.14.m14.1.1.cmml" xref="S4.SS4.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.14.m14.1.1.1.cmml" xref="S4.SS4.p2.14.m14.1.1">superscript</csymbol><apply id="S4.SS4.p2.14.m14.1.1.2.cmml" xref="S4.SS4.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.14.m14.1.1.2.1.cmml" xref="S4.SS4.p2.14.m14.1.1">subscript</csymbol><ci id="S4.SS4.p2.14.m14.1.1.2.2.cmml" xref="S4.SS4.p2.14.m14.1.1.2.2">𝒢</ci><ci id="S4.SS4.p2.14.m14.1.1.2.3.cmml" xref="S4.SS4.p2.14.m14.1.1.2.3">𝑖</ci></apply><ci id="S4.SS4.p2.14.m14.1.1.3.cmml" xref="S4.SS4.p2.14.m14.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.14.m14.1c">\mathcal{G}_{i}^{c}</annotation></semantics></math>, as:</p>
<table id="S4.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E5.m1.4" class="ltx_Math" alttext="\operatorname{Krum}(G_{i},\mathcal{G})=\sum_{G_{j}\in\mathcal{G}_{i}^{c}}\left\|G_{i}-G_{j}\right\|^{2}" display="block"><semantics id="S4.E5.m1.4a"><mrow id="S4.E5.m1.4.4" xref="S4.E5.m1.4.4.cmml"><mrow id="S4.E5.m1.3.3.1.1" xref="S4.E5.m1.3.3.1.2.cmml"><mi id="S4.E5.m1.1.1" xref="S4.E5.m1.1.1.cmml">Krum</mi><mo id="S4.E5.m1.3.3.1.1a" xref="S4.E5.m1.3.3.1.2.cmml">⁡</mo><mrow id="S4.E5.m1.3.3.1.1.1" xref="S4.E5.m1.3.3.1.2.cmml"><mo stretchy="false" id="S4.E5.m1.3.3.1.1.1.2" xref="S4.E5.m1.3.3.1.2.cmml">(</mo><msub id="S4.E5.m1.3.3.1.1.1.1" xref="S4.E5.m1.3.3.1.1.1.1.cmml"><mi id="S4.E5.m1.3.3.1.1.1.1.2" xref="S4.E5.m1.3.3.1.1.1.1.2.cmml">G</mi><mi id="S4.E5.m1.3.3.1.1.1.1.3" xref="S4.E5.m1.3.3.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E5.m1.3.3.1.1.1.3" xref="S4.E5.m1.3.3.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.2.2" xref="S4.E5.m1.2.2.cmml">𝒢</mi><mo stretchy="false" id="S4.E5.m1.3.3.1.1.1.4" xref="S4.E5.m1.3.3.1.2.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S4.E5.m1.4.4.3" xref="S4.E5.m1.4.4.3.cmml">=</mo><mrow id="S4.E5.m1.4.4.2" xref="S4.E5.m1.4.4.2.cmml"><munder id="S4.E5.m1.4.4.2.2" xref="S4.E5.m1.4.4.2.2.cmml"><mo movablelimits="false" rspace="0em" id="S4.E5.m1.4.4.2.2.2" xref="S4.E5.m1.4.4.2.2.2.cmml">∑</mo><mrow id="S4.E5.m1.4.4.2.2.3" xref="S4.E5.m1.4.4.2.2.3.cmml"><msub id="S4.E5.m1.4.4.2.2.3.2" xref="S4.E5.m1.4.4.2.2.3.2.cmml"><mi id="S4.E5.m1.4.4.2.2.3.2.2" xref="S4.E5.m1.4.4.2.2.3.2.2.cmml">G</mi><mi id="S4.E5.m1.4.4.2.2.3.2.3" xref="S4.E5.m1.4.4.2.2.3.2.3.cmml">j</mi></msub><mo id="S4.E5.m1.4.4.2.2.3.1" xref="S4.E5.m1.4.4.2.2.3.1.cmml">∈</mo><msubsup id="S4.E5.m1.4.4.2.2.3.3" xref="S4.E5.m1.4.4.2.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.4.4.2.2.3.3.2.2" xref="S4.E5.m1.4.4.2.2.3.3.2.2.cmml">𝒢</mi><mi id="S4.E5.m1.4.4.2.2.3.3.2.3" xref="S4.E5.m1.4.4.2.2.3.3.2.3.cmml">i</mi><mi id="S4.E5.m1.4.4.2.2.3.3.3" xref="S4.E5.m1.4.4.2.2.3.3.3.cmml">c</mi></msubsup></mrow></munder><msup id="S4.E5.m1.4.4.2.1" xref="S4.E5.m1.4.4.2.1.cmml"><mrow id="S4.E5.m1.4.4.2.1.1.1" xref="S4.E5.m1.4.4.2.1.1.2.cmml"><mo id="S4.E5.m1.4.4.2.1.1.1.2" xref="S4.E5.m1.4.4.2.1.1.2.1.cmml">‖</mo><mrow id="S4.E5.m1.4.4.2.1.1.1.1" xref="S4.E5.m1.4.4.2.1.1.1.1.cmml"><msub id="S4.E5.m1.4.4.2.1.1.1.1.2" xref="S4.E5.m1.4.4.2.1.1.1.1.2.cmml"><mi id="S4.E5.m1.4.4.2.1.1.1.1.2.2" xref="S4.E5.m1.4.4.2.1.1.1.1.2.2.cmml">G</mi><mi id="S4.E5.m1.4.4.2.1.1.1.1.2.3" xref="S4.E5.m1.4.4.2.1.1.1.1.2.3.cmml">i</mi></msub><mo id="S4.E5.m1.4.4.2.1.1.1.1.1" xref="S4.E5.m1.4.4.2.1.1.1.1.1.cmml">−</mo><msub id="S4.E5.m1.4.4.2.1.1.1.1.3" xref="S4.E5.m1.4.4.2.1.1.1.1.3.cmml"><mi id="S4.E5.m1.4.4.2.1.1.1.1.3.2" xref="S4.E5.m1.4.4.2.1.1.1.1.3.2.cmml">G</mi><mi id="S4.E5.m1.4.4.2.1.1.1.1.3.3" xref="S4.E5.m1.4.4.2.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo id="S4.E5.m1.4.4.2.1.1.1.3" xref="S4.E5.m1.4.4.2.1.1.2.1.cmml">‖</mo></mrow><mn id="S4.E5.m1.4.4.2.1.3" xref="S4.E5.m1.4.4.2.1.3.cmml">2</mn></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E5.m1.4b"><apply id="S4.E5.m1.4.4.cmml" xref="S4.E5.m1.4.4"><eq id="S4.E5.m1.4.4.3.cmml" xref="S4.E5.m1.4.4.3"></eq><apply id="S4.E5.m1.3.3.1.2.cmml" xref="S4.E5.m1.3.3.1.1"><ci id="S4.E5.m1.1.1.cmml" xref="S4.E5.m1.1.1">Krum</ci><apply id="S4.E5.m1.3.3.1.1.1.1.cmml" xref="S4.E5.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S4.E5.m1.3.3.1.1.1.1.1.cmml" xref="S4.E5.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S4.E5.m1.3.3.1.1.1.1.2.cmml" xref="S4.E5.m1.3.3.1.1.1.1.2">𝐺</ci><ci id="S4.E5.m1.3.3.1.1.1.1.3.cmml" xref="S4.E5.m1.3.3.1.1.1.1.3">𝑖</ci></apply><ci id="S4.E5.m1.2.2.cmml" xref="S4.E5.m1.2.2">𝒢</ci></apply><apply id="S4.E5.m1.4.4.2.cmml" xref="S4.E5.m1.4.4.2"><apply id="S4.E5.m1.4.4.2.2.cmml" xref="S4.E5.m1.4.4.2.2"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.2.2.1.cmml" xref="S4.E5.m1.4.4.2.2">subscript</csymbol><sum id="S4.E5.m1.4.4.2.2.2.cmml" xref="S4.E5.m1.4.4.2.2.2"></sum><apply id="S4.E5.m1.4.4.2.2.3.cmml" xref="S4.E5.m1.4.4.2.2.3"><in id="S4.E5.m1.4.4.2.2.3.1.cmml" xref="S4.E5.m1.4.4.2.2.3.1"></in><apply id="S4.E5.m1.4.4.2.2.3.2.cmml" xref="S4.E5.m1.4.4.2.2.3.2"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.2.2.3.2.1.cmml" xref="S4.E5.m1.4.4.2.2.3.2">subscript</csymbol><ci id="S4.E5.m1.4.4.2.2.3.2.2.cmml" xref="S4.E5.m1.4.4.2.2.3.2.2">𝐺</ci><ci id="S4.E5.m1.4.4.2.2.3.2.3.cmml" xref="S4.E5.m1.4.4.2.2.3.2.3">𝑗</ci></apply><apply id="S4.E5.m1.4.4.2.2.3.3.cmml" xref="S4.E5.m1.4.4.2.2.3.3"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.2.2.3.3.1.cmml" xref="S4.E5.m1.4.4.2.2.3.3">superscript</csymbol><apply id="S4.E5.m1.4.4.2.2.3.3.2.cmml" xref="S4.E5.m1.4.4.2.2.3.3"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.2.2.3.3.2.1.cmml" xref="S4.E5.m1.4.4.2.2.3.3">subscript</csymbol><ci id="S4.E5.m1.4.4.2.2.3.3.2.2.cmml" xref="S4.E5.m1.4.4.2.2.3.3.2.2">𝒢</ci><ci id="S4.E5.m1.4.4.2.2.3.3.2.3.cmml" xref="S4.E5.m1.4.4.2.2.3.3.2.3">𝑖</ci></apply><ci id="S4.E5.m1.4.4.2.2.3.3.3.cmml" xref="S4.E5.m1.4.4.2.2.3.3.3">𝑐</ci></apply></apply></apply><apply id="S4.E5.m1.4.4.2.1.cmml" xref="S4.E5.m1.4.4.2.1"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.2.1.2.cmml" xref="S4.E5.m1.4.4.2.1">superscript</csymbol><apply id="S4.E5.m1.4.4.2.1.1.2.cmml" xref="S4.E5.m1.4.4.2.1.1.1"><csymbol cd="latexml" id="S4.E5.m1.4.4.2.1.1.2.1.cmml" xref="S4.E5.m1.4.4.2.1.1.1.2">norm</csymbol><apply id="S4.E5.m1.4.4.2.1.1.1.1.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1"><minus id="S4.E5.m1.4.4.2.1.1.1.1.1.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.1"></minus><apply id="S4.E5.m1.4.4.2.1.1.1.1.2.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.2.1.1.1.1.2.1.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.2">subscript</csymbol><ci id="S4.E5.m1.4.4.2.1.1.1.1.2.2.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.2.2">𝐺</ci><ci id="S4.E5.m1.4.4.2.1.1.1.1.2.3.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.2.3">𝑖</ci></apply><apply id="S4.E5.m1.4.4.2.1.1.1.1.3.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.2.1.1.1.1.3.1.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.3">subscript</csymbol><ci id="S4.E5.m1.4.4.2.1.1.1.1.3.2.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.3.2">𝐺</ci><ci id="S4.E5.m1.4.4.2.1.1.1.1.3.3.cmml" xref="S4.E5.m1.4.4.2.1.1.1.1.3.3">𝑗</ci></apply></apply></apply><cn type="integer" id="S4.E5.m1.4.4.2.1.3.cmml" xref="S4.E5.m1.4.4.2.1.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.4c">\operatorname{Krum}(G_{i},\mathcal{G})=\sum_{G_{j}\in\mathcal{G}_{i}^{c}}\left\|G_{i}-G_{j}\right\|^{2}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS4.p2.18" class="ltx_p">The score of the other global updates in <math id="S4.SS4.p2.15.m1.1" class="ltx_Math" alttext="\mathcal{G}" display="inline"><semantics id="S4.SS4.p2.15.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.15.m1.1.1" xref="S4.SS4.p2.15.m1.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.15.m1.1b"><ci id="S4.SS4.p2.15.m1.1.1.cmml" xref="S4.SS4.p2.15.m1.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.15.m1.1c">\mathcal{G}</annotation></semantics></math> is calculated as in step 4-1 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.
Then each verifier sends a signed <span id="S4.SS4.p2.18.1" class="ltx_text ltx_font_italic">commit</span> message to the leader containing the vote to <math id="S4.SS4.p2.16.m2.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.16.m2.1a"><msub id="S4.SS4.p2.16.m2.1.1" xref="S4.SS4.p2.16.m2.1.1.cmml"><mi id="S4.SS4.p2.16.m2.1.1.2" xref="S4.SS4.p2.16.m2.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.16.m2.1.1.3" xref="S4.SS4.p2.16.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.16.m2.1b"><apply id="S4.SS4.p2.16.m2.1.1.cmml" xref="S4.SS4.p2.16.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.16.m2.1.1.1.cmml" xref="S4.SS4.p2.16.m2.1.1">subscript</csymbol><ci id="S4.SS4.p2.16.m2.1.1.2.cmml" xref="S4.SS4.p2.16.m2.1.1.2">𝐺</ci><ci id="S4.SS4.p2.16.m2.1.1.3.cmml" xref="S4.SS4.p2.16.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.16.m2.1c">G_{i}</annotation></semantics></math>.
Only the score of <math id="S4.SS4.p2.17.m3.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.17.m3.1a"><msub id="S4.SS4.p2.17.m3.1.1" xref="S4.SS4.p2.17.m3.1.1.cmml"><mi id="S4.SS4.p2.17.m3.1.1.2" xref="S4.SS4.p2.17.m3.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.17.m3.1.1.3" xref="S4.SS4.p2.17.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.17.m3.1b"><apply id="S4.SS4.p2.17.m3.1.1.cmml" xref="S4.SS4.p2.17.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.17.m3.1.1.1.cmml" xref="S4.SS4.p2.17.m3.1.1">subscript</csymbol><ci id="S4.SS4.p2.17.m3.1.1.2.cmml" xref="S4.SS4.p2.17.m3.1.1.2">𝐺</ci><ci id="S4.SS4.p2.17.m3.1.1.3.cmml" xref="S4.SS4.p2.17.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.17.m3.1c">G_{i}</annotation></semantics></math> surpasses that of 2/3 global updates can <math id="S4.SS4.p2.18.m4.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p2.18.m4.1a"><msub id="S4.SS4.p2.18.m4.1.1" xref="S4.SS4.p2.18.m4.1.1.cmml"><mi id="S4.SS4.p2.18.m4.1.1.2" xref="S4.SS4.p2.18.m4.1.1.2.cmml">G</mi><mi id="S4.SS4.p2.18.m4.1.1.3" xref="S4.SS4.p2.18.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.18.m4.1b"><apply id="S4.SS4.p2.18.m4.1.1.cmml" xref="S4.SS4.p2.18.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.18.m4.1.1.1.cmml" xref="S4.SS4.p2.18.m4.1.1">subscript</csymbol><ci id="S4.SS4.p2.18.m4.1.1.2.cmml" xref="S4.SS4.p2.18.m4.1.1.2">𝐺</ci><ci id="S4.SS4.p2.18.m4.1.1.3.cmml" xref="S4.SS4.p2.18.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.18.m4.1c">G_{i}</annotation></semantics></math> be voted affirmatively, as:</p>
<table id="S4.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E6.m1.4" class="ltx_Math" alttext="\begin{cases}1&amp;\text{ if }\sum_{G_{j}\in\mathcal{G}\setminus G_{i}}\mathbb{I}_{\operatorname{Krum}(G_{i},\mathcal{G})&lt;\operatorname{Krum}(G_{j},\mathcal{G})}\geq\frac{2}{3}|\mathcal{G}|\\
0&amp;\text{ else }\end{cases}" display="block"><semantics id="S4.E6.m1.4a"><mrow id="S4.E6.m1.4.4" xref="S4.E6.m1.4.5.1.cmml"><mo id="S4.E6.m1.4.4.5" xref="S4.E6.m1.4.5.1.1.cmml">{</mo><mtable columnspacing="5pt" displaystyle="true" rowspacing="0pt" id="S4.E6.m1.4.4.4" xref="S4.E6.m1.4.5.1.cmml"><mtr id="S4.E6.m1.4.4.4a" xref="S4.E6.m1.4.5.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S4.E6.m1.4.4.4b" xref="S4.E6.m1.4.5.1.cmml"><mn id="S4.E6.m1.1.1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.1.1.cmml">1</mn></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E6.m1.4.4.4c" xref="S4.E6.m1.4.5.1.cmml"><mrow id="S4.E6.m1.2.2.2.2.2.1" xref="S4.E6.m1.2.2.2.2.2.1.cmml"><mrow id="S4.E6.m1.2.2.2.2.2.1.9" xref="S4.E6.m1.2.2.2.2.2.1.9.cmml"><mtext id="S4.E6.m1.2.2.2.2.2.1.9.2" xref="S4.E6.m1.2.2.2.2.2.1.9.2a.cmml"> if </mtext><mo lspace="0em" rspace="0em" id="S4.E6.m1.2.2.2.2.2.1.9.1" xref="S4.E6.m1.2.2.2.2.2.1.9.1.cmml">​</mo><mrow id="S4.E6.m1.2.2.2.2.2.1.9.3" xref="S4.E6.m1.2.2.2.2.2.1.9.3.cmml"><mstyle displaystyle="false" id="S4.E6.m1.2.2.2.2.2.1.9.3.1" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.cmml"><msub id="S4.E6.m1.2.2.2.2.2.1.9.3.1a" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.cmml"><mo id="S4.E6.m1.2.2.2.2.2.1.9.3.1.2" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.2.cmml">∑</mo><mrow id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.cmml"><msub id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.cmml"><mi id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.2" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.2.cmml">G</mi><mi id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.3" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.3.cmml">j</mi></msub><mo id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.1" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.1.cmml">∈</mo><mrow id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.2" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.2.cmml">𝒢</mi><mo id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.1" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.1.cmml">∖</mo><msub id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.cmml"><mi id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.2" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.2.cmml">G</mi><mi id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.3" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.3.cmml">i</mi></msub></mrow></mrow></msub></mstyle><msub id="S4.E6.m1.2.2.2.2.2.1.9.3.2" xref="S4.E6.m1.2.2.2.2.2.1.9.3.2.cmml"><mi id="S4.E6.m1.2.2.2.2.2.1.9.3.2.2" xref="S4.E6.m1.2.2.2.2.2.1.9.3.2.2.cmml">𝕀</mi><mrow id="S4.E6.m1.2.2.2.2.2.1.6.6" xref="S4.E6.m1.2.2.2.2.2.1.6.6.cmml"><mrow id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.2.cmml"><mi id="S4.E6.m1.2.2.2.2.2.1.1.1.1" xref="S4.E6.m1.2.2.2.2.2.1.1.1.1.cmml">Krum</mi><mo id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1a" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.2.cmml">⁡</mo><mrow id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.2.cmml"><mo stretchy="false" id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.2" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.2.cmml">(</mo><msub id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.cmml"><mi id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.2" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.2.cmml">G</mi><mi id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.3" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.3.cmml">i</mi></msub><mo id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.3" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.2.2.2.2.2.1.2.2.2" xref="S4.E6.m1.2.2.2.2.2.1.2.2.2.cmml">𝒢</mi><mo stretchy="false" id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.4" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.2.cmml">)</mo></mrow></mrow><mo id="S4.E6.m1.2.2.2.2.2.1.6.6.7" xref="S4.E6.m1.2.2.2.2.2.1.6.6.7.cmml">&lt;</mo><mrow id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.2.cmml"><mi id="S4.E6.m1.2.2.2.2.2.1.3.3.3" xref="S4.E6.m1.2.2.2.2.2.1.3.3.3.cmml">Krum</mi><mo id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1a" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.2.cmml">⁡</mo><mrow id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.2.cmml"><mo stretchy="false" id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.2" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.2.cmml">(</mo><msub id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.cmml"><mi id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.2" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.2.cmml">G</mi><mi id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.3" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.3.cmml">j</mi></msub><mo id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.3" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.2.2.2.2.2.1.4.4.4" xref="S4.E6.m1.2.2.2.2.2.1.4.4.4.cmml">𝒢</mi><mo stretchy="false" id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.4" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.2.cmml">)</mo></mrow></mrow></mrow></msub></mrow></mrow><mo id="S4.E6.m1.2.2.2.2.2.1.8" xref="S4.E6.m1.2.2.2.2.2.1.8.cmml">≥</mo><mrow id="S4.E6.m1.2.2.2.2.2.1.10" xref="S4.E6.m1.2.2.2.2.2.1.10.cmml"><mstyle displaystyle="false" id="S4.E6.m1.2.2.2.2.2.1.10.2" xref="S4.E6.m1.2.2.2.2.2.1.10.2.cmml"><mfrac id="S4.E6.m1.2.2.2.2.2.1.10.2a" xref="S4.E6.m1.2.2.2.2.2.1.10.2.cmml"><mn id="S4.E6.m1.2.2.2.2.2.1.10.2.2" xref="S4.E6.m1.2.2.2.2.2.1.10.2.2.cmml">2</mn><mn id="S4.E6.m1.2.2.2.2.2.1.10.2.3" xref="S4.E6.m1.2.2.2.2.2.1.10.2.3.cmml">3</mn></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S4.E6.m1.2.2.2.2.2.1.10.1" xref="S4.E6.m1.2.2.2.2.2.1.10.1.cmml">​</mo><mrow id="S4.E6.m1.2.2.2.2.2.1.10.3.2" xref="S4.E6.m1.2.2.2.2.2.1.10.3.1.cmml"><mo stretchy="false" id="S4.E6.m1.2.2.2.2.2.1.10.3.2.1" xref="S4.E6.m1.2.2.2.2.2.1.10.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.2.2.2.2.2.1.7" xref="S4.E6.m1.2.2.2.2.2.1.7.cmml">𝒢</mi><mo stretchy="false" id="S4.E6.m1.2.2.2.2.2.1.10.3.2.2" xref="S4.E6.m1.2.2.2.2.2.1.10.3.1.1.cmml">|</mo></mrow></mrow></mrow></mtd></mtr><mtr id="S4.E6.m1.4.4.4d" xref="S4.E6.m1.4.5.1.cmml"><mtd class="ltx_align_left" columnalign="left" id="S4.E6.m1.4.4.4e" xref="S4.E6.m1.4.5.1.cmml"><mn id="S4.E6.m1.3.3.3.3.1.1" xref="S4.E6.m1.3.3.3.3.1.1.cmml">0</mn></mtd><mtd class="ltx_align_left" columnalign="left" id="S4.E6.m1.4.4.4f" xref="S4.E6.m1.4.5.1.cmml"><mtext id="S4.E6.m1.4.4.4.4.2.1" xref="S4.E6.m1.4.4.4.4.2.1a.cmml"> else </mtext></mtd></mtr></mtable></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.4b"><apply id="S4.E6.m1.4.5.1.cmml" xref="S4.E6.m1.4.4"><csymbol cd="latexml" id="S4.E6.m1.4.5.1.1.cmml" xref="S4.E6.m1.4.4.5">cases</csymbol><cn type="integer" id="S4.E6.m1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1.1.1">1</cn><apply id="S4.E6.m1.2.2.2.2.2.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1"><geq id="S4.E6.m1.2.2.2.2.2.1.8.cmml" xref="S4.E6.m1.2.2.2.2.2.1.8"></geq><apply id="S4.E6.m1.2.2.2.2.2.1.9.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9"><times id="S4.E6.m1.2.2.2.2.2.1.9.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.1"></times><ci id="S4.E6.m1.2.2.2.2.2.1.9.2a.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.2"><mtext id="S4.E6.m1.2.2.2.2.2.1.9.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.2"> if </mtext></ci><apply id="S4.E6.m1.2.2.2.2.2.1.9.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3"><apply id="S4.E6.m1.2.2.2.2.2.1.9.3.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.2.1.9.3.1.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1">subscript</csymbol><sum id="S4.E6.m1.2.2.2.2.2.1.9.3.1.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.2"></sum><apply id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3"><in id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.1"></in><apply id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2">subscript</csymbol><ci id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.2">𝐺</ci><ci id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.2.3">𝑗</ci></apply><apply id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3"><setdiff id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.1"></setdiff><ci id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.2">𝒢</ci><apply id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3">subscript</csymbol><ci id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.2">𝐺</ci><ci id="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.1.3.3.3.3">𝑖</ci></apply></apply></apply></apply><apply id="S4.E6.m1.2.2.2.2.2.1.9.3.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.2"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.2.1.9.3.2.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.2">subscript</csymbol><ci id="S4.E6.m1.2.2.2.2.2.1.9.3.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.9.3.2.2">𝕀</ci><apply id="S4.E6.m1.2.2.2.2.2.1.6.6.cmml" xref="S4.E6.m1.2.2.2.2.2.1.6.6"><lt id="S4.E6.m1.2.2.2.2.2.1.6.6.7.cmml" xref="S4.E6.m1.2.2.2.2.2.1.6.6.7"></lt><apply id="S4.E6.m1.2.2.2.2.2.1.5.5.5.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.1"><ci id="S4.E6.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.1.1.1">Krum</ci><apply id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1">subscript</csymbol><ci id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.2">𝐺</ci><ci id="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.5.5.5.1.1.1.3">𝑖</ci></apply><ci id="S4.E6.m1.2.2.2.2.2.1.2.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.2.2.2">𝒢</ci></apply><apply id="S4.E6.m1.2.2.2.2.2.1.6.6.6.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.1"><ci id="S4.E6.m1.2.2.2.2.2.1.3.3.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.3.3.3">Krum</ci><apply id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1">subscript</csymbol><ci id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.2">𝐺</ci><ci id="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.6.6.6.1.1.1.3">𝑗</ci></apply><ci id="S4.E6.m1.2.2.2.2.2.1.4.4.4.cmml" xref="S4.E6.m1.2.2.2.2.2.1.4.4.4">𝒢</ci></apply></apply></apply></apply></apply><apply id="S4.E6.m1.2.2.2.2.2.1.10.cmml" xref="S4.E6.m1.2.2.2.2.2.1.10"><times id="S4.E6.m1.2.2.2.2.2.1.10.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.10.1"></times><apply id="S4.E6.m1.2.2.2.2.2.1.10.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.10.2"><divide id="S4.E6.m1.2.2.2.2.2.1.10.2.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.10.2"></divide><cn type="integer" id="S4.E6.m1.2.2.2.2.2.1.10.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2.1.10.2.2">2</cn><cn type="integer" id="S4.E6.m1.2.2.2.2.2.1.10.2.3.cmml" xref="S4.E6.m1.2.2.2.2.2.1.10.2.3">3</cn></apply><apply id="S4.E6.m1.2.2.2.2.2.1.10.3.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.10.3.2"><abs id="S4.E6.m1.2.2.2.2.2.1.10.3.1.1.cmml" xref="S4.E6.m1.2.2.2.2.2.1.10.3.2.1"></abs><ci id="S4.E6.m1.2.2.2.2.2.1.7.cmml" xref="S4.E6.m1.2.2.2.2.2.1.7">𝒢</ci></apply></apply></apply><cn type="integer" id="S4.E6.m1.3.3.3.3.1.1.cmml" xref="S4.E6.m1.3.3.3.3.1.1">0</cn><ci id="S4.E6.m1.4.4.4.4.2.1a.cmml" xref="S4.E6.m1.4.4.4.4.2.1"><mtext id="S4.E6.m1.4.4.4.4.2.1.cmml" xref="S4.E6.m1.4.4.4.4.2.1"> else </mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.4c">\begin{cases}1&amp;\text{ if }\sum_{G_{j}\in\mathcal{G}\setminus G_{i}}\mathbb{I}_{\operatorname{Krum}(G_{i},\mathcal{G})&lt;\operatorname{Krum}(G_{j},\mathcal{G})}\geq\frac{2}{3}|\mathcal{G}|\\
0&amp;\text{ else }\end{cases}</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p id="S4.SS4.p2.23" class="ltx_p">where <math id="S4.SS4.p2.19.m1.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S4.SS4.p2.19.m1.1a"><mn id="S4.SS4.p2.19.m1.1.1" xref="S4.SS4.p2.19.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.19.m1.1b"><cn type="integer" id="S4.SS4.p2.19.m1.1.1.cmml" xref="S4.SS4.p2.19.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.19.m1.1c">1</annotation></semantics></math> and <math id="S4.SS4.p2.20.m2.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S4.SS4.p2.20.m2.1a"><mn id="S4.SS4.p2.20.m2.1.1" xref="S4.SS4.p2.20.m2.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.20.m2.1b"><cn type="integer" id="S4.SS4.p2.20.m2.1.1.cmml" xref="S4.SS4.p2.20.m2.1.1">0</cn></annotation-xml></semantics></math> means the affirmative and negative vote, respectively.
<math id="S4.SS4.p2.21.m3.1" class="ltx_Math" alttext="\mathbb{I}" display="inline"><semantics id="S4.SS4.p2.21.m3.1a"><mi id="S4.SS4.p2.21.m3.1.1" xref="S4.SS4.p2.21.m3.1.1.cmml">𝕀</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.21.m3.1b"><ci id="S4.SS4.p2.21.m3.1.1.cmml" xref="S4.SS4.p2.21.m3.1.1">𝕀</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.21.m3.1c">\mathbb{I}</annotation></semantics></math> is <math id="S4.SS4.p2.22.m4.1" class="ltx_Math" alttext="1" display="inline"><semantics id="S4.SS4.p2.22.m4.1a"><mn id="S4.SS4.p2.22.m4.1.1" xref="S4.SS4.p2.22.m4.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.22.m4.1b"><cn type="integer" id="S4.SS4.p2.22.m4.1.1.cmml" xref="S4.SS4.p2.22.m4.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.22.m4.1c">1</annotation></semantics></math> when the condition is met and otherwise <math id="S4.SS4.p2.23.m5.1" class="ltx_Math" alttext="0" display="inline"><semantics id="S4.SS4.p2.23.m5.1a"><mn id="S4.SS4.p2.23.m5.1.1" xref="S4.SS4.p2.23.m5.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.23.m5.1b"><cn type="integer" id="S4.SS4.p2.23.m5.1.1.cmml" xref="S4.SS4.p2.23.m5.1.1">0</cn></annotation-xml></semantics></math>.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.8" class="ltx_p">If the leader has received more than <math id="S4.SS4.p3.1.m1.1" class="ltx_Math" alttext="\frac{2}{3}|\mathcal{V}|" display="inline"><semantics id="S4.SS4.p3.1.m1.1a"><mrow id="S4.SS4.p3.1.m1.1.2" xref="S4.SS4.p3.1.m1.1.2.cmml"><mfrac id="S4.SS4.p3.1.m1.1.2.2" xref="S4.SS4.p3.1.m1.1.2.2.cmml"><mn id="S4.SS4.p3.1.m1.1.2.2.2" xref="S4.SS4.p3.1.m1.1.2.2.2.cmml">2</mn><mn id="S4.SS4.p3.1.m1.1.2.2.3" xref="S4.SS4.p3.1.m1.1.2.2.3.cmml">3</mn></mfrac><mo lspace="0em" rspace="0em" id="S4.SS4.p3.1.m1.1.2.1" xref="S4.SS4.p3.1.m1.1.2.1.cmml">​</mo><mrow id="S4.SS4.p3.1.m1.1.2.3.2" xref="S4.SS4.p3.1.m1.1.2.3.1.cmml"><mo stretchy="false" id="S4.SS4.p3.1.m1.1.2.3.2.1" xref="S4.SS4.p3.1.m1.1.2.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">𝒱</mi><mo stretchy="false" id="S4.SS4.p3.1.m1.1.2.3.2.2" xref="S4.SS4.p3.1.m1.1.2.3.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.1b"><apply id="S4.SS4.p3.1.m1.1.2.cmml" xref="S4.SS4.p3.1.m1.1.2"><times id="S4.SS4.p3.1.m1.1.2.1.cmml" xref="S4.SS4.p3.1.m1.1.2.1"></times><apply id="S4.SS4.p3.1.m1.1.2.2.cmml" xref="S4.SS4.p3.1.m1.1.2.2"><divide id="S4.SS4.p3.1.m1.1.2.2.1.cmml" xref="S4.SS4.p3.1.m1.1.2.2"></divide><cn type="integer" id="S4.SS4.p3.1.m1.1.2.2.2.cmml" xref="S4.SS4.p3.1.m1.1.2.2.2">2</cn><cn type="integer" id="S4.SS4.p3.1.m1.1.2.2.3.cmml" xref="S4.SS4.p3.1.m1.1.2.2.3">3</cn></apply><apply id="S4.SS4.p3.1.m1.1.2.3.1.cmml" xref="S4.SS4.p3.1.m1.1.2.3.2"><abs id="S4.SS4.p3.1.m1.1.2.3.1.1.cmml" xref="S4.SS4.p3.1.m1.1.2.3.2.1"></abs><ci id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">𝒱</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.1c">\frac{2}{3}|\mathcal{V}|</annotation></semantics></math> <span id="S4.SS4.p3.8.1" class="ltx_text ltx_font_italic">commit</span> messages with the affirmative vote, the verification ends and <math id="S4.SS4.p3.2.m2.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p3.2.m2.1a"><msub id="S4.SS4.p3.2.m2.1.1" xref="S4.SS4.p3.2.m2.1.1.cmml"><mi id="S4.SS4.p3.2.m2.1.1.2" xref="S4.SS4.p3.2.m2.1.1.2.cmml">G</mi><mi id="S4.SS4.p3.2.m2.1.1.3" xref="S4.SS4.p3.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m2.1b"><apply id="S4.SS4.p3.2.m2.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p3.2.m2.1.1.1.cmml" xref="S4.SS4.p3.2.m2.1.1">subscript</csymbol><ci id="S4.SS4.p3.2.m2.1.1.2.cmml" xref="S4.SS4.p3.2.m2.1.1.2">𝐺</ci><ci id="S4.SS4.p3.2.m2.1.1.3.cmml" xref="S4.SS4.p3.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m2.1c">G_{i}</annotation></semantics></math> becomes the approved global update of this communication round (step 4-2 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
Then the leader builds a block containing:
1) the elements of <math id="S4.SS4.p3.3.m3.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p3.3.m3.1a"><msub id="S4.SS4.p3.3.m3.1.1" xref="S4.SS4.p3.3.m3.1.1.cmml"><mi id="S4.SS4.p3.3.m3.1.1.2" xref="S4.SS4.p3.3.m3.1.1.2.cmml">G</mi><mi id="S4.SS4.p3.3.m3.1.1.3" xref="S4.SS4.p3.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.3.m3.1b"><apply id="S4.SS4.p3.3.m3.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p3.3.m3.1.1.1.cmml" xref="S4.SS4.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p3.3.m3.1.1.2.cmml" xref="S4.SS4.p3.3.m3.1.1.2">𝐺</ci><ci id="S4.SS4.p3.3.m3.1.1.3.cmml" xref="S4.SS4.p3.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.3.m3.1c">G_{i}</annotation></semantics></math>,
2) the identity of the aggregator and update providers of <math id="S4.SS4.p3.4.m4.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p3.4.m4.1a"><msub id="S4.SS4.p3.4.m4.1.1" xref="S4.SS4.p3.4.m4.1.1.cmml"><mi id="S4.SS4.p3.4.m4.1.1.2" xref="S4.SS4.p3.4.m4.1.1.2.cmml">G</mi><mi id="S4.SS4.p3.4.m4.1.1.3" xref="S4.SS4.p3.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.4.m4.1b"><apply id="S4.SS4.p3.4.m4.1.1.cmml" xref="S4.SS4.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p3.4.m4.1.1.1.cmml" xref="S4.SS4.p3.4.m4.1.1">subscript</csymbol><ci id="S4.SS4.p3.4.m4.1.1.2.cmml" xref="S4.SS4.p3.4.m4.1.1.2">𝐺</ci><ci id="S4.SS4.p3.4.m4.1.1.3.cmml" xref="S4.SS4.p3.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.4.m4.1c">G_{i}</annotation></semantics></math> and
3) the identity of the verifiers who vote for support.
The block is signed by the leader and broadcasted to all participants (step 4-3 in Fig. <a href="#S2.F1" title="Figure 1 ‣ 2.2. Data Representation Leakage ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).
The participants listed in 2) and 3) are equally awarded with stake.
However, if the number of <span id="S4.SS4.p3.8.2" class="ltx_text ltx_font_italic">commit</span> messages with the negative vote the leader received has exceeded <math id="S4.SS4.p3.5.m5.1" class="ltx_Math" alttext="\frac{1}{3}|\mathcal{V}|" display="inline"><semantics id="S4.SS4.p3.5.m5.1a"><mrow id="S4.SS4.p3.5.m5.1.2" xref="S4.SS4.p3.5.m5.1.2.cmml"><mfrac id="S4.SS4.p3.5.m5.1.2.2" xref="S4.SS4.p3.5.m5.1.2.2.cmml"><mn id="S4.SS4.p3.5.m5.1.2.2.2" xref="S4.SS4.p3.5.m5.1.2.2.2.cmml">1</mn><mn id="S4.SS4.p3.5.m5.1.2.2.3" xref="S4.SS4.p3.5.m5.1.2.2.3.cmml">3</mn></mfrac><mo lspace="0em" rspace="0em" id="S4.SS4.p3.5.m5.1.2.1" xref="S4.SS4.p3.5.m5.1.2.1.cmml">​</mo><mrow id="S4.SS4.p3.5.m5.1.2.3.2" xref="S4.SS4.p3.5.m5.1.2.3.1.cmml"><mo stretchy="false" id="S4.SS4.p3.5.m5.1.2.3.2.1" xref="S4.SS4.p3.5.m5.1.2.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p3.5.m5.1.1" xref="S4.SS4.p3.5.m5.1.1.cmml">𝒱</mi><mo stretchy="false" id="S4.SS4.p3.5.m5.1.2.3.2.2" xref="S4.SS4.p3.5.m5.1.2.3.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.5.m5.1b"><apply id="S4.SS4.p3.5.m5.1.2.cmml" xref="S4.SS4.p3.5.m5.1.2"><times id="S4.SS4.p3.5.m5.1.2.1.cmml" xref="S4.SS4.p3.5.m5.1.2.1"></times><apply id="S4.SS4.p3.5.m5.1.2.2.cmml" xref="S4.SS4.p3.5.m5.1.2.2"><divide id="S4.SS4.p3.5.m5.1.2.2.1.cmml" xref="S4.SS4.p3.5.m5.1.2.2"></divide><cn type="integer" id="S4.SS4.p3.5.m5.1.2.2.2.cmml" xref="S4.SS4.p3.5.m5.1.2.2.2">1</cn><cn type="integer" id="S4.SS4.p3.5.m5.1.2.2.3.cmml" xref="S4.SS4.p3.5.m5.1.2.2.3">3</cn></apply><apply id="S4.SS4.p3.5.m5.1.2.3.1.cmml" xref="S4.SS4.p3.5.m5.1.2.3.2"><abs id="S4.SS4.p3.5.m5.1.2.3.1.1.cmml" xref="S4.SS4.p3.5.m5.1.2.3.2.1"></abs><ci id="S4.SS4.p3.5.m5.1.1.cmml" xref="S4.SS4.p3.5.m5.1.1">𝒱</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.5.m5.1c">\frac{1}{3}|\mathcal{V}|</annotation></semantics></math>, the verification of <math id="S4.SS4.p3.6.m6.1" class="ltx_Math" alttext="G_{i}" display="inline"><semantics id="S4.SS4.p3.6.m6.1a"><msub id="S4.SS4.p3.6.m6.1.1" xref="S4.SS4.p3.6.m6.1.1.cmml"><mi id="S4.SS4.p3.6.m6.1.1.2" xref="S4.SS4.p3.6.m6.1.1.2.cmml">G</mi><mi id="S4.SS4.p3.6.m6.1.1.3" xref="S4.SS4.p3.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.6.m6.1b"><apply id="S4.SS4.p3.6.m6.1.1.cmml" xref="S4.SS4.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS4.p3.6.m6.1.1.1.cmml" xref="S4.SS4.p3.6.m6.1.1">subscript</csymbol><ci id="S4.SS4.p3.6.m6.1.1.2.cmml" xref="S4.SS4.p3.6.m6.1.1.2">𝐺</ci><ci id="S4.SS4.p3.6.m6.1.1.3.cmml" xref="S4.SS4.p3.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.6.m6.1c">G_{i}</annotation></semantics></math> is finished and the leader starts the verification of another global update <math id="S4.SS4.p3.7.m7.1" class="ltx_Math" alttext="G_{j}" display="inline"><semantics id="S4.SS4.p3.7.m7.1a"><msub id="S4.SS4.p3.7.m7.1.1" xref="S4.SS4.p3.7.m7.1.1.cmml"><mi id="S4.SS4.p3.7.m7.1.1.2" xref="S4.SS4.p3.7.m7.1.1.2.cmml">G</mi><mi id="S4.SS4.p3.7.m7.1.1.3" xref="S4.SS4.p3.7.m7.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.7.m7.1b"><apply id="S4.SS4.p3.7.m7.1.1.cmml" xref="S4.SS4.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS4.p3.7.m7.1.1.1.cmml" xref="S4.SS4.p3.7.m7.1.1">subscript</csymbol><ci id="S4.SS4.p3.7.m7.1.1.2.cmml" xref="S4.SS4.p3.7.m7.1.1.2">𝐺</ci><ci id="S4.SS4.p3.7.m7.1.1.3.cmml" xref="S4.SS4.p3.7.m7.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.7.m7.1c">G_{j}</annotation></semantics></math>.
Note that in the verification of the subsequent global updates, the score of them obtained during the verification of the first global update can be directly used.
If all global updates in <math id="S4.SS4.p3.8.m8.1" class="ltx_Math" alttext="\mathcal{G}" display="inline"><semantics id="S4.SS4.p3.8.m8.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p3.8.m8.1.1" xref="S4.SS4.p3.8.m8.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.8.m8.1b"><ci id="S4.SS4.p3.8.m8.1.1.cmml" xref="S4.SS4.p3.8.m8.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.8.m8.1c">\mathcal{G}</annotation></semantics></math> are verified but no one is approved, the leader broadcasts an empty block.
When a participant receives a block, it updates the local model if the block contains an approved global update.
Then, the next communication round starts.</p>
</div>
<div id="S4.SS4.p4" class="ltx_para">
<p id="S4.SS4.p4.1" class="ltx_p">Note that the ability of the leader to behave maliciously is limited, since the leader can broadcast a global update only if the affirmative votes of more than 2/3 verifiers are acquired.
If this condition is not met, it can only choose to verify the next global update or finish the current round of communications.
Thus, if the leader is malicious, what it can do to harm the system is to deny the votes of other verifiers and broadcast an empty block to delay the iteration of FL.</p>
</div>
<div id="S4.SS4.p5" class="ltx_para">
<p id="S4.SS4.p5.4" class="ltx_p">We apply Krum in verification instead of aggregation due to:
1) Its result is consistent on the same updates, facilitating the consensus on the voting result.
2) Its complexity is <math id="S4.SS4.p5.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(n^{2})" display="inline"><semantics id="S4.SS4.p5.1.m1.1a"><mrow id="S4.SS4.p5.1.m1.1.1" xref="S4.SS4.p5.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p5.1.m1.1.1.3" xref="S4.SS4.p5.1.m1.1.1.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="S4.SS4.p5.1.m1.1.1.2" xref="S4.SS4.p5.1.m1.1.1.2.cmml">​</mo><mrow id="S4.SS4.p5.1.m1.1.1.1.1" xref="S4.SS4.p5.1.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS4.p5.1.m1.1.1.1.1.2" xref="S4.SS4.p5.1.m1.1.1.1.1.1.cmml">(</mo><msup id="S4.SS4.p5.1.m1.1.1.1.1.1" xref="S4.SS4.p5.1.m1.1.1.1.1.1.cmml"><mi id="S4.SS4.p5.1.m1.1.1.1.1.1.2" xref="S4.SS4.p5.1.m1.1.1.1.1.1.2.cmml">n</mi><mn id="S4.SS4.p5.1.m1.1.1.1.1.1.3" xref="S4.SS4.p5.1.m1.1.1.1.1.1.3.cmml">2</mn></msup><mo stretchy="false" id="S4.SS4.p5.1.m1.1.1.1.1.3" xref="S4.SS4.p5.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.1.m1.1b"><apply id="S4.SS4.p5.1.m1.1.1.cmml" xref="S4.SS4.p5.1.m1.1.1"><times id="S4.SS4.p5.1.m1.1.1.2.cmml" xref="S4.SS4.p5.1.m1.1.1.2"></times><ci id="S4.SS4.p5.1.m1.1.1.3.cmml" xref="S4.SS4.p5.1.m1.1.1.3">𝒪</ci><apply id="S4.SS4.p5.1.m1.1.1.1.1.1.cmml" xref="S4.SS4.p5.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p5.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS4.p5.1.m1.1.1.1.1">superscript</csymbol><ci id="S4.SS4.p5.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS4.p5.1.m1.1.1.1.1.1.2">𝑛</ci><cn type="integer" id="S4.SS4.p5.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS4.p5.1.m1.1.1.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.1.m1.1c">\mathcal{O}(n^{2})</annotation></semantics></math> with <math id="S4.SS4.p5.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS4.p5.2.m2.1a"><mi id="S4.SS4.p5.2.m2.1.1" xref="S4.SS4.p5.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.2.m2.1b"><ci id="S4.SS4.p5.2.m2.1.1.cmml" xref="S4.SS4.p5.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.2.m2.1c">n</annotation></semantics></math> updates to be scored, and <math id="S4.SS4.p5.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S4.SS4.p5.3.m3.1a"><mi id="S4.SS4.p5.3.m3.1.1" xref="S4.SS4.p5.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.3.m3.1b"><ci id="S4.SS4.p5.3.m3.1.1.cmml" xref="S4.SS4.p5.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.3.m3.1c">n</annotation></semantics></math> is usually larger in aggregation than that in verification of BlockDFL.
Intuitively, Krum is negatively affected by the sparseness of model updates since it calculates distance between them element-wisely.
But we observe that many of the indexes of the <math id="S4.SS4.p5.4.m4.2" class="ltx_Math" alttext="(1-s)|\mathbf{d}_{i}|" display="inline"><semantics id="S4.SS4.p5.4.m4.2a"><mrow id="S4.SS4.p5.4.m4.2.2" xref="S4.SS4.p5.4.m4.2.2.cmml"><mrow id="S4.SS4.p5.4.m4.1.1.1.1" xref="S4.SS4.p5.4.m4.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS4.p5.4.m4.1.1.1.1.2" xref="S4.SS4.p5.4.m4.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS4.p5.4.m4.1.1.1.1.1" xref="S4.SS4.p5.4.m4.1.1.1.1.1.cmml"><mn id="S4.SS4.p5.4.m4.1.1.1.1.1.2" xref="S4.SS4.p5.4.m4.1.1.1.1.1.2.cmml">1</mn><mo id="S4.SS4.p5.4.m4.1.1.1.1.1.1" xref="S4.SS4.p5.4.m4.1.1.1.1.1.1.cmml">−</mo><mi id="S4.SS4.p5.4.m4.1.1.1.1.1.3" xref="S4.SS4.p5.4.m4.1.1.1.1.1.3.cmml">s</mi></mrow><mo stretchy="false" id="S4.SS4.p5.4.m4.1.1.1.1.3" xref="S4.SS4.p5.4.m4.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S4.SS4.p5.4.m4.2.2.3" xref="S4.SS4.p5.4.m4.2.2.3.cmml">​</mo><mrow id="S4.SS4.p5.4.m4.2.2.2.1" xref="S4.SS4.p5.4.m4.2.2.2.2.cmml"><mo stretchy="false" id="S4.SS4.p5.4.m4.2.2.2.1.2" xref="S4.SS4.p5.4.m4.2.2.2.2.1.cmml">|</mo><msub id="S4.SS4.p5.4.m4.2.2.2.1.1" xref="S4.SS4.p5.4.m4.2.2.2.1.1.cmml"><mi id="S4.SS4.p5.4.m4.2.2.2.1.1.2" xref="S4.SS4.p5.4.m4.2.2.2.1.1.2.cmml">𝐝</mi><mi id="S4.SS4.p5.4.m4.2.2.2.1.1.3" xref="S4.SS4.p5.4.m4.2.2.2.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS4.p5.4.m4.2.2.2.1.3" xref="S4.SS4.p5.4.m4.2.2.2.2.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.4.m4.2b"><apply id="S4.SS4.p5.4.m4.2.2.cmml" xref="S4.SS4.p5.4.m4.2.2"><times id="S4.SS4.p5.4.m4.2.2.3.cmml" xref="S4.SS4.p5.4.m4.2.2.3"></times><apply id="S4.SS4.p5.4.m4.1.1.1.1.1.cmml" xref="S4.SS4.p5.4.m4.1.1.1.1"><minus id="S4.SS4.p5.4.m4.1.1.1.1.1.1.cmml" xref="S4.SS4.p5.4.m4.1.1.1.1.1.1"></minus><cn type="integer" id="S4.SS4.p5.4.m4.1.1.1.1.1.2.cmml" xref="S4.SS4.p5.4.m4.1.1.1.1.1.2">1</cn><ci id="S4.SS4.p5.4.m4.1.1.1.1.1.3.cmml" xref="S4.SS4.p5.4.m4.1.1.1.1.1.3">𝑠</ci></apply><apply id="S4.SS4.p5.4.m4.2.2.2.2.cmml" xref="S4.SS4.p5.4.m4.2.2.2.1"><abs id="S4.SS4.p5.4.m4.2.2.2.2.1.cmml" xref="S4.SS4.p5.4.m4.2.2.2.1.2"></abs><apply id="S4.SS4.p5.4.m4.2.2.2.1.1.cmml" xref="S4.SS4.p5.4.m4.2.2.2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p5.4.m4.2.2.2.1.1.1.cmml" xref="S4.SS4.p5.4.m4.2.2.2.1.1">subscript</csymbol><ci id="S4.SS4.p5.4.m4.2.2.2.1.1.2.cmml" xref="S4.SS4.p5.4.m4.2.2.2.1.1.2">𝐝</ci><ci id="S4.SS4.p5.4.m4.2.2.2.1.1.3.cmml" xref="S4.SS4.p5.4.m4.2.2.2.1.1.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.4.m4.2c">(1-s)|\mathbf{d}_{i}|</annotation></semantics></math> elements with the largest absolute value in different updates may overlap, enabling to spatially distinguish the sparsed normal and poisoned updates.
More details are in Section <a href="#A1.SS1" title="A.1. Distance between Sparsed Model Updates ‣ Appendix A Supplementary Experiments ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Evaluations</h2>

<figure id="S5.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1. </span>Default settings of experiments.</figcaption>
<table id="S5.T1.5" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S5.T1.5.6" class="ltx_tr">
<td id="S5.T1.5.6.1" class="ltx_td ltx_align_left ltx_border_tt">Parameter name</td>
<td id="S5.T1.5.6.2" class="ltx_td ltx_align_center ltx_border_tt">Value</td>
</tr>
<tr id="S5.T1.5.7" class="ltx_tr">
<td id="S5.T1.5.7.1" class="ltx_td ltx_align_left ltx_border_t"># of aggregators &amp; verifiers</td>
<td id="S5.T1.5.7.2" class="ltx_td ltx_align_center ltx_border_t">8 &amp; 7</td>
</tr>
<tr id="S5.T1.5.8" class="ltx_tr">
<td id="S5.T1.5.8.1" class="ltx_td ltx_align_left">Initial stake &amp; stake increment</td>
<td id="S5.T1.5.8.2" class="ltx_td ltx_align_center">Uniformly 10 &amp; 5</td>
</tr>
<tr id="S5.T1.1.1" class="ltx_tr">
<td id="S5.T1.1.1.1" class="ltx_td ltx_align_left">
<math id="S5.T1.1.1.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S5.T1.1.1.1.m1.1a"><mi id="S5.T1.1.1.1.m1.1.1" xref="S5.T1.1.1.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S5.T1.1.1.1.m1.1b"><ci id="S5.T1.1.1.1.m1.1.1.cmml" xref="S5.T1.1.1.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.1.1.1.m1.1c">c</annotation></semantics></math> of global updates</td>
<td id="S5.T1.1.1.2" class="ltx_td ltx_align_center">5</td>
</tr>
<tr id="S5.T1.5.9" class="ltx_tr">
<td id="S5.T1.5.9.1" class="ltx_td ltx_align_left"># of epochs in local training</td>
<td id="S5.T1.5.9.2" class="ltx_td ltx_align_center">5</td>
</tr>
<tr id="S5.T1.3.3" class="ltx_tr">
<td id="S5.T1.2.2.1" class="ltx_td ltx_align_left">Sparsity <math id="S5.T1.2.2.1.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S5.T1.2.2.1.m1.1a"><mi id="S5.T1.2.2.1.m1.1.1" xref="S5.T1.2.2.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S5.T1.2.2.1.m1.1b"><ci id="S5.T1.2.2.1.m1.1.1.cmml" xref="S5.T1.2.2.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.2.2.1.m1.1c">s</annotation></semantics></math> in MNIST</td>
<td id="S5.T1.3.3.2" class="ltx_td ltx_align_center">
<span id="S5.T1.3.3.2.2" class="ltx_text"></span> <span id="S5.T1.3.3.2.1" class="ltx_text">
<span id="S5.T1.3.3.2.1.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T1.3.3.2.1.1.1" class="ltx_tr">
<span id="S5.T1.3.3.2.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><math id="S5.T1.3.3.2.1.1.1.1.m1.4" class="ltx_Math" alttext="[90\%,92.5\%,95\%,97.5\%]" display="inline"><semantics id="S5.T1.3.3.2.1.1.1.1.m1.4a"><mrow id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.5.cmml"><mo stretchy="false" id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.5" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.5.cmml">[</mo><mrow id="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1" xref="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.cmml"><mn id="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.2" xref="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.2.cmml">90</mn><mo id="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.1" xref="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.1.cmml">%</mo></mrow><mo id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.6" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.5.cmml">,</mo><mrow id="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2" xref="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.cmml"><mn id="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.2" xref="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.2.cmml">92.5</mn><mo id="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.1" xref="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.1.cmml">%</mo></mrow><mo id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.7" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.5.cmml">,</mo><mrow id="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3" xref="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.cmml"><mn id="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.2" xref="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.2.cmml">95</mn><mo id="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.1" xref="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.1.cmml">%</mo></mrow><mo id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.8" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.5.cmml">,</mo><mrow id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.cmml"><mn id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.2" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.2.cmml">97.5</mn><mo id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.1" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.1.cmml">%</mo></mrow><mo stretchy="false" id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.9" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.5.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T1.3.3.2.1.1.1.1.m1.4b"><list id="S5.T1.3.3.2.1.1.1.1.m1.4.4.5.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.4"><apply id="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1"><csymbol cd="latexml" id="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.1.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.1">percent</csymbol><cn type="integer" id="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.2.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.1.1.1.1.2">90</cn></apply><apply id="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2"><csymbol cd="latexml" id="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.1.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.1">percent</csymbol><cn type="float" id="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.2.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.2.2.2.2.2">92.5</cn></apply><apply id="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3"><csymbol cd="latexml" id="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.1.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.1">percent</csymbol><cn type="integer" id="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.2.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.3.3.3.3.2">95</cn></apply><apply id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4"><csymbol cd="latexml" id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.1.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.1">percent</csymbol><cn type="float" id="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.2.cmml" xref="S5.T1.3.3.2.1.1.1.1.m1.4.4.4.4.2">97.5</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.3.3.2.1.1.1.1.m1.4c">[90\%,92.5\%,95\%,97.5\%]</annotation></semantics></math></span></span>
<span id="S5.T1.3.3.2.1.1.2" class="ltx_tr">
<span id="S5.T1.3.3.2.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">changes every 50 rounds</span></span>
</span></span><span id="S5.T1.3.3.2.3" class="ltx_text"></span></td>
</tr>
<tr id="S5.T1.5.5" class="ltx_tr">
<td id="S5.T1.4.4.1" class="ltx_td ltx_align_left ltx_border_bb">Sparsity <math id="S5.T1.4.4.1.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S5.T1.4.4.1.m1.1a"><mi id="S5.T1.4.4.1.m1.1.1" xref="S5.T1.4.4.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S5.T1.4.4.1.m1.1b"><ci id="S5.T1.4.4.1.m1.1.1.cmml" xref="S5.T1.4.4.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.4.4.1.m1.1c">s</annotation></semantics></math> in CIFAR-10</td>
<td id="S5.T1.5.5.2" class="ltx_td ltx_align_center ltx_border_bb">
<span id="S5.T1.5.5.2.2" class="ltx_text"></span> <span id="S5.T1.5.5.2.1" class="ltx_text">
<span id="S5.T1.5.5.2.1.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T1.5.5.2.1.1.1" class="ltx_tr">
<span id="S5.T1.5.5.2.1.1.1.1" class="ltx_td ltx_nopad_r ltx_align_center"><math id="S5.T1.5.5.2.1.1.1.1.m1.5" class="ltx_Math" alttext="[85\%,87.5\%,90\%,92.5\%,95\%]" display="inline"><semantics id="S5.T1.5.5.2.1.1.1.1.m1.5a"><mrow id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.6.cmml"><mo stretchy="false" id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.6" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.6.cmml">[</mo><mrow id="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1" xref="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.cmml"><mn id="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.2" xref="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.2.cmml">85</mn><mo id="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.1" xref="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.1.cmml">%</mo></mrow><mo id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.7" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.6.cmml">,</mo><mrow id="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2" xref="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.cmml"><mn id="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.2" xref="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.2.cmml">87.5</mn><mo id="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.1" xref="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.1.cmml">%</mo></mrow><mo id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.8" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.6.cmml">,</mo><mrow id="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3" xref="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.cmml"><mn id="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.2" xref="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.2.cmml">90</mn><mo id="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.1" xref="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.1.cmml">%</mo></mrow><mo id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.9" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.6.cmml">,</mo><mrow id="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4" xref="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.cmml"><mn id="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.2" xref="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.2.cmml">92.5</mn><mo id="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.1" xref="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.1.cmml">%</mo></mrow><mo id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.10" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.6.cmml">,</mo><mrow id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.cmml"><mn id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.2" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.2.cmml">95</mn><mo id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.1" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.1.cmml">%</mo></mrow><mo stretchy="false" id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.11" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.6.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.T1.5.5.2.1.1.1.1.m1.5b"><list id="S5.T1.5.5.2.1.1.1.1.m1.5.5.6.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.5"><apply id="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1"><csymbol cd="latexml" id="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.1.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.1">percent</csymbol><cn type="integer" id="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.2.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.1.1.1.1.2">85</cn></apply><apply id="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2"><csymbol cd="latexml" id="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.1.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.1">percent</csymbol><cn type="float" id="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.2.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.2.2.2.2.2">87.5</cn></apply><apply id="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3"><csymbol cd="latexml" id="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.1.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.1">percent</csymbol><cn type="integer" id="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.2.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.3.3.3.3.2">90</cn></apply><apply id="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4"><csymbol cd="latexml" id="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.1.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.1">percent</csymbol><cn type="float" id="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.2.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.4.4.4.4.2">92.5</cn></apply><apply id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5"><csymbol cd="latexml" id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.1.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.1">percent</csymbol><cn type="integer" id="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.2.cmml" xref="S5.T1.5.5.2.1.1.1.1.m1.5.5.5.5.2">95</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.5.5.2.1.1.1.1.m1.5c">[85\%,87.5\%,90\%,92.5\%,95\%]</annotation></semantics></math></span></span>
<span id="S5.T1.5.5.2.1.1.2" class="ltx_tr">
<span id="S5.T1.5.5.2.1.1.2.1" class="ltx_td ltx_nopad_r ltx_align_center">changes every 60 rounds</span></span>
</span></span><span id="S5.T1.5.5.2.3" class="ltx_text"></span></td>
</tr>
</table>
</figure>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Experimental Setup</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">We implement BlockDFL with Python 3.8 and PyTorch 1.10 to evaluate its accuracy, poisoning-tolerance, efficiency and scalability.
The experiments demonstrate: 1) BlockDFL has a comparative accuracy compared with vanilla FL and can effectively resist poisoning attacks, 2) the reason that BlockDFL can resist poisoning attacks and 3) BlockDFL works efficiently and possesses good scalability.</p>
</div>
<section id="S5.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.1. </span>Dataset, Model and Platform</h4>

<div id="S5.SS1.SSS1.p1" class="ltx_para">
<p id="S5.SS1.SSS1.p1.1" class="ltx_p">We select two widely-used real-world datasets, i.e., MNIST <cite class="ltx_cite ltx_citemacro_citep">(Deng, <a href="#bib.bib9" title="" class="ltx_ref">2012</a>)</cite> and CIFAR-10 <cite class="ltx_cite ltx_citemacro_citep">(Krizhevsky
et al<span class="ltx_text">.</span>, <a href="#bib.bib19" title="" class="ltx_ref">2009</a>)</cite> to evaluate BlockDFL.
For MNIST, we build a convolutional neural network with 1,662,752 parameters as in <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2017</a>)</cite>.
For CIFAR-10, we build a CIFARNET with 1,149,770 parameters<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>64C3x2-MaxPool2-Drop0.1-128C3x2-AvgPool2-256C3x2-AvgPool8-Drop0.5-256-10</span></span></span>.
In local training, these models are trained by SGD with learning rate at 0.01, which decays by 0.99 after each round.
The other parameter settings are as listed in Table <a href="#S5.T1" title="Table 1 ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> unless stated otherwise.
As shown in Table <a href="#S5.T1" title="Table 1 ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, all participants start with 10 stake, and if they are awarded with stake, the quantified value of the stake obtained is 5.
The sparsity of local updates is averaged to 93.75% on MNIST and 90% on CIFAR-10.</p>
</div>
<div id="S5.SS1.SSS1.p2" class="ltx_para">
<p id="S5.SS1.SSS1.p2.1" class="ltx_p">We run 50 participants on a Windows10 platform with an AMD Ryzen 5800 3.40GHz CPU, an NVIDIA RTX 3070 GPU.
The training set is randomly distributed to participants (IID setting) or sampled in Dirichlet distribution with <math id="S5.SS1.SSS1.p2.1.m1.1" class="ltx_Math" alttext="\alpha=1.0" display="inline"><semantics id="S5.SS1.SSS1.p2.1.m1.1a"><mrow id="S5.SS1.SSS1.p2.1.m1.1.1" xref="S5.SS1.SSS1.p2.1.m1.1.1.cmml"><mi id="S5.SS1.SSS1.p2.1.m1.1.1.2" xref="S5.SS1.SSS1.p2.1.m1.1.1.2.cmml">α</mi><mo id="S5.SS1.SSS1.p2.1.m1.1.1.1" xref="S5.SS1.SSS1.p2.1.m1.1.1.1.cmml">=</mo><mn id="S5.SS1.SSS1.p2.1.m1.1.1.3" xref="S5.SS1.SSS1.p2.1.m1.1.1.3.cmml">1.0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS1.p2.1.m1.1b"><apply id="S5.SS1.SSS1.p2.1.m1.1.1.cmml" xref="S5.SS1.SSS1.p2.1.m1.1.1"><eq id="S5.SS1.SSS1.p2.1.m1.1.1.1.cmml" xref="S5.SS1.SSS1.p2.1.m1.1.1.1"></eq><ci id="S5.SS1.SSS1.p2.1.m1.1.1.2.cmml" xref="S5.SS1.SSS1.p2.1.m1.1.1.2">𝛼</ci><cn type="float" id="S5.SS1.SSS1.p2.1.m1.1.1.3.cmml" xref="S5.SS1.SSS1.p2.1.m1.1.1.3">1.0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p2.1.m1.1c">\alpha=1.0</annotation></semantics></math> to build practical non-IID subsets distributed to participants as in <cite class="ltx_cite ltx_citemacro_citep">(Qin
et al<span class="ltx_text">.</span>, <a href="#bib.bib26" title="" class="ltx_ref">2023</a>)</cite>.
The test set is used to evaluate global model accuracy.
Each participant randomly selects 20% samples from its training set to score local update (Section <a href="#S4.SS3" title="4.3. Aggregation ‣ 4. Detailed Processes of BlockDFL ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>).</p>
</div>
</section>
<section id="S5.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.1.2. </span>Malicious Participants</h4>

<div id="S5.SS1.SSS2.p1" class="ltx_para">
<p id="S5.SS1.SSS2.p1.1" class="ltx_p">Malicious update providers poison local updates by label-flipping attack as <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>; Liu
et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2021</a>)</cite>.
They label number <span id="S5.SS1.SSS2.p1.1.1" class="ltx_text ltx_font_typewriter">1</span> as <span id="S5.SS1.SSS2.p1.1.2" class="ltx_text ltx_font_typewriter">7</span> in MNIST, and <span id="S5.SS1.SSS2.p1.1.3" class="ltx_text ltx_font_typewriter">cat</span> as <span id="S5.SS1.SSS2.p1.1.4" class="ltx_text ltx_font_typewriter">dog</span> and <span id="S5.SS1.SSS2.p1.1.5" class="ltx_text ltx_font_typewriter">deer</span> as <span id="S5.SS1.SSS2.p1.1.6" class="ltx_text ltx_font_typewriter">horse</span> in CIFAR-10, then perform local training on the poisoned training set.</p>
</div>
<div id="S5.SS1.SSS2.p2" class="ltx_para">
<p id="S5.SS1.SSS2.p2.2" class="ltx_p">To better evaluate the robustness of BlockDFL, we introduce more challenges by further granting other roles the ability to facilitate poisoning attacks instead of only update provider as <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>.
For example, a malicious aggregator aggregates <math id="S5.SS1.SSS2.p2.1.m1.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S5.SS1.SSS2.p2.1.m1.1a"><mi id="S5.SS1.SSS2.p2.1.m1.1.1" xref="S5.SS1.SSS2.p2.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p2.1.m1.1b"><ci id="S5.SS1.SSS2.p2.1.m1.1.1.cmml" xref="S5.SS1.SSS2.p2.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p2.1.m1.1c">c</annotation></semantics></math> of the received local updates with the lowest accuracy.
The <math id="S5.SS1.SSS2.p2.2.m2.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S5.SS1.SSS2.p2.2.m2.1a"><mi id="S5.SS1.SSS2.p2.2.m2.1.1" xref="S5.SS1.SSS2.p2.2.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS2.p2.2.m2.1b"><ci id="S5.SS1.SSS2.p2.2.m2.1.1.cmml" xref="S5.SS1.SSS2.p2.2.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p2.2.m2.1c">c</annotation></semantics></math> local updates from the update providers with the lowest stake are not directly selected because such behavior can be easily detected, thus exposing the malicious participants.
A malicious verifier will vote contrarily to an honest one, aiming at a wrong consensus result.</p>
</div>
<figure id="S5.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F2.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x2.png" id="S5.F2.sf1.g1" class="ltx_graphics ltx_img_landscape" width="106" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F2.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S5.F2.sf1.3.2" class="ltx_text" style="font-size:80%;">MNIST (IID)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F2.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x3.png" id="S5.F2.sf2.g1" class="ltx_graphics ltx_img_landscape" width="106" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F2.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S5.F2.sf2.3.2" class="ltx_text" style="font-size:80%;">MNIST (non-IID)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F2.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x4.png" id="S5.F2.sf3.g1" class="ltx_graphics ltx_img_landscape" width="106" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F2.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S5.F2.sf3.3.2" class="ltx_text" style="font-size:80%;">CIFAR-10 (IID)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F2.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x5.png" id="S5.F2.sf4.g1" class="ltx_graphics ltx_img_landscape" width="106" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F2.sf4.2.1.1" class="ltx_text" style="font-size:80%;">(d)</span> </span><span id="S5.F2.sf4.3.2" class="ltx_text" style="font-size:80%;">CIFAR-10 (non-IID)</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Average test accuracy and the corresponding standard deviation of approaches in the last 20% rounds.
</figcaption>
</figure>
<figure id="S5.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x6.png" id="S5.F3.sf1.g1" class="ltx_graphics ltx_img_landscape" width="106" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F3.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S5.F3.sf1.3.2" class="ltx_text" style="font-size:80%;">MNIST (IID)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x7.png" id="S5.F3.sf2.g1" class="ltx_graphics ltx_img_landscape" width="106" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F3.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S5.F3.sf2.3.2" class="ltx_text" style="font-size:80%;">MNIST (non-IID)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F3.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x8.png" id="S5.F3.sf3.g1" class="ltx_graphics ltx_img_landscape" width="106" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F3.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S5.F3.sf3.3.2" class="ltx_text" style="font-size:80%;">CIFAR-10 (IID)</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S5.F3.sf4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x9.png" id="S5.F3.sf4.g1" class="ltx_graphics ltx_img_landscape" width="106" height="71" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F3.sf4.2.1.1" class="ltx_text" style="font-size:80%;">(d)</span> </span><span id="S5.F3.sf4.3.2" class="ltx_text" style="font-size:80%;">CIFAR-10 (non-IID)</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3. </span>Successful attack ratio in approaches with different percentage of malicious participants.</figcaption>
</figure>
</section>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2. </span>Accuracy and Poisoning Tolerance</h3>

<section id="S5.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.2.1. </span>Evaluation</h4>

<div id="S5.SS2.SSS1.p1" class="ltx_para">
<p id="S5.SS2.SSS1.p1.1" class="ltx_p">We evaluate the accuracy of BlockDFL by comparing it with the vanilla FL <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al<span class="ltx_text">.</span>, <a href="#bib.bib25" title="" class="ltx_ref">2017</a>)</cite> (relies on a trusted centralized server) and Biscotti <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite> without DP and with the power of DP set to the lowest value as in <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>.
The reason for implementing Biscotti is that it bears similarities to our work, and from our investigation in Section <a href="#S5.SS4" title="5.4. Multi-dimensional Qualitative Comparisons ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.4</span></a>, it is a decentralized P2P FL frameworks based on blockchain that exhibits robust resistance against poisoning attacks and has gained widespread recognition in recent years.
Comparisons with more existing frameworks are presented in Section <a href="#S5.SS4" title="5.4. Multi-dimensional Qualitative Comparisons ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.4</span></a>.
Model updates in vanilla FL and Biscotti are transmitted without sparsification.
The relevant FL settings of Biscotti are the same as those of BlockDFL.
Note that the goal of BlockDFL is not to surpass vanilla FL in accuracy, but to obtain the accuracy as close as possible to vanilla FL in a fully decentralized system, while preventing the FL system from being jeopardized by malicious participants.</p>
</div>
<div id="S5.SS2.SSS1.p2" class="ltx_para">
<p id="S5.SS2.SSS1.p2.1" class="ltx_p">We iterate BlockDFL, vanilla FL and Biscotti for 200 rounds of communication on MNIST and 300 rounds on CIFAR-10 and subject both of them to poisoning attacks with the proportions of malicious participants ranged in <math id="S5.SS2.SSS1.p2.1.m1.2" class="ltx_Math" alttext="\left[0\%,60\%\right]" display="inline"><semantics id="S5.SS2.SSS1.p2.1.m1.2a"><mrow id="S5.SS2.SSS1.p2.1.m1.2.2.2" xref="S5.SS2.SSS1.p2.1.m1.2.2.3.cmml"><mo id="S5.SS2.SSS1.p2.1.m1.2.2.2.3" xref="S5.SS2.SSS1.p2.1.m1.2.2.3.cmml">[</mo><mrow id="S5.SS2.SSS1.p2.1.m1.1.1.1.1" xref="S5.SS2.SSS1.p2.1.m1.1.1.1.1.cmml"><mn id="S5.SS2.SSS1.p2.1.m1.1.1.1.1.2" xref="S5.SS2.SSS1.p2.1.m1.1.1.1.1.2.cmml">0</mn><mo id="S5.SS2.SSS1.p2.1.m1.1.1.1.1.1" xref="S5.SS2.SSS1.p2.1.m1.1.1.1.1.1.cmml">%</mo></mrow><mo id="S5.SS2.SSS1.p2.1.m1.2.2.2.4" xref="S5.SS2.SSS1.p2.1.m1.2.2.3.cmml">,</mo><mrow id="S5.SS2.SSS1.p2.1.m1.2.2.2.2" xref="S5.SS2.SSS1.p2.1.m1.2.2.2.2.cmml"><mn id="S5.SS2.SSS1.p2.1.m1.2.2.2.2.2" xref="S5.SS2.SSS1.p2.1.m1.2.2.2.2.2.cmml">60</mn><mo id="S5.SS2.SSS1.p2.1.m1.2.2.2.2.1" xref="S5.SS2.SSS1.p2.1.m1.2.2.2.2.1.cmml">%</mo></mrow><mo id="S5.SS2.SSS1.p2.1.m1.2.2.2.5" xref="S5.SS2.SSS1.p2.1.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS1.p2.1.m1.2b"><interval closure="closed" id="S5.SS2.SSS1.p2.1.m1.2.2.3.cmml" xref="S5.SS2.SSS1.p2.1.m1.2.2.2"><apply id="S5.SS2.SSS1.p2.1.m1.1.1.1.1.cmml" xref="S5.SS2.SSS1.p2.1.m1.1.1.1.1"><csymbol cd="latexml" id="S5.SS2.SSS1.p2.1.m1.1.1.1.1.1.cmml" xref="S5.SS2.SSS1.p2.1.m1.1.1.1.1.1">percent</csymbol><cn type="integer" id="S5.SS2.SSS1.p2.1.m1.1.1.1.1.2.cmml" xref="S5.SS2.SSS1.p2.1.m1.1.1.1.1.2">0</cn></apply><apply id="S5.SS2.SSS1.p2.1.m1.2.2.2.2.cmml" xref="S5.SS2.SSS1.p2.1.m1.2.2.2.2"><csymbol cd="latexml" id="S5.SS2.SSS1.p2.1.m1.2.2.2.2.1.cmml" xref="S5.SS2.SSS1.p2.1.m1.2.2.2.2.1">percent</csymbol><cn type="integer" id="S5.SS2.SSS1.p2.1.m1.2.2.2.2.2.cmml" xref="S5.SS2.SSS1.p2.1.m1.2.2.2.2.2">60</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS1.p2.1.m1.2c">\left[0\%,60\%\right]</annotation></semantics></math>.
We run them for five times for each proportion of malicious participants.
The <span id="S5.SS2.SSS1.p2.1.1" class="ltx_text ltx_font_italic">average test accuracy</span> is calculated by averaging the <span id="S5.SS2.SSS1.p2.1.2" class="ltx_text ltx_font_italic">inference accuracy</span> by the global model on the whole test set in the last 20% rounds of these runs, i.e., the last 40 rounds for MNIST and 60 rounds for CIFAR-10.
Fig. <a href="#S5.F2" title="Figure 2 ‣ 5.1.2. Malicious Participants ‣ 5.1. Experimental Setup ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> presents the average test accuracy with the corresponding standard deviation of these approaches.
When there is no malicious participant on IID datasets, BlockDFL achieves the average accuracy of 99.29% on MNIST while vanilla FL is 99.28%, and achieves the average accuracy of 87.41% on CIFAR-10 while vanilla FL is 87.84%.
On non-IID datasets, BlockDFL is slightly inferior to vanilla FL with a very small gap.
Thus, BlockDFL can achieve comparable accuracy compared with vanilla FL, which is a centralized scheme.</p>
</div>
<div id="S5.SS2.SSS1.p3" class="ltx_para">
<p id="S5.SS2.SSS1.p3.1" class="ltx_p">When facing malicious participants (<math id="S5.SS2.SSS1.p3.1.m1.1" class="ltx_Math" alttext="\leq" display="inline"><semantics id="S5.SS2.SSS1.p3.1.m1.1a"><mo id="S5.SS2.SSS1.p3.1.m1.1.1" xref="S5.SS2.SSS1.p3.1.m1.1.1.cmml">≤</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS1.p3.1.m1.1b"><leq id="S5.SS2.SSS1.p3.1.m1.1.1.cmml" xref="S5.SS2.SSS1.p3.1.m1.1.1"></leq></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS1.p3.1.m1.1c">\leq</annotation></semantics></math> 40%), BlockDFL keeps relatively steady average test accuracy on both datasets and with both IID and non-IID settings, while vanilla FL is severely jeopardized.
The average accuracy gap between BlockDFL and vanilla FL increases with more malicious participants.
Moreover, BlockDFL converges much more stably than that of vanilla FL when facing malicious participants, showing very low standard deviation of the last 20% rounds.
As for Biscotti, on the simple MNIST dataset, it can defend poisoning attacks with 30% participant are malicious, however, on complex CIFAR-10 dataset, this ratio is less than 20%.
Besides, DP can cause a severe drop in accuracy on complex CIFAR-10 dataset, although the power of DP is set to the lowest value as in <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>.
Note that on CIFAR-10, a relatively complex dataset than MNIST, the average test accuracy of BlockDFL slightly decreases with the increasing ratio of malicious participants, although it is still significantly better than that of vanilla FL.
The same phenomenon also appears in <cite class="ltx_cite ltx_citemacro_citep">(Liu
et al<span class="ltx_text">.</span>, <a href="#bib.bib23" title="" class="ltx_ref">2021</a>)</cite>, because when the system can defend against poisoning attacks, the training data held by malicious participants are excluded.
Thus, as the ratio of malicious participants increases, the amount of data contributed to the global model decreases.</p>
</div>
<div id="S5.SS2.SSS1.p4" class="ltx_para">
<p id="S5.SS2.SSS1.p4.1" class="ltx_p">Figure <a href="#S5.F3" title="Figure 3 ‣ 5.1.2. Malicious Participants ‣ 5.1. Experimental Setup ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> illustrates the ability of these frameworks to resist poisoning attacks, where successful attack ratio (SAR) means the percentage of global updates containing at least one poisoned local updates in the last 20% rounds.
As illustrated, the SAR of BlockDFL is almost 0% when the ratio of malicious participants is no more than 40% on MNIST and IID CIFAR-10.
On non-IID CIFAR-10, the SAR of BlockDFL is a little bit higher, but the model accuracy is not significantly jeopardized because such a small number of malicious model updates can hardly cause significant negative impact.
For Biscotti and vanilla FL, it is more likely to occur that the global updates of vanilla FL contain one or more poisoned local updates.
From the above, we conclude that BlockDFL is able to defend poisoning attacks when there are up to 40% malicious participants.</p>
</div>
<figure id="S5.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F4.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2205.10568/assets/x10.png" id="S5.F4.sf1.g1" class="ltx_graphics ltx_img_landscape" width="138" height="92" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S5.F4.sf1.3.2" class="ltx_text" style="font-size:80%;">MNIST without Malicious Participants</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F4.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2205.10568/assets/x11.png" id="S5.F4.sf2.g1" class="ltx_graphics ltx_img_landscape" width="138" height="92" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S5.F4.sf2.3.2" class="ltx_text" style="font-size:80%;">MNIST with 30% Malicious Participants</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F4.sf3" class="ltx_figure ltx_figure_panel"><img src="/html/2205.10568/assets/x12.png" id="S5.F4.sf3.g1" class="ltx_graphics ltx_img_landscape" width="138" height="92" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf3.2.1.1" class="ltx_text" style="font-size:80%;">(c)</span> </span><span id="S5.F4.sf3.3.2" class="ltx_text" style="font-size:80%;">MNIST with 40% Malicious Participants</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F4.sf4" class="ltx_figure ltx_figure_panel"><img src="/html/2205.10568/assets/x13.png" id="S5.F4.sf4.g1" class="ltx_graphics ltx_img_landscape" width="138" height="92" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf4.2.1.1" class="ltx_text" style="font-size:80%;">(d)</span> </span><span id="S5.F4.sf4.3.2" class="ltx_text" style="font-size:80%;">CIFAR-10 without Malicious Participants</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F4.sf5" class="ltx_figure ltx_figure_panel"><img src="/html/2205.10568/assets/x14.png" id="S5.F4.sf5.g1" class="ltx_graphics ltx_img_landscape" width="138" height="92" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf5.2.1.1" class="ltx_text" style="font-size:80%;">(e)</span> </span><span id="S5.F4.sf5.3.2" class="ltx_text" style="font-size:80%;">CIFAR-10 with 30% Malicious Participants</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure id="S5.F4.sf6" class="ltx_figure ltx_figure_panel"><img src="/html/2205.10568/assets/x15.png" id="S5.F4.sf6.g1" class="ltx_graphics ltx_img_landscape" width="138" height="92" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F4.sf6.2.1.1" class="ltx_text" style="font-size:80%;">(f)</span> </span><span id="S5.F4.sf6.3.2" class="ltx_text" style="font-size:80%;">CIFAR-10 with 40% Malicious Participants</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4. </span>Convergence of the global model test accuracy obtained by vanilla FL and BlockDFL.
</figcaption>
</figure>
<div id="S5.SS2.SSS1.p5" class="ltx_para">
<p id="S5.SS2.SSS1.p5.1" class="ltx_p">To present the convergence of BlockDFL, we select 6 runs in IID setting, each of which corresponds to a different dataset and different ratio of malicious participants, and plot the test accuracy after each round of communication in Fig. <a href="#S5.F4" title="Figure 4 ‣ 5.2.1. Evaluation ‣ 5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.
As shown in Fig. <a href="#S5.F4.sf1" title="In Figure 4 ‣ 5.2.1. Evaluation ‣ 5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(a)</span></a> and <a href="#S5.F4.sf4" title="In Figure 4 ‣ 5.2.1. Evaluation ‣ 5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(d)</span></a>, the convergence speed of BlockDFL is very close to un-poisoned vanilla FL, indicating that BlockDFL does not require more communication rounds than vanilla FL.
It can be observed that in Fig. <a href="#S5.F4.sf2" title="In Figure 4 ‣ 5.2.1. Evaluation ‣ 5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(b)</span></a>, <a href="#S5.F4.sf3" title="In Figure 4 ‣ 5.2.1. Evaluation ‣ 5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(c)</span></a>, <a href="#S5.F4.sf5" title="In Figure 4 ‣ 5.2.1. Evaluation ‣ 5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(e)</span></a> and <a href="#S5.F4.sf6" title="In Figure 4 ‣ 5.2.1. Evaluation ‣ 5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(f)</span></a>, when there exist malicious participants, BlockDFL gradually becomes immune to poisoning attacks and converges to a level close to the un-poisoned FL, while the poisoned FL diverges seriously.
When there are fewer malicious participants, BlockDFL become immunes to poisoning attacks faster.</p>
</div>
<div id="S5.SS2.SSS1.p6" class="ltx_para">
<p id="S5.SS2.SSS1.p6.1" class="ltx_p">Limited by space, more discussions and illustrations on the effectiveness of BlockDFL are available in Appendix <a href="#A2" title="Appendix B Discussions on the Effectiveness of BlockDFL ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a></p>
</div>
</section>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3. </span>Time Consumption and Scalability</h3>

<figure id="S5.F5" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x16.png" id="S5.F5.sf1.g1" class="ltx_graphics ltx_img_landscape" width="221" height="147" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="S5.F5.sf1.3.2" class="ltx_text" style="font-size:80%;">Participants</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S5.F5.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x17.png" id="S5.F5.sf2.g1" class="ltx_graphics ltx_img_landscape" width="203" height="155" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S5.F5.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="S5.F5.sf2.3.2" class="ltx_text" style="font-size:80%;">Verifiers and aggregators</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5. </span>Time consumption of processes in BlockDFL with varying number of participants, aggregators and verifiers.</figcaption>
</figure>
<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.2" class="ltx_p">To show the efficiency and scalability of BlockDFL, we run it on MNIST with variant numbers of participants ranged in <math id="S5.SS3.p1.1.m1.2" class="ltx_Math" alttext="[20,60]" display="inline"><semantics id="S5.SS3.p1.1.m1.2a"><mrow id="S5.SS3.p1.1.m1.2.3.2" xref="S5.SS3.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S5.SS3.p1.1.m1.2.3.2.1" xref="S5.SS3.p1.1.m1.2.3.1.cmml">[</mo><mn id="S5.SS3.p1.1.m1.1.1" xref="S5.SS3.p1.1.m1.1.1.cmml">20</mn><mo id="S5.SS3.p1.1.m1.2.3.2.2" xref="S5.SS3.p1.1.m1.2.3.1.cmml">,</mo><mn id="S5.SS3.p1.1.m1.2.2" xref="S5.SS3.p1.1.m1.2.2.cmml">60</mn><mo stretchy="false" id="S5.SS3.p1.1.m1.2.3.2.3" xref="S5.SS3.p1.1.m1.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.1.m1.2b"><interval closure="closed" id="S5.SS3.p1.1.m1.2.3.1.cmml" xref="S5.SS3.p1.1.m1.2.3.2"><cn type="integer" id="S5.SS3.p1.1.m1.1.1.cmml" xref="S5.SS3.p1.1.m1.1.1">20</cn><cn type="integer" id="S5.SS3.p1.1.m1.2.2.cmml" xref="S5.SS3.p1.1.m1.2.2">60</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.1.m1.2c">[20,60]</annotation></semantics></math> and record the time consumption of aggregation and verification.
Since scoring local updates and scoring global updates are important steps of aggregation and verification, respectively, we also record the time consumption of the two steps.
We fix the numbers of verifiers and aggregators to 4, <math id="S5.SS3.p1.2.m2.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S5.SS3.p1.2.m2.1a"><mi id="S5.SS3.p1.2.m2.1.1" xref="S5.SS3.p1.2.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p1.2.m2.1b"><ci id="S5.SS3.p1.2.m2.1.1.cmml" xref="S5.SS3.p1.2.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p1.2.m2.1c">c</annotation></semantics></math> of global updates to 3 and scale the number of participants.
Since the training set on each participant is equally divided from the original dataset, the number of participants affects the number of samples in the data set for scoring local update on each participant, thus affecting the time taken for scoring local updates in aggregation.
To eliminate this impact, we fix the number of the samples on each participant for scoring local updates to 150.</p>
</div>
<div id="S5.SS3.p2" class="ltx_para">
<p id="S5.SS3.p2.1" class="ltx_p">Fig. <a href="#S5.F5" title="Figure 5 ‣ 5.3. Time Consumption and Scalability ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>(a) presents the time spent by each process and step with a varying number of participants.
We can find that the time spent by aggregation mainly lies in scoring local updates, while scoring global updates takes much less time than verification, meaning that the time of verification is mainly spent by voting cooperatively.
With the changes of the number of participants, the time spent by each process keeps steady, implying a good scalability of BlockDFL.</p>
</div>
<div id="S5.SS3.p3" class="ltx_para">
<p id="S5.SS3.p3.1" class="ltx_p">BlockDFL achieves better efficiency than Biscotti <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>, which is a relatively comprehensive framework.
Biscotti is evaluated on MNIST with a model containing only 7,850 parameters, and it takes over 30 seconds for aggregation and verification when there are 40 participants as reported in <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>.
While our BlockDFL is evaluated with a model containing 1,662,752 parameters on MNIST, and takes less than 3 seconds totally for aggregation and verification, which is very short compared with that of Biscotti.
Attributed by 1) the fast consensus in a small group of randomly selected participants and 2) the mechanism that makes the aggregators themselves responsible for aggregation and thus removes the dependency on homomorphic commitment and secret sharing for anti-poisoning, the efficiency of BlockDFL significantly outperforms Biscotti.
The latter heavily relies on homomorphic commitment and secret sharing to ensure the aggregation not compromised by malicious participants.
Thus, BlockDFL obtains excellent efficiency and scalability.</p>
</div>
<div id="S5.SS3.p4" class="ltx_para">
<p id="S5.SS3.p4.1" class="ltx_p">To clarify how the numbers of aggregators and verifiers affect the efficiency of BlockDFL, we run BlockDFL with different numbers of aggregators and verifiers.
As shown in Fig. <a href="#S5.F5" title="Figure 5 ‣ 5.3. Time Consumption and Scalability ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>(b), the time consumption of verification together with scoring global updates are mainly related to the number of aggregators.
When the number of aggregators grows, both of them increase, since the global updates that need to be scored and the average number of votes required to select the final global update also increase.
But they are less affected by the number of verifiers.
As for aggregation, it almost keeps steady with different numbers of aggregators and verifiers, since the aggregators work independently.</p>
</div>
</section>
<section id="S5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4. </span>Multi-dimensional Qualitative Comparisons</h3>

<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2. </span>Multi-dimensional Comparisons of Existing Decentralized P2P Federated Learning Frameworks based on Blockchain</figcaption>
<table id="S5.T2.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tr id="S5.T2.1.2" class="ltx_tr">
<td id="S5.T2.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_tt" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.2.1.1" class="ltx_text" style="font-size:90%;">Approach</span></td>
<td id="S5.T2.1.2.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.2.2.1" class="ltx_text" style="font-size:90%;">Privacy</span></td>
<td id="S5.T2.1.2.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.2.3.1" class="ltx_text" style="font-size:90%;">Anti-Poisoning</span></td>
<td id="S5.T2.1.2.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.2.4.1" class="ltx_text"></span><span id="S5.T2.1.2.4.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.2.4.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.2.4.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.2.4.3.1.1" class="ltx_tr">
<span id="S5.T2.1.2.4.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Claimed Maximal</span></span>
<span id="S5.T2.1.2.4.3.1.2" class="ltx_tr">
<span id="S5.T2.1.2.4.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Poisoning Tolerance</span></span>
</span></span><span id="S5.T2.1.2.4.4" class="ltx_text"></span><span id="S5.T2.1.2.4.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.2.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.2.5.1" class="ltx_text"></span><span id="S5.T2.1.2.5.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.2.5.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.2.5.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.2.5.3.1.1" class="ltx_tr">
<span id="S5.T2.1.2.5.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Efficiency</span></span>
<span id="S5.T2.1.2.5.3.1.2" class="ltx_tr">
<span id="S5.T2.1.2.5.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Optimization</span></span>
</span></span><span id="S5.T2.1.2.5.4" class="ltx_text"></span><span id="S5.T2.1.2.5.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.2.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.2.6.1" class="ltx_text"></span><span id="S5.T2.1.2.6.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.2.6.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.2.6.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.2.6.3.1.1" class="ltx_tr">
<span id="S5.T2.1.2.6.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Consensus &amp;</span></span>
<span id="S5.T2.1.2.6.3.1.2" class="ltx_tr">
<span id="S5.T2.1.2.6.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Fork-preventing</span></span>
</span></span><span id="S5.T2.1.2.6.4" class="ltx_text"></span><span id="S5.T2.1.2.6.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.2.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_tt" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.2.7.1" class="ltx_text" style="font-size:90%;">Dataset</span></td>
</tr>
<tr id="S5.T2.1.1" class="ltx_tr">
<td id="S5.T2.1.1.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.1.2.1" class="ltx_text" style="font-size:90%;">LearningChain </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S5.T2.1.1.2.2.1" class="ltx_text" style="font-size:90%;">(</span>Chen
et al<span class="ltx_text">.</span><span id="S5.T2.1.1.2.3.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib6" title="" class="ltx_ref">2018</a><span id="S5.T2.1.1.2.4.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="S5.T2.1.1.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.1.3.1" class="ltx_text" style="font-size:90%;">DP</span></td>
<td id="S5.T2.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.1.1.2" class="ltx_text"></span><span id="S5.T2.1.1.1.3" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.1.1.1" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.1.1.1.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.1.1.1.1.1" class="ltx_tr">
<span id="S5.T2.1.1.1.1.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;"><math id="S5.T2.1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S5.T2.1.1.1.1.1.1.1.m1.1a"><mi id="S5.T2.1.1.1.1.1.1.1.m1.1.1" xref="S5.T2.1.1.1.1.1.1.1.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S5.T2.1.1.1.1.1.1.1.m1.1b"><ci id="S5.T2.1.1.1.1.1.1.1.m1.1.1.cmml" xref="S5.T2.1.1.1.1.1.1.1.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.1.1.1.1.1.1.1.m1.1c">l</annotation></semantics></math>-Nearest</span></span>
<span id="S5.T2.1.1.1.1.1.2" class="ltx_tr">
<span id="S5.T2.1.1.1.1.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Aggregation</span></span>
</span></span><span id="S5.T2.1.1.1.4" class="ltx_text"></span><span id="S5.T2.1.1.1.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.1.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.1.4.1" class="ltx_text" style="font-size:90%;">10% Malicious</span></td>
<td id="S5.T2.1.1.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.1.5.1" class="ltx_text" style="font-size:90%;">✕</span></td>
<td id="S5.T2.1.1.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.1.6.1" class="ltx_text"></span><span id="S5.T2.1.1.6.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.1.6.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.1.6.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.1.6.3.1.1" class="ltx_tr">
<span id="S5.T2.1.1.6.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">PoW</span></span>
<span id="S5.T2.1.1.6.3.1.2" class="ltx_tr">
<span id="S5.T2.1.1.6.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">✕</span></span>
</span></span><span id="S5.T2.1.1.6.4" class="ltx_text"></span><span id="S5.T2.1.1.6.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.1.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.1.7.1" class="ltx_text"></span><span id="S5.T2.1.1.7.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.1.7.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.1.7.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.1.7.3.1.1" class="ltx_tr">
<span id="S5.T2.1.1.7.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Synthetic &amp; Wisconsin breast</span></span>
<span id="S5.T2.1.1.7.3.1.2" class="ltx_tr">
<span id="S5.T2.1.1.7.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">cancer <cite class="ltx_cite ltx_citemacro_citep">(Frank
et al<span class="ltx_text">.</span>, <a href="#bib.bib11" title="" class="ltx_ref">2011</a>)</cite> &amp; MNIST (all IID)</span></span>
</span></span><span id="S5.T2.1.1.7.4" class="ltx_text"></span><span id="S5.T2.1.1.7.5" class="ltx_text" style="font-size:90%;"></span>
</td>
</tr>
<tr id="S5.T2.1.3" class="ltx_tr">
<td id="S5.T2.1.3.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.3.1.1" class="ltx_text" style="font-size:90%;">BlockFL </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S5.T2.1.3.1.2.1" class="ltx_text" style="font-size:90%;">(</span>Kim
et al<span class="ltx_text">.</span><span id="S5.T2.1.3.1.3.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib18" title="" class="ltx_ref">2020</a><span id="S5.T2.1.3.1.4.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="S5.T2.1.3.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.3.2.1" class="ltx_text" style="font-size:90%;">DP</span></td>
<td id="S5.T2.1.3.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.3.3.1" class="ltx_text" style="font-size:90%;">✕</span></td>
<td id="S5.T2.1.3.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.3.4.1" class="ltx_text" style="font-size:90%;">✕</span></td>
<td id="S5.T2.1.3.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.3.5.1" class="ltx_text" style="font-size:90%;">✕</span></td>
<td id="S5.T2.1.3.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.3.6.1" class="ltx_text"></span><span id="S5.T2.1.3.6.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.3.6.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.3.6.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.3.6.3.1.1" class="ltx_tr">
<span id="S5.T2.1.3.6.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">PoW</span></span>
<span id="S5.T2.1.3.6.3.1.2" class="ltx_tr">
<span id="S5.T2.1.3.6.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">✕</span></span>
</span></span><span id="S5.T2.1.3.6.4" class="ltx_text"></span><span id="S5.T2.1.3.6.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.3.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.3.7.1" class="ltx_text" style="font-size:90%;">Unspecified</span></td>
</tr>
<tr id="S5.T2.1.4" class="ltx_tr">
<td id="S5.T2.1.4.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.4.1.1" class="ltx_text" style="font-size:90%;">BEMA </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S5.T2.1.4.1.2.1" class="ltx_text" style="font-size:90%;">(</span>Wang
et al<span class="ltx_text">.</span><span id="S5.T2.1.4.1.3.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib33" title="" class="ltx_ref">2020</a><span id="S5.T2.1.4.1.4.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="S5.T2.1.4.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.4.2.1" class="ltx_text" style="font-size:90%;">✕</span></td>
<td id="S5.T2.1.4.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.4.3.1" class="ltx_text"></span><span id="S5.T2.1.4.3.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.4.3.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.4.3.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.4.3.3.1.1" class="ltx_tr">
<span id="S5.T2.1.4.3.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Krum + Multiparty</span></span>
<span id="S5.T2.1.4.3.3.1.2" class="ltx_tr">
<span id="S5.T2.1.4.3.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Multiclass Margin</span></span>
</span></span><span id="S5.T2.1.4.3.4" class="ltx_text"></span><span id="S5.T2.1.4.3.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.4.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.4.4.1" class="ltx_text" style="font-size:90%;">20% Malicious</span></td>
<td id="S5.T2.1.4.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.4.5.1" class="ltx_text" style="font-size:90%;">✕</span></td>
<td id="S5.T2.1.4.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.4.6.1" class="ltx_text"></span><span id="S5.T2.1.4.6.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.4.6.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.4.6.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.4.6.3.1.1" class="ltx_tr">
<span id="S5.T2.1.4.6.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">PoW</span></span>
<span id="S5.T2.1.4.6.3.1.2" class="ltx_tr">
<span id="S5.T2.1.4.6.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">✕</span></span>
</span></span><span id="S5.T2.1.4.6.4" class="ltx_text"></span><span id="S5.T2.1.4.6.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.4.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.4.7.1" class="ltx_text" style="font-size:90%;">MNIST (IID)</span></td>
</tr>
<tr id="S5.T2.1.5" class="ltx_tr">
<td id="S5.T2.1.5.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.5.1.1" class="ltx_text" style="font-size:90%;">DeepChain </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S5.T2.1.5.1.2.1" class="ltx_text" style="font-size:90%;">(</span>Weng
et al<span class="ltx_text">.</span><span id="S5.T2.1.5.1.3.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib35" title="" class="ltx_ref">2021</a><span id="S5.T2.1.5.1.4.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="S5.T2.1.5.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.5.2.1" class="ltx_text"></span><span id="S5.T2.1.5.2.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.5.2.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.5.2.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.5.2.3.1.1" class="ltx_tr">
<span id="S5.T2.1.5.2.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Homomorphic</span></span>
<span id="S5.T2.1.5.2.3.1.2" class="ltx_tr">
<span id="S5.T2.1.5.2.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Encryption</span></span>
</span></span><span id="S5.T2.1.5.2.4" class="ltx_text"></span><span id="S5.T2.1.5.2.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.5.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.5.3.1" class="ltx_text"></span><span id="S5.T2.1.5.3.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.5.3.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.5.3.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.5.3.3.1.1" class="ltx_tr">
<span id="S5.T2.1.5.3.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">✕</span></span>
<span id="S5.T2.1.5.3.3.1.2" class="ltx_tr">
<span id="S5.T2.1.5.3.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Auditing</span></span>
</span></span><span id="S5.T2.1.5.3.4" class="ltx_text"></span><span id="S5.T2.1.5.3.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.5.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.5.4.1" class="ltx_text"></span><span id="S5.T2.1.5.4.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.5.4.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.5.4.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.5.4.3.1.1" class="ltx_tr">
<span id="S5.T2.1.5.4.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">0%</span></span>
<span id="S5.T2.1.5.4.3.1.2" class="ltx_tr">
<span id="S5.T2.1.5.4.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Only Traceability</span></span>
</span></span><span id="S5.T2.1.5.4.4" class="ltx_text"></span><span id="S5.T2.1.5.4.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.5.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.5.5.1" class="ltx_text" style="font-size:90%;">✕</span></td>
<td id="S5.T2.1.5.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.5.6.1" class="ltx_text"></span><span id="S5.T2.1.5.6.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.5.6.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.5.6.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.5.6.3.1.1" class="ltx_tr">
<span id="S5.T2.1.5.6.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Algorand</span></span>
<span id="S5.T2.1.5.6.3.1.2" class="ltx_tr">
<span id="S5.T2.1.5.6.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">✓</span></span>
</span></span><span id="S5.T2.1.5.6.4" class="ltx_text"></span><span id="S5.T2.1.5.6.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.5.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.5.7.1" class="ltx_text" style="font-size:90%;">MNIST (IID)</span></td>
</tr>
<tr id="S5.T2.1.6" class="ltx_tr">
<td id="S5.T2.1.6.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.6.1.1" class="ltx_text" style="font-size:90%;">Biscotti </span><cite class="ltx_cite ltx_citemacro_citep"><span id="S5.T2.1.6.1.2.1" class="ltx_text" style="font-size:90%;">(</span>Shayan
et al<span class="ltx_text">.</span><span id="S5.T2.1.6.1.3.2.1.1" class="ltx_text" style="font-size:90%;">, </span><a href="#bib.bib27" title="" class="ltx_ref">2021</a><span id="S5.T2.1.6.1.4.3" class="ltx_text" style="font-size:90%;">)</span></cite>
</td>
<td id="S5.T2.1.6.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.6.2.1" class="ltx_text"></span><span id="S5.T2.1.6.2.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.6.2.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.6.2.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.6.2.3.1.1" class="ltx_tr">
<span id="S5.T2.1.6.2.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">DP + Secure</span></span>
<span id="S5.T2.1.6.2.3.1.2" class="ltx_tr">
<span id="S5.T2.1.6.2.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Aggregation</span></span>
</span></span><span id="S5.T2.1.6.2.4" class="ltx_text"></span><span id="S5.T2.1.6.2.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.6.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.6.3.1" class="ltx_text" style="font-size:90%;">Krum</span></td>
<td id="S5.T2.1.6.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.6.4.1" class="ltx_text" style="font-size:90%;">30% Malicious</span></td>
<td id="S5.T2.1.6.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.6.5.1" class="ltx_text" style="font-size:90%;">✕</span></td>
<td id="S5.T2.1.6.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.6.6.1" class="ltx_text"></span><span id="S5.T2.1.6.6.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.6.6.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.6.6.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.6.6.3.1.1" class="ltx_tr">
<span id="S5.T2.1.6.6.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">PoF</span></span>
<span id="S5.T2.1.6.6.3.1.2" class="ltx_tr">
<span id="S5.T2.1.6.6.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">✕</span></span>
</span></span><span id="S5.T2.1.6.6.4" class="ltx_text"></span><span id="S5.T2.1.6.6.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.6.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.6.7.1" class="ltx_text"></span><span id="S5.T2.1.6.7.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.6.7.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.6.7.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.6.7.3.1.1" class="ltx_tr">
<span id="S5.T2.1.6.7.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">MNIST &amp;</span></span>
<span id="S5.T2.1.6.7.3.1.2" class="ltx_tr">
<span id="S5.T2.1.6.7.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Credit Card <cite class="ltx_cite ltx_citemacro_citep">(Frank
et al<span class="ltx_text">.</span>, <a href="#bib.bib11" title="" class="ltx_ref">2011</a>)</cite> (all IID)</span></span>
</span></span><span id="S5.T2.1.6.7.4" class="ltx_text"></span><span id="S5.T2.1.6.7.5" class="ltx_text" style="font-size:90%;"></span>
</td>
</tr>
<tr id="S5.T2.1.7" class="ltx_tr">
<td id="S5.T2.1.7.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left ltx_border_bb ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.7.1.1" class="ltx_text"></span><span id="S5.T2.1.7.1.2" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.7.1.2.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.7.1.2.1.1" class="ltx_tr">
<span id="S5.T2.1.7.1.2.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.7.1.2.1.1.1.1" class="ltx_text ltx_font_bold">BlockDFL</span></span></span>
<span id="S5.T2.1.7.1.2.1.2" class="ltx_tr">
<span id="S5.T2.1.7.1.2.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_left" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.7.1.2.1.2.1.1" class="ltx_text ltx_font_bold">(ours)</span></span></span>
</span></span><span id="S5.T2.1.7.1.3" class="ltx_text"></span><span id="S5.T2.1.7.1.4" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.7.2" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.7.2.1" class="ltx_text"></span><span id="S5.T2.1.7.2.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.7.2.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.7.2.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.7.2.3.1.1" class="ltx_tr">
<span id="S5.T2.1.7.2.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Gradient</span></span>
<span id="S5.T2.1.7.2.3.1.2" class="ltx_tr">
<span id="S5.T2.1.7.2.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Compression</span></span>
</span></span><span id="S5.T2.1.7.2.4" class="ltx_text"></span><span id="S5.T2.1.7.2.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.7.3" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.7.3.1" class="ltx_text"></span><span id="S5.T2.1.7.3.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.7.3.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.7.3.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.7.3.3.1.1" class="ltx_tr">
<span id="S5.T2.1.7.3.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Median-based</span></span>
<span id="S5.T2.1.7.3.3.1.2" class="ltx_tr">
<span id="S5.T2.1.7.3.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">Testing + Krum</span></span>
</span></span><span id="S5.T2.1.7.3.4" class="ltx_text"></span><span id="S5.T2.1.7.3.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.7.4" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.7.4.1" class="ltx_text ltx_font_bold" style="font-size:90%;">40% Malicious</span></td>
<td id="S5.T2.1.7.5" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.7.5.1" class="ltx_text"></span><span id="S5.T2.1.7.5.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.7.5.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.7.5.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.7.5.3.1.1" class="ltx_tr">
<span id="S5.T2.1.7.5.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">PBFT in a</span></span>
<span id="S5.T2.1.7.5.3.1.2" class="ltx_tr">
<span id="S5.T2.1.7.5.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">small group</span></span>
</span></span><span id="S5.T2.1.7.5.4" class="ltx_text"></span><span id="S5.T2.1.7.5.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.7.6" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.7.6.1" class="ltx_text"></span><span id="S5.T2.1.7.6.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.7.6.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.7.6.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.7.6.3.1.1" class="ltx_tr">
<span id="S5.T2.1.7.6.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">PBFT-based Voting</span></span>
<span id="S5.T2.1.7.6.3.1.2" class="ltx_tr">
<span id="S5.T2.1.7.6.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">✓</span></span>
</span></span><span id="S5.T2.1.7.6.4" class="ltx_text"></span><span id="S5.T2.1.7.6.5" class="ltx_text" style="font-size:90%;"></span>
</td>
<td id="S5.T2.1.7.7" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" style="padding:-1.8pt 1.4pt;">
<span id="S5.T2.1.7.7.1" class="ltx_text"></span><span id="S5.T2.1.7.7.2" class="ltx_text" style="font-size:90%;"> </span><span id="S5.T2.1.7.7.3" class="ltx_text" style="font-size:90%;">
<span id="S5.T2.1.7.7.3.1" class="ltx_tabular ltx_align_middle">
<span id="S5.T2.1.7.7.3.1.1" class="ltx_tr">
<span id="S5.T2.1.7.7.3.1.1.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;">MNIST &amp; CIFAR-10</span></span>
<span id="S5.T2.1.7.7.3.1.2" class="ltx_tr">
<span id="S5.T2.1.7.7.3.1.2.1" class="ltx_td ltx_nopad_l ltx_nopad_r ltx_align_center" style="padding:-1.8pt 1.4pt;"><span id="S5.T2.1.7.7.3.1.2.1.1" class="ltx_text ltx_font_bold">(IID and non-IID)</span></span></span>
</span></span><span id="S5.T2.1.7.7.4" class="ltx_text"></span><span id="S5.T2.1.7.7.5" class="ltx_text" style="font-size:90%;"></span>
</td>
</tr>
</table>
</figure>
<div id="S5.SS4.p1" class="ltx_para">
<p id="S5.SS4.p1.1" class="ltx_p">Since BlockDFL is designed for decentralized P2P FL, we investigate some existing blockchain-based decentralized FL frameworks without the reliance on a global trust authority or trusted servers, i.e., FL frameworks for the <span id="S5.SS4.p1.1.1" class="ltx_text ltx_font_bold">fully decentralized P2P setting</span>, and compare them in six dimensions in Table <a href="#S5.T2" title="Table 2 ‣ 5.4. Multi-dimensional Qualitative Comparisons ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>:
1) <span id="S5.SS4.p1.1.2" class="ltx_text ltx_font_bold">Privacy</span>: The privacy protection on the basis of FL.
2) <span id="S5.SS4.p1.1.3" class="ltx_text ltx_font_bold">Anti-Poisoning</span>: Ways to defend poisoning attacks.
3) <span id="S5.SS4.p1.1.4" class="ltx_text ltx_font_bold">Poisoning Tolerance</span>: The percentage of malicious participants the framework can tolerate.
4) <span id="S5.SS4.p1.1.5" class="ltx_text ltx_font_bold">Efficiency Optimization</span>: Ways to optimize efficiency.
5) <span id="S5.SS4.p1.1.6" class="ltx_text ltx_font_bold">Consensus &amp; Fork-preventing</span>: The consensus and whether it can prevent forking problems of blockchain.
6) <span id="S5.SS4.p1.1.7" class="ltx_text ltx_font_bold">Dataset</span>: The datasets utilized for evaluation, together with the data distribution among participants.</p>
</div>
<div id="S5.SS4.p2" class="ltx_para">
<p id="S5.SS4.p2.1" class="ltx_p">As shown, different P2P frameworks introduce different mechanisms to partially solve the problems faced by FL, i.e., security, efficiency and privacy.
However, they do not address these issues uniformly, e.g., address poisoning attacks but ignore privacy protection or protect the privacy but fail to prevent poisoning attacks.
Particularly, they often neglect to optimize the system efficiency.</p>
</div>
<div id="S5.SS4.p3" class="ltx_para">
<p id="S5.SS4.p3.1" class="ltx_p">As for the ability of poisoning tolerance, existing frameworks can only defend against poisoning attacks when the proportion of malicious participants is less than or equal to 30%, while BlockDFL can effectively defend poisoning attacks when 40% of the participants are malicious.
Moreover, the evaluations of existing frameworks need to be further improved, i.e., 1) most of the existing frameworks are only evaluated on a simple dataset, i.e., MNIST (Wisconsin breast cancer is even simpler, and Credit Card is also so simple that a logistic regression model can handle it <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>), while BlockDFL is evaluated on both MNIST and a relatively complex dataset, i.e., CIFAR-10;
and 2) existing frameworks are only evaluated with the data among participants are IID, ignoring the nature of non-IID data in FL, while BlockDFL is evaluated on both IID and non-IID data.
These enhance the persuasiveness of evaluation results for BlockDFL.
From these comparisons, BlockDFL outperforms all the existing fully decentralized P2P FL frameworks in terms of poisoning tolerance.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Related Work</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In recent years, there are many studies about blockchain-based FL.
Some of them are inapplicable in fully decentralized P2P contexts due to
1) relying on a global trust authority or trusted servers <cite class="ltx_cite ltx_citemacro_citep">(Hu
et al<span class="ltx_text">.</span>, <a href="#bib.bib15" title="" class="ltx_ref">2020</a>; Zhao et al<span class="ltx_text">.</span>, <a href="#bib.bib46" title="" class="ltx_ref">2021a</a>; Yapp et al<span class="ltx_text">.</span>, <a href="#bib.bib38" title="" class="ltx_ref">2021</a>; Li
et al<span class="ltx_text">.</span>, <a href="#bib.bib21" title="" class="ltx_ref">2021</a>)</cite>, or 2) relying on a group of pre-set miners or special nodes with higher authority to run the consensus <cite class="ltx_cite ltx_citemacro_citep">(Feng
et al<span class="ltx_text">.</span>, <a href="#bib.bib10" title="" class="ltx_ref">2022</a>; Kasyap
et al<span class="ltx_text">.</span>, <a href="#bib.bib17" title="" class="ltx_ref">2023</a>; Sun
et al<span class="ltx_text">.</span>, <a href="#bib.bib30" title="" class="ltx_ref">2022</a>; Cui et al<span class="ltx_text">.</span>, <a href="#bib.bib7" title="" class="ltx_ref">2022a</a>)</cite> where the powers of participants are not equal.
These frameworks may still face high latency due to long-distance transmission, because the pre-set nodes may not be geographically close to the participants.</p>
</div>
<div id="S6.p2" class="ltx_para">
<p id="S6.p2.1" class="ltx_p">There are also some studies focus on fully decentralized P2P FL based on blockchain, and some of them integrate additional protections for solving the privacy and security concerns.
To provide better privacy protection, existing frameworks add DP noise with certain power on local models <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>, or leverage homomorphic encryption <cite class="ltx_cite ltx_citemacro_citep">(Awan
et al<span class="ltx_text">.</span>, <a href="#bib.bib3" title="" class="ltx_ref">2019</a>; Weng
et al<span class="ltx_text">.</span>, <a href="#bib.bib35" title="" class="ltx_ref">2021</a>)</cite> and secure aggregation <cite class="ltx_cite ltx_citemacro_citep">(Liu
et al<span class="ltx_text">.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2020</a>; Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite> to prevent the model update of a specific participant from being intercepted by attackers.
To filter out poisoned model updates, existing frameworks conduct Krum <cite class="ltx_cite ltx_citemacro_citep">(Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite> or <math id="S6.p2.1.m1.1" class="ltx_Math" alttext="l" display="inline"><semantics id="S6.p2.1.m1.1a"><mi id="S6.p2.1.m1.1.1" xref="S6.p2.1.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S6.p2.1.m1.1b"><ci id="S6.p2.1.m1.1.1.cmml" xref="S6.p2.1.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p2.1.m1.1c">l</annotation></semantics></math>-nearest aggregation <cite class="ltx_cite ltx_citemacro_citep">(Chen
et al<span class="ltx_text">.</span>, <a href="#bib.bib6" title="" class="ltx_ref">2018</a>)</cite> on received local updates before aggregation, or discard model updates with accuracy lowering than a pre-defined accuracy threshold <cite class="ltx_cite ltx_citemacro_citep">(Zhang
et al<span class="ltx_text">.</span>, <a href="#bib.bib40" title="" class="ltx_ref">2021a</a>)</cite>, or leverage auditing to track the history of behaviors <cite class="ltx_cite ltx_citemacro_citep">(Awan
et al<span class="ltx_text">.</span>, <a href="#bib.bib3" title="" class="ltx_ref">2019</a>)</cite>.</p>
</div>
<div id="S6.p3" class="ltx_para">
<p id="S6.p3.1" class="ltx_p">These frameworks perform well in different scenarios.
However, in a fully decentralized scenario without mutual trust, existing frameworks still need to be further improved.
First, some of them only solve part of the problems of FL, i.e., addressing poisoning attacks but ignoring the privacy protection <cite class="ltx_cite ltx_citemacro_citep">(Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib33" title="" class="ltx_ref">2020</a>; Zhang
et al<span class="ltx_text">.</span>, <a href="#bib.bib40" title="" class="ltx_ref">2021a</a>; Weng
et al<span class="ltx_text">.</span>, <a href="#bib.bib35" title="" class="ltx_ref">2021</a>)</cite> and protecting the privacy but failing to prevent poisoning attacks <cite class="ltx_cite ltx_citemacro_citep">(Awan
et al<span class="ltx_text">.</span>, <a href="#bib.bib3" title="" class="ltx_ref">2019</a>; Liu
et al<span class="ltx_text">.</span>, <a href="#bib.bib24" title="" class="ltx_ref">2020</a>)</cite>.
Second, some of the technical selections bring negative impact on FL, e.g., although DP is able to protect privacy with the guarantees of mathematical proof from the perspective of data reconstruction and membership inference, etc., it imposes a significant loss of accuracy for protecting complicated models <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a href="#bib.bib34" title="" class="ltx_ref">2021</a>)</cite>.
Homomorphic encryption brings too much computation overhead, making it unsuitable for models with relatively large numbers of parameters.
Secure aggregation brings heavy overhead of computation and communication, which limits the efficiency and scalability of FL frameworks based on it.
Finally, the resistance to poisoning attacks of existing frameworks could be enhanced.
As presented in Table <a href="#S5.T2" title="Table 2 ‣ 5.4. Multi-dimensional Qualitative Comparisons ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, existing frameworks can only tolerant up to 30% malicious clients for IID data, while BlockDFL can defend against poison attacks when there are 40% malicious clients for both IID and non-IID data.</p>
</div>
<div id="S6.p4" class="ltx_para">
<p id="S6.p4.1" class="ltx_p">In addition to poisoning resistance, BlockDFL is also efficient since:
1) the verification of local updates is fast since the stake-based filtering mechanism drops many local updates,
2) the PBFT-based voting for global update election works efficiently since the verifier committee is composed of only a small group of participants and
3) the communication cost of transmitting model updates is further lowered by gradient compression.
It is worth noting that the proposed voting mechanism for the consensus on global updates does not need to perform meaningless hash calculations like proof-of-working (PoW) consensus and never forks as in <cite class="ltx_cite ltx_citemacro_citep">(Cui et al<span class="ltx_text">.</span>, <a href="#bib.bib7" title="" class="ltx_ref">2022a</a>; Shayan
et al<span class="ltx_text">.</span>, <a href="#bib.bib27" title="" class="ltx_ref">2021</a>; Chen
et al<span class="ltx_text">.</span>, <a href="#bib.bib6" title="" class="ltx_ref">2018</a>; Kim
et al<span class="ltx_text">.</span>, <a href="#bib.bib18" title="" class="ltx_ref">2020</a>; Wang
et al<span class="ltx_text">.</span>, <a href="#bib.bib33" title="" class="ltx_ref">2020</a>)</cite>.</p>
</div>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Conclusions</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this paper, we propose BlockDFL, an efficient fully decentralized P2P FL framework, which leverages blockchain to force participants to behave correctly.
To efficiently reach the consensus on the appropriate global update, we propose a PBFT-based voting mechanism conducted among a small group of participants randomly selected in each round.
To utilize high-quality model updates, we propose a two-layer scoring mechanism that measures local and global updates by median-based testing and Krum, respectively.
The combination of the two mechanisms helps BlockDFL uniquely select a high-quality global update in each round, while preventing the FL system from being poisoned.
To protect the privacy of data in terms of data representation, we introduce gradient compression, and experimentally demonstrate that gradient compression can be integrated into BlockDFL without affecting the effectiveness of Krum and the accuracy of a global model, while protecting privacy and reducing communication overhead.
Experiments conducted on two widely-used real-world datasets demonstrate that BlockDFL can defend the poisoning attacks and achieve both high efficiency and scalability.
Specially, when 40% of the participants are malicious, BlockDFL can defend poisoning attacks, which outperforms existing fully decentralized FL frameworks based on blockchain.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">        




</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ali
et al<span id="bib.bib2.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Mansoor Ali, Hadis
Karimipour, and Muhammad Tariq.
2021.

</span>
<span class="ltx_bibblock">Integration of blockchain and federated learning
for Internet of Things: Recent advances and future challenges.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.3.1" class="ltx_emph ltx_font_italic">Comput. Secur.</em> 108
(2021), 102355.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Awan
et al<span id="bib.bib3.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Sana Awan, Fengjun Li,
Bo Luo, and Mei Liu.
2019.

</span>
<span class="ltx_bibblock">Poster: A Reliable and Accountable
Privacy-Preserving Federated Learning Framework using the Blockchain. In
<em id="bib.bib3.3.1" class="ltx_emph ltx_font_italic">ACM SIGSAC Conference on Computer and
Communications Security</em>. 2561–2563.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Blanchard et al<span id="bib.bib4.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Peva Blanchard,
El Mahdi El Mhamdi, Rachid Guerraoui,
and Julien Stainer. 2017.

</span>
<span class="ltx_bibblock">Machine Learning with Adversaries: Byzantine
Tolerant Gradient Descent. In <em id="bib.bib4.3.1" class="ltx_emph ltx_font_italic">Annual Conference on
Neural Information Processing Systems</em>. 119–129.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Castro and Liskov (1999)</span>
<span class="ltx_bibblock">
Miguel Castro and
Barbara Liskov. 1999.

</span>
<span class="ltx_bibblock">Practical Byzantine Fault Tolerance. In
<em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">USENIX Symposium on Operating Systems Design and
Implementation</em>. 173–186.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen
et al<span id="bib.bib6.2.2.1" class="ltx_text">.</span> (2018)</span>
<span class="ltx_bibblock">
Xuhui Chen, Jinlong Ji,
Changqing Luo, Weixian Liao, and
Pan Li. 2018.

</span>
<span class="ltx_bibblock">When Machine Learning Meets Blockchain: A
Decentralized, Privacy-preserving and Secure Design. In
<em id="bib.bib6.3.1" class="ltx_emph ltx_font_italic">IEEE International Conference on Big Data</em>.
1178–1187.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et al<span id="bib.bib7.2.2.1" class="ltx_text">.</span> (2022a)</span>
<span class="ltx_bibblock">
Laizhong Cui, Xiaoxin Su,
and Yipeng Zhou. 2022a.

</span>
<span class="ltx_bibblock">A Fast Blockchain-Based Federated Learning
Framework With Compressed Communications.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.3.1" class="ltx_emph ltx_font_italic">IEEE J. Sel. Areas Commun.</em>
40, 12 (2022),
3358–3372.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et al<span id="bib.bib8.2.2.1" class="ltx_text">.</span> (2022b)</span>
<span class="ltx_bibblock">
Laizhong Cui, Xiaoxin Su,
and Yipeng Zhou. 2022b.

</span>
<span class="ltx_bibblock">A Fast Blockchain-based Federated Learning
Framework with Compressed Communications.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.3.1" class="ltx_emph ltx_font_italic">IEEE Journal on Selected Areas in
Communications</em> 40, 12
(2022), 3358–3372.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Deng (2012)</span>
<span class="ltx_bibblock">
Li Deng. 2012.

</span>
<span class="ltx_bibblock">The mnist database of handwritten digit images for
machine learning research.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">IEEE Signal Processing Magazine</em>
29, 6 (2012),
141–142.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Feng
et al<span id="bib.bib10.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Lei Feng, Yiqi Zhao,
Shaoyong Guo, Xuesong Qiu,
Wenjing Li, and Peng Yu.
2022.

</span>
<span class="ltx_bibblock">BAFL: A Blockchain-Based Asynchronous Federated
Learning Framework.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.3.1" class="ltx_emph ltx_font_italic">IEEE Trans. Comput.</em> 71,
5 (2022), 1092–1103.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Frank
et al<span id="bib.bib11.3.3.1" class="ltx_text">.</span> (2011)</span>
<span class="ltx_bibblock">
Andrew Frank, Arthur
Asuncion, et al<span id="bib.bib11.4.1" class="ltx_text">.</span> 2011.

</span>
<span class="ltx_bibblock">UCI machine learning repository, 2010.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.5.1" class="ltx_emph ltx_font_italic">URL http://archive.ics.uci.edu/ml</em>
15 (2011), 22.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Frantar et al<span id="bib.bib12.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Elias Frantar, Saleh
Ashkboos, Torsten Hoefler, and Dan
Alistarh. 2022.

</span>
<span class="ltx_bibblock">GPTQ: Accurate Post-Training Quantization for
Generative Pre-trained Transformers.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.3.1" class="ltx_emph ltx_font_italic">CoRR</em> abs/2210.17323
(2022).

</span>
<span class="ltx_bibblock">
<a target="_blank" href="https://doi.org/10.48550/arXiv.2210.17323" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.48550/arXiv.2210.17323</a>
arXiv:2210.17323

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fredrikson
et al<span id="bib.bib13.2.2.1" class="ltx_text">.</span> (2015)</span>
<span class="ltx_bibblock">
Matt Fredrikson, Somesh
Jha, and Thomas Ristenpart.
2015.

</span>
<span class="ltx_bibblock">Model inversion attacks that exploit confidence
information and basic countermeasures. In
<em id="bib.bib13.3.1" class="ltx_emph ltx_font_italic">Proceedings of the 22nd ACM SIGSAC conference on
computer and communications security</em>. 1322–1333.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gilad et al<span id="bib.bib14.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Yossi Gilad, Rotem Hemo,
Silvio Micali, Georgios Vlachos, and
Nickolai Zeldovich. 2017.

</span>
<span class="ltx_bibblock">Algorand: Scaling Byzantine Agreements for
Cryptocurrencies. In <em id="bib.bib14.3.1" class="ltx_emph ltx_font_italic">the Symposium on Operating
Systems Principles</em>. 51–68.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu
et al<span id="bib.bib15.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Yifan Hu, Wei Xia,
Jun Xiao, and Chao Wu.
2020.

</span>
<span class="ltx_bibblock">GFL: A Decentralized Federated Learning
Framework Based On Blockchain.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.3.1" class="ltx_emph ltx_font_italic">CoRR</em> abs/2010.10996
(2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jeon
et al<span id="bib.bib16.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Beomyeol Jeon, S. M.
Ferdous, Muntasir Raihan Rahman, and
Anwar Walid. 2021.

</span>
<span class="ltx_bibblock">Privacy-Preserving Decentralized Aggregation for
Federated Learning. In <em id="bib.bib16.3.1" class="ltx_emph ltx_font_italic">IEEE Conference on
Computer Communications Workshops</em>. 1–6.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kasyap
et al<span id="bib.bib17.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Harsh Kasyap, Arpan
Manna, and Somanath Tripathy.
2023.

</span>
<span class="ltx_bibblock">An Efficient Blockchain Assisted Reputation Aware
Decentralized Federated Learning Framework.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.3.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Network and Service
Management</em> 20, 3
(2023), 2771–2782.

</span>
<span class="ltx_bibblock">
<a target="_blank" href="https://doi.org/10.1109/TNSM.2022.3231283" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1109/TNSM.2022.3231283</a>

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim
et al<span id="bib.bib18.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Hyesung Kim, Jihong Park,
Mehdi Bennis, and Seong-Lyun Kim.
2020.

</span>
<span class="ltx_bibblock">Blockchained On-Device Federated Learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib18.3.1" class="ltx_emph ltx_font_italic">IEEE Communications Letters</em>
24, 6 (2020),
1279–1283.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krizhevsky
et al<span id="bib.bib19.3.3.1" class="ltx_text">.</span> (2009)</span>
<span class="ltx_bibblock">
Alex Krizhevsky, Geoffrey
Hinton, et al<span id="bib.bib19.4.1" class="ltx_text">.</span> 2009.

</span>
<span class="ltx_bibblock">Learning multiple layers of features from tiny
images.

</span>
<span class="ltx_bibblock">(2009).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li
et al<span id="bib.bib20.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Xingyu Li, Zhe Qu,
Bo Tang, and Zhuo Lu.
2023.

</span>
<span class="ltx_bibblock">FedLGA: Toward System-Heterogeneity of Federated
Learning via Local Gradient Approximation.

</span>
<span class="ltx_bibblock"><em id="bib.bib20.3.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Cybernetics</em>
(2023), 1–14.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li
et al<span id="bib.bib21.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Yong Li, Yipeng Zhou,
Alireza Jolfaei, Dongjin Yu,
Gaochao Xu, and Xi Zheng.
2021.

</span>
<span class="ltx_bibblock">Privacy-Preserving Federated Learning Framework
Based on Chained Secure Multiparty Computing.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.3.1" class="ltx_emph ltx_font_italic">IEEE Internet Things J.</em>
8, 8 (2021),
6178–6186.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin
et al<span id="bib.bib22.2.2.1" class="ltx_text">.</span> (2018)</span>
<span class="ltx_bibblock">
Yujun Lin, Song Han,
Huizi Mao, Yu Wang, and
Bill Dally. 2018.

</span>
<span class="ltx_bibblock">Deep Gradient Compression: Reducing the
Communication Bandwidth for Distributed Training. In
<em id="bib.bib22.3.1" class="ltx_emph ltx_font_italic">International Conference on Learning
Representations</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu
et al<span id="bib.bib23.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Xiaoyuan Liu, Hongwei Li,
Guowen Xu, Zongqi Chen,
Xiaoming Huang, and Rongxing Lu.
2021.

</span>
<span class="ltx_bibblock">Privacy-Enhanced Federated Learning Against
Poisoning Adversaries.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.3.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Information Forensics
and Security</em> 16 (2021),
4574–4588.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu
et al<span id="bib.bib24.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Yuan Liu, Zhengpeng Ai,
Shuai Sun, Shuangfeng Zhang,
Zelei Liu, and Han Yu.
2020.

</span>
<span class="ltx_bibblock">FedCoin: A Peer-to-Peer Payment System for
Federated Learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib24.3.1" class="ltx_emph ltx_font_italic">Federated Learning - Privacy and
Incentive</em>. Lecture Notes in Computer Science,
Vol. 12500. 125–138.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al<span id="bib.bib25.2.2.1" class="ltx_text">.</span> (2017)</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider
Moore, Daniel Ramage, Seth Hampson,
and Blaise Agüera y Arcas.
2017.

</span>
<span class="ltx_bibblock">Communication-Efficient Learning of Deep Networks
from Decentralized Data. In <em id="bib.bib25.3.1" class="ltx_emph ltx_font_italic">the International
Conference on Artificial Intelligence and Statistics</em>,
Vol. 54. 1273–1282.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qin
et al<span id="bib.bib26.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhen Qin, Shuiguang Deng,
Mingyu Zhao, and Xueqiang Yan.
2023.

</span>
<span class="ltx_bibblock">FedAPEN: Personalized Cross-silo Federated Learning
with Adaptability to Statistical Heterogeneity. In
<em id="bib.bib26.3.1" class="ltx_emph ltx_font_italic">Proceedings of the 29th ACM SIGKDD Conference on
Knowledge Discovery and Data Mining</em>. 1954–1964.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shayan
et al<span id="bib.bib27.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Muhammad Shayan, Clement
Fung, Chris J. M. Yoon, and Ivan
Beschastnikh. 2021.

</span>
<span class="ltx_bibblock">Biscotti: A Blockchain System for Private and
Secure Federated Learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.3.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Parallel and
Distributed Systems</em> 32, 7
(2021), 1513–1525.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shokri and
Shmatikov (2015)</span>
<span class="ltx_bibblock">
Reza Shokri and Vitaly
Shmatikov. 2015.

</span>
<span class="ltx_bibblock">Privacy-Preserving Deep Learning. In
<em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Proceedings of the Conference on Computer and
Communications Security</em>. 1310–1321.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun
et al<span id="bib.bib29.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Jingwei Sun, Ang Li,
Binghui Wang, Huanrui Yang,
Hai Li, and Yiran Chen.
2021.

</span>
<span class="ltx_bibblock">Soteria: Provable Defense Against Privacy Leakage
in Federated Learning From Representation Perspective. In
<em id="bib.bib29.3.1" class="ltx_emph ltx_font_italic">IEEE Conference on Computer Vision and Pattern
Recognition</em>. 9311–9319.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun
et al<span id="bib.bib30.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Jin Sun, Ying Wu,
Shangping Wang, Yixue Fu, and
Xiao Chang. 2022.

</span>
<span class="ltx_bibblock">Permissioned Blockchain Frame for Secure Federated
Learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.3.1" class="ltx_emph ltx_font_italic">IEEE Communications Letters</em>
26, 1 (2022),
13–17.

</span>
<span class="ltx_bibblock">
<a target="_blank" href="https://doi.org/10.1109/LCOMM.2021.3121297" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.1109/LCOMM.2021.3121297</a>

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Van der Maaten and
Hinton (2008)</span>
<span class="ltx_bibblock">
Laurens Van der Maaten and
Geoffrey Hinton. 2008.

</span>
<span class="ltx_bibblock">Visualizing data using t-SNE.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Journal of machine learning research</em>
9, 11 (2008).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang
et al<span id="bib.bib32.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Kaibin Wang, Qiang He,
Feifei Chen, Hai Jin, and
Yun Yang. 2023.

</span>
<span class="ltx_bibblock">FedEdge: Accelerating Edge-Assisted Federated
Learning. In <em id="bib.bib32.3.1" class="ltx_emph ltx_font_italic">Proceedings of the ACM Web Conference
2023</em>. 2895–2904.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang
et al<span id="bib.bib33.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Qianlong Wang, Yifan Guo,
Xufei Wang, Tianxi Ji,
Lixing Yu, and Pan Li.
2020.

</span>
<span class="ltx_bibblock">AI at the Edge: Blockchain-Empowered Secure
Multiparty Learning With Heterogeneous Models.

</span>
<span class="ltx_bibblock"><em id="bib.bib33.3.1" class="ltx_emph ltx_font_italic">IEEE Internet of Things Journal</em>
7, 10 (2020),
9600–9610.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span id="bib.bib34.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Yijue Wang, Chenghong
Wang, Zigeng Wang, Shanglin Zhou,
Hang Liu, Jinbo Bi,
Caiwen Ding, and Sanguthevar
Rajasekaran. 2021.

</span>
<span class="ltx_bibblock">Against Membership Inference Attack: Pruning is All
You Need. In <em id="bib.bib34.3.1" class="ltx_emph ltx_font_italic">the Joint Conference on Artificial
Intelligence</em>. 3141–3147.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Weng
et al<span id="bib.bib35.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Jiasi Weng, Jian Weng,
Jilian Zhang, Ming Li,
Yue Zhang, and Weiqi Luo.
2021.

</span>
<span class="ltx_bibblock">DeepChain: Auditable and Privacy-Preserving Deep
Learning with Blockchain-Based Incentive.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.3.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Dependable and Secure
Computing</em> 18, 5 (2021),
2438–2455.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao
et al<span id="bib.bib36.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Guangxuan Xiao, Ji Lin,
Mickael Seznec, Hao Wu,
Julien Demouth, and Song Han.
2023.

</span>
<span class="ltx_bibblock">Smoothquant: Accurate and efficient post-training
quantization for large language models. In
<em id="bib.bib36.3.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>.
PMLR, 38087–38099.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span id="bib.bib37.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Xue Yang, Yan Feng,
Weijun Fang, Jun Shao,
Xiaohu Tang, Shu-Tao Xia, and
Rongxing Lu. 2022.

</span>
<span class="ltx_bibblock">An accuracy-lossless perturbation method for
defending privacy attacks in federated learning. In
<em id="bib.bib37.3.1" class="ltx_emph ltx_font_italic">Proceedings of the ACM Web Conference 2022</em>.
732–742.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yapp et al<span id="bib.bib38.2.2.1" class="ltx_text">.</span> (2021)</span>
<span class="ltx_bibblock">
Austine Zong Han Yapp,
Hong Soo Nicholas Koh, Yan Ting Lai,
Jiawen Kang, Xuandi Li,
Jer Shyuan Ng, Hongchao Jiang,
Wei Yang Bryan Lim, Zehui Xiong, and
Dusit Niyato. 2021.

</span>
<span class="ltx_bibblock">Communication-efficient and Scalable Decentralized
Federated Edge Learning. In <em id="bib.bib38.3.1" class="ltx_emph ltx_font_italic">the Joint Conference
on Artificial Intelligence</em>. 5032–5035.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yin
et al<span id="bib.bib39.2.2.1" class="ltx_text">.</span> (2018)</span>
<span class="ltx_bibblock">
Dong Yin, Yudong Chen,
Ramchandran Kannan, and Peter
Bartlett. 2018.

</span>
<span class="ltx_bibblock">Byzantine-robust distributed learning: Towards
optimal statistical rates. In <em id="bib.bib39.3.1" class="ltx_emph ltx_font_italic">International
Conference on Machine Learning</em>. PMLR, 5650–5659.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang
et al<span id="bib.bib40.2.2.1" class="ltx_text">.</span> (2021a)</span>
<span class="ltx_bibblock">
Jingwen Zhang, Yuezhou
Wu, and Rong Pan. 2021a.

</span>
<span class="ltx_bibblock">Incentive Mechanism for Horizontal Federated
Learning Based on Reputation and Reverse Auction. In
<em id="bib.bib40.3.1" class="ltx_emph ltx_font_italic">the Web Conference</em>. 947–956.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang
et al<span id="bib.bib41.2.2.1" class="ltx_text">.</span> (2021b)</span>
<span class="ltx_bibblock">
Jingwen Zhang, Yuezhou
Wu, and Rong Pan. 2021b.

</span>
<span class="ltx_bibblock">Incentive Mechanism for Horizontal Federated
Learning Based on Reputation and Reverse Auction. In
<em id="bib.bib41.3.1" class="ltx_emph ltx_font_italic">the Web Conference</em>. 947–956.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang
et al<span id="bib.bib42.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
PeiYun Zhang, YanHao Tao,
QingLin Zhao, and MengChu Zhou.
2022.

</span>
<span class="ltx_bibblock">A Rate-and-Trust-Based Node Selection Model for
Block Transmission in Blockchain Networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib42.3.1" class="ltx_emph ltx_font_italic">IEEE Internet of Things Journal</em>
(2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang and Zhou (2020)</span>
<span class="ltx_bibblock">
Peiyun Zhang and Mengchu
Zhou. 2020.

</span>
<span class="ltx_bibblock">Security and trust in blockchains: Architecture,
key technologies, and open issues.

</span>
<span class="ltx_bibblock"><em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Computational Social
Systems</em> 7, 3 (2020),
790–801.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao
et al<span id="bib.bib44.2.2.1" class="ltx_text">.</span> (2020)</span>
<span class="ltx_bibblock">
Bo Zhao, Konda Reddy
Mopuri, and Hakan Bilen.
2020.

</span>
<span class="ltx_bibblock">iDLG: Improved Deep Leakage from Gradients.

</span>
<span class="ltx_bibblock"><em id="bib.bib44.3.1" class="ltx_emph ltx_font_italic">CoRR</em> abs/2001.02610
(2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao
et al<span id="bib.bib45.2.2.1" class="ltx_text">.</span> (2022)</span>
<span class="ltx_bibblock">
Jiaqi Zhao, Hui Zhu,
Fengwei Wang, Rongxing Lu,
Zhe Liu, and Hui Li.
2022.

</span>
<span class="ltx_bibblock">PVD-FL: A Privacy-Preserving and Verifiable
Decentralized Federated Learning Framework.

</span>
<span class="ltx_bibblock"><em id="bib.bib45.3.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Information Forensics
and Security</em> 17 (2022),
2059–2073.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span id="bib.bib46.2.2.1" class="ltx_text">.</span> (2021a)</span>
<span class="ltx_bibblock">
Yang Zhao, Jun Zhao,
Linshan Jiang, Rui Tan,
Dusit Niyato, Zengxiang Li,
Lingjuan Lyu, and Yingbo Liu.
2021a.

</span>
<span class="ltx_bibblock">Privacy-Preserving Blockchain-Based Federated
Learning for IoT Devices.

</span>
<span class="ltx_bibblock"><em id="bib.bib46.3.1" class="ltx_emph ltx_font_italic">IEEE Internet of Things Journal</em>
8, 3 (2021),
1817–1829.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span id="bib.bib47.2.2.1" class="ltx_text">.</span> (2021b)</span>
<span class="ltx_bibblock">
Yang Zhao, Jun Zhao,
Jiawen Kang, Zehang Zhang,
Dusit Niyato, Shuyu Shi, and
Kwok-Yan Lam. 2021b.

</span>
<span class="ltx_bibblock">A Blockchain-Based Approach for Saving and Tracking
Differential-Privacy Cost.

</span>
<span class="ltx_bibblock"><em id="bib.bib47.3.1" class="ltx_emph ltx_font_italic">IEEE Internet Things J.</em>
8, 11 (2021),
8865–8882.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu
et al<span id="bib.bib48.2.2.1" class="ltx_text">.</span> (2023)</span>
<span class="ltx_bibblock">
Juncen Zhu, Jiannong Cao,
Divya Saxena, Shan Jiang, and
Houda Ferradi. 2023.

</span>
<span class="ltx_bibblock">Blockchain-empowered Federated Learning:
Challenges, Solutions, and Future Directions.

</span>
<span class="ltx_bibblock"><em id="bib.bib48.3.1" class="ltx_emph ltx_font_italic">ACM Comput. Surv.</em> 55,
11 (2023), 240:1–240:31.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al<span id="bib.bib49.2.2.1" class="ltx_text">.</span> (2019)</span>
<span class="ltx_bibblock">
Ligeng Zhu, Zhijian Liu,
and Song Han. 2019.

</span>
<span class="ltx_bibblock">Deep Leakage from Gradients.

</span>
<span class="ltx_bibblock"><em id="bib.bib49.3.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing
Systems</em> 32 (2019),
14774–14784.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Supplementary Experiments</h2>

<section id="A1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1. </span>Distance between Sparsed Model Updates</h3>

<div id="A1.SS1.p1" class="ltx_para">
<p id="A1.SS1.p1.1" class="ltx_p">As introduced in Section <a href="#S4.SS4" title="4.4. Verification and Consensus ‣ 4. Detailed Processes of BlockDFL ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a>, we observe that when the gradient compression is introduced, some of the indexes of the transmitted elements with the largest absolute value in different updates still overlap, enabling to spatially distinguish the normal model updates and the poisoned ones.</p>
</div>
<div id="A1.SS1.p2" class="ltx_para">
<p id="A1.SS1.p2.1" class="ltx_p">We randomly split MNIST into 50 subsets with the same number of data samples (IID settings) and poison 15 of them by label-flipping attack as introduced in Section <a href="#S5.SS1" title="5.1. Experimental Setup ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.1</span></a>, in order to simulate the situation that there are 30% malicious participants in a FL system.
We train 50 CNN with 1,662,752 parameters introduced in Section <a href="#S5.SS1" title="5.1. Experimental Setup ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.1</span></a> for 5 epochs, where each CNN is trained on one of the subsets.
Then, we visualize the 50 model updates by t-SNE <cite class="ltx_cite ltx_citemacro_citep">(Van der Maaten and
Hinton, <a href="#bib.bib31" title="" class="ltx_ref">2008</a>)</cite> in Fig. <a href="#A1.F6" title="Figure 6 ‣ A.2. Gradient Compression versus Data Reconstruction ‣ Appendix A Supplementary Experiments ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(a), where a blue dot indicates a poisoned update and a red dot indicates a normal update.
We can observe that the 50 original updates form two clusters that one cluster is composed of normal updates and the other cluster is composed of poisoned ones.</p>
</div>
<div id="A1.SS1.p3" class="ltx_para">
<p id="A1.SS1.p3.1" class="ltx_p">We then sparse the 50 original model updates to 90% sparsity and visualize them by t-SNE in Fig. <a href="#A1.F6" title="Figure 6 ‣ A.2. Gradient Compression versus Data Reconstruction ‣ Appendix A Supplementary Experiments ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(b).
As shown, the sparse updates can still form two clusters with clear boundaries according to whether they are poisoned.
Note that there are some poisoned updates mixed with normal updates in Fig. <a href="#A1.F6" title="Figure 6 ‣ A.2. Gradient Compression versus Data Reconstruction ‣ Appendix A Supplementary Experiments ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(a), while that does not exist in Fig. <a href="#A1.F6" title="Figure 6 ‣ A.2. Gradient Compression versus Data Reconstruction ‣ Appendix A Supplementary Experiments ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(b).
Because there are a huge number of parameters in each model, and some unimportant parameters may have a negative impact on distinguishing whether the model is poisoned or not.
Sparsification helps to focus only on the most important parameters, which may reduce the negative impact of unimportant parameters on the distance calculation.
It may help to improve the effectiveness of Krum, as discussed in Section <a href="#S2.SS1" title="2.1. Poisoning Attack ‣ 2. Preliminaries ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2.1</span></a> and experimentally demonstrated in Section <a href="#S5.SS2" title="5.2. Accuracy and Poisoning Tolerance ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5.2</span></a>.
Therefore, we can conclude that Krum and gradient compression can be simultaneously integrated in a framework without affecting each other.</p>
</div>
</section>
<section id="A1.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2. </span>Gradient Compression versus Data Reconstruction</h3>

<div id="A1.SS2.p1" class="ltx_para">
<p id="A1.SS2.p1.1" class="ltx_p">Gradient compression believes that the contribution of elements in the gradient to the model accuracy is different.
Elements with larger absolute values usually contribute more to the model accuracy.
In distributed machine learning (DML), it can reduce communication overhead by only transmitting the elements with relatively large absolute values.
Model updates in FL are similar to gradients in DML, so gradient compression can be applied to FL directly.</p>
</div>
<div id="A1.SS2.p2" class="ltx_para">
<p id="A1.SS2.p2.1" class="ltx_p">Although gradient compression is not proposed for privacy protection, it can effectively prevent training data from being reconstructed from gradients <cite class="ltx_cite ltx_citemacro_citep">(Shokri and
Shmatikov, <a href="#bib.bib28" title="" class="ltx_ref">2015</a>; Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>; Sun
et al<span class="ltx_text">.</span>, <a href="#bib.bib29" title="" class="ltx_ref">2021</a>)</cite>.
Taking one of the famous model inversion attacks, Deep Leakage from Gradients (DLG) <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>)</cite>, as an example, gradient compression destroys the optimization objectives of DLG attack by discarding many details of the model updates, making it hard for DLG attack to obtain enough information for reconstructing the training data from sparse gradients.</p>
</div>
<div id="A1.SS2.p3" class="ltx_para">
<p id="A1.SS2.p3.1" class="ltx_p">In <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>)</cite>, a series of experiments are conducted to evaluate the performance of DLG attack under different degree of gradient sparsity (ranged in <math id="A1.SS2.p3.1.m1.2" class="ltx_Math" alttext="[1\%,70\%]" display="inline"><semantics id="A1.SS2.p3.1.m1.2a"><mrow id="A1.SS2.p3.1.m1.2.2.2" xref="A1.SS2.p3.1.m1.2.2.3.cmml"><mo stretchy="false" id="A1.SS2.p3.1.m1.2.2.2.3" xref="A1.SS2.p3.1.m1.2.2.3.cmml">[</mo><mrow id="A1.SS2.p3.1.m1.1.1.1.1" xref="A1.SS2.p3.1.m1.1.1.1.1.cmml"><mn id="A1.SS2.p3.1.m1.1.1.1.1.2" xref="A1.SS2.p3.1.m1.1.1.1.1.2.cmml">1</mn><mo id="A1.SS2.p3.1.m1.1.1.1.1.1" xref="A1.SS2.p3.1.m1.1.1.1.1.1.cmml">%</mo></mrow><mo id="A1.SS2.p3.1.m1.2.2.2.4" xref="A1.SS2.p3.1.m1.2.2.3.cmml">,</mo><mrow id="A1.SS2.p3.1.m1.2.2.2.2" xref="A1.SS2.p3.1.m1.2.2.2.2.cmml"><mn id="A1.SS2.p3.1.m1.2.2.2.2.2" xref="A1.SS2.p3.1.m1.2.2.2.2.2.cmml">70</mn><mo id="A1.SS2.p3.1.m1.2.2.2.2.1" xref="A1.SS2.p3.1.m1.2.2.2.2.1.cmml">%</mo></mrow><mo stretchy="false" id="A1.SS2.p3.1.m1.2.2.2.5" xref="A1.SS2.p3.1.m1.2.2.3.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p3.1.m1.2b"><interval closure="closed" id="A1.SS2.p3.1.m1.2.2.3.cmml" xref="A1.SS2.p3.1.m1.2.2.2"><apply id="A1.SS2.p3.1.m1.1.1.1.1.cmml" xref="A1.SS2.p3.1.m1.1.1.1.1"><csymbol cd="latexml" id="A1.SS2.p3.1.m1.1.1.1.1.1.cmml" xref="A1.SS2.p3.1.m1.1.1.1.1.1">percent</csymbol><cn type="integer" id="A1.SS2.p3.1.m1.1.1.1.1.2.cmml" xref="A1.SS2.p3.1.m1.1.1.1.1.2">1</cn></apply><apply id="A1.SS2.p3.1.m1.2.2.2.2.cmml" xref="A1.SS2.p3.1.m1.2.2.2.2"><csymbol cd="latexml" id="A1.SS2.p3.1.m1.2.2.2.2.1.cmml" xref="A1.SS2.p3.1.m1.2.2.2.2.1">percent</csymbol><cn type="integer" id="A1.SS2.p3.1.m1.2.2.2.2.2.cmml" xref="A1.SS2.p3.1.m1.2.2.2.2.2">70</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p3.1.m1.2c">[1\%,70\%]</annotation></semantics></math>), drawing a conclusion that DLG can tolerant up to 20% sparsity of gradients.
When the sparsity exceeds this threshold, reconstructed images are almost not visually recognizable.
We also conduct DLG attack to the model in <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>)</cite> on CIFAR-10 and MNIST with different sparsity of model updates, respectively, to demonstrate this.
For each image, we iterate DLG model for 300 rounds and record the result with the lowest Mean Squared Error (MSE) between the reconstructed image and the original one.
Fig. <a href="#A1.F7" title="Figure 7 ‣ A.2. Gradient Compression versus Data Reconstruction ‣ Appendix A Supplementary Experiments ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> presents the lowest MSE and the corresponding reconstructed images with different sparsity, where the first and next row show the results on an image of CIFAR-10 and MNIST, respectively.
It is observed that as the sparsity gets higher, the visibility of the reconstructed images by DLG attack gets worse.
The results are consistent as reported in <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>)</cite>: when the sparsity exceeds 20%, the reconstructed images are hard to be visually recognized.</p>
</div>
<figure id="A1.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A1.F6.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x18.png" id="A1.F6.sf1.g1" class="ltx_graphics ltx_img_landscape" width="216" height="162" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="A1.F6.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="A1.F6.sf1.3.2" class="ltx_text" style="font-size:80%;">Without sparsification</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A1.F6.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10568/assets/x19.png" id="A1.F6.sf2.g1" class="ltx_graphics ltx_img_landscape" width="216" height="162" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="A1.F6.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="A1.F6.sf2.3.2" class="ltx_text" style="font-size:80%;">With the sparsity of 90%</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6. </span>2-dimensional visualization of model updates on MNIST, where each point represents a model update.</figcaption>
</figure>
<figure id="A1.F7" class="ltx_figure"><img src="/html/2205.10568/assets/x20.png" id="A1.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="442" height="73" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7. </span>MSE of images reconstructed by DLG attack <cite class="ltx_cite ltx_citemacro_citep">(Zhu et al<span class="ltx_text">.</span>, <a href="#bib.bib49" title="" class="ltx_ref">2019</a>)</cite> with different ratio of sparsity <math id="A1.F7.2.m1.1" class="ltx_Math" alttext="s" display="inline"><semantics id="A1.F7.2.m1.1b"><mi id="A1.F7.2.m1.1.1" xref="A1.F7.2.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="A1.F7.2.m1.1c"><ci id="A1.F7.2.m1.1.1.cmml" xref="A1.F7.2.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.F7.2.m1.1d">s</annotation></semantics></math> on CIFAR-10 and MNIST.</figcaption>
</figure>
<div id="A1.SS2.p4" class="ltx_para">
<p id="A1.SS2.p4.1" class="ltx_p">However, it cannot fully guarantee that the information will not be leaked if the reconstructed images are only visually unrecognizable.
To better illustrate the effectiveness of gradient compression to defense DLG attack, randomly generated images are also introduced as a reference.
As shown, for CIFAR-10, when the sparsity exceeds 70%, the MSE of reconstructed image is similar to the randomly generated one, and the corresponding threshold is about 90% for MNIST.
Thus, we conclude that gradient compression can effectively defense the DLG attack with the ratio of sparsity over 70% for CIFAR-10 and 90% for MNIST.</p>
</div>
<div id="A1.SS2.p5" class="ltx_para">
<p id="A1.SS2.p5.1" class="ltx_p">In our experiments of BlockDFL, the sparsity of model updates is more than 85% for CIFAR-10 (averaged to 90%) and more than 90% for MNIST (averaged to 93.75%) to ensure the representation privacy of local training data.
Generally, on the same dataset, the more parameters a model has, the greater sparsity can be employed.
Because deep learning models are usually over-parameterized, which has also been empirically validated through various studies on model quantization <cite class="ltx_cite ltx_citemacro_citep">(Frantar et al<span class="ltx_text">.</span>, <a href="#bib.bib12" title="" class="ltx_ref">2022</a>; Xiao
et al<span class="ltx_text">.</span>, <a href="#bib.bib36" title="" class="ltx_ref">2023</a>)</cite>.</p>
</div>
</section>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Discussions on the Effectiveness of BlockDFL</h2>

<figure id="A2.F8" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A2.F8.sf1" class="ltx_figure ltx_figure_panel"><img src="/html/2205.10568/assets/x21.png" id="A2.F8.sf1.g1" class="ltx_graphics ltx_img_landscape" width="216" height="144" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="A2.F8.sf1.2.1.1" class="ltx_text" style="font-size:80%;">(a)</span> </span><span id="A2.F8.sf1.3.2" class="ltx_text" style="font-size:80%;">on MNIST</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="A2.F8.sf2" class="ltx_figure ltx_figure_panel"><img src="/html/2205.10568/assets/x22.png" id="A2.F8.sf2.g1" class="ltx_graphics ltx_img_landscape" width="216" height="144" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="A2.F8.sf2.2.1.1" class="ltx_text" style="font-size:80%;">(b)</span> </span><span id="A2.F8.sf2.3.2" class="ltx_text" style="font-size:80%;">on CIFAR-10</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8. </span>Changes in proportion of stake held by malicious participants as the rounds go on.</figcaption>
</figure>
<figure id="A2.F9" class="ltx_figure"><img src="/html/2205.10568/assets/x23.png" id="A2.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="258" height="172" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9. </span>Percentage of empty blocks in BlockDFL.</figcaption>
</figure>
<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">In this section, we provide some discussions on the reasons that BlockDFL is effective to defend against poisoning attacks.</p>
</div>
<div id="A2.p2" class="ltx_para">
<p id="A2.p2.2" class="ltx_p">Generally, PBFT can tolerate <math id="A2.p2.1.m1.1" class="ltx_Math" alttext="f" display="inline"><semantics id="A2.p2.1.m1.1a"><mi id="A2.p2.1.m1.1.1" xref="A2.p2.1.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="A2.p2.1.m1.1b"><ci id="A2.p2.1.m1.1.1.cmml" xref="A2.p2.1.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p2.1.m1.1c">f</annotation></semantics></math> malicious participants when there are <math id="A2.p2.2.m2.1" class="ltx_Math" alttext="(3f+1)" display="inline"><semantics id="A2.p2.2.m2.1a"><mrow id="A2.p2.2.m2.1.1.1" xref="A2.p2.2.m2.1.1.1.1.cmml"><mo stretchy="false" id="A2.p2.2.m2.1.1.1.2" xref="A2.p2.2.m2.1.1.1.1.cmml">(</mo><mrow id="A2.p2.2.m2.1.1.1.1" xref="A2.p2.2.m2.1.1.1.1.cmml"><mrow id="A2.p2.2.m2.1.1.1.1.2" xref="A2.p2.2.m2.1.1.1.1.2.cmml"><mn id="A2.p2.2.m2.1.1.1.1.2.2" xref="A2.p2.2.m2.1.1.1.1.2.2.cmml">3</mn><mo lspace="0em" rspace="0em" id="A2.p2.2.m2.1.1.1.1.2.1" xref="A2.p2.2.m2.1.1.1.1.2.1.cmml">​</mo><mi id="A2.p2.2.m2.1.1.1.1.2.3" xref="A2.p2.2.m2.1.1.1.1.2.3.cmml">f</mi></mrow><mo id="A2.p2.2.m2.1.1.1.1.1" xref="A2.p2.2.m2.1.1.1.1.1.cmml">+</mo><mn id="A2.p2.2.m2.1.1.1.1.3" xref="A2.p2.2.m2.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="A2.p2.2.m2.1.1.1.3" xref="A2.p2.2.m2.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.p2.2.m2.1b"><apply id="A2.p2.2.m2.1.1.1.1.cmml" xref="A2.p2.2.m2.1.1.1"><plus id="A2.p2.2.m2.1.1.1.1.1.cmml" xref="A2.p2.2.m2.1.1.1.1.1"></plus><apply id="A2.p2.2.m2.1.1.1.1.2.cmml" xref="A2.p2.2.m2.1.1.1.1.2"><times id="A2.p2.2.m2.1.1.1.1.2.1.cmml" xref="A2.p2.2.m2.1.1.1.1.2.1"></times><cn type="integer" id="A2.p2.2.m2.1.1.1.1.2.2.cmml" xref="A2.p2.2.m2.1.1.1.1.2.2">3</cn><ci id="A2.p2.2.m2.1.1.1.1.2.3.cmml" xref="A2.p2.2.m2.1.1.1.1.2.3">𝑓</ci></apply><cn type="integer" id="A2.p2.2.m2.1.1.1.1.3.cmml" xref="A2.p2.2.m2.1.1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p2.2.m2.1c">(3f+1)</annotation></semantics></math> participants.
However, as shown in Fig. <a href="#S5.F2" title="Figure 2 ‣ 5.1.2. Malicious Participants ‣ 5.1. Experimental Setup ‣ 5. Evaluations ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we experimentally demonstrate that BlockDFL can tolerant 40% malicious participants.
Such enhancement origins from the accumulation of stake held by honest participants.
As described in Section <a href="#S4.SS4" title="4.4. Verification and Consensus ‣ 4. Detailed Processes of BlockDFL ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.4</span></a>, the voting mechanism can produce a non-empty block only if the super majority of verifiers (over 2/3) are honest or the super majority of verifiers are malicious.
When a non-empty block is created, all the verifiers who have voted positively obtain stake.
The situation that over 2/3 verifiers are honest is more likely to occur than the situation that over 2/3 verifiers are malicious when the number of honest participants is larger than that of malicious ones.
Thus, the proportion of stake held by honest participants gradually increases as blocks continue to be generated, making the situation that 2/3 verifiers are honest more and more likely to occur.
Fig. <a href="#A2.F8" title="Figure 8 ‣ Appendix B Discussions on the Effectiveness of BlockDFL ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> present the proportion of stake held by malicious participants decreases as the FL rounds on IID MNIST and CIFAR-10.
As shown in Fig. <a href="#A2.F8" title="Figure 8 ‣ Appendix B Discussions on the Effectiveness of BlockDFL ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, when there are no more than 40% malicious participants, the proportion of stake held by malicious participants decreases as the rounds go on, meaning that malicious participants are increasingly unlikely to be elected as aggregators or verifiers, and thus less likely for a successful poisoning attack to occur.
More specifically, the fewer malicious participants, the more stably the proportion of malicious stake declines.
Note that the stake can also helps to arbitrating the benefits of participants <cite class="ltx_cite ltx_citemacro_citep">(Zhu
et al<span class="ltx_text">.</span>, <a href="#bib.bib48" title="" class="ltx_ref">2023</a>)</cite>.
Fig. <a href="#A2.F9" title="Figure 9 ‣ Appendix B Discussions on the Effectiveness of BlockDFL ‣ BlockDFL: A Blockchain-based Fully Decentralized Peer-to-Peer Federated Learning Framework" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows the percentage of empty blocks.
An empty block means that neither honest nor malicious participants occupy more than 2/3 among verifiers in the corresponding round, resulting in a failed consensus of voting.
The percentage of empty blocks rises with the increase of malicious participants, meaning that when there are more malicious participants, it is more difficult to reach a consensus due to the conflicts between honest and malicious participants.</p>
</div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2205.10567" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2205.10568" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2205.10568">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2205.10568" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2205.10569" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Mar 11 14:52:22 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
