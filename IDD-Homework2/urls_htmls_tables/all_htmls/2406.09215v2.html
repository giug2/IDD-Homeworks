<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>On Softmax Direct Preference Optimization for Recommendation</title>
<!--Generated on Fri Jun 14 15:19:02 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2406.09215v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S1" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Preliminary</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.SS0.SSS0.Px1" title="In 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Task Formulation.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.SS0.SSS0.Px2" title="In 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Fine-tuning LM-based recommenders.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.SS0.SSS0.Px3" title="In 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">RLHF pipeline and DPO.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.SS1" title="In 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Derivation of S-DPO loss</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.SS1.SSS0.Px1" title="In 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Multi-negative Preference Distribution.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.SS1.SSS0.Px2" title="In 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Deriving S-DPO.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.SS1.SSS0.Px3" title="In 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Gradient Analysis.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.SS2" title="In 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Properties of S-DPO</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS0.SSS0.Px1" title="In 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Baselines.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS0.SSS0.Px2" title="In 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Datasets.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS0.SSS0.Px3" title="In 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Implementation.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS1" title="In 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Overall Performance Comparison (RQ1)</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS2" title="In 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Study on S-DPO (RQ2)</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS2.SSS0.Px1" title="In 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Ablation Study.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS2.SSS0.Px2" title="In 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Study on number of negative samples.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS2.SSS0.Px3" title="In 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title">Study on values of <math alttext="\beta" class="ltx_Math" display="inline"><semantics><mi>Î²</mi><annotation-xml encoding="MathML-Content"><ci>ğ›½</ci></annotation-xml><annotation encoding="application/x-tex">\beta</annotation><annotation encoding="application/x-llamapun">italic_Î²</annotation></semantics></math>.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S5" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S5.SS1" title="In 5 Related Work â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>LM for Recommendation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S5.SS2" title="In 5 Related Work â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Preference Alignment of Language Models</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S6" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Limitation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S7" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A1" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Mathematical Derivations</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A1.SS1" title="In Appendix A Mathematical Derivations â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Deriving Preference Distribution</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A1.SS2" title="In Appendix A Mathematical Derivations â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Connection Between DPO and S-DPO</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A1.SS3" title="In Appendix A Mathematical Derivations â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>Deriving the Gradient of S-DPO Loss</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Experimental Settings</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2.SS1" title="In Appendix B Experimental Settings â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.1 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2.SS2" title="In Appendix B Experimental Settings â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.2 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2.SS3" title="In Appendix B Experimental Settings â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.3 </span>Implementation Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2.SS4" title="In Appendix B Experimental Settings â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B.4 </span>Evaluation Metrics</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A3" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Study of Negative Samples Number</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A4" title="In On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Broader Impact</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">On Softmax Direct Preference Optimization for Recommendation</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Yuxin Chen<sup class="ltx_sup" id="12.12.7"><span class="ltx_text ltx_font_italic" id="12.12.7.1">1</span></sup> Â Â  Junfei Tan<sup class="ltx_sup" id="13.13.8"><span class="ltx_text ltx_font_italic" id="13.13.8.1">2</span></sup><span class="ltx_note ltx_role_footnotemark" id="footnotex1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span> Â Â  <span class="ltx_text ltx_font_bold" id="id3.3.1">An Zhang<sup class="ltx_sup" id="id3.3.1.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id3.3.1.1.1">1</span></sup></span>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id6.6.4">Zhengyi Yang<sup class="ltx_sup" id="id6.6.4.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id6.6.4.1.1">2</span></sup> Â Â  Leheng Sheng<sup class="ltx_sup" id="id6.6.4.2"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id6.6.4.2.1">1</span></sup> Â Â  Enzhi Zhang<sup class="ltx_sup" id="id6.6.4.3"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id6.6.4.3.1">3</span></sup></span>
<br class="ltx_break"/>Â Â <span class="ltx_text ltx_font_bold" id="id7.7.5">Xiang Wang<sup class="ltx_sup" id="id7.7.5.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id7.7.5.1.1">2</span></sup></span> Â Â <span class="ltx_text ltx_font_bold" id="id8.8.6">Tat-Seng Chua<sup class="ltx_sup" id="id8.8.6.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id8.8.6.1.1">1</span></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="14.14.9">1</sup>National University of Singapore
<br class="ltx_break"/><sup class="ltx_sup" id="15.15.10">2</sup>University of Science and Technology of China
<br class="ltx_break"/><sup class="ltx_sup" id="16.16.11">3</sup>Hokkaido University
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="17.17.12">e1143404@u.nus.edu</span>,Â Â <span class="ltx_text ltx_font_typewriter" id="18.18.13">sober_clever@mail.ustc.edu.cn</span>,Â Â <span class="ltx_text ltx_font_typewriter" id="19.19.14">anzhang@u.nus.edu</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="20.20.15">e1374479@u.nus.edu</span>,Â Â <span class="ltx_text ltx_font_typewriter" id="21.21.16">enzhi.zhang.n6@elms.hokudai.ac.jp</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="22.22.17">yangzhy1998@gmail.com</span>,Â Â <span class="ltx_text ltx_font_typewriter" id="23.23.18">xiangwang1223@gmail.com</span>,Â Â <span class="ltx_text ltx_font_typewriter" id="24.24.19">dcscts@nus.edu.sg</span>
</span><span class="ltx_author_notes">These authors contributed equally to this work.An Zhang is the corresponding author.</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="25.1">Recommender systems aim to predict personalized rankings based on user preference data.
With the rise of Language Models (LMs), LM-based recommenders have been widely explored due to their extensive world knowledge and powerful reasoning abilities.
Most of the LM-based recommenders convert historical interactions into language prompts, pairing with a positive item as the target response and fine-tuning LM with a language modeling loss.
However, the current objective fails to fully leverage preference data and is not optimized for personalized ranking tasks, which hinders the performance of LM-based recommenders.
Inspired by the current advancement of Direct Preference Optimization (DPO) in human preference alignment and the success of softmax loss in recommendations, we propose Softmax-DPO (<span class="ltx_text ltx_font_bold" id="25.1.1">S-DPO</span>) to instill ranking information into the LM to help LM-based recommenders distinguish preferred items from negatives, rather than solely focusing on positives.
Specifically, we incorporate multiple negatives in user preference data and devise an alternative version of DPO loss tailored for LM-based recommenders, connected to softmax sampling strategies.
Theoretically, we bridge S-DPO with the softmax loss over negative sampling and find that it has a side effect of mining hard negatives, which assures its exceptional capabilities in recommendation tasks.
Empirically, extensive experiments conducted on three real-world datasets demonstrate the superiority of S-DPO to effectively model user preference and further boost recommendation performance while mitigating the data likelihood decline issue of DPO.
Our codes are available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/chenyuxin1999/S-DPO" title="">https://github.com/chenyuxin1999/S-DPO</a>.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Recommender systems aim to predict personalized rankings based on user preference data, <em class="ltx_emph ltx_font_italic" id="S1.p1.1.1">i.e., </em>historical interactions such as purchases, clicks, and ratings <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib1" title="">1</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib2" title="">2</a>]</cite>.
Recently, leveraging the extensive world knowledge and powerful reasoning abilities of language models (LMs) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib3" title="">3</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib4" title="">4</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib5" title="">5</a>]</cite>, LM-based recommenders have been broadly explored <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib7" title="">7</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib8" title="">8</a>]</cite>.
These recommenders convert historical interaction data into language prompts and either perform in-context learning or fine-tune LMs, demonstrating notable advantages, including zero-shot and few-shot reasoning <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib10" title="">10</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib12" title="">12</a>]</cite>, enhanced generalization abilities <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib14" title="">14</a>]</cite>, and rich semantic understanding <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib16" title="">16</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib17" title="">17</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite>.
However, current LM-based recommenders typically utilize language modeling loss for personalized ranking objectivesâ€”predicting the next tokenâ€”which significantly differs from the objective of modeling user preferences in recommendation tasks <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib19" title="">19</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib20" title="">20</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">We argue that the current objective of LM-based recommenders does not fully utilize preference data and is not optimized for personalized ranking tasks, thereby hindering recommendation performance.
Most LM-based recommenders address recommendation tasks by leveraging specialized language prompts <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib16" title="">16</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib21" title="">21</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib22" title="">22</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib23" title="">23</a>]</cite>, incorporating collaborative signals as a new modality <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib17" title="">17</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib24" title="">24</a>]</cite>, or extending the vocabulary of LMs with item tokens <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib25" title="">25</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib26" title="">26</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib27" title="">27</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib28" title="">28</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib29" title="">29</a>]</cite>.
Typically, these recommenders pair each language prompt, including the userâ€™s historical interaction item lists, with a single positive item and then update LM parameters using language modeling loss <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite>.
Despite being designed for recommendation tasks, these LM-based recommenders do not consider negative items and are not directly optimized for personalized rankings.
Such a training paradigm fails to fully leverage user preference data and overlooks the role of negative items in recommendations, thereby impeding the alignment of LMs with user preferences.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Inspired by the success of using human-labeled data to align LMs with human preferences <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib30" title="">30</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib31" title="">31</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib32" title="">32</a>]</cite> and advancements in direct preference optimization (DPO) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib33" title="">33</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib34" title="">34</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib35" title="">35</a>]</cite>, we make progress on aligning LMs with recommendations by fine-tuning them to predict the next item in accordance with the userâ€™s preference.
This preference alignment stage aims to instill ranking information into the LMs and help recommenders distinguish preferred items from negatives, rather than solely focusing on positives.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Towards this end, we incorporate multiple negatives in user preference data and devise an alternative version of DPO loss tailored for recommendation, connected to softmax sampling strategies <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib19" title="">19</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib36" title="">36</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib37" title="">37</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib38" title="">38</a>]</cite>, which we call <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">S-DPO</span>.
Specifically, we first devise supervised fine-tuning to inject domain knowledge and improve LMâ€™s ability to follow the instructions before preference alignment phase, following <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib32" title="">32</a>]</cite>.
In the preference alignment stage, instead of constructing solely positive pairs, we initially pair each language prompt with both positive and randomly sampled multiple negatives to build text-based preference data.
Building upon these preference data, we extend conventional DPO with the Bradley-Terry preference model <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib33" title="">33</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib39" title="">39</a>]</cite> on pairwise data to the Plackett-Luce preference model <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib40" title="">40</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib41" title="">41</a>]</cite>, which handles relative rankings in recommendation tasks.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Benefiting from the use of multiple negatives in preference data, our S-DPO offers three appealing properties.
On the one hand, S-DPO serves as the first specialized personalized ranking loss for LM-based recommenders, effectively utilizing multiple negatives and acknowledging the importance of preference data.
Empirically, we demonstrate that it provides more effective ranking gradients and mitigates the instability associated with DPO training (<em class="ltx_emph ltx_font_italic" id="S1.p5.1.1">cf. </em>Section <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS2.SSS0.Px2" title="Study on number of negative samples. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">4.2</span></a>).
On the other hand, we theoretically bridge the DPO loss with the traditional BPR loss <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib42" title="">42</a>]</cite> over pairwise data and connect S-DPO with the softmax loss over negative sampling (also known as contrastive loss in self-supervised recommendations, which achieves state-of-the-art performance <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib36" title="">36</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib43" title="">43</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib44" title="">44</a>]</cite>).
This connection naturally underscores the ranking performance of S-DPO and highlights the critical role of multiple negatives.
Furthermore, we find that S-DPO has a side effect of mining hard negative examples similar to contrastive learning paradigm <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib37" title="">37</a>]</cite>, which not only boosts the performance but also accelerates the training process (<em class="ltx_emph ltx_font_italic" id="S1.p5.1.2">cf. </em>Section <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.SS1.SSS0.Px3" title="Gradient Analysis. â€£ 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3.1</span></a>), assuring its exceptional capabilities in recommendation tasks.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">Overall, our contributions can be concluded as follows:</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">We are among the first to point out that the widely used language modeling loss in LM-based recommendation is not designed for ranking tasks and fails to fully utilize user preference data, thereby hindering recommendation performance.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">We propose S-DPO, an alternative version of DPO loss tailored for LM-based recommenders, incorporating multiple negatives to instill ranking information into LM.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1">We theoretically bridge S-DPO with the softmax loss over negative sampling to highlight the critical role of multiple negatives and find its side effect of mining hard negatives, assuring its capabilities.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="133" id="S1.F1.g1" src="extracted/5667968/figure/framework.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.2.1.1" style="font-size:90%;">Figure 1</span>: </span><span class="ltx_text" id="S1.F1.3.2" style="font-size:90%;">Framework of S-DPO. Different from existing methods which fine-tune LMs with a language modeling loss without tailoring for recommendations, S-DPO proposes to explicitly instill ranking information into LMs. To take one step further, S-DPO incorporates multiple negatives in user preference data and generalizes pairwise DPO loss to softmax ranking loss.</span></figcaption>
</figure>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Preliminary</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">In this section, we first formalize sequential recommendation as the task of aligning language models (LMs) with user preferences.
Then, we discuss the general framework of current LM-based recommenders that utilizes language modeling loss to fine-tune LMs.
Finally, we outline the training process widely used to align LMs with human preferences, including reinforcement learning from human feedback (RLHF) and direct preference optimization (DPO).</p>
</div>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Task Formulation.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.9">Given the historical interactions <math alttext="\mathcal{H}_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.1.m1.1"><semantics id="S2.SS0.SSS0.Px1.p1.1.m1.1a"><msub id="S2.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml">â„‹</mi><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.2">â„‹</ci><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.1.m1.1c">\mathcal{H}_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.1.m1.1d">caligraphic_H start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> of one user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.2.m2.1"><semantics id="S2.SS0.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.2.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.2.m2.1d">italic_u</annotation></semantics></math> in chronological order, the goal of LM-based sequential recommender <math alttext="\mathcal{M}_{\theta}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.3.m3.1"><semantics id="S2.SS0.SSS0.Px1.p1.3.m3.1a"><msub id="S2.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.2" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml">â„³</mi><mi id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.3" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml">Î¸</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.3.m3.1b"><apply id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.2">â„³</ci><ci id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.3">ğœƒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.3.m3.1c">\mathcal{M}_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.3.m3.1d">caligraphic_M start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT</annotation></semantics></math>, where <math alttext="\theta" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.4.m4.1"><semantics id="S2.SS0.SSS0.Px1.p1.4.m4.1a"><mi id="S2.SS0.SSS0.Px1.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1.cmml">Î¸</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.4.m4.1b"><ci id="S2.SS0.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1">ğœƒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.4.m4.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.4.m4.1d">italic_Î¸</annotation></semantics></math> represents trainable parameters, is to select the item <math alttext="i_{p}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.5.m5.1"><semantics id="S2.SS0.SSS0.Px1.p1.5.m5.1a"><msub id="S2.SS0.SSS0.Px1.p1.5.m5.1.1" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.2" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.3" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.5.m5.1b"><apply id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.5.m5.1c">i_{p}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.5.m5.1d">italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> preferred by user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.6.m6.1"><semantics id="S2.SS0.SSS0.Px1.p1.6.m6.1a"><mi id="S2.SS0.SSS0.Px1.p1.6.m6.1.1" xref="S2.SS0.SSS0.Px1.p1.6.m6.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.6.m6.1b"><ci id="S2.SS0.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.6.m6.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.6.m6.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.6.m6.1d">italic_u</annotation></semantics></math> from candidate set <math alttext="C=\{i_{j}\}_{j=1}^{N}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.7.m7.1"><semantics id="S2.SS0.SSS0.Px1.p1.7.m7.1a"><mrow id="S2.SS0.SSS0.Px1.p1.7.m7.1.1" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.3" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.3.cmml">C</mi><mo id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.2" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.2.cmml">=</mo><msubsup id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.cmml"><mrow id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.2.cmml">{</mo><msub id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.2" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.2.cmml">j</mi><mo id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.1" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.1.cmml">=</mo><mn id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.3.cmml">N</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.7.m7.1b"><apply id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1"><eq id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.2"></eq><ci id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.3">ğ¶</ci><apply id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1">superscript</csymbol><apply id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1">subscript</csymbol><set id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1"><apply id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.1.1.1.3">ğ‘—</ci></apply></set><apply id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3"><eq id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.1"></eq><ci id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.2">ğ‘—</ci><cn id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.3.cmml" type="integer" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.3">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.7.m7.1c">C=\{i_{j}\}_{j=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.7.m7.1d">italic_C = { italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math>, where N is the number of candidates.
This task requires that item <math alttext="i_{p}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.8.m8.1"><semantics id="S2.SS0.SSS0.Px1.p1.8.m8.1a"><msub id="S2.SS0.SSS0.Px1.p1.8.m8.1.1" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.8.m8.1.1.2" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px1.p1.8.m8.1.1.3" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.8.m8.1b"><apply id="S2.SS0.SSS0.Px1.p1.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.8.m8.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.8.m8.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px1.p1.8.m8.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.8.m8.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.8.m8.1c">i_{p}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.8.m8.1d">italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> be preferred over the other candidate items, denoted by <math alttext="\mathcal{I}_{d}=C\backslash\{i_{p}\}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.9.m9.1"><semantics id="S2.SS0.SSS0.Px1.p1.9.m9.1a"><mrow id="S2.SS0.SSS0.Px1.p1.9.m9.1.1" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.cmml"><msub id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.2" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.2.cmml">â„</mi><mi id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.3" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.3.cmml">d</mi></msub><mo id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.2" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.2.cmml">=</mo><mrow id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.3.cmml">C</mi><mo id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.2.cmml">\</mo><mrow id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.2.cmml">{</mo><msub id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.2.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.9.m9.1b"><apply id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1"><eq id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.2"></eq><apply id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.2">â„</ci><ci id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.3.3">ğ‘‘</ci></apply><apply id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1"><ci id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.2">\</ci><ci id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.3">ğ¶</ci><set id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1"><apply id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.9.m9.1.1.1.1.1.1.3">ğ‘</ci></apply></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.9.m9.1c">\mathcal{I}_{d}=C\backslash\{i_{p}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.9.m9.1d">caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT = italic_C \ { italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT }</annotation></semantics></math>.
This requirement explicitly defines a multi-negative preference understanding for LM-based recommenders, which can be formulated as follows:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx1">
<tbody id="S2.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\forall i_{d}\in\mathcal{I}_{d},\quad i_{p}&gt;_{u}i_{d}," class="ltx_Math" display="inline" id="S2.E1.m1.1"><semantics id="S2.E1.m1.1a"><mrow id="S2.E1.m1.1.1.1"><mrow id="S2.E1.m1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.3.cmml"><mrow id="S2.E1.m1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.cmml"><mrow id="S2.E1.m1.1.1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.1.2.cmml"><mo id="S2.E1.m1.1.1.1.1.1.1.2.1" rspace="0.167em" xref="S2.E1.m1.1.1.1.1.1.1.2.1.cmml">âˆ€</mo><msub id="S2.E1.m1.1.1.1.1.1.1.2.2" xref="S2.E1.m1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.E1.m1.1.1.1.1.1.1.2.2.2" xref="S2.E1.m1.1.1.1.1.1.1.2.2.2.cmml">i</mi><mi id="S2.E1.m1.1.1.1.1.1.1.2.2.3" xref="S2.E1.m1.1.1.1.1.1.1.2.2.3.cmml">d</mi></msub></mrow><mo id="S2.E1.m1.1.1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.1.1.cmml">âˆˆ</mo><msub id="S2.E1.m1.1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.1.1.1.1.1.1.3.2.cmml">â„</mi><mi id="S2.E1.m1.1.1.1.1.1.1.3.3" xref="S2.E1.m1.1.1.1.1.1.1.3.3.cmml">d</mi></msub></mrow><mo id="S2.E1.m1.1.1.1.1.2.3" rspace="1.167em" xref="S2.E1.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S2.E1.m1.1.1.1.1.2.2" xref="S2.E1.m1.1.1.1.1.2.2.cmml"><msub id="S2.E1.m1.1.1.1.1.2.2.2" xref="S2.E1.m1.1.1.1.1.2.2.2.cmml"><mi id="S2.E1.m1.1.1.1.1.2.2.2.2" xref="S2.E1.m1.1.1.1.1.2.2.2.2.cmml">i</mi><mi id="S2.E1.m1.1.1.1.1.2.2.2.3" xref="S2.E1.m1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><msub id="S2.E1.m1.1.1.1.1.2.2.1" xref="S2.E1.m1.1.1.1.1.2.2.1.cmml"><mo id="S2.E1.m1.1.1.1.1.2.2.1.2" xref="S2.E1.m1.1.1.1.1.2.2.1.2.cmml">&gt;</mo><mi id="S2.E1.m1.1.1.1.1.2.2.1.3" xref="S2.E1.m1.1.1.1.1.2.2.1.3.cmml">u</mi></msub><msub id="S2.E1.m1.1.1.1.1.2.2.3" xref="S2.E1.m1.1.1.1.1.2.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1.2.2.3.2" xref="S2.E1.m1.1.1.1.1.2.2.3.2.cmml">i</mi><mi id="S2.E1.m1.1.1.1.1.2.2.3.3" xref="S2.E1.m1.1.1.1.1.2.2.3.3.cmml">d</mi></msub></mrow></mrow><mo id="S2.E1.m1.1.1.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.1b"><apply id="S2.E1.m1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.3a.cmml" xref="S2.E1.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1"><in id="S2.E1.m1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.1"></in><apply id="S2.E1.m1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2"><csymbol cd="latexml" id="S2.E1.m1.1.1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2.1">for-all</csymbol><apply id="S2.E1.m1.1.1.1.1.1.1.2.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2.2.2">ğ‘–</ci><ci id="S2.E1.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.2.2.3">ğ‘‘</ci></apply></apply><apply id="S2.E1.m1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.2">â„</ci><ci id="S2.E1.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.E1.m1.1.1.1.1.1.1.3.3">ğ‘‘</ci></apply></apply><apply id="S2.E1.m1.1.1.1.1.2.2.cmml" xref="S2.E1.m1.1.1.1.1.2.2"><apply id="S2.E1.m1.1.1.1.1.2.2.1.cmml" xref="S2.E1.m1.1.1.1.1.2.2.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.2.2.1.1.cmml" xref="S2.E1.m1.1.1.1.1.2.2.1">subscript</csymbol><gt id="S2.E1.m1.1.1.1.1.2.2.1.2.cmml" xref="S2.E1.m1.1.1.1.1.2.2.1.2"></gt><ci id="S2.E1.m1.1.1.1.1.2.2.1.3.cmml" xref="S2.E1.m1.1.1.1.1.2.2.1.3">ğ‘¢</ci></apply><apply id="S2.E1.m1.1.1.1.1.2.2.2.cmml" xref="S2.E1.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.2.2.2.1.cmml" xref="S2.E1.m1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.2.2.2.2.cmml" xref="S2.E1.m1.1.1.1.1.2.2.2.2">ğ‘–</ci><ci id="S2.E1.m1.1.1.1.1.2.2.2.3.cmml" xref="S2.E1.m1.1.1.1.1.2.2.2.3">ğ‘</ci></apply><apply id="S2.E1.m1.1.1.1.1.2.2.3.cmml" xref="S2.E1.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.2.2.3.1.cmml" xref="S2.E1.m1.1.1.1.1.2.2.3">subscript</csymbol><ci id="S2.E1.m1.1.1.1.1.2.2.3.2.cmml" xref="S2.E1.m1.1.1.1.1.2.2.3.2">ğ‘–</ci><ci id="S2.E1.m1.1.1.1.1.2.2.3.3.cmml" xref="S2.E1.m1.1.1.1.1.2.2.3.3">ğ‘‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.1c">\displaystyle\forall i_{d}\in\mathcal{I}_{d},\quad i_{p}&gt;_{u}i_{d},</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.1d">âˆ€ italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT &gt; start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS0.SSS0.Px1.p1.11">wherein <math alttext="&gt;_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.10.m1.1"><semantics id="S2.SS0.SSS0.Px1.p1.10.m1.1a"><msub id="S2.SS0.SSS0.Px1.p1.10.m1.1.1" xref="S2.SS0.SSS0.Px1.p1.10.m1.1.1.cmml"><mo id="S2.SS0.SSS0.Px1.p1.10.m1.1.1.2" xref="S2.SS0.SSS0.Px1.p1.10.m1.1.1.2.cmml">&gt;</mo><mi id="S2.SS0.SSS0.Px1.p1.10.m1.1.1.3" xref="S2.SS0.SSS0.Px1.p1.10.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.10.m1.1b"><apply id="S2.SS0.SSS0.Px1.p1.10.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.10.m1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.10.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.10.m1.1.1">subscript</csymbol><gt id="S2.SS0.SSS0.Px1.p1.10.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.10.m1.1.1.2"></gt><ci id="S2.SS0.SSS0.Px1.p1.10.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.10.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.10.m1.1c">&gt;_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.10.m1.1d">&gt; start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> stands for the preference of user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px1.p1.11.m2.1"><semantics id="S2.SS0.SSS0.Px1.p1.11.m2.1a"><mi id="S2.SS0.SSS0.Px1.p1.11.m2.1.1" xref="S2.SS0.SSS0.Px1.p1.11.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.11.m2.1b"><ci id="S2.SS0.SSS0.Px1.p1.11.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.11.m2.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.11.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px1.p1.11.m2.1d">italic_u</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Fine-tuning LM-based recommenders.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.13">Current LM-based recommenders widely adopt supervised fine-tuning (SFT) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib32" title="">32</a>]</cite> on recommendation-specific data to enhance their performance <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib6" title="">6</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib8" title="">8</a>]</cite>.
Generally, this involves two steps: structuring recommendation data as text-based pairs and then fine-tuning LMs based on these pairs.
In the first step, for user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.1.m1.1"><semantics id="S2.SS0.SSS0.Px2.p1.1.m1.1a"><mi id="S2.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.1.m1.1b"><ci id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.1.m1.1d">italic_u</annotation></semantics></math>, a recommendation task prompt <math alttext="x_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.2.m2.1"><semantics id="S2.SS0.SSS0.Px2.p1.2.m2.1a"><msub id="S2.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.2.m2.1b"><apply id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.2.m2.1c">x_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> encompasses the userâ€™s historical interactions <math alttext="\mathcal{H}_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.3.m3.1"><semantics id="S2.SS0.SSS0.Px2.p1.3.m3.1a"><msub id="S2.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml">â„‹</mi><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.3.m3.1b"><apply id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2">â„‹</ci><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.3.m3.1c">\mathcal{H}_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.3.m3.1d">caligraphic_H start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>, the candidate item set <math alttext="C" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.4.m4.1"><semantics id="S2.SS0.SSS0.Px2.p1.4.m4.1a"><mi id="S2.SS0.SSS0.Px2.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.4.m4.1b"><ci id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.4.m4.1c">C</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.4.m4.1d">italic_C</annotation></semantics></math>, and a description of the sequential recommendation task.
This prompt <math alttext="x_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.5.m5.1"><semantics id="S2.SS0.SSS0.Px2.p1.5.m5.1a"><msub id="S2.SS0.SSS0.Px2.p1.5.m5.1.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.2" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.3" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.5.m5.1b"><apply id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.5.m5.1c">x_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.5.m5.1d">italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> is paired with the title of the preferred item <math alttext="i_{p}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.6.m6.1"><semantics id="S2.SS0.SSS0.Px2.p1.6.m6.1a"><msub id="S2.SS0.SSS0.Px2.p1.6.m6.1.1" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.2" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.6.m6.1b"><apply id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.6.m6.1c">i_{p}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.6.m6.1d">italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> in the candidate set <math alttext="C" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.7.m7.1"><semantics id="S2.SS0.SSS0.Px2.p1.7.m7.1a"><mi id="S2.SS0.SSS0.Px2.p1.7.m7.1.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.7.m7.1b"><ci id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1">ğ¶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.7.m7.1c">C</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.7.m7.1d">italic_C</annotation></semantics></math>, denoted as <math alttext="e_{p}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.8.m8.1"><semantics id="S2.SS0.SSS0.Px2.p1.8.m8.1a"><msub id="S2.SS0.SSS0.Px2.p1.8.m8.1.1" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.8.m8.1b"><apply id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.8.m8.1c">e_{p}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.8.m8.1d">italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math>, to form the pair data <math alttext="(x_{u},e_{p})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.9.m9.2"><semantics id="S2.SS0.SSS0.Px2.p1.9.m9.2a"><mrow id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.4" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.3" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.9.m9.2b"><interval closure="open" id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2"><apply id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.9.m9.2.2.2.2.3">ğ‘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.9.m9.2c">(x_{u},e_{p})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.9.m9.2d">( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT )</annotation></semantics></math>.
In the second step, the <math alttext="(x_{u},e_{p})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.10.m10.2"><semantics id="S2.SS0.SSS0.Px2.p1.10.m10.2a"><mrow id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.4" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.3" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.10.m10.2b"><interval closure="open" id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2"><apply id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.10.m10.2.2.2.2.3">ğ‘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.10.m10.2c">(x_{u},e_{p})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.10.m10.2d">( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT )</annotation></semantics></math> pairs are utilized to fine-tune the LM-based recommender <math alttext="\mathcal{M}_{\theta}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.11.m11.1"><semantics id="S2.SS0.SSS0.Px2.p1.11.m11.1a"><msub id="S2.SS0.SSS0.Px2.p1.11.m11.1.1" xref="S2.SS0.SSS0.Px2.p1.11.m11.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.11.m11.1.1.2" xref="S2.SS0.SSS0.Px2.p1.11.m11.1.1.2.cmml">â„³</mi><mi id="S2.SS0.SSS0.Px2.p1.11.m11.1.1.3" xref="S2.SS0.SSS0.Px2.p1.11.m11.1.1.3.cmml">Î¸</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.11.m11.1b"><apply id="S2.SS0.SSS0.Px2.p1.11.m11.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.11.m11.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.11.m11.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.11.m11.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.11.m11.1.1.2">â„³</ci><ci id="S2.SS0.SSS0.Px2.p1.11.m11.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.11.m11.1.1.3">ğœƒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.11.m11.1c">\mathcal{M}_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.11.m11.1d">caligraphic_M start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT</annotation></semantics></math> through language modeling loss.
This loss, commonly used in SFT in language modeling tasks, implicitly treats the recommendation task as predicting the next token based on preceding tokens.
Formally, the objective of optimizing the LM-based recommender <math alttext="\mathcal{M}_{\theta}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.12.m12.1"><semantics id="S2.SS0.SSS0.Px2.p1.12.m12.1a"><msub id="S2.SS0.SSS0.Px2.p1.12.m12.1.1" xref="S2.SS0.SSS0.Px2.p1.12.m12.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px2.p1.12.m12.1.1.2" xref="S2.SS0.SSS0.Px2.p1.12.m12.1.1.2.cmml">â„³</mi><mi id="S2.SS0.SSS0.Px2.p1.12.m12.1.1.3" xref="S2.SS0.SSS0.Px2.p1.12.m12.1.1.3.cmml">Î¸</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.12.m12.1b"><apply id="S2.SS0.SSS0.Px2.p1.12.m12.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.12.m12.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.12.m12.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.12.m12.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.12.m12.1.1.2">â„³</ci><ci id="S2.SS0.SSS0.Px2.p1.12.m12.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.12.m12.1.1.3">ğœƒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.12.m12.1c">\mathcal{M}_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.12.m12.1d">caligraphic_M start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT</annotation></semantics></math> with pair data <math alttext="(x_{u},e_{p})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.13.m13.2"><semantics id="S2.SS0.SSS0.Px2.p1.13.m13.2a"><mrow id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.4" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.2" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.3" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.13.m13.2b"><interval closure="open" id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2"><apply id="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.13.m13.2.2.2.2.3">ğ‘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.13.m13.2c">(x_{u},e_{p})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.13.m13.2d">( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT )</annotation></semantics></math> can be formulated as:
</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx2">
<tbody id="S2.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\underset{\theta}{\rm max}\sum_{(x_{u},e_{p})}\sum_{t=1}^{|e_{p}|%
}{\rm log}(P_{\theta}({(e_{p})}_{t}|x_{u},{(e_{p})}_{&lt;t})," class="ltx_math_unparsed" display="inline" id="S2.E2.m1.3"><semantics id="S2.E2.m1.3a"><mrow id="S2.E2.m1.3b"><munder accentunder="true" id="S2.E2.m1.3.4"><mi id="S2.E2.m1.3.4.2">max</mi><mo id="S2.E2.m1.3.4.1">ğœƒ</mo></munder><mstyle displaystyle="true" id="S2.E2.m1.3.5"><munder id="S2.E2.m1.3.5a"><mo id="S2.E2.m1.3.5.2" movablelimits="false">âˆ‘</mo><mrow id="S2.E2.m1.2.2.2.2"><mo id="S2.E2.m1.2.2.2.2.3" stretchy="false">(</mo><msub id="S2.E2.m1.1.1.1.1.1"><mi id="S2.E2.m1.1.1.1.1.1.2" mathvariant="normal">x</mi><mi id="S2.E2.m1.1.1.1.1.1.3" mathvariant="normal">u</mi></msub><mo id="S2.E2.m1.2.2.2.2.4">,</mo><msub id="S2.E2.m1.2.2.2.2.2"><mi id="S2.E2.m1.2.2.2.2.2.2" mathvariant="normal">e</mi><mi id="S2.E2.m1.2.2.2.2.2.3" mathvariant="normal">p</mi></msub><mo id="S2.E2.m1.2.2.2.2.5" stretchy="false">)</mo></mrow></munder></mstyle><mstyle displaystyle="true" id="S2.E2.m1.3.6"><munderover id="S2.E2.m1.3.6a"><mo id="S2.E2.m1.3.6.2.2" movablelimits="false">âˆ‘</mo><mrow id="S2.E2.m1.3.6.2.3"><mi id="S2.E2.m1.3.6.2.3.2" mathvariant="normal">t</mi><mo id="S2.E2.m1.3.6.2.3.1">=</mo><mn id="S2.E2.m1.3.6.2.3.3">1</mn></mrow><mrow id="S2.E2.m1.3.3.1.1"><mo id="S2.E2.m1.3.3.1.1.2" stretchy="false">|</mo><msub id="S2.E2.m1.3.3.1.1.1"><mi id="S2.E2.m1.3.3.1.1.1.2" mathvariant="normal">e</mi><mi id="S2.E2.m1.3.3.1.1.1.3" mathvariant="normal">p</mi></msub><mo id="S2.E2.m1.3.3.1.1.3" stretchy="false">|</mo></mrow></munderover></mstyle><mi id="S2.E2.m1.3.7">log</mi><mrow id="S2.E2.m1.3.8"><mo id="S2.E2.m1.3.8.1" stretchy="false">(</mo><msub id="S2.E2.m1.3.8.2"><mi id="S2.E2.m1.3.8.2.2" mathvariant="normal">P</mi><mi id="S2.E2.m1.3.8.2.3">Î¸</mi></msub><mrow id="S2.E2.m1.3.8.3"><mo id="S2.E2.m1.3.8.3.1" stretchy="false">(</mo><msub id="S2.E2.m1.3.8.3.2"><mrow id="S2.E2.m1.3.8.3.2.2"><mo id="S2.E2.m1.3.8.3.2.2.1" stretchy="false">(</mo><msub id="S2.E2.m1.3.8.3.2.2.2"><mi id="S2.E2.m1.3.8.3.2.2.2.2" mathvariant="normal">e</mi><mi id="S2.E2.m1.3.8.3.2.2.2.3" mathvariant="normal">p</mi></msub><mo id="S2.E2.m1.3.8.3.2.2.3" stretchy="false">)</mo></mrow><mi id="S2.E2.m1.3.8.3.2.3" mathvariant="normal">t</mi></msub><mo fence="false" id="S2.E2.m1.3.8.3.3" rspace="0.167em" stretchy="false">|</mo><msub id="S2.E2.m1.3.8.3.4"><mi id="S2.E2.m1.3.8.3.4.2" mathvariant="normal">x</mi><mi id="S2.E2.m1.3.8.3.4.3" mathvariant="normal">u</mi></msub><mo id="S2.E2.m1.3.8.3.5">,</mo><msub id="S2.E2.m1.3.8.3.6"><mrow id="S2.E2.m1.3.8.3.6.2"><mo id="S2.E2.m1.3.8.3.6.2.1" stretchy="false">(</mo><msub id="S2.E2.m1.3.8.3.6.2.2"><mi id="S2.E2.m1.3.8.3.6.2.2.2" mathvariant="normal">e</mi><mi id="S2.E2.m1.3.8.3.6.2.2.3" mathvariant="normal">p</mi></msub><mo id="S2.E2.m1.3.8.3.6.2.3" stretchy="false">)</mo></mrow><mrow id="S2.E2.m1.3.8.3.6.3"><mi id="S2.E2.m1.3.8.3.6.3.2"></mi><mo id="S2.E2.m1.3.8.3.6.3.1">&lt;</mo><mi id="S2.E2.m1.3.8.3.6.3.3" mathvariant="normal">t</mi></mrow></msub><mo id="S2.E2.m1.3.8.3.7" stretchy="false">)</mo></mrow><mo id="S2.E2.m1.3.8.4">,</mo></mrow></mrow><annotation encoding="application/x-tex" id="S2.E2.m1.3c">\displaystyle\underset{\theta}{\rm max}\sum_{(x_{u},e_{p})}\sum_{t=1}^{|e_{p}|%
}{\rm log}(P_{\theta}({(e_{p})}_{t}|x_{u},{(e_{p})}_{&lt;t}),</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.3d">underitalic_Î¸ start_ARG roman_max end_ARG âˆ‘ start_POSTSUBSCRIPT ( roman_x start_POSTSUBSCRIPT roman_u end_POSTSUBSCRIPT , roman_e start_POSTSUBSCRIPT roman_p end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT âˆ‘ start_POSTSUBSCRIPT roman_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | roman_e start_POSTSUBSCRIPT roman_p end_POSTSUBSCRIPT | end_POSTSUPERSCRIPT roman_log ( roman_P start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( ( roman_e start_POSTSUBSCRIPT roman_p end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT roman_t end_POSTSUBSCRIPT | roman_x start_POSTSUBSCRIPT roman_u end_POSTSUBSCRIPT , ( roman_e start_POSTSUBSCRIPT roman_p end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT &lt; roman_t end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p1.20">where <math alttext="|e_{p}|" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.14.m1.1"><semantics id="S2.SS0.SSS0.Px2.p1.14.m1.1a"><mrow id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.2.1.cmml">|</mo><msub id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.2.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.14.m1.1b"><apply id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1"><abs id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.2"></abs><apply id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.14.m1.1.1.1.1.3">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.14.m1.1c">|e_{p}|</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.14.m1.1d">| italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT |</annotation></semantics></math> is the number of tokens in <math alttext="e_{p}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.15.m2.1"><semantics id="S2.SS0.SSS0.Px2.p1.15.m2.1a"><msub id="S2.SS0.SSS0.Px2.p1.15.m2.1.1" xref="S2.SS0.SSS0.Px2.p1.15.m2.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.15.m2.1.1.2" xref="S2.SS0.SSS0.Px2.p1.15.m2.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.15.m2.1.1.3" xref="S2.SS0.SSS0.Px2.p1.15.m2.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.15.m2.1b"><apply id="S2.SS0.SSS0.Px2.p1.15.m2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.15.m2.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.15.m2.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.15.m2.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.15.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.15.m2.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.15.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.15.m2.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.15.m2.1c">e_{p}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.15.m2.1d">italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="(e_{p})_{t}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.16.m3.1"><semantics id="S2.SS0.SSS0.Px2.p1.16.m3.1a"><msub id="S2.SS0.SSS0.Px2.p1.16.m3.1.1" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.cmml"><mrow id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.cmml">(</mo><msub id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.cmml">)</mo></mrow><mi id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.3" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.16.m3.1b"><apply id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1">subscript</csymbol><apply id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.1.1.1.3">ğ‘</ci></apply><ci id="S2.SS0.SSS0.Px2.p1.16.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.16.m3.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.16.m3.1c">(e_{p})_{t}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.16.m3.1d">( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is the <math alttext="t" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.17.m4.1"><semantics id="S2.SS0.SSS0.Px2.p1.17.m4.1a"><mi id="S2.SS0.SSS0.Px2.p1.17.m4.1.1" xref="S2.SS0.SSS0.Px2.p1.17.m4.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.17.m4.1b"><ci id="S2.SS0.SSS0.Px2.p1.17.m4.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.17.m4.1.1">ğ‘¡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.17.m4.1c">t</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.17.m4.1d">italic_t</annotation></semantics></math>-th token of <math alttext="e_{p}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.18.m5.1"><semantics id="S2.SS0.SSS0.Px2.p1.18.m5.1a"><msub id="S2.SS0.SSS0.Px2.p1.18.m5.1.1" xref="S2.SS0.SSS0.Px2.p1.18.m5.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.18.m5.1.1.2" xref="S2.SS0.SSS0.Px2.p1.18.m5.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.18.m5.1.1.3" xref="S2.SS0.SSS0.Px2.p1.18.m5.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.18.m5.1b"><apply id="S2.SS0.SSS0.Px2.p1.18.m5.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.18.m5.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.18.m5.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.18.m5.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.18.m5.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.18.m5.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.18.m5.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.18.m5.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.18.m5.1c">e_{p}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.18.m5.1d">italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="(e_{p})_{&lt;t}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.19.m6.1"><semantics id="S2.SS0.SSS0.Px2.p1.19.m6.1a"><msub id="S2.SS0.SSS0.Px2.p1.19.m6.1.1" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.cmml"><mrow id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.cmml">(</mo><msub id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.cmml">)</mo></mrow><mrow id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.2.cmml"></mi><mo id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.1" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.1.cmml">&lt;</mo><mi id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.3" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.3.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.19.m6.1b"><apply id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1">subscript</csymbol><apply id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.1.1.1.3">ğ‘</ci></apply><apply id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3"><lt id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.1"></lt><csymbol cd="latexml" id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.2">absent</csymbol><ci id="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px2.p1.19.m6.1.1.3.3">ğ‘¡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.19.m6.1c">(e_{p})_{&lt;t}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.19.m6.1d">( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT &lt; italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is the tokens preceding <math alttext="(e_{p})_{t}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px2.p1.20.m7.1"><semantics id="S2.SS0.SSS0.Px2.p1.20.m7.1a"><msub id="S2.SS0.SSS0.Px2.p1.20.m7.1.1" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.cmml"><mrow id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.cmml">(</mo><msub id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.cmml">)</mo></mrow><mi id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.3" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.20.m7.1b"><apply id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1">subscript</csymbol><apply id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.1.1.1.3">ğ‘</ci></apply><ci id="S2.SS0.SSS0.Px2.p1.20.m7.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.20.m7.1.1.3">ğ‘¡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.20.m7.1c">(e_{p})_{t}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px2.p1.20.m7.1d">( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px2.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px2.p2.1">However, recommendation tasks are essentially user preference alignment tasks, as formalized in the above task formulation, and differ from user modeling tasks that consider only positive responses.
Such a gap necessitates further exploration into aligning LM-based recommenders with user preference, an area that has been underexplored.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">RLHF pipeline and DPO.</h4>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p1.1">Recent studies in natural language processing (NLP) explore the use of human-labeled pairwise data as a reward signal to align LMs with human preferences, such as RLHF <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib32" title="">32</a>]</cite> and DPO <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib33" title="">33</a>]</cite>.
Specifically, the RLHF <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib32" title="">32</a>]</cite> pipeline adds two additional phases after the SFT phase: reward model training and reinforcement learning (RL) optimization.
After obtaining the SFT model <math alttext="\pi^{\rm SFT}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p1.1.m1.1"><semantics id="S2.SS0.SSS0.Px3.p1.1.m1.1a"><msup id="S2.SS0.SSS0.Px3.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p1.1.m1.1.1.2" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1.2.cmml">Ï€</mi><mi id="S2.SS0.SSS0.Px3.p1.1.m1.1.1.3" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1.3.cmml">SFT</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p1.1.m1.1b"><apply id="S2.SS0.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1">superscript</csymbol><ci id="S2.SS0.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1.2">ğœ‹</ci><ci id="S2.SS0.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p1.1.m1.1.1.3">SFT</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p1.1.m1.1c">\pi^{\rm SFT}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p1.1.m1.1d">italic_Ï€ start_POSTSUPERSCRIPT roman_SFT end_POSTSUPERSCRIPT</annotation></semantics></math>, RLHF further optimizes it with pairwise preference data.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p2">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p2.12">Inspired by the success of RLHF in NLP, we leverage RLHF to inject recommendation-specific user pairwise preference into LM-based recommenders.
Let <math alttext="\mathcal{E}=\{e_{j}\}_{j=1}^{N}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.1.m1.1"><semantics id="S2.SS0.SSS0.Px3.p2.1.m1.1a"><mrow id="S2.SS0.SSS0.Px3.p2.1.m1.1.1" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.3.cmml">â„°</mi><mo id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2.cmml">=</mo><msubsup id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.cmml"><mrow id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.cmml">{</mo><msub id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.2" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.2.cmml">j</mi><mo id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.1" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.1.cmml">=</mo><mn id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.3.cmml">N</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.1.m1.1b"><apply id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1"><eq id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.2"></eq><ci id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.3">â„°</ci><apply id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1">superscript</csymbol><apply id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1">subscript</csymbol><set id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1"><apply id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.1.1.1.3">ğ‘—</ci></apply></set><apply id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3"><eq id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.1"></eq><ci id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.2">ğ‘—</ci><cn id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.3.cmml" type="integer" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.1.m1.1.1.1.3">ğ‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.1.m1.1c">\mathcal{E}=\{e_{j}\}_{j=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.1.m1.1d">caligraphic_E = { italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math> denote the title set of candidate items, where <math alttext="e_{j}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.2.m2.1"><semantics id="S2.SS0.SSS0.Px3.p2.2.m2.1a"><msub id="S2.SS0.SSS0.Px3.p2.2.m2.1.1" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.2.m2.1.1.2" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p2.2.m2.1.1.3" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.2.m2.1b"><apply id="S2.SS0.SSS0.Px3.p2.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.2.m2.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.2.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p2.2.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.2.m2.1.1.3">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.2.m2.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.2.m2.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> denotes the title of item <math alttext="i_{j}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.3.m3.1"><semantics id="S2.SS0.SSS0.Px3.p2.3.m3.1a"><msub id="S2.SS0.SSS0.Px3.p2.3.m3.1.1" xref="S2.SS0.SSS0.Px3.p2.3.m3.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.3.m3.1.1.2" xref="S2.SS0.SSS0.Px3.p2.3.m3.1.1.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px3.p2.3.m3.1.1.3" xref="S2.SS0.SSS0.Px3.p2.3.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.3.m3.1b"><apply id="S2.SS0.SSS0.Px3.p2.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.3.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.3.m3.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.3.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.3.m3.1.1.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px3.p2.3.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.3.m3.1.1.3">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.3.m3.1c">i_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.3.m3.1d">italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>.
Given two items <math alttext="i_{j},i_{k}\in\mathcal{C}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.4.m4.2"><semantics id="S2.SS0.SSS0.Px3.p2.4.m4.2a"><mrow id="S2.SS0.SSS0.Px3.p2.4.m4.2.2" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.cmml"><mrow id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.3.cmml"><msub id="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.3" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.3" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.3.cmml">k</mi></msub></mrow><mo id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.3" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.3.cmml">âˆˆ</mo><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.4" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.4.cmml">ğ’</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.4.m4.2b"><apply id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2"><in id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.3"></in><list id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2"><apply id="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.1.1.1.1.1.3">ğ‘—</ci></apply><apply id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.2.2.2.3">ğ‘˜</ci></apply></list><ci id="S2.SS0.SSS0.Px3.p2.4.m4.2.2.4.cmml" xref="S2.SS0.SSS0.Px3.p2.4.m4.2.2.4">ğ’</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.4.m4.2c">i_{j},i_{k}\in\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.4.m4.2d">italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT âˆˆ caligraphic_C</annotation></semantics></math>, the user preference <math alttext="i_{j}&gt;_{u}i_{k}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.5.m5.1"><semantics id="S2.SS0.SSS0.Px3.p2.5.m5.1a"><mrow id="S2.SS0.SSS0.Px3.p2.5.m5.1.1" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.cmml"><msub id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.2" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.3" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.3.cmml">j</mi></msub><msub id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.2" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.2.cmml">&gt;</mo><mi id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.3.cmml">u</mi></msub><msub id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.2" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.3" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.5.m5.1b"><apply id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1"><apply id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1">subscript</csymbol><gt id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.2"></gt><ci id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.2.3">ğ‘—</ci></apply><apply id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p2.5.m5.1.1.3.3">ğ‘˜</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.5.m5.1c">i_{j}&gt;_{u}i_{k}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.5.m5.1d">italic_i start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT &gt; start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> can be seamlessly transformed into a response preference, stipulating that <math alttext="e_{j}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.6.m6.1"><semantics id="S2.SS0.SSS0.Px3.p2.6.m6.1a"><msub id="S2.SS0.SSS0.Px3.p2.6.m6.1.1" xref="S2.SS0.SSS0.Px3.p2.6.m6.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.6.m6.1.1.2" xref="S2.SS0.SSS0.Px3.p2.6.m6.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p2.6.m6.1.1.3" xref="S2.SS0.SSS0.Px3.p2.6.m6.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.6.m6.1b"><apply id="S2.SS0.SSS0.Px3.p2.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.6.m6.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.6.m6.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.6.m6.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.6.m6.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p2.6.m6.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.6.m6.1.1.3">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.6.m6.1c">e_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.6.m6.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is preferred over <math alttext="e_{k}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.7.m7.1"><semantics id="S2.SS0.SSS0.Px3.p2.7.m7.1a"><msub id="S2.SS0.SSS0.Px3.p2.7.m7.1.1" xref="S2.SS0.SSS0.Px3.p2.7.m7.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.7.m7.1.1.2" xref="S2.SS0.SSS0.Px3.p2.7.m7.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p2.7.m7.1.1.3" xref="S2.SS0.SSS0.Px3.p2.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.7.m7.1b"><apply id="S2.SS0.SSS0.Px3.p2.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.7.m7.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.7.m7.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.7.m7.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.7.m7.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p2.7.m7.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.7.m7.1.1.3">ğ‘˜</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.7.m7.1c">e_{k}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.7.m7.1d">italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> when presented with prompt <math alttext="x_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.8.m8.1"><semantics id="S2.SS0.SSS0.Px3.p2.8.m8.1a"><msub id="S2.SS0.SSS0.Px3.p2.8.m8.1.1" xref="S2.SS0.SSS0.Px3.p2.8.m8.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.8.m8.1.1.2" xref="S2.SS0.SSS0.Px3.p2.8.m8.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p2.8.m8.1.1.3" xref="S2.SS0.SSS0.Px3.p2.8.m8.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.8.m8.1b"><apply id="S2.SS0.SSS0.Px3.p2.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.8.m8.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.8.m8.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.8.m8.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.8.m8.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p2.8.m8.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.8.m8.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.8.m8.1c">x_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.8.m8.1d">italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>, denoted as <math alttext="e_{j}\succ e_{k}|x_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.9.m9.1"><semantics id="S2.SS0.SSS0.Px3.p2.9.m9.1a"><mrow id="S2.SS0.SSS0.Px3.p2.9.m9.1.1" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.cmml"><msub id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.2" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.3" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.1" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.1.cmml">â‰»</mo><mrow id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.cmml"><msub id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.cmml"><mi id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.2" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.3" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.3.cmml">k</mi></msub><mo fence="false" id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.1" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.1.cmml">|</mo><msub id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.cmml"><mi id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.2" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.3" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.3.cmml">u</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.9.m9.1b"><apply id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.1">succeeds</csymbol><apply id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.2.3">ğ‘—</ci></apply><apply id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.1">conditional</csymbol><apply id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.1.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.2.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.3.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.2.3">ğ‘˜</ci></apply><apply id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.1.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.2.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.3.cmml" xref="S2.SS0.SSS0.Px3.p2.9.m9.1.1.3.3.3">ğ‘¢</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.9.m9.1c">e_{j}\succ e_{k}|x_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.9.m9.1d">italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>.
By sampling one dispreferred item <math alttext="i_{d}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.10.m10.1"><semantics id="S2.SS0.SSS0.Px3.p2.10.m10.1a"><msub id="S2.SS0.SSS0.Px3.p2.10.m10.1.1" xref="S2.SS0.SSS0.Px3.p2.10.m10.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.10.m10.1.1.2" xref="S2.SS0.SSS0.Px3.p2.10.m10.1.1.2.cmml">i</mi><mi id="S2.SS0.SSS0.Px3.p2.10.m10.1.1.3" xref="S2.SS0.SSS0.Px3.p2.10.m10.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.10.m10.1b"><apply id="S2.SS0.SSS0.Px3.p2.10.m10.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.10.m10.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.10.m10.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.10.m10.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.10.m10.1.1.2">ğ‘–</ci><ci id="S2.SS0.SSS0.Px3.p2.10.m10.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.10.m10.1.1.3">ğ‘‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.10.m10.1c">i_{d}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.10.m10.1d">italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> from dispreferred candidate set <math alttext="\mathcal{I}_{d}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.11.m11.1"><semantics id="S2.SS0.SSS0.Px3.p2.11.m11.1a"><msub id="S2.SS0.SSS0.Px3.p2.11.m11.1.1" xref="S2.SS0.SSS0.Px3.p2.11.m11.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px3.p2.11.m11.1.1.2" xref="S2.SS0.SSS0.Px3.p2.11.m11.1.1.2.cmml">â„</mi><mi id="S2.SS0.SSS0.Px3.p2.11.m11.1.1.3" xref="S2.SS0.SSS0.Px3.p2.11.m11.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.11.m11.1b"><apply id="S2.SS0.SSS0.Px3.p2.11.m11.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.11.m11.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.11.m11.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.11.m11.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.11.m11.1.1.2">â„</ci><ci id="S2.SS0.SSS0.Px3.p2.11.m11.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.11.m11.1.1.3">ğ‘‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.11.m11.1c">\mathcal{I}_{d}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.11.m11.1d">caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math>, we can curate a preference dataset <math alttext="\{(e_{p},e_{d},x_{u})\}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p2.12.m12.1"><semantics id="S2.SS0.SSS0.Px3.p2.12.m12.1a"><mrow id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.2.cmml">{</mo><mrow id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.4.cmml"><mo id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.4" stretchy="false" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.4.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.5" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.4.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.2" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.3" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.3.cmml">d</mi></msub><mo id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.6" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.4.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.cmml"><mi id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.2" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.3" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.7" stretchy="false" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.4.cmml">)</mo></mrow><mo id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p2.12.m12.1b"><set id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1"><vector id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.4.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3"><apply id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.1.1.3">ğ‘</ci></apply><apply id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.2.2.3">ğ‘‘</ci></apply><apply id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.1.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.2.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.3.cmml" xref="S2.SS0.SSS0.Px3.p2.12.m12.1.1.1.1.3.3.3">ğ‘¢</ci></apply></vector></set></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p2.12.m12.1c">\{(e_{p},e_{d},x_{u})\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p2.12.m12.1d">{ ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) }</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p3">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p3.10">After that, RLHF utilizes a preference model for preference distribution modeling, such as Bradley-Terry (BT) model <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib39" title="">39</a>]</cite>.
This preference model assumes there is a latent function <math alttext="r(x_{u},e_{j})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.1.m1.2"><semantics id="S2.SS0.SSS0.Px3.p3.1.m1.2a"><mrow id="S2.SS0.SSS0.Px3.p3.1.m1.2.2" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.4" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.4.cmml">r</mi><mo id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.3" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.3.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.4" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.3" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.1.m1.2b"><apply id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2"><times id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.3"></times><ci id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.4.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.4">ğ‘Ÿ</ci><interval closure="open" id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2"><apply id="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.1.m1.2.2.2.2.2.3">ğ‘—</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.1.m1.2c">r(x_{u},e_{j})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.1.m1.2d">italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> representing the reward of prompt-response pair <math alttext="(x_{u},e_{j})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.2.m2.2"><semantics id="S2.SS0.SSS0.Px3.p3.2.m2.2a"><mrow id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1" xref="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.4" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.3" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.2.m2.2b"><interval closure="open" id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2"><apply id="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.2.m2.2.2.2.2.3">ğ‘—</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.2.m2.2c">(x_{u},e_{j})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.2.m2.2d">( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>.
The bigger reward <math alttext="r(x_{u},e_{j})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.3.m3.2"><semantics id="S2.SS0.SSS0.Px3.p3.3.m3.2a"><mrow id="S2.SS0.SSS0.Px3.p3.3.m3.2.2" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.4" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.4.cmml">r</mi><mo id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.3" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.3.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.4" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.3" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.3.m3.2b"><apply id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2"><times id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.3"></times><ci id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.4.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.4">ğ‘Ÿ</ci><interval closure="open" id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2"><apply id="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.3.m3.2.2.2.2.2.3">ğ‘—</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.3.m3.2c">r(x_{u},e_{j})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.3.m3.2d">italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> means the more user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.4.m4.1"><semantics id="S2.SS0.SSS0.Px3.p3.4.m4.1a"><mi id="S2.SS0.SSS0.Px3.p3.4.m4.1.1" xref="S2.SS0.SSS0.Px3.p3.4.m4.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.4.m4.1b"><ci id="S2.SS0.SSS0.Px3.p3.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.4.m4.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.4.m4.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.4.m4.1d">italic_u</annotation></semantics></math> prefers item <math alttext="i" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.5.m5.1"><semantics id="S2.SS0.SSS0.Px3.p3.5.m5.1a"><mi id="S2.SS0.SSS0.Px3.p3.5.m5.1.1" xref="S2.SS0.SSS0.Px3.p3.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.5.m5.1b"><ci id="S2.SS0.SSS0.Px3.p3.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.5.m5.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.5.m5.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.5.m5.1d">italic_i</annotation></semantics></math>.
From this perspective, reward function <math alttext="r(x_{u},e_{j})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.6.m6.2"><semantics id="S2.SS0.SSS0.Px3.p3.6.m6.2a"><mrow id="S2.SS0.SSS0.Px3.p3.6.m6.2.2" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.4" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.4.cmml">r</mi><mo id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.3" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.3.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.4" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.3" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.6.m6.2b"><apply id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2"><times id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.3"></times><ci id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.4.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.4">ğ‘Ÿ</ci><interval closure="open" id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2"><apply id="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.6.m6.2.2.2.2.2.3">ğ‘—</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.6.m6.2c">r(x_{u},e_{j})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.6.m6.2d">italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> serves as a scoring function that quantifies the preference of user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.7.m7.1"><semantics id="S2.SS0.SSS0.Px3.p3.7.m7.1a"><mi id="S2.SS0.SSS0.Px3.p3.7.m7.1.1" xref="S2.SS0.SSS0.Px3.p3.7.m7.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.7.m7.1b"><ci id="S2.SS0.SSS0.Px3.p3.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.7.m7.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.7.m7.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.7.m7.1d">italic_u</annotation></semantics></math> to item <math alttext="i" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.8.m8.1"><semantics id="S2.SS0.SSS0.Px3.p3.8.m8.1a"><mi id="S2.SS0.SSS0.Px3.p3.8.m8.1.1" xref="S2.SS0.SSS0.Px3.p3.8.m8.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.8.m8.1b"><ci id="S2.SS0.SSS0.Px3.p3.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.8.m8.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.8.m8.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.8.m8.1d">italic_i</annotation></semantics></math>.
Besides, the preference model defines a mapping from the reward function <math alttext="r(x_{u},e_{j})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.9.m9.2"><semantics id="S2.SS0.SSS0.Px3.p3.9.m9.2a"><mrow id="S2.SS0.SSS0.Px3.p3.9.m9.2.2" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.4" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.4.cmml">r</mi><mo id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.3" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.3.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.4" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.3" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.9.m9.2b"><apply id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2"><times id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.3"></times><ci id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.4.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.4">ğ‘Ÿ</ci><interval closure="open" id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2"><apply id="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.9.m9.2.2.2.2.2.3">ğ‘—</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.9.m9.2c">r(x_{u},e_{j})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.9.m9.2d">italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> to a preference distribution <math alttext="p_{r}(e_{j}\succ e_{k}|x_{u})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p3.10.m10.1"><semantics id="S2.SS0.SSS0.Px3.p3.10.m10.1a"><mrow id="S2.SS0.SSS0.Px3.p3.10.m10.1.1" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.cmml"><msub id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.2" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.2.cmml">p</mi><mi id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.3" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.3.cmml">r</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.2" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.2.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.cmml"><msub id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.2" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.3" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.3.cmml">j</mi></msub><mo id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.1.cmml">â‰»</mo><mrow id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.cmml"><msub id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.cmml"><mi id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.2" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.3" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.3.cmml">k</mi></msub><mo fence="false" id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.1" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.1.cmml">|</mo><msub id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.cmml"><mi id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.2" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.3" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.3.cmml">u</mi></msub></mrow></mrow><mo id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p3.10.m10.1b"><apply id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1"><times id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.2"></times><apply id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.2">ğ‘</ci><ci id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.3.3">ğ‘Ÿ</ci></apply><apply id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.1">succeeds</csymbol><apply id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.2.3">ğ‘—</ci></apply><apply id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.1">conditional</csymbol><apply id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.1.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.2.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.3.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.2.3">ğ‘˜</ci></apply><apply id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.1.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.2.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.3.cmml" xref="S2.SS0.SSS0.Px3.p3.10.m10.1.1.1.1.1.3.3.3">ğ‘¢</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p3.10.m10.1c">p_{r}(e_{j}\succ e_{k}|x_{u})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p3.10.m10.1d">italic_p start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math>.
Based on preference distribution, an optimal reward function is trained by maximizing the likelihood of preference data. The training objective of this phase is as follows:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx3">
<tbody id="S2.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\rm RM}=-\mathbb{E}_{(x_{u},e_{p},e_{d})}[{\rm log}%
\,p_{r}(e_{p}\succ e_{d}|x_{u})]." class="ltx_Math" display="inline" id="S2.E3.m1.4"><semantics id="S2.E3.m1.4a"><mrow id="S2.E3.m1.4.4.1" xref="S2.E3.m1.4.4.1.1.cmml"><mrow id="S2.E3.m1.4.4.1.1" xref="S2.E3.m1.4.4.1.1.cmml"><msub id="S2.E3.m1.4.4.1.1.3" xref="S2.E3.m1.4.4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.4.4.1.1.3.2" xref="S2.E3.m1.4.4.1.1.3.2.cmml">â„’</mi><mi id="S2.E3.m1.4.4.1.1.3.3" xref="S2.E3.m1.4.4.1.1.3.3.cmml">RM</mi></msub><mo id="S2.E3.m1.4.4.1.1.2" xref="S2.E3.m1.4.4.1.1.2.cmml">=</mo><mrow id="S2.E3.m1.4.4.1.1.1" xref="S2.E3.m1.4.4.1.1.1.cmml"><mo id="S2.E3.m1.4.4.1.1.1a" xref="S2.E3.m1.4.4.1.1.1.cmml">âˆ’</mo><mrow id="S2.E3.m1.4.4.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.cmml"><msub id="S2.E3.m1.4.4.1.1.1.1.3" xref="S2.E3.m1.4.4.1.1.1.1.3.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.3.2" xref="S2.E3.m1.4.4.1.1.1.1.3.2.cmml">ğ”¼</mi><mrow id="S2.E3.m1.3.3.3.3" xref="S2.E3.m1.3.3.3.4.cmml"><mo id="S2.E3.m1.3.3.3.3.4" stretchy="false" xref="S2.E3.m1.3.3.3.4.cmml">(</mo><msub id="S2.E3.m1.1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.1.cmml"><mi id="S2.E3.m1.1.1.1.1.1.2" xref="S2.E3.m1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.E3.m1.1.1.1.1.1.3" xref="S2.E3.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.E3.m1.3.3.3.3.5" xref="S2.E3.m1.3.3.3.4.cmml">,</mo><msub id="S2.E3.m1.2.2.2.2.2" xref="S2.E3.m1.2.2.2.2.2.cmml"><mi id="S2.E3.m1.2.2.2.2.2.2" xref="S2.E3.m1.2.2.2.2.2.2.cmml">e</mi><mi id="S2.E3.m1.2.2.2.2.2.3" xref="S2.E3.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="S2.E3.m1.3.3.3.3.6" xref="S2.E3.m1.3.3.3.4.cmml">,</mo><msub id="S2.E3.m1.3.3.3.3.3" xref="S2.E3.m1.3.3.3.3.3.cmml"><mi id="S2.E3.m1.3.3.3.3.3.2" xref="S2.E3.m1.3.3.3.3.3.2.cmml">e</mi><mi id="S2.E3.m1.3.3.3.3.3.3" xref="S2.E3.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="S2.E3.m1.3.3.3.3.7" stretchy="false" xref="S2.E3.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="S2.E3.m1.4.4.1.1.1.1.2" xref="S2.E3.m1.4.4.1.1.1.1.2.cmml">â¢</mo><mrow id="S2.E3.m1.4.4.1.1.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.1.2.cmml"><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.2" stretchy="false" xref="S2.E3.m1.4.4.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E3.m1.4.4.1.1.1.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.1.2" lspace="0.170em" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.2.cmml">â¢</mo><msub id="S2.E3.m1.4.4.1.1.1.1.1.1.1.4" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.2.cmml">p</mi><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.3.cmml">r</mi></msub><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.1.2a" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.3.cmml">p</mi></msub><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml">â‰»</mo><mrow id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.cmml"><msub id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">e</mi><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml">d</mi></msub><mo fence="false" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.1" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.1.cmml">|</mo><msub id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml">x</mi><mi id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml">u</mi></msub></mrow></mrow><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.4.4.1.1.1.1.1.1.3" stretchy="false" xref="S2.E3.m1.4.4.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo id="S2.E3.m1.4.4.1.2" lspace="0em" xref="S2.E3.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.4b"><apply id="S2.E3.m1.4.4.1.1.cmml" xref="S2.E3.m1.4.4.1"><eq id="S2.E3.m1.4.4.1.1.2.cmml" xref="S2.E3.m1.4.4.1.1.2"></eq><apply id="S2.E3.m1.4.4.1.1.3.cmml" xref="S2.E3.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.1.1.3.1.cmml" xref="S2.E3.m1.4.4.1.1.3">subscript</csymbol><ci id="S2.E3.m1.4.4.1.1.3.2.cmml" xref="S2.E3.m1.4.4.1.1.3.2">â„’</ci><ci id="S2.E3.m1.4.4.1.1.3.3.cmml" xref="S2.E3.m1.4.4.1.1.3.3">RM</ci></apply><apply id="S2.E3.m1.4.4.1.1.1.cmml" xref="S2.E3.m1.4.4.1.1.1"><minus id="S2.E3.m1.4.4.1.1.1.2.cmml" xref="S2.E3.m1.4.4.1.1.1"></minus><apply id="S2.E3.m1.4.4.1.1.1.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1"><times id="S2.E3.m1.4.4.1.1.1.1.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.2"></times><apply id="S2.E3.m1.4.4.1.1.1.1.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.1.1.1.1.3.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="S2.E3.m1.4.4.1.1.1.1.3.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.3.2">ğ”¼</ci><vector id="S2.E3.m1.3.3.3.4.cmml" xref="S2.E3.m1.3.3.3.3"><apply id="S2.E3.m1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.E3.m1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.E3.m1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.E3.m1.2.2.2.2.2.cmml" xref="S2.E3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E3.m1.2.2.2.2.2.1.cmml" xref="S2.E3.m1.2.2.2.2.2">subscript</csymbol><ci id="S2.E3.m1.2.2.2.2.2.2.cmml" xref="S2.E3.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="S2.E3.m1.2.2.2.2.2.3.cmml" xref="S2.E3.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="S2.E3.m1.3.3.3.3.3.cmml" xref="S2.E3.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S2.E3.m1.3.3.3.3.3.1.cmml" xref="S2.E3.m1.3.3.3.3.3">subscript</csymbol><ci id="S2.E3.m1.3.3.3.3.3.2.cmml" xref="S2.E3.m1.3.3.3.3.3.2">ğ‘’</ci><ci id="S2.E3.m1.3.3.3.3.3.3.cmml" xref="S2.E3.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="S2.E3.m1.4.4.1.1.1.1.1.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.4.4.1.1.1.1.1.2.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E3.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1"><times id="S2.E3.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.2"></times><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.3">log</ci><apply id="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.2">ğ‘</ci><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.4.3">ğ‘Ÿ</ci></apply><apply id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.2">ğ‘’</ci><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.2.3">ğ‘‘</ci></apply><apply id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.2">ğ‘¥</ci><ci id="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E3.m1.4.4.1.1.1.1.1.1.1.1.1.1.3.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.4c">\displaystyle\mathcal{L}_{\rm RM}=-\mathbb{E}_{(x_{u},e_{p},e_{d})}[{\rm log}%
\,p_{r}(e_{p}\succ e_{d}|x_{u})].</annotation><annotation encoding="application/x-llamapun" id="S2.E3.m1.4d">caligraphic_L start_POSTSUBSCRIPT roman_RM end_POSTSUBSCRIPT = - blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_log italic_p start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p4">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p4.4">Let <math alttext="\pi_{\theta}(e|x_{u})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p4.1.m1.1"><semantics id="S2.SS0.SSS0.Px3.p4.1.m1.1a"><mrow id="S2.SS0.SSS0.Px3.p4.1.m1.1.1" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.cmml"><msub id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.2" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.2.cmml">Ï€</mi><mi id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.3" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.3.cmml">Î¸</mi></msub><mo id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.2" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.2.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.2.cmml">e</mi><mo fence="false" id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.cmml">|</mo><msub id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.2" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p4.1.m1.1b"><apply id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1"><times id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.2"></times><apply id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.2">ğœ‹</ci><ci id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.3.3">ğœƒ</ci></apply><apply id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.1">conditional</csymbol><ci id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.2">ğ‘’</ci><apply id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p4.1.m1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p4.1.m1.1c">\pi_{\theta}(e|x_{u})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p4.1.m1.1d">italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math> be the probability that LM-based recommender <math alttext="\mathcal{M}_{\theta}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p4.2.m2.1"><semantics id="S2.SS0.SSS0.Px3.p4.2.m2.1a"><msub id="S2.SS0.SSS0.Px3.p4.2.m2.1.1" xref="S2.SS0.SSS0.Px3.p4.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px3.p4.2.m2.1.1.2" xref="S2.SS0.SSS0.Px3.p4.2.m2.1.1.2.cmml">â„³</mi><mi id="S2.SS0.SSS0.Px3.p4.2.m2.1.1.3" xref="S2.SS0.SSS0.Px3.p4.2.m2.1.1.3.cmml">Î¸</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p4.2.m2.1b"><apply id="S2.SS0.SSS0.Px3.p4.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p4.2.m2.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.2.m2.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p4.2.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p4.2.m2.1.1.2">â„³</ci><ci id="S2.SS0.SSS0.Px3.p4.2.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p4.2.m2.1.1.3">ğœƒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p4.2.m2.1c">\mathcal{M}_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p4.2.m2.1d">caligraphic_M start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT</annotation></semantics></math> output title <math alttext="e" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p4.3.m3.1"><semantics id="S2.SS0.SSS0.Px3.p4.3.m3.1a"><mi id="S2.SS0.SSS0.Px3.p4.3.m3.1.1" xref="S2.SS0.SSS0.Px3.p4.3.m3.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p4.3.m3.1b"><ci id="S2.SS0.SSS0.Px3.p4.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.3.m3.1.1">ğ‘’</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p4.3.m3.1c">e</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p4.3.m3.1d">italic_e</annotation></semantics></math> given prompt <math alttext="x_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p4.4.m4.1"><semantics id="S2.SS0.SSS0.Px3.p4.4.m4.1a"><msub id="S2.SS0.SSS0.Px3.p4.4.m4.1.1" xref="S2.SS0.SSS0.Px3.p4.4.m4.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p4.4.m4.1.1.2" xref="S2.SS0.SSS0.Px3.p4.4.m4.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p4.4.m4.1.1.3" xref="S2.SS0.SSS0.Px3.p4.4.m4.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p4.4.m4.1b"><apply id="S2.SS0.SSS0.Px3.p4.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p4.4.m4.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.4.m4.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p4.4.m4.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p4.4.m4.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p4.4.m4.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p4.4.m4.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p4.4.m4.1c">x_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p4.4.m4.1d">italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>.
The final reinforcement learning phase aims to maximize the expected reward of policy while not deviate too far from the reference model, formulating the following objective for optimal policy:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx4">
<tbody id="S2.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\underset{\pi_{\theta}}{\rm max}\,\mathbb{E}_{x_{u}\sim\mathcal{D%
},e\sim\pi_{\theta}(e|x_{u})}[r(x_{u},e)]-\beta\mathbb{D}_{\rm KL}[\pi_{\theta%
}(e|x_{u})||\pi_{\rm ref}(e|x_{u})]," class="ltx_math_unparsed" display="inline" id="S2.E4.m1.3"><semantics id="S2.E4.m1.3a"><mrow id="S2.E4.m1.3b"><munder accentunder="true" id="S2.E4.m1.3.4"><mi id="S2.E4.m1.3.4.2">max</mi><msub id="S2.E4.m1.3.4.1"><mi id="S2.E4.m1.3.4.1.2">Ï€</mi><mi id="S2.E4.m1.3.4.1.3">Î¸</mi></msub></munder><msub id="S2.E4.m1.3.5"><mi id="S2.E4.m1.3.5.2">ğ”¼</mi><mrow id="S2.E4.m1.2.2.2.2"><mrow id="S2.E4.m1.1.1.1.1.1"><msub id="S2.E4.m1.1.1.1.1.1.2"><mi id="S2.E4.m1.1.1.1.1.1.2.2" mathvariant="normal">x</mi><mi id="S2.E4.m1.1.1.1.1.1.2.3" mathvariant="normal">u</mi></msub><mo id="S2.E4.m1.1.1.1.1.1.1">âˆ¼</mo><mi class="ltx_font_mathcaligraphic" id="S2.E4.m1.1.1.1.1.1.3">ğ’Ÿ</mi></mrow><mo id="S2.E4.m1.2.2.2.2.3">,</mo><mrow id="S2.E4.m1.2.2.2.2.2"><mi id="S2.E4.m1.2.2.2.2.2.3" mathvariant="normal">e</mi><mo id="S2.E4.m1.2.2.2.2.2.2">âˆ¼</mo><mrow id="S2.E4.m1.2.2.2.2.2.1"><msub id="S2.E4.m1.2.2.2.2.2.1.3"><mi id="S2.E4.m1.2.2.2.2.2.1.3.2">Ï€</mi><mi id="S2.E4.m1.2.2.2.2.2.1.3.3">Î¸</mi></msub><mo id="S2.E4.m1.2.2.2.2.2.1.2">â¢</mo><mrow id="S2.E4.m1.2.2.2.2.2.1.1.1"><mo id="S2.E4.m1.2.2.2.2.2.1.1.1.2" stretchy="false">(</mo><mrow id="S2.E4.m1.2.2.2.2.2.1.1.1.1"><mi id="S2.E4.m1.2.2.2.2.2.1.1.1.1.2" mathvariant="normal">e</mi><mo fence="false" id="S2.E4.m1.2.2.2.2.2.1.1.1.1.1">|</mo><msub id="S2.E4.m1.2.2.2.2.2.1.1.1.1.3"><mi id="S2.E4.m1.2.2.2.2.2.1.1.1.1.3.2" mathvariant="normal">x</mi><mi id="S2.E4.m1.2.2.2.2.2.1.1.1.1.3.3" mathvariant="normal">u</mi></msub></mrow><mo id="S2.E4.m1.2.2.2.2.2.1.1.1.3" stretchy="false">)</mo></mrow></mrow></mrow></mrow></msub><mrow id="S2.E4.m1.3.6"><mo id="S2.E4.m1.3.6.1" stretchy="false">[</mo><mi id="S2.E4.m1.3.6.2" mathvariant="normal">r</mi><mrow id="S2.E4.m1.3.6.3"><mo id="S2.E4.m1.3.6.3.1" stretchy="false">(</mo><msub id="S2.E4.m1.3.6.3.2"><mi id="S2.E4.m1.3.6.3.2.2" mathvariant="normal">x</mi><mi id="S2.E4.m1.3.6.3.2.3" mathvariant="normal">u</mi></msub><mo id="S2.E4.m1.3.6.3.3">,</mo><mi id="S2.E4.m1.3.3" mathvariant="normal">e</mi><mo id="S2.E4.m1.3.6.3.4" stretchy="false">)</mo></mrow><mo id="S2.E4.m1.3.6.4" stretchy="false">]</mo></mrow><mo id="S2.E4.m1.3.7">âˆ’</mo><mi id="S2.E4.m1.3.8">Î²</mi><msub id="S2.E4.m1.3.9"><mi id="S2.E4.m1.3.9.2">ğ”»</mi><mi id="S2.E4.m1.3.9.3">KL</mi></msub><mrow id="S2.E4.m1.3.10"><mo id="S2.E4.m1.3.10.1" stretchy="false">[</mo><msub id="S2.E4.m1.3.10.2"><mi id="S2.E4.m1.3.10.2.2">Ï€</mi><mi id="S2.E4.m1.3.10.2.3">Î¸</mi></msub><mrow id="S2.E4.m1.3.10.3"><mo id="S2.E4.m1.3.10.3.1" stretchy="false">(</mo><mi id="S2.E4.m1.3.10.3.2" mathvariant="normal">e</mi><mo fence="false" id="S2.E4.m1.3.10.3.3" rspace="0.167em" stretchy="false">|</mo><msub id="S2.E4.m1.3.10.3.4"><mi id="S2.E4.m1.3.10.3.4.2" mathvariant="normal">x</mi><mi id="S2.E4.m1.3.10.3.4.3" mathvariant="normal">u</mi></msub><mo id="S2.E4.m1.3.10.3.5" stretchy="false">)</mo></mrow><mo fence="false" id="S2.E4.m1.3.10.4" rspace="0.167em" stretchy="false">|</mo><mo fence="false" id="S2.E4.m1.3.10.5" rspace="0.167em" stretchy="false">|</mo><msub id="S2.E4.m1.3.10.6"><mi id="S2.E4.m1.3.10.6.2">Ï€</mi><mi id="S2.E4.m1.3.10.6.3">ref</mi></msub><mrow id="S2.E4.m1.3.10.7"><mo id="S2.E4.m1.3.10.7.1" stretchy="false">(</mo><mi id="S2.E4.m1.3.10.7.2" mathvariant="normal">e</mi><mo fence="false" id="S2.E4.m1.3.10.7.3" rspace="0.167em" stretchy="false">|</mo><msub id="S2.E4.m1.3.10.7.4"><mi id="S2.E4.m1.3.10.7.4.2" mathvariant="normal">x</mi><mi id="S2.E4.m1.3.10.7.4.3" mathvariant="normal">u</mi></msub><mo id="S2.E4.m1.3.10.7.5" stretchy="false">)</mo></mrow><mo id="S2.E4.m1.3.10.8" stretchy="false">]</mo></mrow><mo id="S2.E4.m1.3.11">,</mo></mrow><annotation encoding="application/x-tex" id="S2.E4.m1.3c">\displaystyle\underset{\pi_{\theta}}{\rm max}\,\mathbb{E}_{x_{u}\sim\mathcal{D%
},e\sim\pi_{\theta}(e|x_{u})}[r(x_{u},e)]-\beta\mathbb{D}_{\rm KL}[\pi_{\theta%
}(e|x_{u})||\pi_{\rm ref}(e|x_{u})],</annotation><annotation encoding="application/x-llamapun" id="S2.E4.m1.3d">start_UNDERACCENT italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT end_UNDERACCENT start_ARG roman_max end_ARG blackboard_E start_POSTSUBSCRIPT roman_x start_POSTSUBSCRIPT roman_u end_POSTSUBSCRIPT âˆ¼ caligraphic_D , roman_e âˆ¼ italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( roman_e | roman_x start_POSTSUBSCRIPT roman_u end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_r ( roman_x start_POSTSUBSCRIPT roman_u end_POSTSUBSCRIPT , roman_e ) ] - italic_Î² blackboard_D start_POSTSUBSCRIPT roman_KL end_POSTSUBSCRIPT [ italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( roman_e | roman_x start_POSTSUBSCRIPT roman_u end_POSTSUBSCRIPT ) | | italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( roman_e | roman_x start_POSTSUBSCRIPT roman_u end_POSTSUBSCRIPT ) ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p4.7">where <math alttext="\mathcal{D}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p4.5.m1.1"><semantics id="S2.SS0.SSS0.Px3.p4.5.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS0.SSS0.Px3.p4.5.m1.1.1" xref="S2.SS0.SSS0.Px3.p4.5.m1.1.1.cmml">ğ’Ÿ</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p4.5.m1.1b"><ci id="S2.SS0.SSS0.Px3.p4.5.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.5.m1.1.1">ğ’Ÿ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p4.5.m1.1c">\mathcal{D}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p4.5.m1.1d">caligraphic_D</annotation></semantics></math> denotes the distribution of <math alttext="x_{u}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p4.6.m2.1"><semantics id="S2.SS0.SSS0.Px3.p4.6.m2.1a"><msub id="S2.SS0.SSS0.Px3.p4.6.m2.1.1" xref="S2.SS0.SSS0.Px3.p4.6.m2.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p4.6.m2.1.1.2" xref="S2.SS0.SSS0.Px3.p4.6.m2.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p4.6.m2.1.1.3" xref="S2.SS0.SSS0.Px3.p4.6.m2.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p4.6.m2.1b"><apply id="S2.SS0.SSS0.Px3.p4.6.m2.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.6.m2.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p4.6.m2.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.6.m2.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p4.6.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p4.6.m2.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p4.6.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p4.6.m2.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p4.6.m2.1c">x_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p4.6.m2.1d">italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\pi_{\rm ref}=\pi^{\rm SFT}" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p4.7.m3.1"><semantics id="S2.SS0.SSS0.Px3.p4.7.m3.1a"><mrow id="S2.SS0.SSS0.Px3.p4.7.m3.1.1" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.cmml"><msub id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.2" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.2.cmml">Ï€</mi><mi id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.3" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.3.cmml">ref</mi></msub><mo id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.1" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.1.cmml">=</mo><msup id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.2" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.2.cmml">Ï€</mi><mi id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.3" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.3.cmml">SFT</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p4.7.m3.1b"><apply id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1"><eq id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.1"></eq><apply id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.2">ğœ‹</ci><ci id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.2.3">ref</ci></apply><apply id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3">superscript</csymbol><ci id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.2">ğœ‹</ci><ci id="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p4.7.m3.1.1.3.3">SFT</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p4.7.m3.1c">\pi_{\rm ref}=\pi^{\rm SFT}</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p4.7.m3.1d">italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT = italic_Ï€ start_POSTSUPERSCRIPT roman_SFT end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p5">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p5.2">A recent study, DPO <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib33" title="">33</a>]</cite>, theoretically proves the optimal policy in a closed form to Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.E4" title="In RLHF pipeline and DPO. â€£ 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">4</span></a>) is</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx5">
<tbody id="S2.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\pi^{*}(e|x_{u})=\frac{1}{Z(x_{u})}\pi_{\rm ref}(e|x_{u}){\rm exp%
}\left(\frac{1}{\beta}r(x_{u},e)\right)," class="ltx_Math" display="inline" id="S2.E5.m1.3"><semantics id="S2.E5.m1.3a"><mrow id="S2.E5.m1.3.3.1" xref="S2.E5.m1.3.3.1.1.cmml"><mrow id="S2.E5.m1.3.3.1.1" xref="S2.E5.m1.3.3.1.1.cmml"><mrow id="S2.E5.m1.3.3.1.1.1" xref="S2.E5.m1.3.3.1.1.1.cmml"><msup id="S2.E5.m1.3.3.1.1.1.3" xref="S2.E5.m1.3.3.1.1.1.3.cmml"><mi id="S2.E5.m1.3.3.1.1.1.3.2" xref="S2.E5.m1.3.3.1.1.1.3.2.cmml">Ï€</mi><mo id="S2.E5.m1.3.3.1.1.1.3.3" xref="S2.E5.m1.3.3.1.1.1.3.3.cmml">âˆ—</mo></msup><mo id="S2.E5.m1.3.3.1.1.1.2" xref="S2.E5.m1.3.3.1.1.1.2.cmml">â¢</mo><mrow id="S2.E5.m1.3.3.1.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.1.1.cmml"><mo id="S2.E5.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E5.m1.3.3.1.1.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.3.3.1.1.1.1.1.1.2" xref="S2.E5.m1.3.3.1.1.1.1.1.1.2.cmml">e</mi><mo fence="false" id="S2.E5.m1.3.3.1.1.1.1.1.1.1" xref="S2.E5.m1.3.3.1.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E5.m1.3.3.1.1.1.1.1.1.3" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3.cmml"><mi id="S2.E5.m1.3.3.1.1.1.1.1.1.3.2" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S2.E5.m1.3.3.1.1.1.1.1.1.3.3" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.E5.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E5.m1.3.3.1.1.4" xref="S2.E5.m1.3.3.1.1.4.cmml">=</mo><mrow id="S2.E5.m1.3.3.1.1.3" xref="S2.E5.m1.3.3.1.1.3.cmml"><mstyle displaystyle="true" id="S2.E5.m1.1.1" xref="S2.E5.m1.1.1.cmml"><mfrac id="S2.E5.m1.1.1a" xref="S2.E5.m1.1.1.cmml"><mn id="S2.E5.m1.1.1.3" xref="S2.E5.m1.1.1.3.cmml">1</mn><mrow id="S2.E5.m1.1.1.1" xref="S2.E5.m1.1.1.1.cmml"><mi id="S2.E5.m1.1.1.1.3" xref="S2.E5.m1.1.1.1.3.cmml">Z</mi><mo id="S2.E5.m1.1.1.1.2" xref="S2.E5.m1.1.1.1.2.cmml">â¢</mo><mrow id="S2.E5.m1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.1.cmml"><mo id="S2.E5.m1.1.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.E5.m1.1.1.1.1.1.1" xref="S2.E5.m1.1.1.1.1.1.1.cmml"><mi id="S2.E5.m1.1.1.1.1.1.1.2" xref="S2.E5.m1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.E5.m1.1.1.1.1.1.1.3" xref="S2.E5.m1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.E5.m1.1.1.1.1.1.3" stretchy="false" xref="S2.E5.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle><mo id="S2.E5.m1.3.3.1.1.3.3" xref="S2.E5.m1.3.3.1.1.3.3.cmml">â¢</mo><msub id="S2.E5.m1.3.3.1.1.3.4" xref="S2.E5.m1.3.3.1.1.3.4.cmml"><mi id="S2.E5.m1.3.3.1.1.3.4.2" xref="S2.E5.m1.3.3.1.1.3.4.2.cmml">Ï€</mi><mi id="S2.E5.m1.3.3.1.1.3.4.3" xref="S2.E5.m1.3.3.1.1.3.4.3.cmml">ref</mi></msub><mo id="S2.E5.m1.3.3.1.1.3.3a" xref="S2.E5.m1.3.3.1.1.3.3.cmml">â¢</mo><mrow id="S2.E5.m1.3.3.1.1.2.1.1" xref="S2.E5.m1.3.3.1.1.2.1.1.1.cmml"><mo id="S2.E5.m1.3.3.1.1.2.1.1.2" stretchy="false" xref="S2.E5.m1.3.3.1.1.2.1.1.1.cmml">(</mo><mrow id="S2.E5.m1.3.3.1.1.2.1.1.1" xref="S2.E5.m1.3.3.1.1.2.1.1.1.cmml"><mi id="S2.E5.m1.3.3.1.1.2.1.1.1.2" xref="S2.E5.m1.3.3.1.1.2.1.1.1.2.cmml">e</mi><mo fence="false" id="S2.E5.m1.3.3.1.1.2.1.1.1.1" xref="S2.E5.m1.3.3.1.1.2.1.1.1.1.cmml">|</mo><msub id="S2.E5.m1.3.3.1.1.2.1.1.1.3" xref="S2.E5.m1.3.3.1.1.2.1.1.1.3.cmml"><mi id="S2.E5.m1.3.3.1.1.2.1.1.1.3.2" xref="S2.E5.m1.3.3.1.1.2.1.1.1.3.2.cmml">x</mi><mi id="S2.E5.m1.3.3.1.1.2.1.1.1.3.3" xref="S2.E5.m1.3.3.1.1.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.E5.m1.3.3.1.1.2.1.1.3" stretchy="false" xref="S2.E5.m1.3.3.1.1.2.1.1.1.cmml">)</mo></mrow><mo id="S2.E5.m1.3.3.1.1.3.3b" xref="S2.E5.m1.3.3.1.1.3.3.cmml">â¢</mo><mi id="S2.E5.m1.3.3.1.1.3.5" xref="S2.E5.m1.3.3.1.1.3.5.cmml">exp</mi><mo id="S2.E5.m1.3.3.1.1.3.3c" xref="S2.E5.m1.3.3.1.1.3.3.cmml">â¢</mo><mrow id="S2.E5.m1.3.3.1.1.3.2.1" xref="S2.E5.m1.3.3.1.1.3.2.1.1.cmml"><mo id="S2.E5.m1.3.3.1.1.3.2.1.2" xref="S2.E5.m1.3.3.1.1.3.2.1.1.cmml">(</mo><mrow id="S2.E5.m1.3.3.1.1.3.2.1.1" xref="S2.E5.m1.3.3.1.1.3.2.1.1.cmml"><mstyle displaystyle="true" id="S2.E5.m1.3.3.1.1.3.2.1.1.3" xref="S2.E5.m1.3.3.1.1.3.2.1.1.3.cmml"><mfrac id="S2.E5.m1.3.3.1.1.3.2.1.1.3a" xref="S2.E5.m1.3.3.1.1.3.2.1.1.3.cmml"><mn id="S2.E5.m1.3.3.1.1.3.2.1.1.3.2" xref="S2.E5.m1.3.3.1.1.3.2.1.1.3.2.cmml">1</mn><mi id="S2.E5.m1.3.3.1.1.3.2.1.1.3.3" xref="S2.E5.m1.3.3.1.1.3.2.1.1.3.3.cmml">Î²</mi></mfrac></mstyle><mo id="S2.E5.m1.3.3.1.1.3.2.1.1.2" xref="S2.E5.m1.3.3.1.1.3.2.1.1.2.cmml">â¢</mo><mi id="S2.E5.m1.3.3.1.1.3.2.1.1.4" xref="S2.E5.m1.3.3.1.1.3.2.1.1.4.cmml">r</mi><mo id="S2.E5.m1.3.3.1.1.3.2.1.1.2a" xref="S2.E5.m1.3.3.1.1.3.2.1.1.2.cmml">â¢</mo><mrow id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.2.cmml"><mo id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.2" stretchy="false" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.2.cmml">(</mo><msub id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.cmml"><mi id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.2" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.2.cmml">x</mi><mi id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.3" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.3" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.2.cmml">,</mo><mi id="S2.E5.m1.2.2" xref="S2.E5.m1.2.2.cmml">e</mi><mo id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.4" stretchy="false" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E5.m1.3.3.1.1.3.2.1.3" xref="S2.E5.m1.3.3.1.1.3.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E5.m1.3.3.1.2" xref="S2.E5.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E5.m1.3b"><apply id="S2.E5.m1.3.3.1.1.cmml" xref="S2.E5.m1.3.3.1"><eq id="S2.E5.m1.3.3.1.1.4.cmml" xref="S2.E5.m1.3.3.1.1.4"></eq><apply id="S2.E5.m1.3.3.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1"><times id="S2.E5.m1.3.3.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.1.2"></times><apply id="S2.E5.m1.3.3.1.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.1.3.1.cmml" xref="S2.E5.m1.3.3.1.1.1.3">superscript</csymbol><ci id="S2.E5.m1.3.3.1.1.1.3.2.cmml" xref="S2.E5.m1.3.3.1.1.1.3.2">ğœ‹</ci><times id="S2.E5.m1.3.3.1.1.1.3.3.cmml" xref="S2.E5.m1.3.3.1.1.1.3.3"></times></apply><apply id="S2.E5.m1.3.3.1.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S2.E5.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1.1">conditional</csymbol><ci id="S2.E5.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1.2">ğ‘’</ci><apply id="S2.E5.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.1.1.1.1.3.1.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E5.m1.3.3.1.1.1.1.1.1.3.2.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S2.E5.m1.3.3.1.1.1.1.1.1.3.3.cmml" xref="S2.E5.m1.3.3.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S2.E5.m1.3.3.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.3"><times id="S2.E5.m1.3.3.1.1.3.3.cmml" xref="S2.E5.m1.3.3.1.1.3.3"></times><apply id="S2.E5.m1.1.1.cmml" xref="S2.E5.m1.1.1"><divide id="S2.E5.m1.1.1.2.cmml" xref="S2.E5.m1.1.1"></divide><cn id="S2.E5.m1.1.1.3.cmml" type="integer" xref="S2.E5.m1.1.1.3">1</cn><apply id="S2.E5.m1.1.1.1.cmml" xref="S2.E5.m1.1.1.1"><times id="S2.E5.m1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.2"></times><ci id="S2.E5.m1.1.1.1.3.cmml" xref="S2.E5.m1.1.1.1.3">ğ‘</ci><apply id="S2.E5.m1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.1.1.1.1.1.1.1.cmml" xref="S2.E5.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.E5.m1.1.1.1.1.1.1.2.cmml" xref="S2.E5.m1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.E5.m1.1.1.1.1.1.1.3.cmml" xref="S2.E5.m1.1.1.1.1.1.1.3">ğ‘¢</ci></apply></apply></apply><apply id="S2.E5.m1.3.3.1.1.3.4.cmml" xref="S2.E5.m1.3.3.1.1.3.4"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.3.4.1.cmml" xref="S2.E5.m1.3.3.1.1.3.4">subscript</csymbol><ci id="S2.E5.m1.3.3.1.1.3.4.2.cmml" xref="S2.E5.m1.3.3.1.1.3.4.2">ğœ‹</ci><ci id="S2.E5.m1.3.3.1.1.3.4.3.cmml" xref="S2.E5.m1.3.3.1.1.3.4.3">ref</ci></apply><apply id="S2.E5.m1.3.3.1.1.2.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.2.1.1"><csymbol cd="latexml" id="S2.E5.m1.3.3.1.1.2.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.2.1.1.1.1">conditional</csymbol><ci id="S2.E5.m1.3.3.1.1.2.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.2.1.1.1.2">ğ‘’</ci><apply id="S2.E5.m1.3.3.1.1.2.1.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.2.1.1.1.3.1.cmml" xref="S2.E5.m1.3.3.1.1.2.1.1.1.3">subscript</csymbol><ci id="S2.E5.m1.3.3.1.1.2.1.1.1.3.2.cmml" xref="S2.E5.m1.3.3.1.1.2.1.1.1.3.2">ğ‘¥</ci><ci id="S2.E5.m1.3.3.1.1.2.1.1.1.3.3.cmml" xref="S2.E5.m1.3.3.1.1.2.1.1.1.3.3">ğ‘¢</ci></apply></apply><ci id="S2.E5.m1.3.3.1.1.3.5.cmml" xref="S2.E5.m1.3.3.1.1.3.5">exp</ci><apply id="S2.E5.m1.3.3.1.1.3.2.1.1.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1"><times id="S2.E5.m1.3.3.1.1.3.2.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.2"></times><apply id="S2.E5.m1.3.3.1.1.3.2.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.3"><divide id="S2.E5.m1.3.3.1.1.3.2.1.1.3.1.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.3"></divide><cn id="S2.E5.m1.3.3.1.1.3.2.1.1.3.2.cmml" type="integer" xref="S2.E5.m1.3.3.1.1.3.2.1.1.3.2">1</cn><ci id="S2.E5.m1.3.3.1.1.3.2.1.1.3.3.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.3.3">ğ›½</ci></apply><ci id="S2.E5.m1.3.3.1.1.3.2.1.1.4.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="S2.E5.m1.3.3.1.1.3.2.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.1"><apply id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.1.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1">subscript</csymbol><ci id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.2.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.3.cmml" xref="S2.E5.m1.3.3.1.1.3.2.1.1.1.1.1.3">ğ‘¢</ci></apply><ci id="S2.E5.m1.2.2.cmml" xref="S2.E5.m1.2.2">ğ‘’</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E5.m1.3c">\displaystyle\pi^{*}(e|x_{u})=\frac{1}{Z(x_{u})}\pi_{\rm ref}(e|x_{u}){\rm exp%
}\left(\frac{1}{\beta}r(x_{u},e)\right),</annotation><annotation encoding="application/x-llamapun" id="S2.E5.m1.3d">italic_Ï€ start_POSTSUPERSCRIPT âˆ— end_POSTSUPERSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = divide start_ARG 1 end_ARG start_ARG italic_Z ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) roman_exp ( divide start_ARG 1 end_ARG start_ARG italic_Î² end_ARG italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p5.3">which is equivalent to</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx6">
<tbody id="S2.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle r(x_{u},e)=\beta\,{\rm log}\,\frac{\pi(e|x_{u})}{\pi_{\rm ref}(e%
|x_{u})}+\beta\,{\rm log}\,Z(x_{u})," class="ltx_Math" display="inline" id="S2.E6.m1.4"><semantics id="S2.E6.m1.4a"><mrow id="S2.E6.m1.4.4.1" xref="S2.E6.m1.4.4.1.1.cmml"><mrow id="S2.E6.m1.4.4.1.1" xref="S2.E6.m1.4.4.1.1.cmml"><mrow id="S2.E6.m1.4.4.1.1.1" xref="S2.E6.m1.4.4.1.1.1.cmml"><mi id="S2.E6.m1.4.4.1.1.1.3" xref="S2.E6.m1.4.4.1.1.1.3.cmml">r</mi><mo id="S2.E6.m1.4.4.1.1.1.2" xref="S2.E6.m1.4.4.1.1.1.2.cmml">â¢</mo><mrow id="S2.E6.m1.4.4.1.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.1.2.cmml"><mo id="S2.E6.m1.4.4.1.1.1.1.1.2" stretchy="false" xref="S2.E6.m1.4.4.1.1.1.1.2.cmml">(</mo><msub id="S2.E6.m1.4.4.1.1.1.1.1.1" xref="S2.E6.m1.4.4.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.4.4.1.1.1.1.1.1.2" xref="S2.E6.m1.4.4.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.E6.m1.4.4.1.1.1.1.1.1.3" xref="S2.E6.m1.4.4.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.E6.m1.4.4.1.1.1.1.1.3" xref="S2.E6.m1.4.4.1.1.1.1.2.cmml">,</mo><mi id="S2.E6.m1.3.3" xref="S2.E6.m1.3.3.cmml">e</mi><mo id="S2.E6.m1.4.4.1.1.1.1.1.4" stretchy="false" xref="S2.E6.m1.4.4.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.E6.m1.4.4.1.1.3" xref="S2.E6.m1.4.4.1.1.3.cmml">=</mo><mrow id="S2.E6.m1.4.4.1.1.2" xref="S2.E6.m1.4.4.1.1.2.cmml"><mrow id="S2.E6.m1.4.4.1.1.2.3" xref="S2.E6.m1.4.4.1.1.2.3.cmml"><mi id="S2.E6.m1.4.4.1.1.2.3.2" xref="S2.E6.m1.4.4.1.1.2.3.2.cmml">Î²</mi><mo id="S2.E6.m1.4.4.1.1.2.3.1" lspace="0.170em" xref="S2.E6.m1.4.4.1.1.2.3.1.cmml">â¢</mo><mi id="S2.E6.m1.4.4.1.1.2.3.3" xref="S2.E6.m1.4.4.1.1.2.3.3.cmml">log</mi><mo id="S2.E6.m1.4.4.1.1.2.3.1a" lspace="0.170em" xref="S2.E6.m1.4.4.1.1.2.3.1.cmml">â¢</mo><mstyle displaystyle="true" id="S2.E6.m1.2.2" xref="S2.E6.m1.2.2.cmml"><mfrac id="S2.E6.m1.2.2a" xref="S2.E6.m1.2.2.cmml"><mrow id="S2.E6.m1.1.1.1" xref="S2.E6.m1.1.1.1.cmml"><mi id="S2.E6.m1.1.1.1.3" xref="S2.E6.m1.1.1.1.3.cmml">Ï€</mi><mo id="S2.E6.m1.1.1.1.2" xref="S2.E6.m1.1.1.1.2.cmml">â¢</mo><mrow id="S2.E6.m1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.cmml"><mo id="S2.E6.m1.1.1.1.1.1.2" stretchy="false" xref="S2.E6.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E6.m1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.cmml"><mi id="S2.E6.m1.1.1.1.1.1.1.2" xref="S2.E6.m1.1.1.1.1.1.1.2.cmml">e</mi><mo fence="false" id="S2.E6.m1.1.1.1.1.1.1.1" xref="S2.E6.m1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S2.E6.m1.1.1.1.1.1.1.3" xref="S2.E6.m1.1.1.1.1.1.1.3.cmml"><mi id="S2.E6.m1.1.1.1.1.1.1.3.2" xref="S2.E6.m1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S2.E6.m1.1.1.1.1.1.1.3.3" xref="S2.E6.m1.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.E6.m1.1.1.1.1.1.3" stretchy="false" xref="S2.E6.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.E6.m1.2.2.2" xref="S2.E6.m1.2.2.2.cmml"><msub id="S2.E6.m1.2.2.2.3" xref="S2.E6.m1.2.2.2.3.cmml"><mi id="S2.E6.m1.2.2.2.3.2" xref="S2.E6.m1.2.2.2.3.2.cmml">Ï€</mi><mi id="S2.E6.m1.2.2.2.3.3" xref="S2.E6.m1.2.2.2.3.3.cmml">ref</mi></msub><mo id="S2.E6.m1.2.2.2.2" xref="S2.E6.m1.2.2.2.2.cmml">â¢</mo><mrow id="S2.E6.m1.2.2.2.1.1" xref="S2.E6.m1.2.2.2.1.1.1.cmml"><mo id="S2.E6.m1.2.2.2.1.1.2" stretchy="false" xref="S2.E6.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S2.E6.m1.2.2.2.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.cmml"><mi id="S2.E6.m1.2.2.2.1.1.1.2" xref="S2.E6.m1.2.2.2.1.1.1.2.cmml">e</mi><mo fence="false" id="S2.E6.m1.2.2.2.1.1.1.1" xref="S2.E6.m1.2.2.2.1.1.1.1.cmml">|</mo><msub id="S2.E6.m1.2.2.2.1.1.1.3" xref="S2.E6.m1.2.2.2.1.1.1.3.cmml"><mi id="S2.E6.m1.2.2.2.1.1.1.3.2" xref="S2.E6.m1.2.2.2.1.1.1.3.2.cmml">x</mi><mi id="S2.E6.m1.2.2.2.1.1.1.3.3" xref="S2.E6.m1.2.2.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.E6.m1.2.2.2.1.1.3" stretchy="false" xref="S2.E6.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="S2.E6.m1.4.4.1.1.2.2" xref="S2.E6.m1.4.4.1.1.2.2.cmml">+</mo><mrow id="S2.E6.m1.4.4.1.1.2.1" xref="S2.E6.m1.4.4.1.1.2.1.cmml"><mi id="S2.E6.m1.4.4.1.1.2.1.3" xref="S2.E6.m1.4.4.1.1.2.1.3.cmml">Î²</mi><mo id="S2.E6.m1.4.4.1.1.2.1.2" lspace="0.170em" xref="S2.E6.m1.4.4.1.1.2.1.2.cmml">â¢</mo><mi id="S2.E6.m1.4.4.1.1.2.1.4" xref="S2.E6.m1.4.4.1.1.2.1.4.cmml">log</mi><mo id="S2.E6.m1.4.4.1.1.2.1.2a" lspace="0.170em" xref="S2.E6.m1.4.4.1.1.2.1.2.cmml">â¢</mo><mi id="S2.E6.m1.4.4.1.1.2.1.5" xref="S2.E6.m1.4.4.1.1.2.1.5.cmml">Z</mi><mo id="S2.E6.m1.4.4.1.1.2.1.2b" xref="S2.E6.m1.4.4.1.1.2.1.2.cmml">â¢</mo><mrow id="S2.E6.m1.4.4.1.1.2.1.1.1" xref="S2.E6.m1.4.4.1.1.2.1.1.1.1.cmml"><mo id="S2.E6.m1.4.4.1.1.2.1.1.1.2" stretchy="false" xref="S2.E6.m1.4.4.1.1.2.1.1.1.1.cmml">(</mo><msub id="S2.E6.m1.4.4.1.1.2.1.1.1.1" xref="S2.E6.m1.4.4.1.1.2.1.1.1.1.cmml"><mi id="S2.E6.m1.4.4.1.1.2.1.1.1.1.2" xref="S2.E6.m1.4.4.1.1.2.1.1.1.1.2.cmml">x</mi><mi id="S2.E6.m1.4.4.1.1.2.1.1.1.1.3" xref="S2.E6.m1.4.4.1.1.2.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.E6.m1.4.4.1.1.2.1.1.1.3" stretchy="false" xref="S2.E6.m1.4.4.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E6.m1.4.4.1.2" xref="S2.E6.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E6.m1.4b"><apply id="S2.E6.m1.4.4.1.1.cmml" xref="S2.E6.m1.4.4.1"><eq id="S2.E6.m1.4.4.1.1.3.cmml" xref="S2.E6.m1.4.4.1.1.3"></eq><apply id="S2.E6.m1.4.4.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.1"><times id="S2.E6.m1.4.4.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.2"></times><ci id="S2.E6.m1.4.4.1.1.1.3.cmml" xref="S2.E6.m1.4.4.1.1.1.3">ğ‘Ÿ</ci><interval closure="open" id="S2.E6.m1.4.4.1.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1"><apply id="S2.E6.m1.4.4.1.1.1.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E6.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.E6.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.4.4.1.1.1.1.1.1.3">ğ‘¢</ci></apply><ci id="S2.E6.m1.3.3.cmml" xref="S2.E6.m1.3.3">ğ‘’</ci></interval></apply><apply id="S2.E6.m1.4.4.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.2"><plus id="S2.E6.m1.4.4.1.1.2.2.cmml" xref="S2.E6.m1.4.4.1.1.2.2"></plus><apply id="S2.E6.m1.4.4.1.1.2.3.cmml" xref="S2.E6.m1.4.4.1.1.2.3"><times id="S2.E6.m1.4.4.1.1.2.3.1.cmml" xref="S2.E6.m1.4.4.1.1.2.3.1"></times><ci id="S2.E6.m1.4.4.1.1.2.3.2.cmml" xref="S2.E6.m1.4.4.1.1.2.3.2">ğ›½</ci><ci id="S2.E6.m1.4.4.1.1.2.3.3.cmml" xref="S2.E6.m1.4.4.1.1.2.3.3">log</ci><apply id="S2.E6.m1.2.2.cmml" xref="S2.E6.m1.2.2"><divide id="S2.E6.m1.2.2.3.cmml" xref="S2.E6.m1.2.2"></divide><apply id="S2.E6.m1.1.1.1.cmml" xref="S2.E6.m1.1.1.1"><times id="S2.E6.m1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.2"></times><ci id="S2.E6.m1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.3">ğœ‹</ci><apply id="S2.E6.m1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E6.m1.1.1.1.1.1.1.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S2.E6.m1.1.1.1.1.1.1.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.2">ğ‘’</ci><apply id="S2.E6.m1.1.1.1.1.1.1.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.1.1.1.1.1.1.3.1.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.1.1.1.1.1.1.3.2.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S2.E6.m1.1.1.1.1.1.1.3.3.cmml" xref="S2.E6.m1.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S2.E6.m1.2.2.2.cmml" xref="S2.E6.m1.2.2.2"><times id="S2.E6.m1.2.2.2.2.cmml" xref="S2.E6.m1.2.2.2.2"></times><apply id="S2.E6.m1.2.2.2.3.cmml" xref="S2.E6.m1.2.2.2.3"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.3.1.cmml" xref="S2.E6.m1.2.2.2.3">subscript</csymbol><ci id="S2.E6.m1.2.2.2.3.2.cmml" xref="S2.E6.m1.2.2.2.3.2">ğœ‹</ci><ci id="S2.E6.m1.2.2.2.3.3.cmml" xref="S2.E6.m1.2.2.2.3.3">ref</ci></apply><apply id="S2.E6.m1.2.2.2.1.1.1.cmml" xref="S2.E6.m1.2.2.2.1.1"><csymbol cd="latexml" id="S2.E6.m1.2.2.2.1.1.1.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.1">conditional</csymbol><ci id="S2.E6.m1.2.2.2.1.1.1.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.2">ğ‘’</ci><apply id="S2.E6.m1.2.2.2.1.1.1.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.E6.m1.2.2.2.1.1.1.3.1.cmml" xref="S2.E6.m1.2.2.2.1.1.1.3">subscript</csymbol><ci id="S2.E6.m1.2.2.2.1.1.1.3.2.cmml" xref="S2.E6.m1.2.2.2.1.1.1.3.2">ğ‘¥</ci><ci id="S2.E6.m1.2.2.2.1.1.1.3.3.cmml" xref="S2.E6.m1.2.2.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="S2.E6.m1.4.4.1.1.2.1.cmml" xref="S2.E6.m1.4.4.1.1.2.1"><times id="S2.E6.m1.4.4.1.1.2.1.2.cmml" xref="S2.E6.m1.4.4.1.1.2.1.2"></times><ci id="S2.E6.m1.4.4.1.1.2.1.3.cmml" xref="S2.E6.m1.4.4.1.1.2.1.3">ğ›½</ci><ci id="S2.E6.m1.4.4.1.1.2.1.4.cmml" xref="S2.E6.m1.4.4.1.1.2.1.4">log</ci><ci id="S2.E6.m1.4.4.1.1.2.1.5.cmml" xref="S2.E6.m1.4.4.1.1.2.1.5">ğ‘</ci><apply id="S2.E6.m1.4.4.1.1.2.1.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S2.E6.m1.4.4.1.1.2.1.1.1.1.1.cmml" xref="S2.E6.m1.4.4.1.1.2.1.1.1">subscript</csymbol><ci id="S2.E6.m1.4.4.1.1.2.1.1.1.1.2.cmml" xref="S2.E6.m1.4.4.1.1.2.1.1.1.1.2">ğ‘¥</ci><ci id="S2.E6.m1.4.4.1.1.2.1.1.1.1.3.cmml" xref="S2.E6.m1.4.4.1.1.2.1.1.1.1.3">ğ‘¢</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E6.m1.4c">\displaystyle r(x_{u},e)=\beta\,{\rm log}\,\frac{\pi(e|x_{u})}{\pi_{\rm ref}(e%
|x_{u})}+\beta\,{\rm log}\,Z(x_{u}),</annotation><annotation encoding="application/x-llamapun" id="S2.E6.m1.4d">italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e ) = italic_Î² roman_log divide start_ARG italic_Ï€ ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG + italic_Î² roman_log italic_Z ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p5.1">where <math alttext="Z(x_{u})=\sum_{e}\pi_{\rm ref}(e|x_{u}){\rm exp}\left(\frac{1}{\beta}r(x_{u},e%
)\right)" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p5.1.m1.4"><semantics id="S2.SS0.SSS0.Px3.p5.1.m1.4a"><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.4.4" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.cmml"><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.cmml"><mi id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.3.cmml">Z</mi><mo id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.2.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.4" rspace="0.111em" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.4.cmml">=</mo><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.cmml"><msub id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.cmml"><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.2.cmml">âˆ‘</mo><mi id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.3.cmml">e</mi></msub><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.cmml"><msub id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.cmml"><mi id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.2.cmml">Ï€</mi><mi id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.3.cmml">ref</mi></msub><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.3.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.2.cmml">e</mi><mo fence="false" id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.1.cmml">|</mo><msub id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.cmml">)</mo></mrow><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.3a" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.3.cmml">â¢</mo><mi id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.5" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.5.cmml">exp</mi><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.3b" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.3.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.cmml"><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.cmml">(</mo><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.cmml"><mfrac id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.cmml"><mn id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.2.cmml">1</mn><mi id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.3.cmml">Î²</mi></mfrac><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.2.cmml">â¢</mo><mi id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.4" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.4.cmml">r</mi><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.2a" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.2.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.2.cmml"><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.2.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.2.cmml">,</mo><mi id="S2.SS0.SSS0.Px3.p5.1.m1.1.1" xref="S2.SS0.SSS0.Px3.p5.1.m1.1.1.cmml">e</mi><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.4" stretchy="false" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.3" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p5.1.m1.4b"><apply id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4"><eq id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.4.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.4"></eq><apply id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1"><times id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.2"></times><ci id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.3">ğ‘</ci><apply id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.2.2.1.1.1.1.3">ğ‘¢</ci></apply></apply><apply id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3"><apply id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3">subscript</csymbol><sum id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.2"></sum><ci id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.3.3">ğ‘’</ci></apply><apply id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2"><times id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.3"></times><apply id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.2">ğœ‹</ci><ci id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.4.3">ref</ci></apply><apply id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.1">conditional</csymbol><ci id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.2">ğ‘’</ci><apply id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.3.3.2.1.1.1.1.3.3">ğ‘¢</ci></apply></apply><ci id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.5.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.5">exp</ci><apply id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1"><times id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.2"></times><apply id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3"><divide id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3"></divide><cn id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.2.cmml" type="integer" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.2">1</cn><ci id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.3.3">ğ›½</ci></apply><ci id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.4.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1"><apply id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.4.4.3.2.2.1.1.1.1.1.3">ğ‘¢</ci></apply><ci id="S2.SS0.SSS0.Px3.p5.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p5.1.m1.1.1">ğ‘’</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p5.1.m1.4c">Z(x_{u})=\sum_{e}\pi_{\rm ref}(e|x_{u}){\rm exp}\left(\frac{1}{\beta}r(x_{u},e%
)\right)</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p5.1.m1.4d">italic_Z ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = âˆ‘ start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) roman_exp ( divide start_ARG 1 end_ARG start_ARG italic_Î² end_ARG italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e ) )</annotation></semantics></math> is the partition function.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p6">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p6.3">By defining <math alttext="p_{r}(e_{p}\succ e_{d}|x_{u})" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p6.1.m1.1"><semantics id="S2.SS0.SSS0.Px3.p6.1.m1.1a"><mrow id="S2.SS0.SSS0.Px3.p6.1.m1.1.1" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.cmml"><msub id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.cmml"><mi id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.2" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.2.cmml">p</mi><mi id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.3" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.3.cmml">r</mi></msub><mo id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.2" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.2.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.cmml"><msub id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.2" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.3" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.1.cmml">â‰»</mo><mrow id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.cmml"><msub id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.cmml"><mi id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.2" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.3" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.3.cmml">d</mi></msub><mo fence="false" id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.1" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.1.cmml">|</mo><msub id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.cmml"><mi id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.2" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.3" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.3.cmml">u</mi></msub></mrow></mrow><mo id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p6.1.m1.1b"><apply id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1"><times id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.2"></times><apply id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.2">ğ‘</ci><ci id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.3.3">ğ‘Ÿ</ci></apply><apply id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.1">succeeds</csymbol><apply id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3"><csymbol cd="latexml" id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.1.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.3.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.2.3">ğ‘‘</ci></apply><apply id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.1.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.2.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.3.cmml" xref="S2.SS0.SSS0.Px3.p6.1.m1.1.1.1.1.1.3.3.3">ğ‘¢</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p6.1.m1.1c">p_{r}(e_{p}\succ e_{d}|x_{u})</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p6.1.m1.1d">italic_p start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math> as <math alttext="\sigma(r(x_{u},e_{p})-r(x_{u},e_{d}))" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p6.2.m2.1"><semantics id="S2.SS0.SSS0.Px3.p6.2.m2.1a"><mrow id="S2.SS0.SSS0.Px3.p6.2.m2.1.1" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.3" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.3.cmml">Ïƒ</mi><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.2.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.cmml"><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.cmml"><mrow id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.4" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.4.cmml">r</mi><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.3" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.3.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.3.cmml"><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.3" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.4" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.3" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.3.cmml">p</mi></msub><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.5" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.5.cmml">âˆ’</mo><mrow id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.cmml"><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.4" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.4.cmml">r</mi><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.3" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.3.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.3.cmml"><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.3.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.3" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.4" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.3.cmml">,</mo><msub id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.2" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.2.cmml">e</mi><mi id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.3" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.3.cmml">d</mi></msub><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.5" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.3" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p6.2.m2.1b"><apply id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1"><times id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.2"></times><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.3">ğœ</ci><apply id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1"><minus id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.5.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.5"></minus><apply id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2"><times id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.3"></times><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.4.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.4">ğ‘Ÿ</ci><interval closure="open" id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2"><apply id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.2.2.2.2.3">ğ‘</ci></apply></interval></apply><apply id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4"><times id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.3"></times><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.4.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.4">ğ‘Ÿ</ci><interval closure="open" id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2"><apply id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.3.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.1.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.2">ğ‘’</ci><ci id="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p6.2.m2.1.1.1.1.1.4.2.2.2.3">ğ‘‘</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p6.2.m2.1c">\sigma(r(x_{u},e_{p})-r(x_{u},e_{d}))</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p6.2.m2.1d">italic_Ïƒ ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) - italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) )</annotation></semantics></math> in Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.E3" title="In RLHF pipeline and DPO. â€£ 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>) according to the BT model used in RLHF and substituting term <math alttext="r(x_{u},e)" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p6.3.m3.2"><semantics id="S2.SS0.SSS0.Px3.p6.3.m3.2a"><mrow id="S2.SS0.SSS0.Px3.p6.3.m3.2.2" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.cmml"><mi id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.3" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.3.cmml">r</mi><mo id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.2" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.2.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.2.cmml"><mo id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.2.cmml">(</mo><msub id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.cmml"><mi id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.2" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.2.cmml">x</mi><mi id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.3" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.3.cmml">u</mi></msub><mo id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.3" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.2.cmml">,</mo><mi id="S2.SS0.SSS0.Px3.p6.3.m3.1.1" xref="S2.SS0.SSS0.Px3.p6.3.m3.1.1.cmml">e</mi><mo id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.4" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p6.3.m3.2b"><apply id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2"><times id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.2"></times><ci id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.3.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.3">ğ‘Ÿ</ci><interval closure="open" id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1"><apply id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.2">ğ‘¥</ci><ci id="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.3.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.2.2.1.1.1.3">ğ‘¢</ci></apply><ci id="S2.SS0.SSS0.Px3.p6.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.3.m3.1.1">ğ‘’</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p6.3.m3.2c">r(x_{u},e)</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p6.3.m3.2d">italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e )</annotation></semantics></math> in Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.E3" title="In RLHF pipeline and DPO. â€£ 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>) with Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.E6" title="In RLHF pipeline and DPO. â€£ 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">6</span></a>), the last two phases of RLHF pipeline can be equivalently transformed into optimizing DPO loss below:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx7">
<tbody id="S2.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\rm DPO}=-\mathbb{E}_{(x_{u},e_{p},e_{d})}\left[{\rm
log%
}\,\sigma\left(\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{p}|x_{u})}{\pi_{\rm ref%
}(e_{p}|x_{u})}-\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{d}|x_{u})}{\pi_{\rm ref%
}(e_{d}|x_{u})}\right)\right]," class="ltx_Math" display="inline" id="S2.E7.m1.8"><semantics id="S2.E7.m1.8a"><mrow id="S2.E7.m1.8.8.1" xref="S2.E7.m1.8.8.1.1.cmml"><mrow id="S2.E7.m1.8.8.1.1" xref="S2.E7.m1.8.8.1.1.cmml"><msub id="S2.E7.m1.8.8.1.1.3" xref="S2.E7.m1.8.8.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E7.m1.8.8.1.1.3.2" xref="S2.E7.m1.8.8.1.1.3.2.cmml">â„’</mi><mi id="S2.E7.m1.8.8.1.1.3.3" xref="S2.E7.m1.8.8.1.1.3.3.cmml">DPO</mi></msub><mo id="S2.E7.m1.8.8.1.1.2" xref="S2.E7.m1.8.8.1.1.2.cmml">=</mo><mrow id="S2.E7.m1.8.8.1.1.1" xref="S2.E7.m1.8.8.1.1.1.cmml"><mo id="S2.E7.m1.8.8.1.1.1a" xref="S2.E7.m1.8.8.1.1.1.cmml">âˆ’</mo><mrow id="S2.E7.m1.8.8.1.1.1.1" xref="S2.E7.m1.8.8.1.1.1.1.cmml"><msub id="S2.E7.m1.8.8.1.1.1.1.3" xref="S2.E7.m1.8.8.1.1.1.1.3.cmml"><mi id="S2.E7.m1.8.8.1.1.1.1.3.2" xref="S2.E7.m1.8.8.1.1.1.1.3.2.cmml">ğ”¼</mi><mrow id="S2.E7.m1.3.3.3.3" xref="S2.E7.m1.3.3.3.4.cmml"><mo id="S2.E7.m1.3.3.3.3.4" stretchy="false" xref="S2.E7.m1.3.3.3.4.cmml">(</mo><msub id="S2.E7.m1.1.1.1.1.1" xref="S2.E7.m1.1.1.1.1.1.cmml"><mi id="S2.E7.m1.1.1.1.1.1.2" xref="S2.E7.m1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.E7.m1.1.1.1.1.1.3" xref="S2.E7.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S2.E7.m1.3.3.3.3.5" xref="S2.E7.m1.3.3.3.4.cmml">,</mo><msub id="S2.E7.m1.2.2.2.2.2" xref="S2.E7.m1.2.2.2.2.2.cmml"><mi id="S2.E7.m1.2.2.2.2.2.2" xref="S2.E7.m1.2.2.2.2.2.2.cmml">e</mi><mi id="S2.E7.m1.2.2.2.2.2.3" xref="S2.E7.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="S2.E7.m1.3.3.3.3.6" xref="S2.E7.m1.3.3.3.4.cmml">,</mo><msub id="S2.E7.m1.3.3.3.3.3" xref="S2.E7.m1.3.3.3.3.3.cmml"><mi id="S2.E7.m1.3.3.3.3.3.2" xref="S2.E7.m1.3.3.3.3.3.2.cmml">e</mi><mi id="S2.E7.m1.3.3.3.3.3.3" xref="S2.E7.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="S2.E7.m1.3.3.3.3.7" stretchy="false" xref="S2.E7.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="S2.E7.m1.8.8.1.1.1.1.2" xref="S2.E7.m1.8.8.1.1.1.1.2.cmml">â¢</mo><mrow id="S2.E7.m1.8.8.1.1.1.1.1.1" xref="S2.E7.m1.8.8.1.1.1.1.1.2.cmml"><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.2" xref="S2.E7.m1.8.8.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S2.E7.m1.8.8.1.1.1.1.1.1.1" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.cmml"><mi id="S2.E7.m1.8.8.1.1.1.1.1.1.1.3" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.2" lspace="0.170em" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.2.cmml">â¢</mo><mi id="S2.E7.m1.8.8.1.1.1.1.1.1.1.4" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.4.cmml">Ïƒ</mi><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.2a" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.2" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.2.cmml">Î²</mi><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.1" lspace="0.170em" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mi id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.cmml">log</mi><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.1a" lspace="0.170em" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mstyle displaystyle="true" id="S2.E7.m1.5.5" xref="S2.E7.m1.5.5.cmml"><mfrac id="S2.E7.m1.5.5a" xref="S2.E7.m1.5.5.cmml"><mrow id="S2.E7.m1.4.4.1" xref="S2.E7.m1.4.4.1.cmml"><msub id="S2.E7.m1.4.4.1.3" xref="S2.E7.m1.4.4.1.3.cmml"><mi id="S2.E7.m1.4.4.1.3.2" xref="S2.E7.m1.4.4.1.3.2.cmml">Ï€</mi><mi id="S2.E7.m1.4.4.1.3.3" xref="S2.E7.m1.4.4.1.3.3.cmml">Î¸</mi></msub><mo id="S2.E7.m1.4.4.1.2" xref="S2.E7.m1.4.4.1.2.cmml">â¢</mo><mrow id="S2.E7.m1.4.4.1.1.1" xref="S2.E7.m1.4.4.1.1.1.1.cmml"><mo id="S2.E7.m1.4.4.1.1.1.2" stretchy="false" xref="S2.E7.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="S2.E7.m1.4.4.1.1.1.1" xref="S2.E7.m1.4.4.1.1.1.1.cmml"><msub id="S2.E7.m1.4.4.1.1.1.1.2" xref="S2.E7.m1.4.4.1.1.1.1.2.cmml"><mi id="S2.E7.m1.4.4.1.1.1.1.2.2" xref="S2.E7.m1.4.4.1.1.1.1.2.2.cmml">e</mi><mi id="S2.E7.m1.4.4.1.1.1.1.2.3" xref="S2.E7.m1.4.4.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="S2.E7.m1.4.4.1.1.1.1.1" xref="S2.E7.m1.4.4.1.1.1.1.1.cmml">|</mo><msub id="S2.E7.m1.4.4.1.1.1.1.3" xref="S2.E7.m1.4.4.1.1.1.1.3.cmml"><mi id="S2.E7.m1.4.4.1.1.1.1.3.2" xref="S2.E7.m1.4.4.1.1.1.1.3.2.cmml">x</mi><mi id="S2.E7.m1.4.4.1.1.1.1.3.3" xref="S2.E7.m1.4.4.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.E7.m1.4.4.1.1.1.3" stretchy="false" xref="S2.E7.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.E7.m1.5.5.2" xref="S2.E7.m1.5.5.2.cmml"><msub id="S2.E7.m1.5.5.2.3" xref="S2.E7.m1.5.5.2.3.cmml"><mi id="S2.E7.m1.5.5.2.3.2" xref="S2.E7.m1.5.5.2.3.2.cmml">Ï€</mi><mi id="S2.E7.m1.5.5.2.3.3" xref="S2.E7.m1.5.5.2.3.3.cmml">ref</mi></msub><mo id="S2.E7.m1.5.5.2.2" xref="S2.E7.m1.5.5.2.2.cmml">â¢</mo><mrow id="S2.E7.m1.5.5.2.1.1" xref="S2.E7.m1.5.5.2.1.1.1.cmml"><mo id="S2.E7.m1.5.5.2.1.1.2" stretchy="false" xref="S2.E7.m1.5.5.2.1.1.1.cmml">(</mo><mrow id="S2.E7.m1.5.5.2.1.1.1" xref="S2.E7.m1.5.5.2.1.1.1.cmml"><msub id="S2.E7.m1.5.5.2.1.1.1.2" xref="S2.E7.m1.5.5.2.1.1.1.2.cmml"><mi id="S2.E7.m1.5.5.2.1.1.1.2.2" xref="S2.E7.m1.5.5.2.1.1.1.2.2.cmml">e</mi><mi id="S2.E7.m1.5.5.2.1.1.1.2.3" xref="S2.E7.m1.5.5.2.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="S2.E7.m1.5.5.2.1.1.1.1" xref="S2.E7.m1.5.5.2.1.1.1.1.cmml">|</mo><msub id="S2.E7.m1.5.5.2.1.1.1.3" xref="S2.E7.m1.5.5.2.1.1.1.3.cmml"><mi id="S2.E7.m1.5.5.2.1.1.1.3.2" xref="S2.E7.m1.5.5.2.1.1.1.3.2.cmml">x</mi><mi id="S2.E7.m1.5.5.2.1.1.1.3.3" xref="S2.E7.m1.5.5.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.E7.m1.5.5.2.1.1.3" stretchy="false" xref="S2.E7.m1.5.5.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.2.cmml">Î²</mi><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.170em" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mi id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.3.cmml">log</mi><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.1a" lspace="0.170em" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mstyle displaystyle="true" id="S2.E7.m1.7.7" xref="S2.E7.m1.7.7.cmml"><mfrac id="S2.E7.m1.7.7a" xref="S2.E7.m1.7.7.cmml"><mrow id="S2.E7.m1.6.6.1" xref="S2.E7.m1.6.6.1.cmml"><msub id="S2.E7.m1.6.6.1.3" xref="S2.E7.m1.6.6.1.3.cmml"><mi id="S2.E7.m1.6.6.1.3.2" xref="S2.E7.m1.6.6.1.3.2.cmml">Ï€</mi><mi id="S2.E7.m1.6.6.1.3.3" xref="S2.E7.m1.6.6.1.3.3.cmml">Î¸</mi></msub><mo id="S2.E7.m1.6.6.1.2" xref="S2.E7.m1.6.6.1.2.cmml">â¢</mo><mrow id="S2.E7.m1.6.6.1.1.1" xref="S2.E7.m1.6.6.1.1.1.1.cmml"><mo id="S2.E7.m1.6.6.1.1.1.2" stretchy="false" xref="S2.E7.m1.6.6.1.1.1.1.cmml">(</mo><mrow id="S2.E7.m1.6.6.1.1.1.1" xref="S2.E7.m1.6.6.1.1.1.1.cmml"><msub id="S2.E7.m1.6.6.1.1.1.1.2" xref="S2.E7.m1.6.6.1.1.1.1.2.cmml"><mi id="S2.E7.m1.6.6.1.1.1.1.2.2" xref="S2.E7.m1.6.6.1.1.1.1.2.2.cmml">e</mi><mi id="S2.E7.m1.6.6.1.1.1.1.2.3" xref="S2.E7.m1.6.6.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="S2.E7.m1.6.6.1.1.1.1.1" xref="S2.E7.m1.6.6.1.1.1.1.1.cmml">|</mo><msub id="S2.E7.m1.6.6.1.1.1.1.3" xref="S2.E7.m1.6.6.1.1.1.1.3.cmml"><mi id="S2.E7.m1.6.6.1.1.1.1.3.2" xref="S2.E7.m1.6.6.1.1.1.1.3.2.cmml">x</mi><mi id="S2.E7.m1.6.6.1.1.1.1.3.3" xref="S2.E7.m1.6.6.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.E7.m1.6.6.1.1.1.3" stretchy="false" xref="S2.E7.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S2.E7.m1.7.7.2" xref="S2.E7.m1.7.7.2.cmml"><msub id="S2.E7.m1.7.7.2.3" xref="S2.E7.m1.7.7.2.3.cmml"><mi id="S2.E7.m1.7.7.2.3.2" xref="S2.E7.m1.7.7.2.3.2.cmml">Ï€</mi><mi id="S2.E7.m1.7.7.2.3.3" xref="S2.E7.m1.7.7.2.3.3.cmml">ref</mi></msub><mo id="S2.E7.m1.7.7.2.2" xref="S2.E7.m1.7.7.2.2.cmml">â¢</mo><mrow id="S2.E7.m1.7.7.2.1.1" xref="S2.E7.m1.7.7.2.1.1.1.cmml"><mo id="S2.E7.m1.7.7.2.1.1.2" stretchy="false" xref="S2.E7.m1.7.7.2.1.1.1.cmml">(</mo><mrow id="S2.E7.m1.7.7.2.1.1.1" xref="S2.E7.m1.7.7.2.1.1.1.cmml"><msub id="S2.E7.m1.7.7.2.1.1.1.2" xref="S2.E7.m1.7.7.2.1.1.1.2.cmml"><mi id="S2.E7.m1.7.7.2.1.1.1.2.2" xref="S2.E7.m1.7.7.2.1.1.1.2.2.cmml">e</mi><mi id="S2.E7.m1.7.7.2.1.1.1.2.3" xref="S2.E7.m1.7.7.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="S2.E7.m1.7.7.2.1.1.1.1" xref="S2.E7.m1.7.7.2.1.1.1.1.cmml">|</mo><msub id="S2.E7.m1.7.7.2.1.1.1.3" xref="S2.E7.m1.7.7.2.1.1.1.3.cmml"><mi id="S2.E7.m1.7.7.2.1.1.1.3.2" xref="S2.E7.m1.7.7.2.1.1.1.3.2.cmml">x</mi><mi id="S2.E7.m1.7.7.2.1.1.1.3.3" xref="S2.E7.m1.7.7.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S2.E7.m1.7.7.2.1.1.3" stretchy="false" xref="S2.E7.m1.7.7.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.3" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E7.m1.8.8.1.1.1.1.1.1.3" xref="S2.E7.m1.8.8.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo id="S2.E7.m1.8.8.1.2" xref="S2.E7.m1.8.8.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E7.m1.8b"><apply id="S2.E7.m1.8.8.1.1.cmml" xref="S2.E7.m1.8.8.1"><eq id="S2.E7.m1.8.8.1.1.2.cmml" xref="S2.E7.m1.8.8.1.1.2"></eq><apply id="S2.E7.m1.8.8.1.1.3.cmml" xref="S2.E7.m1.8.8.1.1.3"><csymbol cd="ambiguous" id="S2.E7.m1.8.8.1.1.3.1.cmml" xref="S2.E7.m1.8.8.1.1.3">subscript</csymbol><ci id="S2.E7.m1.8.8.1.1.3.2.cmml" xref="S2.E7.m1.8.8.1.1.3.2">â„’</ci><ci id="S2.E7.m1.8.8.1.1.3.3.cmml" xref="S2.E7.m1.8.8.1.1.3.3">DPO</ci></apply><apply id="S2.E7.m1.8.8.1.1.1.cmml" xref="S2.E7.m1.8.8.1.1.1"><minus id="S2.E7.m1.8.8.1.1.1.2.cmml" xref="S2.E7.m1.8.8.1.1.1"></minus><apply id="S2.E7.m1.8.8.1.1.1.1.cmml" xref="S2.E7.m1.8.8.1.1.1.1"><times id="S2.E7.m1.8.8.1.1.1.1.2.cmml" xref="S2.E7.m1.8.8.1.1.1.1.2"></times><apply id="S2.E7.m1.8.8.1.1.1.1.3.cmml" xref="S2.E7.m1.8.8.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E7.m1.8.8.1.1.1.1.3.1.cmml" xref="S2.E7.m1.8.8.1.1.1.1.3">subscript</csymbol><ci id="S2.E7.m1.8.8.1.1.1.1.3.2.cmml" xref="S2.E7.m1.8.8.1.1.1.1.3.2">ğ”¼</ci><vector id="S2.E7.m1.3.3.3.4.cmml" xref="S2.E7.m1.3.3.3.3"><apply id="S2.E7.m1.1.1.1.1.1.cmml" xref="S2.E7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E7.m1.1.1.1.1.1.1.cmml" xref="S2.E7.m1.1.1.1.1.1">subscript</csymbol><ci id="S2.E7.m1.1.1.1.1.1.2.cmml" xref="S2.E7.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S2.E7.m1.1.1.1.1.1.3.cmml" xref="S2.E7.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S2.E7.m1.2.2.2.2.2.cmml" xref="S2.E7.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E7.m1.2.2.2.2.2.1.cmml" xref="S2.E7.m1.2.2.2.2.2">subscript</csymbol><ci id="S2.E7.m1.2.2.2.2.2.2.cmml" xref="S2.E7.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="S2.E7.m1.2.2.2.2.2.3.cmml" xref="S2.E7.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="S2.E7.m1.3.3.3.3.3.cmml" xref="S2.E7.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S2.E7.m1.3.3.3.3.3.1.cmml" xref="S2.E7.m1.3.3.3.3.3">subscript</csymbol><ci id="S2.E7.m1.3.3.3.3.3.2.cmml" xref="S2.E7.m1.3.3.3.3.3.2">ğ‘’</ci><ci id="S2.E7.m1.3.3.3.3.3.3.cmml" xref="S2.E7.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="S2.E7.m1.8.8.1.1.1.1.1.2.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E7.m1.8.8.1.1.1.1.1.2.1.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S2.E7.m1.8.8.1.1.1.1.1.1.1.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1"><times id="S2.E7.m1.8.8.1.1.1.1.1.1.1.2.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.2"></times><ci id="S2.E7.m1.8.8.1.1.1.1.1.1.1.3.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.3">log</ci><ci id="S2.E7.m1.8.8.1.1.1.1.1.1.1.4.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.4">ğœ</ci><apply id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1"><minus id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.1"></minus><apply id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2"><times id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.1"></times><ci id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.2">ğ›½</ci><ci id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3">log</ci><apply id="S2.E7.m1.5.5.cmml" xref="S2.E7.m1.5.5"><divide id="S2.E7.m1.5.5.3.cmml" xref="S2.E7.m1.5.5"></divide><apply id="S2.E7.m1.4.4.1.cmml" xref="S2.E7.m1.4.4.1"><times id="S2.E7.m1.4.4.1.2.cmml" xref="S2.E7.m1.4.4.1.2"></times><apply id="S2.E7.m1.4.4.1.3.cmml" xref="S2.E7.m1.4.4.1.3"><csymbol cd="ambiguous" id="S2.E7.m1.4.4.1.3.1.cmml" xref="S2.E7.m1.4.4.1.3">subscript</csymbol><ci id="S2.E7.m1.4.4.1.3.2.cmml" xref="S2.E7.m1.4.4.1.3.2">ğœ‹</ci><ci id="S2.E7.m1.4.4.1.3.3.cmml" xref="S2.E7.m1.4.4.1.3.3">ğœƒ</ci></apply><apply id="S2.E7.m1.4.4.1.1.1.1.cmml" xref="S2.E7.m1.4.4.1.1.1"><csymbol cd="latexml" id="S2.E7.m1.4.4.1.1.1.1.1.cmml" xref="S2.E7.m1.4.4.1.1.1.1.1">conditional</csymbol><apply id="S2.E7.m1.4.4.1.1.1.1.2.cmml" xref="S2.E7.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E7.m1.4.4.1.1.1.1.2.1.cmml" xref="S2.E7.m1.4.4.1.1.1.1.2">subscript</csymbol><ci id="S2.E7.m1.4.4.1.1.1.1.2.2.cmml" xref="S2.E7.m1.4.4.1.1.1.1.2.2">ğ‘’</ci><ci id="S2.E7.m1.4.4.1.1.1.1.2.3.cmml" xref="S2.E7.m1.4.4.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S2.E7.m1.4.4.1.1.1.1.3.cmml" xref="S2.E7.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E7.m1.4.4.1.1.1.1.3.1.cmml" xref="S2.E7.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="S2.E7.m1.4.4.1.1.1.1.3.2.cmml" xref="S2.E7.m1.4.4.1.1.1.1.3.2">ğ‘¥</ci><ci id="S2.E7.m1.4.4.1.1.1.1.3.3.cmml" xref="S2.E7.m1.4.4.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S2.E7.m1.5.5.2.cmml" xref="S2.E7.m1.5.5.2"><times id="S2.E7.m1.5.5.2.2.cmml" xref="S2.E7.m1.5.5.2.2"></times><apply id="S2.E7.m1.5.5.2.3.cmml" xref="S2.E7.m1.5.5.2.3"><csymbol cd="ambiguous" id="S2.E7.m1.5.5.2.3.1.cmml" xref="S2.E7.m1.5.5.2.3">subscript</csymbol><ci id="S2.E7.m1.5.5.2.3.2.cmml" xref="S2.E7.m1.5.5.2.3.2">ğœ‹</ci><ci id="S2.E7.m1.5.5.2.3.3.cmml" xref="S2.E7.m1.5.5.2.3.3">ref</ci></apply><apply id="S2.E7.m1.5.5.2.1.1.1.cmml" xref="S2.E7.m1.5.5.2.1.1"><csymbol cd="latexml" id="S2.E7.m1.5.5.2.1.1.1.1.cmml" xref="S2.E7.m1.5.5.2.1.1.1.1">conditional</csymbol><apply id="S2.E7.m1.5.5.2.1.1.1.2.cmml" xref="S2.E7.m1.5.5.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.E7.m1.5.5.2.1.1.1.2.1.cmml" xref="S2.E7.m1.5.5.2.1.1.1.2">subscript</csymbol><ci id="S2.E7.m1.5.5.2.1.1.1.2.2.cmml" xref="S2.E7.m1.5.5.2.1.1.1.2.2">ğ‘’</ci><ci id="S2.E7.m1.5.5.2.1.1.1.2.3.cmml" xref="S2.E7.m1.5.5.2.1.1.1.2.3">ğ‘</ci></apply><apply id="S2.E7.m1.5.5.2.1.1.1.3.cmml" xref="S2.E7.m1.5.5.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.E7.m1.5.5.2.1.1.1.3.1.cmml" xref="S2.E7.m1.5.5.2.1.1.1.3">subscript</csymbol><ci id="S2.E7.m1.5.5.2.1.1.1.3.2.cmml" xref="S2.E7.m1.5.5.2.1.1.1.3.2">ğ‘¥</ci><ci id="S2.E7.m1.5.5.2.1.1.1.3.3.cmml" xref="S2.E7.m1.5.5.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3"><times id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.2">ğ›½</ci><ci id="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E7.m1.8.8.1.1.1.1.1.1.1.1.1.1.3.3">log</ci><apply id="S2.E7.m1.7.7.cmml" xref="S2.E7.m1.7.7"><divide id="S2.E7.m1.7.7.3.cmml" xref="S2.E7.m1.7.7"></divide><apply id="S2.E7.m1.6.6.1.cmml" xref="S2.E7.m1.6.6.1"><times id="S2.E7.m1.6.6.1.2.cmml" xref="S2.E7.m1.6.6.1.2"></times><apply id="S2.E7.m1.6.6.1.3.cmml" xref="S2.E7.m1.6.6.1.3"><csymbol cd="ambiguous" id="S2.E7.m1.6.6.1.3.1.cmml" xref="S2.E7.m1.6.6.1.3">subscript</csymbol><ci id="S2.E7.m1.6.6.1.3.2.cmml" xref="S2.E7.m1.6.6.1.3.2">ğœ‹</ci><ci id="S2.E7.m1.6.6.1.3.3.cmml" xref="S2.E7.m1.6.6.1.3.3">ğœƒ</ci></apply><apply id="S2.E7.m1.6.6.1.1.1.1.cmml" xref="S2.E7.m1.6.6.1.1.1"><csymbol cd="latexml" id="S2.E7.m1.6.6.1.1.1.1.1.cmml" xref="S2.E7.m1.6.6.1.1.1.1.1">conditional</csymbol><apply id="S2.E7.m1.6.6.1.1.1.1.2.cmml" xref="S2.E7.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E7.m1.6.6.1.1.1.1.2.1.cmml" xref="S2.E7.m1.6.6.1.1.1.1.2">subscript</csymbol><ci id="S2.E7.m1.6.6.1.1.1.1.2.2.cmml" xref="S2.E7.m1.6.6.1.1.1.1.2.2">ğ‘’</ci><ci id="S2.E7.m1.6.6.1.1.1.1.2.3.cmml" xref="S2.E7.m1.6.6.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="S2.E7.m1.6.6.1.1.1.1.3.cmml" xref="S2.E7.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E7.m1.6.6.1.1.1.1.3.1.cmml" xref="S2.E7.m1.6.6.1.1.1.1.3">subscript</csymbol><ci id="S2.E7.m1.6.6.1.1.1.1.3.2.cmml" xref="S2.E7.m1.6.6.1.1.1.1.3.2">ğ‘¥</ci><ci id="S2.E7.m1.6.6.1.1.1.1.3.3.cmml" xref="S2.E7.m1.6.6.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S2.E7.m1.7.7.2.cmml" xref="S2.E7.m1.7.7.2"><times id="S2.E7.m1.7.7.2.2.cmml" xref="S2.E7.m1.7.7.2.2"></times><apply id="S2.E7.m1.7.7.2.3.cmml" xref="S2.E7.m1.7.7.2.3"><csymbol cd="ambiguous" id="S2.E7.m1.7.7.2.3.1.cmml" xref="S2.E7.m1.7.7.2.3">subscript</csymbol><ci id="S2.E7.m1.7.7.2.3.2.cmml" xref="S2.E7.m1.7.7.2.3.2">ğœ‹</ci><ci id="S2.E7.m1.7.7.2.3.3.cmml" xref="S2.E7.m1.7.7.2.3.3">ref</ci></apply><apply id="S2.E7.m1.7.7.2.1.1.1.cmml" xref="S2.E7.m1.7.7.2.1.1"><csymbol cd="latexml" id="S2.E7.m1.7.7.2.1.1.1.1.cmml" xref="S2.E7.m1.7.7.2.1.1.1.1">conditional</csymbol><apply id="S2.E7.m1.7.7.2.1.1.1.2.cmml" xref="S2.E7.m1.7.7.2.1.1.1.2"><csymbol cd="ambiguous" id="S2.E7.m1.7.7.2.1.1.1.2.1.cmml" xref="S2.E7.m1.7.7.2.1.1.1.2">subscript</csymbol><ci id="S2.E7.m1.7.7.2.1.1.1.2.2.cmml" xref="S2.E7.m1.7.7.2.1.1.1.2.2">ğ‘’</ci><ci id="S2.E7.m1.7.7.2.1.1.1.2.3.cmml" xref="S2.E7.m1.7.7.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="S2.E7.m1.7.7.2.1.1.1.3.cmml" xref="S2.E7.m1.7.7.2.1.1.1.3"><csymbol cd="ambiguous" id="S2.E7.m1.7.7.2.1.1.1.3.1.cmml" xref="S2.E7.m1.7.7.2.1.1.1.3">subscript</csymbol><ci id="S2.E7.m1.7.7.2.1.1.1.3.2.cmml" xref="S2.E7.m1.7.7.2.1.1.1.3.2">ğ‘¥</ci><ci id="S2.E7.m1.7.7.2.1.1.1.3.3.cmml" xref="S2.E7.m1.7.7.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E7.m1.8c">\displaystyle\mathcal{L}_{\rm DPO}=-\mathbb{E}_{(x_{u},e_{p},e_{d})}\left[{\rm
log%
}\,\sigma\left(\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{p}|x_{u})}{\pi_{\rm ref%
}(e_{p}|x_{u})}-\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{d}|x_{u})}{\pi_{\rm ref%
}(e_{d}|x_{u})}\right)\right],</annotation><annotation encoding="application/x-llamapun" id="S2.E7.m1.8d">caligraphic_L start_POSTSUBSCRIPT roman_DPO end_POSTSUBSCRIPT = - blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_log italic_Ïƒ ( italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG - italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG ) ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p6.4">wherein <math alttext="\sigma(x)" class="ltx_Math" display="inline" id="S2.SS0.SSS0.Px3.p6.4.m1.1"><semantics id="S2.SS0.SSS0.Px3.p6.4.m1.1a"><mrow id="S2.SS0.SSS0.Px3.p6.4.m1.1.2" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2.cmml"><mi id="S2.SS0.SSS0.Px3.p6.4.m1.1.2.2" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2.2.cmml">Ïƒ</mi><mo id="S2.SS0.SSS0.Px3.p6.4.m1.1.2.1" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2.1.cmml">â¢</mo><mrow id="S2.SS0.SSS0.Px3.p6.4.m1.1.2.3.2" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2.cmml"><mo id="S2.SS0.SSS0.Px3.p6.4.m1.1.2.3.2.1" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2.cmml">(</mo><mi id="S2.SS0.SSS0.Px3.p6.4.m1.1.1" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.1.cmml">x</mi><mo id="S2.SS0.SSS0.Px3.p6.4.m1.1.2.3.2.2" stretchy="false" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px3.p6.4.m1.1b"><apply id="S2.SS0.SSS0.Px3.p6.4.m1.1.2.cmml" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2"><times id="S2.SS0.SSS0.Px3.p6.4.m1.1.2.1.cmml" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2.1"></times><ci id="S2.SS0.SSS0.Px3.p6.4.m1.1.2.2.cmml" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.2.2">ğœ</ci><ci id="S2.SS0.SSS0.Px3.p6.4.m1.1.1.cmml" xref="S2.SS0.SSS0.Px3.p6.4.m1.1.1">ğ‘¥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px3.p6.4.m1.1c">\sigma(x)</annotation><annotation encoding="application/x-llamapun" id="S2.SS0.SSS0.Px3.p6.4.m1.1d">italic_Ïƒ ( italic_x )</annotation></semantics></math> is the sigmoid function.</p>
</div>
<div class="ltx_para" id="S2.SS0.SSS0.Px3.p7">
<p class="ltx_p" id="S2.SS0.SSS0.Px3.p7.1">DPO is able to directly extract the optimal policy from pairwise preference data, making it more practical for preference alignment than RLHF.
Nevertheless, DPO and RLHF are usually designed for pairwise preference.
The oversight of other negative items impedes the performance of the LM-based recommenders.
To bridge the gap, we expand DPO to S-DPO in recommendation tasks, in consideration of multiple negative items.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methodology</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Derivation of S-DPO loss</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1">To align LM-based recommender <math alttext="\mathcal{M}_{\theta}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><msub id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">â„³</mi><mi id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml">Î¸</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">â„³</ci><ci id="S3.SS1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.p1.1.m1.1.1.3">ğœƒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">\mathcal{M}_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">caligraphic_M start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT</annotation></semantics></math> with multi-negative preference, we first derive the preference distribution and then propose a new loss function called S-DPO (depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S1.F1" title="Figure 1 â€£ 1 Introduction â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph"> Multi-negative Preference Distribution.</h4>
<div class="ltx_para" id="S3.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p1.6">As mentioned in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.SS0.SSS0.Px1" title="Task Formulation. â€£ 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>, for user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS1.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS1.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.1.m1.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.1.m1.1d">italic_u</annotation></semantics></math>, there is a partial ranking stipulating <math alttext="i_{p}&gt;_{u}i_{d},\forall\,i_{d}\in\mathcal{I}_{d}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.2.m2.2"><semantics id="S3.SS1.SSS0.Px1.p1.2.m2.2a"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.3.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.cmml"><msub id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.2.cmml">i</mi><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.3.cmml">p</mi></msub><msub id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml">&gt;</mo><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.3.cmml">u</mi></msub><msub id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.2.cmml">i</mi><mi id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.3.cmml">d</mi></msub></mrow><mo id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.3a.cmml">,</mo><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.cmml"><mrow id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.cmml"><mo id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.1" rspace="0.337em" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.1.cmml">âˆ€</mo><msub id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.2.cmml">i</mi><mi id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.3.cmml">d</mi></msub></mrow><mo id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.1" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.1.cmml">âˆˆ</mo><msub id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.2" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.2.cmml">â„</mi><mi id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.3" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.3.cmml">d</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.2.m2.2b"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.3a.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1"><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1">subscript</csymbol><gt id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.2"></gt><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.2">ğ‘–</ci><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.2">ğ‘–</ci><ci id="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.1.1.1.1.3.3">ğ‘‘</ci></apply></apply><apply id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2"><in id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.1"></in><apply id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.1">for-all</csymbol><apply id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.2">ğ‘–</ci><ci id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.2.2.3">ğ‘‘</ci></apply></apply><apply id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.2">â„</ci><ci id="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.2.m2.2.2.2.2.3.3">ğ‘‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.2.m2.2c">i_{p}&gt;_{u}i_{d},\forall\,i_{d}\in\mathcal{I}_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.2.m2.2d">italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT &gt; start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , âˆ€ italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> in sequential recommendation tasks.
Let <math alttext="\mathcal{E}_{d}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.3.m3.1"><semantics id="S3.SS1.SSS0.Px1.p1.3.m3.1a"><msub id="S3.SS1.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml">â„°</mi><mi id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.3.m3.1b"><apply id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.2">â„°</ci><ci id="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.3.m3.1.1.3">ğ‘‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.3.m3.1c">\mathcal{E}_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.3.m3.1d">caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> be the titles of dispreferred items <math alttext="\mathcal{I}_{d}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.4.m4.1"><semantics id="S3.SS1.SSS0.Px1.p1.4.m4.1a"><msub id="S3.SS1.SSS0.Px1.p1.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml">â„</mi><mi id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.4.m4.1b"><apply id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.2">â„</ci><ci id="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.4.m4.1.1.3">ğ‘‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.4.m4.1c">\mathcal{I}_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.4.m4.1d">caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math>.
The aforementioned partial ranking is equivalent to <math alttext="e_{p}\succ e_{d}|x_{u},\forall e_{d}\in\mathcal{E}_{d}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.5.m5.2"><semantics id="S3.SS1.SSS0.Px1.p1.5.m5.2a"><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.cmml"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.3.cmml">p</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.5" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.5.cmml">â‰»</mo><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.cmml"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.3.cmml">d</mi></msub><mo fence="false" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.3.cmml">|</mo><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.3.cmml"><msub id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.3.cmml">,</mo><mrow id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.cmml"><mo id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.1" rspace="0.167em" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.1.cmml">âˆ€</mo><msub id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.3.cmml">d</mi></msub></mrow></mrow></mrow><mo id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.6" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.6.cmml">âˆˆ</mo><msub id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.2" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.2.cmml">â„°</mi><mi id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.3" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.3.cmml">d</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.5.m5.2b"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2"><and id="S3.SS1.SSS0.Px1.p1.5.m5.2.2a.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2"></and><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2b.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.5.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.5">succeeds</csymbol><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.4.3">ğ‘</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.3">conditional</csymbol><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.4.3">ğ‘‘</ci></apply><list id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2"><apply id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.1">for-all</csymbol><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.2.2.2.2.3">ğ‘‘</ci></apply></apply></list></apply></apply><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2c.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2"><in id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.6.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.6"></in><share href="https://arxiv.org/html/2406.09215v2#S3.SS1.SSS0.Px1.p1.5.m5.2.2.2.cmml" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2d.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2"></share><apply id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.1.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.2.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.2">â„°</ci><ci id="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.3.cmml" xref="S3.SS1.SSS0.Px1.p1.5.m5.2.2.7.3">ğ‘‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.5.m5.2c">e_{p}\succ e_{d}|x_{u},\forall e_{d}\in\mathcal{E}_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.5.m5.2d">italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , âˆ€ italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math>, from which a multi-negative preference dataset <math alttext="\{x_{u},e_{p},\mathcal{E}_{d}\}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p1.6.m6.3"><semantics id="S3.SS1.SSS0.Px1.p1.6.m6.3a"><mrow id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.4.cmml"><mo id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.4" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.4.cmml">{</mo><msub id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.2" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.3" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.5" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.2" xref="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.3" xref="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.3.cmml">p</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.6" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.2" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.2.cmml">â„°</mi><mi id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.3" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.3.cmml">d</mi></msub><mo id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.7" stretchy="false" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p1.6.m6.3b"><set id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.4.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3"><apply id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.2.2.2.2.3">ğ‘</ci></apply><apply id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.2">â„°</ci><ci id="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p1.6.m6.3.3.3.3.3">ğ‘‘</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p1.6.m6.3c">\{x_{u},e_{p},\mathcal{E}_{d}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p1.6.m6.3d">{ italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT }</annotation></semantics></math> can be curated in an analogous way to RLHF.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS0.Px1.p2">
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p2.8">For the dataset pairing one preferred item with multiple dispreferred items, we leverage the Plackett-Luce (PL) model <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib40" title="">40</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib41" title="">41</a>]</cite> to build preference distribution.
Given prompt <math alttext="x_{u}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p2.1.m1.1"><semantics id="S3.SS1.SSS0.Px1.p2.1.m1.1a"><msub id="S3.SS1.SSS0.Px1.p2.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.1.m1.1.1.2" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px1.p2.1.m1.1.1.3" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.1.m1.1b"><apply id="S3.SS1.SSS0.Px1.p2.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.1.m1.1.1.3">ğ‘¢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.1.m1.1c">x_{u}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.1.m1.1d">italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="K" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p2.2.m2.1"><semantics id="S3.SS1.SSS0.Px1.p2.2.m2.1a"><mi id="S3.SS1.SSS0.Px1.p2.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.2.m2.1b"><ci id="S3.SS1.SSS0.Px1.p2.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.2.m2.1.1">ğ¾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.2.m2.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.2.m2.1d">italic_K</annotation></semantics></math> titles <math alttext="e_{1},e_{2},\cdots,e_{K}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p2.3.m3.4"><semantics id="S3.SS1.SSS0.Px1.p2.3.m3.4a"><mrow id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.4.cmml"><msub id="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1" xref="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.2" xref="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.2.cmml">e</mi><mn id="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.3" xref="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.4" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2" xref="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.2" xref="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.2.cmml">e</mi><mn id="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.3" xref="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.5" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.4.cmml">,</mo><mi id="S3.SS1.SSS0.Px1.p2.3.m3.1.1" mathvariant="normal" xref="S3.SS1.SSS0.Px1.p2.3.m3.1.1.cmml">â‹¯</mi><mo id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.6" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.2" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.3" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.3.cmml">K</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.3.m3.4b"><list id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.4.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3"><apply id="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.2">ğ‘’</ci><cn id="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p2.3.m3.2.2.1.1.3">1</cn></apply><apply id="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.2">ğ‘’</ci><cn id="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.3.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p2.3.m3.3.3.2.2.3">2</cn></apply><ci id="S3.SS1.SSS0.Px1.p2.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.1.1">â‹¯</ci><apply id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.3.cmml" xref="S3.SS1.SSS0.Px1.p2.3.m3.4.4.3.3.3">ğ¾</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.3.m3.4c">e_{1},e_{2},\cdots,e_{K}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.3.m3.4d">italic_e start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_e start_POSTSUBSCRIPT italic_K end_POSTSUBSCRIPT</annotation></semantics></math> and a permutation <math alttext="\tau:[K]\rightarrow[K]" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p2.4.m4.2"><semantics id="S3.SS1.SSS0.Px1.p2.4.m4.2a"><mrow id="S3.SS1.SSS0.Px1.p2.4.m4.2.3" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.cmml"><mi id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.2.cmml">Ï„</mi><mo id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.1" lspace="0.278em" rspace="0.278em" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.1.cmml">:</mo><mrow id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.cmml"><mrow id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.1.cmml"><mo id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.2.1" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.1.1.cmml">[</mo><mi id="S3.SS1.SSS0.Px1.p2.4.m4.1.1" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1.cmml">K</mi><mo id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.2.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.1.1.cmml">]</mo></mrow><mo id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.1" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.1.cmml">â†’</mo><mrow id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.1.cmml"><mo id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.2.1" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.1.1.cmml">[</mo><mi id="S3.SS1.SSS0.Px1.p2.4.m4.2.2" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.2.cmml">K</mi><mo id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.2.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.4.m4.2b"><apply id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3"><ci id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.1">:</ci><ci id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.2.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.2">ğœ</ci><apply id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3"><ci id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.1">â†’</ci><apply id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.2"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.2.2.1">delimited-[]</csymbol><ci id="S3.SS1.SSS0.Px1.p2.4.m4.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.1.1">ğ¾</ci></apply><apply id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.2"><csymbol cd="latexml" id="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.3.3.3.2.1">delimited-[]</csymbol><ci id="S3.SS1.SSS0.Px1.p2.4.m4.2.2.cmml" xref="S3.SS1.SSS0.Px1.p2.4.m4.2.2">ğ¾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.4.m4.2c">\tau:[K]\rightarrow[K]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.4.m4.2d">italic_Ï„ : [ italic_K ] â†’ [ italic_K ]</annotation></semantics></math> reflecting user preference, with <math alttext="\tau(j)" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p2.5.m5.1"><semantics id="S3.SS1.SSS0.Px1.p2.5.m5.1a"><mrow id="S3.SS1.SSS0.Px1.p2.5.m5.1.2" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2.cmml"><mi id="S3.SS1.SSS0.Px1.p2.5.m5.1.2.2" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2.2.cmml">Ï„</mi><mo id="S3.SS1.SSS0.Px1.p2.5.m5.1.2.1" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2.1.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px1.p2.5.m5.1.2.3.2" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2.cmml"><mo id="S3.SS1.SSS0.Px1.p2.5.m5.1.2.3.2.1" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2.cmml">(</mo><mi id="S3.SS1.SSS0.Px1.p2.5.m5.1.1" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1.cmml">j</mi><mo id="S3.SS1.SSS0.Px1.p2.5.m5.1.2.3.2.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.5.m5.1b"><apply id="S3.SS1.SSS0.Px1.p2.5.m5.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2"><times id="S3.SS1.SSS0.Px1.p2.5.m5.1.2.1.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2.1"></times><ci id="S3.SS1.SSS0.Px1.p2.5.m5.1.2.2.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.2.2">ğœ</ci><ci id="S3.SS1.SSS0.Px1.p2.5.m5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.5.m5.1.1">ğ‘—</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.5.m5.1c">\tau(j)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.5.m5.1d">italic_Ï„ ( italic_j )</annotation></semantics></math> denoting the <math alttext="j" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p2.6.m6.1"><semantics id="S3.SS1.SSS0.Px1.p2.6.m6.1a"><mi id="S3.SS1.SSS0.Px1.p2.6.m6.1.1" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.6.m6.1b"><ci id="S3.SS1.SSS0.Px1.p2.6.m6.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.6.m6.1.1">ğ‘—</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.6.m6.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.6.m6.1d">italic_j</annotation></semantics></math>-th element of permutation <math alttext="\tau" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p2.7.m7.1"><semantics id="S3.SS1.SSS0.Px1.p2.7.m7.1a"><mi id="S3.SS1.SSS0.Px1.p2.7.m7.1.1" xref="S3.SS1.SSS0.Px1.p2.7.m7.1.1.cmml">Ï„</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.7.m7.1b"><ci id="S3.SS1.SSS0.Px1.p2.7.m7.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.7.m7.1.1">ğœ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.7.m7.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.7.m7.1d">italic_Ï„</annotation></semantics></math>, the PL model estimates that the ranking <math alttext="e_{\tau(1)},e_{\tau(2)},\cdots,e_{\tau(K)}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p2.8.m8.7"><semantics id="S3.SS1.SSS0.Px1.p2.8.m8.7a"><mrow id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.4.cmml"><msub id="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1" xref="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1.2.cmml">e</mi><mrow id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.3" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.3.cmml">Ï„</mi><mo id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.4.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.4.2.1" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.cmml">(</mo><mn id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.1" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.1.cmml">1</mn><mo id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.4.2.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.4" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2.cmml"><mi id="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2.2.cmml">e</mi><mrow id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.3" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.3.cmml">Ï„</mi><mo id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.4.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.cmml"><mo id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.4.2.1" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.cmml">(</mo><mn id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.1" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.1.cmml">2</mn><mo id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.4.2.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.5" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.4.cmml">,</mo><mi id="S3.SS1.SSS0.Px1.p2.8.m8.4.4" mathvariant="normal" xref="S3.SS1.SSS0.Px1.p2.8.m8.4.4.cmml">â‹¯</mi><mo id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.6" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3.cmml"><mi id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3.2.cmml">e</mi><mrow id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.cmml"><mi id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.3" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.3.cmml">Ï„</mi><mo id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.4.2" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.cmml"><mo id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.4.2.1" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.cmml">(</mo><mi id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.1" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.1.cmml">K</mi><mo id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.4.2.2" stretchy="false" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.cmml">)</mo></mrow></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p2.8.m8.7b"><list id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.4.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3"><apply id="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.5.5.1.1.2">ğ‘’</ci><apply id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1"><times id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.2"></times><ci id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.3">ğœ</ci><cn id="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.1.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p2.8.m8.1.1.1.1">1</cn></apply></apply><apply id="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2.2.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.6.6.2.2.2">ğ‘’</ci><apply id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1"><times id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.2"></times><ci id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.3">ğœ</ci><cn id="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.1.cmml" type="integer" xref="S3.SS1.SSS0.Px1.p2.8.m8.2.2.1.1">2</cn></apply></apply><ci id="S3.SS1.SSS0.Px1.p2.8.m8.4.4.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.4.4">â‹¯</ci><apply id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3.2.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.7.7.3.3.2">ğ‘’</ci><apply id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1"><times id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.2.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.2"></times><ci id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.3.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.3">ğœ</ci><ci id="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.1.cmml" xref="S3.SS1.SSS0.Px1.p2.8.m8.3.3.1.1">ğ¾</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p2.8.m8.7c">e_{\tau(1)},e_{\tau(2)},\cdots,e_{\tau(K)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p2.8.m8.7d">italic_e start_POSTSUBSCRIPT italic_Ï„ ( 1 ) end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ ( 2 ) end_POSTSUBSCRIPT , â‹¯ , italic_e start_POSTSUBSCRIPT italic_Ï„ ( italic_K ) end_POSTSUBSCRIPT</annotation></semantics></math> turns out true, as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx8">
<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle p(\tau|e_{1},e_{2},\cdots,e_{K},x_{u})=\prod_{j=1}^{K}\frac{{\rm
exp%
}\left(r(x_{u},e_{\tau(j)})\right)}{\Sigma_{l=j}^{K}{\rm exp}(r\left(x_{u},e_{%
\tau(l)})\right)}." class="ltx_Math" display="inline" id="S3.E8.m1.6"><semantics id="S3.E8.m1.6a"><mrow id="S3.E8.m1.6.6.1" xref="S3.E8.m1.6.6.1.1.cmml"><mrow id="S3.E8.m1.6.6.1.1" xref="S3.E8.m1.6.6.1.1.cmml"><mrow id="S3.E8.m1.6.6.1.1.1" xref="S3.E8.m1.6.6.1.1.1.cmml"><mi id="S3.E8.m1.6.6.1.1.1.3" xref="S3.E8.m1.6.6.1.1.1.3.cmml">p</mi><mo id="S3.E8.m1.6.6.1.1.1.2" xref="S3.E8.m1.6.6.1.1.1.2.cmml">â¢</mo><mrow id="S3.E8.m1.6.6.1.1.1.1.1" xref="S3.E8.m1.6.6.1.1.1.1.1.1.cmml"><mo id="S3.E8.m1.6.6.1.1.1.1.1.2" stretchy="false" xref="S3.E8.m1.6.6.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E8.m1.6.6.1.1.1.1.1.1" xref="S3.E8.m1.6.6.1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.6.6.1.1.1.1.1.1.6" xref="S3.E8.m1.6.6.1.1.1.1.1.1.6.cmml">Ï„</mi><mo fence="false" id="S3.E8.m1.6.6.1.1.1.1.1.1.5" xref="S3.E8.m1.6.6.1.1.1.1.1.1.5.cmml">|</mo><mrow id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.5.cmml"><msub id="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.2" xref="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mn id="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.5" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.5.cmml">,</mo><msub id="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2" xref="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.2" xref="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mn id="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.3" xref="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.3.cmml">2</mn></msub><mo id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.6" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.5.cmml">,</mo><mi id="S3.E8.m1.5.5" mathvariant="normal" xref="S3.E8.m1.5.5.cmml">â‹¯</mi><mo id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.7" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.5.cmml">,</mo><msub id="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3" xref="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.2" xref="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.2.cmml">e</mi><mi id="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.3" xref="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.3.cmml">K</mi></msub><mo id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.8" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.5.cmml">,</mo><msub id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.cmml"><mi id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.2" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.2.cmml">x</mi><mi id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.3" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.3.cmml">u</mi></msub></mrow></mrow><mo id="S3.E8.m1.6.6.1.1.1.1.1.3" stretchy="false" xref="S3.E8.m1.6.6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E8.m1.6.6.1.1.2" xref="S3.E8.m1.6.6.1.1.2.cmml">=</mo><mrow id="S3.E8.m1.6.6.1.1.3" xref="S3.E8.m1.6.6.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E8.m1.6.6.1.1.3.1" xref="S3.E8.m1.6.6.1.1.3.1.cmml"><munderover id="S3.E8.m1.6.6.1.1.3.1a" xref="S3.E8.m1.6.6.1.1.3.1.cmml"><mo id="S3.E8.m1.6.6.1.1.3.1.2.2" movablelimits="false" xref="S3.E8.m1.6.6.1.1.3.1.2.2.cmml">âˆ</mo><mrow id="S3.E8.m1.6.6.1.1.3.1.2.3" xref="S3.E8.m1.6.6.1.1.3.1.2.3.cmml"><mi id="S3.E8.m1.6.6.1.1.3.1.2.3.2" xref="S3.E8.m1.6.6.1.1.3.1.2.3.2.cmml">j</mi><mo id="S3.E8.m1.6.6.1.1.3.1.2.3.1" xref="S3.E8.m1.6.6.1.1.3.1.2.3.1.cmml">=</mo><mn id="S3.E8.m1.6.6.1.1.3.1.2.3.3" xref="S3.E8.m1.6.6.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E8.m1.6.6.1.1.3.1.3" xref="S3.E8.m1.6.6.1.1.3.1.3.cmml">K</mi></munderover></mstyle><mstyle displaystyle="true" id="S3.E8.m1.4.4" xref="S3.E8.m1.4.4.cmml"><mfrac id="S3.E8.m1.4.4a" xref="S3.E8.m1.4.4.cmml"><mrow id="S3.E8.m1.2.2.2" xref="S3.E8.m1.2.2.2.cmml"><mi id="S3.E8.m1.2.2.2.4" xref="S3.E8.m1.2.2.2.4.cmml">exp</mi><mo id="S3.E8.m1.2.2.2.3" xref="S3.E8.m1.2.2.2.3.cmml">â¢</mo><mrow id="S3.E8.m1.2.2.2.2.1" xref="S3.E8.m1.2.2.2.2.1.1.cmml"><mo id="S3.E8.m1.2.2.2.2.1.2" xref="S3.E8.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="S3.E8.m1.2.2.2.2.1.1" xref="S3.E8.m1.2.2.2.2.1.1.cmml"><mi id="S3.E8.m1.2.2.2.2.1.1.4" xref="S3.E8.m1.2.2.2.2.1.1.4.cmml">r</mi><mo id="S3.E8.m1.2.2.2.2.1.1.3" xref="S3.E8.m1.2.2.2.2.1.1.3.cmml">â¢</mo><mrow id="S3.E8.m1.2.2.2.2.1.1.2.2" xref="S3.E8.m1.2.2.2.2.1.1.2.3.cmml"><mo id="S3.E8.m1.2.2.2.2.1.1.2.2.3" stretchy="false" xref="S3.E8.m1.2.2.2.2.1.1.2.3.cmml">(</mo><msub id="S3.E8.m1.2.2.2.2.1.1.1.1.1" xref="S3.E8.m1.2.2.2.2.1.1.1.1.1.cmml"><mi id="S3.E8.m1.2.2.2.2.1.1.1.1.1.2" xref="S3.E8.m1.2.2.2.2.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E8.m1.2.2.2.2.1.1.1.1.1.3" xref="S3.E8.m1.2.2.2.2.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.E8.m1.2.2.2.2.1.1.2.2.4" xref="S3.E8.m1.2.2.2.2.1.1.2.3.cmml">,</mo><msub id="S3.E8.m1.2.2.2.2.1.1.2.2.2" xref="S3.E8.m1.2.2.2.2.1.1.2.2.2.cmml"><mi id="S3.E8.m1.2.2.2.2.1.1.2.2.2.2" xref="S3.E8.m1.2.2.2.2.1.1.2.2.2.2.cmml">e</mi><mrow id="S3.E8.m1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.1.1.1.1.1.3" xref="S3.E8.m1.1.1.1.1.1.3.cmml">Ï„</mi><mo id="S3.E8.m1.1.1.1.1.1.2" xref="S3.E8.m1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E8.m1.1.1.1.1.1.4.2" xref="S3.E8.m1.1.1.1.1.1.cmml"><mo id="S3.E8.m1.1.1.1.1.1.4.2.1" stretchy="false" xref="S3.E8.m1.1.1.1.1.1.cmml">(</mo><mi id="S3.E8.m1.1.1.1.1.1.1" xref="S3.E8.m1.1.1.1.1.1.1.cmml">j</mi><mo id="S3.E8.m1.1.1.1.1.1.4.2.2" stretchy="false" xref="S3.E8.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.E8.m1.2.2.2.2.1.1.2.2.5" stretchy="false" xref="S3.E8.m1.2.2.2.2.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E8.m1.2.2.2.2.1.3" xref="S3.E8.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E8.m1.4.4.4" xref="S3.E8.m1.4.4.4.cmml"><msubsup id="S3.E8.m1.4.4.4.4" xref="S3.E8.m1.4.4.4.4.cmml"><mi id="S3.E8.m1.4.4.4.4.2.2" mathvariant="normal" xref="S3.E8.m1.4.4.4.4.2.2.cmml">Î£</mi><mrow id="S3.E8.m1.4.4.4.4.2.3" xref="S3.E8.m1.4.4.4.4.2.3.cmml"><mi id="S3.E8.m1.4.4.4.4.2.3.2" xref="S3.E8.m1.4.4.4.4.2.3.2.cmml">l</mi><mo id="S3.E8.m1.4.4.4.4.2.3.1" xref="S3.E8.m1.4.4.4.4.2.3.1.cmml">=</mo><mi id="S3.E8.m1.4.4.4.4.2.3.3" xref="S3.E8.m1.4.4.4.4.2.3.3.cmml">j</mi></mrow><mi id="S3.E8.m1.4.4.4.4.3" xref="S3.E8.m1.4.4.4.4.3.cmml">K</mi></msubsup><mo id="S3.E8.m1.4.4.4.3" xref="S3.E8.m1.4.4.4.3.cmml">â¢</mo><mi id="S3.E8.m1.4.4.4.5" xref="S3.E8.m1.4.4.4.5.cmml">exp</mi><mo id="S3.E8.m1.4.4.4.3a" xref="S3.E8.m1.4.4.4.3.cmml">â¢</mo><mrow id="S3.E8.m1.4.4.4.2.1" xref="S3.E8.m1.4.4.4.2.1.1.cmml"><mo id="S3.E8.m1.4.4.4.2.1.2" stretchy="false" xref="S3.E8.m1.4.4.4.2.1.1.cmml">(</mo><mrow id="S3.E8.m1.4.4.4.2.1.1" xref="S3.E8.m1.4.4.4.2.1.1.cmml"><mi id="S3.E8.m1.4.4.4.2.1.1.4" xref="S3.E8.m1.4.4.4.2.1.1.4.cmml">r</mi><mo id="S3.E8.m1.4.4.4.2.1.1.3" xref="S3.E8.m1.4.4.4.2.1.1.3.cmml">â¢</mo><mrow id="S3.E8.m1.4.4.4.2.1.1.2.2" xref="S3.E8.m1.4.4.4.2.1.1.2.3.cmml"><mo id="S3.E8.m1.4.4.4.2.1.1.2.2.3" xref="S3.E8.m1.4.4.4.2.1.1.2.3.cmml">(</mo><msub id="S3.E8.m1.4.4.4.2.1.1.1.1.1" xref="S3.E8.m1.4.4.4.2.1.1.1.1.1.cmml"><mi id="S3.E8.m1.4.4.4.2.1.1.1.1.1.2" xref="S3.E8.m1.4.4.4.2.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E8.m1.4.4.4.2.1.1.1.1.1.3" xref="S3.E8.m1.4.4.4.2.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.E8.m1.4.4.4.2.1.1.2.2.4" xref="S3.E8.m1.4.4.4.2.1.1.2.3.cmml">,</mo><msub id="S3.E8.m1.4.4.4.2.1.1.2.2.2" xref="S3.E8.m1.4.4.4.2.1.1.2.2.2.cmml"><mi id="S3.E8.m1.4.4.4.2.1.1.2.2.2.2" xref="S3.E8.m1.4.4.4.2.1.1.2.2.2.2.cmml">e</mi><mrow id="S3.E8.m1.3.3.3.1.1" xref="S3.E8.m1.3.3.3.1.1.cmml"><mi id="S3.E8.m1.3.3.3.1.1.3" xref="S3.E8.m1.3.3.3.1.1.3.cmml">Ï„</mi><mo id="S3.E8.m1.3.3.3.1.1.2" xref="S3.E8.m1.3.3.3.1.1.2.cmml">â¢</mo><mrow id="S3.E8.m1.3.3.3.1.1.4.2" xref="S3.E8.m1.3.3.3.1.1.cmml"><mo id="S3.E8.m1.3.3.3.1.1.4.2.1" stretchy="false" xref="S3.E8.m1.3.3.3.1.1.cmml">(</mo><mi id="S3.E8.m1.3.3.3.1.1.1" xref="S3.E8.m1.3.3.3.1.1.1.cmml">l</mi><mo id="S3.E8.m1.3.3.3.1.1.4.2.2" stretchy="false" xref="S3.E8.m1.3.3.3.1.1.cmml">)</mo></mrow></mrow></msub><mo id="S3.E8.m1.4.4.4.2.1.1.2.2.5" stretchy="false" xref="S3.E8.m1.4.4.4.2.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E8.m1.4.4.4.2.1.3" xref="S3.E8.m1.4.4.4.2.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E8.m1.6.6.1.2" lspace="0em" xref="S3.E8.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.6b"><apply id="S3.E8.m1.6.6.1.1.cmml" xref="S3.E8.m1.6.6.1"><eq id="S3.E8.m1.6.6.1.1.2.cmml" xref="S3.E8.m1.6.6.1.1.2"></eq><apply id="S3.E8.m1.6.6.1.1.1.cmml" xref="S3.E8.m1.6.6.1.1.1"><times id="S3.E8.m1.6.6.1.1.1.2.cmml" xref="S3.E8.m1.6.6.1.1.1.2"></times><ci id="S3.E8.m1.6.6.1.1.1.3.cmml" xref="S3.E8.m1.6.6.1.1.1.3">ğ‘</ci><apply id="S3.E8.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1"><csymbol cd="latexml" id="S3.E8.m1.6.6.1.1.1.1.1.1.5.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.5">conditional</csymbol><ci id="S3.E8.m1.6.6.1.1.1.1.1.1.6.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.6">ğœ</ci><list id="S3.E8.m1.6.6.1.1.1.1.1.1.4.5.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.4"><apply id="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><cn id="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S3.E8.m1.6.6.1.1.1.1.1.1.1.1.1.3">1</cn></apply><apply id="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><cn id="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S3.E8.m1.6.6.1.1.1.1.1.1.2.2.2.3">2</cn></apply><ci id="S3.E8.m1.5.5.cmml" xref="S3.E8.m1.5.5">â‹¯</ci><apply id="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.2">ğ‘’</ci><ci id="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.3.3.3.3">ğ¾</ci></apply><apply id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.1.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4">subscript</csymbol><ci id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.2.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.2">ğ‘¥</ci><ci id="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.3.cmml" xref="S3.E8.m1.6.6.1.1.1.1.1.1.4.4.4.3">ğ‘¢</ci></apply></list></apply></apply><apply id="S3.E8.m1.6.6.1.1.3.cmml" xref="S3.E8.m1.6.6.1.1.3"><apply id="S3.E8.m1.6.6.1.1.3.1.cmml" xref="S3.E8.m1.6.6.1.1.3.1"><csymbol cd="ambiguous" id="S3.E8.m1.6.6.1.1.3.1.1.cmml" xref="S3.E8.m1.6.6.1.1.3.1">superscript</csymbol><apply id="S3.E8.m1.6.6.1.1.3.1.2.cmml" xref="S3.E8.m1.6.6.1.1.3.1"><csymbol cd="ambiguous" id="S3.E8.m1.6.6.1.1.3.1.2.1.cmml" xref="S3.E8.m1.6.6.1.1.3.1">subscript</csymbol><csymbol cd="latexml" id="S3.E8.m1.6.6.1.1.3.1.2.2.cmml" xref="S3.E8.m1.6.6.1.1.3.1.2.2">product</csymbol><apply id="S3.E8.m1.6.6.1.1.3.1.2.3.cmml" xref="S3.E8.m1.6.6.1.1.3.1.2.3"><eq id="S3.E8.m1.6.6.1.1.3.1.2.3.1.cmml" xref="S3.E8.m1.6.6.1.1.3.1.2.3.1"></eq><ci id="S3.E8.m1.6.6.1.1.3.1.2.3.2.cmml" xref="S3.E8.m1.6.6.1.1.3.1.2.3.2">ğ‘—</ci><cn id="S3.E8.m1.6.6.1.1.3.1.2.3.3.cmml" type="integer" xref="S3.E8.m1.6.6.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E8.m1.6.6.1.1.3.1.3.cmml" xref="S3.E8.m1.6.6.1.1.3.1.3">ğ¾</ci></apply><apply id="S3.E8.m1.4.4.cmml" xref="S3.E8.m1.4.4"><divide id="S3.E8.m1.4.4.5.cmml" xref="S3.E8.m1.4.4"></divide><apply id="S3.E8.m1.2.2.2.cmml" xref="S3.E8.m1.2.2.2"><times id="S3.E8.m1.2.2.2.3.cmml" xref="S3.E8.m1.2.2.2.3"></times><ci id="S3.E8.m1.2.2.2.4.cmml" xref="S3.E8.m1.2.2.2.4">exp</ci><apply id="S3.E8.m1.2.2.2.2.1.1.cmml" xref="S3.E8.m1.2.2.2.2.1"><times id="S3.E8.m1.2.2.2.2.1.1.3.cmml" xref="S3.E8.m1.2.2.2.2.1.1.3"></times><ci id="S3.E8.m1.2.2.2.2.1.1.4.cmml" xref="S3.E8.m1.2.2.2.2.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="S3.E8.m1.2.2.2.2.1.1.2.3.cmml" xref="S3.E8.m1.2.2.2.2.1.1.2.2"><apply id="S3.E8.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S3.E8.m1.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E8.m1.2.2.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E8.m1.2.2.2.2.1.1.1.1.1.2.cmml" xref="S3.E8.m1.2.2.2.2.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.E8.m1.2.2.2.2.1.1.1.1.1.3.cmml" xref="S3.E8.m1.2.2.2.2.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.E8.m1.2.2.2.2.1.1.2.2.2.cmml" xref="S3.E8.m1.2.2.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.2.2.1.1.2.2.2.1.cmml" xref="S3.E8.m1.2.2.2.2.1.1.2.2.2">subscript</csymbol><ci id="S3.E8.m1.2.2.2.2.1.1.2.2.2.2.cmml" xref="S3.E8.m1.2.2.2.2.1.1.2.2.2.2">ğ‘’</ci><apply id="S3.E8.m1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1"><times id="S3.E8.m1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.1.1.1.1.1.2"></times><ci id="S3.E8.m1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.1.1.1.1.1.3">ğœ</ci><ci id="S3.E8.m1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.1.1.1.1.1.1">ğ‘—</ci></apply></apply></interval></apply></apply><apply id="S3.E8.m1.4.4.4.cmml" xref="S3.E8.m1.4.4.4"><times id="S3.E8.m1.4.4.4.3.cmml" xref="S3.E8.m1.4.4.4.3"></times><apply id="S3.E8.m1.4.4.4.4.cmml" xref="S3.E8.m1.4.4.4.4"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.4.4.1.cmml" xref="S3.E8.m1.4.4.4.4">superscript</csymbol><apply id="S3.E8.m1.4.4.4.4.2.cmml" xref="S3.E8.m1.4.4.4.4"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.4.4.2.1.cmml" xref="S3.E8.m1.4.4.4.4">subscript</csymbol><ci id="S3.E8.m1.4.4.4.4.2.2.cmml" xref="S3.E8.m1.4.4.4.4.2.2">Î£</ci><apply id="S3.E8.m1.4.4.4.4.2.3.cmml" xref="S3.E8.m1.4.4.4.4.2.3"><eq id="S3.E8.m1.4.4.4.4.2.3.1.cmml" xref="S3.E8.m1.4.4.4.4.2.3.1"></eq><ci id="S3.E8.m1.4.4.4.4.2.3.2.cmml" xref="S3.E8.m1.4.4.4.4.2.3.2">ğ‘™</ci><ci id="S3.E8.m1.4.4.4.4.2.3.3.cmml" xref="S3.E8.m1.4.4.4.4.2.3.3">ğ‘—</ci></apply></apply><ci id="S3.E8.m1.4.4.4.4.3.cmml" xref="S3.E8.m1.4.4.4.4.3">ğ¾</ci></apply><ci id="S3.E8.m1.4.4.4.5.cmml" xref="S3.E8.m1.4.4.4.5">exp</ci><apply id="S3.E8.m1.4.4.4.2.1.1.cmml" xref="S3.E8.m1.4.4.4.2.1"><times id="S3.E8.m1.4.4.4.2.1.1.3.cmml" xref="S3.E8.m1.4.4.4.2.1.1.3"></times><ci id="S3.E8.m1.4.4.4.2.1.1.4.cmml" xref="S3.E8.m1.4.4.4.2.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="S3.E8.m1.4.4.4.2.1.1.2.3.cmml" xref="S3.E8.m1.4.4.4.2.1.1.2.2"><apply id="S3.E8.m1.4.4.4.2.1.1.1.1.1.cmml" xref="S3.E8.m1.4.4.4.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.4.2.1.1.1.1.1.1.cmml" xref="S3.E8.m1.4.4.4.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E8.m1.4.4.4.2.1.1.1.1.1.2.cmml" xref="S3.E8.m1.4.4.4.2.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.E8.m1.4.4.4.2.1.1.1.1.1.3.cmml" xref="S3.E8.m1.4.4.4.2.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.E8.m1.4.4.4.2.1.1.2.2.2.cmml" xref="S3.E8.m1.4.4.4.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.4.4.4.2.1.1.2.2.2.1.cmml" xref="S3.E8.m1.4.4.4.2.1.1.2.2.2">subscript</csymbol><ci id="S3.E8.m1.4.4.4.2.1.1.2.2.2.2.cmml" xref="S3.E8.m1.4.4.4.2.1.1.2.2.2.2">ğ‘’</ci><apply id="S3.E8.m1.3.3.3.1.1.cmml" xref="S3.E8.m1.3.3.3.1.1"><times id="S3.E8.m1.3.3.3.1.1.2.cmml" xref="S3.E8.m1.3.3.3.1.1.2"></times><ci id="S3.E8.m1.3.3.3.1.1.3.cmml" xref="S3.E8.m1.3.3.3.1.1.3">ğœ</ci><ci id="S3.E8.m1.3.3.3.1.1.1.cmml" xref="S3.E8.m1.3.3.3.1.1.1">ğ‘™</ci></apply></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.6c">\displaystyle p(\tau|e_{1},e_{2},\cdots,e_{K},x_{u})=\prod_{j=1}^{K}\frac{{\rm
exp%
}\left(r(x_{u},e_{\tau(j)})\right)}{\Sigma_{l=j}^{K}{\rm exp}(r\left(x_{u},e_{%
\tau(l)})\right)}.</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m1.6d">italic_p ( italic_Ï„ | italic_e start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_e start_POSTSUBSCRIPT italic_K end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = âˆ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT divide start_ARG roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ ( italic_j ) end_POSTSUBSCRIPT ) ) end_ARG start_ARG roman_Î£ start_POSTSUBSCRIPT italic_l = italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ ( italic_l ) end_POSTSUBSCRIPT ) ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSS0.Px1.p3">
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p3.2">By enumerating all the permutations starting with <math alttext="p" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p3.1.m1.1"><semantics id="S3.SS1.SSS0.Px1.p3.1.m1.1a"><mi id="S3.SS1.SSS0.Px1.p3.1.m1.1.1" xref="S3.SS1.SSS0.Px1.p3.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p3.1.m1.1b"><ci id="S3.SS1.SSS0.Px1.p3.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p3.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p3.1.m1.1c">p</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p3.1.m1.1d">italic_p</annotation></semantics></math> and calculating sum of their probability given by the PL model, the final multi-negative preference distribution <math alttext="p^{*}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px1.p3.2.m2.1"><semantics id="S3.SS1.SSS0.Px1.p3.2.m2.1a"><msup id="S3.SS1.SSS0.Px1.p3.2.m2.1.1" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px1.p3.2.m2.1.1.2" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1.2.cmml">p</mi><mo id="S3.SS1.SSS0.Px1.p3.2.m2.1.1.3" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1.3.cmml">âˆ—</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px1.p3.2.m2.1b"><apply id="S3.SS1.SSS0.Px1.p3.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px1.p3.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px1.p3.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1.2">ğ‘</ci><times id="S3.SS1.SSS0.Px1.p3.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px1.p3.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px1.p3.2.m2.1c">p^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px1.p3.2.m2.1d">italic_p start_POSTSUPERSCRIPT âˆ— end_POSTSUPERSCRIPT</annotation></semantics></math> can be derived as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx9">
<tbody id="S3.E9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle p^{*}(e_{p}\succ e_{d},\forall e_{d}\in\mathcal{E}_{d}|x_{u})=%
\frac{{\rm exp}(r(x_{u},e_{p}))}{\sum_{j=1}^{K}{\rm exp}(r(x_{u},e_{j}))}." class="ltx_Math" display="inline" id="S3.E9.m1.3"><semantics id="S3.E9.m1.3a"><mrow id="S3.E9.m1.3.3.1" xref="S3.E9.m1.3.3.1.1.cmml"><mrow id="S3.E9.m1.3.3.1.1" xref="S3.E9.m1.3.3.1.1.cmml"><mrow id="S3.E9.m1.3.3.1.1.1" xref="S3.E9.m1.3.3.1.1.1.cmml"><msup id="S3.E9.m1.3.3.1.1.1.3" xref="S3.E9.m1.3.3.1.1.1.3.cmml"><mi id="S3.E9.m1.3.3.1.1.1.3.2" xref="S3.E9.m1.3.3.1.1.1.3.2.cmml">p</mi><mo id="S3.E9.m1.3.3.1.1.1.3.3" xref="S3.E9.m1.3.3.1.1.1.3.3.cmml">âˆ—</mo></msup><mo id="S3.E9.m1.3.3.1.1.1.2" xref="S3.E9.m1.3.3.1.1.1.2.cmml">â¢</mo><mrow id="S3.E9.m1.3.3.1.1.1.1.1" xref="S3.E9.m1.3.3.1.1.1.cmml"><mo id="S3.E9.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E9.m1.3.3.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.3.3.1.1.1.1.1.1.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.3.cmml"><mrow id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml">p</mi></msub><mo id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">â‰»</mo><msub id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml">e</mi><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml">d</mi></msub></mrow><mo id="S3.E9.m1.3.3.1.1.1.1.1.1.2.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.3a.cmml">,</mo><mrow id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.cmml"><mrow id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.cmml"><mo id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.1" rspace="0.167em" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml">âˆ€</mo><msub id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.2.cmml">e</mi><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.3.cmml">d</mi></msub></mrow><mo id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.1" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.1.cmml">âˆˆ</mo><mrow id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.cmml"><msub id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.2.cmml">â„°</mi><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.3.cmml">d</mi></msub><mo fence="false" id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.1" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.1.cmml">|</mo><msub id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.cmml"><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.2" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.2.cmml">x</mi><mi id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.3" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.3.cmml">u</mi></msub></mrow></mrow></mrow><mo id="S3.E9.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S3.E9.m1.3.3.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E9.m1.3.3.1.1.2" xref="S3.E9.m1.3.3.1.1.2.cmml">=</mo><mstyle displaystyle="true" id="S3.E9.m1.2.2" xref="S3.E9.m1.2.2.cmml"><mfrac id="S3.E9.m1.2.2a" xref="S3.E9.m1.2.2.cmml"><mrow id="S3.E9.m1.1.1.1" xref="S3.E9.m1.1.1.1.cmml"><mi id="S3.E9.m1.1.1.1.3" xref="S3.E9.m1.1.1.1.3.cmml">exp</mi><mo id="S3.E9.m1.1.1.1.2" xref="S3.E9.m1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E9.m1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.cmml"><mo id="S3.E9.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E9.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.cmml"><mi id="S3.E9.m1.1.1.1.1.1.1.4" xref="S3.E9.m1.1.1.1.1.1.1.4.cmml">r</mi><mo id="S3.E9.m1.1.1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.1.1.3.cmml">â¢</mo><mrow id="S3.E9.m1.1.1.1.1.1.1.2.2" xref="S3.E9.m1.1.1.1.1.1.1.2.3.cmml"><mo id="S3.E9.m1.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S3.E9.m1.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S3.E9.m1.1.1.1.1.1.1.1.1.1" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E9.m1.1.1.1.1.1.1.1.1.1.2" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E9.m1.1.1.1.1.1.1.1.1.1.3" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.E9.m1.1.1.1.1.1.1.2.2.4" xref="S3.E9.m1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E9.m1.1.1.1.1.1.1.2.2.2" xref="S3.E9.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E9.m1.1.1.1.1.1.1.2.2.2.2" xref="S3.E9.m1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.E9.m1.1.1.1.1.1.1.2.2.2.3" xref="S3.E9.m1.1.1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="S3.E9.m1.1.1.1.1.1.1.2.2.5" stretchy="false" xref="S3.E9.m1.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E9.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E9.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E9.m1.2.2.2" xref="S3.E9.m1.2.2.2.cmml"><msubsup id="S3.E9.m1.2.2.2.2" xref="S3.E9.m1.2.2.2.2.cmml"><mo id="S3.E9.m1.2.2.2.2.2.2" xref="S3.E9.m1.2.2.2.2.2.2.cmml">âˆ‘</mo><mrow id="S3.E9.m1.2.2.2.2.2.3" xref="S3.E9.m1.2.2.2.2.2.3.cmml"><mi id="S3.E9.m1.2.2.2.2.2.3.2" xref="S3.E9.m1.2.2.2.2.2.3.2.cmml">j</mi><mo id="S3.E9.m1.2.2.2.2.2.3.1" xref="S3.E9.m1.2.2.2.2.2.3.1.cmml">=</mo><mn id="S3.E9.m1.2.2.2.2.2.3.3" xref="S3.E9.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E9.m1.2.2.2.2.3" xref="S3.E9.m1.2.2.2.2.3.cmml">K</mi></msubsup><mrow id="S3.E9.m1.2.2.2.1" xref="S3.E9.m1.2.2.2.1.cmml"><mi id="S3.E9.m1.2.2.2.1.3" xref="S3.E9.m1.2.2.2.1.3.cmml">exp</mi><mo id="S3.E9.m1.2.2.2.1.2" xref="S3.E9.m1.2.2.2.1.2.cmml">â¢</mo><mrow id="S3.E9.m1.2.2.2.1.1.1" xref="S3.E9.m1.2.2.2.1.1.1.1.cmml"><mo id="S3.E9.m1.2.2.2.1.1.1.2" stretchy="false" xref="S3.E9.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.E9.m1.2.2.2.1.1.1.1" xref="S3.E9.m1.2.2.2.1.1.1.1.cmml"><mi id="S3.E9.m1.2.2.2.1.1.1.1.4" xref="S3.E9.m1.2.2.2.1.1.1.1.4.cmml">r</mi><mo id="S3.E9.m1.2.2.2.1.1.1.1.3" xref="S3.E9.m1.2.2.2.1.1.1.1.3.cmml">â¢</mo><mrow id="S3.E9.m1.2.2.2.1.1.1.1.2.2" xref="S3.E9.m1.2.2.2.1.1.1.1.2.3.cmml"><mo id="S3.E9.m1.2.2.2.1.1.1.1.2.2.3" stretchy="false" xref="S3.E9.m1.2.2.2.1.1.1.1.2.3.cmml">(</mo><msub id="S3.E9.m1.2.2.2.1.1.1.1.1.1.1" xref="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.2" xref="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.3" xref="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.E9.m1.2.2.2.1.1.1.1.2.2.4" xref="S3.E9.m1.2.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E9.m1.2.2.2.1.1.1.1.2.2.2" xref="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.cmml"><mi id="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.2" xref="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.3" xref="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.3.cmml">j</mi></msub><mo id="S3.E9.m1.2.2.2.1.1.1.1.2.2.5" stretchy="false" xref="S3.E9.m1.2.2.2.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E9.m1.2.2.2.1.1.1.3" stretchy="false" xref="S3.E9.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E9.m1.3.3.1.2" lspace="0em" xref="S3.E9.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E9.m1.3b"><apply id="S3.E9.m1.3.3.1.1.cmml" xref="S3.E9.m1.3.3.1"><eq id="S3.E9.m1.3.3.1.1.2.cmml" xref="S3.E9.m1.3.3.1.1.2"></eq><apply id="S3.E9.m1.3.3.1.1.1.cmml" xref="S3.E9.m1.3.3.1.1.1"><times id="S3.E9.m1.3.3.1.1.1.2.cmml" xref="S3.E9.m1.3.3.1.1.1.2"></times><apply id="S3.E9.m1.3.3.1.1.1.3.cmml" xref="S3.E9.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.1.1.1.3.1.cmml" xref="S3.E9.m1.3.3.1.1.1.3">superscript</csymbol><ci id="S3.E9.m1.3.3.1.1.1.3.2.cmml" xref="S3.E9.m1.3.3.1.1.1.3.2">ğ‘</ci><times id="S3.E9.m1.3.3.1.1.1.3.3.cmml" xref="S3.E9.m1.3.3.1.1.1.3.3"></times></apply><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.1.1.1.1.1.1.3a.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.2">ğ‘’</ci><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.1.1.3.3">ğ‘‘</ci></apply></apply><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2"><in id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.1"></in><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2"><csymbol cd="latexml" id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.1">for-all</csymbol><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.2">ğ‘’</ci><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.2.2.3">ğ‘‘</ci></apply></apply><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3"><csymbol cd="latexml" id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.1">conditional</csymbol><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2">subscript</csymbol><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.2">â„°</ci><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3"><csymbol cd="ambiguous" id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.1.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3">subscript</csymbol><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.2.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.2">ğ‘¥</ci><ci id="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.3.cmml" xref="S3.E9.m1.3.3.1.1.1.1.1.1.2.2.3.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="S3.E9.m1.2.2.cmml" xref="S3.E9.m1.2.2"><divide id="S3.E9.m1.2.2.3.cmml" xref="S3.E9.m1.2.2"></divide><apply id="S3.E9.m1.1.1.1.cmml" xref="S3.E9.m1.1.1.1"><times id="S3.E9.m1.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.2"></times><ci id="S3.E9.m1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.3">exp</ci><apply id="S3.E9.m1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1"><times id="S3.E9.m1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.3"></times><ci id="S3.E9.m1.1.1.1.1.1.1.4.cmml" xref="S3.E9.m1.1.1.1.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="S3.E9.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.2.2"><apply id="S3.E9.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E9.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.E9.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.E9.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E9.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E9.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E9.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E9.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E9.m1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="S3.E9.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E9.m1.1.1.1.1.1.1.2.2.2.3">ğ‘</ci></apply></interval></apply></apply><apply id="S3.E9.m1.2.2.2.cmml" xref="S3.E9.m1.2.2.2"><apply id="S3.E9.m1.2.2.2.2.cmml" xref="S3.E9.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.2.2.1.cmml" xref="S3.E9.m1.2.2.2.2">superscript</csymbol><apply id="S3.E9.m1.2.2.2.2.2.cmml" xref="S3.E9.m1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.2.2.2.1.cmml" xref="S3.E9.m1.2.2.2.2">subscript</csymbol><sum id="S3.E9.m1.2.2.2.2.2.2.cmml" xref="S3.E9.m1.2.2.2.2.2.2"></sum><apply id="S3.E9.m1.2.2.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.2.2.3"><eq id="S3.E9.m1.2.2.2.2.2.3.1.cmml" xref="S3.E9.m1.2.2.2.2.2.3.1"></eq><ci id="S3.E9.m1.2.2.2.2.2.3.2.cmml" xref="S3.E9.m1.2.2.2.2.2.3.2">ğ‘—</ci><cn id="S3.E9.m1.2.2.2.2.2.3.3.cmml" type="integer" xref="S3.E9.m1.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="S3.E9.m1.2.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.2.3">ğ¾</ci></apply><apply id="S3.E9.m1.2.2.2.1.cmml" xref="S3.E9.m1.2.2.2.1"><times id="S3.E9.m1.2.2.2.1.2.cmml" xref="S3.E9.m1.2.2.2.1.2"></times><ci id="S3.E9.m1.2.2.2.1.3.cmml" xref="S3.E9.m1.2.2.2.1.3">exp</ci><apply id="S3.E9.m1.2.2.2.1.1.1.1.cmml" xref="S3.E9.m1.2.2.2.1.1.1"><times id="S3.E9.m1.2.2.2.1.1.1.1.3.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.3"></times><ci id="S3.E9.m1.2.2.2.1.1.1.1.4.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="S3.E9.m1.2.2.2.1.1.1.1.2.3.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.2.2"><apply id="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.1.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.3.cmml" xref="S3.E9.m1.2.2.2.1.1.1.1.2.2.2.3">ğ‘—</ci></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E9.m1.3c">\displaystyle p^{*}(e_{p}\succ e_{d},\forall e_{d}\in\mathcal{E}_{d}|x_{u})=%
\frac{{\rm exp}(r(x_{u},e_{p}))}{\sum_{j=1}^{K}{\rm exp}(r(x_{u},e_{j}))}.</annotation><annotation encoding="application/x-llamapun" id="S3.E9.m1.3d">italic_p start_POSTSUPERSCRIPT âˆ— end_POSTSUPERSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , âˆ€ italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = divide start_ARG roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(9)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSS0.Px1.p4">
<p class="ltx_p" id="S3.SS1.SSS0.Px1.p4.1">For brevity, the complete derivation is delegated to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A1.SS1" title="A.1 Deriving Preference Distribution â€£ Appendix A Mathematical Derivations â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Deriving S-DPO.</h4>
<div class="ltx_para" id="S3.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px2.p1.1">By substituting reward function <math alttext="r(x_{u},e)" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p1.1.m1.2"><semantics id="S3.SS1.SSS0.Px2.p1.1.m1.2a"><mrow id="S3.SS1.SSS0.Px2.p1.1.m1.2.2" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.cmml"><mi id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.3" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.3.cmml">r</mi><mo id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.2" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.2.cmml"><mo id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.2.cmml">(</mo><msub id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.2" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.3" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.3" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.2.cmml">,</mo><mi id="S3.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml">e</mi><mo id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.4" stretchy="false" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p1.1.m1.2b"><apply id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2"><times id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.2.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.2"></times><ci id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.3.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.3">ğ‘Ÿ</ci><interval closure="open" id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1"><apply id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.2.2.1.1.1.3">ğ‘¢</ci></apply><ci id="S3.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p1.1.m1.1.1">ğ‘’</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p1.1.m1.2c">r(x_{u},e)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p1.1.m1.2d">italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e )</annotation></semantics></math> in Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.E9" title="In Multi-negative Preference Distribution. â€£ 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">9</span></a>) with Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.E6" title="In RLHF pipeline and DPO. â€£ 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">6</span></a>), the mutli-negative preference distribution can be rewritten as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx10">
<tbody id="S3.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle p^{*}(e_{p}\succ e_{d},\forall\,e_{d}\in\mathcal{E}_{d}|x_{u})=%
\frac{1}{1+\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}\left(\beta\,{\rm log}\,%
\frac{\pi(e_{d}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,{\rm log}\,\frac{%
\pi(e_{p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}\right)}." class="ltx_Math" display="inline" id="S3.E10.m1.6"><semantics id="S3.E10.m1.6a"><mrow id="S3.E10.m1.6.6.1" xref="S3.E10.m1.6.6.1.1.cmml"><mrow id="S3.E10.m1.6.6.1.1" xref="S3.E10.m1.6.6.1.1.cmml"><mrow id="S3.E10.m1.6.6.1.1.1" xref="S3.E10.m1.6.6.1.1.1.cmml"><msup id="S3.E10.m1.6.6.1.1.1.3" xref="S3.E10.m1.6.6.1.1.1.3.cmml"><mi id="S3.E10.m1.6.6.1.1.1.3.2" xref="S3.E10.m1.6.6.1.1.1.3.2.cmml">p</mi><mo id="S3.E10.m1.6.6.1.1.1.3.3" xref="S3.E10.m1.6.6.1.1.1.3.3.cmml">âˆ—</mo></msup><mo id="S3.E10.m1.6.6.1.1.1.2" xref="S3.E10.m1.6.6.1.1.1.2.cmml">â¢</mo><mrow id="S3.E10.m1.6.6.1.1.1.1.1" xref="S3.E10.m1.6.6.1.1.1.cmml"><mo id="S3.E10.m1.6.6.1.1.1.1.1.2" stretchy="false" xref="S3.E10.m1.6.6.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.6.6.1.1.1.1.1.1.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.3.cmml"><mrow id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.3.cmml">p</mi></msub><mo id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.1.cmml">â‰»</mo><msub id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml">e</mi><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.3.cmml">d</mi></msub></mrow><mo id="S3.E10.m1.6.6.1.1.1.1.1.1.2.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.3a.cmml">,</mo><mrow id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.cmml"><mrow id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.cmml"><mo id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.1" rspace="0.337em" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.1.cmml">âˆ€</mo><msub id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.2.cmml">e</mi><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.3.cmml">d</mi></msub></mrow><mo id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.1" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.1.cmml">âˆˆ</mo><mrow id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.cmml"><msub id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.2.cmml">â„°</mi><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.3.cmml">d</mi></msub><mo fence="false" id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.1" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.1.cmml">|</mo><msub id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.cmml"><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.2" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.2.cmml">x</mi><mi id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.3" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.3.cmml">u</mi></msub></mrow></mrow></mrow><mo id="S3.E10.m1.6.6.1.1.1.1.1.3" stretchy="false" xref="S3.E10.m1.6.6.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E10.m1.6.6.1.1.2" xref="S3.E10.m1.6.6.1.1.2.cmml">=</mo><mstyle displaystyle="true" id="S3.E10.m1.5.5" xref="S3.E10.m1.5.5.cmml"><mfrac id="S3.E10.m1.5.5a" xref="S3.E10.m1.5.5.cmml"><mn id="S3.E10.m1.5.5.7" xref="S3.E10.m1.5.5.7.cmml">1</mn><mrow id="S3.E10.m1.5.5.5" xref="S3.E10.m1.5.5.5.cmml"><mn id="S3.E10.m1.5.5.5.7" xref="S3.E10.m1.5.5.5.7.cmml">1</mn><mo id="S3.E10.m1.5.5.5.6" rspace="0.055em" xref="S3.E10.m1.5.5.5.6.cmml">+</mo><mrow id="S3.E10.m1.5.5.5.5" xref="S3.E10.m1.5.5.5.5.cmml"><msub id="S3.E10.m1.5.5.5.5.2" xref="S3.E10.m1.5.5.5.5.2.cmml"><mo id="S3.E10.m1.5.5.5.5.2.2" xref="S3.E10.m1.5.5.5.5.2.2.cmml">âˆ‘</mo><mrow id="S3.E10.m1.5.5.5.5.2.3" xref="S3.E10.m1.5.5.5.5.2.3.cmml"><msub id="S3.E10.m1.5.5.5.5.2.3.2" xref="S3.E10.m1.5.5.5.5.2.3.2.cmml"><mi id="S3.E10.m1.5.5.5.5.2.3.2.2" xref="S3.E10.m1.5.5.5.5.2.3.2.2.cmml">e</mi><mi id="S3.E10.m1.5.5.5.5.2.3.2.3" xref="S3.E10.m1.5.5.5.5.2.3.2.3.cmml">d</mi></msub><mo id="S3.E10.m1.5.5.5.5.2.3.1" xref="S3.E10.m1.5.5.5.5.2.3.1.cmml">âˆˆ</mo><msub id="S3.E10.m1.5.5.5.5.2.3.3" xref="S3.E10.m1.5.5.5.5.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.5.5.5.5.2.3.3.2" xref="S3.E10.m1.5.5.5.5.2.3.3.2.cmml">â„°</mi><mi id="S3.E10.m1.5.5.5.5.2.3.3.3" xref="S3.E10.m1.5.5.5.5.2.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="S3.E10.m1.5.5.5.5.1" xref="S3.E10.m1.5.5.5.5.1.cmml"><mi id="S3.E10.m1.5.5.5.5.1.3" xref="S3.E10.m1.5.5.5.5.1.3.cmml">exp</mi><mo id="S3.E10.m1.5.5.5.5.1.2" xref="S3.E10.m1.5.5.5.5.1.2.cmml">â¢</mo><mrow id="S3.E10.m1.5.5.5.5.1.1.1" xref="S3.E10.m1.5.5.5.5.1.1.1.1.cmml"><mo id="S3.E10.m1.5.5.5.5.1.1.1.2" xref="S3.E10.m1.5.5.5.5.1.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.5.5.5.5.1.1.1.1" xref="S3.E10.m1.5.5.5.5.1.1.1.1.cmml"><mrow id="S3.E10.m1.5.5.5.5.1.1.1.1.2" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2.cmml"><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2.2.cmml">Î²</mi><mo id="S3.E10.m1.5.5.5.5.1.1.1.1.2.1" lspace="0.170em" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2.1.cmml">â¢</mo><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.2.3" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2.3.cmml">log</mi><mo id="S3.E10.m1.5.5.5.5.1.1.1.1.2.1a" lspace="0.170em" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2.1.cmml">â¢</mo><mfrac id="S3.E10.m1.2.2.2.2" xref="S3.E10.m1.2.2.2.2.cmml"><mrow id="S3.E10.m1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.cmml"><mi id="S3.E10.m1.1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.1.3.cmml">Ï€</mi><mo id="S3.E10.m1.1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E10.m1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E10.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E10.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E10.m1.1.1.1.1.1.1.1.1.2" xref="S3.E10.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E10.m1.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S3.E10.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E10.m1.1.1.1.1.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="S3.E10.m1.1.1.1.1.1.1.1.1.1" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.E10.m1.1.1.1.1.1.1.1.1.3" xref="S3.E10.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E10.m1.1.1.1.1.1.1.1.1.3.2" xref="S3.E10.m1.1.1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.E10.m1.1.1.1.1.1.1.1.1.3.3" xref="S3.E10.m1.1.1.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.E10.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E10.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E10.m1.2.2.2.2.2" xref="S3.E10.m1.2.2.2.2.2.cmml"><msub id="S3.E10.m1.2.2.2.2.2.3" xref="S3.E10.m1.2.2.2.2.2.3.cmml"><mi id="S3.E10.m1.2.2.2.2.2.3.2" xref="S3.E10.m1.2.2.2.2.2.3.2.cmml">Ï€</mi><mi id="S3.E10.m1.2.2.2.2.2.3.3" xref="S3.E10.m1.2.2.2.2.2.3.3.cmml">ref</mi></msub><mo id="S3.E10.m1.2.2.2.2.2.2" xref="S3.E10.m1.2.2.2.2.2.2.cmml">â¢</mo><mrow id="S3.E10.m1.2.2.2.2.2.1.1" xref="S3.E10.m1.2.2.2.2.2.1.1.1.cmml"><mo id="S3.E10.m1.2.2.2.2.2.1.1.2" stretchy="false" xref="S3.E10.m1.2.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.2.2.2.2.2.1.1.1" xref="S3.E10.m1.2.2.2.2.2.1.1.1.cmml"><msub id="S3.E10.m1.2.2.2.2.2.1.1.1.2" xref="S3.E10.m1.2.2.2.2.2.1.1.1.2.cmml"><mi id="S3.E10.m1.2.2.2.2.2.1.1.1.2.2" xref="S3.E10.m1.2.2.2.2.2.1.1.1.2.2.cmml">e</mi><mi id="S3.E10.m1.2.2.2.2.2.1.1.1.2.3" xref="S3.E10.m1.2.2.2.2.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="S3.E10.m1.2.2.2.2.2.1.1.1.1" xref="S3.E10.m1.2.2.2.2.2.1.1.1.1.cmml">|</mo><msub id="S3.E10.m1.2.2.2.2.2.1.1.1.3" xref="S3.E10.m1.2.2.2.2.2.1.1.1.3.cmml"><mi id="S3.E10.m1.2.2.2.2.2.1.1.1.3.2" xref="S3.E10.m1.2.2.2.2.2.1.1.1.3.2.cmml">x</mi><mi id="S3.E10.m1.2.2.2.2.2.1.1.1.3.3" xref="S3.E10.m1.2.2.2.2.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.E10.m1.2.2.2.2.2.1.1.3" stretchy="false" xref="S3.E10.m1.2.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="S3.E10.m1.5.5.5.5.1.1.1.1.1" xref="S3.E10.m1.5.5.5.5.1.1.1.1.1.cmml">âˆ’</mo><mrow id="S3.E10.m1.5.5.5.5.1.1.1.1.3" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3.cmml"><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.3.2" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3.2.cmml">Î²</mi><mo id="S3.E10.m1.5.5.5.5.1.1.1.1.3.1" lspace="0.170em" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3.1.cmml">â¢</mo><mi id="S3.E10.m1.5.5.5.5.1.1.1.1.3.3" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3.3.cmml">log</mi><mo id="S3.E10.m1.5.5.5.5.1.1.1.1.3.1a" lspace="0.170em" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3.1.cmml">â¢</mo><mfrac id="S3.E10.m1.4.4.4.4" xref="S3.E10.m1.4.4.4.4.cmml"><mrow id="S3.E10.m1.3.3.3.3.1" xref="S3.E10.m1.3.3.3.3.1.cmml"><mi id="S3.E10.m1.3.3.3.3.1.3" xref="S3.E10.m1.3.3.3.3.1.3.cmml">Ï€</mi><mo id="S3.E10.m1.3.3.3.3.1.2" xref="S3.E10.m1.3.3.3.3.1.2.cmml">â¢</mo><mrow id="S3.E10.m1.3.3.3.3.1.1.1" xref="S3.E10.m1.3.3.3.3.1.1.1.1.cmml"><mo id="S3.E10.m1.3.3.3.3.1.1.1.2" stretchy="false" xref="S3.E10.m1.3.3.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.3.3.3.3.1.1.1.1" xref="S3.E10.m1.3.3.3.3.1.1.1.1.cmml"><msub id="S3.E10.m1.3.3.3.3.1.1.1.1.2" xref="S3.E10.m1.3.3.3.3.1.1.1.1.2.cmml"><mi id="S3.E10.m1.3.3.3.3.1.1.1.1.2.2" xref="S3.E10.m1.3.3.3.3.1.1.1.1.2.2.cmml">e</mi><mi id="S3.E10.m1.3.3.3.3.1.1.1.1.2.3" xref="S3.E10.m1.3.3.3.3.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="S3.E10.m1.3.3.3.3.1.1.1.1.1" xref="S3.E10.m1.3.3.3.3.1.1.1.1.1.cmml">|</mo><msub id="S3.E10.m1.3.3.3.3.1.1.1.1.3" xref="S3.E10.m1.3.3.3.3.1.1.1.1.3.cmml"><mi id="S3.E10.m1.3.3.3.3.1.1.1.1.3.2" xref="S3.E10.m1.3.3.3.3.1.1.1.1.3.2.cmml">x</mi><mi id="S3.E10.m1.3.3.3.3.1.1.1.1.3.3" xref="S3.E10.m1.3.3.3.3.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.E10.m1.3.3.3.3.1.1.1.3" stretchy="false" xref="S3.E10.m1.3.3.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E10.m1.4.4.4.4.2" xref="S3.E10.m1.4.4.4.4.2.cmml"><msub id="S3.E10.m1.4.4.4.4.2.3" xref="S3.E10.m1.4.4.4.4.2.3.cmml"><mi id="S3.E10.m1.4.4.4.4.2.3.2" xref="S3.E10.m1.4.4.4.4.2.3.2.cmml">Ï€</mi><mi id="S3.E10.m1.4.4.4.4.2.3.3" xref="S3.E10.m1.4.4.4.4.2.3.3.cmml">ref</mi></msub><mo id="S3.E10.m1.4.4.4.4.2.2" xref="S3.E10.m1.4.4.4.4.2.2.cmml">â¢</mo><mrow id="S3.E10.m1.4.4.4.4.2.1.1" xref="S3.E10.m1.4.4.4.4.2.1.1.1.cmml"><mo id="S3.E10.m1.4.4.4.4.2.1.1.2" stretchy="false" xref="S3.E10.m1.4.4.4.4.2.1.1.1.cmml">(</mo><mrow id="S3.E10.m1.4.4.4.4.2.1.1.1" xref="S3.E10.m1.4.4.4.4.2.1.1.1.cmml"><msub id="S3.E10.m1.4.4.4.4.2.1.1.1.2" xref="S3.E10.m1.4.4.4.4.2.1.1.1.2.cmml"><mi id="S3.E10.m1.4.4.4.4.2.1.1.1.2.2" xref="S3.E10.m1.4.4.4.4.2.1.1.1.2.2.cmml">e</mi><mi id="S3.E10.m1.4.4.4.4.2.1.1.1.2.3" xref="S3.E10.m1.4.4.4.4.2.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="S3.E10.m1.4.4.4.4.2.1.1.1.1" xref="S3.E10.m1.4.4.4.4.2.1.1.1.1.cmml">|</mo><msub id="S3.E10.m1.4.4.4.4.2.1.1.1.3" xref="S3.E10.m1.4.4.4.4.2.1.1.1.3.cmml"><mi id="S3.E10.m1.4.4.4.4.2.1.1.1.3.2" xref="S3.E10.m1.4.4.4.4.2.1.1.1.3.2.cmml">x</mi><mi id="S3.E10.m1.4.4.4.4.2.1.1.1.3.3" xref="S3.E10.m1.4.4.4.4.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.E10.m1.4.4.4.4.2.1.1.3" stretchy="false" xref="S3.E10.m1.4.4.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S3.E10.m1.5.5.5.5.1.1.1.3" xref="S3.E10.m1.5.5.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E10.m1.6.6.1.2" lspace="0em" xref="S3.E10.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.6b"><apply id="S3.E10.m1.6.6.1.1.cmml" xref="S3.E10.m1.6.6.1"><eq id="S3.E10.m1.6.6.1.1.2.cmml" xref="S3.E10.m1.6.6.1.1.2"></eq><apply id="S3.E10.m1.6.6.1.1.1.cmml" xref="S3.E10.m1.6.6.1.1.1"><times id="S3.E10.m1.6.6.1.1.1.2.cmml" xref="S3.E10.m1.6.6.1.1.1.2"></times><apply id="S3.E10.m1.6.6.1.1.1.3.cmml" xref="S3.E10.m1.6.6.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.6.6.1.1.1.3.1.cmml" xref="S3.E10.m1.6.6.1.1.1.3">superscript</csymbol><ci id="S3.E10.m1.6.6.1.1.1.3.2.cmml" xref="S3.E10.m1.6.6.1.1.1.3.2">ğ‘</ci><times id="S3.E10.m1.6.6.1.1.1.3.3.cmml" xref="S3.E10.m1.6.6.1.1.1.3.3"></times></apply><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.6.6.1.1.1.1.1.1.3a.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.2">ğ‘’</ci><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.1.1.3.3">ğ‘‘</ci></apply></apply><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2"><in id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.1"></in><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2"><csymbol cd="latexml" id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.1">for-all</csymbol><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.2">ğ‘’</ci><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.2.2.3">ğ‘‘</ci></apply></apply><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3"><csymbol cd="latexml" id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.1">conditional</csymbol><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2"><csymbol cd="ambiguous" id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2">subscript</csymbol><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.2">â„°</ci><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3"><csymbol cd="ambiguous" id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.1.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3">subscript</csymbol><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.2.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.2">ğ‘¥</ci><ci id="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.3.cmml" xref="S3.E10.m1.6.6.1.1.1.1.1.1.2.2.3.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="S3.E10.m1.5.5.cmml" xref="S3.E10.m1.5.5"><divide id="S3.E10.m1.5.5.6.cmml" xref="S3.E10.m1.5.5"></divide><cn id="S3.E10.m1.5.5.7.cmml" type="integer" xref="S3.E10.m1.5.5.7">1</cn><apply id="S3.E10.m1.5.5.5.cmml" xref="S3.E10.m1.5.5.5"><plus id="S3.E10.m1.5.5.5.6.cmml" xref="S3.E10.m1.5.5.5.6"></plus><cn id="S3.E10.m1.5.5.5.7.cmml" type="integer" xref="S3.E10.m1.5.5.5.7">1</cn><apply id="S3.E10.m1.5.5.5.5.cmml" xref="S3.E10.m1.5.5.5.5"><apply id="S3.E10.m1.5.5.5.5.2.cmml" xref="S3.E10.m1.5.5.5.5.2"><csymbol cd="ambiguous" id="S3.E10.m1.5.5.5.5.2.1.cmml" xref="S3.E10.m1.5.5.5.5.2">subscript</csymbol><sum id="S3.E10.m1.5.5.5.5.2.2.cmml" xref="S3.E10.m1.5.5.5.5.2.2"></sum><apply id="S3.E10.m1.5.5.5.5.2.3.cmml" xref="S3.E10.m1.5.5.5.5.2.3"><in id="S3.E10.m1.5.5.5.5.2.3.1.cmml" xref="S3.E10.m1.5.5.5.5.2.3.1"></in><apply id="S3.E10.m1.5.5.5.5.2.3.2.cmml" xref="S3.E10.m1.5.5.5.5.2.3.2"><csymbol cd="ambiguous" id="S3.E10.m1.5.5.5.5.2.3.2.1.cmml" xref="S3.E10.m1.5.5.5.5.2.3.2">subscript</csymbol><ci id="S3.E10.m1.5.5.5.5.2.3.2.2.cmml" xref="S3.E10.m1.5.5.5.5.2.3.2.2">ğ‘’</ci><ci id="S3.E10.m1.5.5.5.5.2.3.2.3.cmml" xref="S3.E10.m1.5.5.5.5.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.E10.m1.5.5.5.5.2.3.3.cmml" xref="S3.E10.m1.5.5.5.5.2.3.3"><csymbol cd="ambiguous" id="S3.E10.m1.5.5.5.5.2.3.3.1.cmml" xref="S3.E10.m1.5.5.5.5.2.3.3">subscript</csymbol><ci id="S3.E10.m1.5.5.5.5.2.3.3.2.cmml" xref="S3.E10.m1.5.5.5.5.2.3.3.2">â„°</ci><ci id="S3.E10.m1.5.5.5.5.2.3.3.3.cmml" xref="S3.E10.m1.5.5.5.5.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="S3.E10.m1.5.5.5.5.1.cmml" xref="S3.E10.m1.5.5.5.5.1"><times id="S3.E10.m1.5.5.5.5.1.2.cmml" xref="S3.E10.m1.5.5.5.5.1.2"></times><ci id="S3.E10.m1.5.5.5.5.1.3.cmml" xref="S3.E10.m1.5.5.5.5.1.3">exp</ci><apply id="S3.E10.m1.5.5.5.5.1.1.1.1.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1"><minus id="S3.E10.m1.5.5.5.5.1.1.1.1.1.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.1"></minus><apply id="S3.E10.m1.5.5.5.5.1.1.1.1.2.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2"><times id="S3.E10.m1.5.5.5.5.1.1.1.1.2.1.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2.1"></times><ci id="S3.E10.m1.5.5.5.5.1.1.1.1.2.2.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2.2">ğ›½</ci><ci id="S3.E10.m1.5.5.5.5.1.1.1.1.2.3.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.2.3">log</ci><apply id="S3.E10.m1.2.2.2.2.cmml" xref="S3.E10.m1.2.2.2.2"><divide id="S3.E10.m1.2.2.2.2.3.cmml" xref="S3.E10.m1.2.2.2.2"></divide><apply id="S3.E10.m1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1"><times id="S3.E10.m1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.1.2"></times><ci id="S3.E10.m1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.1.3">ğœ‹</ci><apply id="S3.E10.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E10.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E10.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="S3.E10.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E10.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E10.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E10.m1.1.1.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.E10.m1.2.2.2.2.2.cmml" xref="S3.E10.m1.2.2.2.2.2"><times id="S3.E10.m1.2.2.2.2.2.2.cmml" xref="S3.E10.m1.2.2.2.2.2.2"></times><apply id="S3.E10.m1.2.2.2.2.2.3.cmml" xref="S3.E10.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E10.m1.2.2.2.2.2.3.1.cmml" xref="S3.E10.m1.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E10.m1.2.2.2.2.2.3.2.cmml" xref="S3.E10.m1.2.2.2.2.2.3.2">ğœ‹</ci><ci id="S3.E10.m1.2.2.2.2.2.3.3.cmml" xref="S3.E10.m1.2.2.2.2.2.3.3">ref</ci></apply><apply id="S3.E10.m1.2.2.2.2.2.1.1.1.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1"><csymbol cd="latexml" id="S3.E10.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.1">conditional</csymbol><apply id="S3.E10.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.2.2.2.2.2.1.1.1.2.1.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.2">subscript</csymbol><ci id="S3.E10.m1.2.2.2.2.2.1.1.1.2.2.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.2.2">ğ‘’</ci><ci id="S3.E10.m1.2.2.2.2.2.1.1.1.2.3.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="S3.E10.m1.2.2.2.2.2.1.1.1.3.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.2.2.2.2.2.1.1.1.3.1.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.E10.m1.2.2.2.2.2.1.1.1.3.2.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E10.m1.2.2.2.2.2.1.1.1.3.3.cmml" xref="S3.E10.m1.2.2.2.2.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="S3.E10.m1.5.5.5.5.1.1.1.1.3.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3"><times id="S3.E10.m1.5.5.5.5.1.1.1.1.3.1.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3.1"></times><ci id="S3.E10.m1.5.5.5.5.1.1.1.1.3.2.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3.2">ğ›½</ci><ci id="S3.E10.m1.5.5.5.5.1.1.1.1.3.3.cmml" xref="S3.E10.m1.5.5.5.5.1.1.1.1.3.3">log</ci><apply id="S3.E10.m1.4.4.4.4.cmml" xref="S3.E10.m1.4.4.4.4"><divide id="S3.E10.m1.4.4.4.4.3.cmml" xref="S3.E10.m1.4.4.4.4"></divide><apply id="S3.E10.m1.3.3.3.3.1.cmml" xref="S3.E10.m1.3.3.3.3.1"><times id="S3.E10.m1.3.3.3.3.1.2.cmml" xref="S3.E10.m1.3.3.3.3.1.2"></times><ci id="S3.E10.m1.3.3.3.3.1.3.cmml" xref="S3.E10.m1.3.3.3.3.1.3">ğœ‹</ci><apply id="S3.E10.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1"><csymbol cd="latexml" id="S3.E10.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.1">conditional</csymbol><apply id="S3.E10.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.3.3.3.3.1.1.1.1.2.1.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.2">subscript</csymbol><ci id="S3.E10.m1.3.3.3.3.1.1.1.1.2.2.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.E10.m1.3.3.3.3.1.1.1.1.2.3.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.E10.m1.3.3.3.3.1.1.1.1.3.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.3.3.3.3.1.1.1.1.3.1.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.3">subscript</csymbol><ci id="S3.E10.m1.3.3.3.3.1.1.1.1.3.2.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E10.m1.3.3.3.3.1.1.1.1.3.3.cmml" xref="S3.E10.m1.3.3.3.3.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.E10.m1.4.4.4.4.2.cmml" xref="S3.E10.m1.4.4.4.4.2"><times id="S3.E10.m1.4.4.4.4.2.2.cmml" xref="S3.E10.m1.4.4.4.4.2.2"></times><apply id="S3.E10.m1.4.4.4.4.2.3.cmml" xref="S3.E10.m1.4.4.4.4.2.3"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.4.4.2.3.1.cmml" xref="S3.E10.m1.4.4.4.4.2.3">subscript</csymbol><ci id="S3.E10.m1.4.4.4.4.2.3.2.cmml" xref="S3.E10.m1.4.4.4.4.2.3.2">ğœ‹</ci><ci id="S3.E10.m1.4.4.4.4.2.3.3.cmml" xref="S3.E10.m1.4.4.4.4.2.3.3">ref</ci></apply><apply id="S3.E10.m1.4.4.4.4.2.1.1.1.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1"><csymbol cd="latexml" id="S3.E10.m1.4.4.4.4.2.1.1.1.1.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.1">conditional</csymbol><apply id="S3.E10.m1.4.4.4.4.2.1.1.1.2.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.4.4.2.1.1.1.2.1.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.2">subscript</csymbol><ci id="S3.E10.m1.4.4.4.4.2.1.1.1.2.2.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.2.2">ğ‘’</ci><ci id="S3.E10.m1.4.4.4.4.2.1.1.1.2.3.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.E10.m1.4.4.4.4.2.1.1.1.3.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m1.4.4.4.4.2.1.1.1.3.1.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.3">subscript</csymbol><ci id="S3.E10.m1.4.4.4.4.2.1.1.1.3.2.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E10.m1.4.4.4.4.2.1.1.1.3.3.cmml" xref="S3.E10.m1.4.4.4.4.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.6c">\displaystyle p^{*}(e_{p}\succ e_{d},\forall\,e_{d}\in\mathcal{E}_{d}|x_{u})=%
\frac{1}{1+\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}\left(\beta\,{\rm log}\,%
\frac{\pi(e_{d}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,{\rm log}\,\frac{%
\pi(e_{p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}\right)}.</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m1.6d">italic_p start_POSTSUPERSCRIPT âˆ— end_POSTSUPERSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , âˆ€ italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = divide start_ARG 1 end_ARG start_ARG 1 + âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_Î² roman_log divide start_ARG italic_Ï€ ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG - italic_Î² roman_log divide start_ARG italic_Ï€ ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSS0.Px2.p2">
<p class="ltx_p" id="S3.SS1.SSS0.Px2.p2.1">Through plugging distribution given by Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.E10" title="In Deriving S-DPO. â€£ 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">10</span></a>) in the reward learning objective in Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.E3" title="In RLHF pipeline and DPO. â€£ 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3</span></a>), our S-DPO loss can be formulated for policy <math alttext="\pi_{\theta}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p2.1.m1.1"><semantics id="S3.SS1.SSS0.Px2.p2.1.m1.1a"><msub id="S3.SS1.SSS0.Px2.p2.1.m1.1.1" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.cmml"><mi id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.2" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.2.cmml">Ï€</mi><mi id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.3" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.3.cmml">Î¸</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p2.1.m1.1b"><apply id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.2">ğœ‹</ci><ci id="S3.SS1.SSS0.Px2.p2.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px2.p2.1.m1.1.1.3">ğœƒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p2.1.m1.1c">\pi_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p2.1.m1.1d">italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT</annotation></semantics></math> as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx11">
<tbody id="S3.E11"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})=-\mathbb{E}_{%
(x_{u},e_{p},\mathcal{E}_{d})\sim\mathcal{D}}\left[{\rm log}\,\sigma\left(-{%
\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}\left(\beta\,{\rm log}\,\frac%
{\pi_{\theta}(e_{d}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,{\rm log}\,%
\frac{\pi_{\theta}(e_{p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}\right)\right)%
\right]." class="ltx_Math" display="inline" id="S3.E11.m2.8"><semantics id="S3.E11.m2.8a"><mrow id="S3.E11.m2.8.8.1" xref="S3.E11.m2.8.8.1.1.cmml"><mrow id="S3.E11.m2.8.8.1.1" xref="S3.E11.m2.8.8.1.1.cmml"><mrow id="S3.E11.m2.8.8.1.1.2" xref="S3.E11.m2.8.8.1.1.2.cmml"><msub id="S3.E11.m2.8.8.1.1.2.4" xref="S3.E11.m2.8.8.1.1.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m2.8.8.1.1.2.4.2" xref="S3.E11.m2.8.8.1.1.2.4.2.cmml">â„’</mi><mrow id="S3.E11.m2.8.8.1.1.2.4.3" xref="S3.E11.m2.8.8.1.1.2.4.3.cmml"><mi id="S3.E11.m2.8.8.1.1.2.4.3.2" mathvariant="normal" xref="S3.E11.m2.8.8.1.1.2.4.3.2.cmml">S</mi><mo id="S3.E11.m2.8.8.1.1.2.4.3.1" xref="S3.E11.m2.8.8.1.1.2.4.3.1.cmml">âˆ’</mo><mi id="S3.E11.m2.8.8.1.1.2.4.3.3" xref="S3.E11.m2.8.8.1.1.2.4.3.3.cmml">DPO</mi></mrow></msub><mo id="S3.E11.m2.8.8.1.1.2.3" xref="S3.E11.m2.8.8.1.1.2.3.cmml">â¢</mo><mrow id="S3.E11.m2.8.8.1.1.2.2.2" xref="S3.E11.m2.8.8.1.1.2.2.3.cmml"><mo id="S3.E11.m2.8.8.1.1.2.2.2.3" stretchy="false" xref="S3.E11.m2.8.8.1.1.2.2.3.cmml">(</mo><msub id="S3.E11.m2.8.8.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.1.1.1.1.cmml"><mi id="S3.E11.m2.8.8.1.1.1.1.1.1.2" xref="S3.E11.m2.8.8.1.1.1.1.1.1.2.cmml">Ï€</mi><mi id="S3.E11.m2.8.8.1.1.1.1.1.1.3" xref="S3.E11.m2.8.8.1.1.1.1.1.1.3.cmml">Î¸</mi></msub><mo id="S3.E11.m2.8.8.1.1.2.2.2.4" xref="S3.E11.m2.8.8.1.1.2.2.3.cmml">;</mo><msub id="S3.E11.m2.8.8.1.1.2.2.2.2" xref="S3.E11.m2.8.8.1.1.2.2.2.2.cmml"><mi id="S3.E11.m2.8.8.1.1.2.2.2.2.2" xref="S3.E11.m2.8.8.1.1.2.2.2.2.2.cmml">Ï€</mi><mi id="S3.E11.m2.8.8.1.1.2.2.2.2.3" xref="S3.E11.m2.8.8.1.1.2.2.2.2.3.cmml">ref</mi></msub><mo id="S3.E11.m2.8.8.1.1.2.2.2.5" stretchy="false" xref="S3.E11.m2.8.8.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E11.m2.8.8.1.1.4" xref="S3.E11.m2.8.8.1.1.4.cmml">=</mo><mrow id="S3.E11.m2.8.8.1.1.3" xref="S3.E11.m2.8.8.1.1.3.cmml"><mo id="S3.E11.m2.8.8.1.1.3a" xref="S3.E11.m2.8.8.1.1.3.cmml">âˆ’</mo><mrow id="S3.E11.m2.8.8.1.1.3.1" xref="S3.E11.m2.8.8.1.1.3.1.cmml"><msub id="S3.E11.m2.8.8.1.1.3.1.3" xref="S3.E11.m2.8.8.1.1.3.1.3.cmml"><mi id="S3.E11.m2.8.8.1.1.3.1.3.2" xref="S3.E11.m2.8.8.1.1.3.1.3.2.cmml">ğ”¼</mi><mrow id="S3.E11.m2.3.3.3" xref="S3.E11.m2.3.3.3.cmml"><mrow id="S3.E11.m2.3.3.3.3.3" xref="S3.E11.m2.3.3.3.3.4.cmml"><mo id="S3.E11.m2.3.3.3.3.3.4" stretchy="false" xref="S3.E11.m2.3.3.3.3.4.cmml">(</mo><msub id="S3.E11.m2.1.1.1.1.1.1" xref="S3.E11.m2.1.1.1.1.1.1.cmml"><mi id="S3.E11.m2.1.1.1.1.1.1.2" xref="S3.E11.m2.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.E11.m2.1.1.1.1.1.1.3" xref="S3.E11.m2.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.E11.m2.3.3.3.3.3.5" xref="S3.E11.m2.3.3.3.3.4.cmml">,</mo><msub id="S3.E11.m2.2.2.2.2.2.2" xref="S3.E11.m2.2.2.2.2.2.2.cmml"><mi id="S3.E11.m2.2.2.2.2.2.2.2" xref="S3.E11.m2.2.2.2.2.2.2.2.cmml">e</mi><mi id="S3.E11.m2.2.2.2.2.2.2.3" xref="S3.E11.m2.2.2.2.2.2.2.3.cmml">p</mi></msub><mo id="S3.E11.m2.3.3.3.3.3.6" xref="S3.E11.m2.3.3.3.3.4.cmml">,</mo><msub id="S3.E11.m2.3.3.3.3.3.3" xref="S3.E11.m2.3.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m2.3.3.3.3.3.3.2" xref="S3.E11.m2.3.3.3.3.3.3.2.cmml">â„°</mi><mi id="S3.E11.m2.3.3.3.3.3.3.3" xref="S3.E11.m2.3.3.3.3.3.3.3.cmml">d</mi></msub><mo id="S3.E11.m2.3.3.3.3.3.7" stretchy="false" xref="S3.E11.m2.3.3.3.3.4.cmml">)</mo></mrow><mo id="S3.E11.m2.3.3.3.4" xref="S3.E11.m2.3.3.3.4.cmml">âˆ¼</mo><mi class="ltx_font_mathcaligraphic" id="S3.E11.m2.3.3.3.5" xref="S3.E11.m2.3.3.3.5.cmml">ğ’Ÿ</mi></mrow></msub><mo id="S3.E11.m2.8.8.1.1.3.1.2" xref="S3.E11.m2.8.8.1.1.3.1.2.cmml">â¢</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.2.cmml"><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.2" xref="S3.E11.m2.8.8.1.1.3.1.1.2.1.cmml">[</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.cmml"><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.3.cmml">log</mi><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.2" lspace="0.170em" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.2.cmml">â¢</mo><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.4" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.4.cmml">Ïƒ</mi><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.2a" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.cmml"><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.cmml"><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1a" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2a" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">Î²</mi><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1" lspace="0.170em" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">log</mi><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1a" lspace="0.170em" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mstyle displaystyle="true" id="S3.E11.m2.5.5" xref="S3.E11.m2.5.5.cmml"><mfrac id="S3.E11.m2.5.5a" xref="S3.E11.m2.5.5.cmml"><mrow id="S3.E11.m2.4.4.1" xref="S3.E11.m2.4.4.1.cmml"><msub id="S3.E11.m2.4.4.1.3" xref="S3.E11.m2.4.4.1.3.cmml"><mi id="S3.E11.m2.4.4.1.3.2" xref="S3.E11.m2.4.4.1.3.2.cmml">Ï€</mi><mi id="S3.E11.m2.4.4.1.3.3" xref="S3.E11.m2.4.4.1.3.3.cmml">Î¸</mi></msub><mo id="S3.E11.m2.4.4.1.2" xref="S3.E11.m2.4.4.1.2.cmml">â¢</mo><mrow id="S3.E11.m2.4.4.1.1.1" xref="S3.E11.m2.4.4.1.1.1.1.cmml"><mo id="S3.E11.m2.4.4.1.1.1.2" stretchy="false" xref="S3.E11.m2.4.4.1.1.1.1.cmml">(</mo><mrow id="S3.E11.m2.4.4.1.1.1.1" xref="S3.E11.m2.4.4.1.1.1.1.cmml"><msub id="S3.E11.m2.4.4.1.1.1.1.2" xref="S3.E11.m2.4.4.1.1.1.1.2.cmml"><mi id="S3.E11.m2.4.4.1.1.1.1.2.2" xref="S3.E11.m2.4.4.1.1.1.1.2.2.cmml">e</mi><mi id="S3.E11.m2.4.4.1.1.1.1.2.3" xref="S3.E11.m2.4.4.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="S3.E11.m2.4.4.1.1.1.1.1" xref="S3.E11.m2.4.4.1.1.1.1.1.cmml">|</mo><msub id="S3.E11.m2.4.4.1.1.1.1.3" xref="S3.E11.m2.4.4.1.1.1.1.3.cmml"><mi id="S3.E11.m2.4.4.1.1.1.1.3.2" xref="S3.E11.m2.4.4.1.1.1.1.3.2.cmml">x</mi><mi id="S3.E11.m2.4.4.1.1.1.1.3.3" xref="S3.E11.m2.4.4.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.E11.m2.4.4.1.1.1.3" stretchy="false" xref="S3.E11.m2.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E11.m2.5.5.2" xref="S3.E11.m2.5.5.2.cmml"><msub id="S3.E11.m2.5.5.2.3" xref="S3.E11.m2.5.5.2.3.cmml"><mi id="S3.E11.m2.5.5.2.3.2" xref="S3.E11.m2.5.5.2.3.2.cmml">Ï€</mi><mi id="S3.E11.m2.5.5.2.3.3" xref="S3.E11.m2.5.5.2.3.3.cmml">ref</mi></msub><mo id="S3.E11.m2.5.5.2.2" xref="S3.E11.m2.5.5.2.2.cmml">â¢</mo><mrow id="S3.E11.m2.5.5.2.1.1" xref="S3.E11.m2.5.5.2.1.1.1.cmml"><mo id="S3.E11.m2.5.5.2.1.1.2" stretchy="false" xref="S3.E11.m2.5.5.2.1.1.1.cmml">(</mo><mrow id="S3.E11.m2.5.5.2.1.1.1" xref="S3.E11.m2.5.5.2.1.1.1.cmml"><msub id="S3.E11.m2.5.5.2.1.1.1.2" xref="S3.E11.m2.5.5.2.1.1.1.2.cmml"><mi id="S3.E11.m2.5.5.2.1.1.1.2.2" xref="S3.E11.m2.5.5.2.1.1.1.2.2.cmml">e</mi><mi id="S3.E11.m2.5.5.2.1.1.1.2.3" xref="S3.E11.m2.5.5.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="S3.E11.m2.5.5.2.1.1.1.1" xref="S3.E11.m2.5.5.2.1.1.1.1.cmml">|</mo><msub id="S3.E11.m2.5.5.2.1.1.1.3" xref="S3.E11.m2.5.5.2.1.1.1.3.cmml"><mi id="S3.E11.m2.5.5.2.1.1.1.3.2" xref="S3.E11.m2.5.5.2.1.1.1.3.2.cmml">x</mi><mi id="S3.E11.m2.5.5.2.1.1.1.3.3" xref="S3.E11.m2.5.5.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.E11.m2.5.5.2.1.1.3" stretchy="false" xref="S3.E11.m2.5.5.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">Î²</mi><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.170em" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mi id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">log</mi><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1a" lspace="0.170em" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mstyle displaystyle="true" id="S3.E11.m2.7.7" xref="S3.E11.m2.7.7.cmml"><mfrac id="S3.E11.m2.7.7a" xref="S3.E11.m2.7.7.cmml"><mrow id="S3.E11.m2.6.6.1" xref="S3.E11.m2.6.6.1.cmml"><msub id="S3.E11.m2.6.6.1.3" xref="S3.E11.m2.6.6.1.3.cmml"><mi id="S3.E11.m2.6.6.1.3.2" xref="S3.E11.m2.6.6.1.3.2.cmml">Ï€</mi><mi id="S3.E11.m2.6.6.1.3.3" xref="S3.E11.m2.6.6.1.3.3.cmml">Î¸</mi></msub><mo id="S3.E11.m2.6.6.1.2" xref="S3.E11.m2.6.6.1.2.cmml">â¢</mo><mrow id="S3.E11.m2.6.6.1.1.1" xref="S3.E11.m2.6.6.1.1.1.1.cmml"><mo id="S3.E11.m2.6.6.1.1.1.2" stretchy="false" xref="S3.E11.m2.6.6.1.1.1.1.cmml">(</mo><mrow id="S3.E11.m2.6.6.1.1.1.1" xref="S3.E11.m2.6.6.1.1.1.1.cmml"><msub id="S3.E11.m2.6.6.1.1.1.1.2" xref="S3.E11.m2.6.6.1.1.1.1.2.cmml"><mi id="S3.E11.m2.6.6.1.1.1.1.2.2" xref="S3.E11.m2.6.6.1.1.1.1.2.2.cmml">e</mi><mi id="S3.E11.m2.6.6.1.1.1.1.2.3" xref="S3.E11.m2.6.6.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="S3.E11.m2.6.6.1.1.1.1.1" xref="S3.E11.m2.6.6.1.1.1.1.1.cmml">|</mo><msub id="S3.E11.m2.6.6.1.1.1.1.3" xref="S3.E11.m2.6.6.1.1.1.1.3.cmml"><mi id="S3.E11.m2.6.6.1.1.1.1.3.2" xref="S3.E11.m2.6.6.1.1.1.1.3.2.cmml">x</mi><mi id="S3.E11.m2.6.6.1.1.1.1.3.3" xref="S3.E11.m2.6.6.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.E11.m2.6.6.1.1.1.3" stretchy="false" xref="S3.E11.m2.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E11.m2.7.7.2" xref="S3.E11.m2.7.7.2.cmml"><msub id="S3.E11.m2.7.7.2.3" xref="S3.E11.m2.7.7.2.3.cmml"><mi id="S3.E11.m2.7.7.2.3.2" xref="S3.E11.m2.7.7.2.3.2.cmml">Ï€</mi><mi id="S3.E11.m2.7.7.2.3.3" xref="S3.E11.m2.7.7.2.3.3.cmml">ref</mi></msub><mo id="S3.E11.m2.7.7.2.2" xref="S3.E11.m2.7.7.2.2.cmml">â¢</mo><mrow id="S3.E11.m2.7.7.2.1.1" xref="S3.E11.m2.7.7.2.1.1.1.cmml"><mo id="S3.E11.m2.7.7.2.1.1.2" stretchy="false" xref="S3.E11.m2.7.7.2.1.1.1.cmml">(</mo><mrow id="S3.E11.m2.7.7.2.1.1.1" xref="S3.E11.m2.7.7.2.1.1.1.cmml"><msub id="S3.E11.m2.7.7.2.1.1.1.2" xref="S3.E11.m2.7.7.2.1.1.1.2.cmml"><mi id="S3.E11.m2.7.7.2.1.1.1.2.2" xref="S3.E11.m2.7.7.2.1.1.1.2.2.cmml">e</mi><mi id="S3.E11.m2.7.7.2.1.1.1.2.3" xref="S3.E11.m2.7.7.2.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="S3.E11.m2.7.7.2.1.1.1.1" xref="S3.E11.m2.7.7.2.1.1.1.1.cmml">|</mo><msub id="S3.E11.m2.7.7.2.1.1.1.3" xref="S3.E11.m2.7.7.2.1.1.1.3.cmml"><mi id="S3.E11.m2.7.7.2.1.1.1.3.2" xref="S3.E11.m2.7.7.2.1.1.1.3.2.cmml">x</mi><mi id="S3.E11.m2.7.7.2.1.1.1.3.3" xref="S3.E11.m2.7.7.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.E11.m2.7.7.2.1.1.3" stretchy="false" xref="S3.E11.m2.7.7.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.3" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E11.m2.8.8.1.1.3.1.1.1.3" xref="S3.E11.m2.8.8.1.1.3.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo id="S3.E11.m2.8.8.1.2" lspace="0em" xref="S3.E11.m2.8.8.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m2.8b"><apply id="S3.E11.m2.8.8.1.1.cmml" xref="S3.E11.m2.8.8.1"><eq id="S3.E11.m2.8.8.1.1.4.cmml" xref="S3.E11.m2.8.8.1.1.4"></eq><apply id="S3.E11.m2.8.8.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.2"><times id="S3.E11.m2.8.8.1.1.2.3.cmml" xref="S3.E11.m2.8.8.1.1.2.3"></times><apply id="S3.E11.m2.8.8.1.1.2.4.cmml" xref="S3.E11.m2.8.8.1.1.2.4"><csymbol cd="ambiguous" id="S3.E11.m2.8.8.1.1.2.4.1.cmml" xref="S3.E11.m2.8.8.1.1.2.4">subscript</csymbol><ci id="S3.E11.m2.8.8.1.1.2.4.2.cmml" xref="S3.E11.m2.8.8.1.1.2.4.2">â„’</ci><apply id="S3.E11.m2.8.8.1.1.2.4.3.cmml" xref="S3.E11.m2.8.8.1.1.2.4.3"><minus id="S3.E11.m2.8.8.1.1.2.4.3.1.cmml" xref="S3.E11.m2.8.8.1.1.2.4.3.1"></minus><ci id="S3.E11.m2.8.8.1.1.2.4.3.2.cmml" xref="S3.E11.m2.8.8.1.1.2.4.3.2">S</ci><ci id="S3.E11.m2.8.8.1.1.2.4.3.3.cmml" xref="S3.E11.m2.8.8.1.1.2.4.3.3">DPO</ci></apply></apply><list id="S3.E11.m2.8.8.1.1.2.2.3.cmml" xref="S3.E11.m2.8.8.1.1.2.2.2"><apply id="S3.E11.m2.8.8.1.1.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m2.8.8.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E11.m2.8.8.1.1.1.1.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.1.1.1.1.2">ğœ‹</ci><ci id="S3.E11.m2.8.8.1.1.1.1.1.1.3.cmml" xref="S3.E11.m2.8.8.1.1.1.1.1.1.3">ğœƒ</ci></apply><apply id="S3.E11.m2.8.8.1.1.2.2.2.2.cmml" xref="S3.E11.m2.8.8.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E11.m2.8.8.1.1.2.2.2.2.1.cmml" xref="S3.E11.m2.8.8.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E11.m2.8.8.1.1.2.2.2.2.2.cmml" xref="S3.E11.m2.8.8.1.1.2.2.2.2.2">ğœ‹</ci><ci id="S3.E11.m2.8.8.1.1.2.2.2.2.3.cmml" xref="S3.E11.m2.8.8.1.1.2.2.2.2.3">ref</ci></apply></list></apply><apply id="S3.E11.m2.8.8.1.1.3.cmml" xref="S3.E11.m2.8.8.1.1.3"><minus id="S3.E11.m2.8.8.1.1.3.2.cmml" xref="S3.E11.m2.8.8.1.1.3"></minus><apply id="S3.E11.m2.8.8.1.1.3.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1"><times id="S3.E11.m2.8.8.1.1.3.1.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.2"></times><apply id="S3.E11.m2.8.8.1.1.3.1.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.3"><csymbol cd="ambiguous" id="S3.E11.m2.8.8.1.1.3.1.3.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.3">subscript</csymbol><ci id="S3.E11.m2.8.8.1.1.3.1.3.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.3.2">ğ”¼</ci><apply id="S3.E11.m2.3.3.3.cmml" xref="S3.E11.m2.3.3.3"><csymbol cd="latexml" id="S3.E11.m2.3.3.3.4.cmml" xref="S3.E11.m2.3.3.3.4">similar-to</csymbol><vector id="S3.E11.m2.3.3.3.3.4.cmml" xref="S3.E11.m2.3.3.3.3.3"><apply id="S3.E11.m2.1.1.1.1.1.1.cmml" xref="S3.E11.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m2.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E11.m2.1.1.1.1.1.1.2.cmml" xref="S3.E11.m2.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.E11.m2.1.1.1.1.1.1.3.cmml" xref="S3.E11.m2.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.E11.m2.2.2.2.2.2.2.cmml" xref="S3.E11.m2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E11.m2.2.2.2.2.2.2.1.cmml" xref="S3.E11.m2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E11.m2.2.2.2.2.2.2.2.cmml" xref="S3.E11.m2.2.2.2.2.2.2.2">ğ‘’</ci><ci id="S3.E11.m2.2.2.2.2.2.2.3.cmml" xref="S3.E11.m2.2.2.2.2.2.2.3">ğ‘</ci></apply><apply id="S3.E11.m2.3.3.3.3.3.3.cmml" xref="S3.E11.m2.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.E11.m2.3.3.3.3.3.3.1.cmml" xref="S3.E11.m2.3.3.3.3.3.3">subscript</csymbol><ci id="S3.E11.m2.3.3.3.3.3.3.2.cmml" xref="S3.E11.m2.3.3.3.3.3.3.2">â„°</ci><ci id="S3.E11.m2.3.3.3.3.3.3.3.cmml" xref="S3.E11.m2.3.3.3.3.3.3.3">ğ‘‘</ci></apply></vector><ci id="S3.E11.m2.3.3.3.5.cmml" xref="S3.E11.m2.3.3.3.5">ğ’Ÿ</ci></apply></apply><apply id="S3.E11.m2.8.8.1.1.3.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1"><csymbol cd="latexml" id="S3.E11.m2.8.8.1.1.3.1.1.2.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.2">delimited-[]</csymbol><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1"><times id="S3.E11.m2.8.8.1.1.3.1.1.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.2"></times><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.3">log</ci><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.4.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.4">ğœ</ci><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1"><minus id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1"></minus><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1"><times id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.3">log</ci><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1"><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3"><in id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1"><times id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><times id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1"></times><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">ğ›½</ci><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">log</ci><apply id="S3.E11.m2.5.5.cmml" xref="S3.E11.m2.5.5"><divide id="S3.E11.m2.5.5.3.cmml" xref="S3.E11.m2.5.5"></divide><apply id="S3.E11.m2.4.4.1.cmml" xref="S3.E11.m2.4.4.1"><times id="S3.E11.m2.4.4.1.2.cmml" xref="S3.E11.m2.4.4.1.2"></times><apply id="S3.E11.m2.4.4.1.3.cmml" xref="S3.E11.m2.4.4.1.3"><csymbol cd="ambiguous" id="S3.E11.m2.4.4.1.3.1.cmml" xref="S3.E11.m2.4.4.1.3">subscript</csymbol><ci id="S3.E11.m2.4.4.1.3.2.cmml" xref="S3.E11.m2.4.4.1.3.2">ğœ‹</ci><ci id="S3.E11.m2.4.4.1.3.3.cmml" xref="S3.E11.m2.4.4.1.3.3">ğœƒ</ci></apply><apply id="S3.E11.m2.4.4.1.1.1.1.cmml" xref="S3.E11.m2.4.4.1.1.1"><csymbol cd="latexml" id="S3.E11.m2.4.4.1.1.1.1.1.cmml" xref="S3.E11.m2.4.4.1.1.1.1.1">conditional</csymbol><apply id="S3.E11.m2.4.4.1.1.1.1.2.cmml" xref="S3.E11.m2.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m2.4.4.1.1.1.1.2.1.cmml" xref="S3.E11.m2.4.4.1.1.1.1.2">subscript</csymbol><ci id="S3.E11.m2.4.4.1.1.1.1.2.2.cmml" xref="S3.E11.m2.4.4.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.E11.m2.4.4.1.1.1.1.2.3.cmml" xref="S3.E11.m2.4.4.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="S3.E11.m2.4.4.1.1.1.1.3.cmml" xref="S3.E11.m2.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m2.4.4.1.1.1.1.3.1.cmml" xref="S3.E11.m2.4.4.1.1.1.1.3">subscript</csymbol><ci id="S3.E11.m2.4.4.1.1.1.1.3.2.cmml" xref="S3.E11.m2.4.4.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E11.m2.4.4.1.1.1.1.3.3.cmml" xref="S3.E11.m2.4.4.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.E11.m2.5.5.2.cmml" xref="S3.E11.m2.5.5.2"><times id="S3.E11.m2.5.5.2.2.cmml" xref="S3.E11.m2.5.5.2.2"></times><apply id="S3.E11.m2.5.5.2.3.cmml" xref="S3.E11.m2.5.5.2.3"><csymbol cd="ambiguous" id="S3.E11.m2.5.5.2.3.1.cmml" xref="S3.E11.m2.5.5.2.3">subscript</csymbol><ci id="S3.E11.m2.5.5.2.3.2.cmml" xref="S3.E11.m2.5.5.2.3.2">ğœ‹</ci><ci id="S3.E11.m2.5.5.2.3.3.cmml" xref="S3.E11.m2.5.5.2.3.3">ref</ci></apply><apply id="S3.E11.m2.5.5.2.1.1.1.cmml" xref="S3.E11.m2.5.5.2.1.1"><csymbol cd="latexml" id="S3.E11.m2.5.5.2.1.1.1.1.cmml" xref="S3.E11.m2.5.5.2.1.1.1.1">conditional</csymbol><apply id="S3.E11.m2.5.5.2.1.1.1.2.cmml" xref="S3.E11.m2.5.5.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m2.5.5.2.1.1.1.2.1.cmml" xref="S3.E11.m2.5.5.2.1.1.1.2">subscript</csymbol><ci id="S3.E11.m2.5.5.2.1.1.1.2.2.cmml" xref="S3.E11.m2.5.5.2.1.1.1.2.2">ğ‘’</ci><ci id="S3.E11.m2.5.5.2.1.1.1.2.3.cmml" xref="S3.E11.m2.5.5.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="S3.E11.m2.5.5.2.1.1.1.3.cmml" xref="S3.E11.m2.5.5.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m2.5.5.2.1.1.1.3.1.cmml" xref="S3.E11.m2.5.5.2.1.1.1.3">subscript</csymbol><ci id="S3.E11.m2.5.5.2.1.1.1.3.2.cmml" xref="S3.E11.m2.5.5.2.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E11.m2.5.5.2.1.1.1.3.3.cmml" xref="S3.E11.m2.5.5.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><times id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">ğ›½</ci><ci id="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E11.m2.8.8.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">log</ci><apply id="S3.E11.m2.7.7.cmml" xref="S3.E11.m2.7.7"><divide id="S3.E11.m2.7.7.3.cmml" xref="S3.E11.m2.7.7"></divide><apply id="S3.E11.m2.6.6.1.cmml" xref="S3.E11.m2.6.6.1"><times id="S3.E11.m2.6.6.1.2.cmml" xref="S3.E11.m2.6.6.1.2"></times><apply id="S3.E11.m2.6.6.1.3.cmml" xref="S3.E11.m2.6.6.1.3"><csymbol cd="ambiguous" id="S3.E11.m2.6.6.1.3.1.cmml" xref="S3.E11.m2.6.6.1.3">subscript</csymbol><ci id="S3.E11.m2.6.6.1.3.2.cmml" xref="S3.E11.m2.6.6.1.3.2">ğœ‹</ci><ci id="S3.E11.m2.6.6.1.3.3.cmml" xref="S3.E11.m2.6.6.1.3.3">ğœƒ</ci></apply><apply id="S3.E11.m2.6.6.1.1.1.1.cmml" xref="S3.E11.m2.6.6.1.1.1"><csymbol cd="latexml" id="S3.E11.m2.6.6.1.1.1.1.1.cmml" xref="S3.E11.m2.6.6.1.1.1.1.1">conditional</csymbol><apply id="S3.E11.m2.6.6.1.1.1.1.2.cmml" xref="S3.E11.m2.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m2.6.6.1.1.1.1.2.1.cmml" xref="S3.E11.m2.6.6.1.1.1.1.2">subscript</csymbol><ci id="S3.E11.m2.6.6.1.1.1.1.2.2.cmml" xref="S3.E11.m2.6.6.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.E11.m2.6.6.1.1.1.1.2.3.cmml" xref="S3.E11.m2.6.6.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.E11.m2.6.6.1.1.1.1.3.cmml" xref="S3.E11.m2.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m2.6.6.1.1.1.1.3.1.cmml" xref="S3.E11.m2.6.6.1.1.1.1.3">subscript</csymbol><ci id="S3.E11.m2.6.6.1.1.1.1.3.2.cmml" xref="S3.E11.m2.6.6.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E11.m2.6.6.1.1.1.1.3.3.cmml" xref="S3.E11.m2.6.6.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.E11.m2.7.7.2.cmml" xref="S3.E11.m2.7.7.2"><times id="S3.E11.m2.7.7.2.2.cmml" xref="S3.E11.m2.7.7.2.2"></times><apply id="S3.E11.m2.7.7.2.3.cmml" xref="S3.E11.m2.7.7.2.3"><csymbol cd="ambiguous" id="S3.E11.m2.7.7.2.3.1.cmml" xref="S3.E11.m2.7.7.2.3">subscript</csymbol><ci id="S3.E11.m2.7.7.2.3.2.cmml" xref="S3.E11.m2.7.7.2.3.2">ğœ‹</ci><ci id="S3.E11.m2.7.7.2.3.3.cmml" xref="S3.E11.m2.7.7.2.3.3">ref</ci></apply><apply id="S3.E11.m2.7.7.2.1.1.1.cmml" xref="S3.E11.m2.7.7.2.1.1"><csymbol cd="latexml" id="S3.E11.m2.7.7.2.1.1.1.1.cmml" xref="S3.E11.m2.7.7.2.1.1.1.1">conditional</csymbol><apply id="S3.E11.m2.7.7.2.1.1.1.2.cmml" xref="S3.E11.m2.7.7.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m2.7.7.2.1.1.1.2.1.cmml" xref="S3.E11.m2.7.7.2.1.1.1.2">subscript</csymbol><ci id="S3.E11.m2.7.7.2.1.1.1.2.2.cmml" xref="S3.E11.m2.7.7.2.1.1.1.2.2">ğ‘’</ci><ci id="S3.E11.m2.7.7.2.1.1.1.2.3.cmml" xref="S3.E11.m2.7.7.2.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.E11.m2.7.7.2.1.1.1.3.cmml" xref="S3.E11.m2.7.7.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m2.7.7.2.1.1.1.3.1.cmml" xref="S3.E11.m2.7.7.2.1.1.1.3">subscript</csymbol><ci id="S3.E11.m2.7.7.2.1.1.1.3.2.cmml" xref="S3.E11.m2.7.7.2.1.1.1.3.2">ğ‘¥</ci><ci id="S3.E11.m2.7.7.2.1.1.1.3.3.cmml" xref="S3.E11.m2.7.7.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m2.8c">\displaystyle\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})=-\mathbb{E}_{%
(x_{u},e_{p},\mathcal{E}_{d})\sim\mathcal{D}}\left[{\rm log}\,\sigma\left(-{%
\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}\left(\beta\,{\rm log}\,\frac%
{\pi_{\theta}(e_{d}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,{\rm log}\,%
\frac{\pi_{\theta}(e_{p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}\right)\right)%
\right].</annotation><annotation encoding="application/x-llamapun" id="S3.E11.m2.8d">caligraphic_L start_POSTSUBSCRIPT roman_S - roman_DPO end_POSTSUBSCRIPT ( italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ; italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ) = - blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) âˆ¼ caligraphic_D end_POSTSUBSCRIPT [ roman_log italic_Ïƒ ( - roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG - italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG ) ) ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSS0.Px2.p3">
<p class="ltx_p" id="S3.SS1.SSS0.Px2.p3.1">Notably, when the number of candidates <math alttext="N" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px2.p3.1.m1.1"><semantics id="S3.SS1.SSS0.Px2.p3.1.m1.1a"><mi id="S3.SS1.SSS0.Px2.p3.1.m1.1.1" xref="S3.SS1.SSS0.Px2.p3.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px2.p3.1.m1.1b"><ci id="S3.SS1.SSS0.Px2.p3.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px2.p3.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px2.p3.1.m1.1c">N</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px2.p3.1.m1.1d">italic_N</annotation></semantics></math> is 2, which means there is only one dispreferred item, S-DPO reduces to DPO. The proof is provided in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A1.SS2" title="A.2 Connection Between DPO and S-DPO â€£ Appendix A Mathematical Derivations â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">A.2</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS1.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Gradient Analysis.</h4>
<div class="ltx_para" id="S3.SS1.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS1.SSS0.Px3.p1.2">We conduct gradient analysis on S-DPO. The gradient of <math alttext="\mathcal{L}_{\rm S-DPO}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p1.1.m1.1"><semantics id="S3.SS1.SSS0.Px3.p1.1.m1.1a"><msub id="S3.SS1.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.2.cmml">â„’</mi><mrow id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.2" mathvariant="normal" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.2.cmml">S</mi><mo id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1.cmml">âˆ’</mo><mi id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.3" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.3.cmml">DPO</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.1.m1.1b"><apply id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.2">â„’</ci><apply id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3"><minus id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.1"></minus><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.2">S</ci><ci id="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.1.m1.1.1.3.3">DPO</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.1.m1.1c">\mathcal{L}_{\rm S-DPO}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p1.1.m1.1d">caligraphic_L start_POSTSUBSCRIPT roman_S - roman_DPO end_POSTSUBSCRIPT</annotation></semantics></math> with respect to parameters <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p1.2.m2.1"><semantics id="S3.SS1.SSS0.Px3.p1.2.m2.1a"><mi id="S3.SS1.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS1.SSS0.Px3.p1.2.m2.1.1.cmml">Î¸</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.2.m2.1b"><ci id="S3.SS1.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.2.m2.1.1">ğœƒ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.2.m2.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p1.2.m2.1d">italic_Î¸</annotation></semantics></math> takes the following formulation:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx12">
<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\nabla_{\theta}\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})=" class="ltx_Math" display="inline" id="S3.Ex1.m1.2"><semantics id="S3.Ex1.m1.2a"><mrow id="S3.Ex1.m1.2.2" xref="S3.Ex1.m1.2.2.cmml"><mrow id="S3.Ex1.m1.2.2.2" xref="S3.Ex1.m1.2.2.2.cmml"><mrow id="S3.Ex1.m1.2.2.2.4" xref="S3.Ex1.m1.2.2.2.4.cmml"><msub id="S3.Ex1.m1.2.2.2.4.1" xref="S3.Ex1.m1.2.2.2.4.1.cmml"><mo id="S3.Ex1.m1.2.2.2.4.1.2" xref="S3.Ex1.m1.2.2.2.4.1.2.cmml">âˆ‡</mo><mi id="S3.Ex1.m1.2.2.2.4.1.3" xref="S3.Ex1.m1.2.2.2.4.1.3.cmml">Î¸</mi></msub><msub id="S3.Ex1.m1.2.2.2.4.2" xref="S3.Ex1.m1.2.2.2.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex1.m1.2.2.2.4.2.2" xref="S3.Ex1.m1.2.2.2.4.2.2.cmml">â„’</mi><mrow id="S3.Ex1.m1.2.2.2.4.2.3" xref="S3.Ex1.m1.2.2.2.4.2.3.cmml"><mi id="S3.Ex1.m1.2.2.2.4.2.3.2" mathvariant="normal" xref="S3.Ex1.m1.2.2.2.4.2.3.2.cmml">S</mi><mo id="S3.Ex1.m1.2.2.2.4.2.3.1" xref="S3.Ex1.m1.2.2.2.4.2.3.1.cmml">âˆ’</mo><mi id="S3.Ex1.m1.2.2.2.4.2.3.3" xref="S3.Ex1.m1.2.2.2.4.2.3.3.cmml">DPO</mi></mrow></msub></mrow><mo id="S3.Ex1.m1.2.2.2.3" xref="S3.Ex1.m1.2.2.2.3.cmml">â¢</mo><mrow id="S3.Ex1.m1.2.2.2.2.2" xref="S3.Ex1.m1.2.2.2.2.3.cmml"><mo id="S3.Ex1.m1.2.2.2.2.2.3" stretchy="false" xref="S3.Ex1.m1.2.2.2.2.3.cmml">(</mo><msub id="S3.Ex1.m1.1.1.1.1.1.1" xref="S3.Ex1.m1.1.1.1.1.1.1.cmml"><mi id="S3.Ex1.m1.1.1.1.1.1.1.2" xref="S3.Ex1.m1.1.1.1.1.1.1.2.cmml">Ï€</mi><mi id="S3.Ex1.m1.1.1.1.1.1.1.3" xref="S3.Ex1.m1.1.1.1.1.1.1.3.cmml">Î¸</mi></msub><mo id="S3.Ex1.m1.2.2.2.2.2.4" xref="S3.Ex1.m1.2.2.2.2.3.cmml">;</mo><msub id="S3.Ex1.m1.2.2.2.2.2.2" xref="S3.Ex1.m1.2.2.2.2.2.2.cmml"><mi id="S3.Ex1.m1.2.2.2.2.2.2.2" xref="S3.Ex1.m1.2.2.2.2.2.2.2.cmml">Ï€</mi><mi id="S3.Ex1.m1.2.2.2.2.2.2.3" xref="S3.Ex1.m1.2.2.2.2.2.2.3.cmml">ref</mi></msub><mo id="S3.Ex1.m1.2.2.2.2.2.5" stretchy="false" xref="S3.Ex1.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.Ex1.m1.2.2.3" xref="S3.Ex1.m1.2.2.3.cmml">=</mo><mi id="S3.Ex1.m1.2.2.4" xref="S3.Ex1.m1.2.2.4.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.2b"><apply id="S3.Ex1.m1.2.2.cmml" xref="S3.Ex1.m1.2.2"><eq id="S3.Ex1.m1.2.2.3.cmml" xref="S3.Ex1.m1.2.2.3"></eq><apply id="S3.Ex1.m1.2.2.2.cmml" xref="S3.Ex1.m1.2.2.2"><times id="S3.Ex1.m1.2.2.2.3.cmml" xref="S3.Ex1.m1.2.2.2.3"></times><apply id="S3.Ex1.m1.2.2.2.4.cmml" xref="S3.Ex1.m1.2.2.2.4"><apply id="S3.Ex1.m1.2.2.2.4.1.cmml" xref="S3.Ex1.m1.2.2.2.4.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.2.4.1.1.cmml" xref="S3.Ex1.m1.2.2.2.4.1">subscript</csymbol><ci id="S3.Ex1.m1.2.2.2.4.1.2.cmml" xref="S3.Ex1.m1.2.2.2.4.1.2">âˆ‡</ci><ci id="S3.Ex1.m1.2.2.2.4.1.3.cmml" xref="S3.Ex1.m1.2.2.2.4.1.3">ğœƒ</ci></apply><apply id="S3.Ex1.m1.2.2.2.4.2.cmml" xref="S3.Ex1.m1.2.2.2.4.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.2.4.2.1.cmml" xref="S3.Ex1.m1.2.2.2.4.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.2.4.2.2.cmml" xref="S3.Ex1.m1.2.2.2.4.2.2">â„’</ci><apply id="S3.Ex1.m1.2.2.2.4.2.3.cmml" xref="S3.Ex1.m1.2.2.2.4.2.3"><minus id="S3.Ex1.m1.2.2.2.4.2.3.1.cmml" xref="S3.Ex1.m1.2.2.2.4.2.3.1"></minus><ci id="S3.Ex1.m1.2.2.2.4.2.3.2.cmml" xref="S3.Ex1.m1.2.2.2.4.2.3.2">S</ci><ci id="S3.Ex1.m1.2.2.2.4.2.3.3.cmml" xref="S3.Ex1.m1.2.2.2.4.2.3.3">DPO</ci></apply></apply></apply><list id="S3.Ex1.m1.2.2.2.2.3.cmml" xref="S3.Ex1.m1.2.2.2.2.2"><apply id="S3.Ex1.m1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.1.1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex1.m1.1.1.1.1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.2">ğœ‹</ci><ci id="S3.Ex1.m1.1.1.1.1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.1.1.1.1.3">ğœƒ</ci></apply><apply id="S3.Ex1.m1.2.2.2.2.2.2.cmml" xref="S3.Ex1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.2.2.2.2.2.2.1.cmml" xref="S3.Ex1.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S3.Ex1.m1.2.2.2.2.2.2.2.cmml" xref="S3.Ex1.m1.2.2.2.2.2.2.2">ğœ‹</ci><ci id="S3.Ex1.m1.2.2.2.2.2.2.3.cmml" xref="S3.Ex1.m1.2.2.2.2.2.2.3">ref</ci></apply></list></apply><csymbol cd="latexml" id="S3.Ex1.m1.2.2.4.cmml" xref="S3.Ex1.m1.2.2.4">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.2c">\displaystyle\nabla_{\theta}\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})=</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.2d">âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT caligraphic_L start_POSTSUBSCRIPT roman_S - roman_DPO end_POSTSUBSCRIPT ( italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ; italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ) =</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle-\beta\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\bigg{[}%
\underbrace{\sigma\left({\rm log}\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e_{%
d},e_{p},x_{u}))\right)}_{\text{higher weight when reward deviates from %
preference}}\cdot\bigg{[}\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{p}|x_{u})%
-\sum_{e_{d}\in\mathcal{E}_{d}}\frac{\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(%
e_{d}|x_{u})}{\underbrace{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e%
^{\prime}_{d},e_{d},x_{u}))}_{\text{higher weight when reward is larger}}}%
\bigg{]}\bigg{]}," class="ltx_Math" display="inline" id="S3.Ex2.m1.7"><semantics id="S3.Ex2.m1.7a"><mrow id="S3.Ex2.m1.7.7.1" xref="S3.Ex2.m1.7.7.1.1.cmml"><mrow id="S3.Ex2.m1.7.7.1.1" xref="S3.Ex2.m1.7.7.1.1.cmml"><mo id="S3.Ex2.m1.7.7.1.1a" xref="S3.Ex2.m1.7.7.1.1.cmml">âˆ’</mo><mrow id="S3.Ex2.m1.7.7.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.cmml"><mi id="S3.Ex2.m1.7.7.1.1.1.3" xref="S3.Ex2.m1.7.7.1.1.1.3.cmml">Î²</mi><mo id="S3.Ex2.m1.7.7.1.1.1.2" xref="S3.Ex2.m1.7.7.1.1.1.2.cmml">â¢</mo><msub id="S3.Ex2.m1.7.7.1.1.1.4" xref="S3.Ex2.m1.7.7.1.1.1.4.cmml"><mi id="S3.Ex2.m1.7.7.1.1.1.4.2" xref="S3.Ex2.m1.7.7.1.1.1.4.2.cmml">ğ”¼</mi><mrow id="S3.Ex2.m1.3.3.3.3" xref="S3.Ex2.m1.3.3.3.4.cmml"><mo id="S3.Ex2.m1.3.3.3.3.4" stretchy="false" xref="S3.Ex2.m1.3.3.3.4.cmml">(</mo><msub id="S3.Ex2.m1.1.1.1.1.1" xref="S3.Ex2.m1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.1.1.1.1.1.2" xref="S3.Ex2.m1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.Ex2.m1.1.1.1.1.1.3" xref="S3.Ex2.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.Ex2.m1.3.3.3.3.5" xref="S3.Ex2.m1.3.3.3.4.cmml">,</mo><msub id="S3.Ex2.m1.2.2.2.2.2" xref="S3.Ex2.m1.2.2.2.2.2.cmml"><mi id="S3.Ex2.m1.2.2.2.2.2.2" xref="S3.Ex2.m1.2.2.2.2.2.2.cmml">e</mi><mi id="S3.Ex2.m1.2.2.2.2.2.3" xref="S3.Ex2.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="S3.Ex2.m1.3.3.3.3.6" xref="S3.Ex2.m1.3.3.3.4.cmml">,</mo><msub id="S3.Ex2.m1.3.3.3.3.3" xref="S3.Ex2.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.3.3.3.3.3.2" xref="S3.Ex2.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="S3.Ex2.m1.3.3.3.3.3.3" xref="S3.Ex2.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="S3.Ex2.m1.3.3.3.3.7" stretchy="false" xref="S3.Ex2.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="S3.Ex2.m1.7.7.1.1.1.2a" xref="S3.Ex2.m1.7.7.1.1.1.2.cmml">â¢</mo><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.1.2.cmml"><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.2" maxsize="210%" minsize="210%" xref="S3.Ex2.m1.7.7.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.cmml"><munder id="S3.Ex2.m1.7.7.1.1.1.1.1.1.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.cmml"><munder accentunder="true" id="S3.Ex2.m1.4.4" xref="S3.Ex2.m1.4.4.cmml"><mrow id="S3.Ex2.m1.4.4.1" xref="S3.Ex2.m1.4.4.1.cmml"><mi id="S3.Ex2.m1.4.4.1.3" xref="S3.Ex2.m1.4.4.1.3.cmml">Ïƒ</mi><mo id="S3.Ex2.m1.4.4.1.2" xref="S3.Ex2.m1.4.4.1.2.cmml">â¢</mo><mrow id="S3.Ex2.m1.4.4.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.1.cmml"><mo id="S3.Ex2.m1.4.4.1.1.1.2" xref="S3.Ex2.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="S3.Ex2.m1.4.4.1.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.1.cmml"><mi id="S3.Ex2.m1.4.4.1.1.1.1.3" xref="S3.Ex2.m1.4.4.1.1.1.1.3.cmml">log</mi><mo id="S3.Ex2.m1.4.4.1.1.1.1.2" xref="S3.Ex2.m1.4.4.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.Ex2.m1.4.4.1.1.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.Ex2.m1.4.4.1.1.1.1.1.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.cmml"><munder id="S3.Ex2.m1.4.4.1.1.1.1.1.2a" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.cmml"><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.2.2" movablelimits="false" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.cmml"><msub id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.cmml"><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.1" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="S3.Ex2.m1.4.4.1.1.1.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.1.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.3.cmml">exp</mi><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.1.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.5" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.5.cmml">g</mi><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.4" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.4.cmml">â¢</mo><mrow id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.4.cmml"><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msub id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.5" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.6" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.2" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.3" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.7" stretchy="false" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.Ex2.m1.4.4.1.1.1.3" rspace="0.055em" xref="S3.Ex2.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex2.m1.4.4.2" xref="S3.Ex2.m1.4.4.2.cmml">âŸ</mo></munder><mtext id="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.2a.cmml">higher weight when reward deviates from preference</mtext></munder><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.2" rspace="0.222em" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.2.cmml">â‹…</mo><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.2.cmml"><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.2" maxsize="210%" minsize="210%" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.cmml"><msub id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.cmml"><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.2" rspace="0.167em" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.2.cmml">âˆ‡</mo><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.3.cmml">Î¸</mi></msub><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">log</mi><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.1" lspace="0.170em" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml">â¢</mo><msub id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.2.cmml">Ï€</mi><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml">âˆ’</mo><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.cmml"><munder id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1a" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.cmml"><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.2" movablelimits="false" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.2.cmml">âˆ‘</mo><mrow id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.cmml"><msub id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.cmml"><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.2.cmml">e</mi><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.3.cmml">d</mi></msub><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.1" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.1.cmml">âˆˆ</mo><msub id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.2" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.2.cmml">â„°</mi><mi id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.3" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mstyle displaystyle="true" id="S3.Ex2.m1.6.6" xref="S3.Ex2.m1.6.6.cmml"><mfrac id="S3.Ex2.m1.6.6a" xref="S3.Ex2.m1.6.6.cmml"><mrow id="S3.Ex2.m1.5.5.1" xref="S3.Ex2.m1.5.5.1.cmml"><mrow id="S3.Ex2.m1.5.5.1.3" xref="S3.Ex2.m1.5.5.1.3.cmml"><msub id="S3.Ex2.m1.5.5.1.3.1" xref="S3.Ex2.m1.5.5.1.3.1.cmml"><mo id="S3.Ex2.m1.5.5.1.3.1.2" xref="S3.Ex2.m1.5.5.1.3.1.2.cmml">âˆ‡</mo><mi id="S3.Ex2.m1.5.5.1.3.1.3" xref="S3.Ex2.m1.5.5.1.3.1.3.cmml">Î¸</mi></msub><mrow id="S3.Ex2.m1.5.5.1.3.2" xref="S3.Ex2.m1.5.5.1.3.2.cmml"><mi id="S3.Ex2.m1.5.5.1.3.2.2" xref="S3.Ex2.m1.5.5.1.3.2.2.cmml">log</mi><mo id="S3.Ex2.m1.5.5.1.3.2.1" lspace="0.170em" xref="S3.Ex2.m1.5.5.1.3.2.1.cmml">â¢</mo><msub id="S3.Ex2.m1.5.5.1.3.2.3" xref="S3.Ex2.m1.5.5.1.3.2.3.cmml"><mi id="S3.Ex2.m1.5.5.1.3.2.3.2" xref="S3.Ex2.m1.5.5.1.3.2.3.2.cmml">Ï€</mi><mi id="S3.Ex2.m1.5.5.1.3.2.3.3" xref="S3.Ex2.m1.5.5.1.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="S3.Ex2.m1.5.5.1.2" xref="S3.Ex2.m1.5.5.1.2.cmml">â¢</mo><mrow id="S3.Ex2.m1.5.5.1.1.1" xref="S3.Ex2.m1.5.5.1.1.1.1.cmml"><mo id="S3.Ex2.m1.5.5.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S3.Ex2.m1.5.5.1.1.1.1" xref="S3.Ex2.m1.5.5.1.1.1.1.cmml"><msub id="S3.Ex2.m1.5.5.1.1.1.1.2" xref="S3.Ex2.m1.5.5.1.1.1.1.2.cmml"><mi id="S3.Ex2.m1.5.5.1.1.1.1.2.2" xref="S3.Ex2.m1.5.5.1.1.1.1.2.2.cmml">e</mi><mi id="S3.Ex2.m1.5.5.1.1.1.1.2.3" xref="S3.Ex2.m1.5.5.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="S3.Ex2.m1.5.5.1.1.1.1.1" xref="S3.Ex2.m1.5.5.1.1.1.1.1.cmml">|</mo><msub id="S3.Ex2.m1.5.5.1.1.1.1.3" xref="S3.Ex2.m1.5.5.1.1.1.1.3.cmml"><mi id="S3.Ex2.m1.5.5.1.1.1.1.3.2" xref="S3.Ex2.m1.5.5.1.1.1.1.3.2.cmml">x</mi><mi id="S3.Ex2.m1.5.5.1.1.1.1.3.3" xref="S3.Ex2.m1.5.5.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.Ex2.m1.5.5.1.1.1.3" stretchy="false" xref="S3.Ex2.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><munder id="S3.Ex2.m1.6.6.2" xref="S3.Ex2.m1.6.6.2.cmml"><munder accentunder="true" id="S3.Ex2.m1.6.6.2.1" xref="S3.Ex2.m1.6.6.2.1.cmml"><mrow id="S3.Ex2.m1.6.6.2.1.1" xref="S3.Ex2.m1.6.6.2.1.1.cmml"><msub id="S3.Ex2.m1.6.6.2.1.1.2" xref="S3.Ex2.m1.6.6.2.1.1.2.cmml"><mo id="S3.Ex2.m1.6.6.2.1.1.2.2" movablelimits="false" xref="S3.Ex2.m1.6.6.2.1.1.2.2.cmml">âˆ‘</mo><mrow id="S3.Ex2.m1.6.6.2.1.1.2.3" xref="S3.Ex2.m1.6.6.2.1.1.2.3.cmml"><msubsup id="S3.Ex2.m1.6.6.2.1.1.2.3.2" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2.cmml"><mi id="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.2" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.2.cmml">e</mi><mi id="S3.Ex2.m1.6.6.2.1.1.2.3.2.3" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2.3.cmml">d</mi><mo id="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.3" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.3.cmml">â€²</mo></msubsup><mo id="S3.Ex2.m1.6.6.2.1.1.2.3.1" xref="S3.Ex2.m1.6.6.2.1.1.2.3.1.cmml">âˆˆ</mo><msub id="S3.Ex2.m1.6.6.2.1.1.2.3.3" xref="S3.Ex2.m1.6.6.2.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.6.6.2.1.1.2.3.3.2" xref="S3.Ex2.m1.6.6.2.1.1.2.3.3.2.cmml">â„°</mi><mi id="S3.Ex2.m1.6.6.2.1.1.2.3.3.3" xref="S3.Ex2.m1.6.6.2.1.1.2.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="S3.Ex2.m1.6.6.2.1.1.1" xref="S3.Ex2.m1.6.6.2.1.1.1.cmml"><mi id="S3.Ex2.m1.6.6.2.1.1.1.3" xref="S3.Ex2.m1.6.6.2.1.1.1.3.cmml">exp</mi><mo id="S3.Ex2.m1.6.6.2.1.1.1.2" xref="S3.Ex2.m1.6.6.2.1.1.1.2.cmml">â¢</mo><mrow id="S3.Ex2.m1.6.6.2.1.1.1.1.1" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.cmml"><mo id="S3.Ex2.m1.6.6.2.1.1.1.1.1.2" stretchy="false" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.5" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.5.cmml">g</mi><mo id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.4" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.4.cmml">â¢</mo><mrow id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.4.cmml"><mo id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.4" stretchy="false" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.4.cmml">(</mo><msubsup id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.2" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.3.cmml">d</mi><mo id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.3" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.3.cmml">â€²</mo></msubsup><mo id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.5" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.2" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.3" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.3.cmml">d</mi></msub><mo id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.6" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.2" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.3" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.7" stretchy="false" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="S3.Ex2.m1.6.6.2.1.1.1.1.1.3" stretchy="false" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.Ex2.m1.6.6.2.1.2" xref="S3.Ex2.m1.6.6.2.1.2.cmml">âŸ</mo></munder><mtext id="S3.Ex2.m1.6.6.2.3" xref="S3.Ex2.m1.6.6.2.3a.cmml">higher weight when reward is larger</mtext></munder></mfrac></mstyle></mrow></mrow><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.3" maxsize="210%" minsize="210%" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.Ex2.m1.7.7.1.1.1.1.1.3" maxsize="210%" minsize="210%" xref="S3.Ex2.m1.7.7.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><mo id="S3.Ex2.m1.7.7.1.2" xref="S3.Ex2.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.7b"><apply id="S3.Ex2.m1.7.7.1.1.cmml" xref="S3.Ex2.m1.7.7.1"><minus id="S3.Ex2.m1.7.7.1.1.2.cmml" xref="S3.Ex2.m1.7.7.1"></minus><apply id="S3.Ex2.m1.7.7.1.1.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1"><times id="S3.Ex2.m1.7.7.1.1.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.2"></times><ci id="S3.Ex2.m1.7.7.1.1.1.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.3">ğ›½</ci><apply id="S3.Ex2.m1.7.7.1.1.1.4.cmml" xref="S3.Ex2.m1.7.7.1.1.1.4"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.4.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.4">subscript</csymbol><ci id="S3.Ex2.m1.7.7.1.1.1.4.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.4.2">ğ”¼</ci><vector id="S3.Ex2.m1.3.3.3.4.cmml" xref="S3.Ex2.m1.3.3.3.3"><apply id="S3.Ex2.m1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex2.m1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.Ex2.m1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.Ex2.m1.2.2.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.2.2.2.2.2.1.cmml" xref="S3.Ex2.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.Ex2.m1.2.2.2.2.2.2.cmml" xref="S3.Ex2.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.2.2.2.2.2.3.cmml" xref="S3.Ex2.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="S3.Ex2.m1.3.3.3.3.3.cmml" xref="S3.Ex2.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.3.3.3.3.3.1.cmml" xref="S3.Ex2.m1.3.3.3.3.3">subscript</csymbol><ci id="S3.Ex2.m1.3.3.3.3.3.2.cmml" xref="S3.Ex2.m1.3.3.3.3.3.2">â„°</ci><ci id="S3.Ex2.m1.3.3.3.3.3.3.cmml" xref="S3.Ex2.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="S3.Ex2.m1.7.7.1.1.1.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex2.m1.7.7.1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1"><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.2">â‹…</ci><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.Ex2.m1.4.4.cmml" xref="S3.Ex2.m1.4.4"><ci id="S3.Ex2.m1.4.4.2.cmml" xref="S3.Ex2.m1.4.4.2">âŸ</ci><apply id="S3.Ex2.m1.4.4.1.cmml" xref="S3.Ex2.m1.4.4.1"><times id="S3.Ex2.m1.4.4.1.2.cmml" xref="S3.Ex2.m1.4.4.1.2"></times><ci id="S3.Ex2.m1.4.4.1.3.cmml" xref="S3.Ex2.m1.4.4.1.3">ğœ</ci><apply id="S3.Ex2.m1.4.4.1.1.1.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1"><times id="S3.Ex2.m1.4.4.1.1.1.1.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.2"></times><ci id="S3.Ex2.m1.4.4.1.1.1.1.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.3">log</ci><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1"><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.1.1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2">subscript</csymbol><sum id="S3.Ex2.m1.4.4.1.1.1.1.1.2.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.2"></sum><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3"><in id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.1"></in><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1"><times id="S3.Ex2.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.2"></times><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.3">exp</ci><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1"><times id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.4.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.4"></times><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.5.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.5">ğ‘”</ci><vector id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3"><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.2.2.2.3">ğ‘</ci></apply><apply id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.Ex2.m1.4.4.1.1.1.1.1.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply></apply></apply></apply><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.2a.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.2"><mtext id="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.3.2">higher weight when reward deviates from preference</mtext></ci></apply><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1"><minus id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.2"></minus><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1"><times id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3"><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1">subscript</csymbol><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.2">âˆ‡</ci><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.1.3">ğœƒ</ci></apply><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2"><times id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.1"></times><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.2">log</ci><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.2">ğœ‹</ci><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3"><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1">subscript</csymbol><sum id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.2"></sum><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3"><in id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.1"></in><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2">subscript</csymbol><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.2.3">ğ‘‘</ci></apply><apply id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.1.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3">subscript</csymbol><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.2.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.2">â„°</ci><ci id="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.3.cmml" xref="S3.Ex2.m1.7.7.1.1.1.1.1.1.1.1.1.3.1.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="S3.Ex2.m1.6.6.cmml" xref="S3.Ex2.m1.6.6"><divide id="S3.Ex2.m1.6.6.3.cmml" xref="S3.Ex2.m1.6.6"></divide><apply id="S3.Ex2.m1.5.5.1.cmml" xref="S3.Ex2.m1.5.5.1"><times id="S3.Ex2.m1.5.5.1.2.cmml" xref="S3.Ex2.m1.5.5.1.2"></times><apply id="S3.Ex2.m1.5.5.1.3.cmml" xref="S3.Ex2.m1.5.5.1.3"><apply id="S3.Ex2.m1.5.5.1.3.1.cmml" xref="S3.Ex2.m1.5.5.1.3.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.3.1.1.cmml" xref="S3.Ex2.m1.5.5.1.3.1">subscript</csymbol><ci id="S3.Ex2.m1.5.5.1.3.1.2.cmml" xref="S3.Ex2.m1.5.5.1.3.1.2">âˆ‡</ci><ci id="S3.Ex2.m1.5.5.1.3.1.3.cmml" xref="S3.Ex2.m1.5.5.1.3.1.3">ğœƒ</ci></apply><apply id="S3.Ex2.m1.5.5.1.3.2.cmml" xref="S3.Ex2.m1.5.5.1.3.2"><times id="S3.Ex2.m1.5.5.1.3.2.1.cmml" xref="S3.Ex2.m1.5.5.1.3.2.1"></times><ci id="S3.Ex2.m1.5.5.1.3.2.2.cmml" xref="S3.Ex2.m1.5.5.1.3.2.2">log</ci><apply id="S3.Ex2.m1.5.5.1.3.2.3.cmml" xref="S3.Ex2.m1.5.5.1.3.2.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.3.2.3.1.cmml" xref="S3.Ex2.m1.5.5.1.3.2.3">subscript</csymbol><ci id="S3.Ex2.m1.5.5.1.3.2.3.2.cmml" xref="S3.Ex2.m1.5.5.1.3.2.3.2">ğœ‹</ci><ci id="S3.Ex2.m1.5.5.1.3.2.3.3.cmml" xref="S3.Ex2.m1.5.5.1.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="S3.Ex2.m1.5.5.1.1.1.1.cmml" xref="S3.Ex2.m1.5.5.1.1.1"><csymbol cd="latexml" id="S3.Ex2.m1.5.5.1.1.1.1.1.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.1">conditional</csymbol><apply id="S3.Ex2.m1.5.5.1.1.1.1.2.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.2">subscript</csymbol><ci id="S3.Ex2.m1.5.5.1.1.1.1.2.2.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.5.5.1.1.1.1.2.3.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="S3.Ex2.m1.5.5.1.1.1.1.3.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.5.5.1.1.1.1.3.1.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex2.m1.5.5.1.1.1.1.3.2.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.Ex2.m1.5.5.1.1.1.1.3.3.cmml" xref="S3.Ex2.m1.5.5.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.Ex2.m1.6.6.2.cmml" xref="S3.Ex2.m1.6.6.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.2.cmml" xref="S3.Ex2.m1.6.6.2">subscript</csymbol><apply id="S3.Ex2.m1.6.6.2.1.cmml" xref="S3.Ex2.m1.6.6.2.1"><ci id="S3.Ex2.m1.6.6.2.1.2.cmml" xref="S3.Ex2.m1.6.6.2.1.2">âŸ</ci><apply id="S3.Ex2.m1.6.6.2.1.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1"><apply id="S3.Ex2.m1.6.6.2.1.1.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.1.1.2.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2">subscript</csymbol><sum id="S3.Ex2.m1.6.6.2.1.1.2.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.2"></sum><apply id="S3.Ex2.m1.6.6.2.1.1.2.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3"><in id="S3.Ex2.m1.6.6.2.1.1.2.3.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.1"></in><apply id="S3.Ex2.m1.6.6.2.1.1.2.3.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.1.1.2.3.2.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2">subscript</csymbol><apply id="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2">superscript</csymbol><ci id="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2.2.3">â€²</ci></apply><ci id="S3.Ex2.m1.6.6.2.1.1.2.3.2.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.Ex2.m1.6.6.2.1.1.2.3.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.1.1.2.3.3.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.3">subscript</csymbol><ci id="S3.Ex2.m1.6.6.2.1.1.2.3.3.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.3.2">â„°</ci><ci id="S3.Ex2.m1.6.6.2.1.1.2.3.3.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="S3.Ex2.m1.6.6.2.1.1.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1"><times id="S3.Ex2.m1.6.6.2.1.1.1.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.2"></times><ci id="S3.Ex2.m1.6.6.2.1.1.1.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.3">exp</ci><apply id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1"><times id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.4.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.4"></times><ci id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.5.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.5">ğ‘”</ci><vector id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.4.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3"><apply id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.2.3">â€²</ci></apply><ci id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.2.2.2.3">ğ‘‘</ci></apply><apply id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.Ex2.m1.6.6.2.1.1.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply></apply><ci id="S3.Ex2.m1.6.6.2.3a.cmml" xref="S3.Ex2.m1.6.6.2.3"><mtext id="S3.Ex2.m1.6.6.2.3.cmml" mathsize="70%" xref="S3.Ex2.m1.6.6.2.3">higher weight when reward is larger</mtext></ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.7c">\displaystyle-\beta\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\bigg{[}%
\underbrace{\sigma\left({\rm log}\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e_{%
d},e_{p},x_{u}))\right)}_{\text{higher weight when reward deviates from %
preference}}\cdot\bigg{[}\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{p}|x_{u})%
-\sum_{e_{d}\in\mathcal{E}_{d}}\frac{\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(%
e_{d}|x_{u})}{\underbrace{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e%
^{\prime}_{d},e_{d},x_{u}))}_{\text{higher weight when reward is larger}}}%
\bigg{]}\bigg{]},</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.7d">- italic_Î² blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ underâŸ start_ARG italic_Ïƒ ( roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_g ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) ) end_ARG start_POSTSUBSCRIPT higher weight when reward deviates from preference end_POSTSUBSCRIPT â‹… [ âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) - âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT divide start_ARG âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG underâŸ start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_g ( italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) end_ARG start_POSTSUBSCRIPT higher weight when reward is larger end_POSTSUBSCRIPT end_ARG ] ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.SSS0.Px3.p1.5">wherein <math alttext="g(e_{j},e_{k},x_{u})=r_{\theta}(x_{u},e_{j})-r_{\theta}(x_{u},e_{k})" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p1.3.m1.7"><semantics id="S3.SS1.SSS0.Px3.p1.3.m1.7a"><mrow id="S3.SS1.SSS0.Px3.p1.3.m1.7.7" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.cmml"><mrow id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.5" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.5.cmml">g</mi><mo id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.4" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.4.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.4.cmml"><mo id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.4" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.4.cmml">(</mo><msub id="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.5" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.6" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.7" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.4.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.8" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.8.cmml">=</mo><mrow id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.cmml"><mrow id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.cmml"><msub id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.2.cmml">r</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.3.cmml">Î¸</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.3.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.3.cmml"><mo id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.3.cmml">(</mo><msub id="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1" xref="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.4" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.3.cmml">j</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.5" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.5" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.5.cmml">âˆ’</mo><mrow id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.cmml"><msub id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.2.cmml">r</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.3.cmml">Î¸</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.3.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.3.cmml"><mo id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.3.cmml">(</mo><msub id="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1" xref="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.4" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.2" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.3" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.3.cmml">k</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.5" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.3.m1.7b"><apply id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7"><eq id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.8.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.8"></eq><apply id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3"><times id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.4.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.4"></times><ci id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.5.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.5">ğ‘”</ci><vector id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.4.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3"><apply id="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.1.1.1.1.1.1.3">ğ‘—</ci></apply><apply id="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.2.2.2.2.2.2.3">ğ‘˜</ci></apply><apply id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.3.3.3.3.3.3.3">ğ‘¢</ci></apply></vector></apply><apply id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7"><minus id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.5.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.5"></minus><apply id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2"><times id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.3"></times><apply id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.2">ğ‘Ÿ</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.4.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2"><apply id="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.4.4.4.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.5.5.5.2.2.2.2.3">ğ‘—</ci></apply></interval></apply><apply id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4"><times id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.3"></times><apply id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.2">ğ‘Ÿ</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.4.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2"><apply id="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.6.6.6.3.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p1.3.m1.7.7.7.4.2.2.2.3">ğ‘˜</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.3.m1.7c">g(e_{j},e_{k},x_{u})=r_{\theta}(x_{u},e_{j})-r_{\theta}(x_{u},e_{k})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p1.3.m1.7d">italic_g ( italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) - italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> and similar to DPO, <math alttext="r_{\theta}(x_{u},e)=\beta{\rm log}\,\frac{\pi_{\theta}(e|x_{u})}{\pi_{\rm ref}%
(e|x_{u})}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p1.4.m2.4"><semantics id="S3.SS1.SSS0.Px3.p1.4.m2.4a"><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.4.4" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.cmml"><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.cmml"><msub id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.2.cmml">r</mi><mi id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.3.cmml">Î¸</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.2.cmml"><mo id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.2.cmml">(</mo><msub id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.2.cmml">,</mo><mi id="S3.SS1.SSS0.Px3.p1.4.m2.3.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.3.3.cmml">e</mi><mo id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.4" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.2.cmml">=</mo><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.2.cmml">Î²</mi><mo id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.1.cmml">â¢</mo><mi id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.3.cmml">log</mi><mo id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.1a" lspace="0.170em" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.1.cmml">â¢</mo><mfrac id="S3.SS1.SSS0.Px3.p1.4.m2.2.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.cmml"><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.cmml"><msub id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.2.cmml">Ï€</mi><mi id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.3.cmml">Î¸</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.2.cmml">e</mi><mo fence="false" id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.cmml"><msub id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.2.cmml">Ï€</mi><mi id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.3.cmml">ref</mi></msub><mo id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.2.cmml">e</mi><mo fence="false" id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.1" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.1.cmml">|</mo><msub id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.cmml"><mi id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.2" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.3" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.4.m2.4b"><apply id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4"><eq id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.2"></eq><apply id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1"><times id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.2"></times><apply id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.2">ğ‘Ÿ</ci><ci id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.3.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1"><apply id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.1.1.1.1.3">ğ‘¢</ci></apply><ci id="S3.SS1.SSS0.Px3.p1.4.m2.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.3.3">ğ‘’</ci></interval></apply><apply id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3"><times id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.1"></times><ci id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.2">ğ›½</ci><ci id="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.4.4.3.3">log</ci><apply id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2"><divide id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2"></divide><apply id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1"><times id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.2"></times><apply id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.2">ğœ‹</ci><ci id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.3.3">ğœƒ</ci></apply><apply id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.2">ğ‘’</ci><apply id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2"><times id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.2"></times><apply id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.2">ğœ‹</ci><ci id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.3.3">ref</ci></apply><apply id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1"><csymbol cd="latexml" id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.1">conditional</csymbol><ci id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.2">ğ‘’</ci><apply id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.1.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.2.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p1.4.m2.2.2.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.4.m2.4c">r_{\theta}(x_{u},e)=\beta{\rm log}\,\frac{\pi_{\theta}(e|x_{u})}{\pi_{\rm ref}%
(e|x_{u})}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p1.4.m2.4d">italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e ) = italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math> is the implicit reward function defined by <math alttext="\pi_{\theta}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p1.5.m3.1"><semantics id="S3.SS1.SSS0.Px3.p1.5.m3.1a"><msub id="S3.SS1.SSS0.Px3.p1.5.m3.1.1" xref="S3.SS1.SSS0.Px3.p1.5.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p1.5.m3.1.1.2" xref="S3.SS1.SSS0.Px3.p1.5.m3.1.1.2.cmml">Ï€</mi><mi id="S3.SS1.SSS0.Px3.p1.5.m3.1.1.3" xref="S3.SS1.SSS0.Px3.p1.5.m3.1.1.3.cmml">Î¸</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p1.5.m3.1b"><apply id="S3.SS1.SSS0.Px3.p1.5.m3.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.5.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p1.5.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p1.5.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p1.5.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p1.5.m3.1.1.2">ğœ‹</ci><ci id="S3.SS1.SSS0.Px3.p1.5.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p1.5.m3.1.1.3">ğœƒ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p1.5.m3.1c">\pi_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p1.5.m3.1d">italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT</annotation></semantics></math>. See Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A1.SS3" title="A.3 Deriving the Gradient of S-DPO Loss â€£ Appendix A Mathematical Derivations â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">A.3</span></a> for a complete derivation.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS0.Px3.p2">
<p class="ltx_p" id="S3.SS1.SSS0.Px3.p2.1">Recap the DPO gradient below:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx13">
<tbody id="S3.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\nabla_{\theta}\mathcal{L}_{\rm DPO}(\pi_{\theta};\pi_{\rm ref})=%
-\beta\mathbb{E}_{(x_{u},e_{p},e_{d})}\bigg{[}\underbrace{\sigma(g(e_{d},e_{p}%
,x_{u}))}_{\text{higher weight when reward is wrong}}\cdot\left[\nabla_{\theta%
}\,{\rm log}\pi_{\theta}(e_{p}|x_{u})-\nabla_{\theta}\,{\rm log}\pi_{\theta}(e%
_{d}|x_{u})\right]\bigg{]}." class="ltx_Math" display="inline" id="S3.Ex3.m1.5"><semantics id="S3.Ex3.m1.5a"><mrow id="S3.Ex3.m1.5.5.1" xref="S3.Ex3.m1.5.5.1.1.cmml"><mrow id="S3.Ex3.m1.5.5.1.1" xref="S3.Ex3.m1.5.5.1.1.cmml"><mrow id="S3.Ex3.m1.5.5.1.1.2" xref="S3.Ex3.m1.5.5.1.1.2.cmml"><mrow id="S3.Ex3.m1.5.5.1.1.2.4" xref="S3.Ex3.m1.5.5.1.1.2.4.cmml"><msub id="S3.Ex3.m1.5.5.1.1.2.4.1" xref="S3.Ex3.m1.5.5.1.1.2.4.1.cmml"><mo id="S3.Ex3.m1.5.5.1.1.2.4.1.2" xref="S3.Ex3.m1.5.5.1.1.2.4.1.2.cmml">âˆ‡</mo><mi id="S3.Ex3.m1.5.5.1.1.2.4.1.3" xref="S3.Ex3.m1.5.5.1.1.2.4.1.3.cmml">Î¸</mi></msub><msub id="S3.Ex3.m1.5.5.1.1.2.4.2" xref="S3.Ex3.m1.5.5.1.1.2.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex3.m1.5.5.1.1.2.4.2.2" xref="S3.Ex3.m1.5.5.1.1.2.4.2.2.cmml">â„’</mi><mi id="S3.Ex3.m1.5.5.1.1.2.4.2.3" xref="S3.Ex3.m1.5.5.1.1.2.4.2.3.cmml">DPO</mi></msub></mrow><mo id="S3.Ex3.m1.5.5.1.1.2.3" xref="S3.Ex3.m1.5.5.1.1.2.3.cmml">â¢</mo><mrow id="S3.Ex3.m1.5.5.1.1.2.2.2" xref="S3.Ex3.m1.5.5.1.1.2.2.3.cmml"><mo id="S3.Ex3.m1.5.5.1.1.2.2.2.3" stretchy="false" xref="S3.Ex3.m1.5.5.1.1.2.2.3.cmml">(</mo><msub id="S3.Ex3.m1.5.5.1.1.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.1.1.1.1.cmml"><mi id="S3.Ex3.m1.5.5.1.1.1.1.1.1.2" xref="S3.Ex3.m1.5.5.1.1.1.1.1.1.2.cmml">Ï€</mi><mi id="S3.Ex3.m1.5.5.1.1.1.1.1.1.3" xref="S3.Ex3.m1.5.5.1.1.1.1.1.1.3.cmml">Î¸</mi></msub><mo id="S3.Ex3.m1.5.5.1.1.2.2.2.4" xref="S3.Ex3.m1.5.5.1.1.2.2.3.cmml">;</mo><msub id="S3.Ex3.m1.5.5.1.1.2.2.2.2" xref="S3.Ex3.m1.5.5.1.1.2.2.2.2.cmml"><mi id="S3.Ex3.m1.5.5.1.1.2.2.2.2.2" xref="S3.Ex3.m1.5.5.1.1.2.2.2.2.2.cmml">Ï€</mi><mi id="S3.Ex3.m1.5.5.1.1.2.2.2.2.3" xref="S3.Ex3.m1.5.5.1.1.2.2.2.2.3.cmml">ref</mi></msub><mo id="S3.Ex3.m1.5.5.1.1.2.2.2.5" stretchy="false" xref="S3.Ex3.m1.5.5.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.Ex3.m1.5.5.1.1.4" xref="S3.Ex3.m1.5.5.1.1.4.cmml">=</mo><mrow id="S3.Ex3.m1.5.5.1.1.3" xref="S3.Ex3.m1.5.5.1.1.3.cmml"><mo id="S3.Ex3.m1.5.5.1.1.3a" xref="S3.Ex3.m1.5.5.1.1.3.cmml">âˆ’</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1" xref="S3.Ex3.m1.5.5.1.1.3.1.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.3.cmml">Î²</mi><mo id="S3.Ex3.m1.5.5.1.1.3.1.2" xref="S3.Ex3.m1.5.5.1.1.3.1.2.cmml">â¢</mo><msub id="S3.Ex3.m1.5.5.1.1.3.1.4" xref="S3.Ex3.m1.5.5.1.1.3.1.4.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.4.2" xref="S3.Ex3.m1.5.5.1.1.3.1.4.2.cmml">ğ”¼</mi><mrow id="S3.Ex3.m1.3.3.3.3" xref="S3.Ex3.m1.3.3.3.4.cmml"><mo id="S3.Ex3.m1.3.3.3.3.4" stretchy="false" xref="S3.Ex3.m1.3.3.3.4.cmml">(</mo><msub id="S3.Ex3.m1.1.1.1.1.1" xref="S3.Ex3.m1.1.1.1.1.1.cmml"><mi id="S3.Ex3.m1.1.1.1.1.1.2" xref="S3.Ex3.m1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.Ex3.m1.1.1.1.1.1.3" xref="S3.Ex3.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.Ex3.m1.3.3.3.3.5" xref="S3.Ex3.m1.3.3.3.4.cmml">,</mo><msub id="S3.Ex3.m1.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.cmml"><mi id="S3.Ex3.m1.2.2.2.2.2.2" xref="S3.Ex3.m1.2.2.2.2.2.2.cmml">e</mi><mi id="S3.Ex3.m1.2.2.2.2.2.3" xref="S3.Ex3.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="S3.Ex3.m1.3.3.3.3.6" xref="S3.Ex3.m1.3.3.3.4.cmml">,</mo><msub id="S3.Ex3.m1.3.3.3.3.3" xref="S3.Ex3.m1.3.3.3.3.3.cmml"><mi id="S3.Ex3.m1.3.3.3.3.3.2" xref="S3.Ex3.m1.3.3.3.3.3.2.cmml">e</mi><mi id="S3.Ex3.m1.3.3.3.3.3.3" xref="S3.Ex3.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="S3.Ex3.m1.3.3.3.3.7" stretchy="false" xref="S3.Ex3.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="S3.Ex3.m1.5.5.1.1.3.1.2a" xref="S3.Ex3.m1.5.5.1.1.3.1.2.cmml">â¢</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.2.cmml"><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.2" maxsize="210%" minsize="210%" xref="S3.Ex3.m1.5.5.1.1.3.1.1.2.1.cmml">[</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.cmml"><munder id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.cmml"><munder accentunder="true" id="S3.Ex3.m1.4.4" xref="S3.Ex3.m1.4.4.cmml"><mrow id="S3.Ex3.m1.4.4.1" xref="S3.Ex3.m1.4.4.1.cmml"><mi id="S3.Ex3.m1.4.4.1.3" xref="S3.Ex3.m1.4.4.1.3.cmml">Ïƒ</mi><mo id="S3.Ex3.m1.4.4.1.2" xref="S3.Ex3.m1.4.4.1.2.cmml">â¢</mo><mrow id="S3.Ex3.m1.4.4.1.1.1" xref="S3.Ex3.m1.4.4.1.1.1.1.cmml"><mo id="S3.Ex3.m1.4.4.1.1.1.2" stretchy="false" xref="S3.Ex3.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.4.4.1.1.1.1" xref="S3.Ex3.m1.4.4.1.1.1.1.cmml"><mi id="S3.Ex3.m1.4.4.1.1.1.1.5" xref="S3.Ex3.m1.4.4.1.1.1.1.5.cmml">g</mi><mo id="S3.Ex3.m1.4.4.1.1.1.1.4" xref="S3.Ex3.m1.4.4.1.1.1.1.4.cmml">â¢</mo><mrow id="S3.Ex3.m1.4.4.1.1.1.1.3.3" xref="S3.Ex3.m1.4.4.1.1.1.1.3.4.cmml"><mo id="S3.Ex3.m1.4.4.1.1.1.1.3.3.4" stretchy="false" xref="S3.Ex3.m1.4.4.1.1.1.1.3.4.cmml">(</mo><msub id="S3.Ex3.m1.4.4.1.1.1.1.1.1.1" xref="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.cmml"><mi id="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.2" xref="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.3" xref="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="S3.Ex3.m1.4.4.1.1.1.1.3.3.5" xref="S3.Ex3.m1.4.4.1.1.1.1.3.4.cmml">,</mo><msub id="S3.Ex3.m1.4.4.1.1.1.1.2.2.2" xref="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.cmml"><mi id="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.2" xref="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.3" xref="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="S3.Ex3.m1.4.4.1.1.1.1.3.3.6" xref="S3.Ex3.m1.4.4.1.1.1.1.3.4.cmml">,</mo><msub id="S3.Ex3.m1.4.4.1.1.1.1.3.3.3" xref="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.cmml"><mi id="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.2" xref="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.3" xref="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="S3.Ex3.m1.4.4.1.1.1.1.3.3.7" stretchy="false" xref="S3.Ex3.m1.4.4.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="S3.Ex3.m1.4.4.1.1.1.3" rspace="0.055em" stretchy="false" xref="S3.Ex3.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex3.m1.4.4.2" xref="S3.Ex3.m1.4.4.2.cmml">âŸ</mo></munder><mtext id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.2a.cmml">higher weight when reward is wrong</mtext></munder><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.2" rspace="0.222em" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.2.cmml">â‹…</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.2.cmml"><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.cmml"><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.cmml"><msub id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.cmml"><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.2" rspace="0.167em" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.2.cmml">âˆ‡</mo><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.3.cmml">Î¸</mi></msub><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.2.cmml">log</mi><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.1.cmml">â¢</mo><msub id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.2.cmml">Ï€</mi><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.3.cmml">âˆ’</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.cmml"><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.cmml"><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.2" rspace="0.167em" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.2.cmml">âˆ‡</mo><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.3.cmml">Î¸</mi></msub><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.2.cmml">log</mi><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.1.cmml">â¢</mo><msub id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.2.cmml">Ï€</mi><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.2.cmml">â¢</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.cmml"><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.cmml"><msub id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.2.cmml">e</mi><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.1" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.1.cmml">|</mo><msub id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.cmml"><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.2" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.2.cmml">x</mi><mi id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.3" stretchy="false" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.3" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.Ex3.m1.5.5.1.1.3.1.1.1.3" maxsize="210%" minsize="210%" xref="S3.Ex3.m1.5.5.1.1.3.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo id="S3.Ex3.m1.5.5.1.2" lspace="0em" xref="S3.Ex3.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex3.m1.5b"><apply id="S3.Ex3.m1.5.5.1.1.cmml" xref="S3.Ex3.m1.5.5.1"><eq id="S3.Ex3.m1.5.5.1.1.4.cmml" xref="S3.Ex3.m1.5.5.1.1.4"></eq><apply id="S3.Ex3.m1.5.5.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.2"><times id="S3.Ex3.m1.5.5.1.1.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.2.3"></times><apply id="S3.Ex3.m1.5.5.1.1.2.4.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4"><apply id="S3.Ex3.m1.5.5.1.1.2.4.1.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.2.4.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4.1">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.2.4.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4.1.2">âˆ‡</ci><ci id="S3.Ex3.m1.5.5.1.1.2.4.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4.1.3">ğœƒ</ci></apply><apply id="S3.Ex3.m1.5.5.1.1.2.4.2.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.2.4.2.1.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4.2">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.2.4.2.2.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4.2.2">â„’</ci><ci id="S3.Ex3.m1.5.5.1.1.2.4.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.2.4.2.3">DPO</ci></apply></apply><list id="S3.Ex3.m1.5.5.1.1.2.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.2.2.2"><apply id="S3.Ex3.m1.5.5.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.1.1.1.1.2">ğœ‹</ci><ci id="S3.Ex3.m1.5.5.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.1.1.1.1.3">ğœƒ</ci></apply><apply id="S3.Ex3.m1.5.5.1.1.2.2.2.2.cmml" xref="S3.Ex3.m1.5.5.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.2.2.2.2.1.cmml" xref="S3.Ex3.m1.5.5.1.1.2.2.2.2">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.2.2.2.2.2.cmml" xref="S3.Ex3.m1.5.5.1.1.2.2.2.2.2">ğœ‹</ci><ci id="S3.Ex3.m1.5.5.1.1.2.2.2.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.2.2.2.2.3">ref</ci></apply></list></apply><apply id="S3.Ex3.m1.5.5.1.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3"><minus id="S3.Ex3.m1.5.5.1.1.3.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3"></minus><apply id="S3.Ex3.m1.5.5.1.1.3.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1"><times id="S3.Ex3.m1.5.5.1.1.3.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.2"></times><ci id="S3.Ex3.m1.5.5.1.1.3.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.3">ğ›½</ci><apply id="S3.Ex3.m1.5.5.1.1.3.1.4.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.4"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.4.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.4">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.4.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.4.2">ğ”¼</ci><vector id="S3.Ex3.m1.3.3.3.4.cmml" xref="S3.Ex3.m1.3.3.3.3"><apply id="S3.Ex3.m1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.Ex3.m1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.Ex3.m1.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.2.2.2.2.2.1.cmml" xref="S3.Ex3.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.Ex3.m1.2.2.2.2.2.2.cmml" xref="S3.Ex3.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="S3.Ex3.m1.2.2.2.2.2.3.cmml" xref="S3.Ex3.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="S3.Ex3.m1.3.3.3.3.3.cmml" xref="S3.Ex3.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.3.3.3.3.3.1.cmml" xref="S3.Ex3.m1.3.3.3.3.3">subscript</csymbol><ci id="S3.Ex3.m1.3.3.3.3.3.2.cmml" xref="S3.Ex3.m1.3.3.3.3.3.2">ğ‘’</ci><ci id="S3.Ex3.m1.3.3.3.3.3.3.cmml" xref="S3.Ex3.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1"><csymbol cd="latexml" id="S3.Ex3.m1.5.5.1.1.3.1.1.2.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.2">delimited-[]</csymbol><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1"><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.2">â‹…</ci><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3">subscript</csymbol><apply id="S3.Ex3.m1.4.4.cmml" xref="S3.Ex3.m1.4.4"><ci id="S3.Ex3.m1.4.4.2.cmml" xref="S3.Ex3.m1.4.4.2">âŸ</ci><apply id="S3.Ex3.m1.4.4.1.cmml" xref="S3.Ex3.m1.4.4.1"><times id="S3.Ex3.m1.4.4.1.2.cmml" xref="S3.Ex3.m1.4.4.1.2"></times><ci id="S3.Ex3.m1.4.4.1.3.cmml" xref="S3.Ex3.m1.4.4.1.3">ğœ</ci><apply id="S3.Ex3.m1.4.4.1.1.1.1.cmml" xref="S3.Ex3.m1.4.4.1.1.1"><times id="S3.Ex3.m1.4.4.1.1.1.1.4.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.4"></times><ci id="S3.Ex3.m1.4.4.1.1.1.1.5.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.5">ğ‘”</ci><vector id="S3.Ex3.m1.4.4.1.1.1.1.3.4.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.3.3"><apply id="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.1.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.2.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.3.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.2.2.2.3">ğ‘</ci></apply><apply id="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.1.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.2.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.3.cmml" xref="S3.Ex3.m1.4.4.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.2a.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.2"><mtext id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.2.cmml" mathsize="70%" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.3.2">higher weight when reward is wrong</mtext></ci></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.2.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1"><minus id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.3"></minus><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1"><times id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.2"></times><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3"><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.2">âˆ‡</ci><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.1.3">ğœƒ</ci></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2"><times id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.1"></times><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.2">log</ci><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.2">ğœ‹</ci><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2"><times id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.2"></times><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3"><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.2">âˆ‡</ci><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.1.3">ğœƒ</ci></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2"><times id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.1"></times><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.2">log</ci><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.2">ğœ‹</ci><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1"><csymbol cd="latexml" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.1">conditional</csymbol><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.2">ğ‘’</ci><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.1.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3">subscript</csymbol><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.2.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.2">ğ‘¥</ci><ci id="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.3.cmml" xref="S3.Ex3.m1.5.5.1.1.3.1.1.1.1.1.1.1.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex3.m1.5c">\displaystyle\nabla_{\theta}\mathcal{L}_{\rm DPO}(\pi_{\theta};\pi_{\rm ref})=%
-\beta\mathbb{E}_{(x_{u},e_{p},e_{d})}\bigg{[}\underbrace{\sigma(g(e_{d},e_{p}%
,x_{u}))}_{\text{higher weight when reward is wrong}}\cdot\left[\nabla_{\theta%
}\,{\rm log}\pi_{\theta}(e_{p}|x_{u})-\nabla_{\theta}\,{\rm log}\pi_{\theta}(e%
_{d}|x_{u})\right]\bigg{]}.</annotation><annotation encoding="application/x-llamapun" id="S3.Ex3.m1.5d">âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT caligraphic_L start_POSTSUBSCRIPT roman_DPO end_POSTSUBSCRIPT ( italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ; italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ) = - italic_Î² blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ underâŸ start_ARG italic_Ïƒ ( italic_g ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) end_ARG start_POSTSUBSCRIPT higher weight when reward is wrong end_POSTSUBSCRIPT â‹… [ âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) - âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ] ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSS0.Px3.p3">
<p class="ltx_p" id="S3.SS1.SSS0.Px3.p3.1">Similar to DPO, the gradient of S-DPO loss increases the likelihood of the preferred item and decreases the likelihood of all the dispreferred items.
Each example is also weighed by how much the implicit reward <math alttext="r(x_{u},e)" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p3.1.m1.2"><semantics id="S3.SS1.SSS0.Px3.p3.1.m1.2a"><mrow id="S3.SS1.SSS0.Px3.p3.1.m1.2.2" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.cmml"><mi id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.3" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.3.cmml">r</mi><mo id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.2" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.2.cmml"><mo id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.2.cmml">(</mo><msub id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.2" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.3" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.3" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.2.cmml">,</mo><mi id="S3.SS1.SSS0.Px3.p3.1.m1.1.1" xref="S3.SS1.SSS0.Px3.p3.1.m1.1.1.cmml">e</mi><mo id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.4" stretchy="false" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p3.1.m1.2b"><apply id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2"><times id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.2"></times><ci id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.3">ğ‘Ÿ</ci><interval closure="open" id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.2.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1"><apply id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.2.2.1.1.1.3">ğ‘¢</ci></apply><ci id="S3.SS1.SSS0.Px3.p3.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p3.1.m1.1.1">ğ‘’</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p3.1.m1.2c">r(x_{u},e)</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p3.1.m1.2d">italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e )</annotation></semantics></math> deviates from the preference data. However, compared with DPO, S-DPO harnesses information of multiple dispreferred items in this weight.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSS0.Px3.p4">
<p class="ltx_p" id="S3.SS1.SSS0.Px3.p4.3">Moreover, S-DPO contains an extra weight term only assigned to the gradient of dispreferred items.
The term <math alttext="\frac{1}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e^{\prime}_{d},e_{%
d},x_{u}))}=\frac{{\rm exp}(r_{\theta}(x_{u},e_{d}))}{\sum_{e^{\prime}_{d}\in%
\mathcal{E}_{d}}{\rm exp}(r_{\theta}(x_{u},e^{\prime}_{d}))}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p4.1.m1.3"><semantics id="S3.SS1.SSS0.Px3.p4.1.m1.3a"><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.3.4" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.4.cmml"><mfrac id="S3.SS1.SSS0.Px3.p4.1.m1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.cmml"><mn id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.3.cmml">1</mn><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.cmml"><mstyle displaystyle="false" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.cmml"><msub id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2a" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.cmml"><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.cmml"><msubsup id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.3.cmml">d</mi><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.3.cmml">â€²</mo></msubsup><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></msub></mstyle><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.3.cmml">exp</mi><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.5" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.5.cmml">g</mi><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.4" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.4.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.4.cmml"><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msubsup id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">â€²</mo></msubsup><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.5" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.3.cmml">d</mi></msub><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.6" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.7" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.4.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.4.1.cmml">=</mo><mfrac id="S3.SS1.SSS0.Px3.p4.1.m1.3.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.cmml"><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.3.cmml">exp</mi><mo id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.cmml"><msub id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.2.cmml">r</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.3.cmml">Î¸</mi></msub><mo id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.3.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.3.cmml"><mo id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.3.cmml">(</mo><msub id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.4" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.3.cmml">d</mi></msub><mo id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.5" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.cmml"><mstyle displaystyle="false" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.cmml"><msub id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2a" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.cmml"><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.2.cmml">âˆ‘</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.cmml"><msubsup id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.3.cmml">d</mi><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.3.cmml">â€²</mo></msubsup><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.1.cmml">âˆˆ</mo><msub id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.2.cmml">â„°</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.3.cmml">d</mi></msub></mrow></msub></mstyle><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.3.cmml">exp</mi><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.2.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.cmml"><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.2" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.cmml"><msub id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.2.cmml">r</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.3.cmml">Î¸</mi></msub><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.3.cmml">â¢</mo><mrow id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.3.cmml"><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.3.cmml">(</mo><msub id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.4" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.3.cmml">,</mo><msubsup id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.cmml"><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.2" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.2.cmml">e</mi><mi id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.3.cmml">d</mi><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.3" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.3.cmml">â€²</mo></msubsup><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.5" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.3" stretchy="false" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p4.1.m1.3b"><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.4"><eq id="S3.SS1.SSS0.Px3.p4.1.m1.3.4.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.4.1"></eq><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1"><divide id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1"></divide><cn id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.3.cmml" type="integer" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.3">1</cn><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1"><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2">subscript</csymbol><sum id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.2"></sum><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3"><in id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.1"></in><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2">subscript</csymbol><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.2.3">â€²</ci></apply><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.2">â„°</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1"><times id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.2"></times><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.3">exp</ci><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1"><times id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.4.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.4"></times><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.5.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.5">ğ‘”</ci><vector id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.4.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3"><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.2.3">â€²</ci></apply><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.2.2.2.3">ğ‘‘</ci></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.1.1.1.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3"><divide id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3"></divide><apply id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1"><times id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.2"></times><ci id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.3">exp</ci><apply id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1"><times id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.3"></times><apply id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.2">ğ‘Ÿ</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.4.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2"><apply id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.2.2.1.1.1.1.2.2.2.3">ğ‘‘</ci></apply></interval></apply></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2"><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2">subscript</csymbol><sum id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.2"></sum><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3"><in id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.1"></in><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2">subscript</csymbol><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.2.3">â€²</ci></apply><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.2">â„°</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1"><times id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.2"></times><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.3">exp</ci><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1"><times id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.3"></times><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.2">ğ‘Ÿ</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.4.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2"><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2">subscript</csymbol><apply id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.1.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2">superscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.2.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.2">ğ‘’</ci><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.2.3">â€²</ci></apply><ci id="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.3.cmml" xref="S3.SS1.SSS0.Px3.p4.1.m1.3.3.2.1.1.1.1.2.2.2.3">ğ‘‘</ci></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p4.1.m1.3c">\frac{1}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e^{\prime}_{d},e_{%
d},x_{u}))}=\frac{{\rm exp}(r_{\theta}(x_{u},e_{d}))}{\sum_{e^{\prime}_{d}\in%
\mathcal{E}_{d}}{\rm exp}(r_{\theta}(x_{u},e^{\prime}_{d}))}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p4.1.m1.3d">divide start_ARG 1 end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_g ( italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) end_ARG = divide start_ARG roman_exp ( italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) end_ARG</annotation></semantics></math> mirrors the relative reward of item <math alttext="i_{d}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p4.2.m2.1"><semantics id="S3.SS1.SSS0.Px3.p4.2.m2.1a"><msub id="S3.SS1.SSS0.Px3.p4.2.m2.1.1" xref="S3.SS1.SSS0.Px3.p4.2.m2.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.2.m2.1.1.2" xref="S3.SS1.SSS0.Px3.p4.2.m2.1.1.2.cmml">i</mi><mi id="S3.SS1.SSS0.Px3.p4.2.m2.1.1.3" xref="S3.SS1.SSS0.Px3.p4.2.m2.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p4.2.m2.1b"><apply id="S3.SS1.SSS0.Px3.p4.2.m2.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.2.m2.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.2.m2.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.2.m2.1.1.2">ğ‘–</ci><ci id="S3.SS1.SSS0.Px3.p4.2.m2.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.2.m2.1.1.3">ğ‘‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p4.2.m2.1c">i_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p4.2.m2.1d">italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> in dispreferred items.
The larger the reward of item <math alttext="i_{d}" class="ltx_Math" display="inline" id="S3.SS1.SSS0.Px3.p4.3.m3.1"><semantics id="S3.SS1.SSS0.Px3.p4.3.m3.1a"><msub id="S3.SS1.SSS0.Px3.p4.3.m3.1.1" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.cmml"><mi id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.2" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.2.cmml">i</mi><mi id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSS0.Px3.p4.3.m3.1b"><apply id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.1.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.2.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.2">ğ‘–</ci><ci id="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3.cmml" xref="S3.SS1.SSS0.Px3.p4.3.m3.1.1.3">ğ‘‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSS0.Px3.p4.3.m3.1c">i_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSS0.Px3.p4.3.m3.1d">italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> is compared with other dispreferred items, the higher the weight will be.
Therefore, for dispreferred items with larger reward, which can be considered as hard negative items, their likelihood will decline more in the next update.
This mechanism endows S-DPO with more effectiveness and stability than DPO. The gradient of S-DPO also tends to be larger, enabling S-DPO to converge faster .</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Properties of S-DPO</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">In this section, we will discuss the structural correlation between DPO and BPR <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib42" title="">42</a>]</cite>, together with S-DPO and softmax loss <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib38" title="">38</a>]</cite>, which demonstrates the advantage of S-DPO over DPO and language modeling objective.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.3">For user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_u</annotation></semantics></math>, preferred item <math alttext="i_{p}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><msub id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">i</mi><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">p</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">ğ‘–</ci><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">ğ‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">i_{p}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT</annotation></semantics></math> and one dispreferred <math alttext="i_{d}\in\mathcal{I}_{d}" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m3.1"><semantics id="S3.SS2.p2.3.m3.1a"><mrow id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><msub id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2.2" xref="S3.SS2.p2.3.m3.1.1.2.2.cmml">i</mi><mi id="S3.SS2.p2.3.m3.1.1.2.3" xref="S3.SS2.p2.3.m3.1.1.2.3.cmml">d</mi></msub><mo id="S3.SS2.p2.3.m3.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.cmml">âˆˆ</mo><msub id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.3.m3.1.1.3.2" xref="S3.SS2.p2.3.m3.1.1.3.2.cmml">â„</mi><mi id="S3.SS2.p2.3.m3.1.1.3.3" xref="S3.SS2.p2.3.m3.1.1.3.3.cmml">d</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><in id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1"></in><apply id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.2.1.cmml" xref="S3.SS2.p2.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2.2">ğ‘–</ci><ci id="S3.SS2.p2.3.m3.1.1.2.3.cmml" xref="S3.SS2.p2.3.m3.1.1.2.3">ğ‘‘</ci></apply><apply id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.3.1.cmml" xref="S3.SS2.p2.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.3.2.cmml" xref="S3.SS2.p2.3.m3.1.1.3.2">â„</ci><ci id="S3.SS2.p2.3.m3.1.1.3.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3">ğ‘‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">i_{d}\in\mathcal{I}_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m3.1d">italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math>, BPR loss takes the form:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx14">
<tbody id="S3.E12"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\rm BPR}=-\mathbb{E}_{(u,i_{p},i_{d})}\left[{\rm log%
}\,\sigma\left(f(u,i_{p})-f(u,i_{d})\right)\right]," class="ltx_Math" display="inline" id="S3.E12.m1.6"><semantics id="S3.E12.m1.6a"><mrow id="S3.E12.m1.6.6.1" xref="S3.E12.m1.6.6.1.1.cmml"><mrow id="S3.E12.m1.6.6.1.1" xref="S3.E12.m1.6.6.1.1.cmml"><msub id="S3.E12.m1.6.6.1.1.3" xref="S3.E12.m1.6.6.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E12.m1.6.6.1.1.3.2" xref="S3.E12.m1.6.6.1.1.3.2.cmml">â„’</mi><mi id="S3.E12.m1.6.6.1.1.3.3" xref="S3.E12.m1.6.6.1.1.3.3.cmml">BPR</mi></msub><mo id="S3.E12.m1.6.6.1.1.2" xref="S3.E12.m1.6.6.1.1.2.cmml">=</mo><mrow id="S3.E12.m1.6.6.1.1.1" xref="S3.E12.m1.6.6.1.1.1.cmml"><mo id="S3.E12.m1.6.6.1.1.1a" xref="S3.E12.m1.6.6.1.1.1.cmml">âˆ’</mo><mrow id="S3.E12.m1.6.6.1.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.cmml"><msub id="S3.E12.m1.6.6.1.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.3.cmml"><mi id="S3.E12.m1.6.6.1.1.1.1.3.2" xref="S3.E12.m1.6.6.1.1.1.1.3.2.cmml">ğ”¼</mi><mrow id="S3.E12.m1.3.3.3.3" xref="S3.E12.m1.3.3.3.4.cmml"><mo id="S3.E12.m1.3.3.3.3.3" stretchy="false" xref="S3.E12.m1.3.3.3.4.cmml">(</mo><mi id="S3.E12.m1.1.1.1.1" xref="S3.E12.m1.1.1.1.1.cmml">u</mi><mo id="S3.E12.m1.3.3.3.3.4" xref="S3.E12.m1.3.3.3.4.cmml">,</mo><msub id="S3.E12.m1.2.2.2.2.1" xref="S3.E12.m1.2.2.2.2.1.cmml"><mi id="S3.E12.m1.2.2.2.2.1.2" xref="S3.E12.m1.2.2.2.2.1.2.cmml">i</mi><mi id="S3.E12.m1.2.2.2.2.1.3" xref="S3.E12.m1.2.2.2.2.1.3.cmml">p</mi></msub><mo id="S3.E12.m1.3.3.3.3.5" xref="S3.E12.m1.3.3.3.4.cmml">,</mo><msub id="S3.E12.m1.3.3.3.3.2" xref="S3.E12.m1.3.3.3.3.2.cmml"><mi id="S3.E12.m1.3.3.3.3.2.2" xref="S3.E12.m1.3.3.3.3.2.2.cmml">i</mi><mi id="S3.E12.m1.3.3.3.3.2.3" xref="S3.E12.m1.3.3.3.3.2.3.cmml">d</mi></msub><mo id="S3.E12.m1.3.3.3.3.6" stretchy="false" xref="S3.E12.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="S3.E12.m1.6.6.1.1.1.1.2" xref="S3.E12.m1.6.6.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E12.m1.6.6.1.1.1.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.2.cmml"><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.2" xref="S3.E12.m1.6.6.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E12.m1.6.6.1.1.1.1.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.6.6.1.1.1.1.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.2" lspace="0.170em" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.2.cmml">â¢</mo><mi id="S3.E12.m1.6.6.1.1.1.1.1.1.1.4" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.4.cmml">Ïƒ</mi><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.2a" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml">f</mi><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E12.m1.4.4" xref="S3.E12.m1.4.4.cmml">u</mi><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">i</mi><mi id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">p</mi></msub><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.cmml">âˆ’</mo><mrow id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml">f</mi><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2.cmml">â¢</mo><mrow id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml"><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml">(</mo><mi id="S3.E12.m1.5.5" xref="S3.E12.m1.5.5.cmml">u</mi><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml">,</mo><msub id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.cmml"><mi id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.2" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.2.cmml">i</mi><mi id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.3.cmml">d</mi></msub><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.4" stretchy="false" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E12.m1.6.6.1.1.1.1.1.1.3" xref="S3.E12.m1.6.6.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo id="S3.E12.m1.6.6.1.2" xref="S3.E12.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E12.m1.6b"><apply id="S3.E12.m1.6.6.1.1.cmml" xref="S3.E12.m1.6.6.1"><eq id="S3.E12.m1.6.6.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.2"></eq><apply id="S3.E12.m1.6.6.1.1.3.cmml" xref="S3.E12.m1.6.6.1.1.3"><csymbol cd="ambiguous" id="S3.E12.m1.6.6.1.1.3.1.cmml" xref="S3.E12.m1.6.6.1.1.3">subscript</csymbol><ci id="S3.E12.m1.6.6.1.1.3.2.cmml" xref="S3.E12.m1.6.6.1.1.3.2">â„’</ci><ci id="S3.E12.m1.6.6.1.1.3.3.cmml" xref="S3.E12.m1.6.6.1.1.3.3">BPR</ci></apply><apply id="S3.E12.m1.6.6.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1"><minus id="S3.E12.m1.6.6.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1"></minus><apply id="S3.E12.m1.6.6.1.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1"><times id="S3.E12.m1.6.6.1.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.2"></times><apply id="S3.E12.m1.6.6.1.1.1.1.3.cmml" xref="S3.E12.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E12.m1.6.6.1.1.1.1.3.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.3">subscript</csymbol><ci id="S3.E12.m1.6.6.1.1.1.1.3.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.3.2">ğ”¼</ci><vector id="S3.E12.m1.3.3.3.4.cmml" xref="S3.E12.m1.3.3.3.3"><ci id="S3.E12.m1.1.1.1.1.cmml" xref="S3.E12.m1.1.1.1.1">ğ‘¢</ci><apply id="S3.E12.m1.2.2.2.2.1.cmml" xref="S3.E12.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E12.m1.2.2.2.2.1.1.cmml" xref="S3.E12.m1.2.2.2.2.1">subscript</csymbol><ci id="S3.E12.m1.2.2.2.2.1.2.cmml" xref="S3.E12.m1.2.2.2.2.1.2">ğ‘–</ci><ci id="S3.E12.m1.2.2.2.2.1.3.cmml" xref="S3.E12.m1.2.2.2.2.1.3">ğ‘</ci></apply><apply id="S3.E12.m1.3.3.3.3.2.cmml" xref="S3.E12.m1.3.3.3.3.2"><csymbol cd="ambiguous" id="S3.E12.m1.3.3.3.3.2.1.cmml" xref="S3.E12.m1.3.3.3.3.2">subscript</csymbol><ci id="S3.E12.m1.3.3.3.3.2.2.cmml" xref="S3.E12.m1.3.3.3.3.2.2">ğ‘–</ci><ci id="S3.E12.m1.3.3.3.3.2.3.cmml" xref="S3.E12.m1.3.3.3.3.2.3">ğ‘‘</ci></apply></vector></apply><apply id="S3.E12.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E12.m1.6.6.1.1.1.1.1.2.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E12.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1"><times id="S3.E12.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.2"></times><ci id="S3.E12.m1.6.6.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.3">log</ci><ci id="S3.E12.m1.6.6.1.1.1.1.1.1.1.4.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.4">ğœ</ci><apply id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1"><minus id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.3"></minus><apply id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘“</ci><interval closure="open" id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="S3.E12.m1.4.4.cmml" xref="S3.E12.m1.4.4">ğ‘¢</ci><apply id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘–</ci><ci id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘</ci></apply></interval></apply><apply id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2"><times id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2"></times><ci id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3">ğ‘“</ci><interval closure="open" id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1"><ci id="S3.E12.m1.5.5.cmml" xref="S3.E12.m1.5.5">ğ‘¢</ci><apply id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1">subscript</csymbol><ci id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.2.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.2">ğ‘–</ci><ci id="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E12.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.1.1.3">ğ‘‘</ci></apply></interval></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E12.m1.6c">\displaystyle\mathcal{L}_{\rm BPR}=-\mathbb{E}_{(u,i_{p},i_{d})}\left[{\rm log%
}\,\sigma\left(f(u,i_{p})-f(u,i_{d})\right)\right],</annotation><annotation encoding="application/x-llamapun" id="S3.E12.m1.6d">caligraphic_L start_POSTSUBSCRIPT roman_BPR end_POSTSUBSCRIPT = - blackboard_E start_POSTSUBSCRIPT ( italic_u , italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_log italic_Ïƒ ( italic_f ( italic_u , italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) - italic_f ( italic_u , italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) ] ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p2.6">wherein <math alttext="f(u,i)" class="ltx_Math" display="inline" id="S3.SS2.p2.4.m1.2"><semantics id="S3.SS2.p2.4.m1.2a"><mrow id="S3.SS2.p2.4.m1.2.3" xref="S3.SS2.p2.4.m1.2.3.cmml"><mi id="S3.SS2.p2.4.m1.2.3.2" xref="S3.SS2.p2.4.m1.2.3.2.cmml">f</mi><mo id="S3.SS2.p2.4.m1.2.3.1" xref="S3.SS2.p2.4.m1.2.3.1.cmml">â¢</mo><mrow id="S3.SS2.p2.4.m1.2.3.3.2" xref="S3.SS2.p2.4.m1.2.3.3.1.cmml"><mo id="S3.SS2.p2.4.m1.2.3.3.2.1" stretchy="false" xref="S3.SS2.p2.4.m1.2.3.3.1.cmml">(</mo><mi id="S3.SS2.p2.4.m1.1.1" xref="S3.SS2.p2.4.m1.1.1.cmml">u</mi><mo id="S3.SS2.p2.4.m1.2.3.3.2.2" xref="S3.SS2.p2.4.m1.2.3.3.1.cmml">,</mo><mi id="S3.SS2.p2.4.m1.2.2" xref="S3.SS2.p2.4.m1.2.2.cmml">i</mi><mo id="S3.SS2.p2.4.m1.2.3.3.2.3" stretchy="false" xref="S3.SS2.p2.4.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m1.2b"><apply id="S3.SS2.p2.4.m1.2.3.cmml" xref="S3.SS2.p2.4.m1.2.3"><times id="S3.SS2.p2.4.m1.2.3.1.cmml" xref="S3.SS2.p2.4.m1.2.3.1"></times><ci id="S3.SS2.p2.4.m1.2.3.2.cmml" xref="S3.SS2.p2.4.m1.2.3.2">ğ‘“</ci><interval closure="open" id="S3.SS2.p2.4.m1.2.3.3.1.cmml" xref="S3.SS2.p2.4.m1.2.3.3.2"><ci id="S3.SS2.p2.4.m1.1.1.cmml" xref="S3.SS2.p2.4.m1.1.1">ğ‘¢</ci><ci id="S3.SS2.p2.4.m1.2.2.cmml" xref="S3.SS2.p2.4.m1.2.2">ğ‘–</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m1.2c">f(u,i)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.4.m1.2d">italic_f ( italic_u , italic_i )</annotation></semantics></math> represents preference score of user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS2.p2.5.m2.1"><semantics id="S3.SS2.p2.5.m2.1a"><mi id="S3.SS2.p2.5.m2.1.1" xref="S3.SS2.p2.5.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m2.1b"><ci id="S3.SS2.p2.5.m2.1.1.cmml" xref="S3.SS2.p2.5.m2.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.5.m2.1d">italic_u</annotation></semantics></math> for item <math alttext="i" class="ltx_Math" display="inline" id="S3.SS2.p2.6.m3.1"><semantics id="S3.SS2.p2.6.m3.1a"><mi id="S3.SS2.p2.6.m3.1.1" xref="S3.SS2.p2.6.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m3.1b"><ci id="S3.SS2.p2.6.m3.1.1.cmml" xref="S3.SS2.p2.6.m3.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.6.m3.1d">italic_i</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1">Similarly, given dispreferred item set <math alttext="\mathcal{I}_{d}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><msub id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">â„</mi><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">â„</ci><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">ğ‘‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">\mathcal{I}_{d}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math>, the softmax loss takes the form:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx15">
<tbody id="S3.E13"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\rm softmax}=-\mathbb{E}_{(u,i_{p},\mathcal{I}_{d})}%
\left[{\rm log}\,\sigma\left(-{\rm log}\sum_{i_{d}\in\mathcal{I}_{d}}{\rm exp}%
\left(f(u,i_{d})-f(u,i_{p})\right)\right)\right]." class="ltx_Math" display="inline" id="S3.E13.m1.6"><semantics id="S3.E13.m1.6a"><mrow id="S3.E13.m1.6.6.1" xref="S3.E13.m1.6.6.1.1.cmml"><mrow id="S3.E13.m1.6.6.1.1" xref="S3.E13.m1.6.6.1.1.cmml"><msub id="S3.E13.m1.6.6.1.1.3" xref="S3.E13.m1.6.6.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E13.m1.6.6.1.1.3.2" xref="S3.E13.m1.6.6.1.1.3.2.cmml">â„’</mi><mi id="S3.E13.m1.6.6.1.1.3.3" xref="S3.E13.m1.6.6.1.1.3.3.cmml">softmax</mi></msub><mo id="S3.E13.m1.6.6.1.1.2" xref="S3.E13.m1.6.6.1.1.2.cmml">=</mo><mrow id="S3.E13.m1.6.6.1.1.1" xref="S3.E13.m1.6.6.1.1.1.cmml"><mo id="S3.E13.m1.6.6.1.1.1a" xref="S3.E13.m1.6.6.1.1.1.cmml">âˆ’</mo><mrow id="S3.E13.m1.6.6.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.cmml"><msub id="S3.E13.m1.6.6.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.3.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.3.2" xref="S3.E13.m1.6.6.1.1.1.1.3.2.cmml">ğ”¼</mi><mrow id="S3.E13.m1.3.3.3.3" xref="S3.E13.m1.3.3.3.4.cmml"><mo id="S3.E13.m1.3.3.3.3.3" stretchy="false" xref="S3.E13.m1.3.3.3.4.cmml">(</mo><mi id="S3.E13.m1.1.1.1.1" xref="S3.E13.m1.1.1.1.1.cmml">u</mi><mo id="S3.E13.m1.3.3.3.3.4" xref="S3.E13.m1.3.3.3.4.cmml">,</mo><msub id="S3.E13.m1.2.2.2.2.1" xref="S3.E13.m1.2.2.2.2.1.cmml"><mi id="S3.E13.m1.2.2.2.2.1.2" xref="S3.E13.m1.2.2.2.2.1.2.cmml">i</mi><mi id="S3.E13.m1.2.2.2.2.1.3" xref="S3.E13.m1.2.2.2.2.1.3.cmml">p</mi></msub><mo id="S3.E13.m1.3.3.3.3.5" xref="S3.E13.m1.3.3.3.4.cmml">,</mo><msub id="S3.E13.m1.3.3.3.3.2" xref="S3.E13.m1.3.3.3.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E13.m1.3.3.3.3.2.2" xref="S3.E13.m1.3.3.3.3.2.2.cmml">â„</mi><mi id="S3.E13.m1.3.3.3.3.2.3" xref="S3.E13.m1.3.3.3.3.2.3.cmml">d</mi></msub><mo id="S3.E13.m1.3.3.3.3.6" stretchy="false" xref="S3.E13.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="S3.E13.m1.6.6.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.2.cmml"><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.2.1.cmml">[</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.2" lspace="0.170em" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.2.cmml">â¢</mo><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.4" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.4.cmml">Ïƒ</mi><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.2a" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1a" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2a" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">i</mi><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„</mi><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">f</mi><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E13.m1.4.4" xref="S3.E13.m1.4.4.cmml">u</mi><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">i</mi><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">âˆ’</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">f</mi><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">â¢</mo><mrow id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml"><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml">(</mo><mi id="S3.E13.m1.5.5" xref="S3.E13.m1.5.5.cmml">u</mi><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml">,</mo><msub id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.cmml"><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.2" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.2.cmml">i</mi><mi id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.3.cmml">p</mi></msub><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.4" stretchy="false" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E13.m1.6.6.1.1.1.1.1.1.3" xref="S3.E13.m1.6.6.1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><mo id="S3.E13.m1.6.6.1.2" lspace="0em" xref="S3.E13.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E13.m1.6b"><apply id="S3.E13.m1.6.6.1.1.cmml" xref="S3.E13.m1.6.6.1"><eq id="S3.E13.m1.6.6.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.2"></eq><apply id="S3.E13.m1.6.6.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.3"><csymbol cd="ambiguous" id="S3.E13.m1.6.6.1.1.3.1.cmml" xref="S3.E13.m1.6.6.1.1.3">subscript</csymbol><ci id="S3.E13.m1.6.6.1.1.3.2.cmml" xref="S3.E13.m1.6.6.1.1.3.2">â„’</ci><ci id="S3.E13.m1.6.6.1.1.3.3.cmml" xref="S3.E13.m1.6.6.1.1.3.3">softmax</ci></apply><apply id="S3.E13.m1.6.6.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1"><minus id="S3.E13.m1.6.6.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1"></minus><apply id="S3.E13.m1.6.6.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1"><times id="S3.E13.m1.6.6.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.2"></times><apply id="S3.E13.m1.6.6.1.1.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E13.m1.6.6.1.1.1.1.3.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.3">subscript</csymbol><ci id="S3.E13.m1.6.6.1.1.1.1.3.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.3.2">ğ”¼</ci><vector id="S3.E13.m1.3.3.3.4.cmml" xref="S3.E13.m1.3.3.3.3"><ci id="S3.E13.m1.1.1.1.1.cmml" xref="S3.E13.m1.1.1.1.1">ğ‘¢</ci><apply id="S3.E13.m1.2.2.2.2.1.cmml" xref="S3.E13.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E13.m1.2.2.2.2.1.1.cmml" xref="S3.E13.m1.2.2.2.2.1">subscript</csymbol><ci id="S3.E13.m1.2.2.2.2.1.2.cmml" xref="S3.E13.m1.2.2.2.2.1.2">ğ‘–</ci><ci id="S3.E13.m1.2.2.2.2.1.3.cmml" xref="S3.E13.m1.2.2.2.2.1.3">ğ‘</ci></apply><apply id="S3.E13.m1.3.3.3.3.2.cmml" xref="S3.E13.m1.3.3.3.3.2"><csymbol cd="ambiguous" id="S3.E13.m1.3.3.3.3.2.1.cmml" xref="S3.E13.m1.3.3.3.3.2">subscript</csymbol><ci id="S3.E13.m1.3.3.3.3.2.2.cmml" xref="S3.E13.m1.3.3.3.3.2.2">â„</ci><ci id="S3.E13.m1.3.3.3.3.2.3.cmml" xref="S3.E13.m1.3.3.3.3.2.3">ğ‘‘</ci></apply></vector></apply><apply id="S3.E13.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E13.m1.6.6.1.1.1.1.1.2.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1"><times id="S3.E13.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.2"></times><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.3">log</ci><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.4.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.4">ğœ</ci><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1"><minus id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1"></minus><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3">log</ci><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1"><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3"><in id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘–</ci><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.2">â„</ci><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"></minus><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘“</ci><interval closure="open" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="S3.E13.m1.4.4.cmml" xref="S3.E13.m1.4.4">ğ‘¢</ci><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘–</ci><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></interval></apply><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><times id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2"></times><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">ğ‘“</ci><interval closure="open" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1"><ci id="S3.E13.m1.5.5.cmml" xref="S3.E13.m1.5.5">ğ‘¢</ci><apply id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1">subscript</csymbol><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.2.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.2">ğ‘–</ci><ci id="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E13.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.1.1.3">ğ‘</ci></apply></interval></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E13.m1.6c">\displaystyle\mathcal{L}_{\rm softmax}=-\mathbb{E}_{(u,i_{p},\mathcal{I}_{d})}%
\left[{\rm log}\,\sigma\left(-{\rm log}\sum_{i_{d}\in\mathcal{I}_{d}}{\rm exp}%
\left(f(u,i_{d})-f(u,i_{p})\right)\right)\right].</annotation><annotation encoding="application/x-llamapun" id="S3.E13.m1.6d">caligraphic_L start_POSTSUBSCRIPT roman_softmax end_POSTSUBSCRIPT = - blackboard_E start_POSTSUBSCRIPT ( italic_u , italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_log italic_Ïƒ ( - roman_log âˆ‘ start_POSTSUBSCRIPT italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_f ( italic_u , italic_i start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) - italic_f ( italic_u , italic_i start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) ) ) ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.10">Review the DPO loss in Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2.E7" title="In RLHF pipeline and DPO. â€£ 2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">7</span></a>) and S-DPO loss in Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.E11" title="In Deriving S-DPO. â€£ 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">11</span></a>).
Notably, term <math alttext="\beta\,{\rm log}\,\frac{\pi_{\theta}(e|x_{u})}{\pi_{\rm ref}(e|x_{u})}" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.2"><semantics id="S3.SS2.p4.1.m1.2a"><mrow id="S3.SS2.p4.1.m1.2.3" xref="S3.SS2.p4.1.m1.2.3.cmml"><mi id="S3.SS2.p4.1.m1.2.3.2" xref="S3.SS2.p4.1.m1.2.3.2.cmml">Î²</mi><mo id="S3.SS2.p4.1.m1.2.3.1" lspace="0.170em" xref="S3.SS2.p4.1.m1.2.3.1.cmml">â¢</mo><mi id="S3.SS2.p4.1.m1.2.3.3" xref="S3.SS2.p4.1.m1.2.3.3.cmml">log</mi><mo id="S3.SS2.p4.1.m1.2.3.1a" lspace="0.170em" xref="S3.SS2.p4.1.m1.2.3.1.cmml">â¢</mo><mfrac id="S3.SS2.p4.1.m1.2.2" xref="S3.SS2.p4.1.m1.2.2.cmml"><mrow id="S3.SS2.p4.1.m1.1.1.1" xref="S3.SS2.p4.1.m1.1.1.1.cmml"><msub id="S3.SS2.p4.1.m1.1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.1.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.1.3.2" xref="S3.SS2.p4.1.m1.1.1.1.3.2.cmml">Ï€</mi><mi id="S3.SS2.p4.1.m1.1.1.1.3.3" xref="S3.SS2.p4.1.m1.1.1.1.3.3.cmml">Î¸</mi></msub><mo id="S3.SS2.p4.1.m1.1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.1.2.cmml">â¢</mo><mrow id="S3.SS2.p4.1.m1.1.1.1.1.1" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.cmml"><mo id="S3.SS2.p4.1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p4.1.m1.1.1.1.1.1.1" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.1.1.1.1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.2.cmml">e</mi><mo fence="false" id="S3.SS2.p4.1.m1.1.1.1.1.1.1.1" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.p4.1.m1.1.1.1.1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.2" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.3" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.SS2.p4.1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS2.p4.1.m1.2.2.2" xref="S3.SS2.p4.1.m1.2.2.2.cmml"><msub id="S3.SS2.p4.1.m1.2.2.2.3" xref="S3.SS2.p4.1.m1.2.2.2.3.cmml"><mi id="S3.SS2.p4.1.m1.2.2.2.3.2" xref="S3.SS2.p4.1.m1.2.2.2.3.2.cmml">Ï€</mi><mi id="S3.SS2.p4.1.m1.2.2.2.3.3" xref="S3.SS2.p4.1.m1.2.2.2.3.3.cmml">ref</mi></msub><mo id="S3.SS2.p4.1.m1.2.2.2.2" xref="S3.SS2.p4.1.m1.2.2.2.2.cmml">â¢</mo><mrow id="S3.SS2.p4.1.m1.2.2.2.1.1" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.cmml"><mo id="S3.SS2.p4.1.m1.2.2.2.1.1.2" stretchy="false" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS2.p4.1.m1.2.2.2.1.1.1" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.2.2.2.1.1.1.2" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.2.cmml">e</mi><mo fence="false" id="S3.SS2.p4.1.m1.2.2.2.1.1.1.1" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.1.cmml">|</mo><msub id="S3.SS2.p4.1.m1.2.2.2.1.1.1.3" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.cmml"><mi id="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.2" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.3" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.SS2.p4.1.m1.2.2.2.1.1.3" stretchy="false" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.2b"><apply id="S3.SS2.p4.1.m1.2.3.cmml" xref="S3.SS2.p4.1.m1.2.3"><times id="S3.SS2.p4.1.m1.2.3.1.cmml" xref="S3.SS2.p4.1.m1.2.3.1"></times><ci id="S3.SS2.p4.1.m1.2.3.2.cmml" xref="S3.SS2.p4.1.m1.2.3.2">ğ›½</ci><ci id="S3.SS2.p4.1.m1.2.3.3.cmml" xref="S3.SS2.p4.1.m1.2.3.3">log</ci><apply id="S3.SS2.p4.1.m1.2.2.cmml" xref="S3.SS2.p4.1.m1.2.2"><divide id="S3.SS2.p4.1.m1.2.2.3.cmml" xref="S3.SS2.p4.1.m1.2.2"></divide><apply id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1"><times id="S3.SS2.p4.1.m1.1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.1.2"></times><apply id="S3.SS2.p4.1.m1.1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.1.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.1.3.2">ğœ‹</ci><ci id="S3.SS2.p4.1.m1.1.1.1.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.1.3.3">ğœƒ</ci></apply><apply id="S3.SS2.p4.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p4.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS2.p4.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.2">ğ‘’</ci><apply id="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.SS2.p4.1.m1.2.2.2.cmml" xref="S3.SS2.p4.1.m1.2.2.2"><times id="S3.SS2.p4.1.m1.2.2.2.2.cmml" xref="S3.SS2.p4.1.m1.2.2.2.2"></times><apply id="S3.SS2.p4.1.m1.2.2.2.3.cmml" xref="S3.SS2.p4.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.2.2.2.3.1.cmml" xref="S3.SS2.p4.1.m1.2.2.2.3">subscript</csymbol><ci id="S3.SS2.p4.1.m1.2.2.2.3.2.cmml" xref="S3.SS2.p4.1.m1.2.2.2.3.2">ğœ‹</ci><ci id="S3.SS2.p4.1.m1.2.2.2.3.3.cmml" xref="S3.SS2.p4.1.m1.2.2.2.3.3">ref</ci></apply><apply id="S3.SS2.p4.1.m1.2.2.2.1.1.1.cmml" xref="S3.SS2.p4.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S3.SS2.p4.1.m1.2.2.2.1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.1">conditional</csymbol><ci id="S3.SS2.p4.1.m1.2.2.2.1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.2">ğ‘’</ci><apply id="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.1.cmml" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.2.cmml" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.2">ğ‘¥</ci><ci id="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.3.cmml" xref="S3.SS2.p4.1.m1.2.2.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.2c">\beta\,{\rm log}\,\frac{\pi_{\theta}(e|x_{u})}{\pi_{\rm ref}(e|x_{u})}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.2d">italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math> is the implicit reward function, denoted by <math alttext="r_{\theta}(x_{u},e)" class="ltx_Math" display="inline" id="S3.SS2.p4.2.m2.2"><semantics id="S3.SS2.p4.2.m2.2a"><mrow id="S3.SS2.p4.2.m2.2.2" xref="S3.SS2.p4.2.m2.2.2.cmml"><msub id="S3.SS2.p4.2.m2.2.2.3" xref="S3.SS2.p4.2.m2.2.2.3.cmml"><mi id="S3.SS2.p4.2.m2.2.2.3.2" xref="S3.SS2.p4.2.m2.2.2.3.2.cmml">r</mi><mi id="S3.SS2.p4.2.m2.2.2.3.3" xref="S3.SS2.p4.2.m2.2.2.3.3.cmml">Î¸</mi></msub><mo id="S3.SS2.p4.2.m2.2.2.2" xref="S3.SS2.p4.2.m2.2.2.2.cmml">â¢</mo><mrow id="S3.SS2.p4.2.m2.2.2.1.1" xref="S3.SS2.p4.2.m2.2.2.1.2.cmml"><mo id="S3.SS2.p4.2.m2.2.2.1.1.2" stretchy="false" xref="S3.SS2.p4.2.m2.2.2.1.2.cmml">(</mo><msub id="S3.SS2.p4.2.m2.2.2.1.1.1" xref="S3.SS2.p4.2.m2.2.2.1.1.1.cmml"><mi id="S3.SS2.p4.2.m2.2.2.1.1.1.2" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2.cmml">x</mi><mi id="S3.SS2.p4.2.m2.2.2.1.1.1.3" xref="S3.SS2.p4.2.m2.2.2.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS2.p4.2.m2.2.2.1.1.3" xref="S3.SS2.p4.2.m2.2.2.1.2.cmml">,</mo><mi id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml">e</mi><mo id="S3.SS2.p4.2.m2.2.2.1.1.4" stretchy="false" xref="S3.SS2.p4.2.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.2b"><apply id="S3.SS2.p4.2.m2.2.2.cmml" xref="S3.SS2.p4.2.m2.2.2"><times id="S3.SS2.p4.2.m2.2.2.2.cmml" xref="S3.SS2.p4.2.m2.2.2.2"></times><apply id="S3.SS2.p4.2.m2.2.2.3.cmml" xref="S3.SS2.p4.2.m2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.2.2.3.1.cmml" xref="S3.SS2.p4.2.m2.2.2.3">subscript</csymbol><ci id="S3.SS2.p4.2.m2.2.2.3.2.cmml" xref="S3.SS2.p4.2.m2.2.2.3.2">ğ‘Ÿ</ci><ci id="S3.SS2.p4.2.m2.2.2.3.3.cmml" xref="S3.SS2.p4.2.m2.2.2.3.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS2.p4.2.m2.2.2.1.2.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1"><apply id="S3.SS2.p4.2.m2.2.2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.2.2.1.1.1.1.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.2.2.1.1.1.2.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.2">ğ‘¥</ci><ci id="S3.SS2.p4.2.m2.2.2.1.1.1.3.cmml" xref="S3.SS2.p4.2.m2.2.2.1.1.1.3">ğ‘¢</ci></apply><ci id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1">ğ‘’</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.2c">r_{\theta}(x_{u},e)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.2.m2.2d">italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e )</annotation></semantics></math> in Section <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.SS1" title="3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3.1</span></a>.
According to Section <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S2" title="2 Preliminary â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>, <math alttext="r_{\theta}(e,x_{u})" class="ltx_Math" display="inline" id="S3.SS2.p4.3.m3.2"><semantics id="S3.SS2.p4.3.m3.2a"><mrow id="S3.SS2.p4.3.m3.2.2" xref="S3.SS2.p4.3.m3.2.2.cmml"><msub id="S3.SS2.p4.3.m3.2.2.3" xref="S3.SS2.p4.3.m3.2.2.3.cmml"><mi id="S3.SS2.p4.3.m3.2.2.3.2" xref="S3.SS2.p4.3.m3.2.2.3.2.cmml">r</mi><mi id="S3.SS2.p4.3.m3.2.2.3.3" xref="S3.SS2.p4.3.m3.2.2.3.3.cmml">Î¸</mi></msub><mo id="S3.SS2.p4.3.m3.2.2.2" xref="S3.SS2.p4.3.m3.2.2.2.cmml">â¢</mo><mrow id="S3.SS2.p4.3.m3.2.2.1.1" xref="S3.SS2.p4.3.m3.2.2.1.2.cmml"><mo id="S3.SS2.p4.3.m3.2.2.1.1.2" stretchy="false" xref="S3.SS2.p4.3.m3.2.2.1.2.cmml">(</mo><mi id="S3.SS2.p4.3.m3.1.1" xref="S3.SS2.p4.3.m3.1.1.cmml">e</mi><mo id="S3.SS2.p4.3.m3.2.2.1.1.3" xref="S3.SS2.p4.3.m3.2.2.1.2.cmml">,</mo><msub id="S3.SS2.p4.3.m3.2.2.1.1.1" xref="S3.SS2.p4.3.m3.2.2.1.1.1.cmml"><mi id="S3.SS2.p4.3.m3.2.2.1.1.1.2" xref="S3.SS2.p4.3.m3.2.2.1.1.1.2.cmml">x</mi><mi id="S3.SS2.p4.3.m3.2.2.1.1.1.3" xref="S3.SS2.p4.3.m3.2.2.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS2.p4.3.m3.2.2.1.1.4" stretchy="false" xref="S3.SS2.p4.3.m3.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m3.2b"><apply id="S3.SS2.p4.3.m3.2.2.cmml" xref="S3.SS2.p4.3.m3.2.2"><times id="S3.SS2.p4.3.m3.2.2.2.cmml" xref="S3.SS2.p4.3.m3.2.2.2"></times><apply id="S3.SS2.p4.3.m3.2.2.3.cmml" xref="S3.SS2.p4.3.m3.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.2.2.3.1.cmml" xref="S3.SS2.p4.3.m3.2.2.3">subscript</csymbol><ci id="S3.SS2.p4.3.m3.2.2.3.2.cmml" xref="S3.SS2.p4.3.m3.2.2.3.2">ğ‘Ÿ</ci><ci id="S3.SS2.p4.3.m3.2.2.3.3.cmml" xref="S3.SS2.p4.3.m3.2.2.3.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS2.p4.3.m3.2.2.1.2.cmml" xref="S3.SS2.p4.3.m3.2.2.1.1"><ci id="S3.SS2.p4.3.m3.1.1.cmml" xref="S3.SS2.p4.3.m3.1.1">ğ‘’</ci><apply id="S3.SS2.p4.3.m3.2.2.1.1.1.cmml" xref="S3.SS2.p4.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS2.p4.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS2.p4.3.m3.2.2.1.1.1.2">ğ‘¥</ci><ci id="S3.SS2.p4.3.m3.2.2.1.1.1.3.cmml" xref="S3.SS2.p4.3.m3.2.2.1.1.1.3">ğ‘¢</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m3.2c">r_{\theta}(e,x_{u})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.3.m3.2d">italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math> reflects the preference of user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS2.p4.4.m4.1"><semantics id="S3.SS2.p4.4.m4.1a"><mi id="S3.SS2.p4.4.m4.1.1" xref="S3.SS2.p4.4.m4.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m4.1b"><ci id="S3.SS2.p4.4.m4.1.1.cmml" xref="S3.SS2.p4.4.m4.1.1">ğ‘¢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m4.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.4.m4.1d">italic_u</annotation></semantics></math> to item <math alttext="i" class="ltx_Math" display="inline" id="S3.SS2.p4.5.m5.1"><semantics id="S3.SS2.p4.5.m5.1a"><mi id="S3.SS2.p4.5.m5.1.1" xref="S3.SS2.p4.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.5.m5.1b"><ci id="S3.SS2.p4.5.m5.1.1.cmml" xref="S3.SS2.p4.5.m5.1.1">ğ‘–</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.5.m5.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.5.m5.1d">italic_i</annotation></semantics></math> corresponding to title <math alttext="e" class="ltx_Math" display="inline" id="S3.SS2.p4.6.m6.1"><semantics id="S3.SS2.p4.6.m6.1a"><mi id="S3.SS2.p4.6.m6.1.1" xref="S3.SS2.p4.6.m6.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.6.m6.1b"><ci id="S3.SS2.p4.6.m6.1.1.cmml" xref="S3.SS2.p4.6.m6.1.1">ğ‘’</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.6.m6.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.6.m6.1d">italic_e</annotation></semantics></math>.
When the reference model has no knowledge about recommendation, <em class="ltx_emph ltx_font_italic" id="S3.SS2.p4.10.1">i.e., </em><math alttext="\pi_{\rm ref}(e|x_{u})" class="ltx_Math" display="inline" id="S3.SS2.p4.7.m7.1"><semantics id="S3.SS2.p4.7.m7.1a"><mrow id="S3.SS2.p4.7.m7.1.1" xref="S3.SS2.p4.7.m7.1.1.cmml"><msub id="S3.SS2.p4.7.m7.1.1.3" xref="S3.SS2.p4.7.m7.1.1.3.cmml"><mi id="S3.SS2.p4.7.m7.1.1.3.2" xref="S3.SS2.p4.7.m7.1.1.3.2.cmml">Ï€</mi><mi id="S3.SS2.p4.7.m7.1.1.3.3" xref="S3.SS2.p4.7.m7.1.1.3.3.cmml">ref</mi></msub><mo id="S3.SS2.p4.7.m7.1.1.2" xref="S3.SS2.p4.7.m7.1.1.2.cmml">â¢</mo><mrow id="S3.SS2.p4.7.m7.1.1.1.1" xref="S3.SS2.p4.7.m7.1.1.1.1.1.cmml"><mo id="S3.SS2.p4.7.m7.1.1.1.1.2" stretchy="false" xref="S3.SS2.p4.7.m7.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p4.7.m7.1.1.1.1.1" xref="S3.SS2.p4.7.m7.1.1.1.1.1.cmml"><mi id="S3.SS2.p4.7.m7.1.1.1.1.1.2" xref="S3.SS2.p4.7.m7.1.1.1.1.1.2.cmml">e</mi><mo fence="false" id="S3.SS2.p4.7.m7.1.1.1.1.1.1" xref="S3.SS2.p4.7.m7.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.p4.7.m7.1.1.1.1.1.3" xref="S3.SS2.p4.7.m7.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p4.7.m7.1.1.1.1.1.3.2" xref="S3.SS2.p4.7.m7.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p4.7.m7.1.1.1.1.1.3.3" xref="S3.SS2.p4.7.m7.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.SS2.p4.7.m7.1.1.1.1.3" stretchy="false" xref="S3.SS2.p4.7.m7.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.7.m7.1b"><apply id="S3.SS2.p4.7.m7.1.1.cmml" xref="S3.SS2.p4.7.m7.1.1"><times id="S3.SS2.p4.7.m7.1.1.2.cmml" xref="S3.SS2.p4.7.m7.1.1.2"></times><apply id="S3.SS2.p4.7.m7.1.1.3.cmml" xref="S3.SS2.p4.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.7.m7.1.1.3.1.cmml" xref="S3.SS2.p4.7.m7.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.7.m7.1.1.3.2.cmml" xref="S3.SS2.p4.7.m7.1.1.3.2">ğœ‹</ci><ci id="S3.SS2.p4.7.m7.1.1.3.3.cmml" xref="S3.SS2.p4.7.m7.1.1.3.3">ref</ci></apply><apply id="S3.SS2.p4.7.m7.1.1.1.1.1.cmml" xref="S3.SS2.p4.7.m7.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p4.7.m7.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.7.m7.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS2.p4.7.m7.1.1.1.1.1.2.cmml" xref="S3.SS2.p4.7.m7.1.1.1.1.1.2">ğ‘’</ci><apply id="S3.SS2.p4.7.m7.1.1.1.1.1.3.cmml" xref="S3.SS2.p4.7.m7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.7.m7.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p4.7.m7.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.7.m7.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p4.7.m7.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.SS2.p4.7.m7.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p4.7.m7.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.7.m7.1c">\pi_{\rm ref}(e|x_{u})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.7.m7.1d">italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT )</annotation></semantics></math> is approximately a uniform distribution, term <math alttext="r_{\theta}(x_{u},e)=\beta\,{\rm log}\,\frac{\pi_{\theta}(e|x_{u})}{\pi_{\rm ref%
}(e|x_{u})}" class="ltx_Math" display="inline" id="S3.SS2.p4.8.m8.4"><semantics id="S3.SS2.p4.8.m8.4a"><mrow id="S3.SS2.p4.8.m8.4.4" xref="S3.SS2.p4.8.m8.4.4.cmml"><mrow id="S3.SS2.p4.8.m8.4.4.1" xref="S3.SS2.p4.8.m8.4.4.1.cmml"><msub id="S3.SS2.p4.8.m8.4.4.1.3" xref="S3.SS2.p4.8.m8.4.4.1.3.cmml"><mi id="S3.SS2.p4.8.m8.4.4.1.3.2" xref="S3.SS2.p4.8.m8.4.4.1.3.2.cmml">r</mi><mi id="S3.SS2.p4.8.m8.4.4.1.3.3" xref="S3.SS2.p4.8.m8.4.4.1.3.3.cmml">Î¸</mi></msub><mo id="S3.SS2.p4.8.m8.4.4.1.2" xref="S3.SS2.p4.8.m8.4.4.1.2.cmml">â¢</mo><mrow id="S3.SS2.p4.8.m8.4.4.1.1.1" xref="S3.SS2.p4.8.m8.4.4.1.1.2.cmml"><mo id="S3.SS2.p4.8.m8.4.4.1.1.1.2" stretchy="false" xref="S3.SS2.p4.8.m8.4.4.1.1.2.cmml">(</mo><msub id="S3.SS2.p4.8.m8.4.4.1.1.1.1" xref="S3.SS2.p4.8.m8.4.4.1.1.1.1.cmml"><mi id="S3.SS2.p4.8.m8.4.4.1.1.1.1.2" xref="S3.SS2.p4.8.m8.4.4.1.1.1.1.2.cmml">x</mi><mi id="S3.SS2.p4.8.m8.4.4.1.1.1.1.3" xref="S3.SS2.p4.8.m8.4.4.1.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS2.p4.8.m8.4.4.1.1.1.3" xref="S3.SS2.p4.8.m8.4.4.1.1.2.cmml">,</mo><mi id="S3.SS2.p4.8.m8.3.3" xref="S3.SS2.p4.8.m8.3.3.cmml">e</mi><mo id="S3.SS2.p4.8.m8.4.4.1.1.1.4" stretchy="false" xref="S3.SS2.p4.8.m8.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p4.8.m8.4.4.2" xref="S3.SS2.p4.8.m8.4.4.2.cmml">=</mo><mrow id="S3.SS2.p4.8.m8.4.4.3" xref="S3.SS2.p4.8.m8.4.4.3.cmml"><mi id="S3.SS2.p4.8.m8.4.4.3.2" xref="S3.SS2.p4.8.m8.4.4.3.2.cmml">Î²</mi><mo id="S3.SS2.p4.8.m8.4.4.3.1" lspace="0.170em" xref="S3.SS2.p4.8.m8.4.4.3.1.cmml">â¢</mo><mi id="S3.SS2.p4.8.m8.4.4.3.3" xref="S3.SS2.p4.8.m8.4.4.3.3.cmml">log</mi><mo id="S3.SS2.p4.8.m8.4.4.3.1a" lspace="0.170em" xref="S3.SS2.p4.8.m8.4.4.3.1.cmml">â¢</mo><mfrac id="S3.SS2.p4.8.m8.2.2" xref="S3.SS2.p4.8.m8.2.2.cmml"><mrow id="S3.SS2.p4.8.m8.1.1.1" xref="S3.SS2.p4.8.m8.1.1.1.cmml"><msub id="S3.SS2.p4.8.m8.1.1.1.3" xref="S3.SS2.p4.8.m8.1.1.1.3.cmml"><mi id="S3.SS2.p4.8.m8.1.1.1.3.2" xref="S3.SS2.p4.8.m8.1.1.1.3.2.cmml">Ï€</mi><mi id="S3.SS2.p4.8.m8.1.1.1.3.3" xref="S3.SS2.p4.8.m8.1.1.1.3.3.cmml">Î¸</mi></msub><mo id="S3.SS2.p4.8.m8.1.1.1.2" xref="S3.SS2.p4.8.m8.1.1.1.2.cmml">â¢</mo><mrow id="S3.SS2.p4.8.m8.1.1.1.1.1" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.cmml"><mo id="S3.SS2.p4.8.m8.1.1.1.1.1.2" stretchy="false" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS2.p4.8.m8.1.1.1.1.1.1" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p4.8.m8.1.1.1.1.1.1.2" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.2.cmml">e</mi><mo fence="false" id="S3.SS2.p4.8.m8.1.1.1.1.1.1.1" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.1.cmml">|</mo><msub id="S3.SS2.p4.8.m8.1.1.1.1.1.1.3" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.cmml"><mi id="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.2" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.3" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.SS2.p4.8.m8.1.1.1.1.1.3" stretchy="false" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.SS2.p4.8.m8.2.2.2" xref="S3.SS2.p4.8.m8.2.2.2.cmml"><msub id="S3.SS2.p4.8.m8.2.2.2.3" xref="S3.SS2.p4.8.m8.2.2.2.3.cmml"><mi id="S3.SS2.p4.8.m8.2.2.2.3.2" xref="S3.SS2.p4.8.m8.2.2.2.3.2.cmml">Ï€</mi><mi id="S3.SS2.p4.8.m8.2.2.2.3.3" xref="S3.SS2.p4.8.m8.2.2.2.3.3.cmml">ref</mi></msub><mo id="S3.SS2.p4.8.m8.2.2.2.2" xref="S3.SS2.p4.8.m8.2.2.2.2.cmml">â¢</mo><mrow id="S3.SS2.p4.8.m8.2.2.2.1.1" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.cmml"><mo id="S3.SS2.p4.8.m8.2.2.2.1.1.2" stretchy="false" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.SS2.p4.8.m8.2.2.2.1.1.1" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.cmml"><mi id="S3.SS2.p4.8.m8.2.2.2.1.1.1.2" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.2.cmml">e</mi><mo fence="false" id="S3.SS2.p4.8.m8.2.2.2.1.1.1.1" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.1.cmml">|</mo><msub id="S3.SS2.p4.8.m8.2.2.2.1.1.1.3" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.cmml"><mi id="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.2" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.2.cmml">x</mi><mi id="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.3" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S3.SS2.p4.8.m8.2.2.2.1.1.3" stretchy="false" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.8.m8.4b"><apply id="S3.SS2.p4.8.m8.4.4.cmml" xref="S3.SS2.p4.8.m8.4.4"><eq id="S3.SS2.p4.8.m8.4.4.2.cmml" xref="S3.SS2.p4.8.m8.4.4.2"></eq><apply id="S3.SS2.p4.8.m8.4.4.1.cmml" xref="S3.SS2.p4.8.m8.4.4.1"><times id="S3.SS2.p4.8.m8.4.4.1.2.cmml" xref="S3.SS2.p4.8.m8.4.4.1.2"></times><apply id="S3.SS2.p4.8.m8.4.4.1.3.cmml" xref="S3.SS2.p4.8.m8.4.4.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.8.m8.4.4.1.3.1.cmml" xref="S3.SS2.p4.8.m8.4.4.1.3">subscript</csymbol><ci id="S3.SS2.p4.8.m8.4.4.1.3.2.cmml" xref="S3.SS2.p4.8.m8.4.4.1.3.2">ğ‘Ÿ</ci><ci id="S3.SS2.p4.8.m8.4.4.1.3.3.cmml" xref="S3.SS2.p4.8.m8.4.4.1.3.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS2.p4.8.m8.4.4.1.1.2.cmml" xref="S3.SS2.p4.8.m8.4.4.1.1.1"><apply id="S3.SS2.p4.8.m8.4.4.1.1.1.1.cmml" xref="S3.SS2.p4.8.m8.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.8.m8.4.4.1.1.1.1.1.cmml" xref="S3.SS2.p4.8.m8.4.4.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.8.m8.4.4.1.1.1.1.2.cmml" xref="S3.SS2.p4.8.m8.4.4.1.1.1.1.2">ğ‘¥</ci><ci id="S3.SS2.p4.8.m8.4.4.1.1.1.1.3.cmml" xref="S3.SS2.p4.8.m8.4.4.1.1.1.1.3">ğ‘¢</ci></apply><ci id="S3.SS2.p4.8.m8.3.3.cmml" xref="S3.SS2.p4.8.m8.3.3">ğ‘’</ci></interval></apply><apply id="S3.SS2.p4.8.m8.4.4.3.cmml" xref="S3.SS2.p4.8.m8.4.4.3"><times id="S3.SS2.p4.8.m8.4.4.3.1.cmml" xref="S3.SS2.p4.8.m8.4.4.3.1"></times><ci id="S3.SS2.p4.8.m8.4.4.3.2.cmml" xref="S3.SS2.p4.8.m8.4.4.3.2">ğ›½</ci><ci id="S3.SS2.p4.8.m8.4.4.3.3.cmml" xref="S3.SS2.p4.8.m8.4.4.3.3">log</ci><apply id="S3.SS2.p4.8.m8.2.2.cmml" xref="S3.SS2.p4.8.m8.2.2"><divide id="S3.SS2.p4.8.m8.2.2.3.cmml" xref="S3.SS2.p4.8.m8.2.2"></divide><apply id="S3.SS2.p4.8.m8.1.1.1.cmml" xref="S3.SS2.p4.8.m8.1.1.1"><times id="S3.SS2.p4.8.m8.1.1.1.2.cmml" xref="S3.SS2.p4.8.m8.1.1.1.2"></times><apply id="S3.SS2.p4.8.m8.1.1.1.3.cmml" xref="S3.SS2.p4.8.m8.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.8.m8.1.1.1.3.1.cmml" xref="S3.SS2.p4.8.m8.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.8.m8.1.1.1.3.2.cmml" xref="S3.SS2.p4.8.m8.1.1.1.3.2">ğœ‹</ci><ci id="S3.SS2.p4.8.m8.1.1.1.3.3.cmml" xref="S3.SS2.p4.8.m8.1.1.1.3.3">ğœƒ</ci></apply><apply id="S3.SS2.p4.8.m8.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.8.m8.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS2.p4.8.m8.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.SS2.p4.8.m8.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.2">ğ‘’</ci><apply id="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.1.cmml" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.2.cmml" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.3.cmml" xref="S3.SS2.p4.8.m8.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="S3.SS2.p4.8.m8.2.2.2.cmml" xref="S3.SS2.p4.8.m8.2.2.2"><times id="S3.SS2.p4.8.m8.2.2.2.2.cmml" xref="S3.SS2.p4.8.m8.2.2.2.2"></times><apply id="S3.SS2.p4.8.m8.2.2.2.3.cmml" xref="S3.SS2.p4.8.m8.2.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p4.8.m8.2.2.2.3.1.cmml" xref="S3.SS2.p4.8.m8.2.2.2.3">subscript</csymbol><ci id="S3.SS2.p4.8.m8.2.2.2.3.2.cmml" xref="S3.SS2.p4.8.m8.2.2.2.3.2">ğœ‹</ci><ci id="S3.SS2.p4.8.m8.2.2.2.3.3.cmml" xref="S3.SS2.p4.8.m8.2.2.2.3.3">ref</ci></apply><apply id="S3.SS2.p4.8.m8.2.2.2.1.1.1.cmml" xref="S3.SS2.p4.8.m8.2.2.2.1.1"><csymbol cd="latexml" id="S3.SS2.p4.8.m8.2.2.2.1.1.1.1.cmml" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.1">conditional</csymbol><ci id="S3.SS2.p4.8.m8.2.2.2.1.1.1.2.cmml" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.2">ğ‘’</ci><apply id="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.cmml" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.1.cmml" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.3">subscript</csymbol><ci id="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.2.cmml" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.2">ğ‘¥</ci><ci id="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.3.cmml" xref="S3.SS2.p4.8.m8.2.2.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.8.m8.4c">r_{\theta}(x_{u},e)=\beta\,{\rm log}\,\frac{\pi_{\theta}(e|x_{u})}{\pi_{\rm ref%
}(e|x_{u})}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.8.m8.4d">italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e ) = italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math> exactly reveals absolute preference.
Hence, <math alttext="r_{\theta}(x_{u},e)" class="ltx_Math" display="inline" id="S3.SS2.p4.9.m9.2"><semantics id="S3.SS2.p4.9.m9.2a"><mrow id="S3.SS2.p4.9.m9.2.2" xref="S3.SS2.p4.9.m9.2.2.cmml"><msub id="S3.SS2.p4.9.m9.2.2.3" xref="S3.SS2.p4.9.m9.2.2.3.cmml"><mi id="S3.SS2.p4.9.m9.2.2.3.2" xref="S3.SS2.p4.9.m9.2.2.3.2.cmml">r</mi><mi id="S3.SS2.p4.9.m9.2.2.3.3" xref="S3.SS2.p4.9.m9.2.2.3.3.cmml">Î¸</mi></msub><mo id="S3.SS2.p4.9.m9.2.2.2" xref="S3.SS2.p4.9.m9.2.2.2.cmml">â¢</mo><mrow id="S3.SS2.p4.9.m9.2.2.1.1" xref="S3.SS2.p4.9.m9.2.2.1.2.cmml"><mo id="S3.SS2.p4.9.m9.2.2.1.1.2" stretchy="false" xref="S3.SS2.p4.9.m9.2.2.1.2.cmml">(</mo><msub id="S3.SS2.p4.9.m9.2.2.1.1.1" xref="S3.SS2.p4.9.m9.2.2.1.1.1.cmml"><mi id="S3.SS2.p4.9.m9.2.2.1.1.1.2" xref="S3.SS2.p4.9.m9.2.2.1.1.1.2.cmml">x</mi><mi id="S3.SS2.p4.9.m9.2.2.1.1.1.3" xref="S3.SS2.p4.9.m9.2.2.1.1.1.3.cmml">u</mi></msub><mo id="S3.SS2.p4.9.m9.2.2.1.1.3" xref="S3.SS2.p4.9.m9.2.2.1.2.cmml">,</mo><mi id="S3.SS2.p4.9.m9.1.1" xref="S3.SS2.p4.9.m9.1.1.cmml">e</mi><mo id="S3.SS2.p4.9.m9.2.2.1.1.4" stretchy="false" xref="S3.SS2.p4.9.m9.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.9.m9.2b"><apply id="S3.SS2.p4.9.m9.2.2.cmml" xref="S3.SS2.p4.9.m9.2.2"><times id="S3.SS2.p4.9.m9.2.2.2.cmml" xref="S3.SS2.p4.9.m9.2.2.2"></times><apply id="S3.SS2.p4.9.m9.2.2.3.cmml" xref="S3.SS2.p4.9.m9.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p4.9.m9.2.2.3.1.cmml" xref="S3.SS2.p4.9.m9.2.2.3">subscript</csymbol><ci id="S3.SS2.p4.9.m9.2.2.3.2.cmml" xref="S3.SS2.p4.9.m9.2.2.3.2">ğ‘Ÿ</ci><ci id="S3.SS2.p4.9.m9.2.2.3.3.cmml" xref="S3.SS2.p4.9.m9.2.2.3.3">ğœƒ</ci></apply><interval closure="open" id="S3.SS2.p4.9.m9.2.2.1.2.cmml" xref="S3.SS2.p4.9.m9.2.2.1.1"><apply id="S3.SS2.p4.9.m9.2.2.1.1.1.cmml" xref="S3.SS2.p4.9.m9.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.9.m9.2.2.1.1.1.1.cmml" xref="S3.SS2.p4.9.m9.2.2.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.9.m9.2.2.1.1.1.2.cmml" xref="S3.SS2.p4.9.m9.2.2.1.1.1.2">ğ‘¥</ci><ci id="S3.SS2.p4.9.m9.2.2.1.1.1.3.cmml" xref="S3.SS2.p4.9.m9.2.2.1.1.1.3">ğ‘¢</ci></apply><ci id="S3.SS2.p4.9.m9.1.1.cmml" xref="S3.SS2.p4.9.m9.1.1">ğ‘’</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.9.m9.2c">r_{\theta}(x_{u},e)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.9.m9.2d">italic_r start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e )</annotation></semantics></math> possesses a similar function to <math alttext="f(u,i)" class="ltx_Math" display="inline" id="S3.SS2.p4.10.m10.2"><semantics id="S3.SS2.p4.10.m10.2a"><mrow id="S3.SS2.p4.10.m10.2.3" xref="S3.SS2.p4.10.m10.2.3.cmml"><mi id="S3.SS2.p4.10.m10.2.3.2" xref="S3.SS2.p4.10.m10.2.3.2.cmml">f</mi><mo id="S3.SS2.p4.10.m10.2.3.1" xref="S3.SS2.p4.10.m10.2.3.1.cmml">â¢</mo><mrow id="S3.SS2.p4.10.m10.2.3.3.2" xref="S3.SS2.p4.10.m10.2.3.3.1.cmml"><mo id="S3.SS2.p4.10.m10.2.3.3.2.1" stretchy="false" xref="S3.SS2.p4.10.m10.2.3.3.1.cmml">(</mo><mi id="S3.SS2.p4.10.m10.1.1" xref="S3.SS2.p4.10.m10.1.1.cmml">u</mi><mo id="S3.SS2.p4.10.m10.2.3.3.2.2" xref="S3.SS2.p4.10.m10.2.3.3.1.cmml">,</mo><mi id="S3.SS2.p4.10.m10.2.2" xref="S3.SS2.p4.10.m10.2.2.cmml">i</mi><mo id="S3.SS2.p4.10.m10.2.3.3.2.3" stretchy="false" xref="S3.SS2.p4.10.m10.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.10.m10.2b"><apply id="S3.SS2.p4.10.m10.2.3.cmml" xref="S3.SS2.p4.10.m10.2.3"><times id="S3.SS2.p4.10.m10.2.3.1.cmml" xref="S3.SS2.p4.10.m10.2.3.1"></times><ci id="S3.SS2.p4.10.m10.2.3.2.cmml" xref="S3.SS2.p4.10.m10.2.3.2">ğ‘“</ci><interval closure="open" id="S3.SS2.p4.10.m10.2.3.3.1.cmml" xref="S3.SS2.p4.10.m10.2.3.3.2"><ci id="S3.SS2.p4.10.m10.1.1.cmml" xref="S3.SS2.p4.10.m10.1.1">ğ‘¢</ci><ci id="S3.SS2.p4.10.m10.2.2.cmml" xref="S3.SS2.p4.10.m10.2.2">ğ‘–</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.10.m10.2c">f(u,i)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.10.m10.2d">italic_f ( italic_u , italic_i )</annotation></semantics></math> .</p>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.1">From this perspective, DPO and S-DPO can be seen as special patterns of BPR and softmax loss, respectively.
The structural correlation indicates that DPO and S-DPO are more suitable for recommendation than the language-modeling loss.
Moreover, as softmax loss works better than BPR loss in multi-negative scenarios <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib19" title="">19</a>]</cite>, it can be inferred that S-DPO will be more tailored for multi-negative user preference alignment than DPO.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we aim to answer the following research questions:
</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i1.p1.1.1">RQ1:</span> How does S-DPO compare with traditional and LM-based sequential recommendation models on performance?</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I1.i2.p1.1.1">RQ2:</span> How does the LM-based recommender benefit from the multiple negatives?</p>
</div>
</li>
</ul>
</div>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Baselines.</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px1.p1.1">We thoroughly compare S-DPO with three categories of recommenders in sequential recommendations: traditional recommenders (GRU4Rec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib45" title="">45</a>]</cite>, Caser <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib46" title="">46</a>]</cite>, SASRec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib47" title="">47</a>]</cite>), LM-enhanced recommenders (MoRec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib48" title="">48</a>]</cite>) and LM-based recommenders (LLaMA2 <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib31" title="">31</a>]</cite>, Chat-REC <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib14" title="">14</a>]</cite>, TALLRec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib13" title="">13</a>]</cite>, LLaRA <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite>).
See detailed introduction and comparison of baselines in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2" title="Appendix B Experimental Settings â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Datasets.</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px2.p1.1">We conduct extensive experiments on three real-world benchmark datasets which differ in size and domain (Movielens <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib49" title="">49</a>]</cite>, Goodreads<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a class="ltx_ref ltx_href" href="https://www.goodreads.com" title="">https://www.goodreads.com</a></span></span></span>, and LastFM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib50" title="">50</a>]</cite>).
Following standard settings of <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib14" title="">14</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite>, we employ a commonly used metric Hit Ratio@1 (HR@1) for performance evaluation and an additional metric Valid Ratio to evaluate the LM-based methodsâ€™ ability to generate appropriate responses.
See detailed introductions of datasets and evaluation metrics in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2" title="Appendix B Experimental Settings â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Implementation.</h4>
<div class="ltx_para" id="S4.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px3.p1.1">We implement all LM-based recommenders on 4 NVIDIA A100 GPUs.
For all LM-based recommenders, we conduct a supervised fine-tuning stage for a maximum of 5 epochs.
For S-DPO and its variants, we conduct a preference alignment stage for further 3 epochs.
Different from existing methods, we only optimize loss on item titles and find it effective in recommendation tasks.
Refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2" title="Appendix B Experimental Settings â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">B</span></a> for more implementation details.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Overall Performance Comparison (RQ1)</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">Table <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.T1" title="Table 1 â€£ 4.1 Overall Performance Comparison (RQ1) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">1</span></a> presents a comparative analysis of the performance of our proposed S-DPO and baselines.
â€œRel.Ipvâ€ denotes the relative improvement of S-DPO compared with baselines. Bold and underlined indicate the best and the second-best performance, respectively.
We observe that:</p>
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.p1.1.1">LM-based recommenders have driven impressive performance breakthroughs compared with traditional recommenders.</span>
Our results reveal that traditional recommenders outperform untuned LM-based recommenders (LLaMA, ChatRec) but fall short compared to LM-based recommenders fine-tuned on historical interactions (TALLRec and LLaRA).
It is noted that untuned LM-based recommenders are limited by inadequate instruction-following capabilities or a lack of domain-specific knowledge indicated by the low valid ratio and suboptimal performance, which highlights the necessity of the supervised fine-tuning stage to further ground the inherent ability of language models down to sequential recommendation tasks.
Moreover, MoRec also exhibits suboptimal performance compared to its traditional variant because it leaves the reasoning ability of LM untouched.
The superior performance of recent LM-based recommenders indicates the significant roles of knowledge and reasoning ability in language models for recommendation tasks, which highlights the potential of LM-based recommenders.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.p1.1.1">Tailoring language model for recommendation task further boosts the performance of LM-based recommenders.</span>
For LM-based recommenders, the substantial performance gap between fine-tuned and untuned approaches emphasizes the importance of tailoring models for recommendations.
TALLRec adapts LM for recommendation by supervised fine-tuning LM on historical interactions, surpassing traditional recommenders.
Additionally, LLaRA consistently outperformed TALLRec across all datasets, suggesting that introducing collaborative signals through appropriate item representations is a viable direction for further adapting LM.
However, existing LM-based methods adapt LM from either item representation methods or corpus construction, leaving the adaptation of optimization objectives unexplored.
Instead, S-DPO aligns the language model with multi-negative user preference data by extending DPO to include a softmax ranking loss, making it a more appropriate loss function for recommendation tasks.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.p1.1.1">S-DPO consistently outperforms all traditional recommenders and the state-of-the-art LM-based recommenders on all datasets.</span>
S-DPO shows an improvement ranging from 11.10% to 47.03% on Hit Ratio@1 compared to the second-best baseline.
Building on a supervised fine-tuning stage, we attribute this further improvement to the preference alignment stage, which explicitly instills ranking information into LM and utilizes preference data with multiple negative samples.
Such superior performance suggests that explicitly tailoring LM for recommendation using user preference data at the training objective level is more effective than other LM-based recommenders.
By leveraging the inherent abilities of the LM and incorporating ranking information from user preference data, S-DPO effectively differentiates between preferred and less preferred items.
Notably, the preference alignment stage hardly harms the inherent ability of LM, illustrated by a high valid ratio.
</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T1.6.3.1" style="font-size:90%;">Table 1</span>: </span><span class="ltx_text" id="S4.T1.4.2" style="font-size:90%;">The performance comparison on three real-world datasets. The improvement achieved by S-DPO is significant (<math alttext="p" class="ltx_Math" display="inline" id="S4.T1.3.1.m1.1"><semantics id="S4.T1.3.1.m1.1b"><mi id="S4.T1.3.1.m1.1.1" xref="S4.T1.3.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S4.T1.3.1.m1.1c"><ci id="S4.T1.3.1.m1.1.1.cmml" xref="S4.T1.3.1.m1.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.1.m1.1d">p</annotation><annotation encoding="application/x-llamapun" id="S4.T1.3.1.m1.1e">italic_p</annotation></semantics></math>-value <math alttext="&lt;&lt;" class="ltx_Math" display="inline" id="S4.T1.4.2.m2.1"><semantics id="S4.T1.4.2.m2.1b"><mo id="S4.T1.4.2.m2.1.1" xref="S4.T1.4.2.m2.1.1.cmml">&lt;&lt;</mo><annotation-xml encoding="MathML-Content" id="S4.T1.4.2.m2.1c"><csymbol cd="latexml" id="S4.T1.4.2.m2.1.1.cmml" xref="S4.T1.4.2.m2.1.1">much-less-than</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.2.m2.1d">&lt;&lt;</annotation><annotation encoding="application/x-llamapun" id="S4.T1.4.2.m2.1e">&lt; &lt;</annotation></semantics></math> 0.05).</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.7" style="width:433.6pt;height:127.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-119.6pt,35.2pt) scale(0.644547274338585,0.644547274338585) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T1.7.1">
<tr class="ltx_tr" id="S4.T1.7.1.1">
<td class="ltx_td ltx_border_r ltx_border_tt" id="S4.T1.7.1.1.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_border_r ltx_border_tt" id="S4.T1.7.1.1.2" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="3" id="S4.T1.7.1.1.3" style="padding-top:1pt;padding-bottom:1pt;">LastFM</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="3" id="S4.T1.7.1.1.4" style="padding-top:1pt;padding-bottom:1pt;">Goodreads</td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="3" id="S4.T1.7.1.1.5" style="padding-top:1pt;padding-bottom:1pt;">MovieLens</td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.2">
<td class="ltx_td ltx_border_r" id="S4.T1.7.1.2.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_border_r" id="S4.T1.7.1.2.2" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.2.3" style="padding-top:1pt;padding-bottom:1pt;">HR@1</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.2.4" style="padding-top:1pt;padding-bottom:1pt;">ValidRatio</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.2.5" style="padding-top:1pt;padding-bottom:1pt;">Rel.Ipv</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.2.6" style="padding-top:1pt;padding-bottom:1pt;">HR@1</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.2.7" style="padding-top:1pt;padding-bottom:1pt;">ValidRatio</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.2.8" style="padding-top:1pt;padding-bottom:1pt;">Rel.Ipv</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.2.9" style="padding-top:1pt;padding-bottom:1pt;">HR@1</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.2.10" style="padding-top:1pt;padding-bottom:1pt;">ValidRatio</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.2.11" style="padding-top:1pt;padding-bottom:1pt;">Rel.Ipv</td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.3">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.7.1.3.1" style="padding-top:1pt;padding-bottom:1pt;">Traditional</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.7.1.3.2" style="padding-top:1pt;padding-bottom:1pt;">GRU4Rec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib45" title="">45</a>]</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.3.3" style="padding-top:1pt;padding-bottom:1pt;">0.3867</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.3.4" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.7.1.3.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.3.5.1">70.91%</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.3.6" style="padding-top:1pt;padding-bottom:1pt;">0.2616</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.3.7" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.7.1.3.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.3.8.1">153.36%</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.3.9" style="padding-top:1pt;padding-bottom:1pt;">0.3750</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.3.10" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.3.11" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.3.11.1">40.35%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.4">
<td class="ltx_td ltx_border_r" id="S4.T1.7.1.4.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.4.2" style="padding-top:1pt;padding-bottom:1pt;">Caser <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib46" title="">46</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.4.3" style="padding-top:1pt;padding-bottom:1pt;">0.4174</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.4.4" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.4.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.4.5.1">58.34%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.4.6" style="padding-top:1pt;padding-bottom:1pt;">0.2233</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.4.7" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.4.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.4.8.1">196.82%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.4.9" style="padding-top:1pt;padding-bottom:1pt;">0.3861</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.4.10" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.4.11" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.4.11.1">36.31%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.5">
<td class="ltx_td ltx_border_r" id="S4.T1.7.1.5.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.5.2" style="padding-top:1pt;padding-bottom:1pt;">SASRec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib47" title="">47</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.5.3" style="padding-top:1pt;padding-bottom:1pt;">0.3581</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.5.4" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.5.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.5.5.1">84.56%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.5.6" style="padding-top:1pt;padding-bottom:1pt;">0.2233</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.5.7" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.5.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.5.8.1">196.82%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.5.9" style="padding-top:1pt;padding-bottom:1pt;">0.3444</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.5.10" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.5.11" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.5.11.1">52.82%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.6">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.7.1.6.1" style="padding-top:1pt;padding-bottom:1pt;">LM-based</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.7.1.6.2" style="padding-top:1pt;padding-bottom:1pt;">LLaMA2 <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib31" title="">31</a>]</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.6.3" style="padding-top:1pt;padding-bottom:1pt;">0.0233</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.6.4" style="padding-top:1pt;padding-bottom:1pt;">0.3845</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.7.1.6.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.6.5.1">2736.48%</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.6.6" style="padding-top:1pt;padding-bottom:1pt;">0.0246</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.6.7" style="padding-top:1pt;padding-bottom:1pt;">0.3443</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.7.1.6.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.6.8.1">2594.31%</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.6.9" style="padding-top:1pt;padding-bottom:1pt;">0.0421</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.6.10" style="padding-top:1pt;padding-bottom:1pt;">0.4421</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.7.1.6.11" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.6.11.1">1150.12%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.7">
<td class="ltx_td ltx_border_r" id="S4.T1.7.1.7.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.7.2" style="padding-top:1pt;padding-bottom:1pt;">ChatRec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib51" title="">51</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.7.3" style="padding-top:1pt;padding-bottom:1pt;">0.3306</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.7.4" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.7.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.7.5.1">99.91%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.7.6" style="padding-top:1pt;padding-bottom:1pt;">0.3770</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.7.7" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.7.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.7.8.1">75.81%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.7.9" style="padding-top:1pt;padding-bottom:1pt;">0.2000</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.7.10" style="padding-top:1pt;padding-bottom:1pt;">0.9895</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.7.11" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.7.11.1">163.15%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.8">
<td class="ltx_td ltx_border_r" id="S4.T1.7.1.8.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.8.2" style="padding-top:1pt;padding-bottom:1pt;">MoRec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib48" title="">48</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.8.3" style="padding-top:1pt;padding-bottom:1pt;">0.2877</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.8.4" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.8.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.8.5.1">129.72%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.8.6" style="padding-top:1pt;padding-bottom:1pt;">0.1652</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.8.7" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.8.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.8.8.1">301.21%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.8.9" style="padding-top:1pt;padding-bottom:1pt;">0.2822</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.8.10" style="padding-top:1pt;padding-bottom:1pt;">1.0000</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.8.11" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.8.11.1">86.50%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.9">
<td class="ltx_td ltx_border_r" id="S4.T1.7.1.9.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.9.2" style="padding-top:1pt;padding-bottom:1pt;">TALLRec <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib13" title="">13</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.9.3" style="padding-top:1pt;padding-bottom:1pt;">0.4983</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.9.4" style="padding-top:1pt;padding-bottom:1pt;">0.9573</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.9.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.9.5.1">32.63%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.9.6" style="padding-top:1pt;padding-bottom:1pt;">0.4180</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.9.7" style="padding-top:1pt;padding-bottom:1pt;">0.9836</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.9.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.9.8.1">58.56%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.9.9" style="padding-top:1pt;padding-bottom:1pt;">0.3895</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.9.10" style="padding-top:1pt;padding-bottom:1pt;">0.9263</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.9.11" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.9.11.1">35.12%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.10">
<td class="ltx_td ltx_border_r" id="S4.T1.7.1.10.1" style="padding-top:1pt;padding-bottom:1pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.10.2" style="padding-top:1pt;padding-bottom:1pt;">LLaRA <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite>
</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.10.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.7.1.10.3.1">0.5292</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.10.4" style="padding-top:1pt;padding-bottom:1pt;">0.9950</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.10.5" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.10.5.1">24.89%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.10.6" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.7.1.10.6.1">0.4508</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.10.7" style="padding-top:1pt;padding-bottom:1pt;">0.9918</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.7.1.10.8" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.10.8.1">47.03%</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.10.9" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S4.T1.7.1.10.9.1">0.4737</span></td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.10.10" style="padding-top:1pt;padding-bottom:1pt;">0.9684</td>
<td class="ltx_td ltx_align_center" id="S4.T1.7.1.10.11" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_italic" id="S4.T1.7.1.10.11.1">11.10%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T1.7.1.11">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.7.1.11.1" style="padding-top:1pt;padding-bottom:1pt;">Ours</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.7.1.11.2" style="padding-top:1pt;padding-bottom:1pt;">S-DPO</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.7.1.11.3" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.7.1.11.3.1">0.6609</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.7.1.11.4" style="padding-top:1pt;padding-bottom:1pt;">0.9900</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.7.1.11.5" style="padding-top:1pt;padding-bottom:1pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.7.1.11.6" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.7.1.11.6.1">0.6628</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.7.1.11.7" style="padding-top:1pt;padding-bottom:1pt;">0.9992</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T1.7.1.11.8" style="padding-top:1pt;padding-bottom:1pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.7.1.11.9" style="padding-top:1pt;padding-bottom:1pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.7.1.11.9.1">0.5263</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.7.1.11.10" style="padding-top:1pt;padding-bottom:1pt;">0.9895</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T1.7.1.11.11" style="padding-top:1pt;padding-bottom:1pt;">-</td>
</tr>
</table>
</span></div>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Study on S-DPO (RQ2)</h3>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Ablation Study.</h4>
<figure class="ltx_figure" id="S4.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F2.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="417" id="S4.F2.sf1.g1" src="extracted/5667968/figure/ablation.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="S4.F2.sf1.3.2" style="font-size:90%;">Ablation study.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F2.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="410" id="S4.F2.sf2.g1" src="extracted/5667968/figure/valid_loss_lastfm.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf2.2.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="S4.F2.sf2.3.2" style="font-size:90%;">Study of validation loss.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F2.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="406" id="S4.F2.sf3.g1" src="extracted/5667968/figure/chosen_reward_lastfm.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf3.2.1.1" style="font-size:90%;">(c)</span> </span><span class="ltx_text" id="S4.F2.sf3.3.2" style="font-size:90%;">Study of preferred item reward.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.2.1.1" style="font-size:90%;">Figure 2</span>: </span><span class="ltx_text" id="S4.F2.3.2" style="font-size:90%;">Study on S-DPO. (<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F2.sf1" title="In Figure 2 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2(a)</span></a>) Ablation study of S-DPO compared with SFT and DPO on three datasets. (<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F2.sf2" title="In Figure 2 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2(b)</span></a>) Comparison of the trend of validation loss between DPO and S-DPO on LastFM. (<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F2.sf3" title="In Figure 2 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2(c)</span></a>) Comparison of the reward of preferred items between DPO and S-DPO on LastFM.</span></figcaption>
</figure>
<div class="ltx_para" id="S4.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px1.p1.1">To investigate the effect of explicit ranking optimization and multiple negative samples of S-DPO, we compare it with Supervised Fine-Tuning(SFT), and a variant of S-DPO with only a single negative sample, downgrading to pairwise DPO loss.
The experimental results are reported in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F2.sf1" title="In Figure 2 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2(a)</span></a>.
We can observe that DPO can achieve an overall better performance compared to SFT, which underscores the effectiveness of instilling ranking relationships into existing LM-based recommenders.
With a more effective ranking gradient provided by multiple negative samples, S-DPO can further boost performance and achieve the best among all baseline methods and variants.</p>
</div>
<figure class="ltx_figure" id="S4.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F3.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="398" id="S4.F3.sf1.g1" src="extracted/5667968/figure/num_neg.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F3.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="S4.F3.sf1.3.2" style="font-size:90%;">Study of negative samples.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F3.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="398" id="S4.F3.sf2.g1" src="extracted/5667968/figure/beta_hr.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F3.sf2.4.2.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="S4.F3.sf2.2.1" style="font-size:90%;">Study of <math alttext="\beta" class="ltx_Math" display="inline" id="S4.F3.sf2.2.1.m1.1"><semantics id="S4.F3.sf2.2.1.m1.1b"><mi id="S4.F3.sf2.2.1.m1.1.1" xref="S4.F3.sf2.2.1.m1.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.F3.sf2.2.1.m1.1c"><ci id="S4.F3.sf2.2.1.m1.1.1.cmml" xref="S4.F3.sf2.2.1.m1.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.sf2.2.1.m1.1d">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.F3.sf2.2.1.m1.1e">italic_Î²</annotation></semantics></math> on Hit Ratio@1.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F3.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="398" id="S4.F3.sf3.g1" src="extracted/5667968/figure/beta_vr.png" width="598"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F3.sf3.4.2.1" style="font-size:90%;">(c)</span> </span><span class="ltx_text" id="S4.F3.sf3.2.1" style="font-size:90%;">Study of <math alttext="\beta" class="ltx_Math" display="inline" id="S4.F3.sf3.2.1.m1.1"><semantics id="S4.F3.sf3.2.1.m1.1b"><mi id="S4.F3.sf3.2.1.m1.1.1" xref="S4.F3.sf3.2.1.m1.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.F3.sf3.2.1.m1.1c"><ci id="S4.F3.sf3.2.1.m1.1.1.cmml" xref="S4.F3.sf3.2.1.m1.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.sf3.2.1.m1.1d">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.F3.sf3.2.1.m1.1e">italic_Î²</annotation></semantics></math> on Valid Ratio.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F3.10.5.1" style="font-size:90%;">Figure 3</span>: </span><span class="ltx_text" id="S4.F3.8.4" style="font-size:90%;">Studies on values of <math alttext="\beta" class="ltx_Math" display="inline" id="S4.F3.5.1.m1.1"><semantics id="S4.F3.5.1.m1.1b"><mi id="S4.F3.5.1.m1.1.1" xref="S4.F3.5.1.m1.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.F3.5.1.m1.1c"><ci id="S4.F3.5.1.m1.1.1.cmml" xref="S4.F3.5.1.m1.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.5.1.m1.1d">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.F3.5.1.m1.1e">italic_Î²</annotation></semantics></math> and negative samples numbers of S-DPO on LastFM. (<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F3.sf1" title="In Figure 3 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3(a)</span></a>) Performance comparisons with varying numbers of negative samples (<math alttext="\beta" class="ltx_Math" display="inline" id="S4.F3.6.2.m2.1"><semantics id="S4.F3.6.2.m2.1b"><mi id="S4.F3.6.2.m2.1.1" xref="S4.F3.6.2.m2.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.F3.6.2.m2.1c"><ci id="S4.F3.6.2.m2.1.1.cmml" xref="S4.F3.6.2.m2.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.6.2.m2.1d">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.F3.6.2.m2.1e">italic_Î²</annotation></semantics></math> = 1). (<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F3.sf2" title="In Figure 3 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3(b)</span></a>) Performance comparisons with varying values of <math alttext="\beta" class="ltx_Math" display="inline" id="S4.F3.7.3.m3.1"><semantics id="S4.F3.7.3.m3.1b"><mi id="S4.F3.7.3.m3.1.1" xref="S4.F3.7.3.m3.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.F3.7.3.m3.1c"><ci id="S4.F3.7.3.m3.1.1.cmml" xref="S4.F3.7.3.m3.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.7.3.m3.1d">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.F3.7.3.m3.1e">italic_Î²</annotation></semantics></math> setting negative samples number as 3. (<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F3.sf3" title="In Figure 3 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3(c)</span></a>) Validity comparisons with varying values of <math alttext="\beta" class="ltx_Math" display="inline" id="S4.F3.8.4.m4.1"><semantics id="S4.F3.8.4.m4.1b"><mi id="S4.F3.8.4.m4.1.1" xref="S4.F3.8.4.m4.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.F3.8.4.m4.1c"><ci id="S4.F3.8.4.m4.1.1.cmml" xref="S4.F3.8.4.m4.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F3.8.4.m4.1d">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.F3.8.4.m4.1e">italic_Î²</annotation></semantics></math> setting negative samples number as 3.</span></figcaption>
</figure>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Study on number of negative samples.</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px2.p1.1">Benefiting from the utilization of multiple negative pairs in preference data, our S-DPO offers two empirically appealing properties compared to DPO: 1) S-DPO has more effective gradients facilitating the optimization; 2) S-DPO mitigates the data likelihood decline issue of DPO.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F2.sf2" title="In Figure 2 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2(b)</span></a> provides the comparison of validation loss between S-DPO and DPO, illustrating that the loss of S-DPO decreases faster and more significantly.
This observation demonstrates that multiple negative pairs provide larger and more meaningful gradients for model optimization, which is attributed to the inherent ability of S-DPO to mine negative samples <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib37" title="">37</a>]</cite> (<em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS0.Px2.p1.1.1">cf. </em>Section <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.SS1.SSS0.Px3" title="Gradient Analysis. â€£ 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3.1</span></a>).
More results of loss analysis can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A3" title="Appendix C Study of Negative Samples Number â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS0.Px2.p2">
<p class="ltx_p" id="S4.SS2.SSS0.Px2.p2.1">On the other hand, it is widely accepted that the optimization of DPO suffers from data likelihood decline issues <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib52" title="">52</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib53" title="">53</a>]</cite>, which implies that the log-likelihood of the preferred completions is reduced below the original log-likelihood from the reference model, hindering the performance of DPO.
We, therefore, study the behavior of S-DPO and surprisingly find that it has the potential property of mitigating data likelihood decline issues.
As illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F2.sf3" title="In Figure 2 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2(c)</span></a>, S-DPO exhibits continually increasing rewards of preferred items, while DPO struggles to increase the reward of preferred items.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS0.Px2.p3">
<p class="ltx_p" id="S4.SS2.SSS0.Px2.p3.1">To further verify the superiority of the multiple negative samples of S-DPO compared with DPO, we conduct experiments to explore the potential of the number of negative samples, with the results depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F3.sf1" title="In Figure 3 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3(a)</span></a>.
It can be observed that utilizing multiple negative samples allows the model to achieve better performance than with a single one.
Furthermore, as the number of negative samples increases, the modelâ€™s performance exhibits continual improvements.
We attribute this success of S-DPO to more effective ranking gradients provided by multiple negatives which can be connected to the superior performance of contrastive loss in self-supervised recommendations <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib37" title="">37</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib38" title="">38</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib54" title="">54</a>]</cite>.
More results of preferred item rewards can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A3" title="Appendix C Study of Negative Samples Number â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">C</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Study on values of <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.1.m1.1"><semantics id="S4.SS2.SSS0.Px3.1.m1.1b"><mi id="S4.SS2.SSS0.Px3.1.m1.1.1" xref="S4.SS2.SSS0.Px3.1.m1.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.1.m1.1c"><ci id="S4.SS2.SSS0.Px3.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px3.1.m1.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.1.m1.1d">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.1.m1.1e">italic_Î²</annotation></semantics></math>.</h4>
<div class="ltx_para" id="S4.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS2.SSS0.Px3.p1.7">In S-DPO, <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.1.m1.1"><semantics id="S4.SS2.SSS0.Px3.p1.1.m1.1a"><mi id="S4.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.1.m1.1b"><ci id="S4.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.1.m1.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.1.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.1.m1.1d">italic_Î²</annotation></semantics></math> is a hyperparameter controlling the deviation of LM from the base reference policy <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib33" title="">33</a>]</cite>.
Typically, a smaller value of <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.2.m2.1"><semantics id="S4.SS2.SSS0.Px3.p1.2.m2.1a"><mi id="S4.SS2.SSS0.Px3.p1.2.m2.1.1" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.2.m2.1b"><ci id="S4.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.2.m2.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.2.m2.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.2.m2.1d">italic_Î²</annotation></semantics></math> implies that the language model is more heavily influenced by the preference signals and vice versa.
In this section, we explore the effect of <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.3.m3.1"><semantics id="S4.SS2.SSS0.Px3.p1.3.m3.1a"><mi id="S4.SS2.SSS0.Px3.p1.3.m3.1.1" xref="S4.SS2.SSS0.Px3.p1.3.m3.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.3.m3.1b"><ci id="S4.SS2.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.3.m3.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.3.m3.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.3.m3.1d">italic_Î²</annotation></semantics></math> on S-DPO.
As indicated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F3.sf2" title="In Figure 3 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3(b)</span></a> through <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F3.sf3" title="In Figure 3 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">3(c)</span></a>, a higher <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.4.m4.1"><semantics id="S4.SS2.SSS0.Px3.p1.4.m4.1a"><mi id="S4.SS2.SSS0.Px3.p1.4.m4.1.1" xref="S4.SS2.SSS0.Px3.p1.4.m4.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.4.m4.1b"><ci id="S4.SS2.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.4.m4.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.4.m4.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.4.m4.1d">italic_Î²</annotation></semantics></math> can achieve overall better performance in our task, while a lower <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.5.m5.1"><semantics id="S4.SS2.SSS0.Px3.p1.5.m5.1a"><mi id="S4.SS2.SSS0.Px3.p1.5.m5.1.1" xref="S4.SS2.SSS0.Px3.p1.5.m5.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.5.m5.1b"><ci id="S4.SS2.SSS0.Px3.p1.5.m5.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.5.m5.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.5.m5.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.5.m5.1d">italic_Î²</annotation></semantics></math> may overwhelm the modelâ€™s learned knowledge from the supervised fine-tuning stage, as evidenced by both low valid ratio and hit ratio.
On the other hand, an excessively large <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.6.m6.1"><semantics id="S4.SS2.SSS0.Px3.p1.6.m6.1a"><mi id="S4.SS2.SSS0.Px3.p1.6.m6.1.1" xref="S4.SS2.SSS0.Px3.p1.6.m6.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.6.m6.1b"><ci id="S4.SS2.SSS0.Px3.p1.6.m6.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.6.m6.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.6.m6.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.6.m6.1d">italic_Î²</annotation></semantics></math> prevents the model from effectively learning ranking relationships, leading to suboptimal performance.
In all our main experiments and studies, we set <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS0.Px3.p1.7.m7.1"><semantics id="S4.SS2.SSS0.Px3.p1.7.m7.1a"><mi id="S4.SS2.SSS0.Px3.p1.7.m7.1.1" xref="S4.SS2.SSS0.Px3.p1.7.m7.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS0.Px3.p1.7.m7.1b"><ci id="S4.SS2.SSS0.Px3.p1.7.m7.1.1.cmml" xref="S4.SS2.SSS0.Px3.p1.7.m7.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS0.Px3.p1.7.m7.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS0.Px3.p1.7.m7.1d">italic_Î²</annotation></semantics></math> as 1 to achieve a balance between ranking signals and inherent knowledge of language models.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Related Work</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>LM for Recommendation</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Recent advancements in recommendation systems have increasingly incorporated Language Models (LMs) due to their extensive knowledge and robust reasoning abilities.
This integration occurs primarily in two forms: LM-enhanced recommenders and LM-based recommenders.
LM-enhanced recommenders utilize LM embedding as semantic representations to provide contrastive signals <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib55" title="">55</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib56" title="">56</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib57" title="">57</a>]</cite> or utilize LM as advanced feature extractors improving the representation of user and item features <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib58" title="">58</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib59" title="">59</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib60" title="">60</a>]</cite>.
However, these systems still rely on traditional recommenders for the final recommendation task, which leaves the reasoning ability of LM largely untouched.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">On the other hand, LM-based recommenders directly employ LMs for making recommendations.
Early works leverage LMsâ€™ in-context learning capabilities for zero-shot or few-shot recommendations, demonstrating significant potential <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib9" title="">9</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib10" title="">10</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib11" title="">11</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib14" title="">14</a>]</cite>.
However, untuned LM-based recommenders are limited by inadequate instruction-following capabilities and a lack of domain-specific knowledge.
To bridge this gap, recent efforts in this category include supervised fine-tuning of LMs on the historical interactions to enhance their performance in recommendation tasks <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib13" title="">13</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib16" title="">16</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib22" title="">22</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib23" title="">23</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib26" title="">26</a>]</cite>.
More recently, researchers have discovered that exploring item representation methods in the finetuning phase may further boost LMâ€™s ability for recommendation <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib29" title="">29</a>]</cite>.
This branch of works includes integrating collaborative signals <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib17" title="">17</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib24" title="">24</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib61" title="">61</a>]</cite>, adjusting numeric representations <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib21" title="">21</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib62" title="">62</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib63" title="">63</a>]</cite> or introducing additional item tokens <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib15" title="">15</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib25" title="">25</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib27" title="">27</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib28" title="">28</a>]</cite>.</p>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.1">However, existing finetuned methods follow the training objective of language generation without any specific adjustments for personalized ranking.
Different from them, S-DPO proposes to explicitly optimize item ranking information on preference data.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Preference Alignment of Language Models</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">Reinforcement Learning from Human Feedback (RLHF) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib30" title="">30</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib31" title="">31</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib32" title="">32</a>]</cite> is a prevalent method of LMs to learn from human preferences. The RLHF pipeline comprises reward model learning and reinforcement learning (RL) optimization, the latter of which suffers instability and inefficiency. Direct Preference Optimization (DPO) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib33" title="">33</a>]</cite> bypasses the brittle RL phase via a particular reward model parameterization and is thus simpler to implement while still keeping the performance of RLHF.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.2">DPO proves to be effective in many scopes, like NLP <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib33" title="">33</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib64" title="">64</a>]</cite> and multimodal LMs <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib34" title="">34</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib65" title="">65</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib66" title="">66</a>, <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib67" title="">67</a>]</cite>. Besides, several variants have been proposed for further improvement of DPO. <math alttext="\Psi" class="ltx_Math" display="inline" id="S5.SS2.p2.1.m1.1"><semantics id="S5.SS2.p2.1.m1.1a"><mi id="S5.SS2.p2.1.m1.1.1" mathvariant="normal" xref="S5.SS2.p2.1.m1.1.1.cmml">Î¨</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><ci id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1">Î¨</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">\Psi</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.1.m1.1d">roman_Î¨</annotation></semantics></math>PO <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib68" title="">68</a>]</cite> is a generalization of DPO loss and its representative IPO can better overcome the problem of overfitting. ODPO <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib35" title="">35</a>]</cite> treats preference pairs differently by stipulating that the likelihood gap of two responses should be greater than a corresponding offset value. Other variants like KTO <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib69" title="">69</a>]</cite>, <math alttext="f" class="ltx_Math" display="inline" id="S5.SS2.p2.2.m2.1"><semantics id="S5.SS2.p2.2.m2.1a"><mi id="S5.SS2.p2.2.m2.1.1" xref="S5.SS2.p2.2.m2.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.2.m2.1b"><ci id="S5.SS2.p2.2.m2.1.1.cmml" xref="S5.SS2.p2.2.m2.1.1">ğ‘“</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.2.m2.1c">f</annotation><annotation encoding="application/x-llamapun" id="S5.SS2.p2.2.m2.1d">italic_f</annotation></semantics></math>-DPO <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib70" title="">70</a>]</cite>, RSO <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib71" title="">71</a>]</cite>, etc. also enhance DPO in various aspects. Despite these contributions, the possibilities for leveraging and further adapting DPO for recommendation are still largely unexplored. Moreover, there are few studies that discuss extending DPO to handle multi-negative scenarios.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Limitation</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">Despite effectiveness, there are several limitations not addressed in this paper.
On the one hand, the number of negative samples is capped at 15 in our experiments.
The potential of multiple negative samples hasnâ€™t been fully explored due to the limited time and computation resources.
On the other hand, increasing the number of negative examples inevitably results in higher training costs, a phenomenon that becomes more pronounced as the number of negative examples grows in the context of language models.
Finally, despite the empirical success and theoretical connection to softmax loss in recommendation tasks, the profound understanding of softmax ranking loss on LM needs to be further explored.</p>
</div>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusion</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">In this work, we devised a principled Softmax-DPO (S-DPO) loss specially tailored for LM-based recommenders, utilizing multiple negatives in preference data to explicitly instill ranking information into LM.
Empirically, S-DPO surpasses all baseline models including traditional and LM-based methods on three datasets in sequential recommendation tasks while successfully mitigating the data likelihood decline issue of DPO.
Grounded by theoretical proof, we bridge S-DPO with the softmax loss in self-supervised recommendations, underscoring the ranking performance of S-DPO and highlighting the critical roles of multiple negatives. Also, we theoretically find that S-DPO has an inherent ability to mine hard negatives which provide larger and more effective gradients to model optimization, assuring its exceptional capabilities in recommendation tasks.
We believe that our S-DPO, as a generalization of DPO, provides valuable insights for future LM-based recommenders and has the potential to benefit research fields other than recommender systems<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Thc extension to broader impact will be detailed in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A4" title="Appendix D Broader Impact â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">D</span></a></span></span></span>.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fang etÂ al. [2020]</span>
<span class="ltx_bibblock">
Hui Fang, Danning Zhang, Yiheng Shu, and Guibing Guo.

</span>
<span class="ltx_bibblock">Deep learning for sequential recommendation: Algorithms, influential factors, and evaluations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">ACM Trans. Inf. Syst.</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang etÂ al. [2019]</span>
<span class="ltx_bibblock">
Shoujin Wang, Liang Hu, Yan Wang, Longbing Cao, QuanÂ Z. Sheng, and MehmetÂ A. Orgun.

</span>
<span class="ltx_bibblock">Sequential recommender systems: Challenges, progress and prospects.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">IJCAI</em>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao etÂ al. [2023a]</span>
<span class="ltx_bibblock">
WayneÂ Xin Zhao, Kun Zhou, Junyi Li, Tianyi Tang, Xiaolei Wang, Yupeng Hou, Yingqian Min, Beichen Zhang, Junjie Zhang, Zican Dong, Yifan Du, Chen Yang, Yushuo Chen, Zhipeng Chen, Jinhao Jiang, Ruiyang Ren, Yifan Li, Xinyu Tang, Zikang Liu, Peiyu Liu, Jian-Yun Nie, and Ji-Rong Wen.

</span>
<span class="ltx_bibblock">A survey of large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.1.1">CoRR</em>, abs/2303.18223, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown etÂ al. [2020]</span>
<span class="ltx_bibblock">
TomÂ B. Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, Sandhini Agarwal, Ariel Herbert-Voss, Gretchen Krueger, Tom Henighan, Rewon Child, Aditya Ramesh, DanielÂ M. Ziegler, Jeffrey Wu, Clemens Winter, Christopher Hesse, Mark Chen, Eric Sigler, Mateusz Litwin, Scott Gray, Benjamin Chess, Jack Clark, Christopher Berner, Sam McCandlish, Alec Radford, Ilya Sutskever, and Dario Amodei.

</span>
<span class="ltx_bibblock">Language models are few-shot learners.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">NeurIPS</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Alayrac etÂ al. [2022]</span>
<span class="ltx_bibblock">
Jean-Baptiste Alayrac, Jeff Donahue, Pauline Luc, Antoine Miech, Iain Barr, Yana Hasson, Karel Lenc, Arthur Mensch, Katherine Millican, Malcolm Reynolds, Roman Ring, Eliza Rutherford, Serkan Cabi, Tengda Han, Zhitao Gong, Sina Samangooei, Marianne Monteiro, JacobÂ L. Menick, Sebastian Borgeaud, Andy Brock, Aida Nematzadeh, Sahand Sharifzadeh, Mikolaj Binkowski, Ricardo Barreira, Oriol Vinyals, Andrew Zisserman, and KarÃ©n Simonyan.

</span>
<span class="ltx_bibblock">Flamingo: a visual language model for few-shot learning.

</span>
<span class="ltx_bibblock">In Sanmi Koyejo, S.Â Mohamed, A.Â Agarwal, Danielle Belgrave, K.Â Cho, and A.Â Oh, editors, <em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">NeurIPS</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan etÂ al. [2023]</span>
<span class="ltx_bibblock">
Wenqi Fan, Zihuai Zhao, Jiatong Li, Yunqing Liu, Xiaowei Mei, Yiqi Wang, Jiliang Tang, and Qing Li.

</span>
<span class="ltx_bibblock">Recommender systems in the era of large language models (llms).

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">CoRR</em>, abs/2307.02046, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin etÂ al. [2023a]</span>
<span class="ltx_bibblock">
Jianghao Lin, Xinyi Dai, Yunjia Xi, Weiwen Liu, BoÂ Chen, Xiangyang Li, Chenxu Zhu, Huifeng Guo, Yong Yu, Ruiming Tang, and Weinan Zhang.

</span>
<span class="ltx_bibblock">How can recommender systems benefit from large language models: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">CoRR</em>, abs/2306.05817, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu etÂ al. [2023]</span>
<span class="ltx_bibblock">
Likang Wu, Zhi Zheng, Zhaopeng Qiu, Hao Wang, Hongchao Gu, Tingjia Shen, Chuan Qin, Chen Zhu, Hengshu Zhu, QiÂ Liu, Hui Xiong, and Enhong Chen.

</span>
<span class="ltx_bibblock">A survey on large language models for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">CoRR</em>, abs/2305.19860, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu etÂ al. [2023a]</span>
<span class="ltx_bibblock">
Junling Liu, Chao Liu, Renjie Lv, Kang Zhou, and Yan Zhang.

</span>
<span class="ltx_bibblock">Is chatgpt a good recommender? A preliminary study.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">CoRR</em>, abs/2304.10149, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai etÂ al. [2023]</span>
<span class="ltx_bibblock">
Sunhao Dai, Ninglu Shao, Haiyuan Zhao, Weijie Yu, Zihua Si, Chen Xu, Zhongxiang Sun, Xiao Zhang, and Jun Xu.

</span>
<span class="ltx_bibblock">Uncovering chatgptâ€™s capabilities in recommender systems.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">RecSys</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou etÂ al. [2024]</span>
<span class="ltx_bibblock">
Yupeng Hou, Junjie Zhang, Zihan Lin, Hongyu Lu, Ruobing Xie, JulianÂ J. McAuley, and WayneÂ Xin Zhao.

</span>
<span class="ltx_bibblock">Large language models are zero-shot rankers for recommender systems.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">ECIR</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al. [2023a]</span>
<span class="ltx_bibblock">
AnÂ Zhang, Leheng Sheng, Yuxin Chen, Hao Li, Yang Deng, Xiang Wang, and Tat-Seng Chua.

</span>
<span class="ltx_bibblock">On generative agents in recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">CoRR</em>, abs/2310.10108, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao etÂ al. [2023]</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Yang Zhang, Wenjie Wang, Fuli Feng, and Xiangnan He.

</span>
<span class="ltx_bibblock">Tallrec: An effective and efficient tuning framework to align large language model with recommendation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">RecSys</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao etÂ al. [2023]</span>
<span class="ltx_bibblock">
Yunfan Gao, Tao Sheng, Youlin Xiang, Yun Xiong, Haofen Wang, and Jiawei Zhang.

</span>
<span class="ltx_bibblock">Chat-rec: Towards interactive and explainable llms-augmented recommender system.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">CoRR</em>, abs/2303.14524, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu etÂ al. [2023]</span>
<span class="ltx_bibblock">
Yaochen Zhu, Liang Wu, QiÂ Guo, Liangjie Hong, and Jundong Li.

</span>
<span class="ltx_bibblock">Collaborative large language model for recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">CoRR</em>, abs/2311.01343, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al. [2023b]</span>
<span class="ltx_bibblock">
Junjie Zhang, Ruobing Xie, Yupeng Hou, WayneÂ Xin Zhao, Leyu Lin, and Ji-Rong Wen.

</span>
<span class="ltx_bibblock">Recommendation as instruction following: A large language model empowered recommendation approach.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">CoRR</em>, abs/2305.07001, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang etÂ al. [2023]</span>
<span class="ltx_bibblock">
Zhengyi Yang, Jiancan Wu, Yanchen Luo, Jizhi Zhang, Yancheng Yuan, AnÂ Zhang, Xiang Wang, and Xiangnan He.

</span>
<span class="ltx_bibblock">Large language model can interpret latent space of sequential recommender.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">CoRR</em>, abs/2310.20487, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liao etÂ al. [2023]</span>
<span class="ltx_bibblock">
Jiayi Liao, Sihang Li, Zhengyi Yang, Jiancan Wu, Yancheng Yuan, and Xiang Wang.

</span>
<span class="ltx_bibblock">Llara: Aligning large language models with sequential recommenders.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">CoRR</em>, abs/2312.02445, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rendle [2022]</span>
<span class="ltx_bibblock">
Steffen Rendle.

</span>
<span class="ltx_bibblock">Item recommendation from implicit feedback.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Recommender Systems Handbook</em>, pages 143â€“171. Springer US, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu etÂ al. [2024]</span>
<span class="ltx_bibblock">
Lanling Xu, Junjie Zhang, Bingqian Li, Jinpeng Wang, Mingchen Cai, WayneÂ Xin Zhao, and Ji-Rong Wen.

</span>
<span class="ltx_bibblock">Prompting large language models for recommender systems: A comprehensive framework and empirical analysis.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">CoRR</em>, abs/2401.04997, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng etÂ al. [2022]</span>
<span class="ltx_bibblock">
Shijie Geng, Shuchang Liu, Zuohui Fu, Yingqiang Ge, and Yongfeng Zhang.

</span>
<span class="ltx_bibblock">Recommendation as language processing (RLP): A unified pretrain, personalized prompt &amp; predict paradigm (P5).

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">RecSys</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui etÂ al. [2022]</span>
<span class="ltx_bibblock">
Zeyu Cui, Jianxin Ma, Chang Zhou, Jingren Zhou, and Hongxia Yang.

</span>
<span class="ltx_bibblock">M6-rec: Generative pretrained language models are open-ended recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">CoRR</em>, abs/2205.08084, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin etÂ al. [2023b]</span>
<span class="ltx_bibblock">
Jianghao Lin, Rong Shan, Chenxu Zhu, Kounianhua Du, BoÂ Chen, Shigang Quan, Ruiming Tang, Yong Yu, and Weinan Zhang.

</span>
<span class="ltx_bibblock">Rella: Retrieval-enhanced large language models for lifelong sequential behavior comprehension in recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">CoRR</em>, abs/2308.11131, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al. [2023c]</span>
<span class="ltx_bibblock">
Yang Zhang, Fuli Feng, Jizhi Zhang, Keqin Bao, Qifan Wang, and Xiangnan He.

</span>
<span class="ltx_bibblock">Collm: Integrating collaborative embeddings into large language models for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">CoRR</em>, abs/2310.19488, 2023c.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rajput etÂ al. [2023]</span>
<span class="ltx_bibblock">
Shashank Rajput, Nikhil Mehta, Anima Singh, RaghunandanÂ Hulikal Keshavan, Trung Vu, Lukasz Heldt, Lichan Hong, YiÂ Tay, VinhÂ Q. Tran, Jonah Samost, Maciej Kula, EdÂ H. Chi, and Mahesh Sathiamoorthy.

</span>
<span class="ltx_bibblock">Recommender systems with generative retrieval.

</span>
<span class="ltx_bibblock">In Alice Oh, Tristan Naumann, Amir Globerson, Kate Saenko, Moritz Hardt, and Sergey Levine, editors, <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">NeurIPS</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu etÂ al. [2024]</span>
<span class="ltx_bibblock">
Qijiong Liu, Nuo Chen, Tetsuya Sakai, and Xiao-Ming Wu.

</span>
<span class="ltx_bibblock">ONCE: boosting content-based recommendation with both open- and closed-source large language models.

</span>
<span class="ltx_bibblock">In LuzÂ Angelica Caudillo-Mata, Silvio Lattanzi, AndrÃ©sÂ MuÃ±oz Medina, Leman Akoglu, Aristides Gionis, and Sergei Vassilvitskii, editors, <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">WSDM</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhai etÂ al. [2024]</span>
<span class="ltx_bibblock">
Jiaqi Zhai, Lucy Liao, Xing Liu, Yueming Wang, Rui Li, Xuan Cao, Leon Gao, Zhaojie Gong, Fangda Gu, Michael He, Yinghai Lu, and YuÂ Shi.

</span>
<span class="ltx_bibblock">Actions speak louder than words: Trillion-parameter sequential transducers for generative recommendations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">CoRR</em>, abs/2402.17152, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng etÂ al. [2023]</span>
<span class="ltx_bibblock">
Bowen Zheng, Yupeng Hou, Hongyu Lu, YuÂ Chen, WayneÂ Xin Zhao, Ming Chen, and Ji-Rong Wen.

</span>
<span class="ltx_bibblock">Adapting large language models by integrating collaborative semantics for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.1.1">CoRR</em>, abs/2311.09049, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hua etÂ al. [2023]</span>
<span class="ltx_bibblock">
Wenyue Hua, Shuyuan Xu, Yingqiang Ge, and Yongfeng Zhang.

</span>
<span class="ltx_bibblock">How to index item ids for recommendation foundation models.

</span>
<span class="ltx_bibblock">In Qingyao Ai, Yiqin Liu, Alistair Moffat, Xuanjing Huang, Tetsuya Sakai, and Justin Zobel, editors, <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">SIGIR-AP</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Stiennon etÂ al. [2020]</span>
<span class="ltx_bibblock">
Nisan Stiennon, Long Ouyang, Jeffrey Wu, DanielÂ M. Ziegler, Ryan Lowe, Chelsea Voss, Alec Radford, Dario Amodei, and PaulÂ F. Christiano.

</span>
<span class="ltx_bibblock">Learning to summarize with human feedback.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">NeurIPS</em>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Touvron etÂ al. [2023]</span>
<span class="ltx_bibblock">
Hugo Touvron, Louis Martin, Kevin Stone, Peter Albert, Amjad Almahairi, Yasmine Babaei, Nikolay Bashlykov, Soumya Batra, Prajjwal Bhargava, Shruti Bhosale, Dan Bikel, Lukas Blecher, Cristian Canton-Ferrer, Moya Chen, Guillem Cucurull, David Esiobu, Jude Fernandes, Jeremy Fu, Wenyin Fu, Brian Fuller, Cynthia Gao, Vedanuj Goswami, Naman Goyal, Anthony Hartshorn, Saghar Hosseini, Rui Hou, Hakan Inan, Marcin Kardas, Viktor Kerkez, Madian Khabsa, Isabel Kloumann, Artem Korenev, PunitÂ Singh Koura, Marie-Anne Lachaux, Thibaut Lavril, Jenya Lee, Diana Liskovich, Yinghai Lu, Yuning Mao, Xavier Martinet, Todor Mihaylov, Pushkar Mishra, Igor Molybog, Yixin Nie, Andrew Poulton, Jeremy Reizenstein, Rashi Rungta, Kalyan Saladi, Alan Schelten, Ruan Silva, EricÂ Michael Smith, Ranjan Subramanian, XiaoqingÂ Ellen Tan, Binh Tang, Ross Taylor, Adina Williams, JianÂ Xiang Kuan, Puxin Xu, Zheng Yan, Iliyan Zarov, Yuchen Zhang, Angela Fan, Melanie Kambadur, Sharan Narang, AurÃ©lien Rodriguez, Robert Stojnic, Sergey Edunov,
and Thomas Scialom.

</span>
<span class="ltx_bibblock">Llama 2: Open foundation and fine-tuned chat models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">CoRR</em>, abs/2307.09288, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang etÂ al. [2022]</span>
<span class="ltx_bibblock">
Long Ouyang, Jeffrey Wu, XuÂ Jiang, Diogo Almeida, CarrollÂ L. Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, John Schulman, Jacob Hilton, Fraser Kelton, Luke Miller, Maddie Simens, Amanda Askell, Peter Welinder, PaulÂ F. Christiano, Jan Leike, and Ryan Lowe.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">NeurIPS</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov etÂ al. [2023]</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, ChristopherÂ D. Manning, Stefano Ermon, and Chelsea Finn.

</span>
<span class="ltx_bibblock">Direct preference optimization: Your language model is secretly a reward model.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">NeurIPS</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al. [2024]</span>
<span class="ltx_bibblock">
Ruohong Zhang, Liangke Gui, Zhiqing Sun, Yihao Feng, Keyang Xu, Yuanhan Zhang, DiÂ Fu, Chunyuan Li, Alexander Hauptmann, Yonatan Bisk, and Yiming Yang.

</span>
<span class="ltx_bibblock">Direct preference optimization of video large multimodal models from language model reward.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">CoRR</em>, abs/2404.01258, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Amini etÂ al. [2024]</span>
<span class="ltx_bibblock">
Afra Amini, Tim Vieira, and Ryan Cotterell.

</span>
<span class="ltx_bibblock">Direct preference optimization with an offset.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">CoRR</em>, abs/2402.10571, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al. [2023d]</span>
<span class="ltx_bibblock">
AnÂ Zhang, Leheng Sheng, Zhibo Cai, Xiang Wang, and Tat-Seng Chua.

</span>
<span class="ltx_bibblock">Empowering collaborative filtering with principled adversarial contrastive loss.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">NeurIPS</em>, 2023d.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu etÂ al. [2021]</span>
<span class="ltx_bibblock">
Jiancan Wu, Xiang Wang, Fuli Feng, Xiangnan He, Liang Chen, Jianxun Lian, and Xing Xie.

</span>
<span class="ltx_bibblock">Self-supervised graph learning for recommendation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">SIGIR</em>, 2021.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">vanÂ den Oord etÂ al. [2018]</span>
<span class="ltx_bibblock">
AÃ¤ron vanÂ den Oord, Yazhe Li, and Oriol Vinyals.

</span>
<span class="ltx_bibblock">Representation learning with contrastive predictive coding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">CoRR</em>, abs/1807.03748, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bradley and Terry [1952]</span>
<span class="ltx_bibblock">
RalphÂ Allan Bradley and MiltonÂ E. Terry.

</span>
<span class="ltx_bibblock">Rank analysis of incomplete block designs: I. the method of paired comparisons.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.1.1">Biometrika</em>, 1952.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Plackett [1975]</span>
<span class="ltx_bibblock">
R.Â L. Plackett.

</span>
<span class="ltx_bibblock">The analysis of permutations.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">Journal of the Royal Statistical Society. Series C (Applied Statistics)</em>, 1975.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luce [1959]</span>
<span class="ltx_bibblock">
R.Â Duncan Luce.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Individual Choice Behavior: A Theoretical analysis</em>.

</span>
<span class="ltx_bibblock">1959.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rendle etÂ al. [2012]</span>
<span class="ltx_bibblock">
Steffen Rendle, Christoph Freudenthaler, Zeno Gantner, and Lars Schmidt-Thieme.

</span>
<span class="ltx_bibblock">BPR: bayesian personalized ranking from implicit feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">CoRR</em>, abs/1205.2618, 2012.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu etÂ al. [2022a]</span>
<span class="ltx_bibblock">
Junliang Yu, Xin Xia, Tong Chen, Lizhen Cui, Nguyen QuocÂ Viet Hung, and Hongzhi Yin.

</span>
<span class="ltx_bibblock">Xsimgcl: Towards extremely simple graph contrastive learning for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib43.1.1">CoRR</em>, abs/2209.02544, 2022a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang etÂ al. [2022]</span>
<span class="ltx_bibblock">
AnÂ Zhang, Wenchang Ma, Xiang Wang, and Tat-Seng Chua.

</span>
<span class="ltx_bibblock">Incorporating bias-aware margins into contrastive loss for collaborative filtering.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">NeurIPS</em>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hidasi etÂ al. [2016]</span>
<span class="ltx_bibblock">
BalÃ¡zs Hidasi, Alexandros Karatzoglou, Linas Baltrunas, and Domonkos Tikk.

</span>
<span class="ltx_bibblock">Session-based recommendations with recurrent neural networks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">ICLR</em>, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang and Wang [2018]</span>
<span class="ltx_bibblock">
Jiaxi Tang and KeÂ Wang.

</span>
<span class="ltx_bibblock">Personalized top-n sequential recommendation via convolutional sequence embedding.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib46.1.1">WSDM</em>, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley [2018]</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and JulianÂ J. McAuley.

</span>
<span class="ltx_bibblock">Self-attentive sequential recommendation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib47.1.1">ICDM</em>, 2018.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan etÂ al. [2023]</span>
<span class="ltx_bibblock">
Zheng Yuan, Fajie Yuan, YuÂ Song, Youhua Li, Junchen Fu, Fei Yang, Yunzhu Pan, and Yongxin Ni.

</span>
<span class="ltx_bibblock">Where to go next for recommender systems? ID- vs. modality-based recommender models revisited.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib48.1.1">SIGIR</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Harper and Konstan [2016]</span>
<span class="ltx_bibblock">
F.Â Maxwell Harper and JosephÂ A. Konstan.

</span>
<span class="ltx_bibblock">The movielens datasets: History and context.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">ACM Trans. Interact. Intell. Syst.</em>, 2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cantador etÂ al. [2011]</span>
<span class="ltx_bibblock">
IvÃ¡n Cantador, Peter Brusilovsky, and Tsvi Kuflik, editors.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">Proceedings of the 2nd International Workshop on Information Heterogeneity and Fusion in Recommender Systems, HetRec â€™11, Chicago, Illinois, USA, October 27, 2011</em>, 2011. ACM.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI [2023]</span>
<span class="ltx_bibblock">
OpenAI.

</span>
<span class="ltx_bibblock">GPT-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.1.1">CoRR</em>, abs/2303.08774, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pal etÂ al. [2024]</span>
<span class="ltx_bibblock">
Arka Pal, Deep Karkhanis, Samuel Dooley, Manley Roberts, Siddartha Naidu, and Colin White.

</span>
<span class="ltx_bibblock">Smaug: Fixing failure modes of preference optimisation with dpo-positive.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib52.1.1">CoRR</em>, abs/2402.13228, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen etÂ al. [2024]</span>
<span class="ltx_bibblock">
Huayu Chen, Guande He, Hang Su, and Jun Zhu.

</span>
<span class="ltx_bibblock">Noise contrastive alignment of language models with explicit rewards.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.1.1">CoRR</em>, abs/2402.05369, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu etÂ al. [2022b]</span>
<span class="ltx_bibblock">
Junliang Yu, Hongzhi Yin, Xin Xia, Tong Chen, Lizhen Cui, and Quoc VietÂ Hung Nguyen.

</span>
<span class="ltx_bibblock">Are graph augmentations necessary?: Simple graph contrastive learning for recommendation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib54.1.1">SIGIR</em>, 2022b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei etÂ al. [2024]</span>
<span class="ltx_bibblock">
Wei Wei, Xubin Ren, Jiabin Tang, Qinyong Wang, Lixin Su, Suqi Cheng, Junfeng Wang, Dawei Yin, and Chao Huang.

</span>
<span class="ltx_bibblock">Llmrec: Large language models with graph augmentation for recommendation.

</span>
<span class="ltx_bibblock">In LuzÂ Angelica Caudillo-Mata, Silvio Lattanzi, AndrÃ©sÂ MuÃ±oz Medina, Leman Akoglu, Aristides Gionis, and Sergei Vassilvitskii, editors, <em class="ltx_emph ltx_font_italic" id="bib.bib55.1.1">WSDM</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ren etÂ al. [2023]</span>
<span class="ltx_bibblock">
Xubin Ren, Wei Wei, Lianghao Xia, Lixin Su, Suqi Cheng, Junfeng Wang, Dawei Yin, and Chao Huang.

</span>
<span class="ltx_bibblock">Representation learning with large language models for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.1.1">CoRR</em>, abs/2310.15950, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou etÂ al. [2023]</span>
<span class="ltx_bibblock">
Yupeng Hou, Zhankui He, JulianÂ J. McAuley, and WayneÂ Xin Zhao.

</span>
<span class="ltx_bibblock">Learning vector-quantized item representation for transferable sequential recommenders.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib57.1.1">WWW</em>, pages 1162â€“1171. ACM, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xi etÂ al. [2023]</span>
<span class="ltx_bibblock">
Yunjia Xi, Weiwen Liu, Jianghao Lin, Jieming Zhu, BoÂ Chen, Ruiming Tang, Weinan Zhang, Rui Zhang, and Yong Yu.

</span>
<span class="ltx_bibblock">Towards open-world recommendation with knowledge augmentation from large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib58.1.1">CoRR</em>, abs/2306.10933, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng etÂ al. [2024]</span>
<span class="ltx_bibblock">
Binzong Geng, Zhaoxin Huan, Xiaolu Zhang, Yong He, Liang Zhang, Fajie Yuan, Jun Zhou, and Linjian Mo.

</span>
<span class="ltx_bibblock">Breaking the length barrier: Llm-enhanced CTR prediction in long textual user behaviors.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib59.1.1">CoRR</em>, abs/2403.19347, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen [2023]</span>
<span class="ltx_bibblock">
Zheng Chen.

</span>
<span class="ltx_bibblock">PALR: personalization aware llms for recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib60.1.1">CoRR</em>, abs/2305.07622, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al. [2023a]</span>
<span class="ltx_bibblock">
Xiangyang Li, BoÂ Chen, LuÂ Hou, and Ruiming Tang.

</span>
<span class="ltx_bibblock">Ctrl: Connect tabular and language model for ctr prediction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib61.1.1">arXiv preprint arXiv:2306.02841</em>, 2023a.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib62">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng etÂ al. [2023]</span>
<span class="ltx_bibblock">
Shijie Geng, Juntao Tan, Shuchang Liu, Zuohui Fu, and Yongfeng Zhang.

</span>
<span class="ltx_bibblock">VIP5: towards multimodal foundation models for recommendation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib62.1.1">EMNLP (Findings)</em>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib63">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin etÂ al. [2023c]</span>
<span class="ltx_bibblock">
Xinyu Lin, Wenjie Wang, Yongqi Li, Fuli Feng, See-Kiong Ng, and Tat-Seng Chua.

</span>
<span class="ltx_bibblock">A multi-facet paradigm to bridge large language model and recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib63.1.1">CoRR</em>, abs/2310.06491, 2023c.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib64">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan etÂ al. [2024]</span>
<span class="ltx_bibblock">
Weizhe Yuan, RichardÂ Yuanzhe Pang, Kyunghyun Cho, Sainbayar Sukhbaatar, Jing Xu, and Jason Weston.

</span>
<span class="ltx_bibblock">Self-rewarding language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib64.1.1">CoRR</em>, abs/2401.10020, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib65">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao etÂ al. [2023b]</span>
<span class="ltx_bibblock">
Zhiyuan Zhao, Bin Wang, Linke Ouyang, Xiaoyi Dong, Jiaqi Wang, and Conghui He.

</span>
<span class="ltx_bibblock">Beyond hallucinations: Enhancing lvlms through hallucination-aware direct preference optimization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib65.1.1">CoRR</em>, abs/2311.16839, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib66">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gunjal etÂ al. [2024]</span>
<span class="ltx_bibblock">
Anisha Gunjal, Jihan Yin, and Erhan Bas.

</span>
<span class="ltx_bibblock">Detecting and preventing hallucinations in large vision language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib66.1.1">AAAI</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib67">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li etÂ al. [2023b]</span>
<span class="ltx_bibblock">
Lei Li, Zhihui Xie, Mukai Li, Shunian Chen, Peiyi Wang, Liang Chen, Yazheng Yang, Benyou Wang, and Lingpeng Kong.

</span>
<span class="ltx_bibblock">Silkie: Preference distillation for large visual language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib67.1.1">CoRR</em>, abs/2312.10665, 2023b.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib68">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Azar etÂ al. [2024]</span>
<span class="ltx_bibblock">
MohammadÂ Gheshlaghi Azar, ZhaohanÂ Daniel Guo, Bilal Piot, RÃ©mi Munos, Mark Rowland, Michal Valko, and Daniele Calandriello.

</span>
<span class="ltx_bibblock">A general theoretical paradigm to understand learning from human preferences.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib68.1.1">AISTATS</em>, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib69">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ethayarajh etÂ al. [2024]</span>
<span class="ltx_bibblock">
Kawin Ethayarajh, Winnie Xu, Niklas Muennighoff, Dan Jurafsky, and Douwe Kiela.

</span>
<span class="ltx_bibblock">KTO: model alignment as prospect theoretic optimization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib69.1.1">CoRR</em>, abs/2402.01306, 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib70">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang etÂ al. [2023]</span>
<span class="ltx_bibblock">
Chaoqi Wang, Yibo Jiang, Chenghao Yang, Han Liu, and Yuxin Chen.

</span>
<span class="ltx_bibblock">Beyond reverse KL: generalizing direct preference optimization with diverse divergence constraints.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib70.1.1">CoRR</em>, abs/2309.16240, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib71">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu etÂ al. [2023b]</span>
<span class="ltx_bibblock">
Tianqi Liu, Yao Zhao, Rishabh Joshi, Misha Khalman, Mohammad Saleh, PeterÂ J. Liu, and Jialu Liu.

</span>
<span class="ltx_bibblock">Statistical rejection sampling improves preference optimization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib71.1.1">CoRR</em>, abs/2309.06657, 2023b.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Mathematical Derivations</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Deriving Preference Distribution </h3>
<div class="ltx_para" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">The PL model takes the form:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx16">
<tbody id="A1.E14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle p^{*}(\tau|e_{e},i_{2},\cdots,e_{K},x_{u})=\prod_{j=1}^{K}\frac{%
{\rm exp}\left(r(x_{u},e_{\tau(j)})\right)}{\Sigma_{l=j}^{K}{\rm exp}(r\left(x%
_{u},e_{\tau(l)})\right)}." class="ltx_Math" display="inline" id="A1.E14.m1.6"><semantics id="A1.E14.m1.6a"><mrow id="A1.E14.m1.6.6.1" xref="A1.E14.m1.6.6.1.1.cmml"><mrow id="A1.E14.m1.6.6.1.1" xref="A1.E14.m1.6.6.1.1.cmml"><mrow id="A1.E14.m1.6.6.1.1.1" xref="A1.E14.m1.6.6.1.1.1.cmml"><msup id="A1.E14.m1.6.6.1.1.1.3" xref="A1.E14.m1.6.6.1.1.1.3.cmml"><mi id="A1.E14.m1.6.6.1.1.1.3.2" xref="A1.E14.m1.6.6.1.1.1.3.2.cmml">p</mi><mo id="A1.E14.m1.6.6.1.1.1.3.3" xref="A1.E14.m1.6.6.1.1.1.3.3.cmml">âˆ—</mo></msup><mo id="A1.E14.m1.6.6.1.1.1.2" xref="A1.E14.m1.6.6.1.1.1.2.cmml">â¢</mo><mrow id="A1.E14.m1.6.6.1.1.1.1.1" xref="A1.E14.m1.6.6.1.1.1.1.1.1.cmml"><mo id="A1.E14.m1.6.6.1.1.1.1.1.2" stretchy="false" xref="A1.E14.m1.6.6.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.E14.m1.6.6.1.1.1.1.1.1" xref="A1.E14.m1.6.6.1.1.1.1.1.1.cmml"><mi id="A1.E14.m1.6.6.1.1.1.1.1.1.6" xref="A1.E14.m1.6.6.1.1.1.1.1.1.6.cmml">Ï„</mi><mo fence="false" id="A1.E14.m1.6.6.1.1.1.1.1.1.5" xref="A1.E14.m1.6.6.1.1.1.1.1.1.5.cmml">|</mo><mrow id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.5.cmml"><msub id="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1" xref="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.2" xref="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml">e</mi></msub><mo id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.5" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.5.cmml">,</mo><msub id="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2" xref="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.cmml"><mi id="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.2" xref="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.2.cmml">i</mi><mn id="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.3" xref="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.3.cmml">2</mn></msub><mo id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.6" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.5.cmml">,</mo><mi id="A1.E14.m1.5.5" mathvariant="normal" xref="A1.E14.m1.5.5.cmml">â‹¯</mi><mo id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.7" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.5.cmml">,</mo><msub id="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3" xref="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.cmml"><mi id="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.2" xref="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.2.cmml">e</mi><mi id="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.3" xref="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.3.cmml">K</mi></msub><mo id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.8" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.5.cmml">,</mo><msub id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.cmml"><mi id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.2" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.2.cmml">x</mi><mi id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.3" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.3.cmml">u</mi></msub></mrow></mrow><mo id="A1.E14.m1.6.6.1.1.1.1.1.3" stretchy="false" xref="A1.E14.m1.6.6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.E14.m1.6.6.1.1.2" xref="A1.E14.m1.6.6.1.1.2.cmml">=</mo><mrow id="A1.E14.m1.6.6.1.1.3" xref="A1.E14.m1.6.6.1.1.3.cmml"><mstyle displaystyle="true" id="A1.E14.m1.6.6.1.1.3.1" xref="A1.E14.m1.6.6.1.1.3.1.cmml"><munderover id="A1.E14.m1.6.6.1.1.3.1a" xref="A1.E14.m1.6.6.1.1.3.1.cmml"><mo id="A1.E14.m1.6.6.1.1.3.1.2.2" movablelimits="false" xref="A1.E14.m1.6.6.1.1.3.1.2.2.cmml">âˆ</mo><mrow id="A1.E14.m1.6.6.1.1.3.1.2.3" xref="A1.E14.m1.6.6.1.1.3.1.2.3.cmml"><mi id="A1.E14.m1.6.6.1.1.3.1.2.3.2" xref="A1.E14.m1.6.6.1.1.3.1.2.3.2.cmml">j</mi><mo id="A1.E14.m1.6.6.1.1.3.1.2.3.1" xref="A1.E14.m1.6.6.1.1.3.1.2.3.1.cmml">=</mo><mn id="A1.E14.m1.6.6.1.1.3.1.2.3.3" xref="A1.E14.m1.6.6.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="A1.E14.m1.6.6.1.1.3.1.3" xref="A1.E14.m1.6.6.1.1.3.1.3.cmml">K</mi></munderover></mstyle><mstyle displaystyle="true" id="A1.E14.m1.4.4" xref="A1.E14.m1.4.4.cmml"><mfrac id="A1.E14.m1.4.4a" xref="A1.E14.m1.4.4.cmml"><mrow id="A1.E14.m1.2.2.2" xref="A1.E14.m1.2.2.2.cmml"><mi id="A1.E14.m1.2.2.2.4" xref="A1.E14.m1.2.2.2.4.cmml">exp</mi><mo id="A1.E14.m1.2.2.2.3" xref="A1.E14.m1.2.2.2.3.cmml">â¢</mo><mrow id="A1.E14.m1.2.2.2.2.1" xref="A1.E14.m1.2.2.2.2.1.1.cmml"><mo id="A1.E14.m1.2.2.2.2.1.2" xref="A1.E14.m1.2.2.2.2.1.1.cmml">(</mo><mrow id="A1.E14.m1.2.2.2.2.1.1" xref="A1.E14.m1.2.2.2.2.1.1.cmml"><mi id="A1.E14.m1.2.2.2.2.1.1.4" xref="A1.E14.m1.2.2.2.2.1.1.4.cmml">r</mi><mo id="A1.E14.m1.2.2.2.2.1.1.3" xref="A1.E14.m1.2.2.2.2.1.1.3.cmml">â¢</mo><mrow id="A1.E14.m1.2.2.2.2.1.1.2.2" xref="A1.E14.m1.2.2.2.2.1.1.2.3.cmml"><mo id="A1.E14.m1.2.2.2.2.1.1.2.2.3" stretchy="false" xref="A1.E14.m1.2.2.2.2.1.1.2.3.cmml">(</mo><msub id="A1.E14.m1.2.2.2.2.1.1.1.1.1" xref="A1.E14.m1.2.2.2.2.1.1.1.1.1.cmml"><mi id="A1.E14.m1.2.2.2.2.1.1.1.1.1.2" xref="A1.E14.m1.2.2.2.2.1.1.1.1.1.2.cmml">x</mi><mi id="A1.E14.m1.2.2.2.2.1.1.1.1.1.3" xref="A1.E14.m1.2.2.2.2.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.E14.m1.2.2.2.2.1.1.2.2.4" xref="A1.E14.m1.2.2.2.2.1.1.2.3.cmml">,</mo><msub id="A1.E14.m1.2.2.2.2.1.1.2.2.2" xref="A1.E14.m1.2.2.2.2.1.1.2.2.2.cmml"><mi id="A1.E14.m1.2.2.2.2.1.1.2.2.2.2" xref="A1.E14.m1.2.2.2.2.1.1.2.2.2.2.cmml">e</mi><mrow id="A1.E14.m1.1.1.1.1.1" xref="A1.E14.m1.1.1.1.1.1.cmml"><mi id="A1.E14.m1.1.1.1.1.1.3" xref="A1.E14.m1.1.1.1.1.1.3.cmml">Ï„</mi><mo id="A1.E14.m1.1.1.1.1.1.2" xref="A1.E14.m1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.E14.m1.1.1.1.1.1.4.2" xref="A1.E14.m1.1.1.1.1.1.cmml"><mo id="A1.E14.m1.1.1.1.1.1.4.2.1" stretchy="false" xref="A1.E14.m1.1.1.1.1.1.cmml">(</mo><mi id="A1.E14.m1.1.1.1.1.1.1" xref="A1.E14.m1.1.1.1.1.1.1.cmml">j</mi><mo id="A1.E14.m1.1.1.1.1.1.4.2.2" stretchy="false" xref="A1.E14.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="A1.E14.m1.2.2.2.2.1.1.2.2.5" stretchy="false" xref="A1.E14.m1.2.2.2.2.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.E14.m1.2.2.2.2.1.3" xref="A1.E14.m1.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.E14.m1.4.4.4" xref="A1.E14.m1.4.4.4.cmml"><msubsup id="A1.E14.m1.4.4.4.4" xref="A1.E14.m1.4.4.4.4.cmml"><mi id="A1.E14.m1.4.4.4.4.2.2" mathvariant="normal" xref="A1.E14.m1.4.4.4.4.2.2.cmml">Î£</mi><mrow id="A1.E14.m1.4.4.4.4.2.3" xref="A1.E14.m1.4.4.4.4.2.3.cmml"><mi id="A1.E14.m1.4.4.4.4.2.3.2" xref="A1.E14.m1.4.4.4.4.2.3.2.cmml">l</mi><mo id="A1.E14.m1.4.4.4.4.2.3.1" xref="A1.E14.m1.4.4.4.4.2.3.1.cmml">=</mo><mi id="A1.E14.m1.4.4.4.4.2.3.3" xref="A1.E14.m1.4.4.4.4.2.3.3.cmml">j</mi></mrow><mi id="A1.E14.m1.4.4.4.4.3" xref="A1.E14.m1.4.4.4.4.3.cmml">K</mi></msubsup><mo id="A1.E14.m1.4.4.4.3" xref="A1.E14.m1.4.4.4.3.cmml">â¢</mo><mi id="A1.E14.m1.4.4.4.5" xref="A1.E14.m1.4.4.4.5.cmml">exp</mi><mo id="A1.E14.m1.4.4.4.3a" xref="A1.E14.m1.4.4.4.3.cmml">â¢</mo><mrow id="A1.E14.m1.4.4.4.2.1" xref="A1.E14.m1.4.4.4.2.1.1.cmml"><mo id="A1.E14.m1.4.4.4.2.1.2" stretchy="false" xref="A1.E14.m1.4.4.4.2.1.1.cmml">(</mo><mrow id="A1.E14.m1.4.4.4.2.1.1" xref="A1.E14.m1.4.4.4.2.1.1.cmml"><mi id="A1.E14.m1.4.4.4.2.1.1.4" xref="A1.E14.m1.4.4.4.2.1.1.4.cmml">r</mi><mo id="A1.E14.m1.4.4.4.2.1.1.3" xref="A1.E14.m1.4.4.4.2.1.1.3.cmml">â¢</mo><mrow id="A1.E14.m1.4.4.4.2.1.1.2.2" xref="A1.E14.m1.4.4.4.2.1.1.2.3.cmml"><mo id="A1.E14.m1.4.4.4.2.1.1.2.2.3" xref="A1.E14.m1.4.4.4.2.1.1.2.3.cmml">(</mo><msub id="A1.E14.m1.4.4.4.2.1.1.1.1.1" xref="A1.E14.m1.4.4.4.2.1.1.1.1.1.cmml"><mi id="A1.E14.m1.4.4.4.2.1.1.1.1.1.2" xref="A1.E14.m1.4.4.4.2.1.1.1.1.1.2.cmml">x</mi><mi id="A1.E14.m1.4.4.4.2.1.1.1.1.1.3" xref="A1.E14.m1.4.4.4.2.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.E14.m1.4.4.4.2.1.1.2.2.4" xref="A1.E14.m1.4.4.4.2.1.1.2.3.cmml">,</mo><msub id="A1.E14.m1.4.4.4.2.1.1.2.2.2" xref="A1.E14.m1.4.4.4.2.1.1.2.2.2.cmml"><mi id="A1.E14.m1.4.4.4.2.1.1.2.2.2.2" xref="A1.E14.m1.4.4.4.2.1.1.2.2.2.2.cmml">e</mi><mrow id="A1.E14.m1.3.3.3.1.1" xref="A1.E14.m1.3.3.3.1.1.cmml"><mi id="A1.E14.m1.3.3.3.1.1.3" xref="A1.E14.m1.3.3.3.1.1.3.cmml">Ï„</mi><mo id="A1.E14.m1.3.3.3.1.1.2" xref="A1.E14.m1.3.3.3.1.1.2.cmml">â¢</mo><mrow id="A1.E14.m1.3.3.3.1.1.4.2" xref="A1.E14.m1.3.3.3.1.1.cmml"><mo id="A1.E14.m1.3.3.3.1.1.4.2.1" stretchy="false" xref="A1.E14.m1.3.3.3.1.1.cmml">(</mo><mi id="A1.E14.m1.3.3.3.1.1.1" xref="A1.E14.m1.3.3.3.1.1.1.cmml">l</mi><mo id="A1.E14.m1.3.3.3.1.1.4.2.2" stretchy="false" xref="A1.E14.m1.3.3.3.1.1.cmml">)</mo></mrow></mrow></msub><mo id="A1.E14.m1.4.4.4.2.1.1.2.2.5" stretchy="false" xref="A1.E14.m1.4.4.4.2.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.E14.m1.4.4.4.2.1.3" xref="A1.E14.m1.4.4.4.2.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="A1.E14.m1.6.6.1.2" lspace="0em" xref="A1.E14.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.E14.m1.6b"><apply id="A1.E14.m1.6.6.1.1.cmml" xref="A1.E14.m1.6.6.1"><eq id="A1.E14.m1.6.6.1.1.2.cmml" xref="A1.E14.m1.6.6.1.1.2"></eq><apply id="A1.E14.m1.6.6.1.1.1.cmml" xref="A1.E14.m1.6.6.1.1.1"><times id="A1.E14.m1.6.6.1.1.1.2.cmml" xref="A1.E14.m1.6.6.1.1.1.2"></times><apply id="A1.E14.m1.6.6.1.1.1.3.cmml" xref="A1.E14.m1.6.6.1.1.1.3"><csymbol cd="ambiguous" id="A1.E14.m1.6.6.1.1.1.3.1.cmml" xref="A1.E14.m1.6.6.1.1.1.3">superscript</csymbol><ci id="A1.E14.m1.6.6.1.1.1.3.2.cmml" xref="A1.E14.m1.6.6.1.1.1.3.2">ğ‘</ci><times id="A1.E14.m1.6.6.1.1.1.3.3.cmml" xref="A1.E14.m1.6.6.1.1.1.3.3"></times></apply><apply id="A1.E14.m1.6.6.1.1.1.1.1.1.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1"><csymbol cd="latexml" id="A1.E14.m1.6.6.1.1.1.1.1.1.5.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.5">conditional</csymbol><ci id="A1.E14.m1.6.6.1.1.1.1.1.1.6.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.6">ğœ</ci><list id="A1.E14.m1.6.6.1.1.1.1.1.1.4.5.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.4"><apply id="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.1.1.1.3">ğ‘’</ci></apply><apply id="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.1.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.2.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.2">ğ‘–</ci><cn id="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="A1.E14.m1.6.6.1.1.1.1.1.1.2.2.2.3">2</cn></apply><ci id="A1.E14.m1.5.5.cmml" xref="A1.E14.m1.5.5">â‹¯</ci><apply id="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.1.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.2.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.2">ğ‘’</ci><ci id="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.3.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.3.3.3.3">ğ¾</ci></apply><apply id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.1.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4">subscript</csymbol><ci id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.2.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.2">ğ‘¥</ci><ci id="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.3.cmml" xref="A1.E14.m1.6.6.1.1.1.1.1.1.4.4.4.3">ğ‘¢</ci></apply></list></apply></apply><apply id="A1.E14.m1.6.6.1.1.3.cmml" xref="A1.E14.m1.6.6.1.1.3"><apply id="A1.E14.m1.6.6.1.1.3.1.cmml" xref="A1.E14.m1.6.6.1.1.3.1"><csymbol cd="ambiguous" id="A1.E14.m1.6.6.1.1.3.1.1.cmml" xref="A1.E14.m1.6.6.1.1.3.1">superscript</csymbol><apply id="A1.E14.m1.6.6.1.1.3.1.2.cmml" xref="A1.E14.m1.6.6.1.1.3.1"><csymbol cd="ambiguous" id="A1.E14.m1.6.6.1.1.3.1.2.1.cmml" xref="A1.E14.m1.6.6.1.1.3.1">subscript</csymbol><csymbol cd="latexml" id="A1.E14.m1.6.6.1.1.3.1.2.2.cmml" xref="A1.E14.m1.6.6.1.1.3.1.2.2">product</csymbol><apply id="A1.E14.m1.6.6.1.1.3.1.2.3.cmml" xref="A1.E14.m1.6.6.1.1.3.1.2.3"><eq id="A1.E14.m1.6.6.1.1.3.1.2.3.1.cmml" xref="A1.E14.m1.6.6.1.1.3.1.2.3.1"></eq><ci id="A1.E14.m1.6.6.1.1.3.1.2.3.2.cmml" xref="A1.E14.m1.6.6.1.1.3.1.2.3.2">ğ‘—</ci><cn id="A1.E14.m1.6.6.1.1.3.1.2.3.3.cmml" type="integer" xref="A1.E14.m1.6.6.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="A1.E14.m1.6.6.1.1.3.1.3.cmml" xref="A1.E14.m1.6.6.1.1.3.1.3">ğ¾</ci></apply><apply id="A1.E14.m1.4.4.cmml" xref="A1.E14.m1.4.4"><divide id="A1.E14.m1.4.4.5.cmml" xref="A1.E14.m1.4.4"></divide><apply id="A1.E14.m1.2.2.2.cmml" xref="A1.E14.m1.2.2.2"><times id="A1.E14.m1.2.2.2.3.cmml" xref="A1.E14.m1.2.2.2.3"></times><ci id="A1.E14.m1.2.2.2.4.cmml" xref="A1.E14.m1.2.2.2.4">exp</ci><apply id="A1.E14.m1.2.2.2.2.1.1.cmml" xref="A1.E14.m1.2.2.2.2.1"><times id="A1.E14.m1.2.2.2.2.1.1.3.cmml" xref="A1.E14.m1.2.2.2.2.1.1.3"></times><ci id="A1.E14.m1.2.2.2.2.1.1.4.cmml" xref="A1.E14.m1.2.2.2.2.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.E14.m1.2.2.2.2.1.1.2.3.cmml" xref="A1.E14.m1.2.2.2.2.1.1.2.2"><apply id="A1.E14.m1.2.2.2.2.1.1.1.1.1.cmml" xref="A1.E14.m1.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E14.m1.2.2.2.2.1.1.1.1.1.1.cmml" xref="A1.E14.m1.2.2.2.2.1.1.1.1.1">subscript</csymbol><ci id="A1.E14.m1.2.2.2.2.1.1.1.1.1.2.cmml" xref="A1.E14.m1.2.2.2.2.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.E14.m1.2.2.2.2.1.1.1.1.1.3.cmml" xref="A1.E14.m1.2.2.2.2.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.E14.m1.2.2.2.2.1.1.2.2.2.cmml" xref="A1.E14.m1.2.2.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.E14.m1.2.2.2.2.1.1.2.2.2.1.cmml" xref="A1.E14.m1.2.2.2.2.1.1.2.2.2">subscript</csymbol><ci id="A1.E14.m1.2.2.2.2.1.1.2.2.2.2.cmml" xref="A1.E14.m1.2.2.2.2.1.1.2.2.2.2">ğ‘’</ci><apply id="A1.E14.m1.1.1.1.1.1.cmml" xref="A1.E14.m1.1.1.1.1.1"><times id="A1.E14.m1.1.1.1.1.1.2.cmml" xref="A1.E14.m1.1.1.1.1.1.2"></times><ci id="A1.E14.m1.1.1.1.1.1.3.cmml" xref="A1.E14.m1.1.1.1.1.1.3">ğœ</ci><ci id="A1.E14.m1.1.1.1.1.1.1.cmml" xref="A1.E14.m1.1.1.1.1.1.1">ğ‘—</ci></apply></apply></interval></apply></apply><apply id="A1.E14.m1.4.4.4.cmml" xref="A1.E14.m1.4.4.4"><times id="A1.E14.m1.4.4.4.3.cmml" xref="A1.E14.m1.4.4.4.3"></times><apply id="A1.E14.m1.4.4.4.4.cmml" xref="A1.E14.m1.4.4.4.4"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.4.4.1.cmml" xref="A1.E14.m1.4.4.4.4">superscript</csymbol><apply id="A1.E14.m1.4.4.4.4.2.cmml" xref="A1.E14.m1.4.4.4.4"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.4.4.2.1.cmml" xref="A1.E14.m1.4.4.4.4">subscript</csymbol><ci id="A1.E14.m1.4.4.4.4.2.2.cmml" xref="A1.E14.m1.4.4.4.4.2.2">Î£</ci><apply id="A1.E14.m1.4.4.4.4.2.3.cmml" xref="A1.E14.m1.4.4.4.4.2.3"><eq id="A1.E14.m1.4.4.4.4.2.3.1.cmml" xref="A1.E14.m1.4.4.4.4.2.3.1"></eq><ci id="A1.E14.m1.4.4.4.4.2.3.2.cmml" xref="A1.E14.m1.4.4.4.4.2.3.2">ğ‘™</ci><ci id="A1.E14.m1.4.4.4.4.2.3.3.cmml" xref="A1.E14.m1.4.4.4.4.2.3.3">ğ‘—</ci></apply></apply><ci id="A1.E14.m1.4.4.4.4.3.cmml" xref="A1.E14.m1.4.4.4.4.3">ğ¾</ci></apply><ci id="A1.E14.m1.4.4.4.5.cmml" xref="A1.E14.m1.4.4.4.5">exp</ci><apply id="A1.E14.m1.4.4.4.2.1.1.cmml" xref="A1.E14.m1.4.4.4.2.1"><times id="A1.E14.m1.4.4.4.2.1.1.3.cmml" xref="A1.E14.m1.4.4.4.2.1.1.3"></times><ci id="A1.E14.m1.4.4.4.2.1.1.4.cmml" xref="A1.E14.m1.4.4.4.2.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.E14.m1.4.4.4.2.1.1.2.3.cmml" xref="A1.E14.m1.4.4.4.2.1.1.2.2"><apply id="A1.E14.m1.4.4.4.2.1.1.1.1.1.cmml" xref="A1.E14.m1.4.4.4.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.4.2.1.1.1.1.1.1.cmml" xref="A1.E14.m1.4.4.4.2.1.1.1.1.1">subscript</csymbol><ci id="A1.E14.m1.4.4.4.2.1.1.1.1.1.2.cmml" xref="A1.E14.m1.4.4.4.2.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.E14.m1.4.4.4.2.1.1.1.1.1.3.cmml" xref="A1.E14.m1.4.4.4.2.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.E14.m1.4.4.4.2.1.1.2.2.2.cmml" xref="A1.E14.m1.4.4.4.2.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.4.2.1.1.2.2.2.1.cmml" xref="A1.E14.m1.4.4.4.2.1.1.2.2.2">subscript</csymbol><ci id="A1.E14.m1.4.4.4.2.1.1.2.2.2.2.cmml" xref="A1.E14.m1.4.4.4.2.1.1.2.2.2.2">ğ‘’</ci><apply id="A1.E14.m1.3.3.3.1.1.cmml" xref="A1.E14.m1.3.3.3.1.1"><times id="A1.E14.m1.3.3.3.1.1.2.cmml" xref="A1.E14.m1.3.3.3.1.1.2"></times><ci id="A1.E14.m1.3.3.3.1.1.3.cmml" xref="A1.E14.m1.3.3.3.1.1.3">ğœ</ci><ci id="A1.E14.m1.3.3.3.1.1.1.cmml" xref="A1.E14.m1.3.3.3.1.1.1">ğ‘™</ci></apply></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E14.m1.6c">\displaystyle p^{*}(\tau|e_{e},i_{2},\cdots,e_{K},x_{u})=\prod_{j=1}^{K}\frac{%
{\rm exp}\left(r(x_{u},e_{\tau(j)})\right)}{\Sigma_{l=j}^{K}{\rm exp}(r\left(x%
_{u},e_{\tau(l)})\right)}.</annotation><annotation encoding="application/x-llamapun" id="A1.E14.m1.6d">italic_p start_POSTSUPERSCRIPT âˆ— end_POSTSUPERSCRIPT ( italic_Ï„ | italic_e start_POSTSUBSCRIPT italic_e end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , â‹¯ , italic_e start_POSTSUBSCRIPT italic_K end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = âˆ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT divide start_ARG roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ ( italic_j ) end_POSTSUBSCRIPT ) ) end_ARG start_ARG roman_Î£ start_POSTSUBSCRIPT italic_l = italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ ( italic_l ) end_POSTSUBSCRIPT ) ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.SS1.p1.2">.</p>
</div>
<div class="ltx_para" id="A1.SS1.p2">
<p class="ltx_p" id="A1.SS1.p2.1">The ranking in multi-negative preference data is <math alttext="e_{p}\succ e_{d}|x_{u},\forall e_{d}\in\mathcal{E}_{d}" class="ltx_Math" display="inline" id="A1.SS1.p2.1.m1.2"><semantics id="A1.SS1.p2.1.m1.2a"><mrow id="A1.SS1.p2.1.m1.2.2" xref="A1.SS1.p2.1.m1.2.2.cmml"><msub id="A1.SS1.p2.1.m1.2.2.4" xref="A1.SS1.p2.1.m1.2.2.4.cmml"><mi id="A1.SS1.p2.1.m1.2.2.4.2" xref="A1.SS1.p2.1.m1.2.2.4.2.cmml">e</mi><mi id="A1.SS1.p2.1.m1.2.2.4.3" xref="A1.SS1.p2.1.m1.2.2.4.3.cmml">p</mi></msub><mo id="A1.SS1.p2.1.m1.2.2.5" xref="A1.SS1.p2.1.m1.2.2.5.cmml">â‰»</mo><mrow id="A1.SS1.p2.1.m1.2.2.2" xref="A1.SS1.p2.1.m1.2.2.2.cmml"><msub id="A1.SS1.p2.1.m1.2.2.2.4" xref="A1.SS1.p2.1.m1.2.2.2.4.cmml"><mi id="A1.SS1.p2.1.m1.2.2.2.4.2" xref="A1.SS1.p2.1.m1.2.2.2.4.2.cmml">e</mi><mi id="A1.SS1.p2.1.m1.2.2.2.4.3" xref="A1.SS1.p2.1.m1.2.2.2.4.3.cmml">d</mi></msub><mo fence="false" id="A1.SS1.p2.1.m1.2.2.2.3" xref="A1.SS1.p2.1.m1.2.2.2.3.cmml">|</mo><mrow id="A1.SS1.p2.1.m1.2.2.2.2.2" xref="A1.SS1.p2.1.m1.2.2.2.2.3.cmml"><msub id="A1.SS1.p2.1.m1.1.1.1.1.1.1" xref="A1.SS1.p2.1.m1.1.1.1.1.1.1.cmml"><mi id="A1.SS1.p2.1.m1.1.1.1.1.1.1.2" xref="A1.SS1.p2.1.m1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.SS1.p2.1.m1.1.1.1.1.1.1.3" xref="A1.SS1.p2.1.m1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.SS1.p2.1.m1.2.2.2.2.2.3" xref="A1.SS1.p2.1.m1.2.2.2.2.3.cmml">,</mo><mrow id="A1.SS1.p2.1.m1.2.2.2.2.2.2" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.cmml"><mo id="A1.SS1.p2.1.m1.2.2.2.2.2.2.1" rspace="0.167em" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.1.cmml">âˆ€</mo><msub id="A1.SS1.p2.1.m1.2.2.2.2.2.2.2" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.cmml"><mi id="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.2" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.2.cmml">e</mi><mi id="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.3" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.3.cmml">d</mi></msub></mrow></mrow></mrow><mo id="A1.SS1.p2.1.m1.2.2.6" xref="A1.SS1.p2.1.m1.2.2.6.cmml">âˆˆ</mo><msub id="A1.SS1.p2.1.m1.2.2.7" xref="A1.SS1.p2.1.m1.2.2.7.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.p2.1.m1.2.2.7.2" xref="A1.SS1.p2.1.m1.2.2.7.2.cmml">â„°</mi><mi id="A1.SS1.p2.1.m1.2.2.7.3" xref="A1.SS1.p2.1.m1.2.2.7.3.cmml">d</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.1.m1.2b"><apply id="A1.SS1.p2.1.m1.2.2.cmml" xref="A1.SS1.p2.1.m1.2.2"><and id="A1.SS1.p2.1.m1.2.2a.cmml" xref="A1.SS1.p2.1.m1.2.2"></and><apply id="A1.SS1.p2.1.m1.2.2b.cmml" xref="A1.SS1.p2.1.m1.2.2"><csymbol cd="latexml" id="A1.SS1.p2.1.m1.2.2.5.cmml" xref="A1.SS1.p2.1.m1.2.2.5">succeeds</csymbol><apply id="A1.SS1.p2.1.m1.2.2.4.cmml" xref="A1.SS1.p2.1.m1.2.2.4"><csymbol cd="ambiguous" id="A1.SS1.p2.1.m1.2.2.4.1.cmml" xref="A1.SS1.p2.1.m1.2.2.4">subscript</csymbol><ci id="A1.SS1.p2.1.m1.2.2.4.2.cmml" xref="A1.SS1.p2.1.m1.2.2.4.2">ğ‘’</ci><ci id="A1.SS1.p2.1.m1.2.2.4.3.cmml" xref="A1.SS1.p2.1.m1.2.2.4.3">ğ‘</ci></apply><apply id="A1.SS1.p2.1.m1.2.2.2.cmml" xref="A1.SS1.p2.1.m1.2.2.2"><csymbol cd="latexml" id="A1.SS1.p2.1.m1.2.2.2.3.cmml" xref="A1.SS1.p2.1.m1.2.2.2.3">conditional</csymbol><apply id="A1.SS1.p2.1.m1.2.2.2.4.cmml" xref="A1.SS1.p2.1.m1.2.2.2.4"><csymbol cd="ambiguous" id="A1.SS1.p2.1.m1.2.2.2.4.1.cmml" xref="A1.SS1.p2.1.m1.2.2.2.4">subscript</csymbol><ci id="A1.SS1.p2.1.m1.2.2.2.4.2.cmml" xref="A1.SS1.p2.1.m1.2.2.2.4.2">ğ‘’</ci><ci id="A1.SS1.p2.1.m1.2.2.2.4.3.cmml" xref="A1.SS1.p2.1.m1.2.2.2.4.3">ğ‘‘</ci></apply><list id="A1.SS1.p2.1.m1.2.2.2.2.3.cmml" xref="A1.SS1.p2.1.m1.2.2.2.2.2"><apply id="A1.SS1.p2.1.m1.1.1.1.1.1.1.cmml" xref="A1.SS1.p2.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p2.1.m1.1.1.1.1.1.1.1.cmml" xref="A1.SS1.p2.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.SS1.p2.1.m1.1.1.1.1.1.1.2.cmml" xref="A1.SS1.p2.1.m1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.SS1.p2.1.m1.1.1.1.1.1.1.3.cmml" xref="A1.SS1.p2.1.m1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.SS1.p2.1.m1.2.2.2.2.2.2.cmml" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2"><csymbol cd="latexml" id="A1.SS1.p2.1.m1.2.2.2.2.2.2.1.cmml" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.1">for-all</csymbol><apply id="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.cmml" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.1.cmml" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.2">subscript</csymbol><ci id="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.2.cmml" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.3.cmml" xref="A1.SS1.p2.1.m1.2.2.2.2.2.2.2.3">ğ‘‘</ci></apply></apply></list></apply></apply><apply id="A1.SS1.p2.1.m1.2.2c.cmml" xref="A1.SS1.p2.1.m1.2.2"><in id="A1.SS1.p2.1.m1.2.2.6.cmml" xref="A1.SS1.p2.1.m1.2.2.6"></in><share href="https://arxiv.org/html/2406.09215v2#A1.SS1.p2.1.m1.2.2.2.cmml" id="A1.SS1.p2.1.m1.2.2d.cmml" xref="A1.SS1.p2.1.m1.2.2"></share><apply id="A1.SS1.p2.1.m1.2.2.7.cmml" xref="A1.SS1.p2.1.m1.2.2.7"><csymbol cd="ambiguous" id="A1.SS1.p2.1.m1.2.2.7.1.cmml" xref="A1.SS1.p2.1.m1.2.2.7">subscript</csymbol><ci id="A1.SS1.p2.1.m1.2.2.7.2.cmml" xref="A1.SS1.p2.1.m1.2.2.7.2">â„°</ci><ci id="A1.SS1.p2.1.m1.2.2.7.3.cmml" xref="A1.SS1.p2.1.m1.2.2.7.3">ğ‘‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.1.m1.2c">e_{p}\succ e_{d}|x_{u},\forall e_{d}\in\mathcal{E}_{d}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.1.m1.2d">italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , âˆ€ italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math>. Our new preference distribution that estimates the probability of the ranking can be derived:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx17">
<tbody id="A1.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle p^{*}(e_{p}\succ e_{d},\forall\,e_{d}\in\mathcal{I}_{d}|x_{u},e_%
{p},\mathcal{E}_{d})" class="ltx_Math" display="inline" id="A1.Ex4.m1.1"><semantics id="A1.Ex4.m1.1a"><mrow id="A1.Ex4.m1.1.1" xref="A1.Ex4.m1.1.1.cmml"><msup id="A1.Ex4.m1.1.1.3" xref="A1.Ex4.m1.1.1.3.cmml"><mi id="A1.Ex4.m1.1.1.3.2" xref="A1.Ex4.m1.1.1.3.2.cmml">p</mi><mo id="A1.Ex4.m1.1.1.3.3" xref="A1.Ex4.m1.1.1.3.3.cmml">âˆ—</mo></msup><mo id="A1.Ex4.m1.1.1.2" xref="A1.Ex4.m1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex4.m1.1.1.1.1" xref="A1.Ex4.m1.1.1.cmml"><mo id="A1.Ex4.m1.1.1.1.1.2" stretchy="false" xref="A1.Ex4.m1.1.1.cmml">(</mo><mrow id="A1.Ex4.m1.1.1.1.1.1.2" xref="A1.Ex4.m1.1.1.1.1.1.3.cmml"><mrow id="A1.Ex4.m1.1.1.1.1.1.1.1" xref="A1.Ex4.m1.1.1.1.1.1.1.1.cmml"><msub id="A1.Ex4.m1.1.1.1.1.1.1.1.2" xref="A1.Ex4.m1.1.1.1.1.1.1.1.2.cmml"><mi id="A1.Ex4.m1.1.1.1.1.1.1.1.2.2" xref="A1.Ex4.m1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex4.m1.1.1.1.1.1.1.1.2.3" xref="A1.Ex4.m1.1.1.1.1.1.1.1.2.3.cmml">p</mi></msub><mo id="A1.Ex4.m1.1.1.1.1.1.1.1.1" xref="A1.Ex4.m1.1.1.1.1.1.1.1.1.cmml">â‰»</mo><msub id="A1.Ex4.m1.1.1.1.1.1.1.1.3" xref="A1.Ex4.m1.1.1.1.1.1.1.1.3.cmml"><mi id="A1.Ex4.m1.1.1.1.1.1.1.1.3.2" xref="A1.Ex4.m1.1.1.1.1.1.1.1.3.2.cmml">e</mi><mi id="A1.Ex4.m1.1.1.1.1.1.1.1.3.3" xref="A1.Ex4.m1.1.1.1.1.1.1.1.3.3.cmml">d</mi></msub></mrow><mo id="A1.Ex4.m1.1.1.1.1.1.2.3" xref="A1.Ex4.m1.1.1.1.1.1.3a.cmml">,</mo><mrow id="A1.Ex4.m1.1.1.1.1.1.2.2" xref="A1.Ex4.m1.1.1.1.1.1.2.2.cmml"><mrow id="A1.Ex4.m1.1.1.1.1.1.2.2.5" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.cmml"><mo id="A1.Ex4.m1.1.1.1.1.1.2.2.5.1" rspace="0.337em" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.1.cmml">âˆ€</mo><msub id="A1.Ex4.m1.1.1.1.1.1.2.2.5.2" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.cmml"><mi id="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.2" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.2.cmml">e</mi><mi id="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.3" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.3.cmml">d</mi></msub></mrow><mo id="A1.Ex4.m1.1.1.1.1.1.2.2.4" xref="A1.Ex4.m1.1.1.1.1.1.2.2.4.cmml">âˆˆ</mo><mrow id="A1.Ex4.m1.1.1.1.1.1.2.2.3" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.cmml"><msub id="A1.Ex4.m1.1.1.1.1.1.2.2.3.5" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.2" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.2.cmml">â„</mi><mi id="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.3" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex4.m1.1.1.1.1.1.2.2.3.4" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.4.cmml">|</mo><mrow id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.4.cmml"><msub id="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1" xref="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.cmml"><mi id="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.2" xref="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.3" xref="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.4" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.4.cmml">,</mo><msub id="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2" xref="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.cmml"><mi id="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.2" xref="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.3" xref="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.5" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.4.cmml">,</mo><msub id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.2" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.3" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.3.cmml">d</mi></msub></mrow></mrow></mrow></mrow><mo id="A1.Ex4.m1.1.1.1.1.3" stretchy="false" xref="A1.Ex4.m1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex4.m1.1b"><apply id="A1.Ex4.m1.1.1.cmml" xref="A1.Ex4.m1.1.1"><times id="A1.Ex4.m1.1.1.2.cmml" xref="A1.Ex4.m1.1.1.2"></times><apply id="A1.Ex4.m1.1.1.3.cmml" xref="A1.Ex4.m1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.3.1.cmml" xref="A1.Ex4.m1.1.1.3">superscript</csymbol><ci id="A1.Ex4.m1.1.1.3.2.cmml" xref="A1.Ex4.m1.1.1.3.2">ğ‘</ci><times id="A1.Ex4.m1.1.1.3.3.cmml" xref="A1.Ex4.m1.1.1.3.3"></times></apply><apply id="A1.Ex4.m1.1.1.1.1.1.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.1.1.1.3a.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="A1.Ex4.m1.1.1.1.1.1.1.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="A1.Ex4.m1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.1">succeeds</csymbol><apply id="A1.Ex4.m1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex4.m1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex4.m1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex4.m1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.1.1.1.1.1.3.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex4.m1.1.1.1.1.1.1.1.3.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.3.2">ğ‘’</ci><ci id="A1.Ex4.m1.1.1.1.1.1.1.1.3.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.1.1.3.3">ğ‘‘</ci></apply></apply><apply id="A1.Ex4.m1.1.1.1.1.1.2.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2"><in id="A1.Ex4.m1.1.1.1.1.1.2.2.4.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.4"></in><apply id="A1.Ex4.m1.1.1.1.1.1.2.2.5.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5"><csymbol cd="latexml" id="A1.Ex4.m1.1.1.1.1.1.2.2.5.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.1">for-all</csymbol><apply id="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.2"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.2">subscript</csymbol><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.2">ğ‘’</ci><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.5.2.3">ğ‘‘</ci></apply></apply><apply id="A1.Ex4.m1.1.1.1.1.1.2.2.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3"><csymbol cd="latexml" id="A1.Ex4.m1.1.1.1.1.1.2.2.3.4.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.4">conditional</csymbol><apply id="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.5"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.5">subscript</csymbol><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.2">â„</ci><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.5.3">ğ‘‘</ci></apply><list id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.4.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3"><apply id="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1">subscript</csymbol><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.1.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3">subscript</csymbol><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.2.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.2">â„°</ci><ci id="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.3.cmml" xref="A1.Ex4.m1.1.1.1.1.1.2.2.3.3.3.3.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex4.m1.1c">\displaystyle p^{*}(e_{p}\succ e_{d},\forall\,e_{d}\in\mathcal{I}_{d}|x_{u},e_%
{p},\mathcal{E}_{d})</annotation><annotation encoding="application/x-llamapun" id="A1.Ex4.m1.1d">italic_p start_POSTSUPERSCRIPT âˆ— end_POSTSUPERSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT â‰» italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , âˆ€ italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum_{\tau\in\{\tau^{\prime}|\tau^{\prime}(1)=p\}}p^{*}(\tau|x_{%
u},e_{p},\mathcal{E}_{d})" class="ltx_Math" display="inline" id="A1.Ex4.m2.4"><semantics id="A1.Ex4.m2.4a"><mrow id="A1.Ex4.m2.4.4" xref="A1.Ex4.m2.4.4.cmml"><mi id="A1.Ex4.m2.4.4.3" xref="A1.Ex4.m2.4.4.3.cmml"></mi><mo id="A1.Ex4.m2.4.4.2" xref="A1.Ex4.m2.4.4.2.cmml">=</mo><mrow id="A1.Ex4.m2.4.4.1" xref="A1.Ex4.m2.4.4.1.cmml"><mstyle displaystyle="true" id="A1.Ex4.m2.4.4.1.2" xref="A1.Ex4.m2.4.4.1.2.cmml"><munder id="A1.Ex4.m2.4.4.1.2a" xref="A1.Ex4.m2.4.4.1.2.cmml"><mo id="A1.Ex4.m2.4.4.1.2.2" movablelimits="false" xref="A1.Ex4.m2.4.4.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex4.m2.3.3.3" xref="A1.Ex4.m2.3.3.3.cmml"><mi id="A1.Ex4.m2.3.3.3.5" xref="A1.Ex4.m2.3.3.3.5.cmml">Ï„</mi><mo id="A1.Ex4.m2.3.3.3.4" xref="A1.Ex4.m2.3.3.3.4.cmml">âˆˆ</mo><mrow id="A1.Ex4.m2.3.3.3.3.2" xref="A1.Ex4.m2.3.3.3.3.3.cmml"><mo id="A1.Ex4.m2.3.3.3.3.2.3" stretchy="false" xref="A1.Ex4.m2.3.3.3.3.3.1.cmml">{</mo><msup id="A1.Ex4.m2.2.2.2.2.1.1" xref="A1.Ex4.m2.2.2.2.2.1.1.cmml"><mi id="A1.Ex4.m2.2.2.2.2.1.1.2" xref="A1.Ex4.m2.2.2.2.2.1.1.2.cmml">Ï„</mi><mo id="A1.Ex4.m2.2.2.2.2.1.1.3" xref="A1.Ex4.m2.2.2.2.2.1.1.3.cmml">â€²</mo></msup><mo id="A1.Ex4.m2.3.3.3.3.2.4" lspace="0em" rspace="0em" xref="A1.Ex4.m2.3.3.3.3.3.1.cmml">|</mo><mrow id="A1.Ex4.m2.3.3.3.3.2.2" xref="A1.Ex4.m2.3.3.3.3.2.2.cmml"><mrow id="A1.Ex4.m2.3.3.3.3.2.2.2" xref="A1.Ex4.m2.3.3.3.3.2.2.2.cmml"><msup id="A1.Ex4.m2.3.3.3.3.2.2.2.2" xref="A1.Ex4.m2.3.3.3.3.2.2.2.2.cmml"><mi id="A1.Ex4.m2.3.3.3.3.2.2.2.2.2" xref="A1.Ex4.m2.3.3.3.3.2.2.2.2.2.cmml">Ï„</mi><mo id="A1.Ex4.m2.3.3.3.3.2.2.2.2.3" xref="A1.Ex4.m2.3.3.3.3.2.2.2.2.3.cmml">â€²</mo></msup><mo id="A1.Ex4.m2.3.3.3.3.2.2.2.1" xref="A1.Ex4.m2.3.3.3.3.2.2.2.1.cmml">â¢</mo><mrow id="A1.Ex4.m2.3.3.3.3.2.2.2.3.2" xref="A1.Ex4.m2.3.3.3.3.2.2.2.cmml"><mo id="A1.Ex4.m2.3.3.3.3.2.2.2.3.2.1" stretchy="false" xref="A1.Ex4.m2.3.3.3.3.2.2.2.cmml">(</mo><mn id="A1.Ex4.m2.1.1.1.1" xref="A1.Ex4.m2.1.1.1.1.cmml">1</mn><mo id="A1.Ex4.m2.3.3.3.3.2.2.2.3.2.2" stretchy="false" xref="A1.Ex4.m2.3.3.3.3.2.2.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex4.m2.3.3.3.3.2.2.1" xref="A1.Ex4.m2.3.3.3.3.2.2.1.cmml">=</mo><mi id="A1.Ex4.m2.3.3.3.3.2.2.3" xref="A1.Ex4.m2.3.3.3.3.2.2.3.cmml">p</mi></mrow><mo id="A1.Ex4.m2.3.3.3.3.2.5" stretchy="false" xref="A1.Ex4.m2.3.3.3.3.3.1.cmml">}</mo></mrow></mrow></munder></mstyle><mrow id="A1.Ex4.m2.4.4.1.1" xref="A1.Ex4.m2.4.4.1.1.cmml"><msup id="A1.Ex4.m2.4.4.1.1.3" xref="A1.Ex4.m2.4.4.1.1.3.cmml"><mi id="A1.Ex4.m2.4.4.1.1.3.2" xref="A1.Ex4.m2.4.4.1.1.3.2.cmml">p</mi><mo id="A1.Ex4.m2.4.4.1.1.3.3" xref="A1.Ex4.m2.4.4.1.1.3.3.cmml">âˆ—</mo></msup><mo id="A1.Ex4.m2.4.4.1.1.2" xref="A1.Ex4.m2.4.4.1.1.2.cmml">â¢</mo><mrow id="A1.Ex4.m2.4.4.1.1.1.1" xref="A1.Ex4.m2.4.4.1.1.1.1.1.cmml"><mo id="A1.Ex4.m2.4.4.1.1.1.1.2" stretchy="false" xref="A1.Ex4.m2.4.4.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex4.m2.4.4.1.1.1.1.1" xref="A1.Ex4.m2.4.4.1.1.1.1.1.cmml"><mi id="A1.Ex4.m2.4.4.1.1.1.1.1.5" xref="A1.Ex4.m2.4.4.1.1.1.1.1.5.cmml">Ï„</mi><mo fence="false" id="A1.Ex4.m2.4.4.1.1.1.1.1.4" xref="A1.Ex4.m2.4.4.1.1.1.1.1.4.cmml">|</mo><mrow id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.4.cmml"><msub id="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1" xref="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.2" xref="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.3" xref="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.4" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2" xref="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.2" xref="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.3" xref="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.5" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.2" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.3" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.3.cmml">d</mi></msub></mrow></mrow><mo id="A1.Ex4.m2.4.4.1.1.1.1.3" stretchy="false" xref="A1.Ex4.m2.4.4.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex4.m2.4b"><apply id="A1.Ex4.m2.4.4.cmml" xref="A1.Ex4.m2.4.4"><eq id="A1.Ex4.m2.4.4.2.cmml" xref="A1.Ex4.m2.4.4.2"></eq><csymbol cd="latexml" id="A1.Ex4.m2.4.4.3.cmml" xref="A1.Ex4.m2.4.4.3">absent</csymbol><apply id="A1.Ex4.m2.4.4.1.cmml" xref="A1.Ex4.m2.4.4.1"><apply id="A1.Ex4.m2.4.4.1.2.cmml" xref="A1.Ex4.m2.4.4.1.2"><csymbol cd="ambiguous" id="A1.Ex4.m2.4.4.1.2.1.cmml" xref="A1.Ex4.m2.4.4.1.2">subscript</csymbol><sum id="A1.Ex4.m2.4.4.1.2.2.cmml" xref="A1.Ex4.m2.4.4.1.2.2"></sum><apply id="A1.Ex4.m2.3.3.3.cmml" xref="A1.Ex4.m2.3.3.3"><in id="A1.Ex4.m2.3.3.3.4.cmml" xref="A1.Ex4.m2.3.3.3.4"></in><ci id="A1.Ex4.m2.3.3.3.5.cmml" xref="A1.Ex4.m2.3.3.3.5">ğœ</ci><apply id="A1.Ex4.m2.3.3.3.3.3.cmml" xref="A1.Ex4.m2.3.3.3.3.2"><csymbol cd="latexml" id="A1.Ex4.m2.3.3.3.3.3.1.cmml" xref="A1.Ex4.m2.3.3.3.3.2.3">conditional-set</csymbol><apply id="A1.Ex4.m2.2.2.2.2.1.1.cmml" xref="A1.Ex4.m2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="A1.Ex4.m2.2.2.2.2.1.1.1.cmml" xref="A1.Ex4.m2.2.2.2.2.1.1">superscript</csymbol><ci id="A1.Ex4.m2.2.2.2.2.1.1.2.cmml" xref="A1.Ex4.m2.2.2.2.2.1.1.2">ğœ</ci><ci id="A1.Ex4.m2.2.2.2.2.1.1.3.cmml" xref="A1.Ex4.m2.2.2.2.2.1.1.3">â€²</ci></apply><apply id="A1.Ex4.m2.3.3.3.3.2.2.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2"><eq id="A1.Ex4.m2.3.3.3.3.2.2.1.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2.1"></eq><apply id="A1.Ex4.m2.3.3.3.3.2.2.2.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2.2"><times id="A1.Ex4.m2.3.3.3.3.2.2.2.1.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2.2.1"></times><apply id="A1.Ex4.m2.3.3.3.3.2.2.2.2.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex4.m2.3.3.3.3.2.2.2.2.1.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2.2.2">superscript</csymbol><ci id="A1.Ex4.m2.3.3.3.3.2.2.2.2.2.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2.2.2.2">ğœ</ci><ci id="A1.Ex4.m2.3.3.3.3.2.2.2.2.3.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2.2.2.3">â€²</ci></apply><cn id="A1.Ex4.m2.1.1.1.1.cmml" type="integer" xref="A1.Ex4.m2.1.1.1.1">1</cn></apply><ci id="A1.Ex4.m2.3.3.3.3.2.2.3.cmml" xref="A1.Ex4.m2.3.3.3.3.2.2.3">ğ‘</ci></apply></apply></apply></apply><apply id="A1.Ex4.m2.4.4.1.1.cmml" xref="A1.Ex4.m2.4.4.1.1"><times id="A1.Ex4.m2.4.4.1.1.2.cmml" xref="A1.Ex4.m2.4.4.1.1.2"></times><apply id="A1.Ex4.m2.4.4.1.1.3.cmml" xref="A1.Ex4.m2.4.4.1.1.3"><csymbol cd="ambiguous" id="A1.Ex4.m2.4.4.1.1.3.1.cmml" xref="A1.Ex4.m2.4.4.1.1.3">superscript</csymbol><ci id="A1.Ex4.m2.4.4.1.1.3.2.cmml" xref="A1.Ex4.m2.4.4.1.1.3.2">ğ‘</ci><times id="A1.Ex4.m2.4.4.1.1.3.3.cmml" xref="A1.Ex4.m2.4.4.1.1.3.3"></times></apply><apply id="A1.Ex4.m2.4.4.1.1.1.1.1.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1"><csymbol cd="latexml" id="A1.Ex4.m2.4.4.1.1.1.1.1.4.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.4">conditional</csymbol><ci id="A1.Ex4.m2.4.4.1.1.1.1.1.5.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.5">ğœ</ci><list id="A1.Ex4.m2.4.4.1.1.1.1.1.3.4.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.3"><apply id="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.1.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.2.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.2">â„°</ci><ci id="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.3.cmml" xref="A1.Ex4.m2.4.4.1.1.1.1.1.3.3.3.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex4.m2.4c">\displaystyle=\sum_{\tau\in\{\tau^{\prime}|\tau^{\prime}(1)=p\}}p^{*}(\tau|x_{%
u},e_{p},\mathcal{E}_{d})</annotation><annotation encoding="application/x-llamapun" id="A1.Ex4.m2.4d">= âˆ‘ start_POSTSUBSCRIPT italic_Ï„ âˆˆ { italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT | italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT ( 1 ) = italic_p } end_POSTSUBSCRIPT italic_p start_POSTSUPERSCRIPT âˆ— end_POSTSUPERSCRIPT ( italic_Ï„ | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sum_{\tau\in\{\tau^{\prime}|\tau^{\prime}(1)=p\}}\prod_{j=1}^{K%
}\frac{{\rm exp}\left(r(x_{u},e_{\tau(j)})\right)}{\sum_{l=j}^{K}{\rm exp}%
\left(r(x_{u},e_{\tau(l)})\right)}" class="ltx_Math" display="inline" id="A1.Ex5.m1.7"><semantics id="A1.Ex5.m1.7a"><mrow id="A1.Ex5.m1.7.8" xref="A1.Ex5.m1.7.8.cmml"><mi id="A1.Ex5.m1.7.8.2" xref="A1.Ex5.m1.7.8.2.cmml"></mi><mo id="A1.Ex5.m1.7.8.1" xref="A1.Ex5.m1.7.8.1.cmml">=</mo><mrow id="A1.Ex5.m1.7.8.3" xref="A1.Ex5.m1.7.8.3.cmml"><mstyle displaystyle="true" id="A1.Ex5.m1.7.8.3.1" xref="A1.Ex5.m1.7.8.3.1.cmml"><munder id="A1.Ex5.m1.7.8.3.1a" xref="A1.Ex5.m1.7.8.3.1.cmml"><mo id="A1.Ex5.m1.7.8.3.1.2" movablelimits="false" xref="A1.Ex5.m1.7.8.3.1.2.cmml">âˆ‘</mo><mrow id="A1.Ex5.m1.3.3.3" xref="A1.Ex5.m1.3.3.3.cmml"><mi id="A1.Ex5.m1.3.3.3.5" xref="A1.Ex5.m1.3.3.3.5.cmml">Ï„</mi><mo id="A1.Ex5.m1.3.3.3.4" xref="A1.Ex5.m1.3.3.3.4.cmml">âˆˆ</mo><mrow id="A1.Ex5.m1.3.3.3.3.2" xref="A1.Ex5.m1.3.3.3.3.3.cmml"><mo id="A1.Ex5.m1.3.3.3.3.2.3" stretchy="false" xref="A1.Ex5.m1.3.3.3.3.3.1.cmml">{</mo><msup id="A1.Ex5.m1.2.2.2.2.1.1" xref="A1.Ex5.m1.2.2.2.2.1.1.cmml"><mi id="A1.Ex5.m1.2.2.2.2.1.1.2" xref="A1.Ex5.m1.2.2.2.2.1.1.2.cmml">Ï„</mi><mo id="A1.Ex5.m1.2.2.2.2.1.1.3" xref="A1.Ex5.m1.2.2.2.2.1.1.3.cmml">â€²</mo></msup><mo id="A1.Ex5.m1.3.3.3.3.2.4" lspace="0em" rspace="0em" xref="A1.Ex5.m1.3.3.3.3.3.1.cmml">|</mo><mrow id="A1.Ex5.m1.3.3.3.3.2.2" xref="A1.Ex5.m1.3.3.3.3.2.2.cmml"><mrow id="A1.Ex5.m1.3.3.3.3.2.2.2" xref="A1.Ex5.m1.3.3.3.3.2.2.2.cmml"><msup id="A1.Ex5.m1.3.3.3.3.2.2.2.2" xref="A1.Ex5.m1.3.3.3.3.2.2.2.2.cmml"><mi id="A1.Ex5.m1.3.3.3.3.2.2.2.2.2" xref="A1.Ex5.m1.3.3.3.3.2.2.2.2.2.cmml">Ï„</mi><mo id="A1.Ex5.m1.3.3.3.3.2.2.2.2.3" xref="A1.Ex5.m1.3.3.3.3.2.2.2.2.3.cmml">â€²</mo></msup><mo id="A1.Ex5.m1.3.3.3.3.2.2.2.1" xref="A1.Ex5.m1.3.3.3.3.2.2.2.1.cmml">â¢</mo><mrow id="A1.Ex5.m1.3.3.3.3.2.2.2.3.2" xref="A1.Ex5.m1.3.3.3.3.2.2.2.cmml"><mo id="A1.Ex5.m1.3.3.3.3.2.2.2.3.2.1" stretchy="false" xref="A1.Ex5.m1.3.3.3.3.2.2.2.cmml">(</mo><mn id="A1.Ex5.m1.1.1.1.1" xref="A1.Ex5.m1.1.1.1.1.cmml">1</mn><mo id="A1.Ex5.m1.3.3.3.3.2.2.2.3.2.2" stretchy="false" xref="A1.Ex5.m1.3.3.3.3.2.2.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex5.m1.3.3.3.3.2.2.1" xref="A1.Ex5.m1.3.3.3.3.2.2.1.cmml">=</mo><mi id="A1.Ex5.m1.3.3.3.3.2.2.3" xref="A1.Ex5.m1.3.3.3.3.2.2.3.cmml">p</mi></mrow><mo id="A1.Ex5.m1.3.3.3.3.2.5" stretchy="false" xref="A1.Ex5.m1.3.3.3.3.3.1.cmml">}</mo></mrow></mrow></munder></mstyle><mrow id="A1.Ex5.m1.7.8.3.2" xref="A1.Ex5.m1.7.8.3.2.cmml"><mstyle displaystyle="true" id="A1.Ex5.m1.7.8.3.2.1" xref="A1.Ex5.m1.7.8.3.2.1.cmml"><munderover id="A1.Ex5.m1.7.8.3.2.1a" xref="A1.Ex5.m1.7.8.3.2.1.cmml"><mo id="A1.Ex5.m1.7.8.3.2.1.2.2" movablelimits="false" xref="A1.Ex5.m1.7.8.3.2.1.2.2.cmml">âˆ</mo><mrow id="A1.Ex5.m1.7.8.3.2.1.2.3" xref="A1.Ex5.m1.7.8.3.2.1.2.3.cmml"><mi id="A1.Ex5.m1.7.8.3.2.1.2.3.2" xref="A1.Ex5.m1.7.8.3.2.1.2.3.2.cmml">j</mi><mo id="A1.Ex5.m1.7.8.3.2.1.2.3.1" xref="A1.Ex5.m1.7.8.3.2.1.2.3.1.cmml">=</mo><mn id="A1.Ex5.m1.7.8.3.2.1.2.3.3" xref="A1.Ex5.m1.7.8.3.2.1.2.3.3.cmml">1</mn></mrow><mi id="A1.Ex5.m1.7.8.3.2.1.3" xref="A1.Ex5.m1.7.8.3.2.1.3.cmml">K</mi></munderover></mstyle><mstyle displaystyle="true" id="A1.Ex5.m1.7.7" xref="A1.Ex5.m1.7.7.cmml"><mfrac id="A1.Ex5.m1.7.7a" xref="A1.Ex5.m1.7.7.cmml"><mrow id="A1.Ex5.m1.5.5.2" xref="A1.Ex5.m1.5.5.2.cmml"><mi id="A1.Ex5.m1.5.5.2.4" xref="A1.Ex5.m1.5.5.2.4.cmml">exp</mi><mo id="A1.Ex5.m1.5.5.2.3" xref="A1.Ex5.m1.5.5.2.3.cmml">â¢</mo><mrow id="A1.Ex5.m1.5.5.2.2.1" xref="A1.Ex5.m1.5.5.2.2.1.1.cmml"><mo id="A1.Ex5.m1.5.5.2.2.1.2" xref="A1.Ex5.m1.5.5.2.2.1.1.cmml">(</mo><mrow id="A1.Ex5.m1.5.5.2.2.1.1" xref="A1.Ex5.m1.5.5.2.2.1.1.cmml"><mi id="A1.Ex5.m1.5.5.2.2.1.1.4" xref="A1.Ex5.m1.5.5.2.2.1.1.4.cmml">r</mi><mo id="A1.Ex5.m1.5.5.2.2.1.1.3" xref="A1.Ex5.m1.5.5.2.2.1.1.3.cmml">â¢</mo><mrow id="A1.Ex5.m1.5.5.2.2.1.1.2.2" xref="A1.Ex5.m1.5.5.2.2.1.1.2.3.cmml"><mo id="A1.Ex5.m1.5.5.2.2.1.1.2.2.3" stretchy="false" xref="A1.Ex5.m1.5.5.2.2.1.1.2.3.cmml">(</mo><msub id="A1.Ex5.m1.5.5.2.2.1.1.1.1.1" xref="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.cmml"><mi id="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.2" xref="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.3" xref="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex5.m1.5.5.2.2.1.1.2.2.4" xref="A1.Ex5.m1.5.5.2.2.1.1.2.3.cmml">,</mo><msub id="A1.Ex5.m1.5.5.2.2.1.1.2.2.2" xref="A1.Ex5.m1.5.5.2.2.1.1.2.2.2.cmml"><mi id="A1.Ex5.m1.5.5.2.2.1.1.2.2.2.2" xref="A1.Ex5.m1.5.5.2.2.1.1.2.2.2.2.cmml">e</mi><mrow id="A1.Ex5.m1.4.4.1.1.1" xref="A1.Ex5.m1.4.4.1.1.1.cmml"><mi id="A1.Ex5.m1.4.4.1.1.1.3" xref="A1.Ex5.m1.4.4.1.1.1.3.cmml">Ï„</mi><mo id="A1.Ex5.m1.4.4.1.1.1.2" xref="A1.Ex5.m1.4.4.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex5.m1.4.4.1.1.1.4.2" xref="A1.Ex5.m1.4.4.1.1.1.cmml"><mo id="A1.Ex5.m1.4.4.1.1.1.4.2.1" stretchy="false" xref="A1.Ex5.m1.4.4.1.1.1.cmml">(</mo><mi id="A1.Ex5.m1.4.4.1.1.1.1" xref="A1.Ex5.m1.4.4.1.1.1.1.cmml">j</mi><mo id="A1.Ex5.m1.4.4.1.1.1.4.2.2" stretchy="false" xref="A1.Ex5.m1.4.4.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="A1.Ex5.m1.5.5.2.2.1.1.2.2.5" stretchy="false" xref="A1.Ex5.m1.5.5.2.2.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex5.m1.5.5.2.2.1.3" xref="A1.Ex5.m1.5.5.2.2.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex5.m1.7.7.4" xref="A1.Ex5.m1.7.7.4.cmml"><msubsup id="A1.Ex5.m1.7.7.4.3" xref="A1.Ex5.m1.7.7.4.3.cmml"><mo id="A1.Ex5.m1.7.7.4.3.2.2" xref="A1.Ex5.m1.7.7.4.3.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex5.m1.7.7.4.3.2.3" xref="A1.Ex5.m1.7.7.4.3.2.3.cmml"><mi id="A1.Ex5.m1.7.7.4.3.2.3.2" xref="A1.Ex5.m1.7.7.4.3.2.3.2.cmml">l</mi><mo id="A1.Ex5.m1.7.7.4.3.2.3.1" xref="A1.Ex5.m1.7.7.4.3.2.3.1.cmml">=</mo><mi id="A1.Ex5.m1.7.7.4.3.2.3.3" xref="A1.Ex5.m1.7.7.4.3.2.3.3.cmml">j</mi></mrow><mi id="A1.Ex5.m1.7.7.4.3.3" xref="A1.Ex5.m1.7.7.4.3.3.cmml">K</mi></msubsup><mrow id="A1.Ex5.m1.7.7.4.2" xref="A1.Ex5.m1.7.7.4.2.cmml"><mi id="A1.Ex5.m1.7.7.4.2.3" xref="A1.Ex5.m1.7.7.4.2.3.cmml">exp</mi><mo id="A1.Ex5.m1.7.7.4.2.2" xref="A1.Ex5.m1.7.7.4.2.2.cmml">â¢</mo><mrow id="A1.Ex5.m1.7.7.4.2.1.1" xref="A1.Ex5.m1.7.7.4.2.1.1.1.cmml"><mo id="A1.Ex5.m1.7.7.4.2.1.1.2" xref="A1.Ex5.m1.7.7.4.2.1.1.1.cmml">(</mo><mrow id="A1.Ex5.m1.7.7.4.2.1.1.1" xref="A1.Ex5.m1.7.7.4.2.1.1.1.cmml"><mi id="A1.Ex5.m1.7.7.4.2.1.1.1.4" xref="A1.Ex5.m1.7.7.4.2.1.1.1.4.cmml">r</mi><mo id="A1.Ex5.m1.7.7.4.2.1.1.1.3" xref="A1.Ex5.m1.7.7.4.2.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.3.cmml"><mo id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.3" stretchy="false" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.3.cmml">(</mo><msub id="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1" xref="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.cmml"><mi id="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.2" xref="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.3" xref="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.4" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2.cmml"><mi id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2.2" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2.2.cmml">e</mi><mrow id="A1.Ex5.m1.6.6.3.1.1" xref="A1.Ex5.m1.6.6.3.1.1.cmml"><mi id="A1.Ex5.m1.6.6.3.1.1.3" xref="A1.Ex5.m1.6.6.3.1.1.3.cmml">Ï„</mi><mo id="A1.Ex5.m1.6.6.3.1.1.2" xref="A1.Ex5.m1.6.6.3.1.1.2.cmml">â¢</mo><mrow id="A1.Ex5.m1.6.6.3.1.1.4.2" xref="A1.Ex5.m1.6.6.3.1.1.cmml"><mo id="A1.Ex5.m1.6.6.3.1.1.4.2.1" stretchy="false" xref="A1.Ex5.m1.6.6.3.1.1.cmml">(</mo><mi id="A1.Ex5.m1.6.6.3.1.1.1" xref="A1.Ex5.m1.6.6.3.1.1.1.cmml">l</mi><mo id="A1.Ex5.m1.6.6.3.1.1.4.2.2" stretchy="false" xref="A1.Ex5.m1.6.6.3.1.1.cmml">)</mo></mrow></mrow></msub><mo id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.5" stretchy="false" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex5.m1.7.7.4.2.1.1.3" xref="A1.Ex5.m1.7.7.4.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex5.m1.7b"><apply id="A1.Ex5.m1.7.8.cmml" xref="A1.Ex5.m1.7.8"><eq id="A1.Ex5.m1.7.8.1.cmml" xref="A1.Ex5.m1.7.8.1"></eq><csymbol cd="latexml" id="A1.Ex5.m1.7.8.2.cmml" xref="A1.Ex5.m1.7.8.2">absent</csymbol><apply id="A1.Ex5.m1.7.8.3.cmml" xref="A1.Ex5.m1.7.8.3"><apply id="A1.Ex5.m1.7.8.3.1.cmml" xref="A1.Ex5.m1.7.8.3.1"><csymbol cd="ambiguous" id="A1.Ex5.m1.7.8.3.1.1.cmml" xref="A1.Ex5.m1.7.8.3.1">subscript</csymbol><sum id="A1.Ex5.m1.7.8.3.1.2.cmml" xref="A1.Ex5.m1.7.8.3.1.2"></sum><apply id="A1.Ex5.m1.3.3.3.cmml" xref="A1.Ex5.m1.3.3.3"><in id="A1.Ex5.m1.3.3.3.4.cmml" xref="A1.Ex5.m1.3.3.3.4"></in><ci id="A1.Ex5.m1.3.3.3.5.cmml" xref="A1.Ex5.m1.3.3.3.5">ğœ</ci><apply id="A1.Ex5.m1.3.3.3.3.3.cmml" xref="A1.Ex5.m1.3.3.3.3.2"><csymbol cd="latexml" id="A1.Ex5.m1.3.3.3.3.3.1.cmml" xref="A1.Ex5.m1.3.3.3.3.2.3">conditional-set</csymbol><apply id="A1.Ex5.m1.2.2.2.2.1.1.cmml" xref="A1.Ex5.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="A1.Ex5.m1.2.2.2.2.1.1.1.cmml" xref="A1.Ex5.m1.2.2.2.2.1.1">superscript</csymbol><ci id="A1.Ex5.m1.2.2.2.2.1.1.2.cmml" xref="A1.Ex5.m1.2.2.2.2.1.1.2">ğœ</ci><ci id="A1.Ex5.m1.2.2.2.2.1.1.3.cmml" xref="A1.Ex5.m1.2.2.2.2.1.1.3">â€²</ci></apply><apply id="A1.Ex5.m1.3.3.3.3.2.2.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2"><eq id="A1.Ex5.m1.3.3.3.3.2.2.1.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2.1"></eq><apply id="A1.Ex5.m1.3.3.3.3.2.2.2.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2.2"><times id="A1.Ex5.m1.3.3.3.3.2.2.2.1.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2.2.1"></times><apply id="A1.Ex5.m1.3.3.3.3.2.2.2.2.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex5.m1.3.3.3.3.2.2.2.2.1.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2.2.2">superscript</csymbol><ci id="A1.Ex5.m1.3.3.3.3.2.2.2.2.2.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2.2.2.2">ğœ</ci><ci id="A1.Ex5.m1.3.3.3.3.2.2.2.2.3.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2.2.2.3">â€²</ci></apply><cn id="A1.Ex5.m1.1.1.1.1.cmml" type="integer" xref="A1.Ex5.m1.1.1.1.1">1</cn></apply><ci id="A1.Ex5.m1.3.3.3.3.2.2.3.cmml" xref="A1.Ex5.m1.3.3.3.3.2.2.3">ğ‘</ci></apply></apply></apply></apply><apply id="A1.Ex5.m1.7.8.3.2.cmml" xref="A1.Ex5.m1.7.8.3.2"><apply id="A1.Ex5.m1.7.8.3.2.1.cmml" xref="A1.Ex5.m1.7.8.3.2.1"><csymbol cd="ambiguous" id="A1.Ex5.m1.7.8.3.2.1.1.cmml" xref="A1.Ex5.m1.7.8.3.2.1">superscript</csymbol><apply id="A1.Ex5.m1.7.8.3.2.1.2.cmml" xref="A1.Ex5.m1.7.8.3.2.1"><csymbol cd="ambiguous" id="A1.Ex5.m1.7.8.3.2.1.2.1.cmml" xref="A1.Ex5.m1.7.8.3.2.1">subscript</csymbol><csymbol cd="latexml" id="A1.Ex5.m1.7.8.3.2.1.2.2.cmml" xref="A1.Ex5.m1.7.8.3.2.1.2.2">product</csymbol><apply id="A1.Ex5.m1.7.8.3.2.1.2.3.cmml" xref="A1.Ex5.m1.7.8.3.2.1.2.3"><eq id="A1.Ex5.m1.7.8.3.2.1.2.3.1.cmml" xref="A1.Ex5.m1.7.8.3.2.1.2.3.1"></eq><ci id="A1.Ex5.m1.7.8.3.2.1.2.3.2.cmml" xref="A1.Ex5.m1.7.8.3.2.1.2.3.2">ğ‘—</ci><cn id="A1.Ex5.m1.7.8.3.2.1.2.3.3.cmml" type="integer" xref="A1.Ex5.m1.7.8.3.2.1.2.3.3">1</cn></apply></apply><ci id="A1.Ex5.m1.7.8.3.2.1.3.cmml" xref="A1.Ex5.m1.7.8.3.2.1.3">ğ¾</ci></apply><apply id="A1.Ex5.m1.7.7.cmml" xref="A1.Ex5.m1.7.7"><divide id="A1.Ex5.m1.7.7.5.cmml" xref="A1.Ex5.m1.7.7"></divide><apply id="A1.Ex5.m1.5.5.2.cmml" xref="A1.Ex5.m1.5.5.2"><times id="A1.Ex5.m1.5.5.2.3.cmml" xref="A1.Ex5.m1.5.5.2.3"></times><ci id="A1.Ex5.m1.5.5.2.4.cmml" xref="A1.Ex5.m1.5.5.2.4">exp</ci><apply id="A1.Ex5.m1.5.5.2.2.1.1.cmml" xref="A1.Ex5.m1.5.5.2.2.1"><times id="A1.Ex5.m1.5.5.2.2.1.1.3.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.3"></times><ci id="A1.Ex5.m1.5.5.2.2.1.1.4.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex5.m1.5.5.2.2.1.1.2.3.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.2.2"><apply id="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.1.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.2.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.3.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex5.m1.5.5.2.2.1.1.2.2.2.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex5.m1.5.5.2.2.1.1.2.2.2.1.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex5.m1.5.5.2.2.1.1.2.2.2.2.cmml" xref="A1.Ex5.m1.5.5.2.2.1.1.2.2.2.2">ğ‘’</ci><apply id="A1.Ex5.m1.4.4.1.1.1.cmml" xref="A1.Ex5.m1.4.4.1.1.1"><times id="A1.Ex5.m1.4.4.1.1.1.2.cmml" xref="A1.Ex5.m1.4.4.1.1.1.2"></times><ci id="A1.Ex5.m1.4.4.1.1.1.3.cmml" xref="A1.Ex5.m1.4.4.1.1.1.3">ğœ</ci><ci id="A1.Ex5.m1.4.4.1.1.1.1.cmml" xref="A1.Ex5.m1.4.4.1.1.1.1">ğ‘—</ci></apply></apply></interval></apply></apply><apply id="A1.Ex5.m1.7.7.4.cmml" xref="A1.Ex5.m1.7.7.4"><apply id="A1.Ex5.m1.7.7.4.3.cmml" xref="A1.Ex5.m1.7.7.4.3"><csymbol cd="ambiguous" id="A1.Ex5.m1.7.7.4.3.1.cmml" xref="A1.Ex5.m1.7.7.4.3">superscript</csymbol><apply id="A1.Ex5.m1.7.7.4.3.2.cmml" xref="A1.Ex5.m1.7.7.4.3"><csymbol cd="ambiguous" id="A1.Ex5.m1.7.7.4.3.2.1.cmml" xref="A1.Ex5.m1.7.7.4.3">subscript</csymbol><sum id="A1.Ex5.m1.7.7.4.3.2.2.cmml" xref="A1.Ex5.m1.7.7.4.3.2.2"></sum><apply id="A1.Ex5.m1.7.7.4.3.2.3.cmml" xref="A1.Ex5.m1.7.7.4.3.2.3"><eq id="A1.Ex5.m1.7.7.4.3.2.3.1.cmml" xref="A1.Ex5.m1.7.7.4.3.2.3.1"></eq><ci id="A1.Ex5.m1.7.7.4.3.2.3.2.cmml" xref="A1.Ex5.m1.7.7.4.3.2.3.2">ğ‘™</ci><ci id="A1.Ex5.m1.7.7.4.3.2.3.3.cmml" xref="A1.Ex5.m1.7.7.4.3.2.3.3">ğ‘—</ci></apply></apply><ci id="A1.Ex5.m1.7.7.4.3.3.cmml" xref="A1.Ex5.m1.7.7.4.3.3">ğ¾</ci></apply><apply id="A1.Ex5.m1.7.7.4.2.cmml" xref="A1.Ex5.m1.7.7.4.2"><times id="A1.Ex5.m1.7.7.4.2.2.cmml" xref="A1.Ex5.m1.7.7.4.2.2"></times><ci id="A1.Ex5.m1.7.7.4.2.3.cmml" xref="A1.Ex5.m1.7.7.4.2.3">exp</ci><apply id="A1.Ex5.m1.7.7.4.2.1.1.1.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1"><times id="A1.Ex5.m1.7.7.4.2.1.1.1.3.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.3"></times><ci id="A1.Ex5.m1.7.7.4.2.1.1.1.4.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex5.m1.7.7.4.2.1.1.1.2.3.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.2"><apply id="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.2.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.3.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2.1.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2.2.cmml" xref="A1.Ex5.m1.7.7.4.2.1.1.1.2.2.2.2">ğ‘’</ci><apply id="A1.Ex5.m1.6.6.3.1.1.cmml" xref="A1.Ex5.m1.6.6.3.1.1"><times id="A1.Ex5.m1.6.6.3.1.1.2.cmml" xref="A1.Ex5.m1.6.6.3.1.1.2"></times><ci id="A1.Ex5.m1.6.6.3.1.1.3.cmml" xref="A1.Ex5.m1.6.6.3.1.1.3">ğœ</ci><ci id="A1.Ex5.m1.6.6.3.1.1.1.cmml" xref="A1.Ex5.m1.6.6.3.1.1.1">ğ‘™</ci></apply></apply></interval></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex5.m1.7c">\displaystyle=\sum_{\tau\in\{\tau^{\prime}|\tau^{\prime}(1)=p\}}\prod_{j=1}^{K%
}\frac{{\rm exp}\left(r(x_{u},e_{\tau(j)})\right)}{\sum_{l=j}^{K}{\rm exp}%
\left(r(x_{u},e_{\tau(l)})\right)}</annotation><annotation encoding="application/x-llamapun" id="A1.Ex5.m1.7d">= âˆ‘ start_POSTSUBSCRIPT italic_Ï„ âˆˆ { italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT | italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT ( 1 ) = italic_p } end_POSTSUBSCRIPT âˆ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT divide start_ARG roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ ( italic_j ) end_POSTSUBSCRIPT ) ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_l = italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ ( italic_l ) end_POSTSUBSCRIPT ) ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{{\rm exp}(r(x_{u},e_{p}))}{\sum_{j=1}^{K}{\rm exp}(r(x_{u}%
,e_{j}))}\times\sum_{\tau^{\prime}\in Per(ind(\mathcal{I}_{d}))}\prod_{j=1}^{K%
-1}\frac{{\rm exp}\left(r(x_{u},e_{\tau^{\prime}(j)})\right)}{\sum_{l=j}^{K-1}%
{\rm exp}(r(x_{u},e_{\tau^{\prime}(l)}))}" class="ltx_Math" display="inline" id="A1.Ex6.m1.7"><semantics id="A1.Ex6.m1.7a"><mrow id="A1.Ex6.m1.7.8" xref="A1.Ex6.m1.7.8.cmml"><mi id="A1.Ex6.m1.7.8.2" xref="A1.Ex6.m1.7.8.2.cmml"></mi><mo id="A1.Ex6.m1.7.8.1" xref="A1.Ex6.m1.7.8.1.cmml">=</mo><mrow id="A1.Ex6.m1.7.8.3" xref="A1.Ex6.m1.7.8.3.cmml"><mstyle displaystyle="true" id="A1.Ex6.m1.2.2" xref="A1.Ex6.m1.2.2.cmml"><mfrac id="A1.Ex6.m1.2.2a" xref="A1.Ex6.m1.2.2.cmml"><mrow id="A1.Ex6.m1.1.1.1" xref="A1.Ex6.m1.1.1.1.cmml"><mi id="A1.Ex6.m1.1.1.1.3" xref="A1.Ex6.m1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex6.m1.1.1.1.2" xref="A1.Ex6.m1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex6.m1.1.1.1.1.1" xref="A1.Ex6.m1.1.1.1.1.1.1.cmml"><mo id="A1.Ex6.m1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex6.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex6.m1.1.1.1.1.1.1" xref="A1.Ex6.m1.1.1.1.1.1.1.cmml"><mi id="A1.Ex6.m1.1.1.1.1.1.1.4" xref="A1.Ex6.m1.1.1.1.1.1.1.4.cmml">r</mi><mo id="A1.Ex6.m1.1.1.1.1.1.1.3" xref="A1.Ex6.m1.1.1.1.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex6.m1.1.1.1.1.1.1.2.2" xref="A1.Ex6.m1.1.1.1.1.1.1.2.3.cmml"><mo id="A1.Ex6.m1.1.1.1.1.1.1.2.2.3" stretchy="false" xref="A1.Ex6.m1.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="A1.Ex6.m1.1.1.1.1.1.1.1.1.1" xref="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex6.m1.1.1.1.1.1.1.2.2.4" xref="A1.Ex6.m1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex6.m1.1.1.1.1.1.1.2.2.2" xref="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.2" xref="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.3" xref="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex6.m1.1.1.1.1.1.1.2.2.5" stretchy="false" xref="A1.Ex6.m1.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex6.m1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex6.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex6.m1.2.2.2" xref="A1.Ex6.m1.2.2.2.cmml"><msubsup id="A1.Ex6.m1.2.2.2.2" xref="A1.Ex6.m1.2.2.2.2.cmml"><mo id="A1.Ex6.m1.2.2.2.2.2.2" xref="A1.Ex6.m1.2.2.2.2.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex6.m1.2.2.2.2.2.3" xref="A1.Ex6.m1.2.2.2.2.2.3.cmml"><mi id="A1.Ex6.m1.2.2.2.2.2.3.2" xref="A1.Ex6.m1.2.2.2.2.2.3.2.cmml">j</mi><mo id="A1.Ex6.m1.2.2.2.2.2.3.1" xref="A1.Ex6.m1.2.2.2.2.2.3.1.cmml">=</mo><mn id="A1.Ex6.m1.2.2.2.2.2.3.3" xref="A1.Ex6.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="A1.Ex6.m1.2.2.2.2.3" xref="A1.Ex6.m1.2.2.2.2.3.cmml">K</mi></msubsup><mrow id="A1.Ex6.m1.2.2.2.1" xref="A1.Ex6.m1.2.2.2.1.cmml"><mi id="A1.Ex6.m1.2.2.2.1.3" xref="A1.Ex6.m1.2.2.2.1.3.cmml">exp</mi><mo id="A1.Ex6.m1.2.2.2.1.2" xref="A1.Ex6.m1.2.2.2.1.2.cmml">â¢</mo><mrow id="A1.Ex6.m1.2.2.2.1.1.1" xref="A1.Ex6.m1.2.2.2.1.1.1.1.cmml"><mo id="A1.Ex6.m1.2.2.2.1.1.1.2" stretchy="false" xref="A1.Ex6.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="A1.Ex6.m1.2.2.2.1.1.1.1" xref="A1.Ex6.m1.2.2.2.1.1.1.1.cmml"><mi id="A1.Ex6.m1.2.2.2.1.1.1.1.4" xref="A1.Ex6.m1.2.2.2.1.1.1.1.4.cmml">r</mi><mo id="A1.Ex6.m1.2.2.2.1.1.1.1.3" xref="A1.Ex6.m1.2.2.2.1.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.3.cmml"><mo id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.3" stretchy="false" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.3.cmml">(</mo><msub id="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1" xref="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.2" xref="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.3" xref="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.4" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.2" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.3" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.3.cmml">j</mi></msub><mo id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.5" stretchy="false" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex6.m1.2.2.2.1.1.1.3" stretchy="false" xref="A1.Ex6.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo id="A1.Ex6.m1.7.8.3.1" lspace="0.222em" rspace="0.222em" xref="A1.Ex6.m1.7.8.3.1.cmml">Ã—</mo><mrow id="A1.Ex6.m1.7.8.3.2" xref="A1.Ex6.m1.7.8.3.2.cmml"><mstyle displaystyle="true" id="A1.Ex6.m1.7.8.3.2.1" xref="A1.Ex6.m1.7.8.3.2.1.cmml"><munder id="A1.Ex6.m1.7.8.3.2.1a" xref="A1.Ex6.m1.7.8.3.2.1.cmml"><mo id="A1.Ex6.m1.7.8.3.2.1.2" movablelimits="false" xref="A1.Ex6.m1.7.8.3.2.1.2.cmml">âˆ‘</mo><mrow id="A1.Ex6.m1.3.3.1" xref="A1.Ex6.m1.3.3.1.cmml"><msup id="A1.Ex6.m1.3.3.1.3" xref="A1.Ex6.m1.3.3.1.3.cmml"><mi id="A1.Ex6.m1.3.3.1.3.2" xref="A1.Ex6.m1.3.3.1.3.2.cmml">Ï„</mi><mo id="A1.Ex6.m1.3.3.1.3.3" xref="A1.Ex6.m1.3.3.1.3.3.cmml">â€²</mo></msup><mo id="A1.Ex6.m1.3.3.1.2" xref="A1.Ex6.m1.3.3.1.2.cmml">âˆˆ</mo><mrow id="A1.Ex6.m1.3.3.1.1" xref="A1.Ex6.m1.3.3.1.1.cmml"><mi id="A1.Ex6.m1.3.3.1.1.3" xref="A1.Ex6.m1.3.3.1.1.3.cmml">P</mi><mo id="A1.Ex6.m1.3.3.1.1.2" xref="A1.Ex6.m1.3.3.1.1.2.cmml">â¢</mo><mi id="A1.Ex6.m1.3.3.1.1.4" xref="A1.Ex6.m1.3.3.1.1.4.cmml">e</mi><mo id="A1.Ex6.m1.3.3.1.1.2a" xref="A1.Ex6.m1.3.3.1.1.2.cmml">â¢</mo><mi id="A1.Ex6.m1.3.3.1.1.5" xref="A1.Ex6.m1.3.3.1.1.5.cmml">r</mi><mo id="A1.Ex6.m1.3.3.1.1.2b" xref="A1.Ex6.m1.3.3.1.1.2.cmml">â¢</mo><mrow id="A1.Ex6.m1.3.3.1.1.1.1" xref="A1.Ex6.m1.3.3.1.1.1.1.1.cmml"><mo id="A1.Ex6.m1.3.3.1.1.1.1.2" stretchy="false" xref="A1.Ex6.m1.3.3.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex6.m1.3.3.1.1.1.1.1" xref="A1.Ex6.m1.3.3.1.1.1.1.1.cmml"><mi id="A1.Ex6.m1.3.3.1.1.1.1.1.3" xref="A1.Ex6.m1.3.3.1.1.1.1.1.3.cmml">i</mi><mo id="A1.Ex6.m1.3.3.1.1.1.1.1.2" xref="A1.Ex6.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex6.m1.3.3.1.1.1.1.1.4" xref="A1.Ex6.m1.3.3.1.1.1.1.1.4.cmml">n</mi><mo id="A1.Ex6.m1.3.3.1.1.1.1.1.2a" xref="A1.Ex6.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex6.m1.3.3.1.1.1.1.1.5" xref="A1.Ex6.m1.3.3.1.1.1.1.1.5.cmml">d</mi><mo id="A1.Ex6.m1.3.3.1.1.1.1.1.2b" xref="A1.Ex6.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.2" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">â„</mi><mi id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.3" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex6.m1.3.3.1.1.1.1.3" stretchy="false" xref="A1.Ex6.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></munder></mstyle><mrow id="A1.Ex6.m1.7.8.3.2.2" xref="A1.Ex6.m1.7.8.3.2.2.cmml"><mstyle displaystyle="true" id="A1.Ex6.m1.7.8.3.2.2.1" xref="A1.Ex6.m1.7.8.3.2.2.1.cmml"><munderover id="A1.Ex6.m1.7.8.3.2.2.1a" xref="A1.Ex6.m1.7.8.3.2.2.1.cmml"><mo id="A1.Ex6.m1.7.8.3.2.2.1.2.2" movablelimits="false" xref="A1.Ex6.m1.7.8.3.2.2.1.2.2.cmml">âˆ</mo><mrow id="A1.Ex6.m1.7.8.3.2.2.1.2.3" xref="A1.Ex6.m1.7.8.3.2.2.1.2.3.cmml"><mi id="A1.Ex6.m1.7.8.3.2.2.1.2.3.2" xref="A1.Ex6.m1.7.8.3.2.2.1.2.3.2.cmml">j</mi><mo id="A1.Ex6.m1.7.8.3.2.2.1.2.3.1" xref="A1.Ex6.m1.7.8.3.2.2.1.2.3.1.cmml">=</mo><mn id="A1.Ex6.m1.7.8.3.2.2.1.2.3.3" xref="A1.Ex6.m1.7.8.3.2.2.1.2.3.3.cmml">1</mn></mrow><mrow id="A1.Ex6.m1.7.8.3.2.2.1.3" xref="A1.Ex6.m1.7.8.3.2.2.1.3.cmml"><mi id="A1.Ex6.m1.7.8.3.2.2.1.3.2" xref="A1.Ex6.m1.7.8.3.2.2.1.3.2.cmml">K</mi><mo id="A1.Ex6.m1.7.8.3.2.2.1.3.1" xref="A1.Ex6.m1.7.8.3.2.2.1.3.1.cmml">âˆ’</mo><mn id="A1.Ex6.m1.7.8.3.2.2.1.3.3" xref="A1.Ex6.m1.7.8.3.2.2.1.3.3.cmml">1</mn></mrow></munderover></mstyle><mstyle displaystyle="true" id="A1.Ex6.m1.7.7" xref="A1.Ex6.m1.7.7.cmml"><mfrac id="A1.Ex6.m1.7.7a" xref="A1.Ex6.m1.7.7.cmml"><mrow id="A1.Ex6.m1.5.5.2" xref="A1.Ex6.m1.5.5.2.cmml"><mi id="A1.Ex6.m1.5.5.2.4" xref="A1.Ex6.m1.5.5.2.4.cmml">exp</mi><mo id="A1.Ex6.m1.5.5.2.3" xref="A1.Ex6.m1.5.5.2.3.cmml">â¢</mo><mrow id="A1.Ex6.m1.5.5.2.2.1" xref="A1.Ex6.m1.5.5.2.2.1.1.cmml"><mo id="A1.Ex6.m1.5.5.2.2.1.2" xref="A1.Ex6.m1.5.5.2.2.1.1.cmml">(</mo><mrow id="A1.Ex6.m1.5.5.2.2.1.1" xref="A1.Ex6.m1.5.5.2.2.1.1.cmml"><mi id="A1.Ex6.m1.5.5.2.2.1.1.4" xref="A1.Ex6.m1.5.5.2.2.1.1.4.cmml">r</mi><mo id="A1.Ex6.m1.5.5.2.2.1.1.3" xref="A1.Ex6.m1.5.5.2.2.1.1.3.cmml">â¢</mo><mrow id="A1.Ex6.m1.5.5.2.2.1.1.2.2" xref="A1.Ex6.m1.5.5.2.2.1.1.2.3.cmml"><mo id="A1.Ex6.m1.5.5.2.2.1.1.2.2.3" stretchy="false" xref="A1.Ex6.m1.5.5.2.2.1.1.2.3.cmml">(</mo><msub id="A1.Ex6.m1.5.5.2.2.1.1.1.1.1" xref="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.cmml"><mi id="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.2" xref="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.3" xref="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex6.m1.5.5.2.2.1.1.2.2.4" xref="A1.Ex6.m1.5.5.2.2.1.1.2.3.cmml">,</mo><msub id="A1.Ex6.m1.5.5.2.2.1.1.2.2.2" xref="A1.Ex6.m1.5.5.2.2.1.1.2.2.2.cmml"><mi id="A1.Ex6.m1.5.5.2.2.1.1.2.2.2.2" xref="A1.Ex6.m1.5.5.2.2.1.1.2.2.2.2.cmml">e</mi><mrow id="A1.Ex6.m1.4.4.1.1.1" xref="A1.Ex6.m1.4.4.1.1.1.cmml"><msup id="A1.Ex6.m1.4.4.1.1.1.3" xref="A1.Ex6.m1.4.4.1.1.1.3.cmml"><mi id="A1.Ex6.m1.4.4.1.1.1.3.2" xref="A1.Ex6.m1.4.4.1.1.1.3.2.cmml">Ï„</mi><mo id="A1.Ex6.m1.4.4.1.1.1.3.3" xref="A1.Ex6.m1.4.4.1.1.1.3.3.cmml">â€²</mo></msup><mo id="A1.Ex6.m1.4.4.1.1.1.2" xref="A1.Ex6.m1.4.4.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex6.m1.4.4.1.1.1.4.2" xref="A1.Ex6.m1.4.4.1.1.1.cmml"><mo id="A1.Ex6.m1.4.4.1.1.1.4.2.1" stretchy="false" xref="A1.Ex6.m1.4.4.1.1.1.cmml">(</mo><mi id="A1.Ex6.m1.4.4.1.1.1.1" xref="A1.Ex6.m1.4.4.1.1.1.1.cmml">j</mi><mo id="A1.Ex6.m1.4.4.1.1.1.4.2.2" stretchy="false" xref="A1.Ex6.m1.4.4.1.1.1.cmml">)</mo></mrow></mrow></msub><mo id="A1.Ex6.m1.5.5.2.2.1.1.2.2.5" stretchy="false" xref="A1.Ex6.m1.5.5.2.2.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex6.m1.5.5.2.2.1.3" xref="A1.Ex6.m1.5.5.2.2.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex6.m1.7.7.4" xref="A1.Ex6.m1.7.7.4.cmml"><msubsup id="A1.Ex6.m1.7.7.4.3" xref="A1.Ex6.m1.7.7.4.3.cmml"><mo id="A1.Ex6.m1.7.7.4.3.2.2" xref="A1.Ex6.m1.7.7.4.3.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex6.m1.7.7.4.3.2.3" xref="A1.Ex6.m1.7.7.4.3.2.3.cmml"><mi id="A1.Ex6.m1.7.7.4.3.2.3.2" xref="A1.Ex6.m1.7.7.4.3.2.3.2.cmml">l</mi><mo id="A1.Ex6.m1.7.7.4.3.2.3.1" xref="A1.Ex6.m1.7.7.4.3.2.3.1.cmml">=</mo><mi id="A1.Ex6.m1.7.7.4.3.2.3.3" xref="A1.Ex6.m1.7.7.4.3.2.3.3.cmml">j</mi></mrow><mrow id="A1.Ex6.m1.7.7.4.3.3" xref="A1.Ex6.m1.7.7.4.3.3.cmml"><mi id="A1.Ex6.m1.7.7.4.3.3.2" xref="A1.Ex6.m1.7.7.4.3.3.2.cmml">K</mi><mo id="A1.Ex6.m1.7.7.4.3.3.1" xref="A1.Ex6.m1.7.7.4.3.3.1.cmml">âˆ’</mo><mn id="A1.Ex6.m1.7.7.4.3.3.3" xref="A1.Ex6.m1.7.7.4.3.3.3.cmml">1</mn></mrow></msubsup><mrow id="A1.Ex6.m1.7.7.4.2" xref="A1.Ex6.m1.7.7.4.2.cmml"><mi id="A1.Ex6.m1.7.7.4.2.3" xref="A1.Ex6.m1.7.7.4.2.3.cmml">exp</mi><mo id="A1.Ex6.m1.7.7.4.2.2" xref="A1.Ex6.m1.7.7.4.2.2.cmml">â¢</mo><mrow id="A1.Ex6.m1.7.7.4.2.1.1" xref="A1.Ex6.m1.7.7.4.2.1.1.1.cmml"><mo id="A1.Ex6.m1.7.7.4.2.1.1.2" stretchy="false" xref="A1.Ex6.m1.7.7.4.2.1.1.1.cmml">(</mo><mrow id="A1.Ex6.m1.7.7.4.2.1.1.1" xref="A1.Ex6.m1.7.7.4.2.1.1.1.cmml"><mi id="A1.Ex6.m1.7.7.4.2.1.1.1.4" xref="A1.Ex6.m1.7.7.4.2.1.1.1.4.cmml">r</mi><mo id="A1.Ex6.m1.7.7.4.2.1.1.1.3" xref="A1.Ex6.m1.7.7.4.2.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.3.cmml"><mo id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.3" stretchy="false" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.3.cmml">(</mo><msub id="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1" xref="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.cmml"><mi id="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.2" xref="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.3" xref="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.4" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2.cmml"><mi id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2.2" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2.2.cmml">e</mi><mrow id="A1.Ex6.m1.6.6.3.1.1" xref="A1.Ex6.m1.6.6.3.1.1.cmml"><msup id="A1.Ex6.m1.6.6.3.1.1.3" xref="A1.Ex6.m1.6.6.3.1.1.3.cmml"><mi id="A1.Ex6.m1.6.6.3.1.1.3.2" xref="A1.Ex6.m1.6.6.3.1.1.3.2.cmml">Ï„</mi><mo id="A1.Ex6.m1.6.6.3.1.1.3.3" xref="A1.Ex6.m1.6.6.3.1.1.3.3.cmml">â€²</mo></msup><mo id="A1.Ex6.m1.6.6.3.1.1.2" xref="A1.Ex6.m1.6.6.3.1.1.2.cmml">â¢</mo><mrow id="A1.Ex6.m1.6.6.3.1.1.4.2" xref="A1.Ex6.m1.6.6.3.1.1.cmml"><mo id="A1.Ex6.m1.6.6.3.1.1.4.2.1" stretchy="false" xref="A1.Ex6.m1.6.6.3.1.1.cmml">(</mo><mi id="A1.Ex6.m1.6.6.3.1.1.1" xref="A1.Ex6.m1.6.6.3.1.1.1.cmml">l</mi><mo id="A1.Ex6.m1.6.6.3.1.1.4.2.2" stretchy="false" xref="A1.Ex6.m1.6.6.3.1.1.cmml">)</mo></mrow></mrow></msub><mo id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.5" stretchy="false" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex6.m1.7.7.4.2.1.1.3" stretchy="false" xref="A1.Ex6.m1.7.7.4.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex6.m1.7b"><apply id="A1.Ex6.m1.7.8.cmml" xref="A1.Ex6.m1.7.8"><eq id="A1.Ex6.m1.7.8.1.cmml" xref="A1.Ex6.m1.7.8.1"></eq><csymbol cd="latexml" id="A1.Ex6.m1.7.8.2.cmml" xref="A1.Ex6.m1.7.8.2">absent</csymbol><apply id="A1.Ex6.m1.7.8.3.cmml" xref="A1.Ex6.m1.7.8.3"><times id="A1.Ex6.m1.7.8.3.1.cmml" xref="A1.Ex6.m1.7.8.3.1"></times><apply id="A1.Ex6.m1.2.2.cmml" xref="A1.Ex6.m1.2.2"><divide id="A1.Ex6.m1.2.2.3.cmml" xref="A1.Ex6.m1.2.2"></divide><apply id="A1.Ex6.m1.1.1.1.cmml" xref="A1.Ex6.m1.1.1.1"><times id="A1.Ex6.m1.1.1.1.2.cmml" xref="A1.Ex6.m1.1.1.1.2"></times><ci id="A1.Ex6.m1.1.1.1.3.cmml" xref="A1.Ex6.m1.1.1.1.3">exp</ci><apply id="A1.Ex6.m1.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.1.1.1.1.1"><times id="A1.Ex6.m1.1.1.1.1.1.1.3.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.3"></times><ci id="A1.Ex6.m1.1.1.1.1.1.1.4.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex6.m1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.2.2"><apply id="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex6.m1.1.1.1.1.1.1.2.2.2.3">ğ‘</ci></apply></interval></apply></apply><apply id="A1.Ex6.m1.2.2.2.cmml" xref="A1.Ex6.m1.2.2.2"><apply id="A1.Ex6.m1.2.2.2.2.cmml" xref="A1.Ex6.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex6.m1.2.2.2.2.1.cmml" xref="A1.Ex6.m1.2.2.2.2">superscript</csymbol><apply id="A1.Ex6.m1.2.2.2.2.2.cmml" xref="A1.Ex6.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex6.m1.2.2.2.2.2.1.cmml" xref="A1.Ex6.m1.2.2.2.2">subscript</csymbol><sum id="A1.Ex6.m1.2.2.2.2.2.2.cmml" xref="A1.Ex6.m1.2.2.2.2.2.2"></sum><apply id="A1.Ex6.m1.2.2.2.2.2.3.cmml" xref="A1.Ex6.m1.2.2.2.2.2.3"><eq id="A1.Ex6.m1.2.2.2.2.2.3.1.cmml" xref="A1.Ex6.m1.2.2.2.2.2.3.1"></eq><ci id="A1.Ex6.m1.2.2.2.2.2.3.2.cmml" xref="A1.Ex6.m1.2.2.2.2.2.3.2">ğ‘—</ci><cn id="A1.Ex6.m1.2.2.2.2.2.3.3.cmml" type="integer" xref="A1.Ex6.m1.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="A1.Ex6.m1.2.2.2.2.3.cmml" xref="A1.Ex6.m1.2.2.2.2.3">ğ¾</ci></apply><apply id="A1.Ex6.m1.2.2.2.1.cmml" xref="A1.Ex6.m1.2.2.2.1"><times id="A1.Ex6.m1.2.2.2.1.2.cmml" xref="A1.Ex6.m1.2.2.2.1.2"></times><ci id="A1.Ex6.m1.2.2.2.1.3.cmml" xref="A1.Ex6.m1.2.2.2.1.3">exp</ci><apply id="A1.Ex6.m1.2.2.2.1.1.1.1.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1"><times id="A1.Ex6.m1.2.2.2.1.1.1.1.3.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.3"></times><ci id="A1.Ex6.m1.2.2.2.1.1.1.1.4.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex6.m1.2.2.2.1.1.1.1.2.3.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.2"><apply id="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex6.m1.2.2.2.1.1.1.1.2.2.2.3">ğ‘—</ci></apply></interval></apply></apply></apply></apply><apply id="A1.Ex6.m1.7.8.3.2.cmml" xref="A1.Ex6.m1.7.8.3.2"><apply id="A1.Ex6.m1.7.8.3.2.1.cmml" xref="A1.Ex6.m1.7.8.3.2.1"><csymbol cd="ambiguous" id="A1.Ex6.m1.7.8.3.2.1.1.cmml" xref="A1.Ex6.m1.7.8.3.2.1">subscript</csymbol><sum id="A1.Ex6.m1.7.8.3.2.1.2.cmml" xref="A1.Ex6.m1.7.8.3.2.1.2"></sum><apply id="A1.Ex6.m1.3.3.1.cmml" xref="A1.Ex6.m1.3.3.1"><in id="A1.Ex6.m1.3.3.1.2.cmml" xref="A1.Ex6.m1.3.3.1.2"></in><apply id="A1.Ex6.m1.3.3.1.3.cmml" xref="A1.Ex6.m1.3.3.1.3"><csymbol cd="ambiguous" id="A1.Ex6.m1.3.3.1.3.1.cmml" xref="A1.Ex6.m1.3.3.1.3">superscript</csymbol><ci id="A1.Ex6.m1.3.3.1.3.2.cmml" xref="A1.Ex6.m1.3.3.1.3.2">ğœ</ci><ci id="A1.Ex6.m1.3.3.1.3.3.cmml" xref="A1.Ex6.m1.3.3.1.3.3">â€²</ci></apply><apply id="A1.Ex6.m1.3.3.1.1.cmml" xref="A1.Ex6.m1.3.3.1.1"><times id="A1.Ex6.m1.3.3.1.1.2.cmml" xref="A1.Ex6.m1.3.3.1.1.2"></times><ci id="A1.Ex6.m1.3.3.1.1.3.cmml" xref="A1.Ex6.m1.3.3.1.1.3">ğ‘ƒ</ci><ci id="A1.Ex6.m1.3.3.1.1.4.cmml" xref="A1.Ex6.m1.3.3.1.1.4">ğ‘’</ci><ci id="A1.Ex6.m1.3.3.1.1.5.cmml" xref="A1.Ex6.m1.3.3.1.1.5">ğ‘Ÿ</ci><apply id="A1.Ex6.m1.3.3.1.1.1.1.1.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1"><times id="A1.Ex6.m1.3.3.1.1.1.1.1.2.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1.1.2"></times><ci id="A1.Ex6.m1.3.3.1.1.1.1.1.3.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1.1.3">ğ‘–</ci><ci id="A1.Ex6.m1.3.3.1.1.1.1.1.4.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1.1.4">ğ‘›</ci><ci id="A1.Ex6.m1.3.3.1.1.1.1.1.5.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1.1.5">ğ‘‘</ci><apply id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.2">â„</ci><ci id="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex6.m1.3.3.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></apply></apply></apply></apply><apply id="A1.Ex6.m1.7.8.3.2.2.cmml" xref="A1.Ex6.m1.7.8.3.2.2"><apply id="A1.Ex6.m1.7.8.3.2.2.1.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1"><csymbol cd="ambiguous" id="A1.Ex6.m1.7.8.3.2.2.1.1.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1">superscript</csymbol><apply id="A1.Ex6.m1.7.8.3.2.2.1.2.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1"><csymbol cd="ambiguous" id="A1.Ex6.m1.7.8.3.2.2.1.2.1.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1">subscript</csymbol><csymbol cd="latexml" id="A1.Ex6.m1.7.8.3.2.2.1.2.2.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1.2.2">product</csymbol><apply id="A1.Ex6.m1.7.8.3.2.2.1.2.3.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1.2.3"><eq id="A1.Ex6.m1.7.8.3.2.2.1.2.3.1.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1.2.3.1"></eq><ci id="A1.Ex6.m1.7.8.3.2.2.1.2.3.2.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1.2.3.2">ğ‘—</ci><cn id="A1.Ex6.m1.7.8.3.2.2.1.2.3.3.cmml" type="integer" xref="A1.Ex6.m1.7.8.3.2.2.1.2.3.3">1</cn></apply></apply><apply id="A1.Ex6.m1.7.8.3.2.2.1.3.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1.3"><minus id="A1.Ex6.m1.7.8.3.2.2.1.3.1.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1.3.1"></minus><ci id="A1.Ex6.m1.7.8.3.2.2.1.3.2.cmml" xref="A1.Ex6.m1.7.8.3.2.2.1.3.2">ğ¾</ci><cn id="A1.Ex6.m1.7.8.3.2.2.1.3.3.cmml" type="integer" xref="A1.Ex6.m1.7.8.3.2.2.1.3.3">1</cn></apply></apply><apply id="A1.Ex6.m1.7.7.cmml" xref="A1.Ex6.m1.7.7"><divide id="A1.Ex6.m1.7.7.5.cmml" xref="A1.Ex6.m1.7.7"></divide><apply id="A1.Ex6.m1.5.5.2.cmml" xref="A1.Ex6.m1.5.5.2"><times id="A1.Ex6.m1.5.5.2.3.cmml" xref="A1.Ex6.m1.5.5.2.3"></times><ci id="A1.Ex6.m1.5.5.2.4.cmml" xref="A1.Ex6.m1.5.5.2.4">exp</ci><apply id="A1.Ex6.m1.5.5.2.2.1.1.cmml" xref="A1.Ex6.m1.5.5.2.2.1"><times id="A1.Ex6.m1.5.5.2.2.1.1.3.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.3"></times><ci id="A1.Ex6.m1.5.5.2.2.1.1.4.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex6.m1.5.5.2.2.1.1.2.3.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.2.2"><apply id="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.2.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.3.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex6.m1.5.5.2.2.1.1.2.2.2.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex6.m1.5.5.2.2.1.1.2.2.2.1.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex6.m1.5.5.2.2.1.1.2.2.2.2.cmml" xref="A1.Ex6.m1.5.5.2.2.1.1.2.2.2.2">ğ‘’</ci><apply id="A1.Ex6.m1.4.4.1.1.1.cmml" xref="A1.Ex6.m1.4.4.1.1.1"><times id="A1.Ex6.m1.4.4.1.1.1.2.cmml" xref="A1.Ex6.m1.4.4.1.1.1.2"></times><apply id="A1.Ex6.m1.4.4.1.1.1.3.cmml" xref="A1.Ex6.m1.4.4.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex6.m1.4.4.1.1.1.3.1.cmml" xref="A1.Ex6.m1.4.4.1.1.1.3">superscript</csymbol><ci id="A1.Ex6.m1.4.4.1.1.1.3.2.cmml" xref="A1.Ex6.m1.4.4.1.1.1.3.2">ğœ</ci><ci id="A1.Ex6.m1.4.4.1.1.1.3.3.cmml" xref="A1.Ex6.m1.4.4.1.1.1.3.3">â€²</ci></apply><ci id="A1.Ex6.m1.4.4.1.1.1.1.cmml" xref="A1.Ex6.m1.4.4.1.1.1.1">ğ‘—</ci></apply></apply></interval></apply></apply><apply id="A1.Ex6.m1.7.7.4.cmml" xref="A1.Ex6.m1.7.7.4"><apply id="A1.Ex6.m1.7.7.4.3.cmml" xref="A1.Ex6.m1.7.7.4.3"><csymbol cd="ambiguous" id="A1.Ex6.m1.7.7.4.3.1.cmml" xref="A1.Ex6.m1.7.7.4.3">superscript</csymbol><apply id="A1.Ex6.m1.7.7.4.3.2.cmml" xref="A1.Ex6.m1.7.7.4.3"><csymbol cd="ambiguous" id="A1.Ex6.m1.7.7.4.3.2.1.cmml" xref="A1.Ex6.m1.7.7.4.3">subscript</csymbol><sum id="A1.Ex6.m1.7.7.4.3.2.2.cmml" xref="A1.Ex6.m1.7.7.4.3.2.2"></sum><apply id="A1.Ex6.m1.7.7.4.3.2.3.cmml" xref="A1.Ex6.m1.7.7.4.3.2.3"><eq id="A1.Ex6.m1.7.7.4.3.2.3.1.cmml" xref="A1.Ex6.m1.7.7.4.3.2.3.1"></eq><ci id="A1.Ex6.m1.7.7.4.3.2.3.2.cmml" xref="A1.Ex6.m1.7.7.4.3.2.3.2">ğ‘™</ci><ci id="A1.Ex6.m1.7.7.4.3.2.3.3.cmml" xref="A1.Ex6.m1.7.7.4.3.2.3.3">ğ‘—</ci></apply></apply><apply id="A1.Ex6.m1.7.7.4.3.3.cmml" xref="A1.Ex6.m1.7.7.4.3.3"><minus id="A1.Ex6.m1.7.7.4.3.3.1.cmml" xref="A1.Ex6.m1.7.7.4.3.3.1"></minus><ci id="A1.Ex6.m1.7.7.4.3.3.2.cmml" xref="A1.Ex6.m1.7.7.4.3.3.2">ğ¾</ci><cn id="A1.Ex6.m1.7.7.4.3.3.3.cmml" type="integer" xref="A1.Ex6.m1.7.7.4.3.3.3">1</cn></apply></apply><apply id="A1.Ex6.m1.7.7.4.2.cmml" xref="A1.Ex6.m1.7.7.4.2"><times id="A1.Ex6.m1.7.7.4.2.2.cmml" xref="A1.Ex6.m1.7.7.4.2.2"></times><ci id="A1.Ex6.m1.7.7.4.2.3.cmml" xref="A1.Ex6.m1.7.7.4.2.3">exp</ci><apply id="A1.Ex6.m1.7.7.4.2.1.1.1.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1"><times id="A1.Ex6.m1.7.7.4.2.1.1.1.3.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.3"></times><ci id="A1.Ex6.m1.7.7.4.2.1.1.1.4.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex6.m1.7.7.4.2.1.1.1.2.3.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.2"><apply id="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.2.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.3.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2.1.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2.2.cmml" xref="A1.Ex6.m1.7.7.4.2.1.1.1.2.2.2.2">ğ‘’</ci><apply id="A1.Ex6.m1.6.6.3.1.1.cmml" xref="A1.Ex6.m1.6.6.3.1.1"><times id="A1.Ex6.m1.6.6.3.1.1.2.cmml" xref="A1.Ex6.m1.6.6.3.1.1.2"></times><apply id="A1.Ex6.m1.6.6.3.1.1.3.cmml" xref="A1.Ex6.m1.6.6.3.1.1.3"><csymbol cd="ambiguous" id="A1.Ex6.m1.6.6.3.1.1.3.1.cmml" xref="A1.Ex6.m1.6.6.3.1.1.3">superscript</csymbol><ci id="A1.Ex6.m1.6.6.3.1.1.3.2.cmml" xref="A1.Ex6.m1.6.6.3.1.1.3.2">ğœ</ci><ci id="A1.Ex6.m1.6.6.3.1.1.3.3.cmml" xref="A1.Ex6.m1.6.6.3.1.1.3.3">â€²</ci></apply><ci id="A1.Ex6.m1.6.6.3.1.1.1.cmml" xref="A1.Ex6.m1.6.6.3.1.1.1">ğ‘™</ci></apply></apply></interval></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex6.m1.7c">\displaystyle=\frac{{\rm exp}(r(x_{u},e_{p}))}{\sum_{j=1}^{K}{\rm exp}(r(x_{u}%
,e_{j}))}\times\sum_{\tau^{\prime}\in Per(ind(\mathcal{I}_{d}))}\prod_{j=1}^{K%
-1}\frac{{\rm exp}\left(r(x_{u},e_{\tau^{\prime}(j)})\right)}{\sum_{l=j}^{K-1}%
{\rm exp}(r(x_{u},e_{\tau^{\prime}(l)}))}</annotation><annotation encoding="application/x-llamapun" id="A1.Ex6.m1.7d">= divide start_ARG roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ) end_ARG Ã— âˆ‘ start_POSTSUBSCRIPT italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT âˆˆ italic_P italic_e italic_r ( italic_i italic_n italic_d ( caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) end_POSTSUBSCRIPT âˆ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K - 1 end_POSTSUPERSCRIPT divide start_ARG roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT ( italic_j ) end_POSTSUBSCRIPT ) ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_l = italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K - 1 end_POSTSUPERSCRIPT roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT ( italic_l ) end_POSTSUBSCRIPT ) ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{{\rm exp}(r(x_{u},e_{p}))}{\sum_{j=1}^{K}{\rm exp}(r(x_{u}%
,e_{j}))}\times\sum_{\tau^{\prime}\in Per(ind(\mathcal{I}_{d}))}p^{*}(\tau^{%
\prime}|x_{u},\mathcal{E}_{d})" class="ltx_Math" display="inline" id="A1.Ex7.m1.4"><semantics id="A1.Ex7.m1.4a"><mrow id="A1.Ex7.m1.4.4" xref="A1.Ex7.m1.4.4.cmml"><mi id="A1.Ex7.m1.4.4.3" xref="A1.Ex7.m1.4.4.3.cmml"></mi><mo id="A1.Ex7.m1.4.4.2" xref="A1.Ex7.m1.4.4.2.cmml">=</mo><mrow id="A1.Ex7.m1.4.4.1" xref="A1.Ex7.m1.4.4.1.cmml"><mstyle displaystyle="true" id="A1.Ex7.m1.2.2" xref="A1.Ex7.m1.2.2.cmml"><mfrac id="A1.Ex7.m1.2.2a" xref="A1.Ex7.m1.2.2.cmml"><mrow id="A1.Ex7.m1.1.1.1" xref="A1.Ex7.m1.1.1.1.cmml"><mi id="A1.Ex7.m1.1.1.1.3" xref="A1.Ex7.m1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex7.m1.1.1.1.2" xref="A1.Ex7.m1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex7.m1.1.1.1.1.1" xref="A1.Ex7.m1.1.1.1.1.1.1.cmml"><mo id="A1.Ex7.m1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex7.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex7.m1.1.1.1.1.1.1" xref="A1.Ex7.m1.1.1.1.1.1.1.cmml"><mi id="A1.Ex7.m1.1.1.1.1.1.1.4" xref="A1.Ex7.m1.1.1.1.1.1.1.4.cmml">r</mi><mo id="A1.Ex7.m1.1.1.1.1.1.1.3" xref="A1.Ex7.m1.1.1.1.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex7.m1.1.1.1.1.1.1.2.2" xref="A1.Ex7.m1.1.1.1.1.1.1.2.3.cmml"><mo id="A1.Ex7.m1.1.1.1.1.1.1.2.2.3" stretchy="false" xref="A1.Ex7.m1.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="A1.Ex7.m1.1.1.1.1.1.1.1.1.1" xref="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex7.m1.1.1.1.1.1.1.2.2.4" xref="A1.Ex7.m1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex7.m1.1.1.1.1.1.1.2.2.2" xref="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.2" xref="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.3" xref="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex7.m1.1.1.1.1.1.1.2.2.5" stretchy="false" xref="A1.Ex7.m1.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex7.m1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex7.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex7.m1.2.2.2" xref="A1.Ex7.m1.2.2.2.cmml"><msubsup id="A1.Ex7.m1.2.2.2.2" xref="A1.Ex7.m1.2.2.2.2.cmml"><mo id="A1.Ex7.m1.2.2.2.2.2.2" xref="A1.Ex7.m1.2.2.2.2.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex7.m1.2.2.2.2.2.3" xref="A1.Ex7.m1.2.2.2.2.2.3.cmml"><mi id="A1.Ex7.m1.2.2.2.2.2.3.2" xref="A1.Ex7.m1.2.2.2.2.2.3.2.cmml">j</mi><mo id="A1.Ex7.m1.2.2.2.2.2.3.1" xref="A1.Ex7.m1.2.2.2.2.2.3.1.cmml">=</mo><mn id="A1.Ex7.m1.2.2.2.2.2.3.3" xref="A1.Ex7.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="A1.Ex7.m1.2.2.2.2.3" xref="A1.Ex7.m1.2.2.2.2.3.cmml">K</mi></msubsup><mrow id="A1.Ex7.m1.2.2.2.1" xref="A1.Ex7.m1.2.2.2.1.cmml"><mi id="A1.Ex7.m1.2.2.2.1.3" xref="A1.Ex7.m1.2.2.2.1.3.cmml">exp</mi><mo id="A1.Ex7.m1.2.2.2.1.2" xref="A1.Ex7.m1.2.2.2.1.2.cmml">â¢</mo><mrow id="A1.Ex7.m1.2.2.2.1.1.1" xref="A1.Ex7.m1.2.2.2.1.1.1.1.cmml"><mo id="A1.Ex7.m1.2.2.2.1.1.1.2" stretchy="false" xref="A1.Ex7.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="A1.Ex7.m1.2.2.2.1.1.1.1" xref="A1.Ex7.m1.2.2.2.1.1.1.1.cmml"><mi id="A1.Ex7.m1.2.2.2.1.1.1.1.4" xref="A1.Ex7.m1.2.2.2.1.1.1.1.4.cmml">r</mi><mo id="A1.Ex7.m1.2.2.2.1.1.1.1.3" xref="A1.Ex7.m1.2.2.2.1.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.3.cmml"><mo id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.3" stretchy="false" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.3.cmml">(</mo><msub id="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1" xref="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.2" xref="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.3" xref="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.4" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.2" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.3" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.3.cmml">j</mi></msub><mo id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.5" stretchy="false" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex7.m1.2.2.2.1.1.1.3" stretchy="false" xref="A1.Ex7.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo id="A1.Ex7.m1.4.4.1.2" lspace="0.222em" rspace="0.222em" xref="A1.Ex7.m1.4.4.1.2.cmml">Ã—</mo><mrow id="A1.Ex7.m1.4.4.1.1" xref="A1.Ex7.m1.4.4.1.1.cmml"><mstyle displaystyle="true" id="A1.Ex7.m1.4.4.1.1.2" xref="A1.Ex7.m1.4.4.1.1.2.cmml"><munder id="A1.Ex7.m1.4.4.1.1.2a" xref="A1.Ex7.m1.4.4.1.1.2.cmml"><mo id="A1.Ex7.m1.4.4.1.1.2.2" movablelimits="false" xref="A1.Ex7.m1.4.4.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex7.m1.3.3.1" xref="A1.Ex7.m1.3.3.1.cmml"><msup id="A1.Ex7.m1.3.3.1.3" xref="A1.Ex7.m1.3.3.1.3.cmml"><mi id="A1.Ex7.m1.3.3.1.3.2" xref="A1.Ex7.m1.3.3.1.3.2.cmml">Ï„</mi><mo id="A1.Ex7.m1.3.3.1.3.3" xref="A1.Ex7.m1.3.3.1.3.3.cmml">â€²</mo></msup><mo id="A1.Ex7.m1.3.3.1.2" xref="A1.Ex7.m1.3.3.1.2.cmml">âˆˆ</mo><mrow id="A1.Ex7.m1.3.3.1.1" xref="A1.Ex7.m1.3.3.1.1.cmml"><mi id="A1.Ex7.m1.3.3.1.1.3" xref="A1.Ex7.m1.3.3.1.1.3.cmml">P</mi><mo id="A1.Ex7.m1.3.3.1.1.2" xref="A1.Ex7.m1.3.3.1.1.2.cmml">â¢</mo><mi id="A1.Ex7.m1.3.3.1.1.4" xref="A1.Ex7.m1.3.3.1.1.4.cmml">e</mi><mo id="A1.Ex7.m1.3.3.1.1.2a" xref="A1.Ex7.m1.3.3.1.1.2.cmml">â¢</mo><mi id="A1.Ex7.m1.3.3.1.1.5" xref="A1.Ex7.m1.3.3.1.1.5.cmml">r</mi><mo id="A1.Ex7.m1.3.3.1.1.2b" xref="A1.Ex7.m1.3.3.1.1.2.cmml">â¢</mo><mrow id="A1.Ex7.m1.3.3.1.1.1.1" xref="A1.Ex7.m1.3.3.1.1.1.1.1.cmml"><mo id="A1.Ex7.m1.3.3.1.1.1.1.2" stretchy="false" xref="A1.Ex7.m1.3.3.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex7.m1.3.3.1.1.1.1.1" xref="A1.Ex7.m1.3.3.1.1.1.1.1.cmml"><mi id="A1.Ex7.m1.3.3.1.1.1.1.1.3" xref="A1.Ex7.m1.3.3.1.1.1.1.1.3.cmml">i</mi><mo id="A1.Ex7.m1.3.3.1.1.1.1.1.2" xref="A1.Ex7.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex7.m1.3.3.1.1.1.1.1.4" xref="A1.Ex7.m1.3.3.1.1.1.1.1.4.cmml">n</mi><mo id="A1.Ex7.m1.3.3.1.1.1.1.1.2a" xref="A1.Ex7.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex7.m1.3.3.1.1.1.1.1.5" xref="A1.Ex7.m1.3.3.1.1.1.1.1.5.cmml">d</mi><mo id="A1.Ex7.m1.3.3.1.1.1.1.1.2b" xref="A1.Ex7.m1.3.3.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.2" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">â„</mi><mi id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.3" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex7.m1.3.3.1.1.1.1.3" stretchy="false" xref="A1.Ex7.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></munder></mstyle><mrow id="A1.Ex7.m1.4.4.1.1.1" xref="A1.Ex7.m1.4.4.1.1.1.cmml"><msup id="A1.Ex7.m1.4.4.1.1.1.3" xref="A1.Ex7.m1.4.4.1.1.1.3.cmml"><mi id="A1.Ex7.m1.4.4.1.1.1.3.2" xref="A1.Ex7.m1.4.4.1.1.1.3.2.cmml">p</mi><mo id="A1.Ex7.m1.4.4.1.1.1.3.3" xref="A1.Ex7.m1.4.4.1.1.1.3.3.cmml">âˆ—</mo></msup><mo id="A1.Ex7.m1.4.4.1.1.1.2" xref="A1.Ex7.m1.4.4.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex7.m1.4.4.1.1.1.1.1" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.cmml"><mo id="A1.Ex7.m1.4.4.1.1.1.1.1.2" stretchy="false" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex7.m1.4.4.1.1.1.1.1.1" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.cmml"><msup id="A1.Ex7.m1.4.4.1.1.1.1.1.1.4" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.cmml"><mi id="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.2" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.2.cmml">Ï„</mi><mo id="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.3" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.3.cmml">â€²</mo></msup><mo fence="false" id="A1.Ex7.m1.4.4.1.1.1.1.1.1.3" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.3.cmml">|</mo><mrow id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.3.cmml"><msub id="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.3" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.2" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.2.cmml">â„°</mi><mi id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.3" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.3.cmml">d</mi></msub></mrow></mrow><mo id="A1.Ex7.m1.4.4.1.1.1.1.1.3" stretchy="false" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex7.m1.4b"><apply id="A1.Ex7.m1.4.4.cmml" xref="A1.Ex7.m1.4.4"><eq id="A1.Ex7.m1.4.4.2.cmml" xref="A1.Ex7.m1.4.4.2"></eq><csymbol cd="latexml" id="A1.Ex7.m1.4.4.3.cmml" xref="A1.Ex7.m1.4.4.3">absent</csymbol><apply id="A1.Ex7.m1.4.4.1.cmml" xref="A1.Ex7.m1.4.4.1"><times id="A1.Ex7.m1.4.4.1.2.cmml" xref="A1.Ex7.m1.4.4.1.2"></times><apply id="A1.Ex7.m1.2.2.cmml" xref="A1.Ex7.m1.2.2"><divide id="A1.Ex7.m1.2.2.3.cmml" xref="A1.Ex7.m1.2.2"></divide><apply id="A1.Ex7.m1.1.1.1.cmml" xref="A1.Ex7.m1.1.1.1"><times id="A1.Ex7.m1.1.1.1.2.cmml" xref="A1.Ex7.m1.1.1.1.2"></times><ci id="A1.Ex7.m1.1.1.1.3.cmml" xref="A1.Ex7.m1.1.1.1.3">exp</ci><apply id="A1.Ex7.m1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.1.1.1.1.1"><times id="A1.Ex7.m1.1.1.1.1.1.1.3.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.3"></times><ci id="A1.Ex7.m1.1.1.1.1.1.1.4.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex7.m1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.2.2"><apply id="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex7.m1.1.1.1.1.1.1.2.2.2.3">ğ‘</ci></apply></interval></apply></apply><apply id="A1.Ex7.m1.2.2.2.cmml" xref="A1.Ex7.m1.2.2.2"><apply id="A1.Ex7.m1.2.2.2.2.cmml" xref="A1.Ex7.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex7.m1.2.2.2.2.1.cmml" xref="A1.Ex7.m1.2.2.2.2">superscript</csymbol><apply id="A1.Ex7.m1.2.2.2.2.2.cmml" xref="A1.Ex7.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex7.m1.2.2.2.2.2.1.cmml" xref="A1.Ex7.m1.2.2.2.2">subscript</csymbol><sum id="A1.Ex7.m1.2.2.2.2.2.2.cmml" xref="A1.Ex7.m1.2.2.2.2.2.2"></sum><apply id="A1.Ex7.m1.2.2.2.2.2.3.cmml" xref="A1.Ex7.m1.2.2.2.2.2.3"><eq id="A1.Ex7.m1.2.2.2.2.2.3.1.cmml" xref="A1.Ex7.m1.2.2.2.2.2.3.1"></eq><ci id="A1.Ex7.m1.2.2.2.2.2.3.2.cmml" xref="A1.Ex7.m1.2.2.2.2.2.3.2">ğ‘—</ci><cn id="A1.Ex7.m1.2.2.2.2.2.3.3.cmml" type="integer" xref="A1.Ex7.m1.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="A1.Ex7.m1.2.2.2.2.3.cmml" xref="A1.Ex7.m1.2.2.2.2.3">ğ¾</ci></apply><apply id="A1.Ex7.m1.2.2.2.1.cmml" xref="A1.Ex7.m1.2.2.2.1"><times id="A1.Ex7.m1.2.2.2.1.2.cmml" xref="A1.Ex7.m1.2.2.2.1.2"></times><ci id="A1.Ex7.m1.2.2.2.1.3.cmml" xref="A1.Ex7.m1.2.2.2.1.3">exp</ci><apply id="A1.Ex7.m1.2.2.2.1.1.1.1.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1"><times id="A1.Ex7.m1.2.2.2.1.1.1.1.3.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.3"></times><ci id="A1.Ex7.m1.2.2.2.1.1.1.1.4.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex7.m1.2.2.2.1.1.1.1.2.3.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.2"><apply id="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex7.m1.2.2.2.1.1.1.1.2.2.2.3">ğ‘—</ci></apply></interval></apply></apply></apply></apply><apply id="A1.Ex7.m1.4.4.1.1.cmml" xref="A1.Ex7.m1.4.4.1.1"><apply id="A1.Ex7.m1.4.4.1.1.2.cmml" xref="A1.Ex7.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="A1.Ex7.m1.4.4.1.1.2.1.cmml" xref="A1.Ex7.m1.4.4.1.1.2">subscript</csymbol><sum id="A1.Ex7.m1.4.4.1.1.2.2.cmml" xref="A1.Ex7.m1.4.4.1.1.2.2"></sum><apply id="A1.Ex7.m1.3.3.1.cmml" xref="A1.Ex7.m1.3.3.1"><in id="A1.Ex7.m1.3.3.1.2.cmml" xref="A1.Ex7.m1.3.3.1.2"></in><apply id="A1.Ex7.m1.3.3.1.3.cmml" xref="A1.Ex7.m1.3.3.1.3"><csymbol cd="ambiguous" id="A1.Ex7.m1.3.3.1.3.1.cmml" xref="A1.Ex7.m1.3.3.1.3">superscript</csymbol><ci id="A1.Ex7.m1.3.3.1.3.2.cmml" xref="A1.Ex7.m1.3.3.1.3.2">ğœ</ci><ci id="A1.Ex7.m1.3.3.1.3.3.cmml" xref="A1.Ex7.m1.3.3.1.3.3">â€²</ci></apply><apply id="A1.Ex7.m1.3.3.1.1.cmml" xref="A1.Ex7.m1.3.3.1.1"><times id="A1.Ex7.m1.3.3.1.1.2.cmml" xref="A1.Ex7.m1.3.3.1.1.2"></times><ci id="A1.Ex7.m1.3.3.1.1.3.cmml" xref="A1.Ex7.m1.3.3.1.1.3">ğ‘ƒ</ci><ci id="A1.Ex7.m1.3.3.1.1.4.cmml" xref="A1.Ex7.m1.3.3.1.1.4">ğ‘’</ci><ci id="A1.Ex7.m1.3.3.1.1.5.cmml" xref="A1.Ex7.m1.3.3.1.1.5">ğ‘Ÿ</ci><apply id="A1.Ex7.m1.3.3.1.1.1.1.1.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1"><times id="A1.Ex7.m1.3.3.1.1.1.1.1.2.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1.1.2"></times><ci id="A1.Ex7.m1.3.3.1.1.1.1.1.3.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1.1.3">ğ‘–</ci><ci id="A1.Ex7.m1.3.3.1.1.1.1.1.4.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1.1.4">ğ‘›</ci><ci id="A1.Ex7.m1.3.3.1.1.1.1.1.5.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1.1.5">ğ‘‘</ci><apply id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.2">â„</ci><ci id="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex7.m1.3.3.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></apply></apply></apply></apply><apply id="A1.Ex7.m1.4.4.1.1.1.cmml" xref="A1.Ex7.m1.4.4.1.1.1"><times id="A1.Ex7.m1.4.4.1.1.1.2.cmml" xref="A1.Ex7.m1.4.4.1.1.1.2"></times><apply id="A1.Ex7.m1.4.4.1.1.1.3.cmml" xref="A1.Ex7.m1.4.4.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex7.m1.4.4.1.1.1.3.1.cmml" xref="A1.Ex7.m1.4.4.1.1.1.3">superscript</csymbol><ci id="A1.Ex7.m1.4.4.1.1.1.3.2.cmml" xref="A1.Ex7.m1.4.4.1.1.1.3.2">ğ‘</ci><times id="A1.Ex7.m1.4.4.1.1.1.3.3.cmml" xref="A1.Ex7.m1.4.4.1.1.1.3.3"></times></apply><apply id="A1.Ex7.m1.4.4.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1"><csymbol cd="latexml" id="A1.Ex7.m1.4.4.1.1.1.1.1.1.3.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.3">conditional</csymbol><apply id="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.1.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.4">superscript</csymbol><ci id="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.2.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.2">ğœ</ci><ci id="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.3.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.4.3">â€²</ci></apply><list id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2"><apply id="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.2">â„°</ci><ci id="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex7.m1.4.4.1.1.1.1.1.1.2.2.2.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex7.m1.4c">\displaystyle=\frac{{\rm exp}(r(x_{u},e_{p}))}{\sum_{j=1}^{K}{\rm exp}(r(x_{u}%
,e_{j}))}\times\sum_{\tau^{\prime}\in Per(ind(\mathcal{I}_{d}))}p^{*}(\tau^{%
\prime}|x_{u},\mathcal{E}_{d})</annotation><annotation encoding="application/x-llamapun" id="A1.Ex7.m1.4d">= divide start_ARG roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ) end_ARG Ã— âˆ‘ start_POSTSUBSCRIPT italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT âˆˆ italic_P italic_e italic_r ( italic_i italic_n italic_d ( caligraphic_I start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) end_POSTSUBSCRIPT italic_p start_POSTSUPERSCRIPT âˆ— end_POSTSUPERSCRIPT ( italic_Ï„ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\frac{{\rm exp}(r(x_{u},e_{p}))}{\sum_{j=1}^{K}{\rm exp}\left(r(%
x_{u},e_{j})\right)}," class="ltx_Math" display="inline" id="A1.Ex8.m1.3"><semantics id="A1.Ex8.m1.3a"><mrow id="A1.Ex8.m1.3.3.1" xref="A1.Ex8.m1.3.3.1.1.cmml"><mrow id="A1.Ex8.m1.3.3.1.1" xref="A1.Ex8.m1.3.3.1.1.cmml"><mi id="A1.Ex8.m1.3.3.1.1.2" xref="A1.Ex8.m1.3.3.1.1.2.cmml"></mi><mo id="A1.Ex8.m1.3.3.1.1.1" xref="A1.Ex8.m1.3.3.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="A1.Ex8.m1.2.2" xref="A1.Ex8.m1.2.2.cmml"><mfrac id="A1.Ex8.m1.2.2a" xref="A1.Ex8.m1.2.2.cmml"><mrow id="A1.Ex8.m1.1.1.1" xref="A1.Ex8.m1.1.1.1.cmml"><mi id="A1.Ex8.m1.1.1.1.3" xref="A1.Ex8.m1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex8.m1.1.1.1.2" xref="A1.Ex8.m1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex8.m1.1.1.1.1.1" xref="A1.Ex8.m1.1.1.1.1.1.1.cmml"><mo id="A1.Ex8.m1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex8.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex8.m1.1.1.1.1.1.1" xref="A1.Ex8.m1.1.1.1.1.1.1.cmml"><mi id="A1.Ex8.m1.1.1.1.1.1.1.4" xref="A1.Ex8.m1.1.1.1.1.1.1.4.cmml">r</mi><mo id="A1.Ex8.m1.1.1.1.1.1.1.3" xref="A1.Ex8.m1.1.1.1.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex8.m1.1.1.1.1.1.1.2.2" xref="A1.Ex8.m1.1.1.1.1.1.1.2.3.cmml"><mo id="A1.Ex8.m1.1.1.1.1.1.1.2.2.3" stretchy="false" xref="A1.Ex8.m1.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="A1.Ex8.m1.1.1.1.1.1.1.1.1.1" xref="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex8.m1.1.1.1.1.1.1.2.2.4" xref="A1.Ex8.m1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex8.m1.1.1.1.1.1.1.2.2.2" xref="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.2" xref="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.3" xref="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex8.m1.1.1.1.1.1.1.2.2.5" stretchy="false" xref="A1.Ex8.m1.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex8.m1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex8.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex8.m1.2.2.2" xref="A1.Ex8.m1.2.2.2.cmml"><msubsup id="A1.Ex8.m1.2.2.2.2" xref="A1.Ex8.m1.2.2.2.2.cmml"><mo id="A1.Ex8.m1.2.2.2.2.2.2" xref="A1.Ex8.m1.2.2.2.2.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex8.m1.2.2.2.2.2.3" xref="A1.Ex8.m1.2.2.2.2.2.3.cmml"><mi id="A1.Ex8.m1.2.2.2.2.2.3.2" xref="A1.Ex8.m1.2.2.2.2.2.3.2.cmml">j</mi><mo id="A1.Ex8.m1.2.2.2.2.2.3.1" xref="A1.Ex8.m1.2.2.2.2.2.3.1.cmml">=</mo><mn id="A1.Ex8.m1.2.2.2.2.2.3.3" xref="A1.Ex8.m1.2.2.2.2.2.3.3.cmml">1</mn></mrow><mi id="A1.Ex8.m1.2.2.2.2.3" xref="A1.Ex8.m1.2.2.2.2.3.cmml">K</mi></msubsup><mrow id="A1.Ex8.m1.2.2.2.1" xref="A1.Ex8.m1.2.2.2.1.cmml"><mi id="A1.Ex8.m1.2.2.2.1.3" xref="A1.Ex8.m1.2.2.2.1.3.cmml">exp</mi><mo id="A1.Ex8.m1.2.2.2.1.2" xref="A1.Ex8.m1.2.2.2.1.2.cmml">â¢</mo><mrow id="A1.Ex8.m1.2.2.2.1.1.1" xref="A1.Ex8.m1.2.2.2.1.1.1.1.cmml"><mo id="A1.Ex8.m1.2.2.2.1.1.1.2" xref="A1.Ex8.m1.2.2.2.1.1.1.1.cmml">(</mo><mrow id="A1.Ex8.m1.2.2.2.1.1.1.1" xref="A1.Ex8.m1.2.2.2.1.1.1.1.cmml"><mi id="A1.Ex8.m1.2.2.2.1.1.1.1.4" xref="A1.Ex8.m1.2.2.2.1.1.1.1.4.cmml">r</mi><mo id="A1.Ex8.m1.2.2.2.1.1.1.1.3" xref="A1.Ex8.m1.2.2.2.1.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.3.cmml"><mo id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.3" stretchy="false" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.3.cmml">(</mo><msub id="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1" xref="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.2" xref="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.3" xref="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.4" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.3.cmml">,</mo><msub id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.2" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.3" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.3.cmml">j</mi></msub><mo id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.5" stretchy="false" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.Ex8.m1.2.2.2.1.1.1.3" xref="A1.Ex8.m1.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="A1.Ex8.m1.3.3.1.2" xref="A1.Ex8.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex8.m1.3b"><apply id="A1.Ex8.m1.3.3.1.1.cmml" xref="A1.Ex8.m1.3.3.1"><eq id="A1.Ex8.m1.3.3.1.1.1.cmml" xref="A1.Ex8.m1.3.3.1.1.1"></eq><csymbol cd="latexml" id="A1.Ex8.m1.3.3.1.1.2.cmml" xref="A1.Ex8.m1.3.3.1.1.2">absent</csymbol><apply id="A1.Ex8.m1.2.2.cmml" xref="A1.Ex8.m1.2.2"><divide id="A1.Ex8.m1.2.2.3.cmml" xref="A1.Ex8.m1.2.2"></divide><apply id="A1.Ex8.m1.1.1.1.cmml" xref="A1.Ex8.m1.1.1.1"><times id="A1.Ex8.m1.1.1.1.2.cmml" xref="A1.Ex8.m1.1.1.1.2"></times><ci id="A1.Ex8.m1.1.1.1.3.cmml" xref="A1.Ex8.m1.1.1.1.3">exp</ci><apply id="A1.Ex8.m1.1.1.1.1.1.1.cmml" xref="A1.Ex8.m1.1.1.1.1.1"><times id="A1.Ex8.m1.1.1.1.1.1.1.3.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.3"></times><ci id="A1.Ex8.m1.1.1.1.1.1.1.4.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex8.m1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.2.2"><apply id="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex8.m1.1.1.1.1.1.1.2.2.2.3">ğ‘</ci></apply></interval></apply></apply><apply id="A1.Ex8.m1.2.2.2.cmml" xref="A1.Ex8.m1.2.2.2"><apply id="A1.Ex8.m1.2.2.2.2.cmml" xref="A1.Ex8.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex8.m1.2.2.2.2.1.cmml" xref="A1.Ex8.m1.2.2.2.2">superscript</csymbol><apply id="A1.Ex8.m1.2.2.2.2.2.cmml" xref="A1.Ex8.m1.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex8.m1.2.2.2.2.2.1.cmml" xref="A1.Ex8.m1.2.2.2.2">subscript</csymbol><sum id="A1.Ex8.m1.2.2.2.2.2.2.cmml" xref="A1.Ex8.m1.2.2.2.2.2.2"></sum><apply id="A1.Ex8.m1.2.2.2.2.2.3.cmml" xref="A1.Ex8.m1.2.2.2.2.2.3"><eq id="A1.Ex8.m1.2.2.2.2.2.3.1.cmml" xref="A1.Ex8.m1.2.2.2.2.2.3.1"></eq><ci id="A1.Ex8.m1.2.2.2.2.2.3.2.cmml" xref="A1.Ex8.m1.2.2.2.2.2.3.2">ğ‘—</ci><cn id="A1.Ex8.m1.2.2.2.2.2.3.3.cmml" type="integer" xref="A1.Ex8.m1.2.2.2.2.2.3.3">1</cn></apply></apply><ci id="A1.Ex8.m1.2.2.2.2.3.cmml" xref="A1.Ex8.m1.2.2.2.2.3">ğ¾</ci></apply><apply id="A1.Ex8.m1.2.2.2.1.cmml" xref="A1.Ex8.m1.2.2.2.1"><times id="A1.Ex8.m1.2.2.2.1.2.cmml" xref="A1.Ex8.m1.2.2.2.1.2"></times><ci id="A1.Ex8.m1.2.2.2.1.3.cmml" xref="A1.Ex8.m1.2.2.2.1.3">exp</ci><apply id="A1.Ex8.m1.2.2.2.1.1.1.1.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1"><times id="A1.Ex8.m1.2.2.2.1.1.1.1.3.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.3"></times><ci id="A1.Ex8.m1.2.2.2.1.1.1.1.4.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.4">ğ‘Ÿ</ci><interval closure="open" id="A1.Ex8.m1.2.2.2.1.1.1.1.2.3.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.2"><apply id="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex8.m1.2.2.2.1.1.1.1.2.2.2.3">ğ‘—</ci></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex8.m1.3c">\displaystyle=\frac{{\rm exp}(r(x_{u},e_{p}))}{\sum_{j=1}^{K}{\rm exp}\left(r(%
x_{u},e_{j})\right)},</annotation><annotation encoding="application/x-llamapun" id="A1.Ex8.m1.3d">= divide start_ARG roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT ) ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT roman_exp ( italic_r ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.SS1.p2.9">wherein <math alttext="ind(\mathcal{E}_{d})" class="ltx_Math" display="inline" id="A1.SS1.p2.2.m1.1"><semantics id="A1.SS1.p2.2.m1.1a"><mrow id="A1.SS1.p2.2.m1.1.1" xref="A1.SS1.p2.2.m1.1.1.cmml"><mi id="A1.SS1.p2.2.m1.1.1.3" xref="A1.SS1.p2.2.m1.1.1.3.cmml">i</mi><mo id="A1.SS1.p2.2.m1.1.1.2" xref="A1.SS1.p2.2.m1.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.2.m1.1.1.4" xref="A1.SS1.p2.2.m1.1.1.4.cmml">n</mi><mo id="A1.SS1.p2.2.m1.1.1.2a" xref="A1.SS1.p2.2.m1.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.2.m1.1.1.5" xref="A1.SS1.p2.2.m1.1.1.5.cmml">d</mi><mo id="A1.SS1.p2.2.m1.1.1.2b" xref="A1.SS1.p2.2.m1.1.1.2.cmml">â¢</mo><mrow id="A1.SS1.p2.2.m1.1.1.1.1" xref="A1.SS1.p2.2.m1.1.1.1.1.1.cmml"><mo id="A1.SS1.p2.2.m1.1.1.1.1.2" stretchy="false" xref="A1.SS1.p2.2.m1.1.1.1.1.1.cmml">(</mo><msub id="A1.SS1.p2.2.m1.1.1.1.1.1" xref="A1.SS1.p2.2.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.p2.2.m1.1.1.1.1.1.2" xref="A1.SS1.p2.2.m1.1.1.1.1.1.2.cmml">â„°</mi><mi id="A1.SS1.p2.2.m1.1.1.1.1.1.3" xref="A1.SS1.p2.2.m1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.SS1.p2.2.m1.1.1.1.1.3" stretchy="false" xref="A1.SS1.p2.2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.2.m1.1b"><apply id="A1.SS1.p2.2.m1.1.1.cmml" xref="A1.SS1.p2.2.m1.1.1"><times id="A1.SS1.p2.2.m1.1.1.2.cmml" xref="A1.SS1.p2.2.m1.1.1.2"></times><ci id="A1.SS1.p2.2.m1.1.1.3.cmml" xref="A1.SS1.p2.2.m1.1.1.3">ğ‘–</ci><ci id="A1.SS1.p2.2.m1.1.1.4.cmml" xref="A1.SS1.p2.2.m1.1.1.4">ğ‘›</ci><ci id="A1.SS1.p2.2.m1.1.1.5.cmml" xref="A1.SS1.p2.2.m1.1.1.5">ğ‘‘</ci><apply id="A1.SS1.p2.2.m1.1.1.1.1.1.cmml" xref="A1.SS1.p2.2.m1.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p2.2.m1.1.1.1.1.1.1.cmml" xref="A1.SS1.p2.2.m1.1.1.1.1">subscript</csymbol><ci id="A1.SS1.p2.2.m1.1.1.1.1.1.2.cmml" xref="A1.SS1.p2.2.m1.1.1.1.1.1.2">â„°</ci><ci id="A1.SS1.p2.2.m1.1.1.1.1.1.3.cmml" xref="A1.SS1.p2.2.m1.1.1.1.1.1.3">ğ‘‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.2.m1.1c">ind(\mathcal{E}_{d})</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.2.m1.1d">italic_i italic_n italic_d ( caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math> denotes the indices of titles in <math alttext="\mathcal{E}_{d}" class="ltx_Math" display="inline" id="A1.SS1.p2.3.m2.1"><semantics id="A1.SS1.p2.3.m2.1a"><msub id="A1.SS1.p2.3.m2.1.1" xref="A1.SS1.p2.3.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.p2.3.m2.1.1.2" xref="A1.SS1.p2.3.m2.1.1.2.cmml">â„°</mi><mi id="A1.SS1.p2.3.m2.1.1.3" xref="A1.SS1.p2.3.m2.1.1.3.cmml">d</mi></msub><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.3.m2.1b"><apply id="A1.SS1.p2.3.m2.1.1.cmml" xref="A1.SS1.p2.3.m2.1.1"><csymbol cd="ambiguous" id="A1.SS1.p2.3.m2.1.1.1.cmml" xref="A1.SS1.p2.3.m2.1.1">subscript</csymbol><ci id="A1.SS1.p2.3.m2.1.1.2.cmml" xref="A1.SS1.p2.3.m2.1.1.2">â„°</ci><ci id="A1.SS1.p2.3.m2.1.1.3.cmml" xref="A1.SS1.p2.3.m2.1.1.3">ğ‘‘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.3.m2.1c">\mathcal{E}_{d}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.3.m2.1d">caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="Per(ind(\mathcal{E}_{d}))" class="ltx_Math" display="inline" id="A1.SS1.p2.4.m3.1"><semantics id="A1.SS1.p2.4.m3.1a"><mrow id="A1.SS1.p2.4.m3.1.1" xref="A1.SS1.p2.4.m3.1.1.cmml"><mi id="A1.SS1.p2.4.m3.1.1.3" xref="A1.SS1.p2.4.m3.1.1.3.cmml">P</mi><mo id="A1.SS1.p2.4.m3.1.1.2" xref="A1.SS1.p2.4.m3.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.4.m3.1.1.4" xref="A1.SS1.p2.4.m3.1.1.4.cmml">e</mi><mo id="A1.SS1.p2.4.m3.1.1.2a" xref="A1.SS1.p2.4.m3.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.4.m3.1.1.5" xref="A1.SS1.p2.4.m3.1.1.5.cmml">r</mi><mo id="A1.SS1.p2.4.m3.1.1.2b" xref="A1.SS1.p2.4.m3.1.1.2.cmml">â¢</mo><mrow id="A1.SS1.p2.4.m3.1.1.1.1" xref="A1.SS1.p2.4.m3.1.1.1.1.1.cmml"><mo id="A1.SS1.p2.4.m3.1.1.1.1.2" stretchy="false" xref="A1.SS1.p2.4.m3.1.1.1.1.1.cmml">(</mo><mrow id="A1.SS1.p2.4.m3.1.1.1.1.1" xref="A1.SS1.p2.4.m3.1.1.1.1.1.cmml"><mi id="A1.SS1.p2.4.m3.1.1.1.1.1.3" xref="A1.SS1.p2.4.m3.1.1.1.1.1.3.cmml">i</mi><mo id="A1.SS1.p2.4.m3.1.1.1.1.1.2" xref="A1.SS1.p2.4.m3.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.4.m3.1.1.1.1.1.4" xref="A1.SS1.p2.4.m3.1.1.1.1.1.4.cmml">n</mi><mo id="A1.SS1.p2.4.m3.1.1.1.1.1.2a" xref="A1.SS1.p2.4.m3.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.4.m3.1.1.1.1.1.5" xref="A1.SS1.p2.4.m3.1.1.1.1.1.5.cmml">d</mi><mo id="A1.SS1.p2.4.m3.1.1.1.1.1.2b" xref="A1.SS1.p2.4.m3.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.cmml"><mo id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.2" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.2.cmml">â„°</mi><mi id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.3" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.SS1.p2.4.m3.1.1.1.1.3" stretchy="false" xref="A1.SS1.p2.4.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.4.m3.1b"><apply id="A1.SS1.p2.4.m3.1.1.cmml" xref="A1.SS1.p2.4.m3.1.1"><times id="A1.SS1.p2.4.m3.1.1.2.cmml" xref="A1.SS1.p2.4.m3.1.1.2"></times><ci id="A1.SS1.p2.4.m3.1.1.3.cmml" xref="A1.SS1.p2.4.m3.1.1.3">ğ‘ƒ</ci><ci id="A1.SS1.p2.4.m3.1.1.4.cmml" xref="A1.SS1.p2.4.m3.1.1.4">ğ‘’</ci><ci id="A1.SS1.p2.4.m3.1.1.5.cmml" xref="A1.SS1.p2.4.m3.1.1.5">ğ‘Ÿ</ci><apply id="A1.SS1.p2.4.m3.1.1.1.1.1.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1"><times id="A1.SS1.p2.4.m3.1.1.1.1.1.2.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1.1.2"></times><ci id="A1.SS1.p2.4.m3.1.1.1.1.1.3.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1.1.3">ğ‘–</ci><ci id="A1.SS1.p2.4.m3.1.1.1.1.1.4.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1.1.4">ğ‘›</ci><ci id="A1.SS1.p2.4.m3.1.1.1.1.1.5.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1.1.5">ğ‘‘</ci><apply id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.1.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.2.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.2">â„°</ci><ci id="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.3.cmml" xref="A1.SS1.p2.4.m3.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.4.m3.1c">Per(ind(\mathcal{E}_{d}))</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.4.m3.1d">italic_P italic_e italic_r ( italic_i italic_n italic_d ( caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) )</annotation></semantics></math> denotes the set of permutations of index set <math alttext="ind(\mathcal{E}_{d})" class="ltx_Math" display="inline" id="A1.SS1.p2.5.m4.1"><semantics id="A1.SS1.p2.5.m4.1a"><mrow id="A1.SS1.p2.5.m4.1.1" xref="A1.SS1.p2.5.m4.1.1.cmml"><mi id="A1.SS1.p2.5.m4.1.1.3" xref="A1.SS1.p2.5.m4.1.1.3.cmml">i</mi><mo id="A1.SS1.p2.5.m4.1.1.2" xref="A1.SS1.p2.5.m4.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.5.m4.1.1.4" xref="A1.SS1.p2.5.m4.1.1.4.cmml">n</mi><mo id="A1.SS1.p2.5.m4.1.1.2a" xref="A1.SS1.p2.5.m4.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.5.m4.1.1.5" xref="A1.SS1.p2.5.m4.1.1.5.cmml">d</mi><mo id="A1.SS1.p2.5.m4.1.1.2b" xref="A1.SS1.p2.5.m4.1.1.2.cmml">â¢</mo><mrow id="A1.SS1.p2.5.m4.1.1.1.1" xref="A1.SS1.p2.5.m4.1.1.1.1.1.cmml"><mo id="A1.SS1.p2.5.m4.1.1.1.1.2" stretchy="false" xref="A1.SS1.p2.5.m4.1.1.1.1.1.cmml">(</mo><msub id="A1.SS1.p2.5.m4.1.1.1.1.1" xref="A1.SS1.p2.5.m4.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.p2.5.m4.1.1.1.1.1.2" xref="A1.SS1.p2.5.m4.1.1.1.1.1.2.cmml">â„°</mi><mi id="A1.SS1.p2.5.m4.1.1.1.1.1.3" xref="A1.SS1.p2.5.m4.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.SS1.p2.5.m4.1.1.1.1.3" stretchy="false" xref="A1.SS1.p2.5.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.5.m4.1b"><apply id="A1.SS1.p2.5.m4.1.1.cmml" xref="A1.SS1.p2.5.m4.1.1"><times id="A1.SS1.p2.5.m4.1.1.2.cmml" xref="A1.SS1.p2.5.m4.1.1.2"></times><ci id="A1.SS1.p2.5.m4.1.1.3.cmml" xref="A1.SS1.p2.5.m4.1.1.3">ğ‘–</ci><ci id="A1.SS1.p2.5.m4.1.1.4.cmml" xref="A1.SS1.p2.5.m4.1.1.4">ğ‘›</ci><ci id="A1.SS1.p2.5.m4.1.1.5.cmml" xref="A1.SS1.p2.5.m4.1.1.5">ğ‘‘</ci><apply id="A1.SS1.p2.5.m4.1.1.1.1.1.cmml" xref="A1.SS1.p2.5.m4.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p2.5.m4.1.1.1.1.1.1.cmml" xref="A1.SS1.p2.5.m4.1.1.1.1">subscript</csymbol><ci id="A1.SS1.p2.5.m4.1.1.1.1.1.2.cmml" xref="A1.SS1.p2.5.m4.1.1.1.1.1.2">â„°</ci><ci id="A1.SS1.p2.5.m4.1.1.1.1.1.3.cmml" xref="A1.SS1.p2.5.m4.1.1.1.1.1.3">ğ‘‘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.5.m4.1c">ind(\mathcal{E}_{d})</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.5.m4.1d">italic_i italic_n italic_d ( caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math>. The third equation is because a permutation of <math alttext="\{1,2\cdots,K\}" class="ltx_Math" display="inline" id="A1.SS1.p2.6.m5.3"><semantics id="A1.SS1.p2.6.m5.3a"><mrow id="A1.SS1.p2.6.m5.3.3.1" xref="A1.SS1.p2.6.m5.3.3.2.cmml"><mo id="A1.SS1.p2.6.m5.3.3.1.2" stretchy="false" xref="A1.SS1.p2.6.m5.3.3.2.cmml">{</mo><mn id="A1.SS1.p2.6.m5.1.1" xref="A1.SS1.p2.6.m5.1.1.cmml">1</mn><mo id="A1.SS1.p2.6.m5.3.3.1.3" xref="A1.SS1.p2.6.m5.3.3.2.cmml">,</mo><mrow id="A1.SS1.p2.6.m5.3.3.1.1" xref="A1.SS1.p2.6.m5.3.3.1.1.cmml"><mn id="A1.SS1.p2.6.m5.3.3.1.1.2" xref="A1.SS1.p2.6.m5.3.3.1.1.2.cmml">2</mn><mo id="A1.SS1.p2.6.m5.3.3.1.1.1" xref="A1.SS1.p2.6.m5.3.3.1.1.1.cmml">â¢</mo><mi id="A1.SS1.p2.6.m5.3.3.1.1.3" mathvariant="normal" xref="A1.SS1.p2.6.m5.3.3.1.1.3.cmml">â‹¯</mi></mrow><mo id="A1.SS1.p2.6.m5.3.3.1.4" xref="A1.SS1.p2.6.m5.3.3.2.cmml">,</mo><mi id="A1.SS1.p2.6.m5.2.2" xref="A1.SS1.p2.6.m5.2.2.cmml">K</mi><mo id="A1.SS1.p2.6.m5.3.3.1.5" stretchy="false" xref="A1.SS1.p2.6.m5.3.3.2.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.6.m5.3b"><set id="A1.SS1.p2.6.m5.3.3.2.cmml" xref="A1.SS1.p2.6.m5.3.3.1"><cn id="A1.SS1.p2.6.m5.1.1.cmml" type="integer" xref="A1.SS1.p2.6.m5.1.1">1</cn><apply id="A1.SS1.p2.6.m5.3.3.1.1.cmml" xref="A1.SS1.p2.6.m5.3.3.1.1"><times id="A1.SS1.p2.6.m5.3.3.1.1.1.cmml" xref="A1.SS1.p2.6.m5.3.3.1.1.1"></times><cn id="A1.SS1.p2.6.m5.3.3.1.1.2.cmml" type="integer" xref="A1.SS1.p2.6.m5.3.3.1.1.2">2</cn><ci id="A1.SS1.p2.6.m5.3.3.1.1.3.cmml" xref="A1.SS1.p2.6.m5.3.3.1.1.3">â‹¯</ci></apply><ci id="A1.SS1.p2.6.m5.2.2.cmml" xref="A1.SS1.p2.6.m5.2.2">ğ¾</ci></set></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.6.m5.3c">\{1,2\cdots,K\}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.6.m5.3d">{ 1 , 2 â‹¯ , italic_K }</annotation></semantics></math> starting with <math alttext="p" class="ltx_Math" display="inline" id="A1.SS1.p2.7.m6.1"><semantics id="A1.SS1.p2.7.m6.1a"><mi id="A1.SS1.p2.7.m6.1.1" xref="A1.SS1.p2.7.m6.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.7.m6.1b"><ci id="A1.SS1.p2.7.m6.1.1.cmml" xref="A1.SS1.p2.7.m6.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.7.m6.1c">p</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.7.m6.1d">italic_p</annotation></semantics></math> can be divided into the prefix <math alttext="p" class="ltx_Math" display="inline" id="A1.SS1.p2.8.m7.1"><semantics id="A1.SS1.p2.8.m7.1a"><mi id="A1.SS1.p2.8.m7.1.1" xref="A1.SS1.p2.8.m7.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.8.m7.1b"><ci id="A1.SS1.p2.8.m7.1.1.cmml" xref="A1.SS1.p2.8.m7.1.1">ğ‘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.8.m7.1c">p</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.8.m7.1d">italic_p</annotation></semantics></math> and a subsequent permutation of the rest indices, which is exactly <math alttext="Per(ind(\mathcal{E}_{d}))" class="ltx_Math" display="inline" id="A1.SS1.p2.9.m8.1"><semantics id="A1.SS1.p2.9.m8.1a"><mrow id="A1.SS1.p2.9.m8.1.1" xref="A1.SS1.p2.9.m8.1.1.cmml"><mi id="A1.SS1.p2.9.m8.1.1.3" xref="A1.SS1.p2.9.m8.1.1.3.cmml">P</mi><mo id="A1.SS1.p2.9.m8.1.1.2" xref="A1.SS1.p2.9.m8.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.9.m8.1.1.4" xref="A1.SS1.p2.9.m8.1.1.4.cmml">e</mi><mo id="A1.SS1.p2.9.m8.1.1.2a" xref="A1.SS1.p2.9.m8.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.9.m8.1.1.5" xref="A1.SS1.p2.9.m8.1.1.5.cmml">r</mi><mo id="A1.SS1.p2.9.m8.1.1.2b" xref="A1.SS1.p2.9.m8.1.1.2.cmml">â¢</mo><mrow id="A1.SS1.p2.9.m8.1.1.1.1" xref="A1.SS1.p2.9.m8.1.1.1.1.1.cmml"><mo id="A1.SS1.p2.9.m8.1.1.1.1.2" stretchy="false" xref="A1.SS1.p2.9.m8.1.1.1.1.1.cmml">(</mo><mrow id="A1.SS1.p2.9.m8.1.1.1.1.1" xref="A1.SS1.p2.9.m8.1.1.1.1.1.cmml"><mi id="A1.SS1.p2.9.m8.1.1.1.1.1.3" xref="A1.SS1.p2.9.m8.1.1.1.1.1.3.cmml">i</mi><mo id="A1.SS1.p2.9.m8.1.1.1.1.1.2" xref="A1.SS1.p2.9.m8.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.9.m8.1.1.1.1.1.4" xref="A1.SS1.p2.9.m8.1.1.1.1.1.4.cmml">n</mi><mo id="A1.SS1.p2.9.m8.1.1.1.1.1.2a" xref="A1.SS1.p2.9.m8.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.SS1.p2.9.m8.1.1.1.1.1.5" xref="A1.SS1.p2.9.m8.1.1.1.1.1.5.cmml">d</mi><mo id="A1.SS1.p2.9.m8.1.1.1.1.1.2b" xref="A1.SS1.p2.9.m8.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.cmml"><mo id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.2" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.2.cmml">â„°</mi><mi id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.3" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.SS1.p2.9.m8.1.1.1.1.3" stretchy="false" xref="A1.SS1.p2.9.m8.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.p2.9.m8.1b"><apply id="A1.SS1.p2.9.m8.1.1.cmml" xref="A1.SS1.p2.9.m8.1.1"><times id="A1.SS1.p2.9.m8.1.1.2.cmml" xref="A1.SS1.p2.9.m8.1.1.2"></times><ci id="A1.SS1.p2.9.m8.1.1.3.cmml" xref="A1.SS1.p2.9.m8.1.1.3">ğ‘ƒ</ci><ci id="A1.SS1.p2.9.m8.1.1.4.cmml" xref="A1.SS1.p2.9.m8.1.1.4">ğ‘’</ci><ci id="A1.SS1.p2.9.m8.1.1.5.cmml" xref="A1.SS1.p2.9.m8.1.1.5">ğ‘Ÿ</ci><apply id="A1.SS1.p2.9.m8.1.1.1.1.1.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1"><times id="A1.SS1.p2.9.m8.1.1.1.1.1.2.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1.1.2"></times><ci id="A1.SS1.p2.9.m8.1.1.1.1.1.3.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1.1.3">ğ‘–</ci><ci id="A1.SS1.p2.9.m8.1.1.1.1.1.4.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1.1.4">ğ‘›</ci><ci id="A1.SS1.p2.9.m8.1.1.1.1.1.5.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1.1.5">ğ‘‘</ci><apply id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.1.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.2.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.2">â„°</ci><ci id="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.3.cmml" xref="A1.SS1.p2.9.m8.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.p2.9.m8.1c">Per(ind(\mathcal{E}_{d}))</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.p2.9.m8.1d">italic_P italic_e italic_r ( italic_i italic_n italic_d ( caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) )</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Connection Between DPO and S-DPO</h3>
<div class="ltx_para" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">When <math alttext="N=2" class="ltx_Math" display="inline" id="A1.SS2.p1.1.m1.1"><semantics id="A1.SS2.p1.1.m1.1a"><mrow id="A1.SS2.p1.1.m1.1.1" xref="A1.SS2.p1.1.m1.1.1.cmml"><mi id="A1.SS2.p1.1.m1.1.1.2" xref="A1.SS2.p1.1.m1.1.1.2.cmml">N</mi><mo id="A1.SS2.p1.1.m1.1.1.1" xref="A1.SS2.p1.1.m1.1.1.1.cmml">=</mo><mn id="A1.SS2.p1.1.m1.1.1.3" xref="A1.SS2.p1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.p1.1.m1.1b"><apply id="A1.SS2.p1.1.m1.1.1.cmml" xref="A1.SS2.p1.1.m1.1.1"><eq id="A1.SS2.p1.1.m1.1.1.1.cmml" xref="A1.SS2.p1.1.m1.1.1.1"></eq><ci id="A1.SS2.p1.1.m1.1.1.2.cmml" xref="A1.SS2.p1.1.m1.1.1.2">ğ‘</ci><cn id="A1.SS2.p1.1.m1.1.1.3.cmml" type="integer" xref="A1.SS2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.p1.1.m1.1c">N=2</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.p1.1.m1.1d">italic_N = 2</annotation></semantics></math>, the following equations hold:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx18">
<tbody id="A1.Ex10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})" class="ltx_Math" display="inline" id="A1.Ex10.m1.2"><semantics id="A1.Ex10.m1.2a"><mrow id="A1.Ex10.m1.2.2" xref="A1.Ex10.m1.2.2.cmml"><msub id="A1.Ex10.m1.2.2.4" xref="A1.Ex10.m1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex10.m1.2.2.4.2" xref="A1.Ex10.m1.2.2.4.2.cmml">â„’</mi><mrow id="A1.Ex10.m1.2.2.4.3" xref="A1.Ex10.m1.2.2.4.3.cmml"><mi id="A1.Ex10.m1.2.2.4.3.2" mathvariant="normal" xref="A1.Ex10.m1.2.2.4.3.2.cmml">S</mi><mo id="A1.Ex10.m1.2.2.4.3.1" xref="A1.Ex10.m1.2.2.4.3.1.cmml">âˆ’</mo><mi id="A1.Ex10.m1.2.2.4.3.3" xref="A1.Ex10.m1.2.2.4.3.3.cmml">DPO</mi></mrow></msub><mo id="A1.Ex10.m1.2.2.3" xref="A1.Ex10.m1.2.2.3.cmml">â¢</mo><mrow id="A1.Ex10.m1.2.2.2.2" xref="A1.Ex10.m1.2.2.2.3.cmml"><mo id="A1.Ex10.m1.2.2.2.2.3" stretchy="false" xref="A1.Ex10.m1.2.2.2.3.cmml">(</mo><msub id="A1.Ex10.m1.1.1.1.1.1" xref="A1.Ex10.m1.1.1.1.1.1.cmml"><mi id="A1.Ex10.m1.1.1.1.1.1.2" xref="A1.Ex10.m1.1.1.1.1.1.2.cmml">Ï€</mi><mi id="A1.Ex10.m1.1.1.1.1.1.3" xref="A1.Ex10.m1.1.1.1.1.1.3.cmml">Î¸</mi></msub><mo id="A1.Ex10.m1.2.2.2.2.4" xref="A1.Ex10.m1.2.2.2.3.cmml">;</mo><msub id="A1.Ex10.m1.2.2.2.2.2" xref="A1.Ex10.m1.2.2.2.2.2.cmml"><mi id="A1.Ex10.m1.2.2.2.2.2.2" xref="A1.Ex10.m1.2.2.2.2.2.2.cmml">Ï€</mi><mi id="A1.Ex10.m1.2.2.2.2.2.3" xref="A1.Ex10.m1.2.2.2.2.2.3.cmml">ref</mi></msub><mo id="A1.Ex10.m1.2.2.2.2.5" stretchy="false" xref="A1.Ex10.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex10.m1.2b"><apply id="A1.Ex10.m1.2.2.cmml" xref="A1.Ex10.m1.2.2"><times id="A1.Ex10.m1.2.2.3.cmml" xref="A1.Ex10.m1.2.2.3"></times><apply id="A1.Ex10.m1.2.2.4.cmml" xref="A1.Ex10.m1.2.2.4"><csymbol cd="ambiguous" id="A1.Ex10.m1.2.2.4.1.cmml" xref="A1.Ex10.m1.2.2.4">subscript</csymbol><ci id="A1.Ex10.m1.2.2.4.2.cmml" xref="A1.Ex10.m1.2.2.4.2">â„’</ci><apply id="A1.Ex10.m1.2.2.4.3.cmml" xref="A1.Ex10.m1.2.2.4.3"><minus id="A1.Ex10.m1.2.2.4.3.1.cmml" xref="A1.Ex10.m1.2.2.4.3.1"></minus><ci id="A1.Ex10.m1.2.2.4.3.2.cmml" xref="A1.Ex10.m1.2.2.4.3.2">S</ci><ci id="A1.Ex10.m1.2.2.4.3.3.cmml" xref="A1.Ex10.m1.2.2.4.3.3">DPO</ci></apply></apply><list id="A1.Ex10.m1.2.2.2.3.cmml" xref="A1.Ex10.m1.2.2.2.2"><apply id="A1.Ex10.m1.1.1.1.1.1.cmml" xref="A1.Ex10.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex10.m1.1.1.1.1.1.1.cmml" xref="A1.Ex10.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex10.m1.1.1.1.1.1.2.cmml" xref="A1.Ex10.m1.1.1.1.1.1.2">ğœ‹</ci><ci id="A1.Ex10.m1.1.1.1.1.1.3.cmml" xref="A1.Ex10.m1.1.1.1.1.1.3">ğœƒ</ci></apply><apply id="A1.Ex10.m1.2.2.2.2.2.cmml" xref="A1.Ex10.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex10.m1.2.2.2.2.2.1.cmml" xref="A1.Ex10.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex10.m1.2.2.2.2.2.2.cmml" xref="A1.Ex10.m1.2.2.2.2.2.2">ğœ‹</ci><ci id="A1.Ex10.m1.2.2.2.2.2.3.cmml" xref="A1.Ex10.m1.2.2.2.2.2.3">ref</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex10.m1.2c">\displaystyle\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})</annotation><annotation encoding="application/x-llamapun" id="A1.Ex10.m1.2d">caligraphic_L start_POSTSUBSCRIPT roman_S - roman_DPO end_POSTSUBSCRIPT ( italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ; italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(Eq.(<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S3.E11" title="In Deriving S-DPO. â€£ 3.1 Derivation of S-DPO loss â€£ 3 Methodology â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">11</span></a>))</span></td>
</tr></tbody>
<tbody id="A1.Ex11"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[{\rm log}\,%
\sigma\left(-{\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}\left(\beta\,{%
\rm log}\,\frac{\pi_{\theta}(e_{d}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,%
{\rm log}\,\frac{\pi_{\theta}(e_{p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}\right)%
\right)\right]" class="ltx_Math" display="inline" id="A1.Ex11.m1.8"><semantics id="A1.Ex11.m1.8a"><mrow id="A1.Ex11.m1.8.8" xref="A1.Ex11.m1.8.8.cmml"><mi id="A1.Ex11.m1.8.8.3" xref="A1.Ex11.m1.8.8.3.cmml"></mi><mo id="A1.Ex11.m1.8.8.2" xref="A1.Ex11.m1.8.8.2.cmml">=</mo><mrow id="A1.Ex11.m1.8.8.1" xref="A1.Ex11.m1.8.8.1.cmml"><mo id="A1.Ex11.m1.8.8.1a" xref="A1.Ex11.m1.8.8.1.cmml">âˆ’</mo><mrow id="A1.Ex11.m1.8.8.1.1" xref="A1.Ex11.m1.8.8.1.1.cmml"><msub id="A1.Ex11.m1.8.8.1.1.3" xref="A1.Ex11.m1.8.8.1.1.3.cmml"><mi id="A1.Ex11.m1.8.8.1.1.3.2" xref="A1.Ex11.m1.8.8.1.1.3.2.cmml">ğ”¼</mi><mrow id="A1.Ex11.m1.3.3.3.3" xref="A1.Ex11.m1.3.3.3.4.cmml"><mo id="A1.Ex11.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex11.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex11.m1.1.1.1.1.1" xref="A1.Ex11.m1.1.1.1.1.1.cmml"><mi id="A1.Ex11.m1.1.1.1.1.1.2" xref="A1.Ex11.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex11.m1.1.1.1.1.1.3" xref="A1.Ex11.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex11.m1.3.3.3.3.5" xref="A1.Ex11.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex11.m1.2.2.2.2.2" xref="A1.Ex11.m1.2.2.2.2.2.cmml"><mi id="A1.Ex11.m1.2.2.2.2.2.2" xref="A1.Ex11.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex11.m1.2.2.2.2.2.3" xref="A1.Ex11.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex11.m1.3.3.3.3.6" xref="A1.Ex11.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex11.m1.3.3.3.3.3" xref="A1.Ex11.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex11.m1.3.3.3.3.3.2" xref="A1.Ex11.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex11.m1.3.3.3.3.3.3" xref="A1.Ex11.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex11.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex11.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex11.m1.8.8.1.1.2" xref="A1.Ex11.m1.8.8.1.1.2.cmml">â¢</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.2.cmml"><mo id="A1.Ex11.m1.8.8.1.1.1.1.2" xref="A1.Ex11.m1.8.8.1.1.1.2.1.cmml">[</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.cmml"><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex11.m1.8.8.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.4" xref="A1.Ex11.m1.8.8.1.1.1.1.1.4.cmml">Ïƒ</mi><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.2a" xref="A1.Ex11.m1.8.8.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1a" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2a" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">Î²</mi><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1" lspace="0.170em" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">log</mi><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1a" lspace="0.170em" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mstyle displaystyle="true" id="A1.Ex11.m1.5.5" xref="A1.Ex11.m1.5.5.cmml"><mfrac id="A1.Ex11.m1.5.5a" xref="A1.Ex11.m1.5.5.cmml"><mrow id="A1.Ex11.m1.4.4.1" xref="A1.Ex11.m1.4.4.1.cmml"><msub id="A1.Ex11.m1.4.4.1.3" xref="A1.Ex11.m1.4.4.1.3.cmml"><mi id="A1.Ex11.m1.4.4.1.3.2" xref="A1.Ex11.m1.4.4.1.3.2.cmml">Ï€</mi><mi id="A1.Ex11.m1.4.4.1.3.3" xref="A1.Ex11.m1.4.4.1.3.3.cmml">Î¸</mi></msub><mo id="A1.Ex11.m1.4.4.1.2" xref="A1.Ex11.m1.4.4.1.2.cmml">â¢</mo><mrow id="A1.Ex11.m1.4.4.1.1.1" xref="A1.Ex11.m1.4.4.1.1.1.1.cmml"><mo id="A1.Ex11.m1.4.4.1.1.1.2" stretchy="false" xref="A1.Ex11.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="A1.Ex11.m1.4.4.1.1.1.1" xref="A1.Ex11.m1.4.4.1.1.1.1.cmml"><msub id="A1.Ex11.m1.4.4.1.1.1.1.2" xref="A1.Ex11.m1.4.4.1.1.1.1.2.cmml"><mi id="A1.Ex11.m1.4.4.1.1.1.1.2.2" xref="A1.Ex11.m1.4.4.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex11.m1.4.4.1.1.1.1.2.3" xref="A1.Ex11.m1.4.4.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex11.m1.4.4.1.1.1.1.1" xref="A1.Ex11.m1.4.4.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex11.m1.4.4.1.1.1.1.3" xref="A1.Ex11.m1.4.4.1.1.1.1.3.cmml"><mi id="A1.Ex11.m1.4.4.1.1.1.1.3.2" xref="A1.Ex11.m1.4.4.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex11.m1.4.4.1.1.1.1.3.3" xref="A1.Ex11.m1.4.4.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex11.m1.4.4.1.1.1.3" stretchy="false" xref="A1.Ex11.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex11.m1.5.5.2" xref="A1.Ex11.m1.5.5.2.cmml"><msub id="A1.Ex11.m1.5.5.2.3" xref="A1.Ex11.m1.5.5.2.3.cmml"><mi id="A1.Ex11.m1.5.5.2.3.2" xref="A1.Ex11.m1.5.5.2.3.2.cmml">Ï€</mi><mi id="A1.Ex11.m1.5.5.2.3.3" xref="A1.Ex11.m1.5.5.2.3.3.cmml">ref</mi></msub><mo id="A1.Ex11.m1.5.5.2.2" xref="A1.Ex11.m1.5.5.2.2.cmml">â¢</mo><mrow id="A1.Ex11.m1.5.5.2.1.1" xref="A1.Ex11.m1.5.5.2.1.1.1.cmml"><mo id="A1.Ex11.m1.5.5.2.1.1.2" stretchy="false" xref="A1.Ex11.m1.5.5.2.1.1.1.cmml">(</mo><mrow id="A1.Ex11.m1.5.5.2.1.1.1" xref="A1.Ex11.m1.5.5.2.1.1.1.cmml"><msub id="A1.Ex11.m1.5.5.2.1.1.1.2" xref="A1.Ex11.m1.5.5.2.1.1.1.2.cmml"><mi id="A1.Ex11.m1.5.5.2.1.1.1.2.2" xref="A1.Ex11.m1.5.5.2.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex11.m1.5.5.2.1.1.1.2.3" xref="A1.Ex11.m1.5.5.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex11.m1.5.5.2.1.1.1.1" xref="A1.Ex11.m1.5.5.2.1.1.1.1.cmml">|</mo><msub id="A1.Ex11.m1.5.5.2.1.1.1.3" xref="A1.Ex11.m1.5.5.2.1.1.1.3.cmml"><mi id="A1.Ex11.m1.5.5.2.1.1.1.3.2" xref="A1.Ex11.m1.5.5.2.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex11.m1.5.5.2.1.1.1.3.3" xref="A1.Ex11.m1.5.5.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex11.m1.5.5.2.1.1.3" stretchy="false" xref="A1.Ex11.m1.5.5.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">Î²</mi><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.170em" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mi id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">log</mi><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1a" lspace="0.170em" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mstyle displaystyle="true" id="A1.Ex11.m1.7.7" xref="A1.Ex11.m1.7.7.cmml"><mfrac id="A1.Ex11.m1.7.7a" xref="A1.Ex11.m1.7.7.cmml"><mrow id="A1.Ex11.m1.6.6.1" xref="A1.Ex11.m1.6.6.1.cmml"><msub id="A1.Ex11.m1.6.6.1.3" xref="A1.Ex11.m1.6.6.1.3.cmml"><mi id="A1.Ex11.m1.6.6.1.3.2" xref="A1.Ex11.m1.6.6.1.3.2.cmml">Ï€</mi><mi id="A1.Ex11.m1.6.6.1.3.3" xref="A1.Ex11.m1.6.6.1.3.3.cmml">Î¸</mi></msub><mo id="A1.Ex11.m1.6.6.1.2" xref="A1.Ex11.m1.6.6.1.2.cmml">â¢</mo><mrow id="A1.Ex11.m1.6.6.1.1.1" xref="A1.Ex11.m1.6.6.1.1.1.1.cmml"><mo id="A1.Ex11.m1.6.6.1.1.1.2" stretchy="false" xref="A1.Ex11.m1.6.6.1.1.1.1.cmml">(</mo><mrow id="A1.Ex11.m1.6.6.1.1.1.1" xref="A1.Ex11.m1.6.6.1.1.1.1.cmml"><msub id="A1.Ex11.m1.6.6.1.1.1.1.2" xref="A1.Ex11.m1.6.6.1.1.1.1.2.cmml"><mi id="A1.Ex11.m1.6.6.1.1.1.1.2.2" xref="A1.Ex11.m1.6.6.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex11.m1.6.6.1.1.1.1.2.3" xref="A1.Ex11.m1.6.6.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex11.m1.6.6.1.1.1.1.1" xref="A1.Ex11.m1.6.6.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex11.m1.6.6.1.1.1.1.3" xref="A1.Ex11.m1.6.6.1.1.1.1.3.cmml"><mi id="A1.Ex11.m1.6.6.1.1.1.1.3.2" xref="A1.Ex11.m1.6.6.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex11.m1.6.6.1.1.1.1.3.3" xref="A1.Ex11.m1.6.6.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex11.m1.6.6.1.1.1.3" stretchy="false" xref="A1.Ex11.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex11.m1.7.7.2" xref="A1.Ex11.m1.7.7.2.cmml"><msub id="A1.Ex11.m1.7.7.2.3" xref="A1.Ex11.m1.7.7.2.3.cmml"><mi id="A1.Ex11.m1.7.7.2.3.2" xref="A1.Ex11.m1.7.7.2.3.2.cmml">Ï€</mi><mi id="A1.Ex11.m1.7.7.2.3.3" xref="A1.Ex11.m1.7.7.2.3.3.cmml">ref</mi></msub><mo id="A1.Ex11.m1.7.7.2.2" xref="A1.Ex11.m1.7.7.2.2.cmml">â¢</mo><mrow id="A1.Ex11.m1.7.7.2.1.1" xref="A1.Ex11.m1.7.7.2.1.1.1.cmml"><mo id="A1.Ex11.m1.7.7.2.1.1.2" stretchy="false" xref="A1.Ex11.m1.7.7.2.1.1.1.cmml">(</mo><mrow id="A1.Ex11.m1.7.7.2.1.1.1" xref="A1.Ex11.m1.7.7.2.1.1.1.cmml"><msub id="A1.Ex11.m1.7.7.2.1.1.1.2" xref="A1.Ex11.m1.7.7.2.1.1.1.2.cmml"><mi id="A1.Ex11.m1.7.7.2.1.1.1.2.2" xref="A1.Ex11.m1.7.7.2.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex11.m1.7.7.2.1.1.1.2.3" xref="A1.Ex11.m1.7.7.2.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex11.m1.7.7.2.1.1.1.1" xref="A1.Ex11.m1.7.7.2.1.1.1.1.cmml">|</mo><msub id="A1.Ex11.m1.7.7.2.1.1.1.3" xref="A1.Ex11.m1.7.7.2.1.1.1.3.cmml"><mi id="A1.Ex11.m1.7.7.2.1.1.1.3.2" xref="A1.Ex11.m1.7.7.2.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex11.m1.7.7.2.1.1.1.3.3" xref="A1.Ex11.m1.7.7.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex11.m1.7.7.2.1.1.3" stretchy="false" xref="A1.Ex11.m1.7.7.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.3" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex11.m1.8.8.1.1.1.1.3" xref="A1.Ex11.m1.8.8.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex11.m1.8b"><apply id="A1.Ex11.m1.8.8.cmml" xref="A1.Ex11.m1.8.8"><eq id="A1.Ex11.m1.8.8.2.cmml" xref="A1.Ex11.m1.8.8.2"></eq><csymbol cd="latexml" id="A1.Ex11.m1.8.8.3.cmml" xref="A1.Ex11.m1.8.8.3">absent</csymbol><apply id="A1.Ex11.m1.8.8.1.cmml" xref="A1.Ex11.m1.8.8.1"><minus id="A1.Ex11.m1.8.8.1.2.cmml" xref="A1.Ex11.m1.8.8.1"></minus><apply id="A1.Ex11.m1.8.8.1.1.cmml" xref="A1.Ex11.m1.8.8.1.1"><times id="A1.Ex11.m1.8.8.1.1.2.cmml" xref="A1.Ex11.m1.8.8.1.1.2"></times><apply id="A1.Ex11.m1.8.8.1.1.3.cmml" xref="A1.Ex11.m1.8.8.1.1.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.8.8.1.1.3.1.cmml" xref="A1.Ex11.m1.8.8.1.1.3">subscript</csymbol><ci id="A1.Ex11.m1.8.8.1.1.3.2.cmml" xref="A1.Ex11.m1.8.8.1.1.3.2">ğ”¼</ci><vector id="A1.Ex11.m1.3.3.3.4.cmml" xref="A1.Ex11.m1.3.3.3.3"><apply id="A1.Ex11.m1.1.1.1.1.1.cmml" xref="A1.Ex11.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex11.m1.1.1.1.1.1.1.cmml" xref="A1.Ex11.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex11.m1.1.1.1.1.1.2.cmml" xref="A1.Ex11.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex11.m1.1.1.1.1.1.3.cmml" xref="A1.Ex11.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex11.m1.2.2.2.2.2.cmml" xref="A1.Ex11.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex11.m1.2.2.2.2.2.1.cmml" xref="A1.Ex11.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex11.m1.2.2.2.2.2.2.cmml" xref="A1.Ex11.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex11.m1.2.2.2.2.2.3.cmml" xref="A1.Ex11.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex11.m1.3.3.3.3.3.cmml" xref="A1.Ex11.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.3.3.3.3.3.1.cmml" xref="A1.Ex11.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex11.m1.3.3.3.3.3.2.cmml" xref="A1.Ex11.m1.3.3.3.3.3.2">â„°</ci><ci id="A1.Ex11.m1.3.3.3.3.3.3.cmml" xref="A1.Ex11.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex11.m1.8.8.1.1.1.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1"><csymbol cd="latexml" id="A1.Ex11.m1.8.8.1.1.1.2.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1"><times id="A1.Ex11.m1.8.8.1.1.1.1.1.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.2"></times><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.3">log</ci><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.4.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.4">ğœ</ci><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1"><minus id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1"></minus><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1"><times id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.3">log</ci><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1"><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3"><in id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1"><minus id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><times id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1"></times><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">ğ›½</ci><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">log</ci><apply id="A1.Ex11.m1.5.5.cmml" xref="A1.Ex11.m1.5.5"><divide id="A1.Ex11.m1.5.5.3.cmml" xref="A1.Ex11.m1.5.5"></divide><apply id="A1.Ex11.m1.4.4.1.cmml" xref="A1.Ex11.m1.4.4.1"><times id="A1.Ex11.m1.4.4.1.2.cmml" xref="A1.Ex11.m1.4.4.1.2"></times><apply id="A1.Ex11.m1.4.4.1.3.cmml" xref="A1.Ex11.m1.4.4.1.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.4.4.1.3.1.cmml" xref="A1.Ex11.m1.4.4.1.3">subscript</csymbol><ci id="A1.Ex11.m1.4.4.1.3.2.cmml" xref="A1.Ex11.m1.4.4.1.3.2">ğœ‹</ci><ci id="A1.Ex11.m1.4.4.1.3.3.cmml" xref="A1.Ex11.m1.4.4.1.3.3">ğœƒ</ci></apply><apply id="A1.Ex11.m1.4.4.1.1.1.1.cmml" xref="A1.Ex11.m1.4.4.1.1.1"><csymbol cd="latexml" id="A1.Ex11.m1.4.4.1.1.1.1.1.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex11.m1.4.4.1.1.1.1.2.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex11.m1.4.4.1.1.1.1.2.1.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex11.m1.4.4.1.1.1.1.2.2.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex11.m1.4.4.1.1.1.1.2.3.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex11.m1.4.4.1.1.1.1.3.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.4.4.1.1.1.1.3.1.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex11.m1.4.4.1.1.1.1.3.2.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex11.m1.4.4.1.1.1.1.3.3.cmml" xref="A1.Ex11.m1.4.4.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex11.m1.5.5.2.cmml" xref="A1.Ex11.m1.5.5.2"><times id="A1.Ex11.m1.5.5.2.2.cmml" xref="A1.Ex11.m1.5.5.2.2"></times><apply id="A1.Ex11.m1.5.5.2.3.cmml" xref="A1.Ex11.m1.5.5.2.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.5.5.2.3.1.cmml" xref="A1.Ex11.m1.5.5.2.3">subscript</csymbol><ci id="A1.Ex11.m1.5.5.2.3.2.cmml" xref="A1.Ex11.m1.5.5.2.3.2">ğœ‹</ci><ci id="A1.Ex11.m1.5.5.2.3.3.cmml" xref="A1.Ex11.m1.5.5.2.3.3">ref</ci></apply><apply id="A1.Ex11.m1.5.5.2.1.1.1.cmml" xref="A1.Ex11.m1.5.5.2.1.1"><csymbol cd="latexml" id="A1.Ex11.m1.5.5.2.1.1.1.1.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.1">conditional</csymbol><apply id="A1.Ex11.m1.5.5.2.1.1.1.2.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex11.m1.5.5.2.1.1.1.2.1.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.2">subscript</csymbol><ci id="A1.Ex11.m1.5.5.2.1.1.1.2.2.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex11.m1.5.5.2.1.1.1.2.3.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex11.m1.5.5.2.1.1.1.3.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.5.5.2.1.1.1.3.1.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.3">subscript</csymbol><ci id="A1.Ex11.m1.5.5.2.1.1.1.3.2.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex11.m1.5.5.2.1.1.1.3.3.cmml" xref="A1.Ex11.m1.5.5.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><times id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">ğ›½</ci><ci id="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="A1.Ex11.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">log</ci><apply id="A1.Ex11.m1.7.7.cmml" xref="A1.Ex11.m1.7.7"><divide id="A1.Ex11.m1.7.7.3.cmml" xref="A1.Ex11.m1.7.7"></divide><apply id="A1.Ex11.m1.6.6.1.cmml" xref="A1.Ex11.m1.6.6.1"><times id="A1.Ex11.m1.6.6.1.2.cmml" xref="A1.Ex11.m1.6.6.1.2"></times><apply id="A1.Ex11.m1.6.6.1.3.cmml" xref="A1.Ex11.m1.6.6.1.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.6.6.1.3.1.cmml" xref="A1.Ex11.m1.6.6.1.3">subscript</csymbol><ci id="A1.Ex11.m1.6.6.1.3.2.cmml" xref="A1.Ex11.m1.6.6.1.3.2">ğœ‹</ci><ci id="A1.Ex11.m1.6.6.1.3.3.cmml" xref="A1.Ex11.m1.6.6.1.3.3">ğœƒ</ci></apply><apply id="A1.Ex11.m1.6.6.1.1.1.1.cmml" xref="A1.Ex11.m1.6.6.1.1.1"><csymbol cd="latexml" id="A1.Ex11.m1.6.6.1.1.1.1.1.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex11.m1.6.6.1.1.1.1.2.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex11.m1.6.6.1.1.1.1.2.1.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex11.m1.6.6.1.1.1.1.2.2.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex11.m1.6.6.1.1.1.1.2.3.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex11.m1.6.6.1.1.1.1.3.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.6.6.1.1.1.1.3.1.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex11.m1.6.6.1.1.1.1.3.2.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex11.m1.6.6.1.1.1.1.3.3.cmml" xref="A1.Ex11.m1.6.6.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex11.m1.7.7.2.cmml" xref="A1.Ex11.m1.7.7.2"><times id="A1.Ex11.m1.7.7.2.2.cmml" xref="A1.Ex11.m1.7.7.2.2"></times><apply id="A1.Ex11.m1.7.7.2.3.cmml" xref="A1.Ex11.m1.7.7.2.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.7.7.2.3.1.cmml" xref="A1.Ex11.m1.7.7.2.3">subscript</csymbol><ci id="A1.Ex11.m1.7.7.2.3.2.cmml" xref="A1.Ex11.m1.7.7.2.3.2">ğœ‹</ci><ci id="A1.Ex11.m1.7.7.2.3.3.cmml" xref="A1.Ex11.m1.7.7.2.3.3">ref</ci></apply><apply id="A1.Ex11.m1.7.7.2.1.1.1.cmml" xref="A1.Ex11.m1.7.7.2.1.1"><csymbol cd="latexml" id="A1.Ex11.m1.7.7.2.1.1.1.1.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.1">conditional</csymbol><apply id="A1.Ex11.m1.7.7.2.1.1.1.2.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex11.m1.7.7.2.1.1.1.2.1.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.2">subscript</csymbol><ci id="A1.Ex11.m1.7.7.2.1.1.1.2.2.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex11.m1.7.7.2.1.1.1.2.3.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex11.m1.7.7.2.1.1.1.3.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex11.m1.7.7.2.1.1.1.3.1.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.3">subscript</csymbol><ci id="A1.Ex11.m1.7.7.2.1.1.1.3.2.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex11.m1.7.7.2.1.1.1.3.3.cmml" xref="A1.Ex11.m1.7.7.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex11.m1.8c">\displaystyle=-\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[{\rm log}\,%
\sigma\left(-{\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}\left(\beta\,{%
\rm log}\,\frac{\pi_{\theta}(e_{d}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,%
{\rm log}\,\frac{\pi_{\theta}(e_{p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}\right)%
\right)\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex11.m1.8d">= - blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_log italic_Ïƒ ( - roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG - italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG ) ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex12"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\mathbb{E}_{(x_{u},e_{p},e_{d})}\left[{\rm log}\,\sigma\left(-{%
\rm log}\,{\rm exp}\left(\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{d}|x_{u})}{%
\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{p}|x_{u})}%
{\pi_{\rm ref}(e_{p}|x_{u})}\right)\right)\right]" class="ltx_Math" display="inline" id="A1.Ex12.m1.8"><semantics id="A1.Ex12.m1.8a"><mrow id="A1.Ex12.m1.8.8" xref="A1.Ex12.m1.8.8.cmml"><mi id="A1.Ex12.m1.8.8.3" xref="A1.Ex12.m1.8.8.3.cmml"></mi><mo id="A1.Ex12.m1.8.8.2" xref="A1.Ex12.m1.8.8.2.cmml">=</mo><mrow id="A1.Ex12.m1.8.8.1" xref="A1.Ex12.m1.8.8.1.cmml"><mo id="A1.Ex12.m1.8.8.1a" xref="A1.Ex12.m1.8.8.1.cmml">âˆ’</mo><mrow id="A1.Ex12.m1.8.8.1.1" xref="A1.Ex12.m1.8.8.1.1.cmml"><msub id="A1.Ex12.m1.8.8.1.1.3" xref="A1.Ex12.m1.8.8.1.1.3.cmml"><mi id="A1.Ex12.m1.8.8.1.1.3.2" xref="A1.Ex12.m1.8.8.1.1.3.2.cmml">ğ”¼</mi><mrow id="A1.Ex12.m1.3.3.3.3" xref="A1.Ex12.m1.3.3.3.4.cmml"><mo id="A1.Ex12.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex12.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex12.m1.1.1.1.1.1" xref="A1.Ex12.m1.1.1.1.1.1.cmml"><mi id="A1.Ex12.m1.1.1.1.1.1.2" xref="A1.Ex12.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex12.m1.1.1.1.1.1.3" xref="A1.Ex12.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex12.m1.3.3.3.3.5" xref="A1.Ex12.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex12.m1.2.2.2.2.2" xref="A1.Ex12.m1.2.2.2.2.2.cmml"><mi id="A1.Ex12.m1.2.2.2.2.2.2" xref="A1.Ex12.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex12.m1.2.2.2.2.2.3" xref="A1.Ex12.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex12.m1.3.3.3.3.6" xref="A1.Ex12.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex12.m1.3.3.3.3.3" xref="A1.Ex12.m1.3.3.3.3.3.cmml"><mi id="A1.Ex12.m1.3.3.3.3.3.2" xref="A1.Ex12.m1.3.3.3.3.3.2.cmml">e</mi><mi id="A1.Ex12.m1.3.3.3.3.3.3" xref="A1.Ex12.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex12.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex12.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex12.m1.8.8.1.1.2" xref="A1.Ex12.m1.8.8.1.1.2.cmml">â¢</mo><mrow id="A1.Ex12.m1.8.8.1.1.1.1" xref="A1.Ex12.m1.8.8.1.1.1.2.cmml"><mo id="A1.Ex12.m1.8.8.1.1.1.1.2" xref="A1.Ex12.m1.8.8.1.1.1.2.1.cmml">[</mo><mrow id="A1.Ex12.m1.8.8.1.1.1.1.1" xref="A1.Ex12.m1.8.8.1.1.1.1.1.cmml"><mi id="A1.Ex12.m1.8.8.1.1.1.1.1.3" xref="A1.Ex12.m1.8.8.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex12.m1.8.8.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex12.m1.8.8.1.1.1.1.1.4" xref="A1.Ex12.m1.8.8.1.1.1.1.1.4.cmml">Ïƒ</mi><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.2a" xref="A1.Ex12.m1.8.8.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.2" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1a" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.4" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.4.cmml">exp</mi><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.2a" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">Î²</mi><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.1" lspace="0.170em" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mi id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">log</mi><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.1a" lspace="0.170em" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mstyle displaystyle="true" id="A1.Ex12.m1.5.5" xref="A1.Ex12.m1.5.5.cmml"><mfrac id="A1.Ex12.m1.5.5a" xref="A1.Ex12.m1.5.5.cmml"><mrow id="A1.Ex12.m1.4.4.1" xref="A1.Ex12.m1.4.4.1.cmml"><msub id="A1.Ex12.m1.4.4.1.3" xref="A1.Ex12.m1.4.4.1.3.cmml"><mi id="A1.Ex12.m1.4.4.1.3.2" xref="A1.Ex12.m1.4.4.1.3.2.cmml">Ï€</mi><mi id="A1.Ex12.m1.4.4.1.3.3" xref="A1.Ex12.m1.4.4.1.3.3.cmml">Î¸</mi></msub><mo id="A1.Ex12.m1.4.4.1.2" xref="A1.Ex12.m1.4.4.1.2.cmml">â¢</mo><mrow id="A1.Ex12.m1.4.4.1.1.1" xref="A1.Ex12.m1.4.4.1.1.1.1.cmml"><mo id="A1.Ex12.m1.4.4.1.1.1.2" stretchy="false" xref="A1.Ex12.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="A1.Ex12.m1.4.4.1.1.1.1" xref="A1.Ex12.m1.4.4.1.1.1.1.cmml"><msub id="A1.Ex12.m1.4.4.1.1.1.1.2" xref="A1.Ex12.m1.4.4.1.1.1.1.2.cmml"><mi id="A1.Ex12.m1.4.4.1.1.1.1.2.2" xref="A1.Ex12.m1.4.4.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex12.m1.4.4.1.1.1.1.2.3" xref="A1.Ex12.m1.4.4.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex12.m1.4.4.1.1.1.1.1" xref="A1.Ex12.m1.4.4.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex12.m1.4.4.1.1.1.1.3" xref="A1.Ex12.m1.4.4.1.1.1.1.3.cmml"><mi id="A1.Ex12.m1.4.4.1.1.1.1.3.2" xref="A1.Ex12.m1.4.4.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex12.m1.4.4.1.1.1.1.3.3" xref="A1.Ex12.m1.4.4.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex12.m1.4.4.1.1.1.3" stretchy="false" xref="A1.Ex12.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex12.m1.5.5.2" xref="A1.Ex12.m1.5.5.2.cmml"><msub id="A1.Ex12.m1.5.5.2.3" xref="A1.Ex12.m1.5.5.2.3.cmml"><mi id="A1.Ex12.m1.5.5.2.3.2" xref="A1.Ex12.m1.5.5.2.3.2.cmml">Ï€</mi><mi id="A1.Ex12.m1.5.5.2.3.3" xref="A1.Ex12.m1.5.5.2.3.3.cmml">ref</mi></msub><mo id="A1.Ex12.m1.5.5.2.2" xref="A1.Ex12.m1.5.5.2.2.cmml">â¢</mo><mrow id="A1.Ex12.m1.5.5.2.1.1" xref="A1.Ex12.m1.5.5.2.1.1.1.cmml"><mo id="A1.Ex12.m1.5.5.2.1.1.2" stretchy="false" xref="A1.Ex12.m1.5.5.2.1.1.1.cmml">(</mo><mrow id="A1.Ex12.m1.5.5.2.1.1.1" xref="A1.Ex12.m1.5.5.2.1.1.1.cmml"><msub id="A1.Ex12.m1.5.5.2.1.1.1.2" xref="A1.Ex12.m1.5.5.2.1.1.1.2.cmml"><mi id="A1.Ex12.m1.5.5.2.1.1.1.2.2" xref="A1.Ex12.m1.5.5.2.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex12.m1.5.5.2.1.1.1.2.3" xref="A1.Ex12.m1.5.5.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex12.m1.5.5.2.1.1.1.1" xref="A1.Ex12.m1.5.5.2.1.1.1.1.cmml">|</mo><msub id="A1.Ex12.m1.5.5.2.1.1.1.3" xref="A1.Ex12.m1.5.5.2.1.1.1.3.cmml"><mi id="A1.Ex12.m1.5.5.2.1.1.1.3.2" xref="A1.Ex12.m1.5.5.2.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex12.m1.5.5.2.1.1.1.3.3" xref="A1.Ex12.m1.5.5.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex12.m1.5.5.2.1.1.3" stretchy="false" xref="A1.Ex12.m1.5.5.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">Î²</mi><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.170em" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mi id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">log</mi><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.1a" lspace="0.170em" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mstyle displaystyle="true" id="A1.Ex12.m1.7.7" xref="A1.Ex12.m1.7.7.cmml"><mfrac id="A1.Ex12.m1.7.7a" xref="A1.Ex12.m1.7.7.cmml"><mrow id="A1.Ex12.m1.6.6.1" xref="A1.Ex12.m1.6.6.1.cmml"><msub id="A1.Ex12.m1.6.6.1.3" xref="A1.Ex12.m1.6.6.1.3.cmml"><mi id="A1.Ex12.m1.6.6.1.3.2" xref="A1.Ex12.m1.6.6.1.3.2.cmml">Ï€</mi><mi id="A1.Ex12.m1.6.6.1.3.3" xref="A1.Ex12.m1.6.6.1.3.3.cmml">Î¸</mi></msub><mo id="A1.Ex12.m1.6.6.1.2" xref="A1.Ex12.m1.6.6.1.2.cmml">â¢</mo><mrow id="A1.Ex12.m1.6.6.1.1.1" xref="A1.Ex12.m1.6.6.1.1.1.1.cmml"><mo id="A1.Ex12.m1.6.6.1.1.1.2" stretchy="false" xref="A1.Ex12.m1.6.6.1.1.1.1.cmml">(</mo><mrow id="A1.Ex12.m1.6.6.1.1.1.1" xref="A1.Ex12.m1.6.6.1.1.1.1.cmml"><msub id="A1.Ex12.m1.6.6.1.1.1.1.2" xref="A1.Ex12.m1.6.6.1.1.1.1.2.cmml"><mi id="A1.Ex12.m1.6.6.1.1.1.1.2.2" xref="A1.Ex12.m1.6.6.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex12.m1.6.6.1.1.1.1.2.3" xref="A1.Ex12.m1.6.6.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex12.m1.6.6.1.1.1.1.1" xref="A1.Ex12.m1.6.6.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex12.m1.6.6.1.1.1.1.3" xref="A1.Ex12.m1.6.6.1.1.1.1.3.cmml"><mi id="A1.Ex12.m1.6.6.1.1.1.1.3.2" xref="A1.Ex12.m1.6.6.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex12.m1.6.6.1.1.1.1.3.3" xref="A1.Ex12.m1.6.6.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex12.m1.6.6.1.1.1.3" stretchy="false" xref="A1.Ex12.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex12.m1.7.7.2" xref="A1.Ex12.m1.7.7.2.cmml"><msub id="A1.Ex12.m1.7.7.2.3" xref="A1.Ex12.m1.7.7.2.3.cmml"><mi id="A1.Ex12.m1.7.7.2.3.2" xref="A1.Ex12.m1.7.7.2.3.2.cmml">Ï€</mi><mi id="A1.Ex12.m1.7.7.2.3.3" xref="A1.Ex12.m1.7.7.2.3.3.cmml">ref</mi></msub><mo id="A1.Ex12.m1.7.7.2.2" xref="A1.Ex12.m1.7.7.2.2.cmml">â¢</mo><mrow id="A1.Ex12.m1.7.7.2.1.1" xref="A1.Ex12.m1.7.7.2.1.1.1.cmml"><mo id="A1.Ex12.m1.7.7.2.1.1.2" stretchy="false" xref="A1.Ex12.m1.7.7.2.1.1.1.cmml">(</mo><mrow id="A1.Ex12.m1.7.7.2.1.1.1" xref="A1.Ex12.m1.7.7.2.1.1.1.cmml"><msub id="A1.Ex12.m1.7.7.2.1.1.1.2" xref="A1.Ex12.m1.7.7.2.1.1.1.2.cmml"><mi id="A1.Ex12.m1.7.7.2.1.1.1.2.2" xref="A1.Ex12.m1.7.7.2.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex12.m1.7.7.2.1.1.1.2.3" xref="A1.Ex12.m1.7.7.2.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex12.m1.7.7.2.1.1.1.1" xref="A1.Ex12.m1.7.7.2.1.1.1.1.cmml">|</mo><msub id="A1.Ex12.m1.7.7.2.1.1.1.3" xref="A1.Ex12.m1.7.7.2.1.1.1.3.cmml"><mi id="A1.Ex12.m1.7.7.2.1.1.1.3.2" xref="A1.Ex12.m1.7.7.2.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex12.m1.7.7.2.1.1.1.3.3" xref="A1.Ex12.m1.7.7.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex12.m1.7.7.2.1.1.3" stretchy="false" xref="A1.Ex12.m1.7.7.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.3" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex12.m1.8.8.1.1.1.1.3" xref="A1.Ex12.m1.8.8.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex12.m1.8b"><apply id="A1.Ex12.m1.8.8.cmml" xref="A1.Ex12.m1.8.8"><eq id="A1.Ex12.m1.8.8.2.cmml" xref="A1.Ex12.m1.8.8.2"></eq><csymbol cd="latexml" id="A1.Ex12.m1.8.8.3.cmml" xref="A1.Ex12.m1.8.8.3">absent</csymbol><apply id="A1.Ex12.m1.8.8.1.cmml" xref="A1.Ex12.m1.8.8.1"><minus id="A1.Ex12.m1.8.8.1.2.cmml" xref="A1.Ex12.m1.8.8.1"></minus><apply id="A1.Ex12.m1.8.8.1.1.cmml" xref="A1.Ex12.m1.8.8.1.1"><times id="A1.Ex12.m1.8.8.1.1.2.cmml" xref="A1.Ex12.m1.8.8.1.1.2"></times><apply id="A1.Ex12.m1.8.8.1.1.3.cmml" xref="A1.Ex12.m1.8.8.1.1.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.8.8.1.1.3.1.cmml" xref="A1.Ex12.m1.8.8.1.1.3">subscript</csymbol><ci id="A1.Ex12.m1.8.8.1.1.3.2.cmml" xref="A1.Ex12.m1.8.8.1.1.3.2">ğ”¼</ci><vector id="A1.Ex12.m1.3.3.3.4.cmml" xref="A1.Ex12.m1.3.3.3.3"><apply id="A1.Ex12.m1.1.1.1.1.1.cmml" xref="A1.Ex12.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex12.m1.1.1.1.1.1.1.cmml" xref="A1.Ex12.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex12.m1.1.1.1.1.1.2.cmml" xref="A1.Ex12.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex12.m1.1.1.1.1.1.3.cmml" xref="A1.Ex12.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex12.m1.2.2.2.2.2.cmml" xref="A1.Ex12.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex12.m1.2.2.2.2.2.1.cmml" xref="A1.Ex12.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex12.m1.2.2.2.2.2.2.cmml" xref="A1.Ex12.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex12.m1.2.2.2.2.2.3.cmml" xref="A1.Ex12.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex12.m1.3.3.3.3.3.cmml" xref="A1.Ex12.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.3.3.3.3.3.1.cmml" xref="A1.Ex12.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex12.m1.3.3.3.3.3.2.cmml" xref="A1.Ex12.m1.3.3.3.3.3.2">ğ‘’</ci><ci id="A1.Ex12.m1.3.3.3.3.3.3.cmml" xref="A1.Ex12.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex12.m1.8.8.1.1.1.2.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1"><csymbol cd="latexml" id="A1.Ex12.m1.8.8.1.1.1.2.1.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex12.m1.8.8.1.1.1.1.1.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1"><times id="A1.Ex12.m1.8.8.1.1.1.1.1.2.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.2"></times><ci id="A1.Ex12.m1.8.8.1.1.1.1.1.3.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.3">log</ci><ci id="A1.Ex12.m1.8.8.1.1.1.1.1.4.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.4">ğœ</ci><apply id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1"><minus id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1"></minus><apply id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1"><times id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.3">log</ci><ci id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.4.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.4">exp</ci><apply id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1"><minus id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.1"></minus><apply id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2"><times id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.1"></times><ci id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.2">ğ›½</ci><ci id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.2.3">log</ci><apply id="A1.Ex12.m1.5.5.cmml" xref="A1.Ex12.m1.5.5"><divide id="A1.Ex12.m1.5.5.3.cmml" xref="A1.Ex12.m1.5.5"></divide><apply id="A1.Ex12.m1.4.4.1.cmml" xref="A1.Ex12.m1.4.4.1"><times id="A1.Ex12.m1.4.4.1.2.cmml" xref="A1.Ex12.m1.4.4.1.2"></times><apply id="A1.Ex12.m1.4.4.1.3.cmml" xref="A1.Ex12.m1.4.4.1.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.4.4.1.3.1.cmml" xref="A1.Ex12.m1.4.4.1.3">subscript</csymbol><ci id="A1.Ex12.m1.4.4.1.3.2.cmml" xref="A1.Ex12.m1.4.4.1.3.2">ğœ‹</ci><ci id="A1.Ex12.m1.4.4.1.3.3.cmml" xref="A1.Ex12.m1.4.4.1.3.3">ğœƒ</ci></apply><apply id="A1.Ex12.m1.4.4.1.1.1.1.cmml" xref="A1.Ex12.m1.4.4.1.1.1"><csymbol cd="latexml" id="A1.Ex12.m1.4.4.1.1.1.1.1.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex12.m1.4.4.1.1.1.1.2.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex12.m1.4.4.1.1.1.1.2.1.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex12.m1.4.4.1.1.1.1.2.2.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex12.m1.4.4.1.1.1.1.2.3.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex12.m1.4.4.1.1.1.1.3.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.4.4.1.1.1.1.3.1.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex12.m1.4.4.1.1.1.1.3.2.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex12.m1.4.4.1.1.1.1.3.3.cmml" xref="A1.Ex12.m1.4.4.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex12.m1.5.5.2.cmml" xref="A1.Ex12.m1.5.5.2"><times id="A1.Ex12.m1.5.5.2.2.cmml" xref="A1.Ex12.m1.5.5.2.2"></times><apply id="A1.Ex12.m1.5.5.2.3.cmml" xref="A1.Ex12.m1.5.5.2.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.5.5.2.3.1.cmml" xref="A1.Ex12.m1.5.5.2.3">subscript</csymbol><ci id="A1.Ex12.m1.5.5.2.3.2.cmml" xref="A1.Ex12.m1.5.5.2.3.2">ğœ‹</ci><ci id="A1.Ex12.m1.5.5.2.3.3.cmml" xref="A1.Ex12.m1.5.5.2.3.3">ref</ci></apply><apply id="A1.Ex12.m1.5.5.2.1.1.1.cmml" xref="A1.Ex12.m1.5.5.2.1.1"><csymbol cd="latexml" id="A1.Ex12.m1.5.5.2.1.1.1.1.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.1">conditional</csymbol><apply id="A1.Ex12.m1.5.5.2.1.1.1.2.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex12.m1.5.5.2.1.1.1.2.1.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.2">subscript</csymbol><ci id="A1.Ex12.m1.5.5.2.1.1.1.2.2.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex12.m1.5.5.2.1.1.1.2.3.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex12.m1.5.5.2.1.1.1.3.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.5.5.2.1.1.1.3.1.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.3">subscript</csymbol><ci id="A1.Ex12.m1.5.5.2.1.1.1.3.2.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex12.m1.5.5.2.1.1.1.3.3.cmml" xref="A1.Ex12.m1.5.5.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3"><times id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.2">ğ›½</ci><ci id="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="A1.Ex12.m1.8.8.1.1.1.1.1.1.1.1.1.1.1.1.3.3">log</ci><apply id="A1.Ex12.m1.7.7.cmml" xref="A1.Ex12.m1.7.7"><divide id="A1.Ex12.m1.7.7.3.cmml" xref="A1.Ex12.m1.7.7"></divide><apply id="A1.Ex12.m1.6.6.1.cmml" xref="A1.Ex12.m1.6.6.1"><times id="A1.Ex12.m1.6.6.1.2.cmml" xref="A1.Ex12.m1.6.6.1.2"></times><apply id="A1.Ex12.m1.6.6.1.3.cmml" xref="A1.Ex12.m1.6.6.1.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.6.6.1.3.1.cmml" xref="A1.Ex12.m1.6.6.1.3">subscript</csymbol><ci id="A1.Ex12.m1.6.6.1.3.2.cmml" xref="A1.Ex12.m1.6.6.1.3.2">ğœ‹</ci><ci id="A1.Ex12.m1.6.6.1.3.3.cmml" xref="A1.Ex12.m1.6.6.1.3.3">ğœƒ</ci></apply><apply id="A1.Ex12.m1.6.6.1.1.1.1.cmml" xref="A1.Ex12.m1.6.6.1.1.1"><csymbol cd="latexml" id="A1.Ex12.m1.6.6.1.1.1.1.1.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex12.m1.6.6.1.1.1.1.2.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex12.m1.6.6.1.1.1.1.2.1.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex12.m1.6.6.1.1.1.1.2.2.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex12.m1.6.6.1.1.1.1.2.3.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex12.m1.6.6.1.1.1.1.3.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.6.6.1.1.1.1.3.1.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex12.m1.6.6.1.1.1.1.3.2.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex12.m1.6.6.1.1.1.1.3.3.cmml" xref="A1.Ex12.m1.6.6.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex12.m1.7.7.2.cmml" xref="A1.Ex12.m1.7.7.2"><times id="A1.Ex12.m1.7.7.2.2.cmml" xref="A1.Ex12.m1.7.7.2.2"></times><apply id="A1.Ex12.m1.7.7.2.3.cmml" xref="A1.Ex12.m1.7.7.2.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.7.7.2.3.1.cmml" xref="A1.Ex12.m1.7.7.2.3">subscript</csymbol><ci id="A1.Ex12.m1.7.7.2.3.2.cmml" xref="A1.Ex12.m1.7.7.2.3.2">ğœ‹</ci><ci id="A1.Ex12.m1.7.7.2.3.3.cmml" xref="A1.Ex12.m1.7.7.2.3.3">ref</ci></apply><apply id="A1.Ex12.m1.7.7.2.1.1.1.cmml" xref="A1.Ex12.m1.7.7.2.1.1"><csymbol cd="latexml" id="A1.Ex12.m1.7.7.2.1.1.1.1.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.1">conditional</csymbol><apply id="A1.Ex12.m1.7.7.2.1.1.1.2.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex12.m1.7.7.2.1.1.1.2.1.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.2">subscript</csymbol><ci id="A1.Ex12.m1.7.7.2.1.1.1.2.2.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex12.m1.7.7.2.1.1.1.2.3.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex12.m1.7.7.2.1.1.1.3.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex12.m1.7.7.2.1.1.1.3.1.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.3">subscript</csymbol><ci id="A1.Ex12.m1.7.7.2.1.1.1.3.2.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex12.m1.7.7.2.1.1.1.3.3.cmml" xref="A1.Ex12.m1.7.7.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex12.m1.8c">\displaystyle=-\mathbb{E}_{(x_{u},e_{p},e_{d})}\left[{\rm log}\,\sigma\left(-{%
\rm log}\,{\rm exp}\left(\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{d}|x_{u})}{%
\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{p}|x_{u})}%
{\pi_{\rm ref}(e_{p}|x_{u})}\right)\right)\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex12.m1.8d">= - blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_log italic_Ïƒ ( - roman_log roman_exp ( italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG - italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG ) ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(<math alttext="N=2" class="ltx_Math" display="inline" id="A1.Ex12.1.1.m1.1"><semantics id="A1.Ex12.1.1.m1.1b"><mrow id="A1.Ex12.1.1.m1.1.1" xref="A1.Ex12.1.1.m1.1.1.cmml"><mi id="A1.Ex12.1.1.m1.1.1.2" xref="A1.Ex12.1.1.m1.1.1.2.cmml">N</mi><mo id="A1.Ex12.1.1.m1.1.1.1" xref="A1.Ex12.1.1.m1.1.1.1.cmml">=</mo><mn id="A1.Ex12.1.1.m1.1.1.3" xref="A1.Ex12.1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex12.1.1.m1.1c"><apply id="A1.Ex12.1.1.m1.1.1.cmml" xref="A1.Ex12.1.1.m1.1.1"><eq id="A1.Ex12.1.1.m1.1.1.1.cmml" xref="A1.Ex12.1.1.m1.1.1.1"></eq><ci id="A1.Ex12.1.1.m1.1.1.2.cmml" xref="A1.Ex12.1.1.m1.1.1.2">ğ‘</ci><cn id="A1.Ex12.1.1.m1.1.1.3.cmml" type="integer" xref="A1.Ex12.1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex12.1.1.m1.1d">N=2</annotation><annotation encoding="application/x-llamapun" id="A1.Ex12.1.1.m1.1e">italic_N = 2</annotation></semantics></math>)</span></td>
</tr></tbody>
<tbody id="A1.Ex13"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\mathbb{E}_{(x_{u},e_{p},e_{d})}\left[{\rm log}\,\sigma\left(%
\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}%
-\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{d}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})%
}\right)\right]" class="ltx_Math" display="inline" id="A1.Ex13.m1.8"><semantics id="A1.Ex13.m1.8a"><mrow id="A1.Ex13.m1.8.8" xref="A1.Ex13.m1.8.8.cmml"><mi id="A1.Ex13.m1.8.8.3" xref="A1.Ex13.m1.8.8.3.cmml"></mi><mo id="A1.Ex13.m1.8.8.2" xref="A1.Ex13.m1.8.8.2.cmml">=</mo><mrow id="A1.Ex13.m1.8.8.1" xref="A1.Ex13.m1.8.8.1.cmml"><mo id="A1.Ex13.m1.8.8.1a" xref="A1.Ex13.m1.8.8.1.cmml">âˆ’</mo><mrow id="A1.Ex13.m1.8.8.1.1" xref="A1.Ex13.m1.8.8.1.1.cmml"><msub id="A1.Ex13.m1.8.8.1.1.3" xref="A1.Ex13.m1.8.8.1.1.3.cmml"><mi id="A1.Ex13.m1.8.8.1.1.3.2" xref="A1.Ex13.m1.8.8.1.1.3.2.cmml">ğ”¼</mi><mrow id="A1.Ex13.m1.3.3.3.3" xref="A1.Ex13.m1.3.3.3.4.cmml"><mo id="A1.Ex13.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex13.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex13.m1.1.1.1.1.1" xref="A1.Ex13.m1.1.1.1.1.1.cmml"><mi id="A1.Ex13.m1.1.1.1.1.1.2" xref="A1.Ex13.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex13.m1.1.1.1.1.1.3" xref="A1.Ex13.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex13.m1.3.3.3.3.5" xref="A1.Ex13.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex13.m1.2.2.2.2.2" xref="A1.Ex13.m1.2.2.2.2.2.cmml"><mi id="A1.Ex13.m1.2.2.2.2.2.2" xref="A1.Ex13.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex13.m1.2.2.2.2.2.3" xref="A1.Ex13.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex13.m1.3.3.3.3.6" xref="A1.Ex13.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex13.m1.3.3.3.3.3" xref="A1.Ex13.m1.3.3.3.3.3.cmml"><mi id="A1.Ex13.m1.3.3.3.3.3.2" xref="A1.Ex13.m1.3.3.3.3.3.2.cmml">e</mi><mi id="A1.Ex13.m1.3.3.3.3.3.3" xref="A1.Ex13.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex13.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex13.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex13.m1.8.8.1.1.2" xref="A1.Ex13.m1.8.8.1.1.2.cmml">â¢</mo><mrow id="A1.Ex13.m1.8.8.1.1.1.1" xref="A1.Ex13.m1.8.8.1.1.1.2.cmml"><mo id="A1.Ex13.m1.8.8.1.1.1.1.2" xref="A1.Ex13.m1.8.8.1.1.1.2.1.cmml">[</mo><mrow id="A1.Ex13.m1.8.8.1.1.1.1.1" xref="A1.Ex13.m1.8.8.1.1.1.1.1.cmml"><mi id="A1.Ex13.m1.8.8.1.1.1.1.1.3" xref="A1.Ex13.m1.8.8.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex13.m1.8.8.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.Ex13.m1.8.8.1.1.1.1.1.4" xref="A1.Ex13.m1.8.8.1.1.1.1.1.4.cmml">Ïƒ</mi><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.2a" xref="A1.Ex13.m1.8.8.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.2" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mrow id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.cmml"><mi id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.2" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml">Î²</mi><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.1" lspace="0.170em" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mi id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.3.cmml">log</mi><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.1a" lspace="0.170em" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.1.cmml">â¢</mo><mstyle displaystyle="true" id="A1.Ex13.m1.5.5" xref="A1.Ex13.m1.5.5.cmml"><mfrac id="A1.Ex13.m1.5.5a" xref="A1.Ex13.m1.5.5.cmml"><mrow id="A1.Ex13.m1.4.4.1" xref="A1.Ex13.m1.4.4.1.cmml"><msub id="A1.Ex13.m1.4.4.1.3" xref="A1.Ex13.m1.4.4.1.3.cmml"><mi id="A1.Ex13.m1.4.4.1.3.2" xref="A1.Ex13.m1.4.4.1.3.2.cmml">Ï€</mi><mi id="A1.Ex13.m1.4.4.1.3.3" xref="A1.Ex13.m1.4.4.1.3.3.cmml">Î¸</mi></msub><mo id="A1.Ex13.m1.4.4.1.2" xref="A1.Ex13.m1.4.4.1.2.cmml">â¢</mo><mrow id="A1.Ex13.m1.4.4.1.1.1" xref="A1.Ex13.m1.4.4.1.1.1.1.cmml"><mo id="A1.Ex13.m1.4.4.1.1.1.2" stretchy="false" xref="A1.Ex13.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="A1.Ex13.m1.4.4.1.1.1.1" xref="A1.Ex13.m1.4.4.1.1.1.1.cmml"><msub id="A1.Ex13.m1.4.4.1.1.1.1.2" xref="A1.Ex13.m1.4.4.1.1.1.1.2.cmml"><mi id="A1.Ex13.m1.4.4.1.1.1.1.2.2" xref="A1.Ex13.m1.4.4.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex13.m1.4.4.1.1.1.1.2.3" xref="A1.Ex13.m1.4.4.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex13.m1.4.4.1.1.1.1.1" xref="A1.Ex13.m1.4.4.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex13.m1.4.4.1.1.1.1.3" xref="A1.Ex13.m1.4.4.1.1.1.1.3.cmml"><mi id="A1.Ex13.m1.4.4.1.1.1.1.3.2" xref="A1.Ex13.m1.4.4.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex13.m1.4.4.1.1.1.1.3.3" xref="A1.Ex13.m1.4.4.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex13.m1.4.4.1.1.1.3" stretchy="false" xref="A1.Ex13.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex13.m1.5.5.2" xref="A1.Ex13.m1.5.5.2.cmml"><msub id="A1.Ex13.m1.5.5.2.3" xref="A1.Ex13.m1.5.5.2.3.cmml"><mi id="A1.Ex13.m1.5.5.2.3.2" xref="A1.Ex13.m1.5.5.2.3.2.cmml">Ï€</mi><mi id="A1.Ex13.m1.5.5.2.3.3" xref="A1.Ex13.m1.5.5.2.3.3.cmml">ref</mi></msub><mo id="A1.Ex13.m1.5.5.2.2" xref="A1.Ex13.m1.5.5.2.2.cmml">â¢</mo><mrow id="A1.Ex13.m1.5.5.2.1.1" xref="A1.Ex13.m1.5.5.2.1.1.1.cmml"><mo id="A1.Ex13.m1.5.5.2.1.1.2" stretchy="false" xref="A1.Ex13.m1.5.5.2.1.1.1.cmml">(</mo><mrow id="A1.Ex13.m1.5.5.2.1.1.1" xref="A1.Ex13.m1.5.5.2.1.1.1.cmml"><msub id="A1.Ex13.m1.5.5.2.1.1.1.2" xref="A1.Ex13.m1.5.5.2.1.1.1.2.cmml"><mi id="A1.Ex13.m1.5.5.2.1.1.1.2.2" xref="A1.Ex13.m1.5.5.2.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex13.m1.5.5.2.1.1.1.2.3" xref="A1.Ex13.m1.5.5.2.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex13.m1.5.5.2.1.1.1.1" xref="A1.Ex13.m1.5.5.2.1.1.1.1.cmml">|</mo><msub id="A1.Ex13.m1.5.5.2.1.1.1.3" xref="A1.Ex13.m1.5.5.2.1.1.1.3.cmml"><mi id="A1.Ex13.m1.5.5.2.1.1.1.3.2" xref="A1.Ex13.m1.5.5.2.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex13.m1.5.5.2.1.1.1.3.3" xref="A1.Ex13.m1.5.5.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex13.m1.5.5.2.1.1.3" stretchy="false" xref="A1.Ex13.m1.5.5.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.1" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.cmml"><mi id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.2" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.2.cmml">Î²</mi><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.1" lspace="0.170em" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mi id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.3" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.3.cmml">log</mi><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.1a" lspace="0.170em" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml">â¢</mo><mstyle displaystyle="true" id="A1.Ex13.m1.7.7" xref="A1.Ex13.m1.7.7.cmml"><mfrac id="A1.Ex13.m1.7.7a" xref="A1.Ex13.m1.7.7.cmml"><mrow id="A1.Ex13.m1.6.6.1" xref="A1.Ex13.m1.6.6.1.cmml"><msub id="A1.Ex13.m1.6.6.1.3" xref="A1.Ex13.m1.6.6.1.3.cmml"><mi id="A1.Ex13.m1.6.6.1.3.2" xref="A1.Ex13.m1.6.6.1.3.2.cmml">Ï€</mi><mi id="A1.Ex13.m1.6.6.1.3.3" xref="A1.Ex13.m1.6.6.1.3.3.cmml">Î¸</mi></msub><mo id="A1.Ex13.m1.6.6.1.2" xref="A1.Ex13.m1.6.6.1.2.cmml">â¢</mo><mrow id="A1.Ex13.m1.6.6.1.1.1" xref="A1.Ex13.m1.6.6.1.1.1.1.cmml"><mo id="A1.Ex13.m1.6.6.1.1.1.2" stretchy="false" xref="A1.Ex13.m1.6.6.1.1.1.1.cmml">(</mo><mrow id="A1.Ex13.m1.6.6.1.1.1.1" xref="A1.Ex13.m1.6.6.1.1.1.1.cmml"><msub id="A1.Ex13.m1.6.6.1.1.1.1.2" xref="A1.Ex13.m1.6.6.1.1.1.1.2.cmml"><mi id="A1.Ex13.m1.6.6.1.1.1.1.2.2" xref="A1.Ex13.m1.6.6.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex13.m1.6.6.1.1.1.1.2.3" xref="A1.Ex13.m1.6.6.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex13.m1.6.6.1.1.1.1.1" xref="A1.Ex13.m1.6.6.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex13.m1.6.6.1.1.1.1.3" xref="A1.Ex13.m1.6.6.1.1.1.1.3.cmml"><mi id="A1.Ex13.m1.6.6.1.1.1.1.3.2" xref="A1.Ex13.m1.6.6.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex13.m1.6.6.1.1.1.1.3.3" xref="A1.Ex13.m1.6.6.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex13.m1.6.6.1.1.1.3" stretchy="false" xref="A1.Ex13.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex13.m1.7.7.2" xref="A1.Ex13.m1.7.7.2.cmml"><msub id="A1.Ex13.m1.7.7.2.3" xref="A1.Ex13.m1.7.7.2.3.cmml"><mi id="A1.Ex13.m1.7.7.2.3.2" xref="A1.Ex13.m1.7.7.2.3.2.cmml">Ï€</mi><mi id="A1.Ex13.m1.7.7.2.3.3" xref="A1.Ex13.m1.7.7.2.3.3.cmml">ref</mi></msub><mo id="A1.Ex13.m1.7.7.2.2" xref="A1.Ex13.m1.7.7.2.2.cmml">â¢</mo><mrow id="A1.Ex13.m1.7.7.2.1.1" xref="A1.Ex13.m1.7.7.2.1.1.1.cmml"><mo id="A1.Ex13.m1.7.7.2.1.1.2" stretchy="false" xref="A1.Ex13.m1.7.7.2.1.1.1.cmml">(</mo><mrow id="A1.Ex13.m1.7.7.2.1.1.1" xref="A1.Ex13.m1.7.7.2.1.1.1.cmml"><msub id="A1.Ex13.m1.7.7.2.1.1.1.2" xref="A1.Ex13.m1.7.7.2.1.1.1.2.cmml"><mi id="A1.Ex13.m1.7.7.2.1.1.1.2.2" xref="A1.Ex13.m1.7.7.2.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex13.m1.7.7.2.1.1.1.2.3" xref="A1.Ex13.m1.7.7.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex13.m1.7.7.2.1.1.1.1" xref="A1.Ex13.m1.7.7.2.1.1.1.1.cmml">|</mo><msub id="A1.Ex13.m1.7.7.2.1.1.1.3" xref="A1.Ex13.m1.7.7.2.1.1.1.3.cmml"><mi id="A1.Ex13.m1.7.7.2.1.1.1.3.2" xref="A1.Ex13.m1.7.7.2.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex13.m1.7.7.2.1.1.1.3.3" xref="A1.Ex13.m1.7.7.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex13.m1.7.7.2.1.1.3" stretchy="false" xref="A1.Ex13.m1.7.7.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.3" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex13.m1.8.8.1.1.1.1.3" xref="A1.Ex13.m1.8.8.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex13.m1.8b"><apply id="A1.Ex13.m1.8.8.cmml" xref="A1.Ex13.m1.8.8"><eq id="A1.Ex13.m1.8.8.2.cmml" xref="A1.Ex13.m1.8.8.2"></eq><csymbol cd="latexml" id="A1.Ex13.m1.8.8.3.cmml" xref="A1.Ex13.m1.8.8.3">absent</csymbol><apply id="A1.Ex13.m1.8.8.1.cmml" xref="A1.Ex13.m1.8.8.1"><minus id="A1.Ex13.m1.8.8.1.2.cmml" xref="A1.Ex13.m1.8.8.1"></minus><apply id="A1.Ex13.m1.8.8.1.1.cmml" xref="A1.Ex13.m1.8.8.1.1"><times id="A1.Ex13.m1.8.8.1.1.2.cmml" xref="A1.Ex13.m1.8.8.1.1.2"></times><apply id="A1.Ex13.m1.8.8.1.1.3.cmml" xref="A1.Ex13.m1.8.8.1.1.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.8.8.1.1.3.1.cmml" xref="A1.Ex13.m1.8.8.1.1.3">subscript</csymbol><ci id="A1.Ex13.m1.8.8.1.1.3.2.cmml" xref="A1.Ex13.m1.8.8.1.1.3.2">ğ”¼</ci><vector id="A1.Ex13.m1.3.3.3.4.cmml" xref="A1.Ex13.m1.3.3.3.3"><apply id="A1.Ex13.m1.1.1.1.1.1.cmml" xref="A1.Ex13.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex13.m1.1.1.1.1.1.1.cmml" xref="A1.Ex13.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex13.m1.1.1.1.1.1.2.cmml" xref="A1.Ex13.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex13.m1.1.1.1.1.1.3.cmml" xref="A1.Ex13.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex13.m1.2.2.2.2.2.cmml" xref="A1.Ex13.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex13.m1.2.2.2.2.2.1.cmml" xref="A1.Ex13.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex13.m1.2.2.2.2.2.2.cmml" xref="A1.Ex13.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex13.m1.2.2.2.2.2.3.cmml" xref="A1.Ex13.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex13.m1.3.3.3.3.3.cmml" xref="A1.Ex13.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.3.3.3.3.3.1.cmml" xref="A1.Ex13.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex13.m1.3.3.3.3.3.2.cmml" xref="A1.Ex13.m1.3.3.3.3.3.2">ğ‘’</ci><ci id="A1.Ex13.m1.3.3.3.3.3.3.cmml" xref="A1.Ex13.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex13.m1.8.8.1.1.1.2.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1"><csymbol cd="latexml" id="A1.Ex13.m1.8.8.1.1.1.2.1.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex13.m1.8.8.1.1.1.1.1.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1"><times id="A1.Ex13.m1.8.8.1.1.1.1.1.2.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.2"></times><ci id="A1.Ex13.m1.8.8.1.1.1.1.1.3.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.3">log</ci><ci id="A1.Ex13.m1.8.8.1.1.1.1.1.4.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.4">ğœ</ci><apply id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1"><minus id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.1"></minus><apply id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2"><times id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.1"></times><ci id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.2">ğ›½</ci><ci id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.2.3">log</ci><apply id="A1.Ex13.m1.5.5.cmml" xref="A1.Ex13.m1.5.5"><divide id="A1.Ex13.m1.5.5.3.cmml" xref="A1.Ex13.m1.5.5"></divide><apply id="A1.Ex13.m1.4.4.1.cmml" xref="A1.Ex13.m1.4.4.1"><times id="A1.Ex13.m1.4.4.1.2.cmml" xref="A1.Ex13.m1.4.4.1.2"></times><apply id="A1.Ex13.m1.4.4.1.3.cmml" xref="A1.Ex13.m1.4.4.1.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.4.4.1.3.1.cmml" xref="A1.Ex13.m1.4.4.1.3">subscript</csymbol><ci id="A1.Ex13.m1.4.4.1.3.2.cmml" xref="A1.Ex13.m1.4.4.1.3.2">ğœ‹</ci><ci id="A1.Ex13.m1.4.4.1.3.3.cmml" xref="A1.Ex13.m1.4.4.1.3.3">ğœƒ</ci></apply><apply id="A1.Ex13.m1.4.4.1.1.1.1.cmml" xref="A1.Ex13.m1.4.4.1.1.1"><csymbol cd="latexml" id="A1.Ex13.m1.4.4.1.1.1.1.1.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex13.m1.4.4.1.1.1.1.2.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex13.m1.4.4.1.1.1.1.2.1.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex13.m1.4.4.1.1.1.1.2.2.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex13.m1.4.4.1.1.1.1.2.3.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex13.m1.4.4.1.1.1.1.3.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.4.4.1.1.1.1.3.1.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex13.m1.4.4.1.1.1.1.3.2.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex13.m1.4.4.1.1.1.1.3.3.cmml" xref="A1.Ex13.m1.4.4.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex13.m1.5.5.2.cmml" xref="A1.Ex13.m1.5.5.2"><times id="A1.Ex13.m1.5.5.2.2.cmml" xref="A1.Ex13.m1.5.5.2.2"></times><apply id="A1.Ex13.m1.5.5.2.3.cmml" xref="A1.Ex13.m1.5.5.2.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.5.5.2.3.1.cmml" xref="A1.Ex13.m1.5.5.2.3">subscript</csymbol><ci id="A1.Ex13.m1.5.5.2.3.2.cmml" xref="A1.Ex13.m1.5.5.2.3.2">ğœ‹</ci><ci id="A1.Ex13.m1.5.5.2.3.3.cmml" xref="A1.Ex13.m1.5.5.2.3.3">ref</ci></apply><apply id="A1.Ex13.m1.5.5.2.1.1.1.cmml" xref="A1.Ex13.m1.5.5.2.1.1"><csymbol cd="latexml" id="A1.Ex13.m1.5.5.2.1.1.1.1.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.1">conditional</csymbol><apply id="A1.Ex13.m1.5.5.2.1.1.1.2.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex13.m1.5.5.2.1.1.1.2.1.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.2">subscript</csymbol><ci id="A1.Ex13.m1.5.5.2.1.1.1.2.2.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex13.m1.5.5.2.1.1.1.2.3.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex13.m1.5.5.2.1.1.1.3.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.5.5.2.1.1.1.3.1.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.3">subscript</csymbol><ci id="A1.Ex13.m1.5.5.2.1.1.1.3.2.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex13.m1.5.5.2.1.1.1.3.3.cmml" xref="A1.Ex13.m1.5.5.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3"><times id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.1"></times><ci id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.2.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.2">ğ›½</ci><ci id="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.3.cmml" xref="A1.Ex13.m1.8.8.1.1.1.1.1.1.1.1.3.3">log</ci><apply id="A1.Ex13.m1.7.7.cmml" xref="A1.Ex13.m1.7.7"><divide id="A1.Ex13.m1.7.7.3.cmml" xref="A1.Ex13.m1.7.7"></divide><apply id="A1.Ex13.m1.6.6.1.cmml" xref="A1.Ex13.m1.6.6.1"><times id="A1.Ex13.m1.6.6.1.2.cmml" xref="A1.Ex13.m1.6.6.1.2"></times><apply id="A1.Ex13.m1.6.6.1.3.cmml" xref="A1.Ex13.m1.6.6.1.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.6.6.1.3.1.cmml" xref="A1.Ex13.m1.6.6.1.3">subscript</csymbol><ci id="A1.Ex13.m1.6.6.1.3.2.cmml" xref="A1.Ex13.m1.6.6.1.3.2">ğœ‹</ci><ci id="A1.Ex13.m1.6.6.1.3.3.cmml" xref="A1.Ex13.m1.6.6.1.3.3">ğœƒ</ci></apply><apply id="A1.Ex13.m1.6.6.1.1.1.1.cmml" xref="A1.Ex13.m1.6.6.1.1.1"><csymbol cd="latexml" id="A1.Ex13.m1.6.6.1.1.1.1.1.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex13.m1.6.6.1.1.1.1.2.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex13.m1.6.6.1.1.1.1.2.1.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex13.m1.6.6.1.1.1.1.2.2.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex13.m1.6.6.1.1.1.1.2.3.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex13.m1.6.6.1.1.1.1.3.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.6.6.1.1.1.1.3.1.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex13.m1.6.6.1.1.1.1.3.2.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex13.m1.6.6.1.1.1.1.3.3.cmml" xref="A1.Ex13.m1.6.6.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex13.m1.7.7.2.cmml" xref="A1.Ex13.m1.7.7.2"><times id="A1.Ex13.m1.7.7.2.2.cmml" xref="A1.Ex13.m1.7.7.2.2"></times><apply id="A1.Ex13.m1.7.7.2.3.cmml" xref="A1.Ex13.m1.7.7.2.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.7.7.2.3.1.cmml" xref="A1.Ex13.m1.7.7.2.3">subscript</csymbol><ci id="A1.Ex13.m1.7.7.2.3.2.cmml" xref="A1.Ex13.m1.7.7.2.3.2">ğœ‹</ci><ci id="A1.Ex13.m1.7.7.2.3.3.cmml" xref="A1.Ex13.m1.7.7.2.3.3">ref</ci></apply><apply id="A1.Ex13.m1.7.7.2.1.1.1.cmml" xref="A1.Ex13.m1.7.7.2.1.1"><csymbol cd="latexml" id="A1.Ex13.m1.7.7.2.1.1.1.1.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.1">conditional</csymbol><apply id="A1.Ex13.m1.7.7.2.1.1.1.2.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex13.m1.7.7.2.1.1.1.2.1.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.2">subscript</csymbol><ci id="A1.Ex13.m1.7.7.2.1.1.1.2.2.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex13.m1.7.7.2.1.1.1.2.3.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex13.m1.7.7.2.1.1.1.3.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex13.m1.7.7.2.1.1.1.3.1.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.3">subscript</csymbol><ci id="A1.Ex13.m1.7.7.2.1.1.1.3.2.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex13.m1.7.7.2.1.1.1.3.3.cmml" xref="A1.Ex13.m1.7.7.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex13.m1.8c">\displaystyle=-\mathbb{E}_{(x_{u},e_{p},e_{d})}\left[{\rm log}\,\sigma\left(%
\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}%
-\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{d}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})%
}\right)\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex13.m1.8d">= - blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_log italic_Ïƒ ( italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG - italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\mathcal{L}_{\rm DPO}(\pi_{\theta};\pi_{\rm ref})." class="ltx_Math" display="inline" id="A1.Ex14.m1.1"><semantics id="A1.Ex14.m1.1a"><mrow id="A1.Ex14.m1.1.1.1" xref="A1.Ex14.m1.1.1.1.1.cmml"><mrow id="A1.Ex14.m1.1.1.1.1" xref="A1.Ex14.m1.1.1.1.1.cmml"><mi id="A1.Ex14.m1.1.1.1.1.4" xref="A1.Ex14.m1.1.1.1.1.4.cmml"></mi><mo id="A1.Ex14.m1.1.1.1.1.3" xref="A1.Ex14.m1.1.1.1.1.3.cmml">=</mo><mrow id="A1.Ex14.m1.1.1.1.1.2" xref="A1.Ex14.m1.1.1.1.1.2.cmml"><msub id="A1.Ex14.m1.1.1.1.1.2.4" xref="A1.Ex14.m1.1.1.1.1.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex14.m1.1.1.1.1.2.4.2" xref="A1.Ex14.m1.1.1.1.1.2.4.2.cmml">â„’</mi><mi id="A1.Ex14.m1.1.1.1.1.2.4.3" xref="A1.Ex14.m1.1.1.1.1.2.4.3.cmml">DPO</mi></msub><mo id="A1.Ex14.m1.1.1.1.1.2.3" xref="A1.Ex14.m1.1.1.1.1.2.3.cmml">â¢</mo><mrow id="A1.Ex14.m1.1.1.1.1.2.2.2" xref="A1.Ex14.m1.1.1.1.1.2.2.3.cmml"><mo id="A1.Ex14.m1.1.1.1.1.2.2.2.3" stretchy="false" xref="A1.Ex14.m1.1.1.1.1.2.2.3.cmml">(</mo><msub id="A1.Ex14.m1.1.1.1.1.1.1.1.1" xref="A1.Ex14.m1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex14.m1.1.1.1.1.1.1.1.1.2" xref="A1.Ex14.m1.1.1.1.1.1.1.1.1.2.cmml">Ï€</mi><mi id="A1.Ex14.m1.1.1.1.1.1.1.1.1.3" xref="A1.Ex14.m1.1.1.1.1.1.1.1.1.3.cmml">Î¸</mi></msub><mo id="A1.Ex14.m1.1.1.1.1.2.2.2.4" xref="A1.Ex14.m1.1.1.1.1.2.2.3.cmml">;</mo><msub id="A1.Ex14.m1.1.1.1.1.2.2.2.2" xref="A1.Ex14.m1.1.1.1.1.2.2.2.2.cmml"><mi id="A1.Ex14.m1.1.1.1.1.2.2.2.2.2" xref="A1.Ex14.m1.1.1.1.1.2.2.2.2.2.cmml">Ï€</mi><mi id="A1.Ex14.m1.1.1.1.1.2.2.2.2.3" xref="A1.Ex14.m1.1.1.1.1.2.2.2.2.3.cmml">ref</mi></msub><mo id="A1.Ex14.m1.1.1.1.1.2.2.2.5" stretchy="false" xref="A1.Ex14.m1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="A1.Ex14.m1.1.1.1.2" lspace="0em" xref="A1.Ex14.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex14.m1.1b"><apply id="A1.Ex14.m1.1.1.1.1.cmml" xref="A1.Ex14.m1.1.1.1"><eq id="A1.Ex14.m1.1.1.1.1.3.cmml" xref="A1.Ex14.m1.1.1.1.1.3"></eq><csymbol cd="latexml" id="A1.Ex14.m1.1.1.1.1.4.cmml" xref="A1.Ex14.m1.1.1.1.1.4">absent</csymbol><apply id="A1.Ex14.m1.1.1.1.1.2.cmml" xref="A1.Ex14.m1.1.1.1.1.2"><times id="A1.Ex14.m1.1.1.1.1.2.3.cmml" xref="A1.Ex14.m1.1.1.1.1.2.3"></times><apply id="A1.Ex14.m1.1.1.1.1.2.4.cmml" xref="A1.Ex14.m1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="A1.Ex14.m1.1.1.1.1.2.4.1.cmml" xref="A1.Ex14.m1.1.1.1.1.2.4">subscript</csymbol><ci id="A1.Ex14.m1.1.1.1.1.2.4.2.cmml" xref="A1.Ex14.m1.1.1.1.1.2.4.2">â„’</ci><ci id="A1.Ex14.m1.1.1.1.1.2.4.3.cmml" xref="A1.Ex14.m1.1.1.1.1.2.4.3">DPO</ci></apply><list id="A1.Ex14.m1.1.1.1.1.2.2.3.cmml" xref="A1.Ex14.m1.1.1.1.1.2.2.2"><apply id="A1.Ex14.m1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex14.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex14.m1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex14.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex14.m1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex14.m1.1.1.1.1.1.1.1.1.2">ğœ‹</ci><ci id="A1.Ex14.m1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex14.m1.1.1.1.1.1.1.1.1.3">ğœƒ</ci></apply><apply id="A1.Ex14.m1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex14.m1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex14.m1.1.1.1.1.2.2.2.2.1.cmml" xref="A1.Ex14.m1.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="A1.Ex14.m1.1.1.1.1.2.2.2.2.2.cmml" xref="A1.Ex14.m1.1.1.1.1.2.2.2.2.2">ğœ‹</ci><ci id="A1.Ex14.m1.1.1.1.1.2.2.2.2.3.cmml" xref="A1.Ex14.m1.1.1.1.1.2.2.2.2.3">ref</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex14.m1.1c">\displaystyle=\mathcal{L}_{\rm DPO}(\pi_{\theta};\pi_{\rm ref}).</annotation><annotation encoding="application/x-llamapun" id="A1.Ex14.m1.1d">= caligraphic_L start_POSTSUBSCRIPT roman_DPO end_POSTSUBSCRIPT ( italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ; italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.SS2.p1.2">Therefore, DPO is a special case of S-DPO.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Deriving the Gradient of S-DPO Loss</h3>
<div class="ltx_para" id="A1.SS3.p1">
<p class="ltx_p" id="A1.SS3.p1.1">Let <math alttext="V(\theta;e_{d})=g(e_{d},e_{p},x_{u})=\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{d%
}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{%
p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}" class="ltx_Math" display="inline" id="A1.SS3.p1.1.m1.9"><semantics id="A1.SS3.p1.1.m1.9a"><mrow id="A1.SS3.p1.1.m1.9.9" xref="A1.SS3.p1.1.m1.9.9.cmml"><mrow id="A1.SS3.p1.1.m1.6.6.1" xref="A1.SS3.p1.1.m1.6.6.1.cmml"><mi id="A1.SS3.p1.1.m1.6.6.1.3" xref="A1.SS3.p1.1.m1.6.6.1.3.cmml">V</mi><mo id="A1.SS3.p1.1.m1.6.6.1.2" xref="A1.SS3.p1.1.m1.6.6.1.2.cmml">â¢</mo><mrow id="A1.SS3.p1.1.m1.6.6.1.1.1" xref="A1.SS3.p1.1.m1.6.6.1.1.2.cmml"><mo id="A1.SS3.p1.1.m1.6.6.1.1.1.2" stretchy="false" xref="A1.SS3.p1.1.m1.6.6.1.1.2.cmml">(</mo><mi id="A1.SS3.p1.1.m1.5.5" xref="A1.SS3.p1.1.m1.5.5.cmml">Î¸</mi><mo id="A1.SS3.p1.1.m1.6.6.1.1.1.3" xref="A1.SS3.p1.1.m1.6.6.1.1.2.cmml">;</mo><msub id="A1.SS3.p1.1.m1.6.6.1.1.1.1" xref="A1.SS3.p1.1.m1.6.6.1.1.1.1.cmml"><mi id="A1.SS3.p1.1.m1.6.6.1.1.1.1.2" xref="A1.SS3.p1.1.m1.6.6.1.1.1.1.2.cmml">e</mi><mi id="A1.SS3.p1.1.m1.6.6.1.1.1.1.3" xref="A1.SS3.p1.1.m1.6.6.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.SS3.p1.1.m1.6.6.1.1.1.4" stretchy="false" xref="A1.SS3.p1.1.m1.6.6.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.SS3.p1.1.m1.9.9.6" xref="A1.SS3.p1.1.m1.9.9.6.cmml">=</mo><mrow id="A1.SS3.p1.1.m1.9.9.4" xref="A1.SS3.p1.1.m1.9.9.4.cmml"><mi id="A1.SS3.p1.1.m1.9.9.4.5" xref="A1.SS3.p1.1.m1.9.9.4.5.cmml">g</mi><mo id="A1.SS3.p1.1.m1.9.9.4.4" xref="A1.SS3.p1.1.m1.9.9.4.4.cmml">â¢</mo><mrow id="A1.SS3.p1.1.m1.9.9.4.3.3" xref="A1.SS3.p1.1.m1.9.9.4.3.4.cmml"><mo id="A1.SS3.p1.1.m1.9.9.4.3.3.4" stretchy="false" xref="A1.SS3.p1.1.m1.9.9.4.3.4.cmml">(</mo><msub id="A1.SS3.p1.1.m1.7.7.2.1.1.1" xref="A1.SS3.p1.1.m1.7.7.2.1.1.1.cmml"><mi id="A1.SS3.p1.1.m1.7.7.2.1.1.1.2" xref="A1.SS3.p1.1.m1.7.7.2.1.1.1.2.cmml">e</mi><mi id="A1.SS3.p1.1.m1.7.7.2.1.1.1.3" xref="A1.SS3.p1.1.m1.7.7.2.1.1.1.3.cmml">d</mi></msub><mo id="A1.SS3.p1.1.m1.9.9.4.3.3.5" xref="A1.SS3.p1.1.m1.9.9.4.3.4.cmml">,</mo><msub id="A1.SS3.p1.1.m1.8.8.3.2.2.2" xref="A1.SS3.p1.1.m1.8.8.3.2.2.2.cmml"><mi id="A1.SS3.p1.1.m1.8.8.3.2.2.2.2" xref="A1.SS3.p1.1.m1.8.8.3.2.2.2.2.cmml">e</mi><mi id="A1.SS3.p1.1.m1.8.8.3.2.2.2.3" xref="A1.SS3.p1.1.m1.8.8.3.2.2.2.3.cmml">p</mi></msub><mo id="A1.SS3.p1.1.m1.9.9.4.3.3.6" xref="A1.SS3.p1.1.m1.9.9.4.3.4.cmml">,</mo><msub id="A1.SS3.p1.1.m1.9.9.4.3.3.3" xref="A1.SS3.p1.1.m1.9.9.4.3.3.3.cmml"><mi id="A1.SS3.p1.1.m1.9.9.4.3.3.3.2" xref="A1.SS3.p1.1.m1.9.9.4.3.3.3.2.cmml">x</mi><mi id="A1.SS3.p1.1.m1.9.9.4.3.3.3.3" xref="A1.SS3.p1.1.m1.9.9.4.3.3.3.3.cmml">u</mi></msub><mo id="A1.SS3.p1.1.m1.9.9.4.3.3.7" stretchy="false" xref="A1.SS3.p1.1.m1.9.9.4.3.4.cmml">)</mo></mrow></mrow><mo id="A1.SS3.p1.1.m1.9.9.7" xref="A1.SS3.p1.1.m1.9.9.7.cmml">=</mo><mrow id="A1.SS3.p1.1.m1.9.9.8" xref="A1.SS3.p1.1.m1.9.9.8.cmml"><mrow id="A1.SS3.p1.1.m1.9.9.8.2" xref="A1.SS3.p1.1.m1.9.9.8.2.cmml"><mi id="A1.SS3.p1.1.m1.9.9.8.2.2" xref="A1.SS3.p1.1.m1.9.9.8.2.2.cmml">Î²</mi><mo id="A1.SS3.p1.1.m1.9.9.8.2.1" lspace="0.170em" xref="A1.SS3.p1.1.m1.9.9.8.2.1.cmml">â¢</mo><mi id="A1.SS3.p1.1.m1.9.9.8.2.3" xref="A1.SS3.p1.1.m1.9.9.8.2.3.cmml">log</mi><mo id="A1.SS3.p1.1.m1.9.9.8.2.1a" lspace="0.170em" xref="A1.SS3.p1.1.m1.9.9.8.2.1.cmml">â¢</mo><mfrac id="A1.SS3.p1.1.m1.2.2" xref="A1.SS3.p1.1.m1.2.2.cmml"><mrow id="A1.SS3.p1.1.m1.1.1.1" xref="A1.SS3.p1.1.m1.1.1.1.cmml"><msub id="A1.SS3.p1.1.m1.1.1.1.3" xref="A1.SS3.p1.1.m1.1.1.1.3.cmml"><mi id="A1.SS3.p1.1.m1.1.1.1.3.2" xref="A1.SS3.p1.1.m1.1.1.1.3.2.cmml">Ï€</mi><mi id="A1.SS3.p1.1.m1.1.1.1.3.3" xref="A1.SS3.p1.1.m1.1.1.1.3.3.cmml">Î¸</mi></msub><mo id="A1.SS3.p1.1.m1.1.1.1.2" xref="A1.SS3.p1.1.m1.1.1.1.2.cmml">â¢</mo><mrow id="A1.SS3.p1.1.m1.1.1.1.1.1" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.cmml"><mo id="A1.SS3.p1.1.m1.1.1.1.1.1.2" stretchy="false" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.SS3.p1.1.m1.1.1.1.1.1.1" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.cmml"><msub id="A1.SS3.p1.1.m1.1.1.1.1.1.1.2" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.cmml"><mi id="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.2" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.3" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.SS3.p1.1.m1.1.1.1.1.1.1.1" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.1.cmml">|</mo><msub id="A1.SS3.p1.1.m1.1.1.1.1.1.1.3" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.cmml"><mi id="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.2" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.3" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.SS3.p1.1.m1.1.1.1.1.1.3" stretchy="false" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.SS3.p1.1.m1.2.2.2" xref="A1.SS3.p1.1.m1.2.2.2.cmml"><msub id="A1.SS3.p1.1.m1.2.2.2.3" xref="A1.SS3.p1.1.m1.2.2.2.3.cmml"><mi id="A1.SS3.p1.1.m1.2.2.2.3.2" xref="A1.SS3.p1.1.m1.2.2.2.3.2.cmml">Ï€</mi><mi id="A1.SS3.p1.1.m1.2.2.2.3.3" xref="A1.SS3.p1.1.m1.2.2.2.3.3.cmml">ref</mi></msub><mo id="A1.SS3.p1.1.m1.2.2.2.2" xref="A1.SS3.p1.1.m1.2.2.2.2.cmml">â¢</mo><mrow id="A1.SS3.p1.1.m1.2.2.2.1.1" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.cmml"><mo id="A1.SS3.p1.1.m1.2.2.2.1.1.2" stretchy="false" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="A1.SS3.p1.1.m1.2.2.2.1.1.1" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.cmml"><msub id="A1.SS3.p1.1.m1.2.2.2.1.1.1.2" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.cmml"><mi id="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.2" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.2.cmml">e</mi><mi id="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.3" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.SS3.p1.1.m1.2.2.2.1.1.1.1" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.1.cmml">|</mo><msub id="A1.SS3.p1.1.m1.2.2.2.1.1.1.3" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.cmml"><mi id="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.2" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.2.cmml">x</mi><mi id="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.3" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.SS3.p1.1.m1.2.2.2.1.1.3" stretchy="false" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="A1.SS3.p1.1.m1.9.9.8.1" xref="A1.SS3.p1.1.m1.9.9.8.1.cmml">âˆ’</mo><mrow id="A1.SS3.p1.1.m1.9.9.8.3" xref="A1.SS3.p1.1.m1.9.9.8.3.cmml"><mi id="A1.SS3.p1.1.m1.9.9.8.3.2" xref="A1.SS3.p1.1.m1.9.9.8.3.2.cmml">Î²</mi><mo id="A1.SS3.p1.1.m1.9.9.8.3.1" lspace="0.170em" xref="A1.SS3.p1.1.m1.9.9.8.3.1.cmml">â¢</mo><mi id="A1.SS3.p1.1.m1.9.9.8.3.3" xref="A1.SS3.p1.1.m1.9.9.8.3.3.cmml">log</mi><mo id="A1.SS3.p1.1.m1.9.9.8.3.1a" lspace="0.170em" xref="A1.SS3.p1.1.m1.9.9.8.3.1.cmml">â¢</mo><mfrac id="A1.SS3.p1.1.m1.4.4" xref="A1.SS3.p1.1.m1.4.4.cmml"><mrow id="A1.SS3.p1.1.m1.3.3.1" xref="A1.SS3.p1.1.m1.3.3.1.cmml"><msub id="A1.SS3.p1.1.m1.3.3.1.3" xref="A1.SS3.p1.1.m1.3.3.1.3.cmml"><mi id="A1.SS3.p1.1.m1.3.3.1.3.2" xref="A1.SS3.p1.1.m1.3.3.1.3.2.cmml">Ï€</mi><mi id="A1.SS3.p1.1.m1.3.3.1.3.3" xref="A1.SS3.p1.1.m1.3.3.1.3.3.cmml">Î¸</mi></msub><mo id="A1.SS3.p1.1.m1.3.3.1.2" xref="A1.SS3.p1.1.m1.3.3.1.2.cmml">â¢</mo><mrow id="A1.SS3.p1.1.m1.3.3.1.1.1" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.cmml"><mo id="A1.SS3.p1.1.m1.3.3.1.1.1.2" stretchy="false" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="A1.SS3.p1.1.m1.3.3.1.1.1.1" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.cmml"><msub id="A1.SS3.p1.1.m1.3.3.1.1.1.1.2" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.cmml"><mi id="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.2" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.2.cmml">e</mi><mi id="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.3" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.SS3.p1.1.m1.3.3.1.1.1.1.1" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.1.cmml">|</mo><msub id="A1.SS3.p1.1.m1.3.3.1.1.1.1.3" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.cmml"><mi id="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.2" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.2.cmml">x</mi><mi id="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.3" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.SS3.p1.1.m1.3.3.1.1.1.3" stretchy="false" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.SS3.p1.1.m1.4.4.2" xref="A1.SS3.p1.1.m1.4.4.2.cmml"><msub id="A1.SS3.p1.1.m1.4.4.2.3" xref="A1.SS3.p1.1.m1.4.4.2.3.cmml"><mi id="A1.SS3.p1.1.m1.4.4.2.3.2" xref="A1.SS3.p1.1.m1.4.4.2.3.2.cmml">Ï€</mi><mi id="A1.SS3.p1.1.m1.4.4.2.3.3" xref="A1.SS3.p1.1.m1.4.4.2.3.3.cmml">ref</mi></msub><mo id="A1.SS3.p1.1.m1.4.4.2.2" xref="A1.SS3.p1.1.m1.4.4.2.2.cmml">â¢</mo><mrow id="A1.SS3.p1.1.m1.4.4.2.1.1" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.cmml"><mo id="A1.SS3.p1.1.m1.4.4.2.1.1.2" stretchy="false" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="A1.SS3.p1.1.m1.4.4.2.1.1.1" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.cmml"><msub id="A1.SS3.p1.1.m1.4.4.2.1.1.1.2" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.cmml"><mi id="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.2" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.2.cmml">e</mi><mi id="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.3" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.SS3.p1.1.m1.4.4.2.1.1.1.1" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.1.cmml">|</mo><msub id="A1.SS3.p1.1.m1.4.4.2.1.1.1.3" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.cmml"><mi id="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.2" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.2.cmml">x</mi><mi id="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.3" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.SS3.p1.1.m1.4.4.2.1.1.3" stretchy="false" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.1.m1.9b"><apply id="A1.SS3.p1.1.m1.9.9.cmml" xref="A1.SS3.p1.1.m1.9.9"><and id="A1.SS3.p1.1.m1.9.9a.cmml" xref="A1.SS3.p1.1.m1.9.9"></and><apply id="A1.SS3.p1.1.m1.9.9b.cmml" xref="A1.SS3.p1.1.m1.9.9"><eq id="A1.SS3.p1.1.m1.9.9.6.cmml" xref="A1.SS3.p1.1.m1.9.9.6"></eq><apply id="A1.SS3.p1.1.m1.6.6.1.cmml" xref="A1.SS3.p1.1.m1.6.6.1"><times id="A1.SS3.p1.1.m1.6.6.1.2.cmml" xref="A1.SS3.p1.1.m1.6.6.1.2"></times><ci id="A1.SS3.p1.1.m1.6.6.1.3.cmml" xref="A1.SS3.p1.1.m1.6.6.1.3">ğ‘‰</ci><list id="A1.SS3.p1.1.m1.6.6.1.1.2.cmml" xref="A1.SS3.p1.1.m1.6.6.1.1.1"><ci id="A1.SS3.p1.1.m1.5.5.cmml" xref="A1.SS3.p1.1.m1.5.5">ğœƒ</ci><apply id="A1.SS3.p1.1.m1.6.6.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.6.6.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.6.6.1.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.6.6.1.1.1.1">subscript</csymbol><ci id="A1.SS3.p1.1.m1.6.6.1.1.1.1.2.cmml" xref="A1.SS3.p1.1.m1.6.6.1.1.1.1.2">ğ‘’</ci><ci id="A1.SS3.p1.1.m1.6.6.1.1.1.1.3.cmml" xref="A1.SS3.p1.1.m1.6.6.1.1.1.1.3">ğ‘‘</ci></apply></list></apply><apply id="A1.SS3.p1.1.m1.9.9.4.cmml" xref="A1.SS3.p1.1.m1.9.9.4"><times id="A1.SS3.p1.1.m1.9.9.4.4.cmml" xref="A1.SS3.p1.1.m1.9.9.4.4"></times><ci id="A1.SS3.p1.1.m1.9.9.4.5.cmml" xref="A1.SS3.p1.1.m1.9.9.4.5">ğ‘”</ci><vector id="A1.SS3.p1.1.m1.9.9.4.3.4.cmml" xref="A1.SS3.p1.1.m1.9.9.4.3.3"><apply id="A1.SS3.p1.1.m1.7.7.2.1.1.1.cmml" xref="A1.SS3.p1.1.m1.7.7.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.7.7.2.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.7.7.2.1.1.1">subscript</csymbol><ci id="A1.SS3.p1.1.m1.7.7.2.1.1.1.2.cmml" xref="A1.SS3.p1.1.m1.7.7.2.1.1.1.2">ğ‘’</ci><ci id="A1.SS3.p1.1.m1.7.7.2.1.1.1.3.cmml" xref="A1.SS3.p1.1.m1.7.7.2.1.1.1.3">ğ‘‘</ci></apply><apply id="A1.SS3.p1.1.m1.8.8.3.2.2.2.cmml" xref="A1.SS3.p1.1.m1.8.8.3.2.2.2"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.8.8.3.2.2.2.1.cmml" xref="A1.SS3.p1.1.m1.8.8.3.2.2.2">subscript</csymbol><ci id="A1.SS3.p1.1.m1.8.8.3.2.2.2.2.cmml" xref="A1.SS3.p1.1.m1.8.8.3.2.2.2.2">ğ‘’</ci><ci id="A1.SS3.p1.1.m1.8.8.3.2.2.2.3.cmml" xref="A1.SS3.p1.1.m1.8.8.3.2.2.2.3">ğ‘</ci></apply><apply id="A1.SS3.p1.1.m1.9.9.4.3.3.3.cmml" xref="A1.SS3.p1.1.m1.9.9.4.3.3.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.9.9.4.3.3.3.1.cmml" xref="A1.SS3.p1.1.m1.9.9.4.3.3.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.9.9.4.3.3.3.2.cmml" xref="A1.SS3.p1.1.m1.9.9.4.3.3.3.2">ğ‘¥</ci><ci id="A1.SS3.p1.1.m1.9.9.4.3.3.3.3.cmml" xref="A1.SS3.p1.1.m1.9.9.4.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply><apply id="A1.SS3.p1.1.m1.9.9c.cmml" xref="A1.SS3.p1.1.m1.9.9"><eq id="A1.SS3.p1.1.m1.9.9.7.cmml" xref="A1.SS3.p1.1.m1.9.9.7"></eq><share href="https://arxiv.org/html/2406.09215v2#A1.SS3.p1.1.m1.9.9.4.cmml" id="A1.SS3.p1.1.m1.9.9d.cmml" xref="A1.SS3.p1.1.m1.9.9"></share><apply id="A1.SS3.p1.1.m1.9.9.8.cmml" xref="A1.SS3.p1.1.m1.9.9.8"><minus id="A1.SS3.p1.1.m1.9.9.8.1.cmml" xref="A1.SS3.p1.1.m1.9.9.8.1"></minus><apply id="A1.SS3.p1.1.m1.9.9.8.2.cmml" xref="A1.SS3.p1.1.m1.9.9.8.2"><times id="A1.SS3.p1.1.m1.9.9.8.2.1.cmml" xref="A1.SS3.p1.1.m1.9.9.8.2.1"></times><ci id="A1.SS3.p1.1.m1.9.9.8.2.2.cmml" xref="A1.SS3.p1.1.m1.9.9.8.2.2">ğ›½</ci><ci id="A1.SS3.p1.1.m1.9.9.8.2.3.cmml" xref="A1.SS3.p1.1.m1.9.9.8.2.3">log</ci><apply id="A1.SS3.p1.1.m1.2.2.cmml" xref="A1.SS3.p1.1.m1.2.2"><divide id="A1.SS3.p1.1.m1.2.2.3.cmml" xref="A1.SS3.p1.1.m1.2.2"></divide><apply id="A1.SS3.p1.1.m1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.1.1.1"><times id="A1.SS3.p1.1.m1.1.1.1.2.cmml" xref="A1.SS3.p1.1.m1.1.1.1.2"></times><apply id="A1.SS3.p1.1.m1.1.1.1.3.cmml" xref="A1.SS3.p1.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.1.1.1.3.1.cmml" xref="A1.SS3.p1.1.m1.1.1.1.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.1.1.1.3.2.cmml" xref="A1.SS3.p1.1.m1.1.1.1.3.2">ğœ‹</ci><ci id="A1.SS3.p1.1.m1.1.1.1.3.3.cmml" xref="A1.SS3.p1.1.m1.1.1.1.3.3">ğœƒ</ci></apply><apply id="A1.SS3.p1.1.m1.1.1.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="A1.SS3.p1.1.m1.1.1.1.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.1.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.2.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.3.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.1.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.2.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.3.cmml" xref="A1.SS3.p1.1.m1.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.SS3.p1.1.m1.2.2.2.cmml" xref="A1.SS3.p1.1.m1.2.2.2"><times id="A1.SS3.p1.1.m1.2.2.2.2.cmml" xref="A1.SS3.p1.1.m1.2.2.2.2"></times><apply id="A1.SS3.p1.1.m1.2.2.2.3.cmml" xref="A1.SS3.p1.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.2.2.2.3.1.cmml" xref="A1.SS3.p1.1.m1.2.2.2.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.2.2.2.3.2.cmml" xref="A1.SS3.p1.1.m1.2.2.2.3.2">ğœ‹</ci><ci id="A1.SS3.p1.1.m1.2.2.2.3.3.cmml" xref="A1.SS3.p1.1.m1.2.2.2.3.3">ref</ci></apply><apply id="A1.SS3.p1.1.m1.2.2.2.1.1.1.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="A1.SS3.p1.1.m1.2.2.2.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.1.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.2.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.3.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.1.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.2.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.3.cmml" xref="A1.SS3.p1.1.m1.2.2.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply><apply id="A1.SS3.p1.1.m1.9.9.8.3.cmml" xref="A1.SS3.p1.1.m1.9.9.8.3"><times id="A1.SS3.p1.1.m1.9.9.8.3.1.cmml" xref="A1.SS3.p1.1.m1.9.9.8.3.1"></times><ci id="A1.SS3.p1.1.m1.9.9.8.3.2.cmml" xref="A1.SS3.p1.1.m1.9.9.8.3.2">ğ›½</ci><ci id="A1.SS3.p1.1.m1.9.9.8.3.3.cmml" xref="A1.SS3.p1.1.m1.9.9.8.3.3">log</ci><apply id="A1.SS3.p1.1.m1.4.4.cmml" xref="A1.SS3.p1.1.m1.4.4"><divide id="A1.SS3.p1.1.m1.4.4.3.cmml" xref="A1.SS3.p1.1.m1.4.4"></divide><apply id="A1.SS3.p1.1.m1.3.3.1.cmml" xref="A1.SS3.p1.1.m1.3.3.1"><times id="A1.SS3.p1.1.m1.3.3.1.2.cmml" xref="A1.SS3.p1.1.m1.3.3.1.2"></times><apply id="A1.SS3.p1.1.m1.3.3.1.3.cmml" xref="A1.SS3.p1.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.3.3.1.3.1.cmml" xref="A1.SS3.p1.1.m1.3.3.1.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.3.3.1.3.2.cmml" xref="A1.SS3.p1.1.m1.3.3.1.3.2">ğœ‹</ci><ci id="A1.SS3.p1.1.m1.3.3.1.3.3.cmml" xref="A1.SS3.p1.1.m1.3.3.1.3.3">ğœƒ</ci></apply><apply id="A1.SS3.p1.1.m1.3.3.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="A1.SS3.p1.1.m1.3.3.1.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.1.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.2.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.3.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.1.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.2.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.3.cmml" xref="A1.SS3.p1.1.m1.3.3.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.SS3.p1.1.m1.4.4.2.cmml" xref="A1.SS3.p1.1.m1.4.4.2"><times id="A1.SS3.p1.1.m1.4.4.2.2.cmml" xref="A1.SS3.p1.1.m1.4.4.2.2"></times><apply id="A1.SS3.p1.1.m1.4.4.2.3.cmml" xref="A1.SS3.p1.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.4.4.2.3.1.cmml" xref="A1.SS3.p1.1.m1.4.4.2.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.4.4.2.3.2.cmml" xref="A1.SS3.p1.1.m1.4.4.2.3.2">ğœ‹</ci><ci id="A1.SS3.p1.1.m1.4.4.2.3.3.cmml" xref="A1.SS3.p1.1.m1.4.4.2.3.3">ref</ci></apply><apply id="A1.SS3.p1.1.m1.4.4.2.1.1.1.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="A1.SS3.p1.1.m1.4.4.2.1.1.1.1.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.1.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.2.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.3.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.1.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.3">subscript</csymbol><ci id="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.2.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.3.cmml" xref="A1.SS3.p1.1.m1.4.4.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.1.m1.9c">V(\theta;e_{d})=g(e_{d},e_{p},x_{u})=\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{d%
}|x_{u})}{\pi_{\rm ref}(e_{d}|x_{u})}-\beta\,{\rm log}\,\frac{\pi_{\theta}(e_{%
p}|x_{u})}{\pi_{\rm ref}(e_{p}|x_{u})}</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p1.1.m1.9d">italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) = italic_g ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) = italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG - italic_Î² roman_log divide start_ARG italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math> and the S-DPO loss takes the following form:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx19">
<tbody id="A1.Ex15"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})" class="ltx_Math" display="inline" id="A1.Ex15.m1.2"><semantics id="A1.Ex15.m1.2a"><mrow id="A1.Ex15.m1.2.2" xref="A1.Ex15.m1.2.2.cmml"><msub id="A1.Ex15.m1.2.2.4" xref="A1.Ex15.m1.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex15.m1.2.2.4.2" xref="A1.Ex15.m1.2.2.4.2.cmml">â„’</mi><mrow id="A1.Ex15.m1.2.2.4.3" xref="A1.Ex15.m1.2.2.4.3.cmml"><mi id="A1.Ex15.m1.2.2.4.3.2" mathvariant="normal" xref="A1.Ex15.m1.2.2.4.3.2.cmml">S</mi><mo id="A1.Ex15.m1.2.2.4.3.1" xref="A1.Ex15.m1.2.2.4.3.1.cmml">âˆ’</mo><mi id="A1.Ex15.m1.2.2.4.3.3" xref="A1.Ex15.m1.2.2.4.3.3.cmml">DPO</mi></mrow></msub><mo id="A1.Ex15.m1.2.2.3" xref="A1.Ex15.m1.2.2.3.cmml">â¢</mo><mrow id="A1.Ex15.m1.2.2.2.2" xref="A1.Ex15.m1.2.2.2.3.cmml"><mo id="A1.Ex15.m1.2.2.2.2.3" stretchy="false" xref="A1.Ex15.m1.2.2.2.3.cmml">(</mo><msub id="A1.Ex15.m1.1.1.1.1.1" xref="A1.Ex15.m1.1.1.1.1.1.cmml"><mi id="A1.Ex15.m1.1.1.1.1.1.2" xref="A1.Ex15.m1.1.1.1.1.1.2.cmml">Ï€</mi><mi id="A1.Ex15.m1.1.1.1.1.1.3" xref="A1.Ex15.m1.1.1.1.1.1.3.cmml">Î¸</mi></msub><mo id="A1.Ex15.m1.2.2.2.2.4" xref="A1.Ex15.m1.2.2.2.3.cmml">;</mo><msub id="A1.Ex15.m1.2.2.2.2.2" xref="A1.Ex15.m1.2.2.2.2.2.cmml"><mi id="A1.Ex15.m1.2.2.2.2.2.2" xref="A1.Ex15.m1.2.2.2.2.2.2.cmml">Ï€</mi><mi id="A1.Ex15.m1.2.2.2.2.2.3" xref="A1.Ex15.m1.2.2.2.2.2.3.cmml">ref</mi></msub><mo id="A1.Ex15.m1.2.2.2.2.5" stretchy="false" xref="A1.Ex15.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex15.m1.2b"><apply id="A1.Ex15.m1.2.2.cmml" xref="A1.Ex15.m1.2.2"><times id="A1.Ex15.m1.2.2.3.cmml" xref="A1.Ex15.m1.2.2.3"></times><apply id="A1.Ex15.m1.2.2.4.cmml" xref="A1.Ex15.m1.2.2.4"><csymbol cd="ambiguous" id="A1.Ex15.m1.2.2.4.1.cmml" xref="A1.Ex15.m1.2.2.4">subscript</csymbol><ci id="A1.Ex15.m1.2.2.4.2.cmml" xref="A1.Ex15.m1.2.2.4.2">â„’</ci><apply id="A1.Ex15.m1.2.2.4.3.cmml" xref="A1.Ex15.m1.2.2.4.3"><minus id="A1.Ex15.m1.2.2.4.3.1.cmml" xref="A1.Ex15.m1.2.2.4.3.1"></minus><ci id="A1.Ex15.m1.2.2.4.3.2.cmml" xref="A1.Ex15.m1.2.2.4.3.2">S</ci><ci id="A1.Ex15.m1.2.2.4.3.3.cmml" xref="A1.Ex15.m1.2.2.4.3.3">DPO</ci></apply></apply><list id="A1.Ex15.m1.2.2.2.3.cmml" xref="A1.Ex15.m1.2.2.2.2"><apply id="A1.Ex15.m1.1.1.1.1.1.cmml" xref="A1.Ex15.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex15.m1.1.1.1.1.1.1.cmml" xref="A1.Ex15.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex15.m1.1.1.1.1.1.2.cmml" xref="A1.Ex15.m1.1.1.1.1.1.2">ğœ‹</ci><ci id="A1.Ex15.m1.1.1.1.1.1.3.cmml" xref="A1.Ex15.m1.1.1.1.1.1.3">ğœƒ</ci></apply><apply id="A1.Ex15.m1.2.2.2.2.2.cmml" xref="A1.Ex15.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex15.m1.2.2.2.2.2.1.cmml" xref="A1.Ex15.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex15.m1.2.2.2.2.2.2.cmml" xref="A1.Ex15.m1.2.2.2.2.2.2">ğœ‹</ci><ci id="A1.Ex15.m1.2.2.2.2.2.3.cmml" xref="A1.Ex15.m1.2.2.2.2.2.3">ref</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex15.m1.2c">\displaystyle\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})</annotation><annotation encoding="application/x-llamapun" id="A1.Ex15.m1.2d">caligraphic_L start_POSTSUBSCRIPT roman_S - roman_DPO end_POSTSUBSCRIPT ( italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ; italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.E15"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[{\rm log}\,%
\sigma\left(-{\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}%
))\right)\right]" class="ltx_Math" display="inline" id="A1.E15.m1.5"><semantics id="A1.E15.m1.5a"><mrow id="A1.E15.m1.5.5" xref="A1.E15.m1.5.5.cmml"><mi id="A1.E15.m1.5.5.3" xref="A1.E15.m1.5.5.3.cmml"></mi><mo id="A1.E15.m1.5.5.2" xref="A1.E15.m1.5.5.2.cmml">=</mo><mrow id="A1.E15.m1.5.5.1" xref="A1.E15.m1.5.5.1.cmml"><mo id="A1.E15.m1.5.5.1a" xref="A1.E15.m1.5.5.1.cmml">âˆ’</mo><mrow id="A1.E15.m1.5.5.1.1" xref="A1.E15.m1.5.5.1.1.cmml"><msub id="A1.E15.m1.5.5.1.1.3" xref="A1.E15.m1.5.5.1.1.3.cmml"><mi id="A1.E15.m1.5.5.1.1.3.2" xref="A1.E15.m1.5.5.1.1.3.2.cmml">ğ”¼</mi><mrow id="A1.E15.m1.3.3.3.3" xref="A1.E15.m1.3.3.3.4.cmml"><mo id="A1.E15.m1.3.3.3.3.4" stretchy="false" xref="A1.E15.m1.3.3.3.4.cmml">(</mo><msub id="A1.E15.m1.1.1.1.1.1" xref="A1.E15.m1.1.1.1.1.1.cmml"><mi id="A1.E15.m1.1.1.1.1.1.2" xref="A1.E15.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.E15.m1.1.1.1.1.1.3" xref="A1.E15.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.E15.m1.3.3.3.3.5" xref="A1.E15.m1.3.3.3.4.cmml">,</mo><msub id="A1.E15.m1.2.2.2.2.2" xref="A1.E15.m1.2.2.2.2.2.cmml"><mi id="A1.E15.m1.2.2.2.2.2.2" xref="A1.E15.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.E15.m1.2.2.2.2.2.3" xref="A1.E15.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.E15.m1.3.3.3.3.6" xref="A1.E15.m1.3.3.3.4.cmml">,</mo><msub id="A1.E15.m1.3.3.3.3.3" xref="A1.E15.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E15.m1.3.3.3.3.3.2" xref="A1.E15.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="A1.E15.m1.3.3.3.3.3.3" xref="A1.E15.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.E15.m1.3.3.3.3.7" stretchy="false" xref="A1.E15.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.E15.m1.5.5.1.1.2" xref="A1.E15.m1.5.5.1.1.2.cmml">â¢</mo><mrow id="A1.E15.m1.5.5.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.2.cmml"><mo id="A1.E15.m1.5.5.1.1.1.1.2" xref="A1.E15.m1.5.5.1.1.1.2.1.cmml">[</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.cmml"><mi id="A1.E15.m1.5.5.1.1.1.1.1.3" xref="A1.E15.m1.5.5.1.1.1.1.1.3.cmml">log</mi><mo id="A1.E15.m1.5.5.1.1.1.1.1.2" lspace="0.170em" xref="A1.E15.m1.5.5.1.1.1.1.1.2.cmml">â¢</mo><mi id="A1.E15.m1.5.5.1.1.1.1.1.4" xref="A1.E15.m1.5.5.1.1.1.1.1.4.cmml">Ïƒ</mi><mo id="A1.E15.m1.5.5.1.1.1.1.1.2a" xref="A1.E15.m1.5.5.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.2" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1a" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2a" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">V</mi><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="A1.E15.m1.4.4" xref="A1.E15.m1.4.4.cmml">Î¸</mi><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">;</mo><msub id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="A1.E15.m1.5.5.1.1.1.1.1.1.1.3" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.E15.m1.5.5.1.1.1.1.3" xref="A1.E15.m1.5.5.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.E15.m1.5b"><apply id="A1.E15.m1.5.5.cmml" xref="A1.E15.m1.5.5"><eq id="A1.E15.m1.5.5.2.cmml" xref="A1.E15.m1.5.5.2"></eq><csymbol cd="latexml" id="A1.E15.m1.5.5.3.cmml" xref="A1.E15.m1.5.5.3">absent</csymbol><apply id="A1.E15.m1.5.5.1.cmml" xref="A1.E15.m1.5.5.1"><minus id="A1.E15.m1.5.5.1.2.cmml" xref="A1.E15.m1.5.5.1"></minus><apply id="A1.E15.m1.5.5.1.1.cmml" xref="A1.E15.m1.5.5.1.1"><times id="A1.E15.m1.5.5.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.2"></times><apply id="A1.E15.m1.5.5.1.1.3.cmml" xref="A1.E15.m1.5.5.1.1.3"><csymbol cd="ambiguous" id="A1.E15.m1.5.5.1.1.3.1.cmml" xref="A1.E15.m1.5.5.1.1.3">subscript</csymbol><ci id="A1.E15.m1.5.5.1.1.3.2.cmml" xref="A1.E15.m1.5.5.1.1.3.2">ğ”¼</ci><vector id="A1.E15.m1.3.3.3.4.cmml" xref="A1.E15.m1.3.3.3.3"><apply id="A1.E15.m1.1.1.1.1.1.cmml" xref="A1.E15.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E15.m1.1.1.1.1.1.1.cmml" xref="A1.E15.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.E15.m1.1.1.1.1.1.2.cmml" xref="A1.E15.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.E15.m1.1.1.1.1.1.3.cmml" xref="A1.E15.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.E15.m1.2.2.2.2.2.cmml" xref="A1.E15.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.E15.m1.2.2.2.2.2.1.cmml" xref="A1.E15.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.E15.m1.2.2.2.2.2.2.cmml" xref="A1.E15.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.E15.m1.2.2.2.2.2.3.cmml" xref="A1.E15.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.E15.m1.3.3.3.3.3.cmml" xref="A1.E15.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.E15.m1.3.3.3.3.3.1.cmml" xref="A1.E15.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.E15.m1.3.3.3.3.3.2.cmml" xref="A1.E15.m1.3.3.3.3.3.2">â„°</ci><ci id="A1.E15.m1.3.3.3.3.3.3.cmml" xref="A1.E15.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.E15.m1.5.5.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1"><csymbol cd="latexml" id="A1.E15.m1.5.5.1.1.1.2.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.2">delimited-[]</csymbol><apply id="A1.E15.m1.5.5.1.1.1.1.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1"><times id="A1.E15.m1.5.5.1.1.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.2"></times><ci id="A1.E15.m1.5.5.1.1.1.1.1.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.3">log</ci><ci id="A1.E15.m1.5.5.1.1.1.1.1.4.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.4">ğœ</ci><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1"><minus id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1"></minus><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1"><times id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.3">log</ci><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1"><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3"><in id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‰</ci><list id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="A1.E15.m1.4.4.cmml" xref="A1.E15.m1.4.4">ğœƒ</ci><apply id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.E15.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E15.m1.5c">\displaystyle=-\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[{\rm log}\,%
\sigma\left(-{\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}%
))\right)\right]</annotation><annotation encoding="application/x-llamapun" id="A1.E15.m1.5d">= - blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ roman_log italic_Ïƒ ( - roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.SS3.p1.2">The gradient of <math alttext="V(\theta;e_{d})" class="ltx_Math" display="inline" id="A1.SS3.p1.2.m1.2"><semantics id="A1.SS3.p1.2.m1.2a"><mrow id="A1.SS3.p1.2.m1.2.2" xref="A1.SS3.p1.2.m1.2.2.cmml"><mi id="A1.SS3.p1.2.m1.2.2.3" xref="A1.SS3.p1.2.m1.2.2.3.cmml">V</mi><mo id="A1.SS3.p1.2.m1.2.2.2" xref="A1.SS3.p1.2.m1.2.2.2.cmml">â¢</mo><mrow id="A1.SS3.p1.2.m1.2.2.1.1" xref="A1.SS3.p1.2.m1.2.2.1.2.cmml"><mo id="A1.SS3.p1.2.m1.2.2.1.1.2" stretchy="false" xref="A1.SS3.p1.2.m1.2.2.1.2.cmml">(</mo><mi id="A1.SS3.p1.2.m1.1.1" xref="A1.SS3.p1.2.m1.1.1.cmml">Î¸</mi><mo id="A1.SS3.p1.2.m1.2.2.1.1.3" xref="A1.SS3.p1.2.m1.2.2.1.2.cmml">;</mo><msub id="A1.SS3.p1.2.m1.2.2.1.1.1" xref="A1.SS3.p1.2.m1.2.2.1.1.1.cmml"><mi id="A1.SS3.p1.2.m1.2.2.1.1.1.2" xref="A1.SS3.p1.2.m1.2.2.1.1.1.2.cmml">e</mi><mi id="A1.SS3.p1.2.m1.2.2.1.1.1.3" xref="A1.SS3.p1.2.m1.2.2.1.1.1.3.cmml">d</mi></msub><mo id="A1.SS3.p1.2.m1.2.2.1.1.4" stretchy="false" xref="A1.SS3.p1.2.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.2.m1.2b"><apply id="A1.SS3.p1.2.m1.2.2.cmml" xref="A1.SS3.p1.2.m1.2.2"><times id="A1.SS3.p1.2.m1.2.2.2.cmml" xref="A1.SS3.p1.2.m1.2.2.2"></times><ci id="A1.SS3.p1.2.m1.2.2.3.cmml" xref="A1.SS3.p1.2.m1.2.2.3">ğ‘‰</ci><list id="A1.SS3.p1.2.m1.2.2.1.2.cmml" xref="A1.SS3.p1.2.m1.2.2.1.1"><ci id="A1.SS3.p1.2.m1.1.1.cmml" xref="A1.SS3.p1.2.m1.1.1">ğœƒ</ci><apply id="A1.SS3.p1.2.m1.2.2.1.1.1.cmml" xref="A1.SS3.p1.2.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.p1.2.m1.2.2.1.1.1.1.cmml" xref="A1.SS3.p1.2.m1.2.2.1.1.1">subscript</csymbol><ci id="A1.SS3.p1.2.m1.2.2.1.1.1.2.cmml" xref="A1.SS3.p1.2.m1.2.2.1.1.1.2">ğ‘’</ci><ci id="A1.SS3.p1.2.m1.2.2.1.1.1.3.cmml" xref="A1.SS3.p1.2.m1.2.2.1.1.1.3">ğ‘‘</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.2.m1.2c">V(\theta;e_{d})</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p1.2.m1.2d">italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math> can be formulated as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx20">
<tbody id="A1.E16"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\nabla_{\theta}\,V(\theta;e_{d})=\beta(\nabla_{\theta}\,{\rm log}%
\,\pi_{\theta}(e_{d}|x_{u})-\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{p}|x_{%
u}))" class="ltx_Math" display="inline" id="A1.E16.m1.3"><semantics id="A1.E16.m1.3a"><mrow id="A1.E16.m1.3.3" xref="A1.E16.m1.3.3.cmml"><mrow id="A1.E16.m1.2.2.1" xref="A1.E16.m1.2.2.1.cmml"><mrow id="A1.E16.m1.2.2.1.3" xref="A1.E16.m1.2.2.1.3.cmml"><msub id="A1.E16.m1.2.2.1.3.1" xref="A1.E16.m1.2.2.1.3.1.cmml"><mo id="A1.E16.m1.2.2.1.3.1.2" xref="A1.E16.m1.2.2.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.E16.m1.2.2.1.3.1.3" xref="A1.E16.m1.2.2.1.3.1.3.cmml">Î¸</mi></msub><mi id="A1.E16.m1.2.2.1.3.2" xref="A1.E16.m1.2.2.1.3.2.cmml">V</mi></mrow><mo id="A1.E16.m1.2.2.1.2" xref="A1.E16.m1.2.2.1.2.cmml">â¢</mo><mrow id="A1.E16.m1.2.2.1.1.1" xref="A1.E16.m1.2.2.1.1.2.cmml"><mo id="A1.E16.m1.2.2.1.1.1.2" stretchy="false" xref="A1.E16.m1.2.2.1.1.2.cmml">(</mo><mi id="A1.E16.m1.1.1" xref="A1.E16.m1.1.1.cmml">Î¸</mi><mo id="A1.E16.m1.2.2.1.1.1.3" xref="A1.E16.m1.2.2.1.1.2.cmml">;</mo><msub id="A1.E16.m1.2.2.1.1.1.1" xref="A1.E16.m1.2.2.1.1.1.1.cmml"><mi id="A1.E16.m1.2.2.1.1.1.1.2" xref="A1.E16.m1.2.2.1.1.1.1.2.cmml">e</mi><mi id="A1.E16.m1.2.2.1.1.1.1.3" xref="A1.E16.m1.2.2.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.E16.m1.2.2.1.1.1.4" stretchy="false" xref="A1.E16.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.E16.m1.3.3.3" xref="A1.E16.m1.3.3.3.cmml">=</mo><mrow id="A1.E16.m1.3.3.2" xref="A1.E16.m1.3.3.2.cmml"><mi id="A1.E16.m1.3.3.2.3" xref="A1.E16.m1.3.3.2.3.cmml">Î²</mi><mo id="A1.E16.m1.3.3.2.2" xref="A1.E16.m1.3.3.2.2.cmml">â¢</mo><mrow id="A1.E16.m1.3.3.2.1.1" xref="A1.E16.m1.3.3.2.1.1.1.cmml"><mo id="A1.E16.m1.3.3.2.1.1.2" stretchy="false" xref="A1.E16.m1.3.3.2.1.1.1.cmml">(</mo><mrow id="A1.E16.m1.3.3.2.1.1.1" xref="A1.E16.m1.3.3.2.1.1.1.cmml"><mrow id="A1.E16.m1.3.3.2.1.1.1.1" xref="A1.E16.m1.3.3.2.1.1.1.1.cmml"><mrow id="A1.E16.m1.3.3.2.1.1.1.1.3" xref="A1.E16.m1.3.3.2.1.1.1.1.3.cmml"><msub id="A1.E16.m1.3.3.2.1.1.1.1.3.1" xref="A1.E16.m1.3.3.2.1.1.1.1.3.1.cmml"><mo id="A1.E16.m1.3.3.2.1.1.1.1.3.1.2" rspace="0.167em" xref="A1.E16.m1.3.3.2.1.1.1.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.E16.m1.3.3.2.1.1.1.1.3.1.3" xref="A1.E16.m1.3.3.2.1.1.1.1.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.E16.m1.3.3.2.1.1.1.1.3.2" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.cmml"><mi id="A1.E16.m1.3.3.2.1.1.1.1.3.2.2" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.2.cmml">log</mi><mo id="A1.E16.m1.3.3.2.1.1.1.1.3.2.1" lspace="0.170em" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.1.cmml">â¢</mo><msub id="A1.E16.m1.3.3.2.1.1.1.1.3.2.3" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.cmml"><mi id="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.2" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.2.cmml">Ï€</mi><mi id="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.3" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="A1.E16.m1.3.3.2.1.1.1.1.2" xref="A1.E16.m1.3.3.2.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.E16.m1.3.3.2.1.1.1.1.1.1" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.cmml"><mo id="A1.E16.m1.3.3.2.1.1.1.1.1.1.2" stretchy="false" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.cmml"><msub id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.cmml"><mi id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.2" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.3" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.1" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.1.cmml">|</mo><msub id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.cmml"><mi id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.2" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.3" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.E16.m1.3.3.2.1.1.1.1.1.1.3" stretchy="false" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.E16.m1.3.3.2.1.1.1.3" xref="A1.E16.m1.3.3.2.1.1.1.3.cmml">âˆ’</mo><mrow id="A1.E16.m1.3.3.2.1.1.1.2" xref="A1.E16.m1.3.3.2.1.1.1.2.cmml"><mrow id="A1.E16.m1.3.3.2.1.1.1.2.3" xref="A1.E16.m1.3.3.2.1.1.1.2.3.cmml"><msub id="A1.E16.m1.3.3.2.1.1.1.2.3.1" xref="A1.E16.m1.3.3.2.1.1.1.2.3.1.cmml"><mo id="A1.E16.m1.3.3.2.1.1.1.2.3.1.2" rspace="0.167em" xref="A1.E16.m1.3.3.2.1.1.1.2.3.1.2.cmml">âˆ‡</mo><mi id="A1.E16.m1.3.3.2.1.1.1.2.3.1.3" xref="A1.E16.m1.3.3.2.1.1.1.2.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.E16.m1.3.3.2.1.1.1.2.3.2" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.cmml"><mi id="A1.E16.m1.3.3.2.1.1.1.2.3.2.2" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.2.cmml">log</mi><mo id="A1.E16.m1.3.3.2.1.1.1.2.3.2.1" lspace="0.170em" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.1.cmml">â¢</mo><msub id="A1.E16.m1.3.3.2.1.1.1.2.3.2.3" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.cmml"><mi id="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.2" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.2.cmml">Ï€</mi><mi id="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.3" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="A1.E16.m1.3.3.2.1.1.1.2.2" xref="A1.E16.m1.3.3.2.1.1.1.2.2.cmml">â¢</mo><mrow id="A1.E16.m1.3.3.2.1.1.1.2.1.1" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.cmml"><mo id="A1.E16.m1.3.3.2.1.1.1.2.1.1.2" stretchy="false" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.cmml">(</mo><mrow id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.cmml"><msub id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.cmml"><mi id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.2" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.2.cmml">e</mi><mi id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.3" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.1" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.1.cmml">|</mo><msub id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.cmml"><mi id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.2" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.2.cmml">x</mi><mi id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.3" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.E16.m1.3.3.2.1.1.1.2.1.1.3" stretchy="false" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A1.E16.m1.3.3.2.1.1.3" stretchy="false" xref="A1.E16.m1.3.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.E16.m1.3b"><apply id="A1.E16.m1.3.3.cmml" xref="A1.E16.m1.3.3"><eq id="A1.E16.m1.3.3.3.cmml" xref="A1.E16.m1.3.3.3"></eq><apply id="A1.E16.m1.2.2.1.cmml" xref="A1.E16.m1.2.2.1"><times id="A1.E16.m1.2.2.1.2.cmml" xref="A1.E16.m1.2.2.1.2"></times><apply id="A1.E16.m1.2.2.1.3.cmml" xref="A1.E16.m1.2.2.1.3"><apply id="A1.E16.m1.2.2.1.3.1.cmml" xref="A1.E16.m1.2.2.1.3.1"><csymbol cd="ambiguous" id="A1.E16.m1.2.2.1.3.1.1.cmml" xref="A1.E16.m1.2.2.1.3.1">subscript</csymbol><ci id="A1.E16.m1.2.2.1.3.1.2.cmml" xref="A1.E16.m1.2.2.1.3.1.2">âˆ‡</ci><ci id="A1.E16.m1.2.2.1.3.1.3.cmml" xref="A1.E16.m1.2.2.1.3.1.3">ğœƒ</ci></apply><ci id="A1.E16.m1.2.2.1.3.2.cmml" xref="A1.E16.m1.2.2.1.3.2">ğ‘‰</ci></apply><list id="A1.E16.m1.2.2.1.1.2.cmml" xref="A1.E16.m1.2.2.1.1.1"><ci id="A1.E16.m1.1.1.cmml" xref="A1.E16.m1.1.1">ğœƒ</ci><apply id="A1.E16.m1.2.2.1.1.1.1.cmml" xref="A1.E16.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="A1.E16.m1.2.2.1.1.1.1.1.cmml" xref="A1.E16.m1.2.2.1.1.1.1">subscript</csymbol><ci id="A1.E16.m1.2.2.1.1.1.1.2.cmml" xref="A1.E16.m1.2.2.1.1.1.1.2">ğ‘’</ci><ci id="A1.E16.m1.2.2.1.1.1.1.3.cmml" xref="A1.E16.m1.2.2.1.1.1.1.3">ğ‘‘</ci></apply></list></apply><apply id="A1.E16.m1.3.3.2.cmml" xref="A1.E16.m1.3.3.2"><times id="A1.E16.m1.3.3.2.2.cmml" xref="A1.E16.m1.3.3.2.2"></times><ci id="A1.E16.m1.3.3.2.3.cmml" xref="A1.E16.m1.3.3.2.3">ğ›½</ci><apply id="A1.E16.m1.3.3.2.1.1.1.cmml" xref="A1.E16.m1.3.3.2.1.1"><minus id="A1.E16.m1.3.3.2.1.1.1.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.3"></minus><apply id="A1.E16.m1.3.3.2.1.1.1.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1"><times id="A1.E16.m1.3.3.2.1.1.1.1.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.2"></times><apply id="A1.E16.m1.3.3.2.1.1.1.1.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3"><apply id="A1.E16.m1.3.3.2.1.1.1.1.3.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.1"><csymbol cd="ambiguous" id="A1.E16.m1.3.3.2.1.1.1.1.3.1.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.1">subscript</csymbol><ci id="A1.E16.m1.3.3.2.1.1.1.1.3.1.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.1.2">âˆ‡</ci><ci id="A1.E16.m1.3.3.2.1.1.1.1.3.1.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.1.3">ğœƒ</ci></apply><apply id="A1.E16.m1.3.3.2.1.1.1.1.3.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2"><times id="A1.E16.m1.3.3.2.1.1.1.1.3.2.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.1"></times><ci id="A1.E16.m1.3.3.2.1.1.1.1.3.2.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.2">log</ci><apply id="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.3">subscript</csymbol><ci id="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.2">ğœ‹</ci><ci id="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1"><csymbol cd="latexml" id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.E16.m1.3.3.2.1.1.1.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2"><times id="A1.E16.m1.3.3.2.1.1.1.2.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.2"></times><apply id="A1.E16.m1.3.3.2.1.1.1.2.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3"><apply id="A1.E16.m1.3.3.2.1.1.1.2.3.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.1"><csymbol cd="ambiguous" id="A1.E16.m1.3.3.2.1.1.1.2.3.1.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.1">subscript</csymbol><ci id="A1.E16.m1.3.3.2.1.1.1.2.3.1.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.1.2">âˆ‡</ci><ci id="A1.E16.m1.3.3.2.1.1.1.2.3.1.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.1.3">ğœƒ</ci></apply><apply id="A1.E16.m1.3.3.2.1.1.1.2.3.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2"><times id="A1.E16.m1.3.3.2.1.1.1.2.3.2.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.1"></times><ci id="A1.E16.m1.3.3.2.1.1.1.2.3.2.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.2">log</ci><apply id="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.3"><csymbol cd="ambiguous" id="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.3">subscript</csymbol><ci id="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.2">ğœ‹</ci><ci id="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1"><csymbol cd="latexml" id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.1">conditional</csymbol><apply id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2">subscript</csymbol><ci id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.1.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3">subscript</csymbol><ci id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.2.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.3.cmml" xref="A1.E16.m1.3.3.2.1.1.1.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E16.m1.3c">\displaystyle\nabla_{\theta}\,V(\theta;e_{d})=\beta(\nabla_{\theta}\,{\rm log}%
\,\pi_{\theta}(e_{d}|x_{u})-\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{p}|x_{%
u}))</annotation><annotation encoding="application/x-llamapun" id="A1.E16.m1.3d">âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) = italic_Î² ( âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) - âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(16)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.SS3.p1.4">Using properties of sigmoid function that <math alttext="\sigma^{\prime}(x)=\sigma(x)(1-\sigma(x))=\sigma(x)\sigma(-x)" class="ltx_Math" display="inline" id="A1.SS3.p1.3.m1.6"><semantics id="A1.SS3.p1.3.m1.6a"><mrow id="A1.SS3.p1.3.m1.6.6" xref="A1.SS3.p1.3.m1.6.6.cmml"><mrow id="A1.SS3.p1.3.m1.6.6.4" xref="A1.SS3.p1.3.m1.6.6.4.cmml"><msup id="A1.SS3.p1.3.m1.6.6.4.2" xref="A1.SS3.p1.3.m1.6.6.4.2.cmml"><mi id="A1.SS3.p1.3.m1.6.6.4.2.2" xref="A1.SS3.p1.3.m1.6.6.4.2.2.cmml">Ïƒ</mi><mo id="A1.SS3.p1.3.m1.6.6.4.2.3" xref="A1.SS3.p1.3.m1.6.6.4.2.3.cmml">â€²</mo></msup><mo id="A1.SS3.p1.3.m1.6.6.4.1" xref="A1.SS3.p1.3.m1.6.6.4.1.cmml">â¢</mo><mrow id="A1.SS3.p1.3.m1.6.6.4.3.2" xref="A1.SS3.p1.3.m1.6.6.4.cmml"><mo id="A1.SS3.p1.3.m1.6.6.4.3.2.1" stretchy="false" xref="A1.SS3.p1.3.m1.6.6.4.cmml">(</mo><mi id="A1.SS3.p1.3.m1.1.1" xref="A1.SS3.p1.3.m1.1.1.cmml">x</mi><mo id="A1.SS3.p1.3.m1.6.6.4.3.2.2" stretchy="false" xref="A1.SS3.p1.3.m1.6.6.4.cmml">)</mo></mrow></mrow><mo id="A1.SS3.p1.3.m1.6.6.5" xref="A1.SS3.p1.3.m1.6.6.5.cmml">=</mo><mrow id="A1.SS3.p1.3.m1.5.5.1" xref="A1.SS3.p1.3.m1.5.5.1.cmml"><mi id="A1.SS3.p1.3.m1.5.5.1.3" xref="A1.SS3.p1.3.m1.5.5.1.3.cmml">Ïƒ</mi><mo id="A1.SS3.p1.3.m1.5.5.1.2" xref="A1.SS3.p1.3.m1.5.5.1.2.cmml">â¢</mo><mrow id="A1.SS3.p1.3.m1.5.5.1.4.2" xref="A1.SS3.p1.3.m1.5.5.1.cmml"><mo id="A1.SS3.p1.3.m1.5.5.1.4.2.1" stretchy="false" xref="A1.SS3.p1.3.m1.5.5.1.cmml">(</mo><mi id="A1.SS3.p1.3.m1.2.2" xref="A1.SS3.p1.3.m1.2.2.cmml">x</mi><mo id="A1.SS3.p1.3.m1.5.5.1.4.2.2" stretchy="false" xref="A1.SS3.p1.3.m1.5.5.1.cmml">)</mo></mrow><mo id="A1.SS3.p1.3.m1.5.5.1.2a" xref="A1.SS3.p1.3.m1.5.5.1.2.cmml">â¢</mo><mrow id="A1.SS3.p1.3.m1.5.5.1.1.1" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.cmml"><mo id="A1.SS3.p1.3.m1.5.5.1.1.1.2" stretchy="false" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="A1.SS3.p1.3.m1.5.5.1.1.1.1" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.cmml"><mn id="A1.SS3.p1.3.m1.5.5.1.1.1.1.2" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.2.cmml">1</mn><mo id="A1.SS3.p1.3.m1.5.5.1.1.1.1.1" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.1.cmml">âˆ’</mo><mrow id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.cmml"><mi id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.2" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.2.cmml">Ïƒ</mi><mo id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.1" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.1.cmml">â¢</mo><mrow id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.3.2" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.cmml"><mo id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.3.2.1" stretchy="false" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.cmml">(</mo><mi id="A1.SS3.p1.3.m1.3.3" xref="A1.SS3.p1.3.m1.3.3.cmml">x</mi><mo id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.3.2.2" stretchy="false" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="A1.SS3.p1.3.m1.5.5.1.1.1.3" stretchy="false" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.SS3.p1.3.m1.6.6.6" xref="A1.SS3.p1.3.m1.6.6.6.cmml">=</mo><mrow id="A1.SS3.p1.3.m1.6.6.2" xref="A1.SS3.p1.3.m1.6.6.2.cmml"><mi id="A1.SS3.p1.3.m1.6.6.2.3" xref="A1.SS3.p1.3.m1.6.6.2.3.cmml">Ïƒ</mi><mo id="A1.SS3.p1.3.m1.6.6.2.2" xref="A1.SS3.p1.3.m1.6.6.2.2.cmml">â¢</mo><mrow id="A1.SS3.p1.3.m1.6.6.2.4.2" xref="A1.SS3.p1.3.m1.6.6.2.cmml"><mo id="A1.SS3.p1.3.m1.6.6.2.4.2.1" stretchy="false" xref="A1.SS3.p1.3.m1.6.6.2.cmml">(</mo><mi id="A1.SS3.p1.3.m1.4.4" xref="A1.SS3.p1.3.m1.4.4.cmml">x</mi><mo id="A1.SS3.p1.3.m1.6.6.2.4.2.2" stretchy="false" xref="A1.SS3.p1.3.m1.6.6.2.cmml">)</mo></mrow><mo id="A1.SS3.p1.3.m1.6.6.2.2a" xref="A1.SS3.p1.3.m1.6.6.2.2.cmml">â¢</mo><mi id="A1.SS3.p1.3.m1.6.6.2.5" xref="A1.SS3.p1.3.m1.6.6.2.5.cmml">Ïƒ</mi><mo id="A1.SS3.p1.3.m1.6.6.2.2b" xref="A1.SS3.p1.3.m1.6.6.2.2.cmml">â¢</mo><mrow id="A1.SS3.p1.3.m1.6.6.2.1.1" xref="A1.SS3.p1.3.m1.6.6.2.1.1.1.cmml"><mo id="A1.SS3.p1.3.m1.6.6.2.1.1.2" stretchy="false" xref="A1.SS3.p1.3.m1.6.6.2.1.1.1.cmml">(</mo><mrow id="A1.SS3.p1.3.m1.6.6.2.1.1.1" xref="A1.SS3.p1.3.m1.6.6.2.1.1.1.cmml"><mo id="A1.SS3.p1.3.m1.6.6.2.1.1.1a" xref="A1.SS3.p1.3.m1.6.6.2.1.1.1.cmml">âˆ’</mo><mi id="A1.SS3.p1.3.m1.6.6.2.1.1.1.2" xref="A1.SS3.p1.3.m1.6.6.2.1.1.1.2.cmml">x</mi></mrow><mo id="A1.SS3.p1.3.m1.6.6.2.1.1.3" stretchy="false" xref="A1.SS3.p1.3.m1.6.6.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.p1.3.m1.6b"><apply id="A1.SS3.p1.3.m1.6.6.cmml" xref="A1.SS3.p1.3.m1.6.6"><and id="A1.SS3.p1.3.m1.6.6a.cmml" xref="A1.SS3.p1.3.m1.6.6"></and><apply id="A1.SS3.p1.3.m1.6.6b.cmml" xref="A1.SS3.p1.3.m1.6.6"><eq id="A1.SS3.p1.3.m1.6.6.5.cmml" xref="A1.SS3.p1.3.m1.6.6.5"></eq><apply id="A1.SS3.p1.3.m1.6.6.4.cmml" xref="A1.SS3.p1.3.m1.6.6.4"><times id="A1.SS3.p1.3.m1.6.6.4.1.cmml" xref="A1.SS3.p1.3.m1.6.6.4.1"></times><apply id="A1.SS3.p1.3.m1.6.6.4.2.cmml" xref="A1.SS3.p1.3.m1.6.6.4.2"><csymbol cd="ambiguous" id="A1.SS3.p1.3.m1.6.6.4.2.1.cmml" xref="A1.SS3.p1.3.m1.6.6.4.2">superscript</csymbol><ci id="A1.SS3.p1.3.m1.6.6.4.2.2.cmml" xref="A1.SS3.p1.3.m1.6.6.4.2.2">ğœ</ci><ci id="A1.SS3.p1.3.m1.6.6.4.2.3.cmml" xref="A1.SS3.p1.3.m1.6.6.4.2.3">â€²</ci></apply><ci id="A1.SS3.p1.3.m1.1.1.cmml" xref="A1.SS3.p1.3.m1.1.1">ğ‘¥</ci></apply><apply id="A1.SS3.p1.3.m1.5.5.1.cmml" xref="A1.SS3.p1.3.m1.5.5.1"><times id="A1.SS3.p1.3.m1.5.5.1.2.cmml" xref="A1.SS3.p1.3.m1.5.5.1.2"></times><ci id="A1.SS3.p1.3.m1.5.5.1.3.cmml" xref="A1.SS3.p1.3.m1.5.5.1.3">ğœ</ci><ci id="A1.SS3.p1.3.m1.2.2.cmml" xref="A1.SS3.p1.3.m1.2.2">ğ‘¥</ci><apply id="A1.SS3.p1.3.m1.5.5.1.1.1.1.cmml" xref="A1.SS3.p1.3.m1.5.5.1.1.1"><minus id="A1.SS3.p1.3.m1.5.5.1.1.1.1.1.cmml" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.1"></minus><cn id="A1.SS3.p1.3.m1.5.5.1.1.1.1.2.cmml" type="integer" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.2">1</cn><apply id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.cmml" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3"><times id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.1.cmml" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.1"></times><ci id="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.2.cmml" xref="A1.SS3.p1.3.m1.5.5.1.1.1.1.3.2">ğœ</ci><ci id="A1.SS3.p1.3.m1.3.3.cmml" xref="A1.SS3.p1.3.m1.3.3">ğ‘¥</ci></apply></apply></apply></apply><apply id="A1.SS3.p1.3.m1.6.6c.cmml" xref="A1.SS3.p1.3.m1.6.6"><eq id="A1.SS3.p1.3.m1.6.6.6.cmml" xref="A1.SS3.p1.3.m1.6.6.6"></eq><share href="https://arxiv.org/html/2406.09215v2#A1.SS3.p1.3.m1.5.5.1.cmml" id="A1.SS3.p1.3.m1.6.6d.cmml" xref="A1.SS3.p1.3.m1.6.6"></share><apply id="A1.SS3.p1.3.m1.6.6.2.cmml" xref="A1.SS3.p1.3.m1.6.6.2"><times id="A1.SS3.p1.3.m1.6.6.2.2.cmml" xref="A1.SS3.p1.3.m1.6.6.2.2"></times><ci id="A1.SS3.p1.3.m1.6.6.2.3.cmml" xref="A1.SS3.p1.3.m1.6.6.2.3">ğœ</ci><ci id="A1.SS3.p1.3.m1.4.4.cmml" xref="A1.SS3.p1.3.m1.4.4">ğ‘¥</ci><ci id="A1.SS3.p1.3.m1.6.6.2.5.cmml" xref="A1.SS3.p1.3.m1.6.6.2.5">ğœ</ci><apply id="A1.SS3.p1.3.m1.6.6.2.1.1.1.cmml" xref="A1.SS3.p1.3.m1.6.6.2.1.1"><minus id="A1.SS3.p1.3.m1.6.6.2.1.1.1.1.cmml" xref="A1.SS3.p1.3.m1.6.6.2.1.1"></minus><ci id="A1.SS3.p1.3.m1.6.6.2.1.1.1.2.cmml" xref="A1.SS3.p1.3.m1.6.6.2.1.1.1.2">ğ‘¥</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.p1.3.m1.6c">\sigma^{\prime}(x)=\sigma(x)(1-\sigma(x))=\sigma(x)\sigma(-x)</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p1.3.m1.6d">italic_Ïƒ start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT ( italic_x ) = italic_Ïƒ ( italic_x ) ( 1 - italic_Ïƒ ( italic_x ) ) = italic_Ïƒ ( italic_x ) italic_Ïƒ ( - italic_x )</annotation></semantics></math> and thus <math alttext="\left(({\rm log}\,\sigma(x)\right)^{\prime}=\frac{1}{\sigma(x)}\times\sigma(x)%
\sigma(-x)=\sigma(-x)" class="ltx_math_unparsed" display="inline" id="A1.SS3.p1.4.m2.3"><semantics id="A1.SS3.p1.4.m2.3a"><mrow id="A1.SS3.p1.4.m2.3b"><mo id="A1.SS3.p1.4.m2.3.4">(</mo><msup id="A1.SS3.p1.4.m2.3.5"><mrow id="A1.SS3.p1.4.m2.3.5.2"><mo id="A1.SS3.p1.4.m2.3.5.2.1" stretchy="false">(</mo><mi id="A1.SS3.p1.4.m2.3.5.2.2">log</mi><mi id="A1.SS3.p1.4.m2.3.5.2.3">Ïƒ</mi><mrow id="A1.SS3.p1.4.m2.3.5.2.4"><mo id="A1.SS3.p1.4.m2.3.5.2.4.1" stretchy="false">(</mo><mi id="A1.SS3.p1.4.m2.2.2">x</mi><mo id="A1.SS3.p1.4.m2.3.5.2.4.2" stretchy="false">)</mo></mrow><mo id="A1.SS3.p1.4.m2.3.5.2.5">)</mo></mrow><mo id="A1.SS3.p1.4.m2.3.5.3">â€²</mo></msup><mo id="A1.SS3.p1.4.m2.3.6">=</mo><mfrac id="A1.SS3.p1.4.m2.1.1"><mn id="A1.SS3.p1.4.m2.1.1.3">1</mn><mrow id="A1.SS3.p1.4.m2.1.1.1"><mi id="A1.SS3.p1.4.m2.1.1.1.3">Ïƒ</mi><mo id="A1.SS3.p1.4.m2.1.1.1.2">â¢</mo><mrow id="A1.SS3.p1.4.m2.1.1.1.4.2"><mo id="A1.SS3.p1.4.m2.1.1.1.4.2.1" stretchy="false">(</mo><mi id="A1.SS3.p1.4.m2.1.1.1.1">x</mi><mo id="A1.SS3.p1.4.m2.1.1.1.4.2.2" stretchy="false">)</mo></mrow></mrow></mfrac><mo id="A1.SS3.p1.4.m2.3.7" lspace="0.222em" rspace="0.222em">Ã—</mo><mi id="A1.SS3.p1.4.m2.3.8">Ïƒ</mi><mrow id="A1.SS3.p1.4.m2.3.9"><mo id="A1.SS3.p1.4.m2.3.9.1" stretchy="false">(</mo><mi id="A1.SS3.p1.4.m2.3.3">x</mi><mo id="A1.SS3.p1.4.m2.3.9.2" stretchy="false">)</mo></mrow><mi id="A1.SS3.p1.4.m2.3.10">Ïƒ</mi><mrow id="A1.SS3.p1.4.m2.3.11"><mo id="A1.SS3.p1.4.m2.3.11.1" stretchy="false">(</mo><mo id="A1.SS3.p1.4.m2.3.11.2" lspace="0em">âˆ’</mo><mi id="A1.SS3.p1.4.m2.3.11.3">x</mi><mo id="A1.SS3.p1.4.m2.3.11.4" stretchy="false">)</mo></mrow><mo id="A1.SS3.p1.4.m2.3.12">=</mo><mi id="A1.SS3.p1.4.m2.3.13">Ïƒ</mi><mrow id="A1.SS3.p1.4.m2.3.14"><mo id="A1.SS3.p1.4.m2.3.14.1" stretchy="false">(</mo><mo id="A1.SS3.p1.4.m2.3.14.2" lspace="0em">âˆ’</mo><mi id="A1.SS3.p1.4.m2.3.14.3">x</mi><mo id="A1.SS3.p1.4.m2.3.14.4" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="A1.SS3.p1.4.m2.3c">\left(({\rm log}\,\sigma(x)\right)^{\prime}=\frac{1}{\sigma(x)}\times\sigma(x)%
\sigma(-x)=\sigma(-x)</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.p1.4.m2.3d">( ( roman_log italic_Ïƒ ( italic_x ) ) start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_Ïƒ ( italic_x ) end_ARG Ã— italic_Ïƒ ( italic_x ) italic_Ïƒ ( - italic_x ) = italic_Ïƒ ( - italic_x )</annotation></semantics></math>, we have:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx21">
<tbody id="A1.Ex16"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\nabla_{\theta}\,\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})" class="ltx_Math" display="inline" id="A1.Ex16.m1.2"><semantics id="A1.Ex16.m1.2a"><mrow id="A1.Ex16.m1.2.2" xref="A1.Ex16.m1.2.2.cmml"><mrow id="A1.Ex16.m1.2.2.4" xref="A1.Ex16.m1.2.2.4.cmml"><msub id="A1.Ex16.m1.2.2.4.1" xref="A1.Ex16.m1.2.2.4.1.cmml"><mo id="A1.Ex16.m1.2.2.4.1.2" xref="A1.Ex16.m1.2.2.4.1.2.cmml">âˆ‡</mo><mi id="A1.Ex16.m1.2.2.4.1.3" xref="A1.Ex16.m1.2.2.4.1.3.cmml">Î¸</mi></msub><msub id="A1.Ex16.m1.2.2.4.2" xref="A1.Ex16.m1.2.2.4.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex16.m1.2.2.4.2.2" xref="A1.Ex16.m1.2.2.4.2.2.cmml">â„’</mi><mrow id="A1.Ex16.m1.2.2.4.2.3" xref="A1.Ex16.m1.2.2.4.2.3.cmml"><mi id="A1.Ex16.m1.2.2.4.2.3.2" mathvariant="normal" xref="A1.Ex16.m1.2.2.4.2.3.2.cmml">S</mi><mo id="A1.Ex16.m1.2.2.4.2.3.1" xref="A1.Ex16.m1.2.2.4.2.3.1.cmml">âˆ’</mo><mi id="A1.Ex16.m1.2.2.4.2.3.3" xref="A1.Ex16.m1.2.2.4.2.3.3.cmml">DPO</mi></mrow></msub></mrow><mo id="A1.Ex16.m1.2.2.3" xref="A1.Ex16.m1.2.2.3.cmml">â¢</mo><mrow id="A1.Ex16.m1.2.2.2.2" xref="A1.Ex16.m1.2.2.2.3.cmml"><mo id="A1.Ex16.m1.2.2.2.2.3" stretchy="false" xref="A1.Ex16.m1.2.2.2.3.cmml">(</mo><msub id="A1.Ex16.m1.1.1.1.1.1" xref="A1.Ex16.m1.1.1.1.1.1.cmml"><mi id="A1.Ex16.m1.1.1.1.1.1.2" xref="A1.Ex16.m1.1.1.1.1.1.2.cmml">Ï€</mi><mi id="A1.Ex16.m1.1.1.1.1.1.3" xref="A1.Ex16.m1.1.1.1.1.1.3.cmml">Î¸</mi></msub><mo id="A1.Ex16.m1.2.2.2.2.4" xref="A1.Ex16.m1.2.2.2.3.cmml">;</mo><msub id="A1.Ex16.m1.2.2.2.2.2" xref="A1.Ex16.m1.2.2.2.2.2.cmml"><mi id="A1.Ex16.m1.2.2.2.2.2.2" xref="A1.Ex16.m1.2.2.2.2.2.2.cmml">Ï€</mi><mi id="A1.Ex16.m1.2.2.2.2.2.3" xref="A1.Ex16.m1.2.2.2.2.2.3.cmml">ref</mi></msub><mo id="A1.Ex16.m1.2.2.2.2.5" stretchy="false" xref="A1.Ex16.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex16.m1.2b"><apply id="A1.Ex16.m1.2.2.cmml" xref="A1.Ex16.m1.2.2"><times id="A1.Ex16.m1.2.2.3.cmml" xref="A1.Ex16.m1.2.2.3"></times><apply id="A1.Ex16.m1.2.2.4.cmml" xref="A1.Ex16.m1.2.2.4"><apply id="A1.Ex16.m1.2.2.4.1.cmml" xref="A1.Ex16.m1.2.2.4.1"><csymbol cd="ambiguous" id="A1.Ex16.m1.2.2.4.1.1.cmml" xref="A1.Ex16.m1.2.2.4.1">subscript</csymbol><ci id="A1.Ex16.m1.2.2.4.1.2.cmml" xref="A1.Ex16.m1.2.2.4.1.2">âˆ‡</ci><ci id="A1.Ex16.m1.2.2.4.1.3.cmml" xref="A1.Ex16.m1.2.2.4.1.3">ğœƒ</ci></apply><apply id="A1.Ex16.m1.2.2.4.2.cmml" xref="A1.Ex16.m1.2.2.4.2"><csymbol cd="ambiguous" id="A1.Ex16.m1.2.2.4.2.1.cmml" xref="A1.Ex16.m1.2.2.4.2">subscript</csymbol><ci id="A1.Ex16.m1.2.2.4.2.2.cmml" xref="A1.Ex16.m1.2.2.4.2.2">â„’</ci><apply id="A1.Ex16.m1.2.2.4.2.3.cmml" xref="A1.Ex16.m1.2.2.4.2.3"><minus id="A1.Ex16.m1.2.2.4.2.3.1.cmml" xref="A1.Ex16.m1.2.2.4.2.3.1"></minus><ci id="A1.Ex16.m1.2.2.4.2.3.2.cmml" xref="A1.Ex16.m1.2.2.4.2.3.2">S</ci><ci id="A1.Ex16.m1.2.2.4.2.3.3.cmml" xref="A1.Ex16.m1.2.2.4.2.3.3">DPO</ci></apply></apply></apply><list id="A1.Ex16.m1.2.2.2.3.cmml" xref="A1.Ex16.m1.2.2.2.2"><apply id="A1.Ex16.m1.1.1.1.1.1.cmml" xref="A1.Ex16.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex16.m1.1.1.1.1.1.1.cmml" xref="A1.Ex16.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex16.m1.1.1.1.1.1.2.cmml" xref="A1.Ex16.m1.1.1.1.1.1.2">ğœ‹</ci><ci id="A1.Ex16.m1.1.1.1.1.1.3.cmml" xref="A1.Ex16.m1.1.1.1.1.1.3">ğœƒ</ci></apply><apply id="A1.Ex16.m1.2.2.2.2.2.cmml" xref="A1.Ex16.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex16.m1.2.2.2.2.2.1.cmml" xref="A1.Ex16.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex16.m1.2.2.2.2.2.2.cmml" xref="A1.Ex16.m1.2.2.2.2.2.2">ğœ‹</ci><ci id="A1.Ex16.m1.2.2.2.2.2.3.cmml" xref="A1.Ex16.m1.2.2.2.2.2.3">ref</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex16.m1.2c">\displaystyle\nabla_{\theta}\,\mathcal{L}_{\rm S-DPO}(\pi_{\theta};\pi_{\rm ref})</annotation><annotation encoding="application/x-llamapun" id="A1.Ex16.m1.2d">âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT caligraphic_L start_POSTSUBSCRIPT roman_S - roman_DPO end_POSTSUBSCRIPT ( italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ; italic_Ï€ start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex17"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\nabla_{\theta}%
\,{\rm log}\,\sigma\left(-{\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V%
(\theta;e_{d}))\right)\right]" class="ltx_Math" display="inline" id="A1.Ex17.m1.5"><semantics id="A1.Ex17.m1.5a"><mrow id="A1.Ex17.m1.5.5" xref="A1.Ex17.m1.5.5.cmml"><mi id="A1.Ex17.m1.5.5.3" xref="A1.Ex17.m1.5.5.3.cmml"></mi><mo id="A1.Ex17.m1.5.5.2" xref="A1.Ex17.m1.5.5.2.cmml">=</mo><mrow id="A1.Ex17.m1.5.5.1" xref="A1.Ex17.m1.5.5.1.cmml"><mo id="A1.Ex17.m1.5.5.1a" xref="A1.Ex17.m1.5.5.1.cmml">âˆ’</mo><mrow id="A1.Ex17.m1.5.5.1.1" xref="A1.Ex17.m1.5.5.1.1.cmml"><msub id="A1.Ex17.m1.5.5.1.1.3" xref="A1.Ex17.m1.5.5.1.1.3.cmml"><mi id="A1.Ex17.m1.5.5.1.1.3.2" xref="A1.Ex17.m1.5.5.1.1.3.2.cmml">ğ”¼</mi><mrow id="A1.Ex17.m1.3.3.3.3" xref="A1.Ex17.m1.3.3.3.4.cmml"><mo id="A1.Ex17.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex17.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex17.m1.1.1.1.1.1" xref="A1.Ex17.m1.1.1.1.1.1.cmml"><mi id="A1.Ex17.m1.1.1.1.1.1.2" xref="A1.Ex17.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex17.m1.1.1.1.1.1.3" xref="A1.Ex17.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex17.m1.3.3.3.3.5" xref="A1.Ex17.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex17.m1.2.2.2.2.2" xref="A1.Ex17.m1.2.2.2.2.2.cmml"><mi id="A1.Ex17.m1.2.2.2.2.2.2" xref="A1.Ex17.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex17.m1.2.2.2.2.2.3" xref="A1.Ex17.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex17.m1.3.3.3.3.6" xref="A1.Ex17.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex17.m1.3.3.3.3.3" xref="A1.Ex17.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex17.m1.3.3.3.3.3.2" xref="A1.Ex17.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex17.m1.3.3.3.3.3.3" xref="A1.Ex17.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex17.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex17.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex17.m1.5.5.1.1.2" xref="A1.Ex17.m1.5.5.1.1.2.cmml">â¢</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.2.cmml"><mo id="A1.Ex17.m1.5.5.1.1.1.1.2" xref="A1.Ex17.m1.5.5.1.1.1.2.1.cmml">[</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.cmml"><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.cmml"><msub id="A1.Ex17.m1.5.5.1.1.1.1.1.3.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.cmml"><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.2" rspace="0.167em" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.3.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.cmml"><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.2.cmml">log</mi><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.1" lspace="0.170em" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.1.cmml">â¢</mo><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.3.cmml">Ïƒ</mi></mrow></mrow><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1a" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.cmml">âˆ’</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2a" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">V</mi><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex17.m1.4.4" xref="A1.Ex17.m1.4.4.cmml">Î¸</mi><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">;</mo><msub id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.3" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex17.m1.5.5.1.1.1.1.3" xref="A1.Ex17.m1.5.5.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex17.m1.5b"><apply id="A1.Ex17.m1.5.5.cmml" xref="A1.Ex17.m1.5.5"><eq id="A1.Ex17.m1.5.5.2.cmml" xref="A1.Ex17.m1.5.5.2"></eq><csymbol cd="latexml" id="A1.Ex17.m1.5.5.3.cmml" xref="A1.Ex17.m1.5.5.3">absent</csymbol><apply id="A1.Ex17.m1.5.5.1.cmml" xref="A1.Ex17.m1.5.5.1"><minus id="A1.Ex17.m1.5.5.1.2.cmml" xref="A1.Ex17.m1.5.5.1"></minus><apply id="A1.Ex17.m1.5.5.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1"><times id="A1.Ex17.m1.5.5.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.2"></times><apply id="A1.Ex17.m1.5.5.1.1.3.cmml" xref="A1.Ex17.m1.5.5.1.1.3"><csymbol cd="ambiguous" id="A1.Ex17.m1.5.5.1.1.3.1.cmml" xref="A1.Ex17.m1.5.5.1.1.3">subscript</csymbol><ci id="A1.Ex17.m1.5.5.1.1.3.2.cmml" xref="A1.Ex17.m1.5.5.1.1.3.2">ğ”¼</ci><vector id="A1.Ex17.m1.3.3.3.4.cmml" xref="A1.Ex17.m1.3.3.3.3"><apply id="A1.Ex17.m1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex17.m1.1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex17.m1.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex17.m1.1.1.1.1.1.3.cmml" xref="A1.Ex17.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex17.m1.2.2.2.2.2.cmml" xref="A1.Ex17.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex17.m1.2.2.2.2.2.1.cmml" xref="A1.Ex17.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex17.m1.2.2.2.2.2.2.cmml" xref="A1.Ex17.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex17.m1.2.2.2.2.2.3.cmml" xref="A1.Ex17.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex17.m1.3.3.3.3.3.cmml" xref="A1.Ex17.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex17.m1.3.3.3.3.3.1.cmml" xref="A1.Ex17.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex17.m1.3.3.3.3.3.2.cmml" xref="A1.Ex17.m1.3.3.3.3.3.2">â„°</ci><ci id="A1.Ex17.m1.3.3.3.3.3.3.cmml" xref="A1.Ex17.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex17.m1.5.5.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1"><csymbol cd="latexml" id="A1.Ex17.m1.5.5.1.1.1.2.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1"><times id="A1.Ex17.m1.5.5.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.2"></times><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3"><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.1">subscript</csymbol><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.2">âˆ‡</ci><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.1.3">ğœƒ</ci></apply><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.2"><times id="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.1"></times><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.2">log</ci><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.3.2.3">ğœ</ci></apply></apply><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1"><minus id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1"></minus><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1"><times id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.3">log</ci><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1"><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3"><in id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‰</ci><list id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="A1.Ex17.m1.4.4.cmml" xref="A1.Ex17.m1.4.4">ğœƒ</ci><apply id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex17.m1.5.5.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex17.m1.5c">\displaystyle=-\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\nabla_{\theta}%
\,{\rm log}\,\sigma\left(-{\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V%
(\theta;e_{d}))\right)\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex17.m1.5d">= - blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ïƒ ( - roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex18"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma\left({\rm
log%
}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))\right)\cdot\nabla_%
{\theta}\,{\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))\right]" class="ltx_Math" display="inline" id="A1.Ex18.m1.6"><semantics id="A1.Ex18.m1.6a"><mrow id="A1.Ex18.m1.6.6" xref="A1.Ex18.m1.6.6.cmml"><mi id="A1.Ex18.m1.6.6.3" xref="A1.Ex18.m1.6.6.3.cmml"></mi><mo id="A1.Ex18.m1.6.6.2" xref="A1.Ex18.m1.6.6.2.cmml">=</mo><mrow id="A1.Ex18.m1.6.6.1" xref="A1.Ex18.m1.6.6.1.cmml"><msub id="A1.Ex18.m1.6.6.1.3" xref="A1.Ex18.m1.6.6.1.3.cmml"><mi id="A1.Ex18.m1.6.6.1.3.2" xref="A1.Ex18.m1.6.6.1.3.2.cmml">ğ”¼</mi><mrow id="A1.Ex18.m1.3.3.3.3" xref="A1.Ex18.m1.3.3.3.4.cmml"><mo id="A1.Ex18.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex18.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex18.m1.1.1.1.1.1" xref="A1.Ex18.m1.1.1.1.1.1.cmml"><mi id="A1.Ex18.m1.1.1.1.1.1.2" xref="A1.Ex18.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex18.m1.1.1.1.1.1.3" xref="A1.Ex18.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex18.m1.3.3.3.3.5" xref="A1.Ex18.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex18.m1.2.2.2.2.2" xref="A1.Ex18.m1.2.2.2.2.2.cmml"><mi id="A1.Ex18.m1.2.2.2.2.2.2" xref="A1.Ex18.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex18.m1.2.2.2.2.2.3" xref="A1.Ex18.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex18.m1.3.3.3.3.6" xref="A1.Ex18.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex18.m1.3.3.3.3.3" xref="A1.Ex18.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex18.m1.3.3.3.3.3.2" xref="A1.Ex18.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex18.m1.3.3.3.3.3.3" xref="A1.Ex18.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex18.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex18.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex18.m1.6.6.1.2" xref="A1.Ex18.m1.6.6.1.2.cmml">â¢</mo><mrow id="A1.Ex18.m1.6.6.1.1.1" xref="A1.Ex18.m1.6.6.1.1.2.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.2.1.cmml">[</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.cmml"><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.cmml"><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.3.cmml">Ïƒ</mi><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2a" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">V</mi><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex18.m1.4.4" xref="A1.Ex18.m1.4.4.cmml">Î¸</mi><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">;</mo><msub id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.3" rspace="0.055em" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.2" rspace="0.222em" xref="A1.Ex18.m1.6.6.1.1.1.1.1.2.cmml">â‹…</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.cmml"><msub id="A1.Ex18.m1.6.6.1.1.1.1.1.3.1" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.2" rspace="0.167em" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.3.cmml">Î¸</mi></msub><mi id="A1.Ex18.m1.6.6.1.1.1.1.1.3.2" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.2.cmml">log</mi></mrow></mrow><mo id="A1.Ex18.m1.6.6.1.1.1.1.3" lspace="0.170em" xref="A1.Ex18.m1.6.6.1.1.1.1.3.cmml">â¢</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.2.cmml"><mstyle displaystyle="true" id="A1.Ex18.m1.6.6.1.1.1.1.2.2" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.cmml"><munder id="A1.Ex18.m1.6.6.1.1.1.1.2.2a" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.2.2" movablelimits="false" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.cmml"><msub id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.2" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.2.cmml">e</mi><mi id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.3" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.3.cmml">d</mi></msub><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.1" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.2" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.3" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.Ex18.m1.6.6.1.1.1.1.2.1" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.2.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.3.cmml">exp</mi><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.2.cmml">â¢</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.2" stretchy="false" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.cmml">(</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.3.cmml">V</mi><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.2.cmml"><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex18.m1.5.5" xref="A1.Ex18.m1.5.5.cmml">Î¸</mi><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.2.cmml">;</mo><msub id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.2" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.4" stretchy="false" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.3" stretchy="false" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.Ex18.m1.6.6.1.1.1.3" xref="A1.Ex18.m1.6.6.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex18.m1.6b"><apply id="A1.Ex18.m1.6.6.cmml" xref="A1.Ex18.m1.6.6"><eq id="A1.Ex18.m1.6.6.2.cmml" xref="A1.Ex18.m1.6.6.2"></eq><csymbol cd="latexml" id="A1.Ex18.m1.6.6.3.cmml" xref="A1.Ex18.m1.6.6.3">absent</csymbol><apply id="A1.Ex18.m1.6.6.1.cmml" xref="A1.Ex18.m1.6.6.1"><times id="A1.Ex18.m1.6.6.1.2.cmml" xref="A1.Ex18.m1.6.6.1.2"></times><apply id="A1.Ex18.m1.6.6.1.3.cmml" xref="A1.Ex18.m1.6.6.1.3"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.3.1.cmml" xref="A1.Ex18.m1.6.6.1.3">subscript</csymbol><ci id="A1.Ex18.m1.6.6.1.3.2.cmml" xref="A1.Ex18.m1.6.6.1.3.2">ğ”¼</ci><vector id="A1.Ex18.m1.3.3.3.4.cmml" xref="A1.Ex18.m1.3.3.3.3"><apply id="A1.Ex18.m1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex18.m1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex18.m1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex18.m1.1.1.1.1.1.3.cmml" xref="A1.Ex18.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex18.m1.2.2.2.2.2.cmml" xref="A1.Ex18.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex18.m1.2.2.2.2.2.1.cmml" xref="A1.Ex18.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex18.m1.2.2.2.2.2.2.cmml" xref="A1.Ex18.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex18.m1.2.2.2.2.2.3.cmml" xref="A1.Ex18.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex18.m1.3.3.3.3.3.cmml" xref="A1.Ex18.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex18.m1.3.3.3.3.3.1.cmml" xref="A1.Ex18.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex18.m1.3.3.3.3.3.2.cmml" xref="A1.Ex18.m1.3.3.3.3.3.2">â„°</ci><ci id="A1.Ex18.m1.3.3.3.3.3.3.cmml" xref="A1.Ex18.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex18.m1.6.6.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1"><csymbol cd="latexml" id="A1.Ex18.m1.6.6.1.1.2.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex18.m1.6.6.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1"><times id="A1.Ex18.m1.6.6.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.3"></times><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1"><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.2">â‹…</ci><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1"><times id="A1.Ex18.m1.6.6.1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.2"></times><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.3">ğœ</ci><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1"><times id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.3">log</ci><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1"><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3"><in id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‰</ci><list id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="A1.Ex18.m1.4.4.cmml" xref="A1.Ex18.m1.4.4">ğœƒ</ci><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3"><apply id="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.1">subscript</csymbol><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.2">âˆ‡</ci><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.1.3">ğœƒ</ci></apply><ci id="A1.Ex18.m1.6.6.1.1.1.1.1.3.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.1.3.2">log</ci></apply></apply><apply id="A1.Ex18.m1.6.6.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2"><apply id="A1.Ex18.m1.6.6.1.1.1.1.2.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.2.2.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2">subscript</csymbol><sum id="A1.Ex18.m1.6.6.1.1.1.1.2.2.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.2"></sum><apply id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3"><in id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.1"></in><apply id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2">subscript</csymbol><ci id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.2">ğ‘’</ci><ci id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3">subscript</csymbol><ci id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.2">â„°</ci><ci id="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex18.m1.6.6.1.1.1.1.2.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1"><times id="A1.Ex18.m1.6.6.1.1.1.1.2.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.2"></times><ci id="A1.Ex18.m1.6.6.1.1.1.1.2.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.3">exp</ci><apply id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1"><times id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.2"></times><ci id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.3">ğ‘‰</ci><list id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1"><ci id="A1.Ex18.m1.5.5.cmml" xref="A1.Ex18.m1.5.5">ğœƒ</ci><apply id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex18.m1.6.6.1.1.1.1.2.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex18.m1.6c">\displaystyle=\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma\left({\rm
log%
}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))\right)\cdot\nabla_%
{\theta}\,{\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex18.m1.6d">= blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ italic_Ïƒ ( roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) ) â‹… âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(<math alttext="\left({\rm log}\sigma(x)\right)^{\prime}=\sigma(-x)" class="ltx_Math" display="inline" id="A1.Ex18.1.1.m1.3"><semantics id="A1.Ex18.1.1.m1.3b"><mrow id="A1.Ex18.1.1.m1.3.3" xref="A1.Ex18.1.1.m1.3.3.cmml"><msup id="A1.Ex18.1.1.m1.2.2.1" xref="A1.Ex18.1.1.m1.2.2.1.cmml"><mrow id="A1.Ex18.1.1.m1.2.2.1.1.1" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.cmml"><mo id="A1.Ex18.1.1.m1.2.2.1.1.1.2" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="A1.Ex18.1.1.m1.2.2.1.1.1.1" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.cmml"><mi id="A1.Ex18.1.1.m1.2.2.1.1.1.1.2" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.2.cmml">log</mi><mo id="A1.Ex18.1.1.m1.2.2.1.1.1.1.1" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.1.cmml">â¢</mo><mi id="A1.Ex18.1.1.m1.2.2.1.1.1.1.3" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.3.cmml">Ïƒ</mi><mo id="A1.Ex18.1.1.m1.2.2.1.1.1.1.1b" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.1.cmml">â¢</mo><mrow id="A1.Ex18.1.1.m1.2.2.1.1.1.1.4.2" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.cmml"><mo id="A1.Ex18.1.1.m1.2.2.1.1.1.1.4.2.1" stretchy="false" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.cmml">(</mo><mi id="A1.Ex18.1.1.m1.1.1" xref="A1.Ex18.1.1.m1.1.1.cmml">x</mi><mo id="A1.Ex18.1.1.m1.2.2.1.1.1.1.4.2.2" stretchy="false" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex18.1.1.m1.2.2.1.1.1.3" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.cmml">)</mo></mrow><mo id="A1.Ex18.1.1.m1.2.2.1.3" xref="A1.Ex18.1.1.m1.2.2.1.3.cmml">â€²</mo></msup><mo id="A1.Ex18.1.1.m1.3.3.3" xref="A1.Ex18.1.1.m1.3.3.3.cmml">=</mo><mrow id="A1.Ex18.1.1.m1.3.3.2" xref="A1.Ex18.1.1.m1.3.3.2.cmml"><mi id="A1.Ex18.1.1.m1.3.3.2.3" xref="A1.Ex18.1.1.m1.3.3.2.3.cmml">Ïƒ</mi><mo id="A1.Ex18.1.1.m1.3.3.2.2" xref="A1.Ex18.1.1.m1.3.3.2.2.cmml">â¢</mo><mrow id="A1.Ex18.1.1.m1.3.3.2.1.1" xref="A1.Ex18.1.1.m1.3.3.2.1.1.1.cmml"><mo id="A1.Ex18.1.1.m1.3.3.2.1.1.2" stretchy="false" xref="A1.Ex18.1.1.m1.3.3.2.1.1.1.cmml">(</mo><mrow id="A1.Ex18.1.1.m1.3.3.2.1.1.1" xref="A1.Ex18.1.1.m1.3.3.2.1.1.1.cmml"><mo id="A1.Ex18.1.1.m1.3.3.2.1.1.1b" xref="A1.Ex18.1.1.m1.3.3.2.1.1.1.cmml">âˆ’</mo><mi id="A1.Ex18.1.1.m1.3.3.2.1.1.1.2" xref="A1.Ex18.1.1.m1.3.3.2.1.1.1.2.cmml">x</mi></mrow><mo id="A1.Ex18.1.1.m1.3.3.2.1.1.3" stretchy="false" xref="A1.Ex18.1.1.m1.3.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex18.1.1.m1.3c"><apply id="A1.Ex18.1.1.m1.3.3.cmml" xref="A1.Ex18.1.1.m1.3.3"><eq id="A1.Ex18.1.1.m1.3.3.3.cmml" xref="A1.Ex18.1.1.m1.3.3.3"></eq><apply id="A1.Ex18.1.1.m1.2.2.1.cmml" xref="A1.Ex18.1.1.m1.2.2.1"><csymbol cd="ambiguous" id="A1.Ex18.1.1.m1.2.2.1.2.cmml" xref="A1.Ex18.1.1.m1.2.2.1">superscript</csymbol><apply id="A1.Ex18.1.1.m1.2.2.1.1.1.1.cmml" xref="A1.Ex18.1.1.m1.2.2.1.1.1"><times id="A1.Ex18.1.1.m1.2.2.1.1.1.1.1.cmml" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.1"></times><ci id="A1.Ex18.1.1.m1.2.2.1.1.1.1.2.cmml" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.2">log</ci><ci id="A1.Ex18.1.1.m1.2.2.1.1.1.1.3.cmml" xref="A1.Ex18.1.1.m1.2.2.1.1.1.1.3">ğœ</ci><ci id="A1.Ex18.1.1.m1.1.1.cmml" xref="A1.Ex18.1.1.m1.1.1">ğ‘¥</ci></apply><ci id="A1.Ex18.1.1.m1.2.2.1.3.cmml" xref="A1.Ex18.1.1.m1.2.2.1.3">â€²</ci></apply><apply id="A1.Ex18.1.1.m1.3.3.2.cmml" xref="A1.Ex18.1.1.m1.3.3.2"><times id="A1.Ex18.1.1.m1.3.3.2.2.cmml" xref="A1.Ex18.1.1.m1.3.3.2.2"></times><ci id="A1.Ex18.1.1.m1.3.3.2.3.cmml" xref="A1.Ex18.1.1.m1.3.3.2.3">ğœ</ci><apply id="A1.Ex18.1.1.m1.3.3.2.1.1.1.cmml" xref="A1.Ex18.1.1.m1.3.3.2.1.1"><minus id="A1.Ex18.1.1.m1.3.3.2.1.1.1.1.cmml" xref="A1.Ex18.1.1.m1.3.3.2.1.1"></minus><ci id="A1.Ex18.1.1.m1.3.3.2.1.1.1.2.cmml" xref="A1.Ex18.1.1.m1.3.3.2.1.1.1.2">ğ‘¥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex18.1.1.m1.3d">\left({\rm log}\sigma(x)\right)^{\prime}=\sigma(-x)</annotation><annotation encoding="application/x-llamapun" id="A1.Ex18.1.1.m1.3e">( roman_log italic_Ïƒ ( italic_x ) ) start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT = italic_Ïƒ ( - italic_x )</annotation></semantics></math>)</span></td>
</tr></tbody>
<tbody id="A1.Ex19"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma\left({\rm
log%
}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))\right)\cdot\frac{%
\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))\cdot\nabla_{\theta}\,%
V(\theta;e_{d})}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e^{%
\prime}_{d}))}\right]" class="ltx_Math" display="inline" id="A1.Ex19.m1.11"><semantics id="A1.Ex19.m1.11a"><mrow id="A1.Ex19.m1.11.11" xref="A1.Ex19.m1.11.11.cmml"><mi id="A1.Ex19.m1.11.11.3" xref="A1.Ex19.m1.11.11.3.cmml"></mi><mo id="A1.Ex19.m1.11.11.2" xref="A1.Ex19.m1.11.11.2.cmml">=</mo><mrow id="A1.Ex19.m1.11.11.1" xref="A1.Ex19.m1.11.11.1.cmml"><msub id="A1.Ex19.m1.11.11.1.3" xref="A1.Ex19.m1.11.11.1.3.cmml"><mi id="A1.Ex19.m1.11.11.1.3.2" xref="A1.Ex19.m1.11.11.1.3.2.cmml">ğ”¼</mi><mrow id="A1.Ex19.m1.3.3.3.3" xref="A1.Ex19.m1.3.3.3.4.cmml"><mo id="A1.Ex19.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex19.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex19.m1.1.1.1.1.1" xref="A1.Ex19.m1.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.1.1.1.1.1.2" xref="A1.Ex19.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex19.m1.1.1.1.1.1.3" xref="A1.Ex19.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex19.m1.3.3.3.3.5" xref="A1.Ex19.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex19.m1.2.2.2.2.2" xref="A1.Ex19.m1.2.2.2.2.2.cmml"><mi id="A1.Ex19.m1.2.2.2.2.2.2" xref="A1.Ex19.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex19.m1.2.2.2.2.2.3" xref="A1.Ex19.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex19.m1.3.3.3.3.6" xref="A1.Ex19.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex19.m1.3.3.3.3.3" xref="A1.Ex19.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex19.m1.3.3.3.3.3.2" xref="A1.Ex19.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex19.m1.3.3.3.3.3.3" xref="A1.Ex19.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex19.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex19.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex19.m1.11.11.1.2" xref="A1.Ex19.m1.11.11.1.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.11.11.1.1.1" xref="A1.Ex19.m1.11.11.1.1.2.cmml"><mo id="A1.Ex19.m1.11.11.1.1.1.2" xref="A1.Ex19.m1.11.11.1.1.2.1.cmml">[</mo><mrow id="A1.Ex19.m1.11.11.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.cmml"><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.3.cmml">Ïƒ</mi><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2a" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">V</mi><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex19.m1.10.10" xref="A1.Ex19.m1.10.10.cmml">Î¸</mi><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">;</mo><msub id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.3" rspace="0.055em" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex19.m1.11.11.1.1.1.1.2" rspace="0.222em" xref="A1.Ex19.m1.11.11.1.1.1.1.2.cmml">â‹…</mo><mstyle displaystyle="true" id="A1.Ex19.m1.9.9" xref="A1.Ex19.m1.9.9.cmml"><mfrac id="A1.Ex19.m1.9.9a" xref="A1.Ex19.m1.9.9.cmml"><mrow id="A1.Ex19.m1.7.7.4" xref="A1.Ex19.m1.7.7.4.cmml"><msub id="A1.Ex19.m1.7.7.4.5" xref="A1.Ex19.m1.7.7.4.5.cmml"><mo id="A1.Ex19.m1.7.7.4.5.2" xref="A1.Ex19.m1.7.7.4.5.2.cmml">âˆ‘</mo><mrow id="A1.Ex19.m1.7.7.4.5.3" xref="A1.Ex19.m1.7.7.4.5.3.cmml"><msub id="A1.Ex19.m1.7.7.4.5.3.2" xref="A1.Ex19.m1.7.7.4.5.3.2.cmml"><mi id="A1.Ex19.m1.7.7.4.5.3.2.2" xref="A1.Ex19.m1.7.7.4.5.3.2.2.cmml">e</mi><mi id="A1.Ex19.m1.7.7.4.5.3.2.3" xref="A1.Ex19.m1.7.7.4.5.3.2.3.cmml">d</mi></msub><mo id="A1.Ex19.m1.7.7.4.5.3.1" xref="A1.Ex19.m1.7.7.4.5.3.1.cmml">âˆˆ</mo><msub id="A1.Ex19.m1.7.7.4.5.3.3" xref="A1.Ex19.m1.7.7.4.5.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex19.m1.7.7.4.5.3.3.2" xref="A1.Ex19.m1.7.7.4.5.3.3.2.cmml">â„°</mi><mi id="A1.Ex19.m1.7.7.4.5.3.3.3" xref="A1.Ex19.m1.7.7.4.5.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="A1.Ex19.m1.7.7.4.4" xref="A1.Ex19.m1.7.7.4.4.cmml"><mrow id="A1.Ex19.m1.6.6.3.3.1" xref="A1.Ex19.m1.6.6.3.3.1.cmml"><mrow id="A1.Ex19.m1.6.6.3.3.1.1" xref="A1.Ex19.m1.6.6.3.3.1.1.cmml"><mi id="A1.Ex19.m1.6.6.3.3.1.1.3" xref="A1.Ex19.m1.6.6.3.3.1.1.3.cmml">exp</mi><mo id="A1.Ex19.m1.6.6.3.3.1.1.2" xref="A1.Ex19.m1.6.6.3.3.1.1.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.6.6.3.3.1.1.1.1" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.cmml"><mo id="A1.Ex19.m1.6.6.3.3.1.1.1.1.2" stretchy="false" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.3" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.3.cmml">V</mi><mo id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.2" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex19.m1.4.4.1.1" xref="A1.Ex19.m1.4.4.1.1.cmml">Î¸</mi><mo id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.3" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.2.cmml">;</mo><msub id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.2" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.3" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.4" stretchy="false" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex19.m1.6.6.3.3.1.1.1.1.3" rspace="0.055em" stretchy="false" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex19.m1.6.6.3.3.1.2" rspace="0.222em" xref="A1.Ex19.m1.6.6.3.3.1.2.cmml">â‹…</mo><mrow id="A1.Ex19.m1.6.6.3.3.1.3" xref="A1.Ex19.m1.6.6.3.3.1.3.cmml"><msub id="A1.Ex19.m1.6.6.3.3.1.3.1" xref="A1.Ex19.m1.6.6.3.3.1.3.1.cmml"><mo id="A1.Ex19.m1.6.6.3.3.1.3.1.2" rspace="0.167em" xref="A1.Ex19.m1.6.6.3.3.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex19.m1.6.6.3.3.1.3.1.3" xref="A1.Ex19.m1.6.6.3.3.1.3.1.3.cmml">Î¸</mi></msub><mi id="A1.Ex19.m1.6.6.3.3.1.3.2" xref="A1.Ex19.m1.6.6.3.3.1.3.2.cmml">V</mi></mrow></mrow><mo id="A1.Ex19.m1.7.7.4.4.3" xref="A1.Ex19.m1.7.7.4.4.3.cmml">â¢</mo><mrow id="A1.Ex19.m1.7.7.4.4.2.1" xref="A1.Ex19.m1.7.7.4.4.2.2.cmml"><mo id="A1.Ex19.m1.7.7.4.4.2.1.2" stretchy="false" xref="A1.Ex19.m1.7.7.4.4.2.2.cmml">(</mo><mi id="A1.Ex19.m1.5.5.2.2" xref="A1.Ex19.m1.5.5.2.2.cmml">Î¸</mi><mo id="A1.Ex19.m1.7.7.4.4.2.1.3" xref="A1.Ex19.m1.7.7.4.4.2.2.cmml">;</mo><msub id="A1.Ex19.m1.7.7.4.4.2.1.1" xref="A1.Ex19.m1.7.7.4.4.2.1.1.cmml"><mi id="A1.Ex19.m1.7.7.4.4.2.1.1.2" xref="A1.Ex19.m1.7.7.4.4.2.1.1.2.cmml">e</mi><mi id="A1.Ex19.m1.7.7.4.4.2.1.1.3" xref="A1.Ex19.m1.7.7.4.4.2.1.1.3.cmml">d</mi></msub><mo id="A1.Ex19.m1.7.7.4.4.2.1.4" stretchy="false" xref="A1.Ex19.m1.7.7.4.4.2.2.cmml">)</mo></mrow></mrow></mrow><mrow id="A1.Ex19.m1.9.9.6" xref="A1.Ex19.m1.9.9.6.cmml"><msub id="A1.Ex19.m1.9.9.6.3" xref="A1.Ex19.m1.9.9.6.3.cmml"><mo id="A1.Ex19.m1.9.9.6.3.2" xref="A1.Ex19.m1.9.9.6.3.2.cmml">âˆ‘</mo><mrow id="A1.Ex19.m1.9.9.6.3.3" xref="A1.Ex19.m1.9.9.6.3.3.cmml"><msubsup id="A1.Ex19.m1.9.9.6.3.3.2" xref="A1.Ex19.m1.9.9.6.3.3.2.cmml"><mi id="A1.Ex19.m1.9.9.6.3.3.2.2.2" xref="A1.Ex19.m1.9.9.6.3.3.2.2.2.cmml">e</mi><mi id="A1.Ex19.m1.9.9.6.3.3.2.3" xref="A1.Ex19.m1.9.9.6.3.3.2.3.cmml">d</mi><mo id="A1.Ex19.m1.9.9.6.3.3.2.2.3" xref="A1.Ex19.m1.9.9.6.3.3.2.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex19.m1.9.9.6.3.3.1" xref="A1.Ex19.m1.9.9.6.3.3.1.cmml">âˆˆ</mo><msub id="A1.Ex19.m1.9.9.6.3.3.3" xref="A1.Ex19.m1.9.9.6.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex19.m1.9.9.6.3.3.3.2" xref="A1.Ex19.m1.9.9.6.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex19.m1.9.9.6.3.3.3.3" xref="A1.Ex19.m1.9.9.6.3.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="A1.Ex19.m1.9.9.6.2" xref="A1.Ex19.m1.9.9.6.2.cmml"><mi id="A1.Ex19.m1.9.9.6.2.3" xref="A1.Ex19.m1.9.9.6.2.3.cmml">exp</mi><mo id="A1.Ex19.m1.9.9.6.2.2" xref="A1.Ex19.m1.9.9.6.2.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.9.9.6.2.1.1" xref="A1.Ex19.m1.9.9.6.2.1.1.1.cmml"><mo id="A1.Ex19.m1.9.9.6.2.1.1.2" stretchy="false" xref="A1.Ex19.m1.9.9.6.2.1.1.1.cmml">(</mo><mrow id="A1.Ex19.m1.9.9.6.2.1.1.1" xref="A1.Ex19.m1.9.9.6.2.1.1.1.cmml"><mi id="A1.Ex19.m1.9.9.6.2.1.1.1.3" xref="A1.Ex19.m1.9.9.6.2.1.1.1.3.cmml">V</mi><mo id="A1.Ex19.m1.9.9.6.2.1.1.1.2" xref="A1.Ex19.m1.9.9.6.2.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.2.cmml"><mo id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.2" stretchy="false" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex19.m1.8.8.5.1" xref="A1.Ex19.m1.8.8.5.1.cmml">Î¸</mi><mo id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.3" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.2.cmml">;</mo><msubsup id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.cmml"><mi id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.2" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.3" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.3.cmml">d</mi><mo id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.3" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.4" stretchy="false" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex19.m1.9.9.6.2.1.1.3" stretchy="false" xref="A1.Ex19.m1.9.9.6.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="A1.Ex19.m1.11.11.1.1.1.3" xref="A1.Ex19.m1.11.11.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex19.m1.11b"><apply id="A1.Ex19.m1.11.11.cmml" xref="A1.Ex19.m1.11.11"><eq id="A1.Ex19.m1.11.11.2.cmml" xref="A1.Ex19.m1.11.11.2"></eq><csymbol cd="latexml" id="A1.Ex19.m1.11.11.3.cmml" xref="A1.Ex19.m1.11.11.3">absent</csymbol><apply id="A1.Ex19.m1.11.11.1.cmml" xref="A1.Ex19.m1.11.11.1"><times id="A1.Ex19.m1.11.11.1.2.cmml" xref="A1.Ex19.m1.11.11.1.2"></times><apply id="A1.Ex19.m1.11.11.1.3.cmml" xref="A1.Ex19.m1.11.11.1.3"><csymbol cd="ambiguous" id="A1.Ex19.m1.11.11.1.3.1.cmml" xref="A1.Ex19.m1.11.11.1.3">subscript</csymbol><ci id="A1.Ex19.m1.11.11.1.3.2.cmml" xref="A1.Ex19.m1.11.11.1.3.2">ğ”¼</ci><vector id="A1.Ex19.m1.3.3.3.4.cmml" xref="A1.Ex19.m1.3.3.3.3"><apply id="A1.Ex19.m1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex19.m1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex19.m1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex19.m1.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex19.m1.2.2.2.2.2.cmml" xref="A1.Ex19.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex19.m1.2.2.2.2.2.1.cmml" xref="A1.Ex19.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex19.m1.2.2.2.2.2.2.cmml" xref="A1.Ex19.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex19.m1.2.2.2.2.2.3.cmml" xref="A1.Ex19.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex19.m1.3.3.3.3.3.cmml" xref="A1.Ex19.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex19.m1.3.3.3.3.3.1.cmml" xref="A1.Ex19.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex19.m1.3.3.3.3.3.2.cmml" xref="A1.Ex19.m1.3.3.3.3.3.2">â„°</ci><ci id="A1.Ex19.m1.3.3.3.3.3.3.cmml" xref="A1.Ex19.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex19.m1.11.11.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1"><csymbol cd="latexml" id="A1.Ex19.m1.11.11.1.1.2.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex19.m1.11.11.1.1.1.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1"><ci id="A1.Ex19.m1.11.11.1.1.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.2">â‹…</ci><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1"><times id="A1.Ex19.m1.11.11.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.2"></times><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.3">ğœ</ci><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1"><times id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.3">log</ci><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1"><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3"><in id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‰</ci><list id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="A1.Ex19.m1.10.10.cmml" xref="A1.Ex19.m1.10.10">ğœƒ</ci><apply id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.11.11.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply><apply id="A1.Ex19.m1.9.9.cmml" xref="A1.Ex19.m1.9.9"><divide id="A1.Ex19.m1.9.9.7.cmml" xref="A1.Ex19.m1.9.9"></divide><apply id="A1.Ex19.m1.7.7.4.cmml" xref="A1.Ex19.m1.7.7.4"><apply id="A1.Ex19.m1.7.7.4.5.cmml" xref="A1.Ex19.m1.7.7.4.5"><csymbol cd="ambiguous" id="A1.Ex19.m1.7.7.4.5.1.cmml" xref="A1.Ex19.m1.7.7.4.5">subscript</csymbol><sum id="A1.Ex19.m1.7.7.4.5.2.cmml" xref="A1.Ex19.m1.7.7.4.5.2"></sum><apply id="A1.Ex19.m1.7.7.4.5.3.cmml" xref="A1.Ex19.m1.7.7.4.5.3"><in id="A1.Ex19.m1.7.7.4.5.3.1.cmml" xref="A1.Ex19.m1.7.7.4.5.3.1"></in><apply id="A1.Ex19.m1.7.7.4.5.3.2.cmml" xref="A1.Ex19.m1.7.7.4.5.3.2"><csymbol cd="ambiguous" id="A1.Ex19.m1.7.7.4.5.3.2.1.cmml" xref="A1.Ex19.m1.7.7.4.5.3.2">subscript</csymbol><ci id="A1.Ex19.m1.7.7.4.5.3.2.2.cmml" xref="A1.Ex19.m1.7.7.4.5.3.2.2">ğ‘’</ci><ci id="A1.Ex19.m1.7.7.4.5.3.2.3.cmml" xref="A1.Ex19.m1.7.7.4.5.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex19.m1.7.7.4.5.3.3.cmml" xref="A1.Ex19.m1.7.7.4.5.3.3"><csymbol cd="ambiguous" id="A1.Ex19.m1.7.7.4.5.3.3.1.cmml" xref="A1.Ex19.m1.7.7.4.5.3.3">subscript</csymbol><ci id="A1.Ex19.m1.7.7.4.5.3.3.2.cmml" xref="A1.Ex19.m1.7.7.4.5.3.3.2">â„°</ci><ci id="A1.Ex19.m1.7.7.4.5.3.3.3.cmml" xref="A1.Ex19.m1.7.7.4.5.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex19.m1.7.7.4.4.cmml" xref="A1.Ex19.m1.7.7.4.4"><times id="A1.Ex19.m1.7.7.4.4.3.cmml" xref="A1.Ex19.m1.7.7.4.4.3"></times><apply id="A1.Ex19.m1.6.6.3.3.1.cmml" xref="A1.Ex19.m1.6.6.3.3.1"><ci id="A1.Ex19.m1.6.6.3.3.1.2.cmml" xref="A1.Ex19.m1.6.6.3.3.1.2">â‹…</ci><apply id="A1.Ex19.m1.6.6.3.3.1.1.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1"><times id="A1.Ex19.m1.6.6.3.3.1.1.2.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.2"></times><ci id="A1.Ex19.m1.6.6.3.3.1.1.3.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.3">exp</ci><apply id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1"><times id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.2"></times><ci id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.3">ğ‘‰</ci><list id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1"><ci id="A1.Ex19.m1.4.4.1.1.cmml" xref="A1.Ex19.m1.4.4.1.1">ğœƒ</ci><apply id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.6.6.3.3.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply><apply id="A1.Ex19.m1.6.6.3.3.1.3.cmml" xref="A1.Ex19.m1.6.6.3.3.1.3"><apply id="A1.Ex19.m1.6.6.3.3.1.3.1.cmml" xref="A1.Ex19.m1.6.6.3.3.1.3.1"><csymbol cd="ambiguous" id="A1.Ex19.m1.6.6.3.3.1.3.1.1.cmml" xref="A1.Ex19.m1.6.6.3.3.1.3.1">subscript</csymbol><ci id="A1.Ex19.m1.6.6.3.3.1.3.1.2.cmml" xref="A1.Ex19.m1.6.6.3.3.1.3.1.2">âˆ‡</ci><ci id="A1.Ex19.m1.6.6.3.3.1.3.1.3.cmml" xref="A1.Ex19.m1.6.6.3.3.1.3.1.3">ğœƒ</ci></apply><ci id="A1.Ex19.m1.6.6.3.3.1.3.2.cmml" xref="A1.Ex19.m1.6.6.3.3.1.3.2">ğ‘‰</ci></apply></apply><list id="A1.Ex19.m1.7.7.4.4.2.2.cmml" xref="A1.Ex19.m1.7.7.4.4.2.1"><ci id="A1.Ex19.m1.5.5.2.2.cmml" xref="A1.Ex19.m1.5.5.2.2">ğœƒ</ci><apply id="A1.Ex19.m1.7.7.4.4.2.1.1.cmml" xref="A1.Ex19.m1.7.7.4.4.2.1.1"><csymbol cd="ambiguous" id="A1.Ex19.m1.7.7.4.4.2.1.1.1.cmml" xref="A1.Ex19.m1.7.7.4.4.2.1.1">subscript</csymbol><ci id="A1.Ex19.m1.7.7.4.4.2.1.1.2.cmml" xref="A1.Ex19.m1.7.7.4.4.2.1.1.2">ğ‘’</ci><ci id="A1.Ex19.m1.7.7.4.4.2.1.1.3.cmml" xref="A1.Ex19.m1.7.7.4.4.2.1.1.3">ğ‘‘</ci></apply></list></apply></apply><apply id="A1.Ex19.m1.9.9.6.cmml" xref="A1.Ex19.m1.9.9.6"><apply id="A1.Ex19.m1.9.9.6.3.cmml" xref="A1.Ex19.m1.9.9.6.3"><csymbol cd="ambiguous" id="A1.Ex19.m1.9.9.6.3.1.cmml" xref="A1.Ex19.m1.9.9.6.3">subscript</csymbol><sum id="A1.Ex19.m1.9.9.6.3.2.cmml" xref="A1.Ex19.m1.9.9.6.3.2"></sum><apply id="A1.Ex19.m1.9.9.6.3.3.cmml" xref="A1.Ex19.m1.9.9.6.3.3"><in id="A1.Ex19.m1.9.9.6.3.3.1.cmml" xref="A1.Ex19.m1.9.9.6.3.3.1"></in><apply id="A1.Ex19.m1.9.9.6.3.3.2.cmml" xref="A1.Ex19.m1.9.9.6.3.3.2"><csymbol cd="ambiguous" id="A1.Ex19.m1.9.9.6.3.3.2.1.cmml" xref="A1.Ex19.m1.9.9.6.3.3.2">subscript</csymbol><apply id="A1.Ex19.m1.9.9.6.3.3.2.2.cmml" xref="A1.Ex19.m1.9.9.6.3.3.2"><csymbol cd="ambiguous" id="A1.Ex19.m1.9.9.6.3.3.2.2.1.cmml" xref="A1.Ex19.m1.9.9.6.3.3.2">superscript</csymbol><ci id="A1.Ex19.m1.9.9.6.3.3.2.2.2.cmml" xref="A1.Ex19.m1.9.9.6.3.3.2.2.2">ğ‘’</ci><ci id="A1.Ex19.m1.9.9.6.3.3.2.2.3.cmml" xref="A1.Ex19.m1.9.9.6.3.3.2.2.3">â€²</ci></apply><ci id="A1.Ex19.m1.9.9.6.3.3.2.3.cmml" xref="A1.Ex19.m1.9.9.6.3.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex19.m1.9.9.6.3.3.3.cmml" xref="A1.Ex19.m1.9.9.6.3.3.3"><csymbol cd="ambiguous" id="A1.Ex19.m1.9.9.6.3.3.3.1.cmml" xref="A1.Ex19.m1.9.9.6.3.3.3">subscript</csymbol><ci id="A1.Ex19.m1.9.9.6.3.3.3.2.cmml" xref="A1.Ex19.m1.9.9.6.3.3.3.2">â„°</ci><ci id="A1.Ex19.m1.9.9.6.3.3.3.3.cmml" xref="A1.Ex19.m1.9.9.6.3.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex19.m1.9.9.6.2.cmml" xref="A1.Ex19.m1.9.9.6.2"><times id="A1.Ex19.m1.9.9.6.2.2.cmml" xref="A1.Ex19.m1.9.9.6.2.2"></times><ci id="A1.Ex19.m1.9.9.6.2.3.cmml" xref="A1.Ex19.m1.9.9.6.2.3">exp</ci><apply id="A1.Ex19.m1.9.9.6.2.1.1.1.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1"><times id="A1.Ex19.m1.9.9.6.2.1.1.1.2.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.2"></times><ci id="A1.Ex19.m1.9.9.6.2.1.1.1.3.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.3">ğ‘‰</ci><list id="A1.Ex19.m1.9.9.6.2.1.1.1.1.2.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1"><ci id="A1.Ex19.m1.8.8.5.1.cmml" xref="A1.Ex19.m1.8.8.5.1">ğœƒ</ci><apply id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1">subscript</csymbol><apply id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1">superscript</csymbol><ci id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.2.3">â€²</ci></apply><ci id="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.3.cmml" xref="A1.Ex19.m1.9.9.6.2.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex19.m1.11c">\displaystyle=\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma\left({\rm
log%
}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))\right)\cdot\frac{%
\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))\cdot\nabla_{\theta}\,%
V(\theta;e_{d})}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e^{%
\prime}_{d}))}\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex19.m1.11d">= blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ italic_Ïƒ ( roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) ) â‹… divide start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) â‹… âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) end_ARG ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="A1.Ex20"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\beta\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma%
\left({\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))%
\right)\cdot\sum_{e_{d}\in\mathcal{E}_{d}}\frac{\nabla_{\theta}\,{\rm log}\,%
\pi_{\theta}(e_{p}|x_{u})-\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{d}|x_{u}%
)}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e^{\prime}_{d})-V%
(\theta;e_{d}))}\right]" class="ltx_Math" display="inline" id="A1.Ex20.m1.10"><semantics id="A1.Ex20.m1.10a"><mrow id="A1.Ex20.m1.10.10" xref="A1.Ex20.m1.10.10.cmml"><mi id="A1.Ex20.m1.10.10.3" xref="A1.Ex20.m1.10.10.3.cmml"></mi><mo id="A1.Ex20.m1.10.10.2" xref="A1.Ex20.m1.10.10.2.cmml">=</mo><mrow id="A1.Ex20.m1.10.10.1" xref="A1.Ex20.m1.10.10.1.cmml"><mo id="A1.Ex20.m1.10.10.1a" xref="A1.Ex20.m1.10.10.1.cmml">âˆ’</mo><mrow id="A1.Ex20.m1.10.10.1.1" xref="A1.Ex20.m1.10.10.1.1.cmml"><mi id="A1.Ex20.m1.10.10.1.1.3" xref="A1.Ex20.m1.10.10.1.1.3.cmml">Î²</mi><mo id="A1.Ex20.m1.10.10.1.1.2" xref="A1.Ex20.m1.10.10.1.1.2.cmml">â¢</mo><msub id="A1.Ex20.m1.10.10.1.1.4" xref="A1.Ex20.m1.10.10.1.1.4.cmml"><mi id="A1.Ex20.m1.10.10.1.1.4.2" xref="A1.Ex20.m1.10.10.1.1.4.2.cmml">ğ”¼</mi><mrow id="A1.Ex20.m1.3.3.3.3" xref="A1.Ex20.m1.3.3.3.4.cmml"><mo id="A1.Ex20.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex20.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex20.m1.1.1.1.1.1" xref="A1.Ex20.m1.1.1.1.1.1.cmml"><mi id="A1.Ex20.m1.1.1.1.1.1.2" xref="A1.Ex20.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex20.m1.1.1.1.1.1.3" xref="A1.Ex20.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex20.m1.3.3.3.3.5" xref="A1.Ex20.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex20.m1.2.2.2.2.2" xref="A1.Ex20.m1.2.2.2.2.2.cmml"><mi id="A1.Ex20.m1.2.2.2.2.2.2" xref="A1.Ex20.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex20.m1.2.2.2.2.2.3" xref="A1.Ex20.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex20.m1.3.3.3.3.6" xref="A1.Ex20.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex20.m1.3.3.3.3.3" xref="A1.Ex20.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex20.m1.3.3.3.3.3.2" xref="A1.Ex20.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex20.m1.3.3.3.3.3.3" xref="A1.Ex20.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex20.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex20.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex20.m1.10.10.1.1.2a" xref="A1.Ex20.m1.10.10.1.1.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.2.cmml"><mo id="A1.Ex20.m1.10.10.1.1.1.1.2" xref="A1.Ex20.m1.10.10.1.1.1.2.1.cmml">[</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.cmml"><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.cmml"><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.3.cmml">Ïƒ</mi><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2a" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">V</mi><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex20.m1.9.9" xref="A1.Ex20.m1.9.9.cmml">Î¸</mi><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">;</mo><msub id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" stretchy="false" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.3" rspace="0.055em" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.2" rspace="0.222em" xref="A1.Ex20.m1.10.10.1.1.1.1.1.2.cmml">â‹…</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.cmml"><munder id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1a" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.cmml"><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.2" movablelimits="false" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.2.cmml">âˆ‘</mo><mrow id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.cmml"><msub id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.cmml"><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.2.cmml">e</mi><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.3.cmml">d</mi></msub><mo id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.1" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.1.cmml">âˆˆ</mo><msub id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.2" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.2.cmml">â„°</mi><mi id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.3" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mstyle displaystyle="true" id="A1.Ex20.m1.8.8" xref="A1.Ex20.m1.8.8.cmml"><mfrac id="A1.Ex20.m1.8.8a" xref="A1.Ex20.m1.8.8.cmml"><mrow id="A1.Ex20.m1.5.5.2" xref="A1.Ex20.m1.5.5.2.cmml"><mrow id="A1.Ex20.m1.4.4.1.1" xref="A1.Ex20.m1.4.4.1.1.cmml"><mrow id="A1.Ex20.m1.4.4.1.1.3" xref="A1.Ex20.m1.4.4.1.1.3.cmml"><msub id="A1.Ex20.m1.4.4.1.1.3.1" xref="A1.Ex20.m1.4.4.1.1.3.1.cmml"><mo id="A1.Ex20.m1.4.4.1.1.3.1.2" xref="A1.Ex20.m1.4.4.1.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex20.m1.4.4.1.1.3.1.3" xref="A1.Ex20.m1.4.4.1.1.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.Ex20.m1.4.4.1.1.3.2" xref="A1.Ex20.m1.4.4.1.1.3.2.cmml"><mi id="A1.Ex20.m1.4.4.1.1.3.2.2" xref="A1.Ex20.m1.4.4.1.1.3.2.2.cmml">log</mi><mo id="A1.Ex20.m1.4.4.1.1.3.2.1" lspace="0.170em" xref="A1.Ex20.m1.4.4.1.1.3.2.1.cmml">â¢</mo><msub id="A1.Ex20.m1.4.4.1.1.3.2.3" xref="A1.Ex20.m1.4.4.1.1.3.2.3.cmml"><mi id="A1.Ex20.m1.4.4.1.1.3.2.3.2" xref="A1.Ex20.m1.4.4.1.1.3.2.3.2.cmml">Ï€</mi><mi id="A1.Ex20.m1.4.4.1.1.3.2.3.3" xref="A1.Ex20.m1.4.4.1.1.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="A1.Ex20.m1.4.4.1.1.2" xref="A1.Ex20.m1.4.4.1.1.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.4.4.1.1.1.1" xref="A1.Ex20.m1.4.4.1.1.1.1.1.cmml"><mo id="A1.Ex20.m1.4.4.1.1.1.1.2" stretchy="false" xref="A1.Ex20.m1.4.4.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex20.m1.4.4.1.1.1.1.1" xref="A1.Ex20.m1.4.4.1.1.1.1.1.cmml"><msub id="A1.Ex20.m1.4.4.1.1.1.1.1.2" xref="A1.Ex20.m1.4.4.1.1.1.1.1.2.cmml"><mi id="A1.Ex20.m1.4.4.1.1.1.1.1.2.2" xref="A1.Ex20.m1.4.4.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex20.m1.4.4.1.1.1.1.1.2.3" xref="A1.Ex20.m1.4.4.1.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex20.m1.4.4.1.1.1.1.1.1" xref="A1.Ex20.m1.4.4.1.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex20.m1.4.4.1.1.1.1.1.3" xref="A1.Ex20.m1.4.4.1.1.1.1.1.3.cmml"><mi id="A1.Ex20.m1.4.4.1.1.1.1.1.3.2" xref="A1.Ex20.m1.4.4.1.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex20.m1.4.4.1.1.1.1.1.3.3" xref="A1.Ex20.m1.4.4.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex20.m1.4.4.1.1.1.1.3" stretchy="false" xref="A1.Ex20.m1.4.4.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex20.m1.5.5.2.3" xref="A1.Ex20.m1.5.5.2.3.cmml">âˆ’</mo><mrow id="A1.Ex20.m1.5.5.2.2" xref="A1.Ex20.m1.5.5.2.2.cmml"><mrow id="A1.Ex20.m1.5.5.2.2.3" xref="A1.Ex20.m1.5.5.2.2.3.cmml"><msub id="A1.Ex20.m1.5.5.2.2.3.1" xref="A1.Ex20.m1.5.5.2.2.3.1.cmml"><mo id="A1.Ex20.m1.5.5.2.2.3.1.2" rspace="0.167em" xref="A1.Ex20.m1.5.5.2.2.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex20.m1.5.5.2.2.3.1.3" xref="A1.Ex20.m1.5.5.2.2.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.Ex20.m1.5.5.2.2.3.2" xref="A1.Ex20.m1.5.5.2.2.3.2.cmml"><mi id="A1.Ex20.m1.5.5.2.2.3.2.2" xref="A1.Ex20.m1.5.5.2.2.3.2.2.cmml">log</mi><mo id="A1.Ex20.m1.5.5.2.2.3.2.1" lspace="0.170em" xref="A1.Ex20.m1.5.5.2.2.3.2.1.cmml">â¢</mo><msub id="A1.Ex20.m1.5.5.2.2.3.2.3" xref="A1.Ex20.m1.5.5.2.2.3.2.3.cmml"><mi id="A1.Ex20.m1.5.5.2.2.3.2.3.2" xref="A1.Ex20.m1.5.5.2.2.3.2.3.2.cmml">Ï€</mi><mi id="A1.Ex20.m1.5.5.2.2.3.2.3.3" xref="A1.Ex20.m1.5.5.2.2.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="A1.Ex20.m1.5.5.2.2.2" xref="A1.Ex20.m1.5.5.2.2.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.5.5.2.2.1.1" xref="A1.Ex20.m1.5.5.2.2.1.1.1.cmml"><mo id="A1.Ex20.m1.5.5.2.2.1.1.2" stretchy="false" xref="A1.Ex20.m1.5.5.2.2.1.1.1.cmml">(</mo><mrow id="A1.Ex20.m1.5.5.2.2.1.1.1" xref="A1.Ex20.m1.5.5.2.2.1.1.1.cmml"><msub id="A1.Ex20.m1.5.5.2.2.1.1.1.2" xref="A1.Ex20.m1.5.5.2.2.1.1.1.2.cmml"><mi id="A1.Ex20.m1.5.5.2.2.1.1.1.2.2" xref="A1.Ex20.m1.5.5.2.2.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex20.m1.5.5.2.2.1.1.1.2.3" xref="A1.Ex20.m1.5.5.2.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex20.m1.5.5.2.2.1.1.1.1" xref="A1.Ex20.m1.5.5.2.2.1.1.1.1.cmml">|</mo><msub id="A1.Ex20.m1.5.5.2.2.1.1.1.3" xref="A1.Ex20.m1.5.5.2.2.1.1.1.3.cmml"><mi id="A1.Ex20.m1.5.5.2.2.1.1.1.3.2" xref="A1.Ex20.m1.5.5.2.2.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex20.m1.5.5.2.2.1.1.1.3.3" xref="A1.Ex20.m1.5.5.2.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex20.m1.5.5.2.2.1.1.3" stretchy="false" xref="A1.Ex20.m1.5.5.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="A1.Ex20.m1.8.8.5" xref="A1.Ex20.m1.8.8.5.cmml"><msub id="A1.Ex20.m1.8.8.5.4" xref="A1.Ex20.m1.8.8.5.4.cmml"><mo id="A1.Ex20.m1.8.8.5.4.2" xref="A1.Ex20.m1.8.8.5.4.2.cmml">âˆ‘</mo><mrow id="A1.Ex20.m1.8.8.5.4.3" xref="A1.Ex20.m1.8.8.5.4.3.cmml"><msubsup id="A1.Ex20.m1.8.8.5.4.3.2" xref="A1.Ex20.m1.8.8.5.4.3.2.cmml"><mi id="A1.Ex20.m1.8.8.5.4.3.2.2.2" xref="A1.Ex20.m1.8.8.5.4.3.2.2.2.cmml">e</mi><mi id="A1.Ex20.m1.8.8.5.4.3.2.3" xref="A1.Ex20.m1.8.8.5.4.3.2.3.cmml">d</mi><mo id="A1.Ex20.m1.8.8.5.4.3.2.2.3" xref="A1.Ex20.m1.8.8.5.4.3.2.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex20.m1.8.8.5.4.3.1" xref="A1.Ex20.m1.8.8.5.4.3.1.cmml">âˆˆ</mo><msub id="A1.Ex20.m1.8.8.5.4.3.3" xref="A1.Ex20.m1.8.8.5.4.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex20.m1.8.8.5.4.3.3.2" xref="A1.Ex20.m1.8.8.5.4.3.3.2.cmml">â„°</mi><mi id="A1.Ex20.m1.8.8.5.4.3.3.3" xref="A1.Ex20.m1.8.8.5.4.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="A1.Ex20.m1.8.8.5.3" xref="A1.Ex20.m1.8.8.5.3.cmml"><mi id="A1.Ex20.m1.8.8.5.3.3" xref="A1.Ex20.m1.8.8.5.3.3.cmml">exp</mi><mo id="A1.Ex20.m1.8.8.5.3.2" xref="A1.Ex20.m1.8.8.5.3.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.8.8.5.3.1.1" xref="A1.Ex20.m1.8.8.5.3.1.1.1.cmml"><mo id="A1.Ex20.m1.8.8.5.3.1.1.2" stretchy="false" xref="A1.Ex20.m1.8.8.5.3.1.1.1.cmml">(</mo><mrow id="A1.Ex20.m1.8.8.5.3.1.1.1" xref="A1.Ex20.m1.8.8.5.3.1.1.1.cmml"><mrow id="A1.Ex20.m1.8.8.5.3.1.1.1.1" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.cmml"><mi id="A1.Ex20.m1.8.8.5.3.1.1.1.1.3" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.3.cmml">V</mi><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.1.2" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.2.cmml"><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex20.m1.6.6.3.1" xref="A1.Ex20.m1.6.6.3.1.cmml">Î¸</mi><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.3" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.2.cmml">;</mo><msubsup id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.2" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.3" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.3.cmml">d</mi><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.3" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.4" stretchy="false" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.3" xref="A1.Ex20.m1.8.8.5.3.1.1.1.3.cmml">âˆ’</mo><mrow id="A1.Ex20.m1.8.8.5.3.1.1.1.2" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.cmml"><mi id="A1.Ex20.m1.8.8.5.3.1.1.1.2.3" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.3.cmml">V</mi><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.2.2" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.2.cmml">â¢</mo><mrow id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.2.cmml"><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.2" stretchy="false" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.2.cmml">(</mo><mi id="A1.Ex20.m1.7.7.4.2" xref="A1.Ex20.m1.7.7.4.2.cmml">Î¸</mi><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.3" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.2.cmml">;</mo><msub id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.cmml"><mi id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.2" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.2.cmml">e</mi><mi id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.3" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.4" stretchy="false" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="A1.Ex20.m1.8.8.5.3.1.1.3" stretchy="false" xref="A1.Ex20.m1.8.8.5.3.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="A1.Ex20.m1.10.10.1.1.1.1.3" xref="A1.Ex20.m1.10.10.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex20.m1.10b"><apply id="A1.Ex20.m1.10.10.cmml" xref="A1.Ex20.m1.10.10"><eq id="A1.Ex20.m1.10.10.2.cmml" xref="A1.Ex20.m1.10.10.2"></eq><csymbol cd="latexml" id="A1.Ex20.m1.10.10.3.cmml" xref="A1.Ex20.m1.10.10.3">absent</csymbol><apply id="A1.Ex20.m1.10.10.1.cmml" xref="A1.Ex20.m1.10.10.1"><minus id="A1.Ex20.m1.10.10.1.2.cmml" xref="A1.Ex20.m1.10.10.1"></minus><apply id="A1.Ex20.m1.10.10.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1"><times id="A1.Ex20.m1.10.10.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.2"></times><ci id="A1.Ex20.m1.10.10.1.1.3.cmml" xref="A1.Ex20.m1.10.10.1.1.3">ğ›½</ci><apply id="A1.Ex20.m1.10.10.1.1.4.cmml" xref="A1.Ex20.m1.10.10.1.1.4"><csymbol cd="ambiguous" id="A1.Ex20.m1.10.10.1.1.4.1.cmml" xref="A1.Ex20.m1.10.10.1.1.4">subscript</csymbol><ci id="A1.Ex20.m1.10.10.1.1.4.2.cmml" xref="A1.Ex20.m1.10.10.1.1.4.2">ğ”¼</ci><vector id="A1.Ex20.m1.3.3.3.4.cmml" xref="A1.Ex20.m1.3.3.3.3"><apply id="A1.Ex20.m1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex20.m1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex20.m1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex20.m1.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex20.m1.2.2.2.2.2.cmml" xref="A1.Ex20.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex20.m1.2.2.2.2.2.1.cmml" xref="A1.Ex20.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex20.m1.2.2.2.2.2.2.cmml" xref="A1.Ex20.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex20.m1.2.2.2.2.2.3.cmml" xref="A1.Ex20.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex20.m1.3.3.3.3.3.cmml" xref="A1.Ex20.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex20.m1.3.3.3.3.3.1.cmml" xref="A1.Ex20.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex20.m1.3.3.3.3.3.2.cmml" xref="A1.Ex20.m1.3.3.3.3.3.2">â„°</ci><ci id="A1.Ex20.m1.3.3.3.3.3.3.cmml" xref="A1.Ex20.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex20.m1.10.10.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1"><csymbol cd="latexml" id="A1.Ex20.m1.10.10.1.1.1.2.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1"><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.2">â‹…</ci><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1"><times id="A1.Ex20.m1.10.10.1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.2"></times><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.3">ğœ</ci><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1"><times id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.3">log</ci><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1"><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3"><in id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‰</ci><list id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><ci id="A1.Ex20.m1.9.9.cmml" xref="A1.Ex20.m1.9.9">ğœƒ</ci><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3"><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1">subscript</csymbol><sum id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.2"></sum><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3"><in id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.1"></in><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2"><csymbol cd="ambiguous" id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2">subscript</csymbol><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.2">ğ‘’</ci><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.1.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3">subscript</csymbol><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.2.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.2">â„°</ci><ci id="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.3.cmml" xref="A1.Ex20.m1.10.10.1.1.1.1.1.3.1.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex20.m1.8.8.cmml" xref="A1.Ex20.m1.8.8"><divide id="A1.Ex20.m1.8.8.6.cmml" xref="A1.Ex20.m1.8.8"></divide><apply id="A1.Ex20.m1.5.5.2.cmml" xref="A1.Ex20.m1.5.5.2"><minus id="A1.Ex20.m1.5.5.2.3.cmml" xref="A1.Ex20.m1.5.5.2.3"></minus><apply id="A1.Ex20.m1.4.4.1.1.cmml" xref="A1.Ex20.m1.4.4.1.1"><times id="A1.Ex20.m1.4.4.1.1.2.cmml" xref="A1.Ex20.m1.4.4.1.1.2"></times><apply id="A1.Ex20.m1.4.4.1.1.3.cmml" xref="A1.Ex20.m1.4.4.1.1.3"><apply id="A1.Ex20.m1.4.4.1.1.3.1.cmml" xref="A1.Ex20.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex20.m1.4.4.1.1.3.1.1.cmml" xref="A1.Ex20.m1.4.4.1.1.3.1">subscript</csymbol><ci id="A1.Ex20.m1.4.4.1.1.3.1.2.cmml" xref="A1.Ex20.m1.4.4.1.1.3.1.2">âˆ‡</ci><ci id="A1.Ex20.m1.4.4.1.1.3.1.3.cmml" xref="A1.Ex20.m1.4.4.1.1.3.1.3">ğœƒ</ci></apply><apply id="A1.Ex20.m1.4.4.1.1.3.2.cmml" xref="A1.Ex20.m1.4.4.1.1.3.2"><times id="A1.Ex20.m1.4.4.1.1.3.2.1.cmml" xref="A1.Ex20.m1.4.4.1.1.3.2.1"></times><ci id="A1.Ex20.m1.4.4.1.1.3.2.2.cmml" xref="A1.Ex20.m1.4.4.1.1.3.2.2">log</ci><apply id="A1.Ex20.m1.4.4.1.1.3.2.3.cmml" xref="A1.Ex20.m1.4.4.1.1.3.2.3"><csymbol cd="ambiguous" id="A1.Ex20.m1.4.4.1.1.3.2.3.1.cmml" xref="A1.Ex20.m1.4.4.1.1.3.2.3">subscript</csymbol><ci id="A1.Ex20.m1.4.4.1.1.3.2.3.2.cmml" xref="A1.Ex20.m1.4.4.1.1.3.2.3.2">ğœ‹</ci><ci id="A1.Ex20.m1.4.4.1.1.3.2.3.3.cmml" xref="A1.Ex20.m1.4.4.1.1.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="A1.Ex20.m1.4.4.1.1.1.1.1.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1"><csymbol cd="latexml" id="A1.Ex20.m1.4.4.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex20.m1.4.4.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex20.m1.4.4.1.1.1.1.1.2.1.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex20.m1.4.4.1.1.1.1.1.2.2.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex20.m1.4.4.1.1.1.1.1.2.3.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex20.m1.4.4.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex20.m1.4.4.1.1.1.1.1.3.1.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex20.m1.4.4.1.1.1.1.1.3.2.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex20.m1.4.4.1.1.1.1.1.3.3.cmml" xref="A1.Ex20.m1.4.4.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex20.m1.5.5.2.2.cmml" xref="A1.Ex20.m1.5.5.2.2"><times id="A1.Ex20.m1.5.5.2.2.2.cmml" xref="A1.Ex20.m1.5.5.2.2.2"></times><apply id="A1.Ex20.m1.5.5.2.2.3.cmml" xref="A1.Ex20.m1.5.5.2.2.3"><apply id="A1.Ex20.m1.5.5.2.2.3.1.cmml" xref="A1.Ex20.m1.5.5.2.2.3.1"><csymbol cd="ambiguous" id="A1.Ex20.m1.5.5.2.2.3.1.1.cmml" xref="A1.Ex20.m1.5.5.2.2.3.1">subscript</csymbol><ci id="A1.Ex20.m1.5.5.2.2.3.1.2.cmml" xref="A1.Ex20.m1.5.5.2.2.3.1.2">âˆ‡</ci><ci id="A1.Ex20.m1.5.5.2.2.3.1.3.cmml" xref="A1.Ex20.m1.5.5.2.2.3.1.3">ğœƒ</ci></apply><apply id="A1.Ex20.m1.5.5.2.2.3.2.cmml" xref="A1.Ex20.m1.5.5.2.2.3.2"><times id="A1.Ex20.m1.5.5.2.2.3.2.1.cmml" xref="A1.Ex20.m1.5.5.2.2.3.2.1"></times><ci id="A1.Ex20.m1.5.5.2.2.3.2.2.cmml" xref="A1.Ex20.m1.5.5.2.2.3.2.2">log</ci><apply id="A1.Ex20.m1.5.5.2.2.3.2.3.cmml" xref="A1.Ex20.m1.5.5.2.2.3.2.3"><csymbol cd="ambiguous" id="A1.Ex20.m1.5.5.2.2.3.2.3.1.cmml" xref="A1.Ex20.m1.5.5.2.2.3.2.3">subscript</csymbol><ci id="A1.Ex20.m1.5.5.2.2.3.2.3.2.cmml" xref="A1.Ex20.m1.5.5.2.2.3.2.3.2">ğœ‹</ci><ci id="A1.Ex20.m1.5.5.2.2.3.2.3.3.cmml" xref="A1.Ex20.m1.5.5.2.2.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="A1.Ex20.m1.5.5.2.2.1.1.1.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1"><csymbol cd="latexml" id="A1.Ex20.m1.5.5.2.2.1.1.1.1.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.1">conditional</csymbol><apply id="A1.Ex20.m1.5.5.2.2.1.1.1.2.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex20.m1.5.5.2.2.1.1.1.2.1.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.2">subscript</csymbol><ci id="A1.Ex20.m1.5.5.2.2.1.1.1.2.2.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex20.m1.5.5.2.2.1.1.1.2.3.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex20.m1.5.5.2.2.1.1.1.3.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex20.m1.5.5.2.2.1.1.1.3.1.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.3">subscript</csymbol><ci id="A1.Ex20.m1.5.5.2.2.1.1.1.3.2.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex20.m1.5.5.2.2.1.1.1.3.3.cmml" xref="A1.Ex20.m1.5.5.2.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply><apply id="A1.Ex20.m1.8.8.5.cmml" xref="A1.Ex20.m1.8.8.5"><apply id="A1.Ex20.m1.8.8.5.4.cmml" xref="A1.Ex20.m1.8.8.5.4"><csymbol cd="ambiguous" id="A1.Ex20.m1.8.8.5.4.1.cmml" xref="A1.Ex20.m1.8.8.5.4">subscript</csymbol><sum id="A1.Ex20.m1.8.8.5.4.2.cmml" xref="A1.Ex20.m1.8.8.5.4.2"></sum><apply id="A1.Ex20.m1.8.8.5.4.3.cmml" xref="A1.Ex20.m1.8.8.5.4.3"><in id="A1.Ex20.m1.8.8.5.4.3.1.cmml" xref="A1.Ex20.m1.8.8.5.4.3.1"></in><apply id="A1.Ex20.m1.8.8.5.4.3.2.cmml" xref="A1.Ex20.m1.8.8.5.4.3.2"><csymbol cd="ambiguous" id="A1.Ex20.m1.8.8.5.4.3.2.1.cmml" xref="A1.Ex20.m1.8.8.5.4.3.2">subscript</csymbol><apply id="A1.Ex20.m1.8.8.5.4.3.2.2.cmml" xref="A1.Ex20.m1.8.8.5.4.3.2"><csymbol cd="ambiguous" id="A1.Ex20.m1.8.8.5.4.3.2.2.1.cmml" xref="A1.Ex20.m1.8.8.5.4.3.2">superscript</csymbol><ci id="A1.Ex20.m1.8.8.5.4.3.2.2.2.cmml" xref="A1.Ex20.m1.8.8.5.4.3.2.2.2">ğ‘’</ci><ci id="A1.Ex20.m1.8.8.5.4.3.2.2.3.cmml" xref="A1.Ex20.m1.8.8.5.4.3.2.2.3">â€²</ci></apply><ci id="A1.Ex20.m1.8.8.5.4.3.2.3.cmml" xref="A1.Ex20.m1.8.8.5.4.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex20.m1.8.8.5.4.3.3.cmml" xref="A1.Ex20.m1.8.8.5.4.3.3"><csymbol cd="ambiguous" id="A1.Ex20.m1.8.8.5.4.3.3.1.cmml" xref="A1.Ex20.m1.8.8.5.4.3.3">subscript</csymbol><ci id="A1.Ex20.m1.8.8.5.4.3.3.2.cmml" xref="A1.Ex20.m1.8.8.5.4.3.3.2">â„°</ci><ci id="A1.Ex20.m1.8.8.5.4.3.3.3.cmml" xref="A1.Ex20.m1.8.8.5.4.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex20.m1.8.8.5.3.cmml" xref="A1.Ex20.m1.8.8.5.3"><times id="A1.Ex20.m1.8.8.5.3.2.cmml" xref="A1.Ex20.m1.8.8.5.3.2"></times><ci id="A1.Ex20.m1.8.8.5.3.3.cmml" xref="A1.Ex20.m1.8.8.5.3.3">exp</ci><apply id="A1.Ex20.m1.8.8.5.3.1.1.1.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1"><minus id="A1.Ex20.m1.8.8.5.3.1.1.1.3.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.3"></minus><apply id="A1.Ex20.m1.8.8.5.3.1.1.1.1.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1"><times id="A1.Ex20.m1.8.8.5.3.1.1.1.1.2.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.2"></times><ci id="A1.Ex20.m1.8.8.5.3.1.1.1.1.3.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.3">ğ‘‰</ci><list id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1"><ci id="A1.Ex20.m1.6.6.3.1.cmml" xref="A1.Ex20.m1.6.6.3.1">ğœƒ</ci><apply id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1">subscript</csymbol><apply id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1">superscript</csymbol><ci id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.2.3">â€²</ci></apply><ci id="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply><apply id="A1.Ex20.m1.8.8.5.3.1.1.1.2.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2"><times id="A1.Ex20.m1.8.8.5.3.1.1.1.2.2.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.2"></times><ci id="A1.Ex20.m1.8.8.5.3.1.1.1.2.3.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.3">ğ‘‰</ci><list id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.2.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1"><ci id="A1.Ex20.m1.7.7.4.2.cmml" xref="A1.Ex20.m1.7.7.4.2">ğœƒ</ci><apply id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.1.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1">subscript</csymbol><ci id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.2.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.2">ğ‘’</ci><ci id="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.3.cmml" xref="A1.Ex20.m1.8.8.5.3.1.1.1.2.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex20.m1.10c">\displaystyle=-\beta\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma%
\left({\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))%
\right)\cdot\sum_{e_{d}\in\mathcal{E}_{d}}\frac{\nabla_{\theta}\,{\rm log}\,%
\pi_{\theta}(e_{p}|x_{u})-\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{d}|x_{u}%
)}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(V(\theta;e^{\prime}_{d})-V%
(\theta;e_{d}))}\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex20.m1.10d">= - italic_Î² blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ italic_Ïƒ ( roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) ) â‹… âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT divide start_ARG âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) - âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) - italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) end_ARG ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(Eq. (<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A1.E16" title="In A.3 Deriving the Gradient of S-DPO Loss â€£ Appendix A Mathematical Derivations â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">16</span></a>))</span></td>
</tr></tbody>
<tbody id="A1.Ex21"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\beta\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma%
\left({\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e_{d},e_{p},x_{u}))%
\right)\cdot\sum_{e_{d}\in\mathcal{E}_{d}}\frac{\nabla_{\theta}\,{\rm log}\,%
\pi_{\theta}(e_{p}|x_{u})-\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{d}|x_{u}%
)}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e^{\prime}_{d},e_{d},x_{%
u}))}\right]" class="ltx_Math" display="inline" id="A1.Ex21.m1.7"><semantics id="A1.Ex21.m1.7a"><mrow id="A1.Ex21.m1.7.7" xref="A1.Ex21.m1.7.7.cmml"><mi id="A1.Ex21.m1.7.7.3" xref="A1.Ex21.m1.7.7.3.cmml"></mi><mo id="A1.Ex21.m1.7.7.2" xref="A1.Ex21.m1.7.7.2.cmml">=</mo><mrow id="A1.Ex21.m1.7.7.1" xref="A1.Ex21.m1.7.7.1.cmml"><mo id="A1.Ex21.m1.7.7.1a" xref="A1.Ex21.m1.7.7.1.cmml">âˆ’</mo><mrow id="A1.Ex21.m1.7.7.1.1" xref="A1.Ex21.m1.7.7.1.1.cmml"><mi id="A1.Ex21.m1.7.7.1.1.3" xref="A1.Ex21.m1.7.7.1.1.3.cmml">Î²</mi><mo id="A1.Ex21.m1.7.7.1.1.2" xref="A1.Ex21.m1.7.7.1.1.2.cmml">â¢</mo><msub id="A1.Ex21.m1.7.7.1.1.4" xref="A1.Ex21.m1.7.7.1.1.4.cmml"><mi id="A1.Ex21.m1.7.7.1.1.4.2" xref="A1.Ex21.m1.7.7.1.1.4.2.cmml">ğ”¼</mi><mrow id="A1.Ex21.m1.3.3.3.3" xref="A1.Ex21.m1.3.3.3.4.cmml"><mo id="A1.Ex21.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex21.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex21.m1.1.1.1.1.1" xref="A1.Ex21.m1.1.1.1.1.1.cmml"><mi id="A1.Ex21.m1.1.1.1.1.1.2" xref="A1.Ex21.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex21.m1.1.1.1.1.1.3" xref="A1.Ex21.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex21.m1.3.3.3.3.5" xref="A1.Ex21.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex21.m1.2.2.2.2.2" xref="A1.Ex21.m1.2.2.2.2.2.cmml"><mi id="A1.Ex21.m1.2.2.2.2.2.2" xref="A1.Ex21.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex21.m1.2.2.2.2.2.3" xref="A1.Ex21.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex21.m1.3.3.3.3.6" xref="A1.Ex21.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex21.m1.3.3.3.3.3" xref="A1.Ex21.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex21.m1.3.3.3.3.3.2" xref="A1.Ex21.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex21.m1.3.3.3.3.3.3" xref="A1.Ex21.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex21.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex21.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex21.m1.7.7.1.1.2a" xref="A1.Ex21.m1.7.7.1.1.2.cmml">â¢</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.2.cmml"><mo id="A1.Ex21.m1.7.7.1.1.1.1.2" xref="A1.Ex21.m1.7.7.1.1.1.2.1.cmml">[</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.cmml"><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.3.cmml">Ïƒ</mi><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2a" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.5" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.5.cmml">g</mi><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml">â¢</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml"><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msub id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.5" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.6" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.7" stretchy="false" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.3" rspace="0.055em" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.2" rspace="0.222em" xref="A1.Ex21.m1.7.7.1.1.1.1.1.2.cmml">â‹…</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.cmml"><munder id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1a" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.cmml"><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.2" movablelimits="false" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.2.cmml">âˆ‘</mo><mrow id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.cmml"><msub id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.cmml"><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.2.cmml">e</mi><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.3.cmml">d</mi></msub><mo id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.1" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.1.cmml">âˆˆ</mo><msub id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.2" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.2.cmml">â„°</mi><mi id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.3" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mstyle displaystyle="true" id="A1.Ex21.m1.6.6" xref="A1.Ex21.m1.6.6.cmml"><mfrac id="A1.Ex21.m1.6.6a" xref="A1.Ex21.m1.6.6.cmml"><mrow id="A1.Ex21.m1.5.5.2" xref="A1.Ex21.m1.5.5.2.cmml"><mrow id="A1.Ex21.m1.4.4.1.1" xref="A1.Ex21.m1.4.4.1.1.cmml"><mrow id="A1.Ex21.m1.4.4.1.1.3" xref="A1.Ex21.m1.4.4.1.1.3.cmml"><msub id="A1.Ex21.m1.4.4.1.1.3.1" xref="A1.Ex21.m1.4.4.1.1.3.1.cmml"><mo id="A1.Ex21.m1.4.4.1.1.3.1.2" xref="A1.Ex21.m1.4.4.1.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex21.m1.4.4.1.1.3.1.3" xref="A1.Ex21.m1.4.4.1.1.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.Ex21.m1.4.4.1.1.3.2" xref="A1.Ex21.m1.4.4.1.1.3.2.cmml"><mi id="A1.Ex21.m1.4.4.1.1.3.2.2" xref="A1.Ex21.m1.4.4.1.1.3.2.2.cmml">log</mi><mo id="A1.Ex21.m1.4.4.1.1.3.2.1" lspace="0.170em" xref="A1.Ex21.m1.4.4.1.1.3.2.1.cmml">â¢</mo><msub id="A1.Ex21.m1.4.4.1.1.3.2.3" xref="A1.Ex21.m1.4.4.1.1.3.2.3.cmml"><mi id="A1.Ex21.m1.4.4.1.1.3.2.3.2" xref="A1.Ex21.m1.4.4.1.1.3.2.3.2.cmml">Ï€</mi><mi id="A1.Ex21.m1.4.4.1.1.3.2.3.3" xref="A1.Ex21.m1.4.4.1.1.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="A1.Ex21.m1.4.4.1.1.2" xref="A1.Ex21.m1.4.4.1.1.2.cmml">â¢</mo><mrow id="A1.Ex21.m1.4.4.1.1.1.1" xref="A1.Ex21.m1.4.4.1.1.1.1.1.cmml"><mo id="A1.Ex21.m1.4.4.1.1.1.1.2" stretchy="false" xref="A1.Ex21.m1.4.4.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex21.m1.4.4.1.1.1.1.1" xref="A1.Ex21.m1.4.4.1.1.1.1.1.cmml"><msub id="A1.Ex21.m1.4.4.1.1.1.1.1.2" xref="A1.Ex21.m1.4.4.1.1.1.1.1.2.cmml"><mi id="A1.Ex21.m1.4.4.1.1.1.1.1.2.2" xref="A1.Ex21.m1.4.4.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex21.m1.4.4.1.1.1.1.1.2.3" xref="A1.Ex21.m1.4.4.1.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex21.m1.4.4.1.1.1.1.1.1" xref="A1.Ex21.m1.4.4.1.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex21.m1.4.4.1.1.1.1.1.3" xref="A1.Ex21.m1.4.4.1.1.1.1.1.3.cmml"><mi id="A1.Ex21.m1.4.4.1.1.1.1.1.3.2" xref="A1.Ex21.m1.4.4.1.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex21.m1.4.4.1.1.1.1.1.3.3" xref="A1.Ex21.m1.4.4.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex21.m1.4.4.1.1.1.1.3" stretchy="false" xref="A1.Ex21.m1.4.4.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex21.m1.5.5.2.3" xref="A1.Ex21.m1.5.5.2.3.cmml">âˆ’</mo><mrow id="A1.Ex21.m1.5.5.2.2" xref="A1.Ex21.m1.5.5.2.2.cmml"><mrow id="A1.Ex21.m1.5.5.2.2.3" xref="A1.Ex21.m1.5.5.2.2.3.cmml"><msub id="A1.Ex21.m1.5.5.2.2.3.1" xref="A1.Ex21.m1.5.5.2.2.3.1.cmml"><mo id="A1.Ex21.m1.5.5.2.2.3.1.2" rspace="0.167em" xref="A1.Ex21.m1.5.5.2.2.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex21.m1.5.5.2.2.3.1.3" xref="A1.Ex21.m1.5.5.2.2.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.Ex21.m1.5.5.2.2.3.2" xref="A1.Ex21.m1.5.5.2.2.3.2.cmml"><mi id="A1.Ex21.m1.5.5.2.2.3.2.2" xref="A1.Ex21.m1.5.5.2.2.3.2.2.cmml">log</mi><mo id="A1.Ex21.m1.5.5.2.2.3.2.1" lspace="0.170em" xref="A1.Ex21.m1.5.5.2.2.3.2.1.cmml">â¢</mo><msub id="A1.Ex21.m1.5.5.2.2.3.2.3" xref="A1.Ex21.m1.5.5.2.2.3.2.3.cmml"><mi id="A1.Ex21.m1.5.5.2.2.3.2.3.2" xref="A1.Ex21.m1.5.5.2.2.3.2.3.2.cmml">Ï€</mi><mi id="A1.Ex21.m1.5.5.2.2.3.2.3.3" xref="A1.Ex21.m1.5.5.2.2.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="A1.Ex21.m1.5.5.2.2.2" xref="A1.Ex21.m1.5.5.2.2.2.cmml">â¢</mo><mrow id="A1.Ex21.m1.5.5.2.2.1.1" xref="A1.Ex21.m1.5.5.2.2.1.1.1.cmml"><mo id="A1.Ex21.m1.5.5.2.2.1.1.2" stretchy="false" xref="A1.Ex21.m1.5.5.2.2.1.1.1.cmml">(</mo><mrow id="A1.Ex21.m1.5.5.2.2.1.1.1" xref="A1.Ex21.m1.5.5.2.2.1.1.1.cmml"><msub id="A1.Ex21.m1.5.5.2.2.1.1.1.2" xref="A1.Ex21.m1.5.5.2.2.1.1.1.2.cmml"><mi id="A1.Ex21.m1.5.5.2.2.1.1.1.2.2" xref="A1.Ex21.m1.5.5.2.2.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex21.m1.5.5.2.2.1.1.1.2.3" xref="A1.Ex21.m1.5.5.2.2.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex21.m1.5.5.2.2.1.1.1.1" xref="A1.Ex21.m1.5.5.2.2.1.1.1.1.cmml">|</mo><msub id="A1.Ex21.m1.5.5.2.2.1.1.1.3" xref="A1.Ex21.m1.5.5.2.2.1.1.1.3.cmml"><mi id="A1.Ex21.m1.5.5.2.2.1.1.1.3.2" xref="A1.Ex21.m1.5.5.2.2.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex21.m1.5.5.2.2.1.1.1.3.3" xref="A1.Ex21.m1.5.5.2.2.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex21.m1.5.5.2.2.1.1.3" stretchy="false" xref="A1.Ex21.m1.5.5.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="A1.Ex21.m1.6.6.3" xref="A1.Ex21.m1.6.6.3.cmml"><msub id="A1.Ex21.m1.6.6.3.2" xref="A1.Ex21.m1.6.6.3.2.cmml"><mo id="A1.Ex21.m1.6.6.3.2.2" xref="A1.Ex21.m1.6.6.3.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex21.m1.6.6.3.2.3" xref="A1.Ex21.m1.6.6.3.2.3.cmml"><msubsup id="A1.Ex21.m1.6.6.3.2.3.2" xref="A1.Ex21.m1.6.6.3.2.3.2.cmml"><mi id="A1.Ex21.m1.6.6.3.2.3.2.2.2" xref="A1.Ex21.m1.6.6.3.2.3.2.2.2.cmml">e</mi><mi id="A1.Ex21.m1.6.6.3.2.3.2.3" xref="A1.Ex21.m1.6.6.3.2.3.2.3.cmml">d</mi><mo id="A1.Ex21.m1.6.6.3.2.3.2.2.3" xref="A1.Ex21.m1.6.6.3.2.3.2.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex21.m1.6.6.3.2.3.1" xref="A1.Ex21.m1.6.6.3.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex21.m1.6.6.3.2.3.3" xref="A1.Ex21.m1.6.6.3.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex21.m1.6.6.3.2.3.3.2" xref="A1.Ex21.m1.6.6.3.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex21.m1.6.6.3.2.3.3.3" xref="A1.Ex21.m1.6.6.3.2.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="A1.Ex21.m1.6.6.3.1" xref="A1.Ex21.m1.6.6.3.1.cmml"><mi id="A1.Ex21.m1.6.6.3.1.3" xref="A1.Ex21.m1.6.6.3.1.3.cmml">exp</mi><mo id="A1.Ex21.m1.6.6.3.1.2" xref="A1.Ex21.m1.6.6.3.1.2.cmml">â¢</mo><mrow id="A1.Ex21.m1.6.6.3.1.1.1" xref="A1.Ex21.m1.6.6.3.1.1.1.1.cmml"><mo id="A1.Ex21.m1.6.6.3.1.1.1.2" stretchy="false" xref="A1.Ex21.m1.6.6.3.1.1.1.1.cmml">(</mo><mrow id="A1.Ex21.m1.6.6.3.1.1.1.1" xref="A1.Ex21.m1.6.6.3.1.1.1.1.cmml"><mi id="A1.Ex21.m1.6.6.3.1.1.1.1.5" xref="A1.Ex21.m1.6.6.3.1.1.1.1.5.cmml">g</mi><mo id="A1.Ex21.m1.6.6.3.1.1.1.1.4" xref="A1.Ex21.m1.6.6.3.1.1.1.1.4.cmml">â¢</mo><mrow id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.4.cmml"><mo id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.4" stretchy="false" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.4.cmml">(</mo><msubsup id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.2" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.3" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.3.cmml">d</mi><mo id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.3" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.5" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2" xref="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.2" xref="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.3" xref="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.3.cmml">d</mi></msub><mo id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.6" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.cmml"><mi id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.2" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.3" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.7" stretchy="false" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="A1.Ex21.m1.6.6.3.1.1.1.3" stretchy="false" xref="A1.Ex21.m1.6.6.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="A1.Ex21.m1.7.7.1.1.1.1.3" xref="A1.Ex21.m1.7.7.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex21.m1.7b"><apply id="A1.Ex21.m1.7.7.cmml" xref="A1.Ex21.m1.7.7"><eq id="A1.Ex21.m1.7.7.2.cmml" xref="A1.Ex21.m1.7.7.2"></eq><csymbol cd="latexml" id="A1.Ex21.m1.7.7.3.cmml" xref="A1.Ex21.m1.7.7.3">absent</csymbol><apply id="A1.Ex21.m1.7.7.1.cmml" xref="A1.Ex21.m1.7.7.1"><minus id="A1.Ex21.m1.7.7.1.2.cmml" xref="A1.Ex21.m1.7.7.1"></minus><apply id="A1.Ex21.m1.7.7.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1"><times id="A1.Ex21.m1.7.7.1.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.2"></times><ci id="A1.Ex21.m1.7.7.1.1.3.cmml" xref="A1.Ex21.m1.7.7.1.1.3">ğ›½</ci><apply id="A1.Ex21.m1.7.7.1.1.4.cmml" xref="A1.Ex21.m1.7.7.1.1.4"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.4.1.cmml" xref="A1.Ex21.m1.7.7.1.1.4">subscript</csymbol><ci id="A1.Ex21.m1.7.7.1.1.4.2.cmml" xref="A1.Ex21.m1.7.7.1.1.4.2">ğ”¼</ci><vector id="A1.Ex21.m1.3.3.3.4.cmml" xref="A1.Ex21.m1.3.3.3.3"><apply id="A1.Ex21.m1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex21.m1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex21.m1.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex21.m1.1.1.1.1.1.3.cmml" xref="A1.Ex21.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex21.m1.2.2.2.2.2.cmml" xref="A1.Ex21.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.2.2.2.2.2.1.cmml" xref="A1.Ex21.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex21.m1.2.2.2.2.2.2.cmml" xref="A1.Ex21.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.2.2.2.2.2.3.cmml" xref="A1.Ex21.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex21.m1.3.3.3.3.3.cmml" xref="A1.Ex21.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.3.3.3.3.3.1.cmml" xref="A1.Ex21.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex21.m1.3.3.3.3.3.2.cmml" xref="A1.Ex21.m1.3.3.3.3.3.2">â„°</ci><ci id="A1.Ex21.m1.3.3.3.3.3.3.cmml" xref="A1.Ex21.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex21.m1.7.7.1.1.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1"><csymbol cd="latexml" id="A1.Ex21.m1.7.7.1.1.1.2.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1"><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.2">â‹…</ci><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1"><times id="A1.Ex21.m1.7.7.1.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.2"></times><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.3">ğœ</ci><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1"><times id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.3">log</ci><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1"><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3"><in id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4"></times><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.5.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.5">ğ‘”</ci><vector id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3"><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply></apply></apply><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3"><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1">subscript</csymbol><sum id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.2"></sum><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3"><in id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.1"></in><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2">subscript</csymbol><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.1.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3">subscript</csymbol><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.2.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.2">â„°</ci><ci id="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.3.cmml" xref="A1.Ex21.m1.7.7.1.1.1.1.1.3.1.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex21.m1.6.6.cmml" xref="A1.Ex21.m1.6.6"><divide id="A1.Ex21.m1.6.6.4.cmml" xref="A1.Ex21.m1.6.6"></divide><apply id="A1.Ex21.m1.5.5.2.cmml" xref="A1.Ex21.m1.5.5.2"><minus id="A1.Ex21.m1.5.5.2.3.cmml" xref="A1.Ex21.m1.5.5.2.3"></minus><apply id="A1.Ex21.m1.4.4.1.1.cmml" xref="A1.Ex21.m1.4.4.1.1"><times id="A1.Ex21.m1.4.4.1.1.2.cmml" xref="A1.Ex21.m1.4.4.1.1.2"></times><apply id="A1.Ex21.m1.4.4.1.1.3.cmml" xref="A1.Ex21.m1.4.4.1.1.3"><apply id="A1.Ex21.m1.4.4.1.1.3.1.cmml" xref="A1.Ex21.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex21.m1.4.4.1.1.3.1.1.cmml" xref="A1.Ex21.m1.4.4.1.1.3.1">subscript</csymbol><ci id="A1.Ex21.m1.4.4.1.1.3.1.2.cmml" xref="A1.Ex21.m1.4.4.1.1.3.1.2">âˆ‡</ci><ci id="A1.Ex21.m1.4.4.1.1.3.1.3.cmml" xref="A1.Ex21.m1.4.4.1.1.3.1.3">ğœƒ</ci></apply><apply id="A1.Ex21.m1.4.4.1.1.3.2.cmml" xref="A1.Ex21.m1.4.4.1.1.3.2"><times id="A1.Ex21.m1.4.4.1.1.3.2.1.cmml" xref="A1.Ex21.m1.4.4.1.1.3.2.1"></times><ci id="A1.Ex21.m1.4.4.1.1.3.2.2.cmml" xref="A1.Ex21.m1.4.4.1.1.3.2.2">log</ci><apply id="A1.Ex21.m1.4.4.1.1.3.2.3.cmml" xref="A1.Ex21.m1.4.4.1.1.3.2.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.4.4.1.1.3.2.3.1.cmml" xref="A1.Ex21.m1.4.4.1.1.3.2.3">subscript</csymbol><ci id="A1.Ex21.m1.4.4.1.1.3.2.3.2.cmml" xref="A1.Ex21.m1.4.4.1.1.3.2.3.2">ğœ‹</ci><ci id="A1.Ex21.m1.4.4.1.1.3.2.3.3.cmml" xref="A1.Ex21.m1.4.4.1.1.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="A1.Ex21.m1.4.4.1.1.1.1.1.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1"><csymbol cd="latexml" id="A1.Ex21.m1.4.4.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex21.m1.4.4.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.4.4.1.1.1.1.1.2.1.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex21.m1.4.4.1.1.1.1.1.2.2.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.4.4.1.1.1.1.1.2.3.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex21.m1.4.4.1.1.1.1.1.3.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.4.4.1.1.1.1.1.3.1.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex21.m1.4.4.1.1.1.1.1.3.2.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex21.m1.4.4.1.1.1.1.1.3.3.cmml" xref="A1.Ex21.m1.4.4.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex21.m1.5.5.2.2.cmml" xref="A1.Ex21.m1.5.5.2.2"><times id="A1.Ex21.m1.5.5.2.2.2.cmml" xref="A1.Ex21.m1.5.5.2.2.2"></times><apply id="A1.Ex21.m1.5.5.2.2.3.cmml" xref="A1.Ex21.m1.5.5.2.2.3"><apply id="A1.Ex21.m1.5.5.2.2.3.1.cmml" xref="A1.Ex21.m1.5.5.2.2.3.1"><csymbol cd="ambiguous" id="A1.Ex21.m1.5.5.2.2.3.1.1.cmml" xref="A1.Ex21.m1.5.5.2.2.3.1">subscript</csymbol><ci id="A1.Ex21.m1.5.5.2.2.3.1.2.cmml" xref="A1.Ex21.m1.5.5.2.2.3.1.2">âˆ‡</ci><ci id="A1.Ex21.m1.5.5.2.2.3.1.3.cmml" xref="A1.Ex21.m1.5.5.2.2.3.1.3">ğœƒ</ci></apply><apply id="A1.Ex21.m1.5.5.2.2.3.2.cmml" xref="A1.Ex21.m1.5.5.2.2.3.2"><times id="A1.Ex21.m1.5.5.2.2.3.2.1.cmml" xref="A1.Ex21.m1.5.5.2.2.3.2.1"></times><ci id="A1.Ex21.m1.5.5.2.2.3.2.2.cmml" xref="A1.Ex21.m1.5.5.2.2.3.2.2">log</ci><apply id="A1.Ex21.m1.5.5.2.2.3.2.3.cmml" xref="A1.Ex21.m1.5.5.2.2.3.2.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.5.5.2.2.3.2.3.1.cmml" xref="A1.Ex21.m1.5.5.2.2.3.2.3">subscript</csymbol><ci id="A1.Ex21.m1.5.5.2.2.3.2.3.2.cmml" xref="A1.Ex21.m1.5.5.2.2.3.2.3.2">ğœ‹</ci><ci id="A1.Ex21.m1.5.5.2.2.3.2.3.3.cmml" xref="A1.Ex21.m1.5.5.2.2.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="A1.Ex21.m1.5.5.2.2.1.1.1.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1"><csymbol cd="latexml" id="A1.Ex21.m1.5.5.2.2.1.1.1.1.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.1">conditional</csymbol><apply id="A1.Ex21.m1.5.5.2.2.1.1.1.2.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.5.5.2.2.1.1.1.2.1.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.2">subscript</csymbol><ci id="A1.Ex21.m1.5.5.2.2.1.1.1.2.2.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.5.5.2.2.1.1.1.2.3.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex21.m1.5.5.2.2.1.1.1.3.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.5.5.2.2.1.1.1.3.1.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.3">subscript</csymbol><ci id="A1.Ex21.m1.5.5.2.2.1.1.1.3.2.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex21.m1.5.5.2.2.1.1.1.3.3.cmml" xref="A1.Ex21.m1.5.5.2.2.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply></apply><apply id="A1.Ex21.m1.6.6.3.cmml" xref="A1.Ex21.m1.6.6.3"><apply id="A1.Ex21.m1.6.6.3.2.cmml" xref="A1.Ex21.m1.6.6.3.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.6.6.3.2.1.cmml" xref="A1.Ex21.m1.6.6.3.2">subscript</csymbol><sum id="A1.Ex21.m1.6.6.3.2.2.cmml" xref="A1.Ex21.m1.6.6.3.2.2"></sum><apply id="A1.Ex21.m1.6.6.3.2.3.cmml" xref="A1.Ex21.m1.6.6.3.2.3"><in id="A1.Ex21.m1.6.6.3.2.3.1.cmml" xref="A1.Ex21.m1.6.6.3.2.3.1"></in><apply id="A1.Ex21.m1.6.6.3.2.3.2.cmml" xref="A1.Ex21.m1.6.6.3.2.3.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.6.6.3.2.3.2.1.cmml" xref="A1.Ex21.m1.6.6.3.2.3.2">subscript</csymbol><apply id="A1.Ex21.m1.6.6.3.2.3.2.2.cmml" xref="A1.Ex21.m1.6.6.3.2.3.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.6.6.3.2.3.2.2.1.cmml" xref="A1.Ex21.m1.6.6.3.2.3.2">superscript</csymbol><ci id="A1.Ex21.m1.6.6.3.2.3.2.2.2.cmml" xref="A1.Ex21.m1.6.6.3.2.3.2.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.6.6.3.2.3.2.2.3.cmml" xref="A1.Ex21.m1.6.6.3.2.3.2.2.3">â€²</ci></apply><ci id="A1.Ex21.m1.6.6.3.2.3.2.3.cmml" xref="A1.Ex21.m1.6.6.3.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex21.m1.6.6.3.2.3.3.cmml" xref="A1.Ex21.m1.6.6.3.2.3.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.6.6.3.2.3.3.1.cmml" xref="A1.Ex21.m1.6.6.3.2.3.3">subscript</csymbol><ci id="A1.Ex21.m1.6.6.3.2.3.3.2.cmml" xref="A1.Ex21.m1.6.6.3.2.3.3.2">â„°</ci><ci id="A1.Ex21.m1.6.6.3.2.3.3.3.cmml" xref="A1.Ex21.m1.6.6.3.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex21.m1.6.6.3.1.cmml" xref="A1.Ex21.m1.6.6.3.1"><times id="A1.Ex21.m1.6.6.3.1.2.cmml" xref="A1.Ex21.m1.6.6.3.1.2"></times><ci id="A1.Ex21.m1.6.6.3.1.3.cmml" xref="A1.Ex21.m1.6.6.3.1.3">exp</ci><apply id="A1.Ex21.m1.6.6.3.1.1.1.1.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1"><times id="A1.Ex21.m1.6.6.3.1.1.1.1.4.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.4"></times><ci id="A1.Ex21.m1.6.6.3.1.1.1.1.5.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.5">ğ‘”</ci><vector id="A1.Ex21.m1.6.6.3.1.1.1.1.3.4.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.3"><apply id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1">subscript</csymbol><apply id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1">superscript</csymbol><ci id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.2.3">â€²</ci></apply><ci id="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.2.2.2.3">ğ‘‘</ci></apply><apply id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.1.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3">subscript</csymbol><ci id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.2.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.3.cmml" xref="A1.Ex21.m1.6.6.3.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex21.m1.7c">\displaystyle=-\beta\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma%
\left({\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e_{d},e_{p},x_{u}))%
\right)\cdot\sum_{e_{d}\in\mathcal{E}_{d}}\frac{\nabla_{\theta}\,{\rm log}\,%
\pi_{\theta}(e_{p}|x_{u})-\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{d}|x_{u}%
)}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e^{\prime}_{d},e_{d},x_{%
u}))}\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex21.m1.7d">= - italic_Î² blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ italic_Ïƒ ( roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_g ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) ) â‹… âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT divide start_ARG âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) - âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_g ( italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) end_ARG ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(Definition of <math alttext="V(\theta;e_{d})" class="ltx_Math" display="inline" id="A1.Ex21.1.1.m1.2"><semantics id="A1.Ex21.1.1.m1.2b"><mrow id="A1.Ex21.1.1.m1.2.2" xref="A1.Ex21.1.1.m1.2.2.cmml"><mi id="A1.Ex21.1.1.m1.2.2.3" xref="A1.Ex21.1.1.m1.2.2.3.cmml">V</mi><mo id="A1.Ex21.1.1.m1.2.2.2" xref="A1.Ex21.1.1.m1.2.2.2.cmml">â¢</mo><mrow id="A1.Ex21.1.1.m1.2.2.1.1" xref="A1.Ex21.1.1.m1.2.2.1.2.cmml"><mo id="A1.Ex21.1.1.m1.2.2.1.1.2" stretchy="false" xref="A1.Ex21.1.1.m1.2.2.1.2.cmml">(</mo><mi id="A1.Ex21.1.1.m1.1.1" xref="A1.Ex21.1.1.m1.1.1.cmml">Î¸</mi><mo id="A1.Ex21.1.1.m1.2.2.1.1.3" xref="A1.Ex21.1.1.m1.2.2.1.2.cmml">;</mo><msub id="A1.Ex21.1.1.m1.2.2.1.1.1" xref="A1.Ex21.1.1.m1.2.2.1.1.1.cmml"><mi id="A1.Ex21.1.1.m1.2.2.1.1.1.2" xref="A1.Ex21.1.1.m1.2.2.1.1.1.2.cmml">e</mi><mi id="A1.Ex21.1.1.m1.2.2.1.1.1.3" xref="A1.Ex21.1.1.m1.2.2.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex21.1.1.m1.2.2.1.1.4" stretchy="false" xref="A1.Ex21.1.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex21.1.1.m1.2c"><apply id="A1.Ex21.1.1.m1.2.2.cmml" xref="A1.Ex21.1.1.m1.2.2"><times id="A1.Ex21.1.1.m1.2.2.2.cmml" xref="A1.Ex21.1.1.m1.2.2.2"></times><ci id="A1.Ex21.1.1.m1.2.2.3.cmml" xref="A1.Ex21.1.1.m1.2.2.3">ğ‘‰</ci><list id="A1.Ex21.1.1.m1.2.2.1.2.cmml" xref="A1.Ex21.1.1.m1.2.2.1.1"><ci id="A1.Ex21.1.1.m1.1.1.cmml" xref="A1.Ex21.1.1.m1.1.1">ğœƒ</ci><apply id="A1.Ex21.1.1.m1.2.2.1.1.1.cmml" xref="A1.Ex21.1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.Ex21.1.1.m1.2.2.1.1.1.1.cmml" xref="A1.Ex21.1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="A1.Ex21.1.1.m1.2.2.1.1.1.2.cmml" xref="A1.Ex21.1.1.m1.2.2.1.1.1.2">ğ‘’</ci><ci id="A1.Ex21.1.1.m1.2.2.1.1.1.3.cmml" xref="A1.Ex21.1.1.m1.2.2.1.1.1.3">ğ‘‘</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex21.1.1.m1.2d">V(\theta;e_{d})</annotation><annotation encoding="application/x-llamapun" id="A1.Ex21.1.1.m1.2e">italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT )</annotation></semantics></math>)</span></td>
</tr></tbody>
<tbody id="A1.Ex22"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=-\beta\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma%
\left({\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e_{d},e_{p},x_{u}))%
\right)\cdot\left[\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{p}|x_{u})-\sum_{%
e_{d}\in\mathcal{E}_{d}}\frac{\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{d}|x%
_{u})}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e^{\prime}_{d},e_{d}%
,x_{u}))}\right]\right]" class="ltx_Math" display="inline" id="A1.Ex22.m1.6"><semantics id="A1.Ex22.m1.6a"><mrow id="A1.Ex22.m1.6.6" xref="A1.Ex22.m1.6.6.cmml"><mi id="A1.Ex22.m1.6.6.3" xref="A1.Ex22.m1.6.6.3.cmml"></mi><mo id="A1.Ex22.m1.6.6.2" xref="A1.Ex22.m1.6.6.2.cmml">=</mo><mrow id="A1.Ex22.m1.6.6.1" xref="A1.Ex22.m1.6.6.1.cmml"><mo id="A1.Ex22.m1.6.6.1a" xref="A1.Ex22.m1.6.6.1.cmml">âˆ’</mo><mrow id="A1.Ex22.m1.6.6.1.1" xref="A1.Ex22.m1.6.6.1.1.cmml"><mi id="A1.Ex22.m1.6.6.1.1.3" xref="A1.Ex22.m1.6.6.1.1.3.cmml">Î²</mi><mo id="A1.Ex22.m1.6.6.1.1.2" xref="A1.Ex22.m1.6.6.1.1.2.cmml">â¢</mo><msub id="A1.Ex22.m1.6.6.1.1.4" xref="A1.Ex22.m1.6.6.1.1.4.cmml"><mi id="A1.Ex22.m1.6.6.1.1.4.2" xref="A1.Ex22.m1.6.6.1.1.4.2.cmml">ğ”¼</mi><mrow id="A1.Ex22.m1.3.3.3.3" xref="A1.Ex22.m1.3.3.3.4.cmml"><mo id="A1.Ex22.m1.3.3.3.3.4" stretchy="false" xref="A1.Ex22.m1.3.3.3.4.cmml">(</mo><msub id="A1.Ex22.m1.1.1.1.1.1" xref="A1.Ex22.m1.1.1.1.1.1.cmml"><mi id="A1.Ex22.m1.1.1.1.1.1.2" xref="A1.Ex22.m1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.Ex22.m1.1.1.1.1.1.3" xref="A1.Ex22.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="A1.Ex22.m1.3.3.3.3.5" xref="A1.Ex22.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex22.m1.2.2.2.2.2" xref="A1.Ex22.m1.2.2.2.2.2.cmml"><mi id="A1.Ex22.m1.2.2.2.2.2.2" xref="A1.Ex22.m1.2.2.2.2.2.2.cmml">e</mi><mi id="A1.Ex22.m1.2.2.2.2.2.3" xref="A1.Ex22.m1.2.2.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex22.m1.3.3.3.3.6" xref="A1.Ex22.m1.3.3.3.4.cmml">,</mo><msub id="A1.Ex22.m1.3.3.3.3.3" xref="A1.Ex22.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex22.m1.3.3.3.3.3.2" xref="A1.Ex22.m1.3.3.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex22.m1.3.3.3.3.3.3" xref="A1.Ex22.m1.3.3.3.3.3.3.cmml">d</mi></msub><mo id="A1.Ex22.m1.3.3.3.3.7" stretchy="false" xref="A1.Ex22.m1.3.3.3.4.cmml">)</mo></mrow></msub><mo id="A1.Ex22.m1.6.6.1.1.2a" xref="A1.Ex22.m1.6.6.1.1.2.cmml">â¢</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.2.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.2.1.cmml">[</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.cmml"><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.3.cmml">Ïƒ</mi><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml">log</mi><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.2" lspace="0.170em" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mstyle displaystyle="true" id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml"><munder id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2a" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2" movablelimits="false" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml">e</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml">d</mi></msub><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.5" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.5.cmml">g</mi><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml">â¢</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.5" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">p</mi></msub><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.6" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.7" stretchy="false" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.3" rspace="0.055em" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.3" rspace="0.222em" xref="A1.Ex22.m1.6.6.1.1.1.1.1.3.cmml">â‹…</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.2.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.2.1.cmml">[</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.cmml"><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.cmml"><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.cmml"><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.2" rspace="0.167em" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.2.cmml">log</mi><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.1" lspace="0.170em" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.1.cmml">â¢</mo><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.2.cmml">Ï€</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.2" stretchy="false" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.cmml"><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.3.cmml">p</mi></msub><mo fence="false" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.3" stretchy="false" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.2.cmml">âˆ’</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.cmml"><mstyle displaystyle="true" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.cmml"><munder id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1a" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.cmml"><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.2" movablelimits="false" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.2.cmml">âˆ‘</mo><mrow id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.cmml"><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.cmml"><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.2.cmml">e</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.3.cmml">d</mi></msub><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.1" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.1.cmml">âˆˆ</mo><msub id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.2" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.2.cmml">â„°</mi><mi id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mstyle displaystyle="true" id="A1.Ex22.m1.5.5" xref="A1.Ex22.m1.5.5.cmml"><mfrac id="A1.Ex22.m1.5.5a" xref="A1.Ex22.m1.5.5.cmml"><mrow id="A1.Ex22.m1.4.4.1" xref="A1.Ex22.m1.4.4.1.cmml"><mrow id="A1.Ex22.m1.4.4.1.3" xref="A1.Ex22.m1.4.4.1.3.cmml"><msub id="A1.Ex22.m1.4.4.1.3.1" xref="A1.Ex22.m1.4.4.1.3.1.cmml"><mo id="A1.Ex22.m1.4.4.1.3.1.2" xref="A1.Ex22.m1.4.4.1.3.1.2.cmml">âˆ‡</mo><mi id="A1.Ex22.m1.4.4.1.3.1.3" xref="A1.Ex22.m1.4.4.1.3.1.3.cmml">Î¸</mi></msub><mrow id="A1.Ex22.m1.4.4.1.3.2" xref="A1.Ex22.m1.4.4.1.3.2.cmml"><mi id="A1.Ex22.m1.4.4.1.3.2.2" xref="A1.Ex22.m1.4.4.1.3.2.2.cmml">log</mi><mo id="A1.Ex22.m1.4.4.1.3.2.1" lspace="0.170em" xref="A1.Ex22.m1.4.4.1.3.2.1.cmml">â¢</mo><msub id="A1.Ex22.m1.4.4.1.3.2.3" xref="A1.Ex22.m1.4.4.1.3.2.3.cmml"><mi id="A1.Ex22.m1.4.4.1.3.2.3.2" xref="A1.Ex22.m1.4.4.1.3.2.3.2.cmml">Ï€</mi><mi id="A1.Ex22.m1.4.4.1.3.2.3.3" xref="A1.Ex22.m1.4.4.1.3.2.3.3.cmml">Î¸</mi></msub></mrow></mrow><mo id="A1.Ex22.m1.4.4.1.2" xref="A1.Ex22.m1.4.4.1.2.cmml">â¢</mo><mrow id="A1.Ex22.m1.4.4.1.1.1" xref="A1.Ex22.m1.4.4.1.1.1.1.cmml"><mo id="A1.Ex22.m1.4.4.1.1.1.2" stretchy="false" xref="A1.Ex22.m1.4.4.1.1.1.1.cmml">(</mo><mrow id="A1.Ex22.m1.4.4.1.1.1.1" xref="A1.Ex22.m1.4.4.1.1.1.1.cmml"><msub id="A1.Ex22.m1.4.4.1.1.1.1.2" xref="A1.Ex22.m1.4.4.1.1.1.1.2.cmml"><mi id="A1.Ex22.m1.4.4.1.1.1.1.2.2" xref="A1.Ex22.m1.4.4.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex22.m1.4.4.1.1.1.1.2.3" xref="A1.Ex22.m1.4.4.1.1.1.1.2.3.cmml">d</mi></msub><mo fence="false" id="A1.Ex22.m1.4.4.1.1.1.1.1" xref="A1.Ex22.m1.4.4.1.1.1.1.1.cmml">|</mo><msub id="A1.Ex22.m1.4.4.1.1.1.1.3" xref="A1.Ex22.m1.4.4.1.1.1.1.3.cmml"><mi id="A1.Ex22.m1.4.4.1.1.1.1.3.2" xref="A1.Ex22.m1.4.4.1.1.1.1.3.2.cmml">x</mi><mi id="A1.Ex22.m1.4.4.1.1.1.1.3.3" xref="A1.Ex22.m1.4.4.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="A1.Ex22.m1.4.4.1.1.1.3" stretchy="false" xref="A1.Ex22.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="A1.Ex22.m1.5.5.2" xref="A1.Ex22.m1.5.5.2.cmml"><msub id="A1.Ex22.m1.5.5.2.2" xref="A1.Ex22.m1.5.5.2.2.cmml"><mo id="A1.Ex22.m1.5.5.2.2.2" xref="A1.Ex22.m1.5.5.2.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex22.m1.5.5.2.2.3" xref="A1.Ex22.m1.5.5.2.2.3.cmml"><msubsup id="A1.Ex22.m1.5.5.2.2.3.2" xref="A1.Ex22.m1.5.5.2.2.3.2.cmml"><mi id="A1.Ex22.m1.5.5.2.2.3.2.2.2" xref="A1.Ex22.m1.5.5.2.2.3.2.2.2.cmml">e</mi><mi id="A1.Ex22.m1.5.5.2.2.3.2.3" xref="A1.Ex22.m1.5.5.2.2.3.2.3.cmml">d</mi><mo id="A1.Ex22.m1.5.5.2.2.3.2.2.3" xref="A1.Ex22.m1.5.5.2.2.3.2.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex22.m1.5.5.2.2.3.1" xref="A1.Ex22.m1.5.5.2.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex22.m1.5.5.2.2.3.3" xref="A1.Ex22.m1.5.5.2.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex22.m1.5.5.2.2.3.3.2" xref="A1.Ex22.m1.5.5.2.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex22.m1.5.5.2.2.3.3.3" xref="A1.Ex22.m1.5.5.2.2.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="A1.Ex22.m1.5.5.2.1" xref="A1.Ex22.m1.5.5.2.1.cmml"><mi id="A1.Ex22.m1.5.5.2.1.3" xref="A1.Ex22.m1.5.5.2.1.3.cmml">exp</mi><mo id="A1.Ex22.m1.5.5.2.1.2" xref="A1.Ex22.m1.5.5.2.1.2.cmml">â¢</mo><mrow id="A1.Ex22.m1.5.5.2.1.1.1" xref="A1.Ex22.m1.5.5.2.1.1.1.1.cmml"><mo id="A1.Ex22.m1.5.5.2.1.1.1.2" stretchy="false" xref="A1.Ex22.m1.5.5.2.1.1.1.1.cmml">(</mo><mrow id="A1.Ex22.m1.5.5.2.1.1.1.1" xref="A1.Ex22.m1.5.5.2.1.1.1.1.cmml"><mi id="A1.Ex22.m1.5.5.2.1.1.1.1.5" xref="A1.Ex22.m1.5.5.2.1.1.1.1.5.cmml">g</mi><mo id="A1.Ex22.m1.5.5.2.1.1.1.1.4" xref="A1.Ex22.m1.5.5.2.1.1.1.1.4.cmml">â¢</mo><mrow id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.4.cmml"><mo id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.4" stretchy="false" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.4.cmml">(</mo><msubsup id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.2" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.3" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.3.cmml">d</mi><mo id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.3" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.5" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2" xref="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.2" xref="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.3" xref="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.3.cmml">d</mi></msub><mo id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.6" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.cmml"><mi id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.2" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.3" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.7" stretchy="false" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="A1.Ex22.m1.5.5.2.1.1.1.3" stretchy="false" xref="A1.Ex22.m1.5.5.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.3" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.2.1.cmml">]</mo></mrow></mrow><mo id="A1.Ex22.m1.6.6.1.1.1.1.3" xref="A1.Ex22.m1.6.6.1.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex22.m1.6b"><apply id="A1.Ex22.m1.6.6.cmml" xref="A1.Ex22.m1.6.6"><eq id="A1.Ex22.m1.6.6.2.cmml" xref="A1.Ex22.m1.6.6.2"></eq><csymbol cd="latexml" id="A1.Ex22.m1.6.6.3.cmml" xref="A1.Ex22.m1.6.6.3">absent</csymbol><apply id="A1.Ex22.m1.6.6.1.cmml" xref="A1.Ex22.m1.6.6.1"><minus id="A1.Ex22.m1.6.6.1.2.cmml" xref="A1.Ex22.m1.6.6.1"></minus><apply id="A1.Ex22.m1.6.6.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1"><times id="A1.Ex22.m1.6.6.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.2"></times><ci id="A1.Ex22.m1.6.6.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.3">ğ›½</ci><apply id="A1.Ex22.m1.6.6.1.1.4.cmml" xref="A1.Ex22.m1.6.6.1.1.4"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.4.1.cmml" xref="A1.Ex22.m1.6.6.1.1.4">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.4.2.cmml" xref="A1.Ex22.m1.6.6.1.1.4.2">ğ”¼</ci><vector id="A1.Ex22.m1.3.3.3.4.cmml" xref="A1.Ex22.m1.3.3.3.3"><apply id="A1.Ex22.m1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex22.m1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex22.m1.1.1.1.1.1.2.cmml" xref="A1.Ex22.m1.1.1.1.1.1.2">ğ‘¥</ci><ci id="A1.Ex22.m1.1.1.1.1.1.3.cmml" xref="A1.Ex22.m1.1.1.1.1.1.3">ğ‘¢</ci></apply><apply id="A1.Ex22.m1.2.2.2.2.2.cmml" xref="A1.Ex22.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.2.2.2.2.2.1.cmml" xref="A1.Ex22.m1.2.2.2.2.2">subscript</csymbol><ci id="A1.Ex22.m1.2.2.2.2.2.2.cmml" xref="A1.Ex22.m1.2.2.2.2.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.2.2.2.2.2.3.cmml" xref="A1.Ex22.m1.2.2.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex22.m1.3.3.3.3.3.cmml" xref="A1.Ex22.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.3.3.3.3.3.1.cmml" xref="A1.Ex22.m1.3.3.3.3.3">subscript</csymbol><ci id="A1.Ex22.m1.3.3.3.3.3.2.cmml" xref="A1.Ex22.m1.3.3.3.3.3.2">â„°</ci><ci id="A1.Ex22.m1.3.3.3.3.3.3.cmml" xref="A1.Ex22.m1.3.3.3.3.3.3">ğ‘‘</ci></apply></vector></apply><apply id="A1.Ex22.m1.6.6.1.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1"><csymbol cd="latexml" id="A1.Ex22.m1.6.6.1.1.1.2.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.2">delimited-[]</csymbol><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1"><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.3">â‹…</ci><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1"><times id="A1.Ex22.m1.6.6.1.1.1.1.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.2"></times><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.3">ğœ</ci><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1"><times id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.3">log</ci><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1"><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><sum id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3"><in id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1"></in><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2"></times><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3">exp</ci><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.4"></times><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.5.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.5">ğ‘”</ci><vector id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3"><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3">ğ‘</ci></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply></apply></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1"><csymbol cd="latexml" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.2.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.2">delimited-[]</csymbol><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1"><minus id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.2"></minus><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1"><times id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.2"></times><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3"><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.2">âˆ‡</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.1.3">ğœƒ</ci></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2"><times id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.1"></times><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.2">log</ci><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.2">ğœ‹</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1"><csymbol cd="latexml" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.2.3">ğ‘</ci></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3"><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1">subscript</csymbol><sum id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.2"></sum><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3"><in id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.1"></in><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.1.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3">subscript</csymbol><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.2.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.2">â„°</ci><ci id="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.3.cmml" xref="A1.Ex22.m1.6.6.1.1.1.1.1.2.1.1.3.1.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex22.m1.5.5.cmml" xref="A1.Ex22.m1.5.5"><divide id="A1.Ex22.m1.5.5.3.cmml" xref="A1.Ex22.m1.5.5"></divide><apply id="A1.Ex22.m1.4.4.1.cmml" xref="A1.Ex22.m1.4.4.1"><times id="A1.Ex22.m1.4.4.1.2.cmml" xref="A1.Ex22.m1.4.4.1.2"></times><apply id="A1.Ex22.m1.4.4.1.3.cmml" xref="A1.Ex22.m1.4.4.1.3"><apply id="A1.Ex22.m1.4.4.1.3.1.cmml" xref="A1.Ex22.m1.4.4.1.3.1"><csymbol cd="ambiguous" id="A1.Ex22.m1.4.4.1.3.1.1.cmml" xref="A1.Ex22.m1.4.4.1.3.1">subscript</csymbol><ci id="A1.Ex22.m1.4.4.1.3.1.2.cmml" xref="A1.Ex22.m1.4.4.1.3.1.2">âˆ‡</ci><ci id="A1.Ex22.m1.4.4.1.3.1.3.cmml" xref="A1.Ex22.m1.4.4.1.3.1.3">ğœƒ</ci></apply><apply id="A1.Ex22.m1.4.4.1.3.2.cmml" xref="A1.Ex22.m1.4.4.1.3.2"><times id="A1.Ex22.m1.4.4.1.3.2.1.cmml" xref="A1.Ex22.m1.4.4.1.3.2.1"></times><ci id="A1.Ex22.m1.4.4.1.3.2.2.cmml" xref="A1.Ex22.m1.4.4.1.3.2.2">log</ci><apply id="A1.Ex22.m1.4.4.1.3.2.3.cmml" xref="A1.Ex22.m1.4.4.1.3.2.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.4.4.1.3.2.3.1.cmml" xref="A1.Ex22.m1.4.4.1.3.2.3">subscript</csymbol><ci id="A1.Ex22.m1.4.4.1.3.2.3.2.cmml" xref="A1.Ex22.m1.4.4.1.3.2.3.2">ğœ‹</ci><ci id="A1.Ex22.m1.4.4.1.3.2.3.3.cmml" xref="A1.Ex22.m1.4.4.1.3.2.3.3">ğœƒ</ci></apply></apply></apply><apply id="A1.Ex22.m1.4.4.1.1.1.1.cmml" xref="A1.Ex22.m1.4.4.1.1.1"><csymbol cd="latexml" id="A1.Ex22.m1.4.4.1.1.1.1.1.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.1">conditional</csymbol><apply id="A1.Ex22.m1.4.4.1.1.1.1.2.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.4.4.1.1.1.1.2.1.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.2">subscript</csymbol><ci id="A1.Ex22.m1.4.4.1.1.1.1.2.2.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.4.4.1.1.1.1.2.3.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.2.3">ğ‘‘</ci></apply><apply id="A1.Ex22.m1.4.4.1.1.1.1.3.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.4.4.1.1.1.1.3.1.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.3">subscript</csymbol><ci id="A1.Ex22.m1.4.4.1.1.1.1.3.2.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.3.2">ğ‘¥</ci><ci id="A1.Ex22.m1.4.4.1.1.1.1.3.3.cmml" xref="A1.Ex22.m1.4.4.1.1.1.1.3.3">ğ‘¢</ci></apply></apply></apply><apply id="A1.Ex22.m1.5.5.2.cmml" xref="A1.Ex22.m1.5.5.2"><apply id="A1.Ex22.m1.5.5.2.2.cmml" xref="A1.Ex22.m1.5.5.2.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.5.5.2.2.1.cmml" xref="A1.Ex22.m1.5.5.2.2">subscript</csymbol><sum id="A1.Ex22.m1.5.5.2.2.2.cmml" xref="A1.Ex22.m1.5.5.2.2.2"></sum><apply id="A1.Ex22.m1.5.5.2.2.3.cmml" xref="A1.Ex22.m1.5.5.2.2.3"><in id="A1.Ex22.m1.5.5.2.2.3.1.cmml" xref="A1.Ex22.m1.5.5.2.2.3.1"></in><apply id="A1.Ex22.m1.5.5.2.2.3.2.cmml" xref="A1.Ex22.m1.5.5.2.2.3.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.5.5.2.2.3.2.1.cmml" xref="A1.Ex22.m1.5.5.2.2.3.2">subscript</csymbol><apply id="A1.Ex22.m1.5.5.2.2.3.2.2.cmml" xref="A1.Ex22.m1.5.5.2.2.3.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.5.5.2.2.3.2.2.1.cmml" xref="A1.Ex22.m1.5.5.2.2.3.2">superscript</csymbol><ci id="A1.Ex22.m1.5.5.2.2.3.2.2.2.cmml" xref="A1.Ex22.m1.5.5.2.2.3.2.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.5.5.2.2.3.2.2.3.cmml" xref="A1.Ex22.m1.5.5.2.2.3.2.2.3">â€²</ci></apply><ci id="A1.Ex22.m1.5.5.2.2.3.2.3.cmml" xref="A1.Ex22.m1.5.5.2.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex22.m1.5.5.2.2.3.3.cmml" xref="A1.Ex22.m1.5.5.2.2.3.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.5.5.2.2.3.3.1.cmml" xref="A1.Ex22.m1.5.5.2.2.3.3">subscript</csymbol><ci id="A1.Ex22.m1.5.5.2.2.3.3.2.cmml" xref="A1.Ex22.m1.5.5.2.2.3.3.2">â„°</ci><ci id="A1.Ex22.m1.5.5.2.2.3.3.3.cmml" xref="A1.Ex22.m1.5.5.2.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex22.m1.5.5.2.1.cmml" xref="A1.Ex22.m1.5.5.2.1"><times id="A1.Ex22.m1.5.5.2.1.2.cmml" xref="A1.Ex22.m1.5.5.2.1.2"></times><ci id="A1.Ex22.m1.5.5.2.1.3.cmml" xref="A1.Ex22.m1.5.5.2.1.3">exp</ci><apply id="A1.Ex22.m1.5.5.2.1.1.1.1.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1"><times id="A1.Ex22.m1.5.5.2.1.1.1.1.4.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.4"></times><ci id="A1.Ex22.m1.5.5.2.1.1.1.1.5.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.5">ğ‘”</ci><vector id="A1.Ex22.m1.5.5.2.1.1.1.1.3.4.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.3"><apply id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1">subscript</csymbol><apply id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1">superscript</csymbol><ci id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.2.3">â€²</ci></apply><ci id="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.2.2.2.3">ğ‘‘</ci></apply><apply id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.1.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3">subscript</csymbol><ci id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.2.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.3.cmml" xref="A1.Ex22.m1.5.5.2.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex22.m1.6c">\displaystyle=-\beta\mathbb{E}_{(x_{u},e_{p},\mathcal{E}_{d})}\left[\sigma%
\left({\rm log}\,\sum_{e_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e_{d},e_{p},x_{u}))%
\right)\cdot\left[\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{p}|x_{u})-\sum_{%
e_{d}\in\mathcal{E}_{d}}\frac{\nabla_{\theta}\,{\rm log}\,\pi_{\theta}(e_{d}|x%
_{u})}{\sum_{e^{\prime}_{d}\in\mathcal{E}_{d}}{\rm exp}(g(e^{\prime}_{d},e_{d}%
,x_{u}))}\right]\right]</annotation><annotation encoding="application/x-llamapun" id="A1.Ex22.m1.6d">= - italic_Î² blackboard_E start_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT [ italic_Ïƒ ( roman_log âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_g ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) ) â‹… [ âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) - âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT divide start_ARG âˆ‡ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT roman_log italic_Ï€ start_POSTSUBSCRIPT italic_Î¸ end_POSTSUBSCRIPT ( italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_g ( italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) end_ARG ] ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.SS3.p1.5">The last equation is because:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A4.EGx22">
<tbody id="A1.Ex23"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\sum_{e_{d}\in\mathcal{E}_{d}}\frac{1}{\sum_{e^{\prime}_{d}\in%
\mathcal{E}_{d}}{\rm exp}(g(e^{\prime}_{d},e_{d},x_{u}))}=\frac{\sum_{e_{d}\in%
\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))}{\sum_{e^{\prime}_{d}\in\mathcal{E}%
_{d}}{\rm exp}(V(\theta;e^{\prime}_{d}))}=1" class="ltx_Math" display="inline" id="A1.Ex23.m1.5"><semantics id="A1.Ex23.m1.5a"><mrow id="A1.Ex23.m1.5.6" xref="A1.Ex23.m1.5.6.cmml"><mrow id="A1.Ex23.m1.5.6.2" xref="A1.Ex23.m1.5.6.2.cmml"><mstyle displaystyle="true" id="A1.Ex23.m1.5.6.2.1" xref="A1.Ex23.m1.5.6.2.1.cmml"><munder id="A1.Ex23.m1.5.6.2.1a" xref="A1.Ex23.m1.5.6.2.1.cmml"><mo id="A1.Ex23.m1.5.6.2.1.2" movablelimits="false" xref="A1.Ex23.m1.5.6.2.1.2.cmml">âˆ‘</mo><mrow id="A1.Ex23.m1.5.6.2.1.3" xref="A1.Ex23.m1.5.6.2.1.3.cmml"><msub id="A1.Ex23.m1.5.6.2.1.3.2" xref="A1.Ex23.m1.5.6.2.1.3.2.cmml"><mi id="A1.Ex23.m1.5.6.2.1.3.2.2" xref="A1.Ex23.m1.5.6.2.1.3.2.2.cmml">e</mi><mi id="A1.Ex23.m1.5.6.2.1.3.2.3" xref="A1.Ex23.m1.5.6.2.1.3.2.3.cmml">d</mi></msub><mo id="A1.Ex23.m1.5.6.2.1.3.1" xref="A1.Ex23.m1.5.6.2.1.3.1.cmml">âˆˆ</mo><msub id="A1.Ex23.m1.5.6.2.1.3.3" xref="A1.Ex23.m1.5.6.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex23.m1.5.6.2.1.3.3.2" xref="A1.Ex23.m1.5.6.2.1.3.3.2.cmml">â„°</mi><mi id="A1.Ex23.m1.5.6.2.1.3.3.3" xref="A1.Ex23.m1.5.6.2.1.3.3.3.cmml">d</mi></msub></mrow></munder></mstyle><mstyle displaystyle="true" id="A1.Ex23.m1.1.1" xref="A1.Ex23.m1.1.1.cmml"><mfrac id="A1.Ex23.m1.1.1a" xref="A1.Ex23.m1.1.1.cmml"><mn id="A1.Ex23.m1.1.1.3" xref="A1.Ex23.m1.1.1.3.cmml">1</mn><mrow id="A1.Ex23.m1.1.1.1" xref="A1.Ex23.m1.1.1.1.cmml"><msub id="A1.Ex23.m1.1.1.1.2" xref="A1.Ex23.m1.1.1.1.2.cmml"><mo id="A1.Ex23.m1.1.1.1.2.2" xref="A1.Ex23.m1.1.1.1.2.2.cmml">âˆ‘</mo><mrow id="A1.Ex23.m1.1.1.1.2.3" xref="A1.Ex23.m1.1.1.1.2.3.cmml"><msubsup id="A1.Ex23.m1.1.1.1.2.3.2" xref="A1.Ex23.m1.1.1.1.2.3.2.cmml"><mi id="A1.Ex23.m1.1.1.1.2.3.2.2.2" xref="A1.Ex23.m1.1.1.1.2.3.2.2.2.cmml">e</mi><mi id="A1.Ex23.m1.1.1.1.2.3.2.3" xref="A1.Ex23.m1.1.1.1.2.3.2.3.cmml">d</mi><mo id="A1.Ex23.m1.1.1.1.2.3.2.2.3" xref="A1.Ex23.m1.1.1.1.2.3.2.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex23.m1.1.1.1.2.3.1" xref="A1.Ex23.m1.1.1.1.2.3.1.cmml">âˆˆ</mo><msub id="A1.Ex23.m1.1.1.1.2.3.3" xref="A1.Ex23.m1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex23.m1.1.1.1.2.3.3.2" xref="A1.Ex23.m1.1.1.1.2.3.3.2.cmml">â„°</mi><mi id="A1.Ex23.m1.1.1.1.2.3.3.3" xref="A1.Ex23.m1.1.1.1.2.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="A1.Ex23.m1.1.1.1.1" xref="A1.Ex23.m1.1.1.1.1.cmml"><mi id="A1.Ex23.m1.1.1.1.1.3" xref="A1.Ex23.m1.1.1.1.1.3.cmml">exp</mi><mo id="A1.Ex23.m1.1.1.1.1.2" xref="A1.Ex23.m1.1.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex23.m1.1.1.1.1.1.1" xref="A1.Ex23.m1.1.1.1.1.1.1.1.cmml"><mo id="A1.Ex23.m1.1.1.1.1.1.1.2" stretchy="false" xref="A1.Ex23.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.Ex23.m1.1.1.1.1.1.1.1" xref="A1.Ex23.m1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex23.m1.1.1.1.1.1.1.1.5" xref="A1.Ex23.m1.1.1.1.1.1.1.1.5.cmml">g</mi><mo id="A1.Ex23.m1.1.1.1.1.1.1.1.4" xref="A1.Ex23.m1.1.1.1.1.1.1.1.4.cmml">â¢</mo><mrow id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.4.cmml"><mo id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msubsup id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.2" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.3" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.3.cmml">d</mi><mo id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.3" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.5" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2" xref="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.2" xref="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.2.cmml">e</mi><mi id="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.3" xref="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.3.cmml">d</mi></msub><mo id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.6" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.2" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.2.cmml">x</mi><mi id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.3" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.3.cmml">u</mi></msub><mo id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.7" stretchy="false" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="A1.Ex23.m1.1.1.1.1.1.1.3" stretchy="false" xref="A1.Ex23.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="A1.Ex23.m1.5.6.3" xref="A1.Ex23.m1.5.6.3.cmml">=</mo><mstyle displaystyle="true" id="A1.Ex23.m1.5.5" xref="A1.Ex23.m1.5.5.cmml"><mfrac id="A1.Ex23.m1.5.5a" xref="A1.Ex23.m1.5.5.cmml"><mrow id="A1.Ex23.m1.3.3.2" xref="A1.Ex23.m1.3.3.2.cmml"><msub id="A1.Ex23.m1.3.3.2.3" xref="A1.Ex23.m1.3.3.2.3.cmml"><mo id="A1.Ex23.m1.3.3.2.3.2" xref="A1.Ex23.m1.3.3.2.3.2.cmml">âˆ‘</mo><mrow id="A1.Ex23.m1.3.3.2.3.3" xref="A1.Ex23.m1.3.3.2.3.3.cmml"><msub id="A1.Ex23.m1.3.3.2.3.3.2" xref="A1.Ex23.m1.3.3.2.3.3.2.cmml"><mi id="A1.Ex23.m1.3.3.2.3.3.2.2" xref="A1.Ex23.m1.3.3.2.3.3.2.2.cmml">e</mi><mi id="A1.Ex23.m1.3.3.2.3.3.2.3" xref="A1.Ex23.m1.3.3.2.3.3.2.3.cmml">d</mi></msub><mo id="A1.Ex23.m1.3.3.2.3.3.1" xref="A1.Ex23.m1.3.3.2.3.3.1.cmml">âˆˆ</mo><msub id="A1.Ex23.m1.3.3.2.3.3.3" xref="A1.Ex23.m1.3.3.2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex23.m1.3.3.2.3.3.3.2" xref="A1.Ex23.m1.3.3.2.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex23.m1.3.3.2.3.3.3.3" xref="A1.Ex23.m1.3.3.2.3.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="A1.Ex23.m1.3.3.2.2" xref="A1.Ex23.m1.3.3.2.2.cmml"><mi id="A1.Ex23.m1.3.3.2.2.3" xref="A1.Ex23.m1.3.3.2.2.3.cmml">exp</mi><mo id="A1.Ex23.m1.3.3.2.2.2" xref="A1.Ex23.m1.3.3.2.2.2.cmml">â¢</mo><mrow id="A1.Ex23.m1.3.3.2.2.1.1" xref="A1.Ex23.m1.3.3.2.2.1.1.1.cmml"><mo id="A1.Ex23.m1.3.3.2.2.1.1.2" stretchy="false" xref="A1.Ex23.m1.3.3.2.2.1.1.1.cmml">(</mo><mrow id="A1.Ex23.m1.3.3.2.2.1.1.1" xref="A1.Ex23.m1.3.3.2.2.1.1.1.cmml"><mi id="A1.Ex23.m1.3.3.2.2.1.1.1.3" xref="A1.Ex23.m1.3.3.2.2.1.1.1.3.cmml">V</mi><mo id="A1.Ex23.m1.3.3.2.2.1.1.1.2" xref="A1.Ex23.m1.3.3.2.2.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.2.cmml"><mo id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.2" stretchy="false" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex23.m1.2.2.1.1" xref="A1.Ex23.m1.2.2.1.1.cmml">Î¸</mi><mo id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.3" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.2.cmml">;</mo><msub id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.cmml"><mi id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.2" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.2.cmml">e</mi><mi id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.3" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.3.cmml">d</mi></msub><mo id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.4" stretchy="false" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex23.m1.3.3.2.2.1.1.3" stretchy="false" xref="A1.Ex23.m1.3.3.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="A1.Ex23.m1.5.5.4" xref="A1.Ex23.m1.5.5.4.cmml"><msub id="A1.Ex23.m1.5.5.4.3" xref="A1.Ex23.m1.5.5.4.3.cmml"><mo id="A1.Ex23.m1.5.5.4.3.2" xref="A1.Ex23.m1.5.5.4.3.2.cmml">âˆ‘</mo><mrow id="A1.Ex23.m1.5.5.4.3.3" xref="A1.Ex23.m1.5.5.4.3.3.cmml"><msubsup id="A1.Ex23.m1.5.5.4.3.3.2" xref="A1.Ex23.m1.5.5.4.3.3.2.cmml"><mi id="A1.Ex23.m1.5.5.4.3.3.2.2.2" xref="A1.Ex23.m1.5.5.4.3.3.2.2.2.cmml">e</mi><mi id="A1.Ex23.m1.5.5.4.3.3.2.3" xref="A1.Ex23.m1.5.5.4.3.3.2.3.cmml">d</mi><mo id="A1.Ex23.m1.5.5.4.3.3.2.2.3" xref="A1.Ex23.m1.5.5.4.3.3.2.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex23.m1.5.5.4.3.3.1" xref="A1.Ex23.m1.5.5.4.3.3.1.cmml">âˆˆ</mo><msub id="A1.Ex23.m1.5.5.4.3.3.3" xref="A1.Ex23.m1.5.5.4.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.Ex23.m1.5.5.4.3.3.3.2" xref="A1.Ex23.m1.5.5.4.3.3.3.2.cmml">â„°</mi><mi id="A1.Ex23.m1.5.5.4.3.3.3.3" xref="A1.Ex23.m1.5.5.4.3.3.3.3.cmml">d</mi></msub></mrow></msub><mrow id="A1.Ex23.m1.5.5.4.2" xref="A1.Ex23.m1.5.5.4.2.cmml"><mi id="A1.Ex23.m1.5.5.4.2.3" xref="A1.Ex23.m1.5.5.4.2.3.cmml">exp</mi><mo id="A1.Ex23.m1.5.5.4.2.2" xref="A1.Ex23.m1.5.5.4.2.2.cmml">â¢</mo><mrow id="A1.Ex23.m1.5.5.4.2.1.1" xref="A1.Ex23.m1.5.5.4.2.1.1.1.cmml"><mo id="A1.Ex23.m1.5.5.4.2.1.1.2" stretchy="false" xref="A1.Ex23.m1.5.5.4.2.1.1.1.cmml">(</mo><mrow id="A1.Ex23.m1.5.5.4.2.1.1.1" xref="A1.Ex23.m1.5.5.4.2.1.1.1.cmml"><mi id="A1.Ex23.m1.5.5.4.2.1.1.1.3" xref="A1.Ex23.m1.5.5.4.2.1.1.1.3.cmml">V</mi><mo id="A1.Ex23.m1.5.5.4.2.1.1.1.2" xref="A1.Ex23.m1.5.5.4.2.1.1.1.2.cmml">â¢</mo><mrow id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.2.cmml"><mo id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.2" stretchy="false" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.2.cmml">(</mo><mi id="A1.Ex23.m1.4.4.3.1" xref="A1.Ex23.m1.4.4.3.1.cmml">Î¸</mi><mo id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.3" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.2.cmml">;</mo><msubsup id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.cmml"><mi id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.2" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.2.cmml">e</mi><mi id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.3" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.3.cmml">d</mi><mo id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.3" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.3.cmml">â€²</mo></msubsup><mo id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.4" stretchy="false" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.Ex23.m1.5.5.4.2.1.1.3" stretchy="false" xref="A1.Ex23.m1.5.5.4.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle><mo id="A1.Ex23.m1.5.6.4" xref="A1.Ex23.m1.5.6.4.cmml">=</mo><mn id="A1.Ex23.m1.5.6.5" xref="A1.Ex23.m1.5.6.5.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.Ex23.m1.5b"><apply id="A1.Ex23.m1.5.6.cmml" xref="A1.Ex23.m1.5.6"><and id="A1.Ex23.m1.5.6a.cmml" xref="A1.Ex23.m1.5.6"></and><apply id="A1.Ex23.m1.5.6b.cmml" xref="A1.Ex23.m1.5.6"><eq id="A1.Ex23.m1.5.6.3.cmml" xref="A1.Ex23.m1.5.6.3"></eq><apply id="A1.Ex23.m1.5.6.2.cmml" xref="A1.Ex23.m1.5.6.2"><apply id="A1.Ex23.m1.5.6.2.1.cmml" xref="A1.Ex23.m1.5.6.2.1"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.6.2.1.1.cmml" xref="A1.Ex23.m1.5.6.2.1">subscript</csymbol><sum id="A1.Ex23.m1.5.6.2.1.2.cmml" xref="A1.Ex23.m1.5.6.2.1.2"></sum><apply id="A1.Ex23.m1.5.6.2.1.3.cmml" xref="A1.Ex23.m1.5.6.2.1.3"><in id="A1.Ex23.m1.5.6.2.1.3.1.cmml" xref="A1.Ex23.m1.5.6.2.1.3.1"></in><apply id="A1.Ex23.m1.5.6.2.1.3.2.cmml" xref="A1.Ex23.m1.5.6.2.1.3.2"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.6.2.1.3.2.1.cmml" xref="A1.Ex23.m1.5.6.2.1.3.2">subscript</csymbol><ci id="A1.Ex23.m1.5.6.2.1.3.2.2.cmml" xref="A1.Ex23.m1.5.6.2.1.3.2.2">ğ‘’</ci><ci id="A1.Ex23.m1.5.6.2.1.3.2.3.cmml" xref="A1.Ex23.m1.5.6.2.1.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex23.m1.5.6.2.1.3.3.cmml" xref="A1.Ex23.m1.5.6.2.1.3.3"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.6.2.1.3.3.1.cmml" xref="A1.Ex23.m1.5.6.2.1.3.3">subscript</csymbol><ci id="A1.Ex23.m1.5.6.2.1.3.3.2.cmml" xref="A1.Ex23.m1.5.6.2.1.3.3.2">â„°</ci><ci id="A1.Ex23.m1.5.6.2.1.3.3.3.cmml" xref="A1.Ex23.m1.5.6.2.1.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex23.m1.1.1.cmml" xref="A1.Ex23.m1.1.1"><divide id="A1.Ex23.m1.1.1.2.cmml" xref="A1.Ex23.m1.1.1"></divide><cn id="A1.Ex23.m1.1.1.3.cmml" type="integer" xref="A1.Ex23.m1.1.1.3">1</cn><apply id="A1.Ex23.m1.1.1.1.cmml" xref="A1.Ex23.m1.1.1.1"><apply id="A1.Ex23.m1.1.1.1.2.cmml" xref="A1.Ex23.m1.1.1.1.2"><csymbol cd="ambiguous" id="A1.Ex23.m1.1.1.1.2.1.cmml" xref="A1.Ex23.m1.1.1.1.2">subscript</csymbol><sum id="A1.Ex23.m1.1.1.1.2.2.cmml" xref="A1.Ex23.m1.1.1.1.2.2"></sum><apply id="A1.Ex23.m1.1.1.1.2.3.cmml" xref="A1.Ex23.m1.1.1.1.2.3"><in id="A1.Ex23.m1.1.1.1.2.3.1.cmml" xref="A1.Ex23.m1.1.1.1.2.3.1"></in><apply id="A1.Ex23.m1.1.1.1.2.3.2.cmml" xref="A1.Ex23.m1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex23.m1.1.1.1.2.3.2.1.cmml" xref="A1.Ex23.m1.1.1.1.2.3.2">subscript</csymbol><apply id="A1.Ex23.m1.1.1.1.2.3.2.2.cmml" xref="A1.Ex23.m1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="A1.Ex23.m1.1.1.1.2.3.2.2.1.cmml" xref="A1.Ex23.m1.1.1.1.2.3.2">superscript</csymbol><ci id="A1.Ex23.m1.1.1.1.2.3.2.2.2.cmml" xref="A1.Ex23.m1.1.1.1.2.3.2.2.2">ğ‘’</ci><ci id="A1.Ex23.m1.1.1.1.2.3.2.2.3.cmml" xref="A1.Ex23.m1.1.1.1.2.3.2.2.3">â€²</ci></apply><ci id="A1.Ex23.m1.1.1.1.2.3.2.3.cmml" xref="A1.Ex23.m1.1.1.1.2.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex23.m1.1.1.1.2.3.3.cmml" xref="A1.Ex23.m1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="A1.Ex23.m1.1.1.1.2.3.3.1.cmml" xref="A1.Ex23.m1.1.1.1.2.3.3">subscript</csymbol><ci id="A1.Ex23.m1.1.1.1.2.3.3.2.cmml" xref="A1.Ex23.m1.1.1.1.2.3.3.2">â„°</ci><ci id="A1.Ex23.m1.1.1.1.2.3.3.3.cmml" xref="A1.Ex23.m1.1.1.1.2.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex23.m1.1.1.1.1.cmml" xref="A1.Ex23.m1.1.1.1.1"><times id="A1.Ex23.m1.1.1.1.1.2.cmml" xref="A1.Ex23.m1.1.1.1.1.2"></times><ci id="A1.Ex23.m1.1.1.1.1.3.cmml" xref="A1.Ex23.m1.1.1.1.1.3">exp</ci><apply id="A1.Ex23.m1.1.1.1.1.1.1.1.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1"><times id="A1.Ex23.m1.1.1.1.1.1.1.1.4.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.4"></times><ci id="A1.Ex23.m1.1.1.1.1.1.1.1.5.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.5">ğ‘”</ci><vector id="A1.Ex23.m1.1.1.1.1.1.1.1.3.4.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.3"><apply id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.2.3">â€²</ci></apply><ci id="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.1.1.1.3">ğ‘‘</ci></apply><apply id="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.2">ğ‘’</ci><ci id="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.2.2.2.3">ğ‘‘</ci></apply><apply id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.2">ğ‘¥</ci><ci id="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="A1.Ex23.m1.1.1.1.1.1.1.1.3.3.3.3">ğ‘¢</ci></apply></vector></apply></apply></apply></apply></apply><apply id="A1.Ex23.m1.5.5.cmml" xref="A1.Ex23.m1.5.5"><divide id="A1.Ex23.m1.5.5.5.cmml" xref="A1.Ex23.m1.5.5"></divide><apply id="A1.Ex23.m1.3.3.2.cmml" xref="A1.Ex23.m1.3.3.2"><apply id="A1.Ex23.m1.3.3.2.3.cmml" xref="A1.Ex23.m1.3.3.2.3"><csymbol cd="ambiguous" id="A1.Ex23.m1.3.3.2.3.1.cmml" xref="A1.Ex23.m1.3.3.2.3">subscript</csymbol><sum id="A1.Ex23.m1.3.3.2.3.2.cmml" xref="A1.Ex23.m1.3.3.2.3.2"></sum><apply id="A1.Ex23.m1.3.3.2.3.3.cmml" xref="A1.Ex23.m1.3.3.2.3.3"><in id="A1.Ex23.m1.3.3.2.3.3.1.cmml" xref="A1.Ex23.m1.3.3.2.3.3.1"></in><apply id="A1.Ex23.m1.3.3.2.3.3.2.cmml" xref="A1.Ex23.m1.3.3.2.3.3.2"><csymbol cd="ambiguous" id="A1.Ex23.m1.3.3.2.3.3.2.1.cmml" xref="A1.Ex23.m1.3.3.2.3.3.2">subscript</csymbol><ci id="A1.Ex23.m1.3.3.2.3.3.2.2.cmml" xref="A1.Ex23.m1.3.3.2.3.3.2.2">ğ‘’</ci><ci id="A1.Ex23.m1.3.3.2.3.3.2.3.cmml" xref="A1.Ex23.m1.3.3.2.3.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex23.m1.3.3.2.3.3.3.cmml" xref="A1.Ex23.m1.3.3.2.3.3.3"><csymbol cd="ambiguous" id="A1.Ex23.m1.3.3.2.3.3.3.1.cmml" xref="A1.Ex23.m1.3.3.2.3.3.3">subscript</csymbol><ci id="A1.Ex23.m1.3.3.2.3.3.3.2.cmml" xref="A1.Ex23.m1.3.3.2.3.3.3.2">â„°</ci><ci id="A1.Ex23.m1.3.3.2.3.3.3.3.cmml" xref="A1.Ex23.m1.3.3.2.3.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex23.m1.3.3.2.2.cmml" xref="A1.Ex23.m1.3.3.2.2"><times id="A1.Ex23.m1.3.3.2.2.2.cmml" xref="A1.Ex23.m1.3.3.2.2.2"></times><ci id="A1.Ex23.m1.3.3.2.2.3.cmml" xref="A1.Ex23.m1.3.3.2.2.3">exp</ci><apply id="A1.Ex23.m1.3.3.2.2.1.1.1.cmml" xref="A1.Ex23.m1.3.3.2.2.1.1"><times id="A1.Ex23.m1.3.3.2.2.1.1.1.2.cmml" xref="A1.Ex23.m1.3.3.2.2.1.1.1.2"></times><ci id="A1.Ex23.m1.3.3.2.2.1.1.1.3.cmml" xref="A1.Ex23.m1.3.3.2.2.1.1.1.3">ğ‘‰</ci><list id="A1.Ex23.m1.3.3.2.2.1.1.1.1.2.cmml" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.1"><ci id="A1.Ex23.m1.2.2.1.1.cmml" xref="A1.Ex23.m1.2.2.1.1">ğœƒ</ci><apply id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.cmml" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.2.cmml" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.2">ğ‘’</ci><ci id="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.3.cmml" xref="A1.Ex23.m1.3.3.2.2.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply><apply id="A1.Ex23.m1.5.5.4.cmml" xref="A1.Ex23.m1.5.5.4"><apply id="A1.Ex23.m1.5.5.4.3.cmml" xref="A1.Ex23.m1.5.5.4.3"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.5.4.3.1.cmml" xref="A1.Ex23.m1.5.5.4.3">subscript</csymbol><sum id="A1.Ex23.m1.5.5.4.3.2.cmml" xref="A1.Ex23.m1.5.5.4.3.2"></sum><apply id="A1.Ex23.m1.5.5.4.3.3.cmml" xref="A1.Ex23.m1.5.5.4.3.3"><in id="A1.Ex23.m1.5.5.4.3.3.1.cmml" xref="A1.Ex23.m1.5.5.4.3.3.1"></in><apply id="A1.Ex23.m1.5.5.4.3.3.2.cmml" xref="A1.Ex23.m1.5.5.4.3.3.2"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.5.4.3.3.2.1.cmml" xref="A1.Ex23.m1.5.5.4.3.3.2">subscript</csymbol><apply id="A1.Ex23.m1.5.5.4.3.3.2.2.cmml" xref="A1.Ex23.m1.5.5.4.3.3.2"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.5.4.3.3.2.2.1.cmml" xref="A1.Ex23.m1.5.5.4.3.3.2">superscript</csymbol><ci id="A1.Ex23.m1.5.5.4.3.3.2.2.2.cmml" xref="A1.Ex23.m1.5.5.4.3.3.2.2.2">ğ‘’</ci><ci id="A1.Ex23.m1.5.5.4.3.3.2.2.3.cmml" xref="A1.Ex23.m1.5.5.4.3.3.2.2.3">â€²</ci></apply><ci id="A1.Ex23.m1.5.5.4.3.3.2.3.cmml" xref="A1.Ex23.m1.5.5.4.3.3.2.3">ğ‘‘</ci></apply><apply id="A1.Ex23.m1.5.5.4.3.3.3.cmml" xref="A1.Ex23.m1.5.5.4.3.3.3"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.5.4.3.3.3.1.cmml" xref="A1.Ex23.m1.5.5.4.3.3.3">subscript</csymbol><ci id="A1.Ex23.m1.5.5.4.3.3.3.2.cmml" xref="A1.Ex23.m1.5.5.4.3.3.3.2">â„°</ci><ci id="A1.Ex23.m1.5.5.4.3.3.3.3.cmml" xref="A1.Ex23.m1.5.5.4.3.3.3.3">ğ‘‘</ci></apply></apply></apply><apply id="A1.Ex23.m1.5.5.4.2.cmml" xref="A1.Ex23.m1.5.5.4.2"><times id="A1.Ex23.m1.5.5.4.2.2.cmml" xref="A1.Ex23.m1.5.5.4.2.2"></times><ci id="A1.Ex23.m1.5.5.4.2.3.cmml" xref="A1.Ex23.m1.5.5.4.2.3">exp</ci><apply id="A1.Ex23.m1.5.5.4.2.1.1.1.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1"><times id="A1.Ex23.m1.5.5.4.2.1.1.1.2.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.2"></times><ci id="A1.Ex23.m1.5.5.4.2.1.1.1.3.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.3">ğ‘‰</ci><list id="A1.Ex23.m1.5.5.4.2.1.1.1.1.2.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1"><ci id="A1.Ex23.m1.4.4.3.1.cmml" xref="A1.Ex23.m1.4.4.3.1">ğœƒ</ci><apply id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.1.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1">subscript</csymbol><apply id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.1.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1">superscript</csymbol><ci id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.2.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.2">ğ‘’</ci><ci id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.3.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.2.3">â€²</ci></apply><ci id="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.3.cmml" xref="A1.Ex23.m1.5.5.4.2.1.1.1.1.1.1.3">ğ‘‘</ci></apply></list></apply></apply></apply></apply></apply><apply id="A1.Ex23.m1.5.6c.cmml" xref="A1.Ex23.m1.5.6"><eq id="A1.Ex23.m1.5.6.4.cmml" xref="A1.Ex23.m1.5.6.4"></eq><share href="https://arxiv.org/html/2406.09215v2#A1.Ex23.m1.5.5.cmml" id="A1.Ex23.m1.5.6d.cmml" xref="A1.Ex23.m1.5.6"></share><cn id="A1.Ex23.m1.5.6.5.cmml" type="integer" xref="A1.Ex23.m1.5.6.5">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.Ex23.m1.5c">\displaystyle\sum_{e_{d}\in\mathcal{E}_{d}}\frac{1}{\sum_{e^{\prime}_{d}\in%
\mathcal{E}_{d}}{\rm exp}(g(e^{\prime}_{d},e_{d},x_{u}))}=\frac{\sum_{e_{d}\in%
\mathcal{E}_{d}}{\rm exp}(V(\theta;e_{d}))}{\sum_{e^{\prime}_{d}\in\mathcal{E}%
_{d}}{\rm exp}(V(\theta;e^{\prime}_{d}))}=1</annotation><annotation encoding="application/x-llamapun" id="A1.Ex23.m1.5d">âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_g ( italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT , italic_x start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ) ) end_ARG = divide start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) end_ARG start_ARG âˆ‘ start_POSTSUBSCRIPT italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT âˆˆ caligraphic_E start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_V ( italic_Î¸ ; italic_e start_POSTSUPERSCRIPT â€² end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT ) ) end_ARG = 1</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Experimental Settings</h2>
<section class="ltx_subsection" id="A2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Baselines</h3>
<div class="ltx_para" id="A2.SS1.p1">
<p class="ltx_p" id="A2.SS1.p1.1">We compare the performance of S-DPO, against both traditional and LM-based baselines to showcase the effectiveness of our method.
Specifically, for traditional methods, we have:</p>
<ul class="ltx_itemize" id="A2.I1">
<li class="ltx_item" id="A2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="A2.I1.i1.p1">
<p class="ltx_p" id="A2.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i1.p1.1.1">GRU4Rec</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib45" title="">45</a>]</cite> utilizes the GRU (Gated Recurrent Unit) architecture to model sequences, enabling effective prediction in recommendation tasks.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="A2.I1.i2.p1">
<p class="ltx_p" id="A2.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i2.p1.1.1">Caser</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib46" title="">46</a>]</cite> employs both horizontal and vertical convolutional operations to enhance the capture of high-order interactions within item sequences, improving recommendation accuracy.</p>
</div>
</li>
<li class="ltx_item" id="A2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="A2.I1.i3.p1">
<p class="ltx_p" id="A2.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I1.i3.p1.1.1">SASRec</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib47" title="">47</a>]</cite> incorporates a multi-head self-attention mechanism in its self-attentive sequential recommendation model, facilitating the modeling of intricate sequential data patterns.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="A2.SS1.p2">
<p class="ltx_p" id="A2.SS1.p2.1">For LM-enhanced method, we have:</p>
<ul class="ltx_itemize" id="A2.I2">
<li class="ltx_item" id="A2.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="A2.I2.i1.p1">
<p class="ltx_p" id="A2.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I2.i1.p1.1.1">MoRec</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib48" title="">48</a>]</cite> advances traditional recommendation systems by incorporating the modality features of items instead of the id feature. we employ BERT for the text encoder and SASRec for the recommendation architecture.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="A2.SS1.p3">
<p class="ltx_p" id="A2.SS1.p3.1">For LM-based methods, we have:</p>
<ul class="ltx_itemize" id="A2.I3">
<li class="ltx_item" id="A2.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="A2.I3.i1.p1">
<p class="ltx_p" id="A2.I3.i1.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I3.i1.p1.1.1">LLaMA2</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib31" title="">31</a>]</cite> utilized vanilla LLaMA2-7B to directly generate recommendation results through direct prompting.</p>
</div>
</li>
<li class="ltx_item" id="A2.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="A2.I3.i2.p1">
<p class="ltx_p" id="A2.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I3.i2.p1.1.1">Chat-REC</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib14" title="">14</a>]</cite> is implemented based on the framework discussed in <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib14" title="">14</a>]</cite>, we retain user interaction sequences consisting of item titles as use profiles for a fair comparison. We use GPT4 <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib51" title="">51</a>]</cite> as its primary large language model.</p>
</div>
</li>
<li class="ltx_item" id="A2.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="A2.I3.i3.p1">
<p class="ltx_p" id="A2.I3.i3.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I3.i3.p1.1.1">TallRec</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib13" title="">13</a>]</cite> first propose to transform interaction sequences into textual prompts and then fine-tunes large language models using domain-specific corpus.</p>
</div>
</li>
<li class="ltx_item" id="A2.I3.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">â€¢</span>
<div class="ltx_para" id="A2.I3.i4.p1">
<p class="ltx_p" id="A2.I3.i4.p1.1"><span class="ltx_text ltx_font_bold" id="A2.I3.i4.p1.1.1">LLaRA</span> <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite> combines collaborative signals from traditional recommendation systems into the fine-tuning of large language models for improved recommendation performance.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="A2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Datasets</h3>
<figure class="ltx_table" id="A2.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A2.T2.2.1.1" style="font-size:90%;">Table 2</span>: </span><span class="ltx_text" id="A2.T2.3.2" style="font-size:90%;">Statistics of datasets.</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="A2.T2.4" style="width:216.8pt;height:61.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-18.1pt,5.1pt) scale(0.857190550649457,0.857190550649457) ;">
<table class="ltx_tabular ltx_align_middle" id="A2.T2.4.1">
<tr class="ltx_tr" id="A2.T2.4.1.1">
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T2.4.1.1.1" style="padding-top:1.5pt;padding-bottom:1.5pt;">Dataset</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T2.4.1.1.2" style="padding-top:1.5pt;padding-bottom:1.5pt;">MovieLens</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T2.4.1.1.3" style="padding-top:1.5pt;padding-bottom:1.5pt;">Goodreads</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A2.T2.4.1.1.4" style="padding-top:1.5pt;padding-bottom:1.5pt;">LastFM</td>
</tr>
<tr class="ltx_tr" id="A2.T2.4.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T2.4.1.2.1" style="padding-top:1.5pt;padding-bottom:1.5pt;">#Sequence</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T2.4.1.2.2" style="padding-top:1.5pt;padding-bottom:1.5pt;">943</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T2.4.1.2.3" style="padding-top:1.5pt;padding-bottom:1.5pt;">6,031</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A2.T2.4.1.2.4" style="padding-top:1.5pt;padding-bottom:1.5pt;">1,220</td>
</tr>
<tr class="ltx_tr" id="A2.T2.4.1.3">
<td class="ltx_td ltx_align_center" id="A2.T2.4.1.3.1" style="padding-top:1.5pt;padding-bottom:1.5pt;">#Items</td>
<td class="ltx_td ltx_align_center" id="A2.T2.4.1.3.2" style="padding-top:1.5pt;padding-bottom:1.5pt;">1,682</td>
<td class="ltx_td ltx_align_center" id="A2.T2.4.1.3.3" style="padding-top:1.5pt;padding-bottom:1.5pt;">4,500</td>
<td class="ltx_td ltx_align_center" id="A2.T2.4.1.3.4" style="padding-top:1.5pt;padding-bottom:1.5pt;">4,606</td>
</tr>
<tr class="ltx_tr" id="A2.T2.4.1.4">
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T2.4.1.4.1" style="padding-top:1.5pt;padding-bottom:1.5pt;">#Interactions</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T2.4.1.4.2" style="padding-top:1.5pt;padding-bottom:1.5pt;">100,000</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T2.4.1.4.3" style="padding-top:1.5pt;padding-bottom:1.5pt;">220,100</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A2.T2.4.1.4.4" style="padding-top:1.5pt;padding-bottom:1.5pt;">73,510</td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_para" id="A2.SS2.p1">
<p class="ltx_p" id="A2.SS2.p1.1">To evaluate the effectiveness of S-DPO, we conduct experiments on three widely used real-world datasets: Movielens <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib49" title="">49</a>]</cite>, Goodreads<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span><a class="ltx_ref ltx_href" href="https://www.goodreads.com" title="">https://www.goodreads.com</a></span></span></span>, and LastFM <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib50" title="">50</a>]</cite>.
The statistics of datasets are illustrated in Table <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A2.T2" title="Table 2 â€£ B.2 Datasets â€£ Appendix B Experimental Settings â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2</span></a>.
The MovieLens dataset is widely used for movie recommendation tasks and includes user ratings and movie titles, we select the MovieLens100K dataset in our experiment.
Similarly, Goodreads is sourced from a social book cataloging website, where users can explore, rate, and review a variety of books.
LastFM dataset comprises usersâ€™ listening history and artistsâ€™ names from the Last.fm online music platform.
Following <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite>, we maintain their titles as textual descriptions for each dataset.
For Goodreads, we remove users and books with less than 20 interactions, which keeps the same as the processing of MovieLens.
For all datasets, we organize sequences chronologically before dividing the data into training, validation, and testing sets in an 8:1:1 ratio to prevent any potential information leakage.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>Implementation Details</h3>
<div class="ltx_para" id="A2.SS3.p1">
<p class="ltx_p" id="A2.SS3.p1.1">We implement all approaches with Python 3.9.7, PyTorch 2.2.2, and transformers 4.39.0 on 4 NVIDIA A100s.
We select Llama2-7B <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib31" title="">31</a>]</cite> as the LM backbone for S-DPO.
Following <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite>, we randomly select prompts from several prompt formats during training and evaluation to ensure flexibility and generality.
For optimization of all the traditional methods, the Adam optimizer is employed with a learning rate adjusted to 0.001, and a batch size configured at 256.
All models undergo L2 regularization, with coefficients experimentally determined from [1e-3, 1e-4, 1e-5, 1e-6, 1e-7].
In all experiments involving large language models, we train each method for a maximum of 5 epochs using a batch size of 128 and select the checkpoint with the lowest loss on the validation set as the final checkpoint. A warm-up strategy is applied to the learning rate, starting at 5% of its maximum value, and gradually adjusting it through a cosine scheduler throughout the training process.
For S-DPO and all of its ablation studies, we further conduct preference training for further 3 epochs with a batch size of 128 and a learning rate of 1e-5. Setting the value of <math alttext="\beta" class="ltx_Math" display="inline" id="A2.SS3.p1.1.m1.1"><semantics id="A2.SS3.p1.1.m1.1a"><mi id="A2.SS3.p1.1.m1.1.1" xref="A2.SS3.p1.1.m1.1.1.cmml">Î²</mi><annotation-xml encoding="MathML-Content" id="A2.SS3.p1.1.m1.1b"><ci id="A2.SS3.p1.1.m1.1.1.cmml" xref="A2.SS3.p1.1.m1.1.1">ğ›½</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.SS3.p1.1.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="A2.SS3.p1.1.m1.1d">italic_Î²</annotation></semantics></math> as 1, we search the number of negative samples in [3,5] for the main results. The effects of both factors are further explored in <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.SS2" title="4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">4.2</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.4 </span>Evaluation Metrics</h3>
<div class="ltx_para" id="A2.SS4.p1">
<p class="ltx_p" id="A2.SS4.p1.1">Given that LMs primarily produce textual responses rather than comprehensive item rankings, we utilize a re-ranking metric in line with previous research <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite> to assess recommendation performance.
For each sequence, a candidate set is constructed by randomly selecting 20 non-interacted items and always includes the correct item.
We assess all models based on their ability to pinpoint the correct item within this candidate set, employing the HitRatio@1 (HR@1) metric for performance evaluation.
Following <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#bib.bib18" title="">18</a>]</cite>, we also introduce an additional metric called the Valid Ratio to evaluate the LM-based methodsâ€™ adherence to instructions and their ability to generate appropriate responses.
Due to the difficulty LMs face in producing ranked results for candidate items, position-aware metrics like NDCG are deemed unsuitable for this evaluation.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Study of Negative Samples Number</h2>
<figure class="ltx_figure" id="A3.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A3.F4.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="328" id="A3.F4.sf1.g1" src="extracted/5667968/figure/valid_loss_ml.png" width="479"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A3.F4.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="A3.F4.sf1.3.2" style="font-size:90%;">Study of valid loss on MovieLens.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A3.F4.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="328" id="A3.F4.sf2.g1" src="extracted/5667968/figure/valid_loss_goodreads.png" width="479"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A3.F4.sf2.2.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="A3.F4.sf2.3.2" style="font-size:90%;">Study of valid loss on Goodreads.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A3.F4.2.1.1" style="font-size:90%;">Figure 4</span>: </span><span class="ltx_text" id="A3.F4.3.2" style="font-size:90%;">Study on validation loss between S-DPO and DPO on MovieLens and Goodreads.</span></figcaption>
</figure>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A3.F4.sf1" title="In Figure 4 â€£ Appendix C Study of Negative Samples Number â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">4(a)</span></a> through figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A3.F4.sf2" title="In Figure 4 â€£ Appendix C Study of Negative Samples Number â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">4(b)</span></a> provide the comparison of validation loss between S-DPO and DPO on MovieLens and Goodreads, illustrating that the loss of S-DPO decreases faster and more significantly.
This observation is consistent with Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F2.sf2" title="In Figure 2 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2(b)</span></a>.</p>
</div>
<div class="ltx_para" id="A3.p2">
<p class="ltx_p" id="A3.p2.1">On the other hand, figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A3.F5.sf1" title="In Figure 5 â€£ Appendix C Study of Negative Samples Number â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">5(a)</span></a> through figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#A3.F5.sf2" title="In Figure 5 â€£ Appendix C Study of Negative Samples Number â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">5(b)</span></a> showcase that S-DPO exhibits continually increasing rewards of preferred items, while DPO struggles to increase the reward of preferred items on both MovieLens and Goodreads, which is aligned with Figure <a class="ltx_ref" href="https://arxiv.org/html/2406.09215v2#S4.F2.sf3" title="In Figure 2 â€£ Ablation Study. â€£ 4.2 Study on S-DPO (RQ2) â€£ 4 Experiments â€£ On Softmax Direct Preference Optimization for Recommendation"><span class="ltx_text ltx_ref_tag">2(c)</span></a>.</p>
</div>
<figure class="ltx_figure" id="A3.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A3.F5.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="326" id="A3.F5.sf1.g1" src="extracted/5667968/figure/chosen_reward_ml.png" width="479"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A3.F5.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="A3.F5.sf1.3.2" style="font-size:90%;">Study of preferred item rewards on MovieLens.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A3.F5.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="328" id="A3.F5.sf2.g1" src="extracted/5667968/figure/chosen_reward_goodreads.png" width="479"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A3.F5.sf2.2.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="A3.F5.sf2.3.2" style="font-size:90%;">Study of preferred item rewards on Goodreads.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A3.F5.2.1.1" style="font-size:90%;">Figure 5</span>: </span><span class="ltx_text" id="A3.F5.3.2" style="font-size:90%;">Study on validation loss between S-DPO and DPO on MovieLens and Goodreads.</span></figcaption>
</figure>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Broader Impact</h2>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">We left further exploration of softmax ranking loss in LM including more negative samples and validation on various settings as future works.
We believe that S-DPO, a generalization of DPO loss has the potential to benefit other research areas other than recommender systems.
This paper presents work whose goal is to advance the field of Machine Learning.
There are many potential societal consequences of our work, none of which we feel must be specifically highlighted here.

</p>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Jun 14 15:19:02 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
