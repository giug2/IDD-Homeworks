<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Modeling Reference-dependent Choices with Graph Neural Networks</title>
<!--Generated on Wed Aug 21 03:07:44 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<!--Document created on August 21, 2024.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2408.11302v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S1" title="In Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S2" title="In Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Literature Review</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S2.SS1" title="In 2 Literature Review ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Reference Effect for Consumer Choices Modeling</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S2.SS2" title="In 2 Literature Review ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Recommendation Approaches with Attribute and Price Awareness</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S2.SS2.SSS1" title="In 2.2 Recommendation Approaches with Attribute and Price Awareness ‣ 2 Literature Review ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2.1 </span>Attribute-aware Recommendation.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S2.SS2.SSS2" title="In 2.2 Recommendation Approaches with Attribute and Price Awareness ‣ 2 Literature Review ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2.2 </span>Price-aware Recommendation.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S2.SS3" title="In 2 Literature Review ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.3 </span>Deep Learning based Recommendation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3" title="In Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Research Motivation and Problem Formulation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4" title="In Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Reference-dependent Choice Model for Recommendation</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS1" title="In 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Product Representation Learning in Attributed Reference Network</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS2" title="In 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Reference-dependent Choice Modeling via Deep Neural Network</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS2.SSS1" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.1 </span>Reference-dependent Utility with Dual Preferences.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS2.SSS2" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.2 </span>Reference-dependent Utility with Attribute Salience.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS3" title="In 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Ranking-based Recommendation and Model Optimization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS4" title="In 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Product Recommendation Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5" title="In Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Empirical Evaluations</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS1" title="In 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Evaluation Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS2" title="In 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Baseline Models</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS3" title="In 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Evaluation with Simulations</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS3.SSS1" title="In 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3.1 </span>Simulation Setup.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS3.SSS2" title="In 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3.2 </span>Evaluation Procedures.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS3.SSS3" title="In 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3.3 </span>Product Ranking Performances.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS3.SSS4" title="In 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3.4 </span>Consumers’ Price Sensitivity Analysis.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS4" title="In 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Empirical Evaluations on Real-world Data</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS4.SSS1" title="In 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.1 </span>Data Description.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS4.SSS2" title="In 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.2 </span>Experimental Setup.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS4.SSS3" title="In 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.3 </span>Performance Comparison for Product Recommendation.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS4.SSS4" title="In 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.4 </span>Performance for Recommending Cold Start Products.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS4.SSS5" title="In 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.5 </span>Ablation Study.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS4.SSS6" title="In 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.6 </span>A Post-hoc Analysis of Consumers’ AWTP.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.SS4.SSS7" title="In 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.7 </span>Parameter Analysis.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S6" title="In Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Discussions and Conclusions</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Modeling Reference-dependent Choices with Graph Neural Networks</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Liang Zhang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">College of Computing and Data Science, Nanyang Technological University
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Guannan Liu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">School of Economics and Management, Beihang University
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Junjie Wu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">School of Economics and Management, Beihang University
</span></span></span>
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yong Tan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">Foster School of Business, University of Washington
</span></span></span>
</div>
<div class="ltx_dates">(August 21, 2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.id1">Understanding consumer behaviors and preferences is paramount for developing effective recommender systems and enhancing business profitability. While the classic Prospect Theory has highlighted the reference-dependent and comparative nature of consumers’ product evaluation processes, few models have successfully integrated this theoretical hypothesis into data-driven preference quantification, particularly in the realm of recommender systems development. To bridge this gap, we propose a new research problem of modeling reference-dependent preferences from a data-driven perspective, and design a novel deep learning-based framework named <span class="ltx_text ltx_framed ltx_framed_underline" id="id1.id1.1">A</span>ttributed <span class="ltx_text ltx_framed ltx_framed_underline" id="id1.id1.2">R</span>eference-dependent <span class="ltx_text ltx_framed ltx_framed_underline" id="id1.id1.3">C</span>hoice Model for <span class="ltx_text ltx_framed ltx_framed_underline" id="id1.id1.4">Rec</span>ommendation (<em class="ltx_emph ltx_font_italic" id="id1.id1.5">ArcRec</em>) to tackle the inherent challenges associated with this problem. <em class="ltx_emph ltx_font_italic" id="id1.id1.6">ArcRec</em> features in building a reference network from aggregated historical purchase records for instantiating theoretical reference points, which is then decomposed into product attribute specific sub-networks and represented through Graph Neural Networks for fine-grained referencing. In this way, the reference points of a consumer can be encoded at the attribute-level individually from her past experiences but also reflect the crowd influences. <em class="ltx_emph ltx_font_italic" id="id1.id1.7">ArcRec</em> also makes novel contributions to quantifying consumers’ reference-dependent preferences using a deep neural network-based utility function that integrates both interest-inspired and price-inspired preferences, with their complex interaction effects captured by an attribute-aware price sensitivity mechanism. Most importantly, <em class="ltx_emph ltx_font_italic" id="id1.id1.8">ArcRec</em> introduces a novel Attribute-level Willingness-To-Pay measure to the reference-dependent utility function, which captures a consumer’s heterogeneous salience of product attributes via observing her attribute-level price tolerance to a product. Empirical evaluations on both synthetic and real-world online shopping datasets demonstrate <em class="ltx_emph ltx_font_italic" id="id1.id1.9">ArcRec</em>’s superior performances over fourteen state-of-the-art baselines, particularly in scenarios involving cold-start products with limited consumption history. A controlled experiment simulating price changes and several illustrative cases further validate <em class="ltx_emph ltx_font_italic" id="id1.id1.10">ArcRec</em>’s ability in effectively capturing consumers’ heterogeneous price sensitivity and identifying their personalized salience of product attributes, thereby leading to better recommendation results. 
<br class="ltx_break"/></p>
<p class="ltx_p" id="id2.id2"><span class="ltx_text ltx_font_bold" id="id2.id2.1">Keywords:</span> Reference Point; Reference-dependent Choice; Willingness To Pay; Graph Neural Network; Recommender System
<br class="ltx_break"/></p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Modeling consumer choices has been a longstanding challenge to understand consumer behaviors and bears significant implications for the design of better marketing and promotional strategies to boost sales and profits <cite class="ltx_cite ltx_citemacro_citep">(Fader and Hardie, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib21" title="">1996</a>, Andrews and Manrai, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib2" title="">1998</a>)</cite>. In the literature, choice models have been extensively studied in marketing and management science fields, with a primary focus on the comparison and trade-off among product alternatives <cite class="ltx_cite ltx_citemacro_citep">(Kamakura and Russell, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib39" title="">1989</a>)</cite>. As posited by the classic Prospect Theory <cite class="ltx_cite ltx_citemacro_citep">(Tversky and Kahneman, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib75" title="">1991</a>)</cite>, consumers’ evaluations of products are reference-dependent and comparative in nature <cite class="ltx_cite ltx_citemacro_citep">(Mussweiler, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib61" title="">2003</a>, Kahneman and Tversky, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib37" title="">2013</a>)</cite>. The decision-making process of consumers, according to the theory, involves comparing a target product against reference points. Along this line, tremendous research efforts have been dedicated to validating the effects of reference points on consumer preferences and choices, most of which have predominantly relied on theoretical analysis or empirical findings <cite class="ltx_cite ltx_citemacro_citep">(Dhar et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib17" title="">1999</a>, Dhar and Simonson, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib18" title="">1992</a>)</cite> to demonstrate the importance of reference points modeling for accurate reflection of consumer preferences and purchasing decisions across various contexts <cite class="ltx_cite ltx_citemacro_citep">(Arkes et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib4" title="">2008</a>, Monroe et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib60" title="">2015</a>, Schwartz et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib72" title="">2008</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">With the proliferation of <em class="ltx_emph ltx_font_italic" id="S1.p2.1.1">e</em>-commerce platforms and the recent advances in data-driven models like deep neural networks, an abundance of recommendation methods have emerged, focusing on modeling consumers’ choices and preferences from their historical consumption data <cite class="ltx_cite ltx_citemacro_citep">(Bell and Koren, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib10" title="">2007</a>, Rendle et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib69" title="">2012</a>, Xue et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib95" title="">2019</a>, Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib52" title="">2023</a>, Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib97" title="">2024</a>, Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib89" title="">2024</a>)</cite>. It is reported that high-quality recommendations have a significant impact on consumers’ purchase decisions <cite class="ltx_cite ltx_citemacro_citep">(Pathak et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib63" title="">2010</a>)</cite>. For example, 60% of Netflix rentals and 35% of Amazon’s sales are attributed to their recommendation systems <cite class="ltx_cite ltx_citemacro_citep">(Hosanagar et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib32" title="">2014</a>)</cite>.
The general idea of recommender systems is to estimate personalized product utilities for consumers <cite class="ltx_cite ltx_citemacro_citep">(Xiao and Benbasat, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib93" title="">2007</a>)</cite>, which essentially aligns with the construction of product utility among various alternatives in choice models. However, while the Prospect Theory and reference points have been proven beneficial to modeling consumer choices by substantial empirical evidence, this theoretical foundation is largely overlooked by existing recommendation methods, leading to potentially less satisfactory recommender systems. This indeed motivates our pilot study in this paper on developing a data-driven reference-dependent choice model for substantial improvement of product recommendations. This can be also regarded as a beneficial trial in bridging the vast gap between managerial theories and advanced machine learning methods.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">The research task mentioned above is indeed non-trivial and poses several critical challenges. First, reference points were theoretically considered as consumers’ subjective expectations and associated knowledge derived from their past experiences <cite class="ltx_cite ltx_citemacro_citep">(Winer, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib91" title="">1986</a>, Bordalo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib11" title="">2013</a>)</cite>, and therefore, can hardly be instantiated in a data-driven manner from the traditional standpoint. Several attempts have been made to address this by utilizing the last purchased product as the reference point, implying that reference points are formed solely based on a consumer’s recent purchases <cite class="ltx_cite ltx_citemacro_citep">(Hardie et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib27" title="">1993</a>, Briesch et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib12" title="">1997</a>)</cite>.
Nevertheless, it is intuitive that when making purchase decision on a target product, consumers often refer to not only their own purchase experiences but also the aggregated preferences of the crowd. For instance, the “also-viewed” or “also-purchased” recommendation links generated from the crowd’s collective purchase records in <em class="ltx_emph ltx_font_italic" id="S1.p3.1.1">e</em>-commerce sites <cite class="ltx_cite ltx_citemacro_citep">(Dhar et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib19" title="">2014</a>, Lin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib55" title="">2017</a>)</cite> can significantly influence consumers’ shopping decisions and serve as additional sources of their reference points. Hence, it is necessary to integrate both personalized experiences and the <em class="ltx_emph ltx_font_italic" id="S1.p3.1.2">wisdom of crowds</em> to instantiate reference points from purchase data.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Moreover, it is often deemed coarse-grained to construct consumers’ reference-dependent preferences at the product-level <cite class="ltx_cite ltx_citemacro_citep">(Andrews and Manrai, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib3" title="">1999</a>)</cite>, by comparing a target product with referenced products through a complex information processing process. Instead, comparisons at the product attribute-level, <em class="ltx_emph ltx_font_italic" id="S1.p4.1.1">e.g.</em>, two cell-phones with different brands or functionalities, are believed to be more sensible <cite class="ltx_cite ltx_citemacro_citep">(Fader and Hardie, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib21" title="">1996</a>)</cite>. Several empirical findings have also demonstrated that consumers often use distinct reference points for different product attributes <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib83" title="">Wang et al., 2019b </a>)</cite>. However, how to model reference points at the fine-grained attribute level in a data-driven manner, remains a crucial challenge. As a natural extension to the above argument, the reference points identified with respect to different product attributes might contribute differently to the perceived utilities due to consumers’ heterogeneous attribute salience — a key factor advocated by the Multiple Attribute Utility Theory <cite class="ltx_cite ltx_citemacro_citep">(Keeney and Raiffa, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib41" title="">1993</a>)</cite> in modeling consumers’ choices. For instance, some consumers may prioritize brand over material and style when choosing a handbag; in consequence, their decisions are more seriously impacted by brand-specific reference points. Despite its importance, to our best knowledge, few efforts have been devoted to modeling the personalized salience of product attributes from consumers’ purchase data.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Additionally, price, as a particular type of product attribute, is often specially considered in modeling reference-dependent preferences, known as <em class="ltx_emph ltx_font_italic" id="S1.p5.1.1">reference price</em> <cite class="ltx_cite ltx_citemacro_citep">(Lattin and Bucklin, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib51" title="">1989</a>, Winer, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib91" title="">1986</a>)</cite>. It has been empirically demonstrated that reference price plays a fundamental role in understanding potential effects of reference points on consumer choices <cite class="ltx_cite ltx_citemacro_citep">(Mazumdar et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib58" title="">2005</a>)</cite>, and was generally modeled at the product-level <cite class="ltx_cite ltx_citemacro_citep">(Lattin and Bucklin, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib51" title="">1989</a>, Chang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib13" title="">1999</a>)</cite>.
However, it has been found that product price often interacts extensively with other product attributes to shape consumers’ reference-dependent preferences <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib14" title="">2014</a>)</cite>. For example, when purchasing a handbag, consumers may evaluate whether the brand is worth the price compared with their expectations, and those with a strong interest for a specific brand could even accept a premium. Therefore, modeling the special impact of product price on consumers’ choices with respect to identified attribute-level reference points in a data-driven manner, is an intriguing and open question that calls for further investigation.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">To address the above-mentioned challenges, we propose a novel deep learning based recommendation framework named <span class="ltx_text ltx_framed ltx_framed_underline" id="S1.p6.1.1">A</span>ttributed <span class="ltx_text ltx_framed ltx_framed_underline" id="S1.p6.1.2">R</span>eference-dependent <span class="ltx_text ltx_framed ltx_framed_underline" id="S1.p6.1.3">C</span>hoice Model for <span class="ltx_text ltx_framed ltx_framed_underline" id="S1.p6.1.4">Rec</span>ommendation (<em class="ltx_emph ltx_font_italic" id="S1.p6.1.5">ArcRec</em>) in this paper. <em class="ltx_emph ltx_font_italic" id="S1.p6.1.6">ArcRec</em> generally features in designing a data-driven, attribute-level reference-dependent choice model that integrates both the interest-inspired and price-inspired preferences of consumers. Specifically, we first construct a novel <em class="ltx_emph ltx_font_italic" id="S1.p6.1.7">reference network</em> from aggregated historical purchase records, with the purpose of capturing all consumers’ collective purchase behaviors, wherein each product is represented as a node and bi-directional edges are established between every pair of co-purchased products in the recent past. From this reference network, a consumer can form her reference points from the perspectives of both her own and the entire crowd’s past purchases through high-order message propagation along the graph.
To accommodate fine-grained modeling of attribute-level reference points, we further decompose the reference network into various <em class="ltx_emph ltx_font_italic" id="S1.p6.1.8">attributed reference networks</em> (ARN) corresponding to different product attributes. Through analyzing the structures of these ARNs by Graph Neural Networks (GNNs), we can obtain product embeddings from a consumer’s past purchases, which serve as personalized and diverse reference points at the fine-grained attribute level. We then measure a consumer’s reference-dependent preference by comparing a target product against reference points, which is decomposed into interest-inspired and price-inspired preferences to account for the two major gauges in consumer choices. Particularly, for capturing the price-inspired preference, we introduce a novel <em class="ltx_emph ltx_font_italic" id="S1.p6.1.9">attribute-aware price sensitivity</em> mechanism to model the interaction effects between product price and attributes. All these components are expressed using powerful deep neural networks to simulate the complex information processing process involved in decision-making. Moreover, to integrate the reference-dependent utilities driven by different attribute-level reference points, we define a novel <em class="ltx_emph ltx_font_italic" id="S1.p6.1.10">attribute-level willingness-to-pay</em> (AWTP) measure that evaluates the tolerance of a consumer to the extra price volatility given a product attribute, aiming to capture consumers’ heterogeneous salience of product attributes from their past purchases. Finally, we integrate the proposed deep learning based reference-dependent choice model into the Bayesian Personalized Ranking framework <cite class="ltx_cite ltx_citemacro_citep">(Rendle et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib69" title="">2012</a>)</cite> for end-to-end model training, from which recommendations can be generated with the learned parameters.</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">Empirical evaluations on both synthetic and a real-world online shopping datasets have been implemented and demonstrated the superior performances of <em class="ltx_emph ltx_font_italic" id="S1.p7.1.1">ArcRec</em> over the state-of-the-art recommendation methods. In particular, <em class="ltx_emph ltx_font_italic" id="S1.p7.1.2">ArcRec</em> exhibits remarkable performances on cold-start or new products with limited historical purchase records, highlighting the precious value of attributed reference networks in addressing this longstanding and intractable challenge. In addition, to validate <em class="ltx_emph ltx_font_italic" id="S1.p7.1.3">ArcRec</em>’s ability in capturing consumers’ heterogeneous price sensitivity in utility perception, a controlled experiment is conducted by simulating the price change and monitoring the resulting changes in product rankings for different consumers. The results suggest that the recommendation ranking list generated by <em class="ltx_emph ltx_font_italic" id="S1.p7.1.4">ArcRec</em> is more significantly altered for price-sensitive consumers; conversely, the rankings show less variations for consumers with lower price sensitivity. These results indicate that our method successfully differentiates consumers’ heterogeneous price sensitivity and integrates their price perceptions effectively. Illustrative cases for the AWTP measure are also presented to gain insights into how <em class="ltx_emph ltx_font_italic" id="S1.p7.1.5">ArcRec</em> can restore consumers’ personalized heterogeneous salience of product attributes, demonstrating <em class="ltx_emph ltx_font_italic" id="S1.p7.1.6">ArcRec</em>’s capability of locating more important attributes for shaping consumers’ reference-dependent decisions, thereby enhancing the personalized recommendation experience.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Literature Review</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">We draw upon three key bodies of literature that are closely related to our research. The first line of research investigates the modeling of consumer choices with a special focus on reference effects. Secondly, we examine the recent progress in recommendation methods that take product attributes and/or prices into consideration. Finally, we explore the recent advances in deep learning based recommendation methods as they closely relate to our modeling framework.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Reference Effect for Consumer Choices Modeling</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">Prospect Theory <cite class="ltx_cite ltx_citemacro_citep">(Kahneman and Tversky, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib36" title="">1979</a>)</cite> has emerged as a seminal contribution in elucidating the human decision-making process. Building upon the theory, consumers are posited to evaluate product choice with respect to a reference point. In particular, <cite class="ltx_cite ltx_citemacro_cite">Tversky and Kahneman, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib75" title="">1991</a>)</cite> develop a theoretical model to capture the effects of reference points on consumer choices. <cite class="ltx_cite ltx_citemacro_cite">Kőszegi and Rabin, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib48" title="">2006</a>)</cite> consider the reference points as the expectations about the outcomes given the recent past experiences, which can further guide the learning of reference-dependent preferences.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">However, the classic Prospect Theory primarily focuses on choices pertaining to one single attribute. In order to address this limitation, <cite class="ltx_cite ltx_citemacro_cite">Tversky and Kahneman, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib75" title="">1991</a>)</cite> further extend the framework by incorporating multiple attributes into the analysis. Specifically, consumers’ choices for a product can be decomposed into a set of values on the product attributes and their corresponding weights <cite class="ltx_cite ltx_citemacro_citep">(Keeney and Raiffa, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib41" title="">1993</a>)</cite>, thereby a number of research efforts have been proposed to investigate consumers’ preferences at the attribute-level. It is generally accepted that consumers tend to form their overall preferences for choice alternatives by evaluating the attributes describing each product, rather than considering the product as a whole <cite class="ltx_cite ltx_citemacro_citep">(Andrews and Manrai, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib3" title="">1999</a>)</cite>. Meanwhile, it has also been demonstrated that the value of attributes is not solely based on the absolute levels, but rather on its deviation from the reference standard <cite class="ltx_cite ltx_citemacro_citep">(Kőszegi and Rabin, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib48" title="">2006</a>, Bordalo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib11" title="">2013</a>)</cite>. Additionally, <cite class="ltx_cite ltx_citemacro_cite">Köcher et al., (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib50" title="">2019</a>)</cite> have revealed that the attribute-level anchoring effect can bias consumer choices towards numerical attributes in product recommendations.</p>
</div>
<div class="ltx_para" id="S2.SS1.p3">
<p class="ltx_p" id="S2.SS1.p3.1">As one of the most salient attributes, product price often plays a vital role in shaping consumers’ choices. Especially, consumers’ perceived value for a product may deviate from its actual price <cite class="ltx_cite ltx_citemacro_citep">(Sweeney and Soutar, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib74" title="">2001</a>)</cite>. Therefore, echoing with the Prospect Theory, consumers perceive the price according to a reference price, which has been extensively studied to capture the nuances of consumers’ purchasing decisions <cite class="ltx_cite ltx_citemacro_citep">(Kalyanaram and Winer, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib38" title="">1995</a>)</cite>. For instance, <cite class="ltx_cite ltx_citemacro_cite">Putler, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib66" title="">1992</a>)</cite> incorporates reference price into the consumer choice models and further investigates the formation of reference effects on consumer behaviors. Analytical evidence has also demonstrated that reference price can significantly impact consumer choice behaviors <cite class="ltx_cite ltx_citemacro_citep">(Wang, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib85" title="">2018</a>)</cite>. In response to this, various models have been developed to incorporate reference price in modeling consumers’ choices <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib84" title="">2021</a>)</cite>. For example, <cite class="ltx_cite ltx_citemacro_cite">Fibich et al., (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib22" title="">2005</a>)</cite> derive a mathematical formulation for the price elasticity of demand in the presence of reference price effects.</p>
</div>
<div class="ltx_para" id="S2.SS1.p4">
<p class="ltx_p" id="S2.SS1.p4.1">Despite the rich research efforts in this line, most of them have predominantly relied on theoretical analysis or empirical findings, lacking the ability to operationalize the estimates for consumers’ fine-grained preferences for attributes, price as well as their interplay in a data-driven manner. Our research attempts to bridge this gap by proposing a data-driven approach that utilizes consumers’ purchasing records to model their nuanced reference-dependent preferences with regards to product attributes and prices.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Recommendation Approaches with Attribute and Price Awareness</h3>
<section class="ltx_subsubsection" id="S2.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.2.1 </span>Attribute-aware Recommendation.</h4>
<div class="ltx_para" id="S2.SS2.SSS1.p1">
<p class="ltx_p" id="S2.SS2.SSS1.p1.1">As demonstrated in prior work, modeling consumers’ choices at the granularity of product attributes can effectively capture consumers’ fine-grained preferences, leading to improved recommendation performances. Therefore, many researchers have attempted to leverage product attributes to design better recommendation approaches. Indeed, attribute-aware recommendation can simply be regarded as a type of content-based recommendation <cite class="ltx_cite ltx_citemacro_citep">(Pazzani and Billsus, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib64" title="">2007</a>)</cite> when the attributes are treated as contents to derive similarity measures. For example, <cite class="ltx_cite ltx_citemacro_cite">Manouselis and Costopoulou, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib57" title="">2007</a>)</cite> propose multi-attribute collaborative filtering algorithms with emphasis on similarity measurements and feature weighting. In addition, the Factorization Machine (FM) <cite class="ltx_cite ltx_citemacro_citep">(Rendle, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib68" title="">2010</a>)</cite> has become one of the seminal approaches to model the interaction of product attributes and is shown to significantly improve recommendation performances. Furthermore, with the recent success of deep learning, deep variants of FM have also been proposed to enhance the representation capacity of recommendation models. Examples include AFM <cite class="ltx_cite ltx_citemacro_citep">(Xiao et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib94" title="">2017</a>)</cite>, DeepFM <cite class="ltx_cite ltx_citemacro_citep">(Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib26" title="">2017</a>)</cite>, PNN <cite class="ltx_cite ltx_citemacro_citep">(Qu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib67" title="">2016</a>)</cite>, <em class="ltx_emph ltx_font_italic" id="S2.SS2.SSS1.p1.1.1">etc.</em>, which model the interactions of attributes with attention mechanisms and deep neural networks such as the simple Multi-Layer Perceptrons (MLP). As another recent research trend, product attributes are also utilized through knowledge graphs, where each attribute is considered as a node connecting to a product. In this regard, a research line aims to use knowledge embeddings to improve the quality of product representations. For example, CKE <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib96" title="">2016</a>)</cite> and DKN <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib81" title="">2018</a>)</cite> regard semantic representations learned from knowledge graphs as the extra content information of products. Another research line unifies knowledge graph completion problem with recommendation task. Taking advantages of information propagation proposed by graph neural networks, examples like KGAT <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib86" title="">Wang et al., 2019c </a>)</cite> and KGNN-LS <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib82" title="">Wang et al., 2019a </a>)</cite> perform embedding propagation over attribute knowledge graphs and transform product recommendation to graph link prediction.</p>
</div>
<div class="ltx_para" id="S2.SS2.SSS1.p2">
<p class="ltx_p" id="S2.SS2.SSS1.p2.1">In general, while a variety of attribute-based recommendation methods have been proposed, there still lacks a systematic framework to model consumers’ heterogeneous and fine-grained attribute-level preferences with theoretical guidance. Our research endeavors to follow the reference effect theories and design a better reference-dependent schema for characterizing the role of different attributes in decision-makings.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S2.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">2.2.2 </span>Price-aware Recommendation.</h4>
<div class="ltx_para" id="S2.SS2.SSS2.p1">
<p class="ltx_p" id="S2.SS2.SSS2.p1.1">In the realm of recommendation approaches, there is a specific focus on capturing consumers’ preferences towards price beyond common product attributes. Numerous studies have been conducted to design recommendation methods that incorporate price as a significant attribute. These methods often discretize price into categorical features and take into account consumers’ price preferences in a personalized manner.
For example, the research by <cite class="ltx_cite ltx_citemacro_cite">Chen et al., (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib14" title="">2014</a>)</cite> shows that product price information and consumer price perception could be used to improve the recommendation accuracy in unexplored product categories. <cite class="ltx_cite ltx_citemacro_cite">Wan et al., (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib80" title="">2017</a>)</cite> model the price sensitivity and preferences from transaction logs with a latent factor model to develop recommendation methods.
In recent studies by <cite class="ltx_cite ltx_citemacro_cite">Umberto, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib76" title="">2015</a>)</cite> and <cite class="ltx_cite ltx_citemacro_cite">Zheng et al., (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib100" title="">2020</a>)</cite>, price-aware recommender systems are developed; however, the product price is processed in a discrete way rather than in a numerical form and the personalization as well as price sensitivity issues are not fully addressed. <cite class="ltx_cite ltx_citemacro_cite">Ban and Keskin, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib7" title="">2021</a>)</cite> assume a personalized demand model and dynamically adjust the price of a product in the individual consumer level, by utilizing information about consumers’ characteristics. <cite class="ltx_cite ltx_citemacro_cite">Zhang et al., (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib99" title="">2022</a>)</cite> model consumers’ price preferences in the session recommendation contexts.</p>
</div>
<div class="ltx_para" id="S2.SS2.SSS2.p2">
<p class="ltx_p" id="S2.SS2.SSS2.p2.1">While price has been studied from different perspectives, the existing models generally overlook the effect of reference price as well as the pervasive nature of the interactions between price and other attributes in consumer preference modeling. Additionally, most of these methods treat price as an auxiliary attribute to characterize the products, but rarely utilize it to understand how consumers perceive the product value and how it ultimately influences their decision-makings.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S2.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Deep Learning based Recommendation</h3>
<div class="ltx_para" id="S2.SS3.p1">
<p class="ltx_p" id="S2.SS3.p1.1">The most classical paradigm of recommender systems is to parameterize consumers and products as vector representations and predict consumer-product interactions based on inner dot <cite class="ltx_cite ltx_citemacro_citep">(Koren et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib47" title="">2009</a>, Hu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib33" title="">2008</a>)</cite>. Though commonly used, the linearity of inner dot makes it insufficient to capture the complex relationships between consumers and products <cite class="ltx_cite ltx_citemacro_citep">(Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib56" title="">2021</a>)</cite>. Recent years have witnessed great success in exploiting deep learning techniques to enhance recommendations. Along this line, NeuMF <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib31" title="">2017</a>)</cite> and NNCF <cite class="ltx_cite ltx_citemacro_citep">(Bai et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib6" title="">2017</a>)</cite> are proposed to map consumers and products into the embedding space and further employ feedforward neural networks as the interaction function.</p>
</div>
<div class="ltx_para" id="S2.SS3.p2">
<p class="ltx_p" id="S2.SS3.p2.1">Apart from introducing nonlinear interaction functions, the consumer-product graph constructed from historical purchasing records is also exploited to improve recommendation effectiveness. In this regard, Graph Neural Networks (GNN) <cite class="ltx_cite ltx_citemacro_citep">(Welling and Kipf, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib90" title="">2016</a>, Veličković et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib79" title="">2017</a>)</cite> shed light on capturing the nuances of fine-grained consumer preferences by modeling high-order consumer-product interactions. The methods based on GNNs typically perform information propagation and local neighborhood aggregation to refine consumer and product representations and mainly differ in various aggregation operations <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib87" title="">Wang et al., 2019d </a>, Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib88" title="">2020</a>, He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib29" title="">2020</a>, Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib15" title="">2020</a>, Kong et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib46" title="">2022</a>)</cite>, among which DGCF <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib88" title="">2020</a>)</cite> and LightGCN <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib29" title="">2020</a>)</cite> have gained great attentions and are the state-of-the-art methods in this stream.</p>
</div>
<div class="ltx_para" id="S2.SS3.p3">
<p class="ltx_p" id="S2.SS3.p3.1">Our work is closely related to deep learning-based recommendation, in which we adopt deep learning and graph neural network to model consumers’ choices from purchasing records. However, our work stands out in evaluating the personalized utility for a product in a reference-dependent manner and with attribute and price awareness.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Research Motivation and Problem Formulation</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">Prospect Theory <cite class="ltx_cite ltx_citemacro_citep">(Tversky and Kahneman, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib75" title="">1991</a>)</cite> postulates that consumers form judgments based on the evaluation of outcomes relative to reference points. <cite class="ltx_cite ltx_citemacro_cite">Kőszegi and Rabin, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib48" title="">2006</a>)</cite> further posit that reference points are given by consumers’ expectations from their past experiences. Indeed, the importance of reference point has been supported by substantial empirical evidence in both economics and marketing literature. For example, <cite class="ltx_cite ltx_citemacro_cite">Hardie et al., (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib27" title="">1993</a>)</cite> find that consumers’ most recently purchased brand can shape their expectations, significantly affecting subsequent brand choices. <cite class="ltx_cite ltx_citemacro_cite">Baucells and Sarin, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib9" title="">2010</a>)</cite> also unveil that the utility of current consumption is affected by past consumption, known as <em class="ltx_emph ltx_font_italic" id="S3.p1.1.1">reference-dependence</em>. Building upon the above theory and empirical findings, it is rational to expect that the incorporation of reference points and reference-dependent preferences can offer a more accurate representation of consumers’ decision-making behaviors in product choices.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.1">Despite the great value of reference points for consumer understanding, it is surprising that few existing studies have explicitly modeled reference points in a data-driven manner. This might be ascribed to the fact that reference points are often predominantly shaped by consumers’ subjective expectations and associated knowledge derived from their past experiences <cite class="ltx_cite ltx_citemacro_citep">(Bordalo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib11" title="">2013</a>, Kőszegi and Rabin, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib48" title="">2006</a>)</cite>. As evidenced by <cite class="ltx_cite ltx_citemacro_cite">Abeler et al., (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib1" title="">2011</a>)</cite>, such information is hard to be observed directly from field data, making it difficult to instantiate reference points for consumer utility evaluation.</p>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.1">In this paper, we aim to design a data-driven approach to model consumers’ reference-dependent preferences for high-performance product recommendation.
Inspired by the above literature, it is intuitive to assume that a consumer’s recently purchased products, as part of her past experiences, can serve as her reference points for making purchase decisions on a focal product. However, it is also generally understood that except for own experiences, a consumer’s purchase decision could be greatly influenced by the crowds. For example, the “also-viewed” or “also-purchased” recommendation links generated from the crowd’s collective purchase records in <math alttext="e" class="ltx_Math" display="inline" id="S3.p3.1.m1.1"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">e</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝑒</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">e</annotation><annotation encoding="application/x-llamapun" id="S3.p3.1.m1.1d">italic_e</annotation></semantics></math>-commerce sites <cite class="ltx_cite ltx_citemacro_citep">(Dhar et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib19" title="">2014</a>, Lin et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib55" title="">2017</a>)</cite>, can also guide a consumer’s shopping decisions and serve as another source of her reference points. Hence, it is reasonable to assume that reference points contain influences from both personalized purchased products and the crowd’s preferential information, posing challenges to designing appropriate models for reference points quantification.</p>
</div>
<div class="ltx_para" id="S3.p4">
<p class="ltx_p" id="S3.p4.1">To meet the above challenge, we first construct a product network from aggregated historical purchase records, with the purpose of capturing all consumers’ collective purchase behaviors. In this network, each product is represented as a node, and bi-directional edges are established between every pair of products that were co-purchased by at least one consumer in the recent past. This product network is termed as the <em class="ltx_emph ltx_font_italic" id="S3.p4.1.1">Reference Network</em> and formally defined as follows.</p>
</div>
<div class="ltx_theorem ltx_theorem_definition" id="S3.Thmdefinition1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="S3.Thmdefinition1.1.1.1">Definition 3.1</span></span><span class="ltx_text ltx_font_bold" id="S3.Thmdefinition1.2.2"> (Reference Network)</span>
</h6>
<div class="ltx_para" id="S3.Thmdefinition1.p1">
<p class="ltx_p" id="S3.Thmdefinition1.p1.6"><span class="ltx_text ltx_font_italic" id="S3.Thmdefinition1.p1.6.6">A reference network is denoted as <math alttext="\mathcal{G}=&lt;\mathcal{V},\mathcal{E}&gt;" class="ltx_math_unparsed" display="inline" id="S3.Thmdefinition1.p1.1.1.m1.2"><semantics id="S3.Thmdefinition1.p1.1.1.m1.2a"><mrow id="S3.Thmdefinition1.p1.1.1.m1.2b"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition1.p1.1.1.m1.2.3">𝒢</mi><mo id="S3.Thmdefinition1.p1.1.1.m1.2.4" rspace="0em">=</mo><mo id="S3.Thmdefinition1.p1.1.1.m1.2.5" lspace="0em">&lt;</mo><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition1.p1.1.1.m1.1.1">𝒱</mi><mo id="S3.Thmdefinition1.p1.1.1.m1.2.6">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition1.p1.1.1.m1.2.2">ℰ</mi><mo id="S3.Thmdefinition1.p1.1.1.m1.2.7">&gt;</mo></mrow><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.1.1.m1.2c">\mathcal{G}=&lt;\mathcal{V},\mathcal{E}&gt;</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.1.1.m1.2d">caligraphic_G = &lt; caligraphic_V , caligraphic_E &gt;</annotation></semantics></math>, where each node <math alttext="v_{i}\in\mathcal{V}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.2.2.m2.1"><semantics id="S3.Thmdefinition1.p1.2.2.m2.1a"><mrow id="S3.Thmdefinition1.p1.2.2.m2.1.1" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.cmml"><msub id="S3.Thmdefinition1.p1.2.2.m2.1.1.2" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.2.cmml"><mi id="S3.Thmdefinition1.p1.2.2.m2.1.1.2.2" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.2.2.cmml">v</mi><mi id="S3.Thmdefinition1.p1.2.2.m2.1.1.2.3" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S3.Thmdefinition1.p1.2.2.m2.1.1.1" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition1.p1.2.2.m2.1.1.3" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.3.cmml">𝒱</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.2.2.m2.1b"><apply id="S3.Thmdefinition1.p1.2.2.m2.1.1.cmml" xref="S3.Thmdefinition1.p1.2.2.m2.1.1"><in id="S3.Thmdefinition1.p1.2.2.m2.1.1.1.cmml" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.1"></in><apply id="S3.Thmdefinition1.p1.2.2.m2.1.1.2.cmml" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.2.2.m2.1.1.2.1.cmml" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.2">subscript</csymbol><ci id="S3.Thmdefinition1.p1.2.2.m2.1.1.2.2.cmml" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.2.2">𝑣</ci><ci id="S3.Thmdefinition1.p1.2.2.m2.1.1.2.3.cmml" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S3.Thmdefinition1.p1.2.2.m2.1.1.3.cmml" xref="S3.Thmdefinition1.p1.2.2.m2.1.1.3">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.2.2.m2.1c">v_{i}\in\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.2.2.m2.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_V</annotation></semantics></math> represents a product, and an edge <math alttext="e_{ij}\in\mathcal{E}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.3.3.m3.1"><semantics id="S3.Thmdefinition1.p1.3.3.m3.1a"><mrow id="S3.Thmdefinition1.p1.3.3.m3.1.1" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.cmml"><msub id="S3.Thmdefinition1.p1.3.3.m3.1.1.2" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.cmml"><mi id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.2" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.2.cmml">e</mi><mrow id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.cmml"><mi id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.2" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.2.cmml">i</mi><mo id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.1" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.1.cmml">⁢</mo><mi id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.3" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.Thmdefinition1.p1.3.3.m3.1.1.1" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition1.p1.3.3.m3.1.1.3" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.3.cmml">ℰ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.3.3.m3.1b"><apply id="S3.Thmdefinition1.p1.3.3.m3.1.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1"><in id="S3.Thmdefinition1.p1.3.3.m3.1.1.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.1"></in><apply id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2">subscript</csymbol><ci id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.2.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.2">𝑒</ci><apply id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3"><times id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.1.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.1"></times><ci id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.2.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.2">𝑖</ci><ci id="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.3.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.2.3.3">𝑗</ci></apply></apply><ci id="S3.Thmdefinition1.p1.3.3.m3.1.1.3.cmml" xref="S3.Thmdefinition1.p1.3.3.m3.1.1.3">ℰ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.3.3.m3.1c">e_{ij}\in\mathcal{E}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.3.3.m3.1d">italic_e start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT ∈ caligraphic_E</annotation></semantics></math> between nodes <math alttext="v_{i}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.4.4.m4.1"><semantics id="S3.Thmdefinition1.p1.4.4.m4.1a"><msub id="S3.Thmdefinition1.p1.4.4.m4.1.1" xref="S3.Thmdefinition1.p1.4.4.m4.1.1.cmml"><mi id="S3.Thmdefinition1.p1.4.4.m4.1.1.2" xref="S3.Thmdefinition1.p1.4.4.m4.1.1.2.cmml">v</mi><mi id="S3.Thmdefinition1.p1.4.4.m4.1.1.3" xref="S3.Thmdefinition1.p1.4.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.4.4.m4.1b"><apply id="S3.Thmdefinition1.p1.4.4.m4.1.1.cmml" xref="S3.Thmdefinition1.p1.4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.4.4.m4.1.1.1.cmml" xref="S3.Thmdefinition1.p1.4.4.m4.1.1">subscript</csymbol><ci id="S3.Thmdefinition1.p1.4.4.m4.1.1.2.cmml" xref="S3.Thmdefinition1.p1.4.4.m4.1.1.2">𝑣</ci><ci id="S3.Thmdefinition1.p1.4.4.m4.1.1.3.cmml" xref="S3.Thmdefinition1.p1.4.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.4.4.m4.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.4.4.m4.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="v_{j}" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.5.5.m5.1"><semantics id="S3.Thmdefinition1.p1.5.5.m5.1a"><msub id="S3.Thmdefinition1.p1.5.5.m5.1.1" xref="S3.Thmdefinition1.p1.5.5.m5.1.1.cmml"><mi id="S3.Thmdefinition1.p1.5.5.m5.1.1.2" xref="S3.Thmdefinition1.p1.5.5.m5.1.1.2.cmml">v</mi><mi id="S3.Thmdefinition1.p1.5.5.m5.1.1.3" xref="S3.Thmdefinition1.p1.5.5.m5.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.5.5.m5.1b"><apply id="S3.Thmdefinition1.p1.5.5.m5.1.1.cmml" xref="S3.Thmdefinition1.p1.5.5.m5.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition1.p1.5.5.m5.1.1.1.cmml" xref="S3.Thmdefinition1.p1.5.5.m5.1.1">subscript</csymbol><ci id="S3.Thmdefinition1.p1.5.5.m5.1.1.2.cmml" xref="S3.Thmdefinition1.p1.5.5.m5.1.1.2">𝑣</ci><ci id="S3.Thmdefinition1.p1.5.5.m5.1.1.3.cmml" xref="S3.Thmdefinition1.p1.5.5.m5.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.5.5.m5.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.5.5.m5.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is established if the two products were ever co-purchased by at least one consumer in the observed window period. <math alttext="\blacksquare" class="ltx_Math" display="inline" id="S3.Thmdefinition1.p1.6.6.m6.1"><semantics id="S3.Thmdefinition1.p1.6.6.m6.1a"><mi id="S3.Thmdefinition1.p1.6.6.m6.1.1" mathvariant="normal" xref="S3.Thmdefinition1.p1.6.6.m6.1.1.cmml">■</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition1.p1.6.6.m6.1b"><ci id="S3.Thmdefinition1.p1.6.6.m6.1.1.cmml" xref="S3.Thmdefinition1.p1.6.6.m6.1.1">■</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition1.p1.6.6.m6.1c">\blacksquare</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition1.p1.6.6.m6.1d">■</annotation></semantics></math></span></p>
</div>
</div>
<div class="ltx_para" id="S3.p5">
<p class="ltx_p" id="S3.p5.1">The reference network offers a global view of collective purchase behaviors, from which a consumer can form her reference points from both her own and the entire crowd’s past purchases through high-order message propagation in the network. We illustrate this with an example of movie watching as follows. As depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3.F1" title="Figure 1 ‣ 3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>(a), we can construct a reference network from three users’ movie watching records, by treating each movie as a node and establishing edges between those that have been co-watched by at least one user, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3.F1" title="Figure 1 ‣ 3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>(b). Notably, the reference network reflects the “wisdom of crowds” in purchases, which can contribute to the modeling of a consumer’s reference points besides her own behaviors. For instance, consider user C who has only watched the movie <em class="ltx_emph ltx_font_italic" id="S3.p5.1.1">Matrix</em>. The intuitive modeling of reference points relies solely on this single movie. However, owing to the collective behaviors captured by the reference network, the movies <em class="ltx_emph ltx_font_italic" id="S3.p5.1.2">Interstellar</em> and <em class="ltx_emph ltx_font_italic" id="S3.p5.1.3">Inception</em> co-watched by other users may also help to form user C’s reference points for some implicit or explicit factors, such as the “also-viewed” or “also-purchased” links recommended by the platform. Along this way, we embody the advantage of graphical structures for reference-dependent preference learning, even for cold-start consumers with very limited historical consumption data (like user C).</p>
</div>
<figure class="ltx_figure" id="S3.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="359" id="S3.F1.g1" src="x1.png" width="747"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Example of Reference Network and Attributed Reference Network. (a) users’ movie watching history; (b) reference network constructed from the movie watching history; (c) genre-specific reference network; (d) director-specific reference network.</figcaption>
</figure>
<div class="ltx_para" id="S3.p6">
<p class="ltx_p" id="S3.p6.1">While the reference network helps to address the challenge of reference points modeling, these reference points are identified at the product level rather than the product attribute level. As supported by the prior studies <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib83" title="">Wang et al., 2019b </a>)</cite>, however, the attribute level is a more appropriate granularity for reference points modeling as consumers tend to form different reference points when evaluating different attributes, and the proximity in reference network may not necessarily indicate proper reference points.
For instance, as indicated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3.F1" title="Figure 1 ‣ 3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>(b), the movie <em class="ltx_emph ltx_font_italic" id="S3.p6.1.1">Dunkirk</em> is closely connected to <em class="ltx_emph ltx_font_italic" id="S3.p6.1.2">Matrix</em> in the reference network; however, it would be inappropriate to take <em class="ltx_emph ltx_font_italic" id="S3.p6.1.3">Dunkirk</em> as a valid source of reference point for user A, since she only focuses on Sci-Fi movies and <em class="ltx_emph ltx_font_italic" id="S3.p6.1.4">Dunkirk</em> as a military movie can provide limited reference value in the genre-aspect. In this case, the product transitive relations provided by the reference network encounter problems; instead, we should drill down to the product attribute level, <em class="ltx_emph ltx_font_italic" id="S3.p6.1.5">e.g.</em>, the genre of a movie, for accurately capturing the reference points for user A. Indeed, this argument is also supported by the Multiple Attribute Utility Theory (MAUT) where product evaluation should be decomposed into individual attribute levels, <em class="ltx_emph ltx_font_italic" id="S3.p6.1.6">e.g.</em>, the genre, the director, or the actors of a movie, and followed by a compositional strategy to form the overall assessment <cite class="ltx_cite ltx_citemacro_citep">(Keeney and Raiffa, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib41" title="">1993</a>)</cite>. Meanwhile, in quantitative marketing research, conjoint analysis approach is also used by assuming that consumers’ preferences toward products can be aggregated from different product attributes separately in an additive way <cite class="ltx_cite ltx_citemacro_citep">(Kim et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib43" title="">2017</a>, Kohli and Sukumar, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib45" title="">1990</a>)</cite>. Inspired by these, we consider decomposing the reference network at the product attribute level for pursuing fine-grained reference points modeling. Specifically, we assume the formation of connecting edges could be ascribed to several salient aspects that characterize the products. As a result, we can decompose the edges according to the product attributes and generate the so-called <em class="ltx_emph ltx_font_italic" id="S3.p6.1.7">Attributed Reference Network</em> (ARN) defined as follows.</p>
</div>
<div class="ltx_theorem ltx_theorem_definition" id="S3.Thmdefinition2">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="S3.Thmdefinition2.1.1.1">Definition 3.2</span></span><span class="ltx_text ltx_font_bold" id="S3.Thmdefinition2.2.2"> (Attributed Reference Network)</span>
</h6>
<div class="ltx_para" id="S3.Thmdefinition2.p1">
<p class="ltx_p" id="S3.Thmdefinition2.p1.18"><span class="ltx_text ltx_font_italic" id="S3.Thmdefinition2.p1.18.18">An attributed reference network <math alttext="\mathcal{G}^{k}=&lt;\mathcal{V}^{k},\mathcal{E}^{k}&gt;" class="ltx_math_unparsed" display="inline" id="S3.Thmdefinition2.p1.1.1.m1.1"><semantics id="S3.Thmdefinition2.p1.1.1.m1.1a"><mrow id="S3.Thmdefinition2.p1.1.1.m1.1b"><msup id="S3.Thmdefinition2.p1.1.1.m1.1.1"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.1.1.m1.1.1.2">𝒢</mi><mi id="S3.Thmdefinition2.p1.1.1.m1.1.1.3">k</mi></msup><mo id="S3.Thmdefinition2.p1.1.1.m1.1.2" rspace="0em">=</mo><mo id="S3.Thmdefinition2.p1.1.1.m1.1.3" lspace="0em">&lt;</mo><msup id="S3.Thmdefinition2.p1.1.1.m1.1.4"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.1.1.m1.1.4.2">𝒱</mi><mi id="S3.Thmdefinition2.p1.1.1.m1.1.4.3">k</mi></msup><mo id="S3.Thmdefinition2.p1.1.1.m1.1.5">,</mo><msup id="S3.Thmdefinition2.p1.1.1.m1.1.6"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.1.1.m1.1.6.2">ℰ</mi><mi id="S3.Thmdefinition2.p1.1.1.m1.1.6.3">k</mi></msup><mo id="S3.Thmdefinition2.p1.1.1.m1.1.7">&gt;</mo></mrow><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.1.1.m1.1c">\mathcal{G}^{k}=&lt;\mathcal{V}^{k},\mathcal{E}^{k}&gt;</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.1.1.m1.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT = &lt; caligraphic_V start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , caligraphic_E start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT &gt;</annotation></semantics></math> is a sub-network decomposed from the reference network <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.2.2.m2.1"><semantics id="S3.Thmdefinition2.p1.2.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.2.2.m2.1.1" xref="S3.Thmdefinition2.p1.2.2.m2.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.2.2.m2.1b"><ci id="S3.Thmdefinition2.p1.2.2.m2.1.1.cmml" xref="S3.Thmdefinition2.p1.2.2.m2.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.2.2.m2.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.2.2.m2.1d">caligraphic_G</annotation></semantics></math> with respect to the <math alttext="k" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.3.3.m3.1"><semantics id="S3.Thmdefinition2.p1.3.3.m3.1a"><mi id="S3.Thmdefinition2.p1.3.3.m3.1.1" xref="S3.Thmdefinition2.p1.3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.3.3.m3.1b"><ci id="S3.Thmdefinition2.p1.3.3.m3.1.1.cmml" xref="S3.Thmdefinition2.p1.3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.3.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.3.3.m3.1d">italic_k</annotation></semantics></math>-th attribute, <math alttext="k=1,\cdots,K" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.4.4.m4.3"><semantics id="S3.Thmdefinition2.p1.4.4.m4.3a"><mrow id="S3.Thmdefinition2.p1.4.4.m4.3.4" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.cmml"><mi id="S3.Thmdefinition2.p1.4.4.m4.3.4.2" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.2.cmml">k</mi><mo id="S3.Thmdefinition2.p1.4.4.m4.3.4.1" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.1.cmml">=</mo><mrow id="S3.Thmdefinition2.p1.4.4.m4.3.4.3.2" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.3.1.cmml"><mn id="S3.Thmdefinition2.p1.4.4.m4.1.1" xref="S3.Thmdefinition2.p1.4.4.m4.1.1.cmml">1</mn><mo id="S3.Thmdefinition2.p1.4.4.m4.3.4.3.2.1" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.3.1.cmml">,</mo><mi id="S3.Thmdefinition2.p1.4.4.m4.2.2" mathvariant="normal" xref="S3.Thmdefinition2.p1.4.4.m4.2.2.cmml">⋯</mi><mo id="S3.Thmdefinition2.p1.4.4.m4.3.4.3.2.2" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.3.1.cmml">,</mo><mi id="S3.Thmdefinition2.p1.4.4.m4.3.3" xref="S3.Thmdefinition2.p1.4.4.m4.3.3.cmml">K</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.4.4.m4.3b"><apply id="S3.Thmdefinition2.p1.4.4.m4.3.4.cmml" xref="S3.Thmdefinition2.p1.4.4.m4.3.4"><eq id="S3.Thmdefinition2.p1.4.4.m4.3.4.1.cmml" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.1"></eq><ci id="S3.Thmdefinition2.p1.4.4.m4.3.4.2.cmml" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.2">𝑘</ci><list id="S3.Thmdefinition2.p1.4.4.m4.3.4.3.1.cmml" xref="S3.Thmdefinition2.p1.4.4.m4.3.4.3.2"><cn id="S3.Thmdefinition2.p1.4.4.m4.1.1.cmml" type="integer" xref="S3.Thmdefinition2.p1.4.4.m4.1.1">1</cn><ci id="S3.Thmdefinition2.p1.4.4.m4.2.2.cmml" xref="S3.Thmdefinition2.p1.4.4.m4.2.2">⋯</ci><ci id="S3.Thmdefinition2.p1.4.4.m4.3.3.cmml" xref="S3.Thmdefinition2.p1.4.4.m4.3.3">𝐾</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.4.4.m4.3c">k=1,\cdots,K</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.4.4.m4.3d">italic_k = 1 , ⋯ , italic_K</annotation></semantics></math>. The nodes in <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.5.5.m5.1"><semantics id="S3.Thmdefinition2.p1.5.5.m5.1a"><msup id="S3.Thmdefinition2.p1.5.5.m5.1.1" xref="S3.Thmdefinition2.p1.5.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.5.5.m5.1.1.2" xref="S3.Thmdefinition2.p1.5.5.m5.1.1.2.cmml">𝒢</mi><mi id="S3.Thmdefinition2.p1.5.5.m5.1.1.3" xref="S3.Thmdefinition2.p1.5.5.m5.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.5.5.m5.1b"><apply id="S3.Thmdefinition2.p1.5.5.m5.1.1.cmml" xref="S3.Thmdefinition2.p1.5.5.m5.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.5.5.m5.1.1.1.cmml" xref="S3.Thmdefinition2.p1.5.5.m5.1.1">superscript</csymbol><ci id="S3.Thmdefinition2.p1.5.5.m5.1.1.2.cmml" xref="S3.Thmdefinition2.p1.5.5.m5.1.1.2">𝒢</ci><ci id="S3.Thmdefinition2.p1.5.5.m5.1.1.3.cmml" xref="S3.Thmdefinition2.p1.5.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.5.5.m5.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.5.5.m5.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> represent all the purchased products, <em class="ltx_emph ltx_font_upright" id="S3.Thmdefinition2.p1.18.18.1">i.e.</em>, <math alttext="\mathcal{V}^{k}=\mathcal{V}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.6.6.m6.1"><semantics id="S3.Thmdefinition2.p1.6.6.m6.1a"><mrow id="S3.Thmdefinition2.p1.6.6.m6.1.1" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.cmml"><msup id="S3.Thmdefinition2.p1.6.6.m6.1.1.2" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.6.6.m6.1.1.2.2" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.2.2.cmml">𝒱</mi><mi id="S3.Thmdefinition2.p1.6.6.m6.1.1.2.3" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.2.3.cmml">k</mi></msup><mo id="S3.Thmdefinition2.p1.6.6.m6.1.1.1" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.1.cmml">=</mo><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.6.6.m6.1.1.3" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.3.cmml">𝒱</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.6.6.m6.1b"><apply id="S3.Thmdefinition2.p1.6.6.m6.1.1.cmml" xref="S3.Thmdefinition2.p1.6.6.m6.1.1"><eq id="S3.Thmdefinition2.p1.6.6.m6.1.1.1.cmml" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.1"></eq><apply id="S3.Thmdefinition2.p1.6.6.m6.1.1.2.cmml" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.2"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.6.6.m6.1.1.2.1.cmml" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.2">superscript</csymbol><ci id="S3.Thmdefinition2.p1.6.6.m6.1.1.2.2.cmml" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.2.2">𝒱</ci><ci id="S3.Thmdefinition2.p1.6.6.m6.1.1.2.3.cmml" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.2.3">𝑘</ci></apply><ci id="S3.Thmdefinition2.p1.6.6.m6.1.1.3.cmml" xref="S3.Thmdefinition2.p1.6.6.m6.1.1.3">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.6.6.m6.1c">\mathcal{V}^{k}=\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.6.6.m6.1d">caligraphic_V start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT = caligraphic_V</annotation></semantics></math>, while only partial edges in <math alttext="\mathcal{G}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.7.7.m7.1"><semantics id="S3.Thmdefinition2.p1.7.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.7.7.m7.1.1" xref="S3.Thmdefinition2.p1.7.7.m7.1.1.cmml">𝒢</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.7.7.m7.1b"><ci id="S3.Thmdefinition2.p1.7.7.m7.1.1.cmml" xref="S3.Thmdefinition2.p1.7.7.m7.1.1">𝒢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.7.7.m7.1c">\mathcal{G}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.7.7.m7.1d">caligraphic_G</annotation></semantics></math> are preserved in <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.8.8.m8.1"><semantics id="S3.Thmdefinition2.p1.8.8.m8.1a"><msup id="S3.Thmdefinition2.p1.8.8.m8.1.1" xref="S3.Thmdefinition2.p1.8.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.8.8.m8.1.1.2" xref="S3.Thmdefinition2.p1.8.8.m8.1.1.2.cmml">𝒢</mi><mi id="S3.Thmdefinition2.p1.8.8.m8.1.1.3" xref="S3.Thmdefinition2.p1.8.8.m8.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.8.8.m8.1b"><apply id="S3.Thmdefinition2.p1.8.8.m8.1.1.cmml" xref="S3.Thmdefinition2.p1.8.8.m8.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.8.8.m8.1.1.1.cmml" xref="S3.Thmdefinition2.p1.8.8.m8.1.1">superscript</csymbol><ci id="S3.Thmdefinition2.p1.8.8.m8.1.1.2.cmml" xref="S3.Thmdefinition2.p1.8.8.m8.1.1.2">𝒢</ci><ci id="S3.Thmdefinition2.p1.8.8.m8.1.1.3.cmml" xref="S3.Thmdefinition2.p1.8.8.m8.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.8.8.m8.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.8.8.m8.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> with <math alttext="\mathcal{E}^{k}=\{r_{i,j}|r_{i,j}\in\mathcal{E}~{}\&amp;~{}a_{i}^{k}\cong a_{j}^{k}\}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.9.9.m9.6"><semantics id="S3.Thmdefinition2.p1.9.9.m9.6a"><mrow id="S3.Thmdefinition2.p1.9.9.m9.6.6" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.cmml"><msup id="S3.Thmdefinition2.p1.9.9.m9.6.6.4" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.9.9.m9.6.6.4.2" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.4.2.cmml">ℰ</mi><mi id="S3.Thmdefinition2.p1.9.9.m9.6.6.4.3" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.4.3.cmml">k</mi></msup><mo id="S3.Thmdefinition2.p1.9.9.m9.6.6.3" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.3.cmml">=</mo><mrow id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.3.cmml"><mo id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.3" stretchy="false" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.3.1.cmml">{</mo><msub id="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1" xref="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1.cmml"><mi id="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1.2" xref="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1.2.cmml">r</mi><mrow id="S3.Thmdefinition2.p1.9.9.m9.2.2.2.4" xref="S3.Thmdefinition2.p1.9.9.m9.2.2.2.3.cmml"><mi id="S3.Thmdefinition2.p1.9.9.m9.1.1.1.1" xref="S3.Thmdefinition2.p1.9.9.m9.1.1.1.1.cmml">i</mi><mo id="S3.Thmdefinition2.p1.9.9.m9.2.2.2.4.1" xref="S3.Thmdefinition2.p1.9.9.m9.2.2.2.3.cmml">,</mo><mi id="S3.Thmdefinition2.p1.9.9.m9.2.2.2.2" xref="S3.Thmdefinition2.p1.9.9.m9.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.4" lspace="0em" rspace="0em" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.3.1.cmml">|</mo><mrow id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.cmml"><msub id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2.cmml"><mi id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2.2" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2.2.cmml">r</mi><mrow id="S3.Thmdefinition2.p1.9.9.m9.4.4.2.4" xref="S3.Thmdefinition2.p1.9.9.m9.4.4.2.3.cmml"><mi id="S3.Thmdefinition2.p1.9.9.m9.3.3.1.1" xref="S3.Thmdefinition2.p1.9.9.m9.3.3.1.1.cmml">i</mi><mo id="S3.Thmdefinition2.p1.9.9.m9.4.4.2.4.1" xref="S3.Thmdefinition2.p1.9.9.m9.4.4.2.3.cmml">,</mo><mi id="S3.Thmdefinition2.p1.9.9.m9.4.4.2.2" xref="S3.Thmdefinition2.p1.9.9.m9.4.4.2.2.cmml">j</mi></mrow></msub><mo id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.3" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.3.cmml">∈</mo><mrow id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.2" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.2.cmml">ℰ</mi><mo id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.1" lspace="0.552em" rspace="0.552em" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.1.cmml">&amp;</mo><msubsup id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.cmml"><mi id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.2" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.2.cmml">a</mi><mi id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.3" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.3.cmml">i</mi><mi id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.3" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.3.cmml">k</mi></msubsup></mrow><mo id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.5" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.5.cmml">≅</mo><msubsup id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.cmml"><mi id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.2" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.2.cmml">a</mi><mi id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.3" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.3.cmml">j</mi><mi id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.3" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.3.cmml">k</mi></msubsup></mrow><mo id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.5" stretchy="false" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.9.9.m9.6b"><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6"><eq id="S3.Thmdefinition2.p1.9.9.m9.6.6.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.3"></eq><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.4.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.4"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.9.9.m9.6.6.4.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.4">superscript</csymbol><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.4.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.4.2">ℰ</ci><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.4.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.4.3">𝑘</ci></apply><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2"><csymbol cd="latexml" id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.3.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.3">conditional-set</csymbol><apply id="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1">subscript</csymbol><ci id="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.5.5.1.1.1.2">𝑟</ci><list id="S3.Thmdefinition2.p1.9.9.m9.2.2.2.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.2.2.2.4"><ci id="S3.Thmdefinition2.p1.9.9.m9.1.1.1.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.1.1.1.1">𝑖</ci><ci id="S3.Thmdefinition2.p1.9.9.m9.2.2.2.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.2.2.2.2">𝑗</ci></list></apply><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2"><and id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2a.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2"></and><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2b.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2"><in id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.3"></in><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2">subscript</csymbol><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.2.2">𝑟</ci><list id="S3.Thmdefinition2.p1.9.9.m9.4.4.2.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.4.4.2.4"><ci id="S3.Thmdefinition2.p1.9.9.m9.3.3.1.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.3.3.1.1">𝑖</ci><ci id="S3.Thmdefinition2.p1.9.9.m9.4.4.2.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.4.4.2.2">𝑗</ci></list></apply><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4"><and id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.1"></and><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.2">ℰ</ci><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3">superscript</csymbol><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3">subscript</csymbol><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.2">𝑎</ci><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.2.3">𝑖</ci></apply><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.3.3">𝑘</ci></apply></apply></apply><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2c.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2"><approx id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.5.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.5"></approx><share href="https://arxiv.org/html/2408.11302v1#S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.4.cmml" id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2d.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2"></share><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6">superscript</csymbol><apply id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.1.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6">subscript</csymbol><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.2.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.2">𝑎</ci><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.2.3">𝑗</ci></apply><ci id="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.3.cmml" xref="S3.Thmdefinition2.p1.9.9.m9.6.6.2.2.2.6.3">𝑘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.9.9.m9.6c">\mathcal{E}^{k}=\{r_{i,j}|r_{i,j}\in\mathcal{E}~{}\&amp;~{}a_{i}^{k}\cong a_{j}^{k}\}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.9.9.m9.6d">caligraphic_E start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT = { italic_r start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT | italic_r start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT ∈ caligraphic_E &amp; italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ≅ italic_a start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT }</annotation></semantics></math>, where <math alttext="a_{i}^{k}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.10.10.m10.1"><semantics id="S3.Thmdefinition2.p1.10.10.m10.1a"><msubsup id="S3.Thmdefinition2.p1.10.10.m10.1.1" xref="S3.Thmdefinition2.p1.10.10.m10.1.1.cmml"><mi id="S3.Thmdefinition2.p1.10.10.m10.1.1.2.2" xref="S3.Thmdefinition2.p1.10.10.m10.1.1.2.2.cmml">a</mi><mi id="S3.Thmdefinition2.p1.10.10.m10.1.1.2.3" xref="S3.Thmdefinition2.p1.10.10.m10.1.1.2.3.cmml">i</mi><mi id="S3.Thmdefinition2.p1.10.10.m10.1.1.3" xref="S3.Thmdefinition2.p1.10.10.m10.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.10.10.m10.1b"><apply id="S3.Thmdefinition2.p1.10.10.m10.1.1.cmml" xref="S3.Thmdefinition2.p1.10.10.m10.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.10.10.m10.1.1.1.cmml" xref="S3.Thmdefinition2.p1.10.10.m10.1.1">superscript</csymbol><apply id="S3.Thmdefinition2.p1.10.10.m10.1.1.2.cmml" xref="S3.Thmdefinition2.p1.10.10.m10.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.10.10.m10.1.1.2.1.cmml" xref="S3.Thmdefinition2.p1.10.10.m10.1.1">subscript</csymbol><ci id="S3.Thmdefinition2.p1.10.10.m10.1.1.2.2.cmml" xref="S3.Thmdefinition2.p1.10.10.m10.1.1.2.2">𝑎</ci><ci id="S3.Thmdefinition2.p1.10.10.m10.1.1.2.3.cmml" xref="S3.Thmdefinition2.p1.10.10.m10.1.1.2.3">𝑖</ci></apply><ci id="S3.Thmdefinition2.p1.10.10.m10.1.1.3.cmml" xref="S3.Thmdefinition2.p1.10.10.m10.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.10.10.m10.1c">a_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.10.10.m10.1d">italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="a_{j}^{k}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.11.11.m11.1"><semantics id="S3.Thmdefinition2.p1.11.11.m11.1a"><msubsup id="S3.Thmdefinition2.p1.11.11.m11.1.1" xref="S3.Thmdefinition2.p1.11.11.m11.1.1.cmml"><mi id="S3.Thmdefinition2.p1.11.11.m11.1.1.2.2" xref="S3.Thmdefinition2.p1.11.11.m11.1.1.2.2.cmml">a</mi><mi id="S3.Thmdefinition2.p1.11.11.m11.1.1.2.3" xref="S3.Thmdefinition2.p1.11.11.m11.1.1.2.3.cmml">j</mi><mi id="S3.Thmdefinition2.p1.11.11.m11.1.1.3" xref="S3.Thmdefinition2.p1.11.11.m11.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.11.11.m11.1b"><apply id="S3.Thmdefinition2.p1.11.11.m11.1.1.cmml" xref="S3.Thmdefinition2.p1.11.11.m11.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.11.11.m11.1.1.1.cmml" xref="S3.Thmdefinition2.p1.11.11.m11.1.1">superscript</csymbol><apply id="S3.Thmdefinition2.p1.11.11.m11.1.1.2.cmml" xref="S3.Thmdefinition2.p1.11.11.m11.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.11.11.m11.1.1.2.1.cmml" xref="S3.Thmdefinition2.p1.11.11.m11.1.1">subscript</csymbol><ci id="S3.Thmdefinition2.p1.11.11.m11.1.1.2.2.cmml" xref="S3.Thmdefinition2.p1.11.11.m11.1.1.2.2">𝑎</ci><ci id="S3.Thmdefinition2.p1.11.11.m11.1.1.2.3.cmml" xref="S3.Thmdefinition2.p1.11.11.m11.1.1.2.3">𝑗</ci></apply><ci id="S3.Thmdefinition2.p1.11.11.m11.1.1.3.cmml" xref="S3.Thmdefinition2.p1.11.11.m11.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.11.11.m11.1c">a_{j}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.11.11.m11.1d">italic_a start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> denote the attribute values of the nodes <math alttext="v_{i}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.12.12.m12.1"><semantics id="S3.Thmdefinition2.p1.12.12.m12.1a"><msub id="S3.Thmdefinition2.p1.12.12.m12.1.1" xref="S3.Thmdefinition2.p1.12.12.m12.1.1.cmml"><mi id="S3.Thmdefinition2.p1.12.12.m12.1.1.2" xref="S3.Thmdefinition2.p1.12.12.m12.1.1.2.cmml">v</mi><mi id="S3.Thmdefinition2.p1.12.12.m12.1.1.3" xref="S3.Thmdefinition2.p1.12.12.m12.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.12.12.m12.1b"><apply id="S3.Thmdefinition2.p1.12.12.m12.1.1.cmml" xref="S3.Thmdefinition2.p1.12.12.m12.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.12.12.m12.1.1.1.cmml" xref="S3.Thmdefinition2.p1.12.12.m12.1.1">subscript</csymbol><ci id="S3.Thmdefinition2.p1.12.12.m12.1.1.2.cmml" xref="S3.Thmdefinition2.p1.12.12.m12.1.1.2">𝑣</ci><ci id="S3.Thmdefinition2.p1.12.12.m12.1.1.3.cmml" xref="S3.Thmdefinition2.p1.12.12.m12.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.12.12.m12.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.12.12.m12.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="v_{j}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.13.13.m13.1"><semantics id="S3.Thmdefinition2.p1.13.13.m13.1a"><msub id="S3.Thmdefinition2.p1.13.13.m13.1.1" xref="S3.Thmdefinition2.p1.13.13.m13.1.1.cmml"><mi id="S3.Thmdefinition2.p1.13.13.m13.1.1.2" xref="S3.Thmdefinition2.p1.13.13.m13.1.1.2.cmml">v</mi><mi id="S3.Thmdefinition2.p1.13.13.m13.1.1.3" xref="S3.Thmdefinition2.p1.13.13.m13.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.13.13.m13.1b"><apply id="S3.Thmdefinition2.p1.13.13.m13.1.1.cmml" xref="S3.Thmdefinition2.p1.13.13.m13.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.13.13.m13.1.1.1.cmml" xref="S3.Thmdefinition2.p1.13.13.m13.1.1">subscript</csymbol><ci id="S3.Thmdefinition2.p1.13.13.m13.1.1.2.cmml" xref="S3.Thmdefinition2.p1.13.13.m13.1.1.2">𝑣</ci><ci id="S3.Thmdefinition2.p1.13.13.m13.1.1.3.cmml" xref="S3.Thmdefinition2.p1.13.13.m13.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.13.13.m13.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.13.13.m13.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> <em class="ltx_emph ltx_font_upright" id="S3.Thmdefinition2.p1.18.18.2">w.r.t.</em> the <math alttext="k" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.14.14.m14.1"><semantics id="S3.Thmdefinition2.p1.14.14.m14.1a"><mi id="S3.Thmdefinition2.p1.14.14.m14.1.1" xref="S3.Thmdefinition2.p1.14.14.m14.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.14.14.m14.1b"><ci id="S3.Thmdefinition2.p1.14.14.m14.1.1.cmml" xref="S3.Thmdefinition2.p1.14.14.m14.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.14.14.m14.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.14.14.m14.1d">italic_k</annotation></semantics></math>-th attribute, respectively, and <math alttext="\cong" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.15.15.m15.1"><semantics id="S3.Thmdefinition2.p1.15.15.m15.1a"><mo id="S3.Thmdefinition2.p1.15.15.m15.1.1" xref="S3.Thmdefinition2.p1.15.15.m15.1.1.cmml">≅</mo><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.15.15.m15.1b"><approx id="S3.Thmdefinition2.p1.15.15.m15.1.1.cmml" xref="S3.Thmdefinition2.p1.15.15.m15.1.1"></approx></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.15.15.m15.1c">\cong</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.15.15.m15.1d">≅</annotation></semantics></math> indicates that <math alttext="a_{i}^{k}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.16.16.m16.1"><semantics id="S3.Thmdefinition2.p1.16.16.m16.1a"><msubsup id="S3.Thmdefinition2.p1.16.16.m16.1.1" xref="S3.Thmdefinition2.p1.16.16.m16.1.1.cmml"><mi id="S3.Thmdefinition2.p1.16.16.m16.1.1.2.2" xref="S3.Thmdefinition2.p1.16.16.m16.1.1.2.2.cmml">a</mi><mi id="S3.Thmdefinition2.p1.16.16.m16.1.1.2.3" xref="S3.Thmdefinition2.p1.16.16.m16.1.1.2.3.cmml">i</mi><mi id="S3.Thmdefinition2.p1.16.16.m16.1.1.3" xref="S3.Thmdefinition2.p1.16.16.m16.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.16.16.m16.1b"><apply id="S3.Thmdefinition2.p1.16.16.m16.1.1.cmml" xref="S3.Thmdefinition2.p1.16.16.m16.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.16.16.m16.1.1.1.cmml" xref="S3.Thmdefinition2.p1.16.16.m16.1.1">superscript</csymbol><apply id="S3.Thmdefinition2.p1.16.16.m16.1.1.2.cmml" xref="S3.Thmdefinition2.p1.16.16.m16.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.16.16.m16.1.1.2.1.cmml" xref="S3.Thmdefinition2.p1.16.16.m16.1.1">subscript</csymbol><ci id="S3.Thmdefinition2.p1.16.16.m16.1.1.2.2.cmml" xref="S3.Thmdefinition2.p1.16.16.m16.1.1.2.2">𝑎</ci><ci id="S3.Thmdefinition2.p1.16.16.m16.1.1.2.3.cmml" xref="S3.Thmdefinition2.p1.16.16.m16.1.1.2.3">𝑖</ci></apply><ci id="S3.Thmdefinition2.p1.16.16.m16.1.1.3.cmml" xref="S3.Thmdefinition2.p1.16.16.m16.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.16.16.m16.1c">a_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.16.16.m16.1d">italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="a_{j}^{k}" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.17.17.m17.1"><semantics id="S3.Thmdefinition2.p1.17.17.m17.1a"><msubsup id="S3.Thmdefinition2.p1.17.17.m17.1.1" xref="S3.Thmdefinition2.p1.17.17.m17.1.1.cmml"><mi id="S3.Thmdefinition2.p1.17.17.m17.1.1.2.2" xref="S3.Thmdefinition2.p1.17.17.m17.1.1.2.2.cmml">a</mi><mi id="S3.Thmdefinition2.p1.17.17.m17.1.1.2.3" xref="S3.Thmdefinition2.p1.17.17.m17.1.1.2.3.cmml">j</mi><mi id="S3.Thmdefinition2.p1.17.17.m17.1.1.3" xref="S3.Thmdefinition2.p1.17.17.m17.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.17.17.m17.1b"><apply id="S3.Thmdefinition2.p1.17.17.m17.1.1.cmml" xref="S3.Thmdefinition2.p1.17.17.m17.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.17.17.m17.1.1.1.cmml" xref="S3.Thmdefinition2.p1.17.17.m17.1.1">superscript</csymbol><apply id="S3.Thmdefinition2.p1.17.17.m17.1.1.2.cmml" xref="S3.Thmdefinition2.p1.17.17.m17.1.1"><csymbol cd="ambiguous" id="S3.Thmdefinition2.p1.17.17.m17.1.1.2.1.cmml" xref="S3.Thmdefinition2.p1.17.17.m17.1.1">subscript</csymbol><ci id="S3.Thmdefinition2.p1.17.17.m17.1.1.2.2.cmml" xref="S3.Thmdefinition2.p1.17.17.m17.1.1.2.2">𝑎</ci><ci id="S3.Thmdefinition2.p1.17.17.m17.1.1.2.3.cmml" xref="S3.Thmdefinition2.p1.17.17.m17.1.1.2.3">𝑗</ci></apply><ci id="S3.Thmdefinition2.p1.17.17.m17.1.1.3.cmml" xref="S3.Thmdefinition2.p1.17.17.m17.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.17.17.m17.1c">a_{j}^{k}</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.17.17.m17.1d">italic_a start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> are in a same level (if real-valued) or exactly the same (if categorical).   <math alttext="\blacksquare" class="ltx_Math" display="inline" id="S3.Thmdefinition2.p1.18.18.m18.1"><semantics id="S3.Thmdefinition2.p1.18.18.m18.1a"><mi id="S3.Thmdefinition2.p1.18.18.m18.1.1" mathvariant="normal" xref="S3.Thmdefinition2.p1.18.18.m18.1.1.cmml">■</mi><annotation-xml encoding="MathML-Content" id="S3.Thmdefinition2.p1.18.18.m18.1b"><ci id="S3.Thmdefinition2.p1.18.18.m18.1.1.cmml" xref="S3.Thmdefinition2.p1.18.18.m18.1.1">■</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.Thmdefinition2.p1.18.18.m18.1c">\blacksquare</annotation><annotation encoding="application/x-llamapun" id="S3.Thmdefinition2.p1.18.18.m18.1d">■</annotation></semantics></math></span></p>
</div>
</div>
<div class="ltx_para" id="S3.p7">
<p class="ltx_p" id="S3.p7.3">As depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3.F1" title="Figure 1 ‣ 3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>, the edge between two movies can be driven by either the <em class="ltx_emph ltx_font_italic" id="S3.p7.3.1">genre</em> or the <em class="ltx_emph ltx_font_italic" id="S3.p7.3.2">director</em> attribute, resulting in the two ARNs in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3.F1" title="Figure 1 ‣ 3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>(c) and (d). Through analyzing the structures of these ARNs, we can gain finer-granularity insights into how consumers could form diverse reference points at the attribute level in a data-driven manner. Suppose each product has <math alttext="K" class="ltx_Math" display="inline" id="S3.p7.1.m1.1"><semantics id="S3.p7.1.m1.1a"><mi id="S3.p7.1.m1.1.1" xref="S3.p7.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.p7.1.m1.1b"><ci id="S3.p7.1.m1.1.1.cmml" xref="S3.p7.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.p7.1.m1.1d">italic_K</annotation></semantics></math> important attributes, then a total of <math alttext="K" class="ltx_Math" display="inline" id="S3.p7.2.m2.1"><semantics id="S3.p7.2.m2.1a"><mi id="S3.p7.2.m2.1.1" xref="S3.p7.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.p7.2.m2.1b"><ci id="S3.p7.2.m2.1.1.cmml" xref="S3.p7.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.2.m2.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.p7.2.m2.1d">italic_K</annotation></semantics></math> ARNs can be decomposed from the reference network with different connecting structures. It is worth noting that we can also relax the requirement of the symbol <math alttext="\cong" class="ltx_Math" display="inline" id="S3.p7.3.m3.1"><semantics id="S3.p7.3.m3.1a"><mo id="S3.p7.3.m3.1.1" xref="S3.p7.3.m3.1.1.cmml">≅</mo><annotation-xml encoding="MathML-Content" id="S3.p7.3.m3.1b"><approx id="S3.p7.3.m3.1.1.cmml" xref="S3.p7.3.m3.1.1"></approx></annotation-xml><annotation encoding="application/x-tex" id="S3.p7.3.m3.1c">\cong</annotation><annotation encoding="application/x-llamapun" id="S3.p7.3.m3.1d">≅</annotation></semantics></math> in Definition <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3.Thmdefinition2" title="Definition 3.2 (Attributed Reference Network) ‣ 3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">3.2</span></a> when needed to accommodate various scenarios.
For example, we can keep the edge between two movies in a genre-defined ARN as long as the two movies share similar categorical values, <em class="ltx_emph ltx_font_italic" id="S3.p7.3.3">e.g.</em>, one belongs to both comedy and romance genres and the other is only a comedy. For another,
when constructing the ARN <em class="ltx_emph ltx_font_italic" id="S3.p7.3.4">w.r.t.</em> the “actor” attribute, we can preserve edges between movies sharing similar actors, <em class="ltx_emph ltx_font_italic" id="S3.p7.3.5">e.g.</em>, action movie stars like <em class="ltx_emph ltx_font_italic" id="S3.p7.3.6">Jackie Chan</em> and <em class="ltx_emph ltx_font_italic" id="S3.p7.3.7">Arnold Schwarzenegger</em>. Consequently, most nodes in a particular ARN can be closely connected through higher-order relations, sharing the same or semantically similar attribute values.</p>
</div>
<div class="ltx_para" id="S3.p8">
<p class="ltx_p" id="S3.p8.1">By anchoring reference points in ARNs, reference-dependent preference can be measured as the utility gain by comparing a focal product and the reference points within the networks, which is called the <em class="ltx_emph ltx_font_italic" id="S3.p8.1.1">interest-inspired preference</em> of consumers. On the other hand, product price, as a special attribute, also plays an indispensable role in shaping consumers’ purchase decisions <cite class="ltx_cite ltx_citemacro_citep">(Ban and Keskin, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib7" title="">2021</a>)</cite> but is often overlooked in prior work. In fact, the consumer preference can also be modeled by comparing against price-centric reference points, commonly referred to as the reference prices <cite class="ltx_cite ltx_citemacro_citep">(Lattin and Bucklin, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib51" title="">1989</a>, Winer, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib91" title="">1986</a>)</cite>, to gauge the so-called <em class="ltx_emph ltx_font_italic" id="S3.p8.1.2">price-inspired preference</em> of consumers in making purchase decisions. Building upon these motivations, we incorporate both interest-inspired and price-inspired preferences for modeling consumers’ reference-dependent utility, which is formally defined as the problem of designing <em class="ltx_emph ltx_font_italic" id="S3.p8.1.3">Reference-dependent Choice Model for Recommendation</em> as follows.</p>
</div>
<div class="ltx_para" id="S3.p9">
<p class="ltx_p" id="S3.p9.16"><span class="ltx_text ltx_font_sansserif ltx_font_smallcaps" id="S3.p9.16.1">Problem Definition (Reference-dependent Choice Model for Recommendation)</span>. Consider a merchant offering a diverse range of products represented by <math alttext="\mathcal{V}=\{v_{1},\ldots,v_{|\mathcal{V}|}\}" class="ltx_Math" display="inline" id="S3.p9.1.m1.4"><semantics id="S3.p9.1.m1.4a"><mrow id="S3.p9.1.m1.4.4" xref="S3.p9.1.m1.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p9.1.m1.4.4.4" xref="S3.p9.1.m1.4.4.4.cmml">𝒱</mi><mo id="S3.p9.1.m1.4.4.3" xref="S3.p9.1.m1.4.4.3.cmml">=</mo><mrow id="S3.p9.1.m1.4.4.2.2" xref="S3.p9.1.m1.4.4.2.3.cmml"><mo id="S3.p9.1.m1.4.4.2.2.3" stretchy="false" xref="S3.p9.1.m1.4.4.2.3.cmml">{</mo><msub id="S3.p9.1.m1.3.3.1.1.1" xref="S3.p9.1.m1.3.3.1.1.1.cmml"><mi id="S3.p9.1.m1.3.3.1.1.1.2" xref="S3.p9.1.m1.3.3.1.1.1.2.cmml">v</mi><mn id="S3.p9.1.m1.3.3.1.1.1.3" xref="S3.p9.1.m1.3.3.1.1.1.3.cmml">1</mn></msub><mo id="S3.p9.1.m1.4.4.2.2.4" xref="S3.p9.1.m1.4.4.2.3.cmml">,</mo><mi id="S3.p9.1.m1.2.2" mathvariant="normal" xref="S3.p9.1.m1.2.2.cmml">…</mi><mo id="S3.p9.1.m1.4.4.2.2.5" xref="S3.p9.1.m1.4.4.2.3.cmml">,</mo><msub id="S3.p9.1.m1.4.4.2.2.2" xref="S3.p9.1.m1.4.4.2.2.2.cmml"><mi id="S3.p9.1.m1.4.4.2.2.2.2" xref="S3.p9.1.m1.4.4.2.2.2.2.cmml">v</mi><mrow id="S3.p9.1.m1.1.1.1.3" xref="S3.p9.1.m1.1.1.1.2.cmml"><mo id="S3.p9.1.m1.1.1.1.3.1" stretchy="false" xref="S3.p9.1.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.p9.1.m1.1.1.1.1" xref="S3.p9.1.m1.1.1.1.1.cmml">𝒱</mi><mo id="S3.p9.1.m1.1.1.1.3.2" stretchy="false" xref="S3.p9.1.m1.1.1.1.2.1.cmml">|</mo></mrow></msub><mo id="S3.p9.1.m1.4.4.2.2.6" stretchy="false" xref="S3.p9.1.m1.4.4.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p9.1.m1.4b"><apply id="S3.p9.1.m1.4.4.cmml" xref="S3.p9.1.m1.4.4"><eq id="S3.p9.1.m1.4.4.3.cmml" xref="S3.p9.1.m1.4.4.3"></eq><ci id="S3.p9.1.m1.4.4.4.cmml" xref="S3.p9.1.m1.4.4.4">𝒱</ci><set id="S3.p9.1.m1.4.4.2.3.cmml" xref="S3.p9.1.m1.4.4.2.2"><apply id="S3.p9.1.m1.3.3.1.1.1.cmml" xref="S3.p9.1.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p9.1.m1.3.3.1.1.1.1.cmml" xref="S3.p9.1.m1.3.3.1.1.1">subscript</csymbol><ci id="S3.p9.1.m1.3.3.1.1.1.2.cmml" xref="S3.p9.1.m1.3.3.1.1.1.2">𝑣</ci><cn id="S3.p9.1.m1.3.3.1.1.1.3.cmml" type="integer" xref="S3.p9.1.m1.3.3.1.1.1.3">1</cn></apply><ci id="S3.p9.1.m1.2.2.cmml" xref="S3.p9.1.m1.2.2">…</ci><apply id="S3.p9.1.m1.4.4.2.2.2.cmml" xref="S3.p9.1.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.p9.1.m1.4.4.2.2.2.1.cmml" xref="S3.p9.1.m1.4.4.2.2.2">subscript</csymbol><ci id="S3.p9.1.m1.4.4.2.2.2.2.cmml" xref="S3.p9.1.m1.4.4.2.2.2.2">𝑣</ci><apply id="S3.p9.1.m1.1.1.1.2.cmml" xref="S3.p9.1.m1.1.1.1.3"><abs id="S3.p9.1.m1.1.1.1.2.1.cmml" xref="S3.p9.1.m1.1.1.1.3.1"></abs><ci id="S3.p9.1.m1.1.1.1.1.cmml" xref="S3.p9.1.m1.1.1.1.1">𝒱</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.1.m1.4c">\mathcal{V}=\{v_{1},\ldots,v_{|\mathcal{V}|}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.1.m1.4d">caligraphic_V = { italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_v start_POSTSUBSCRIPT | caligraphic_V | end_POSTSUBSCRIPT }</annotation></semantics></math>. Each product <math alttext="v_{i}\in\mathcal{V}" class="ltx_Math" display="inline" id="S3.p9.2.m2.1"><semantics id="S3.p9.2.m2.1a"><mrow id="S3.p9.2.m2.1.1" xref="S3.p9.2.m2.1.1.cmml"><msub id="S3.p9.2.m2.1.1.2" xref="S3.p9.2.m2.1.1.2.cmml"><mi id="S3.p9.2.m2.1.1.2.2" xref="S3.p9.2.m2.1.1.2.2.cmml">v</mi><mi id="S3.p9.2.m2.1.1.2.3" xref="S3.p9.2.m2.1.1.2.3.cmml">i</mi></msub><mo id="S3.p9.2.m2.1.1.1" xref="S3.p9.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.p9.2.m2.1.1.3" xref="S3.p9.2.m2.1.1.3.cmml">𝒱</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p9.2.m2.1b"><apply id="S3.p9.2.m2.1.1.cmml" xref="S3.p9.2.m2.1.1"><in id="S3.p9.2.m2.1.1.1.cmml" xref="S3.p9.2.m2.1.1.1"></in><apply id="S3.p9.2.m2.1.1.2.cmml" xref="S3.p9.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.p9.2.m2.1.1.2.1.cmml" xref="S3.p9.2.m2.1.1.2">subscript</csymbol><ci id="S3.p9.2.m2.1.1.2.2.cmml" xref="S3.p9.2.m2.1.1.2.2">𝑣</ci><ci id="S3.p9.2.m2.1.1.2.3.cmml" xref="S3.p9.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S3.p9.2.m2.1.1.3.cmml" xref="S3.p9.2.m2.1.1.3">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.2.m2.1c">v_{i}\in\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.2.m2.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_V</annotation></semantics></math> is characterized by <math alttext="K" class="ltx_Math" display="inline" id="S3.p9.3.m3.1"><semantics id="S3.p9.3.m3.1a"><mi id="S3.p9.3.m3.1.1" xref="S3.p9.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.p9.3.m3.1b"><ci id="S3.p9.3.m3.1.1.cmml" xref="S3.p9.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.3.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S3.p9.3.m3.1d">italic_K</annotation></semantics></math> different attributes denoted as <math alttext="\mathbf{a}_{i}\in\mathbb{R}^{|K|}" class="ltx_Math" display="inline" id="S3.p9.4.m4.1"><semantics id="S3.p9.4.m4.1a"><mrow id="S3.p9.4.m4.1.2" xref="S3.p9.4.m4.1.2.cmml"><msub id="S3.p9.4.m4.1.2.2" xref="S3.p9.4.m4.1.2.2.cmml"><mi id="S3.p9.4.m4.1.2.2.2" xref="S3.p9.4.m4.1.2.2.2.cmml">𝐚</mi><mi id="S3.p9.4.m4.1.2.2.3" xref="S3.p9.4.m4.1.2.2.3.cmml">i</mi></msub><mo id="S3.p9.4.m4.1.2.1" xref="S3.p9.4.m4.1.2.1.cmml">∈</mo><msup id="S3.p9.4.m4.1.2.3" xref="S3.p9.4.m4.1.2.3.cmml"><mi id="S3.p9.4.m4.1.2.3.2" xref="S3.p9.4.m4.1.2.3.2.cmml">ℝ</mi><mrow id="S3.p9.4.m4.1.1.1.3" xref="S3.p9.4.m4.1.1.1.2.cmml"><mo id="S3.p9.4.m4.1.1.1.3.1" stretchy="false" xref="S3.p9.4.m4.1.1.1.2.1.cmml">|</mo><mi id="S3.p9.4.m4.1.1.1.1" xref="S3.p9.4.m4.1.1.1.1.cmml">K</mi><mo id="S3.p9.4.m4.1.1.1.3.2" stretchy="false" xref="S3.p9.4.m4.1.1.1.2.1.cmml">|</mo></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p9.4.m4.1b"><apply id="S3.p9.4.m4.1.2.cmml" xref="S3.p9.4.m4.1.2"><in id="S3.p9.4.m4.1.2.1.cmml" xref="S3.p9.4.m4.1.2.1"></in><apply id="S3.p9.4.m4.1.2.2.cmml" xref="S3.p9.4.m4.1.2.2"><csymbol cd="ambiguous" id="S3.p9.4.m4.1.2.2.1.cmml" xref="S3.p9.4.m4.1.2.2">subscript</csymbol><ci id="S3.p9.4.m4.1.2.2.2.cmml" xref="S3.p9.4.m4.1.2.2.2">𝐚</ci><ci id="S3.p9.4.m4.1.2.2.3.cmml" xref="S3.p9.4.m4.1.2.2.3">𝑖</ci></apply><apply id="S3.p9.4.m4.1.2.3.cmml" xref="S3.p9.4.m4.1.2.3"><csymbol cd="ambiguous" id="S3.p9.4.m4.1.2.3.1.cmml" xref="S3.p9.4.m4.1.2.3">superscript</csymbol><ci id="S3.p9.4.m4.1.2.3.2.cmml" xref="S3.p9.4.m4.1.2.3.2">ℝ</ci><apply id="S3.p9.4.m4.1.1.1.2.cmml" xref="S3.p9.4.m4.1.1.1.3"><abs id="S3.p9.4.m4.1.1.1.2.1.cmml" xref="S3.p9.4.m4.1.1.1.3.1"></abs><ci id="S3.p9.4.m4.1.1.1.1.cmml" xref="S3.p9.4.m4.1.1.1.1">𝐾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.4.m4.1c">\mathbf{a}_{i}\in\mathbb{R}^{|K|}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.4.m4.1d">bold_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT | italic_K | end_POSTSUPERSCRIPT</annotation></semantics></math> and is given a price <math alttext="p_{i}" class="ltx_Math" display="inline" id="S3.p9.5.m5.1"><semantics id="S3.p9.5.m5.1a"><msub id="S3.p9.5.m5.1.1" xref="S3.p9.5.m5.1.1.cmml"><mi id="S3.p9.5.m5.1.1.2" xref="S3.p9.5.m5.1.1.2.cmml">p</mi><mi id="S3.p9.5.m5.1.1.3" xref="S3.p9.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p9.5.m5.1b"><apply id="S3.p9.5.m5.1.1.cmml" xref="S3.p9.5.m5.1.1"><csymbol cd="ambiguous" id="S3.p9.5.m5.1.1.1.cmml" xref="S3.p9.5.m5.1.1">subscript</csymbol><ci id="S3.p9.5.m5.1.1.2.cmml" xref="S3.p9.5.m5.1.1.2">𝑝</ci><ci id="S3.p9.5.m5.1.1.3.cmml" xref="S3.p9.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.5.m5.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.5.m5.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. The consumers who have ever purchased products from the merchant are represented by <math alttext="\mathcal{U}=\left\{u_{1},\ldots,u_{|\mathcal{U}|}\right\}" class="ltx_Math" display="inline" id="S3.p9.6.m6.4"><semantics id="S3.p9.6.m6.4a"><mrow id="S3.p9.6.m6.4.4" xref="S3.p9.6.m6.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p9.6.m6.4.4.4" xref="S3.p9.6.m6.4.4.4.cmml">𝒰</mi><mo id="S3.p9.6.m6.4.4.3" xref="S3.p9.6.m6.4.4.3.cmml">=</mo><mrow id="S3.p9.6.m6.4.4.2.2" xref="S3.p9.6.m6.4.4.2.3.cmml"><mo id="S3.p9.6.m6.4.4.2.2.3" xref="S3.p9.6.m6.4.4.2.3.cmml">{</mo><msub id="S3.p9.6.m6.3.3.1.1.1" xref="S3.p9.6.m6.3.3.1.1.1.cmml"><mi id="S3.p9.6.m6.3.3.1.1.1.2" xref="S3.p9.6.m6.3.3.1.1.1.2.cmml">u</mi><mn id="S3.p9.6.m6.3.3.1.1.1.3" xref="S3.p9.6.m6.3.3.1.1.1.3.cmml">1</mn></msub><mo id="S3.p9.6.m6.4.4.2.2.4" xref="S3.p9.6.m6.4.4.2.3.cmml">,</mo><mi id="S3.p9.6.m6.2.2" mathvariant="normal" xref="S3.p9.6.m6.2.2.cmml">…</mi><mo id="S3.p9.6.m6.4.4.2.2.5" xref="S3.p9.6.m6.4.4.2.3.cmml">,</mo><msub id="S3.p9.6.m6.4.4.2.2.2" xref="S3.p9.6.m6.4.4.2.2.2.cmml"><mi id="S3.p9.6.m6.4.4.2.2.2.2" xref="S3.p9.6.m6.4.4.2.2.2.2.cmml">u</mi><mrow id="S3.p9.6.m6.1.1.1.3" xref="S3.p9.6.m6.1.1.1.2.cmml"><mo id="S3.p9.6.m6.1.1.1.3.1" stretchy="false" xref="S3.p9.6.m6.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S3.p9.6.m6.1.1.1.1" xref="S3.p9.6.m6.1.1.1.1.cmml">𝒰</mi><mo id="S3.p9.6.m6.1.1.1.3.2" stretchy="false" xref="S3.p9.6.m6.1.1.1.2.1.cmml">|</mo></mrow></msub><mo id="S3.p9.6.m6.4.4.2.2.6" xref="S3.p9.6.m6.4.4.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p9.6.m6.4b"><apply id="S3.p9.6.m6.4.4.cmml" xref="S3.p9.6.m6.4.4"><eq id="S3.p9.6.m6.4.4.3.cmml" xref="S3.p9.6.m6.4.4.3"></eq><ci id="S3.p9.6.m6.4.4.4.cmml" xref="S3.p9.6.m6.4.4.4">𝒰</ci><set id="S3.p9.6.m6.4.4.2.3.cmml" xref="S3.p9.6.m6.4.4.2.2"><apply id="S3.p9.6.m6.3.3.1.1.1.cmml" xref="S3.p9.6.m6.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p9.6.m6.3.3.1.1.1.1.cmml" xref="S3.p9.6.m6.3.3.1.1.1">subscript</csymbol><ci id="S3.p9.6.m6.3.3.1.1.1.2.cmml" xref="S3.p9.6.m6.3.3.1.1.1.2">𝑢</ci><cn id="S3.p9.6.m6.3.3.1.1.1.3.cmml" type="integer" xref="S3.p9.6.m6.3.3.1.1.1.3">1</cn></apply><ci id="S3.p9.6.m6.2.2.cmml" xref="S3.p9.6.m6.2.2">…</ci><apply id="S3.p9.6.m6.4.4.2.2.2.cmml" xref="S3.p9.6.m6.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.p9.6.m6.4.4.2.2.2.1.cmml" xref="S3.p9.6.m6.4.4.2.2.2">subscript</csymbol><ci id="S3.p9.6.m6.4.4.2.2.2.2.cmml" xref="S3.p9.6.m6.4.4.2.2.2.2">𝑢</ci><apply id="S3.p9.6.m6.1.1.1.2.cmml" xref="S3.p9.6.m6.1.1.1.3"><abs id="S3.p9.6.m6.1.1.1.2.1.cmml" xref="S3.p9.6.m6.1.1.1.3.1"></abs><ci id="S3.p9.6.m6.1.1.1.1.cmml" xref="S3.p9.6.m6.1.1.1.1">𝒰</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.6.m6.4c">\mathcal{U}=\left\{u_{1},\ldots,u_{|\mathcal{U}|}\right\}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.6.m6.4d">caligraphic_U = { italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_u start_POSTSUBSCRIPT | caligraphic_U | end_POSTSUBSCRIPT }</annotation></semantics></math>. The interactions between consumers and products are represented by <math alttext="\mathcal{Y}=\{y_{u_{i},v_{j}|u_{i}\in\mathcal{U},v_{j}\in\mathcal{V}}\}" class="ltx_Math" display="inline" id="S3.p9.7.m7.3"><semantics id="S3.p9.7.m7.3a"><mrow id="S3.p9.7.m7.3.3" xref="S3.p9.7.m7.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p9.7.m7.3.3.3" xref="S3.p9.7.m7.3.3.3.cmml">𝒴</mi><mo id="S3.p9.7.m7.3.3.2" xref="S3.p9.7.m7.3.3.2.cmml">=</mo><mrow id="S3.p9.7.m7.3.3.1.1" xref="S3.p9.7.m7.3.3.1.2.cmml"><mo id="S3.p9.7.m7.3.3.1.1.2" stretchy="false" xref="S3.p9.7.m7.3.3.1.2.cmml">{</mo><msub id="S3.p9.7.m7.3.3.1.1.1" xref="S3.p9.7.m7.3.3.1.1.1.cmml"><mi id="S3.p9.7.m7.3.3.1.1.1.2" xref="S3.p9.7.m7.3.3.1.1.1.2.cmml">y</mi><mrow id="S3.p9.7.m7.2.2.2.2" xref="S3.p9.7.m7.2.2.2.3.cmml"><mrow id="S3.p9.7.m7.1.1.1.1.1" xref="S3.p9.7.m7.1.1.1.1.1.cmml"><mrow id="S3.p9.7.m7.1.1.1.1.1.2.2" xref="S3.p9.7.m7.1.1.1.1.1.2.3.cmml"><msub id="S3.p9.7.m7.1.1.1.1.1.1.1.1" xref="S3.p9.7.m7.1.1.1.1.1.1.1.1.cmml"><mi id="S3.p9.7.m7.1.1.1.1.1.1.1.1.2" xref="S3.p9.7.m7.1.1.1.1.1.1.1.1.2.cmml">u</mi><mi id="S3.p9.7.m7.1.1.1.1.1.1.1.1.3" xref="S3.p9.7.m7.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.p9.7.m7.1.1.1.1.1.2.2.3" xref="S3.p9.7.m7.1.1.1.1.1.2.3.cmml">,</mo><mrow id="S3.p9.7.m7.1.1.1.1.1.2.2.2" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.cmml"><msub id="S3.p9.7.m7.1.1.1.1.1.2.2.2.2" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.2" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.2.cmml">v</mi><mi id="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.3" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.3.cmml">j</mi></msub><mo fence="false" id="S3.p9.7.m7.1.1.1.1.1.2.2.2.1" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.1.cmml">|</mo><msub id="S3.p9.7.m7.1.1.1.1.1.2.2.2.3" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.cmml"><mi id="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.2" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.2.cmml">u</mi><mi id="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.3" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.3.cmml">i</mi></msub></mrow></mrow><mo id="S3.p9.7.m7.1.1.1.1.1.3" xref="S3.p9.7.m7.1.1.1.1.1.3.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.p9.7.m7.1.1.1.1.1.4" xref="S3.p9.7.m7.1.1.1.1.1.4.cmml">𝒰</mi></mrow><mo id="S3.p9.7.m7.2.2.2.2.3" xref="S3.p9.7.m7.2.2.2.3a.cmml">,</mo><mrow id="S3.p9.7.m7.2.2.2.2.2" xref="S3.p9.7.m7.2.2.2.2.2.cmml"><msub id="S3.p9.7.m7.2.2.2.2.2.2" xref="S3.p9.7.m7.2.2.2.2.2.2.cmml"><mi id="S3.p9.7.m7.2.2.2.2.2.2.2" xref="S3.p9.7.m7.2.2.2.2.2.2.2.cmml">v</mi><mi id="S3.p9.7.m7.2.2.2.2.2.2.3" xref="S3.p9.7.m7.2.2.2.2.2.2.3.cmml">j</mi></msub><mo id="S3.p9.7.m7.2.2.2.2.2.1" xref="S3.p9.7.m7.2.2.2.2.2.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.p9.7.m7.2.2.2.2.2.3" xref="S3.p9.7.m7.2.2.2.2.2.3.cmml">𝒱</mi></mrow></mrow></msub><mo id="S3.p9.7.m7.3.3.1.1.3" stretchy="false" xref="S3.p9.7.m7.3.3.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p9.7.m7.3b"><apply id="S3.p9.7.m7.3.3.cmml" xref="S3.p9.7.m7.3.3"><eq id="S3.p9.7.m7.3.3.2.cmml" xref="S3.p9.7.m7.3.3.2"></eq><ci id="S3.p9.7.m7.3.3.3.cmml" xref="S3.p9.7.m7.3.3.3">𝒴</ci><set id="S3.p9.7.m7.3.3.1.2.cmml" xref="S3.p9.7.m7.3.3.1.1"><apply id="S3.p9.7.m7.3.3.1.1.1.cmml" xref="S3.p9.7.m7.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p9.7.m7.3.3.1.1.1.1.cmml" xref="S3.p9.7.m7.3.3.1.1.1">subscript</csymbol><ci id="S3.p9.7.m7.3.3.1.1.1.2.cmml" xref="S3.p9.7.m7.3.3.1.1.1.2">𝑦</ci><apply id="S3.p9.7.m7.2.2.2.3.cmml" xref="S3.p9.7.m7.2.2.2.2"><csymbol cd="ambiguous" id="S3.p9.7.m7.2.2.2.3a.cmml" xref="S3.p9.7.m7.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.p9.7.m7.1.1.1.1.1.cmml" xref="S3.p9.7.m7.1.1.1.1.1"><in id="S3.p9.7.m7.1.1.1.1.1.3.cmml" xref="S3.p9.7.m7.1.1.1.1.1.3"></in><list id="S3.p9.7.m7.1.1.1.1.1.2.3.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2"><apply id="S3.p9.7.m7.1.1.1.1.1.1.1.1.cmml" xref="S3.p9.7.m7.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p9.7.m7.1.1.1.1.1.1.1.1.1.cmml" xref="S3.p9.7.m7.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p9.7.m7.1.1.1.1.1.1.1.1.2.cmml" xref="S3.p9.7.m7.1.1.1.1.1.1.1.1.2">𝑢</ci><ci id="S3.p9.7.m7.1.1.1.1.1.1.1.1.3.cmml" xref="S3.p9.7.m7.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.p9.7.m7.1.1.1.1.1.2.2.2.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2"><csymbol cd="latexml" id="S3.p9.7.m7.1.1.1.1.1.2.2.2.1.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.1">conditional</csymbol><apply id="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.2">𝑣</ci><ci id="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.2.3">𝑗</ci></apply><apply id="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.1.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.3">subscript</csymbol><ci id="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.2.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.2">𝑢</ci><ci id="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.3.cmml" xref="S3.p9.7.m7.1.1.1.1.1.2.2.2.3.3">𝑖</ci></apply></apply></list><ci id="S3.p9.7.m7.1.1.1.1.1.4.cmml" xref="S3.p9.7.m7.1.1.1.1.1.4">𝒰</ci></apply><apply id="S3.p9.7.m7.2.2.2.2.2.cmml" xref="S3.p9.7.m7.2.2.2.2.2"><in id="S3.p9.7.m7.2.2.2.2.2.1.cmml" xref="S3.p9.7.m7.2.2.2.2.2.1"></in><apply id="S3.p9.7.m7.2.2.2.2.2.2.cmml" xref="S3.p9.7.m7.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p9.7.m7.2.2.2.2.2.2.1.cmml" xref="S3.p9.7.m7.2.2.2.2.2.2">subscript</csymbol><ci id="S3.p9.7.m7.2.2.2.2.2.2.2.cmml" xref="S3.p9.7.m7.2.2.2.2.2.2.2">𝑣</ci><ci id="S3.p9.7.m7.2.2.2.2.2.2.3.cmml" xref="S3.p9.7.m7.2.2.2.2.2.2.3">𝑗</ci></apply><ci id="S3.p9.7.m7.2.2.2.2.2.3.cmml" xref="S3.p9.7.m7.2.2.2.2.2.3">𝒱</ci></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.7.m7.3c">\mathcal{Y}=\{y_{u_{i},v_{j}|u_{i}\in\mathcal{U},v_{j}\in\mathcal{V}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.7.m7.3d">caligraphic_Y = { italic_y start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT | italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_U , italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∈ caligraphic_V end_POSTSUBSCRIPT }</annotation></semantics></math>, where <math alttext="y_{u_{i},v_{j}}=1" class="ltx_Math" display="inline" id="S3.p9.8.m8.2"><semantics id="S3.p9.8.m8.2a"><mrow id="S3.p9.8.m8.2.3" xref="S3.p9.8.m8.2.3.cmml"><msub id="S3.p9.8.m8.2.3.2" xref="S3.p9.8.m8.2.3.2.cmml"><mi id="S3.p9.8.m8.2.3.2.2" xref="S3.p9.8.m8.2.3.2.2.cmml">y</mi><mrow id="S3.p9.8.m8.2.2.2.2" xref="S3.p9.8.m8.2.2.2.3.cmml"><msub id="S3.p9.8.m8.1.1.1.1.1" xref="S3.p9.8.m8.1.1.1.1.1.cmml"><mi id="S3.p9.8.m8.1.1.1.1.1.2" xref="S3.p9.8.m8.1.1.1.1.1.2.cmml">u</mi><mi id="S3.p9.8.m8.1.1.1.1.1.3" xref="S3.p9.8.m8.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.p9.8.m8.2.2.2.2.3" xref="S3.p9.8.m8.2.2.2.3.cmml">,</mo><msub id="S3.p9.8.m8.2.2.2.2.2" xref="S3.p9.8.m8.2.2.2.2.2.cmml"><mi id="S3.p9.8.m8.2.2.2.2.2.2" xref="S3.p9.8.m8.2.2.2.2.2.2.cmml">v</mi><mi id="S3.p9.8.m8.2.2.2.2.2.3" xref="S3.p9.8.m8.2.2.2.2.2.3.cmml">j</mi></msub></mrow></msub><mo id="S3.p9.8.m8.2.3.1" xref="S3.p9.8.m8.2.3.1.cmml">=</mo><mn id="S3.p9.8.m8.2.3.3" xref="S3.p9.8.m8.2.3.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p9.8.m8.2b"><apply id="S3.p9.8.m8.2.3.cmml" xref="S3.p9.8.m8.2.3"><eq id="S3.p9.8.m8.2.3.1.cmml" xref="S3.p9.8.m8.2.3.1"></eq><apply id="S3.p9.8.m8.2.3.2.cmml" xref="S3.p9.8.m8.2.3.2"><csymbol cd="ambiguous" id="S3.p9.8.m8.2.3.2.1.cmml" xref="S3.p9.8.m8.2.3.2">subscript</csymbol><ci id="S3.p9.8.m8.2.3.2.2.cmml" xref="S3.p9.8.m8.2.3.2.2">𝑦</ci><list id="S3.p9.8.m8.2.2.2.3.cmml" xref="S3.p9.8.m8.2.2.2.2"><apply id="S3.p9.8.m8.1.1.1.1.1.cmml" xref="S3.p9.8.m8.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p9.8.m8.1.1.1.1.1.1.cmml" xref="S3.p9.8.m8.1.1.1.1.1">subscript</csymbol><ci id="S3.p9.8.m8.1.1.1.1.1.2.cmml" xref="S3.p9.8.m8.1.1.1.1.1.2">𝑢</ci><ci id="S3.p9.8.m8.1.1.1.1.1.3.cmml" xref="S3.p9.8.m8.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.p9.8.m8.2.2.2.2.2.cmml" xref="S3.p9.8.m8.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p9.8.m8.2.2.2.2.2.1.cmml" xref="S3.p9.8.m8.2.2.2.2.2">subscript</csymbol><ci id="S3.p9.8.m8.2.2.2.2.2.2.cmml" xref="S3.p9.8.m8.2.2.2.2.2.2">𝑣</ci><ci id="S3.p9.8.m8.2.2.2.2.2.3.cmml" xref="S3.p9.8.m8.2.2.2.2.2.3">𝑗</ci></apply></list></apply><cn id="S3.p9.8.m8.2.3.3.cmml" type="integer" xref="S3.p9.8.m8.2.3.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.8.m8.2c">y_{u_{i},v_{j}}=1</annotation><annotation encoding="application/x-llamapun" id="S3.p9.8.m8.2d">italic_y start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT = 1</annotation></semantics></math> if <math alttext="u_{i}" class="ltx_Math" display="inline" id="S3.p9.9.m9.1"><semantics id="S3.p9.9.m9.1a"><msub id="S3.p9.9.m9.1.1" xref="S3.p9.9.m9.1.1.cmml"><mi id="S3.p9.9.m9.1.1.2" xref="S3.p9.9.m9.1.1.2.cmml">u</mi><mi id="S3.p9.9.m9.1.1.3" xref="S3.p9.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p9.9.m9.1b"><apply id="S3.p9.9.m9.1.1.cmml" xref="S3.p9.9.m9.1.1"><csymbol cd="ambiguous" id="S3.p9.9.m9.1.1.1.cmml" xref="S3.p9.9.m9.1.1">subscript</csymbol><ci id="S3.p9.9.m9.1.1.2.cmml" xref="S3.p9.9.m9.1.1.2">𝑢</ci><ci id="S3.p9.9.m9.1.1.3.cmml" xref="S3.p9.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.9.m9.1c">u_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.9.m9.1d">italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> has ever purchased <math alttext="v_{j}" class="ltx_Math" display="inline" id="S3.p9.10.m10.1"><semantics id="S3.p9.10.m10.1a"><msub id="S3.p9.10.m10.1.1" xref="S3.p9.10.m10.1.1.cmml"><mi id="S3.p9.10.m10.1.1.2" xref="S3.p9.10.m10.1.1.2.cmml">v</mi><mi id="S3.p9.10.m10.1.1.3" xref="S3.p9.10.m10.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p9.10.m10.1b"><apply id="S3.p9.10.m10.1.1.cmml" xref="S3.p9.10.m10.1.1"><csymbol cd="ambiguous" id="S3.p9.10.m10.1.1.1.cmml" xref="S3.p9.10.m10.1.1">subscript</csymbol><ci id="S3.p9.10.m10.1.1.2.cmml" xref="S3.p9.10.m10.1.1.2">𝑣</ci><ci id="S3.p9.10.m10.1.1.3.cmml" xref="S3.p9.10.m10.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.10.m10.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.10.m10.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> and 0 others. Now given a consumer <math alttext="u_{i}" class="ltx_Math" display="inline" id="S3.p9.11.m11.1"><semantics id="S3.p9.11.m11.1a"><msub id="S3.p9.11.m11.1.1" xref="S3.p9.11.m11.1.1.cmml"><mi id="S3.p9.11.m11.1.1.2" xref="S3.p9.11.m11.1.1.2.cmml">u</mi><mi id="S3.p9.11.m11.1.1.3" xref="S3.p9.11.m11.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p9.11.m11.1b"><apply id="S3.p9.11.m11.1.1.cmml" xref="S3.p9.11.m11.1.1"><csymbol cd="ambiguous" id="S3.p9.11.m11.1.1.1.cmml" xref="S3.p9.11.m11.1.1">subscript</csymbol><ci id="S3.p9.11.m11.1.1.2.cmml" xref="S3.p9.11.m11.1.1.2">𝑢</ci><ci id="S3.p9.11.m11.1.1.3.cmml" xref="S3.p9.11.m11.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.11.m11.1c">u_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.11.m11.1d">italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and a candidate product <math alttext="v_{j}" class="ltx_Math" display="inline" id="S3.p9.12.m12.1"><semantics id="S3.p9.12.m12.1a"><msub id="S3.p9.12.m12.1.1" xref="S3.p9.12.m12.1.1.cmml"><mi id="S3.p9.12.m12.1.1.2" xref="S3.p9.12.m12.1.1.2.cmml">v</mi><mi id="S3.p9.12.m12.1.1.3" xref="S3.p9.12.m12.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p9.12.m12.1b"><apply id="S3.p9.12.m12.1.1.cmml" xref="S3.p9.12.m12.1.1"><csymbol cd="ambiguous" id="S3.p9.12.m12.1.1.1.cmml" xref="S3.p9.12.m12.1.1">subscript</csymbol><ci id="S3.p9.12.m12.1.1.2.cmml" xref="S3.p9.12.m12.1.1.2">𝑣</ci><ci id="S3.p9.12.m12.1.1.3.cmml" xref="S3.p9.12.m12.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.12.m12.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.12.m12.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> with unknown <math alttext="y_{u_{i},v_{j}}" class="ltx_Math" display="inline" id="S3.p9.13.m13.2"><semantics id="S3.p9.13.m13.2a"><msub id="S3.p9.13.m13.2.3" xref="S3.p9.13.m13.2.3.cmml"><mi id="S3.p9.13.m13.2.3.2" xref="S3.p9.13.m13.2.3.2.cmml">y</mi><mrow id="S3.p9.13.m13.2.2.2.2" xref="S3.p9.13.m13.2.2.2.3.cmml"><msub id="S3.p9.13.m13.1.1.1.1.1" xref="S3.p9.13.m13.1.1.1.1.1.cmml"><mi id="S3.p9.13.m13.1.1.1.1.1.2" xref="S3.p9.13.m13.1.1.1.1.1.2.cmml">u</mi><mi id="S3.p9.13.m13.1.1.1.1.1.3" xref="S3.p9.13.m13.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.p9.13.m13.2.2.2.2.3" xref="S3.p9.13.m13.2.2.2.3.cmml">,</mo><msub id="S3.p9.13.m13.2.2.2.2.2" xref="S3.p9.13.m13.2.2.2.2.2.cmml"><mi id="S3.p9.13.m13.2.2.2.2.2.2" xref="S3.p9.13.m13.2.2.2.2.2.2.cmml">v</mi><mi id="S3.p9.13.m13.2.2.2.2.2.3" xref="S3.p9.13.m13.2.2.2.2.2.3.cmml">j</mi></msub></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p9.13.m13.2b"><apply id="S3.p9.13.m13.2.3.cmml" xref="S3.p9.13.m13.2.3"><csymbol cd="ambiguous" id="S3.p9.13.m13.2.3.1.cmml" xref="S3.p9.13.m13.2.3">subscript</csymbol><ci id="S3.p9.13.m13.2.3.2.cmml" xref="S3.p9.13.m13.2.3.2">𝑦</ci><list id="S3.p9.13.m13.2.2.2.3.cmml" xref="S3.p9.13.m13.2.2.2.2"><apply id="S3.p9.13.m13.1.1.1.1.1.cmml" xref="S3.p9.13.m13.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p9.13.m13.1.1.1.1.1.1.cmml" xref="S3.p9.13.m13.1.1.1.1.1">subscript</csymbol><ci id="S3.p9.13.m13.1.1.1.1.1.2.cmml" xref="S3.p9.13.m13.1.1.1.1.1.2">𝑢</ci><ci id="S3.p9.13.m13.1.1.1.1.1.3.cmml" xref="S3.p9.13.m13.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.p9.13.m13.2.2.2.2.2.cmml" xref="S3.p9.13.m13.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.p9.13.m13.2.2.2.2.2.1.cmml" xref="S3.p9.13.m13.2.2.2.2.2">subscript</csymbol><ci id="S3.p9.13.m13.2.2.2.2.2.2.cmml" xref="S3.p9.13.m13.2.2.2.2.2.2">𝑣</ci><ci id="S3.p9.13.m13.2.2.2.2.2.3.cmml" xref="S3.p9.13.m13.2.2.2.2.2.3">𝑗</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.13.m13.2c">y_{u_{i},v_{j}}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.13.m13.2d">italic_y start_POSTSUBSCRIPT italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>, the task is to estimate <math alttext="u_{i}" class="ltx_Math" display="inline" id="S3.p9.14.m14.1"><semantics id="S3.p9.14.m14.1a"><msub id="S3.p9.14.m14.1.1" xref="S3.p9.14.m14.1.1.cmml"><mi id="S3.p9.14.m14.1.1.2" xref="S3.p9.14.m14.1.1.2.cmml">u</mi><mi id="S3.p9.14.m14.1.1.3" xref="S3.p9.14.m14.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p9.14.m14.1b"><apply id="S3.p9.14.m14.1.1.cmml" xref="S3.p9.14.m14.1.1"><csymbol cd="ambiguous" id="S3.p9.14.m14.1.1.1.cmml" xref="S3.p9.14.m14.1.1">subscript</csymbol><ci id="S3.p9.14.m14.1.1.2.cmml" xref="S3.p9.14.m14.1.1.2">𝑢</ci><ci id="S3.p9.14.m14.1.1.3.cmml" xref="S3.p9.14.m14.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.14.m14.1c">u_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.14.m14.1d">italic_u start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>’s reference-dependent preference (utility) toward <math alttext="v_{j}" class="ltx_Math" display="inline" id="S3.p9.15.m15.1"><semantics id="S3.p9.15.m15.1a"><msub id="S3.p9.15.m15.1.1" xref="S3.p9.15.m15.1.1.cmml"><mi id="S3.p9.15.m15.1.1.2" xref="S3.p9.15.m15.1.1.2.cmml">v</mi><mi id="S3.p9.15.m15.1.1.3" xref="S3.p9.15.m15.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p9.15.m15.1b"><apply id="S3.p9.15.m15.1.1.cmml" xref="S3.p9.15.m15.1.1"><csymbol cd="ambiguous" id="S3.p9.15.m15.1.1.1.cmml" xref="S3.p9.15.m15.1.1">subscript</csymbol><ci id="S3.p9.15.m15.1.1.2.cmml" xref="S3.p9.15.m15.1.1.2">𝑣</ci><ci id="S3.p9.15.m15.1.1.3.cmml" xref="S3.p9.15.m15.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.15.m15.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.p9.15.m15.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> for personalized recommendation, where both the interest-inspired and price-inspired preferences should be retrieved from the ARNs at the attribute level and integrated for preference learning.
  <math alttext="\blacksquare" class="ltx_Math" display="inline" id="S3.p9.16.m16.1"><semantics id="S3.p9.16.m16.1a"><mi id="S3.p9.16.m16.1.1" mathvariant="normal" xref="S3.p9.16.m16.1.1.cmml">■</mi><annotation-xml encoding="MathML-Content" id="S3.p9.16.m16.1b"><ci id="S3.p9.16.m16.1.1.cmml" xref="S3.p9.16.m16.1.1">■</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p9.16.m16.1c">\blacksquare</annotation><annotation encoding="application/x-llamapun" id="S3.p9.16.m16.1d">■</annotation></semantics></math></p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Reference-dependent Choice Model for Recommendation</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we propose a reference-dependent choice model for personalized product recommendation. Our model addresses two pivotal issues that are pertinent to consumer choices, <em class="ltx_emph ltx_font_italic" id="S4.p1.1.1">i.e.</em>, how to identify suitable reference points for each consumer regarding a target product, and how to construct consumers’ reference-dependent utilities based on the reference points. In what follows, we first summarize the overall logic and the key modules of our model (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.F2" title="Figure 2 ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">2</span></a>).</p>
</div>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.1">As discussed in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3" title="3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">3</span></a>, the intuitive reference points for a consumer contain influences from both her historically purchased products and the crowd’s preferential information at the attribute level. To model the crowd’s preferential information, various ARNs are constructed upon the historical purchases of the crowds, and the product representations in a manifold space can then be derived through Graph Neural Networks (GNN), which together with a consumer’s own purchase history can quantify the attribute-level reference points. Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.F2" title="Figure 2 ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">2</span></a>(b) shows the module for product representation learning on ARNs, with the technical details presented in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS1" title="4.1 Product Representation Learning in Attributed Reference Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4.1</span></a>.</p>
</div>
<div class="ltx_para" id="S4.p3">
<p class="ltx_p" id="S4.p3.1">We then calculate consumers’ reference-dependent utilities by leveraging these attribute-level reference points and prices. Specifically, we decompose the utility into interest-inspired and price-inspired preferences, to account for the two major gauges in consumer choices, which can then be modeled by deep neural networks.
To assemble the attribute-level reference-dependent utilities into an integrated one, we design an Attribute-level Willingness-To-Pay (AWTP) measure in favor of product attributes that determine the price tolerance of the consumer towards the target product. Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.F2" title="Figure 2 ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">2</span></a>(c) depicts the module for modeling a consumer’s reference-dependent utility, with the technical details given in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS2" title="4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4.2</span></a>.</p>
</div>
<div class="ltx_para" id="S4.p4">
<p class="ltx_p" id="S4.p4.1">We finally integrate the reference-dependent utility computation into the Bayesian Personalized Ranking (BPR) framework for an end-to-end model training, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.F2" title="Figure 2 ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">2</span></a>(d) and Section <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS3" title="4.3 Ranking-based Recommendation and Model Optimization ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4.3</span></a>. We name the whole model architecture in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.F2" title="Figure 2 ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">2</span></a> as <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.p4.1.1">A</span>ttributed <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.p4.1.2">R</span>eference-dependent <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.p4.1.3">C</span>hoice Model for <span class="ltx_text ltx_framed ltx_framed_underline" id="S4.p4.1.4">Rec</span>ommendation (<em class="ltx_emph ltx_font_italic" id="S4.p4.1.5">ArcRec</em>). The process of utilizing <em class="ltx_emph ltx_font_italic" id="S4.p4.1.6">ArcRec</em> for product recommendation generation and its capability of addressing cold-start issues are introduced in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.SS4" title="4.4 Product Recommendation Generation ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4.4</span></a>.</p>
</div>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="474" id="S4.F2.g1" src="x2.png" width="822"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The architecture of <em class="ltx_emph ltx_font_italic" id="S4.F2.2.1">ArcRec</em>.</figcaption>
</figure>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Product Representation Learning in Attributed Reference Network</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">ARNs are capable of capturing the various ways in which products are connected and referred based on different attributes. Traditional network representation methods such as DeepWalk <cite class="ltx_cite ltx_citemacro_citep">(Perozzi et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib65" title="">2014</a>)</cite>, node2vec <cite class="ltx_cite ltx_citemacro_citep">(Grover and Leskovec, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib23" title="">2016</a>)</cite>, <em class="ltx_emph ltx_font_italic" id="S4.SS1.p1.1.1">etc.</em>, can map nodes into a low-dimensional representation space. However, these methods rarely address higher-order relations between nodes and therefore hardly retain the transitivity of network structures, resulting in information loss. We here propose to use Graph Neural Network (GNN) <cite class="ltx_cite ltx_citemacro_citep">(Welling and Kipf, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib90" title="">2016</a>, Veličković et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib79" title="">2017</a>)</cite>, a widely used deep learning framework, to preserve network structural properties effectively <cite class="ltx_cite ltx_citemacro_citep">(Wu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib92" title="">2020</a>)</cite>. The underlying principle of GNN is to perform message passing and aggregation between adjacent nodes in the network, enabling the iterative and adaptive propagation of high-order information across the network. In this regard, we can treat reference relations between products as messages that propagate in the networks.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.15">We first define node embeddings for each ARN. Specifically, we introduce an embedding layer to encode each product node <math alttext="v_{i}\in\mathcal{V}" class="ltx_Math" display="inline" id="S4.SS1.p2.1.m1.1"><semantics id="S4.SS1.p2.1.m1.1a"><mrow id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><msub id="S4.SS1.p2.1.m1.1.1.2" xref="S4.SS1.p2.1.m1.1.1.2.cmml"><mi id="S4.SS1.p2.1.m1.1.1.2.2" xref="S4.SS1.p2.1.m1.1.1.2.2.cmml">v</mi><mi id="S4.SS1.p2.1.m1.1.1.2.3" xref="S4.SS1.p2.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S4.SS1.p2.1.m1.1.1.1" xref="S4.SS1.p2.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.1.m1.1.1.3" xref="S4.SS1.p2.1.m1.1.1.3.cmml">𝒱</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><in id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1.1"></in><apply id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.1.1.2.1.cmml" xref="S4.SS1.p2.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS1.p2.1.m1.1.1.2.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2.2">𝑣</ci><ci id="S4.SS1.p2.1.m1.1.1.2.3.cmml" xref="S4.SS1.p2.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S4.SS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.p2.1.m1.1.1.3">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">v_{i}\in\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.1.m1.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_V</annotation></semantics></math> in the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS1.p2.2.m2.1"><semantics id="S4.SS1.p2.2.m2.1a"><mi id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><ci id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.2.m2.1d">italic_k</annotation></semantics></math>-th ARN <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p2.3.m3.1"><semantics id="S4.SS1.p2.3.m3.1a"><msup id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.3.m3.1.1.2" xref="S4.SS1.p2.3.m3.1.1.2.cmml">𝒢</mi><mi id="S4.SS1.p2.3.m3.1.1.3" xref="S4.SS1.p2.3.m3.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.1b"><apply id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.3.m3.1.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1">superscript</csymbol><ci id="S4.SS1.p2.3.m3.1.1.2.cmml" xref="S4.SS1.p2.3.m3.1.1.2">𝒢</ci><ci id="S4.SS1.p2.3.m3.1.1.3.cmml" xref="S4.SS1.p2.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.3.m3.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> with a <math alttext="d" class="ltx_Math" display="inline" id="S4.SS1.p2.4.m4.1"><semantics id="S4.SS1.p2.4.m4.1a"><mi id="S4.SS1.p2.4.m4.1.1" xref="S4.SS1.p2.4.m4.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.4.m4.1b"><ci id="S4.SS1.p2.4.m4.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.4.m4.1c">d</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.4.m4.1d">italic_d</annotation></semantics></math>-dimensional embedding vector <math alttext="\mathbf{e}_{i}^{k}\in\mathbb{R}^{d}" class="ltx_Math" display="inline" id="S4.SS1.p2.5.m5.1"><semantics id="S4.SS1.p2.5.m5.1a"><mrow id="S4.SS1.p2.5.m5.1.1" xref="S4.SS1.p2.5.m5.1.1.cmml"><msubsup id="S4.SS1.p2.5.m5.1.1.2" xref="S4.SS1.p2.5.m5.1.1.2.cmml"><mi id="S4.SS1.p2.5.m5.1.1.2.2.2" xref="S4.SS1.p2.5.m5.1.1.2.2.2.cmml">𝐞</mi><mi id="S4.SS1.p2.5.m5.1.1.2.2.3" xref="S4.SS1.p2.5.m5.1.1.2.2.3.cmml">i</mi><mi id="S4.SS1.p2.5.m5.1.1.2.3" xref="S4.SS1.p2.5.m5.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.SS1.p2.5.m5.1.1.1" xref="S4.SS1.p2.5.m5.1.1.1.cmml">∈</mo><msup id="S4.SS1.p2.5.m5.1.1.3" xref="S4.SS1.p2.5.m5.1.1.3.cmml"><mi id="S4.SS1.p2.5.m5.1.1.3.2" xref="S4.SS1.p2.5.m5.1.1.3.2.cmml">ℝ</mi><mi id="S4.SS1.p2.5.m5.1.1.3.3" xref="S4.SS1.p2.5.m5.1.1.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.5.m5.1b"><apply id="S4.SS1.p2.5.m5.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1"><in id="S4.SS1.p2.5.m5.1.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1.1"></in><apply id="S4.SS1.p2.5.m5.1.1.2.cmml" xref="S4.SS1.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p2.5.m5.1.1.2.1.cmml" xref="S4.SS1.p2.5.m5.1.1.2">superscript</csymbol><apply id="S4.SS1.p2.5.m5.1.1.2.2.cmml" xref="S4.SS1.p2.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p2.5.m5.1.1.2.2.1.cmml" xref="S4.SS1.p2.5.m5.1.1.2">subscript</csymbol><ci id="S4.SS1.p2.5.m5.1.1.2.2.2.cmml" xref="S4.SS1.p2.5.m5.1.1.2.2.2">𝐞</ci><ci id="S4.SS1.p2.5.m5.1.1.2.2.3.cmml" xref="S4.SS1.p2.5.m5.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS1.p2.5.m5.1.1.2.3.cmml" xref="S4.SS1.p2.5.m5.1.1.2.3">𝑘</ci></apply><apply id="S4.SS1.p2.5.m5.1.1.3.cmml" xref="S4.SS1.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p2.5.m5.1.1.3.1.cmml" xref="S4.SS1.p2.5.m5.1.1.3">superscript</csymbol><ci id="S4.SS1.p2.5.m5.1.1.3.2.cmml" xref="S4.SS1.p2.5.m5.1.1.3.2">ℝ</ci><ci id="S4.SS1.p2.5.m5.1.1.3.3.cmml" xref="S4.SS1.p2.5.m5.1.1.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.5.m5.1c">\mathbf{e}_{i}^{k}\in\mathbb{R}^{d}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.5.m5.1d">bold_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ∈ blackboard_R start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT</annotation></semantics></math>, <math alttext="d\ll|\mathcal{V}|" class="ltx_Math" display="inline" id="S4.SS1.p2.6.m6.1"><semantics id="S4.SS1.p2.6.m6.1a"><mrow id="S4.SS1.p2.6.m6.1.2" xref="S4.SS1.p2.6.m6.1.2.cmml"><mi id="S4.SS1.p2.6.m6.1.2.2" xref="S4.SS1.p2.6.m6.1.2.2.cmml">d</mi><mo id="S4.SS1.p2.6.m6.1.2.1" xref="S4.SS1.p2.6.m6.1.2.1.cmml">≪</mo><mrow id="S4.SS1.p2.6.m6.1.2.3.2" xref="S4.SS1.p2.6.m6.1.2.3.1.cmml"><mo id="S4.SS1.p2.6.m6.1.2.3.2.1" stretchy="false" xref="S4.SS1.p2.6.m6.1.2.3.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.6.m6.1.1" xref="S4.SS1.p2.6.m6.1.1.cmml">𝒱</mi><mo id="S4.SS1.p2.6.m6.1.2.3.2.2" stretchy="false" xref="S4.SS1.p2.6.m6.1.2.3.1.1.cmml">|</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.6.m6.1b"><apply id="S4.SS1.p2.6.m6.1.2.cmml" xref="S4.SS1.p2.6.m6.1.2"><csymbol cd="latexml" id="S4.SS1.p2.6.m6.1.2.1.cmml" xref="S4.SS1.p2.6.m6.1.2.1">much-less-than</csymbol><ci id="S4.SS1.p2.6.m6.1.2.2.cmml" xref="S4.SS1.p2.6.m6.1.2.2">𝑑</ci><apply id="S4.SS1.p2.6.m6.1.2.3.1.cmml" xref="S4.SS1.p2.6.m6.1.2.3.2"><abs id="S4.SS1.p2.6.m6.1.2.3.1.1.cmml" xref="S4.SS1.p2.6.m6.1.2.3.2.1"></abs><ci id="S4.SS1.p2.6.m6.1.1.cmml" xref="S4.SS1.p2.6.m6.1.1">𝒱</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.6.m6.1c">d\ll|\mathcal{V}|</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.6.m6.1d">italic_d ≪ | caligraphic_V |</annotation></semantics></math>. Here, an embedding layer is a special MLP layer without bias and non-linear activation function, and <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p2.7.m7.1"><semantics id="S4.SS1.p2.7.m7.1a"><msup id="S4.SS1.p2.7.m7.1.1" xref="S4.SS1.p2.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p2.7.m7.1.1.2" xref="S4.SS1.p2.7.m7.1.1.2.cmml">𝒢</mi><mi id="S4.SS1.p2.7.m7.1.1.3" xref="S4.SS1.p2.7.m7.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.7.m7.1b"><apply id="S4.SS1.p2.7.m7.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.7.m7.1.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1">superscript</csymbol><ci id="S4.SS1.p2.7.m7.1.1.2.cmml" xref="S4.SS1.p2.7.m7.1.1.2">𝒢</ci><ci id="S4.SS1.p2.7.m7.1.1.3.cmml" xref="S4.SS1.p2.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.7.m7.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.7.m7.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> is denoted as an adjacency matrix <math alttext="\mathbf{S}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p2.8.m8.1"><semantics id="S4.SS1.p2.8.m8.1a"><msup id="S4.SS1.p2.8.m8.1.1" xref="S4.SS1.p2.8.m8.1.1.cmml"><mi id="S4.SS1.p2.8.m8.1.1.2" xref="S4.SS1.p2.8.m8.1.1.2.cmml">𝐒</mi><mi id="S4.SS1.p2.8.m8.1.1.3" xref="S4.SS1.p2.8.m8.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.8.m8.1b"><apply id="S4.SS1.p2.8.m8.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.8.m8.1.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1">superscript</csymbol><ci id="S4.SS1.p2.8.m8.1.1.2.cmml" xref="S4.SS1.p2.8.m8.1.1.2">𝐒</ci><ci id="S4.SS1.p2.8.m8.1.1.3.cmml" xref="S4.SS1.p2.8.m8.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.8.m8.1c">\mathbf{S}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.8.m8.1d">bold_S start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>, where <math alttext="s_{i,j}^{k}=1" class="ltx_Math" display="inline" id="S4.SS1.p2.9.m9.2"><semantics id="S4.SS1.p2.9.m9.2a"><mrow id="S4.SS1.p2.9.m9.2.3" xref="S4.SS1.p2.9.m9.2.3.cmml"><msubsup id="S4.SS1.p2.9.m9.2.3.2" xref="S4.SS1.p2.9.m9.2.3.2.cmml"><mi id="S4.SS1.p2.9.m9.2.3.2.2.2" xref="S4.SS1.p2.9.m9.2.3.2.2.2.cmml">s</mi><mrow id="S4.SS1.p2.9.m9.2.2.2.4" xref="S4.SS1.p2.9.m9.2.2.2.3.cmml"><mi id="S4.SS1.p2.9.m9.1.1.1.1" xref="S4.SS1.p2.9.m9.1.1.1.1.cmml">i</mi><mo id="S4.SS1.p2.9.m9.2.2.2.4.1" xref="S4.SS1.p2.9.m9.2.2.2.3.cmml">,</mo><mi id="S4.SS1.p2.9.m9.2.2.2.2" xref="S4.SS1.p2.9.m9.2.2.2.2.cmml">j</mi></mrow><mi id="S4.SS1.p2.9.m9.2.3.2.3" xref="S4.SS1.p2.9.m9.2.3.2.3.cmml">k</mi></msubsup><mo id="S4.SS1.p2.9.m9.2.3.1" xref="S4.SS1.p2.9.m9.2.3.1.cmml">=</mo><mn id="S4.SS1.p2.9.m9.2.3.3" xref="S4.SS1.p2.9.m9.2.3.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.9.m9.2b"><apply id="S4.SS1.p2.9.m9.2.3.cmml" xref="S4.SS1.p2.9.m9.2.3"><eq id="S4.SS1.p2.9.m9.2.3.1.cmml" xref="S4.SS1.p2.9.m9.2.3.1"></eq><apply id="S4.SS1.p2.9.m9.2.3.2.cmml" xref="S4.SS1.p2.9.m9.2.3.2"><csymbol cd="ambiguous" id="S4.SS1.p2.9.m9.2.3.2.1.cmml" xref="S4.SS1.p2.9.m9.2.3.2">superscript</csymbol><apply id="S4.SS1.p2.9.m9.2.3.2.2.cmml" xref="S4.SS1.p2.9.m9.2.3.2"><csymbol cd="ambiguous" id="S4.SS1.p2.9.m9.2.3.2.2.1.cmml" xref="S4.SS1.p2.9.m9.2.3.2">subscript</csymbol><ci id="S4.SS1.p2.9.m9.2.3.2.2.2.cmml" xref="S4.SS1.p2.9.m9.2.3.2.2.2">𝑠</ci><list id="S4.SS1.p2.9.m9.2.2.2.3.cmml" xref="S4.SS1.p2.9.m9.2.2.2.4"><ci id="S4.SS1.p2.9.m9.1.1.1.1.cmml" xref="S4.SS1.p2.9.m9.1.1.1.1">𝑖</ci><ci id="S4.SS1.p2.9.m9.2.2.2.2.cmml" xref="S4.SS1.p2.9.m9.2.2.2.2">𝑗</ci></list></apply><ci id="S4.SS1.p2.9.m9.2.3.2.3.cmml" xref="S4.SS1.p2.9.m9.2.3.2.3">𝑘</ci></apply><cn id="S4.SS1.p2.9.m9.2.3.3.cmml" type="integer" xref="S4.SS1.p2.9.m9.2.3.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.9.m9.2c">s_{i,j}^{k}=1</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.9.m9.2d">italic_s start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT = 1</annotation></semantics></math> if products <math alttext="v_{i}" class="ltx_Math" display="inline" id="S4.SS1.p2.10.m10.1"><semantics id="S4.SS1.p2.10.m10.1a"><msub id="S4.SS1.p2.10.m10.1.1" xref="S4.SS1.p2.10.m10.1.1.cmml"><mi id="S4.SS1.p2.10.m10.1.1.2" xref="S4.SS1.p2.10.m10.1.1.2.cmml">v</mi><mi id="S4.SS1.p2.10.m10.1.1.3" xref="S4.SS1.p2.10.m10.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.10.m10.1b"><apply id="S4.SS1.p2.10.m10.1.1.cmml" xref="S4.SS1.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.10.m10.1.1.1.cmml" xref="S4.SS1.p2.10.m10.1.1">subscript</csymbol><ci id="S4.SS1.p2.10.m10.1.1.2.cmml" xref="S4.SS1.p2.10.m10.1.1.2">𝑣</ci><ci id="S4.SS1.p2.10.m10.1.1.3.cmml" xref="S4.SS1.p2.10.m10.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.10.m10.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.10.m10.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="v_{j}" class="ltx_Math" display="inline" id="S4.SS1.p2.11.m11.1"><semantics id="S4.SS1.p2.11.m11.1a"><msub id="S4.SS1.p2.11.m11.1.1" xref="S4.SS1.p2.11.m11.1.1.cmml"><mi id="S4.SS1.p2.11.m11.1.1.2" xref="S4.SS1.p2.11.m11.1.1.2.cmml">v</mi><mi id="S4.SS1.p2.11.m11.1.1.3" xref="S4.SS1.p2.11.m11.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.11.m11.1b"><apply id="S4.SS1.p2.11.m11.1.1.cmml" xref="S4.SS1.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.11.m11.1.1.1.cmml" xref="S4.SS1.p2.11.m11.1.1">subscript</csymbol><ci id="S4.SS1.p2.11.m11.1.1.2.cmml" xref="S4.SS1.p2.11.m11.1.1.2">𝑣</ci><ci id="S4.SS1.p2.11.m11.1.1.3.cmml" xref="S4.SS1.p2.11.m11.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.11.m11.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.11.m11.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> have been co-purchased and have a same level of attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS1.p2.12.m12.1"><semantics id="S4.SS1.p2.12.m12.1a"><mi id="S4.SS1.p2.12.m12.1.1" xref="S4.SS1.p2.12.m12.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.12.m12.1b"><ci id="S4.SS1.p2.12.m12.1.1.cmml" xref="S4.SS1.p2.12.m12.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.12.m12.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.12.m12.1d">italic_k</annotation></semantics></math> and 0 otherwise. It is worth noting that <math alttext="\mathbf{S}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p2.13.m13.1"><semantics id="S4.SS1.p2.13.m13.1a"><msup id="S4.SS1.p2.13.m13.1.1" xref="S4.SS1.p2.13.m13.1.1.cmml"><mi id="S4.SS1.p2.13.m13.1.1.2" xref="S4.SS1.p2.13.m13.1.1.2.cmml">𝐒</mi><mi id="S4.SS1.p2.13.m13.1.1.3" xref="S4.SS1.p2.13.m13.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.13.m13.1b"><apply id="S4.SS1.p2.13.m13.1.1.cmml" xref="S4.SS1.p2.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.13.m13.1.1.1.cmml" xref="S4.SS1.p2.13.m13.1.1">superscript</csymbol><ci id="S4.SS1.p2.13.m13.1.1.2.cmml" xref="S4.SS1.p2.13.m13.1.1.2">𝐒</ci><ci id="S4.SS1.p2.13.m13.1.1.3.cmml" xref="S4.SS1.p2.13.m13.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.13.m13.1c">\mathbf{S}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.13.m13.1d">bold_S start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> is not necessarily a binary matrix but can be a real-valued one if we prefer weighted edges, <em class="ltx_emph ltx_font_italic" id="S4.SS1.p2.15.1">e.g.</em>, using the frequency of a product pair’s co-purchases. Given <math alttext="\mathbf{S}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p2.14.m14.1"><semantics id="S4.SS1.p2.14.m14.1a"><msup id="S4.SS1.p2.14.m14.1.1" xref="S4.SS1.p2.14.m14.1.1.cmml"><mi id="S4.SS1.p2.14.m14.1.1.2" xref="S4.SS1.p2.14.m14.1.1.2.cmml">𝐒</mi><mi id="S4.SS1.p2.14.m14.1.1.3" xref="S4.SS1.p2.14.m14.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.14.m14.1b"><apply id="S4.SS1.p2.14.m14.1.1.cmml" xref="S4.SS1.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.14.m14.1.1.1.cmml" xref="S4.SS1.p2.14.m14.1.1">superscript</csymbol><ci id="S4.SS1.p2.14.m14.1.1.2.cmml" xref="S4.SS1.p2.14.m14.1.1.2">𝐒</ci><ci id="S4.SS1.p2.14.m14.1.1.3.cmml" xref="S4.SS1.p2.14.m14.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.14.m14.1c">\mathbf{S}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.14.m14.1d">bold_S start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> for each attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS1.p2.15.m15.1"><semantics id="S4.SS1.p2.15.m15.1a"><mi id="S4.SS1.p2.15.m15.1.1" xref="S4.SS1.p2.15.m15.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.15.m15.1b"><ci id="S4.SS1.p2.15.m15.1.1.cmml" xref="S4.SS1.p2.15.m15.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.15.m15.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.15.m15.1d">italic_k</annotation></semantics></math>, we can then perform message passing and aggregation to obtain node representations.</p>
</div>
<div class="ltx_para" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.23"><em class="ltx_emph ltx_font_italic" id="S4.SS1.p3.23.1">Message Passing.</em>
According to the standard procedure of GNN-based models <cite class="ltx_cite ltx_citemacro_citep">(Welling and Kipf, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib90" title="">2016</a>, Veličković et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib79" title="">2017</a>)</cite>, messages will be propagated between connected neighbors to derive the node representations, which can generally be formulated as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{m}_{i\leftarrow j}^{k,(l+1)}=\frac{1}{\sqrt{|\mathcal{N}_{i}^{k}|}%
\sqrt{|\mathcal{N}_{j}^{k}|}}\,\mathbf{h}_{j}^{k,(l)}," class="ltx_Math" display="block" id="S4.E1.m1.8"><semantics id="S4.E1.m1.8a"><mrow id="S4.E1.m1.8.8.1" xref="S4.E1.m1.8.8.1.1.cmml"><mrow id="S4.E1.m1.8.8.1.1" xref="S4.E1.m1.8.8.1.1.cmml"><msubsup id="S4.E1.m1.8.8.1.1.2" xref="S4.E1.m1.8.8.1.1.2.cmml"><mi id="S4.E1.m1.8.8.1.1.2.2.2" xref="S4.E1.m1.8.8.1.1.2.2.2.cmml">𝐦</mi><mrow id="S4.E1.m1.8.8.1.1.2.2.3" xref="S4.E1.m1.8.8.1.1.2.2.3.cmml"><mi id="S4.E1.m1.8.8.1.1.2.2.3.2" xref="S4.E1.m1.8.8.1.1.2.2.3.2.cmml">i</mi><mo id="S4.E1.m1.8.8.1.1.2.2.3.1" stretchy="false" xref="S4.E1.m1.8.8.1.1.2.2.3.1.cmml">←</mo><mi id="S4.E1.m1.8.8.1.1.2.2.3.3" xref="S4.E1.m1.8.8.1.1.2.2.3.3.cmml">j</mi></mrow><mrow id="S4.E1.m1.2.2.2.2" xref="S4.E1.m1.2.2.2.3.cmml"><mi id="S4.E1.m1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.cmml">k</mi><mo id="S4.E1.m1.2.2.2.2.2" xref="S4.E1.m1.2.2.2.3.cmml">,</mo><mrow id="S4.E1.m1.2.2.2.2.1.1" xref="S4.E1.m1.2.2.2.2.1.1.1.cmml"><mo id="S4.E1.m1.2.2.2.2.1.1.2" stretchy="false" xref="S4.E1.m1.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.E1.m1.2.2.2.2.1.1.1" xref="S4.E1.m1.2.2.2.2.1.1.1.cmml"><mi id="S4.E1.m1.2.2.2.2.1.1.1.2" xref="S4.E1.m1.2.2.2.2.1.1.1.2.cmml">l</mi><mo id="S4.E1.m1.2.2.2.2.1.1.1.1" xref="S4.E1.m1.2.2.2.2.1.1.1.1.cmml">+</mo><mn id="S4.E1.m1.2.2.2.2.1.1.1.3" xref="S4.E1.m1.2.2.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S4.E1.m1.2.2.2.2.1.1.3" stretchy="false" xref="S4.E1.m1.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></msubsup><mo id="S4.E1.m1.8.8.1.1.1" xref="S4.E1.m1.8.8.1.1.1.cmml">=</mo><mrow id="S4.E1.m1.8.8.1.1.3" xref="S4.E1.m1.8.8.1.1.3.cmml"><mfrac id="S4.E1.m1.4.4" xref="S4.E1.m1.4.4.cmml"><mn id="S4.E1.m1.4.4.4" xref="S4.E1.m1.4.4.4.cmml">1</mn><mrow id="S4.E1.m1.4.4.2" xref="S4.E1.m1.4.4.2.cmml"><msqrt id="S4.E1.m1.3.3.1.1" xref="S4.E1.m1.3.3.1.1.cmml"><mrow id="S4.E1.m1.3.3.1.1.1.1" xref="S4.E1.m1.3.3.1.1.1.2.cmml"><mo id="S4.E1.m1.3.3.1.1.1.1.2" stretchy="false" xref="S4.E1.m1.3.3.1.1.1.2.1.cmml">|</mo><msubsup id="S4.E1.m1.3.3.1.1.1.1.1" xref="S4.E1.m1.3.3.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.3.3.1.1.1.1.1.2.2" xref="S4.E1.m1.3.3.1.1.1.1.1.2.2.cmml">𝒩</mi><mi id="S4.E1.m1.3.3.1.1.1.1.1.2.3" xref="S4.E1.m1.3.3.1.1.1.1.1.2.3.cmml">i</mi><mi id="S4.E1.m1.3.3.1.1.1.1.1.3" xref="S4.E1.m1.3.3.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="S4.E1.m1.3.3.1.1.1.1.3" stretchy="false" xref="S4.E1.m1.3.3.1.1.1.2.1.cmml">|</mo></mrow></msqrt><mo id="S4.E1.m1.4.4.2.3" xref="S4.E1.m1.4.4.2.3.cmml">⁢</mo><msqrt id="S4.E1.m1.4.4.2.2" xref="S4.E1.m1.4.4.2.2.cmml"><mrow id="S4.E1.m1.4.4.2.2.1.1" xref="S4.E1.m1.4.4.2.2.1.2.cmml"><mo id="S4.E1.m1.4.4.2.2.1.1.2" stretchy="false" xref="S4.E1.m1.4.4.2.2.1.2.1.cmml">|</mo><msubsup id="S4.E1.m1.4.4.2.2.1.1.1" xref="S4.E1.m1.4.4.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.4.4.2.2.1.1.1.2.2" xref="S4.E1.m1.4.4.2.2.1.1.1.2.2.cmml">𝒩</mi><mi id="S4.E1.m1.4.4.2.2.1.1.1.2.3" xref="S4.E1.m1.4.4.2.2.1.1.1.2.3.cmml">j</mi><mi id="S4.E1.m1.4.4.2.2.1.1.1.3" xref="S4.E1.m1.4.4.2.2.1.1.1.3.cmml">k</mi></msubsup><mo id="S4.E1.m1.4.4.2.2.1.1.3" stretchy="false" xref="S4.E1.m1.4.4.2.2.1.2.1.cmml">|</mo></mrow></msqrt></mrow></mfrac><mo id="S4.E1.m1.8.8.1.1.3.1" lspace="0.170em" xref="S4.E1.m1.8.8.1.1.3.1.cmml">⁢</mo><msubsup id="S4.E1.m1.8.8.1.1.3.2" xref="S4.E1.m1.8.8.1.1.3.2.cmml"><mi id="S4.E1.m1.8.8.1.1.3.2.2.2" xref="S4.E1.m1.8.8.1.1.3.2.2.2.cmml">𝐡</mi><mi id="S4.E1.m1.8.8.1.1.3.2.2.3" xref="S4.E1.m1.8.8.1.1.3.2.2.3.cmml">j</mi><mrow id="S4.E1.m1.7.7.3.3" xref="S4.E1.m1.7.7.3.4.cmml"><mi id="S4.E1.m1.6.6.2.2" xref="S4.E1.m1.6.6.2.2.cmml">k</mi><mo id="S4.E1.m1.7.7.3.3.2" xref="S4.E1.m1.7.7.3.4.cmml">,</mo><mrow id="S4.E1.m1.7.7.3.3.1.2" xref="S4.E1.m1.7.7.3.4.cmml"><mo id="S4.E1.m1.7.7.3.3.1.2.1" stretchy="false" xref="S4.E1.m1.7.7.3.4.cmml">(</mo><mi id="S4.E1.m1.5.5.1.1" xref="S4.E1.m1.5.5.1.1.cmml">l</mi><mo id="S4.E1.m1.7.7.3.3.1.2.2" stretchy="false" xref="S4.E1.m1.7.7.3.4.cmml">)</mo></mrow></mrow></msubsup></mrow></mrow><mo id="S4.E1.m1.8.8.1.2" xref="S4.E1.m1.8.8.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E1.m1.8b"><apply id="S4.E1.m1.8.8.1.1.cmml" xref="S4.E1.m1.8.8.1"><eq id="S4.E1.m1.8.8.1.1.1.cmml" xref="S4.E1.m1.8.8.1.1.1"></eq><apply id="S4.E1.m1.8.8.1.1.2.cmml" xref="S4.E1.m1.8.8.1.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.8.8.1.1.2.1.cmml" xref="S4.E1.m1.8.8.1.1.2">superscript</csymbol><apply id="S4.E1.m1.8.8.1.1.2.2.cmml" xref="S4.E1.m1.8.8.1.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.8.8.1.1.2.2.1.cmml" xref="S4.E1.m1.8.8.1.1.2">subscript</csymbol><ci id="S4.E1.m1.8.8.1.1.2.2.2.cmml" xref="S4.E1.m1.8.8.1.1.2.2.2">𝐦</ci><apply id="S4.E1.m1.8.8.1.1.2.2.3.cmml" xref="S4.E1.m1.8.8.1.1.2.2.3"><ci id="S4.E1.m1.8.8.1.1.2.2.3.1.cmml" xref="S4.E1.m1.8.8.1.1.2.2.3.1">←</ci><ci id="S4.E1.m1.8.8.1.1.2.2.3.2.cmml" xref="S4.E1.m1.8.8.1.1.2.2.3.2">𝑖</ci><ci id="S4.E1.m1.8.8.1.1.2.2.3.3.cmml" xref="S4.E1.m1.8.8.1.1.2.2.3.3">𝑗</ci></apply></apply><list id="S4.E1.m1.2.2.2.3.cmml" xref="S4.E1.m1.2.2.2.2"><ci id="S4.E1.m1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1">𝑘</ci><apply id="S4.E1.m1.2.2.2.2.1.1.1.cmml" xref="S4.E1.m1.2.2.2.2.1.1"><plus id="S4.E1.m1.2.2.2.2.1.1.1.1.cmml" xref="S4.E1.m1.2.2.2.2.1.1.1.1"></plus><ci id="S4.E1.m1.2.2.2.2.1.1.1.2.cmml" xref="S4.E1.m1.2.2.2.2.1.1.1.2">𝑙</ci><cn id="S4.E1.m1.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S4.E1.m1.2.2.2.2.1.1.1.3">1</cn></apply></list></apply><apply id="S4.E1.m1.8.8.1.1.3.cmml" xref="S4.E1.m1.8.8.1.1.3"><times id="S4.E1.m1.8.8.1.1.3.1.cmml" xref="S4.E1.m1.8.8.1.1.3.1"></times><apply id="S4.E1.m1.4.4.cmml" xref="S4.E1.m1.4.4"><divide id="S4.E1.m1.4.4.3.cmml" xref="S4.E1.m1.4.4"></divide><cn id="S4.E1.m1.4.4.4.cmml" type="integer" xref="S4.E1.m1.4.4.4">1</cn><apply id="S4.E1.m1.4.4.2.cmml" xref="S4.E1.m1.4.4.2"><times id="S4.E1.m1.4.4.2.3.cmml" xref="S4.E1.m1.4.4.2.3"></times><apply id="S4.E1.m1.3.3.1.1.cmml" xref="S4.E1.m1.3.3.1.1"><root id="S4.E1.m1.3.3.1.1a.cmml" xref="S4.E1.m1.3.3.1.1"></root><apply id="S4.E1.m1.3.3.1.1.1.2.cmml" xref="S4.E1.m1.3.3.1.1.1.1"><abs id="S4.E1.m1.3.3.1.1.1.2.1.cmml" xref="S4.E1.m1.3.3.1.1.1.1.2"></abs><apply id="S4.E1.m1.3.3.1.1.1.1.1.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1">superscript</csymbol><apply id="S4.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.1.1.1.1.1.2.1.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1">subscript</csymbol><ci id="S4.E1.m1.3.3.1.1.1.1.1.2.2.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.2.2">𝒩</ci><ci id="S4.E1.m1.3.3.1.1.1.1.1.2.3.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S4.E1.m1.3.3.1.1.1.1.1.3.cmml" xref="S4.E1.m1.3.3.1.1.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="S4.E1.m1.4.4.2.2.cmml" xref="S4.E1.m1.4.4.2.2"><root id="S4.E1.m1.4.4.2.2a.cmml" xref="S4.E1.m1.4.4.2.2"></root><apply id="S4.E1.m1.4.4.2.2.1.2.cmml" xref="S4.E1.m1.4.4.2.2.1.1"><abs id="S4.E1.m1.4.4.2.2.1.2.1.cmml" xref="S4.E1.m1.4.4.2.2.1.1.2"></abs><apply id="S4.E1.m1.4.4.2.2.1.1.1.cmml" xref="S4.E1.m1.4.4.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.4.4.2.2.1.1.1.1.cmml" xref="S4.E1.m1.4.4.2.2.1.1.1">superscript</csymbol><apply id="S4.E1.m1.4.4.2.2.1.1.1.2.cmml" xref="S4.E1.m1.4.4.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.4.4.2.2.1.1.1.2.1.cmml" xref="S4.E1.m1.4.4.2.2.1.1.1">subscript</csymbol><ci id="S4.E1.m1.4.4.2.2.1.1.1.2.2.cmml" xref="S4.E1.m1.4.4.2.2.1.1.1.2.2">𝒩</ci><ci id="S4.E1.m1.4.4.2.2.1.1.1.2.3.cmml" xref="S4.E1.m1.4.4.2.2.1.1.1.2.3">𝑗</ci></apply><ci id="S4.E1.m1.4.4.2.2.1.1.1.3.cmml" xref="S4.E1.m1.4.4.2.2.1.1.1.3">𝑘</ci></apply></apply></apply></apply></apply><apply id="S4.E1.m1.8.8.1.1.3.2.cmml" xref="S4.E1.m1.8.8.1.1.3.2"><csymbol cd="ambiguous" id="S4.E1.m1.8.8.1.1.3.2.1.cmml" xref="S4.E1.m1.8.8.1.1.3.2">superscript</csymbol><apply id="S4.E1.m1.8.8.1.1.3.2.2.cmml" xref="S4.E1.m1.8.8.1.1.3.2"><csymbol cd="ambiguous" id="S4.E1.m1.8.8.1.1.3.2.2.1.cmml" xref="S4.E1.m1.8.8.1.1.3.2">subscript</csymbol><ci id="S4.E1.m1.8.8.1.1.3.2.2.2.cmml" xref="S4.E1.m1.8.8.1.1.3.2.2.2">𝐡</ci><ci id="S4.E1.m1.8.8.1.1.3.2.2.3.cmml" xref="S4.E1.m1.8.8.1.1.3.2.2.3">𝑗</ci></apply><list id="S4.E1.m1.7.7.3.4.cmml" xref="S4.E1.m1.7.7.3.3"><ci id="S4.E1.m1.6.6.2.2.cmml" xref="S4.E1.m1.6.6.2.2">𝑘</ci><ci id="S4.E1.m1.5.5.1.1.cmml" xref="S4.E1.m1.5.5.1.1">𝑙</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.8c">\mathbf{m}_{i\leftarrow j}^{k,(l+1)}=\frac{1}{\sqrt{|\mathcal{N}_{i}^{k}|}%
\sqrt{|\mathcal{N}_{j}^{k}|}}\,\mathbf{h}_{j}^{k,(l)},</annotation><annotation encoding="application/x-llamapun" id="S4.E1.m1.8d">bold_m start_POSTSUBSCRIPT italic_i ← italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l + 1 ) end_POSTSUPERSCRIPT = divide start_ARG 1 end_ARG start_ARG square-root start_ARG | caligraphic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT | end_ARG square-root start_ARG | caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT | end_ARG end_ARG bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l ) end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.p3.22">where node <math alttext="v_{i}" class="ltx_Math" display="inline" id="S4.SS1.p3.1.m1.1"><semantics id="S4.SS1.p3.1.m1.1a"><msub id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml"><mi id="S4.SS1.p3.1.m1.1.1.2" xref="S4.SS1.p3.1.m1.1.1.2.cmml">v</mi><mi id="S4.SS1.p3.1.m1.1.1.3" xref="S4.SS1.p3.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><apply id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.1.m1.1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p3.1.m1.1.1.2.cmml" xref="S4.SS1.p3.1.m1.1.1.2">𝑣</ci><ci id="S4.SS1.p3.1.m1.1.1.3.cmml" xref="S4.SS1.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.1.m1.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is the focal node, node <math alttext="v_{j}" class="ltx_Math" display="inline" id="S4.SS1.p3.2.m2.1"><semantics id="S4.SS1.p3.2.m2.1a"><msub id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml"><mi id="S4.SS1.p3.2.m2.1.1.2" xref="S4.SS1.p3.2.m2.1.1.2.cmml">v</mi><mi id="S4.SS1.p3.2.m2.1.1.3" xref="S4.SS1.p3.2.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><apply id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.2.m2.1.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p3.2.m2.1.1.2.cmml" xref="S4.SS1.p3.2.m2.1.1.2">𝑣</ci><ci id="S4.SS1.p3.2.m2.1.1.3.cmml" xref="S4.SS1.p3.2.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.2.m2.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> is one of its neighbors in <math alttext="\mathcal{G}_{k}" class="ltx_Math" display="inline" id="S4.SS1.p3.3.m3.1"><semantics id="S4.SS1.p3.3.m3.1a"><msub id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p3.3.m3.1.1.2" xref="S4.SS1.p3.3.m3.1.1.2.cmml">𝒢</mi><mi id="S4.SS1.p3.3.m3.1.1.3" xref="S4.SS1.p3.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><apply id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.3.m3.1.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.p3.3.m3.1.1.2.cmml" xref="S4.SS1.p3.3.m3.1.1.2">𝒢</ci><ci id="S4.SS1.p3.3.m3.1.1.3.cmml" xref="S4.SS1.p3.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">\mathcal{G}_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.3.m3.1d">caligraphic_G start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> with <math alttext="s_{i,j}^{k}=1" class="ltx_Math" display="inline" id="S4.SS1.p3.4.m4.2"><semantics id="S4.SS1.p3.4.m4.2a"><mrow id="S4.SS1.p3.4.m4.2.3" xref="S4.SS1.p3.4.m4.2.3.cmml"><msubsup id="S4.SS1.p3.4.m4.2.3.2" xref="S4.SS1.p3.4.m4.2.3.2.cmml"><mi id="S4.SS1.p3.4.m4.2.3.2.2.2" xref="S4.SS1.p3.4.m4.2.3.2.2.2.cmml">s</mi><mrow id="S4.SS1.p3.4.m4.2.2.2.4" xref="S4.SS1.p3.4.m4.2.2.2.3.cmml"><mi id="S4.SS1.p3.4.m4.1.1.1.1" xref="S4.SS1.p3.4.m4.1.1.1.1.cmml">i</mi><mo id="S4.SS1.p3.4.m4.2.2.2.4.1" xref="S4.SS1.p3.4.m4.2.2.2.3.cmml">,</mo><mi id="S4.SS1.p3.4.m4.2.2.2.2" xref="S4.SS1.p3.4.m4.2.2.2.2.cmml">j</mi></mrow><mi id="S4.SS1.p3.4.m4.2.3.2.3" xref="S4.SS1.p3.4.m4.2.3.2.3.cmml">k</mi></msubsup><mo id="S4.SS1.p3.4.m4.2.3.1" xref="S4.SS1.p3.4.m4.2.3.1.cmml">=</mo><mn id="S4.SS1.p3.4.m4.2.3.3" xref="S4.SS1.p3.4.m4.2.3.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.2b"><apply id="S4.SS1.p3.4.m4.2.3.cmml" xref="S4.SS1.p3.4.m4.2.3"><eq id="S4.SS1.p3.4.m4.2.3.1.cmml" xref="S4.SS1.p3.4.m4.2.3.1"></eq><apply id="S4.SS1.p3.4.m4.2.3.2.cmml" xref="S4.SS1.p3.4.m4.2.3.2"><csymbol cd="ambiguous" id="S4.SS1.p3.4.m4.2.3.2.1.cmml" xref="S4.SS1.p3.4.m4.2.3.2">superscript</csymbol><apply id="S4.SS1.p3.4.m4.2.3.2.2.cmml" xref="S4.SS1.p3.4.m4.2.3.2"><csymbol cd="ambiguous" id="S4.SS1.p3.4.m4.2.3.2.2.1.cmml" xref="S4.SS1.p3.4.m4.2.3.2">subscript</csymbol><ci id="S4.SS1.p3.4.m4.2.3.2.2.2.cmml" xref="S4.SS1.p3.4.m4.2.3.2.2.2">𝑠</ci><list id="S4.SS1.p3.4.m4.2.2.2.3.cmml" xref="S4.SS1.p3.4.m4.2.2.2.4"><ci id="S4.SS1.p3.4.m4.1.1.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1.1.1">𝑖</ci><ci id="S4.SS1.p3.4.m4.2.2.2.2.cmml" xref="S4.SS1.p3.4.m4.2.2.2.2">𝑗</ci></list></apply><ci id="S4.SS1.p3.4.m4.2.3.2.3.cmml" xref="S4.SS1.p3.4.m4.2.3.2.3">𝑘</ci></apply><cn id="S4.SS1.p3.4.m4.2.3.3.cmml" type="integer" xref="S4.SS1.p3.4.m4.2.3.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.2c">s_{i,j}^{k}=1</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.4.m4.2d">italic_s start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT = 1</annotation></semantics></math>, and <math alttext="l" class="ltx_Math" display="inline" id="S4.SS1.p3.5.m5.1"><semantics id="S4.SS1.p3.5.m5.1a"><mi id="S4.SS1.p3.5.m5.1.1" xref="S4.SS1.p3.5.m5.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.5.m5.1b"><ci id="S4.SS1.p3.5.m5.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.5.m5.1c">l</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.5.m5.1d">italic_l</annotation></semantics></math> represents the <math alttext="l" class="ltx_Math" display="inline" id="S4.SS1.p3.6.m6.1"><semantics id="S4.SS1.p3.6.m6.1a"><mi id="S4.SS1.p3.6.m6.1.1" xref="S4.SS1.p3.6.m6.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.6.m6.1b"><ci id="S4.SS1.p3.6.m6.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.6.m6.1c">l</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.6.m6.1d">italic_l</annotation></semantics></math>-th layer of the GNN. The term <math alttext="\mathbf{m}_{i\leftarrow j}^{k,(l+1)}" class="ltx_Math" display="inline" id="S4.SS1.p3.7.m7.2"><semantics id="S4.SS1.p3.7.m7.2a"><msubsup id="S4.SS1.p3.7.m7.2.3" xref="S4.SS1.p3.7.m7.2.3.cmml"><mi id="S4.SS1.p3.7.m7.2.3.2.2" xref="S4.SS1.p3.7.m7.2.3.2.2.cmml">𝐦</mi><mrow id="S4.SS1.p3.7.m7.2.3.2.3" xref="S4.SS1.p3.7.m7.2.3.2.3.cmml"><mi id="S4.SS1.p3.7.m7.2.3.2.3.2" xref="S4.SS1.p3.7.m7.2.3.2.3.2.cmml">i</mi><mo id="S4.SS1.p3.7.m7.2.3.2.3.1" stretchy="false" xref="S4.SS1.p3.7.m7.2.3.2.3.1.cmml">←</mo><mi id="S4.SS1.p3.7.m7.2.3.2.3.3" xref="S4.SS1.p3.7.m7.2.3.2.3.3.cmml">j</mi></mrow><mrow id="S4.SS1.p3.7.m7.2.2.2.2" xref="S4.SS1.p3.7.m7.2.2.2.3.cmml"><mi id="S4.SS1.p3.7.m7.1.1.1.1" xref="S4.SS1.p3.7.m7.1.1.1.1.cmml">k</mi><mo id="S4.SS1.p3.7.m7.2.2.2.2.2" xref="S4.SS1.p3.7.m7.2.2.2.3.cmml">,</mo><mrow id="S4.SS1.p3.7.m7.2.2.2.2.1.1" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.cmml"><mo id="S4.SS1.p3.7.m7.2.2.2.2.1.1.2" stretchy="false" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.SS1.p3.7.m7.2.2.2.2.1.1.1" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.cmml"><mi id="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.2" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.2.cmml">l</mi><mo id="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.1" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.1.cmml">+</mo><mn id="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.3" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S4.SS1.p3.7.m7.2.2.2.2.1.1.3" stretchy="false" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.7.m7.2b"><apply id="S4.SS1.p3.7.m7.2.3.cmml" xref="S4.SS1.p3.7.m7.2.3"><csymbol cd="ambiguous" id="S4.SS1.p3.7.m7.2.3.1.cmml" xref="S4.SS1.p3.7.m7.2.3">superscript</csymbol><apply id="S4.SS1.p3.7.m7.2.3.2.cmml" xref="S4.SS1.p3.7.m7.2.3"><csymbol cd="ambiguous" id="S4.SS1.p3.7.m7.2.3.2.1.cmml" xref="S4.SS1.p3.7.m7.2.3">subscript</csymbol><ci id="S4.SS1.p3.7.m7.2.3.2.2.cmml" xref="S4.SS1.p3.7.m7.2.3.2.2">𝐦</ci><apply id="S4.SS1.p3.7.m7.2.3.2.3.cmml" xref="S4.SS1.p3.7.m7.2.3.2.3"><ci id="S4.SS1.p3.7.m7.2.3.2.3.1.cmml" xref="S4.SS1.p3.7.m7.2.3.2.3.1">←</ci><ci id="S4.SS1.p3.7.m7.2.3.2.3.2.cmml" xref="S4.SS1.p3.7.m7.2.3.2.3.2">𝑖</ci><ci id="S4.SS1.p3.7.m7.2.3.2.3.3.cmml" xref="S4.SS1.p3.7.m7.2.3.2.3.3">𝑗</ci></apply></apply><list id="S4.SS1.p3.7.m7.2.2.2.3.cmml" xref="S4.SS1.p3.7.m7.2.2.2.2"><ci id="S4.SS1.p3.7.m7.1.1.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1.1.1">𝑘</ci><apply id="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.cmml" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1"><plus id="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.1.cmml" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.1"></plus><ci id="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.2.cmml" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.2">𝑙</ci><cn id="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S4.SS1.p3.7.m7.2.2.2.2.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.7.m7.2c">\mathbf{m}_{i\leftarrow j}^{k,(l+1)}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.7.m7.2d">bold_m start_POSTSUBSCRIPT italic_i ← italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l + 1 ) end_POSTSUPERSCRIPT</annotation></semantics></math> is defined as the message passed from the neighbor node <math alttext="v_{j}" class="ltx_Math" display="inline" id="S4.SS1.p3.8.m8.1"><semantics id="S4.SS1.p3.8.m8.1a"><msub id="S4.SS1.p3.8.m8.1.1" xref="S4.SS1.p3.8.m8.1.1.cmml"><mi id="S4.SS1.p3.8.m8.1.1.2" xref="S4.SS1.p3.8.m8.1.1.2.cmml">v</mi><mi id="S4.SS1.p3.8.m8.1.1.3" xref="S4.SS1.p3.8.m8.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.8.m8.1b"><apply id="S4.SS1.p3.8.m8.1.1.cmml" xref="S4.SS1.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.8.m8.1.1.1.cmml" xref="S4.SS1.p3.8.m8.1.1">subscript</csymbol><ci id="S4.SS1.p3.8.m8.1.1.2.cmml" xref="S4.SS1.p3.8.m8.1.1.2">𝑣</ci><ci id="S4.SS1.p3.8.m8.1.1.3.cmml" xref="S4.SS1.p3.8.m8.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.8.m8.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.8.m8.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> to the focal node <math alttext="v_{i}" class="ltx_Math" display="inline" id="S4.SS1.p3.9.m9.1"><semantics id="S4.SS1.p3.9.m9.1a"><msub id="S4.SS1.p3.9.m9.1.1" xref="S4.SS1.p3.9.m9.1.1.cmml"><mi id="S4.SS1.p3.9.m9.1.1.2" xref="S4.SS1.p3.9.m9.1.1.2.cmml">v</mi><mi id="S4.SS1.p3.9.m9.1.1.3" xref="S4.SS1.p3.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.9.m9.1b"><apply id="S4.SS1.p3.9.m9.1.1.cmml" xref="S4.SS1.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.9.m9.1.1.1.cmml" xref="S4.SS1.p3.9.m9.1.1">subscript</csymbol><ci id="S4.SS1.p3.9.m9.1.1.2.cmml" xref="S4.SS1.p3.9.m9.1.1.2">𝑣</ci><ci id="S4.SS1.p3.9.m9.1.1.3.cmml" xref="S4.SS1.p3.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.9.m9.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.9.m9.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> following the existing path in <math alttext="(l+1)" class="ltx_Math" display="inline" id="S4.SS1.p3.10.m10.1"><semantics id="S4.SS1.p3.10.m10.1a"><mrow id="S4.SS1.p3.10.m10.1.1.1" xref="S4.SS1.p3.10.m10.1.1.1.1.cmml"><mo id="S4.SS1.p3.10.m10.1.1.1.2" stretchy="false" xref="S4.SS1.p3.10.m10.1.1.1.1.cmml">(</mo><mrow id="S4.SS1.p3.10.m10.1.1.1.1" xref="S4.SS1.p3.10.m10.1.1.1.1.cmml"><mi id="S4.SS1.p3.10.m10.1.1.1.1.2" xref="S4.SS1.p3.10.m10.1.1.1.1.2.cmml">l</mi><mo id="S4.SS1.p3.10.m10.1.1.1.1.1" xref="S4.SS1.p3.10.m10.1.1.1.1.1.cmml">+</mo><mn id="S4.SS1.p3.10.m10.1.1.1.1.3" xref="S4.SS1.p3.10.m10.1.1.1.1.3.cmml">1</mn></mrow><mo id="S4.SS1.p3.10.m10.1.1.1.3" stretchy="false" xref="S4.SS1.p3.10.m10.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.10.m10.1b"><apply id="S4.SS1.p3.10.m10.1.1.1.1.cmml" xref="S4.SS1.p3.10.m10.1.1.1"><plus id="S4.SS1.p3.10.m10.1.1.1.1.1.cmml" xref="S4.SS1.p3.10.m10.1.1.1.1.1"></plus><ci id="S4.SS1.p3.10.m10.1.1.1.1.2.cmml" xref="S4.SS1.p3.10.m10.1.1.1.1.2">𝑙</ci><cn id="S4.SS1.p3.10.m10.1.1.1.1.3.cmml" type="integer" xref="S4.SS1.p3.10.m10.1.1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.10.m10.1c">(l+1)</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.10.m10.1d">( italic_l + 1 )</annotation></semantics></math>-th layer. The term <math alttext="\mathbf{h}_{j}^{k,(l)}" class="ltx_Math" display="inline" id="S4.SS1.p3.11.m11.3"><semantics id="S4.SS1.p3.11.m11.3a"><msubsup id="S4.SS1.p3.11.m11.3.4" xref="S4.SS1.p3.11.m11.3.4.cmml"><mi id="S4.SS1.p3.11.m11.3.4.2.2" xref="S4.SS1.p3.11.m11.3.4.2.2.cmml">𝐡</mi><mi id="S4.SS1.p3.11.m11.3.4.2.3" xref="S4.SS1.p3.11.m11.3.4.2.3.cmml">j</mi><mrow id="S4.SS1.p3.11.m11.3.3.3.3" xref="S4.SS1.p3.11.m11.3.3.3.4.cmml"><mi id="S4.SS1.p3.11.m11.2.2.2.2" xref="S4.SS1.p3.11.m11.2.2.2.2.cmml">k</mi><mo id="S4.SS1.p3.11.m11.3.3.3.3.2" xref="S4.SS1.p3.11.m11.3.3.3.4.cmml">,</mo><mrow id="S4.SS1.p3.11.m11.3.3.3.3.1.2" xref="S4.SS1.p3.11.m11.3.3.3.4.cmml"><mo id="S4.SS1.p3.11.m11.3.3.3.3.1.2.1" stretchy="false" xref="S4.SS1.p3.11.m11.3.3.3.4.cmml">(</mo><mi id="S4.SS1.p3.11.m11.1.1.1.1" xref="S4.SS1.p3.11.m11.1.1.1.1.cmml">l</mi><mo id="S4.SS1.p3.11.m11.3.3.3.3.1.2.2" stretchy="false" xref="S4.SS1.p3.11.m11.3.3.3.4.cmml">)</mo></mrow></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.11.m11.3b"><apply id="S4.SS1.p3.11.m11.3.4.cmml" xref="S4.SS1.p3.11.m11.3.4"><csymbol cd="ambiguous" id="S4.SS1.p3.11.m11.3.4.1.cmml" xref="S4.SS1.p3.11.m11.3.4">superscript</csymbol><apply id="S4.SS1.p3.11.m11.3.4.2.cmml" xref="S4.SS1.p3.11.m11.3.4"><csymbol cd="ambiguous" id="S4.SS1.p3.11.m11.3.4.2.1.cmml" xref="S4.SS1.p3.11.m11.3.4">subscript</csymbol><ci id="S4.SS1.p3.11.m11.3.4.2.2.cmml" xref="S4.SS1.p3.11.m11.3.4.2.2">𝐡</ci><ci id="S4.SS1.p3.11.m11.3.4.2.3.cmml" xref="S4.SS1.p3.11.m11.3.4.2.3">𝑗</ci></apply><list id="S4.SS1.p3.11.m11.3.3.3.4.cmml" xref="S4.SS1.p3.11.m11.3.3.3.3"><ci id="S4.SS1.p3.11.m11.2.2.2.2.cmml" xref="S4.SS1.p3.11.m11.2.2.2.2">𝑘</ci><ci id="S4.SS1.p3.11.m11.1.1.1.1.cmml" xref="S4.SS1.p3.11.m11.1.1.1.1">𝑙</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.11.m11.3c">\mathbf{h}_{j}^{k,(l)}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.11.m11.3d">bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l ) end_POSTSUPERSCRIPT</annotation></semantics></math> represents the latent embedding of node <math alttext="v_{j}" class="ltx_Math" display="inline" id="S4.SS1.p3.12.m12.1"><semantics id="S4.SS1.p3.12.m12.1a"><msub id="S4.SS1.p3.12.m12.1.1" xref="S4.SS1.p3.12.m12.1.1.cmml"><mi id="S4.SS1.p3.12.m12.1.1.2" xref="S4.SS1.p3.12.m12.1.1.2.cmml">v</mi><mi id="S4.SS1.p3.12.m12.1.1.3" xref="S4.SS1.p3.12.m12.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.12.m12.1b"><apply id="S4.SS1.p3.12.m12.1.1.cmml" xref="S4.SS1.p3.12.m12.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.12.m12.1.1.1.cmml" xref="S4.SS1.p3.12.m12.1.1">subscript</csymbol><ci id="S4.SS1.p3.12.m12.1.1.2.cmml" xref="S4.SS1.p3.12.m12.1.1.2">𝑣</ci><ci id="S4.SS1.p3.12.m12.1.1.3.cmml" xref="S4.SS1.p3.12.m12.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.12.m12.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.12.m12.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> in <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p3.13.m13.1"><semantics id="S4.SS1.p3.13.m13.1a"><msup id="S4.SS1.p3.13.m13.1.1" xref="S4.SS1.p3.13.m13.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p3.13.m13.1.1.2" xref="S4.SS1.p3.13.m13.1.1.2.cmml">𝒢</mi><mi id="S4.SS1.p3.13.m13.1.1.3" xref="S4.SS1.p3.13.m13.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.13.m13.1b"><apply id="S4.SS1.p3.13.m13.1.1.cmml" xref="S4.SS1.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.13.m13.1.1.1.cmml" xref="S4.SS1.p3.13.m13.1.1">superscript</csymbol><ci id="S4.SS1.p3.13.m13.1.1.2.cmml" xref="S4.SS1.p3.13.m13.1.1.2">𝒢</ci><ci id="S4.SS1.p3.13.m13.1.1.3.cmml" xref="S4.SS1.p3.13.m13.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.13.m13.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.13.m13.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> in the <math alttext="l" class="ltx_Math" display="inline" id="S4.SS1.p3.14.m14.1"><semantics id="S4.SS1.p3.14.m14.1a"><mi id="S4.SS1.p3.14.m14.1.1" xref="S4.SS1.p3.14.m14.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.14.m14.1b"><ci id="S4.SS1.p3.14.m14.1.1.cmml" xref="S4.SS1.p3.14.m14.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.14.m14.1c">l</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.14.m14.1d">italic_l</annotation></semantics></math>-th layer. Note that when <math alttext="l=0" class="ltx_Math" display="inline" id="S4.SS1.p3.15.m15.1"><semantics id="S4.SS1.p3.15.m15.1a"><mrow id="S4.SS1.p3.15.m15.1.1" xref="S4.SS1.p3.15.m15.1.1.cmml"><mi id="S4.SS1.p3.15.m15.1.1.2" xref="S4.SS1.p3.15.m15.1.1.2.cmml">l</mi><mo id="S4.SS1.p3.15.m15.1.1.1" xref="S4.SS1.p3.15.m15.1.1.1.cmml">=</mo><mn id="S4.SS1.p3.15.m15.1.1.3" xref="S4.SS1.p3.15.m15.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.15.m15.1b"><apply id="S4.SS1.p3.15.m15.1.1.cmml" xref="S4.SS1.p3.15.m15.1.1"><eq id="S4.SS1.p3.15.m15.1.1.1.cmml" xref="S4.SS1.p3.15.m15.1.1.1"></eq><ci id="S4.SS1.p3.15.m15.1.1.2.cmml" xref="S4.SS1.p3.15.m15.1.1.2">𝑙</ci><cn id="S4.SS1.p3.15.m15.1.1.3.cmml" type="integer" xref="S4.SS1.p3.15.m15.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.15.m15.1c">l=0</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.15.m15.1d">italic_l = 0</annotation></semantics></math>, <math alttext="\mathbf{h}_{j}^{k,(0)}" class="ltx_Math" display="inline" id="S4.SS1.p3.16.m16.3"><semantics id="S4.SS1.p3.16.m16.3a"><msubsup id="S4.SS1.p3.16.m16.3.4" xref="S4.SS1.p3.16.m16.3.4.cmml"><mi id="S4.SS1.p3.16.m16.3.4.2.2" xref="S4.SS1.p3.16.m16.3.4.2.2.cmml">𝐡</mi><mi id="S4.SS1.p3.16.m16.3.4.2.3" xref="S4.SS1.p3.16.m16.3.4.2.3.cmml">j</mi><mrow id="S4.SS1.p3.16.m16.3.3.3.3" xref="S4.SS1.p3.16.m16.3.3.3.4.cmml"><mi id="S4.SS1.p3.16.m16.2.2.2.2" xref="S4.SS1.p3.16.m16.2.2.2.2.cmml">k</mi><mo id="S4.SS1.p3.16.m16.3.3.3.3.2" xref="S4.SS1.p3.16.m16.3.3.3.4.cmml">,</mo><mrow id="S4.SS1.p3.16.m16.3.3.3.3.1.2" xref="S4.SS1.p3.16.m16.3.3.3.4.cmml"><mo id="S4.SS1.p3.16.m16.3.3.3.3.1.2.1" stretchy="false" xref="S4.SS1.p3.16.m16.3.3.3.4.cmml">(</mo><mn id="S4.SS1.p3.16.m16.1.1.1.1" xref="S4.SS1.p3.16.m16.1.1.1.1.cmml">0</mn><mo id="S4.SS1.p3.16.m16.3.3.3.3.1.2.2" stretchy="false" xref="S4.SS1.p3.16.m16.3.3.3.4.cmml">)</mo></mrow></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.16.m16.3b"><apply id="S4.SS1.p3.16.m16.3.4.cmml" xref="S4.SS1.p3.16.m16.3.4"><csymbol cd="ambiguous" id="S4.SS1.p3.16.m16.3.4.1.cmml" xref="S4.SS1.p3.16.m16.3.4">superscript</csymbol><apply id="S4.SS1.p3.16.m16.3.4.2.cmml" xref="S4.SS1.p3.16.m16.3.4"><csymbol cd="ambiguous" id="S4.SS1.p3.16.m16.3.4.2.1.cmml" xref="S4.SS1.p3.16.m16.3.4">subscript</csymbol><ci id="S4.SS1.p3.16.m16.3.4.2.2.cmml" xref="S4.SS1.p3.16.m16.3.4.2.2">𝐡</ci><ci id="S4.SS1.p3.16.m16.3.4.2.3.cmml" xref="S4.SS1.p3.16.m16.3.4.2.3">𝑗</ci></apply><list id="S4.SS1.p3.16.m16.3.3.3.4.cmml" xref="S4.SS1.p3.16.m16.3.3.3.3"><ci id="S4.SS1.p3.16.m16.2.2.2.2.cmml" xref="S4.SS1.p3.16.m16.2.2.2.2">𝑘</ci><cn id="S4.SS1.p3.16.m16.1.1.1.1.cmml" type="integer" xref="S4.SS1.p3.16.m16.1.1.1.1">0</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.16.m16.3c">\mathbf{h}_{j}^{k,(0)}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.16.m16.3d">bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( 0 ) end_POSTSUPERSCRIPT</annotation></semantics></math> denotes the initialized embedding of node <math alttext="v_{j}" class="ltx_Math" display="inline" id="S4.SS1.p3.17.m17.1"><semantics id="S4.SS1.p3.17.m17.1a"><msub id="S4.SS1.p3.17.m17.1.1" xref="S4.SS1.p3.17.m17.1.1.cmml"><mi id="S4.SS1.p3.17.m17.1.1.2" xref="S4.SS1.p3.17.m17.1.1.2.cmml">v</mi><mi id="S4.SS1.p3.17.m17.1.1.3" xref="S4.SS1.p3.17.m17.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.17.m17.1b"><apply id="S4.SS1.p3.17.m17.1.1.cmml" xref="S4.SS1.p3.17.m17.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.17.m17.1.1.1.cmml" xref="S4.SS1.p3.17.m17.1.1">subscript</csymbol><ci id="S4.SS1.p3.17.m17.1.1.2.cmml" xref="S4.SS1.p3.17.m17.1.1.2">𝑣</ci><ci id="S4.SS1.p3.17.m17.1.1.3.cmml" xref="S4.SS1.p3.17.m17.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.17.m17.1c">v_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.17.m17.1d">italic_v start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>, <em class="ltx_emph ltx_font_italic" id="S4.SS1.p3.22.1">i.e.</em>, <math alttext="\mathbf{e}_{i}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p3.18.m18.1"><semantics id="S4.SS1.p3.18.m18.1a"><msubsup id="S4.SS1.p3.18.m18.1.1" xref="S4.SS1.p3.18.m18.1.1.cmml"><mi id="S4.SS1.p3.18.m18.1.1.2.2" xref="S4.SS1.p3.18.m18.1.1.2.2.cmml">𝐞</mi><mi id="S4.SS1.p3.18.m18.1.1.2.3" xref="S4.SS1.p3.18.m18.1.1.2.3.cmml">i</mi><mi id="S4.SS1.p3.18.m18.1.1.3" xref="S4.SS1.p3.18.m18.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.18.m18.1b"><apply id="S4.SS1.p3.18.m18.1.1.cmml" xref="S4.SS1.p3.18.m18.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.18.m18.1.1.1.cmml" xref="S4.SS1.p3.18.m18.1.1">superscript</csymbol><apply id="S4.SS1.p3.18.m18.1.1.2.cmml" xref="S4.SS1.p3.18.m18.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.18.m18.1.1.2.1.cmml" xref="S4.SS1.p3.18.m18.1.1">subscript</csymbol><ci id="S4.SS1.p3.18.m18.1.1.2.2.cmml" xref="S4.SS1.p3.18.m18.1.1.2.2">𝐞</ci><ci id="S4.SS1.p3.18.m18.1.1.2.3.cmml" xref="S4.SS1.p3.18.m18.1.1.2.3">𝑖</ci></apply><ci id="S4.SS1.p3.18.m18.1.1.3.cmml" xref="S4.SS1.p3.18.m18.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.18.m18.1c">\mathbf{e}_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.18.m18.1d">bold_e start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>. The normalization term <math alttext="1/(\sqrt{|\mathcal{N}_{i}^{k}|}\sqrt{|\mathcal{N}_{j}^{k}|})" class="ltx_Math" display="inline" id="S4.SS1.p3.19.m19.3"><semantics id="S4.SS1.p3.19.m19.3a"><mrow id="S4.SS1.p3.19.m19.3.3" xref="S4.SS1.p3.19.m19.3.3.cmml"><mn id="S4.SS1.p3.19.m19.3.3.3" xref="S4.SS1.p3.19.m19.3.3.3.cmml">1</mn><mo id="S4.SS1.p3.19.m19.3.3.2" xref="S4.SS1.p3.19.m19.3.3.2.cmml">/</mo><mrow id="S4.SS1.p3.19.m19.3.3.1.1" xref="S4.SS1.p3.19.m19.3.3.1.1.1.cmml"><mo id="S4.SS1.p3.19.m19.3.3.1.1.2" stretchy="false" xref="S4.SS1.p3.19.m19.3.3.1.1.1.cmml">(</mo><mrow id="S4.SS1.p3.19.m19.3.3.1.1.1" xref="S4.SS1.p3.19.m19.3.3.1.1.1.cmml"><msqrt id="S4.SS1.p3.19.m19.1.1" xref="S4.SS1.p3.19.m19.1.1.cmml"><mrow id="S4.SS1.p3.19.m19.1.1.1.1" xref="S4.SS1.p3.19.m19.1.1.1.2.cmml"><mo id="S4.SS1.p3.19.m19.1.1.1.1.2" stretchy="false" xref="S4.SS1.p3.19.m19.1.1.1.2.1.cmml">|</mo><msubsup id="S4.SS1.p3.19.m19.1.1.1.1.1" xref="S4.SS1.p3.19.m19.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p3.19.m19.1.1.1.1.1.2.2" xref="S4.SS1.p3.19.m19.1.1.1.1.1.2.2.cmml">𝒩</mi><mi id="S4.SS1.p3.19.m19.1.1.1.1.1.2.3" xref="S4.SS1.p3.19.m19.1.1.1.1.1.2.3.cmml">i</mi><mi id="S4.SS1.p3.19.m19.1.1.1.1.1.3" xref="S4.SS1.p3.19.m19.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="S4.SS1.p3.19.m19.1.1.1.1.3" stretchy="false" xref="S4.SS1.p3.19.m19.1.1.1.2.1.cmml">|</mo></mrow></msqrt><mo id="S4.SS1.p3.19.m19.3.3.1.1.1.1" xref="S4.SS1.p3.19.m19.3.3.1.1.1.1.cmml">⁢</mo><msqrt id="S4.SS1.p3.19.m19.2.2" xref="S4.SS1.p3.19.m19.2.2.cmml"><mrow id="S4.SS1.p3.19.m19.2.2.1.1" xref="S4.SS1.p3.19.m19.2.2.1.2.cmml"><mo id="S4.SS1.p3.19.m19.2.2.1.1.2" stretchy="false" xref="S4.SS1.p3.19.m19.2.2.1.2.1.cmml">|</mo><msubsup id="S4.SS1.p3.19.m19.2.2.1.1.1" xref="S4.SS1.p3.19.m19.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p3.19.m19.2.2.1.1.1.2.2" xref="S4.SS1.p3.19.m19.2.2.1.1.1.2.2.cmml">𝒩</mi><mi id="S4.SS1.p3.19.m19.2.2.1.1.1.2.3" xref="S4.SS1.p3.19.m19.2.2.1.1.1.2.3.cmml">j</mi><mi id="S4.SS1.p3.19.m19.2.2.1.1.1.3" xref="S4.SS1.p3.19.m19.2.2.1.1.1.3.cmml">k</mi></msubsup><mo id="S4.SS1.p3.19.m19.2.2.1.1.3" stretchy="false" xref="S4.SS1.p3.19.m19.2.2.1.2.1.cmml">|</mo></mrow></msqrt></mrow><mo id="S4.SS1.p3.19.m19.3.3.1.1.3" stretchy="false" xref="S4.SS1.p3.19.m19.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.19.m19.3b"><apply id="S4.SS1.p3.19.m19.3.3.cmml" xref="S4.SS1.p3.19.m19.3.3"><divide id="S4.SS1.p3.19.m19.3.3.2.cmml" xref="S4.SS1.p3.19.m19.3.3.2"></divide><cn id="S4.SS1.p3.19.m19.3.3.3.cmml" type="integer" xref="S4.SS1.p3.19.m19.3.3.3">1</cn><apply id="S4.SS1.p3.19.m19.3.3.1.1.1.cmml" xref="S4.SS1.p3.19.m19.3.3.1.1"><times id="S4.SS1.p3.19.m19.3.3.1.1.1.1.cmml" xref="S4.SS1.p3.19.m19.3.3.1.1.1.1"></times><apply id="S4.SS1.p3.19.m19.1.1.cmml" xref="S4.SS1.p3.19.m19.1.1"><root id="S4.SS1.p3.19.m19.1.1a.cmml" xref="S4.SS1.p3.19.m19.1.1"></root><apply id="S4.SS1.p3.19.m19.1.1.1.2.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1"><abs id="S4.SS1.p3.19.m19.1.1.1.2.1.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1.2"></abs><apply id="S4.SS1.p3.19.m19.1.1.1.1.1.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.19.m19.1.1.1.1.1.1.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1.1">superscript</csymbol><apply id="S4.SS1.p3.19.m19.1.1.1.1.1.2.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.19.m19.1.1.1.1.1.2.1.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p3.19.m19.1.1.1.1.1.2.2.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1.1.2.2">𝒩</ci><ci id="S4.SS1.p3.19.m19.1.1.1.1.1.2.3.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S4.SS1.p3.19.m19.1.1.1.1.1.3.cmml" xref="S4.SS1.p3.19.m19.1.1.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="S4.SS1.p3.19.m19.2.2.cmml" xref="S4.SS1.p3.19.m19.2.2"><root id="S4.SS1.p3.19.m19.2.2a.cmml" xref="S4.SS1.p3.19.m19.2.2"></root><apply id="S4.SS1.p3.19.m19.2.2.1.2.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1"><abs id="S4.SS1.p3.19.m19.2.2.1.2.1.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1.2"></abs><apply id="S4.SS1.p3.19.m19.2.2.1.1.1.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.19.m19.2.2.1.1.1.1.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1.1">superscript</csymbol><apply id="S4.SS1.p3.19.m19.2.2.1.1.1.2.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.19.m19.2.2.1.1.1.2.1.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1.1">subscript</csymbol><ci id="S4.SS1.p3.19.m19.2.2.1.1.1.2.2.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1.1.2.2">𝒩</ci><ci id="S4.SS1.p3.19.m19.2.2.1.1.1.2.3.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1.1.2.3">𝑗</ci></apply><ci id="S4.SS1.p3.19.m19.2.2.1.1.1.3.cmml" xref="S4.SS1.p3.19.m19.2.2.1.1.1.3">𝑘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.19.m19.3c">1/(\sqrt{|\mathcal{N}_{i}^{k}|}\sqrt{|\mathcal{N}_{j}^{k}|})</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.19.m19.3d">1 / ( square-root start_ARG | caligraphic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT | end_ARG square-root start_ARG | caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT | end_ARG )</annotation></semantics></math> is the graph Laplacian norm to constrain the embedding scales, where <math alttext="\mathcal{N}_{i}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p3.20.m20.1"><semantics id="S4.SS1.p3.20.m20.1a"><msubsup id="S4.SS1.p3.20.m20.1.1" xref="S4.SS1.p3.20.m20.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p3.20.m20.1.1.2.2" xref="S4.SS1.p3.20.m20.1.1.2.2.cmml">𝒩</mi><mi id="S4.SS1.p3.20.m20.1.1.2.3" xref="S4.SS1.p3.20.m20.1.1.2.3.cmml">i</mi><mi id="S4.SS1.p3.20.m20.1.1.3" xref="S4.SS1.p3.20.m20.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.20.m20.1b"><apply id="S4.SS1.p3.20.m20.1.1.cmml" xref="S4.SS1.p3.20.m20.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.20.m20.1.1.1.cmml" xref="S4.SS1.p3.20.m20.1.1">superscript</csymbol><apply id="S4.SS1.p3.20.m20.1.1.2.cmml" xref="S4.SS1.p3.20.m20.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.20.m20.1.1.2.1.cmml" xref="S4.SS1.p3.20.m20.1.1">subscript</csymbol><ci id="S4.SS1.p3.20.m20.1.1.2.2.cmml" xref="S4.SS1.p3.20.m20.1.1.2.2">𝒩</ci><ci id="S4.SS1.p3.20.m20.1.1.2.3.cmml" xref="S4.SS1.p3.20.m20.1.1.2.3">𝑖</ci></apply><ci id="S4.SS1.p3.20.m20.1.1.3.cmml" xref="S4.SS1.p3.20.m20.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.20.m20.1c">\mathcal{N}_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.20.m20.1d">caligraphic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> denotes the neighbor set of node <math alttext="v_{i}" class="ltx_Math" display="inline" id="S4.SS1.p3.21.m21.1"><semantics id="S4.SS1.p3.21.m21.1a"><msub id="S4.SS1.p3.21.m21.1.1" xref="S4.SS1.p3.21.m21.1.1.cmml"><mi id="S4.SS1.p3.21.m21.1.1.2" xref="S4.SS1.p3.21.m21.1.1.2.cmml">v</mi><mi id="S4.SS1.p3.21.m21.1.1.3" xref="S4.SS1.p3.21.m21.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.21.m21.1b"><apply id="S4.SS1.p3.21.m21.1.1.cmml" xref="S4.SS1.p3.21.m21.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.21.m21.1.1.1.cmml" xref="S4.SS1.p3.21.m21.1.1">subscript</csymbol><ci id="S4.SS1.p3.21.m21.1.1.2.cmml" xref="S4.SS1.p3.21.m21.1.1.2">𝑣</ci><ci id="S4.SS1.p3.21.m21.1.1.3.cmml" xref="S4.SS1.p3.21.m21.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.21.m21.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.21.m21.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p3.22.m22.1"><semantics id="S4.SS1.p3.22.m22.1a"><msup id="S4.SS1.p3.22.m22.1.1" xref="S4.SS1.p3.22.m22.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p3.22.m22.1.1.2" xref="S4.SS1.p3.22.m22.1.1.2.cmml">𝒢</mi><mi id="S4.SS1.p3.22.m22.1.1.3" xref="S4.SS1.p3.22.m22.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.22.m22.1b"><apply id="S4.SS1.p3.22.m22.1.1.cmml" xref="S4.SS1.p3.22.m22.1.1"><csymbol cd="ambiguous" id="S4.SS1.p3.22.m22.1.1.1.cmml" xref="S4.SS1.p3.22.m22.1.1">superscript</csymbol><ci id="S4.SS1.p3.22.m22.1.1.2.cmml" xref="S4.SS1.p3.22.m22.1.1.2">𝒢</ci><ci id="S4.SS1.p3.22.m22.1.1.3.cmml" xref="S4.SS1.p3.22.m22.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.22.m22.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p3.22.m22.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS1.p4">
<p class="ltx_p" id="S4.SS1.p4.4"><em class="ltx_emph ltx_font_italic" id="S4.SS1.p4.4.1">Message Aggregation.</em> With the messages passed between one-hop neighbors, we can aggregate all the messages to update the representation of the focal node. Apart from aggregating information from other nodes, we also add a residual connection <cite class="ltx_cite ltx_citemacro_citep">(Vaswani et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib78" title="">2017</a>)</cite> to preserve the node’s own features. We name this message channel as <em class="ltx_emph ltx_font_italic" id="S4.SS1.p4.4.2">self channel</em>, which copies node embeddings directly to the next layer. Taking node <math alttext="v_{i}" class="ltx_Math" display="inline" id="S4.SS1.p4.1.m1.1"><semantics id="S4.SS1.p4.1.m1.1a"><msub id="S4.SS1.p4.1.m1.1.1" xref="S4.SS1.p4.1.m1.1.1.cmml"><mi id="S4.SS1.p4.1.m1.1.1.2" xref="S4.SS1.p4.1.m1.1.1.2.cmml">v</mi><mi id="S4.SS1.p4.1.m1.1.1.3" xref="S4.SS1.p4.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.1.m1.1b"><apply id="S4.SS1.p4.1.m1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.1.m1.1.1.1.cmml" xref="S4.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p4.1.m1.1.1.2.cmml" xref="S4.SS1.p4.1.m1.1.1.2">𝑣</ci><ci id="S4.SS1.p4.1.m1.1.1.3.cmml" xref="S4.SS1.p4.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.1.m1.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.1.m1.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> as an example, we have message vector <math alttext="\mathbf{m}_{i\leftarrow self}^{k,(l+1)}=\frac{1}{|\mathcal{N}_{i}^{k}|}\,%
\mathbf{h}_{i}^{k,(l)}" class="ltx_Math" display="inline" id="S4.SS1.p4.2.m2.6"><semantics id="S4.SS1.p4.2.m2.6a"><mrow id="S4.SS1.p4.2.m2.6.7" xref="S4.SS1.p4.2.m2.6.7.cmml"><msubsup id="S4.SS1.p4.2.m2.6.7.2" xref="S4.SS1.p4.2.m2.6.7.2.cmml"><mi id="S4.SS1.p4.2.m2.6.7.2.2.2" xref="S4.SS1.p4.2.m2.6.7.2.2.2.cmml">𝐦</mi><mrow id="S4.SS1.p4.2.m2.6.7.2.2.3" xref="S4.SS1.p4.2.m2.6.7.2.2.3.cmml"><mi id="S4.SS1.p4.2.m2.6.7.2.2.3.2" xref="S4.SS1.p4.2.m2.6.7.2.2.3.2.cmml">i</mi><mo id="S4.SS1.p4.2.m2.6.7.2.2.3.1" stretchy="false" xref="S4.SS1.p4.2.m2.6.7.2.2.3.1.cmml">←</mo><mrow id="S4.SS1.p4.2.m2.6.7.2.2.3.3" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.cmml"><mi id="S4.SS1.p4.2.m2.6.7.2.2.3.3.2" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.2.cmml">s</mi><mo id="S4.SS1.p4.2.m2.6.7.2.2.3.3.1" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p4.2.m2.6.7.2.2.3.3.3" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.3.cmml">e</mi><mo id="S4.SS1.p4.2.m2.6.7.2.2.3.3.1a" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p4.2.m2.6.7.2.2.3.3.4" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.4.cmml">l</mi><mo id="S4.SS1.p4.2.m2.6.7.2.2.3.3.1b" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.1.cmml">⁢</mo><mi id="S4.SS1.p4.2.m2.6.7.2.2.3.3.5" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.5.cmml">f</mi></mrow></mrow><mrow id="S4.SS1.p4.2.m2.2.2.2.2" xref="S4.SS1.p4.2.m2.2.2.2.3.cmml"><mi id="S4.SS1.p4.2.m2.1.1.1.1" xref="S4.SS1.p4.2.m2.1.1.1.1.cmml">k</mi><mo id="S4.SS1.p4.2.m2.2.2.2.2.2" xref="S4.SS1.p4.2.m2.2.2.2.3.cmml">,</mo><mrow id="S4.SS1.p4.2.m2.2.2.2.2.1.1" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.cmml"><mo id="S4.SS1.p4.2.m2.2.2.2.2.1.1.2" stretchy="false" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.SS1.p4.2.m2.2.2.2.2.1.1.1" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.cmml"><mi id="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.2" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.2.cmml">l</mi><mo id="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.1" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.1.cmml">+</mo><mn id="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.3" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S4.SS1.p4.2.m2.2.2.2.2.1.1.3" stretchy="false" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></msubsup><mo id="S4.SS1.p4.2.m2.6.7.1" xref="S4.SS1.p4.2.m2.6.7.1.cmml">=</mo><mrow id="S4.SS1.p4.2.m2.6.7.3" xref="S4.SS1.p4.2.m2.6.7.3.cmml"><mfrac id="S4.SS1.p4.2.m2.3.3" xref="S4.SS1.p4.2.m2.3.3.cmml"><mn id="S4.SS1.p4.2.m2.3.3.3" xref="S4.SS1.p4.2.m2.3.3.3.cmml">1</mn><mrow id="S4.SS1.p4.2.m2.3.3.1.1" xref="S4.SS1.p4.2.m2.3.3.1.2.cmml"><mo id="S4.SS1.p4.2.m2.3.3.1.1.2" stretchy="false" xref="S4.SS1.p4.2.m2.3.3.1.2.1.cmml">|</mo><msubsup id="S4.SS1.p4.2.m2.3.3.1.1.1" xref="S4.SS1.p4.2.m2.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p4.2.m2.3.3.1.1.1.2.2" xref="S4.SS1.p4.2.m2.3.3.1.1.1.2.2.cmml">𝒩</mi><mi id="S4.SS1.p4.2.m2.3.3.1.1.1.2.3" xref="S4.SS1.p4.2.m2.3.3.1.1.1.2.3.cmml">i</mi><mi id="S4.SS1.p4.2.m2.3.3.1.1.1.3" xref="S4.SS1.p4.2.m2.3.3.1.1.1.3.cmml">k</mi></msubsup><mo id="S4.SS1.p4.2.m2.3.3.1.1.3" stretchy="false" xref="S4.SS1.p4.2.m2.3.3.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S4.SS1.p4.2.m2.6.7.3.1" lspace="0.170em" xref="S4.SS1.p4.2.m2.6.7.3.1.cmml">⁢</mo><msubsup id="S4.SS1.p4.2.m2.6.7.3.2" xref="S4.SS1.p4.2.m2.6.7.3.2.cmml"><mi id="S4.SS1.p4.2.m2.6.7.3.2.2.2" xref="S4.SS1.p4.2.m2.6.7.3.2.2.2.cmml">𝐡</mi><mi id="S4.SS1.p4.2.m2.6.7.3.2.2.3" xref="S4.SS1.p4.2.m2.6.7.3.2.2.3.cmml">i</mi><mrow id="S4.SS1.p4.2.m2.6.6.3.3" xref="S4.SS1.p4.2.m2.6.6.3.4.cmml"><mi id="S4.SS1.p4.2.m2.5.5.2.2" xref="S4.SS1.p4.2.m2.5.5.2.2.cmml">k</mi><mo id="S4.SS1.p4.2.m2.6.6.3.3.2" xref="S4.SS1.p4.2.m2.6.6.3.4.cmml">,</mo><mrow id="S4.SS1.p4.2.m2.6.6.3.3.1.2" xref="S4.SS1.p4.2.m2.6.6.3.4.cmml"><mo id="S4.SS1.p4.2.m2.6.6.3.3.1.2.1" stretchy="false" xref="S4.SS1.p4.2.m2.6.6.3.4.cmml">(</mo><mi id="S4.SS1.p4.2.m2.4.4.1.1" xref="S4.SS1.p4.2.m2.4.4.1.1.cmml">l</mi><mo id="S4.SS1.p4.2.m2.6.6.3.3.1.2.2" stretchy="false" xref="S4.SS1.p4.2.m2.6.6.3.4.cmml">)</mo></mrow></mrow></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.2.m2.6b"><apply id="S4.SS1.p4.2.m2.6.7.cmml" xref="S4.SS1.p4.2.m2.6.7"><eq id="S4.SS1.p4.2.m2.6.7.1.cmml" xref="S4.SS1.p4.2.m2.6.7.1"></eq><apply id="S4.SS1.p4.2.m2.6.7.2.cmml" xref="S4.SS1.p4.2.m2.6.7.2"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.6.7.2.1.cmml" xref="S4.SS1.p4.2.m2.6.7.2">superscript</csymbol><apply id="S4.SS1.p4.2.m2.6.7.2.2.cmml" xref="S4.SS1.p4.2.m2.6.7.2"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.6.7.2.2.1.cmml" xref="S4.SS1.p4.2.m2.6.7.2">subscript</csymbol><ci id="S4.SS1.p4.2.m2.6.7.2.2.2.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.2">𝐦</ci><apply id="S4.SS1.p4.2.m2.6.7.2.2.3.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3"><ci id="S4.SS1.p4.2.m2.6.7.2.2.3.1.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3.1">←</ci><ci id="S4.SS1.p4.2.m2.6.7.2.2.3.2.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3.2">𝑖</ci><apply id="S4.SS1.p4.2.m2.6.7.2.2.3.3.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3"><times id="S4.SS1.p4.2.m2.6.7.2.2.3.3.1.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.1"></times><ci id="S4.SS1.p4.2.m2.6.7.2.2.3.3.2.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.2">𝑠</ci><ci id="S4.SS1.p4.2.m2.6.7.2.2.3.3.3.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.3">𝑒</ci><ci id="S4.SS1.p4.2.m2.6.7.2.2.3.3.4.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.4">𝑙</ci><ci id="S4.SS1.p4.2.m2.6.7.2.2.3.3.5.cmml" xref="S4.SS1.p4.2.m2.6.7.2.2.3.3.5">𝑓</ci></apply></apply></apply><list id="S4.SS1.p4.2.m2.2.2.2.3.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2"><ci id="S4.SS1.p4.2.m2.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.1.1.1.1">𝑘</ci><apply id="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1"><plus id="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.1"></plus><ci id="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.2.cmml" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.2">𝑙</ci><cn id="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S4.SS1.p4.2.m2.2.2.2.2.1.1.1.3">1</cn></apply></list></apply><apply id="S4.SS1.p4.2.m2.6.7.3.cmml" xref="S4.SS1.p4.2.m2.6.7.3"><times id="S4.SS1.p4.2.m2.6.7.3.1.cmml" xref="S4.SS1.p4.2.m2.6.7.3.1"></times><apply id="S4.SS1.p4.2.m2.3.3.cmml" xref="S4.SS1.p4.2.m2.3.3"><divide id="S4.SS1.p4.2.m2.3.3.2.cmml" xref="S4.SS1.p4.2.m2.3.3"></divide><cn id="S4.SS1.p4.2.m2.3.3.3.cmml" type="integer" xref="S4.SS1.p4.2.m2.3.3.3">1</cn><apply id="S4.SS1.p4.2.m2.3.3.1.2.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1"><abs id="S4.SS1.p4.2.m2.3.3.1.2.1.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1.2"></abs><apply id="S4.SS1.p4.2.m2.3.3.1.1.1.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.3.3.1.1.1.1.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1.1">superscript</csymbol><apply id="S4.SS1.p4.2.m2.3.3.1.1.1.2.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.3.3.1.1.1.2.1.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1.1">subscript</csymbol><ci id="S4.SS1.p4.2.m2.3.3.1.1.1.2.2.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1.1.2.2">𝒩</ci><ci id="S4.SS1.p4.2.m2.3.3.1.1.1.2.3.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1.1.2.3">𝑖</ci></apply><ci id="S4.SS1.p4.2.m2.3.3.1.1.1.3.cmml" xref="S4.SS1.p4.2.m2.3.3.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="S4.SS1.p4.2.m2.6.7.3.2.cmml" xref="S4.SS1.p4.2.m2.6.7.3.2"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.6.7.3.2.1.cmml" xref="S4.SS1.p4.2.m2.6.7.3.2">superscript</csymbol><apply id="S4.SS1.p4.2.m2.6.7.3.2.2.cmml" xref="S4.SS1.p4.2.m2.6.7.3.2"><csymbol cd="ambiguous" id="S4.SS1.p4.2.m2.6.7.3.2.2.1.cmml" xref="S4.SS1.p4.2.m2.6.7.3.2">subscript</csymbol><ci id="S4.SS1.p4.2.m2.6.7.3.2.2.2.cmml" xref="S4.SS1.p4.2.m2.6.7.3.2.2.2">𝐡</ci><ci id="S4.SS1.p4.2.m2.6.7.3.2.2.3.cmml" xref="S4.SS1.p4.2.m2.6.7.3.2.2.3">𝑖</ci></apply><list id="S4.SS1.p4.2.m2.6.6.3.4.cmml" xref="S4.SS1.p4.2.m2.6.6.3.3"><ci id="S4.SS1.p4.2.m2.5.5.2.2.cmml" xref="S4.SS1.p4.2.m2.5.5.2.2">𝑘</ci><ci id="S4.SS1.p4.2.m2.4.4.1.1.cmml" xref="S4.SS1.p4.2.m2.4.4.1.1">𝑙</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.2.m2.6c">\mathbf{m}_{i\leftarrow self}^{k,(l+1)}=\frac{1}{|\mathcal{N}_{i}^{k}|}\,%
\mathbf{h}_{i}^{k,(l)}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.2.m2.6d">bold_m start_POSTSUBSCRIPT italic_i ← italic_s italic_e italic_l italic_f end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l + 1 ) end_POSTSUPERSCRIPT = divide start_ARG 1 end_ARG start_ARG | caligraphic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT | end_ARG bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l ) end_POSTSUPERSCRIPT</annotation></semantics></math>. The new representation of <math alttext="v_{i}" class="ltx_Math" display="inline" id="S4.SS1.p4.3.m3.1"><semantics id="S4.SS1.p4.3.m3.1a"><msub id="S4.SS1.p4.3.m3.1.1" xref="S4.SS1.p4.3.m3.1.1.cmml"><mi id="S4.SS1.p4.3.m3.1.1.2" xref="S4.SS1.p4.3.m3.1.1.2.cmml">v</mi><mi id="S4.SS1.p4.3.m3.1.1.3" xref="S4.SS1.p4.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.3.m3.1b"><apply id="S4.SS1.p4.3.m3.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p4.3.m3.1.1.1.cmml" xref="S4.SS1.p4.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.p4.3.m3.1.1.2.cmml" xref="S4.SS1.p4.3.m3.1.1.2">𝑣</ci><ci id="S4.SS1.p4.3.m3.1.1.3.cmml" xref="S4.SS1.p4.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.3.m3.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.3.m3.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in the <math alttext="(l+1)" class="ltx_Math" display="inline" id="S4.SS1.p4.4.m4.1"><semantics id="S4.SS1.p4.4.m4.1a"><mrow id="S4.SS1.p4.4.m4.1.1.1" xref="S4.SS1.p4.4.m4.1.1.1.1.cmml"><mo id="S4.SS1.p4.4.m4.1.1.1.2" stretchy="false" xref="S4.SS1.p4.4.m4.1.1.1.1.cmml">(</mo><mrow id="S4.SS1.p4.4.m4.1.1.1.1" xref="S4.SS1.p4.4.m4.1.1.1.1.cmml"><mi id="S4.SS1.p4.4.m4.1.1.1.1.2" xref="S4.SS1.p4.4.m4.1.1.1.1.2.cmml">l</mi><mo id="S4.SS1.p4.4.m4.1.1.1.1.1" xref="S4.SS1.p4.4.m4.1.1.1.1.1.cmml">+</mo><mn id="S4.SS1.p4.4.m4.1.1.1.1.3" xref="S4.SS1.p4.4.m4.1.1.1.1.3.cmml">1</mn></mrow><mo id="S4.SS1.p4.4.m4.1.1.1.3" stretchy="false" xref="S4.SS1.p4.4.m4.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p4.4.m4.1b"><apply id="S4.SS1.p4.4.m4.1.1.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1.1"><plus id="S4.SS1.p4.4.m4.1.1.1.1.1.cmml" xref="S4.SS1.p4.4.m4.1.1.1.1.1"></plus><ci id="S4.SS1.p4.4.m4.1.1.1.1.2.cmml" xref="S4.SS1.p4.4.m4.1.1.1.1.2">𝑙</ci><cn id="S4.SS1.p4.4.m4.1.1.1.1.3.cmml" type="integer" xref="S4.SS1.p4.4.m4.1.1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p4.4.m4.1c">(l+1)</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p4.4.m4.1d">( italic_l + 1 )</annotation></semantics></math>-th layer can then be formulated as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{h}_{i}^{k,(l+1)}=\overbrace{\mathbf{m}_{i\leftarrow self}^{k,(l+1)}}^{%
\text{self}}\ +\overbrace{\sum_{j\in\mathcal{N}_{i}^{k}}\mathbf{m}_{i%
\leftarrow j}^{k,(l+1)}}^{\text{from neighbors}}." class="ltx_Math" display="block" id="S4.E2.m1.7"><semantics id="S4.E2.m1.7a"><mrow id="S4.E2.m1.7.7.1" xref="S4.E2.m1.7.7.1.1.cmml"><mrow id="S4.E2.m1.7.7.1.1" xref="S4.E2.m1.7.7.1.1.cmml"><msubsup id="S4.E2.m1.7.7.1.1.2" xref="S4.E2.m1.7.7.1.1.2.cmml"><mi id="S4.E2.m1.7.7.1.1.2.2.2" xref="S4.E2.m1.7.7.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.E2.m1.7.7.1.1.2.2.3" xref="S4.E2.m1.7.7.1.1.2.2.3.cmml">i</mi><mrow id="S4.E2.m1.2.2.2.2" xref="S4.E2.m1.2.2.2.3.cmml"><mi id="S4.E2.m1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.cmml">k</mi><mo id="S4.E2.m1.2.2.2.2.2" xref="S4.E2.m1.2.2.2.3.cmml">,</mo><mrow id="S4.E2.m1.2.2.2.2.1.1" xref="S4.E2.m1.2.2.2.2.1.1.1.cmml"><mo id="S4.E2.m1.2.2.2.2.1.1.2" stretchy="false" xref="S4.E2.m1.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.E2.m1.2.2.2.2.1.1.1" xref="S4.E2.m1.2.2.2.2.1.1.1.cmml"><mi id="S4.E2.m1.2.2.2.2.1.1.1.2" xref="S4.E2.m1.2.2.2.2.1.1.1.2.cmml">l</mi><mo id="S4.E2.m1.2.2.2.2.1.1.1.1" xref="S4.E2.m1.2.2.2.2.1.1.1.1.cmml">+</mo><mn id="S4.E2.m1.2.2.2.2.1.1.1.3" xref="S4.E2.m1.2.2.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S4.E2.m1.2.2.2.2.1.1.3" stretchy="false" xref="S4.E2.m1.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></msubsup><mo id="S4.E2.m1.7.7.1.1.1" xref="S4.E2.m1.7.7.1.1.1.cmml">=</mo><mrow id="S4.E2.m1.7.7.1.1.3" xref="S4.E2.m1.7.7.1.1.3.cmml"><mover id="S4.E2.m1.7.7.1.1.3.2" xref="S4.E2.m1.7.7.1.1.3.2.cmml"><mover accent="true" id="S4.E2.m1.4.4" xref="S4.E2.m1.4.4.cmml"><msubsup id="S4.E2.m1.4.4.2" xref="S4.E2.m1.4.4.2.cmml"><mi id="S4.E2.m1.4.4.2.4.2" xref="S4.E2.m1.4.4.2.4.2.cmml">𝐦</mi><mrow id="S4.E2.m1.4.4.2.4.3" xref="S4.E2.m1.4.4.2.4.3.cmml"><mi id="S4.E2.m1.4.4.2.4.3.2" xref="S4.E2.m1.4.4.2.4.3.2.cmml">i</mi><mo id="S4.E2.m1.4.4.2.4.3.1" stretchy="false" xref="S4.E2.m1.4.4.2.4.3.1.cmml">←</mo><mrow id="S4.E2.m1.4.4.2.4.3.3" xref="S4.E2.m1.4.4.2.4.3.3.cmml"><mi id="S4.E2.m1.4.4.2.4.3.3.2" xref="S4.E2.m1.4.4.2.4.3.3.2.cmml">s</mi><mo id="S4.E2.m1.4.4.2.4.3.3.1" xref="S4.E2.m1.4.4.2.4.3.3.1.cmml">⁢</mo><mi id="S4.E2.m1.4.4.2.4.3.3.3" xref="S4.E2.m1.4.4.2.4.3.3.3.cmml">e</mi><mo id="S4.E2.m1.4.4.2.4.3.3.1a" xref="S4.E2.m1.4.4.2.4.3.3.1.cmml">⁢</mo><mi id="S4.E2.m1.4.4.2.4.3.3.4" xref="S4.E2.m1.4.4.2.4.3.3.4.cmml">l</mi><mo id="S4.E2.m1.4.4.2.4.3.3.1b" xref="S4.E2.m1.4.4.2.4.3.3.1.cmml">⁢</mo><mi id="S4.E2.m1.4.4.2.4.3.3.5" xref="S4.E2.m1.4.4.2.4.3.3.5.cmml">f</mi></mrow></mrow><mrow id="S4.E2.m1.4.4.2.2.2.2" xref="S4.E2.m1.4.4.2.2.2.3.cmml"><mi id="S4.E2.m1.3.3.1.1.1.1" xref="S4.E2.m1.3.3.1.1.1.1.cmml">k</mi><mo id="S4.E2.m1.4.4.2.2.2.2.2" xref="S4.E2.m1.4.4.2.2.2.3.cmml">,</mo><mrow id="S4.E2.m1.4.4.2.2.2.2.1.1" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.cmml"><mo id="S4.E2.m1.4.4.2.2.2.2.1.1.2" stretchy="false" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.E2.m1.4.4.2.2.2.2.1.1.1" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.cmml"><mi id="S4.E2.m1.4.4.2.2.2.2.1.1.1.2" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.2.cmml">l</mi><mo id="S4.E2.m1.4.4.2.2.2.2.1.1.1.1" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.1.cmml">+</mo><mn id="S4.E2.m1.4.4.2.2.2.2.1.1.1.3" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S4.E2.m1.4.4.2.2.2.2.1.1.3" stretchy="false" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></msubsup><mo id="S4.E2.m1.4.4.3" xref="S4.E2.m1.4.4.3.cmml">⏞</mo></mover><mtext id="S4.E2.m1.7.7.1.1.3.2.2" xref="S4.E2.m1.7.7.1.1.3.2.2a.cmml">self</mtext></mover><mo id="S4.E2.m1.7.7.1.1.3.1" rspace="0.055em" xref="S4.E2.m1.7.7.1.1.3.1.cmml">+</mo><mover id="S4.E2.m1.7.7.1.1.3.3" xref="S4.E2.m1.7.7.1.1.3.3.cmml"><mover accent="true" id="S4.E2.m1.6.6" xref="S4.E2.m1.6.6.cmml"><mrow id="S4.E2.m1.6.6.2" xref="S4.E2.m1.6.6.2.cmml"><munder id="S4.E2.m1.6.6.2.3" xref="S4.E2.m1.6.6.2.3.cmml"><mo id="S4.E2.m1.6.6.2.3.2" movablelimits="false" xref="S4.E2.m1.6.6.2.3.2.cmml">∑</mo><mrow id="S4.E2.m1.6.6.2.3.3" xref="S4.E2.m1.6.6.2.3.3.cmml"><mi id="S4.E2.m1.6.6.2.3.3.2" xref="S4.E2.m1.6.6.2.3.3.2.cmml">j</mi><mo id="S4.E2.m1.6.6.2.3.3.1" xref="S4.E2.m1.6.6.2.3.3.1.cmml">∈</mo><msubsup id="S4.E2.m1.6.6.2.3.3.3" xref="S4.E2.m1.6.6.2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.6.6.2.3.3.3.2.2" xref="S4.E2.m1.6.6.2.3.3.3.2.2.cmml">𝒩</mi><mi id="S4.E2.m1.6.6.2.3.3.3.2.3" xref="S4.E2.m1.6.6.2.3.3.3.2.3.cmml">i</mi><mi id="S4.E2.m1.6.6.2.3.3.3.3" xref="S4.E2.m1.6.6.2.3.3.3.3.cmml">k</mi></msubsup></mrow></munder><msubsup id="S4.E2.m1.6.6.2.4" xref="S4.E2.m1.6.6.2.4.cmml"><mi id="S4.E2.m1.6.6.2.4.2.2" xref="S4.E2.m1.6.6.2.4.2.2.cmml">𝐦</mi><mrow id="S4.E2.m1.6.6.2.4.2.3" xref="S4.E2.m1.6.6.2.4.2.3.cmml"><mi id="S4.E2.m1.6.6.2.4.2.3.2" xref="S4.E2.m1.6.6.2.4.2.3.2.cmml">i</mi><mo id="S4.E2.m1.6.6.2.4.2.3.1" stretchy="false" xref="S4.E2.m1.6.6.2.4.2.3.1.cmml">←</mo><mi id="S4.E2.m1.6.6.2.4.2.3.3" xref="S4.E2.m1.6.6.2.4.2.3.3.cmml">j</mi></mrow><mrow id="S4.E2.m1.6.6.2.2.2.2" xref="S4.E2.m1.6.6.2.2.2.3.cmml"><mi id="S4.E2.m1.5.5.1.1.1.1" xref="S4.E2.m1.5.5.1.1.1.1.cmml">k</mi><mo id="S4.E2.m1.6.6.2.2.2.2.2" xref="S4.E2.m1.6.6.2.2.2.3.cmml">,</mo><mrow id="S4.E2.m1.6.6.2.2.2.2.1.1" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.cmml"><mo id="S4.E2.m1.6.6.2.2.2.2.1.1.2" stretchy="false" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.E2.m1.6.6.2.2.2.2.1.1.1" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.cmml"><mi id="S4.E2.m1.6.6.2.2.2.2.1.1.1.2" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.2.cmml">l</mi><mo id="S4.E2.m1.6.6.2.2.2.2.1.1.1.1" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.1.cmml">+</mo><mn id="S4.E2.m1.6.6.2.2.2.2.1.1.1.3" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="S4.E2.m1.6.6.2.2.2.2.1.1.3" stretchy="false" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></msubsup></mrow><mo id="S4.E2.m1.6.6.3" xref="S4.E2.m1.6.6.3.cmml">⏞</mo></mover><mtext id="S4.E2.m1.7.7.1.1.3.3.2" xref="S4.E2.m1.7.7.1.1.3.3.2a.cmml">from neighbors</mtext></mover></mrow></mrow><mo id="S4.E2.m1.7.7.1.2" lspace="0em" xref="S4.E2.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.7b"><apply id="S4.E2.m1.7.7.1.1.cmml" xref="S4.E2.m1.7.7.1"><eq id="S4.E2.m1.7.7.1.1.1.cmml" xref="S4.E2.m1.7.7.1.1.1"></eq><apply id="S4.E2.m1.7.7.1.1.2.cmml" xref="S4.E2.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S4.E2.m1.7.7.1.1.2.1.cmml" xref="S4.E2.m1.7.7.1.1.2">superscript</csymbol><apply id="S4.E2.m1.7.7.1.1.2.2.cmml" xref="S4.E2.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S4.E2.m1.7.7.1.1.2.2.1.cmml" xref="S4.E2.m1.7.7.1.1.2">subscript</csymbol><ci id="S4.E2.m1.7.7.1.1.2.2.2.cmml" xref="S4.E2.m1.7.7.1.1.2.2.2">𝐡</ci><ci id="S4.E2.m1.7.7.1.1.2.2.3.cmml" xref="S4.E2.m1.7.7.1.1.2.2.3">𝑖</ci></apply><list id="S4.E2.m1.2.2.2.3.cmml" xref="S4.E2.m1.2.2.2.2"><ci id="S4.E2.m1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1">𝑘</ci><apply id="S4.E2.m1.2.2.2.2.1.1.1.cmml" xref="S4.E2.m1.2.2.2.2.1.1"><plus id="S4.E2.m1.2.2.2.2.1.1.1.1.cmml" xref="S4.E2.m1.2.2.2.2.1.1.1.1"></plus><ci id="S4.E2.m1.2.2.2.2.1.1.1.2.cmml" xref="S4.E2.m1.2.2.2.2.1.1.1.2">𝑙</ci><cn id="S4.E2.m1.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S4.E2.m1.2.2.2.2.1.1.1.3">1</cn></apply></list></apply><apply id="S4.E2.m1.7.7.1.1.3.cmml" xref="S4.E2.m1.7.7.1.1.3"><plus id="S4.E2.m1.7.7.1.1.3.1.cmml" xref="S4.E2.m1.7.7.1.1.3.1"></plus><apply id="S4.E2.m1.7.7.1.1.3.2.cmml" xref="S4.E2.m1.7.7.1.1.3.2"><csymbol cd="ambiguous" id="S4.E2.m1.7.7.1.1.3.2.1.cmml" xref="S4.E2.m1.7.7.1.1.3.2">superscript</csymbol><apply id="S4.E2.m1.4.4.cmml" xref="S4.E2.m1.4.4"><ci id="S4.E2.m1.4.4.3.cmml" xref="S4.E2.m1.4.4.3">⏞</ci><apply id="S4.E2.m1.4.4.2.cmml" xref="S4.E2.m1.4.4.2"><csymbol cd="ambiguous" id="S4.E2.m1.4.4.2.3.cmml" xref="S4.E2.m1.4.4.2">superscript</csymbol><apply id="S4.E2.m1.4.4.2.4.cmml" xref="S4.E2.m1.4.4.2"><csymbol cd="ambiguous" id="S4.E2.m1.4.4.2.4.1.cmml" xref="S4.E2.m1.4.4.2">subscript</csymbol><ci id="S4.E2.m1.4.4.2.4.2.cmml" xref="S4.E2.m1.4.4.2.4.2">𝐦</ci><apply id="S4.E2.m1.4.4.2.4.3.cmml" xref="S4.E2.m1.4.4.2.4.3"><ci id="S4.E2.m1.4.4.2.4.3.1.cmml" xref="S4.E2.m1.4.4.2.4.3.1">←</ci><ci id="S4.E2.m1.4.4.2.4.3.2.cmml" xref="S4.E2.m1.4.4.2.4.3.2">𝑖</ci><apply id="S4.E2.m1.4.4.2.4.3.3.cmml" xref="S4.E2.m1.4.4.2.4.3.3"><times id="S4.E2.m1.4.4.2.4.3.3.1.cmml" xref="S4.E2.m1.4.4.2.4.3.3.1"></times><ci id="S4.E2.m1.4.4.2.4.3.3.2.cmml" xref="S4.E2.m1.4.4.2.4.3.3.2">𝑠</ci><ci id="S4.E2.m1.4.4.2.4.3.3.3.cmml" xref="S4.E2.m1.4.4.2.4.3.3.3">𝑒</ci><ci id="S4.E2.m1.4.4.2.4.3.3.4.cmml" xref="S4.E2.m1.4.4.2.4.3.3.4">𝑙</ci><ci id="S4.E2.m1.4.4.2.4.3.3.5.cmml" xref="S4.E2.m1.4.4.2.4.3.3.5">𝑓</ci></apply></apply></apply><list id="S4.E2.m1.4.4.2.2.2.3.cmml" xref="S4.E2.m1.4.4.2.2.2.2"><ci id="S4.E2.m1.3.3.1.1.1.1.cmml" xref="S4.E2.m1.3.3.1.1.1.1">𝑘</ci><apply id="S4.E2.m1.4.4.2.2.2.2.1.1.1.cmml" xref="S4.E2.m1.4.4.2.2.2.2.1.1"><plus id="S4.E2.m1.4.4.2.2.2.2.1.1.1.1.cmml" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.1"></plus><ci id="S4.E2.m1.4.4.2.2.2.2.1.1.1.2.cmml" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.2">𝑙</ci><cn id="S4.E2.m1.4.4.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S4.E2.m1.4.4.2.2.2.2.1.1.1.3">1</cn></apply></list></apply></apply><ci id="S4.E2.m1.7.7.1.1.3.2.2a.cmml" xref="S4.E2.m1.7.7.1.1.3.2.2"><mtext id="S4.E2.m1.7.7.1.1.3.2.2.cmml" mathsize="70%" xref="S4.E2.m1.7.7.1.1.3.2.2">self</mtext></ci></apply><apply id="S4.E2.m1.7.7.1.1.3.3.cmml" xref="S4.E2.m1.7.7.1.1.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.7.7.1.1.3.3.1.cmml" xref="S4.E2.m1.7.7.1.1.3.3">superscript</csymbol><apply id="S4.E2.m1.6.6.cmml" xref="S4.E2.m1.6.6"><ci id="S4.E2.m1.6.6.3.cmml" xref="S4.E2.m1.6.6.3">⏞</ci><apply id="S4.E2.m1.6.6.2.cmml" xref="S4.E2.m1.6.6.2"><apply id="S4.E2.m1.6.6.2.3.cmml" xref="S4.E2.m1.6.6.2.3"><csymbol cd="ambiguous" id="S4.E2.m1.6.6.2.3.1.cmml" xref="S4.E2.m1.6.6.2.3">subscript</csymbol><sum id="S4.E2.m1.6.6.2.3.2.cmml" xref="S4.E2.m1.6.6.2.3.2"></sum><apply id="S4.E2.m1.6.6.2.3.3.cmml" xref="S4.E2.m1.6.6.2.3.3"><in id="S4.E2.m1.6.6.2.3.3.1.cmml" xref="S4.E2.m1.6.6.2.3.3.1"></in><ci id="S4.E2.m1.6.6.2.3.3.2.cmml" xref="S4.E2.m1.6.6.2.3.3.2">𝑗</ci><apply id="S4.E2.m1.6.6.2.3.3.3.cmml" xref="S4.E2.m1.6.6.2.3.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.6.6.2.3.3.3.1.cmml" xref="S4.E2.m1.6.6.2.3.3.3">superscript</csymbol><apply id="S4.E2.m1.6.6.2.3.3.3.2.cmml" xref="S4.E2.m1.6.6.2.3.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.6.6.2.3.3.3.2.1.cmml" xref="S4.E2.m1.6.6.2.3.3.3">subscript</csymbol><ci id="S4.E2.m1.6.6.2.3.3.3.2.2.cmml" xref="S4.E2.m1.6.6.2.3.3.3.2.2">𝒩</ci><ci id="S4.E2.m1.6.6.2.3.3.3.2.3.cmml" xref="S4.E2.m1.6.6.2.3.3.3.2.3">𝑖</ci></apply><ci id="S4.E2.m1.6.6.2.3.3.3.3.cmml" xref="S4.E2.m1.6.6.2.3.3.3.3">𝑘</ci></apply></apply></apply><apply id="S4.E2.m1.6.6.2.4.cmml" xref="S4.E2.m1.6.6.2.4"><csymbol cd="ambiguous" id="S4.E2.m1.6.6.2.4.1.cmml" xref="S4.E2.m1.6.6.2.4">superscript</csymbol><apply id="S4.E2.m1.6.6.2.4.2.cmml" xref="S4.E2.m1.6.6.2.4"><csymbol cd="ambiguous" id="S4.E2.m1.6.6.2.4.2.1.cmml" xref="S4.E2.m1.6.6.2.4">subscript</csymbol><ci id="S4.E2.m1.6.6.2.4.2.2.cmml" xref="S4.E2.m1.6.6.2.4.2.2">𝐦</ci><apply id="S4.E2.m1.6.6.2.4.2.3.cmml" xref="S4.E2.m1.6.6.2.4.2.3"><ci id="S4.E2.m1.6.6.2.4.2.3.1.cmml" xref="S4.E2.m1.6.6.2.4.2.3.1">←</ci><ci id="S4.E2.m1.6.6.2.4.2.3.2.cmml" xref="S4.E2.m1.6.6.2.4.2.3.2">𝑖</ci><ci id="S4.E2.m1.6.6.2.4.2.3.3.cmml" xref="S4.E2.m1.6.6.2.4.2.3.3">𝑗</ci></apply></apply><list id="S4.E2.m1.6.6.2.2.2.3.cmml" xref="S4.E2.m1.6.6.2.2.2.2"><ci id="S4.E2.m1.5.5.1.1.1.1.cmml" xref="S4.E2.m1.5.5.1.1.1.1">𝑘</ci><apply id="S4.E2.m1.6.6.2.2.2.2.1.1.1.cmml" xref="S4.E2.m1.6.6.2.2.2.2.1.1"><plus id="S4.E2.m1.6.6.2.2.2.2.1.1.1.1.cmml" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.1"></plus><ci id="S4.E2.m1.6.6.2.2.2.2.1.1.1.2.cmml" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.2">𝑙</ci><cn id="S4.E2.m1.6.6.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S4.E2.m1.6.6.2.2.2.2.1.1.1.3">1</cn></apply></list></apply></apply></apply><ci id="S4.E2.m1.7.7.1.1.3.3.2a.cmml" xref="S4.E2.m1.7.7.1.1.3.3.2"><mtext id="S4.E2.m1.7.7.1.1.3.3.2.cmml" mathsize="70%" xref="S4.E2.m1.7.7.1.1.3.3.2">from neighbors</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.7c">\mathbf{h}_{i}^{k,(l+1)}=\overbrace{\mathbf{m}_{i\leftarrow self}^{k,(l+1)}}^{%
\text{self}}\ +\overbrace{\sum_{j\in\mathcal{N}_{i}^{k}}\mathbf{m}_{i%
\leftarrow j}^{k,(l+1)}}^{\text{from neighbors}}.</annotation><annotation encoding="application/x-llamapun" id="S4.E2.m1.7d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l + 1 ) end_POSTSUPERSCRIPT = over⏞ start_ARG bold_m start_POSTSUBSCRIPT italic_i ← italic_s italic_e italic_l italic_f end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l + 1 ) end_POSTSUPERSCRIPT end_ARG start_POSTSUPERSCRIPT self end_POSTSUPERSCRIPT + over⏞ start_ARG ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_N start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT end_POSTSUBSCRIPT bold_m start_POSTSUBSCRIPT italic_i ← italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l + 1 ) end_POSTSUPERSCRIPT end_ARG start_POSTSUPERSCRIPT from neighbors end_POSTSUPERSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.SS1.p5">
<p class="ltx_p" id="S4.SS1.p5.8"><em class="ltx_emph ltx_font_italic" id="S4.SS1.p5.8.1">Layer Combination.</em> Since the messages are propagated iteratively on GNN, each layer would capture information of different granularity. As a result, we further combine the node embeddings in different layers to generate the final representation with respect to the underlying network structure as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{h}_{i}^{k}=\sum_{l=0}^{L}\frac{\theta_{l}}{\sum_{l=0}^{L}\theta_{l}}\,%
\mathbf{h}_{i}^{k,(l)}," class="ltx_Math" display="block" id="S4.E3.m1.4"><semantics id="S4.E3.m1.4a"><mrow id="S4.E3.m1.4.4.1" xref="S4.E3.m1.4.4.1.1.cmml"><mrow id="S4.E3.m1.4.4.1.1" xref="S4.E3.m1.4.4.1.1.cmml"><msubsup id="S4.E3.m1.4.4.1.1.2" xref="S4.E3.m1.4.4.1.1.2.cmml"><mi id="S4.E3.m1.4.4.1.1.2.2.2" xref="S4.E3.m1.4.4.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.E3.m1.4.4.1.1.2.2.3" xref="S4.E3.m1.4.4.1.1.2.2.3.cmml">i</mi><mi id="S4.E3.m1.4.4.1.1.2.3" xref="S4.E3.m1.4.4.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.E3.m1.4.4.1.1.1" rspace="0.111em" xref="S4.E3.m1.4.4.1.1.1.cmml">=</mo><mrow id="S4.E3.m1.4.4.1.1.3" xref="S4.E3.m1.4.4.1.1.3.cmml"><munderover id="S4.E3.m1.4.4.1.1.3.1" xref="S4.E3.m1.4.4.1.1.3.1.cmml"><mo id="S4.E3.m1.4.4.1.1.3.1.2.2" movablelimits="false" xref="S4.E3.m1.4.4.1.1.3.1.2.2.cmml">∑</mo><mrow id="S4.E3.m1.4.4.1.1.3.1.2.3" xref="S4.E3.m1.4.4.1.1.3.1.2.3.cmml"><mi id="S4.E3.m1.4.4.1.1.3.1.2.3.2" xref="S4.E3.m1.4.4.1.1.3.1.2.3.2.cmml">l</mi><mo id="S4.E3.m1.4.4.1.1.3.1.2.3.1" xref="S4.E3.m1.4.4.1.1.3.1.2.3.1.cmml">=</mo><mn id="S4.E3.m1.4.4.1.1.3.1.2.3.3" xref="S4.E3.m1.4.4.1.1.3.1.2.3.3.cmml">0</mn></mrow><mi id="S4.E3.m1.4.4.1.1.3.1.3" xref="S4.E3.m1.4.4.1.1.3.1.3.cmml">L</mi></munderover><mrow id="S4.E3.m1.4.4.1.1.3.2" xref="S4.E3.m1.4.4.1.1.3.2.cmml"><mfrac id="S4.E3.m1.4.4.1.1.3.2.2" xref="S4.E3.m1.4.4.1.1.3.2.2.cmml"><msub id="S4.E3.m1.4.4.1.1.3.2.2.2" xref="S4.E3.m1.4.4.1.1.3.2.2.2.cmml"><mi id="S4.E3.m1.4.4.1.1.3.2.2.2.2" xref="S4.E3.m1.4.4.1.1.3.2.2.2.2.cmml">θ</mi><mi id="S4.E3.m1.4.4.1.1.3.2.2.2.3" xref="S4.E3.m1.4.4.1.1.3.2.2.2.3.cmml">l</mi></msub><mrow id="S4.E3.m1.4.4.1.1.3.2.2.3" xref="S4.E3.m1.4.4.1.1.3.2.2.3.cmml"><msubsup id="S4.E3.m1.4.4.1.1.3.2.2.3.1" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.cmml"><mo id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.2" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.2.cmml">∑</mo><mrow id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.cmml"><mi id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.2" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.2.cmml">l</mi><mo id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.1" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.1.cmml">=</mo><mn id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.3" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.3.cmml">0</mn></mrow><mi id="S4.E3.m1.4.4.1.1.3.2.2.3.1.3" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.3.cmml">L</mi></msubsup><msub id="S4.E3.m1.4.4.1.1.3.2.2.3.2" xref="S4.E3.m1.4.4.1.1.3.2.2.3.2.cmml"><mi id="S4.E3.m1.4.4.1.1.3.2.2.3.2.2" xref="S4.E3.m1.4.4.1.1.3.2.2.3.2.2.cmml">θ</mi><mi id="S4.E3.m1.4.4.1.1.3.2.2.3.2.3" xref="S4.E3.m1.4.4.1.1.3.2.2.3.2.3.cmml">l</mi></msub></mrow></mfrac><mo id="S4.E3.m1.4.4.1.1.3.2.1" lspace="0.170em" xref="S4.E3.m1.4.4.1.1.3.2.1.cmml">⁢</mo><msubsup id="S4.E3.m1.4.4.1.1.3.2.3" xref="S4.E3.m1.4.4.1.1.3.2.3.cmml"><mi id="S4.E3.m1.4.4.1.1.3.2.3.2.2" xref="S4.E3.m1.4.4.1.1.3.2.3.2.2.cmml">𝐡</mi><mi id="S4.E3.m1.4.4.1.1.3.2.3.2.3" xref="S4.E3.m1.4.4.1.1.3.2.3.2.3.cmml">i</mi><mrow id="S4.E3.m1.3.3.3.3" xref="S4.E3.m1.3.3.3.4.cmml"><mi id="S4.E3.m1.2.2.2.2" xref="S4.E3.m1.2.2.2.2.cmml">k</mi><mo id="S4.E3.m1.3.3.3.3.2" xref="S4.E3.m1.3.3.3.4.cmml">,</mo><mrow id="S4.E3.m1.3.3.3.3.1.2" xref="S4.E3.m1.3.3.3.4.cmml"><mo id="S4.E3.m1.3.3.3.3.1.2.1" stretchy="false" xref="S4.E3.m1.3.3.3.4.cmml">(</mo><mi id="S4.E3.m1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.cmml">l</mi><mo id="S4.E3.m1.3.3.3.3.1.2.2" stretchy="false" xref="S4.E3.m1.3.3.3.4.cmml">)</mo></mrow></mrow></msubsup></mrow></mrow></mrow><mo id="S4.E3.m1.4.4.1.2" xref="S4.E3.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.4b"><apply id="S4.E3.m1.4.4.1.1.cmml" xref="S4.E3.m1.4.4.1"><eq id="S4.E3.m1.4.4.1.1.1.cmml" xref="S4.E3.m1.4.4.1.1.1"></eq><apply id="S4.E3.m1.4.4.1.1.2.cmml" xref="S4.E3.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.2.1.cmml" xref="S4.E3.m1.4.4.1.1.2">superscript</csymbol><apply id="S4.E3.m1.4.4.1.1.2.2.cmml" xref="S4.E3.m1.4.4.1.1.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.2.2.1.cmml" xref="S4.E3.m1.4.4.1.1.2">subscript</csymbol><ci id="S4.E3.m1.4.4.1.1.2.2.2.cmml" xref="S4.E3.m1.4.4.1.1.2.2.2">𝐡</ci><ci id="S4.E3.m1.4.4.1.1.2.2.3.cmml" xref="S4.E3.m1.4.4.1.1.2.2.3">𝑖</ci></apply><ci id="S4.E3.m1.4.4.1.1.2.3.cmml" xref="S4.E3.m1.4.4.1.1.2.3">𝑘</ci></apply><apply id="S4.E3.m1.4.4.1.1.3.cmml" xref="S4.E3.m1.4.4.1.1.3"><apply id="S4.E3.m1.4.4.1.1.3.1.cmml" xref="S4.E3.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.1.1.cmml" xref="S4.E3.m1.4.4.1.1.3.1">superscript</csymbol><apply id="S4.E3.m1.4.4.1.1.3.1.2.cmml" xref="S4.E3.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.1.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.1">subscript</csymbol><sum id="S4.E3.m1.4.4.1.1.3.1.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.2"></sum><apply id="S4.E3.m1.4.4.1.1.3.1.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.3"><eq id="S4.E3.m1.4.4.1.1.3.1.2.3.1.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.3.1"></eq><ci id="S4.E3.m1.4.4.1.1.3.1.2.3.2.cmml" xref="S4.E3.m1.4.4.1.1.3.1.2.3.2">𝑙</ci><cn id="S4.E3.m1.4.4.1.1.3.1.2.3.3.cmml" type="integer" xref="S4.E3.m1.4.4.1.1.3.1.2.3.3">0</cn></apply></apply><ci id="S4.E3.m1.4.4.1.1.3.1.3.cmml" xref="S4.E3.m1.4.4.1.1.3.1.3">𝐿</ci></apply><apply id="S4.E3.m1.4.4.1.1.3.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2"><times id="S4.E3.m1.4.4.1.1.3.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.1"></times><apply id="S4.E3.m1.4.4.1.1.3.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2"><divide id="S4.E3.m1.4.4.1.1.3.2.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2"></divide><apply id="S4.E3.m1.4.4.1.1.3.2.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.2.2.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.2">subscript</csymbol><ci id="S4.E3.m1.4.4.1.1.3.2.2.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.2.2">𝜃</ci><ci id="S4.E3.m1.4.4.1.1.3.2.2.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.2.3">𝑙</ci></apply><apply id="S4.E3.m1.4.4.1.1.3.2.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3"><apply id="S4.E3.m1.4.4.1.1.3.2.2.3.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.2.2.3.1.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1">superscript</csymbol><apply id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1">subscript</csymbol><sum id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.2"></sum><apply id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3"><eq id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.1"></eq><ci id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.2">𝑙</ci><cn id="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.3.cmml" type="integer" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.2.3.3">0</cn></apply></apply><ci id="S4.E3.m1.4.4.1.1.3.2.2.3.1.3.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.1.3">𝐿</ci></apply><apply id="S4.E3.m1.4.4.1.1.3.2.2.3.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.2"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.2.2.3.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.2">subscript</csymbol><ci id="S4.E3.m1.4.4.1.1.3.2.2.3.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.2.2">𝜃</ci><ci id="S4.E3.m1.4.4.1.1.3.2.2.3.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.2.2.3.2.3">𝑙</ci></apply></apply></apply><apply id="S4.E3.m1.4.4.1.1.3.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.2.3.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.3">superscript</csymbol><apply id="S4.E3.m1.4.4.1.1.3.2.3.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.3"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.1.1.3.2.3.2.1.cmml" xref="S4.E3.m1.4.4.1.1.3.2.3">subscript</csymbol><ci id="S4.E3.m1.4.4.1.1.3.2.3.2.2.cmml" xref="S4.E3.m1.4.4.1.1.3.2.3.2.2">𝐡</ci><ci id="S4.E3.m1.4.4.1.1.3.2.3.2.3.cmml" xref="S4.E3.m1.4.4.1.1.3.2.3.2.3">𝑖</ci></apply><list id="S4.E3.m1.3.3.3.4.cmml" xref="S4.E3.m1.3.3.3.3"><ci id="S4.E3.m1.2.2.2.2.cmml" xref="S4.E3.m1.2.2.2.2">𝑘</ci><ci id="S4.E3.m1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1">𝑙</ci></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.4c">\mathbf{h}_{i}^{k}=\sum_{l=0}^{L}\frac{\theta_{l}}{\sum_{l=0}^{L}\theta_{l}}\,%
\mathbf{h}_{i}^{k,(l)},</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m1.4d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT = ∑ start_POSTSUBSCRIPT italic_l = 0 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT divide start_ARG italic_θ start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_l = 0 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_L end_POSTSUPERSCRIPT italic_θ start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_ARG bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k , ( italic_l ) end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.p5.7">where <math alttext="\mathbf{h}_{i}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p5.1.m1.1"><semantics id="S4.SS1.p5.1.m1.1a"><msubsup id="S4.SS1.p5.1.m1.1.1" xref="S4.SS1.p5.1.m1.1.1.cmml"><mi id="S4.SS1.p5.1.m1.1.1.2.2" xref="S4.SS1.p5.1.m1.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS1.p5.1.m1.1.1.2.3" xref="S4.SS1.p5.1.m1.1.1.2.3.cmml">i</mi><mi id="S4.SS1.p5.1.m1.1.1.3" xref="S4.SS1.p5.1.m1.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.1.m1.1b"><apply id="S4.SS1.p5.1.m1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p5.1.m1.1.1.1.cmml" xref="S4.SS1.p5.1.m1.1.1">superscript</csymbol><apply id="S4.SS1.p5.1.m1.1.1.2.cmml" xref="S4.SS1.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p5.1.m1.1.1.2.1.cmml" xref="S4.SS1.p5.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p5.1.m1.1.1.2.2.cmml" xref="S4.SS1.p5.1.m1.1.1.2.2">𝐡</ci><ci id="S4.SS1.p5.1.m1.1.1.2.3.cmml" xref="S4.SS1.p5.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S4.SS1.p5.1.m1.1.1.3.cmml" xref="S4.SS1.p5.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.1.m1.1c">\mathbf{h}_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.1.m1.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> is the encoded representation of product <math alttext="v_{i}" class="ltx_Math" display="inline" id="S4.SS1.p5.2.m2.1"><semantics id="S4.SS1.p5.2.m2.1a"><msub id="S4.SS1.p5.2.m2.1.1" xref="S4.SS1.p5.2.m2.1.1.cmml"><mi id="S4.SS1.p5.2.m2.1.1.2" xref="S4.SS1.p5.2.m2.1.1.2.cmml">v</mi><mi id="S4.SS1.p5.2.m2.1.1.3" xref="S4.SS1.p5.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.2.m2.1b"><apply id="S4.SS1.p5.2.m2.1.1.cmml" xref="S4.SS1.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p5.2.m2.1.1.1.cmml" xref="S4.SS1.p5.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p5.2.m2.1.1.2.cmml" xref="S4.SS1.p5.2.m2.1.1.2">𝑣</ci><ci id="S4.SS1.p5.2.m2.1.1.3.cmml" xref="S4.SS1.p5.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.2.m2.1c">v_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.2.m2.1d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> in the ARN <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S4.SS1.p5.3.m3.1"><semantics id="S4.SS1.p5.3.m3.1a"><msup id="S4.SS1.p5.3.m3.1.1" xref="S4.SS1.p5.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p5.3.m3.1.1.2" xref="S4.SS1.p5.3.m3.1.1.2.cmml">𝒢</mi><mi id="S4.SS1.p5.3.m3.1.1.3" xref="S4.SS1.p5.3.m3.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.3.m3.1b"><apply id="S4.SS1.p5.3.m3.1.1.cmml" xref="S4.SS1.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p5.3.m3.1.1.1.cmml" xref="S4.SS1.p5.3.m3.1.1">superscript</csymbol><ci id="S4.SS1.p5.3.m3.1.1.2.cmml" xref="S4.SS1.p5.3.m3.1.1.2">𝒢</ci><ci id="S4.SS1.p5.3.m3.1.1.3.cmml" xref="S4.SS1.p5.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.3.m3.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.3.m3.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>, <math alttext="L" class="ltx_Math" display="inline" id="S4.SS1.p5.4.m4.1"><semantics id="S4.SS1.p5.4.m4.1a"><mi id="S4.SS1.p5.4.m4.1.1" xref="S4.SS1.p5.4.m4.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.4.m4.1b"><ci id="S4.SS1.p5.4.m4.1.1.cmml" xref="S4.SS1.p5.4.m4.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.4.m4.1c">L</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.4.m4.1d">italic_L</annotation></semantics></math> denotes the total number of layers, and <math alttext="\theta_{l}" class="ltx_Math" display="inline" id="S4.SS1.p5.5.m5.1"><semantics id="S4.SS1.p5.5.m5.1a"><msub id="S4.SS1.p5.5.m5.1.1" xref="S4.SS1.p5.5.m5.1.1.cmml"><mi id="S4.SS1.p5.5.m5.1.1.2" xref="S4.SS1.p5.5.m5.1.1.2.cmml">θ</mi><mi id="S4.SS1.p5.5.m5.1.1.3" xref="S4.SS1.p5.5.m5.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.5.m5.1b"><apply id="S4.SS1.p5.5.m5.1.1.cmml" xref="S4.SS1.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.p5.5.m5.1.1.1.cmml" xref="S4.SS1.p5.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.p5.5.m5.1.1.2.cmml" xref="S4.SS1.p5.5.m5.1.1.2">𝜃</ci><ci id="S4.SS1.p5.5.m5.1.1.3.cmml" xref="S4.SS1.p5.5.m5.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.5.m5.1c">\theta_{l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.5.m5.1d">italic_θ start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> represents the importance of the <math alttext="l" class="ltx_Math" display="inline" id="S4.SS1.p5.6.m6.1"><semantics id="S4.SS1.p5.6.m6.1a"><mi id="S4.SS1.p5.6.m6.1.1" xref="S4.SS1.p5.6.m6.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.6.m6.1b"><ci id="S4.SS1.p5.6.m6.1.1.cmml" xref="S4.SS1.p5.6.m6.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.6.m6.1c">l</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.6.m6.1d">italic_l</annotation></semantics></math>-th layer embeddings. In this paper, we simply set <math alttext="\theta_{l}=1/(l+1)" class="ltx_Math" display="inline" id="S4.SS1.p5.7.m7.1"><semantics id="S4.SS1.p5.7.m7.1a"><mrow id="S4.SS1.p5.7.m7.1.1" xref="S4.SS1.p5.7.m7.1.1.cmml"><msub id="S4.SS1.p5.7.m7.1.1.3" xref="S4.SS1.p5.7.m7.1.1.3.cmml"><mi id="S4.SS1.p5.7.m7.1.1.3.2" xref="S4.SS1.p5.7.m7.1.1.3.2.cmml">θ</mi><mi id="S4.SS1.p5.7.m7.1.1.3.3" xref="S4.SS1.p5.7.m7.1.1.3.3.cmml">l</mi></msub><mo id="S4.SS1.p5.7.m7.1.1.2" xref="S4.SS1.p5.7.m7.1.1.2.cmml">=</mo><mrow id="S4.SS1.p5.7.m7.1.1.1" xref="S4.SS1.p5.7.m7.1.1.1.cmml"><mn id="S4.SS1.p5.7.m7.1.1.1.3" xref="S4.SS1.p5.7.m7.1.1.1.3.cmml">1</mn><mo id="S4.SS1.p5.7.m7.1.1.1.2" xref="S4.SS1.p5.7.m7.1.1.1.2.cmml">/</mo><mrow id="S4.SS1.p5.7.m7.1.1.1.1.1" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.cmml"><mo id="S4.SS1.p5.7.m7.1.1.1.1.1.2" stretchy="false" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS1.p5.7.m7.1.1.1.1.1.1" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.cmml"><mi id="S4.SS1.p5.7.m7.1.1.1.1.1.1.2" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.2.cmml">l</mi><mo id="S4.SS1.p5.7.m7.1.1.1.1.1.1.1" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.1.cmml">+</mo><mn id="S4.SS1.p5.7.m7.1.1.1.1.1.1.3" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S4.SS1.p5.7.m7.1.1.1.1.1.3" stretchy="false" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p5.7.m7.1b"><apply id="S4.SS1.p5.7.m7.1.1.cmml" xref="S4.SS1.p5.7.m7.1.1"><eq id="S4.SS1.p5.7.m7.1.1.2.cmml" xref="S4.SS1.p5.7.m7.1.1.2"></eq><apply id="S4.SS1.p5.7.m7.1.1.3.cmml" xref="S4.SS1.p5.7.m7.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p5.7.m7.1.1.3.1.cmml" xref="S4.SS1.p5.7.m7.1.1.3">subscript</csymbol><ci id="S4.SS1.p5.7.m7.1.1.3.2.cmml" xref="S4.SS1.p5.7.m7.1.1.3.2">𝜃</ci><ci id="S4.SS1.p5.7.m7.1.1.3.3.cmml" xref="S4.SS1.p5.7.m7.1.1.3.3">𝑙</ci></apply><apply id="S4.SS1.p5.7.m7.1.1.1.cmml" xref="S4.SS1.p5.7.m7.1.1.1"><divide id="S4.SS1.p5.7.m7.1.1.1.2.cmml" xref="S4.SS1.p5.7.m7.1.1.1.2"></divide><cn id="S4.SS1.p5.7.m7.1.1.1.3.cmml" type="integer" xref="S4.SS1.p5.7.m7.1.1.1.3">1</cn><apply id="S4.SS1.p5.7.m7.1.1.1.1.1.1.cmml" xref="S4.SS1.p5.7.m7.1.1.1.1.1"><plus id="S4.SS1.p5.7.m7.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.1"></plus><ci id="S4.SS1.p5.7.m7.1.1.1.1.1.1.2.cmml" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.2">𝑙</ci><cn id="S4.SS1.p5.7.m7.1.1.1.1.1.1.3.cmml" type="integer" xref="S4.SS1.p5.7.m7.1.1.1.1.1.1.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p5.7.m7.1c">\theta_{l}=1/(l+1)</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p5.7.m7.1d">italic_θ start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT = 1 / ( italic_l + 1 )</annotation></semantics></math> instead of learning it through the attention network to reduce model complexity.</p>
</div>
<div class="ltx_para" id="S4.SS1.p6">
<p class="ltx_p" id="S4.SS1.p6.1">By utilizing GNNs to encode each ARN, we obtain multiple embedding vectors for each product corresponding to different product attributes. These embedding vectors capture the attribute-level reference information from the past purchases of the crowds and are used as inputs to model consumers’ reference-dependent choices in the following sections.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Reference-dependent Choice Modeling via Deep Neural Network</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In this section, we leverage a consumer’s purchase histories along with the obtained embedding vectors to model her reference-dependent choices. The underlying intuition is two-fold. On the one hand, the historically purchased products constitute part of her past experiences explicitly. On the other hand, the products’ representations encoded by GNNs take into account the influence of “wisdom of crowds” implicitly. We thus combine these two key factors together to form reference points.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.12">Specifically, given a consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.1.m1.1d">italic_u</annotation></semantics></math> and a target product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.p2.2.m2.1"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.2.m2.1d">italic_i</annotation></semantics></math><span class="ltx_note ltx_role_endnote" id="endnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">endnote: </span><span class="ltx_tag ltx_tag_note"><sup class="ltx_sup" id="endnote1.2.2.1"><span class="ltx_text ltx_font_italic" id="endnote1.2.2.1.1">1</span></sup></span>We here use <math alttext="i" class="ltx_Math" display="inline" id="endnote1.m1.1"><semantics id="endnote1.m1.1b"><mi id="endnote1.m1.1.1" xref="endnote1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="endnote1.m1.1c"><ci id="endnote1.m1.1.1.cmml" xref="endnote1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="endnote1.m1.1d">i</annotation><annotation encoding="application/x-llamapun" id="endnote1.m1.1e">italic_i</annotation></semantics></math> to denote product <math alttext="v_{i}" class="ltx_Math" display="inline" id="endnote1.m2.1"><semantics id="endnote1.m2.1b"><msub id="endnote1.m2.1.1" xref="endnote1.m2.1.1.cmml"><mi id="endnote1.m2.1.1.2" xref="endnote1.m2.1.1.2.cmml">v</mi><mi id="endnote1.m2.1.1.3" xref="endnote1.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="endnote1.m2.1c"><apply id="endnote1.m2.1.1.cmml" xref="endnote1.m2.1.1"><csymbol cd="ambiguous" id="endnote1.m2.1.1.1.cmml" xref="endnote1.m2.1.1">subscript</csymbol><ci id="endnote1.m2.1.1.2.cmml" xref="endnote1.m2.1.1.2">𝑣</ci><ci id="endnote1.m2.1.1.3.cmml" xref="endnote1.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="endnote1.m2.1d">v_{i}</annotation><annotation encoding="application/x-llamapun" id="endnote1.m2.1e">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> for brevity.</span></span></span>, <math alttext="\mathcal{R}_{u}" class="ltx_Math" display="inline" id="S4.SS2.p2.3.m3.1"><semantics id="S4.SS2.p2.3.m3.1a"><msub id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.3.m3.1.1.2" xref="S4.SS2.p2.3.m3.1.1.2.cmml">ℛ</mi><mi id="S4.SS2.p2.3.m3.1.1.3" xref="S4.SS2.p2.3.m3.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><apply id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.p2.3.m3.1.1.2.cmml" xref="S4.SS2.p2.3.m3.1.1.2">ℛ</ci><ci id="S4.SS2.p2.3.m3.1.1.3.cmml" xref="S4.SS2.p2.3.m3.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">\mathcal{R}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.3.m3.1d">caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> represents the set of products that have been purchased by consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.p2.4.m4.1"><semantics id="S4.SS2.p2.4.m4.1a"><mi id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><ci id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.4.m4.1d">italic_u</annotation></semantics></math>, <math alttext="\mathbf{h}_{i}^{k}" class="ltx_Math" display="inline" id="S4.SS2.p2.5.m5.1"><semantics id="S4.SS2.p2.5.m5.1a"><msubsup id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml"><mi id="S4.SS2.p2.5.m5.1.1.2.2" xref="S4.SS2.p2.5.m5.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS2.p2.5.m5.1.1.2.3" xref="S4.SS2.p2.5.m5.1.1.2.3.cmml">i</mi><mi id="S4.SS2.p2.5.m5.1.1.3" xref="S4.SS2.p2.5.m5.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><apply id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m5.1.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1">superscript</csymbol><apply id="S4.SS2.p2.5.m5.1.1.2.cmml" xref="S4.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m5.1.1.2.1.cmml" xref="S4.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS2.p2.5.m5.1.1.2.2.cmml" xref="S4.SS2.p2.5.m5.1.1.2.2">𝐡</ci><ci id="S4.SS2.p2.5.m5.1.1.2.3.cmml" xref="S4.SS2.p2.5.m5.1.1.2.3">𝑖</ci></apply><ci id="S4.SS2.p2.5.m5.1.1.3.cmml" xref="S4.SS2.p2.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">\mathbf{h}_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.5.m5.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> denotes the GNN encoded representation of product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.p2.6.m6.1"><semantics id="S4.SS2.p2.6.m6.1a"><mi id="S4.SS2.p2.6.m6.1.1" xref="S4.SS2.p2.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m6.1b"><ci id="S4.SS2.p2.6.m6.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m6.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.6.m6.1d">italic_i</annotation></semantics></math> in the aspect of the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.p2.7.m7.1"><semantics id="S4.SS2.p2.7.m7.1a"><mi id="S4.SS2.p2.7.m7.1.1" xref="S4.SS2.p2.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.7.m7.1b"><ci id="S4.SS2.p2.7.m7.1.1.cmml" xref="S4.SS2.p2.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.7.m7.1d">italic_k</annotation></semantics></math>-th attribute, and <math alttext="p_{i}" class="ltx_Math" display="inline" id="S4.SS2.p2.8.m8.1"><semantics id="S4.SS2.p2.8.m8.1a"><msub id="S4.SS2.p2.8.m8.1.1" xref="S4.SS2.p2.8.m8.1.1.cmml"><mi id="S4.SS2.p2.8.m8.1.1.2" xref="S4.SS2.p2.8.m8.1.1.2.cmml">p</mi><mi id="S4.SS2.p2.8.m8.1.1.3" xref="S4.SS2.p2.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.8.m8.1b"><apply id="S4.SS2.p2.8.m8.1.1.cmml" xref="S4.SS2.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.8.m8.1.1.1.cmml" xref="S4.SS2.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS2.p2.8.m8.1.1.2.cmml" xref="S4.SS2.p2.8.m8.1.1.2">𝑝</ci><ci id="S4.SS2.p2.8.m8.1.1.3.cmml" xref="S4.SS2.p2.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.8.m8.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.8.m8.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes the price of product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.p2.9.m9.1"><semantics id="S4.SS2.p2.9.m9.1a"><mi id="S4.SS2.p2.9.m9.1.1" xref="S4.SS2.p2.9.m9.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.9.m9.1b"><ci id="S4.SS2.p2.9.m9.1.1.cmml" xref="S4.SS2.p2.9.m9.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.9.m9.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.9.m9.1d">italic_i</annotation></semantics></math>. By retrieving the GNN encoded product representations in <math alttext="\mathcal{R}_{u}" class="ltx_Math" display="inline" id="S4.SS2.p2.10.m10.1"><semantics id="S4.SS2.p2.10.m10.1a"><msub id="S4.SS2.p2.10.m10.1.1" xref="S4.SS2.p2.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.10.m10.1.1.2" xref="S4.SS2.p2.10.m10.1.1.2.cmml">ℛ</mi><mi id="S4.SS2.p2.10.m10.1.1.3" xref="S4.SS2.p2.10.m10.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.10.m10.1b"><apply id="S4.SS2.p2.10.m10.1.1.cmml" xref="S4.SS2.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.10.m10.1.1.1.cmml" xref="S4.SS2.p2.10.m10.1.1">subscript</csymbol><ci id="S4.SS2.p2.10.m10.1.1.2.cmml" xref="S4.SS2.p2.10.m10.1.1.2">ℛ</ci><ci id="S4.SS2.p2.10.m10.1.1.3.cmml" xref="S4.SS2.p2.10.m10.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.10.m10.1c">\mathcal{R}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.10.m10.1d">caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> as reference points and comparing these representations and prices with those of the target product, we formulate the basic utility function for consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.p2.11.m11.1"><semantics id="S4.SS2.p2.11.m11.1a"><mi id="S4.SS2.p2.11.m11.1.1" xref="S4.SS2.p2.11.m11.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.11.m11.1b"><ci id="S4.SS2.p2.11.m11.1.1.cmml" xref="S4.SS2.p2.11.m11.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.11.m11.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.11.m11.1d">italic_u</annotation></semantics></math> towards target product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.p2.12.m12.1"><semantics id="S4.SS2.p2.12.m12.1a"><mi id="S4.SS2.p2.12.m12.1.1" xref="S4.SS2.p2.12.m12.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.12.m12.1b"><ci id="S4.SS2.p2.12.m12.1.1.cmml" xref="S4.SS2.p2.12.m12.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.12.m12.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.12.m12.1d">italic_i</annotation></semantics></math> as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="r_{u,i}=\frac{1}{|\mathcal{R}_{u}|}\sum_{j\in\mathcal{R}_{u}}\sum_{k\in%
\mathcal{K}}f_{u,k}(\mathbf{h}_{i}^{k},\mathbf{h}_{j}^{k},p_{i},p_{j})," class="ltx_Math" display="block" id="S4.E4.m1.6"><semantics id="S4.E4.m1.6a"><mrow id="S4.E4.m1.6.6.1" xref="S4.E4.m1.6.6.1.1.cmml"><mrow id="S4.E4.m1.6.6.1.1" xref="S4.E4.m1.6.6.1.1.cmml"><msub id="S4.E4.m1.6.6.1.1.6" xref="S4.E4.m1.6.6.1.1.6.cmml"><mi id="S4.E4.m1.6.6.1.1.6.2" xref="S4.E4.m1.6.6.1.1.6.2.cmml">r</mi><mrow id="S4.E4.m1.2.2.2.4" xref="S4.E4.m1.2.2.2.3.cmml"><mi id="S4.E4.m1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.cmml">u</mi><mo id="S4.E4.m1.2.2.2.4.1" xref="S4.E4.m1.2.2.2.3.cmml">,</mo><mi id="S4.E4.m1.2.2.2.2" xref="S4.E4.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S4.E4.m1.6.6.1.1.5" xref="S4.E4.m1.6.6.1.1.5.cmml">=</mo><mrow id="S4.E4.m1.6.6.1.1.4" xref="S4.E4.m1.6.6.1.1.4.cmml"><mfrac id="S4.E4.m1.3.3" xref="S4.E4.m1.3.3.cmml"><mn id="S4.E4.m1.3.3.3" xref="S4.E4.m1.3.3.3.cmml">1</mn><mrow id="S4.E4.m1.3.3.1.1" xref="S4.E4.m1.3.3.1.2.cmml"><mo id="S4.E4.m1.3.3.1.1.2" stretchy="false" xref="S4.E4.m1.3.3.1.2.1.cmml">|</mo><msub id="S4.E4.m1.3.3.1.1.1" xref="S4.E4.m1.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.3.3.1.1.1.2" xref="S4.E4.m1.3.3.1.1.1.2.cmml">ℛ</mi><mi id="S4.E4.m1.3.3.1.1.1.3" xref="S4.E4.m1.3.3.1.1.1.3.cmml">u</mi></msub><mo id="S4.E4.m1.3.3.1.1.3" stretchy="false" xref="S4.E4.m1.3.3.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S4.E4.m1.6.6.1.1.4.5" xref="S4.E4.m1.6.6.1.1.4.5.cmml">⁢</mo><mrow id="S4.E4.m1.6.6.1.1.4.4" xref="S4.E4.m1.6.6.1.1.4.4.cmml"><munder id="S4.E4.m1.6.6.1.1.4.4.5" xref="S4.E4.m1.6.6.1.1.4.4.5.cmml"><mo id="S4.E4.m1.6.6.1.1.4.4.5.2" movablelimits="false" rspace="0em" xref="S4.E4.m1.6.6.1.1.4.4.5.2.cmml">∑</mo><mrow id="S4.E4.m1.6.6.1.1.4.4.5.3" xref="S4.E4.m1.6.6.1.1.4.4.5.3.cmml"><mi id="S4.E4.m1.6.6.1.1.4.4.5.3.2" xref="S4.E4.m1.6.6.1.1.4.4.5.3.2.cmml">j</mi><mo id="S4.E4.m1.6.6.1.1.4.4.5.3.1" xref="S4.E4.m1.6.6.1.1.4.4.5.3.1.cmml">∈</mo><msub id="S4.E4.m1.6.6.1.1.4.4.5.3.3" xref="S4.E4.m1.6.6.1.1.4.4.5.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.6.6.1.1.4.4.5.3.3.2" xref="S4.E4.m1.6.6.1.1.4.4.5.3.3.2.cmml">ℛ</mi><mi id="S4.E4.m1.6.6.1.1.4.4.5.3.3.3" xref="S4.E4.m1.6.6.1.1.4.4.5.3.3.3.cmml">u</mi></msub></mrow></munder><mrow id="S4.E4.m1.6.6.1.1.4.4.4" xref="S4.E4.m1.6.6.1.1.4.4.4.cmml"><munder id="S4.E4.m1.6.6.1.1.4.4.4.5" xref="S4.E4.m1.6.6.1.1.4.4.4.5.cmml"><mo id="S4.E4.m1.6.6.1.1.4.4.4.5.2" movablelimits="false" xref="S4.E4.m1.6.6.1.1.4.4.4.5.2.cmml">∑</mo><mrow id="S4.E4.m1.6.6.1.1.4.4.4.5.3" xref="S4.E4.m1.6.6.1.1.4.4.4.5.3.cmml"><mi id="S4.E4.m1.6.6.1.1.4.4.4.5.3.2" xref="S4.E4.m1.6.6.1.1.4.4.4.5.3.2.cmml">k</mi><mo id="S4.E4.m1.6.6.1.1.4.4.4.5.3.1" xref="S4.E4.m1.6.6.1.1.4.4.4.5.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.6.6.1.1.4.4.4.5.3.3" xref="S4.E4.m1.6.6.1.1.4.4.4.5.3.3.cmml">𝒦</mi></mrow></munder><mrow id="S4.E4.m1.6.6.1.1.4.4.4.4" xref="S4.E4.m1.6.6.1.1.4.4.4.4.cmml"><msub id="S4.E4.m1.6.6.1.1.4.4.4.4.6" xref="S4.E4.m1.6.6.1.1.4.4.4.4.6.cmml"><mi id="S4.E4.m1.6.6.1.1.4.4.4.4.6.2" xref="S4.E4.m1.6.6.1.1.4.4.4.4.6.2.cmml">f</mi><mrow id="S4.E4.m1.5.5.2.4" xref="S4.E4.m1.5.5.2.3.cmml"><mi id="S4.E4.m1.4.4.1.1" xref="S4.E4.m1.4.4.1.1.cmml">u</mi><mo id="S4.E4.m1.5.5.2.4.1" xref="S4.E4.m1.5.5.2.3.cmml">,</mo><mi id="S4.E4.m1.5.5.2.2" xref="S4.E4.m1.5.5.2.2.cmml">k</mi></mrow></msub><mo id="S4.E4.m1.6.6.1.1.4.4.4.4.5" xref="S4.E4.m1.6.6.1.1.4.4.4.4.5.cmml">⁢</mo><mrow id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.5.cmml"><mo id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.5" stretchy="false" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.5.cmml">(</mo><msubsup id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.2" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐡</mi><mi id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.3" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.6" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.5.cmml">,</mo><msubsup id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.cmml"><mi id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.2" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.2.cmml">𝐡</mi><mi id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.3" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.3.cmml">j</mi><mi id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.3" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.3.cmml">k</mi></msubsup><mo id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.7" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.5.cmml">,</mo><msub id="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3" xref="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.cmml"><mi id="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.2" xref="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.2.cmml">p</mi><mi id="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.3" xref="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.3.cmml">i</mi></msub><mo id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.8" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.5.cmml">,</mo><msub id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.cmml"><mi id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.2" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.2.cmml">p</mi><mi id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.3" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.3.cmml">j</mi></msub><mo id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.9" stretchy="false" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.5.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><mo id="S4.E4.m1.6.6.1.2" xref="S4.E4.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.6b"><apply id="S4.E4.m1.6.6.1.1.cmml" xref="S4.E4.m1.6.6.1"><eq id="S4.E4.m1.6.6.1.1.5.cmml" xref="S4.E4.m1.6.6.1.1.5"></eq><apply id="S4.E4.m1.6.6.1.1.6.cmml" xref="S4.E4.m1.6.6.1.1.6"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.6.1.cmml" xref="S4.E4.m1.6.6.1.1.6">subscript</csymbol><ci id="S4.E4.m1.6.6.1.1.6.2.cmml" xref="S4.E4.m1.6.6.1.1.6.2">𝑟</ci><list id="S4.E4.m1.2.2.2.3.cmml" xref="S4.E4.m1.2.2.2.4"><ci id="S4.E4.m1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1">𝑢</ci><ci id="S4.E4.m1.2.2.2.2.cmml" xref="S4.E4.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S4.E4.m1.6.6.1.1.4.cmml" xref="S4.E4.m1.6.6.1.1.4"><times id="S4.E4.m1.6.6.1.1.4.5.cmml" xref="S4.E4.m1.6.6.1.1.4.5"></times><apply id="S4.E4.m1.3.3.cmml" xref="S4.E4.m1.3.3"><divide id="S4.E4.m1.3.3.2.cmml" xref="S4.E4.m1.3.3"></divide><cn id="S4.E4.m1.3.3.3.cmml" type="integer" xref="S4.E4.m1.3.3.3">1</cn><apply id="S4.E4.m1.3.3.1.2.cmml" xref="S4.E4.m1.3.3.1.1"><abs id="S4.E4.m1.3.3.1.2.1.cmml" xref="S4.E4.m1.3.3.1.1.2"></abs><apply id="S4.E4.m1.3.3.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.1.2.cmml" xref="S4.E4.m1.3.3.1.1.1.2">ℛ</ci><ci id="S4.E4.m1.3.3.1.1.1.3.cmml" xref="S4.E4.m1.3.3.1.1.1.3">𝑢</ci></apply></apply></apply><apply id="S4.E4.m1.6.6.1.1.4.4.cmml" xref="S4.E4.m1.6.6.1.1.4.4"><apply id="S4.E4.m1.6.6.1.1.4.4.5.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.4.4.5.1.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5">subscript</csymbol><sum id="S4.E4.m1.6.6.1.1.4.4.5.2.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5.2"></sum><apply id="S4.E4.m1.6.6.1.1.4.4.5.3.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5.3"><in id="S4.E4.m1.6.6.1.1.4.4.5.3.1.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5.3.1"></in><ci id="S4.E4.m1.6.6.1.1.4.4.5.3.2.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5.3.2">𝑗</ci><apply id="S4.E4.m1.6.6.1.1.4.4.5.3.3.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.4.4.5.3.3.1.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5.3.3">subscript</csymbol><ci id="S4.E4.m1.6.6.1.1.4.4.5.3.3.2.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5.3.3.2">ℛ</ci><ci id="S4.E4.m1.6.6.1.1.4.4.5.3.3.3.cmml" xref="S4.E4.m1.6.6.1.1.4.4.5.3.3.3">𝑢</ci></apply></apply></apply><apply id="S4.E4.m1.6.6.1.1.4.4.4.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4"><apply id="S4.E4.m1.6.6.1.1.4.4.4.5.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.5"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.4.4.4.5.1.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.5">subscript</csymbol><sum id="S4.E4.m1.6.6.1.1.4.4.4.5.2.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.5.2"></sum><apply id="S4.E4.m1.6.6.1.1.4.4.4.5.3.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.5.3"><in id="S4.E4.m1.6.6.1.1.4.4.4.5.3.1.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.5.3.1"></in><ci id="S4.E4.m1.6.6.1.1.4.4.4.5.3.2.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.5.3.2">𝑘</ci><ci id="S4.E4.m1.6.6.1.1.4.4.4.5.3.3.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.5.3.3">𝒦</ci></apply></apply><apply id="S4.E4.m1.6.6.1.1.4.4.4.4.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4"><times id="S4.E4.m1.6.6.1.1.4.4.4.4.5.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.5"></times><apply id="S4.E4.m1.6.6.1.1.4.4.4.4.6.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.6"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.4.4.4.4.6.1.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.6">subscript</csymbol><ci id="S4.E4.m1.6.6.1.1.4.4.4.4.6.2.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.6.2">𝑓</ci><list id="S4.E4.m1.5.5.2.3.cmml" xref="S4.E4.m1.5.5.2.4"><ci id="S4.E4.m1.4.4.1.1.cmml" xref="S4.E4.m1.4.4.1.1">𝑢</ci><ci id="S4.E4.m1.5.5.2.2.cmml" xref="S4.E4.m1.5.5.2.2">𝑘</ci></list></apply><vector id="S4.E4.m1.6.6.1.1.4.4.4.4.4.5.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.4"><apply id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.2">𝐡</ci><ci id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.6.6.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.cmml" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.1.cmml" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2">superscript</csymbol><apply id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.cmml" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.1.cmml" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2">subscript</csymbol><ci id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.2.cmml" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.2">𝐡</ci><ci id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.3.cmml" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.2.3">𝑗</ci></apply><ci id="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.3.cmml" xref="S4.E4.m1.6.6.1.1.2.2.2.2.2.2.2.3">𝑘</ci></apply><apply id="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.cmml" xref="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.1.cmml" xref="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3">subscript</csymbol><ci id="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.2.cmml" xref="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.2">𝑝</ci><ci id="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.3.cmml" xref="S4.E4.m1.6.6.1.1.3.3.3.3.3.3.3.3">𝑖</ci></apply><apply id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.1.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4">subscript</csymbol><ci id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.2.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.2">𝑝</ci><ci id="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.3.cmml" xref="S4.E4.m1.6.6.1.1.4.4.4.4.4.4.4.3">𝑗</ci></apply></vector></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.6c">r_{u,i}=\frac{1}{|\mathcal{R}_{u}|}\sum_{j\in\mathcal{R}_{u}}\sum_{k\in%
\mathcal{K}}f_{u,k}(\mathbf{h}_{i}^{k},\mathbf{h}_{j}^{k},p_{i},p_{j}),</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.6d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG | caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT | end_ARG ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_k ∈ caligraphic_K end_POSTSUBSCRIPT italic_f start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.p2.20">where <math alttext="f_{u,k}(\cdot)" class="ltx_Math" display="inline" id="S4.SS2.p2.13.m1.3"><semantics id="S4.SS2.p2.13.m1.3a"><mrow id="S4.SS2.p2.13.m1.3.4" xref="S4.SS2.p2.13.m1.3.4.cmml"><msub id="S4.SS2.p2.13.m1.3.4.2" xref="S4.SS2.p2.13.m1.3.4.2.cmml"><mi id="S4.SS2.p2.13.m1.3.4.2.2" xref="S4.SS2.p2.13.m1.3.4.2.2.cmml">f</mi><mrow id="S4.SS2.p2.13.m1.2.2.2.4" xref="S4.SS2.p2.13.m1.2.2.2.3.cmml"><mi id="S4.SS2.p2.13.m1.1.1.1.1" xref="S4.SS2.p2.13.m1.1.1.1.1.cmml">u</mi><mo id="S4.SS2.p2.13.m1.2.2.2.4.1" xref="S4.SS2.p2.13.m1.2.2.2.3.cmml">,</mo><mi id="S4.SS2.p2.13.m1.2.2.2.2" xref="S4.SS2.p2.13.m1.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S4.SS2.p2.13.m1.3.4.1" xref="S4.SS2.p2.13.m1.3.4.1.cmml">⁢</mo><mrow id="S4.SS2.p2.13.m1.3.4.3.2" xref="S4.SS2.p2.13.m1.3.4.cmml"><mo id="S4.SS2.p2.13.m1.3.4.3.2.1" stretchy="false" xref="S4.SS2.p2.13.m1.3.4.cmml">(</mo><mo id="S4.SS2.p2.13.m1.3.3" lspace="0em" rspace="0em" xref="S4.SS2.p2.13.m1.3.3.cmml">⋅</mo><mo id="S4.SS2.p2.13.m1.3.4.3.2.2" stretchy="false" xref="S4.SS2.p2.13.m1.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.13.m1.3b"><apply id="S4.SS2.p2.13.m1.3.4.cmml" xref="S4.SS2.p2.13.m1.3.4"><times id="S4.SS2.p2.13.m1.3.4.1.cmml" xref="S4.SS2.p2.13.m1.3.4.1"></times><apply id="S4.SS2.p2.13.m1.3.4.2.cmml" xref="S4.SS2.p2.13.m1.3.4.2"><csymbol cd="ambiguous" id="S4.SS2.p2.13.m1.3.4.2.1.cmml" xref="S4.SS2.p2.13.m1.3.4.2">subscript</csymbol><ci id="S4.SS2.p2.13.m1.3.4.2.2.cmml" xref="S4.SS2.p2.13.m1.3.4.2.2">𝑓</ci><list id="S4.SS2.p2.13.m1.2.2.2.3.cmml" xref="S4.SS2.p2.13.m1.2.2.2.4"><ci id="S4.SS2.p2.13.m1.1.1.1.1.cmml" xref="S4.SS2.p2.13.m1.1.1.1.1">𝑢</ci><ci id="S4.SS2.p2.13.m1.2.2.2.2.cmml" xref="S4.SS2.p2.13.m1.2.2.2.2">𝑘</ci></list></apply><ci id="S4.SS2.p2.13.m1.3.3.cmml" xref="S4.SS2.p2.13.m1.3.3">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.13.m1.3c">f_{u,k}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.13.m1.3d">italic_f start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT ( ⋅ )</annotation></semantics></math> evaluates how consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.p2.14.m2.1"><semantics id="S4.SS2.p2.14.m2.1a"><mi id="S4.SS2.p2.14.m2.1.1" xref="S4.SS2.p2.14.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.14.m2.1b"><ci id="S4.SS2.p2.14.m2.1.1.cmml" xref="S4.SS2.p2.14.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.14.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.14.m2.1d">italic_u</annotation></semantics></math> perceives the product utility by comparing the target product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.p2.15.m3.1"><semantics id="S4.SS2.p2.15.m3.1a"><mi id="S4.SS2.p2.15.m3.1.1" xref="S4.SS2.p2.15.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.15.m3.1b"><ci id="S4.SS2.p2.15.m3.1.1.cmml" xref="S4.SS2.p2.15.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.15.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.15.m3.1d">italic_i</annotation></semantics></math> with one of the reference points from the aspect of attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.p2.16.m4.1"><semantics id="S4.SS2.p2.16.m4.1a"><mi id="S4.SS2.p2.16.m4.1.1" xref="S4.SS2.p2.16.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.16.m4.1b"><ci id="S4.SS2.p2.16.m4.1.1.cmml" xref="S4.SS2.p2.16.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.16.m4.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.16.m4.1d">italic_k</annotation></semantics></math>. It is noteworthy that since each ARN shows diverse connection structures, <math alttext="\mathbf{h}_{j}^{k}" class="ltx_Math" display="inline" id="S4.SS2.p2.17.m5.1"><semantics id="S4.SS2.p2.17.m5.1a"><msubsup id="S4.SS2.p2.17.m5.1.1" xref="S4.SS2.p2.17.m5.1.1.cmml"><mi id="S4.SS2.p2.17.m5.1.1.2.2" xref="S4.SS2.p2.17.m5.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS2.p2.17.m5.1.1.2.3" xref="S4.SS2.p2.17.m5.1.1.2.3.cmml">j</mi><mi id="S4.SS2.p2.17.m5.1.1.3" xref="S4.SS2.p2.17.m5.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.17.m5.1b"><apply id="S4.SS2.p2.17.m5.1.1.cmml" xref="S4.SS2.p2.17.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.17.m5.1.1.1.cmml" xref="S4.SS2.p2.17.m5.1.1">superscript</csymbol><apply id="S4.SS2.p2.17.m5.1.1.2.cmml" xref="S4.SS2.p2.17.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.17.m5.1.1.2.1.cmml" xref="S4.SS2.p2.17.m5.1.1">subscript</csymbol><ci id="S4.SS2.p2.17.m5.1.1.2.2.cmml" xref="S4.SS2.p2.17.m5.1.1.2.2">𝐡</ci><ci id="S4.SS2.p2.17.m5.1.1.2.3.cmml" xref="S4.SS2.p2.17.m5.1.1.2.3">𝑗</ci></apply><ci id="S4.SS2.p2.17.m5.1.1.3.cmml" xref="S4.SS2.p2.17.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.17.m5.1c">\mathbf{h}_{j}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.17.m5.1d">bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> differs for each attribute, echoing existing empirical evidence that the selection of reference points may vary when evaluating different product attributes. Finally, the overall utility <math alttext="r_{u,i}" class="ltx_Math" display="inline" id="S4.SS2.p2.18.m6.2"><semantics id="S4.SS2.p2.18.m6.2a"><msub id="S4.SS2.p2.18.m6.2.3" xref="S4.SS2.p2.18.m6.2.3.cmml"><mi id="S4.SS2.p2.18.m6.2.3.2" xref="S4.SS2.p2.18.m6.2.3.2.cmml">r</mi><mrow id="S4.SS2.p2.18.m6.2.2.2.4" xref="S4.SS2.p2.18.m6.2.2.2.3.cmml"><mi id="S4.SS2.p2.18.m6.1.1.1.1" xref="S4.SS2.p2.18.m6.1.1.1.1.cmml">u</mi><mo id="S4.SS2.p2.18.m6.2.2.2.4.1" xref="S4.SS2.p2.18.m6.2.2.2.3.cmml">,</mo><mi id="S4.SS2.p2.18.m6.2.2.2.2" xref="S4.SS2.p2.18.m6.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.18.m6.2b"><apply id="S4.SS2.p2.18.m6.2.3.cmml" xref="S4.SS2.p2.18.m6.2.3"><csymbol cd="ambiguous" id="S4.SS2.p2.18.m6.2.3.1.cmml" xref="S4.SS2.p2.18.m6.2.3">subscript</csymbol><ci id="S4.SS2.p2.18.m6.2.3.2.cmml" xref="S4.SS2.p2.18.m6.2.3.2">𝑟</ci><list id="S4.SS2.p2.18.m6.2.2.2.3.cmml" xref="S4.SS2.p2.18.m6.2.2.2.4"><ci id="S4.SS2.p2.18.m6.1.1.1.1.cmml" xref="S4.SS2.p2.18.m6.1.1.1.1">𝑢</ci><ci id="S4.SS2.p2.18.m6.2.2.2.2.cmml" xref="S4.SS2.p2.18.m6.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.18.m6.2c">r_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.18.m6.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is obtained by taking the summation of the reference effects over different attributes in <math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS2.p2.19.m7.1"><semantics id="S4.SS2.p2.19.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.19.m7.1.1" xref="S4.SS2.p2.19.m7.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.19.m7.1b"><ci id="S4.SS2.p2.19.m7.1.1.cmml" xref="S4.SS2.p2.19.m7.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.19.m7.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.19.m7.1d">caligraphic_K</annotation></semantics></math> for each reference point, and then taking the average of the reference effects on different reference points in <math alttext="\mathcal{R}_{u}" class="ltx_Math" display="inline" id="S4.SS2.p2.20.m8.1"><semantics id="S4.SS2.p2.20.m8.1a"><msub id="S4.SS2.p2.20.m8.1.1" xref="S4.SS2.p2.20.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.20.m8.1.1.2" xref="S4.SS2.p2.20.m8.1.1.2.cmml">ℛ</mi><mi id="S4.SS2.p2.20.m8.1.1.3" xref="S4.SS2.p2.20.m8.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.20.m8.1b"><apply id="S4.SS2.p2.20.m8.1.1.cmml" xref="S4.SS2.p2.20.m8.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.20.m8.1.1.1.cmml" xref="S4.SS2.p2.20.m8.1.1">subscript</csymbol><ci id="S4.SS2.p2.20.m8.1.1.2.cmml" xref="S4.SS2.p2.20.m8.1.1.2">ℛ</ci><ci id="S4.SS2.p2.20.m8.1.1.3.cmml" xref="S4.SS2.p2.20.m8.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.20.m8.1c">\mathcal{R}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.20.m8.1d">caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">It is important to note that, while all the reference points contribute to the consumer utility computation in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E4" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4</span></a>), their reference effects can be quite different and thus lead to the heterogeneity of reference points. In practice, consumers typically engage in an internal information search process when making purchasing decisions, relying on their memory of relevant information pertinent to the target product. During this process, some information is more easily activated and retrieved than others, suggesting that these reference points carry greater weights. Therefore, it is imperative to differentiate the significance of different reference points in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E4" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.1">Motivated by the heterogeneity of reference points, we reformulate the utility function in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E4" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4</span></a>) by incorporating weights for reference points using an attention mechanism. This mechanism, originally introduced in machine translation tasks to identify salient positions of words in a sentence, encodes the most relevant information through an alignment model <cite class="ltx_cite ltx_citemacro_citep">(Bahdanau et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib5" title="">2014</a>)</cite>. In our context of consumer choices, we use the attention mechanism to capture consumers’ focal attention to different reference points, where reference points with higher attention weights are retrieved more easily and contribute more to the formation of reference effects for the target product. Formally, we parameterize <math alttext="\gamma_{i,j}" class="ltx_Math" display="inline" id="S4.SS2.p4.1.m1.2"><semantics id="S4.SS2.p4.1.m1.2a"><msub id="S4.SS2.p4.1.m1.2.3" xref="S4.SS2.p4.1.m1.2.3.cmml"><mi id="S4.SS2.p4.1.m1.2.3.2" xref="S4.SS2.p4.1.m1.2.3.2.cmml">γ</mi><mrow id="S4.SS2.p4.1.m1.2.2.2.4" xref="S4.SS2.p4.1.m1.2.2.2.3.cmml"><mi id="S4.SS2.p4.1.m1.1.1.1.1" xref="S4.SS2.p4.1.m1.1.1.1.1.cmml">i</mi><mo id="S4.SS2.p4.1.m1.2.2.2.4.1" xref="S4.SS2.p4.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.SS2.p4.1.m1.2.2.2.2" xref="S4.SS2.p4.1.m1.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.2b"><apply id="S4.SS2.p4.1.m1.2.3.cmml" xref="S4.SS2.p4.1.m1.2.3"><csymbol cd="ambiguous" id="S4.SS2.p4.1.m1.2.3.1.cmml" xref="S4.SS2.p4.1.m1.2.3">subscript</csymbol><ci id="S4.SS2.p4.1.m1.2.3.2.cmml" xref="S4.SS2.p4.1.m1.2.3.2">𝛾</ci><list id="S4.SS2.p4.1.m1.2.2.2.3.cmml" xref="S4.SS2.p4.1.m1.2.2.2.4"><ci id="S4.SS2.p4.1.m1.1.1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1.1.1">𝑖</ci><ci id="S4.SS2.p4.1.m1.2.2.2.2.cmml" xref="S4.SS2.p4.1.m1.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.2c">\gamma_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.1.m1.2d">italic_γ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math> as the inner dot between product node embeddings as follows:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S4.E5">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S4.E5X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\tilde{\gamma}_{i,j}" class="ltx_Math" display="inline" id="S4.E5X.2.1.1.m1.2"><semantics id="S4.E5X.2.1.1.m1.2a"><msub id="S4.E5X.2.1.1.m1.2.3" xref="S4.E5X.2.1.1.m1.2.3.cmml"><mover accent="true" id="S4.E5X.2.1.1.m1.2.3.2" xref="S4.E5X.2.1.1.m1.2.3.2.cmml"><mi id="S4.E5X.2.1.1.m1.2.3.2.2" xref="S4.E5X.2.1.1.m1.2.3.2.2.cmml">γ</mi><mo id="S4.E5X.2.1.1.m1.2.3.2.1" xref="S4.E5X.2.1.1.m1.2.3.2.1.cmml">~</mo></mover><mrow id="S4.E5X.2.1.1.m1.2.2.2.4" xref="S4.E5X.2.1.1.m1.2.2.2.3.cmml"><mi id="S4.E5X.2.1.1.m1.1.1.1.1" xref="S4.E5X.2.1.1.m1.1.1.1.1.cmml">i</mi><mo id="S4.E5X.2.1.1.m1.2.2.2.4.1" xref="S4.E5X.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.E5X.2.1.1.m1.2.2.2.2" xref="S4.E5X.2.1.1.m1.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.E5X.2.1.1.m1.2b"><apply id="S4.E5X.2.1.1.m1.2.3.cmml" xref="S4.E5X.2.1.1.m1.2.3"><csymbol cd="ambiguous" id="S4.E5X.2.1.1.m1.2.3.1.cmml" xref="S4.E5X.2.1.1.m1.2.3">subscript</csymbol><apply id="S4.E5X.2.1.1.m1.2.3.2.cmml" xref="S4.E5X.2.1.1.m1.2.3.2"><ci id="S4.E5X.2.1.1.m1.2.3.2.1.cmml" xref="S4.E5X.2.1.1.m1.2.3.2.1">~</ci><ci id="S4.E5X.2.1.1.m1.2.3.2.2.cmml" xref="S4.E5X.2.1.1.m1.2.3.2.2">𝛾</ci></apply><list id="S4.E5X.2.1.1.m1.2.2.2.3.cmml" xref="S4.E5X.2.1.1.m1.2.2.2.4"><ci id="S4.E5X.2.1.1.m1.1.1.1.1.cmml" xref="S4.E5X.2.1.1.m1.1.1.1.1">𝑖</ci><ci id="S4.E5X.2.1.1.m1.2.2.2.2.cmml" xref="S4.E5X.2.1.1.m1.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5X.2.1.1.m1.2c">\displaystyle\tilde{\gamma}_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S4.E5X.2.1.1.m1.2d">over~ start_ARG italic_γ end_ARG start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle={\mathbf{h}_{i}^{*}}^{\top}{\mathbf{h}_{j}^{*}},\quad\mathbf{h}_%
{i}^{*}=\mathbf{h}_{i}^{1}\mathbin{\|}\cdots\mathbin{\|}\mathbf{h}_{i}^{K}," class="ltx_Math" display="inline" id="S4.E5X.3.2.2.m1.1"><semantics id="S4.E5X.3.2.2.m1.1a"><mrow id="S4.E5X.3.2.2.m1.1.1.1"><mrow id="S4.E5X.3.2.2.m1.1.1.1.1.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.3.cmml"><mrow id="S4.E5X.3.2.2.m1.1.1.1.1.1.1" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.cmml"><mi id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.2.cmml"></mi><mo id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.1" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.1.cmml">=</mo><mrow id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.cmml"><mmultiscripts id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.cmml"><mi id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.2.cmml">𝐡</mi><mi id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.3.cmml">i</mi><mo id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.3.cmml">∗</mo><mrow id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2a" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.cmml"></mrow><mo id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.3.cmml">⊤</mo></mmultiscripts><mo id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.1" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.1.cmml">⁢</mo><msubsup id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.2.cmml">𝐡</mi><mi id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.3.cmml">j</mi><mo id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.3.cmml">∗</mo></msubsup></mrow></mrow><mo id="S4.E5X.3.2.2.m1.1.1.1.1.2.3" rspace="1.167em" xref="S4.E5X.3.2.2.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S4.E5X.3.2.2.m1.1.1.1.1.2.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.cmml"><msubsup id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.cmml"><mi id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.2.cmml">𝐡</mi><mi id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml">i</mi><mo id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.3.cmml">∗</mo></msubsup><mo id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.1" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.1.cmml">=</mo><mrow id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.cmml"><msubsup id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.cmml"><mi id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.2.cmml">𝐡</mi><mi id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.3.cmml">i</mi><mn id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.3.cmml">1</mn></msubsup><mo id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.1" lspace="0.222em" rspace="0.222em" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.1.cmml">∥</mo><mi id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.3" mathvariant="normal" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.3.cmml">⋯</mi><mo id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.1a" lspace="0.222em" rspace="0.222em" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.1.cmml">∥</mo><msubsup id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.cmml"><mi id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.2" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.2.cmml">𝐡</mi><mi id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.3.cmml">i</mi><mi id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.3" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.3.cmml">K</mi></msubsup></mrow></mrow></mrow><mo id="S4.E5X.3.2.2.m1.1.1.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E5X.3.2.2.m1.1b"><apply id="S4.E5X.3.2.2.m1.1.1.1.1.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.3a.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1"><eq id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.1"></eq><csymbol cd="latexml" id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.2">absent</csymbol><apply id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3"><times id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.1"></times><apply id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2">superscript</csymbol><apply id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2">superscript</csymbol><apply id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.2">𝐡</ci><ci id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.2.3">𝑖</ci></apply><times id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.2.3"></times></apply><csymbol cd="latexml" id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.2.3">top</csymbol></apply><apply id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3">superscript</csymbol><apply id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.2">𝐡</ci><ci id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.2.3">𝑗</ci></apply><times id="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.1.1.3.3.3"></times></apply></apply></apply><apply id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2"><eq id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.1"></eq><apply id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2">superscript</csymbol><apply id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.2">𝐡</ci><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.2.3">𝑖</ci></apply><times id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.2.3"></times></apply><apply id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3"><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.1">∥</ci><apply id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2">superscript</csymbol><apply id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2">subscript</csymbol><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.2">𝐡</ci><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.2.3">𝑖</ci></apply><cn id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.3.cmml" type="integer" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.2.3">1</cn></apply><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.3">⋯</ci><apply id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4">superscript</csymbol><apply id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4"><csymbol cd="ambiguous" id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.1.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4">subscript</csymbol><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.2.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.2">𝐡</ci><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.2.3">𝑖</ci></apply><ci id="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.3.cmml" xref="S4.E5X.3.2.2.m1.1.1.1.1.2.2.3.4.3">𝐾</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5X.3.2.2.m1.1c">\displaystyle={\mathbf{h}_{i}^{*}}^{\top}{\mathbf{h}_{j}^{*}},\quad\mathbf{h}_%
{i}^{*}=\mathbf{h}_{i}^{1}\mathbin{\|}\cdots\mathbin{\|}\mathbf{h}_{i}^{K},</annotation><annotation encoding="application/x-llamapun" id="S4.E5X.3.2.2.m1.1d">= bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT start_POSTSUPERSCRIPT ⊤ end_POSTSUPERSCRIPT bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT , bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT = bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT ∥ ⋯ ∥ bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(5)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S4.E5Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\gamma_{i,j}" class="ltx_Math" display="inline" id="S4.E5Xa.2.1.1.m1.2"><semantics id="S4.E5Xa.2.1.1.m1.2a"><msub id="S4.E5Xa.2.1.1.m1.2.3" xref="S4.E5Xa.2.1.1.m1.2.3.cmml"><mi id="S4.E5Xa.2.1.1.m1.2.3.2" xref="S4.E5Xa.2.1.1.m1.2.3.2.cmml">γ</mi><mrow id="S4.E5Xa.2.1.1.m1.2.2.2.4" xref="S4.E5Xa.2.1.1.m1.2.2.2.3.cmml"><mi id="S4.E5Xa.2.1.1.m1.1.1.1.1" xref="S4.E5Xa.2.1.1.m1.1.1.1.1.cmml">i</mi><mo id="S4.E5Xa.2.1.1.m1.2.2.2.4.1" xref="S4.E5Xa.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.E5Xa.2.1.1.m1.2.2.2.2" xref="S4.E5Xa.2.1.1.m1.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.E5Xa.2.1.1.m1.2b"><apply id="S4.E5Xa.2.1.1.m1.2.3.cmml" xref="S4.E5Xa.2.1.1.m1.2.3"><csymbol cd="ambiguous" id="S4.E5Xa.2.1.1.m1.2.3.1.cmml" xref="S4.E5Xa.2.1.1.m1.2.3">subscript</csymbol><ci id="S4.E5Xa.2.1.1.m1.2.3.2.cmml" xref="S4.E5Xa.2.1.1.m1.2.3.2">𝛾</ci><list id="S4.E5Xa.2.1.1.m1.2.2.2.3.cmml" xref="S4.E5Xa.2.1.1.m1.2.2.2.4"><ci id="S4.E5Xa.2.1.1.m1.1.1.1.1.cmml" xref="S4.E5Xa.2.1.1.m1.1.1.1.1">𝑖</ci><ci id="S4.E5Xa.2.1.1.m1.2.2.2.2.cmml" xref="S4.E5Xa.2.1.1.m1.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5Xa.2.1.1.m1.2c">\displaystyle\gamma_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S4.E5Xa.2.1.1.m1.2d">italic_γ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\text{Softmax}(\tilde{\gamma}_{i,j})=\frac{\exp(\tilde{\gamma}_{%
i,j})}{\sum_{j^{\prime}\in\mathcal{R}_{u}}\exp(\tilde{\gamma}_{i,j^{\prime}})}," class="ltx_Math" display="inline" id="S4.E5Xa.3.2.2.m1.11"><semantics id="S4.E5Xa.3.2.2.m1.11a"><mrow id="S4.E5Xa.3.2.2.m1.11.11.1" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.cmml"><mrow id="S4.E5Xa.3.2.2.m1.11.11.1.1" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.cmml"><mi id="S4.E5Xa.3.2.2.m1.11.11.1.1.3" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.3.cmml"></mi><mo id="S4.E5Xa.3.2.2.m1.11.11.1.1.4" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.4.cmml">=</mo><mrow id="S4.E5Xa.3.2.2.m1.11.11.1.1.1" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.cmml"><mtext id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.3" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.3a.cmml">Softmax</mtext><mo id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.2" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.2.cmml">⁢</mo><mrow id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.cmml"><mo id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.2" stretchy="false" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.cmml"><mover accent="true" id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.cmml"><mi id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.2" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.2.cmml">γ</mi><mo id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.1" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.1.cmml">~</mo></mover><mrow id="S4.E5Xa.3.2.2.m1.2.2.2.4" xref="S4.E5Xa.3.2.2.m1.2.2.2.3.cmml"><mi id="S4.E5Xa.3.2.2.m1.1.1.1.1" xref="S4.E5Xa.3.2.2.m1.1.1.1.1.cmml">i</mi><mo id="S4.E5Xa.3.2.2.m1.2.2.2.4.1" xref="S4.E5Xa.3.2.2.m1.2.2.2.3.cmml">,</mo><mi id="S4.E5Xa.3.2.2.m1.2.2.2.2" xref="S4.E5Xa.3.2.2.m1.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.3" stretchy="false" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E5Xa.3.2.2.m1.11.11.1.1.5" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.5.cmml">=</mo><mstyle displaystyle="true" id="S4.E5Xa.3.2.2.m1.10.10" xref="S4.E5Xa.3.2.2.m1.10.10.cmml"><mfrac id="S4.E5Xa.3.2.2.m1.10.10a" xref="S4.E5Xa.3.2.2.m1.10.10.cmml"><mrow id="S4.E5Xa.3.2.2.m1.6.6.4.4" xref="S4.E5Xa.3.2.2.m1.6.6.4.5.cmml"><mi id="S4.E5Xa.3.2.2.m1.5.5.3.3" xref="S4.E5Xa.3.2.2.m1.5.5.3.3.cmml">exp</mi><mo id="S4.E5Xa.3.2.2.m1.6.6.4.4a" xref="S4.E5Xa.3.2.2.m1.6.6.4.5.cmml">⁡</mo><mrow id="S4.E5Xa.3.2.2.m1.6.6.4.4.1" xref="S4.E5Xa.3.2.2.m1.6.6.4.5.cmml"><mo id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.2" stretchy="false" xref="S4.E5Xa.3.2.2.m1.6.6.4.5.cmml">(</mo><msub id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.cmml"><mover accent="true" id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.cmml"><mi id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.2" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.2.cmml">γ</mi><mo id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.1" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.1.cmml">~</mo></mover><mrow id="S4.E5Xa.3.2.2.m1.4.4.2.2.2.4" xref="S4.E5Xa.3.2.2.m1.4.4.2.2.2.3.cmml"><mi id="S4.E5Xa.3.2.2.m1.3.3.1.1.1.1" xref="S4.E5Xa.3.2.2.m1.3.3.1.1.1.1.cmml">i</mi><mo id="S4.E5Xa.3.2.2.m1.4.4.2.2.2.4.1" xref="S4.E5Xa.3.2.2.m1.4.4.2.2.2.3.cmml">,</mo><mi id="S4.E5Xa.3.2.2.m1.4.4.2.2.2.2" xref="S4.E5Xa.3.2.2.m1.4.4.2.2.2.2.cmml">j</mi></mrow></msub><mo id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.3" stretchy="false" xref="S4.E5Xa.3.2.2.m1.6.6.4.5.cmml">)</mo></mrow></mrow><mrow id="S4.E5Xa.3.2.2.m1.10.10.8" xref="S4.E5Xa.3.2.2.m1.10.10.8.cmml"><msub id="S4.E5Xa.3.2.2.m1.10.10.8.5" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.cmml"><mo id="S4.E5Xa.3.2.2.m1.10.10.8.5.2" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.2.cmml">∑</mo><mrow id="S4.E5Xa.3.2.2.m1.10.10.8.5.3" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.cmml"><msup id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.cmml"><mi id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.2" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.2.cmml">j</mi><mo id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.3" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.3.cmml">′</mo></msup><mo id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.1" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.1.cmml">∈</mo><msub id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.2" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.2.cmml">ℛ</mi><mi id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.3" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.3.cmml">u</mi></msub></mrow></msub><mrow id="S4.E5Xa.3.2.2.m1.10.10.8.4.1" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.2.cmml"><mi id="S4.E5Xa.3.2.2.m1.9.9.7.3" xref="S4.E5Xa.3.2.2.m1.9.9.7.3.cmml">exp</mi><mo id="S4.E5Xa.3.2.2.m1.10.10.8.4.1a" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.2.cmml">⁡</mo><mrow id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.2.cmml"><mo id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.2" stretchy="false" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.2.cmml">(</mo><msub id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.cmml"><mover accent="true" id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.cmml"><mi id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.2" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.2.cmml">γ</mi><mo id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.1" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.1.cmml">~</mo></mover><mrow id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.3.cmml"><mi id="S4.E5Xa.3.2.2.m1.7.7.5.1.1.1" xref="S4.E5Xa.3.2.2.m1.7.7.5.1.1.1.cmml">i</mi><mo id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.2" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.3.cmml">,</mo><msup id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.cmml"><mi id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.2" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.2.cmml">j</mi><mo id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.3" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.3.cmml">′</mo></msup></mrow></msub><mo id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.3" stretchy="false" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="S4.E5Xa.3.2.2.m1.11.11.1.2" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E5Xa.3.2.2.m1.11b"><apply id="S4.E5Xa.3.2.2.m1.11.11.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1"><and id="S4.E5Xa.3.2.2.m1.11.11.1.1a.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1"></and><apply id="S4.E5Xa.3.2.2.m1.11.11.1.1b.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1"><eq id="S4.E5Xa.3.2.2.m1.11.11.1.1.4.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.4"></eq><csymbol cd="latexml" id="S4.E5Xa.3.2.2.m1.11.11.1.1.3.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.3">absent</csymbol><apply id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1"><times id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.2.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.2"></times><ci id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.3a.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.3"><mtext id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.3.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.3">Softmax</mtext></ci><apply id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1">subscript</csymbol><apply id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2"><ci id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.1.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.1">~</ci><ci id="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.2.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.1.1.1.1.2.2">𝛾</ci></apply><list id="S4.E5Xa.3.2.2.m1.2.2.2.3.cmml" xref="S4.E5Xa.3.2.2.m1.2.2.2.4"><ci id="S4.E5Xa.3.2.2.m1.1.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.1.1.1.1">𝑖</ci><ci id="S4.E5Xa.3.2.2.m1.2.2.2.2.cmml" xref="S4.E5Xa.3.2.2.m1.2.2.2.2">𝑗</ci></list></apply></apply></apply><apply id="S4.E5Xa.3.2.2.m1.11.11.1.1c.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1"><eq id="S4.E5Xa.3.2.2.m1.11.11.1.1.5.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1.1.5"></eq><share href="https://arxiv.org/html/2408.11302v1#S4.E5Xa.3.2.2.m1.11.11.1.1.1.cmml" id="S4.E5Xa.3.2.2.m1.11.11.1.1d.cmml" xref="S4.E5Xa.3.2.2.m1.11.11.1"></share><apply id="S4.E5Xa.3.2.2.m1.10.10.cmml" xref="S4.E5Xa.3.2.2.m1.10.10"><divide id="S4.E5Xa.3.2.2.m1.10.10.9.cmml" xref="S4.E5Xa.3.2.2.m1.10.10"></divide><apply id="S4.E5Xa.3.2.2.m1.6.6.4.5.cmml" xref="S4.E5Xa.3.2.2.m1.6.6.4.4"><exp id="S4.E5Xa.3.2.2.m1.5.5.3.3.cmml" xref="S4.E5Xa.3.2.2.m1.5.5.3.3"></exp><apply id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1"><csymbol cd="ambiguous" id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1">subscript</csymbol><apply id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.cmml" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2"><ci id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.1.cmml" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.1">~</ci><ci id="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.2.cmml" xref="S4.E5Xa.3.2.2.m1.6.6.4.4.1.1.2.2">𝛾</ci></apply><list id="S4.E5Xa.3.2.2.m1.4.4.2.2.2.3.cmml" xref="S4.E5Xa.3.2.2.m1.4.4.2.2.2.4"><ci id="S4.E5Xa.3.2.2.m1.3.3.1.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.3.3.1.1.1.1">𝑖</ci><ci id="S4.E5Xa.3.2.2.m1.4.4.2.2.2.2.cmml" xref="S4.E5Xa.3.2.2.m1.4.4.2.2.2.2">𝑗</ci></list></apply></apply><apply id="S4.E5Xa.3.2.2.m1.10.10.8.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8"><apply id="S4.E5Xa.3.2.2.m1.10.10.8.5.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5"><csymbol cd="ambiguous" id="S4.E5Xa.3.2.2.m1.10.10.8.5.1.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5">subscript</csymbol><sum id="S4.E5Xa.3.2.2.m1.10.10.8.5.2.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.2"></sum><apply id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3"><in id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.1.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.1"></in><apply id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2"><csymbol cd="ambiguous" id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.1.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2">superscript</csymbol><ci id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.2.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.2">𝑗</ci><ci id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.3.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.2.3">′</ci></apply><apply id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3"><csymbol cd="ambiguous" id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.1.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3">subscript</csymbol><ci id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.2.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.2">ℛ</ci><ci id="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.3.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.5.3.3.3">𝑢</ci></apply></apply></apply><apply id="S4.E5Xa.3.2.2.m1.10.10.8.4.2.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1"><exp id="S4.E5Xa.3.2.2.m1.9.9.7.3.cmml" xref="S4.E5Xa.3.2.2.m1.9.9.7.3"></exp><apply id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1"><csymbol cd="ambiguous" id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1">subscript</csymbol><apply id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2"><ci id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.1.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.1">~</ci><ci id="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.2.cmml" xref="S4.E5Xa.3.2.2.m1.10.10.8.4.1.1.1.2.2">𝛾</ci></apply><list id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.3.cmml" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2"><ci id="S4.E5Xa.3.2.2.m1.7.7.5.1.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.7.7.5.1.1.1">𝑖</ci><apply id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.cmml" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1"><csymbol cd="ambiguous" id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.1.cmml" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1">superscript</csymbol><ci id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.2.cmml" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.2">𝑗</ci><ci id="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.3.cmml" xref="S4.E5Xa.3.2.2.m1.8.8.6.2.2.2.1.3">′</ci></apply></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5Xa.3.2.2.m1.11c">\displaystyle=\text{Softmax}(\tilde{\gamma}_{i,j})=\frac{\exp(\tilde{\gamma}_{%
i,j})}{\sum_{j^{\prime}\in\mathcal{R}_{u}}\exp(\tilde{\gamma}_{i,j^{\prime}})},</annotation><annotation encoding="application/x-llamapun" id="S4.E5Xa.3.2.2.m1.11d">= Softmax ( over~ start_ARG italic_γ end_ARG start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT ) = divide start_ARG roman_exp ( over~ start_ARG italic_γ end_ARG start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_j start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( over~ start_ARG italic_γ end_ARG start_POSTSUBSCRIPT italic_i , italic_j start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S4.SS2.p4.5">where “<math alttext="\mathbin{\|}" class="ltx_Math" display="inline" id="S4.SS2.p4.2.m1.1"><semantics id="S4.SS2.p4.2.m1.1a"><mo id="S4.SS2.p4.2.m1.1.1" xref="S4.SS2.p4.2.m1.1.1.cmml">∥</mo><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.2.m1.1b"><ci id="S4.SS2.p4.2.m1.1.1.cmml" xref="S4.SS2.p4.2.m1.1.1">∥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.2.m1.1c">\mathbin{\|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.2.m1.1d">∥</annotation></semantics></math>” is the concatenation operator, <math alttext="\mathbf{h}_{i}^{*}" class="ltx_Math" display="inline" id="S4.SS2.p4.3.m2.1"><semantics id="S4.SS2.p4.3.m2.1a"><msubsup id="S4.SS2.p4.3.m2.1.1" xref="S4.SS2.p4.3.m2.1.1.cmml"><mi id="S4.SS2.p4.3.m2.1.1.2.2" xref="S4.SS2.p4.3.m2.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS2.p4.3.m2.1.1.2.3" xref="S4.SS2.p4.3.m2.1.1.2.3.cmml">i</mi><mo id="S4.SS2.p4.3.m2.1.1.3" xref="S4.SS2.p4.3.m2.1.1.3.cmml">∗</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.3.m2.1b"><apply id="S4.SS2.p4.3.m2.1.1.cmml" xref="S4.SS2.p4.3.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.3.m2.1.1.1.cmml" xref="S4.SS2.p4.3.m2.1.1">superscript</csymbol><apply id="S4.SS2.p4.3.m2.1.1.2.cmml" xref="S4.SS2.p4.3.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.3.m2.1.1.2.1.cmml" xref="S4.SS2.p4.3.m2.1.1">subscript</csymbol><ci id="S4.SS2.p4.3.m2.1.1.2.2.cmml" xref="S4.SS2.p4.3.m2.1.1.2.2">𝐡</ci><ci id="S4.SS2.p4.3.m2.1.1.2.3.cmml" xref="S4.SS2.p4.3.m2.1.1.2.3">𝑖</ci></apply><times id="S4.SS2.p4.3.m2.1.1.3.cmml" xref="S4.SS2.p4.3.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.3.m2.1c">\mathbf{h}_{i}^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.3.m2.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> combines the product node representations from <math alttext="K" class="ltx_Math" display="inline" id="S4.SS2.p4.4.m3.1"><semantics id="S4.SS2.p4.4.m3.1a"><mi id="S4.SS2.p4.4.m3.1.1" xref="S4.SS2.p4.4.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.4.m3.1b"><ci id="S4.SS2.p4.4.m3.1.1.cmml" xref="S4.SS2.p4.4.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.4.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.4.m3.1d">italic_K</annotation></semantics></math> ARNs and draws a holistic picture, and the softmax function is applied to normalize the attention scores. Now given the parameter <math alttext="\gamma_{i,j}" class="ltx_Math" display="inline" id="S4.SS2.p4.5.m4.2"><semantics id="S4.SS2.p4.5.m4.2a"><msub id="S4.SS2.p4.5.m4.2.3" xref="S4.SS2.p4.5.m4.2.3.cmml"><mi id="S4.SS2.p4.5.m4.2.3.2" xref="S4.SS2.p4.5.m4.2.3.2.cmml">γ</mi><mrow id="S4.SS2.p4.5.m4.2.2.2.4" xref="S4.SS2.p4.5.m4.2.2.2.3.cmml"><mi id="S4.SS2.p4.5.m4.1.1.1.1" xref="S4.SS2.p4.5.m4.1.1.1.1.cmml">i</mi><mo id="S4.SS2.p4.5.m4.2.2.2.4.1" xref="S4.SS2.p4.5.m4.2.2.2.3.cmml">,</mo><mi id="S4.SS2.p4.5.m4.2.2.2.2" xref="S4.SS2.p4.5.m4.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.5.m4.2b"><apply id="S4.SS2.p4.5.m4.2.3.cmml" xref="S4.SS2.p4.5.m4.2.3"><csymbol cd="ambiguous" id="S4.SS2.p4.5.m4.2.3.1.cmml" xref="S4.SS2.p4.5.m4.2.3">subscript</csymbol><ci id="S4.SS2.p4.5.m4.2.3.2.cmml" xref="S4.SS2.p4.5.m4.2.3.2">𝛾</ci><list id="S4.SS2.p4.5.m4.2.2.2.3.cmml" xref="S4.SS2.p4.5.m4.2.2.2.4"><ci id="S4.SS2.p4.5.m4.1.1.1.1.cmml" xref="S4.SS2.p4.5.m4.1.1.1.1">𝑖</ci><ci id="S4.SS2.p4.5.m4.2.2.2.2.cmml" xref="S4.SS2.p4.5.m4.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.5.m4.2c">\gamma_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.5.m4.2d">italic_γ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math>, we can plug it as a weight for each pair of comparisons in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E4" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4</span></a>), which gives the enhanced utility function as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="r_{u,i}=\sum_{j\in\mathcal{R}_{u}}\gamma_{i,j}\sum_{k\in\mathcal{K}}f_{u,k}(%
\mathbf{h}_{i}^{k},\mathbf{h}_{j}^{k},p_{i},p_{j})." class="ltx_Math" display="block" id="S4.E6.m1.7"><semantics id="S4.E6.m1.7a"><mrow id="S4.E6.m1.7.7.1" xref="S4.E6.m1.7.7.1.1.cmml"><mrow id="S4.E6.m1.7.7.1.1" xref="S4.E6.m1.7.7.1.1.cmml"><msub id="S4.E6.m1.7.7.1.1.6" xref="S4.E6.m1.7.7.1.1.6.cmml"><mi id="S4.E6.m1.7.7.1.1.6.2" xref="S4.E6.m1.7.7.1.1.6.2.cmml">r</mi><mrow id="S4.E6.m1.2.2.2.4" xref="S4.E6.m1.2.2.2.3.cmml"><mi id="S4.E6.m1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.cmml">u</mi><mo id="S4.E6.m1.2.2.2.4.1" xref="S4.E6.m1.2.2.2.3.cmml">,</mo><mi id="S4.E6.m1.2.2.2.2" xref="S4.E6.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S4.E6.m1.7.7.1.1.5" rspace="0.111em" xref="S4.E6.m1.7.7.1.1.5.cmml">=</mo><mrow id="S4.E6.m1.7.7.1.1.4" xref="S4.E6.m1.7.7.1.1.4.cmml"><munder id="S4.E6.m1.7.7.1.1.4.5" xref="S4.E6.m1.7.7.1.1.4.5.cmml"><mo id="S4.E6.m1.7.7.1.1.4.5.2" movablelimits="false" xref="S4.E6.m1.7.7.1.1.4.5.2.cmml">∑</mo><mrow id="S4.E6.m1.7.7.1.1.4.5.3" xref="S4.E6.m1.7.7.1.1.4.5.3.cmml"><mi id="S4.E6.m1.7.7.1.1.4.5.3.2" xref="S4.E6.m1.7.7.1.1.4.5.3.2.cmml">j</mi><mo id="S4.E6.m1.7.7.1.1.4.5.3.1" xref="S4.E6.m1.7.7.1.1.4.5.3.1.cmml">∈</mo><msub id="S4.E6.m1.7.7.1.1.4.5.3.3" xref="S4.E6.m1.7.7.1.1.4.5.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.7.7.1.1.4.5.3.3.2" xref="S4.E6.m1.7.7.1.1.4.5.3.3.2.cmml">ℛ</mi><mi id="S4.E6.m1.7.7.1.1.4.5.3.3.3" xref="S4.E6.m1.7.7.1.1.4.5.3.3.3.cmml">u</mi></msub></mrow></munder><mrow id="S4.E6.m1.7.7.1.1.4.4" xref="S4.E6.m1.7.7.1.1.4.4.cmml"><msub id="S4.E6.m1.7.7.1.1.4.4.6" xref="S4.E6.m1.7.7.1.1.4.4.6.cmml"><mi id="S4.E6.m1.7.7.1.1.4.4.6.2" xref="S4.E6.m1.7.7.1.1.4.4.6.2.cmml">γ</mi><mrow id="S4.E6.m1.4.4.2.4" xref="S4.E6.m1.4.4.2.3.cmml"><mi id="S4.E6.m1.3.3.1.1" xref="S4.E6.m1.3.3.1.1.cmml">i</mi><mo id="S4.E6.m1.4.4.2.4.1" xref="S4.E6.m1.4.4.2.3.cmml">,</mo><mi id="S4.E6.m1.4.4.2.2" xref="S4.E6.m1.4.4.2.2.cmml">j</mi></mrow></msub><mo id="S4.E6.m1.7.7.1.1.4.4.5" xref="S4.E6.m1.7.7.1.1.4.4.5.cmml">⁢</mo><mrow id="S4.E6.m1.7.7.1.1.4.4.4" xref="S4.E6.m1.7.7.1.1.4.4.4.cmml"><munder id="S4.E6.m1.7.7.1.1.4.4.4.5" xref="S4.E6.m1.7.7.1.1.4.4.4.5.cmml"><mo id="S4.E6.m1.7.7.1.1.4.4.4.5.2" movablelimits="false" xref="S4.E6.m1.7.7.1.1.4.4.4.5.2.cmml">∑</mo><mrow id="S4.E6.m1.7.7.1.1.4.4.4.5.3" xref="S4.E6.m1.7.7.1.1.4.4.4.5.3.cmml"><mi id="S4.E6.m1.7.7.1.1.4.4.4.5.3.2" xref="S4.E6.m1.7.7.1.1.4.4.4.5.3.2.cmml">k</mi><mo id="S4.E6.m1.7.7.1.1.4.4.4.5.3.1" xref="S4.E6.m1.7.7.1.1.4.4.4.5.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.7.7.1.1.4.4.4.5.3.3" xref="S4.E6.m1.7.7.1.1.4.4.4.5.3.3.cmml">𝒦</mi></mrow></munder><mrow id="S4.E6.m1.7.7.1.1.4.4.4.4" xref="S4.E6.m1.7.7.1.1.4.4.4.4.cmml"><msub id="S4.E6.m1.7.7.1.1.4.4.4.4.6" xref="S4.E6.m1.7.7.1.1.4.4.4.4.6.cmml"><mi id="S4.E6.m1.7.7.1.1.4.4.4.4.6.2" xref="S4.E6.m1.7.7.1.1.4.4.4.4.6.2.cmml">f</mi><mrow id="S4.E6.m1.6.6.2.4" xref="S4.E6.m1.6.6.2.3.cmml"><mi id="S4.E6.m1.5.5.1.1" xref="S4.E6.m1.5.5.1.1.cmml">u</mi><mo id="S4.E6.m1.6.6.2.4.1" xref="S4.E6.m1.6.6.2.3.cmml">,</mo><mi id="S4.E6.m1.6.6.2.2" xref="S4.E6.m1.6.6.2.2.cmml">k</mi></mrow></msub><mo id="S4.E6.m1.7.7.1.1.4.4.4.4.5" xref="S4.E6.m1.7.7.1.1.4.4.4.4.5.cmml">⁢</mo><mrow id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.5.cmml"><mo id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.5" stretchy="false" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.5.cmml">(</mo><msubsup id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.2" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.2.cmml">𝐡</mi><mi id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.3" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.3" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.6" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.5.cmml">,</mo><msubsup id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.cmml"><mi id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.2" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.2.cmml">𝐡</mi><mi id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.3" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.3.cmml">j</mi><mi id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.3" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.3.cmml">k</mi></msubsup><mo id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.7" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.5.cmml">,</mo><msub id="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3" xref="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.cmml"><mi id="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.2" xref="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.2.cmml">p</mi><mi id="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.3" xref="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.3.cmml">i</mi></msub><mo id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.8" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.5.cmml">,</mo><msub id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.cmml"><mi id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.2" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.2.cmml">p</mi><mi id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.3" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.3.cmml">j</mi></msub><mo id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.9" stretchy="false" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.5.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><mo id="S4.E6.m1.7.7.1.2" lspace="0em" xref="S4.E6.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.7b"><apply id="S4.E6.m1.7.7.1.1.cmml" xref="S4.E6.m1.7.7.1"><eq id="S4.E6.m1.7.7.1.1.5.cmml" xref="S4.E6.m1.7.7.1.1.5"></eq><apply id="S4.E6.m1.7.7.1.1.6.cmml" xref="S4.E6.m1.7.7.1.1.6"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.6.1.cmml" xref="S4.E6.m1.7.7.1.1.6">subscript</csymbol><ci id="S4.E6.m1.7.7.1.1.6.2.cmml" xref="S4.E6.m1.7.7.1.1.6.2">𝑟</ci><list id="S4.E6.m1.2.2.2.3.cmml" xref="S4.E6.m1.2.2.2.4"><ci id="S4.E6.m1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1">𝑢</ci><ci id="S4.E6.m1.2.2.2.2.cmml" xref="S4.E6.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S4.E6.m1.7.7.1.1.4.cmml" xref="S4.E6.m1.7.7.1.1.4"><apply id="S4.E6.m1.7.7.1.1.4.5.cmml" xref="S4.E6.m1.7.7.1.1.4.5"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.4.5.1.cmml" xref="S4.E6.m1.7.7.1.1.4.5">subscript</csymbol><sum id="S4.E6.m1.7.7.1.1.4.5.2.cmml" xref="S4.E6.m1.7.7.1.1.4.5.2"></sum><apply id="S4.E6.m1.7.7.1.1.4.5.3.cmml" xref="S4.E6.m1.7.7.1.1.4.5.3"><in id="S4.E6.m1.7.7.1.1.4.5.3.1.cmml" xref="S4.E6.m1.7.7.1.1.4.5.3.1"></in><ci id="S4.E6.m1.7.7.1.1.4.5.3.2.cmml" xref="S4.E6.m1.7.7.1.1.4.5.3.2">𝑗</ci><apply id="S4.E6.m1.7.7.1.1.4.5.3.3.cmml" xref="S4.E6.m1.7.7.1.1.4.5.3.3"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.4.5.3.3.1.cmml" xref="S4.E6.m1.7.7.1.1.4.5.3.3">subscript</csymbol><ci id="S4.E6.m1.7.7.1.1.4.5.3.3.2.cmml" xref="S4.E6.m1.7.7.1.1.4.5.3.3.2">ℛ</ci><ci id="S4.E6.m1.7.7.1.1.4.5.3.3.3.cmml" xref="S4.E6.m1.7.7.1.1.4.5.3.3.3">𝑢</ci></apply></apply></apply><apply id="S4.E6.m1.7.7.1.1.4.4.cmml" xref="S4.E6.m1.7.7.1.1.4.4"><times id="S4.E6.m1.7.7.1.1.4.4.5.cmml" xref="S4.E6.m1.7.7.1.1.4.4.5"></times><apply id="S4.E6.m1.7.7.1.1.4.4.6.cmml" xref="S4.E6.m1.7.7.1.1.4.4.6"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.4.4.6.1.cmml" xref="S4.E6.m1.7.7.1.1.4.4.6">subscript</csymbol><ci id="S4.E6.m1.7.7.1.1.4.4.6.2.cmml" xref="S4.E6.m1.7.7.1.1.4.4.6.2">𝛾</ci><list id="S4.E6.m1.4.4.2.3.cmml" xref="S4.E6.m1.4.4.2.4"><ci id="S4.E6.m1.3.3.1.1.cmml" xref="S4.E6.m1.3.3.1.1">𝑖</ci><ci id="S4.E6.m1.4.4.2.2.cmml" xref="S4.E6.m1.4.4.2.2">𝑗</ci></list></apply><apply id="S4.E6.m1.7.7.1.1.4.4.4.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4"><apply id="S4.E6.m1.7.7.1.1.4.4.4.5.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.5"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.4.4.4.5.1.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.5">subscript</csymbol><sum id="S4.E6.m1.7.7.1.1.4.4.4.5.2.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.5.2"></sum><apply id="S4.E6.m1.7.7.1.1.4.4.4.5.3.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.5.3"><in id="S4.E6.m1.7.7.1.1.4.4.4.5.3.1.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.5.3.1"></in><ci id="S4.E6.m1.7.7.1.1.4.4.4.5.3.2.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.5.3.2">𝑘</ci><ci id="S4.E6.m1.7.7.1.1.4.4.4.5.3.3.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.5.3.3">𝒦</ci></apply></apply><apply id="S4.E6.m1.7.7.1.1.4.4.4.4.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4"><times id="S4.E6.m1.7.7.1.1.4.4.4.4.5.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.5"></times><apply id="S4.E6.m1.7.7.1.1.4.4.4.4.6.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.6"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.4.4.4.4.6.1.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.6">subscript</csymbol><ci id="S4.E6.m1.7.7.1.1.4.4.4.4.6.2.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.6.2">𝑓</ci><list id="S4.E6.m1.6.6.2.3.cmml" xref="S4.E6.m1.6.6.2.4"><ci id="S4.E6.m1.5.5.1.1.cmml" xref="S4.E6.m1.5.5.1.1">𝑢</ci><ci id="S4.E6.m1.6.6.2.2.cmml" xref="S4.E6.m1.6.6.2.2">𝑘</ci></list></apply><vector id="S4.E6.m1.7.7.1.1.4.4.4.4.4.5.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.4"><apply id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.2">𝐡</ci><ci id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E6.m1.7.7.1.1.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.cmml" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.1.cmml" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2">superscript</csymbol><apply id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.cmml" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.1.cmml" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2">subscript</csymbol><ci id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.2.cmml" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.2">𝐡</ci><ci id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.3.cmml" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.2.3">𝑗</ci></apply><ci id="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.3.cmml" xref="S4.E6.m1.7.7.1.1.2.2.2.2.2.2.2.3">𝑘</ci></apply><apply id="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.cmml" xref="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.1.cmml" xref="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3">subscript</csymbol><ci id="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.2.cmml" xref="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.2">𝑝</ci><ci id="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.3.cmml" xref="S4.E6.m1.7.7.1.1.3.3.3.3.3.3.3.3">𝑖</ci></apply><apply id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4"><csymbol cd="ambiguous" id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.1.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4">subscript</csymbol><ci id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.2.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.2">𝑝</ci><ci id="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.3.cmml" xref="S4.E6.m1.7.7.1.1.4.4.4.4.4.4.4.3">𝑗</ci></apply></vector></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.7c">r_{u,i}=\sum_{j\in\mathcal{R}_{u}}\gamma_{i,j}\sum_{k\in\mathcal{K}}f_{u,k}(%
\mathbf{h}_{i}^{k},\mathbf{h}_{j}^{k},p_{i},p_{j}).</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.7d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_γ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_k ∈ caligraphic_K end_POSTSUBSCRIPT italic_f start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.p4.10">Hence, our remaining task is to specify the formulation of the attribute-level utility function <math alttext="f_{u,k}(\cdot)" class="ltx_Math" display="inline" id="S4.SS2.p4.6.m1.3"><semantics id="S4.SS2.p4.6.m1.3a"><mrow id="S4.SS2.p4.6.m1.3.4" xref="S4.SS2.p4.6.m1.3.4.cmml"><msub id="S4.SS2.p4.6.m1.3.4.2" xref="S4.SS2.p4.6.m1.3.4.2.cmml"><mi id="S4.SS2.p4.6.m1.3.4.2.2" xref="S4.SS2.p4.6.m1.3.4.2.2.cmml">f</mi><mrow id="S4.SS2.p4.6.m1.2.2.2.4" xref="S4.SS2.p4.6.m1.2.2.2.3.cmml"><mi id="S4.SS2.p4.6.m1.1.1.1.1" xref="S4.SS2.p4.6.m1.1.1.1.1.cmml">u</mi><mo id="S4.SS2.p4.6.m1.2.2.2.4.1" xref="S4.SS2.p4.6.m1.2.2.2.3.cmml">,</mo><mi id="S4.SS2.p4.6.m1.2.2.2.2" xref="S4.SS2.p4.6.m1.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S4.SS2.p4.6.m1.3.4.1" xref="S4.SS2.p4.6.m1.3.4.1.cmml">⁢</mo><mrow id="S4.SS2.p4.6.m1.3.4.3.2" xref="S4.SS2.p4.6.m1.3.4.cmml"><mo id="S4.SS2.p4.6.m1.3.4.3.2.1" stretchy="false" xref="S4.SS2.p4.6.m1.3.4.cmml">(</mo><mo id="S4.SS2.p4.6.m1.3.3" lspace="0em" rspace="0em" xref="S4.SS2.p4.6.m1.3.3.cmml">⋅</mo><mo id="S4.SS2.p4.6.m1.3.4.3.2.2" stretchy="false" xref="S4.SS2.p4.6.m1.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.6.m1.3b"><apply id="S4.SS2.p4.6.m1.3.4.cmml" xref="S4.SS2.p4.6.m1.3.4"><times id="S4.SS2.p4.6.m1.3.4.1.cmml" xref="S4.SS2.p4.6.m1.3.4.1"></times><apply id="S4.SS2.p4.6.m1.3.4.2.cmml" xref="S4.SS2.p4.6.m1.3.4.2"><csymbol cd="ambiguous" id="S4.SS2.p4.6.m1.3.4.2.1.cmml" xref="S4.SS2.p4.6.m1.3.4.2">subscript</csymbol><ci id="S4.SS2.p4.6.m1.3.4.2.2.cmml" xref="S4.SS2.p4.6.m1.3.4.2.2">𝑓</ci><list id="S4.SS2.p4.6.m1.2.2.2.3.cmml" xref="S4.SS2.p4.6.m1.2.2.2.4"><ci id="S4.SS2.p4.6.m1.1.1.1.1.cmml" xref="S4.SS2.p4.6.m1.1.1.1.1">𝑢</ci><ci id="S4.SS2.p4.6.m1.2.2.2.2.cmml" xref="S4.SS2.p4.6.m1.2.2.2.2">𝑘</ci></list></apply><ci id="S4.SS2.p4.6.m1.3.3.cmml" xref="S4.SS2.p4.6.m1.3.3">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.6.m1.3c">f_{u,k}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.6.m1.3d">italic_f start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT ( ⋅ )</annotation></semantics></math> to account for the reference point <math alttext="j" class="ltx_Math" display="inline" id="S4.SS2.p4.7.m2.1"><semantics id="S4.SS2.p4.7.m2.1a"><mi id="S4.SS2.p4.7.m2.1.1" xref="S4.SS2.p4.7.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.7.m2.1b"><ci id="S4.SS2.p4.7.m2.1.1.cmml" xref="S4.SS2.p4.7.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.7.m2.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.7.m2.1d">italic_j</annotation></semantics></math>-referenced utility of consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.p4.8.m3.1"><semantics id="S4.SS2.p4.8.m3.1a"><mi id="S4.SS2.p4.8.m3.1.1" xref="S4.SS2.p4.8.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.8.m3.1b"><ci id="S4.SS2.p4.8.m3.1.1.cmml" xref="S4.SS2.p4.8.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.8.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.8.m3.1d">italic_u</annotation></semantics></math> to product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.p4.9.m4.1"><semantics id="S4.SS2.p4.9.m4.1a"><mi id="S4.SS2.p4.9.m4.1.1" xref="S4.SS2.p4.9.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.9.m4.1b"><ci id="S4.SS2.p4.9.m4.1.1.cmml" xref="S4.SS2.p4.9.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.9.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.9.m4.1d">italic_i</annotation></semantics></math> in terms of the aspect of attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.p4.10.m5.1"><semantics id="S4.SS2.p4.10.m5.1a"><mi id="S4.SS2.p4.10.m5.1.1" xref="S4.SS2.p4.10.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.10.m5.1b"><ci id="S4.SS2.p4.10.m5.1.1.cmml" xref="S4.SS2.p4.10.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.10.m5.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.10.m5.1d">italic_k</annotation></semantics></math>.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1 </span>Reference-dependent Utility with Dual Preferences.</h4>
<div class="ltx_para" id="S4.SS2.SSS1.p1">
<p class="ltx_p" id="S4.SS2.SSS1.p1.1">As discussed previously in Section <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3" title="3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">3</span></a>, reference-dependent utility could be modeled by comparing a target product against reference points in each salient attribute from two aspects, <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS1.p1.1.1">i.e.</em>, the <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS1.p1.1.2">interest-inspired preference</em> focused on the product properties, and the <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS1.p1.1.3">price-inspired preference</em> focused on product prices. We formulate these two aspects to implement <math alttext="f_{u.k}(\cdot)" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p1.1.m1.3"><semantics id="S4.SS2.SSS1.p1.1.m1.3a"><mrow id="S4.SS2.SSS1.p1.1.m1.3.4" xref="S4.SS2.SSS1.p1.1.m1.3.4.cmml"><msub id="S4.SS2.SSS1.p1.1.m1.3.4.2" xref="S4.SS2.SSS1.p1.1.m1.3.4.2.cmml"><mi id="S4.SS2.SSS1.p1.1.m1.3.4.2.2" xref="S4.SS2.SSS1.p1.1.m1.3.4.2.2.cmml">f</mi><mrow id="S4.SS2.SSS1.p1.1.m1.2.2.2.4" xref="S4.SS2.SSS1.p1.1.m1.2.2.2.3.cmml"><mi id="S4.SS2.SSS1.p1.1.m1.1.1.1.1" xref="S4.SS2.SSS1.p1.1.m1.1.1.1.1.cmml">u</mi><mo id="S4.SS2.SSS1.p1.1.m1.2.2.2.4.1" lspace="0em" rspace="0.167em" xref="S4.SS2.SSS1.p1.1.m1.2.2.2.3a.cmml">.</mo><mi id="S4.SS2.SSS1.p1.1.m1.2.2.2.2" xref="S4.SS2.SSS1.p1.1.m1.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S4.SS2.SSS1.p1.1.m1.3.4.1" xref="S4.SS2.SSS1.p1.1.m1.3.4.1.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p1.1.m1.3.4.3.2" xref="S4.SS2.SSS1.p1.1.m1.3.4.cmml"><mo id="S4.SS2.SSS1.p1.1.m1.3.4.3.2.1" stretchy="false" xref="S4.SS2.SSS1.p1.1.m1.3.4.cmml">(</mo><mo id="S4.SS2.SSS1.p1.1.m1.3.3" lspace="0em" rspace="0em" xref="S4.SS2.SSS1.p1.1.m1.3.3.cmml">⋅</mo><mo id="S4.SS2.SSS1.p1.1.m1.3.4.3.2.2" stretchy="false" xref="S4.SS2.SSS1.p1.1.m1.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p1.1.m1.3b"><apply id="S4.SS2.SSS1.p1.1.m1.3.4.cmml" xref="S4.SS2.SSS1.p1.1.m1.3.4"><times id="S4.SS2.SSS1.p1.1.m1.3.4.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.3.4.1"></times><apply id="S4.SS2.SSS1.p1.1.m1.3.4.2.cmml" xref="S4.SS2.SSS1.p1.1.m1.3.4.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p1.1.m1.3.4.2.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.3.4.2">subscript</csymbol><ci id="S4.SS2.SSS1.p1.1.m1.3.4.2.2.cmml" xref="S4.SS2.SSS1.p1.1.m1.3.4.2.2">𝑓</ci><apply id="S4.SS2.SSS1.p1.1.m1.2.2.2.3.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.2.4"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p1.1.m1.2.2.2.3a.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.2.4.1">formulae-sequence</csymbol><ci id="S4.SS2.SSS1.p1.1.m1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p1.1.m1.1.1.1.1">𝑢</ci><ci id="S4.SS2.SSS1.p1.1.m1.2.2.2.2.cmml" xref="S4.SS2.SSS1.p1.1.m1.2.2.2.2">𝑘</ci></apply></apply><ci id="S4.SS2.SSS1.p1.1.m1.3.3.cmml" xref="S4.SS2.SSS1.p1.1.m1.3.3">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p1.1.m1.3c">f_{u.k}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p1.1.m1.3d">italic_f start_POSTSUBSCRIPT italic_u . italic_k end_POSTSUBSCRIPT ( ⋅ )</annotation></semantics></math> in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E6" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>) as follows.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS1.p2">
<p class="ltx_p" id="S4.SS2.SSS1.p2.8"><span class="ltx_text ltx_font_bold" id="S4.SS2.SSS1.p2.8.1">Interest-inspired Preference.</span> We employ the <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS1.p2.8.2">Hadamard product</em> to compare a target product against a reference point under a given attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.1.m1.1"><semantics id="S4.SS2.SSS1.p2.1.m1.1a"><mi id="S4.SS2.SSS1.p2.1.m1.1.1" xref="S4.SS2.SSS1.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.1.m1.1b"><ci id="S4.SS2.SSS1.p2.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p2.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.1.m1.1d">italic_k</annotation></semantics></math>. Specifically, let <math alttext="\mathbf{h}_{i}^{k}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.2.m2.1"><semantics id="S4.SS2.SSS1.p2.2.m2.1a"><msubsup id="S4.SS2.SSS1.p2.2.m2.1.1" xref="S4.SS2.SSS1.p2.2.m2.1.1.cmml"><mi id="S4.SS2.SSS1.p2.2.m2.1.1.2.2" xref="S4.SS2.SSS1.p2.2.m2.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p2.2.m2.1.1.2.3" xref="S4.SS2.SSS1.p2.2.m2.1.1.2.3.cmml">i</mi><mi id="S4.SS2.SSS1.p2.2.m2.1.1.3" xref="S4.SS2.SSS1.p2.2.m2.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.2.m2.1b"><apply id="S4.SS2.SSS1.p2.2.m2.1.1.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.2.m2.1.1.1.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.2.m2.1.1.2.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.2.m2.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.2.m2.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p2.2.m2.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S4.SS2.SSS1.p2.2.m2.1.1.3.cmml" xref="S4.SS2.SSS1.p2.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.2.m2.1c">\mathbf{h}_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.2.m2.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> and <math alttext="\mathbf{h}_{j}^{k}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.3.m3.1"><semantics id="S4.SS2.SSS1.p2.3.m3.1a"><msubsup id="S4.SS2.SSS1.p2.3.m3.1.1" xref="S4.SS2.SSS1.p2.3.m3.1.1.cmml"><mi id="S4.SS2.SSS1.p2.3.m3.1.1.2.2" xref="S4.SS2.SSS1.p2.3.m3.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p2.3.m3.1.1.2.3" xref="S4.SS2.SSS1.p2.3.m3.1.1.2.3.cmml">j</mi><mi id="S4.SS2.SSS1.p2.3.m3.1.1.3" xref="S4.SS2.SSS1.p2.3.m3.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.3.m3.1b"><apply id="S4.SS2.SSS1.p2.3.m3.1.1.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.3.m3.1.1.1.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1">superscript</csymbol><apply id="S4.SS2.SSS1.p2.3.m3.1.1.2.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.3.m3.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.SSS1.p2.3.m3.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p2.3.m3.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1.2.3">𝑗</ci></apply><ci id="S4.SS2.SSS1.p2.3.m3.1.1.3.cmml" xref="S4.SS2.SSS1.p2.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.3.m3.1c">\mathbf{h}_{j}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.3.m3.1d">bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> represent the target product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.4.m4.1"><semantics id="S4.SS2.SSS1.p2.4.m4.1a"><mi id="S4.SS2.SSS1.p2.4.m4.1.1" xref="S4.SS2.SSS1.p2.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.4.m4.1b"><ci id="S4.SS2.SSS1.p2.4.m4.1.1.cmml" xref="S4.SS2.SSS1.p2.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.4.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.4.m4.1d">italic_i</annotation></semantics></math> and the reference point <math alttext="j" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.5.m5.1"><semantics id="S4.SS2.SSS1.p2.5.m5.1a"><mi id="S4.SS2.SSS1.p2.5.m5.1.1" xref="S4.SS2.SSS1.p2.5.m5.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.5.m5.1b"><ci id="S4.SS2.SSS1.p2.5.m5.1.1.cmml" xref="S4.SS2.SSS1.p2.5.m5.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.5.m5.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.5.m5.1d">italic_j</annotation></semantics></math>, respectively, the Hadamard product is then formulated as <math alttext="\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.6.m6.1"><semantics id="S4.SS2.SSS1.p2.6.m6.1a"><mrow id="S4.SS2.SSS1.p2.6.m6.1.1" xref="S4.SS2.SSS1.p2.6.m6.1.1.cmml"><msubsup id="S4.SS2.SSS1.p2.6.m6.1.1.2" xref="S4.SS2.SSS1.p2.6.m6.1.1.2.cmml"><mi id="S4.SS2.SSS1.p2.6.m6.1.1.2.2.2" xref="S4.SS2.SSS1.p2.6.m6.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p2.6.m6.1.1.2.2.3" xref="S4.SS2.SSS1.p2.6.m6.1.1.2.2.3.cmml">i</mi><mi id="S4.SS2.SSS1.p2.6.m6.1.1.2.3" xref="S4.SS2.SSS1.p2.6.m6.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.SS2.SSS1.p2.6.m6.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.SS2.SSS1.p2.6.m6.1.1.1.cmml">⊙</mo><msubsup id="S4.SS2.SSS1.p2.6.m6.1.1.3" xref="S4.SS2.SSS1.p2.6.m6.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.6.m6.1.1.3.2.2" xref="S4.SS2.SSS1.p2.6.m6.1.1.3.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p2.6.m6.1.1.3.2.3" xref="S4.SS2.SSS1.p2.6.m6.1.1.3.2.3.cmml">j</mi><mi id="S4.SS2.SSS1.p2.6.m6.1.1.3.3" xref="S4.SS2.SSS1.p2.6.m6.1.1.3.3.cmml">k</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.6.m6.1b"><apply id="S4.SS2.SSS1.p2.6.m6.1.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1"><csymbol cd="latexml" id="S4.SS2.SSS1.p2.6.m6.1.1.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.1">direct-product</csymbol><apply id="S4.SS2.SSS1.p2.6.m6.1.1.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.2">superscript</csymbol><apply id="S4.SS2.SSS1.p2.6.m6.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.1.1.2.2.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p2.6.m6.1.1.2.2.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.2.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p2.6.m6.1.1.2.2.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS2.SSS1.p2.6.m6.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.2.3">𝑘</ci></apply><apply id="S4.SS2.SSS1.p2.6.m6.1.1.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.3">superscript</csymbol><apply id="S4.SS2.SSS1.p2.6.m6.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.6.m6.1.1.3.2.1.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.6.m6.1.1.3.2.2.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.3.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p2.6.m6.1.1.3.2.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.3.2.3">𝑗</ci></apply><ci id="S4.SS2.SSS1.p2.6.m6.1.1.3.3.cmml" xref="S4.SS2.SSS1.p2.6.m6.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.6.m6.1c">\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.6.m6.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ⊙ bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>, in which a feature dimension could be intensified if the two product embeddings exhibit similar level of values (either positive or negative) in that specific dimension.
Then, we apply a transformation with an MLP parameterized by <math alttext="\mathbf{\alpha}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.7.m7.1"><semantics id="S4.SS2.SSS1.p2.7.m7.1a"><mi id="S4.SS2.SSS1.p2.7.m7.1.1" xref="S4.SS2.SSS1.p2.7.m7.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.7.m7.1b"><ci id="S4.SS2.SSS1.p2.7.m7.1.1.cmml" xref="S4.SS2.SSS1.p2.7.m7.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.7.m7.1c">\mathbf{\alpha}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.7.m7.1d">italic_α</annotation></semantics></math>, <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS1.p2.8.3">i.e.</em>, <math alttext="\text{MLP}_{\alpha}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}\right)" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p2.8.m8.1"><semantics id="S4.SS2.SSS1.p2.8.m8.1a"><mrow id="S4.SS2.SSS1.p2.8.m8.1.1" xref="S4.SS2.SSS1.p2.8.m8.1.1.cmml"><msub id="S4.SS2.SSS1.p2.8.m8.1.1.3" xref="S4.SS2.SSS1.p2.8.m8.1.1.3.cmml"><mtext id="S4.SS2.SSS1.p2.8.m8.1.1.3.2" xref="S4.SS2.SSS1.p2.8.m8.1.1.3.2a.cmml">MLP</mtext><mi id="S4.SS2.SSS1.p2.8.m8.1.1.3.3" xref="S4.SS2.SSS1.p2.8.m8.1.1.3.3.cmml">α</mi></msub><mo id="S4.SS2.SSS1.p2.8.m8.1.1.2" xref="S4.SS2.SSS1.p2.8.m8.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p2.8.m8.1.1.1.1" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.2" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.cmml"><msubsup id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.cmml"><mi id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.2" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.3" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.3.cmml">i</mi><mi id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.3" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.1.cmml">⊙</mo><msubsup id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.2" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.3" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.3.cmml">j</mi><mi id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.3.cmml">k</mi></msubsup></mrow><mo id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.3" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p2.8.m8.1b"><apply id="S4.SS2.SSS1.p2.8.m8.1.1.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1"><times id="S4.SS2.SSS1.p2.8.m8.1.1.2.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.2"></times><apply id="S4.SS2.SSS1.p2.8.m8.1.1.3.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.8.m8.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.8.m8.1.1.3.2a.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.3.2"><mtext id="S4.SS2.SSS1.p2.8.m8.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.3.2">MLP</mtext></ci><ci id="S4.SS2.SSS1.p2.8.m8.1.1.3.3.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.3.3">𝛼</ci></apply><apply id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.1">direct-product</csymbol><apply id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2">superscript</csymbol><apply id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.1.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.2.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.3.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3">superscript</csymbol><apply id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.1.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.2.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.3.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.2.3">𝑗</ci></apply><ci id="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p2.8.m8.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p2.8.m8.1c">\text{MLP}_{\alpha}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p2.8.m8.1d">MLP start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ⊙ bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT )</annotation></semantics></math>, to obtain consumers’ personalized perceptions as the interest-inspired preference. This MLP transformation simulates the information processing process in consumers’ comparison of a product against their own reference points.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS1.p3">
<p class="ltx_p" id="S4.SS2.SSS1.p3.4"><span class="ltx_text ltx_font_bold" id="S4.SS2.SSS1.p3.4.1">Price-inspired Preference.</span> In real-life purchasing decisions, consumers also assess a target product by comparing its price with that of the reference points, which is commonly termed as <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS1.p3.4.2">reference price</em>. The influence of reference price on consumer choices has been extensively examined in the literature <cite class="ltx_cite ltx_citemacro_citep">(Lattin and Bucklin, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib51" title="">1989</a>, Winer, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib91" title="">1986</a>)</cite>, typically through the integration of a “sticker shock” term into the utility function. This term captures the disparity between the reference price and the shelf price of the evaluated product and is commonly assumed to have a linear additive effect. Formally, this term is formulated as <math alttext="\beta\cdot(p_{j}-p_{i})" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.1.m1.1"><semantics id="S4.SS2.SSS1.p3.1.m1.1a"><mrow id="S4.SS2.SSS1.p3.1.m1.1.1" xref="S4.SS2.SSS1.p3.1.m1.1.1.cmml"><mi id="S4.SS2.SSS1.p3.1.m1.1.1.3" xref="S4.SS2.SSS1.p3.1.m1.1.1.3.cmml">β</mi><mo id="S4.SS2.SSS1.p3.1.m1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S4.SS2.SSS1.p3.1.m1.1.1.2.cmml">⋅</mo><mrow id="S4.SS2.SSS1.p3.1.m1.1.1.1.1" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml"><msub id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.cmml"><mi id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.2" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.2.cmml">p</mi><mi id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.3" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.3.cmml">j</mi></msub><mo id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.1" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.1.cmml">−</mo><msub id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.2" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.2.cmml">p</mi><mi id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.1.m1.1b"><apply id="S4.SS2.SSS1.p3.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1"><ci id="S4.SS2.SSS1.p3.1.m1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.2">⋅</ci><ci id="S4.SS2.SSS1.p3.1.m1.1.1.3.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.3">𝛽</ci><apply id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1"><minus id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.1"></minus><apply id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.2">𝑝</ci><ci id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.2.3">𝑗</ci></apply><apply id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.2">𝑝</ci><ci id="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p3.1.m1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.1.m1.1c">\beta\cdot(p_{j}-p_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.1.m1.1d">italic_β ⋅ ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.2.m2.1"><semantics id="S4.SS2.SSS1.p3.2.m2.1a"><mi id="S4.SS2.SSS1.p3.2.m2.1.1" xref="S4.SS2.SSS1.p3.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.2.m2.1b"><ci id="S4.SS2.SSS1.p3.2.m2.1.1.cmml" xref="S4.SS2.SSS1.p3.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.2.m2.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.2.m2.1d">italic_β</annotation></semantics></math> represents consumers’ price sensitivity, and <math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.3.m3.1"><semantics id="S4.SS2.SSS1.p3.3.m3.1a"><mi id="S4.SS2.SSS1.p3.3.m3.1.1" xref="S4.SS2.SSS1.p3.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.3.m3.1b"><ci id="S4.SS2.SSS1.p3.3.m3.1.1.cmml" xref="S4.SS2.SSS1.p3.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.3.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.3.m3.1d">italic_i</annotation></semantics></math> and <math alttext="j" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p3.4.m4.1"><semantics id="S4.SS2.SSS1.p3.4.m4.1a"><mi id="S4.SS2.SSS1.p3.4.m4.1.1" xref="S4.SS2.SSS1.p3.4.m4.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p3.4.m4.1b"><ci id="S4.SS2.SSS1.p3.4.m4.1.1.cmml" xref="S4.SS2.SSS1.p3.4.m4.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p3.4.m4.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p3.4.m4.1d">italic_j</annotation></semantics></math> denote the target product and reference point, respectively.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS1.p4">
<p class="ltx_p" id="S4.SS2.SSS1.p4.1">Prior research on reference price has predominantly concentrated on the product level <cite class="ltx_cite ltx_citemacro_citep">(Lattin and Bucklin, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib51" title="">1989</a>, Winer, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib91" title="">1986</a>)</cite>. Nevertheless, consumers often evaluate the price of a product based on specific product attributes rather than considering them in aggregate <cite class="ltx_cite ltx_citemacro_citep">(Andrews and Manrai, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib3" title="">1999</a>)</cite>, implying that the price interacts extensively with other product attributes. For example, when purchasing a handbag, consumers may evaluate whether the brand is worth the price but overlook its functionality. Motivated by these observations, in what follows, we propose to integrate an attribute-aware “sticker shock” term into the reference-dependent utility function for price-inspired preference modeling.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS1.p5">
<p class="ltx_p" id="S4.SS2.SSS1.p5.6">Specifically, we extend the parameter <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p5.1.m1.1"><semantics id="S4.SS2.SSS1.p5.1.m1.1a"><mi id="S4.SS2.SSS1.p5.1.m1.1.1" xref="S4.SS2.SSS1.p5.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p5.1.m1.1b"><ci id="S4.SS2.SSS1.p5.1.m1.1.1.cmml" xref="S4.SS2.SSS1.p5.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p5.1.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p5.1.m1.1d">italic_β</annotation></semantics></math> in <math alttext="\beta\cdot(p_{j}-p_{i})" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p5.2.m2.1"><semantics id="S4.SS2.SSS1.p5.2.m2.1a"><mrow id="S4.SS2.SSS1.p5.2.m2.1.1" xref="S4.SS2.SSS1.p5.2.m2.1.1.cmml"><mi id="S4.SS2.SSS1.p5.2.m2.1.1.3" xref="S4.SS2.SSS1.p5.2.m2.1.1.3.cmml">β</mi><mo id="S4.SS2.SSS1.p5.2.m2.1.1.2" lspace="0.222em" rspace="0.222em" xref="S4.SS2.SSS1.p5.2.m2.1.1.2.cmml">⋅</mo><mrow id="S4.SS2.SSS1.p5.2.m2.1.1.1.1" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.cmml"><msub id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.cmml"><mi id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.2" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.2.cmml">p</mi><mi id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.3" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.3.cmml">j</mi></msub><mo id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.1" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.1.cmml">−</mo><msub id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.2" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.2.cmml">p</mi><mi id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p5.2.m2.1b"><apply id="S4.SS2.SSS1.p5.2.m2.1.1.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1"><ci id="S4.SS2.SSS1.p5.2.m2.1.1.2.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.2">⋅</ci><ci id="S4.SS2.SSS1.p5.2.m2.1.1.3.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.3">𝛽</ci><apply id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1"><minus id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.1"></minus><apply id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.2">𝑝</ci><ci id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.2.3">𝑗</ci></apply><apply id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.2">𝑝</ci><ci id="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p5.2.m2.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p5.2.m2.1c">\beta\cdot(p_{j}-p_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p5.2.m2.1d">italic_β ⋅ ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> to the price sensitivity at the product attribute level. As evidenced by prior studies, consumers’ attribute-level interest-inspired preferences will significantly affect their perceptions of price sensitivity <cite class="ltx_cite ltx_citemacro_citep">(Mellens et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib59" title="">1996</a>, Ishak and Abd Ghani, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib34" title="">2013</a>)</cite>. For instance, <cite class="ltx_cite ltx_citemacro_cite">Krishnamurthi and Raj, (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib49" title="">1991</a>)</cite> demonstrate that consumers with a strong interest for a specific brand are less price-sensitive than other consumers in making choice decisions. In this light, we assume that consumers have product attribute-aware price perceptions, and propose an <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS1.p5.6.1">attribute-aware price sensitivity</em> mechanism to capture this nuanced interactive relations. Specifically, we empower the parameter <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p5.3.m3.1"><semantics id="S4.SS2.SSS1.p5.3.m3.1a"><mi id="S4.SS2.SSS1.p5.3.m3.1.1" xref="S4.SS2.SSS1.p5.3.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p5.3.m3.1b"><ci id="S4.SS2.SSS1.p5.3.m3.1.1.cmml" xref="S4.SS2.SSS1.p5.3.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p5.3.m3.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p5.3.m3.1d">italic_β</annotation></semantics></math> in <math alttext="\beta\cdot(p_{j}-p_{i})" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p5.4.m4.1"><semantics id="S4.SS2.SSS1.p5.4.m4.1a"><mrow id="S4.SS2.SSS1.p5.4.m4.1.1" xref="S4.SS2.SSS1.p5.4.m4.1.1.cmml"><mi id="S4.SS2.SSS1.p5.4.m4.1.1.3" xref="S4.SS2.SSS1.p5.4.m4.1.1.3.cmml">β</mi><mo id="S4.SS2.SSS1.p5.4.m4.1.1.2" lspace="0.222em" rspace="0.222em" xref="S4.SS2.SSS1.p5.4.m4.1.1.2.cmml">⋅</mo><mrow id="S4.SS2.SSS1.p5.4.m4.1.1.1.1" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.2" stretchy="false" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.cmml"><msub id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.cmml"><mi id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.2" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.2.cmml">p</mi><mi id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.3" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.3.cmml">j</mi></msub><mo id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.1" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.1.cmml">−</mo><msub id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.2" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.2.cmml">p</mi><mi id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.3" stretchy="false" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p5.4.m4.1b"><apply id="S4.SS2.SSS1.p5.4.m4.1.1.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1"><ci id="S4.SS2.SSS1.p5.4.m4.1.1.2.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.2">⋅</ci><ci id="S4.SS2.SSS1.p5.4.m4.1.1.3.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.3">𝛽</ci><apply id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1"><minus id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.1"></minus><apply id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.2">𝑝</ci><ci id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.2.3">𝑗</ci></apply><apply id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.2">𝑝</ci><ci id="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p5.4.m4.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p5.4.m4.1c">\beta\cdot(p_{j}-p_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p5.4.m4.1d">italic_β ⋅ ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> with another MLP transformation denoted as <math alttext="\text{MLP}_{\beta}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}\right)" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p5.5.m5.1"><semantics id="S4.SS2.SSS1.p5.5.m5.1a"><mrow id="S4.SS2.SSS1.p5.5.m5.1.1" xref="S4.SS2.SSS1.p5.5.m5.1.1.cmml"><msub id="S4.SS2.SSS1.p5.5.m5.1.1.3" xref="S4.SS2.SSS1.p5.5.m5.1.1.3.cmml"><mtext id="S4.SS2.SSS1.p5.5.m5.1.1.3.2" xref="S4.SS2.SSS1.p5.5.m5.1.1.3.2a.cmml">MLP</mtext><mi id="S4.SS2.SSS1.p5.5.m5.1.1.3.3" xref="S4.SS2.SSS1.p5.5.m5.1.1.3.3.cmml">β</mi></msub><mo id="S4.SS2.SSS1.p5.5.m5.1.1.2" xref="S4.SS2.SSS1.p5.5.m5.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.SSS1.p5.5.m5.1.1.1.1" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.cmml"><mo id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.2" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.cmml"><msubsup id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.cmml"><mi id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.2" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.3" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.3.cmml">i</mi><mi id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.3" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.1.cmml">⊙</mo><msubsup id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.cmml"><mi id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.2" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.3" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.3.cmml">j</mi><mi id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.3" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.3.cmml">k</mi></msubsup></mrow><mo id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.3" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p5.5.m5.1b"><apply id="S4.SS2.SSS1.p5.5.m5.1.1.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1"><times id="S4.SS2.SSS1.p5.5.m5.1.1.2.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.2"></times><apply id="S4.SS2.SSS1.p5.5.m5.1.1.3.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.5.m5.1.1.3.1.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p5.5.m5.1.1.3.2a.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.3.2"><mtext id="S4.SS2.SSS1.p5.5.m5.1.1.3.2.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.3.2">MLP</mtext></ci><ci id="S4.SS2.SSS1.p5.5.m5.1.1.3.3.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.3.3">𝛽</ci></apply><apply id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.1">direct-product</csymbol><apply id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.1.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2">superscript</csymbol><apply id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.1.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.2.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.3.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.3.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.1.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3">superscript</csymbol><apply id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.1.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.2.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.3.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.2.3">𝑗</ci></apply><ci id="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.3.cmml" xref="S4.SS2.SSS1.p5.5.m5.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p5.5.m5.1c">\text{MLP}_{\beta}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p5.5.m5.1d">MLP start_POSTSUBSCRIPT italic_β end_POSTSUBSCRIPT ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ⊙ bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT )</annotation></semantics></math>. This transformation aims to capture the influence of attribute-level interest-inspired preferences (represented by <math alttext="\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p5.6.m6.1"><semantics id="S4.SS2.SSS1.p5.6.m6.1a"><mrow id="S4.SS2.SSS1.p5.6.m6.1.1" xref="S4.SS2.SSS1.p5.6.m6.1.1.cmml"><msubsup id="S4.SS2.SSS1.p5.6.m6.1.1.2" xref="S4.SS2.SSS1.p5.6.m6.1.1.2.cmml"><mi id="S4.SS2.SSS1.p5.6.m6.1.1.2.2.2" xref="S4.SS2.SSS1.p5.6.m6.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p5.6.m6.1.1.2.2.3" xref="S4.SS2.SSS1.p5.6.m6.1.1.2.2.3.cmml">i</mi><mi id="S4.SS2.SSS1.p5.6.m6.1.1.2.3" xref="S4.SS2.SSS1.p5.6.m6.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.SS2.SSS1.p5.6.m6.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.SS2.SSS1.p5.6.m6.1.1.1.cmml">⊙</mo><msubsup id="S4.SS2.SSS1.p5.6.m6.1.1.3" xref="S4.SS2.SSS1.p5.6.m6.1.1.3.cmml"><mi id="S4.SS2.SSS1.p5.6.m6.1.1.3.2.2" xref="S4.SS2.SSS1.p5.6.m6.1.1.3.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS1.p5.6.m6.1.1.3.2.3" xref="S4.SS2.SSS1.p5.6.m6.1.1.3.2.3.cmml">j</mi><mi id="S4.SS2.SSS1.p5.6.m6.1.1.3.3" xref="S4.SS2.SSS1.p5.6.m6.1.1.3.3.cmml">k</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p5.6.m6.1b"><apply id="S4.SS2.SSS1.p5.6.m6.1.1.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1"><csymbol cd="latexml" id="S4.SS2.SSS1.p5.6.m6.1.1.1.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.1">direct-product</csymbol><apply id="S4.SS2.SSS1.p5.6.m6.1.1.2.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.6.m6.1.1.2.1.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.2">superscript</csymbol><apply id="S4.SS2.SSS1.p5.6.m6.1.1.2.2.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.6.m6.1.1.2.2.1.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS1.p5.6.m6.1.1.2.2.2.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.2.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p5.6.m6.1.1.2.2.3.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.2.2.3">𝑖</ci></apply><ci id="S4.SS2.SSS1.p5.6.m6.1.1.2.3.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.2.3">𝑘</ci></apply><apply id="S4.SS2.SSS1.p5.6.m6.1.1.3.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.6.m6.1.1.3.1.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.3">superscript</csymbol><apply id="S4.SS2.SSS1.p5.6.m6.1.1.3.2.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p5.6.m6.1.1.3.2.1.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS1.p5.6.m6.1.1.3.2.2.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.3.2.2">𝐡</ci><ci id="S4.SS2.SSS1.p5.6.m6.1.1.3.2.3.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.3.2.3">𝑗</ci></apply><ci id="S4.SS2.SSS1.p5.6.m6.1.1.3.3.cmml" xref="S4.SS2.SSS1.p5.6.m6.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p5.6.m6.1c">\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p5.6.m6.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ⊙ bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> as discussed earlier) on a consumer’s price perception.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS1.p6">
<p class="ltx_p" id="S4.SS2.SSS1.p6.1">By integrating the models for both the interest- and price-inspired preferences into Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E6" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>), the reference-dependent utility <math alttext="r_{u,i}" class="ltx_Math" display="inline" id="S4.SS2.SSS1.p6.1.m1.2"><semantics id="S4.SS2.SSS1.p6.1.m1.2a"><msub id="S4.SS2.SSS1.p6.1.m1.2.3" xref="S4.SS2.SSS1.p6.1.m1.2.3.cmml"><mi id="S4.SS2.SSS1.p6.1.m1.2.3.2" xref="S4.SS2.SSS1.p6.1.m1.2.3.2.cmml">r</mi><mrow id="S4.SS2.SSS1.p6.1.m1.2.2.2.4" xref="S4.SS2.SSS1.p6.1.m1.2.2.2.3.cmml"><mi id="S4.SS2.SSS1.p6.1.m1.1.1.1.1" xref="S4.SS2.SSS1.p6.1.m1.1.1.1.1.cmml">u</mi><mo id="S4.SS2.SSS1.p6.1.m1.2.2.2.4.1" xref="S4.SS2.SSS1.p6.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.SS2.SSS1.p6.1.m1.2.2.2.2" xref="S4.SS2.SSS1.p6.1.m1.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS1.p6.1.m1.2b"><apply id="S4.SS2.SSS1.p6.1.m1.2.3.cmml" xref="S4.SS2.SSS1.p6.1.m1.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS1.p6.1.m1.2.3.1.cmml" xref="S4.SS2.SSS1.p6.1.m1.2.3">subscript</csymbol><ci id="S4.SS2.SSS1.p6.1.m1.2.3.2.cmml" xref="S4.SS2.SSS1.p6.1.m1.2.3.2">𝑟</ci><list id="S4.SS2.SSS1.p6.1.m1.2.2.2.3.cmml" xref="S4.SS2.SSS1.p6.1.m1.2.2.2.4"><ci id="S4.SS2.SSS1.p6.1.m1.1.1.1.1.cmml" xref="S4.SS2.SSS1.p6.1.m1.1.1.1.1">𝑢</ci><ci id="S4.SS2.SSS1.p6.1.m1.2.2.2.2.cmml" xref="S4.SS2.SSS1.p6.1.m1.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS1.p6.1.m1.2c">r_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS1.p6.1.m1.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math> can be further formulated as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="r_{u,i}=\sum_{j\in\mathcal{R}_{u}}\gamma_{i,j}\sum_{k\in\mathcal{K}}\left(%
\overbrace{\text{MLP}_{\alpha}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}%
\right)}^{\text{interest-inspired preference}}\right.\left.+\overbrace{\text{%
MLP}_{\beta}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}\right)\cdot\left(p%
_{j}-p_{i}\right)}^{\text{price-inspired preference}}\right)." class="ltx_Math" display="block" id="S4.E7.m1.8"><semantics id="S4.E7.m1.8a"><mrow id="S4.E7.m1.8.8.1" xref="S4.E7.m1.8.8.1.1.cmml"><mrow id="S4.E7.m1.8.8.1.1" xref="S4.E7.m1.8.8.1.1.cmml"><msub id="S4.E7.m1.8.8.1.1.3" xref="S4.E7.m1.8.8.1.1.3.cmml"><mi id="S4.E7.m1.8.8.1.1.3.2" xref="S4.E7.m1.8.8.1.1.3.2.cmml">r</mi><mrow id="S4.E7.m1.2.2.2.4" xref="S4.E7.m1.2.2.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml">u</mi><mo id="S4.E7.m1.2.2.2.4.1" xref="S4.E7.m1.2.2.2.3.cmml">,</mo><mi id="S4.E7.m1.2.2.2.2" xref="S4.E7.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S4.E7.m1.8.8.1.1.2" rspace="0.111em" xref="S4.E7.m1.8.8.1.1.2.cmml">=</mo><mrow id="S4.E7.m1.8.8.1.1.1" xref="S4.E7.m1.8.8.1.1.1.cmml"><munder id="S4.E7.m1.8.8.1.1.1.2" xref="S4.E7.m1.8.8.1.1.1.2.cmml"><mo id="S4.E7.m1.8.8.1.1.1.2.2" movablelimits="false" xref="S4.E7.m1.8.8.1.1.1.2.2.cmml">∑</mo><mrow id="S4.E7.m1.8.8.1.1.1.2.3" xref="S4.E7.m1.8.8.1.1.1.2.3.cmml"><mi id="S4.E7.m1.8.8.1.1.1.2.3.2" xref="S4.E7.m1.8.8.1.1.1.2.3.2.cmml">j</mi><mo id="S4.E7.m1.8.8.1.1.1.2.3.1" xref="S4.E7.m1.8.8.1.1.1.2.3.1.cmml">∈</mo><msub id="S4.E7.m1.8.8.1.1.1.2.3.3" xref="S4.E7.m1.8.8.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E7.m1.8.8.1.1.1.2.3.3.2" xref="S4.E7.m1.8.8.1.1.1.2.3.3.2.cmml">ℛ</mi><mi id="S4.E7.m1.8.8.1.1.1.2.3.3.3" xref="S4.E7.m1.8.8.1.1.1.2.3.3.3.cmml">u</mi></msub></mrow></munder><mrow id="S4.E7.m1.8.8.1.1.1.1" xref="S4.E7.m1.8.8.1.1.1.1.cmml"><msub id="S4.E7.m1.8.8.1.1.1.1.3" xref="S4.E7.m1.8.8.1.1.1.1.3.cmml"><mi id="S4.E7.m1.8.8.1.1.1.1.3.2" xref="S4.E7.m1.8.8.1.1.1.1.3.2.cmml">γ</mi><mrow id="S4.E7.m1.4.4.2.4" xref="S4.E7.m1.4.4.2.3.cmml"><mi id="S4.E7.m1.3.3.1.1" xref="S4.E7.m1.3.3.1.1.cmml">i</mi><mo id="S4.E7.m1.4.4.2.4.1" xref="S4.E7.m1.4.4.2.3.cmml">,</mo><mi id="S4.E7.m1.4.4.2.2" xref="S4.E7.m1.4.4.2.2.cmml">j</mi></mrow></msub><mo id="S4.E7.m1.8.8.1.1.1.1.2" xref="S4.E7.m1.8.8.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E7.m1.8.8.1.1.1.1.1" xref="S4.E7.m1.8.8.1.1.1.1.1.cmml"><munder id="S4.E7.m1.8.8.1.1.1.1.1.2" xref="S4.E7.m1.8.8.1.1.1.1.1.2.cmml"><mo id="S4.E7.m1.8.8.1.1.1.1.1.2.2" movablelimits="false" rspace="0em" xref="S4.E7.m1.8.8.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="S4.E7.m1.8.8.1.1.1.1.1.2.3" xref="S4.E7.m1.8.8.1.1.1.1.1.2.3.cmml"><mi id="S4.E7.m1.8.8.1.1.1.1.1.2.3.2" xref="S4.E7.m1.8.8.1.1.1.1.1.2.3.2.cmml">k</mi><mo id="S4.E7.m1.8.8.1.1.1.1.1.2.3.1" xref="S4.E7.m1.8.8.1.1.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E7.m1.8.8.1.1.1.1.1.2.3.3" xref="S4.E7.m1.8.8.1.1.1.1.1.2.3.3.cmml">𝒦</mi></mrow></munder><mrow id="S4.E7.m1.8.8.1.1.1.1.1.1.1" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E7.m1.8.8.1.1.1.1.1.1.1.2" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.cmml"><mover id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S4.E7.m1.5.5" xref="S4.E7.m1.5.5.cmml"><mrow id="S4.E7.m1.5.5.1" xref="S4.E7.m1.5.5.1.cmml"><msub id="S4.E7.m1.5.5.1.3" xref="S4.E7.m1.5.5.1.3.cmml"><mtext id="S4.E7.m1.5.5.1.3.2" xref="S4.E7.m1.5.5.1.3.2a.cmml">MLP</mtext><mi id="S4.E7.m1.5.5.1.3.3" xref="S4.E7.m1.5.5.1.3.3.cmml">α</mi></msub><mo id="S4.E7.m1.5.5.1.2" xref="S4.E7.m1.5.5.1.2.cmml">⁢</mo><mrow id="S4.E7.m1.5.5.1.1.1" xref="S4.E7.m1.5.5.1.1.1.1.cmml"><mo id="S4.E7.m1.5.5.1.1.1.2" xref="S4.E7.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S4.E7.m1.5.5.1.1.1.1" xref="S4.E7.m1.5.5.1.1.1.1.cmml"><msubsup id="S4.E7.m1.5.5.1.1.1.1.2" xref="S4.E7.m1.5.5.1.1.1.1.2.cmml"><mi id="S4.E7.m1.5.5.1.1.1.1.2.2.2" xref="S4.E7.m1.5.5.1.1.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.E7.m1.5.5.1.1.1.1.2.2.3" xref="S4.E7.m1.5.5.1.1.1.1.2.2.3.cmml">i</mi><mi id="S4.E7.m1.5.5.1.1.1.1.2.3" xref="S4.E7.m1.5.5.1.1.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.E7.m1.5.5.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.E7.m1.5.5.1.1.1.1.1.cmml">⊙</mo><msubsup id="S4.E7.m1.5.5.1.1.1.1.3" xref="S4.E7.m1.5.5.1.1.1.1.3.cmml"><mi id="S4.E7.m1.5.5.1.1.1.1.3.2.2" xref="S4.E7.m1.5.5.1.1.1.1.3.2.2.cmml">𝐡</mi><mi id="S4.E7.m1.5.5.1.1.1.1.3.2.3" xref="S4.E7.m1.5.5.1.1.1.1.3.2.3.cmml">j</mi><mi id="S4.E7.m1.5.5.1.1.1.1.3.3" xref="S4.E7.m1.5.5.1.1.1.1.3.3.cmml">k</mi></msubsup></mrow><mo id="S4.E7.m1.5.5.1.1.1.3" xref="S4.E7.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E7.m1.5.5.2" xref="S4.E7.m1.5.5.2.cmml">⏞</mo></mover><mtext id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.2" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.2a.cmml">interest-inspired preference</mtext></mover><mo id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.1.cmml">+</mo><mover id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.cmml"><mover accent="true" id="S4.E7.m1.7.7" xref="S4.E7.m1.7.7.cmml"><mrow id="S4.E7.m1.7.7.2" xref="S4.E7.m1.7.7.2.cmml"><mrow id="S4.E7.m1.6.6.1.1" xref="S4.E7.m1.6.6.1.1.cmml"><msub id="S4.E7.m1.6.6.1.1.3" xref="S4.E7.m1.6.6.1.1.3.cmml"><mtext id="S4.E7.m1.6.6.1.1.3.2" xref="S4.E7.m1.6.6.1.1.3.2a.cmml">MLP</mtext><mi id="S4.E7.m1.6.6.1.1.3.3" xref="S4.E7.m1.6.6.1.1.3.3.cmml">β</mi></msub><mo id="S4.E7.m1.6.6.1.1.2" xref="S4.E7.m1.6.6.1.1.2.cmml">⁢</mo><mrow id="S4.E7.m1.6.6.1.1.1.1" xref="S4.E7.m1.6.6.1.1.1.1.1.cmml"><mo id="S4.E7.m1.6.6.1.1.1.1.2" xref="S4.E7.m1.6.6.1.1.1.1.1.cmml">(</mo><mrow id="S4.E7.m1.6.6.1.1.1.1.1" xref="S4.E7.m1.6.6.1.1.1.1.1.cmml"><msubsup id="S4.E7.m1.6.6.1.1.1.1.1.2" xref="S4.E7.m1.6.6.1.1.1.1.1.2.cmml"><mi id="S4.E7.m1.6.6.1.1.1.1.1.2.2.2" xref="S4.E7.m1.6.6.1.1.1.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.E7.m1.6.6.1.1.1.1.1.2.2.3" xref="S4.E7.m1.6.6.1.1.1.1.1.2.2.3.cmml">i</mi><mi id="S4.E7.m1.6.6.1.1.1.1.1.2.3" xref="S4.E7.m1.6.6.1.1.1.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.E7.m1.6.6.1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.E7.m1.6.6.1.1.1.1.1.1.cmml">⊙</mo><msubsup id="S4.E7.m1.6.6.1.1.1.1.1.3" xref="S4.E7.m1.6.6.1.1.1.1.1.3.cmml"><mi id="S4.E7.m1.6.6.1.1.1.1.1.3.2.2" xref="S4.E7.m1.6.6.1.1.1.1.1.3.2.2.cmml">𝐡</mi><mi id="S4.E7.m1.6.6.1.1.1.1.1.3.2.3" xref="S4.E7.m1.6.6.1.1.1.1.1.3.2.3.cmml">j</mi><mi id="S4.E7.m1.6.6.1.1.1.1.1.3.3" xref="S4.E7.m1.6.6.1.1.1.1.1.3.3.cmml">k</mi></msubsup></mrow><mo id="S4.E7.m1.6.6.1.1.1.1.3" rspace="0.055em" xref="S4.E7.m1.6.6.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E7.m1.7.7.2.3" rspace="0.222em" xref="S4.E7.m1.7.7.2.3.cmml">⋅</mo><mrow id="S4.E7.m1.7.7.2.2.1" xref="S4.E7.m1.7.7.2.2.1.1.cmml"><mo id="S4.E7.m1.7.7.2.2.1.2" xref="S4.E7.m1.7.7.2.2.1.1.cmml">(</mo><mrow id="S4.E7.m1.7.7.2.2.1.1" xref="S4.E7.m1.7.7.2.2.1.1.cmml"><msub id="S4.E7.m1.7.7.2.2.1.1.2" xref="S4.E7.m1.7.7.2.2.1.1.2.cmml"><mi id="S4.E7.m1.7.7.2.2.1.1.2.2" xref="S4.E7.m1.7.7.2.2.1.1.2.2.cmml">p</mi><mi id="S4.E7.m1.7.7.2.2.1.1.2.3" xref="S4.E7.m1.7.7.2.2.1.1.2.3.cmml">j</mi></msub><mo id="S4.E7.m1.7.7.2.2.1.1.1" xref="S4.E7.m1.7.7.2.2.1.1.1.cmml">−</mo><msub id="S4.E7.m1.7.7.2.2.1.1.3" xref="S4.E7.m1.7.7.2.2.1.1.3.cmml"><mi id="S4.E7.m1.7.7.2.2.1.1.3.2" xref="S4.E7.m1.7.7.2.2.1.1.3.2.cmml">p</mi><mi id="S4.E7.m1.7.7.2.2.1.1.3.3" xref="S4.E7.m1.7.7.2.2.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.E7.m1.7.7.2.2.1.3" xref="S4.E7.m1.7.7.2.2.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E7.m1.7.7.3" xref="S4.E7.m1.7.7.3.cmml">⏞</mo></mover><mtext id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.2" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.2a.cmml">price-inspired preference</mtext></mover></mrow><mo id="S4.E7.m1.8.8.1.1.1.1.1.1.1.3" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S4.E7.m1.8.8.1.2" lspace="0em" xref="S4.E7.m1.8.8.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.8b"><apply id="S4.E7.m1.8.8.1.1.cmml" xref="S4.E7.m1.8.8.1"><eq id="S4.E7.m1.8.8.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.2"></eq><apply id="S4.E7.m1.8.8.1.1.3.cmml" xref="S4.E7.m1.8.8.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.3.1.cmml" xref="S4.E7.m1.8.8.1.1.3">subscript</csymbol><ci id="S4.E7.m1.8.8.1.1.3.2.cmml" xref="S4.E7.m1.8.8.1.1.3.2">𝑟</ci><list id="S4.E7.m1.2.2.2.3.cmml" xref="S4.E7.m1.2.2.2.4"><ci id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1">𝑢</ci><ci id="S4.E7.m1.2.2.2.2.cmml" xref="S4.E7.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S4.E7.m1.8.8.1.1.1.cmml" xref="S4.E7.m1.8.8.1.1.1"><apply id="S4.E7.m1.8.8.1.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.2.1.cmml" xref="S4.E7.m1.8.8.1.1.1.2">subscript</csymbol><sum id="S4.E7.m1.8.8.1.1.1.2.2.cmml" xref="S4.E7.m1.8.8.1.1.1.2.2"></sum><apply id="S4.E7.m1.8.8.1.1.1.2.3.cmml" xref="S4.E7.m1.8.8.1.1.1.2.3"><in id="S4.E7.m1.8.8.1.1.1.2.3.1.cmml" xref="S4.E7.m1.8.8.1.1.1.2.3.1"></in><ci id="S4.E7.m1.8.8.1.1.1.2.3.2.cmml" xref="S4.E7.m1.8.8.1.1.1.2.3.2">𝑗</ci><apply id="S4.E7.m1.8.8.1.1.1.2.3.3.cmml" xref="S4.E7.m1.8.8.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.2.3.3.1.cmml" xref="S4.E7.m1.8.8.1.1.1.2.3.3">subscript</csymbol><ci id="S4.E7.m1.8.8.1.1.1.2.3.3.2.cmml" xref="S4.E7.m1.8.8.1.1.1.2.3.3.2">ℛ</ci><ci id="S4.E7.m1.8.8.1.1.1.2.3.3.3.cmml" xref="S4.E7.m1.8.8.1.1.1.2.3.3.3">𝑢</ci></apply></apply></apply><apply id="S4.E7.m1.8.8.1.1.1.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1"><times id="S4.E7.m1.8.8.1.1.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.1.1.2"></times><apply id="S4.E7.m1.8.8.1.1.1.1.3.cmml" xref="S4.E7.m1.8.8.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.1.3.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.8.8.1.1.1.1.3.2.cmml" xref="S4.E7.m1.8.8.1.1.1.1.3.2">𝛾</ci><list id="S4.E7.m1.4.4.2.3.cmml" xref="S4.E7.m1.4.4.2.4"><ci id="S4.E7.m1.3.3.1.1.cmml" xref="S4.E7.m1.3.3.1.1">𝑖</ci><ci id="S4.E7.m1.4.4.2.2.cmml" xref="S4.E7.m1.4.4.2.2">𝑗</ci></list></apply><apply id="S4.E7.m1.8.8.1.1.1.1.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1"><apply id="S4.E7.m1.8.8.1.1.1.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.1.1.2.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.2">subscript</csymbol><sum id="S4.E7.m1.8.8.1.1.1.1.1.2.2.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.2.2"></sum><apply id="S4.E7.m1.8.8.1.1.1.1.1.2.3.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.2.3"><in id="S4.E7.m1.8.8.1.1.1.1.1.2.3.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.2.3.1"></in><ci id="S4.E7.m1.8.8.1.1.1.1.1.2.3.2.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.2.3.2">𝑘</ci><ci id="S4.E7.m1.8.8.1.1.1.1.1.2.3.3.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.2.3.3">𝒦</ci></apply></apply><apply id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1"><plus id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.1"></plus><apply id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S4.E7.m1.5.5.cmml" xref="S4.E7.m1.5.5"><ci id="S4.E7.m1.5.5.2.cmml" xref="S4.E7.m1.5.5.2">⏞</ci><apply id="S4.E7.m1.5.5.1.cmml" xref="S4.E7.m1.5.5.1"><times id="S4.E7.m1.5.5.1.2.cmml" xref="S4.E7.m1.5.5.1.2"></times><apply id="S4.E7.m1.5.5.1.3.cmml" xref="S4.E7.m1.5.5.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.5.5.1.3.1.cmml" xref="S4.E7.m1.5.5.1.3">subscript</csymbol><ci id="S4.E7.m1.5.5.1.3.2a.cmml" xref="S4.E7.m1.5.5.1.3.2"><mtext id="S4.E7.m1.5.5.1.3.2.cmml" xref="S4.E7.m1.5.5.1.3.2">MLP</mtext></ci><ci id="S4.E7.m1.5.5.1.3.3.cmml" xref="S4.E7.m1.5.5.1.3.3">𝛼</ci></apply><apply id="S4.E7.m1.5.5.1.1.1.1.cmml" xref="S4.E7.m1.5.5.1.1.1"><csymbol cd="latexml" id="S4.E7.m1.5.5.1.1.1.1.1.cmml" xref="S4.E7.m1.5.5.1.1.1.1.1">direct-product</csymbol><apply id="S4.E7.m1.5.5.1.1.1.1.2.cmml" xref="S4.E7.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.5.5.1.1.1.1.2.1.cmml" xref="S4.E7.m1.5.5.1.1.1.1.2">superscript</csymbol><apply id="S4.E7.m1.5.5.1.1.1.1.2.2.cmml" xref="S4.E7.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.5.5.1.1.1.1.2.2.1.cmml" xref="S4.E7.m1.5.5.1.1.1.1.2">subscript</csymbol><ci id="S4.E7.m1.5.5.1.1.1.1.2.2.2.cmml" xref="S4.E7.m1.5.5.1.1.1.1.2.2.2">𝐡</ci><ci id="S4.E7.m1.5.5.1.1.1.1.2.2.3.cmml" xref="S4.E7.m1.5.5.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.E7.m1.5.5.1.1.1.1.2.3.cmml" xref="S4.E7.m1.5.5.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.E7.m1.5.5.1.1.1.1.3.cmml" xref="S4.E7.m1.5.5.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.5.5.1.1.1.1.3.1.cmml" xref="S4.E7.m1.5.5.1.1.1.1.3">superscript</csymbol><apply id="S4.E7.m1.5.5.1.1.1.1.3.2.cmml" xref="S4.E7.m1.5.5.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.5.5.1.1.1.1.3.2.1.cmml" xref="S4.E7.m1.5.5.1.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.5.5.1.1.1.1.3.2.2.cmml" xref="S4.E7.m1.5.5.1.1.1.1.3.2.2">𝐡</ci><ci id="S4.E7.m1.5.5.1.1.1.1.3.2.3.cmml" xref="S4.E7.m1.5.5.1.1.1.1.3.2.3">𝑗</ci></apply><ci id="S4.E7.m1.5.5.1.1.1.1.3.3.cmml" xref="S4.E7.m1.5.5.1.1.1.1.3.3">𝑘</ci></apply></apply></apply></apply><ci id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.2a.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.2"><mtext id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.2.cmml" mathsize="70%" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.2.2">interest-inspired preference</mtext></ci></apply><apply id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S4.E7.m1.7.7.cmml" xref="S4.E7.m1.7.7"><ci id="S4.E7.m1.7.7.3.cmml" xref="S4.E7.m1.7.7.3">⏞</ci><apply id="S4.E7.m1.7.7.2.cmml" xref="S4.E7.m1.7.7.2"><ci id="S4.E7.m1.7.7.2.3.cmml" xref="S4.E7.m1.7.7.2.3">⋅</ci><apply id="S4.E7.m1.6.6.1.1.cmml" xref="S4.E7.m1.6.6.1.1"><times id="S4.E7.m1.6.6.1.1.2.cmml" xref="S4.E7.m1.6.6.1.1.2"></times><apply id="S4.E7.m1.6.6.1.1.3.cmml" xref="S4.E7.m1.6.6.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.1.1.3.1.cmml" xref="S4.E7.m1.6.6.1.1.3">subscript</csymbol><ci id="S4.E7.m1.6.6.1.1.3.2a.cmml" xref="S4.E7.m1.6.6.1.1.3.2"><mtext id="S4.E7.m1.6.6.1.1.3.2.cmml" xref="S4.E7.m1.6.6.1.1.3.2">MLP</mtext></ci><ci id="S4.E7.m1.6.6.1.1.3.3.cmml" xref="S4.E7.m1.6.6.1.1.3.3">𝛽</ci></apply><apply id="S4.E7.m1.6.6.1.1.1.1.1.cmml" xref="S4.E7.m1.6.6.1.1.1.1"><csymbol cd="latexml" id="S4.E7.m1.6.6.1.1.1.1.1.1.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.1">direct-product</csymbol><apply id="S4.E7.m1.6.6.1.1.1.1.1.2.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.1.1.1.1.1.2.1.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.2">superscript</csymbol><apply id="S4.E7.m1.6.6.1.1.1.1.1.2.2.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.1.1.1.1.1.2.2.1.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E7.m1.6.6.1.1.1.1.1.2.2.2.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.2.2.2">𝐡</ci><ci id="S4.E7.m1.6.6.1.1.1.1.1.2.2.3.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.E7.m1.6.6.1.1.1.1.1.2.3.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.E7.m1.6.6.1.1.1.1.1.3.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.3">superscript</csymbol><apply id="S4.E7.m1.6.6.1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.1.1.1.1.1.3.2.1.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.6.6.1.1.1.1.1.3.2.2.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.3.2.2">𝐡</ci><ci id="S4.E7.m1.6.6.1.1.1.1.1.3.2.3.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.3.2.3">𝑗</ci></apply><ci id="S4.E7.m1.6.6.1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.6.6.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply><apply id="S4.E7.m1.7.7.2.2.1.1.cmml" xref="S4.E7.m1.7.7.2.2.1"><minus id="S4.E7.m1.7.7.2.2.1.1.1.cmml" xref="S4.E7.m1.7.7.2.2.1.1.1"></minus><apply id="S4.E7.m1.7.7.2.2.1.1.2.cmml" xref="S4.E7.m1.7.7.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.7.7.2.2.1.1.2.1.cmml" xref="S4.E7.m1.7.7.2.2.1.1.2">subscript</csymbol><ci id="S4.E7.m1.7.7.2.2.1.1.2.2.cmml" xref="S4.E7.m1.7.7.2.2.1.1.2.2">𝑝</ci><ci id="S4.E7.m1.7.7.2.2.1.1.2.3.cmml" xref="S4.E7.m1.7.7.2.2.1.1.2.3">𝑗</ci></apply><apply id="S4.E7.m1.7.7.2.2.1.1.3.cmml" xref="S4.E7.m1.7.7.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.7.7.2.2.1.1.3.1.cmml" xref="S4.E7.m1.7.7.2.2.1.1.3">subscript</csymbol><ci id="S4.E7.m1.7.7.2.2.1.1.3.2.cmml" xref="S4.E7.m1.7.7.2.2.1.1.3.2">𝑝</ci><ci id="S4.E7.m1.7.7.2.2.1.1.3.3.cmml" xref="S4.E7.m1.7.7.2.2.1.1.3.3">𝑖</ci></apply></apply></apply></apply><ci id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.2a.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.2"><mtext id="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="S4.E7.m1.8.8.1.1.1.1.1.1.1.1.3.2">price-inspired preference</mtext></ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.8c">r_{u,i}=\sum_{j\in\mathcal{R}_{u}}\gamma_{i,j}\sum_{k\in\mathcal{K}}\left(%
\overbrace{\text{MLP}_{\alpha}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}%
\right)}^{\text{interest-inspired preference}}\right.\left.+\overbrace{\text{%
MLP}_{\beta}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}\right)\cdot\left(p%
_{j}-p_{i}\right)}^{\text{price-inspired preference}}\right).</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.8d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_γ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_k ∈ caligraphic_K end_POSTSUBSCRIPT ( over⏞ start_ARG MLP start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ⊙ bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ) end_ARG start_POSTSUPERSCRIPT interest-inspired preference end_POSTSUPERSCRIPT + over⏞ start_ARG MLP start_POSTSUBSCRIPT italic_β end_POSTSUBSCRIPT ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ⊙ bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ) ⋅ ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_POSTSUPERSCRIPT price-inspired preference end_POSTSUPERSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2 </span>Reference-dependent Utility with Attribute Salience.</h4>
<div class="ltx_para" id="S4.SS2.SSS2.p1">
<p class="ltx_p" id="S4.SS2.SSS2.p1.1">Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E7" title="In 4.2.1 Reference-dependent Utility with Dual Preferences. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">7</span></a>) implies all attributes are of equal importance in the evaluation of the target product, a condition that may not hold in real-world scenarios. For example, for our case in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S3.F1" title="Figure 1 ‣ 3 Research Motivation and Problem Formulation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>, user A may be a Sci-Fi fan and thus is critical of the movie genre but indifferent to movie directors or actors. Indeed, the Multiple Attribute Utility Theory <cite class="ltx_cite ltx_citemacro_citep">(Keeney and Raiffa, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib41" title="">1993</a>)</cite> and the traditional conjoint analysis approach <cite class="ltx_cite ltx_citemacro_citep">(Jedidi and Zhang, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib35" title="">2002</a>)</cite> have highlighted the importance of considering possible trade-offs among product attributes in modeling consumers’ choices. Motivated by these, we here extend this argument by positing that consumers’ trade-offs among product attributes do exist and are personalized.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p2">
<p class="ltx_p" id="S4.SS2.SSS2.p2.1">In the literature, while various recommendation methods have treated product attributes as side information to enrich product or consumer representations <cite class="ltx_cite ltx_citemacro_citep">(Rendle, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib68" title="">2010</a>, Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib96" title="">2016</a>, Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib81" title="">2018</a>)</cite>, few efforts have been devoted to modeling the personalized salience of product attributes. However, it is intuitive that the personalized choice of product attributes could be discovered from consumers’ purchase records with both the interest and price considerations. For instance, fans of certain pop stars tend to prioritize the singer aspect and may rush to buy a newly released album from these stars despite a significant price premium. This implies that we can model a consumer’s attribute choice by observing her attribute-level product purchases with price variations. With these motivations, we propose a novel measurement called <em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS2.p2.1.1">Attribute-level Willingness To Pay</em> (AWTP) to capture the personalized salience of product attributes.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p3">
<p class="ltx_p" id="S4.SS2.SSS2.p3.4">We consider the extent to which the product price will affect a consumer’s demand for a particular product attribute as the measurement of the attribute importance. Specifically, given a consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p3.1.m1.1"><semantics id="S4.SS2.SSS2.p3.1.m1.1a"><mi id="S4.SS2.SSS2.p3.1.m1.1.1" xref="S4.SS2.SSS2.p3.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p3.1.m1.1b"><ci id="S4.SS2.SSS2.p3.1.m1.1.1.cmml" xref="S4.SS2.SSS2.p3.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p3.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p3.1.m1.1d">italic_u</annotation></semantics></math>, for each attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p3.2.m2.1"><semantics id="S4.SS2.SSS2.p3.2.m2.1a"><mi id="S4.SS2.SSS2.p3.2.m2.1.1" xref="S4.SS2.SSS2.p3.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p3.2.m2.1b"><ci id="S4.SS2.SSS2.p3.2.m2.1.1.cmml" xref="S4.SS2.SSS2.p3.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p3.2.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p3.2.m2.1d">italic_k</annotation></semantics></math>, we assume that the consumer has a base demand of attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p3.3.m3.1"><semantics id="S4.SS2.SSS2.p3.3.m3.1a"><mi id="S4.SS2.SSS2.p3.3.m3.1.1" xref="S4.SS2.SSS2.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p3.3.m3.1b"><ci id="S4.SS2.SSS2.p3.3.m3.1.1.cmml" xref="S4.SS2.SSS2.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p3.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p3.3.m3.1d">italic_k</annotation></semantics></math> to fulfill her routine requirements, along with the corresponding price perception. The demand deviation can be defined as the deviation of a purchased product from the base demand on attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p3.4.m4.1"><semantics id="S4.SS2.SSS2.p3.4.m4.1a"><mi id="S4.SS2.SSS2.p3.4.m4.1.1" xref="S4.SS2.SSS2.p3.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p3.4.m4.1b"><ci id="S4.SS2.SSS2.p3.4.m4.1.1.cmml" xref="S4.SS2.SSS2.p3.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p3.4.m4.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p3.4.m4.1d">italic_k</annotation></semantics></math>, and the price change can be defined analogously as the price deviation of a purchased product from the base price. In our approach, we implement the base as a center point with the average attribute level as well as the average price of the products previously purchased. Formally, the center point is defined as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\overline{\mathbf{h}_{u}^{k}}=\frac{\sum_{i\in\mathcal{R}_{u}}\mathbf{h}_{i}^{%
k}}{\left|\mathcal{R}_{u}\right|},\quad\overline{p_{u}}=\frac{\sum_{i\in%
\mathcal{R}_{u}}p_{i}}{\left|\mathcal{R}_{u}\right|}." class="ltx_Math" display="block" id="S4.E8.m1.3"><semantics id="S4.E8.m1.3a"><mrow id="S4.E8.m1.3.3.1"><mrow id="S4.E8.m1.3.3.1.1.2" xref="S4.E8.m1.3.3.1.1.3.cmml"><mrow id="S4.E8.m1.3.3.1.1.1.1" xref="S4.E8.m1.3.3.1.1.1.1.cmml"><mover accent="true" id="S4.E8.m1.3.3.1.1.1.1.2" xref="S4.E8.m1.3.3.1.1.1.1.2.cmml"><msubsup id="S4.E8.m1.3.3.1.1.1.1.2.2" xref="S4.E8.m1.3.3.1.1.1.1.2.2.cmml"><mi id="S4.E8.m1.3.3.1.1.1.1.2.2.2.2" xref="S4.E8.m1.3.3.1.1.1.1.2.2.2.2.cmml">𝐡</mi><mi id="S4.E8.m1.3.3.1.1.1.1.2.2.2.3" xref="S4.E8.m1.3.3.1.1.1.1.2.2.2.3.cmml">u</mi><mi id="S4.E8.m1.3.3.1.1.1.1.2.2.3" xref="S4.E8.m1.3.3.1.1.1.1.2.2.3.cmml">k</mi></msubsup><mo id="S4.E8.m1.3.3.1.1.1.1.2.1" xref="S4.E8.m1.3.3.1.1.1.1.2.1.cmml">¯</mo></mover><mo id="S4.E8.m1.3.3.1.1.1.1.1" xref="S4.E8.m1.3.3.1.1.1.1.1.cmml">=</mo><mfrac id="S4.E8.m1.1.1" xref="S4.E8.m1.1.1.cmml"><mrow id="S4.E8.m1.1.1.3" xref="S4.E8.m1.1.1.3.cmml"><msub id="S4.E8.m1.1.1.3.1" xref="S4.E8.m1.1.1.3.1.cmml"><mo id="S4.E8.m1.1.1.3.1.2" xref="S4.E8.m1.1.1.3.1.2.cmml">∑</mo><mrow id="S4.E8.m1.1.1.3.1.3" xref="S4.E8.m1.1.1.3.1.3.cmml"><mi id="S4.E8.m1.1.1.3.1.3.2" xref="S4.E8.m1.1.1.3.1.3.2.cmml">i</mi><mo id="S4.E8.m1.1.1.3.1.3.1" xref="S4.E8.m1.1.1.3.1.3.1.cmml">∈</mo><msub id="S4.E8.m1.1.1.3.1.3.3" xref="S4.E8.m1.1.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E8.m1.1.1.3.1.3.3.2" xref="S4.E8.m1.1.1.3.1.3.3.2.cmml">ℛ</mi><mi id="S4.E8.m1.1.1.3.1.3.3.3" xref="S4.E8.m1.1.1.3.1.3.3.3.cmml">u</mi></msub></mrow></msub><msubsup id="S4.E8.m1.1.1.3.2" xref="S4.E8.m1.1.1.3.2.cmml"><mi id="S4.E8.m1.1.1.3.2.2.2" xref="S4.E8.m1.1.1.3.2.2.2.cmml">𝐡</mi><mi id="S4.E8.m1.1.1.3.2.2.3" xref="S4.E8.m1.1.1.3.2.2.3.cmml">i</mi><mi id="S4.E8.m1.1.1.3.2.3" xref="S4.E8.m1.1.1.3.2.3.cmml">k</mi></msubsup></mrow><mrow id="S4.E8.m1.1.1.1.1" xref="S4.E8.m1.1.1.1.2.cmml"><mo id="S4.E8.m1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.2.1.cmml">|</mo><msub id="S4.E8.m1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E8.m1.1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.1.2.cmml">ℛ</mi><mi id="S4.E8.m1.1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.1.3.cmml">u</mi></msub><mo id="S4.E8.m1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mrow><mo id="S4.E8.m1.3.3.1.1.2.3" rspace="1.167em" xref="S4.E8.m1.3.3.1.1.3a.cmml">,</mo><mrow id="S4.E8.m1.3.3.1.1.2.2" xref="S4.E8.m1.3.3.1.1.2.2.cmml"><mover accent="true" id="S4.E8.m1.3.3.1.1.2.2.2" xref="S4.E8.m1.3.3.1.1.2.2.2.cmml"><msub id="S4.E8.m1.3.3.1.1.2.2.2.2" xref="S4.E8.m1.3.3.1.1.2.2.2.2.cmml"><mi id="S4.E8.m1.3.3.1.1.2.2.2.2.2" xref="S4.E8.m1.3.3.1.1.2.2.2.2.2.cmml">p</mi><mi id="S4.E8.m1.3.3.1.1.2.2.2.2.3" xref="S4.E8.m1.3.3.1.1.2.2.2.2.3.cmml">u</mi></msub><mo id="S4.E8.m1.3.3.1.1.2.2.2.1" xref="S4.E8.m1.3.3.1.1.2.2.2.1.cmml">¯</mo></mover><mo id="S4.E8.m1.3.3.1.1.2.2.1" xref="S4.E8.m1.3.3.1.1.2.2.1.cmml">=</mo><mfrac id="S4.E8.m1.2.2" xref="S4.E8.m1.2.2.cmml"><mrow id="S4.E8.m1.2.2.3" xref="S4.E8.m1.2.2.3.cmml"><msub id="S4.E8.m1.2.2.3.1" xref="S4.E8.m1.2.2.3.1.cmml"><mo id="S4.E8.m1.2.2.3.1.2" xref="S4.E8.m1.2.2.3.1.2.cmml">∑</mo><mrow id="S4.E8.m1.2.2.3.1.3" xref="S4.E8.m1.2.2.3.1.3.cmml"><mi id="S4.E8.m1.2.2.3.1.3.2" xref="S4.E8.m1.2.2.3.1.3.2.cmml">i</mi><mo id="S4.E8.m1.2.2.3.1.3.1" xref="S4.E8.m1.2.2.3.1.3.1.cmml">∈</mo><msub id="S4.E8.m1.2.2.3.1.3.3" xref="S4.E8.m1.2.2.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E8.m1.2.2.3.1.3.3.2" xref="S4.E8.m1.2.2.3.1.3.3.2.cmml">ℛ</mi><mi id="S4.E8.m1.2.2.3.1.3.3.3" xref="S4.E8.m1.2.2.3.1.3.3.3.cmml">u</mi></msub></mrow></msub><msub id="S4.E8.m1.2.2.3.2" xref="S4.E8.m1.2.2.3.2.cmml"><mi id="S4.E8.m1.2.2.3.2.2" xref="S4.E8.m1.2.2.3.2.2.cmml">p</mi><mi id="S4.E8.m1.2.2.3.2.3" xref="S4.E8.m1.2.2.3.2.3.cmml">i</mi></msub></mrow><mrow id="S4.E8.m1.2.2.1.1" xref="S4.E8.m1.2.2.1.2.cmml"><mo id="S4.E8.m1.2.2.1.1.2" xref="S4.E8.m1.2.2.1.2.1.cmml">|</mo><msub id="S4.E8.m1.2.2.1.1.1" xref="S4.E8.m1.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E8.m1.2.2.1.1.1.2" xref="S4.E8.m1.2.2.1.1.1.2.cmml">ℛ</mi><mi id="S4.E8.m1.2.2.1.1.1.3" xref="S4.E8.m1.2.2.1.1.1.3.cmml">u</mi></msub><mo id="S4.E8.m1.2.2.1.1.3" xref="S4.E8.m1.2.2.1.2.1.cmml">|</mo></mrow></mfrac></mrow></mrow><mo id="S4.E8.m1.3.3.1.2" lspace="0em">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E8.m1.3b"><apply id="S4.E8.m1.3.3.1.1.3.cmml" xref="S4.E8.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.3a.cmml" xref="S4.E8.m1.3.3.1.1.2.3">formulae-sequence</csymbol><apply id="S4.E8.m1.3.3.1.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1"><eq id="S4.E8.m1.3.3.1.1.1.1.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.1"></eq><apply id="S4.E8.m1.3.3.1.1.1.1.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2"><ci id="S4.E8.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2.1">¯</ci><apply id="S4.E8.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.1.1.2.2.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2.2">superscript</csymbol><apply id="S4.E8.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.1.1.2.2.2.1.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2.2">subscript</csymbol><ci id="S4.E8.m1.3.3.1.1.1.1.2.2.2.2.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2.2.2.2">𝐡</ci><ci id="S4.E8.m1.3.3.1.1.1.1.2.2.2.3.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2.2.2.3">𝑢</ci></apply><ci id="S4.E8.m1.3.3.1.1.1.1.2.2.3.cmml" xref="S4.E8.m1.3.3.1.1.1.1.2.2.3">𝑘</ci></apply></apply><apply id="S4.E8.m1.1.1.cmml" xref="S4.E8.m1.1.1"><divide id="S4.E8.m1.1.1.2.cmml" xref="S4.E8.m1.1.1"></divide><apply id="S4.E8.m1.1.1.3.cmml" xref="S4.E8.m1.1.1.3"><apply id="S4.E8.m1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.3.1"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.3.1.1.cmml" xref="S4.E8.m1.1.1.3.1">subscript</csymbol><sum id="S4.E8.m1.1.1.3.1.2.cmml" xref="S4.E8.m1.1.1.3.1.2"></sum><apply id="S4.E8.m1.1.1.3.1.3.cmml" xref="S4.E8.m1.1.1.3.1.3"><in id="S4.E8.m1.1.1.3.1.3.1.cmml" xref="S4.E8.m1.1.1.3.1.3.1"></in><ci id="S4.E8.m1.1.1.3.1.3.2.cmml" xref="S4.E8.m1.1.1.3.1.3.2">𝑖</ci><apply id="S4.E8.m1.1.1.3.1.3.3.cmml" xref="S4.E8.m1.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.3.1.3.3.1.cmml" xref="S4.E8.m1.1.1.3.1.3.3">subscript</csymbol><ci id="S4.E8.m1.1.1.3.1.3.3.2.cmml" xref="S4.E8.m1.1.1.3.1.3.3.2">ℛ</ci><ci id="S4.E8.m1.1.1.3.1.3.3.3.cmml" xref="S4.E8.m1.1.1.3.1.3.3.3">𝑢</ci></apply></apply></apply><apply id="S4.E8.m1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.3.2.1.cmml" xref="S4.E8.m1.1.1.3.2">superscript</csymbol><apply id="S4.E8.m1.1.1.3.2.2.cmml" xref="S4.E8.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.3.2.2.1.cmml" xref="S4.E8.m1.1.1.3.2">subscript</csymbol><ci id="S4.E8.m1.1.1.3.2.2.2.cmml" xref="S4.E8.m1.1.1.3.2.2.2">𝐡</ci><ci id="S4.E8.m1.1.1.3.2.2.3.cmml" xref="S4.E8.m1.1.1.3.2.2.3">𝑖</ci></apply><ci id="S4.E8.m1.1.1.3.2.3.cmml" xref="S4.E8.m1.1.1.3.2.3">𝑘</ci></apply></apply><apply id="S4.E8.m1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1"><abs id="S4.E8.m1.1.1.1.2.1.cmml" xref="S4.E8.m1.1.1.1.1.2"></abs><apply id="S4.E8.m1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.1.2">ℛ</ci><ci id="S4.E8.m1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.1.1.3">𝑢</ci></apply></apply></apply></apply><apply id="S4.E8.m1.3.3.1.1.2.2.cmml" xref="S4.E8.m1.3.3.1.1.2.2"><eq id="S4.E8.m1.3.3.1.1.2.2.1.cmml" xref="S4.E8.m1.3.3.1.1.2.2.1"></eq><apply id="S4.E8.m1.3.3.1.1.2.2.2.cmml" xref="S4.E8.m1.3.3.1.1.2.2.2"><ci id="S4.E8.m1.3.3.1.1.2.2.2.1.cmml" xref="S4.E8.m1.3.3.1.1.2.2.2.1">¯</ci><apply id="S4.E8.m1.3.3.1.1.2.2.2.2.cmml" xref="S4.E8.m1.3.3.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.1.1.2.2.2.2.1.cmml" xref="S4.E8.m1.3.3.1.1.2.2.2.2">subscript</csymbol><ci id="S4.E8.m1.3.3.1.1.2.2.2.2.2.cmml" xref="S4.E8.m1.3.3.1.1.2.2.2.2.2">𝑝</ci><ci id="S4.E8.m1.3.3.1.1.2.2.2.2.3.cmml" xref="S4.E8.m1.3.3.1.1.2.2.2.2.3">𝑢</ci></apply></apply><apply id="S4.E8.m1.2.2.cmml" xref="S4.E8.m1.2.2"><divide id="S4.E8.m1.2.2.2.cmml" xref="S4.E8.m1.2.2"></divide><apply id="S4.E8.m1.2.2.3.cmml" xref="S4.E8.m1.2.2.3"><apply id="S4.E8.m1.2.2.3.1.cmml" xref="S4.E8.m1.2.2.3.1"><csymbol cd="ambiguous" id="S4.E8.m1.2.2.3.1.1.cmml" xref="S4.E8.m1.2.2.3.1">subscript</csymbol><sum id="S4.E8.m1.2.2.3.1.2.cmml" xref="S4.E8.m1.2.2.3.1.2"></sum><apply id="S4.E8.m1.2.2.3.1.3.cmml" xref="S4.E8.m1.2.2.3.1.3"><in id="S4.E8.m1.2.2.3.1.3.1.cmml" xref="S4.E8.m1.2.2.3.1.3.1"></in><ci id="S4.E8.m1.2.2.3.1.3.2.cmml" xref="S4.E8.m1.2.2.3.1.3.2">𝑖</ci><apply id="S4.E8.m1.2.2.3.1.3.3.cmml" xref="S4.E8.m1.2.2.3.1.3.3"><csymbol cd="ambiguous" id="S4.E8.m1.2.2.3.1.3.3.1.cmml" xref="S4.E8.m1.2.2.3.1.3.3">subscript</csymbol><ci id="S4.E8.m1.2.2.3.1.3.3.2.cmml" xref="S4.E8.m1.2.2.3.1.3.3.2">ℛ</ci><ci id="S4.E8.m1.2.2.3.1.3.3.3.cmml" xref="S4.E8.m1.2.2.3.1.3.3.3">𝑢</ci></apply></apply></apply><apply id="S4.E8.m1.2.2.3.2.cmml" xref="S4.E8.m1.2.2.3.2"><csymbol cd="ambiguous" id="S4.E8.m1.2.2.3.2.1.cmml" xref="S4.E8.m1.2.2.3.2">subscript</csymbol><ci id="S4.E8.m1.2.2.3.2.2.cmml" xref="S4.E8.m1.2.2.3.2.2">𝑝</ci><ci id="S4.E8.m1.2.2.3.2.3.cmml" xref="S4.E8.m1.2.2.3.2.3">𝑖</ci></apply></apply><apply id="S4.E8.m1.2.2.1.2.cmml" xref="S4.E8.m1.2.2.1.1"><abs id="S4.E8.m1.2.2.1.2.1.cmml" xref="S4.E8.m1.2.2.1.1.2"></abs><apply id="S4.E8.m1.2.2.1.1.1.cmml" xref="S4.E8.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.2.2.1.1.1.1.cmml" xref="S4.E8.m1.2.2.1.1.1">subscript</csymbol><ci id="S4.E8.m1.2.2.1.1.1.2.cmml" xref="S4.E8.m1.2.2.1.1.1.2">ℛ</ci><ci id="S4.E8.m1.2.2.1.1.1.3.cmml" xref="S4.E8.m1.2.2.1.1.1.3">𝑢</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E8.m1.3c">\overline{\mathbf{h}_{u}^{k}}=\frac{\sum_{i\in\mathcal{R}_{u}}\mathbf{h}_{i}^{%
k}}{\left|\mathcal{R}_{u}\right|},\quad\overline{p_{u}}=\frac{\sum_{i\in%
\mathcal{R}_{u}}p_{i}}{\left|\mathcal{R}_{u}\right|}.</annotation><annotation encoding="application/x-llamapun" id="S4.E8.m1.3d">over¯ start_ARG bold_h start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT end_ARG = divide start_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT end_ARG start_ARG | caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT | end_ARG , over¯ start_ARG italic_p start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_ARG = divide start_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_ARG start_ARG | caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT | end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p4">
<p class="ltx_p" id="S4.SS2.SSS2.p4.7">Then, we define the attribute demand deviation. Concretely, for each attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.1.m1.1"><semantics id="S4.SS2.SSS2.p4.1.m1.1a"><mi id="S4.SS2.SSS2.p4.1.m1.1.1" xref="S4.SS2.SSS2.p4.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.1.m1.1b"><ci id="S4.SS2.SSS2.p4.1.m1.1.1.cmml" xref="S4.SS2.SSS2.p4.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.1.m1.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.1.m1.1d">italic_k</annotation></semantics></math>, we define the demand deviation as the deviation of each purchased product <math alttext="i\in\mathcal{R}_{u}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.2.m2.1"><semantics id="S4.SS2.SSS2.p4.2.m2.1a"><mrow id="S4.SS2.SSS2.p4.2.m2.1.1" xref="S4.SS2.SSS2.p4.2.m2.1.1.cmml"><mi id="S4.SS2.SSS2.p4.2.m2.1.1.2" xref="S4.SS2.SSS2.p4.2.m2.1.1.2.cmml">i</mi><mo id="S4.SS2.SSS2.p4.2.m2.1.1.1" xref="S4.SS2.SSS2.p4.2.m2.1.1.1.cmml">∈</mo><msub id="S4.SS2.SSS2.p4.2.m2.1.1.3" xref="S4.SS2.SSS2.p4.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.SSS2.p4.2.m2.1.1.3.2" xref="S4.SS2.SSS2.p4.2.m2.1.1.3.2.cmml">ℛ</mi><mi id="S4.SS2.SSS2.p4.2.m2.1.1.3.3" xref="S4.SS2.SSS2.p4.2.m2.1.1.3.3.cmml">u</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.2.m2.1b"><apply id="S4.SS2.SSS2.p4.2.m2.1.1.cmml" xref="S4.SS2.SSS2.p4.2.m2.1.1"><in id="S4.SS2.SSS2.p4.2.m2.1.1.1.cmml" xref="S4.SS2.SSS2.p4.2.m2.1.1.1"></in><ci id="S4.SS2.SSS2.p4.2.m2.1.1.2.cmml" xref="S4.SS2.SSS2.p4.2.m2.1.1.2">𝑖</ci><apply id="S4.SS2.SSS2.p4.2.m2.1.1.3.cmml" xref="S4.SS2.SSS2.p4.2.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p4.2.m2.1.1.3.1.cmml" xref="S4.SS2.SSS2.p4.2.m2.1.1.3">subscript</csymbol><ci id="S4.SS2.SSS2.p4.2.m2.1.1.3.2.cmml" xref="S4.SS2.SSS2.p4.2.m2.1.1.3.2">ℛ</ci><ci id="S4.SS2.SSS2.p4.2.m2.1.1.3.3.cmml" xref="S4.SS2.SSS2.p4.2.m2.1.1.3.3">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.2.m2.1c">i\in\mathcal{R}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.2.m2.1d">italic_i ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> from the center point in the representation space, leveraging the node embeddings for the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.3.m3.1"><semantics id="S4.SS2.SSS2.p4.3.m3.1a"><mi id="S4.SS2.SSS2.p4.3.m3.1.1" xref="S4.SS2.SSS2.p4.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.3.m3.1b"><ci id="S4.SS2.SSS2.p4.3.m3.1.1.cmml" xref="S4.SS2.SSS2.p4.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.3.m3.1d">italic_k</annotation></semantics></math>-th attribute. This is achieved by computing the distance between the embedding <math alttext="\mathbf{h}_{i}^{k}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.4.m4.1"><semantics id="S4.SS2.SSS2.p4.4.m4.1a"><msubsup id="S4.SS2.SSS2.p4.4.m4.1.1" xref="S4.SS2.SSS2.p4.4.m4.1.1.cmml"><mi id="S4.SS2.SSS2.p4.4.m4.1.1.2.2" xref="S4.SS2.SSS2.p4.4.m4.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS2.p4.4.m4.1.1.2.3" xref="S4.SS2.SSS2.p4.4.m4.1.1.2.3.cmml">i</mi><mi id="S4.SS2.SSS2.p4.4.m4.1.1.3" xref="S4.SS2.SSS2.p4.4.m4.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.4.m4.1b"><apply id="S4.SS2.SSS2.p4.4.m4.1.1.cmml" xref="S4.SS2.SSS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p4.4.m4.1.1.1.cmml" xref="S4.SS2.SSS2.p4.4.m4.1.1">superscript</csymbol><apply id="S4.SS2.SSS2.p4.4.m4.1.1.2.cmml" xref="S4.SS2.SSS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p4.4.m4.1.1.2.1.cmml" xref="S4.SS2.SSS2.p4.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.SSS2.p4.4.m4.1.1.2.2.cmml" xref="S4.SS2.SSS2.p4.4.m4.1.1.2.2">𝐡</ci><ci id="S4.SS2.SSS2.p4.4.m4.1.1.2.3.cmml" xref="S4.SS2.SSS2.p4.4.m4.1.1.2.3">𝑖</ci></apply><ci id="S4.SS2.SSS2.p4.4.m4.1.1.3.cmml" xref="S4.SS2.SSS2.p4.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.4.m4.1c">\mathbf{h}_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.4.m4.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> and the embedding of the center point <math alttext="\overline{\mathbf{h}_{u}^{k}}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.5.m5.1"><semantics id="S4.SS2.SSS2.p4.5.m5.1a"><mover accent="true" id="S4.SS2.SSS2.p4.5.m5.1.1" xref="S4.SS2.SSS2.p4.5.m5.1.1.cmml"><msubsup id="S4.SS2.SSS2.p4.5.m5.1.1.2" xref="S4.SS2.SSS2.p4.5.m5.1.1.2.cmml"><mi id="S4.SS2.SSS2.p4.5.m5.1.1.2.2.2" xref="S4.SS2.SSS2.p4.5.m5.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.SS2.SSS2.p4.5.m5.1.1.2.2.3" xref="S4.SS2.SSS2.p4.5.m5.1.1.2.2.3.cmml">u</mi><mi id="S4.SS2.SSS2.p4.5.m5.1.1.2.3" xref="S4.SS2.SSS2.p4.5.m5.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.SS2.SSS2.p4.5.m5.1.1.1" xref="S4.SS2.SSS2.p4.5.m5.1.1.1.cmml">¯</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.5.m5.1b"><apply id="S4.SS2.SSS2.p4.5.m5.1.1.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1"><ci id="S4.SS2.SSS2.p4.5.m5.1.1.1.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1.1">¯</ci><apply id="S4.SS2.SSS2.p4.5.m5.1.1.2.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p4.5.m5.1.1.2.1.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1.2">superscript</csymbol><apply id="S4.SS2.SSS2.p4.5.m5.1.1.2.2.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p4.5.m5.1.1.2.2.1.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1.2">subscript</csymbol><ci id="S4.SS2.SSS2.p4.5.m5.1.1.2.2.2.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1.2.2.2">𝐡</ci><ci id="S4.SS2.SSS2.p4.5.m5.1.1.2.2.3.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1.2.2.3">𝑢</ci></apply><ci id="S4.SS2.SSS2.p4.5.m5.1.1.2.3.cmml" xref="S4.SS2.SSS2.p4.5.m5.1.1.2.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.5.m5.1c">\overline{\mathbf{h}_{u}^{k}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.5.m5.1d">over¯ start_ARG bold_h start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT end_ARG</annotation></semantics></math>. To normalize the changes, we calculate the ratio of the deviation to the embedding of the center point, representing the relative change in attribute choices. Here, the Euclidean distance is used to measure the deviation of node embeddings in high dimensional space. Then, given a consumer’s demand deviations in a specific attribute, we treat the price change ratios to the center point as an indicator for the willingness to pay for the attribute. Through aggregating the change ratios to the center point from all the past purchases, we can derive the AWTP score for consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.6.m6.1"><semantics id="S4.SS2.SSS2.p4.6.m6.1a"><mi id="S4.SS2.SSS2.p4.6.m6.1.1" xref="S4.SS2.SSS2.p4.6.m6.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.6.m6.1b"><ci id="S4.SS2.SSS2.p4.6.m6.1.1.cmml" xref="S4.SS2.SSS2.p4.6.m6.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.6.m6.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.6.m6.1d">italic_u</annotation></semantics></math> to attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.7.m7.1"><semantics id="S4.SS2.SSS2.p4.7.m7.1a"><mi id="S4.SS2.SSS2.p4.7.m7.1.1" xref="S4.SS2.SSS2.p4.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.7.m7.1b"><ci id="S4.SS2.SSS2.p4.7.m7.1.1.cmml" xref="S4.SS2.SSS2.p4.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.7.m7.1d">italic_k</annotation></semantics></math> as follows:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S4.E9">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S4.E9X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\tilde{I}_{u,k}=\sum_{i\in\mathcal{R}_{u}}\frac{\left|p_{i}-%
\overline{p_{u}}\right|\bigg{/}\left|\overline{p_{u}}\right|}{\left|\left|%
\mathbf{h}_{i}^{k}-\overline{\mathbf{h}_{u}^{k}}\right|\right|\bigg{/}\left|%
\left|\overline{\mathbf{h}_{u}^{k}}\right|\right|}," class="ltx_Math" display="inline" id="S4.E9X.2.1.1.m1.7"><semantics id="S4.E9X.2.1.1.m1.7a"><mrow id="S4.E9X.2.1.1.m1.7.7.1" xref="S4.E9X.2.1.1.m1.7.7.1.1.cmml"><mrow id="S4.E9X.2.1.1.m1.7.7.1.1" xref="S4.E9X.2.1.1.m1.7.7.1.1.cmml"><msub id="S4.E9X.2.1.1.m1.7.7.1.1.2" xref="S4.E9X.2.1.1.m1.7.7.1.1.2.cmml"><mover accent="true" id="S4.E9X.2.1.1.m1.7.7.1.1.2.2" xref="S4.E9X.2.1.1.m1.7.7.1.1.2.2.cmml"><mi id="S4.E9X.2.1.1.m1.7.7.1.1.2.2.2" xref="S4.E9X.2.1.1.m1.7.7.1.1.2.2.2.cmml">I</mi><mo id="S4.E9X.2.1.1.m1.7.7.1.1.2.2.1" xref="S4.E9X.2.1.1.m1.7.7.1.1.2.2.1.cmml">~</mo></mover><mrow id="S4.E9X.2.1.1.m1.2.2.2.4" xref="S4.E9X.2.1.1.m1.2.2.2.3.cmml"><mi id="S4.E9X.2.1.1.m1.1.1.1.1" xref="S4.E9X.2.1.1.m1.1.1.1.1.cmml">u</mi><mo id="S4.E9X.2.1.1.m1.2.2.2.4.1" xref="S4.E9X.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.E9X.2.1.1.m1.2.2.2.2" xref="S4.E9X.2.1.1.m1.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S4.E9X.2.1.1.m1.7.7.1.1.1" xref="S4.E9X.2.1.1.m1.7.7.1.1.1.cmml">=</mo><mrow id="S4.E9X.2.1.1.m1.7.7.1.1.3" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.cmml"><mstyle displaystyle="true" id="S4.E9X.2.1.1.m1.7.7.1.1.3.1" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.cmml"><munder id="S4.E9X.2.1.1.m1.7.7.1.1.3.1a" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.cmml"><mo id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.2" movablelimits="false" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.2.cmml">∑</mo><mrow id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.cmml"><mi id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.2" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.2.cmml">i</mi><mo id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.1" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.1.cmml">∈</mo><msub id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.2" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.2.cmml">ℛ</mi><mi id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.3" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.3.cmml">u</mi></msub></mrow></munder></mstyle><mstyle displaystyle="true" id="S4.E9X.2.1.1.m1.6.6" xref="S4.E9X.2.1.1.m1.6.6.cmml"><mfrac id="S4.E9X.2.1.1.m1.6.6a" xref="S4.E9X.2.1.1.m1.6.6.cmml"><mrow id="S4.E9X.2.1.1.m1.4.4.2" xref="S4.E9X.2.1.1.m1.4.4.2.cmml"><mrow id="S4.E9X.2.1.1.m1.4.4.2.2.1" xref="S4.E9X.2.1.1.m1.4.4.2.2.2.cmml"><mo id="S4.E9X.2.1.1.m1.4.4.2.2.1.2" xref="S4.E9X.2.1.1.m1.4.4.2.2.2.1.cmml">|</mo><mrow id="S4.E9X.2.1.1.m1.4.4.2.2.1.1" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.cmml"><msub id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.cmml"><mi id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.2" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.2.cmml">p</mi><mi id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.3" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.3.cmml">i</mi></msub><mo id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.1" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.1.cmml">−</mo><mover accent="true" id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.cmml"><msub id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.cmml"><mi id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.2" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.2.cmml">p</mi><mi id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.3" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.3.cmml">u</mi></msub><mo id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.1" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.1.cmml">¯</mo></mover></mrow><mo id="S4.E9X.2.1.1.m1.4.4.2.2.1.3" xref="S4.E9X.2.1.1.m1.4.4.2.2.2.1.cmml">|</mo></mrow><mo id="S4.E9X.2.1.1.m1.4.4.2.3" maxsize="210%" minsize="210%" stretchy="true" symmetric="true" xref="S4.E9X.2.1.1.m1.4.4.2.3.cmml">/</mo><mrow id="S4.E9X.2.1.1.m1.4.4.2.4.2" xref="S4.E9X.2.1.1.m1.4.4.2.4.1.cmml"><mo id="S4.E9X.2.1.1.m1.4.4.2.4.2.1" xref="S4.E9X.2.1.1.m1.4.4.2.4.1.1.cmml">|</mo><mover accent="true" id="S4.E9X.2.1.1.m1.3.3.1.1" xref="S4.E9X.2.1.1.m1.3.3.1.1.cmml"><msub id="S4.E9X.2.1.1.m1.3.3.1.1.2" xref="S4.E9X.2.1.1.m1.3.3.1.1.2.cmml"><mi id="S4.E9X.2.1.1.m1.3.3.1.1.2.2" xref="S4.E9X.2.1.1.m1.3.3.1.1.2.2.cmml">p</mi><mi id="S4.E9X.2.1.1.m1.3.3.1.1.2.3" xref="S4.E9X.2.1.1.m1.3.3.1.1.2.3.cmml">u</mi></msub><mo id="S4.E9X.2.1.1.m1.3.3.1.1.1" xref="S4.E9X.2.1.1.m1.3.3.1.1.1.cmml">¯</mo></mover><mo id="S4.E9X.2.1.1.m1.4.4.2.4.2.2" xref="S4.E9X.2.1.1.m1.4.4.2.4.1.1.cmml">|</mo></mrow></mrow><mrow id="S4.E9X.2.1.1.m1.6.6.4" xref="S4.E9X.2.1.1.m1.6.6.4.cmml"><mrow id="S4.E9X.2.1.1.m1.6.6.4.2.1" xref="S4.E9X.2.1.1.m1.6.6.4.2.2.cmml"><mo id="S4.E9X.2.1.1.m1.6.6.4.2.1.2" stretchy="false" xref="S4.E9X.2.1.1.m1.6.6.4.2.2.1.cmml">‖</mo><mrow id="S4.E9X.2.1.1.m1.6.6.4.2.1.1" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.cmml"><msubsup id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.cmml"><mi id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.2" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.3" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.3.cmml">i</mi><mi id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.3" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.1" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.1.cmml">−</mo><mover accent="true" id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.cmml"><msubsup id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.cmml"><mi id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.2" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.2.cmml">𝐡</mi><mi id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.3" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.3.cmml">u</mi><mi id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.3" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.3.cmml">k</mi></msubsup><mo id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.1" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.1.cmml">¯</mo></mover></mrow><mo id="S4.E9X.2.1.1.m1.6.6.4.2.1.3" stretchy="false" xref="S4.E9X.2.1.1.m1.6.6.4.2.2.1.cmml">‖</mo></mrow><mo id="S4.E9X.2.1.1.m1.6.6.4.3" maxsize="210%" minsize="210%" stretchy="true" symmetric="true" xref="S4.E9X.2.1.1.m1.6.6.4.3.cmml">/</mo><mrow id="S4.E9X.2.1.1.m1.6.6.4.4.2" xref="S4.E9X.2.1.1.m1.6.6.4.4.1.cmml"><mo id="S4.E9X.2.1.1.m1.6.6.4.4.2.1" stretchy="false" xref="S4.E9X.2.1.1.m1.6.6.4.4.1.1.cmml">‖</mo><mover accent="true" id="S4.E9X.2.1.1.m1.5.5.3.1" xref="S4.E9X.2.1.1.m1.5.5.3.1.cmml"><msubsup id="S4.E9X.2.1.1.m1.5.5.3.1.2" xref="S4.E9X.2.1.1.m1.5.5.3.1.2.cmml"><mi id="S4.E9X.2.1.1.m1.5.5.3.1.2.2.2" xref="S4.E9X.2.1.1.m1.5.5.3.1.2.2.2.cmml">𝐡</mi><mi id="S4.E9X.2.1.1.m1.5.5.3.1.2.2.3" xref="S4.E9X.2.1.1.m1.5.5.3.1.2.2.3.cmml">u</mi><mi id="S4.E9X.2.1.1.m1.5.5.3.1.2.3" xref="S4.E9X.2.1.1.m1.5.5.3.1.2.3.cmml">k</mi></msubsup><mo id="S4.E9X.2.1.1.m1.5.5.3.1.1" xref="S4.E9X.2.1.1.m1.5.5.3.1.1.cmml">¯</mo></mover><mo id="S4.E9X.2.1.1.m1.6.6.4.4.2.2" stretchy="false" xref="S4.E9X.2.1.1.m1.6.6.4.4.1.1.cmml">‖</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S4.E9X.2.1.1.m1.7.7.1.2" xref="S4.E9X.2.1.1.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E9X.2.1.1.m1.7b"><apply id="S4.E9X.2.1.1.m1.7.7.1.1.cmml" xref="S4.E9X.2.1.1.m1.7.7.1"><eq id="S4.E9X.2.1.1.m1.7.7.1.1.1.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.1"></eq><apply id="S4.E9X.2.1.1.m1.7.7.1.1.2.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.7.7.1.1.2.1.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.2">subscript</csymbol><apply id="S4.E9X.2.1.1.m1.7.7.1.1.2.2.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.2.2"><ci id="S4.E9X.2.1.1.m1.7.7.1.1.2.2.1.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.2.2.1">~</ci><ci id="S4.E9X.2.1.1.m1.7.7.1.1.2.2.2.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.2.2.2">𝐼</ci></apply><list id="S4.E9X.2.1.1.m1.2.2.2.3.cmml" xref="S4.E9X.2.1.1.m1.2.2.2.4"><ci id="S4.E9X.2.1.1.m1.1.1.1.1.cmml" xref="S4.E9X.2.1.1.m1.1.1.1.1">𝑢</ci><ci id="S4.E9X.2.1.1.m1.2.2.2.2.cmml" xref="S4.E9X.2.1.1.m1.2.2.2.2">𝑘</ci></list></apply><apply id="S4.E9X.2.1.1.m1.7.7.1.1.3.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3"><apply id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.1.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1">subscript</csymbol><sum id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.2.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.2"></sum><apply id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3"><in id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.1.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.1"></in><ci id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.2.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.2">𝑖</ci><apply id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.1.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3">subscript</csymbol><ci id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.2.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.2">ℛ</ci><ci id="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.3.cmml" xref="S4.E9X.2.1.1.m1.7.7.1.1.3.1.3.3.3">𝑢</ci></apply></apply></apply><apply id="S4.E9X.2.1.1.m1.6.6.cmml" xref="S4.E9X.2.1.1.m1.6.6"><divide id="S4.E9X.2.1.1.m1.6.6.5.cmml" xref="S4.E9X.2.1.1.m1.6.6"></divide><apply id="S4.E9X.2.1.1.m1.4.4.2.cmml" xref="S4.E9X.2.1.1.m1.4.4.2"><divide id="S4.E9X.2.1.1.m1.4.4.2.3.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.3"></divide><apply id="S4.E9X.2.1.1.m1.4.4.2.2.2.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1"><abs id="S4.E9X.2.1.1.m1.4.4.2.2.2.1.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.2"></abs><apply id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1"><minus id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.1.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.1"></minus><apply id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.1.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2">subscript</csymbol><ci id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.2.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.2">𝑝</ci><ci id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.3.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.2.3">𝑖</ci></apply><apply id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3"><ci id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.1.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.1">¯</ci><apply id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.1.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2">subscript</csymbol><ci id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.2.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.2">𝑝</ci><ci id="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.3.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.2.1.1.3.2.3">𝑢</ci></apply></apply></apply></apply><apply id="S4.E9X.2.1.1.m1.4.4.2.4.1.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.4.2"><abs id="S4.E9X.2.1.1.m1.4.4.2.4.1.1.cmml" xref="S4.E9X.2.1.1.m1.4.4.2.4.2.1"></abs><apply id="S4.E9X.2.1.1.m1.3.3.1.1.cmml" xref="S4.E9X.2.1.1.m1.3.3.1.1"><ci id="S4.E9X.2.1.1.m1.3.3.1.1.1.cmml" xref="S4.E9X.2.1.1.m1.3.3.1.1.1">¯</ci><apply id="S4.E9X.2.1.1.m1.3.3.1.1.2.cmml" xref="S4.E9X.2.1.1.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.3.3.1.1.2.1.cmml" xref="S4.E9X.2.1.1.m1.3.3.1.1.2">subscript</csymbol><ci id="S4.E9X.2.1.1.m1.3.3.1.1.2.2.cmml" xref="S4.E9X.2.1.1.m1.3.3.1.1.2.2">𝑝</ci><ci id="S4.E9X.2.1.1.m1.3.3.1.1.2.3.cmml" xref="S4.E9X.2.1.1.m1.3.3.1.1.2.3">𝑢</ci></apply></apply></apply></apply><apply id="S4.E9X.2.1.1.m1.6.6.4.cmml" xref="S4.E9X.2.1.1.m1.6.6.4"><divide id="S4.E9X.2.1.1.m1.6.6.4.3.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.3"></divide><apply id="S4.E9X.2.1.1.m1.6.6.4.2.2.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1"><csymbol cd="latexml" id="S4.E9X.2.1.1.m1.6.6.4.2.2.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.2">norm</csymbol><apply id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1"><minus id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.1"></minus><apply id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2">superscript</csymbol><apply id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2">subscript</csymbol><ci id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.2.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.2">𝐡</ci><ci id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.3.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.2.3">𝑖</ci></apply><ci id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.3.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.2.3">𝑘</ci></apply><apply id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3"><ci id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.1">¯</ci><apply id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2">superscript</csymbol><apply id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2">subscript</csymbol><ci id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.2.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.2">𝐡</ci><ci id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.3.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.2.3">𝑢</ci></apply><ci id="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.3.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.2.1.1.3.2.3">𝑘</ci></apply></apply></apply></apply><apply id="S4.E9X.2.1.1.m1.6.6.4.4.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.4.2"><csymbol cd="latexml" id="S4.E9X.2.1.1.m1.6.6.4.4.1.1.cmml" xref="S4.E9X.2.1.1.m1.6.6.4.4.2.1">norm</csymbol><apply id="S4.E9X.2.1.1.m1.5.5.3.1.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1"><ci id="S4.E9X.2.1.1.m1.5.5.3.1.1.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1.1">¯</ci><apply id="S4.E9X.2.1.1.m1.5.5.3.1.2.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.5.5.3.1.2.1.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1.2">superscript</csymbol><apply id="S4.E9X.2.1.1.m1.5.5.3.1.2.2.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1.2"><csymbol cd="ambiguous" id="S4.E9X.2.1.1.m1.5.5.3.1.2.2.1.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1.2">subscript</csymbol><ci id="S4.E9X.2.1.1.m1.5.5.3.1.2.2.2.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1.2.2.2">𝐡</ci><ci id="S4.E9X.2.1.1.m1.5.5.3.1.2.2.3.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1.2.2.3">𝑢</ci></apply><ci id="S4.E9X.2.1.1.m1.5.5.3.1.2.3.cmml" xref="S4.E9X.2.1.1.m1.5.5.3.1.2.3">𝑘</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9X.2.1.1.m1.7c">\displaystyle\tilde{I}_{u,k}=\sum_{i\in\mathcal{R}_{u}}\frac{\left|p_{i}-%
\overline{p_{u}}\right|\bigg{/}\left|\overline{p_{u}}\right|}{\left|\left|%
\mathbf{h}_{i}^{k}-\overline{\mathbf{h}_{u}^{k}}\right|\right|\bigg{/}\left|%
\left|\overline{\mathbf{h}_{u}^{k}}\right|\right|},</annotation><annotation encoding="application/x-llamapun" id="S4.E9X.2.1.1.m1.7d">over~ start_ARG italic_I end_ARG start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT = ∑ start_POSTSUBSCRIPT italic_i ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT divide start_ARG | italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT - over¯ start_ARG italic_p start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_ARG | / | over¯ start_ARG italic_p start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_ARG | end_ARG start_ARG | | bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT - over¯ start_ARG bold_h start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT end_ARG | | / | | over¯ start_ARG bold_h start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT end_ARG | | end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(9)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S4.E9Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle I_{u,k}=\text{Softmax}(\tilde{I}_{u,k})=\frac{\exp(\tilde{I}_{u,%
k})}{\sum_{k^{\prime}\in\mathcal{K}}\exp(\tilde{I}_{u,k^{\prime}})}," class="ltx_Math" display="inline" id="S4.E9Xa.2.1.1.m1.13"><semantics id="S4.E9Xa.2.1.1.m1.13a"><mrow id="S4.E9Xa.2.1.1.m1.13.13.1" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.cmml"><mrow id="S4.E9Xa.2.1.1.m1.13.13.1.1" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.cmml"><msub id="S4.E9Xa.2.1.1.m1.13.13.1.1.3" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.3.cmml"><mi id="S4.E9Xa.2.1.1.m1.13.13.1.1.3.2" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.3.2.cmml">I</mi><mrow id="S4.E9Xa.2.1.1.m1.2.2.2.4" xref="S4.E9Xa.2.1.1.m1.2.2.2.3.cmml"><mi id="S4.E9Xa.2.1.1.m1.1.1.1.1" xref="S4.E9Xa.2.1.1.m1.1.1.1.1.cmml">u</mi><mo id="S4.E9Xa.2.1.1.m1.2.2.2.4.1" xref="S4.E9Xa.2.1.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.E9Xa.2.1.1.m1.2.2.2.2" xref="S4.E9Xa.2.1.1.m1.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S4.E9Xa.2.1.1.m1.13.13.1.1.4" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.4.cmml">=</mo><mrow id="S4.E9Xa.2.1.1.m1.13.13.1.1.1" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.cmml"><mtext id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.3" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.3a.cmml">Softmax</mtext><mo id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.2" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.2.cmml">⁢</mo><mrow id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.cmml"><mo id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.2" stretchy="false" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.cmml"><mover accent="true" id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.cmml"><mi id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.2" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.2.cmml">I</mi><mo id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.1" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.1.cmml">~</mo></mover><mrow id="S4.E9Xa.2.1.1.m1.4.4.2.4" xref="S4.E9Xa.2.1.1.m1.4.4.2.3.cmml"><mi id="S4.E9Xa.2.1.1.m1.3.3.1.1" xref="S4.E9Xa.2.1.1.m1.3.3.1.1.cmml">u</mi><mo id="S4.E9Xa.2.1.1.m1.4.4.2.4.1" xref="S4.E9Xa.2.1.1.m1.4.4.2.3.cmml">,</mo><mi id="S4.E9Xa.2.1.1.m1.4.4.2.2" xref="S4.E9Xa.2.1.1.m1.4.4.2.2.cmml">k</mi></mrow></msub><mo id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.3" stretchy="false" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E9Xa.2.1.1.m1.13.13.1.1.5" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.5.cmml">=</mo><mstyle displaystyle="true" id="S4.E9Xa.2.1.1.m1.12.12" xref="S4.E9Xa.2.1.1.m1.12.12.cmml"><mfrac id="S4.E9Xa.2.1.1.m1.12.12a" xref="S4.E9Xa.2.1.1.m1.12.12.cmml"><mrow id="S4.E9Xa.2.1.1.m1.8.8.4.4" xref="S4.E9Xa.2.1.1.m1.8.8.4.5.cmml"><mi id="S4.E9Xa.2.1.1.m1.7.7.3.3" xref="S4.E9Xa.2.1.1.m1.7.7.3.3.cmml">exp</mi><mo id="S4.E9Xa.2.1.1.m1.8.8.4.4a" xref="S4.E9Xa.2.1.1.m1.8.8.4.5.cmml">⁡</mo><mrow id="S4.E9Xa.2.1.1.m1.8.8.4.4.1" xref="S4.E9Xa.2.1.1.m1.8.8.4.5.cmml"><mo id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.2" stretchy="false" xref="S4.E9Xa.2.1.1.m1.8.8.4.5.cmml">(</mo><msub id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.cmml"><mover accent="true" id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.cmml"><mi id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.2" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.2.cmml">I</mi><mo id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.1" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.1.cmml">~</mo></mover><mrow id="S4.E9Xa.2.1.1.m1.6.6.2.2.2.4" xref="S4.E9Xa.2.1.1.m1.6.6.2.2.2.3.cmml"><mi id="S4.E9Xa.2.1.1.m1.5.5.1.1.1.1" xref="S4.E9Xa.2.1.1.m1.5.5.1.1.1.1.cmml">u</mi><mo id="S4.E9Xa.2.1.1.m1.6.6.2.2.2.4.1" xref="S4.E9Xa.2.1.1.m1.6.6.2.2.2.3.cmml">,</mo><mi id="S4.E9Xa.2.1.1.m1.6.6.2.2.2.2" xref="S4.E9Xa.2.1.1.m1.6.6.2.2.2.2.cmml">k</mi></mrow></msub><mo id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.3" stretchy="false" xref="S4.E9Xa.2.1.1.m1.8.8.4.5.cmml">)</mo></mrow></mrow><mrow id="S4.E9Xa.2.1.1.m1.12.12.8" xref="S4.E9Xa.2.1.1.m1.12.12.8.cmml"><msub id="S4.E9Xa.2.1.1.m1.12.12.8.5" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.cmml"><mo id="S4.E9Xa.2.1.1.m1.12.12.8.5.2" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.2.cmml">∑</mo><mrow id="S4.E9Xa.2.1.1.m1.12.12.8.5.3" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.cmml"><msup id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.cmml"><mi id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.2" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.2.cmml">k</mi><mo id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.3" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.3.cmml">′</mo></msup><mo id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.1" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.3" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.3.cmml">𝒦</mi></mrow></msub><mrow id="S4.E9Xa.2.1.1.m1.12.12.8.4.1" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.2.cmml"><mi id="S4.E9Xa.2.1.1.m1.11.11.7.3" xref="S4.E9Xa.2.1.1.m1.11.11.7.3.cmml">exp</mi><mo id="S4.E9Xa.2.1.1.m1.12.12.8.4.1a" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.2.cmml">⁡</mo><mrow id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.2.cmml"><mo id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.2" stretchy="false" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.2.cmml">(</mo><msub id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.cmml"><mover accent="true" id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.cmml"><mi id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.2" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.2.cmml">I</mi><mo id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.1" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.1.cmml">~</mo></mover><mrow id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.3.cmml"><mi id="S4.E9Xa.2.1.1.m1.9.9.5.1.1.1" xref="S4.E9Xa.2.1.1.m1.9.9.5.1.1.1.cmml">u</mi><mo id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.2" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.3.cmml">,</mo><msup id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.cmml"><mi id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.2" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.2.cmml">k</mi><mo id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.3" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.3.cmml">′</mo></msup></mrow></msub><mo id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.3" stretchy="false" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mstyle></mrow><mo id="S4.E9Xa.2.1.1.m1.13.13.1.2" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E9Xa.2.1.1.m1.13b"><apply id="S4.E9Xa.2.1.1.m1.13.13.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1"><and id="S4.E9Xa.2.1.1.m1.13.13.1.1a.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1"></and><apply id="S4.E9Xa.2.1.1.m1.13.13.1.1b.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1"><eq id="S4.E9Xa.2.1.1.m1.13.13.1.1.4.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.4"></eq><apply id="S4.E9Xa.2.1.1.m1.13.13.1.1.3.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.3"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.13.13.1.1.3.1.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.3">subscript</csymbol><ci id="S4.E9Xa.2.1.1.m1.13.13.1.1.3.2.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.3.2">𝐼</ci><list id="S4.E9Xa.2.1.1.m1.2.2.2.3.cmml" xref="S4.E9Xa.2.1.1.m1.2.2.2.4"><ci id="S4.E9Xa.2.1.1.m1.1.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.1.1.1.1">𝑢</ci><ci id="S4.E9Xa.2.1.1.m1.2.2.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.2.2.2.2">𝑘</ci></list></apply><apply id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1"><times id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.2.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.2"></times><ci id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.3a.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.3"><mtext id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.3.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.3">Softmax</mtext></ci><apply id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1">subscript</csymbol><apply id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2"><ci id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.1.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.1">~</ci><ci id="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.1.1.1.1.2.2">𝐼</ci></apply><list id="S4.E9Xa.2.1.1.m1.4.4.2.3.cmml" xref="S4.E9Xa.2.1.1.m1.4.4.2.4"><ci id="S4.E9Xa.2.1.1.m1.3.3.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.3.3.1.1">𝑢</ci><ci id="S4.E9Xa.2.1.1.m1.4.4.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.4.4.2.2">𝑘</ci></list></apply></apply></apply><apply id="S4.E9Xa.2.1.1.m1.13.13.1.1c.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1"><eq id="S4.E9Xa.2.1.1.m1.13.13.1.1.5.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1.1.5"></eq><share href="https://arxiv.org/html/2408.11302v1#S4.E9Xa.2.1.1.m1.13.13.1.1.1.cmml" id="S4.E9Xa.2.1.1.m1.13.13.1.1d.cmml" xref="S4.E9Xa.2.1.1.m1.13.13.1"></share><apply id="S4.E9Xa.2.1.1.m1.12.12.cmml" xref="S4.E9Xa.2.1.1.m1.12.12"><divide id="S4.E9Xa.2.1.1.m1.12.12.9.cmml" xref="S4.E9Xa.2.1.1.m1.12.12"></divide><apply id="S4.E9Xa.2.1.1.m1.8.8.4.5.cmml" xref="S4.E9Xa.2.1.1.m1.8.8.4.4"><exp id="S4.E9Xa.2.1.1.m1.7.7.3.3.cmml" xref="S4.E9Xa.2.1.1.m1.7.7.3.3"></exp><apply id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1">subscript</csymbol><apply id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.cmml" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2"><ci id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.1.cmml" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.1">~</ci><ci id="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.8.8.4.4.1.1.2.2">𝐼</ci></apply><list id="S4.E9Xa.2.1.1.m1.6.6.2.2.2.3.cmml" xref="S4.E9Xa.2.1.1.m1.6.6.2.2.2.4"><ci id="S4.E9Xa.2.1.1.m1.5.5.1.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.5.5.1.1.1.1">𝑢</ci><ci id="S4.E9Xa.2.1.1.m1.6.6.2.2.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.6.6.2.2.2.2">𝑘</ci></list></apply></apply><apply id="S4.E9Xa.2.1.1.m1.12.12.8.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8"><apply id="S4.E9Xa.2.1.1.m1.12.12.8.5.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.12.12.8.5.1.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5">subscript</csymbol><sum id="S4.E9Xa.2.1.1.m1.12.12.8.5.2.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.2"></sum><apply id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3"><in id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.1.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.1"></in><apply id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.1.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2">superscript</csymbol><ci id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.2">𝑘</ci><ci id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.3.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.2.3">′</ci></apply><ci id="S4.E9Xa.2.1.1.m1.12.12.8.5.3.3.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.5.3.3">𝒦</ci></apply></apply><apply id="S4.E9Xa.2.1.1.m1.12.12.8.4.2.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1"><exp id="S4.E9Xa.2.1.1.m1.11.11.7.3.cmml" xref="S4.E9Xa.2.1.1.m1.11.11.7.3"></exp><apply id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1">subscript</csymbol><apply id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2"><ci id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.1.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.1">~</ci><ci id="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.2.cmml" xref="S4.E9Xa.2.1.1.m1.12.12.8.4.1.1.1.2.2">𝐼</ci></apply><list id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.3.cmml" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2"><ci id="S4.E9Xa.2.1.1.m1.9.9.5.1.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.9.9.5.1.1.1">𝑢</ci><apply id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.cmml" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1"><csymbol cd="ambiguous" id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.1.cmml" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1">superscript</csymbol><ci id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.2.cmml" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.2">𝑘</ci><ci id="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.3.cmml" xref="S4.E9Xa.2.1.1.m1.10.10.6.2.2.2.1.3">′</ci></apply></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9Xa.2.1.1.m1.13c">\displaystyle I_{u,k}=\text{Softmax}(\tilde{I}_{u,k})=\frac{\exp(\tilde{I}_{u,%
k})}{\sum_{k^{\prime}\in\mathcal{K}}\exp(\tilde{I}_{u,k^{\prime}})},</annotation><annotation encoding="application/x-llamapun" id="S4.E9Xa.2.1.1.m1.13d">italic_I start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT = Softmax ( over~ start_ARG italic_I end_ARG start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT ) = divide start_ARG roman_exp ( over~ start_ARG italic_I end_ARG start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_k start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ∈ caligraphic_K end_POSTSUBSCRIPT roman_exp ( over~ start_ARG italic_I end_ARG start_POSTSUBSCRIPT italic_u , italic_k start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S4.SS2.SSS2.p4.10">where the Softmax function is utilized to normalize the AWTP values, facilitating the comparison across different attributes. A higher <math alttext="I_{u,k}" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.8.m1.2"><semantics id="S4.SS2.SSS2.p4.8.m1.2a"><msub id="S4.SS2.SSS2.p4.8.m1.2.3" xref="S4.SS2.SSS2.p4.8.m1.2.3.cmml"><mi id="S4.SS2.SSS2.p4.8.m1.2.3.2" xref="S4.SS2.SSS2.p4.8.m1.2.3.2.cmml">I</mi><mrow id="S4.SS2.SSS2.p4.8.m1.2.2.2.4" xref="S4.SS2.SSS2.p4.8.m1.2.2.2.3.cmml"><mi id="S4.SS2.SSS2.p4.8.m1.1.1.1.1" xref="S4.SS2.SSS2.p4.8.m1.1.1.1.1.cmml">u</mi><mo id="S4.SS2.SSS2.p4.8.m1.2.2.2.4.1" xref="S4.SS2.SSS2.p4.8.m1.2.2.2.3.cmml">,</mo><mi id="S4.SS2.SSS2.p4.8.m1.2.2.2.2" xref="S4.SS2.SSS2.p4.8.m1.2.2.2.2.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.8.m1.2b"><apply id="S4.SS2.SSS2.p4.8.m1.2.3.cmml" xref="S4.SS2.SSS2.p4.8.m1.2.3"><csymbol cd="ambiguous" id="S4.SS2.SSS2.p4.8.m1.2.3.1.cmml" xref="S4.SS2.SSS2.p4.8.m1.2.3">subscript</csymbol><ci id="S4.SS2.SSS2.p4.8.m1.2.3.2.cmml" xref="S4.SS2.SSS2.p4.8.m1.2.3.2">𝐼</ci><list id="S4.SS2.SSS2.p4.8.m1.2.2.2.3.cmml" xref="S4.SS2.SSS2.p4.8.m1.2.2.2.4"><ci id="S4.SS2.SSS2.p4.8.m1.1.1.1.1.cmml" xref="S4.SS2.SSS2.p4.8.m1.1.1.1.1">𝑢</ci><ci id="S4.SS2.SSS2.p4.8.m1.2.2.2.2.cmml" xref="S4.SS2.SSS2.p4.8.m1.2.2.2.2">𝑘</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.8.m1.2c">I_{u,k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.8.m1.2d">italic_I start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT</annotation></semantics></math> suggests the consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.9.m2.1"><semantics id="S4.SS2.SSS2.p4.9.m2.1a"><mi id="S4.SS2.SSS2.p4.9.m2.1.1" xref="S4.SS2.SSS2.p4.9.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.9.m2.1b"><ci id="S4.SS2.SSS2.p4.9.m2.1.1.cmml" xref="S4.SS2.SSS2.p4.9.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.9.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.9.m2.1d">italic_u</annotation></semantics></math> may prioritize the product attribute <math alttext="k" class="ltx_Math" display="inline" id="S4.SS2.SSS2.p4.10.m3.1"><semantics id="S4.SS2.SSS2.p4.10.m3.1a"><mi id="S4.SS2.SSS2.p4.10.m3.1.1" xref="S4.SS2.SSS2.p4.10.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.SSS2.p4.10.m3.1b"><ci id="S4.SS2.SSS2.p4.10.m3.1.1.cmml" xref="S4.SS2.SSS2.p4.10.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.SSS2.p4.10.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.SSS2.p4.10.m3.1d">italic_k</annotation></semantics></math> since she is willing to accept a wider range of price fluctuation after controlling the changes from products themselves.</p>
</div>
<div class="ltx_para" id="S4.SS2.SSS2.p5">
<p class="ltx_p" id="S4.SS2.SSS2.p5.1">We finally integrate AWTP as a specially designed attention network into our utility function in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E7" title="In 4.2.1 Reference-dependent Utility with Dual Preferences. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">7</span></a>), and the ultimate reference-dependent utility is given by</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="r_{u,i}=\sum_{j\in\mathcal{R}_{u}}\gamma_{i,j}\sum_{k\in\mathcal{K}}I_{u,k}%
\left(\overbrace{\text{MLP}_{\alpha}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j%
}^{k}\right)}^{\text{Attribute-level interest preference}}\right.\left.+%
\overbrace{\text{MLP}_{\beta}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}%
\right)\cdot\left(p_{j}-p_{i}\right)}^{\text{Attribute-level price preference}%
}\right)." class="ltx_Math" display="block" id="S4.E10.m1.10"><semantics id="S4.E10.m1.10a"><mrow id="S4.E10.m1.10.10.1" xref="S4.E10.m1.10.10.1.1.cmml"><mrow id="S4.E10.m1.10.10.1.1" xref="S4.E10.m1.10.10.1.1.cmml"><msub id="S4.E10.m1.10.10.1.1.3" xref="S4.E10.m1.10.10.1.1.3.cmml"><mi id="S4.E10.m1.10.10.1.1.3.2" xref="S4.E10.m1.10.10.1.1.3.2.cmml">r</mi><mrow id="S4.E10.m1.2.2.2.4" xref="S4.E10.m1.2.2.2.3.cmml"><mi id="S4.E10.m1.1.1.1.1" xref="S4.E10.m1.1.1.1.1.cmml">u</mi><mo id="S4.E10.m1.2.2.2.4.1" xref="S4.E10.m1.2.2.2.3.cmml">,</mo><mi id="S4.E10.m1.2.2.2.2" xref="S4.E10.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S4.E10.m1.10.10.1.1.2" rspace="0.111em" xref="S4.E10.m1.10.10.1.1.2.cmml">=</mo><mrow id="S4.E10.m1.10.10.1.1.1" xref="S4.E10.m1.10.10.1.1.1.cmml"><munder id="S4.E10.m1.10.10.1.1.1.2" xref="S4.E10.m1.10.10.1.1.1.2.cmml"><mo id="S4.E10.m1.10.10.1.1.1.2.2" movablelimits="false" xref="S4.E10.m1.10.10.1.1.1.2.2.cmml">∑</mo><mrow id="S4.E10.m1.10.10.1.1.1.2.3" xref="S4.E10.m1.10.10.1.1.1.2.3.cmml"><mi id="S4.E10.m1.10.10.1.1.1.2.3.2" xref="S4.E10.m1.10.10.1.1.1.2.3.2.cmml">j</mi><mo id="S4.E10.m1.10.10.1.1.1.2.3.1" xref="S4.E10.m1.10.10.1.1.1.2.3.1.cmml">∈</mo><msub id="S4.E10.m1.10.10.1.1.1.2.3.3" xref="S4.E10.m1.10.10.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E10.m1.10.10.1.1.1.2.3.3.2" xref="S4.E10.m1.10.10.1.1.1.2.3.3.2.cmml">ℛ</mi><mi id="S4.E10.m1.10.10.1.1.1.2.3.3.3" xref="S4.E10.m1.10.10.1.1.1.2.3.3.3.cmml">u</mi></msub></mrow></munder><mrow id="S4.E10.m1.10.10.1.1.1.1" xref="S4.E10.m1.10.10.1.1.1.1.cmml"><msub id="S4.E10.m1.10.10.1.1.1.1.3" xref="S4.E10.m1.10.10.1.1.1.1.3.cmml"><mi id="S4.E10.m1.10.10.1.1.1.1.3.2" xref="S4.E10.m1.10.10.1.1.1.1.3.2.cmml">γ</mi><mrow id="S4.E10.m1.4.4.2.4" xref="S4.E10.m1.4.4.2.3.cmml"><mi id="S4.E10.m1.3.3.1.1" xref="S4.E10.m1.3.3.1.1.cmml">i</mi><mo id="S4.E10.m1.4.4.2.4.1" xref="S4.E10.m1.4.4.2.3.cmml">,</mo><mi id="S4.E10.m1.4.4.2.2" xref="S4.E10.m1.4.4.2.2.cmml">j</mi></mrow></msub><mo id="S4.E10.m1.10.10.1.1.1.1.2" xref="S4.E10.m1.10.10.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E10.m1.10.10.1.1.1.1.1" xref="S4.E10.m1.10.10.1.1.1.1.1.cmml"><munder id="S4.E10.m1.10.10.1.1.1.1.1.2" xref="S4.E10.m1.10.10.1.1.1.1.1.2.cmml"><mo id="S4.E10.m1.10.10.1.1.1.1.1.2.2" movablelimits="false" xref="S4.E10.m1.10.10.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="S4.E10.m1.10.10.1.1.1.1.1.2.3" xref="S4.E10.m1.10.10.1.1.1.1.1.2.3.cmml"><mi id="S4.E10.m1.10.10.1.1.1.1.1.2.3.2" xref="S4.E10.m1.10.10.1.1.1.1.1.2.3.2.cmml">k</mi><mo id="S4.E10.m1.10.10.1.1.1.1.1.2.3.1" xref="S4.E10.m1.10.10.1.1.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E10.m1.10.10.1.1.1.1.1.2.3.3" xref="S4.E10.m1.10.10.1.1.1.1.1.2.3.3.cmml">𝒦</mi></mrow></munder><mrow id="S4.E10.m1.10.10.1.1.1.1.1.1" xref="S4.E10.m1.10.10.1.1.1.1.1.1.cmml"><msub id="S4.E10.m1.10.10.1.1.1.1.1.1.3" xref="S4.E10.m1.10.10.1.1.1.1.1.1.3.cmml"><mi id="S4.E10.m1.10.10.1.1.1.1.1.1.3.2" xref="S4.E10.m1.10.10.1.1.1.1.1.1.3.2.cmml">I</mi><mrow id="S4.E10.m1.6.6.2.4" xref="S4.E10.m1.6.6.2.3.cmml"><mi id="S4.E10.m1.5.5.1.1" xref="S4.E10.m1.5.5.1.1.cmml">u</mi><mo id="S4.E10.m1.6.6.2.4.1" xref="S4.E10.m1.6.6.2.3.cmml">,</mo><mi id="S4.E10.m1.6.6.2.2" xref="S4.E10.m1.6.6.2.2.cmml">k</mi></mrow></msub><mo id="S4.E10.m1.10.10.1.1.1.1.1.1.2" xref="S4.E10.m1.10.10.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.2" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.cmml"><mover id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S4.E10.m1.7.7" xref="S4.E10.m1.7.7.cmml"><mrow id="S4.E10.m1.7.7.1" xref="S4.E10.m1.7.7.1.cmml"><msub id="S4.E10.m1.7.7.1.3" xref="S4.E10.m1.7.7.1.3.cmml"><mtext id="S4.E10.m1.7.7.1.3.2" xref="S4.E10.m1.7.7.1.3.2a.cmml">MLP</mtext><mi id="S4.E10.m1.7.7.1.3.3" xref="S4.E10.m1.7.7.1.3.3.cmml">α</mi></msub><mo id="S4.E10.m1.7.7.1.2" xref="S4.E10.m1.7.7.1.2.cmml">⁢</mo><mrow id="S4.E10.m1.7.7.1.1.1" xref="S4.E10.m1.7.7.1.1.1.1.cmml"><mo id="S4.E10.m1.7.7.1.1.1.2" xref="S4.E10.m1.7.7.1.1.1.1.cmml">(</mo><mrow id="S4.E10.m1.7.7.1.1.1.1" xref="S4.E10.m1.7.7.1.1.1.1.cmml"><msubsup id="S4.E10.m1.7.7.1.1.1.1.2" xref="S4.E10.m1.7.7.1.1.1.1.2.cmml"><mi id="S4.E10.m1.7.7.1.1.1.1.2.2.2" xref="S4.E10.m1.7.7.1.1.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.E10.m1.7.7.1.1.1.1.2.2.3" xref="S4.E10.m1.7.7.1.1.1.1.2.2.3.cmml">i</mi><mi id="S4.E10.m1.7.7.1.1.1.1.2.3" xref="S4.E10.m1.7.7.1.1.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.E10.m1.7.7.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.E10.m1.7.7.1.1.1.1.1.cmml">⊙</mo><msubsup id="S4.E10.m1.7.7.1.1.1.1.3" xref="S4.E10.m1.7.7.1.1.1.1.3.cmml"><mi id="S4.E10.m1.7.7.1.1.1.1.3.2.2" xref="S4.E10.m1.7.7.1.1.1.1.3.2.2.cmml">𝐡</mi><mi id="S4.E10.m1.7.7.1.1.1.1.3.2.3" xref="S4.E10.m1.7.7.1.1.1.1.3.2.3.cmml">j</mi><mi id="S4.E10.m1.7.7.1.1.1.1.3.3" xref="S4.E10.m1.7.7.1.1.1.1.3.3.cmml">k</mi></msubsup></mrow><mo id="S4.E10.m1.7.7.1.1.1.3" xref="S4.E10.m1.7.7.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.7.7.2" xref="S4.E10.m1.7.7.2.cmml">⏞</mo></mover><mtext id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.2" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.2a.cmml">Attribute-level interest preference</mtext></mover><mo id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.1" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mover id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.cmml"><mover accent="true" id="S4.E10.m1.9.9" xref="S4.E10.m1.9.9.cmml"><mrow id="S4.E10.m1.9.9.2" xref="S4.E10.m1.9.9.2.cmml"><mrow id="S4.E10.m1.8.8.1.1" xref="S4.E10.m1.8.8.1.1.cmml"><msub id="S4.E10.m1.8.8.1.1.3" xref="S4.E10.m1.8.8.1.1.3.cmml"><mtext id="S4.E10.m1.8.8.1.1.3.2" xref="S4.E10.m1.8.8.1.1.3.2a.cmml">MLP</mtext><mi id="S4.E10.m1.8.8.1.1.3.3" xref="S4.E10.m1.8.8.1.1.3.3.cmml">β</mi></msub><mo id="S4.E10.m1.8.8.1.1.2" xref="S4.E10.m1.8.8.1.1.2.cmml">⁢</mo><mrow id="S4.E10.m1.8.8.1.1.1.1" xref="S4.E10.m1.8.8.1.1.1.1.1.cmml"><mo id="S4.E10.m1.8.8.1.1.1.1.2" xref="S4.E10.m1.8.8.1.1.1.1.1.cmml">(</mo><mrow id="S4.E10.m1.8.8.1.1.1.1.1" xref="S4.E10.m1.8.8.1.1.1.1.1.cmml"><msubsup id="S4.E10.m1.8.8.1.1.1.1.1.2" xref="S4.E10.m1.8.8.1.1.1.1.1.2.cmml"><mi id="S4.E10.m1.8.8.1.1.1.1.1.2.2.2" xref="S4.E10.m1.8.8.1.1.1.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.E10.m1.8.8.1.1.1.1.1.2.2.3" xref="S4.E10.m1.8.8.1.1.1.1.1.2.2.3.cmml">i</mi><mi id="S4.E10.m1.8.8.1.1.1.1.1.2.3" xref="S4.E10.m1.8.8.1.1.1.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.E10.m1.8.8.1.1.1.1.1.1" lspace="0.222em" rspace="0.222em" xref="S4.E10.m1.8.8.1.1.1.1.1.1.cmml">⊙</mo><msubsup id="S4.E10.m1.8.8.1.1.1.1.1.3" xref="S4.E10.m1.8.8.1.1.1.1.1.3.cmml"><mi id="S4.E10.m1.8.8.1.1.1.1.1.3.2.2" xref="S4.E10.m1.8.8.1.1.1.1.1.3.2.2.cmml">𝐡</mi><mi id="S4.E10.m1.8.8.1.1.1.1.1.3.2.3" xref="S4.E10.m1.8.8.1.1.1.1.1.3.2.3.cmml">j</mi><mi id="S4.E10.m1.8.8.1.1.1.1.1.3.3" xref="S4.E10.m1.8.8.1.1.1.1.1.3.3.cmml">k</mi></msubsup></mrow><mo id="S4.E10.m1.8.8.1.1.1.1.3" rspace="0.055em" xref="S4.E10.m1.8.8.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.9.9.2.3" rspace="0.222em" xref="S4.E10.m1.9.9.2.3.cmml">⋅</mo><mrow id="S4.E10.m1.9.9.2.2.1" xref="S4.E10.m1.9.9.2.2.1.1.cmml"><mo id="S4.E10.m1.9.9.2.2.1.2" xref="S4.E10.m1.9.9.2.2.1.1.cmml">(</mo><mrow id="S4.E10.m1.9.9.2.2.1.1" xref="S4.E10.m1.9.9.2.2.1.1.cmml"><msub id="S4.E10.m1.9.9.2.2.1.1.2" xref="S4.E10.m1.9.9.2.2.1.1.2.cmml"><mi id="S4.E10.m1.9.9.2.2.1.1.2.2" xref="S4.E10.m1.9.9.2.2.1.1.2.2.cmml">p</mi><mi id="S4.E10.m1.9.9.2.2.1.1.2.3" xref="S4.E10.m1.9.9.2.2.1.1.2.3.cmml">j</mi></msub><mo id="S4.E10.m1.9.9.2.2.1.1.1" xref="S4.E10.m1.9.9.2.2.1.1.1.cmml">−</mo><msub id="S4.E10.m1.9.9.2.2.1.1.3" xref="S4.E10.m1.9.9.2.2.1.1.3.cmml"><mi id="S4.E10.m1.9.9.2.2.1.1.3.2" xref="S4.E10.m1.9.9.2.2.1.1.3.2.cmml">p</mi><mi id="S4.E10.m1.9.9.2.2.1.1.3.3" xref="S4.E10.m1.9.9.2.2.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S4.E10.m1.9.9.2.2.1.3" xref="S4.E10.m1.9.9.2.2.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.9.9.3" xref="S4.E10.m1.9.9.3.cmml">⏞</mo></mover><mtext id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.2a.cmml">Attribute-level price preference</mtext></mover></mrow><mo id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.3" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mrow><mo id="S4.E10.m1.10.10.1.2" lspace="0em" xref="S4.E10.m1.10.10.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E10.m1.10b"><apply id="S4.E10.m1.10.10.1.1.cmml" xref="S4.E10.m1.10.10.1"><eq id="S4.E10.m1.10.10.1.1.2.cmml" xref="S4.E10.m1.10.10.1.1.2"></eq><apply id="S4.E10.m1.10.10.1.1.3.cmml" xref="S4.E10.m1.10.10.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.10.10.1.1.3.1.cmml" xref="S4.E10.m1.10.10.1.1.3">subscript</csymbol><ci id="S4.E10.m1.10.10.1.1.3.2.cmml" xref="S4.E10.m1.10.10.1.1.3.2">𝑟</ci><list id="S4.E10.m1.2.2.2.3.cmml" xref="S4.E10.m1.2.2.2.4"><ci id="S4.E10.m1.1.1.1.1.cmml" xref="S4.E10.m1.1.1.1.1">𝑢</ci><ci id="S4.E10.m1.2.2.2.2.cmml" xref="S4.E10.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S4.E10.m1.10.10.1.1.1.cmml" xref="S4.E10.m1.10.10.1.1.1"><apply id="S4.E10.m1.10.10.1.1.1.2.cmml" xref="S4.E10.m1.10.10.1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.10.10.1.1.1.2.1.cmml" xref="S4.E10.m1.10.10.1.1.1.2">subscript</csymbol><sum id="S4.E10.m1.10.10.1.1.1.2.2.cmml" xref="S4.E10.m1.10.10.1.1.1.2.2"></sum><apply id="S4.E10.m1.10.10.1.1.1.2.3.cmml" xref="S4.E10.m1.10.10.1.1.1.2.3"><in id="S4.E10.m1.10.10.1.1.1.2.3.1.cmml" xref="S4.E10.m1.10.10.1.1.1.2.3.1"></in><ci id="S4.E10.m1.10.10.1.1.1.2.3.2.cmml" xref="S4.E10.m1.10.10.1.1.1.2.3.2">𝑗</ci><apply id="S4.E10.m1.10.10.1.1.1.2.3.3.cmml" xref="S4.E10.m1.10.10.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S4.E10.m1.10.10.1.1.1.2.3.3.1.cmml" xref="S4.E10.m1.10.10.1.1.1.2.3.3">subscript</csymbol><ci id="S4.E10.m1.10.10.1.1.1.2.3.3.2.cmml" xref="S4.E10.m1.10.10.1.1.1.2.3.3.2">ℛ</ci><ci id="S4.E10.m1.10.10.1.1.1.2.3.3.3.cmml" xref="S4.E10.m1.10.10.1.1.1.2.3.3.3">𝑢</ci></apply></apply></apply><apply id="S4.E10.m1.10.10.1.1.1.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1"><times id="S4.E10.m1.10.10.1.1.1.1.2.cmml" xref="S4.E10.m1.10.10.1.1.1.1.2"></times><apply id="S4.E10.m1.10.10.1.1.1.1.3.cmml" xref="S4.E10.m1.10.10.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.10.10.1.1.1.1.3.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.3">subscript</csymbol><ci id="S4.E10.m1.10.10.1.1.1.1.3.2.cmml" xref="S4.E10.m1.10.10.1.1.1.1.3.2">𝛾</ci><list id="S4.E10.m1.4.4.2.3.cmml" xref="S4.E10.m1.4.4.2.4"><ci id="S4.E10.m1.3.3.1.1.cmml" xref="S4.E10.m1.3.3.1.1">𝑖</ci><ci id="S4.E10.m1.4.4.2.2.cmml" xref="S4.E10.m1.4.4.2.2">𝑗</ci></list></apply><apply id="S4.E10.m1.10.10.1.1.1.1.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1"><apply id="S4.E10.m1.10.10.1.1.1.1.1.2.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.10.10.1.1.1.1.1.2.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.2">subscript</csymbol><sum id="S4.E10.m1.10.10.1.1.1.1.1.2.2.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.2.2"></sum><apply id="S4.E10.m1.10.10.1.1.1.1.1.2.3.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.2.3"><in id="S4.E10.m1.10.10.1.1.1.1.1.2.3.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.2.3.1"></in><ci id="S4.E10.m1.10.10.1.1.1.1.1.2.3.2.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.2.3.2">𝑘</ci><ci id="S4.E10.m1.10.10.1.1.1.1.1.2.3.3.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.2.3.3">𝒦</ci></apply></apply><apply id="S4.E10.m1.10.10.1.1.1.1.1.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1"><times id="S4.E10.m1.10.10.1.1.1.1.1.1.2.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.2"></times><apply id="S4.E10.m1.10.10.1.1.1.1.1.1.3.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.10.10.1.1.1.1.1.1.3.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E10.m1.10.10.1.1.1.1.1.1.3.2.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.3.2">𝐼</ci><list id="S4.E10.m1.6.6.2.3.cmml" xref="S4.E10.m1.6.6.2.4"><ci id="S4.E10.m1.5.5.1.1.cmml" xref="S4.E10.m1.5.5.1.1">𝑢</ci><ci id="S4.E10.m1.6.6.2.2.cmml" xref="S4.E10.m1.6.6.2.2">𝑘</ci></list></apply><apply id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1"><plus id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.1"></plus><apply id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2">superscript</csymbol><apply id="S4.E10.m1.7.7.cmml" xref="S4.E10.m1.7.7"><ci id="S4.E10.m1.7.7.2.cmml" xref="S4.E10.m1.7.7.2">⏞</ci><apply id="S4.E10.m1.7.7.1.cmml" xref="S4.E10.m1.7.7.1"><times id="S4.E10.m1.7.7.1.2.cmml" xref="S4.E10.m1.7.7.1.2"></times><apply id="S4.E10.m1.7.7.1.3.cmml" xref="S4.E10.m1.7.7.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.7.7.1.3.1.cmml" xref="S4.E10.m1.7.7.1.3">subscript</csymbol><ci id="S4.E10.m1.7.7.1.3.2a.cmml" xref="S4.E10.m1.7.7.1.3.2"><mtext id="S4.E10.m1.7.7.1.3.2.cmml" xref="S4.E10.m1.7.7.1.3.2">MLP</mtext></ci><ci id="S4.E10.m1.7.7.1.3.3.cmml" xref="S4.E10.m1.7.7.1.3.3">𝛼</ci></apply><apply id="S4.E10.m1.7.7.1.1.1.1.cmml" xref="S4.E10.m1.7.7.1.1.1"><csymbol cd="latexml" id="S4.E10.m1.7.7.1.1.1.1.1.cmml" xref="S4.E10.m1.7.7.1.1.1.1.1">direct-product</csymbol><apply id="S4.E10.m1.7.7.1.1.1.1.2.cmml" xref="S4.E10.m1.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.7.7.1.1.1.1.2.1.cmml" xref="S4.E10.m1.7.7.1.1.1.1.2">superscript</csymbol><apply id="S4.E10.m1.7.7.1.1.1.1.2.2.cmml" xref="S4.E10.m1.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.7.7.1.1.1.1.2.2.1.cmml" xref="S4.E10.m1.7.7.1.1.1.1.2">subscript</csymbol><ci id="S4.E10.m1.7.7.1.1.1.1.2.2.2.cmml" xref="S4.E10.m1.7.7.1.1.1.1.2.2.2">𝐡</ci><ci id="S4.E10.m1.7.7.1.1.1.1.2.2.3.cmml" xref="S4.E10.m1.7.7.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.E10.m1.7.7.1.1.1.1.2.3.cmml" xref="S4.E10.m1.7.7.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.E10.m1.7.7.1.1.1.1.3.cmml" xref="S4.E10.m1.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.7.7.1.1.1.1.3.1.cmml" xref="S4.E10.m1.7.7.1.1.1.1.3">superscript</csymbol><apply id="S4.E10.m1.7.7.1.1.1.1.3.2.cmml" xref="S4.E10.m1.7.7.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.7.7.1.1.1.1.3.2.1.cmml" xref="S4.E10.m1.7.7.1.1.1.1.3">subscript</csymbol><ci id="S4.E10.m1.7.7.1.1.1.1.3.2.2.cmml" xref="S4.E10.m1.7.7.1.1.1.1.3.2.2">𝐡</ci><ci id="S4.E10.m1.7.7.1.1.1.1.3.2.3.cmml" xref="S4.E10.m1.7.7.1.1.1.1.3.2.3">𝑗</ci></apply><ci id="S4.E10.m1.7.7.1.1.1.1.3.3.cmml" xref="S4.E10.m1.7.7.1.1.1.1.3.3">𝑘</ci></apply></apply></apply></apply><ci id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.2a.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.2"><mtext id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.2.cmml" mathsize="70%" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.2.2">Attribute-level interest preference</mtext></ci></apply><apply id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S4.E10.m1.9.9.cmml" xref="S4.E10.m1.9.9"><ci id="S4.E10.m1.9.9.3.cmml" xref="S4.E10.m1.9.9.3">⏞</ci><apply id="S4.E10.m1.9.9.2.cmml" xref="S4.E10.m1.9.9.2"><ci id="S4.E10.m1.9.9.2.3.cmml" xref="S4.E10.m1.9.9.2.3">⋅</ci><apply id="S4.E10.m1.8.8.1.1.cmml" xref="S4.E10.m1.8.8.1.1"><times id="S4.E10.m1.8.8.1.1.2.cmml" xref="S4.E10.m1.8.8.1.1.2"></times><apply id="S4.E10.m1.8.8.1.1.3.cmml" xref="S4.E10.m1.8.8.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.8.8.1.1.3.1.cmml" xref="S4.E10.m1.8.8.1.1.3">subscript</csymbol><ci id="S4.E10.m1.8.8.1.1.3.2a.cmml" xref="S4.E10.m1.8.8.1.1.3.2"><mtext id="S4.E10.m1.8.8.1.1.3.2.cmml" xref="S4.E10.m1.8.8.1.1.3.2">MLP</mtext></ci><ci id="S4.E10.m1.8.8.1.1.3.3.cmml" xref="S4.E10.m1.8.8.1.1.3.3">𝛽</ci></apply><apply id="S4.E10.m1.8.8.1.1.1.1.1.cmml" xref="S4.E10.m1.8.8.1.1.1.1"><csymbol cd="latexml" id="S4.E10.m1.8.8.1.1.1.1.1.1.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.1">direct-product</csymbol><apply id="S4.E10.m1.8.8.1.1.1.1.1.2.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.8.8.1.1.1.1.1.2.1.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.2">superscript</csymbol><apply id="S4.E10.m1.8.8.1.1.1.1.1.2.2.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.8.8.1.1.1.1.1.2.2.1.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E10.m1.8.8.1.1.1.1.1.2.2.2.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.2.2.2">𝐡</ci><ci id="S4.E10.m1.8.8.1.1.1.1.1.2.2.3.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.2.2.3">𝑖</ci></apply><ci id="S4.E10.m1.8.8.1.1.1.1.1.2.3.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.E10.m1.8.8.1.1.1.1.1.3.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.8.8.1.1.1.1.1.3.1.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.3">superscript</csymbol><apply id="S4.E10.m1.8.8.1.1.1.1.1.3.2.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.8.8.1.1.1.1.1.3.2.1.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E10.m1.8.8.1.1.1.1.1.3.2.2.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.3.2.2">𝐡</ci><ci id="S4.E10.m1.8.8.1.1.1.1.1.3.2.3.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.3.2.3">𝑗</ci></apply><ci id="S4.E10.m1.8.8.1.1.1.1.1.3.3.cmml" xref="S4.E10.m1.8.8.1.1.1.1.1.3.3">𝑘</ci></apply></apply></apply><apply id="S4.E10.m1.9.9.2.2.1.1.cmml" xref="S4.E10.m1.9.9.2.2.1"><minus id="S4.E10.m1.9.9.2.2.1.1.1.cmml" xref="S4.E10.m1.9.9.2.2.1.1.1"></minus><apply id="S4.E10.m1.9.9.2.2.1.1.2.cmml" xref="S4.E10.m1.9.9.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.E10.m1.9.9.2.2.1.1.2.1.cmml" xref="S4.E10.m1.9.9.2.2.1.1.2">subscript</csymbol><ci id="S4.E10.m1.9.9.2.2.1.1.2.2.cmml" xref="S4.E10.m1.9.9.2.2.1.1.2.2">𝑝</ci><ci id="S4.E10.m1.9.9.2.2.1.1.2.3.cmml" xref="S4.E10.m1.9.9.2.2.1.1.2.3">𝑗</ci></apply><apply id="S4.E10.m1.9.9.2.2.1.1.3.cmml" xref="S4.E10.m1.9.9.2.2.1.1.3"><csymbol cd="ambiguous" id="S4.E10.m1.9.9.2.2.1.1.3.1.cmml" xref="S4.E10.m1.9.9.2.2.1.1.3">subscript</csymbol><ci id="S4.E10.m1.9.9.2.2.1.1.3.2.cmml" xref="S4.E10.m1.9.9.2.2.1.1.3.2">𝑝</ci><ci id="S4.E10.m1.9.9.2.2.1.1.3.3.cmml" xref="S4.E10.m1.9.9.2.2.1.1.3.3">𝑖</ci></apply></apply></apply></apply><ci id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.2a.cmml" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.2"><mtext id="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.2.cmml" mathsize="70%" xref="S4.E10.m1.10.10.1.1.1.1.1.1.1.1.1.3.2">Attribute-level price preference</mtext></ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E10.m1.10c">r_{u,i}=\sum_{j\in\mathcal{R}_{u}}\gamma_{i,j}\sum_{k\in\mathcal{K}}I_{u,k}%
\left(\overbrace{\text{MLP}_{\alpha}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j%
}^{k}\right)}^{\text{Attribute-level interest preference}}\right.\left.+%
\overbrace{\text{MLP}_{\beta}\left(\mathbf{h}_{i}^{k}\odot\mathbf{h}_{j}^{k}%
\right)\cdot\left(p_{j}-p_{i}\right)}^{\text{Attribute-level price preference}%
}\right).</annotation><annotation encoding="application/x-llamapun" id="S4.E10.m1.10d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_γ start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_k ∈ caligraphic_K end_POSTSUBSCRIPT italic_I start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT ( over⏞ start_ARG MLP start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ⊙ bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ) end_ARG start_POSTSUPERSCRIPT Attribute-level interest preference end_POSTSUPERSCRIPT + over⏞ start_ARG MLP start_POSTSUBSCRIPT italic_β end_POSTSUBSCRIPT ( bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ⊙ bold_h start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ) ⋅ ( italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG start_POSTSUPERSCRIPT Attribute-level price preference end_POSTSUPERSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(10)</span></td>
</tr></tbody>
</table>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Ranking-based Recommendation and Model Optimization</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">In the field of recommender systems, it is widely acknowledged that providing consumers with a ranked list of recommendations is more appropriate than directly predicting product ratings <cite class="ltx_cite ltx_citemacro_citep">(Rendle and Schmidt-Thieme, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib70" title="">2010</a>, Rendle et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib69" title="">2012</a>, He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib30" title="">2018</a>)</cite>. In response to this, a pairwise modeling framework called Bayesian Personalized Ranking (BPR) is introduced for generating product ranking lists for consumers <cite class="ltx_cite ltx_citemacro_citep">(Rendle et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib69" title="">2012</a>)</cite>. BPR offers a balanced approach between recommendation performance and computational complexity, and can be combined with traditional factorization models to infer consumer preferences from their implicit feedback. In our design, we integrate the constructed model for reference-dependent utility into the BPR framework to enable end-to-end learning of product representations and improve the overall performance of recommender systems.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.12">A crucial assumption for BPR is that products with which consumers interact are considered to be more preferred than those they have not interacted with, which has been proven to be effective and has been widely adopted in many previous studies <cite class="ltx_cite ltx_citemacro_citep">(Ding et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib20" title="">2018</a>, He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib30" title="">2018</a>)</cite>. In practice, the effectiveness of this approach is ensured by the randomization of training samples. To adhere to this strategy, we define the positive set and the negative set to construct the BPR-style loss as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E11">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{D}^{+}_{u}=\{i\,|\,i\in\mathcal{R}_{u}\},\quad\mathcal{D}_{u}^{-}=\{j%
\,|\,j\in\mathcal{V}\backslash\mathcal{R}_{u}\}," class="ltx_Math" display="block" id="S4.E11.m1.3"><semantics id="S4.E11.m1.3a"><mrow id="S4.E11.m1.3.3.1"><mrow id="S4.E11.m1.3.3.1.1.2" xref="S4.E11.m1.3.3.1.1.3.cmml"><mrow id="S4.E11.m1.3.3.1.1.1.1" xref="S4.E11.m1.3.3.1.1.1.1.cmml"><msubsup id="S4.E11.m1.3.3.1.1.1.1.3" xref="S4.E11.m1.3.3.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.3.3.1.1.1.1.3.2.2" xref="S4.E11.m1.3.3.1.1.1.1.3.2.2.cmml">𝒟</mi><mi id="S4.E11.m1.3.3.1.1.1.1.3.3" xref="S4.E11.m1.3.3.1.1.1.1.3.3.cmml">u</mi><mo id="S4.E11.m1.3.3.1.1.1.1.3.2.3" xref="S4.E11.m1.3.3.1.1.1.1.3.2.3.cmml">+</mo></msubsup><mo id="S4.E11.m1.3.3.1.1.1.1.2" xref="S4.E11.m1.3.3.1.1.1.1.2.cmml">=</mo><mrow id="S4.E11.m1.3.3.1.1.1.1.1.1" xref="S4.E11.m1.3.3.1.1.1.1.1.2.cmml"><mo id="S4.E11.m1.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S4.E11.m1.3.3.1.1.1.1.1.2.1.cmml">{</mo><mi id="S4.E11.m1.1.1" xref="S4.E11.m1.1.1.cmml">i</mi><mo id="S4.E11.m1.3.3.1.1.1.1.1.1.3" lspace="0.170em" rspace="0.170em" xref="S4.E11.m1.3.3.1.1.1.1.1.2.1.cmml">|</mo><mrow id="S4.E11.m1.3.3.1.1.1.1.1.1.1" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.cmml"><mi id="S4.E11.m1.3.3.1.1.1.1.1.1.1.2" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.2.cmml">i</mi><mo id="S4.E11.m1.3.3.1.1.1.1.1.1.1.1" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.1.cmml">∈</mo><msub id="S4.E11.m1.3.3.1.1.1.1.1.1.1.3" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.2" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.2.cmml">ℛ</mi><mi id="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.3" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.3.cmml">u</mi></msub></mrow><mo id="S4.E11.m1.3.3.1.1.1.1.1.1.4" stretchy="false" xref="S4.E11.m1.3.3.1.1.1.1.1.2.1.cmml">}</mo></mrow></mrow><mo id="S4.E11.m1.3.3.1.1.2.3" rspace="1.167em" xref="S4.E11.m1.3.3.1.1.3a.cmml">,</mo><mrow id="S4.E11.m1.3.3.1.1.2.2" xref="S4.E11.m1.3.3.1.1.2.2.cmml"><msubsup id="S4.E11.m1.3.3.1.1.2.2.3" xref="S4.E11.m1.3.3.1.1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.3.3.1.1.2.2.3.2.2" xref="S4.E11.m1.3.3.1.1.2.2.3.2.2.cmml">𝒟</mi><mi id="S4.E11.m1.3.3.1.1.2.2.3.2.3" xref="S4.E11.m1.3.3.1.1.2.2.3.2.3.cmml">u</mi><mo id="S4.E11.m1.3.3.1.1.2.2.3.3" xref="S4.E11.m1.3.3.1.1.2.2.3.3.cmml">−</mo></msubsup><mo id="S4.E11.m1.3.3.1.1.2.2.2" xref="S4.E11.m1.3.3.1.1.2.2.2.cmml">=</mo><mrow id="S4.E11.m1.3.3.1.1.2.2.1.1" xref="S4.E11.m1.3.3.1.1.2.2.1.2.cmml"><mo id="S4.E11.m1.3.3.1.1.2.2.1.1.2" stretchy="false" xref="S4.E11.m1.3.3.1.1.2.2.1.2.1.cmml">{</mo><mi id="S4.E11.m1.2.2" xref="S4.E11.m1.2.2.cmml">j</mi><mo id="S4.E11.m1.3.3.1.1.2.2.1.1.3" lspace="0.170em" rspace="0.170em" xref="S4.E11.m1.3.3.1.1.2.2.1.2.1.cmml">|</mo><mrow id="S4.E11.m1.3.3.1.1.2.2.1.1.1" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.cmml"><mi id="S4.E11.m1.3.3.1.1.2.2.1.1.1.2" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.2.cmml">j</mi><mo id="S4.E11.m1.3.3.1.1.2.2.1.1.1.1" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.1.cmml">∈</mo><mrow id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.2" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.2.cmml">𝒱</mi><mo id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.1" lspace="0.222em" rspace="0.222em" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.1.cmml">\</mo><msub id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.2" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.2.cmml">ℛ</mi><mi id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.3" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.3.cmml">u</mi></msub></mrow></mrow><mo id="S4.E11.m1.3.3.1.1.2.2.1.1.4" stretchy="false" xref="S4.E11.m1.3.3.1.1.2.2.1.2.1.cmml">}</mo></mrow></mrow></mrow><mo id="S4.E11.m1.3.3.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E11.m1.3b"><apply id="S4.E11.m1.3.3.1.1.3.cmml" xref="S4.E11.m1.3.3.1.1.2"><csymbol cd="ambiguous" id="S4.E11.m1.3.3.1.1.3a.cmml" xref="S4.E11.m1.3.3.1.1.2.3">formulae-sequence</csymbol><apply id="S4.E11.m1.3.3.1.1.1.1.cmml" xref="S4.E11.m1.3.3.1.1.1.1"><eq id="S4.E11.m1.3.3.1.1.1.1.2.cmml" xref="S4.E11.m1.3.3.1.1.1.1.2"></eq><apply id="S4.E11.m1.3.3.1.1.1.1.3.cmml" xref="S4.E11.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E11.m1.3.3.1.1.1.1.3.1.cmml" xref="S4.E11.m1.3.3.1.1.1.1.3">subscript</csymbol><apply id="S4.E11.m1.3.3.1.1.1.1.3.2.cmml" xref="S4.E11.m1.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E11.m1.3.3.1.1.1.1.3.2.1.cmml" xref="S4.E11.m1.3.3.1.1.1.1.3">superscript</csymbol><ci id="S4.E11.m1.3.3.1.1.1.1.3.2.2.cmml" xref="S4.E11.m1.3.3.1.1.1.1.3.2.2">𝒟</ci><plus id="S4.E11.m1.3.3.1.1.1.1.3.2.3.cmml" xref="S4.E11.m1.3.3.1.1.1.1.3.2.3"></plus></apply><ci id="S4.E11.m1.3.3.1.1.1.1.3.3.cmml" xref="S4.E11.m1.3.3.1.1.1.1.3.3">𝑢</ci></apply><apply id="S4.E11.m1.3.3.1.1.1.1.1.2.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E11.m1.3.3.1.1.1.1.1.2.1.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1.2">conditional-set</csymbol><ci id="S4.E11.m1.1.1.cmml" xref="S4.E11.m1.1.1">𝑖</ci><apply id="S4.E11.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1"><in id="S4.E11.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.1"></in><ci id="S4.E11.m1.3.3.1.1.1.1.1.1.1.2.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.2">𝑖</ci><apply id="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.2">ℛ</ci><ci id="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E11.m1.3.3.1.1.1.1.1.1.1.3.3">𝑢</ci></apply></apply></apply></apply><apply id="S4.E11.m1.3.3.1.1.2.2.cmml" xref="S4.E11.m1.3.3.1.1.2.2"><eq id="S4.E11.m1.3.3.1.1.2.2.2.cmml" xref="S4.E11.m1.3.3.1.1.2.2.2"></eq><apply id="S4.E11.m1.3.3.1.1.2.2.3.cmml" xref="S4.E11.m1.3.3.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.E11.m1.3.3.1.1.2.2.3.1.cmml" xref="S4.E11.m1.3.3.1.1.2.2.3">superscript</csymbol><apply id="S4.E11.m1.3.3.1.1.2.2.3.2.cmml" xref="S4.E11.m1.3.3.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.E11.m1.3.3.1.1.2.2.3.2.1.cmml" xref="S4.E11.m1.3.3.1.1.2.2.3">subscript</csymbol><ci id="S4.E11.m1.3.3.1.1.2.2.3.2.2.cmml" xref="S4.E11.m1.3.3.1.1.2.2.3.2.2">𝒟</ci><ci id="S4.E11.m1.3.3.1.1.2.2.3.2.3.cmml" xref="S4.E11.m1.3.3.1.1.2.2.3.2.3">𝑢</ci></apply><minus id="S4.E11.m1.3.3.1.1.2.2.3.3.cmml" xref="S4.E11.m1.3.3.1.1.2.2.3.3"></minus></apply><apply id="S4.E11.m1.3.3.1.1.2.2.1.2.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1"><csymbol cd="latexml" id="S4.E11.m1.3.3.1.1.2.2.1.2.1.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.2">conditional-set</csymbol><ci id="S4.E11.m1.2.2.cmml" xref="S4.E11.m1.2.2">𝑗</ci><apply id="S4.E11.m1.3.3.1.1.2.2.1.1.1.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1"><in id="S4.E11.m1.3.3.1.1.2.2.1.1.1.1.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.1"></in><ci id="S4.E11.m1.3.3.1.1.2.2.1.1.1.2.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.2">𝑗</ci><apply id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3"><ci id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.1.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.1">\</ci><ci id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.2.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.2">𝒱</ci><apply id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.1.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3">subscript</csymbol><ci id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.2.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.2">ℛ</ci><ci id="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.3.cmml" xref="S4.E11.m1.3.3.1.1.2.2.1.1.1.3.3.3">𝑢</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E11.m1.3c">\mathcal{D}^{+}_{u}=\{i\,|\,i\in\mathcal{R}_{u}\},\quad\mathcal{D}_{u}^{-}=\{j%
\,|\,j\in\mathcal{V}\backslash\mathcal{R}_{u}\},</annotation><annotation encoding="application/x-llamapun" id="S4.E11.m1.3d">caligraphic_D start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = { italic_i | italic_i ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT } , caligraphic_D start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT = { italic_j | italic_j ∈ caligraphic_V \ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT } ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(11)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.p2.11">where <math alttext="\mathcal{R}_{u}" class="ltx_Math" display="inline" id="S4.SS3.p2.1.m1.1"><semantics id="S4.SS3.p2.1.m1.1a"><msub id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.1.m1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.2.cmml">ℛ</mi><mi id="S4.SS3.p2.1.m1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2">ℛ</ci><ci id="S4.SS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">\mathcal{R}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.1.m1.1d">caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> is the product set that consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS3.p2.2.m2.1"><semantics id="S4.SS3.p2.2.m2.1a"><mi id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><ci id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.2.m2.1d">italic_u</annotation></semantics></math> has interacted with, <math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="S4.SS3.p2.3.m3.1"><semantics id="S4.SS3.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><ci id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.3.m3.1d">caligraphic_V</annotation></semantics></math> is the entire product set, and the math symbol “<math alttext="\backslash" class="ltx_Math" display="inline" id="S4.SS3.p2.4.m4.1"><semantics id="S4.SS3.p2.4.m4.1a"><mo id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml">\</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><ci id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1">\</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">\backslash</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.4.m4.1d">\</annotation></semantics></math>” is the operator for complementary set. Suppose there are two products <math alttext="i" class="ltx_Math" display="inline" id="S4.SS3.p2.5.m5.1"><semantics id="S4.SS3.p2.5.m5.1a"><mi id="S4.SS3.p2.5.m5.1.1" xref="S4.SS3.p2.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m5.1b"><ci id="S4.SS3.p2.5.m5.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m5.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.5.m5.1d">italic_i</annotation></semantics></math> and <math alttext="j" class="ltx_Math" display="inline" id="S4.SS3.p2.6.m6.1"><semantics id="S4.SS3.p2.6.m6.1a"><mi id="S4.SS3.p2.6.m6.1.1" xref="S4.SS3.p2.6.m6.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.6.m6.1b"><ci id="S4.SS3.p2.6.m6.1.1.cmml" xref="S4.SS3.p2.6.m6.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.6.m6.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.6.m6.1d">italic_j</annotation></semantics></math>, and consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS3.p2.7.m7.1"><semantics id="S4.SS3.p2.7.m7.1a"><mi id="S4.SS3.p2.7.m7.1.1" xref="S4.SS3.p2.7.m7.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.7.m7.1b"><ci id="S4.SS3.p2.7.m7.1.1.cmml" xref="S4.SS3.p2.7.m7.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.7.m7.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.7.m7.1d">italic_u</annotation></semantics></math> purchases product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS3.p2.8.m8.1"><semantics id="S4.SS3.p2.8.m8.1a"><mi id="S4.SS3.p2.8.m8.1.1" xref="S4.SS3.p2.8.m8.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.8.m8.1b"><ci id="S4.SS3.p2.8.m8.1.1.cmml" xref="S4.SS3.p2.8.m8.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.8.m8.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.8.m8.1d">italic_i</annotation></semantics></math> but misses product <math alttext="j" class="ltx_Math" display="inline" id="S4.SS3.p2.9.m9.1"><semantics id="S4.SS3.p2.9.m9.1a"><mi id="S4.SS3.p2.9.m9.1.1" xref="S4.SS3.p2.9.m9.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.9.m9.1b"><ci id="S4.SS3.p2.9.m9.1.1.cmml" xref="S4.SS3.p2.9.m9.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.9.m9.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.9.m9.1d">italic_j</annotation></semantics></math>. The partial relationship of consumer preference over the two products can be defined as <math alttext="i\textgreater_{u}j" class="ltx_Math" display="inline" id="S4.SS3.p2.10.m10.1"><semantics id="S4.SS3.p2.10.m10.1a"><mrow id="S4.SS3.p2.10.m10.1.1" xref="S4.SS3.p2.10.m10.1.1.cmml"><mi id="S4.SS3.p2.10.m10.1.1.2" xref="S4.SS3.p2.10.m10.1.1.2.cmml">i</mi><msub id="S4.SS3.p2.10.m10.1.1.1" xref="S4.SS3.p2.10.m10.1.1.1.cmml"><mo id="S4.SS3.p2.10.m10.1.1.1.2" xref="S4.SS3.p2.10.m10.1.1.1.2.cmml">&gt;</mo><mi id="S4.SS3.p2.10.m10.1.1.1.3" xref="S4.SS3.p2.10.m10.1.1.1.3.cmml">u</mi></msub><mi id="S4.SS3.p2.10.m10.1.1.3" xref="S4.SS3.p2.10.m10.1.1.3.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.10.m10.1b"><apply id="S4.SS3.p2.10.m10.1.1.cmml" xref="S4.SS3.p2.10.m10.1.1"><apply id="S4.SS3.p2.10.m10.1.1.1.cmml" xref="S4.SS3.p2.10.m10.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.10.m10.1.1.1.1.cmml" xref="S4.SS3.p2.10.m10.1.1.1">subscript</csymbol><gt id="S4.SS3.p2.10.m10.1.1.1.2.cmml" xref="S4.SS3.p2.10.m10.1.1.1.2"></gt><ci id="S4.SS3.p2.10.m10.1.1.1.3.cmml" xref="S4.SS3.p2.10.m10.1.1.1.3">𝑢</ci></apply><ci id="S4.SS3.p2.10.m10.1.1.2.cmml" xref="S4.SS3.p2.10.m10.1.1.2">𝑖</ci><ci id="S4.SS3.p2.10.m10.1.1.3.cmml" xref="S4.SS3.p2.10.m10.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.10.m10.1c">i\textgreater_{u}j</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.10.m10.1d">italic_i &gt; start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT italic_j</annotation></semantics></math> in BPR, where “<math alttext="\textgreater_{u}" class="ltx_Math" display="inline" id="S4.SS3.p2.11.m11.1"><semantics id="S4.SS3.p2.11.m11.1a"><msub id="S4.SS3.p2.11.m11.1.1" xref="S4.SS3.p2.11.m11.1.1.cmml"><mo id="S4.SS3.p2.11.m11.1.1.2" xref="S4.SS3.p2.11.m11.1.1.2.cmml">&gt;</mo><mi id="S4.SS3.p2.11.m11.1.1.3" xref="S4.SS3.p2.11.m11.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.11.m11.1b"><apply id="S4.SS3.p2.11.m11.1.1.cmml" xref="S4.SS3.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.11.m11.1.1.1.cmml" xref="S4.SS3.p2.11.m11.1.1">subscript</csymbol><gt id="S4.SS3.p2.11.m11.1.1.2.cmml" xref="S4.SS3.p2.11.m11.1.1.2"></gt><ci id="S4.SS3.p2.11.m11.1.1.3.cmml" xref="S4.SS3.p2.11.m11.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.11.m11.1c">\textgreater_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.11.m11.1d">&gt; start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>” indicates the personalized ranking structure satisfying the following inequality:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E12">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="i\textgreater_{u}j\,\Rightarrow\,r_{u,i}\textgreater r_{u,j}." class="ltx_Math" display="block" id="S4.E12.m1.5"><semantics id="S4.E12.m1.5a"><mrow id="S4.E12.m1.5.5.1" xref="S4.E12.m1.5.5.1.1.cmml"><mrow id="S4.E12.m1.5.5.1.1" xref="S4.E12.m1.5.5.1.1.cmml"><mi id="S4.E12.m1.5.5.1.1.2" xref="S4.E12.m1.5.5.1.1.2.cmml">i</mi><msub id="S4.E12.m1.5.5.1.1.3" xref="S4.E12.m1.5.5.1.1.3.cmml"><mo id="S4.E12.m1.5.5.1.1.3.2" xref="S4.E12.m1.5.5.1.1.3.2.cmml">&gt;</mo><mi id="S4.E12.m1.5.5.1.1.3.3" xref="S4.E12.m1.5.5.1.1.3.3.cmml">u</mi></msub><mi id="S4.E12.m1.5.5.1.1.4" xref="S4.E12.m1.5.5.1.1.4.cmml">j</mi><mo id="S4.E12.m1.5.5.1.1.5" lspace="0.448em" rspace="0.448em" stretchy="false" xref="S4.E12.m1.5.5.1.1.5.cmml">⇒</mo><msub id="S4.E12.m1.5.5.1.1.6" xref="S4.E12.m1.5.5.1.1.6.cmml"><mi id="S4.E12.m1.5.5.1.1.6.2" xref="S4.E12.m1.5.5.1.1.6.2.cmml">r</mi><mrow id="S4.E12.m1.2.2.2.4" xref="S4.E12.m1.2.2.2.3.cmml"><mi id="S4.E12.m1.1.1.1.1" xref="S4.E12.m1.1.1.1.1.cmml">u</mi><mo id="S4.E12.m1.2.2.2.4.1" xref="S4.E12.m1.2.2.2.3.cmml">,</mo><mi id="S4.E12.m1.2.2.2.2" xref="S4.E12.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S4.E12.m1.5.5.1.1.7" xref="S4.E12.m1.5.5.1.1.7.cmml">&gt;</mo><msub id="S4.E12.m1.5.5.1.1.8" xref="S4.E12.m1.5.5.1.1.8.cmml"><mi id="S4.E12.m1.5.5.1.1.8.2" xref="S4.E12.m1.5.5.1.1.8.2.cmml">r</mi><mrow id="S4.E12.m1.4.4.2.4" xref="S4.E12.m1.4.4.2.3.cmml"><mi id="S4.E12.m1.3.3.1.1" xref="S4.E12.m1.3.3.1.1.cmml">u</mi><mo id="S4.E12.m1.4.4.2.4.1" xref="S4.E12.m1.4.4.2.3.cmml">,</mo><mi id="S4.E12.m1.4.4.2.2" xref="S4.E12.m1.4.4.2.2.cmml">j</mi></mrow></msub></mrow><mo id="S4.E12.m1.5.5.1.2" lspace="0em" xref="S4.E12.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E12.m1.5b"><apply id="S4.E12.m1.5.5.1.1.cmml" xref="S4.E12.m1.5.5.1"><and id="S4.E12.m1.5.5.1.1a.cmml" xref="S4.E12.m1.5.5.1"></and><apply id="S4.E12.m1.5.5.1.1b.cmml" xref="S4.E12.m1.5.5.1"><apply id="S4.E12.m1.5.5.1.1.3.cmml" xref="S4.E12.m1.5.5.1.1.3"><csymbol cd="ambiguous" id="S4.E12.m1.5.5.1.1.3.1.cmml" xref="S4.E12.m1.5.5.1.1.3">subscript</csymbol><gt id="S4.E12.m1.5.5.1.1.3.2.cmml" xref="S4.E12.m1.5.5.1.1.3.2"></gt><ci id="S4.E12.m1.5.5.1.1.3.3.cmml" xref="S4.E12.m1.5.5.1.1.3.3">𝑢</ci></apply><ci id="S4.E12.m1.5.5.1.1.2.cmml" xref="S4.E12.m1.5.5.1.1.2">𝑖</ci><ci id="S4.E12.m1.5.5.1.1.4.cmml" xref="S4.E12.m1.5.5.1.1.4">𝑗</ci></apply><apply id="S4.E12.m1.5.5.1.1c.cmml" xref="S4.E12.m1.5.5.1"><ci id="S4.E12.m1.5.5.1.1.5.cmml" xref="S4.E12.m1.5.5.1.1.5">⇒</ci><share href="https://arxiv.org/html/2408.11302v1#S4.E12.m1.5.5.1.1.4.cmml" id="S4.E12.m1.5.5.1.1d.cmml" xref="S4.E12.m1.5.5.1"></share><apply id="S4.E12.m1.5.5.1.1.6.cmml" xref="S4.E12.m1.5.5.1.1.6"><csymbol cd="ambiguous" id="S4.E12.m1.5.5.1.1.6.1.cmml" xref="S4.E12.m1.5.5.1.1.6">subscript</csymbol><ci id="S4.E12.m1.5.5.1.1.6.2.cmml" xref="S4.E12.m1.5.5.1.1.6.2">𝑟</ci><list id="S4.E12.m1.2.2.2.3.cmml" xref="S4.E12.m1.2.2.2.4"><ci id="S4.E12.m1.1.1.1.1.cmml" xref="S4.E12.m1.1.1.1.1">𝑢</ci><ci id="S4.E12.m1.2.2.2.2.cmml" xref="S4.E12.m1.2.2.2.2">𝑖</ci></list></apply></apply><apply id="S4.E12.m1.5.5.1.1e.cmml" xref="S4.E12.m1.5.5.1"><gt id="S4.E12.m1.5.5.1.1.7.cmml" xref="S4.E12.m1.5.5.1.1.7"></gt><share href="https://arxiv.org/html/2408.11302v1#S4.E12.m1.5.5.1.1.6.cmml" id="S4.E12.m1.5.5.1.1f.cmml" xref="S4.E12.m1.5.5.1"></share><apply id="S4.E12.m1.5.5.1.1.8.cmml" xref="S4.E12.m1.5.5.1.1.8"><csymbol cd="ambiguous" id="S4.E12.m1.5.5.1.1.8.1.cmml" xref="S4.E12.m1.5.5.1.1.8">subscript</csymbol><ci id="S4.E12.m1.5.5.1.1.8.2.cmml" xref="S4.E12.m1.5.5.1.1.8.2">𝑟</ci><list id="S4.E12.m1.4.4.2.3.cmml" xref="S4.E12.m1.4.4.2.4"><ci id="S4.E12.m1.3.3.1.1.cmml" xref="S4.E12.m1.3.3.1.1">𝑢</ci><ci id="S4.E12.m1.4.4.2.2.cmml" xref="S4.E12.m1.4.4.2.2">𝑗</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E12.m1.5c">i\textgreater_{u}j\,\Rightarrow\,r_{u,i}\textgreater r_{u,j}.</annotation><annotation encoding="application/x-llamapun" id="S4.E12.m1.5d">italic_i &gt; start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT italic_j ⇒ italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT &gt; italic_r start_POSTSUBSCRIPT italic_u , italic_j end_POSTSUBSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(12)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.2">The overall objective function for representation learning can be formulated as maximizing the utility difference between the positive products sampled from <math alttext="\mathcal{D}^{+}_{u}" class="ltx_Math" display="inline" id="S4.SS3.p3.1.m1.1"><semantics id="S4.SS3.p3.1.m1.1a"><msubsup id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p3.1.m1.1.1.2.2" xref="S4.SS3.p3.1.m1.1.1.2.2.cmml">𝒟</mi><mi id="S4.SS3.p3.1.m1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.3.cmml">u</mi><mo id="S4.SS3.p3.1.m1.1.1.2.3" xref="S4.SS3.p3.1.m1.1.1.2.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><apply id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.1.m1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">subscript</csymbol><apply id="S4.SS3.p3.1.m1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.1.m1.1.1.2.1.cmml" xref="S4.SS3.p3.1.m1.1.1">superscript</csymbol><ci id="S4.SS3.p3.1.m1.1.1.2.2.cmml" xref="S4.SS3.p3.1.m1.1.1.2.2">𝒟</ci><plus id="S4.SS3.p3.1.m1.1.1.2.3.cmml" xref="S4.SS3.p3.1.m1.1.1.2.3"></plus></apply><ci id="S4.SS3.p3.1.m1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">\mathcal{D}^{+}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.1.m1.1d">caligraphic_D start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and the negative products sampled from <math alttext="\mathcal{D}^{-}_{u}" class="ltx_Math" display="inline" id="S4.SS3.p3.2.m2.1"><semantics id="S4.SS3.p3.2.m2.1a"><msubsup id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p3.2.m2.1.1.2.2" xref="S4.SS3.p3.2.m2.1.1.2.2.cmml">𝒟</mi><mi id="S4.SS3.p3.2.m2.1.1.3" xref="S4.SS3.p3.2.m2.1.1.3.cmml">u</mi><mo id="S4.SS3.p3.2.m2.1.1.2.3" xref="S4.SS3.p3.2.m2.1.1.2.3.cmml">−</mo></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><apply id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1">subscript</csymbol><apply id="S4.SS3.p3.2.m2.1.1.2.cmml" xref="S4.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.1.2.1.cmml" xref="S4.SS3.p3.2.m2.1.1">superscript</csymbol><ci id="S4.SS3.p3.2.m2.1.1.2.2.cmml" xref="S4.SS3.p3.2.m2.1.1.2.2">𝒟</ci><minus id="S4.SS3.p3.2.m2.1.1.2.3.cmml" xref="S4.SS3.p3.2.m2.1.1.2.3"></minus></apply><ci id="S4.SS3.p3.2.m2.1.1.3.cmml" xref="S4.SS3.p3.2.m2.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">\mathcal{D}^{-}_{u}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.2.m2.1d">caligraphic_D start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>, which is given by</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E13">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}=\sum_{u\in\mathcal{U}}\sum_{\begin{subarray}{c}i\in\mathcal{D}_{u}%
^{+},\ j\in\mathcal{D}_{u}^{-}\end{subarray}}\log\sigma\left(r_{u,i}-r_{u,j}%
\right)," class="ltx_Math" display="block" id="S4.E13.m1.6"><semantics id="S4.E13.m1.6a"><mrow id="S4.E13.m1.6.6.1" xref="S4.E13.m1.6.6.1.1.cmml"><mrow id="S4.E13.m1.6.6.1.1" xref="S4.E13.m1.6.6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.6.6.1.1.3" xref="S4.E13.m1.6.6.1.1.3.cmml">ℒ</mi><mo id="S4.E13.m1.6.6.1.1.2" rspace="0.111em" xref="S4.E13.m1.6.6.1.1.2.cmml">=</mo><mrow id="S4.E13.m1.6.6.1.1.1" xref="S4.E13.m1.6.6.1.1.1.cmml"><munder id="S4.E13.m1.6.6.1.1.1.2" xref="S4.E13.m1.6.6.1.1.1.2.cmml"><mo id="S4.E13.m1.6.6.1.1.1.2.2" movablelimits="false" rspace="0em" xref="S4.E13.m1.6.6.1.1.1.2.2.cmml">∑</mo><mrow id="S4.E13.m1.6.6.1.1.1.2.3" xref="S4.E13.m1.6.6.1.1.1.2.3.cmml"><mi id="S4.E13.m1.6.6.1.1.1.2.3.2" xref="S4.E13.m1.6.6.1.1.1.2.3.2.cmml">u</mi><mo id="S4.E13.m1.6.6.1.1.1.2.3.1" xref="S4.E13.m1.6.6.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.6.6.1.1.1.2.3.3" xref="S4.E13.m1.6.6.1.1.1.2.3.3.cmml">𝒰</mi></mrow></munder><mrow id="S4.E13.m1.6.6.1.1.1.1" xref="S4.E13.m1.6.6.1.1.1.1.cmml"><munder id="S4.E13.m1.6.6.1.1.1.1.2" xref="S4.E13.m1.6.6.1.1.1.1.2.cmml"><mo id="S4.E13.m1.6.6.1.1.1.1.2.2" movablelimits="false" xref="S4.E13.m1.6.6.1.1.1.1.2.2.cmml">∑</mo><mtable id="S4.E13.m1.1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.2.cmml"><mtr id="S4.E13.m1.1.1.1.1.1.1a" xref="S4.E13.m1.1.1.1.2.cmml"><mtd id="S4.E13.m1.1.1.1.1.1.1b" xref="S4.E13.m1.1.1.1.2.cmml"><mrow id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.3.cmml"><mrow id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">i</mi><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">∈</mo><msubsup id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">𝒟</mi><mi id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.3" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml">u</mi><mo id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">+</mo></msubsup></mrow><mo id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.3" rspace="0.517em" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.3a.cmml">,</mo><mrow id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml"><mi id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.2" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.cmml">j</mi><mo id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.1" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.1.cmml">∈</mo><msubsup id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.2" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.2.cmml">𝒟</mi><mi id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.3" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.3.cmml">u</mi><mo id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.3" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.3.cmml">−</mo></msubsup></mrow></mrow></mtd></mtr></mtable></munder><mrow id="S4.E13.m1.6.6.1.1.1.1.1" xref="S4.E13.m1.6.6.1.1.1.1.1.cmml"><mrow id="S4.E13.m1.6.6.1.1.1.1.1.3" xref="S4.E13.m1.6.6.1.1.1.1.1.3.cmml"><mi id="S4.E13.m1.6.6.1.1.1.1.1.3.1" xref="S4.E13.m1.6.6.1.1.1.1.1.3.1.cmml">log</mi><mo id="S4.E13.m1.6.6.1.1.1.1.1.3a" lspace="0.167em" xref="S4.E13.m1.6.6.1.1.1.1.1.3.cmml">⁡</mo><mi id="S4.E13.m1.6.6.1.1.1.1.1.3.2" xref="S4.E13.m1.6.6.1.1.1.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.E13.m1.6.6.1.1.1.1.1.2" xref="S4.E13.m1.6.6.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E13.m1.6.6.1.1.1.1.1.1.1" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E13.m1.6.6.1.1.1.1.1.1.1.2" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.cmml"><msub id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2.2" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2.2.cmml">r</mi><mrow id="S4.E13.m1.3.3.2.4" xref="S4.E13.m1.3.3.2.3.cmml"><mi id="S4.E13.m1.2.2.1.1" xref="S4.E13.m1.2.2.1.1.cmml">u</mi><mo id="S4.E13.m1.3.3.2.4.1" xref="S4.E13.m1.3.3.2.3.cmml">,</mo><mi id="S4.E13.m1.3.3.2.2" xref="S4.E13.m1.3.3.2.2.cmml">i</mi></mrow></msub><mo id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3.2" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml">r</mi><mrow id="S4.E13.m1.5.5.2.4" xref="S4.E13.m1.5.5.2.3.cmml"><mi id="S4.E13.m1.4.4.1.1" xref="S4.E13.m1.4.4.1.1.cmml">u</mi><mo id="S4.E13.m1.5.5.2.4.1" xref="S4.E13.m1.5.5.2.3.cmml">,</mo><mi id="S4.E13.m1.5.5.2.2" xref="S4.E13.m1.5.5.2.2.cmml">j</mi></mrow></msub></mrow><mo id="S4.E13.m1.6.6.1.1.1.1.1.1.1.3" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S4.E13.m1.6.6.1.2" xref="S4.E13.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E13.m1.6b"><apply id="S4.E13.m1.6.6.1.1.cmml" xref="S4.E13.m1.6.6.1"><eq id="S4.E13.m1.6.6.1.1.2.cmml" xref="S4.E13.m1.6.6.1.1.2"></eq><ci id="S4.E13.m1.6.6.1.1.3.cmml" xref="S4.E13.m1.6.6.1.1.3">ℒ</ci><apply id="S4.E13.m1.6.6.1.1.1.cmml" xref="S4.E13.m1.6.6.1.1.1"><apply id="S4.E13.m1.6.6.1.1.1.2.cmml" xref="S4.E13.m1.6.6.1.1.1.2"><csymbol cd="ambiguous" id="S4.E13.m1.6.6.1.1.1.2.1.cmml" xref="S4.E13.m1.6.6.1.1.1.2">subscript</csymbol><sum id="S4.E13.m1.6.6.1.1.1.2.2.cmml" xref="S4.E13.m1.6.6.1.1.1.2.2"></sum><apply id="S4.E13.m1.6.6.1.1.1.2.3.cmml" xref="S4.E13.m1.6.6.1.1.1.2.3"><in id="S4.E13.m1.6.6.1.1.1.2.3.1.cmml" xref="S4.E13.m1.6.6.1.1.1.2.3.1"></in><ci id="S4.E13.m1.6.6.1.1.1.2.3.2.cmml" xref="S4.E13.m1.6.6.1.1.1.2.3.2">𝑢</ci><ci id="S4.E13.m1.6.6.1.1.1.2.3.3.cmml" xref="S4.E13.m1.6.6.1.1.1.2.3.3">𝒰</ci></apply></apply><apply id="S4.E13.m1.6.6.1.1.1.1.cmml" xref="S4.E13.m1.6.6.1.1.1.1"><apply id="S4.E13.m1.6.6.1.1.1.1.2.cmml" xref="S4.E13.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E13.m1.6.6.1.1.1.1.2.1.cmml" xref="S4.E13.m1.6.6.1.1.1.1.2">subscript</csymbol><sum id="S4.E13.m1.6.6.1.1.1.1.2.2.cmml" xref="S4.E13.m1.6.6.1.1.1.1.2.2"></sum><list id="S4.E13.m1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1"><matrix id="S4.E13.m1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1"><matrixrow id="S4.E13.m1.1.1.1.1.1.1a.cmml" xref="S4.E13.m1.1.1.1.1.1.1"><apply id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.3a.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1"><in id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.1"></in><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑖</ci><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.2">𝒟</ci><ci id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.3">𝑢</ci></apply><plus id="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.3"></plus></apply></apply><apply id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2"><in id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.1"></in><ci id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.2">𝑗</ci><apply id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3">superscript</csymbol><apply id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.1.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3">subscript</csymbol><ci id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.2.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.2">𝒟</ci><ci id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.2.3">𝑢</ci></apply><minus id="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.3.cmml" xref="S4.E13.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.3"></minus></apply></apply></apply></matrixrow></matrix></list></apply><apply id="S4.E13.m1.6.6.1.1.1.1.1.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1"><times id="S4.E13.m1.6.6.1.1.1.1.1.2.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.2"></times><apply id="S4.E13.m1.6.6.1.1.1.1.1.3.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.3"><log id="S4.E13.m1.6.6.1.1.1.1.1.3.1.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.3.1"></log><ci id="S4.E13.m1.6.6.1.1.1.1.1.3.2.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.3.2">𝜎</ci></apply><apply id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1"><minus id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.1"></minus><apply id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.2.2">𝑟</ci><list id="S4.E13.m1.3.3.2.3.cmml" xref="S4.E13.m1.3.3.2.4"><ci id="S4.E13.m1.2.2.1.1.cmml" xref="S4.E13.m1.2.2.1.1">𝑢</ci><ci id="S4.E13.m1.3.3.2.2.cmml" xref="S4.E13.m1.3.3.2.2">𝑖</ci></list></apply><apply id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E13.m1.6.6.1.1.1.1.1.1.1.1.3.2">𝑟</ci><list id="S4.E13.m1.5.5.2.3.cmml" xref="S4.E13.m1.5.5.2.4"><ci id="S4.E13.m1.4.4.1.1.cmml" xref="S4.E13.m1.4.4.1.1">𝑢</ci><ci id="S4.E13.m1.5.5.2.2.cmml" xref="S4.E13.m1.5.5.2.2">𝑗</ci></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E13.m1.6c">\mathcal{L}=\sum_{u\in\mathcal{U}}\sum_{\begin{subarray}{c}i\in\mathcal{D}_{u}%
^{+},\ j\in\mathcal{D}_{u}^{-}\end{subarray}}\log\sigma\left(r_{u,i}-r_{u,j}%
\right),</annotation><annotation encoding="application/x-llamapun" id="S4.E13.m1.6d">caligraphic_L = ∑ start_POSTSUBSCRIPT italic_u ∈ caligraphic_U end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT start_ARG start_ROW start_CELL italic_i ∈ caligraphic_D start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT , italic_j ∈ caligraphic_D start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT end_CELL end_ROW end_ARG end_POSTSUBSCRIPT roman_log italic_σ ( italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT - italic_r start_POSTSUBSCRIPT italic_u , italic_j end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.p3.6">where <math alttext="\sigma(x)" class="ltx_Math" display="inline" id="S4.SS3.p3.3.m1.1"><semantics id="S4.SS3.p3.3.m1.1a"><mrow id="S4.SS3.p3.3.m1.1.2" xref="S4.SS3.p3.3.m1.1.2.cmml"><mi id="S4.SS3.p3.3.m1.1.2.2" xref="S4.SS3.p3.3.m1.1.2.2.cmml">σ</mi><mo id="S4.SS3.p3.3.m1.1.2.1" xref="S4.SS3.p3.3.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS3.p3.3.m1.1.2.3.2" xref="S4.SS3.p3.3.m1.1.2.cmml"><mo id="S4.SS3.p3.3.m1.1.2.3.2.1" stretchy="false" xref="S4.SS3.p3.3.m1.1.2.cmml">(</mo><mi id="S4.SS3.p3.3.m1.1.1" xref="S4.SS3.p3.3.m1.1.1.cmml">x</mi><mo id="S4.SS3.p3.3.m1.1.2.3.2.2" stretchy="false" xref="S4.SS3.p3.3.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.3.m1.1b"><apply id="S4.SS3.p3.3.m1.1.2.cmml" xref="S4.SS3.p3.3.m1.1.2"><times id="S4.SS3.p3.3.m1.1.2.1.cmml" xref="S4.SS3.p3.3.m1.1.2.1"></times><ci id="S4.SS3.p3.3.m1.1.2.2.cmml" xref="S4.SS3.p3.3.m1.1.2.2">𝜎</ci><ci id="S4.SS3.p3.3.m1.1.1.cmml" xref="S4.SS3.p3.3.m1.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.3.m1.1c">\sigma(x)</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.3.m1.1d">italic_σ ( italic_x )</annotation></semantics></math> is a sigmoid transformation, <em class="ltx_emph ltx_font_italic" id="S4.SS3.p3.6.1">i.e.</em>, <math alttext="\sigma(x)=\frac{1}{1+\exp(-x)}" class="ltx_Math" display="inline" id="S4.SS3.p3.4.m2.3"><semantics id="S4.SS3.p3.4.m2.3a"><mrow id="S4.SS3.p3.4.m2.3.4" xref="S4.SS3.p3.4.m2.3.4.cmml"><mrow id="S4.SS3.p3.4.m2.3.4.2" xref="S4.SS3.p3.4.m2.3.4.2.cmml"><mi id="S4.SS3.p3.4.m2.3.4.2.2" xref="S4.SS3.p3.4.m2.3.4.2.2.cmml">σ</mi><mo id="S4.SS3.p3.4.m2.3.4.2.1" xref="S4.SS3.p3.4.m2.3.4.2.1.cmml">⁢</mo><mrow id="S4.SS3.p3.4.m2.3.4.2.3.2" xref="S4.SS3.p3.4.m2.3.4.2.cmml"><mo id="S4.SS3.p3.4.m2.3.4.2.3.2.1" stretchy="false" xref="S4.SS3.p3.4.m2.3.4.2.cmml">(</mo><mi id="S4.SS3.p3.4.m2.3.3" xref="S4.SS3.p3.4.m2.3.3.cmml">x</mi><mo id="S4.SS3.p3.4.m2.3.4.2.3.2.2" stretchy="false" xref="S4.SS3.p3.4.m2.3.4.2.cmml">)</mo></mrow></mrow><mo id="S4.SS3.p3.4.m2.3.4.1" xref="S4.SS3.p3.4.m2.3.4.1.cmml">=</mo><mfrac id="S4.SS3.p3.4.m2.2.2" xref="S4.SS3.p3.4.m2.2.2.cmml"><mn id="S4.SS3.p3.4.m2.2.2.4" xref="S4.SS3.p3.4.m2.2.2.4.cmml">1</mn><mrow id="S4.SS3.p3.4.m2.2.2.2" xref="S4.SS3.p3.4.m2.2.2.2.cmml"><mn id="S4.SS3.p3.4.m2.2.2.2.4" xref="S4.SS3.p3.4.m2.2.2.2.4.cmml">1</mn><mo id="S4.SS3.p3.4.m2.2.2.2.3" xref="S4.SS3.p3.4.m2.2.2.2.3.cmml">+</mo><mrow id="S4.SS3.p3.4.m2.2.2.2.2.1" xref="S4.SS3.p3.4.m2.2.2.2.2.2.cmml"><mi id="S4.SS3.p3.4.m2.1.1.1.1" xref="S4.SS3.p3.4.m2.1.1.1.1.cmml">exp</mi><mo id="S4.SS3.p3.4.m2.2.2.2.2.1a" xref="S4.SS3.p3.4.m2.2.2.2.2.2.cmml">⁡</mo><mrow id="S4.SS3.p3.4.m2.2.2.2.2.1.1" xref="S4.SS3.p3.4.m2.2.2.2.2.2.cmml"><mo id="S4.SS3.p3.4.m2.2.2.2.2.1.1.2" stretchy="false" xref="S4.SS3.p3.4.m2.2.2.2.2.2.cmml">(</mo><mrow id="S4.SS3.p3.4.m2.2.2.2.2.1.1.1" xref="S4.SS3.p3.4.m2.2.2.2.2.1.1.1.cmml"><mo id="S4.SS3.p3.4.m2.2.2.2.2.1.1.1a" xref="S4.SS3.p3.4.m2.2.2.2.2.1.1.1.cmml">−</mo><mi id="S4.SS3.p3.4.m2.2.2.2.2.1.1.1.2" xref="S4.SS3.p3.4.m2.2.2.2.2.1.1.1.2.cmml">x</mi></mrow><mo id="S4.SS3.p3.4.m2.2.2.2.2.1.1.3" stretchy="false" xref="S4.SS3.p3.4.m2.2.2.2.2.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.4.m2.3b"><apply id="S4.SS3.p3.4.m2.3.4.cmml" xref="S4.SS3.p3.4.m2.3.4"><eq id="S4.SS3.p3.4.m2.3.4.1.cmml" xref="S4.SS3.p3.4.m2.3.4.1"></eq><apply id="S4.SS3.p3.4.m2.3.4.2.cmml" xref="S4.SS3.p3.4.m2.3.4.2"><times id="S4.SS3.p3.4.m2.3.4.2.1.cmml" xref="S4.SS3.p3.4.m2.3.4.2.1"></times><ci id="S4.SS3.p3.4.m2.3.4.2.2.cmml" xref="S4.SS3.p3.4.m2.3.4.2.2">𝜎</ci><ci id="S4.SS3.p3.4.m2.3.3.cmml" xref="S4.SS3.p3.4.m2.3.3">𝑥</ci></apply><apply id="S4.SS3.p3.4.m2.2.2.cmml" xref="S4.SS3.p3.4.m2.2.2"><divide id="S4.SS3.p3.4.m2.2.2.3.cmml" xref="S4.SS3.p3.4.m2.2.2"></divide><cn id="S4.SS3.p3.4.m2.2.2.4.cmml" type="integer" xref="S4.SS3.p3.4.m2.2.2.4">1</cn><apply id="S4.SS3.p3.4.m2.2.2.2.cmml" xref="S4.SS3.p3.4.m2.2.2.2"><plus id="S4.SS3.p3.4.m2.2.2.2.3.cmml" xref="S4.SS3.p3.4.m2.2.2.2.3"></plus><cn id="S4.SS3.p3.4.m2.2.2.2.4.cmml" type="integer" xref="S4.SS3.p3.4.m2.2.2.2.4">1</cn><apply id="S4.SS3.p3.4.m2.2.2.2.2.2.cmml" xref="S4.SS3.p3.4.m2.2.2.2.2.1"><exp id="S4.SS3.p3.4.m2.1.1.1.1.cmml" xref="S4.SS3.p3.4.m2.1.1.1.1"></exp><apply id="S4.SS3.p3.4.m2.2.2.2.2.1.1.1.cmml" xref="S4.SS3.p3.4.m2.2.2.2.2.1.1.1"><minus id="S4.SS3.p3.4.m2.2.2.2.2.1.1.1.1.cmml" xref="S4.SS3.p3.4.m2.2.2.2.2.1.1.1"></minus><ci id="S4.SS3.p3.4.m2.2.2.2.2.1.1.1.2.cmml" xref="S4.SS3.p3.4.m2.2.2.2.2.1.1.1.2">𝑥</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.4.m2.3c">\sigma(x)=\frac{1}{1+\exp(-x)}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.4.m2.3d">italic_σ ( italic_x ) = divide start_ARG 1 end_ARG start_ARG 1 + roman_exp ( - italic_x ) end_ARG</annotation></semantics></math>.
Apart from the objective function defined in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E13" title="In 4.3 Ranking-based Recommendation and Model Optimization ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">13</span></a>), we also apply another commonly adopted <math alttext="L_{2}" class="ltx_Math" display="inline" id="S4.SS3.p3.5.m3.1"><semantics id="S4.SS3.p3.5.m3.1a"><msub id="S4.SS3.p3.5.m3.1.1" xref="S4.SS3.p3.5.m3.1.1.cmml"><mi id="S4.SS3.p3.5.m3.1.1.2" xref="S4.SS3.p3.5.m3.1.1.2.cmml">L</mi><mn id="S4.SS3.p3.5.m3.1.1.3" xref="S4.SS3.p3.5.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.5.m3.1b"><apply id="S4.SS3.p3.5.m3.1.1.cmml" xref="S4.SS3.p3.5.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.5.m3.1.1.1.cmml" xref="S4.SS3.p3.5.m3.1.1">subscript</csymbol><ci id="S4.SS3.p3.5.m3.1.1.2.cmml" xref="S4.SS3.p3.5.m3.1.1.2">𝐿</ci><cn id="S4.SS3.p3.5.m3.1.1.3.cmml" type="integer" xref="S4.SS3.p3.5.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.5.m3.1c">L_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.5.m3.1d">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> norm as parameter regularization to prevent overfitting. We adopt Adaptive Moment Estimation (Adam) <cite class="ltx_cite ltx_citemacro_citep">(Kingma and Ba, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib44" title="">2014</a>)</cite> to optimize the objective function and infer the parameters. In each iteration, we sample a mini-batch of consumer and product pairs with their corresponding <math alttext="K" class="ltx_Math" display="inline" id="S4.SS3.p3.6.m4.1"><semantics id="S4.SS3.p3.6.m4.1a"><mi id="S4.SS3.p3.6.m4.1.1" xref="S4.SS3.p3.6.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.6.m4.1b"><ci id="S4.SS3.p3.6.m4.1.1.cmml" xref="S4.SS3.p3.6.m4.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.6.m4.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p3.6.m4.1d">italic_K</annotation></semantics></math> adjacency matrices and product prices to update the model parameters. The training algorithm is detailed in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#alg1" title="Algorithm 1 ‣ 4.3 Ranking-based Recommendation and Model Optimization ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption" style="font-size:70%;"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.6.1.1">Algorithm 1</span> </span> The training algorithm of <em class="ltx_emph ltx_font_italic" id="alg1.7.2">ArcRec</em>.</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.8">
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l1.1.1.1" style="font-size:80%;">1:</span></span><span class="ltx_text" id="alg1.l1.2" style="font-size:70%;">Purchasing records </span><math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m1.1.1" mathsize="70%" xref="alg1.l1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">caligraphic_R</annotation></semantics></math><span class="ltx_text" id="alg1.l1.3" style="font-size:70%;">, consumer set </span><math alttext="\mathcal{U}" class="ltx_Math" display="inline" id="alg1.l1.m2.1"><semantics id="alg1.l1.m2.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m2.1.1" mathsize="70%" xref="alg1.l1.m2.1.1.cmml">𝒰</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><ci id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">𝒰</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">\mathcal{U}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m2.1d">caligraphic_U</annotation></semantics></math><span class="ltx_text" id="alg1.l1.4" style="font-size:70%;">, product set </span><math alttext="\mathcal{V}" class="ltx_Math" display="inline" id="alg1.l1.m3.1"><semantics id="alg1.l1.m3.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m3.1.1" mathsize="70%" xref="alg1.l1.m3.1.1.cmml">𝒱</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><ci id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1">𝒱</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">\mathcal{V}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m3.1d">caligraphic_V</annotation></semantics></math><span class="ltx_text" id="alg1.l1.5" style="font-size:70%;">, as well as attribute set </span><math alttext="\mathcal{A}" class="ltx_Math" display="inline" id="alg1.l1.m4.1"><semantics id="alg1.l1.m4.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l1.m4.1.1" mathsize="70%" xref="alg1.l1.m4.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m4.1b"><ci id="alg1.l1.m4.1.1.cmml" xref="alg1.l1.m4.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m4.1c">\mathcal{A}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m4.1d">caligraphic_A</annotation></semantics></math><span class="ltx_text" id="alg1.l1.6" style="font-size:70%;">.
</span>
</div>
<div class="ltx_listingline" id="alg1.l2">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l2.1.1.1" style="font-size:80%;">2:</span></span><span class="ltx_text" id="alg1.l2.2" style="font-size:70%;">Neural network parameters.
</span>
</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l3.1.1.1" style="font-size:80%;">3:</span></span><span class="ltx_text" id="alg1.l3.2" style="font-size:70%;">Randomly initialize model parameters by normal distribution, construct </span><math alttext="K" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><mi id="alg1.l3.m1.1.1" mathsize="70%" xref="alg1.l3.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><ci id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_K</annotation></semantics></math><span class="ltx_text" id="alg1.l3.3" style="font-size:70%;"> ARNs </span><math alttext="\{\mathcal{G}^{1},\cdots,\mathcal{G}^{k},\cdots,\mathcal{G}^{K}\}" class="ltx_Math" display="inline" id="alg1.l3.m2.5"><semantics id="alg1.l3.m2.5a"><mrow id="alg1.l3.m2.5.5.3" xref="alg1.l3.m2.5.5.4.cmml"><mo id="alg1.l3.m2.5.5.3.4" maxsize="70%" minsize="70%" xref="alg1.l3.m2.5.5.4.cmml">{</mo><msup id="alg1.l3.m2.3.3.1.1" xref="alg1.l3.m2.3.3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m2.3.3.1.1.2" mathsize="70%" xref="alg1.l3.m2.3.3.1.1.2.cmml">𝒢</mi><mn id="alg1.l3.m2.3.3.1.1.3" mathsize="70%" xref="alg1.l3.m2.3.3.1.1.3.cmml">1</mn></msup><mo id="alg1.l3.m2.5.5.3.5" mathsize="70%" xref="alg1.l3.m2.5.5.4.cmml">,</mo><mi id="alg1.l3.m2.1.1" mathsize="70%" mathvariant="normal" xref="alg1.l3.m2.1.1.cmml">⋯</mi><mo id="alg1.l3.m2.5.5.3.6" mathsize="70%" xref="alg1.l3.m2.5.5.4.cmml">,</mo><msup id="alg1.l3.m2.4.4.2.2" xref="alg1.l3.m2.4.4.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m2.4.4.2.2.2" mathsize="70%" xref="alg1.l3.m2.4.4.2.2.2.cmml">𝒢</mi><mi id="alg1.l3.m2.4.4.2.2.3" mathsize="70%" xref="alg1.l3.m2.4.4.2.2.3.cmml">k</mi></msup><mo id="alg1.l3.m2.5.5.3.7" mathsize="70%" xref="alg1.l3.m2.5.5.4.cmml">,</mo><mi id="alg1.l3.m2.2.2" mathsize="70%" mathvariant="normal" xref="alg1.l3.m2.2.2.cmml">⋯</mi><mo id="alg1.l3.m2.5.5.3.8" mathsize="70%" xref="alg1.l3.m2.5.5.4.cmml">,</mo><msup id="alg1.l3.m2.5.5.3.3" xref="alg1.l3.m2.5.5.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m2.5.5.3.3.2" mathsize="70%" xref="alg1.l3.m2.5.5.3.3.2.cmml">𝒢</mi><mi id="alg1.l3.m2.5.5.3.3.3" mathsize="70%" xref="alg1.l3.m2.5.5.3.3.3.cmml">K</mi></msup><mo id="alg1.l3.m2.5.5.3.9" maxsize="70%" minsize="70%" xref="alg1.l3.m2.5.5.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.5b"><set id="alg1.l3.m2.5.5.4.cmml" xref="alg1.l3.m2.5.5.3"><apply id="alg1.l3.m2.3.3.1.1.cmml" xref="alg1.l3.m2.3.3.1.1"><csymbol cd="ambiguous" id="alg1.l3.m2.3.3.1.1.1.cmml" xref="alg1.l3.m2.3.3.1.1">superscript</csymbol><ci id="alg1.l3.m2.3.3.1.1.2.cmml" xref="alg1.l3.m2.3.3.1.1.2">𝒢</ci><cn id="alg1.l3.m2.3.3.1.1.3.cmml" type="integer" xref="alg1.l3.m2.3.3.1.1.3">1</cn></apply><ci id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1">⋯</ci><apply id="alg1.l3.m2.4.4.2.2.cmml" xref="alg1.l3.m2.4.4.2.2"><csymbol cd="ambiguous" id="alg1.l3.m2.4.4.2.2.1.cmml" xref="alg1.l3.m2.4.4.2.2">superscript</csymbol><ci id="alg1.l3.m2.4.4.2.2.2.cmml" xref="alg1.l3.m2.4.4.2.2.2">𝒢</ci><ci id="alg1.l3.m2.4.4.2.2.3.cmml" xref="alg1.l3.m2.4.4.2.2.3">𝑘</ci></apply><ci id="alg1.l3.m2.2.2.cmml" xref="alg1.l3.m2.2.2">⋯</ci><apply id="alg1.l3.m2.5.5.3.3.cmml" xref="alg1.l3.m2.5.5.3.3"><csymbol cd="ambiguous" id="alg1.l3.m2.5.5.3.3.1.cmml" xref="alg1.l3.m2.5.5.3.3">superscript</csymbol><ci id="alg1.l3.m2.5.5.3.3.2.cmml" xref="alg1.l3.m2.5.5.3.3.2">𝒢</ci><ci id="alg1.l3.m2.5.5.3.3.3.cmml" xref="alg1.l3.m2.5.5.3.3.3">𝐾</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.5c">\{\mathcal{G}^{1},\cdots,\mathcal{G}^{k},\cdots,\mathcal{G}^{K}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m2.5d">{ caligraphic_G start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , ⋯ , caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , ⋯ , caligraphic_G start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT }</annotation></semantics></math><span class="ltx_text" id="alg1.l3.4" style="font-size:70%;"> with adjacency matrices </span><math alttext="\{\mathbf{S}^{1},\cdots,\mathbf{S}^{k},\cdots,\mathbf{S}^{K}\}" class="ltx_Math" display="inline" id="alg1.l3.m3.5"><semantics id="alg1.l3.m3.5a"><mrow id="alg1.l3.m3.5.5.3" xref="alg1.l3.m3.5.5.4.cmml"><mo id="alg1.l3.m3.5.5.3.4" maxsize="70%" minsize="70%" xref="alg1.l3.m3.5.5.4.cmml">{</mo><msup id="alg1.l3.m3.3.3.1.1" xref="alg1.l3.m3.3.3.1.1.cmml"><mi id="alg1.l3.m3.3.3.1.1.2" mathsize="70%" xref="alg1.l3.m3.3.3.1.1.2.cmml">𝐒</mi><mn id="alg1.l3.m3.3.3.1.1.3" mathsize="70%" xref="alg1.l3.m3.3.3.1.1.3.cmml">1</mn></msup><mo id="alg1.l3.m3.5.5.3.5" mathsize="70%" xref="alg1.l3.m3.5.5.4.cmml">,</mo><mi id="alg1.l3.m3.1.1" mathsize="70%" mathvariant="normal" xref="alg1.l3.m3.1.1.cmml">⋯</mi><mo id="alg1.l3.m3.5.5.3.6" mathsize="70%" xref="alg1.l3.m3.5.5.4.cmml">,</mo><msup id="alg1.l3.m3.4.4.2.2" xref="alg1.l3.m3.4.4.2.2.cmml"><mi id="alg1.l3.m3.4.4.2.2.2" mathsize="70%" xref="alg1.l3.m3.4.4.2.2.2.cmml">𝐒</mi><mi id="alg1.l3.m3.4.4.2.2.3" mathsize="70%" xref="alg1.l3.m3.4.4.2.2.3.cmml">k</mi></msup><mo id="alg1.l3.m3.5.5.3.7" mathsize="70%" xref="alg1.l3.m3.5.5.4.cmml">,</mo><mi id="alg1.l3.m3.2.2" mathsize="70%" mathvariant="normal" xref="alg1.l3.m3.2.2.cmml">⋯</mi><mo id="alg1.l3.m3.5.5.3.8" mathsize="70%" xref="alg1.l3.m3.5.5.4.cmml">,</mo><msup id="alg1.l3.m3.5.5.3.3" xref="alg1.l3.m3.5.5.3.3.cmml"><mi id="alg1.l3.m3.5.5.3.3.2" mathsize="70%" xref="alg1.l3.m3.5.5.3.3.2.cmml">𝐒</mi><mi id="alg1.l3.m3.5.5.3.3.3" mathsize="70%" xref="alg1.l3.m3.5.5.3.3.3.cmml">K</mi></msup><mo id="alg1.l3.m3.5.5.3.9" maxsize="70%" minsize="70%" xref="alg1.l3.m3.5.5.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m3.5b"><set id="alg1.l3.m3.5.5.4.cmml" xref="alg1.l3.m3.5.5.3"><apply id="alg1.l3.m3.3.3.1.1.cmml" xref="alg1.l3.m3.3.3.1.1"><csymbol cd="ambiguous" id="alg1.l3.m3.3.3.1.1.1.cmml" xref="alg1.l3.m3.3.3.1.1">superscript</csymbol><ci id="alg1.l3.m3.3.3.1.1.2.cmml" xref="alg1.l3.m3.3.3.1.1.2">𝐒</ci><cn id="alg1.l3.m3.3.3.1.1.3.cmml" type="integer" xref="alg1.l3.m3.3.3.1.1.3">1</cn></apply><ci id="alg1.l3.m3.1.1.cmml" xref="alg1.l3.m3.1.1">⋯</ci><apply id="alg1.l3.m3.4.4.2.2.cmml" xref="alg1.l3.m3.4.4.2.2"><csymbol cd="ambiguous" id="alg1.l3.m3.4.4.2.2.1.cmml" xref="alg1.l3.m3.4.4.2.2">superscript</csymbol><ci id="alg1.l3.m3.4.4.2.2.2.cmml" xref="alg1.l3.m3.4.4.2.2.2">𝐒</ci><ci id="alg1.l3.m3.4.4.2.2.3.cmml" xref="alg1.l3.m3.4.4.2.2.3">𝑘</ci></apply><ci id="alg1.l3.m3.2.2.cmml" xref="alg1.l3.m3.2.2">⋯</ci><apply id="alg1.l3.m3.5.5.3.3.cmml" xref="alg1.l3.m3.5.5.3.3"><csymbol cd="ambiguous" id="alg1.l3.m3.5.5.3.3.1.cmml" xref="alg1.l3.m3.5.5.3.3">superscript</csymbol><ci id="alg1.l3.m3.5.5.3.3.2.cmml" xref="alg1.l3.m3.5.5.3.3.2">𝐒</ci><ci id="alg1.l3.m3.5.5.3.3.3.cmml" xref="alg1.l3.m3.5.5.3.3.3">𝐾</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m3.5c">\{\mathbf{S}^{1},\cdots,\mathbf{S}^{k},\cdots,\mathbf{S}^{K}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m3.5d">{ bold_S start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , ⋯ , bold_S start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , ⋯ , bold_S start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT }</annotation></semantics></math><span class="ltx_text" id="alg1.l3.5" style="font-size:70%;"> based on </span><math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="alg1.l3.m4.1"><semantics id="alg1.l3.m4.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m4.1.1" mathsize="70%" xref="alg1.l3.m4.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m4.1b"><ci id="alg1.l3.m4.1.1.cmml" xref="alg1.l3.m4.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m4.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m4.1d">caligraphic_R</annotation></semantics></math><span class="ltx_text" id="alg1.l3.6" style="font-size:70%;"> and </span><math alttext="\mathcal{A}" class="ltx_Math" display="inline" id="alg1.l3.m5.1"><semantics id="alg1.l3.m5.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l3.m5.1.1" mathsize="70%" xref="alg1.l3.m5.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="alg1.l3.m5.1b"><ci id="alg1.l3.m5.1.1.cmml" xref="alg1.l3.m5.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m5.1c">\mathcal{A}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m5.1d">caligraphic_A</annotation></semantics></math><span class="ltx_text" id="alg1.l3.7" style="font-size:70%;">.
</span>
</div>
<div class="ltx_listingline" id="alg1.l4">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l4.1.1.1" style="font-size:80%;">4:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l4.2" style="font-size:70%;">while</span><span class="ltx_text" id="alg1.l4.3" style="font-size:70%;"> not converged </span><span class="ltx_text ltx_font_bold" id="alg1.l4.4" style="font-size:70%;">do</span><span class="ltx_text" id="alg1.l4.5" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l5">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l5.1.1.1" style="font-size:80%;">5:</span></span><span class="ltx_text" id="alg1.l5.2" style="font-size:70%;">    Sample consumer </span><math alttext="u" class="ltx_Math" display="inline" id="alg1.l5.m1.1"><semantics id="alg1.l5.m1.1a"><mi id="alg1.l5.m1.1.1" mathsize="70%" xref="alg1.l5.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><ci id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.1d">italic_u</annotation></semantics></math><span class="ltx_text" id="alg1.l5.3" style="font-size:70%;"> from </span><math alttext="\mathcal{U}" class="ltx_Math" display="inline" id="alg1.l5.m2.1"><semantics id="alg1.l5.m2.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l5.m2.1.1" mathsize="70%" xref="alg1.l5.m2.1.1.cmml">𝒰</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m2.1b"><ci id="alg1.l5.m2.1.1.cmml" xref="alg1.l5.m2.1.1">𝒰</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m2.1c">\mathcal{U}</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m2.1d">caligraphic_U</annotation></semantics></math><span class="ltx_text" id="alg1.l5.4" style="font-size:70%;">, positive product </span><math alttext="i" class="ltx_Math" display="inline" id="alg1.l5.m3.1"><semantics id="alg1.l5.m3.1a"><mi id="alg1.l5.m3.1.1" mathsize="70%" xref="alg1.l5.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m3.1b"><ci id="alg1.l5.m3.1.1.cmml" xref="alg1.l5.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m3.1d">italic_i</annotation></semantics></math><span class="ltx_text" id="alg1.l5.5" style="font-size:70%;"> from </span><math alttext="\mathcal{D}^{+}_{u}" class="ltx_Math" display="inline" id="alg1.l5.m4.1"><semantics id="alg1.l5.m4.1a"><msubsup id="alg1.l5.m4.1.1" xref="alg1.l5.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l5.m4.1.1.2.2" mathsize="70%" xref="alg1.l5.m4.1.1.2.2.cmml">𝒟</mi><mi id="alg1.l5.m4.1.1.3" mathsize="70%" xref="alg1.l5.m4.1.1.3.cmml">u</mi><mo id="alg1.l5.m4.1.1.2.3" mathsize="70%" xref="alg1.l5.m4.1.1.2.3.cmml">+</mo></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l5.m4.1b"><apply id="alg1.l5.m4.1.1.cmml" xref="alg1.l5.m4.1.1"><csymbol cd="ambiguous" id="alg1.l5.m4.1.1.1.cmml" xref="alg1.l5.m4.1.1">subscript</csymbol><apply id="alg1.l5.m4.1.1.2.cmml" xref="alg1.l5.m4.1.1"><csymbol cd="ambiguous" id="alg1.l5.m4.1.1.2.1.cmml" xref="alg1.l5.m4.1.1">superscript</csymbol><ci id="alg1.l5.m4.1.1.2.2.cmml" xref="alg1.l5.m4.1.1.2.2">𝒟</ci><plus id="alg1.l5.m4.1.1.2.3.cmml" xref="alg1.l5.m4.1.1.2.3"></plus></apply><ci id="alg1.l5.m4.1.1.3.cmml" xref="alg1.l5.m4.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m4.1c">\mathcal{D}^{+}_{u}</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m4.1d">caligraphic_D start_POSTSUPERSCRIPT + end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l5.6" style="font-size:70%;">, and negative product </span><math alttext="j" class="ltx_Math" display="inline" id="alg1.l5.m5.1"><semantics id="alg1.l5.m5.1a"><mi id="alg1.l5.m5.1.1" mathsize="70%" xref="alg1.l5.m5.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m5.1b"><ci id="alg1.l5.m5.1.1.cmml" xref="alg1.l5.m5.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m5.1c">j</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m5.1d">italic_j</annotation></semantics></math><span class="ltx_text" id="alg1.l5.7" style="font-size:70%;"> from </span><math alttext="\mathcal{D}^{-}_{u}" class="ltx_Math" display="inline" id="alg1.l5.m6.1"><semantics id="alg1.l5.m6.1a"><msubsup id="alg1.l5.m6.1.1" xref="alg1.l5.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l5.m6.1.1.2.2" mathsize="70%" xref="alg1.l5.m6.1.1.2.2.cmml">𝒟</mi><mi id="alg1.l5.m6.1.1.3" mathsize="70%" xref="alg1.l5.m6.1.1.3.cmml">u</mi><mo id="alg1.l5.m6.1.1.2.3" mathsize="70%" xref="alg1.l5.m6.1.1.2.3.cmml">−</mo></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l5.m6.1b"><apply id="alg1.l5.m6.1.1.cmml" xref="alg1.l5.m6.1.1"><csymbol cd="ambiguous" id="alg1.l5.m6.1.1.1.cmml" xref="alg1.l5.m6.1.1">subscript</csymbol><apply id="alg1.l5.m6.1.1.2.cmml" xref="alg1.l5.m6.1.1"><csymbol cd="ambiguous" id="alg1.l5.m6.1.1.2.1.cmml" xref="alg1.l5.m6.1.1">superscript</csymbol><ci id="alg1.l5.m6.1.1.2.2.cmml" xref="alg1.l5.m6.1.1.2.2">𝒟</ci><minus id="alg1.l5.m6.1.1.2.3.cmml" xref="alg1.l5.m6.1.1.2.3"></minus></apply><ci id="alg1.l5.m6.1.1.3.cmml" xref="alg1.l5.m6.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m6.1c">\mathcal{D}^{-}_{u}</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m6.1d">caligraphic_D start_POSTSUPERSCRIPT - end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l5.8" style="font-size:70%;">.
</span>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l6.1.1.1" style="font-size:80%;">6:</span></span><span class="ltx_text" id="alg1.l6.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l6.3" style="font-size:70%;">for</span><span class="ltx_text" id="alg1.l6.4" style="font-size:70%;"> </span><math alttext="\mathbf{S}^{k}\in\{\mathbf{S}^{1},\cdots,\mathbf{S}^{k},\cdots,\mathbf{S}^{K}\}" class="ltx_Math" display="inline" id="alg1.l6.m1.5"><semantics id="alg1.l6.m1.5a"><mrow id="alg1.l6.m1.5.5" xref="alg1.l6.m1.5.5.cmml"><msup id="alg1.l6.m1.5.5.5" xref="alg1.l6.m1.5.5.5.cmml"><mi id="alg1.l6.m1.5.5.5.2" mathsize="70%" xref="alg1.l6.m1.5.5.5.2.cmml">𝐒</mi><mi id="alg1.l6.m1.5.5.5.3" mathsize="70%" xref="alg1.l6.m1.5.5.5.3.cmml">k</mi></msup><mo id="alg1.l6.m1.5.5.4" mathsize="70%" xref="alg1.l6.m1.5.5.4.cmml">∈</mo><mrow id="alg1.l6.m1.5.5.3.3" xref="alg1.l6.m1.5.5.3.4.cmml"><mo id="alg1.l6.m1.5.5.3.3.4" maxsize="70%" minsize="70%" xref="alg1.l6.m1.5.5.3.4.cmml">{</mo><msup id="alg1.l6.m1.3.3.1.1.1" xref="alg1.l6.m1.3.3.1.1.1.cmml"><mi id="alg1.l6.m1.3.3.1.1.1.2" mathsize="70%" xref="alg1.l6.m1.3.3.1.1.1.2.cmml">𝐒</mi><mn id="alg1.l6.m1.3.3.1.1.1.3" mathsize="70%" xref="alg1.l6.m1.3.3.1.1.1.3.cmml">1</mn></msup><mo id="alg1.l6.m1.5.5.3.3.5" mathsize="70%" xref="alg1.l6.m1.5.5.3.4.cmml">,</mo><mi id="alg1.l6.m1.1.1" mathsize="70%" mathvariant="normal" xref="alg1.l6.m1.1.1.cmml">⋯</mi><mo id="alg1.l6.m1.5.5.3.3.6" mathsize="70%" xref="alg1.l6.m1.5.5.3.4.cmml">,</mo><msup id="alg1.l6.m1.4.4.2.2.2" xref="alg1.l6.m1.4.4.2.2.2.cmml"><mi id="alg1.l6.m1.4.4.2.2.2.2" mathsize="70%" xref="alg1.l6.m1.4.4.2.2.2.2.cmml">𝐒</mi><mi id="alg1.l6.m1.4.4.2.2.2.3" mathsize="70%" xref="alg1.l6.m1.4.4.2.2.2.3.cmml">k</mi></msup><mo id="alg1.l6.m1.5.5.3.3.7" mathsize="70%" xref="alg1.l6.m1.5.5.3.4.cmml">,</mo><mi id="alg1.l6.m1.2.2" mathsize="70%" mathvariant="normal" xref="alg1.l6.m1.2.2.cmml">⋯</mi><mo id="alg1.l6.m1.5.5.3.3.8" mathsize="70%" xref="alg1.l6.m1.5.5.3.4.cmml">,</mo><msup id="alg1.l6.m1.5.5.3.3.3" xref="alg1.l6.m1.5.5.3.3.3.cmml"><mi id="alg1.l6.m1.5.5.3.3.3.2" mathsize="70%" xref="alg1.l6.m1.5.5.3.3.3.2.cmml">𝐒</mi><mi id="alg1.l6.m1.5.5.3.3.3.3" mathsize="70%" xref="alg1.l6.m1.5.5.3.3.3.3.cmml">K</mi></msup><mo id="alg1.l6.m1.5.5.3.3.9" maxsize="70%" minsize="70%" xref="alg1.l6.m1.5.5.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.5b"><apply id="alg1.l6.m1.5.5.cmml" xref="alg1.l6.m1.5.5"><in id="alg1.l6.m1.5.5.4.cmml" xref="alg1.l6.m1.5.5.4"></in><apply id="alg1.l6.m1.5.5.5.cmml" xref="alg1.l6.m1.5.5.5"><csymbol cd="ambiguous" id="alg1.l6.m1.5.5.5.1.cmml" xref="alg1.l6.m1.5.5.5">superscript</csymbol><ci id="alg1.l6.m1.5.5.5.2.cmml" xref="alg1.l6.m1.5.5.5.2">𝐒</ci><ci id="alg1.l6.m1.5.5.5.3.cmml" xref="alg1.l6.m1.5.5.5.3">𝑘</ci></apply><set id="alg1.l6.m1.5.5.3.4.cmml" xref="alg1.l6.m1.5.5.3.3"><apply id="alg1.l6.m1.3.3.1.1.1.cmml" xref="alg1.l6.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l6.m1.3.3.1.1.1.1.cmml" xref="alg1.l6.m1.3.3.1.1.1">superscript</csymbol><ci id="alg1.l6.m1.3.3.1.1.1.2.cmml" xref="alg1.l6.m1.3.3.1.1.1.2">𝐒</ci><cn id="alg1.l6.m1.3.3.1.1.1.3.cmml" type="integer" xref="alg1.l6.m1.3.3.1.1.1.3">1</cn></apply><ci id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">⋯</ci><apply id="alg1.l6.m1.4.4.2.2.2.cmml" xref="alg1.l6.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="alg1.l6.m1.4.4.2.2.2.1.cmml" xref="alg1.l6.m1.4.4.2.2.2">superscript</csymbol><ci id="alg1.l6.m1.4.4.2.2.2.2.cmml" xref="alg1.l6.m1.4.4.2.2.2.2">𝐒</ci><ci id="alg1.l6.m1.4.4.2.2.2.3.cmml" xref="alg1.l6.m1.4.4.2.2.2.3">𝑘</ci></apply><ci id="alg1.l6.m1.2.2.cmml" xref="alg1.l6.m1.2.2">⋯</ci><apply id="alg1.l6.m1.5.5.3.3.3.cmml" xref="alg1.l6.m1.5.5.3.3.3"><csymbol cd="ambiguous" id="alg1.l6.m1.5.5.3.3.3.1.cmml" xref="alg1.l6.m1.5.5.3.3.3">superscript</csymbol><ci id="alg1.l6.m1.5.5.3.3.3.2.cmml" xref="alg1.l6.m1.5.5.3.3.3.2">𝐒</ci><ci id="alg1.l6.m1.5.5.3.3.3.3.cmml" xref="alg1.l6.m1.5.5.3.3.3.3">𝐾</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.5c">\mathbf{S}^{k}\in\{\mathbf{S}^{1},\cdots,\mathbf{S}^{k},\cdots,\mathbf{S}^{K}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l6.m1.5d">bold_S start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT ∈ { bold_S start_POSTSUPERSCRIPT 1 end_POSTSUPERSCRIPT , ⋯ , bold_S start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , ⋯ , bold_S start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT }</annotation></semantics></math><span class="ltx_text" id="alg1.l6.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l6.6" style="font-size:70%;">do</span><span class="ltx_text" id="alg1.l6.7" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l7.1.1.1" style="font-size:80%;">7:</span></span><span class="ltx_text" id="alg1.l7.2" style="font-size:70%;">       Derive </span><math alttext="\mathbf{h}_{i}^{k}" class="ltx_Math" display="inline" id="alg1.l7.m1.1"><semantics id="alg1.l7.m1.1a"><msubsup id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><mi id="alg1.l7.m1.1.1.2.2" mathsize="70%" xref="alg1.l7.m1.1.1.2.2.cmml">𝐡</mi><mi id="alg1.l7.m1.1.1.2.3" mathsize="70%" xref="alg1.l7.m1.1.1.2.3.cmml">i</mi><mi id="alg1.l7.m1.1.1.3" mathsize="70%" xref="alg1.l7.m1.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1">superscript</csymbol><apply id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1">subscript</csymbol><ci id="alg1.l7.m1.1.1.2.2.cmml" xref="alg1.l7.m1.1.1.2.2">𝐡</ci><ci id="alg1.l7.m1.1.1.2.3.cmml" xref="alg1.l7.m1.1.1.2.3">𝑖</ci></apply><ci id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">\mathbf{h}_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l7.3" style="font-size:70%;"> according to Equation (</span><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E1" style="font-size:70%;" title="In 4.1 Product Representation Learning in Attributed Reference Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_text" id="alg1.l7.4" style="font-size:70%;">) - Equation (</span><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E3" style="font-size:70%;" title="In 4.1 Product Representation Learning in Attributed Reference Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">3</span></a><span class="ltx_text" id="alg1.l7.5" style="font-size:70%;">).
</span>
</div>
<div class="ltx_listingline" id="alg1.l8">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l8.1.1.1" style="font-size:80%;">8:</span></span><span class="ltx_text" id="alg1.l8.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l8.3" style="font-size:70%;">end</span><span class="ltx_text" id="alg1.l8.4" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l8.5" style="font-size:70%;">for</span>
</div>
<div class="ltx_listingline" id="alg1.l9">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l9.1.1.1" style="font-size:80%;">9:</span></span><span class="ltx_text" id="alg1.l9.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l9.3" style="font-size:70%;">for</span><span class="ltx_text" id="alg1.l9.4" style="font-size:70%;"> </span><math alttext="k\in\{1,\cdots,k,\cdots,K\}" class="ltx_Math" display="inline" id="alg1.l9.m1.5"><semantics id="alg1.l9.m1.5a"><mrow id="alg1.l9.m1.5.6" xref="alg1.l9.m1.5.6.cmml"><mi id="alg1.l9.m1.5.6.2" mathsize="70%" xref="alg1.l9.m1.5.6.2.cmml">k</mi><mo id="alg1.l9.m1.5.6.1" mathsize="70%" xref="alg1.l9.m1.5.6.1.cmml">∈</mo><mrow id="alg1.l9.m1.5.6.3.2" xref="alg1.l9.m1.5.6.3.1.cmml"><mo id="alg1.l9.m1.5.6.3.2.1" maxsize="70%" minsize="70%" xref="alg1.l9.m1.5.6.3.1.cmml">{</mo><mn id="alg1.l9.m1.1.1" mathsize="70%" xref="alg1.l9.m1.1.1.cmml">1</mn><mo id="alg1.l9.m1.5.6.3.2.2" mathsize="70%" xref="alg1.l9.m1.5.6.3.1.cmml">,</mo><mi id="alg1.l9.m1.2.2" mathsize="70%" mathvariant="normal" xref="alg1.l9.m1.2.2.cmml">⋯</mi><mo id="alg1.l9.m1.5.6.3.2.3" mathsize="70%" xref="alg1.l9.m1.5.6.3.1.cmml">,</mo><mi id="alg1.l9.m1.3.3" mathsize="70%" xref="alg1.l9.m1.3.3.cmml">k</mi><mo id="alg1.l9.m1.5.6.3.2.4" mathsize="70%" xref="alg1.l9.m1.5.6.3.1.cmml">,</mo><mi id="alg1.l9.m1.4.4" mathsize="70%" mathvariant="normal" xref="alg1.l9.m1.4.4.cmml">⋯</mi><mo id="alg1.l9.m1.5.6.3.2.5" mathsize="70%" xref="alg1.l9.m1.5.6.3.1.cmml">,</mo><mi id="alg1.l9.m1.5.5" mathsize="70%" xref="alg1.l9.m1.5.5.cmml">K</mi><mo id="alg1.l9.m1.5.6.3.2.6" maxsize="70%" minsize="70%" xref="alg1.l9.m1.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.5b"><apply id="alg1.l9.m1.5.6.cmml" xref="alg1.l9.m1.5.6"><in id="alg1.l9.m1.5.6.1.cmml" xref="alg1.l9.m1.5.6.1"></in><ci id="alg1.l9.m1.5.6.2.cmml" xref="alg1.l9.m1.5.6.2">𝑘</ci><set id="alg1.l9.m1.5.6.3.1.cmml" xref="alg1.l9.m1.5.6.3.2"><cn id="alg1.l9.m1.1.1.cmml" type="integer" xref="alg1.l9.m1.1.1">1</cn><ci id="alg1.l9.m1.2.2.cmml" xref="alg1.l9.m1.2.2">⋯</ci><ci id="alg1.l9.m1.3.3.cmml" xref="alg1.l9.m1.3.3">𝑘</ci><ci id="alg1.l9.m1.4.4.cmml" xref="alg1.l9.m1.4.4">⋯</ci><ci id="alg1.l9.m1.5.5.cmml" xref="alg1.l9.m1.5.5">𝐾</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.5c">k\in\{1,\cdots,k,\cdots,K\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.5d">italic_k ∈ { 1 , ⋯ , italic_k , ⋯ , italic_K }</annotation></semantics></math><span class="ltx_text" id="alg1.l9.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l9.6" style="font-size:70%;">do</span><span class="ltx_text" id="alg1.l9.7" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l10">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l10.1.1.1" style="font-size:80%;">10:</span></span><span class="ltx_text" id="alg1.l10.2" style="font-size:70%;">       Obtain AWTP scores </span><math alttext="I_{u,k}" class="ltx_Math" display="inline" id="alg1.l10.m1.2"><semantics id="alg1.l10.m1.2a"><msub id="alg1.l10.m1.2.3" xref="alg1.l10.m1.2.3.cmml"><mi id="alg1.l10.m1.2.3.2" mathsize="70%" xref="alg1.l10.m1.2.3.2.cmml">I</mi><mrow id="alg1.l10.m1.2.2.2.4" xref="alg1.l10.m1.2.2.2.3.cmml"><mi id="alg1.l10.m1.1.1.1.1" mathsize="70%" xref="alg1.l10.m1.1.1.1.1.cmml">u</mi><mo id="alg1.l10.m1.2.2.2.4.1" mathsize="70%" xref="alg1.l10.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l10.m1.2.2.2.2" mathsize="70%" xref="alg1.l10.m1.2.2.2.2.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.2b"><apply id="alg1.l10.m1.2.3.cmml" xref="alg1.l10.m1.2.3"><csymbol cd="ambiguous" id="alg1.l10.m1.2.3.1.cmml" xref="alg1.l10.m1.2.3">subscript</csymbol><ci id="alg1.l10.m1.2.3.2.cmml" xref="alg1.l10.m1.2.3.2">𝐼</ci><list id="alg1.l10.m1.2.2.2.3.cmml" xref="alg1.l10.m1.2.2.2.4"><ci id="alg1.l10.m1.1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1.1">𝑢</ci><ci id="alg1.l10.m1.2.2.2.2.cmml" xref="alg1.l10.m1.2.2.2.2">𝑘</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.2c">I_{u,k}</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.m1.2d">italic_I start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l10.3" style="font-size:70%;"> according to Equation (</span><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E9" style="font-size:70%;" title="In 4.2.2 Reference-dependent Utility with Attribute Salience. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">9</span></a><span class="ltx_text" id="alg1.l10.4" style="font-size:70%;">).
</span>
</div>
<div class="ltx_listingline" id="alg1.l11">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l11.1.1.1" style="font-size:80%;">11:</span></span><span class="ltx_text" id="alg1.l11.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l11.3" style="font-size:70%;">end</span><span class="ltx_text" id="alg1.l11.4" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l11.5" style="font-size:70%;">for</span>
</div>
<div class="ltx_listingline" id="alg1.l12">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l12.1.1.1" style="font-size:80%;">12:</span></span><span class="ltx_text" id="alg1.l12.2" style="font-size:70%;">    Initialize the recommendation scores of </span><math alttext="(u,i)" class="ltx_Math" display="inline" id="alg1.l12.m1.2"><semantics id="alg1.l12.m1.2a"><mrow id="alg1.l12.m1.2.3.2" xref="alg1.l12.m1.2.3.1.cmml"><mo id="alg1.l12.m1.2.3.2.1" maxsize="70%" minsize="70%" xref="alg1.l12.m1.2.3.1.cmml">(</mo><mi id="alg1.l12.m1.1.1" mathsize="70%" xref="alg1.l12.m1.1.1.cmml">u</mi><mo id="alg1.l12.m1.2.3.2.2" mathsize="70%" xref="alg1.l12.m1.2.3.1.cmml">,</mo><mi id="alg1.l12.m1.2.2" mathsize="70%" xref="alg1.l12.m1.2.2.cmml">i</mi><mo id="alg1.l12.m1.2.3.2.3" maxsize="70%" minsize="70%" xref="alg1.l12.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.2b"><interval closure="open" id="alg1.l12.m1.2.3.1.cmml" xref="alg1.l12.m1.2.3.2"><ci id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1">𝑢</ci><ci id="alg1.l12.m1.2.2.cmml" xref="alg1.l12.m1.2.2">𝑖</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.2c">(u,i)</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m1.2d">( italic_u , italic_i )</annotation></semantics></math><span class="ltx_text" id="alg1.l12.3" style="font-size:70%;"> and </span><math alttext="(u,j)" class="ltx_Math" display="inline" id="alg1.l12.m2.2"><semantics id="alg1.l12.m2.2a"><mrow id="alg1.l12.m2.2.3.2" xref="alg1.l12.m2.2.3.1.cmml"><mo id="alg1.l12.m2.2.3.2.1" maxsize="70%" minsize="70%" xref="alg1.l12.m2.2.3.1.cmml">(</mo><mi id="alg1.l12.m2.1.1" mathsize="70%" xref="alg1.l12.m2.1.1.cmml">u</mi><mo id="alg1.l12.m2.2.3.2.2" mathsize="70%" xref="alg1.l12.m2.2.3.1.cmml">,</mo><mi id="alg1.l12.m2.2.2" mathsize="70%" xref="alg1.l12.m2.2.2.cmml">j</mi><mo id="alg1.l12.m2.2.3.2.3" maxsize="70%" minsize="70%" xref="alg1.l12.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m2.2b"><interval closure="open" id="alg1.l12.m2.2.3.1.cmml" xref="alg1.l12.m2.2.3.2"><ci id="alg1.l12.m2.1.1.cmml" xref="alg1.l12.m2.1.1">𝑢</ci><ci id="alg1.l12.m2.2.2.cmml" xref="alg1.l12.m2.2.2">𝑗</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m2.2c">(u,j)</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m2.2d">( italic_u , italic_j )</annotation></semantics></math><span class="ltx_text" id="alg1.l12.4" style="font-size:70%;">, </span><math alttext="r_{u,i}=0,r_{u,j}=0" class="ltx_Math" display="inline" id="alg1.l12.m3.6"><semantics id="alg1.l12.m3.6a"><mrow id="alg1.l12.m3.6.6.2" xref="alg1.l12.m3.6.6.3.cmml"><mrow id="alg1.l12.m3.5.5.1.1" xref="alg1.l12.m3.5.5.1.1.cmml"><msub id="alg1.l12.m3.5.5.1.1.2" xref="alg1.l12.m3.5.5.1.1.2.cmml"><mi id="alg1.l12.m3.5.5.1.1.2.2" mathsize="70%" xref="alg1.l12.m3.5.5.1.1.2.2.cmml">r</mi><mrow id="alg1.l12.m3.2.2.2.4" xref="alg1.l12.m3.2.2.2.3.cmml"><mi id="alg1.l12.m3.1.1.1.1" mathsize="70%" xref="alg1.l12.m3.1.1.1.1.cmml">u</mi><mo id="alg1.l12.m3.2.2.2.4.1" mathsize="70%" xref="alg1.l12.m3.2.2.2.3.cmml">,</mo><mi id="alg1.l12.m3.2.2.2.2" mathsize="70%" xref="alg1.l12.m3.2.2.2.2.cmml">i</mi></mrow></msub><mo id="alg1.l12.m3.5.5.1.1.1" mathsize="70%" xref="alg1.l12.m3.5.5.1.1.1.cmml">=</mo><mn id="alg1.l12.m3.5.5.1.1.3" mathsize="70%" xref="alg1.l12.m3.5.5.1.1.3.cmml">0</mn></mrow><mo id="alg1.l12.m3.6.6.2.3" mathsize="70%" xref="alg1.l12.m3.6.6.3a.cmml">,</mo><mrow id="alg1.l12.m3.6.6.2.2" xref="alg1.l12.m3.6.6.2.2.cmml"><msub id="alg1.l12.m3.6.6.2.2.2" xref="alg1.l12.m3.6.6.2.2.2.cmml"><mi id="alg1.l12.m3.6.6.2.2.2.2" mathsize="70%" xref="alg1.l12.m3.6.6.2.2.2.2.cmml">r</mi><mrow id="alg1.l12.m3.4.4.2.4" xref="alg1.l12.m3.4.4.2.3.cmml"><mi id="alg1.l12.m3.3.3.1.1" mathsize="70%" xref="alg1.l12.m3.3.3.1.1.cmml">u</mi><mo id="alg1.l12.m3.4.4.2.4.1" mathsize="70%" xref="alg1.l12.m3.4.4.2.3.cmml">,</mo><mi id="alg1.l12.m3.4.4.2.2" mathsize="70%" xref="alg1.l12.m3.4.4.2.2.cmml">j</mi></mrow></msub><mo id="alg1.l12.m3.6.6.2.2.1" mathsize="70%" xref="alg1.l12.m3.6.6.2.2.1.cmml">=</mo><mn id="alg1.l12.m3.6.6.2.2.3" mathsize="70%" xref="alg1.l12.m3.6.6.2.2.3.cmml">0</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m3.6b"><apply id="alg1.l12.m3.6.6.3.cmml" xref="alg1.l12.m3.6.6.2"><csymbol cd="ambiguous" id="alg1.l12.m3.6.6.3a.cmml" xref="alg1.l12.m3.6.6.2.3">formulae-sequence</csymbol><apply id="alg1.l12.m3.5.5.1.1.cmml" xref="alg1.l12.m3.5.5.1.1"><eq id="alg1.l12.m3.5.5.1.1.1.cmml" xref="alg1.l12.m3.5.5.1.1.1"></eq><apply id="alg1.l12.m3.5.5.1.1.2.cmml" xref="alg1.l12.m3.5.5.1.1.2"><csymbol cd="ambiguous" id="alg1.l12.m3.5.5.1.1.2.1.cmml" xref="alg1.l12.m3.5.5.1.1.2">subscript</csymbol><ci id="alg1.l12.m3.5.5.1.1.2.2.cmml" xref="alg1.l12.m3.5.5.1.1.2.2">𝑟</ci><list id="alg1.l12.m3.2.2.2.3.cmml" xref="alg1.l12.m3.2.2.2.4"><ci id="alg1.l12.m3.1.1.1.1.cmml" xref="alg1.l12.m3.1.1.1.1">𝑢</ci><ci id="alg1.l12.m3.2.2.2.2.cmml" xref="alg1.l12.m3.2.2.2.2">𝑖</ci></list></apply><cn id="alg1.l12.m3.5.5.1.1.3.cmml" type="integer" xref="alg1.l12.m3.5.5.1.1.3">0</cn></apply><apply id="alg1.l12.m3.6.6.2.2.cmml" xref="alg1.l12.m3.6.6.2.2"><eq id="alg1.l12.m3.6.6.2.2.1.cmml" xref="alg1.l12.m3.6.6.2.2.1"></eq><apply id="alg1.l12.m3.6.6.2.2.2.cmml" xref="alg1.l12.m3.6.6.2.2.2"><csymbol cd="ambiguous" id="alg1.l12.m3.6.6.2.2.2.1.cmml" xref="alg1.l12.m3.6.6.2.2.2">subscript</csymbol><ci id="alg1.l12.m3.6.6.2.2.2.2.cmml" xref="alg1.l12.m3.6.6.2.2.2.2">𝑟</ci><list id="alg1.l12.m3.4.4.2.3.cmml" xref="alg1.l12.m3.4.4.2.4"><ci id="alg1.l12.m3.3.3.1.1.cmml" xref="alg1.l12.m3.3.3.1.1">𝑢</ci><ci id="alg1.l12.m3.4.4.2.2.cmml" xref="alg1.l12.m3.4.4.2.2">𝑗</ci></list></apply><cn id="alg1.l12.m3.6.6.2.2.3.cmml" type="integer" xref="alg1.l12.m3.6.6.2.2.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m3.6c">r_{u,i}=0,r_{u,j}=0</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m3.6d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = 0 , italic_r start_POSTSUBSCRIPT italic_u , italic_j end_POSTSUBSCRIPT = 0</annotation></semantics></math><span class="ltx_text" id="alg1.l12.5" style="font-size:70%;">.
</span>
</div>
<div class="ltx_listingline" id="alg1.l13">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l13.1.1.1" style="font-size:80%;">13:</span></span><span class="ltx_text" id="alg1.l13.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l13.3" style="font-size:70%;">for</span><span class="ltx_text" id="alg1.l13.4" style="font-size:70%;"> </span><math alttext="t\in\mathcal{R}_{u}\backslash\{i\}" class="ltx_Math" display="inline" id="alg1.l13.m1.1"><semantics id="alg1.l13.m1.1a"><mrow id="alg1.l13.m1.1.2" xref="alg1.l13.m1.1.2.cmml"><mi id="alg1.l13.m1.1.2.2" mathsize="70%" xref="alg1.l13.m1.1.2.2.cmml">t</mi><mo id="alg1.l13.m1.1.2.1" mathsize="70%" xref="alg1.l13.m1.1.2.1.cmml">∈</mo><mrow id="alg1.l13.m1.1.2.3" xref="alg1.l13.m1.1.2.3.cmml"><msub id="alg1.l13.m1.1.2.3.2" xref="alg1.l13.m1.1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.l13.m1.1.2.3.2.2" mathsize="70%" xref="alg1.l13.m1.1.2.3.2.2.cmml">ℛ</mi><mi id="alg1.l13.m1.1.2.3.2.3" mathsize="70%" xref="alg1.l13.m1.1.2.3.2.3.cmml">u</mi></msub><mo id="alg1.l13.m1.1.2.3.1" lspace="0.222em" mathsize="70%" rspace="0.222em" xref="alg1.l13.m1.1.2.3.1.cmml">\</mo><mrow id="alg1.l13.m1.1.2.3.3.2" xref="alg1.l13.m1.1.2.3.3.1.cmml"><mo id="alg1.l13.m1.1.2.3.3.2.1" maxsize="70%" minsize="70%" xref="alg1.l13.m1.1.2.3.3.1.cmml">{</mo><mi id="alg1.l13.m1.1.1" mathsize="70%" xref="alg1.l13.m1.1.1.cmml">i</mi><mo id="alg1.l13.m1.1.2.3.3.2.2" maxsize="70%" minsize="70%" xref="alg1.l13.m1.1.2.3.3.1.cmml">}</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><apply id="alg1.l13.m1.1.2.cmml" xref="alg1.l13.m1.1.2"><in id="alg1.l13.m1.1.2.1.cmml" xref="alg1.l13.m1.1.2.1"></in><ci id="alg1.l13.m1.1.2.2.cmml" xref="alg1.l13.m1.1.2.2">𝑡</ci><apply id="alg1.l13.m1.1.2.3.cmml" xref="alg1.l13.m1.1.2.3"><ci id="alg1.l13.m1.1.2.3.1.cmml" xref="alg1.l13.m1.1.2.3.1">\</ci><apply id="alg1.l13.m1.1.2.3.2.cmml" xref="alg1.l13.m1.1.2.3.2"><csymbol cd="ambiguous" id="alg1.l13.m1.1.2.3.2.1.cmml" xref="alg1.l13.m1.1.2.3.2">subscript</csymbol><ci id="alg1.l13.m1.1.2.3.2.2.cmml" xref="alg1.l13.m1.1.2.3.2.2">ℛ</ci><ci id="alg1.l13.m1.1.2.3.2.3.cmml" xref="alg1.l13.m1.1.2.3.2.3">𝑢</ci></apply><set id="alg1.l13.m1.1.2.3.3.1.cmml" xref="alg1.l13.m1.1.2.3.3.2"><ci id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1">𝑖</ci></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">t\in\mathcal{R}_{u}\backslash\{i\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l13.m1.1d">italic_t ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT \ { italic_i }</annotation></semantics></math><span class="ltx_text" id="alg1.l13.5" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l13.6" style="font-size:70%;">do</span><span class="ltx_text" id="alg1.l13.7" style="font-size:70%;">
</span>
</div>
<div class="ltx_listingline" id="alg1.l14">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l14.1.1.1" style="font-size:80%;">14:</span></span><span class="ltx_text" id="alg1.l14.2" style="font-size:70%;">       Compute </span><math alttext="\gamma_{i,t}" class="ltx_Math" display="inline" id="alg1.l14.m1.2"><semantics id="alg1.l14.m1.2a"><msub id="alg1.l14.m1.2.3" xref="alg1.l14.m1.2.3.cmml"><mi id="alg1.l14.m1.2.3.2" mathsize="70%" xref="alg1.l14.m1.2.3.2.cmml">γ</mi><mrow id="alg1.l14.m1.2.2.2.4" xref="alg1.l14.m1.2.2.2.3.cmml"><mi id="alg1.l14.m1.1.1.1.1" mathsize="70%" xref="alg1.l14.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l14.m1.2.2.2.4.1" mathsize="70%" xref="alg1.l14.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l14.m1.2.2.2.2" mathsize="70%" xref="alg1.l14.m1.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.2b"><apply id="alg1.l14.m1.2.3.cmml" xref="alg1.l14.m1.2.3"><csymbol cd="ambiguous" id="alg1.l14.m1.2.3.1.cmml" xref="alg1.l14.m1.2.3">subscript</csymbol><ci id="alg1.l14.m1.2.3.2.cmml" xref="alg1.l14.m1.2.3.2">𝛾</ci><list id="alg1.l14.m1.2.2.2.3.cmml" xref="alg1.l14.m1.2.2.2.4"><ci id="alg1.l14.m1.1.1.1.1.cmml" xref="alg1.l14.m1.1.1.1.1">𝑖</ci><ci id="alg1.l14.m1.2.2.2.2.cmml" xref="alg1.l14.m1.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.2c">\gamma_{i,t}</annotation><annotation encoding="application/x-llamapun" id="alg1.l14.m1.2d">italic_γ start_POSTSUBSCRIPT italic_i , italic_t end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l14.3" style="font-size:70%;"> and </span><math alttext="\gamma_{j,t}" class="ltx_Math" display="inline" id="alg1.l14.m2.2"><semantics id="alg1.l14.m2.2a"><msub id="alg1.l14.m2.2.3" xref="alg1.l14.m2.2.3.cmml"><mi id="alg1.l14.m2.2.3.2" mathsize="70%" xref="alg1.l14.m2.2.3.2.cmml">γ</mi><mrow id="alg1.l14.m2.2.2.2.4" xref="alg1.l14.m2.2.2.2.3.cmml"><mi id="alg1.l14.m2.1.1.1.1" mathsize="70%" xref="alg1.l14.m2.1.1.1.1.cmml">j</mi><mo id="alg1.l14.m2.2.2.2.4.1" mathsize="70%" xref="alg1.l14.m2.2.2.2.3.cmml">,</mo><mi id="alg1.l14.m2.2.2.2.2" mathsize="70%" xref="alg1.l14.m2.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l14.m2.2b"><apply id="alg1.l14.m2.2.3.cmml" xref="alg1.l14.m2.2.3"><csymbol cd="ambiguous" id="alg1.l14.m2.2.3.1.cmml" xref="alg1.l14.m2.2.3">subscript</csymbol><ci id="alg1.l14.m2.2.3.2.cmml" xref="alg1.l14.m2.2.3.2">𝛾</ci><list id="alg1.l14.m2.2.2.2.3.cmml" xref="alg1.l14.m2.2.2.2.4"><ci id="alg1.l14.m2.1.1.1.1.cmml" xref="alg1.l14.m2.1.1.1.1">𝑗</ci><ci id="alg1.l14.m2.2.2.2.2.cmml" xref="alg1.l14.m2.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m2.2c">\gamma_{j,t}</annotation><annotation encoding="application/x-llamapun" id="alg1.l14.m2.2d">italic_γ start_POSTSUBSCRIPT italic_j , italic_t end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l14.4" style="font-size:70%;"> according to Equation (</span><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E5" style="font-size:70%;" title="In 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">5</span></a><span class="ltx_text" id="alg1.l14.5" style="font-size:70%;">).
</span>
</div>
<div class="ltx_listingline" id="alg1.l15">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l15.1.1.1" style="font-size:80%;">15:</span></span><span class="ltx_text" id="alg1.l15.2" style="font-size:70%;">    </span><span class="ltx_text ltx_font_bold" id="alg1.l15.3" style="font-size:70%;">end</span><span class="ltx_text" id="alg1.l15.4" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l15.5" style="font-size:70%;">for</span>
</div>
<div class="ltx_listingline" id="alg1.l16">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l16.1.1.1" style="font-size:80%;">16:</span></span><span class="ltx_text" id="alg1.l16.2" style="font-size:70%;">    Obtain aggregated </span><math alttext="r_{u,i}" class="ltx_Math" display="inline" id="alg1.l16.m1.2"><semantics id="alg1.l16.m1.2a"><msub id="alg1.l16.m1.2.3" xref="alg1.l16.m1.2.3.cmml"><mi id="alg1.l16.m1.2.3.2" mathsize="70%" xref="alg1.l16.m1.2.3.2.cmml">r</mi><mrow id="alg1.l16.m1.2.2.2.4" xref="alg1.l16.m1.2.2.2.3.cmml"><mi id="alg1.l16.m1.1.1.1.1" mathsize="70%" xref="alg1.l16.m1.1.1.1.1.cmml">u</mi><mo id="alg1.l16.m1.2.2.2.4.1" mathsize="70%" xref="alg1.l16.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l16.m1.2.2.2.2" mathsize="70%" xref="alg1.l16.m1.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l16.m1.2b"><apply id="alg1.l16.m1.2.3.cmml" xref="alg1.l16.m1.2.3"><csymbol cd="ambiguous" id="alg1.l16.m1.2.3.1.cmml" xref="alg1.l16.m1.2.3">subscript</csymbol><ci id="alg1.l16.m1.2.3.2.cmml" xref="alg1.l16.m1.2.3.2">𝑟</ci><list id="alg1.l16.m1.2.2.2.3.cmml" xref="alg1.l16.m1.2.2.2.4"><ci id="alg1.l16.m1.1.1.1.1.cmml" xref="alg1.l16.m1.1.1.1.1">𝑢</ci><ci id="alg1.l16.m1.2.2.2.2.cmml" xref="alg1.l16.m1.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m1.2c">r_{u,i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l16.m1.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l16.3" style="font-size:70%;"> and </span><math alttext="r_{u,j}" class="ltx_Math" display="inline" id="alg1.l16.m2.2"><semantics id="alg1.l16.m2.2a"><msub id="alg1.l16.m2.2.3" xref="alg1.l16.m2.2.3.cmml"><mi id="alg1.l16.m2.2.3.2" mathsize="70%" xref="alg1.l16.m2.2.3.2.cmml">r</mi><mrow id="alg1.l16.m2.2.2.2.4" xref="alg1.l16.m2.2.2.2.3.cmml"><mi id="alg1.l16.m2.1.1.1.1" mathsize="70%" xref="alg1.l16.m2.1.1.1.1.cmml">u</mi><mo id="alg1.l16.m2.2.2.2.4.1" mathsize="70%" xref="alg1.l16.m2.2.2.2.3.cmml">,</mo><mi id="alg1.l16.m2.2.2.2.2" mathsize="70%" xref="alg1.l16.m2.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l16.m2.2b"><apply id="alg1.l16.m2.2.3.cmml" xref="alg1.l16.m2.2.3"><csymbol cd="ambiguous" id="alg1.l16.m2.2.3.1.cmml" xref="alg1.l16.m2.2.3">subscript</csymbol><ci id="alg1.l16.m2.2.3.2.cmml" xref="alg1.l16.m2.2.3.2">𝑟</ci><list id="alg1.l16.m2.2.2.2.3.cmml" xref="alg1.l16.m2.2.2.2.4"><ci id="alg1.l16.m2.1.1.1.1.cmml" xref="alg1.l16.m2.1.1.1.1">𝑢</ci><ci id="alg1.l16.m2.2.2.2.2.cmml" xref="alg1.l16.m2.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m2.2c">r_{u,j}</annotation><annotation encoding="application/x-llamapun" id="alg1.l16.m2.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_j end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l16.4" style="font-size:70%;"> based on </span><math alttext="I_{u,k}" class="ltx_Math" display="inline" id="alg1.l16.m3.2"><semantics id="alg1.l16.m3.2a"><msub id="alg1.l16.m3.2.3" xref="alg1.l16.m3.2.3.cmml"><mi id="alg1.l16.m3.2.3.2" mathsize="70%" xref="alg1.l16.m3.2.3.2.cmml">I</mi><mrow id="alg1.l16.m3.2.2.2.4" xref="alg1.l16.m3.2.2.2.3.cmml"><mi id="alg1.l16.m3.1.1.1.1" mathsize="70%" xref="alg1.l16.m3.1.1.1.1.cmml">u</mi><mo id="alg1.l16.m3.2.2.2.4.1" mathsize="70%" xref="alg1.l16.m3.2.2.2.3.cmml">,</mo><mi id="alg1.l16.m3.2.2.2.2" mathsize="70%" xref="alg1.l16.m3.2.2.2.2.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l16.m3.2b"><apply id="alg1.l16.m3.2.3.cmml" xref="alg1.l16.m3.2.3"><csymbol cd="ambiguous" id="alg1.l16.m3.2.3.1.cmml" xref="alg1.l16.m3.2.3">subscript</csymbol><ci id="alg1.l16.m3.2.3.2.cmml" xref="alg1.l16.m3.2.3.2">𝐼</ci><list id="alg1.l16.m3.2.2.2.3.cmml" xref="alg1.l16.m3.2.2.2.4"><ci id="alg1.l16.m3.1.1.1.1.cmml" xref="alg1.l16.m3.1.1.1.1">𝑢</ci><ci id="alg1.l16.m3.2.2.2.2.cmml" xref="alg1.l16.m3.2.2.2.2">𝑘</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m3.2c">I_{u,k}</annotation><annotation encoding="application/x-llamapun" id="alg1.l16.m3.2d">italic_I start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l16.5" style="font-size:70%;"> and </span><math alttext="\gamma" class="ltx_Math" display="inline" id="alg1.l16.m4.1"><semantics id="alg1.l16.m4.1a"><mi id="alg1.l16.m4.1.1" mathsize="70%" xref="alg1.l16.m4.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="alg1.l16.m4.1b"><ci id="alg1.l16.m4.1.1.cmml" xref="alg1.l16.m4.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l16.m4.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="alg1.l16.m4.1d">italic_γ</annotation></semantics></math><span class="ltx_text" id="alg1.l16.6" style="font-size:70%;"> respectively according to Equation (</span><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E10" style="font-size:70%;" title="In 4.2.2 Reference-dependent Utility with Attribute Salience. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">10</span></a><span class="ltx_text" id="alg1.l16.7" style="font-size:70%;">).
</span>
</div>
<div class="ltx_listingline" id="alg1.l17">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l17.1.1.1" style="font-size:80%;">17:</span></span><span class="ltx_text" id="alg1.l17.2" style="font-size:70%;">    Compute the objective function </span><math alttext="\mathcal{L}" class="ltx_Math" display="inline" id="alg1.l17.m1.1"><semantics id="alg1.l17.m1.1a"><mi class="ltx_font_mathcaligraphic" id="alg1.l17.m1.1.1" mathsize="70%" xref="alg1.l17.m1.1.1.cmml">ℒ</mi><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b"><ci id="alg1.l17.m1.1.1.cmml" xref="alg1.l17.m1.1.1">ℒ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.1c">\mathcal{L}</annotation><annotation encoding="application/x-llamapun" id="alg1.l17.m1.1d">caligraphic_L</annotation></semantics></math><span class="ltx_text" id="alg1.l17.3" style="font-size:70%;"> according to Equation (</span><a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E13" style="font-size:70%;" title="In 4.3 Ranking-based Recommendation and Model Optimization ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">13</span></a><span class="ltx_text" id="alg1.l17.4" style="font-size:70%;">) as well as </span><math alttext="L_{2}" class="ltx_Math" display="inline" id="alg1.l17.m2.1"><semantics id="alg1.l17.m2.1a"><msub id="alg1.l17.m2.1.1" xref="alg1.l17.m2.1.1.cmml"><mi id="alg1.l17.m2.1.1.2" mathsize="70%" xref="alg1.l17.m2.1.1.2.cmml">L</mi><mn id="alg1.l17.m2.1.1.3" mathsize="70%" xref="alg1.l17.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.l17.m2.1b"><apply id="alg1.l17.m2.1.1.cmml" xref="alg1.l17.m2.1.1"><csymbol cd="ambiguous" id="alg1.l17.m2.1.1.1.cmml" xref="alg1.l17.m2.1.1">subscript</csymbol><ci id="alg1.l17.m2.1.1.2.cmml" xref="alg1.l17.m2.1.1.2">𝐿</ci><cn id="alg1.l17.m2.1.1.3.cmml" type="integer" xref="alg1.l17.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m2.1c">L_{2}</annotation><annotation encoding="application/x-llamapun" id="alg1.l17.m2.1d">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text" id="alg1.l17.5" style="font-size:70%;"> norm.
</span>
</div>
<div class="ltx_listingline" id="alg1.l18">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l18.1.1.1" style="font-size:80%;">18:</span></span><span class="ltx_text" id="alg1.l18.2" style="font-size:70%;">    Perform gradient descent and update model parameters through the optimization method Adam.
</span>
</div>
<div class="ltx_listingline" id="alg1.l19">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l19.1.1.1" style="font-size:80%;">19:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l19.2" style="font-size:70%;">end</span><span class="ltx_text" id="alg1.l19.3" style="font-size:70%;"> </span><span class="ltx_text ltx_font_bold" id="alg1.l19.4" style="font-size:70%;">while</span>
</div>
<div class="ltx_listingline" id="alg1.l20">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l20.1.1.1" style="font-size:80%;">20:</span></span><span class="ltx_text ltx_font_bold" id="alg1.l20.2" style="font-size:70%;">return</span><span class="ltx_text" id="alg1.l20.3" style="font-size:70%;"> Learned model parameters.
</span>
</div>
</div>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Product Recommendation Generation</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.4">We here explain how to apply our constructed reference-dependent choice model to make recommendations. Specifically, for a consumer <math alttext="u" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1"><semantics id="S4.SS4.p1.1.m1.1a"><mi id="S4.SS4.p1.1.m1.1.1" xref="S4.SS4.p1.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.1d">italic_u</annotation></semantics></math> and a target product <math alttext="i" class="ltx_Math" display="inline" id="S4.SS4.p1.2.m2.1"><semantics id="S4.SS4.p1.2.m2.1a"><mi id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><ci id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.2.m2.1d">italic_i</annotation></semantics></math> that has been previously purchased by others, we retrieve the corresponding node embeddings <math alttext="\mathbf{h}_{i}^{k}" class="ltx_Math" display="inline" id="S4.SS4.p1.3.m3.1"><semantics id="S4.SS4.p1.3.m3.1a"><msubsup id="S4.SS4.p1.3.m3.1.1" xref="S4.SS4.p1.3.m3.1.1.cmml"><mi id="S4.SS4.p1.3.m3.1.1.2.2" xref="S4.SS4.p1.3.m3.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS4.p1.3.m3.1.1.2.3" xref="S4.SS4.p1.3.m3.1.1.2.3.cmml">i</mi><mi id="S4.SS4.p1.3.m3.1.1.3" xref="S4.SS4.p1.3.m3.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><apply id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.3.m3.1.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1">superscript</csymbol><apply id="S4.SS4.p1.3.m3.1.1.2.cmml" xref="S4.SS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.3.m3.1.1.2.1.cmml" xref="S4.SS4.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p1.3.m3.1.1.2.2.cmml" xref="S4.SS4.p1.3.m3.1.1.2.2">𝐡</ci><ci id="S4.SS4.p1.3.m3.1.1.2.3.cmml" xref="S4.SS4.p1.3.m3.1.1.2.3">𝑖</ci></apply><ci id="S4.SS4.p1.3.m3.1.1.3.cmml" xref="S4.SS4.p1.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">\mathbf{h}_{i}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.3.m3.1d">bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> from each ARN <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S4.SS4.p1.4.m4.1"><semantics id="S4.SS4.p1.4.m4.1a"><msup id="S4.SS4.p1.4.m4.1.1" xref="S4.SS4.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p1.4.m4.1.1.2" xref="S4.SS4.p1.4.m4.1.1.2.cmml">𝒢</mi><mi id="S4.SS4.p1.4.m4.1.1.3" xref="S4.SS4.p1.4.m4.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.4.m4.1b"><apply id="S4.SS4.p1.4.m4.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.4.m4.1.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1">superscript</csymbol><ci id="S4.SS4.p1.4.m4.1.1.2.cmml" xref="S4.SS4.p1.4.m4.1.1.2">𝒢</ci><ci id="S4.SS4.p1.4.m4.1.1.3.cmml" xref="S4.SS4.p1.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.4.m4.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.4.m4.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> according to Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E3" title="In 4.1 Product Representation Learning in Attributed Reference Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">3</span></a>). Subsequently, we utilize Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E10" title="In 4.2.2 Reference-dependent Utility with Attribute Salience. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">10</span></a>) to estimate the reference-dependent utility for the product. By computing the utility scores for all available candidate products, we can then rank the candidates accordingly, with those receiving the highest utility scores being recommended to the consumer.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.7">A prevailing challenge faced by most traditional recommendation methods is their limited applicability to <em class="ltx_emph ltx_font_italic" id="S4.SS4.p2.7.1">cold-start</em> products, <em class="ltx_emph ltx_font_italic" id="S4.SS4.p2.7.2">i.e.</em>, products with scarce or even void purchasing records in history. Our proposed modeling framework <em class="ltx_emph ltx_font_italic" id="S4.SS4.p2.7.3">ArcRec</em> indeed exhibits potentials in addressing this challenge due to its attribute-level expressiveness.
While the representations of cold-start products cannot be directly constructed from past purchases, we can establish connections between these products and existing ones in different ARNs via the observed attribute values. Specifically, we consider a cold-start product as a new node denoted by <math alttext="c" class="ltx_Math" display="inline" id="S4.SS4.p2.1.m1.1"><semantics id="S4.SS4.p2.1.m1.1a"><mi id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><ci id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">c</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.1.m1.1d">italic_c</annotation></semantics></math>, possessing an attribute vector <math alttext="\mathbf{f}_{c}" class="ltx_Math" display="inline" id="S4.SS4.p2.2.m2.1"><semantics id="S4.SS4.p2.2.m2.1a"><msub id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml">𝐟</mi><mi id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2">𝐟</ci><ci id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">\mathbf{f}_{c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.2.m2.1d">bold_f start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>. In the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS4.p2.3.m3.1"><semantics id="S4.SS4.p2.3.m3.1a"><mi id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><ci id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.3.m3.1d">italic_k</annotation></semantics></math>-th ARN, we connect this node to existing nodes that share similar attribute values with <math alttext="\mathbf{f}_{c}^{k}" class="ltx_Math" display="inline" id="S4.SS4.p2.4.m4.1"><semantics id="S4.SS4.p2.4.m4.1a"><msubsup id="S4.SS4.p2.4.m4.1.1" xref="S4.SS4.p2.4.m4.1.1.cmml"><mi id="S4.SS4.p2.4.m4.1.1.2.2" xref="S4.SS4.p2.4.m4.1.1.2.2.cmml">𝐟</mi><mi id="S4.SS4.p2.4.m4.1.1.2.3" xref="S4.SS4.p2.4.m4.1.1.2.3.cmml">c</mi><mi id="S4.SS4.p2.4.m4.1.1.3" xref="S4.SS4.p2.4.m4.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.4.m4.1b"><apply id="S4.SS4.p2.4.m4.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.4.m4.1.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1">superscript</csymbol><apply id="S4.SS4.p2.4.m4.1.1.2.cmml" xref="S4.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.4.m4.1.1.2.1.cmml" xref="S4.SS4.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS4.p2.4.m4.1.1.2.2.cmml" xref="S4.SS4.p2.4.m4.1.1.2.2">𝐟</ci><ci id="S4.SS4.p2.4.m4.1.1.2.3.cmml" xref="S4.SS4.p2.4.m4.1.1.2.3">𝑐</ci></apply><ci id="S4.SS4.p2.4.m4.1.1.3.cmml" xref="S4.SS4.p2.4.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.4.m4.1c">\mathbf{f}_{c}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.4.m4.1d">bold_f start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>, regardless of the co-purchasing records. With the model parameters learned in the training procedure, we can also obtain <math alttext="c" class="ltx_Math" display="inline" id="S4.SS4.p2.5.m5.1"><semantics id="S4.SS4.p2.5.m5.1a"><mi id="S4.SS4.p2.5.m5.1.1" xref="S4.SS4.p2.5.m5.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.5.m5.1b"><ci id="S4.SS4.p2.5.m5.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.5.m5.1c">c</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.5.m5.1d">italic_c</annotation></semantics></math>’s node embedding <math alttext="\mathbf{h}_{c}^{k}" class="ltx_Math" display="inline" id="S4.SS4.p2.6.m6.1"><semantics id="S4.SS4.p2.6.m6.1a"><msubsup id="S4.SS4.p2.6.m6.1.1" xref="S4.SS4.p2.6.m6.1.1.cmml"><mi id="S4.SS4.p2.6.m6.1.1.2.2" xref="S4.SS4.p2.6.m6.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS4.p2.6.m6.1.1.2.3" xref="S4.SS4.p2.6.m6.1.1.2.3.cmml">c</mi><mi id="S4.SS4.p2.6.m6.1.1.3" xref="S4.SS4.p2.6.m6.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.6.m6.1b"><apply id="S4.SS4.p2.6.m6.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.6.m6.1.1.1.cmml" xref="S4.SS4.p2.6.m6.1.1">superscript</csymbol><apply id="S4.SS4.p2.6.m6.1.1.2.cmml" xref="S4.SS4.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.6.m6.1.1.2.1.cmml" xref="S4.SS4.p2.6.m6.1.1">subscript</csymbol><ci id="S4.SS4.p2.6.m6.1.1.2.2.cmml" xref="S4.SS4.p2.6.m6.1.1.2.2">𝐡</ci><ci id="S4.SS4.p2.6.m6.1.1.2.3.cmml" xref="S4.SS4.p2.6.m6.1.1.2.3">𝑐</ci></apply><ci id="S4.SS4.p2.6.m6.1.1.3.cmml" xref="S4.SS4.p2.6.m6.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.6.m6.1c">\mathbf{h}_{c}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.6.m6.1d">bold_h start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> from the <math alttext="k" class="ltx_Math" display="inline" id="S4.SS4.p2.7.m7.1"><semantics id="S4.SS4.p2.7.m7.1a"><mi id="S4.SS4.p2.7.m7.1.1" xref="S4.SS4.p2.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.7.m7.1b"><ci id="S4.SS4.p2.7.m7.1.1.cmml" xref="S4.SS4.p2.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.7.m7.1d">italic_k</annotation></semantics></math>-th ARN through a mean pooling operation among its one-hop neighbors. Formally, the above process can be described as</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S6.EGx1">
<tbody id="S4.E14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathbf{h}_{c}^{k}=\frac{1}{|\mathcal{N}_{c}^{k}|}\sum_{i\in%
\mathcal{N}_{c}^{k}}\mathbf{h}_{i}^{k},\,c\notin\mathcal{V},\ i\in\mathcal{V}," class="ltx_Math" display="inline" id="S4.E14.m1.2"><semantics id="S4.E14.m1.2a"><mrow id="S4.E14.m1.2.2.1"><mrow id="S4.E14.m1.2.2.1.1.2" xref="S4.E14.m1.2.2.1.1.3.cmml"><mrow id="S4.E14.m1.2.2.1.1.1.1" xref="S4.E14.m1.2.2.1.1.1.1.cmml"><msubsup id="S4.E14.m1.2.2.1.1.1.1.2" xref="S4.E14.m1.2.2.1.1.1.1.2.cmml"><mi id="S4.E14.m1.2.2.1.1.1.1.2.2.2" xref="S4.E14.m1.2.2.1.1.1.1.2.2.2.cmml">𝐡</mi><mi id="S4.E14.m1.2.2.1.1.1.1.2.2.3" xref="S4.E14.m1.2.2.1.1.1.1.2.2.3.cmml">c</mi><mi id="S4.E14.m1.2.2.1.1.1.1.2.3" xref="S4.E14.m1.2.2.1.1.1.1.2.3.cmml">k</mi></msubsup><mo id="S4.E14.m1.2.2.1.1.1.1.1" xref="S4.E14.m1.2.2.1.1.1.1.1.cmml">=</mo><mrow id="S4.E14.m1.2.2.1.1.1.1.3" xref="S4.E14.m1.2.2.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="S4.E14.m1.1.1" xref="S4.E14.m1.1.1.cmml"><mfrac id="S4.E14.m1.1.1a" xref="S4.E14.m1.1.1.cmml"><mn id="S4.E14.m1.1.1.3" xref="S4.E14.m1.1.1.3.cmml">1</mn><mrow id="S4.E14.m1.1.1.1.1" xref="S4.E14.m1.1.1.1.2.cmml"><mo id="S4.E14.m1.1.1.1.1.2" stretchy="false" xref="S4.E14.m1.1.1.1.2.1.cmml">|</mo><msubsup id="S4.E14.m1.1.1.1.1.1" xref="S4.E14.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E14.m1.1.1.1.1.1.2.2" xref="S4.E14.m1.1.1.1.1.1.2.2.cmml">𝒩</mi><mi id="S4.E14.m1.1.1.1.1.1.2.3" xref="S4.E14.m1.1.1.1.1.1.2.3.cmml">c</mi><mi id="S4.E14.m1.1.1.1.1.1.3" xref="S4.E14.m1.1.1.1.1.1.3.cmml">k</mi></msubsup><mo id="S4.E14.m1.1.1.1.1.3" stretchy="false" xref="S4.E14.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo id="S4.E14.m1.2.2.1.1.1.1.3.1" xref="S4.E14.m1.2.2.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.E14.m1.2.2.1.1.1.1.3.2" xref="S4.E14.m1.2.2.1.1.1.1.3.2.cmml"><mstyle displaystyle="true" id="S4.E14.m1.2.2.1.1.1.1.3.2.1" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.cmml"><munder id="S4.E14.m1.2.2.1.1.1.1.3.2.1a" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.cmml"><mo id="S4.E14.m1.2.2.1.1.1.1.3.2.1.2" movablelimits="false" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.2.cmml">∑</mo><mrow id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.cmml"><mi id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.2" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.2.cmml">i</mi><mo id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.1" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.1.cmml">∈</mo><msubsup id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.2" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.2.cmml">𝒩</mi><mi id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.3" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.3.cmml">c</mi><mi id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.3" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.3.cmml">k</mi></msubsup></mrow></munder></mstyle><msubsup id="S4.E14.m1.2.2.1.1.1.1.3.2.2" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2.cmml"><mi id="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.2" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.2.cmml">𝐡</mi><mi id="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.3" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.3.cmml">i</mi><mi id="S4.E14.m1.2.2.1.1.1.1.3.2.2.3" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2.3.cmml">k</mi></msubsup></mrow></mrow></mrow><mo id="S4.E14.m1.2.2.1.1.2.3" rspace="0.337em" xref="S4.E14.m1.2.2.1.1.3a.cmml">,</mo><mrow id="S4.E14.m1.2.2.1.1.2.2.2" xref="S4.E14.m1.2.2.1.1.2.2.3.cmml"><mrow id="S4.E14.m1.2.2.1.1.2.2.1.1" xref="S4.E14.m1.2.2.1.1.2.2.1.1.cmml"><mi id="S4.E14.m1.2.2.1.1.2.2.1.1.2" xref="S4.E14.m1.2.2.1.1.2.2.1.1.2.cmml">c</mi><mo id="S4.E14.m1.2.2.1.1.2.2.1.1.1" xref="S4.E14.m1.2.2.1.1.2.2.1.1.1.cmml">∉</mo><mi class="ltx_font_mathcaligraphic" id="S4.E14.m1.2.2.1.1.2.2.1.1.3" xref="S4.E14.m1.2.2.1.1.2.2.1.1.3.cmml">𝒱</mi></mrow><mo id="S4.E14.m1.2.2.1.1.2.2.2.3" rspace="0.667em" xref="S4.E14.m1.2.2.1.1.2.2.3a.cmml">,</mo><mrow id="S4.E14.m1.2.2.1.1.2.2.2.2" xref="S4.E14.m1.2.2.1.1.2.2.2.2.cmml"><mi id="S4.E14.m1.2.2.1.1.2.2.2.2.2" xref="S4.E14.m1.2.2.1.1.2.2.2.2.2.cmml">i</mi><mo id="S4.E14.m1.2.2.1.1.2.2.2.2.1" xref="S4.E14.m1.2.2.1.1.2.2.2.2.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E14.m1.2.2.1.1.2.2.2.2.3" xref="S4.E14.m1.2.2.1.1.2.2.2.2.3.cmml">𝒱</mi></mrow></mrow></mrow><mo id="S4.E14.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E14.m1.2b"><apply id="S4.E14.m1.2.2.1.1.3.cmml" xref="S4.E14.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.3a.cmml" xref="S4.E14.m1.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S4.E14.m1.2.2.1.1.1.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1"><eq id="S4.E14.m1.2.2.1.1.1.1.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.1"></eq><apply id="S4.E14.m1.2.2.1.1.1.1.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.1.1.2.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.2">superscript</csymbol><apply id="S4.E14.m1.2.2.1.1.1.1.2.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.1.1.2.2.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.2">subscript</csymbol><ci id="S4.E14.m1.2.2.1.1.1.1.2.2.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.2.2.2">𝐡</ci><ci id="S4.E14.m1.2.2.1.1.1.1.2.2.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.2.2.3">𝑐</ci></apply><ci id="S4.E14.m1.2.2.1.1.1.1.2.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.E14.m1.2.2.1.1.1.1.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3"><times id="S4.E14.m1.2.2.1.1.1.1.3.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.1"></times><apply id="S4.E14.m1.1.1.cmml" xref="S4.E14.m1.1.1"><divide id="S4.E14.m1.1.1.2.cmml" xref="S4.E14.m1.1.1"></divide><cn id="S4.E14.m1.1.1.3.cmml" type="integer" xref="S4.E14.m1.1.1.3">1</cn><apply id="S4.E14.m1.1.1.1.2.cmml" xref="S4.E14.m1.1.1.1.1"><abs id="S4.E14.m1.1.1.1.2.1.cmml" xref="S4.E14.m1.1.1.1.1.2"></abs><apply id="S4.E14.m1.1.1.1.1.1.cmml" xref="S4.E14.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E14.m1.1.1.1.1.1.1.cmml" xref="S4.E14.m1.1.1.1.1.1">superscript</csymbol><apply id="S4.E14.m1.1.1.1.1.1.2.cmml" xref="S4.E14.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E14.m1.1.1.1.1.1.2.1.cmml" xref="S4.E14.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.E14.m1.1.1.1.1.1.2.2.cmml" xref="S4.E14.m1.1.1.1.1.1.2.2">𝒩</ci><ci id="S4.E14.m1.1.1.1.1.1.2.3.cmml" xref="S4.E14.m1.1.1.1.1.1.2.3">𝑐</ci></apply><ci id="S4.E14.m1.1.1.1.1.1.3.cmml" xref="S4.E14.m1.1.1.1.1.1.3">𝑘</ci></apply></apply></apply><apply id="S4.E14.m1.2.2.1.1.1.1.3.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2"><apply id="S4.E14.m1.2.2.1.1.1.1.3.2.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.1.1.3.2.1.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1">subscript</csymbol><sum id="S4.E14.m1.2.2.1.1.1.1.3.2.1.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.2"></sum><apply id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3"><in id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.1"></in><ci id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.2">𝑖</ci><apply id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3">superscript</csymbol><apply id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3">subscript</csymbol><ci id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.2">𝒩</ci><ci id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.2.3">𝑐</ci></apply><ci id="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.1.3.3.3">𝑘</ci></apply></apply></apply><apply id="S4.E14.m1.2.2.1.1.1.1.3.2.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.1.1.3.2.2.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2">superscript</csymbol><apply id="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.1.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2">subscript</csymbol><ci id="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.2.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.2">𝐡</ci><ci id="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2.2.3">𝑖</ci></apply><ci id="S4.E14.m1.2.2.1.1.1.1.3.2.2.3.cmml" xref="S4.E14.m1.2.2.1.1.1.1.3.2.2.3">𝑘</ci></apply></apply></apply></apply><apply id="S4.E14.m1.2.2.1.1.2.2.3.cmml" xref="S4.E14.m1.2.2.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E14.m1.2.2.1.1.2.2.3a.cmml" xref="S4.E14.m1.2.2.1.1.2.2.2.3">formulae-sequence</csymbol><apply id="S4.E14.m1.2.2.1.1.2.2.1.1.cmml" xref="S4.E14.m1.2.2.1.1.2.2.1.1"><notin id="S4.E14.m1.2.2.1.1.2.2.1.1.1.cmml" xref="S4.E14.m1.2.2.1.1.2.2.1.1.1"></notin><ci id="S4.E14.m1.2.2.1.1.2.2.1.1.2.cmml" xref="S4.E14.m1.2.2.1.1.2.2.1.1.2">𝑐</ci><ci id="S4.E14.m1.2.2.1.1.2.2.1.1.3.cmml" xref="S4.E14.m1.2.2.1.1.2.2.1.1.3">𝒱</ci></apply><apply id="S4.E14.m1.2.2.1.1.2.2.2.2.cmml" xref="S4.E14.m1.2.2.1.1.2.2.2.2"><in id="S4.E14.m1.2.2.1.1.2.2.2.2.1.cmml" xref="S4.E14.m1.2.2.1.1.2.2.2.2.1"></in><ci id="S4.E14.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S4.E14.m1.2.2.1.1.2.2.2.2.2">𝑖</ci><ci id="S4.E14.m1.2.2.1.1.2.2.2.2.3.cmml" xref="S4.E14.m1.2.2.1.1.2.2.2.2.3">𝒱</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E14.m1.2c">\displaystyle\mathbf{h}_{c}^{k}=\frac{1}{|\mathcal{N}_{c}^{k}|}\sum_{i\in%
\mathcal{N}_{c}^{k}}\mathbf{h}_{i}^{k},\,c\notin\mathcal{V},\ i\in\mathcal{V},</annotation><annotation encoding="application/x-llamapun" id="S4.E14.m1.2d">bold_h start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT = divide start_ARG 1 end_ARG start_ARG | caligraphic_N start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT | end_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ caligraphic_N start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT end_POSTSUBSCRIPT bold_h start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT , italic_c ∉ caligraphic_V , italic_i ∈ caligraphic_V ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS4.p2.12">where <math alttext="\mathcal{N}_{c}^{k}" class="ltx_Math" display="inline" id="S4.SS4.p2.8.m1.1"><semantics id="S4.SS4.p2.8.m1.1a"><msubsup id="S4.SS4.p2.8.m1.1.1" xref="S4.SS4.p2.8.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.8.m1.1.1.2.2" xref="S4.SS4.p2.8.m1.1.1.2.2.cmml">𝒩</mi><mi id="S4.SS4.p2.8.m1.1.1.2.3" xref="S4.SS4.p2.8.m1.1.1.2.3.cmml">c</mi><mi id="S4.SS4.p2.8.m1.1.1.3" xref="S4.SS4.p2.8.m1.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.8.m1.1b"><apply id="S4.SS4.p2.8.m1.1.1.cmml" xref="S4.SS4.p2.8.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.8.m1.1.1.1.cmml" xref="S4.SS4.p2.8.m1.1.1">superscript</csymbol><apply id="S4.SS4.p2.8.m1.1.1.2.cmml" xref="S4.SS4.p2.8.m1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.8.m1.1.1.2.1.cmml" xref="S4.SS4.p2.8.m1.1.1">subscript</csymbol><ci id="S4.SS4.p2.8.m1.1.1.2.2.cmml" xref="S4.SS4.p2.8.m1.1.1.2.2">𝒩</ci><ci id="S4.SS4.p2.8.m1.1.1.2.3.cmml" xref="S4.SS4.p2.8.m1.1.1.2.3">𝑐</ci></apply><ci id="S4.SS4.p2.8.m1.1.1.3.cmml" xref="S4.SS4.p2.8.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.8.m1.1c">\mathcal{N}_{c}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.8.m1.1d">caligraphic_N start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math> denotes the one-hop neighbor set of product node <math alttext="c" class="ltx_Math" display="inline" id="S4.SS4.p2.9.m2.1"><semantics id="S4.SS4.p2.9.m2.1a"><mi id="S4.SS4.p2.9.m2.1.1" xref="S4.SS4.p2.9.m2.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.9.m2.1b"><ci id="S4.SS4.p2.9.m2.1.1.cmml" xref="S4.SS4.p2.9.m2.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.9.m2.1c">c</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.9.m2.1d">italic_c</annotation></semantics></math> in the ARN <math alttext="\mathcal{G}^{k}" class="ltx_Math" display="inline" id="S4.SS4.p2.10.m3.1"><semantics id="S4.SS4.p2.10.m3.1a"><msup id="S4.SS4.p2.10.m3.1.1" xref="S4.SS4.p2.10.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS4.p2.10.m3.1.1.2" xref="S4.SS4.p2.10.m3.1.1.2.cmml">𝒢</mi><mi id="S4.SS4.p2.10.m3.1.1.3" xref="S4.SS4.p2.10.m3.1.1.3.cmml">k</mi></msup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.10.m3.1b"><apply id="S4.SS4.p2.10.m3.1.1.cmml" xref="S4.SS4.p2.10.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.10.m3.1.1.1.cmml" xref="S4.SS4.p2.10.m3.1.1">superscript</csymbol><ci id="S4.SS4.p2.10.m3.1.1.2.cmml" xref="S4.SS4.p2.10.m3.1.1.2">𝒢</ci><ci id="S4.SS4.p2.10.m3.1.1.3.cmml" xref="S4.SS4.p2.10.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.10.m3.1c">\mathcal{G}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.10.m3.1d">caligraphic_G start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>. With the learned representation <math alttext="\mathbf{h}_{c}^{k}" class="ltx_Math" display="inline" id="S4.SS4.p2.11.m4.1"><semantics id="S4.SS4.p2.11.m4.1a"><msubsup id="S4.SS4.p2.11.m4.1.1" xref="S4.SS4.p2.11.m4.1.1.cmml"><mi id="S4.SS4.p2.11.m4.1.1.2.2" xref="S4.SS4.p2.11.m4.1.1.2.2.cmml">𝐡</mi><mi id="S4.SS4.p2.11.m4.1.1.2.3" xref="S4.SS4.p2.11.m4.1.1.2.3.cmml">c</mi><mi id="S4.SS4.p2.11.m4.1.1.3" xref="S4.SS4.p2.11.m4.1.1.3.cmml">k</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.11.m4.1b"><apply id="S4.SS4.p2.11.m4.1.1.cmml" xref="S4.SS4.p2.11.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.11.m4.1.1.1.cmml" xref="S4.SS4.p2.11.m4.1.1">superscript</csymbol><apply id="S4.SS4.p2.11.m4.1.1.2.cmml" xref="S4.SS4.p2.11.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.11.m4.1.1.2.1.cmml" xref="S4.SS4.p2.11.m4.1.1">subscript</csymbol><ci id="S4.SS4.p2.11.m4.1.1.2.2.cmml" xref="S4.SS4.p2.11.m4.1.1.2.2">𝐡</ci><ci id="S4.SS4.p2.11.m4.1.1.2.3.cmml" xref="S4.SS4.p2.11.m4.1.1.2.3">𝑐</ci></apply><ci id="S4.SS4.p2.11.m4.1.1.3.cmml" xref="S4.SS4.p2.11.m4.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.11.m4.1c">\mathbf{h}_{c}^{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.11.m4.1d">bold_h start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_k end_POSTSUPERSCRIPT</annotation></semantics></math>, we can compute the utility score <math alttext="r_{u,c}" class="ltx_Math" display="inline" id="S4.SS4.p2.12.m5.2"><semantics id="S4.SS4.p2.12.m5.2a"><msub id="S4.SS4.p2.12.m5.2.3" xref="S4.SS4.p2.12.m5.2.3.cmml"><mi id="S4.SS4.p2.12.m5.2.3.2" xref="S4.SS4.p2.12.m5.2.3.2.cmml">r</mi><mrow id="S4.SS4.p2.12.m5.2.2.2.4" xref="S4.SS4.p2.12.m5.2.2.2.3.cmml"><mi id="S4.SS4.p2.12.m5.1.1.1.1" xref="S4.SS4.p2.12.m5.1.1.1.1.cmml">u</mi><mo id="S4.SS4.p2.12.m5.2.2.2.4.1" xref="S4.SS4.p2.12.m5.2.2.2.3.cmml">,</mo><mi id="S4.SS4.p2.12.m5.2.2.2.2" xref="S4.SS4.p2.12.m5.2.2.2.2.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.12.m5.2b"><apply id="S4.SS4.p2.12.m5.2.3.cmml" xref="S4.SS4.p2.12.m5.2.3"><csymbol cd="ambiguous" id="S4.SS4.p2.12.m5.2.3.1.cmml" xref="S4.SS4.p2.12.m5.2.3">subscript</csymbol><ci id="S4.SS4.p2.12.m5.2.3.2.cmml" xref="S4.SS4.p2.12.m5.2.3.2">𝑟</ci><list id="S4.SS4.p2.12.m5.2.2.2.3.cmml" xref="S4.SS4.p2.12.m5.2.2.2.4"><ci id="S4.SS4.p2.12.m5.1.1.1.1.cmml" xref="S4.SS4.p2.12.m5.1.1.1.1">𝑢</ci><ci id="S4.SS4.p2.12.m5.2.2.2.2.cmml" xref="S4.SS4.p2.12.m5.2.2.2.2">𝑐</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.12.m5.2c">r_{u,c}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.12.m5.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_c end_POSTSUBSCRIPT</annotation></semantics></math> through Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E10" title="In 4.2.2 Reference-dependent Utility with Attribute Salience. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">10</span></a>), which aligns with the utility computation of previously purchased products and fits the ranking-based recommendation.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Empirical Evaluations</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Evaluation Overview</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.1">Evaluation is critical in validating the efficacy of new recommendation methods. Conducting controlled experiments by deploying the model in a real-world e-commerce platform is an ideal approach for evaluation. However, such experiments can be costly and require platform support. As a result, offline evaluation based on archival dataset or synthetic dataset is commonly adopted by researchers to evaluate the newly proposed recommendation approaches <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib31" title="">2017</a>, Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib53" title="">2017</a>, He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib28" title="">2019</a>)</cite>. The use of synthetic datasets offers the advantage of known true purchase probabilities and parameters of the data generating process, enabling the simulation of controlled environments. On the other hand, archival datasets provide a more realistic representation of real-world situations and data distributions. To demonstrate the robustness of our proposed method in modeling consumers’ choices and providing recommendations, we evaluate our model under both synthetic and archival dataset settings.</p>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">In the evaluation, we first simulate the ground truth purchasing probabilities with respect to consumers’ decision process, taking into account both product attributes and price. Then, we can perform simulation experiments to validate the modeling details of the proposed model and examine its efficacy in revealing consumers’ decision patterns. The simulation experiment serves two primary purposes. On one hand, we can validate whether our model can accurately reconstruct the true purchasing probabilities, thereby validating its ability to capture consumers’ choice behaviors; on the other hand, we can further reveal the effectiveness of the key modeling strategies, such as price-inspired preference modeling in understanding consumers’ attitudes toward the prices of different products.</p>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.1">Meanwhile, we also perform experiments on a real-world e-commerce dataset. We can systematically validate the recommendation performances with a hold-out sampling strategy to split the data into training and testing set. Then, we can answer the following questions through extensive experiments. 1) Can the proposed method outperform the state-of-the-art methods in terms of recommendation accuracy? 2) Given its ability in handling cold-start products, does our method maintain superior model performances under this case? 3) What roles do different modeling modules of ArcRec play in improving the recommendation performance? 4) Can we gain insights from consumers’ AWTP scores to better understand their fine-grained preferences? 5) What impact do different hyperparameters have on the performance of ArcRec?</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Baseline Models</h3>
<div class="ltx_para" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">To demonstrate the superiority of the proposed recommendation method, we compare our proposed method <span class="ltx_text ltx_font_sansserif ltx_font_bold" id="S5.SS2.p1.1.1">ArcRec</span> with the following <span class="ltx_text ltx_font_bold" id="S5.SS2.p1.1.2">14</span> baselines based on implicit feedbacks. They cover a wide range of recommendation methods including classical matrix factorization (MF) based methods, deep learning-based and graph-based CF methods, as well as several methods taking product attributes and/or prices into consideration. These baseline methods are briefly introduced as follows. Note that we adopt the same baselines for both synthetic and real-world datasets.</p>
</div>
<div class="ltx_para" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1"><span class="ltx_text ltx_font_sansserif" id="S5.SS2.p2.1.1">NMF</span> <cite class="ltx_cite ltx_citemacro_citep">(Paatero and Tapper, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib62" title="">1994</a>)</cite> is a collaborative filtering approach that factorizes the consumer-product rating matrix into latent factors. <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p2.1.2">BPR-MF</span> <cite class="ltx_cite ltx_citemacro_citep">(Rendle et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib69" title="">2012</a>)</cite> is a well-known recommendation method that addresses implicit feedback by optimizing the ranking loss function. <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p2.1.3">NeuMF</span> <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib31" title="">2017</a>)</cite> is a state-of-the-art neural matrix factorization model that incorporates multiple non-linear neural network layers to predict consumer-product ratings.
We also include <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p2.1.4">DeepICF</span> <cite class="ltx_cite ltx_citemacro_citep">(Xue et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib95" title="">2019</a>)</cite>, a neural item-based CF method that learns global item similarities using deep feedforward networks.</p>
</div>
<div class="ltx_para" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.1">In the realm of graph-based collaborative filtering, <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p3.1.1">NGCF</span> <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib87" title="">Wang et al., 2019d </a>)</cite> is one of the earliest methods that utilizes graph neural networks to capture high-order relations in the consumer-product bipartite graph. <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p3.1.2">DGCF</span> <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib88" title="">2020</a>)</cite> focuses on modeling relations between consumers and products by leveraging neighbor routing and disentangled graph neural network learning. <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p3.1.3">LightGCN</span> <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib29" title="">2020</a>)</cite> extends NGCF by removing non-linear activation functions and transformation matrices, resulting in a linear GNN-based recommendation method.</p>
</div>
<div class="ltx_para" id="S5.SS2.p4">
<p class="ltx_p" id="S5.SS2.p4.1">In addition, we include recommendation methods that consider product attributes and price as benchmarks for our proposed methods. Specifically, <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p4.1.1">WDL</span> <cite class="ltx_cite ltx_citemacro_citep">(Cheng et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib16" title="">2016</a>)</cite>, <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p4.1.2">DeepFM</span> <cite class="ltx_cite ltx_citemacro_citep">(Guo et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib25" title="">2018</a>)</cite>, <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p4.1.3">xDeepFM</span> <cite class="ltx_cite ltx_citemacro_citep">(Lian et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib54" title="">2018</a>)</cite>, and <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p4.1.4">AutoInt</span> <cite class="ltx_cite ltx_citemacro_citep">(Song et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib73" title="">2019</a>)</cite> treat product price as a continuous value directly, which aligns with our approach. However, these methods view price as a simple product attribute and focus on modeling feature interactions.</p>
</div>
<figure class="ltx_table" id="S5.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Overview of baseline methods</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T1.20" style="width:429.3pt;height:176.4pt;vertical-align:-0.9pt;"><span class="ltx_transformed_inner" style="transform:translate(-24.5pt,10.0pt) scale(0.89738273318717,0.89738273318717) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T1.20.20">
<tr class="ltx_tr" id="S5.T1.20.20.21">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T1.20.20.21.1"><span class="ltx_text ltx_font_bold" id="S5.T1.20.20.21.1.1">Methods</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.20.20.21.2"><span class="ltx_text ltx_font_bold" id="S5.T1.20.20.21.2.1">Matrix Factorization</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.20.20.21.3"><span class="ltx_text ltx_font_bold" id="S5.T1.20.20.21.3.1">Deep Learning</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.20.20.21.4"><span class="ltx_text ltx_font_bold" id="S5.T1.20.20.21.4.1">GNNs</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.20.20.21.5"><span class="ltx_text ltx_font_bold" id="S5.T1.20.20.21.5.1">Attribute</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T1.20.20.21.6"><span class="ltx_text ltx_font_bold" id="S5.T1.20.20.21.6.1">Price</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T1.1.1.1.2">NMF, BPR-MF</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.1.1"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.1.1.1.1.m1.1"><semantics id="S5.T1.1.1.1.1.m1.1a"><mo id="S5.T1.1.1.1.1.m1.1.1" xref="S5.T1.1.1.1.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T1.1.1.1.1.m1.1.1.cmml" xref="S5.T1.1.1.1.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.1.1.1.1.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.1.1.1.1.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_border_t" id="S5.T1.1.1.1.3"></td>
<td class="ltx_td ltx_border_t" id="S5.T1.1.1.1.4"></td>
<td class="ltx_td ltx_border_t" id="S5.T1.1.1.1.5"></td>
<td class="ltx_td ltx_border_t" id="S5.T1.1.1.1.6"></td>
</tr>
<tr class="ltx_tr" id="S5.T1.3.3.3">
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T1.3.3.3.3">NeuMF</td>
<td class="ltx_td ltx_align_center" id="S5.T1.2.2.2.1"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.2.2.2.1.m1.1"><semantics id="S5.T1.2.2.2.1.m1.1a"><mo id="S5.T1.2.2.2.1.m1.1.1" xref="S5.T1.2.2.2.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.2.2.2.1.m1.1b"><csymbol cd="latexml" id="S5.T1.2.2.2.1.m1.1.1.cmml" xref="S5.T1.2.2.2.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.2.2.2.1.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.2.2.2.1.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T1.3.3.3.2"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.3.3.3.2.m1.1"><semantics id="S5.T1.3.3.3.2.m1.1a"><mo id="S5.T1.3.3.3.2.m1.1.1" xref="S5.T1.3.3.3.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.3.3.3.2.m1.1b"><csymbol cd="latexml" id="S5.T1.3.3.3.2.m1.1.1.cmml" xref="S5.T1.3.3.3.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.3.3.3.2.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.3.3.3.2.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td" id="S5.T1.3.3.3.4"></td>
<td class="ltx_td" id="S5.T1.3.3.3.5"></td>
<td class="ltx_td" id="S5.T1.3.3.3.6"></td>
</tr>
<tr class="ltx_tr" id="S5.T1.5.5.5">
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T1.5.5.5.3">DeepICF</td>
<td class="ltx_td ltx_align_center" id="S5.T1.4.4.4.1"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.4.4.4.1.m1.1"><semantics id="S5.T1.4.4.4.1.m1.1a"><mo id="S5.T1.4.4.4.1.m1.1.1" xref="S5.T1.4.4.4.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.4.4.4.1.m1.1b"><csymbol cd="latexml" id="S5.T1.4.4.4.1.m1.1.1.cmml" xref="S5.T1.4.4.4.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.4.4.4.1.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.4.4.4.1.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T1.5.5.5.2"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.5.5.5.2.m1.1"><semantics id="S5.T1.5.5.5.2.m1.1a"><mo id="S5.T1.5.5.5.2.m1.1.1" xref="S5.T1.5.5.5.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.5.5.5.2.m1.1b"><csymbol cd="latexml" id="S5.T1.5.5.5.2.m1.1.1.cmml" xref="S5.T1.5.5.5.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.5.5.5.2.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.5.5.5.2.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td" id="S5.T1.5.5.5.4"></td>
<td class="ltx_td" id="S5.T1.5.5.5.5"></td>
<td class="ltx_td" id="S5.T1.5.5.5.6"></td>
</tr>
<tr class="ltx_tr" id="S5.T1.7.7.7">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T1.7.7.7.3">NGCF, DGCF, LightGCN</td>
<td class="ltx_td ltx_border_t" id="S5.T1.7.7.7.4"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.6.6.6.1"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.6.6.6.1.m1.1"><semantics id="S5.T1.6.6.6.1.m1.1a"><mo id="S5.T1.6.6.6.1.m1.1.1" xref="S5.T1.6.6.6.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.6.6.6.1.m1.1b"><csymbol cd="latexml" id="S5.T1.6.6.6.1.m1.1.1.cmml" xref="S5.T1.6.6.6.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.6.6.6.1.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.6.6.6.1.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.7.7.7.2"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.7.7.7.2.m1.1"><semantics id="S5.T1.7.7.7.2.m1.1a"><mo id="S5.T1.7.7.7.2.m1.1.1" xref="S5.T1.7.7.7.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.7.7.7.2.m1.1b"><csymbol cd="latexml" id="S5.T1.7.7.7.2.m1.1.1.cmml" xref="S5.T1.7.7.7.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.7.7.7.2.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.7.7.7.2.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_border_t" id="S5.T1.7.7.7.5"></td>
<td class="ltx_td ltx_border_t" id="S5.T1.7.7.7.6"></td>
</tr>
<tr class="ltx_tr" id="S5.T1.10.10.10">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T1.10.10.10.4">WDL, DeepFM, xDeepFM, AutoInt</td>
<td class="ltx_td ltx_border_t" id="S5.T1.10.10.10.5"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.8.8.8.1"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.8.8.8.1.m1.1"><semantics id="S5.T1.8.8.8.1.m1.1a"><mo id="S5.T1.8.8.8.1.m1.1.1" xref="S5.T1.8.8.8.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.8.8.8.1.m1.1b"><csymbol cd="latexml" id="S5.T1.8.8.8.1.m1.1.1.cmml" xref="S5.T1.8.8.8.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.8.8.8.1.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.8.8.8.1.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_border_t" id="S5.T1.10.10.10.6"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.9.9.9.2"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.9.9.9.2.m1.1"><semantics id="S5.T1.9.9.9.2.m1.1a"><mo id="S5.T1.9.9.9.2.m1.1.1" xref="S5.T1.9.9.9.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.9.9.9.2.m1.1b"><csymbol cd="latexml" id="S5.T1.9.9.9.2.m1.1.1.cmml" xref="S5.T1.9.9.9.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.9.9.9.2.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.9.9.9.2.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.10.10.10.3"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.10.10.10.3.m1.1"><semantics id="S5.T1.10.10.10.3.m1.1a"><mo id="S5.T1.10.10.10.3.m1.1.1" xref="S5.T1.10.10.10.3.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.10.10.10.3.m1.1b"><csymbol cd="latexml" id="S5.T1.10.10.10.3.m1.1.1.cmml" xref="S5.T1.10.10.10.3.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.10.10.10.3.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.10.10.10.3.m1.1d">√</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S5.T1.13.13.13">
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T1.13.13.13.4">C-FMF</td>
<td class="ltx_td ltx_align_center" id="S5.T1.11.11.11.1"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.11.11.11.1.m1.1"><semantics id="S5.T1.11.11.11.1.m1.1a"><mo id="S5.T1.11.11.11.1.m1.1.1" xref="S5.T1.11.11.11.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.11.11.11.1.m1.1b"><csymbol cd="latexml" id="S5.T1.11.11.11.1.m1.1.1.cmml" xref="S5.T1.11.11.11.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.11.11.11.1.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.11.11.11.1.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td" id="S5.T1.13.13.13.5"></td>
<td class="ltx_td" id="S5.T1.13.13.13.6"></td>
<td class="ltx_td ltx_align_center" id="S5.T1.12.12.12.2"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.12.12.12.2.m1.1"><semantics id="S5.T1.12.12.12.2.m1.1a"><mo id="S5.T1.12.12.12.2.m1.1.1" xref="S5.T1.12.12.12.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.12.12.12.2.m1.1b"><csymbol cd="latexml" id="S5.T1.12.12.12.2.m1.1.1.cmml" xref="S5.T1.12.12.12.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.12.12.12.2.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.12.12.12.2.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T1.13.13.13.3"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.13.13.13.3.m1.1"><semantics id="S5.T1.13.13.13.3.m1.1a"><mo id="S5.T1.13.13.13.3.m1.1.1" xref="S5.T1.13.13.13.3.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.13.13.13.3.m1.1b"><csymbol cd="latexml" id="S5.T1.13.13.13.3.m1.1.1.cmml" xref="S5.T1.13.13.13.3.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.13.13.13.3.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.13.13.13.3.m1.1d">√</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S5.T1.16.16.16">
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T1.16.16.16.4">PaDQ</td>
<td class="ltx_td ltx_align_center" id="S5.T1.14.14.14.1"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.14.14.14.1.m1.1"><semantics id="S5.T1.14.14.14.1.m1.1a"><mo id="S5.T1.14.14.14.1.m1.1.1" xref="S5.T1.14.14.14.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.14.14.14.1.m1.1b"><csymbol cd="latexml" id="S5.T1.14.14.14.1.m1.1.1.cmml" xref="S5.T1.14.14.14.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.14.14.14.1.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.14.14.14.1.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td" id="S5.T1.16.16.16.5"></td>
<td class="ltx_td" id="S5.T1.16.16.16.6"></td>
<td class="ltx_td ltx_align_center" id="S5.T1.15.15.15.2"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.15.15.15.2.m1.1"><semantics id="S5.T1.15.15.15.2.m1.1a"><mo id="S5.T1.15.15.15.2.m1.1.1" xref="S5.T1.15.15.15.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.15.15.15.2.m1.1b"><csymbol cd="latexml" id="S5.T1.15.15.15.2.m1.1.1.cmml" xref="S5.T1.15.15.15.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.15.15.15.2.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.15.15.15.2.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center" id="S5.T1.16.16.16.3"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.16.16.16.3.m1.1"><semantics id="S5.T1.16.16.16.3.m1.1a"><mo id="S5.T1.16.16.16.3.m1.1.1" xref="S5.T1.16.16.16.3.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.16.16.16.3.m1.1b"><csymbol cd="latexml" id="S5.T1.16.16.16.3.m1.1.1.cmml" xref="S5.T1.16.16.16.3.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.16.16.16.3.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.16.16.16.3.m1.1d">√</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S5.T1.20.20.20">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T1.20.20.20.5">PUP</td>
<td class="ltx_td ltx_border_bb" id="S5.T1.20.20.20.6"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.17.17.17.1"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.17.17.17.1.m1.1"><semantics id="S5.T1.17.17.17.1.m1.1a"><mo id="S5.T1.17.17.17.1.m1.1.1" xref="S5.T1.17.17.17.1.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.17.17.17.1.m1.1b"><csymbol cd="latexml" id="S5.T1.17.17.17.1.m1.1.1.cmml" xref="S5.T1.17.17.17.1.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.17.17.17.1.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.17.17.17.1.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.18.18.18.2"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.18.18.18.2.m1.1"><semantics id="S5.T1.18.18.18.2.m1.1a"><mo id="S5.T1.18.18.18.2.m1.1.1" xref="S5.T1.18.18.18.2.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.18.18.18.2.m1.1b"><csymbol cd="latexml" id="S5.T1.18.18.18.2.m1.1.1.cmml" xref="S5.T1.18.18.18.2.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.18.18.18.2.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.18.18.18.2.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.19.19.19.3"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.19.19.19.3.m1.1"><semantics id="S5.T1.19.19.19.3.m1.1a"><mo id="S5.T1.19.19.19.3.m1.1.1" xref="S5.T1.19.19.19.3.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.19.19.19.3.m1.1b"><csymbol cd="latexml" id="S5.T1.19.19.19.3.m1.1.1.cmml" xref="S5.T1.19.19.19.3.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.19.19.19.3.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.19.19.19.3.m1.1d">√</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.20.20.20.4"><math alttext="\surd" class="ltx_Math" display="inline" id="S5.T1.20.20.20.4.m1.1"><semantics id="S5.T1.20.20.20.4.m1.1a"><mo id="S5.T1.20.20.20.4.m1.1.1" xref="S5.T1.20.20.20.4.m1.1.1.cmml">√</mo><annotation-xml encoding="MathML-Content" id="S5.T1.20.20.20.4.m1.1b"><csymbol cd="latexml" id="S5.T1.20.20.20.4.m1.1.1.cmml" xref="S5.T1.20.20.20.4.m1.1.1">square-root</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.20.20.20.4.m1.1c">\surd</annotation><annotation encoding="application/x-llamapun" id="S5.T1.20.20.20.4.m1.1d">√</annotation></semantics></math></td>
</tr>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S5.SS2.p5">
<p class="ltx_p" id="S5.SS2.p5.1">It is worth noting that several methods have been developed to exclusively incorporate product price into recommender systems. <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p5.1.1">C-FMF</span> <cite class="ltx_cite ltx_citemacro_citep">(Wan et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib80" title="">2017</a>)</cite> is based on a feature-based matrix factorization framework with a focus on price, considering price as continuous values. <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p5.1.2">PaDQ</span> <cite class="ltx_cite ltx_citemacro_citep">(Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib14" title="">2014</a>)</cite> and <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p5.1.3">PUP</span> <cite class="ltx_cite ltx_citemacro_citep">(Zheng et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib100" title="">2020</a>)</cite> also incorporate price into their recommendation methods, but they require splitting the price into different bins. However, determining the optimal number of bins and the best splitting method can be challenging and lacks customization for different datasets. In particular, <span class="ltx_text ltx_font_sansserif" id="S5.SS2.p5.1.4">PUP</span> constructs a heterogeneous network by incorporating consumer, product and price as different types of nodes respectively. Then, a graph neural network is applied to learn node representations and make final recommendations. The above baseline methods are summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T1" title="Table 1 ‣ 5.2 Baseline Models ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Evaluation with Simulations</h3>
<section class="ltx_subsubsection" id="S5.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.1 </span>Simulation Setup.</h4>
<div class="ltx_para" id="S5.SS3.SSS1.p1">
<p class="ltx_p" id="S5.SS3.SSS1.p1.22">We draw on theoretical groundings in marketing science to design the data generation process. Specifically, we simulate a retailer with an assortment of <math alttext="|\mathcal{V}|" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.1.m1.1"><semantics id="S5.SS3.SSS1.p1.1.m1.1a"><mrow id="S5.SS3.SSS1.p1.1.m1.1.2.2" xref="S5.SS3.SSS1.p1.1.m1.1.2.1.cmml"><mo id="S5.SS3.SSS1.p1.1.m1.1.2.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.1.m1.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p1.1.m1.1.1" xref="S5.SS3.SSS1.p1.1.m1.1.1.cmml">𝒱</mi><mo id="S5.SS3.SSS1.p1.1.m1.1.2.2.2" stretchy="false" xref="S5.SS3.SSS1.p1.1.m1.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.1.m1.1b"><apply id="S5.SS3.SSS1.p1.1.m1.1.2.1.cmml" xref="S5.SS3.SSS1.p1.1.m1.1.2.2"><abs id="S5.SS3.SSS1.p1.1.m1.1.2.1.1.cmml" xref="S5.SS3.SSS1.p1.1.m1.1.2.2.1"></abs><ci id="S5.SS3.SSS1.p1.1.m1.1.1.cmml" xref="S5.SS3.SSS1.p1.1.m1.1.1">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.1.m1.1c">|\mathcal{V}|</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.1.m1.1d">| caligraphic_V |</annotation></semantics></math> products and <math alttext="|\mathcal{U}|" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.2.m2.1"><semantics id="S5.SS3.SSS1.p1.2.m2.1a"><mrow id="S5.SS3.SSS1.p1.2.m2.1.2.2" xref="S5.SS3.SSS1.p1.2.m2.1.2.1.cmml"><mo id="S5.SS3.SSS1.p1.2.m2.1.2.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.2.m2.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p1.2.m2.1.1" xref="S5.SS3.SSS1.p1.2.m2.1.1.cmml">𝒰</mi><mo id="S5.SS3.SSS1.p1.2.m2.1.2.2.2" stretchy="false" xref="S5.SS3.SSS1.p1.2.m2.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.2.m2.1b"><apply id="S5.SS3.SSS1.p1.2.m2.1.2.1.cmml" xref="S5.SS3.SSS1.p1.2.m2.1.2.2"><abs id="S5.SS3.SSS1.p1.2.m2.1.2.1.1.cmml" xref="S5.SS3.SSS1.p1.2.m2.1.2.2.1"></abs><ci id="S5.SS3.SSS1.p1.2.m2.1.1.cmml" xref="S5.SS3.SSS1.p1.2.m2.1.1">𝒰</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.2.m2.1c">|\mathcal{U}|</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.2.m2.1d">| caligraphic_U |</annotation></semantics></math> consumers, where <math alttext="|\mathcal{V}|" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.3.m3.1"><semantics id="S5.SS3.SSS1.p1.3.m3.1a"><mrow id="S5.SS3.SSS1.p1.3.m3.1.2.2" xref="S5.SS3.SSS1.p1.3.m3.1.2.1.cmml"><mo id="S5.SS3.SSS1.p1.3.m3.1.2.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.3.m3.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p1.3.m3.1.1" xref="S5.SS3.SSS1.p1.3.m3.1.1.cmml">𝒱</mi><mo id="S5.SS3.SSS1.p1.3.m3.1.2.2.2" stretchy="false" xref="S5.SS3.SSS1.p1.3.m3.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.3.m3.1b"><apply id="S5.SS3.SSS1.p1.3.m3.1.2.1.cmml" xref="S5.SS3.SSS1.p1.3.m3.1.2.2"><abs id="S5.SS3.SSS1.p1.3.m3.1.2.1.1.cmml" xref="S5.SS3.SSS1.p1.3.m3.1.2.2.1"></abs><ci id="S5.SS3.SSS1.p1.3.m3.1.1.cmml" xref="S5.SS3.SSS1.p1.3.m3.1.1">𝒱</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.3.m3.1c">|\mathcal{V}|</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.3.m3.1d">| caligraphic_V |</annotation></semantics></math> and <math alttext="|\mathcal{U}|" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.4.m4.1"><semantics id="S5.SS3.SSS1.p1.4.m4.1a"><mrow id="S5.SS3.SSS1.p1.4.m4.1.2.2" xref="S5.SS3.SSS1.p1.4.m4.1.2.1.cmml"><mo id="S5.SS3.SSS1.p1.4.m4.1.2.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.4.m4.1.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p1.4.m4.1.1" xref="S5.SS3.SSS1.p1.4.m4.1.1.cmml">𝒰</mi><mo id="S5.SS3.SSS1.p1.4.m4.1.2.2.2" stretchy="false" xref="S5.SS3.SSS1.p1.4.m4.1.2.1.1.cmml">|</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.4.m4.1b"><apply id="S5.SS3.SSS1.p1.4.m4.1.2.1.cmml" xref="S5.SS3.SSS1.p1.4.m4.1.2.2"><abs id="S5.SS3.SSS1.p1.4.m4.1.2.1.1.cmml" xref="S5.SS3.SSS1.p1.4.m4.1.2.2.1"></abs><ci id="S5.SS3.SSS1.p1.4.m4.1.1.cmml" xref="S5.SS3.SSS1.p1.4.m4.1.1">𝒰</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.4.m4.1c">|\mathcal{U}|</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.4.m4.1d">| caligraphic_U |</annotation></semantics></math> are drawn from a discrete uniform distribution <math alttext="X\sim\text{U}(1000,2000)" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.5.m5.2"><semantics id="S5.SS3.SSS1.p1.5.m5.2a"><mrow id="S5.SS3.SSS1.p1.5.m5.2.3" xref="S5.SS3.SSS1.p1.5.m5.2.3.cmml"><mi id="S5.SS3.SSS1.p1.5.m5.2.3.2" xref="S5.SS3.SSS1.p1.5.m5.2.3.2.cmml">X</mi><mo id="S5.SS3.SSS1.p1.5.m5.2.3.1" xref="S5.SS3.SSS1.p1.5.m5.2.3.1.cmml">∼</mo><mrow id="S5.SS3.SSS1.p1.5.m5.2.3.3" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.cmml"><mtext id="S5.SS3.SSS1.p1.5.m5.2.3.3.2" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.2a.cmml">U</mtext><mo id="S5.SS3.SSS1.p1.5.m5.2.3.3.1" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p1.5.m5.2.3.3.3.2" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.3.1.cmml"><mo id="S5.SS3.SSS1.p1.5.m5.2.3.3.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.3.1.cmml">(</mo><mn id="S5.SS3.SSS1.p1.5.m5.1.1" xref="S5.SS3.SSS1.p1.5.m5.1.1.cmml">1000</mn><mo id="S5.SS3.SSS1.p1.5.m5.2.3.3.3.2.2" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.3.1.cmml">,</mo><mn id="S5.SS3.SSS1.p1.5.m5.2.2" xref="S5.SS3.SSS1.p1.5.m5.2.2.cmml">2000</mn><mo id="S5.SS3.SSS1.p1.5.m5.2.3.3.3.2.3" stretchy="false" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.5.m5.2b"><apply id="S5.SS3.SSS1.p1.5.m5.2.3.cmml" xref="S5.SS3.SSS1.p1.5.m5.2.3"><csymbol cd="latexml" id="S5.SS3.SSS1.p1.5.m5.2.3.1.cmml" xref="S5.SS3.SSS1.p1.5.m5.2.3.1">similar-to</csymbol><ci id="S5.SS3.SSS1.p1.5.m5.2.3.2.cmml" xref="S5.SS3.SSS1.p1.5.m5.2.3.2">𝑋</ci><apply id="S5.SS3.SSS1.p1.5.m5.2.3.3.cmml" xref="S5.SS3.SSS1.p1.5.m5.2.3.3"><times id="S5.SS3.SSS1.p1.5.m5.2.3.3.1.cmml" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.1"></times><ci id="S5.SS3.SSS1.p1.5.m5.2.3.3.2a.cmml" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.2"><mtext id="S5.SS3.SSS1.p1.5.m5.2.3.3.2.cmml" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.2">U</mtext></ci><interval closure="open" id="S5.SS3.SSS1.p1.5.m5.2.3.3.3.1.cmml" xref="S5.SS3.SSS1.p1.5.m5.2.3.3.3.2"><cn id="S5.SS3.SSS1.p1.5.m5.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p1.5.m5.1.1">1000</cn><cn id="S5.SS3.SSS1.p1.5.m5.2.2.cmml" type="integer" xref="S5.SS3.SSS1.p1.5.m5.2.2">2000</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.5.m5.2c">X\sim\text{U}(1000,2000)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.5.m5.2d">italic_X ∼ U ( 1000 , 2000 )</annotation></semantics></math>. Each product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.6.m6.1"><semantics id="S5.SS3.SSS1.p1.6.m6.1a"><mi id="S5.SS3.SSS1.p1.6.m6.1.1" xref="S5.SS3.SSS1.p1.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.6.m6.1b"><ci id="S5.SS3.SSS1.p1.6.m6.1.1.cmml" xref="S5.SS3.SSS1.p1.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.6.m6.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.6.m6.1d">italic_i</annotation></semantics></math> is characterized by three categorical attributes <math alttext="\{a_{1},a_{2},a_{3}\}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.7.m7.3"><semantics id="S5.SS3.SSS1.p1.7.m7.3a"><mrow id="S5.SS3.SSS1.p1.7.m7.3.3.3" xref="S5.SS3.SSS1.p1.7.m7.3.3.4.cmml"><mo id="S5.SS3.SSS1.p1.7.m7.3.3.3.4" stretchy="false" xref="S5.SS3.SSS1.p1.7.m7.3.3.4.cmml">{</mo><msub id="S5.SS3.SSS1.p1.7.m7.1.1.1.1" xref="S5.SS3.SSS1.p1.7.m7.1.1.1.1.cmml"><mi id="S5.SS3.SSS1.p1.7.m7.1.1.1.1.2" xref="S5.SS3.SSS1.p1.7.m7.1.1.1.1.2.cmml">a</mi><mn id="S5.SS3.SSS1.p1.7.m7.1.1.1.1.3" xref="S5.SS3.SSS1.p1.7.m7.1.1.1.1.3.cmml">1</mn></msub><mo id="S5.SS3.SSS1.p1.7.m7.3.3.3.5" xref="S5.SS3.SSS1.p1.7.m7.3.3.4.cmml">,</mo><msub id="S5.SS3.SSS1.p1.7.m7.2.2.2.2" xref="S5.SS3.SSS1.p1.7.m7.2.2.2.2.cmml"><mi id="S5.SS3.SSS1.p1.7.m7.2.2.2.2.2" xref="S5.SS3.SSS1.p1.7.m7.2.2.2.2.2.cmml">a</mi><mn id="S5.SS3.SSS1.p1.7.m7.2.2.2.2.3" xref="S5.SS3.SSS1.p1.7.m7.2.2.2.2.3.cmml">2</mn></msub><mo id="S5.SS3.SSS1.p1.7.m7.3.3.3.6" xref="S5.SS3.SSS1.p1.7.m7.3.3.4.cmml">,</mo><msub id="S5.SS3.SSS1.p1.7.m7.3.3.3.3" xref="S5.SS3.SSS1.p1.7.m7.3.3.3.3.cmml"><mi id="S5.SS3.SSS1.p1.7.m7.3.3.3.3.2" xref="S5.SS3.SSS1.p1.7.m7.3.3.3.3.2.cmml">a</mi><mn id="S5.SS3.SSS1.p1.7.m7.3.3.3.3.3" xref="S5.SS3.SSS1.p1.7.m7.3.3.3.3.3.cmml">3</mn></msub><mo id="S5.SS3.SSS1.p1.7.m7.3.3.3.7" stretchy="false" xref="S5.SS3.SSS1.p1.7.m7.3.3.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.7.m7.3b"><set id="S5.SS3.SSS1.p1.7.m7.3.3.4.cmml" xref="S5.SS3.SSS1.p1.7.m7.3.3.3"><apply id="S5.SS3.SSS1.p1.7.m7.1.1.1.1.cmml" xref="S5.SS3.SSS1.p1.7.m7.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.7.m7.1.1.1.1.1.cmml" xref="S5.SS3.SSS1.p1.7.m7.1.1.1.1">subscript</csymbol><ci id="S5.SS3.SSS1.p1.7.m7.1.1.1.1.2.cmml" xref="S5.SS3.SSS1.p1.7.m7.1.1.1.1.2">𝑎</ci><cn id="S5.SS3.SSS1.p1.7.m7.1.1.1.1.3.cmml" type="integer" xref="S5.SS3.SSS1.p1.7.m7.1.1.1.1.3">1</cn></apply><apply id="S5.SS3.SSS1.p1.7.m7.2.2.2.2.cmml" xref="S5.SS3.SSS1.p1.7.m7.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.7.m7.2.2.2.2.1.cmml" xref="S5.SS3.SSS1.p1.7.m7.2.2.2.2">subscript</csymbol><ci id="S5.SS3.SSS1.p1.7.m7.2.2.2.2.2.cmml" xref="S5.SS3.SSS1.p1.7.m7.2.2.2.2.2">𝑎</ci><cn id="S5.SS3.SSS1.p1.7.m7.2.2.2.2.3.cmml" type="integer" xref="S5.SS3.SSS1.p1.7.m7.2.2.2.2.3">2</cn></apply><apply id="S5.SS3.SSS1.p1.7.m7.3.3.3.3.cmml" xref="S5.SS3.SSS1.p1.7.m7.3.3.3.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.7.m7.3.3.3.3.1.cmml" xref="S5.SS3.SSS1.p1.7.m7.3.3.3.3">subscript</csymbol><ci id="S5.SS3.SSS1.p1.7.m7.3.3.3.3.2.cmml" xref="S5.SS3.SSS1.p1.7.m7.3.3.3.3.2">𝑎</ci><cn id="S5.SS3.SSS1.p1.7.m7.3.3.3.3.3.cmml" type="integer" xref="S5.SS3.SSS1.p1.7.m7.3.3.3.3.3">3</cn></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.7.m7.3c">\{a_{1},a_{2},a_{3}\}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.7.m7.3d">{ italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT }</annotation></semantics></math> and the product price. For each categorical attribute <math alttext="a_{n}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.8.m8.1"><semantics id="S5.SS3.SSS1.p1.8.m8.1a"><msub id="S5.SS3.SSS1.p1.8.m8.1.1" xref="S5.SS3.SSS1.p1.8.m8.1.1.cmml"><mi id="S5.SS3.SSS1.p1.8.m8.1.1.2" xref="S5.SS3.SSS1.p1.8.m8.1.1.2.cmml">a</mi><mi id="S5.SS3.SSS1.p1.8.m8.1.1.3" xref="S5.SS3.SSS1.p1.8.m8.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.8.m8.1b"><apply id="S5.SS3.SSS1.p1.8.m8.1.1.cmml" xref="S5.SS3.SSS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.8.m8.1.1.1.cmml" xref="S5.SS3.SSS1.p1.8.m8.1.1">subscript</csymbol><ci id="S5.SS3.SSS1.p1.8.m8.1.1.2.cmml" xref="S5.SS3.SSS1.p1.8.m8.1.1.2">𝑎</ci><ci id="S5.SS3.SSS1.p1.8.m8.1.1.3.cmml" xref="S5.SS3.SSS1.p1.8.m8.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.8.m8.1c">a_{n}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.8.m8.1d">italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, the value <math alttext="i_{a_{n}}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.9.m9.1"><semantics id="S5.SS3.SSS1.p1.9.m9.1a"><msub id="S5.SS3.SSS1.p1.9.m9.1.1" xref="S5.SS3.SSS1.p1.9.m9.1.1.cmml"><mi id="S5.SS3.SSS1.p1.9.m9.1.1.2" xref="S5.SS3.SSS1.p1.9.m9.1.1.2.cmml">i</mi><msub id="S5.SS3.SSS1.p1.9.m9.1.1.3" xref="S5.SS3.SSS1.p1.9.m9.1.1.3.cmml"><mi id="S5.SS3.SSS1.p1.9.m9.1.1.3.2" xref="S5.SS3.SSS1.p1.9.m9.1.1.3.2.cmml">a</mi><mi id="S5.SS3.SSS1.p1.9.m9.1.1.3.3" xref="S5.SS3.SSS1.p1.9.m9.1.1.3.3.cmml">n</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.9.m9.1b"><apply id="S5.SS3.SSS1.p1.9.m9.1.1.cmml" xref="S5.SS3.SSS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.9.m9.1.1.1.cmml" xref="S5.SS3.SSS1.p1.9.m9.1.1">subscript</csymbol><ci id="S5.SS3.SSS1.p1.9.m9.1.1.2.cmml" xref="S5.SS3.SSS1.p1.9.m9.1.1.2">𝑖</ci><apply id="S5.SS3.SSS1.p1.9.m9.1.1.3.cmml" xref="S5.SS3.SSS1.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.9.m9.1.1.3.1.cmml" xref="S5.SS3.SSS1.p1.9.m9.1.1.3">subscript</csymbol><ci id="S5.SS3.SSS1.p1.9.m9.1.1.3.2.cmml" xref="S5.SS3.SSS1.p1.9.m9.1.1.3.2">𝑎</ci><ci id="S5.SS3.SSS1.p1.9.m9.1.1.3.3.cmml" xref="S5.SS3.SSS1.p1.9.m9.1.1.3.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.9.m9.1c">i_{a_{n}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.9.m9.1d">italic_i start_POSTSUBSCRIPT italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> is drawn from a discrete distribution where the number of choices follows a discrete uniform distribution <math alttext="X\sim\text{U}(3,15)" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.10.m10.2"><semantics id="S5.SS3.SSS1.p1.10.m10.2a"><mrow id="S5.SS3.SSS1.p1.10.m10.2.3" xref="S5.SS3.SSS1.p1.10.m10.2.3.cmml"><mi id="S5.SS3.SSS1.p1.10.m10.2.3.2" xref="S5.SS3.SSS1.p1.10.m10.2.3.2.cmml">X</mi><mo id="S5.SS3.SSS1.p1.10.m10.2.3.1" xref="S5.SS3.SSS1.p1.10.m10.2.3.1.cmml">∼</mo><mrow id="S5.SS3.SSS1.p1.10.m10.2.3.3" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.cmml"><mtext id="S5.SS3.SSS1.p1.10.m10.2.3.3.2" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.2a.cmml">U</mtext><mo id="S5.SS3.SSS1.p1.10.m10.2.3.3.1" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p1.10.m10.2.3.3.3.2" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.3.1.cmml"><mo id="S5.SS3.SSS1.p1.10.m10.2.3.3.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.3.1.cmml">(</mo><mn id="S5.SS3.SSS1.p1.10.m10.1.1" xref="S5.SS3.SSS1.p1.10.m10.1.1.cmml">3</mn><mo id="S5.SS3.SSS1.p1.10.m10.2.3.3.3.2.2" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.3.1.cmml">,</mo><mn id="S5.SS3.SSS1.p1.10.m10.2.2" xref="S5.SS3.SSS1.p1.10.m10.2.2.cmml">15</mn><mo id="S5.SS3.SSS1.p1.10.m10.2.3.3.3.2.3" stretchy="false" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.10.m10.2b"><apply id="S5.SS3.SSS1.p1.10.m10.2.3.cmml" xref="S5.SS3.SSS1.p1.10.m10.2.3"><csymbol cd="latexml" id="S5.SS3.SSS1.p1.10.m10.2.3.1.cmml" xref="S5.SS3.SSS1.p1.10.m10.2.3.1">similar-to</csymbol><ci id="S5.SS3.SSS1.p1.10.m10.2.3.2.cmml" xref="S5.SS3.SSS1.p1.10.m10.2.3.2">𝑋</ci><apply id="S5.SS3.SSS1.p1.10.m10.2.3.3.cmml" xref="S5.SS3.SSS1.p1.10.m10.2.3.3"><times id="S5.SS3.SSS1.p1.10.m10.2.3.3.1.cmml" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.1"></times><ci id="S5.SS3.SSS1.p1.10.m10.2.3.3.2a.cmml" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.2"><mtext id="S5.SS3.SSS1.p1.10.m10.2.3.3.2.cmml" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.2">U</mtext></ci><interval closure="open" id="S5.SS3.SSS1.p1.10.m10.2.3.3.3.1.cmml" xref="S5.SS3.SSS1.p1.10.m10.2.3.3.3.2"><cn id="S5.SS3.SSS1.p1.10.m10.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p1.10.m10.1.1">3</cn><cn id="S5.SS3.SSS1.p1.10.m10.2.2.cmml" type="integer" xref="S5.SS3.SSS1.p1.10.m10.2.2">15</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.10.m10.2c">X\sim\text{U}(3,15)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.10.m10.2d">italic_X ∼ U ( 3 , 15 )</annotation></semantics></math>, which is similar to rolling dice. The price <math alttext="p_{i}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.11.m11.1"><semantics id="S5.SS3.SSS1.p1.11.m11.1a"><msub id="S5.SS3.SSS1.p1.11.m11.1.1" xref="S5.SS3.SSS1.p1.11.m11.1.1.cmml"><mi id="S5.SS3.SSS1.p1.11.m11.1.1.2" xref="S5.SS3.SSS1.p1.11.m11.1.1.2.cmml">p</mi><mi id="S5.SS3.SSS1.p1.11.m11.1.1.3" xref="S5.SS3.SSS1.p1.11.m11.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.11.m11.1b"><apply id="S5.SS3.SSS1.p1.11.m11.1.1.cmml" xref="S5.SS3.SSS1.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.11.m11.1.1.1.cmml" xref="S5.SS3.SSS1.p1.11.m11.1.1">subscript</csymbol><ci id="S5.SS3.SSS1.p1.11.m11.1.1.2.cmml" xref="S5.SS3.SSS1.p1.11.m11.1.1.2">𝑝</ci><ci id="S5.SS3.SSS1.p1.11.m11.1.1.3.cmml" xref="S5.SS3.SSS1.p1.11.m11.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.11.m11.1c">p_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.11.m11.1d">italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is drawn from a standard normal distribution <math alttext="X\sim\text{N}(0,1)" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.12.m12.2"><semantics id="S5.SS3.SSS1.p1.12.m12.2a"><mrow id="S5.SS3.SSS1.p1.12.m12.2.3" xref="S5.SS3.SSS1.p1.12.m12.2.3.cmml"><mi id="S5.SS3.SSS1.p1.12.m12.2.3.2" xref="S5.SS3.SSS1.p1.12.m12.2.3.2.cmml">X</mi><mo id="S5.SS3.SSS1.p1.12.m12.2.3.1" xref="S5.SS3.SSS1.p1.12.m12.2.3.1.cmml">∼</mo><mrow id="S5.SS3.SSS1.p1.12.m12.2.3.3" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.cmml"><mtext id="S5.SS3.SSS1.p1.12.m12.2.3.3.2" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.2a.cmml">N</mtext><mo id="S5.SS3.SSS1.p1.12.m12.2.3.3.1" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p1.12.m12.2.3.3.3.2" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.3.1.cmml"><mo id="S5.SS3.SSS1.p1.12.m12.2.3.3.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.3.1.cmml">(</mo><mn id="S5.SS3.SSS1.p1.12.m12.1.1" xref="S5.SS3.SSS1.p1.12.m12.1.1.cmml">0</mn><mo id="S5.SS3.SSS1.p1.12.m12.2.3.3.3.2.2" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.3.1.cmml">,</mo><mn id="S5.SS3.SSS1.p1.12.m12.2.2" xref="S5.SS3.SSS1.p1.12.m12.2.2.cmml">1</mn><mo id="S5.SS3.SSS1.p1.12.m12.2.3.3.3.2.3" stretchy="false" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.12.m12.2b"><apply id="S5.SS3.SSS1.p1.12.m12.2.3.cmml" xref="S5.SS3.SSS1.p1.12.m12.2.3"><csymbol cd="latexml" id="S5.SS3.SSS1.p1.12.m12.2.3.1.cmml" xref="S5.SS3.SSS1.p1.12.m12.2.3.1">similar-to</csymbol><ci id="S5.SS3.SSS1.p1.12.m12.2.3.2.cmml" xref="S5.SS3.SSS1.p1.12.m12.2.3.2">𝑋</ci><apply id="S5.SS3.SSS1.p1.12.m12.2.3.3.cmml" xref="S5.SS3.SSS1.p1.12.m12.2.3.3"><times id="S5.SS3.SSS1.p1.12.m12.2.3.3.1.cmml" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.1"></times><ci id="S5.SS3.SSS1.p1.12.m12.2.3.3.2a.cmml" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.2"><mtext id="S5.SS3.SSS1.p1.12.m12.2.3.3.2.cmml" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.2">N</mtext></ci><interval closure="open" id="S5.SS3.SSS1.p1.12.m12.2.3.3.3.1.cmml" xref="S5.SS3.SSS1.p1.12.m12.2.3.3.3.2"><cn id="S5.SS3.SSS1.p1.12.m12.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p1.12.m12.1.1">0</cn><cn id="S5.SS3.SSS1.p1.12.m12.2.2.cmml" type="integer" xref="S5.SS3.SSS1.p1.12.m12.2.2">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.12.m12.2c">X\sim\text{N}(0,1)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.12.m12.2d">italic_X ∼ N ( 0 , 1 )</annotation></semantics></math> and transformed using an exponential function <math alttext="\exp(p_{i})" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.13.m13.2"><semantics id="S5.SS3.SSS1.p1.13.m13.2a"><mrow id="S5.SS3.SSS1.p1.13.m13.2.2.1" xref="S5.SS3.SSS1.p1.13.m13.2.2.2.cmml"><mi id="S5.SS3.SSS1.p1.13.m13.1.1" xref="S5.SS3.SSS1.p1.13.m13.1.1.cmml">exp</mi><mo id="S5.SS3.SSS1.p1.13.m13.2.2.1a" xref="S5.SS3.SSS1.p1.13.m13.2.2.2.cmml">⁡</mo><mrow id="S5.SS3.SSS1.p1.13.m13.2.2.1.1" xref="S5.SS3.SSS1.p1.13.m13.2.2.2.cmml"><mo id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.2" stretchy="false" xref="S5.SS3.SSS1.p1.13.m13.2.2.2.cmml">(</mo><msub id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1" xref="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.cmml"><mi id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.2" xref="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.2.cmml">p</mi><mi id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.3" xref="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.3" stretchy="false" xref="S5.SS3.SSS1.p1.13.m13.2.2.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.13.m13.2b"><apply id="S5.SS3.SSS1.p1.13.m13.2.2.2.cmml" xref="S5.SS3.SSS1.p1.13.m13.2.2.1"><exp id="S5.SS3.SSS1.p1.13.m13.1.1.cmml" xref="S5.SS3.SSS1.p1.13.m13.1.1"></exp><apply id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.cmml" xref="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.1.cmml" xref="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1">subscript</csymbol><ci id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.2.cmml" xref="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.2">𝑝</ci><ci id="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.3.cmml" xref="S5.SS3.SSS1.p1.13.m13.2.2.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.13.m13.2c">\exp(p_{i})</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.13.m13.2d">roman_exp ( italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> to ensure non-negative prices. Correspondingly, each consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.14.m14.1"><semantics id="S5.SS3.SSS1.p1.14.m14.1a"><mi id="S5.SS3.SSS1.p1.14.m14.1.1" xref="S5.SS3.SSS1.p1.14.m14.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.14.m14.1b"><ci id="S5.SS3.SSS1.p1.14.m14.1.1.cmml" xref="S5.SS3.SSS1.p1.14.m14.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.14.m14.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.14.m14.1d">italic_u</annotation></semantics></math> is described by a few attribute preference parameters as well as a price sensitivity parameter <cite class="ltx_cite ltx_citemacro_citep">(Andrews and Manrai, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib2" title="">1998</a>, Kim et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib42" title="">1995</a>)</cite>. For each attribute preference parameter <math alttext="\alpha_{u,i_{a_{n}}}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.15.m15.2"><semantics id="S5.SS3.SSS1.p1.15.m15.2a"><msub id="S5.SS3.SSS1.p1.15.m15.2.3" xref="S5.SS3.SSS1.p1.15.m15.2.3.cmml"><mi id="S5.SS3.SSS1.p1.15.m15.2.3.2" xref="S5.SS3.SSS1.p1.15.m15.2.3.2.cmml">α</mi><mrow id="S5.SS3.SSS1.p1.15.m15.2.2.2.2" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p1.15.m15.1.1.1.1" xref="S5.SS3.SSS1.p1.15.m15.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.2" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.3.cmml">,</mo><msub id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.cmml"><mi id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.2" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.2.cmml">i</mi><msub id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.cmml"><mi id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.2" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.2.cmml">a</mi><mi id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.3" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.3.cmml">n</mi></msub></msub></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.15.m15.2b"><apply id="S5.SS3.SSS1.p1.15.m15.2.3.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.15.m15.2.3.1.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.3">subscript</csymbol><ci id="S5.SS3.SSS1.p1.15.m15.2.3.2.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.3.2">𝛼</ci><list id="S5.SS3.SSS1.p1.15.m15.2.2.2.3.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2"><ci id="S5.SS3.SSS1.p1.15.m15.1.1.1.1.cmml" xref="S5.SS3.SSS1.p1.15.m15.1.1.1.1">𝑢</ci><apply id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.1.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1">subscript</csymbol><ci id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.2.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.2">𝑖</ci><apply id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.1.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3">subscript</csymbol><ci id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.2.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.2">𝑎</ci><ci id="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.3.cmml" xref="S5.SS3.SSS1.p1.15.m15.2.2.2.2.1.3.3">𝑛</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.15.m15.2c">\alpha_{u,i_{a_{n}}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.15.m15.2d">italic_α start_POSTSUBSCRIPT italic_u , italic_i start_POSTSUBSCRIPT italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math>,
we follow prior research <cite class="ltx_cite ltx_citemacro_citep">(Andrews and Manrai, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib2" title="">1998</a>)</cite> to draw it from a standard normal distribution <math alttext="X\sim\text{N}(0,1)" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.16.m16.2"><semantics id="S5.SS3.SSS1.p1.16.m16.2a"><mrow id="S5.SS3.SSS1.p1.16.m16.2.3" xref="S5.SS3.SSS1.p1.16.m16.2.3.cmml"><mi id="S5.SS3.SSS1.p1.16.m16.2.3.2" xref="S5.SS3.SSS1.p1.16.m16.2.3.2.cmml">X</mi><mo id="S5.SS3.SSS1.p1.16.m16.2.3.1" xref="S5.SS3.SSS1.p1.16.m16.2.3.1.cmml">∼</mo><mrow id="S5.SS3.SSS1.p1.16.m16.2.3.3" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.cmml"><mtext id="S5.SS3.SSS1.p1.16.m16.2.3.3.2" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.2a.cmml">N</mtext><mo id="S5.SS3.SSS1.p1.16.m16.2.3.3.1" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p1.16.m16.2.3.3.3.2" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.3.1.cmml"><mo id="S5.SS3.SSS1.p1.16.m16.2.3.3.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.3.1.cmml">(</mo><mn id="S5.SS3.SSS1.p1.16.m16.1.1" xref="S5.SS3.SSS1.p1.16.m16.1.1.cmml">0</mn><mo id="S5.SS3.SSS1.p1.16.m16.2.3.3.3.2.2" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.3.1.cmml">,</mo><mn id="S5.SS3.SSS1.p1.16.m16.2.2" xref="S5.SS3.SSS1.p1.16.m16.2.2.cmml">1</mn><mo id="S5.SS3.SSS1.p1.16.m16.2.3.3.3.2.3" stretchy="false" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.16.m16.2b"><apply id="S5.SS3.SSS1.p1.16.m16.2.3.cmml" xref="S5.SS3.SSS1.p1.16.m16.2.3"><csymbol cd="latexml" id="S5.SS3.SSS1.p1.16.m16.2.3.1.cmml" xref="S5.SS3.SSS1.p1.16.m16.2.3.1">similar-to</csymbol><ci id="S5.SS3.SSS1.p1.16.m16.2.3.2.cmml" xref="S5.SS3.SSS1.p1.16.m16.2.3.2">𝑋</ci><apply id="S5.SS3.SSS1.p1.16.m16.2.3.3.cmml" xref="S5.SS3.SSS1.p1.16.m16.2.3.3"><times id="S5.SS3.SSS1.p1.16.m16.2.3.3.1.cmml" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.1"></times><ci id="S5.SS3.SSS1.p1.16.m16.2.3.3.2a.cmml" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.2"><mtext id="S5.SS3.SSS1.p1.16.m16.2.3.3.2.cmml" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.2">N</mtext></ci><interval closure="open" id="S5.SS3.SSS1.p1.16.m16.2.3.3.3.1.cmml" xref="S5.SS3.SSS1.p1.16.m16.2.3.3.3.2"><cn id="S5.SS3.SSS1.p1.16.m16.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p1.16.m16.1.1">0</cn><cn id="S5.SS3.SSS1.p1.16.m16.2.2.cmml" type="integer" xref="S5.SS3.SSS1.p1.16.m16.2.2">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.16.m16.2c">X\sim\text{N}(0,1)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.16.m16.2d">italic_X ∼ N ( 0 , 1 )</annotation></semantics></math>.
The price sensitivity parameter <math alttext="\beta_{u}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.17.m17.1"><semantics id="S5.SS3.SSS1.p1.17.m17.1a"><msub id="S5.SS3.SSS1.p1.17.m17.1.1" xref="S5.SS3.SSS1.p1.17.m17.1.1.cmml"><mi id="S5.SS3.SSS1.p1.17.m17.1.1.2" xref="S5.SS3.SSS1.p1.17.m17.1.1.2.cmml">β</mi><mi id="S5.SS3.SSS1.p1.17.m17.1.1.3" xref="S5.SS3.SSS1.p1.17.m17.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.17.m17.1b"><apply id="S5.SS3.SSS1.p1.17.m17.1.1.cmml" xref="S5.SS3.SSS1.p1.17.m17.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.17.m17.1.1.1.cmml" xref="S5.SS3.SSS1.p1.17.m17.1.1">subscript</csymbol><ci id="S5.SS3.SSS1.p1.17.m17.1.1.2.cmml" xref="S5.SS3.SSS1.p1.17.m17.1.1.2">𝛽</ci><ci id="S5.SS3.SSS1.p1.17.m17.1.1.3.cmml" xref="S5.SS3.SSS1.p1.17.m17.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.17.m17.1c">\beta_{u}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.17.m17.1d">italic_β start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> is assumed to be log-normally distributed <cite class="ltx_cite ltx_citemacro_citep">(Kim et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib42" title="">1995</a>)</cite>, such that <math alttext="\beta_{u}=-\exp(\gamma)" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.18.m18.2"><semantics id="S5.SS3.SSS1.p1.18.m18.2a"><mrow id="S5.SS3.SSS1.p1.18.m18.2.3" xref="S5.SS3.SSS1.p1.18.m18.2.3.cmml"><msub id="S5.SS3.SSS1.p1.18.m18.2.3.2" xref="S5.SS3.SSS1.p1.18.m18.2.3.2.cmml"><mi id="S5.SS3.SSS1.p1.18.m18.2.3.2.2" xref="S5.SS3.SSS1.p1.18.m18.2.3.2.2.cmml">β</mi><mi id="S5.SS3.SSS1.p1.18.m18.2.3.2.3" xref="S5.SS3.SSS1.p1.18.m18.2.3.2.3.cmml">u</mi></msub><mo id="S5.SS3.SSS1.p1.18.m18.2.3.1" xref="S5.SS3.SSS1.p1.18.m18.2.3.1.cmml">=</mo><mrow id="S5.SS3.SSS1.p1.18.m18.2.3.3" xref="S5.SS3.SSS1.p1.18.m18.2.3.3.cmml"><mo id="S5.SS3.SSS1.p1.18.m18.2.3.3a" rspace="0.167em" xref="S5.SS3.SSS1.p1.18.m18.2.3.3.cmml">−</mo><mrow id="S5.SS3.SSS1.p1.18.m18.2.3.3.2.2" xref="S5.SS3.SSS1.p1.18.m18.2.3.3.2.1.cmml"><mi id="S5.SS3.SSS1.p1.18.m18.1.1" xref="S5.SS3.SSS1.p1.18.m18.1.1.cmml">exp</mi><mo id="S5.SS3.SSS1.p1.18.m18.2.3.3.2.2a" xref="S5.SS3.SSS1.p1.18.m18.2.3.3.2.1.cmml">⁡</mo><mrow id="S5.SS3.SSS1.p1.18.m18.2.3.3.2.2.1" xref="S5.SS3.SSS1.p1.18.m18.2.3.3.2.1.cmml"><mo id="S5.SS3.SSS1.p1.18.m18.2.3.3.2.2.1.1" stretchy="false" xref="S5.SS3.SSS1.p1.18.m18.2.3.3.2.1.cmml">(</mo><mi id="S5.SS3.SSS1.p1.18.m18.2.2" xref="S5.SS3.SSS1.p1.18.m18.2.2.cmml">γ</mi><mo id="S5.SS3.SSS1.p1.18.m18.2.3.3.2.2.1.2" stretchy="false" xref="S5.SS3.SSS1.p1.18.m18.2.3.3.2.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.18.m18.2b"><apply id="S5.SS3.SSS1.p1.18.m18.2.3.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3"><eq id="S5.SS3.SSS1.p1.18.m18.2.3.1.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3.1"></eq><apply id="S5.SS3.SSS1.p1.18.m18.2.3.2.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3.2"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.18.m18.2.3.2.1.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3.2">subscript</csymbol><ci id="S5.SS3.SSS1.p1.18.m18.2.3.2.2.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3.2.2">𝛽</ci><ci id="S5.SS3.SSS1.p1.18.m18.2.3.2.3.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3.2.3">𝑢</ci></apply><apply id="S5.SS3.SSS1.p1.18.m18.2.3.3.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3.3"><minus id="S5.SS3.SSS1.p1.18.m18.2.3.3.1.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3.3"></minus><apply id="S5.SS3.SSS1.p1.18.m18.2.3.3.2.1.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.3.3.2.2"><exp id="S5.SS3.SSS1.p1.18.m18.1.1.cmml" xref="S5.SS3.SSS1.p1.18.m18.1.1"></exp><ci id="S5.SS3.SSS1.p1.18.m18.2.2.cmml" xref="S5.SS3.SSS1.p1.18.m18.2.2">𝛾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.18.m18.2c">\beta_{u}=-\exp(\gamma)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.18.m18.2d">italic_β start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = - roman_exp ( italic_γ )</annotation></semantics></math>, where <math alttext="\gamma" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.19.m19.1"><semantics id="S5.SS3.SSS1.p1.19.m19.1a"><mi id="S5.SS3.SSS1.p1.19.m19.1.1" xref="S5.SS3.SSS1.p1.19.m19.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.19.m19.1b"><ci id="S5.SS3.SSS1.p1.19.m19.1.1.cmml" xref="S5.SS3.SSS1.p1.19.m19.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.19.m19.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.19.m19.1d">italic_γ</annotation></semantics></math> follows a standard normal distribution <math alttext="X\sim\text{N}(0,1)" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.20.m20.2"><semantics id="S5.SS3.SSS1.p1.20.m20.2a"><mrow id="S5.SS3.SSS1.p1.20.m20.2.3" xref="S5.SS3.SSS1.p1.20.m20.2.3.cmml"><mi id="S5.SS3.SSS1.p1.20.m20.2.3.2" xref="S5.SS3.SSS1.p1.20.m20.2.3.2.cmml">X</mi><mo id="S5.SS3.SSS1.p1.20.m20.2.3.1" xref="S5.SS3.SSS1.p1.20.m20.2.3.1.cmml">∼</mo><mrow id="S5.SS3.SSS1.p1.20.m20.2.3.3" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.cmml"><mtext id="S5.SS3.SSS1.p1.20.m20.2.3.3.2" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.2a.cmml">N</mtext><mo id="S5.SS3.SSS1.p1.20.m20.2.3.3.1" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p1.20.m20.2.3.3.3.2" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.3.1.cmml"><mo id="S5.SS3.SSS1.p1.20.m20.2.3.3.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.3.1.cmml">(</mo><mn id="S5.SS3.SSS1.p1.20.m20.1.1" xref="S5.SS3.SSS1.p1.20.m20.1.1.cmml">0</mn><mo id="S5.SS3.SSS1.p1.20.m20.2.3.3.3.2.2" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.3.1.cmml">,</mo><mn id="S5.SS3.SSS1.p1.20.m20.2.2" xref="S5.SS3.SSS1.p1.20.m20.2.2.cmml">1</mn><mo id="S5.SS3.SSS1.p1.20.m20.2.3.3.3.2.3" stretchy="false" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.20.m20.2b"><apply id="S5.SS3.SSS1.p1.20.m20.2.3.cmml" xref="S5.SS3.SSS1.p1.20.m20.2.3"><csymbol cd="latexml" id="S5.SS3.SSS1.p1.20.m20.2.3.1.cmml" xref="S5.SS3.SSS1.p1.20.m20.2.3.1">similar-to</csymbol><ci id="S5.SS3.SSS1.p1.20.m20.2.3.2.cmml" xref="S5.SS3.SSS1.p1.20.m20.2.3.2">𝑋</ci><apply id="S5.SS3.SSS1.p1.20.m20.2.3.3.cmml" xref="S5.SS3.SSS1.p1.20.m20.2.3.3"><times id="S5.SS3.SSS1.p1.20.m20.2.3.3.1.cmml" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.1"></times><ci id="S5.SS3.SSS1.p1.20.m20.2.3.3.2a.cmml" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.2"><mtext id="S5.SS3.SSS1.p1.20.m20.2.3.3.2.cmml" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.2">N</mtext></ci><interval closure="open" id="S5.SS3.SSS1.p1.20.m20.2.3.3.3.1.cmml" xref="S5.SS3.SSS1.p1.20.m20.2.3.3.3.2"><cn id="S5.SS3.SSS1.p1.20.m20.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p1.20.m20.1.1">0</cn><cn id="S5.SS3.SSS1.p1.20.m20.2.2.cmml" type="integer" xref="S5.SS3.SSS1.p1.20.m20.2.2">1</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.20.m20.2c">X\sim\text{N}(0,1)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.20.m20.2d">italic_X ∼ N ( 0 , 1 )</annotation></semantics></math>. Then, the utility of consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.21.m21.1"><semantics id="S5.SS3.SSS1.p1.21.m21.1a"><mi id="S5.SS3.SSS1.p1.21.m21.1.1" xref="S5.SS3.SSS1.p1.21.m21.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.21.m21.1b"><ci id="S5.SS3.SSS1.p1.21.m21.1.1.cmml" xref="S5.SS3.SSS1.p1.21.m21.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.21.m21.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.21.m21.1d">italic_u</annotation></semantics></math> for product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.22.m22.1"><semantics id="S5.SS3.SSS1.p1.22.m22.1a"><mi id="S5.SS3.SSS1.p1.22.m22.1.1" xref="S5.SS3.SSS1.p1.22.m22.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.22.m22.1b"><ci id="S5.SS3.SSS1.p1.22.m22.1.1.cmml" xref="S5.SS3.SSS1.p1.22.m22.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.22.m22.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.22.m22.1d">italic_i</annotation></semantics></math> is given by Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.E15" title="In 5.3.1 Simulation Setup. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">15</span></a>).</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E15">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="r_{u,i}=\sum_{a_{n}}\alpha_{u,i_{a_{n}}}\cdot i_{a_{n}}+\beta_{u}\cdot(p_{u,r}%
-p_{i})+\epsilon_{u,i}," class="ltx_Math" display="block" id="S5.E15.m1.9"><semantics id="S5.E15.m1.9a"><mrow id="S5.E15.m1.9.9.1" xref="S5.E15.m1.9.9.1.1.cmml"><mrow id="S5.E15.m1.9.9.1.1" xref="S5.E15.m1.9.9.1.1.cmml"><msub id="S5.E15.m1.9.9.1.1.3" xref="S5.E15.m1.9.9.1.1.3.cmml"><mi id="S5.E15.m1.9.9.1.1.3.2" xref="S5.E15.m1.9.9.1.1.3.2.cmml">r</mi><mrow id="S5.E15.m1.2.2.2.4" xref="S5.E15.m1.2.2.2.3.cmml"><mi id="S5.E15.m1.1.1.1.1" xref="S5.E15.m1.1.1.1.1.cmml">u</mi><mo id="S5.E15.m1.2.2.2.4.1" xref="S5.E15.m1.2.2.2.3.cmml">,</mo><mi id="S5.E15.m1.2.2.2.2" xref="S5.E15.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S5.E15.m1.9.9.1.1.2" rspace="0.111em" xref="S5.E15.m1.9.9.1.1.2.cmml">=</mo><mrow id="S5.E15.m1.9.9.1.1.1" xref="S5.E15.m1.9.9.1.1.1.cmml"><mrow id="S5.E15.m1.9.9.1.1.1.3" xref="S5.E15.m1.9.9.1.1.1.3.cmml"><munder id="S5.E15.m1.9.9.1.1.1.3.1" xref="S5.E15.m1.9.9.1.1.1.3.1.cmml"><mo id="S5.E15.m1.9.9.1.1.1.3.1.2" movablelimits="false" xref="S5.E15.m1.9.9.1.1.1.3.1.2.cmml">∑</mo><msub id="S5.E15.m1.9.9.1.1.1.3.1.3" xref="S5.E15.m1.9.9.1.1.1.3.1.3.cmml"><mi id="S5.E15.m1.9.9.1.1.1.3.1.3.2" xref="S5.E15.m1.9.9.1.1.1.3.1.3.2.cmml">a</mi><mi id="S5.E15.m1.9.9.1.1.1.3.1.3.3" xref="S5.E15.m1.9.9.1.1.1.3.1.3.3.cmml">n</mi></msub></munder><mrow id="S5.E15.m1.9.9.1.1.1.3.2" xref="S5.E15.m1.9.9.1.1.1.3.2.cmml"><msub id="S5.E15.m1.9.9.1.1.1.3.2.2" xref="S5.E15.m1.9.9.1.1.1.3.2.2.cmml"><mi id="S5.E15.m1.9.9.1.1.1.3.2.2.2" xref="S5.E15.m1.9.9.1.1.1.3.2.2.2.cmml">α</mi><mrow id="S5.E15.m1.4.4.2.2" xref="S5.E15.m1.4.4.2.3.cmml"><mi id="S5.E15.m1.3.3.1.1" xref="S5.E15.m1.3.3.1.1.cmml">u</mi><mo id="S5.E15.m1.4.4.2.2.2" xref="S5.E15.m1.4.4.2.3.cmml">,</mo><msub id="S5.E15.m1.4.4.2.2.1" xref="S5.E15.m1.4.4.2.2.1.cmml"><mi id="S5.E15.m1.4.4.2.2.1.2" xref="S5.E15.m1.4.4.2.2.1.2.cmml">i</mi><msub id="S5.E15.m1.4.4.2.2.1.3" xref="S5.E15.m1.4.4.2.2.1.3.cmml"><mi id="S5.E15.m1.4.4.2.2.1.3.2" xref="S5.E15.m1.4.4.2.2.1.3.2.cmml">a</mi><mi id="S5.E15.m1.4.4.2.2.1.3.3" xref="S5.E15.m1.4.4.2.2.1.3.3.cmml">n</mi></msub></msub></mrow></msub><mo id="S5.E15.m1.9.9.1.1.1.3.2.1" lspace="0.222em" rspace="0.222em" xref="S5.E15.m1.9.9.1.1.1.3.2.1.cmml">⋅</mo><msub id="S5.E15.m1.9.9.1.1.1.3.2.3" xref="S5.E15.m1.9.9.1.1.1.3.2.3.cmml"><mi id="S5.E15.m1.9.9.1.1.1.3.2.3.2" xref="S5.E15.m1.9.9.1.1.1.3.2.3.2.cmml">i</mi><msub id="S5.E15.m1.9.9.1.1.1.3.2.3.3" xref="S5.E15.m1.9.9.1.1.1.3.2.3.3.cmml"><mi id="S5.E15.m1.9.9.1.1.1.3.2.3.3.2" xref="S5.E15.m1.9.9.1.1.1.3.2.3.3.2.cmml">a</mi><mi id="S5.E15.m1.9.9.1.1.1.3.2.3.3.3" xref="S5.E15.m1.9.9.1.1.1.3.2.3.3.3.cmml">n</mi></msub></msub></mrow></mrow><mo id="S5.E15.m1.9.9.1.1.1.2" xref="S5.E15.m1.9.9.1.1.1.2.cmml">+</mo><mrow id="S5.E15.m1.9.9.1.1.1.1" xref="S5.E15.m1.9.9.1.1.1.1.cmml"><msub id="S5.E15.m1.9.9.1.1.1.1.3" xref="S5.E15.m1.9.9.1.1.1.1.3.cmml"><mi id="S5.E15.m1.9.9.1.1.1.1.3.2" xref="S5.E15.m1.9.9.1.1.1.1.3.2.cmml">β</mi><mi id="S5.E15.m1.9.9.1.1.1.1.3.3" xref="S5.E15.m1.9.9.1.1.1.1.3.3.cmml">u</mi></msub><mo id="S5.E15.m1.9.9.1.1.1.1.2" lspace="0.222em" rspace="0.222em" xref="S5.E15.m1.9.9.1.1.1.1.2.cmml">⋅</mo><mrow id="S5.E15.m1.9.9.1.1.1.1.1.1" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.cmml"><mo id="S5.E15.m1.9.9.1.1.1.1.1.1.2" stretchy="false" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E15.m1.9.9.1.1.1.1.1.1.1" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.cmml"><msub id="S5.E15.m1.9.9.1.1.1.1.1.1.1.2" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.2.cmml"><mi id="S5.E15.m1.9.9.1.1.1.1.1.1.1.2.2" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.2.2.cmml">p</mi><mrow id="S5.E15.m1.6.6.2.4" xref="S5.E15.m1.6.6.2.3.cmml"><mi id="S5.E15.m1.5.5.1.1" xref="S5.E15.m1.5.5.1.1.cmml">u</mi><mo id="S5.E15.m1.6.6.2.4.1" xref="S5.E15.m1.6.6.2.3.cmml">,</mo><mi id="S5.E15.m1.6.6.2.2" xref="S5.E15.m1.6.6.2.2.cmml">r</mi></mrow></msub><mo id="S5.E15.m1.9.9.1.1.1.1.1.1.1.1" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S5.E15.m1.9.9.1.1.1.1.1.1.1.3" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.cmml"><mi id="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.2" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.2.cmml">p</mi><mi id="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.3" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S5.E15.m1.9.9.1.1.1.1.1.1.3" stretchy="false" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E15.m1.9.9.1.1.1.2a" xref="S5.E15.m1.9.9.1.1.1.2.cmml">+</mo><msub id="S5.E15.m1.9.9.1.1.1.4" xref="S5.E15.m1.9.9.1.1.1.4.cmml"><mi id="S5.E15.m1.9.9.1.1.1.4.2" xref="S5.E15.m1.9.9.1.1.1.4.2.cmml">ϵ</mi><mrow id="S5.E15.m1.8.8.2.4" xref="S5.E15.m1.8.8.2.3.cmml"><mi id="S5.E15.m1.7.7.1.1" xref="S5.E15.m1.7.7.1.1.cmml">u</mi><mo id="S5.E15.m1.8.8.2.4.1" xref="S5.E15.m1.8.8.2.3.cmml">,</mo><mi id="S5.E15.m1.8.8.2.2" xref="S5.E15.m1.8.8.2.2.cmml">i</mi></mrow></msub></mrow></mrow><mo id="S5.E15.m1.9.9.1.2" xref="S5.E15.m1.9.9.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E15.m1.9b"><apply id="S5.E15.m1.9.9.1.1.cmml" xref="S5.E15.m1.9.9.1"><eq id="S5.E15.m1.9.9.1.1.2.cmml" xref="S5.E15.m1.9.9.1.1.2"></eq><apply id="S5.E15.m1.9.9.1.1.3.cmml" xref="S5.E15.m1.9.9.1.1.3"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.3.1.cmml" xref="S5.E15.m1.9.9.1.1.3">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.3.2.cmml" xref="S5.E15.m1.9.9.1.1.3.2">𝑟</ci><list id="S5.E15.m1.2.2.2.3.cmml" xref="S5.E15.m1.2.2.2.4"><ci id="S5.E15.m1.1.1.1.1.cmml" xref="S5.E15.m1.1.1.1.1">𝑢</ci><ci id="S5.E15.m1.2.2.2.2.cmml" xref="S5.E15.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S5.E15.m1.9.9.1.1.1.cmml" xref="S5.E15.m1.9.9.1.1.1"><plus id="S5.E15.m1.9.9.1.1.1.2.cmml" xref="S5.E15.m1.9.9.1.1.1.2"></plus><apply id="S5.E15.m1.9.9.1.1.1.3.cmml" xref="S5.E15.m1.9.9.1.1.1.3"><apply id="S5.E15.m1.9.9.1.1.1.3.1.cmml" xref="S5.E15.m1.9.9.1.1.1.3.1"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.3.1.1.cmml" xref="S5.E15.m1.9.9.1.1.1.3.1">subscript</csymbol><sum id="S5.E15.m1.9.9.1.1.1.3.1.2.cmml" xref="S5.E15.m1.9.9.1.1.1.3.1.2"></sum><apply id="S5.E15.m1.9.9.1.1.1.3.1.3.cmml" xref="S5.E15.m1.9.9.1.1.1.3.1.3"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.3.1.3.1.cmml" xref="S5.E15.m1.9.9.1.1.1.3.1.3">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.1.3.1.3.2.cmml" xref="S5.E15.m1.9.9.1.1.1.3.1.3.2">𝑎</ci><ci id="S5.E15.m1.9.9.1.1.1.3.1.3.3.cmml" xref="S5.E15.m1.9.9.1.1.1.3.1.3.3">𝑛</ci></apply></apply><apply id="S5.E15.m1.9.9.1.1.1.3.2.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2"><ci id="S5.E15.m1.9.9.1.1.1.3.2.1.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.1">⋅</ci><apply id="S5.E15.m1.9.9.1.1.1.3.2.2.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.2"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.3.2.2.1.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.2">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.1.3.2.2.2.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.2.2">𝛼</ci><list id="S5.E15.m1.4.4.2.3.cmml" xref="S5.E15.m1.4.4.2.2"><ci id="S5.E15.m1.3.3.1.1.cmml" xref="S5.E15.m1.3.3.1.1">𝑢</ci><apply id="S5.E15.m1.4.4.2.2.1.cmml" xref="S5.E15.m1.4.4.2.2.1"><csymbol cd="ambiguous" id="S5.E15.m1.4.4.2.2.1.1.cmml" xref="S5.E15.m1.4.4.2.2.1">subscript</csymbol><ci id="S5.E15.m1.4.4.2.2.1.2.cmml" xref="S5.E15.m1.4.4.2.2.1.2">𝑖</ci><apply id="S5.E15.m1.4.4.2.2.1.3.cmml" xref="S5.E15.m1.4.4.2.2.1.3"><csymbol cd="ambiguous" id="S5.E15.m1.4.4.2.2.1.3.1.cmml" xref="S5.E15.m1.4.4.2.2.1.3">subscript</csymbol><ci id="S5.E15.m1.4.4.2.2.1.3.2.cmml" xref="S5.E15.m1.4.4.2.2.1.3.2">𝑎</ci><ci id="S5.E15.m1.4.4.2.2.1.3.3.cmml" xref="S5.E15.m1.4.4.2.2.1.3.3">𝑛</ci></apply></apply></list></apply><apply id="S5.E15.m1.9.9.1.1.1.3.2.3.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.3.2.3.1.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.3">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.1.3.2.3.2.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.3.2">𝑖</ci><apply id="S5.E15.m1.9.9.1.1.1.3.2.3.3.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.3.3"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.3.2.3.3.1.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.3.3">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.1.3.2.3.3.2.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.3.3.2">𝑎</ci><ci id="S5.E15.m1.9.9.1.1.1.3.2.3.3.3.cmml" xref="S5.E15.m1.9.9.1.1.1.3.2.3.3.3">𝑛</ci></apply></apply></apply></apply><apply id="S5.E15.m1.9.9.1.1.1.1.cmml" xref="S5.E15.m1.9.9.1.1.1.1"><ci id="S5.E15.m1.9.9.1.1.1.1.2.cmml" xref="S5.E15.m1.9.9.1.1.1.1.2">⋅</ci><apply id="S5.E15.m1.9.9.1.1.1.1.3.cmml" xref="S5.E15.m1.9.9.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.1.3.1.cmml" xref="S5.E15.m1.9.9.1.1.1.1.3">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.1.1.3.2.cmml" xref="S5.E15.m1.9.9.1.1.1.1.3.2">𝛽</ci><ci id="S5.E15.m1.9.9.1.1.1.1.3.3.cmml" xref="S5.E15.m1.9.9.1.1.1.1.3.3">𝑢</ci></apply><apply id="S5.E15.m1.9.9.1.1.1.1.1.1.1.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1"><minus id="S5.E15.m1.9.9.1.1.1.1.1.1.1.1.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.1"></minus><apply id="S5.E15.m1.9.9.1.1.1.1.1.1.1.2.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.1.1.1.1.2.1.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.1.1.1.1.1.2.2.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.2.2">𝑝</ci><list id="S5.E15.m1.6.6.2.3.cmml" xref="S5.E15.m1.6.6.2.4"><ci id="S5.E15.m1.5.5.1.1.cmml" xref="S5.E15.m1.5.5.1.1">𝑢</ci><ci id="S5.E15.m1.6.6.2.2.cmml" xref="S5.E15.m1.6.6.2.2">𝑟</ci></list></apply><apply id="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.1.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.2.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.2">𝑝</ci><ci id="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.3.cmml" xref="S5.E15.m1.9.9.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S5.E15.m1.9.9.1.1.1.4.cmml" xref="S5.E15.m1.9.9.1.1.1.4"><csymbol cd="ambiguous" id="S5.E15.m1.9.9.1.1.1.4.1.cmml" xref="S5.E15.m1.9.9.1.1.1.4">subscript</csymbol><ci id="S5.E15.m1.9.9.1.1.1.4.2.cmml" xref="S5.E15.m1.9.9.1.1.1.4.2">italic-ϵ</ci><list id="S5.E15.m1.8.8.2.3.cmml" xref="S5.E15.m1.8.8.2.4"><ci id="S5.E15.m1.7.7.1.1.cmml" xref="S5.E15.m1.7.7.1.1">𝑢</ci><ci id="S5.E15.m1.8.8.2.2.cmml" xref="S5.E15.m1.8.8.2.2">𝑖</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E15.m1.9c">r_{u,i}=\sum_{a_{n}}\alpha_{u,i_{a_{n}}}\cdot i_{a_{n}}+\beta_{u}\cdot(p_{u,r}%
-p_{i})+\epsilon_{u,i},</annotation><annotation encoding="application/x-llamapun" id="S5.E15.m1.9d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = ∑ start_POSTSUBSCRIPT italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_α start_POSTSUBSCRIPT italic_u , italic_i start_POSTSUBSCRIPT italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT ⋅ italic_i start_POSTSUBSCRIPT italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUBSCRIPT + italic_β start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ⋅ ( italic_p start_POSTSUBSCRIPT italic_u , italic_r end_POSTSUBSCRIPT - italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) + italic_ϵ start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS3.SSS1.p1.25">where <math alttext="p_{u,r}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.23.m1.2"><semantics id="S5.SS3.SSS1.p1.23.m1.2a"><msub id="S5.SS3.SSS1.p1.23.m1.2.3" xref="S5.SS3.SSS1.p1.23.m1.2.3.cmml"><mi id="S5.SS3.SSS1.p1.23.m1.2.3.2" xref="S5.SS3.SSS1.p1.23.m1.2.3.2.cmml">p</mi><mrow id="S5.SS3.SSS1.p1.23.m1.2.2.2.4" xref="S5.SS3.SSS1.p1.23.m1.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p1.23.m1.1.1.1.1" xref="S5.SS3.SSS1.p1.23.m1.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p1.23.m1.2.2.2.4.1" xref="S5.SS3.SSS1.p1.23.m1.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS1.p1.23.m1.2.2.2.2" xref="S5.SS3.SSS1.p1.23.m1.2.2.2.2.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.23.m1.2b"><apply id="S5.SS3.SSS1.p1.23.m1.2.3.cmml" xref="S5.SS3.SSS1.p1.23.m1.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.23.m1.2.3.1.cmml" xref="S5.SS3.SSS1.p1.23.m1.2.3">subscript</csymbol><ci id="S5.SS3.SSS1.p1.23.m1.2.3.2.cmml" xref="S5.SS3.SSS1.p1.23.m1.2.3.2">𝑝</ci><list id="S5.SS3.SSS1.p1.23.m1.2.2.2.3.cmml" xref="S5.SS3.SSS1.p1.23.m1.2.2.2.4"><ci id="S5.SS3.SSS1.p1.23.m1.1.1.1.1.cmml" xref="S5.SS3.SSS1.p1.23.m1.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS1.p1.23.m1.2.2.2.2.cmml" xref="S5.SS3.SSS1.p1.23.m1.2.2.2.2">𝑟</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.23.m1.2c">p_{u,r}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.23.m1.2d">italic_p start_POSTSUBSCRIPT italic_u , italic_r end_POSTSUBSCRIPT</annotation></semantics></math> refers to the consumer’s reference price and <math alttext="\epsilon_{u,i}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.24.m2.2"><semantics id="S5.SS3.SSS1.p1.24.m2.2a"><msub id="S5.SS3.SSS1.p1.24.m2.2.3" xref="S5.SS3.SSS1.p1.24.m2.2.3.cmml"><mi id="S5.SS3.SSS1.p1.24.m2.2.3.2" xref="S5.SS3.SSS1.p1.24.m2.2.3.2.cmml">ϵ</mi><mrow id="S5.SS3.SSS1.p1.24.m2.2.2.2.4" xref="S5.SS3.SSS1.p1.24.m2.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p1.24.m2.1.1.1.1" xref="S5.SS3.SSS1.p1.24.m2.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p1.24.m2.2.2.2.4.1" xref="S5.SS3.SSS1.p1.24.m2.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS1.p1.24.m2.2.2.2.2" xref="S5.SS3.SSS1.p1.24.m2.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.24.m2.2b"><apply id="S5.SS3.SSS1.p1.24.m2.2.3.cmml" xref="S5.SS3.SSS1.p1.24.m2.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p1.24.m2.2.3.1.cmml" xref="S5.SS3.SSS1.p1.24.m2.2.3">subscript</csymbol><ci id="S5.SS3.SSS1.p1.24.m2.2.3.2.cmml" xref="S5.SS3.SSS1.p1.24.m2.2.3.2">italic-ϵ</ci><list id="S5.SS3.SSS1.p1.24.m2.2.2.2.3.cmml" xref="S5.SS3.SSS1.p1.24.m2.2.2.2.4"><ci id="S5.SS3.SSS1.p1.24.m2.1.1.1.1.cmml" xref="S5.SS3.SSS1.p1.24.m2.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS1.p1.24.m2.2.2.2.2.cmml" xref="S5.SS3.SSS1.p1.24.m2.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.24.m2.2c">\epsilon_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.24.m2.2d">italic_ϵ start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is a random noise drawn from <math alttext="X\sim\text{N}(0,0.05)" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p1.25.m3.2"><semantics id="S5.SS3.SSS1.p1.25.m3.2a"><mrow id="S5.SS3.SSS1.p1.25.m3.2.3" xref="S5.SS3.SSS1.p1.25.m3.2.3.cmml"><mi id="S5.SS3.SSS1.p1.25.m3.2.3.2" xref="S5.SS3.SSS1.p1.25.m3.2.3.2.cmml">X</mi><mo id="S5.SS3.SSS1.p1.25.m3.2.3.1" xref="S5.SS3.SSS1.p1.25.m3.2.3.1.cmml">∼</mo><mrow id="S5.SS3.SSS1.p1.25.m3.2.3.3" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.cmml"><mtext id="S5.SS3.SSS1.p1.25.m3.2.3.3.2" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.2a.cmml">N</mtext><mo id="S5.SS3.SSS1.p1.25.m3.2.3.3.1" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p1.25.m3.2.3.3.3.2" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.3.1.cmml"><mo id="S5.SS3.SSS1.p1.25.m3.2.3.3.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.3.1.cmml">(</mo><mn id="S5.SS3.SSS1.p1.25.m3.1.1" xref="S5.SS3.SSS1.p1.25.m3.1.1.cmml">0</mn><mo id="S5.SS3.SSS1.p1.25.m3.2.3.3.3.2.2" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.3.1.cmml">,</mo><mn id="S5.SS3.SSS1.p1.25.m3.2.2" xref="S5.SS3.SSS1.p1.25.m3.2.2.cmml">0.05</mn><mo id="S5.SS3.SSS1.p1.25.m3.2.3.3.3.2.3" stretchy="false" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p1.25.m3.2b"><apply id="S5.SS3.SSS1.p1.25.m3.2.3.cmml" xref="S5.SS3.SSS1.p1.25.m3.2.3"><csymbol cd="latexml" id="S5.SS3.SSS1.p1.25.m3.2.3.1.cmml" xref="S5.SS3.SSS1.p1.25.m3.2.3.1">similar-to</csymbol><ci id="S5.SS3.SSS1.p1.25.m3.2.3.2.cmml" xref="S5.SS3.SSS1.p1.25.m3.2.3.2">𝑋</ci><apply id="S5.SS3.SSS1.p1.25.m3.2.3.3.cmml" xref="S5.SS3.SSS1.p1.25.m3.2.3.3"><times id="S5.SS3.SSS1.p1.25.m3.2.3.3.1.cmml" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.1"></times><ci id="S5.SS3.SSS1.p1.25.m3.2.3.3.2a.cmml" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.2"><mtext id="S5.SS3.SSS1.p1.25.m3.2.3.3.2.cmml" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.2">N</mtext></ci><interval closure="open" id="S5.SS3.SSS1.p1.25.m3.2.3.3.3.1.cmml" xref="S5.SS3.SSS1.p1.25.m3.2.3.3.3.2"><cn id="S5.SS3.SSS1.p1.25.m3.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p1.25.m3.1.1">0</cn><cn id="S5.SS3.SSS1.p1.25.m3.2.2.cmml" type="float" xref="S5.SS3.SSS1.p1.25.m3.2.2">0.05</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p1.25.m3.2c">X\sim\text{N}(0,0.05)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p1.25.m3.2d">italic_X ∼ N ( 0 , 0.05 )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S5.SS3.SSS1.p2">
<p class="ltx_p" id="S5.SS3.SSS1.p2.12">The additional term <math alttext="\beta_{u}\cdot(p_{u,r}-p_{i})" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.1.m1.3"><semantics id="S5.SS3.SSS1.p2.1.m1.3a"><mrow id="S5.SS3.SSS1.p2.1.m1.3.3" xref="S5.SS3.SSS1.p2.1.m1.3.3.cmml"><msub id="S5.SS3.SSS1.p2.1.m1.3.3.3" xref="S5.SS3.SSS1.p2.1.m1.3.3.3.cmml"><mi id="S5.SS3.SSS1.p2.1.m1.3.3.3.2" xref="S5.SS3.SSS1.p2.1.m1.3.3.3.2.cmml">β</mi><mi id="S5.SS3.SSS1.p2.1.m1.3.3.3.3" xref="S5.SS3.SSS1.p2.1.m1.3.3.3.3.cmml">u</mi></msub><mo id="S5.SS3.SSS1.p2.1.m1.3.3.2" lspace="0.222em" rspace="0.222em" xref="S5.SS3.SSS1.p2.1.m1.3.3.2.cmml">⋅</mo><mrow id="S5.SS3.SSS1.p2.1.m1.3.3.1.1" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.cmml"><mo id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.2" stretchy="false" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.cmml">(</mo><mrow id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.cmml"><msub id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2.cmml"><mi id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2.2" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2.2.cmml">p</mi><mrow id="S5.SS3.SSS1.p2.1.m1.2.2.2.4" xref="S5.SS3.SSS1.p2.1.m1.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p2.1.m1.1.1.1.1" xref="S5.SS3.SSS1.p2.1.m1.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p2.1.m1.2.2.2.4.1" xref="S5.SS3.SSS1.p2.1.m1.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS1.p2.1.m1.2.2.2.2" xref="S5.SS3.SSS1.p2.1.m1.2.2.2.2.cmml">r</mi></mrow></msub><mo id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.1" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.1.cmml">−</mo><msub id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.cmml"><mi id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.2" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.2.cmml">p</mi><mi id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.3" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.3" stretchy="false" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.1.m1.3b"><apply id="S5.SS3.SSS1.p2.1.m1.3.3.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3"><ci id="S5.SS3.SSS1.p2.1.m1.3.3.2.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.2">⋅</ci><apply id="S5.SS3.SSS1.p2.1.m1.3.3.3.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.1.m1.3.3.3.1.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.3">subscript</csymbol><ci id="S5.SS3.SSS1.p2.1.m1.3.3.3.2.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.3.2">𝛽</ci><ci id="S5.SS3.SSS1.p2.1.m1.3.3.3.3.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.3.3">𝑢</ci></apply><apply id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1"><minus id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.1.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.1"></minus><apply id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2.1.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2">subscript</csymbol><ci id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2.2.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.2.2">𝑝</ci><list id="S5.SS3.SSS1.p2.1.m1.2.2.2.3.cmml" xref="S5.SS3.SSS1.p2.1.m1.2.2.2.4"><ci id="S5.SS3.SSS1.p2.1.m1.1.1.1.1.cmml" xref="S5.SS3.SSS1.p2.1.m1.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS1.p2.1.m1.2.2.2.2.cmml" xref="S5.SS3.SSS1.p2.1.m1.2.2.2.2">𝑟</ci></list></apply><apply id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.1.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3">subscript</csymbol><ci id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.2.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.2">𝑝</ci><ci id="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.3.cmml" xref="S5.SS3.SSS1.p2.1.m1.3.3.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.1.m1.3c">\beta_{u}\cdot(p_{u,r}-p_{i})</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.1.m1.3d">italic_β start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT ⋅ ( italic_p start_POSTSUBSCRIPT italic_u , italic_r end_POSTSUBSCRIPT - italic_p start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math> is the “sticker shock” term proposed in <cite class="ltx_cite ltx_citemacro_citep">(Winer, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib91" title="">1986</a>)</cite> to model the impact of the reference price. Initially, when the consumer has not made any purchases, the product set <math alttext="\mathcal{R}_{u}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.2.m2.1"><semantics id="S5.SS3.SSS1.p2.2.m2.1a"><msub id="S5.SS3.SSS1.p2.2.m2.1.1" xref="S5.SS3.SSS1.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p2.2.m2.1.1.2" xref="S5.SS3.SSS1.p2.2.m2.1.1.2.cmml">ℛ</mi><mi id="S5.SS3.SSS1.p2.2.m2.1.1.3" xref="S5.SS3.SSS1.p2.2.m2.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.2.m2.1b"><apply id="S5.SS3.SSS1.p2.2.m2.1.1.cmml" xref="S5.SS3.SSS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.2.m2.1.1.1.cmml" xref="S5.SS3.SSS1.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.SSS1.p2.2.m2.1.1.2.cmml" xref="S5.SS3.SSS1.p2.2.m2.1.1.2">ℛ</ci><ci id="S5.SS3.SSS1.p2.2.m2.1.1.3.cmml" xref="S5.SS3.SSS1.p2.2.m2.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.2.m2.1c">\mathcal{R}_{u}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.2.m2.1d">caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> interacted by consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.3.m3.1"><semantics id="S5.SS3.SSS1.p2.3.m3.1a"><mi id="S5.SS3.SSS1.p2.3.m3.1.1" xref="S5.SS3.SSS1.p2.3.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.3.m3.1b"><ci id="S5.SS3.SSS1.p2.3.m3.1.1.cmml" xref="S5.SS3.SSS1.p2.3.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.3.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.3.m3.1d">italic_u</annotation></semantics></math> is empty. In this case, we set <math alttext="p_{u,r}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.4.m4.2"><semantics id="S5.SS3.SSS1.p2.4.m4.2a"><msub id="S5.SS3.SSS1.p2.4.m4.2.3" xref="S5.SS3.SSS1.p2.4.m4.2.3.cmml"><mi id="S5.SS3.SSS1.p2.4.m4.2.3.2" xref="S5.SS3.SSS1.p2.4.m4.2.3.2.cmml">p</mi><mrow id="S5.SS3.SSS1.p2.4.m4.2.2.2.4" xref="S5.SS3.SSS1.p2.4.m4.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p2.4.m4.1.1.1.1" xref="S5.SS3.SSS1.p2.4.m4.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p2.4.m4.2.2.2.4.1" xref="S5.SS3.SSS1.p2.4.m4.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS1.p2.4.m4.2.2.2.2" xref="S5.SS3.SSS1.p2.4.m4.2.2.2.2.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.4.m4.2b"><apply id="S5.SS3.SSS1.p2.4.m4.2.3.cmml" xref="S5.SS3.SSS1.p2.4.m4.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.4.m4.2.3.1.cmml" xref="S5.SS3.SSS1.p2.4.m4.2.3">subscript</csymbol><ci id="S5.SS3.SSS1.p2.4.m4.2.3.2.cmml" xref="S5.SS3.SSS1.p2.4.m4.2.3.2">𝑝</ci><list id="S5.SS3.SSS1.p2.4.m4.2.2.2.3.cmml" xref="S5.SS3.SSS1.p2.4.m4.2.2.2.4"><ci id="S5.SS3.SSS1.p2.4.m4.1.1.1.1.cmml" xref="S5.SS3.SSS1.p2.4.m4.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS1.p2.4.m4.2.2.2.2.cmml" xref="S5.SS3.SSS1.p2.4.m4.2.2.2.2">𝑟</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.4.m4.2c">p_{u,r}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.4.m4.2d">italic_p start_POSTSUBSCRIPT italic_u , italic_r end_POSTSUBSCRIPT</annotation></semantics></math> to be the average price of all products in the retailer’s assortment, calculated as <math alttext="\frac{1}{|\mathcal{V}|}\sum_{j\in\mathcal{V}}p_{j}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.5.m5.1"><semantics id="S5.SS3.SSS1.p2.5.m5.1a"><mrow id="S5.SS3.SSS1.p2.5.m5.1.2" xref="S5.SS3.SSS1.p2.5.m5.1.2.cmml"><mfrac id="S5.SS3.SSS1.p2.5.m5.1.1" xref="S5.SS3.SSS1.p2.5.m5.1.1.cmml"><mn id="S5.SS3.SSS1.p2.5.m5.1.1.3" xref="S5.SS3.SSS1.p2.5.m5.1.1.3.cmml">1</mn><mrow id="S5.SS3.SSS1.p2.5.m5.1.1.1.3" xref="S5.SS3.SSS1.p2.5.m5.1.1.1.2.cmml"><mo id="S5.SS3.SSS1.p2.5.m5.1.1.1.3.1" stretchy="false" xref="S5.SS3.SSS1.p2.5.m5.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p2.5.m5.1.1.1.1" xref="S5.SS3.SSS1.p2.5.m5.1.1.1.1.cmml">𝒱</mi><mo id="S5.SS3.SSS1.p2.5.m5.1.1.1.3.2" stretchy="false" xref="S5.SS3.SSS1.p2.5.m5.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S5.SS3.SSS1.p2.5.m5.1.2.1" xref="S5.SS3.SSS1.p2.5.m5.1.2.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p2.5.m5.1.2.2" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.cmml"><msub id="S5.SS3.SSS1.p2.5.m5.1.2.2.1" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.cmml"><mo id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.2" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.2.cmml">∑</mo><mrow id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.cmml"><mi id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.2" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.2.cmml">j</mi><mo id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.1" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.3" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.3.cmml">𝒱</mi></mrow></msub><msub id="S5.SS3.SSS1.p2.5.m5.1.2.2.2" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.2.cmml"><mi id="S5.SS3.SSS1.p2.5.m5.1.2.2.2.2" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.2.2.cmml">p</mi><mi id="S5.SS3.SSS1.p2.5.m5.1.2.2.2.3" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.2.3.cmml">j</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.5.m5.1b"><apply id="S5.SS3.SSS1.p2.5.m5.1.2.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2"><times id="S5.SS3.SSS1.p2.5.m5.1.2.1.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.1"></times><apply id="S5.SS3.SSS1.p2.5.m5.1.1.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.1"><divide id="S5.SS3.SSS1.p2.5.m5.1.1.2.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.1"></divide><cn id="S5.SS3.SSS1.p2.5.m5.1.1.3.cmml" type="integer" xref="S5.SS3.SSS1.p2.5.m5.1.1.3">1</cn><apply id="S5.SS3.SSS1.p2.5.m5.1.1.1.2.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.1.1.3"><abs id="S5.SS3.SSS1.p2.5.m5.1.1.1.2.1.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.1.1.3.1"></abs><ci id="S5.SS3.SSS1.p2.5.m5.1.1.1.1.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.1.1.1">𝒱</ci></apply></apply><apply id="S5.SS3.SSS1.p2.5.m5.1.2.2.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2"><apply id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.1.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1">subscript</csymbol><sum id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.2.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.2"></sum><apply id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3"><in id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.1.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.1"></in><ci id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.2.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.2">𝑗</ci><ci id="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.3.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.1.3.3">𝒱</ci></apply></apply><apply id="S5.SS3.SSS1.p2.5.m5.1.2.2.2.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.2"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.5.m5.1.2.2.2.1.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.2">subscript</csymbol><ci id="S5.SS3.SSS1.p2.5.m5.1.2.2.2.2.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.2.2">𝑝</ci><ci id="S5.SS3.SSS1.p2.5.m5.1.2.2.2.3.cmml" xref="S5.SS3.SSS1.p2.5.m5.1.2.2.2.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.5.m5.1c">\frac{1}{|\mathcal{V}|}\sum_{j\in\mathcal{V}}p_{j}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.5.m5.1d">divide start_ARG 1 end_ARG start_ARG | caligraphic_V | end_ARG ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_V end_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>, following the strategy used in <cite class="ltx_cite ltx_citemacro_citep">(Zhang and Zheng, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib98" title="">2019</a>)</cite>.
As the consumer learns and updates their internal knowledge through the purchasing process, we update the reference price <math alttext="p_{u,r}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.6.m6.2"><semantics id="S5.SS3.SSS1.p2.6.m6.2a"><msub id="S5.SS3.SSS1.p2.6.m6.2.3" xref="S5.SS3.SSS1.p2.6.m6.2.3.cmml"><mi id="S5.SS3.SSS1.p2.6.m6.2.3.2" xref="S5.SS3.SSS1.p2.6.m6.2.3.2.cmml">p</mi><mrow id="S5.SS3.SSS1.p2.6.m6.2.2.2.4" xref="S5.SS3.SSS1.p2.6.m6.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p2.6.m6.1.1.1.1" xref="S5.SS3.SSS1.p2.6.m6.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p2.6.m6.2.2.2.4.1" xref="S5.SS3.SSS1.p2.6.m6.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS1.p2.6.m6.2.2.2.2" xref="S5.SS3.SSS1.p2.6.m6.2.2.2.2.cmml">r</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.6.m6.2b"><apply id="S5.SS3.SSS1.p2.6.m6.2.3.cmml" xref="S5.SS3.SSS1.p2.6.m6.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.6.m6.2.3.1.cmml" xref="S5.SS3.SSS1.p2.6.m6.2.3">subscript</csymbol><ci id="S5.SS3.SSS1.p2.6.m6.2.3.2.cmml" xref="S5.SS3.SSS1.p2.6.m6.2.3.2">𝑝</ci><list id="S5.SS3.SSS1.p2.6.m6.2.2.2.3.cmml" xref="S5.SS3.SSS1.p2.6.m6.2.2.2.4"><ci id="S5.SS3.SSS1.p2.6.m6.1.1.1.1.cmml" xref="S5.SS3.SSS1.p2.6.m6.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS1.p2.6.m6.2.2.2.2.cmml" xref="S5.SS3.SSS1.p2.6.m6.2.2.2.2">𝑟</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.6.m6.2c">p_{u,r}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.6.m6.2d">italic_p start_POSTSUBSCRIPT italic_u , italic_r end_POSTSUBSCRIPT</annotation></semantics></math> as the average price of the prior purchases, computed as <math alttext="p_{u,r}=\frac{1}{|\mathcal{R}u|}\sum_{j\in\mathcal{R}_{u}}p_{j}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.7.m7.3"><semantics id="S5.SS3.SSS1.p2.7.m7.3a"><mrow id="S5.SS3.SSS1.p2.7.m7.3.4" xref="S5.SS3.SSS1.p2.7.m7.3.4.cmml"><msub id="S5.SS3.SSS1.p2.7.m7.3.4.2" xref="S5.SS3.SSS1.p2.7.m7.3.4.2.cmml"><mi id="S5.SS3.SSS1.p2.7.m7.3.4.2.2" xref="S5.SS3.SSS1.p2.7.m7.3.4.2.2.cmml">p</mi><mrow id="S5.SS3.SSS1.p2.7.m7.2.2.2.4" xref="S5.SS3.SSS1.p2.7.m7.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p2.7.m7.1.1.1.1" xref="S5.SS3.SSS1.p2.7.m7.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p2.7.m7.2.2.2.4.1" xref="S5.SS3.SSS1.p2.7.m7.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS1.p2.7.m7.2.2.2.2" xref="S5.SS3.SSS1.p2.7.m7.2.2.2.2.cmml">r</mi></mrow></msub><mo id="S5.SS3.SSS1.p2.7.m7.3.4.1" xref="S5.SS3.SSS1.p2.7.m7.3.4.1.cmml">=</mo><mrow id="S5.SS3.SSS1.p2.7.m7.3.4.3" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.cmml"><mfrac id="S5.SS3.SSS1.p2.7.m7.3.3" xref="S5.SS3.SSS1.p2.7.m7.3.3.cmml"><mn id="S5.SS3.SSS1.p2.7.m7.3.3.3" xref="S5.SS3.SSS1.p2.7.m7.3.3.3.cmml">1</mn><mrow id="S5.SS3.SSS1.p2.7.m7.3.3.1.1" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.2.cmml"><mo id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.2" stretchy="false" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.2.1.cmml">|</mo><mrow id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.2" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.2.cmml">ℛ</mi><mo id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.1" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.1.cmml">⁢</mo><mi id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.3" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.3.cmml">u</mi></mrow><mo id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.3" stretchy="false" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S5.SS3.SSS1.p2.7.m7.3.4.3.1" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p2.7.m7.3.4.3.2" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.cmml"><msub id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.cmml"><mo id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.2" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.2.cmml">∑</mo><mrow id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.cmml"><mi id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.2" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.2.cmml">j</mi><mo id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.1" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.1.cmml">∈</mo><msub id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.2" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.2.cmml">ℛ</mi><mi id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.3" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.3.cmml">u</mi></msub></mrow></msub><msub id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.cmml"><mi id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.2" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.2.cmml">p</mi><mi id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.3" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.3.cmml">j</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.7.m7.3b"><apply id="S5.SS3.SSS1.p2.7.m7.3.4.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4"><eq id="S5.SS3.SSS1.p2.7.m7.3.4.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.1"></eq><apply id="S5.SS3.SSS1.p2.7.m7.3.4.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.2"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.7.m7.3.4.2.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.2">subscript</csymbol><ci id="S5.SS3.SSS1.p2.7.m7.3.4.2.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.2.2">𝑝</ci><list id="S5.SS3.SSS1.p2.7.m7.2.2.2.3.cmml" xref="S5.SS3.SSS1.p2.7.m7.2.2.2.4"><ci id="S5.SS3.SSS1.p2.7.m7.1.1.1.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS1.p2.7.m7.2.2.2.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.2.2.2.2">𝑟</ci></list></apply><apply id="S5.SS3.SSS1.p2.7.m7.3.4.3.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3"><times id="S5.SS3.SSS1.p2.7.m7.3.4.3.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.1"></times><apply id="S5.SS3.SSS1.p2.7.m7.3.3.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.3"><divide id="S5.SS3.SSS1.p2.7.m7.3.3.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.3"></divide><cn id="S5.SS3.SSS1.p2.7.m7.3.3.3.cmml" type="integer" xref="S5.SS3.SSS1.p2.7.m7.3.3.3">1</cn><apply id="S5.SS3.SSS1.p2.7.m7.3.3.1.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1"><abs id="S5.SS3.SSS1.p2.7.m7.3.3.1.2.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.2"></abs><apply id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1"><times id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.1"></times><ci id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.2">ℛ</ci><ci id="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.3.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.3.1.1.1.3">𝑢</ci></apply></apply></apply><apply id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2"><apply id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1">subscript</csymbol><sum id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.2"></sum><apply id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3"><in id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.1"></in><ci id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.2">𝑗</ci><apply id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3">subscript</csymbol><ci id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.2">ℛ</ci><ci id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.3.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.1.3.3.3">𝑢</ci></apply></apply></apply><apply id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.1.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2">subscript</csymbol><ci id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.2.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.2">𝑝</ci><ci id="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.3.cmml" xref="S5.SS3.SSS1.p2.7.m7.3.4.3.2.2.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.7.m7.3c">p_{u,r}=\frac{1}{|\mathcal{R}u|}\sum_{j\in\mathcal{R}_{u}}p_{j}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.7.m7.3d">italic_p start_POSTSUBSCRIPT italic_u , italic_r end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG | caligraphic_R italic_u | end_ARG ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_p start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math>, where <math alttext="\mathcal{R}_{u}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.8.m8.1"><semantics id="S5.SS3.SSS1.p2.8.m8.1a"><msub id="S5.SS3.SSS1.p2.8.m8.1.1" xref="S5.SS3.SSS1.p2.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS1.p2.8.m8.1.1.2" xref="S5.SS3.SSS1.p2.8.m8.1.1.2.cmml">ℛ</mi><mi id="S5.SS3.SSS1.p2.8.m8.1.1.3" xref="S5.SS3.SSS1.p2.8.m8.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.8.m8.1b"><apply id="S5.SS3.SSS1.p2.8.m8.1.1.cmml" xref="S5.SS3.SSS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.8.m8.1.1.1.cmml" xref="S5.SS3.SSS1.p2.8.m8.1.1">subscript</csymbol><ci id="S5.SS3.SSS1.p2.8.m8.1.1.2.cmml" xref="S5.SS3.SSS1.p2.8.m8.1.1.2">ℛ</ci><ci id="S5.SS3.SSS1.p2.8.m8.1.1.3.cmml" xref="S5.SS3.SSS1.p2.8.m8.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.8.m8.1c">\mathcal{R}_{u}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.8.m8.1d">caligraphic_R start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> represents the set of prior purchases made by consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.9.m9.1"><semantics id="S5.SS3.SSS1.p2.9.m9.1a"><mi id="S5.SS3.SSS1.p2.9.m9.1.1" xref="S5.SS3.SSS1.p2.9.m9.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.9.m9.1b"><ci id="S5.SS3.SSS1.p2.9.m9.1.1.cmml" xref="S5.SS3.SSS1.p2.9.m9.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.9.m9.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.9.m9.1d">italic_u</annotation></semantics></math>.
Since product choice often follows a multinomial logit model <cite class="ltx_cite ltx_citemacro_citep">(Guadagni and Little, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib24" title="">1983</a>)</cite>, based on the defined utility <math alttext="r_{u,i}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.10.m10.2"><semantics id="S5.SS3.SSS1.p2.10.m10.2a"><msub id="S5.SS3.SSS1.p2.10.m10.2.3" xref="S5.SS3.SSS1.p2.10.m10.2.3.cmml"><mi id="S5.SS3.SSS1.p2.10.m10.2.3.2" xref="S5.SS3.SSS1.p2.10.m10.2.3.2.cmml">r</mi><mrow id="S5.SS3.SSS1.p2.10.m10.2.2.2.4" xref="S5.SS3.SSS1.p2.10.m10.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p2.10.m10.1.1.1.1" xref="S5.SS3.SSS1.p2.10.m10.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p2.10.m10.2.2.2.4.1" xref="S5.SS3.SSS1.p2.10.m10.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS1.p2.10.m10.2.2.2.2" xref="S5.SS3.SSS1.p2.10.m10.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.10.m10.2b"><apply id="S5.SS3.SSS1.p2.10.m10.2.3.cmml" xref="S5.SS3.SSS1.p2.10.m10.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p2.10.m10.2.3.1.cmml" xref="S5.SS3.SSS1.p2.10.m10.2.3">subscript</csymbol><ci id="S5.SS3.SSS1.p2.10.m10.2.3.2.cmml" xref="S5.SS3.SSS1.p2.10.m10.2.3.2">𝑟</ci><list id="S5.SS3.SSS1.p2.10.m10.2.2.2.3.cmml" xref="S5.SS3.SSS1.p2.10.m10.2.2.2.4"><ci id="S5.SS3.SSS1.p2.10.m10.1.1.1.1.cmml" xref="S5.SS3.SSS1.p2.10.m10.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS1.p2.10.m10.2.2.2.2.cmml" xref="S5.SS3.SSS1.p2.10.m10.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.10.m10.2c">r_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.10.m10.2d">italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, the probability that consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.11.m11.1"><semantics id="S5.SS3.SSS1.p2.11.m11.1a"><mi id="S5.SS3.SSS1.p2.11.m11.1.1" xref="S5.SS3.SSS1.p2.11.m11.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.11.m11.1b"><ci id="S5.SS3.SSS1.p2.11.m11.1.1.cmml" xref="S5.SS3.SSS1.p2.11.m11.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.11.m11.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.11.m11.1d">italic_u</annotation></semantics></math> would choose product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p2.12.m12.1"><semantics id="S5.SS3.SSS1.p2.12.m12.1a"><mi id="S5.SS3.SSS1.p2.12.m12.1.1" xref="S5.SS3.SSS1.p2.12.m12.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p2.12.m12.1b"><ci id="S5.SS3.SSS1.p2.12.m12.1.1.cmml" xref="S5.SS3.SSS1.p2.12.m12.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p2.12.m12.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p2.12.m12.1d">italic_i</annotation></semantics></math> becomes:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E16">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P_{u,i}=\frac{\exp(r_{u,i})}{\sum_{j\in\mathcal{V}}\exp(r_{u,j})}." class="ltx_Math" display="block" id="S5.E16.m1.11"><semantics id="S5.E16.m1.11a"><mrow id="S5.E16.m1.11.11.1" xref="S5.E16.m1.11.11.1.1.cmml"><mrow id="S5.E16.m1.11.11.1.1" xref="S5.E16.m1.11.11.1.1.cmml"><msub id="S5.E16.m1.11.11.1.1.2" xref="S5.E16.m1.11.11.1.1.2.cmml"><mi id="S5.E16.m1.11.11.1.1.2.2" xref="S5.E16.m1.11.11.1.1.2.2.cmml">P</mi><mrow id="S5.E16.m1.2.2.2.4" xref="S5.E16.m1.2.2.2.3.cmml"><mi id="S5.E16.m1.1.1.1.1" xref="S5.E16.m1.1.1.1.1.cmml">u</mi><mo id="S5.E16.m1.2.2.2.4.1" xref="S5.E16.m1.2.2.2.3.cmml">,</mo><mi id="S5.E16.m1.2.2.2.2" xref="S5.E16.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S5.E16.m1.11.11.1.1.1" xref="S5.E16.m1.11.11.1.1.1.cmml">=</mo><mfrac id="S5.E16.m1.10.10" xref="S5.E16.m1.10.10.cmml"><mrow id="S5.E16.m1.6.6.4.4" xref="S5.E16.m1.6.6.4.5.cmml"><mi id="S5.E16.m1.5.5.3.3" xref="S5.E16.m1.5.5.3.3.cmml">exp</mi><mo id="S5.E16.m1.6.6.4.4a" xref="S5.E16.m1.6.6.4.5.cmml">⁡</mo><mrow id="S5.E16.m1.6.6.4.4.1" xref="S5.E16.m1.6.6.4.5.cmml"><mo id="S5.E16.m1.6.6.4.4.1.2" stretchy="false" xref="S5.E16.m1.6.6.4.5.cmml">(</mo><msub id="S5.E16.m1.6.6.4.4.1.1" xref="S5.E16.m1.6.6.4.4.1.1.cmml"><mi id="S5.E16.m1.6.6.4.4.1.1.2" xref="S5.E16.m1.6.6.4.4.1.1.2.cmml">r</mi><mrow id="S5.E16.m1.4.4.2.2.2.4" xref="S5.E16.m1.4.4.2.2.2.3.cmml"><mi id="S5.E16.m1.3.3.1.1.1.1" xref="S5.E16.m1.3.3.1.1.1.1.cmml">u</mi><mo id="S5.E16.m1.4.4.2.2.2.4.1" xref="S5.E16.m1.4.4.2.2.2.3.cmml">,</mo><mi id="S5.E16.m1.4.4.2.2.2.2" xref="S5.E16.m1.4.4.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S5.E16.m1.6.6.4.4.1.3" stretchy="false" xref="S5.E16.m1.6.6.4.5.cmml">)</mo></mrow></mrow><mrow id="S5.E16.m1.10.10.8" xref="S5.E16.m1.10.10.8.cmml"><msub id="S5.E16.m1.10.10.8.5" xref="S5.E16.m1.10.10.8.5.cmml"><mo id="S5.E16.m1.10.10.8.5.2" xref="S5.E16.m1.10.10.8.5.2.cmml">∑</mo><mrow id="S5.E16.m1.10.10.8.5.3" xref="S5.E16.m1.10.10.8.5.3.cmml"><mi id="S5.E16.m1.10.10.8.5.3.2" xref="S5.E16.m1.10.10.8.5.3.2.cmml">j</mi><mo id="S5.E16.m1.10.10.8.5.3.1" xref="S5.E16.m1.10.10.8.5.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E16.m1.10.10.8.5.3.3" xref="S5.E16.m1.10.10.8.5.3.3.cmml">𝒱</mi></mrow></msub><mrow id="S5.E16.m1.10.10.8.4.1" xref="S5.E16.m1.10.10.8.4.2.cmml"><mi id="S5.E16.m1.9.9.7.3" xref="S5.E16.m1.9.9.7.3.cmml">exp</mi><mo id="S5.E16.m1.10.10.8.4.1a" xref="S5.E16.m1.10.10.8.4.2.cmml">⁡</mo><mrow id="S5.E16.m1.10.10.8.4.1.1" xref="S5.E16.m1.10.10.8.4.2.cmml"><mo id="S5.E16.m1.10.10.8.4.1.1.2" stretchy="false" xref="S5.E16.m1.10.10.8.4.2.cmml">(</mo><msub id="S5.E16.m1.10.10.8.4.1.1.1" xref="S5.E16.m1.10.10.8.4.1.1.1.cmml"><mi id="S5.E16.m1.10.10.8.4.1.1.1.2" xref="S5.E16.m1.10.10.8.4.1.1.1.2.cmml">r</mi><mrow id="S5.E16.m1.8.8.6.2.2.4" xref="S5.E16.m1.8.8.6.2.2.3.cmml"><mi id="S5.E16.m1.7.7.5.1.1.1" xref="S5.E16.m1.7.7.5.1.1.1.cmml">u</mi><mo id="S5.E16.m1.8.8.6.2.2.4.1" xref="S5.E16.m1.8.8.6.2.2.3.cmml">,</mo><mi id="S5.E16.m1.8.8.6.2.2.2" xref="S5.E16.m1.8.8.6.2.2.2.cmml">j</mi></mrow></msub><mo id="S5.E16.m1.10.10.8.4.1.1.3" stretchy="false" xref="S5.E16.m1.10.10.8.4.2.cmml">)</mo></mrow></mrow></mrow></mfrac></mrow><mo id="S5.E16.m1.11.11.1.2" lspace="0em" xref="S5.E16.m1.11.11.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E16.m1.11b"><apply id="S5.E16.m1.11.11.1.1.cmml" xref="S5.E16.m1.11.11.1"><eq id="S5.E16.m1.11.11.1.1.1.cmml" xref="S5.E16.m1.11.11.1.1.1"></eq><apply id="S5.E16.m1.11.11.1.1.2.cmml" xref="S5.E16.m1.11.11.1.1.2"><csymbol cd="ambiguous" id="S5.E16.m1.11.11.1.1.2.1.cmml" xref="S5.E16.m1.11.11.1.1.2">subscript</csymbol><ci id="S5.E16.m1.11.11.1.1.2.2.cmml" xref="S5.E16.m1.11.11.1.1.2.2">𝑃</ci><list id="S5.E16.m1.2.2.2.3.cmml" xref="S5.E16.m1.2.2.2.4"><ci id="S5.E16.m1.1.1.1.1.cmml" xref="S5.E16.m1.1.1.1.1">𝑢</ci><ci id="S5.E16.m1.2.2.2.2.cmml" xref="S5.E16.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S5.E16.m1.10.10.cmml" xref="S5.E16.m1.10.10"><divide id="S5.E16.m1.10.10.9.cmml" xref="S5.E16.m1.10.10"></divide><apply id="S5.E16.m1.6.6.4.5.cmml" xref="S5.E16.m1.6.6.4.4"><exp id="S5.E16.m1.5.5.3.3.cmml" xref="S5.E16.m1.5.5.3.3"></exp><apply id="S5.E16.m1.6.6.4.4.1.1.cmml" xref="S5.E16.m1.6.6.4.4.1.1"><csymbol cd="ambiguous" id="S5.E16.m1.6.6.4.4.1.1.1.cmml" xref="S5.E16.m1.6.6.4.4.1.1">subscript</csymbol><ci id="S5.E16.m1.6.6.4.4.1.1.2.cmml" xref="S5.E16.m1.6.6.4.4.1.1.2">𝑟</ci><list id="S5.E16.m1.4.4.2.2.2.3.cmml" xref="S5.E16.m1.4.4.2.2.2.4"><ci id="S5.E16.m1.3.3.1.1.1.1.cmml" xref="S5.E16.m1.3.3.1.1.1.1">𝑢</ci><ci id="S5.E16.m1.4.4.2.2.2.2.cmml" xref="S5.E16.m1.4.4.2.2.2.2">𝑖</ci></list></apply></apply><apply id="S5.E16.m1.10.10.8.cmml" xref="S5.E16.m1.10.10.8"><apply id="S5.E16.m1.10.10.8.5.cmml" xref="S5.E16.m1.10.10.8.5"><csymbol cd="ambiguous" id="S5.E16.m1.10.10.8.5.1.cmml" xref="S5.E16.m1.10.10.8.5">subscript</csymbol><sum id="S5.E16.m1.10.10.8.5.2.cmml" xref="S5.E16.m1.10.10.8.5.2"></sum><apply id="S5.E16.m1.10.10.8.5.3.cmml" xref="S5.E16.m1.10.10.8.5.3"><in id="S5.E16.m1.10.10.8.5.3.1.cmml" xref="S5.E16.m1.10.10.8.5.3.1"></in><ci id="S5.E16.m1.10.10.8.5.3.2.cmml" xref="S5.E16.m1.10.10.8.5.3.2">𝑗</ci><ci id="S5.E16.m1.10.10.8.5.3.3.cmml" xref="S5.E16.m1.10.10.8.5.3.3">𝒱</ci></apply></apply><apply id="S5.E16.m1.10.10.8.4.2.cmml" xref="S5.E16.m1.10.10.8.4.1"><exp id="S5.E16.m1.9.9.7.3.cmml" xref="S5.E16.m1.9.9.7.3"></exp><apply id="S5.E16.m1.10.10.8.4.1.1.1.cmml" xref="S5.E16.m1.10.10.8.4.1.1.1"><csymbol cd="ambiguous" id="S5.E16.m1.10.10.8.4.1.1.1.1.cmml" xref="S5.E16.m1.10.10.8.4.1.1.1">subscript</csymbol><ci id="S5.E16.m1.10.10.8.4.1.1.1.2.cmml" xref="S5.E16.m1.10.10.8.4.1.1.1.2">𝑟</ci><list id="S5.E16.m1.8.8.6.2.2.3.cmml" xref="S5.E16.m1.8.8.6.2.2.4"><ci id="S5.E16.m1.7.7.5.1.1.1.cmml" xref="S5.E16.m1.7.7.5.1.1.1">𝑢</ci><ci id="S5.E16.m1.8.8.6.2.2.2.cmml" xref="S5.E16.m1.8.8.6.2.2.2">𝑗</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E16.m1.11c">P_{u,i}=\frac{\exp(r_{u,i})}{\sum_{j\in\mathcal{V}}\exp(r_{u,j})}.</annotation><annotation encoding="application/x-llamapun" id="S5.E16.m1.11d">italic_P start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = divide start_ARG roman_exp ( italic_r start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_V end_POSTSUBSCRIPT roman_exp ( italic_r start_POSTSUBSCRIPT italic_u , italic_j end_POSTSUBSCRIPT ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(16)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S5.SS3.SSS1.p3">
<p class="ltx_p" id="S5.SS3.SSS1.p3.2">In each simulation period, consumers can make purchase decisions based on the generated purchasing probability <math alttext="P_{u,i}" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p3.1.m1.2"><semantics id="S5.SS3.SSS1.p3.1.m1.2a"><msub id="S5.SS3.SSS1.p3.1.m1.2.3" xref="S5.SS3.SSS1.p3.1.m1.2.3.cmml"><mi id="S5.SS3.SSS1.p3.1.m1.2.3.2" xref="S5.SS3.SSS1.p3.1.m1.2.3.2.cmml">P</mi><mrow id="S5.SS3.SSS1.p3.1.m1.2.2.2.4" xref="S5.SS3.SSS1.p3.1.m1.2.2.2.3.cmml"><mi id="S5.SS3.SSS1.p3.1.m1.1.1.1.1" xref="S5.SS3.SSS1.p3.1.m1.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS1.p3.1.m1.2.2.2.4.1" xref="S5.SS3.SSS1.p3.1.m1.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS1.p3.1.m1.2.2.2.2" xref="S5.SS3.SSS1.p3.1.m1.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p3.1.m1.2b"><apply id="S5.SS3.SSS1.p3.1.m1.2.3.cmml" xref="S5.SS3.SSS1.p3.1.m1.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS1.p3.1.m1.2.3.1.cmml" xref="S5.SS3.SSS1.p3.1.m1.2.3">subscript</csymbol><ci id="S5.SS3.SSS1.p3.1.m1.2.3.2.cmml" xref="S5.SS3.SSS1.p3.1.m1.2.3.2">𝑃</ci><list id="S5.SS3.SSS1.p3.1.m1.2.2.2.3.cmml" xref="S5.SS3.SSS1.p3.1.m1.2.2.2.4"><ci id="S5.SS3.SSS1.p3.1.m1.1.1.1.1.cmml" xref="S5.SS3.SSS1.p3.1.m1.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS1.p3.1.m1.2.2.2.2.cmml" xref="S5.SS3.SSS1.p3.1.m1.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p3.1.m1.2c">P_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p3.1.m1.2d">italic_P start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, and the total active periods for each consumer follow a discrete uniform distribution <math alttext="X\sim\text{U}(5,25)" class="ltx_Math" display="inline" id="S5.SS3.SSS1.p3.2.m2.2"><semantics id="S5.SS3.SSS1.p3.2.m2.2a"><mrow id="S5.SS3.SSS1.p3.2.m2.2.3" xref="S5.SS3.SSS1.p3.2.m2.2.3.cmml"><mi id="S5.SS3.SSS1.p3.2.m2.2.3.2" xref="S5.SS3.SSS1.p3.2.m2.2.3.2.cmml">X</mi><mo id="S5.SS3.SSS1.p3.2.m2.2.3.1" xref="S5.SS3.SSS1.p3.2.m2.2.3.1.cmml">∼</mo><mrow id="S5.SS3.SSS1.p3.2.m2.2.3.3" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.cmml"><mtext id="S5.SS3.SSS1.p3.2.m2.2.3.3.2" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.2a.cmml">U</mtext><mo id="S5.SS3.SSS1.p3.2.m2.2.3.3.1" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.1.cmml">⁢</mo><mrow id="S5.SS3.SSS1.p3.2.m2.2.3.3.3.2" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.3.1.cmml"><mo id="S5.SS3.SSS1.p3.2.m2.2.3.3.3.2.1" stretchy="false" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.3.1.cmml">(</mo><mn id="S5.SS3.SSS1.p3.2.m2.1.1" xref="S5.SS3.SSS1.p3.2.m2.1.1.cmml">5</mn><mo id="S5.SS3.SSS1.p3.2.m2.2.3.3.3.2.2" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.3.1.cmml">,</mo><mn id="S5.SS3.SSS1.p3.2.m2.2.2" xref="S5.SS3.SSS1.p3.2.m2.2.2.cmml">25</mn><mo id="S5.SS3.SSS1.p3.2.m2.2.3.3.3.2.3" stretchy="false" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS1.p3.2.m2.2b"><apply id="S5.SS3.SSS1.p3.2.m2.2.3.cmml" xref="S5.SS3.SSS1.p3.2.m2.2.3"><csymbol cd="latexml" id="S5.SS3.SSS1.p3.2.m2.2.3.1.cmml" xref="S5.SS3.SSS1.p3.2.m2.2.3.1">similar-to</csymbol><ci id="S5.SS3.SSS1.p3.2.m2.2.3.2.cmml" xref="S5.SS3.SSS1.p3.2.m2.2.3.2">𝑋</ci><apply id="S5.SS3.SSS1.p3.2.m2.2.3.3.cmml" xref="S5.SS3.SSS1.p3.2.m2.2.3.3"><times id="S5.SS3.SSS1.p3.2.m2.2.3.3.1.cmml" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.1"></times><ci id="S5.SS3.SSS1.p3.2.m2.2.3.3.2a.cmml" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.2"><mtext id="S5.SS3.SSS1.p3.2.m2.2.3.3.2.cmml" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.2">U</mtext></ci><interval closure="open" id="S5.SS3.SSS1.p3.2.m2.2.3.3.3.1.cmml" xref="S5.SS3.SSS1.p3.2.m2.2.3.3.3.2"><cn id="S5.SS3.SSS1.p3.2.m2.1.1.cmml" type="integer" xref="S5.SS3.SSS1.p3.2.m2.1.1">5</cn><cn id="S5.SS3.SSS1.p3.2.m2.2.2.cmml" type="integer" xref="S5.SS3.SSS1.p3.2.m2.2.2">25</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS1.p3.2.m2.2c">X\sim\text{U}(5,25)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS1.p3.2.m2.2d">italic_X ∼ U ( 5 , 25 )</annotation></semantics></math>. These simulation periods are used for model training and an additional period is also simulated for model evaluation, i.e., evaluating the recommendation performances.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.2 </span>Evaluation Procedures.</h4>
<div class="ltx_para" id="S5.SS3.SSS2.p1">
<p class="ltx_p" id="S5.SS3.SSS2.p1.13">To evaluate the performance of the proposed model on a holdout test data, we designate the products from the last additional simulation period as the test data, while the remaining interactions are used as the training and validation data for optimizing our model as well as the baseline models. Since the parameters of the data generation process are known, we can obtain the true ranking list of products for each consumer in the test data according to the ground truth purchasing probabilities.
Considering that the recommendation task is essentially a ranking problem, we compare the ranking results with the ground truth ranking list to evaluate model performance.
Two widely used metrics for evaluating the correlations between rank variables are adopted named Kendall rank correlation coefficient (Kendall’s <math alttext="\tau" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.1.m1.1"><semantics id="S5.SS3.SSS2.p1.1.m1.1a"><mi id="S5.SS3.SSS2.p1.1.m1.1.1" xref="S5.SS3.SSS2.p1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.1.m1.1b"><ci id="S5.SS3.SSS2.p1.1.m1.1.1.cmml" xref="S5.SS3.SSS2.p1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.1.m1.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.1.m1.1d">italic_τ</annotation></semantics></math>) and Spearman’s rank correlation coefficient (Spearman’s <math alttext="\rho" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.2.m2.1"><semantics id="S5.SS3.SSS2.p1.2.m2.1a"><mi id="S5.SS3.SSS2.p1.2.m2.1.1" xref="S5.SS3.SSS2.p1.2.m2.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.2.m2.1b"><ci id="S5.SS3.SSS2.p1.2.m2.1.1.cmml" xref="S5.SS3.SSS2.p1.2.m2.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.2.m2.1c">\rho</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.2.m2.1d">italic_ρ</annotation></semantics></math>), which provide valuable insights into the degree of agreement between the predicted rankings and the ground truth rankings. Given the ground truth ranking list <math alttext="\mathbf{T}" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.3.m3.1"><semantics id="S5.SS3.SSS2.p1.3.m3.1a"><mi id="S5.SS3.SSS2.p1.3.m3.1.1" xref="S5.SS3.SSS2.p1.3.m3.1.1.cmml">𝐓</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.3.m3.1b"><ci id="S5.SS3.SSS2.p1.3.m3.1.1.cmml" xref="S5.SS3.SSS2.p1.3.m3.1.1">𝐓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.3.m3.1c">\mathbf{T}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.3.m3.1d">bold_T</annotation></semantics></math> and the recommended ranking list <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.4.m4.1"><semantics id="S5.SS3.SSS2.p1.4.m4.1a"><mi id="S5.SS3.SSS2.p1.4.m4.1.1" xref="S5.SS3.SSS2.p1.4.m4.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.4.m4.1b"><ci id="S5.SS3.SSS2.p1.4.m4.1.1.cmml" xref="S5.SS3.SSS2.p1.4.m4.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.4.m4.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.4.m4.1d">bold_C</annotation></semantics></math>, The Kendall’s <math alttext="\tau" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.5.m5.1"><semantics id="S5.SS3.SSS2.p1.5.m5.1a"><mi id="S5.SS3.SSS2.p1.5.m5.1.1" xref="S5.SS3.SSS2.p1.5.m5.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.5.m5.1b"><ci id="S5.SS3.SSS2.p1.5.m5.1.1.cmml" xref="S5.SS3.SSS2.p1.5.m5.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.5.m5.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.5.m5.1d">italic_τ</annotation></semantics></math> and Spearman’s <math alttext="\rho" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.6.m6.1"><semantics id="S5.SS3.SSS2.p1.6.m6.1a"><mi id="S5.SS3.SSS2.p1.6.m6.1.1" xref="S5.SS3.SSS2.p1.6.m6.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.6.m6.1b"><ci id="S5.SS3.SSS2.p1.6.m6.1.1.cmml" xref="S5.SS3.SSS2.p1.6.m6.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.6.m6.1c">\rho</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.6.m6.1d">italic_ρ</annotation></semantics></math> are computed according to Equations (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.E17" title="In 5.3.2 Evaluation Procedures. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">17</span></a>) and (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.E18" title="In 5.3.2 Evaluation Procedures. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">18</span></a>) respectively, where <math alttext="P" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.7.m7.1"><semantics id="S5.SS3.SSS2.p1.7.m7.1a"><mi id="S5.SS3.SSS2.p1.7.m7.1.1" xref="S5.SS3.SSS2.p1.7.m7.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.7.m7.1b"><ci id="S5.SS3.SSS2.p1.7.m7.1.1.cmml" xref="S5.SS3.SSS2.p1.7.m7.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.7.m7.1c">P</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.7.m7.1d">italic_P</annotation></semantics></math> is the number of concordant pairs between <math alttext="\mathbf{T}" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.8.m8.1"><semantics id="S5.SS3.SSS2.p1.8.m8.1a"><mi id="S5.SS3.SSS2.p1.8.m8.1.1" xref="S5.SS3.SSS2.p1.8.m8.1.1.cmml">𝐓</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.8.m8.1b"><ci id="S5.SS3.SSS2.p1.8.m8.1.1.cmml" xref="S5.SS3.SSS2.p1.8.m8.1.1">𝐓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.8.m8.1c">\mathbf{T}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.8.m8.1d">bold_T</annotation></semantics></math> and <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.9.m9.1"><semantics id="S5.SS3.SSS2.p1.9.m9.1a"><mi id="S5.SS3.SSS2.p1.9.m9.1.1" xref="S5.SS3.SSS2.p1.9.m9.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.9.m9.1b"><ci id="S5.SS3.SSS2.p1.9.m9.1.1.cmml" xref="S5.SS3.SSS2.p1.9.m9.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.9.m9.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.9.m9.1d">bold_C</annotation></semantics></math>, and <math alttext="d_{i}" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.10.m10.1"><semantics id="S5.SS3.SSS2.p1.10.m10.1a"><msub id="S5.SS3.SSS2.p1.10.m10.1.1" xref="S5.SS3.SSS2.p1.10.m10.1.1.cmml"><mi id="S5.SS3.SSS2.p1.10.m10.1.1.2" xref="S5.SS3.SSS2.p1.10.m10.1.1.2.cmml">d</mi><mi id="S5.SS3.SSS2.p1.10.m10.1.1.3" xref="S5.SS3.SSS2.p1.10.m10.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.10.m10.1b"><apply id="S5.SS3.SSS2.p1.10.m10.1.1.cmml" xref="S5.SS3.SSS2.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS2.p1.10.m10.1.1.1.cmml" xref="S5.SS3.SSS2.p1.10.m10.1.1">subscript</csymbol><ci id="S5.SS3.SSS2.p1.10.m10.1.1.2.cmml" xref="S5.SS3.SSS2.p1.10.m10.1.1.2">𝑑</ci><ci id="S5.SS3.SSS2.p1.10.m10.1.1.3.cmml" xref="S5.SS3.SSS2.p1.10.m10.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.10.m10.1c">d_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.10.m10.1d">italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> denotes the rank difference for product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.11.m11.1"><semantics id="S5.SS3.SSS2.p1.11.m11.1a"><mi id="S5.SS3.SSS2.p1.11.m11.1.1" xref="S5.SS3.SSS2.p1.11.m11.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.11.m11.1b"><ci id="S5.SS3.SSS2.p1.11.m11.1.1.cmml" xref="S5.SS3.SSS2.p1.11.m11.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.11.m11.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.11.m11.1d">italic_i</annotation></semantics></math> between <math alttext="\mathbf{T}" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.12.m12.1"><semantics id="S5.SS3.SSS2.p1.12.m12.1a"><mi id="S5.SS3.SSS2.p1.12.m12.1.1" xref="S5.SS3.SSS2.p1.12.m12.1.1.cmml">𝐓</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.12.m12.1b"><ci id="S5.SS3.SSS2.p1.12.m12.1.1.cmml" xref="S5.SS3.SSS2.p1.12.m12.1.1">𝐓</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.12.m12.1c">\mathbf{T}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.12.m12.1d">bold_T</annotation></semantics></math> and <math alttext="\mathbf{C}" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p1.13.m13.1"><semantics id="S5.SS3.SSS2.p1.13.m13.1a"><mi id="S5.SS3.SSS2.p1.13.m13.1.1" xref="S5.SS3.SSS2.p1.13.m13.1.1.cmml">𝐂</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p1.13.m13.1b"><ci id="S5.SS3.SSS2.p1.13.m13.1.1.cmml" xref="S5.SS3.SSS2.p1.13.m13.1.1">𝐂</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p1.13.m13.1c">\mathbf{C}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p1.13.m13.1d">bold_C</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E17">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{Kendall's}\ \tau=\frac{1}{{|\mathcal{U}|}}\sum_{u\in\mathcal{U}}\left(%
\frac{4P}{|\mathcal{V}||\mathcal{V}-1|}-1\right)," class="ltx_Math" display="block" id="S5.E17.m1.4"><semantics id="S5.E17.m1.4a"><mrow id="S5.E17.m1.4.4.1" xref="S5.E17.m1.4.4.1.1.cmml"><mrow id="S5.E17.m1.4.4.1.1" xref="S5.E17.m1.4.4.1.1.cmml"><mrow id="S5.E17.m1.4.4.1.1.3" xref="S5.E17.m1.4.4.1.1.3.cmml"><mtext id="S5.E17.m1.4.4.1.1.3.2" xref="S5.E17.m1.4.4.1.1.3.2a.cmml">Kendall’s</mtext><mo id="S5.E17.m1.4.4.1.1.3.1" lspace="0.500em" xref="S5.E17.m1.4.4.1.1.3.1.cmml">⁢</mo><mi id="S5.E17.m1.4.4.1.1.3.3" xref="S5.E17.m1.4.4.1.1.3.3.cmml">τ</mi></mrow><mo id="S5.E17.m1.4.4.1.1.2" xref="S5.E17.m1.4.4.1.1.2.cmml">=</mo><mrow id="S5.E17.m1.4.4.1.1.1" xref="S5.E17.m1.4.4.1.1.1.cmml"><mfrac id="S5.E17.m1.1.1" xref="S5.E17.m1.1.1.cmml"><mn id="S5.E17.m1.1.1.3" xref="S5.E17.m1.1.1.3.cmml">1</mn><mrow id="S5.E17.m1.1.1.1.3" xref="S5.E17.m1.1.1.1.2.cmml"><mo id="S5.E17.m1.1.1.1.3.1" stretchy="false" xref="S5.E17.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E17.m1.1.1.1.1" xref="S5.E17.m1.1.1.1.1.cmml">𝒰</mi><mo id="S5.E17.m1.1.1.1.3.2" stretchy="false" xref="S5.E17.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S5.E17.m1.4.4.1.1.1.2" xref="S5.E17.m1.4.4.1.1.1.2.cmml">⁢</mo><mrow id="S5.E17.m1.4.4.1.1.1.1" xref="S5.E17.m1.4.4.1.1.1.1.cmml"><munder id="S5.E17.m1.4.4.1.1.1.1.2" xref="S5.E17.m1.4.4.1.1.1.1.2.cmml"><mo id="S5.E17.m1.4.4.1.1.1.1.2.2" movablelimits="false" rspace="0em" xref="S5.E17.m1.4.4.1.1.1.1.2.2.cmml">∑</mo><mrow id="S5.E17.m1.4.4.1.1.1.1.2.3" xref="S5.E17.m1.4.4.1.1.1.1.2.3.cmml"><mi id="S5.E17.m1.4.4.1.1.1.1.2.3.2" xref="S5.E17.m1.4.4.1.1.1.1.2.3.2.cmml">u</mi><mo id="S5.E17.m1.4.4.1.1.1.1.2.3.1" xref="S5.E17.m1.4.4.1.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E17.m1.4.4.1.1.1.1.2.3.3" xref="S5.E17.m1.4.4.1.1.1.1.2.3.3.cmml">𝒰</mi></mrow></munder><mrow id="S5.E17.m1.4.4.1.1.1.1.1.1" xref="S5.E17.m1.4.4.1.1.1.1.1.1.1.cmml"><mo id="S5.E17.m1.4.4.1.1.1.1.1.1.2" xref="S5.E17.m1.4.4.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E17.m1.4.4.1.1.1.1.1.1.1" xref="S5.E17.m1.4.4.1.1.1.1.1.1.1.cmml"><mfrac id="S5.E17.m1.3.3" xref="S5.E17.m1.3.3.cmml"><mrow id="S5.E17.m1.3.3.4" xref="S5.E17.m1.3.3.4.cmml"><mn id="S5.E17.m1.3.3.4.2" xref="S5.E17.m1.3.3.4.2.cmml">4</mn><mo id="S5.E17.m1.3.3.4.1" xref="S5.E17.m1.3.3.4.1.cmml">⁢</mo><mi id="S5.E17.m1.3.3.4.3" xref="S5.E17.m1.3.3.4.3.cmml">P</mi></mrow><mrow id="S5.E17.m1.3.3.2" xref="S5.E17.m1.3.3.2.cmml"><mrow id="S5.E17.m1.3.3.2.4.2" xref="S5.E17.m1.3.3.2.4.1.cmml"><mo id="S5.E17.m1.3.3.2.4.2.1" stretchy="false" xref="S5.E17.m1.3.3.2.4.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E17.m1.2.2.1.1" xref="S5.E17.m1.2.2.1.1.cmml">𝒱</mi><mo id="S5.E17.m1.3.3.2.4.2.2" stretchy="false" xref="S5.E17.m1.3.3.2.4.1.1.cmml">|</mo></mrow><mo id="S5.E17.m1.3.3.2.3" xref="S5.E17.m1.3.3.2.3.cmml">⁢</mo><mrow id="S5.E17.m1.3.3.2.2.1" xref="S5.E17.m1.3.3.2.2.2.cmml"><mo id="S5.E17.m1.3.3.2.2.1.2" stretchy="false" xref="S5.E17.m1.3.3.2.2.2.1.cmml">|</mo><mrow id="S5.E17.m1.3.3.2.2.1.1" xref="S5.E17.m1.3.3.2.2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.E17.m1.3.3.2.2.1.1.2" xref="S5.E17.m1.3.3.2.2.1.1.2.cmml">𝒱</mi><mo id="S5.E17.m1.3.3.2.2.1.1.1" xref="S5.E17.m1.3.3.2.2.1.1.1.cmml">−</mo><mn id="S5.E17.m1.3.3.2.2.1.1.3" xref="S5.E17.m1.3.3.2.2.1.1.3.cmml">1</mn></mrow><mo id="S5.E17.m1.3.3.2.2.1.3" stretchy="false" xref="S5.E17.m1.3.3.2.2.2.1.cmml">|</mo></mrow></mrow></mfrac><mo id="S5.E17.m1.4.4.1.1.1.1.1.1.1.1" xref="S5.E17.m1.4.4.1.1.1.1.1.1.1.1.cmml">−</mo><mn id="S5.E17.m1.4.4.1.1.1.1.1.1.1.2" xref="S5.E17.m1.4.4.1.1.1.1.1.1.1.2.cmml">1</mn></mrow><mo id="S5.E17.m1.4.4.1.1.1.1.1.1.3" xref="S5.E17.m1.4.4.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E17.m1.4.4.1.2" xref="S5.E17.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E17.m1.4b"><apply id="S5.E17.m1.4.4.1.1.cmml" xref="S5.E17.m1.4.4.1"><eq id="S5.E17.m1.4.4.1.1.2.cmml" xref="S5.E17.m1.4.4.1.1.2"></eq><apply id="S5.E17.m1.4.4.1.1.3.cmml" xref="S5.E17.m1.4.4.1.1.3"><times id="S5.E17.m1.4.4.1.1.3.1.cmml" xref="S5.E17.m1.4.4.1.1.3.1"></times><ci id="S5.E17.m1.4.4.1.1.3.2a.cmml" xref="S5.E17.m1.4.4.1.1.3.2"><mtext id="S5.E17.m1.4.4.1.1.3.2.cmml" xref="S5.E17.m1.4.4.1.1.3.2">Kendall’s</mtext></ci><ci id="S5.E17.m1.4.4.1.1.3.3.cmml" xref="S5.E17.m1.4.4.1.1.3.3">𝜏</ci></apply><apply id="S5.E17.m1.4.4.1.1.1.cmml" xref="S5.E17.m1.4.4.1.1.1"><times id="S5.E17.m1.4.4.1.1.1.2.cmml" xref="S5.E17.m1.4.4.1.1.1.2"></times><apply id="S5.E17.m1.1.1.cmml" xref="S5.E17.m1.1.1"><divide id="S5.E17.m1.1.1.2.cmml" xref="S5.E17.m1.1.1"></divide><cn id="S5.E17.m1.1.1.3.cmml" type="integer" xref="S5.E17.m1.1.1.3">1</cn><apply id="S5.E17.m1.1.1.1.2.cmml" xref="S5.E17.m1.1.1.1.3"><abs id="S5.E17.m1.1.1.1.2.1.cmml" xref="S5.E17.m1.1.1.1.3.1"></abs><ci id="S5.E17.m1.1.1.1.1.cmml" xref="S5.E17.m1.1.1.1.1">𝒰</ci></apply></apply><apply id="S5.E17.m1.4.4.1.1.1.1.cmml" xref="S5.E17.m1.4.4.1.1.1.1"><apply id="S5.E17.m1.4.4.1.1.1.1.2.cmml" xref="S5.E17.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E17.m1.4.4.1.1.1.1.2.1.cmml" xref="S5.E17.m1.4.4.1.1.1.1.2">subscript</csymbol><sum id="S5.E17.m1.4.4.1.1.1.1.2.2.cmml" xref="S5.E17.m1.4.4.1.1.1.1.2.2"></sum><apply id="S5.E17.m1.4.4.1.1.1.1.2.3.cmml" xref="S5.E17.m1.4.4.1.1.1.1.2.3"><in id="S5.E17.m1.4.4.1.1.1.1.2.3.1.cmml" xref="S5.E17.m1.4.4.1.1.1.1.2.3.1"></in><ci id="S5.E17.m1.4.4.1.1.1.1.2.3.2.cmml" xref="S5.E17.m1.4.4.1.1.1.1.2.3.2">𝑢</ci><ci id="S5.E17.m1.4.4.1.1.1.1.2.3.3.cmml" xref="S5.E17.m1.4.4.1.1.1.1.2.3.3">𝒰</ci></apply></apply><apply id="S5.E17.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S5.E17.m1.4.4.1.1.1.1.1.1"><minus id="S5.E17.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S5.E17.m1.4.4.1.1.1.1.1.1.1.1"></minus><apply id="S5.E17.m1.3.3.cmml" xref="S5.E17.m1.3.3"><divide id="S5.E17.m1.3.3.3.cmml" xref="S5.E17.m1.3.3"></divide><apply id="S5.E17.m1.3.3.4.cmml" xref="S5.E17.m1.3.3.4"><times id="S5.E17.m1.3.3.4.1.cmml" xref="S5.E17.m1.3.3.4.1"></times><cn id="S5.E17.m1.3.3.4.2.cmml" type="integer" xref="S5.E17.m1.3.3.4.2">4</cn><ci id="S5.E17.m1.3.3.4.3.cmml" xref="S5.E17.m1.3.3.4.3">𝑃</ci></apply><apply id="S5.E17.m1.3.3.2.cmml" xref="S5.E17.m1.3.3.2"><times id="S5.E17.m1.3.3.2.3.cmml" xref="S5.E17.m1.3.3.2.3"></times><apply id="S5.E17.m1.3.3.2.4.1.cmml" xref="S5.E17.m1.3.3.2.4.2"><abs id="S5.E17.m1.3.3.2.4.1.1.cmml" xref="S5.E17.m1.3.3.2.4.2.1"></abs><ci id="S5.E17.m1.2.2.1.1.cmml" xref="S5.E17.m1.2.2.1.1">𝒱</ci></apply><apply id="S5.E17.m1.3.3.2.2.2.cmml" xref="S5.E17.m1.3.3.2.2.1"><abs id="S5.E17.m1.3.3.2.2.2.1.cmml" xref="S5.E17.m1.3.3.2.2.1.2"></abs><apply id="S5.E17.m1.3.3.2.2.1.1.cmml" xref="S5.E17.m1.3.3.2.2.1.1"><minus id="S5.E17.m1.3.3.2.2.1.1.1.cmml" xref="S5.E17.m1.3.3.2.2.1.1.1"></minus><ci id="S5.E17.m1.3.3.2.2.1.1.2.cmml" xref="S5.E17.m1.3.3.2.2.1.1.2">𝒱</ci><cn id="S5.E17.m1.3.3.2.2.1.1.3.cmml" type="integer" xref="S5.E17.m1.3.3.2.2.1.1.3">1</cn></apply></apply></apply></apply><cn id="S5.E17.m1.4.4.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S5.E17.m1.4.4.1.1.1.1.1.1.1.2">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E17.m1.4c">\text{Kendall's}\ \tau=\frac{1}{{|\mathcal{U}|}}\sum_{u\in\mathcal{U}}\left(%
\frac{4P}{|\mathcal{V}||\mathcal{V}-1|}-1\right),</annotation><annotation encoding="application/x-llamapun" id="S5.E17.m1.4d">Kendall’s italic_τ = divide start_ARG 1 end_ARG start_ARG | caligraphic_U | end_ARG ∑ start_POSTSUBSCRIPT italic_u ∈ caligraphic_U end_POSTSUBSCRIPT ( divide start_ARG 4 italic_P end_ARG start_ARG | caligraphic_V | | caligraphic_V - 1 | end_ARG - 1 ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(17)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S5.E18">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{Spearman's}\ \rho=\frac{1}{{|\mathcal{U}|}}\sum_{u\in\mathcal{U}}\left(1%
-\frac{6\sum_{i\in\mathcal{V}}d_{i}^{2}}{|\mathcal{V}|^{3}-|\mathcal{V}|}%
\right)." class="ltx_Math" display="block" id="S5.E18.m1.4"><semantics id="S5.E18.m1.4a"><mrow id="S5.E18.m1.4.4.1" xref="S5.E18.m1.4.4.1.1.cmml"><mrow id="S5.E18.m1.4.4.1.1" xref="S5.E18.m1.4.4.1.1.cmml"><mrow id="S5.E18.m1.4.4.1.1.3" xref="S5.E18.m1.4.4.1.1.3.cmml"><mtext id="S5.E18.m1.4.4.1.1.3.2" xref="S5.E18.m1.4.4.1.1.3.2a.cmml">Spearman’s</mtext><mo id="S5.E18.m1.4.4.1.1.3.1" lspace="0.500em" xref="S5.E18.m1.4.4.1.1.3.1.cmml">⁢</mo><mi id="S5.E18.m1.4.4.1.1.3.3" xref="S5.E18.m1.4.4.1.1.3.3.cmml">ρ</mi></mrow><mo id="S5.E18.m1.4.4.1.1.2" xref="S5.E18.m1.4.4.1.1.2.cmml">=</mo><mrow id="S5.E18.m1.4.4.1.1.1" xref="S5.E18.m1.4.4.1.1.1.cmml"><mfrac id="S5.E18.m1.1.1" xref="S5.E18.m1.1.1.cmml"><mn id="S5.E18.m1.1.1.3" xref="S5.E18.m1.1.1.3.cmml">1</mn><mrow id="S5.E18.m1.1.1.1.3" xref="S5.E18.m1.1.1.1.2.cmml"><mo id="S5.E18.m1.1.1.1.3.1" stretchy="false" xref="S5.E18.m1.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E18.m1.1.1.1.1" xref="S5.E18.m1.1.1.1.1.cmml">𝒰</mi><mo id="S5.E18.m1.1.1.1.3.2" stretchy="false" xref="S5.E18.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S5.E18.m1.4.4.1.1.1.2" xref="S5.E18.m1.4.4.1.1.1.2.cmml">⁢</mo><mrow id="S5.E18.m1.4.4.1.1.1.1" xref="S5.E18.m1.4.4.1.1.1.1.cmml"><munder id="S5.E18.m1.4.4.1.1.1.1.2" xref="S5.E18.m1.4.4.1.1.1.1.2.cmml"><mo id="S5.E18.m1.4.4.1.1.1.1.2.2" movablelimits="false" rspace="0em" xref="S5.E18.m1.4.4.1.1.1.1.2.2.cmml">∑</mo><mrow id="S5.E18.m1.4.4.1.1.1.1.2.3" xref="S5.E18.m1.4.4.1.1.1.1.2.3.cmml"><mi id="S5.E18.m1.4.4.1.1.1.1.2.3.2" xref="S5.E18.m1.4.4.1.1.1.1.2.3.2.cmml">u</mi><mo id="S5.E18.m1.4.4.1.1.1.1.2.3.1" xref="S5.E18.m1.4.4.1.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E18.m1.4.4.1.1.1.1.2.3.3" xref="S5.E18.m1.4.4.1.1.1.1.2.3.3.cmml">𝒰</mi></mrow></munder><mrow id="S5.E18.m1.4.4.1.1.1.1.1.1" xref="S5.E18.m1.4.4.1.1.1.1.1.1.1.cmml"><mo id="S5.E18.m1.4.4.1.1.1.1.1.1.2" xref="S5.E18.m1.4.4.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E18.m1.4.4.1.1.1.1.1.1.1" xref="S5.E18.m1.4.4.1.1.1.1.1.1.1.cmml"><mn id="S5.E18.m1.4.4.1.1.1.1.1.1.1.2" xref="S5.E18.m1.4.4.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S5.E18.m1.4.4.1.1.1.1.1.1.1.1" xref="S5.E18.m1.4.4.1.1.1.1.1.1.1.1.cmml">−</mo><mfrac id="S5.E18.m1.3.3" xref="S5.E18.m1.3.3.cmml"><mrow id="S5.E18.m1.3.3.4" xref="S5.E18.m1.3.3.4.cmml"><mn id="S5.E18.m1.3.3.4.2" xref="S5.E18.m1.3.3.4.2.cmml">6</mn><mo id="S5.E18.m1.3.3.4.1" xref="S5.E18.m1.3.3.4.1.cmml">⁢</mo><mrow id="S5.E18.m1.3.3.4.3" xref="S5.E18.m1.3.3.4.3.cmml"><msub id="S5.E18.m1.3.3.4.3.1" xref="S5.E18.m1.3.3.4.3.1.cmml"><mo id="S5.E18.m1.3.3.4.3.1.2" xref="S5.E18.m1.3.3.4.3.1.2.cmml">∑</mo><mrow id="S5.E18.m1.3.3.4.3.1.3" xref="S5.E18.m1.3.3.4.3.1.3.cmml"><mi id="S5.E18.m1.3.3.4.3.1.3.2" xref="S5.E18.m1.3.3.4.3.1.3.2.cmml">i</mi><mo id="S5.E18.m1.3.3.4.3.1.3.1" xref="S5.E18.m1.3.3.4.3.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E18.m1.3.3.4.3.1.3.3" xref="S5.E18.m1.3.3.4.3.1.3.3.cmml">𝒱</mi></mrow></msub><msubsup id="S5.E18.m1.3.3.4.3.2" xref="S5.E18.m1.3.3.4.3.2.cmml"><mi id="S5.E18.m1.3.3.4.3.2.2.2" xref="S5.E18.m1.3.3.4.3.2.2.2.cmml">d</mi><mi id="S5.E18.m1.3.3.4.3.2.2.3" xref="S5.E18.m1.3.3.4.3.2.2.3.cmml">i</mi><mn id="S5.E18.m1.3.3.4.3.2.3" xref="S5.E18.m1.3.3.4.3.2.3.cmml">2</mn></msubsup></mrow></mrow><mrow id="S5.E18.m1.3.3.2" xref="S5.E18.m1.3.3.2.cmml"><msup id="S5.E18.m1.3.3.2.4" xref="S5.E18.m1.3.3.2.4.cmml"><mrow id="S5.E18.m1.3.3.2.4.2.2" xref="S5.E18.m1.3.3.2.4.2.1.cmml"><mo id="S5.E18.m1.3.3.2.4.2.2.1" stretchy="false" xref="S5.E18.m1.3.3.2.4.2.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E18.m1.2.2.1.1" xref="S5.E18.m1.2.2.1.1.cmml">𝒱</mi><mo id="S5.E18.m1.3.3.2.4.2.2.2" stretchy="false" xref="S5.E18.m1.3.3.2.4.2.1.1.cmml">|</mo></mrow><mn id="S5.E18.m1.3.3.2.4.3" xref="S5.E18.m1.3.3.2.4.3.cmml">3</mn></msup><mo id="S5.E18.m1.3.3.2.3" xref="S5.E18.m1.3.3.2.3.cmml">−</mo><mrow id="S5.E18.m1.3.3.2.5.2" xref="S5.E18.m1.3.3.2.5.1.cmml"><mo id="S5.E18.m1.3.3.2.5.2.1" stretchy="false" xref="S5.E18.m1.3.3.2.5.1.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E18.m1.3.3.2.2" xref="S5.E18.m1.3.3.2.2.cmml">𝒱</mi><mo id="S5.E18.m1.3.3.2.5.2.2" stretchy="false" xref="S5.E18.m1.3.3.2.5.1.1.cmml">|</mo></mrow></mrow></mfrac></mrow><mo id="S5.E18.m1.4.4.1.1.1.1.1.1.3" xref="S5.E18.m1.4.4.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E18.m1.4.4.1.2" lspace="0em" xref="S5.E18.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E18.m1.4b"><apply id="S5.E18.m1.4.4.1.1.cmml" xref="S5.E18.m1.4.4.1"><eq id="S5.E18.m1.4.4.1.1.2.cmml" xref="S5.E18.m1.4.4.1.1.2"></eq><apply id="S5.E18.m1.4.4.1.1.3.cmml" xref="S5.E18.m1.4.4.1.1.3"><times id="S5.E18.m1.4.4.1.1.3.1.cmml" xref="S5.E18.m1.4.4.1.1.3.1"></times><ci id="S5.E18.m1.4.4.1.1.3.2a.cmml" xref="S5.E18.m1.4.4.1.1.3.2"><mtext id="S5.E18.m1.4.4.1.1.3.2.cmml" xref="S5.E18.m1.4.4.1.1.3.2">Spearman’s</mtext></ci><ci id="S5.E18.m1.4.4.1.1.3.3.cmml" xref="S5.E18.m1.4.4.1.1.3.3">𝜌</ci></apply><apply id="S5.E18.m1.4.4.1.1.1.cmml" xref="S5.E18.m1.4.4.1.1.1"><times id="S5.E18.m1.4.4.1.1.1.2.cmml" xref="S5.E18.m1.4.4.1.1.1.2"></times><apply id="S5.E18.m1.1.1.cmml" xref="S5.E18.m1.1.1"><divide id="S5.E18.m1.1.1.2.cmml" xref="S5.E18.m1.1.1"></divide><cn id="S5.E18.m1.1.1.3.cmml" type="integer" xref="S5.E18.m1.1.1.3">1</cn><apply id="S5.E18.m1.1.1.1.2.cmml" xref="S5.E18.m1.1.1.1.3"><abs id="S5.E18.m1.1.1.1.2.1.cmml" xref="S5.E18.m1.1.1.1.3.1"></abs><ci id="S5.E18.m1.1.1.1.1.cmml" xref="S5.E18.m1.1.1.1.1">𝒰</ci></apply></apply><apply id="S5.E18.m1.4.4.1.1.1.1.cmml" xref="S5.E18.m1.4.4.1.1.1.1"><apply id="S5.E18.m1.4.4.1.1.1.1.2.cmml" xref="S5.E18.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E18.m1.4.4.1.1.1.1.2.1.cmml" xref="S5.E18.m1.4.4.1.1.1.1.2">subscript</csymbol><sum id="S5.E18.m1.4.4.1.1.1.1.2.2.cmml" xref="S5.E18.m1.4.4.1.1.1.1.2.2"></sum><apply id="S5.E18.m1.4.4.1.1.1.1.2.3.cmml" xref="S5.E18.m1.4.4.1.1.1.1.2.3"><in id="S5.E18.m1.4.4.1.1.1.1.2.3.1.cmml" xref="S5.E18.m1.4.4.1.1.1.1.2.3.1"></in><ci id="S5.E18.m1.4.4.1.1.1.1.2.3.2.cmml" xref="S5.E18.m1.4.4.1.1.1.1.2.3.2">𝑢</ci><ci id="S5.E18.m1.4.4.1.1.1.1.2.3.3.cmml" xref="S5.E18.m1.4.4.1.1.1.1.2.3.3">𝒰</ci></apply></apply><apply id="S5.E18.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S5.E18.m1.4.4.1.1.1.1.1.1"><minus id="S5.E18.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S5.E18.m1.4.4.1.1.1.1.1.1.1.1"></minus><cn id="S5.E18.m1.4.4.1.1.1.1.1.1.1.2.cmml" type="integer" xref="S5.E18.m1.4.4.1.1.1.1.1.1.1.2">1</cn><apply id="S5.E18.m1.3.3.cmml" xref="S5.E18.m1.3.3"><divide id="S5.E18.m1.3.3.3.cmml" xref="S5.E18.m1.3.3"></divide><apply id="S5.E18.m1.3.3.4.cmml" xref="S5.E18.m1.3.3.4"><times id="S5.E18.m1.3.3.4.1.cmml" xref="S5.E18.m1.3.3.4.1"></times><cn id="S5.E18.m1.3.3.4.2.cmml" type="integer" xref="S5.E18.m1.3.3.4.2">6</cn><apply id="S5.E18.m1.3.3.4.3.cmml" xref="S5.E18.m1.3.3.4.3"><apply id="S5.E18.m1.3.3.4.3.1.cmml" xref="S5.E18.m1.3.3.4.3.1"><csymbol cd="ambiguous" id="S5.E18.m1.3.3.4.3.1.1.cmml" xref="S5.E18.m1.3.3.4.3.1">subscript</csymbol><sum id="S5.E18.m1.3.3.4.3.1.2.cmml" xref="S5.E18.m1.3.3.4.3.1.2"></sum><apply id="S5.E18.m1.3.3.4.3.1.3.cmml" xref="S5.E18.m1.3.3.4.3.1.3"><in id="S5.E18.m1.3.3.4.3.1.3.1.cmml" xref="S5.E18.m1.3.3.4.3.1.3.1"></in><ci id="S5.E18.m1.3.3.4.3.1.3.2.cmml" xref="S5.E18.m1.3.3.4.3.1.3.2">𝑖</ci><ci id="S5.E18.m1.3.3.4.3.1.3.3.cmml" xref="S5.E18.m1.3.3.4.3.1.3.3">𝒱</ci></apply></apply><apply id="S5.E18.m1.3.3.4.3.2.cmml" xref="S5.E18.m1.3.3.4.3.2"><csymbol cd="ambiguous" id="S5.E18.m1.3.3.4.3.2.1.cmml" xref="S5.E18.m1.3.3.4.3.2">superscript</csymbol><apply id="S5.E18.m1.3.3.4.3.2.2.cmml" xref="S5.E18.m1.3.3.4.3.2"><csymbol cd="ambiguous" id="S5.E18.m1.3.3.4.3.2.2.1.cmml" xref="S5.E18.m1.3.3.4.3.2">subscript</csymbol><ci id="S5.E18.m1.3.3.4.3.2.2.2.cmml" xref="S5.E18.m1.3.3.4.3.2.2.2">𝑑</ci><ci id="S5.E18.m1.3.3.4.3.2.2.3.cmml" xref="S5.E18.m1.3.3.4.3.2.2.3">𝑖</ci></apply><cn id="S5.E18.m1.3.3.4.3.2.3.cmml" type="integer" xref="S5.E18.m1.3.3.4.3.2.3">2</cn></apply></apply></apply><apply id="S5.E18.m1.3.3.2.cmml" xref="S5.E18.m1.3.3.2"><minus id="S5.E18.m1.3.3.2.3.cmml" xref="S5.E18.m1.3.3.2.3"></minus><apply id="S5.E18.m1.3.3.2.4.cmml" xref="S5.E18.m1.3.3.2.4"><csymbol cd="ambiguous" id="S5.E18.m1.3.3.2.4.1.cmml" xref="S5.E18.m1.3.3.2.4">superscript</csymbol><apply id="S5.E18.m1.3.3.2.4.2.1.cmml" xref="S5.E18.m1.3.3.2.4.2.2"><abs id="S5.E18.m1.3.3.2.4.2.1.1.cmml" xref="S5.E18.m1.3.3.2.4.2.2.1"></abs><ci id="S5.E18.m1.2.2.1.1.cmml" xref="S5.E18.m1.2.2.1.1">𝒱</ci></apply><cn id="S5.E18.m1.3.3.2.4.3.cmml" type="integer" xref="S5.E18.m1.3.3.2.4.3">3</cn></apply><apply id="S5.E18.m1.3.3.2.5.1.cmml" xref="S5.E18.m1.3.3.2.5.2"><abs id="S5.E18.m1.3.3.2.5.1.1.cmml" xref="S5.E18.m1.3.3.2.5.2.1"></abs><ci id="S5.E18.m1.3.3.2.2.cmml" xref="S5.E18.m1.3.3.2.2">𝒱</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E18.m1.4c">\text{Spearman's}\ \rho=\frac{1}{{|\mathcal{U}|}}\sum_{u\in\mathcal{U}}\left(1%
-\frac{6\sum_{i\in\mathcal{V}}d_{i}^{2}}{|\mathcal{V}|^{3}-|\mathcal{V}|}%
\right).</annotation><annotation encoding="application/x-llamapun" id="S5.E18.m1.4d">Spearman’s italic_ρ = divide start_ARG 1 end_ARG start_ARG | caligraphic_U | end_ARG ∑ start_POSTSUBSCRIPT italic_u ∈ caligraphic_U end_POSTSUBSCRIPT ( 1 - divide start_ARG 6 ∑ start_POSTSUBSCRIPT italic_i ∈ caligraphic_V end_POSTSUBSCRIPT italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT end_ARG start_ARG | caligraphic_V | start_POSTSUPERSCRIPT 3 end_POSTSUPERSCRIPT - | caligraphic_V | end_ARG ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(18)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S5.SS3.SSS2.p2">
<p class="ltx_p" id="S5.SS3.SSS2.p2.3">Specifically, for a fair comparison, the embedding dimension <math alttext="d" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p2.1.m1.1"><semantics id="S5.SS3.SSS2.p2.1.m1.1a"><mi id="S5.SS3.SSS2.p2.1.m1.1.1" xref="S5.SS3.SSS2.p2.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p2.1.m1.1b"><ci id="S5.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S5.SS3.SSS2.p2.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p2.1.m1.1c">d</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p2.1.m1.1d">italic_d</annotation></semantics></math> is set to be 64 for all the models. In calibrating other hyperparameters of the proposed method, we set the mini-batch size, the learning rate of the optimization method Adam to be 500 and 0.003. To avoid overfitting, we apply the <math alttext="L_{2}" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p2.2.m2.1"><semantics id="S5.SS3.SSS2.p2.2.m2.1a"><msub id="S5.SS3.SSS2.p2.2.m2.1.1" xref="S5.SS3.SSS2.p2.2.m2.1.1.cmml"><mi id="S5.SS3.SSS2.p2.2.m2.1.1.2" xref="S5.SS3.SSS2.p2.2.m2.1.1.2.cmml">L</mi><mn id="S5.SS3.SSS2.p2.2.m2.1.1.3" xref="S5.SS3.SSS2.p2.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p2.2.m2.1b"><apply id="S5.SS3.SSS2.p2.2.m2.1.1.cmml" xref="S5.SS3.SSS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS2.p2.2.m2.1.1.1.cmml" xref="S5.SS3.SSS2.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.SSS2.p2.2.m2.1.1.2.cmml" xref="S5.SS3.SSS2.p2.2.m2.1.1.2">𝐿</ci><cn id="S5.SS3.SSS2.p2.2.m2.1.1.3.cmml" type="integer" xref="S5.SS3.SSS2.p2.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p2.2.m2.1c">L_{2}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p2.2.m2.1d">italic_L start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> norm in the loss function and the coefficient is set to be 0.0001. Furthermore, the number of GNN layers <math alttext="L" class="ltx_Math" display="inline" id="S5.SS3.SSS2.p2.3.m3.1"><semantics id="S5.SS3.SSS2.p2.3.m3.1a"><mi id="S5.SS3.SSS2.p2.3.m3.1.1" xref="S5.SS3.SSS2.p2.3.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS2.p2.3.m3.1b"><ci id="S5.SS3.SSS2.p2.3.m3.1.1.cmml" xref="S5.SS3.SSS2.p2.3.m3.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS2.p2.3.m3.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS2.p2.3.m3.1d">italic_L</annotation></semantics></math> is set to be 2 according to the grid search. Likewise, as for the benchmark methods, the hyperparameters are carefully tuned according to their best performances on the validation set.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS3.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.3 </span>Product Ranking Performances.</h4>
<div class="ltx_para" id="S5.SS3.SSS3.p1">
<p class="ltx_p" id="S5.SS3.SSS3.p1.2">We first conduct comprehensive comparison with the state-of-the-art methods in terms of product ranking based on the estimated utility, which is measured by the overall ranking quality via Kendall’s <math alttext="\tau" class="ltx_Math" display="inline" id="S5.SS3.SSS3.p1.1.m1.1"><semantics id="S5.SS3.SSS3.p1.1.m1.1a"><mi id="S5.SS3.SSS3.p1.1.m1.1.1" xref="S5.SS3.SSS3.p1.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.1.m1.1b"><ci id="S5.SS3.SSS3.p1.1.m1.1.1.cmml" xref="S5.SS3.SSS3.p1.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.1.m1.1c">\tau</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS3.p1.1.m1.1d">italic_τ</annotation></semantics></math> and Spearman’s <math alttext="\rho" class="ltx_Math" display="inline" id="S5.SS3.SSS3.p1.2.m2.1"><semantics id="S5.SS3.SSS3.p1.2.m2.1a"><mi id="S5.SS3.SSS3.p1.2.m2.1.1" xref="S5.SS3.SSS3.p1.2.m2.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS3.p1.2.m2.1b"><ci id="S5.SS3.SSS3.p1.2.m2.1.1.cmml" xref="S5.SS3.SSS3.p1.2.m2.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS3.p1.2.m2.1c">\rho</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS3.p1.2.m2.1d">italic_ρ</annotation></semantics></math>. The results are displayed in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.F3" title="Figure 3 ‣ 5.3.3 Product Ranking Performances. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">3</span></a>, with methods in different categories plotted using different colors. Overall speaking, our method ArcRec performs consistently better than all the baselines in terms of both metrics. Compared with those traditional collaborative filtering methods such as NeuMF and LightGCN, our method achieves significant improvements, demonstrating the advantages of introducing attribute-level reference points as well as reference-dependent preference modeling. Compared with those baselines considering prices and/or attributes such as DeepFM and PUP, our method also shows superior performances in revealing consumers’ inherent utility for the products, indicating that our method is a more appropriate and efficient way to exploit attribute and price information to capture consumers’ inherent preferences. We will proceed to conduct more empirical evaluations to verify this point in the next section.</p>
</div>
<figure class="ltx_figure" id="S5.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="325" id="S5.F3.g1" src="x3.png" width="826"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Ranking performances on synthetic data.</figcaption>
</figure>
</section>
<section class="ltx_subsubsection" id="S5.SS3.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.3.4 </span>Consumers’ Price Sensitivity Analysis.</h4>
<div class="ltx_para" id="S5.SS3.SSS4.p1">
<p class="ltx_p" id="S5.SS3.SSS4.p1.3">In the simulation of consumers’ purchasing decision, we assign each consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p1.1.m1.1"><semantics id="S5.SS3.SSS4.p1.1.m1.1a"><mi id="S5.SS3.SSS4.p1.1.m1.1.1" xref="S5.SS3.SSS4.p1.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p1.1.m1.1b"><ci id="S5.SS3.SSS4.p1.1.m1.1.1.cmml" xref="S5.SS3.SSS4.p1.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p1.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p1.1.m1.1d">italic_u</annotation></semantics></math> a coefficient <math alttext="{\beta}_{u}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p1.2.m2.1"><semantics id="S5.SS3.SSS4.p1.2.m2.1a"><msub id="S5.SS3.SSS4.p1.2.m2.1.1" xref="S5.SS3.SSS4.p1.2.m2.1.1.cmml"><mi id="S5.SS3.SSS4.p1.2.m2.1.1.2" xref="S5.SS3.SSS4.p1.2.m2.1.1.2.cmml">β</mi><mi id="S5.SS3.SSS4.p1.2.m2.1.1.3" xref="S5.SS3.SSS4.p1.2.m2.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p1.2.m2.1b"><apply id="S5.SS3.SSS4.p1.2.m2.1.1.cmml" xref="S5.SS3.SSS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p1.2.m2.1.1.1.cmml" xref="S5.SS3.SSS4.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p1.2.m2.1.1.2.cmml" xref="S5.SS3.SSS4.p1.2.m2.1.1.2">𝛽</ci><ci id="S5.SS3.SSS4.p1.2.m2.1.1.3.cmml" xref="S5.SS3.SSS4.p1.2.m2.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p1.2.m2.1c">{\beta}_{u}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p1.2.m2.1d">italic_β start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> to describe her personalized price sensitivity in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.E15" title="In 5.3.1 Simulation Setup. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">15</span></a>) following existing research <cite class="ltx_cite ltx_citemacro_citep">(Andrews and Manrai, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib2" title="">1998</a>, Kim et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib42" title="">1995</a>)</cite>. While our model proposes to capture consumers’ attribute-aware price sensitivity, it is highly correlated with <math alttext="{\beta}_{u}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p1.3.m3.1"><semantics id="S5.SS3.SSS4.p1.3.m3.1a"><msub id="S5.SS3.SSS4.p1.3.m3.1.1" xref="S5.SS3.SSS4.p1.3.m3.1.1.cmml"><mi id="S5.SS3.SSS4.p1.3.m3.1.1.2" xref="S5.SS3.SSS4.p1.3.m3.1.1.2.cmml">β</mi><mi id="S5.SS3.SSS4.p1.3.m3.1.1.3" xref="S5.SS3.SSS4.p1.3.m3.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p1.3.m3.1b"><apply id="S5.SS3.SSS4.p1.3.m3.1.1.cmml" xref="S5.SS3.SSS4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p1.3.m3.1.1.1.cmml" xref="S5.SS3.SSS4.p1.3.m3.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p1.3.m3.1.1.2.cmml" xref="S5.SS3.SSS4.p1.3.m3.1.1.2">𝛽</ci><ci id="S5.SS3.SSS4.p1.3.m3.1.1.3.cmml" xref="S5.SS3.SSS4.p1.3.m3.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p1.3.m3.1c">{\beta}_{u}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p1.3.m3.1d">italic_β start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and can also reflect consumers’ overall price sensitivity to some extent.
Thus, in this section, we further validate whether the consumers’ heterogeneity over price can be captured by our method through a controlled experiment.</p>
</div>
<div class="ltx_para" id="S5.SS3.SSS4.p2">
<p class="ltx_p" id="S5.SS3.SSS4.p2.4">In our controlled experiment, we aim to evaluate the sensitivity of different recommendation methods to price changes among two groups of consumers with distinct levels of price sensitivity <math alttext="{\beta}_{u}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p2.1.m1.1"><semantics id="S5.SS3.SSS4.p2.1.m1.1a"><msub id="S5.SS3.SSS4.p2.1.m1.1.1" xref="S5.SS3.SSS4.p2.1.m1.1.1.cmml"><mi id="S5.SS3.SSS4.p2.1.m1.1.1.2" xref="S5.SS3.SSS4.p2.1.m1.1.1.2.cmml">β</mi><mi id="S5.SS3.SSS4.p2.1.m1.1.1.3" xref="S5.SS3.SSS4.p2.1.m1.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p2.1.m1.1b"><apply id="S5.SS3.SSS4.p2.1.m1.1.1.cmml" xref="S5.SS3.SSS4.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p2.1.m1.1.1.1.cmml" xref="S5.SS3.SSS4.p2.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p2.1.m1.1.1.2.cmml" xref="S5.SS3.SSS4.p2.1.m1.1.1.2">𝛽</ci><ci id="S5.SS3.SSS4.p2.1.m1.1.1.3.cmml" xref="S5.SS3.SSS4.p2.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p2.1.m1.1c">{\beta}_{u}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p2.1.m1.1d">italic_β start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math>. We randomly select 50 consumers with lower price sensitivity as a group <math alttext="\bm{g}_{s}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p2.2.m2.1"><semantics id="S5.SS3.SSS4.p2.2.m2.1a"><msub id="S5.SS3.SSS4.p2.2.m2.1.1" xref="S5.SS3.SSS4.p2.2.m2.1.1.cmml"><mi id="S5.SS3.SSS4.p2.2.m2.1.1.2" xref="S5.SS3.SSS4.p2.2.m2.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p2.2.m2.1.1.3" xref="S5.SS3.SSS4.p2.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p2.2.m2.1b"><apply id="S5.SS3.SSS4.p2.2.m2.1.1.cmml" xref="S5.SS3.SSS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p2.2.m2.1.1.1.cmml" xref="S5.SS3.SSS4.p2.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p2.2.m2.1.1.2.cmml" xref="S5.SS3.SSS4.p2.2.m2.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p2.2.m2.1.1.3.cmml" xref="S5.SS3.SSS4.p2.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p2.2.m2.1c">\bm{g}_{s}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p2.2.m2.1d">bold_italic_g start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> and 50 consumers with higher price sensitivity as another group <math alttext="\bm{g}_{l}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p2.3.m3.1"><semantics id="S5.SS3.SSS4.p2.3.m3.1a"><msub id="S5.SS3.SSS4.p2.3.m3.1.1" xref="S5.SS3.SSS4.p2.3.m3.1.1.cmml"><mi id="S5.SS3.SSS4.p2.3.m3.1.1.2" xref="S5.SS3.SSS4.p2.3.m3.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p2.3.m3.1.1.3" xref="S5.SS3.SSS4.p2.3.m3.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p2.3.m3.1b"><apply id="S5.SS3.SSS4.p2.3.m3.1.1.cmml" xref="S5.SS3.SSS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p2.3.m3.1.1.1.cmml" xref="S5.SS3.SSS4.p2.3.m3.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p2.3.m3.1.1.2.cmml" xref="S5.SS3.SSS4.p2.3.m3.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p2.3.m3.1.1.3.cmml" xref="S5.SS3.SSS4.p2.3.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p2.3.m3.1c">\bm{g}_{l}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p2.3.m3.1d">bold_italic_g start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>. To examine the impact of price changes on recommendation rankings, we create a candidate product set <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p2.4.m4.1"><semantics id="S5.SS3.SSS4.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS4.p2.4.m4.1.1" xref="S5.SS3.SSS4.p2.4.m4.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p2.4.m4.1b"><ci id="S5.SS3.SSS4.p2.4.m4.1.1.cmml" xref="S5.SS3.SSS4.p2.4.m4.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p2.4.m4.1c">\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p2.4.m4.1d">caligraphic_C</annotation></semantics></math> consisting of 30 randomly sampled products.</p>
</div>
<div class="ltx_para" id="S5.SS3.SSS4.p3">
<p class="ltx_p" id="S5.SS3.SSS4.p3.11">Specifically, in our experiment, we consider the price change of a product as a treatment. For each consumer-product pair <math alttext="(u,i)" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.1.m1.2"><semantics id="S5.SS3.SSS4.p3.1.m1.2a"><mrow id="S5.SS3.SSS4.p3.1.m1.2.3.2" xref="S5.SS3.SSS4.p3.1.m1.2.3.1.cmml"><mo id="S5.SS3.SSS4.p3.1.m1.2.3.2.1" stretchy="false" xref="S5.SS3.SSS4.p3.1.m1.2.3.1.cmml">(</mo><mi id="S5.SS3.SSS4.p3.1.m1.1.1" xref="S5.SS3.SSS4.p3.1.m1.1.1.cmml">u</mi><mo id="S5.SS3.SSS4.p3.1.m1.2.3.2.2" xref="S5.SS3.SSS4.p3.1.m1.2.3.1.cmml">,</mo><mi id="S5.SS3.SSS4.p3.1.m1.2.2" xref="S5.SS3.SSS4.p3.1.m1.2.2.cmml">i</mi><mo id="S5.SS3.SSS4.p3.1.m1.2.3.2.3" stretchy="false" xref="S5.SS3.SSS4.p3.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.1.m1.2b"><interval closure="open" id="S5.SS3.SSS4.p3.1.m1.2.3.1.cmml" xref="S5.SS3.SSS4.p3.1.m1.2.3.2"><ci id="S5.SS3.SSS4.p3.1.m1.1.1.cmml" xref="S5.SS3.SSS4.p3.1.m1.1.1">𝑢</ci><ci id="S5.SS3.SSS4.p3.1.m1.2.2.cmml" xref="S5.SS3.SSS4.p3.1.m1.2.2">𝑖</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.1.m1.2c">(u,i)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.1.m1.2d">( italic_u , italic_i )</annotation></semantics></math>, we examine the effect of the price change on the ranking of product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.2.m2.1"><semantics id="S5.SS3.SSS4.p3.2.m2.1a"><mi id="S5.SS3.SSS4.p3.2.m2.1.1" xref="S5.SS3.SSS4.p3.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.2.m2.1b"><ci id="S5.SS3.SSS4.p3.2.m2.1.1.cmml" xref="S5.SS3.SSS4.p3.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.2.m2.1d">italic_i</annotation></semantics></math> in the consumer’s ranking list. We define the treatment effect, denoted as <math alttext="\textsf{TE}_{u,i}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.3.m3.2"><semantics id="S5.SS3.SSS4.p3.3.m3.2a"><msub id="S5.SS3.SSS4.p3.3.m3.2.3" xref="S5.SS3.SSS4.p3.3.m3.2.3.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p3.3.m3.2.3.2" xref="S5.SS3.SSS4.p3.3.m3.2.3.2a.cmml">TE</mtext><mrow id="S5.SS3.SSS4.p3.3.m3.2.2.2.4" xref="S5.SS3.SSS4.p3.3.m3.2.2.2.3.cmml"><mi id="S5.SS3.SSS4.p3.3.m3.1.1.1.1" xref="S5.SS3.SSS4.p3.3.m3.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS4.p3.3.m3.2.2.2.4.1" xref="S5.SS3.SSS4.p3.3.m3.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS4.p3.3.m3.2.2.2.2" xref="S5.SS3.SSS4.p3.3.m3.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.3.m3.2b"><apply id="S5.SS3.SSS4.p3.3.m3.2.3.cmml" xref="S5.SS3.SSS4.p3.3.m3.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.3.m3.2.3.1.cmml" xref="S5.SS3.SSS4.p3.3.m3.2.3">subscript</csymbol><ci id="S5.SS3.SSS4.p3.3.m3.2.3.2a.cmml" xref="S5.SS3.SSS4.p3.3.m3.2.3.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p3.3.m3.2.3.2.cmml" xref="S5.SS3.SSS4.p3.3.m3.2.3.2">TE</mtext></ci><list id="S5.SS3.SSS4.p3.3.m3.2.2.2.3.cmml" xref="S5.SS3.SSS4.p3.3.m3.2.2.2.4"><ci id="S5.SS3.SSS4.p3.3.m3.1.1.1.1.cmml" xref="S5.SS3.SSS4.p3.3.m3.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS4.p3.3.m3.2.2.2.2.cmml" xref="S5.SS3.SSS4.p3.3.m3.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.3.m3.2c">\textsf{TE}_{u,i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.3.m3.2d">TE start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT</annotation></semantics></math>, as the difference in the ranking of product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.4.m4.1"><semantics id="S5.SS3.SSS4.p3.4.m4.1a"><mi id="S5.SS3.SSS4.p3.4.m4.1.1" xref="S5.SS3.SSS4.p3.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.4.m4.1b"><ci id="S5.SS3.SSS4.p3.4.m4.1.1.cmml" xref="S5.SS3.SSS4.p3.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.4.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.4.m4.1d">italic_i</annotation></semantics></math> before and after the treatment. The control price, denoted as <math alttext="p_{c}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.5.m5.1"><semantics id="S5.SS3.SSS4.p3.5.m5.1a"><msub id="S5.SS3.SSS4.p3.5.m5.1.1" xref="S5.SS3.SSS4.p3.5.m5.1.1.cmml"><mi id="S5.SS3.SSS4.p3.5.m5.1.1.2" xref="S5.SS3.SSS4.p3.5.m5.1.1.2.cmml">p</mi><mi id="S5.SS3.SSS4.p3.5.m5.1.1.3" xref="S5.SS3.SSS4.p3.5.m5.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.5.m5.1b"><apply id="S5.SS3.SSS4.p3.5.m5.1.1.cmml" xref="S5.SS3.SSS4.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.5.m5.1.1.1.cmml" xref="S5.SS3.SSS4.p3.5.m5.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.5.m5.1.1.2.cmml" xref="S5.SS3.SSS4.p3.5.m5.1.1.2">𝑝</ci><ci id="S5.SS3.SSS4.p3.5.m5.1.1.3.cmml" xref="S5.SS3.SSS4.p3.5.m5.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.5.m5.1c">p_{c}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.5.m5.1d">italic_p start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT</annotation></semantics></math>, represents the original price of product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.6.m6.1"><semantics id="S5.SS3.SSS4.p3.6.m6.1a"><mi id="S5.SS3.SSS4.p3.6.m6.1.1" xref="S5.SS3.SSS4.p3.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.6.m6.1b"><ci id="S5.SS3.SSS4.p3.6.m6.1.1.cmml" xref="S5.SS3.SSS4.p3.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.6.m6.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.6.m6.1d">italic_i</annotation></semantics></math>, and the treatment price, denoted as <math alttext="p_{t}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.7.m7.1"><semantics id="S5.SS3.SSS4.p3.7.m7.1a"><msub id="S5.SS3.SSS4.p3.7.m7.1.1" xref="S5.SS3.SSS4.p3.7.m7.1.1.cmml"><mi id="S5.SS3.SSS4.p3.7.m7.1.1.2" xref="S5.SS3.SSS4.p3.7.m7.1.1.2.cmml">p</mi><mi id="S5.SS3.SSS4.p3.7.m7.1.1.3" xref="S5.SS3.SSS4.p3.7.m7.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.7.m7.1b"><apply id="S5.SS3.SSS4.p3.7.m7.1.1.cmml" xref="S5.SS3.SSS4.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.7.m7.1.1.1.cmml" xref="S5.SS3.SSS4.p3.7.m7.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.7.m7.1.1.2.cmml" xref="S5.SS3.SSS4.p3.7.m7.1.1.2">𝑝</ci><ci id="S5.SS3.SSS4.p3.7.m7.1.1.3.cmml" xref="S5.SS3.SSS4.p3.7.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.7.m7.1c">p_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.7.m7.1d">italic_p start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, represents the changed price.
Formally, the treatment effect for <math alttext="(u,i)" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.8.m8.2"><semantics id="S5.SS3.SSS4.p3.8.m8.2a"><mrow id="S5.SS3.SSS4.p3.8.m8.2.3.2" xref="S5.SS3.SSS4.p3.8.m8.2.3.1.cmml"><mo id="S5.SS3.SSS4.p3.8.m8.2.3.2.1" stretchy="false" xref="S5.SS3.SSS4.p3.8.m8.2.3.1.cmml">(</mo><mi id="S5.SS3.SSS4.p3.8.m8.1.1" xref="S5.SS3.SSS4.p3.8.m8.1.1.cmml">u</mi><mo id="S5.SS3.SSS4.p3.8.m8.2.3.2.2" xref="S5.SS3.SSS4.p3.8.m8.2.3.1.cmml">,</mo><mi id="S5.SS3.SSS4.p3.8.m8.2.2" xref="S5.SS3.SSS4.p3.8.m8.2.2.cmml">i</mi><mo id="S5.SS3.SSS4.p3.8.m8.2.3.2.3" stretchy="false" xref="S5.SS3.SSS4.p3.8.m8.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.8.m8.2b"><interval closure="open" id="S5.SS3.SSS4.p3.8.m8.2.3.1.cmml" xref="S5.SS3.SSS4.p3.8.m8.2.3.2"><ci id="S5.SS3.SSS4.p3.8.m8.1.1.cmml" xref="S5.SS3.SSS4.p3.8.m8.1.1">𝑢</ci><ci id="S5.SS3.SSS4.p3.8.m8.2.2.cmml" xref="S5.SS3.SSS4.p3.8.m8.2.2">𝑖</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.8.m8.2c">(u,i)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.8.m8.2d">( italic_u , italic_i )</annotation></semantics></math> can be calculated using Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.E19" title="In 5.3.4 Consumers’ Price Sensitivity Analysis. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">19</span></a>), where <math alttext="\textsf{rank}_{u,i}^{p_{t}}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.9.m9.2"><semantics id="S5.SS3.SSS4.p3.9.m9.2a"><msubsup id="S5.SS3.SSS4.p3.9.m9.2.3" xref="S5.SS3.SSS4.p3.9.m9.2.3.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p3.9.m9.2.3.2.2" xref="S5.SS3.SSS4.p3.9.m9.2.3.2.2a.cmml">rank</mtext><mrow id="S5.SS3.SSS4.p3.9.m9.2.2.2.4" xref="S5.SS3.SSS4.p3.9.m9.2.2.2.3.cmml"><mi id="S5.SS3.SSS4.p3.9.m9.1.1.1.1" xref="S5.SS3.SSS4.p3.9.m9.1.1.1.1.cmml">u</mi><mo id="S5.SS3.SSS4.p3.9.m9.2.2.2.4.1" xref="S5.SS3.SSS4.p3.9.m9.2.2.2.3.cmml">,</mo><mi id="S5.SS3.SSS4.p3.9.m9.2.2.2.2" xref="S5.SS3.SSS4.p3.9.m9.2.2.2.2.cmml">i</mi></mrow><msub id="S5.SS3.SSS4.p3.9.m9.2.3.3" xref="S5.SS3.SSS4.p3.9.m9.2.3.3.cmml"><mi id="S5.SS3.SSS4.p3.9.m9.2.3.3.2" xref="S5.SS3.SSS4.p3.9.m9.2.3.3.2.cmml">p</mi><mi id="S5.SS3.SSS4.p3.9.m9.2.3.3.3" xref="S5.SS3.SSS4.p3.9.m9.2.3.3.3.cmml">t</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.9.m9.2b"><apply id="S5.SS3.SSS4.p3.9.m9.2.3.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.9.m9.2.3.1.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3">superscript</csymbol><apply id="S5.SS3.SSS4.p3.9.m9.2.3.2.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.9.m9.2.3.2.1.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3">subscript</csymbol><ci id="S5.SS3.SSS4.p3.9.m9.2.3.2.2a.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3.2.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p3.9.m9.2.3.2.2.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3.2.2">rank</mtext></ci><list id="S5.SS3.SSS4.p3.9.m9.2.2.2.3.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.2.2.4"><ci id="S5.SS3.SSS4.p3.9.m9.1.1.1.1.cmml" xref="S5.SS3.SSS4.p3.9.m9.1.1.1.1">𝑢</ci><ci id="S5.SS3.SSS4.p3.9.m9.2.2.2.2.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.2.2.2">𝑖</ci></list></apply><apply id="S5.SS3.SSS4.p3.9.m9.2.3.3.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3.3"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.9.m9.2.3.3.1.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3.3">subscript</csymbol><ci id="S5.SS3.SSS4.p3.9.m9.2.3.3.2.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3.3.2">𝑝</ci><ci id="S5.SS3.SSS4.p3.9.m9.2.3.3.3.cmml" xref="S5.SS3.SSS4.p3.9.m9.2.3.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.9.m9.2c">\textsf{rank}_{u,i}^{p_{t}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.9.m9.2d">rank start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_p start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUPERSCRIPT</annotation></semantics></math> represents the ranking of product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.10.m10.1"><semantics id="S5.SS3.SSS4.p3.10.m10.1a"><mi id="S5.SS3.SSS4.p3.10.m10.1.1" xref="S5.SS3.SSS4.p3.10.m10.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.10.m10.1b"><ci id="S5.SS3.SSS4.p3.10.m10.1.1.cmml" xref="S5.SS3.SSS4.p3.10.m10.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.10.m10.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.10.m10.1d">italic_i</annotation></semantics></math> in the consumer’s ranking list under the treatment price <math alttext="p_{t}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.11.m11.1"><semantics id="S5.SS3.SSS4.p3.11.m11.1a"><msub id="S5.SS3.SSS4.p3.11.m11.1.1" xref="S5.SS3.SSS4.p3.11.m11.1.1.cmml"><mi id="S5.SS3.SSS4.p3.11.m11.1.1.2" xref="S5.SS3.SSS4.p3.11.m11.1.1.2.cmml">p</mi><mi id="S5.SS3.SSS4.p3.11.m11.1.1.3" xref="S5.SS3.SSS4.p3.11.m11.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.11.m11.1b"><apply id="S5.SS3.SSS4.p3.11.m11.1.1.cmml" xref="S5.SS3.SSS4.p3.11.m11.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.11.m11.1.1.1.cmml" xref="S5.SS3.SSS4.p3.11.m11.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.11.m11.1.1.2.cmml" xref="S5.SS3.SSS4.p3.11.m11.1.1.2">𝑝</ci><ci id="S5.SS3.SSS4.p3.11.m11.1.1.3.cmml" xref="S5.SS3.SSS4.p3.11.m11.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.11.m11.1c">p_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.11.m11.1d">italic_p start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E19">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\textsf{TE}_{u,i}=\textsf{rank}_{u,i}^{p_{t}}-\textsf{rank}_{u,i}^{p_{c}}," class="ltx_Math" display="block" id="S5.E19.m1.7"><semantics id="S5.E19.m1.7a"><mrow id="S5.E19.m1.7.7.1" xref="S5.E19.m1.7.7.1.1.cmml"><mrow id="S5.E19.m1.7.7.1.1" xref="S5.E19.m1.7.7.1.1.cmml"><msub id="S5.E19.m1.7.7.1.1.2" xref="S5.E19.m1.7.7.1.1.2.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.E19.m1.7.7.1.1.2.2" xref="S5.E19.m1.7.7.1.1.2.2a.cmml">TE</mtext><mrow id="S5.E19.m1.2.2.2.4" xref="S5.E19.m1.2.2.2.3.cmml"><mi id="S5.E19.m1.1.1.1.1" xref="S5.E19.m1.1.1.1.1.cmml">u</mi><mo id="S5.E19.m1.2.2.2.4.1" xref="S5.E19.m1.2.2.2.3.cmml">,</mo><mi id="S5.E19.m1.2.2.2.2" xref="S5.E19.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S5.E19.m1.7.7.1.1.1" xref="S5.E19.m1.7.7.1.1.1.cmml">=</mo><mrow id="S5.E19.m1.7.7.1.1.3" xref="S5.E19.m1.7.7.1.1.3.cmml"><msubsup id="S5.E19.m1.7.7.1.1.3.2" xref="S5.E19.m1.7.7.1.1.3.2.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.E19.m1.7.7.1.1.3.2.2.2" xref="S5.E19.m1.7.7.1.1.3.2.2.2a.cmml">rank</mtext><mrow id="S5.E19.m1.4.4.2.4" xref="S5.E19.m1.4.4.2.3.cmml"><mi id="S5.E19.m1.3.3.1.1" xref="S5.E19.m1.3.3.1.1.cmml">u</mi><mo id="S5.E19.m1.4.4.2.4.1" xref="S5.E19.m1.4.4.2.3.cmml">,</mo><mi id="S5.E19.m1.4.4.2.2" xref="S5.E19.m1.4.4.2.2.cmml">i</mi></mrow><msub id="S5.E19.m1.7.7.1.1.3.2.3" xref="S5.E19.m1.7.7.1.1.3.2.3.cmml"><mi id="S5.E19.m1.7.7.1.1.3.2.3.2" xref="S5.E19.m1.7.7.1.1.3.2.3.2.cmml">p</mi><mi id="S5.E19.m1.7.7.1.1.3.2.3.3" xref="S5.E19.m1.7.7.1.1.3.2.3.3.cmml">t</mi></msub></msubsup><mo id="S5.E19.m1.7.7.1.1.3.1" xref="S5.E19.m1.7.7.1.1.3.1.cmml">−</mo><msubsup id="S5.E19.m1.7.7.1.1.3.3" xref="S5.E19.m1.7.7.1.1.3.3.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.E19.m1.7.7.1.1.3.3.2.2" xref="S5.E19.m1.7.7.1.1.3.3.2.2a.cmml">rank</mtext><mrow id="S5.E19.m1.6.6.2.4" xref="S5.E19.m1.6.6.2.3.cmml"><mi id="S5.E19.m1.5.5.1.1" xref="S5.E19.m1.5.5.1.1.cmml">u</mi><mo id="S5.E19.m1.6.6.2.4.1" xref="S5.E19.m1.6.6.2.3.cmml">,</mo><mi id="S5.E19.m1.6.6.2.2" xref="S5.E19.m1.6.6.2.2.cmml">i</mi></mrow><msub id="S5.E19.m1.7.7.1.1.3.3.3" xref="S5.E19.m1.7.7.1.1.3.3.3.cmml"><mi id="S5.E19.m1.7.7.1.1.3.3.3.2" xref="S5.E19.m1.7.7.1.1.3.3.3.2.cmml">p</mi><mi id="S5.E19.m1.7.7.1.1.3.3.3.3" xref="S5.E19.m1.7.7.1.1.3.3.3.3.cmml">c</mi></msub></msubsup></mrow></mrow><mo id="S5.E19.m1.7.7.1.2" xref="S5.E19.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E19.m1.7b"><apply id="S5.E19.m1.7.7.1.1.cmml" xref="S5.E19.m1.7.7.1"><eq id="S5.E19.m1.7.7.1.1.1.cmml" xref="S5.E19.m1.7.7.1.1.1"></eq><apply id="S5.E19.m1.7.7.1.1.2.cmml" xref="S5.E19.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S5.E19.m1.7.7.1.1.2.1.cmml" xref="S5.E19.m1.7.7.1.1.2">subscript</csymbol><ci id="S5.E19.m1.7.7.1.1.2.2a.cmml" xref="S5.E19.m1.7.7.1.1.2.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.E19.m1.7.7.1.1.2.2.cmml" xref="S5.E19.m1.7.7.1.1.2.2">TE</mtext></ci><list id="S5.E19.m1.2.2.2.3.cmml" xref="S5.E19.m1.2.2.2.4"><ci id="S5.E19.m1.1.1.1.1.cmml" xref="S5.E19.m1.1.1.1.1">𝑢</ci><ci id="S5.E19.m1.2.2.2.2.cmml" xref="S5.E19.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S5.E19.m1.7.7.1.1.3.cmml" xref="S5.E19.m1.7.7.1.1.3"><minus id="S5.E19.m1.7.7.1.1.3.1.cmml" xref="S5.E19.m1.7.7.1.1.3.1"></minus><apply id="S5.E19.m1.7.7.1.1.3.2.cmml" xref="S5.E19.m1.7.7.1.1.3.2"><csymbol cd="ambiguous" id="S5.E19.m1.7.7.1.1.3.2.1.cmml" xref="S5.E19.m1.7.7.1.1.3.2">superscript</csymbol><apply id="S5.E19.m1.7.7.1.1.3.2.2.cmml" xref="S5.E19.m1.7.7.1.1.3.2"><csymbol cd="ambiguous" id="S5.E19.m1.7.7.1.1.3.2.2.1.cmml" xref="S5.E19.m1.7.7.1.1.3.2">subscript</csymbol><ci id="S5.E19.m1.7.7.1.1.3.2.2.2a.cmml" xref="S5.E19.m1.7.7.1.1.3.2.2.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.E19.m1.7.7.1.1.3.2.2.2.cmml" xref="S5.E19.m1.7.7.1.1.3.2.2.2">rank</mtext></ci><list id="S5.E19.m1.4.4.2.3.cmml" xref="S5.E19.m1.4.4.2.4"><ci id="S5.E19.m1.3.3.1.1.cmml" xref="S5.E19.m1.3.3.1.1">𝑢</ci><ci id="S5.E19.m1.4.4.2.2.cmml" xref="S5.E19.m1.4.4.2.2">𝑖</ci></list></apply><apply id="S5.E19.m1.7.7.1.1.3.2.3.cmml" xref="S5.E19.m1.7.7.1.1.3.2.3"><csymbol cd="ambiguous" id="S5.E19.m1.7.7.1.1.3.2.3.1.cmml" xref="S5.E19.m1.7.7.1.1.3.2.3">subscript</csymbol><ci id="S5.E19.m1.7.7.1.1.3.2.3.2.cmml" xref="S5.E19.m1.7.7.1.1.3.2.3.2">𝑝</ci><ci id="S5.E19.m1.7.7.1.1.3.2.3.3.cmml" xref="S5.E19.m1.7.7.1.1.3.2.3.3">𝑡</ci></apply></apply><apply id="S5.E19.m1.7.7.1.1.3.3.cmml" xref="S5.E19.m1.7.7.1.1.3.3"><csymbol cd="ambiguous" id="S5.E19.m1.7.7.1.1.3.3.1.cmml" xref="S5.E19.m1.7.7.1.1.3.3">superscript</csymbol><apply id="S5.E19.m1.7.7.1.1.3.3.2.cmml" xref="S5.E19.m1.7.7.1.1.3.3"><csymbol cd="ambiguous" id="S5.E19.m1.7.7.1.1.3.3.2.1.cmml" xref="S5.E19.m1.7.7.1.1.3.3">subscript</csymbol><ci id="S5.E19.m1.7.7.1.1.3.3.2.2a.cmml" xref="S5.E19.m1.7.7.1.1.3.3.2.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.E19.m1.7.7.1.1.3.3.2.2.cmml" xref="S5.E19.m1.7.7.1.1.3.3.2.2">rank</mtext></ci><list id="S5.E19.m1.6.6.2.3.cmml" xref="S5.E19.m1.6.6.2.4"><ci id="S5.E19.m1.5.5.1.1.cmml" xref="S5.E19.m1.5.5.1.1">𝑢</ci><ci id="S5.E19.m1.6.6.2.2.cmml" xref="S5.E19.m1.6.6.2.2">𝑖</ci></list></apply><apply id="S5.E19.m1.7.7.1.1.3.3.3.cmml" xref="S5.E19.m1.7.7.1.1.3.3.3"><csymbol cd="ambiguous" id="S5.E19.m1.7.7.1.1.3.3.3.1.cmml" xref="S5.E19.m1.7.7.1.1.3.3.3">subscript</csymbol><ci id="S5.E19.m1.7.7.1.1.3.3.3.2.cmml" xref="S5.E19.m1.7.7.1.1.3.3.3.2">𝑝</ci><ci id="S5.E19.m1.7.7.1.1.3.3.3.3.cmml" xref="S5.E19.m1.7.7.1.1.3.3.3.3">𝑐</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E19.m1.7c">\textsf{TE}_{u,i}=\textsf{rank}_{u,i}^{p_{t}}-\textsf{rank}_{u,i}^{p_{c}},</annotation><annotation encoding="application/x-llamapun" id="S5.E19.m1.7d">TE start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT = rank start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_p start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT end_POSTSUPERSCRIPT - rank start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_p start_POSTSUBSCRIPT italic_c end_POSTSUBSCRIPT end_POSTSUPERSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(19)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS3.SSS4.p3.19">We aim to estimate the average treatment effect, denoted as <span class="ltx_text ltx_markedasmath ltx_font_sansserif" id="S5.SS3.SSS4.p3.19.1">ATE</span>, for multiple <math alttext="(u,i)" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.13.m2.2"><semantics id="S5.SS3.SSS4.p3.13.m2.2a"><mrow id="S5.SS3.SSS4.p3.13.m2.2.3.2" xref="S5.SS3.SSS4.p3.13.m2.2.3.1.cmml"><mo id="S5.SS3.SSS4.p3.13.m2.2.3.2.1" stretchy="false" xref="S5.SS3.SSS4.p3.13.m2.2.3.1.cmml">(</mo><mi id="S5.SS3.SSS4.p3.13.m2.1.1" xref="S5.SS3.SSS4.p3.13.m2.1.1.cmml">u</mi><mo id="S5.SS3.SSS4.p3.13.m2.2.3.2.2" xref="S5.SS3.SSS4.p3.13.m2.2.3.1.cmml">,</mo><mi id="S5.SS3.SSS4.p3.13.m2.2.2" xref="S5.SS3.SSS4.p3.13.m2.2.2.cmml">i</mi><mo id="S5.SS3.SSS4.p3.13.m2.2.3.2.3" stretchy="false" xref="S5.SS3.SSS4.p3.13.m2.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.13.m2.2b"><interval closure="open" id="S5.SS3.SSS4.p3.13.m2.2.3.1.cmml" xref="S5.SS3.SSS4.p3.13.m2.2.3.2"><ci id="S5.SS3.SSS4.p3.13.m2.1.1.cmml" xref="S5.SS3.SSS4.p3.13.m2.1.1">𝑢</ci><ci id="S5.SS3.SSS4.p3.13.m2.2.2.cmml" xref="S5.SS3.SSS4.p3.13.m2.2.2">𝑖</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.13.m2.2c">(u,i)</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.13.m2.2d">( italic_u , italic_i )</annotation></semantics></math> pairs within a specific consumer group <math alttext="\bm{g}_{s}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.14.m3.1"><semantics id="S5.SS3.SSS4.p3.14.m3.1a"><msub id="S5.SS3.SSS4.p3.14.m3.1.1" xref="S5.SS3.SSS4.p3.14.m3.1.1.cmml"><mi id="S5.SS3.SSS4.p3.14.m3.1.1.2" xref="S5.SS3.SSS4.p3.14.m3.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p3.14.m3.1.1.3" xref="S5.SS3.SSS4.p3.14.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.14.m3.1b"><apply id="S5.SS3.SSS4.p3.14.m3.1.1.cmml" xref="S5.SS3.SSS4.p3.14.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.14.m3.1.1.1.cmml" xref="S5.SS3.SSS4.p3.14.m3.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.14.m3.1.1.2.cmml" xref="S5.SS3.SSS4.p3.14.m3.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p3.14.m3.1.1.3.cmml" xref="S5.SS3.SSS4.p3.14.m3.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.14.m3.1c">\bm{g}_{s}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.14.m3.1d">bold_italic_g start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> or <math alttext="\bm{g}_{l}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.15.m4.1"><semantics id="S5.SS3.SSS4.p3.15.m4.1a"><msub id="S5.SS3.SSS4.p3.15.m4.1.1" xref="S5.SS3.SSS4.p3.15.m4.1.1.cmml"><mi id="S5.SS3.SSS4.p3.15.m4.1.1.2" xref="S5.SS3.SSS4.p3.15.m4.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p3.15.m4.1.1.3" xref="S5.SS3.SSS4.p3.15.m4.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.15.m4.1b"><apply id="S5.SS3.SSS4.p3.15.m4.1.1.cmml" xref="S5.SS3.SSS4.p3.15.m4.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.15.m4.1.1.1.cmml" xref="S5.SS3.SSS4.p3.15.m4.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.15.m4.1.1.2.cmml" xref="S5.SS3.SSS4.p3.15.m4.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p3.15.m4.1.1.3.cmml" xref="S5.SS3.SSS4.p3.15.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.15.m4.1c">\bm{g}_{l}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.15.m4.1d">bold_italic_g start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>. The average treatment effect for group <math alttext="\bm{g}_{s}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.16.m5.1"><semantics id="S5.SS3.SSS4.p3.16.m5.1a"><msub id="S5.SS3.SSS4.p3.16.m5.1.1" xref="S5.SS3.SSS4.p3.16.m5.1.1.cmml"><mi id="S5.SS3.SSS4.p3.16.m5.1.1.2" xref="S5.SS3.SSS4.p3.16.m5.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p3.16.m5.1.1.3" xref="S5.SS3.SSS4.p3.16.m5.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.16.m5.1b"><apply id="S5.SS3.SSS4.p3.16.m5.1.1.cmml" xref="S5.SS3.SSS4.p3.16.m5.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.16.m5.1.1.1.cmml" xref="S5.SS3.SSS4.p3.16.m5.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.16.m5.1.1.2.cmml" xref="S5.SS3.SSS4.p3.16.m5.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p3.16.m5.1.1.3.cmml" xref="S5.SS3.SSS4.p3.16.m5.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.16.m5.1c">\bm{g}_{s}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.16.m5.1d">bold_italic_g start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> is calculated using Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.E20" title="In 5.3.4 Consumers’ Price Sensitivity Analysis. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">20</span></a>), denoted as <math alttext="\textsf{ATE}_{s}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.17.m6.1"><semantics id="S5.SS3.SSS4.p3.17.m6.1a"><msub id="S5.SS3.SSS4.p3.17.m6.1.1" xref="S5.SS3.SSS4.p3.17.m6.1.1.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p3.17.m6.1.1.2" xref="S5.SS3.SSS4.p3.17.m6.1.1.2a.cmml">ATE</mtext><mi id="S5.SS3.SSS4.p3.17.m6.1.1.3" xref="S5.SS3.SSS4.p3.17.m6.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.17.m6.1b"><apply id="S5.SS3.SSS4.p3.17.m6.1.1.cmml" xref="S5.SS3.SSS4.p3.17.m6.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.17.m6.1.1.1.cmml" xref="S5.SS3.SSS4.p3.17.m6.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.17.m6.1.1.2a.cmml" xref="S5.SS3.SSS4.p3.17.m6.1.1.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p3.17.m6.1.1.2.cmml" xref="S5.SS3.SSS4.p3.17.m6.1.1.2">ATE</mtext></ci><ci id="S5.SS3.SSS4.p3.17.m6.1.1.3.cmml" xref="S5.SS3.SSS4.p3.17.m6.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.17.m6.1c">\textsf{ATE}_{s}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.17.m6.1d">ATE start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>. The <math alttext="\textsf{ATE}_{l}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.18.m7.1"><semantics id="S5.SS3.SSS4.p3.18.m7.1a"><msub id="S5.SS3.SSS4.p3.18.m7.1.1" xref="S5.SS3.SSS4.p3.18.m7.1.1.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p3.18.m7.1.1.2" xref="S5.SS3.SSS4.p3.18.m7.1.1.2a.cmml">ATE</mtext><mi id="S5.SS3.SSS4.p3.18.m7.1.1.3" xref="S5.SS3.SSS4.p3.18.m7.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.18.m7.1b"><apply id="S5.SS3.SSS4.p3.18.m7.1.1.cmml" xref="S5.SS3.SSS4.p3.18.m7.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.18.m7.1.1.1.cmml" xref="S5.SS3.SSS4.p3.18.m7.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.18.m7.1.1.2a.cmml" xref="S5.SS3.SSS4.p3.18.m7.1.1.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p3.18.m7.1.1.2.cmml" xref="S5.SS3.SSS4.p3.18.m7.1.1.2">ATE</mtext></ci><ci id="S5.SS3.SSS4.p3.18.m7.1.1.3.cmml" xref="S5.SS3.SSS4.p3.18.m7.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.18.m7.1c">\textsf{ATE}_{l}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.18.m7.1d">ATE start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> for the more price sensitive group <math alttext="\bm{g}_{l}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p3.19.m8.1"><semantics id="S5.SS3.SSS4.p3.19.m8.1a"><msub id="S5.SS3.SSS4.p3.19.m8.1.1" xref="S5.SS3.SSS4.p3.19.m8.1.1.cmml"><mi id="S5.SS3.SSS4.p3.19.m8.1.1.2" xref="S5.SS3.SSS4.p3.19.m8.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p3.19.m8.1.1.3" xref="S5.SS3.SSS4.p3.19.m8.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p3.19.m8.1b"><apply id="S5.SS3.SSS4.p3.19.m8.1.1.cmml" xref="S5.SS3.SSS4.p3.19.m8.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p3.19.m8.1.1.1.cmml" xref="S5.SS3.SSS4.p3.19.m8.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p3.19.m8.1.1.2.cmml" xref="S5.SS3.SSS4.p3.19.m8.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p3.19.m8.1.1.3.cmml" xref="S5.SS3.SSS4.p3.19.m8.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p3.19.m8.1c">\bm{g}_{l}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p3.19.m8.1d">bold_italic_g start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> can be computed in a similar way.</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E20">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\textsf{ATE}_{s}=\frac{1}{|\bm{g}_{s}|}\sum_{u\in\bm{g}_{s}}\left(\frac{1}{|%
\mathcal{C}|}\sum_{i\in\mathcal{C}}\textsf{TE}_{u,i}\right)." class="ltx_Math" display="block" id="S5.E20.m1.5"><semantics id="S5.E20.m1.5a"><mrow id="S5.E20.m1.5.5.1" xref="S5.E20.m1.5.5.1.1.cmml"><mrow id="S5.E20.m1.5.5.1.1" xref="S5.E20.m1.5.5.1.1.cmml"><msub id="S5.E20.m1.5.5.1.1.3" xref="S5.E20.m1.5.5.1.1.3.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.E20.m1.5.5.1.1.3.2" xref="S5.E20.m1.5.5.1.1.3.2a.cmml">ATE</mtext><mi id="S5.E20.m1.5.5.1.1.3.3" xref="S5.E20.m1.5.5.1.1.3.3.cmml">s</mi></msub><mo id="S5.E20.m1.5.5.1.1.2" xref="S5.E20.m1.5.5.1.1.2.cmml">=</mo><mrow id="S5.E20.m1.5.5.1.1.1" xref="S5.E20.m1.5.5.1.1.1.cmml"><mfrac id="S5.E20.m1.1.1" xref="S5.E20.m1.1.1.cmml"><mn id="S5.E20.m1.1.1.3" xref="S5.E20.m1.1.1.3.cmml">1</mn><mrow id="S5.E20.m1.1.1.1.1" xref="S5.E20.m1.1.1.1.2.cmml"><mo id="S5.E20.m1.1.1.1.1.2" stretchy="false" xref="S5.E20.m1.1.1.1.2.1.cmml">|</mo><msub id="S5.E20.m1.1.1.1.1.1" xref="S5.E20.m1.1.1.1.1.1.cmml"><mi id="S5.E20.m1.1.1.1.1.1.2" xref="S5.E20.m1.1.1.1.1.1.2.cmml">𝒈</mi><mi id="S5.E20.m1.1.1.1.1.1.3" xref="S5.E20.m1.1.1.1.1.1.3.cmml">s</mi></msub><mo id="S5.E20.m1.1.1.1.1.3" stretchy="false" xref="S5.E20.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S5.E20.m1.5.5.1.1.1.2" xref="S5.E20.m1.5.5.1.1.1.2.cmml">⁢</mo><mrow id="S5.E20.m1.5.5.1.1.1.1" xref="S5.E20.m1.5.5.1.1.1.1.cmml"><munder id="S5.E20.m1.5.5.1.1.1.1.2" xref="S5.E20.m1.5.5.1.1.1.1.2.cmml"><mo id="S5.E20.m1.5.5.1.1.1.1.2.2" movablelimits="false" rspace="0em" xref="S5.E20.m1.5.5.1.1.1.1.2.2.cmml">∑</mo><mrow id="S5.E20.m1.5.5.1.1.1.1.2.3" xref="S5.E20.m1.5.5.1.1.1.1.2.3.cmml"><mi id="S5.E20.m1.5.5.1.1.1.1.2.3.2" xref="S5.E20.m1.5.5.1.1.1.1.2.3.2.cmml">u</mi><mo id="S5.E20.m1.5.5.1.1.1.1.2.3.1" xref="S5.E20.m1.5.5.1.1.1.1.2.3.1.cmml">∈</mo><msub id="S5.E20.m1.5.5.1.1.1.1.2.3.3" xref="S5.E20.m1.5.5.1.1.1.1.2.3.3.cmml"><mi id="S5.E20.m1.5.5.1.1.1.1.2.3.3.2" xref="S5.E20.m1.5.5.1.1.1.1.2.3.3.2.cmml">𝒈</mi><mi id="S5.E20.m1.5.5.1.1.1.1.2.3.3.3" xref="S5.E20.m1.5.5.1.1.1.1.2.3.3.3.cmml">s</mi></msub></mrow></munder><mrow id="S5.E20.m1.5.5.1.1.1.1.1.1" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.cmml"><mo id="S5.E20.m1.5.5.1.1.1.1.1.1.2" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E20.m1.5.5.1.1.1.1.1.1.1" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.cmml"><mfrac id="S5.E20.m1.2.2" xref="S5.E20.m1.2.2.cmml"><mn id="S5.E20.m1.2.2.3" xref="S5.E20.m1.2.2.3.cmml">1</mn><mrow id="S5.E20.m1.2.2.1.3" xref="S5.E20.m1.2.2.1.2.cmml"><mo id="S5.E20.m1.2.2.1.3.1" stretchy="false" xref="S5.E20.m1.2.2.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E20.m1.2.2.1.1" xref="S5.E20.m1.2.2.1.1.cmml">𝒞</mi><mo id="S5.E20.m1.2.2.1.3.2" stretchy="false" xref="S5.E20.m1.2.2.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S5.E20.m1.5.5.1.1.1.1.1.1.1.1" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.1.cmml">⁢</mo><mrow id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.cmml"><munder id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.cmml"><mo id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.2" movablelimits="false" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.2.cmml">∑</mo><mrow id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.cmml"><mi id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.2" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.2.cmml">i</mi><mo id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.1" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.3" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.3.cmml">𝒞</mi></mrow></munder><msub id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.2" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.2a.cmml">TE</mtext><mrow id="S5.E20.m1.4.4.2.4" xref="S5.E20.m1.4.4.2.3.cmml"><mi id="S5.E20.m1.3.3.1.1" xref="S5.E20.m1.3.3.1.1.cmml">u</mi><mo id="S5.E20.m1.4.4.2.4.1" xref="S5.E20.m1.4.4.2.3.cmml">,</mo><mi id="S5.E20.m1.4.4.2.2" xref="S5.E20.m1.4.4.2.2.cmml">i</mi></mrow></msub></mrow></mrow><mo id="S5.E20.m1.5.5.1.1.1.1.1.1.3" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E20.m1.5.5.1.2" lspace="0em" xref="S5.E20.m1.5.5.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E20.m1.5b"><apply id="S5.E20.m1.5.5.1.1.cmml" xref="S5.E20.m1.5.5.1"><eq id="S5.E20.m1.5.5.1.1.2.cmml" xref="S5.E20.m1.5.5.1.1.2"></eq><apply id="S5.E20.m1.5.5.1.1.3.cmml" xref="S5.E20.m1.5.5.1.1.3"><csymbol cd="ambiguous" id="S5.E20.m1.5.5.1.1.3.1.cmml" xref="S5.E20.m1.5.5.1.1.3">subscript</csymbol><ci id="S5.E20.m1.5.5.1.1.3.2a.cmml" xref="S5.E20.m1.5.5.1.1.3.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.E20.m1.5.5.1.1.3.2.cmml" xref="S5.E20.m1.5.5.1.1.3.2">ATE</mtext></ci><ci id="S5.E20.m1.5.5.1.1.3.3.cmml" xref="S5.E20.m1.5.5.1.1.3.3">𝑠</ci></apply><apply id="S5.E20.m1.5.5.1.1.1.cmml" xref="S5.E20.m1.5.5.1.1.1"><times id="S5.E20.m1.5.5.1.1.1.2.cmml" xref="S5.E20.m1.5.5.1.1.1.2"></times><apply id="S5.E20.m1.1.1.cmml" xref="S5.E20.m1.1.1"><divide id="S5.E20.m1.1.1.2.cmml" xref="S5.E20.m1.1.1"></divide><cn id="S5.E20.m1.1.1.3.cmml" type="integer" xref="S5.E20.m1.1.1.3">1</cn><apply id="S5.E20.m1.1.1.1.2.cmml" xref="S5.E20.m1.1.1.1.1"><abs id="S5.E20.m1.1.1.1.2.1.cmml" xref="S5.E20.m1.1.1.1.1.2"></abs><apply id="S5.E20.m1.1.1.1.1.1.cmml" xref="S5.E20.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E20.m1.1.1.1.1.1.1.cmml" xref="S5.E20.m1.1.1.1.1.1">subscript</csymbol><ci id="S5.E20.m1.1.1.1.1.1.2.cmml" xref="S5.E20.m1.1.1.1.1.1.2">𝒈</ci><ci id="S5.E20.m1.1.1.1.1.1.3.cmml" xref="S5.E20.m1.1.1.1.1.1.3">𝑠</ci></apply></apply></apply><apply id="S5.E20.m1.5.5.1.1.1.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1"><apply id="S5.E20.m1.5.5.1.1.1.1.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E20.m1.5.5.1.1.1.1.2.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2">subscript</csymbol><sum id="S5.E20.m1.5.5.1.1.1.1.2.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2.2"></sum><apply id="S5.E20.m1.5.5.1.1.1.1.2.3.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2.3"><in id="S5.E20.m1.5.5.1.1.1.1.2.3.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2.3.1"></in><ci id="S5.E20.m1.5.5.1.1.1.1.2.3.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2.3.2">𝑢</ci><apply id="S5.E20.m1.5.5.1.1.1.1.2.3.3.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S5.E20.m1.5.5.1.1.1.1.2.3.3.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2.3.3">subscript</csymbol><ci id="S5.E20.m1.5.5.1.1.1.1.2.3.3.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2.3.3.2">𝒈</ci><ci id="S5.E20.m1.5.5.1.1.1.1.2.3.3.3.cmml" xref="S5.E20.m1.5.5.1.1.1.1.2.3.3.3">𝑠</ci></apply></apply></apply><apply id="S5.E20.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1"><times id="S5.E20.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.1"></times><apply id="S5.E20.m1.2.2.cmml" xref="S5.E20.m1.2.2"><divide id="S5.E20.m1.2.2.2.cmml" xref="S5.E20.m1.2.2"></divide><cn id="S5.E20.m1.2.2.3.cmml" type="integer" xref="S5.E20.m1.2.2.3">1</cn><apply id="S5.E20.m1.2.2.1.2.cmml" xref="S5.E20.m1.2.2.1.3"><abs id="S5.E20.m1.2.2.1.2.1.cmml" xref="S5.E20.m1.2.2.1.3.1"></abs><ci id="S5.E20.m1.2.2.1.1.cmml" xref="S5.E20.m1.2.2.1.1">𝒞</ci></apply></apply><apply id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2"><apply id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1">subscript</csymbol><sum id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.2"></sum><apply id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3"><in id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.1"></in><ci id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.2">𝑖</ci><ci id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.3.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.1.3.3">𝒞</ci></apply></apply><apply id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.1.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.2a.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.2.cmml" xref="S5.E20.m1.5.5.1.1.1.1.1.1.1.2.2.2">TE</mtext></ci><list id="S5.E20.m1.4.4.2.3.cmml" xref="S5.E20.m1.4.4.2.4"><ci id="S5.E20.m1.3.3.1.1.cmml" xref="S5.E20.m1.3.3.1.1">𝑢</ci><ci id="S5.E20.m1.4.4.2.2.cmml" xref="S5.E20.m1.4.4.2.2">𝑖</ci></list></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E20.m1.5c">\textsf{ATE}_{s}=\frac{1}{|\bm{g}_{s}|}\sum_{u\in\bm{g}_{s}}\left(\frac{1}{|%
\mathcal{C}|}\sum_{i\in\mathcal{C}}\textsf{TE}_{u,i}\right).</annotation><annotation encoding="application/x-llamapun" id="S5.E20.m1.5d">ATE start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG | bold_italic_g start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT | end_ARG ∑ start_POSTSUBSCRIPT italic_u ∈ bold_italic_g start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( divide start_ARG 1 end_ARG start_ARG | caligraphic_C | end_ARG ∑ start_POSTSUBSCRIPT italic_i ∈ caligraphic_C end_POSTSUBSCRIPT TE start_POSTSUBSCRIPT italic_u , italic_i end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(20)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S5.SS3.SSS4.p4">
<p class="ltx_p" id="S5.SS3.SSS4.p4.3">For an ideal recommendation method, we expect the average treatment effects for the two groups of consumers to exhibit certain patterns since the ranking results should be altered to respond to consumers’ price concerns. When the product price decreases, the treatment effects should be negative, indicating that treated products with lower price may be ranked higher. Conversely, when the product price increases, the treatment effects should be positive, indicating a decline in the treated product’s ranking. Additionally, we anticipate that the absolute value of <math alttext="\textsf{ATE}_{s}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p4.1.m1.1"><semantics id="S5.SS3.SSS4.p4.1.m1.1a"><msub id="S5.SS3.SSS4.p4.1.m1.1.1" xref="S5.SS3.SSS4.p4.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p4.1.m1.1.1.2" xref="S5.SS3.SSS4.p4.1.m1.1.1.2a.cmml">ATE</mtext><mi id="S5.SS3.SSS4.p4.1.m1.1.1.3" xref="S5.SS3.SSS4.p4.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p4.1.m1.1b"><apply id="S5.SS3.SSS4.p4.1.m1.1.1.cmml" xref="S5.SS3.SSS4.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p4.1.m1.1.1.1.cmml" xref="S5.SS3.SSS4.p4.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p4.1.m1.1.1.2a.cmml" xref="S5.SS3.SSS4.p4.1.m1.1.1.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p4.1.m1.1.1.2.cmml" xref="S5.SS3.SSS4.p4.1.m1.1.1.2">ATE</mtext></ci><ci id="S5.SS3.SSS4.p4.1.m1.1.1.3.cmml" xref="S5.SS3.SSS4.p4.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p4.1.m1.1c">\textsf{ATE}_{s}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p4.1.m1.1d">ATE start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> will be smaller than that of <math alttext="\textsf{ATE}_{l}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p4.2.m2.1"><semantics id="S5.SS3.SSS4.p4.2.m2.1a"><msub id="S5.SS3.SSS4.p4.2.m2.1.1" xref="S5.SS3.SSS4.p4.2.m2.1.1.cmml"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p4.2.m2.1.1.2" xref="S5.SS3.SSS4.p4.2.m2.1.1.2a.cmml">ATE</mtext><mi id="S5.SS3.SSS4.p4.2.m2.1.1.3" xref="S5.SS3.SSS4.p4.2.m2.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p4.2.m2.1b"><apply id="S5.SS3.SSS4.p4.2.m2.1.1.cmml" xref="S5.SS3.SSS4.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p4.2.m2.1.1.1.cmml" xref="S5.SS3.SSS4.p4.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p4.2.m2.1.1.2a.cmml" xref="S5.SS3.SSS4.p4.2.m2.1.1.2"><mtext class="ltx_mathvariant_sans-serif" id="S5.SS3.SSS4.p4.2.m2.1.1.2.cmml" xref="S5.SS3.SSS4.p4.2.m2.1.1.2">ATE</mtext></ci><ci id="S5.SS3.SSS4.p4.2.m2.1.1.3.cmml" xref="S5.SS3.SSS4.p4.2.m2.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p4.2.m2.1c">\textsf{ATE}_{l}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p4.2.m2.1d">ATE start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>, as consumers in the <math alttext="\bm{g}_{s}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p4.3.m3.1"><semantics id="S5.SS3.SSS4.p4.3.m3.1a"><msub id="S5.SS3.SSS4.p4.3.m3.1.1" xref="S5.SS3.SSS4.p4.3.m3.1.1.cmml"><mi id="S5.SS3.SSS4.p4.3.m3.1.1.2" xref="S5.SS3.SSS4.p4.3.m3.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p4.3.m3.1.1.3" xref="S5.SS3.SSS4.p4.3.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p4.3.m3.1b"><apply id="S5.SS3.SSS4.p4.3.m3.1.1.cmml" xref="S5.SS3.SSS4.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p4.3.m3.1.1.1.cmml" xref="S5.SS3.SSS4.p4.3.m3.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p4.3.m3.1.1.2.cmml" xref="S5.SS3.SSS4.p4.3.m3.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p4.3.m3.1.1.3.cmml" xref="S5.SS3.SSS4.p4.3.m3.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p4.3.m3.1c">\bm{g}_{s}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p4.3.m3.1d">bold_italic_g start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> group have lower price sensitivity.</p>
</div>
<div class="ltx_para" id="S5.SS3.SSS4.p5">
<p class="ltx_p" id="S5.SS3.SSS4.p5.1">We conduct controlled experiments by repeating the process 30 times with randomly selected consumer groups and candidate product set <math alttext="\mathcal{C}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p5.1.m1.1"><semantics id="S5.SS3.SSS4.p5.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S5.SS3.SSS4.p5.1.m1.1.1" xref="S5.SS3.SSS4.p5.1.m1.1.1.cmml">𝒞</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p5.1.m1.1b"><ci id="S5.SS3.SSS4.p5.1.m1.1.1.cmml" xref="S5.SS3.SSS4.p5.1.m1.1.1">𝒞</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p5.1.m1.1c">\mathcal{C}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p5.1.m1.1d">caligraphic_C</annotation></semantics></math>. The ATE and their standard deviations are calculated for different recommendation methods, and the results are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T2" title="Table 2 ‣ 5.3.4 Consumers’ Price Sensitivity Analysis. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">2</span></a>. We consider two types of treatments: increasing the product price by 10% and decreasing the product price by 10%, denoted as “+10%” and “-10%”, respectively. Note that we have not included the methods PaDQ and PUP in the comparisons because they regard product price as discrete bins, making them not applicable for numerical manipulation in this particular experiment.</p>
</div>
<div class="ltx_para" id="S5.SS3.SSS4.p6">
<p class="ltx_p" id="S5.SS3.SSS4.p6.2">From the results in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T2" title="Table 2 ‣ 5.3.4 Consumers’ Price Sensitivity Analysis. ‣ 5.3 Evaluation with Simulations ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">2</span></a>, we can draw two main conclusions. First, most of the methods estimate negative treatment effects when the product price is decreased and positive treatment effects when the product price is increased, aligning with our expectations for an ideal recommendation method. Second, our method achieves larger treatment effects (in absolute value) for the more price-sensitive group <math alttext="\bm{g}_{l}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p6.1.m1.1"><semantics id="S5.SS3.SSS4.p6.1.m1.1a"><msub id="S5.SS3.SSS4.p6.1.m1.1.1" xref="S5.SS3.SSS4.p6.1.m1.1.1.cmml"><mi id="S5.SS3.SSS4.p6.1.m1.1.1.2" xref="S5.SS3.SSS4.p6.1.m1.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p6.1.m1.1.1.3" xref="S5.SS3.SSS4.p6.1.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p6.1.m1.1b"><apply id="S5.SS3.SSS4.p6.1.m1.1.1.cmml" xref="S5.SS3.SSS4.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p6.1.m1.1.1.1.cmml" xref="S5.SS3.SSS4.p6.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p6.1.m1.1.1.2.cmml" xref="S5.SS3.SSS4.p6.1.m1.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p6.1.m1.1.1.3.cmml" xref="S5.SS3.SSS4.p6.1.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p6.1.m1.1c">\bm{g}_{l}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p6.1.m1.1d">bold_italic_g start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> and smaller treatment effects for group <math alttext="\bm{g}_{s}" class="ltx_Math" display="inline" id="S5.SS3.SSS4.p6.2.m2.1"><semantics id="S5.SS3.SSS4.p6.2.m2.1a"><msub id="S5.SS3.SSS4.p6.2.m2.1.1" xref="S5.SS3.SSS4.p6.2.m2.1.1.cmml"><mi id="S5.SS3.SSS4.p6.2.m2.1.1.2" xref="S5.SS3.SSS4.p6.2.m2.1.1.2.cmml">𝒈</mi><mi id="S5.SS3.SSS4.p6.2.m2.1.1.3" xref="S5.SS3.SSS4.p6.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.SSS4.p6.2.m2.1b"><apply id="S5.SS3.SSS4.p6.2.m2.1.1.cmml" xref="S5.SS3.SSS4.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS3.SSS4.p6.2.m2.1.1.1.cmml" xref="S5.SS3.SSS4.p6.2.m2.1.1">subscript</csymbol><ci id="S5.SS3.SSS4.p6.2.m2.1.1.2.cmml" xref="S5.SS3.SSS4.p6.2.m2.1.1.2">𝒈</ci><ci id="S5.SS3.SSS4.p6.2.m2.1.1.3.cmml" xref="S5.SS3.SSS4.p6.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.SSS4.p6.2.m2.1c">\bm{g}_{s}</annotation><annotation encoding="application/x-llamapun" id="S5.SS3.SSS4.p6.2.m2.1d">bold_italic_g start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>, demonstrating its ability to accurately distinguish consumers with different price sensitivities. In contrast, the baseline methods WDL, DeepFM, xDeepFM, and AutoInt estimate similar treatment effects for different consumer groups, while C-FMF even provides estimates that contradicted the ideal case. The findings highlight the effectiveness of our proposed method in accurately capturing consumers’ underlying price sensitivities.</p>
</div>
<figure class="ltx_table" id="S5.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Treatment effects for consumers with different price sensitivity.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T2.28">
<tr class="ltx_tr" id="S5.T2.28.29">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S5.T2.28.29.1" rowspan="2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text" id="S5.T2.28.29.1.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="2" id="S5.T2.28.29.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_italic" id="S5.T2.28.29.2.1">-10%</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T2.28.29.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_italic" id="S5.T2.28.29.3.1">+10%</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.4.4">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\beta_{small}" class="ltx_Math" display="inline" id="S5.T2.1.1.1.m1.1"><semantics id="S5.T2.1.1.1.m1.1a"><msub id="S5.T2.1.1.1.m1.1.1" xref="S5.T2.1.1.1.m1.1.1.cmml"><mi id="S5.T2.1.1.1.m1.1.1.2" xref="S5.T2.1.1.1.m1.1.1.2.cmml">β</mi><mrow id="S5.T2.1.1.1.m1.1.1.3" xref="S5.T2.1.1.1.m1.1.1.3.cmml"><mi id="S5.T2.1.1.1.m1.1.1.3.2" xref="S5.T2.1.1.1.m1.1.1.3.2.cmml">s</mi><mo id="S5.T2.1.1.1.m1.1.1.3.1" xref="S5.T2.1.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.1.1.1.m1.1.1.3.3" xref="S5.T2.1.1.1.m1.1.1.3.3.cmml">m</mi><mo id="S5.T2.1.1.1.m1.1.1.3.1a" xref="S5.T2.1.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.1.1.1.m1.1.1.3.4" xref="S5.T2.1.1.1.m1.1.1.3.4.cmml">a</mi><mo id="S5.T2.1.1.1.m1.1.1.3.1b" xref="S5.T2.1.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.1.1.1.m1.1.1.3.5" xref="S5.T2.1.1.1.m1.1.1.3.5.cmml">l</mi><mo id="S5.T2.1.1.1.m1.1.1.3.1c" xref="S5.T2.1.1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.1.1.1.m1.1.1.3.6" xref="S5.T2.1.1.1.m1.1.1.3.6.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T2.1.1.1.m1.1b"><apply id="S5.T2.1.1.1.m1.1.1.cmml" xref="S5.T2.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S5.T2.1.1.1.m1.1.1.1.cmml" xref="S5.T2.1.1.1.m1.1.1">subscript</csymbol><ci id="S5.T2.1.1.1.m1.1.1.2.cmml" xref="S5.T2.1.1.1.m1.1.1.2">𝛽</ci><apply id="S5.T2.1.1.1.m1.1.1.3.cmml" xref="S5.T2.1.1.1.m1.1.1.3"><times id="S5.T2.1.1.1.m1.1.1.3.1.cmml" xref="S5.T2.1.1.1.m1.1.1.3.1"></times><ci id="S5.T2.1.1.1.m1.1.1.3.2.cmml" xref="S5.T2.1.1.1.m1.1.1.3.2">𝑠</ci><ci id="S5.T2.1.1.1.m1.1.1.3.3.cmml" xref="S5.T2.1.1.1.m1.1.1.3.3">𝑚</ci><ci id="S5.T2.1.1.1.m1.1.1.3.4.cmml" xref="S5.T2.1.1.1.m1.1.1.3.4">𝑎</ci><ci id="S5.T2.1.1.1.m1.1.1.3.5.cmml" xref="S5.T2.1.1.1.m1.1.1.3.5">𝑙</ci><ci id="S5.T2.1.1.1.m1.1.1.3.6.cmml" xref="S5.T2.1.1.1.m1.1.1.3.6">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.1.1.1.m1.1c">\beta_{small}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.1.1.1.m1.1d">italic_β start_POSTSUBSCRIPT italic_s italic_m italic_a italic_l italic_l end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.2.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\beta_{large}" class="ltx_Math" display="inline" id="S5.T2.2.2.2.m1.1"><semantics id="S5.T2.2.2.2.m1.1a"><msub id="S5.T2.2.2.2.m1.1.1" xref="S5.T2.2.2.2.m1.1.1.cmml"><mi id="S5.T2.2.2.2.m1.1.1.2" xref="S5.T2.2.2.2.m1.1.1.2.cmml">β</mi><mrow id="S5.T2.2.2.2.m1.1.1.3" xref="S5.T2.2.2.2.m1.1.1.3.cmml"><mi id="S5.T2.2.2.2.m1.1.1.3.2" xref="S5.T2.2.2.2.m1.1.1.3.2.cmml">l</mi><mo id="S5.T2.2.2.2.m1.1.1.3.1" xref="S5.T2.2.2.2.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.2.2.2.m1.1.1.3.3" xref="S5.T2.2.2.2.m1.1.1.3.3.cmml">a</mi><mo id="S5.T2.2.2.2.m1.1.1.3.1a" xref="S5.T2.2.2.2.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.2.2.2.m1.1.1.3.4" xref="S5.T2.2.2.2.m1.1.1.3.4.cmml">r</mi><mo id="S5.T2.2.2.2.m1.1.1.3.1b" xref="S5.T2.2.2.2.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.2.2.2.m1.1.1.3.5" xref="S5.T2.2.2.2.m1.1.1.3.5.cmml">g</mi><mo id="S5.T2.2.2.2.m1.1.1.3.1c" xref="S5.T2.2.2.2.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.2.2.2.m1.1.1.3.6" xref="S5.T2.2.2.2.m1.1.1.3.6.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T2.2.2.2.m1.1b"><apply id="S5.T2.2.2.2.m1.1.1.cmml" xref="S5.T2.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S5.T2.2.2.2.m1.1.1.1.cmml" xref="S5.T2.2.2.2.m1.1.1">subscript</csymbol><ci id="S5.T2.2.2.2.m1.1.1.2.cmml" xref="S5.T2.2.2.2.m1.1.1.2">𝛽</ci><apply id="S5.T2.2.2.2.m1.1.1.3.cmml" xref="S5.T2.2.2.2.m1.1.1.3"><times id="S5.T2.2.2.2.m1.1.1.3.1.cmml" xref="S5.T2.2.2.2.m1.1.1.3.1"></times><ci id="S5.T2.2.2.2.m1.1.1.3.2.cmml" xref="S5.T2.2.2.2.m1.1.1.3.2">𝑙</ci><ci id="S5.T2.2.2.2.m1.1.1.3.3.cmml" xref="S5.T2.2.2.2.m1.1.1.3.3">𝑎</ci><ci id="S5.T2.2.2.2.m1.1.1.3.4.cmml" xref="S5.T2.2.2.2.m1.1.1.3.4">𝑟</ci><ci id="S5.T2.2.2.2.m1.1.1.3.5.cmml" xref="S5.T2.2.2.2.m1.1.1.3.5">𝑔</ci><ci id="S5.T2.2.2.2.m1.1.1.3.6.cmml" xref="S5.T2.2.2.2.m1.1.1.3.6">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.2.2.2.m1.1c">\beta_{large}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.2.2.2.m1.1d">italic_β start_POSTSUBSCRIPT italic_l italic_a italic_r italic_g italic_e end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.3.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\beta_{small}" class="ltx_Math" display="inline" id="S5.T2.3.3.3.m1.1"><semantics id="S5.T2.3.3.3.m1.1a"><msub id="S5.T2.3.3.3.m1.1.1" xref="S5.T2.3.3.3.m1.1.1.cmml"><mi id="S5.T2.3.3.3.m1.1.1.2" xref="S5.T2.3.3.3.m1.1.1.2.cmml">β</mi><mrow id="S5.T2.3.3.3.m1.1.1.3" xref="S5.T2.3.3.3.m1.1.1.3.cmml"><mi id="S5.T2.3.3.3.m1.1.1.3.2" xref="S5.T2.3.3.3.m1.1.1.3.2.cmml">s</mi><mo id="S5.T2.3.3.3.m1.1.1.3.1" xref="S5.T2.3.3.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.3.3.3.m1.1.1.3.3" xref="S5.T2.3.3.3.m1.1.1.3.3.cmml">m</mi><mo id="S5.T2.3.3.3.m1.1.1.3.1a" xref="S5.T2.3.3.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.3.3.3.m1.1.1.3.4" xref="S5.T2.3.3.3.m1.1.1.3.4.cmml">a</mi><mo id="S5.T2.3.3.3.m1.1.1.3.1b" xref="S5.T2.3.3.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.3.3.3.m1.1.1.3.5" xref="S5.T2.3.3.3.m1.1.1.3.5.cmml">l</mi><mo id="S5.T2.3.3.3.m1.1.1.3.1c" xref="S5.T2.3.3.3.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.3.3.3.m1.1.1.3.6" xref="S5.T2.3.3.3.m1.1.1.3.6.cmml">l</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T2.3.3.3.m1.1b"><apply id="S5.T2.3.3.3.m1.1.1.cmml" xref="S5.T2.3.3.3.m1.1.1"><csymbol cd="ambiguous" id="S5.T2.3.3.3.m1.1.1.1.cmml" xref="S5.T2.3.3.3.m1.1.1">subscript</csymbol><ci id="S5.T2.3.3.3.m1.1.1.2.cmml" xref="S5.T2.3.3.3.m1.1.1.2">𝛽</ci><apply id="S5.T2.3.3.3.m1.1.1.3.cmml" xref="S5.T2.3.3.3.m1.1.1.3"><times id="S5.T2.3.3.3.m1.1.1.3.1.cmml" xref="S5.T2.3.3.3.m1.1.1.3.1"></times><ci id="S5.T2.3.3.3.m1.1.1.3.2.cmml" xref="S5.T2.3.3.3.m1.1.1.3.2">𝑠</ci><ci id="S5.T2.3.3.3.m1.1.1.3.3.cmml" xref="S5.T2.3.3.3.m1.1.1.3.3">𝑚</ci><ci id="S5.T2.3.3.3.m1.1.1.3.4.cmml" xref="S5.T2.3.3.3.m1.1.1.3.4">𝑎</ci><ci id="S5.T2.3.3.3.m1.1.1.3.5.cmml" xref="S5.T2.3.3.3.m1.1.1.3.5">𝑙</ci><ci id="S5.T2.3.3.3.m1.1.1.3.6.cmml" xref="S5.T2.3.3.3.m1.1.1.3.6">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.3.3.3.m1.1c">\beta_{small}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.3.3.3.m1.1d">italic_β start_POSTSUBSCRIPT italic_s italic_m italic_a italic_l italic_l end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T2.4.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><math alttext="\beta_{large}" class="ltx_Math" display="inline" id="S5.T2.4.4.4.m1.1"><semantics id="S5.T2.4.4.4.m1.1a"><msub id="S5.T2.4.4.4.m1.1.1" xref="S5.T2.4.4.4.m1.1.1.cmml"><mi id="S5.T2.4.4.4.m1.1.1.2" xref="S5.T2.4.4.4.m1.1.1.2.cmml">β</mi><mrow id="S5.T2.4.4.4.m1.1.1.3" xref="S5.T2.4.4.4.m1.1.1.3.cmml"><mi id="S5.T2.4.4.4.m1.1.1.3.2" xref="S5.T2.4.4.4.m1.1.1.3.2.cmml">l</mi><mo id="S5.T2.4.4.4.m1.1.1.3.1" xref="S5.T2.4.4.4.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.4.4.4.m1.1.1.3.3" xref="S5.T2.4.4.4.m1.1.1.3.3.cmml">a</mi><mo id="S5.T2.4.4.4.m1.1.1.3.1a" xref="S5.T2.4.4.4.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.4.4.4.m1.1.1.3.4" xref="S5.T2.4.4.4.m1.1.1.3.4.cmml">r</mi><mo id="S5.T2.4.4.4.m1.1.1.3.1b" xref="S5.T2.4.4.4.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.4.4.4.m1.1.1.3.5" xref="S5.T2.4.4.4.m1.1.1.3.5.cmml">g</mi><mo id="S5.T2.4.4.4.m1.1.1.3.1c" xref="S5.T2.4.4.4.m1.1.1.3.1.cmml">⁢</mo><mi id="S5.T2.4.4.4.m1.1.1.3.6" xref="S5.T2.4.4.4.m1.1.1.3.6.cmml">e</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.T2.4.4.4.m1.1b"><apply id="S5.T2.4.4.4.m1.1.1.cmml" xref="S5.T2.4.4.4.m1.1.1"><csymbol cd="ambiguous" id="S5.T2.4.4.4.m1.1.1.1.cmml" xref="S5.T2.4.4.4.m1.1.1">subscript</csymbol><ci id="S5.T2.4.4.4.m1.1.1.2.cmml" xref="S5.T2.4.4.4.m1.1.1.2">𝛽</ci><apply id="S5.T2.4.4.4.m1.1.1.3.cmml" xref="S5.T2.4.4.4.m1.1.1.3"><times id="S5.T2.4.4.4.m1.1.1.3.1.cmml" xref="S5.T2.4.4.4.m1.1.1.3.1"></times><ci id="S5.T2.4.4.4.m1.1.1.3.2.cmml" xref="S5.T2.4.4.4.m1.1.1.3.2">𝑙</ci><ci id="S5.T2.4.4.4.m1.1.1.3.3.cmml" xref="S5.T2.4.4.4.m1.1.1.3.3">𝑎</ci><ci id="S5.T2.4.4.4.m1.1.1.3.4.cmml" xref="S5.T2.4.4.4.m1.1.1.3.4">𝑟</ci><ci id="S5.T2.4.4.4.m1.1.1.3.5.cmml" xref="S5.T2.4.4.4.m1.1.1.3.5">𝑔</ci><ci id="S5.T2.4.4.4.m1.1.1.3.6.cmml" xref="S5.T2.4.4.4.m1.1.1.3.6">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.4.4.4.m1.1c">\beta_{large}</annotation><annotation encoding="application/x-llamapun" id="S5.T2.4.4.4.m1.1d">italic_β start_POSTSUBSCRIPT italic_l italic_a italic_r italic_g italic_e end_POSTSUBSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S5.T2.8.8">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T2.8.8.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">WDL</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.5.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">-5.68 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.5.5.1.m1.1"><semantics id="S5.T2.5.5.1.m1.1a"><mo id="S5.T2.5.5.1.m1.1.1" xref="S5.T2.5.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.5.5.1.m1.1b"><csymbol cd="latexml" id="S5.T2.5.5.1.m1.1.1.cmml" xref="S5.T2.5.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.5.5.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.5.5.1.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T2.6.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-5.71 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.6.6.2.m1.1"><semantics id="S5.T2.6.6.2.m1.1a"><mo id="S5.T2.6.6.2.m1.1.1" xref="S5.T2.6.6.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.6.6.2.m1.1b"><csymbol cd="latexml" id="S5.T2.6.6.2.m1.1.1.cmml" xref="S5.T2.6.6.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.6.6.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.6.6.2.m1.1d">±</annotation></semantics></math> 0.00)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.7.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.75 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.7.7.3.m1.1"><semantics id="S5.T2.7.7.3.m1.1a"><mo id="S5.T2.7.7.3.m1.1.1" xref="S5.T2.7.7.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.7.7.3.m1.1b"><csymbol cd="latexml" id="S5.T2.7.7.3.m1.1.1.cmml" xref="S5.T2.7.7.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.7.7.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.7.7.3.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T2.8.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.78 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.8.8.4.m1.1"><semantics id="S5.T2.8.8.4.m1.1a"><mo id="S5.T2.8.8.4.m1.1.1" xref="S5.T2.8.8.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.8.8.4.m1.1b"><csymbol cd="latexml" id="S5.T2.8.8.4.m1.1.1.cmml" xref="S5.T2.8.8.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.8.8.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.8.8.4.m1.1d">±</annotation></semantics></math> 0.00)</td>
</tr>
<tr class="ltx_tr" id="S5.T2.12.12">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.12.12.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">DeepFM</td>
<td class="ltx_td ltx_align_center" id="S5.T2.9.9.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">-6.27 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.9.9.1.m1.1"><semantics id="S5.T2.9.9.1.m1.1a"><mo id="S5.T2.9.9.1.m1.1.1" xref="S5.T2.9.9.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.9.9.1.m1.1b"><csymbol cd="latexml" id="S5.T2.9.9.1.m1.1.1.cmml" xref="S5.T2.9.9.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.9.9.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.9.9.1.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.10.10.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-6.22 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.10.10.2.m1.1"><semantics id="S5.T2.10.10.2.m1.1a"><mo id="S5.T2.10.10.2.m1.1.1" xref="S5.T2.10.10.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.10.10.2.m1.1b"><csymbol cd="latexml" id="S5.T2.10.10.2.m1.1.1.cmml" xref="S5.T2.10.10.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.10.10.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.10.10.2.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_align_center" id="S5.T2.11.11.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.12 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.11.11.3.m1.1"><semantics id="S5.T2.11.11.3.m1.1a"><mo id="S5.T2.11.11.3.m1.1.1" xref="S5.T2.11.11.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.11.11.3.m1.1b"><csymbol cd="latexml" id="S5.T2.11.11.3.m1.1.1.cmml" xref="S5.T2.11.11.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.11.11.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.11.11.3.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.12.12.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.25 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.12.12.4.m1.1"><semantics id="S5.T2.12.12.4.m1.1a"><mo id="S5.T2.12.12.4.m1.1.1" xref="S5.T2.12.12.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.12.12.4.m1.1b"><csymbol cd="latexml" id="S5.T2.12.12.4.m1.1.1.cmml" xref="S5.T2.12.12.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.12.12.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.12.12.4.m1.1d">±</annotation></semantics></math> 0.01)</td>
</tr>
<tr class="ltx_tr" id="S5.T2.16.16">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.16.16.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">xDeepFM</td>
<td class="ltx_td ltx_align_center" id="S5.T2.13.13.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.76 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.13.13.1.m1.1"><semantics id="S5.T2.13.13.1.m1.1a"><mo id="S5.T2.13.13.1.m1.1.1" xref="S5.T2.13.13.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.13.13.1.m1.1b"><csymbol cd="latexml" id="S5.T2.13.13.1.m1.1.1.cmml" xref="S5.T2.13.13.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.13.13.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.13.13.1.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.14.14.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.75 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.14.14.2.m1.1"><semantics id="S5.T2.14.14.2.m1.1a"><mo id="S5.T2.14.14.2.m1.1.1" xref="S5.T2.14.14.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.14.14.2.m1.1b"><csymbol cd="latexml" id="S5.T2.14.14.2.m1.1.1.cmml" xref="S5.T2.14.14.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.14.14.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.14.14.2.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_align_center" id="S5.T2.15.15.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">-0.75 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.15.15.3.m1.1"><semantics id="S5.T2.15.15.3.m1.1a"><mo id="S5.T2.15.15.3.m1.1.1" xref="S5.T2.15.15.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.15.15.3.m1.1b"><csymbol cd="latexml" id="S5.T2.15.15.3.m1.1.1.cmml" xref="S5.T2.15.15.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.15.15.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.15.15.3.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.16.16.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">-0.76 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.16.16.4.m1.1"><semantics id="S5.T2.16.16.4.m1.1a"><mo id="S5.T2.16.16.4.m1.1.1" xref="S5.T2.16.16.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.16.16.4.m1.1b"><csymbol cd="latexml" id="S5.T2.16.16.4.m1.1.1.cmml" xref="S5.T2.16.16.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.16.16.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.16.16.4.m1.1d">±</annotation></semantics></math> 0.01)</td>
</tr>
<tr class="ltx_tr" id="S5.T2.20.20">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.20.20.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">AutoInt</td>
<td class="ltx_td ltx_align_center" id="S5.T2.17.17.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">-5.15 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.17.17.1.m1.1"><semantics id="S5.T2.17.17.1.m1.1a"><mo id="S5.T2.17.17.1.m1.1.1" xref="S5.T2.17.17.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.17.17.1.m1.1b"><csymbol cd="latexml" id="S5.T2.17.17.1.m1.1.1.cmml" xref="S5.T2.17.17.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.17.17.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.17.17.1.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.18.18.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-5.18 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.18.18.2.m1.1"><semantics id="S5.T2.18.18.2.m1.1a"><mo id="S5.T2.18.18.2.m1.1.1" xref="S5.T2.18.18.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.18.18.2.m1.1b"><csymbol cd="latexml" id="S5.T2.18.18.2.m1.1.1.cmml" xref="S5.T2.18.18.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.18.18.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.18.18.2.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_align_center" id="S5.T2.19.19.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.28 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.19.19.3.m1.1"><semantics id="S5.T2.19.19.3.m1.1a"><mo id="S5.T2.19.19.3.m1.1.1" xref="S5.T2.19.19.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.19.19.3.m1.1b"><csymbol cd="latexml" id="S5.T2.19.19.3.m1.1.1.cmml" xref="S5.T2.19.19.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.19.19.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.19.19.3.m1.1d">±</annotation></semantics></math> 0.01)</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.20.20.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">5.31 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.20.20.4.m1.1"><semantics id="S5.T2.20.20.4.m1.1a"><mo id="S5.T2.20.20.4.m1.1.1" xref="S5.T2.20.20.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.20.20.4.m1.1b"><csymbol cd="latexml" id="S5.T2.20.20.4.m1.1.1.cmml" xref="S5.T2.20.20.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.20.20.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.20.20.4.m1.1d">±</annotation></semantics></math> 0.00)</td>
</tr>
<tr class="ltx_tr" id="S5.T2.24.24">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T2.24.24.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">C-FMF</td>
<td class="ltx_td ltx_align_center" id="S5.T2.21.21.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">-22.55 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.21.21.1.m1.1"><semantics id="S5.T2.21.21.1.m1.1a"><mo id="S5.T2.21.21.1.m1.1.1" xref="S5.T2.21.21.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.21.21.1.m1.1b"><csymbol cd="latexml" id="S5.T2.21.21.1.m1.1.1.cmml" xref="S5.T2.21.21.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.21.21.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.21.21.1.m1.1d">±</annotation></semantics></math> 0.92)</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T2.22.22.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">-14.28 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.22.22.2.m1.1"><semantics id="S5.T2.22.22.2.m1.1a"><mo id="S5.T2.22.22.2.m1.1.1" xref="S5.T2.22.22.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.22.22.2.m1.1b"><csymbol cd="latexml" id="S5.T2.22.22.2.m1.1.1.cmml" xref="S5.T2.22.22.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.22.22.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.22.22.2.m1.1d">±</annotation></semantics></math> 0.14)</td>
<td class="ltx_td ltx_align_center" id="S5.T2.23.23.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">22.45 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.23.23.3.m1.1"><semantics id="S5.T2.23.23.3.m1.1a"><mo id="S5.T2.23.23.3.m1.1.1" xref="S5.T2.23.23.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.23.23.3.m1.1b"><csymbol cd="latexml" id="S5.T2.23.23.3.m1.1.1.cmml" xref="S5.T2.23.23.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.23.23.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.23.23.3.m1.1d">±</annotation></semantics></math> 0.42)</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T2.24.24.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">14.23 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.24.24.4.m1.1"><semantics id="S5.T2.24.24.4.m1.1a"><mo id="S5.T2.24.24.4.m1.1.1" xref="S5.T2.24.24.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.24.24.4.m1.1b"><csymbol cd="latexml" id="S5.T2.24.24.4.m1.1.1.cmml" xref="S5.T2.24.24.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.24.24.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.24.24.4.m1.1d">±</annotation></semantics></math> 0.17)</td>
</tr>
<tr class="ltx_tr" id="S5.T2.28.28">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S5.T2.28.28.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">ArcRec</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.25.25.1" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.25.25.1.1">-14.50 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.25.25.1.1.m1.1"><semantics id="S5.T2.25.25.1.1.m1.1a"><mo id="S5.T2.25.25.1.1.m1.1.1" xref="S5.T2.25.25.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.25.25.1.1.m1.1b"><csymbol cd="latexml" id="S5.T2.25.25.1.1.m1.1.1.cmml" xref="S5.T2.25.25.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.25.25.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.25.25.1.1.m1.1d">±</annotation></semantics></math> 1.06)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S5.T2.26.26.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.26.26.2.1">-20.51 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.26.26.2.1.m1.1"><semantics id="S5.T2.26.26.2.1.m1.1a"><mo id="S5.T2.26.26.2.1.m1.1.1" xref="S5.T2.26.26.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.26.26.2.1.m1.1b"><csymbol cd="latexml" id="S5.T2.26.26.2.1.m1.1.1.cmml" xref="S5.T2.26.26.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.26.26.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.26.26.2.1.m1.1d">±</annotation></semantics></math> 0.45)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.27.27.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.27.27.3.1">14.10 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.27.27.3.1.m1.1"><semantics id="S5.T2.27.27.3.1.m1.1a"><mo id="S5.T2.27.27.3.1.m1.1.1" xref="S5.T2.27.27.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.27.27.3.1.m1.1b"><csymbol cd="latexml" id="S5.T2.27.27.3.1.m1.1.1.cmml" xref="S5.T2.27.27.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.27.27.3.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.27.27.3.1.m1.1d">±</annotation></semantics></math> 1.02)</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="S5.T2.28.28.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T2.28.28.4.1">19.42 (<math alttext="\pm" class="ltx_Math" display="inline" id="S5.T2.28.28.4.1.m1.1"><semantics id="S5.T2.28.28.4.1.m1.1a"><mo id="S5.T2.28.28.4.1.m1.1.1" xref="S5.T2.28.28.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T2.28.28.4.1.m1.1b"><csymbol cd="latexml" id="S5.T2.28.28.4.1.m1.1.1.cmml" xref="S5.T2.28.28.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.28.28.4.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S5.T2.28.28.4.1.m1.1d">±</annotation></semantics></math> 0.44)</span></td>
</tr>
</table>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Empirical Evaluations on Real-world Data</h3>
<section class="ltx_subsubsection" id="S5.SS4.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.1 </span>Data Description.</h4>
<div class="ltx_para" id="S5.SS4.SSS1.p1">
<p class="ltx_p" id="S5.SS4.SSS1.p1.1">We further validate the performances of our model using a real-world dataset named <span class="ltx_text ltx_font_italic" id="S5.SS4.SSS1.p1.1.1">Cosmetics</span>, which is collected from an online cosmetic store in Taobao, one of the largest e-commerce platforms in China. The dataset comprises two data sources: consumer transaction data and basic product information. The transaction data contains the products a consumer bought in each transaction. The product information includes product attributes such as the retailing price, brand, category and size. These products are mainly skin care and make-up products including facial cleansers, facial masks, lotion, perfume, etc. We use brand, category and size as attributes to construct the ARNs. The detailed statistics of <span class="ltx_text ltx_font_italic" id="S5.SS4.SSS1.p1.1.2">Cosmetics</span> are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T3" title="Table 3 ‣ 5.4.1 Data Description. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">3</span></a>.</p>
</div>
<figure class="ltx_table" id="S5.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Description of Cosmetics dataset.</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T3.1" style="width:424.9pt;height:34.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-7.7pt,0.6pt) scale(0.965052607883769,0.965052607883769) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T3.1.1">
<tr class="ltx_tr" id="S5.T3.1.1.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.1.1" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.1.1.1" style="font-size:80%;">Dataset</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.1.2" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.1.2.1" style="font-size:80%;"># of Consumers</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.1.3" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.1.3.1" style="font-size:80%;"># of Products</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.1.4" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.1.4.1" style="font-size:80%;"># Interactions</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T3.1.1.1.5" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.1.5.1" style="font-size:80%;">Attributes</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T3.1.1.1.6" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.1.6.1" style="font-size:80%;"># Types of Attributes</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S5.T3.1.1.2.1" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.2.1.1" style="font-size:80%;">Cosmetics</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S5.T3.1.1.2.2" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.2.2.1" style="font-size:80%;">17,590</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S5.T3.1.1.2.3" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.2.3.1" style="font-size:80%;">6,989</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S5.T3.1.1.2.4" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.2.4.1" style="font-size:80%;">204,407</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S5.T3.1.1.2.5" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.2.5.1" style="font-size:80%;">Brand, category, size, price</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T3.1.1.2.6" style="padding-top:0.2pt;padding-bottom:0.2pt;"><span class="ltx_text" id="S5.T3.1.1.2.6.1" style="font-size:80%;">3</span></td>
</tr>
</table>
</span></div>
</figure>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.2 </span>Experimental Setup.</h4>
<div class="ltx_para" id="S5.SS4.SSS2.p1">
<p class="ltx_p" id="S5.SS4.SSS2.p1.1">An important difference from the simulation study is that the ground truth utility remains unknown in the real-world scenarios. Hence, both the proposed method ArcRec and the baseline methods are evaluated by following the standard evaluation protocol for recommendation with implicit feedbacks, i.e., leave-last-one-out strategy <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib31" title="">2017</a>, Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib40" title="">2018</a>, Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib56" title="">2021</a>)</cite>. To be specific, we hold-out the last purchased product of a consumer and the other remaining purchased products are used for training and validation. Then, the left one product is mixed with all the other non-purchased products to form the test set. The model evaluates the utility score for each product in the test set and ranks all products according to the estimated scores.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS2.p2">
<p class="ltx_p" id="S5.SS4.SSS2.p2.9">Given the rank of the candidate products according to the estimated scores, we firstly adopt the commonly used measurement hit ratio (HR) to evaluate how likely the recommended products would be actually purchased by the consumers. Formally, for each consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.1.m1.1"><semantics id="S5.SS4.SSS2.p2.1.m1.1a"><mi id="S5.SS4.SSS2.p2.1.m1.1.1" xref="S5.SS4.SSS2.p2.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.1.m1.1b"><ci id="S5.SS4.SSS2.p2.1.m1.1.1.cmml" xref="S5.SS4.SSS2.p2.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.1.m1.1d">italic_u</annotation></semantics></math>, a product <math alttext="i" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.2.m2.1"><semantics id="S5.SS4.SSS2.p2.2.m2.1a"><mi id="S5.SS4.SSS2.p2.2.m2.1.1" xref="S5.SS4.SSS2.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.2.m2.1b"><ci id="S5.SS4.SSS2.p2.2.m2.1.1.cmml" xref="S5.SS4.SSS2.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.2.m2.1d">italic_i</annotation></semantics></math> is masked as the testing sample, and the top-<math alttext="K" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.3.m3.1"><semantics id="S5.SS4.SSS2.p2.3.m3.1a"><mi id="S5.SS4.SSS2.p2.3.m3.1.1" xref="S5.SS4.SSS2.p2.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.3.m3.1b"><ci id="S5.SS4.SSS2.p2.3.m3.1.1.cmml" xref="S5.SS4.SSS2.p2.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.3.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.3.m3.1d">italic_K</annotation></semantics></math> product list <math alttext="\mathbf{N}_{u}^{K}" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.4.m4.1"><semantics id="S5.SS4.SSS2.p2.4.m4.1a"><msubsup id="S5.SS4.SSS2.p2.4.m4.1.1" xref="S5.SS4.SSS2.p2.4.m4.1.1.cmml"><mi id="S5.SS4.SSS2.p2.4.m4.1.1.2.2" xref="S5.SS4.SSS2.p2.4.m4.1.1.2.2.cmml">𝐍</mi><mi id="S5.SS4.SSS2.p2.4.m4.1.1.2.3" xref="S5.SS4.SSS2.p2.4.m4.1.1.2.3.cmml">u</mi><mi id="S5.SS4.SSS2.p2.4.m4.1.1.3" xref="S5.SS4.SSS2.p2.4.m4.1.1.3.cmml">K</mi></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.4.m4.1b"><apply id="S5.SS4.SSS2.p2.4.m4.1.1.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS4.SSS2.p2.4.m4.1.1.1.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1">superscript</csymbol><apply id="S5.SS4.SSS2.p2.4.m4.1.1.2.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS4.SSS2.p2.4.m4.1.1.2.1.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS4.SSS2.p2.4.m4.1.1.2.2.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1.2.2">𝐍</ci><ci id="S5.SS4.SSS2.p2.4.m4.1.1.2.3.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1.2.3">𝑢</ci></apply><ci id="S5.SS4.SSS2.p2.4.m4.1.1.3.cmml" xref="S5.SS4.SSS2.p2.4.m4.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.4.m4.1c">\mathbf{N}_{u}^{K}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.4.m4.1d">bold_N start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT</annotation></semantics></math> is recommended. The hit ratio can be measured by an indicator function, <math alttext="g_{u}=\mathbb{I}(i\in\mathbf{N}_{u}^{K})" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.5.m5.1"><semantics id="S5.SS4.SSS2.p2.5.m5.1a"><mrow id="S5.SS4.SSS2.p2.5.m5.1.1" xref="S5.SS4.SSS2.p2.5.m5.1.1.cmml"><msub id="S5.SS4.SSS2.p2.5.m5.1.1.3" xref="S5.SS4.SSS2.p2.5.m5.1.1.3.cmml"><mi id="S5.SS4.SSS2.p2.5.m5.1.1.3.2" xref="S5.SS4.SSS2.p2.5.m5.1.1.3.2.cmml">g</mi><mi id="S5.SS4.SSS2.p2.5.m5.1.1.3.3" xref="S5.SS4.SSS2.p2.5.m5.1.1.3.3.cmml">u</mi></msub><mo id="S5.SS4.SSS2.p2.5.m5.1.1.2" xref="S5.SS4.SSS2.p2.5.m5.1.1.2.cmml">=</mo><mrow id="S5.SS4.SSS2.p2.5.m5.1.1.1" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.cmml"><mi id="S5.SS4.SSS2.p2.5.m5.1.1.1.3" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.3.cmml">𝕀</mi><mo id="S5.SS4.SSS2.p2.5.m5.1.1.1.2" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.2.cmml">⁢</mo><mrow id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.cmml"><mo id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.2" stretchy="false" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.cmml"><mi id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.2" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.2.cmml">i</mi><mo id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.1" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.1.cmml">∈</mo><msubsup id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.cmml"><mi id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.2" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.2.cmml">𝐍</mi><mi id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.3" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.3.cmml">u</mi><mi id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.3" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.3.cmml">K</mi></msubsup></mrow><mo id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.3" stretchy="false" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.5.m5.1b"><apply id="S5.SS4.SSS2.p2.5.m5.1.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1"><eq id="S5.SS4.SSS2.p2.5.m5.1.1.2.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.2"></eq><apply id="S5.SS4.SSS2.p2.5.m5.1.1.3.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.SSS2.p2.5.m5.1.1.3.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.3">subscript</csymbol><ci id="S5.SS4.SSS2.p2.5.m5.1.1.3.2.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.3.2">𝑔</ci><ci id="S5.SS4.SSS2.p2.5.m5.1.1.3.3.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.3.3">𝑢</ci></apply><apply id="S5.SS4.SSS2.p2.5.m5.1.1.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1"><times id="S5.SS4.SSS2.p2.5.m5.1.1.1.2.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.2"></times><ci id="S5.SS4.SSS2.p2.5.m5.1.1.1.3.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.3">𝕀</ci><apply id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1"><in id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.1"></in><ci id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.2.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.2">𝑖</ci><apply id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3">superscript</csymbol><apply id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.1.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.2.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.2">𝐍</ci><ci id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.3.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.2.3">𝑢</ci></apply><ci id="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.3.cmml" xref="S5.SS4.SSS2.p2.5.m5.1.1.1.1.1.1.3.3">𝐾</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.5.m5.1c">g_{u}=\mathbb{I}(i\in\mathbf{N}_{u}^{K})</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.5.m5.1d">italic_g start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = blackboard_I ( italic_i ∈ bold_N start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT )</annotation></semantics></math>, and the metric <math alttext="\text{HR}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.6.m6.1"><semantics id="S5.SS4.SSS2.p2.6.m6.1a"><mrow id="S5.SS4.SSS2.p2.6.m6.1.1" xref="S5.SS4.SSS2.p2.6.m6.1.1.cmml"><mtext id="S5.SS4.SSS2.p2.6.m6.1.1.2" xref="S5.SS4.SSS2.p2.6.m6.1.1.2a.cmml">HR</mtext><mo id="S5.SS4.SSS2.p2.6.m6.1.1.1" xref="S5.SS4.SSS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p2.6.m6.1.1.3" mathvariant="normal" xref="S5.SS4.SSS2.p2.6.m6.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS2.p2.6.m6.1.1.1a" xref="S5.SS4.SSS2.p2.6.m6.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p2.6.m6.1.1.4" xref="S5.SS4.SSS2.p2.6.m6.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.6.m6.1b"><apply id="S5.SS4.SSS2.p2.6.m6.1.1.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1"><times id="S5.SS4.SSS2.p2.6.m6.1.1.1.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1.1"></times><ci id="S5.SS4.SSS2.p2.6.m6.1.1.2a.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1.2"><mtext id="S5.SS4.SSS2.p2.6.m6.1.1.2.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1.2">HR</mtext></ci><ci id="S5.SS4.SSS2.p2.6.m6.1.1.3.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1.3">@</ci><ci id="S5.SS4.SSS2.p2.6.m6.1.1.4.cmml" xref="S5.SS4.SSS2.p2.6.m6.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.6.m6.1c">\text{HR}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.6.m6.1d">HR @ italic_K</annotation></semantics></math> can be computed in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.E21" title="In 5.4.2 Experimental Setup. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">21</span></a>). Note that since we only have one single testing product for each consumer, <math alttext="\text{HR}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.7.m7.1"><semantics id="S5.SS4.SSS2.p2.7.m7.1a"><mrow id="S5.SS4.SSS2.p2.7.m7.1.1" xref="S5.SS4.SSS2.p2.7.m7.1.1.cmml"><mtext id="S5.SS4.SSS2.p2.7.m7.1.1.2" xref="S5.SS4.SSS2.p2.7.m7.1.1.2a.cmml">HR</mtext><mo id="S5.SS4.SSS2.p2.7.m7.1.1.1" xref="S5.SS4.SSS2.p2.7.m7.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p2.7.m7.1.1.3" mathvariant="normal" xref="S5.SS4.SSS2.p2.7.m7.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS2.p2.7.m7.1.1.1a" xref="S5.SS4.SSS2.p2.7.m7.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p2.7.m7.1.1.4" xref="S5.SS4.SSS2.p2.7.m7.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.7.m7.1b"><apply id="S5.SS4.SSS2.p2.7.m7.1.1.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1"><times id="S5.SS4.SSS2.p2.7.m7.1.1.1.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1.1"></times><ci id="S5.SS4.SSS2.p2.7.m7.1.1.2a.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1.2"><mtext id="S5.SS4.SSS2.p2.7.m7.1.1.2.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1.2">HR</mtext></ci><ci id="S5.SS4.SSS2.p2.7.m7.1.1.3.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1.3">@</ci><ci id="S5.SS4.SSS2.p2.7.m7.1.1.4.cmml" xref="S5.SS4.SSS2.p2.7.m7.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.7.m7.1c">\text{HR}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.7.m7.1d">HR @ italic_K</annotation></semantics></math> is equivalent to <math alttext="\text{Recall}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.8.m8.1"><semantics id="S5.SS4.SSS2.p2.8.m8.1a"><mrow id="S5.SS4.SSS2.p2.8.m8.1.1" xref="S5.SS4.SSS2.p2.8.m8.1.1.cmml"><mtext id="S5.SS4.SSS2.p2.8.m8.1.1.2" xref="S5.SS4.SSS2.p2.8.m8.1.1.2a.cmml">Recall</mtext><mo id="S5.SS4.SSS2.p2.8.m8.1.1.1" xref="S5.SS4.SSS2.p2.8.m8.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p2.8.m8.1.1.3" mathvariant="normal" xref="S5.SS4.SSS2.p2.8.m8.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS2.p2.8.m8.1.1.1a" xref="S5.SS4.SSS2.p2.8.m8.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p2.8.m8.1.1.4" xref="S5.SS4.SSS2.p2.8.m8.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.8.m8.1b"><apply id="S5.SS4.SSS2.p2.8.m8.1.1.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1"><times id="S5.SS4.SSS2.p2.8.m8.1.1.1.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1.1"></times><ci id="S5.SS4.SSS2.p2.8.m8.1.1.2a.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1.2"><mtext id="S5.SS4.SSS2.p2.8.m8.1.1.2.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1.2">Recall</mtext></ci><ci id="S5.SS4.SSS2.p2.8.m8.1.1.3.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1.3">@</ci><ci id="S5.SS4.SSS2.p2.8.m8.1.1.4.cmml" xref="S5.SS4.SSS2.p2.8.m8.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.8.m8.1c">\text{Recall}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.8.m8.1d">Recall @ italic_K</annotation></semantics></math> and is also proportional to <math alttext="\text{Precision}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p2.9.m9.1"><semantics id="S5.SS4.SSS2.p2.9.m9.1a"><mrow id="S5.SS4.SSS2.p2.9.m9.1.1" xref="S5.SS4.SSS2.p2.9.m9.1.1.cmml"><mtext id="S5.SS4.SSS2.p2.9.m9.1.1.2" xref="S5.SS4.SSS2.p2.9.m9.1.1.2a.cmml">Precision</mtext><mo id="S5.SS4.SSS2.p2.9.m9.1.1.1" xref="S5.SS4.SSS2.p2.9.m9.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p2.9.m9.1.1.3" mathvariant="normal" xref="S5.SS4.SSS2.p2.9.m9.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS2.p2.9.m9.1.1.1a" xref="S5.SS4.SSS2.p2.9.m9.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p2.9.m9.1.1.4" xref="S5.SS4.SSS2.p2.9.m9.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p2.9.m9.1b"><apply id="S5.SS4.SSS2.p2.9.m9.1.1.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1"><times id="S5.SS4.SSS2.p2.9.m9.1.1.1.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1.1"></times><ci id="S5.SS4.SSS2.p2.9.m9.1.1.2a.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1.2"><mtext id="S5.SS4.SSS2.p2.9.m9.1.1.2.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1.2">Precision</mtext></ci><ci id="S5.SS4.SSS2.p2.9.m9.1.1.3.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1.3">@</ci><ci id="S5.SS4.SSS2.p2.9.m9.1.1.4.cmml" xref="S5.SS4.SSS2.p2.9.m9.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p2.9.m9.1c">\text{Precision}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p2.9.m9.1d">Precision @ italic_K</annotation></semantics></math>, so we only present the hit ratio results.</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E21">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{HR}@K=\frac{\sum_{u\in\mathcal{U}}\mathbb{I}(i\in\mathbf{N}_{u}^{K})}{|%
\mathcal{U}|}." class="ltx_Math" display="block" id="S5.E21.m1.3"><semantics id="S5.E21.m1.3a"><mrow id="S5.E21.m1.3.3.1" xref="S5.E21.m1.3.3.1.1.cmml"><mrow id="S5.E21.m1.3.3.1.1" xref="S5.E21.m1.3.3.1.1.cmml"><mrow id="S5.E21.m1.3.3.1.1.2" xref="S5.E21.m1.3.3.1.1.2.cmml"><mtext id="S5.E21.m1.3.3.1.1.2.2" xref="S5.E21.m1.3.3.1.1.2.2a.cmml">HR</mtext><mo id="S5.E21.m1.3.3.1.1.2.1" xref="S5.E21.m1.3.3.1.1.2.1.cmml">⁢</mo><mi id="S5.E21.m1.3.3.1.1.2.3" mathvariant="normal" xref="S5.E21.m1.3.3.1.1.2.3.cmml">@</mi><mo id="S5.E21.m1.3.3.1.1.2.1a" xref="S5.E21.m1.3.3.1.1.2.1.cmml">⁢</mo><mi id="S5.E21.m1.3.3.1.1.2.4" xref="S5.E21.m1.3.3.1.1.2.4.cmml">K</mi></mrow><mo id="S5.E21.m1.3.3.1.1.1" xref="S5.E21.m1.3.3.1.1.1.cmml">=</mo><mfrac id="S5.E21.m1.2.2" xref="S5.E21.m1.2.2.cmml"><mrow id="S5.E21.m1.1.1.1" xref="S5.E21.m1.1.1.1.cmml"><msub id="S5.E21.m1.1.1.1.2" xref="S5.E21.m1.1.1.1.2.cmml"><mo id="S5.E21.m1.1.1.1.2.2" xref="S5.E21.m1.1.1.1.2.2.cmml">∑</mo><mrow id="S5.E21.m1.1.1.1.2.3" xref="S5.E21.m1.1.1.1.2.3.cmml"><mi id="S5.E21.m1.1.1.1.2.3.2" xref="S5.E21.m1.1.1.1.2.3.2.cmml">u</mi><mo id="S5.E21.m1.1.1.1.2.3.1" xref="S5.E21.m1.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E21.m1.1.1.1.2.3.3" xref="S5.E21.m1.1.1.1.2.3.3.cmml">𝒰</mi></mrow></msub><mrow id="S5.E21.m1.1.1.1.1" xref="S5.E21.m1.1.1.1.1.cmml"><mi id="S5.E21.m1.1.1.1.1.3" xref="S5.E21.m1.1.1.1.1.3.cmml">𝕀</mi><mo id="S5.E21.m1.1.1.1.1.2" xref="S5.E21.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E21.m1.1.1.1.1.1.1" xref="S5.E21.m1.1.1.1.1.1.1.1.cmml"><mo id="S5.E21.m1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E21.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E21.m1.1.1.1.1.1.1.1" xref="S5.E21.m1.1.1.1.1.1.1.1.cmml"><mi id="S5.E21.m1.1.1.1.1.1.1.1.2" xref="S5.E21.m1.1.1.1.1.1.1.1.2.cmml">i</mi><mo id="S5.E21.m1.1.1.1.1.1.1.1.1" xref="S5.E21.m1.1.1.1.1.1.1.1.1.cmml">∈</mo><msubsup id="S5.E21.m1.1.1.1.1.1.1.1.3" xref="S5.E21.m1.1.1.1.1.1.1.1.3.cmml"><mi id="S5.E21.m1.1.1.1.1.1.1.1.3.2.2" xref="S5.E21.m1.1.1.1.1.1.1.1.3.2.2.cmml">𝐍</mi><mi id="S5.E21.m1.1.1.1.1.1.1.1.3.2.3" xref="S5.E21.m1.1.1.1.1.1.1.1.3.2.3.cmml">u</mi><mi id="S5.E21.m1.1.1.1.1.1.1.1.3.3" xref="S5.E21.m1.1.1.1.1.1.1.1.3.3.cmml">K</mi></msubsup></mrow><mo id="S5.E21.m1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E21.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="S5.E21.m1.2.2.2.3" xref="S5.E21.m1.2.2.2.2.cmml"><mo id="S5.E21.m1.2.2.2.3.1" stretchy="false" xref="S5.E21.m1.2.2.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E21.m1.2.2.2.1" xref="S5.E21.m1.2.2.2.1.cmml">𝒰</mi><mo id="S5.E21.m1.2.2.2.3.2" stretchy="false" xref="S5.E21.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac></mrow><mo id="S5.E21.m1.3.3.1.2" lspace="0em" xref="S5.E21.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E21.m1.3b"><apply id="S5.E21.m1.3.3.1.1.cmml" xref="S5.E21.m1.3.3.1"><eq id="S5.E21.m1.3.3.1.1.1.cmml" xref="S5.E21.m1.3.3.1.1.1"></eq><apply id="S5.E21.m1.3.3.1.1.2.cmml" xref="S5.E21.m1.3.3.1.1.2"><times id="S5.E21.m1.3.3.1.1.2.1.cmml" xref="S5.E21.m1.3.3.1.1.2.1"></times><ci id="S5.E21.m1.3.3.1.1.2.2a.cmml" xref="S5.E21.m1.3.3.1.1.2.2"><mtext id="S5.E21.m1.3.3.1.1.2.2.cmml" xref="S5.E21.m1.3.3.1.1.2.2">HR</mtext></ci><ci id="S5.E21.m1.3.3.1.1.2.3.cmml" xref="S5.E21.m1.3.3.1.1.2.3">@</ci><ci id="S5.E21.m1.3.3.1.1.2.4.cmml" xref="S5.E21.m1.3.3.1.1.2.4">𝐾</ci></apply><apply id="S5.E21.m1.2.2.cmml" xref="S5.E21.m1.2.2"><divide id="S5.E21.m1.2.2.3.cmml" xref="S5.E21.m1.2.2"></divide><apply id="S5.E21.m1.1.1.1.cmml" xref="S5.E21.m1.1.1.1"><apply id="S5.E21.m1.1.1.1.2.cmml" xref="S5.E21.m1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E21.m1.1.1.1.2.1.cmml" xref="S5.E21.m1.1.1.1.2">subscript</csymbol><sum id="S5.E21.m1.1.1.1.2.2.cmml" xref="S5.E21.m1.1.1.1.2.2"></sum><apply id="S5.E21.m1.1.1.1.2.3.cmml" xref="S5.E21.m1.1.1.1.2.3"><in id="S5.E21.m1.1.1.1.2.3.1.cmml" xref="S5.E21.m1.1.1.1.2.3.1"></in><ci id="S5.E21.m1.1.1.1.2.3.2.cmml" xref="S5.E21.m1.1.1.1.2.3.2">𝑢</ci><ci id="S5.E21.m1.1.1.1.2.3.3.cmml" xref="S5.E21.m1.1.1.1.2.3.3">𝒰</ci></apply></apply><apply id="S5.E21.m1.1.1.1.1.cmml" xref="S5.E21.m1.1.1.1.1"><times id="S5.E21.m1.1.1.1.1.2.cmml" xref="S5.E21.m1.1.1.1.1.2"></times><ci id="S5.E21.m1.1.1.1.1.3.cmml" xref="S5.E21.m1.1.1.1.1.3">𝕀</ci><apply id="S5.E21.m1.1.1.1.1.1.1.1.cmml" xref="S5.E21.m1.1.1.1.1.1.1"><in id="S5.E21.m1.1.1.1.1.1.1.1.1.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.1"></in><ci id="S5.E21.m1.1.1.1.1.1.1.1.2.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.2">𝑖</ci><apply id="S5.E21.m1.1.1.1.1.1.1.1.3.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E21.m1.1.1.1.1.1.1.1.3.1.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.3">superscript</csymbol><apply id="S5.E21.m1.1.1.1.1.1.1.1.3.2.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.E21.m1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S5.E21.m1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.3.2.2">𝐍</ci><ci id="S5.E21.m1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.3.2.3">𝑢</ci></apply><ci id="S5.E21.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S5.E21.m1.1.1.1.1.1.1.1.3.3">𝐾</ci></apply></apply></apply></apply><apply id="S5.E21.m1.2.2.2.2.cmml" xref="S5.E21.m1.2.2.2.3"><abs id="S5.E21.m1.2.2.2.2.1.cmml" xref="S5.E21.m1.2.2.2.3.1"></abs><ci id="S5.E21.m1.2.2.2.1.cmml" xref="S5.E21.m1.2.2.2.1">𝒰</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E21.m1.3c">\text{HR}@K=\frac{\sum_{u\in\mathcal{U}}\mathbb{I}(i\in\mathbf{N}_{u}^{K})}{|%
\mathcal{U}|}.</annotation><annotation encoding="application/x-llamapun" id="S5.E21.m1.3d">HR @ italic_K = divide start_ARG ∑ start_POSTSUBSCRIPT italic_u ∈ caligraphic_U end_POSTSUBSCRIPT blackboard_I ( italic_i ∈ bold_N start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT ) end_ARG start_ARG | caligraphic_U | end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(21)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S5.SS4.SSS2.p3">
<p class="ltx_p" id="S5.SS4.SSS2.p3.2">Except for the hit ratio, normalized Discounted Cumulative Gain (nDCG) is another widely used measurement to evaluate the recommendation performance. HR measures whether the ground truth product is present in the recommendation list, while nDCG accounts for the positions of hits. Specifically, given the top-<math alttext="K" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.1.m1.1"><semantics id="S5.SS4.SSS2.p3.1.m1.1a"><mi id="S5.SS4.SSS2.p3.1.m1.1.1" xref="S5.SS4.SSS2.p3.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.1.m1.1b"><ci id="S5.SS4.SSS2.p3.1.m1.1.1.cmml" xref="S5.SS4.SSS2.p3.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.1.m1.1d">italic_K</annotation></semantics></math> ranked products for consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.2.m2.1"><semantics id="S5.SS4.SSS2.p3.2.m2.1a"><mi id="S5.SS4.SSS2.p3.2.m2.1.1" xref="S5.SS4.SSS2.p3.2.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.2.m2.1b"><ci id="S5.SS4.SSS2.p3.2.m2.1.1.cmml" xref="S5.SS4.SSS2.p3.2.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.2.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.2.m2.1d">italic_u</annotation></semantics></math>, the normalized Discounted Cumulative Gain (nDCG) is computed as follows,</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S5.E22">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S5.E22X">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\text{DCG}@K(u)=\sum_{p=1}^{K}\frac{2^{rel_{p}}-1}{\log_{2}(p+1)}," class="ltx_Math" display="inline" id="S5.E22X.2.1.1.m1.4"><semantics id="S5.E22X.2.1.1.m1.4a"><mrow id="S5.E22X.2.1.1.m1.4.4.1" xref="S5.E22X.2.1.1.m1.4.4.1.1.cmml"><mrow id="S5.E22X.2.1.1.m1.4.4.1.1" xref="S5.E22X.2.1.1.m1.4.4.1.1.cmml"><mrow id="S5.E22X.2.1.1.m1.4.4.1.1.2" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.cmml"><mtext id="S5.E22X.2.1.1.m1.4.4.1.1.2.2" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.2a.cmml">DCG</mtext><mo id="S5.E22X.2.1.1.m1.4.4.1.1.2.1" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S5.E22X.2.1.1.m1.4.4.1.1.2.3" mathvariant="normal" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.3.cmml">@</mi><mo id="S5.E22X.2.1.1.m1.4.4.1.1.2.1a" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S5.E22X.2.1.1.m1.4.4.1.1.2.4" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.4.cmml">K</mi><mo id="S5.E22X.2.1.1.m1.4.4.1.1.2.1b" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.1.cmml">⁢</mo><mrow id="S5.E22X.2.1.1.m1.4.4.1.1.2.5.2" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.cmml"><mo id="S5.E22X.2.1.1.m1.4.4.1.1.2.5.2.1" stretchy="false" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.cmml">(</mo><mi id="S5.E22X.2.1.1.m1.3.3" xref="S5.E22X.2.1.1.m1.3.3.cmml">u</mi><mo id="S5.E22X.2.1.1.m1.4.4.1.1.2.5.2.2" stretchy="false" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="S5.E22X.2.1.1.m1.4.4.1.1.1" xref="S5.E22X.2.1.1.m1.4.4.1.1.1.cmml">=</mo><mrow id="S5.E22X.2.1.1.m1.4.4.1.1.3" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.cmml"><mstyle displaystyle="true" id="S5.E22X.2.1.1.m1.4.4.1.1.3.1" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.cmml"><munderover id="S5.E22X.2.1.1.m1.4.4.1.1.3.1a" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.cmml"><mo id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.2" movablelimits="false" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.2.cmml">∑</mo><mrow id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.cmml"><mi id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.2" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.2.cmml">p</mi><mo id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.1" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.1.cmml">=</mo><mn id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.3" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.3.cmml">1</mn></mrow><mi id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.3" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.3.cmml">K</mi></munderover></mstyle><mstyle displaystyle="true" id="S5.E22X.2.1.1.m1.2.2" xref="S5.E22X.2.1.1.m1.2.2.cmml"><mfrac id="S5.E22X.2.1.1.m1.2.2a" xref="S5.E22X.2.1.1.m1.2.2.cmml"><mrow id="S5.E22X.2.1.1.m1.2.2.4" xref="S5.E22X.2.1.1.m1.2.2.4.cmml"><msup id="S5.E22X.2.1.1.m1.2.2.4.2" xref="S5.E22X.2.1.1.m1.2.2.4.2.cmml"><mn id="S5.E22X.2.1.1.m1.2.2.4.2.2" xref="S5.E22X.2.1.1.m1.2.2.4.2.2.cmml">2</mn><mrow id="S5.E22X.2.1.1.m1.2.2.4.2.3" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.cmml"><mi id="S5.E22X.2.1.1.m1.2.2.4.2.3.2" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.2.cmml">r</mi><mo id="S5.E22X.2.1.1.m1.2.2.4.2.3.1" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.1.cmml">⁢</mo><mi id="S5.E22X.2.1.1.m1.2.2.4.2.3.3" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.3.cmml">e</mi><mo id="S5.E22X.2.1.1.m1.2.2.4.2.3.1a" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.1.cmml">⁢</mo><msub id="S5.E22X.2.1.1.m1.2.2.4.2.3.4" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.4.cmml"><mi id="S5.E22X.2.1.1.m1.2.2.4.2.3.4.2" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.4.2.cmml">l</mi><mi id="S5.E22X.2.1.1.m1.2.2.4.2.3.4.3" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.4.3.cmml">p</mi></msub></mrow></msup><mo id="S5.E22X.2.1.1.m1.2.2.4.1" xref="S5.E22X.2.1.1.m1.2.2.4.1.cmml">−</mo><mn id="S5.E22X.2.1.1.m1.2.2.4.3" xref="S5.E22X.2.1.1.m1.2.2.4.3.cmml">1</mn></mrow><mrow id="S5.E22X.2.1.1.m1.2.2.2.2" xref="S5.E22X.2.1.1.m1.2.2.2.3.cmml"><msub id="S5.E22X.2.1.1.m1.1.1.1.1.1" xref="S5.E22X.2.1.1.m1.1.1.1.1.1.cmml"><mi id="S5.E22X.2.1.1.m1.1.1.1.1.1.2" xref="S5.E22X.2.1.1.m1.1.1.1.1.1.2.cmml">log</mi><mn id="S5.E22X.2.1.1.m1.1.1.1.1.1.3" xref="S5.E22X.2.1.1.m1.1.1.1.1.1.3.cmml">2</mn></msub><mo id="S5.E22X.2.1.1.m1.2.2.2.2a" xref="S5.E22X.2.1.1.m1.2.2.2.3.cmml">⁡</mo><mrow id="S5.E22X.2.1.1.m1.2.2.2.2.2" xref="S5.E22X.2.1.1.m1.2.2.2.3.cmml"><mo id="S5.E22X.2.1.1.m1.2.2.2.2.2.2" stretchy="false" xref="S5.E22X.2.1.1.m1.2.2.2.3.cmml">(</mo><mrow id="S5.E22X.2.1.1.m1.2.2.2.2.2.1" xref="S5.E22X.2.1.1.m1.2.2.2.2.2.1.cmml"><mi id="S5.E22X.2.1.1.m1.2.2.2.2.2.1.2" xref="S5.E22X.2.1.1.m1.2.2.2.2.2.1.2.cmml">p</mi><mo id="S5.E22X.2.1.1.m1.2.2.2.2.2.1.1" xref="S5.E22X.2.1.1.m1.2.2.2.2.2.1.1.cmml">+</mo><mn id="S5.E22X.2.1.1.m1.2.2.2.2.2.1.3" xref="S5.E22X.2.1.1.m1.2.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S5.E22X.2.1.1.m1.2.2.2.2.2.3" stretchy="false" xref="S5.E22X.2.1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S5.E22X.2.1.1.m1.4.4.1.2" xref="S5.E22X.2.1.1.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E22X.2.1.1.m1.4b"><apply id="S5.E22X.2.1.1.m1.4.4.1.1.cmml" xref="S5.E22X.2.1.1.m1.4.4.1"><eq id="S5.E22X.2.1.1.m1.4.4.1.1.1.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.1"></eq><apply id="S5.E22X.2.1.1.m1.4.4.1.1.2.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.2"><times id="S5.E22X.2.1.1.m1.4.4.1.1.2.1.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.1"></times><ci id="S5.E22X.2.1.1.m1.4.4.1.1.2.2a.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.2"><mtext id="S5.E22X.2.1.1.m1.4.4.1.1.2.2.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.2">DCG</mtext></ci><ci id="S5.E22X.2.1.1.m1.4.4.1.1.2.3.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.3">@</ci><ci id="S5.E22X.2.1.1.m1.4.4.1.1.2.4.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.2.4">𝐾</ci><ci id="S5.E22X.2.1.1.m1.3.3.cmml" xref="S5.E22X.2.1.1.m1.3.3">𝑢</ci></apply><apply id="S5.E22X.2.1.1.m1.4.4.1.1.3.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3"><apply id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.1.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1">superscript</csymbol><apply id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.1.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1">subscript</csymbol><sum id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.2.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.2"></sum><apply id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3"><eq id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.1.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.1"></eq><ci id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.2.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.2">𝑝</ci><cn id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.3.cmml" type="integer" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.2.3.3">1</cn></apply></apply><ci id="S5.E22X.2.1.1.m1.4.4.1.1.3.1.3.cmml" xref="S5.E22X.2.1.1.m1.4.4.1.1.3.1.3">𝐾</ci></apply><apply id="S5.E22X.2.1.1.m1.2.2.cmml" xref="S5.E22X.2.1.1.m1.2.2"><divide id="S5.E22X.2.1.1.m1.2.2.3.cmml" xref="S5.E22X.2.1.1.m1.2.2"></divide><apply id="S5.E22X.2.1.1.m1.2.2.4.cmml" xref="S5.E22X.2.1.1.m1.2.2.4"><minus id="S5.E22X.2.1.1.m1.2.2.4.1.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.1"></minus><apply id="S5.E22X.2.1.1.m1.2.2.4.2.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2"><csymbol cd="ambiguous" id="S5.E22X.2.1.1.m1.2.2.4.2.1.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2">superscript</csymbol><cn id="S5.E22X.2.1.1.m1.2.2.4.2.2.cmml" type="integer" xref="S5.E22X.2.1.1.m1.2.2.4.2.2">2</cn><apply id="S5.E22X.2.1.1.m1.2.2.4.2.3.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2.3"><times id="S5.E22X.2.1.1.m1.2.2.4.2.3.1.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.1"></times><ci id="S5.E22X.2.1.1.m1.2.2.4.2.3.2.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.2">𝑟</ci><ci id="S5.E22X.2.1.1.m1.2.2.4.2.3.3.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.3">𝑒</ci><apply id="S5.E22X.2.1.1.m1.2.2.4.2.3.4.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.4"><csymbol cd="ambiguous" id="S5.E22X.2.1.1.m1.2.2.4.2.3.4.1.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.4">subscript</csymbol><ci id="S5.E22X.2.1.1.m1.2.2.4.2.3.4.2.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.4.2">𝑙</ci><ci id="S5.E22X.2.1.1.m1.2.2.4.2.3.4.3.cmml" xref="S5.E22X.2.1.1.m1.2.2.4.2.3.4.3">𝑝</ci></apply></apply></apply><cn id="S5.E22X.2.1.1.m1.2.2.4.3.cmml" type="integer" xref="S5.E22X.2.1.1.m1.2.2.4.3">1</cn></apply><apply id="S5.E22X.2.1.1.m1.2.2.2.3.cmml" xref="S5.E22X.2.1.1.m1.2.2.2.2"><apply id="S5.E22X.2.1.1.m1.1.1.1.1.1.cmml" xref="S5.E22X.2.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E22X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S5.E22X.2.1.1.m1.1.1.1.1.1">subscript</csymbol><log id="S5.E22X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S5.E22X.2.1.1.m1.1.1.1.1.1.2"></log><cn id="S5.E22X.2.1.1.m1.1.1.1.1.1.3.cmml" type="integer" xref="S5.E22X.2.1.1.m1.1.1.1.1.1.3">2</cn></apply><apply id="S5.E22X.2.1.1.m1.2.2.2.2.2.1.cmml" xref="S5.E22X.2.1.1.m1.2.2.2.2.2.1"><plus id="S5.E22X.2.1.1.m1.2.2.2.2.2.1.1.cmml" xref="S5.E22X.2.1.1.m1.2.2.2.2.2.1.1"></plus><ci id="S5.E22X.2.1.1.m1.2.2.2.2.2.1.2.cmml" xref="S5.E22X.2.1.1.m1.2.2.2.2.2.1.2">𝑝</ci><cn id="S5.E22X.2.1.1.m1.2.2.2.2.2.1.3.cmml" type="integer" xref="S5.E22X.2.1.1.m1.2.2.2.2.2.1.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E22X.2.1.1.m1.4c">\displaystyle\text{DCG}@K(u)=\sum_{p=1}^{K}\frac{2^{rel_{p}}-1}{\log_{2}(p+1)},</annotation><annotation encoding="application/x-llamapun" id="S5.E22X.2.1.1.m1.4d">DCG @ italic_K ( italic_u ) = ∑ start_POSTSUBSCRIPT italic_p = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT divide start_ARG 2 start_POSTSUPERSCRIPT italic_r italic_e italic_l start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT end_POSTSUPERSCRIPT - 1 end_ARG start_ARG roman_log start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ( italic_p + 1 ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="3"><span class="ltx_tag ltx_tag_equationgroup ltx_align_right">(22)</span></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S5.E22Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\text{nDCG}@K(u)=\frac{\text{DCG}@K(u)}{\text{IDCG}@K(u)}," class="ltx_Math" display="inline" id="S5.E22Xa.2.1.1.m1.4"><semantics id="S5.E22Xa.2.1.1.m1.4a"><mrow id="S5.E22Xa.2.1.1.m1.4.4.1" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.cmml"><mrow id="S5.E22Xa.2.1.1.m1.4.4.1.1" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.cmml"><mrow id="S5.E22Xa.2.1.1.m1.4.4.1.1.2" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.cmml"><mtext id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.2" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.2a.cmml">nDCG</mtext><mo id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.1" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.3" mathvariant="normal" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.3.cmml">@</mi><mo id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.1a" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.1.cmml">⁢</mo><mi id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.4" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.4.cmml">K</mi><mo id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.1b" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.1.cmml">⁢</mo><mrow id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.5.2" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.cmml"><mo id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.5.2.1" stretchy="false" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.cmml">(</mo><mi id="S5.E22Xa.2.1.1.m1.3.3" xref="S5.E22Xa.2.1.1.m1.3.3.cmml">u</mi><mo id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.5.2.2" stretchy="false" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="S5.E22Xa.2.1.1.m1.4.4.1.1.1" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S5.E22Xa.2.1.1.m1.2.2" xref="S5.E22Xa.2.1.1.m1.2.2.cmml"><mfrac id="S5.E22Xa.2.1.1.m1.2.2a" xref="S5.E22Xa.2.1.1.m1.2.2.cmml"><mrow id="S5.E22Xa.2.1.1.m1.1.1.1" xref="S5.E22Xa.2.1.1.m1.1.1.1.cmml"><mtext id="S5.E22Xa.2.1.1.m1.1.1.1.3" xref="S5.E22Xa.2.1.1.m1.1.1.1.3a.cmml">DCG</mtext><mo id="S5.E22Xa.2.1.1.m1.1.1.1.2" xref="S5.E22Xa.2.1.1.m1.1.1.1.2.cmml">⁢</mo><mi id="S5.E22Xa.2.1.1.m1.1.1.1.4" mathvariant="normal" xref="S5.E22Xa.2.1.1.m1.1.1.1.4.cmml">@</mi><mo id="S5.E22Xa.2.1.1.m1.1.1.1.2a" xref="S5.E22Xa.2.1.1.m1.1.1.1.2.cmml">⁢</mo><mi id="S5.E22Xa.2.1.1.m1.1.1.1.5" xref="S5.E22Xa.2.1.1.m1.1.1.1.5.cmml">K</mi><mo id="S5.E22Xa.2.1.1.m1.1.1.1.2b" xref="S5.E22Xa.2.1.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E22Xa.2.1.1.m1.1.1.1.6.2" xref="S5.E22Xa.2.1.1.m1.1.1.1.cmml"><mo id="S5.E22Xa.2.1.1.m1.1.1.1.6.2.1" stretchy="false" xref="S5.E22Xa.2.1.1.m1.1.1.1.cmml">(</mo><mi id="S5.E22Xa.2.1.1.m1.1.1.1.1" xref="S5.E22Xa.2.1.1.m1.1.1.1.1.cmml">u</mi><mo id="S5.E22Xa.2.1.1.m1.1.1.1.6.2.2" stretchy="false" xref="S5.E22Xa.2.1.1.m1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S5.E22Xa.2.1.1.m1.2.2.2" xref="S5.E22Xa.2.1.1.m1.2.2.2.cmml"><mtext id="S5.E22Xa.2.1.1.m1.2.2.2.3" xref="S5.E22Xa.2.1.1.m1.2.2.2.3a.cmml">IDCG</mtext><mo id="S5.E22Xa.2.1.1.m1.2.2.2.2" xref="S5.E22Xa.2.1.1.m1.2.2.2.2.cmml">⁢</mo><mi id="S5.E22Xa.2.1.1.m1.2.2.2.4" mathvariant="normal" xref="S5.E22Xa.2.1.1.m1.2.2.2.4.cmml">@</mi><mo id="S5.E22Xa.2.1.1.m1.2.2.2.2a" xref="S5.E22Xa.2.1.1.m1.2.2.2.2.cmml">⁢</mo><mi id="S5.E22Xa.2.1.1.m1.2.2.2.5" xref="S5.E22Xa.2.1.1.m1.2.2.2.5.cmml">K</mi><mo id="S5.E22Xa.2.1.1.m1.2.2.2.2b" xref="S5.E22Xa.2.1.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S5.E22Xa.2.1.1.m1.2.2.2.6.2" xref="S5.E22Xa.2.1.1.m1.2.2.2.cmml"><mo id="S5.E22Xa.2.1.1.m1.2.2.2.6.2.1" stretchy="false" xref="S5.E22Xa.2.1.1.m1.2.2.2.cmml">(</mo><mi id="S5.E22Xa.2.1.1.m1.2.2.2.1" xref="S5.E22Xa.2.1.1.m1.2.2.2.1.cmml">u</mi><mo id="S5.E22Xa.2.1.1.m1.2.2.2.6.2.2" stretchy="false" xref="S5.E22Xa.2.1.1.m1.2.2.2.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow><mo id="S5.E22Xa.2.1.1.m1.4.4.1.2" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E22Xa.2.1.1.m1.4b"><apply id="S5.E22Xa.2.1.1.m1.4.4.1.1.cmml" xref="S5.E22Xa.2.1.1.m1.4.4.1"><eq id="S5.E22Xa.2.1.1.m1.4.4.1.1.1.cmml" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.1"></eq><apply id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.cmml" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2"><times id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.1.cmml" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.1"></times><ci id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.2a.cmml" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.2"><mtext id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.2.cmml" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.2">nDCG</mtext></ci><ci id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.3.cmml" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.3">@</ci><ci id="S5.E22Xa.2.1.1.m1.4.4.1.1.2.4.cmml" xref="S5.E22Xa.2.1.1.m1.4.4.1.1.2.4">𝐾</ci><ci id="S5.E22Xa.2.1.1.m1.3.3.cmml" xref="S5.E22Xa.2.1.1.m1.3.3">𝑢</ci></apply><apply id="S5.E22Xa.2.1.1.m1.2.2.cmml" xref="S5.E22Xa.2.1.1.m1.2.2"><divide id="S5.E22Xa.2.1.1.m1.2.2.3.cmml" xref="S5.E22Xa.2.1.1.m1.2.2"></divide><apply id="S5.E22Xa.2.1.1.m1.1.1.1.cmml" xref="S5.E22Xa.2.1.1.m1.1.1.1"><times id="S5.E22Xa.2.1.1.m1.1.1.1.2.cmml" xref="S5.E22Xa.2.1.1.m1.1.1.1.2"></times><ci id="S5.E22Xa.2.1.1.m1.1.1.1.3a.cmml" xref="S5.E22Xa.2.1.1.m1.1.1.1.3"><mtext id="S5.E22Xa.2.1.1.m1.1.1.1.3.cmml" xref="S5.E22Xa.2.1.1.m1.1.1.1.3">DCG</mtext></ci><ci id="S5.E22Xa.2.1.1.m1.1.1.1.4.cmml" xref="S5.E22Xa.2.1.1.m1.1.1.1.4">@</ci><ci id="S5.E22Xa.2.1.1.m1.1.1.1.5.cmml" xref="S5.E22Xa.2.1.1.m1.1.1.1.5">𝐾</ci><ci id="S5.E22Xa.2.1.1.m1.1.1.1.1.cmml" xref="S5.E22Xa.2.1.1.m1.1.1.1.1">𝑢</ci></apply><apply id="S5.E22Xa.2.1.1.m1.2.2.2.cmml" xref="S5.E22Xa.2.1.1.m1.2.2.2"><times id="S5.E22Xa.2.1.1.m1.2.2.2.2.cmml" xref="S5.E22Xa.2.1.1.m1.2.2.2.2"></times><ci id="S5.E22Xa.2.1.1.m1.2.2.2.3a.cmml" xref="S5.E22Xa.2.1.1.m1.2.2.2.3"><mtext id="S5.E22Xa.2.1.1.m1.2.2.2.3.cmml" xref="S5.E22Xa.2.1.1.m1.2.2.2.3">IDCG</mtext></ci><ci id="S5.E22Xa.2.1.1.m1.2.2.2.4.cmml" xref="S5.E22Xa.2.1.1.m1.2.2.2.4">@</ci><ci id="S5.E22Xa.2.1.1.m1.2.2.2.5.cmml" xref="S5.E22Xa.2.1.1.m1.2.2.2.5">𝐾</ci><ci id="S5.E22Xa.2.1.1.m1.2.2.2.1.cmml" xref="S5.E22Xa.2.1.1.m1.2.2.2.1">𝑢</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E22Xa.2.1.1.m1.4c">\displaystyle\text{nDCG}@K(u)=\frac{\text{DCG}@K(u)}{\text{IDCG}@K(u)},</annotation><annotation encoding="application/x-llamapun" id="S5.E22Xa.2.1.1.m1.4d">nDCG @ italic_K ( italic_u ) = divide start_ARG DCG @ italic_K ( italic_u ) end_ARG start_ARG IDCG @ italic_K ( italic_u ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S5.E22Xb">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\text{nDCG}@K=\frac{\sum_{u\in\mathcal{U}}\text{nDCG}@K(u)}{|%
\mathcal{U}|}," class="ltx_Math" display="inline" id="S5.E22Xb.2.1.1.m1.3"><semantics id="S5.E22Xb.2.1.1.m1.3a"><mrow id="S5.E22Xb.2.1.1.m1.3.3.1" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.cmml"><mrow id="S5.E22Xb.2.1.1.m1.3.3.1.1" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.cmml"><mrow id="S5.E22Xb.2.1.1.m1.3.3.1.1.2" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.cmml"><mtext id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.2" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.2a.cmml">nDCG</mtext><mo id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.1" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.1.cmml">⁢</mo><mi id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.3" mathvariant="normal" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.3.cmml">@</mi><mo id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.1a" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.1.cmml">⁢</mo><mi id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.4" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.4.cmml">K</mi></mrow><mo id="S5.E22Xb.2.1.1.m1.3.3.1.1.1" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S5.E22Xb.2.1.1.m1.2.2" xref="S5.E22Xb.2.1.1.m1.2.2.cmml"><mfrac id="S5.E22Xb.2.1.1.m1.2.2a" xref="S5.E22Xb.2.1.1.m1.2.2.cmml"><mrow id="S5.E22Xb.2.1.1.m1.1.1.1" xref="S5.E22Xb.2.1.1.m1.1.1.1.cmml"><msub id="S5.E22Xb.2.1.1.m1.1.1.1.2" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.cmml"><mo id="S5.E22Xb.2.1.1.m1.1.1.1.2.2" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.2.cmml">∑</mo><mrow id="S5.E22Xb.2.1.1.m1.1.1.1.2.3" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.3.cmml"><mi id="S5.E22Xb.2.1.1.m1.1.1.1.2.3.2" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.3.2.cmml">u</mi><mo id="S5.E22Xb.2.1.1.m1.1.1.1.2.3.1" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S5.E22Xb.2.1.1.m1.1.1.1.2.3.3" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.3.3.cmml">𝒰</mi></mrow></msub><mrow id="S5.E22Xb.2.1.1.m1.1.1.1.3" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.cmml"><mtext id="S5.E22Xb.2.1.1.m1.1.1.1.3.2" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.2a.cmml">nDCG</mtext><mo id="S5.E22Xb.2.1.1.m1.1.1.1.3.1" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.1.cmml">⁢</mo><mi id="S5.E22Xb.2.1.1.m1.1.1.1.3.3" mathvariant="normal" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.3.cmml">@</mi><mo id="S5.E22Xb.2.1.1.m1.1.1.1.3.1a" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.1.cmml">⁢</mo><mi id="S5.E22Xb.2.1.1.m1.1.1.1.3.4" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.4.cmml">K</mi><mo id="S5.E22Xb.2.1.1.m1.1.1.1.3.1b" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.1.cmml">⁢</mo><mrow id="S5.E22Xb.2.1.1.m1.1.1.1.3.5.2" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.cmml"><mo id="S5.E22Xb.2.1.1.m1.1.1.1.3.5.2.1" stretchy="false" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.cmml">(</mo><mi id="S5.E22Xb.2.1.1.m1.1.1.1.1" xref="S5.E22Xb.2.1.1.m1.1.1.1.1.cmml">u</mi><mo id="S5.E22Xb.2.1.1.m1.1.1.1.3.5.2.2" stretchy="false" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mrow id="S5.E22Xb.2.1.1.m1.2.2.2.3" xref="S5.E22Xb.2.1.1.m1.2.2.2.2.cmml"><mo id="S5.E22Xb.2.1.1.m1.2.2.2.3.1" stretchy="false" xref="S5.E22Xb.2.1.1.m1.2.2.2.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S5.E22Xb.2.1.1.m1.2.2.2.1" xref="S5.E22Xb.2.1.1.m1.2.2.2.1.cmml">𝒰</mi><mo id="S5.E22Xb.2.1.1.m1.2.2.2.3.2" stretchy="false" xref="S5.E22Xb.2.1.1.m1.2.2.2.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow><mo id="S5.E22Xb.2.1.1.m1.3.3.1.2" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E22Xb.2.1.1.m1.3b"><apply id="S5.E22Xb.2.1.1.m1.3.3.1.1.cmml" xref="S5.E22Xb.2.1.1.m1.3.3.1"><eq id="S5.E22Xb.2.1.1.m1.3.3.1.1.1.cmml" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.1"></eq><apply id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.cmml" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2"><times id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.1.cmml" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.1"></times><ci id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.2a.cmml" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.2"><mtext id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.2.cmml" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.2">nDCG</mtext></ci><ci id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.3.cmml" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.3">@</ci><ci id="S5.E22Xb.2.1.1.m1.3.3.1.1.2.4.cmml" xref="S5.E22Xb.2.1.1.m1.3.3.1.1.2.4">𝐾</ci></apply><apply id="S5.E22Xb.2.1.1.m1.2.2.cmml" xref="S5.E22Xb.2.1.1.m1.2.2"><divide id="S5.E22Xb.2.1.1.m1.2.2.3.cmml" xref="S5.E22Xb.2.1.1.m1.2.2"></divide><apply id="S5.E22Xb.2.1.1.m1.1.1.1.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1"><apply id="S5.E22Xb.2.1.1.m1.1.1.1.2.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.2"><csymbol cd="ambiguous" id="S5.E22Xb.2.1.1.m1.1.1.1.2.1.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.2">subscript</csymbol><sum id="S5.E22Xb.2.1.1.m1.1.1.1.2.2.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.2"></sum><apply id="S5.E22Xb.2.1.1.m1.1.1.1.2.3.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.3"><in id="S5.E22Xb.2.1.1.m1.1.1.1.2.3.1.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.3.1"></in><ci id="S5.E22Xb.2.1.1.m1.1.1.1.2.3.2.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.3.2">𝑢</ci><ci id="S5.E22Xb.2.1.1.m1.1.1.1.2.3.3.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.2.3.3">𝒰</ci></apply></apply><apply id="S5.E22Xb.2.1.1.m1.1.1.1.3.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.3"><times id="S5.E22Xb.2.1.1.m1.1.1.1.3.1.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.1"></times><ci id="S5.E22Xb.2.1.1.m1.1.1.1.3.2a.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.2"><mtext id="S5.E22Xb.2.1.1.m1.1.1.1.3.2.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.2">nDCG</mtext></ci><ci id="S5.E22Xb.2.1.1.m1.1.1.1.3.3.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.3">@</ci><ci id="S5.E22Xb.2.1.1.m1.1.1.1.3.4.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.3.4">𝐾</ci><ci id="S5.E22Xb.2.1.1.m1.1.1.1.1.cmml" xref="S5.E22Xb.2.1.1.m1.1.1.1.1">𝑢</ci></apply></apply><apply id="S5.E22Xb.2.1.1.m1.2.2.2.2.cmml" xref="S5.E22Xb.2.1.1.m1.2.2.2.3"><abs id="S5.E22Xb.2.1.1.m1.2.2.2.2.1.cmml" xref="S5.E22Xb.2.1.1.m1.2.2.2.3.1"></abs><ci id="S5.E22Xb.2.1.1.m1.2.2.2.1.cmml" xref="S5.E22Xb.2.1.1.m1.2.2.2.1">𝒰</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E22Xb.2.1.1.m1.3c">\displaystyle\text{nDCG}@K=\frac{\sum_{u\in\mathcal{U}}\text{nDCG}@K(u)}{|%
\mathcal{U}|},</annotation><annotation encoding="application/x-llamapun" id="S5.E22Xb.2.1.1.m1.3d">nDCG @ italic_K = divide start_ARG ∑ start_POSTSUBSCRIPT italic_u ∈ caligraphic_U end_POSTSUBSCRIPT nDCG @ italic_K ( italic_u ) end_ARG start_ARG | caligraphic_U | end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S5.SS4.SSS2.p3.9">where <math alttext="rel_{p}=1" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.3.m1.1"><semantics id="S5.SS4.SSS2.p3.3.m1.1a"><mrow id="S5.SS4.SSS2.p3.3.m1.1.1" xref="S5.SS4.SSS2.p3.3.m1.1.1.cmml"><mrow id="S5.SS4.SSS2.p3.3.m1.1.1.2" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.cmml"><mi id="S5.SS4.SSS2.p3.3.m1.1.1.2.2" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.2.cmml">r</mi><mo id="S5.SS4.SSS2.p3.3.m1.1.1.2.1" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p3.3.m1.1.1.2.3" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.3.cmml">e</mi><mo id="S5.SS4.SSS2.p3.3.m1.1.1.2.1a" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.1.cmml">⁢</mo><msub id="S5.SS4.SSS2.p3.3.m1.1.1.2.4" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.4.cmml"><mi id="S5.SS4.SSS2.p3.3.m1.1.1.2.4.2" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.4.2.cmml">l</mi><mi id="S5.SS4.SSS2.p3.3.m1.1.1.2.4.3" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.4.3.cmml">p</mi></msub></mrow><mo id="S5.SS4.SSS2.p3.3.m1.1.1.1" xref="S5.SS4.SSS2.p3.3.m1.1.1.1.cmml">=</mo><mn id="S5.SS4.SSS2.p3.3.m1.1.1.3" xref="S5.SS4.SSS2.p3.3.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.3.m1.1b"><apply id="S5.SS4.SSS2.p3.3.m1.1.1.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1"><eq id="S5.SS4.SSS2.p3.3.m1.1.1.1.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.1"></eq><apply id="S5.SS4.SSS2.p3.3.m1.1.1.2.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.2"><times id="S5.SS4.SSS2.p3.3.m1.1.1.2.1.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.1"></times><ci id="S5.SS4.SSS2.p3.3.m1.1.1.2.2.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.2">𝑟</ci><ci id="S5.SS4.SSS2.p3.3.m1.1.1.2.3.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.3">𝑒</ci><apply id="S5.SS4.SSS2.p3.3.m1.1.1.2.4.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.4"><csymbol cd="ambiguous" id="S5.SS4.SSS2.p3.3.m1.1.1.2.4.1.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.4">subscript</csymbol><ci id="S5.SS4.SSS2.p3.3.m1.1.1.2.4.2.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.4.2">𝑙</ci><ci id="S5.SS4.SSS2.p3.3.m1.1.1.2.4.3.cmml" xref="S5.SS4.SSS2.p3.3.m1.1.1.2.4.3">𝑝</ci></apply></apply><cn id="S5.SS4.SSS2.p3.3.m1.1.1.3.cmml" type="integer" xref="S5.SS4.SSS2.p3.3.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.3.m1.1c">rel_{p}=1</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.3.m1.1d">italic_r italic_e italic_l start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT = 1</annotation></semantics></math> if the <math alttext="p" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.4.m2.1"><semantics id="S5.SS4.SSS2.p3.4.m2.1a"><mi id="S5.SS4.SSS2.p3.4.m2.1.1" xref="S5.SS4.SSS2.p3.4.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.4.m2.1b"><ci id="S5.SS4.SSS2.p3.4.m2.1.1.cmml" xref="S5.SS4.SSS2.p3.4.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.4.m2.1c">p</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.4.m2.1d">italic_p</annotation></semantics></math>-th product in the recommendation list is actually purchased by the consumer <math alttext="u" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.5.m3.1"><semantics id="S5.SS4.SSS2.p3.5.m3.1a"><mi id="S5.SS4.SSS2.p3.5.m3.1.1" xref="S5.SS4.SSS2.p3.5.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.5.m3.1b"><ci id="S5.SS4.SSS2.p3.5.m3.1.1.cmml" xref="S5.SS4.SSS2.p3.5.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.5.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.5.m3.1d">italic_u</annotation></semantics></math>, and <math alttext="rel_{p}=0" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.6.m4.1"><semantics id="S5.SS4.SSS2.p3.6.m4.1a"><mrow id="S5.SS4.SSS2.p3.6.m4.1.1" xref="S5.SS4.SSS2.p3.6.m4.1.1.cmml"><mrow id="S5.SS4.SSS2.p3.6.m4.1.1.2" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.cmml"><mi id="S5.SS4.SSS2.p3.6.m4.1.1.2.2" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.2.cmml">r</mi><mo id="S5.SS4.SSS2.p3.6.m4.1.1.2.1" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p3.6.m4.1.1.2.3" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.3.cmml">e</mi><mo id="S5.SS4.SSS2.p3.6.m4.1.1.2.1a" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.1.cmml">⁢</mo><msub id="S5.SS4.SSS2.p3.6.m4.1.1.2.4" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.4.cmml"><mi id="S5.SS4.SSS2.p3.6.m4.1.1.2.4.2" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.4.2.cmml">l</mi><mi id="S5.SS4.SSS2.p3.6.m4.1.1.2.4.3" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.4.3.cmml">p</mi></msub></mrow><mo id="S5.SS4.SSS2.p3.6.m4.1.1.1" xref="S5.SS4.SSS2.p3.6.m4.1.1.1.cmml">=</mo><mn id="S5.SS4.SSS2.p3.6.m4.1.1.3" xref="S5.SS4.SSS2.p3.6.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.6.m4.1b"><apply id="S5.SS4.SSS2.p3.6.m4.1.1.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1"><eq id="S5.SS4.SSS2.p3.6.m4.1.1.1.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.1"></eq><apply id="S5.SS4.SSS2.p3.6.m4.1.1.2.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.2"><times id="S5.SS4.SSS2.p3.6.m4.1.1.2.1.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.1"></times><ci id="S5.SS4.SSS2.p3.6.m4.1.1.2.2.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.2">𝑟</ci><ci id="S5.SS4.SSS2.p3.6.m4.1.1.2.3.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.3">𝑒</ci><apply id="S5.SS4.SSS2.p3.6.m4.1.1.2.4.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.4"><csymbol cd="ambiguous" id="S5.SS4.SSS2.p3.6.m4.1.1.2.4.1.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.4">subscript</csymbol><ci id="S5.SS4.SSS2.p3.6.m4.1.1.2.4.2.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.4.2">𝑙</ci><ci id="S5.SS4.SSS2.p3.6.m4.1.1.2.4.3.cmml" xref="S5.SS4.SSS2.p3.6.m4.1.1.2.4.3">𝑝</ci></apply></apply><cn id="S5.SS4.SSS2.p3.6.m4.1.1.3.cmml" type="integer" xref="S5.SS4.SSS2.p3.6.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.6.m4.1c">rel_{p}=0</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.6.m4.1d">italic_r italic_e italic_l start_POSTSUBSCRIPT italic_p end_POSTSUBSCRIPT = 0</annotation></semantics></math> otherwise. <math alttext="\text{IDCG}@K(u)" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.7.m5.1"><semantics id="S5.SS4.SSS2.p3.7.m5.1a"><mrow id="S5.SS4.SSS2.p3.7.m5.1.2" xref="S5.SS4.SSS2.p3.7.m5.1.2.cmml"><mtext id="S5.SS4.SSS2.p3.7.m5.1.2.2" xref="S5.SS4.SSS2.p3.7.m5.1.2.2a.cmml">IDCG</mtext><mo id="S5.SS4.SSS2.p3.7.m5.1.2.1" xref="S5.SS4.SSS2.p3.7.m5.1.2.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p3.7.m5.1.2.3" mathvariant="normal" xref="S5.SS4.SSS2.p3.7.m5.1.2.3.cmml">@</mi><mo id="S5.SS4.SSS2.p3.7.m5.1.2.1a" xref="S5.SS4.SSS2.p3.7.m5.1.2.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p3.7.m5.1.2.4" xref="S5.SS4.SSS2.p3.7.m5.1.2.4.cmml">K</mi><mo id="S5.SS4.SSS2.p3.7.m5.1.2.1b" xref="S5.SS4.SSS2.p3.7.m5.1.2.1.cmml">⁢</mo><mrow id="S5.SS4.SSS2.p3.7.m5.1.2.5.2" xref="S5.SS4.SSS2.p3.7.m5.1.2.cmml"><mo id="S5.SS4.SSS2.p3.7.m5.1.2.5.2.1" stretchy="false" xref="S5.SS4.SSS2.p3.7.m5.1.2.cmml">(</mo><mi id="S5.SS4.SSS2.p3.7.m5.1.1" xref="S5.SS4.SSS2.p3.7.m5.1.1.cmml">u</mi><mo id="S5.SS4.SSS2.p3.7.m5.1.2.5.2.2" stretchy="false" xref="S5.SS4.SSS2.p3.7.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.7.m5.1b"><apply id="S5.SS4.SSS2.p3.7.m5.1.2.cmml" xref="S5.SS4.SSS2.p3.7.m5.1.2"><times id="S5.SS4.SSS2.p3.7.m5.1.2.1.cmml" xref="S5.SS4.SSS2.p3.7.m5.1.2.1"></times><ci id="S5.SS4.SSS2.p3.7.m5.1.2.2a.cmml" xref="S5.SS4.SSS2.p3.7.m5.1.2.2"><mtext id="S5.SS4.SSS2.p3.7.m5.1.2.2.cmml" xref="S5.SS4.SSS2.p3.7.m5.1.2.2">IDCG</mtext></ci><ci id="S5.SS4.SSS2.p3.7.m5.1.2.3.cmml" xref="S5.SS4.SSS2.p3.7.m5.1.2.3">@</ci><ci id="S5.SS4.SSS2.p3.7.m5.1.2.4.cmml" xref="S5.SS4.SSS2.p3.7.m5.1.2.4">𝐾</ci><ci id="S5.SS4.SSS2.p3.7.m5.1.1.cmml" xref="S5.SS4.SSS2.p3.7.m5.1.1">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.7.m5.1c">\text{IDCG}@K(u)</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.7.m5.1d">IDCG @ italic_K ( italic_u )</annotation></semantics></math> is the ideal <math alttext="\text{DCG}@K(u)" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.8.m6.1"><semantics id="S5.SS4.SSS2.p3.8.m6.1a"><mrow id="S5.SS4.SSS2.p3.8.m6.1.2" xref="S5.SS4.SSS2.p3.8.m6.1.2.cmml"><mtext id="S5.SS4.SSS2.p3.8.m6.1.2.2" xref="S5.SS4.SSS2.p3.8.m6.1.2.2a.cmml">DCG</mtext><mo id="S5.SS4.SSS2.p3.8.m6.1.2.1" xref="S5.SS4.SSS2.p3.8.m6.1.2.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p3.8.m6.1.2.3" mathvariant="normal" xref="S5.SS4.SSS2.p3.8.m6.1.2.3.cmml">@</mi><mo id="S5.SS4.SSS2.p3.8.m6.1.2.1a" xref="S5.SS4.SSS2.p3.8.m6.1.2.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p3.8.m6.1.2.4" xref="S5.SS4.SSS2.p3.8.m6.1.2.4.cmml">K</mi><mo id="S5.SS4.SSS2.p3.8.m6.1.2.1b" xref="S5.SS4.SSS2.p3.8.m6.1.2.1.cmml">⁢</mo><mrow id="S5.SS4.SSS2.p3.8.m6.1.2.5.2" xref="S5.SS4.SSS2.p3.8.m6.1.2.cmml"><mo id="S5.SS4.SSS2.p3.8.m6.1.2.5.2.1" stretchy="false" xref="S5.SS4.SSS2.p3.8.m6.1.2.cmml">(</mo><mi id="S5.SS4.SSS2.p3.8.m6.1.1" xref="S5.SS4.SSS2.p3.8.m6.1.1.cmml">u</mi><mo id="S5.SS4.SSS2.p3.8.m6.1.2.5.2.2" stretchy="false" xref="S5.SS4.SSS2.p3.8.m6.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.8.m6.1b"><apply id="S5.SS4.SSS2.p3.8.m6.1.2.cmml" xref="S5.SS4.SSS2.p3.8.m6.1.2"><times id="S5.SS4.SSS2.p3.8.m6.1.2.1.cmml" xref="S5.SS4.SSS2.p3.8.m6.1.2.1"></times><ci id="S5.SS4.SSS2.p3.8.m6.1.2.2a.cmml" xref="S5.SS4.SSS2.p3.8.m6.1.2.2"><mtext id="S5.SS4.SSS2.p3.8.m6.1.2.2.cmml" xref="S5.SS4.SSS2.p3.8.m6.1.2.2">DCG</mtext></ci><ci id="S5.SS4.SSS2.p3.8.m6.1.2.3.cmml" xref="S5.SS4.SSS2.p3.8.m6.1.2.3">@</ci><ci id="S5.SS4.SSS2.p3.8.m6.1.2.4.cmml" xref="S5.SS4.SSS2.p3.8.m6.1.2.4">𝐾</ci><ci id="S5.SS4.SSS2.p3.8.m6.1.1.cmml" xref="S5.SS4.SSS2.p3.8.m6.1.1">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.8.m6.1c">\text{DCG}@K(u)</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.8.m6.1d">DCG @ italic_K ( italic_u )</annotation></semantics></math>, <span class="ltx_text ltx_font_italic" id="S5.SS4.SSS2.p3.9.1">i.e.</span>, the maximum possible values of <math alttext="\text{DCG}@K(u)" class="ltx_Math" display="inline" id="S5.SS4.SSS2.p3.9.m7.1"><semantics id="S5.SS4.SSS2.p3.9.m7.1a"><mrow id="S5.SS4.SSS2.p3.9.m7.1.2" xref="S5.SS4.SSS2.p3.9.m7.1.2.cmml"><mtext id="S5.SS4.SSS2.p3.9.m7.1.2.2" xref="S5.SS4.SSS2.p3.9.m7.1.2.2a.cmml">DCG</mtext><mo id="S5.SS4.SSS2.p3.9.m7.1.2.1" xref="S5.SS4.SSS2.p3.9.m7.1.2.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p3.9.m7.1.2.3" mathvariant="normal" xref="S5.SS4.SSS2.p3.9.m7.1.2.3.cmml">@</mi><mo id="S5.SS4.SSS2.p3.9.m7.1.2.1a" xref="S5.SS4.SSS2.p3.9.m7.1.2.1.cmml">⁢</mo><mi id="S5.SS4.SSS2.p3.9.m7.1.2.4" xref="S5.SS4.SSS2.p3.9.m7.1.2.4.cmml">K</mi><mo id="S5.SS4.SSS2.p3.9.m7.1.2.1b" xref="S5.SS4.SSS2.p3.9.m7.1.2.1.cmml">⁢</mo><mrow id="S5.SS4.SSS2.p3.9.m7.1.2.5.2" xref="S5.SS4.SSS2.p3.9.m7.1.2.cmml"><mo id="S5.SS4.SSS2.p3.9.m7.1.2.5.2.1" stretchy="false" xref="S5.SS4.SSS2.p3.9.m7.1.2.cmml">(</mo><mi id="S5.SS4.SSS2.p3.9.m7.1.1" xref="S5.SS4.SSS2.p3.9.m7.1.1.cmml">u</mi><mo id="S5.SS4.SSS2.p3.9.m7.1.2.5.2.2" stretchy="false" xref="S5.SS4.SSS2.p3.9.m7.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS2.p3.9.m7.1b"><apply id="S5.SS4.SSS2.p3.9.m7.1.2.cmml" xref="S5.SS4.SSS2.p3.9.m7.1.2"><times id="S5.SS4.SSS2.p3.9.m7.1.2.1.cmml" xref="S5.SS4.SSS2.p3.9.m7.1.2.1"></times><ci id="S5.SS4.SSS2.p3.9.m7.1.2.2a.cmml" xref="S5.SS4.SSS2.p3.9.m7.1.2.2"><mtext id="S5.SS4.SSS2.p3.9.m7.1.2.2.cmml" xref="S5.SS4.SSS2.p3.9.m7.1.2.2">DCG</mtext></ci><ci id="S5.SS4.SSS2.p3.9.m7.1.2.3.cmml" xref="S5.SS4.SSS2.p3.9.m7.1.2.3">@</ci><ci id="S5.SS4.SSS2.p3.9.m7.1.2.4.cmml" xref="S5.SS4.SSS2.p3.9.m7.1.2.4">𝐾</ci><ci id="S5.SS4.SSS2.p3.9.m7.1.1.cmml" xref="S5.SS4.SSS2.p3.9.m7.1.1">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS2.p3.9.m7.1c">\text{DCG}@K(u)</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS2.p3.9.m7.1d">DCG @ italic_K ( italic_u )</annotation></semantics></math> with ideal rank of the recommendation list. As for hyperparameters tuning, we employ the same strategy as used in the simulation.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.3 </span>Performance Comparison for Product Recommendation.</h4>
<figure class="ltx_table" id="S5.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Product recommendation performances on real-world data.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<table class="ltx_tabular ltx_centering ltx_figure_panel ltx_align_middle" id="S5.T4.1">
<tr class="ltx_tr" id="S5.T4.1.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S5.T4.1.1.1">Method</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.2">HR@5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.3">HR@10</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T4.1.1.4">HR@15</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.5">nDCG@5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T4.1.1.6">nDCG@10</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S5.T4.1.1.7">nDCG@15</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T4.1.2.1">NMF</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.2.2">0.0799</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.2.3">0.1209</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.2.4">0.1533</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.2.5">0.0520</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.2.6">0.0652</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.1.2.7">0.0738</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.3">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.3.1">BPR-MF</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.2">0.0744</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.3">0.1234</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.3.4">0.1578</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.5">0.0469</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.3.6">0.0625</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.3.7">0.0716</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.4.1">NeuMF</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.4.2">0.0839</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.4.3">0.1315</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.4.4">0.1702</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.4.5">0.0545</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.4.6">0.0697</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.4.7">0.0799</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.5">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T4.1.5.1">DeepICF</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.5.2">0.0748</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.5.3">0.1178</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.5.4">0.1459</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.5.5">0.0492</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.5.6">0.0624</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.1.5.7">0.0705</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.6">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T4.1.6.1">NGCF</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.6.2">0.0792</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.6.3">0.1242</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.6.4">0.1591</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.6.5">0.0520</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.6.6">0.0665</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.1.6.7">0.0757</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.7">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.7.1">DGCF</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.7.2">0.0833</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.7.3">0.1333</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.7.4">0.1710</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.7.5">0.0531</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.7.6">0.0692</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.7.7">0.0791</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.8">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.8.1">LightGCN</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.8.2"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T4.1.8.2.1">0.0862</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.8.3">0.1344</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.8.4">0.1703</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.8.5"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T4.1.8.5.1">0.0560</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.8.6"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T4.1.8.6.1">0.0717</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.8.7">0.0811</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.9">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T4.1.9.1">WDL</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.9.2">0.0664</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.9.3">0.1038</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.9.4">0.1374</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.9.5">0.0433</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.9.6">0.0553</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.1.9.7">0.0642</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.10">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.10.1">DeepFM</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.10.2">0.0655</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.10.3">0.1003</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.10.4">0.1320</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.10.5">0.0435</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.10.6">0.0546</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.10.7">0.0630</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.11">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.11.1">xDeepFM</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.11.2">0.0655</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.11.3">0.1055</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.11.4">0.1400</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.11.5">0.0422</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.11.6">0.0550</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.11.7">0.0641</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.12">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.12.1">AutoInt</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.12.2">0.0677</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.12.3">0.1073</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.12.4">0.1428</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.12.5">0.0454</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.12.6">0.0582</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.12.7">0.0675</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.13">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.13.1">C-FMF</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.13.2">0.0708</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.13.3">0.1142</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.13.4">0.1513</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.13.5">0.0459</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.13.6">0.0598</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.13.7">0.0696</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.14">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.14.1">PaDQ</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.14.2">0.0811</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.14.3">0.1237</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.14.4">0.1565</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.14.5">0.0530</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.14.6">0.0667</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.14.7">0.0754</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.15">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T4.1.15.1">PUP</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.15.2">0.0851</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.15.3"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T4.1.15.3.1">0.1350</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T4.1.15.4"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T4.1.15.4.1">0.1744</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.15.5">0.0550</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.15.6">0.0709</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T4.1.15.7"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T4.1.15.7.1">0.0814</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.16">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T4.1.16.1">ArcRec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.16.2"><span class="ltx_text ltx_font_bold" id="S5.T4.1.16.2.1">0.0943</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.16.3"><span class="ltx_text ltx_font_bold" id="S5.T4.1.16.3.1">0.1442</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T4.1.16.4"><span class="ltx_text ltx_font_bold" id="S5.T4.1.16.4.1">0.1836</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.16.5"><span class="ltx_text ltx_font_bold" id="S5.T4.1.16.5.1">0.0614</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.16.6"><span class="ltx_text ltx_font_bold" id="S5.T4.1.16.6.1">0.0773</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T4.1.16.7"><span class="ltx_text ltx_font_bold" id="S5.T4.1.16.7.1">0.0875</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.17">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S5.T4.1.17.1">Improvement</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.17.2">9.40%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.17.3">6.81%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T4.1.17.4">5.28%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.17.5">9.64%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.17.6">7.81%</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T4.1.17.7">7.49%</td>
</tr>
</table>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<ul class="ltx_itemize ltx_centering ltx_figure_panel" id="S5.I1">
<li class="ltx_item" id="S5.I1.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1</span>
<div class="ltx_para" id="S5.I1.ix1.p1">
<p class="ltx_p" id="S5.I1.ix1.p1.1">The products to be recommended are ranked among the entire set of products without negative sampling.</p>
</div>
</li>
</ul>
</div>
</div>
</figure>
<div class="ltx_para" id="S5.SS4.SSS3.p1">
<p class="ltx_p" id="S5.SS4.SSS3.p1.3">We first perform a comparative evaluation to validate the superiority of our model over the benchmark methods in terms of product recommendation accuracy. The evaluation metrics used are <math alttext="\text{HR}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS3.p1.1.m1.1"><semantics id="S5.SS4.SSS3.p1.1.m1.1a"><mrow id="S5.SS4.SSS3.p1.1.m1.1.1" xref="S5.SS4.SSS3.p1.1.m1.1.1.cmml"><mtext id="S5.SS4.SSS3.p1.1.m1.1.1.2" xref="S5.SS4.SSS3.p1.1.m1.1.1.2a.cmml">HR</mtext><mo id="S5.SS4.SSS3.p1.1.m1.1.1.1" xref="S5.SS4.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS3.p1.1.m1.1.1.3" mathvariant="normal" xref="S5.SS4.SSS3.p1.1.m1.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS3.p1.1.m1.1.1.1a" xref="S5.SS4.SSS3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS3.p1.1.m1.1.1.4" xref="S5.SS4.SSS3.p1.1.m1.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS3.p1.1.m1.1b"><apply id="S5.SS4.SSS3.p1.1.m1.1.1.cmml" xref="S5.SS4.SSS3.p1.1.m1.1.1"><times id="S5.SS4.SSS3.p1.1.m1.1.1.1.cmml" xref="S5.SS4.SSS3.p1.1.m1.1.1.1"></times><ci id="S5.SS4.SSS3.p1.1.m1.1.1.2a.cmml" xref="S5.SS4.SSS3.p1.1.m1.1.1.2"><mtext id="S5.SS4.SSS3.p1.1.m1.1.1.2.cmml" xref="S5.SS4.SSS3.p1.1.m1.1.1.2">HR</mtext></ci><ci id="S5.SS4.SSS3.p1.1.m1.1.1.3.cmml" xref="S5.SS4.SSS3.p1.1.m1.1.1.3">@</ci><ci id="S5.SS4.SSS3.p1.1.m1.1.1.4.cmml" xref="S5.SS4.SSS3.p1.1.m1.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS3.p1.1.m1.1c">\text{HR}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS3.p1.1.m1.1d">HR @ italic_K</annotation></semantics></math> and <math alttext="\text{nDCG}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS3.p1.2.m2.1"><semantics id="S5.SS4.SSS3.p1.2.m2.1a"><mrow id="S5.SS4.SSS3.p1.2.m2.1.1" xref="S5.SS4.SSS3.p1.2.m2.1.1.cmml"><mtext id="S5.SS4.SSS3.p1.2.m2.1.1.2" xref="S5.SS4.SSS3.p1.2.m2.1.1.2a.cmml">nDCG</mtext><mo id="S5.SS4.SSS3.p1.2.m2.1.1.1" xref="S5.SS4.SSS3.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS3.p1.2.m2.1.1.3" mathvariant="normal" xref="S5.SS4.SSS3.p1.2.m2.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS3.p1.2.m2.1.1.1a" xref="S5.SS4.SSS3.p1.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS3.p1.2.m2.1.1.4" xref="S5.SS4.SSS3.p1.2.m2.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS3.p1.2.m2.1b"><apply id="S5.SS4.SSS3.p1.2.m2.1.1.cmml" xref="S5.SS4.SSS3.p1.2.m2.1.1"><times id="S5.SS4.SSS3.p1.2.m2.1.1.1.cmml" xref="S5.SS4.SSS3.p1.2.m2.1.1.1"></times><ci id="S5.SS4.SSS3.p1.2.m2.1.1.2a.cmml" xref="S5.SS4.SSS3.p1.2.m2.1.1.2"><mtext id="S5.SS4.SSS3.p1.2.m2.1.1.2.cmml" xref="S5.SS4.SSS3.p1.2.m2.1.1.2">nDCG</mtext></ci><ci id="S5.SS4.SSS3.p1.2.m2.1.1.3.cmml" xref="S5.SS4.SSS3.p1.2.m2.1.1.3">@</ci><ci id="S5.SS4.SSS3.p1.2.m2.1.1.4.cmml" xref="S5.SS4.SSS3.p1.2.m2.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS3.p1.2.m2.1c">\text{nDCG}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS3.p1.2.m2.1d">nDCG @ italic_K</annotation></semantics></math>, where the number of recommendation size <math alttext="K" class="ltx_Math" display="inline" id="S5.SS4.SSS3.p1.3.m3.1"><semantics id="S5.SS4.SSS3.p1.3.m3.1a"><mi id="S5.SS4.SSS3.p1.3.m3.1.1" xref="S5.SS4.SSS3.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS3.p1.3.m3.1b"><ci id="S5.SS4.SSS3.p1.3.m3.1.1.cmml" xref="S5.SS4.SSS3.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS3.p1.3.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS3.p1.3.m3.1d">italic_K</annotation></semantics></math> is varied from 5 to 15 to demonstrate the robustness of the method. The comparative results are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T4" title="Table 4 ‣ 5.4.3 Performance Comparison for Product Recommendation. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4</span></a>, from which we can clearly find that our proposed method ArcRec consistently outperforms all the baselines. Upon closer examination of the model performances, the following observations can also be made.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS3.p2">
<p class="ltx_p" id="S5.SS4.SSS3.p2.1">Upon comparison of NeuMF with its counterparts BPR-MF and NMF, we observe that incorporating deep neural networks can significantly enhance recommendation performance, which is consistent with existing literature <cite class="ltx_cite ltx_citemacro_citep">(He et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib31" title="">2017</a>, Liu et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib56" title="">2021</a>)</cite>. Additionally, the graph-based CF methods can be viewed as extensions of classical matrix factorization-based methods, leveraging graph neural networks. In general, these graph-based CF methods (DGCF, LightGCN, etc.) demonstrate substantial improvements over the base model BPR-MF, highlighting the advantages and importance of modeling graph structures in recommender systems. However, these graph-based CF methods focus on constructing representations solely based on the consumer-product bipartite graph, without considering rich product attributes and reference dependent product relations. As a result, their recommendation performance falls short compared to our proposed method.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS3.p3">
<p class="ltx_p" id="S5.SS4.SSS3.p3.2">Furthermore, it can be observed that the two methods PaQD and PUP incorporating price as a crucial module generally perform better than the simplified variants such as MF and NGCF, which demonstrates the effectiveness of price in modeling consumers’ decision-making process. However, both methods require price discretization, which may lead to information loss since close product prices may be assigned to different bins, potentially overlooking the nuances of price differences. Conversely, our method treats product price as continuous value directly, eliminating the need for manual feature engineering and avoiding potential information loss. Interestingly, most recommendation methods that consider attributes and price perform even worse than pure collaborative filtering methods like NeuMF and DeepICF. This suggests that despite incorporating related information, these methods still struggle to effectively capture consumers’ attribute-level interest- and price-inspired preferences in real-world datasets. In contrast, our proposed method offers a novel perspective for attribute modeling through the constructed reference network structure and reference-dependent choice model, enabling better utilization of side information. For instance, ArcRec outperforms xDeepFM by approximately 44% (in terms of <math alttext="\text{HR}@5" class="ltx_Math" display="inline" id="S5.SS4.SSS3.p3.1.m1.1"><semantics id="S5.SS4.SSS3.p3.1.m1.1a"><mrow id="S5.SS4.SSS3.p3.1.m1.1.1" xref="S5.SS4.SSS3.p3.1.m1.1.1.cmml"><mtext id="S5.SS4.SSS3.p3.1.m1.1.1.2" xref="S5.SS4.SSS3.p3.1.m1.1.1.2a.cmml">HR</mtext><mo id="S5.SS4.SSS3.p3.1.m1.1.1.1" xref="S5.SS4.SSS3.p3.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS3.p3.1.m1.1.1.3" mathvariant="normal" xref="S5.SS4.SSS3.p3.1.m1.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS3.p3.1.m1.1.1.1a" xref="S5.SS4.SSS3.p3.1.m1.1.1.1.cmml">⁢</mo><mn id="S5.SS4.SSS3.p3.1.m1.1.1.4" xref="S5.SS4.SSS3.p3.1.m1.1.1.4.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS3.p3.1.m1.1b"><apply id="S5.SS4.SSS3.p3.1.m1.1.1.cmml" xref="S5.SS4.SSS3.p3.1.m1.1.1"><times id="S5.SS4.SSS3.p3.1.m1.1.1.1.cmml" xref="S5.SS4.SSS3.p3.1.m1.1.1.1"></times><ci id="S5.SS4.SSS3.p3.1.m1.1.1.2a.cmml" xref="S5.SS4.SSS3.p3.1.m1.1.1.2"><mtext id="S5.SS4.SSS3.p3.1.m1.1.1.2.cmml" xref="S5.SS4.SSS3.p3.1.m1.1.1.2">HR</mtext></ci><ci id="S5.SS4.SSS3.p3.1.m1.1.1.3.cmml" xref="S5.SS4.SSS3.p3.1.m1.1.1.3">@</ci><cn id="S5.SS4.SSS3.p3.1.m1.1.1.4.cmml" type="integer" xref="S5.SS4.SSS3.p3.1.m1.1.1.4">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS3.p3.1.m1.1c">\text{HR}@5</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS3.p3.1.m1.1d">HR @ 5</annotation></semantics></math>) and 45% (in terms of <math alttext="\text{nDCG}@5" class="ltx_Math" display="inline" id="S5.SS4.SSS3.p3.2.m2.1"><semantics id="S5.SS4.SSS3.p3.2.m2.1a"><mrow id="S5.SS4.SSS3.p3.2.m2.1.1" xref="S5.SS4.SSS3.p3.2.m2.1.1.cmml"><mtext id="S5.SS4.SSS3.p3.2.m2.1.1.2" xref="S5.SS4.SSS3.p3.2.m2.1.1.2a.cmml">nDCG</mtext><mo id="S5.SS4.SSS3.p3.2.m2.1.1.1" xref="S5.SS4.SSS3.p3.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS3.p3.2.m2.1.1.3" mathvariant="normal" xref="S5.SS4.SSS3.p3.2.m2.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS3.p3.2.m2.1.1.1a" xref="S5.SS4.SSS3.p3.2.m2.1.1.1.cmml">⁢</mo><mn id="S5.SS4.SSS3.p3.2.m2.1.1.4" xref="S5.SS4.SSS3.p3.2.m2.1.1.4.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS3.p3.2.m2.1b"><apply id="S5.SS4.SSS3.p3.2.m2.1.1.cmml" xref="S5.SS4.SSS3.p3.2.m2.1.1"><times id="S5.SS4.SSS3.p3.2.m2.1.1.1.cmml" xref="S5.SS4.SSS3.p3.2.m2.1.1.1"></times><ci id="S5.SS4.SSS3.p3.2.m2.1.1.2a.cmml" xref="S5.SS4.SSS3.p3.2.m2.1.1.2"><mtext id="S5.SS4.SSS3.p3.2.m2.1.1.2.cmml" xref="S5.SS4.SSS3.p3.2.m2.1.1.2">nDCG</mtext></ci><ci id="S5.SS4.SSS3.p3.2.m2.1.1.3.cmml" xref="S5.SS4.SSS3.p3.2.m2.1.1.3">@</ci><cn id="S5.SS4.SSS3.p3.2.m2.1.1.4.cmml" type="integer" xref="S5.SS4.SSS3.p3.2.m2.1.1.4">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS3.p3.2.m2.1c">\text{nDCG}@5</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS3.p3.2.m2.1d">nDCG @ 5</annotation></semantics></math>), reinforcing the conclusion drawn from the simulation study.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.4 </span>Performance for Recommending Cold Start Products.</h4>
<div class="ltx_para" id="S5.SS4.SSS4.p1">
<p class="ltx_p" id="S5.SS4.SSS4.p1.4">To evaluate the performance of our method in recommending cold-start products, we conduct an experiment using a standard offline evaluation procedure for cold-start products <cite class="ltx_cite ltx_citemacro_citep">(Schein et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib71" title="">2002</a>, Barjasteh et al., <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib8" title="">2016</a>)</cite>. Due to the lack of valid online feedback on real cold-start products, we simulate this scenario by randomly holding out 1.5% of the products in the dataset and treating them as new products with no purchasing records. These cold-start products are also excluded from the training stage.
In the testing phase, these cold-start products are connected to the nodes in ARNs based on their attribute values. According to Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E14" title="In 4.4 Product Recommendation Generation ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">14</span></a>) and Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E10" title="In 4.2.2 Reference-dependent Utility with Attribute Salience. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">10</span></a>), we obtain utility scores for each consumer toward each cold-start product. Subsequently, we rank all the new products based on their utility scores, and generate a top-<math alttext="K" class="ltx_Math" display="inline" id="S5.SS4.SSS4.p1.1.m1.1"><semantics id="S5.SS4.SSS4.p1.1.m1.1a"><mi id="S5.SS4.SSS4.p1.1.m1.1.1" xref="S5.SS4.SSS4.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS4.p1.1.m1.1b"><ci id="S5.SS4.SSS4.p1.1.m1.1.1.cmml" xref="S5.SS4.SSS4.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS4.p1.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS4.p1.1.m1.1d">italic_K</annotation></semantics></math> product list <math alttext="\mathbf{N}_{u}^{K}" class="ltx_Math" display="inline" id="S5.SS4.SSS4.p1.2.m2.1"><semantics id="S5.SS4.SSS4.p1.2.m2.1a"><msubsup id="S5.SS4.SSS4.p1.2.m2.1.1" xref="S5.SS4.SSS4.p1.2.m2.1.1.cmml"><mi id="S5.SS4.SSS4.p1.2.m2.1.1.2.2" xref="S5.SS4.SSS4.p1.2.m2.1.1.2.2.cmml">𝐍</mi><mi id="S5.SS4.SSS4.p1.2.m2.1.1.2.3" xref="S5.SS4.SSS4.p1.2.m2.1.1.2.3.cmml">u</mi><mi id="S5.SS4.SSS4.p1.2.m2.1.1.3" xref="S5.SS4.SSS4.p1.2.m2.1.1.3.cmml">K</mi></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS4.p1.2.m2.1b"><apply id="S5.SS4.SSS4.p1.2.m2.1.1.cmml" xref="S5.SS4.SSS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.SSS4.p1.2.m2.1.1.1.cmml" xref="S5.SS4.SSS4.p1.2.m2.1.1">superscript</csymbol><apply id="S5.SS4.SSS4.p1.2.m2.1.1.2.cmml" xref="S5.SS4.SSS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS4.SSS4.p1.2.m2.1.1.2.1.cmml" xref="S5.SS4.SSS4.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS4.SSS4.p1.2.m2.1.1.2.2.cmml" xref="S5.SS4.SSS4.p1.2.m2.1.1.2.2">𝐍</ci><ci id="S5.SS4.SSS4.p1.2.m2.1.1.2.3.cmml" xref="S5.SS4.SSS4.p1.2.m2.1.1.2.3">𝑢</ci></apply><ci id="S5.SS4.SSS4.p1.2.m2.1.1.3.cmml" xref="S5.SS4.SSS4.p1.2.m2.1.1.3">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS4.p1.2.m2.1c">\mathbf{N}_{u}^{K}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS4.p1.2.m2.1d">bold_N start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_K end_POSTSUPERSCRIPT</annotation></semantics></math> for each consumer. We use <math alttext="\text{HR}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS4.p1.3.m3.1"><semantics id="S5.SS4.SSS4.p1.3.m3.1a"><mrow id="S5.SS4.SSS4.p1.3.m3.1.1" xref="S5.SS4.SSS4.p1.3.m3.1.1.cmml"><mtext id="S5.SS4.SSS4.p1.3.m3.1.1.2" xref="S5.SS4.SSS4.p1.3.m3.1.1.2a.cmml">HR</mtext><mo id="S5.SS4.SSS4.p1.3.m3.1.1.1" xref="S5.SS4.SSS4.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS4.p1.3.m3.1.1.3" mathvariant="normal" xref="S5.SS4.SSS4.p1.3.m3.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS4.p1.3.m3.1.1.1a" xref="S5.SS4.SSS4.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS4.p1.3.m3.1.1.4" xref="S5.SS4.SSS4.p1.3.m3.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS4.p1.3.m3.1b"><apply id="S5.SS4.SSS4.p1.3.m3.1.1.cmml" xref="S5.SS4.SSS4.p1.3.m3.1.1"><times id="S5.SS4.SSS4.p1.3.m3.1.1.1.cmml" xref="S5.SS4.SSS4.p1.3.m3.1.1.1"></times><ci id="S5.SS4.SSS4.p1.3.m3.1.1.2a.cmml" xref="S5.SS4.SSS4.p1.3.m3.1.1.2"><mtext id="S5.SS4.SSS4.p1.3.m3.1.1.2.cmml" xref="S5.SS4.SSS4.p1.3.m3.1.1.2">HR</mtext></ci><ci id="S5.SS4.SSS4.p1.3.m3.1.1.3.cmml" xref="S5.SS4.SSS4.p1.3.m3.1.1.3">@</ci><ci id="S5.SS4.SSS4.p1.3.m3.1.1.4.cmml" xref="S5.SS4.SSS4.p1.3.m3.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS4.p1.3.m3.1c">\text{HR}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS4.p1.3.m3.1d">HR @ italic_K</annotation></semantics></math> and <math alttext="\text{nDCG}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS4.p1.4.m4.1"><semantics id="S5.SS4.SSS4.p1.4.m4.1a"><mrow id="S5.SS4.SSS4.p1.4.m4.1.1" xref="S5.SS4.SSS4.p1.4.m4.1.1.cmml"><mtext id="S5.SS4.SSS4.p1.4.m4.1.1.2" xref="S5.SS4.SSS4.p1.4.m4.1.1.2a.cmml">nDCG</mtext><mo id="S5.SS4.SSS4.p1.4.m4.1.1.1" xref="S5.SS4.SSS4.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS4.p1.4.m4.1.1.3" mathvariant="normal" xref="S5.SS4.SSS4.p1.4.m4.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS4.p1.4.m4.1.1.1a" xref="S5.SS4.SSS4.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS4.p1.4.m4.1.1.4" xref="S5.SS4.SSS4.p1.4.m4.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS4.p1.4.m4.1b"><apply id="S5.SS4.SSS4.p1.4.m4.1.1.cmml" xref="S5.SS4.SSS4.p1.4.m4.1.1"><times id="S5.SS4.SSS4.p1.4.m4.1.1.1.cmml" xref="S5.SS4.SSS4.p1.4.m4.1.1.1"></times><ci id="S5.SS4.SSS4.p1.4.m4.1.1.2a.cmml" xref="S5.SS4.SSS4.p1.4.m4.1.1.2"><mtext id="S5.SS4.SSS4.p1.4.m4.1.1.2.cmml" xref="S5.SS4.SSS4.p1.4.m4.1.1.2">nDCG</mtext></ci><ci id="S5.SS4.SSS4.p1.4.m4.1.1.3.cmml" xref="S5.SS4.SSS4.p1.4.m4.1.1.3">@</ci><ci id="S5.SS4.SSS4.p1.4.m4.1.1.4.cmml" xref="S5.SS4.SSS4.p1.4.m4.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS4.p1.4.m4.1c">\text{nDCG}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS4.p1.4.m4.1d">nDCG @ italic_K</annotation></semantics></math> as evaluation metrics to measure the performance of the model in recommending cold-start products.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS4.p2">
<p class="ltx_p" id="S5.SS4.SSS4.p2.3">It is worth mentioning that several benchmark methods are not applicable to the cold start setting because new products do not appear in the interaction records, making it impossible to directly estimate the utility scores. Among all the baselines summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T1" title="Table 1 ‣ 5.2 Baseline Models ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span></a>, only five methods named WDL, DeepFM, xDeepFM, AutoInt and C-FMF can deal with this situation.
As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T5" title="Table 5 ‣ 5.4.4 Performance for Recommending Cold Start Products. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">5</span></a>, it is evident that our proposed method ArcRec consistently outperforms other attribute and price-based recommendation methods. Among the baselines, C-FMF performs the second best when <math alttext="K" class="ltx_Math" display="inline" id="S5.SS4.SSS4.p2.1.m1.1"><semantics id="S5.SS4.SSS4.p2.1.m1.1a"><mi id="S5.SS4.SSS4.p2.1.m1.1.1" xref="S5.SS4.SSS4.p2.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS4.p2.1.m1.1b"><ci id="S5.SS4.SSS4.p2.1.m1.1.1.cmml" xref="S5.SS4.SSS4.p2.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS4.p2.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS4.p2.1.m1.1d">italic_K</annotation></semantics></math> is small. However, it tends to be the worst when <math alttext="K" class="ltx_Math" display="inline" id="S5.SS4.SSS4.p2.2.m2.1"><semantics id="S5.SS4.SSS4.p2.2.m2.1a"><mi id="S5.SS4.SSS4.p2.2.m2.1.1" xref="S5.SS4.SSS4.p2.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS4.p2.2.m2.1b"><ci id="S5.SS4.SSS4.p2.2.m2.1.1.cmml" xref="S5.SS4.SSS4.p2.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS4.p2.2.m2.1c">K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS4.p2.2.m2.1d">italic_K</annotation></semantics></math> becomes larger. On the other hand, xDeepFM shows competitive results when <math alttext="K" class="ltx_Math" display="inline" id="S5.SS4.SSS4.p2.3.m3.1"><semantics id="S5.SS4.SSS4.p2.3.m3.1a"><mi id="S5.SS4.SSS4.p2.3.m3.1.1" xref="S5.SS4.SSS4.p2.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS4.p2.3.m3.1b"><ci id="S5.SS4.SSS4.p2.3.m3.1.1.cmml" xref="S5.SS4.SSS4.p2.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS4.p2.3.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS4.p2.3.m3.1d">italic_K</annotation></semantics></math> is large. The results highlight the superiority of the proposed method in addressing cold start product recommendations, indicating its ability to capture consumers’ utility at the attribute-level, as only attribute information is available in the absence of historical interaction data.</p>
</div>
<figure class="ltx_table" id="S5.T5">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Recommendation performances for cold start products in the real-world data.</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T5.1" style="width:429.3pt;height:151pt;vertical-align:-20.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-22.6pt,6.8pt) scale(0.90492306720427,0.90492306720427) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T5.1.1">
<tr class="ltx_tr" id="S5.T5.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S5.T5.1.1.1.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Method</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.1.1.1.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">HR@5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.1.1.1.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">HR@10</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.1.1.1.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">HR@15</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T5.1.1.1.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">HR@20</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.1.1.1.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">nDCG@5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.1.1.1.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">nDCG@10</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T5.1.1.1.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">nDCG@15</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S5.T5.1.1.1.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">nDCG@20</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T5.1.1.2.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">WDL</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2321</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.3778</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5099</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T5.1.1.2.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5827</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.1539</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.1982</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.2.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2280</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T5.1.1.2.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2466</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T5.1.1.3.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">DeepFM</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2348</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.3875</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4890</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.3.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5756</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.1537</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2004</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.3.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2255</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T5.1.1.3.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2446</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T5.1.1.4.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">xDeepFM</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2418</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.4.3.1">0.4008</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.4.4.1">0.5172</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.4.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.4.5.1">0.6006</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.1565</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2045</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.4.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.4.8.1">0.2321</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T5.1.1.4.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.4.9.1">0.2503</span></td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T5.1.1.5.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">AutoInt</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2475</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.3965</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4973</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.5.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.5861</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.1589</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.5.7.1">0.2085</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.5.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2295</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T5.1.1.5.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2496</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.6">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T5.1.1.6.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">C-FMF</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.6.2.1">0.2568</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.3541</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4305</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T5.1.1.6.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.4973</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S5.T5.1.1.6.6.1">0.1700</span></td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.1981</td>
<td class="ltx_td ltx_align_center" id="S5.T5.1.1.6.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2185</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T5.1.1.6.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">0.2329</td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.7">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T5.1.1.7.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">ArcRec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.2" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.2.1">0.2983</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.3" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.3.1">0.4799</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.4" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.4.1">0.5807</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T5.1.1.7.5" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.5.1">0.6500</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.6" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.6.1">0.1759</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.7" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.7.1">0.2275</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T5.1.1.7.8" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.8.1">0.2529</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T5.1.1.7.9" style="padding-top:0.5pt;padding-bottom:0.5pt;"><span class="ltx_text ltx_font_bold" id="S5.T5.1.1.7.9.1">0.2686</span></td>
</tr>
<tr class="ltx_tr" id="S5.T5.1.1.8">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S5.T5.1.1.8.1" style="padding-top:0.5pt;padding-bottom:0.5pt;">Improvement</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.8.2" style="padding-top:0.5pt;padding-bottom:0.5pt;">16.16%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.8.3" style="padding-top:0.5pt;padding-bottom:0.5pt;">19.74%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.8.4" style="padding-top:0.5pt;padding-bottom:0.5pt;">12.28%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S5.T5.1.1.8.5" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.23%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.8.6" style="padding-top:0.5pt;padding-bottom:0.5pt;">3.47%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.8.7" style="padding-top:0.5pt;padding-bottom:0.5pt;">9.11%</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T5.1.1.8.8" style="padding-top:0.5pt;padding-bottom:0.5pt;">8.96%</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S5.T5.1.1.8.9" style="padding-top:0.5pt;padding-bottom:0.5pt;">7.31%</td>
</tr>
</table>
<ul class="ltx_itemize" id="S5.I2">
<li class="ltx_item" id="S5.I2.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1</span>
<div class="ltx_para" id="S5.I2.ix1.p1">
<p class="ltx_p" id="S5.I2.ix1.p1.1">The cold start products to be recommended are ranked among all the cold start products rather than the entire product set.</p>
</div>
</li>
</ul>
</span></div>
</figure>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS5">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.5 </span>Ablation Study.</h4>
<figure class="ltx_table" id="S5.T6">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Results for ablation studies on real-world data.</figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.T6.1">
<tr class="ltx_tr" id="S5.T6.1.1">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S5.T6.1.1.1">Method</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.2">HR@5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.3">HR@10</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S5.T6.1.1.4">HR@15</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.5">nDCG@5</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T6.1.1.6">nDCG@10</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_tt" id="S5.T6.1.1.7">nDCG@15</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.2">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T6.1.2.1">w/o Net</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.2">0.0869</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.3">0.1343</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T6.1.2.4">0.1714</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.5">0.0553</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.2.6">0.0705</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T6.1.2.7">0.0803</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.3">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T6.1.3.1">ArcRec-REF</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.2">0.0840</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.3">0.1268</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T6.1.3.4">0.1609</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.5">0.0555</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.3.6">0.0692</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T6.1.3.7">0.0782</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.4">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S5.T6.1.4.1">w/o AWTP</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.4.2">0.0811</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.4.3">0.1304</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S5.T6.1.4.4">0.1687</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.4.5">0.0533</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T6.1.4.6">0.0691</td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S5.T6.1.4.7">0.0792</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.5">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T6.1.5.1">ArcRec-IA</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.2">0.0721</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.3">0.1157</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T6.1.5.4">0.1495</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.5">0.0449</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.5.6">0.0589</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T6.1.5.7">0.0675</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.6">
<td class="ltx_td ltx_align_left ltx_border_r" id="S5.T6.1.6.1">ArcRec-HA</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.2">0.0595</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.3">0.1023</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S5.T6.1.6.4">0.1414</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.5">0.0380</td>
<td class="ltx_td ltx_align_center" id="S5.T6.1.6.6">0.0518</td>
<td class="ltx_td ltx_nopad_r ltx_align_center" id="S5.T6.1.6.7">0.0622</td>
</tr>
<tr class="ltx_tr" id="S5.T6.1.7">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r ltx_border_t" id="S5.T6.1.7.1">ArcRec</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T6.1.7.2"><span class="ltx_text ltx_font_bold" id="S5.T6.1.7.2.1">0.0943</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T6.1.7.3"><span class="ltx_text ltx_font_bold" id="S5.T6.1.7.3.1">0.1442</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S5.T6.1.7.4"><span class="ltx_text ltx_font_bold" id="S5.T6.1.7.4.1">0.1836</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T6.1.7.5"><span class="ltx_text ltx_font_bold" id="S5.T6.1.7.5.1">0.0614</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S5.T6.1.7.6"><span class="ltx_text ltx_font_bold" id="S5.T6.1.7.6.1">0.0773</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb ltx_border_t" id="S5.T6.1.7.7"><span class="ltx_text ltx_font_bold" id="S5.T6.1.7.7.1">0.0875</span></td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S5.SS4.SSS5.p1">
<p class="ltx_p" id="S5.SS4.SSS5.p1.1">To demonstrate how different components of the proposed framework affect the performance, we conduct ablation studies by removing or replacing key modeling modules from the full architecture. Specifically, we focus on two key modules: the attributed reference network (ARN) and the attribute-level willingness to pay (AWTP) modeling.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS5.p2">
<p class="ltx_p" id="S5.SS4.SSS5.p2.1">The ARNs serve as the core mechanism in developing our methodological framework, which greatly differ from prior work in utilizing attribute information and assist in better reference points modeling. In particular, we develop several variants of the proposed method to validate the effectiveness of this modeling component. Specifically, we remove the ARNs and the corresponding GNNs to obtain the model variant <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p2.1.1">w/o Net</span>, in which we directly use the initialized node embeddings as input for subsequent utility modeling. Meanwhile, we forego the ARNs and instead directly adopt the raw reference network without considering the decomposition as input for the GNNs layer, denoted as <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p2.1.2">ArcRec-REF</span>. This variant allows us to evaluate the effectiveness of decomposing the product reference relations based on attributes.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS5.p3">
<p class="ltx_p" id="S5.SS4.SSS5.p3.1">On the other hand, the proposed AWTP module captures consumers’ personalized salience towards specific attributes in a data-driven manner, serving as a specially designed attention network. This provides another novel modeling perspective over classical models. Therefore, in the model variant <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p3.1.1">w/o AWTP</span>, we remove the AWTP module and assign equal weights to different attributes. We also implement the AWTP module in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E10" title="In 4.2.2 Reference-dependent Utility with Attribute Salience. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">10</span></a>) through a feedforward neural network with consumer and attribute IDs as input, resulting in a model variant <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p3.1.2">ArcRec-IA</span>. Finally, in the model variant <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p3.1.3">ArcRec-HA</span>, the AWTP module is implemented by a feedforward neural network with consumers’ purchased products along with consumer and attribute IDs as input to determine the attention weights. The ablation results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T6" title="Table 6 ‣ 5.4.5 Ablation Study. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS5.p4">
<p class="ltx_p" id="S5.SS4.SSS5.p4.2"><span class="ltx_text ltx_font_bold" id="S5.SS4.SSS5.p4.2.1">Benefits of attributed reference networks.</span> As summarized in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T6" title="Table 6 ‣ 5.4.5 Ablation Study. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>, the full model outperforms <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p4.2.2">w/o Net</span> for about 9% and 11% in terms of <math alttext="\text{HR}@5" class="ltx_Math" display="inline" id="S5.SS4.SSS5.p4.1.m1.1"><semantics id="S5.SS4.SSS5.p4.1.m1.1a"><mrow id="S5.SS4.SSS5.p4.1.m1.1.1" xref="S5.SS4.SSS5.p4.1.m1.1.1.cmml"><mtext id="S5.SS4.SSS5.p4.1.m1.1.1.2" xref="S5.SS4.SSS5.p4.1.m1.1.1.2a.cmml">HR</mtext><mo id="S5.SS4.SSS5.p4.1.m1.1.1.1" xref="S5.SS4.SSS5.p4.1.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS5.p4.1.m1.1.1.3" mathvariant="normal" xref="S5.SS4.SSS5.p4.1.m1.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS5.p4.1.m1.1.1.1a" xref="S5.SS4.SSS5.p4.1.m1.1.1.1.cmml">⁢</mo><mn id="S5.SS4.SSS5.p4.1.m1.1.1.4" xref="S5.SS4.SSS5.p4.1.m1.1.1.4.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS5.p4.1.m1.1b"><apply id="S5.SS4.SSS5.p4.1.m1.1.1.cmml" xref="S5.SS4.SSS5.p4.1.m1.1.1"><times id="S5.SS4.SSS5.p4.1.m1.1.1.1.cmml" xref="S5.SS4.SSS5.p4.1.m1.1.1.1"></times><ci id="S5.SS4.SSS5.p4.1.m1.1.1.2a.cmml" xref="S5.SS4.SSS5.p4.1.m1.1.1.2"><mtext id="S5.SS4.SSS5.p4.1.m1.1.1.2.cmml" xref="S5.SS4.SSS5.p4.1.m1.1.1.2">HR</mtext></ci><ci id="S5.SS4.SSS5.p4.1.m1.1.1.3.cmml" xref="S5.SS4.SSS5.p4.1.m1.1.1.3">@</ci><cn id="S5.SS4.SSS5.p4.1.m1.1.1.4.cmml" type="integer" xref="S5.SS4.SSS5.p4.1.m1.1.1.4">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS5.p4.1.m1.1c">\text{HR}@5</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS5.p4.1.m1.1d">HR @ 5</annotation></semantics></math> and <math alttext="\text{nDCG}@5" class="ltx_Math" display="inline" id="S5.SS4.SSS5.p4.2.m2.1"><semantics id="S5.SS4.SSS5.p4.2.m2.1a"><mrow id="S5.SS4.SSS5.p4.2.m2.1.1" xref="S5.SS4.SSS5.p4.2.m2.1.1.cmml"><mtext id="S5.SS4.SSS5.p4.2.m2.1.1.2" xref="S5.SS4.SSS5.p4.2.m2.1.1.2a.cmml">nDCG</mtext><mo id="S5.SS4.SSS5.p4.2.m2.1.1.1" xref="S5.SS4.SSS5.p4.2.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS5.p4.2.m2.1.1.3" mathvariant="normal" xref="S5.SS4.SSS5.p4.2.m2.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS5.p4.2.m2.1.1.1a" xref="S5.SS4.SSS5.p4.2.m2.1.1.1.cmml">⁢</mo><mn id="S5.SS4.SSS5.p4.2.m2.1.1.4" xref="S5.SS4.SSS5.p4.2.m2.1.1.4.cmml">5</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS5.p4.2.m2.1b"><apply id="S5.SS4.SSS5.p4.2.m2.1.1.cmml" xref="S5.SS4.SSS5.p4.2.m2.1.1"><times id="S5.SS4.SSS5.p4.2.m2.1.1.1.cmml" xref="S5.SS4.SSS5.p4.2.m2.1.1.1"></times><ci id="S5.SS4.SSS5.p4.2.m2.1.1.2a.cmml" xref="S5.SS4.SSS5.p4.2.m2.1.1.2"><mtext id="S5.SS4.SSS5.p4.2.m2.1.1.2.cmml" xref="S5.SS4.SSS5.p4.2.m2.1.1.2">nDCG</mtext></ci><ci id="S5.SS4.SSS5.p4.2.m2.1.1.3.cmml" xref="S5.SS4.SSS5.p4.2.m2.1.1.3">@</ci><cn id="S5.SS4.SSS5.p4.2.m2.1.1.4.cmml" type="integer" xref="S5.SS4.SSS5.p4.2.m2.1.1.4">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS5.p4.2.m2.1c">\text{nDCG}@5</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS5.p4.2.m2.1d">nDCG @ 5</annotation></semantics></math> respectively, which demonstrate the values in introducing reference network as well as ARNs. It also validates the assumption that the “wisdom of crowds” can contribute to more nuanced modeling of consumer’s reference points than individual consumer’s behaviors alone. Moreover, it is seen that <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p4.2.3">ArcRec-REF</span> is also inferior to our proposed method. This can be attributed to the fact that the raw reference network without considering the decomposition with specific attributes may arouse invalid transitivity and thereby fail to capture appropriate reference points as well as fine-grained attribute-level utilities. Conversely, the ARNs in our proposed method can mitigate the gap and achieve better performances.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS5.p5">
<p class="ltx_p" id="S5.SS4.SSS5.p5.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.SSS5.p5.1.1">Benefits of attribute-level willingness to pay.</span>
The AWTP module in ArcRec plays a crucial role in capturing consumers’ attitudes towards different attributes. By comparing the full ArcRec model with the variant <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p5.1.2">w/o AWTP</span> in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T6" title="Table 6 ‣ 5.4.5 Ablation Study. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>, we observe that the proposed AWTP module significantly improves the recommendation performance, which partly supports the necessity of assigning personalized weights for different attributes in modeling consumers’ purchase decisions.
However, it is worth noting that the weights of AWTP cannot be effectively captured by traditional attention network designs. This is evident from the inferior performance of the variants <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p5.1.3">ArcRec-IA</span> and <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p5.1.4">ArcRec-HA</span> compared to the base model <span class="ltx_text ltx_font_sansserif" id="S5.SS4.SSS5.p5.1.5">w/o AWTP</span>, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.T6" title="Table 6 ‣ 5.4.5 Ablation Study. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>. This further highlights the advantages of the construction of the AWTP based on the decomposed product embeddings and price deviations.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS6">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.6 </span>A Post-hoc Analysis of Consumers’ AWTP.</h4>
<div class="ltx_para" id="S5.SS4.SSS6.p1">
<p class="ltx_p" id="S5.SS4.SSS6.p1.2">The proposed method offers valuable insights into consumers’ AWTP through the indicator <math alttext="I_{u,k}" class="ltx_Math" display="inline" id="S5.SS4.SSS6.p1.1.m1.2"><semantics id="S5.SS4.SSS6.p1.1.m1.2a"><msub id="S5.SS4.SSS6.p1.1.m1.2.3" xref="S5.SS4.SSS6.p1.1.m1.2.3.cmml"><mi id="S5.SS4.SSS6.p1.1.m1.2.3.2" xref="S5.SS4.SSS6.p1.1.m1.2.3.2.cmml">I</mi><mrow id="S5.SS4.SSS6.p1.1.m1.2.2.2.4" xref="S5.SS4.SSS6.p1.1.m1.2.2.2.3.cmml"><mi id="S5.SS4.SSS6.p1.1.m1.1.1.1.1" xref="S5.SS4.SSS6.p1.1.m1.1.1.1.1.cmml">u</mi><mo id="S5.SS4.SSS6.p1.1.m1.2.2.2.4.1" xref="S5.SS4.SSS6.p1.1.m1.2.2.2.3.cmml">,</mo><mi id="S5.SS4.SSS6.p1.1.m1.2.2.2.2" xref="S5.SS4.SSS6.p1.1.m1.2.2.2.2.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS6.p1.1.m1.2b"><apply id="S5.SS4.SSS6.p1.1.m1.2.3.cmml" xref="S5.SS4.SSS6.p1.1.m1.2.3"><csymbol cd="ambiguous" id="S5.SS4.SSS6.p1.1.m1.2.3.1.cmml" xref="S5.SS4.SSS6.p1.1.m1.2.3">subscript</csymbol><ci id="S5.SS4.SSS6.p1.1.m1.2.3.2.cmml" xref="S5.SS4.SSS6.p1.1.m1.2.3.2">𝐼</ci><list id="S5.SS4.SSS6.p1.1.m1.2.2.2.3.cmml" xref="S5.SS4.SSS6.p1.1.m1.2.2.2.4"><ci id="S5.SS4.SSS6.p1.1.m1.1.1.1.1.cmml" xref="S5.SS4.SSS6.p1.1.m1.1.1.1.1">𝑢</ci><ci id="S5.SS4.SSS6.p1.1.m1.2.2.2.2.cmml" xref="S5.SS4.SSS6.p1.1.m1.2.2.2.2">𝑘</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS6.p1.1.m1.2c">I_{u,k}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS6.p1.1.m1.2d">italic_I start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, as calculated by Equation (<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S4.E9" title="In 4.2.2 Reference-dependent Utility with Attribute Salience. ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">9</span></a>). This indicator quantifies the relative importance that consumers assign to different attributes when making purchasing decisions. By analyzing the values of <math alttext="I_{u,k}" class="ltx_Math" display="inline" id="S5.SS4.SSS6.p1.2.m2.2"><semantics id="S5.SS4.SSS6.p1.2.m2.2a"><msub id="S5.SS4.SSS6.p1.2.m2.2.3" xref="S5.SS4.SSS6.p1.2.m2.2.3.cmml"><mi id="S5.SS4.SSS6.p1.2.m2.2.3.2" xref="S5.SS4.SSS6.p1.2.m2.2.3.2.cmml">I</mi><mrow id="S5.SS4.SSS6.p1.2.m2.2.2.2.4" xref="S5.SS4.SSS6.p1.2.m2.2.2.2.3.cmml"><mi id="S5.SS4.SSS6.p1.2.m2.1.1.1.1" xref="S5.SS4.SSS6.p1.2.m2.1.1.1.1.cmml">u</mi><mo id="S5.SS4.SSS6.p1.2.m2.2.2.2.4.1" xref="S5.SS4.SSS6.p1.2.m2.2.2.2.3.cmml">,</mo><mi id="S5.SS4.SSS6.p1.2.m2.2.2.2.2" xref="S5.SS4.SSS6.p1.2.m2.2.2.2.2.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS6.p1.2.m2.2b"><apply id="S5.SS4.SSS6.p1.2.m2.2.3.cmml" xref="S5.SS4.SSS6.p1.2.m2.2.3"><csymbol cd="ambiguous" id="S5.SS4.SSS6.p1.2.m2.2.3.1.cmml" xref="S5.SS4.SSS6.p1.2.m2.2.3">subscript</csymbol><ci id="S5.SS4.SSS6.p1.2.m2.2.3.2.cmml" xref="S5.SS4.SSS6.p1.2.m2.2.3.2">𝐼</ci><list id="S5.SS4.SSS6.p1.2.m2.2.2.2.3.cmml" xref="S5.SS4.SSS6.p1.2.m2.2.2.2.4"><ci id="S5.SS4.SSS6.p1.2.m2.1.1.1.1.cmml" xref="S5.SS4.SSS6.p1.2.m2.1.1.1.1">𝑢</ci><ci id="S5.SS4.SSS6.p1.2.m2.2.2.2.2.cmml" xref="S5.SS4.SSS6.p1.2.m2.2.2.2.2">𝑘</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS6.p1.2.m2.2c">I_{u,k}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS6.p1.2.m2.2d">italic_I start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, we can gain a better understanding of how consumers weigh and prioritize different attributes.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS6.p2">
<p class="ltx_p" id="S5.SS4.SSS6.p2.1">Then, to visualize the representation of the learned AWTP, we use the t-SNE method <cite class="ltx_cite ltx_citemacro_citep">(Van der Maaten and Hinton, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib77" title="">2008</a>)</cite> to project the indicator vector <math alttext="I_{u,k}" class="ltx_Math" display="inline" id="S5.SS4.SSS6.p2.1.m1.2"><semantics id="S5.SS4.SSS6.p2.1.m1.2a"><msub id="S5.SS4.SSS6.p2.1.m1.2.3" xref="S5.SS4.SSS6.p2.1.m1.2.3.cmml"><mi id="S5.SS4.SSS6.p2.1.m1.2.3.2" xref="S5.SS4.SSS6.p2.1.m1.2.3.2.cmml">I</mi><mrow id="S5.SS4.SSS6.p2.1.m1.2.2.2.4" xref="S5.SS4.SSS6.p2.1.m1.2.2.2.3.cmml"><mi id="S5.SS4.SSS6.p2.1.m1.1.1.1.1" xref="S5.SS4.SSS6.p2.1.m1.1.1.1.1.cmml">u</mi><mo id="S5.SS4.SSS6.p2.1.m1.2.2.2.4.1" xref="S5.SS4.SSS6.p2.1.m1.2.2.2.3.cmml">,</mo><mi id="S5.SS4.SSS6.p2.1.m1.2.2.2.2" xref="S5.SS4.SSS6.p2.1.m1.2.2.2.2.cmml">k</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS6.p2.1.m1.2b"><apply id="S5.SS4.SSS6.p2.1.m1.2.3.cmml" xref="S5.SS4.SSS6.p2.1.m1.2.3"><csymbol cd="ambiguous" id="S5.SS4.SSS6.p2.1.m1.2.3.1.cmml" xref="S5.SS4.SSS6.p2.1.m1.2.3">subscript</csymbol><ci id="S5.SS4.SSS6.p2.1.m1.2.3.2.cmml" xref="S5.SS4.SSS6.p2.1.m1.2.3.2">𝐼</ci><list id="S5.SS4.SSS6.p2.1.m1.2.2.2.3.cmml" xref="S5.SS4.SSS6.p2.1.m1.2.2.2.4"><ci id="S5.SS4.SSS6.p2.1.m1.1.1.1.1.cmml" xref="S5.SS4.SSS6.p2.1.m1.1.1.1.1">𝑢</ci><ci id="S5.SS4.SSS6.p2.1.m1.2.2.2.2.cmml" xref="S5.SS4.SSS6.p2.1.m1.2.2.2.2">𝑘</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS6.p2.1.m1.2c">I_{u,k}</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS6.p2.1.m1.2d">italic_I start_POSTSUBSCRIPT italic_u , italic_k end_POSTSUBSCRIPT</annotation></semantics></math> into a two-dimensional space. In addition, we further segment all the consumers into several clusters using K-Means clustering method based on the AWTP indicators, opting for 3 clusters. Each cluster represents a group of consumers with similar AWTP. Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.F4" title="Figure 4 ‣ 5.4.6 A Post-hoc Analysis of Consumers’ AWTP. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4</span></a> presents a two-dimensional visualization of consumer distribution generated by the t-SNE method. Each dot in the figure represents an individual consumer, and the color of the dot indicates the cluster membership determined by the K-Means clustering method. As can be seen from the figure, different clusters are clearly separated from each other. This clustering visualization result demonstrates the effectiveness of the learned AWTP as a valuable tool for consumer segmentation.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS6.p3">
<p class="ltx_p" id="S5.SS4.SSS6.p3.1">Additionally, we also present a heat map to provide more detailed information of consumers’ AWTP in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.F4" title="Figure 4 ‣ 5.4.6 A Post-hoc Analysis of Consumers’ AWTP. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">4</span></a>. In particular, we randomly sample 15 consumers from each cluster, resulting in a total of 45 sampled consumers for the sake of visualization. The x-axis represents three different product attributes and the y-axis represents the sampled 45 consumers. The color of each grid in the heat map represents the value of the AWTP score for a specific pair of attribute and consumer. Darker colors indicate higher AWTP scores, indicating that the corresponding attribute is more important for the consumer.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS6.p4">
<p class="ltx_p" id="S5.SS4.SSS6.p4.1">By examining the heat map, we can observe distinct patterns for each cluster. Consumers in the first cluster exhibit a higher AWTP for the “brand” attribute, as indicated by the darker colors in the corresponding grid cells. On the other hand, consumers in the second cluster show a higher AWTP for the “category” attribute, while consumers in the third cluster demonstrate a stronger priority for the “size” attribute.</p>
</div>
<figure class="ltx_figure" id="S5.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S5.F4.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="259" id="S5.F4.1.g1" src="x4.png" width="348"/>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S5.F4.2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="262" id="S5.F4.2.g1" src="x5.png" width="332"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Visualization of consumers’ attribute-level willingness to pay (AWTP). (a) consumer segmentation based on AWTP. (b) Heat map of sampled consumers’ AWTP.</figcaption>
</figure>
<div class="ltx_para" id="S5.SS4.SSS6.p5">
<p class="ltx_p" id="S5.SS4.SSS6.p5.1">In Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.F5" title="Figure 5 ‣ 5.4.6 A Post-hoc Analysis of Consumers’ AWTP. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">5</span></a>, we present several representative cases to further validate the effectiveness of the AWTP and its ability to capture consumers’ preferences. We randomly select one consumer from each cluster and display her AWTP scores for different attributes, along with her historical purchasing records. As indicated by the high AWTP score in the ”brand” attribute, we can observe that consumer 10775 shows a strong preference for well-known brands such as <em class="ltx_emph ltx_font_italic" id="S5.SS4.SSS6.p5.1.1">Lancome</em>, <em class="ltx_emph ltx_font_italic" id="S5.SS4.SSS6.p5.1.2">Dior</em>, regardless of the price, category, or size of the products they purchase. Another representative consumer is 1122 with the highest AWTP score in “category”, and we can also observe that the consumer’s purchasing records are solely focused on the category of perfume. This suggests that the consumer may consider the store as a professional perfume store, and their purchasing decisions are greatly influenced by the specific category.
In addition, we also find that consumer 5876 prefers to try sample products with small sizes, which indicates that the consumer may be more interested in sample packs or small-sized products. This aligns with the highest AWTP in the ”size” attribute.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS6.p6">
<p class="ltx_p" id="S5.SS4.SSS6.p6.1">In conclusion, the AWTP, learned by our proposed model, serves as an effective representation of consumers’ attitude to different attributes. It enables us to uncover fine-grained preferences of consumers based on limited purchase behaviors, and thus can be utilized as a powerful tool for consumer segmentation and marketing strategy design. Moreover, the learned AWTP provides insights into consumers’ priorities for different product attributes, which allows for a more detailed understanding of consumer preferences beyond overall product choices.</p>
</div>
<figure class="ltx_figure" id="S5.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="314" id="S5.F5.g1" src="x6.png" width="826"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Representative consumers’ AWTP and purchasing records.</figcaption>
</figure>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS7">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.7 </span>Parameter Analysis.</h4>
<div class="ltx_para" id="S5.SS4.SSS7.p1">
<p class="ltx_p" id="S5.SS4.SSS7.p1.4">The number of GNN layers <math alttext="L" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p1.1.m1.1"><semantics id="S5.SS4.SSS7.p1.1.m1.1a"><mi id="S5.SS4.SSS7.p1.1.m1.1.1" xref="S5.SS4.SSS7.p1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p1.1.m1.1b"><ci id="S5.SS4.SSS7.p1.1.m1.1.1.cmml" xref="S5.SS4.SSS7.p1.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p1.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p1.1.m1.1d">italic_L</annotation></semantics></math> and the embedding dimension <math alttext="d" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p1.2.m2.1"><semantics id="S5.SS4.SSS7.p1.2.m2.1a"><mi id="S5.SS4.SSS7.p1.2.m2.1.1" xref="S5.SS4.SSS7.p1.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p1.2.m2.1b"><ci id="S5.SS4.SSS7.p1.2.m2.1.1.cmml" xref="S5.SS4.SSS7.p1.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p1.2.m2.1c">d</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p1.2.m2.1d">italic_d</annotation></semantics></math> are critical hyperparameters of our model. In this experiment, we investigate the effects of these hyperparameters on ArcRec using the real-world dataset. The evaluation metrics employed are <math alttext="\text{HR}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p1.3.m3.1"><semantics id="S5.SS4.SSS7.p1.3.m3.1a"><mrow id="S5.SS4.SSS7.p1.3.m3.1.1" xref="S5.SS4.SSS7.p1.3.m3.1.1.cmml"><mtext id="S5.SS4.SSS7.p1.3.m3.1.1.2" xref="S5.SS4.SSS7.p1.3.m3.1.1.2a.cmml">HR</mtext><mo id="S5.SS4.SSS7.p1.3.m3.1.1.1" xref="S5.SS4.SSS7.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS7.p1.3.m3.1.1.3" mathvariant="normal" xref="S5.SS4.SSS7.p1.3.m3.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS7.p1.3.m3.1.1.1a" xref="S5.SS4.SSS7.p1.3.m3.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS7.p1.3.m3.1.1.4" xref="S5.SS4.SSS7.p1.3.m3.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p1.3.m3.1b"><apply id="S5.SS4.SSS7.p1.3.m3.1.1.cmml" xref="S5.SS4.SSS7.p1.3.m3.1.1"><times id="S5.SS4.SSS7.p1.3.m3.1.1.1.cmml" xref="S5.SS4.SSS7.p1.3.m3.1.1.1"></times><ci id="S5.SS4.SSS7.p1.3.m3.1.1.2a.cmml" xref="S5.SS4.SSS7.p1.3.m3.1.1.2"><mtext id="S5.SS4.SSS7.p1.3.m3.1.1.2.cmml" xref="S5.SS4.SSS7.p1.3.m3.1.1.2">HR</mtext></ci><ci id="S5.SS4.SSS7.p1.3.m3.1.1.3.cmml" xref="S5.SS4.SSS7.p1.3.m3.1.1.3">@</ci><ci id="S5.SS4.SSS7.p1.3.m3.1.1.4.cmml" xref="S5.SS4.SSS7.p1.3.m3.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p1.3.m3.1c">\text{HR}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p1.3.m3.1d">HR @ italic_K</annotation></semantics></math> and <math alttext="\text{nDCG}@K" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p1.4.m4.1"><semantics id="S5.SS4.SSS7.p1.4.m4.1a"><mrow id="S5.SS4.SSS7.p1.4.m4.1.1" xref="S5.SS4.SSS7.p1.4.m4.1.1.cmml"><mtext id="S5.SS4.SSS7.p1.4.m4.1.1.2" xref="S5.SS4.SSS7.p1.4.m4.1.1.2a.cmml">nDCG</mtext><mo id="S5.SS4.SSS7.p1.4.m4.1.1.1" xref="S5.SS4.SSS7.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS7.p1.4.m4.1.1.3" mathvariant="normal" xref="S5.SS4.SSS7.p1.4.m4.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS7.p1.4.m4.1.1.1a" xref="S5.SS4.SSS7.p1.4.m4.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS7.p1.4.m4.1.1.4" xref="S5.SS4.SSS7.p1.4.m4.1.1.4.cmml">K</mi></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p1.4.m4.1b"><apply id="S5.SS4.SSS7.p1.4.m4.1.1.cmml" xref="S5.SS4.SSS7.p1.4.m4.1.1"><times id="S5.SS4.SSS7.p1.4.m4.1.1.1.cmml" xref="S5.SS4.SSS7.p1.4.m4.1.1.1"></times><ci id="S5.SS4.SSS7.p1.4.m4.1.1.2a.cmml" xref="S5.SS4.SSS7.p1.4.m4.1.1.2"><mtext id="S5.SS4.SSS7.p1.4.m4.1.1.2.cmml" xref="S5.SS4.SSS7.p1.4.m4.1.1.2">nDCG</mtext></ci><ci id="S5.SS4.SSS7.p1.4.m4.1.1.3.cmml" xref="S5.SS4.SSS7.p1.4.m4.1.1.3">@</ci><ci id="S5.SS4.SSS7.p1.4.m4.1.1.4.cmml" xref="S5.SS4.SSS7.p1.4.m4.1.1.4">𝐾</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p1.4.m4.1c">\text{nDCG}@K</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p1.4.m4.1d">nDCG @ italic_K</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS7.p2">
<p class="ltx_p" id="S5.SS4.SSS7.p2.7"><span class="ltx_text ltx_font_bold" id="S5.SS4.SSS7.p2.1.1">The number of GNN layers <math alttext="L" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p2.1.1.m1.1"><semantics id="S5.SS4.SSS7.p2.1.1.m1.1a"><mi id="S5.SS4.SSS7.p2.1.1.m1.1.1" xref="S5.SS4.SSS7.p2.1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p2.1.1.m1.1b"><ci id="S5.SS4.SSS7.p2.1.1.m1.1.1.cmml" xref="S5.SS4.SSS7.p2.1.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p2.1.1.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p2.1.1.m1.1d">italic_L</annotation></semantics></math>.</span> As can be seen from Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.F6" title="Figure 6 ‣ 5.4.7 Parameter Analysis. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>, the model performance initially improves as <math alttext="L" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p2.2.m1.1"><semantics id="S5.SS4.SSS7.p2.2.m1.1a"><mi id="S5.SS4.SSS7.p2.2.m1.1.1" xref="S5.SS4.SSS7.p2.2.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p2.2.m1.1b"><ci id="S5.SS4.SSS7.p2.2.m1.1.1.cmml" xref="S5.SS4.SSS7.p2.2.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p2.2.m1.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p2.2.m1.1d">italic_L</annotation></semantics></math> increases and then tends to stabilize after <math alttext="L" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p2.3.m2.1"><semantics id="S5.SS4.SSS7.p2.3.m2.1a"><mi id="S5.SS4.SSS7.p2.3.m2.1.1" xref="S5.SS4.SSS7.p2.3.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p2.3.m2.1b"><ci id="S5.SS4.SSS7.p2.3.m2.1.1.cmml" xref="S5.SS4.SSS7.p2.3.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p2.3.m2.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p2.3.m2.1d">italic_L</annotation></semantics></math> exceeds 2. Notably, when <math alttext="L=0" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p2.4.m3.1"><semantics id="S5.SS4.SSS7.p2.4.m3.1a"><mrow id="S5.SS4.SSS7.p2.4.m3.1.1" xref="S5.SS4.SSS7.p2.4.m3.1.1.cmml"><mi id="S5.SS4.SSS7.p2.4.m3.1.1.2" xref="S5.SS4.SSS7.p2.4.m3.1.1.2.cmml">L</mi><mo id="S5.SS4.SSS7.p2.4.m3.1.1.1" xref="S5.SS4.SSS7.p2.4.m3.1.1.1.cmml">=</mo><mn id="S5.SS4.SSS7.p2.4.m3.1.1.3" xref="S5.SS4.SSS7.p2.4.m3.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p2.4.m3.1b"><apply id="S5.SS4.SSS7.p2.4.m3.1.1.cmml" xref="S5.SS4.SSS7.p2.4.m3.1.1"><eq id="S5.SS4.SSS7.p2.4.m3.1.1.1.cmml" xref="S5.SS4.SSS7.p2.4.m3.1.1.1"></eq><ci id="S5.SS4.SSS7.p2.4.m3.1.1.2.cmml" xref="S5.SS4.SSS7.p2.4.m3.1.1.2">𝐿</ci><cn id="S5.SS4.SSS7.p2.4.m3.1.1.3.cmml" type="integer" xref="S5.SS4.SSS7.p2.4.m3.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p2.4.m3.1c">L=0</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p2.4.m3.1d">italic_L = 0</annotation></semantics></math>, our model is simplified to the model variant w/o Net proposed in the ablation study. As evident in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.F6" title="Figure 6 ‣ 5.4.7 Parameter Analysis. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>, it’s clear that the model performance is significantly lower when <math alttext="L=0" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p2.5.m4.1"><semantics id="S5.SS4.SSS7.p2.5.m4.1a"><mrow id="S5.SS4.SSS7.p2.5.m4.1.1" xref="S5.SS4.SSS7.p2.5.m4.1.1.cmml"><mi id="S5.SS4.SSS7.p2.5.m4.1.1.2" xref="S5.SS4.SSS7.p2.5.m4.1.1.2.cmml">L</mi><mo id="S5.SS4.SSS7.p2.5.m4.1.1.1" xref="S5.SS4.SSS7.p2.5.m4.1.1.1.cmml">=</mo><mn id="S5.SS4.SSS7.p2.5.m4.1.1.3" xref="S5.SS4.SSS7.p2.5.m4.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p2.5.m4.1b"><apply id="S5.SS4.SSS7.p2.5.m4.1.1.cmml" xref="S5.SS4.SSS7.p2.5.m4.1.1"><eq id="S5.SS4.SSS7.p2.5.m4.1.1.1.cmml" xref="S5.SS4.SSS7.p2.5.m4.1.1.1"></eq><ci id="S5.SS4.SSS7.p2.5.m4.1.1.2.cmml" xref="S5.SS4.SSS7.p2.5.m4.1.1.2">𝐿</ci><cn id="S5.SS4.SSS7.p2.5.m4.1.1.3.cmml" type="integer" xref="S5.SS4.SSS7.p2.5.m4.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p2.5.m4.1c">L=0</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p2.5.m4.1d">italic_L = 0</annotation></semantics></math> compared to cases with larger <math alttext="L" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p2.6.m5.1"><semantics id="S5.SS4.SSS7.p2.6.m5.1a"><mi id="S5.SS4.SSS7.p2.6.m5.1.1" xref="S5.SS4.SSS7.p2.6.m5.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p2.6.m5.1b"><ci id="S5.SS4.SSS7.p2.6.m5.1.1.cmml" xref="S5.SS4.SSS7.p2.6.m5.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p2.6.m5.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p2.6.m5.1d">italic_L</annotation></semantics></math>, regardless of the specific value of <math alttext="L" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p2.7.m6.1"><semantics id="S5.SS4.SSS7.p2.7.m6.1a"><mi id="S5.SS4.SSS7.p2.7.m6.1.1" xref="S5.SS4.SSS7.p2.7.m6.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p2.7.m6.1b"><ci id="S5.SS4.SSS7.p2.7.m6.1.1.cmml" xref="S5.SS4.SSS7.p2.7.m6.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p2.7.m6.1c">L</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p2.7.m6.1d">italic_L</annotation></semantics></math>. This trend conforms to the performances observed in the ablation study and again highlights the necessity of introducing reference network as well as ARNs.</p>
</div>
<div class="ltx_para" id="S5.SS4.SSS7.p3">
<p class="ltx_p" id="S5.SS4.SSS7.p3.3"><span class="ltx_text ltx_font_bold" id="S5.SS4.SSS7.p3.1.1">The embedding dimension <math alttext="d" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p3.1.1.m1.1"><semantics id="S5.SS4.SSS7.p3.1.1.m1.1a"><mi id="S5.SS4.SSS7.p3.1.1.m1.1.1" xref="S5.SS4.SSS7.p3.1.1.m1.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p3.1.1.m1.1b"><ci id="S5.SS4.SSS7.p3.1.1.m1.1.1.cmml" xref="S5.SS4.SSS7.p3.1.1.m1.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p3.1.1.m1.1c">d</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p3.1.1.m1.1d">italic_d</annotation></semantics></math>.</span> Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.F6" title="Figure 6 ‣ 5.4.7 Parameter Analysis. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a> illustrates the influence of the embedding dimension on the model performance. It’s evident that, in most cases, model performance increases with the embedding dimension because larger embedding dimensions tend to provide stronger representational power. Nevertheless, employing high-dimensional representations doesn’t consistently yield superior results. For instance, in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#S5.F6" title="Figure 6 ‣ 5.4.7 Parameter Analysis. ‣ 5.4 Empirical Evaluations on Real-world Data ‣ 5 Empirical Evaluations ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">6</span></a>, we observe that both <math alttext="\text{HR}@15" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p3.2.m1.1"><semantics id="S5.SS4.SSS7.p3.2.m1.1a"><mrow id="S5.SS4.SSS7.p3.2.m1.1.1" xref="S5.SS4.SSS7.p3.2.m1.1.1.cmml"><mtext id="S5.SS4.SSS7.p3.2.m1.1.1.2" xref="S5.SS4.SSS7.p3.2.m1.1.1.2a.cmml">HR</mtext><mo id="S5.SS4.SSS7.p3.2.m1.1.1.1" xref="S5.SS4.SSS7.p3.2.m1.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS7.p3.2.m1.1.1.3" mathvariant="normal" xref="S5.SS4.SSS7.p3.2.m1.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS7.p3.2.m1.1.1.1a" xref="S5.SS4.SSS7.p3.2.m1.1.1.1.cmml">⁢</mo><mn id="S5.SS4.SSS7.p3.2.m1.1.1.4" xref="S5.SS4.SSS7.p3.2.m1.1.1.4.cmml">15</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p3.2.m1.1b"><apply id="S5.SS4.SSS7.p3.2.m1.1.1.cmml" xref="S5.SS4.SSS7.p3.2.m1.1.1"><times id="S5.SS4.SSS7.p3.2.m1.1.1.1.cmml" xref="S5.SS4.SSS7.p3.2.m1.1.1.1"></times><ci id="S5.SS4.SSS7.p3.2.m1.1.1.2a.cmml" xref="S5.SS4.SSS7.p3.2.m1.1.1.2"><mtext id="S5.SS4.SSS7.p3.2.m1.1.1.2.cmml" xref="S5.SS4.SSS7.p3.2.m1.1.1.2">HR</mtext></ci><ci id="S5.SS4.SSS7.p3.2.m1.1.1.3.cmml" xref="S5.SS4.SSS7.p3.2.m1.1.1.3">@</ci><cn id="S5.SS4.SSS7.p3.2.m1.1.1.4.cmml" type="integer" xref="S5.SS4.SSS7.p3.2.m1.1.1.4">15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p3.2.m1.1c">\text{HR}@15</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p3.2.m1.1d">HR @ 15</annotation></semantics></math> and <math alttext="\text{nDCG}@15" class="ltx_Math" display="inline" id="S5.SS4.SSS7.p3.3.m2.1"><semantics id="S5.SS4.SSS7.p3.3.m2.1a"><mrow id="S5.SS4.SSS7.p3.3.m2.1.1" xref="S5.SS4.SSS7.p3.3.m2.1.1.cmml"><mtext id="S5.SS4.SSS7.p3.3.m2.1.1.2" xref="S5.SS4.SSS7.p3.3.m2.1.1.2a.cmml">nDCG</mtext><mo id="S5.SS4.SSS7.p3.3.m2.1.1.1" xref="S5.SS4.SSS7.p3.3.m2.1.1.1.cmml">⁢</mo><mi id="S5.SS4.SSS7.p3.3.m2.1.1.3" mathvariant="normal" xref="S5.SS4.SSS7.p3.3.m2.1.1.3.cmml">@</mi><mo id="S5.SS4.SSS7.p3.3.m2.1.1.1a" xref="S5.SS4.SSS7.p3.3.m2.1.1.1.cmml">⁢</mo><mn id="S5.SS4.SSS7.p3.3.m2.1.1.4" xref="S5.SS4.SSS7.p3.3.m2.1.1.4.cmml">15</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.SS4.SSS7.p3.3.m2.1b"><apply id="S5.SS4.SSS7.p3.3.m2.1.1.cmml" xref="S5.SS4.SSS7.p3.3.m2.1.1"><times id="S5.SS4.SSS7.p3.3.m2.1.1.1.cmml" xref="S5.SS4.SSS7.p3.3.m2.1.1.1"></times><ci id="S5.SS4.SSS7.p3.3.m2.1.1.2a.cmml" xref="S5.SS4.SSS7.p3.3.m2.1.1.2"><mtext id="S5.SS4.SSS7.p3.3.m2.1.1.2.cmml" xref="S5.SS4.SSS7.p3.3.m2.1.1.2">nDCG</mtext></ci><ci id="S5.SS4.SSS7.p3.3.m2.1.1.3.cmml" xref="S5.SS4.SSS7.p3.3.m2.1.1.3">@</ci><cn id="S5.SS4.SSS7.p3.3.m2.1.1.4.cmml" type="integer" xref="S5.SS4.SSS7.p3.3.m2.1.1.4">15</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS4.SSS7.p3.3.m2.1c">\text{nDCG}@15</annotation><annotation encoding="application/x-llamapun" id="S5.SS4.SSS7.p3.3.m2.1d">nDCG @ 15</annotation></semantics></math> metrics perform better when the embedding dimension is set to 32 compared to when it’s set to 64.</p>
</div>
<figure class="ltx_figure" id="S5.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S5.F6.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="191" id="S5.F6.1.g1" src="x7.png" width="540"/>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S5.F6.2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="191" id="S5.F6.2.g1" src="x8.png" width="540"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Impact of different hyperparameters on model performances. (a) <math alttext="L" class="ltx_Math" display="inline" id="S5.F6.5.m1.1"><semantics id="S5.F6.5.m1.1b"><mi id="S5.F6.5.m1.1.1" xref="S5.F6.5.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.F6.5.m1.1c"><ci id="S5.F6.5.m1.1.1.cmml" xref="S5.F6.5.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.5.m1.1d">L</annotation><annotation encoding="application/x-llamapun" id="S5.F6.5.m1.1e">italic_L</annotation></semantics></math>: the number of GNN layers. (b) <math alttext="d" class="ltx_Math" display="inline" id="S5.F6.6.m2.1"><semantics id="S5.F6.6.m2.1b"><mi id="S5.F6.6.m2.1.1" xref="S5.F6.6.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S5.F6.6.m2.1c"><ci id="S5.F6.6.m2.1.1.cmml" xref="S5.F6.6.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.F6.6.m2.1d">d</annotation><annotation encoding="application/x-llamapun" id="S5.F6.6.m2.1e">italic_d</annotation></semantics></math>: embedding dimension.</figcaption>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Discussions and Conclusions</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">Choice modeling has become a longstanding problem in management science and marketing science fields, which is also the key module in improving recommendation effectiveness. Nowadays, numerous empirical studies have suggested that consumers’ evaluations are reference-dependent and comparative in nature <cite class="ltx_cite ltx_citemacro_citep">(Mussweiler, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib61" title="">2003</a>, Kahneman and Tversky, <a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#bib.bib37" title="">2013</a>)</cite>, where consumers make decisions by comparing a target product to reference points. However, traditional recommender systems haven’t explicitly integrated such theoretical foundation to effectively capture consumers’ preferences. In order to pursue the benefits of better and realistic consumers’ decision-making modeling, we propose to study the problem of exploring reference-dependent choice model from a data-driven perspective with the goal of developing an advanced recommendation model. Therefore, our study primarily makes contributions to the existing literature by formulating a new research problem.</p>
</div>
<div class="ltx_para" id="S6.p2">
<p class="ltx_p" id="S6.p2.1">Meanwhile, our study contributes to the existing information systems literature by advancing method development and introducing a novel method to the expanding repertoire of machine learning techniques designed to address significant business challenges. In our novel model, we combine deep neural network structure with the classical behavioral economic theories to derive an end-to-end learning framework. Building upon the idea of reference points in Prospect Theory, we successfully link the theory with recommendation methods by constructing the reference-dependent utility. Specially, to help reference points operationalization, we propose to integrate the “wisdom of crowds” and construct a reference network based on the co-purchasing records firstly. The reference network offers a global view of the collective purchasing behaviors, signifying the potential effects for reference point formation driven by some other factors such as the “also-viewed” or “also-purchased” recommendation links. To extend the reference-dependent choice to a more desirable attribute granularity, we further introduce the ARNs, which allow us to preserve appropriate product reference relations in the raw reference network for fine-grained reference points modeling. The prevailing GNNs are applied to derive product representations from these networks, which can
subsequently be utilized for interest-inspired and price-inspired preferences modeling to account for the two major gauges in consumer choices by designing an attribute-aware price sensitivity mechanism. Finally, to assemble the attribute-level reference-dependent utilities into an integrated one, we design a novel AWTP measurement which gains insights in understanding consumers’ personalized trade-offs among different product attributes. Empirical evaluations in real-world data have demonstrated the effectiveness of the proposed method compared to the state-of-the-art recommendation methods, and the model also exhibits robustness against cold-start products. In addition, we also demonstrate that our model can well capture price effects through a controlled experiment, validating its ability to accurately respond to variations in pricing strategies.</p>
</div>
<div class="ltx_para" id="S6.p3">
<p class="ltx_p" id="S6.p3.1">Our proposed method has the following managerial implications.
Firstly, the newly designed recommender systems in this paper can provide a novel perspective in making recommendations that cater to consumers’ fine-grained preferences and desired aspects for a product, which has the potential to revolutionize the way recommendations are made. In particular, by incorporating product price, the system is capable of delivering more cost-effective recommendations, recommending products that align with consumers’ price perceptions. Additionally, the proposed recommender system can provide interpretations for its recommendations, adding transparency to guide consumers’ decision process. For instance, by inferring the AWTP, the system can offer insights such as “<em class="ltx_emph ltx_font_italic" id="S6.p3.1.1">We recommend this product because you may prefer the brand</em>” or “<em class="ltx_emph ltx_font_italic" id="S6.p3.1.2">The brand is worth the price</em>”. This level of interpretability can foster trust and confidence in the recommendations, enhancing the overall user experience. With this newly designed recommendation method, businesses can strengthen stronger relationships with their consumers, leading to repeat purchases, positive word-of-mouth, and long-term loyalty. This, in turn, can boost consumer lifetime value and drive sustained business growth.</p>
</div>
<div class="ltx_para" id="S6.p4">
<p class="ltx_p" id="S6.p4.1">Second, since the method can effectively capture consumers’ attitudes toward different attributes describing the products, partially reflected by the AWTP, it has the potential to provide nuanced guidance in devising promotional strategies for launching effective marketing campaigns. In particular, the clear separation of the consumer segments from the AWTP indicates that consumers within each segment share similar attribute preferences. This, in turn, empowers businesses to customize their marketing communications and promotional initiatives, spotlighting the attributes that resonate most with their target consumers, leading to more effective and targeted marketing campaigns. Moreover, the AWTP provides valuable insights into how consumers perceive and value different attributes in relation to price, which can also be leveraged by businesses to develop targeted pricing strategies. For example, a phone company may identify a consumer group highly values the storage capacity of smartphones through measuring AWTP, which could guide the company in justifying a premium price for models with extra storage. A pertinent real-world illustration of this strategy can be found in Apple’s pricing approach with its iPhones. Apple offers variations of its iPhone models with differing storage capacities, pricing models with larger storage options at a premium.</p>
</div>
<div class="ltx_para" id="S6.p5">
<p class="ltx_p" id="S6.p5.1">Third, the proposed method, with its ability to estimate consumers’ AWTP from past purchases, can be a valuable tool in guiding product design, development, and the creation of new product lines. By understanding consumers’ fine-grained preferences with respect to product attributes, companies can make more informed decisions about product attributes that are likely to resonate with their target audience. For instance, a phone company might introduce a new smartphone model based on AWTP findings, indicating that customers place a premium on features like extended battery life or more advanced camera capabilities. Therefore, this data-driven approach allows for a more tailored product development process, ensuring that new products can satisfy market demands and consumer preferences.</p>
</div>
<nav class="ltx_TOC ltx_list_ent ltx_toc_ent"><h6 class="ltx_title ltx_title_contents">Endnotes</h6>
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_note">
<a class="ltx_ref" href="https://arxiv.org/html/2408.11302v1#endnote1" title="endnote 1 ‣ 4.2 Reference-dependent Choice Modeling via Deep Neural Network ‣ 4 Reference-dependent Choice Model for Recommendation ‣ Modeling Reference-dependent Choices with Graph Neural Networks"><span class="ltx_text ltx_ref_tag">1</span> </a><span class="ltx_text ltx_ref_tag">We here use <math alttext="i" class="ltx_Math" display="inline"><semantics><mi>i</mi><annotation-xml encoding="MathML-Content"><ci>𝑖</ci></annotation-xml><annotation encoding="application/x-tex">i</annotation><annotation encoding="application/x-llamapun">italic_i</annotation></semantics></math> to denote product <math alttext="v_{i}" class="ltx_Math" display="inline"><semantics><msub><mi>v</mi><mi>i</mi></msub><annotation-xml encoding="MathML-Content"><apply><csymbol cd="ambiguous">subscript</csymbol><ci>𝑣</ci><ci>𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex">v_{i}</annotation><annotation encoding="application/x-llamapun">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> for brevity.</span>
</li>
</ol></nav>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abeler et al.,  (2011)</span>
<span class="ltx_bibblock">
Abeler, J., Falk, A., Goette, L., and Huffman, D. (2011).

</span>
<span class="ltx_bibblock">Reference points and effort provision.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib1.1.1">American Economic Review</span>, 101(2):470–492.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Andrews and Manrai,  (1998)</span>
<span class="ltx_bibblock">
Andrews, R. L. and Manrai, A. K. (1998).

</span>
<span class="ltx_bibblock">Simulation experiments in choice simplification: The effects of task and context on forecasting performance.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib2.1.1">Journal of Marketing Research</span>, 35(2):198–209.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Andrews and Manrai,  (1999)</span>
<span class="ltx_bibblock">
Andrews, R. L. and Manrai, A. K. (1999).

</span>
<span class="ltx_bibblock">Mds maps for product attributes and market response: an application to scanner panel data.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib3.1.1">Marketing Science</span>, 18(4):584–604.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arkes et al.,  (2008)</span>
<span class="ltx_bibblock">
Arkes, H. R., Hirshleifer, D., Jiang, D., and Lim, S. (2008).

</span>
<span class="ltx_bibblock">Reference point adaptation: Tests in the domain of security trading.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib4.1.1">Organizational Behavior and Human Decision Processes</span>, 105(1):67–81.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bahdanau et al.,  (2014)</span>
<span class="ltx_bibblock">
Bahdanau, D., Cho, K., and Bengio, Y. (2014).

</span>
<span class="ltx_bibblock">Neural machine translation by jointly learning to align and translate.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:1409.0473</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al.,  (2017)</span>
<span class="ltx_bibblock">
Bai, T., Wen, J.-R., Zhang, J., and Zhao, W. X. (2017).

</span>
<span class="ltx_bibblock">A neural collaborative filtering model with interaction-based neighborhood.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib6.1.1">Proceedings of the 2017 ACM on Conference on Information and Knowledge Management</span>, pages 1979–1982. ACM.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ban and Keskin,  (2021)</span>
<span class="ltx_bibblock">
Ban, G.-Y. and Keskin, N. B. (2021).

</span>
<span class="ltx_bibblock">Personalized dynamic pricing with machine learning: High-dimensional features and heterogeneous elasticity.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib7.1.1">Management Science</span>, 67(9):5549–5568.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Barjasteh et al.,  (2016)</span>
<span class="ltx_bibblock">
Barjasteh, I., Forsati, R., Ross, D., Esfahanian, A.-H., and Radha, H. (2016).

</span>
<span class="ltx_bibblock">Cold-start recommendation with provable guarantees: A decoupled approach.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib8.1.1">IEEE Transactions on Knowledge and Data Engineering</span>, 28(6):1462–1474.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Baucells and Sarin,  (2010)</span>
<span class="ltx_bibblock">
Baucells, M. and Sarin, R. K. (2010).

</span>
<span class="ltx_bibblock">Predicting utility under satiation and habit formation.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib9.1.1">Management Science</span>, 56(2):286–301.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bell and Koren,  (2007)</span>
<span class="ltx_bibblock">
Bell, R. M. and Koren, Y. (2007).

</span>
<span class="ltx_bibblock">Improved neighborhood-based collaborative filtering.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib10.1.1">KDD cup and workshop at the 13th ACM SIGKDD international conference on knowledge discovery and data mining</span>, pages 7–14. Citeseer.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bordalo et al.,  (2013)</span>
<span class="ltx_bibblock">
Bordalo, P., Gennaioli, N., and Shleifer, A. (2013).

</span>
<span class="ltx_bibblock">Salience and consumer choice.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib11.1.1">Journal of Political Economy</span>, 121(5):803–843.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Briesch et al.,  (1997)</span>
<span class="ltx_bibblock">
Briesch, R. A., Krishnamurthi, L., Mazumdar, T., and Raj, S. P. (1997).

</span>
<span class="ltx_bibblock">A comparative analysis of reference price models.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib12.1.1">Journal of consumer research</span>, 24(2):202–214.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chang et al.,  (1999)</span>
<span class="ltx_bibblock">
Chang, K., Siddarth, S., and Weinberg, C. B. (1999).

</span>
<span class="ltx_bibblock">The impact of heterogeneity in purchase timing and price responsiveness on estimates of sticker shock effects.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib13.1.1">Marketing Science</span>, 18(2):178–192.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al.,  (2014)</span>
<span class="ltx_bibblock">
Chen, J., Jin, Q., Zhao, S., Bao, S., Zhang, L., Su, Z., and Yu, Y. (2014).

</span>
<span class="ltx_bibblock">Does product recommendation meet its waterloo in unexplored categories? no, price comes to help.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib14.1.1">Proceedings of the 37th international ACM SIGIR conference on Research &amp; development in information retrieval</span>, pages 667–676.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al.,  (2020)</span>
<span class="ltx_bibblock">
Chen, L., Wu, L., Hong, R., Zhang, K., and Wang, M. (2020).

</span>
<span class="ltx_bibblock">Revisiting graph based collaborative filtering: A linear residual graph convolutional network approach.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib15.1.1">Proceedings of the AAAI conference on artificial intelligence</span>, volume 34, pages 27–34.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cheng et al.,  (2016)</span>
<span class="ltx_bibblock">
Cheng, H.-T., Koc, L., Harmsen, J., Shaked, T., Chandra, T., Aradhye, H., Anderson, G., Corrado, G., Chai, W., Ispir, M., et al. (2016).

</span>
<span class="ltx_bibblock">Wide &amp; deep learning for recommender systems.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib16.1.1">Proceedings of the 1st workshop on deep learning for recommender systems</span>, pages 7–10.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dhar et al.,  (1999)</span>
<span class="ltx_bibblock">
Dhar, R., Nowlis, S. M., and Sherman, S. J. (1999).

</span>
<span class="ltx_bibblock">Comparison effects on preference construction.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib17.1.1">Journal of consumer research</span>, 26(3):293–306.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dhar and Simonson,  (1992)</span>
<span class="ltx_bibblock">
Dhar, R. and Simonson, I. (1992).

</span>
<span class="ltx_bibblock">The effect of the focus of comparison on consumer preferences.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib18.1.1">Journal of Marketing Research</span>, 29(4):430–440.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dhar et al.,  (2014)</span>
<span class="ltx_bibblock">
Dhar, V., Geva, T., Oestreicher-Singer, G., and Sundararajan, A. (2014).

</span>
<span class="ltx_bibblock">Prediction in economic networks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib19.1.1">Information Systems Research</span>, 25(2):264–284.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ding et al.,  (2018)</span>
<span class="ltx_bibblock">
Ding, J., Feng, F., He, X., Yu, G., Li, Y., and Jin, D. (2018).

</span>
<span class="ltx_bibblock">An improved sampler for bayesian personalized ranking by leveraging view data.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib20.1.1">Companion Proceedings of the The Web Conference 2018</span>, pages 13–14.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fader and Hardie,  (1996)</span>
<span class="ltx_bibblock">
Fader, P. S. and Hardie, B. G. (1996).

</span>
<span class="ltx_bibblock">Modeling consumer choice among skus.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib21.1.1">Journal of marketing Research</span>, 33(4):442–452.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fibich et al.,  (2005)</span>
<span class="ltx_bibblock">
Fibich, G., Gavious, A., and Lowengart, O. (2005).

</span>
<span class="ltx_bibblock">The dynamics of price elasticity of demand in the presence of reference price effects.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib22.1.1">Journal of the Academy of Marketing Science</span>, 33(1):66–78.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Grover and Leskovec,  (2016)</span>
<span class="ltx_bibblock">
Grover, A. and Leskovec, J. (2016).

</span>
<span class="ltx_bibblock">node2vec: Scalable feature learning for networks.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib23.1.1">Proceedings of the 22nd ACM SIGKDD international conference on Knowledge discovery and data mining</span>, pages 855–864.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guadagni and Little,  (1983)</span>
<span class="ltx_bibblock">
Guadagni, P. M. and Little, J. D. (1983).

</span>
<span class="ltx_bibblock">A logit model of brand choice calibrated on scanner data.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib24.1.1">Marketing science</span>, 2(3):203–238.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al.,  (2018)</span>
<span class="ltx_bibblock">
Guo, H., Tang, R., Ye, Y., Li, Z., He, X., and Dong, Z. (2018).

</span>
<span class="ltx_bibblock">Deepfm: An end-to-end wide &amp; deep learning framework for ctr prediction.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:1804.04950</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guo et al.,  (2017)</span>
<span class="ltx_bibblock">
Guo, H., Tang, R., Ye, Y., Li, Z., He, X., and He, X. (2017).

</span>
<span class="ltx_bibblock">Deepfm: A factorization-machine based neural network for ctr prediction.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib26.1.1">Proceedings of the 26th International Joint Conference on Artificial Intelligence</span>, IJCAI’17, page 1725–1731. AAAI Press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hardie et al.,  (1993)</span>
<span class="ltx_bibblock">
Hardie, B. G., Johnson, E. J., and Fader, P. S. (1993).

</span>
<span class="ltx_bibblock">Modeling loss aversion and reference dependence effects on brand choice.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib27.1.1">Marketing science</span>, 12(4):378–394.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al.,  (2019)</span>
<span class="ltx_bibblock">
He, J., Fang, X., Liu, H., and Li, X. (2019).

</span>
<span class="ltx_bibblock">Mobile app recommendation: an involvement-enhanced approach.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib28.1.1">MIS Quarterly</span>, 43(3):827–850.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al.,  (2020)</span>
<span class="ltx_bibblock">
He, X., Deng, K., Wang, X., Li, Y., Zhang, Y., and Wang, M. (2020).

</span>
<span class="ltx_bibblock">Lightgcn: Simplifying and powering graph convolution network for recommendation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib29.1.1">Proceedings of the 43rd International ACM SIGIR conference on research and development in Information Retrieval</span>, pages 639–648.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al.,  (2018)</span>
<span class="ltx_bibblock">
He, X., He, Z., Du, X., and Chua, T.-S. (2018).

</span>
<span class="ltx_bibblock">Adversarial personalized ranking for recommendation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib30.1.1">The 41st International ACM SIGIR Conference on Research &amp; Development in Information Retrieval</span>, pages 355–364.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al.,  (2017)</span>
<span class="ltx_bibblock">
He, X., Liao, L., Zhang, H., Nie, L., Hu, X., and Chua, T.-S. (2017).

</span>
<span class="ltx_bibblock">Neural collaborative filtering.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib31.1.1">Proceedings of the 26th international conference on world wide web</span>, pages 173–182. International World Wide Web Conferences Steering Committee.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hosanagar et al.,  (2014)</span>
<span class="ltx_bibblock">
Hosanagar, K., Fleder, D., Lee, D., and Buja, A. (2014).

</span>
<span class="ltx_bibblock">Will the global village fracture into tribes? recommender systems and their effects on consumer fragmentation.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib32.1.1">Management Science</span>, 60(4):805–823.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al.,  (2008)</span>
<span class="ltx_bibblock">
Hu, Y., Koren, Y., and Volinsky, C. (2008).

</span>
<span class="ltx_bibblock">Collaborative filtering for implicit feedback datasets.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib33.1.1">2008 Eighth IEEE international conference on data mining</span>, pages 263–272. Ieee.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ishak and Abd Ghani,  (2013)</span>
<span class="ltx_bibblock">
Ishak, F. and Abd Ghani, N. H. (2013).

</span>
<span class="ltx_bibblock">A review of the literature on brand loyalty and customer loyalty.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jedidi and Zhang,  (2002)</span>
<span class="ltx_bibblock">
Jedidi, K. and Zhang, Z. J. (2002).

</span>
<span class="ltx_bibblock">Augmenting conjoint analysis to estimate consumer reservation price.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib35.1.1">Management Science</span>, 48(10):1350–1368.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kahneman and Tversky,  (1979)</span>
<span class="ltx_bibblock">
Kahneman, D. and Tversky, A. (1979).

</span>
<span class="ltx_bibblock">Prospect theory: An analysis of decision under risk.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib36.1.1">Econometrica</span>, 47(2):363–391.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kahneman and Tversky,  (2013)</span>
<span class="ltx_bibblock">
Kahneman, D. and Tversky, A. (2013).

</span>
<span class="ltx_bibblock">Prospect theory: An analysis of decision under risk.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib37.1.1">Handbook of the fundamentals of financial decision making: Part I</span>, pages 99–127. World Scientific.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kalyanaram and Winer,  (1995)</span>
<span class="ltx_bibblock">
Kalyanaram, G. and Winer, R. S. (1995).

</span>
<span class="ltx_bibblock">Empirical generalizations from reference price research.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib38.1.1">Marketing science</span>, 14(3_supplement):G161–G169.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kamakura and Russell,  (1989)</span>
<span class="ltx_bibblock">
Kamakura, W. A. and Russell, G. J. (1989).

</span>
<span class="ltx_bibblock">A probabilistic choice model for market segmentation and elasticity structure.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib39.1.1">Journal of marketing research</span>, 26(4):379–390.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley,  (2018)</span>
<span class="ltx_bibblock">
Kang, W.-C. and McAuley, J. (2018).

</span>
<span class="ltx_bibblock">Self-attentive sequential recommendation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib40.1.1">2018 IEEE international conference on data mining (ICDM)</span>, pages 197–206. IEEE.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Keeney and Raiffa,  (1993)</span>
<span class="ltx_bibblock">
Keeney, R. L. and Raiffa, H. (1993).

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib41.1.1">Decisions with multiple objectives: preferences and value trade-offs</span>.

</span>
<span class="ltx_bibblock">Cambridge university press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al.,  (1995)</span>
<span class="ltx_bibblock">
Kim, B.-D., Blattberg, R. C., and Rossi, P. E. (1995).

</span>
<span class="ltx_bibblock">Modeling the distribution of price sensitivity and implications for optimal retail pricing.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib42.1.1">Journal of Business &amp; Economic Statistics</span>, 13(3):291–303.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kim et al.,  (2017)</span>
<span class="ltx_bibblock">
Kim, D. S., Bailey, R. A., Hardt, N., and Allenby, G. M. (2017).

</span>
<span class="ltx_bibblock">Benefit-based conjoint analysis.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib43.1.1">Marketing Science</span>, 36(1):54–69.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma and Ba,  (2014)</span>
<span class="ltx_bibblock">
Kingma, D. P. and Ba, J. (2014).

</span>
<span class="ltx_bibblock">Adam: A method for stochastic optimization.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib44.1.1">arXiv preprint arXiv:1412.6980</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kohli and Sukumar,  (1990)</span>
<span class="ltx_bibblock">
Kohli, R. and Sukumar, R. (1990).

</span>
<span class="ltx_bibblock">Heuristics for product-line design using conjoint analysis.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib45.1.1">Management Science</span>, 36(12):1464–1478.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kong et al.,  (2022)</span>
<span class="ltx_bibblock">
Kong, T., Kim, T., Jeon, J., Choi, J., Lee, Y.-C., Park, N., and Kim, S.-W. (2022).

</span>
<span class="ltx_bibblock">Linear, or non-linear, that is the question!

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib46.1.1">Proceedings of the Fifteenth ACM International Conference on Web Search and Data Mining</span>, pages 517–525.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koren et al.,  (2009)</span>
<span class="ltx_bibblock">
Koren, Y., Bell, R., and Volinsky, C. (2009).

</span>
<span class="ltx_bibblock">Matrix factorization techniques for recommender systems.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib47.1.1">Computer</span>, 42(8):30–37.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kőszegi and Rabin,  (2006)</span>
<span class="ltx_bibblock">
Kőszegi, B. and Rabin, M. (2006).

</span>
<span class="ltx_bibblock">A model of reference-dependent preferences.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib48.1.1">The Quarterly Journal of Economics</span>, 121(4):1133–1165.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krishnamurthi and Raj,  (1991)</span>
<span class="ltx_bibblock">
Krishnamurthi, L. and Raj, S. P. (1991).

</span>
<span class="ltx_bibblock">An empirical analysis of the relationship between brand loyalty and consumer price elasticity.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib49.1.1">Marketing science</span>, 10(2):172–183.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Köcher et al.,  (2019)</span>
<span class="ltx_bibblock">
Köcher, S., Jugovac, M., Jannach, D., and Holzmüller, H. H. (2019).

</span>
<span class="ltx_bibblock">New hidden persuaders: An investigation of attribute-level anchoring effects of product recommendations.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib50.1.1">Journal of Retailing</span>, 95(1):24–41.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lattin and Bucklin,  (1989)</span>
<span class="ltx_bibblock">
Lattin, J. M. and Bucklin, R. E. (1989).

</span>
<span class="ltx_bibblock">Reference effects of price and promotion on brand choice behavior.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib51.1.1">Journal of Marketing research</span>, 26(3):299–310.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al.,  (2023)</span>
<span class="ltx_bibblock">
Li, R., Zhang, L., Liu, G., and Wu, J. (2023).

</span>
<span class="ltx_bibblock">Next basket recommendation with intent-aware hypergraph adversarial network.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib52.1.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</span>, pages 1303–1312.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al.,  (2017)</span>
<span class="ltx_bibblock">
Li, Z., Fang, X., Bai, X., and Sheng, O. R. L. (2017).

</span>
<span class="ltx_bibblock">Utility-based link recommendation for online social networks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib53.1.1">Management Science</span>, 63(6):1938–1952.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lian et al.,  (2018)</span>
<span class="ltx_bibblock">
Lian, J., Zhou, X., Zhang, F., Chen, Z., Xie, X., and Sun, G. (2018).

</span>
<span class="ltx_bibblock">xdeepfm: Combining explicit and implicit feature interactions for recommender systems.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib54.1.1">Proceedings of the 24th ACM SIGKDD international conference on knowledge discovery &amp; data mining</span>, pages 1754–1763.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al.,  (2017)</span>
<span class="ltx_bibblock">
Lin, Z., Goh, K.-Y., and Heng, C.-S. (2017).

</span>
<span class="ltx_bibblock">The demand effects of product recommendation networks: An empirical analysis of network diversity and stability.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib55.1.1">MIS Quarterly</span>, 41(2):pp. 397–426.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al.,  (2021)</span>
<span class="ltx_bibblock">
Liu, G., Zhang, L., and Wu, J. (2021).

</span>
<span class="ltx_bibblock">Beyond similarity: Relation-based collaborative filtering.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib56.1.1">IEEE Transactions on Knowledge and Data Engineering</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Manouselis and Costopoulou,  (2007)</span>
<span class="ltx_bibblock">
Manouselis, N. and Costopoulou, C. (2007).

</span>
<span class="ltx_bibblock">Experimental analysis of design choices in multiattribute utility collaborative filtering.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib57.1.1">International Journal of Pattern Recognition and Artificial Intelligence</span>, 21(02):311–331.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mazumdar et al.,  (2005)</span>
<span class="ltx_bibblock">
Mazumdar, T., Raj, S. P., and Sinha, I. (2005).

</span>
<span class="ltx_bibblock">Reference price research: Review and propositions.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib58.1.1">Journal of marketing</span>, 69(4):84–102.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mellens et al.,  (1996)</span>
<span class="ltx_bibblock">
Mellens, M., Dekimpe, M., and Steenkamp, J. (1996).

</span>
<span class="ltx_bibblock">A review of brand-loyalty measures in marketing.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib59.1.1">Tijdschrift voor economie en management</span>, (4):507–533.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Monroe et al.,  (2015)</span>
<span class="ltx_bibblock">
Monroe, K. B., Rikala, V.-M., and Somervuori, O. (2015).

</span>
<span class="ltx_bibblock">Examining the application of behavioral price research in business-to-business markets.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib60.1.1">Industrial Marketing Management</span>, 47:17–25.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mussweiler,  (2003)</span>
<span class="ltx_bibblock">
Mussweiler, T. (2003).

</span>
<span class="ltx_bibblock">Comparison processes in social judgment: mechanisms and consequences.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib61.1.1">Psychological review</span>, 110(3):472.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib62">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Paatero and Tapper,  (1994)</span>
<span class="ltx_bibblock">
Paatero, P. and Tapper, U. (1994).

</span>
<span class="ltx_bibblock">Positive matrix factorization: A non-negative factor model with optimal utilization of error estimates of data values.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib62.1.1">Environmetrics</span>, 5(2):111–126.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib63">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pathak et al.,  (2010)</span>
<span class="ltx_bibblock">
Pathak, B., Garfinkel, R., Gopal, R. D., Venkatesan, R., and Yin, F. (2010).

</span>
<span class="ltx_bibblock">Empirical analysis of the impact of recommender systems on sales.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib63.1.1">Journal of Management Information Systems</span>, 27(2):159–188.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib64">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pazzani and Billsus,  (2007)</span>
<span class="ltx_bibblock">
Pazzani, M. J. and Billsus, D. (2007).

</span>
<span class="ltx_bibblock">Content-based recommendation systems.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib64.1.1">The adaptive web</span>, pages 325–341. Springer.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib65">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Perozzi et al.,  (2014)</span>
<span class="ltx_bibblock">
Perozzi, B., Al-Rfou, R., and Skiena, S. (2014).

</span>
<span class="ltx_bibblock">Deepwalk: Online learning of social representations.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib65.1.1">Proceedings of the 20th ACM SIGKDD international conference on Knowledge discovery and data mining</span>, pages 701–710.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib66">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Putler,  (1992)</span>
<span class="ltx_bibblock">
Putler, D. S. (1992).

</span>
<span class="ltx_bibblock">Incorporating reference price effects into a theory of consumer choice.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib66.1.1">Marketing science</span>, 11(3):287–309.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib67">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qu et al.,  (2016)</span>
<span class="ltx_bibblock">
Qu, Y., Cai, H., Ren, K., Zhang, W., Yu, Y., Wen, Y., and Wang, J. (2016).

</span>
<span class="ltx_bibblock">Product-based neural networks for user response prediction.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib67.1.1">2016 IEEE 16th International Conference on Data Mining (ICDM)</span>, pages 1149–1154.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib68">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rendle,  (2010)</span>
<span class="ltx_bibblock">
Rendle, S. (2010).

</span>
<span class="ltx_bibblock">Factorization machines.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib68.1.1">Data Mining (ICDM), 2010 IEEE 10th International Conference on</span>, pages 995–1000. IEEE.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib69">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rendle et al.,  (2012)</span>
<span class="ltx_bibblock">
Rendle, S., Freudenthaler, C., Gantner, Z., and Schmidt-Thieme, L. (2012).

</span>
<span class="ltx_bibblock">Bpr: Bayesian personalized ranking from implicit feedback.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib69.1.1">arXiv preprint arXiv:1205.2618</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib70">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rendle and Schmidt-Thieme,  (2010)</span>
<span class="ltx_bibblock">
Rendle, S. and Schmidt-Thieme, L. (2010).

</span>
<span class="ltx_bibblock">Pairwise interaction tensor factorization for personalized tag recommendation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib70.1.1">Proceedings of the third ACM international conference on Web search and data mining</span>, pages 81–90.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib71">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schein et al.,  (2002)</span>
<span class="ltx_bibblock">
Schein, A. I., Popescul, A., Ungar, L. H., and Pennock, D. M. (2002).

</span>
<span class="ltx_bibblock">Methods and metrics for cold-start recommendations.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib71.1.1">Proceedings of the 25th annual international ACM SIGIR conference on Research and development in information retrieval</span>, pages 253–260.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib72">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schwartz et al.,  (2008)</span>
<span class="ltx_bibblock">
Schwartz, A., Goldberg, J., and Hazen, G. (2008).

</span>
<span class="ltx_bibblock">Prospect theory, reference points, and health decisions.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib72.1.1">Judgment and Decision Making</span>, 3(2):174–180.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib73">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Song et al.,  (2019)</span>
<span class="ltx_bibblock">
Song, W., Shi, C., Xiao, Z., Duan, Z., Xu, Y., Zhang, M., and Tang, J. (2019).

</span>
<span class="ltx_bibblock">Autoint: Automatic feature interaction learning via self-attentive neural networks.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib73.1.1">Proceedings of the 28th ACM International Conference on Information and Knowledge Management</span>, pages 1161–1170.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib74">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sweeney and Soutar,  (2001)</span>
<span class="ltx_bibblock">
Sweeney, J. C. and Soutar, G. N. (2001).

</span>
<span class="ltx_bibblock">Consumer perceived value: The development of a multiple item scale.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib74.1.1">Journal of retailing</span>, 77(2):203–220.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib75">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tversky and Kahneman,  (1991)</span>
<span class="ltx_bibblock">
Tversky, A. and Kahneman, D. (1991).

</span>
<span class="ltx_bibblock">Loss aversion in riskless choice: A reference-dependent model.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib75.1.1">The Quarterly Journal of Economics</span>, 106(4):1039–1061.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib76">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Umberto,  (2015)</span>
<span class="ltx_bibblock">
Umberto, P. (2015).

</span>
<span class="ltx_bibblock">Developing a price-sensitive recommender system to improve accuracy and business performance of ecommerce applications.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib76.1.1">International Journal of Electronic Commerce Studies</span>, 6(1):1–18.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib77">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Van der Maaten and Hinton,  (2008)</span>
<span class="ltx_bibblock">
Van der Maaten, L. and Hinton, G. (2008).

</span>
<span class="ltx_bibblock">Visualizing data using t-sne.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib77.1.1">Journal of machine learning research</span>, 9(11).

</span>
</li>
<li class="ltx_bibitem" id="bib.bib78">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al.,  (2017)</span>
<span class="ltx_bibblock">
Vaswani, A., Shazeer, N., Parmar, N., Uszkoreit, J., Jones, L., Gomez, A. N., Kaiser, Ł., and Polosukhin, I. (2017).

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib78.1.1">Advances in neural information processing systems</span>, 30.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib79">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Veličković et al.,  (2017)</span>
<span class="ltx_bibblock">
Veličković, P., Cucurull, G., Casanova, A., Romero, A., Lio, P., and Bengio, Y. (2017).

</span>
<span class="ltx_bibblock">Graph attention networks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib79.1.1">arXiv preprint arXiv:1710.10903</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib80">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wan et al.,  (2017)</span>
<span class="ltx_bibblock">
Wan, M., Wang, D., Goldman, M., Taddy, M., Rao, J., Liu, J., Lymberopoulos, D., and McAuley, J. (2017).

</span>
<span class="ltx_bibblock">Modeling consumer preferences and price sensitivities from large-scale grocery shopping transaction logs.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib80.1.1">Proceedings of the 26th International Conference on World Wide Web</span>, pages 1103–1112.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib81">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al.,  (2018)</span>
<span class="ltx_bibblock">
Wang, H., Zhang, F., Xie, X., and Guo, M. (2018).

</span>
<span class="ltx_bibblock">Dkn: Deep knowledge-aware network for news recommendation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib81.1.1">Proceedings of the 2018 world wide web conference</span>, pages 1835–1844.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib82">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(82)</span>
<span class="ltx_bibblock">
Wang, H., Zhang, F., Zhang, M., Leskovec, J., Zhao, M., Li, W., and Wang, Z. (2019a).

</span>
<span class="ltx_bibblock">Knowledge-aware graph neural networks with label smoothness regularization for recommender systems.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib82.1.1">Proceedings of the 25th ACM SIGKDD international conference on knowledge discovery &amp; data mining</span>, pages 968–977.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib83">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(83)</span>
<span class="ltx_bibblock">
Wang, P., Sun, L., Niraj, R., Chung, J., and Su, M. (2019b).

</span>
<span class="ltx_bibblock">Incorporating reference products into modeling consumer choice decision: A mixtures-of-experts model.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib83.1.1">Decision Support Systems</span>, 119:85–95.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib84">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al.,  (2021)</span>
<span class="ltx_bibblock">
Wang, P., Sun, L., Zhang, L., and Niraj, R. (2021).

</span>
<span class="ltx_bibblock">Reference points in consumer choice models: A review and future research agenda.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib84.1.1">International Journal of Consumer Studies</span>, 45(5):985–1006.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib85">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang,  (2018)</span>
<span class="ltx_bibblock">
Wang, R. (2018).

</span>
<span class="ltx_bibblock">When prospect theory meets consumer choice models: Assortment and pricing management with reference prices.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib85.1.1">Manufacturing &amp; Service Operations Management</span>, 20(3):583–600.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib86">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(86)</span>
<span class="ltx_bibblock">
Wang, X., He, X., Cao, Y., Liu, M., and Chua, T.-S. (2019c).

</span>
<span class="ltx_bibblock">Kgat: Knowledge graph attention network for recommendation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib86.1.1">Proceedings of the 25th ACM SIGKDD international conference on knowledge discovery &amp; data mining</span>, pages 950–958.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib87">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(87)</span>
<span class="ltx_bibblock">
Wang, X., He, X., Wang, M., Feng, F., and Chua, T.-S. (2019d).

</span>
<span class="ltx_bibblock">Neural graph collaborative filtering.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib87.1.1">Proceedings of the 42nd international ACM SIGIR conference on Research and development in Information Retrieval</span>, pages 165–174.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib88">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al.,  (2020)</span>
<span class="ltx_bibblock">
Wang, X., Jin, H., Zhang, A., He, X., Xu, T., and Chua, T.-S. (2020).

</span>
<span class="ltx_bibblock">Disentangled graph collaborative filtering.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib88.1.1">Proceedings of the 43rd international ACM SIGIR conference on research and development in information retrieval</span>, pages 1001–1010.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib89">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al.,  (2024)</span>
<span class="ltx_bibblock">
Wang, Y., Wu, J., Wu, Z., and Adomavicius, G. (2024).

</span>
<span class="ltx_bibblock">Efficient and flexible long-tail recommendation using cosine patterns.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib89.1.1">INFORMS Journal on Computing</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib90">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Welling and Kipf,  (2016)</span>
<span class="ltx_bibblock">
Welling, M. and Kipf, T. N. (2016).

</span>
<span class="ltx_bibblock">Semi-supervised classification with graph convolutional networks.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib90.1.1">J. International Conference on Learning Representations (ICLR 2017)</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib91">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Winer,  (1986)</span>
<span class="ltx_bibblock">
Winer, R. S. (1986).

</span>
<span class="ltx_bibblock">A reference price model of brand choice for frequently purchased products.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib91.1.1">Journal of consumer research</span>, 13(2):250–256.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib92">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al.,  (2020)</span>
<span class="ltx_bibblock">
Wu, Z., Pan, S., Chen, F., Long, G., Zhang, C., and Philip, S. Y. (2020).

</span>
<span class="ltx_bibblock">A comprehensive survey on graph neural networks.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib92.1.1">IEEE transactions on neural networks and learning systems</span>, 32(1):4–24.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib93">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao and Benbasat,  (2007)</span>
<span class="ltx_bibblock">
Xiao, B. and Benbasat, I. (2007).

</span>
<span class="ltx_bibblock">E-commerce product recommendation agents: Use, characteristics, and impact.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib93.1.1">MIS quarterly</span>, pages 137–209.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib94">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xiao et al.,  (2017)</span>
<span class="ltx_bibblock">
Xiao, J., Ye, H., He, X., Zhang, H., Wu, F., and Chua, T.-S. (2017).

</span>
<span class="ltx_bibblock">Attentional factorization machines: Learning the weight of feature interactions via attention networks.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib94.1.1">Proceedings of the 26th International Joint Conference on Artificial Intelligence</span>, IJCAI’17, page 3119–3125. AAAI Press.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib95">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xue et al.,  (2019)</span>
<span class="ltx_bibblock">
Xue, F., He, X., Wang, X., Xu, J., Liu, K., and Hong, R. (2019).

</span>
<span class="ltx_bibblock">Deep item-based collaborative filtering for top-n recommendation.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib95.1.1">ACM Transactions on Information Systems (TOIS)</span>, 37(3):33.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib96">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al.,  (2016)</span>
<span class="ltx_bibblock">
Zhang, F., Yuan, N. J., Lian, D., Xie, X., and Ma, W.-Y. (2016).

</span>
<span class="ltx_bibblock">Collaborative knowledge base embedding for recommender systems.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib96.1.1">Proceedings of the 22nd ACM SIGKDD international conference on knowledge discovery and data mining</span>, pages 353–362.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib97">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al.,  (2024)</span>
<span class="ltx_bibblock">
Zhang, L., Liu, G., Liu, X., and Wu, J. (2024).

</span>
<span class="ltx_bibblock">Denoising item graph with disentangled learning for recommendation.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib97.1.1">IEEE Transactions on Knowledge and Data Engineering</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib98">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang and Zheng,  (2019)</span>
<span class="ltx_bibblock">
Zhang, N. and Zheng, X. (2019).

</span>
<span class="ltx_bibblock">Agent-based simulation of consumer purchase behaviour based on quality, price and promotion.

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib98.1.1">Enterprise Information Systems</span>, 13(10):1427–1441.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib99">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al.,  (2022)</span>
<span class="ltx_bibblock">
Zhang, X., Xu, B., Yang, L., Li, C., Ma, F., Liu, H., and Lin, H. (2022).

</span>
<span class="ltx_bibblock">Price does matter! modeling price and interest preferences in session-based recommendation.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib99.1.1">Proceedings of the 45th International ACM SIGIR Conference on Research and Development in Information Retrieval</span>, SIGIR ’22, page 1684–1693, New York, NY, USA. Association for Computing Machinery.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib100">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zheng et al.,  (2020)</span>
<span class="ltx_bibblock">
Zheng, Y., Gao, C., He, X., Li, Y., and Jin, D. (2020).

</span>
<span class="ltx_bibblock">Price-aware recommendation with graph convolutional networks.

</span>
<span class="ltx_bibblock">In <span class="ltx_text ltx_font_italic" id="bib.bib100.1.1">2020 IEEE 36th International Conference on Data Engineering (ICDE)</span>, pages 133–144. IEEE.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Aug 21 03:07:44 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
