<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2206.09262] Motley: Benchmarking Heterogeneity and Personalization in Federated Learning</title><meta property="og:description" content="Personalized federated learning considers learning models unique to each client in a heterogeneous network. The resulting client-specific models have been purported to improve metrics such as accuracy, fairness, and ro…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Motley: Benchmarking Heterogeneity and Personalization in Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Motley: Benchmarking Heterogeneity and Personalization in Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2206.09262">

<!--Generated on Mon Mar 11 16:42:38 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">
<span id="id10.id1" class="ltx_text ltx_font_typewriter">Motley</span>: Benchmarking Heterogeneity and Personalization in Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Shanshan Wu<sup id="id11.10.id1" class="ltx_sup">1</sup>, Tian Li<sup id="id12.11.id2" class="ltx_sup">2</sup>, Zachary Charles<sup id="id13.12.id3" class="ltx_sup">1</sup>, Yu Xiao<sup id="id14.13.id4" class="ltx_sup">1</sup>,
<br class="ltx_break">Ziyu Liu<sup id="id15.14.id5" class="ltx_sup">2</sup>, Zheng Xu<sup id="id16.15.id6" class="ltx_sup">1</sup>, Virginia Smith<sup id="id17.16.id7" class="ltx_sup">2</sup>
<br class="ltx_break"><sup id="id18.17.id8" class="ltx_sup">1</sup>Google Research <span id="id19.18.id9" class="ltx_text ltx_font_typewriter">{shanshanw, zachcharles, xiaoyux, xuzheng}@google.com</span> 
<br class="ltx_break"><sup id="id20.19.id10" class="ltx_sup">2</sup>Carnegie Mellon University <span id="id21.20.id11" class="ltx_text ltx_font_typewriter">{tianli, kzliu, smithv}@cmu.edu</span>
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id22.id1" class="ltx_p">Personalized federated learning considers learning models unique to each client in a heterogeneous network. The resulting client-specific models have been purported to improve metrics such as accuracy, fairness, and robustness in federated networks. However, despite a plethora of work in this area, it remains unclear: (1) which personalization techniques are most effective in various settings, and (2) how important personalization truly is for realistic federated applications. To better answer these questions, we propose <span id="id22.id1.1" class="ltx_text ltx_font_typewriter">Motley</span>, a benchmark for personalized federated learning. <span id="id22.id1.2" class="ltx_text ltx_font_typewriter">Motley</span> consists of a suite of cross-device and cross-silo federated datasets from varied problem domains, as well as thorough evaluation metrics for better understanding the possible impacts of personalization. We establish baselines on the benchmark by comparing a number of representative personalized federated learning methods. These initial results highlight strengths and weaknesses of existing approaches, and raise several open questions for the community. <span id="id22.id1.3" class="ltx_text ltx_font_typewriter">Motley</span> aims to provide a reproducible means with which to advance developments in personalized and heterogeneity-aware federated learning, as well as the related areas of transfer learning, meta-learning, and multi-task learning.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) aims to share knowledge across disparate data silos in a privacy-preserving manner <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>, <a href="#bib.bib46" title="" class="ltx_ref">46</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>. Relative to standard (e.g., data center) distributed learning, a defining trait of federated learning is the presence of <span id="S1.p1.1.1" class="ltx_text ltx_font_italic">heterogeneity<span id="S1.p1.1.1.1" class="ltx_ERROR undefined">\@footnotemark</span></span>, as each of the clients (e.g., a sensor, mobile phone, or entire organization) may generate data according to a distinct distribution. In response to this key difference, a significant amount of work has been devoted to understanding and addressing heterogeneity in federated learning. For example, heterogeneity has been the focus of the analysis and development of numerous federated optimization methods <cite class="ltx_cite ltx_citemacro_cite">[e.g., <a href="#bib.bib47" title="" class="ltx_ref">47</a>, <a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib30" title="" class="ltx_ref">30</a>, <a href="#bib.bib50" title="" class="ltx_ref">50</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib72" title="" class="ltx_ref">72</a>, <a href="#bib.bib73" title="" class="ltx_ref">73</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>, <a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>, and the impact of heterogeneity on FL has been explored more generally in connection with issues of fairness, robustness, and privacy in federated networks <cite class="ltx_cite ltx_citemacro_cite">[e.g., <a href="#bib.bib59" title="" class="ltx_ref">59</a>, <a href="#bib.bib48" title="" class="ltx_ref">48</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib80" title="" class="ltx_ref">80</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">The presumed presence of heterogeneity has also directly driven a large body of work in <span id="S1.p2.1.1" class="ltx_text ltx_font_italic">personalized federated learning</span>. In personalized FL, the goal is to learn or adapt models to more closely reflect the distinct data distribution of each federated client. For example, personalized FL approaches may consider fine-tuning a global or meta-trained model to adapt to local client data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib84" title="" class="ltx_ref">84</a>, <a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib68" title="" class="ltx_ref">68</a>]</cite>, learning a clustering structure amongst the clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib66" title="" class="ltx_ref">66</a>, <a href="#bib.bib60" title="" class="ltx_ref">60</a>]</cite>, or using multi-task learning techniques to model possibly more complex relationships <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib69" title="" class="ltx_ref">69</a>, <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Despite a significant amount of work in personalized FL, there remains a lack of consensus about which methods perform best in various federated settings, let alone the degree to which personalization itself is really necessary in practice. For example, many works target a specific form of personalization (e.g., clustering) in their methodology, and then artifically create or modify data to match this assumption (e.g., manually clustering the data) before testing the efficacy of their approach <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>. While this is a reasonable sanity check, it fails to validate how impactful such approaches are for real-world FL applications. In particular, a major issue is that while ‘heterogeneity’ is believed to be a natural occurrence in federated networks, there is a lack of benchmarks that reflect real applications of FL, making it hard to understand the prevalence and magnitude of heterogeneity in practice.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">To address these concerns, we propose <span id="S1.p4.1.1" class="ltx_text ltx_font_typewriter">Motley</span>, a comprehensive benchmark for personalized and heterogeneity-aware FL. <span id="S1.p4.1.2" class="ltx_text ltx_font_typewriter">Motley</span> is designed with a focus on ease-of-use and reproducibility<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>Code for the benchmark is open-source and available at: <a target="_blank" href="https://github.com/google-research/federated/tree/master/personalization_benchmark" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/google-research/federated/tree/master/personalization_benchmark</a>.</span></span></span>. The benchmark includes a suite of four cross-device and three cross-silo datasets, as well as baseline personalization methods evaluated on this data. The datasets themselves are drawn from real-world applications mirroring federated settings in an effort to better reflect naturally occurring forms of heterogeneity. In developing baselines for the benchmark, we pay careful attention to the evaluation of personalization and heterogeneity—making concrete suggestions for future work in evaluating the impact of heterogeneity/personalization. Finally, although we focus specifically on the application of FL, we note that the benchmark is also a useful tool for the areas of transfer learning, meta learning, and multi-task learning more generally, as techniques from these areas are commonly used for personalized FL. The remainder of the paper is organized as follows:</p>
</div>
<div id="S1.p5" class="ltx_para">
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">In Section <a href="#S2" title="2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we provide background on federated learning and personalization. We make a key distinction between applications of cross-device vs. cross-silo FL, and highlight the ramifications of these differences in terms of methods that are most suitable for personalization (Table <a href="#S2.T1" title="Table 1 ‣ 2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>).</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">In Section <a href="#S3" title="3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we describe the components of the benchmark <span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_typewriter">Motley</span>: (1) a diverse set of seven federated datasets and tasks chosen from public datasets covering both cross-device and cross-silo settings (Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>); (2) five representative personalized FL algorithms implemented in a modular fashion; and (3) baseline results across various evaluation metrics (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>).</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Motivated by the benchmark, in Sections <a href="#S4" title="4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and <a href="#S5" title="5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> we provide suggestions for evaluating personalized FL and discuss practical concerns around using personalization in real-world federated settings that are often overlooked in existing literature. Our results highlight key insights about existing work such as the fundamental challenge of tuning hyperparmeters for personalization (Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>), and point to several critical open directions of work in personalized FL.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p">Finally, in Section <a href="#S6" title="6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we summarize our major take-aways from the benchmark, and point out limitations and future directions to expand benchmarking in this area more generally.</p>
</div>
</li>
</ul>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p"><span id="S1.p6.1.1" class="ltx_text ltx_font_bold">Existing FL benchmarks.</span> Concurrent works benchmarking personalized FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib56" title="" class="ltx_ref">56</a>]</cite> do not take into account differences between cross-device and cross-silo federated settings (Table <a href="#S2.T1" title="Table 1 ‣ 2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>), which we find to have a significant impact on the baseline methods and resulting conclusions. Beyond these works, other prior FL benchmarks (see, e.g, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib43" title="" class="ltx_ref">43</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>, <a href="#bib.bib45" title="" class="ltx_ref">45</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>, <a href="#bib.bib32" title="" class="ltx_ref">32</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>) do not consider personalization baselines and focus instead on the standard FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> algorithm and variations <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Background: Federated Learning and Personalization</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Federated learning (FL) considers the problem of learning across a set of distributed clients (e.g., sensors, phones, organizations). Based on the size and characteristics of the network, there are two common FL settings: <span id="S2.p1.1.1" class="ltx_text ltx_font_italic">cross-device FL</span> and <span id="S2.p1.1.2" class="ltx_text ltx_font_italic">cross-silo FL</span>, and two types of algorithms: <span id="S2.p1.1.3" class="ltx_text ltx_font_italic">stateful</span> and <span id="S2.p1.1.4" class="ltx_text ltx_font_italic">stateless</span>. We provide a brief description below, and defer readers to <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> for more detailed discussion.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p"><span id="S2.p2.1.1" class="ltx_text ltx_font_bold">Cross-device vs. Cross-silo.</span> Despite many similarities, it is worth distinguishing cross-device FL from cross-silo FL when understanding heterogeneity and the role of personalization. Cross-device applications typically involve learning across a large number (e.g., hundreds of millions) of mobile or IoT devices. Given the network scale coupled with the unreliability of such devices<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Usually only mobile phones that are idle, charging and connected to WiFi can join training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>.</span></span></span>, it is common for devices to only participate once or <span id="S2.p2.1.2" class="ltx_text ltx_font_italic">never</span> participate in the training period <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>, <a href="#bib.bib81" title="" class="ltx_ref">81</a>]</cite>. This characteristic motivates the development of methods for cross-device FL which are <span id="S2.p2.1.3" class="ltx_text ltx_font_italic">stateless<span id="footnote3" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note"><span id="footnote3.1.1.1" class="ltx_text ltx_font_upright">3</span></span><span id="footnote3.9" class="ltx_text ltx_font_upright">Stateful algorithms can perform poorly in the cross-device settings where the clients sampling rate is very low in each round. Because most clients are sampled at most once during the entire training process, their local states are either unused or very stale. See Section 5.1 of </span><cite class="ltx_cite ltx_citemacro_cite"><span id="footnote3.10.1" class="ltx_text ltx_font_upright">[</span><a href="#bib.bib63" title="" class="ltx_ref">63</a><span id="footnote3.11.2" class="ltx_text ltx_font_upright">]</span></cite><span id="footnote3.12" class="ltx_text ltx_font_upright"> for the empirical results of the stateful SCAFFOLD algorithm </span><cite class="ltx_cite ltx_citemacro_cite"><span id="footnote3.13.1" class="ltx_text ltx_font_upright">[</span><a href="#bib.bib38" title="" class="ltx_ref">38</a><span id="footnote3.14.2" class="ltx_text ltx_font_upright">]</span></cite><span id="footnote3.15" class="ltx_text ltx_font_upright"> in the cross-device setting.</span></span></span></span></span>, in that model or variable state is not maintained on each client from one round to another, and there exists no unique identifier for each client (see more detailed discussions in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>).</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">In contrast, cross-silo FL applications often consider learning across a handful of organizations such as hospitals or schools, where clients are almost always available at each training round. These properties allow the silos to be more easily accessed and identified, permitting the use of possibly more complex <span id="S2.p3.1.1" class="ltx_text ltx_font_italic">stateful</span> approaches. As we will see, these differences may change both what heterogeneity looks like in cross-device vs. cross-silo FL as well as the methods that are most appropriate to capture this heterogeneity <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>. We therefore include examples of both cross-device and cross-silo FL datasets in the benchmark and consider methods and evaluation schemes unique to each setting. Table <a href="#S2.T1" title="Table 1 ‣ 2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> summarizes the three key differences in the experimental setups between the cross-device and cross-silo settings.</p>
</div>
<figure id="S2.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S2.T1.2.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S2.T1.3.2" class="ltx_text" style="font-size:90%;">Differences between the cross-device and cross-silo experimental setups.</span></figcaption>
<table id="S2.T1.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S2.T1.4.1.1" class="ltx_tr">
<th id="S2.T1.4.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S2.T1.4.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.1.1.1.1.1" class="ltx_p" style="width:148.0pt;"><span id="S2.T1.4.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Experimental setup</span></span>
</span>
</th>
<th id="S2.T1.4.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S2.T1.4.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.1.1.2.1.1" class="ltx_p" style="width:139.4pt;"><span id="S2.T1.4.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Cross-device</span></span>
</span>
</th>
<th id="S2.T1.4.1.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S2.T1.4.1.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.1.1.3.1.1" class="ltx_p" style="width:150.8pt;"><span id="S2.T1.4.1.1.3.1.1.1" class="ltx_text ltx_font_bold">Cross-silo</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S2.T1.4.2.1" class="ltx_tr">
<td id="S2.T1.4.2.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S2.T1.4.2.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.2.1.1.1.1" class="ltx_p" style="width:148.0pt;">Client sampling rate per training round (Section <a href="#S3.SS2" title="3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>)</span>
</span>
</td>
<td id="S2.T1.4.2.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S2.T1.4.2.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.2.1.2.1.1" class="ltx_p" style="width:139.4pt;">Typically on the scale of 0.1%-1% (see Table <a href="#S3.T3" title="Table 3 ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> for the exact value)</span>
</span>
</td>
<td id="S2.T1.4.2.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S2.T1.4.2.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.2.1.3.1.1" class="ltx_p" style="width:150.8pt;">100% (all silos participate in every round)</span>
</span>
</td>
</tr>
<tr id="S2.T1.4.3.2" class="ltx_tr">
<td id="S2.T1.4.3.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S2.T1.4.3.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.3.2.1.1.1" class="ltx_p" style="width:148.0pt;">Train/valid/test split (Section <a href="#S3.SS2" title="3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>)</span>
</span>
</td>
<td id="S2.T1.4.3.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S2.T1.4.3.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.3.2.2.1.1" class="ltx_p" style="width:139.4pt;">Split the clients (see Fig. <a href="#S3.F1" title="Figure 1 ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>
</span>
</td>
<td id="S2.T1.4.3.2.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S2.T1.4.3.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.3.2.3.1.1" class="ltx_p" style="width:150.8pt;">Split each client’s data (see Fig. <a href="#S3.F1" title="Figure 1 ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>)</span>
</span>
</td>
</tr>
<tr id="S2.T1.4.4.3" class="ltx_tr">
<td id="S2.T1.4.4.3.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="S2.T1.4.4.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.4.3.1.1.1" class="ltx_p" style="width:148.0pt;">Stateful or stateless algorithm</span>
</span>
</td>
<td id="S2.T1.4.4.3.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="S2.T1.4.4.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.4.3.2.1.1" class="ltx_p" style="width:139.4pt;">Stateless<span id="S2.T1.4.4.3.2.1.1.1" class="ltx_ERROR undefined">\@footnotemark</span>.</span>
</span>
</td>
<td id="S2.T1.4.4.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb ltx_border_t">
<span id="S2.T1.4.4.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S2.T1.4.4.3.3.1.1" class="ltx_p" style="width:150.8pt;">Both work.</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p"><span id="S2.p4.1.1" class="ltx_text ltx_font_bold">Heterogeneity<span id="footnote4" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note"><span id="footnote4.1.1.1" class="ltx_text ltx_font_medium">4</span></span><span id="footnote4.9" class="ltx_text ltx_font_medium">Note that we focus on </span><span id="footnote4.10" class="ltx_text ltx_font_italic">data heterogeneity</span><span id="footnote4.11" class="ltx_text ltx_font_medium"> here and do not consider other types of heterogeneity in our experiments, e.g., mobile devices may have different processing speeds and memory constraints, which is worth exploring in the future.</span></span></span></span>.</span> Motivated by privacy and efficiency concerns, in both cross-device and cross-silo FL it is common to keep the raw data generated on each distributed client local to each client, and instead aggregate focused updates to perform collaborative learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite>. While this has many practical benefits, it can also introduce or exacerbate issues of heterogeneity, as each client may generate data according to a unique distribution. To better account for this heterogeneity, it is therefore increasingly common to consider techniques (described below) that learn personalized, client-specific models.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p id="S2.p5.1" class="ltx_p"><span id="S2.p5.1.1" class="ltx_text ltx_font_bold">Personalization.</span> We defer readers to Appendix <a href="#A1" title="Appendix A Background on Personalized Federated Learning ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a> and the recent surveys <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib70" title="" class="ltx_ref">70</a>]</cite>, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib74" title="" class="ltx_ref">74</a>, §7.5]</cite> for more detailed discussion on existing literature in personalized FL. In general, existing personalized FL approaches can be categorized in three different ways:</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p">Stateful vs stateless: a statuful algorithm <cite class="ltx_cite ltx_citemacro_cite">[e.g., <a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib69" title="" class="ltx_ref">69</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib66" title="" class="ltx_ref">66</a>, <a href="#bib.bib52" title="" class="ltx_ref">52</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib54" title="" class="ltx_ref">54</a>]</cite> requires certain states to be maintained on participating clients from one round to another (e.g., SCAFFOLD algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> requires each client maintain a control variate locally<span id="S2.I1.i1.p1.1.1" class="ltx_ERROR undefined">\@footnotemark</span>). As pointed out in Table <a href="#S2.T1" title="Table 1 ‣ 2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, while stateless approaches are applicable to both settings, stateful approaches are more appropriate for cross-silo FL (see also <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>).</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p">Model-agnostic vs model-specific: whether the method targets a specific model architecture or requires domain-specific information <cite class="ltx_cite ltx_citemacro_cite">[e.g., <a href="#bib.bib68" title="" class="ltx_ref">68</a>, <a href="#bib.bib86" title="" class="ltx_ref">86</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite>).</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p">In terms of the methodologies: e.g., meta-learning <cite class="ltx_cite ltx_citemacro_cite">[e.g., <a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib75" title="" class="ltx_ref">75</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, clustering <cite class="ltx_cite ltx_citemacro_cite">[e.g., <a href="#bib.bib66" title="" class="ltx_ref">66</a>, <a href="#bib.bib53" title="" class="ltx_ref">53</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib79" title="" class="ltx_ref">79</a>]</cite>, local memory <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>, and multi-task learning (MTL) <cite class="ltx_cite ltx_citemacro_cite">[e.g., <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite>.</p>
</div>
</li>
</ul>
<p id="S2.p5.2" class="ltx_p">In benchmarking <span id="S2.p5.2.1" class="ltx_text ltx_font_typewriter">Motley</span>, we consider five model-agnostic personalized FL methods (four stateless and one stateful) from the major methodology categories (meta-learning, clustering, local memory, and MTL).</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span><span id="S3.1.1" class="ltx_text ltx_font_typewriter">Motley</span>: A Benchmark for Personalized Federated Learning</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a> gives an overview of the three components of <span id="S3.p1.1.1" class="ltx_text ltx_font_typewriter">Motley</span> (methods, datasets, baselines). We describe the methods and datasets in this section. In Sections <a href="#S4" title="4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and <a href="#S5" title="5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, we provide baseline results and discuss the practical concerns of performing personalization in real-world FL applications.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Personalization Methods</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p"><span id="S3.SS1.p1.1.1" class="ltx_text ltx_font_typewriter">Motley</span> contains five simple and model-agnostic algorithms for learning personalized models. The first four algorithms are <em id="S3.SS1.p1.1.2" class="ltx_emph ltx_font_italic">stateless</em>, and hence, are appropriate in the cross-device FL setting (see Table <a href="#S2.T1" title="Table 1 ‣ 2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). For all the experiments, we use the generalized version of the FedAvg algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>, in which the server optimizer can use adaptive optimizers. This generalizes the original FedAvg algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite> where the server only averages the client updates.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">Local training</span> refers to every client training a local model using their own data, without collaborating with others. While it is not an FL algorithm, we include it in <span id="S3.I1.i1.p1.1.2" class="ltx_text ltx_font_typewriter">Motley</span> as it provides a good baseline for FL algorithms, and it may be competitive when clients have sufficient local data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib80" title="" class="ltx_ref">80</a>]</cite>.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">FedAvg+Fine-tuning</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> is a simple method for stateless, model-agnostic personalized FL, operating as follows: First train a global model via FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>; then, each client fine-tunes the global model on their local data and uses the fine-tuned model for inference. It has a natural connection to meta-learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite><span id="footnote5" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>Specifically, FedAvg can be viewed as performing the Reptile algorithm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib61" title="" class="ltx_ref">61</a>]</cite> to learn an effective starting model, such that after fine-tuning, the model can quickly adapt to a client’s local data.</span></span></span>, and has been reported to work well in real-world on-device applications <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib75" title="" class="ltx_ref">75</a>, <a href="#bib.bib67" title="" class="ltx_ref">67</a>]</cite>. In <span id="S3.I1.i2.p1.1.2" class="ltx_text ltx_font_typewriter">Motley</span>, we explore two variations: fine-tuning the entire model or fine-tuning only the last layer (the latter can be viewed as a form of hard parameter sharing MTL).</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.1" class="ltx_p"><span id="S3.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">HypCluster</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> (also <span id="S3.I1.i3.p1.1.2" class="ltx_text ltx_font_bold">IFCA</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>) is a stateless method that jointly clusters clients and learns a model for each cluster. Both HypCluster and IFCA work as follows: in each training round, the server sends all models (one per cluster) to the participating clients; each client receives the models and picks the cluster associated to the model with the lowest loss on its local data. It then computes an update for the selected model and sends the update and cluster identity to the server. The server aggregates the model updates for each cluster in the same way as in FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>. In <span id="S3.I1.i3.p1.1.3" class="ltx_text ltx_font_typewriter">Motley</span>, we explore two initialization strategies: random and warm start with FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>.</p>
</div>
</li>
<li id="S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i4.p1" class="ltx_para">
<p id="S3.I1.i4.p1.1" class="ltx_p"><span id="S3.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">FedAvg+kNN-Per</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite> is a recent personalization algorithm. The idea is to interpolate/ensemble the output of two models: a globally-trained FedAvg model and a local k-Nearest Neighbors (kNN) model. For each client’s local example, a representation vector is obtained from the FedAvg model (e.g., the input to the last softmax layer, or the states of an LSTM model). The Euclidean distance between the representations are used to learn a kNN model.</p>
</div>
</li>
<li id="S3.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i5.p1" class="ltx_para">
<p id="S3.I1.i5.p1.1" class="ltx_p"><span id="S3.I1.i5.p1.1.1" class="ltx_text ltx_font_bold">Multi-Task Learning</span> (MTL) is a class of methods used to deliver personalized models for a set of tasks by learning the task relations (either explicitly or implicitly). Each ‘task’ corresponds to a client in the FL setting. MTL approaches usually require the clients to be stateful <cite class="ltx_cite ltx_citemacro_citep">[e.g., <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite>, and hence, are more appropriate for cross-silo settings (see Section <a href="#S2" title="2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> on stateless vs stateful algorithms). Many existing personalized FL methods can be viewed as a form of MTL <cite class="ltx_cite ltx_citemacro_citep">[e.g., <a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite>. In <span id="S3.I1.i5.p1.1.2" class="ltx_text ltx_font_typewriter">Motley</span>, we consider two MTL algorithms: 1) Mocha <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite>, the first work that proposes to personalize federated models in convex settings, and 2) Ditto <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite>, a recent work that regularizes personalized models towards optimal global models for both convex and non-convex problems.</p>
</div>
</li>
</ul>
</div>
<figure id="S3.SS1.9" class="ltx_table">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S3.SS1.9.11.2.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S3.SS1.2.2.1" class="ltx_text ltx_font_typewriter" style="font-size:90%;">Motley<span id="S3.SS1.2.2.1.1" class="ltx_text ltx_font_serif"> has three components: (1) modular implementations of five representative personalized FL algorithms, (2) a diverse range of tasks (C: classification; R: regression; NWP: next word prediction) and datasets (see Appendix <a href="#A2" title="Appendix B Datasets ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>) chosen to cover the cross-device and cross-silo FL settings, and (3) baseline results via extensive hyparameter tuning (see Appendix <a href="#A3" title="Appendix C Hyperparameters and Implementation Details ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>) and the insights obtained from these results. The right-most column is the average number of examples per client <math id="S3.SS1.2.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S3.SS1.2.2.1.1.m1.1b"><mo id="S3.SS1.2.2.1.1.m1.1.1" xref="S3.SS1.2.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.2.2.1.1.m1.1c"><csymbol cd="latexml" id="S3.SS1.2.2.1.1.m1.1.1.cmml" xref="S3.SS1.2.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.2.2.1.1.m1.1d">\pm</annotation></semantics></math> standard deviation.</span></span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<table id="S3.SS1.9.9" class="ltx_tabular ltx_figure_panel ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.SS1.9.9.8.1" class="ltx_tr">
<th id="S3.SS1.9.9.8.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S3.SS1.9.9.8.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.8.1.1.1.1" class="ltx_p" style="width:130.9pt;"><span id="S3.SS1.9.9.8.1.1.1.1.1" class="ltx_text ltx_font_bold">Methods</span></span>
</span>
</th>
<th id="S3.SS1.9.9.8.1.2" class="ltx_td ltx_align_center ltx_align_top ltx_th ltx_th_column ltx_border_tt" colspan="4"><span id="S3.SS1.9.9.8.1.2.1" class="ltx_text ltx_font_bold">Dataset Details</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.SS1.9.9.9.1" class="ltx_tr">
<td id="S3.SS1.9.9.9.1.1" class="ltx_td ltx_align_top"></td>
<th id="S3.SS1.9.9.9.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S3.SS1.9.9.9.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.9.1.2.1.1" class="ltx_p" style="width:85.4pt;"><span id="S3.SS1.9.9.9.1.2.1.1.1" class="ltx_text ltx_font_italic">Dataset</span></span>
</span>
</th>
<th id="S3.SS1.9.9.9.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S3.SS1.9.9.9.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.9.1.3.1.1" class="ltx_p" style="width:99.6pt;"><span id="S3.SS1.9.9.9.1.3.1.1.1" class="ltx_text ltx_font_italic">Task and Model</span></span>
</span>
</th>
<th id="S3.SS1.9.9.9.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S3.SS1.9.9.9.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.9.1.4.1.1" class="ltx_p" style="width:34.1pt;"><span id="S3.SS1.9.9.9.1.4.1.1.1" class="ltx_text ltx_font_italic">Clients</span></span>
</span>
</th>
<th id="S3.SS1.9.9.9.1.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column">
<span id="S3.SS1.9.9.9.1.5.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.9.1.5.1.1" class="ltx_p" style="width:42.7pt;"><span id="S3.SS1.9.9.9.1.5.1.1.1" class="ltx_text ltx_font_italic">Pts/Client</span></span>
</span>
</th>
</tr>
<tr id="S3.SS1.9.9.10.2" class="ltx_tr">
<td id="S3.SS1.9.9.10.2.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S3.SS1.9.9.10.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.10.2.1.1.1" class="ltx_p" style="width:130.9pt;"><span id="S3.SS1.9.9.10.2.1.1.1.1" class="ltx_text ltx_font_italic">Cross-Device FL</span></span>
</span>
</td>
<td id="S3.SS1.9.9.10.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t"></td>
<td id="S3.SS1.9.9.10.2.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t"></td>
<td id="S3.SS1.9.9.10.2.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t"></td>
<td id="S3.SS1.9.9.10.2.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t"></td>
</tr>
<tr id="S3.SS1.9.9.11.3" class="ltx_tr">
<td id="S3.SS1.9.9.11.3.1" class="ltx_td ltx_nopad_r ltx_align_justify ltx_align_top" rowspan="5">
<span id="S3.SS1.9.9.11.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.11.3.1.1.1" class="ltx_p" style="width:130.9pt;"><span id="S3.SS1.9.9.11.3.1.1.1.1" class="ltx_text">   Local training</span>
   FedAvg+Fine-tuning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>
   HypCluster <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>/IFCA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>
   FedAvg+kNN-Per <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.9.9.11.3.2" class="ltx_td ltx_align_justify ltx_align_top"></td>
<td id="S3.SS1.9.9.11.3.3" class="ltx_td ltx_align_justify ltx_align_top"></td>
<td id="S3.SS1.9.9.11.3.4" class="ltx_td ltx_align_justify ltx_align_top"></td>
<td id="S3.SS1.9.9.11.3.5" class="ltx_td ltx_align_justify ltx_align_top"></td>
</tr>
<tr id="S3.SS1.3.3.1" class="ltx_tr">
<td id="S3.SS1.3.3.1.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.3.3.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.3.3.1.2.1.1" class="ltx_p" style="width:85.4pt;">EMNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.3.3.1.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.3.3.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.3.3.1.3.1.1" class="ltx_p" style="width:99.6pt;">Image C; CNN</span>
</span>
</td>
<td id="S3.SS1.3.3.1.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.3.3.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.3.3.1.4.1.1" class="ltx_p" style="width:34.1pt;">3400</span>
</span>
</td>
<td id="S3.SS1.3.3.1.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.3.3.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.3.3.1.1.1.1" class="ltx_p" style="width:42.7pt;">198<math id="S3.SS1.3.3.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S3.SS1.3.3.1.1.1.1.m1.1a"><mo id="S3.SS1.3.3.1.1.1.1.m1.1.1" xref="S3.SS1.3.3.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.3.3.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S3.SS1.3.3.1.1.1.1.m1.1.1.cmml" xref="S3.SS1.3.3.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.3.3.1.1.1.1.m1.1c">\pm</annotation></semantics></math>89</span>
</span>
</td>
</tr>
<tr id="S3.SS1.4.4.2" class="ltx_tr">
<td id="S3.SS1.4.4.2.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.4.4.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.4.4.2.2.1.1" class="ltx_p" style="width:85.4pt;">StackOverflow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.4.4.2.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.4.4.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.4.4.2.3.1.1" class="ltx_p" style="width:99.6pt;">NWP; LSTM</span>
</span>
</td>
<td id="S3.SS1.4.4.2.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.4.4.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.4.4.2.4.1.1" class="ltx_p" style="width:34.1pt;">380k</span>
</span>
</td>
<td id="S3.SS1.4.4.2.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.4.4.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.4.4.2.1.1.1" class="ltx_p" style="width:42.7pt;">397<math id="S3.SS1.4.4.2.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S3.SS1.4.4.2.1.1.1.m1.1a"><mo id="S3.SS1.4.4.2.1.1.1.m1.1.1" xref="S3.SS1.4.4.2.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.4.4.2.1.1.1.m1.1b"><csymbol cd="latexml" id="S3.SS1.4.4.2.1.1.1.m1.1.1.cmml" xref="S3.SS1.4.4.2.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.4.4.2.1.1.1.m1.1c">\pm</annotation></semantics></math>1279</span>
</span>
</td>
</tr>
<tr id="S3.SS1.5.5.3" class="ltx_tr">
<td id="S3.SS1.5.5.3.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.5.5.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.5.5.3.2.1.1" class="ltx_p" style="width:85.4pt;">Landmarks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.5.5.3.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.5.5.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.5.5.3.3.1.1" class="ltx_p" style="width:99.6pt;">Image C; MobileNetV2</span>
</span>
</td>
<td id="S3.SS1.5.5.3.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.5.5.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.5.5.3.4.1.1" class="ltx_p" style="width:34.1pt;">1262</span>
</span>
</td>
<td id="S3.SS1.5.5.3.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.5.5.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.5.5.3.1.1.1" class="ltx_p" style="width:42.7pt;">130<math id="S3.SS1.5.5.3.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S3.SS1.5.5.3.1.1.1.m1.1a"><mo id="S3.SS1.5.5.3.1.1.1.m1.1.1" xref="S3.SS1.5.5.3.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.5.5.3.1.1.1.m1.1b"><csymbol cd="latexml" id="S3.SS1.5.5.3.1.1.1.m1.1.1.cmml" xref="S3.SS1.5.5.3.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.5.5.3.1.1.1.m1.1c">\pm</annotation></semantics></math>199</span>
</span>
</td>
</tr>
<tr id="S3.SS1.6.6.4" class="ltx_tr">
<td id="S3.SS1.6.6.4.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.6.6.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.6.6.4.2.1.1" class="ltx_p" style="width:85.4pt;">TedMulti-EnEs <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.6.6.4.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.6.6.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.6.6.4.3.1.1" class="ltx_p" style="width:99.6pt;">NWP; Transformer</span>
</span>
</td>
<td id="S3.SS1.6.6.4.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.6.6.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.6.6.4.4.1.1" class="ltx_p" style="width:34.1pt;">4184</span>
</span>
</td>
<td id="S3.SS1.6.6.4.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.6.6.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.6.6.4.1.1.1" class="ltx_p" style="width:42.7pt;">113<math id="S3.SS1.6.6.4.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S3.SS1.6.6.4.1.1.1.m1.1a"><mo id="S3.SS1.6.6.4.1.1.1.m1.1.1" xref="S3.SS1.6.6.4.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.6.6.4.1.1.1.m1.1b"><csymbol cd="latexml" id="S3.SS1.6.6.4.1.1.1.m1.1.1.cmml" xref="S3.SS1.6.6.4.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.6.6.4.1.1.1.m1.1c">\pm</annotation></semantics></math>56</span>
</span>
</td>
</tr>
<tr id="S3.SS1.9.9.12.4" class="ltx_tr">
<td id="S3.SS1.9.9.12.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S3.SS1.9.9.12.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.12.4.1.1.1" class="ltx_p" style="width:130.9pt;"><span id="S3.SS1.9.9.12.4.1.1.1.1" class="ltx_text ltx_font_italic">Cross-Silo FL</span></span>
</span>
</td>
<td id="S3.SS1.9.9.12.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t"></td>
<td id="S3.SS1.9.9.12.4.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t"></td>
<td id="S3.SS1.9.9.12.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t"></td>
<td id="S3.SS1.9.9.12.4.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t"></td>
</tr>
<tr id="S3.SS1.7.7.5" class="ltx_tr">
<td id="S3.SS1.7.7.5.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.7.7.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.7.7.5.2.1.1" class="ltx_p" style="width:130.9pt;">   Local training</span>
</span>
</td>
<td id="S3.SS1.7.7.5.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.7.7.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.7.7.5.3.1.1" class="ltx_p" style="width:85.4pt;">ADNI<span id="S3.SS1.7.7.5.3.1.1.1" class="ltx_ERROR undefined">\@footnotemark</span></span>
</span>
</td>
<td id="S3.SS1.7.7.5.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.7.7.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.7.7.5.4.1.1" class="ltx_p" style="width:99.6pt;">Image R; CNN</span>
</span>
</td>
<td id="S3.SS1.7.7.5.5" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.7.7.5.5.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.7.7.5.5.1.1" class="ltx_p" style="width:34.1pt;">9</span>
</span>
</td>
<td id="S3.SS1.7.7.5.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.7.7.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.7.7.5.1.1.1" class="ltx_p" style="width:42.7pt;">5405<math id="S3.SS1.7.7.5.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S3.SS1.7.7.5.1.1.1.m1.1a"><mo id="S3.SS1.7.7.5.1.1.1.m1.1.1" xref="S3.SS1.7.7.5.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.7.7.5.1.1.1.m1.1b"><csymbol cd="latexml" id="S3.SS1.7.7.5.1.1.1.m1.1.1.cmml" xref="S3.SS1.7.7.5.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.7.7.5.1.1.1.m1.1c">\pm</annotation></semantics></math>4822</span>
</span>
</td>
</tr>
<tr id="S3.SS1.8.8.6" class="ltx_tr">
<td id="S3.SS1.8.8.6.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.8.8.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.8.8.6.2.1.1" class="ltx_p" style="width:130.9pt;">   FedAvg+Fine-tuning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.8.8.6.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.8.8.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.8.8.6.3.1.1" class="ltx_p" style="width:85.4pt;">Vehicle <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.8.8.6.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.8.8.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.8.8.6.4.1.1" class="ltx_p" style="width:99.6pt;">Binary C; SVM</span>
</span>
</td>
<td id="S3.SS1.8.8.6.5" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.8.8.6.5.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.8.8.6.5.1.1" class="ltx_p" style="width:34.1pt;">23</span>
</span>
</td>
<td id="S3.SS1.8.8.6.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.8.8.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.8.8.6.1.1.1" class="ltx_p" style="width:42.7pt;">1900<math id="S3.SS1.8.8.6.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S3.SS1.8.8.6.1.1.1.m1.1a"><mo id="S3.SS1.8.8.6.1.1.1.m1.1.1" xref="S3.SS1.8.8.6.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.8.8.6.1.1.1.m1.1b"><csymbol cd="latexml" id="S3.SS1.8.8.6.1.1.1.m1.1.1.cmml" xref="S3.SS1.8.8.6.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.8.8.6.1.1.1.m1.1c">\pm</annotation></semantics></math>349</span>
</span>
</td>
</tr>
<tr id="S3.SS1.9.9.7" class="ltx_tr">
<td id="S3.SS1.9.9.7.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.9.9.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.7.2.1.1" class="ltx_p" style="width:130.9pt;">   HypCluster <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>/IFCA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.9.9.7.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.9.9.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.7.3.1.1" class="ltx_p" style="width:85.4pt;">School<span id="S3.SS1.9.9.7.3.1.1.1" class="ltx_ERROR undefined">\@footnotemark</span></span>
</span>
</td>
<td id="S3.SS1.9.9.7.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.9.9.7.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.7.4.1.1" class="ltx_p" style="width:99.6pt;">R; Linear Regression</span>
</span>
</td>
<td id="S3.SS1.9.9.7.5" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.9.9.7.5.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.7.5.1.1" class="ltx_p" style="width:34.1pt;">139</span>
</span>
</td>
<td id="S3.SS1.9.9.7.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.9.9.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.7.1.1.1" class="ltx_p" style="width:42.7pt;">111<math id="S3.SS1.9.9.7.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S3.SS1.9.9.7.1.1.1.m1.1a"><mo id="S3.SS1.9.9.7.1.1.1.m1.1.1" xref="S3.SS1.9.9.7.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S3.SS1.9.9.7.1.1.1.m1.1b"><csymbol cd="latexml" id="S3.SS1.9.9.7.1.1.1.m1.1.1.cmml" xref="S3.SS1.9.9.7.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.9.9.7.1.1.1.m1.1c">\pm</annotation></semantics></math>56</span>
</span>
</td>
</tr>
<tr id="S3.SS1.9.9.13.5" class="ltx_tr">
<td id="S3.SS1.9.9.13.5.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.SS1.9.9.13.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.13.5.1.1.1" class="ltx_p" style="width:130.9pt;">   FedAvg+kNN-Per <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.9.9.13.5.2" class="ltx_td ltx_align_top"></td>
<td id="S3.SS1.9.9.13.5.3" class="ltx_td ltx_align_top"></td>
<td id="S3.SS1.9.9.13.5.4" class="ltx_td ltx_align_top"></td>
<td id="S3.SS1.9.9.13.5.5" class="ltx_td ltx_align_top"></td>
</tr>
<tr id="S3.SS1.9.9.14.6" class="ltx_tr">
<td id="S3.SS1.9.9.14.6.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb">
<span id="S3.SS1.9.9.14.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.SS1.9.9.14.6.1.1.1" class="ltx_p" style="width:130.9pt;">   Multi-task learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib69" title="" class="ltx_ref">69</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite></span>
</span>
</td>
<td id="S3.SS1.9.9.14.6.2" class="ltx_td ltx_align_top ltx_border_bb"></td>
<td id="S3.SS1.9.9.14.6.3" class="ltx_td ltx_align_top ltx_border_bb"></td>
<td id="S3.SS1.9.9.14.6.4" class="ltx_td ltx_align_top ltx_border_bb"></td>
<td id="S3.SS1.9.9.14.6.5" class="ltx_td ltx_align_top ltx_border_bb"></td>
</tr>
</tbody>
</table>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F1" class="ltx_figure ltx_figure_panel">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F1.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.09262/assets/x1.png" id="S3.F1.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="197" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F1.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.09262/assets/figures/data_process.png" id="S3.F1.2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="193" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F1.6.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S3.F1.7.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Left<span id="S3.F1.7.2.1" class="ltx_text ltx_font_medium">: The chosen federated datasets (Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>) have heterogeneous local distributions (see Appendix <a href="#A2" title="Appendix B Datasets ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a> for other datasets). </span>Right<span id="S3.F1.7.2.2" class="ltx_text ltx_font_medium">: To best reflect real-world FL applications, we naturally pre-process cross-device and cross-silo datasets differently: in cross-device, we split the clients into train/validation/test, and each validation/test client’s local examples are split into two local sets: a personalization set and an evaluation set; in cross-silo, we split each client’s local dataset into train/validation/test sets (see Section <a href="#S3.SS2" title="3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>).</span></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<section id="S3.SS2" class="ltx_subsection ltx_figure_panel">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Datasets and Pre-processing</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a> lists the datasets carefully chosen to reflect real-world FL applications, including a health data<span id="footnote6" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>Health data obtained from Alzheimer’s Disease Neuroimaging Initiative: <a target="_blank" href="https://adni.loni.usc.edu/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://adni.loni.usc.edu/</a>.</span></span></span> and a school data<span id="footnote7" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span>Data collected by <a target="_blank" href="https://en.wikipedia.org/wiki/Inner_London_Education_Authority" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://en.wikipedia.org/wiki/Inner_London_Education_Authority</a>.</span></span></span> in the cross-silo setting (see Appendix <a href="#A2" title="Appendix B Datasets ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a> for detailed descriptions). All datasets have natural per-user partitions and distinct local statistics (Figure <a href="#S3.F1" title="Figure 1 ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). <span id="S3.SS2.p1.1.1" class="ltx_text ltx_font_typewriter">Motley</span> provides data pre-processsing pipelines for all data<span id="S3.SS2.p1.1.2" class="ltx_ERROR undefined">\@footnotemark</span>, and includes a critical and often overlooked distinction between pre-processing cross-device vs. cross-silo data (described below).</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<ul id="S3.I2" class="ltx_itemize">
<li id="S3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i1.p1" class="ltx_para">
<p id="S3.I2.i1.p1.1" class="ltx_p"><span id="S3.I2.i1.p1.1.1" class="ltx_text ltx_font_bold">Cross-device</span>. As shown in Figure <a href="#S3.F1" title="Figure 1 ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, we first randomly split the <em id="S3.I2.i1.p1.1.2" class="ltx_emph ltx_font_italic">clients</em> into three disjoint sets: train, validation (for hyperparameter tuning), and test (for final evaluation). This split reflects practical cross-device FL settings: given the population scale (e.g., millions of mobile devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>) and that clients usually need to satisfy certain conditions such as idle, WiFi, and charging in order to be able to join training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, devices participating in inference may never participate in training. It is therefore important to ensure that the trained models can generalize to clients that are unseen during the training time <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib81" title="" class="ltx_ref">81</a>]</cite>. We then split each validation and test client’s local examples into two equal-sized sets: a personalization set (for learning a personalized model, e.g., via fine-tuning, building a kNN model, or choosing best model among multiple models) and an evaluation set (for evaluating the personalized model)<span id="footnote8" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span>On StackOverflow, we <em id="footnote8.1" class="ltx_emph ltx_font_italic">sort</em> the local examples by time before splitting so that the model is fine-tuned on the old examples and evaluated on the new ones, reflecting practical FL settings. We perform random split on other datasets because they do not save time information. This means that, except StackOverflow, our experiments do not capture the potential distribution shift between the old and new examples. See Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a> for why this can potentially benefit FedAvg+Fine-tuning.</span></span></span>. See Section <a href="#S4" title="4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> for how these datasets are used in each algorithm.</p>
</div>
</li>
<li id="S3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I2.i2.p1" class="ltx_para">
<p id="S3.I2.i2.p1.1" class="ltx_p"><span id="S3.I2.i2.p1.1.1" class="ltx_text ltx_font_bold">Cross-silo.</span> Unlike cross-device FL, in the cross-silo FL setting the total number of silos is small (e.g., tens of hospitals), and the same silos usually participate in both training <em id="S3.I2.i2.p1.1.2" class="ltx_emph ltx_font_italic">and</em> inference. To evaluate this setting, we split each silo’s local examples into three sets: a train, validation, and test set (as shown in Figure <a href="#S3.F1" title="Figure 1 ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). See Section <a href="#S5" title="5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> for details on how they are used in training and evaluation.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p"><span id="S3.SS2.p3.1.1" class="ltx_text ltx_font_bold">Clients sampling.</span> Besides the distinction in the pre-processing steps, cross-device and cross-silo settings have very different clients sampling rates in training. In the real-world cross-device applications, the clients sampling rate is typically very low <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>, <a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>, e.g., the total population is hundreds of millions devices but only a few thousands participate at every training round. Table <a href="#S3.T3" title="Table 3 ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> lists the number of clients sampled per round used in our cross-device experiments. In the cross-silo experiments, we assume that all clients are always available at each training round as shown in Table <a href="#S2.T1" title="Table 1 ‣ 2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure id="S3.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S3.T3.2.1.1" class="ltx_text" style="font-size:90%;">Table 3</span>: </span><span id="S3.T3.3.2" class="ltx_text" style="font-size:90%;">Number of clients sampled per training round in our cross-device experiments (see Appendix <a href="#A3" title="Appendix C Hyperparameters and Implementation Details ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> for all the hyperparameters). For EMNIST, StackOverflow, and Landmarks, we use the same number of sampled clients per round as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>. The real-world cross-devices settings usually have a very low sampling rate, e.g., hundreds of millions devices in total but only a few thousands participate each round <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite>.</span></figcaption>
<table id="S3.T3.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S3.T3.4.1.1" class="ltx_tr">
<th id="S3.T3.4.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S3.T3.4.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.1.1.1.1.1" class="ltx_p" style="width:74.0pt;"><span id="S3.T3.4.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Datasets</span></span>
</span>
</th>
<th id="S3.T3.4.1.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S3.T3.4.1.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.1.1.2.1.1" class="ltx_p" style="width:108.1pt;"><span id="S3.T3.4.1.1.2.1.1.1" class="ltx_text ltx_font_bold">Total train clients</span></span>
</span>
</th>
<th id="S3.T3.4.1.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S3.T3.4.1.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.1.1.3.1.1" class="ltx_p" style="width:119.5pt;"><span id="S3.T3.4.1.1.3.1.1.1" class="ltx_text ltx_font_bold">Sampled clients/round</span></span>
</span>
</th>
<th id="S3.T3.4.1.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_tt">
<span id="S3.T3.4.1.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.1.1.4.1.1" class="ltx_p" style="width:74.0pt;"><span id="S3.T3.4.1.1.4.1.1.1" class="ltx_text ltx_font_bold">Sampling rate</span></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S3.T3.4.2.1" class="ltx_tr">
<td id="S3.T3.4.2.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S3.T3.4.2.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.2.1.1.1.1" class="ltx_p" style="width:74.0pt;">EMNIST</span>
</span>
</td>
<td id="S3.T3.4.2.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S3.T3.4.2.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.2.1.2.1.1" class="ltx_p" style="width:108.1pt;">2500</span>
</span>
</td>
<td id="S3.T3.4.2.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S3.T3.4.2.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.2.1.3.1.1" class="ltx_p" style="width:119.5pt;">50</span>
</span>
</td>
<td id="S3.T3.4.2.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t">
<span id="S3.T3.4.2.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.2.1.4.1.1" class="ltx_p" style="width:74.0pt;">2%</span>
</span>
</td>
</tr>
<tr id="S3.T3.4.3.2" class="ltx_tr">
<td id="S3.T3.4.3.2.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.T3.4.3.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.3.2.1.1.1" class="ltx_p" style="width:74.0pt;">StackOverflow</span>
</span>
</td>
<td id="S3.T3.4.3.2.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.T3.4.3.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.3.2.2.1.1" class="ltx_p" style="width:108.1pt;">342,477</span>
</span>
</td>
<td id="S3.T3.4.3.2.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.T3.4.3.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.3.2.3.1.1" class="ltx_p" style="width:119.5pt;">200</span>
</span>
</td>
<td id="S3.T3.4.3.2.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.T3.4.3.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.3.2.4.1.1" class="ltx_p" style="width:74.0pt;">0.05%</span>
</span>
</td>
</tr>
<tr id="S3.T3.4.4.3" class="ltx_tr">
<td id="S3.T3.4.4.3.1" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.T3.4.4.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.4.3.1.1.1" class="ltx_p" style="width:74.0pt;">Landmarks</span>
</span>
</td>
<td id="S3.T3.4.4.3.2" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.T3.4.4.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.4.3.2.1.1" class="ltx_p" style="width:108.1pt;">1112</span>
</span>
</td>
<td id="S3.T3.4.4.3.3" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.T3.4.4.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.4.3.3.1.1" class="ltx_p" style="width:119.5pt;">64</span>
</span>
</td>
<td id="S3.T3.4.4.3.4" class="ltx_td ltx_align_justify ltx_align_top">
<span id="S3.T3.4.4.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.4.3.4.1.1" class="ltx_p" style="width:74.0pt;">6%</span>
</span>
</td>
</tr>
<tr id="S3.T3.4.5.4" class="ltx_tr">
<td id="S3.T3.4.5.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb">
<span id="S3.T3.4.5.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.5.4.1.1.1" class="ltx_p" style="width:74.0pt;">TedMulti-EnEs</span>
</span>
</td>
<td id="S3.T3.4.5.4.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb">
<span id="S3.T3.4.5.4.2.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.5.4.2.1.1" class="ltx_p" style="width:108.1pt;">3969</span>
</span>
</td>
<td id="S3.T3.4.5.4.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb">
<span id="S3.T3.4.5.4.3.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.5.4.3.1.1" class="ltx_p" style="width:119.5pt;">32</span>
</span>
</td>
<td id="S3.T3.4.5.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb">
<span id="S3.T3.4.5.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="S3.T3.4.5.4.4.1.1" class="ltx_p" style="width:74.0pt;">0.8%</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Cross-Device Experiments</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We now provide the cross-device personalization baselines by evaluating the four stateless methods described in Section <a href="#S3" title="3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> and discuss our findings. The results are summarized in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.30.2.1" class="ltx_text" style="font-size:90%;">Table 4</span>: </span><span id="S4.T4.2.1" class="ltx_text" style="font-size:90%;">Summary of experimental results on the cross-device FL datasets as well as possible concerns around using each method in practice. We report the per-client accuracy (mean <math id="S4.T4.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.2.1.m1.1b"><mo id="S4.T4.2.1.m1.1.1" xref="S4.T4.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.2.1.m1.1c"><csymbol cd="latexml" id="S4.T4.2.1.m1.1.1.cmml" xref="S4.T4.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.1.m1.1d">\pm</annotation></semantics></math> standard deviation) on the test clients after training 1500 rounds (following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>) on EMNIST, StackOverflow and TenMulti, and 30k rounds (following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>) on Landmarks. Note that the standard deviation is across all the clients’ local accuracies, which is a fairness metric considered in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib59" title="" class="ltx_ref">59</a>, <a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite>. Each value is further averaged over 5 different runs (see Table <a href="#A4.T6" title="Table 6 ‣ Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> for the standard deviation over the 5 runs). Appendix <a href="#A3" title="Appendix C Hyperparameters and Implementation Details ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> provides the tuned hyperparameters.</span></figcaption>
<table id="S4.T4.28" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T4.28.27.1" class="ltx_tr">
<th id="S4.T4.28.27.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.27.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.27.1.1.1.1" class="ltx_p" style="width:62.6pt;"><span id="S4.T4.28.27.1.1.1.1.1" class="ltx_text ltx_font_bold">Algorithm</span></span>
</span>
</th>
<td id="S4.T4.28.27.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.27.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.27.1.2.1.1" class="ltx_p" style="width:108.1pt;"><span id="S4.T4.28.27.1.2.1.1.1" class="ltx_text ltx_font_bold">Metrics</span></span>
</span>
</td>
<td id="S4.T4.28.27.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.27.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.27.1.3.1.1" class="ltx_p" style="width:54.1pt;"><span id="S4.T4.28.27.1.3.1.1.1" class="ltx_text ltx_font_bold">EMNIST</span></span>
</span>
</td>
<td id="S4.T4.28.27.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.27.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.27.1.4.1.1" class="ltx_p" style="width:65.4pt;"><span id="S4.T4.28.27.1.4.1.1.1" class="ltx_text ltx_font_bold">StackOverflow</span></span>
</span>
</td>
<td id="S4.T4.28.27.1.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.27.1.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.27.1.5.1.1" class="ltx_p" style="width:54.1pt;"><span id="S4.T4.28.27.1.5.1.1.1" class="ltx_text ltx_font_bold">Landmarks</span></span>
</span>
</td>
<td id="S4.T4.28.27.1.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.27.1.6.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.27.1.6.1.1" class="ltx_p" style="width:54.1pt;"><span id="S4.T4.28.27.1.6.1.1.1" class="ltx_text ltx_font_bold">TedMulti</span></span>
</span>
</td>
</tr>
<tr id="S4.T4.6.4" class="ltx_tr">
<th id="S4.T4.6.4.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.6.4.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.6.4.5.1.1" class="ltx_p" style="width:62.6pt;">Local training</span>
</span>
</th>
<td id="S4.T4.6.4.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.6.4.6.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.6.4.6.1.1" class="ltx_p" style="width:108.1pt;">Per-client acc</span>
</span>
</td>
<td id="S4.T4.3.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.3.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.3.1.1.1.1" class="ltx_p" style="width:54.1pt;">0.594<math id="S4.T4.3.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.3.1.1.1.1.m1.1a"><mo id="S4.T4.3.1.1.1.1.m1.1.1" xref="S4.T4.3.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.3.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.3.1.1.1.1.m1.1.1.cmml" xref="S4.T4.3.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.3.1.1.1.1.m1.1c">\pm</annotation></semantics></math>.17</span>
</span>
</td>
<td id="S4.T4.4.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.4.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.4.2.2.1.1" class="ltx_p" style="width:65.4pt;">0.062<math id="S4.T4.4.2.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.4.2.2.1.1.m1.1a"><mo id="S4.T4.4.2.2.1.1.m1.1.1" xref="S4.T4.4.2.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.4.2.2.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.4.2.2.1.1.m1.1.1.cmml" xref="S4.T4.4.2.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.4.2.2.1.1.m1.1c">\pm</annotation></semantics></math>.03</span>
</span>
</td>
<td id="S4.T4.5.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.5.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.5.3.3.1.1" class="ltx_p" style="width:54.1pt;">0.173<math id="S4.T4.5.3.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.5.3.3.1.1.m1.1a"><mo id="S4.T4.5.3.3.1.1.m1.1.1" xref="S4.T4.5.3.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.5.3.3.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.5.3.3.1.1.m1.1.1.cmml" xref="S4.T4.5.3.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.5.3.3.1.1.m1.1c">\pm</annotation></semantics></math>.16</span>
</span>
</td>
<td id="S4.T4.6.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.6.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.6.4.4.1.1" class="ltx_p" style="width:54.1pt;">0.056<math id="S4.T4.6.4.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.6.4.4.1.1.m1.1a"><mo id="S4.T4.6.4.4.1.1.m1.1.1" xref="S4.T4.6.4.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.6.4.4.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.6.4.4.1.1.m1.1.1.cmml" xref="S4.T4.6.4.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.6.4.4.1.1.m1.1c">\pm</annotation></semantics></math>.02</span>
</span>
</td>
</tr>
<tr id="S4.T4.10.8" class="ltx_tr">
<th id="S4.T4.10.8.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="6">
<span id="S4.T4.10.8.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.10.8.5.1.1" class="ltx_p" style="width:62.6pt;"><span id="S4.T4.10.8.5.1.1.1" class="ltx_text">FedAvg + Fine-tuning (FT)</span></span>
</span>
</th>
<td id="S4.T4.10.8.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.10.8.6.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.10.8.6.1.1" class="ltx_p" style="width:108.1pt;">Per-client acc before FT</span>
</span>
</td>
<td id="S4.T4.7.5.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.7.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.7.5.1.1.1" class="ltx_p" style="width:54.1pt;">0.844<math id="S4.T4.7.5.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.7.5.1.1.1.m1.1a"><mo id="S4.T4.7.5.1.1.1.m1.1.1" xref="S4.T4.7.5.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.7.5.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.7.5.1.1.1.m1.1.1.cmml" xref="S4.T4.7.5.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.7.5.1.1.1.m1.1c">\pm</annotation></semantics></math>.10</span>
</span>
</td>
<td id="S4.T4.8.6.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.8.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.8.6.2.1.1" class="ltx_p" style="width:65.4pt;">0.269<math id="S4.T4.8.6.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.8.6.2.1.1.m1.1a"><mo id="S4.T4.8.6.2.1.1.m1.1.1" xref="S4.T4.8.6.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.8.6.2.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.8.6.2.1.1.m1.1.1.cmml" xref="S4.T4.8.6.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.8.6.2.1.1.m1.1c">\pm</annotation></semantics></math>.03</span>
</span>
</td>
<td id="S4.T4.9.7.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.9.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.9.7.3.1.1" class="ltx_p" style="width:54.1pt;">0.564<math id="S4.T4.9.7.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.9.7.3.1.1.m1.1a"><mo id="S4.T4.9.7.3.1.1.m1.1.1" xref="S4.T4.9.7.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.9.7.3.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.9.7.3.1.1.m1.1.1.cmml" xref="S4.T4.9.7.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.9.7.3.1.1.m1.1c">\pm</annotation></semantics></math>.16</span>
</span>
</td>
<td id="S4.T4.10.8.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.10.8.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.10.8.4.1.1" class="ltx_p" style="width:54.1pt;">0.160<math id="S4.T4.10.8.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.10.8.4.1.1.m1.1a"><mo id="S4.T4.10.8.4.1.1.m1.1.1" xref="S4.T4.10.8.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.10.8.4.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.10.8.4.1.1.m1.1.1.cmml" xref="S4.T4.10.8.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.10.8.4.1.1.m1.1c">\pm</annotation></semantics></math>.04</span>
</span>
</td>
</tr>
<tr id="S4.T4.14.12" class="ltx_tr">
<td id="S4.T4.14.12.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.14.12.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.14.12.5.1.1" class="ltx_p" style="width:108.1pt;">Per-client acc after FT</span>
</span>
</td>
<td id="S4.T4.11.9.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.11.9.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.11.9.1.1.1" class="ltx_p" style="width:54.1pt;">0.903<math id="S4.T4.11.9.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.11.9.1.1.1.m1.1a"><mo id="S4.T4.11.9.1.1.1.m1.1.1" xref="S4.T4.11.9.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.11.9.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.11.9.1.1.1.m1.1.1.cmml" xref="S4.T4.11.9.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.11.9.1.1.1.m1.1c">\pm</annotation></semantics></math>.06</span>
</span>
</td>
<td id="S4.T4.12.10.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.12.10.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.12.10.2.1.1" class="ltx_p" style="width:65.4pt;">0.282<math id="S4.T4.12.10.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.12.10.2.1.1.m1.1a"><mo id="S4.T4.12.10.2.1.1.m1.1.1" xref="S4.T4.12.10.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.12.10.2.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.12.10.2.1.1.m1.1.1.cmml" xref="S4.T4.12.10.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.12.10.2.1.1.m1.1c">\pm</annotation></semantics></math>.03</span>
</span>
</td>
<td id="S4.T4.13.11.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.13.11.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.13.11.3.1.1" class="ltx_p" style="width:54.1pt;">0.773<math id="S4.T4.13.11.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.13.11.3.1.1.m1.1a"><mo id="S4.T4.13.11.3.1.1.m1.1.1" xref="S4.T4.13.11.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.13.11.3.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.13.11.3.1.1.m1.1.1.cmml" xref="S4.T4.13.11.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.13.11.3.1.1.m1.1c">\pm</annotation></semantics></math>.11</span>
</span>
</td>
<td id="S4.T4.14.12.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.14.12.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.14.12.4.1.1" class="ltx_p" style="width:54.1pt;">0.162<math id="S4.T4.14.12.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.14.12.4.1.1.m1.1a"><mo id="S4.T4.14.12.4.1.1.m1.1.1" xref="S4.T4.14.12.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.14.12.4.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.14.12.4.1.1.m1.1.1.cmml" xref="S4.T4.14.12.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.14.12.4.1.1.m1.1c">\pm</annotation></semantics></math>.04</span>
</span>
</td>
</tr>
<tr id="S4.T4.28.28.2" class="ltx_tr">
<td id="S4.T4.28.28.2.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.28.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.28.2.1.1.1" class="ltx_p" style="width:108.1pt;">% clients "hurt" after FT</span>
</span>
</td>
<td id="S4.T4.28.28.2.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.28.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.28.2.2.1.1" class="ltx_p" style="width:54.1pt;">5.2%</span>
</span>
</td>
<td id="S4.T4.28.28.2.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.28.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.28.2.3.1.1" class="ltx_p" style="width:65.4pt;">14%</span>
</span>
</td>
<td id="S4.T4.28.28.2.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.28.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.28.2.4.1.1" class="ltx_p" style="width:54.1pt;">5.6%</span>
</span>
</td>
<td id="S4.T4.28.28.2.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.28.2.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.28.2.5.1.1" class="ltx_p" style="width:54.1pt;">40%</span>
</span>
</td>
</tr>
<tr id="S4.T4.28.29.3" class="ltx_tr">
<td id="S4.T4.28.29.3.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.29.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.29.3.1.1.1" class="ltx_p" style="width:108.1pt;">FT all layers vs last layer</span>
</span>
</td>
<td id="S4.T4.28.29.3.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.29.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.29.3.2.1.1" class="ltx_p" style="width:54.1pt;">All layers</span>
</span>
</td>
<td id="S4.T4.28.29.3.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.29.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.29.3.3.1.1" class="ltx_p" style="width:65.4pt;">All layers</span>
</span>
</td>
<td id="S4.T4.28.29.3.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.29.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.29.3.4.1.1" class="ltx_p" style="width:54.1pt;">All layers</span>
</span>
</td>
<td id="S4.T4.28.29.3.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.29.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.29.3.5.1.1" class="ltx_p" style="width:54.1pt;">All layers</span>
</span>
</td>
</tr>
<tr id="S4.T4.28.30.4" class="ltx_tr">
<td id="S4.T4.28.30.4.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="S4.T4.28.30.4.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns<span id="S4.T4.28.30.4.1.1.1" class="ltx_text ltx_font_medium">: difficult to tune hyperparameters; may hurt clients; sensitive</span></span></td>
</tr>
<tr id="S4.T4.28.31.5" class="ltx_tr">
<td id="S4.T4.28.31.5.1" class="ltx_td ltx_align_center ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="S4.T4.28.31.5.1.1" class="ltx_text ltx_font_italic">to distribution shift; performance drops with fewer local examples (see Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>)</span></td>
</tr>
<tr id="S4.T4.18.16" class="ltx_tr">
<th id="S4.T4.18.16.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="7">
<span id="S4.T4.18.16.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.18.16.5.1.1" class="ltx_p" style="width:62.6pt;"><span id="S4.T4.18.16.5.1.1.1" class="ltx_text">HypCluster / IFCA</span></span>
</span>
</th>
<td id="S4.T4.18.16.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.18.16.6.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.18.16.6.1.1" class="ltx_p" style="width:108.1pt;">Per-client acc</span>
</span>
</td>
<td id="S4.T4.15.13.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.15.13.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.15.13.1.1.1" class="ltx_p" style="width:54.1pt;">0.897<math id="S4.T4.15.13.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.15.13.1.1.1.m1.1a"><mo id="S4.T4.15.13.1.1.1.m1.1.1" xref="S4.T4.15.13.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.15.13.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.15.13.1.1.1.m1.1.1.cmml" xref="S4.T4.15.13.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.15.13.1.1.1.m1.1c">\pm</annotation></semantics></math>.08</span>
</span>
</td>
<td id="S4.T4.16.14.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.16.14.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.16.14.2.1.1" class="ltx_p" style="width:65.4pt;">0.273<math id="S4.T4.16.14.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.16.14.2.1.1.m1.1a"><mo id="S4.T4.16.14.2.1.1.m1.1.1" xref="S4.T4.16.14.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.16.14.2.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.16.14.2.1.1.m1.1.1.cmml" xref="S4.T4.16.14.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.16.14.2.1.1.m1.1c">\pm</annotation></semantics></math>.03</span>
</span>
</td>
<td id="S4.T4.17.15.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.17.15.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.17.15.3.1.1" class="ltx_p" style="width:54.1pt;">0.573<math id="S4.T4.17.15.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.17.15.3.1.1.m1.1a"><mo id="S4.T4.17.15.3.1.1.m1.1.1" xref="S4.T4.17.15.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.17.15.3.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.17.15.3.1.1.m1.1.1.cmml" xref="S4.T4.17.15.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.17.15.3.1.1.m1.1c">\pm</annotation></semantics></math>.16</span>
</span>
</td>
<td id="S4.T4.18.16.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.18.16.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.18.16.4.1.1" class="ltx_p" style="width:54.1pt;">0.163<math id="S4.T4.18.16.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.18.16.4.1.1.m1.1a"><mo id="S4.T4.18.16.4.1.1.m1.1.1" xref="S4.T4.18.16.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.18.16.4.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.18.16.4.1.1.m1.1.1.cmml" xref="S4.T4.18.16.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.18.16.4.1.1.m1.1c">\pm</annotation></semantics></math>.04</span>
</span>
</td>
</tr>
<tr id="S4.T4.19.17" class="ltx_tr">
<td id="S4.T4.19.17.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.19.17.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.19.17.1.1.1" class="ltx_p" style="width:108.1pt;">No. tuned clusters (<math id="S4.T4.19.17.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.T4.19.17.1.1.1.m1.1a"><mi id="S4.T4.19.17.1.1.1.m1.1.1" xref="S4.T4.19.17.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T4.19.17.1.1.1.m1.1b"><ci id="S4.T4.19.17.1.1.1.m1.1.1.cmml" xref="S4.T4.19.17.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.19.17.1.1.1.m1.1c">k</annotation></semantics></math>)</span>
</span>
</td>
<td id="S4.T4.19.17.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.19.17.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.19.17.2.1.1" class="ltx_p" style="width:54.1pt;">2</span>
</span>
</td>
<td id="S4.T4.19.17.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.19.17.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.19.17.3.1.1" class="ltx_p" style="width:65.4pt;">2</span>
</span>
</td>
<td id="S4.T4.19.17.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.19.17.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.19.17.4.1.1" class="ltx_p" style="width:54.1pt;">2</span>
</span>
</td>
<td id="S4.T4.19.17.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.19.17.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.19.17.5.1.1" class="ltx_p" style="width:54.1pt;">2</span>
</span>
</td>
</tr>
<tr id="S4.T4.28.32.6" class="ltx_tr">
<td id="S4.T4.28.32.6.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.32.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.32.6.1.1.1" class="ltx_p" style="width:108.1pt;">% clients largest cluster</span>
</span>
</td>
<td id="S4.T4.28.32.6.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.32.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.32.6.2.1.1" class="ltx_p" style="width:54.1pt;">52.6%</span>
</span>
</td>
<td id="S4.T4.28.32.6.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.32.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.32.6.3.1.1" class="ltx_p" style="width:65.4pt;">85.1%</span>
</span>
</td>
<td id="S4.T4.28.32.6.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.32.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.32.6.4.1.1" class="ltx_p" style="width:54.1pt;">92.1%</span>
</span>
</td>
<td id="S4.T4.28.32.6.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.32.6.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.32.6.5.1.1" class="ltx_p" style="width:54.1pt;">54.7%</span>
</span>
</td>
</tr>
<tr id="S4.T4.28.33.7" class="ltx_tr">
<td id="S4.T4.28.33.7.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.33.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.33.7.1.1.1" class="ltx_p" style="width:108.1pt;">Warmstart from FedAvg</span>
</span>
</td>
<td id="S4.T4.28.33.7.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.33.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.33.7.2.1.1" class="ltx_p" style="width:54.1pt;">Yes</span>
</span>
</td>
<td id="S4.T4.28.33.7.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.33.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.33.7.3.1.1" class="ltx_p" style="width:65.4pt;">Yes</span>
</span>
</td>
<td id="S4.T4.28.33.7.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.33.7.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.33.7.4.1.1" class="ltx_p" style="width:54.1pt;">Yes</span>
</span>
</td>
<td id="S4.T4.28.33.7.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.33.7.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.33.7.5.1.1" class="ltx_p" style="width:54.1pt;">Yes</span>
</span>
</td>
</tr>
<tr id="S4.T4.24.22" class="ltx_tr">
<td id="S4.T4.20.18.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.20.18.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.20.18.1.1.1" class="ltx_p" style="width:108.1pt;">Per-client acc by ensembling <math id="S4.T4.20.18.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.T4.20.18.1.1.1.m1.1a"><mi id="S4.T4.20.18.1.1.1.m1.1.1" xref="S4.T4.20.18.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.T4.20.18.1.1.1.m1.1b"><ci id="S4.T4.20.18.1.1.1.m1.1.1.cmml" xref="S4.T4.20.18.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.20.18.1.1.1.m1.1c">k</annotation></semantics></math> FedAvg models</span>
</span>
</td>
<td id="S4.T4.21.19.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.21.19.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.21.19.2.1.1" class="ltx_p" style="width:54.1pt;">0.860<math id="S4.T4.21.19.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.21.19.2.1.1.m1.1a"><mo id="S4.T4.21.19.2.1.1.m1.1.1" xref="S4.T4.21.19.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.21.19.2.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.21.19.2.1.1.m1.1.1.cmml" xref="S4.T4.21.19.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.21.19.2.1.1.m1.1c">\pm</annotation></semantics></math>.08</span>
</span>
</td>
<td id="S4.T4.22.20.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.22.20.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.22.20.3.1.1" class="ltx_p" style="width:65.4pt;">0.271<math id="S4.T4.22.20.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.22.20.3.1.1.m1.1a"><mo id="S4.T4.22.20.3.1.1.m1.1.1" xref="S4.T4.22.20.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.22.20.3.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.22.20.3.1.1.m1.1.1.cmml" xref="S4.T4.22.20.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.22.20.3.1.1.m1.1c">\pm</annotation></semantics></math>.03</span>
</span>
</td>
<td id="S4.T4.23.21.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.23.21.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.23.21.4.1.1" class="ltx_p" style="width:54.1pt;">0.564<math id="S4.T4.23.21.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.23.21.4.1.1.m1.1a"><mo id="S4.T4.23.21.4.1.1.m1.1.1" xref="S4.T4.23.21.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.23.21.4.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.23.21.4.1.1.m1.1.1.cmml" xref="S4.T4.23.21.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.23.21.4.1.1.m1.1c">\pm</annotation></semantics></math>.16</span>
</span>
</td>
<td id="S4.T4.24.22.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.24.22.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.24.22.5.1.1" class="ltx_p" style="width:54.1pt;">0.163<math id="S4.T4.24.22.5.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.24.22.5.1.1.m1.1a"><mo id="S4.T4.24.22.5.1.1.m1.1.1" xref="S4.T4.24.22.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.24.22.5.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.24.22.5.1.1.m1.1.1.cmml" xref="S4.T4.24.22.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.24.22.5.1.1.m1.1c">\pm</annotation></semantics></math>.04</span>
</span>
</td>
</tr>
<tr id="S4.T4.28.34.8" class="ltx_tr">
<td id="S4.T4.28.34.8.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="S4.T4.28.34.8.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns<span id="S4.T4.28.34.8.1.1.1" class="ltx_text ltx_font_medium">: difficult to train due to mode collapse; high communication cost;</span></span></td>
</tr>
<tr id="S4.T4.28.35.9" class="ltx_tr">
<td id="S4.T4.28.35.9.1" class="ltx_td ltx_align_center ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="S4.T4.28.35.9.1.1" class="ltx_text ltx_font_italic">difficult to interpret the learned clusters; sensitive to distribution shift (see Section <a href="#S4.SS2" title="4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>)</span></td>
</tr>
<tr id="S4.T4.28.26" class="ltx_tr">
<th id="S4.T4.28.26.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="4">
<span id="S4.T4.28.26.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.26.5.1.1" class="ltx_p" style="width:62.6pt;"><span id="S4.T4.28.26.5.1.1.1" class="ltx_text">FedAvg + kNN-Per</span></span>
</span>
</th>
<td id="S4.T4.28.26.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.26.6.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.26.6.1.1" class="ltx_p" style="width:108.1pt;">Per-client acc</span>
</span>
</td>
<td id="S4.T4.25.23.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.25.23.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.25.23.1.1.1" class="ltx_p" style="width:54.1pt;">0.876<math id="S4.T4.25.23.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.25.23.1.1.1.m1.1a"><mo id="S4.T4.25.23.1.1.1.m1.1.1" xref="S4.T4.25.23.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.25.23.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.25.23.1.1.1.m1.1.1.cmml" xref="S4.T4.25.23.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.25.23.1.1.1.m1.1c">\pm</annotation></semantics></math>.06</span>
</span>
</td>
<td id="S4.T4.26.24.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.26.24.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.26.24.2.1.1" class="ltx_p" style="width:65.4pt;">0.275<math id="S4.T4.26.24.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.26.24.2.1.1.m1.1a"><mo id="S4.T4.26.24.2.1.1.m1.1.1" xref="S4.T4.26.24.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.26.24.2.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.26.24.2.1.1.m1.1.1.cmml" xref="S4.T4.26.24.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.26.24.2.1.1.m1.1c">\pm</annotation></semantics></math>.03</span>
</span>
</td>
<td id="S4.T4.27.25.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.27.25.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.27.25.3.1.1" class="ltx_p" style="width:54.1pt;">0.735<math id="S4.T4.27.25.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.27.25.3.1.1.m1.1a"><mo id="S4.T4.27.25.3.1.1.m1.1.1" xref="S4.T4.27.25.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.27.25.3.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.27.25.3.1.1.m1.1.1.cmml" xref="S4.T4.27.25.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.27.25.3.1.1.m1.1c">\pm</annotation></semantics></math>.13</span>
</span>
</td>
<td id="S4.T4.28.26.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.26.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.26.4.1.1" class="ltx_p" style="width:54.1pt;">0.162<math id="S4.T4.28.26.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.T4.28.26.4.1.1.m1.1a"><mo id="S4.T4.28.26.4.1.1.m1.1.1" xref="S4.T4.28.26.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.28.26.4.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.28.26.4.1.1.m1.1.1.cmml" xref="S4.T4.28.26.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.28.26.4.1.1.m1.1c">\pm</annotation></semantics></math>.05</span>
</span>
</td>
</tr>
<tr id="S4.T4.28.36.10" class="ltx_tr">
<td id="S4.T4.28.36.10.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.36.10.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.36.10.1.1.1" class="ltx_p" style="width:108.1pt;">% clients "hurt"</span>
</span>
</td>
<td id="S4.T4.28.36.10.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.36.10.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.36.10.2.1.1" class="ltx_p" style="width:54.1pt;">19.8%</span>
</span>
</td>
<td id="S4.T4.28.36.10.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.36.10.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.36.10.3.1.1" class="ltx_p" style="width:65.4pt;">23.6%</span>
</span>
</td>
<td id="S4.T4.28.36.10.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.36.10.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.36.10.4.1.1" class="ltx_p" style="width:54.1pt;">5.6%</span>
</span>
</td>
<td id="S4.T4.28.36.10.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S4.T4.28.36.10.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T4.28.36.10.5.1.1" class="ltx_p" style="width:54.1pt;">34.4%</span>
</span>
</td>
</tr>
<tr id="S4.T4.28.37.11" class="ltx_tr">
<td id="S4.T4.28.37.11.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="S4.T4.28.37.11.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns<span id="S4.T4.28.37.11.1.1.1" class="ltx_text ltx_font_medium">: difficult to tune hyperparameters; may hurt clients; sensitive</span></span></td>
</tr>
<tr id="S4.T4.28.38.12" class="ltx_tr">
<td id="S4.T4.28.38.12.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="S4.T4.28.38.12.1.1" class="ltx_text ltx_font_italic">to distribution shift; performance drops with fewer local examples (see Section <a href="#S4.SS3" title="4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>)</span></td>
</tr>
</tbody>
</table>
</figure>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F2.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.09262/assets/x2.png" id="S4.F2.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="346" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F2.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.09262/assets/x3.png" id="S4.F2.2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="346" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F2.3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.09262/assets/x4.png" id="S4.F2.3.g1" class="ltx_graphics ltx_img_landscape" width="461" height="346" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_4">
<figure id="S4.F2.4" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.09262/assets/x5.png" id="S4.F2.4.g1" class="ltx_graphics ltx_img_landscape" width="461" height="346" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.6.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S4.F2.7.2" class="ltx_text" style="font-size:90%;">Test clients’ per-client accuracy shown in box plots. Fine-tuning gives the best average per-client accuracy on EMNIST, StackOverflow, and Landmarks (explicit values are in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).</span></figcaption>
</figure>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.1" class="ltx_p"><span id="S4.p2.1.1" class="ltx_text ltx_font_bold">Training and evaluation process.</span> As mentioned in Section <a href="#S3.SS2" title="3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>, for each cross-device dataset, we split the total clients into the train, validation, and test clients. Besides, the validation clients and test clients’ local data is split into two sets: a personalization set and an evaluation set. The train clients are used to train a single model via FedAvg or multiple models via HypCluster. The trained model(s) are then evaluated on the validation clients <em id="S4.p2.1.2" class="ltx_emph ltx_font_italic">and</em> the test clients.</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p">For FedAvg + Fine-tuning, this evaluation is done as follows: each (validation and test) client first fine-tunes the FedAvg-trained model on the local personalization set, then evaluates the fine-tuned model on the local evaluation set.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p">For HypCluster, this evaluation is performed as follows: each client uses the local personalization set to find the model (among the multiple models learned by HypCluster) with the lowest loss, and then evaluates the selected model on the evaluation set.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p">For FedAvg+kNN-Per, each client first uses the FedAvg-trained model to extract the representations on the local personalization set, and use them to train a kNN model; after that, evaluates the personalized model (interpolated between the kNN model and FedAvg-trained model) on the evaluation set.</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.1" class="ltx_p">For local training, the evaluation process is same as FedAvg+Fine-tuning, except that each client fine-tunes a model from scratch instead of from a FedAvg-trained model.</p>
</div>
</li>
</ul>
<p id="S4.p2.2" class="ltx_p">We use the validation metrics (i.e., the metrics evaluated over the validation clients) to select the best hyperparameters (see Appendix <a href="#A3" title="Appendix C Hyperparameters and Implementation Details ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a>) and report the test metrics (i.e., metrics evaluated on the test clients) in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. We discuss additional details and results for each stateless FL method below.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>FedAvg + Fine-tuning (FT)</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">As we focus on personalization, it is crucial to see how the per-client accuracy changes with and without personalization. This is shown by the "Per-client acc before/after FT" metrics in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, where we list the mean <math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><mo id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><csymbol cd="latexml" id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">\pm</annotation></semantics></math> standard deviation of the test clients’ per-client accuracy before and after fine-tuning. Note that the standard deviation is across the clients’ local per-client accuracies, and is hence, an fairness metric <span id="S4.SS1.p1.1.1" class="ltx_ERROR undefined">\@footnotemark</span>. The mean and standard deviation metrics are further averaged over 5 runs<span id="footnote9" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span>See Appendix <a href="#A4" title="Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a> for the standard deviations across the 5 runs.</span></span></span>.
As shown in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, fine-tuning improves the average per-client accuracy on EMNIST, StackOverflow, and Landmarks (see also Figure <a href="#S4.F2" title="Figure 2 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), and reduces the standard deviation across the clients’ local model accuracies on EMNIST and Landmarks (i.e., improves <em id="S4.SS1.p1.1.2" class="ltx_emph ltx_font_italic">fairness</em><span id="footnote10" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">10</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">10</sup><span class="ltx_tag ltx_tag_note">10</span>There are many notions of fairness, e.g., group fairness <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>. In this paper we use a notion specific to federated learning (see, e.g., <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib59" title="" class="ltx_ref">59</a>]</cite>): all clients should have similar local model accuracies.</span></span></span>). We explored fine-tuning the entire model or only last layer and found that fine-tuning all layers perform better, as shown by the metric "FT all layers vs last layer" in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2206.09262/assets/x6.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="98" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S4.F3.3.2" class="ltx_text" style="font-size:90%;">Fine-tuning may hurt some clients. (a) Fine-tuning improves the average per-client accuracy. (b) Scatter plot of per-client accuracy delta (i.e., accuracy after fine-tuning – before fine-tuning). Each dot is a client. (c) Same scatter plot as (b) with the x-axis being the number of local examples used to fine-tune the model. (d) Fine-tune the same model on the same set of clients using smaller evaluation set.</span></figcaption>
</figure>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p"><span id="S4.SS1.p2.1.1" class="ltx_text ltx_font_bold">Observation 1: Fine-tuning can hurt clients.</span> The metric "% clients hurt after FT" in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> is the percentage of test clients whose local accuracy drops after fine-tuning. This phenomenon can be better visualized in Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>: while Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>(a) shows that fine-tuning increases the average per-client accuracy on the StackOverflow dataset, the scatter plot (each dot is a client) of the per-client accuracy deltas (defined as accuracy after fine-tuning minus that before fine-tuning) in Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>(b) shows that some clients drop accuracy after fine-tuning (i.e., fall below the red dashed line at zero). We identify two reasons:</p>
<ol id="S4.I2" class="ltx_enumerate">
<li id="S4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">a.</span> 
<div id="S4.I2.i1.p1" class="ltx_para">
<p id="S4.I2.i1.p1.1" class="ltx_p">The per-client accuracy is noisy for clients with small local datasets. This effect occurs in two distinct ways: 1) Clients use a small number of examples to fine-tune the model<span id="footnote11" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">11</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">11</sup><span class="ltx_tag ltx_tag_note">11</span>In practice, it may be good to only apply fine-tuning to clients when they have a large amount of local data.</span></span></span>. In Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>(c), we show the same scatter plot (each dot is a client) as in Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>(b) with the x-axis being the number of examples used to fine-tune the model. The clients hurt by fine-tuning tend to have a small local personalization set<span id="footnote12" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">12</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">12</sup><span class="ltx_tag ltx_tag_note">12</span>See Section <a href="#S3.SS2" title="3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>, each validation and test client has two sets: a personalization set and an evaluation set.</span></span></span>. 2) Clients use a small number of examples to evaluate the fine-tuned model. In Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>(d), we fine-tune the same model on the same set of clients. The only difference is the size of the evaluation set<span id="S4.I2.i1.p1.1.1" class="ltx_ERROR undefined">\@footnotemark</span>. The evaluation metrics are noisier (indicated by a larger range in Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>(d)) for smaller evaluation sets.</p>
</div>
</li>
<li id="S4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">b.</span> 
<div id="S4.I2.i2.p1" class="ltx_para">
<p id="S4.I2.i2.p1.1" class="ltx_p">Heterogeneity among clients and the fact that the fine-tuning hyperparameters are chosen globally. Since each client’s local dataset is typically small, instead of choosing the fine-tuning hyperparameters (i.e., the fine-tuning learning rate, the number of fine-tuning epochs, and which layer to fine-tune) in a per-client manner<span id="footnote13" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">13</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">13</sup><span class="ltx_tag ltx_tag_note">13</span>We actually tried this approach (i.e., each client chooses the fine-tuning hyperparameters based on its local data) on the StackOverflow dataset, but found that it performed worse than tuning the hyperparameters globally.</span></span></span>, we tune them globally and apply the same hyperparameters to all test clients. The global fine-tuning hyperparameters work for most clients, but can adversely affect others. This also illustrates why hyperparameter tuning is difficult (see below).</p>
</div>
</li>
</ol>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p"><span id="S4.SS1.p3.1.1" class="ltx_text ltx_font_bold">Observation 2: Hyperparameter tuning can be difficult.</span> At least three hyperparameters are specific to fine-tuning: which layers to fine-tune, the fine-tuning learning rate<span id="footnote14" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">14</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">14</sup><span class="ltx_tag ltx_tag_note">14</span>We focus on SGD when fine-tuning the model on each client, as adaptive optimizers seem to perform similarly as SGD.</span></span></span>, and the number of epochs to fine-tune the model. As pointed out in Observation 1(b), due the small local dataset on each client, instead of choosing the best fine-tuning hyperparameters in a per-client manner, we typically tune them globally and apply the same hyperparameters to all the test clients<span id="S4.SS1.p3.1.2" class="ltx_ERROR undefined">\@footnotemark</span>. Choosing a good set of fine-tuning hyperparameters can be particularly difficult due to the following reasons:</p>
<ol id="S4.I3" class="ltx_enumerate">
<li id="S4.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">a.</span> 
<div id="S4.I3.i1.p1" class="ltx_para">
<p id="S4.I3.i1.p1.1" class="ltx_p">Different metrics may favor different hyperparameters<span id="footnote15" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">15</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">15</sup><span class="ltx_tag ltx_tag_note">15</span>The results shown in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> is based on tuning hyperparameters by the average per-client accuracy.</span></span></span>. For example, if we look at Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(a), we may want to choose 0.1 as the fine-tuning learning rate because it gives higher average per-client accuracy; however, if we look at Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(b), we may want to choose 0.25 because fewer clients drop their accuracies after fine-tuning (i.e., per-client acc delta &lt; 0). In Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(c), we plot the two metrics across different fine-tuning learning rates: the "average per-client accuracy"metric prefers a moderately large learning rate while the "clients hurt" metric prefers a small learning rate.</p>
</div>
</li>
<li id="S4.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">b.</span> 
<div id="S4.I3.i2.p1" class="ltx_para">
<p id="S4.I3.i2.p1.1" class="ltx_p">Since the per-client accuracies are noisy, we need to be careful when determining whether the difference between two sets of hyperparameters is statistically significant.</p>
</div>
</li>
<li id="S4.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">c.</span> 
<div id="S4.I3.i3.p1" class="ltx_para">
<p id="S4.I3.i3.p1.1" class="ltx_p">Extra hyperparameters add another layer of complexity. For example, it may be helpful to tune FedAvg together with fine-tuning so that the model produced by FedAvg is a good initial model for fine-tuning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite>.
Another example of extra hyperparameters is that one may want to learn a threshold<span id="S4.I3.i3.p1.1.1" class="ltx_ERROR undefined">\@footnotemark</span> such that only clients whose local dataset size is larger than this threshold can perform fine-tuning (see also the remark on "acceptance criteria and robust personalization" after Observation 4).</p>
</div>
</li>
</ol>
</div>
<figure id="S4.F4" class="ltx_figure"><img src="/html/2206.09262/assets/x7.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="131" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.2.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.3.2" class="ltx_text" style="font-size:90%;">Choosing a good set of fine-tuning hyperparameters is difficult, as different metrics may be improved by different hyperparameters. (a) FT learning rate 0.1 gives higher average per-client accuracies; (b) FT learning rate 0.25 hurts fewer clients; (c) The "avg per-client acc" metric may prefer a moderately large FT learning rate, while the "clients hurt" metric prefers a small FT learning rate.</span></figcaption>
</figure>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p"><span id="S4.SS1.p4.1.1" class="ltx_text ltx_font_bold">Observation 3: Sensitivity to distribution shift.</span> Fine-tuning is able to quickly adapt a model to a client’s local data, but the fine-tuned model may perform poorly if a client’s future data distribution differs from the existing data (a.k.a. catastrophic forgetting <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite>). To illustrate this, we evaluate each test client’s personalized model over the in-distribution (ID) test set (i.e., the client’s local evaluation set<span id="S4.SS1.p4.1.2" class="ltx_ERROR undefined">\@footnotemark</span>) and an out-of-distribution (OOD) test set. This OOD test set is formed by randomly sampling local examples from the entire test clients. The averaged ID and OOD test accuracies are shown in Figure <a href="#S4.F5" title="Figure 5 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. We plot the results for different fine-tuning epochs. Larger fine-tuning epoch gives higher ID accuracy but lower OOD accuracy. This trade-off indicates an extra maintenance cost of personalized algorithms, i.e., decide when and how to continuously personalize the model when clients have new data.</p>
</div>
<figure id="S4.F5" class="ltx_figure"><img src="/html/2206.09262/assets/x8.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="131" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.4.2.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.2.1" class="ltx_text" style="font-size:90%;">Trade-off between in-distribution (ID) and out-of-distribution (OOD) accuracy for different algorithms. We plot the results for fine-tuning epochs <math id="S4.F5.2.1.m1.5" class="ltx_Math" alttext="1,3,5,10,15" display="inline"><semantics id="S4.F5.2.1.m1.5b"><mrow id="S4.F5.2.1.m1.5.6.2" xref="S4.F5.2.1.m1.5.6.1.cmml"><mn id="S4.F5.2.1.m1.1.1" xref="S4.F5.2.1.m1.1.1.cmml">1</mn><mo id="S4.F5.2.1.m1.5.6.2.1" xref="S4.F5.2.1.m1.5.6.1.cmml">,</mo><mn id="S4.F5.2.1.m1.2.2" xref="S4.F5.2.1.m1.2.2.cmml">3</mn><mo id="S4.F5.2.1.m1.5.6.2.2" xref="S4.F5.2.1.m1.5.6.1.cmml">,</mo><mn id="S4.F5.2.1.m1.3.3" xref="S4.F5.2.1.m1.3.3.cmml">5</mn><mo id="S4.F5.2.1.m1.5.6.2.3" xref="S4.F5.2.1.m1.5.6.1.cmml">,</mo><mn id="S4.F5.2.1.m1.4.4" xref="S4.F5.2.1.m1.4.4.cmml">10</mn><mo id="S4.F5.2.1.m1.5.6.2.4" xref="S4.F5.2.1.m1.5.6.1.cmml">,</mo><mn id="S4.F5.2.1.m1.5.5" xref="S4.F5.2.1.m1.5.5.cmml">15</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.F5.2.1.m1.5c"><list id="S4.F5.2.1.m1.5.6.1.cmml" xref="S4.F5.2.1.m1.5.6.2"><cn type="integer" id="S4.F5.2.1.m1.1.1.cmml" xref="S4.F5.2.1.m1.1.1">1</cn><cn type="integer" id="S4.F5.2.1.m1.2.2.cmml" xref="S4.F5.2.1.m1.2.2">3</cn><cn type="integer" id="S4.F5.2.1.m1.3.3.cmml" xref="S4.F5.2.1.m1.3.3">5</cn><cn type="integer" id="S4.F5.2.1.m1.4.4.cmml" xref="S4.F5.2.1.m1.4.4">10</cn><cn type="integer" id="S4.F5.2.1.m1.5.5.cmml" xref="S4.F5.2.1.m1.5.5">15</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.F5.2.1.m1.5d">1,3,5,10,15</annotation></semantics></math>. Increasing the fine-tuning epochs gives higher ID accuracy but lower OOD accuracy.</span></figcaption>
</figure>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.1" class="ltx_p"><span id="S4.SS1.p5.1.1" class="ltx_text ltx_font_bold">Observation 4: Performance drops when clients have smaller personalization set<span id="S4.SS1.p5.1.1.1" class="ltx_ERROR undefined">\@footnotemark</span>.</span> This is already indicated previously in Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>(c), which shows that clients with smaller personalization set (i.e., fewer examples used to fine-tuned the model) tend to be hurt by fine-tuning. In Figure <a href="#S4.F7" title="Figure 7 ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>(c), we reduce the number of examples in each test client’s persoanlization set to 50% and 25% of its original size, and report the per-client accuracy averaged over the test clients. We see that the performance of fine-tuning and kNN-Per drops quickly when we decrease the number of local examples to personalize the model. On the other hand, HypCluster is quite robust to this change, which makes sense because HypCluster only needs the personalization set for model evaluation and use the evaluation metrics to choose the best model, while fine-tuning and kNN-Per needs the local examples to train a new model.</p>
</div>
<div id="S4.SS1.p6" class="ltx_para">
<p id="S4.SS1.p6.1" class="ltx_p"><span id="S4.SS1.p6.1.1" class="ltx_text ltx_font_bold">Remark: Acceptance criteria and robust personalization.</span> Our experiments assume that every client always performs fine-tuning and uses the fine-tuned model for inference. In practice, one can design appropriate criteria so that a client only accepts the fine-tuned model under certain conditions. For example, a client only performs fine-tuning when its local dataset size is large enough as discussed in Observation 4; or a client only accepts the fine-tuned model when its evaluation metric is better than that of the baseline model by some margin. See Section 2.2 of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib67" title="" class="ltx_ref">67</a>]</cite> for an example of acceptance criteria developed for a real-world on-device personalization application. Designing a good set of acceptance criteria can mitigate the negative effects from Observation 1–4 above, and potentially prevent clients from accepting fine-tuned models that do not generalize well. Mitigating catastrophic forgetting <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib57" title="" class="ltx_ref">57</a>]</cite> during model adaptation is an active research area, see, e.g., some recent work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib42" title="" class="ltx_ref">42</a>, <a href="#bib.bib78" title="" class="ltx_ref">78</a>, <a href="#bib.bib77" title="" class="ltx_ref">77</a>, <a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>, which would be worth exploring in the personalized FL setting.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>HypCluster / IFCA</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.4" class="ltx_p">We now discuss results of HypCluster/IFCA algorithm. As shown in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, the average per-client accuracy of HypCluster is slightly better than that of FedAvg, but is much worse than that of FedAvg+Fine-tuning on the first three datasets. We tuned<span id="footnote16" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">16</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">16</sup><span class="ltx_tag ltx_tag_note">16</span>Except for TedMulti-EnEs which we focus on 2 clusters since it contains two languages: English/Spanish.</span></span></span> the number of clusters <math id="S4.SS2.p1.1.m1.3" class="ltx_Math" alttext="k=\{2,3,4\}" display="inline"><semantics id="S4.SS2.p1.1.m1.3a"><mrow id="S4.SS2.p1.1.m1.3.4" xref="S4.SS2.p1.1.m1.3.4.cmml"><mi id="S4.SS2.p1.1.m1.3.4.2" xref="S4.SS2.p1.1.m1.3.4.2.cmml">k</mi><mo id="S4.SS2.p1.1.m1.3.4.1" xref="S4.SS2.p1.1.m1.3.4.1.cmml">=</mo><mrow id="S4.SS2.p1.1.m1.3.4.3.2" xref="S4.SS2.p1.1.m1.3.4.3.1.cmml"><mo stretchy="false" id="S4.SS2.p1.1.m1.3.4.3.2.1" xref="S4.SS2.p1.1.m1.3.4.3.1.cmml">{</mo><mn id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">2</mn><mo id="S4.SS2.p1.1.m1.3.4.3.2.2" xref="S4.SS2.p1.1.m1.3.4.3.1.cmml">,</mo><mn id="S4.SS2.p1.1.m1.2.2" xref="S4.SS2.p1.1.m1.2.2.cmml">3</mn><mo id="S4.SS2.p1.1.m1.3.4.3.2.3" xref="S4.SS2.p1.1.m1.3.4.3.1.cmml">,</mo><mn id="S4.SS2.p1.1.m1.3.3" xref="S4.SS2.p1.1.m1.3.3.cmml">4</mn><mo stretchy="false" id="S4.SS2.p1.1.m1.3.4.3.2.4" xref="S4.SS2.p1.1.m1.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.3b"><apply id="S4.SS2.p1.1.m1.3.4.cmml" xref="S4.SS2.p1.1.m1.3.4"><eq id="S4.SS2.p1.1.m1.3.4.1.cmml" xref="S4.SS2.p1.1.m1.3.4.1"></eq><ci id="S4.SS2.p1.1.m1.3.4.2.cmml" xref="S4.SS2.p1.1.m1.3.4.2">𝑘</ci><set id="S4.SS2.p1.1.m1.3.4.3.1.cmml" xref="S4.SS2.p1.1.m1.3.4.3.2"><cn type="integer" id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">2</cn><cn type="integer" id="S4.SS2.p1.1.m1.2.2.cmml" xref="S4.SS2.p1.1.m1.2.2">3</cn><cn type="integer" id="S4.SS2.p1.1.m1.3.3.cmml" xref="S4.SS2.p1.1.m1.3.3">4</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.3c">k=\{2,3,4\}</annotation></semantics></math>; however, due to the mode collapse issue (described below), it is difficult to train HypCluster with <math id="S4.SS2.p1.2.m2.1" class="ltx_Math" alttext="k&gt;2" display="inline"><semantics id="S4.SS2.p1.2.m2.1a"><mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">k</mi><mo id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml">&gt;</mo><mn id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><gt id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1"></gt><ci id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">𝑘</ci><cn type="integer" id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">k&gt;2</annotation></semantics></math>. A natural baseline to compare with HypCluster is to run FedAvg <math id="S4.SS2.p1.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p1.3.m3.1a"><mi id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><ci id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">k</annotation></semantics></math> times, and ensemble<span id="footnote17" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">17</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">17</sup><span class="ltx_tag ltx_tag_note">17</span>There are many ways to combine multiple models, e.g., average the model outputs. Here we use the same procedure as in HypCluster, where each client selects the model with the lowest local loss, and use the selected model in inference.</span></span></span> the <math id="S4.SS2.p1.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p1.4.m4.1a"><mi id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><ci id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">k</annotation></semantics></math> models. We also include this baseline in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, and discuss it in Observation 3 below.</p>
</div>
<figure id="S4.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F6.1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.09262/assets/x9.png" id="S4.F6.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="131" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F6.2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2206.09262/assets/x10.png" id="S4.F6.2.g1" class="ltx_graphics ltx_img_landscape" width="461" height="291" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F6.4.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="S4.F6.5.2" class="ltx_text" style="font-size:90%;">(a) Warmstart helps mitigate the mode collapse issue. (b–c) Plot of the average per-client accuracy as a function of communication cost for EMNIST and TedMulti. (d) Number of English and Spanish clients in the two clusters learned by HypCluster on TedMulti dataset.</span></figcaption>
</figure>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.3" class="ltx_p"><span id="S4.SS2.p2.3.1" class="ltx_text ltx_font_bold">Observation 1: “Mode collapse” can hurt training.</span> In Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(a), we monitor the percentage of clients that choose the first cluster when running HypCluster with random initialization on EMNIST. After a few rounds, all clients will always choose the same cluster. The same “mode collapse” issue happens to all the other datasets. One way to mitigate this issue (as shown in Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(a)) is to warm start HypCluster with models trained by FedAvg. In our experiments, we train a few rounds of FedAvg for <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">k</annotation></semantics></math> times, and use the <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">k</annotation></semantics></math> models to warm start HypCluster (see Appendix <a href="#A3" title="Appendix C Hyperparameters and Implementation Details ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> for the hyperparameters.). However, mode collapse can still happen even when warm start is used, especially for <math id="S4.SS2.p2.3.m3.1" class="ltx_Math" alttext="k&gt;2" display="inline"><semantics id="S4.SS2.p2.3.m3.1a"><mrow id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml"><mi id="S4.SS2.p2.3.m3.1.1.2" xref="S4.SS2.p2.3.m3.1.1.2.cmml">k</mi><mo id="S4.SS2.p2.3.m3.1.1.1" xref="S4.SS2.p2.3.m3.1.1.1.cmml">&gt;</mo><mn id="S4.SS2.p2.3.m3.1.1.3" xref="S4.SS2.p2.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><apply id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1"><gt id="S4.SS2.p2.3.m3.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1.1"></gt><ci id="S4.SS2.p2.3.m3.1.1.2.cmml" xref="S4.SS2.p2.3.m3.1.1.2">𝑘</ci><cn type="integer" id="S4.SS2.p2.3.m3.1.1.3.cmml" xref="S4.SS2.p2.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">k&gt;2</annotation></semantics></math>. How to effectively train HypCluster without mode collapse in real-world cross-device settings remains an open problem.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.3" class="ltx_p"><span id="S4.SS2.p3.3.1" class="ltx_text ltx_font_bold">Observation 2: High communication cost per round.</span> A limitation of HypCluster is that in each round, the server needs to broadcast <math id="S4.SS2.p3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p3.1.m1.1a"><mi id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><ci id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">k</annotation></semantics></math> models (where <math id="S4.SS2.p3.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p3.2.m2.1a"><mi id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><ci id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">k</annotation></semantics></math> is the number of learned clusters) to the clients, and hence, incurs <math id="S4.SS2.p3.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p3.3.m3.1a"><mi id="S4.SS2.p3.3.m3.1.1" xref="S4.SS2.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.3.m3.1b"><ci id="S4.SS2.p3.3.m3.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.3.m3.1c">k</annotation></semantics></math> times the communication cost of FedAvg<span id="footnote18" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">18</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">18</sup><span class="ltx_tag ltx_tag_note">18</span>In real-world cross-device FL settings, reducing the communication cost between the server and mobile devices can help reduce the latency due to stragglers (see Section 5.1 in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite> for more discussions).</span></span></span>. In Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(b–c), we plot the average per-client accuracies with respect to the total number of parameters communicated (including those used for training the warm start models) for EMNIST and TedMulti. While TedMulti eventually achieves a slightly better average accuracy than FedAvg (Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>), it is arguably worse than FedAvg from a accuracy-communication ratio perspective. While one can reduce communication costs via weight-sharing <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>, we found that this increased the likelihood of mode collapse<span id="footnote19" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">19</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">19</sup><span class="ltx_tag ltx_tag_note">19</span>One possible reason is that during training, the shared layers may produce features specifically tied to one cluster. To avoid this correlation, one may want to learn invariant features <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite> that are good for all clusters.</span></span></span>. In future work it would be interesting to explore connections between mode collapse and weight sharing, and consider how to best train HypCluster in constrained networks.</p>
</div>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.7" class="ltx_p"><span id="S4.SS2.p4.7.1" class="ltx_text ltx_font_bold">Observation 3: Difficulty in interpreting the learned clusters.</span> As mentioned in the beginning of Section <a href="#S4.SS2" title="4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>, a natural baseline to compare with HypCluster is to run FedAvg <math id="S4.SS2.p4.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p4.1.m1.1a"><mi id="S4.SS2.p4.1.m1.1.1" xref="S4.SS2.p4.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.1b"><ci id="S4.SS2.p4.1.m1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.1c">k</annotation></semantics></math> times, and ensemble<span id="S4.SS2.p4.7.2" class="ltx_ERROR undefined">\@footnotemark</span> the <math id="S4.SS2.p4.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p4.2.m2.1a"><mi id="S4.SS2.p4.2.m2.1.1" xref="S4.SS2.p4.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.2.m2.1b"><ci id="S4.SS2.p4.2.m2.1.1.cmml" xref="S4.SS2.p4.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.2.m2.1c">k</annotation></semantics></math> models. Specifically, we train HypCluster with <math id="S4.SS2.p4.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p4.3.m3.1a"><mi id="S4.SS2.p4.3.m3.1.1" xref="S4.SS2.p4.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.3.m3.1b"><ci id="S4.SS2.p4.3.m3.1.1.cmml" xref="S4.SS2.p4.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.3.m3.1c">k</annotation></semantics></math> clusters for <math id="S4.SS2.p4.4.m4.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S4.SS2.p4.4.m4.1a"><mi id="S4.SS2.p4.4.m4.1.1" xref="S4.SS2.p4.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.4.m4.1b"><ci id="S4.SS2.p4.4.m4.1.1.cmml" xref="S4.SS2.p4.4.m4.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.4.m4.1c">y</annotation></semantics></math> rounds, and compare it with training FedAvg <math id="S4.SS2.p4.5.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p4.5.m5.1a"><mi id="S4.SS2.p4.5.m5.1.1" xref="S4.SS2.p4.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.5.m5.1b"><ci id="S4.SS2.p4.5.m5.1.1.cmml" xref="S4.SS2.p4.5.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.5.m5.1c">k</annotation></semantics></math> times and each for <math id="S4.SS2.p4.6.m6.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S4.SS2.p4.6.m6.1a"><mi id="S4.SS2.p4.6.m6.1.1" xref="S4.SS2.p4.6.m6.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.6.m6.1b"><ci id="S4.SS2.p4.6.m6.1.1.cmml" xref="S4.SS2.p4.6.m6.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.6.m6.1c">y</annotation></semantics></math> rounds (note that both have the same communication cost). As shown in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, the average per-client accuracy of ensembling <math id="S4.SS2.p4.7.m7.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS2.p4.7.m7.1a"><mi id="S4.SS2.p4.7.m7.1.1" xref="S4.SS2.p4.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.7.m7.1b"><ci id="S4.SS2.p4.7.m7.1.1.cmml" xref="S4.SS2.p4.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.7.m7.1c">k</annotation></semantics></math> FedAvg models is similar to that of HypCluster for 3/4 datasets, so a natural question is: does HypCluster actually learn a meaningful cluster structure of the underlying data? While it is generally hard to answer this question on an arbitrary dataset, we do know that TedMulti-EnEs has two natural clusters of clients, i.e., English and Spanish users. Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(d) lists the number of English and Spanish clients (total 117 test clients) in the two learned clusters. HypCluster indeed uncovers the two underlying clusters on TedMulti-EnEs.</p>
</div>
<div id="S4.SS2.p5" class="ltx_para">
<p id="S4.SS2.p5.1" class="ltx_p"><span id="S4.SS2.p5.1.1" class="ltx_text ltx_font_bold">Observation 4: Sensitive to distribution shift.</span> We follow the same ID and OOD evaluation procedure in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>. As shown in Figure <a href="#S4.F5" title="Figure 5 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, HypCluster seems to give a worse ID-OOD tradeoff (i.e., achieves a lower OOD accuracy at the same ID accuracy) compared to the other personalization algorithms.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>FedAvg + kNN-Per</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">We now discuss the results of kNN-Per, which are shown in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> as well as in Figure <a href="#S4.F2" title="Figure 2 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure id="S4.F7" class="ltx_figure"><img src="/html/2206.09262/assets/x11.png" id="S4.F7.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="131" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F7.2.1.1" class="ltx_text" style="font-size:90%;">Figure 7</span>: </span><span id="S4.F7.3.2" class="ltx_text" style="font-size:90%;">(a–b) Different metrics may be improved by different hyperpamater values: the "average per-client accuracy" metric usually prefers a moderately large interpolation coefficient while the "clients hurt" metric prefers a small coefficient. (c) The personalization accuracy drops for fine-tuning and kNN-Per when each client has fewer examples to personalize the model. HypCluster is robust to this change because it only needs the personalization set to choose the best model instead of training a new model.</span></figcaption>
</figure>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p"><span id="S4.SS3.p2.1.1" class="ltx_text ltx_font_bold">Observation 1: Clients may be hurt.</span> In Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, besides the per-client accuracy, we also list the percentage of clients "hurt" after personalization (i.e., test clients whose accuracy on the local evaluation set<span id="S4.SS3.p2.1.2" class="ltx_ERROR undefined">\@footnotemark</span> after kNN-Per is lower than that of FedAvg). As shown in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, compared to fine-tuning, kNN-Per has a lower "per-client acc" but a higher "% clients hurt" for 3/4 datasets. The two reasons why clients may hurt after fine-tuning given in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a> also applies to kNN-Per: 1) The per-client accuracy metric is noisy due to local data scarsity; 2) The hyperparameter is chosen globally but each client has heterogeneous local distribution. Similar to fine-tuning, so far we assume all test clients will perform kNN-Per. Designing a good set of conditions as to when a client should perform kNN-Per may help reduce the fraction of client hurt (see "Remark: Acceptance criteria and robust personalization" in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>).</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.1" class="ltx_p"><span id="S4.SS3.p3.1.1" class="ltx_text ltx_font_bold">Observation 2: Difficulty in hyperparameter tuning.</span> Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>, we set <math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><mi id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><ci id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">k</annotation></semantics></math> (the number of nearest neighbors) to 10 for all kNN-Per experiments<span id="footnote20" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">20</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">20</sup><span class="ltx_tag ltx_tag_note">20</span><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite> shows that the performance of kNN-Per is pretty robust to the choice of <math id="footnote20.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="footnote20.m1.1b"><mi id="footnote20.m1.1.1" xref="footnote20.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="footnote20.m1.1c"><ci id="footnote20.m1.1.1.cmml" xref="footnote20.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="footnote20.m1.1d">k</annotation></semantics></math>.</span></span></span>. Similar to fine-tuning<span id="S4.SS3.p3.1.2" class="ltx_ERROR undefined">\@footnotemark</span>, we tune the interpolation coefficient globally, i.e., all clients use the same coefficient<span id="footnote21" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">21</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">21</sup><span class="ltx_tag ltx_tag_note">21</span>We also tried tuning a per-client specific coefficient but found this performed worse than global tuning due to limited amount of local data in the cross-device setting.</span></span></span>. The interpolation coefficient is a scalar in [0,1] (see Eq.(7) of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>), where 0 means that no personalization and 1 means that using the local kNN model for inference. Figure <a href="#S4.F7" title="Figure 7 ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>(a–b) plot the two metrics "average per-client accuracy" and "% client hurt" for different interpolation coefficients, which shows that the two metrics may prefer different hyperparameter values. Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a> points out two other reasons why hyperparameter tuning is difficult for fine-tuning. Both of them apply to kNN-Per as well, including the noisy local metrics and potentially extra hyperparameters.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p"><span id="S4.SS3.p4.1.1" class="ltx_text ltx_font_bold">Observation 3: Sensitive to distribution shift.</span> We follow the same ID and OOD evaluation procedure in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>. As shown in Figure <a href="#S4.F5" title="Figure 5 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, kNN-Per seems to give a similar or better ID-OOD tradeoff (i.e., achieves a higher OOD accuracy at the same ID accuracy) compared to the other personalization algorithms. Nevertheless, it is still worth exploring methods that improve the OOD robustness during personalization, as discussed in the "Remark: Acceptance criteria and robust personalization" in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>.</p>
</div>
<div id="S4.SS3.p5" class="ltx_para">
<p id="S4.SS3.p5.1" class="ltx_p"><span id="S4.SS3.p5.1.1" class="ltx_text ltx_font_bold">Observation 4: Performance drops when clients have smaller personalization set<span id="S4.SS3.p5.1.1.1" class="ltx_ERROR undefined">\@footnotemark</span>.</span> This has been discussed previously in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a> and illustrated in Figure <a href="#S4.F7" title="Figure 7 ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>(c).</p>
</div>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Cross-Silo Experiments</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">We now consider baselines for the cross-silo personalization methods and datasets in
<span id="S5.p1.1.1" class="ltx_text ltx_font_typewriter">Motley</span>.</p>
</div>
<figure id="S5.F8" class="ltx_figure ltx_align_floatright"><img src="/html/2206.09262/assets/x12.png" id="S5.F8.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="380" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F8.2.1.1" class="ltx_text" style="font-size:90%;">Figure 8</span>: </span><span id="S5.F8.3.2" class="ltx_text" style="font-size:90%;">Tuning the fine-tuning hyperpameters in a per-client vs global manner.</span></figcaption>
</figure>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p"><span id="S5.p2.1.1" class="ltx_text ltx_font_bold">Training and evaluation setup.</span>
As mentioned in Section <a href="#S3.SS2" title="3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>, in the cross-silo setting, the same silos appear in both training and inference; to evaluate this setting, we split each client’s local examples into three sets: train/validation/test. We train on the training sets across all clients, tune hyperparameters on the validation sets (see Appendix <a href="#A3.SS3" title="C.3 Cross-silo ‣ Appendix C Hyperparameters and Implementation Details ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.3</span></a>), and report metrics on the test sets. Unlike the cross-device setting, in the cross-silo setting, each client typically has sufficient compute power and a large number of local examples. This allows us to tune fine-tuning hyperparameters in a per-client manner (e.g., every client chooses their own hyperparameters based on their validation metric), as opposed to tuning globally<span id="S5.p2.1.2" class="ltx_ERROR undefined">\@footnotemark</span> in the cross-device setting mentioned in Section <a href="#S4" title="4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<figure id="S5.T5" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S5.T5.30.2.1" class="ltx_text" style="font-size:90%;">Table 5</span>: </span><span id="S5.T5.2.1" class="ltx_text" style="font-size:90%;">Summary of experimental results on the cross-silo datasets. Similar to Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we report the per-client test metric (mean <math id="S5.T5.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.2.1.m1.1b"><mo id="S5.T5.2.1.m1.1.1" xref="S5.T5.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.2.1.m1.1c"><csymbol cd="latexml" id="S5.T5.2.1.m1.1.1.cmml" xref="S5.T5.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.2.1.m1.1d">\pm</annotation></semantics></math> standard deviation) <em id="S5.T5.2.1.1" class="ltx_emph ltx_font_italic">across the clients</em>, so the standard deviation can be viewed as a fairness metric <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite>. Each metric value is averaged over 5 independent runs with different random seeds (see Table <a href="#A4.T7" title="Table 7 ‣ Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> for standard deviations over the 5 runs). Vehicle uses accuracy as the metric while ADNI and School use mean squared error (MSE). Appendix <a href="#A3" title="Appendix C Hyperparameters and Implementation Details ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> has the tuned hyperparameters.
</span></figcaption>
<table id="S5.T5.27" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T5.27.26.1" class="ltx_tr">
<th id="S5.T5.27.26.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.26.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.26.1.1.1.1" class="ltx_p" style="width:65.4pt;"><span id="S5.T5.27.26.1.1.1.1.1" class="ltx_text ltx_font_bold">Algorithm</span></span>
</span>
</th>
<td id="S5.T5.27.26.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.26.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.26.1.2.1.1" class="ltx_p" style="width:136.6pt;"><span id="S5.T5.27.26.1.2.1.1.1" class="ltx_text ltx_font_bold">Metrics</span></span>
</span>
</td>
<td id="S5.T5.27.26.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.26.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.26.1.3.1.1" class="ltx_p" style="width:68.3pt;"><span id="S5.T5.27.26.1.3.1.1.1" class="ltx_text ltx_font_bold">Vehicle</span> (<span id="S5.T5.27.26.1.3.1.1.2" class="ltx_text ltx_font_bold" style="color:#009900;">acc</span>)</span>
</span>
</td>
<td id="S5.T5.27.26.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.26.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.26.1.4.1.1" class="ltx_p" style="width:68.3pt;"><span id="S5.T5.27.26.1.4.1.1.1" class="ltx_text ltx_font_bold">School</span> (<span id="S5.T5.27.26.1.4.1.1.2" class="ltx_text ltx_font_bold" style="color:#B80000;">mse</span>)</span>
</span>
</td>
<td id="S5.T5.27.26.1.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.26.1.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.26.1.5.1.1" class="ltx_p" style="width:68.3pt;"><span id="S5.T5.27.26.1.5.1.1.1" class="ltx_text ltx_font_bold">ADNI</span> (<span id="S5.T5.27.26.1.5.1.1.2" class="ltx_text ltx_font_bold" style="color:#B80000;">mse</span>)</span>
</span>
</td>
</tr>
<tr id="S5.T5.5.3" class="ltx_tr">
<th id="S5.T5.5.3.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.5.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.5.3.4.1.1" class="ltx_p" style="width:65.4pt;">Local training</span>
</span>
</th>
<td id="S5.T5.5.3.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.5.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.5.3.5.1.1" class="ltx_p" style="width:136.6pt;">Per-client metric</span>
</span>
</td>
<td id="S5.T5.3.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.3.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.3.1.1.1.1" class="ltx_p" style="width:68.3pt;">0.9367<math id="S5.T5.3.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.3.1.1.1.1.m1.1a"><mo id="S5.T5.3.1.1.1.1.m1.1.1" xref="S5.T5.3.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.3.1.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.3.1.1.1.1.m1.1.1.cmml" xref="S5.T5.3.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.3.1.1.1.1.m1.1c">\pm</annotation></semantics></math>.0248</span>
</span>
</td>
<td id="S5.T5.4.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.4.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.4.2.2.1.1" class="ltx_p" style="width:68.3pt;">0.0121<math id="S5.T5.4.2.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.4.2.2.1.1.m1.1a"><mo id="S5.T5.4.2.2.1.1.m1.1.1" xref="S5.T5.4.2.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.4.2.2.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.4.2.2.1.1.m1.1.1.cmml" xref="S5.T5.4.2.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.4.2.2.1.1.m1.1c">\pm</annotation></semantics></math>.0059</span>
</span>
</td>
<td id="S5.T5.5.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.5.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.5.3.3.1.1" class="ltx_p" style="width:68.3pt;">0.0177<math id="S5.T5.5.3.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.5.3.3.1.1.m1.1a"><mo id="S5.T5.5.3.3.1.1.m1.1.1" xref="S5.T5.5.3.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.5.3.3.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.5.3.3.1.1.m1.1.1.cmml" xref="S5.T5.5.3.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.5.3.3.1.1.m1.1c">\pm</annotation></semantics></math>.0106</span>
</span>
</td>
</tr>
<tr id="S5.T5.8.6" class="ltx_tr">
<th id="S5.T5.8.6.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="6">
<span id="S5.T5.8.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.8.6.4.1.1" class="ltx_p" style="width:65.4pt;"><span id="S5.T5.8.6.4.1.1.1" class="ltx_text">FedAvg + Fine-tuning (FT)</span></span>
</span>
</th>
<td id="S5.T5.8.6.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.8.6.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.8.6.5.1.1" class="ltx_p" style="width:136.6pt;">Per-client metric before FT</span>
</span>
</td>
<td id="S5.T5.6.4.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.6.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.6.4.1.1.1" class="ltx_p" style="width:68.3pt;">0.8859<math id="S5.T5.6.4.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.6.4.1.1.1.m1.1a"><mo id="S5.T5.6.4.1.1.1.m1.1.1" xref="S5.T5.6.4.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.6.4.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.6.4.1.1.1.m1.1.1.cmml" xref="S5.T5.6.4.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.6.4.1.1.1.m1.1c">\pm</annotation></semantics></math>.0833</span>
</span>
</td>
<td id="S5.T5.7.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.7.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.7.5.2.1.1" class="ltx_p" style="width:68.3pt;">0.0130<math id="S5.T5.7.5.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.7.5.2.1.1.m1.1a"><mo id="S5.T5.7.5.2.1.1.m1.1.1" xref="S5.T5.7.5.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.7.5.2.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.7.5.2.1.1.m1.1.1.cmml" xref="S5.T5.7.5.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.7.5.2.1.1.m1.1c">\pm</annotation></semantics></math>.0068</span>
</span>
</td>
<td id="S5.T5.8.6.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.8.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.8.6.3.1.1" class="ltx_p" style="width:68.3pt;">0.0141<math id="S5.T5.8.6.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.8.6.3.1.1.m1.1a"><mo id="S5.T5.8.6.3.1.1.m1.1.1" xref="S5.T5.8.6.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.8.6.3.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.8.6.3.1.1.m1.1.1.cmml" xref="S5.T5.8.6.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.8.6.3.1.1.m1.1c">\pm</annotation></semantics></math>.0090</span>
</span>
</td>
</tr>
<tr id="S5.T5.11.9" class="ltx_tr">
<td id="S5.T5.11.9.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.11.9.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.11.9.4.1.1" class="ltx_p" style="width:136.6pt;">Per-client metric after FT</span>
</span>
</td>
<td id="S5.T5.9.7.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.9.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.9.7.1.1.1" class="ltx_p" style="width:68.3pt;">0.9385<math id="S5.T5.9.7.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.9.7.1.1.1.m1.1a"><mo id="S5.T5.9.7.1.1.1.m1.1.1" xref="S5.T5.9.7.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.9.7.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.9.7.1.1.1.m1.1.1.cmml" xref="S5.T5.9.7.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.9.7.1.1.1.m1.1c">\pm</annotation></semantics></math>.0253</span>
</span>
</td>
<td id="S5.T5.10.8.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.10.8.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.10.8.2.1.1" class="ltx_p" style="width:68.3pt;">0.0116<math id="S5.T5.10.8.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.10.8.2.1.1.m1.1a"><mo id="S5.T5.10.8.2.1.1.m1.1.1" xref="S5.T5.10.8.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.10.8.2.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.10.8.2.1.1.m1.1.1.cmml" xref="S5.T5.10.8.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.10.8.2.1.1.m1.1c">\pm</annotation></semantics></math>.0056</span>
</span>
</td>
<td id="S5.T5.11.9.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.11.9.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.11.9.3.1.1" class="ltx_p" style="width:68.3pt;">0.0124<math id="S5.T5.11.9.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.11.9.3.1.1.m1.1a"><mo id="S5.T5.11.9.3.1.1.m1.1.1" xref="S5.T5.11.9.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.11.9.3.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.11.9.3.1.1.m1.1.1.cmml" xref="S5.T5.11.9.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.11.9.3.1.1.m1.1c">\pm</annotation></semantics></math>.0082</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.27.2" class="ltx_tr">
<td id="S5.T5.27.27.2.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.27.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.27.2.1.1.1" class="ltx_p" style="width:136.6pt;">% clients "hurt" after FT</span>
</span>
</td>
<td id="S5.T5.27.27.2.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.27.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.27.2.2.1.1" class="ltx_p" style="width:68.3pt;">4.4%</span>
</span>
</td>
<td id="S5.T5.27.27.2.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.27.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.27.2.3.1.1" class="ltx_p" style="width:68.3pt;">33.0%</span>
</span>
</td>
<td id="S5.T5.27.27.2.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.27.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.27.2.4.1.1" class="ltx_p" style="width:68.3pt;">0</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.28.3" class="ltx_tr">
<td id="S5.T5.27.28.3.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.28.3.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.28.3.1.1.1" class="ltx_p" style="width:136.6pt;">FT all layers vs last layer</span>
</span>
</td>
<td id="S5.T5.27.28.3.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.28.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.28.3.2.1.1" class="ltx_p" style="width:68.3pt;">N/A</span>
</span>
</td>
<td id="S5.T5.27.28.3.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.28.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.28.3.3.1.1" class="ltx_p" style="width:68.3pt;">N/A</span>
</span>
</td>
<td id="S5.T5.27.28.3.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.28.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.28.3.4.1.1" class="ltx_p" style="width:68.3pt;">no difference</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.29.4" class="ltx_tr">
<td id="S5.T5.27.29.4.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="S5.T5.27.29.4.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns:<span id="S5.T5.27.29.4.1.1.1" class="ltx_text ltx_font_medium"> Similar to those in the cross-device setting (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>);</span></span></td>
</tr>
<tr id="S5.T5.27.30.5" class="ltx_tr">
<td id="S5.T5.27.30.5.1" class="ltx_td ltx_align_center ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="S5.T5.27.30.5.1.1" class="ltx_text ltx_font_italic">Tuning per-client FT hyperparameter may outperform tuning globally (<a href="#S5.F8" title="In 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">8</span></a>).</span></td>
</tr>
<tr id="S5.T5.14.12" class="ltx_tr">
<th id="S5.T5.14.12.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="7">
<span id="S5.T5.14.12.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.14.12.4.1.1" class="ltx_p" style="width:65.4pt;"><span id="S5.T5.14.12.4.1.1.1" class="ltx_text">HypCluster / IFCA</span></span>
</span>
</th>
<td id="S5.T5.14.12.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.14.12.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.14.12.5.1.1" class="ltx_p" style="width:136.6pt;">Per-client metric</span>
</span>
</td>
<td id="S5.T5.12.10.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.12.10.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.12.10.1.1.1" class="ltx_p" style="width:68.3pt;">0.9246<math id="S5.T5.12.10.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.12.10.1.1.1.m1.1a"><mo id="S5.T5.12.10.1.1.1.m1.1.1" xref="S5.T5.12.10.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.12.10.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.12.10.1.1.1.m1.1.1.cmml" xref="S5.T5.12.10.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.12.10.1.1.1.m1.1c">\pm</annotation></semantics></math>.0288</span>
</span>
</td>
<td id="S5.T5.13.11.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.13.11.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.13.11.2.1.1" class="ltx_p" style="width:68.3pt;">0.0112<math id="S5.T5.13.11.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.13.11.2.1.1.m1.1a"><mo id="S5.T5.13.11.2.1.1.m1.1.1" xref="S5.T5.13.11.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.13.11.2.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.13.11.2.1.1.m1.1.1.cmml" xref="S5.T5.13.11.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.13.11.2.1.1.m1.1c">\pm</annotation></semantics></math>.0053</span>
</span>
</td>
<td id="S5.T5.14.12.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.14.12.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.14.12.3.1.1" class="ltx_p" style="width:68.3pt;">0.0137<math id="S5.T5.14.12.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.14.12.3.1.1.m1.1a"><mo id="S5.T5.14.12.3.1.1.m1.1.1" xref="S5.T5.14.12.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.14.12.3.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.14.12.3.1.1.m1.1.1.cmml" xref="S5.T5.14.12.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.14.12.3.1.1.m1.1c">\pm</annotation></semantics></math>.0093</span>
</span>
</td>
</tr>
<tr id="S5.T5.15.13" class="ltx_tr">
<td id="S5.T5.15.13.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.15.13.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.15.13.1.1.1" class="ltx_p" style="width:136.6pt;">No. tuned clusters (<math id="S5.T5.15.13.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.T5.15.13.1.1.1.m1.1a"><mi id="S5.T5.15.13.1.1.1.m1.1.1" xref="S5.T5.15.13.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.T5.15.13.1.1.1.m1.1b"><ci id="S5.T5.15.13.1.1.1.m1.1.1.cmml" xref="S5.T5.15.13.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.15.13.1.1.1.m1.1c">k</annotation></semantics></math>)</span>
</span>
</td>
<td id="S5.T5.15.13.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.15.13.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.15.13.2.1.1" class="ltx_p" style="width:68.3pt;">4</span>
</span>
</td>
<td id="S5.T5.15.13.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.15.13.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.15.13.3.1.1" class="ltx_p" style="width:68.3pt;">3</span>
</span>
</td>
<td id="S5.T5.15.13.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.15.13.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.15.13.4.1.1" class="ltx_p" style="width:68.3pt;">2</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.31.6" class="ltx_tr">
<td id="S5.T5.27.31.6.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.31.6.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.31.6.1.1.1" class="ltx_p" style="width:136.6pt;">% clients largest cluster</span>
</span>
</td>
<td id="S5.T5.27.31.6.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.31.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.31.6.2.1.1" class="ltx_p" style="width:68.3pt;">49.6%</span>
</span>
</td>
<td id="S5.T5.27.31.6.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.31.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.31.6.3.1.1" class="ltx_p" style="width:68.3pt;">44.6%</span>
</span>
</td>
<td id="S5.T5.27.31.6.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.31.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.31.6.4.1.1" class="ltx_p" style="width:68.3pt;">78%</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.32.7" class="ltx_tr">
<td id="S5.T5.27.32.7.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.32.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.32.7.1.1.1" class="ltx_p" style="width:136.6pt;">Warmstart from FedAvg</span>
</span>
</td>
<td id="S5.T5.27.32.7.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.32.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.32.7.2.1.1" class="ltx_p" style="width:68.3pt;">No</span>
</span>
</td>
<td id="S5.T5.27.32.7.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.32.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.32.7.3.1.1" class="ltx_p" style="width:68.3pt;">Yes</span>
</span>
</td>
<td id="S5.T5.27.32.7.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.32.7.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.32.7.4.1.1" class="ltx_p" style="width:68.3pt;">Yes</span>
</span>
</td>
</tr>
<tr id="S5.T5.19.17" class="ltx_tr">
<td id="S5.T5.16.14.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.16.14.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.16.14.1.1.1" class="ltx_p" style="width:136.6pt;">Per-client metric by ensembling <math id="S5.T5.16.14.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S5.T5.16.14.1.1.1.m1.1a"><mi id="S5.T5.16.14.1.1.1.m1.1.1" xref="S5.T5.16.14.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S5.T5.16.14.1.1.1.m1.1b"><ci id="S5.T5.16.14.1.1.1.m1.1.1.cmml" xref="S5.T5.16.14.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.16.14.1.1.1.m1.1c">k</annotation></semantics></math> FedAvg models</span>
</span>
</td>
<td id="S5.T5.17.15.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.17.15.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.17.15.2.1.1" class="ltx_p" style="width:68.3pt;">0.8851<math id="S5.T5.17.15.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.17.15.2.1.1.m1.1a"><mo id="S5.T5.17.15.2.1.1.m1.1.1" xref="S5.T5.17.15.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.17.15.2.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.17.15.2.1.1.m1.1.1.cmml" xref="S5.T5.17.15.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.17.15.2.1.1.m1.1c">\pm</annotation></semantics></math>.0828</span>
</span>
</td>
<td id="S5.T5.18.16.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.18.16.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.18.16.3.1.1" class="ltx_p" style="width:68.3pt;">0.0129<math id="S5.T5.18.16.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.18.16.3.1.1.m1.1a"><mo id="S5.T5.18.16.3.1.1.m1.1.1" xref="S5.T5.18.16.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.18.16.3.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.18.16.3.1.1.m1.1.1.cmml" xref="S5.T5.18.16.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.18.16.3.1.1.m1.1c">\pm</annotation></semantics></math>.0066</span>
</span>
</td>
<td id="S5.T5.19.17.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.19.17.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.19.17.4.1.1" class="ltx_p" style="width:68.3pt;">0.0133<math id="S5.T5.19.17.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.19.17.4.1.1.m1.1a"><mo id="S5.T5.19.17.4.1.1.m1.1.1" xref="S5.T5.19.17.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.19.17.4.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.19.17.4.1.1.m1.1.1.cmml" xref="S5.T5.19.17.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.19.17.4.1.1.m1.1c">\pm</annotation></semantics></math>.0091</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.33.8" class="ltx_tr">
<td id="S5.T5.27.33.8.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="S5.T5.27.33.8.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns:<span id="S5.T5.27.33.8.1.1.1" class="ltx_text ltx_font_medium"> Similar to those in the cross-device setting (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>); on</span></span></td>
</tr>
<tr id="S5.T5.27.34.9" class="ltx_tr">
<td id="S5.T5.27.34.9.1" class="ltx_td ltx_align_center ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="S5.T5.27.34.9.1.1" class="ltx_text ltx_font_italic">Vehicle and School, mode collapse may occur less potentially from using a linear model.</span></td>
</tr>
<tr id="S5.T5.22.20" class="ltx_tr">
<th id="S5.T5.22.20.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="3">
<span id="S5.T5.22.20.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.22.20.4.1.1" class="ltx_p" style="width:65.4pt;"><span id="S5.T5.22.20.4.1.1.1" class="ltx_text">FedAvg + kNN-Per</span></span>
</span>
</th>
<td id="S5.T5.22.20.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.22.20.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.22.20.5.1.1" class="ltx_p" style="width:136.6pt;">Per-client metric</span>
</span>
</td>
<td id="S5.T5.20.18.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.20.18.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.20.18.1.1.1" class="ltx_p" style="width:68.3pt;">0.9228<math id="S5.T5.20.18.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.20.18.1.1.1.m1.1a"><mo id="S5.T5.20.18.1.1.1.m1.1.1" xref="S5.T5.20.18.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.20.18.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.20.18.1.1.1.m1.1.1.cmml" xref="S5.T5.20.18.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.20.18.1.1.1.m1.1c">\pm</annotation></semantics></math>.0287</span>
</span>
</td>
<td id="S5.T5.21.19.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.21.19.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.21.19.2.1.1" class="ltx_p" style="width:68.3pt;">0.01163<math id="S5.T5.21.19.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.21.19.2.1.1.m1.1a"><mo id="S5.T5.21.19.2.1.1.m1.1.1" xref="S5.T5.21.19.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.21.19.2.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.21.19.2.1.1.m1.1.1.cmml" xref="S5.T5.21.19.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.21.19.2.1.1.m1.1c">\pm</annotation></semantics></math>.0055</span>
</span>
</td>
<td id="S5.T5.22.20.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.22.20.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.22.20.3.1.1" class="ltx_p" style="width:68.3pt;">0.0126<math id="S5.T5.22.20.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.22.20.3.1.1.m1.1a"><mo id="S5.T5.22.20.3.1.1.m1.1.1" xref="S5.T5.22.20.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.22.20.3.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.22.20.3.1.1.m1.1.1.cmml" xref="S5.T5.22.20.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.22.20.3.1.1.m1.1c">\pm</annotation></semantics></math>.0096</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.35.10" class="ltx_tr">
<td id="S5.T5.27.35.10.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.35.10.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.35.10.1.1.1" class="ltx_p" style="width:136.6pt;">% clients "hurt"</span>
</span>
</td>
<td id="S5.T5.27.35.10.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.35.10.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.35.10.2.1.1" class="ltx_p" style="width:68.3pt;">22.6%</span>
</span>
</td>
<td id="S5.T5.27.35.10.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.35.10.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.35.10.3.1.1" class="ltx_p" style="width:68.3pt;">37.4%</span>
</span>
</td>
<td id="S5.T5.27.35.10.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.35.10.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.35.10.4.1.1" class="ltx_p" style="width:68.3pt;">37.8%</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.36.11" class="ltx_tr">
<td id="S5.T5.27.36.11.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="S5.T5.27.36.11.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns:<span id="S5.T5.27.36.11.1.1.1" class="ltx_text ltx_font_medium"> Similar to those in the cross-device setting (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).</span></span></td>
</tr>
<tr id="S5.T5.25.23" class="ltx_tr">
<th id="S5.T5.25.23.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.25.23.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.25.23.4.1.1" class="ltx_p" style="width:65.4pt;">MTL (Ditto)</span>
</span>
</th>
<td id="S5.T5.25.23.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.25.23.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.25.23.5.1.1" class="ltx_p" style="width:136.6pt;">Per-client metric</span>
</span>
</td>
<td id="S5.T5.23.21.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.23.21.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.23.21.1.1.1" class="ltx_p" style="width:68.3pt;">0.9377<math id="S5.T5.23.21.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.23.21.1.1.1.m1.1a"><mo id="S5.T5.23.21.1.1.1.m1.1.1" xref="S5.T5.23.21.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.23.21.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.23.21.1.1.1.m1.1.1.cmml" xref="S5.T5.23.21.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.23.21.1.1.1.m1.1c">\pm</annotation></semantics></math>.0218</span>
</span>
</td>
<td id="S5.T5.24.22.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.24.22.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.24.22.2.1.1" class="ltx_p" style="width:68.3pt;">0.0114<math id="S5.T5.24.22.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.24.22.2.1.1.m1.1a"><mo id="S5.T5.24.22.2.1.1.m1.1.1" xref="S5.T5.24.22.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.24.22.2.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.24.22.2.1.1.m1.1.1.cmml" xref="S5.T5.24.22.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.24.22.2.1.1.m1.1c">\pm</annotation></semantics></math>.0053</span>
</span>
</td>
<td id="S5.T5.25.23.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.25.23.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.25.23.3.1.1" class="ltx_p" style="width:68.3pt;">0.0134<math id="S5.T5.25.23.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.25.23.3.1.1.m1.1a"><mo id="S5.T5.25.23.3.1.1.m1.1.1" xref="S5.T5.25.23.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.25.23.3.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.25.23.3.1.1.m1.1.1.cmml" xref="S5.T5.25.23.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.25.23.3.1.1.m1.1c">\pm</annotation></semantics></math>.0063</span>
</span>
</td>
</tr>
<tr id="S5.T5.27.25" class="ltx_tr">
<th id="S5.T5.27.25.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.25.3.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.25.3.1.1" class="ltx_p" style="width:65.4pt;">MTL (Mocha)</span>
</span>
</th>
<td id="S5.T5.27.25.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.25.4.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.25.4.1.1" class="ltx_p" style="width:136.6pt;">Per-client metric</span>
</span>
</td>
<td id="S5.T5.26.24.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.26.24.1.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.26.24.1.1.1" class="ltx_p" style="width:68.3pt;">0.9371<math id="S5.T5.26.24.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.26.24.1.1.1.m1.1a"><mo id="S5.T5.26.24.1.1.1.m1.1.1" xref="S5.T5.26.24.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.26.24.1.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.26.24.1.1.1.m1.1.1.cmml" xref="S5.T5.26.24.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.26.24.1.1.1.m1.1c">\pm</annotation></semantics></math>.0244</span>
</span>
</td>
<td id="S5.T5.27.25.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.25.2.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.25.2.1.1" class="ltx_p" style="width:68.3pt;">0.0121<math id="S5.T5.27.25.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="S5.T5.27.25.2.1.1.m1.1a"><mo id="S5.T5.27.25.2.1.1.m1.1.1" xref="S5.T5.27.25.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S5.T5.27.25.2.1.1.m1.1b"><csymbol cd="latexml" id="S5.T5.27.25.2.1.1.m1.1.1.cmml" xref="S5.T5.27.25.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S5.T5.27.25.2.1.1.m1.1c">\pm</annotation></semantics></math>.0059</span>
</span>
</td>
<td id="S5.T5.27.25.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="S5.T5.27.25.5.1" class="ltx_inline-block ltx_align_top">
<span id="S5.T5.27.25.5.1.1" class="ltx_p" style="width:68.3pt;">N/A</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p"><span id="S5.p3.1.1" class="ltx_text ltx_font_bold">Results.</span>
Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> reports the cross-silo experimental results in the same format as in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. Most of the practical concerns of FedAvg+Fine-tuning and HypCluster discussed in Section <a href="#S4" title="4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> are still applicable here, e.g., HypCluster is still difficult to train due to the mode collapse issue (although it may happen less frequently when training simple linear models on Vehicle and School). In addition to the shared practical concerns, we observe four key trends specific to the cross-silo setting.</p>
</div>
<div id="S5.p4" class="ltx_para">
<p id="S5.p4.1" class="ltx_p"><span id="S5.p4.1.1" class="ltx_text ltx_font_bold">Observation 1: Effectiveness of local training.</span> Local training may be a strong baseline in cross-silo settings. If we consider client(silo)-level differential privacy, it has an extra benefit of no privacy cost.</p>
</div>
<div id="S5.p5" class="ltx_para">
<p id="S5.p5.1" class="ltx_p"><span id="S5.p5.1.1" class="ltx_text ltx_font_bold">Observation 2: Importance of personalization.</span> The four personalization algorithms (FedAvg + Fine-tuning, HypCluster, kNN-Per, and MTL) all achieve better mean accuracy (or MSE) than that of FedAvg. In terms of fairness<span id="S5.p5.1.2" class="ltx_ERROR undefined">\@footnotemark</span>, the four personalization algorithms achieve better (i.e., smaller per-client metric standard deviation in Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>) or similar fairness metric than that of FedAvg.</p>
</div>
<div id="S5.p6" class="ltx_para">
<p id="S5.p6.1" class="ltx_p"><span id="S5.p6.1.1" class="ltx_text ltx_font_bold">Observation 3: Performance of MTL.</span> We see that the (stateful) MTL methods could yield competitive performance with other stateless personalization algorithms on the three cross-silo datasets, with potentially less hyperparameter tuning.</p>
</div>
<div id="S5.p7" class="ltx_para">
<p id="S5.p7.1" class="ltx_p"><span id="S5.p7.1.1" class="ltx_text ltx_font_bold">Observation 4: Effectiveness of client-specific fine-tuning.</span> For FedAvg+Fine-tuning, we compared tuning the fine-tuning hyperparameters (i.e., fine-tuning learning rate and the number of fine-tuning epochs) in a per-client (every client chooses their own hyperparameter) vs global (all clients share the same hyperparameter) manner. Using client-specific fine-tuning hyperparameters can be better than tuning globally when each client’s local data is large (see the ADNI result in Figure <a href="#S5.F8" title="Figure 8 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>).</p>
</div>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Discussion and Open Directions</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this work we present <span id="S6.p1.1.1" class="ltx_text ltx_font_typewriter">Motley</span>, a large-scale benchmark for personalized FL covering both cross-device and cross-silo settings. <span id="S6.p1.1.2" class="ltx_text ltx_font_typewriter">Motley</span> provides a reproducible, end-to-end experimental pipeline including data preprocessing, algorithms, evaluation metrics, and tuned hyperparameters<span id="S6.p1.1.3" class="ltx_ERROR undefined">\@footnotemark</span>. Beyond these baselines, our experiments highlight key insights about personalized FL (see the detailed summary in Appendix <a href="#A5" title="Appendix E Conclusion ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">E</span></a>). These insights suggest several directions of future work, such as:</p>
</div>
<div id="S6.p2" class="ltx_para">
<ul id="S6.I1" class="ltx_itemize">
<li id="S6.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i1.p1" class="ltx_para">
<p id="S6.I1.i1.p1.1" class="ltx_p">The notion of the "best" method (or the "best" hyperparameter of the same method as shown in Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>) can change depending on the evaluation metric or setting (see Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>). In this paper we report several different evaluation metrics, including the average per-client accuracy, a fairness<span id="S6.I1.i1.p1.1.1" class="ltx_ERROR undefined">\@footnotemark</span> metric, the fraction of clients hurt by personalization, the communication cost (Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), robustness to distribution shift (Figure <a href="#S4.F5" title="Figure 5 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>), and robustness to the number of local examples (Figure <a href="#S4.F7" title="Figure 7 ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>(c)). A critical direction is thus to develop systematic evaluation schemes for personalized FL (i.e., mean accuracy alone is not enough).</p>
</div>
</li>
<li id="S6.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i2.p1" class="ltx_para">
<p id="S6.I1.i2.p1.1" class="ltx_p">Existing literature often overlook or obfuscate the practical complexities of deploying personalized FL algorithms in real-world settings (see the practical concerns of each method summarized in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>). Designing new practical personalized FL methods that take these considerations into account is an important direction to democratize FL.</p>
</div>
</li>
<li id="S6.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i3.p1" class="ltx_para">
<p id="S6.I1.i3.p1.1" class="ltx_p">Developing techniques to train and interpret clustering methods such as HypCluster without mode collapse (Section <a href="#S4.SS2" title="4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>) is a necessary step to make these approaches more effective in practice.</p>
</div>
</li>
<li id="S6.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i4.p1" class="ltx_para">
<p id="S6.I1.i4.p1.1" class="ltx_p">Tradeoffs exists between adapting a client’s personalized model to the current local distribution and generalizing to future distributions ( Figure <a href="#S4.F5" title="Figure 5 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>), which is worth exploring in greater detail (see the remark on "acceptance criteria and robust personalization" in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>).</p>
</div>
</li>
<li id="S6.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S6.I1.i5.p1" class="ltx_para">
<p id="S6.I1.i5.p1.1" class="ltx_p">Given the observed benefits of per-client hyperparameter tuning in cross-silo FL (Figure <a href="#S5.F8" title="Figure 8 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>), it may be beneficial to develop similar, scalable approaches for hyperparameter tuning in cross-device FL.</p>
</div>
</li>
</ul>
</div>
<div id="S6.p3" class="ltx_para">
<p id="S6.p3.1" class="ltx_p">Finally, we note that the area of benchmarking itself can be improved in future iterations. For example, we hope that <span id="S6.p3.1.1" class="ltx_text ltx_font_typewriter">Motley</span> can inspire benchmarking of additional evaluation metrics such as privacy, other notions of fairness<span id="S6.p3.1.2" class="ltx_ERROR undefined">\@footnotemark</span>, and robustness, and additional datasets and applications.</p>
</div>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">We are grateful to Zachary Garrett, Jakub Konečnỳ, H. Brendan Mcmahan, Sewoong Oh, Daniel Ramage, Keith Rush, and Ananda Theertha Suresh for helpful discussions and comments.</p>
</div>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Acar et al. [2021a]</span>
<span class="ltx_bibblock">
Durmus Alp Emre Acar, Yue Zhao, Ramon Matas, Matthew Mattina, Paul Whatmough,
and Venkatesh Saligrama.

</span>
<span class="ltx_bibblock">Federated learning based on dynamic regularization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>,
2021a.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Acar et al. [2021b]</span>
<span class="ltx_bibblock">
Durmus Alp Emre Acar, Yue Zhao, Ruizhao Zhu, Ramon Matas, Matthew Mattina, Paul
Whatmough, and Venkatesh Saligrama.

</span>
<span class="ltx_bibblock">Debiasing model updates for improving personalized federated
training.

</span>
<span class="ltx_bibblock">In <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, pages 21–31.
PMLR, 2021b.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Andreassen et al. [2021]</span>
<span class="ltx_bibblock">
Anders Andreassen, Yasaman Bahri, Behnam Neyshabur, and Rebecca Roelofs.

</span>
<span class="ltx_bibblock">The evolution of out-of-distribution robustness throughout
fine-tuning.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2106.15831</em>, 2021.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arivazhagan et al. [2019]</span>
<span class="ltx_bibblock">
Manoj Ghuhan Arivazhagan, Vinay Aggarwal, Aaditya Kumar Singh, and Sunav
Choudhary.

</span>
<span class="ltx_bibblock">Federated learning with personalization layers.

</span>
<span class="ltx_bibblock"><em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1912.00818</em>, 2019.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Arjovsky et al. [2019]</span>
<span class="ltx_bibblock">
Martin Arjovsky, Léon Bottou, Ishaan Gulrajani, and David Lopez-Paz.

</span>
<span class="ltx_bibblock">Invariant risk minimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1907.02893</em>, 2019.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Authors [2019a]</span>
<span class="ltx_bibblock">
The TensorFlow Federated Authors.

</span>
<span class="ltx_bibblock">TensorFlow Federated EMNIST dataset.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/federated/api_docs/python/tff/simulation/datasets/emnist/load_data" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/federated/api_docs/python/tff/simulation/datasets/emnist/load_data</a>,
2019a.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Authors [2019b]</span>
<span class="ltx_bibblock">
The TensorFlow Federated Authors.

</span>
<span class="ltx_bibblock">TensorFlow Federated Stack Overflow dataset.

</span>
<span class="ltx_bibblock"><a target="_blank" href="https://www.tensorflow.org/federated/api_docs/python/tff/simulation/datasets/stackoverflow/load_data" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.tensorflow.org/federated/api_docs/python/tff/simulation/datasets/stackoverflow/load_data</a>,
2019b.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Beutel et al. [2020]</span>
<span class="ltx_bibblock">
Daniel J Beutel, Taner Topal, Akhil Mathur, Xinchi Qiu, Titouan Parcollet,
Pedro PB de Gusmão, and Nicholas D Lane.

</span>
<span class="ltx_bibblock">Flower: A friendly federated learning research framework.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2007.14390</em>, 2020.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bonawitz et al. [2019]</span>
<span class="ltx_bibblock">
Keith Bonawitz, Hubert Eichner, Wolfgang Grieskamp, Dzmitry Huba, Alex
Ingerman, Vladimir Ivanov, Chloe Kiddon, Jakub Konečnỳ, Stefano
Mazzocchi, Brendan McMahan, et al.

</span>
<span class="ltx_bibblock">Towards federated learning at scale: System design.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">Proceedings of Machine Learning and Systems</em>, 1:374–388, 2019.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bouraqqadi et al. [2021]</span>
<span class="ltx_bibblock">
Houda Bouraqqadi, Ayoub Berrag, Mohamed Mhaouach, Afaf Bouhoute, Khalid
Fardousse, and Ismail Berrada.

</span>
<span class="ltx_bibblock">Pyfed: extending pysyft with n-iid federated learning benchmark.

</span>
<span class="ltx_bibblock">In <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">The 34th Canadian Conference on Artificial Intelligence</em>,
2021.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caldas et al. [2018]</span>
<span class="ltx_bibblock">
Sebastian Caldas, Sai Meher Karthik Duddu, Peter Wu, Tian Li, Jakub
Konečnỳ, H Brendan McMahan, Virginia Smith, and Ameet Talwalkar.

</span>
<span class="ltx_bibblock">Leaf: A benchmark for federated settings.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1812.01097</em>, 2018.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caruana [1997]</span>
<span class="ltx_bibblock">
Rich Caruana.

</span>
<span class="ltx_bibblock">Multitask learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">Machine Learning</em>, 28:41–75, 1997.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chai et al. [2020]</span>
<span class="ltx_bibblock">
Di Chai, Leye Wang, Kai Chen, and Qiang Yang.

</span>
<span class="ltx_bibblock">Fedeval: A benchmark system with a comprehensive evaluation model for
federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2011.09655</em>, 2020.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Charles and Konečnỳ [2021]</span>
<span class="ltx_bibblock">
Zachary Charles and Jakub Konečnỳ.

</span>
<span class="ltx_bibblock">Convergence and accuracy trade-offs in federated learning and
meta-learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">International Conference on Artificial Intelligence and
Statistics</em>, 2021.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Charles et al. [2021]</span>
<span class="ltx_bibblock">
Zachary Charles, Zachary Garrett, Zhouyuan Huo, Sergei Shmulyian, and Virginia
Smith.

</span>
<span class="ltx_bibblock">On large-cohort training for federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 34, 2021.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. [2022]</span>
<span class="ltx_bibblock">
Daoyuan Chen, Dawei Gao, Weirui Kuang, Yaliang Li, and Bolin Ding.

</span>
<span class="ltx_bibblock">pfl-bench: A comprehensive benchmark for personalized federated
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2206.03655</em>, 2022.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. [2018]</span>
<span class="ltx_bibblock">
Fei Chen, Mi Luo, Zhenhua Dong, Zhenguo Li, and Xiuqiang He.

</span>
<span class="ltx_bibblock">Federated meta-learning with fast convergence and efficient
communication.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1802.07876</em>, 2018.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dinh et al. [2020]</span>
<span class="ltx_bibblock">
Canh T Dinh, Nguyen H Tran, and Tuan Dung Nguyen.

</span>
<span class="ltx_bibblock">Personalized federated learning with moreau envelopes.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 2020.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Duarte and Hu [2004]</span>
<span class="ltx_bibblock">
Marco F Duarte and Yu Hen Hu.

</span>
<span class="ltx_bibblock">Vehicle classification in distributed sensor networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">Journal of Parallel and Distributed Computing</em>, 2004.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fallah et al. [2020]</span>
<span class="ltx_bibblock">
Alireza Fallah, Aryan Mokhtari, and Asuman Ozdaglar.

</span>
<span class="ltx_bibblock">Personalized federated learning: A meta-learning approach.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 2020.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghosh et al. [2020]</span>
<span class="ltx_bibblock">
Avishek Ghosh, Jichan Chung, Dong Yin, and Kannan Ramchandran.

</span>
<span class="ltx_bibblock">An efficient framework for clustered federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 2020.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hanzely and Richtárik [2020]</span>
<span class="ltx_bibblock">
Filip Hanzely and Peter Richtárik.

</span>
<span class="ltx_bibblock">Federated learning of a mixture of global and local models.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.05516</em>, 2020.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hanzely et al. [2020]</span>
<span class="ltx_bibblock">
Filip Hanzely, Slavomír Hanzely, Samuel Horváth, and Peter
Richtárik.

</span>
<span class="ltx_bibblock">Lower bounds and optimal algorithms for personalized federated
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 2020.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hanzely et al. [2021]</span>
<span class="ltx_bibblock">
Filip Hanzely, Boxin Zhao, and Mladen Kolar.

</span>
<span class="ltx_bibblock">Personalized federated learning: A unified framework and universal
optimization techniques.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2102.09743</em>, 2021.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hard et al. [2018]</span>
<span class="ltx_bibblock">
Andrew Hard, Kanishka Rao, Rajiv Mathews, Swaroop Ramaswamy, Françoise
Beaufays, Sean Augenstein, Hubert Eichner, Chloé Kiddon, and Daniel
Ramage.

</span>
<span class="ltx_bibblock">Federated learning for mobile keyboard prediction.

</span>
<span class="ltx_bibblock"><em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1811.03604</em>, 2018.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hardt et al. [2016]</span>
<span class="ltx_bibblock">
Moritz Hardt, Eric Price, and Nati Srebro.

</span>
<span class="ltx_bibblock">Equality of opportunity in supervised learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 29, 2016.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. [2020]</span>
<span class="ltx_bibblock">
Chaoyang He, Songze Li, Jinhyun So, Xiao Zeng, Mi Zhang, Hongyi Wang, Xiaoyang
Wang, Praneeth Vepakomma, Abhishek Singh, Hang Qiu, et al.

</span>
<span class="ltx_bibblock">Fedml: A research library and benchmark for federated machine
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2007.13518</em>, 2020.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. [2021]</span>
<span class="ltx_bibblock">
Chaoyang He, Keshav Balasubramanian, Emir Ceyani, Carl Yang, Han Xie, Lichao
Sun, Lifang He, Liangwei Yang, Philip S Yu, Yu Rong, et al.

</span>
<span class="ltx_bibblock">Fedgraphnn: A federated learning system and benchmark for graph
neural networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2104.07145</em>, 2021.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hochreiter and Schmidhuber [1997]</span>
<span class="ltx_bibblock">
Sepp Hochreiter and Jürgen Schmidhuber.

</span>
<span class="ltx_bibblock">Long short-term memory.

</span>
<span class="ltx_bibblock"><em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Neural computation</em>, 9(8):1735–1780, 1997.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hsu et al. [2019]</span>
<span class="ltx_bibblock">
Tzu-Ming Harry Hsu, Hang Qi, and Matthew Brown.

</span>
<span class="ltx_bibblock">Measuring the effects of non-identical data distribution for
federated visual classification.

</span>
<span class="ltx_bibblock"><em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1909.06335</em>, 2019.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hsu et al. [2020]</span>
<span class="ltx_bibblock">
Tzu-Ming Harry Hsu, Hang Qi, and Matthew Brown.

</span>
<span class="ltx_bibblock">Federated visual classification with real-world data distribution.

</span>
<span class="ltx_bibblock">In <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">European Conference on Computer Vision</em>, pages 76–92.
Springer, 2020.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al. [2020]</span>
<span class="ltx_bibblock">
Sixu Hu, Yuan Li, Xu Liu, Qinbin Li, Zhaomin Wu, and Bingsheng He.

</span>
<span class="ltx_bibblock">The oarf benchmark suite: Characterization and implications for
federated learning systems.

</span>
<span class="ltx_bibblock"><em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2006.07856</em>, 2020.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. [2021]</span>
<span class="ltx_bibblock">
Yutao Huang, Lingyang Chu, Zirui Zhou, Lanjun Wang, Jiangchuan Liu, Jian Pei,
and Yong Zhang.

</span>
<span class="ltx_bibblock">Personalized cross-silo federated learning on non-iid data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">AAAI Conference on Artificial Intelligence</em>, 2021.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ilharco et al. [2022]</span>
<span class="ltx_bibblock">
Gabriel Ilharco, Mitchell Wortsman, Samir Yitzhak Gadre, Shuran Song, Hannaneh
Hajishirzi, Simon Kornblith, Ali Farhadi, and Ludwig Schmidt.

</span>
<span class="ltx_bibblock">Patching open-vocabulary models by interpolating weights.

</span>
<span class="ltx_bibblock"><em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2208.05592</em>, 2022.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jain et al. [2021]</span>
<span class="ltx_bibblock">
Prateek Jain, John Rush, Adam Smith, Shuang Song, and Abhradeep Guha Thakurta.

</span>
<span class="ltx_bibblock">Differentially private model personalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 34, 2021.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. [2019]</span>
<span class="ltx_bibblock">
Yihan Jiang, Jakub Konečnỳ, Keith Rush, and Sreeram Kannan.

</span>
<span class="ltx_bibblock">Improving federated learning personalization via model agnostic meta
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1909.12488</em>, 2019.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et al. [2021]</span>
<span class="ltx_bibblock">
Peter Kairouz, H Brendan McMahan, Brendan Avent, Aurélien Bellet, Mehdi
Bennis, Arjun Nitin Bhagoji, Kallista Bonawitz, Zachary Charles, Graham
Cormode, Rachel Cummings, et al.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">Foundations and Trends in Machine Learning</em>, 14(1–2):1–210, 2021.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Karimireddy et al. [2020]</span>
<span class="ltx_bibblock">
Sai Praneeth Karimireddy, Satyen Kale, Mehryar Mohri, Sashank Reddi, Sebastian
Stich, and Ananda Theertha Suresh.

</span>
<span class="ltx_bibblock">Scaffold: Stochastic controlled averaging for federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, 2020.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khodak et al. [2019]</span>
<span class="ltx_bibblock">
Mikhail Khodak, Maria-Florina F Balcan, and Ameet S Talwalkar.

</span>
<span class="ltx_bibblock">Adaptive gradient-based meta-learning methods.

</span>
<span class="ltx_bibblock">In <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 2019.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Khodak et al. [2021]</span>
<span class="ltx_bibblock">
Mikhail Khodak, Renbo Tu, Tian Li, Liam Li, Maria-Florina F Balcan, Virginia
Smith, and Ameet Talwalkar.

</span>
<span class="ltx_bibblock">Federated hyperparameter tuning: Challenges, baselines, and
connections to weight-sharing.

</span>
<span class="ltx_bibblock"><em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 2021.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kingma and Ba [2014]</span>
<span class="ltx_bibblock">
Diederik P Kingma and Jimmy Ba.

</span>
<span class="ltx_bibblock">Adam: A method for stochastic optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1412.6980</em>, 2014.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kumar et al. [2022]</span>
<span class="ltx_bibblock">
Ananya Kumar, Aditi Raghunathan, Robbie Jones, Tengyu Ma, and Percy Liang.

</span>
<span class="ltx_bibblock">Fine-tuning can distort pretrained features and underperform
out-of-distribution.

</span>
<span class="ltx_bibblock">In <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>, 2022.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lai et al. [2022]</span>
<span class="ltx_bibblock">
Fan Lai, Yinwei Dai, Sanjay S Singapuram, Jiachen Liu, Xiangfeng Zhu, Harsha V
Madhyastha, and Mosharaf Chowdhury.

</span>
<span class="ltx_bibblock">Fedscale: Benchmarking model and system performance of federated
learning at scale.

</span>
<span class="ltx_bibblock">In <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning (ICML)</em>, 2022.

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">LeCun et al. [1989]</span>
<span class="ltx_bibblock">
Yann LeCun, Bernhard Boser, John S Denker, Donnie Henderson, Richard E Howard,
Wayne Hubbard, and Lawrence D Jackel.

</span>
<span class="ltx_bibblock">Backpropagation applied to handwritten zip code recognition.

</span>
<span class="ltx_bibblock"><em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">Neural computation</em>, 1(4):541–551, 1989.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lee and Shin [2020]</span>
<span class="ltx_bibblock">
Geun Hyeong Lee and Soo-Yong Shin.

</span>
<span class="ltx_bibblock">Federated learning on clinical benchmark data: performance
assessment.

</span>
<span class="ltx_bibblock"><em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">Journal of medical Internet research</em>, 22(10):e20891, 2020.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. [2020a]</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Ameet Talwalkar, and Virginia Smith.

</span>
<span class="ltx_bibblock">Federated learning: Challenges, methods, and future directions.

</span>
<span class="ltx_bibblock"><em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">IEEE Signal Processing Magazine</em>, 37(3):50–60, 2020a.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. [2020b]</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and
Virginia Smith.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib47.1.1" class="ltx_emph ltx_font_italic">Conference on Machine Learning and Systems</em>,
2020b.

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. [2020c]</span>
<span class="ltx_bibblock">
Tian Li, Maziar Sanjabi, Ahmad Beirami, and Virginia Smith.

</span>
<span class="ltx_bibblock">Fair resource allocation in federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib48.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>,
2020c.

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. [2021a]</span>
<span class="ltx_bibblock">
Tian Li, Shengyuan Hu, Ahmad Beirami, and Virginia Smith.

</span>
<span class="ltx_bibblock">Ditto: Fair and robust federated learning through personalization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib49.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>,
2021a.

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. [2020d]</span>
<span class="ltx_bibblock">
Xiang Li, Kaixuan Huang, Wenhao Yang, Shusen Wang, and Zhihua Zhang.

</span>
<span class="ltx_bibblock">On the convergence of fedavg on non-iid data.

</span>
<span class="ltx_bibblock"><em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>,
2020d.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. [2021b]</span>
<span class="ltx_bibblock">
Xiaoxiao Li, Meirui JIANG, Xiaofei Zhang, Michael Kamp, and Qi Dou.

</span>
<span class="ltx_bibblock">Fedbn: Federated learning on non-iid features via local batch
normalization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>,
2021b.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liang et al. [2020]</span>
<span class="ltx_bibblock">
Paul Pu Liang, Terrance Liu, Liu Ziyin, Nicholas B Allen, Randy P Auerbach,
David Brent, Ruslan Salakhutdinov, and Louis-Philippe Morency.

</span>
<span class="ltx_bibblock">Think locally, act globally: Federated learning with local and global
representations.

</span>
<span class="ltx_bibblock"><em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2001.01523</em>, 2020.

</span>
</li>
<li id="bib.bib53" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mansour et al. [2020]</span>
<span class="ltx_bibblock">
Yishay Mansour, Mehryar Mohri, Jae Ro, and Ananda Theertha Suresh.

</span>
<span class="ltx_bibblock">Three approaches for personalization with applications to federated
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib53.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.10619</em>, 2020.

</span>
</li>
<li id="bib.bib54" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Marfoq et al. [2021]</span>
<span class="ltx_bibblock">
Othmane Marfoq, Giovanni Neglia, Aurélien Bellet, Laetitia Kameni, and
Richard Vidal.

</span>
<span class="ltx_bibblock">Federated multi-task learning under a mixture of distributions.

</span>
<span class="ltx_bibblock"><em id="bib.bib54.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
34:15434–15447, 2021.

</span>
</li>
<li id="bib.bib55" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Marfoq et al. [2022]</span>
<span class="ltx_bibblock">
Othmane Marfoq, Giovanni Neglia, Richard Vidal, and Laetitia Kameni.

</span>
<span class="ltx_bibblock">Personalized federated learning through local memorization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib55.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, pages
15070–15092. PMLR, 2022.

</span>
</li>
<li id="bib.bib56" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Matsuda et al. [2022]</span>
<span class="ltx_bibblock">
Koji Matsuda, Yuya Sasaki, Chuan Xiao, and Makoto Onizuka.

</span>
<span class="ltx_bibblock">An empirical study of personalized federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib56.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2206.13190</em>, 2022.

</span>
</li>
<li id="bib.bib57" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McCloskey and Cohen [1989]</span>
<span class="ltx_bibblock">
Michael McCloskey and Neal J Cohen.

</span>
<span class="ltx_bibblock">Catastrophic interference in connectionist networks: The sequential
learning problem.

</span>
<span class="ltx_bibblock">In <em id="bib.bib57.1.1" class="ltx_emph ltx_font_italic">Psychology of learning and motivation</em>, volume 24, pages
109–165. Elsevier, 1989.

</span>
</li>
<li id="bib.bib58" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. [2017]</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera
y Arcas.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock">In <em id="bib.bib58.1.1" class="ltx_emph ltx_font_italic">Artificial intelligence and statistics</em>, pages 1273–1282.
PMLR, 2017.

</span>
</li>
<li id="bib.bib59" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mohri et al. [2019]</span>
<span class="ltx_bibblock">
Mehryar Mohri, Gary Sivek, and Ananda Theertha Suresh.

</span>
<span class="ltx_bibblock">Agnostic federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib59.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, 2019.

</span>
</li>
<li id="bib.bib60" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Muhammad et al. [2020]</span>
<span class="ltx_bibblock">
Khalil Muhammad, Qinqin Wang, Diarmuid O’Reilly-Morgan, Elias Tragos, Barry
Smyth, Neil Hurley, James Geraci, and Aonghus Lawlor.

</span>
<span class="ltx_bibblock">Fedfast: Going beyond average for faster training of federated
recommender systems.

</span>
<span class="ltx_bibblock">In <em id="bib.bib60.1.1" class="ltx_emph ltx_font_italic">International Conference on Knowledge Discovery &amp; Data
Mining</em>, 2020.

</span>
</li>
<li id="bib.bib61" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Nichol et al. [2018]</span>
<span class="ltx_bibblock">
Alex Nichol, Joshua Achiam, and John Schulman.

</span>
<span class="ltx_bibblock">On first-order meta-learning algorithms.

</span>
<span class="ltx_bibblock"><em id="bib.bib61.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1803.02999</em>, 2018.

</span>
</li>
<li id="bib.bib62" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qi et al. [2018]</span>
<span class="ltx_bibblock">
Ye Qi, Devendra Sachan, Matthieu Felix, Sarguna Padmanabhan, and Graham Neubig.

</span>
<span class="ltx_bibblock">When and why are pre-trained word embeddings useful for neural
machine translation?

</span>
<span class="ltx_bibblock">In <em id="bib.bib62.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 2018 Conference of the North American
Chapter of the Association for Computational Linguistics: Human Language
Technologies, Volume 2 (Short Papers)</em>, pages 529–535, New Orleans,
Louisiana, June 2018. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="http://www.aclweb.org/anthology/N18-2084" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://www.aclweb.org/anthology/N18-2084</a>.

</span>
</li>
<li id="bib.bib63" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reddi et al. [2021]</span>
<span class="ltx_bibblock">
Sashank J. Reddi, Zachary Charles, Manzil Zaheer, Zachary Garrett, Keith Rush,
Jakub Konečný, Sanjiv Kumar, and Hugh Brendan McMahan.

</span>
<span class="ltx_bibblock">Adaptive federated optimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib63.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>, 2021.

</span>
<span class="ltx_bibblock">URL <a target="_blank" href="https://openreview.net/forum?id=LkFG3lB13U5" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://openreview.net/forum?id=LkFG3lB13U5</a>.

</span>
</li>
<li id="bib.bib64" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ruder [2017]</span>
<span class="ltx_bibblock">
Sebastian Ruder.

</span>
<span class="ltx_bibblock">An overview of multi-task learning in deep neural networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib64.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1706.05098</em>, 2017.

</span>
</li>
<li id="bib.bib65" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sandler et al. [2018]</span>
<span class="ltx_bibblock">
Mark Sandler, Andrew Howard, Menglong Zhu, Andrey Zhmoginov, and Liang-Chieh
Chen.

</span>
<span class="ltx_bibblock">Mobilenetv2: Inverted residuals and linear bottlenecks.

</span>
<span class="ltx_bibblock">In <em id="bib.bib65.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE conference on computer vision and
pattern recognition</em>, pages 4510–4520, 2018.

</span>
</li>
<li id="bib.bib66" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sattler et al. [2020]</span>
<span class="ltx_bibblock">
Felix Sattler, Klaus-Robert Müller, and Wojciech Samek.

</span>
<span class="ltx_bibblock">Clustered federated learning: Model-agnostic distributed multitask
optimization under privacy constraints.

</span>
<span class="ltx_bibblock"><em id="bib.bib66.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Neural Networks and Learning Systems</em>,
2020.

</span>
</li>
<li id="bib.bib67" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sim et al. [2021]</span>
<span class="ltx_bibblock">
Khe Chai Sim, Angad Chandorkar, Fan Gao, Mason Chua, Tsendsuren Munkhdalai, and
Françoise Beaufays.

</span>
<span class="ltx_bibblock">Robust continuous on-device personalization for automatic speech
recognition.

</span>
<span class="ltx_bibblock">In <em id="bib.bib67.1.1" class="ltx_emph ltx_font_italic">Interspeech</em>, pages 1284–1288, 2021.

</span>
</li>
<li id="bib.bib68" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singhal et al. [2021]</span>
<span class="ltx_bibblock">
Karan Singhal, Hakim Sidahmed, Zachary Garrett, Shanshan Wu, John Rush, and
Sushant Prakash.

</span>
<span class="ltx_bibblock">Federated reconstruction: Partially local federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib68.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
34:11220–11232, 2021.

</span>
</li>
<li id="bib.bib69" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Smith et al. [2017]</span>
<span class="ltx_bibblock">
Virginia Smith, Chao-Kai Chiang, Maziar Sanjabi, and Ameet S Talwalkar.

</span>
<span class="ltx_bibblock">Federated multi-task learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib69.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>, 2017.

</span>
</li>
<li id="bib.bib70" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tan et al. [2022]</span>
<span class="ltx_bibblock">
Alysa Ziying Tan, Han Yu, Lizhen Cui, and Qiang Yang.

</span>
<span class="ltx_bibblock">Towards personalized federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib70.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Neural Networks and Learning Systems</em>,
2022.

</span>
</li>
<li id="bib.bib71" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vaswani et al. [2017]</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones,
Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock"><em id="bib.bib71.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 30, 2017.

</span>
</li>
<li id="bib.bib72" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. [2020a]</span>
<span class="ltx_bibblock">
Hongyi Wang, Mikhail Yurochkin, Yuekai Sun, Dimitris Papailiopoulos, and
Yasaman Khazaeni.

</span>
<span class="ltx_bibblock">Federated learning with matched averaging.

</span>
<span class="ltx_bibblock"><em id="bib.bib72.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>,
2020a.

</span>
</li>
<li id="bib.bib73" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. [2020b]</span>
<span class="ltx_bibblock">
Jianyu Wang, Qinghua Liu, Hao Liang, Gauri Joshi, and H Vincent Poor.

</span>
<span class="ltx_bibblock">Tackling the objective inconsistency problem in heterogeneous
federated optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib73.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>,
2020b.

</span>
</li>
<li id="bib.bib74" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. [2021]</span>
<span class="ltx_bibblock">
Jianyu Wang, Zachary Charles, Zheng Xu, Gauri Joshi, H Brendan McMahan, Maruan
Al-Shedivat, Galen Andrew, Salman Avestimehr, Katharine Daly, Deepesh Data,
et al.

</span>
<span class="ltx_bibblock">A field guide to federated optimization.

</span>
<span class="ltx_bibblock"><em id="bib.bib74.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2107.06917</em>, 2021.

</span>
</li>
<li id="bib.bib75" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. [2019]</span>
<span class="ltx_bibblock">
Kangkang Wang, Rajiv Mathews, Chloé Kiddon, Hubert Eichner, Françoise
Beaufays, and Daniel Ramage.

</span>
<span class="ltx_bibblock">Federated evaluation of on-device personalization.

</span>
<span class="ltx_bibblock"><em id="bib.bib75.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1910.10252</em>, 2019.

</span>
</li>
<li id="bib.bib76" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Weyand et al. [2020]</span>
<span class="ltx_bibblock">
Tobias Weyand, Andre Araujo, Bingyi Cao, and Jack Sim.

</span>
<span class="ltx_bibblock">Google landmarks dataset v2-a large-scale benchmark for
instance-level recognition and retrieval.

</span>
<span class="ltx_bibblock">In <em id="bib.bib76.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF conference on computer vision
and pattern recognition</em>, pages 2575–2584, 2020.

</span>
</li>
<li id="bib.bib77" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wortsman et al. [2022a]</span>
<span class="ltx_bibblock">
Mitchell Wortsman, Gabriel Ilharco, Samir Ya Gadre, Rebecca Roelofs, Raphael
Gontijo-Lopes, Ari S Morcos, Hongseok Namkoong, Ali Farhadi, Yair Carmon,
Simon Kornblith, et al.

</span>
<span class="ltx_bibblock">Model soups: averaging weights of multiple fine-tuned models improves
accuracy without increasing inference time.

</span>
<span class="ltx_bibblock">In <em id="bib.bib77.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, pages
23965–23998. PMLR, 2022a.

</span>
</li>
<li id="bib.bib78" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wortsman et al. [2022b]</span>
<span class="ltx_bibblock">
Mitchell Wortsman, Gabriel Ilharco, Jong Wook Kim, Mike Li, Simon Kornblith,
Rebecca Roelofs, Raphael Gontijo Lopes, Hannaneh Hajishirzi, Ali Farhadi,
Hongseok Namkoong, et al.

</span>
<span class="ltx_bibblock">Robust fine-tuning of zero-shot models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib78.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, pages 7959–7971, 2022b.

</span>
</li>
<li id="bib.bib79" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xie et al. [2020]</span>
<span class="ltx_bibblock">
Ming Xie, Guodong Long, Tao Shen, Tianyi Zhou, Xianzhi Wang, Jing Jiang, and
Chengqi Zhang.

</span>
<span class="ltx_bibblock">Multi-center federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib79.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2005.01026</em>, 2020.

</span>
</li>
<li id="bib.bib80" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. [2020]</span>
<span class="ltx_bibblock">
Tao Yu, Eugene Bagdasaryan, and Vitaly Shmatikov.

</span>
<span class="ltx_bibblock">Salvaging federated learning by local adaptation.

</span>
<span class="ltx_bibblock"><em id="bib.bib80.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.04758</em>, 2020.

</span>
</li>
<li id="bib.bib81" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et al. [2021]</span>
<span class="ltx_bibblock">
Honglin Yuan, Warren Richard Morningstar, Lin Ning, and Karan Singhal.

</span>
<span class="ltx_bibblock">What do we mean by generalization in federated learning?

</span>
<span class="ltx_bibblock">In <em id="bib.bib81.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>, 2021.

</span>
</li>
<li id="bib.bib82" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang and Yang [2021]</span>
<span class="ltx_bibblock">
Yu Zhang and Qiang Yang.

</span>
<span class="ltx_bibblock">A survey on multi-task learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib82.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Knowledge and Data Engineering</em>, 2021.

</span>
</li>
<li id="bib.bib83" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang and Yeung [2010]</span>
<span class="ltx_bibblock">
Yu Zhang and Dit-Yan Yeung.

</span>
<span class="ltx_bibblock">A convex formulation for learning task relationships in multi-task
learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib83.1.1" class="ltx_emph ltx_font_italic">Conference on Uncertainty in Artificial Intelligence</em>, 2010.

</span>
</li>
<li id="bib.bib84" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al. [2018]</span>
<span class="ltx_bibblock">
Yue Zhao, Meng Li, Liangzhen Lai, Naveen Suda, Damon Civin, and Vikas Chandra.

</span>
<span class="ltx_bibblock">Federated learning with non-iid data.

</span>
<span class="ltx_bibblock"><em id="bib.bib84.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1806.00582</em>, 2018.

</span>
</li>
<li id="bib.bib85" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al. [2011]</span>
<span class="ltx_bibblock">
Jiayu Zhou, Jianhui Chen, and Jieping Ye.

</span>
<span class="ltx_bibblock">Malsar: Multi-task learning via structural regularization.

</span>
<span class="ltx_bibblock"><em id="bib.bib85.1.1" class="ltx_emph ltx_font_italic">Arizona State University</em>, 21:1–50, 2011.

</span>
</li>
<li id="bib.bib86" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhu et al. [2022]</span>
<span class="ltx_bibblock">
Chen Zhu, Zheng Xu, Mingqing Chen, Jakub Konečnỳ, Andrew Hard, and
Tom Goldstein.

</span>
<span class="ltx_bibblock">Diurnal or nocturnal? federated learning of multi-branch networks
from periodically shifting distributions.

</span>
<span class="ltx_bibblock">In <em id="bib.bib86.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>, 2022.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Background on Personalized Federated Learning</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">Traditionally, federated learning objectives consider fitting a single global model, <math id="A1.p1.1.m1.1" class="ltx_Math" alttext="w" display="inline"><semantics id="A1.p1.1.m1.1a"><mi id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml">w</mi><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><ci id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1">𝑤</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">w</annotation></semantics></math>, across all local data in the network. The aim is to solve:</p>
<table id="A1.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A1.E1.m1.3" class="ltx_Math" alttext="\min_{w}\,G(F_{1}(w),\dots\,F_{K}(w))\,," display="block"><semantics id="A1.E1.m1.3a"><mrow id="A1.E1.m1.3.3.1" xref="A1.E1.m1.3.3.1.1.cmml"><mrow id="A1.E1.m1.3.3.1.1" xref="A1.E1.m1.3.3.1.1.cmml"><mrow id="A1.E1.m1.3.3.1.1.4" xref="A1.E1.m1.3.3.1.1.4.cmml"><munder id="A1.E1.m1.3.3.1.1.4.1" xref="A1.E1.m1.3.3.1.1.4.1.cmml"><mi id="A1.E1.m1.3.3.1.1.4.1.2" xref="A1.E1.m1.3.3.1.1.4.1.2.cmml">min</mi><mi id="A1.E1.m1.3.3.1.1.4.1.3" xref="A1.E1.m1.3.3.1.1.4.1.3.cmml">w</mi></munder><mo lspace="0.337em" id="A1.E1.m1.3.3.1.1.4a" xref="A1.E1.m1.3.3.1.1.4.cmml">⁡</mo><mi id="A1.E1.m1.3.3.1.1.4.2" xref="A1.E1.m1.3.3.1.1.4.2.cmml">G</mi></mrow><mo lspace="0em" rspace="0em" id="A1.E1.m1.3.3.1.1.3" xref="A1.E1.m1.3.3.1.1.3.cmml">​</mo><mrow id="A1.E1.m1.3.3.1.1.2.2" xref="A1.E1.m1.3.3.1.1.2.3.cmml"><mo stretchy="false" id="A1.E1.m1.3.3.1.1.2.2.3" xref="A1.E1.m1.3.3.1.1.2.3.cmml">(</mo><mrow id="A1.E1.m1.3.3.1.1.1.1.1" xref="A1.E1.m1.3.3.1.1.1.1.1.cmml"><msub id="A1.E1.m1.3.3.1.1.1.1.1.2" xref="A1.E1.m1.3.3.1.1.1.1.1.2.cmml"><mi id="A1.E1.m1.3.3.1.1.1.1.1.2.2" xref="A1.E1.m1.3.3.1.1.1.1.1.2.2.cmml">F</mi><mn id="A1.E1.m1.3.3.1.1.1.1.1.2.3" xref="A1.E1.m1.3.3.1.1.1.1.1.2.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="A1.E1.m1.3.3.1.1.1.1.1.1" xref="A1.E1.m1.3.3.1.1.1.1.1.1.cmml">​</mo><mrow id="A1.E1.m1.3.3.1.1.1.1.1.3.2" xref="A1.E1.m1.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="A1.E1.m1.3.3.1.1.1.1.1.3.2.1" xref="A1.E1.m1.3.3.1.1.1.1.1.cmml">(</mo><mi id="A1.E1.m1.1.1" xref="A1.E1.m1.1.1.cmml">w</mi><mo stretchy="false" id="A1.E1.m1.3.3.1.1.1.1.1.3.2.2" xref="A1.E1.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.E1.m1.3.3.1.1.2.2.4" xref="A1.E1.m1.3.3.1.1.2.3.cmml">,</mo><mrow id="A1.E1.m1.3.3.1.1.2.2.2" xref="A1.E1.m1.3.3.1.1.2.2.2.cmml"><mi mathvariant="normal" id="A1.E1.m1.3.3.1.1.2.2.2.2" xref="A1.E1.m1.3.3.1.1.2.2.2.2.cmml">…</mi><mo lspace="0.170em" rspace="0em" id="A1.E1.m1.3.3.1.1.2.2.2.1" xref="A1.E1.m1.3.3.1.1.2.2.2.1.cmml">​</mo><msub id="A1.E1.m1.3.3.1.1.2.2.2.3" xref="A1.E1.m1.3.3.1.1.2.2.2.3.cmml"><mi id="A1.E1.m1.3.3.1.1.2.2.2.3.2" xref="A1.E1.m1.3.3.1.1.2.2.2.3.2.cmml">F</mi><mi id="A1.E1.m1.3.3.1.1.2.2.2.3.3" xref="A1.E1.m1.3.3.1.1.2.2.2.3.3.cmml">K</mi></msub><mo lspace="0em" rspace="0em" id="A1.E1.m1.3.3.1.1.2.2.2.1a" xref="A1.E1.m1.3.3.1.1.2.2.2.1.cmml">​</mo><mrow id="A1.E1.m1.3.3.1.1.2.2.2.4.2" xref="A1.E1.m1.3.3.1.1.2.2.2.cmml"><mo stretchy="false" id="A1.E1.m1.3.3.1.1.2.2.2.4.2.1" xref="A1.E1.m1.3.3.1.1.2.2.2.cmml">(</mo><mi id="A1.E1.m1.2.2" xref="A1.E1.m1.2.2.cmml">w</mi><mo stretchy="false" id="A1.E1.m1.3.3.1.1.2.2.2.4.2.2" xref="A1.E1.m1.3.3.1.1.2.2.2.cmml">)</mo></mrow></mrow><mo rspace="0.170em" stretchy="false" id="A1.E1.m1.3.3.1.1.2.2.5" xref="A1.E1.m1.3.3.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A1.E1.m1.3.3.1.2" xref="A1.E1.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.E1.m1.3b"><apply id="A1.E1.m1.3.3.1.1.cmml" xref="A1.E1.m1.3.3.1"><times id="A1.E1.m1.3.3.1.1.3.cmml" xref="A1.E1.m1.3.3.1.1.3"></times><apply id="A1.E1.m1.3.3.1.1.4.cmml" xref="A1.E1.m1.3.3.1.1.4"><apply id="A1.E1.m1.3.3.1.1.4.1.cmml" xref="A1.E1.m1.3.3.1.1.4.1"><csymbol cd="ambiguous" id="A1.E1.m1.3.3.1.1.4.1.1.cmml" xref="A1.E1.m1.3.3.1.1.4.1">subscript</csymbol><min id="A1.E1.m1.3.3.1.1.4.1.2.cmml" xref="A1.E1.m1.3.3.1.1.4.1.2"></min><ci id="A1.E1.m1.3.3.1.1.4.1.3.cmml" xref="A1.E1.m1.3.3.1.1.4.1.3">𝑤</ci></apply><ci id="A1.E1.m1.3.3.1.1.4.2.cmml" xref="A1.E1.m1.3.3.1.1.4.2">𝐺</ci></apply><interval closure="open" id="A1.E1.m1.3.3.1.1.2.3.cmml" xref="A1.E1.m1.3.3.1.1.2.2"><apply id="A1.E1.m1.3.3.1.1.1.1.1.cmml" xref="A1.E1.m1.3.3.1.1.1.1.1"><times id="A1.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="A1.E1.m1.3.3.1.1.1.1.1.1"></times><apply id="A1.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="A1.E1.m1.3.3.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.E1.m1.3.3.1.1.1.1.1.2.1.cmml" xref="A1.E1.m1.3.3.1.1.1.1.1.2">subscript</csymbol><ci id="A1.E1.m1.3.3.1.1.1.1.1.2.2.cmml" xref="A1.E1.m1.3.3.1.1.1.1.1.2.2">𝐹</ci><cn type="integer" id="A1.E1.m1.3.3.1.1.1.1.1.2.3.cmml" xref="A1.E1.m1.3.3.1.1.1.1.1.2.3">1</cn></apply><ci id="A1.E1.m1.1.1.cmml" xref="A1.E1.m1.1.1">𝑤</ci></apply><apply id="A1.E1.m1.3.3.1.1.2.2.2.cmml" xref="A1.E1.m1.3.3.1.1.2.2.2"><times id="A1.E1.m1.3.3.1.1.2.2.2.1.cmml" xref="A1.E1.m1.3.3.1.1.2.2.2.1"></times><ci id="A1.E1.m1.3.3.1.1.2.2.2.2.cmml" xref="A1.E1.m1.3.3.1.1.2.2.2.2">…</ci><apply id="A1.E1.m1.3.3.1.1.2.2.2.3.cmml" xref="A1.E1.m1.3.3.1.1.2.2.2.3"><csymbol cd="ambiguous" id="A1.E1.m1.3.3.1.1.2.2.2.3.1.cmml" xref="A1.E1.m1.3.3.1.1.2.2.2.3">subscript</csymbol><ci id="A1.E1.m1.3.3.1.1.2.2.2.3.2.cmml" xref="A1.E1.m1.3.3.1.1.2.2.2.3.2">𝐹</ci><ci id="A1.E1.m1.3.3.1.1.2.2.2.3.3.cmml" xref="A1.E1.m1.3.3.1.1.2.2.2.3.3">𝐾</ci></apply><ci id="A1.E1.m1.2.2.cmml" xref="A1.E1.m1.2.2">𝑤</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E1.m1.3c">\min_{w}\,G(F_{1}(w),\dots\,F_{K}(w))\,,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="A1.p1.13" class="ltx_p">where <math id="A1.p1.2.m1.1" class="ltx_Math" alttext="F_{k}(w)" display="inline"><semantics id="A1.p1.2.m1.1a"><mrow id="A1.p1.2.m1.1.2" xref="A1.p1.2.m1.1.2.cmml"><msub id="A1.p1.2.m1.1.2.2" xref="A1.p1.2.m1.1.2.2.cmml"><mi id="A1.p1.2.m1.1.2.2.2" xref="A1.p1.2.m1.1.2.2.2.cmml">F</mi><mi id="A1.p1.2.m1.1.2.2.3" xref="A1.p1.2.m1.1.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="A1.p1.2.m1.1.2.1" xref="A1.p1.2.m1.1.2.1.cmml">​</mo><mrow id="A1.p1.2.m1.1.2.3.2" xref="A1.p1.2.m1.1.2.cmml"><mo stretchy="false" id="A1.p1.2.m1.1.2.3.2.1" xref="A1.p1.2.m1.1.2.cmml">(</mo><mi id="A1.p1.2.m1.1.1" xref="A1.p1.2.m1.1.1.cmml">w</mi><mo stretchy="false" id="A1.p1.2.m1.1.2.3.2.2" xref="A1.p1.2.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.2.m1.1b"><apply id="A1.p1.2.m1.1.2.cmml" xref="A1.p1.2.m1.1.2"><times id="A1.p1.2.m1.1.2.1.cmml" xref="A1.p1.2.m1.1.2.1"></times><apply id="A1.p1.2.m1.1.2.2.cmml" xref="A1.p1.2.m1.1.2.2"><csymbol cd="ambiguous" id="A1.p1.2.m1.1.2.2.1.cmml" xref="A1.p1.2.m1.1.2.2">subscript</csymbol><ci id="A1.p1.2.m1.1.2.2.2.cmml" xref="A1.p1.2.m1.1.2.2.2">𝐹</ci><ci id="A1.p1.2.m1.1.2.2.3.cmml" xref="A1.p1.2.m1.1.2.2.3">𝑘</ci></apply><ci id="A1.p1.2.m1.1.1.cmml" xref="A1.p1.2.m1.1.1">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m1.1c">F_{k}(w)</annotation></semantics></math> is the local objective for client <math id="A1.p1.3.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.p1.3.m2.1a"><mi id="A1.p1.3.m2.1.1" xref="A1.p1.3.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.p1.3.m2.1b"><ci id="A1.p1.3.m2.1.1.cmml" xref="A1.p1.3.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.3.m2.1c">k</annotation></semantics></math>, and <math id="A1.p1.4.m3.1" class="ltx_Math" alttext="G(\cdot)" display="inline"><semantics id="A1.p1.4.m3.1a"><mrow id="A1.p1.4.m3.1.2" xref="A1.p1.4.m3.1.2.cmml"><mi id="A1.p1.4.m3.1.2.2" xref="A1.p1.4.m3.1.2.2.cmml">G</mi><mo lspace="0em" rspace="0em" id="A1.p1.4.m3.1.2.1" xref="A1.p1.4.m3.1.2.1.cmml">​</mo><mrow id="A1.p1.4.m3.1.2.3.2" xref="A1.p1.4.m3.1.2.cmml"><mo stretchy="false" id="A1.p1.4.m3.1.2.3.2.1" xref="A1.p1.4.m3.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="A1.p1.4.m3.1.1" xref="A1.p1.4.m3.1.1.cmml">⋅</mo><mo stretchy="false" id="A1.p1.4.m3.1.2.3.2.2" xref="A1.p1.4.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.4.m3.1b"><apply id="A1.p1.4.m3.1.2.cmml" xref="A1.p1.4.m3.1.2"><times id="A1.p1.4.m3.1.2.1.cmml" xref="A1.p1.4.m3.1.2.1"></times><ci id="A1.p1.4.m3.1.2.2.cmml" xref="A1.p1.4.m3.1.2.2">𝐺</ci><ci id="A1.p1.4.m3.1.1.cmml" xref="A1.p1.4.m3.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.4.m3.1c">G(\cdot)</annotation></semantics></math> is a function that aggregates the local objectives <math id="A1.p1.5.m4.3" class="ltx_Math" alttext="\{F_{k}(w)\}_{k\in[K]}" display="inline"><semantics id="A1.p1.5.m4.3a"><msub id="A1.p1.5.m4.3.3" xref="A1.p1.5.m4.3.3.cmml"><mrow id="A1.p1.5.m4.3.3.1.1" xref="A1.p1.5.m4.3.3.1.2.cmml"><mo stretchy="false" id="A1.p1.5.m4.3.3.1.1.2" xref="A1.p1.5.m4.3.3.1.2.cmml">{</mo><mrow id="A1.p1.5.m4.3.3.1.1.1" xref="A1.p1.5.m4.3.3.1.1.1.cmml"><msub id="A1.p1.5.m4.3.3.1.1.1.2" xref="A1.p1.5.m4.3.3.1.1.1.2.cmml"><mi id="A1.p1.5.m4.3.3.1.1.1.2.2" xref="A1.p1.5.m4.3.3.1.1.1.2.2.cmml">F</mi><mi id="A1.p1.5.m4.3.3.1.1.1.2.3" xref="A1.p1.5.m4.3.3.1.1.1.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="A1.p1.5.m4.3.3.1.1.1.1" xref="A1.p1.5.m4.3.3.1.1.1.1.cmml">​</mo><mrow id="A1.p1.5.m4.3.3.1.1.1.3.2" xref="A1.p1.5.m4.3.3.1.1.1.cmml"><mo stretchy="false" id="A1.p1.5.m4.3.3.1.1.1.3.2.1" xref="A1.p1.5.m4.3.3.1.1.1.cmml">(</mo><mi id="A1.p1.5.m4.2.2" xref="A1.p1.5.m4.2.2.cmml">w</mi><mo stretchy="false" id="A1.p1.5.m4.3.3.1.1.1.3.2.2" xref="A1.p1.5.m4.3.3.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="A1.p1.5.m4.3.3.1.1.3" xref="A1.p1.5.m4.3.3.1.2.cmml">}</mo></mrow><mrow id="A1.p1.5.m4.1.1.1" xref="A1.p1.5.m4.1.1.1.cmml"><mi id="A1.p1.5.m4.1.1.1.3" xref="A1.p1.5.m4.1.1.1.3.cmml">k</mi><mo id="A1.p1.5.m4.1.1.1.2" xref="A1.p1.5.m4.1.1.1.2.cmml">∈</mo><mrow id="A1.p1.5.m4.1.1.1.4.2" xref="A1.p1.5.m4.1.1.1.4.1.cmml"><mo stretchy="false" id="A1.p1.5.m4.1.1.1.4.2.1" xref="A1.p1.5.m4.1.1.1.4.1.1.cmml">[</mo><mi id="A1.p1.5.m4.1.1.1.1" xref="A1.p1.5.m4.1.1.1.1.cmml">K</mi><mo stretchy="false" id="A1.p1.5.m4.1.1.1.4.2.2" xref="A1.p1.5.m4.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.p1.5.m4.3b"><apply id="A1.p1.5.m4.3.3.cmml" xref="A1.p1.5.m4.3.3"><csymbol cd="ambiguous" id="A1.p1.5.m4.3.3.2.cmml" xref="A1.p1.5.m4.3.3">subscript</csymbol><set id="A1.p1.5.m4.3.3.1.2.cmml" xref="A1.p1.5.m4.3.3.1.1"><apply id="A1.p1.5.m4.3.3.1.1.1.cmml" xref="A1.p1.5.m4.3.3.1.1.1"><times id="A1.p1.5.m4.3.3.1.1.1.1.cmml" xref="A1.p1.5.m4.3.3.1.1.1.1"></times><apply id="A1.p1.5.m4.3.3.1.1.1.2.cmml" xref="A1.p1.5.m4.3.3.1.1.1.2"><csymbol cd="ambiguous" id="A1.p1.5.m4.3.3.1.1.1.2.1.cmml" xref="A1.p1.5.m4.3.3.1.1.1.2">subscript</csymbol><ci id="A1.p1.5.m4.3.3.1.1.1.2.2.cmml" xref="A1.p1.5.m4.3.3.1.1.1.2.2">𝐹</ci><ci id="A1.p1.5.m4.3.3.1.1.1.2.3.cmml" xref="A1.p1.5.m4.3.3.1.1.1.2.3">𝑘</ci></apply><ci id="A1.p1.5.m4.2.2.cmml" xref="A1.p1.5.m4.2.2">𝑤</ci></apply></set><apply id="A1.p1.5.m4.1.1.1.cmml" xref="A1.p1.5.m4.1.1.1"><in id="A1.p1.5.m4.1.1.1.2.cmml" xref="A1.p1.5.m4.1.1.1.2"></in><ci id="A1.p1.5.m4.1.1.1.3.cmml" xref="A1.p1.5.m4.1.1.1.3">𝑘</ci><apply id="A1.p1.5.m4.1.1.1.4.1.cmml" xref="A1.p1.5.m4.1.1.1.4.2"><csymbol cd="latexml" id="A1.p1.5.m4.1.1.1.4.1.1.cmml" xref="A1.p1.5.m4.1.1.1.4.2.1">delimited-[]</csymbol><ci id="A1.p1.5.m4.1.1.1.1.cmml" xref="A1.p1.5.m4.1.1.1.1">𝐾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.5.m4.3c">\{F_{k}(w)\}_{k\in[K]}</annotation></semantics></math> from each client. For example, in FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>]</cite>, <math id="A1.p1.6.m5.1" class="ltx_Math" alttext="G(\cdot)" display="inline"><semantics id="A1.p1.6.m5.1a"><mrow id="A1.p1.6.m5.1.2" xref="A1.p1.6.m5.1.2.cmml"><mi id="A1.p1.6.m5.1.2.2" xref="A1.p1.6.m5.1.2.2.cmml">G</mi><mo lspace="0em" rspace="0em" id="A1.p1.6.m5.1.2.1" xref="A1.p1.6.m5.1.2.1.cmml">​</mo><mrow id="A1.p1.6.m5.1.2.3.2" xref="A1.p1.6.m5.1.2.cmml"><mo stretchy="false" id="A1.p1.6.m5.1.2.3.2.1" xref="A1.p1.6.m5.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="A1.p1.6.m5.1.1" xref="A1.p1.6.m5.1.1.cmml">⋅</mo><mo stretchy="false" id="A1.p1.6.m5.1.2.3.2.2" xref="A1.p1.6.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.6.m5.1b"><apply id="A1.p1.6.m5.1.2.cmml" xref="A1.p1.6.m5.1.2"><times id="A1.p1.6.m5.1.2.1.cmml" xref="A1.p1.6.m5.1.2.1"></times><ci id="A1.p1.6.m5.1.2.2.cmml" xref="A1.p1.6.m5.1.2.2">𝐺</ci><ci id="A1.p1.6.m5.1.1.cmml" xref="A1.p1.6.m5.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.6.m5.1c">G(\cdot)</annotation></semantics></math> is typically set to be a weighted average of local losses, i.e., <math id="A1.p1.7.m6.1" class="ltx_Math" alttext="\sum_{k=1}^{K}p_{k}F_{k}(w)" display="inline"><semantics id="A1.p1.7.m6.1a"><mrow id="A1.p1.7.m6.1.2" xref="A1.p1.7.m6.1.2.cmml"><msubsup id="A1.p1.7.m6.1.2.1" xref="A1.p1.7.m6.1.2.1.cmml"><mo id="A1.p1.7.m6.1.2.1.2.2" xref="A1.p1.7.m6.1.2.1.2.2.cmml">∑</mo><mrow id="A1.p1.7.m6.1.2.1.2.3" xref="A1.p1.7.m6.1.2.1.2.3.cmml"><mi id="A1.p1.7.m6.1.2.1.2.3.2" xref="A1.p1.7.m6.1.2.1.2.3.2.cmml">k</mi><mo id="A1.p1.7.m6.1.2.1.2.3.1" xref="A1.p1.7.m6.1.2.1.2.3.1.cmml">=</mo><mn id="A1.p1.7.m6.1.2.1.2.3.3" xref="A1.p1.7.m6.1.2.1.2.3.3.cmml">1</mn></mrow><mi id="A1.p1.7.m6.1.2.1.3" xref="A1.p1.7.m6.1.2.1.3.cmml">K</mi></msubsup><mrow id="A1.p1.7.m6.1.2.2" xref="A1.p1.7.m6.1.2.2.cmml"><msub id="A1.p1.7.m6.1.2.2.2" xref="A1.p1.7.m6.1.2.2.2.cmml"><mi id="A1.p1.7.m6.1.2.2.2.2" xref="A1.p1.7.m6.1.2.2.2.2.cmml">p</mi><mi id="A1.p1.7.m6.1.2.2.2.3" xref="A1.p1.7.m6.1.2.2.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="A1.p1.7.m6.1.2.2.1" xref="A1.p1.7.m6.1.2.2.1.cmml">​</mo><msub id="A1.p1.7.m6.1.2.2.3" xref="A1.p1.7.m6.1.2.2.3.cmml"><mi id="A1.p1.7.m6.1.2.2.3.2" xref="A1.p1.7.m6.1.2.2.3.2.cmml">F</mi><mi id="A1.p1.7.m6.1.2.2.3.3" xref="A1.p1.7.m6.1.2.2.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="A1.p1.7.m6.1.2.2.1a" xref="A1.p1.7.m6.1.2.2.1.cmml">​</mo><mrow id="A1.p1.7.m6.1.2.2.4.2" xref="A1.p1.7.m6.1.2.2.cmml"><mo stretchy="false" id="A1.p1.7.m6.1.2.2.4.2.1" xref="A1.p1.7.m6.1.2.2.cmml">(</mo><mi id="A1.p1.7.m6.1.1" xref="A1.p1.7.m6.1.1.cmml">w</mi><mo stretchy="false" id="A1.p1.7.m6.1.2.2.4.2.2" xref="A1.p1.7.m6.1.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.7.m6.1b"><apply id="A1.p1.7.m6.1.2.cmml" xref="A1.p1.7.m6.1.2"><apply id="A1.p1.7.m6.1.2.1.cmml" xref="A1.p1.7.m6.1.2.1"><csymbol cd="ambiguous" id="A1.p1.7.m6.1.2.1.1.cmml" xref="A1.p1.7.m6.1.2.1">superscript</csymbol><apply id="A1.p1.7.m6.1.2.1.2.cmml" xref="A1.p1.7.m6.1.2.1"><csymbol cd="ambiguous" id="A1.p1.7.m6.1.2.1.2.1.cmml" xref="A1.p1.7.m6.1.2.1">subscript</csymbol><sum id="A1.p1.7.m6.1.2.1.2.2.cmml" xref="A1.p1.7.m6.1.2.1.2.2"></sum><apply id="A1.p1.7.m6.1.2.1.2.3.cmml" xref="A1.p1.7.m6.1.2.1.2.3"><eq id="A1.p1.7.m6.1.2.1.2.3.1.cmml" xref="A1.p1.7.m6.1.2.1.2.3.1"></eq><ci id="A1.p1.7.m6.1.2.1.2.3.2.cmml" xref="A1.p1.7.m6.1.2.1.2.3.2">𝑘</ci><cn type="integer" id="A1.p1.7.m6.1.2.1.2.3.3.cmml" xref="A1.p1.7.m6.1.2.1.2.3.3">1</cn></apply></apply><ci id="A1.p1.7.m6.1.2.1.3.cmml" xref="A1.p1.7.m6.1.2.1.3">𝐾</ci></apply><apply id="A1.p1.7.m6.1.2.2.cmml" xref="A1.p1.7.m6.1.2.2"><times id="A1.p1.7.m6.1.2.2.1.cmml" xref="A1.p1.7.m6.1.2.2.1"></times><apply id="A1.p1.7.m6.1.2.2.2.cmml" xref="A1.p1.7.m6.1.2.2.2"><csymbol cd="ambiguous" id="A1.p1.7.m6.1.2.2.2.1.cmml" xref="A1.p1.7.m6.1.2.2.2">subscript</csymbol><ci id="A1.p1.7.m6.1.2.2.2.2.cmml" xref="A1.p1.7.m6.1.2.2.2.2">𝑝</ci><ci id="A1.p1.7.m6.1.2.2.2.3.cmml" xref="A1.p1.7.m6.1.2.2.2.3">𝑘</ci></apply><apply id="A1.p1.7.m6.1.2.2.3.cmml" xref="A1.p1.7.m6.1.2.2.3"><csymbol cd="ambiguous" id="A1.p1.7.m6.1.2.2.3.1.cmml" xref="A1.p1.7.m6.1.2.2.3">subscript</csymbol><ci id="A1.p1.7.m6.1.2.2.3.2.cmml" xref="A1.p1.7.m6.1.2.2.3.2">𝐹</ci><ci id="A1.p1.7.m6.1.2.2.3.3.cmml" xref="A1.p1.7.m6.1.2.2.3.3">𝑘</ci></apply><ci id="A1.p1.7.m6.1.1.cmml" xref="A1.p1.7.m6.1.1">𝑤</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.7.m6.1c">\sum_{k=1}^{K}p_{k}F_{k}(w)</annotation></semantics></math>, where <math id="A1.p1.8.m7.1" class="ltx_Math" alttext="p_{k}" display="inline"><semantics id="A1.p1.8.m7.1a"><msub id="A1.p1.8.m7.1.1" xref="A1.p1.8.m7.1.1.cmml"><mi id="A1.p1.8.m7.1.1.2" xref="A1.p1.8.m7.1.1.2.cmml">p</mi><mi id="A1.p1.8.m7.1.1.3" xref="A1.p1.8.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.p1.8.m7.1b"><apply id="A1.p1.8.m7.1.1.cmml" xref="A1.p1.8.m7.1.1"><csymbol cd="ambiguous" id="A1.p1.8.m7.1.1.1.cmml" xref="A1.p1.8.m7.1.1">subscript</csymbol><ci id="A1.p1.8.m7.1.1.2.cmml" xref="A1.p1.8.m7.1.1.2">𝑝</ci><ci id="A1.p1.8.m7.1.1.3.cmml" xref="A1.p1.8.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.8.m7.1c">p_{k}</annotation></semantics></math> is a pre-defined non-negative weight such that <math id="A1.p1.9.m8.1" class="ltx_Math" alttext="\sum_{k}p_{k}=1" display="inline"><semantics id="A1.p1.9.m8.1a"><mrow id="A1.p1.9.m8.1.1" xref="A1.p1.9.m8.1.1.cmml"><mrow id="A1.p1.9.m8.1.1.2" xref="A1.p1.9.m8.1.1.2.cmml"><msub id="A1.p1.9.m8.1.1.2.1" xref="A1.p1.9.m8.1.1.2.1.cmml"><mo id="A1.p1.9.m8.1.1.2.1.2" xref="A1.p1.9.m8.1.1.2.1.2.cmml">∑</mo><mi id="A1.p1.9.m8.1.1.2.1.3" xref="A1.p1.9.m8.1.1.2.1.3.cmml">k</mi></msub><msub id="A1.p1.9.m8.1.1.2.2" xref="A1.p1.9.m8.1.1.2.2.cmml"><mi id="A1.p1.9.m8.1.1.2.2.2" xref="A1.p1.9.m8.1.1.2.2.2.cmml">p</mi><mi id="A1.p1.9.m8.1.1.2.2.3" xref="A1.p1.9.m8.1.1.2.2.3.cmml">k</mi></msub></mrow><mo id="A1.p1.9.m8.1.1.1" xref="A1.p1.9.m8.1.1.1.cmml">=</mo><mn id="A1.p1.9.m8.1.1.3" xref="A1.p1.9.m8.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.9.m8.1b"><apply id="A1.p1.9.m8.1.1.cmml" xref="A1.p1.9.m8.1.1"><eq id="A1.p1.9.m8.1.1.1.cmml" xref="A1.p1.9.m8.1.1.1"></eq><apply id="A1.p1.9.m8.1.1.2.cmml" xref="A1.p1.9.m8.1.1.2"><apply id="A1.p1.9.m8.1.1.2.1.cmml" xref="A1.p1.9.m8.1.1.2.1"><csymbol cd="ambiguous" id="A1.p1.9.m8.1.1.2.1.1.cmml" xref="A1.p1.9.m8.1.1.2.1">subscript</csymbol><sum id="A1.p1.9.m8.1.1.2.1.2.cmml" xref="A1.p1.9.m8.1.1.2.1.2"></sum><ci id="A1.p1.9.m8.1.1.2.1.3.cmml" xref="A1.p1.9.m8.1.1.2.1.3">𝑘</ci></apply><apply id="A1.p1.9.m8.1.1.2.2.cmml" xref="A1.p1.9.m8.1.1.2.2"><csymbol cd="ambiguous" id="A1.p1.9.m8.1.1.2.2.1.cmml" xref="A1.p1.9.m8.1.1.2.2">subscript</csymbol><ci id="A1.p1.9.m8.1.1.2.2.2.cmml" xref="A1.p1.9.m8.1.1.2.2.2">𝑝</ci><ci id="A1.p1.9.m8.1.1.2.2.3.cmml" xref="A1.p1.9.m8.1.1.2.2.3">𝑘</ci></apply></apply><cn type="integer" id="A1.p1.9.m8.1.1.3.cmml" xref="A1.p1.9.m8.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.9.m8.1c">\sum_{k}p_{k}=1</annotation></semantics></math>. However, in general, each client may generate data <math id="A1.p1.10.m9.1" class="ltx_Math" alttext="x_{k}" display="inline"><semantics id="A1.p1.10.m9.1a"><msub id="A1.p1.10.m9.1.1" xref="A1.p1.10.m9.1.1.cmml"><mi id="A1.p1.10.m9.1.1.2" xref="A1.p1.10.m9.1.1.2.cmml">x</mi><mi id="A1.p1.10.m9.1.1.3" xref="A1.p1.10.m9.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.p1.10.m9.1b"><apply id="A1.p1.10.m9.1.1.cmml" xref="A1.p1.10.m9.1.1"><csymbol cd="ambiguous" id="A1.p1.10.m9.1.1.1.cmml" xref="A1.p1.10.m9.1.1">subscript</csymbol><ci id="A1.p1.10.m9.1.1.2.cmml" xref="A1.p1.10.m9.1.1.2">𝑥</ci><ci id="A1.p1.10.m9.1.1.3.cmml" xref="A1.p1.10.m9.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.10.m9.1c">x_{k}</annotation></semantics></math> via a distinct distribution <math id="A1.p1.11.m10.1" class="ltx_Math" alttext="\mathcal{D}_{k}" display="inline"><semantics id="A1.p1.11.m10.1a"><msub id="A1.p1.11.m10.1.1" xref="A1.p1.11.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.p1.11.m10.1.1.2" xref="A1.p1.11.m10.1.1.2.cmml">𝒟</mi><mi id="A1.p1.11.m10.1.1.3" xref="A1.p1.11.m10.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="A1.p1.11.m10.1b"><apply id="A1.p1.11.m10.1.1.cmml" xref="A1.p1.11.m10.1.1"><csymbol cd="ambiguous" id="A1.p1.11.m10.1.1.1.cmml" xref="A1.p1.11.m10.1.1">subscript</csymbol><ci id="A1.p1.11.m10.1.1.2.cmml" xref="A1.p1.11.m10.1.1.2">𝒟</ci><ci id="A1.p1.11.m10.1.1.3.cmml" xref="A1.p1.11.m10.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.11.m10.1c">\mathcal{D}_{k}</annotation></semantics></math>, i.e., <math id="A1.p1.12.m11.3" class="ltx_Math" alttext="F_{k}(w):=\mathbb{E}_{x_{k}\sim\mathcal{D}_{k}}\left[f_{k}(w;x_{k})\right]" display="inline"><semantics id="A1.p1.12.m11.3a"><mrow id="A1.p1.12.m11.3.3" xref="A1.p1.12.m11.3.3.cmml"><mrow id="A1.p1.12.m11.3.3.3" xref="A1.p1.12.m11.3.3.3.cmml"><msub id="A1.p1.12.m11.3.3.3.2" xref="A1.p1.12.m11.3.3.3.2.cmml"><mi id="A1.p1.12.m11.3.3.3.2.2" xref="A1.p1.12.m11.3.3.3.2.2.cmml">F</mi><mi id="A1.p1.12.m11.3.3.3.2.3" xref="A1.p1.12.m11.3.3.3.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="A1.p1.12.m11.3.3.3.1" xref="A1.p1.12.m11.3.3.3.1.cmml">​</mo><mrow id="A1.p1.12.m11.3.3.3.3.2" xref="A1.p1.12.m11.3.3.3.cmml"><mo stretchy="false" id="A1.p1.12.m11.3.3.3.3.2.1" xref="A1.p1.12.m11.3.3.3.cmml">(</mo><mi id="A1.p1.12.m11.1.1" xref="A1.p1.12.m11.1.1.cmml">w</mi><mo rspace="0.278em" stretchy="false" id="A1.p1.12.m11.3.3.3.3.2.2" xref="A1.p1.12.m11.3.3.3.cmml">)</mo></mrow></mrow><mo rspace="0.278em" id="A1.p1.12.m11.3.3.2" xref="A1.p1.12.m11.3.3.2.cmml">:=</mo><mrow id="A1.p1.12.m11.3.3.1" xref="A1.p1.12.m11.3.3.1.cmml"><msub id="A1.p1.12.m11.3.3.1.3" xref="A1.p1.12.m11.3.3.1.3.cmml"><mi id="A1.p1.12.m11.3.3.1.3.2" xref="A1.p1.12.m11.3.3.1.3.2.cmml">𝔼</mi><mrow id="A1.p1.12.m11.3.3.1.3.3" xref="A1.p1.12.m11.3.3.1.3.3.cmml"><msub id="A1.p1.12.m11.3.3.1.3.3.2" xref="A1.p1.12.m11.3.3.1.3.3.2.cmml"><mi id="A1.p1.12.m11.3.3.1.3.3.2.2" xref="A1.p1.12.m11.3.3.1.3.3.2.2.cmml">x</mi><mi id="A1.p1.12.m11.3.3.1.3.3.2.3" xref="A1.p1.12.m11.3.3.1.3.3.2.3.cmml">k</mi></msub><mo id="A1.p1.12.m11.3.3.1.3.3.1" xref="A1.p1.12.m11.3.3.1.3.3.1.cmml">∼</mo><msub id="A1.p1.12.m11.3.3.1.3.3.3" xref="A1.p1.12.m11.3.3.1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.p1.12.m11.3.3.1.3.3.3.2" xref="A1.p1.12.m11.3.3.1.3.3.3.2.cmml">𝒟</mi><mi id="A1.p1.12.m11.3.3.1.3.3.3.3" xref="A1.p1.12.m11.3.3.1.3.3.3.3.cmml">k</mi></msub></mrow></msub><mo lspace="0em" rspace="0em" id="A1.p1.12.m11.3.3.1.2" xref="A1.p1.12.m11.3.3.1.2.cmml">​</mo><mrow id="A1.p1.12.m11.3.3.1.1.1" xref="A1.p1.12.m11.3.3.1.1.2.cmml"><mo id="A1.p1.12.m11.3.3.1.1.1.2" xref="A1.p1.12.m11.3.3.1.1.2.1.cmml">[</mo><mrow id="A1.p1.12.m11.3.3.1.1.1.1" xref="A1.p1.12.m11.3.3.1.1.1.1.cmml"><msub id="A1.p1.12.m11.3.3.1.1.1.1.3" xref="A1.p1.12.m11.3.3.1.1.1.1.3.cmml"><mi id="A1.p1.12.m11.3.3.1.1.1.1.3.2" xref="A1.p1.12.m11.3.3.1.1.1.1.3.2.cmml">f</mi><mi id="A1.p1.12.m11.3.3.1.1.1.1.3.3" xref="A1.p1.12.m11.3.3.1.1.1.1.3.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="A1.p1.12.m11.3.3.1.1.1.1.2" xref="A1.p1.12.m11.3.3.1.1.1.1.2.cmml">​</mo><mrow id="A1.p1.12.m11.3.3.1.1.1.1.1.1" xref="A1.p1.12.m11.3.3.1.1.1.1.1.2.cmml"><mo stretchy="false" id="A1.p1.12.m11.3.3.1.1.1.1.1.1.2" xref="A1.p1.12.m11.3.3.1.1.1.1.1.2.cmml">(</mo><mi id="A1.p1.12.m11.2.2" xref="A1.p1.12.m11.2.2.cmml">w</mi><mo id="A1.p1.12.m11.3.3.1.1.1.1.1.1.3" xref="A1.p1.12.m11.3.3.1.1.1.1.1.2.cmml">;</mo><msub id="A1.p1.12.m11.3.3.1.1.1.1.1.1.1" xref="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.cmml"><mi id="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.2" xref="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.3" xref="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="A1.p1.12.m11.3.3.1.1.1.1.1.1.4" xref="A1.p1.12.m11.3.3.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.p1.12.m11.3.3.1.1.1.3" xref="A1.p1.12.m11.3.3.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.12.m11.3b"><apply id="A1.p1.12.m11.3.3.cmml" xref="A1.p1.12.m11.3.3"><csymbol cd="latexml" id="A1.p1.12.m11.3.3.2.cmml" xref="A1.p1.12.m11.3.3.2">assign</csymbol><apply id="A1.p1.12.m11.3.3.3.cmml" xref="A1.p1.12.m11.3.3.3"><times id="A1.p1.12.m11.3.3.3.1.cmml" xref="A1.p1.12.m11.3.3.3.1"></times><apply id="A1.p1.12.m11.3.3.3.2.cmml" xref="A1.p1.12.m11.3.3.3.2"><csymbol cd="ambiguous" id="A1.p1.12.m11.3.3.3.2.1.cmml" xref="A1.p1.12.m11.3.3.3.2">subscript</csymbol><ci id="A1.p1.12.m11.3.3.3.2.2.cmml" xref="A1.p1.12.m11.3.3.3.2.2">𝐹</ci><ci id="A1.p1.12.m11.3.3.3.2.3.cmml" xref="A1.p1.12.m11.3.3.3.2.3">𝑘</ci></apply><ci id="A1.p1.12.m11.1.1.cmml" xref="A1.p1.12.m11.1.1">𝑤</ci></apply><apply id="A1.p1.12.m11.3.3.1.cmml" xref="A1.p1.12.m11.3.3.1"><times id="A1.p1.12.m11.3.3.1.2.cmml" xref="A1.p1.12.m11.3.3.1.2"></times><apply id="A1.p1.12.m11.3.3.1.3.cmml" xref="A1.p1.12.m11.3.3.1.3"><csymbol cd="ambiguous" id="A1.p1.12.m11.3.3.1.3.1.cmml" xref="A1.p1.12.m11.3.3.1.3">subscript</csymbol><ci id="A1.p1.12.m11.3.3.1.3.2.cmml" xref="A1.p1.12.m11.3.3.1.3.2">𝔼</ci><apply id="A1.p1.12.m11.3.3.1.3.3.cmml" xref="A1.p1.12.m11.3.3.1.3.3"><csymbol cd="latexml" id="A1.p1.12.m11.3.3.1.3.3.1.cmml" xref="A1.p1.12.m11.3.3.1.3.3.1">similar-to</csymbol><apply id="A1.p1.12.m11.3.3.1.3.3.2.cmml" xref="A1.p1.12.m11.3.3.1.3.3.2"><csymbol cd="ambiguous" id="A1.p1.12.m11.3.3.1.3.3.2.1.cmml" xref="A1.p1.12.m11.3.3.1.3.3.2">subscript</csymbol><ci id="A1.p1.12.m11.3.3.1.3.3.2.2.cmml" xref="A1.p1.12.m11.3.3.1.3.3.2.2">𝑥</ci><ci id="A1.p1.12.m11.3.3.1.3.3.2.3.cmml" xref="A1.p1.12.m11.3.3.1.3.3.2.3">𝑘</ci></apply><apply id="A1.p1.12.m11.3.3.1.3.3.3.cmml" xref="A1.p1.12.m11.3.3.1.3.3.3"><csymbol cd="ambiguous" id="A1.p1.12.m11.3.3.1.3.3.3.1.cmml" xref="A1.p1.12.m11.3.3.1.3.3.3">subscript</csymbol><ci id="A1.p1.12.m11.3.3.1.3.3.3.2.cmml" xref="A1.p1.12.m11.3.3.1.3.3.3.2">𝒟</ci><ci id="A1.p1.12.m11.3.3.1.3.3.3.3.cmml" xref="A1.p1.12.m11.3.3.1.3.3.3.3">𝑘</ci></apply></apply></apply><apply id="A1.p1.12.m11.3.3.1.1.2.cmml" xref="A1.p1.12.m11.3.3.1.1.1"><csymbol cd="latexml" id="A1.p1.12.m11.3.3.1.1.2.1.cmml" xref="A1.p1.12.m11.3.3.1.1.1.2">delimited-[]</csymbol><apply id="A1.p1.12.m11.3.3.1.1.1.1.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1"><times id="A1.p1.12.m11.3.3.1.1.1.1.2.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.2"></times><apply id="A1.p1.12.m11.3.3.1.1.1.1.3.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.p1.12.m11.3.3.1.1.1.1.3.1.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.3">subscript</csymbol><ci id="A1.p1.12.m11.3.3.1.1.1.1.3.2.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.3.2">𝑓</ci><ci id="A1.p1.12.m11.3.3.1.1.1.1.3.3.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.3.3">𝑘</ci></apply><list id="A1.p1.12.m11.3.3.1.1.1.1.1.2.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.1.1"><ci id="A1.p1.12.m11.2.2.cmml" xref="A1.p1.12.m11.2.2">𝑤</ci><apply id="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.1.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.2.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.2">𝑥</ci><ci id="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.3.cmml" xref="A1.p1.12.m11.3.3.1.1.1.1.1.1.1.3">𝑘</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.12.m11.3c">F_{k}(w):=\mathbb{E}_{x_{k}\sim\mathcal{D}_{k}}\left[f_{k}(w;x_{k})\right]</annotation></semantics></math>. To better account for this heterogeneity, it is therefore increasingly common to consider techniques (described below) that learn personalized, client-specific models, <math id="A1.p1.13.m12.2" class="ltx_Math" alttext="\{w_{k}\}_{k\in[K]}" display="inline"><semantics id="A1.p1.13.m12.2a"><msub id="A1.p1.13.m12.2.2" xref="A1.p1.13.m12.2.2.cmml"><mrow id="A1.p1.13.m12.2.2.1.1" xref="A1.p1.13.m12.2.2.1.2.cmml"><mo stretchy="false" id="A1.p1.13.m12.2.2.1.1.2" xref="A1.p1.13.m12.2.2.1.2.cmml">{</mo><msub id="A1.p1.13.m12.2.2.1.1.1" xref="A1.p1.13.m12.2.2.1.1.1.cmml"><mi id="A1.p1.13.m12.2.2.1.1.1.2" xref="A1.p1.13.m12.2.2.1.1.1.2.cmml">w</mi><mi id="A1.p1.13.m12.2.2.1.1.1.3" xref="A1.p1.13.m12.2.2.1.1.1.3.cmml">k</mi></msub><mo stretchy="false" id="A1.p1.13.m12.2.2.1.1.3" xref="A1.p1.13.m12.2.2.1.2.cmml">}</mo></mrow><mrow id="A1.p1.13.m12.1.1.1" xref="A1.p1.13.m12.1.1.1.cmml"><mi id="A1.p1.13.m12.1.1.1.3" xref="A1.p1.13.m12.1.1.1.3.cmml">k</mi><mo id="A1.p1.13.m12.1.1.1.2" xref="A1.p1.13.m12.1.1.1.2.cmml">∈</mo><mrow id="A1.p1.13.m12.1.1.1.4.2" xref="A1.p1.13.m12.1.1.1.4.1.cmml"><mo stretchy="false" id="A1.p1.13.m12.1.1.1.4.2.1" xref="A1.p1.13.m12.1.1.1.4.1.1.cmml">[</mo><mi id="A1.p1.13.m12.1.1.1.1" xref="A1.p1.13.m12.1.1.1.1.cmml">K</mi><mo stretchy="false" id="A1.p1.13.m12.1.1.1.4.2.2" xref="A1.p1.13.m12.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="A1.p1.13.m12.2b"><apply id="A1.p1.13.m12.2.2.cmml" xref="A1.p1.13.m12.2.2"><csymbol cd="ambiguous" id="A1.p1.13.m12.2.2.2.cmml" xref="A1.p1.13.m12.2.2">subscript</csymbol><set id="A1.p1.13.m12.2.2.1.2.cmml" xref="A1.p1.13.m12.2.2.1.1"><apply id="A1.p1.13.m12.2.2.1.1.1.cmml" xref="A1.p1.13.m12.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.p1.13.m12.2.2.1.1.1.1.cmml" xref="A1.p1.13.m12.2.2.1.1.1">subscript</csymbol><ci id="A1.p1.13.m12.2.2.1.1.1.2.cmml" xref="A1.p1.13.m12.2.2.1.1.1.2">𝑤</ci><ci id="A1.p1.13.m12.2.2.1.1.1.3.cmml" xref="A1.p1.13.m12.2.2.1.1.1.3">𝑘</ci></apply></set><apply id="A1.p1.13.m12.1.1.1.cmml" xref="A1.p1.13.m12.1.1.1"><in id="A1.p1.13.m12.1.1.1.2.cmml" xref="A1.p1.13.m12.1.1.1.2"></in><ci id="A1.p1.13.m12.1.1.1.3.cmml" xref="A1.p1.13.m12.1.1.1.3">𝑘</ci><apply id="A1.p1.13.m12.1.1.1.4.1.cmml" xref="A1.p1.13.m12.1.1.1.4.2"><csymbol cd="latexml" id="A1.p1.13.m12.1.1.1.4.1.1.cmml" xref="A1.p1.13.m12.1.1.1.4.2.1">delimited-[]</csymbol><ci id="A1.p1.13.m12.1.1.1.1.cmml" xref="A1.p1.13.m12.1.1.1.1">𝐾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.13.m12.2c">\{w_{k}\}_{k\in[K]}</annotation></semantics></math> across the network.</p>
</div>
<div id="A1.p2" class="ltx_para">
<p id="A1.p2.1" class="ltx_p">A distinguishing factor of personalized FL methods is whether the approach requires any variables to be maintained on participating clients from one round to another <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>. As discussed in Section <a href="#S2" title="2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, whereas stateless approaches may be applicable to either cross-device or cross-silo FL, stateful approaches are more appropriate for cross-silo settings given the typical size and configuration of the network. Besides stateful vs stateless, the personalized FL algorithms can be categorized into model-agnostic and model-specific. Model-specific approaches target a specific model and usually require domain-specific information <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib68" title="" class="ltx_ref">68</a>, <a href="#bib.bib86" title="" class="ltx_ref">86</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite>. The current version of <span id="A1.p2.1.1" class="ltx_text ltx_font_typewriter">Motley</span> focuses on benchmarking personalization algorithms that can work without assumptions on the model or application scenario. We discuss major model-agnostic approaches in stateful vs. stateless personalized FL below, and defer readers to the recent surveys <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib70" title="" class="ltx_ref">70</a>]</cite><cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib74" title="" class="ltx_ref">74</a>, §7.5]</cite> for more related work on personalized FL.</p>
</div>
<div id="A1.p3" class="ltx_para">
<p id="A1.p3.8" class="ltx_p"><span id="A1.p3.8.1" class="ltx_text ltx_font_bold">Stateful Approaches.</span> A common class of stateful personalized FL methods are <span id="A1.p3.8.2" class="ltx_text ltx_font_italic">multi-task learning (MTL)</span> methods. These methods view each client (or group of clients) as a separate ‘task’, and aim to jointly learn task-specific models while exploiting similarities/differences between tasks. The idea of solving multiple learning tasks simultaneously was first popularized by <cite class="ltx_cite ltx_citemacro_citet">Caruana [<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> in the 90’s, who described multi-task learning as a technique in which related tasks act as a form of inductive bias to improve generalization. Many approaches can be captured in the following general and widely-used formulation, known as multi-task relationship learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib82" title="" class="ltx_ref">82</a>, <a href="#bib.bib83" title="" class="ltx_ref">83</a>, <a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite>:</p>
<table id="A1.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="A1.E2.m1.5" class="ltx_Math" alttext="\min_{\bm{W},\bm{\Omega}}\,\left\{\sum_{k=1}^{K}\sum_{i=1}^{n_{k}}\ell_{k}(\bm{w}_{k};\bm{x}_{k}^{i},y_{k}^{i})+\mathcal{R}(\bm{W},\bm{\Omega})\right\}\,." display="block"><semantics id="A1.E2.m1.5a"><mrow id="A1.E2.m1.5.5.1"><mrow id="A1.E2.m1.5.5.1.1.2" xref="A1.E2.m1.5.5.1.1.3.cmml"><munder id="A1.E2.m1.5.5.1.1.1.1" xref="A1.E2.m1.5.5.1.1.1.1.cmml"><mi id="A1.E2.m1.5.5.1.1.1.1.2" xref="A1.E2.m1.5.5.1.1.1.1.2.cmml">min</mi><mrow id="A1.E2.m1.2.2.2.4" xref="A1.E2.m1.2.2.2.3.cmml"><mi id="A1.E2.m1.1.1.1.1" xref="A1.E2.m1.1.1.1.1.cmml">𝑾</mi><mo id="A1.E2.m1.2.2.2.4.1" xref="A1.E2.m1.2.2.2.3.cmml">,</mo><mi id="A1.E2.m1.2.2.2.2" xref="A1.E2.m1.2.2.2.2.cmml">𝛀</mi></mrow></munder><mo lspace="0.170em" id="A1.E2.m1.5.5.1.1.2a" xref="A1.E2.m1.5.5.1.1.3.cmml">⁡</mo><mrow id="A1.E2.m1.5.5.1.1.2.2" xref="A1.E2.m1.5.5.1.1.3.cmml"><mo id="A1.E2.m1.5.5.1.1.2.2.2" xref="A1.E2.m1.5.5.1.1.3.cmml">{</mo><mrow id="A1.E2.m1.5.5.1.1.2.2.1" xref="A1.E2.m1.5.5.1.1.2.2.1.cmml"><mrow id="A1.E2.m1.5.5.1.1.2.2.1.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.cmml"><munderover id="A1.E2.m1.5.5.1.1.2.2.1.3.4" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.cmml"><mo lspace="0em" movablelimits="false" rspace="0em" id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.2" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.2.cmml">∑</mo><mrow id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.cmml"><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.2" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.2.cmml">k</mi><mo id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.1" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.1.cmml">=</mo><mn id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.3.cmml">1</mn></mrow><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.4.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.3.cmml">K</mi></munderover><mrow id="A1.E2.m1.5.5.1.1.2.2.1.3.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.cmml"><munderover id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.cmml"><mo movablelimits="false" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.2" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.2.cmml">∑</mo><mrow id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.cmml"><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.2" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.2.cmml">i</mi><mo id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.1" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.1.cmml">=</mo><mn id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.3.cmml">1</mn></mrow><msub id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.cmml"><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.2" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.2.cmml">n</mi><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.3.cmml">k</mi></msub></munderover><mrow id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.cmml"><msub id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.cmml"><mi mathvariant="normal" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.2" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.2.cmml">ℓ</mi><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.4" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.4.cmml">​</mo><mrow id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.4.cmml"><mo stretchy="false" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.4" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.4.cmml">(</mo><msub id="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1" xref="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml"><mi id="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.2" xref="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.2.cmml">𝒘</mi><mi id="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3" xref="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.5" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.4.cmml">;</mo><msubsup id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.cmml"><mi id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.2" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.2.cmml">𝒙</mi><mi id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.3" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.3.cmml">k</mi><mi id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.3" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.3.cmml">i</mi></msubsup><mo id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.6" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.4.cmml">,</mo><msubsup id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.cmml"><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.2" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.2.cmml">y</mi><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.3.cmml">k</mi><mi id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.3" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.3.cmml">i</mi></msubsup><mo stretchy="false" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.7" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.4.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="A1.E2.m1.5.5.1.1.2.2.1.4" xref="A1.E2.m1.5.5.1.1.2.2.1.4.cmml">+</mo><mrow id="A1.E2.m1.5.5.1.1.2.2.1.5" xref="A1.E2.m1.5.5.1.1.2.2.1.5.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E2.m1.5.5.1.1.2.2.1.5.2" xref="A1.E2.m1.5.5.1.1.2.2.1.5.2.cmml">ℛ</mi><mo lspace="0em" rspace="0em" id="A1.E2.m1.5.5.1.1.2.2.1.5.1" xref="A1.E2.m1.5.5.1.1.2.2.1.5.1.cmml">​</mo><mrow id="A1.E2.m1.5.5.1.1.2.2.1.5.3.2" xref="A1.E2.m1.5.5.1.1.2.2.1.5.3.1.cmml"><mo stretchy="false" id="A1.E2.m1.5.5.1.1.2.2.1.5.3.2.1" xref="A1.E2.m1.5.5.1.1.2.2.1.5.3.1.cmml">(</mo><mi id="A1.E2.m1.3.3" xref="A1.E2.m1.3.3.cmml">𝑾</mi><mo id="A1.E2.m1.5.5.1.1.2.2.1.5.3.2.2" xref="A1.E2.m1.5.5.1.1.2.2.1.5.3.1.cmml">,</mo><mi id="A1.E2.m1.4.4" xref="A1.E2.m1.4.4.cmml">𝛀</mi><mo stretchy="false" id="A1.E2.m1.5.5.1.1.2.2.1.5.3.2.3" xref="A1.E2.m1.5.5.1.1.2.2.1.5.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="A1.E2.m1.5.5.1.1.2.2.3" xref="A1.E2.m1.5.5.1.1.3.cmml">}</mo></mrow></mrow><mo lspace="0.170em" id="A1.E2.m1.5.5.1.2">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.E2.m1.5b"><apply id="A1.E2.m1.5.5.1.1.3.cmml" xref="A1.E2.m1.5.5.1.1.2"><apply id="A1.E2.m1.5.5.1.1.1.1.cmml" xref="A1.E2.m1.5.5.1.1.1.1"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.1.1.1.cmml" xref="A1.E2.m1.5.5.1.1.1.1">subscript</csymbol><min id="A1.E2.m1.5.5.1.1.1.1.2.cmml" xref="A1.E2.m1.5.5.1.1.1.1.2"></min><list id="A1.E2.m1.2.2.2.3.cmml" xref="A1.E2.m1.2.2.2.4"><ci id="A1.E2.m1.1.1.1.1.cmml" xref="A1.E2.m1.1.1.1.1">𝑾</ci><ci id="A1.E2.m1.2.2.2.2.cmml" xref="A1.E2.m1.2.2.2.2">𝛀</ci></list></apply><apply id="A1.E2.m1.5.5.1.1.2.2.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1"><plus id="A1.E2.m1.5.5.1.1.2.2.1.4.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.4"></plus><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3"><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.4.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.3.4.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4">superscript</csymbol><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4">subscript</csymbol><sum id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.2"></sum><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3"><eq id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.1"></eq><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.2">𝑘</ci><cn type="integer" id="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.2.3.3">1</cn></apply></apply><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.4.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.4.3">𝐾</ci></apply><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3"><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4">superscript</csymbol><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4">subscript</csymbol><sum id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.2"></sum><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3"><eq id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.1"></eq><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.2">𝑖</ci><cn type="integer" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.2.3.3">1</cn></apply></apply><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3">subscript</csymbol><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.2">𝑛</ci><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.4.3.3">𝑘</ci></apply></apply><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3"><times id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.4.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.4"></times><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5">subscript</csymbol><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.2">ℓ</ci><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.5.3">𝑘</ci></apply><list id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.4.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3"><apply id="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.2">𝒘</ci><ci id="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2">superscript</csymbol><apply id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2">subscript</csymbol><ci id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.2">𝒙</ci><ci id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.2.3">𝑘</ci></apply><ci id="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.2.2.2.2.2.2.3">𝑖</ci></apply><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3">superscript</csymbol><apply id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3">subscript</csymbol><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.2">𝑦</ci><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.2.3">𝑘</ci></apply><ci id="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.3.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.3.3.3.3.3.3.3">𝑖</ci></apply></list></apply></apply></apply><apply id="A1.E2.m1.5.5.1.1.2.2.1.5.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.5"><times id="A1.E2.m1.5.5.1.1.2.2.1.5.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.5.1"></times><ci id="A1.E2.m1.5.5.1.1.2.2.1.5.2.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.5.2">ℛ</ci><interval closure="open" id="A1.E2.m1.5.5.1.1.2.2.1.5.3.1.cmml" xref="A1.E2.m1.5.5.1.1.2.2.1.5.3.2"><ci id="A1.E2.m1.3.3.cmml" xref="A1.E2.m1.3.3">𝑾</ci><ci id="A1.E2.m1.4.4.cmml" xref="A1.E2.m1.4.4">𝛀</ci></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E2.m1.5c">\min_{\bm{W},\bm{\Omega}}\,\left\{\sum_{k=1}^{K}\sum_{i=1}^{n_{k}}\ell_{k}(\bm{w}_{k};\bm{x}_{k}^{i},y_{k}^{i})+\mathcal{R}(\bm{W},\bm{\Omega})\right\}\,.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="A1.p3.7" class="ltx_p">Here <math id="A1.p3.1.m1.3" class="ltx_Math" alttext="\bm{W}:=[\bm{w}_{1},\dots,\bm{w}_{K}]\in\mathbb{R}^{d\times K}" display="inline"><semantics id="A1.p3.1.m1.3a"><mrow id="A1.p3.1.m1.3.3" xref="A1.p3.1.m1.3.3.cmml"><mi id="A1.p3.1.m1.3.3.4" xref="A1.p3.1.m1.3.3.4.cmml">𝑾</mi><mo lspace="0.278em" rspace="0.278em" id="A1.p3.1.m1.3.3.5" xref="A1.p3.1.m1.3.3.5.cmml">:=</mo><mrow id="A1.p3.1.m1.3.3.2.2" xref="A1.p3.1.m1.3.3.2.3.cmml"><mo stretchy="false" id="A1.p3.1.m1.3.3.2.2.3" xref="A1.p3.1.m1.3.3.2.3.cmml">[</mo><msub id="A1.p3.1.m1.2.2.1.1.1" xref="A1.p3.1.m1.2.2.1.1.1.cmml"><mi id="A1.p3.1.m1.2.2.1.1.1.2" xref="A1.p3.1.m1.2.2.1.1.1.2.cmml">𝒘</mi><mn id="A1.p3.1.m1.2.2.1.1.1.3" xref="A1.p3.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="A1.p3.1.m1.3.3.2.2.4" xref="A1.p3.1.m1.3.3.2.3.cmml">,</mo><mi mathvariant="normal" id="A1.p3.1.m1.1.1" xref="A1.p3.1.m1.1.1.cmml">…</mi><mo id="A1.p3.1.m1.3.3.2.2.5" xref="A1.p3.1.m1.3.3.2.3.cmml">,</mo><msub id="A1.p3.1.m1.3.3.2.2.2" xref="A1.p3.1.m1.3.3.2.2.2.cmml"><mi id="A1.p3.1.m1.3.3.2.2.2.2" xref="A1.p3.1.m1.3.3.2.2.2.2.cmml">𝒘</mi><mi id="A1.p3.1.m1.3.3.2.2.2.3" xref="A1.p3.1.m1.3.3.2.2.2.3.cmml">K</mi></msub><mo stretchy="false" id="A1.p3.1.m1.3.3.2.2.6" xref="A1.p3.1.m1.3.3.2.3.cmml">]</mo></mrow><mo id="A1.p3.1.m1.3.3.6" xref="A1.p3.1.m1.3.3.6.cmml">∈</mo><msup id="A1.p3.1.m1.3.3.7" xref="A1.p3.1.m1.3.3.7.cmml"><mi id="A1.p3.1.m1.3.3.7.2" xref="A1.p3.1.m1.3.3.7.2.cmml">ℝ</mi><mrow id="A1.p3.1.m1.3.3.7.3" xref="A1.p3.1.m1.3.3.7.3.cmml"><mi id="A1.p3.1.m1.3.3.7.3.2" xref="A1.p3.1.m1.3.3.7.3.2.cmml">d</mi><mo lspace="0.222em" rspace="0.222em" id="A1.p3.1.m1.3.3.7.3.1" xref="A1.p3.1.m1.3.3.7.3.1.cmml">×</mo><mi id="A1.p3.1.m1.3.3.7.3.3" xref="A1.p3.1.m1.3.3.7.3.3.cmml">K</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.p3.1.m1.3b"><apply id="A1.p3.1.m1.3.3.cmml" xref="A1.p3.1.m1.3.3"><and id="A1.p3.1.m1.3.3a.cmml" xref="A1.p3.1.m1.3.3"></and><apply id="A1.p3.1.m1.3.3b.cmml" xref="A1.p3.1.m1.3.3"><csymbol cd="latexml" id="A1.p3.1.m1.3.3.5.cmml" xref="A1.p3.1.m1.3.3.5">assign</csymbol><ci id="A1.p3.1.m1.3.3.4.cmml" xref="A1.p3.1.m1.3.3.4">𝑾</ci><list id="A1.p3.1.m1.3.3.2.3.cmml" xref="A1.p3.1.m1.3.3.2.2"><apply id="A1.p3.1.m1.2.2.1.1.1.cmml" xref="A1.p3.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.p3.1.m1.2.2.1.1.1.1.cmml" xref="A1.p3.1.m1.2.2.1.1.1">subscript</csymbol><ci id="A1.p3.1.m1.2.2.1.1.1.2.cmml" xref="A1.p3.1.m1.2.2.1.1.1.2">𝒘</ci><cn type="integer" id="A1.p3.1.m1.2.2.1.1.1.3.cmml" xref="A1.p3.1.m1.2.2.1.1.1.3">1</cn></apply><ci id="A1.p3.1.m1.1.1.cmml" xref="A1.p3.1.m1.1.1">…</ci><apply id="A1.p3.1.m1.3.3.2.2.2.cmml" xref="A1.p3.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="A1.p3.1.m1.3.3.2.2.2.1.cmml" xref="A1.p3.1.m1.3.3.2.2.2">subscript</csymbol><ci id="A1.p3.1.m1.3.3.2.2.2.2.cmml" xref="A1.p3.1.m1.3.3.2.2.2.2">𝒘</ci><ci id="A1.p3.1.m1.3.3.2.2.2.3.cmml" xref="A1.p3.1.m1.3.3.2.2.2.3">𝐾</ci></apply></list></apply><apply id="A1.p3.1.m1.3.3c.cmml" xref="A1.p3.1.m1.3.3"><in id="A1.p3.1.m1.3.3.6.cmml" xref="A1.p3.1.m1.3.3.6"></in><share href="#A1.p3.1.m1.3.3.2.cmml" id="A1.p3.1.m1.3.3d.cmml" xref="A1.p3.1.m1.3.3"></share><apply id="A1.p3.1.m1.3.3.7.cmml" xref="A1.p3.1.m1.3.3.7"><csymbol cd="ambiguous" id="A1.p3.1.m1.3.3.7.1.cmml" xref="A1.p3.1.m1.3.3.7">superscript</csymbol><ci id="A1.p3.1.m1.3.3.7.2.cmml" xref="A1.p3.1.m1.3.3.7.2">ℝ</ci><apply id="A1.p3.1.m1.3.3.7.3.cmml" xref="A1.p3.1.m1.3.3.7.3"><times id="A1.p3.1.m1.3.3.7.3.1.cmml" xref="A1.p3.1.m1.3.3.7.3.1"></times><ci id="A1.p3.1.m1.3.3.7.3.2.cmml" xref="A1.p3.1.m1.3.3.7.3.2">𝑑</ci><ci id="A1.p3.1.m1.3.3.7.3.3.cmml" xref="A1.p3.1.m1.3.3.7.3.3">𝐾</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.1.m1.3c">\bm{W}:=[\bm{w}_{1},\dots,\bm{w}_{K}]\in\mathbb{R}^{d\times K}</annotation></semantics></math> is a matrix whose <math id="A1.p3.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.p3.2.m2.1a"><mi id="A1.p3.2.m2.1.1" xref="A1.p3.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.p3.2.m2.1b"><ci id="A1.p3.2.m2.1.1.cmml" xref="A1.p3.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.2.m2.1c">k</annotation></semantics></math>-th column is the weight vector for the <math id="A1.p3.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.p3.3.m3.1a"><mi id="A1.p3.3.m3.1.1" xref="A1.p3.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.p3.3.m3.1b"><ci id="A1.p3.3.m3.1.1.cmml" xref="A1.p3.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.3.m3.1c">k</annotation></semantics></math>-th task (in this case, the model on client <math id="A1.p3.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A1.p3.4.m4.1a"><mi id="A1.p3.4.m4.1.1" xref="A1.p3.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A1.p3.4.m4.1b"><ci id="A1.p3.4.m4.1.1.cmml" xref="A1.p3.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.4.m4.1c">k</annotation></semantics></math>). The matrix <math id="A1.p3.5.m5.1" class="ltx_Math" alttext="\bm{\Omega}\in\mathbb{R}^{K\times K}" display="inline"><semantics id="A1.p3.5.m5.1a"><mrow id="A1.p3.5.m5.1.1" xref="A1.p3.5.m5.1.1.cmml"><mi id="A1.p3.5.m5.1.1.2" xref="A1.p3.5.m5.1.1.2.cmml">𝛀</mi><mo id="A1.p3.5.m5.1.1.1" xref="A1.p3.5.m5.1.1.1.cmml">∈</mo><msup id="A1.p3.5.m5.1.1.3" xref="A1.p3.5.m5.1.1.3.cmml"><mi id="A1.p3.5.m5.1.1.3.2" xref="A1.p3.5.m5.1.1.3.2.cmml">ℝ</mi><mrow id="A1.p3.5.m5.1.1.3.3" xref="A1.p3.5.m5.1.1.3.3.cmml"><mi id="A1.p3.5.m5.1.1.3.3.2" xref="A1.p3.5.m5.1.1.3.3.2.cmml">K</mi><mo lspace="0.222em" rspace="0.222em" id="A1.p3.5.m5.1.1.3.3.1" xref="A1.p3.5.m5.1.1.3.3.1.cmml">×</mo><mi id="A1.p3.5.m5.1.1.3.3.3" xref="A1.p3.5.m5.1.1.3.3.3.cmml">K</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A1.p3.5.m5.1b"><apply id="A1.p3.5.m5.1.1.cmml" xref="A1.p3.5.m5.1.1"><in id="A1.p3.5.m5.1.1.1.cmml" xref="A1.p3.5.m5.1.1.1"></in><ci id="A1.p3.5.m5.1.1.2.cmml" xref="A1.p3.5.m5.1.1.2">𝛀</ci><apply id="A1.p3.5.m5.1.1.3.cmml" xref="A1.p3.5.m5.1.1.3"><csymbol cd="ambiguous" id="A1.p3.5.m5.1.1.3.1.cmml" xref="A1.p3.5.m5.1.1.3">superscript</csymbol><ci id="A1.p3.5.m5.1.1.3.2.cmml" xref="A1.p3.5.m5.1.1.3.2">ℝ</ci><apply id="A1.p3.5.m5.1.1.3.3.cmml" xref="A1.p3.5.m5.1.1.3.3"><times id="A1.p3.5.m5.1.1.3.3.1.cmml" xref="A1.p3.5.m5.1.1.3.3.1"></times><ci id="A1.p3.5.m5.1.1.3.3.2.cmml" xref="A1.p3.5.m5.1.1.3.3.2">𝐾</ci><ci id="A1.p3.5.m5.1.1.3.3.3.cmml" xref="A1.p3.5.m5.1.1.3.3.3">𝐾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.5.m5.1c">\bm{\Omega}\in\mathbb{R}^{K\times K}</annotation></semantics></math> models relationships amongst tasks, and is either known a priori or estimated while simultaneously learning task models. MTL problems differ based on their
assumptions on <math id="A1.p3.6.m6.1" class="ltx_Math" alttext="\mathcal{R}" display="inline"><semantics id="A1.p3.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="A1.p3.6.m6.1.1" xref="A1.p3.6.m6.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="A1.p3.6.m6.1b"><ci id="A1.p3.6.m6.1.1.cmml" xref="A1.p3.6.m6.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.6.m6.1c">\mathcal{R}</annotation></semantics></math>, which takes <math id="A1.p3.7.m7.1" class="ltx_Math" alttext="\bm{\Omega}" display="inline"><semantics id="A1.p3.7.m7.1a"><mi id="A1.p3.7.m7.1.1" xref="A1.p3.7.m7.1.1.cmml">𝛀</mi><annotation-xml encoding="MathML-Content" id="A1.p3.7.m7.1b"><ci id="A1.p3.7.m7.1.1.cmml" xref="A1.p3.7.m7.1.1">𝛀</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p3.7.m7.1c">\bm{\Omega}</annotation></semantics></math> as input and promotes some suitable structure amongst the tasks. In federated learning, a number of specific MTL instantiations have been proposed, including variants of general relationship learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib69" title="" class="ltx_ref">69</a>, <a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>, cluster-regularized MTL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib69" title="" class="ltx_ref">69</a>, <a href="#bib.bib66" title="" class="ltx_ref">66</a>]</cite>, global-regularized MTL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib80" title="" class="ltx_ref">80</a>]</cite>, and mean-regularized MTL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.</p>
</div>
<div id="A1.p4" class="ltx_para">
<p id="A1.p4.1" class="ltx_p">Beyond these approaches, another common variant of MTL, particularly for deep learning problems, is ‘hard parameter’ sharing approaches <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib64" title="" class="ltx_ref">64</a>]</cite>. These methods consider splitting the model architecture itself into two components: a shared part that is jointly learned by all
clients, and a local part that is personalized to each client. The local portion can be simply fine-tuned (as discussed below), or may be learned in conjunction with the shared portion by saving the local state on each client at every round, in which case they would also fall under the category of stateful FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.</p>
</div>
<div id="A1.p5" class="ltx_para">
<p id="A1.p5.1" class="ltx_p"><span id="A1.p5.1.1" class="ltx_text ltx_font_bold">Stateless Approaches.</span> In the stateless category, one of the most common forms of personalization is simple fine-tuning. With fine-tuning, a shared model is trained and deployed on each client, and the model is then fine-tuned or adapted locally to the client’s data. In its simplest form the deployed model could be a global model trained via a typical procedure such as FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib58" title="" class="ltx_ref">58</a>, <a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>, and additional iterations of a stochastic optimizer such as mini-batch SGD can be run locally after deployment. However, it is also natural to consider <span id="A1.p5.1.2" class="ltx_text ltx_font_italic">meta-learning</span> approaches as part of this workflow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, which are specifically designed to learn an algorithm that can solve a new task with a small number of training samples. These approaches can be particularly useful in cross-device FL settings, where each client may generate only a small number of training points, and it may be necessary to deploy and adapt models to clients that did not participate in training.</p>
</div>
<div id="A1.p6" class="ltx_para">
<p id="A1.p6.1" class="ltx_p">Finally, unlike the stateful MTL-based clustering approaches discussed above, it is also possible to consider clustering variants that don’t require state to be maintained. In particular, a common approach is to maintain multiple global models and to have participating clients determine which of the models is best suited to their local data, thus forming a natural clustering amongst the clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib53" title="" class="ltx_ref">53</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>.</p>
</div>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Datasets</h2>

<figure id="A2.F9" class="ltx_figure"><img src="/html/2206.09262/assets/x13.png" id="A2.F9.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="98" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A2.F9.2.1.1" class="ltx_text" style="font-size:90%;">Figure 9</span>: </span><span id="A2.F9.3.2" class="ltx_text" style="font-size:90%;">The chosen federated datasets (Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>) have heterogeneous local distributions.</span></figcaption>
</figure>
<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">All the datasets used in <span id="A2.p1.1.1" class="ltx_text ltx_font_typewriter">Motley</span> are listed in Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>. They do not contain personally identifiable information or offensive content. They all have natural per-client data partitions, which will be discussed in more details below. Figure <a href="#A2.F9" title="Figure 9 ‣ Appendix B Datasets ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows that each client’s local data distribution is distinct from each other, a common property of real-world federated datasets (see the discussions on "Heterogeneity" in Section <a href="#S2" title="2 Background: Federated Learning and Personalization ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and Appendix <a href="#A1" title="Appendix A Background on Personalized Federated Learning ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>).</p>
</div>
<section id="A2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.1 </span>Cross-device</h3>

<div id="A2.SS1.p1" class="ltx_para">
<p id="A2.SS1.p1.1" class="ltx_p">We describe the cross-device datasets in Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>. We will also mention how we split the clients into train, validation, and test clients (a key preprocessing step described in Section <a href="#S3.SS2" title="3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>).</p>
<ul id="A2.I1" class="ltx_itemize">
<li id="A2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i1.p1" class="ltx_para">
<p id="A2.I1.i1.p1.1" class="ltx_p"><span id="A2.I1.i1.p1.1.1" class="ltx_text ltx_font_bold">EMNIST</span> is first processed by the LEAF benchmark <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. We use the version from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, which contains 3400 writers/clients and a total of 671,585 images<span id="footnote22" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">22</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">22</sup><span class="ltx_tag ltx_tag_note">22</span>Note that in the EMNIST dataset provided by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, each client’s examples are already split into a training set and a small test set, for simplicity, we only use the training set of each client in our experiments.</span></span></span>. Each client has on average 200 images (28-by-28 pixels) of hand-written digits and characters (62 classes). We use a CNN model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite> with 1M parameters (same as <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>). The 3400 clients are randomly split into 2500/400/500 as train/validation/test.</p>
</div>
</li>
<li id="A2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i2.p1" class="ltx_para">
<p id="A2.I1.i2.p1.1" class="ltx_p"><span id="A2.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">StackOverflow</span> is a large-scale federated language dataset. Each client is a user in the Stack Overflow online forum. The examples are the questions and answers posted by this user. Each example is a sentence. The task is next word prediction. We use an LSTM model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite> with 4M parameters and 10k vocabulary size (same as <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>). The version from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> contains 342k train clients and 38k held-out clients. We randomly split the held-out clients into 10k/28k for validation/test.</p>
</div>
</li>
<li id="A2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i3.p1" class="ltx_para">
<p id="A2.I1.i3.p1.1" class="ltx_p"><span id="A2.I1.i3.p1.1.1" class="ltx_text ltx_font_bold">Landmarks</span> is a federated image classification dataset processed by <cite class="ltx_cite ltx_citemacro_citet">Hsu et al. [<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite> (from the 2019 Landmark Recognition Challenge <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib76" title="" class="ltx_ref">76</a>]</cite>). Each client is a Wikipedia contributor. The images are the landmark (e.g., famous monuments and mountains) photos uploaded by the photographers. The per-user data distribution naturally varies based on the photographer’s geographic location. The dataset contains 164k images, 2028 landmark labels, and 1262 clients. We use a MobileNetV2 model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib65" title="" class="ltx_ref">65</a>]</cite> with 4M parameters (same as <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>). We randomly split the clients into 1112/50/100 as train/validation/test.</p>
</div>
</li>
<li id="A2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I1.i4.p1" class="ltx_para">
<p id="A2.I1.i4.p1.1" class="ltx_p"><span id="A2.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">TedMulti-EnEs</span> is a subset of the TedMultiTranslate dataset. The original TedMultiTranslate is a multilingual (60 languages) dataset derived from the TED Talk transrcipts <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite>. We only use two languages English and Spanish (and hence, "EnEs" in the name). This dataset has not been used in any federated learning experiment before, so we need to do more preprocessing work. We first partition the clients by the TED Talk author and language (a client contains either English data or Spanish data but not both<span id="footnote23" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">23</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">23</sup><span class="ltx_tag ltx_tag_note">23</span>The processed dataset has two clusters of clients: English/Spanish. See Section <a href="#S4.SS2" title="4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a> for more discussions.</span></span></span>). Each example is a sentence from the talk. The task is next word prediction. We build a vocabulary of size 15k containing both English and Spanish words (these words appear in at least 20 clients). We use a transformer model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib71" title="" class="ltx_ref">71</a>]</cite> with 4M parameters. Clients with less than 20 examples are removed. We randomly split the 4184 clients into 3969/98/117 as train/validation/test.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="A2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.2 </span>Cross-silo</h3>

<div id="A2.SS2.p1" class="ltx_para">
<ul id="A2.I2" class="ltx_itemize">
<li id="A2.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i1.p1" class="ltx_para">
<p id="A2.I2.i1.p1.1" class="ltx_p"><span id="A2.I2.i1.p1.1.1" class="ltx_text ltx_font_bold">Vehicle</span> dataset, originally collected by <cite class="ltx_cite ltx_citemacro_citet">Duarte and Hu [<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>, is a binary classification dataset containing measurements of road segments from a distributed network of 23 vehicle sensors with a total of 43,695 feature vectors for classifying the type of the passing vehicles. Following <cite class="ltx_cite ltx_citemacro_citet">Smith et al. [<a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite>, we treat each sensor as a task (data silo) and use 50 acoustic and 50 seismic features as inputs to a linear SVM model.
It is suitable for cross-silo FL because of the small number of silos and sufficiently large local datasets for local training. We split each client(silo)’s local dataset into 70%/15%/15% train/validation/test sets.</p>
</div>
</li>
<li id="A2.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i2.p1" class="ltx_para">
<p id="A2.I2.i2.p1.1" class="ltx_p"><span id="A2.I2.i2.p1.1.1" class="ltx_text ltx_font_bold">School</span> dataset, originally collected by the now-defunct Inner London Education Authority,<span id="footnote24" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">24</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">24</sup><span class="ltx_tag ltx_tag_note">24</span><a target="_blank" href="https://en.wikipedia.org/wiki/Inner_London_Education_Authority" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://en.wikipedia.org/wiki/Inner_London_Education_Authority</a></span></span></span>
is a regression dataset for predicting the exam scores of 15,362 students distributed across 139 secondary schools.
Each school has records up to 251 students with each student described by a 28-dimensional feature vector capturing attributions such as the school ranking, student birth year, and whether the school provided free meals. Simple linear regression models suffice for reasonable performance. We split each client(silo)’s local dataset into 70%/15%/15% train/validation/test sets.</p>
</div>
</li>
<li id="A2.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I2.i3.p1" class="ltx_para">
<p id="A2.I2.i3.p1.2" class="ltx_p"><span id="A2.I2.i3.p1.2.1" class="ltx_text ltx_font_bold">ADNI</span> (Alzheimer’s Disease Neuroimaging Initiative)<span id="footnote25" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">25</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">25</sup><span class="ltx_tag ltx_tag_note">25</span>All research on the ADNI dataset was conducted by Tian Li. No other authors had access to this data. ADNI data were obtained from the Alzheimer’s Disease
Neuroimaging Initiative (ADNI) database (adni.loni.usc.edu). As such, the investigators
within the ADNI contributed to the design and implementation of ADNI and/or provided data
but did not participate in analysis or writing of this paper. A complete listing of ADNI
investigators can be found at:
http://adni.loni.usc.edu/wp-content/uploads/how_to_apply/ADNI_Acknowledgement_List.pdf. ADNI project was funded by National Institutes of Health Grant U01 AG024904 and
DOD ADNI (Department of Defense award number W81XWH-12-2-0012). </span></span></span> is a public medical dataset containing various formats of data to help advance the study of Alzheimer’s disease.<span id="footnote26" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">26</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">26</sup><span class="ltx_tag ltx_tag_note">26</span><a target="_blank" href="https://adni.loni.usc.edu/" title="" class="ltx_ref ltx_href">https://adni.loni.usc.edu/</a></span></span></span> The task is to predict Standardized Uptake Value Ratio (SUVR) from PET scans of human brains.
We treat each scanner vendor as a silo, and there are 9 silos in total. We specifically use a subset of PET scans (with AV45 and preprocessing step <span id="A2.I2.i3.p1.2.2" class="ltx_text ltx_font_typewriter">‘Coreg, Avg, Std Img and Vox Siz, Uniform Resolution’</span>) that have existing labels obtained from UC Berkeley study in the database. We convert the data into .png format, normalize each pixel value to <math id="A2.I2.i3.p1.1.m1.2" class="ltx_Math" alttext="(0,1)" display="inline"><semantics id="A2.I2.i3.p1.1.m1.2a"><mrow id="A2.I2.i3.p1.1.m1.2.3.2" xref="A2.I2.i3.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="A2.I2.i3.p1.1.m1.2.3.2.1" xref="A2.I2.i3.p1.1.m1.2.3.1.cmml">(</mo><mn id="A2.I2.i3.p1.1.m1.1.1" xref="A2.I2.i3.p1.1.m1.1.1.cmml">0</mn><mo id="A2.I2.i3.p1.1.m1.2.3.2.2" xref="A2.I2.i3.p1.1.m1.2.3.1.cmml">,</mo><mn id="A2.I2.i3.p1.1.m1.2.2" xref="A2.I2.i3.p1.1.m1.2.2.cmml">1</mn><mo stretchy="false" id="A2.I2.i3.p1.1.m1.2.3.2.3" xref="A2.I2.i3.p1.1.m1.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.I2.i3.p1.1.m1.2b"><interval closure="open" id="A2.I2.i3.p1.1.m1.2.3.1.cmml" xref="A2.I2.i3.p1.1.m1.2.3.2"><cn type="integer" id="A2.I2.i3.p1.1.m1.1.1.cmml" xref="A2.I2.i3.p1.1.m1.1.1">0</cn><cn type="integer" id="A2.I2.i3.p1.1.m1.2.2.cmml" xref="A2.I2.i3.p1.1.m1.2.2">1</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i3.p1.1.m1.2c">(0,1)</annotation></semantics></math>, and rescale each image into size 32<math id="A2.I2.i3.p1.2.m2.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="A2.I2.i3.p1.2.m2.1a"><mo id="A2.I2.i3.p1.2.m2.1.1" xref="A2.I2.i3.p1.2.m2.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="A2.I2.i3.p1.2.m2.1b"><times id="A2.I2.i3.p1.2.m2.1.1.cmml" xref="A2.I2.i3.p1.2.m2.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="A2.I2.i3.p1.2.m2.1c">\times</annotation></semantics></math>32. We split each client(silo)’s local dataset into 80%/10%/10% train/validation/test sets.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="A2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">B.3 </span>License/Usage Information</h3>

<div id="A2.SS3.p1" class="ltx_para">
<ul id="A2.I3" class="ltx_itemize">
<li id="A2.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I3.i1.p1" class="ltx_para">
<p id="A2.I3.i1.p1.1" class="ltx_p"><span id="A2.I3.i1.p1.1.1" class="ltx_text ltx_font_bold">EMNIST.</span> The Extended MNIST dataset<span id="footnote27" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">27</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">27</sup><span class="ltx_tag ltx_tag_note">27</span><a target="_blank" href="https://www.westernsydney.edu.au/icns/reproducible_research/publication_support_materials/emnist" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.westernsydney.edu.au/icns/reproducible_research/publication_support_materials/emnist</a></span></span></span> is a variant of the original NIST Special Database 19<span id="footnote28" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">28</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">28</sup><span class="ltx_tag ltx_tag_note">28</span><a target="_blank" href="https://www.nist.gov/srd/nist-special-database-19" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.nist.gov/srd/nist-special-database-19</a></span></span></span>. In this paper, we use a federated version of this Extended MNIST dataset, which is processed and provided by the LEAF<span id="footnote29" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">29</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">29</sup><span class="ltx_tag ltx_tag_note">29</span><a target="_blank" href="https://github.com/TalwalkarLab/leaf" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/TalwalkarLab/leaf</a></span></span></span> benchmark <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> under the BSD-2-Clause license.</p>
</div>
</li>
<li id="A2.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I3.i2.p1" class="ltx_para">
<p id="A2.I3.i2.p1.1" class="ltx_p"><span id="A2.I3.i2.p1.1.1" class="ltx_text ltx_font_bold">StackOverflow.</span> This dataset is derived from the Stack Overflow Data hosted by Kaggle<span id="footnote30" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">30</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">30</sup><span class="ltx_tag ltx_tag_note">30</span><a target="_blank" href="https://www.kaggle.com/stackoverflow/stackoverflow" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.kaggle.com/stackoverflow/stackoverflow</a></span></span></span>, under the CC BY-SA 3.0 license. In this paper, we use the federated version of this dataset processed by Tensorflow Federated <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, which is open-sourced under the Apache-2.0 license.</p>
</div>
</li>
<li id="A2.I3.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I3.i3.p1" class="ltx_para">
<p id="A2.I3.i3.p1.1" class="ltx_p"><span id="A2.I3.i3.p1.1.1" class="ltx_text ltx_font_bold">Landmarks.</span> The original Google Landmarks Dataset v2 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib76" title="" class="ltx_ref">76</a>]</cite> can be accessed from GitHub<span id="footnote31" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">31</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">31</sup><span class="ltx_tag ltx_tag_note">31</span><a target="_blank" href="https://github.com/cvdfoundation/google-landmark" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/cvdfoundation/google-landmark</a></span></span></span>: "The annotations are licensed by Google under CC BY 4.0 license. The images listed in this dataset are publicly available on the web, and may have different licenses". In this paper, we use a subset of the full dataset processed by <cite class="ltx_cite ltx_citemacro_citet">Hsu et al. [<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>: the data split function is available on GitHub<span id="footnote32" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">32</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">32</sup><span class="ltx_tag ltx_tag_note">32</span><a target="_blank" href="https://github.com/google-research/google-research/tree/master/federated_vision_datasets" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/google-research/google-research/tree/master/federated_vision_datasets</a></span></span></span> under the Apache-2.0 license.</p>
</div>
</li>
<li id="A2.I3.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I3.i4.p1" class="ltx_para">
<p id="A2.I3.i4.p1.1" class="ltx_p"><span id="A2.I3.i4.p1.1.1" class="ltx_text ltx_font_bold">TedMulti-EnEs.</span> The original TedMultiTranslate dataset is derived from the TED Talk transcripts <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib62" title="" class="ltx_ref">62</a>]</cite>. The TED Talk usage policy can be found from their website<span id="footnote33" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">33</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">33</sup><span class="ltx_tag ltx_tag_note">33</span><a target="_blank" href="https://www.ted.com/about/our-organization/our-policies-terms/ted-talks-usage-policy" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.ted.com/about/our-organization/our-policies-terms/ted-talks-usage-policy</a></span></span></span>. The TedMultiTranslate dataset can be downloaded from GitHub<span id="footnote34" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">34</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">34</sup><span class="ltx_tag ltx_tag_note">34</span><a target="_blank" href="https://github.com/neulab/word-embeddings-for-nmt" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/neulab/word-embeddings-for-nmt</a></span></span></span>. We were unable to find the license information. In this paper, we extract a subset of this dataset and group the examples by talk author and language<span id="A2.I3.i4.p1.1.2" class="ltx_ERROR undefined">\@footnotemark</span>. This preprocessing pipeline is available from our benchmark code<span id="footnote35" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">35</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">35</sup><span class="ltx_tag ltx_tag_note">35</span><a target="_blank" href="https://github.com/google-research/federated/tree/master/personalization_benchmark" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/google-research/federated/tree/master/personalization_benchmark</a></span></span></span> under the Apache-2.0 license.</p>
</div>
</li>
<li id="A2.I3.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I3.i5.p1" class="ltx_para">
<p id="A2.I3.i5.p1.1" class="ltx_p"><span id="A2.I3.i5.p1.1.1" class="ltx_text ltx_font_bold">Vehicle.</span> The Vehicle dataset is made publicly available by the original authors as a research dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. It has been subsequently used in recent work (e.g. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite>). License information was unavailable online. A copy of the dataset may be obtained from these URLs.<span id="footnote36" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">36</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">36</sup><span class="ltx_tag ltx_tag_note">36</span><a target="_blank" href="https://web.archive.org/web/20110515133717/http://www.ece.wisc.edu:80/~sensit/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://web.archive.org/web/20110515133717/http://www.ece.wisc.edu:80/~sensit/</a></span></span></span><sup id="A2.I3.i5.p1.1.2" class="ltx_sup">,</sup><span id="footnote37" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">37</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">37</sup><span class="ltx_tag ltx_tag_note">37</span><a target="_blank" href="https://web.archive.org/web/20200128092656/http://www.ecs.umass.edu:80/~mduarte/Software.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://web.archive.org/web/20200128092656/http://www.ecs.umass.edu:80/~mduarte/Software.html</a></span></span></span></p>
</div>
</li>
<li id="A2.I3.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I3.i6.p1" class="ltx_para">
<p id="A2.I3.i6.p1.1" class="ltx_p"><span id="A2.I3.i6.p1.1.1" class="ltx_text ltx_font_bold">School.</span> The School dataset was collected by a now-defunct entity and we were unable to find license information online.
The dataset has been made freely available online and can be obtained from this URL.<span id="footnote38" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">38</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">38</sup><span class="ltx_tag ltx_tag_note">38</span><a target="_blank" href="https://web.archive.org/web/20060718012309/http://www.mlwin.com/intro/datasets.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://web.archive.org/web/20060718012309/http://www.mlwin.com/intro/datasets.html</a></span></span></span> Alternatively, a copy may also be obtained from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib85" title="" class="ltx_ref">85</a>]</cite> under the GNU GPL v2 license.</p>
</div>
</li>
<li id="A2.I3.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A2.I3.i7.p1" class="ltx_para">
<p id="A2.I3.i7.p1.1" class="ltx_p"><span id="A2.I3.i7.p1.1.1" class="ltx_text ltx_font_bold">ADNI.</span> The term of use of ADNI can be found on their website.<span id="footnote39" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">39</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">39</sup><span class="ltx_tag ltx_tag_note">39</span><a target="_blank" href="https://adni.loni.usc.edu/terms-of-use/" title="" class="ltx_ref ltx_href">https://adni.loni.usc.edu/terms-of-use/</a></span></span></span></p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Hyperparameters and Implementation Details</h2>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">In this section, we describe the computation resources, the hyperparameter grids and the best hyperparameters for all the experiments described in Section <a href="#S4" title="4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and Section <a href="#S5" title="5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<section id="A3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1 </span>Cross-device</h3>

<div id="A3.SS1.p1" class="ltx_para">
<p id="A3.SS1.p1.1" class="ltx_p">The definitions of all hyperparameters can be found in <code id="A3.SS1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetuning_trainer.py</code> and <code id="A3.SS1.p1.1.2" class="ltx_verbatim ltx_font_typewriter">hypcluster_trainer.py</code> under <a target="_blank" href="https://github.com/google-research/federated/tree/master/personalization_benchmark/cross_device" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/google-research/federated/tree/master/personalization_benchmark/cross_device</a>.</p>
</div>
<div id="A3.SS1.p2" class="ltx_para">
<p id="A3.SS1.p2.1" class="ltx_p"><span id="A3.SS1.p2.1.1" class="ltx_text ltx_font_bold">Common hyparameters.</span> The following hyperparameters are fixed across all cross-device experiments. Note that we
focus on <em id="A3.SS1.p2.1.2" class="ltx_emph ltx_font_italic">FedAdam</em> here, i.e., a generalized version of FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib63" title="" class="ltx_ref">63</a>]</cite>, where the server
optimizer is Adam optimizer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib41" title="" class="ltx_ref">41</a>]</cite>, because <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> shows FedAdam gives
good performance across different datasets.</p>
<ul id="A3.I1" class="ltx_itemize">
<li id="A3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I1.i1.p1" class="ltx_para">
<p id="A3.I1.i1.p1.1" class="ltx_p"><code id="A3.I1.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_optimizer=[‘sgd’]</code><span id="A3.I1.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I1.i2.p1" class="ltx_para">
<p id="A3.I1.i2.p1.1" class="ltx_p"><code id="A3.I1.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_optimizer=[‘adam’]</code><span id="A3.I1.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I1.i3.p1" class="ltx_para">
<p id="A3.I1.i3.p1.1" class="ltx_p"><code id="A3.I1.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_beta_1=[0.9]</code><span id="A3.I1.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I1.i4.p1" class="ltx_para">
<p id="A3.I1.i4.p1.1" class="ltx_p"><code id="A3.I1.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_beta_2=[0.99]</code><span id="A3.I1.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I1.i5.p1" class="ltx_para">
<p id="A3.I1.i5.p1.1" class="ltx_p"><code id="A3.I1.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_epochs=[1]</code></p>
</div>
</li>
</ul>
<p id="A3.SS1.p2.2" class="ltx_p">(This is the number of local training epochs performed by a client during a round of training.)</p>
</div>
<div id="A3.SS1.p3" class="ltx_para">
<p id="A3.SS1.p3.1" class="ltx_p"><span id="A3.SS1.p3.1.1" class="ltx_text ltx_font_bold">Computation resources.</span> We summarize the computation resources allocated to run one experiment
(i.e., one point in the the hyperparameter grids) on each dataset: EMNIST (80 CPU cores); StackOverflow (400 GPU cores); Landmarks (16 GPUs); TedMulti-EnEs (2 GPUs). Note that the actual usage may be smaller than the allocated resources.</p>
</div>
<section id="A3.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.1.1 </span>FedAvg (i.e., FedAdam in our case) + Fine-tuning</h4>

<div id="A3.SS1.SSS1.p1" class="ltx_para">
<p id="A3.SS1.SSS1.p1.1" class="ltx_p">The definitions of all the hyperparaemeters for running this algorithm can be found
in <code id="A3.SS1.SSS1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetuning_trainer.py</code>. Since FedAvg + Fine-tuning is a two step process,
the hyperparameters contain FedAvg (i.e., FedAdam in our case) hyperparameters and fine-tuning hyperparameters.</p>
</div>
<div id="A3.SS1.SSS1.p2" class="ltx_para">
<p id="A3.SS1.SSS1.p2.1" class="ltx_p">For EMNIST and StackOverflow, we use the best FedAdam hyperparameters from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. For Landmarks,
we use the best FedAdam hyperparameters from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>. For TedMulti-EnEs, we
tune the FedAdam hyperparameters from scratch.</p>
</div>
<div id="A3.SS1.SSS1.p3" class="ltx_para">
<p id="A3.SS1.SSS1.p3.1" class="ltx_p">We have four fine-tuning hyperparameters. Their names are all started with
<code id="A3.SS1.SSS1.p3.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_</code>, including the optimizer used to fine-tune the model (where we focus
on SGD<span id="A3.SS1.SSS1.p3.1.2" class="ltx_ERROR undefined">\@footnotemark</span>), the fine-tuning learning rate, and whether to only fine-tune the last
layer. We also need to tune the number of local epochs used to fine-tune the model - this value is automatically found by <code id="A3.SS1.SSS1.p3.1.3" class="ltx_verbatim ltx_font_typewriter">finetuning_trainer.py</code> by
postprocessing the validation metrics. Specifically, we compute the average
validation accuracy of the fine-tuned models after every fine-tuning epoch
(until <code id="A3.SS1.SSS1.p3.1.4" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs</code>), and then find the best fine-tuning epoch that
gives the highest average validation accuracy (see, e.g., Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>(a)<span id="footnote40" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">40</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">40</sup><span class="ltx_tag ltx_tag_note">40</span>This figure shows how average test accuracy changes with respect to the fine-tuning epochs. Average validation accuracy follows a similar trend as the test accuracy.</span></span></span>). The best fine-tuned epoch will be
in the range <code id="A3.SS1.SSS1.p3.1.5" class="ltx_verbatim ltx_font_typewriter">[0, finetune_max_epochs]</code>, so all we need is to set a proper value
for <code id="A3.SS1.SSS1.p3.1.6" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs</code>.</p>
</div>
<section id="A3.SS1.SSS1.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">EMNIST</h5>

<div id="A3.SS1.SSS1.Px1.p1" class="ltx_para">
<p id="A3.SS1.SSS1.Px1.p1.1" class="ltx_p"><span id="A3.SS1.SSS1.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS1.SSS1.Px1.p2" class="ltx_para">
<p id="A3.SS1.SSS1.Px1.p2.1" class="ltx_p">Fixed hyperparameters (we use the best FedAdam hyperparameters from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>):</p>
<ul id="A3.I2" class="ltx_itemize">
<li id="A3.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i1.p1" class="ltx_para">
<p id="A3.I2.i1.p1.1" class="ltx_p"><code id="A3.I2.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_learning_rate=[0.1]</code><span id="A3.I2.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i2.p1" class="ltx_para">
<p id="A3.I2.i2.p1.1" class="ltx_p"><code id="A3.I2.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_learning_rate=[0.001]</code><span id="A3.I2.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i3.p1" class="ltx_para">
<p id="A3.I2.i3.p1.1" class="ltx_p"><code id="A3.I2.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_epsilon=[0.001]</code><span id="A3.I2.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i4.p1" class="ltx_para">
<p id="A3.I2.i4.p1.1" class="ltx_p"><code id="A3.I2.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_train_round=[50]</code><span id="A3.I2.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i5.p1" class="ltx_para">
<p id="A3.I2.i5.p1.1" class="ltx_p"><code id="A3.I2.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_batch_size=[20]</code><span id="A3.I2.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i6.p1" class="ltx_para">
<p id="A3.I2.i6.p1.1" class="ltx_p"><code id="A3.I2.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[1500]</code><span id="A3.I2.i6.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i7.p1" class="ltx_para">
<p id="A3.I2.i7.p1.1" class="ltx_p"><code id="A3.I2.i7.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[100]</code><span id="A3.I2.i7.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i8.p1" class="ltx_para">
<p id="A3.I2.i8.p1.1" class="ltx_p"><code id="A3.I2.i8.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[100]</code><span id="A3.I2.i8.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i9.p1" class="ltx_para">
<p id="A3.I2.i9.p1.1" class="ltx_p"><code id="A3.I2.i9.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_evaluation=[100]</code><span id="A3.I2.i9.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i10" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i10.p1" class="ltx_para">
<p id="A3.I2.i10.p1.1" class="ltx_p"><code id="A3.I2.i10.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_checkpoint=[100]</code><span id="A3.I2.i10.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i11" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i11.p1" class="ltx_para">
<p id="A3.I2.i11.p1.1" class="ltx_p"><code id="A3.I2.i11.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I2.i11.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I2.i12" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I2.i12.p1" class="ltx_para">
<p id="A3.I2.i12.p1.1" class="ltx_p"><code id="A3.I2.i12.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs=[20]</code><span id="A3.I2.i12.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS1.SSS1.Px1.p3" class="ltx_para">
<p id="A3.SS1.SSS1.Px1.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS1.SSS1.Px1.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I3" class="ltx_itemize">
<li id="A3.I3.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I3.i1.p1" class="ltx_para">
<p id="A3.I3.i1.p1.1" class="ltx_p"><code id="A3.I3.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_learning_rate=[0.001, 0.003, **0.005**, 0.01, 0.05] </code><span id="A3.I3.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I3.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I3.i2.p1" class="ltx_para">
<p id="A3.I3.i2.p1.1" class="ltx_p"><code id="A3.I3.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[True, **False**]</code><span id="A3.I3.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS1.SSS1.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">StackOverflow</h5>

<div id="A3.SS1.SSS1.Px2.p1" class="ltx_para">
<p id="A3.SS1.SSS1.Px2.p1.1" class="ltx_p"><span id="A3.SS1.SSS1.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS1.SSS1.Px2.p2" class="ltx_para">
<p id="A3.SS1.SSS1.Px2.p2.1" class="ltx_p">Fixed hyperparameters (we use the best FedAdam hyperparameters from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>):</p>
<ul id="A3.I4" class="ltx_itemize">
<li id="A3.I4.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i1.p1" class="ltx_para">
<p id="A3.I4.i1.p1.1" class="ltx_p"><code id="A3.I4.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_learning_rate=[1.0]</code><span id="A3.I4.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i2.p1" class="ltx_para">
<p id="A3.I4.i2.p1.1" class="ltx_p"><code id="A3.I4.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_learning_rate=[0.1]</code><span id="A3.I4.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i3.p1" class="ltx_para">
<p id="A3.I4.i3.p1.1" class="ltx_p"><code id="A3.I4.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_epsilon=[0.001]</code><span id="A3.I4.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i4.p1" class="ltx_para">
<p id="A3.I4.i4.p1.1" class="ltx_p"><code id="A3.I4.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_train_round=[200]</code><span id="A3.I4.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i5.p1" class="ltx_para">
<p id="A3.I4.i5.p1.1" class="ltx_p"><code id="A3.I4.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_batch_size=[16]</code><span id="A3.I4.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i6.p1" class="ltx_para">
<p id="A3.I4.i6.p1.1" class="ltx_p"><code id="A3.I4.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[1500]</code><span id="A3.I4.i6.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i7.p1" class="ltx_para">
<p id="A3.I4.i7.p1.1" class="ltx_p"><code id="A3.I4.i7.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[200]</code><span id="A3.I4.i7.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i8.p1" class="ltx_para">
<p id="A3.I4.i8.p1.1" class="ltx_p"><code id="A3.I4.i8.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[200]</code><span id="A3.I4.i8.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i9.p1" class="ltx_para">
<p id="A3.I4.i9.p1.1" class="ltx_p"><code id="A3.I4.i9.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_evaluation=[100]</code><span id="A3.I4.i9.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i10" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i10.p1" class="ltx_para">
<p id="A3.I4.i10.p1.1" class="ltx_p"><code id="A3.I4.i10.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_checkpoint=[100]</code><span id="A3.I4.i10.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i11" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i11.p1" class="ltx_para">
<p id="A3.I4.i11.p1.1" class="ltx_p"><code id="A3.I4.i11.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I4.i11.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I4.i12" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I4.i12.p1" class="ltx_para">
<p id="A3.I4.i12.p1.1" class="ltx_p"><code id="A3.I4.i12.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs=[20]</code><span id="A3.I4.i12.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS1.SSS1.Px2.p3" class="ltx_para">
<p id="A3.SS1.SSS1.Px2.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS1.SSS1.Px2.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I5" class="ltx_itemize">
<li id="A3.I5.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I5.i1.p1" class="ltx_para">
<p id="A3.I5.i1.p1.1" class="ltx_p"><code id="A3.I5.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_learning_rate=[**10^(-1.0)**, 10^(-0.6), 10^(-0.2), 10^(0.2),</code></p>
</div>
</li>
</ul>
<p id="A3.SS1.SSS1.Px2.p3.2" class="ltx_p"><code id="A3.SS1.SSS1.Px2.p3.2.1" class="ltx_verbatim ltx_font_typewriter">10^(0.6), 10^(1.0)]</code><span id="A3.SS1.SSS1.Px2.p3.2.2" class="ltx_text">

<span id="A3.I5.i2" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="A3.I5.i2.p1" class="ltx_para">
<span id="A3.I5.i2.p1.1" class="ltx_p"><code id="A3.I5.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[True, **False**]</code><span id="A3.I5.i2.p1.1.2" class="ltx_text"></span></span>
</span></span></span></p>
</div>
</section>
<section id="A3.SS1.SSS1.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Landmarks</h5>

<div id="A3.SS1.SSS1.Px3.p1" class="ltx_para">
<p id="A3.SS1.SSS1.Px3.p1.1" class="ltx_p"><span id="A3.SS1.SSS1.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS1.SSS1.Px3.p2" class="ltx_para">
<p id="A3.SS1.SSS1.Px3.p2.1" class="ltx_p">Fixed hyperparameters (we use the best FedAdam hyperparameters from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib74" title="" class="ltx_ref">74</a>]</cite>):</p>
<ul id="A3.I6" class="ltx_itemize">
<li id="A3.I6.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i1.p1" class="ltx_para">
<p id="A3.I6.i1.p1.1" class="ltx_p"><code id="A3.I6.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_learning_rate=[0.01]</code><span id="A3.I6.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i2.p1" class="ltx_para">
<p id="A3.I6.i2.p1.1" class="ltx_p"><code id="A3.I6.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_learning_rate=[10^(-2.5)]</code><span id="A3.I6.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i3.p1" class="ltx_para">
<p id="A3.I6.i3.p1.1" class="ltx_p"><code id="A3.I6.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_epsilon=[10^(-5)]</code><span id="A3.I6.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i4.p1" class="ltx_para">
<p id="A3.I6.i4.p1.1" class="ltx_p"><code id="A3.I6.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_train_round=[64]</code><span id="A3.I6.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i5.p1" class="ltx_para">
<p id="A3.I6.i5.p1.1" class="ltx_p"><code id="A3.I6.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_batch_size=[16]</code><span id="A3.I6.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i6.p1" class="ltx_para">
<p id="A3.I6.i6.p1.1" class="ltx_p"><code id="A3.I6.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[30000]</code><span id="A3.I6.i6.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i7.p1" class="ltx_para">
<p id="A3.I6.i7.p1.1" class="ltx_p"><code id="A3.I6.i7.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[32]</code><span id="A3.I6.i7.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i8.p1" class="ltx_para">
<p id="A3.I6.i8.p1.1" class="ltx_p"><code id="A3.I6.i8.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[96]</code><span id="A3.I6.i8.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i9.p1" class="ltx_para">
<p id="A3.I6.i9.p1.1" class="ltx_p"><code id="A3.I6.i9.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_evaluation=[1000]</code><span id="A3.I6.i9.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i10" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i10.p1" class="ltx_para">
<p id="A3.I6.i10.p1.1" class="ltx_p"><code id="A3.I6.i10.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_checkpoint=[1000]</code><span id="A3.I6.i10.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i11" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i11.p1" class="ltx_para">
<p id="A3.I6.i11.p1.1" class="ltx_p"><code id="A3.I6.i11.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I6.i11.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I6.i12" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I6.i12.p1" class="ltx_para">
<p id="A3.I6.i12.p1.1" class="ltx_p"><code id="A3.I6.i12.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs=[10]</code><span id="A3.I6.i12.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS1.SSS1.Px3.p3" class="ltx_para">
<p id="A3.SS1.SSS1.Px3.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS1.SSS1.Px3.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I7" class="ltx_itemize">
<li id="A3.I7.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I7.i1.p1" class="ltx_para">
<p id="A3.I7.i1.p1.1" class="ltx_p"><code id="A3.I7.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_learning_rate=[0.0001, 0.001, 0.005, **0.007**, 0.01, 0.03, 0.05]</code><span id="A3.I7.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I7.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I7.i2.p1" class="ltx_para">
<p id="A3.I7.i2.p1.1" class="ltx_p"><code id="A3.I7.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[True, **False**]</code><span id="A3.I7.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS1.SSS1.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">TedMulti-EnEs</h5>

<div id="A3.SS1.SSS1.Px4.p1" class="ltx_para">
<p id="A3.SS1.SSS1.Px4.p1.1" class="ltx_p"><span id="A3.SS1.SSS1.Px4.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS1.SSS1.Px4.p2" class="ltx_para">
<p id="A3.SS1.SSS1.Px4.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I8" class="ltx_itemize">
<li id="A3.I8.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i1.p1" class="ltx_para">
<p id="A3.I8.i1.p1.1" class="ltx_p"><code id="A3.I8.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_train_round=[32]</code><span id="A3.I8.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I8.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i2.p1" class="ltx_para">
<p id="A3.I8.i2.p1.1" class="ltx_p"><code id="A3.I8.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_batch_size=[16]</code><span id="A3.I8.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I8.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i3.p1" class="ltx_para">
<p id="A3.I8.i3.p1.1" class="ltx_p"><code id="A3.I8.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[1500]</code><span id="A3.I8.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I8.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i4.p1" class="ltx_para">
<p id="A3.I8.i4.p1.1" class="ltx_p"><code id="A3.I8.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[98]</code><span id="A3.I8.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I8.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i5.p1" class="ltx_para">
<p id="A3.I8.i5.p1.1" class="ltx_p"><code id="A3.I8.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[117]</code><span id="A3.I8.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I8.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i6.p1" class="ltx_para">
<p id="A3.I8.i6.p1.1" class="ltx_p"><code id="A3.I8.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_evaluation=[30]</code><span id="A3.I8.i6.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I8.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i7.p1" class="ltx_para">
<p id="A3.I8.i7.p1.1" class="ltx_p"><code id="A3.I8.i7.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_checkpoint=[50]</code><span id="A3.I8.i7.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I8.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i8.p1" class="ltx_para">
<p id="A3.I8.i8.p1.1" class="ltx_p"><code id="A3.I8.i8.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I8.i8.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I8.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I8.i9.p1" class="ltx_para">
<p id="A3.I8.i9.p1.1" class="ltx_p"><code id="A3.I8.i9.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs=[20]</code><span id="A3.I8.i9.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS1.SSS1.Px4.p3" class="ltx_para">
<p id="A3.SS1.SSS1.Px4.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS1.SSS1.Px4.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I9" class="ltx_itemize">
<li id="A3.I9.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I9.i1.p1" class="ltx_para">
<p id="A3.I9.i1.p1.1" class="ltx_p"><code id="A3.I9.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_learning_rate=[10^(-2.5), 10^(-2), 10^(-1.5), **10^(-1)**, 10^(-0.5)]</code><span id="A3.I9.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I9.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I9.i2.p1" class="ltx_para">
<p id="A3.I9.i2.p1.1" class="ltx_p"><code id="A3.I9.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_learning_rate=[10^(-2.5), **10^(-2)**, 10^(-1.5), 10^(-1), 10^(-0.5)]</code><span id="A3.I9.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I9.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I9.i3.p1" class="ltx_para">
<p id="A3.I9.i3.p1.1" class="ltx_p"><code id="A3.I9.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_learning_rate=[**0.0005**, 0.0007, 0.001, 0.002, 0.003]</code><span id="A3.I9.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I9.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I9.i4.p1" class="ltx_para">
<p id="A3.I9.i4.p1.1" class="ltx_p"><code id="A3.I9.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[True, **False**]</code><span id="A3.I9.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="A3.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.1.2 </span>HypCluster</h4>

<div id="A3.SS1.SSS2.p1" class="ltx_para">
<p id="A3.SS1.SSS2.p1.1" class="ltx_p">Definitions of all the hyperparameters for this algorithm can be found in <code id="A3.SS1.SSS2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">hypcluster_trainer.py</code>. Because HypCluster with random initialization usually ends up with all clients choosing the same model (i.e., the mode
collapse issue shown in Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), we will use models learned by FedAvg to warmstart HypCluster. Specifically, we will run FedAvg (with the hyperparameters in Appendix <a href="#A3.SS1.SSS1" title="C.1.1 FedAvg (i.e., FedAdam in our case) + Fine-tuning ‣ C.1 Cross-device ‣ Appendix C Hyperparameters and Implementation Details ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C.1.1</span></a> above) for <code id="A3.SS1.SSS2.p1.1.2" class="ltx_verbatim ltx_font_typewriter">num_warmstart_fedavg_rounds</code>; repeat this for <code id="A3.SS1.SSS2.p1.1.3" class="ltx_verbatim ltx_font_typewriter">num_clusters</code> times, and use the models to warmstart HypCluster.</p>
</div>
<section id="A3.SS1.SSS2.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">EMNIST</h5>

<div id="A3.SS1.SSS2.Px1.p1" class="ltx_para">
<p id="A3.SS1.SSS2.Px1.p1.1" class="ltx_p"><span id="A3.SS1.SSS2.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS1.SSS2.Px1.p2" class="ltx_para">
<p id="A3.SS1.SSS2.Px1.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I10" class="ltx_itemize">
<li id="A3.I10.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I10.i1.p1" class="ltx_para">
<p id="A3.I10.i1.p1.1" class="ltx_p"><code id="A3.I10.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_train_round=[50]</code><span id="A3.I10.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I10.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I10.i2.p1" class="ltx_para">
<p id="A3.I10.i2.p1.1" class="ltx_p"><code id="A3.I10.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_batch_size=[20]</code><span id="A3.I10.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I10.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I10.i3.p1" class="ltx_para">
<p id="A3.I10.i3.p1.1" class="ltx_p"><code id="A3.I10.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[1500]</code><span id="A3.I10.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I10.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I10.i4.p1" class="ltx_para">
<p id="A3.I10.i4.p1.1" class="ltx_p"><code id="A3.I10.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[100]</code><span id="A3.I10.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I10.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I10.i5.p1" class="ltx_para">
<p id="A3.I10.i5.p1.1" class="ltx_p"><code id="A3.I10.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[100]</code><span id="A3.I10.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I10.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I10.i6.p1" class="ltx_para">
<p id="A3.I10.i6.p1.1" class="ltx_p"><code id="A3.I10.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_evaluation=[100]</code><span id="A3.I10.i6.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I10.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I10.i7.p1" class="ltx_para">
<p id="A3.I10.i7.p1.1" class="ltx_p"><code id="A3.I10.i7.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_checkpoint=[100]</code><span id="A3.I10.i7.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I10.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I10.i8.p1" class="ltx_para">
<p id="A3.I10.i8.p1.1" class="ltx_p"><code id="A3.I10.i8.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_warmstart_fedavg_rounds=[100]</code><span id="A3.I10.i8.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS1.SSS2.Px1.p3" class="ltx_para">
<p id="A3.SS1.SSS2.Px1.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS1.SSS2.Px1.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I11" class="ltx_itemize">
<li id="A3.I11.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I11.i1.p1" class="ltx_para">
<p id="A3.I11.i1.p1.1" class="ltx_p"><code id="A3.I11.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_learning_rate=[0.01, 0.05, **0.1**, 0.2]</code><span id="A3.I11.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I11.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I11.i2.p1" class="ltx_para">
<p id="A3.I11.i2.p1.1" class="ltx_p"><code id="A3.I11.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_learning_rate=[0.0001, 0.0005, **0.001**, 0.002]</code><span id="A3.I11.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I11.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I11.i3.p1" class="ltx_para">
<p id="A3.I11.i3.p1.1" class="ltx_p"><code id="A3.I11.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_epsilon=[**0.0001**, 0.0005, 0.001, 0.002]</code><span id="A3.I11.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I11.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I11.i4.p1" class="ltx_para">
<p id="A3.I11.i4.p1.1" class="ltx_p"><code id="A3.I11.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_clusters=[**2**, 3, 4, 5]</code><span id="A3.I11.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS1.SSS2.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">StackOverflow</h5>

<div id="A3.SS1.SSS2.Px2.p1" class="ltx_para">
<p id="A3.SS1.SSS2.Px2.p1.1" class="ltx_p"><span id="A3.SS1.SSS2.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS1.SSS2.Px2.p2" class="ltx_para">
<p id="A3.SS1.SSS2.Px2.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I12" class="ltx_itemize">
<li id="A3.I12.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I12.i1.p1" class="ltx_para">
<p id="A3.I12.i1.p1.1" class="ltx_p"><code id="A3.I12.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_train_round=[200]</code><span id="A3.I12.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I12.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I12.i2.p1" class="ltx_para">
<p id="A3.I12.i2.p1.1" class="ltx_p"><code id="A3.I12.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_batch_size=[16]</code><span id="A3.I12.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I12.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I12.i3.p1" class="ltx_para">
<p id="A3.I12.i3.p1.1" class="ltx_p"><code id="A3.I12.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[1500]</code><span id="A3.I12.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I12.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I12.i4.p1" class="ltx_para">
<p id="A3.I12.i4.p1.1" class="ltx_p"><code id="A3.I12.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[200]</code><span id="A3.I12.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I12.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I12.i5.p1" class="ltx_para">
<p id="A3.I12.i5.p1.1" class="ltx_p"><code id="A3.I12.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[200]</code><span id="A3.I12.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I12.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I12.i6.p1" class="ltx_para">
<p id="A3.I12.i6.p1.1" class="ltx_p"><code id="A3.I12.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_evaluation=[100]</code><span id="A3.I12.i6.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I12.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I12.i7.p1" class="ltx_para">
<p id="A3.I12.i7.p1.1" class="ltx_p"><code id="A3.I12.i7.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_checkpoint=[100]</code><span id="A3.I12.i7.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I12.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I12.i8.p1" class="ltx_para">
<p id="A3.I12.i8.p1.1" class="ltx_p"><code id="A3.I12.i8.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_warmstart_fedavg_rounds=[100]</code><span id="A3.I12.i8.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS1.SSS2.Px2.p3" class="ltx_para">
<p id="A3.SS1.SSS2.Px2.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS1.SSS2.Px2.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I13" class="ltx_itemize">
<li id="A3.I13.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I13.i1.p1" class="ltx_para">
<p id="A3.I13.i1.p1.1" class="ltx_p"><code id="A3.I13.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_learning_rate=[0.1, **0.5**, 1.0, 2.0]</code><span id="A3.I13.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I13.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I13.i2.p1" class="ltx_para">
<p id="A3.I13.i2.p1.1" class="ltx_p"><code id="A3.I13.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_learning_rate=[**0.01**, 0.05, 0.1, 0.2]</code><span id="A3.I13.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I13.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I13.i3.p1" class="ltx_para">
<p id="A3.I13.i3.p1.1" class="ltx_p"><code id="A3.I13.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_epsilon=[10^(-5), **10^(-4)**, 10^(-3), 10^(-2)]</code><span id="A3.I13.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I13.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I13.i4.p1" class="ltx_para">
<p id="A3.I13.i4.p1.1" class="ltx_p"><code id="A3.I13.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_clusters=[**2**, 3, 4, 5]</code><span id="A3.I13.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS1.SSS2.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Landmarks</h5>

<div id="A3.SS1.SSS2.Px3.p1" class="ltx_para">
<p id="A3.SS1.SSS2.Px3.p1.1" class="ltx_p"><span id="A3.SS1.SSS2.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS1.SSS2.Px3.p2" class="ltx_para">
<p id="A3.SS1.SSS2.Px3.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I14" class="ltx_itemize">
<li id="A3.I14.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I14.i1.p1" class="ltx_para">
<p id="A3.I14.i1.p1.1" class="ltx_p"><code id="A3.I14.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_train_round=[64]</code><span id="A3.I14.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I14.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I14.i2.p1" class="ltx_para">
<p id="A3.I14.i2.p1.1" class="ltx_p"><code id="A3.I14.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_batch_size=[16]</code><span id="A3.I14.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I14.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I14.i3.p1" class="ltx_para">
<p id="A3.I14.i3.p1.1" class="ltx_p"><code id="A3.I14.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[30000]</code><span id="A3.I14.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I14.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I14.i4.p1" class="ltx_para">
<p id="A3.I14.i4.p1.1" class="ltx_p"><code id="A3.I14.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[32]</code><span id="A3.I14.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I14.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I14.i5.p1" class="ltx_para">
<p id="A3.I14.i5.p1.1" class="ltx_p"><code id="A3.I14.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[96]</code><span id="A3.I14.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I14.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I14.i6.p1" class="ltx_para">
<p id="A3.I14.i6.p1.1" class="ltx_p"><code id="A3.I14.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_evaluation=[1000]</code><span id="A3.I14.i6.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I14.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I14.i7.p1" class="ltx_para">
<p id="A3.I14.i7.p1.1" class="ltx_p"><code id="A3.I14.i7.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_checkpoint=[1000]</code><span id="A3.I14.i7.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I14.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I14.i8.p1" class="ltx_para">
<p id="A3.I14.i8.p1.1" class="ltx_p"><code id="A3.I14.i8.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_warmstart_fedavg_rounds=[8000]</code><span id="A3.I14.i8.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS1.SSS2.Px3.p3" class="ltx_para">
<p id="A3.SS1.SSS2.Px3.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS1.SSS2.Px3.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I15" class="ltx_itemize">
<li id="A3.I15.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I15.i1.p1" class="ltx_para">
<p id="A3.I15.i1.p1.1" class="ltx_p"><code id="A3.I15.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_learning_rate=[10^(-3), **10^(-2.5)**, 10^(-2), 10^(-1.5)]</code><span id="A3.I15.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I15.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I15.i2.p1" class="ltx_para">
<p id="A3.I15.i2.p1.1" class="ltx_p"><code id="A3.I15.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_learning_rate=[10^(-3.5), **10^(-3)**, 10^(-2.5), 10^(-2)]</code><span id="A3.I15.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I15.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I15.i3.p1" class="ltx_para">
<p id="A3.I15.i3.p1.1" class="ltx_p"><code id="A3.I15.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_epsilon=[10^(-6), 10^(-5), **10^(-4)**, 10^(-3)]</code><span id="A3.I15.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I15.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I15.i4.p1" class="ltx_para">
<p id="A3.I15.i4.p1.1" class="ltx_p"><code id="A3.I15.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_clusters=[**2**, 3, 4]</code><span id="A3.I15.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS1.SSS2.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">TedMulti-EnEs</h5>

<div id="A3.SS1.SSS2.Px4.p1" class="ltx_para">
<p id="A3.SS1.SSS2.Px4.p1.1" class="ltx_p"><span id="A3.SS1.SSS2.Px4.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS1.SSS2.Px4.p2" class="ltx_para">
<p id="A3.SS1.SSS2.Px4.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I16" class="ltx_itemize">
<li id="A3.I16.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i1.p1" class="ltx_para">
<p id="A3.I16.i1.p1.1" class="ltx_p"><code id="A3.I16.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_train_round=[32]</code><span id="A3.I16.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I16.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i2.p1" class="ltx_para">
<p id="A3.I16.i2.p1.1" class="ltx_p"><code id="A3.I16.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">train_batch_size=[16]</code><span id="A3.I16.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I16.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i3.p1" class="ltx_para">
<p id="A3.I16.i3.p1.1" class="ltx_p"><code id="A3.I16.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[1500]</code><span id="A3.I16.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I16.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i4.p1" class="ltx_para">
<p id="A3.I16.i4.p1.1" class="ltx_p"><code id="A3.I16.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[98]</code><span id="A3.I16.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I16.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i5.p1" class="ltx_para">
<p id="A3.I16.i5.p1.1" class="ltx_p"><code id="A3.I16.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[117]</code><span id="A3.I16.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I16.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i6.p1" class="ltx_para">
<p id="A3.I16.i6.p1.1" class="ltx_p"><code id="A3.I16.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_evaluation=[30]</code><span id="A3.I16.i6.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I16.i7" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i7.p1" class="ltx_para">
<p id="A3.I16.i7.p1.1" class="ltx_p"><code id="A3.I16.i7.p1.1.1" class="ltx_verbatim ltx_font_typewriter">rounds_per_checkpoint=[50]</code><span id="A3.I16.i7.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I16.i8" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i8.p1" class="ltx_para">
<p id="A3.I16.i8.p1.1" class="ltx_p"><code id="A3.I16.i8.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_clusters=[2]</code><span id="A3.I16.i8.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I16.i9" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I16.i9.p1" class="ltx_para">
<p id="A3.I16.i9.p1.1" class="ltx_p"><code id="A3.I16.i9.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_warmstart_fedavg_rounds=[100]</code><span id="A3.I16.i9.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS1.SSS2.Px4.p3" class="ltx_para">
<p id="A3.SS1.SSS2.Px4.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS1.SSS2.Px4.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I17" class="ltx_itemize">
<li id="A3.I17.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I17.i1.p1" class="ltx_para">
<p id="A3.I17.i1.p1.1" class="ltx_p"><code id="A3.I17.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_learning_rate=[10^(-2.5), 10^(-2), 10^(-1.5), **10^(-1)**, 10^(-0.5)]</code><span id="A3.I17.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I17.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I17.i2.p1" class="ltx_para">
<p id="A3.I17.i2.p1.1" class="ltx_p"><code id="A3.I17.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_learning_rate=[10^(-2.5), **10^(-2)**, 10^(-1.5), 10^(-1), 10^(-0.5)]</code><span id="A3.I17.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I17.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I17.i3.p1" class="ltx_para">
<p id="A3.I17.i3.p1.1" class="ltx_p"><code id="A3.I17.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_adam_epsilon=[**0.001**, 0.00001]</code><span id="A3.I17.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
</section>
</section>
<section id="A3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2 </span>FedAvg + kNN-Per</h3>

<div id="A3.SS2.p1" class="ltx_para">
<p id="A3.SS2.p1.1" class="ltx_p">We use the model trained by FedAvg (same as "FedAvg + Fine-tuning") as the global model for personalization. Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>, we set the number of nearest neighbors <math id="A3.SS2.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A3.SS2.p1.1.m1.1a"><mi id="A3.SS2.p1.1.m1.1.1" xref="A3.SS2.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A3.SS2.p1.1.m1.1b"><ci id="A3.SS2.p1.1.m1.1.1.cmml" xref="A3.SS2.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p1.1.m1.1c">k</annotation></semantics></math> to 10 for all experiments (the paper shows that the performance of kNN-Per is robust to this value). As mentioned in Section <a href="#S4.SS3" title="4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>, we tune the interpolation coefficient globally for all clients (i.e., every client use the same coefficient), because tuning per-client specific coefficient performed worse. The tuned interpolation hyperparameters are shown below (best values are highlighted in <code id="A3.SS2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<section id="A3.SS2.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">EMNIST</h5>

<div id="A3.SS2.SSS0.Px1.p1" class="ltx_para">
<p id="A3.SS2.SSS0.Px1.p1.1" class="ltx_p"><span id="A3.SS2.SSS0.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS2.SSS0.Px1.p2" class="ltx_para">
<p id="A3.SS2.SSS0.Px1.p2.1" class="ltx_p"><code id="A3.SS2.SSS0.Px1.p2.1.1" class="ltx_verbatim ltx_font_typewriter">coefficient=[0, 0.1, 0.2, 0.3, **0.4**, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]</code><span id="A3.SS2.SSS0.Px1.p2.1.2" class="ltx_text"></span></p>
</div>
</section>
<section id="A3.SS2.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">StackOverflow</h5>

<div id="A3.SS2.SSS0.Px2.p1" class="ltx_para">
<p id="A3.SS2.SSS0.Px2.p1.1" class="ltx_p"><span id="A3.SS2.SSS0.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS2.SSS0.Px2.p2" class="ltx_para">
<p id="A3.SS2.SSS0.Px2.p2.1" class="ltx_p"><code id="A3.SS2.SSS0.Px2.p2.1.1" class="ltx_verbatim ltx_font_typewriter">coefficient=[0, 0.1, **0.2**, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]</code><span id="A3.SS2.SSS0.Px2.p2.1.2" class="ltx_text"></span></p>
</div>
</section>
<section id="A3.SS2.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Landmarks</h5>

<div id="A3.SS2.SSS0.Px3.p1" class="ltx_para">
<p id="A3.SS2.SSS0.Px3.p1.1" class="ltx_p"><span id="A3.SS2.SSS0.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS2.SSS0.Px3.p2" class="ltx_para">
<p id="A3.SS2.SSS0.Px3.p2.1" class="ltx_p"><code id="A3.SS2.SSS0.Px3.p2.1.1" class="ltx_verbatim ltx_font_typewriter">coefficient=[0, 0.1, 0.2, 0.3, 0.4, **0.5**, 0.6, 0.7, 0.8, 0.9, 1.0]</code><span id="A3.SS2.SSS0.Px3.p2.1.2" class="ltx_text"></span></p>
</div>
</section>
<section id="A3.SS2.SSS0.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">TedMulti-EnEs</h5>

<div id="A3.SS2.SSS0.Px4.p1" class="ltx_para">
<p id="A3.SS2.SSS0.Px4.p1.1" class="ltx_p"><span id="A3.SS2.SSS0.Px4.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS2.SSS0.Px4.p2" class="ltx_para">
<p id="A3.SS2.SSS0.Px4.p2.1" class="ltx_p"><code id="A3.SS2.SSS0.Px4.p2.1.1" class="ltx_verbatim ltx_font_typewriter">coefficient=[0, **0.1**, 0.2, 0.3, 0.4, 0.5, 0.6, 0.7, 0.8, 0.9, 1.0]</code><span id="A3.SS2.SSS0.Px4.p2.1.2" class="ltx_text"></span></p>
</div>
</section>
<section id="A3.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.2.1 </span>Local training</h4>

<div id="A3.SS2.SSS1.p1" class="ltx_para">
<p id="A3.SS2.SSS1.p1.1" class="ltx_p">Traning a local model at each client can be done by running
<code id="A3.SS2.SSS1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetuning_trainer.py</code> with <code id="A3.SS2.SSS1.p1.1.2" class="ltx_verbatim ltx_font_typewriter">total_rounds=0</code>. Note that what happens is that every client fine-tunes a random model (sent by the server) locally. As long as
we set a large enough <code id="A3.SS2.SSS1.p1.1.3" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs</code> (the best number of local epochs will be found after postprocessing the validation metrics), this will give the desired
metrics where each client learns a local model without federation.</p>
</div>
<section id="A3.SS2.SSS1.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">EMNIST</h5>

<div id="A3.SS2.SSS1.Px1.p1" class="ltx_para">
<p id="A3.SS2.SSS1.Px1.p1.1" class="ltx_p"><span id="A3.SS2.SSS1.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS2.SSS1.Px1.p2" class="ltx_para">
<p id="A3.SS2.SSS1.Px1.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I18" class="ltx_itemize">
<li id="A3.I18.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I18.i1.p1" class="ltx_para">
<p id="A3.I18.i1.p1.1" class="ltx_p"><code id="A3.I18.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[0]</code><span id="A3.I18.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I18.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I18.i2.p1" class="ltx_para">
<p id="A3.I18.i2.p1.1" class="ltx_p"><code id="A3.I18.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[100]</code><span id="A3.I18.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I18.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I18.i3.p1" class="ltx_para">
<p id="A3.I18.i3.p1.1" class="ltx_p"><code id="A3.I18.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[100]</code><span id="A3.I18.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I18.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I18.i4.p1" class="ltx_para">
<p id="A3.I18.i4.p1.1" class="ltx_p"><code id="A3.I18.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I18.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I18.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I18.i5.p1" class="ltx_para">
<p id="A3.I18.i5.p1.1" class="ltx_p"><code id="A3.I18.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs=[200]</code><span id="A3.I18.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS2.SSS1.Px1.p3" class="ltx_para">
<p id="A3.SS2.SSS1.Px1.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS2.SSS1.Px1.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I19" class="ltx_itemize">
<li id="A3.I19.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I19.i1.p1" class="ltx_para">
<p id="A3.I19.i1.p1.1" class="ltx_p"><code id="A3.I19.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[True, **False**]</code><span id="A3.I19.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I19.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I19.i2.p1" class="ltx_para">
<p id="A3.I19.i2.p1.1" class="ltx_p"><code id="A3.I19.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_learning_rate=[0.001, 0.01, **0.1**, 0.5, 1.0]</code><span id="A3.I19.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS2.SSS1.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">StackOverflow</h5>

<div id="A3.SS2.SSS1.Px2.p1" class="ltx_para">
<p id="A3.SS2.SSS1.Px2.p1.1" class="ltx_p"><span id="A3.SS2.SSS1.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS2.SSS1.Px2.p2" class="ltx_para">
<p id="A3.SS2.SSS1.Px2.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I20" class="ltx_itemize">
<li id="A3.I20.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I20.i1.p1" class="ltx_para">
<p id="A3.I20.i1.p1.1" class="ltx_p"><code id="A3.I20.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[0]</code><span id="A3.I20.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I20.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I20.i2.p1" class="ltx_para">
<p id="A3.I20.i2.p1.1" class="ltx_p"><code id="A3.I20.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[200]</code><span id="A3.I20.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I20.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I20.i3.p1" class="ltx_para">
<p id="A3.I20.i3.p1.1" class="ltx_p"><code id="A3.I20.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[200]</code><span id="A3.I20.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I20.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I20.i4.p1" class="ltx_para">
<p id="A3.I20.i4.p1.1" class="ltx_p"><code id="A3.I20.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I20.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I20.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I20.i5.p1" class="ltx_para">
<p id="A3.I20.i5.p1.1" class="ltx_p"><code id="A3.I20.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs=[200]</code><span id="A3.I20.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS2.SSS1.Px2.p3" class="ltx_para">
<p id="A3.SS2.SSS1.Px2.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS2.SSS1.Px2.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I21" class="ltx_itemize">
<li id="A3.I21.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I21.i1.p1" class="ltx_para">
<p id="A3.I21.i1.p1.1" class="ltx_p"><code id="A3.I21.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[True, **False**]</code><span id="A3.I21.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I21.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I21.i2.p1" class="ltx_para">
<p id="A3.I21.i2.p1.1" class="ltx_p"><code id="A3.I21.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_learning_rate=[0.1, **0.5**, 1.0]</code><span id="A3.I21.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS2.SSS1.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Landmarks</h5>

<div id="A3.SS2.SSS1.Px3.p1" class="ltx_para">
<p id="A3.SS2.SSS1.Px3.p1.1" class="ltx_p"><span id="A3.SS2.SSS1.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS2.SSS1.Px3.p2" class="ltx_para">
<p id="A3.SS2.SSS1.Px3.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I22" class="ltx_itemize">
<li id="A3.I22.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I22.i1.p1" class="ltx_para">
<p id="A3.I22.i1.p1.1" class="ltx_p"><code id="A3.I22.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[0]</code><span id="A3.I22.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I22.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I22.i2.p1" class="ltx_para">
<p id="A3.I22.i2.p1.1" class="ltx_p"><code id="A3.I22.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[32]</code><span id="A3.I22.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I22.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I22.i3.p1" class="ltx_para">
<p id="A3.I22.i3.p1.1" class="ltx_p"><code id="A3.I22.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[96]</code><span id="A3.I22.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I22.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I22.i4.p1" class="ltx_para">
<p id="A3.I22.i4.p1.1" class="ltx_p"><code id="A3.I22.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I22.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I22.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I22.i5.p1" class="ltx_para">
<p id="A3.I22.i5.p1.1" class="ltx_p"><code id="A3.I22.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs=[50]</code><span id="A3.I22.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS2.SSS1.Px3.p3" class="ltx_para">
<p id="A3.SS2.SSS1.Px3.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS2.SSS1.Px3.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I23" class="ltx_itemize">
<li id="A3.I23.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I23.i1.p1" class="ltx_para">
<p id="A3.I23.i1.p1.1" class="ltx_p"><code id="A3.I23.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[True, **False**]</code><span id="A3.I23.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I23.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I23.i2.p1" class="ltx_para">
<p id="A3.I23.i2.p1.1" class="ltx_p"><code id="A3.I23.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_learning_rate=[0.0001, 0.001, **0.01**, 0.1]</code><span id="A3.I23.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS2.SSS1.Px4" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">TedMulti-EnEs</h5>

<div id="A3.SS2.SSS1.Px4.p1" class="ltx_para">
<p id="A3.SS2.SSS1.Px4.p1.1" class="ltx_p"><span id="A3.SS2.SSS1.Px4.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS2.SSS1.Px4.p2" class="ltx_para">
<p id="A3.SS2.SSS1.Px4.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I24" class="ltx_itemize">
<li id="A3.I24.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I24.i1.p1" class="ltx_para">
<p id="A3.I24.i1.p1.1" class="ltx_p"><code id="A3.I24.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">total_rounds=[0]</code><span id="A3.I24.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I24.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I24.i2.p1" class="ltx_para">
<p id="A3.I24.i2.p1.1" class="ltx_p"><code id="A3.I24.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">valid_clients_per_round=[98]</code><span id="A3.I24.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I24.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I24.i3.p1" class="ltx_para">
<p id="A3.I24.i3.p1.1" class="ltx_p"><code id="A3.I24.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">test_clients_per_round=[117]</code><span id="A3.I24.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I24.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I24.i4.p1" class="ltx_para">
<p id="A3.I24.i4.p1.1" class="ltx_p"><code id="A3.I24.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I24.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I24.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I24.i5.p1" class="ltx_para">
<p id="A3.I24.i5.p1.1" class="ltx_p"><code id="A3.I24.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_max_epochs=[50]</code><span id="A3.I24.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS2.SSS1.Px4.p3" class="ltx_para">
<p id="A3.SS2.SSS1.Px4.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS2.SSS1.Px4.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I25" class="ltx_itemize">
<li id="A3.I25.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I25.i1.p1" class="ltx_para">
<p id="A3.I25.i1.p1.1" class="ltx_p"><code id="A3.I25.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[**True**, False]</code><span id="A3.I25.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I25.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I25.i2.p1" class="ltx_para">
<p id="A3.I25.i2.p1.1" class="ltx_p"><code id="A3.I25.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_learning_rate=[0.5, **1.0**, 2.0, 3.0]</code><span id="A3.I25.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
</section>
</section>
<section id="A3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3 </span>Cross-silo</h3>

<div id="A3.SS3.p1" class="ltx_para">
<p id="A3.SS3.p1.1" class="ltx_p">The definitions of hyperparameters can be found in <code id="A3.SS3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">main.py</code> in the implementation folders for the Vehicle, School, and ADNI datasets respectively at <a target="_blank" href="https://github.com/google-research/federated/tree/master/personalization_benchmark/cross_silo" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/google-research/federated/tree/master/personalization_benchmark/cross_silo</a>.</p>
</div>
<div id="A3.SS3.p2" class="ltx_para">
<p id="A3.SS3.p2.1" class="ltx_p"><span id="A3.SS3.p2.1.1" class="ltx_text ltx_font_bold">Common hyperparameters.</span>
The following hyperparameters are fixed across all cross-silo experiments:</p>
<ul id="A3.I26" class="ltx_itemize">
<li id="A3.I26.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I26.i1.p1" class="ltx_para">
<p id="A3.I26.i1.p1.1" class="ltx_p"><code id="A3.I26.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_optimizer=[‘sgd’]</code><span id="A3.I26.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I26.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I26.i2.p1" class="ltx_para">
<p id="A3.I26.i2.p1.1" class="ltx_p"><code id="A3.I26.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_optimizer=[‘fedavgm’]</code><span id="A3.I26.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I26.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I26.i3.p1" class="ltx_para">
<p id="A3.I26.i3.p1.1" class="ltx_p"><code id="A3.I26.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">fedavgm_momentum=[0.9]</code><span id="A3.I26.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I26.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I26.i4.p1" class="ltx_para">
<p id="A3.I26.i4.p1.1" class="ltx_p"><code id="A3.I26.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">inner_epochs=[1]</code></p>
</div>
</li>
</ul>
<p id="A3.SS3.p2.2" class="ltx_p">(This is the number of local training epochs performed by a client during a round of training. For methods that train a global model, this is the number of local training epochs before returning the model update to the server.)</p>
</div>
<div id="A3.SS3.p3" class="ltx_para">
<p id="A3.SS3.p3.1" class="ltx_p">We focus on FedAvgM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite> for simplicity of hyperparameter tuning. Note also that the precise variable names of the hyperparameters (typefaced with <code id="A3.SS3.p3.1.1" class="ltx_verbatim ltx_font_typewriter">monospaced font</code>) may vary depending on the dataset-specific implementation.</p>
</div>
<div id="A3.SS3.p4" class="ltx_para">
<p id="A3.SS3.p4.1" class="ltx_p"><span id="A3.SS3.p4.1.1" class="ltx_text ltx_font_bold">Computational resources.</span>
For the Vehicle and School datasets, all experiments (including hyperparameter search) are done on 88 commodity CPU cores.
For the ADNI dataset, each run is done on one GPU.</p>
</div>
<section id="A3.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.3.1 </span>Local training</h4>

<section id="A3.SS3.SSS1.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Vehicle</h5>

<div id="A3.SS3.SSS1.Px1.p1" class="ltx_para">
<p id="A3.SS3.SSS1.Px1.p1.1" class="ltx_p"><span id="A3.SS3.SSS1.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS1.Px1.p2" class="ltx_para">
<p id="A3.SS3.SSS1.Px1.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I27" class="ltx_itemize">
<li id="A3.I27.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I27.i1.p1" class="ltx_para">
<p id="A3.I27.i1.p1.1" class="ltx_p"><code id="A3.I27.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I27.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I27.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I27.i2.p1" class="ltx_para">
<p id="A3.I27.i2.p1.1" class="ltx_p"><code id="A3.I27.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[23]</code><span id="A3.I27.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I27.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I27.i3.p1" class="ltx_para">
<p id="A3.I27.i3.p1.1" class="ltx_p"><code id="A3.I27.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[64]</code><span id="A3.I27.i3.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS1.Px1.p3" class="ltx_para">
<p id="A3.SS3.SSS1.Px1.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS1.Px1.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS3.SSS1.Px1.p4" class="ltx_para">
<ul id="A3.I28" class="ltx_itemize">
<li id="A3.I28.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I28.i1.p1" class="ltx_para">
<p id="A3.I28.i1.p1.1" class="ltx_p"><code id="A3.I28.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.003, 0.01, **0.03**, 0.1, 0.3]</code><span id="A3.I28.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS3.SSS1.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">School</h5>

<div id="A3.SS3.SSS1.Px2.p1" class="ltx_para">
<p id="A3.SS3.SSS1.Px2.p1.1" class="ltx_p"><span id="A3.SS3.SSS1.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS1.Px2.p2" class="ltx_para">
<p id="A3.SS3.SSS1.Px2.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS3.SSS1.Px2.p3" class="ltx_para">
<ul id="A3.I29" class="ltx_itemize">
<li id="A3.I29.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I29.i1.p1" class="ltx_para">
<p id="A3.I29.i1.p1.1" class="ltx_p"><code id="A3.I29.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I29.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I29.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I29.i2.p1" class="ltx_para">
<p id="A3.I29.i2.p1.1" class="ltx_p"><code id="A3.I29.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[139]</code><span id="A3.I29.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I29.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I29.i3.p1" class="ltx_para">
<p id="A3.I29.i3.p1.1" class="ltx_p"><code id="A3.I29.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[32]</code><span id="A3.I29.i3.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS1.Px2.p4" class="ltx_para">
<p id="A3.SS3.SSS1.Px2.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS1.Px2.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS3.SSS1.Px2.p5" class="ltx_para">
<ul id="A3.I30" class="ltx_itemize">
<li id="A3.I30.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I30.i1.p1" class="ltx_para">
<p id="A3.I30.i1.p1.1" class="ltx_p"><code id="A3.I30.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.001, 0.003, **0.01**, 0.03, 0.1]</code><span id="A3.I30.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
<section id="A3.SS3.SSS1.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">ADNI</h5>

<div id="A3.SS3.SSS1.Px3.p1" class="ltx_para">
<p id="A3.SS3.SSS1.Px3.p1.1" class="ltx_p"><span id="A3.SS3.SSS1.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS1.Px3.p2" class="ltx_para">
<p id="A3.SS3.SSS1.Px3.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS3.SSS1.Px3.p3" class="ltx_para">
<ul id="A3.I31" class="ltx_itemize">
<li id="A3.I31.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I31.i1.p1" class="ltx_para">
<p id="A3.I31.i1.p1.1" class="ltx_p"><code id="A3.I31.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[70]</code><span id="A3.I31.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I31.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I31.i2.p1" class="ltx_para">
<p id="A3.I31.i2.p1.1" class="ltx_p"><code id="A3.I31.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[9]</code><span id="A3.I31.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I31.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I31.i3.p1" class="ltx_para">
<p id="A3.I31.i3.p1.1" class="ltx_p"><code id="A3.I31.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[64]</code><span id="A3.I31.i3.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS1.Px3.p4" class="ltx_para">
<p id="A3.SS3.SSS1.Px3.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS1.Px3.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS3.SSS1.Px3.p5" class="ltx_para">
<ul id="A3.I32" class="ltx_itemize">
<li id="A3.I32.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I32.i1.p1" class="ltx_para">
<p id="A3.I32.i1.p1.1" class="ltx_p"><code id="A3.I32.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.001, **0.01**, 0.1]</code><span id="A3.I32.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section id="A3.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.3.2 </span>FedAvg+Fine-tuning</h4>

<section id="A3.SS3.SSS2.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Vehicle</h5>

<div id="A3.SS3.SSS2.Px1.p1" class="ltx_para">
<p id="A3.SS3.SSS2.Px1.p1.1" class="ltx_p"><span id="A3.SS3.SSS2.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS2.Px1.p2" class="ltx_para">
<p id="A3.SS3.SSS2.Px1.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS3.SSS2.Px1.p3" class="ltx_para">
<ul id="A3.I33" class="ltx_itemize">
<li id="A3.I33.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I33.i1.p1" class="ltx_para">
<p id="A3.I33.i1.p1.1" class="ltx_p"><code id="A3.I33.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I33.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I33.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I33.i2.p1" class="ltx_para">
<p id="A3.I33.i2.p1.1" class="ltx_p"><code id="A3.I33.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_epochs=[100]</code><span id="A3.I33.i2.p1.1.2" class="ltx_text"> (max number of local epochs for fine-tuning)</span></p>
</div>
</li>
<li id="A3.I33.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I33.i3.p1" class="ltx_para">
<p id="A3.I33.i3.p1.1" class="ltx_p"><code id="A3.I33.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_every=[50]</code><span id="A3.I33.i3.p1.1.2" class="ltx_text"> (run fine-tuning every number of rounds)</span></p>
</div>
</li>
<li id="A3.I33.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I33.i4.p1" class="ltx_para">
<p id="A3.I33.i4.p1.1" class="ltx_p"><code id="A3.I33.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimizer=[‘sgd’]</code><span id="A3.I33.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I33.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I33.i5.p1" class="ltx_para">
<p id="A3.I33.i5.p1.1" class="ltx_p"><code id="A3.I33.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[23]</code><span id="A3.I33.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I33.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I33.i6.p1" class="ltx_para">
<p id="A3.I33.i6.p1.1" class="ltx_p"><code id="A3.I33.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[64]</code><span id="A3.I33.i6.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS2.Px1.p4" class="ltx_para">
<p id="A3.SS3.SSS2.Px1.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS2.Px1.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS3.SSS2.Px1.p5" class="ltx_para">
<ul id="A3.I34" class="ltx_itemize">
<li id="A3.I34.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I34.i1.p1" class="ltx_para">
<p id="A3.I34.i1.p1.1" class="ltx_p"><code id="A3.I34.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[**0.003**, 0.01, 0.03, 0.1, 0.3]</code><span id="A3.I34.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I34.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I34.i2.p1" class="ltx_para">
<p id="A3.I34.i2.p1.1" class="ltx_p"><code id="A3.I34.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[0.1, 0.3, 1, 3, **10**]</code><span id="A3.I34.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I34.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I34.i3.p1" class="ltx_para">
<p id="A3.I34.i3.p1.1" class="ltx_p"><code id="A3.I34.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_lrs=[0.003, 0.01, 0.03, 0.1, 0.3]</code></p>
</div>
</li>
</ul>
<p id="A3.SS3.SSS2.Px1.p5.1" class="ltx_p">(The fine-tuning client learning rates are tuned separately for each client.)</p>
</div>
</section>
<section id="A3.SS3.SSS2.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">School</h5>

<div id="A3.SS3.SSS2.Px2.p1" class="ltx_para">
<p id="A3.SS3.SSS2.Px2.p1.1" class="ltx_p"><span id="A3.SS3.SSS2.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS2.Px2.p2" class="ltx_para">
<p id="A3.SS3.SSS2.Px2.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS3.SSS2.Px2.p3" class="ltx_para">
<ul id="A3.I35" class="ltx_itemize">
<li id="A3.I35.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I35.i1.p1" class="ltx_para">
<p id="A3.I35.i1.p1.1" class="ltx_p"><code id="A3.I35.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I35.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I35.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I35.i2.p1" class="ltx_para">
<p id="A3.I35.i2.p1.1" class="ltx_p"><code id="A3.I35.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_epochs=[100]</code><span id="A3.I35.i2.p1.1.2" class="ltx_text"> (max number of local epochs for fine-tuning)</span></p>
</div>
</li>
<li id="A3.I35.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I35.i3.p1" class="ltx_para">
<p id="A3.I35.i3.p1.1" class="ltx_p"><code id="A3.I35.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_every=[50]</code><span id="A3.I35.i3.p1.1.2" class="ltx_text"> (run fine-tuning every number of rounds)</span></p>
</div>
</li>
<li id="A3.I35.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I35.i4.p1" class="ltx_para">
<p id="A3.I35.i4.p1.1" class="ltx_p"><code id="A3.I35.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimizer=[‘sgd’]</code><span id="A3.I35.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I35.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I35.i5.p1" class="ltx_para">
<p id="A3.I35.i5.p1.1" class="ltx_p"><code id="A3.I35.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[139]</code><span id="A3.I35.i5.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I35.i6" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I35.i6.p1" class="ltx_para">
<p id="A3.I35.i6.p1.1" class="ltx_p"><code id="A3.I35.i6.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[32]</code><span id="A3.I35.i6.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS2.Px2.p4" class="ltx_para">
<p id="A3.SS3.SSS2.Px2.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS2.Px2.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS3.SSS2.Px2.p5" class="ltx_para">
<ul id="A3.I36" class="ltx_itemize">
<li id="A3.I36.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I36.i1.p1" class="ltx_para">
<p id="A3.I36.i1.p1.1" class="ltx_p"><code id="A3.I36.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[**0.001**, 0.003, 0.01, 0.03, 0.1]</code><span id="A3.I36.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I36.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I36.i2.p1" class="ltx_para">
<p id="A3.I36.i2.p1.1" class="ltx_p"><code id="A3.I36.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[0.1, 0.3, 1, **3**, 10]</code><span id="A3.I36.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I36.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I36.i3.p1" class="ltx_para">
<p id="A3.I36.i3.p1.1" class="ltx_p"><code id="A3.I36.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_lrs=[0.001, 0.003, 0.01, 0.03, 0.1]</code></p>
</div>
</li>
</ul>
<p id="A3.SS3.SSS2.Px2.p5.1" class="ltx_p">(The fine-tuning client learning rates are tuned separately for each client.)</p>
</div>
</section>
<section id="A3.SS3.SSS2.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">ADNI</h5>

<div id="A3.SS3.SSS2.Px3.p1" class="ltx_para">
<p id="A3.SS3.SSS2.Px3.p1.1" class="ltx_p"><span id="A3.SS3.SSS2.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS2.Px3.p2" class="ltx_para">
<p id="A3.SS3.SSS2.Px3.p2.1" class="ltx_p">Fixed hyperparameters:</p>
<ul id="A3.I37" class="ltx_itemize">
<li id="A3.I37.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I37.i1.p1" class="ltx_para">
<p id="A3.I37.i1.p1.1" class="ltx_p"><code id="A3.I37.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[70]</code><span id="A3.I37.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I37.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I37.i2.p1" class="ltx_para">
<p id="A3.I37.i2.p1.1" class="ltx_p"><code id="A3.I37.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_optimzier=[‘sgd’]</code><span id="A3.I37.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I37.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I37.i3.p1" class="ltx_para">
<p id="A3.I37.i3.p1.1" class="ltx_p"><code id="A3.I37.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[9]</code><span id="A3.I37.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I37.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I37.i4.p1" class="ltx_para">
<p id="A3.I37.i4.p1.1" class="ltx_p"><code id="A3.I37.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[64]</code><span id="A3.I37.i4.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS2.Px3.p3" class="ltx_para">
<p id="A3.SS3.SSS2.Px3.p3.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS2.Px3.p3.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
<ul id="A3.I38" class="ltx_itemize">
<li id="A3.I38.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I38.i1.p1" class="ltx_para">
<p id="A3.I38.i1.p1.1" class="ltx_p"><code id="A3.I38.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_last_layer=[True, False]</code><span id="A3.I38.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I38.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I38.i2.p1" class="ltx_para">
<p id="A3.I38.i2.p1.1" class="ltx_p"><code id="A3.I38.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[1, 3, **10**, 20]</code><span id="A3.I38.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I38.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I38.i3.p1" class="ltx_para">
<p id="A3.I38.i3.p1.1" class="ltx_p"><code id="A3.I38.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.0001, 0.001, **0.01**, 0.1]</code><span id="A3.I38.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I38.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I38.i4.p1" class="ltx_para">
<p id="A3.I38.i4.p1.1" class="ltx_p"><code id="A3.I38.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">finetune_lrs=[0.0001, 0.001, 0.01, 0.1]</code></p>
</div>
</li>
</ul>
<p id="A3.SS3.SSS2.Px3.p3.2" class="ltx_p">(When running FedAvg, the optimal client-side learning rate is 0.01. During fine-tuning, we tune client learning rates (i.e., fine-tuning learning rates) separately for each client.)</p>
</div>
</section>
</section>
<section id="A3.SS3.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.3.3 </span>HypCluster</h4>

<section id="A3.SS3.SSS3.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Vehicle</h5>

<div id="A3.SS3.SSS3.Px1.p1" class="ltx_para">
<p id="A3.SS3.SSS3.Px1.p1.1" class="ltx_p"><span id="A3.SS3.SSS3.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS3.Px1.p2" class="ltx_para">
<p id="A3.SS3.SSS3.Px1.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS3.SSS3.Px1.p3" class="ltx_para">
<ul id="A3.I39" class="ltx_itemize">
<li id="A3.I39.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I39.i1.p1" class="ltx_para">
<p id="A3.I39.i1.p1.1" class="ltx_p"><code id="A3.I39.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I39.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I39.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I39.i2.p1" class="ltx_para">
<p id="A3.I39.i2.p1.1" class="ltx_p"><code id="A3.I39.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[23]</code><span id="A3.I39.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I39.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I39.i3.p1" class="ltx_para">
<p id="A3.I39.i3.p1.1" class="ltx_p"><code id="A3.I39.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[64]</code><span id="A3.I39.i3.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS3.Px1.p4" class="ltx_para">
<p id="A3.SS3.SSS3.Px1.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS3.Px1.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS3.SSS3.Px1.p5" class="ltx_para">
<ul id="A3.I40" class="ltx_itemize">
<li id="A3.I40.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I40.i1.p1" class="ltx_para">
<p id="A3.I40.i1.p1.1" class="ltx_p"><code id="A3.I40.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.003, **0.01**, 0.03, 0.1, 0.3]</code><span id="A3.I40.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I40.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I40.i2.p1" class="ltx_para">
<p id="A3.I40.i2.p1.1" class="ltx_p"><code id="A3.I40.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[0.1, 0.3, 1, 3, **10**]</code><span id="A3.I40.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I40.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I40.i3.p1" class="ltx_para">
<p id="A3.I40.i3.p1.1" class="ltx_p"><code id="A3.I40.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_clusters=[2, 3, **4**]</code><span id="A3.I40.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I40.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I40.i4.p1" class="ltx_para">
<p id="A3.I40.i4.p1.1" class="ltx_p"><code id="A3.I40.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">warmstart_fracs=[**0**, 0.2]</code></p>
</div>
</li>
</ul>
<p id="A3.SS3.SSS3.Px1.p5.1" class="ltx_p">(The fraction of rounds for warm starting; the rest runs clustering training.)</p>
</div>
</section>
<section id="A3.SS3.SSS3.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">School</h5>

<div id="A3.SS3.SSS3.Px2.p1" class="ltx_para">
<p id="A3.SS3.SSS3.Px2.p1.1" class="ltx_p"><span id="A3.SS3.SSS3.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS3.Px2.p2" class="ltx_para">
<p id="A3.SS3.SSS3.Px2.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS3.SSS3.Px2.p3" class="ltx_para">
<ul id="A3.I41" class="ltx_itemize">
<li id="A3.I41.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I41.i1.p1" class="ltx_para">
<p id="A3.I41.i1.p1.1" class="ltx_p"><code id="A3.I41.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I41.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I41.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I41.i2.p1" class="ltx_para">
<p id="A3.I41.i2.p1.1" class="ltx_p"><code id="A3.I41.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[139]</code><span id="A3.I41.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I41.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I41.i3.p1" class="ltx_para">
<p id="A3.I41.i3.p1.1" class="ltx_p"><code id="A3.I41.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[32]</code><span id="A3.I41.i3.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS3.Px2.p4" class="ltx_para">
<p id="A3.SS3.SSS3.Px2.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS3.Px2.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS3.SSS3.Px2.p5" class="ltx_para">
<ul id="A3.I42" class="ltx_itemize">
<li id="A3.I42.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I42.i1.p1" class="ltx_para">
<p id="A3.I42.i1.p1.1" class="ltx_p"><code id="A3.I42.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.001, 0.003, **0.01**, 0.03, 0.1]</code><span id="A3.I42.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I42.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I42.i2.p1" class="ltx_para">
<p id="A3.I42.i2.p1.1" class="ltx_p"><code id="A3.I42.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[0.1, 0.3, 1, 3, **10**]</code><span id="A3.I42.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I42.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I42.i3.p1" class="ltx_para">
<p id="A3.I42.i3.p1.1" class="ltx_p"><code id="A3.I42.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_clusters=[2, **3**, 4]</code><span id="A3.I42.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I42.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I42.i4.p1" class="ltx_para">
<p id="A3.I42.i4.p1.1" class="ltx_p"><code id="A3.I42.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">warmstart_fracs=[0, **0.2**]</code></p>
</div>
</li>
</ul>
<p id="A3.SS3.SSS3.Px2.p5.1" class="ltx_p">(The fraction of rounds for warm starting; the rest runs clustering training.)</p>
</div>
</section>
<section id="A3.SS3.SSS3.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">ADNI</h5>

<div id="A3.SS3.SSS3.Px3.p1" class="ltx_para">
<p id="A3.SS3.SSS3.Px3.p1.1" class="ltx_p"><span id="A3.SS3.SSS3.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS3.SSS3.Px3.p2" class="ltx_para">
<p id="A3.SS3.SSS3.Px3.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS3.SSS3.Px3.p3" class="ltx_para">
<ul id="A3.I43" class="ltx_itemize">
<li id="A3.I43.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I43.i1.p1" class="ltx_para">
<p id="A3.I43.i1.p1.1" class="ltx_p"><code id="A3.I43.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[70]</code><span id="A3.I43.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I43.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I43.i2.p1" class="ltx_para">
<p id="A3.I43.i2.p1.1" class="ltx_p"><code id="A3.I43.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">warm_start_rounds=[20]</code><span id="A3.I43.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I43.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I43.i3.p1" class="ltx_para">
<p id="A3.I43.i3.p1.1" class="ltx_p"><code id="A3.I43.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clustering_training_rounds=[50]</code><span id="A3.I43.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I43.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I43.i4.p1" class="ltx_para">
<p id="A3.I43.i4.p1.1" class="ltx_p"><code id="A3.I43.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[9]</code><span id="A3.I43.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I43.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I43.i5.p1" class="ltx_para">
<p id="A3.I43.i5.p1.1" class="ltx_p"><code id="A3.I43.i5.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[64]</code><span id="A3.I43.i5.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS3.SSS3.Px3.p4" class="ltx_para">
<p id="A3.SS3.SSS3.Px3.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS3.SSS3.Px3.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS3.SSS3.Px3.p5" class="ltx_para">
<ul id="A3.I44" class="ltx_itemize">
<li id="A3.I44.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I44.i1.p1" class="ltx_para">
<p id="A3.I44.i1.p1.1" class="ltx_p"><code id="A3.I44.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[1, 3, **10**, 20]</code><span id="A3.I44.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I44.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I44.i2.p1" class="ltx_para">
<p id="A3.I44.i2.p1.1" class="ltx_p"><code id="A3.I44.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.0001, 0.001, **0.01**, 0.1]</code><span id="A3.I44.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I44.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I44.i3.p1" class="ltx_para">
<p id="A3.I44.i3.p1.1" class="ltx_p"><code id="A3.I44.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_clusters=[**2**, 3, 4]</code><span id="A3.I44.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
</section>
</section>
</section>
<section id="A3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.4 </span>FedAvg + kNN-Per</h3>

<div id="A3.SS4.p1" class="ltx_para">
<p id="A3.SS4.p1.1" class="ltx_p">We use the model trained by FedAvg (same as "FedAvg + Fine-tuning") as the global model for personalization. Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib55" title="" class="ltx_ref">55</a>]</cite>, we set the number of nearest neighbors <math id="A3.SS4.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A3.SS4.p1.1.m1.1a"><mi id="A3.SS4.p1.1.m1.1.1" xref="A3.SS4.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A3.SS4.p1.1.m1.1b"><ci id="A3.SS4.p1.1.m1.1.1.cmml" xref="A3.SS4.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS4.p1.1.m1.1c">k</annotation></semantics></math> to 10 for all experiments (the paper shows that the performance of kNN-Per is robust to this value). Similar to the cross-device setting, we also tune the interpolation coefficient globally for all clients (i.e., every client use the same coefficient). The tuned interpolation coefficients are shown below (best values are highlighted in <code id="A3.SS4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<section id="A3.SS4.SSS0.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Vehicle</h5>

<div id="A3.SS4.SSS0.Px1.p1" class="ltx_para">
<p id="A3.SS4.SSS0.Px1.p1.1" class="ltx_p"><span id="A3.SS4.SSS0.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS4.SSS0.Px1.p2" class="ltx_para">
<p id="A3.SS4.SSS0.Px1.p2.1" class="ltx_p"><code id="A3.SS4.SSS0.Px1.p2.1.1" class="ltx_verbatim ltx_font_typewriter">coefficient=[0, 0.1, 0.3, 0.5, 0.7, **0.9**, 1.0]</code><span id="A3.SS4.SSS0.Px1.p2.1.2" class="ltx_text"></span></p>
</div>
</section>
<section id="A3.SS4.SSS0.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">School</h5>

<div id="A3.SS4.SSS0.Px2.p1" class="ltx_para">
<p id="A3.SS4.SSS0.Px2.p1.1" class="ltx_p"><span id="A3.SS4.SSS0.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS4.SSS0.Px2.p2" class="ltx_para">
<p id="A3.SS4.SSS0.Px2.p2.1" class="ltx_p"><code id="A3.SS4.SSS0.Px2.p2.1.1" class="ltx_verbatim ltx_font_typewriter">coefficient=[0, 0.1, 0.3, **0.5**, 0.7, 0.9, 1.0]</code><span id="A3.SS4.SSS0.Px2.p2.1.2" class="ltx_text"></span></p>
</div>
</section>
<section id="A3.SS4.SSS0.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">ADNI</h5>

<div id="A3.SS4.SSS0.Px3.p1" class="ltx_para">
<p id="A3.SS4.SSS0.Px3.p1.1" class="ltx_p"><span id="A3.SS4.SSS0.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS4.SSS0.Px3.p2" class="ltx_para">
<p id="A3.SS4.SSS0.Px3.p2.1" class="ltx_p"><code id="A3.SS4.SSS0.Px3.p2.1.1" class="ltx_verbatim ltx_font_typewriter">coefficient=[0, 0.1, 0.3, **0.5**, 0.7, 0.9, 1.0]</code><span id="A3.SS4.SSS0.Px3.p2.1.2" class="ltx_text"></span></p>
</div>
</section>
<section id="A3.SS4.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.4.1 </span>MOCHA</h4>

<div id="A3.SS4.SSS1.p1" class="ltx_para">
<p id="A3.SS4.SSS1.p1.1" class="ltx_p">Note that MOCHA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib69" title="" class="ltx_ref">69</a>]</cite> was implemented in its primal form (i.e. gradient descent update for the local personalized models, with task-relationship learning regularization) instead of the dual form since the dual was not derived for regression in the original paper. We were able to reproduce the results reported in the original paper in the primal (with an average error rate of 6.29 in <a href="#S5.T5" title="In 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Tables</span> <span class="ltx_text ltx_ref_tag">5</span></a> and <a href="#A4.T7" title="Table 7 ‣ Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>, smaller than 6.59 that was reported). In the primal, MOCHA has optimization hyperparameters such as client optimizer, client learning rates, batch sizes, etc. as with other methods.</p>
</div>
<section id="A3.SS4.SSS1.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Vehicle</h5>

<div id="A3.SS4.SSS1.Px1.p1" class="ltx_para">
<p id="A3.SS4.SSS1.Px1.p1.1" class="ltx_p"><span id="A3.SS4.SSS1.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS4.SSS1.Px1.p2" class="ltx_para">
<p id="A3.SS4.SSS1.Px1.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS4.SSS1.Px1.p3" class="ltx_para">
<ul id="A3.I45" class="ltx_itemize">
<li id="A3.I45.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I45.i1.p1" class="ltx_para">
<p id="A3.I45.i1.p1.1" class="ltx_p"><code id="A3.I45.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I45.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I45.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I45.i2.p1" class="ltx_para">
<p id="A3.I45.i2.p1.1" class="ltx_p"><code id="A3.I45.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[23]</code><span id="A3.I45.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I45.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I45.i3.p1" class="ltx_para">
<p id="A3.I45.i3.p1.1" class="ltx_p"><code id="A3.I45.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[64]</code><span id="A3.I45.i3.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS4.SSS1.Px1.p4" class="ltx_para">
<p id="A3.SS4.SSS1.Px1.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS4.SSS1.Px1.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>; an alternative combination that gives very similar results are highlighted in <code id="A3.SS4.SSS1.Px1.p4.1.2" class="ltx_verbatim ltx_font_typewriter">_values_</code>):</p>
</div>
<div id="A3.SS4.SSS1.Px1.p5" class="ltx_para">
<ul id="A3.I46" class="ltx_itemize">
<li id="A3.I46.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I46.i1.p1" class="ltx_para">
<p id="A3.I46.i1.p1.1" class="ltx_p"><code id="A3.I46.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.003, _0.01_, **0.03**, 0.1, 0.3]</code><span id="A3.I46.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I46.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I46.i2.p1" class="ltx_para">
<p id="A3.I46.i2.p1.1" class="ltx_p"><code id="A3.I46.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">lambdas=[**0.0001**, _0.001_, 0.01, 0.1, 0.3, 1, 3]</code></p>
</div>
</li>
</ul>
<p id="A3.SS4.SSS1.Px1.p5.1" class="ltx_p">(MTL regularization strength.)

<span id="A3.I46.i3" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="A3.I46.i3.p1" class="ltx_para">
<span id="A3.I46.i3.p1.1" class="ltx_p"><code id="A3.I46.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">mocha_outers=[**1**, _2_, 5]</code><span id="A3.I46.i3.p1.1.2" class="ltx_text"> 
(The number of local epochs every server update of the task-relationship matrix. This nests with <code id="A3.I46.i3.p1.1.2.1" class="ltx_verbatim ltx_font_typewriter">inner_epochs</code> and may thus increase the total number of epochs over the local datasets.)</span></span>
</span></span></p>
</div>
</section>
<section id="A3.SS4.SSS1.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">School</h5>

<div id="A3.SS4.SSS1.Px2.p1" class="ltx_para">
<p id="A3.SS4.SSS1.Px2.p1.1" class="ltx_p"><span id="A3.SS4.SSS1.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS4.SSS1.Px2.p2" class="ltx_para">
<p id="A3.SS4.SSS1.Px2.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS4.SSS1.Px2.p3" class="ltx_para">
<ul id="A3.I47" class="ltx_itemize">
<li id="A3.I47.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I47.i1.p1" class="ltx_para">
<p id="A3.I47.i1.p1.1" class="ltx_p"><code id="A3.I47.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I47.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I47.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I47.i2.p1" class="ltx_para">
<p id="A3.I47.i2.p1.1" class="ltx_p"><code id="A3.I47.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[139]</code><span id="A3.I47.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I47.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I47.i3.p1" class="ltx_para">
<p id="A3.I47.i3.p1.1" class="ltx_p"><code id="A3.I47.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[32]</code><span id="A3.I47.i3.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS4.SSS1.Px2.p4" class="ltx_para">
<p id="A3.SS4.SSS1.Px2.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS4.SSS1.Px2.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>; an alternative combination that gives very similar results are highlighted in <code id="A3.SS4.SSS1.Px2.p4.1.2" class="ltx_verbatim ltx_font_typewriter">_values_</code>):</p>
</div>
<div id="A3.SS4.SSS1.Px2.p5" class="ltx_para">
<ul id="A3.I48" class="ltx_itemize">
<li id="A3.I48.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I48.i1.p1" class="ltx_para">
<p id="A3.I48.i1.p1.1" class="ltx_p"><code id="A3.I48.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.001, **0.003**, _0.01_, 0.03, 0.1]</code><span id="A3.I48.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I48.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I48.i2.p1" class="ltx_para">
<p id="A3.I48.i2.p1.1" class="ltx_p"><code id="A3.I48.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">lambdas=[**0.0001**, 0.001, _0.01_, 0.1, 0.3, 1, 3]</code></p>
</div>
</li>
</ul>
<p id="A3.SS4.SSS1.Px2.p5.1" class="ltx_p">(MTL regularization strength.)

<span id="A3.I48.i3" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="A3.I48.i3.p1" class="ltx_para">
<span id="A3.I48.i3.p1.1" class="ltx_p"><code id="A3.I48.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">mocha_outers=[_1_, **2**, 5]</code><span id="A3.I48.i3.p1.1.2" class="ltx_text"> 
(See Vehicle hyperparameters above for description.)</span></span>
</span></span></p>
</div>
</section>
</section>
<section id="A3.SS4.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">C.4.2 </span>Ditto</h4>

<section id="A3.SS4.SSS2.Px1" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">Vehicle</h5>

<div id="A3.SS4.SSS2.Px1.p1" class="ltx_para">
<p id="A3.SS4.SSS2.Px1.p1.1" class="ltx_p"><span id="A3.SS4.SSS2.Px1.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS4.SSS2.Px1.p2" class="ltx_para">
<p id="A3.SS4.SSS2.Px1.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS4.SSS2.Px1.p3" class="ltx_para">
<ul id="A3.I49" class="ltx_itemize">
<li id="A3.I49.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I49.i1.p1" class="ltx_para">
<p id="A3.I49.i1.p1.1" class="ltx_p"><code id="A3.I49.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I49.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I49.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I49.i2.p1" class="ltx_para">
<p id="A3.I49.i2.p1.1" class="ltx_p"><code id="A3.I49.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">personalized_model_inner_epochs=[1]</code><span id="A3.I49.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I49.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I49.i3.p1" class="ltx_para">
<p id="A3.I49.i3.p1.1" class="ltx_p"><code id="A3.I49.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[23]</code><span id="A3.I49.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I49.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I49.i4.p1" class="ltx_para">
<p id="A3.I49.i4.p1.1" class="ltx_p"><code id="A3.I49.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[64]</code><span id="A3.I49.i4.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS4.SSS2.Px1.p4" class="ltx_para">
<p id="A3.SS4.SSS2.Px1.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS4.SSS2.Px1.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS4.SSS2.Px1.p5" class="ltx_para">
<ul id="A3.I50" class="ltx_itemize">
<li id="A3.I50.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I50.i1.p1" class="ltx_para">
<p id="A3.I50.i1.p1.1" class="ltx_p"><code id="A3.I50.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.003, 0.01, 0.03, 0.1, **0.3**]</code><span id="A3.I50.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I50.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I50.i2.p1" class="ltx_para">
<p id="A3.I50.i2.p1.1" class="ltx_p"><code id="A3.I50.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[0.1, 0.3, **1**, 3, 10]</code><span id="A3.I50.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I50.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I50.i3.p1" class="ltx_para">
<p id="A3.I50.i3.p1.1" class="ltx_p"><code id="A3.I50.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">lambdas=[0.0001, 0.001, **0.01**, 0.1, 0.3, 1, 3]</code></p>
</div>
</li>
</ul>
<p id="A3.SS4.SSS2.Px1.p5.1" class="ltx_p">(MTL regularization strength.)

<span id="A3.I50.i4" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="A3.I50.i4.p1" class="ltx_para">
<span id="A3.I50.i4.p1.1" class="ltx_p"><code id="A3.I50.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">personalized_model_lrs=[0.003, 0.01, 0.03, **0.1**, 0.3]</code><span id="A3.I50.i4.p1.1.2" class="ltx_text"> 
(The client learning rate for Ditto’s personalized models. This may be different from the client learning rates used to update the global model.)</span></span>
</span></span></p>
</div>
</section>
<section id="A3.SS4.SSS2.Px2" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">School</h5>

<div id="A3.SS4.SSS2.Px2.p1" class="ltx_para">
<p id="A3.SS4.SSS2.Px2.p1.1" class="ltx_p"><span id="A3.SS4.SSS2.Px2.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS4.SSS2.Px2.p2" class="ltx_para">
<p id="A3.SS4.SSS2.Px2.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS4.SSS2.Px2.p3" class="ltx_para">
<ul id="A3.I51" class="ltx_itemize">
<li id="A3.I51.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I51.i1.p1" class="ltx_para">
<p id="A3.I51.i1.p1.1" class="ltx_p"><code id="A3.I51.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[500]</code><span id="A3.I51.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I51.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I51.i2.p1" class="ltx_para">
<p id="A3.I51.i2.p1.1" class="ltx_p"><code id="A3.I51.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">personalized_model_inner_epochs=[1]</code><span id="A3.I51.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I51.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I51.i3.p1" class="ltx_para">
<p id="A3.I51.i3.p1.1" class="ltx_p"><code id="A3.I51.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[139]</code><span id="A3.I51.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I51.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I51.i4.p1" class="ltx_para">
<p id="A3.I51.i4.p1.1" class="ltx_p"><code id="A3.I51.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">batch_size=[32]</code><span id="A3.I51.i4.p1.1.2" class="ltx_text"> (client local training batch size)</span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS4.SSS2.Px2.p4" class="ltx_para">
<p id="A3.SS4.SSS2.Px2.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS4.SSS2.Px2.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS4.SSS2.Px2.p5" class="ltx_para">
<ul id="A3.I52" class="ltx_itemize">
<li id="A3.I52.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I52.i1.p1" class="ltx_para">
<p id="A3.I52.i1.p1.1" class="ltx_p"><code id="A3.I52.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[**0.001**, 0.003, 0.01, 0.03, 0.1]</code><span id="A3.I52.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I52.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I52.i2.p1" class="ltx_para">
<p id="A3.I52.i2.p1.1" class="ltx_p"><code id="A3.I52.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[0.1, 0.3, 1, 3, **10**]</code><span id="A3.I52.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I52.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I52.i3.p1" class="ltx_para">
<p id="A3.I52.i3.p1.1" class="ltx_p"><code id="A3.I52.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">lambdas=[0.0001, 0.001, 0.01, 0.1, 0.3, **1**, 3]</code></p>
</div>
</li>
</ul>
<p id="A3.SS4.SSS2.Px2.p5.1" class="ltx_p">(MTL regularization strength.)

<span id="A3.I52.i4" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="A3.I52.i4.p1" class="ltx_para">
<span id="A3.I52.i4.p1.1" class="ltx_p"><code id="A3.I52.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">personalized_model_lrs=[0.001, 0.003, **0.01**, 0.03, 0.1]</code><span id="A3.I52.i4.p1.1.2" class="ltx_text"> 
(See Vehicle hyperparameters above for description.)</span></span>
</span></span></p>
</div>
</section>
<section id="A3.SS4.SSS2.Px3" class="ltx_paragraph">
<h5 class="ltx_title ltx_title_paragraph">ADNI</h5>

<div id="A3.SS4.SSS2.Px3.p1" class="ltx_para">
<p id="A3.SS4.SSS2.Px3.p1.1" class="ltx_p"><span id="A3.SS4.SSS2.Px3.p1.1.1" class="ltx_text"></span></p>
</div>
<div id="A3.SS4.SSS2.Px3.p2" class="ltx_para">
<p id="A3.SS4.SSS2.Px3.p2.1" class="ltx_p">Fixed hyperparameters:</p>
</div>
<div id="A3.SS4.SSS2.Px3.p3" class="ltx_para">
<ul id="A3.I53" class="ltx_itemize">
<li id="A3.I53.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I53.i1.p1" class="ltx_para">
<p id="A3.I53.i1.p1.1" class="ltx_p"><code id="A3.I53.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">num_rounds=[100]</code><span id="A3.I53.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I53.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I53.i2.p1" class="ltx_para">
<p id="A3.I53.i2.p1.1" class="ltx_p"><code id="A3.I53.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">clients_per_round=[9]</code><span id="A3.I53.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I53.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I53.i3.p1" class="ltx_para">
<p id="A3.I53.i3.p1.1" class="ltx_p"><code id="A3.I53.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">local_batch_size=[64]</code><span id="A3.I53.i3.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I53.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I53.i4.p1" class="ltx_para">
<p id="A3.I53.i4.p1.1" class="ltx_p"><code id="A3.I53.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">personalized_model_local_epoch=[1]</code><span id="A3.I53.i4.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
</ul>
</div>
<div id="A3.SS4.SSS2.Px3.p4" class="ltx_para">
<p id="A3.SS4.SSS2.Px3.p4.1" class="ltx_p">Tuned hyperparameters (best values are highlighted in <code id="A3.SS4.SSS2.Px3.p4.1.1" class="ltx_verbatim ltx_font_typewriter">**value**</code>):</p>
</div>
<div id="A3.SS4.SSS2.Px3.p5" class="ltx_para">
<ul id="A3.I54" class="ltx_itemize">
<li id="A3.I54.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I54.i1.p1" class="ltx_para">
<p id="A3.I54.i1.p1.1" class="ltx_p"><code id="A3.I54.i1.p1.1.1" class="ltx_verbatim ltx_font_typewriter">server_lrs=[1, 3, **10**, 20]</code><span id="A3.I54.i1.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I54.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I54.i2.p1" class="ltx_para">
<p id="A3.I54.i2.p1.1" class="ltx_p"><code id="A3.I54.i2.p1.1.1" class="ltx_verbatim ltx_font_typewriter">client_lrs=[0.0001, 0.001, **0.01**, 0.1]</code><span id="A3.I54.i2.p1.1.2" class="ltx_text"></span></p>
</div>
</li>
<li id="A3.I54.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A3.I54.i3.p1" class="ltx_para">
<p id="A3.I54.i3.p1.1" class="ltx_p"><code id="A3.I54.i3.p1.1.1" class="ltx_verbatim ltx_font_typewriter">personalized_model_lrs=[0.0001, **0.001**, 0.01]</code></p>
</div>
</li>
</ul>
<p id="A3.SS4.SSS2.Px3.p5.1" class="ltx_p">(See Vehicle hyperparameters above for description.)

<span id="A3.I54.i4" class="ltx_item" style="list-style-type:none;"><span class="ltx_tag ltx_tag_item">•</span> 
<span id="A3.I54.i4.p1" class="ltx_para">
<span id="A3.I54.i4.p1.1" class="ltx_p"><code id="A3.I54.i4.p1.1.1" class="ltx_verbatim ltx_font_typewriter">lambdas=[0.01, 0.1, **1**]</code><span id="A3.I54.i4.p1.1.2" class="ltx_text"> 
(MTL regularization strength.)</span></span>
</span></span></p>
</div>
</section>
</section>
</section>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Additional Experimental Results and Discussions</h2>

<div id="A4.p1" class="ltx_para">
<p id="A4.p1.1" class="ltx_p">In this section, we provide a few more experimental results that are omitted from the main paper due to space limitation.</p>
</div>
<div id="A4.p2" class="ltx_para">
<p id="A4.p2.1" class="ltx_p"><span id="A4.p2.1.1" class="ltx_text ltx_font_bold">Cross-device experiments.</span>
Table <a href="#A4.T6" title="Table 6 ‣ Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> extends Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> with standard deviations across 5 different runs for each metric.
Note that there are two standard deviations here:
1) the standard deviation of per-client accuracy across the test clients, which is used as a fairness metric<span id="A4.p2.1.2" class="ltx_ERROR undefined">\@footnotemark</span> and is already included in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>;
2) the standard deviation of each metric value (e.g., the standard deviation of the fairness metric mentioned in 1)) across 5 different runs (each run uses a different seed), which is omitted from the main paper and is included in Table <a href="#A4.T6" title="Table 6 ‣ Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<figure id="A4.T6" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="A4.T6.67.2.1" class="ltx_text" style="font-size:90%;">Table 6</span>: </span><span id="A4.T6.2.1" class="ltx_text" style="font-size:90%;">Complete results of the experiments in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. The only difference is that we report each metric’s mean and standard deviation (std) across 5 different runs. Note that there are two stds here: 1) "per-client acc std", the std of per-client accuracy across the test clients, which is a fairness metric considered in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> and is already included in Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>; 2) the std across 5 different runs, which is omitted from Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and is shown after <math id="A4.T6.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.2.1.m1.1b"><mo id="A4.T6.2.1.m1.1.1" xref="A4.T6.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.2.1.m1.1c"><csymbol cd="latexml" id="A4.T6.2.1.m1.1.1.cmml" xref="A4.T6.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.2.1.m1.1d">\pm</annotation></semantics></math> in this table.</span></figcaption>
<div id="A4.T6.65" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:473.7pt;height:480.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="A4.T6.65.63" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A4.T6.65.63.64.1" class="ltx_tr">
<th id="A4.T6.65.63.64.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.64.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.64.1.1.1.1" class="ltx_p" style="width:51.2pt;"><span id="A4.T6.65.63.64.1.1.1.1.1" class="ltx_text ltx_font_bold">Algorithm</span></span>
</span>
</th>
<td id="A4.T6.65.63.64.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.64.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.64.1.2.1.1" class="ltx_p" style="width:128.0pt;"><span id="A4.T6.65.63.64.1.2.1.1.1" class="ltx_text ltx_font_bold">Metrics</span></span>
</span>
</td>
<td id="A4.T6.65.63.64.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.64.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.64.1.3.1.1" class="ltx_p" style="width:54.1pt;"><span id="A4.T6.65.63.64.1.3.1.1.1" class="ltx_text ltx_font_bold">EMNIST</span></span>
</span>
</td>
<td id="A4.T6.65.63.64.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.64.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.64.1.4.1.1" class="ltx_p" style="width:62.6pt;"><span id="A4.T6.65.63.64.1.4.1.1.1" class="ltx_text ltx_font_bold">StackOverflow</span></span>
</span>
</td>
<td id="A4.T6.65.63.64.1.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.64.1.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.64.1.5.1.1" class="ltx_p" style="width:56.9pt;"><span id="A4.T6.65.63.64.1.5.1.1.1" class="ltx_text ltx_font_bold">Landmarks</span></span>
</span>
</td>
<td id="A4.T6.65.63.64.1.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.64.1.6.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.64.1.6.1.1" class="ltx_p" style="width:45.5pt;"><span id="A4.T6.65.63.64.1.6.1.1.1" class="ltx_text ltx_font_bold">TedMulti</span></span>
</span>
</td>
</tr>
<tr id="A4.T6.6.4.4" class="ltx_tr">
<th id="A4.T6.6.4.4.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2">
<span id="A4.T6.6.4.4.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.6.4.4.5.1.1" class="ltx_p" style="width:51.2pt;"><span id="A4.T6.6.4.4.5.1.1.1" class="ltx_text">Local</span></span>
</span>
</th>
<td id="A4.T6.6.4.4.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.6.4.4.6.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.6.4.4.6.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc mean</span>
</span>
</td>
<td id="A4.T6.3.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.3.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.3.1.1.1.1.1" class="ltx_p" style="width:54.1pt;">0.594<math id="A4.T6.3.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.3.1.1.1.1.1.m1.1a"><mo id="A4.T6.3.1.1.1.1.1.m1.1.1" xref="A4.T6.3.1.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.3.1.1.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.3.1.1.1.1.1.m1.1.1.cmml" xref="A4.T6.3.1.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.3.1.1.1.1.1.m1.1c">\pm</annotation></semantics></math>.011</span>
</span>
</td>
<td id="A4.T6.4.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.4.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.4.2.2.2.1.1" class="ltx_p" style="width:62.6pt;">0.062<math id="A4.T6.4.2.2.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.4.2.2.2.1.1.m1.1a"><mo id="A4.T6.4.2.2.2.1.1.m1.1.1" xref="A4.T6.4.2.2.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.4.2.2.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.4.2.2.2.1.1.m1.1.1.cmml" xref="A4.T6.4.2.2.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.4.2.2.2.1.1.m1.1c">\pm</annotation></semantics></math>.001</span>
</span>
</td>
<td id="A4.T6.5.3.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.5.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.5.3.3.3.1.1" class="ltx_p" style="width:56.9pt;">0.173<math id="A4.T6.5.3.3.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.5.3.3.3.1.1.m1.1a"><mo id="A4.T6.5.3.3.3.1.1.m1.1.1" xref="A4.T6.5.3.3.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.5.3.3.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.5.3.3.3.1.1.m1.1.1.cmml" xref="A4.T6.5.3.3.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.5.3.3.3.1.1.m1.1c">\pm</annotation></semantics></math>.008</span>
</span>
</td>
<td id="A4.T6.6.4.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.6.4.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.6.4.4.4.1.1" class="ltx_p" style="width:45.5pt;">0.056<math id="A4.T6.6.4.4.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.6.4.4.4.1.1.m1.1a"><mo id="A4.T6.6.4.4.4.1.1.m1.1.1" xref="A4.T6.6.4.4.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.6.4.4.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.6.4.4.4.1.1.m1.1.1.cmml" xref="A4.T6.6.4.4.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.6.4.4.4.1.1.m1.1c">\pm</annotation></semantics></math>.0004</span>
</span>
</td>
</tr>
<tr id="A4.T6.10.8.8" class="ltx_tr">
<td id="A4.T6.10.8.8.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.10.8.8.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.10.8.8.5.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc std</span>
</span>
</td>
<td id="A4.T6.7.5.5.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.7.5.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.7.5.5.1.1.1" class="ltx_p" style="width:54.1pt;">0.17<math id="A4.T6.7.5.5.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.7.5.5.1.1.1.m1.1a"><mo id="A4.T6.7.5.5.1.1.1.m1.1.1" xref="A4.T6.7.5.5.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.7.5.5.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.7.5.5.1.1.1.m1.1.1.cmml" xref="A4.T6.7.5.5.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.7.5.5.1.1.1.m1.1c">\pm</annotation></semantics></math>.011</span>
</span>
</td>
<td id="A4.T6.8.6.6.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.8.6.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.8.6.6.2.1.1" class="ltx_p" style="width:62.6pt;">0.02<math id="A4.T6.8.6.6.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.8.6.6.2.1.1.m1.1a"><mo id="A4.T6.8.6.6.2.1.1.m1.1.1" xref="A4.T6.8.6.6.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.8.6.6.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.8.6.6.2.1.1.m1.1.1.cmml" xref="A4.T6.8.6.6.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.8.6.6.2.1.1.m1.1c">\pm</annotation></semantics></math>.005</span>
</span>
</td>
<td id="A4.T6.9.7.7.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.9.7.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.9.7.7.3.1.1" class="ltx_p" style="width:56.9pt;">0.16<math id="A4.T6.9.7.7.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.9.7.7.3.1.1.m1.1a"><mo id="A4.T6.9.7.7.3.1.1.m1.1.1" xref="A4.T6.9.7.7.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.9.7.7.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.9.7.7.3.1.1.m1.1.1.cmml" xref="A4.T6.9.7.7.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.9.7.7.3.1.1.m1.1c">\pm</annotation></semantics></math>.008</span>
</span>
</td>
<td id="A4.T6.10.8.8.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.10.8.8.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.10.8.8.4.1.1" class="ltx_p" style="width:45.5pt;">0.02<math id="A4.T6.10.8.8.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.10.8.8.4.1.1.m1.1a"><mo id="A4.T6.10.8.8.4.1.1.m1.1.1" xref="A4.T6.10.8.8.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.10.8.8.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.10.8.8.4.1.1.m1.1.1.cmml" xref="A4.T6.10.8.8.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.10.8.8.4.1.1.m1.1c">\pm</annotation></semantics></math>.0003</span>
</span>
</td>
</tr>
<tr id="A4.T6.14.12.12" class="ltx_tr">
<th id="A4.T6.14.12.12.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="8">
<span id="A4.T6.14.12.12.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.14.12.12.5.1.1" class="ltx_p" style="width:51.2pt;"><span id="A4.T6.14.12.12.5.1.1.1" class="ltx_text">FedAvg + Fine-tuning (FT)</span></span>
</span>
</th>
<td id="A4.T6.14.12.12.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.14.12.12.6.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.14.12.12.6.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc mean before FT</span>
</span>
</td>
<td id="A4.T6.11.9.9.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.11.9.9.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.11.9.9.1.1.1" class="ltx_p" style="width:54.1pt;">0.844<math id="A4.T6.11.9.9.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.11.9.9.1.1.1.m1.1a"><mo id="A4.T6.11.9.9.1.1.1.m1.1.1" xref="A4.T6.11.9.9.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.11.9.9.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.11.9.9.1.1.1.m1.1.1.cmml" xref="A4.T6.11.9.9.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.11.9.9.1.1.1.m1.1c">\pm</annotation></semantics></math>.004</span>
</span>
</td>
<td id="A4.T6.12.10.10.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.12.10.10.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.12.10.10.2.1.1" class="ltx_p" style="width:62.6pt;">0.269<math id="A4.T6.12.10.10.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.12.10.10.2.1.1.m1.1a"><mo id="A4.T6.12.10.10.2.1.1.m1.1.1" xref="A4.T6.12.10.10.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.12.10.10.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.12.10.10.2.1.1.m1.1.1.cmml" xref="A4.T6.12.10.10.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.12.10.10.2.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
<td id="A4.T6.13.11.11.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.13.11.11.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.13.11.11.3.1.1" class="ltx_p" style="width:56.9pt;">0.564<math id="A4.T6.13.11.11.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.13.11.11.3.1.1.m1.1a"><mo id="A4.T6.13.11.11.3.1.1.m1.1.1" xref="A4.T6.13.11.11.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.13.11.11.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.13.11.11.3.1.1.m1.1.1.cmml" xref="A4.T6.13.11.11.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.13.11.11.3.1.1.m1.1c">\pm</annotation></semantics></math>.008</span>
</span>
</td>
<td id="A4.T6.14.12.12.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.14.12.12.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.14.12.12.4.1.1" class="ltx_p" style="width:45.5pt;">0.160<math id="A4.T6.14.12.12.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.14.12.12.4.1.1.m1.1a"><mo id="A4.T6.14.12.12.4.1.1.m1.1.1" xref="A4.T6.14.12.12.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.14.12.12.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.14.12.12.4.1.1.m1.1.1.cmml" xref="A4.T6.14.12.12.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.14.12.12.4.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
</tr>
<tr id="A4.T6.18.16.16" class="ltx_tr">
<td id="A4.T6.18.16.16.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.18.16.16.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.18.16.16.5.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc std before FT</span>
</span>
</td>
<td id="A4.T6.15.13.13.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.15.13.13.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.15.13.13.1.1.1" class="ltx_p" style="width:54.1pt;">0.1<math id="A4.T6.15.13.13.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.15.13.13.1.1.1.m1.1a"><mo id="A4.T6.15.13.13.1.1.1.m1.1.1" xref="A4.T6.15.13.13.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.15.13.13.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.15.13.13.1.1.1.m1.1.1.cmml" xref="A4.T6.15.13.13.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.15.13.13.1.1.1.m1.1c">\pm</annotation></semantics></math>.004</span>
</span>
</td>
<td id="A4.T6.16.14.14.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.16.14.14.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.16.14.14.2.1.1" class="ltx_p" style="width:62.6pt;">0.03<math id="A4.T6.16.14.14.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.16.14.14.2.1.1.m1.1a"><mo id="A4.T6.16.14.14.2.1.1.m1.1.1" xref="A4.T6.16.14.14.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.16.14.14.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.16.14.14.2.1.1.m1.1.1.cmml" xref="A4.T6.16.14.14.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.16.14.14.2.1.1.m1.1c">\pm</annotation></semantics></math>.0007</span>
</span>
</td>
<td id="A4.T6.17.15.15.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.17.15.15.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.17.15.15.3.1.1" class="ltx_p" style="width:56.9pt;">0.16<math id="A4.T6.17.15.15.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.17.15.15.3.1.1.m1.1a"><mo id="A4.T6.17.15.15.3.1.1.m1.1.1" xref="A4.T6.17.15.15.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.17.15.15.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.17.15.15.3.1.1.m1.1.1.cmml" xref="A4.T6.17.15.15.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.17.15.15.3.1.1.m1.1c">\pm</annotation></semantics></math>.005</span>
</span>
</td>
<td id="A4.T6.18.16.16.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.18.16.16.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.18.16.16.4.1.1" class="ltx_p" style="width:45.5pt;">0.04<math id="A4.T6.18.16.16.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.18.16.16.4.1.1.m1.1a"><mo id="A4.T6.18.16.16.4.1.1.m1.1.1" xref="A4.T6.18.16.16.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.18.16.16.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.18.16.16.4.1.1.m1.1.1.cmml" xref="A4.T6.18.16.16.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.18.16.16.4.1.1.m1.1c">\pm</annotation></semantics></math>.004</span>
</span>
</td>
</tr>
<tr id="A4.T6.22.20.20" class="ltx_tr">
<td id="A4.T6.22.20.20.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.22.20.20.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.22.20.20.5.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc after FT</span>
</span>
</td>
<td id="A4.T6.19.17.17.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.19.17.17.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.19.17.17.1.1.1" class="ltx_p" style="width:54.1pt;">0.903<math id="A4.T6.19.17.17.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.19.17.17.1.1.1.m1.1a"><mo id="A4.T6.19.17.17.1.1.1.m1.1.1" xref="A4.T6.19.17.17.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.19.17.17.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.19.17.17.1.1.1.m1.1.1.cmml" xref="A4.T6.19.17.17.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.19.17.17.1.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
<td id="A4.T6.20.18.18.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.20.18.18.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.20.18.18.2.1.1" class="ltx_p" style="width:62.6pt;">0.282<math id="A4.T6.20.18.18.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.20.18.18.2.1.1.m1.1a"><mo id="A4.T6.20.18.18.2.1.1.m1.1.1" xref="A4.T6.20.18.18.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.20.18.18.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.20.18.18.2.1.1.m1.1.1.cmml" xref="A4.T6.20.18.18.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.20.18.18.2.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
<td id="A4.T6.21.19.19.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.21.19.19.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.21.19.19.3.1.1" class="ltx_p" style="width:56.9pt;">0.773<math id="A4.T6.21.19.19.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.21.19.19.3.1.1.m1.1a"><mo id="A4.T6.21.19.19.3.1.1.m1.1.1" xref="A4.T6.21.19.19.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.21.19.19.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.21.19.19.3.1.1.m1.1.1.cmml" xref="A4.T6.21.19.19.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.21.19.19.3.1.1.m1.1c">\pm</annotation></semantics></math>.006</span>
</span>
</td>
<td id="A4.T6.22.20.20.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.22.20.20.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.22.20.20.4.1.1" class="ltx_p" style="width:45.5pt;">0.162<math id="A4.T6.22.20.20.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.22.20.20.4.1.1.m1.1a"><mo id="A4.T6.22.20.20.4.1.1.m1.1.1" xref="A4.T6.22.20.20.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.22.20.20.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.22.20.20.4.1.1.m1.1.1.cmml" xref="A4.T6.22.20.20.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.22.20.20.4.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
</tr>
<tr id="A4.T6.26.24.24" class="ltx_tr">
<td id="A4.T6.26.24.24.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.26.24.24.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.26.24.24.5.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc std after FT</span>
</span>
</td>
<td id="A4.T6.23.21.21.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.23.21.21.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.23.21.21.1.1.1" class="ltx_p" style="width:54.1pt;">0.06<math id="A4.T6.23.21.21.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.23.21.21.1.1.1.m1.1a"><mo id="A4.T6.23.21.21.1.1.1.m1.1.1" xref="A4.T6.23.21.21.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.23.21.21.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.23.21.21.1.1.1.m1.1.1.cmml" xref="A4.T6.23.21.21.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.23.21.21.1.1.1.m1.1c">\pm</annotation></semantics></math>.0005</span>
</span>
</td>
<td id="A4.T6.24.22.22.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.24.22.22.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.24.22.22.2.1.1" class="ltx_p" style="width:62.6pt;">0.03<math id="A4.T6.24.22.22.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.24.22.22.2.1.1.m1.1a"><mo id="A4.T6.24.22.22.2.1.1.m1.1.1" xref="A4.T6.24.22.22.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.24.22.22.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.24.22.22.2.1.1.m1.1.1.cmml" xref="A4.T6.24.22.22.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.24.22.22.2.1.1.m1.1c">\pm</annotation></semantics></math>.001</span>
</span>
</td>
<td id="A4.T6.25.23.23.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.25.23.23.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.25.23.23.3.1.1" class="ltx_p" style="width:56.9pt;">0.11<math id="A4.T6.25.23.23.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.25.23.23.3.1.1.m1.1a"><mo id="A4.T6.25.23.23.3.1.1.m1.1.1" xref="A4.T6.25.23.23.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.25.23.23.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.25.23.23.3.1.1.m1.1.1.cmml" xref="A4.T6.25.23.23.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.25.23.23.3.1.1.m1.1c">\pm</annotation></semantics></math>.006</span>
</span>
</td>
<td id="A4.T6.26.24.24.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.26.24.24.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.26.24.24.4.1.1" class="ltx_p" style="width:45.5pt;">0.04<math id="A4.T6.26.24.24.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.26.24.24.4.1.1.m1.1a"><mo id="A4.T6.26.24.24.4.1.1.m1.1.1" xref="A4.T6.26.24.24.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.26.24.24.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.26.24.24.4.1.1.m1.1.1.cmml" xref="A4.T6.26.24.24.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.26.24.24.4.1.1.m1.1c">\pm</annotation></semantics></math>.001</span>
</span>
</td>
</tr>
<tr id="A4.T6.30.28.28" class="ltx_tr">
<td id="A4.T6.30.28.28.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.30.28.28.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.30.28.28.5.1.1" class="ltx_p" style="width:128.0pt;">% clients "hurt" after FT</span>
</span>
</td>
<td id="A4.T6.27.25.25.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.27.25.25.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.27.25.25.1.1.1" class="ltx_p" style="width:54.1pt;">5.2%<math id="A4.T6.27.25.25.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.27.25.25.1.1.1.m1.1a"><mo id="A4.T6.27.25.25.1.1.1.m1.1.1" xref="A4.T6.27.25.25.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.27.25.25.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.27.25.25.1.1.1.m1.1.1.cmml" xref="A4.T6.27.25.25.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.27.25.25.1.1.1.m1.1c">\pm</annotation></semantics></math>0.7%</span>
</span>
</td>
<td id="A4.T6.28.26.26.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.28.26.26.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.28.26.26.2.1.1" class="ltx_p" style="width:62.6pt;">14%<math id="A4.T6.28.26.26.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.28.26.26.2.1.1.m1.1a"><mo id="A4.T6.28.26.26.2.1.1.m1.1.1" xref="A4.T6.28.26.26.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.28.26.26.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.28.26.26.2.1.1.m1.1.1.cmml" xref="A4.T6.28.26.26.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.28.26.26.2.1.1.m1.1c">\pm</annotation></semantics></math>2.4%</span>
</span>
</td>
<td id="A4.T6.29.27.27.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.29.27.27.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.29.27.27.3.1.1" class="ltx_p" style="width:56.9pt;">5.6%<math id="A4.T6.29.27.27.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.29.27.27.3.1.1.m1.1a"><mo id="A4.T6.29.27.27.3.1.1.m1.1.1" xref="A4.T6.29.27.27.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.29.27.27.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.29.27.27.3.1.1.m1.1.1.cmml" xref="A4.T6.29.27.27.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.29.27.27.3.1.1.m1.1c">\pm</annotation></semantics></math>2.4%</span>
</span>
</td>
<td id="A4.T6.30.28.28.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.30.28.28.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.30.28.28.4.1.1" class="ltx_p" style="width:45.5pt;">40%<math id="A4.T6.30.28.28.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.30.28.28.4.1.1.m1.1a"><mo id="A4.T6.30.28.28.4.1.1.m1.1.1" xref="A4.T6.30.28.28.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.30.28.28.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.30.28.28.4.1.1.m1.1.1.cmml" xref="A4.T6.30.28.28.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.30.28.28.4.1.1.m1.1c">\pm</annotation></semantics></math>4.8%</span>
</span>
</td>
</tr>
<tr id="A4.T6.65.63.65.2" class="ltx_tr">
<td id="A4.T6.65.63.65.2.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.65.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.65.2.1.1.1" class="ltx_p" style="width:128.0pt;">FT all layers vs last layer</span>
</span>
</td>
<td id="A4.T6.65.63.65.2.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.65.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.65.2.2.1.1" class="ltx_p" style="width:54.1pt;">All layers</span>
</span>
</td>
<td id="A4.T6.65.63.65.2.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.65.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.65.2.3.1.1" class="ltx_p" style="width:62.6pt;">All layers</span>
</span>
</td>
<td id="A4.T6.65.63.65.2.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.65.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.65.2.4.1.1" class="ltx_p" style="width:56.9pt;">All layers</span>
</span>
</td>
<td id="A4.T6.65.63.65.2.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.65.2.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.65.2.5.1.1" class="ltx_p" style="width:45.5pt;">All layers</span>
</span>
</td>
</tr>
<tr id="A4.T6.65.63.66.3" class="ltx_tr">
<td id="A4.T6.65.63.66.3.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="A4.T6.65.63.66.3.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns<span id="A4.T6.65.63.66.3.1.1.1" class="ltx_text ltx_font_medium">: difficult to tune hyperparameters; may hurt clients; sensitive</span></span></td>
</tr>
<tr id="A4.T6.65.63.67.4" class="ltx_tr">
<td id="A4.T6.65.63.67.4.1" class="ltx_td ltx_align_center ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="A4.T6.65.63.67.4.1.1" class="ltx_text ltx_font_italic">to distribution shift; performance drops with fewer local examples (see Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>)</span></td>
</tr>
<tr id="A4.T6.34.32.32" class="ltx_tr">
<th id="A4.T6.34.32.32.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="9">
<span id="A4.T6.34.32.32.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.34.32.32.5.1.1" class="ltx_p" style="width:51.2pt;"><span id="A4.T6.34.32.32.5.1.1.1" class="ltx_text">HypCluster / IFCA</span></span>
</span>
</th>
<td id="A4.T6.34.32.32.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.34.32.32.6.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.34.32.32.6.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc mean</span>
</span>
</td>
<td id="A4.T6.31.29.29.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.31.29.29.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.31.29.29.1.1.1" class="ltx_p" style="width:54.1pt;">0.897<math id="A4.T6.31.29.29.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.31.29.29.1.1.1.m1.1a"><mo id="A4.T6.31.29.29.1.1.1.m1.1.1" xref="A4.T6.31.29.29.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.31.29.29.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.31.29.29.1.1.1.m1.1.1.cmml" xref="A4.T6.31.29.29.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.31.29.29.1.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
<td id="A4.T6.32.30.30.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.32.30.30.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.32.30.30.2.1.1" class="ltx_p" style="width:62.6pt;">0.273<math id="A4.T6.32.30.30.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.32.30.30.2.1.1.m1.1a"><mo id="A4.T6.32.30.30.2.1.1.m1.1.1" xref="A4.T6.32.30.30.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.32.30.30.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.32.30.30.2.1.1.m1.1.1.cmml" xref="A4.T6.32.30.30.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.32.30.30.2.1.1.m1.1c">\pm</annotation></semantics></math>.0009</span>
</span>
</td>
<td id="A4.T6.33.31.31.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.33.31.31.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.33.31.31.3.1.1" class="ltx_p" style="width:56.9pt;">0.573<math id="A4.T6.33.31.31.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.33.31.31.3.1.1.m1.1a"><mo id="A4.T6.33.31.31.3.1.1.m1.1.1" xref="A4.T6.33.31.31.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.33.31.31.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.33.31.31.3.1.1.m1.1.1.cmml" xref="A4.T6.33.31.31.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.33.31.31.3.1.1.m1.1c">\pm</annotation></semantics></math>.005</span>
</span>
</td>
<td id="A4.T6.34.32.32.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.34.32.32.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.34.32.32.4.1.1" class="ltx_p" style="width:45.5pt;">0.163<math id="A4.T6.34.32.32.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.34.32.32.4.1.1.m1.1a"><mo id="A4.T6.34.32.32.4.1.1.m1.1.1" xref="A4.T6.34.32.32.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.34.32.32.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.34.32.32.4.1.1.m1.1.1.cmml" xref="A4.T6.34.32.32.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.34.32.32.4.1.1.m1.1c">\pm</annotation></semantics></math>.004</span>
</span>
</td>
</tr>
<tr id="A4.T6.38.36.36" class="ltx_tr">
<td id="A4.T6.38.36.36.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.38.36.36.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.38.36.36.5.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc std</span>
</span>
</td>
<td id="A4.T6.35.33.33.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.35.33.33.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.35.33.33.1.1.1" class="ltx_p" style="width:54.1pt;">0.08<math id="A4.T6.35.33.33.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.35.33.33.1.1.1.m1.1a"><mo id="A4.T6.35.33.33.1.1.1.m1.1.1" xref="A4.T6.35.33.33.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.35.33.33.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.35.33.33.1.1.1.m1.1.1.cmml" xref="A4.T6.35.33.33.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.35.33.33.1.1.1.m1.1c">\pm</annotation></semantics></math>.003</span>
</span>
</td>
<td id="A4.T6.36.34.34.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.36.34.34.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.36.34.34.2.1.1" class="ltx_p" style="width:62.6pt;">0.03<math id="A4.T6.36.34.34.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.36.34.34.2.1.1.m1.1a"><mo id="A4.T6.36.34.34.2.1.1.m1.1.1" xref="A4.T6.36.34.34.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.36.34.34.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.36.34.34.2.1.1.m1.1.1.cmml" xref="A4.T6.36.34.34.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.36.34.34.2.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
<td id="A4.T6.37.35.35.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.37.35.35.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.37.35.35.3.1.1" class="ltx_p" style="width:56.9pt;">0.16<math id="A4.T6.37.35.35.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.37.35.35.3.1.1.m1.1a"><mo id="A4.T6.37.35.35.3.1.1.m1.1.1" xref="A4.T6.37.35.35.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.37.35.35.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.37.35.35.3.1.1.m1.1.1.cmml" xref="A4.T6.37.35.35.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.37.35.35.3.1.1.m1.1c">\pm</annotation></semantics></math>.003</span>
</span>
</td>
<td id="A4.T6.38.36.36.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.38.36.36.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.38.36.36.4.1.1" class="ltx_p" style="width:45.5pt;">0.04<math id="A4.T6.38.36.36.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.38.36.36.4.1.1.m1.1a"><mo id="A4.T6.38.36.36.4.1.1.m1.1.1" xref="A4.T6.38.36.36.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.38.36.36.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.38.36.36.4.1.1.m1.1.1.cmml" xref="A4.T6.38.36.36.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.38.36.36.4.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
</tr>
<tr id="A4.T6.39.37.37" class="ltx_tr">
<td id="A4.T6.39.37.37.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.39.37.37.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.39.37.37.1.1.1" class="ltx_p" style="width:128.0pt;">No. tuned clusters (<math id="A4.T6.39.37.37.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A4.T6.39.37.37.1.1.1.m1.1a"><mi id="A4.T6.39.37.37.1.1.1.m1.1.1" xref="A4.T6.39.37.37.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T6.39.37.37.1.1.1.m1.1b"><ci id="A4.T6.39.37.37.1.1.1.m1.1.1.cmml" xref="A4.T6.39.37.37.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.39.37.37.1.1.1.m1.1c">k</annotation></semantics></math>)</span>
</span>
</td>
<td id="A4.T6.39.37.37.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.39.37.37.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.39.37.37.2.1.1" class="ltx_p" style="width:54.1pt;">2</span>
</span>
</td>
<td id="A4.T6.39.37.37.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.39.37.37.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.39.37.37.3.1.1" class="ltx_p" style="width:62.6pt;">2</span>
</span>
</td>
<td id="A4.T6.39.37.37.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.39.37.37.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.39.37.37.4.1.1" class="ltx_p" style="width:56.9pt;">2</span>
</span>
</td>
<td id="A4.T6.39.37.37.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.39.37.37.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.39.37.37.5.1.1" class="ltx_p" style="width:45.5pt;">2</span>
</span>
</td>
</tr>
<tr id="A4.T6.43.41.41" class="ltx_tr">
<td id="A4.T6.43.41.41.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.43.41.41.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.43.41.41.5.1.1" class="ltx_p" style="width:128.0pt;">% clients largest cluster</span>
</span>
</td>
<td id="A4.T6.40.38.38.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.40.38.38.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.40.38.38.1.1.1" class="ltx_p" style="width:54.1pt;">52.6%<math id="A4.T6.40.38.38.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.40.38.38.1.1.1.m1.1a"><mo id="A4.T6.40.38.38.1.1.1.m1.1.1" xref="A4.T6.40.38.38.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.40.38.38.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.40.38.38.1.1.1.m1.1.1.cmml" xref="A4.T6.40.38.38.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.40.38.38.1.1.1.m1.1c">\pm</annotation></semantics></math>0.8%</span>
</span>
</td>
<td id="A4.T6.41.39.39.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.41.39.39.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.41.39.39.2.1.1" class="ltx_p" style="width:62.6pt;">85.1%<math id="A4.T6.41.39.39.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.41.39.39.2.1.1.m1.1a"><mo id="A4.T6.41.39.39.2.1.1.m1.1.1" xref="A4.T6.41.39.39.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.41.39.39.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.41.39.39.2.1.1.m1.1.1.cmml" xref="A4.T6.41.39.39.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.41.39.39.2.1.1.m1.1c">\pm</annotation></semantics></math>1.6%</span>
</span>
</td>
<td id="A4.T6.42.40.40.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.42.40.40.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.42.40.40.3.1.1" class="ltx_p" style="width:56.9pt;">92.1%<math id="A4.T6.42.40.40.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.42.40.40.3.1.1.m1.1a"><mo id="A4.T6.42.40.40.3.1.1.m1.1.1" xref="A4.T6.42.40.40.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.42.40.40.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.42.40.40.3.1.1.m1.1.1.cmml" xref="A4.T6.42.40.40.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.42.40.40.3.1.1.m1.1c">\pm</annotation></semantics></math>3.6%</span>
</span>
</td>
<td id="A4.T6.43.41.41.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.43.41.41.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.43.41.41.4.1.1" class="ltx_p" style="width:45.5pt;">54.7%<math id="A4.T6.43.41.41.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.43.41.41.4.1.1.m1.1a"><mo id="A4.T6.43.41.41.4.1.1.m1.1.1" xref="A4.T6.43.41.41.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.43.41.41.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.43.41.41.4.1.1.m1.1.1.cmml" xref="A4.T6.43.41.41.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.43.41.41.4.1.1.m1.1c">\pm</annotation></semantics></math>0</span>
</span>
</td>
</tr>
<tr id="A4.T6.65.63.68.5" class="ltx_tr">
<td id="A4.T6.65.63.68.5.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.68.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.68.5.1.1.1" class="ltx_p" style="width:128.0pt;">Warmstart from FedAvg</span>
</span>
</td>
<td id="A4.T6.65.63.68.5.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.68.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.68.5.2.1.1" class="ltx_p" style="width:54.1pt;">Yes</span>
</span>
</td>
<td id="A4.T6.65.63.68.5.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.68.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.68.5.3.1.1" class="ltx_p" style="width:62.6pt;">Yes</span>
</span>
</td>
<td id="A4.T6.65.63.68.5.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.68.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.68.5.4.1.1" class="ltx_p" style="width:56.9pt;">Yes</span>
</span>
</td>
<td id="A4.T6.65.63.68.5.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.68.5.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.68.5.5.1.1" class="ltx_p" style="width:45.5pt;">Yes</span>
</span>
</td>
</tr>
<tr id="A4.T6.48.46.46" class="ltx_tr">
<td id="A4.T6.44.42.42.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.44.42.42.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.44.42.42.1.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc mean by ensembling <math id="A4.T6.44.42.42.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A4.T6.44.42.42.1.1.1.m1.1a"><mi id="A4.T6.44.42.42.1.1.1.m1.1.1" xref="A4.T6.44.42.42.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T6.44.42.42.1.1.1.m1.1b"><ci id="A4.T6.44.42.42.1.1.1.m1.1.1.cmml" xref="A4.T6.44.42.42.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.44.42.42.1.1.1.m1.1c">k</annotation></semantics></math> FedAvg models</span>
</span>
</td>
<td id="A4.T6.45.43.43.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.45.43.43.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.45.43.43.2.1.1" class="ltx_p" style="width:54.1pt;">0.860<math id="A4.T6.45.43.43.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.45.43.43.2.1.1.m1.1a"><mo id="A4.T6.45.43.43.2.1.1.m1.1.1" xref="A4.T6.45.43.43.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.45.43.43.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.45.43.43.2.1.1.m1.1.1.cmml" xref="A4.T6.45.43.43.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.45.43.43.2.1.1.m1.1c">\pm</annotation></semantics></math>.005</span>
</span>
</td>
<td id="A4.T6.46.44.44.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.46.44.44.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.46.44.44.3.1.1" class="ltx_p" style="width:62.6pt;">0.271<math id="A4.T6.46.44.44.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.46.44.44.3.1.1.m1.1a"><mo id="A4.T6.46.44.44.3.1.1.m1.1.1" xref="A4.T6.46.44.44.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.46.44.44.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.46.44.44.3.1.1.m1.1.1.cmml" xref="A4.T6.46.44.44.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.46.44.44.3.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
<td id="A4.T6.47.45.45.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.47.45.45.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.47.45.45.4.1.1" class="ltx_p" style="width:56.9pt;">0.564<math id="A4.T6.47.45.45.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.47.45.45.4.1.1.m1.1a"><mo id="A4.T6.47.45.45.4.1.1.m1.1.1" xref="A4.T6.47.45.45.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.47.45.45.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.47.45.45.4.1.1.m1.1.1.cmml" xref="A4.T6.47.45.45.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.47.45.45.4.1.1.m1.1c">\pm</annotation></semantics></math>.016</span>
</span>
</td>
<td id="A4.T6.48.46.46.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.48.46.46.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.48.46.46.5.1.1" class="ltx_p" style="width:45.5pt;">0.163<math id="A4.T6.48.46.46.5.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.48.46.46.5.1.1.m1.1a"><mo id="A4.T6.48.46.46.5.1.1.m1.1.1" xref="A4.T6.48.46.46.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.48.46.46.5.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.48.46.46.5.1.1.m1.1.1.cmml" xref="A4.T6.48.46.46.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.48.46.46.5.1.1.m1.1c">\pm</annotation></semantics></math>.004</span>
</span>
</td>
</tr>
<tr id="A4.T6.53.51.51" class="ltx_tr">
<td id="A4.T6.49.47.47.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.49.47.47.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.49.47.47.1.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc std by ensembling <math id="A4.T6.49.47.47.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A4.T6.49.47.47.1.1.1.m1.1a"><mi id="A4.T6.49.47.47.1.1.1.m1.1.1" xref="A4.T6.49.47.47.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T6.49.47.47.1.1.1.m1.1b"><ci id="A4.T6.49.47.47.1.1.1.m1.1.1.cmml" xref="A4.T6.49.47.47.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.49.47.47.1.1.1.m1.1c">k</annotation></semantics></math> FedAvg models</span>
</span>
</td>
<td id="A4.T6.50.48.48.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.50.48.48.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.50.48.48.2.1.1" class="ltx_p" style="width:54.1pt;">0.08<math id="A4.T6.50.48.48.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.50.48.48.2.1.1.m1.1a"><mo id="A4.T6.50.48.48.2.1.1.m1.1.1" xref="A4.T6.50.48.48.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.50.48.48.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.50.48.48.2.1.1.m1.1.1.cmml" xref="A4.T6.50.48.48.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.50.48.48.2.1.1.m1.1c">\pm</annotation></semantics></math>.006</span>
</span>
</td>
<td id="A4.T6.51.49.49.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.51.49.49.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.51.49.49.3.1.1" class="ltx_p" style="width:62.6pt;">0.03<math id="A4.T6.51.49.49.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.51.49.49.3.1.1.m1.1a"><mo id="A4.T6.51.49.49.3.1.1.m1.1.1" xref="A4.T6.51.49.49.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.51.49.49.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.51.49.49.3.1.1.m1.1.1.cmml" xref="A4.T6.51.49.49.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.51.49.49.3.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
<td id="A4.T6.52.50.50.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.52.50.50.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.52.50.50.4.1.1" class="ltx_p" style="width:56.9pt;">0.16<math id="A4.T6.52.50.50.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.52.50.50.4.1.1.m1.1a"><mo id="A4.T6.52.50.50.4.1.1.m1.1.1" xref="A4.T6.52.50.50.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.52.50.50.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.52.50.50.4.1.1.m1.1.1.cmml" xref="A4.T6.52.50.50.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.52.50.50.4.1.1.m1.1c">\pm</annotation></semantics></math>.007</span>
</span>
</td>
<td id="A4.T6.53.51.51.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.53.51.51.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.53.51.51.5.1.1" class="ltx_p" style="width:45.5pt;">0.04<math id="A4.T6.53.51.51.5.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.53.51.51.5.1.1.m1.1a"><mo id="A4.T6.53.51.51.5.1.1.m1.1.1" xref="A4.T6.53.51.51.5.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.53.51.51.5.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.53.51.51.5.1.1.m1.1.1.cmml" xref="A4.T6.53.51.51.5.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.53.51.51.5.1.1.m1.1c">\pm</annotation></semantics></math>.004</span>
</span>
</td>
</tr>
<tr id="A4.T6.65.63.69.6" class="ltx_tr">
<td id="A4.T6.65.63.69.6.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="A4.T6.65.63.69.6.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns<span id="A4.T6.65.63.69.6.1.1.1" class="ltx_text ltx_font_medium">: difficult to train due to mode collapse; high communication cost;</span></span></td>
</tr>
<tr id="A4.T6.65.63.70.7" class="ltx_tr">
<td id="A4.T6.65.63.70.7.1" class="ltx_td ltx_align_center ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="A4.T6.65.63.70.7.1.1" class="ltx_text ltx_font_italic">difficult to interpret the learned clusters; sensitive to distribution shift (see Section <a href="#S4.SS2" title="4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.2</span></a>)</span></td>
</tr>
<tr id="A4.T6.57.55.55" class="ltx_tr">
<th id="A4.T6.57.55.55.5" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="5">
<span id="A4.T6.57.55.55.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.57.55.55.5.1.1" class="ltx_p" style="width:51.2pt;"><span id="A4.T6.57.55.55.5.1.1.1" class="ltx_text">FedAvg + kNN-Per</span></span>
</span>
</th>
<td id="A4.T6.57.55.55.6" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.57.55.55.6.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.57.55.55.6.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc mean</span>
</span>
</td>
<td id="A4.T6.54.52.52.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.54.52.52.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.54.52.52.1.1.1" class="ltx_p" style="width:54.1pt;">0.876<math id="A4.T6.54.52.52.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.54.52.52.1.1.1.m1.1a"><mo id="A4.T6.54.52.52.1.1.1.m1.1.1" xref="A4.T6.54.52.52.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.54.52.52.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.54.52.52.1.1.1.m1.1.1.cmml" xref="A4.T6.54.52.52.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.54.52.52.1.1.1.m1.1c">\pm</annotation></semantics></math>.003</span>
</span>
</td>
<td id="A4.T6.55.53.53.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.55.53.53.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.55.53.53.2.1.1" class="ltx_p" style="width:62.6pt;">0.275<math id="A4.T6.55.53.53.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.55.53.53.2.1.1.m1.1a"><mo id="A4.T6.55.53.53.2.1.1.m1.1.1" xref="A4.T6.55.53.53.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.55.53.53.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.55.53.53.2.1.1.m1.1.1.cmml" xref="A4.T6.55.53.53.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.55.53.53.2.1.1.m1.1c">\pm</annotation></semantics></math>.0005</span>
</span>
</td>
<td id="A4.T6.56.54.54.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.56.54.54.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.56.54.54.3.1.1" class="ltx_p" style="width:56.9pt;">0.735<math id="A4.T6.56.54.54.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.56.54.54.3.1.1.m1.1a"><mo id="A4.T6.56.54.54.3.1.1.m1.1.1" xref="A4.T6.56.54.54.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.56.54.54.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.56.54.54.3.1.1.m1.1.1.cmml" xref="A4.T6.56.54.54.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.56.54.54.3.1.1.m1.1c">\pm</annotation></semantics></math>.007</span>
</span>
</td>
<td id="A4.T6.57.55.55.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.57.55.55.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.57.55.55.4.1.1" class="ltx_p" style="width:45.5pt;">0.162<math id="A4.T6.57.55.55.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.57.55.55.4.1.1.m1.1a"><mo id="A4.T6.57.55.55.4.1.1.m1.1.1" xref="A4.T6.57.55.55.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.57.55.55.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.57.55.55.4.1.1.m1.1.1.cmml" xref="A4.T6.57.55.55.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.57.55.55.4.1.1.m1.1c">\pm</annotation></semantics></math>.002</span>
</span>
</td>
</tr>
<tr id="A4.T6.61.59.59" class="ltx_tr">
<td id="A4.T6.61.59.59.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.61.59.59.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.61.59.59.5.1.1" class="ltx_p" style="width:128.0pt;">Per-client acc std</span>
</span>
</td>
<td id="A4.T6.58.56.56.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.58.56.56.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.58.56.56.1.1.1" class="ltx_p" style="width:54.1pt;">0.06<math id="A4.T6.58.56.56.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.58.56.56.1.1.1.m1.1a"><mo id="A4.T6.58.56.56.1.1.1.m1.1.1" xref="A4.T6.58.56.56.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.58.56.56.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.58.56.56.1.1.1.m1.1.1.cmml" xref="A4.T6.58.56.56.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.58.56.56.1.1.1.m1.1c">\pm</annotation></semantics></math>.004</span>
</span>
</td>
<td id="A4.T6.59.57.57.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.59.57.57.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.59.57.57.2.1.1" class="ltx_p" style="width:62.6pt;">0.03<math id="A4.T6.59.57.57.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.59.57.57.2.1.1.m1.1a"><mo id="A4.T6.59.57.57.2.1.1.m1.1.1" xref="A4.T6.59.57.57.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.59.57.57.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.59.57.57.2.1.1.m1.1.1.cmml" xref="A4.T6.59.57.57.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.59.57.57.2.1.1.m1.1c">\pm</annotation></semantics></math>.0009</span>
</span>
</td>
<td id="A4.T6.60.58.58.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.60.58.58.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.60.58.58.3.1.1" class="ltx_p" style="width:56.9pt;">0.13<math id="A4.T6.60.58.58.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.60.58.58.3.1.1.m1.1a"><mo id="A4.T6.60.58.58.3.1.1.m1.1.1" xref="A4.T6.60.58.58.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.60.58.58.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.60.58.58.3.1.1.m1.1.1.cmml" xref="A4.T6.60.58.58.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.60.58.58.3.1.1.m1.1c">\pm</annotation></semantics></math>.005</span>
</span>
</td>
<td id="A4.T6.61.59.59.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.61.59.59.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.61.59.59.4.1.1" class="ltx_p" style="width:45.5pt;">0.05<math id="A4.T6.61.59.59.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.61.59.59.4.1.1.m1.1a"><mo id="A4.T6.61.59.59.4.1.1.m1.1.1" xref="A4.T6.61.59.59.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.61.59.59.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.61.59.59.4.1.1.m1.1.1.cmml" xref="A4.T6.61.59.59.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.61.59.59.4.1.1.m1.1c">\pm</annotation></semantics></math>.004</span>
</span>
</td>
</tr>
<tr id="A4.T6.65.63.63" class="ltx_tr">
<td id="A4.T6.65.63.63.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.63.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.63.5.1.1" class="ltx_p" style="width:128.0pt;">% clients "hurt"</span>
</span>
</td>
<td id="A4.T6.62.60.60.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.62.60.60.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.62.60.60.1.1.1" class="ltx_p" style="width:54.1pt;">19.8%<math id="A4.T6.62.60.60.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.62.60.60.1.1.1.m1.1a"><mo id="A4.T6.62.60.60.1.1.1.m1.1.1" xref="A4.T6.62.60.60.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.62.60.60.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.62.60.60.1.1.1.m1.1.1.cmml" xref="A4.T6.62.60.60.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.62.60.60.1.1.1.m1.1c">\pm</annotation></semantics></math>4.2%</span>
</span>
</td>
<td id="A4.T6.63.61.61.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.63.61.61.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.63.61.61.2.1.1" class="ltx_p" style="width:62.6pt;">23.6%<math id="A4.T6.63.61.61.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.63.61.61.2.1.1.m1.1a"><mo id="A4.T6.63.61.61.2.1.1.m1.1.1" xref="A4.T6.63.61.61.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.63.61.61.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.63.61.61.2.1.1.m1.1.1.cmml" xref="A4.T6.63.61.61.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.63.61.61.2.1.1.m1.1c">\pm</annotation></semantics></math> 3.4%</span>
</span>
</td>
<td id="A4.T6.64.62.62.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.64.62.62.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.64.62.62.3.1.1" class="ltx_p" style="width:56.9pt;">5.6%<math id="A4.T6.64.62.62.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.64.62.62.3.1.1.m1.1a"><mo id="A4.T6.64.62.62.3.1.1.m1.1.1" xref="A4.T6.64.62.62.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.64.62.62.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.64.62.62.3.1.1.m1.1.1.cmml" xref="A4.T6.64.62.62.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.64.62.62.3.1.1.m1.1c">\pm</annotation></semantics></math>2.3%</span>
</span>
</td>
<td id="A4.T6.65.63.63.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T6.65.63.63.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T6.65.63.63.4.1.1" class="ltx_p" style="width:45.5pt;">34.4%<math id="A4.T6.65.63.63.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T6.65.63.63.4.1.1.m1.1a"><mo id="A4.T6.65.63.63.4.1.1.m1.1.1" xref="A4.T6.65.63.63.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T6.65.63.63.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T6.65.63.63.4.1.1.m1.1.1.cmml" xref="A4.T6.65.63.63.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T6.65.63.63.4.1.1.m1.1c">\pm</annotation></semantics></math>4.5%</span>
</span>
</td>
</tr>
<tr id="A4.T6.65.63.71.8" class="ltx_tr">
<td id="A4.T6.65.63.71.8.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="A4.T6.65.63.71.8.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns<span id="A4.T6.65.63.71.8.1.1.1" class="ltx_text ltx_font_medium">: difficult to tune hyperparameters; may hurt clients; sensitive</span></span></td>
</tr>
<tr id="A4.T6.65.63.72.9" class="ltx_tr">
<td id="A4.T6.65.63.72.9.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="5"><span id="A4.T6.65.63.72.9.1.1" class="ltx_text ltx_font_italic">to distribution shift; performance drops with fewer local examples (see Section <a href="#S4.SS3" title="4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>)</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure id="A4.T7" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="A4.T7.62.2.1" class="ltx_text" style="font-size:90%;">Table 7</span>: </span><span id="A4.T7.2.1" class="ltx_text" style="font-size:90%;">Complete results of the experiments in Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>. The only difference is that we report each metric’s mean and standard deviation (std) across 5 different runs. Similar to results in cross-device experiments, there are two stds here: 1) "per-client acc std", the std of per-client accuracy across the test clients, which is a fairness metric considered in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>, <a href="#bib.bib53" title="" class="ltx_ref">53</a>]</cite> and is already included in Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>; 2) the std across 5 different runs, which is omitted from Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> and is shown after <math id="A4.T7.2.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.2.1.m1.1b"><mo id="A4.T7.2.1.m1.1.1" xref="A4.T7.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.2.1.m1.1c"><csymbol cd="latexml" id="A4.T7.2.1.m1.1.1.cmml" xref="A4.T7.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.2.1.m1.1d">\pm</annotation></semantics></math> in this table.
</span></figcaption>
<div id="A4.T7.60" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:473.1pt;height:530.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1.0,1.0) ;">
<table id="A4.T7.60.58" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A4.T7.60.58.59.1" class="ltx_tr">
<th id="A4.T7.60.58.59.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.59.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.59.1.1.1.1" class="ltx_p" style="width:56.9pt;"><span id="A4.T7.60.58.59.1.1.1.1.1" class="ltx_text ltx_font_bold">Algorithm</span></span>
</span>
</th>
<td id="A4.T7.60.58.59.1.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.59.1.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.59.1.2.1.1" class="ltx_p" style="width:148.0pt;"><span id="A4.T7.60.58.59.1.2.1.1.1" class="ltx_text ltx_font_bold">Metrics</span></span>
</span>
</td>
<td id="A4.T7.60.58.59.1.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.59.1.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.59.1.3.1.1" class="ltx_p" style="width:68.3pt;"><span id="A4.T7.60.58.59.1.3.1.1.1" class="ltx_text ltx_font_bold">Vehicle</span> (<span id="A4.T7.60.58.59.1.3.1.1.2" class="ltx_text ltx_font_bold" style="color:#009900;">acc</span>)</span>
</span>
</td>
<td id="A4.T7.60.58.59.1.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.59.1.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.59.1.4.1.1" class="ltx_p" style="width:68.3pt;"><span id="A4.T7.60.58.59.1.4.1.1.1" class="ltx_text ltx_font_bold">School</span> (<span id="A4.T7.60.58.59.1.4.1.1.2" class="ltx_text ltx_font_bold" style="color:#B80000;">mse</span>)</span>
</span>
</td>
<td id="A4.T7.60.58.59.1.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_tt" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.59.1.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.59.1.5.1.1" class="ltx_p" style="width:68.3pt;"><span id="A4.T7.60.58.59.1.5.1.1.1" class="ltx_text ltx_font_bold">ADNI</span> (<span id="A4.T7.60.58.59.1.5.1.1.2" class="ltx_text ltx_font_bold" style="color:#B80000;">mse</span>)</span>
</span>
</td>
</tr>
<tr id="A4.T7.5.3.3" class="ltx_tr">
<th id="A4.T7.5.3.3.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2">
<span id="A4.T7.5.3.3.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.5.3.3.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A4.T7.5.3.3.4.1.1.1" class="ltx_text">Local training</span></span>
</span>
</th>
<td id="A4.T7.5.3.3.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.5.3.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.5.3.3.5.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric mean</span>
</span>
</td>
<td id="A4.T7.3.1.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.3.1.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.3.1.1.1.1.1" class="ltx_p" style="width:68.3pt;">0.9367<math id="A4.T7.3.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.3.1.1.1.1.1.m1.1a"><mo id="A4.T7.3.1.1.1.1.1.m1.1.1" xref="A4.T7.3.1.1.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.3.1.1.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.3.1.1.1.1.1.m1.1.1.cmml" xref="A4.T7.3.1.1.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.3.1.1.1.1.1.m1.1c">\pm</annotation></semantics></math>.0248</span>
</span>
</td>
<td id="A4.T7.4.2.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.4.2.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.4.2.2.2.1.1" class="ltx_p" style="width:68.3pt;">0.0121<math id="A4.T7.4.2.2.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.4.2.2.2.1.1.m1.1a"><mo id="A4.T7.4.2.2.2.1.1.m1.1.1" xref="A4.T7.4.2.2.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.4.2.2.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.4.2.2.2.1.1.m1.1.1.cmml" xref="A4.T7.4.2.2.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.4.2.2.2.1.1.m1.1c">\pm</annotation></semantics></math>.0059</span>
</span>
</td>
<td id="A4.T7.5.3.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.5.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.5.3.3.3.1.1" class="ltx_p" style="width:68.3pt;">0.0177<math id="A4.T7.5.3.3.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.5.3.3.3.1.1.m1.1a"><mo id="A4.T7.5.3.3.3.1.1.m1.1.1" xref="A4.T7.5.3.3.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.5.3.3.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.5.3.3.3.1.1.m1.1.1.cmml" xref="A4.T7.5.3.3.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.5.3.3.3.1.1.m1.1c">\pm</annotation></semantics></math>.0007</span>
</span>
</td>
</tr>
<tr id="A4.T7.8.6.6" class="ltx_tr">
<td id="A4.T7.8.6.6.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.8.6.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.8.6.6.4.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric std</span>
</span>
</td>
<td id="A4.T7.6.4.4.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.6.4.4.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.6.4.4.1.1.1" class="ltx_p" style="width:68.3pt;">0.0027<math id="A4.T7.6.4.4.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.6.4.4.1.1.1.m1.1a"><mo id="A4.T7.6.4.4.1.1.1.m1.1.1" xref="A4.T7.6.4.4.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.6.4.4.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.6.4.4.1.1.1.m1.1.1.cmml" xref="A4.T7.6.4.4.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.6.4.4.1.1.1.m1.1c">\pm</annotation></semantics></math>.0029</span>
</span>
</td>
<td id="A4.T7.7.5.5.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.7.5.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.7.5.5.2.1.1" class="ltx_p" style="width:68.3pt;">0.0003<math id="A4.T7.7.5.5.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.7.5.5.2.1.1.m1.1a"><mo id="A4.T7.7.5.5.2.1.1.m1.1.1" xref="A4.T7.7.5.5.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.7.5.5.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.7.5.5.2.1.1.m1.1.1.cmml" xref="A4.T7.7.5.5.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.7.5.5.2.1.1.m1.1c">\pm</annotation></semantics></math>.0008</span>
</span>
</td>
<td id="A4.T7.8.6.6.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.8.6.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.8.6.6.3.1.1" class="ltx_p" style="width:68.3pt;">0.0106<math id="A4.T7.8.6.6.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.8.6.6.3.1.1.m1.1a"><mo id="A4.T7.8.6.6.3.1.1.m1.1.1" xref="A4.T7.8.6.6.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.8.6.6.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.8.6.6.3.1.1.m1.1.1.cmml" xref="A4.T7.8.6.6.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.8.6.6.3.1.1.m1.1c">\pm</annotation></semantics></math>.0007</span>
</span>
</td>
</tr>
<tr id="A4.T7.11.9.9" class="ltx_tr">
<th id="A4.T7.11.9.9.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="8">
<span id="A4.T7.11.9.9.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.11.9.9.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A4.T7.11.9.9.4.1.1.1" class="ltx_text">FedAvg + Fine-tuning (FT)</span></span>
</span>
</th>
<td id="A4.T7.11.9.9.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.11.9.9.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.11.9.9.5.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric mean before FT</span>
</span>
</td>
<td id="A4.T7.9.7.7.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.9.7.7.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.9.7.7.1.1.1" class="ltx_p" style="width:68.3pt;">0.8859<math id="A4.T7.9.7.7.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.9.7.7.1.1.1.m1.1a"><mo id="A4.T7.9.7.7.1.1.1.m1.1.1" xref="A4.T7.9.7.7.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.9.7.7.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.9.7.7.1.1.1.m1.1.1.cmml" xref="A4.T7.9.7.7.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.9.7.7.1.1.1.m1.1c">\pm</annotation></semantics></math>.0833</span>
</span>
</td>
<td id="A4.T7.10.8.8.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.10.8.8.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.10.8.8.2.1.1" class="ltx_p" style="width:68.3pt;">0.0130<math id="A4.T7.10.8.8.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.10.8.8.2.1.1.m1.1a"><mo id="A4.T7.10.8.8.2.1.1.m1.1.1" xref="A4.T7.10.8.8.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.10.8.8.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.10.8.8.2.1.1.m1.1.1.cmml" xref="A4.T7.10.8.8.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.10.8.8.2.1.1.m1.1c">\pm</annotation></semantics></math>.0068</span>
</span>
</td>
<td id="A4.T7.11.9.9.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.11.9.9.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.11.9.9.3.1.1" class="ltx_p" style="width:68.3pt;">0.0141<math id="A4.T7.11.9.9.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.11.9.9.3.1.1.m1.1a"><mo id="A4.T7.11.9.9.3.1.1.m1.1.1" xref="A4.T7.11.9.9.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.11.9.9.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.11.9.9.3.1.1.m1.1.1.cmml" xref="A4.T7.11.9.9.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.11.9.9.3.1.1.m1.1c">\pm</annotation></semantics></math>.0004</span>
</span>
</td>
</tr>
<tr id="A4.T7.14.12.12" class="ltx_tr">
<td id="A4.T7.14.12.12.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.14.12.12.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.14.12.12.4.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric std before FT</span>
</span>
</td>
<td id="A4.T7.12.10.10.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.12.10.10.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.12.10.10.1.1.1" class="ltx_p" style="width:68.3pt;">0.0033<math id="A4.T7.12.10.10.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.12.10.10.1.1.1.m1.1a"><mo id="A4.T7.12.10.10.1.1.1.m1.1.1" xref="A4.T7.12.10.10.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.12.10.10.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.12.10.10.1.1.1.m1.1.1.cmml" xref="A4.T7.12.10.10.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.12.10.10.1.1.1.m1.1c">\pm</annotation></semantics></math>.0028</span>
</span>
</td>
<td id="A4.T7.13.11.11.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.13.11.11.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.13.11.11.2.1.1" class="ltx_p" style="width:68.3pt;">0.0002<math id="A4.T7.13.11.11.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.13.11.11.2.1.1.m1.1a"><mo id="A4.T7.13.11.11.2.1.1.m1.1.1" xref="A4.T7.13.11.11.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.13.11.11.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.13.11.11.2.1.1.m1.1.1.cmml" xref="A4.T7.13.11.11.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.13.11.11.2.1.1.m1.1c">\pm</annotation></semantics></math>.0009</span>
</span>
</td>
<td id="A4.T7.14.12.12.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.14.12.12.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.14.12.12.3.1.1" class="ltx_p" style="width:68.3pt;">0.0091<math id="A4.T7.14.12.12.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.14.12.12.3.1.1.m1.1a"><mo id="A4.T7.14.12.12.3.1.1.m1.1.1" xref="A4.T7.14.12.12.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.14.12.12.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.14.12.12.3.1.1.m1.1.1.cmml" xref="A4.T7.14.12.12.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.14.12.12.3.1.1.m1.1c">\pm</annotation></semantics></math>.0012</span>
</span>
</td>
</tr>
<tr id="A4.T7.17.15.15" class="ltx_tr">
<td id="A4.T7.17.15.15.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.17.15.15.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.17.15.15.4.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric mean after FT</span>
</span>
</td>
<td id="A4.T7.15.13.13.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.15.13.13.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.15.13.13.1.1.1" class="ltx_p" style="width:68.3pt;">0.9385<math id="A4.T7.15.13.13.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.15.13.13.1.1.1.m1.1a"><mo id="A4.T7.15.13.13.1.1.1.m1.1.1" xref="A4.T7.15.13.13.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.15.13.13.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.15.13.13.1.1.1.m1.1.1.cmml" xref="A4.T7.15.13.13.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.15.13.13.1.1.1.m1.1c">\pm</annotation></semantics></math>.0253</span>
</span>
</td>
<td id="A4.T7.16.14.14.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.16.14.14.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.16.14.14.2.1.1" class="ltx_p" style="width:68.3pt;">0.0116<math id="A4.T7.16.14.14.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.16.14.14.2.1.1.m1.1a"><mo id="A4.T7.16.14.14.2.1.1.m1.1.1" xref="A4.T7.16.14.14.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.16.14.14.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.16.14.14.2.1.1.m1.1.1.cmml" xref="A4.T7.16.14.14.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.16.14.14.2.1.1.m1.1c">\pm</annotation></semantics></math>.0056</span>
</span>
</td>
<td id="A4.T7.17.15.15.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.17.15.15.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.17.15.15.3.1.1" class="ltx_p" style="width:68.3pt;">0.0124<math id="A4.T7.17.15.15.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.17.15.15.3.1.1.m1.1a"><mo id="A4.T7.17.15.15.3.1.1.m1.1.1" xref="A4.T7.17.15.15.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.17.15.15.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.17.15.15.3.1.1.m1.1.1.cmml" xref="A4.T7.17.15.15.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.17.15.15.3.1.1.m1.1c">\pm</annotation></semantics></math>.0007</span>
</span>
</td>
</tr>
<tr id="A4.T7.20.18.18" class="ltx_tr">
<td id="A4.T7.20.18.18.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.20.18.18.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.20.18.18.4.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric std after FT</span>
</span>
</td>
<td id="A4.T7.18.16.16.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.18.16.16.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.18.16.16.1.1.1" class="ltx_p" style="width:68.3pt;">0.0029<math id="A4.T7.18.16.16.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.18.16.16.1.1.1.m1.1a"><mo id="A4.T7.18.16.16.1.1.1.m1.1.1" xref="A4.T7.18.16.16.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.18.16.16.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.18.16.16.1.1.1.m1.1.1.cmml" xref="A4.T7.18.16.16.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.18.16.16.1.1.1.m1.1c">\pm</annotation></semantics></math>.0015</span>
</span>
</td>
<td id="A4.T7.19.17.17.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.19.17.17.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.19.17.17.2.1.1" class="ltx_p" style="width:68.3pt;">0.0002<math id="A4.T7.19.17.17.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.19.17.17.2.1.1.m1.1a"><mo id="A4.T7.19.17.17.2.1.1.m1.1.1" xref="A4.T7.19.17.17.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.19.17.17.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.19.17.17.2.1.1.m1.1.1.cmml" xref="A4.T7.19.17.17.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.19.17.17.2.1.1.m1.1c">\pm</annotation></semantics></math>.0006</span>
</span>
</td>
<td id="A4.T7.20.18.18.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.20.18.18.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.20.18.18.3.1.1" class="ltx_p" style="width:68.3pt;">0.0082<math id="A4.T7.20.18.18.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.20.18.18.3.1.1.m1.1a"><mo id="A4.T7.20.18.18.3.1.1.m1.1.1" xref="A4.T7.20.18.18.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.20.18.18.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.20.18.18.3.1.1.m1.1.1.cmml" xref="A4.T7.20.18.18.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.20.18.18.3.1.1.m1.1c">\pm</annotation></semantics></math>.0012</span>
</span>
</td>
</tr>
<tr id="A4.T7.23.21.21" class="ltx_tr">
<td id="A4.T7.23.21.21.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.23.21.21.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.23.21.21.4.1.1" class="ltx_p" style="width:148.0pt;">% clients "hurt" after FT</span>
</span>
</td>
<td id="A4.T7.21.19.19.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.21.19.19.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.21.19.19.1.1.1" class="ltx_p" style="width:68.3pt;">4.4%<math id="A4.T7.21.19.19.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.21.19.19.1.1.1.m1.1a"><mo id="A4.T7.21.19.19.1.1.1.m1.1.1" xref="A4.T7.21.19.19.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.21.19.19.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.21.19.19.1.1.1.m1.1.1.cmml" xref="A4.T7.21.19.19.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.21.19.19.1.1.1.m1.1c">\pm</annotation></semantics></math>3.9%</span>
</span>
</td>
<td id="A4.T7.22.20.20.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.22.20.20.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.22.20.20.2.1.1" class="ltx_p" style="width:68.3pt;">33.0%<math id="A4.T7.22.20.20.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.22.20.20.2.1.1.m1.1a"><mo id="A4.T7.22.20.20.2.1.1.m1.1.1" xref="A4.T7.22.20.20.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.22.20.20.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.22.20.20.2.1.1.m1.1.1.cmml" xref="A4.T7.22.20.20.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.22.20.20.2.1.1.m1.1c">\pm</annotation></semantics></math>3.0%</span>
</span>
</td>
<td id="A4.T7.23.21.21.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.23.21.21.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.23.21.21.3.1.1" class="ltx_p" style="width:68.3pt;">0<math id="A4.T7.23.21.21.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.23.21.21.3.1.1.m1.1a"><mo id="A4.T7.23.21.21.3.1.1.m1.1.1" xref="A4.T7.23.21.21.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.23.21.21.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.23.21.21.3.1.1.m1.1.1.cmml" xref="A4.T7.23.21.21.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.23.21.21.3.1.1.m1.1c">\pm</annotation></semantics></math>0</span>
</span>
</td>
</tr>
<tr id="A4.T7.60.58.60.2" class="ltx_tr">
<td id="A4.T7.60.58.60.2.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.60.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.60.2.1.1.1" class="ltx_p" style="width:148.0pt;">FT all layers vs last layer</span>
</span>
</td>
<td id="A4.T7.60.58.60.2.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.60.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.60.2.2.1.1" class="ltx_p" style="width:68.3pt;">N/A</span>
</span>
</td>
<td id="A4.T7.60.58.60.2.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.60.2.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.60.2.3.1.1" class="ltx_p" style="width:68.3pt;">N/A</span>
</span>
</td>
<td id="A4.T7.60.58.60.2.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.60.2.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.60.2.4.1.1" class="ltx_p" style="width:68.3pt;">no difference</span>
</span>
</td>
</tr>
<tr id="A4.T7.60.58.61.3" class="ltx_tr">
<td id="A4.T7.60.58.61.3.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="A4.T7.60.58.61.3.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns:<span id="A4.T7.60.58.61.3.1.1.1" class="ltx_text ltx_font_medium"> Similar to those in the cross-device setting (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>);</span></span></td>
</tr>
<tr id="A4.T7.60.58.62.4" class="ltx_tr">
<td id="A4.T7.60.58.62.4.1" class="ltx_td ltx_align_center ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="A4.T7.60.58.62.4.1.1" class="ltx_text ltx_font_italic">Tuning per-client FT hyperparameter may outperform tuning globally (<a href="#S5.F8" title="In 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">8</span></a>).</span></td>
</tr>
<tr id="A4.T7.26.24.24" class="ltx_tr">
<th id="A4.T7.26.24.24.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="9">
<span id="A4.T7.26.24.24.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.26.24.24.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A4.T7.26.24.24.4.1.1.1" class="ltx_text">HypCluster / IFCA</span></span>
</span>
</th>
<td id="A4.T7.26.24.24.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.26.24.24.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.26.24.24.5.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric mean</span>
</span>
</td>
<td id="A4.T7.24.22.22.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.24.22.22.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.24.22.22.1.1.1" class="ltx_p" style="width:68.3pt;">0.9246<math id="A4.T7.24.22.22.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.24.22.22.1.1.1.m1.1a"><mo id="A4.T7.24.22.22.1.1.1.m1.1.1" xref="A4.T7.24.22.22.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.24.22.22.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.24.22.22.1.1.1.m1.1.1.cmml" xref="A4.T7.24.22.22.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.24.22.22.1.1.1.m1.1c">\pm</annotation></semantics></math>.0288</span>
</span>
</td>
<td id="A4.T7.25.23.23.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.25.23.23.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.25.23.23.2.1.1" class="ltx_p" style="width:68.3pt;">0.0112<math id="A4.T7.25.23.23.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.25.23.23.2.1.1.m1.1a"><mo id="A4.T7.25.23.23.2.1.1.m1.1.1" xref="A4.T7.25.23.23.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.25.23.23.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.25.23.23.2.1.1.m1.1.1.cmml" xref="A4.T7.25.23.23.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.25.23.23.2.1.1.m1.1c">\pm</annotation></semantics></math>.0053</span>
</span>
</td>
<td id="A4.T7.26.24.24.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.26.24.24.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.26.24.24.3.1.1" class="ltx_p" style="width:68.3pt;">0.0137<math id="A4.T7.26.24.24.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.26.24.24.3.1.1.m1.1a"><mo id="A4.T7.26.24.24.3.1.1.m1.1.1" xref="A4.T7.26.24.24.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.26.24.24.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.26.24.24.3.1.1.m1.1.1.cmml" xref="A4.T7.26.24.24.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.26.24.24.3.1.1.m1.1c">\pm</annotation></semantics></math>.0012</span>
</span>
</td>
</tr>
<tr id="A4.T7.29.27.27" class="ltx_tr">
<td id="A4.T7.29.27.27.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.29.27.27.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.29.27.27.4.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric std</span>
</span>
</td>
<td id="A4.T7.27.25.25.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.27.25.25.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.27.25.25.1.1.1" class="ltx_p" style="width:68.3pt;">0.0058<math id="A4.T7.27.25.25.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.27.25.25.1.1.1.m1.1a"><mo id="A4.T7.27.25.25.1.1.1.m1.1.1" xref="A4.T7.27.25.25.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.27.25.25.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.27.25.25.1.1.1.m1.1.1.cmml" xref="A4.T7.27.25.25.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.27.25.25.1.1.1.m1.1c">\pm</annotation></semantics></math>.0043</span>
</span>
</td>
<td id="A4.T7.28.26.26.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.28.26.26.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.28.26.26.2.1.1" class="ltx_p" style="width:68.3pt;">0.0003<math id="A4.T7.28.26.26.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.28.26.26.2.1.1.m1.1a"><mo id="A4.T7.28.26.26.2.1.1.m1.1.1" xref="A4.T7.28.26.26.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.28.26.26.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.28.26.26.2.1.1.m1.1.1.cmml" xref="A4.T7.28.26.26.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.28.26.26.2.1.1.m1.1c">\pm</annotation></semantics></math>.0006</span>
</span>
</td>
<td id="A4.T7.29.27.27.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.29.27.27.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.29.27.27.3.1.1" class="ltx_p" style="width:68.3pt;">0.0093<math id="A4.T7.29.27.27.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.29.27.27.3.1.1.m1.1a"><mo id="A4.T7.29.27.27.3.1.1.m1.1.1" xref="A4.T7.29.27.27.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.29.27.27.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.29.27.27.3.1.1.m1.1.1.cmml" xref="A4.T7.29.27.27.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.29.27.27.3.1.1.m1.1c">\pm</annotation></semantics></math>.0017</span>
</span>
</td>
</tr>
<tr id="A4.T7.30.28.28" class="ltx_tr">
<td id="A4.T7.30.28.28.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.30.28.28.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.30.28.28.1.1.1" class="ltx_p" style="width:148.0pt;">No. tuned clusters (<math id="A4.T7.30.28.28.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A4.T7.30.28.28.1.1.1.m1.1a"><mi id="A4.T7.30.28.28.1.1.1.m1.1.1" xref="A4.T7.30.28.28.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T7.30.28.28.1.1.1.m1.1b"><ci id="A4.T7.30.28.28.1.1.1.m1.1.1.cmml" xref="A4.T7.30.28.28.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.30.28.28.1.1.1.m1.1c">k</annotation></semantics></math>)</span>
</span>
</td>
<td id="A4.T7.30.28.28.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.30.28.28.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.30.28.28.2.1.1" class="ltx_p" style="width:68.3pt;">4</span>
</span>
</td>
<td id="A4.T7.30.28.28.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.30.28.28.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.30.28.28.3.1.1" class="ltx_p" style="width:68.3pt;">3</span>
</span>
</td>
<td id="A4.T7.30.28.28.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.30.28.28.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.30.28.28.4.1.1" class="ltx_p" style="width:68.3pt;">2</span>
</span>
</td>
</tr>
<tr id="A4.T7.33.31.31" class="ltx_tr">
<td id="A4.T7.33.31.31.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.33.31.31.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.33.31.31.4.1.1" class="ltx_p" style="width:148.0pt;">% clients largest cluster</span>
</span>
</td>
<td id="A4.T7.31.29.29.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.31.29.29.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.31.29.29.1.1.1" class="ltx_p" style="width:68.3pt;">49.6%<math id="A4.T7.31.29.29.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.31.29.29.1.1.1.m1.1a"><mo id="A4.T7.31.29.29.1.1.1.m1.1.1" xref="A4.T7.31.29.29.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.31.29.29.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.31.29.29.1.1.1.m1.1.1.cmml" xref="A4.T7.31.29.29.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.31.29.29.1.1.1.m1.1c">\pm</annotation></semantics></math>3.5%</span>
</span>
</td>
<td id="A4.T7.32.30.30.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.32.30.30.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.32.30.30.2.1.1" class="ltx_p" style="width:68.3pt;">44.6%<math id="A4.T7.32.30.30.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.32.30.30.2.1.1.m1.1a"><mo id="A4.T7.32.30.30.2.1.1.m1.1.1" xref="A4.T7.32.30.30.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.32.30.30.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.32.30.30.2.1.1.m1.1.1.cmml" xref="A4.T7.32.30.30.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.32.30.30.2.1.1.m1.1c">\pm</annotation></semantics></math>1.9%</span>
</span>
</td>
<td id="A4.T7.33.31.31.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.33.31.31.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.33.31.31.3.1.1" class="ltx_p" style="width:68.3pt;">78%<math id="A4.T7.33.31.31.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.33.31.31.3.1.1.m1.1a"><mo id="A4.T7.33.31.31.3.1.1.m1.1.1" xref="A4.T7.33.31.31.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.33.31.31.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.33.31.31.3.1.1.m1.1.1.cmml" xref="A4.T7.33.31.31.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.33.31.31.3.1.1.m1.1c">\pm</annotation></semantics></math>17.6%</span>
</span>
</td>
</tr>
<tr id="A4.T7.60.58.63.5" class="ltx_tr">
<td id="A4.T7.60.58.63.5.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.63.5.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.63.5.1.1.1" class="ltx_p" style="width:148.0pt;">Warmstart from FedAvg</span>
</span>
</td>
<td id="A4.T7.60.58.63.5.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.63.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.63.5.2.1.1" class="ltx_p" style="width:68.3pt;">No</span>
</span>
</td>
<td id="A4.T7.60.58.63.5.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.63.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.63.5.3.1.1" class="ltx_p" style="width:68.3pt;">Yes</span>
</span>
</td>
<td id="A4.T7.60.58.63.5.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.63.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.63.5.4.1.1" class="ltx_p" style="width:68.3pt;">Yes</span>
</span>
</td>
</tr>
<tr id="A4.T7.37.35.35" class="ltx_tr">
<td id="A4.T7.34.32.32.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.34.32.32.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.34.32.32.1.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric mean by ensembling <math id="A4.T7.34.32.32.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A4.T7.34.32.32.1.1.1.m1.1a"><mi id="A4.T7.34.32.32.1.1.1.m1.1.1" xref="A4.T7.34.32.32.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T7.34.32.32.1.1.1.m1.1b"><ci id="A4.T7.34.32.32.1.1.1.m1.1.1.cmml" xref="A4.T7.34.32.32.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.34.32.32.1.1.1.m1.1c">k</annotation></semantics></math> FedAvg models</span>
</span>
</td>
<td id="A4.T7.35.33.33.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.35.33.33.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.35.33.33.2.1.1" class="ltx_p" style="width:68.3pt;">0.8851<math id="A4.T7.35.33.33.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.35.33.33.2.1.1.m1.1a"><mo id="A4.T7.35.33.33.2.1.1.m1.1.1" xref="A4.T7.35.33.33.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.35.33.33.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.35.33.33.2.1.1.m1.1.1.cmml" xref="A4.T7.35.33.33.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.35.33.33.2.1.1.m1.1c">\pm</annotation></semantics></math>.0828</span>
</span>
</td>
<td id="A4.T7.36.34.34.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.36.34.34.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.36.34.34.3.1.1" class="ltx_p" style="width:68.3pt;">0.0129<math id="A4.T7.36.34.34.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.36.34.34.3.1.1.m1.1a"><mo id="A4.T7.36.34.34.3.1.1.m1.1.1" xref="A4.T7.36.34.34.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.36.34.34.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.36.34.34.3.1.1.m1.1.1.cmml" xref="A4.T7.36.34.34.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.36.34.34.3.1.1.m1.1c">\pm</annotation></semantics></math>.0066</span>
</span>
</td>
<td id="A4.T7.37.35.35.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.37.35.35.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.37.35.35.4.1.1" class="ltx_p" style="width:68.3pt;">0.0133<math id="A4.T7.37.35.35.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.37.35.35.4.1.1.m1.1a"><mo id="A4.T7.37.35.35.4.1.1.m1.1.1" xref="A4.T7.37.35.35.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.37.35.35.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.37.35.35.4.1.1.m1.1.1.cmml" xref="A4.T7.37.35.35.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.37.35.35.4.1.1.m1.1c">\pm</annotation></semantics></math>.0006</span>
</span>
</td>
</tr>
<tr id="A4.T7.41.39.39" class="ltx_tr">
<td id="A4.T7.38.36.36.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.38.36.36.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.38.36.36.1.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric std by ensembling <math id="A4.T7.38.36.36.1.1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A4.T7.38.36.36.1.1.1.m1.1a"><mi id="A4.T7.38.36.36.1.1.1.m1.1.1" xref="A4.T7.38.36.36.1.1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A4.T7.38.36.36.1.1.1.m1.1b"><ci id="A4.T7.38.36.36.1.1.1.m1.1.1.cmml" xref="A4.T7.38.36.36.1.1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.38.36.36.1.1.1.m1.1c">k</annotation></semantics></math> FedAvg models</span>
</span>
</td>
<td id="A4.T7.39.37.37.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.39.37.37.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.39.37.37.2.1.1" class="ltx_p" style="width:68.3pt;">0.0028<math id="A4.T7.39.37.37.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.39.37.37.2.1.1.m1.1a"><mo id="A4.T7.39.37.37.2.1.1.m1.1.1" xref="A4.T7.39.37.37.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.39.37.37.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.39.37.37.2.1.1.m1.1.1.cmml" xref="A4.T7.39.37.37.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.39.37.37.2.1.1.m1.1c">\pm</annotation></semantics></math>.0032</span>
</span>
</td>
<td id="A4.T7.40.38.38.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.40.38.38.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.40.38.38.3.1.1" class="ltx_p" style="width:68.3pt;">0.0001<math id="A4.T7.40.38.38.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.40.38.38.3.1.1.m1.1a"><mo id="A4.T7.40.38.38.3.1.1.m1.1.1" xref="A4.T7.40.38.38.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.40.38.38.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.40.38.38.3.1.1.m1.1.1.cmml" xref="A4.T7.40.38.38.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.40.38.38.3.1.1.m1.1c">\pm</annotation></semantics></math>.0008</span>
</span>
</td>
<td id="A4.T7.41.39.39.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.41.39.39.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.41.39.39.4.1.1" class="ltx_p" style="width:68.3pt;">0.0091<math id="A4.T7.41.39.39.4.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.41.39.39.4.1.1.m1.1a"><mo id="A4.T7.41.39.39.4.1.1.m1.1.1" xref="A4.T7.41.39.39.4.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.41.39.39.4.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.41.39.39.4.1.1.m1.1.1.cmml" xref="A4.T7.41.39.39.4.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.41.39.39.4.1.1.m1.1c">\pm</annotation></semantics></math>.0011</span>
</span>
</td>
</tr>
<tr id="A4.T7.60.58.64.6" class="ltx_tr">
<td id="A4.T7.60.58.64.6.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="A4.T7.60.58.64.6.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns:<span id="A4.T7.60.58.64.6.1.1.1" class="ltx_text ltx_font_medium"> Similar to those in the cross-device setting (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>); on Vehicle</span></span></td>
</tr>
<tr id="A4.T7.60.58.65.7" class="ltx_tr">
<td id="A4.T7.60.58.65.7.1" class="ltx_td ltx_align_center ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="A4.T7.60.58.65.7.1.1" class="ltx_text ltx_font_italic">and School, mode collapse may occur less potentially because of linear model.</span></td>
</tr>
<tr id="A4.T7.44.42.42" class="ltx_tr">
<th id="A4.T7.44.42.42.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="4">
<span id="A4.T7.44.42.42.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.44.42.42.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A4.T7.44.42.42.4.1.1.1" class="ltx_text">FedAvg+kNN-Per</span></span>
</span>
</th>
<td id="A4.T7.44.42.42.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.44.42.42.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.44.42.42.5.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric mean</span>
</span>
</td>
<td id="A4.T7.42.40.40.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.42.40.40.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.42.40.40.1.1.1" class="ltx_p" style="width:68.3pt;">0.9228<math id="A4.T7.42.40.40.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.42.40.40.1.1.1.m1.1a"><mo id="A4.T7.42.40.40.1.1.1.m1.1.1" xref="A4.T7.42.40.40.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.42.40.40.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.42.40.40.1.1.1.m1.1.1.cmml" xref="A4.T7.42.40.40.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.42.40.40.1.1.1.m1.1c">\pm</annotation></semantics></math>.0028</span>
</span>
</td>
<td id="A4.T7.43.41.41.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.43.41.41.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.43.41.41.2.1.1" class="ltx_p" style="width:68.3pt;">0.01163<math id="A4.T7.43.41.41.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.43.41.41.2.1.1.m1.1a"><mo id="A4.T7.43.41.41.2.1.1.m1.1.1" xref="A4.T7.43.41.41.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.43.41.41.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.43.41.41.2.1.1.m1.1.1.cmml" xref="A4.T7.43.41.41.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.43.41.41.2.1.1.m1.1c">\pm</annotation></semantics></math>.0002</span>
</span>
</td>
<td id="A4.T7.44.42.42.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.44.42.42.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.44.42.42.3.1.1" class="ltx_p" style="width:68.3pt;">0.0126<math id="A4.T7.44.42.42.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.44.42.42.3.1.1.m1.1a"><mo id="A4.T7.44.42.42.3.1.1.m1.1.1" xref="A4.T7.44.42.42.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.44.42.42.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.44.42.42.3.1.1.m1.1.1.cmml" xref="A4.T7.44.42.42.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.44.42.42.3.1.1.m1.1c">\pm</annotation></semantics></math>.0008</span>
</span>
</td>
</tr>
<tr id="A4.T7.47.45.45" class="ltx_tr">
<td id="A4.T7.47.45.45.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.47.45.45.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.47.45.45.4.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric std</span>
</span>
</td>
<td id="A4.T7.45.43.43.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.45.43.43.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.45.43.43.1.1.1" class="ltx_p" style="width:68.3pt;">0.0287<math id="A4.T7.45.43.43.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.45.43.43.1.1.1.m1.1a"><mo id="A4.T7.45.43.43.1.1.1.m1.1.1" xref="A4.T7.45.43.43.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.45.43.43.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.45.43.43.1.1.1.m1.1.1.cmml" xref="A4.T7.45.43.43.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.45.43.43.1.1.1.m1.1c">\pm</annotation></semantics></math>.0016</span>
</span>
</td>
<td id="A4.T7.46.44.44.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.46.44.44.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.46.44.44.2.1.1" class="ltx_p" style="width:68.3pt;">0.0055<math id="A4.T7.46.44.44.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.46.44.44.2.1.1.m1.1a"><mo id="A4.T7.46.44.44.2.1.1.m1.1.1" xref="A4.T7.46.44.44.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.46.44.44.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.46.44.44.2.1.1.m1.1.1.cmml" xref="A4.T7.46.44.44.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.46.44.44.2.1.1.m1.1c">\pm</annotation></semantics></math>.0006</span>
</span>
</td>
<td id="A4.T7.47.45.45.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.47.45.45.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.47.45.45.3.1.1" class="ltx_p" style="width:68.3pt;">0.0096<math id="A4.T7.47.45.45.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.47.45.45.3.1.1.m1.1a"><mo id="A4.T7.47.45.45.3.1.1.m1.1.1" xref="A4.T7.47.45.45.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.47.45.45.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.47.45.45.3.1.1.m1.1.1.cmml" xref="A4.T7.47.45.45.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.47.45.45.3.1.1.m1.1c">\pm</annotation></semantics></math>.0006</span>
</span>
</td>
</tr>
<tr id="A4.T7.50.48.48" class="ltx_tr">
<td id="A4.T7.50.48.48.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.50.48.48.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.50.48.48.4.1.1" class="ltx_p" style="width:148.0pt;">% clients "hurt"</span>
</span>
</td>
<td id="A4.T7.48.46.46.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.48.46.46.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.48.46.46.1.1.1" class="ltx_p" style="width:68.3pt;">22.6%<math id="A4.T7.48.46.46.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.48.46.46.1.1.1.m1.1a"><mo id="A4.T7.48.46.46.1.1.1.m1.1.1" xref="A4.T7.48.46.46.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.48.46.46.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.48.46.46.1.1.1.m1.1.1.cmml" xref="A4.T7.48.46.46.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.48.46.46.1.1.1.m1.1c">\pm</annotation></semantics></math>4.3%</span>
</span>
</td>
<td id="A4.T7.49.47.47.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.49.47.47.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.49.47.47.2.1.1" class="ltx_p" style="width:68.3pt;">37.4%<math id="A4.T7.49.47.47.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.49.47.47.2.1.1.m1.1a"><mo id="A4.T7.49.47.47.2.1.1.m1.1.1" xref="A4.T7.49.47.47.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.49.47.47.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.49.47.47.2.1.1.m1.1.1.cmml" xref="A4.T7.49.47.47.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.49.47.47.2.1.1.m1.1c">\pm</annotation></semantics></math>0.6%</span>
</span>
</td>
<td id="A4.T7.50.48.48.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.50.48.48.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.50.48.48.3.1.1" class="ltx_p" style="width:68.3pt;">37.8%<math id="A4.T7.50.48.48.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.50.48.48.3.1.1.m1.1a"><mo id="A4.T7.50.48.48.3.1.1.m1.1.1" xref="A4.T7.50.48.48.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.50.48.48.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.50.48.48.3.1.1.m1.1.1.cmml" xref="A4.T7.50.48.48.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.50.48.48.3.1.1.m1.1c">\pm</annotation></semantics></math>16.8%</span>
</span>
</td>
</tr>
<tr id="A4.T7.60.58.66.8" class="ltx_tr">
<td id="A4.T7.60.58.66.8.1" class="ltx_td ltx_align_center ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" colspan="4"><span id="A4.T7.60.58.66.8.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Practical concerns:<span id="A4.T7.60.58.66.8.1.1.1" class="ltx_text ltx_font_medium"> Similar to those in the cross-device setting (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>).</span></span></td>
</tr>
<tr id="A4.T7.53.51.51" class="ltx_tr">
<th id="A4.T7.53.51.51.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_r ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2">
<span id="A4.T7.53.51.51.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.53.51.51.4.1.1" class="ltx_p" style="width:56.9pt;"><span id="A4.T7.53.51.51.4.1.1.1" class="ltx_text">MTL (Ditto)</span></span>
</span>
</th>
<td id="A4.T7.53.51.51.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.53.51.51.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.53.51.51.5.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric mean</span>
</span>
</td>
<td id="A4.T7.51.49.49.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.51.49.49.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.51.49.49.1.1.1" class="ltx_p" style="width:68.3pt;">0.9377<math id="A4.T7.51.49.49.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.51.49.49.1.1.1.m1.1a"><mo id="A4.T7.51.49.49.1.1.1.m1.1.1" xref="A4.T7.51.49.49.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.51.49.49.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.51.49.49.1.1.1.m1.1.1.cmml" xref="A4.T7.51.49.49.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.51.49.49.1.1.1.m1.1c">\pm</annotation></semantics></math>.0218</span>
</span>
</td>
<td id="A4.T7.52.50.50.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.52.50.50.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.52.50.50.2.1.1" class="ltx_p" style="width:68.3pt;">0.0114<math id="A4.T7.52.50.50.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.52.50.50.2.1.1.m1.1a"><mo id="A4.T7.52.50.50.2.1.1.m1.1.1" xref="A4.T7.52.50.50.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.52.50.50.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.52.50.50.2.1.1.m1.1.1.cmml" xref="A4.T7.52.50.50.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.52.50.50.2.1.1.m1.1c">\pm</annotation></semantics></math>.0053</span>
</span>
</td>
<td id="A4.T7.53.51.51.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_t" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.53.51.51.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.53.51.51.3.1.1" class="ltx_p" style="width:68.3pt;">0.0134<math id="A4.T7.53.51.51.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.53.51.51.3.1.1.m1.1a"><mo id="A4.T7.53.51.51.3.1.1.m1.1.1" xref="A4.T7.53.51.51.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.53.51.51.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.53.51.51.3.1.1.m1.1.1.cmml" xref="A4.T7.53.51.51.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.53.51.51.3.1.1.m1.1c">\pm</annotation></semantics></math>.0004</span>
</span>
</td>
</tr>
<tr id="A4.T7.56.54.54" class="ltx_tr">
<td id="A4.T7.56.54.54.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.56.54.54.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.56.54.54.4.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric std</span>
</span>
</td>
<td id="A4.T7.54.52.52.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.54.52.52.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.54.52.52.1.1.1" class="ltx_p" style="width:68.3pt;">0.0025<math id="A4.T7.54.52.52.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.54.52.52.1.1.1.m1.1a"><mo id="A4.T7.54.52.52.1.1.1.m1.1.1" xref="A4.T7.54.52.52.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.54.52.52.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.54.52.52.1.1.1.m1.1.1.cmml" xref="A4.T7.54.52.52.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.54.52.52.1.1.1.m1.1c">\pm</annotation></semantics></math>.0026</span>
</span>
</td>
<td id="A4.T7.55.53.53.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.55.53.53.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.55.53.53.2.1.1" class="ltx_p" style="width:68.3pt;">0.0002<math id="A4.T7.55.53.53.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.55.53.53.2.1.1.m1.1a"><mo id="A4.T7.55.53.53.2.1.1.m1.1.1" xref="A4.T7.55.53.53.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.55.53.53.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.55.53.53.2.1.1.m1.1.1.cmml" xref="A4.T7.55.53.53.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.55.53.53.2.1.1.m1.1c">\pm</annotation></semantics></math>.0006</span>
</span>
</td>
<td id="A4.T7.56.54.54.3" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.56.54.54.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.56.54.54.3.1.1" class="ltx_p" style="width:68.3pt;">0.0074<math id="A4.T7.56.54.54.3.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.56.54.54.3.1.1.m1.1a"><mo id="A4.T7.56.54.54.3.1.1.m1.1.1" xref="A4.T7.56.54.54.3.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.56.54.54.3.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.56.54.54.3.1.1.m1.1.1.cmml" xref="A4.T7.56.54.54.3.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.56.54.54.3.1.1.m1.1c">\pm</annotation></semantics></math>.0008</span>
</span>
</td>
</tr>
<tr id="A4.T7.58.56.56" class="ltx_tr">
<th id="A4.T7.58.56.56.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_row ltx_border_bb ltx_border_r" style="padding-top:0.5pt;padding-bottom:0.5pt;" rowspan="2">
<span id="A4.T7.58.56.56.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.58.56.56.3.1.1" class="ltx_p" style="width:56.9pt;"><span id="A4.T7.58.56.56.3.1.1.1" class="ltx_text">MTL (Mocha)</span></span>
</span>
</th>
<td id="A4.T7.58.56.56.4" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.58.56.56.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.58.56.56.4.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric mean</span>
</span>
</td>
<td id="A4.T7.57.55.55.1" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.57.55.55.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.57.55.55.1.1.1" class="ltx_p" style="width:68.3pt;">0.9371<math id="A4.T7.57.55.55.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.57.55.55.1.1.1.m1.1a"><mo id="A4.T7.57.55.55.1.1.1.m1.1.1" xref="A4.T7.57.55.55.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.57.55.55.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.57.55.55.1.1.1.m1.1.1.cmml" xref="A4.T7.57.55.55.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.57.55.55.1.1.1.m1.1c">\pm</annotation></semantics></math>.0244</span>
</span>
</td>
<td id="A4.T7.58.56.56.2" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.58.56.56.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.58.56.56.2.1.1" class="ltx_p" style="width:68.3pt;">0.0121<math id="A4.T7.58.56.56.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.58.56.56.2.1.1.m1.1a"><mo id="A4.T7.58.56.56.2.1.1.m1.1.1" xref="A4.T7.58.56.56.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.58.56.56.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.58.56.56.2.1.1.m1.1.1.cmml" xref="A4.T7.58.56.56.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.58.56.56.2.1.1.m1.1c">\pm</annotation></semantics></math>.0059</span>
</span>
</td>
<td id="A4.T7.58.56.56.5" class="ltx_td ltx_align_justify ltx_align_top" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.58.56.56.5.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.58.56.56.5.1.1" class="ltx_p" style="width:68.3pt;">N/A</span>
</span>
</td>
</tr>
<tr id="A4.T7.60.58.58" class="ltx_tr">
<td id="A4.T7.60.58.58.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.58.3.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.58.3.1.1" class="ltx_p" style="width:148.0pt;">Per-client metric std</span>
</span>
</td>
<td id="A4.T7.59.57.57.1" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.59.57.57.1.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.59.57.57.1.1.1" class="ltx_p" style="width:68.3pt;">0.0030<math id="A4.T7.59.57.57.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.59.57.57.1.1.1.m1.1a"><mo id="A4.T7.59.57.57.1.1.1.m1.1.1" xref="A4.T7.59.57.57.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.59.57.57.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.59.57.57.1.1.1.m1.1.1.cmml" xref="A4.T7.59.57.57.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.59.57.57.1.1.1.m1.1c">\pm</annotation></semantics></math>.0025</span>
</span>
</td>
<td id="A4.T7.60.58.58.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.58.2.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.58.2.1.1" class="ltx_p" style="width:68.3pt;">0.0003<math id="A4.T7.60.58.58.2.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T7.60.58.58.2.1.1.m1.1a"><mo id="A4.T7.60.58.58.2.1.1.m1.1.1" xref="A4.T7.60.58.58.2.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T7.60.58.58.2.1.1.m1.1b"><csymbol cd="latexml" id="A4.T7.60.58.58.2.1.1.m1.1.1.cmml" xref="A4.T7.60.58.58.2.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T7.60.58.58.2.1.1.m1.1c">\pm</annotation></semantics></math>.0009</span>
</span>
</td>
<td id="A4.T7.60.58.58.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_bb" style="padding-top:0.5pt;padding-bottom:0.5pt;">
<span id="A4.T7.60.58.58.4.1" class="ltx_inline-block ltx_align_top">
<span id="A4.T7.60.58.58.4.1.1" class="ltx_p" style="width:68.3pt;">N/A</span>
</span>
</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="A4.p3" class="ltx_para">
<p id="A4.p3.1" class="ltx_p"><span id="A4.p3.1.1" class="ltx_text ltx_font_bold">Cross-silo experiments.</span>
Similar to the cross-device counterpart, Table <a href="#A4.T7" title="Table 7 ‣ Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> extends Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> with standard deviation across 5 different runs for each metric.
One small caveat around the use of client-specific fine-tuning hyperparameters, as discussed in <a href="#S5" title="5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">5</span></a> of the main paper, is that it may improve performance only when the clients’ local datasets are large.
Here, we perform an additional analysis on the School dataset, where the local datasets are relatively small (recall Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>).
<a href="#A4.F10" title="In Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">10</span></a> visualizes the statistics of clients hurt when training on School, akin to <a href="#S4.F3" title="In 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">3</span></a> (note that we use MSE here, so a positive delta means this client gets hurt by fine-tuning).
Observe that while many clients benefited from the client-specific fine-tuning (those with negative metric deltas), some clients do not observe an improvement and may even see a slight degradation in their utility compared to the client-agnostic fine-tuning setting. We argue that this is due to clients having small local datasets such that the selected client-specific FT hyperparameters may overfit to the small local validation sets and may not reflect general improvement on the local test sets.
Note also that while Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> and Table <a href="#A4.T7" title="Table 7 ‣ Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> suggests a seemingly considerable fraction (33%) of clients is hurt after fine-tuning, we can observe from <a href="#A4.F10" title="In Appendix D Additional Experimental Results and Discussions ‣ Acknowledgements ‣ 6 Discussion and Open Directions ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">10</span></a> that most ‘hurt’ clients have borderline metric changes.
Overall, these observations suggest that the effect of client-specific fine-tuning can be mixed if the client local datasets are relatively small, as is usually the case with cross-device federated learning.</p>
</div>
<figure id="A4.F10" class="ltx_figure"><img src="/html/2206.09262/assets/x14.png" id="A4.F10.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="415" height="121" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A4.F10.3.1.1" class="ltx_text" style="font-size:90%;">Figure 10</span>: </span><span id="A4.F10.4.2" class="ltx_text" style="font-size:90%;">
Effects of client-specific fine-tuning on the School dataset (each client chooses a custom fine-tuning learning rate and stopping epoch). Note that School uses MSE (mean squared error) as the evaluation metric here, thus the <span id="A4.F10.4.2.1" class="ltx_text ltx_font_bold">more negative</span> the per-client metric delta, the better. Unlike Figure <a href="#S5.F8" title="Figure 8 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>, tuning the fine-tuning hyperparameters globally and tuning in a per-client manner performs the same on the School dataset. This is potentially due to the fact that the client’s local dataset is relatively small for School (as shown in Table <a href="#S3.SS1" title="3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>).
</span></figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="A5" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Conclusion</h2>

<div id="A5.p1" class="ltx_para">
<p id="A5.p1.1" class="ltx_p">We present <span id="A5.p1.1.1" class="ltx_text ltx_font_typewriter">Motley</span>, a large-scale benchmark of personalized federated learning covering both cross-device and cross-silo settings. <span id="A5.p1.1.2" class="ltx_text ltx_font_typewriter">Motley</span> provides an end-to-end experimental pipeline including data preprocessing, algorithms, evaluation metrics, and tuned hyperparameters<span id="A5.p1.1.3" class="ltx_ERROR undefined">\@footnotemark</span>. Beyond these baselines, our experiments provide new insights about personalized FL and suggest several directions of future work.</p>
<ul id="A5.I1" class="ltx_itemize">
<li id="A5.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A5.I1.i1.p1" class="ltx_para">
<p id="A5.I1.i1.p1.1" class="ltx_p">The notion of the "best" method (or even the "best" hyperparameter of the same method) can change when we change the evaluation metrics or settings. In the cross-device setting, FedAvg+Fine-tuning achieves the best average per-client accuracy for 3/4 datasets, and at the same time also improves fairness<span id="A5.I1.i1.p1.1.1" class="ltx_ERROR undefined">\@footnotemark</span> (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and Figure <a href="#S4.F2" title="Figure 2 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>). The best hyperparameters of FedAvg+Fine-tuning can change if we look at different metrics (Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). On the TedMulti-EnEs dataset, it is difficult to determine which personalization algorithm is the "best": while HypCluster achieves the best average per-client accuracy, it is worse than FedAvg+Fine-tuning from the perspective of accuracy-communication ratio (Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(c)); on the other hand, the fine-tuned models of <math id="A5.I1.i1.p1.1.m1.1" class="ltx_Math" alttext="40\%" display="inline"><semantics id="A5.I1.i1.p1.1.m1.1a"><mrow id="A5.I1.i1.p1.1.m1.1.1" xref="A5.I1.i1.p1.1.m1.1.1.cmml"><mn id="A5.I1.i1.p1.1.m1.1.1.2" xref="A5.I1.i1.p1.1.m1.1.1.2.cmml">40</mn><mo id="A5.I1.i1.p1.1.m1.1.1.1" xref="A5.I1.i1.p1.1.m1.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="A5.I1.i1.p1.1.m1.1b"><apply id="A5.I1.i1.p1.1.m1.1.1.cmml" xref="A5.I1.i1.p1.1.m1.1.1"><csymbol cd="latexml" id="A5.I1.i1.p1.1.m1.1.1.1.cmml" xref="A5.I1.i1.p1.1.m1.1.1.1">percent</csymbol><cn type="integer" id="A5.I1.i1.p1.1.m1.1.1.2.cmml" xref="A5.I1.i1.p1.1.m1.1.1.2">40</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.I1.i1.p1.1.m1.1c">40\%</annotation></semantics></math> clients on TedMulti-EnEs are worse than that of FedAvg (Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). In the cross-silo setting, both FedAvg+Fine-tuning and MTL achieve the best average per-client accuracy over the Vehicle and School datasets (Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>). MTL may have an additional advantage of having less hyperparameters than FedAvg+Fine-tuning. On the Vehicle dataset, local training seems the "best" because it achieves a similar accuracy as other methods but is more private. On the ADNI dataset, both FedAvg+Fine-tuning and FedAvg+kNN-per achieve the best per-client MSE, but kNN-Per hurts more clients than fine-tuning. Given that the notion of "best" method can change depending on the metrics or settings, a critical future direction is thus to develop systematic evaluation schemes for personalized FL (i.e., mean accuracy alone is not enough).</p>
</div>
</li>
<li id="A5.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A5.I1.i2.p1" class="ltx_para">
<p id="A5.I1.i2.p1.1" class="ltx_p">Existing literature often overlook or obfuscate the practical complexities of deploying personalized FL algorithms in real-world settings. For example, in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>, we discuss that local data scarcity and heterogeneity create a fundamental challenge to tuning FedAvg+Fine-tuning hyperparameters in the cross-device setting. Because each client has a very small local dataset in the cross-device setting, the fine-tuning hyperparameters are tuned globally (instead of in a per-client manner as in the cross-silo setting). The globally tuned hyperparameters may hurt some clients (Figure <a href="#S4.F3" title="Figure 3 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>). Ideally, we want to find a good set of fine-tuning hyperparameters such that the overall improvement is large and no clients are hurt after fine-tuning, which can be fundamentally difficult (Figure <a href="#S4.F4" title="Figure 4 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>). Given the observed benefits of per-client hyperparameter tuning in cross-silo FL (Figure <a href="#S5.F8" title="Figure 8 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>), it may be beneficial to develop similar, scalable approaches for hyperparameter tuning in cross-device FL. Taking these practical considerations into account when designing new personalized FL algorithms is crucial in making these algorithms more effective in practice.</p>
</div>
</li>
<li id="A5.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A5.I1.i3.p1" class="ltx_para">
<p id="A5.I1.i3.p1.1" class="ltx_p">Improving HypCluster requires solving the mode collapse issue and rethinking the difference between clustering and ensembling. How to effectively train HypCluster in the real-world federated learning systems is an interesting open problem (Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(a)). Although warmstart can mitigate the mode collapse issue, Table <a href="#S4.T4" title="Table 4 ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and Table <a href="#S5.T5" title="Table 5 ‣ 5 Cross-Silo Experiments ‣ 4.3 FedAvg + kNN-Per ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> show that the performance of HypCluster is similar to that of ensembling<span id="A5.I1.i3.p1.1.1" class="ltx_ERROR undefined">\@footnotemark</span> multiple models learned by FedAvg. Does HypCluster really capture the underlying clustering structure (Figure <a href="#S4.F6" title="Figure 6 ‣ 4.2 HypCluster / IFCA ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>(d))? Answering this question requires interpreting the learned clusters in the federated learning setting.</p>
</div>
</li>
<li id="A5.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="A5.I1.i4.p1" class="ltx_para">
<p id="A5.I1.i4.p1.1" class="ltx_p">Tradeoffs exists between adapting a client’s personalized model to the current local distribution and generalizing to future distributions. As shown in Figure <a href="#S4.F5" title="Figure 5 ‣ 4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, this tradeoff between personalization and generalization exists for all personalized FL algorithms, which is worth exploring in greater detail (see also the remark on "acceptance criteria and robust personalization" in Section <a href="#S4.SS1" title="4.1 FedAvg + Fine-tuning (FT) ‣ 4 Cross-Device Experiments ‣ 3.2 Datasets and Pre-processing ‣ 3.1 Personalization Methods ‣ 3 Motley: A Benchmark for Personalized Federated Learning ‣ Motley: Benchmarking Heterogeneity and Personalization in Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.1</span></a>).</p>
</div>
</li>
</ul>
</div>
</section>
</section>
</section>
</section>
</section>
</section>
</section>
</div>
</div>
</figure>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2206.09261" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2206.09262" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2206.09262">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2206.09262" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2206.09263" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Mar 11 16:42:38 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
