<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>RosePO: Aligning LLM-based Recommenders with Human Values</title>
<!--Generated on Wed Oct 16 12:49:09 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Large Language Models,  Sequential Recommendation,  Preference Optimization" lang="en" name="keywords"/>
<base href="/html/2410.12519v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S2" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S2.SS1" title="In 2. Related Work ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>LLMs for Recommendation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S2.SS2" title="In 2. Related Work ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Preference Alignment in LLMs</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Method: RosePO <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="23" src="x4.png" width="21"/></span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3.SS1" title="In 3. Method: RosePO ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Background</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3.SS2" title="In 3. Method: RosePO ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Construction of Preference Pairs</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3.SS3" title="In 3. Method: RosePO ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.3 </span>Personalized Preference Optimization</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments and Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS1" title="In 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experimental Settings</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS1.SSS1" title="In 4.1. Experimental Settings ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.1 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS1.SSS2" title="In 4.1. Experimental Settings ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.2 </span>Implementation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS1.SSS3" title="In 4.1. Experimental Settings ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1.3 </span>Evaluation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS2" title="In 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Performance Comparison</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS2.SSS1" title="In 4.2. Performance Comparison ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.1 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS2.SSS2" title="In 4.2. Performance Comparison ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2.2 </span>Results</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS3" title="In 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Impact of Data-Adaptive Loss Design</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS3.SSS1" title="In 4.3. Impact of Data-Adaptive Loss Design ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.1 </span>Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS3.SSS2" title="In 4.3. Impact of Data-Adaptive Loss Design ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3.2 </span>Results</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS4" title="In 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Impact of Rejected Sampling Strategy</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS4.SSS1" title="In 4.4. Impact of Rejected Sampling Strategy ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4.1 </span>Rejected Sampling Strategies</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS4.SSS2" title="In 4.4. Impact of Rejected Sampling Strategy ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4.2 </span>Results</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS5" title="In 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5 </span>Mitigating Semantic Hallucination</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS5.SSS1" title="In 4.5. Mitigating Semantic Hallucination ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5.1 </span>Metric of Semantic Hallucination</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS5.SSS2" title="In 4.5. Mitigating Semantic Hallucination ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.5.2 </span>Semantic-Hard Evaluation for Ranking</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS6" title="In 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.6 </span>Reducing Popularity Bias</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS7" title="In 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.7 </span>Aligning with Multiple Preferences</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S5" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A1" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A2" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Limitation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A3" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Performance Comparison on All-Ranking.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A4" title="In RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">D </span>Data Scale in Preference Learning</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">RosePO: Aligning LLM-based Recommenders with Human Values</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiayi Liao
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:ljy0ustc@mail.ustc.edu.cn">ljy0ustc@mail.ustc.edu.cn</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0009-0006-7998-8462" title="ORCID identifier">0009-0006-7998-8462</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiangnan He
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:xiangnanhe@gmail.com">xiangnanhe@gmail.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0001-8472-7992" title="ORCID identifier">0000-0001-8472-7992</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ruobing Xie
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:xrbsnowing@163.com">xrbsnowing@163.com</a>
</span>
<span class="ltx_contact ltx_role_orcid"><a class="ltx_ref" href="https://orcid.org/0000-0003-3170-5647" title="ORCID identifier">0000-0003-3170-5647</a></span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">Machine Learning Platform Department, Tencent</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiancan Wu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yancheng Yuan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">The Hong Kong Polytechnic University</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2">Hong Kong</span><span class="ltx_text ltx_affiliation_country" id="id15.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xingwu Sun
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id16.1.id1">Machine Learning Platform Department, Tencent</span><span class="ltx_text ltx_affiliation_city" id="id17.2.id2">Beijing</span><span class="ltx_text ltx_affiliation_country" id="id18.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Zhanhui Kang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id19.1.id1">Machine Learning Platform Department, Tencent</span><span class="ltx_text ltx_affiliation_city" id="id20.2.id2">Shenzhen</span><span class="ltx_text ltx_affiliation_country" id="id21.3.id3">China</span>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiang Wang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id22.1.id1">University of Science and Technology of China</span><span class="ltx_text ltx_affiliation_city" id="id23.2.id2">Hefei</span><span class="ltx_text ltx_affiliation_country" id="id24.3.id3">China</span>
</span></span></span>
</div>
<div class="ltx_dates">(2018)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id25.id1">Recently, there has been a growing interest in leveraging Large Language Models (LLMs) for recommendation systems, which usually adapt a pre-trained LLM to the recommendation scenario through supervised fine-tuning (SFT).
However, both the pre-training and SFT stages fail to explicitly model the comparative relationships of a user’s preferences on different items.
To construct a “helpful and harmless” LLM-based recommender, we propose a general framework — <span class="ltx_text ltx_font_bold" id="id25.id1.1">R</span>ec<span class="ltx_text ltx_font_bold" id="id25.id1.2">o</span>mmendation with <span class="ltx_text ltx_font_bold" id="id25.id1.3">s</span>moothing p<span class="ltx_text ltx_font_bold" id="id25.id1.4">e</span>rsonalized <span class="ltx_text ltx_font_bold" id="id25.id1.5">P</span>reference <span class="ltx_text ltx_font_bold" id="id25.id1.6">O</span>ptimization (<span class="ltx_text ltx_font_bold" id="id25.id1.7">RosePO</span>), which better aligns with customized human values during the post-training stage.
Specifically, in addition to the input and chosen response that naturally align with SFT data, we design a rejected sampling strategy tailored for enhancing helpfulness, along with two strategies aimed at mitigating biases to promote harmlessness.
To ensure robustness against uncertain labels present in automatically constructed preference data, we introduce a personalized smoothing factor predicted by a preference oracle into the optimization objective.
Evaluation on three real-world datasets demonstrates the effectiveness of our method, showcasing not only improved recommendation performance but also mitigation of semantic hallucination and popularity bias.</p>
</div>
<div class="ltx_keywords">Large Language Models, Sequential Recommendation, Preference Optimization
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2018</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>XXXXXXX.XXXXXXX</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Make sure to enter the correct
conference title from your rights confirmation emai; June 03–05,
2018; Woodstock, NY</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>978-1-4503-XXXX-X/18/06</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Recommender systems</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Sequential recommendation aims to predict users’ subsequent interest in items, by analyzing their historical interactions.
Inspired by the extensive knowledge and reasoning abilities demonstrated by Large Language Models (LLMs) <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib42" title="">2023</a>; Dubey et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib18" title="">2024</a>; Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib4" title="">2022</a>; Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib58" title="">2024</a>)</cite> across various domains <cite class="ltx_cite ltx_citemacro_citep">(Cui et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib16" title="">2024</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib56" title="">2023</a>; Clusmann et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib15" title="">2023</a>)</cite>, LLM for recommendation (LLM4Rec) has gradually gained significant attention <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib8" title="">2023b</a>; Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib20" title="">2022</a>; Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib19" title="">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib63" title="">2023</a>)</cite>.
To adapt a general-purpose LLM for sequential recommendation, a common paradigm <cite class="ltx_cite ltx_citemacro_citep">(Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib32" title="">2024</a>; Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib6" title="">2023a</a>; Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib34" title="">2024</a>)</cite> involves two key steps:
(1) Transform a sequence of historical user-item interactions into a text-like input prompt, with the subsequent interacted item as the supervised response, and then convert this input-response pair into a next-item-prediction instruction;
(2) Apply supervised fine-tuning (SFT) on the converted data, leveraging autoregressive modeling on the response tokens <cite class="ltx_cite ltx_citemacro_citep">(Brown et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib10" title="">2020</a>; Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib43" title="">2022</a>)</cite>.
After SFT, LLM is capable of following instructions to perform recommendation tasks like next-item prediction.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="135" id="S1.F1.g1" src="x1.png" width="382"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.2.1.1" style="font-size:90%;">Figure 1</span>. </span><span class="ltx_text" id="S1.F1.3.2" style="font-size:90%;">Training of an LLM-based recommender.</span></figcaption>
</figure>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">However, solely using the subsequent item as the chosen response (<em class="ltx_emph ltx_font_italic" id="S1.p2.1.1">i.e., </em>positive label) falls short in developing an “HH” (<em class="ltx_emph ltx_font_italic" id="S1.p2.1.2">i.e., </em><span class="ltx_text ltx_font_italic" id="S1.p2.1.3">helpful</span> and <span class="ltx_text ltx_font_italic" id="S1.p2.1.4">harmless</span> <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib4" title="">2022</a>; Askell et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib2" title="">2021</a>)</cite>) recommender system.
By helpful, we mean that a recommender model should accurately distinguish the next item of interest from irrelevant items, thus enhancing the user experience by providing relevant suggestions <cite class="ltx_cite ltx_citemacro_citep">(Koren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib28" title="">2009</a>; He et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib21" title="">2017</a>)</cite>.
Nonetheless, the point-wise SFT paradigm only fits the chosen responses, neglecting the finer distinctions between item preferences.
By harmless, we mean that a recommendation service should be free from biases, whether inherent in the LLM or present in the data, thus promoting fairness and inclusivity <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib11" title="">2023</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib53" title="">2023c</a>)</cite>.
Yet, the SFT paradigm primarily focuses on fitting observed historical behaviors without explicitly addressing or mitigating potential biases.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">To this end, we explore pairwise preference learning in recommendation <cite class="ltx_cite ltx_citemacro_citep">(Rendle et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib47" title="">2012</a>)</cite> — differentiating between chosen and rejected responses.
This idea naturally aligns with direct preference optimization (DPO) <cite class="ltx_cite ltx_citemacro_citep">(Rafailov et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib46" title="">2023</a>)</cite>, which holds promise for achieving helpfulness and harmlessness <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib4" title="">2022</a>; Leike et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib29" title="">2018</a>)</cite>.
This necessity raises a critical research question: “How could we leverage DPO to develop an HH recommender system?”
In Natural Language Processing (NLP), DPO typically follows two steps:
(1) Construct offline preference data, which consists of input prompt, chosen response, and rejected response; (2) Optimize the comparison between the chosen and rejected responses given an input.
By adapting this two-step pipeline into LLM4Rec, we propose a new framework — <span class="ltx_text ltx_font_bold" id="S1.p3.1.1">R</span>ec<span class="ltx_text ltx_font_bold" id="S1.p3.1.2">o</span>mmendation with <span class="ltx_text ltx_font_bold" id="S1.p3.1.3">s</span>moothing p<span class="ltx_text ltx_font_bold" id="S1.p3.1.4">e</span>rsonalized Preference Optimization (<span class="ltx_text ltx_font_bold" id="S1.p3.1.5">RosePO</span>), which constructs preference pairs towards HH and performs personalized smoothing optimization for robustness.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p4">
<p class="ltx_p" id="S1.p4.1"><span class="ltx_text ltx_font_bold" id="S1.p4.1.1">Construction of Preference Pairs</span>.
Naturally, the input and chosen response remain consistent with prompts describing the sequence of historical items and the target item of interest during the SFT stage.
As the input and chosen responses already exist, the key to designing the preference pairs lies in selecting the rejected responses.
Instead of randomly selecting uninteracted items as the rejected responses, we draw inspiration from hard negative sampling <cite class="ltx_cite ltx_citemacro_citep">(Shi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib48" title="">2023</a>)</cite> and design three strategies: one to improve helpfulness and two to enhance harmlessness.</p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i1.p1.1.1">Addressing self-hard cases.</span>
To accurately differentiate the chosen item from challenging candidates, we create self-hard rejected responses by sampling from the SFT model’s incorrect predictions (<em class="ltx_emph ltx_font_italic" id="S1.I1.i1.p1.1.2">e.g., </em>the movie “Before Sunrise” in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1.F3" title="Figure 3 ‣ 1. Introduction ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a>).
This allows the model to learn from its mistakes <cite class="ltx_cite ltx_citemacro_citep">(Pan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib44" title="">2023</a>)</cite>, thereby enhancing the prediction accuracy of LLM-recommenders.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i2.p1.1.1">Mitigating semantic hallucination.</span>
The SFT model might focus too much on semantic similarities, which can lead to misleading recommendations <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib7" title="">2024</a>)</cite>.
To tackle this, we propose selecting items (<em class="ltx_emph ltx_font_italic" id="S1.I1.i2.p1.1.2">e.g., </em>the movie “Waterloo Bridge” in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1.F3" title="Figure 3 ‣ 1. Introduction ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a>) with high semantic similarity to the historical sequence (<em class="ltx_emph ltx_font_italic" id="S1.I1.i2.p1.1.3">e.g., </em>this user has watched the movie “The Bridges of Madison Country”) as rejected samples.
This helps the model avoid making assumptions based solely on surface-level similarities.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S1.I1.i3.p1.1.1">Reducing popularity bias.</span>
Fine-tuning on interaction data might introduce popularity bias, potentially reducing fairness for both users and items <cite class="ltx_cite ltx_citemacro_citep">(Lichtenberg et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib33" title="">2024</a>)</cite>.
To address this, we suggest selecting rejected samples (<em class="ltx_emph ltx_font_italic" id="S1.I1.i3.p1.1.2">e.g., </em>the movie “Titanic” in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1.F3" title="Figure 3 ‣ 1. Introduction ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a>) based on item popularity.
This helps counteract the popularity bias and promotes a more balanced recommendation service.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_figure" id="S1.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="180" id="S1.F2.g1" src="x2.png" width="390"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F2.2.1.1" style="font-size:90%;">Figure 2</span>. </span><span class="ltx_text" id="S1.F2.3.2" style="font-size:90%;">Since this user loves romantic movies, the preference for her subsequent interaction with “The Bridges of Madison County” over “Before Sunrise” exhibits greater uncertainty than over “Toy Story”.</span></figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S1.p5">
<p class="ltx_p" id="S1.p5.1"><span class="ltx_text ltx_font_bold" id="S1.p5.1.1">Personalized Preference Optimization</span>.
Unlike in the NLP field, where preference data is directly annotated by humans, preference learning in recommendation faces a significant challenge: the observed interactions between users and items are sparse <cite class="ltx_cite ltx_citemacro_citep">(Koren et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib28" title="">2009</a>)</cite>.
This raises the risk of selecting false negatives in the rejected samples, with the likelihood of false negatives increasing as the samples become harder.
Consequently, it is uncertain that users will exhibit a higher interest in the chosen items compared with the rejected ones, and the preference gap between them varies (<em class="ltx_emph ltx_font_italic" id="S1.p5.1.2">cf. </em>Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1.F2" title="Figure 2 ‣ 1. Introduction ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">2</span></a>).
To address this, we introduce personalized uncertainty into the optimization objective, which assesses the likelihood that a user prefers the chosen response over the rejected one.
This uncertainty is derived from the predictions of the probabilities for different users to interact with both chosen and rejected items, which are approximated by a lightweight auxiliary recommendation model.
By incorporating this new objective, we can achieve more robust preference optimization in recommendation scenarios, particularly in the presence of noisy labels <cite class="ltx_cite ltx_citemacro_citep">(Mitchell, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib41" title="">2023</a>; Chowdhury et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib13" title="">2024</a>)</cite>, thereby allowing the model to generalize across a broader range of data quality.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">In summary, our contributions are threefold:
(1) We propose a general framework capable of handling various preferences in developing a helpful and harmless recommendation service.
(2) By introducing a personalized uncertainty term into DPO loss, we enhance the model’s robustness for noisy preferences in automatically-constructed labels.
(3) Empirical evaluations on three datasets and various scenarios demonstrate the effectiveness of our approach.</p>
</div>
<figure class="ltx_figure" id="S1.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="196" id="S1.F3.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F3.2.1.1" style="font-size:90%;">Figure 3</span>. </span><span class="ltx_text" id="S1.F3.3.2" style="font-size:90%;">The framework of RosePO comprises two main components: preference data construction and personalized optimization. (1) The rejected items are sampled based on specific preferences for HH. (2) We estimate the uncertainty of preference for each data point guided by a preference oracle, and inject this personalized uncertainty as a smoothing factor into the optimization objective.</span></figcaption>
</figure>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">In this section, we present a literature review of LLMs for Recommendation and preference alignment in LLMs, from which our research draws inspiration.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>LLMs for Recommendation</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">In this era of information explosion, to alleviate users from being overloaded by massive products and content, sequential recommendation aims to mine users’ interests based on their historical behavior sequences, filtering information and selecting next items for them to interact with.
Amazing at the emergent abilities of LLMs, including the memorization of world knowledge and reasoning capabilities, recent works <cite class="ltx_cite ltx_citemacro_citep">(Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib19" title="">2023</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib63" title="">2023</a>; Geng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib20" title="">2022</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib30" title="">2023b</a>)</cite> explore their potential in the field of recommendation (LLM4Rec), the core of which is transforming recommendation tasks into language tasks.</p>
</div>
<div class="ltx_para" id="S2.SS1.p2">
<p class="ltx_p" id="S2.SS1.p2.1">Existed studies leverage LLMs for recommendation from three main aspects:
(1) LLMs as recommender: LLMs can make recommendation decisions based on users’ past engagement <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib8" title="">2023b</a>; Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib32" title="">2024</a>)</cite>;
(2) LLMs as enhancer: LLMs can enhance traditional recommendation models by processing and generating text features of users and items <cite class="ltx_cite ltx_citemacro_citep">(Yuan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib60" title="">2023</a>; Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib23" title="">2022</a>)</cite>;
(3) LLMs as simulator: LLMs can empower agents to simulate users in recommendation scenarios <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib61" title="">2024a</a>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib62" title="">b</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib51" title="">2023a</a>)</cite>.
Scrutinizing the first paradigm, LLM can be converted into a recommender through either prompting (<em class="ltx_emph ltx_font_italic" id="S2.SS1.p2.1.1">e.g., </em>zero-shot <cite class="ltx_cite ltx_citemacro_citep">(Hou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib24" title="">2024</a>)</cite>, in-context learning <cite class="ltx_cite ltx_citemacro_citep">(Wang and Lim, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib50" title="">2024</a>)</cite>, or chain-of-thought <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib52" title="">2023b</a>)</cite>) or tuning (<em class="ltx_emph ltx_font_italic" id="S2.SS1.p2.1.2">e.g., </em>parameter-efficient fine-tuning <cite class="ltx_cite ltx_citemacro_citep">(Hu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib25" title="">2021</a>)</cite> or full fine-tuning).
Going a step further, our work discusses how to introduce preference in tuning LLM as a sequential recommender.
Different from <cite class="ltx_cite ltx_citemacro_citep">(Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib5" title="">2024</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib12" title="">2024</a>)</cite>, which increases the number of negatives in DPO within LLM4Rec, our focus is on selecting appropriate negatives based on preferences and optimizing the pairwise loss function in a personalized smoothing manner.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Preference Alignment in LLMs</h3>
<div class="ltx_para" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Benefiting from the scaling law <cite class="ltx_cite ltx_citemacro_citep">(Kaplan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib27" title="">2020</a>)</cite>, LLMs <cite class="ltx_cite ltx_citemacro_citep">(OpenAI, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib42" title="">2023</a>; Dubey et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib18" title="">2024</a>)</cite> exhibit excellent performance in solving tasks across different domains <cite class="ltx_cite ltx_citemacro_citep">(Cui et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib16" title="">2024</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib56" title="">2023</a>; Clusmann et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib15" title="">2023</a>)</cite>.
The development of LLMs usually comprises two stages, pre-training and post-training <cite class="ltx_cite ltx_citemacro_citep">(Dubey et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib18" title="">2024</a>)</cite>.
Pre-training with the next-token-prediction task on a huge amount of corpora can acquire knowledge, while post-training can improve LLMs’ capabilities in following instructions and preferences.
In the post-training stage, RLHF <cite class="ltx_cite ltx_citemacro_citep">(Christiano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib14" title="">2017</a>; Ouyang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib43" title="">2022</a>; Bai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib4" title="">2022</a>)</cite> aligns LLM with human values by reinforcement learning with a reward model representing human feedback.</p>
</div>
<div class="ltx_para" id="S2.SS2.p2">
<p class="ltx_p" id="S2.SS2.p2.1">Since the online RLHF is hard to optimize, offline algorithms are explored to improve stability and simplicity.
Take the well-known DPO <cite class="ltx_cite ltx_citemacro_citep">(Rafailov et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib46" title="">2023</a>)</cite> as an example, it extracts the optimal policy in a closed form and directly optimizes LLM with preference data.
Various optimization objectives are also designed: several works try to sample preference pairs from the optimal policy <cite class="ltx_cite ltx_citemacro_citep">(Pang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib45" title="">2024</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib36" title="">2024</a>)</cite>; some develop reference-free objectives <cite class="ltx_cite ltx_citemacro_citep">(Xu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib57" title="">2024</a>; Meng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib40" title="">2024</a>)</cite>; others aim at more robust tuning <cite class="ltx_cite ltx_citemacro_citep">(Azar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib3" title="">2024</a>; Mitchell, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib41" title="">2023</a>; Chowdhury et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib13" title="">2024</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib55" title="">2024</a>)</cite>.
Different from optimizing a general preference in the NLP field, we optimize for personalized preferences with noisy labels in the recommendation scenario.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Method: RosePO <img alt="[Uncaptioned image]" class="ltx_graphics ltx_img_square" height="23" id="S3.1.g1" src="x4.png" width="21"/>
</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Background</h3>
<div class="ltx_para ltx_noindent" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.3"><span class="ltx_text ltx_font_bold" id="S3.SS1.p1.3.1">Task Formulation.</span>
A user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_u</annotation></semantics></math> chronically interacted with items <math alttext="i_{1},i_{2},\cdots i_{n}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.3"><semantics id="S3.SS1.p1.2.m2.3a"><mrow id="S3.SS1.p1.2.m2.3.3.3" xref="S3.SS1.p1.2.m2.3.3.4.cmml"><msub id="S3.SS1.p1.2.m2.1.1.1.1" xref="S3.SS1.p1.2.m2.1.1.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.1.1.2" xref="S3.SS1.p1.2.m2.1.1.1.1.2.cmml">i</mi><mn id="S3.SS1.p1.2.m2.1.1.1.1.3" xref="S3.SS1.p1.2.m2.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.2.m2.3.3.3.4" xref="S3.SS1.p1.2.m2.3.3.4.cmml">,</mo><msub id="S3.SS1.p1.2.m2.2.2.2.2" xref="S3.SS1.p1.2.m2.2.2.2.2.cmml"><mi id="S3.SS1.p1.2.m2.2.2.2.2.2" xref="S3.SS1.p1.2.m2.2.2.2.2.2.cmml">i</mi><mn id="S3.SS1.p1.2.m2.2.2.2.2.3" xref="S3.SS1.p1.2.m2.2.2.2.2.3.cmml">2</mn></msub><mo id="S3.SS1.p1.2.m2.3.3.3.5" xref="S3.SS1.p1.2.m2.3.3.4.cmml">,</mo><mrow id="S3.SS1.p1.2.m2.3.3.3.3" xref="S3.SS1.p1.2.m2.3.3.3.3.cmml"><mi id="S3.SS1.p1.2.m2.3.3.3.3.2" mathvariant="normal" xref="S3.SS1.p1.2.m2.3.3.3.3.2.cmml">⋯</mi><mo id="S3.SS1.p1.2.m2.3.3.3.3.1" xref="S3.SS1.p1.2.m2.3.3.3.3.1.cmml">⁢</mo><msub id="S3.SS1.p1.2.m2.3.3.3.3.3" xref="S3.SS1.p1.2.m2.3.3.3.3.3.cmml"><mi id="S3.SS1.p1.2.m2.3.3.3.3.3.2" xref="S3.SS1.p1.2.m2.3.3.3.3.3.2.cmml">i</mi><mi id="S3.SS1.p1.2.m2.3.3.3.3.3.3" xref="S3.SS1.p1.2.m2.3.3.3.3.3.3.cmml">n</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.3b"><list id="S3.SS1.p1.2.m2.3.3.4.cmml" xref="S3.SS1.p1.2.m2.3.3.3"><apply id="S3.SS1.p1.2.m2.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.1.1.2">𝑖</ci><cn id="S3.SS1.p1.2.m2.1.1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.2.m2.1.1.1.1.3">1</cn></apply><apply id="S3.SS1.p1.2.m2.2.2.2.2.cmml" xref="S3.SS1.p1.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.2.2.2.2.1.cmml" xref="S3.SS1.p1.2.m2.2.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.2.2.2.2.2.cmml" xref="S3.SS1.p1.2.m2.2.2.2.2.2">𝑖</ci><cn id="S3.SS1.p1.2.m2.2.2.2.2.3.cmml" type="integer" xref="S3.SS1.p1.2.m2.2.2.2.2.3">2</cn></apply><apply id="S3.SS1.p1.2.m2.3.3.3.3.cmml" xref="S3.SS1.p1.2.m2.3.3.3.3"><times id="S3.SS1.p1.2.m2.3.3.3.3.1.cmml" xref="S3.SS1.p1.2.m2.3.3.3.3.1"></times><ci id="S3.SS1.p1.2.m2.3.3.3.3.2.cmml" xref="S3.SS1.p1.2.m2.3.3.3.3.2">⋯</ci><apply id="S3.SS1.p1.2.m2.3.3.3.3.3.cmml" xref="S3.SS1.p1.2.m2.3.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.3.3.3.3.3.1.cmml" xref="S3.SS1.p1.2.m2.3.3.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.2.m2.3.3.3.3.3.2.cmml" xref="S3.SS1.p1.2.m2.3.3.3.3.3.2">𝑖</ci><ci id="S3.SS1.p1.2.m2.3.3.3.3.3.3.cmml" xref="S3.SS1.p1.2.m2.3.3.3.3.3.3">𝑛</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.3c">i_{1},i_{2},\cdots i_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.3d">italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , ⋯ italic_i start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>.
Sequential recommendation aims to predict the next item <math alttext="i_{n+1}" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><msub id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">i</mi><mrow id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml"><mi id="S3.SS1.p1.3.m3.1.1.3.2" xref="S3.SS1.p1.3.m3.1.1.3.2.cmml">n</mi><mo id="S3.SS1.p1.3.m3.1.1.3.1" xref="S3.SS1.p1.3.m3.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p1.3.m3.1.1.3.3" xref="S3.SS1.p1.3.m3.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">𝑖</ci><apply id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3"><plus id="S3.SS1.p1.3.m3.1.1.3.1.cmml" xref="S3.SS1.p1.3.m3.1.1.3.1"></plus><ci id="S3.SS1.p1.3.m3.1.1.3.2.cmml" xref="S3.SS1.p1.3.m3.1.1.3.2">𝑛</ci><cn id="S3.SS1.p1.3.m3.1.1.3.3.cmml" type="integer" xref="S3.SS1.p1.3.m3.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">i_{n+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_i start_POSTSUBSCRIPT italic_n + 1 end_POSTSUBSCRIPT</annotation></semantics></math> that the user will be interested in based on the sequence of historical items.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS1.p2.1.1">Supervised Fine-Tuning of LLM4Rec.</span>
To adapt a general LLM for recommendation tasks, a typical SFT procedure for domain adaptation involves two steps:</p>
<ol class="ltx_enumerate" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.3">Present the user-item interaction data into the text-like format as finetuning dataset <math alttext="\mathcal{D}_{\text{SFT}}=\left\{(x,y)\right\}" class="ltx_Math" display="inline" id="S3.I1.i1.p1.1.m1.3"><semantics id="S3.I1.i1.p1.1.m1.3a"><mrow id="S3.I1.i1.p1.1.m1.3.3" xref="S3.I1.i1.p1.1.m1.3.3.cmml"><msub id="S3.I1.i1.p1.1.m1.3.3.3" xref="S3.I1.i1.p1.1.m1.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.I1.i1.p1.1.m1.3.3.3.2" xref="S3.I1.i1.p1.1.m1.3.3.3.2.cmml">𝒟</mi><mtext id="S3.I1.i1.p1.1.m1.3.3.3.3" xref="S3.I1.i1.p1.1.m1.3.3.3.3a.cmml">SFT</mtext></msub><mo id="S3.I1.i1.p1.1.m1.3.3.2" xref="S3.I1.i1.p1.1.m1.3.3.2.cmml">=</mo><mrow id="S3.I1.i1.p1.1.m1.3.3.1.1" xref="S3.I1.i1.p1.1.m1.3.3.1.2.cmml"><mo id="S3.I1.i1.p1.1.m1.3.3.1.1.2" xref="S3.I1.i1.p1.1.m1.3.3.1.2.cmml">{</mo><mrow id="S3.I1.i1.p1.1.m1.3.3.1.1.1.2" xref="S3.I1.i1.p1.1.m1.3.3.1.1.1.1.cmml"><mo id="S3.I1.i1.p1.1.m1.3.3.1.1.1.2.1" stretchy="false" xref="S3.I1.i1.p1.1.m1.3.3.1.1.1.1.cmml">(</mo><mi id="S3.I1.i1.p1.1.m1.1.1" xref="S3.I1.i1.p1.1.m1.1.1.cmml">x</mi><mo id="S3.I1.i1.p1.1.m1.3.3.1.1.1.2.2" xref="S3.I1.i1.p1.1.m1.3.3.1.1.1.1.cmml">,</mo><mi id="S3.I1.i1.p1.1.m1.2.2" xref="S3.I1.i1.p1.1.m1.2.2.cmml">y</mi><mo id="S3.I1.i1.p1.1.m1.3.3.1.1.1.2.3" stretchy="false" xref="S3.I1.i1.p1.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow><mo id="S3.I1.i1.p1.1.m1.3.3.1.1.3" xref="S3.I1.i1.p1.1.m1.3.3.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.1.m1.3b"><apply id="S3.I1.i1.p1.1.m1.3.3.cmml" xref="S3.I1.i1.p1.1.m1.3.3"><eq id="S3.I1.i1.p1.1.m1.3.3.2.cmml" xref="S3.I1.i1.p1.1.m1.3.3.2"></eq><apply id="S3.I1.i1.p1.1.m1.3.3.3.cmml" xref="S3.I1.i1.p1.1.m1.3.3.3"><csymbol cd="ambiguous" id="S3.I1.i1.p1.1.m1.3.3.3.1.cmml" xref="S3.I1.i1.p1.1.m1.3.3.3">subscript</csymbol><ci id="S3.I1.i1.p1.1.m1.3.3.3.2.cmml" xref="S3.I1.i1.p1.1.m1.3.3.3.2">𝒟</ci><ci id="S3.I1.i1.p1.1.m1.3.3.3.3a.cmml" xref="S3.I1.i1.p1.1.m1.3.3.3.3"><mtext id="S3.I1.i1.p1.1.m1.3.3.3.3.cmml" mathsize="70%" xref="S3.I1.i1.p1.1.m1.3.3.3.3">SFT</mtext></ci></apply><set id="S3.I1.i1.p1.1.m1.3.3.1.2.cmml" xref="S3.I1.i1.p1.1.m1.3.3.1.1"><interval closure="open" id="S3.I1.i1.p1.1.m1.3.3.1.1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.3.3.1.1.1.2"><ci id="S3.I1.i1.p1.1.m1.1.1.cmml" xref="S3.I1.i1.p1.1.m1.1.1">𝑥</ci><ci id="S3.I1.i1.p1.1.m1.2.2.cmml" xref="S3.I1.i1.p1.1.m1.2.2">𝑦</ci></interval></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.1.m1.3c">\mathcal{D}_{\text{SFT}}=\left\{(x,y)\right\}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.1.m1.3d">caligraphic_D start_POSTSUBSCRIPT SFT end_POSTSUBSCRIPT = { ( italic_x , italic_y ) }</annotation></semantics></math>.
Here, input <math alttext="x" class="ltx_Math" display="inline" id="S3.I1.i1.p1.2.m2.1"><semantics id="S3.I1.i1.p1.2.m2.1a"><mi id="S3.I1.i1.p1.2.m2.1.1" xref="S3.I1.i1.p1.2.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.2.m2.1b"><ci id="S3.I1.i1.p1.2.m2.1.1.cmml" xref="S3.I1.i1.p1.2.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.2.m2.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.2.m2.1d">italic_x</annotation></semantics></math> requires the LLM to select an item from a given candidate set based on the user’s historical interaction sequence, while response <math alttext="y" class="ltx_Math" display="inline" id="S3.I1.i1.p1.3.m3.1"><semantics id="S3.I1.i1.p1.3.m3.1a"><mi id="S3.I1.i1.p1.3.m3.1.1" xref="S3.I1.i1.p1.3.m3.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i1.p1.3.m3.1b"><ci id="S3.I1.i1.p1.3.m3.1.1.cmml" xref="S3.I1.i1.p1.3.m3.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i1.p1.3.m3.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i1.p1.3.m3.1d">italic_y</annotation></semantics></math> corresponds to the target item that the user will interact with.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.3">Fine-tune the LLM parameterized by <math alttext="\theta" class="ltx_Math" display="inline" id="S3.I1.i2.p1.1.m1.1"><semantics id="S3.I1.i2.p1.1.m1.1a"><mi id="S3.I1.i2.p1.1.m1.1.1" xref="S3.I1.i2.p1.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.1.m1.1b"><ci id="S3.I1.i2.p1.1.m1.1.1.cmml" xref="S3.I1.i2.p1.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.1.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.1.m1.1d">italic_θ</annotation></semantics></math> with autoregressive modeling.
The objective is to maximize the likelihood of the chosen response <math alttext="y" class="ltx_Math" display="inline" id="S3.I1.i2.p1.2.m2.1"><semantics id="S3.I1.i2.p1.2.m2.1a"><mi id="S3.I1.i2.p1.2.m2.1.1" xref="S3.I1.i2.p1.2.m2.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.2.m2.1b"><ci id="S3.I1.i2.p1.2.m2.1.1.cmml" xref="S3.I1.i2.p1.2.m2.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.2.m2.1c">y</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.2.m2.1d">italic_y</annotation></semantics></math> given the input prompt <math alttext="x" class="ltx_Math" display="inline" id="S3.I1.i2.p1.3.m3.1"><semantics id="S3.I1.i2.p1.3.m3.1a"><mi id="S3.I1.i2.p1.3.m3.1.1" xref="S3.I1.i2.p1.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p1.3.m3.1b"><ci id="S3.I1.i2.p1.3.m3.1.1.cmml" xref="S3.I1.i2.p1.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p1.3.m3.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p1.3.m3.1d">italic_x</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\max_{\theta}\mathbb{E}_{(x,y)\thicksim\mathcal{D}_{\text{SFT}}}\pi_{\theta}(y%
\mid x)." class="ltx_Math" display="block" id="S3.E1.m1.3"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3.1" xref="S3.E1.m1.3.3.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1" xref="S3.E1.m1.3.3.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1.3" xref="S3.E1.m1.3.3.1.1.3.cmml"><munder id="S3.E1.m1.3.3.1.1.3.1" xref="S3.E1.m1.3.3.1.1.3.1.cmml"><mi id="S3.E1.m1.3.3.1.1.3.1.2" xref="S3.E1.m1.3.3.1.1.3.1.2.cmml">max</mi><mi id="S3.E1.m1.3.3.1.1.3.1.3" xref="S3.E1.m1.3.3.1.1.3.1.3.cmml">θ</mi></munder><mo id="S3.E1.m1.3.3.1.1.3a" lspace="0.167em" xref="S3.E1.m1.3.3.1.1.3.cmml">⁡</mo><mrow id="S3.E1.m1.3.3.1.1.3.2" xref="S3.E1.m1.3.3.1.1.3.2.cmml"><msub id="S3.E1.m1.3.3.1.1.3.2.2" xref="S3.E1.m1.3.3.1.1.3.2.2.cmml"><mi id="S3.E1.m1.3.3.1.1.3.2.2.2" xref="S3.E1.m1.3.3.1.1.3.2.2.2.cmml">𝔼</mi><mrow id="S3.E1.m1.2.2.2" xref="S3.E1.m1.2.2.2.cmml"><mrow id="S3.E1.m1.2.2.2.4.2" xref="S3.E1.m1.2.2.2.4.1.cmml"><mo id="S3.E1.m1.2.2.2.4.2.1" stretchy="false" xref="S3.E1.m1.2.2.2.4.1.cmml">(</mo><mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">x</mi><mo id="S3.E1.m1.2.2.2.4.2.2" xref="S3.E1.m1.2.2.2.4.1.cmml">,</mo><mi id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.2.cmml">y</mi><mo id="S3.E1.m1.2.2.2.4.2.3" stretchy="false" xref="S3.E1.m1.2.2.2.4.1.cmml">)</mo></mrow><mo id="S3.E1.m1.2.2.2.3" xref="S3.E1.m1.2.2.2.3.cmml">∼</mo><msub id="S3.E1.m1.2.2.2.5" xref="S3.E1.m1.2.2.2.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.2.5.2" xref="S3.E1.m1.2.2.2.5.2.cmml">𝒟</mi><mtext id="S3.E1.m1.2.2.2.5.3" xref="S3.E1.m1.2.2.2.5.3a.cmml">SFT</mtext></msub></mrow></msub><mo id="S3.E1.m1.3.3.1.1.3.2.1" xref="S3.E1.m1.3.3.1.1.3.2.1.cmml">⁢</mo><msub id="S3.E1.m1.3.3.1.1.3.2.3" xref="S3.E1.m1.3.3.1.1.3.2.3.cmml"><mi id="S3.E1.m1.3.3.1.1.3.2.3.2" xref="S3.E1.m1.3.3.1.1.3.2.3.2.cmml">π</mi><mi id="S3.E1.m1.3.3.1.1.3.2.3.3" xref="S3.E1.m1.3.3.1.1.3.2.3.3.cmml">θ</mi></msub></mrow></mrow><mo id="S3.E1.m1.3.3.1.1.2" xref="S3.E1.m1.3.3.1.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.3.3.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml"><mo id="S3.E1.m1.3.3.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.3.3.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.1.2.cmml">y</mi><mo id="S3.E1.m1.3.3.1.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E1.m1.3.3.1.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E1.m1.3.3.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E1.m1.3.3.1.2" lspace="0em" xref="S3.E1.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.1.1.cmml" xref="S3.E1.m1.3.3.1"><times id="S3.E1.m1.3.3.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.2"></times><apply id="S3.E1.m1.3.3.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.3"><apply id="S3.E1.m1.3.3.1.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.3.1.1.cmml" xref="S3.E1.m1.3.3.1.1.3.1">subscript</csymbol><max id="S3.E1.m1.3.3.1.1.3.1.2.cmml" xref="S3.E1.m1.3.3.1.1.3.1.2"></max><ci id="S3.E1.m1.3.3.1.1.3.1.3.cmml" xref="S3.E1.m1.3.3.1.1.3.1.3">𝜃</ci></apply><apply id="S3.E1.m1.3.3.1.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2"><times id="S3.E1.m1.3.3.1.1.3.2.1.cmml" xref="S3.E1.m1.3.3.1.1.3.2.1"></times><apply id="S3.E1.m1.3.3.1.1.3.2.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.3.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.3.2.2">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.3.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2.2.2">𝔼</ci><apply id="S3.E1.m1.2.2.2.cmml" xref="S3.E1.m1.2.2.2"><ci id="S3.E1.m1.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.3">∼</ci><interval closure="open" id="S3.E1.m1.2.2.2.4.1.cmml" xref="S3.E1.m1.2.2.2.4.2"><ci id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">𝑥</ci><ci id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2">𝑦</ci></interval><apply id="S3.E1.m1.2.2.2.5.cmml" xref="S3.E1.m1.2.2.2.5"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.2.5.1.cmml" xref="S3.E1.m1.2.2.2.5">subscript</csymbol><ci id="S3.E1.m1.2.2.2.5.2.cmml" xref="S3.E1.m1.2.2.2.5.2">𝒟</ci><ci id="S3.E1.m1.2.2.2.5.3a.cmml" xref="S3.E1.m1.2.2.2.5.3"><mtext id="S3.E1.m1.2.2.2.5.3.cmml" mathsize="50%" xref="S3.E1.m1.2.2.2.5.3">SFT</mtext></ci></apply></apply></apply><apply id="S3.E1.m1.3.3.1.1.3.2.3.cmml" xref="S3.E1.m1.3.3.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.3.2.3.1.cmml" xref="S3.E1.m1.3.3.1.1.3.2.3">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.3.2.3.2.cmml" xref="S3.E1.m1.3.3.1.1.3.2.3.2">𝜋</ci><ci id="S3.E1.m1.3.3.1.1.3.2.3.3.cmml" xref="S3.E1.m1.3.3.1.1.3.2.3.3">𝜃</ci></apply></apply></apply><apply id="S3.E1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.3.3.1.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.2">𝑦</ci><ci id="S3.E1.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">\max_{\theta}\mathbb{E}_{(x,y)\thicksim\mathcal{D}_{\text{SFT}}}\pi_{\theta}(y%
\mid x).</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.3d">roman_max start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT blackboard_E start_POSTSUBSCRIPT ( italic_x , italic_y ) ∼ caligraphic_D start_POSTSUBSCRIPT SFT end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y ∣ italic_x ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</li>
</ol>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS1.p3">
<p class="ltx_p" id="S3.SS1.p3.10"><span class="ltx_text ltx_font_bold" id="S3.SS1.p3.10.1">Direct Preference Optimization.</span>
During the stage of preference alignment in LLMs, Direct Preference Optimization (DPO) <cite class="ltx_cite ltx_citemacro_citep">(Rafailov et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib46" title="">2023</a>)</cite> extracts a closed-form optimal policy of RLHF <cite class="ltx_cite ltx_citemacro_citep">(Christiano et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib14" title="">2017</a>)</cite> and model the reward function as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E2">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E2X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle r(x,y)=\beta\log\frac{\pi_{\theta}(y\mid x)}{\pi_{\text{ref}}(y%
\mid x)}+\beta\log Z(x)," class="ltx_Math" display="inline" id="S3.E2X.2.1.1.m1.6"><semantics id="S3.E2X.2.1.1.m1.6a"><mrow id="S3.E2X.2.1.1.m1.6.6.1" xref="S3.E2X.2.1.1.m1.6.6.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.6.6.1.1" xref="S3.E2X.2.1.1.m1.6.6.1.1.cmml"><mrow id="S3.E2X.2.1.1.m1.6.6.1.1.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.cmml"><mi id="S3.E2X.2.1.1.m1.6.6.1.1.2.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.2.cmml">r</mi><mo id="S3.E2X.2.1.1.m1.6.6.1.1.2.1" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.1.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.6.6.1.1.2.3.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.3.1.cmml"><mo id="S3.E2X.2.1.1.m1.6.6.1.1.2.3.2.1" stretchy="false" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.3.1.cmml">(</mo><mi id="S3.E2X.2.1.1.m1.3.3" xref="S3.E2X.2.1.1.m1.3.3.cmml">x</mi><mo id="S3.E2X.2.1.1.m1.6.6.1.1.2.3.2.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.3.1.cmml">,</mo><mi id="S3.E2X.2.1.1.m1.4.4" xref="S3.E2X.2.1.1.m1.4.4.cmml">y</mi><mo id="S3.E2X.2.1.1.m1.6.6.1.1.2.3.2.3" stretchy="false" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.3.1.cmml">)</mo></mrow></mrow><mo id="S3.E2X.2.1.1.m1.6.6.1.1.1" xref="S3.E2X.2.1.1.m1.6.6.1.1.1.cmml">=</mo><mrow id="S3.E2X.2.1.1.m1.6.6.1.1.3" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.cmml"><mrow id="S3.E2X.2.1.1.m1.6.6.1.1.3.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.cmml"><mi id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.2.cmml">β</mi><mo id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.1" lspace="0.167em" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.1.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3.cmml"><mi id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3.1" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3.1.cmml">log</mi><mo id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3a" lspace="0.167em" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3.cmml">⁡</mo><mstyle displaystyle="true" id="S3.E2X.2.1.1.m1.2.2" xref="S3.E2X.2.1.1.m1.2.2.cmml"><mfrac id="S3.E2X.2.1.1.m1.2.2a" xref="S3.E2X.2.1.1.m1.2.2.cmml"><mrow id="S3.E2X.2.1.1.m1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.cmml"><msub id="S3.E2X.2.1.1.m1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.3.cmml"><mi id="S3.E2X.2.1.1.m1.1.1.1.3.2" xref="S3.E2X.2.1.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S3.E2X.2.1.1.m1.1.1.1.3.3" xref="S3.E2X.2.1.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S3.E2X.2.1.1.m1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.cmml"><mo id="S3.E2X.2.1.1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2X.2.1.1.m1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.2" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.2.cmml">y</mi><mo id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.3" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E2X.2.1.1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E2X.2.1.1.m1.2.2.2" xref="S3.E2X.2.1.1.m1.2.2.2.cmml"><msub id="S3.E2X.2.1.1.m1.2.2.2.3" xref="S3.E2X.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E2X.2.1.1.m1.2.2.2.3.2" xref="S3.E2X.2.1.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S3.E2X.2.1.1.m1.2.2.2.3.3" xref="S3.E2X.2.1.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S3.E2X.2.1.1.m1.2.2.2.2" xref="S3.E2X.2.1.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.2.2.2.1.1" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.cmml"><mo id="S3.E2X.2.1.1.m1.2.2.2.1.1.2" stretchy="false" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E2X.2.1.1.m1.2.2.2.1.1.1" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.cmml"><mi id="S3.E2X.2.1.1.m1.2.2.2.1.1.1.2" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.2.cmml">y</mi><mo id="S3.E2X.2.1.1.m1.2.2.2.1.1.1.1" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.1.cmml">∣</mo><mi id="S3.E2X.2.1.1.m1.2.2.2.1.1.1.3" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E2X.2.1.1.m1.2.2.2.1.1.3" stretchy="false" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E2X.2.1.1.m1.6.6.1.1.3.1" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.1.cmml">+</mo><mrow id="S3.E2X.2.1.1.m1.6.6.1.1.3.3" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.cmml"><mi id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.2.cmml">β</mi><mo id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.1" lspace="0.167em" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.1.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.cmml"><mi id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.1" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.1.cmml">log</mi><mo id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3a" lspace="0.167em" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.cmml">⁡</mo><mi id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.2.cmml">Z</mi></mrow><mo id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.1a" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.1.cmml">⁢</mo><mrow id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.4.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.cmml"><mo id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.4.2.1" stretchy="false" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.cmml">(</mo><mi id="S3.E2X.2.1.1.m1.5.5" xref="S3.E2X.2.1.1.m1.5.5.cmml">x</mi><mo id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.4.2.2" stretchy="false" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E2X.2.1.1.m1.6.6.1.2" xref="S3.E2X.2.1.1.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2X.2.1.1.m1.6b"><apply id="S3.E2X.2.1.1.m1.6.6.1.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1"><eq id="S3.E2X.2.1.1.m1.6.6.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.1"></eq><apply id="S3.E2X.2.1.1.m1.6.6.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.2"><times id="S3.E2X.2.1.1.m1.6.6.1.1.2.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.1"></times><ci id="S3.E2X.2.1.1.m1.6.6.1.1.2.2.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.2">𝑟</ci><interval closure="open" id="S3.E2X.2.1.1.m1.6.6.1.1.2.3.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.2.3.2"><ci id="S3.E2X.2.1.1.m1.3.3.cmml" xref="S3.E2X.2.1.1.m1.3.3">𝑥</ci><ci id="S3.E2X.2.1.1.m1.4.4.cmml" xref="S3.E2X.2.1.1.m1.4.4">𝑦</ci></interval></apply><apply id="S3.E2X.2.1.1.m1.6.6.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3"><plus id="S3.E2X.2.1.1.m1.6.6.1.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.1"></plus><apply id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2"><times id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.1"></times><ci id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.2.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.2">𝛽</ci><apply id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3"><log id="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.2.3.1"></log><apply id="S3.E2X.2.1.1.m1.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.2"><divide id="S3.E2X.2.1.1.m1.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.2.2"></divide><apply id="S3.E2X.2.1.1.m1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1"><times id="S3.E2X.2.1.1.m1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.2"></times><apply id="S3.E2X.2.1.1.m1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.1.1.1.3.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.3">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.1.1.1.3.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.3.2">𝜋</ci><ci id="S3.E2X.2.1.1.m1.1.1.1.3.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E2X.2.1.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S3.E2X.2.1.1.m1.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.2.2"><times id="S3.E2X.2.1.1.m1.2.2.2.2.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.2"></times><apply id="S3.E2X.2.1.1.m1.2.2.2.3.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S3.E2X.2.1.1.m1.2.2.2.3.1.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.3">subscript</csymbol><ci id="S3.E2X.2.1.1.m1.2.2.2.3.2.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.3.2">𝜋</ci><ci id="S3.E2X.2.1.1.m1.2.2.2.3.3a.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.3.3"><mtext id="S3.E2X.2.1.1.m1.2.2.2.3.3.cmml" mathsize="70%" xref="S3.E2X.2.1.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S3.E2X.2.1.1.m1.2.2.2.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E2X.2.1.1.m1.2.2.2.1.1.1.1.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.1">conditional</csymbol><ci id="S3.E2X.2.1.1.m1.2.2.2.1.1.1.2.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.2">𝑦</ci><ci id="S3.E2X.2.1.1.m1.2.2.2.1.1.1.3.cmml" xref="S3.E2X.2.1.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3"><times id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.1"></times><ci id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.2.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.2">𝛽</ci><apply id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3"><log id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.1.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.1"></log><ci id="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.2.cmml" xref="S3.E2X.2.1.1.m1.6.6.1.1.3.3.3.2">𝑍</ci></apply><ci id="S3.E2X.2.1.1.m1.5.5.cmml" xref="S3.E2X.2.1.1.m1.5.5">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2X.2.1.1.m1.6c">\displaystyle r(x,y)=\beta\log\frac{\pi_{\theta}(y\mid x)}{\pi_{\text{ref}}(y%
\mid x)}+\beta\log Z(x),</annotation><annotation encoding="application/x-llamapun" id="S3.E2X.2.1.1.m1.6d">italic_r ( italic_x , italic_y ) = italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y ∣ italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y ∣ italic_x ) end_ARG + italic_β roman_log italic_Z ( italic_x ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS1.p3.8">where the partial function is <math alttext="\begin{aligned} Z(x)=\sum_{y}\pi_{\text{ref}}(y|x)\exp\left(\frac{1}{\beta}r(x%
,y)\right)\end{aligned}" class="ltx_Math" display="inline" id="S3.SS1.p3.1.m1.6"><semantics id="S3.SS1.p3.1.m1.6a"><mtable id="S3.SS1.p3.1.m1.6.6" xref="S3.SS1.p3.1.m1.6.6.cmml"><mtr id="S3.SS1.p3.1.m1.6.6a" xref="S3.SS1.p3.1.m1.6.6.cmml"><mtd class="ltx_align_right" columnalign="right" id="S3.SS1.p3.1.m1.6.6b" xref="S3.SS1.p3.1.m1.6.6.cmml"><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6" xref="S3.SS1.p3.1.m1.6.6.6.6.6.cmml"><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6.8" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8.cmml"><mi id="S3.SS1.p3.1.m1.6.6.6.6.6.8.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8.2.cmml">Z</mi><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.8.1" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8.1.cmml">⁢</mo><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6.8.3.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8.cmml"><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.8.3.2.1" stretchy="false" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8.cmml">(</mo><mi id="S3.SS1.p3.1.m1.1.1.1.1.1.1" xref="S3.SS1.p3.1.m1.1.1.1.1.1.1.cmml">x</mi><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.8.3.2.2" stretchy="false" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.7" xref="S3.SS1.p3.1.m1.6.6.6.6.6.7.cmml">=</mo><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6.6" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.cmml"><mstyle displaystyle="true" id="S3.SS1.p3.1.m1.6.6.6.6.6.6.3" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.cmml"><munder id="S3.SS1.p3.1.m1.6.6.6.6.6.6.3a" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.cmml"><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.2" movablelimits="false" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.2.cmml">∑</mo><mi id="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.3" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.3.cmml">y</mi></munder></mstyle><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.cmml"><msub id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.cmml"><mi id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.2.cmml">π</mi><mtext id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.3" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.3a.cmml">ref</mtext></msub><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.3" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.3.cmml">⁢</mo><mrow id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.cmml"><mo id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.2" stretchy="false" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.cmml"><mi id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.2" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.2.cmml">y</mi><mo fence="false" id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.1" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.1.cmml">|</mo><mi id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.3" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.3" stretchy="false" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.cmml">)</mo></mrow><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.3a" lspace="0.167em" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.3.cmml">⁢</mo><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.2.cmml"><mi id="S3.SS1.p3.1.m1.4.4.4.4.4.4" xref="S3.SS1.p3.1.m1.4.4.4.4.4.4.cmml">exp</mi><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1a" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.2.cmml">⁡</mo><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.2.cmml"><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.2.cmml">(</mo><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.cmml"><mstyle displaystyle="true" id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.cmml"><mfrac id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2a" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.cmml"><mn id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.2.cmml">1</mn><mi id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.3" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.3.cmml">β</mi></mfrac></mstyle><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.1" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.1.cmml">⁢</mo><mi id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.3" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.3.cmml">r</mi><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.1a" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.1.cmml">⁢</mo><mrow id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.1.cmml"><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.2.1" stretchy="false" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.1.cmml">(</mo><mi id="S3.SS1.p3.1.m1.2.2.2.2.2.2" xref="S3.SS1.p3.1.m1.2.2.2.2.2.2.cmml">x</mi><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.2.2" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.1.cmml">,</mo><mi id="S3.SS1.p3.1.m1.3.3.3.3.3.3" xref="S3.SS1.p3.1.m1.3.3.3.3.3.3.cmml">y</mi><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.2.3" stretchy="false" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.3" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.6b"><matrix id="S3.SS1.p3.1.m1.6.6.cmml" xref="S3.SS1.p3.1.m1.6.6"><matrixrow id="S3.SS1.p3.1.m1.6.6a.cmml" xref="S3.SS1.p3.1.m1.6.6"><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6"><eq id="S3.SS1.p3.1.m1.6.6.6.6.6.7.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.7"></eq><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.8.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8"><times id="S3.SS1.p3.1.m1.6.6.6.6.6.8.1.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8.1"></times><ci id="S3.SS1.p3.1.m1.6.6.6.6.6.8.2.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.8.2">𝑍</ci><ci id="S3.SS1.p3.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1.1.1.1.1">𝑥</ci></apply><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.6.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6"><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.1.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.3">subscript</csymbol><sum id="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.2.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.2"></sum><ci id="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.3.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.3.3">𝑦</ci></apply><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2"><times id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.3.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.3"></times><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4"><csymbol cd="ambiguous" id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.1.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4">subscript</csymbol><ci id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.2.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.2">𝜋</ci><ci id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.3a.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.3"><mtext id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.3.cmml" mathsize="70%" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.4.3">ref</mtext></ci></apply><apply id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1"><csymbol cd="latexml" id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.1">conditional</csymbol><ci id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.2">𝑦</ci><ci id="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.5.5.5.5.5.5.1.1.1.1.3">𝑥</ci></apply><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.2.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1"><exp id="S3.SS1.p3.1.m1.4.4.4.4.4.4.cmml" xref="S3.SS1.p3.1.m1.4.4.4.4.4.4"></exp><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1"><times id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.1.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.1"></times><apply id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2"><divide id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2"></divide><cn id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.2.cmml" type="integer" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.2">1</cn><ci id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.3.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.2.3">𝛽</ci></apply><ci id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.3.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.3">𝑟</ci><interval closure="open" id="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.1.cmml" xref="S3.SS1.p3.1.m1.6.6.6.6.6.6.2.2.1.1.1.4.2"><ci id="S3.SS1.p3.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS1.p3.1.m1.2.2.2.2.2.2">𝑥</ci><ci id="S3.SS1.p3.1.m1.3.3.3.3.3.3.cmml" xref="S3.SS1.p3.1.m1.3.3.3.3.3.3">𝑦</ci></interval></apply></apply></apply></apply></apply></matrixrow></matrix></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.6c">\begin{aligned} Z(x)=\sum_{y}\pi_{\text{ref}}(y|x)\exp\left(\frac{1}{\beta}r(x%
,y)\right)\end{aligned}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.1.m1.6d">start_ROW start_CELL italic_Z ( italic_x ) = ∑ start_POSTSUBSCRIPT italic_y end_POSTSUBSCRIPT italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y | italic_x ) roman_exp ( divide start_ARG 1 end_ARG start_ARG italic_β end_ARG italic_r ( italic_x , italic_y ) ) end_CELL end_ROW</annotation></semantics></math> and <math alttext="\beta" class="ltx_Math" display="inline" id="S3.SS1.p3.2.m2.1"><semantics id="S3.SS1.p3.2.m2.1a"><mi id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><ci id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.2.m2.1d">italic_β</annotation></semantics></math> represents the deviation of policy <math alttext="\pi_{\theta}" class="ltx_Math" display="inline" id="S3.SS1.p3.3.m3.1"><semantics id="S3.SS1.p3.3.m3.1a"><msub id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml"><mi id="S3.SS1.p3.3.m3.1.1.2" xref="S3.SS1.p3.3.m3.1.1.2.cmml">π</mi><mi id="S3.SS1.p3.3.m3.1.1.3" xref="S3.SS1.p3.3.m3.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><apply id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.3.m3.1.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p3.3.m3.1.1.2.cmml" xref="S3.SS1.p3.3.m3.1.1.2">𝜋</ci><ci id="S3.SS1.p3.3.m3.1.1.3.cmml" xref="S3.SS1.p3.3.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">\pi_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.3.m3.1d">italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> from the reference model <math alttext="\pi_{\mathrm{ref}}" class="ltx_Math" display="inline" id="S3.SS1.p3.4.m4.1"><semantics id="S3.SS1.p3.4.m4.1a"><msub id="S3.SS1.p3.4.m4.1.1" xref="S3.SS1.p3.4.m4.1.1.cmml"><mi id="S3.SS1.p3.4.m4.1.1.2" xref="S3.SS1.p3.4.m4.1.1.2.cmml">π</mi><mi id="S3.SS1.p3.4.m4.1.1.3" xref="S3.SS1.p3.4.m4.1.1.3.cmml">ref</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m4.1b"><apply id="S3.SS1.p3.4.m4.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.4.m4.1.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p3.4.m4.1.1.2.cmml" xref="S3.SS1.p3.4.m4.1.1.2">𝜋</ci><ci id="S3.SS1.p3.4.m4.1.1.3.cmml" xref="S3.SS1.p3.4.m4.1.1.3">ref</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m4.1c">\pi_{\mathrm{ref}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.4.m4.1d">italic_π start_POSTSUBSCRIPT roman_ref end_POSTSUBSCRIPT</annotation></semantics></math>.
For the preference learning dataset <math alttext="\mathcal{D}_{\text{PL}}=\left\{(x,y_{w},y_{l})\right\}" class="ltx_Math" display="inline" id="S3.SS1.p3.5.m5.2"><semantics id="S3.SS1.p3.5.m5.2a"><mrow id="S3.SS1.p3.5.m5.2.2" xref="S3.SS1.p3.5.m5.2.2.cmml"><msub id="S3.SS1.p3.5.m5.2.2.3" xref="S3.SS1.p3.5.m5.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.5.m5.2.2.3.2" xref="S3.SS1.p3.5.m5.2.2.3.2.cmml">𝒟</mi><mtext id="S3.SS1.p3.5.m5.2.2.3.3" xref="S3.SS1.p3.5.m5.2.2.3.3a.cmml">PL</mtext></msub><mo id="S3.SS1.p3.5.m5.2.2.2" xref="S3.SS1.p3.5.m5.2.2.2.cmml">=</mo><mrow id="S3.SS1.p3.5.m5.2.2.1.1" xref="S3.SS1.p3.5.m5.2.2.1.2.cmml"><mo id="S3.SS1.p3.5.m5.2.2.1.1.2" xref="S3.SS1.p3.5.m5.2.2.1.2.cmml">{</mo><mrow id="S3.SS1.p3.5.m5.2.2.1.1.1.2" xref="S3.SS1.p3.5.m5.2.2.1.1.1.3.cmml"><mo id="S3.SS1.p3.5.m5.2.2.1.1.1.2.3" stretchy="false" xref="S3.SS1.p3.5.m5.2.2.1.1.1.3.cmml">(</mo><mi id="S3.SS1.p3.5.m5.1.1" xref="S3.SS1.p3.5.m5.1.1.cmml">x</mi><mo id="S3.SS1.p3.5.m5.2.2.1.1.1.2.4" xref="S3.SS1.p3.5.m5.2.2.1.1.1.3.cmml">,</mo><msub id="S3.SS1.p3.5.m5.2.2.1.1.1.1.1" xref="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.cmml"><mi id="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.2" xref="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.2.cmml">y</mi><mi id="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.3" xref="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.3.cmml">w</mi></msub><mo id="S3.SS1.p3.5.m5.2.2.1.1.1.2.5" xref="S3.SS1.p3.5.m5.2.2.1.1.1.3.cmml">,</mo><msub id="S3.SS1.p3.5.m5.2.2.1.1.1.2.2" xref="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.cmml"><mi id="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.2" xref="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.2.cmml">y</mi><mi id="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.3" xref="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.3.cmml">l</mi></msub><mo id="S3.SS1.p3.5.m5.2.2.1.1.1.2.6" stretchy="false" xref="S3.SS1.p3.5.m5.2.2.1.1.1.3.cmml">)</mo></mrow><mo id="S3.SS1.p3.5.m5.2.2.1.1.3" xref="S3.SS1.p3.5.m5.2.2.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.5.m5.2b"><apply id="S3.SS1.p3.5.m5.2.2.cmml" xref="S3.SS1.p3.5.m5.2.2"><eq id="S3.SS1.p3.5.m5.2.2.2.cmml" xref="S3.SS1.p3.5.m5.2.2.2"></eq><apply id="S3.SS1.p3.5.m5.2.2.3.cmml" xref="S3.SS1.p3.5.m5.2.2.3"><csymbol cd="ambiguous" id="S3.SS1.p3.5.m5.2.2.3.1.cmml" xref="S3.SS1.p3.5.m5.2.2.3">subscript</csymbol><ci id="S3.SS1.p3.5.m5.2.2.3.2.cmml" xref="S3.SS1.p3.5.m5.2.2.3.2">𝒟</ci><ci id="S3.SS1.p3.5.m5.2.2.3.3a.cmml" xref="S3.SS1.p3.5.m5.2.2.3.3"><mtext id="S3.SS1.p3.5.m5.2.2.3.3.cmml" mathsize="70%" xref="S3.SS1.p3.5.m5.2.2.3.3">PL</mtext></ci></apply><set id="S3.SS1.p3.5.m5.2.2.1.2.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1"><vector id="S3.SS1.p3.5.m5.2.2.1.1.1.3.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.2"><ci id="S3.SS1.p3.5.m5.1.1.cmml" xref="S3.SS1.p3.5.m5.1.1">𝑥</ci><apply id="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.2.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.2">𝑦</ci><ci id="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.3.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.1.1.3">𝑤</ci></apply><apply id="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.1.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.2.2">subscript</csymbol><ci id="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.2.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.2">𝑦</ci><ci id="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.3.cmml" xref="S3.SS1.p3.5.m5.2.2.1.1.1.2.2.3">𝑙</ci></apply></vector></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.5.m5.2c">\mathcal{D}_{\text{PL}}=\left\{(x,y_{w},y_{l})\right\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.5.m5.2d">caligraphic_D start_POSTSUBSCRIPT PL end_POSTSUBSCRIPT = { ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) }</annotation></semantics></math>, with <math alttext="x" class="ltx_Math" display="inline" id="S3.SS1.p3.6.m6.1"><semantics id="S3.SS1.p3.6.m6.1a"><mi id="S3.SS1.p3.6.m6.1.1" xref="S3.SS1.p3.6.m6.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.6.m6.1b"><ci id="S3.SS1.p3.6.m6.1.1.cmml" xref="S3.SS1.p3.6.m6.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.6.m6.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.6.m6.1d">italic_x</annotation></semantics></math>, <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.SS1.p3.7.m7.1"><semantics id="S3.SS1.p3.7.m7.1a"><msub id="S3.SS1.p3.7.m7.1.1" xref="S3.SS1.p3.7.m7.1.1.cmml"><mi id="S3.SS1.p3.7.m7.1.1.2" xref="S3.SS1.p3.7.m7.1.1.2.cmml">y</mi><mi id="S3.SS1.p3.7.m7.1.1.3" xref="S3.SS1.p3.7.m7.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.7.m7.1b"><apply id="S3.SS1.p3.7.m7.1.1.cmml" xref="S3.SS1.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.7.m7.1.1.1.cmml" xref="S3.SS1.p3.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p3.7.m7.1.1.2.cmml" xref="S3.SS1.p3.7.m7.1.1.2">𝑦</ci><ci id="S3.SS1.p3.7.m7.1.1.3.cmml" xref="S3.SS1.p3.7.m7.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.7.m7.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.7.m7.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math>, and <math alttext="y_{l}" class="ltx_Math" display="inline" id="S3.SS1.p3.8.m8.1"><semantics id="S3.SS1.p3.8.m8.1a"><msub id="S3.SS1.p3.8.m8.1.1" xref="S3.SS1.p3.8.m8.1.1.cmml"><mi id="S3.SS1.p3.8.m8.1.1.2" xref="S3.SS1.p3.8.m8.1.1.2.cmml">y</mi><mi id="S3.SS1.p3.8.m8.1.1.3" xref="S3.SS1.p3.8.m8.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.8.m8.1b"><apply id="S3.SS1.p3.8.m8.1.1.cmml" xref="S3.SS1.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.8.m8.1.1.1.cmml" xref="S3.SS1.p3.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p3.8.m8.1.1.2.cmml" xref="S3.SS1.p3.8.m8.1.1.2">𝑦</ci><ci id="S3.SS1.p3.8.m8.1.1.3.cmml" xref="S3.SS1.p3.8.m8.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.8.m8.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.8.m8.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> denoting the input prompt, chosen response, and rejected response, respectively, preference can be formulated by Bradley-Terry model <cite class="ltx_cite ltx_citemacro_citep">(Bradley and Terry, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib9" title="">1952</a>)</cite> as:</p>
<table class="ltx_equationgroup ltx_eqn_table" id="S3.E3">
<tbody>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E3X">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="2"><span class="ltx_tag ltx_tag_equationgroup ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\hat{p}(y_{w}\succ y_{l}\mid x)" class="ltx_Math" display="inline" id="S3.E3X.2.1.1.m1.1"><semantics id="S3.E3X.2.1.1.m1.1a"><mrow id="S3.E3X.2.1.1.m1.1.1" xref="S3.E3X.2.1.1.m1.1.1.cmml"><mover accent="true" id="S3.E3X.2.1.1.m1.1.1.3" xref="S3.E3X.2.1.1.m1.1.1.3.cmml"><mi id="S3.E3X.2.1.1.m1.1.1.3.2" xref="S3.E3X.2.1.1.m1.1.1.3.2.cmml">p</mi><mo id="S3.E3X.2.1.1.m1.1.1.3.1" xref="S3.E3X.2.1.1.m1.1.1.3.1.cmml">^</mo></mover><mo id="S3.E3X.2.1.1.m1.1.1.2" xref="S3.E3X.2.1.1.m1.1.1.2.cmml">⁢</mo><mrow id="S3.E3X.2.1.1.m1.1.1.1.1" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.cmml"><mo id="S3.E3X.2.1.1.m1.1.1.1.1.2" stretchy="false" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3X.2.1.1.m1.1.1.1.1.1" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.cmml"><msub id="S3.E3X.2.1.1.m1.1.1.1.1.1.2" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.2.cmml"><mi id="S3.E3X.2.1.1.m1.1.1.1.1.1.2.2" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.E3X.2.1.1.m1.1.1.1.1.1.2.3" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.E3X.2.1.1.m1.1.1.1.1.1.1" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.E3X.2.1.1.m1.1.1.1.1.1.3" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.cmml"><msub id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.cmml"><mi id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.2" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.3" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.1" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.3" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.E3X.2.1.1.m1.1.1.1.1.3" stretchy="false" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3X.2.1.1.m1.1b"><apply id="S3.E3X.2.1.1.m1.1.1.cmml" xref="S3.E3X.2.1.1.m1.1.1"><times id="S3.E3X.2.1.1.m1.1.1.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.2"></times><apply id="S3.E3X.2.1.1.m1.1.1.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.3"><ci id="S3.E3X.2.1.1.m1.1.1.3.1.cmml" xref="S3.E3X.2.1.1.m1.1.1.3.1">^</ci><ci id="S3.E3X.2.1.1.m1.1.1.3.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.3.2">𝑝</ci></apply><apply id="S3.E3X.2.1.1.m1.1.1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.E3X.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.E3X.2.1.1.m1.1.1.1.1.1.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.1.1.1.1.1.2.1.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E3X.2.1.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.E3X.2.1.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.E3X.2.1.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.E3X.2.1.1.m1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3X.2.1.1.m1.1c">\displaystyle\hat{p}(y_{w}\succ y_{l}\mid x)</annotation><annotation encoding="application/x-llamapun" id="S3.E3X.2.1.1.m1.1d">over^ start_ARG italic_p end_ARG ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sigma(r(x,y_{w})-r(x,y_{l}))" class="ltx_Math" display="inline" id="S3.E3X.3.2.2.m1.3"><semantics id="S3.E3X.3.2.2.m1.3a"><mrow id="S3.E3X.3.2.2.m1.3.3" xref="S3.E3X.3.2.2.m1.3.3.cmml"><mi id="S3.E3X.3.2.2.m1.3.3.3" xref="S3.E3X.3.2.2.m1.3.3.3.cmml"></mi><mo id="S3.E3X.3.2.2.m1.3.3.2" xref="S3.E3X.3.2.2.m1.3.3.2.cmml">=</mo><mrow id="S3.E3X.3.2.2.m1.3.3.1" xref="S3.E3X.3.2.2.m1.3.3.1.cmml"><mi id="S3.E3X.3.2.2.m1.3.3.1.3" xref="S3.E3X.3.2.2.m1.3.3.1.3.cmml">σ</mi><mo id="S3.E3X.3.2.2.m1.3.3.1.2" xref="S3.E3X.3.2.2.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E3X.3.2.2.m1.3.3.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml"><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E3X.3.2.2.m1.3.3.1.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml"><mrow id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.cmml"><mi id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.3" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.3.cmml">r</mi><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.2" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml"><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml">(</mo><mi id="S3.E3X.3.2.2.m1.1.1" xref="S3.E3X.3.2.2.m1.1.1.cmml">x</mi><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.3" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml">,</mo><msub id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml">y</mi><mi id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">w</mi></msub><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.4" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.3" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.3.cmml">−</mo><mrow id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.cmml"><mi id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.3" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.3.cmml">r</mi><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.2" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.2.cmml"><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.2" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.2.cmml">(</mo><mi id="S3.E3X.3.2.2.m1.2.2" xref="S3.E3X.3.2.2.m1.2.2.cmml">x</mi><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.3" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.2.cmml">,</mo><msub id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.cmml"><mi id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.2" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.2.cmml">y</mi><mi id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.3" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.3.cmml">l</mi></msub><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.4" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E3X.3.2.2.m1.3.3.1.1.1.3" stretchy="false" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3X.3.2.2.m1.3b"><apply id="S3.E3X.3.2.2.m1.3.3.cmml" xref="S3.E3X.3.2.2.m1.3.3"><eq id="S3.E3X.3.2.2.m1.3.3.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.2"></eq><csymbol cd="latexml" id="S3.E3X.3.2.2.m1.3.3.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.3">absent</csymbol><apply id="S3.E3X.3.2.2.m1.3.3.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1"><times id="S3.E3X.3.2.2.m1.3.3.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.2"></times><ci id="S3.E3X.3.2.2.m1.3.3.1.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.3">𝜎</ci><apply id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1"><minus id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.3"></minus><apply id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1"><times id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.2"></times><ci id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.3">𝑟</ci><interval closure="open" id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1"><ci id="S3.E3X.3.2.2.m1.1.1.cmml" xref="S3.E3X.3.2.2.m1.1.1">𝑥</ci><apply id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.2">𝑦</ci><ci id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.1.1.1.1.3">𝑤</ci></apply></interval></apply><apply id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2"><times id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.2"></times><ci id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.3">𝑟</ci><interval closure="open" id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1"><ci id="S3.E3X.3.2.2.m1.2.2.cmml" xref="S3.E3X.3.2.2.m1.2.2">𝑥</ci><apply id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1">subscript</csymbol><ci id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.2.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.2">𝑦</ci><ci id="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.3.cmml" xref="S3.E3X.3.2.2.m1.3.3.1.1.1.1.2.1.1.1.3">𝑙</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3X.3.2.2.m1.3c">\displaystyle=\sigma(r(x,y_{w})-r(x,y_{l}))</annotation><annotation encoding="application/x-llamapun" id="S3.E3X.3.2.2.m1.3d">= italic_σ ( italic_r ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ) - italic_r ( italic_x , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
<tr class="ltx_equation ltx_eqn_row ltx_align_baseline" id="S3.E3Xa">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\sigma\left(\beta\log\frac{\pi_{\theta}(y_{w}\mid x)}{\pi_{\text%
{ref}}(y_{w}\mid x)}-\beta\log\frac{\pi_{\theta}(y_{l}\mid x)}{\pi_{\text{ref}%
}(y_{l}\mid x)}\right)," class="ltx_Math" display="inline" id="S3.E3Xa.2.1.1.m1.5"><semantics id="S3.E3Xa.2.1.1.m1.5a"><mrow id="S3.E3Xa.2.1.1.m1.5.5.1" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.cmml"><mrow id="S3.E3Xa.2.1.1.m1.5.5.1.1" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.cmml"><mi id="S3.E3Xa.2.1.1.m1.5.5.1.1.3" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.3.cmml"></mi><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.2" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.2.cmml">=</mo><mrow id="S3.E3Xa.2.1.1.m1.5.5.1.1.1" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.cmml"><mi id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.3" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.3.cmml">σ</mi><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.2" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.cmml"><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.2" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.cmml"><mrow id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml"><mi id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.2" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.2.cmml">β</mi><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.1" lspace="0.167em" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3.1" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3.1.cmml">log</mi><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3a" lspace="0.167em" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3.cmml">⁡</mo><mstyle displaystyle="true" id="S3.E3Xa.2.1.1.m1.2.2" xref="S3.E3Xa.2.1.1.m1.2.2.cmml"><mfrac id="S3.E3Xa.2.1.1.m1.2.2a" xref="S3.E3Xa.2.1.1.m1.2.2.cmml"><mrow id="S3.E3Xa.2.1.1.m1.1.1.1" xref="S3.E3Xa.2.1.1.m1.1.1.1.cmml"><msub id="S3.E3Xa.2.1.1.m1.1.1.1.3" xref="S3.E3Xa.2.1.1.m1.1.1.1.3.cmml"><mi id="S3.E3Xa.2.1.1.m1.1.1.1.3.2" xref="S3.E3Xa.2.1.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S3.E3Xa.2.1.1.m1.1.1.1.3.3" xref="S3.E3Xa.2.1.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S3.E3Xa.2.1.1.m1.1.1.1.2" xref="S3.E3Xa.2.1.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E3Xa.2.1.1.m1.1.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.cmml"><mo id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.2" stretchy="false" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.cmml"><msub id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.2" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.3" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.1.cmml">∣</mo><mi id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.3" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.3" stretchy="false" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E3Xa.2.1.1.m1.2.2.2" xref="S3.E3Xa.2.1.1.m1.2.2.2.cmml"><msub id="S3.E3Xa.2.1.1.m1.2.2.2.3" xref="S3.E3Xa.2.1.1.m1.2.2.2.3.cmml"><mi id="S3.E3Xa.2.1.1.m1.2.2.2.3.2" xref="S3.E3Xa.2.1.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S3.E3Xa.2.1.1.m1.2.2.2.3.3" xref="S3.E3Xa.2.1.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S3.E3Xa.2.1.1.m1.2.2.2.2" xref="S3.E3Xa.2.1.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S3.E3Xa.2.1.1.m1.2.2.2.1.1" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.cmml"><mo id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.2" stretchy="false" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.cmml"><msub id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.2" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.3" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.1.cmml">∣</mo><mi id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.3" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.3" stretchy="false" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.cmml"><mi id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.2" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.2.cmml">β</mi><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.1" lspace="0.167em" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3.1" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3.1.cmml">log</mi><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3a" lspace="0.167em" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3.cmml">⁡</mo><mstyle displaystyle="true" id="S3.E3Xa.2.1.1.m1.4.4" xref="S3.E3Xa.2.1.1.m1.4.4.cmml"><mfrac id="S3.E3Xa.2.1.1.m1.4.4a" xref="S3.E3Xa.2.1.1.m1.4.4.cmml"><mrow id="S3.E3Xa.2.1.1.m1.3.3.1" xref="S3.E3Xa.2.1.1.m1.3.3.1.cmml"><msub id="S3.E3Xa.2.1.1.m1.3.3.1.3" xref="S3.E3Xa.2.1.1.m1.3.3.1.3.cmml"><mi id="S3.E3Xa.2.1.1.m1.3.3.1.3.2" xref="S3.E3Xa.2.1.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S3.E3Xa.2.1.1.m1.3.3.1.3.3" xref="S3.E3Xa.2.1.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S3.E3Xa.2.1.1.m1.3.3.1.2" xref="S3.E3Xa.2.1.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E3Xa.2.1.1.m1.3.3.1.1.1" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.cmml"><mo id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.cmml"><msub id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.2" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.3" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.3.cmml">l</mi></msub><mo id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.1.cmml">∣</mo><mi id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.3" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.3" stretchy="false" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E3Xa.2.1.1.m1.4.4.2" xref="S3.E3Xa.2.1.1.m1.4.4.2.cmml"><msub id="S3.E3Xa.2.1.1.m1.4.4.2.3" xref="S3.E3Xa.2.1.1.m1.4.4.2.3.cmml"><mi id="S3.E3Xa.2.1.1.m1.4.4.2.3.2" xref="S3.E3Xa.2.1.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S3.E3Xa.2.1.1.m1.4.4.2.3.3" xref="S3.E3Xa.2.1.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S3.E3Xa.2.1.1.m1.4.4.2.2" xref="S3.E3Xa.2.1.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S3.E3Xa.2.1.1.m1.4.4.2.1.1" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.cmml"><mo id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.2" stretchy="false" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.cmml"><msub id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.2" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.3" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.3.cmml">l</mi></msub><mo id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.1" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.1.cmml">∣</mo><mi id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.3" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.3" stretchy="false" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mstyle></mrow></mrow></mrow><mo id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.3" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E3Xa.2.1.1.m1.5.5.1.2" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3Xa.2.1.1.m1.5b"><apply id="S3.E3Xa.2.1.1.m1.5.5.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1"><eq id="S3.E3Xa.2.1.1.m1.5.5.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.2"></eq><csymbol cd="latexml" id="S3.E3Xa.2.1.1.m1.5.5.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.3">absent</csymbol><apply id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1"><times id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.2"></times><ci id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.3">𝜎</ci><apply id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1"><minus id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.1"></minus><apply id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2"><times id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.1.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.1"></times><ci id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.2">𝛽</ci><apply id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3"><log id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.2.3.1"></log><apply id="S3.E3Xa.2.1.1.m1.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.2.2"><divide id="S3.E3Xa.2.1.1.m1.2.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.2.2"></divide><apply id="S3.E3Xa.2.1.1.m1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1"><times id="S3.E3Xa.2.1.1.m1.1.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.2"></times><apply id="S3.E3Xa.2.1.1.m1.1.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.1.1.1.3.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.3">subscript</csymbol><ci id="S3.E3Xa.2.1.1.m1.1.1.1.3.2.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.3.2">𝜋</ci><ci id="S3.E3Xa.2.1.1.m1.1.1.1.3.3.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S3.E3Xa.2.1.1.m1.2.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2"><times id="S3.E3Xa.2.1.1.m1.2.2.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.2"></times><apply id="S3.E3Xa.2.1.1.m1.2.2.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.2.2.2.3.1.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.3">subscript</csymbol><ci id="S3.E3Xa.2.1.1.m1.2.2.2.3.2.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.3.2">𝜋</ci><ci id="S3.E3Xa.2.1.1.m1.2.2.2.3.3a.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.3.3"><mtext id="S3.E3Xa.2.1.1.m1.2.2.2.3.3.cmml" mathsize="70%" xref="S3.E3Xa.2.1.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3"><times id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.1.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.1"></times><ci id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.2.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.2">𝛽</ci><apply id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3"><log id="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E3Xa.2.1.1.m1.5.5.1.1.1.1.1.1.3.3.1"></log><apply id="S3.E3Xa.2.1.1.m1.4.4.cmml" xref="S3.E3Xa.2.1.1.m1.4.4"><divide id="S3.E3Xa.2.1.1.m1.4.4.3.cmml" xref="S3.E3Xa.2.1.1.m1.4.4"></divide><apply id="S3.E3Xa.2.1.1.m1.3.3.1.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1"><times id="S3.E3Xa.2.1.1.m1.3.3.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.2"></times><apply id="S3.E3Xa.2.1.1.m1.3.3.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.3.3.1.3.1.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.3">subscript</csymbol><ci id="S3.E3Xa.2.1.1.m1.3.3.1.3.2.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.3.2">𝜋</ci><ci id="S3.E3Xa.2.1.1.m1.3.3.1.3.3.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.2.3">𝑙</ci></apply><ci id="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S3.E3Xa.2.1.1.m1.4.4.2.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2"><times id="S3.E3Xa.2.1.1.m1.4.4.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.2"></times><apply id="S3.E3Xa.2.1.1.m1.4.4.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.4.4.2.3.1.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.3">subscript</csymbol><ci id="S3.E3Xa.2.1.1.m1.4.4.2.3.2.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.3.2">𝜋</ci><ci id="S3.E3Xa.2.1.1.m1.4.4.2.3.3a.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.3.3"><mtext id="S3.E3Xa.2.1.1.m1.4.4.2.3.3.cmml" mathsize="70%" xref="S3.E3Xa.2.1.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.1.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.2.3">𝑙</ci></apply><ci id="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.3.cmml" xref="S3.E3Xa.2.1.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3Xa.2.1.1.m1.5c">\displaystyle=\sigma\left(\beta\log\frac{\pi_{\theta}(y_{w}\mid x)}{\pi_{\text%
{ref}}(y_{w}\mid x)}-\beta\log\frac{\pi_{\theta}(y_{l}\mid x)}{\pi_{\text{ref}%
}(y_{l}\mid x)}\right),</annotation><annotation encoding="application/x-llamapun" id="S3.E3Xa.2.1.1.m1.5d">= italic_σ ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ∣ italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ∣ italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) end_ARG ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr>
</tbody>
</table>
<p class="ltx_p" id="S3.SS1.p3.9">where <math alttext="\sigma" class="ltx_Math" display="inline" id="S3.SS1.p3.9.m1.1"><semantics id="S3.SS1.p3.9.m1.1a"><mi id="S3.SS1.p3.9.m1.1.1" xref="S3.SS1.p3.9.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.9.m1.1b"><ci id="S3.SS1.p3.9.m1.1.1.cmml" xref="S3.SS1.p3.9.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.9.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p3.9.m1.1d">italic_σ</annotation></semantics></math> refers to the sigmoid function.
Then, DPO optimizes the preference model as :</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\max_{\theta}\mathbb{E}_{(x,y_{w},y_{l})\thicksim\mathcal{D}_{\text{PL}}}\log%
\hat{p}(y_{w}\succ y_{l}\mid x)." class="ltx_Math" display="block" id="S3.E4.m1.4"><semantics id="S3.E4.m1.4a"><mrow id="S3.E4.m1.4.4.1" xref="S3.E4.m1.4.4.1.1.cmml"><mrow id="S3.E4.m1.4.4.1.1" xref="S3.E4.m1.4.4.1.1.cmml"><mrow id="S3.E4.m1.4.4.1.1.3" xref="S3.E4.m1.4.4.1.1.3.cmml"><munder id="S3.E4.m1.4.4.1.1.3.1" xref="S3.E4.m1.4.4.1.1.3.1.cmml"><mi id="S3.E4.m1.4.4.1.1.3.1.2" xref="S3.E4.m1.4.4.1.1.3.1.2.cmml">max</mi><mi id="S3.E4.m1.4.4.1.1.3.1.3" xref="S3.E4.m1.4.4.1.1.3.1.3.cmml">θ</mi></munder><mo id="S3.E4.m1.4.4.1.1.3a" lspace="0.167em" xref="S3.E4.m1.4.4.1.1.3.cmml">⁡</mo><mrow id="S3.E4.m1.4.4.1.1.3.2" xref="S3.E4.m1.4.4.1.1.3.2.cmml"><msub id="S3.E4.m1.4.4.1.1.3.2.2" xref="S3.E4.m1.4.4.1.1.3.2.2.cmml"><mi id="S3.E4.m1.4.4.1.1.3.2.2.2" xref="S3.E4.m1.4.4.1.1.3.2.2.2.cmml">𝔼</mi><mrow id="S3.E4.m1.3.3.3" xref="S3.E4.m1.3.3.3.cmml"><mrow id="S3.E4.m1.3.3.3.3.2" xref="S3.E4.m1.3.3.3.3.3.cmml"><mo id="S3.E4.m1.3.3.3.3.2.3" stretchy="false" xref="S3.E4.m1.3.3.3.3.3.cmml">(</mo><mi id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">x</mi><mo id="S3.E4.m1.3.3.3.3.2.4" xref="S3.E4.m1.3.3.3.3.3.cmml">,</mo><msub id="S3.E4.m1.2.2.2.2.1.1" xref="S3.E4.m1.2.2.2.2.1.1.cmml"><mi id="S3.E4.m1.2.2.2.2.1.1.2" xref="S3.E4.m1.2.2.2.2.1.1.2.cmml">y</mi><mi id="S3.E4.m1.2.2.2.2.1.1.3" xref="S3.E4.m1.2.2.2.2.1.1.3.cmml">w</mi></msub><mo id="S3.E4.m1.3.3.3.3.2.5" xref="S3.E4.m1.3.3.3.3.3.cmml">,</mo><msub id="S3.E4.m1.3.3.3.3.2.2" xref="S3.E4.m1.3.3.3.3.2.2.cmml"><mi id="S3.E4.m1.3.3.3.3.2.2.2" xref="S3.E4.m1.3.3.3.3.2.2.2.cmml">y</mi><mi id="S3.E4.m1.3.3.3.3.2.2.3" xref="S3.E4.m1.3.3.3.3.2.2.3.cmml">l</mi></msub><mo id="S3.E4.m1.3.3.3.3.2.6" stretchy="false" xref="S3.E4.m1.3.3.3.3.3.cmml">)</mo></mrow><mo id="S3.E4.m1.3.3.3.4" xref="S3.E4.m1.3.3.3.4.cmml">∼</mo><msub id="S3.E4.m1.3.3.3.5" xref="S3.E4.m1.3.3.3.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.3.3.3.5.2" xref="S3.E4.m1.3.3.3.5.2.cmml">𝒟</mi><mtext id="S3.E4.m1.3.3.3.5.3" xref="S3.E4.m1.3.3.3.5.3a.cmml">PL</mtext></msub></mrow></msub><mo id="S3.E4.m1.4.4.1.1.3.2.1" lspace="0.167em" xref="S3.E4.m1.4.4.1.1.3.2.1.cmml">⁢</mo><mrow id="S3.E4.m1.4.4.1.1.3.2.3" xref="S3.E4.m1.4.4.1.1.3.2.3.cmml"><mi id="S3.E4.m1.4.4.1.1.3.2.3.1" xref="S3.E4.m1.4.4.1.1.3.2.3.1.cmml">log</mi><mo id="S3.E4.m1.4.4.1.1.3.2.3a" lspace="0.167em" xref="S3.E4.m1.4.4.1.1.3.2.3.cmml">⁡</mo><mover accent="true" id="S3.E4.m1.4.4.1.1.3.2.3.2" xref="S3.E4.m1.4.4.1.1.3.2.3.2.cmml"><mi id="S3.E4.m1.4.4.1.1.3.2.3.2.2" xref="S3.E4.m1.4.4.1.1.3.2.3.2.2.cmml">p</mi><mo id="S3.E4.m1.4.4.1.1.3.2.3.2.1" xref="S3.E4.m1.4.4.1.1.3.2.3.2.1.cmml">^</mo></mover></mrow></mrow></mrow><mo id="S3.E4.m1.4.4.1.1.2" xref="S3.E4.m1.4.4.1.1.2.cmml">⁢</mo><mrow id="S3.E4.m1.4.4.1.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.1.cmml"><mo id="S3.E4.m1.4.4.1.1.1.1.2" stretchy="false" xref="S3.E4.m1.4.4.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.4.4.1.1.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.1.cmml"><msub id="S3.E4.m1.4.4.1.1.1.1.1.2" xref="S3.E4.m1.4.4.1.1.1.1.1.2.cmml"><mi id="S3.E4.m1.4.4.1.1.1.1.1.2.2" xref="S3.E4.m1.4.4.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.E4.m1.4.4.1.1.1.1.1.2.3" xref="S3.E4.m1.4.4.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.E4.m1.4.4.1.1.1.1.1.1" xref="S3.E4.m1.4.4.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.E4.m1.4.4.1.1.1.1.1.3" xref="S3.E4.m1.4.4.1.1.1.1.1.3.cmml"><msub id="S3.E4.m1.4.4.1.1.1.1.1.3.2" xref="S3.E4.m1.4.4.1.1.1.1.1.3.2.cmml"><mi id="S3.E4.m1.4.4.1.1.1.1.1.3.2.2" xref="S3.E4.m1.4.4.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.E4.m1.4.4.1.1.1.1.1.3.2.3" xref="S3.E4.m1.4.4.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.E4.m1.4.4.1.1.1.1.1.3.1" xref="S3.E4.m1.4.4.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.E4.m1.4.4.1.1.1.1.1.3.3" xref="S3.E4.m1.4.4.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.E4.m1.4.4.1.1.1.1.3" stretchy="false" xref="S3.E4.m1.4.4.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.4.4.1.2" lspace="0em" xref="S3.E4.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.4b"><apply id="S3.E4.m1.4.4.1.1.cmml" xref="S3.E4.m1.4.4.1"><times id="S3.E4.m1.4.4.1.1.2.cmml" xref="S3.E4.m1.4.4.1.1.2"></times><apply id="S3.E4.m1.4.4.1.1.3.cmml" xref="S3.E4.m1.4.4.1.1.3"><apply id="S3.E4.m1.4.4.1.1.3.1.cmml" xref="S3.E4.m1.4.4.1.1.3.1"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.3.1.1.cmml" xref="S3.E4.m1.4.4.1.1.3.1">subscript</csymbol><max id="S3.E4.m1.4.4.1.1.3.1.2.cmml" xref="S3.E4.m1.4.4.1.1.3.1.2"></max><ci id="S3.E4.m1.4.4.1.1.3.1.3.cmml" xref="S3.E4.m1.4.4.1.1.3.1.3">𝜃</ci></apply><apply id="S3.E4.m1.4.4.1.1.3.2.cmml" xref="S3.E4.m1.4.4.1.1.3.2"><times id="S3.E4.m1.4.4.1.1.3.2.1.cmml" xref="S3.E4.m1.4.4.1.1.3.2.1"></times><apply id="S3.E4.m1.4.4.1.1.3.2.2.cmml" xref="S3.E4.m1.4.4.1.1.3.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.3.2.2.1.cmml" xref="S3.E4.m1.4.4.1.1.3.2.2">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.3.2.2.2.cmml" xref="S3.E4.m1.4.4.1.1.3.2.2.2">𝔼</ci><apply id="S3.E4.m1.3.3.3.cmml" xref="S3.E4.m1.3.3.3"><ci id="S3.E4.m1.3.3.3.4.cmml" xref="S3.E4.m1.3.3.3.4">∼</ci><vector id="S3.E4.m1.3.3.3.3.3.cmml" xref="S3.E4.m1.3.3.3.3.2"><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑥</ci><apply id="S3.E4.m1.2.2.2.2.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.2.2.1.1.1.cmml" xref="S3.E4.m1.2.2.2.2.1.1">subscript</csymbol><ci id="S3.E4.m1.2.2.2.2.1.1.2.cmml" xref="S3.E4.m1.2.2.2.2.1.1.2">𝑦</ci><ci id="S3.E4.m1.2.2.2.2.1.1.3.cmml" xref="S3.E4.m1.2.2.2.2.1.1.3">𝑤</ci></apply><apply id="S3.E4.m1.3.3.3.3.2.2.cmml" xref="S3.E4.m1.3.3.3.3.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.3.2.2.1.cmml" xref="S3.E4.m1.3.3.3.3.2.2">subscript</csymbol><ci id="S3.E4.m1.3.3.3.3.2.2.2.cmml" xref="S3.E4.m1.3.3.3.3.2.2.2">𝑦</ci><ci id="S3.E4.m1.3.3.3.3.2.2.3.cmml" xref="S3.E4.m1.3.3.3.3.2.2.3">𝑙</ci></apply></vector><apply id="S3.E4.m1.3.3.3.5.cmml" xref="S3.E4.m1.3.3.3.5"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.3.5.1.cmml" xref="S3.E4.m1.3.3.3.5">subscript</csymbol><ci id="S3.E4.m1.3.3.3.5.2.cmml" xref="S3.E4.m1.3.3.3.5.2">𝒟</ci><ci id="S3.E4.m1.3.3.3.5.3a.cmml" xref="S3.E4.m1.3.3.3.5.3"><mtext id="S3.E4.m1.3.3.3.5.3.cmml" mathsize="50%" xref="S3.E4.m1.3.3.3.5.3">PL</mtext></ci></apply></apply></apply><apply id="S3.E4.m1.4.4.1.1.3.2.3.cmml" xref="S3.E4.m1.4.4.1.1.3.2.3"><log id="S3.E4.m1.4.4.1.1.3.2.3.1.cmml" xref="S3.E4.m1.4.4.1.1.3.2.3.1"></log><apply id="S3.E4.m1.4.4.1.1.3.2.3.2.cmml" xref="S3.E4.m1.4.4.1.1.3.2.3.2"><ci id="S3.E4.m1.4.4.1.1.3.2.3.2.1.cmml" xref="S3.E4.m1.4.4.1.1.3.2.3.2.1">^</ci><ci id="S3.E4.m1.4.4.1.1.3.2.3.2.2.cmml" xref="S3.E4.m1.4.4.1.1.3.2.3.2.2">𝑝</ci></apply></apply></apply></apply><apply id="S3.E4.m1.4.4.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1"><csymbol cd="latexml" id="S3.E4.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.E4.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.E4.m1.4.4.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.E4.m1.4.4.1.1.1.1.1.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.E4.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.E4.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.1.1.1.1.1.3.2.1.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E4.m1.4.4.1.1.1.1.1.3.2.2.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.E4.m1.4.4.1.1.1.1.1.3.2.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.E4.m1.4.4.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.4.4.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.4c">\max_{\theta}\mathbb{E}_{(x,y_{w},y_{l})\thicksim\mathcal{D}_{\text{PL}}}\log%
\hat{p}(y_{w}\succ y_{l}\mid x).</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.4d">roman_max start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT blackboard_E start_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ∼ caligraphic_D start_POSTSUBSCRIPT PL end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_log over^ start_ARG italic_p end_ARG ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.p4">
<p class="ltx_p" id="S3.SS1.p4.3">When applying DPO to the SFT model in the recommendation domain, we face two key challenges:
(1) How to identify preference pairs, <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.SS1.p4.1.m1.1"><semantics id="S3.SS1.p4.1.m1.1a"><msub id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml"><mi id="S3.SS1.p4.1.m1.1.1.2" xref="S3.SS1.p4.1.m1.1.1.2.cmml">y</mi><mi id="S3.SS1.p4.1.m1.1.1.3" xref="S3.SS1.p4.1.m1.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><apply id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.1.m1.1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p4.1.m1.1.1.2.cmml" xref="S3.SS1.p4.1.m1.1.1.2">𝑦</ci><ci id="S3.SS1.p4.1.m1.1.1.3.cmml" xref="S3.SS1.p4.1.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="y_{l}" class="ltx_Math" display="inline" id="S3.SS1.p4.2.m2.1"><semantics id="S3.SS1.p4.2.m2.1a"><msub id="S3.SS1.p4.2.m2.1.1" xref="S3.SS1.p4.2.m2.1.1.cmml"><mi id="S3.SS1.p4.2.m2.1.1.2" xref="S3.SS1.p4.2.m2.1.1.2.cmml">y</mi><mi id="S3.SS1.p4.2.m2.1.1.3" xref="S3.SS1.p4.2.m2.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.2.m2.1b"><apply id="S3.SS1.p4.2.m2.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p4.2.m2.1.1.1.cmml" xref="S3.SS1.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p4.2.m2.1.1.2.cmml" xref="S3.SS1.p4.2.m2.1.1.2">𝑦</ci><ci id="S3.SS1.p4.2.m2.1.1.3.cmml" xref="S3.SS1.p4.2.m2.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.2.m2.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.2.m2.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>, that can accurately reflect users’ personalized preferences, while ensuring both helpfulness and harmlessness?
(2) How to tackle the various levels of uncertainty in preference labels (<em class="ltx_emph ltx_font_italic" id="S3.SS1.p4.3.1">i.e., </em><math alttext="y_{w}\succ y_{l}\mid x" class="ltx_Math" display="inline" id="S3.SS1.p4.3.m3.1"><semantics id="S3.SS1.p4.3.m3.1a"><mrow id="S3.SS1.p4.3.m3.1.1" xref="S3.SS1.p4.3.m3.1.1.cmml"><msub id="S3.SS1.p4.3.m3.1.1.2" xref="S3.SS1.p4.3.m3.1.1.2.cmml"><mi id="S3.SS1.p4.3.m3.1.1.2.2" xref="S3.SS1.p4.3.m3.1.1.2.2.cmml">y</mi><mi id="S3.SS1.p4.3.m3.1.1.2.3" xref="S3.SS1.p4.3.m3.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS1.p4.3.m3.1.1.1" xref="S3.SS1.p4.3.m3.1.1.1.cmml">≻</mo><mrow id="S3.SS1.p4.3.m3.1.1.3" xref="S3.SS1.p4.3.m3.1.1.3.cmml"><msub id="S3.SS1.p4.3.m3.1.1.3.2" xref="S3.SS1.p4.3.m3.1.1.3.2.cmml"><mi id="S3.SS1.p4.3.m3.1.1.3.2.2" xref="S3.SS1.p4.3.m3.1.1.3.2.2.cmml">y</mi><mi id="S3.SS1.p4.3.m3.1.1.3.2.3" xref="S3.SS1.p4.3.m3.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS1.p4.3.m3.1.1.3.1" xref="S3.SS1.p4.3.m3.1.1.3.1.cmml">∣</mo><mi id="S3.SS1.p4.3.m3.1.1.3.3" xref="S3.SS1.p4.3.m3.1.1.3.3.cmml">x</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.3.m3.1b"><apply id="S3.SS1.p4.3.m3.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1"><csymbol cd="latexml" id="S3.SS1.p4.3.m3.1.1.1.cmml" xref="S3.SS1.p4.3.m3.1.1.1">succeeds</csymbol><apply id="S3.SS1.p4.3.m3.1.1.2.cmml" xref="S3.SS1.p4.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.1.1.2.1.cmml" xref="S3.SS1.p4.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS1.p4.3.m3.1.1.2.2.cmml" xref="S3.SS1.p4.3.m3.1.1.2.2">𝑦</ci><ci id="S3.SS1.p4.3.m3.1.1.2.3.cmml" xref="S3.SS1.p4.3.m3.1.1.2.3">𝑤</ci></apply><apply id="S3.SS1.p4.3.m3.1.1.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3"><csymbol cd="latexml" id="S3.SS1.p4.3.m3.1.1.3.1.cmml" xref="S3.SS1.p4.3.m3.1.1.3.1">conditional</csymbol><apply id="S3.SS1.p4.3.m3.1.1.3.2.cmml" xref="S3.SS1.p4.3.m3.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS1.p4.3.m3.1.1.3.2.1.cmml" xref="S3.SS1.p4.3.m3.1.1.3.2">subscript</csymbol><ci id="S3.SS1.p4.3.m3.1.1.3.2.2.cmml" xref="S3.SS1.p4.3.m3.1.1.3.2.2">𝑦</ci><ci id="S3.SS1.p4.3.m3.1.1.3.2.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS1.p4.3.m3.1.1.3.3.cmml" xref="S3.SS1.p4.3.m3.1.1.3.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.3.m3.1c">y_{w}\succ y_{l}\mid x</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p4.3.m3.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x</annotation></semantics></math>) and optimize the DPO loss accordingly?
We will address these two challenges in Sections <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3.SS2" title="3.2. Construction of Preference Pairs ‣ 3. Method: RosePO ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3.2</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3.SS3" title="3.3. Personalized Preference Optimization ‣ 3. Method: RosePO ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3.3</span></a>, respectively.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Construction of Preference Pairs</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">Regarding the first challenge, we focus on three types of preference pairs (illustrated on the left side of Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1.F3" title="Figure 3 ‣ 1. Introduction ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a>): one for helpfulness and two for harmlessness.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p2.1.1">Data format</span>.
Preference learning for LLM-based recommenders requires transforming user-item interaction data into a preference format.
Formally, we need to elaborate the following three key elements in the preference data <math alttext="\mathcal{D}_{\text{PL}}=\left\{(x,y_{w},y_{l})\right\}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.2"><semantics id="S3.SS2.p2.1.m1.2a"><mrow id="S3.SS2.p2.1.m1.2.2" xref="S3.SS2.p2.1.m1.2.2.cmml"><msub id="S3.SS2.p2.1.m1.2.2.3" xref="S3.SS2.p2.1.m1.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.1.m1.2.2.3.2" xref="S3.SS2.p2.1.m1.2.2.3.2.cmml">𝒟</mi><mtext id="S3.SS2.p2.1.m1.2.2.3.3" xref="S3.SS2.p2.1.m1.2.2.3.3a.cmml">PL</mtext></msub><mo id="S3.SS2.p2.1.m1.2.2.2" xref="S3.SS2.p2.1.m1.2.2.2.cmml">=</mo><mrow id="S3.SS2.p2.1.m1.2.2.1.1" xref="S3.SS2.p2.1.m1.2.2.1.2.cmml"><mo id="S3.SS2.p2.1.m1.2.2.1.1.2" xref="S3.SS2.p2.1.m1.2.2.1.2.cmml">{</mo><mrow id="S3.SS2.p2.1.m1.2.2.1.1.1.2" xref="S3.SS2.p2.1.m1.2.2.1.1.1.3.cmml"><mo id="S3.SS2.p2.1.m1.2.2.1.1.1.2.3" stretchy="false" xref="S3.SS2.p2.1.m1.2.2.1.1.1.3.cmml">(</mo><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">x</mi><mo id="S3.SS2.p2.1.m1.2.2.1.1.1.2.4" xref="S3.SS2.p2.1.m1.2.2.1.1.1.3.cmml">,</mo><msub id="S3.SS2.p2.1.m1.2.2.1.1.1.1.1" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.2" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.2.cmml">y</mi><mi id="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.3" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.3.cmml">w</mi></msub><mo id="S3.SS2.p2.1.m1.2.2.1.1.1.2.5" xref="S3.SS2.p2.1.m1.2.2.1.1.1.3.cmml">,</mo><msub id="S3.SS2.p2.1.m1.2.2.1.1.1.2.2" xref="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.cmml"><mi id="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.2" xref="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.2.cmml">y</mi><mi id="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.3" xref="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.3.cmml">l</mi></msub><mo id="S3.SS2.p2.1.m1.2.2.1.1.1.2.6" stretchy="false" xref="S3.SS2.p2.1.m1.2.2.1.1.1.3.cmml">)</mo></mrow><mo id="S3.SS2.p2.1.m1.2.2.1.1.3" xref="S3.SS2.p2.1.m1.2.2.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.2b"><apply id="S3.SS2.p2.1.m1.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2"><eq id="S3.SS2.p2.1.m1.2.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2.2"></eq><apply id="S3.SS2.p2.1.m1.2.2.3.cmml" xref="S3.SS2.p2.1.m1.2.2.3"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.2.2.3.1.cmml" xref="S3.SS2.p2.1.m1.2.2.3">subscript</csymbol><ci id="S3.SS2.p2.1.m1.2.2.3.2.cmml" xref="S3.SS2.p2.1.m1.2.2.3.2">𝒟</ci><ci id="S3.SS2.p2.1.m1.2.2.3.3a.cmml" xref="S3.SS2.p2.1.m1.2.2.3.3"><mtext id="S3.SS2.p2.1.m1.2.2.3.3.cmml" mathsize="70%" xref="S3.SS2.p2.1.m1.2.2.3.3">PL</mtext></ci></apply><set id="S3.SS2.p2.1.m1.2.2.1.2.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1"><vector id="S3.SS2.p2.1.m1.2.2.1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.2"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑥</ci><apply id="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.2">𝑦</ci><ci id="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.1.1.3">𝑤</ci></apply><apply id="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.1.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.2.2">subscript</csymbol><ci id="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.2">𝑦</ci><ci id="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.3.cmml" xref="S3.SS2.p2.1.m1.2.2.1.1.1.2.2.3">𝑙</ci></apply></vector></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.2c">\mathcal{D}_{\text{PL}}=\left\{(x,y_{w},y_{l})\right\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.2d">caligraphic_D start_POSTSUBSCRIPT PL end_POSTSUBSCRIPT = { ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) }</annotation></semantics></math>:</p>
<ol class="ltx_enumerate" id="S3.I2">
<li class="ltx_item" id="S3.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S3.I2.i1.p1">
<p class="ltx_p" id="S3.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I2.i1.p1.1.1">Input prompt <math alttext="x" class="ltx_Math" display="inline" id="S3.I2.i1.p1.1.1.m1.1"><semantics id="S3.I2.i1.p1.1.1.m1.1a"><mi id="S3.I2.i1.p1.1.1.m1.1.1" xref="S3.I2.i1.p1.1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.I2.i1.p1.1.1.m1.1b"><ci id="S3.I2.i1.p1.1.1.m1.1.1.cmml" xref="S3.I2.i1.p1.1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i1.p1.1.1.m1.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i1.p1.1.1.m1.1d">italic_x</annotation></semantics></math>.</span> This includes a task description of sequential recommendation, a user’s interaction history with items, and candidate items.</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S3.I2.i2.p1">
<p class="ltx_p" id="S3.I2.i2.p1.2"><span class="ltx_text ltx_font_bold" id="S3.I2.i2.p1.1.1">Chosen response <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.I2.i2.p1.1.1.m1.1"><semantics id="S3.I2.i2.p1.1.1.m1.1a"><msub id="S3.I2.i2.p1.1.1.m1.1.1" xref="S3.I2.i2.p1.1.1.m1.1.1.cmml"><mi id="S3.I2.i2.p1.1.1.m1.1.1.2" xref="S3.I2.i2.p1.1.1.m1.1.1.2.cmml">y</mi><mi id="S3.I2.i2.p1.1.1.m1.1.1.3" xref="S3.I2.i2.p1.1.1.m1.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.1.1.m1.1b"><apply id="S3.I2.i2.p1.1.1.m1.1.1.cmml" xref="S3.I2.i2.p1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.i2.p1.1.1.m1.1.1.1.cmml" xref="S3.I2.i2.p1.1.1.m1.1.1">subscript</csymbol><ci id="S3.I2.i2.p1.1.1.m1.1.1.2.cmml" xref="S3.I2.i2.p1.1.1.m1.1.1.2">𝑦</ci><ci id="S3.I2.i2.p1.1.1.m1.1.1.3.cmml" xref="S3.I2.i2.p1.1.1.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.1.1.m1.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i2.p1.1.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math>.</span>
We treat the user’s selected item <math alttext="i_{n+1}" class="ltx_Math" display="inline" id="S3.I2.i2.p1.2.m1.1"><semantics id="S3.I2.i2.p1.2.m1.1a"><msub id="S3.I2.i2.p1.2.m1.1.1" xref="S3.I2.i2.p1.2.m1.1.1.cmml"><mi id="S3.I2.i2.p1.2.m1.1.1.2" xref="S3.I2.i2.p1.2.m1.1.1.2.cmml">i</mi><mrow id="S3.I2.i2.p1.2.m1.1.1.3" xref="S3.I2.i2.p1.2.m1.1.1.3.cmml"><mi id="S3.I2.i2.p1.2.m1.1.1.3.2" xref="S3.I2.i2.p1.2.m1.1.1.3.2.cmml">n</mi><mo id="S3.I2.i2.p1.2.m1.1.1.3.1" xref="S3.I2.i2.p1.2.m1.1.1.3.1.cmml">+</mo><mn id="S3.I2.i2.p1.2.m1.1.1.3.3" xref="S3.I2.i2.p1.2.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.I2.i2.p1.2.m1.1b"><apply id="S3.I2.i2.p1.2.m1.1.1.cmml" xref="S3.I2.i2.p1.2.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.i2.p1.2.m1.1.1.1.cmml" xref="S3.I2.i2.p1.2.m1.1.1">subscript</csymbol><ci id="S3.I2.i2.p1.2.m1.1.1.2.cmml" xref="S3.I2.i2.p1.2.m1.1.1.2">𝑖</ci><apply id="S3.I2.i2.p1.2.m1.1.1.3.cmml" xref="S3.I2.i2.p1.2.m1.1.1.3"><plus id="S3.I2.i2.p1.2.m1.1.1.3.1.cmml" xref="S3.I2.i2.p1.2.m1.1.1.3.1"></plus><ci id="S3.I2.i2.p1.2.m1.1.1.3.2.cmml" xref="S3.I2.i2.p1.2.m1.1.1.3.2">𝑛</ci><cn id="S3.I2.i2.p1.2.m1.1.1.3.3.cmml" type="integer" xref="S3.I2.i2.p1.2.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i2.p1.2.m1.1c">i_{n+1}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i2.p1.2.m1.1d">italic_i start_POSTSUBSCRIPT italic_n + 1 end_POSTSUBSCRIPT</annotation></semantics></math> following the interaction sequence as the chosen response, regardless of the sampling strategy used for the rejected response.</p>
</div>
</li>
<li class="ltx_item" id="S3.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S3.I2.i3.p1">
<p class="ltx_p" id="S3.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I2.i3.p1.1.1">Rejected response <math alttext="y_{l}" class="ltx_Math" display="inline" id="S3.I2.i3.p1.1.1.m1.1"><semantics id="S3.I2.i3.p1.1.1.m1.1a"><msub id="S3.I2.i3.p1.1.1.m1.1.1" xref="S3.I2.i3.p1.1.1.m1.1.1.cmml"><mi id="S3.I2.i3.p1.1.1.m1.1.1.2" xref="S3.I2.i3.p1.1.1.m1.1.1.2.cmml">y</mi><mi id="S3.I2.i3.p1.1.1.m1.1.1.3" xref="S3.I2.i3.p1.1.1.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I2.i3.p1.1.1.m1.1b"><apply id="S3.I2.i3.p1.1.1.m1.1.1.cmml" xref="S3.I2.i3.p1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I2.i3.p1.1.1.m1.1.1.1.cmml" xref="S3.I2.i3.p1.1.1.m1.1.1">subscript</csymbol><ci id="S3.I2.i3.p1.1.1.m1.1.1.2.cmml" xref="S3.I2.i3.p1.1.1.m1.1.1.2">𝑦</ci><ci id="S3.I2.i3.p1.1.1.m1.1.1.3.cmml" xref="S3.I2.i3.p1.1.1.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I2.i3.p1.1.1.m1.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.I2.i3.p1.1.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>.</span>
This is a sampled negative item, which is the central focus of this paper.</p>
</div>
</li>
</ol>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.5">Consider Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1.F3" title="Figure 3 ‣ 1. Introduction ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a> as an example.
Wherein, the chosen response <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.SS2.p3.1.m1.1"><semantics id="S3.SS2.p3.1.m1.1a"><msub id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">y</mi><mi id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝑦</ci><ci id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> is “The Bridges of Madison County”, while the rejected response <math alttext="y_{l}" class="ltx_Math" display="inline" id="S3.SS2.p3.2.m2.1"><semantics id="S3.SS2.p3.2.m2.1a"><msub id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">y</mi><mi id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝑦</ci><ci id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.2.m2.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> can be any item except the chosen one.
Note that both the chosen response <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.SS2.p3.3.m3.1"><semantics id="S3.SS2.p3.3.m3.1a"><msub id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml"><mi id="S3.SS2.p3.3.m3.1.1.2" xref="S3.SS2.p3.3.m3.1.1.2.cmml">y</mi><mi id="S3.SS2.p3.3.m3.1.1.3" xref="S3.SS2.p3.3.m3.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><apply id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2">𝑦</ci><ci id="S3.SS2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.3.m3.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> and the rejected one <math alttext="y_{l}" class="ltx_Math" display="inline" id="S3.SS2.p3.4.m4.1"><semantics id="S3.SS2.p3.4.m4.1a"><msub id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml"><mi id="S3.SS2.p3.4.m4.1.1.2" xref="S3.SS2.p3.4.m4.1.1.2.cmml">y</mi><mi id="S3.SS2.p3.4.m4.1.1.3" xref="S3.SS2.p3.4.m4.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.1b"><apply id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.4.m4.1.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p3.4.m4.1.1.2.cmml" xref="S3.SS2.p3.4.m4.1.1.2">𝑦</ci><ci id="S3.SS2.p3.4.m4.1.1.3.cmml" xref="S3.SS2.p3.4.m4.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.4.m4.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> are involved among the candidate items in the input prompt <math alttext="x" class="ltx_Math" display="inline" id="S3.SS2.p3.5.m5.1"><semantics id="S3.SS2.p3.5.m5.1a"><mi id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><ci id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">x</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p3.5.m5.1d">italic_x</annotation></semantics></math>, from which the model is expected to make a choice.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p4">
<p class="ltx_p" id="S3.SS2.p4.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p4.1.1">Rejected samples for helpfulness</span>.
Current SFT practices in recommendation <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib6" title="">2023a</a>; Lin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib34" title="">2024</a>; Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib31" title="">2023a</a>; Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib32" title="">2024</a>)</cite> rarely incorporate negative examples in the explicit responses, often relying on random candidates in the input prompt.
This implicit modeling overlooks pairwise learning at the level of response, which might negatively impact performance.
This motivates us to apply pairwise preference learning between the chosen (positive) and rejected (negative) responses.
Furthermore, inspired by studies on dynamic negative sampling (DNS) in recommendation <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib64" title="">2013</a>; Shi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib48" title="">2023</a>)</cite>, we perform uniform sampling among candidate items with higher predictive probabilities by the SFT model than the selected item <math alttext="i_{n+1}" class="ltx_Math" display="inline" id="S3.SS2.p4.1.m1.1"><semantics id="S3.SS2.p4.1.m1.1a"><msub id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml">i</mi><mrow id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.3.2" xref="S3.SS2.p4.1.m1.1.1.3.2.cmml">n</mi><mo id="S3.SS2.p4.1.m1.1.1.3.1" xref="S3.SS2.p4.1.m1.1.1.3.1.cmml">+</mo><mn id="S3.SS2.p4.1.m1.1.1.3.3" xref="S3.SS2.p4.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2">𝑖</ci><apply id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3"><plus id="S3.SS2.p4.1.m1.1.1.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3.1"></plus><ci id="S3.SS2.p4.1.m1.1.1.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2">𝑛</ci><cn id="S3.SS2.p4.1.m1.1.1.3.3.cmml" type="integer" xref="S3.SS2.p4.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">i_{n+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p4.1.m1.1d">italic_i start_POSTSUBSCRIPT italic_n + 1 end_POSTSUBSCRIPT</annotation></semantics></math>.
As illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1.F3" title="Figure 3 ‣ 1. Introduction ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a>, we select “Before Sunrise” falsely recommended by the SFT model to create the self-hard rejected responses.
Just like correcting mistakes in one’s own error collection, minimizing the probability of generating these items can help the model rectify its own deficiencies.</p>
</div>
<div class="ltx_para ltx_noindent" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.1"><span class="ltx_text ltx_font_bold" id="S3.SS2.p5.1.1">Rejected samples for harmlessness</span>.
In addition to focusing on helpfulness, other preferences can also be incorporated into our framework to enhance harmlessness.
Here we take two representative preferences that users usually care about as examples.</p>
</div>
<div class="ltx_para" id="S3.SS2.p6">
<ul class="ltx_itemize" id="S3.I3">
<li class="ltx_item" id="S3.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i1.p1">
<p class="ltx_p" id="S3.I3.i1.p1.12"><span class="ltx_text ltx_font_bold" id="S3.I3.i1.p1.12.1">Mitigating semantic hallucination. </span>
LLM-based recommenders often rely on semantic correlations in historical sequences to infer user preferences <cite class="ltx_cite ltx_citemacro_citep">(Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib32" title="">2024</a>)</cite>.
However, excessive reliance on these correlations can lead to spurious associations.
To address this issue, we create preference pairs designed to mitigate semantic hallucination.
Formally, let <math alttext="[\text{emb}_{1}]" class="ltx_Math" display="inline" id="S3.I3.i1.p1.1.m1.1"><semantics id="S3.I3.i1.p1.1.m1.1a"><mrow id="S3.I3.i1.p1.1.m1.1.1.1" xref="S3.I3.i1.p1.1.m1.1.1.2.cmml"><mo id="S3.I3.i1.p1.1.m1.1.1.1.2" stretchy="false" xref="S3.I3.i1.p1.1.m1.1.1.2.1.cmml">[</mo><msub id="S3.I3.i1.p1.1.m1.1.1.1.1" xref="S3.I3.i1.p1.1.m1.1.1.1.1.cmml"><mtext id="S3.I3.i1.p1.1.m1.1.1.1.1.2" xref="S3.I3.i1.p1.1.m1.1.1.1.1.2a.cmml">emb</mtext><mn id="S3.I3.i1.p1.1.m1.1.1.1.1.3" xref="S3.I3.i1.p1.1.m1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.I3.i1.p1.1.m1.1.1.1.3" stretchy="false" xref="S3.I3.i1.p1.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.1.m1.1b"><apply id="S3.I3.i1.p1.1.m1.1.1.2.cmml" xref="S3.I3.i1.p1.1.m1.1.1.1"><csymbol cd="latexml" id="S3.I3.i1.p1.1.m1.1.1.2.1.cmml" xref="S3.I3.i1.p1.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="S3.I3.i1.p1.1.m1.1.1.1.1.cmml" xref="S3.I3.i1.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.1.m1.1.1.1.1.1.cmml" xref="S3.I3.i1.p1.1.m1.1.1.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.1.m1.1.1.1.1.2a.cmml" xref="S3.I3.i1.p1.1.m1.1.1.1.1.2"><mtext id="S3.I3.i1.p1.1.m1.1.1.1.1.2.cmml" xref="S3.I3.i1.p1.1.m1.1.1.1.1.2">emb</mtext></ci><cn id="S3.I3.i1.p1.1.m1.1.1.1.1.3.cmml" type="integer" xref="S3.I3.i1.p1.1.m1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.1.m1.1c">[\text{emb}_{1}]</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.1.m1.1d">[ emb start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ]</annotation></semantics></math>, <math alttext="[\text{emb}_{2}]" class="ltx_Math" display="inline" id="S3.I3.i1.p1.2.m2.1"><semantics id="S3.I3.i1.p1.2.m2.1a"><mrow id="S3.I3.i1.p1.2.m2.1.1.1" xref="S3.I3.i1.p1.2.m2.1.1.2.cmml"><mo id="S3.I3.i1.p1.2.m2.1.1.1.2" stretchy="false" xref="S3.I3.i1.p1.2.m2.1.1.2.1.cmml">[</mo><msub id="S3.I3.i1.p1.2.m2.1.1.1.1" xref="S3.I3.i1.p1.2.m2.1.1.1.1.cmml"><mtext id="S3.I3.i1.p1.2.m2.1.1.1.1.2" xref="S3.I3.i1.p1.2.m2.1.1.1.1.2a.cmml">emb</mtext><mn id="S3.I3.i1.p1.2.m2.1.1.1.1.3" xref="S3.I3.i1.p1.2.m2.1.1.1.1.3.cmml">2</mn></msub><mo id="S3.I3.i1.p1.2.m2.1.1.1.3" stretchy="false" xref="S3.I3.i1.p1.2.m2.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.2.m2.1b"><apply id="S3.I3.i1.p1.2.m2.1.1.2.cmml" xref="S3.I3.i1.p1.2.m2.1.1.1"><csymbol cd="latexml" id="S3.I3.i1.p1.2.m2.1.1.2.1.cmml" xref="S3.I3.i1.p1.2.m2.1.1.1.2">delimited-[]</csymbol><apply id="S3.I3.i1.p1.2.m2.1.1.1.1.cmml" xref="S3.I3.i1.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.2.m2.1.1.1.1.1.cmml" xref="S3.I3.i1.p1.2.m2.1.1.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.2.m2.1.1.1.1.2a.cmml" xref="S3.I3.i1.p1.2.m2.1.1.1.1.2"><mtext id="S3.I3.i1.p1.2.m2.1.1.1.1.2.cmml" xref="S3.I3.i1.p1.2.m2.1.1.1.1.2">emb</mtext></ci><cn id="S3.I3.i1.p1.2.m2.1.1.1.1.3.cmml" type="integer" xref="S3.I3.i1.p1.2.m2.1.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.2.m2.1c">[\text{emb}_{2}]</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.2.m2.1d">[ emb start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ]</annotation></semantics></math>, <math alttext="\cdots" class="ltx_Math" display="inline" id="S3.I3.i1.p1.3.m3.1"><semantics id="S3.I3.i1.p1.3.m3.1a"><mi id="S3.I3.i1.p1.3.m3.1.1" mathvariant="normal" xref="S3.I3.i1.p1.3.m3.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.3.m3.1b"><ci id="S3.I3.i1.p1.3.m3.1.1.cmml" xref="S3.I3.i1.p1.3.m3.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.3.m3.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.3.m3.1d">⋯</annotation></semantics></math>, <math alttext="[\text{emb}_{n}]" class="ltx_Math" display="inline" id="S3.I3.i1.p1.4.m4.1"><semantics id="S3.I3.i1.p1.4.m4.1a"><mrow id="S3.I3.i1.p1.4.m4.1.1.1" xref="S3.I3.i1.p1.4.m4.1.1.2.cmml"><mo id="S3.I3.i1.p1.4.m4.1.1.1.2" stretchy="false" xref="S3.I3.i1.p1.4.m4.1.1.2.1.cmml">[</mo><msub id="S3.I3.i1.p1.4.m4.1.1.1.1" xref="S3.I3.i1.p1.4.m4.1.1.1.1.cmml"><mtext id="S3.I3.i1.p1.4.m4.1.1.1.1.2" xref="S3.I3.i1.p1.4.m4.1.1.1.1.2a.cmml">emb</mtext><mi id="S3.I3.i1.p1.4.m4.1.1.1.1.3" xref="S3.I3.i1.p1.4.m4.1.1.1.1.3.cmml">n</mi></msub><mo id="S3.I3.i1.p1.4.m4.1.1.1.3" stretchy="false" xref="S3.I3.i1.p1.4.m4.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.4.m4.1b"><apply id="S3.I3.i1.p1.4.m4.1.1.2.cmml" xref="S3.I3.i1.p1.4.m4.1.1.1"><csymbol cd="latexml" id="S3.I3.i1.p1.4.m4.1.1.2.1.cmml" xref="S3.I3.i1.p1.4.m4.1.1.1.2">delimited-[]</csymbol><apply id="S3.I3.i1.p1.4.m4.1.1.1.1.cmml" xref="S3.I3.i1.p1.4.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.4.m4.1.1.1.1.1.cmml" xref="S3.I3.i1.p1.4.m4.1.1.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.4.m4.1.1.1.1.2a.cmml" xref="S3.I3.i1.p1.4.m4.1.1.1.1.2"><mtext id="S3.I3.i1.p1.4.m4.1.1.1.1.2.cmml" xref="S3.I3.i1.p1.4.m4.1.1.1.1.2">emb</mtext></ci><ci id="S3.I3.i1.p1.4.m4.1.1.1.1.3.cmml" xref="S3.I3.i1.p1.4.m4.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.4.m4.1c">[\text{emb}_{n}]</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.4.m4.1d">[ emb start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT ]</annotation></semantics></math> represent the textual embeddings of historical items <math alttext="i_{1}" class="ltx_Math" display="inline" id="S3.I3.i1.p1.5.m5.1"><semantics id="S3.I3.i1.p1.5.m5.1a"><msub id="S3.I3.i1.p1.5.m5.1.1" xref="S3.I3.i1.p1.5.m5.1.1.cmml"><mi id="S3.I3.i1.p1.5.m5.1.1.2" xref="S3.I3.i1.p1.5.m5.1.1.2.cmml">i</mi><mn id="S3.I3.i1.p1.5.m5.1.1.3" xref="S3.I3.i1.p1.5.m5.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.5.m5.1b"><apply id="S3.I3.i1.p1.5.m5.1.1.cmml" xref="S3.I3.i1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.5.m5.1.1.1.cmml" xref="S3.I3.i1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.5.m5.1.1.2.cmml" xref="S3.I3.i1.p1.5.m5.1.1.2">𝑖</ci><cn id="S3.I3.i1.p1.5.m5.1.1.3.cmml" type="integer" xref="S3.I3.i1.p1.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.5.m5.1c">i_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.5.m5.1d">italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="i_{2}" class="ltx_Math" display="inline" id="S3.I3.i1.p1.6.m6.1"><semantics id="S3.I3.i1.p1.6.m6.1a"><msub id="S3.I3.i1.p1.6.m6.1.1" xref="S3.I3.i1.p1.6.m6.1.1.cmml"><mi id="S3.I3.i1.p1.6.m6.1.1.2" xref="S3.I3.i1.p1.6.m6.1.1.2.cmml">i</mi><mn id="S3.I3.i1.p1.6.m6.1.1.3" xref="S3.I3.i1.p1.6.m6.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.6.m6.1b"><apply id="S3.I3.i1.p1.6.m6.1.1.cmml" xref="S3.I3.i1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.6.m6.1.1.1.cmml" xref="S3.I3.i1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.6.m6.1.1.2.cmml" xref="S3.I3.i1.p1.6.m6.1.1.2">𝑖</ci><cn id="S3.I3.i1.p1.6.m6.1.1.3.cmml" type="integer" xref="S3.I3.i1.p1.6.m6.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.6.m6.1c">i_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.6.m6.1d">italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="\cdots" class="ltx_Math" display="inline" id="S3.I3.i1.p1.7.m7.1"><semantics id="S3.I3.i1.p1.7.m7.1a"><mi id="S3.I3.i1.p1.7.m7.1.1" mathvariant="normal" xref="S3.I3.i1.p1.7.m7.1.1.cmml">⋯</mi><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.7.m7.1b"><ci id="S3.I3.i1.p1.7.m7.1.1.cmml" xref="S3.I3.i1.p1.7.m7.1.1">⋯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.7.m7.1c">\cdots</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.7.m7.1d">⋯</annotation></semantics></math>, <math alttext="i_{n}" class="ltx_Math" display="inline" id="S3.I3.i1.p1.8.m8.1"><semantics id="S3.I3.i1.p1.8.m8.1a"><msub id="S3.I3.i1.p1.8.m8.1.1" xref="S3.I3.i1.p1.8.m8.1.1.cmml"><mi id="S3.I3.i1.p1.8.m8.1.1.2" xref="S3.I3.i1.p1.8.m8.1.1.2.cmml">i</mi><mi id="S3.I3.i1.p1.8.m8.1.1.3" xref="S3.I3.i1.p1.8.m8.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.8.m8.1b"><apply id="S3.I3.i1.p1.8.m8.1.1.cmml" xref="S3.I3.i1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.8.m8.1.1.1.cmml" xref="S3.I3.i1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.8.m8.1.1.2.cmml" xref="S3.I3.i1.p1.8.m8.1.1.2">𝑖</ci><ci id="S3.I3.i1.p1.8.m8.1.1.3.cmml" xref="S3.I3.i1.p1.8.m8.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.8.m8.1c">i_{n}</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.8.m8.1d">italic_i start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math>, respectively.
We define the semantic similarity between item <math alttext="i_{k}" class="ltx_Math" display="inline" id="S3.I3.i1.p1.9.m9.1"><semantics id="S3.I3.i1.p1.9.m9.1a"><msub id="S3.I3.i1.p1.9.m9.1.1" xref="S3.I3.i1.p1.9.m9.1.1.cmml"><mi id="S3.I3.i1.p1.9.m9.1.1.2" xref="S3.I3.i1.p1.9.m9.1.1.2.cmml">i</mi><mi id="S3.I3.i1.p1.9.m9.1.1.3" xref="S3.I3.i1.p1.9.m9.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.9.m9.1b"><apply id="S3.I3.i1.p1.9.m9.1.1.cmml" xref="S3.I3.i1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.9.m9.1.1.1.cmml" xref="S3.I3.i1.p1.9.m9.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.9.m9.1.1.2.cmml" xref="S3.I3.i1.p1.9.m9.1.1.2">𝑖</ci><ci id="S3.I3.i1.p1.9.m9.1.1.3.cmml" xref="S3.I3.i1.p1.9.m9.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.9.m9.1c">i_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.9.m9.1d">italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> and the historical sequence as
<math alttext="\sum_{t=1}^{n}\frac{\text{CosSim}([\text{emb}_{t}],[\text{emb}_{k}])}{n}" class="ltx_Math" display="inline" id="S3.I3.i1.p1.10.m10.2"><semantics id="S3.I3.i1.p1.10.m10.2a"><mrow id="S3.I3.i1.p1.10.m10.2.3" xref="S3.I3.i1.p1.10.m10.2.3.cmml"><msubsup id="S3.I3.i1.p1.10.m10.2.3.1" xref="S3.I3.i1.p1.10.m10.2.3.1.cmml"><mo id="S3.I3.i1.p1.10.m10.2.3.1.2.2" xref="S3.I3.i1.p1.10.m10.2.3.1.2.2.cmml">∑</mo><mrow id="S3.I3.i1.p1.10.m10.2.3.1.2.3" xref="S3.I3.i1.p1.10.m10.2.3.1.2.3.cmml"><mi id="S3.I3.i1.p1.10.m10.2.3.1.2.3.2" xref="S3.I3.i1.p1.10.m10.2.3.1.2.3.2.cmml">t</mi><mo id="S3.I3.i1.p1.10.m10.2.3.1.2.3.1" xref="S3.I3.i1.p1.10.m10.2.3.1.2.3.1.cmml">=</mo><mn id="S3.I3.i1.p1.10.m10.2.3.1.2.3.3" xref="S3.I3.i1.p1.10.m10.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.I3.i1.p1.10.m10.2.3.1.3" xref="S3.I3.i1.p1.10.m10.2.3.1.3.cmml">n</mi></msubsup><mfrac id="S3.I3.i1.p1.10.m10.2.2" xref="S3.I3.i1.p1.10.m10.2.2.cmml"><mrow id="S3.I3.i1.p1.10.m10.2.2.2" xref="S3.I3.i1.p1.10.m10.2.2.2.cmml"><mtext id="S3.I3.i1.p1.10.m10.2.2.2.4" xref="S3.I3.i1.p1.10.m10.2.2.2.4a.cmml">CosSim</mtext><mo id="S3.I3.i1.p1.10.m10.2.2.2.3" xref="S3.I3.i1.p1.10.m10.2.2.2.3.cmml">⁢</mo><mrow id="S3.I3.i1.p1.10.m10.2.2.2.2.2" xref="S3.I3.i1.p1.10.m10.2.2.2.2.3.cmml"><mo id="S3.I3.i1.p1.10.m10.2.2.2.2.2.3" stretchy="false" xref="S3.I3.i1.p1.10.m10.2.2.2.2.3.cmml">(</mo><mrow id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.2.cmml"><mo id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.2.1.cmml">[</mo><msub id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.cmml"><mtext id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.2" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.2a.cmml">emb</mtext><mi id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.3" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.2.1.cmml">]</mo></mrow><mo id="S3.I3.i1.p1.10.m10.2.2.2.2.2.4" xref="S3.I3.i1.p1.10.m10.2.2.2.2.3.cmml">,</mo><mrow id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.2.cmml"><mo id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.2" stretchy="false" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.2.1.cmml">[</mo><msub id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.cmml"><mtext id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.2" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.2a.cmml">emb</mtext><mi id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.3" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.3.cmml">k</mi></msub><mo id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.3" stretchy="false" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.2.1.cmml">]</mo></mrow><mo id="S3.I3.i1.p1.10.m10.2.2.2.2.2.5" stretchy="false" xref="S3.I3.i1.p1.10.m10.2.2.2.2.3.cmml">)</mo></mrow></mrow><mi id="S3.I3.i1.p1.10.m10.2.2.4" xref="S3.I3.i1.p1.10.m10.2.2.4.cmml">n</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.10.m10.2b"><apply id="S3.I3.i1.p1.10.m10.2.3.cmml" xref="S3.I3.i1.p1.10.m10.2.3"><apply id="S3.I3.i1.p1.10.m10.2.3.1.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.10.m10.2.3.1.1.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1">superscript</csymbol><apply id="S3.I3.i1.p1.10.m10.2.3.1.2.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.10.m10.2.3.1.2.1.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1">subscript</csymbol><sum id="S3.I3.i1.p1.10.m10.2.3.1.2.2.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1.2.2"></sum><apply id="S3.I3.i1.p1.10.m10.2.3.1.2.3.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1.2.3"><eq id="S3.I3.i1.p1.10.m10.2.3.1.2.3.1.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1.2.3.1"></eq><ci id="S3.I3.i1.p1.10.m10.2.3.1.2.3.2.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1.2.3.2">𝑡</ci><cn id="S3.I3.i1.p1.10.m10.2.3.1.2.3.3.cmml" type="integer" xref="S3.I3.i1.p1.10.m10.2.3.1.2.3.3">1</cn></apply></apply><ci id="S3.I3.i1.p1.10.m10.2.3.1.3.cmml" xref="S3.I3.i1.p1.10.m10.2.3.1.3">𝑛</ci></apply><apply id="S3.I3.i1.p1.10.m10.2.2.cmml" xref="S3.I3.i1.p1.10.m10.2.2"><divide id="S3.I3.i1.p1.10.m10.2.2.3.cmml" xref="S3.I3.i1.p1.10.m10.2.2"></divide><apply id="S3.I3.i1.p1.10.m10.2.2.2.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2"><times id="S3.I3.i1.p1.10.m10.2.2.2.3.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.3"></times><ci id="S3.I3.i1.p1.10.m10.2.2.2.4a.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.4"><mtext id="S3.I3.i1.p1.10.m10.2.2.2.4.cmml" mathsize="70%" xref="S3.I3.i1.p1.10.m10.2.2.2.4">CosSim</mtext></ci><interval closure="open" id="S3.I3.i1.p1.10.m10.2.2.2.2.3.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2"><apply id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.2.cmml" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.2.1.cmml" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.cmml" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.1.cmml" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.2a.cmml" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.2"><mtext id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.2.cmml" mathsize="70%" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.2">emb</mtext></ci><ci id="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.3.cmml" xref="S3.I3.i1.p1.10.m10.1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply><apply id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.2.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1"><csymbol cd="latexml" id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.2.1.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.2">delimited-[]</csymbol><apply id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.1.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1">subscript</csymbol><ci id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.2a.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.2"><mtext id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.2.cmml" mathsize="70%" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.2">emb</mtext></ci><ci id="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.3.cmml" xref="S3.I3.i1.p1.10.m10.2.2.2.2.2.2.1.1.3">𝑘</ci></apply></apply></interval></apply><ci id="S3.I3.i1.p1.10.m10.2.2.4.cmml" xref="S3.I3.i1.p1.10.m10.2.2.4">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.10.m10.2c">\sum_{t=1}^{n}\frac{\text{CosSim}([\text{emb}_{t}],[\text{emb}_{k}])}{n}</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.10.m10.2d">∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT divide start_ARG CosSim ( [ emb start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ] , [ emb start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ] ) end_ARG start_ARG italic_n end_ARG</annotation></semantics></math>, where <math alttext="\text{CosSim}(\cdot)" class="ltx_Math" display="inline" id="S3.I3.i1.p1.11.m11.1"><semantics id="S3.I3.i1.p1.11.m11.1a"><mrow id="S3.I3.i1.p1.11.m11.1.2" xref="S3.I3.i1.p1.11.m11.1.2.cmml"><mtext id="S3.I3.i1.p1.11.m11.1.2.2" xref="S3.I3.i1.p1.11.m11.1.2.2a.cmml">CosSim</mtext><mo id="S3.I3.i1.p1.11.m11.1.2.1" xref="S3.I3.i1.p1.11.m11.1.2.1.cmml">⁢</mo><mrow id="S3.I3.i1.p1.11.m11.1.2.3.2" xref="S3.I3.i1.p1.11.m11.1.2.cmml"><mo id="S3.I3.i1.p1.11.m11.1.2.3.2.1" stretchy="false" xref="S3.I3.i1.p1.11.m11.1.2.cmml">(</mo><mo id="S3.I3.i1.p1.11.m11.1.1" lspace="0em" rspace="0em" xref="S3.I3.i1.p1.11.m11.1.1.cmml">⋅</mo><mo id="S3.I3.i1.p1.11.m11.1.2.3.2.2" stretchy="false" xref="S3.I3.i1.p1.11.m11.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.11.m11.1b"><apply id="S3.I3.i1.p1.11.m11.1.2.cmml" xref="S3.I3.i1.p1.11.m11.1.2"><times id="S3.I3.i1.p1.11.m11.1.2.1.cmml" xref="S3.I3.i1.p1.11.m11.1.2.1"></times><ci id="S3.I3.i1.p1.11.m11.1.2.2a.cmml" xref="S3.I3.i1.p1.11.m11.1.2.2"><mtext id="S3.I3.i1.p1.11.m11.1.2.2.cmml" xref="S3.I3.i1.p1.11.m11.1.2.2">CosSim</mtext></ci><ci id="S3.I3.i1.p1.11.m11.1.1.cmml" xref="S3.I3.i1.p1.11.m11.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.11.m11.1c">\text{CosSim}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.11.m11.1d">CosSim ( ⋅ )</annotation></semantics></math> refers to cosine similarity.
We select the item <math alttext="i^{*}" class="ltx_Math" display="inline" id="S3.I3.i1.p1.12.m12.1"><semantics id="S3.I3.i1.p1.12.m12.1a"><msup id="S3.I3.i1.p1.12.m12.1.1" xref="S3.I3.i1.p1.12.m12.1.1.cmml"><mi id="S3.I3.i1.p1.12.m12.1.1.2" xref="S3.I3.i1.p1.12.m12.1.1.2.cmml">i</mi><mo id="S3.I3.i1.p1.12.m12.1.1.3" xref="S3.I3.i1.p1.12.m12.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S3.I3.i1.p1.12.m12.1b"><apply id="S3.I3.i1.p1.12.m12.1.1.cmml" xref="S3.I3.i1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S3.I3.i1.p1.12.m12.1.1.1.cmml" xref="S3.I3.i1.p1.12.m12.1.1">superscript</csymbol><ci id="S3.I3.i1.p1.12.m12.1.1.2.cmml" xref="S3.I3.i1.p1.12.m12.1.1.2">𝑖</ci><times id="S3.I3.i1.p1.12.m12.1.1.3.cmml" xref="S3.I3.i1.p1.12.m12.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I3.i1.p1.12.m12.1c">i^{*}</annotation><annotation encoding="application/x-llamapun" id="S3.I3.i1.p1.12.m12.1d">italic_i start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math> from the whole item set with the highest semantic similarity to the user’s historical sequence as the rejected response.
By applying preference optimization over such preference pairs, distinguishing the target response from these rejected items is expected to avoid spurious semantic correlations.</p>
</div>
</li>
<li class="ltx_item" id="S3.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I3.i2.p1">
<p class="ltx_p" id="S3.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I3.i2.p1.1.1">Mitigating popularity bias. </span>
Exploration and diversity are essential in recommendation systems, as they enhance users’ long-term satisfaction <cite class="ltx_cite ltx_citemacro_citep">(Zhao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib65" title="">2023</a>)</cite>.
However, as demonstrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.F5" title="Figure 5 ‣ 4.6. Reducing Popularity Bias ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">5</span></a>, pure SFT often leads to popularity bias<cite class="ltx_cite ltx_citemacro_citep">(Lichtenberg et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib33" title="">2024</a>)</cite> in LLM-based recommender.
For example, the popularity bias of the SFT model is as high as 24.58% for Goodreads dataset.
To address this issue, we construct preference pairs by sampling popular items as rejected responses based on item popularity distribution.
By optimizing on such preference pairs, the ability to differentiate the target response from popular items can contribute to the alleviation of popularity bias.
</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection" id="S3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3. </span>Personalized Preference Optimization</h3>
<div class="ltx_para" id="S3.SS3.p1">
<p class="ltx_p" id="S3.SS3.p1.2">Having established the preference pairs based on our three strategies, we now tackle the second obstacle: How can we handle the varying levels of uncertainty in preference labels and optimize the DPO loss accordingly?
Specifically, the rejected responses — particularly those sampled using the hard strategy — may actually represent false negatives <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib38" title="">2023b</a>)</cite>.
Directly applying DPO on such preference pairs could lead to detrimental outcomes.
To tackle this, we incorporate a measure of uncertainty into the DPO loss function.
This uncertainty reflects the likelihood of noisy labels that a user’s actual preference may differ from the predefined labels (<em class="ltx_emph ltx_font_italic" id="S3.SS3.p1.2.1">i.e., </em><math alttext="y_{w}\succ y_{l}\mid x" class="ltx_Math" display="inline" id="S3.SS3.p1.1.m1.1"><semantics id="S3.SS3.p1.1.m1.1a"><mrow id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><msub id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2.2" xref="S3.SS3.p1.1.m1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p1.1.m1.1.1.2.3" xref="S3.SS3.p1.1.m1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p1.1.m1.1.1.1" xref="S3.SS3.p1.1.m1.1.1.1.cmml">≻</mo><mrow id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml"><msub id="S3.SS3.p1.1.m1.1.1.3.2" xref="S3.SS3.p1.1.m1.1.1.3.2.cmml"><mi id="S3.SS3.p1.1.m1.1.1.3.2.2" xref="S3.SS3.p1.1.m1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p1.1.m1.1.1.3.2.3" xref="S3.SS3.p1.1.m1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p1.1.m1.1.1.3.1" xref="S3.SS3.p1.1.m1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p1.1.m1.1.1.3.3" xref="S3.SS3.p1.1.m1.1.1.3.3.cmml">x</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><csymbol cd="latexml" id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1.1">succeeds</csymbol><apply id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p1.1.m1.1.1.2.3.cmml" xref="S3.SS3.p1.1.m1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p1.1.m1.1.1.3.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p1.1.m1.1.1.3.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.3.2.1.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.3.2.2.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p1.1.m1.1.1.3.2.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p1.1.m1.1.1.3.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">y_{w}\succ y_{l}\mid x</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x</annotation></semantics></math>), especially when false negatives are present (<em class="ltx_emph ltx_font_italic" id="S3.SS3.p1.2.2">i.e., </em><math alttext="y_{w}\prec y_{l}\mid x" class="ltx_Math" display="inline" id="S3.SS3.p1.2.m2.1"><semantics id="S3.SS3.p1.2.m2.1a"><mrow id="S3.SS3.p1.2.m2.1.1" xref="S3.SS3.p1.2.m2.1.1.cmml"><msub id="S3.SS3.p1.2.m2.1.1.2" xref="S3.SS3.p1.2.m2.1.1.2.cmml"><mi id="S3.SS3.p1.2.m2.1.1.2.2" xref="S3.SS3.p1.2.m2.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p1.2.m2.1.1.2.3" xref="S3.SS3.p1.2.m2.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p1.2.m2.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.cmml">≺</mo><mrow id="S3.SS3.p1.2.m2.1.1.3" xref="S3.SS3.p1.2.m2.1.1.3.cmml"><msub id="S3.SS3.p1.2.m2.1.1.3.2" xref="S3.SS3.p1.2.m2.1.1.3.2.cmml"><mi id="S3.SS3.p1.2.m2.1.1.3.2.2" xref="S3.SS3.p1.2.m2.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p1.2.m2.1.1.3.2.3" xref="S3.SS3.p1.2.m2.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p1.2.m2.1.1.3.1" xref="S3.SS3.p1.2.m2.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p1.2.m2.1.1.3.3" xref="S3.SS3.p1.2.m2.1.1.3.3.cmml">x</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.1b"><apply id="S3.SS3.p1.2.m2.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1"><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1">precedes</csymbol><apply id="S3.SS3.p1.2.m2.1.1.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.1.1.2.1.cmml" xref="S3.SS3.p1.2.m2.1.1.2">subscript</csymbol><ci id="S3.SS3.p1.2.m2.1.1.2.2.cmml" xref="S3.SS3.p1.2.m2.1.1.2.2">𝑦</ci><ci id="S3.SS3.p1.2.m2.1.1.2.3.cmml" xref="S3.SS3.p1.2.m2.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p1.2.m2.1.1.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3"><csymbol cd="latexml" id="S3.SS3.p1.2.m2.1.1.3.1.cmml" xref="S3.SS3.p1.2.m2.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p1.2.m2.1.1.3.2.cmml" xref="S3.SS3.p1.2.m2.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.1.1.3.2.1.cmml" xref="S3.SS3.p1.2.m2.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p1.2.m2.1.1.3.2.2.cmml" xref="S3.SS3.p1.2.m2.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p1.2.m2.1.1.3.2.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p1.2.m2.1.1.3.3.cmml" xref="S3.SS3.p1.2.m2.1.1.3.3">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.1c">y_{w}\prec y_{l}\mid x</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p1.2.m2.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≺ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x</annotation></semantics></math>).
By adjusting the DPO loss to account for the uncertainty, we can mitigate the risk of misinterpreting false negatives.</p>
</div>
<div class="ltx_para" id="S3.SS3.p2">
<p class="ltx_p" id="S3.SS3.p2.7">Formally, Equation (<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3.E4" title="In 3.1. Background ‣ 3. Method: RosePO ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4</span></a>) regresses <math alttext="\hat{p}(y_{w}\succ y_{l}\mid x)" class="ltx_Math" display="inline" id="S3.SS3.p2.1.m1.1"><semantics id="S3.SS3.p2.1.m1.1a"><mrow id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml"><mover accent="true" id="S3.SS3.p2.1.m1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.3.cmml"><mi id="S3.SS3.p2.1.m1.1.1.3.2" xref="S3.SS3.p2.1.m1.1.1.3.2.cmml">p</mi><mo id="S3.SS3.p2.1.m1.1.1.3.1" xref="S3.SS3.p2.1.m1.1.1.3.1.cmml">^</mo></mover><mo id="S3.SS3.p2.1.m1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p2.1.m1.1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.1.1.cmml"><mo id="S3.SS3.p2.1.m1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p2.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.1.m1.1.1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.1.1.cmml"><msub id="S3.SS3.p2.1.m1.1.1.1.1.1.2" xref="S3.SS3.p2.1.m1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p2.1.m1.1.1.1.1.1.2.2" xref="S3.SS3.p2.1.m1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p2.1.m1.1.1.1.1.1.2.3" xref="S3.SS3.p2.1.m1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p2.1.m1.1.1.1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.SS3.p2.1.m1.1.1.1.1.1.3" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.cmml"><msub id="S3.SS3.p2.1.m1.1.1.1.1.1.3.2" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.cmml"><mi id="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.2" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.3" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p2.1.m1.1.1.1.1.1.3.1" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p2.1.m1.1.1.1.1.1.3.3" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.SS3.p2.1.m1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p2.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><apply id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1"><times id="S3.SS3.p2.1.m1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.2"></times><apply id="S3.SS3.p2.1.m1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.3"><ci id="S3.SS3.p2.1.m1.1.1.3.1.cmml" xref="S3.SS3.p2.1.m1.1.1.3.1">^</ci><ci id="S3.SS3.p2.1.m1.1.1.3.2.cmml" xref="S3.SS3.p2.1.m1.1.1.3.2">𝑝</ci></apply><apply id="S3.SS3.p2.1.m1.1.1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p2.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.SS3.p2.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p2.1.m1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p2.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p2.1.m1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p2.1.m1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\hat{p}(y_{w}\succ y_{l}\mid x)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.1.m1.1d">over^ start_ARG italic_p end_ARG ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x )</annotation></semantics></math> to the target <math alttext="p(y_{w}\succ y_{l}\mid x)=1" class="ltx_Math" display="inline" id="S3.SS3.p2.2.m2.1"><semantics id="S3.SS3.p2.2.m2.1a"><mrow id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml"><mrow id="S3.SS3.p2.2.m2.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.cmml"><mi id="S3.SS3.p2.2.m2.1.1.1.3" xref="S3.SS3.p2.2.m2.1.1.1.3.cmml">p</mi><mo id="S3.SS3.p2.2.m2.1.1.1.2" xref="S3.SS3.p2.2.m2.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p2.2.m2.1.1.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p2.2.m2.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.2.m2.1.1.1.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.cmml"><msub id="S3.SS3.p2.2.m2.1.1.1.1.1.1.2" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.2" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.3" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.cmml"><msub id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.cmml"><mi id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.2" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.3" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.1" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.3" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.SS3.p2.2.m2.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.2.m2.1.1.2" xref="S3.SS3.p2.2.m2.1.1.2.cmml">=</mo><mn id="S3.SS3.p2.2.m2.1.1.3" xref="S3.SS3.p2.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><apply id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1"><eq id="S3.SS3.p2.2.m2.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.2"></eq><apply id="S3.SS3.p2.2.m2.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1"><times id="S3.SS3.p2.2.m2.1.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.1.2"></times><ci id="S3.SS3.p2.2.m2.1.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.1.3">𝑝</ci><apply id="S3.SS3.p2.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p2.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p2.2.m2.1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply><cn id="S3.SS3.p2.2.m2.1.1.3.cmml" type="integer" xref="S3.SS3.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">p(y_{w}\succ y_{l}\mid x)=1</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.2.m2.1d">italic_p ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) = 1</annotation></semantics></math> by minimizing the cross entropy, which implies that <math alttext="r(x,y_{w})-r(x,y_{l})\to+\infty" class="ltx_Math" display="inline" id="S3.SS3.p2.3.m3.4"><semantics id="S3.SS3.p2.3.m3.4a"><mrow id="S3.SS3.p2.3.m3.4.4" xref="S3.SS3.p2.3.m3.4.4.cmml"><mrow id="S3.SS3.p2.3.m3.4.4.2" xref="S3.SS3.p2.3.m3.4.4.2.cmml"><mrow id="S3.SS3.p2.3.m3.3.3.1.1" xref="S3.SS3.p2.3.m3.3.3.1.1.cmml"><mi id="S3.SS3.p2.3.m3.3.3.1.1.3" xref="S3.SS3.p2.3.m3.3.3.1.1.3.cmml">r</mi><mo id="S3.SS3.p2.3.m3.3.3.1.1.2" xref="S3.SS3.p2.3.m3.3.3.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p2.3.m3.3.3.1.1.1.1" xref="S3.SS3.p2.3.m3.3.3.1.1.1.2.cmml"><mo id="S3.SS3.p2.3.m3.3.3.1.1.1.1.2" stretchy="false" xref="S3.SS3.p2.3.m3.3.3.1.1.1.2.cmml">(</mo><mi id="S3.SS3.p2.3.m3.1.1" xref="S3.SS3.p2.3.m3.1.1.cmml">x</mi><mo id="S3.SS3.p2.3.m3.3.3.1.1.1.1.3" xref="S3.SS3.p2.3.m3.3.3.1.1.1.2.cmml">,</mo><msub id="S3.SS3.p2.3.m3.3.3.1.1.1.1.1" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.cmml"><mi id="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.2" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.2.cmml">y</mi><mi id="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.3" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.3.cmml">w</mi></msub><mo id="S3.SS3.p2.3.m3.3.3.1.1.1.1.4" stretchy="false" xref="S3.SS3.p2.3.m3.3.3.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.3.m3.4.4.2.3" xref="S3.SS3.p2.3.m3.4.4.2.3.cmml">−</mo><mrow id="S3.SS3.p2.3.m3.4.4.2.2" xref="S3.SS3.p2.3.m3.4.4.2.2.cmml"><mi id="S3.SS3.p2.3.m3.4.4.2.2.3" xref="S3.SS3.p2.3.m3.4.4.2.2.3.cmml">r</mi><mo id="S3.SS3.p2.3.m3.4.4.2.2.2" xref="S3.SS3.p2.3.m3.4.4.2.2.2.cmml">⁢</mo><mrow id="S3.SS3.p2.3.m3.4.4.2.2.1.1" xref="S3.SS3.p2.3.m3.4.4.2.2.1.2.cmml"><mo id="S3.SS3.p2.3.m3.4.4.2.2.1.1.2" stretchy="false" xref="S3.SS3.p2.3.m3.4.4.2.2.1.2.cmml">(</mo><mi id="S3.SS3.p2.3.m3.2.2" xref="S3.SS3.p2.3.m3.2.2.cmml">x</mi><mo id="S3.SS3.p2.3.m3.4.4.2.2.1.1.3" xref="S3.SS3.p2.3.m3.4.4.2.2.1.2.cmml">,</mo><msub id="S3.SS3.p2.3.m3.4.4.2.2.1.1.1" xref="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.cmml"><mi id="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.2" xref="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.2.cmml">y</mi><mi id="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.3" xref="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.3.cmml">l</mi></msub><mo id="S3.SS3.p2.3.m3.4.4.2.2.1.1.4" stretchy="false" xref="S3.SS3.p2.3.m3.4.4.2.2.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.SS3.p2.3.m3.4.4.3" stretchy="false" xref="S3.SS3.p2.3.m3.4.4.3.cmml">→</mo><mrow id="S3.SS3.p2.3.m3.4.4.4" xref="S3.SS3.p2.3.m3.4.4.4.cmml"><mo id="S3.SS3.p2.3.m3.4.4.4a" xref="S3.SS3.p2.3.m3.4.4.4.cmml">+</mo><mi id="S3.SS3.p2.3.m3.4.4.4.2" mathvariant="normal" xref="S3.SS3.p2.3.m3.4.4.4.2.cmml">∞</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m3.4b"><apply id="S3.SS3.p2.3.m3.4.4.cmml" xref="S3.SS3.p2.3.m3.4.4"><ci id="S3.SS3.p2.3.m3.4.4.3.cmml" xref="S3.SS3.p2.3.m3.4.4.3">→</ci><apply id="S3.SS3.p2.3.m3.4.4.2.cmml" xref="S3.SS3.p2.3.m3.4.4.2"><minus id="S3.SS3.p2.3.m3.4.4.2.3.cmml" xref="S3.SS3.p2.3.m3.4.4.2.3"></minus><apply id="S3.SS3.p2.3.m3.3.3.1.1.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1"><times id="S3.SS3.p2.3.m3.3.3.1.1.2.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.2"></times><ci id="S3.SS3.p2.3.m3.3.3.1.1.3.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.3">𝑟</ci><interval closure="open" id="S3.SS3.p2.3.m3.3.3.1.1.1.2.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1"><ci id="S3.SS3.p2.3.m3.1.1.cmml" xref="S3.SS3.p2.3.m3.1.1">𝑥</ci><apply id="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.2">𝑦</ci><ci id="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.3.m3.3.3.1.1.1.1.1.3">𝑤</ci></apply></interval></apply><apply id="S3.SS3.p2.3.m3.4.4.2.2.cmml" xref="S3.SS3.p2.3.m3.4.4.2.2"><times id="S3.SS3.p2.3.m3.4.4.2.2.2.cmml" xref="S3.SS3.p2.3.m3.4.4.2.2.2"></times><ci id="S3.SS3.p2.3.m3.4.4.2.2.3.cmml" xref="S3.SS3.p2.3.m3.4.4.2.2.3">𝑟</ci><interval closure="open" id="S3.SS3.p2.3.m3.4.4.2.2.1.2.cmml" xref="S3.SS3.p2.3.m3.4.4.2.2.1.1"><ci id="S3.SS3.p2.3.m3.2.2.cmml" xref="S3.SS3.p2.3.m3.2.2">𝑥</ci><apply id="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.cmml" xref="S3.SS3.p2.3.m3.4.4.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.1.cmml" xref="S3.SS3.p2.3.m3.4.4.2.2.1.1.1">subscript</csymbol><ci id="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.2.cmml" xref="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.2">𝑦</ci><ci id="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.3.cmml" xref="S3.SS3.p2.3.m3.4.4.2.2.1.1.1.3">𝑙</ci></apply></interval></apply></apply><apply id="S3.SS3.p2.3.m3.4.4.4.cmml" xref="S3.SS3.p2.3.m3.4.4.4"><plus id="S3.SS3.p2.3.m3.4.4.4.1.cmml" xref="S3.SS3.p2.3.m3.4.4.4"></plus><infinity id="S3.SS3.p2.3.m3.4.4.4.2.cmml" xref="S3.SS3.p2.3.m3.4.4.4.2"></infinity></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m3.4c">r(x,y_{w})-r(x,y_{l})\to+\infty</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.3.m3.4d">italic_r ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ) - italic_r ( italic_x , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) → + ∞</annotation></semantics></math> in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3.E3" title="In 3.1. Background ‣ 3. Method: RosePO ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a>).
However, unlike human-annotated preference data, the preference data we automatically construct in the recommendation context may not fully adhere to the assumption <math alttext="p(y_{w}\succ y_{l}\mid x)=1" class="ltx_Math" display="inline" id="S3.SS3.p2.4.m4.1"><semantics id="S3.SS3.p2.4.m4.1a"><mrow id="S3.SS3.p2.4.m4.1.1" xref="S3.SS3.p2.4.m4.1.1.cmml"><mrow id="S3.SS3.p2.4.m4.1.1.1" xref="S3.SS3.p2.4.m4.1.1.1.cmml"><mi id="S3.SS3.p2.4.m4.1.1.1.3" xref="S3.SS3.p2.4.m4.1.1.1.3.cmml">p</mi><mo id="S3.SS3.p2.4.m4.1.1.1.2" xref="S3.SS3.p2.4.m4.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p2.4.m4.1.1.1.1.1" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p2.4.m4.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.4.m4.1.1.1.1.1.1" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.cmml"><msub id="S3.SS3.p2.4.m4.1.1.1.1.1.1.2" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.2" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.3" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p2.4.m4.1.1.1.1.1.1.1" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.cmml"><msub id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.cmml"><mi id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.2" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.3" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.1" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.3" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.SS3.p2.4.m4.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.4.m4.1.1.2" xref="S3.SS3.p2.4.m4.1.1.2.cmml">=</mo><mn id="S3.SS3.p2.4.m4.1.1.3" xref="S3.SS3.p2.4.m4.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.4.m4.1b"><apply id="S3.SS3.p2.4.m4.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1"><eq id="S3.SS3.p2.4.m4.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.2"></eq><apply id="S3.SS3.p2.4.m4.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1"><times id="S3.SS3.p2.4.m4.1.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.1.2"></times><ci id="S3.SS3.p2.4.m4.1.1.1.3.cmml" xref="S3.SS3.p2.4.m4.1.1.1.3">𝑝</ci><apply id="S3.SS3.p2.4.m4.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p2.4.m4.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p2.4.m4.1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply><cn id="S3.SS3.p2.4.m4.1.1.3.cmml" type="integer" xref="S3.SS3.p2.4.m4.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.4.m4.1c">p(y_{w}\succ y_{l}\mid x)=1</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.4.m4.1d">italic_p ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) = 1</annotation></semantics></math>, indicating the presence of noisy labels.
Inspired by the conservative DPO loss <cite class="ltx_cite ltx_citemacro_citep">(Mitchell, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib41" title="">2023</a>)</cite>, we introduce a smoothing factor <math alttext="\epsilon" class="ltx_Math" display="inline" id="S3.SS3.p2.5.m5.1"><semantics id="S3.SS3.p2.5.m5.1a"><mi id="S3.SS3.p2.5.m5.1.1" xref="S3.SS3.p2.5.m5.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.5.m5.1b"><ci id="S3.SS3.p2.5.m5.1.1.cmml" xref="S3.SS3.p2.5.m5.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.5.m5.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.5.m5.1d">italic_ϵ</annotation></semantics></math>, to quantify the uncertainty of label flipping.
That is, we modify the target to <math alttext="p(y_{w}\succ y_{l}\mid x)=1-\epsilon" class="ltx_Math" display="inline" id="S3.SS3.p2.6.m6.1"><semantics id="S3.SS3.p2.6.m6.1a"><mrow id="S3.SS3.p2.6.m6.1.1" xref="S3.SS3.p2.6.m6.1.1.cmml"><mrow id="S3.SS3.p2.6.m6.1.1.1" xref="S3.SS3.p2.6.m6.1.1.1.cmml"><mi id="S3.SS3.p2.6.m6.1.1.1.3" xref="S3.SS3.p2.6.m6.1.1.1.3.cmml">p</mi><mo id="S3.SS3.p2.6.m6.1.1.1.2" xref="S3.SS3.p2.6.m6.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p2.6.m6.1.1.1.1.1" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p2.6.m6.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.6.m6.1.1.1.1.1.1" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.cmml"><msub id="S3.SS3.p2.6.m6.1.1.1.1.1.1.2" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.2" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.3" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p2.6.m6.1.1.1.1.1.1.1" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.cmml"><msub id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.cmml"><mi id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.2" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.3" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.1" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.3" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.SS3.p2.6.m6.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.6.m6.1.1.2" xref="S3.SS3.p2.6.m6.1.1.2.cmml">=</mo><mrow id="S3.SS3.p2.6.m6.1.1.3" xref="S3.SS3.p2.6.m6.1.1.3.cmml"><mn id="S3.SS3.p2.6.m6.1.1.3.2" xref="S3.SS3.p2.6.m6.1.1.3.2.cmml">1</mn><mo id="S3.SS3.p2.6.m6.1.1.3.1" xref="S3.SS3.p2.6.m6.1.1.3.1.cmml">−</mo><mi id="S3.SS3.p2.6.m6.1.1.3.3" xref="S3.SS3.p2.6.m6.1.1.3.3.cmml">ϵ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.6.m6.1b"><apply id="S3.SS3.p2.6.m6.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1"><eq id="S3.SS3.p2.6.m6.1.1.2.cmml" xref="S3.SS3.p2.6.m6.1.1.2"></eq><apply id="S3.SS3.p2.6.m6.1.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1.1"><times id="S3.SS3.p2.6.m6.1.1.1.2.cmml" xref="S3.SS3.p2.6.m6.1.1.1.2"></times><ci id="S3.SS3.p2.6.m6.1.1.1.3.cmml" xref="S3.SS3.p2.6.m6.1.1.1.3">𝑝</ci><apply id="S3.SS3.p2.6.m6.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p2.6.m6.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p2.6.m6.1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply><apply id="S3.SS3.p2.6.m6.1.1.3.cmml" xref="S3.SS3.p2.6.m6.1.1.3"><minus id="S3.SS3.p2.6.m6.1.1.3.1.cmml" xref="S3.SS3.p2.6.m6.1.1.3.1"></minus><cn id="S3.SS3.p2.6.m6.1.1.3.2.cmml" type="integer" xref="S3.SS3.p2.6.m6.1.1.3.2">1</cn><ci id="S3.SS3.p2.6.m6.1.1.3.3.cmml" xref="S3.SS3.p2.6.m6.1.1.3.3">italic-ϵ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.6.m6.1c">p(y_{w}\succ y_{l}\mid x)=1-\epsilon</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.6.m6.1d">italic_p ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) = 1 - italic_ϵ</annotation></semantics></math> with an <math alttext="\epsilon" class="ltx_Math" display="inline" id="S3.SS3.p2.7.m7.1"><semantics id="S3.SS3.p2.7.m7.1a"><mi id="S3.SS3.p2.7.m7.1.1" xref="S3.SS3.p2.7.m7.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.7.m7.1b"><ci id="S3.SS3.p2.7.m7.1.1.cmml" xref="S3.SS3.p2.7.m7.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.7.m7.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.7.m7.1d">italic_ϵ</annotation></semantics></math> term representing the uncertainty regarding the preference comparison.
Then, the conservative optimization objective can be expressed as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\min_{\theta}\mathbb{E}_{(x,y_{w},y_{l})\thicksim\mathcal{D}_{\text{PL}}}%
\mathcal{L}_{\text{CE}}(\hat{p}_{\theta}(y_{w}\succ y_{l}\mid x),p_{\theta}(y_%
{w}\succ y_{l}\mid x))," class="ltx_Math" display="block" id="S3.E5.m1.4"><semantics id="S3.E5.m1.4a"><mrow id="S3.E5.m1.4.4.1" xref="S3.E5.m1.4.4.1.1.cmml"><mrow id="S3.E5.m1.4.4.1.1" xref="S3.E5.m1.4.4.1.1.cmml"><mrow id="S3.E5.m1.4.4.1.1.4" xref="S3.E5.m1.4.4.1.1.4.cmml"><munder id="S3.E5.m1.4.4.1.1.4.1" xref="S3.E5.m1.4.4.1.1.4.1.cmml"><mi id="S3.E5.m1.4.4.1.1.4.1.2" xref="S3.E5.m1.4.4.1.1.4.1.2.cmml">min</mi><mi id="S3.E5.m1.4.4.1.1.4.1.3" xref="S3.E5.m1.4.4.1.1.4.1.3.cmml">θ</mi></munder><mo id="S3.E5.m1.4.4.1.1.4a" lspace="0.167em" xref="S3.E5.m1.4.4.1.1.4.cmml">⁡</mo><mrow id="S3.E5.m1.4.4.1.1.4.2" xref="S3.E5.m1.4.4.1.1.4.2.cmml"><msub id="S3.E5.m1.4.4.1.1.4.2.2" xref="S3.E5.m1.4.4.1.1.4.2.2.cmml"><mi id="S3.E5.m1.4.4.1.1.4.2.2.2" xref="S3.E5.m1.4.4.1.1.4.2.2.2.cmml">𝔼</mi><mrow id="S3.E5.m1.3.3.3" xref="S3.E5.m1.3.3.3.cmml"><mrow id="S3.E5.m1.3.3.3.3.2" xref="S3.E5.m1.3.3.3.3.3.cmml"><mo id="S3.E5.m1.3.3.3.3.2.3" stretchy="false" xref="S3.E5.m1.3.3.3.3.3.cmml">(</mo><mi id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">x</mi><mo id="S3.E5.m1.3.3.3.3.2.4" xref="S3.E5.m1.3.3.3.3.3.cmml">,</mo><msub id="S3.E5.m1.2.2.2.2.1.1" xref="S3.E5.m1.2.2.2.2.1.1.cmml"><mi id="S3.E5.m1.2.2.2.2.1.1.2" xref="S3.E5.m1.2.2.2.2.1.1.2.cmml">y</mi><mi id="S3.E5.m1.2.2.2.2.1.1.3" xref="S3.E5.m1.2.2.2.2.1.1.3.cmml">w</mi></msub><mo id="S3.E5.m1.3.3.3.3.2.5" xref="S3.E5.m1.3.3.3.3.3.cmml">,</mo><msub id="S3.E5.m1.3.3.3.3.2.2" xref="S3.E5.m1.3.3.3.3.2.2.cmml"><mi id="S3.E5.m1.3.3.3.3.2.2.2" xref="S3.E5.m1.3.3.3.3.2.2.2.cmml">y</mi><mi id="S3.E5.m1.3.3.3.3.2.2.3" xref="S3.E5.m1.3.3.3.3.2.2.3.cmml">l</mi></msub><mo id="S3.E5.m1.3.3.3.3.2.6" stretchy="false" xref="S3.E5.m1.3.3.3.3.3.cmml">)</mo></mrow><mo id="S3.E5.m1.3.3.3.4" xref="S3.E5.m1.3.3.3.4.cmml">∼</mo><msub id="S3.E5.m1.3.3.3.5" xref="S3.E5.m1.3.3.3.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.3.3.3.5.2" xref="S3.E5.m1.3.3.3.5.2.cmml">𝒟</mi><mtext id="S3.E5.m1.3.3.3.5.3" xref="S3.E5.m1.3.3.3.5.3a.cmml">PL</mtext></msub></mrow></msub><mo id="S3.E5.m1.4.4.1.1.4.2.1" xref="S3.E5.m1.4.4.1.1.4.2.1.cmml">⁢</mo><msub id="S3.E5.m1.4.4.1.1.4.2.3" xref="S3.E5.m1.4.4.1.1.4.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.4.4.1.1.4.2.3.2" xref="S3.E5.m1.4.4.1.1.4.2.3.2.cmml">ℒ</mi><mtext id="S3.E5.m1.4.4.1.1.4.2.3.3" xref="S3.E5.m1.4.4.1.1.4.2.3.3a.cmml">CE</mtext></msub></mrow></mrow><mo id="S3.E5.m1.4.4.1.1.3" xref="S3.E5.m1.4.4.1.1.3.cmml">⁢</mo><mrow id="S3.E5.m1.4.4.1.1.2.2" xref="S3.E5.m1.4.4.1.1.2.3.cmml"><mo id="S3.E5.m1.4.4.1.1.2.2.3" stretchy="false" xref="S3.E5.m1.4.4.1.1.2.3.cmml">(</mo><mrow id="S3.E5.m1.4.4.1.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.1.cmml"><msub id="S3.E5.m1.4.4.1.1.1.1.1.3" xref="S3.E5.m1.4.4.1.1.1.1.1.3.cmml"><mover accent="true" id="S3.E5.m1.4.4.1.1.1.1.1.3.2" xref="S3.E5.m1.4.4.1.1.1.1.1.3.2.cmml"><mi id="S3.E5.m1.4.4.1.1.1.1.1.3.2.2" xref="S3.E5.m1.4.4.1.1.1.1.1.3.2.2.cmml">p</mi><mo id="S3.E5.m1.4.4.1.1.1.1.1.3.2.1" xref="S3.E5.m1.4.4.1.1.1.1.1.3.2.1.cmml">^</mo></mover><mi id="S3.E5.m1.4.4.1.1.1.1.1.3.3" xref="S3.E5.m1.4.4.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S3.E5.m1.4.4.1.1.1.1.1.2" xref="S3.E5.m1.4.4.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.E5.m1.4.4.1.1.1.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E5.m1.4.4.1.1.1.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.cmml"><msub id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.cmml"><msub id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.1" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.3" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.E5.m1.4.4.1.1.1.1.1.1.1.3" stretchy="false" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.4.4.1.1.2.2.4" xref="S3.E5.m1.4.4.1.1.2.3.cmml">,</mo><mrow id="S3.E5.m1.4.4.1.1.2.2.2" xref="S3.E5.m1.4.4.1.1.2.2.2.cmml"><msub id="S3.E5.m1.4.4.1.1.2.2.2.3" xref="S3.E5.m1.4.4.1.1.2.2.2.3.cmml"><mi id="S3.E5.m1.4.4.1.1.2.2.2.3.2" xref="S3.E5.m1.4.4.1.1.2.2.2.3.2.cmml">p</mi><mi id="S3.E5.m1.4.4.1.1.2.2.2.3.3" xref="S3.E5.m1.4.4.1.1.2.2.2.3.3.cmml">θ</mi></msub><mo id="S3.E5.m1.4.4.1.1.2.2.2.2" xref="S3.E5.m1.4.4.1.1.2.2.2.2.cmml">⁢</mo><mrow id="S3.E5.m1.4.4.1.1.2.2.2.1.1" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.cmml"><mo id="S3.E5.m1.4.4.1.1.2.2.2.1.1.2" stretchy="false" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.cmml"><msub id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.cmml"><mi id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.2" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.3" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.1" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.1.cmml">≻</mo><mrow id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.cmml"><msub id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.cmml"><mi id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.2" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.2.cmml">y</mi><mi id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.3" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.1" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.1.cmml">∣</mo><mi id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.3" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.E5.m1.4.4.1.1.2.2.2.1.1.3" stretchy="false" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.4.4.1.1.2.2.5" stretchy="false" xref="S3.E5.m1.4.4.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.4.4.1.2" xref="S3.E5.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.4b"><apply id="S3.E5.m1.4.4.1.1.cmml" xref="S3.E5.m1.4.4.1"><times id="S3.E5.m1.4.4.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.3"></times><apply id="S3.E5.m1.4.4.1.1.4.cmml" xref="S3.E5.m1.4.4.1.1.4"><apply id="S3.E5.m1.4.4.1.1.4.1.cmml" xref="S3.E5.m1.4.4.1.1.4.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.4.1.1.cmml" xref="S3.E5.m1.4.4.1.1.4.1">subscript</csymbol><min id="S3.E5.m1.4.4.1.1.4.1.2.cmml" xref="S3.E5.m1.4.4.1.1.4.1.2"></min><ci id="S3.E5.m1.4.4.1.1.4.1.3.cmml" xref="S3.E5.m1.4.4.1.1.4.1.3">𝜃</ci></apply><apply id="S3.E5.m1.4.4.1.1.4.2.cmml" xref="S3.E5.m1.4.4.1.1.4.2"><times id="S3.E5.m1.4.4.1.1.4.2.1.cmml" xref="S3.E5.m1.4.4.1.1.4.2.1"></times><apply id="S3.E5.m1.4.4.1.1.4.2.2.cmml" xref="S3.E5.m1.4.4.1.1.4.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.4.2.2.1.cmml" xref="S3.E5.m1.4.4.1.1.4.2.2">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.4.2.2.2.cmml" xref="S3.E5.m1.4.4.1.1.4.2.2.2">𝔼</ci><apply id="S3.E5.m1.3.3.3.cmml" xref="S3.E5.m1.3.3.3"><ci id="S3.E5.m1.3.3.3.4.cmml" xref="S3.E5.m1.3.3.3.4">∼</ci><vector id="S3.E5.m1.3.3.3.3.3.cmml" xref="S3.E5.m1.3.3.3.3.2"><ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">𝑥</ci><apply id="S3.E5.m1.2.2.2.2.1.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.1.1.1.cmml" xref="S3.E5.m1.2.2.2.2.1.1">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.1.1.2.cmml" xref="S3.E5.m1.2.2.2.2.1.1.2">𝑦</ci><ci id="S3.E5.m1.2.2.2.2.1.1.3.cmml" xref="S3.E5.m1.2.2.2.2.1.1.3">𝑤</ci></apply><apply id="S3.E5.m1.3.3.3.3.2.2.cmml" xref="S3.E5.m1.3.3.3.3.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.3.2.2.1.cmml" xref="S3.E5.m1.3.3.3.3.2.2">subscript</csymbol><ci id="S3.E5.m1.3.3.3.3.2.2.2.cmml" xref="S3.E5.m1.3.3.3.3.2.2.2">𝑦</ci><ci id="S3.E5.m1.3.3.3.3.2.2.3.cmml" xref="S3.E5.m1.3.3.3.3.2.2.3">𝑙</ci></apply></vector><apply id="S3.E5.m1.3.3.3.5.cmml" xref="S3.E5.m1.3.3.3.5"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.3.5.1.cmml" xref="S3.E5.m1.3.3.3.5">subscript</csymbol><ci id="S3.E5.m1.3.3.3.5.2.cmml" xref="S3.E5.m1.3.3.3.5.2">𝒟</ci><ci id="S3.E5.m1.3.3.3.5.3a.cmml" xref="S3.E5.m1.3.3.3.5.3"><mtext id="S3.E5.m1.3.3.3.5.3.cmml" mathsize="50%" xref="S3.E5.m1.3.3.3.5.3">PL</mtext></ci></apply></apply></apply><apply id="S3.E5.m1.4.4.1.1.4.2.3.cmml" xref="S3.E5.m1.4.4.1.1.4.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.4.2.3.1.cmml" xref="S3.E5.m1.4.4.1.1.4.2.3">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.4.2.3.2.cmml" xref="S3.E5.m1.4.4.1.1.4.2.3.2">ℒ</ci><ci id="S3.E5.m1.4.4.1.1.4.2.3.3a.cmml" xref="S3.E5.m1.4.4.1.1.4.2.3.3"><mtext id="S3.E5.m1.4.4.1.1.4.2.3.3.cmml" mathsize="70%" xref="S3.E5.m1.4.4.1.1.4.2.3.3">CE</mtext></ci></apply></apply></apply><interval closure="open" id="S3.E5.m1.4.4.1.1.2.3.cmml" xref="S3.E5.m1.4.4.1.1.2.2"><apply id="S3.E5.m1.4.4.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1"><times id="S3.E5.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.2"></times><apply id="S3.E5.m1.4.4.1.1.1.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E5.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.3.2"><ci id="S3.E5.m1.4.4.1.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.3.2.1">^</ci><ci id="S3.E5.m1.4.4.1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.3.2.2">𝑝</ci></apply><ci id="S3.E5.m1.4.4.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply><apply id="S3.E5.m1.4.4.1.1.2.2.2.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2"><times id="S3.E5.m1.4.4.1.1.2.2.2.2.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.2"></times><apply id="S3.E5.m1.4.4.1.1.2.2.2.3.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.2.2.2.3.1.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.3">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.2.2.2.3.2.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.3.2">𝑝</ci><ci id="S3.E5.m1.4.4.1.1.2.2.2.3.3.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.3.3">𝜃</ci></apply><apply id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.1">succeeds</csymbol><apply id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.1.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.2.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.3.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.2.3">𝑤</ci></apply><apply id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3"><csymbol cd="latexml" id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.1.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.1">conditional</csymbol><apply id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.1.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.2.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.2">𝑦</ci><ci id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.3.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.3.cmml" xref="S3.E5.m1.4.4.1.1.2.2.2.1.1.1.3.3">𝑥</ci></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.4c">\min_{\theta}\mathbb{E}_{(x,y_{w},y_{l})\thicksim\mathcal{D}_{\text{PL}}}%
\mathcal{L}_{\text{CE}}(\hat{p}_{\theta}(y_{w}\succ y_{l}\mid x),p_{\theta}(y_%
{w}\succ y_{l}\mid x)),</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.4d">roman_min start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT blackboard_E start_POSTSUBSCRIPT ( italic_x , italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ∼ caligraphic_D start_POSTSUBSCRIPT PL end_POSTSUBSCRIPT end_POSTSUBSCRIPT caligraphic_L start_POSTSUBSCRIPT CE end_POSTSUBSCRIPT ( over^ start_ARG italic_p end_ARG start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) , italic_p start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p2.9">where <math alttext="\mathcal{L}_{\text{CE}}(\cdot,\cdot)" class="ltx_Math" display="inline" id="S3.SS3.p2.8.m1.2"><semantics id="S3.SS3.p2.8.m1.2a"><mrow id="S3.SS3.p2.8.m1.2.3" xref="S3.SS3.p2.8.m1.2.3.cmml"><msub id="S3.SS3.p2.8.m1.2.3.2" xref="S3.SS3.p2.8.m1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p2.8.m1.2.3.2.2" xref="S3.SS3.p2.8.m1.2.3.2.2.cmml">ℒ</mi><mtext id="S3.SS3.p2.8.m1.2.3.2.3" xref="S3.SS3.p2.8.m1.2.3.2.3a.cmml">CE</mtext></msub><mo id="S3.SS3.p2.8.m1.2.3.1" xref="S3.SS3.p2.8.m1.2.3.1.cmml">⁢</mo><mrow id="S3.SS3.p2.8.m1.2.3.3.2" xref="S3.SS3.p2.8.m1.2.3.3.1.cmml"><mo id="S3.SS3.p2.8.m1.2.3.3.2.1" stretchy="false" xref="S3.SS3.p2.8.m1.2.3.3.1.cmml">(</mo><mo id="S3.SS3.p2.8.m1.1.1" lspace="0em" rspace="0em" xref="S3.SS3.p2.8.m1.1.1.cmml">⋅</mo><mo id="S3.SS3.p2.8.m1.2.3.3.2.2" rspace="0em" xref="S3.SS3.p2.8.m1.2.3.3.1.cmml">,</mo><mo id="S3.SS3.p2.8.m1.2.2" lspace="0em" rspace="0em" xref="S3.SS3.p2.8.m1.2.2.cmml">⋅</mo><mo id="S3.SS3.p2.8.m1.2.3.3.2.3" stretchy="false" xref="S3.SS3.p2.8.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.8.m1.2b"><apply id="S3.SS3.p2.8.m1.2.3.cmml" xref="S3.SS3.p2.8.m1.2.3"><times id="S3.SS3.p2.8.m1.2.3.1.cmml" xref="S3.SS3.p2.8.m1.2.3.1"></times><apply id="S3.SS3.p2.8.m1.2.3.2.cmml" xref="S3.SS3.p2.8.m1.2.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.8.m1.2.3.2.1.cmml" xref="S3.SS3.p2.8.m1.2.3.2">subscript</csymbol><ci id="S3.SS3.p2.8.m1.2.3.2.2.cmml" xref="S3.SS3.p2.8.m1.2.3.2.2">ℒ</ci><ci id="S3.SS3.p2.8.m1.2.3.2.3a.cmml" xref="S3.SS3.p2.8.m1.2.3.2.3"><mtext id="S3.SS3.p2.8.m1.2.3.2.3.cmml" mathsize="70%" xref="S3.SS3.p2.8.m1.2.3.2.3">CE</mtext></ci></apply><interval closure="open" id="S3.SS3.p2.8.m1.2.3.3.1.cmml" xref="S3.SS3.p2.8.m1.2.3.3.2"><ci id="S3.SS3.p2.8.m1.1.1.cmml" xref="S3.SS3.p2.8.m1.1.1">⋅</ci><ci id="S3.SS3.p2.8.m1.2.2.cmml" xref="S3.SS3.p2.8.m1.2.2">⋅</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.8.m1.2c">\mathcal{L}_{\text{CE}}(\cdot,\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.8.m1.2d">caligraphic_L start_POSTSUBSCRIPT CE end_POSTSUBSCRIPT ( ⋅ , ⋅ )</annotation></semantics></math> is the cross entropy loss and the target is updated to <math alttext="p(y_{w}\succ y_{l}\mid x)=1-\epsilon" class="ltx_Math" display="inline" id="S3.SS3.p2.9.m2.1"><semantics id="S3.SS3.p2.9.m2.1a"><mrow id="S3.SS3.p2.9.m2.1.1" xref="S3.SS3.p2.9.m2.1.1.cmml"><mrow id="S3.SS3.p2.9.m2.1.1.1" xref="S3.SS3.p2.9.m2.1.1.1.cmml"><mi id="S3.SS3.p2.9.m2.1.1.1.3" xref="S3.SS3.p2.9.m2.1.1.1.3.cmml">p</mi><mo id="S3.SS3.p2.9.m2.1.1.1.2" xref="S3.SS3.p2.9.m2.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p2.9.m2.1.1.1.1.1" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p2.9.m2.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p2.9.m2.1.1.1.1.1.1" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.cmml"><msub id="S3.SS3.p2.9.m2.1.1.1.1.1.1.2" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.2" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.3" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p2.9.m2.1.1.1.1.1.1.1" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.cmml"><msub id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.cmml"><mi id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.2" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.3" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.1" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.3" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.SS3.p2.9.m2.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p2.9.m2.1.1.2" xref="S3.SS3.p2.9.m2.1.1.2.cmml">=</mo><mrow id="S3.SS3.p2.9.m2.1.1.3" xref="S3.SS3.p2.9.m2.1.1.3.cmml"><mn id="S3.SS3.p2.9.m2.1.1.3.2" xref="S3.SS3.p2.9.m2.1.1.3.2.cmml">1</mn><mo id="S3.SS3.p2.9.m2.1.1.3.1" xref="S3.SS3.p2.9.m2.1.1.3.1.cmml">−</mo><mi id="S3.SS3.p2.9.m2.1.1.3.3" xref="S3.SS3.p2.9.m2.1.1.3.3.cmml">ϵ</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.9.m2.1b"><apply id="S3.SS3.p2.9.m2.1.1.cmml" xref="S3.SS3.p2.9.m2.1.1"><eq id="S3.SS3.p2.9.m2.1.1.2.cmml" xref="S3.SS3.p2.9.m2.1.1.2"></eq><apply id="S3.SS3.p2.9.m2.1.1.1.cmml" xref="S3.SS3.p2.9.m2.1.1.1"><times id="S3.SS3.p2.9.m2.1.1.1.2.cmml" xref="S3.SS3.p2.9.m2.1.1.1.2"></times><ci id="S3.SS3.p2.9.m2.1.1.1.3.cmml" xref="S3.SS3.p2.9.m2.1.1.1.3">𝑝</ci><apply id="S3.SS3.p2.9.m2.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p2.9.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p2.9.m2.1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply><apply id="S3.SS3.p2.9.m2.1.1.3.cmml" xref="S3.SS3.p2.9.m2.1.1.3"><minus id="S3.SS3.p2.9.m2.1.1.3.1.cmml" xref="S3.SS3.p2.9.m2.1.1.3.1"></minus><cn id="S3.SS3.p2.9.m2.1.1.3.2.cmml" type="integer" xref="S3.SS3.p2.9.m2.1.1.3.2">1</cn><ci id="S3.SS3.p2.9.m2.1.1.3.3.cmml" xref="S3.SS3.p2.9.m2.1.1.3.3">italic-ϵ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.9.m2.1c">p(y_{w}\succ y_{l}\mid x)=1-\epsilon</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p2.9.m2.1d">italic_p ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) = 1 - italic_ϵ</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS3.p3">
<p class="ltx_p" id="S3.SS3.p3.5">Furthermore, we argue that using a static hyperparameter <math alttext="\epsilon" class="ltx_Math" display="inline" id="S3.SS3.p3.1.m1.1"><semantics id="S3.SS3.p3.1.m1.1a"><mi id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><ci id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.1.m1.1d">italic_ϵ</annotation></semantics></math> is inadequate for dynamically adjusting based on the difficulty of each case.
For instance, “Before Sunrise” is more perplexing as a rejected response than “Toy Story” for a user with a history of enjoying romantic movies, while “Before Sunrise” is less confusing as a rejected response than “Toy Story” for a child who loves animated films.
Therefore, we propose predicting personalized label uncertainty, denoted as <math alttext="\epsilon_{\phi}" class="ltx_Math" display="inline" id="S3.SS3.p3.2.m2.1"><semantics id="S3.SS3.p3.2.m2.1a"><msub id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml"><mi id="S3.SS3.p3.2.m2.1.1.2" xref="S3.SS3.p3.2.m2.1.1.2.cmml">ϵ</mi><mi id="S3.SS3.p3.2.m2.1.1.3" xref="S3.SS3.p3.2.m2.1.1.3.cmml">ϕ</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><apply id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.1.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p3.2.m2.1.1.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2">italic-ϵ</ci><ci id="S3.SS3.p3.2.m2.1.1.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3">italic-ϕ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">\epsilon_{\phi}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.2.m2.1d">italic_ϵ start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT</annotation></semantics></math>, for each data point (as illustrated on the right side of Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S1.F3" title="Figure 3 ‣ 1. Introduction ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a>).
This process utilizes a preference oracle, <math alttext="\phi" class="ltx_Math" display="inline" id="S3.SS3.p3.3.m3.1"><semantics id="S3.SS3.p3.3.m3.1a"><mi id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.1b"><ci id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.1c">\phi</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.3.m3.1d">italic_ϕ</annotation></semantics></math>, which is capable of predicting the probability of user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS3.p3.4.m4.1"><semantics id="S3.SS3.p3.4.m4.1a"><mi id="S3.SS3.p3.4.m4.1.1" xref="S3.SS3.p3.4.m4.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m4.1b"><ci id="S3.SS3.p3.4.m4.1.1.cmml" xref="S3.SS3.p3.4.m4.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m4.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.4.m4.1d">italic_u</annotation></semantics></math> interacting with an item <math alttext="i_{k}" class="ltx_Math" display="inline" id="S3.SS3.p3.5.m5.1"><semantics id="S3.SS3.p3.5.m5.1a"><msub id="S3.SS3.p3.5.m5.1.1" xref="S3.SS3.p3.5.m5.1.1.cmml"><mi id="S3.SS3.p3.5.m5.1.1.2" xref="S3.SS3.p3.5.m5.1.1.2.cmml">i</mi><mi id="S3.SS3.p3.5.m5.1.1.3" xref="S3.SS3.p3.5.m5.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.5.m5.1b"><apply id="S3.SS3.p3.5.m5.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.5.m5.1.1.1.cmml" xref="S3.SS3.p3.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p3.5.m5.1.1.2.cmml" xref="S3.SS3.p3.5.m5.1.1.2">𝑖</ci><ci id="S3.SS3.p3.5.m5.1.1.3.cmml" xref="S3.SS3.p3.5.m5.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.5.m5.1c">i_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p3.5.m5.1d">italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> next, based on the user’s historical sequence.</p>
</div>
<div class="ltx_para" id="S3.SS3.p4">
<p class="ltx_p" id="S3.SS3.p4.7">Specifically, we represent the probability predictions of <math alttext="\phi" class="ltx_Math" display="inline" id="S3.SS3.p4.1.m1.1"><semantics id="S3.SS3.p4.1.m1.1a"><mi id="S3.SS3.p4.1.m1.1.1" xref="S3.SS3.p4.1.m1.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.1.m1.1b"><ci id="S3.SS3.p4.1.m1.1.1.cmml" xref="S3.SS3.p4.1.m1.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.1.m1.1c">\phi</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.1.m1.1d">italic_ϕ</annotation></semantics></math> for <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.SS3.p4.2.m2.1"><semantics id="S3.SS3.p4.2.m2.1a"><msub id="S3.SS3.p4.2.m2.1.1" xref="S3.SS3.p4.2.m2.1.1.cmml"><mi id="S3.SS3.p4.2.m2.1.1.2" xref="S3.SS3.p4.2.m2.1.1.2.cmml">y</mi><mi id="S3.SS3.p4.2.m2.1.1.3" xref="S3.SS3.p4.2.m2.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.2.m2.1b"><apply id="S3.SS3.p4.2.m2.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.2.m2.1.1.1.cmml" xref="S3.SS3.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS3.p4.2.m2.1.1.2.cmml" xref="S3.SS3.p4.2.m2.1.1.2">𝑦</ci><ci id="S3.SS3.p4.2.m2.1.1.3.cmml" xref="S3.SS3.p4.2.m2.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.2.m2.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.2.m2.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="y_{l}" class="ltx_Math" display="inline" id="S3.SS3.p4.3.m3.1"><semantics id="S3.SS3.p4.3.m3.1a"><msub id="S3.SS3.p4.3.m3.1.1" xref="S3.SS3.p4.3.m3.1.1.cmml"><mi id="S3.SS3.p4.3.m3.1.1.2" xref="S3.SS3.p4.3.m3.1.1.2.cmml">y</mi><mi id="S3.SS3.p4.3.m3.1.1.3" xref="S3.SS3.p4.3.m3.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.3.m3.1b"><apply id="S3.SS3.p4.3.m3.1.1.cmml" xref="S3.SS3.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.3.m3.1.1.1.cmml" xref="S3.SS3.p4.3.m3.1.1">subscript</csymbol><ci id="S3.SS3.p4.3.m3.1.1.2.cmml" xref="S3.SS3.p4.3.m3.1.1.2">𝑦</ci><ci id="S3.SS3.p4.3.m3.1.1.3.cmml" xref="S3.SS3.p4.3.m3.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.3.m3.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.3.m3.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> as <math alttext="s_{w}" class="ltx_Math" display="inline" id="S3.SS3.p4.4.m4.1"><semantics id="S3.SS3.p4.4.m4.1a"><msub id="S3.SS3.p4.4.m4.1.1" xref="S3.SS3.p4.4.m4.1.1.cmml"><mi id="S3.SS3.p4.4.m4.1.1.2" xref="S3.SS3.p4.4.m4.1.1.2.cmml">s</mi><mi id="S3.SS3.p4.4.m4.1.1.3" xref="S3.SS3.p4.4.m4.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.4.m4.1b"><apply id="S3.SS3.p4.4.m4.1.1.cmml" xref="S3.SS3.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.4.m4.1.1.1.cmml" xref="S3.SS3.p4.4.m4.1.1">subscript</csymbol><ci id="S3.SS3.p4.4.m4.1.1.2.cmml" xref="S3.SS3.p4.4.m4.1.1.2">𝑠</ci><ci id="S3.SS3.p4.4.m4.1.1.3.cmml" xref="S3.SS3.p4.4.m4.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.4.m4.1c">s_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.4.m4.1d">italic_s start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="s_{l}" class="ltx_Math" display="inline" id="S3.SS3.p4.5.m5.1"><semantics id="S3.SS3.p4.5.m5.1a"><msub id="S3.SS3.p4.5.m5.1.1" xref="S3.SS3.p4.5.m5.1.1.cmml"><mi id="S3.SS3.p4.5.m5.1.1.2" xref="S3.SS3.p4.5.m5.1.1.2.cmml">s</mi><mi id="S3.SS3.p4.5.m5.1.1.3" xref="S3.SS3.p4.5.m5.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.5.m5.1b"><apply id="S3.SS3.p4.5.m5.1.1.cmml" xref="S3.SS3.p4.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.5.m5.1.1.1.cmml" xref="S3.SS3.p4.5.m5.1.1">subscript</csymbol><ci id="S3.SS3.p4.5.m5.1.1.2.cmml" xref="S3.SS3.p4.5.m5.1.1.2">𝑠</ci><ci id="S3.SS3.p4.5.m5.1.1.3.cmml" xref="S3.SS3.p4.5.m5.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.5.m5.1c">s_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.5.m5.1d">italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>, respectively.
Following Bradley-Terry model <cite class="ltx_cite ltx_citemacro_citep">(Bradley and Terry, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib9" title="">1952</a>)</cite>, we establish: <math alttext="p(y_{w}\succ y_{l}\mid x)=\frac{e^{s_{w}}}{e^{s_{w}}+e^{s_{l}}}" class="ltx_Math" display="inline" id="S3.SS3.p4.6.m6.1"><semantics id="S3.SS3.p4.6.m6.1a"><mrow id="S3.SS3.p4.6.m6.1.1" xref="S3.SS3.p4.6.m6.1.1.cmml"><mrow id="S3.SS3.p4.6.m6.1.1.1" xref="S3.SS3.p4.6.m6.1.1.1.cmml"><mi id="S3.SS3.p4.6.m6.1.1.1.3" xref="S3.SS3.p4.6.m6.1.1.1.3.cmml">p</mi><mo id="S3.SS3.p4.6.m6.1.1.1.2" xref="S3.SS3.p4.6.m6.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p4.6.m6.1.1.1.1.1" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p4.6.m6.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p4.6.m6.1.1.1.1.1.1" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.cmml"><msub id="S3.SS3.p4.6.m6.1.1.1.1.1.1.2" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.2" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.3" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p4.6.m6.1.1.1.1.1.1.1" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.cmml"><msub id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.cmml"><mi id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.2" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.3" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.1" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.3" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.SS3.p4.6.m6.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p4.6.m6.1.1.2" xref="S3.SS3.p4.6.m6.1.1.2.cmml">=</mo><mfrac id="S3.SS3.p4.6.m6.1.1.3" xref="S3.SS3.p4.6.m6.1.1.3.cmml"><msup id="S3.SS3.p4.6.m6.1.1.3.2" xref="S3.SS3.p4.6.m6.1.1.3.2.cmml"><mi id="S3.SS3.p4.6.m6.1.1.3.2.2" xref="S3.SS3.p4.6.m6.1.1.3.2.2.cmml">e</mi><msub id="S3.SS3.p4.6.m6.1.1.3.2.3" xref="S3.SS3.p4.6.m6.1.1.3.2.3.cmml"><mi id="S3.SS3.p4.6.m6.1.1.3.2.3.2" xref="S3.SS3.p4.6.m6.1.1.3.2.3.2.cmml">s</mi><mi id="S3.SS3.p4.6.m6.1.1.3.2.3.3" xref="S3.SS3.p4.6.m6.1.1.3.2.3.3.cmml">w</mi></msub></msup><mrow id="S3.SS3.p4.6.m6.1.1.3.3" xref="S3.SS3.p4.6.m6.1.1.3.3.cmml"><msup id="S3.SS3.p4.6.m6.1.1.3.3.2" xref="S3.SS3.p4.6.m6.1.1.3.3.2.cmml"><mi id="S3.SS3.p4.6.m6.1.1.3.3.2.2" xref="S3.SS3.p4.6.m6.1.1.3.3.2.2.cmml">e</mi><msub id="S3.SS3.p4.6.m6.1.1.3.3.2.3" xref="S3.SS3.p4.6.m6.1.1.3.3.2.3.cmml"><mi id="S3.SS3.p4.6.m6.1.1.3.3.2.3.2" xref="S3.SS3.p4.6.m6.1.1.3.3.2.3.2.cmml">s</mi><mi id="S3.SS3.p4.6.m6.1.1.3.3.2.3.3" xref="S3.SS3.p4.6.m6.1.1.3.3.2.3.3.cmml">w</mi></msub></msup><mo id="S3.SS3.p4.6.m6.1.1.3.3.1" xref="S3.SS3.p4.6.m6.1.1.3.3.1.cmml">+</mo><msup id="S3.SS3.p4.6.m6.1.1.3.3.3" xref="S3.SS3.p4.6.m6.1.1.3.3.3.cmml"><mi id="S3.SS3.p4.6.m6.1.1.3.3.3.2" xref="S3.SS3.p4.6.m6.1.1.3.3.3.2.cmml">e</mi><msub id="S3.SS3.p4.6.m6.1.1.3.3.3.3" xref="S3.SS3.p4.6.m6.1.1.3.3.3.3.cmml"><mi id="S3.SS3.p4.6.m6.1.1.3.3.3.3.2" xref="S3.SS3.p4.6.m6.1.1.3.3.3.3.2.cmml">s</mi><mi id="S3.SS3.p4.6.m6.1.1.3.3.3.3.3" xref="S3.SS3.p4.6.m6.1.1.3.3.3.3.3.cmml">l</mi></msub></msup></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.6.m6.1b"><apply id="S3.SS3.p4.6.m6.1.1.cmml" xref="S3.SS3.p4.6.m6.1.1"><eq id="S3.SS3.p4.6.m6.1.1.2.cmml" xref="S3.SS3.p4.6.m6.1.1.2"></eq><apply id="S3.SS3.p4.6.m6.1.1.1.cmml" xref="S3.SS3.p4.6.m6.1.1.1"><times id="S3.SS3.p4.6.m6.1.1.1.2.cmml" xref="S3.SS3.p4.6.m6.1.1.1.2"></times><ci id="S3.SS3.p4.6.m6.1.1.1.3.cmml" xref="S3.SS3.p4.6.m6.1.1.1.3">𝑝</ci><apply id="S3.SS3.p4.6.m6.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p4.6.m6.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p4.6.m6.1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply><apply id="S3.SS3.p4.6.m6.1.1.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3"><divide id="S3.SS3.p4.6.m6.1.1.3.1.cmml" xref="S3.SS3.p4.6.m6.1.1.3"></divide><apply id="S3.SS3.p4.6.m6.1.1.3.2.cmml" xref="S3.SS3.p4.6.m6.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.3.2.1.cmml" xref="S3.SS3.p4.6.m6.1.1.3.2">superscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.3.2.2.cmml" xref="S3.SS3.p4.6.m6.1.1.3.2.2">𝑒</ci><apply id="S3.SS3.p4.6.m6.1.1.3.2.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.3.2.3.1.cmml" xref="S3.SS3.p4.6.m6.1.1.3.2.3">subscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.3.2.3.2.cmml" xref="S3.SS3.p4.6.m6.1.1.3.2.3.2">𝑠</ci><ci id="S3.SS3.p4.6.m6.1.1.3.2.3.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3.2.3.3">𝑤</ci></apply></apply><apply id="S3.SS3.p4.6.m6.1.1.3.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3"><plus id="S3.SS3.p4.6.m6.1.1.3.3.1.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.1"></plus><apply id="S3.SS3.p4.6.m6.1.1.3.3.2.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.3.3.2.1.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.2">superscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.3.3.2.2.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.2.2">𝑒</ci><apply id="S3.SS3.p4.6.m6.1.1.3.3.2.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.3.3.2.3.1.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.2.3">subscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.3.3.2.3.2.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.2.3.2">𝑠</ci><ci id="S3.SS3.p4.6.m6.1.1.3.3.2.3.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.2.3.3">𝑤</ci></apply></apply><apply id="S3.SS3.p4.6.m6.1.1.3.3.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.3.3.3.1.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.3">superscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.3.3.3.2.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.3.2">𝑒</ci><apply id="S3.SS3.p4.6.m6.1.1.3.3.3.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p4.6.m6.1.1.3.3.3.3.1.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.3.3">subscript</csymbol><ci id="S3.SS3.p4.6.m6.1.1.3.3.3.3.2.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.3.3.2">𝑠</ci><ci id="S3.SS3.p4.6.m6.1.1.3.3.3.3.3.cmml" xref="S3.SS3.p4.6.m6.1.1.3.3.3.3.3">𝑙</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.6.m6.1c">p(y_{w}\succ y_{l}\mid x)=\frac{e^{s_{w}}}{e^{s_{w}}+e^{s_{l}}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.6.m6.1d">italic_p ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) = divide start_ARG italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT end_POSTSUPERSCRIPT end_ARG start_ARG italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT end_POSTSUPERSCRIPT + italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT end_ARG</annotation></semantics></math> and <math alttext="p(y_{w}\prec y_{l}\mid x)=\frac{e^{s_{l}}}{e^{s_{w}}+e^{s_{l}}}" class="ltx_Math" display="inline" id="S3.SS3.p4.7.m7.1"><semantics id="S3.SS3.p4.7.m7.1a"><mrow id="S3.SS3.p4.7.m7.1.1" xref="S3.SS3.p4.7.m7.1.1.cmml"><mrow id="S3.SS3.p4.7.m7.1.1.1" xref="S3.SS3.p4.7.m7.1.1.1.cmml"><mi id="S3.SS3.p4.7.m7.1.1.1.3" xref="S3.SS3.p4.7.m7.1.1.1.3.cmml">p</mi><mo id="S3.SS3.p4.7.m7.1.1.1.2" xref="S3.SS3.p4.7.m7.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p4.7.m7.1.1.1.1.1" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p4.7.m7.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p4.7.m7.1.1.1.1.1.1" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.cmml"><msub id="S3.SS3.p4.7.m7.1.1.1.1.1.1.2" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.2" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.3" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p4.7.m7.1.1.1.1.1.1.1" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.1.cmml">≺</mo><mrow id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.cmml"><msub id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.cmml"><mi id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.2" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.3" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.1" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.3" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.SS3.p4.7.m7.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p4.7.m7.1.1.2" xref="S3.SS3.p4.7.m7.1.1.2.cmml">=</mo><mfrac id="S3.SS3.p4.7.m7.1.1.3" xref="S3.SS3.p4.7.m7.1.1.3.cmml"><msup id="S3.SS3.p4.7.m7.1.1.3.2" xref="S3.SS3.p4.7.m7.1.1.3.2.cmml"><mi id="S3.SS3.p4.7.m7.1.1.3.2.2" xref="S3.SS3.p4.7.m7.1.1.3.2.2.cmml">e</mi><msub id="S3.SS3.p4.7.m7.1.1.3.2.3" xref="S3.SS3.p4.7.m7.1.1.3.2.3.cmml"><mi id="S3.SS3.p4.7.m7.1.1.3.2.3.2" xref="S3.SS3.p4.7.m7.1.1.3.2.3.2.cmml">s</mi><mi id="S3.SS3.p4.7.m7.1.1.3.2.3.3" xref="S3.SS3.p4.7.m7.1.1.3.2.3.3.cmml">l</mi></msub></msup><mrow id="S3.SS3.p4.7.m7.1.1.3.3" xref="S3.SS3.p4.7.m7.1.1.3.3.cmml"><msup id="S3.SS3.p4.7.m7.1.1.3.3.2" xref="S3.SS3.p4.7.m7.1.1.3.3.2.cmml"><mi id="S3.SS3.p4.7.m7.1.1.3.3.2.2" xref="S3.SS3.p4.7.m7.1.1.3.3.2.2.cmml">e</mi><msub id="S3.SS3.p4.7.m7.1.1.3.3.2.3" xref="S3.SS3.p4.7.m7.1.1.3.3.2.3.cmml"><mi id="S3.SS3.p4.7.m7.1.1.3.3.2.3.2" xref="S3.SS3.p4.7.m7.1.1.3.3.2.3.2.cmml">s</mi><mi id="S3.SS3.p4.7.m7.1.1.3.3.2.3.3" xref="S3.SS3.p4.7.m7.1.1.3.3.2.3.3.cmml">w</mi></msub></msup><mo id="S3.SS3.p4.7.m7.1.1.3.3.1" xref="S3.SS3.p4.7.m7.1.1.3.3.1.cmml">+</mo><msup id="S3.SS3.p4.7.m7.1.1.3.3.3" xref="S3.SS3.p4.7.m7.1.1.3.3.3.cmml"><mi id="S3.SS3.p4.7.m7.1.1.3.3.3.2" xref="S3.SS3.p4.7.m7.1.1.3.3.3.2.cmml">e</mi><msub id="S3.SS3.p4.7.m7.1.1.3.3.3.3" xref="S3.SS3.p4.7.m7.1.1.3.3.3.3.cmml"><mi id="S3.SS3.p4.7.m7.1.1.3.3.3.3.2" xref="S3.SS3.p4.7.m7.1.1.3.3.3.3.2.cmml">s</mi><mi id="S3.SS3.p4.7.m7.1.1.3.3.3.3.3" xref="S3.SS3.p4.7.m7.1.1.3.3.3.3.3.cmml">l</mi></msub></msup></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.7.m7.1b"><apply id="S3.SS3.p4.7.m7.1.1.cmml" xref="S3.SS3.p4.7.m7.1.1"><eq id="S3.SS3.p4.7.m7.1.1.2.cmml" xref="S3.SS3.p4.7.m7.1.1.2"></eq><apply id="S3.SS3.p4.7.m7.1.1.1.cmml" xref="S3.SS3.p4.7.m7.1.1.1"><times id="S3.SS3.p4.7.m7.1.1.1.2.cmml" xref="S3.SS3.p4.7.m7.1.1.1.2"></times><ci id="S3.SS3.p4.7.m7.1.1.1.3.cmml" xref="S3.SS3.p4.7.m7.1.1.1.3">𝑝</ci><apply id="S3.SS3.p4.7.m7.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p4.7.m7.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.1">precedes</csymbol><apply id="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p4.7.m7.1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply><apply id="S3.SS3.p4.7.m7.1.1.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3"><divide id="S3.SS3.p4.7.m7.1.1.3.1.cmml" xref="S3.SS3.p4.7.m7.1.1.3"></divide><apply id="S3.SS3.p4.7.m7.1.1.3.2.cmml" xref="S3.SS3.p4.7.m7.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m7.1.1.3.2.1.cmml" xref="S3.SS3.p4.7.m7.1.1.3.2">superscript</csymbol><ci id="S3.SS3.p4.7.m7.1.1.3.2.2.cmml" xref="S3.SS3.p4.7.m7.1.1.3.2.2">𝑒</ci><apply id="S3.SS3.p4.7.m7.1.1.3.2.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m7.1.1.3.2.3.1.cmml" xref="S3.SS3.p4.7.m7.1.1.3.2.3">subscript</csymbol><ci id="S3.SS3.p4.7.m7.1.1.3.2.3.2.cmml" xref="S3.SS3.p4.7.m7.1.1.3.2.3.2">𝑠</ci><ci id="S3.SS3.p4.7.m7.1.1.3.2.3.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3.2.3.3">𝑙</ci></apply></apply><apply id="S3.SS3.p4.7.m7.1.1.3.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3"><plus id="S3.SS3.p4.7.m7.1.1.3.3.1.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.1"></plus><apply id="S3.SS3.p4.7.m7.1.1.3.3.2.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.2"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m7.1.1.3.3.2.1.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.2">superscript</csymbol><ci id="S3.SS3.p4.7.m7.1.1.3.3.2.2.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.2.2">𝑒</ci><apply id="S3.SS3.p4.7.m7.1.1.3.3.2.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m7.1.1.3.3.2.3.1.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.2.3">subscript</csymbol><ci id="S3.SS3.p4.7.m7.1.1.3.3.2.3.2.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.2.3.2">𝑠</ci><ci id="S3.SS3.p4.7.m7.1.1.3.3.2.3.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.2.3.3">𝑤</ci></apply></apply><apply id="S3.SS3.p4.7.m7.1.1.3.3.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m7.1.1.3.3.3.1.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.3">superscript</csymbol><ci id="S3.SS3.p4.7.m7.1.1.3.3.3.2.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.3.2">𝑒</ci><apply id="S3.SS3.p4.7.m7.1.1.3.3.3.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.3.3"><csymbol cd="ambiguous" id="S3.SS3.p4.7.m7.1.1.3.3.3.3.1.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.3.3">subscript</csymbol><ci id="S3.SS3.p4.7.m7.1.1.3.3.3.3.2.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.3.3.2">𝑠</ci><ci id="S3.SS3.p4.7.m7.1.1.3.3.3.3.3.cmml" xref="S3.SS3.p4.7.m7.1.1.3.3.3.3.3">𝑙</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.7.m7.1c">p(y_{w}\prec y_{l}\mid x)=\frac{e^{s_{l}}}{e^{s_{w}}+e^{s_{l}}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.7.m7.1d">italic_p ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≺ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) = divide start_ARG italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT end_ARG start_ARG italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT end_POSTSUPERSCRIPT + italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT end_ARG</annotation></semantics></math>.
Then, the personalized label uncertainty is defined as:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\epsilon_{\phi}=\frac{e^{s_{l}}}{(e^{s_{w}}+e^{s_{l}})}," class="ltx_Math" display="block" id="S3.E6.m1.2"><semantics id="S3.E6.m1.2a"><mrow id="S3.E6.m1.2.2.1" xref="S3.E6.m1.2.2.1.1.cmml"><mrow id="S3.E6.m1.2.2.1.1" xref="S3.E6.m1.2.2.1.1.cmml"><msub id="S3.E6.m1.2.2.1.1.2" xref="S3.E6.m1.2.2.1.1.2.cmml"><mi id="S3.E6.m1.2.2.1.1.2.2" xref="S3.E6.m1.2.2.1.1.2.2.cmml">ϵ</mi><mi id="S3.E6.m1.2.2.1.1.2.3" xref="S3.E6.m1.2.2.1.1.2.3.cmml">ϕ</mi></msub><mo id="S3.E6.m1.2.2.1.1.1" xref="S3.E6.m1.2.2.1.1.1.cmml">=</mo><mfrac id="S3.E6.m1.1.1" xref="S3.E6.m1.1.1.cmml"><msup id="S3.E6.m1.1.1.3" xref="S3.E6.m1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.3.2" xref="S3.E6.m1.1.1.3.2.cmml">e</mi><msub id="S3.E6.m1.1.1.3.3" xref="S3.E6.m1.1.1.3.3.cmml"><mi id="S3.E6.m1.1.1.3.3.2" xref="S3.E6.m1.1.1.3.3.2.cmml">s</mi><mi id="S3.E6.m1.1.1.3.3.3" xref="S3.E6.m1.1.1.3.3.3.cmml">l</mi></msub></msup><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml"><mo id="S3.E6.m1.1.1.1.1.2" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.cmml"><msup id="S3.E6.m1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.1.2.2.cmml">e</mi><msub id="S3.E6.m1.1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.2.3.2" xref="S3.E6.m1.1.1.1.1.1.2.3.2.cmml">s</mi><mi id="S3.E6.m1.1.1.1.1.1.2.3.3" xref="S3.E6.m1.1.1.1.1.1.2.3.3.cmml">w</mi></msub></msup><mo id="S3.E6.m1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.cmml">+</mo><msup id="S3.E6.m1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.1.3.2.cmml">e</mi><msub id="S3.E6.m1.1.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.1.3.3.cmml"><mi id="S3.E6.m1.1.1.1.1.1.3.3.2" xref="S3.E6.m1.1.1.1.1.1.3.3.2.cmml">s</mi><mi id="S3.E6.m1.1.1.1.1.1.3.3.3" xref="S3.E6.m1.1.1.1.1.1.3.3.3.cmml">l</mi></msub></msup></mrow><mo id="S3.E6.m1.1.1.1.1.3" stretchy="false" xref="S3.E6.m1.1.1.1.1.1.cmml">)</mo></mrow></mfrac></mrow><mo id="S3.E6.m1.2.2.1.2" xref="S3.E6.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.2b"><apply id="S3.E6.m1.2.2.1.1.cmml" xref="S3.E6.m1.2.2.1"><eq id="S3.E6.m1.2.2.1.1.1.cmml" xref="S3.E6.m1.2.2.1.1.1"></eq><apply id="S3.E6.m1.2.2.1.1.2.cmml" xref="S3.E6.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.1.1.2.1.cmml" xref="S3.E6.m1.2.2.1.1.2">subscript</csymbol><ci id="S3.E6.m1.2.2.1.1.2.2.cmml" xref="S3.E6.m1.2.2.1.1.2.2">italic-ϵ</ci><ci id="S3.E6.m1.2.2.1.1.2.3.cmml" xref="S3.E6.m1.2.2.1.1.2.3">italic-ϕ</ci></apply><apply id="S3.E6.m1.1.1.cmml" xref="S3.E6.m1.1.1"><divide id="S3.E6.m1.1.1.2.cmml" xref="S3.E6.m1.1.1"></divide><apply id="S3.E6.m1.1.1.3.cmml" xref="S3.E6.m1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.3.2">𝑒</ci><apply id="S3.E6.m1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.3.3">subscript</csymbol><ci id="S3.E6.m1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.3.3.2">𝑠</ci><ci id="S3.E6.m1.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.3.3.3">𝑙</ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1"><plus id="S3.E6.m1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1"></plus><apply id="S3.E6.m1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.1.2.2">𝑒</ci><apply id="S3.E6.m1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.2.3.2">𝑠</ci><ci id="S3.E6.m1.1.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.2.3.3">𝑤</ci></apply></apply><apply id="S3.E6.m1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.2">𝑒</ci><apply id="S3.E6.m1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.2">𝑠</ci><ci id="S3.E6.m1.1.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.1.1.1.1.1.3.3.3">𝑙</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.2c">\epsilon_{\phi}=\frac{e^{s_{l}}}{(e^{s_{w}}+e^{s_{l}})},</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.2d">italic_ϵ start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT = divide start_ARG italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT end_ARG start_ARG ( italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT end_POSTSUPERSCRIPT + italic_e start_POSTSUPERSCRIPT italic_s start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUPERSCRIPT ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS3.p4.11">representing the probability of label flipping (<em class="ltx_emph ltx_font_italic" id="S3.SS3.p4.11.1">i.e., </em><math alttext="y_{l}" class="ltx_Math" display="inline" id="S3.SS3.p4.8.m1.1"><semantics id="S3.SS3.p4.8.m1.1a"><msub id="S3.SS3.p4.8.m1.1.1" xref="S3.SS3.p4.8.m1.1.1.cmml"><mi id="S3.SS3.p4.8.m1.1.1.2" xref="S3.SS3.p4.8.m1.1.1.2.cmml">y</mi><mi id="S3.SS3.p4.8.m1.1.1.3" xref="S3.SS3.p4.8.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.8.m1.1b"><apply id="S3.SS3.p4.8.m1.1.1.cmml" xref="S3.SS3.p4.8.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.8.m1.1.1.1.cmml" xref="S3.SS3.p4.8.m1.1.1">subscript</csymbol><ci id="S3.SS3.p4.8.m1.1.1.2.cmml" xref="S3.SS3.p4.8.m1.1.1.2">𝑦</ci><ci id="S3.SS3.p4.8.m1.1.1.3.cmml" xref="S3.SS3.p4.8.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.8.m1.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.8.m1.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> winning <math alttext="y_{w}" class="ltx_Math" display="inline" id="S3.SS3.p4.9.m2.1"><semantics id="S3.SS3.p4.9.m2.1a"><msub id="S3.SS3.p4.9.m2.1.1" xref="S3.SS3.p4.9.m2.1.1.cmml"><mi id="S3.SS3.p4.9.m2.1.1.2" xref="S3.SS3.p4.9.m2.1.1.2.cmml">y</mi><mi id="S3.SS3.p4.9.m2.1.1.3" xref="S3.SS3.p4.9.m2.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.9.m2.1b"><apply id="S3.SS3.p4.9.m2.1.1.cmml" xref="S3.SS3.p4.9.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p4.9.m2.1.1.1.cmml" xref="S3.SS3.p4.9.m2.1.1">subscript</csymbol><ci id="S3.SS3.p4.9.m2.1.1.2.cmml" xref="S3.SS3.p4.9.m2.1.1.2">𝑦</ci><ci id="S3.SS3.p4.9.m2.1.1.3.cmml" xref="S3.SS3.p4.9.m2.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.9.m2.1c">y_{w}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.9.m2.1d">italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math>).
And we adopt <math alttext="p(y_{w}\succ y_{l}\mid x)=1-\epsilon_{\phi}" class="ltx_Math" display="inline" id="S3.SS3.p4.10.m3.1"><semantics id="S3.SS3.p4.10.m3.1a"><mrow id="S3.SS3.p4.10.m3.1.1" xref="S3.SS3.p4.10.m3.1.1.cmml"><mrow id="S3.SS3.p4.10.m3.1.1.1" xref="S3.SS3.p4.10.m3.1.1.1.cmml"><mi id="S3.SS3.p4.10.m3.1.1.1.3" xref="S3.SS3.p4.10.m3.1.1.1.3.cmml">p</mi><mo id="S3.SS3.p4.10.m3.1.1.1.2" xref="S3.SS3.p4.10.m3.1.1.1.2.cmml">⁢</mo><mrow id="S3.SS3.p4.10.m3.1.1.1.1.1" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.cmml"><mo id="S3.SS3.p4.10.m3.1.1.1.1.1.2" stretchy="false" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS3.p4.10.m3.1.1.1.1.1.1" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.cmml"><msub id="S3.SS3.p4.10.m3.1.1.1.1.1.1.2" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.cmml"><mi id="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.2" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.3" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo id="S3.SS3.p4.10.m3.1.1.1.1.1.1.1" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.1.cmml">≻</mo><mrow id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.cmml"><msub id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.cmml"><mi id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.2" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.2.cmml">y</mi><mi id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.3" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.3.cmml">l</mi></msub><mo id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.1" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.1.cmml">∣</mo><mi id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.3" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.3.cmml">x</mi></mrow></mrow><mo id="S3.SS3.p4.10.m3.1.1.1.1.1.3" stretchy="false" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS3.p4.10.m3.1.1.2" xref="S3.SS3.p4.10.m3.1.1.2.cmml">=</mo><mrow id="S3.SS3.p4.10.m3.1.1.3" xref="S3.SS3.p4.10.m3.1.1.3.cmml"><mn id="S3.SS3.p4.10.m3.1.1.3.2" xref="S3.SS3.p4.10.m3.1.1.3.2.cmml">1</mn><mo id="S3.SS3.p4.10.m3.1.1.3.1" xref="S3.SS3.p4.10.m3.1.1.3.1.cmml">−</mo><msub id="S3.SS3.p4.10.m3.1.1.3.3" xref="S3.SS3.p4.10.m3.1.1.3.3.cmml"><mi id="S3.SS3.p4.10.m3.1.1.3.3.2" xref="S3.SS3.p4.10.m3.1.1.3.3.2.cmml">ϵ</mi><mi id="S3.SS3.p4.10.m3.1.1.3.3.3" xref="S3.SS3.p4.10.m3.1.1.3.3.3.cmml">ϕ</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.10.m3.1b"><apply id="S3.SS3.p4.10.m3.1.1.cmml" xref="S3.SS3.p4.10.m3.1.1"><eq id="S3.SS3.p4.10.m3.1.1.2.cmml" xref="S3.SS3.p4.10.m3.1.1.2"></eq><apply id="S3.SS3.p4.10.m3.1.1.1.cmml" xref="S3.SS3.p4.10.m3.1.1.1"><times id="S3.SS3.p4.10.m3.1.1.1.2.cmml" xref="S3.SS3.p4.10.m3.1.1.1.2"></times><ci id="S3.SS3.p4.10.m3.1.1.1.3.cmml" xref="S3.SS3.p4.10.m3.1.1.1.3">𝑝</ci><apply id="S3.SS3.p4.10.m3.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1"><csymbol cd="latexml" id="S3.SS3.p4.10.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.1">succeeds</csymbol><apply id="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.1.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.2.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.3.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.2.3">𝑤</ci></apply><apply id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3"><csymbol cd="latexml" id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.1.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.1">conditional</csymbol><apply id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.1.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.2.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.2">𝑦</ci><ci id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.3.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.2.3">𝑙</ci></apply><ci id="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.3.cmml" xref="S3.SS3.p4.10.m3.1.1.1.1.1.1.3.3">𝑥</ci></apply></apply></apply><apply id="S3.SS3.p4.10.m3.1.1.3.cmml" xref="S3.SS3.p4.10.m3.1.1.3"><minus id="S3.SS3.p4.10.m3.1.1.3.1.cmml" xref="S3.SS3.p4.10.m3.1.1.3.1"></minus><cn id="S3.SS3.p4.10.m3.1.1.3.2.cmml" type="integer" xref="S3.SS3.p4.10.m3.1.1.3.2">1</cn><apply id="S3.SS3.p4.10.m3.1.1.3.3.cmml" xref="S3.SS3.p4.10.m3.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS3.p4.10.m3.1.1.3.3.1.cmml" xref="S3.SS3.p4.10.m3.1.1.3.3">subscript</csymbol><ci id="S3.SS3.p4.10.m3.1.1.3.3.2.cmml" xref="S3.SS3.p4.10.m3.1.1.3.3.2">italic-ϵ</ci><ci id="S3.SS3.p4.10.m3.1.1.3.3.3.cmml" xref="S3.SS3.p4.10.m3.1.1.3.3.3">italic-ϕ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.10.m3.1c">p(y_{w}\succ y_{l}\mid x)=1-\epsilon_{\phi}</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.10.m3.1d">italic_p ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ≻ italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_x ) = 1 - italic_ϵ start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT</annotation></semantics></math> as the target in Equation (<a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S3.E5" title="In 3.3. Personalized Preference Optimization ‣ 3. Method: RosePO ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">5</span></a>) .
In practice, we utilize a light yet efficient recommendation model — SASRec <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib26" title="">2018</a>)</cite>, as the approximation for the preference oracle <math alttext="\phi" class="ltx_Math" display="inline" id="S3.SS3.p4.11.m4.1"><semantics id="S3.SS3.p4.11.m4.1a"><mi id="S3.SS3.p4.11.m4.1.1" xref="S3.SS3.p4.11.m4.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p4.11.m4.1b"><ci id="S3.SS3.p4.11.m4.1.1.cmml" xref="S3.SS3.p4.11.m4.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p4.11.m4.1c">\phi</annotation><annotation encoding="application/x-llamapun" id="S3.SS3.p4.11.m4.1d">italic_ϕ</annotation></semantics></math>.
This allows for personalized preference predictions tailored to each data point, dynamically adjusting the optimization to account for uncertainty in user preferences.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiments and Results</h2>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T1.2.1.1" style="font-size:90%;">Table 1</span>. </span><span class="ltx_text" id="S4.T1.3.2" style="font-size:90%;">Evaluation of helpfulness.</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T1.4" style="width:433.6pt;height:117.9pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-149.1pt,40.3pt) scale(0.592535217076492,0.592535217076492) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T1.4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.4.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T1.4.1.1.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="5" id="S4.T1.4.1.1.1.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.1.1.2.1">Movielens</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="5" id="S4.T1.4.1.1.1.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.1.1.3.1">Goodreads</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5" id="S4.T1.4.1.1.1.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.1.1.4.1">Steam</span></th>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r" id="S4.T1.4.1.2.2.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.1.1">Model</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.2.1">HR@1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.3.1">HR@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.4.1">N@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.5.1">HR@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T1.4.1.2.2.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.6.1">N@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.7.1">HR@1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.8" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.8.1">HR@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.9" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.9.1">N@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.10" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.10.1">HR@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T1.4.1.2.2.11" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.11.1">N@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.12" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.12.1">HR@1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.13" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.13.1">HR@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.14" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.14.1">N@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.15" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.15.1">HR@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T1.4.1.2.2.16" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.2.2.16.1">N@10</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.4.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T1.4.1.3.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.3.1.1.1">GRU4Rec</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.2767</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.6200</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.4614</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.7100</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.4.1.3.1.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.4902</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.4048</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.7852</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.6087</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9187</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T1.4.1.3.1.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.6523</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.3610</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.7324</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.5542</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.8886</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T1.4.1.3.1.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.6050</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T1.4.1.4.2.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.4.2.1.1">Caser</span></th>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.3783</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.6383</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.5143</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.7267</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.4.2.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.5430</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.4161</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8128</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.6284</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9187</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.4.2.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.6630</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.3810</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.7587</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.5803</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.8879</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.4.2.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.6225</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T1.4.1.5.3.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.5.3.1.1">SASRec</span></th>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.2817</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.6183</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.4598</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.7184</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.5.3.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.4928</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.4102</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.7770</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.6067</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9032</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.5.3.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.6475</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.3927</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.74856</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.5817</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.8699</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.5.3.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.6211</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T1.4.1.6.4.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.6.4.1.1">MoRec</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.2050</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.5083</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.3638</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.6716</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.4.1.6.4.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.4168</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.3152</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.7025</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.5147</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.8635</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.4.1.6.4.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.5670</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.3942</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.7617</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.5918</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.8857</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.6.4.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.6323</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.7.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T1.4.1.7.5.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.7.5.1.1">Chat-REC</span></th>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.2105</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.6842</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.4534</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.8211</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.7.5.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.4978</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.3694</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.7088</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.5412</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.8336</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.7.5.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.5814</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.4012</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.7306</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.5785</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.8370</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.7.5.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.6128</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.8.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T1.4.1.8.6.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.8.6.1.1">LLaRA</span></th>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4379</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.7895</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6285</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.8884</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.8.6.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.6602</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5158</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8060</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.6747</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.8859</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.8.6.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7005</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.4927</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8749</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.6988</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9511</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.8.6.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7236</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.9.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T1.4.1.9.7.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.9.7.1.1">PT</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.0968</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.3074</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.2032</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.5347</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.4.1.9.7.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.2753</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.1191</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.3418</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.2320</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.5820</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T1.4.1.9.7.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.3090</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.0868</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.3506</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.2214</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.5793</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.4.1.9.7.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.2947</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.10.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T1.4.1.10.8.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.10.8.1.1">SFT</span></th>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4674</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8800</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6865</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.10.8.5.1">0.9537</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.10.8.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7111</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5165</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8692</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.7053</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9667</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T1.4.1.10.8.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7373</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.5105</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8788</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.7100</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9548</td>
<td class="ltx_td ltx_align_center" id="S4.T1.4.1.10.8.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7348</td>
</tr>
<tr class="ltx_tr" id="S4.T1.4.1.11.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T1.4.1.11.9.1" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.1.1" style="background-color:#EBEBEB;">RosePO-h</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.2" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.2.1" style="background-color:#EBEBEB;">0.5053</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.3" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.3.1" style="background-color:#EBEBEB;">0.8926</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.4" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.4.1" style="background-color:#EBEBEB;">0.7144</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.5" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.5.1" style="background-color:#EBEBEB;">0.9537</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T1.4.1.11.9.6" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.6.1" style="background-color:#EBEBEB;">0.7348</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.7" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.7.1" style="background-color:#EBEBEB;">0.5398</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.8" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.8.1" style="background-color:#EBEBEB;">0.8805</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.9" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.9.1" style="background-color:#EBEBEB;">0.7221</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.10" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.10.1" style="background-color:#EBEBEB;">0.9717</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T1.4.1.11.9.11" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.11.1" style="background-color:#EBEBEB;">0.7520</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.12" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.12.1" style="background-color:#EBEBEB;">0.5322</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.13" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.13.1" style="background-color:#EBEBEB;">0.8836</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.14" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.14.1" style="background-color:#EBEBEB;">0.7239</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.15" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.15.1" style="background-color:#EBEBEB;">0.9619</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.4.1.11.9.16" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T1.4.1.11.9.16.1" style="background-color:#EBEBEB;">0.7494</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we conduct experiments on three datasets to demonstrate the effectiveness of our preference alignment framework, RosePO, which incorporates self-hard, semantic-similar, and popularity-aware rejected sampling, denoted as RosePO-h, RosePO-s, and RosePO-p in experiments, respectively.</p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1">From the perspective of <span class="ltx_text ltx_font_italic" id="S4.I1.i1.p1.1.1">helpfulness</span>, we evaluate the overall results of RosePO-h in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS2" title="4.2. Performance Comparison ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4.2</span></a>, along with detailed analyses on its two key components (<em class="ltx_emph ltx_font_italic" id="S4.I1.i1.p1.1.2">i.e., </em>the optimization objective and the rejected sampling strategy) in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS3" title="4.3. Impact of Data-Adaptive Loss Design ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4.3</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS4" title="4.4. Impact of Rejected Sampling Strategy ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4.4</span></a>.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1">From <span class="ltx_text ltx_font_italic" id="S4.I1.i2.p1.1.1">harmlessness</span>, we illustrate how two rejected sampling approaches (<em class="ltx_emph ltx_font_italic" id="S4.I1.i2.p1.1.2">i.e., </em>RosePO-s and RosePO-p) can mitigate semantic hallucination and popularity bias while preserving a satisfactory level of helpfulness comparable to SFT in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS5" title="4.5. Mitigating Semantic Hallucination ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4.5</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.SS6" title="4.6. Reducing Popularity Bias ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4.6</span></a>.</p>
</div>
</li>
</ul>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experimental Settings</h3>
<section class="ltx_subsubsection" id="S4.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.1. </span>Datasets</h4>
<div class="ltx_para" id="S4.SS1.SSS1.p1">
<p class="ltx_p" id="S4.SS1.SSS1.p1.1">We conducted experiments on three distinct real-world datasets:
(1) MovieLens: a widely recognized recommendation dataset <span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>https://grouplens.org/datasets/movielens/</span></span></span> comprising user ratings for various films;
(2) Steam: a dataset encompassing user ratings and reviews for games, which were gathered from a prominent video game digital distribution platform <span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://store.steampowered.com/</span></span></span>; and (3) Goodreads: a dataset including user ratings and reviews of books, sourced from a website <span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>https://www.goodreads.com/</span></span></span>, which is popular among readers for book recommendations.
To maintain stringent control over the scale of data, we have eliminated interactions with ratings less than 3 and 5 for the MovieLens and Goodreads datasets, respectively.
Furthermore, we have disregarded users with interactions less than 20 in Goodreads, and have sampled 30% of the games and sequences for Steam.
Subsequently, we split each dataset into train, validation, and test sets in an 8:1:1 ratio according to the sequence timestamp, thus preventing data leakage.
The sliding window to extract sequences is 11, with the last item in each sequence as the label for the next item.
Statistics of datasets are included in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A1" title="Appendix A Datasets ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.2. </span>Implementation</h4>
<div class="ltx_para" id="S4.SS1.SSS2.p1">
<p class="ltx_p" id="S4.SS1.SSS2.p1.2">Following <cite class="ltx_cite ltx_citemacro_citep">(Yang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib59" title="">2023</a>; Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib32" title="">2024</a>)</cite>, our implementation of conventional recommender baselines utilizes the Adam optimizer with a learning rate of 1e-3, an embedding dimension of 64, and L2 regularization coefficient searched within the range of [1e-3, 1e-4, 1e-5, 1e-6, 1e-7].
For all LLM-based methods, we adapt their implementation to provide the ranking of candidate items.
Also, we train for only one epoch during each tuning stage, incorporating a warm-up strategy for the learning rate.
As for our method, we conduct experiments on 8 A800 NVIDIA RTX GPUs, and employ the widely-used Llama-3-8B-Instruct as the backbone, full tuning its parameters in both SFT and preference alignment stages.
All items in prompts are represented by their titles, serving as their textual features, and we use output probability distribution for item grounding.
Note that we perform self-hard rejected sampling strategy only on data points where SFT model made false predictions, while randomly sample when it predicts correctly.
We adopt an <math alttext="\alpha" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.1.m1.1"><semantics id="S4.SS1.SSS2.p1.1.m1.1a"><mi id="S4.SS1.SSS2.p1.1.m1.1.1" xref="S4.SS1.SSS2.p1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.1.m1.1b"><ci id="S4.SS1.SSS2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS2.p1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.1.m1.1d">italic_α</annotation></semantics></math> of 0.2 following <cite class="ltx_cite ltx_citemacro_citep">(Pang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib45" title="">2024</a>)</cite>, and search <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS1.SSS2.p1.2.m2.1"><semantics id="S4.SS1.SSS2.p1.2.m2.1a"><mi id="S4.SS1.SSS2.p1.2.m2.1.1" xref="S4.SS1.SSS2.p1.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS2.p1.2.m2.1b"><ci id="S4.SS1.SSS2.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS2.p1.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS2.p1.2.m2.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS2.p1.2.m2.1d">italic_β</annotation></semantics></math> within the sets [0.1, 0.2, 0.5, 1.0, 2.0].
Our batch sizes are 512, 256, and 256 for MovieLens, Steam, and Goodreads, respectively.
Considering randomness, we report the average outcomes of five runs using different random seeds.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.1.3. </span>Evaluation</h4>
<div class="ltx_para" id="S4.SS1.SSS3.p1">
<p class="ltx_p" id="S4.SS1.SSS3.p1.1">Given the limited context length and slow inference speed of LLM, our method is more aptly suited for the fine-tuning phase of recommendation systems, focusing on ranking for a small number of items based on preferences.
As such, our primary experiments are conducted on 20 randomly selected non-interacted candidate items following <cite class="ltx_cite ltx_citemacro_citep">(Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib32" title="">2024</a>)</cite>.
Correspondingly, we employ Hit Ratio (HR@K) and Normalized Discounted Cumulative Gain (NDCG@K) as metrics to evaluate recommendation performance, with K values of 1, 5, and 10.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Performance Comparison</h3>
<section class="ltx_subsubsection" id="S4.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.1. </span>Baselines</h4>
<div class="ltx_para" id="S4.SS2.SSS1.p1">
<p class="ltx_p" id="S4.SS2.SSS1.p1.1">For traditional recommendation models, three commonly-used baselines are GRU4Rec <cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib22" title="">2016</a>)</cite>, Caser <cite class="ltx_cite ltx_citemacro_citep">(Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib49" title="">2018</a>)</cite>, and SASRec <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib26" title="">2018</a>)</cite>, which are based on RNN, CNN and Attention Mechanism, respectively.
Regarding works that employ LLM in recommendation systems, we select three models from distinct categories — LLM as an enhancer, LLM as a recommender with and without tuning – to serve as baselines:
(1) MoRec <cite class="ltx_cite ltx_citemacro_citep">(Yuan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib60" title="">2023</a>)</cite> enhances traditional recommendation systems by initialing its item embeddings with textual feature representations encoded by LLM. <span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>For MoRec, we employ SASRec as the recommender backbone and BERT as the text encoder, in line with the officially provided implementation.</span></span></span>
(2) ChatRec <cite class="ltx_cite ltx_citemacro_citep">(Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib19" title="">2023</a>)</cite> generates the recommendation list by prompting LLM without tuning it. <span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>For ChatRec, we employ GPT-4 as a strong LLM backbone.</span></span></span>
(3) LLaRA <cite class="ltx_cite ltx_citemacro_citep">(Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib32" title="">2024</a>)</cite> integrates traditional models into LLM using a projector and curriculum-tuning the LLM with prompts consisting of hybrid representations. <span class="ltx_note ltx_role_footnote" id="footnote6"><sup class="ltx_note_mark">6</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">6</sup><span class="ltx_tag ltx_tag_note">6</span>For LLaRA, we utilize Llama2-7B as the LLM backbone and employ LoRA for parameter-efficient fine-tuning, following the official implementation.</span></span></span>
Additionally, we provide results from three stages: the official pretrained checkpoint of Llama-3-8B-Instruct model, the checkpoint after recommendation SFT, and the final version after preference aligning by RosePO with self-hard rejected sampling, denoted as PT, SFT, and RosePO-h, respectively.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.2.2. </span>Results</h4>
<div class="ltx_para" id="S4.SS2.SSS2.p1">
<p class="ltx_p" id="S4.SS2.SSS2.p1.1">As demonstrated in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.T1" title="Table 1 ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">1</span></a>, RosePO-h surpasses all baseline methods (including conventional recommendation models and LLM4Rec works) across three datasets in terms of the evaluation metrics HR@1, HR@5, HR@10, NDCG@5, and NDCG@10.
This result highlights the exceptional efficacy of our proposed method.
Notably, the preference alignment stage exhibits improvements over two of its prior checkpoints (<em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS2.p1.1.1">i.e., </em>PT and SFT).
Specifically, the relative enhancements of RosePO-h over SFT on the metric HR@1 are 8.11%, 4.51%, and 4.25% for the Movielens, Goodreads, and Steam datasets, respectively.
This indicates that we addressed the inherent defects of the models in earlier stages, thereby enhancing the accuracy (<em class="ltx_emph ltx_font_italic" id="S4.SS2.SSS2.p1.1.2">i.e., </em>helpfulness) of the recommendations.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Impact of Data-Adaptive Loss Design</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">To investigate the efficacy of our personalized smoothing loss function design, we conduct ablation studies to compare RosePO with various optimization objectives.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.1. </span>Baselines</h4>
<div class="ltx_para" id="S4.SS3.SSS1.p1">
<p class="ltx_p" id="S4.SS3.SSS1.p1.1">We select DPO and its variants to serve as additional baselines for comparison.
We have:
(1) <span class="ltx_text ltx_font_bold" id="S4.SS3.SSS1.p1.1.1">DPO</span> <cite class="ltx_cite ltx_citemacro_citep">(Rafailov et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib46" title="">2023</a>)</cite>: offers a closed-form solution of the reward model in RLHF and optimizes the preference model offline.
(2) <span class="ltx_text ltx_font_bold" id="S4.SS3.SSS1.p1.1.2">IPO</span> <cite class="ltx_cite ltx_citemacro_citep">(Azar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib3" title="">2024</a>)</cite>: derives a general objective to bypass two approximations in DPO.
(3) <span class="ltx_text ltx_font_bold" id="S4.SS3.SSS1.p1.1.3">Conservative DPO</span> (cDPO) <cite class="ltx_cite ltx_citemacro_citep">(Mitchell, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib41" title="">2023</a>)</cite>: introduces a hyperparameter <math alttext="\epsilon" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p1.1.m1.1"><semantics id="S4.SS3.SSS1.p1.1.m1.1a"><mi id="S4.SS3.SSS1.p1.1.m1.1.1" xref="S4.SS3.SSS1.p1.1.m1.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.1.m1.1b"><ci id="S4.SS3.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.1.m1.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p1.1.m1.1d">italic_ϵ</annotation></semantics></math> to model flip rate of noisy labels.
(4) <span class="ltx_text ltx_font_bold" id="S4.SS3.SSS1.p1.1.4">Robust DPO</span> (rDPO) <cite class="ltx_cite ltx_citemacro_citep">(Chowdhury et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib13" title="">2024</a>)</cite>: designs an unbiased estimate of the original Binary Cross Entropy loss.
(5) <span class="ltx_text ltx_font_bold" id="S4.SS3.SSS1.p1.1.5">RPO</span> <cite class="ltx_cite ltx_citemacro_citep">(Pang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib45" title="">2024</a>)</cite>: includes a negative log-likelihood (NLL) loss term for the paired chose responses.
(6) <span class="ltx_text ltx_font_bold" id="S4.SS3.SSS1.p1.1.6">CPO</span> <cite class="ltx_cite ltx_citemacro_citep">(Xu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib57" title="">2024</a>)</cite>: employs sequence likelihood as a reward and trains jointly with an SFT objective.
(7) <span class="ltx_text ltx_font_bold" id="S4.SS3.SSS1.p1.1.7">SimPO</span> <cite class="ltx_cite ltx_citemacro_citep">(Meng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib40" title="">2024</a>)</cite>: utilizes the average log probability of a sequence as a reward to eliminate the need for a reference model, and introduces a target reward margin between the chosen and rejected responses.
(8) <span class="ltx_text ltx_font_bold" id="S4.SS3.SSS1.p1.1.8">Softmax DPO</span> (S-DPO) <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib12" title="">2024</a>)</cite>: introduces DPO into LLM4Rec by randomly sampling multiple negative items as rejected responses, to enhance the accuracy of recommendation. <span class="ltx_note ltx_role_footnote" id="footnote7"><sup class="ltx_note_mark">7</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">7</sup><span class="ltx_tag ltx_tag_note">7</span>We adapt S-DPO to the task setting of ranking item candidates, keeping the same implementation (including prompts and training) as ours, except for the softmax loss.</span></span></span>
Detailed objective formulations are listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.T2" title="Table 2 ‣ 4.3.1. Baselines ‣ 4.3. Impact of Data-Adaptive Loss Design ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T2.13.1.1" style="font-size:90%;">Table 2</span>. </span><span class="ltx_text" id="S4.T2.14.2" style="font-size:90%;">Optimization Objectives for Preference Alignment.</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T2.11" style="width:241.8pt;height:116.7pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-108.5pt,52.2pt) scale(0.526970232148434,0.526970232148434) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.11.11">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.11.11.12.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.11.11.12.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.11.11.12.1.1.1">Method</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S4.T2.11.11.12.1.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T2.11.11.12.1.2.1">Objective</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T2.1.1.1.2" style="padding-left:7.7pt;padding-right:7.7pt;">DPO <cite class="ltx_cite ltx_citemacro_citep">(Rafailov et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib46" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S4.T2.1.1.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-\log\sigma\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|%
x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)" class="ltx_Math" display="inline" id="S4.T2.1.1.1.1.m1.5"><semantics id="S4.T2.1.1.1.1.m1.5a"><mrow id="S4.T2.1.1.1.1.m1.5.5" xref="S4.T2.1.1.1.1.m1.5.5.cmml"><mo id="S4.T2.1.1.1.1.m1.5.5a" rspace="0.167em" xref="S4.T2.1.1.1.1.m1.5.5.cmml">−</mo><mrow id="S4.T2.1.1.1.1.m1.5.5.1" xref="S4.T2.1.1.1.1.m1.5.5.1.cmml"><mrow id="S4.T2.1.1.1.1.m1.5.5.1.3" xref="S4.T2.1.1.1.1.m1.5.5.1.3.cmml"><mi id="S4.T2.1.1.1.1.m1.5.5.1.3.1" xref="S4.T2.1.1.1.1.m1.5.5.1.3.1.cmml">log</mi><mo id="S4.T2.1.1.1.1.m1.5.5.1.3a" lspace="0.167em" xref="S4.T2.1.1.1.1.m1.5.5.1.3.cmml">⁡</mo><mi id="S4.T2.1.1.1.1.m1.5.5.1.3.2" xref="S4.T2.1.1.1.1.m1.5.5.1.3.2.cmml">σ</mi></mrow><mo id="S4.T2.1.1.1.1.m1.5.5.1.2" xref="S4.T2.1.1.1.1.m1.5.5.1.2.cmml">⁢</mo><mrow id="S4.T2.1.1.1.1.m1.5.5.1.1.1" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.cmml"><mo id="S4.T2.1.1.1.1.m1.5.5.1.1.1.2" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.cmml"><mrow id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.cmml"><mi id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.2" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.2.cmml">β</mi><mo id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.1" lspace="0.167em" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3.cmml"><mi id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3.1" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3a" lspace="0.167em" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.1.1.1.1.m1.2.2" xref="S4.T2.1.1.1.1.m1.2.2.cmml"><mrow id="S4.T2.1.1.1.1.m1.1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.1.cmml"><msub id="S4.T2.1.1.1.1.m1.1.1.1.3" xref="S4.T2.1.1.1.1.m1.1.1.1.3.cmml"><mi id="S4.T2.1.1.1.1.m1.1.1.1.3.2" xref="S4.T2.1.1.1.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.1.1.1.1.m1.1.1.1.3.3" xref="S4.T2.1.1.1.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.1.1.1.1.m1.1.1.1.2" xref="S4.T2.1.1.1.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.1.1.1.1.m1.1.1.1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.cmml"><mo id="S4.T2.1.1.1.1.m1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.cmml"><msub id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.2" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.3" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.1" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.3" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.1.1.1.1.m1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.1.1.1.1.m1.2.2.2" xref="S4.T2.1.1.1.1.m1.2.2.2.cmml"><msub id="S4.T2.1.1.1.1.m1.2.2.2.3" xref="S4.T2.1.1.1.1.m1.2.2.2.3.cmml"><mi id="S4.T2.1.1.1.1.m1.2.2.2.3.2" xref="S4.T2.1.1.1.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.1.1.1.1.m1.2.2.2.3.3" xref="S4.T2.1.1.1.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.1.1.1.1.m1.2.2.2.2" xref="S4.T2.1.1.1.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.1.1.1.1.m1.2.2.2.1.1" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.1.1.1.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.1" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.3" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.1.1.1.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.1" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.1.cmml">−</mo><mrow id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.cmml"><mi id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.2" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.2.cmml">β</mi><mo id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.1" lspace="0.167em" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3.cmml"><mi id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3.1" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3a" lspace="0.167em" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.1.1.1.1.m1.4.4" xref="S4.T2.1.1.1.1.m1.4.4.cmml"><mrow id="S4.T2.1.1.1.1.m1.3.3.1" xref="S4.T2.1.1.1.1.m1.3.3.1.cmml"><msub id="S4.T2.1.1.1.1.m1.3.3.1.3" xref="S4.T2.1.1.1.1.m1.3.3.1.3.cmml"><mi id="S4.T2.1.1.1.1.m1.3.3.1.3.2" xref="S4.T2.1.1.1.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.1.1.1.1.m1.3.3.1.3.3" xref="S4.T2.1.1.1.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.1.1.1.1.m1.3.3.1.2" xref="S4.T2.1.1.1.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.1.1.1.1.m1.3.3.1.1.1" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.1.1.1.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.2" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.1" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.3" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.1.1.1.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.1.1.1.1.m1.4.4.2" xref="S4.T2.1.1.1.1.m1.4.4.2.cmml"><msub id="S4.T2.1.1.1.1.m1.4.4.2.3" xref="S4.T2.1.1.1.1.m1.4.4.2.3.cmml"><mi id="S4.T2.1.1.1.1.m1.4.4.2.3.2" xref="S4.T2.1.1.1.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.1.1.1.1.m1.4.4.2.3.3" xref="S4.T2.1.1.1.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.1.1.1.1.m1.4.4.2.2" xref="S4.T2.1.1.1.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.1.1.1.1.m1.4.4.2.1.1" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.cmml"><mo id="S4.T2.1.1.1.1.m1.4.4.2.1.1.2" stretchy="false" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.cmml"><msub id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.2" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.3" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.1" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.3" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.1.1.1.1.m1.4.4.2.1.1.3" stretchy="false" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.1.1.1.1.m1.5.5.1.1.1.3" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.1.1.1.1.m1.5b"><apply id="S4.T2.1.1.1.1.m1.5.5.cmml" xref="S4.T2.1.1.1.1.m1.5.5"><minus id="S4.T2.1.1.1.1.m1.5.5.2.cmml" xref="S4.T2.1.1.1.1.m1.5.5"></minus><apply id="S4.T2.1.1.1.1.m1.5.5.1.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1"><times id="S4.T2.1.1.1.1.m1.5.5.1.2.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.2"></times><apply id="S4.T2.1.1.1.1.m1.5.5.1.3.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.3"><log id="S4.T2.1.1.1.1.m1.5.5.1.3.1.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.3.1"></log><ci id="S4.T2.1.1.1.1.m1.5.5.1.3.2.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.3.2">𝜎</ci></apply><apply id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1"><minus id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.1"></minus><apply id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2"><times id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.1.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.1"></times><ci id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.2.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.2">𝛽</ci><apply id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3"><log id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3.1.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.2.3.1"></log><apply id="S4.T2.1.1.1.1.m1.2.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2"><divide id="S4.T2.1.1.1.1.m1.2.2.3.cmml" xref="S4.T2.1.1.1.1.m1.2.2"></divide><apply id="S4.T2.1.1.1.1.m1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1"><times id="S4.T2.1.1.1.1.m1.1.1.1.2.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.2"></times><apply id="S4.T2.1.1.1.1.m1.1.1.1.3.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.1.1.1.3.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.T2.1.1.1.1.m1.1.1.1.3.2.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.1.1.1.1.m1.1.1.1.3.3.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.T2.1.1.1.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.1.1.1.1.m1.2.2.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2"><times id="S4.T2.1.1.1.1.m1.2.2.2.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.2"></times><apply id="S4.T2.1.1.1.1.m1.2.2.2.3.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.2.2.2.3.1.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.3">subscript</csymbol><ci id="S4.T2.1.1.1.1.m1.2.2.2.3.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.3.2">𝜋</ci><ci id="S4.T2.1.1.1.1.m1.2.2.2.3.3a.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.3.3"><mtext id="S4.T2.1.1.1.1.m1.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.1.1.1.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.1.1.1.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3"><times id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.1.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.1"></times><ci id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.2.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.2">𝛽</ci><apply id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3"><log id="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3.1.cmml" xref="S4.T2.1.1.1.1.m1.5.5.1.1.1.1.3.3.1"></log><apply id="S4.T2.1.1.1.1.m1.4.4.cmml" xref="S4.T2.1.1.1.1.m1.4.4"><divide id="S4.T2.1.1.1.1.m1.4.4.3.cmml" xref="S4.T2.1.1.1.1.m1.4.4"></divide><apply id="S4.T2.1.1.1.1.m1.3.3.1.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1"><times id="S4.T2.1.1.1.1.m1.3.3.1.2.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.2"></times><apply id="S4.T2.1.1.1.1.m1.3.3.1.3.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.3.3.1.3.1.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.3">subscript</csymbol><ci id="S4.T2.1.1.1.1.m1.3.3.1.3.2.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.3.2">𝜋</ci><ci id="S4.T2.1.1.1.1.m1.3.3.1.3.3.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.1.1.1.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.1.1.1.1.m1.4.4.2.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2"><times id="S4.T2.1.1.1.1.m1.4.4.2.2.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.2"></times><apply id="S4.T2.1.1.1.1.m1.4.4.2.3.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.4.4.2.3.1.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.3">subscript</csymbol><ci id="S4.T2.1.1.1.1.m1.4.4.2.3.2.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.3.2">𝜋</ci><ci id="S4.T2.1.1.1.1.m1.4.4.2.3.3a.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.3.3"><mtext id="S4.T2.1.1.1.1.m1.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.1.1.1.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.1.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.3.cmml" xref="S4.T2.1.1.1.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.1.1.1.1.m1.5c">-\log\sigma\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|%
x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.1.1.1.1.m1.5d">- roman_log italic_σ ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG )</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.2.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.2.2.2.2" style="padding-left:7.7pt;padding-right:7.7pt;">IPO <cite class="ltx_cite ltx_citemacro_citep">(Azar et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib3" title="">2024</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.2.2.2.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="\left(\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}-\log\frac{%
\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}-\frac{1}{2\tau}\right)^{2}" class="ltx_Math" display="inline" id="S4.T2.2.2.2.1.m1.5"><semantics id="S4.T2.2.2.2.1.m1.5a"><msup id="S4.T2.2.2.2.1.m1.5.5" xref="S4.T2.2.2.2.1.m1.5.5.cmml"><mrow id="S4.T2.2.2.2.1.m1.5.5.1.1" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.cmml"><mo id="S4.T2.2.2.2.1.m1.5.5.1.1.2" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.cmml">(</mo><mrow id="S4.T2.2.2.2.1.m1.5.5.1.1.1" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.cmml"><mrow id="S4.T2.2.2.2.1.m1.5.5.1.1.1.2" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.2.cmml"><mi id="S4.T2.2.2.2.1.m1.5.5.1.1.1.2.1" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.2.1.cmml">log</mi><mo id="S4.T2.2.2.2.1.m1.5.5.1.1.1.2a" lspace="0.167em" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.2.cmml">⁡</mo><mfrac id="S4.T2.2.2.2.1.m1.2.2" xref="S4.T2.2.2.2.1.m1.2.2.cmml"><mrow id="S4.T2.2.2.2.1.m1.1.1.1" xref="S4.T2.2.2.2.1.m1.1.1.1.cmml"><msub id="S4.T2.2.2.2.1.m1.1.1.1.3" xref="S4.T2.2.2.2.1.m1.1.1.1.3.cmml"><mi id="S4.T2.2.2.2.1.m1.1.1.1.3.2" xref="S4.T2.2.2.2.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.2.2.2.1.m1.1.1.1.3.3" xref="S4.T2.2.2.2.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.2.2.2.1.m1.1.1.1.2" xref="S4.T2.2.2.2.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.2.2.2.1.m1.1.1.1.1.1" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.cmml"><mo id="S4.T2.2.2.2.1.m1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.cmml"><msub id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.2" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.3" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.1" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.3" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.2.2.2.1.m1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.2.2.2.1.m1.2.2.2" xref="S4.T2.2.2.2.1.m1.2.2.2.cmml"><msub id="S4.T2.2.2.2.1.m1.2.2.2.3" xref="S4.T2.2.2.2.1.m1.2.2.2.3.cmml"><mi id="S4.T2.2.2.2.1.m1.2.2.2.3.2" xref="S4.T2.2.2.2.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.2.2.2.1.m1.2.2.2.3.3" xref="S4.T2.2.2.2.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.2.2.2.1.m1.2.2.2.2" xref="S4.T2.2.2.2.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.2.2.2.1.m1.2.2.2.1.1" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.2.2.2.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.1" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.3" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.2.2.2.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="S4.T2.2.2.2.1.m1.5.5.1.1.1.1" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.1.cmml">−</mo><mrow id="S4.T2.2.2.2.1.m1.5.5.1.1.1.3" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.3.cmml"><mi id="S4.T2.2.2.2.1.m1.5.5.1.1.1.3.1" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.3.1.cmml">log</mi><mo id="S4.T2.2.2.2.1.m1.5.5.1.1.1.3a" lspace="0.167em" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.3.cmml">⁡</mo><mfrac id="S4.T2.2.2.2.1.m1.4.4" xref="S4.T2.2.2.2.1.m1.4.4.cmml"><mrow id="S4.T2.2.2.2.1.m1.3.3.1" xref="S4.T2.2.2.2.1.m1.3.3.1.cmml"><msub id="S4.T2.2.2.2.1.m1.3.3.1.3" xref="S4.T2.2.2.2.1.m1.3.3.1.3.cmml"><mi id="S4.T2.2.2.2.1.m1.3.3.1.3.2" xref="S4.T2.2.2.2.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.2.2.2.1.m1.3.3.1.3.3" xref="S4.T2.2.2.2.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.2.2.2.1.m1.3.3.1.2" xref="S4.T2.2.2.2.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.2.2.2.1.m1.3.3.1.1.1" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.2.2.2.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.2" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.1" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.3" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.2.2.2.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.2.2.2.1.m1.4.4.2" xref="S4.T2.2.2.2.1.m1.4.4.2.cmml"><msub id="S4.T2.2.2.2.1.m1.4.4.2.3" xref="S4.T2.2.2.2.1.m1.4.4.2.3.cmml"><mi id="S4.T2.2.2.2.1.m1.4.4.2.3.2" xref="S4.T2.2.2.2.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.2.2.2.1.m1.4.4.2.3.3" xref="S4.T2.2.2.2.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.2.2.2.1.m1.4.4.2.2" xref="S4.T2.2.2.2.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.2.2.2.1.m1.4.4.2.1.1" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.cmml"><mo id="S4.T2.2.2.2.1.m1.4.4.2.1.1.2" stretchy="false" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.cmml"><msub id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.2" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.3" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.1" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.3" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.2.2.2.1.m1.4.4.2.1.1.3" stretchy="false" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="S4.T2.2.2.2.1.m1.5.5.1.1.1.1a" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.1.cmml">−</mo><mfrac id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.cmml"><mn id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.2" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.2.cmml">1</mn><mrow id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.cmml"><mn id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.2" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.2.cmml">2</mn><mo id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.1" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.1.cmml">⁢</mo><mi id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.3" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.3.cmml">τ</mi></mrow></mfrac></mrow><mo id="S4.T2.2.2.2.1.m1.5.5.1.1.3" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.cmml">)</mo></mrow><mn id="S4.T2.2.2.2.1.m1.5.5.3" xref="S4.T2.2.2.2.1.m1.5.5.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="S4.T2.2.2.2.1.m1.5b"><apply id="S4.T2.2.2.2.1.m1.5.5.cmml" xref="S4.T2.2.2.2.1.m1.5.5"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.5.5.2.cmml" xref="S4.T2.2.2.2.1.m1.5.5">superscript</csymbol><apply id="S4.T2.2.2.2.1.m1.5.5.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1"><minus id="S4.T2.2.2.2.1.m1.5.5.1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.1"></minus><apply id="S4.T2.2.2.2.1.m1.5.5.1.1.1.2.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.2"><log id="S4.T2.2.2.2.1.m1.5.5.1.1.1.2.1.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.2.1"></log><apply id="S4.T2.2.2.2.1.m1.2.2.cmml" xref="S4.T2.2.2.2.1.m1.2.2"><divide id="S4.T2.2.2.2.1.m1.2.2.3.cmml" xref="S4.T2.2.2.2.1.m1.2.2"></divide><apply id="S4.T2.2.2.2.1.m1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1"><times id="S4.T2.2.2.2.1.m1.1.1.1.2.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.2"></times><apply id="S4.T2.2.2.2.1.m1.1.1.1.3.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.1.1.1.3.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.T2.2.2.2.1.m1.1.1.1.3.2.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.2.2.2.1.m1.1.1.1.3.3.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.T2.2.2.2.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.2.2.2.1.m1.2.2.2.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2"><times id="S4.T2.2.2.2.1.m1.2.2.2.2.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.2"></times><apply id="S4.T2.2.2.2.1.m1.2.2.2.3.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.2.2.2.3.1.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.3">subscript</csymbol><ci id="S4.T2.2.2.2.1.m1.2.2.2.3.2.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.3.2">𝜋</ci><ci id="S4.T2.2.2.2.1.m1.2.2.2.3.3a.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.3.3"><mtext id="S4.T2.2.2.2.1.m1.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.2.2.2.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.2.2.2.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply><apply id="S4.T2.2.2.2.1.m1.5.5.1.1.1.3.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.3"><log id="S4.T2.2.2.2.1.m1.5.5.1.1.1.3.1.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.3.1"></log><apply id="S4.T2.2.2.2.1.m1.4.4.cmml" xref="S4.T2.2.2.2.1.m1.4.4"><divide id="S4.T2.2.2.2.1.m1.4.4.3.cmml" xref="S4.T2.2.2.2.1.m1.4.4"></divide><apply id="S4.T2.2.2.2.1.m1.3.3.1.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1"><times id="S4.T2.2.2.2.1.m1.3.3.1.2.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.2"></times><apply id="S4.T2.2.2.2.1.m1.3.3.1.3.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.3.3.1.3.1.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.3">subscript</csymbol><ci id="S4.T2.2.2.2.1.m1.3.3.1.3.2.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.3.2">𝜋</ci><ci id="S4.T2.2.2.2.1.m1.3.3.1.3.3.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.2.2.2.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.2.2.2.1.m1.4.4.2.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2"><times id="S4.T2.2.2.2.1.m1.4.4.2.2.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.2"></times><apply id="S4.T2.2.2.2.1.m1.4.4.2.3.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.4.4.2.3.1.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.3">subscript</csymbol><ci id="S4.T2.2.2.2.1.m1.4.4.2.3.2.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.3.2">𝜋</ci><ci id="S4.T2.2.2.2.1.m1.4.4.2.3.3a.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.3.3"><mtext id="S4.T2.2.2.2.1.m1.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.2.2.2.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.1.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.3.cmml" xref="S4.T2.2.2.2.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply><apply id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4"><divide id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.1.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4"></divide><cn id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.2.cmml" type="integer" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.2">1</cn><apply id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3"><times id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.1.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.1"></times><cn id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.2.cmml" type="integer" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.2">2</cn><ci id="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.3.cmml" xref="S4.T2.2.2.2.1.m1.5.5.1.1.1.4.3.3">𝜏</ci></apply></apply></apply><cn id="S4.T2.2.2.2.1.m1.5.5.3.cmml" type="integer" xref="S4.T2.2.2.2.1.m1.5.5.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.2.2.1.m1.5c">\left(\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}-\log\frac{%
\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}-\frac{1}{2\tau}\right)^{2}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.2.2.1.m1.5d">( roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG - divide start_ARG 1 end_ARG start_ARG 2 italic_τ end_ARG ) start_POSTSUPERSCRIPT 2 end_POSTSUPERSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.3.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.3.3.3.2" style="padding-left:7.7pt;padding-right:7.7pt;">cDPO <cite class="ltx_cite ltx_citemacro_citep">(Mitchell, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib41" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.3.3.3.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-(1-\epsilon)\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w%
}|x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)" class="ltx_Math" display="inline" id="S4.T2.3.3.3.1.m1.6"><semantics id="S4.T2.3.3.3.1.m1.6a"><mrow id="S4.T2.3.3.3.1.m1.6.6" xref="S4.T2.3.3.3.1.m1.6.6.cmml"><mo id="S4.T2.3.3.3.1.m1.6.6a" xref="S4.T2.3.3.3.1.m1.6.6.cmml">−</mo><mrow id="S4.T2.3.3.3.1.m1.6.6.2" xref="S4.T2.3.3.3.1.m1.6.6.2.cmml"><mrow id="S4.T2.3.3.3.1.m1.5.5.1.1.1" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.cmml"><mo id="S4.T2.3.3.3.1.m1.5.5.1.1.1.2" stretchy="false" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S4.T2.3.3.3.1.m1.5.5.1.1.1.1" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.cmml"><mn id="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.2" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.2.cmml">1</mn><mo id="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.1" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.1.cmml">−</mo><mi id="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.3" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.3.cmml">ϵ</mi></mrow><mo id="S4.T2.3.3.3.1.m1.5.5.1.1.1.3" stretchy="false" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.cmml">)</mo></mrow><mo id="S4.T2.3.3.3.1.m1.6.6.2.3" xref="S4.T2.3.3.3.1.m1.6.6.2.3.cmml">⁢</mo><mrow id="S4.T2.3.3.3.1.m1.6.6.2.2.1" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.cmml"><mo id="S4.T2.3.3.3.1.m1.6.6.2.2.1.2" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.cmml">(</mo><mrow id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.cmml"><mrow id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.cmml"><mi id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.2" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.2.cmml">β</mi><mo id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.1" lspace="0.167em" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3.cmml"><mi id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3.1" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3a" lspace="0.167em" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.3.3.3.1.m1.2.2" xref="S4.T2.3.3.3.1.m1.2.2.cmml"><mrow id="S4.T2.3.3.3.1.m1.1.1.1" xref="S4.T2.3.3.3.1.m1.1.1.1.cmml"><msub id="S4.T2.3.3.3.1.m1.1.1.1.3" xref="S4.T2.3.3.3.1.m1.1.1.1.3.cmml"><mi id="S4.T2.3.3.3.1.m1.1.1.1.3.2" xref="S4.T2.3.3.3.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.3.3.3.1.m1.1.1.1.3.3" xref="S4.T2.3.3.3.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.3.3.3.1.m1.1.1.1.2" xref="S4.T2.3.3.3.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.3.3.3.1.m1.1.1.1.1.1" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.cmml"><mo id="S4.T2.3.3.3.1.m1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.cmml"><msub id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.2" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.3" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.1" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.3" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.3.3.3.1.m1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.3.3.3.1.m1.2.2.2" xref="S4.T2.3.3.3.1.m1.2.2.2.cmml"><msub id="S4.T2.3.3.3.1.m1.2.2.2.3" xref="S4.T2.3.3.3.1.m1.2.2.2.3.cmml"><mi id="S4.T2.3.3.3.1.m1.2.2.2.3.2" xref="S4.T2.3.3.3.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.3.3.3.1.m1.2.2.2.3.3" xref="S4.T2.3.3.3.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.3.3.3.1.m1.2.2.2.2" xref="S4.T2.3.3.3.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.3.3.3.1.m1.2.2.2.1.1" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.3.3.3.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.1" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.3" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.3.3.3.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.1" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.1.cmml">−</mo><mrow id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.cmml"><mi id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.2" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.2.cmml">β</mi><mo id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.1" lspace="0.167em" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3.cmml"><mi id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3.1" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3a" lspace="0.167em" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.3.3.3.1.m1.4.4" xref="S4.T2.3.3.3.1.m1.4.4.cmml"><mrow id="S4.T2.3.3.3.1.m1.3.3.1" xref="S4.T2.3.3.3.1.m1.3.3.1.cmml"><msub id="S4.T2.3.3.3.1.m1.3.3.1.3" xref="S4.T2.3.3.3.1.m1.3.3.1.3.cmml"><mi id="S4.T2.3.3.3.1.m1.3.3.1.3.2" xref="S4.T2.3.3.3.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.3.3.3.1.m1.3.3.1.3.3" xref="S4.T2.3.3.3.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.3.3.3.1.m1.3.3.1.2" xref="S4.T2.3.3.3.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.3.3.3.1.m1.3.3.1.1.1" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.3.3.3.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.2" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.1" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.3" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.3.3.3.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.3.3.3.1.m1.4.4.2" xref="S4.T2.3.3.3.1.m1.4.4.2.cmml"><msub id="S4.T2.3.3.3.1.m1.4.4.2.3" xref="S4.T2.3.3.3.1.m1.4.4.2.3.cmml"><mi id="S4.T2.3.3.3.1.m1.4.4.2.3.2" xref="S4.T2.3.3.3.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.3.3.3.1.m1.4.4.2.3.3" xref="S4.T2.3.3.3.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.3.3.3.1.m1.4.4.2.2" xref="S4.T2.3.3.3.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.3.3.3.1.m1.4.4.2.1.1" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.cmml"><mo id="S4.T2.3.3.3.1.m1.4.4.2.1.1.2" stretchy="false" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.cmml"><msub id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.2" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.3" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.1" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.3" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.3.3.3.1.m1.4.4.2.1.1.3" stretchy="false" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.3.3.3.1.m1.6.6.2.2.1.3" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.3.3.3.1.m1.6b"><apply id="S4.T2.3.3.3.1.m1.6.6.cmml" xref="S4.T2.3.3.3.1.m1.6.6"><minus id="S4.T2.3.3.3.1.m1.6.6.3.cmml" xref="S4.T2.3.3.3.1.m1.6.6"></minus><apply id="S4.T2.3.3.3.1.m1.6.6.2.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2"><times id="S4.T2.3.3.3.1.m1.6.6.2.3.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.3"></times><apply id="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1"><minus id="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.1"></minus><cn id="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.2.cmml" type="integer" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.2">1</cn><ci id="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.3.cmml" xref="S4.T2.3.3.3.1.m1.5.5.1.1.1.1.3">italic-ϵ</ci></apply><apply id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1"><minus id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.1"></minus><apply id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2"><times id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.1.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.1"></times><ci id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.2.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.2">𝛽</ci><apply id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3"><log id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3.1.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.2.3.1"></log><apply id="S4.T2.3.3.3.1.m1.2.2.cmml" xref="S4.T2.3.3.3.1.m1.2.2"><divide id="S4.T2.3.3.3.1.m1.2.2.3.cmml" xref="S4.T2.3.3.3.1.m1.2.2"></divide><apply id="S4.T2.3.3.3.1.m1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1"><times id="S4.T2.3.3.3.1.m1.1.1.1.2.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.2"></times><apply id="S4.T2.3.3.3.1.m1.1.1.1.3.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.3.3.3.1.m1.1.1.1.3.1.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.T2.3.3.3.1.m1.1.1.1.3.2.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.3.3.3.1.m1.1.1.1.3.3.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.T2.3.3.3.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.3.3.3.1.m1.2.2.2.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2"><times id="S4.T2.3.3.3.1.m1.2.2.2.2.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.2"></times><apply id="S4.T2.3.3.3.1.m1.2.2.2.3.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.3.3.3.1.m1.2.2.2.3.1.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.3">subscript</csymbol><ci id="S4.T2.3.3.3.1.m1.2.2.2.3.2.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.3.2">𝜋</ci><ci id="S4.T2.3.3.3.1.m1.2.2.2.3.3a.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.3.3"><mtext id="S4.T2.3.3.3.1.m1.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.3.3.3.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.3.3.3.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3"><times id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.1.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.1"></times><ci id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.2.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.2">𝛽</ci><apply id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3"><log id="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3.1.cmml" xref="S4.T2.3.3.3.1.m1.6.6.2.2.1.1.3.3.1"></log><apply id="S4.T2.3.3.3.1.m1.4.4.cmml" xref="S4.T2.3.3.3.1.m1.4.4"><divide id="S4.T2.3.3.3.1.m1.4.4.3.cmml" xref="S4.T2.3.3.3.1.m1.4.4"></divide><apply id="S4.T2.3.3.3.1.m1.3.3.1.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1"><times id="S4.T2.3.3.3.1.m1.3.3.1.2.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.2"></times><apply id="S4.T2.3.3.3.1.m1.3.3.1.3.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.3.3.3.1.m1.3.3.1.3.1.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.3">subscript</csymbol><ci id="S4.T2.3.3.3.1.m1.3.3.1.3.2.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.3.2">𝜋</ci><ci id="S4.T2.3.3.3.1.m1.3.3.1.3.3.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.3.3.3.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.3.3.3.1.m1.4.4.2.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2"><times id="S4.T2.3.3.3.1.m1.4.4.2.2.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.2"></times><apply id="S4.T2.3.3.3.1.m1.4.4.2.3.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.3.3.3.1.m1.4.4.2.3.1.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.3">subscript</csymbol><ci id="S4.T2.3.3.3.1.m1.4.4.2.3.2.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.3.2">𝜋</ci><ci id="S4.T2.3.3.3.1.m1.4.4.2.3.3a.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.3.3"><mtext id="S4.T2.3.3.3.1.m1.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.3.3.3.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.1.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.3.cmml" xref="S4.T2.3.3.3.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.3.3.3.1.m1.6c">-(1-\epsilon)\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w%
}|x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.3.3.3.1.m1.6d">- ( 1 - italic_ϵ ) ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG )</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.4.4.4">
<th class="ltx_td ltx_th ltx_th_row" id="S4.T2.4.4.4.2" style="padding-left:7.7pt;padding-right:7.7pt;"></th>
<td class="ltx_td ltx_align_left" id="S4.T2.4.4.4.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-\epsilon\left(\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)%
}-\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}\right)" class="ltx_Math" display="inline" id="S4.T2.4.4.4.1.m1.5"><semantics id="S4.T2.4.4.4.1.m1.5a"><mrow id="S4.T2.4.4.4.1.m1.5.5" xref="S4.T2.4.4.4.1.m1.5.5.cmml"><mo id="S4.T2.4.4.4.1.m1.5.5a" xref="S4.T2.4.4.4.1.m1.5.5.cmml">−</mo><mrow id="S4.T2.4.4.4.1.m1.5.5.1" xref="S4.T2.4.4.4.1.m1.5.5.1.cmml"><mi id="S4.T2.4.4.4.1.m1.5.5.1.3" xref="S4.T2.4.4.4.1.m1.5.5.1.3.cmml">ϵ</mi><mo id="S4.T2.4.4.4.1.m1.5.5.1.2" xref="S4.T2.4.4.4.1.m1.5.5.1.2.cmml">⁢</mo><mrow id="S4.T2.4.4.4.1.m1.5.5.1.1.1" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.cmml"><mo id="S4.T2.4.4.4.1.m1.5.5.1.1.1.2" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.cmml"><mrow id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.cmml"><mi id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.2" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.2.cmml">β</mi><mo id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.1" lspace="0.167em" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3.cmml"><mi id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3.1" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3a" lspace="0.167em" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.4.4.4.1.m1.2.2" xref="S4.T2.4.4.4.1.m1.2.2.cmml"><mrow id="S4.T2.4.4.4.1.m1.1.1.1" xref="S4.T2.4.4.4.1.m1.1.1.1.cmml"><msub id="S4.T2.4.4.4.1.m1.1.1.1.3" xref="S4.T2.4.4.4.1.m1.1.1.1.3.cmml"><mi id="S4.T2.4.4.4.1.m1.1.1.1.3.2" xref="S4.T2.4.4.4.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.4.4.4.1.m1.1.1.1.3.3" xref="S4.T2.4.4.4.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.4.4.4.1.m1.1.1.1.2" xref="S4.T2.4.4.4.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.4.4.4.1.m1.1.1.1.1.1" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.cmml"><mo id="S4.T2.4.4.4.1.m1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.cmml"><msub id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.2" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.3" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.1" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.3" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.4.4.4.1.m1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.4.4.4.1.m1.2.2.2" xref="S4.T2.4.4.4.1.m1.2.2.2.cmml"><msub id="S4.T2.4.4.4.1.m1.2.2.2.3" xref="S4.T2.4.4.4.1.m1.2.2.2.3.cmml"><mi id="S4.T2.4.4.4.1.m1.2.2.2.3.2" xref="S4.T2.4.4.4.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.4.4.4.1.m1.2.2.2.3.3" xref="S4.T2.4.4.4.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.4.4.4.1.m1.2.2.2.2" xref="S4.T2.4.4.4.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.4.4.4.1.m1.2.2.2.1.1" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.4.4.4.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.1" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.3" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.4.4.4.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.1" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.1.cmml">−</mo><mrow id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.cmml"><mi id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.2" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.2.cmml">β</mi><mo id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.1" lspace="0.167em" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3.cmml"><mi id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3.1" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3a" lspace="0.167em" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.4.4.4.1.m1.4.4" xref="S4.T2.4.4.4.1.m1.4.4.cmml"><mrow id="S4.T2.4.4.4.1.m1.3.3.1" xref="S4.T2.4.4.4.1.m1.3.3.1.cmml"><msub id="S4.T2.4.4.4.1.m1.3.3.1.3" xref="S4.T2.4.4.4.1.m1.3.3.1.3.cmml"><mi id="S4.T2.4.4.4.1.m1.3.3.1.3.2" xref="S4.T2.4.4.4.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.4.4.4.1.m1.3.3.1.3.3" xref="S4.T2.4.4.4.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.4.4.4.1.m1.3.3.1.2" xref="S4.T2.4.4.4.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.4.4.4.1.m1.3.3.1.1.1" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.4.4.4.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.2" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.1" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.3" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.4.4.4.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.4.4.4.1.m1.4.4.2" xref="S4.T2.4.4.4.1.m1.4.4.2.cmml"><msub id="S4.T2.4.4.4.1.m1.4.4.2.3" xref="S4.T2.4.4.4.1.m1.4.4.2.3.cmml"><mi id="S4.T2.4.4.4.1.m1.4.4.2.3.2" xref="S4.T2.4.4.4.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.4.4.4.1.m1.4.4.2.3.3" xref="S4.T2.4.4.4.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.4.4.4.1.m1.4.4.2.2" xref="S4.T2.4.4.4.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.4.4.4.1.m1.4.4.2.1.1" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.cmml"><mo id="S4.T2.4.4.4.1.m1.4.4.2.1.1.2" stretchy="false" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.cmml"><msub id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.2" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.3" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.1" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.3" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.4.4.4.1.m1.4.4.2.1.1.3" stretchy="false" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.4.4.4.1.m1.5.5.1.1.1.3" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.4.4.4.1.m1.5b"><apply id="S4.T2.4.4.4.1.m1.5.5.cmml" xref="S4.T2.4.4.4.1.m1.5.5"><minus id="S4.T2.4.4.4.1.m1.5.5.2.cmml" xref="S4.T2.4.4.4.1.m1.5.5"></minus><apply id="S4.T2.4.4.4.1.m1.5.5.1.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1"><times id="S4.T2.4.4.4.1.m1.5.5.1.2.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.2"></times><ci id="S4.T2.4.4.4.1.m1.5.5.1.3.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.3">italic-ϵ</ci><apply id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1"><minus id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.1"></minus><apply id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2"><times id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.1.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.1"></times><ci id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.2.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.2">𝛽</ci><apply id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3"><log id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3.1.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.2.3.1"></log><apply id="S4.T2.4.4.4.1.m1.2.2.cmml" xref="S4.T2.4.4.4.1.m1.2.2"><divide id="S4.T2.4.4.4.1.m1.2.2.3.cmml" xref="S4.T2.4.4.4.1.m1.2.2"></divide><apply id="S4.T2.4.4.4.1.m1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1"><times id="S4.T2.4.4.4.1.m1.1.1.1.2.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.2"></times><apply id="S4.T2.4.4.4.1.m1.1.1.1.3.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.1.1.1.3.1.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.T2.4.4.4.1.m1.1.1.1.3.2.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.4.4.4.1.m1.1.1.1.3.3.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.T2.4.4.4.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.4.4.4.1.m1.2.2.2.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2"><times id="S4.T2.4.4.4.1.m1.2.2.2.2.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.2"></times><apply id="S4.T2.4.4.4.1.m1.2.2.2.3.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.2.2.2.3.1.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.3">subscript</csymbol><ci id="S4.T2.4.4.4.1.m1.2.2.2.3.2.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.3.2">𝜋</ci><ci id="S4.T2.4.4.4.1.m1.2.2.2.3.3a.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.3.3"><mtext id="S4.T2.4.4.4.1.m1.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.4.4.4.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.4.4.4.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3"><times id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.1.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.1"></times><ci id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.2.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.2">𝛽</ci><apply id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3"><log id="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3.1.cmml" xref="S4.T2.4.4.4.1.m1.5.5.1.1.1.1.3.3.1"></log><apply id="S4.T2.4.4.4.1.m1.4.4.cmml" xref="S4.T2.4.4.4.1.m1.4.4"><divide id="S4.T2.4.4.4.1.m1.4.4.3.cmml" xref="S4.T2.4.4.4.1.m1.4.4"></divide><apply id="S4.T2.4.4.4.1.m1.3.3.1.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1"><times id="S4.T2.4.4.4.1.m1.3.3.1.2.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.2"></times><apply id="S4.T2.4.4.4.1.m1.3.3.1.3.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.3.3.1.3.1.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.3">subscript</csymbol><ci id="S4.T2.4.4.4.1.m1.3.3.1.3.2.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.3.2">𝜋</ci><ci id="S4.T2.4.4.4.1.m1.3.3.1.3.3.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.4.4.4.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.4.4.4.1.m1.4.4.2.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2"><times id="S4.T2.4.4.4.1.m1.4.4.2.2.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.2"></times><apply id="S4.T2.4.4.4.1.m1.4.4.2.3.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.4.4.2.3.1.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.3">subscript</csymbol><ci id="S4.T2.4.4.4.1.m1.4.4.2.3.2.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.3.2">𝜋</ci><ci id="S4.T2.4.4.4.1.m1.4.4.2.3.3a.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.3.3"><mtext id="S4.T2.4.4.4.1.m1.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.4.4.4.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.1.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.3.cmml" xref="S4.T2.4.4.4.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.4.4.4.1.m1.5c">-\epsilon\left(\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)%
}-\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.4.4.4.1.m1.5d">- italic_ϵ ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG )</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.5.5.5.2" style="padding-left:7.7pt;padding-right:7.7pt;">rDPO <cite class="ltx_cite ltx_citemacro_citep">(Chowdhury et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib13" title="">2024</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.5.5.5.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="\frac{-(1-\epsilon)\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}%
}(y_{w}|x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}%
\right)+\epsilon\left(\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y%
_{l}|x)}-\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}%
\right)}{1-2\epsilon}" class="ltx_Math" display="inline" id="S4.T2.5.5.5.1.m1.11"><semantics id="S4.T2.5.5.5.1.m1.11a"><mfrac id="S4.T2.5.5.5.1.m1.11.11" xref="S4.T2.5.5.5.1.m1.11.11.cmml"><mrow id="S4.T2.5.5.5.1.m1.11.11.11" xref="S4.T2.5.5.5.1.m1.11.11.11.cmml"><mrow id="S4.T2.5.5.5.1.m1.10.10.10.10" xref="S4.T2.5.5.5.1.m1.10.10.10.10.cmml"><mo id="S4.T2.5.5.5.1.m1.10.10.10.10a" xref="S4.T2.5.5.5.1.m1.10.10.10.10.cmml">−</mo><mrow id="S4.T2.5.5.5.1.m1.10.10.10.10.2" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.cmml"><mrow id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.cmml"><mn id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.2" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.2.cmml">1</mn><mo id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.1" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.1.cmml">−</mo><mi id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.3" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.3.cmml">ϵ</mi></mrow><mo id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.cmml">)</mo></mrow><mo id="S4.T2.5.5.5.1.m1.10.10.10.10.2.3" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.3.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.2" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.cmml"><mrow id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.2" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.2.cmml">β</mi><mo id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.1" lspace="0.167em" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3.cmml"><mi id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3.1" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3a" lspace="0.167em" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.5.5.5.1.m1.2.2.2.2" xref="S4.T2.5.5.5.1.m1.2.2.2.2.cmml"><mrow id="S4.T2.5.5.5.1.m1.1.1.1.1.1" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.1.1.1.1.1.3" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.2" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.3" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.5.5.5.1.m1.1.1.1.1.1.2" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.1" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.3" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.5.5.5.1.m1.2.2.2.2.2" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.cmml"><msub id="S4.T2.5.5.5.1.m1.2.2.2.2.2.3" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.cmml"><mi id="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.2" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.3" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.5.5.5.1.m1.2.2.2.2.2.2" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.1" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.3" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.1" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.1.cmml">−</mo><mrow id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.cmml"><mi id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.2" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.2.cmml">β</mi><mo id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.1" lspace="0.167em" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3.cmml"><mi id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3.1" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3a" lspace="0.167em" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.5.5.5.1.m1.4.4.4.4" xref="S4.T2.5.5.5.1.m1.4.4.4.4.cmml"><mrow id="S4.T2.5.5.5.1.m1.3.3.3.3.1" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.cmml"><msub id="S4.T2.5.5.5.1.m1.3.3.3.3.1.3" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.cmml"><mi id="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.2" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.3" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.5.5.5.1.m1.3.3.3.3.1.2" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.1" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.3" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.5.5.5.1.m1.4.4.4.4.2" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.cmml"><msub id="S4.T2.5.5.5.1.m1.4.4.4.4.2.3" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.cmml"><mi id="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.2" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.3" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.5.5.5.1.m1.4.4.4.4.2.2" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.1" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.3" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.3" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.T2.5.5.5.1.m1.11.11.11.12" xref="S4.T2.5.5.5.1.m1.11.11.11.12.cmml">+</mo><mrow id="S4.T2.5.5.5.1.m1.11.11.11.11" xref="S4.T2.5.5.5.1.m1.11.11.11.11.cmml"><mi id="S4.T2.5.5.5.1.m1.11.11.11.11.3" xref="S4.T2.5.5.5.1.m1.11.11.11.11.3.cmml">ϵ</mi><mo id="S4.T2.5.5.5.1.m1.11.11.11.11.2" xref="S4.T2.5.5.5.1.m1.11.11.11.11.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.2" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.cmml"><mrow id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.2.cmml">β</mi><mo id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.1" lspace="0.167em" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3.cmml"><mi id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3.1" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3a" lspace="0.167em" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.5.5.5.1.m1.6.6.6.6" xref="S4.T2.5.5.5.1.m1.6.6.6.6.cmml"><mrow id="S4.T2.5.5.5.1.m1.5.5.5.5.1" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.cmml"><msub id="S4.T2.5.5.5.1.m1.5.5.5.5.1.3" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.cmml"><mi id="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.2" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.2.cmml">π</mi><mi id="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.3" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.5.5.5.1.m1.5.5.5.5.1.2" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.1" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.3" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.5.5.5.1.m1.6.6.6.6.2" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.cmml"><msub id="S4.T2.5.5.5.1.m1.6.6.6.6.2.3" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.cmml"><mi id="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.2" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.2.cmml">π</mi><mtext id="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.3" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.5.5.5.1.m1.6.6.6.6.2.2" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.1" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.3" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.1" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.1.cmml">−</mo><mrow id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.cmml"><mi id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.2" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.2.cmml">β</mi><mo id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.1" lspace="0.167em" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3.cmml"><mi id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3.1" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3a" lspace="0.167em" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.5.5.5.1.m1.8.8.8.8" xref="S4.T2.5.5.5.1.m1.8.8.8.8.cmml"><mrow id="S4.T2.5.5.5.1.m1.7.7.7.7.1" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.cmml"><msub id="S4.T2.5.5.5.1.m1.7.7.7.7.1.3" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.cmml"><mi id="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.2" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.2.cmml">π</mi><mi id="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.3" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.5.5.5.1.m1.7.7.7.7.1.2" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.1" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.3" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.5.5.5.1.m1.8.8.8.8.2" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.cmml"><msub id="S4.T2.5.5.5.1.m1.8.8.8.8.2.3" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.cmml"><mi id="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.2" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.2.cmml">π</mi><mtext id="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.3" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.5.5.5.1.m1.8.8.8.8.2.2" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.2.cmml">⁢</mo><mrow id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.cmml"><mo id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.2" stretchy="false" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.cmml">(</mo><mrow id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.cmml"><msub id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.cmml"><mi id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.2" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.3" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.1" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.3" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.3" stretchy="false" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.3" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="S4.T2.5.5.5.1.m1.11.11.13" xref="S4.T2.5.5.5.1.m1.11.11.13.cmml"><mn id="S4.T2.5.5.5.1.m1.11.11.13.2" xref="S4.T2.5.5.5.1.m1.11.11.13.2.cmml">1</mn><mo id="S4.T2.5.5.5.1.m1.11.11.13.1" xref="S4.T2.5.5.5.1.m1.11.11.13.1.cmml">−</mo><mrow id="S4.T2.5.5.5.1.m1.11.11.13.3" xref="S4.T2.5.5.5.1.m1.11.11.13.3.cmml"><mn id="S4.T2.5.5.5.1.m1.11.11.13.3.2" xref="S4.T2.5.5.5.1.m1.11.11.13.3.2.cmml">2</mn><mo id="S4.T2.5.5.5.1.m1.11.11.13.3.1" xref="S4.T2.5.5.5.1.m1.11.11.13.3.1.cmml">⁢</mo><mi id="S4.T2.5.5.5.1.m1.11.11.13.3.3" xref="S4.T2.5.5.5.1.m1.11.11.13.3.3.cmml">ϵ</mi></mrow></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S4.T2.5.5.5.1.m1.11b"><apply id="S4.T2.5.5.5.1.m1.11.11.cmml" xref="S4.T2.5.5.5.1.m1.11.11"><divide id="S4.T2.5.5.5.1.m1.11.11.12.cmml" xref="S4.T2.5.5.5.1.m1.11.11"></divide><apply id="S4.T2.5.5.5.1.m1.11.11.11.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11"><plus id="S4.T2.5.5.5.1.m1.11.11.11.12.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.12"></plus><apply id="S4.T2.5.5.5.1.m1.10.10.10.10.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10"><minus id="S4.T2.5.5.5.1.m1.10.10.10.10.3.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10"></minus><apply id="S4.T2.5.5.5.1.m1.10.10.10.10.2.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2"><times id="S4.T2.5.5.5.1.m1.10.10.10.10.2.3.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.3"></times><apply id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1"><minus id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.1"></minus><cn id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.2.cmml" type="integer" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.2">1</cn><ci id="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.9.9.9.9.1.1.1.1.3">italic-ϵ</ci></apply><apply id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1"><minus id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.1"></minus><apply id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2"><times id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.1"></times><ci id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.2">𝛽</ci><apply id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3"><log id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3.1.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.2.3.1"></log><apply id="S4.T2.5.5.5.1.m1.2.2.2.2.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2"><divide id="S4.T2.5.5.5.1.m1.2.2.2.2.3.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2"></divide><apply id="S4.T2.5.5.5.1.m1.1.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1"><times id="S4.T2.5.5.5.1.m1.1.1.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.2"></times><apply id="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.1.1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.5.5.5.1.m1.2.2.2.2.2.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2"><times id="S4.T2.5.5.5.1.m1.2.2.2.2.2.2.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.2"></times><apply id="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.1.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.3">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.2.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.2">𝜋</ci><ci id="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.3a.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.3"><mtext id="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.2.2.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3"><times id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.1.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.1"></times><ci id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.2.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.2">𝛽</ci><apply id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3"><log id="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3.1.cmml" xref="S4.T2.5.5.5.1.m1.10.10.10.10.2.2.1.1.3.3.1"></log><apply id="S4.T2.5.5.5.1.m1.4.4.4.4.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4"><divide id="S4.T2.5.5.5.1.m1.4.4.4.4.3.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4"></divide><apply id="S4.T2.5.5.5.1.m1.3.3.3.3.1.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1"><times id="S4.T2.5.5.5.1.m1.3.3.3.3.1.2.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.2"></times><apply id="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.1.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.3">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.2.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.2">𝜋</ci><ci id="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.3.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.3.3.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.5.5.5.1.m1.4.4.4.4.2.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2"><times id="S4.T2.5.5.5.1.m1.4.4.4.4.2.2.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.2"></times><apply id="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.1.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.3">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.2.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.2">𝜋</ci><ci id="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.3a.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.3"><mtext id="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.4.4.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply><apply id="S4.T2.5.5.5.1.m1.11.11.11.11.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11"><times id="S4.T2.5.5.5.1.m1.11.11.11.11.2.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.2"></times><ci id="S4.T2.5.5.5.1.m1.11.11.11.11.3.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.3">italic-ϵ</ci><apply id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1"><minus id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.1"></minus><apply id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2"><times id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.1"></times><ci id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.2">𝛽</ci><apply id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3"><log id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3.1.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.2.3.1"></log><apply id="S4.T2.5.5.5.1.m1.6.6.6.6.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6"><divide id="S4.T2.5.5.5.1.m1.6.6.6.6.3.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6"></divide><apply id="S4.T2.5.5.5.1.m1.5.5.5.5.1.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1"><times id="S4.T2.5.5.5.1.m1.5.5.5.5.1.2.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.2"></times><apply id="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.1.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.3">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.2.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.2">𝜋</ci><ci id="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.3.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.3.3">𝜃</ci></apply><apply id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1"><csymbol cd="latexml" id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.5.5.5.5.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.5.5.5.1.m1.6.6.6.6.2.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2"><times id="S4.T2.5.5.5.1.m1.6.6.6.6.2.2.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.2"></times><apply id="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.1.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.3">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.2.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.2">𝜋</ci><ci id="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.3a.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.3"><mtext id="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.3.cmml" mathsize="50%" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1"><csymbol cd="latexml" id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.6.6.6.6.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3"><times id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.1.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.1"></times><ci id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.2.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.2">𝛽</ci><apply id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3"><log id="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3.1.cmml" xref="S4.T2.5.5.5.1.m1.11.11.11.11.1.1.1.3.3.1"></log><apply id="S4.T2.5.5.5.1.m1.8.8.8.8.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8"><divide id="S4.T2.5.5.5.1.m1.8.8.8.8.3.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8"></divide><apply id="S4.T2.5.5.5.1.m1.7.7.7.7.1.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1"><times id="S4.T2.5.5.5.1.m1.7.7.7.7.1.2.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.2"></times><apply id="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.1.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.3">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.2.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.2">𝜋</ci><ci id="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.3.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.3.3">𝜃</ci></apply><apply id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1"><csymbol cd="latexml" id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.7.7.7.7.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.5.5.5.1.m1.8.8.8.8.2.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2"><times id="S4.T2.5.5.5.1.m1.8.8.8.8.2.2.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.2"></times><apply id="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.3"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.1.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.3">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.2.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.2">𝜋</ci><ci id="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.3a.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.3"><mtext id="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.3.cmml" mathsize="50%" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1"><csymbol cd="latexml" id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.1.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.1.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.2.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.3.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.3.cmml" xref="S4.T2.5.5.5.1.m1.8.8.8.8.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply><apply id="S4.T2.5.5.5.1.m1.11.11.13.cmml" xref="S4.T2.5.5.5.1.m1.11.11.13"><minus id="S4.T2.5.5.5.1.m1.11.11.13.1.cmml" xref="S4.T2.5.5.5.1.m1.11.11.13.1"></minus><cn id="S4.T2.5.5.5.1.m1.11.11.13.2.cmml" type="integer" xref="S4.T2.5.5.5.1.m1.11.11.13.2">1</cn><apply id="S4.T2.5.5.5.1.m1.11.11.13.3.cmml" xref="S4.T2.5.5.5.1.m1.11.11.13.3"><times id="S4.T2.5.5.5.1.m1.11.11.13.3.1.cmml" xref="S4.T2.5.5.5.1.m1.11.11.13.3.1"></times><cn id="S4.T2.5.5.5.1.m1.11.11.13.3.2.cmml" type="integer" xref="S4.T2.5.5.5.1.m1.11.11.13.3.2">2</cn><ci id="S4.T2.5.5.5.1.m1.11.11.13.3.3.cmml" xref="S4.T2.5.5.5.1.m1.11.11.13.3.3">italic-ϵ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.5.5.5.1.m1.11c">\frac{-(1-\epsilon)\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}%
}(y_{w}|x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}%
\right)+\epsilon\left(\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y%
_{l}|x)}-\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}%
\right)}{1-2\epsilon}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.5.5.5.1.m1.11d">divide start_ARG - ( 1 - italic_ϵ ) ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG ) + italic_ϵ ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG ) end_ARG start_ARG 1 - 2 italic_ϵ end_ARG</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.6.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.6.6.6.2" style="padding-left:7.7pt;padding-right:7.7pt;">RPO <cite class="ltx_cite ltx_citemacro_citep">(Pang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib45" title="">2024</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.6.6.6.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-\log\sigma\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|%
x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)-%
\alpha\frac{\pi_{\theta}(y_{w}|x)}{\mid y_{w}\mid}" class="ltx_Math" display="inline" id="S4.T2.6.6.6.1.m1.7"><semantics id="S4.T2.6.6.6.1.m1.7a"><mrow id="S4.T2.6.6.6.1.m1.7.7" xref="S4.T2.6.6.6.1.m1.7.7.cmml"><mrow id="S4.T2.6.6.6.1.m1.7.7.1" xref="S4.T2.6.6.6.1.m1.7.7.1.cmml"><mo id="S4.T2.6.6.6.1.m1.7.7.1a" rspace="0.167em" xref="S4.T2.6.6.6.1.m1.7.7.1.cmml">−</mo><mrow id="S4.T2.6.6.6.1.m1.7.7.1.1" xref="S4.T2.6.6.6.1.m1.7.7.1.1.cmml"><mrow id="S4.T2.6.6.6.1.m1.7.7.1.1.3" xref="S4.T2.6.6.6.1.m1.7.7.1.1.3.cmml"><mi id="S4.T2.6.6.6.1.m1.7.7.1.1.3.1" xref="S4.T2.6.6.6.1.m1.7.7.1.1.3.1.cmml">log</mi><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.3a" lspace="0.167em" xref="S4.T2.6.6.6.1.m1.7.7.1.1.3.cmml">⁡</mo><mi id="S4.T2.6.6.6.1.m1.7.7.1.1.3.2" xref="S4.T2.6.6.6.1.m1.7.7.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.2" xref="S4.T2.6.6.6.1.m1.7.7.1.1.2.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.cmml"><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.2" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.cmml"><mrow id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.cmml"><mi id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.2" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.2.cmml">β</mi><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.1" lspace="0.167em" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3.cmml"><mi id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3.1" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3a" lspace="0.167em" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.6.6.6.1.m1.2.2" xref="S4.T2.6.6.6.1.m1.2.2.cmml"><mrow id="S4.T2.6.6.6.1.m1.1.1.1" xref="S4.T2.6.6.6.1.m1.1.1.1.cmml"><msub id="S4.T2.6.6.6.1.m1.1.1.1.3" xref="S4.T2.6.6.6.1.m1.1.1.1.3.cmml"><mi id="S4.T2.6.6.6.1.m1.1.1.1.3.2" xref="S4.T2.6.6.6.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.6.6.6.1.m1.1.1.1.3.3" xref="S4.T2.6.6.6.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.6.6.6.1.m1.1.1.1.2" xref="S4.T2.6.6.6.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.1.1.1.1.1" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.cmml"><mo id="S4.T2.6.6.6.1.m1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.cmml"><msub id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.2" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.3" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.1" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.3" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.6.6.6.1.m1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.6.6.6.1.m1.2.2.2" xref="S4.T2.6.6.6.1.m1.2.2.2.cmml"><msub id="S4.T2.6.6.6.1.m1.2.2.2.3" xref="S4.T2.6.6.6.1.m1.2.2.2.3.cmml"><mi id="S4.T2.6.6.6.1.m1.2.2.2.3.2" xref="S4.T2.6.6.6.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.6.6.6.1.m1.2.2.2.3.3" xref="S4.T2.6.6.6.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.6.6.6.1.m1.2.2.2.2" xref="S4.T2.6.6.6.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.2.2.2.1.1" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.6.6.6.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.1" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.3" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.6.6.6.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.1" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.1.cmml">−</mo><mrow id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.cmml"><mi id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.2" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.2.cmml">β</mi><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.1" lspace="0.167em" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3.cmml"><mi id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3.1" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3a" lspace="0.167em" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.6.6.6.1.m1.4.4" xref="S4.T2.6.6.6.1.m1.4.4.cmml"><mrow id="S4.T2.6.6.6.1.m1.3.3.1" xref="S4.T2.6.6.6.1.m1.3.3.1.cmml"><msub id="S4.T2.6.6.6.1.m1.3.3.1.3" xref="S4.T2.6.6.6.1.m1.3.3.1.3.cmml"><mi id="S4.T2.6.6.6.1.m1.3.3.1.3.2" xref="S4.T2.6.6.6.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.6.6.6.1.m1.3.3.1.3.3" xref="S4.T2.6.6.6.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.6.6.6.1.m1.3.3.1.2" xref="S4.T2.6.6.6.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.3.3.1.1.1" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.6.6.6.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.2" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.1" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.3" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.6.6.6.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.6.6.6.1.m1.4.4.2" xref="S4.T2.6.6.6.1.m1.4.4.2.cmml"><msub id="S4.T2.6.6.6.1.m1.4.4.2.3" xref="S4.T2.6.6.6.1.m1.4.4.2.3.cmml"><mi id="S4.T2.6.6.6.1.m1.4.4.2.3.2" xref="S4.T2.6.6.6.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.6.6.6.1.m1.4.4.2.3.3" xref="S4.T2.6.6.6.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.6.6.6.1.m1.4.4.2.2" xref="S4.T2.6.6.6.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.4.4.2.1.1" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.cmml"><mo id="S4.T2.6.6.6.1.m1.4.4.2.1.1.2" stretchy="false" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.cmml"><msub id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.2" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.3" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.1" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.3" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.6.6.6.1.m1.4.4.2.1.1.3" stretchy="false" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.3" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.T2.6.6.6.1.m1.7.7.2" xref="S4.T2.6.6.6.1.m1.7.7.2.cmml">−</mo><mrow id="S4.T2.6.6.6.1.m1.7.7.3" xref="S4.T2.6.6.6.1.m1.7.7.3.cmml"><mi id="S4.T2.6.6.6.1.m1.7.7.3.2" xref="S4.T2.6.6.6.1.m1.7.7.3.2.cmml">α</mi><mo id="S4.T2.6.6.6.1.m1.7.7.3.1" xref="S4.T2.6.6.6.1.m1.7.7.3.1.cmml">⁢</mo><mfrac id="S4.T2.6.6.6.1.m1.6.6" xref="S4.T2.6.6.6.1.m1.6.6.cmml"><mrow id="S4.T2.6.6.6.1.m1.5.5.1" xref="S4.T2.6.6.6.1.m1.5.5.1.cmml"><msub id="S4.T2.6.6.6.1.m1.5.5.1.3" xref="S4.T2.6.6.6.1.m1.5.5.1.3.cmml"><mi id="S4.T2.6.6.6.1.m1.5.5.1.3.2" xref="S4.T2.6.6.6.1.m1.5.5.1.3.2.cmml">π</mi><mi id="S4.T2.6.6.6.1.m1.5.5.1.3.3" xref="S4.T2.6.6.6.1.m1.5.5.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.6.6.6.1.m1.5.5.1.2" xref="S4.T2.6.6.6.1.m1.5.5.1.2.cmml">⁢</mo><mrow id="S4.T2.6.6.6.1.m1.5.5.1.1.1" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.cmml"><mo id="S4.T2.6.6.6.1.m1.5.5.1.1.1.2" stretchy="false" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.cmml"><msub id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.cmml"><mi id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.2" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.3" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.1" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.3" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.6.6.6.1.m1.5.5.1.1.1.3" stretchy="false" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.6.6.6.1.m1.6.6.2.1" xref="S4.T2.6.6.6.1.m1.6.6.2.2.cmml"><mo fence="true" id="S4.T2.6.6.6.1.m1.6.6.2.1.2" rspace="0em" xref="S4.T2.6.6.6.1.m1.6.6.2.2.1.cmml">∣</mo><msub id="S4.T2.6.6.6.1.m1.6.6.2.1.1" xref="S4.T2.6.6.6.1.m1.6.6.2.1.1.cmml"><mi id="S4.T2.6.6.6.1.m1.6.6.2.1.1.2" xref="S4.T2.6.6.6.1.m1.6.6.2.1.1.2.cmml">y</mi><mi id="S4.T2.6.6.6.1.m1.6.6.2.1.1.3" xref="S4.T2.6.6.6.1.m1.6.6.2.1.1.3.cmml">w</mi></msub><mo fence="true" id="S4.T2.6.6.6.1.m1.6.6.2.1.3" lspace="0em" xref="S4.T2.6.6.6.1.m1.6.6.2.2.1.cmml">∣</mo></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.6.6.6.1.m1.7b"><apply id="S4.T2.6.6.6.1.m1.7.7.cmml" xref="S4.T2.6.6.6.1.m1.7.7"><minus id="S4.T2.6.6.6.1.m1.7.7.2.cmml" xref="S4.T2.6.6.6.1.m1.7.7.2"></minus><apply id="S4.T2.6.6.6.1.m1.7.7.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1"><minus id="S4.T2.6.6.6.1.m1.7.7.1.2.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1"></minus><apply id="S4.T2.6.6.6.1.m1.7.7.1.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1"><times id="S4.T2.6.6.6.1.m1.7.7.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.2"></times><apply id="S4.T2.6.6.6.1.m1.7.7.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.3"><log id="S4.T2.6.6.6.1.m1.7.7.1.1.3.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.3.1"></log><ci id="S4.T2.6.6.6.1.m1.7.7.1.1.3.2.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.3.2">𝜎</ci></apply><apply id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1"><minus id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.1"></minus><apply id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2"><times id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.1"></times><ci id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.2.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.2">𝛽</ci><apply id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3"><log id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.2.3.1"></log><apply id="S4.T2.6.6.6.1.m1.2.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2"><divide id="S4.T2.6.6.6.1.m1.2.2.3.cmml" xref="S4.T2.6.6.6.1.m1.2.2"></divide><apply id="S4.T2.6.6.6.1.m1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1"><times id="S4.T2.6.6.6.1.m1.1.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.2"></times><apply id="S4.T2.6.6.6.1.m1.1.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.1.1.1.3.1.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.1.1.1.3.2.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.6.6.6.1.m1.1.1.1.3.3.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.6.6.6.1.m1.2.2.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2"><times id="S4.T2.6.6.6.1.m1.2.2.2.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.2"></times><apply id="S4.T2.6.6.6.1.m1.2.2.2.3.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.2.2.2.3.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.3">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.2.2.2.3.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.3.2">𝜋</ci><ci id="S4.T2.6.6.6.1.m1.2.2.2.3.3a.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.3.3"><mtext id="S4.T2.6.6.6.1.m1.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.6.6.6.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3"><times id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.1"></times><ci id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.2.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.2">𝛽</ci><apply id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3"><log id="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.1.1.1.1.1.3.3.1"></log><apply id="S4.T2.6.6.6.1.m1.4.4.cmml" xref="S4.T2.6.6.6.1.m1.4.4"><divide id="S4.T2.6.6.6.1.m1.4.4.3.cmml" xref="S4.T2.6.6.6.1.m1.4.4"></divide><apply id="S4.T2.6.6.6.1.m1.3.3.1.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1"><times id="S4.T2.6.6.6.1.m1.3.3.1.2.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.2"></times><apply id="S4.T2.6.6.6.1.m1.3.3.1.3.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.3.3.1.3.1.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.3">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.3.3.1.3.2.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.3.2">𝜋</ci><ci id="S4.T2.6.6.6.1.m1.3.3.1.3.3.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.6.6.6.1.m1.4.4.2.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2"><times id="S4.T2.6.6.6.1.m1.4.4.2.2.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.2"></times><apply id="S4.T2.6.6.6.1.m1.4.4.2.3.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.4.4.2.3.1.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.3">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.4.4.2.3.2.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.3.2">𝜋</ci><ci id="S4.T2.6.6.6.1.m1.4.4.2.3.3a.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.3.3"><mtext id="S4.T2.6.6.6.1.m1.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.6.6.6.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply><apply id="S4.T2.6.6.6.1.m1.7.7.3.cmml" xref="S4.T2.6.6.6.1.m1.7.7.3"><times id="S4.T2.6.6.6.1.m1.7.7.3.1.cmml" xref="S4.T2.6.6.6.1.m1.7.7.3.1"></times><ci id="S4.T2.6.6.6.1.m1.7.7.3.2.cmml" xref="S4.T2.6.6.6.1.m1.7.7.3.2">𝛼</ci><apply id="S4.T2.6.6.6.1.m1.6.6.cmml" xref="S4.T2.6.6.6.1.m1.6.6"><divide id="S4.T2.6.6.6.1.m1.6.6.3.cmml" xref="S4.T2.6.6.6.1.m1.6.6"></divide><apply id="S4.T2.6.6.6.1.m1.5.5.1.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1"><times id="S4.T2.6.6.6.1.m1.5.5.1.2.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.2"></times><apply id="S4.T2.6.6.6.1.m1.5.5.1.3.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.3"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.5.5.1.3.1.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.3">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.5.5.1.3.2.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.3.2">𝜋</ci><ci id="S4.T2.6.6.6.1.m1.5.5.1.3.3.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.3.3">𝜃</ci></apply><apply id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1"><csymbol cd="latexml" id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.1.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.2.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.3.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.5.5.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.6.6.6.1.m1.6.6.2.2.cmml" xref="S4.T2.6.6.6.1.m1.6.6.2.1"><csymbol cd="latexml" id="S4.T2.6.6.6.1.m1.6.6.2.2.1.cmml" xref="S4.T2.6.6.6.1.m1.6.6.2.1.2">delimited-∣∣</csymbol><apply id="S4.T2.6.6.6.1.m1.6.6.2.1.1.cmml" xref="S4.T2.6.6.6.1.m1.6.6.2.1.1"><csymbol cd="ambiguous" id="S4.T2.6.6.6.1.m1.6.6.2.1.1.1.cmml" xref="S4.T2.6.6.6.1.m1.6.6.2.1.1">subscript</csymbol><ci id="S4.T2.6.6.6.1.m1.6.6.2.1.1.2.cmml" xref="S4.T2.6.6.6.1.m1.6.6.2.1.1.2">𝑦</ci><ci id="S4.T2.6.6.6.1.m1.6.6.2.1.1.3.cmml" xref="S4.T2.6.6.6.1.m1.6.6.2.1.1.3">𝑤</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.6.6.6.1.m1.7c">-\log\sigma\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|%
x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)-%
\alpha\frac{\pi_{\theta}(y_{w}|x)}{\mid y_{w}\mid}</annotation><annotation encoding="application/x-llamapun" id="S4.T2.6.6.6.1.m1.7d">- roman_log italic_σ ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG ) - italic_α divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG ∣ italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ∣ end_ARG</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.7.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.7.7.7.2" style="padding-left:7.7pt;padding-right:7.7pt;">CPO <cite class="ltx_cite ltx_citemacro_citep">(Xu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib57" title="">2024</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.7.7.7.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-\log\sigma\left(\beta\log\pi_{\theta}(y_{w}|x)-\beta\log\pi_{\theta}(y_{l}|x)%
\right)-\lambda\log\pi_{\theta}(y_{w}|x)" class="ltx_Math" display="inline" id="S4.T2.7.7.7.1.m1.2"><semantics id="S4.T2.7.7.7.1.m1.2a"><mrow id="S4.T2.7.7.7.1.m1.2.2" xref="S4.T2.7.7.7.1.m1.2.2.cmml"><mrow id="S4.T2.7.7.7.1.m1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.cmml"><mo id="S4.T2.7.7.7.1.m1.1.1.1a" rspace="0.167em" xref="S4.T2.7.7.7.1.m1.1.1.1.cmml">−</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.cmml"><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.3.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.3.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.3.1.cmml">log</mi><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.3a" lspace="0.167em" xref="S4.T2.7.7.7.1.m1.1.1.1.1.3.cmml">⁡</mo><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.3.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.cmml"><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.cmml"><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.3.cmml">β</mi><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.2" lspace="0.167em" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.1.cmml">log</mi><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4a" lspace="0.167em" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.cmml">⁡</mo><msub id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.2.cmml">π</mi><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.3.cmml">θ</mi></msub></mrow><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.2a" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.3.cmml">−</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.3.cmml">β</mi><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.2" lspace="0.167em" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.1.cmml">log</mi><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4a" lspace="0.167em" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.cmml">⁡</mo><msub id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.2.cmml">π</mi><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.3.cmml">θ</mi></msub></mrow><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.2a" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.cmml"><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.cmml"><msub id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.cmml"><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.2" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.1" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.3" stretchy="false" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.3" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.T2.7.7.7.1.m1.2.2.3" xref="S4.T2.7.7.7.1.m1.2.2.3.cmml">−</mo><mrow id="S4.T2.7.7.7.1.m1.2.2.2" xref="S4.T2.7.7.7.1.m1.2.2.2.cmml"><mi id="S4.T2.7.7.7.1.m1.2.2.2.3" xref="S4.T2.7.7.7.1.m1.2.2.2.3.cmml">λ</mi><mo id="S4.T2.7.7.7.1.m1.2.2.2.2" lspace="0.167em" xref="S4.T2.7.7.7.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.7.7.7.1.m1.2.2.2.4" xref="S4.T2.7.7.7.1.m1.2.2.2.4.cmml"><mi id="S4.T2.7.7.7.1.m1.2.2.2.4.1" xref="S4.T2.7.7.7.1.m1.2.2.2.4.1.cmml">log</mi><mo id="S4.T2.7.7.7.1.m1.2.2.2.4a" lspace="0.167em" xref="S4.T2.7.7.7.1.m1.2.2.2.4.cmml">⁡</mo><msub id="S4.T2.7.7.7.1.m1.2.2.2.4.2" xref="S4.T2.7.7.7.1.m1.2.2.2.4.2.cmml"><mi id="S4.T2.7.7.7.1.m1.2.2.2.4.2.2" xref="S4.T2.7.7.7.1.m1.2.2.2.4.2.2.cmml">π</mi><mi id="S4.T2.7.7.7.1.m1.2.2.2.4.2.3" xref="S4.T2.7.7.7.1.m1.2.2.2.4.2.3.cmml">θ</mi></msub></mrow><mo id="S4.T2.7.7.7.1.m1.2.2.2.2a" xref="S4.T2.7.7.7.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.7.7.7.1.m1.2.2.2.1.1" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.7.7.7.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.1" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.3" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.7.7.7.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.7.7.7.1.m1.2b"><apply id="S4.T2.7.7.7.1.m1.2.2.cmml" xref="S4.T2.7.7.7.1.m1.2.2"><minus id="S4.T2.7.7.7.1.m1.2.2.3.cmml" xref="S4.T2.7.7.7.1.m1.2.2.3"></minus><apply id="S4.T2.7.7.7.1.m1.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1"><minus id="S4.T2.7.7.7.1.m1.1.1.1.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1"></minus><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1"><times id="S4.T2.7.7.7.1.m1.1.1.1.1.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.2"></times><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.3"><log id="S4.T2.7.7.7.1.m1.1.1.1.1.3.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.3.1"></log><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.3.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.3.2">𝜎</ci></apply><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1"><minus id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.3"></minus><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1"><times id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.2"></times><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.3">𝛽</ci><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4"><log id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.1"></log><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2"><csymbol cd="ambiguous" id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2">subscript</csymbol><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.2">𝜋</ci><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.4.2.3">𝜃</ci></apply></apply><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2"><times id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.2"></times><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.3">𝛽</ci><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4"><log id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.1"></log><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2"><csymbol cd="ambiguous" id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2">subscript</csymbol><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.2">𝜋</ci><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.4.2.3">𝜃</ci></apply></apply><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1"><csymbol cd="latexml" id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.1.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.2.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.3.cmml" xref="S4.T2.7.7.7.1.m1.1.1.1.1.1.1.1.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.7.7.7.1.m1.2.2.2.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2"><times id="S4.T2.7.7.7.1.m1.2.2.2.2.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.2"></times><ci id="S4.T2.7.7.7.1.m1.2.2.2.3.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.3">𝜆</ci><apply id="S4.T2.7.7.7.1.m1.2.2.2.4.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.4"><log id="S4.T2.7.7.7.1.m1.2.2.2.4.1.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.4.1"></log><apply id="S4.T2.7.7.7.1.m1.2.2.2.4.2.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.4.2"><csymbol cd="ambiguous" id="S4.T2.7.7.7.1.m1.2.2.2.4.2.1.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.4.2">subscript</csymbol><ci id="S4.T2.7.7.7.1.m1.2.2.2.4.2.2.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.4.2.2">𝜋</ci><ci id="S4.T2.7.7.7.1.m1.2.2.2.4.2.3.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.4.2.3">𝜃</ci></apply></apply><apply id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.7.7.7.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.7.7.7.1.m1.2c">-\log\sigma\left(\beta\log\pi_{\theta}(y_{w}|x)-\beta\log\pi_{\theta}(y_{l}|x)%
\right)-\lambda\log\pi_{\theta}(y_{w}|x)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.7.7.7.1.m1.2d">- roman_log italic_σ ( italic_β roman_log italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) - italic_β roman_log italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) ) - italic_λ roman_log italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x )</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.8.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.8.8.8.2" style="padding-left:7.7pt;padding-right:7.7pt;">SimPO <cite class="ltx_cite ltx_citemacro_citep">(Meng et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib40" title="">2024</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.8.8.8.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-\log\sigma\left(\frac{\beta}{|y_{w}|}\log\pi_{\theta}(y_{w}|x)-\frac{\beta}{|%
y_{l}|}\log\pi_{\theta}(y_{l}|x)-\gamma\right)" class="ltx_Math" display="inline" id="S4.T2.8.8.8.1.m1.3"><semantics id="S4.T2.8.8.8.1.m1.3a"><mrow id="S4.T2.8.8.8.1.m1.3.3" xref="S4.T2.8.8.8.1.m1.3.3.cmml"><mo id="S4.T2.8.8.8.1.m1.3.3a" rspace="0.167em" xref="S4.T2.8.8.8.1.m1.3.3.cmml">−</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1" xref="S4.T2.8.8.8.1.m1.3.3.1.cmml"><mrow id="S4.T2.8.8.8.1.m1.3.3.1.3" xref="S4.T2.8.8.8.1.m1.3.3.1.3.cmml"><mi id="S4.T2.8.8.8.1.m1.3.3.1.3.1" xref="S4.T2.8.8.8.1.m1.3.3.1.3.1.cmml">log</mi><mo id="S4.T2.8.8.8.1.m1.3.3.1.3a" lspace="0.167em" xref="S4.T2.8.8.8.1.m1.3.3.1.3.cmml">⁡</mo><mi id="S4.T2.8.8.8.1.m1.3.3.1.3.2" xref="S4.T2.8.8.8.1.m1.3.3.1.3.2.cmml">σ</mi></mrow><mo id="S4.T2.8.8.8.1.m1.3.3.1.2" xref="S4.T2.8.8.8.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.cmml"><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.cmml"><mfrac id="S4.T2.8.8.8.1.m1.1.1" xref="S4.T2.8.8.8.1.m1.1.1.cmml"><mi id="S4.T2.8.8.8.1.m1.1.1.3" xref="S4.T2.8.8.8.1.m1.1.1.3.cmml">β</mi><mrow id="S4.T2.8.8.8.1.m1.1.1.1.1" xref="S4.T2.8.8.8.1.m1.1.1.1.2.cmml"><mo id="S4.T2.8.8.8.1.m1.1.1.1.1.2" stretchy="false" xref="S4.T2.8.8.8.1.m1.1.1.1.2.1.cmml">|</mo><msub id="S4.T2.8.8.8.1.m1.1.1.1.1.1" xref="S4.T2.8.8.8.1.m1.1.1.1.1.1.cmml"><mi id="S4.T2.8.8.8.1.m1.1.1.1.1.1.2" xref="S4.T2.8.8.8.1.m1.1.1.1.1.1.2.cmml">y</mi><mi id="S4.T2.8.8.8.1.m1.1.1.1.1.1.3" xref="S4.T2.8.8.8.1.m1.1.1.1.1.1.3.cmml">w</mi></msub><mo id="S4.T2.8.8.8.1.m1.1.1.1.1.3" stretchy="false" xref="S4.T2.8.8.8.1.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.2" lspace="0.167em" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.cmml"><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.1.cmml">log</mi><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3a" lspace="0.167em" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.cmml">⁡</mo><msub id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.cmml"><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.2.cmml">π</mi><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.3.cmml">θ</mi></msub></mrow><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.2a" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.cmml"><msub id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.3.cmml">−</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.cmml"><mfrac id="S4.T2.8.8.8.1.m1.2.2" xref="S4.T2.8.8.8.1.m1.2.2.cmml"><mi id="S4.T2.8.8.8.1.m1.2.2.3" xref="S4.T2.8.8.8.1.m1.2.2.3.cmml">β</mi><mrow id="S4.T2.8.8.8.1.m1.2.2.1.1" xref="S4.T2.8.8.8.1.m1.2.2.1.2.cmml"><mo id="S4.T2.8.8.8.1.m1.2.2.1.1.2" stretchy="false" xref="S4.T2.8.8.8.1.m1.2.2.1.2.1.cmml">|</mo><msub id="S4.T2.8.8.8.1.m1.2.2.1.1.1" xref="S4.T2.8.8.8.1.m1.2.2.1.1.1.cmml"><mi id="S4.T2.8.8.8.1.m1.2.2.1.1.1.2" xref="S4.T2.8.8.8.1.m1.2.2.1.1.1.2.cmml">y</mi><mi id="S4.T2.8.8.8.1.m1.2.2.1.1.1.3" xref="S4.T2.8.8.8.1.m1.2.2.1.1.1.3.cmml">l</mi></msub><mo id="S4.T2.8.8.8.1.m1.2.2.1.1.3" stretchy="false" xref="S4.T2.8.8.8.1.m1.2.2.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.2" lspace="0.167em" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.cmml"><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3a" lspace="0.167em" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.cmml">⁡</mo><msub id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.cmml"><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.2.cmml">π</mi><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.3.cmml">θ</mi></msub></mrow><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.2a" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.cmml"><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.2" stretchy="false" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.cmml"><msub id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.cmml"><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.2" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.1" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.3" stretchy="false" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.3a" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.3.cmml">−</mo><mi id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.4" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.4.cmml">γ</mi></mrow><mo id="S4.T2.8.8.8.1.m1.3.3.1.1.1.3" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.8.8.8.1.m1.3b"><apply id="S4.T2.8.8.8.1.m1.3.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3"><minus id="S4.T2.8.8.8.1.m1.3.3.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3"></minus><apply id="S4.T2.8.8.8.1.m1.3.3.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1"><times id="S4.T2.8.8.8.1.m1.3.3.1.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.2"></times><apply id="S4.T2.8.8.8.1.m1.3.3.1.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.3"><log id="S4.T2.8.8.8.1.m1.3.3.1.3.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.3.1"></log><ci id="S4.T2.8.8.8.1.m1.3.3.1.3.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.3.2">𝜎</ci></apply><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1"><minus id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.3"></minus><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1"><times id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.2"></times><apply id="S4.T2.8.8.8.1.m1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.1.1"><divide id="S4.T2.8.8.8.1.m1.1.1.2.cmml" xref="S4.T2.8.8.8.1.m1.1.1"></divide><ci id="S4.T2.8.8.8.1.m1.1.1.3.cmml" xref="S4.T2.8.8.8.1.m1.1.1.3">𝛽</ci><apply id="S4.T2.8.8.8.1.m1.1.1.1.2.cmml" xref="S4.T2.8.8.8.1.m1.1.1.1.1"><abs id="S4.T2.8.8.8.1.m1.1.1.1.2.1.cmml" xref="S4.T2.8.8.8.1.m1.1.1.1.1.2"></abs><apply id="S4.T2.8.8.8.1.m1.1.1.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.T2.8.8.8.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.T2.8.8.8.1.m1.1.1.1.1.1.2.cmml" xref="S4.T2.8.8.8.1.m1.1.1.1.1.1.2">𝑦</ci><ci id="S4.T2.8.8.8.1.m1.1.1.1.1.1.3.cmml" xref="S4.T2.8.8.8.1.m1.1.1.1.1.1.3">𝑤</ci></apply></apply></apply><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3"><log id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.1"></log><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2">subscript</csymbol><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.2">𝜋</ci><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.3.2.3">𝜃</ci></apply></apply><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2"><times id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.2"></times><apply id="S4.T2.8.8.8.1.m1.2.2.cmml" xref="S4.T2.8.8.8.1.m1.2.2"><divide id="S4.T2.8.8.8.1.m1.2.2.2.cmml" xref="S4.T2.8.8.8.1.m1.2.2"></divide><ci id="S4.T2.8.8.8.1.m1.2.2.3.cmml" xref="S4.T2.8.8.8.1.m1.2.2.3">𝛽</ci><apply id="S4.T2.8.8.8.1.m1.2.2.1.2.cmml" xref="S4.T2.8.8.8.1.m1.2.2.1.1"><abs id="S4.T2.8.8.8.1.m1.2.2.1.2.1.cmml" xref="S4.T2.8.8.8.1.m1.2.2.1.1.2"></abs><apply id="S4.T2.8.8.8.1.m1.2.2.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.T2.8.8.8.1.m1.2.2.1.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S4.T2.8.8.8.1.m1.2.2.1.1.1.2.cmml" xref="S4.T2.8.8.8.1.m1.2.2.1.1.1.2">𝑦</ci><ci id="S4.T2.8.8.8.1.m1.2.2.1.1.1.3.cmml" xref="S4.T2.8.8.8.1.m1.2.2.1.1.1.3">𝑙</ci></apply></apply></apply><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3"><log id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.1"></log><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2">subscript</csymbol><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.2">𝜋</ci><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.3.2.3">𝜃</ci></apply></apply><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1"><csymbol cd="latexml" id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.1.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.2.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.3.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.2.1.1.1.3">𝑥</ci></apply></apply><ci id="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.4.cmml" xref="S4.T2.8.8.8.1.m1.3.3.1.1.1.1.4">𝛾</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.8.8.8.1.m1.3c">-\log\sigma\left(\frac{\beta}{|y_{w}|}\log\pi_{\theta}(y_{w}|x)-\frac{\beta}{|%
y_{l}|}\log\pi_{\theta}(y_{l}|x)-\gamma\right)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.8.8.8.1.m1.3d">- roman_log italic_σ ( divide start_ARG italic_β end_ARG start_ARG | italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | end_ARG roman_log italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) - divide start_ARG italic_β end_ARG start_ARG | italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | end_ARG roman_log italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) - italic_γ )</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.9.9.9">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.9.9.9.2" style="padding-left:7.7pt;padding-right:7.7pt;">S-DPO <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib12" title="">2024</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.9.9.9.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-\log\sigma\left(-\log\sum_{y_{l}\in\mathcal{Y}_{l}}\exp\left(\beta\log\frac{%
\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}-\beta\log\frac{\pi_{\theta}(%
y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)\right)" class="ltx_Math" display="inline" id="S4.T2.9.9.9.1.m1.6"><semantics id="S4.T2.9.9.9.1.m1.6a"><mrow id="S4.T2.9.9.9.1.m1.6.6" xref="S4.T2.9.9.9.1.m1.6.6.cmml"><mo id="S4.T2.9.9.9.1.m1.6.6a" rspace="0.167em" xref="S4.T2.9.9.9.1.m1.6.6.cmml">−</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1" xref="S4.T2.9.9.9.1.m1.6.6.1.cmml"><mrow id="S4.T2.9.9.9.1.m1.6.6.1.3" xref="S4.T2.9.9.9.1.m1.6.6.1.3.cmml"><mi id="S4.T2.9.9.9.1.m1.6.6.1.3.1" xref="S4.T2.9.9.9.1.m1.6.6.1.3.1.cmml">log</mi><mo id="S4.T2.9.9.9.1.m1.6.6.1.3a" lspace="0.167em" xref="S4.T2.9.9.9.1.m1.6.6.1.3.cmml">⁡</mo><mi id="S4.T2.9.9.9.1.m1.6.6.1.3.2" xref="S4.T2.9.9.9.1.m1.6.6.1.3.2.cmml">σ</mi></mrow><mo id="S4.T2.9.9.9.1.m1.6.6.1.2" xref="S4.T2.9.9.9.1.m1.6.6.1.2.cmml">⁢</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.cmml"><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.cmml">(</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.cmml"><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1a" rspace="0.167em" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.cmml">−</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.cmml"><mi id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.3.cmml">log</mi><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.cmml"><msub id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.cmml"><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.cmml"><msub id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.cmml"><mi id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.2.cmml">y</mi><mi id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.3.cmml">l</mi></msub><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.1.cmml">∈</mo><msub id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.2.cmml">𝒴</mi><mi id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.3.cmml">l</mi></msub></mrow></msub><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.9.9.9.1.m1.5.5" xref="S4.T2.9.9.9.1.m1.5.5.cmml">exp</mi><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1a" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.2.cmml"><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2.cmml">β</mi><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1" lspace="0.167em" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3a" lspace="0.167em" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.9.9.9.1.m1.2.2" xref="S4.T2.9.9.9.1.m1.2.2.cmml"><mrow id="S4.T2.9.9.9.1.m1.1.1.1" xref="S4.T2.9.9.9.1.m1.1.1.1.cmml"><msub id="S4.T2.9.9.9.1.m1.1.1.1.3" xref="S4.T2.9.9.9.1.m1.1.1.1.3.cmml"><mi id="S4.T2.9.9.9.1.m1.1.1.1.3.2" xref="S4.T2.9.9.9.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.9.9.9.1.m1.1.1.1.3.3" xref="S4.T2.9.9.9.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.9.9.9.1.m1.1.1.1.2" xref="S4.T2.9.9.9.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.9.9.9.1.m1.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.cmml"><mo id="S4.T2.9.9.9.1.m1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.cmml"><msub id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.2" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.3" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.3" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.9.9.9.1.m1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.9.9.9.1.m1.2.2.2" xref="S4.T2.9.9.9.1.m1.2.2.2.cmml"><msub id="S4.T2.9.9.9.1.m1.2.2.2.3" xref="S4.T2.9.9.9.1.m1.2.2.2.3.cmml"><mi id="S4.T2.9.9.9.1.m1.2.2.2.3.2" xref="S4.T2.9.9.9.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.9.9.9.1.m1.2.2.2.3.3" xref="S4.T2.9.9.9.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.9.9.9.1.m1.2.2.2.2" xref="S4.T2.9.9.9.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.9.9.9.1.m1.2.2.2.1.1" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.9.9.9.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.1" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.3" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.9.9.9.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.2.cmml">β</mi><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.1" lspace="0.167em" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3a" lspace="0.167em" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.9.9.9.1.m1.4.4" xref="S4.T2.9.9.9.1.m1.4.4.cmml"><mrow id="S4.T2.9.9.9.1.m1.3.3.1" xref="S4.T2.9.9.9.1.m1.3.3.1.cmml"><msub id="S4.T2.9.9.9.1.m1.3.3.1.3" xref="S4.T2.9.9.9.1.m1.3.3.1.3.cmml"><mi id="S4.T2.9.9.9.1.m1.3.3.1.3.2" xref="S4.T2.9.9.9.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.9.9.9.1.m1.3.3.1.3.3" xref="S4.T2.9.9.9.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.9.9.9.1.m1.3.3.1.2" xref="S4.T2.9.9.9.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.9.9.9.1.m1.3.3.1.1.1" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.9.9.9.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.2" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.1" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.3" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.9.9.9.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.9.9.9.1.m1.4.4.2" xref="S4.T2.9.9.9.1.m1.4.4.2.cmml"><msub id="S4.T2.9.9.9.1.m1.4.4.2.3" xref="S4.T2.9.9.9.1.m1.4.4.2.3.cmml"><mi id="S4.T2.9.9.9.1.m1.4.4.2.3.2" xref="S4.T2.9.9.9.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.9.9.9.1.m1.4.4.2.3.3" xref="S4.T2.9.9.9.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.9.9.9.1.m1.4.4.2.2" xref="S4.T2.9.9.9.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.9.9.9.1.m1.4.4.2.1.1" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.cmml"><mo id="S4.T2.9.9.9.1.m1.4.4.2.1.1.2" stretchy="false" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.cmml"><msub id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.2" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.3" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.1" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.3" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.9.9.9.1.m1.4.4.2.1.1.3" stretchy="false" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S4.T2.9.9.9.1.m1.6.6.1.1.1.3" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.9.9.9.1.m1.6b"><apply id="S4.T2.9.9.9.1.m1.6.6.cmml" xref="S4.T2.9.9.9.1.m1.6.6"><minus id="S4.T2.9.9.9.1.m1.6.6.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6"></minus><apply id="S4.T2.9.9.9.1.m1.6.6.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1"><times id="S4.T2.9.9.9.1.m1.6.6.1.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.2"></times><apply id="S4.T2.9.9.9.1.m1.6.6.1.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.3"><log id="S4.T2.9.9.9.1.m1.6.6.1.3.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.3.1"></log><ci id="S4.T2.9.9.9.1.m1.6.6.1.3.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.3.2">𝜎</ci></apply><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1"><minus id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1"></minus><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1"><times id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.2"></times><log id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.3"></log><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1"><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2">subscript</csymbol><sum id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.2"></sum><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3"><in id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.1"></in><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.2">𝑦</ci><ci id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.2.3">𝑙</ci></apply><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.2">𝒴</ci><ci id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.2.3.3.3">𝑙</ci></apply></apply></apply><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1"><exp id="S4.T2.9.9.9.1.m1.5.5.cmml" xref="S4.T2.9.9.9.1.m1.5.5"></exp><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1"><minus id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.1"></minus><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2"><times id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.1"></times><ci id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.2">𝛽</ci><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3"><log id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.3.1"></log><apply id="S4.T2.9.9.9.1.m1.2.2.cmml" xref="S4.T2.9.9.9.1.m1.2.2"><divide id="S4.T2.9.9.9.1.m1.2.2.3.cmml" xref="S4.T2.9.9.9.1.m1.2.2"></divide><apply id="S4.T2.9.9.9.1.m1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1"><times id="S4.T2.9.9.9.1.m1.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.2"></times><apply id="S4.T2.9.9.9.1.m1.1.1.1.3.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.1.1.1.3.1.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.1.1.1.3.2.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.9.9.9.1.m1.1.1.1.3.3.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.T2.9.9.9.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.9.9.9.1.m1.2.2.2.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2"><times id="S4.T2.9.9.9.1.m1.2.2.2.2.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.2"></times><apply id="S4.T2.9.9.9.1.m1.2.2.2.3.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.2.2.2.3.1.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.3">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.2.2.2.3.2.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.3.2">𝜋</ci><ci id="S4.T2.9.9.9.1.m1.2.2.2.3.3a.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.3.3"><mtext id="S4.T2.9.9.9.1.m1.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.9.9.9.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.9.9.9.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3"><times id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.2">𝛽</ci><apply id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3"><log id="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S4.T2.9.9.9.1.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1"></log><apply id="S4.T2.9.9.9.1.m1.4.4.cmml" xref="S4.T2.9.9.9.1.m1.4.4"><divide id="S4.T2.9.9.9.1.m1.4.4.3.cmml" xref="S4.T2.9.9.9.1.m1.4.4"></divide><apply id="S4.T2.9.9.9.1.m1.3.3.1.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1"><times id="S4.T2.9.9.9.1.m1.3.3.1.2.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.2"></times><apply id="S4.T2.9.9.9.1.m1.3.3.1.3.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.3.3.1.3.1.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.3">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.3.3.1.3.2.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.3.2">𝜋</ci><ci id="S4.T2.9.9.9.1.m1.3.3.1.3.3.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.9.9.9.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.9.9.9.1.m1.4.4.2.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2"><times id="S4.T2.9.9.9.1.m1.4.4.2.2.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.2"></times><apply id="S4.T2.9.9.9.1.m1.4.4.2.3.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.4.4.2.3.1.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.3">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.4.4.2.3.2.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.3.2">𝜋</ci><ci id="S4.T2.9.9.9.1.m1.4.4.2.3.3a.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.3.3"><mtext id="S4.T2.9.9.9.1.m1.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.9.9.9.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.1.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.3.cmml" xref="S4.T2.9.9.9.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.9.9.9.1.m1.6c">-\log\sigma\left(-\log\sum_{y_{l}\in\mathcal{Y}_{l}}\exp\left(\beta\log\frac{%
\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}-\beta\log\frac{\pi_{\theta}(%
y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)\right)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.9.9.9.1.m1.6d">- roman_log italic_σ ( - roman_log ∑ start_POSTSUBSCRIPT italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∈ caligraphic_Y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG ) )</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.10.10.10">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.10.10.10.2" style="padding-left:7.7pt;padding-right:7.7pt;">
<span class="ltx_text ltx_font_bold" id="S4.T2.10.10.10.2.1">RosePO</span> <cite class="ltx_cite ltx_citemacro_citep">(Mitchell, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib41" title="">2023</a>)</cite>
</th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S4.T2.10.10.10.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-(1-\epsilon_{\phi})\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref%
}}(y_{w}|x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)" class="ltx_Math" display="inline" id="S4.T2.10.10.10.1.m1.6"><semantics id="S4.T2.10.10.10.1.m1.6a"><mrow id="S4.T2.10.10.10.1.m1.6.6" xref="S4.T2.10.10.10.1.m1.6.6.cmml"><mo id="S4.T2.10.10.10.1.m1.6.6a" xref="S4.T2.10.10.10.1.m1.6.6.cmml">−</mo><mrow id="S4.T2.10.10.10.1.m1.6.6.2" xref="S4.T2.10.10.10.1.m1.6.6.2.cmml"><mrow id="S4.T2.10.10.10.1.m1.5.5.1.1.1" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.cmml"><mo id="S4.T2.10.10.10.1.m1.5.5.1.1.1.2" stretchy="false" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.cmml"><mn id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.2" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.2.cmml">1</mn><mo id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.1" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.1.cmml">−</mo><msub id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.cmml"><mi id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.2" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.2.cmml">ϵ</mi><mi id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.3" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.3.cmml">ϕ</mi></msub></mrow><mo id="S4.T2.10.10.10.1.m1.5.5.1.1.1.3" stretchy="false" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.cmml">)</mo></mrow><mo id="S4.T2.10.10.10.1.m1.6.6.2.3" xref="S4.T2.10.10.10.1.m1.6.6.2.3.cmml">⁢</mo><mrow id="S4.T2.10.10.10.1.m1.6.6.2.2.1" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.cmml"><mo id="S4.T2.10.10.10.1.m1.6.6.2.2.1.2" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.cmml">(</mo><mrow id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.cmml"><mrow id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.cmml"><mi id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.2" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.2.cmml">β</mi><mo id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.1" lspace="0.167em" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3.cmml"><mi id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3.1" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3a" lspace="0.167em" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.10.10.10.1.m1.2.2" xref="S4.T2.10.10.10.1.m1.2.2.cmml"><mrow id="S4.T2.10.10.10.1.m1.1.1.1" xref="S4.T2.10.10.10.1.m1.1.1.1.cmml"><msub id="S4.T2.10.10.10.1.m1.1.1.1.3" xref="S4.T2.10.10.10.1.m1.1.1.1.3.cmml"><mi id="S4.T2.10.10.10.1.m1.1.1.1.3.2" xref="S4.T2.10.10.10.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.10.10.10.1.m1.1.1.1.3.3" xref="S4.T2.10.10.10.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.10.10.10.1.m1.1.1.1.2" xref="S4.T2.10.10.10.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.10.10.10.1.m1.1.1.1.1.1" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.cmml"><mo id="S4.T2.10.10.10.1.m1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.cmml"><msub id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.2" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.3" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.1" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.3" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.10.10.10.1.m1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.10.10.10.1.m1.2.2.2" xref="S4.T2.10.10.10.1.m1.2.2.2.cmml"><msub id="S4.T2.10.10.10.1.m1.2.2.2.3" xref="S4.T2.10.10.10.1.m1.2.2.2.3.cmml"><mi id="S4.T2.10.10.10.1.m1.2.2.2.3.2" xref="S4.T2.10.10.10.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.10.10.10.1.m1.2.2.2.3.3" xref="S4.T2.10.10.10.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.10.10.10.1.m1.2.2.2.2" xref="S4.T2.10.10.10.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.10.10.10.1.m1.2.2.2.1.1" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.10.10.10.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.1" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.3" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.10.10.10.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.1" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.1.cmml">−</mo><mrow id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.cmml"><mi id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.2" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.2.cmml">β</mi><mo id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.1" lspace="0.167em" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3.cmml"><mi id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3.1" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3a" lspace="0.167em" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.10.10.10.1.m1.4.4" xref="S4.T2.10.10.10.1.m1.4.4.cmml"><mrow id="S4.T2.10.10.10.1.m1.3.3.1" xref="S4.T2.10.10.10.1.m1.3.3.1.cmml"><msub id="S4.T2.10.10.10.1.m1.3.3.1.3" xref="S4.T2.10.10.10.1.m1.3.3.1.3.cmml"><mi id="S4.T2.10.10.10.1.m1.3.3.1.3.2" xref="S4.T2.10.10.10.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.10.10.10.1.m1.3.3.1.3.3" xref="S4.T2.10.10.10.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.10.10.10.1.m1.3.3.1.2" xref="S4.T2.10.10.10.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.10.10.10.1.m1.3.3.1.1.1" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.10.10.10.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.2" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.1" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.3" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.10.10.10.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.10.10.10.1.m1.4.4.2" xref="S4.T2.10.10.10.1.m1.4.4.2.cmml"><msub id="S4.T2.10.10.10.1.m1.4.4.2.3" xref="S4.T2.10.10.10.1.m1.4.4.2.3.cmml"><mi id="S4.T2.10.10.10.1.m1.4.4.2.3.2" xref="S4.T2.10.10.10.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.10.10.10.1.m1.4.4.2.3.3" xref="S4.T2.10.10.10.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.10.10.10.1.m1.4.4.2.2" xref="S4.T2.10.10.10.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.10.10.10.1.m1.4.4.2.1.1" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.cmml"><mo id="S4.T2.10.10.10.1.m1.4.4.2.1.1.2" stretchy="false" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.cmml"><msub id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.2" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.3" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.1" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.3" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.10.10.10.1.m1.4.4.2.1.1.3" stretchy="false" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.10.10.10.1.m1.6.6.2.2.1.3" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.10.10.10.1.m1.6b"><apply id="S4.T2.10.10.10.1.m1.6.6.cmml" xref="S4.T2.10.10.10.1.m1.6.6"><minus id="S4.T2.10.10.10.1.m1.6.6.3.cmml" xref="S4.T2.10.10.10.1.m1.6.6"></minus><apply id="S4.T2.10.10.10.1.m1.6.6.2.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2"><times id="S4.T2.10.10.10.1.m1.6.6.2.3.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.3"></times><apply id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1"><minus id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.1"></minus><cn id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.2.cmml" type="integer" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.2">1</cn><apply id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.cmml" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.1.cmml" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.2.cmml" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.2">italic-ϵ</ci><ci id="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.3.cmml" xref="S4.T2.10.10.10.1.m1.5.5.1.1.1.1.3.3">italic-ϕ</ci></apply></apply><apply id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1"><minus id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.1"></minus><apply id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2"><times id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.1.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.1"></times><ci id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.2.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.2">𝛽</ci><apply id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3"><log id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3.1.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.2.3.1"></log><apply id="S4.T2.10.10.10.1.m1.2.2.cmml" xref="S4.T2.10.10.10.1.m1.2.2"><divide id="S4.T2.10.10.10.1.m1.2.2.3.cmml" xref="S4.T2.10.10.10.1.m1.2.2"></divide><apply id="S4.T2.10.10.10.1.m1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1"><times id="S4.T2.10.10.10.1.m1.1.1.1.2.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.2"></times><apply id="S4.T2.10.10.10.1.m1.1.1.1.3.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.1.1.1.3.1.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.1.1.1.3.2.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.10.10.10.1.m1.1.1.1.3.3.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.T2.10.10.10.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.10.10.10.1.m1.2.2.2.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2"><times id="S4.T2.10.10.10.1.m1.2.2.2.2.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.2"></times><apply id="S4.T2.10.10.10.1.m1.2.2.2.3.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.2.2.2.3.1.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.3">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.2.2.2.3.2.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.3.2">𝜋</ci><ci id="S4.T2.10.10.10.1.m1.2.2.2.3.3a.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.3.3"><mtext id="S4.T2.10.10.10.1.m1.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.10.10.10.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.10.10.10.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3"><times id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.1.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.1"></times><ci id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.2.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.2">𝛽</ci><apply id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3"><log id="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3.1.cmml" xref="S4.T2.10.10.10.1.m1.6.6.2.2.1.1.3.3.1"></log><apply id="S4.T2.10.10.10.1.m1.4.4.cmml" xref="S4.T2.10.10.10.1.m1.4.4"><divide id="S4.T2.10.10.10.1.m1.4.4.3.cmml" xref="S4.T2.10.10.10.1.m1.4.4"></divide><apply id="S4.T2.10.10.10.1.m1.3.3.1.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1"><times id="S4.T2.10.10.10.1.m1.3.3.1.2.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.2"></times><apply id="S4.T2.10.10.10.1.m1.3.3.1.3.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.3.3.1.3.1.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.3">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.3.3.1.3.2.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.3.2">𝜋</ci><ci id="S4.T2.10.10.10.1.m1.3.3.1.3.3.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.10.10.10.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.10.10.10.1.m1.4.4.2.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2"><times id="S4.T2.10.10.10.1.m1.4.4.2.2.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.2"></times><apply id="S4.T2.10.10.10.1.m1.4.4.2.3.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.4.4.2.3.1.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.3">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.4.4.2.3.2.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.3.2">𝜋</ci><ci id="S4.T2.10.10.10.1.m1.4.4.2.3.3a.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.3.3"><mtext id="S4.T2.10.10.10.1.m1.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.10.10.10.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.1.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.3.cmml" xref="S4.T2.10.10.10.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.10.10.10.1.m1.6c">-(1-\epsilon_{\phi})\left(\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref%
}}(y_{w}|x)}-\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y_{l}|x)}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.10.10.10.1.m1.6d">- ( 1 - italic_ϵ start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ) ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG )</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S4.T2.11.11.11">
<th class="ltx_td ltx_th ltx_th_row ltx_border_bb" id="S4.T2.11.11.11.2" style="padding-left:7.7pt;padding-right:7.7pt;"></th>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S4.T2.11.11.11.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="-\epsilon_{\phi}\left(\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y%
_{l}|x)}-\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}\right)" class="ltx_Math" display="inline" id="S4.T2.11.11.11.1.m1.5"><semantics id="S4.T2.11.11.11.1.m1.5a"><mrow id="S4.T2.11.11.11.1.m1.5.5" xref="S4.T2.11.11.11.1.m1.5.5.cmml"><mo id="S4.T2.11.11.11.1.m1.5.5a" xref="S4.T2.11.11.11.1.m1.5.5.cmml">−</mo><mrow id="S4.T2.11.11.11.1.m1.5.5.1" xref="S4.T2.11.11.11.1.m1.5.5.1.cmml"><msub id="S4.T2.11.11.11.1.m1.5.5.1.3" xref="S4.T2.11.11.11.1.m1.5.5.1.3.cmml"><mi id="S4.T2.11.11.11.1.m1.5.5.1.3.2" xref="S4.T2.11.11.11.1.m1.5.5.1.3.2.cmml">ϵ</mi><mi id="S4.T2.11.11.11.1.m1.5.5.1.3.3" xref="S4.T2.11.11.11.1.m1.5.5.1.3.3.cmml">ϕ</mi></msub><mo id="S4.T2.11.11.11.1.m1.5.5.1.2" xref="S4.T2.11.11.11.1.m1.5.5.1.2.cmml">⁢</mo><mrow id="S4.T2.11.11.11.1.m1.5.5.1.1.1" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.cmml"><mo id="S4.T2.11.11.11.1.m1.5.5.1.1.1.2" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.cmml"><mrow id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.cmml"><mi id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.2" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.2.cmml">β</mi><mo id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.1" lspace="0.167em" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3.cmml"><mi id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3.1" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3.1.cmml">log</mi><mo id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3a" lspace="0.167em" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3.cmml">⁡</mo><mfrac id="S4.T2.11.11.11.1.m1.2.2" xref="S4.T2.11.11.11.1.m1.2.2.cmml"><mrow id="S4.T2.11.11.11.1.m1.1.1.1" xref="S4.T2.11.11.11.1.m1.1.1.1.cmml"><msub id="S4.T2.11.11.11.1.m1.1.1.1.3" xref="S4.T2.11.11.11.1.m1.1.1.1.3.cmml"><mi id="S4.T2.11.11.11.1.m1.1.1.1.3.2" xref="S4.T2.11.11.11.1.m1.1.1.1.3.2.cmml">π</mi><mi id="S4.T2.11.11.11.1.m1.1.1.1.3.3" xref="S4.T2.11.11.11.1.m1.1.1.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.11.11.11.1.m1.1.1.1.2" xref="S4.T2.11.11.11.1.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.T2.11.11.11.1.m1.1.1.1.1.1" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.cmml"><mo id="S4.T2.11.11.11.1.m1.1.1.1.1.1.2" stretchy="false" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.cmml"><msub id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.cmml"><mi id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.2" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.3" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.1" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.3" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.11.11.11.1.m1.1.1.1.1.1.3" stretchy="false" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.11.11.11.1.m1.2.2.2" xref="S4.T2.11.11.11.1.m1.2.2.2.cmml"><msub id="S4.T2.11.11.11.1.m1.2.2.2.3" xref="S4.T2.11.11.11.1.m1.2.2.2.3.cmml"><mi id="S4.T2.11.11.11.1.m1.2.2.2.3.2" xref="S4.T2.11.11.11.1.m1.2.2.2.3.2.cmml">π</mi><mtext id="S4.T2.11.11.11.1.m1.2.2.2.3.3" xref="S4.T2.11.11.11.1.m1.2.2.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.11.11.11.1.m1.2.2.2.2" xref="S4.T2.11.11.11.1.m1.2.2.2.2.cmml">⁢</mo><mrow id="S4.T2.11.11.11.1.m1.2.2.2.1.1" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.cmml"><mo id="S4.T2.11.11.11.1.m1.2.2.2.1.1.2" stretchy="false" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.cmml">(</mo><mrow id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.cmml"><msub id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.cmml"><mi id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.2" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.3" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.3.cmml">l</mi></msub><mo fence="false" id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.1" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.3" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.11.11.11.1.m1.2.2.2.1.1.3" stretchy="false" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.1" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.1.cmml">−</mo><mrow id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.cmml"><mi id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.2" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.2.cmml">β</mi><mo id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.1" lspace="0.167em" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3.cmml"><mi id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3.1" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3.1.cmml">log</mi><mo id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3a" lspace="0.167em" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3.cmml">⁡</mo><mfrac id="S4.T2.11.11.11.1.m1.4.4" xref="S4.T2.11.11.11.1.m1.4.4.cmml"><mrow id="S4.T2.11.11.11.1.m1.3.3.1" xref="S4.T2.11.11.11.1.m1.3.3.1.cmml"><msub id="S4.T2.11.11.11.1.m1.3.3.1.3" xref="S4.T2.11.11.11.1.m1.3.3.1.3.cmml"><mi id="S4.T2.11.11.11.1.m1.3.3.1.3.2" xref="S4.T2.11.11.11.1.m1.3.3.1.3.2.cmml">π</mi><mi id="S4.T2.11.11.11.1.m1.3.3.1.3.3" xref="S4.T2.11.11.11.1.m1.3.3.1.3.3.cmml">θ</mi></msub><mo id="S4.T2.11.11.11.1.m1.3.3.1.2" xref="S4.T2.11.11.11.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.T2.11.11.11.1.m1.3.3.1.1.1" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.T2.11.11.11.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.cmml"><mi id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.2" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.3" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.1" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.1.cmml">|</mo><mi id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.3" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.11.11.11.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.T2.11.11.11.1.m1.4.4.2" xref="S4.T2.11.11.11.1.m1.4.4.2.cmml"><msub id="S4.T2.11.11.11.1.m1.4.4.2.3" xref="S4.T2.11.11.11.1.m1.4.4.2.3.cmml"><mi id="S4.T2.11.11.11.1.m1.4.4.2.3.2" xref="S4.T2.11.11.11.1.m1.4.4.2.3.2.cmml">π</mi><mtext id="S4.T2.11.11.11.1.m1.4.4.2.3.3" xref="S4.T2.11.11.11.1.m1.4.4.2.3.3a.cmml">ref</mtext></msub><mo id="S4.T2.11.11.11.1.m1.4.4.2.2" xref="S4.T2.11.11.11.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="S4.T2.11.11.11.1.m1.4.4.2.1.1" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.cmml"><mo id="S4.T2.11.11.11.1.m1.4.4.2.1.1.2" stretchy="false" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.cmml">(</mo><mrow id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.cmml"><msub id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.cmml"><mi id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.2" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.2.cmml">y</mi><mi id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.3" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.3.cmml">w</mi></msub><mo fence="false" id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.1" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.1.cmml">|</mo><mi id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.3" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.3.cmml">x</mi></mrow><mo id="S4.T2.11.11.11.1.m1.4.4.2.1.1.3" stretchy="false" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.T2.11.11.11.1.m1.5.5.1.1.1.3" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.T2.11.11.11.1.m1.5b"><apply id="S4.T2.11.11.11.1.m1.5.5.cmml" xref="S4.T2.11.11.11.1.m1.5.5"><minus id="S4.T2.11.11.11.1.m1.5.5.2.cmml" xref="S4.T2.11.11.11.1.m1.5.5"></minus><apply id="S4.T2.11.11.11.1.m1.5.5.1.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1"><times id="S4.T2.11.11.11.1.m1.5.5.1.2.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.2"></times><apply id="S4.T2.11.11.11.1.m1.5.5.1.3.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.3"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.5.5.1.3.1.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.3">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.5.5.1.3.2.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.3.2">italic-ϵ</ci><ci id="S4.T2.11.11.11.1.m1.5.5.1.3.3.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.3.3">italic-ϕ</ci></apply><apply id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1"><minus id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.1"></minus><apply id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2"><times id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.1.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.1"></times><ci id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.2.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.2">𝛽</ci><apply id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3"><log id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3.1.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.2.3.1"></log><apply id="S4.T2.11.11.11.1.m1.2.2.cmml" xref="S4.T2.11.11.11.1.m1.2.2"><divide id="S4.T2.11.11.11.1.m1.2.2.3.cmml" xref="S4.T2.11.11.11.1.m1.2.2"></divide><apply id="S4.T2.11.11.11.1.m1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1"><times id="S4.T2.11.11.11.1.m1.1.1.1.2.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.2"></times><apply id="S4.T2.11.11.11.1.m1.1.1.1.3.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.3"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.1.1.1.3.1.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.3">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.1.1.1.3.2.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.3.2">𝜋</ci><ci id="S4.T2.11.11.11.1.m1.1.1.1.3.3.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.1.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.2.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.3.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.3.cmml" xref="S4.T2.11.11.11.1.m1.1.1.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.11.11.11.1.m1.2.2.2.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2"><times id="S4.T2.11.11.11.1.m1.2.2.2.2.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.2"></times><apply id="S4.T2.11.11.11.1.m1.2.2.2.3.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.3"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.2.2.2.3.1.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.3">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.2.2.2.3.2.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.3.2">𝜋</ci><ci id="S4.T2.11.11.11.1.m1.2.2.2.3.3a.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.3.3"><mtext id="S4.T2.11.11.11.1.m1.2.2.2.3.3.cmml" mathsize="50%" xref="S4.T2.11.11.11.1.m1.2.2.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1"><csymbol cd="latexml" id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.1.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.2.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.3.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.2.3">𝑙</ci></apply><ci id="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.3.cmml" xref="S4.T2.11.11.11.1.m1.2.2.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply><apply id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3"><times id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.1.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.1"></times><ci id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.2.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.2">𝛽</ci><apply id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3"><log id="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3.1.cmml" xref="S4.T2.11.11.11.1.m1.5.5.1.1.1.1.3.3.1"></log><apply id="S4.T2.11.11.11.1.m1.4.4.cmml" xref="S4.T2.11.11.11.1.m1.4.4"><divide id="S4.T2.11.11.11.1.m1.4.4.3.cmml" xref="S4.T2.11.11.11.1.m1.4.4"></divide><apply id="S4.T2.11.11.11.1.m1.3.3.1.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1"><times id="S4.T2.11.11.11.1.m1.3.3.1.2.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.2"></times><apply id="S4.T2.11.11.11.1.m1.3.3.1.3.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.3"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.3.3.1.3.1.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.3">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.3.3.1.3.2.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.3.2">𝜋</ci><ci id="S4.T2.11.11.11.1.m1.3.3.1.3.3.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.3.3">𝜃</ci></apply><apply id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.1">conditional</csymbol><apply id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.1.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.2.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.2">𝑦</ci><ci id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.T2.11.11.11.1.m1.3.3.1.1.1.1.3">𝑥</ci></apply></apply><apply id="S4.T2.11.11.11.1.m1.4.4.2.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2"><times id="S4.T2.11.11.11.1.m1.4.4.2.2.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.2"></times><apply id="S4.T2.11.11.11.1.m1.4.4.2.3.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.3"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.4.4.2.3.1.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.3">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.4.4.2.3.2.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.3.2">𝜋</ci><ci id="S4.T2.11.11.11.1.m1.4.4.2.3.3a.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.3.3"><mtext id="S4.T2.11.11.11.1.m1.4.4.2.3.3.cmml" mathsize="50%" xref="S4.T2.11.11.11.1.m1.4.4.2.3.3">ref</mtext></ci></apply><apply id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1"><csymbol cd="latexml" id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.1.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.1">conditional</csymbol><apply id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2"><csymbol cd="ambiguous" id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.1.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2">subscript</csymbol><ci id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.2.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.2">𝑦</ci><ci id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.3.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.2.3">𝑤</ci></apply><ci id="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.3.cmml" xref="S4.T2.11.11.11.1.m1.4.4.2.1.1.1.3">𝑥</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.11.11.11.1.m1.5c">-\epsilon_{\phi}\left(\beta\log\frac{\pi_{\theta}(y_{l}|x)}{\pi_{\text{ref}}(y%
_{l}|x)}-\beta\log\frac{\pi_{\theta}(y_{w}|x)}{\pi_{\text{ref}}(y_{w}|x)}\right)</annotation><annotation encoding="application/x-llamapun" id="S4.T2.11.11.11.1.m1.5d">- italic_ϵ start_POSTSUBSCRIPT italic_ϕ end_POSTSUBSCRIPT ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT | italic_x ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_y start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT | italic_x ) end_ARG )</annotation></semantics></math></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section class="ltx_subsubsection" id="S4.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.3.2. </span>Results</h4>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T3.3.1.1" style="font-size:90%;">Table 3</span>. </span><span class="ltx_text" id="S4.T3.4.2" style="font-size:90%;">Ablations for optimization objectives.</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T3.1" style="width:433.6pt;height:119.1pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-145.5pt,39.8pt) scale(0.59839540516746,0.59839540516746) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T3.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.1.1.2.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T3.1.1.2.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="5" id="S4.T3.1.1.2.1.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.1.2.1">Movielens</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="5" id="S4.T3.1.1.2.1.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.1.3.1">Goodreads</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5" id="S4.T3.1.1.2.1.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.1.4.1">Steam</span></th>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r" id="S4.T3.1.1.3.2.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.1.1">Model</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.2.1">HR@1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.3.1">HR@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.4.1">N@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.5.1">HR@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T3.1.1.3.2.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.6.1">N@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.7.1">HR@1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.8" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.8.1">HR@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.9" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.9.1">N@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.10" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.10.1">HR@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T3.1.1.3.2.11" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.11.1">N@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.12" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.12.1">HR@1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.13" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.13.1">HR@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.14" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.14.1">N@5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.15" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.15.1">HR@10</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T3.1.1.3.2.16" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.2.16.1">N@10</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.1.4.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S4.T3.1.1.4.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.4.1.1.1">DPO</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4484</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8821</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6804</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9600</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T3.1.1.4.1.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7061</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5092</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8699</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.7003</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9634</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T3.1.1.4.1.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7309</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.4669</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8528</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.6756</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9477</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.1.1.4.1.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7068</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"><math alttext="\textbf{IPO}^{8}" class="ltx_Math" display="inline" id="S4.T3.1.1.1.1.m1.1"><semantics id="S4.T3.1.1.1.1.m1.1a"><msup id="S4.T3.1.1.1.1.m1.1.1" xref="S4.T3.1.1.1.1.m1.1.1.cmml"><mtext class="ltx_mathvariant_bold" id="S4.T3.1.1.1.1.m1.1.1.2" xref="S4.T3.1.1.1.1.m1.1.1.2a.cmml">IPO</mtext><mn id="S4.T3.1.1.1.1.m1.1.1.3" xref="S4.T3.1.1.1.1.m1.1.1.3.cmml">8</mn></msup><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.1.m1.1b"><apply id="S4.T3.1.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T3.1.1.1.1.m1.1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1">superscript</csymbol><ci id="S4.T3.1.1.1.1.m1.1.1.2a.cmml" xref="S4.T3.1.1.1.1.m1.1.1.2"><mtext class="ltx_mathvariant_bold" id="S4.T3.1.1.1.1.m1.1.1.2.cmml" xref="S4.T3.1.1.1.1.m1.1.1.2">IPO</mtext></ci><cn id="S4.T3.1.1.1.1.m1.1.1.3.cmml" type="integer" xref="S4.T3.1.1.1.1.m1.1.1.3">8</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.1.m1.1c">\textbf{IPO}^{8}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.1.1.1.1.m1.1d">IPO start_POSTSUPERSCRIPT 8 end_POSTSUPERSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4716</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.3.1">0.8926</span></td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6999</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9537</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.1.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7202</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.7" style="padding-left:7.7pt;padding-right:7.7pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.8" style="padding-left:7.7pt;padding-right:7.7pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.9" style="padding-left:7.7pt;padding-right:7.7pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.10" style="padding-left:7.7pt;padding-right:7.7pt;">-</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.1.11" style="padding-left:7.7pt;padding-right:7.7pt;">-</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.5020</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8644</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.6978</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9459</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.1.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7242</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.5.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.5.2.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.5.2.1.1">cDPO</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4821</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8758</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6974</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9516</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.5.2.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7222</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5131</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8666</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.7004</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9637</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.5.2.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7320</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.4744</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8589</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.6826</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9489</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.5.2.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7120</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.6.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.6.3.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.3.1.1">rDPO</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4505</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8863</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6872</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.6.3.5.1">0.9621</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.6.3.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7120</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5095</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8669</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.6992</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9637</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.6.3.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7309</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.4761</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8541</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.6809</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9489</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.6.3.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7118</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.7.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.7.4.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.7.4.1.1">RPO</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.5011</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8800</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.7054</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9495</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.7.4.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7291</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5344</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8779</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.7182</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9700</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.7.4.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7484</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.5293</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8794</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.7205</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9612</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.7.4.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7472</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.8.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.8.5.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.8.5.1.1">CPO</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4547</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8526</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6688</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9537</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.8.5.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7026</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5298</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8725</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.7113</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9681</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.8.5.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7428</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.5051</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8712</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.7049</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9558</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.8.5.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7325</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.9.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.9.6.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.9.6.1.1">SimPO</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.3389</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8063</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.5833</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9453</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.9.6.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.6294</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.4369</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8316</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.6452</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9524</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.9.6.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.6848</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.3211</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.7909</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.5684</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9170</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.9.6.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.6096</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.10.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.1.10.7.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.10.7.1.1">S-DPO</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4632</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8505</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6749</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9011</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.10.7.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.6915</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5188</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.7890</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.6648</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.8839</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T3.1.1.10.7.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.6953</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.5101</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8250</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.6830</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9177</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.1.10.7.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7132</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1.11.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S4.T3.1.1.11.8.1" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.1.1" style="background-color:#EBEBEB;">RosePO-h</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.2" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.2.1" style="background-color:#EBEBEB;">0.5053</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.3" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text" id="S4.T3.1.1.11.8.3.1" style="background-color:#EBEBEB;">0.8926</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.4" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.4.1" style="background-color:#EBEBEB;">0.7144</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.5" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text" id="S4.T3.1.1.11.8.5.1" style="background-color:#EBEBEB;">0.9537</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T3.1.1.11.8.6" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.6.1" style="background-color:#EBEBEB;">0.7348</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.7" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.7.1" style="background-color:#EBEBEB;">0.5398</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.8" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.8.1" style="background-color:#EBEBEB;">0.8805</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.9" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.9.1" style="background-color:#EBEBEB;">0.7221</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.10" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.10.1" style="background-color:#EBEBEB;">0.9717</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S4.T3.1.1.11.8.11" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.11.1" style="background-color:#EBEBEB;">0.7520</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.12" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.12.1" style="background-color:#EBEBEB;">0.5322</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.13" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.13.1" style="background-color:#EBEBEB;">0.8836</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.14" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.14.1" style="background-color:#EBEBEB;">0.7239</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.15" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.15.1" style="background-color:#EBEBEB;">0.9619</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.11.8.16" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.11.8.16.1" style="background-color:#EBEBEB;">0.7494</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS3.SSS2.p1">
<p class="ltx_p" id="S4.SS3.SSS2.p1.1">The experimental results of the ablation study<span class="ltx_note ltx_role_footnote" id="footnote8"><sup class="ltx_note_mark">8</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">8</sup><span class="ltx_tag ltx_tag_note">8</span>For Goodreads, IPO maintains anomalous gradients under various hyperparameters.</span></span></span> for objectives are presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.T3" title="Table 3 ‣ 4.3.2. Results ‣ 4.3. Impact of Data-Adaptive Loss Design ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">3</span></a>.
It shows that RosePO surpasses the baselines across all five evaluation metrics on both Goodreads and Steam datasets.
In the case of the Movielens dataset, our method focuses on the fine-grained ranking of candidate items, rendering the HR@1, NDCG@5, and NDCG@10 metrics more crucial.
Thus, in these three metrics, our approach consistently outperforms the baselines on Movielens dataset.
In the context of Movielens, our method prioritizes the fine-grained ranking of candidate items, thus making the HR@1, NDCG@5, and NDCG@10 metrics of paramount importance. Our approach consistently surpasses the baselines across these three metrics.</p>
</div>
<div class="ltx_para" id="S4.SS3.SSS2.p2">
<p class="ltx_p" id="S4.SS3.SSS2.p2.1">This observation suggests that there indeed exists a certain level of noise within the preference labels constructed using our automated approach due to the incomplete user behavior in recommendation.
Consequently, this noise may be attributed to the ineffectiveness of optimization objectives, resulting in performance that is either inferior to our method or leads to a relative degradation in the model’s performance when compared to the previous stage SFT model.
We incorporate personalized modeling for each preference label’s flip rate, guided by a domain-specific model.
This customized objective, specifically tailored for recommendation, enhances the robustness of RosePO against noisy preference.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Impact of Rejected Sampling Strategy</h3>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T4.2.1.1" style="font-size:90%;">Table 4</span>. </span><span class="ltx_text" id="S4.T4.3.2" style="font-size:90%;">Ablations for rejected sampling strategies.</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T4.4" style="width:433.6pt;height:65.8pt;vertical-align:-0.6pt;"><span class="ltx_transformed_inner" style="transform:translate(-142.5pt,21.4pt) scale(0.603484794828013,0.603484794828013) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T4.4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.4.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T4.4.1.1.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="5" id="S4.T4.4.1.1.1.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.1.1.2.1">Movielens</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" colspan="5" id="S4.T4.4.1.1.1.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.1.1.3.1">Goodreads</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5" id="S4.T4.4.1.1.1.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.1.1.4.1">Steam</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.4.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.4.1.2.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.1.1">Model</span></th>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.2.1">HR@1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.3.1">HR@5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.4.1">N@5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.5.1">HR@10</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.4.1.2.1.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.6.1">N@10</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.7.1">HR@1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.8" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.8.1">HR@5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.9" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.9.1">N@5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.10" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.10.1">HR@10</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.4.1.2.1.11" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.11.1">N@10</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.12" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.12.1">HR@1</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.13" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.13.1">HR@5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.14" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.14.1">N@5</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.15" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.15.1">HR@10</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.2.1.16" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.2.1.16.1">N@10</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T4.4.1.3.2.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.3.2.1.1">uniform</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4632</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8695</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6850</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9305</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T4.4.1.3.2.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7056</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5285</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8799</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.7171</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9671</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T4.4.1.3.2.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7458</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.5283</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8811</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.7218</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9592</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.4.1.3.2.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7472</th>
</tr>
<tr class="ltx_tr" id="S4.T4.4.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T4.4.1.4.3.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.4.3.1.1">semantic</span></th>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4400</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8863</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6843</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9474</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.4.1.4.3.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7042</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5314</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8819</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.7206</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9661</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.4.1.4.3.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7482</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.5121</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8836</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.7143</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9563</td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.1.4.3.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7379</td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r" id="S4.T4.4.1.5.4.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.5.4.1.1">popular</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4758</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8842</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6981</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.9495</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T4.4.1.5.4.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.7196</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.5328</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.8" style="padding-left:7.7pt;padding-right:7.7pt;">0.8812</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.9" style="padding-left:7.7pt;padding-right:7.7pt;">0.7198</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.10" style="padding-left:7.7pt;padding-right:7.7pt;">0.9657</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" id="S4.T4.4.1.5.4.11" style="padding-left:7.7pt;padding-right:7.7pt;">0.7477</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.12" style="padding-left:7.7pt;padding-right:7.7pt;">0.5261</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.13" style="padding-left:7.7pt;padding-right:7.7pt;">0.8836</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.14" style="padding-left:7.7pt;padding-right:7.7pt;">0.7219</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.15" style="padding-left:7.7pt;padding-right:7.7pt;">0.9599</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" id="S4.T4.4.1.5.4.16" style="padding-left:7.7pt;padding-right:7.7pt;">0.7467</th>
</tr>
<tr class="ltx_tr" id="S4.T4.4.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T4.4.1.6.5.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.1.1">self-hard</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.2.1">0.5053</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.3.1">0.8926</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.4.1">0.7144</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.5.1">0.9537</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T4.4.1.6.5.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.6.1">0.7348</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.7.1">0.5398</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.8" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.8.1">0.8805</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.9" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.9.1">0.7221</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.10" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.10.1">0.9717</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T4.4.1.6.5.11" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.11.1">0.7520</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.12" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.12.1">0.5322</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.13" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.13.1">0.8836</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.14" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.14.1">0.7239</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.15" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.15.1">0.9619</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.4.1.6.5.16" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T4.4.1.6.5.16.1">0.7494</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">In this section, we focus on the recommendation performance of different approaches to constructing rejected samples.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS4.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.4.1. </span>Rejected Sampling Strategies</h4>
<div class="ltx_para" id="S4.SS4.SSS1.p1">
<p class="ltx_p" id="S4.SS4.SSS1.p1.1">We’ve compared four rejected sampling approaches as follows:</p>
<ol class="ltx_enumerate" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(1)</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i1.p1.1.1">Uniform</span>. This represents the most basic form of sampling — uniformly sampling rejected items from all available items.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(2)</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i2.p1.1.1">Semantic</span>. To mitigate the spurious correlation of LLMs relying heavily on semantics, we opt to select an item that is most semantically similar to the user’s historical sequences.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(3)</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i3.p1.1.1">Popular</span>. To enhance item-side fairness and encourage LLMs to recommend less mainstream or more niche items, we sample the rejected item based on the distribution of item popularity.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(4)</span>
<div class="ltx_para" id="S4.I2.i4.p1">
<p class="ltx_p" id="S4.I2.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I2.i4.p1.1.1">Self-hard</span>. To address the inherent shortcomings in the previous stage, we select cases where the SFT model gives incorrect outputs to serve as rejected responses. As for cases where the SFT model provided correct answers, we randomly sampled a negative item to serve as the rejected response.</p>
</div>
</li>
</ol>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS4.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.4.2. </span>Results</h4>
<div class="ltx_para" id="S4.SS4.SSS2.p1">
<p class="ltx_p" id="S4.SS4.SSS2.p1.1">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.T4" title="Table 4 ‣ 4.4. Impact of Rejected Sampling Strategy ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4</span></a>, RosePO-h (self-hard sampling) surpasses all other sampling strategies, particularly uniform sampling.
This highlights the significant advantage of the self-hard sampling approach in enhancing recommendation performance.
Other sampling strategies, such as uniform, semantic, and popular sampling, maintain comparable performance levels with the previous SFT model.</p>
</div>
<div class="ltx_para" id="S4.SS4.SSS2.p2">
<p class="ltx_p" id="S4.SS4.SSS2.p2.1">More specifically, on MovieLens, both semantic and popular sampling strategies show slightly lower performance in terms of metrics compared with the SFT model.
In the case of Steam, they are on par with the SFT model.
On Goodreads, both strategies outperform the SFT model across all five metrics.
This can be attributed to the fact that for these rejected sampling strategies, the preference alignment training might disrupt the SFT model’s ability to make recommendations based on semantics and popularity.
Although semantics and popularity sometimes serve as shortcuts, they indeed enhance the accuracy of recommendation results.
Nevertheless, we still manage to maintain a certain degree of helpfulness in both RosePO-s and RosePO-p.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.5. </span>Mitigating Semantic Hallucination</h3>
<div class="ltx_para" id="S4.SS5.p1">
<p class="ltx_p" id="S4.SS5.p1.1">To evaluate the effectiveness of RosePO-s in mitigating semantic hallucination, we examine two aspects: the metric of semantic hallucination and semantic-hard evaluation for ranking.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS5.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.5.1. </span>Metric of Semantic Hallucination</h4>
<div class="ltx_para" id="S4.SS5.SSS1.p1">
<p class="ltx_p" id="S4.SS5.SSS1.p1.1">In order to examine the effectiveness of RosePO-s in mitigating semantic hallucination while achieving the performance displayed in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.T4" title="Table 4 ‣ 4.4. Impact of Rejected Sampling Strategy ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4</span></a>, we first need to quantify semantic hallucination.
We expect that the semantic similarity between the recommended items and the user’s historical sequence will maintain a comparable similarity to the actual subsequent items that the user has interacted with.
Therefore, we define the semantic bias for the recommendation item <math alttext="i_{k}" class="ltx_Math" display="inline" id="S4.SS5.SSS1.p1.1.m1.1"><semantics id="S4.SS5.SSS1.p1.1.m1.1a"><msub id="S4.SS5.SSS1.p1.1.m1.1.1" xref="S4.SS5.SSS1.p1.1.m1.1.1.cmml"><mi id="S4.SS5.SSS1.p1.1.m1.1.1.2" xref="S4.SS5.SSS1.p1.1.m1.1.1.2.cmml">i</mi><mi id="S4.SS5.SSS1.p1.1.m1.1.1.3" xref="S4.SS5.SSS1.p1.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS5.SSS1.p1.1.m1.1b"><apply id="S4.SS5.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS5.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS5.SSS1.p1.1.m1.1.1.1.cmml" xref="S4.SS5.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS5.SSS1.p1.1.m1.1.1.2.cmml" xref="S4.SS5.SSS1.p1.1.m1.1.1.2">𝑖</ci><ci id="S4.SS5.SSS1.p1.1.m1.1.1.3.cmml" xref="S4.SS5.SSS1.p1.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS5.SSS1.p1.1.m1.1c">i_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS5.SSS1.p1.1.m1.1d">italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{bias}_{\text{sem}}(u,i_{k})=\frac{\text{similarity}_{\text{sem}}(u,i_{k}%
)-\text{similarity}_{\text{sem}}(u,i_{n+1})}{\text{similarity}_{\text{sem}}(u,%
i_{n+1})}," class="ltx_Math" display="block" id="S4.E7.m1.8"><semantics id="S4.E7.m1.8a"><mrow id="S4.E7.m1.8.8.1" xref="S4.E7.m1.8.8.1.1.cmml"><mrow id="S4.E7.m1.8.8.1.1" xref="S4.E7.m1.8.8.1.1.cmml"><mrow id="S4.E7.m1.8.8.1.1.1" xref="S4.E7.m1.8.8.1.1.1.cmml"><msub id="S4.E7.m1.8.8.1.1.1.3" xref="S4.E7.m1.8.8.1.1.1.3.cmml"><mtext id="S4.E7.m1.8.8.1.1.1.3.2" xref="S4.E7.m1.8.8.1.1.1.3.2a.cmml">bias</mtext><mtext id="S4.E7.m1.8.8.1.1.1.3.3" xref="S4.E7.m1.8.8.1.1.1.3.3a.cmml">sem</mtext></msub><mo id="S4.E7.m1.8.8.1.1.1.2" xref="S4.E7.m1.8.8.1.1.1.2.cmml">⁢</mo><mrow id="S4.E7.m1.8.8.1.1.1.1.1" xref="S4.E7.m1.8.8.1.1.1.1.2.cmml"><mo id="S4.E7.m1.8.8.1.1.1.1.1.2" stretchy="false" xref="S4.E7.m1.8.8.1.1.1.1.2.cmml">(</mo><mi id="S4.E7.m1.7.7" xref="S4.E7.m1.7.7.cmml">u</mi><mo id="S4.E7.m1.8.8.1.1.1.1.1.3" xref="S4.E7.m1.8.8.1.1.1.1.2.cmml">,</mo><msub id="S4.E7.m1.8.8.1.1.1.1.1.1" xref="S4.E7.m1.8.8.1.1.1.1.1.1.cmml"><mi id="S4.E7.m1.8.8.1.1.1.1.1.1.2" xref="S4.E7.m1.8.8.1.1.1.1.1.1.2.cmml">i</mi><mi id="S4.E7.m1.8.8.1.1.1.1.1.1.3" xref="S4.E7.m1.8.8.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S4.E7.m1.8.8.1.1.1.1.1.4" stretchy="false" xref="S4.E7.m1.8.8.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E7.m1.8.8.1.1.2" xref="S4.E7.m1.8.8.1.1.2.cmml">=</mo><mfrac id="S4.E7.m1.6.6" xref="S4.E7.m1.6.6.cmml"><mrow id="S4.E7.m1.4.4.4" xref="S4.E7.m1.4.4.4.cmml"><mrow id="S4.E7.m1.3.3.3.3" xref="S4.E7.m1.3.3.3.3.cmml"><msub id="S4.E7.m1.3.3.3.3.3" xref="S4.E7.m1.3.3.3.3.3.cmml"><mtext id="S4.E7.m1.3.3.3.3.3.2" xref="S4.E7.m1.3.3.3.3.3.2a.cmml">similarity</mtext><mtext id="S4.E7.m1.3.3.3.3.3.3" xref="S4.E7.m1.3.3.3.3.3.3a.cmml">sem</mtext></msub><mo id="S4.E7.m1.3.3.3.3.2" xref="S4.E7.m1.3.3.3.3.2.cmml">⁢</mo><mrow id="S4.E7.m1.3.3.3.3.1.1" xref="S4.E7.m1.3.3.3.3.1.2.cmml"><mo id="S4.E7.m1.3.3.3.3.1.1.2" stretchy="false" xref="S4.E7.m1.3.3.3.3.1.2.cmml">(</mo><mi id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml">u</mi><mo id="S4.E7.m1.3.3.3.3.1.1.3" xref="S4.E7.m1.3.3.3.3.1.2.cmml">,</mo><msub id="S4.E7.m1.3.3.3.3.1.1.1" xref="S4.E7.m1.3.3.3.3.1.1.1.cmml"><mi id="S4.E7.m1.3.3.3.3.1.1.1.2" xref="S4.E7.m1.3.3.3.3.1.1.1.2.cmml">i</mi><mi id="S4.E7.m1.3.3.3.3.1.1.1.3" xref="S4.E7.m1.3.3.3.3.1.1.1.3.cmml">k</mi></msub><mo id="S4.E7.m1.3.3.3.3.1.1.4" stretchy="false" xref="S4.E7.m1.3.3.3.3.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E7.m1.4.4.4.5" xref="S4.E7.m1.4.4.4.5.cmml">−</mo><mrow id="S4.E7.m1.4.4.4.4" xref="S4.E7.m1.4.4.4.4.cmml"><msub id="S4.E7.m1.4.4.4.4.3" xref="S4.E7.m1.4.4.4.4.3.cmml"><mtext id="S4.E7.m1.4.4.4.4.3.2" xref="S4.E7.m1.4.4.4.4.3.2a.cmml">similarity</mtext><mtext id="S4.E7.m1.4.4.4.4.3.3" xref="S4.E7.m1.4.4.4.4.3.3a.cmml">sem</mtext></msub><mo id="S4.E7.m1.4.4.4.4.2" xref="S4.E7.m1.4.4.4.4.2.cmml">⁢</mo><mrow id="S4.E7.m1.4.4.4.4.1.1" xref="S4.E7.m1.4.4.4.4.1.2.cmml"><mo id="S4.E7.m1.4.4.4.4.1.1.2" stretchy="false" xref="S4.E7.m1.4.4.4.4.1.2.cmml">(</mo><mi id="S4.E7.m1.2.2.2.2" xref="S4.E7.m1.2.2.2.2.cmml">u</mi><mo id="S4.E7.m1.4.4.4.4.1.1.3" xref="S4.E7.m1.4.4.4.4.1.2.cmml">,</mo><msub id="S4.E7.m1.4.4.4.4.1.1.1" xref="S4.E7.m1.4.4.4.4.1.1.1.cmml"><mi id="S4.E7.m1.4.4.4.4.1.1.1.2" xref="S4.E7.m1.4.4.4.4.1.1.1.2.cmml">i</mi><mrow id="S4.E7.m1.4.4.4.4.1.1.1.3" xref="S4.E7.m1.4.4.4.4.1.1.1.3.cmml"><mi id="S4.E7.m1.4.4.4.4.1.1.1.3.2" xref="S4.E7.m1.4.4.4.4.1.1.1.3.2.cmml">n</mi><mo id="S4.E7.m1.4.4.4.4.1.1.1.3.1" xref="S4.E7.m1.4.4.4.4.1.1.1.3.1.cmml">+</mo><mn id="S4.E7.m1.4.4.4.4.1.1.1.3.3" xref="S4.E7.m1.4.4.4.4.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S4.E7.m1.4.4.4.4.1.1.4" stretchy="false" xref="S4.E7.m1.4.4.4.4.1.2.cmml">)</mo></mrow></mrow></mrow><mrow id="S4.E7.m1.6.6.6" xref="S4.E7.m1.6.6.6.cmml"><msub id="S4.E7.m1.6.6.6.4" xref="S4.E7.m1.6.6.6.4.cmml"><mtext id="S4.E7.m1.6.6.6.4.2" xref="S4.E7.m1.6.6.6.4.2a.cmml">similarity</mtext><mtext id="S4.E7.m1.6.6.6.4.3" xref="S4.E7.m1.6.6.6.4.3a.cmml">sem</mtext></msub><mo id="S4.E7.m1.6.6.6.3" xref="S4.E7.m1.6.6.6.3.cmml">⁢</mo><mrow id="S4.E7.m1.6.6.6.2.1" xref="S4.E7.m1.6.6.6.2.2.cmml"><mo id="S4.E7.m1.6.6.6.2.1.2" stretchy="false" xref="S4.E7.m1.6.6.6.2.2.cmml">(</mo><mi id="S4.E7.m1.5.5.5.1" xref="S4.E7.m1.5.5.5.1.cmml">u</mi><mo id="S4.E7.m1.6.6.6.2.1.3" xref="S4.E7.m1.6.6.6.2.2.cmml">,</mo><msub id="S4.E7.m1.6.6.6.2.1.1" xref="S4.E7.m1.6.6.6.2.1.1.cmml"><mi id="S4.E7.m1.6.6.6.2.1.1.2" xref="S4.E7.m1.6.6.6.2.1.1.2.cmml">i</mi><mrow id="S4.E7.m1.6.6.6.2.1.1.3" xref="S4.E7.m1.6.6.6.2.1.1.3.cmml"><mi id="S4.E7.m1.6.6.6.2.1.1.3.2" xref="S4.E7.m1.6.6.6.2.1.1.3.2.cmml">n</mi><mo id="S4.E7.m1.6.6.6.2.1.1.3.1" xref="S4.E7.m1.6.6.6.2.1.1.3.1.cmml">+</mo><mn id="S4.E7.m1.6.6.6.2.1.1.3.3" xref="S4.E7.m1.6.6.6.2.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S4.E7.m1.6.6.6.2.1.4" stretchy="false" xref="S4.E7.m1.6.6.6.2.2.cmml">)</mo></mrow></mrow></mfrac></mrow><mo id="S4.E7.m1.8.8.1.2" xref="S4.E7.m1.8.8.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.8b"><apply id="S4.E7.m1.8.8.1.1.cmml" xref="S4.E7.m1.8.8.1"><eq id="S4.E7.m1.8.8.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.2"></eq><apply id="S4.E7.m1.8.8.1.1.1.cmml" xref="S4.E7.m1.8.8.1.1.1"><times id="S4.E7.m1.8.8.1.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.1.2"></times><apply id="S4.E7.m1.8.8.1.1.1.3.cmml" xref="S4.E7.m1.8.8.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.3.1.cmml" xref="S4.E7.m1.8.8.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.8.8.1.1.1.3.2a.cmml" xref="S4.E7.m1.8.8.1.1.1.3.2"><mtext id="S4.E7.m1.8.8.1.1.1.3.2.cmml" xref="S4.E7.m1.8.8.1.1.1.3.2">bias</mtext></ci><ci id="S4.E7.m1.8.8.1.1.1.3.3a.cmml" xref="S4.E7.m1.8.8.1.1.1.3.3"><mtext id="S4.E7.m1.8.8.1.1.1.3.3.cmml" mathsize="70%" xref="S4.E7.m1.8.8.1.1.1.3.3">sem</mtext></ci></apply><interval closure="open" id="S4.E7.m1.8.8.1.1.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1"><ci id="S4.E7.m1.7.7.cmml" xref="S4.E7.m1.7.7">𝑢</ci><apply id="S4.E7.m1.8.8.1.1.1.1.1.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E7.m1.8.8.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.2">𝑖</ci><ci id="S4.E7.m1.8.8.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.8.8.1.1.1.1.1.1.3">𝑘</ci></apply></interval></apply><apply id="S4.E7.m1.6.6.cmml" xref="S4.E7.m1.6.6"><divide id="S4.E7.m1.6.6.7.cmml" xref="S4.E7.m1.6.6"></divide><apply id="S4.E7.m1.4.4.4.cmml" xref="S4.E7.m1.4.4.4"><minus id="S4.E7.m1.4.4.4.5.cmml" xref="S4.E7.m1.4.4.4.5"></minus><apply id="S4.E7.m1.3.3.3.3.cmml" xref="S4.E7.m1.3.3.3.3"><times id="S4.E7.m1.3.3.3.3.2.cmml" xref="S4.E7.m1.3.3.3.3.2"></times><apply id="S4.E7.m1.3.3.3.3.3.cmml" xref="S4.E7.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.3.3.3.3.3.1.cmml" xref="S4.E7.m1.3.3.3.3.3">subscript</csymbol><ci id="S4.E7.m1.3.3.3.3.3.2a.cmml" xref="S4.E7.m1.3.3.3.3.3.2"><mtext id="S4.E7.m1.3.3.3.3.3.2.cmml" xref="S4.E7.m1.3.3.3.3.3.2">similarity</mtext></ci><ci id="S4.E7.m1.3.3.3.3.3.3a.cmml" xref="S4.E7.m1.3.3.3.3.3.3"><mtext id="S4.E7.m1.3.3.3.3.3.3.cmml" mathsize="70%" xref="S4.E7.m1.3.3.3.3.3.3">sem</mtext></ci></apply><interval closure="open" id="S4.E7.m1.3.3.3.3.1.2.cmml" xref="S4.E7.m1.3.3.3.3.1.1"><ci id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1">𝑢</ci><apply id="S4.E7.m1.3.3.3.3.1.1.1.cmml" xref="S4.E7.m1.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.3.3.3.3.1.1.1.1.cmml" xref="S4.E7.m1.3.3.3.3.1.1.1">subscript</csymbol><ci id="S4.E7.m1.3.3.3.3.1.1.1.2.cmml" xref="S4.E7.m1.3.3.3.3.1.1.1.2">𝑖</ci><ci id="S4.E7.m1.3.3.3.3.1.1.1.3.cmml" xref="S4.E7.m1.3.3.3.3.1.1.1.3">𝑘</ci></apply></interval></apply><apply id="S4.E7.m1.4.4.4.4.cmml" xref="S4.E7.m1.4.4.4.4"><times id="S4.E7.m1.4.4.4.4.2.cmml" xref="S4.E7.m1.4.4.4.4.2"></times><apply id="S4.E7.m1.4.4.4.4.3.cmml" xref="S4.E7.m1.4.4.4.4.3"><csymbol cd="ambiguous" id="S4.E7.m1.4.4.4.4.3.1.cmml" xref="S4.E7.m1.4.4.4.4.3">subscript</csymbol><ci id="S4.E7.m1.4.4.4.4.3.2a.cmml" xref="S4.E7.m1.4.4.4.4.3.2"><mtext id="S4.E7.m1.4.4.4.4.3.2.cmml" xref="S4.E7.m1.4.4.4.4.3.2">similarity</mtext></ci><ci id="S4.E7.m1.4.4.4.4.3.3a.cmml" xref="S4.E7.m1.4.4.4.4.3.3"><mtext id="S4.E7.m1.4.4.4.4.3.3.cmml" mathsize="70%" xref="S4.E7.m1.4.4.4.4.3.3">sem</mtext></ci></apply><interval closure="open" id="S4.E7.m1.4.4.4.4.1.2.cmml" xref="S4.E7.m1.4.4.4.4.1.1"><ci id="S4.E7.m1.2.2.2.2.cmml" xref="S4.E7.m1.2.2.2.2">𝑢</ci><apply id="S4.E7.m1.4.4.4.4.1.1.1.cmml" xref="S4.E7.m1.4.4.4.4.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.4.4.4.4.1.1.1.1.cmml" xref="S4.E7.m1.4.4.4.4.1.1.1">subscript</csymbol><ci id="S4.E7.m1.4.4.4.4.1.1.1.2.cmml" xref="S4.E7.m1.4.4.4.4.1.1.1.2">𝑖</ci><apply id="S4.E7.m1.4.4.4.4.1.1.1.3.cmml" xref="S4.E7.m1.4.4.4.4.1.1.1.3"><plus id="S4.E7.m1.4.4.4.4.1.1.1.3.1.cmml" xref="S4.E7.m1.4.4.4.4.1.1.1.3.1"></plus><ci id="S4.E7.m1.4.4.4.4.1.1.1.3.2.cmml" xref="S4.E7.m1.4.4.4.4.1.1.1.3.2">𝑛</ci><cn id="S4.E7.m1.4.4.4.4.1.1.1.3.3.cmml" type="integer" xref="S4.E7.m1.4.4.4.4.1.1.1.3.3">1</cn></apply></apply></interval></apply></apply><apply id="S4.E7.m1.6.6.6.cmml" xref="S4.E7.m1.6.6.6"><times id="S4.E7.m1.6.6.6.3.cmml" xref="S4.E7.m1.6.6.6.3"></times><apply id="S4.E7.m1.6.6.6.4.cmml" xref="S4.E7.m1.6.6.6.4"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.6.4.1.cmml" xref="S4.E7.m1.6.6.6.4">subscript</csymbol><ci id="S4.E7.m1.6.6.6.4.2a.cmml" xref="S4.E7.m1.6.6.6.4.2"><mtext id="S4.E7.m1.6.6.6.4.2.cmml" xref="S4.E7.m1.6.6.6.4.2">similarity</mtext></ci><ci id="S4.E7.m1.6.6.6.4.3a.cmml" xref="S4.E7.m1.6.6.6.4.3"><mtext id="S4.E7.m1.6.6.6.4.3.cmml" mathsize="70%" xref="S4.E7.m1.6.6.6.4.3">sem</mtext></ci></apply><interval closure="open" id="S4.E7.m1.6.6.6.2.2.cmml" xref="S4.E7.m1.6.6.6.2.1"><ci id="S4.E7.m1.5.5.5.1.cmml" xref="S4.E7.m1.5.5.5.1">𝑢</ci><apply id="S4.E7.m1.6.6.6.2.1.1.cmml" xref="S4.E7.m1.6.6.6.2.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.6.2.1.1.1.cmml" xref="S4.E7.m1.6.6.6.2.1.1">subscript</csymbol><ci id="S4.E7.m1.6.6.6.2.1.1.2.cmml" xref="S4.E7.m1.6.6.6.2.1.1.2">𝑖</ci><apply id="S4.E7.m1.6.6.6.2.1.1.3.cmml" xref="S4.E7.m1.6.6.6.2.1.1.3"><plus id="S4.E7.m1.6.6.6.2.1.1.3.1.cmml" xref="S4.E7.m1.6.6.6.2.1.1.3.1"></plus><ci id="S4.E7.m1.6.6.6.2.1.1.3.2.cmml" xref="S4.E7.m1.6.6.6.2.1.1.3.2">𝑛</ci><cn id="S4.E7.m1.6.6.6.2.1.1.3.3.cmml" type="integer" xref="S4.E7.m1.6.6.6.2.1.1.3.3">1</cn></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.8c">\text{bias}_{\text{sem}}(u,i_{k})=\frac{\text{similarity}_{\text{sem}}(u,i_{k}%
)-\text{similarity}_{\text{sem}}(u,i_{n+1})}{\text{similarity}_{\text{sem}}(u,%
i_{n+1})},</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.8d">bias start_POSTSUBSCRIPT sem end_POSTSUBSCRIPT ( italic_u , italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) = divide start_ARG similarity start_POSTSUBSCRIPT sem end_POSTSUBSCRIPT ( italic_u , italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) - similarity start_POSTSUBSCRIPT sem end_POSTSUBSCRIPT ( italic_u , italic_i start_POSTSUBSCRIPT italic_n + 1 end_POSTSUBSCRIPT ) end_ARG start_ARG similarity start_POSTSUBSCRIPT sem end_POSTSUBSCRIPT ( italic_u , italic_i start_POSTSUBSCRIPT italic_n + 1 end_POSTSUBSCRIPT ) end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS5.SSS1.p1.2">with the semantic similarity <span class="ltx_note ltx_role_footnote" id="footnote9"><sup class="ltx_note_mark">9</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">9</sup><span class="ltx_tag ltx_tag_note">9</span>We adopt the MPNet as the semantic encoder.</span></span></span> given by:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{similarity}_{\text{sem}}(u,i_{k})=\frac{\sum_{t=1}^{n}\text{CosSim}([%
\text{emb}_{k}]),[\text{emb}_{t}])}{n}." class="ltx_math_unparsed" display="block" id="S4.E8.m1.2"><semantics id="S4.E8.m1.2a"><mrow id="S4.E8.m1.2.2.1"><mrow id="S4.E8.m1.2.2.1.1"><mrow id="S4.E8.m1.2.2.1.1.1"><msub id="S4.E8.m1.2.2.1.1.1.3"><mtext id="S4.E8.m1.2.2.1.1.1.3.2">similarity</mtext><mtext id="S4.E8.m1.2.2.1.1.1.3.3">sem</mtext></msub><mo id="S4.E8.m1.2.2.1.1.1.2">⁢</mo><mrow id="S4.E8.m1.2.2.1.1.1.1.1"><mo id="S4.E8.m1.2.2.1.1.1.1.1.2" stretchy="false">(</mo><mi id="S4.E8.m1.1.1">u</mi><mo id="S4.E8.m1.2.2.1.1.1.1.1.3">,</mo><msub id="S4.E8.m1.2.2.1.1.1.1.1.1"><mi id="S4.E8.m1.2.2.1.1.1.1.1.1.2">i</mi><mi id="S4.E8.m1.2.2.1.1.1.1.1.1.3">k</mi></msub><mo id="S4.E8.m1.2.2.1.1.1.1.1.4" stretchy="false">)</mo></mrow></mrow><mo id="S4.E8.m1.2.2.1.1.2">=</mo><mfrac id="S4.E8.m1.2.2.1.1.3"><mrow id="S4.E8.m1.2.2.1.1.3.2"><msubsup id="S4.E8.m1.2.2.1.1.3.2.1"><mo id="S4.E8.m1.2.2.1.1.3.2.1.2.2">∑</mo><mrow id="S4.E8.m1.2.2.1.1.3.2.1.2.3"><mi id="S4.E8.m1.2.2.1.1.3.2.1.2.3.2">t</mi><mo id="S4.E8.m1.2.2.1.1.3.2.1.2.3.1">=</mo><mn id="S4.E8.m1.2.2.1.1.3.2.1.2.3.3">1</mn></mrow><mi id="S4.E8.m1.2.2.1.1.3.2.1.3">n</mi></msubsup><mtext id="S4.E8.m1.2.2.1.1.3.2.2">CosSim</mtext><mrow id="S4.E8.m1.2.2.1.1.3.2.3"><mo id="S4.E8.m1.2.2.1.1.3.2.3.1" stretchy="false">(</mo><mrow id="S4.E8.m1.2.2.1.1.3.2.3.2"><mo id="S4.E8.m1.2.2.1.1.3.2.3.2.1" stretchy="false">[</mo><msub id="S4.E8.m1.2.2.1.1.3.2.3.2.2"><mtext id="S4.E8.m1.2.2.1.1.3.2.3.2.2.2">emb</mtext><mi id="S4.E8.m1.2.2.1.1.3.2.3.2.2.3">k</mi></msub><mo id="S4.E8.m1.2.2.1.1.3.2.3.2.3" stretchy="false">]</mo></mrow><mo id="S4.E8.m1.2.2.1.1.3.2.3.3" stretchy="false">)</mo></mrow><mo id="S4.E8.m1.2.2.1.1.3.2.4">,</mo><mrow id="S4.E8.m1.2.2.1.1.3.2.5"><mo id="S4.E8.m1.2.2.1.1.3.2.5.1" stretchy="false">[</mo><msub id="S4.E8.m1.2.2.1.1.3.2.5.2"><mtext id="S4.E8.m1.2.2.1.1.3.2.5.2.2">emb</mtext><mi id="S4.E8.m1.2.2.1.1.3.2.5.2.3">t</mi></msub><mo id="S4.E8.m1.2.2.1.1.3.2.5.3" stretchy="false">]</mo></mrow><mo id="S4.E8.m1.2.2.1.1.3.2.6" stretchy="false">)</mo></mrow><mi id="S4.E8.m1.2.2.1.1.3.3">n</mi></mfrac></mrow><mo id="S4.E8.m1.2.2.1.2" lspace="0em">.</mo></mrow><annotation encoding="application/x-tex" id="S4.E8.m1.2b">\text{similarity}_{\text{sem}}(u,i_{k})=\frac{\sum_{t=1}^{n}\text{CosSim}([%
\text{emb}_{k}]),[\text{emb}_{t}])}{n}.</annotation><annotation encoding="application/x-llamapun" id="S4.E8.m1.2c">similarity start_POSTSUBSCRIPT sem end_POSTSUBSCRIPT ( italic_u , italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) = divide start_ARG ∑ start_POSTSUBSCRIPT italic_t = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT CosSim ( [ emb start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ] ) , [ emb start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ] ) end_ARG start_ARG italic_n end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.SS5.SSS1.p2">
<p class="ltx_p" id="S4.SS5.SSS1.p2.1">As illustrated in the first line of Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.F5" title="Figure 5 ‣ 4.6. Reducing Popularity Bias ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">5</span></a>, we can observe that RosePO-s exhibits a leftward shift in the distribution of the semantic bias metric compared to the SFT model.
This indicates that, compared to the previous stage models, our approach has reduced its reliance on semantic information to a certain extent, thereby mitigating the semantic hallucination that may arise from it.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS5.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">4.5.2. </span>Semantic-Hard Evaluation for Ranking</h4>
<figure class="ltx_figure" id="S4.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="616" id="S4.F4.sf1.g1" src="x5.png" width="831"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="S4.F4.sf1.3.2" style="font-size:90%;">Movielens</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="613" id="S4.F4.sf2.g1" src="x6.png" width="831"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.sf2.2.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="S4.F4.sf2.3.2" style="font-size:90%;">Goodreads</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F4.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="623" id="S4.F4.sf3.g1" src="x7.png" width="831"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.sf3.2.1.1" style="font-size:90%;">(c)</span> </span><span class="ltx_text" id="S4.F4.sf3.3.2" style="font-size:90%;">Steam</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F4.2.1.1" style="font-size:90%;">Figure 4</span>. </span><span class="ltx_text" id="S4.F4.3.2" style="font-size:90%;">HR@1 of SFT and RosePO-s on ranking semantic-similar item candidates.</span></figcaption>
</figure>
<div class="ltx_para" id="S4.SS5.SSS2.p1">
<p class="ltx_p" id="S4.SS5.SSS2.p1.1">Moreover, we ask the recommender to rank item candidates sampled by confusing negatives that are semantically similar to the user’s historical sequence, rather than the randomly sampled candidates.
In this challenging test setting, named semantic-hard setting, we observe a significant improvement in recommendation performance for RosePO-s compared to the SFT model as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.F4" title="Figure 4 ‣ 4.5.2. Semantic-Hard Evaluation for Ranking ‣ 4.5. Mitigating Semantic Hallucination ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">4</span></a>.
This demonstrates that RosePO can effectively teach the model to discern spurious correlations in semantics.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.6. </span>Reducing Popularity Bias</h3>
<div class="ltx_para" id="S4.SS6.p1">
<p class="ltx_p" id="S4.SS6.p1.2">In line with <cite class="ltx_cite ltx_citemacro_citep">(Lichtenberg et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib33" title="">2024</a>)</cite>, we define popularity bias as the difference between the popularity level of a recommendation item and the average popularity level of items in the user’s historical sequence.
We formulate popularity bias as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(9)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{bias}_{\text{pop}}(u,i_{t})=\text{LogPop}(i_{t})-\sum_{k=1}^{n}\frac{%
\text{LogPop}(i_{k})}{n}," class="ltx_Math" display="block" id="S4.E9.m1.3"><semantics id="S4.E9.m1.3a"><mrow id="S4.E9.m1.3.3.1" xref="S4.E9.m1.3.3.1.1.cmml"><mrow id="S4.E9.m1.3.3.1.1" xref="S4.E9.m1.3.3.1.1.cmml"><mrow id="S4.E9.m1.3.3.1.1.1" xref="S4.E9.m1.3.3.1.1.1.cmml"><msub id="S4.E9.m1.3.3.1.1.1.3" xref="S4.E9.m1.3.3.1.1.1.3.cmml"><mtext id="S4.E9.m1.3.3.1.1.1.3.2" xref="S4.E9.m1.3.3.1.1.1.3.2a.cmml">bias</mtext><mtext id="S4.E9.m1.3.3.1.1.1.3.3" xref="S4.E9.m1.3.3.1.1.1.3.3a.cmml">pop</mtext></msub><mo id="S4.E9.m1.3.3.1.1.1.2" xref="S4.E9.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S4.E9.m1.3.3.1.1.1.1.1" xref="S4.E9.m1.3.3.1.1.1.1.2.cmml"><mo id="S4.E9.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S4.E9.m1.3.3.1.1.1.1.2.cmml">(</mo><mi id="S4.E9.m1.2.2" xref="S4.E9.m1.2.2.cmml">u</mi><mo id="S4.E9.m1.3.3.1.1.1.1.1.3" xref="S4.E9.m1.3.3.1.1.1.1.2.cmml">,</mo><msub id="S4.E9.m1.3.3.1.1.1.1.1.1" xref="S4.E9.m1.3.3.1.1.1.1.1.1.cmml"><mi id="S4.E9.m1.3.3.1.1.1.1.1.1.2" xref="S4.E9.m1.3.3.1.1.1.1.1.1.2.cmml">i</mi><mi id="S4.E9.m1.3.3.1.1.1.1.1.1.3" xref="S4.E9.m1.3.3.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.E9.m1.3.3.1.1.1.1.1.4" stretchy="false" xref="S4.E9.m1.3.3.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E9.m1.3.3.1.1.3" xref="S4.E9.m1.3.3.1.1.3.cmml">=</mo><mrow id="S4.E9.m1.3.3.1.1.2" xref="S4.E9.m1.3.3.1.1.2.cmml"><mrow id="S4.E9.m1.3.3.1.1.2.1" xref="S4.E9.m1.3.3.1.1.2.1.cmml"><mtext id="S4.E9.m1.3.3.1.1.2.1.3" xref="S4.E9.m1.3.3.1.1.2.1.3a.cmml">LogPop</mtext><mo id="S4.E9.m1.3.3.1.1.2.1.2" xref="S4.E9.m1.3.3.1.1.2.1.2.cmml">⁢</mo><mrow id="S4.E9.m1.3.3.1.1.2.1.1.1" xref="S4.E9.m1.3.3.1.1.2.1.1.1.1.cmml"><mo id="S4.E9.m1.3.3.1.1.2.1.1.1.2" stretchy="false" xref="S4.E9.m1.3.3.1.1.2.1.1.1.1.cmml">(</mo><msub id="S4.E9.m1.3.3.1.1.2.1.1.1.1" xref="S4.E9.m1.3.3.1.1.2.1.1.1.1.cmml"><mi id="S4.E9.m1.3.3.1.1.2.1.1.1.1.2" xref="S4.E9.m1.3.3.1.1.2.1.1.1.1.2.cmml">i</mi><mi id="S4.E9.m1.3.3.1.1.2.1.1.1.1.3" xref="S4.E9.m1.3.3.1.1.2.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.E9.m1.3.3.1.1.2.1.1.1.3" stretchy="false" xref="S4.E9.m1.3.3.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E9.m1.3.3.1.1.2.2" rspace="0.055em" xref="S4.E9.m1.3.3.1.1.2.2.cmml">−</mo><mrow id="S4.E9.m1.3.3.1.1.2.3" xref="S4.E9.m1.3.3.1.1.2.3.cmml"><munderover id="S4.E9.m1.3.3.1.1.2.3.1" xref="S4.E9.m1.3.3.1.1.2.3.1.cmml"><mo id="S4.E9.m1.3.3.1.1.2.3.1.2.2" movablelimits="false" xref="S4.E9.m1.3.3.1.1.2.3.1.2.2.cmml">∑</mo><mrow id="S4.E9.m1.3.3.1.1.2.3.1.2.3" xref="S4.E9.m1.3.3.1.1.2.3.1.2.3.cmml"><mi id="S4.E9.m1.3.3.1.1.2.3.1.2.3.2" xref="S4.E9.m1.3.3.1.1.2.3.1.2.3.2.cmml">k</mi><mo id="S4.E9.m1.3.3.1.1.2.3.1.2.3.1" xref="S4.E9.m1.3.3.1.1.2.3.1.2.3.1.cmml">=</mo><mn id="S4.E9.m1.3.3.1.1.2.3.1.2.3.3" xref="S4.E9.m1.3.3.1.1.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S4.E9.m1.3.3.1.1.2.3.1.3" xref="S4.E9.m1.3.3.1.1.2.3.1.3.cmml">n</mi></munderover><mfrac id="S4.E9.m1.1.1" xref="S4.E9.m1.1.1.cmml"><mrow id="S4.E9.m1.1.1.1" xref="S4.E9.m1.1.1.1.cmml"><mtext id="S4.E9.m1.1.1.1.3" xref="S4.E9.m1.1.1.1.3a.cmml">LogPop</mtext><mo id="S4.E9.m1.1.1.1.2" xref="S4.E9.m1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E9.m1.1.1.1.1.1" xref="S4.E9.m1.1.1.1.1.1.1.cmml"><mo id="S4.E9.m1.1.1.1.1.1.2" stretchy="false" xref="S4.E9.m1.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E9.m1.1.1.1.1.1.1" xref="S4.E9.m1.1.1.1.1.1.1.cmml"><mi id="S4.E9.m1.1.1.1.1.1.1.2" xref="S4.E9.m1.1.1.1.1.1.1.2.cmml">i</mi><mi id="S4.E9.m1.1.1.1.1.1.1.3" xref="S4.E9.m1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S4.E9.m1.1.1.1.1.1.3" stretchy="false" xref="S4.E9.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mi id="S4.E9.m1.1.1.3" xref="S4.E9.m1.1.1.3.cmml">n</mi></mfrac></mrow></mrow></mrow><mo id="S4.E9.m1.3.3.1.2" xref="S4.E9.m1.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E9.m1.3b"><apply id="S4.E9.m1.3.3.1.1.cmml" xref="S4.E9.m1.3.3.1"><eq id="S4.E9.m1.3.3.1.1.3.cmml" xref="S4.E9.m1.3.3.1.1.3"></eq><apply id="S4.E9.m1.3.3.1.1.1.cmml" xref="S4.E9.m1.3.3.1.1.1"><times id="S4.E9.m1.3.3.1.1.1.2.cmml" xref="S4.E9.m1.3.3.1.1.1.2"></times><apply id="S4.E9.m1.3.3.1.1.1.3.cmml" xref="S4.E9.m1.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S4.E9.m1.3.3.1.1.1.3.1.cmml" xref="S4.E9.m1.3.3.1.1.1.3">subscript</csymbol><ci id="S4.E9.m1.3.3.1.1.1.3.2a.cmml" xref="S4.E9.m1.3.3.1.1.1.3.2"><mtext id="S4.E9.m1.3.3.1.1.1.3.2.cmml" xref="S4.E9.m1.3.3.1.1.1.3.2">bias</mtext></ci><ci id="S4.E9.m1.3.3.1.1.1.3.3a.cmml" xref="S4.E9.m1.3.3.1.1.1.3.3"><mtext id="S4.E9.m1.3.3.1.1.1.3.3.cmml" mathsize="70%" xref="S4.E9.m1.3.3.1.1.1.3.3">pop</mtext></ci></apply><interval closure="open" id="S4.E9.m1.3.3.1.1.1.1.2.cmml" xref="S4.E9.m1.3.3.1.1.1.1.1"><ci id="S4.E9.m1.2.2.cmml" xref="S4.E9.m1.2.2">𝑢</ci><apply id="S4.E9.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.E9.m1.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E9.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.3.3.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E9.m1.3.3.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.3.3.1.1.1.1.1.1.2">𝑖</ci><ci id="S4.E9.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S4.E9.m1.3.3.1.1.1.1.1.1.3">𝑡</ci></apply></interval></apply><apply id="S4.E9.m1.3.3.1.1.2.cmml" xref="S4.E9.m1.3.3.1.1.2"><minus id="S4.E9.m1.3.3.1.1.2.2.cmml" xref="S4.E9.m1.3.3.1.1.2.2"></minus><apply id="S4.E9.m1.3.3.1.1.2.1.cmml" xref="S4.E9.m1.3.3.1.1.2.1"><times id="S4.E9.m1.3.3.1.1.2.1.2.cmml" xref="S4.E9.m1.3.3.1.1.2.1.2"></times><ci id="S4.E9.m1.3.3.1.1.2.1.3a.cmml" xref="S4.E9.m1.3.3.1.1.2.1.3"><mtext id="S4.E9.m1.3.3.1.1.2.1.3.cmml" xref="S4.E9.m1.3.3.1.1.2.1.3">LogPop</mtext></ci><apply id="S4.E9.m1.3.3.1.1.2.1.1.1.1.cmml" xref="S4.E9.m1.3.3.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S4.E9.m1.3.3.1.1.2.1.1.1.1.1.cmml" xref="S4.E9.m1.3.3.1.1.2.1.1.1">subscript</csymbol><ci id="S4.E9.m1.3.3.1.1.2.1.1.1.1.2.cmml" xref="S4.E9.m1.3.3.1.1.2.1.1.1.1.2">𝑖</ci><ci id="S4.E9.m1.3.3.1.1.2.1.1.1.1.3.cmml" xref="S4.E9.m1.3.3.1.1.2.1.1.1.1.3">𝑡</ci></apply></apply><apply id="S4.E9.m1.3.3.1.1.2.3.cmml" xref="S4.E9.m1.3.3.1.1.2.3"><apply id="S4.E9.m1.3.3.1.1.2.3.1.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1"><csymbol cd="ambiguous" id="S4.E9.m1.3.3.1.1.2.3.1.1.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1">superscript</csymbol><apply id="S4.E9.m1.3.3.1.1.2.3.1.2.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1"><csymbol cd="ambiguous" id="S4.E9.m1.3.3.1.1.2.3.1.2.1.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1">subscript</csymbol><sum id="S4.E9.m1.3.3.1.1.2.3.1.2.2.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1.2.2"></sum><apply id="S4.E9.m1.3.3.1.1.2.3.1.2.3.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1.2.3"><eq id="S4.E9.m1.3.3.1.1.2.3.1.2.3.1.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1.2.3.1"></eq><ci id="S4.E9.m1.3.3.1.1.2.3.1.2.3.2.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1.2.3.2">𝑘</ci><cn id="S4.E9.m1.3.3.1.1.2.3.1.2.3.3.cmml" type="integer" xref="S4.E9.m1.3.3.1.1.2.3.1.2.3.3">1</cn></apply></apply><ci id="S4.E9.m1.3.3.1.1.2.3.1.3.cmml" xref="S4.E9.m1.3.3.1.1.2.3.1.3">𝑛</ci></apply><apply id="S4.E9.m1.1.1.cmml" xref="S4.E9.m1.1.1"><divide id="S4.E9.m1.1.1.2.cmml" xref="S4.E9.m1.1.1"></divide><apply id="S4.E9.m1.1.1.1.cmml" xref="S4.E9.m1.1.1.1"><times id="S4.E9.m1.1.1.1.2.cmml" xref="S4.E9.m1.1.1.1.2"></times><ci id="S4.E9.m1.1.1.1.3a.cmml" xref="S4.E9.m1.1.1.1.3"><mtext id="S4.E9.m1.1.1.1.3.cmml" xref="S4.E9.m1.1.1.1.3">LogPop</mtext></ci><apply id="S4.E9.m1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E9.m1.1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.E9.m1.1.1.1.1.1.1.2.cmml" xref="S4.E9.m1.1.1.1.1.1.1.2">𝑖</ci><ci id="S4.E9.m1.1.1.1.1.1.1.3.cmml" xref="S4.E9.m1.1.1.1.1.1.1.3">𝑘</ci></apply></apply><ci id="S4.E9.m1.1.1.3.cmml" xref="S4.E9.m1.1.1.3">𝑛</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9.m1.3c">\text{bias}_{\text{pop}}(u,i_{t})=\text{LogPop}(i_{t})-\sum_{k=1}^{n}\frac{%
\text{LogPop}(i_{k})}{n},</annotation><annotation encoding="application/x-llamapun" id="S4.E9.m1.3d">bias start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT ( italic_u , italic_i start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = LogPop ( italic_i start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) - ∑ start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT divide start_ARG LogPop ( italic_i start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) end_ARG start_ARG italic_n end_ARG ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS6.p1.1">where <math alttext="\text{LogPop}(\cdot)" class="ltx_Math" display="inline" id="S4.SS6.p1.1.m1.1"><semantics id="S4.SS6.p1.1.m1.1a"><mrow id="S4.SS6.p1.1.m1.1.2" xref="S4.SS6.p1.1.m1.1.2.cmml"><mtext id="S4.SS6.p1.1.m1.1.2.2" xref="S4.SS6.p1.1.m1.1.2.2a.cmml">LogPop</mtext><mo id="S4.SS6.p1.1.m1.1.2.1" xref="S4.SS6.p1.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS6.p1.1.m1.1.2.3.2" xref="S4.SS6.p1.1.m1.1.2.cmml"><mo id="S4.SS6.p1.1.m1.1.2.3.2.1" stretchy="false" xref="S4.SS6.p1.1.m1.1.2.cmml">(</mo><mo id="S4.SS6.p1.1.m1.1.1" lspace="0em" rspace="0em" xref="S4.SS6.p1.1.m1.1.1.cmml">⋅</mo><mo id="S4.SS6.p1.1.m1.1.2.3.2.2" stretchy="false" xref="S4.SS6.p1.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS6.p1.1.m1.1b"><apply id="S4.SS6.p1.1.m1.1.2.cmml" xref="S4.SS6.p1.1.m1.1.2"><times id="S4.SS6.p1.1.m1.1.2.1.cmml" xref="S4.SS6.p1.1.m1.1.2.1"></times><ci id="S4.SS6.p1.1.m1.1.2.2a.cmml" xref="S4.SS6.p1.1.m1.1.2.2"><mtext id="S4.SS6.p1.1.m1.1.2.2.cmml" xref="S4.SS6.p1.1.m1.1.2.2">LogPop</mtext></ci><ci id="S4.SS6.p1.1.m1.1.1.cmml" xref="S4.SS6.p1.1.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS6.p1.1.m1.1c">\text{LogPop}(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S4.SS6.p1.1.m1.1d">LogPop ( ⋅ )</annotation></semantics></math> denotes the logarithmic popularity of an item.</p>
</div>
<div class="ltx_para" id="S4.SS6.p2">
<p class="ltx_p" id="S4.SS6.p2.1">As illustrated in the second line of Fig. <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.F5" title="Figure 5 ‣ 4.6. Reducing Popularity Bias ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">5</span></a>, RosePO-p demonstrates a leftward shift in the distribution of the popularity bias metric when compared with the SFT model.
This suggests that RosePO-p is capable of recommending items that are less mainstream compared to those in the user’s interaction history.
On one hand, this explores the user’s interests, and on the other hand, it encourages the creation of niche items without compromising the user experience.</p>
</div>
<figure class="ltx_figure" id="S4.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="510" id="S4.F5.sf1.g1" src="x8.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F5.sf1.2.1.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="S4.F5.sf1.3.2" style="font-size:90%;">Semantic Bias on Movielens</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="512" id="S4.F5.sf2.g1" src="x9.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F5.sf2.2.1.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="S4.F5.sf2.3.2" style="font-size:90%;">Semantic Bias on Goodreads</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="512" id="S4.F5.sf3.g1" src="x10.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F5.sf3.2.1.1" style="font-size:90%;">(c)</span> </span><span class="ltx_text" id="S4.F5.sf3.3.2" style="font-size:90%;">Semantic Bias on Steam</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf4"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="515" id="S4.F5.sf4.g1" src="x11.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F5.sf4.2.1.1" style="font-size:90%;">(d)</span> </span><span class="ltx_text" id="S4.F5.sf4.3.2" style="font-size:90%;">Popularity Bias on Movielens</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf5"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="507" id="S4.F5.sf5.g1" src="x12.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F5.sf5.2.1.1" style="font-size:90%;">(e)</span> </span><span class="ltx_text" id="S4.F5.sf5.3.2" style="font-size:90%;">Popularity Bias on Goodreads</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F5.sf6"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="508" id="S4.F5.sf6.g1" src="x13.png" width="830"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F5.sf6.2.1.1" style="font-size:90%;">(f)</span> </span><span class="ltx_text" id="S4.F5.sf6.3.2" style="font-size:90%;">Popularity Bias on Steam</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F5.2.1.1" style="font-size:90%;">Figure 5</span>. </span><span class="ltx_text" id="S4.F5.3.2" style="font-size:90%;">Distribution of semantic bias and popularity bias for SFT and RosePO (-s and -p).</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS7">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.7. </span>Aligning with Multiple Preferences</h3>
<figure class="ltx_table" id="S4.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S4.T5.8.1.1" style="font-size:90%;">Table 5</span>. </span><span class="ltx_text" id="S4.T5.9.2" style="font-size:90%;">HH evaluation for hybrid rejected sampling.</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="S4.T5.6" style="width:203.8pt;height:106.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-88.1pt,45.9pt) scale(0.53620872196302,0.53620872196302) ;">
<table class="ltx_tabular ltx_align_middle" id="S4.T5.6.6">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T5.6.6.7.1">
<td class="ltx_td ltx_border_r ltx_border_tt" id="S4.T5.6.6.7.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="4" id="S4.T5.6.6.7.1.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.7.1.2.1">Helpfulness</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S4.T5.6.6.7.1.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.7.1.3.1">Harmlessness</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.6">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T5.6.6.6.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.6.7.1">Model</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.1.1.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.1.1.1.1.1">HR@1<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T5.1.1.1.1.1.m1.1"><semantics id="S4.T5.1.1.1.1.1.m1.1a"><mo id="S4.T5.1.1.1.1.1.m1.1.1" stretchy="false" xref="S4.T5.1.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T5.1.1.1.1.1.m1.1b"><ci id="S4.T5.1.1.1.1.1.m1.1.1.cmml" xref="S4.T5.1.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.1.1.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.1.1.1.1.1.m1.1d">↑</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.2.2.2.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.2.2.2.2.1">HR@5<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T5.2.2.2.2.1.m1.1"><semantics id="S4.T5.2.2.2.2.1.m1.1a"><mo id="S4.T5.2.2.2.2.1.m1.1.1" stretchy="false" xref="S4.T5.2.2.2.2.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T5.2.2.2.2.1.m1.1b"><ci id="S4.T5.2.2.2.2.1.m1.1.1.cmml" xref="S4.T5.2.2.2.2.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.2.2.2.2.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.2.2.2.2.1.m1.1d">↑</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.3.3.3.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.3.3.3.3.1">N@5<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T5.3.3.3.3.1.m1.1"><semantics id="S4.T5.3.3.3.3.1.m1.1a"><mo id="S4.T5.3.3.3.3.1.m1.1.1" stretchy="false" xref="S4.T5.3.3.3.3.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T5.3.3.3.3.1.m1.1b"><ci id="S4.T5.3.3.3.3.1.m1.1.1.cmml" xref="S4.T5.3.3.3.3.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.3.3.3.3.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.3.3.3.3.1.m1.1d">↑</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.4.4.4.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.4.4.4.4.1">N@10<math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T5.4.4.4.4.1.m1.1"><semantics id="S4.T5.4.4.4.4.1.m1.1a"><mo id="S4.T5.4.4.4.4.1.m1.1.1" stretchy="false" xref="S4.T5.4.4.4.4.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T5.4.4.4.4.1.m1.1b"><ci id="S4.T5.4.4.4.4.1.m1.1.1.cmml" xref="S4.T5.4.4.4.4.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.4.4.4.4.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.4.4.4.4.1.m1.1d">↑</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.5.5.5.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.5.5.5.5.1">Sem. Bias<math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T5.5.5.5.5.1.m1.1"><semantics id="S4.T5.5.5.5.5.1.m1.1a"><mo id="S4.T5.5.5.5.5.1.m1.1.1" stretchy="false" xref="S4.T5.5.5.5.5.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T5.5.5.5.5.1.m1.1b"><ci id="S4.T5.5.5.5.5.1.m1.1.1.cmml" xref="S4.T5.5.5.5.5.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.5.5.5.5.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.5.5.5.5.1.m1.1d">↓</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.6.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.6.6.1">Pop. Bias<math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T5.6.6.6.6.1.m1.1"><semantics id="S4.T5.6.6.6.6.1.m1.1a"><mo id="S4.T5.6.6.6.6.1.m1.1.1" stretchy="false" xref="S4.T5.6.6.6.6.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T5.6.6.6.6.1.m1.1b"><ci id="S4.T5.6.6.6.6.1.m1.1.1.cmml" xref="S4.T5.6.6.6.6.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T5.6.6.6.6.1.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T5.6.6.6.6.1.m1.1d">↓</annotation></semantics></math></span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.8.2">
<td class="ltx_td ltx_align_left ltx_border_tt" colspan="7" id="S4.T5.6.6.8.2.1" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.8.2.1.1" style="background-color:#EBEBEB;">Movielens</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.9.3">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T5.6.6.9.3.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.9.3.1.1">SFT</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.9.3.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.4674</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.9.3.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8800</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.9.3.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.6865</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.6.6.9.3.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.7111</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.9.3.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.0850</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.9.3.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.1859</td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.10.4">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T5.6.6.10.4.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.10.4.1.1">RosePO-m</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.10.4.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.10.4.2.1">0.4737</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.10.4.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.10.4.3.1">0.8863</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.10.4.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.10.4.4.1">0.6959</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.6.6.10.4.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.10.4.5.1">0.7166</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.10.4.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.10.4.6.1">0.0424</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.10.4.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.10.4.7.1">0.1836</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.11.5">
<td class="ltx_td ltx_align_left ltx_border_tt" colspan="7" id="S4.T5.6.6.11.5.1" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.11.5.1.1" style="background-color:#EBEBEB;">Goodreads</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.12.6">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="S4.T5.6.6.12.6.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.12.6.1.1">SFT</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.12.6.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.5165</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.12.6.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8692</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.12.6.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.7053</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T5.6.6.12.6.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.7373</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.12.6.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.1099</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T5.6.6.12.6.7" style="padding-left:7.7pt;padding-right:7.7pt;">-0.2583</td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.13.7">
<td class="ltx_td ltx_align_left ltx_border_r" id="S4.T5.6.6.13.7.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.13.7.1.1">RosePO-m</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.13.7.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.13.7.2.1">0.5401</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.13.7.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.13.7.3.1">0.8819</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.13.7.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.13.7.4.1">0.7225</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T5.6.6.13.7.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.13.7.5.1">0.7502</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.13.7.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.13.7.6.1">0.0774</span></td>
<td class="ltx_td ltx_align_center" id="S4.T5.6.6.13.7.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.13.7.7.1">-0.3300</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.14.8">
<td class="ltx_td ltx_align_left ltx_border_t" colspan="7" id="S4.T5.6.6.14.8.1" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.14.8.1.1" style="background-color:#EBEBEB;">Steam</span></td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.15.9">
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_tt" id="S4.T5.6.6.15.9.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.15.9.1.1">SFT</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.6.6.15.9.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.5105</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.6.6.15.9.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.8788</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.6.6.15.9.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.7100</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="S4.T5.6.6.15.9.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.7348</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.6.6.15.9.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.1143</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T5.6.6.15.9.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.2458</td>
</tr>
<tr class="ltx_tr" id="S4.T5.6.6.16.10">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_r" id="S4.T5.6.6.16.10.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.16.10.1.1">RosePO-m</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.6.6.16.10.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.16.10.2.1">0.5261</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.6.6.16.10.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.16.10.3.1">0.8858</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.6.6.16.10.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.16.10.4.1">0.7231</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T5.6.6.16.10.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.16.10.5.1">0.7476</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.6.6.16.10.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.16.10.6.1">0.0866</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T5.6.6.16.10.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="S4.T5.6.6.16.10.7.1">0.1743</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS7.p1">
<p class="ltx_p" id="S4.SS7.p1.3">Going a step further, despite the potential conflicts between helpfulness and harmlessness <cite class="ltx_cite ltx_citemacro_citep">(Askell et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib2" title="">2021</a>)</cite>, we endeavor to address these three types of preferences concurrently using a hybrid sampling strategy, referred to as RosePO-m.
Specifically, for each <math alttext="y_{l}" class="ltx_Math" display="inline" id="S4.SS7.p1.1.m1.1"><semantics id="S4.SS7.p1.1.m1.1a"><msub id="S4.SS7.p1.1.m1.1.1" xref="S4.SS7.p1.1.m1.1.1.cmml"><mi id="S4.SS7.p1.1.m1.1.1.2" xref="S4.SS7.p1.1.m1.1.1.2.cmml">y</mi><mi id="S4.SS7.p1.1.m1.1.1.3" xref="S4.SS7.p1.1.m1.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.p1.1.m1.1b"><apply id="S4.SS7.p1.1.m1.1.1.cmml" xref="S4.SS7.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS7.p1.1.m1.1.1.1.cmml" xref="S4.SS7.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS7.p1.1.m1.1.1.2.cmml" xref="S4.SS7.p1.1.m1.1.1.2">𝑦</ci><ci id="S4.SS7.p1.1.m1.1.1.3.cmml" xref="S4.SS7.p1.1.m1.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p1.1.m1.1c">y_{l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p1.1.m1.1d">italic_y start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math>, the rejected sampling strategy is randomly selected from RosePO-h, -s, and -p.
We evaluate with six metrics considering both helpfulness (HR@1, HR@5, NDCG@5, and NDCG@10) and harmlessness (<math alttext="\text{bias}_{\text{sem}}" class="ltx_Math" display="inline" id="S4.SS7.p1.2.m2.1"><semantics id="S4.SS7.p1.2.m2.1a"><msub id="S4.SS7.p1.2.m2.1.1" xref="S4.SS7.p1.2.m2.1.1.cmml"><mtext id="S4.SS7.p1.2.m2.1.1.2" xref="S4.SS7.p1.2.m2.1.1.2a.cmml">bias</mtext><mtext id="S4.SS7.p1.2.m2.1.1.3" xref="S4.SS7.p1.2.m2.1.1.3a.cmml">sem</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.p1.2.m2.1b"><apply id="S4.SS7.p1.2.m2.1.1.cmml" xref="S4.SS7.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS7.p1.2.m2.1.1.1.cmml" xref="S4.SS7.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS7.p1.2.m2.1.1.2a.cmml" xref="S4.SS7.p1.2.m2.1.1.2"><mtext id="S4.SS7.p1.2.m2.1.1.2.cmml" xref="S4.SS7.p1.2.m2.1.1.2">bias</mtext></ci><ci id="S4.SS7.p1.2.m2.1.1.3a.cmml" xref="S4.SS7.p1.2.m2.1.1.3"><mtext id="S4.SS7.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S4.SS7.p1.2.m2.1.1.3">sem</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p1.2.m2.1c">\text{bias}_{\text{sem}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p1.2.m2.1d">bias start_POSTSUBSCRIPT sem end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\text{bias}_{\text{pop}}" class="ltx_Math" display="inline" id="S4.SS7.p1.3.m3.1"><semantics id="S4.SS7.p1.3.m3.1a"><msub id="S4.SS7.p1.3.m3.1.1" xref="S4.SS7.p1.3.m3.1.1.cmml"><mtext id="S4.SS7.p1.3.m3.1.1.2" xref="S4.SS7.p1.3.m3.1.1.2a.cmml">bias</mtext><mtext id="S4.SS7.p1.3.m3.1.1.3" xref="S4.SS7.p1.3.m3.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS7.p1.3.m3.1b"><apply id="S4.SS7.p1.3.m3.1.1.cmml" xref="S4.SS7.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS7.p1.3.m3.1.1.1.cmml" xref="S4.SS7.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS7.p1.3.m3.1.1.2a.cmml" xref="S4.SS7.p1.3.m3.1.1.2"><mtext id="S4.SS7.p1.3.m3.1.1.2.cmml" xref="S4.SS7.p1.3.m3.1.1.2">bias</mtext></ci><ci id="S4.SS7.p1.3.m3.1.1.3a.cmml" xref="S4.SS7.p1.3.m3.1.1.3"><mtext id="S4.SS7.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S4.SS7.p1.3.m3.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS7.p1.3.m3.1c">\text{bias}_{\text{pop}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS7.p1.3.m3.1d">bias start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math>).
Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#S4.T5" title="Table 5 ‣ 4.7. Aligning with Multiple Preferences ‣ 4. Experiments and Results ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">5</span></a> demonstrates that RosPO-m improves upon the SFT model across all evaluation metrics, moving towards a more HH recommendation service.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this paper, we underscore the necessity of the preference alignment stage in developing a helpful and harmless LLM-based recommender.
To curate data with specific preferences and handle different levels of noise in preference labels, we introduce Recommendation with smoothing personalized Preference Optimization — RosePO.
Conclusively, we made following contributions:
(1) Taking three preferences as examples, we design rejected sampling strategies to overcome model limitations in providing more accurate recommendations (<em class="ltx_emph ltx_font_italic" id="S5.p1.1.1">i.e., </em>helpfulness), as well as mitigating semantic hallucination and popularity bias (<em class="ltx_emph ltx_font_italic" id="S5.p1.1.2">i.e., </em>harmlessness).
(2) We incorporate a personalized smoothing factor into the optimization objective, leading to more robust preference alignment.
(3) Thorough experimental analysis demonstrates that RosePO is effective in aligning the LLM-based recommender with specific preferences, and the two key components of RosePO are essential.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">While we recognize the positive impact LLMs have in recommendations, we also cannot ignore the realities revealed by the flip side of the coin.
This paper emphasizes the importance of human-centric values in LLM-based recommenders, paving the way for a more helpful and harmless service that better satisfies user needs and expectations.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Askell et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Amanda Askell, Yuntao Bai, Anna Chen, Dawn Drain, Deep Ganguli, Tom Henighan, Andy Jones, Nicholas Joseph, Benjamin Mann, Nova DasSarma, Nelson Elhage, Zac Hatfield-Dodds, Danny Hernandez, Jackson Kernion, Kamal Ndousse, Catherine Olsson, Dario Amodei, Tom B. Brown, Jack Clark, Sam McCandlish, Chris Olah, and Jared Kaplan. 2021.

</span>
<span class="ltx_bibblock">A General Language Assistant as a Laboratory for Alignment.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">CoRR</em> abs/2112.00861 (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Azar et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Mohammad Gheshlaghi Azar, Zhaohan Daniel Guo, Bilal Piot, Rémi Munos, Mark Rowland, Michal Valko, and Daniele Calandriello. 2024.

</span>
<span class="ltx_bibblock">A General Theoretical Paradigm to Understand Learning from Human Preferences. In <em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">AISTATS</em> <em class="ltx_emph ltx_font_italic" id="bib.bib3.4.2">(Proceedings of Machine Learning Research, Vol. 238)</em>. PMLR, 4447–4455.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yuntao Bai, Andy Jones, Kamal Ndousse, Amanda Askell, Anna Chen, Nova DasSarma, Dawn Drain, Stanislav Fort, Deep Ganguli, Tom Henighan, Nicholas Joseph, Saurav Kadavath, Jackson Kernion, Tom Conerly, Sheer El Showk, Nelson Elhage, Zac Hatfield-Dodds, Danny Hernandez, Tristan Hume, Scott Johnston, Shauna Kravec, Liane Lovitt, Neel Nanda, Catherine Olsson, Dario Amodei, Tom B. Brown, Jack Clark, Sam McCandlish, Chris Olah, Benjamin Mann, and
Jared Kaplan. 2022.

</span>
<span class="ltx_bibblock">Training a Helpful and Harmless Assistant with Reinforcement Learning from Human Feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">CoRR</em> abs/2204.05862 (2022).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bai et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Zhuoxi Bai, Ning Wu, Fengyu Cai, Xinyi Zhu, and Yun Xiong. 2024.

</span>
<span class="ltx_bibblock">Finetuning Large Language Model for Personalized Ranking.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">CoRR</em> abs/2405.16127 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Wenjie Wang, Yang Zhang, Zhengyi Yang, Yancheng Luo, Fuli Feng, Xiangnan He, and Qi Tian. 2023a.

</span>
<span class="ltx_bibblock">A Bi-Step Grounding Paradigm for Large Language Models in Recommendation Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">CoRR</em> abs/2308.08434 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Yang Zhang, Xinyue Huo, Chong Chen, and Fuli Feng. 2024.

</span>
<span class="ltx_bibblock">Decoding Matters: Addressing Amplification Bias and Homogeneity Issue for LLM-based Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">CoRR</em> abs/2406.14900 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bao et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Keqin Bao, Jizhi Zhang, Yang Zhang, Wenjie Wang, Fuli Feng, and Xiangnan He. 2023b.

</span>
<span class="ltx_bibblock">TALLRec: An Effective and Efficient Tuning Framework to Align Large Language Model with Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">RecSys</em>. ACM, 1007–1014.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bradley and Terry (1952)</span>
<span class="ltx_bibblock">
Ralph Allan Bradley and Milton E Terry. 1952.

</span>
<span class="ltx_bibblock">Rank analysis of incomplete block designs: I. The method of paired comparisons.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Biometrika</em> 39, 3/4 (1952), 324–345.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brown et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Tom B. Brown, Benjamin Mann, Nick Ryder, Melanie Subbiah, Jared Kaplan, Prafulla Dhariwal, Arvind Neelakantan, Pranav Shyam, Girish Sastry, Amanda Askell, Sandhini Agarwal, Ariel Herbert-Voss, Gretchen Krueger, Tom Henighan, Rewon Child, Aditya Ramesh, Daniel M. Ziegler, Jeffrey Wu, Clemens Winter, Christopher Hesse, Mark Chen, Eric Sigler, Mateusz Litwin, Scott Gray, Benjamin Chess, Jack Clark, Christopher Berner, Sam McCandlish, Alec Radford, Ilya Sutskever,
and Dario Amodei. 2020.

</span>
<span class="ltx_bibblock">Language Models are Few-Shot Learners. In <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">NeurIPS</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jiawei Chen, Hande Dong, Xiang Wang, Fuli Feng, Meng Wang, and Xiangnan He. 2023.

</span>
<span class="ltx_bibblock">Bias and Debias in Recommender System: A Survey and Future Directions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">ACM Trans. Inf. Syst.</em> 41, 3 (2023), 67:1–67:39.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yuxin Chen, Junfei Tan, An Zhang, Zhengyi Yang, Leheng Sheng, Enzhi Zhang, Xiang Wang, and Tat-Seng Chua. 2024.

</span>
<span class="ltx_bibblock">On Softmax Direct Preference Optimization for Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">CoRR</em> abs/2406.09215 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chowdhury et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Sayak Ray Chowdhury, Anush Kini, and Nagarajan Natarajan. 2024.

</span>
<span class="ltx_bibblock">Provably Robust DPO: Aligning Language Models with Noisy Feedback. In <em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">ICML</em>. OpenReview.net.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Christiano et al<span class="ltx_text" id="bib.bib14.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Paul F. Christiano, Jan Leike, Tom B. Brown, Miljan Martic, Shane Legg, and Dario Amodei. 2017.

</span>
<span class="ltx_bibblock">Deep Reinforcement Learning from Human Preferences. In <em class="ltx_emph ltx_font_italic" id="bib.bib14.3.1">NIPS</em>. 4299–4307.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Clusmann et al<span class="ltx_text" id="bib.bib15.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jan Clusmann, Fiona R Kolbinger, Hannah Sophie Muti, Zunamys I Carrero, Jan-Niklas Eckardt, Narmin Ghaffari Laleh, Chiara Maria Lavinia Löffler, Sophie-Caroline Schwarzkopf, Michaela Unger, Gregory P Veldhuizen, et al<span class="ltx_text" id="bib.bib15.3.1">.</span> 2023.

</span>
<span class="ltx_bibblock">The future landscape of large language models in medicine.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.4.1">Communications medicine</em> 3, 1 (2023), 141.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cui et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jiaxi Cui, Munan Ning, Zongjian Li, Bohua Chen, Yang Yan, Hao Li, Bin Ling, Yonghong Tian, and Li Yuan. 2024.

</span>
<span class="ltx_bibblock">Chatlaw: A Multi-Agent Collaborative Legal Assistant with Knowledge Graph Enhanced Mixture-of-Experts Large Language Model.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2306.16092 [cs.CL]

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2306.16092" title="">https://arxiv.org/abs/2306.16092</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dai et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Sunhao Dai, Ninglu Shao, Haiyuan Zhao, Weijie Yu, Zihua Si, Chen Xu, Zhongxiang Sun, Xiao Zhang, and Jun Xu. 2023.

</span>
<span class="ltx_bibblock">Uncovering ChatGPT’s Capabilities in Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">RecSys</em>. ACM, 1126–1132.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dubey et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Abhimanyu Dubey, Abhinav Jauhri, Abhinav Pandey, Abhishek Kadian, Ahmad Al-Dahle, Aiesha Letman, Akhil Mathur, Alan Schelten, Amy Yang, Angela Fan, Anirudh Goyal, Anthony Hartshorn, Aobo Yang, Archi Mitra, Archie Sravankumar, Artem Korenev, Arthur Hinsvark, Arun Rao, Aston Zhang, Aurélien Rodriguez, Austen Gregerson, Ava Spataru, Baptiste Rozière, Bethany Biron, Binh Tang, Bobbie Chern, Charlotte Caucheteux, Chaya Nayak, Chloe Bi, Chris Marra,
Chris McConnell, Christian Keller, Christophe Touret, Chunyang Wu, Corinne Wong, Cristian Canton Ferrer, Cyrus Nikolaidis, Damien Allonsius, Daniel Song, Danielle Pintz, Danny Livshits, David Esiobu, Dhruv Choudhary, Dhruv Mahajan, Diego Garcia-Olano, Diego Perino, Dieuwke Hupkes, Egor Lakomkin, Ehab AlBadawy, Elina Lobanova, Emily Dinan, Eric Michael Smith, Filip Radenovic, Frank Zhang, Gabriel Synnaeve, Gabrielle Lee, Georgia Lewis Anderson, Graeme Nail, Grégoire Mialon,
Guan Pang, Guillem Cucurell, Hailey Nguyen, Hannah Korevaar, Hu Xu, Hugo Touvron, Iliyan Zarov, Imanol Arrieta Ibarra, Isabel M. Kloumann, Ishan Misra, Ivan Evtimov, Jade Copet, Jaewon Lee, Jan Geffert, Jana Vranes, Jason Park, Jay Mahadeokar, Jeet Shah, Jelmer van der Linde, Jennifer Billock, Jenny Hong, Jenya Lee, Jeremy Fu, Jianfeng Chi, Jianyu Huang, Jiawen Liu, Jie Wang, Jiecao Yu, Joanna Bitton, Joe Spisak, Jongsoo Park, Joseph Rocca,
Joshua Johnstun, Joshua Saxe, Junteng Jia, Kalyan Vasuden Alwala, Kartikeya Upasani, Kate Plawiak, Ke Li, Kenneth Heafield, Kevin Stone, and et al. 2024.

</span>
<span class="ltx_bibblock">The Llama 3 Herd of Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">CoRR</em> abs/2407.21783 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yunfan Gao, Tao Sheng, Youlin Xiang, Yun Xiong, Haofen Wang, and Jiawei Zhang. 2023.

</span>
<span class="ltx_bibblock">Chat-REC: Towards Interactive and Explainable LLMs-Augmented Recommender System.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">CoRR</em> abs/2303.14524 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Geng et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Shijie Geng, Shuchang Liu, Zuohui Fu, Yingqiang Ge, and Yongfeng Zhang. 2022.

</span>
<span class="ltx_bibblock">Recommendation as Language Processing (RLP): A Unified Pretrain, Personalized Prompt &amp; Predict Paradigm (P5). In <em class="ltx_emph ltx_font_italic" id="bib.bib20.3.1">RecSys</em>. ACM, 299–315.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Xiangnan He, Lizi Liao, Hanwang Zhang, Liqiang Nie, Xia Hu, and Tat-Seng Chua. 2017.

</span>
<span class="ltx_bibblock">Neural Collaborative Filtering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">CoRR</em> abs/1708.05031 (2017).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hidasi et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Balázs Hidasi, Alexandros Karatzoglou, Linas Baltrunas, and Domonkos Tikk. 2016.

</span>
<span class="ltx_bibblock">Session-based Recommendations with Recurrent Neural Networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.3.1">ICLR (Poster)</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yupeng Hou, Shanlei Mu, Wayne Xin Zhao, Yaliang Li, Bolin Ding, and Ji-Rong Wen. 2022.

</span>
<span class="ltx_bibblock">Towards Universal Sequence Representation Learning for Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">KDD</em>. ACM, 585–593.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hou et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yupeng Hou, Junjie Zhang, Zihan Lin, Hongyu Lu, Ruobing Xie, Julian J. McAuley, and Wayne Xin Zhao. 2024.

</span>
<span class="ltx_bibblock">Large Language Models are Zero-Shot Rankers for Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">ECIR (2)</em> <em class="ltx_emph ltx_font_italic" id="bib.bib24.4.2">(Lecture Notes in Computer Science, Vol. 14609)</em>. Springer, 364–381.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hu et al<span class="ltx_text" id="bib.bib25.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Edward J. Hu, Yelong Shen, Phillip Wallis, Zeyuan Allen-Zhu, Yuanzhi Li, Shean Wang, and Weizhu Chen. 2021.

</span>
<span class="ltx_bibblock">LoRA: Low-Rank Adaptation of Large Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.3.1">CoRR</em> abs/2106.09685 (2021).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2106.09685" title="">https://arxiv.org/abs/2106.09685</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley (2018)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and Julian J. McAuley. 2018.

</span>
<span class="ltx_bibblock">Self-Attentive Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">ICDM</em>. IEEE Computer Society, 197–206.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kaplan et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Jared Kaplan, Sam McCandlish, Tom Henighan, Tom B. Brown, Benjamin Chess, Rewon Child, Scott Gray, Alec Radford, Jeffrey Wu, and Dario Amodei. 2020.

</span>
<span class="ltx_bibblock">Scaling Laws for Neural Language Models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">CoRR</em> abs/2001.08361 (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Koren et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Yehuda Koren, Robert M. Bell, and Chris Volinsky. 2009.

</span>
<span class="ltx_bibblock">Matrix Factorization Techniques for Recommender Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">Computer</em> 42, 8 (2009), 30–37.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Leike et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Jan Leike, David Krueger, Tom Everitt, Miljan Martic, Vishal Maini, and Shane Legg. 2018.

</span>
<span class="ltx_bibblock">Scalable agent alignment via reward modeling: a research direction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">CoRR</em> abs/1811.07871 (2018).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Jiacheng Li, Ming Wang, Jin Li, Jinmiao Fu, Xin Shen, Jingbo Shang, and Julian J. McAuley. 2023b.

</span>
<span class="ltx_bibblock">Text Is All You Need: Learning Language Representations for Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">KDD</em>. ACM, 1258–1267.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Xinhang Li, Chong Chen, Xiangyu Zhao, Yong Zhang, and Chunxiao Xing. 2023a.

</span>
<span class="ltx_bibblock">E4SRec: An Elegant Effective Efficient Extensible Solution of Large Language Models for Sequential Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">CoRR</em> abs/2312.02443 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liao et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jiayi Liao, Sihang Li, Zhengyi Yang, Jiancan Wu, Yancheng Yuan, Xiang Wang, and Xiangnan He. 2024.

</span>
<span class="ltx_bibblock">LLaRA: Large Language-Recommendation Assistant. In <em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">SIGIR</em>. ACM, 1785–1795.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lichtenberg et al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jan Malte Lichtenberg, Alexander Buchholz, and Pola Schwöbel. 2024.

</span>
<span class="ltx_bibblock">Large Language Models as Recommender Systems: A Study of Popularity Bias.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.3.1">CoRR</em> abs/2406.01285 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Xinyu Lin, Wenjie Wang, Yongqi Li, Fuli Feng, See-Kiong Ng, and Tat-Seng Chua. 2024.

</span>
<span class="ltx_bibblock">Bridging Items and Language: A Transition Paradigm for Large Language Model-Based Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">KDD</em>. ACM, 1816–1826.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Junling Liu, Chao Liu, Renjie Lv, Kang Zhou, and Yan Zhang. 2023a.

</span>
<span class="ltx_bibblock">Is ChatGPT a Good Recommender? A Preliminary Study.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">CoRR</em> abs/2304.10149 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Tianqi Liu, Yao Zhao, Rishabh Joshi, Misha Khalman, Mohammad Saleh, Peter J. Liu, and Jialu Liu. 2024.

</span>
<span class="ltx_bibblock">Statistical Rejection Sampling Improves Preference Optimization. In <em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">ICLR</em>. OpenReview.net.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Weiwen Liu, Yunjia Xi, Jiarui Qin, Fei Sun, Bo Chen, Weinan Zhang, Rui Zhang, and Ruiming Tang. 2022.

</span>
<span class="ltx_bibblock">Neural Re-ranking in Multi-stage Recommender Systems: A Review. In <em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">IJCAI</em>. ijcai.org, 5512–5520.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Xiaoyang Liu, Chong Liu, Pinzheng Wang, Rongqin Zheng, Lixin Zhang, Leyu Lin, Zhijun Chen, and Liangliang Fu. 2023b.

</span>
<span class="ltx_bibblock">UFNRec: Utilizing False Negative Samples for Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">SDM</em>. SIAM, 46–54.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Haokai Ma, Ruobing Xie, Lei Meng, Fuli Feng, Xiaoyu Du, Xingwu Sun, Zhanhui Kang, and Xiangxu Meng. 2024.

</span>
<span class="ltx_bibblock">Negative Sampling in Recommendation: A Survey and Future Directions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib39.3.1">CoRR</em> abs/2409.07237 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Meng et al<span class="ltx_text" id="bib.bib40.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yu Meng, Mengzhou Xia, and Danqi Chen. 2024.

</span>
<span class="ltx_bibblock">SimPO: Simple Preference Optimization with a Reference-Free Reward.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.3.1">CoRR</em> abs/2405.14734 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mitchell (2023)</span>
<span class="ltx_bibblock">
Eric Mitchell. 2023.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">A note on DPO with noisy preferences and relationship to IPO</em>.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://ericmitchell.ai/cdpo.pdf" title="">https://ericmitchell.ai/cdpo.pdf</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2023)</span>
<span class="ltx_bibblock">
OpenAI. 2023.

</span>
<span class="ltx_bibblock">GPT-4 Technical Report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.1.1">CoRR</em> abs/2303.08774 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ouyang et al<span class="ltx_text" id="bib.bib43.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Long Ouyang, Jeffrey Wu, Xu Jiang, Diogo Almeida, Carroll L. Wainwright, Pamela Mishkin, Chong Zhang, Sandhini Agarwal, Katarina Slama, Alex Ray, John Schulman, Jacob Hilton, Fraser Kelton, Luke Miller, Maddie Simens, Amanda Askell, Peter Welinder, Paul F. Christiano, Jan Leike, and Ryan Lowe. 2022.

</span>
<span class="ltx_bibblock">Training language models to follow instructions with human feedback. In <em class="ltx_emph ltx_font_italic" id="bib.bib43.3.1">NeurIPS</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pan et al<span class="ltx_text" id="bib.bib44.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Liangming Pan, Michael Saxon, Wenda Xu, Deepak Nathani, Xinyi Wang, and William Yang Wang. 2023.

</span>
<span class="ltx_bibblock">Automatically Correcting Large Language Models: Surveying the landscape of diverse self-correction strategies.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.3.1">CoRR</em> abs/2308.03188 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pang et al<span class="ltx_text" id="bib.bib45.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Richard Yuanzhe Pang, Weizhe Yuan, Kyunghyun Cho, He He, Sainbayar Sukhbaatar, and Jason Weston. 2024.

</span>
<span class="ltx_bibblock">Iterative Reasoning Preference Optimization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib45.3.1">CoRR</em> abs/2404.19733 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et al<span class="ltx_text" id="bib.bib46.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Christopher D. Manning, Stefano Ermon, and Chelsea Finn. 2023.

</span>
<span class="ltx_bibblock">Direct Preference Optimization: Your Language Model is Secretly a Reward Model. In <em class="ltx_emph ltx_font_italic" id="bib.bib46.3.1">NeurIPS</em>.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rendle et al<span class="ltx_text" id="bib.bib47.2.2.1">.</span> (2012)</span>
<span class="ltx_bibblock">
Steffen Rendle, Christoph Freudenthaler, Zeno Gantner, and Lars Schmidt-Thieme. 2012.

</span>
<span class="ltx_bibblock">BPR: Bayesian Personalized Ranking from Implicit Feedback.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib47.3.1">CoRR</em> abs/1205.2618 (2012).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al<span class="ltx_text" id="bib.bib48.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Wentao Shi, Jiawei Chen, Fuli Feng, Jizhi Zhang, Junkang Wu, Chongming Gao, and Xiangnan He. 2023.

</span>
<span class="ltx_bibblock">On the Theories Behind Hard Negative Sampling for Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib48.3.1">WWW</em>. ACM, 812–822.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang and Wang (2018)</span>
<span class="ltx_bibblock">
Jiaxi Tang and Ke Wang. 2018.

</span>
<span class="ltx_bibblock">Personalized Top-N Sequential Recommendation via Convolutional Sequence Embedding. In <em class="ltx_emph ltx_font_italic" id="bib.bib49.1.1">WSDM</em>. ACM, 565–573.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang and Lim (2024)</span>
<span class="ltx_bibblock">
Lei Wang and Ee-Peng Lim. 2024.

</span>
<span class="ltx_bibblock">The Whole is Better than the Sum: Using Aggregated Demonstrations in In-Context Learning for Sequential Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib50.1.1">CoRR</em> abs/2403.10135 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib51.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Yancheng Wang, Ziyan Jiang, Zheng Chen, Fan Yang, Yingxue Zhou, Eunah Cho, Xing Fan, Xiaojiang Huang, Yanbin Lu, and Yingzhen Yang. 2023a.

</span>
<span class="ltx_bibblock">RecMind: Large Language Model Powered Agent For Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib51.3.1">CoRR</em> abs/2308.14296 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib52.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Yu Wang, Zhiwei Liu, Jianguo Zhang, Weiran Yao, Shelby Heinecke, and Philip S. Yu. 2023b.

</span>
<span class="ltx_bibblock">DRDT: Dynamic Reflection with Divergent Thinking for LLM-based Sequential Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib52.3.1">CoRR</em> abs/2312.11336 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib53.2.2.1">.</span> (2023c)</span>
<span class="ltx_bibblock">
Yifan Wang, Weizhi Ma, Min Zhang, Yiqun Liu, and Shaoping Ma. 2023c.

</span>
<span class="ltx_bibblock">A Survey on the Fairness of Recommender Systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib53.3.1">ACM Trans. Inf. Syst.</em> 41, 3 (2023), 52:1–52:43.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib54.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Jiancan Wu, Xiang Wang, Fuli Feng, Xiangnan He, Liang Chen, Jianxun Lian, and Xing Xie. 2020.

</span>
<span class="ltx_bibblock">Self-supervised Graph Learning for Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib54.3.1">CoRR</em> abs/2010.10783 (2020).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib55.4.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Junkang Wu, Yuexiang Xie, Zhengyi Yang, Jiancan Wu, Jinyang Gao, Bolin Ding, Xiang Wang, and Xiangnan He. 2024.

</span>
<span class="ltx_bibblock"><math alttext="\beta" class="ltx_Math" display="inline" id="bib.bib55.1.m1.1"><semantics id="bib.bib55.1.m1.1a"><mi id="bib.bib55.1.m1.1.1" xref="bib.bib55.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="bib.bib55.1.m1.1b"><ci id="bib.bib55.1.m1.1.1.cmml" xref="bib.bib55.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib55.1.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="bib.bib55.1.m1.1d">italic_β</annotation></semantics></math>-DPO: Direct Preference Optimization with Dynamic <math alttext="\beta" class="ltx_Math" display="inline" id="bib.bib55.2.m2.1"><semantics id="bib.bib55.2.m2.1a"><mi id="bib.bib55.2.m2.1.1" xref="bib.bib55.2.m2.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="bib.bib55.2.m2.1b"><ci id="bib.bib55.2.m2.1.1.cmml" xref="bib.bib55.2.m2.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib55.2.m2.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="bib.bib55.2.m2.1d">italic_β</annotation></semantics></math>.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib55.5.1">CoRR</em> abs/2407.08639 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib56">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib56.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Shijie Wu, Ozan Irsoy, Steven Lu, Vadim Dabravolski, Mark Dredze, Sebastian Gehrmann, Prabhanjan Kambadur, David S. Rosenberg, and Gideon Mann. 2023.

</span>
<span class="ltx_bibblock">BloombergGPT: A Large Language Model for Finance.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib56.3.1">CoRR</em> abs/2303.17564 (2023).

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.48550/ARXIV.2303.17564" title="">https://doi.org/10.48550/ARXIV.2303.17564</a>
arXiv:2303.17564

</span>
</li>
<li class="ltx_bibitem" id="bib.bib57">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al<span class="ltx_text" id="bib.bib57.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Haoran Xu, Amr Sharaf, Yunmo Chen, Weiting Tan, Lingfeng Shen, Benjamin Van Durme, Kenton Murray, and Young Jin Kim. 2024.

</span>
<span class="ltx_bibblock">Contrastive Preference Optimization: Pushing the Boundaries of LLM Performance in Machine Translation. In <em class="ltx_emph ltx_font_italic" id="bib.bib57.3.1">ICML</em>. OpenReview.net.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib58">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span class="ltx_text" id="bib.bib58.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
An Yang, Baosong Yang, Binyuan Hui, Bo Zheng, Bowen Yu, Chang Zhou, Chengpeng Li, Chengyuan Li, Dayiheng Liu, Fei Huang, Guanting Dong, Haoran Wei, Huan Lin, Jialong Tang, Jialin Wang, Jian Yang, Jianhong Tu, Jianwei Zhang, Jianxin Ma, Jianxin Yang, Jin Xu, Jingren Zhou, Jinze Bai, Jinzheng He, Junyang Lin, Kai Dang, Keming Lu, Keqin Chen, Kexin Yang, Mei Li, Mingfeng Xue, Na Ni, Pei Zhang,
Peng Wang, Ru Peng, Rui Men, Ruize Gao, Runji Lin, Shijie Wang, Shuai Bai, Sinan Tan, Tianhang Zhu, Tianhao Li, Tianyu Liu, Wenbin Ge, Xiaodong Deng, Xiaohuan Zhou, Xingzhang Ren, Xinyu Zhang, Xipin Wei, Xuancheng Ren, Xuejing Liu, Yang Fan, Yang Yao, Yichang Zhang, Yu Wan, Yunfei Chu, Yuqiong Liu, Zeyu Cui, Zhenru Zhang, Zhifang Guo, and Zhihao Fan. 2024.

</span>
<span class="ltx_bibblock">Qwen2 Technical Report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib58.3.1">CoRR</em> abs/2407.10671 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib59">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al<span class="ltx_text" id="bib.bib59.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zhengyi Yang, Xiangnan He, Jizhi Zhang, Jiancan Wu, Xin Xin, Jiawei Chen, and Xiang Wang. 2023.

</span>
<span class="ltx_bibblock">A Generic Learning Framework for Sequential Recommendation with Distribution Shifts. In <em class="ltx_emph ltx_font_italic" id="bib.bib59.3.1">SIGIR</em>. ACM, 331–340.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib60">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yuan et al<span class="ltx_text" id="bib.bib60.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Zheng Yuan, Fajie Yuan, Yu Song, Youhua Li, Junchen Fu, Fei Yang, Yunzhu Pan, and Yongxin Ni. 2023.

</span>
<span class="ltx_bibblock">Where to Go Next for Recommender Systems? ID- vs. Modality-based Recommender Models Revisited. In <em class="ltx_emph ltx_font_italic" id="bib.bib60.3.1">SIGIR</em>. ACM, 2639–2649.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib61">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib61.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
An Zhang, Yuxin Chen, Leheng Sheng, Xiang Wang, and Tat-Seng Chua. 2024a.

</span>
<span class="ltx_bibblock">On Generative Agents in Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib61.3.1">SIGIR</em>. ACM, 1807–1817.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib62">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib62.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Junjie Zhang, Yupeng Hou, Ruobing Xie, Wenqi Sun, Julian J. McAuley, Wayne Xin Zhao, Leyu Lin, and Ji-Rong Wen. 2024b.

</span>
<span class="ltx_bibblock">AgentCF: Collaborative Learning with Autonomous Language Agents for Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib62.3.1">WWW</em>. ACM, 3679–3689.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib63">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib63.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Junjie Zhang, Ruobing Xie, Yupeng Hou, Wayne Xin Zhao, Leyu Lin, and Ji-Rong Wen. 2023.

</span>
<span class="ltx_bibblock">Recommendation as Instruction Following: A Large Language Model Empowered Recommendation Approach.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib63.3.1">CoRR</em> abs/2305.07001 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib64">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib64.2.2.1">.</span> (2013)</span>
<span class="ltx_bibblock">
Weinan Zhang, Tianqi Chen, Jun Wang, and Yong Yu. 2013.

</span>
<span class="ltx_bibblock">Optimizing top-n collaborative filtering via dynamic negative item sampling. In <em class="ltx_emph ltx_font_italic" id="bib.bib64.3.1">SIGIR</em>. ACM, 785–788.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib65">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhao et al<span class="ltx_text" id="bib.bib65.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Yuying Zhao, Yu Wang, Yunchao Liu, Xueqi Cheng, Charu C. Aggarwal, and Tyler Derr. 2023.

</span>
<span class="ltx_bibblock">Fairness and Diversity in Recommender Systems: A Survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib65.3.1">CoRR</em> abs/2307.04644 (2023).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Datasets</h2>
<figure class="ltx_table" id="A1.T6">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A1.T6.2.1.1" style="font-size:90%;">Table 6</span>. </span><span class="ltx_text" id="A1.T6.3.2" style="font-size:90%;">Statistics of Datasets. </span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T6.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="A1.T6.4.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="A1.T6.4.1.1.1"><span class="ltx_text" id="A1.T6.4.1.1.1.1" style="font-size:90%;">Dataset</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A1.T6.4.1.1.2"><span class="ltx_text" id="A1.T6.4.1.1.2.1" style="font-size:90%;">MovieLens</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A1.T6.4.1.1.3"><span class="ltx_text" id="A1.T6.4.1.1.3.1" style="font-size:90%;">Goodreads</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="A1.T6.4.1.1.4"><span class="ltx_text" id="A1.T6.4.1.1.4.1" style="font-size:90%;">Steam</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T6.4.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="A1.T6.4.2.1.1"><span class="ltx_text" id="A1.T6.4.2.1.1.1" style="font-size:90%;"># Sequence</span></th>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T6.4.2.1.2"><span class="ltx_text" id="A1.T6.4.2.1.2.1" style="font-size:90%;">943</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T6.4.2.1.3"><span class="ltx_text" id="A1.T6.4.2.1.3.1" style="font-size:90%;">6,031</span></td>
<td class="ltx_td ltx_align_right ltx_border_t" id="A1.T6.4.2.1.4"><span class="ltx_text" id="A1.T6.4.2.1.4.1" style="font-size:90%;">11,938</span></td>
</tr>
<tr class="ltx_tr" id="A1.T6.4.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="A1.T6.4.3.2.1"><span class="ltx_text" id="A1.T6.4.3.2.1.1" style="font-size:90%;"># Item</span></th>
<td class="ltx_td ltx_align_right" id="A1.T6.4.3.2.2"><span class="ltx_text" id="A1.T6.4.3.2.2.1" style="font-size:90%;">1,682</span></td>
<td class="ltx_td ltx_align_right" id="A1.T6.4.3.2.3"><span class="ltx_text" id="A1.T6.4.3.2.3.1" style="font-size:90%;">4,550</span></td>
<td class="ltx_td ltx_align_right" id="A1.T6.4.3.2.4"><span class="ltx_text" id="A1.T6.4.3.2.4.1" style="font-size:90%;">3,581</span></td>
</tr>
<tr class="ltx_tr" id="A1.T6.4.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="A1.T6.4.4.3.1"><span class="ltx_text" id="A1.T6.4.4.3.1.1" style="font-size:90%;"># Interaction</span></th>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A1.T6.4.4.3.2"><span class="ltx_text" id="A1.T6.4.4.3.2.1" style="font-size:90%;">100,000</span></td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A1.T6.4.4.3.3"><span class="ltx_text" id="A1.T6.4.4.3.3.1" style="font-size:90%;">220,100</span></td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="A1.T6.4.4.3.4"><span class="ltx_text" id="A1.T6.4.4.3.4.1" style="font-size:90%;">274,726</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Limitation</h2>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">Despite our RosePO achieving promising results in HH recommendation, we must acknowledge several limitations:</p>
</div>
<div class="ltx_para" id="A2.p2">
<p class="ltx_p" id="A2.p2.1">(1) Applied stage.
We only focus on ranking item candidates as in <cite class="ltx_cite ltx_citemacro_citep">(Liao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib32" title="">2024</a>; Dai et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib17" title="">2023</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib35" title="">2023a</a>)</cite>.
To explore the generalization capabilities of our RosePO to other recommendation stages, we demonstrate RosePO-h’s helpfulness in ranking all items in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A3" title="Appendix C Performance Comparison on All-Ranking. ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">C</span></a>.
Future work should consider preference alignment in multiple stages (<em class="ltx_emph ltx_font_italic" id="A2.p2.1.1">e.g., </em>recall, pre-ranking, ranking, re-ranking <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib37" title="">2022</a>)</cite>) of a recommender system.</p>
</div>
<div class="ltx_para" id="A2.p3">
<p class="ltx_p" id="A2.p3.1">(2) Data scale.
Due to limited computational resources, we conduct experiments only on relatively small-scale datasets (<em class="ltx_emph ltx_font_italic" id="A2.p3.1.1">cf. </em>Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A1.T6" title="Table 6 ‣ Appendix A Datasets ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">6</span></a>).
Nonetheless, it requires approximately 24 A800 GPU hours of training for the complete preference dataset.
Additionally, we investigate the impact of varying quantities of preference data on the recommendation performance in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A4" title="Appendix D Data Scale in Preference Learning ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">D</span></a>.
To scale up to larger datasets, future work should explore improvements on efficiency.</p>
</div>
<div class="ltx_para" id="A2.p4">
<p class="ltx_p" id="A2.p4.1">(3) Preference types.
We present three examples of helpfulness and harmlessness to illustrate the handling of a specific preference and demonstrate the integration of these preferences.
In future work, a wider range of preferences can be considered, such as promoting newly emerged items.</p>
</div>
<div class="ltx_para" id="A2.p5">
<p class="ltx_p" id="A2.p5.1">(4) Negative sampling.
Our work injects preferences into the negative space, with the core intent of constructing informative negative samples and further addressing the issue of false negatives.
This is closely related to the work on negative sampling <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib54" title="">2020</a>; Ma et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib39" title="">2024</a>)</cite>.
Future research should focus on the problems associated with introducing LLM to recommendation and design more refined negative sampling approaches.</p>
</div>
<div class="ltx_para" id="A2.p6">
<p class="ltx_p" id="A2.p6.1">Our future work will be dedicated to addressing these limitations and improving the recommendation service.</p>
</div>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Performance Comparison on All-Ranking.</h2>
<div class="ltx_para" id="A3.p1">
<p class="ltx_p" id="A3.p1.1">In this section, we demonstrate the performance of RosePO-h to rank all items on three datasets (Movielens, Goodreads, and Steam).</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.p2">
<p class="ltx_p" id="A3.p2.1"><span class="ltx_text ltx_font_bold" id="A3.p2.1.1">Baselines.</span>
We choose both traditional sequential recommendation models (GRU4Rec <cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib22" title="">2016</a>)</cite>, Caser <cite class="ltx_cite ltx_citemacro_citep">(Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib49" title="">2018</a>)</cite>, SASRec <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib26" title="">2018</a>)</cite>) and LLM4Rec baselines (BIGRec <cite class="ltx_cite ltx_citemacro_citep">(Bao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#bib.bib6" title="">2023a</a>)</cite>) for comparison.
BIGRec, a representative LLM4Rec work on all-ranking, grounds the generated tokens to actual items in a bi-step manner, incorporating both the semantic similarity in hidden states and popularity information.</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.p3">
<p class="ltx_p" id="A3.p3.1"><span class="ltx_text ltx_font_bold" id="A3.p3.1.1">Implementation of Item Grounding.</span>
For BIGRec, we search the balanced hyperparameter <math alttext="\gamma" class="ltx_Math" display="inline" id="A3.p3.1.m1.1"><semantics id="A3.p3.1.m1.1a"><mi id="A3.p3.1.m1.1.1" xref="A3.p3.1.m1.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="A3.p3.1.m1.1b"><ci id="A3.p3.1.m1.1.1.cmml" xref="A3.p3.1.m1.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p3.1.m1.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="A3.p3.1.m1.1d">italic_γ</annotation></semantics></math> in [0.0, 0.2, 0.4, 0.6, 0.8, 1.0, 2.0, 5.0, 10.0, 20.0, 50.0, 100.0] to explore a better integration.
For RosePO, we conduct the beam search to adapt it into a generative style.</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.p4">
<p class="ltx_p" id="A3.p4.1"><span class="ltx_text ltx_font_bold" id="A3.p4.1.1">Evaluation Metrics.</span>
Considering the item sizes of three datasets, we compute HR@20 and NDCG@20 as evaluation metrics.</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.p5">
<p class="ltx_p" id="A3.p5.1"><span class="ltx_text ltx_font_bold" id="A3.p5.1.1">Results.</span>
We can observe from Table <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A3.T7" title="Table 7 ‣ Appendix C Performance Comparison on All-Ranking. ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">7</span></a> that RosePO-h not only outperforms all the baselines but also improves the recommendation performance of the previous stage (SFT model).
This demonstrates that, when compared to other methods focusing on helpful recommendations, our RosePO-h method exhibits superior advantages.</p>
</div>
<figure class="ltx_table" id="A3.T7">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A3.T7.2.1.1" style="font-size:90%;">Table 7</span>. </span><span class="ltx_text" id="A3.T7.3.2" style="font-size:90%;">Performance comparison for all-ranking.</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="A3.T7.4" style="width:203.8pt;height:86.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-67.9pt,28.8pt) scale(0.599963561155023,0.599963561155023) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="A3.T7.4.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A3.T7.4.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A3.T7.4.1.1.1.1" style="padding-left:7.7pt;padding-right:7.7pt;"></th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="2" id="A3.T7.4.1.1.1.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.1.1.2.1">Movielens</span></td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" colspan="2" id="A3.T7.4.1.1.1.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.1.1.3.1">Goodreads</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="A3.T7.4.1.1.1.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.1.1.4.1">Steam</span></td>
</tr>
<tr class="ltx_tr" id="A3.T7.4.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A3.T7.4.1.2.2.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.2.2.1.1">Model</span></th>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.2.2.2" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.2.2.2.1">HR@20</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T7.4.1.2.2.3" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.2.2.3.1">N@20</span></td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.2.2.4" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.2.2.4.1">HR@20</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T7.4.1.2.2.5" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.2.2.5.1">N@20</span></td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.2.2.6" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.2.2.6.1">HR@20</span></td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.2.2.7" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.2.2.7.1">N@20</span></td>
</tr>
<tr class="ltx_tr" id="A3.T7.4.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="A3.T7.4.1.3.3.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.3.3.1.1">GRU4Rec</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T7.4.1.3.3.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.1667</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A3.T7.4.1.3.3.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.0527</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T7.4.1.3.3.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.1143</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt" id="A3.T7.4.1.3.3.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.0478</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T7.4.1.3.3.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.1308</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T7.4.1.3.3.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.0505</td>
</tr>
<tr class="ltx_tr" id="A3.T7.4.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A3.T7.4.1.4.4.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.4.4.1.1">Caser</span></th>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.4.4.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.1550</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T7.4.1.4.4.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.0668</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.4.4.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.1238</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T7.4.1.4.4.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.0502</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.4.4.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.1260</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.4.4.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.0501</td>
</tr>
<tr class="ltx_tr" id="A3.T7.4.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A3.T7.4.1.5.5.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.5.5.1.1">SASRec</span></th>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.5.5.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.1217</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T7.4.1.5.5.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.0627</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.5.5.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.1209</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T7.4.1.5.5.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.0555</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.5.5.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.1165</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.5.5.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.0494</td>
</tr>
<tr class="ltx_tr" id="A3.T7.4.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="A3.T7.4.1.6.6.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.6.6.1.1">BIGRec</span></th>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.6.6.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.0842</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T7.4.1.6.6.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.0334</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.6.6.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.0100</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="A3.T7.4.1.6.6.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.0044</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.6.6.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.0978</td>
<td class="ltx_td ltx_align_center" id="A3.T7.4.1.6.6.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.0416</td>
</tr>
<tr class="ltx_tr" id="A3.T7.4.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A3.T7.4.1.7.7.1" style="padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.7.7.1.1">SFT</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T7.4.1.7.7.2" style="padding-left:7.7pt;padding-right:7.7pt;">0.1895</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T7.4.1.7.7.3" style="padding-left:7.7pt;padding-right:7.7pt;">0.0794</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T7.4.1.7.7.4" style="padding-left:7.7pt;padding-right:7.7pt;">0.1847</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A3.T7.4.1.7.7.5" style="padding-left:7.7pt;padding-right:7.7pt;">0.0550</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T7.4.1.7.7.6" style="padding-left:7.7pt;padding-right:7.7pt;">0.1282</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T7.4.1.7.7.7" style="padding-left:7.7pt;padding-right:7.7pt;">0.0431</td>
</tr>
<tr class="ltx_tr" id="A3.T7.4.1.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="A3.T7.4.1.8.8.1" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.8.8.1.1" style="background-color:#EBEBEB;">RosePO-h</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T7.4.1.8.8.2" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.8.8.2.1" style="background-color:#EBEBEB;">0.2000</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A3.T7.4.1.8.8.3" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.8.8.3.1" style="background-color:#EBEBEB;">0.0815</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T7.4.1.8.8.4" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.8.8.4.1" style="background-color:#EBEBEB;">0.1930</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="A3.T7.4.1.8.8.5" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.8.8.5.1" style="background-color:#EBEBEB;">0.0575</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T7.4.1.8.8.6" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.8.8.6.1" style="background-color:#EBEBEB;">0.1543</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T7.4.1.8.8.7" style="background-color:#EBEBEB;padding-left:7.7pt;padding-right:7.7pt;"><span class="ltx_text ltx_font_bold" id="A3.T7.4.1.8.8.7.1" style="background-color:#EBEBEB;">0.0516</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section class="ltx_appendix" id="A4">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Data Scale in Preference Learning</h2>
<figure class="ltx_figure" id="A4.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="212" id="A4.F6.g1" src="x14.png" width="290"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="A4.F6.2.1.1" style="font-size:90%;">Figure 6</span>. </span><span class="ltx_text" id="A4.F6.3.2" style="font-size:90%;">The performance of RosePO-h for different scales of samples.</span></figcaption>
</figure>
<div class="ltx_para" id="A4.p1">
<p class="ltx_p" id="A4.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.12519v1#A4.F6" title="Figure 6 ‣ Appendix D Data Scale in Preference Learning ‣ RosePO: Aligning LLM-based Recommenders with Human Values"><span class="ltx_text ltx_ref_tag">6</span></a> presents the HR@1 of RosePO-h across three datasets for different percentages of data. We can observe from it that, as the amount of data increases, the overall recommendation effectiveness demonstrates an upward trend.
Furthermore, only 60% of the data is required to surpass the performance of SFT across all three datasets on the metric of HR@1. Especially, a mere 20% of the data is sufficient to outperform SFT on the Goodreads dataset on HR@1. The trend of continuous improvement also implies that more preference learning samples are very likely to bring in further enhancement.</p>
</div>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Wed Oct 16 12:49:09 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
