<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2403.19880] Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks</title><meta property="og:description" content="High-quality, large-scale data is essential for robust deep learning models in medical applications, particularly ultrasound image analysis. Diffusion models facilitate high-fidelity medical image generation, reducing …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2403.19880">

<!--Generated on Fri Apr  5 18:10:40 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="Vision-Language Models Image Synthesis Diffusion Models Echocardiography">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line"><span id="id1" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">institutetext: </span>
School of Biomedical Engineering, University of British Columbia, Vancouver, BC, Canada </span></span></span><span id="id2" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_note_type">institutetext: </span>Department of Electrical and Computer Engineering, University of British Columbia, Vancouver, BC, Canada </span></span></span><span id="id3" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_note_type">institutetext: </span>Department of Orthopaedics, University of British Columbia, Vancouver, BC, Canada </span></span></span><span id="id4" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_note_type">institutetext: </span>Department of Radiology, University of British Columbia, Vancouver, BC, Canada </span></span></span><span id="id5" class="ltx_note ltx_role_institutetext"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_note_type">institutetext: </span>Department of Medicine, University of British Columbia, Vancouver, BC, Canada

<br class="ltx_break"><span id="id5.1" class="ltx_note ltx_role_email"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_note_type">email: </span>apooria@student.ubc.ca</span></span></span></span></span></span>
<h1 class="ltx_title ltx_title_document">Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Pooria Ashrafian
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Milad Yazdani
</span><span class="ltx_author_notes">22</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Moein Heidari
</span><span class="ltx_author_notes">11</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Dena Shahriari
</span><span class="ltx_author_notes">1133</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Ilker Hacihaliloglu
</span><span class="ltx_author_notes">4455</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">High-quality, large-scale data is essential for robust deep learning models in medical applications, particularly ultrasound image analysis. Diffusion models facilitate high-fidelity medical image generation, reducing the costs associated with acquiring and annotating new images. This paper utilizes recent vision-language models to produce diverse and realistic synthetic echocardiography image data, preserving key features of the original images guided by textual and semantic label maps. Specifically, we investigate three potential avenues: unconditional generation, generation guided by text, and a hybrid approach incorporating both textual and semantic supervision. We show that the rich contextual information present in the synthesized data potentially enhances the accuracy and interpretability of downstream tasks, such as echocardiography segmentation and classification with improved metrics and faster convergence. Our implementation with checkpoints, prompts, and the created synthetic dataset will be publicly available at <a target="_blank" href="https://github.com/Pooria90/DiffEcho" title="" class="ltx_ref ltx_href">GitHub</a>.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Keywords: </h6>Vision-Language Models Image Synthesis Diffusion Models Echocardiography
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Cardiovascular diseases (CVDs) pose a growing threat to global health, emerging as prominent contributors to mortality rates worldwide <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>. Owing to its widespread availability, cost-effectiveness, non-invasive nature, and real-time capabilities, echocardiography (echo) stands as the most commonly employed medical imaging approach for heart evaluation. Manual data collection, difficulty in interpreting noisy data, and low sensitivity and specificity of clinical assessment continue to be the major obstacles associated with echo imaging. While deep learning has emerged as a powerful tool in the modern medical imaging stack, the limited availability of echo data impedes the full extent of potential advancements facilitated by it. To mitigate the aforementioned challenges, employing synthetic echo data for deep learning-based analysis presents a promising avenue, leading to precise assessment of anatomical and functional structures  <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Since their inception, generative model architectures have garnered immense interest in medical imaging <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. The pioneering generative adversarial networks (GANs) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite> have proven versatile in generating high-quality medical samples rapidly. However, GANs are potentially known for poor coverage, mode collapse, and training instability which hinders accurate anatomical reproduction with significant transformations of guide images, leading to the seen anatomy collapse. Recently, diffusion models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> have proven to be less prone to the drawbacks of GANs <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> leading to a surge of contributions in the medical domain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> surpassing GAN models.
Specifically, diffusion models have shown the capacity to produce high-quality samples with precise and detailed characteristics, which is crucial in medical image analysis where the generated samples must be both visually authentic and medically relevant <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>. These models perform a forward diffusion phase where input data is incrementally perturbed with Gaussian noise, followed by learning to reverse this process to extract noise-free data from noisy samples. Owing to their ability to learn complex data distributions, diffusion models excel in recognizing sharp and detailed features, particularly effective in medical images <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>. Despite being feasibly designed, pioneering works of these generative models have the limitation of lack of conditioning, necessitating the need to train separate models for different tasks, which becomes time-consuming and resource-intensive <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">In this work, we aim to explore the ability of diffusion-based models to create synthetic echo data by prompting relevant medical keywords or concepts of interest. Specifically, we propose a novel framework leveraging the vision-language entanglement of pre-trained text/label-map conditional models that could provide an intuitive mechanism to capture the highly structured and spatially correlated nature of echo images. Moreover, we investigate the generated synthetic images in their ability to enhance the performance of
downstream medical segmentation/classification tasks by generating reliable and compositionally diverse synthetic images.</p>
</div>
<section id="S1.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">1.1 </span>Related work and our contribution</h3>

<div id="S1.SS1.p1" class="ltx_para">
<p id="S1.SS1.p1.1" class="ltx_p"><span id="S1.SS1.p1.1.1" class="ltx_text ltx_font_bold">Diffusion Models:</span>
Diffusion models are a formidable force in modern deep learning
stack, breaking the long-time dominance of GANs showing potential in a variety of domains <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>, <a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>.
There has been such a surge of methods proposed recently to improve diffusion models. These range from exploiting pre-trained text-to-image diffusion models for more complex or fine-grained control of synthesis results to mitigating their computational burden. Specifically, Stable Diffusion (SD) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> applies the diffusion process over a lower dimensional latent space, instead of using the actual pixel space to reduce the memory and computational time. The ControlNet model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> introduces a parallel network alongside the UNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> architecture of SD serving as a plug-in controlling pre-trained large diffusion models using additional conditions including edge maps, segmentation maps, key points, and more.
<br class="ltx_break"><span id="S1.SS1.p1.1.2" class="ltx_text ltx_font_bold">Diffusion Models in Medical Applications.</span> Leveraging the progress in computer vision, the medical imaging domain has observed a growing interest in diffusion models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. Their wealth of research has been dedicated to applications including anomaly
detection <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, synthetic image generation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>, and segmentation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite>, just to name a few. Diffusion models have risen to prominence in the context of ultrasound images for various applications <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>]</cite>.
<br class="ltx_break"><span id="S1.SS1.p1.1.3" class="ltx_text ltx_font_bold">Echo Synthesis via Diffusion Models.</span> Noticeable works have been done in echo image/video synthesis using diffusion models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. Stojanovski
et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> used a Semantic Diffusion Model (SDM) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> guided by semantic label maps as conditions to generate synthetic images. Synthetic Boost <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite> uses synthetic datasets from diffusion models to enhance vision-language models for echo segmentation. Methods for generating echo image sequences have
also been proposed. Specifically, <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> proposes a video diffusion model that synthesizes video data from single frames by conditioning on interpretable clinical parameters.
<br class="ltx_break"><span id="S1.SS1.p1.1.4" class="ltx_text ltx_font_bold">Our Contributions:</span> What previous papers have in common is the lack of exploiting rich semantic and domain-specific guidance to synthesize echo images. Our contributions include: ➊ For the first time, we investigate leveraging the joint representation of anatomical semantic label map and text modalities to guide the echo generation process to incorporate rich contextual information. ➋ We explore the representational capacity of large vision-language models when coupled with fine-grained control, aiming to accurately capture the diverse compositional complexity inherent in ultrasound images. ➌ We incorporate our synthesized data on two downstream tasks (segmentation and classification) to prove the fidelity and conceptual correctness of our generations. ➍ We demonstrate that our synthesis method not only generalizes well to real datasets, achieving perceptual realism but also outperforms other counterparts in various generation and downstream task evaluation metrics.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2403.19880/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="180" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S1.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S1.F1.3.2" class="ltx_text" style="font-size:90%;">Overview of our proposed model. For both text and text+segmentation models, we use the CLIP text encoder <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> while for the text+segmentation setting, the image encoder is a trainable copy for the denoising UNet.</span></figcaption>
</figure>
</section>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Methods</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.7" class="ltx_p">In our proposed network, illustrated in <a href="#S1.F1" title="Figure 1 ‣ 1.1 Related work and our contribution ‣ 1 Introduction ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 1</span></a>, taking an input image <math id="S2.p1.1.m1.1" class="ltx_Math" alttext="x\in R^{H\times W\times C}" display="inline"><semantics id="S2.p1.1.m1.1a"><mrow id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml"><mi id="S2.p1.1.m1.1.1.2" xref="S2.p1.1.m1.1.1.2.cmml">x</mi><mo id="S2.p1.1.m1.1.1.1" xref="S2.p1.1.m1.1.1.1.cmml">∈</mo><msup id="S2.p1.1.m1.1.1.3" xref="S2.p1.1.m1.1.1.3.cmml"><mi id="S2.p1.1.m1.1.1.3.2" xref="S2.p1.1.m1.1.1.3.2.cmml">R</mi><mrow id="S2.p1.1.m1.1.1.3.3" xref="S2.p1.1.m1.1.1.3.3.cmml"><mi id="S2.p1.1.m1.1.1.3.3.2" xref="S2.p1.1.m1.1.1.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S2.p1.1.m1.1.1.3.3.1" xref="S2.p1.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S2.p1.1.m1.1.1.3.3.3" xref="S2.p1.1.m1.1.1.3.3.3.cmml">W</mi><mo lspace="0.222em" rspace="0.222em" id="S2.p1.1.m1.1.1.3.3.1a" xref="S2.p1.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S2.p1.1.m1.1.1.3.3.4" xref="S2.p1.1.m1.1.1.3.3.4.cmml">C</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><apply id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1"><in id="S2.p1.1.m1.1.1.1.cmml" xref="S2.p1.1.m1.1.1.1"></in><ci id="S2.p1.1.m1.1.1.2.cmml" xref="S2.p1.1.m1.1.1.2">𝑥</ci><apply id="S2.p1.1.m1.1.1.3.cmml" xref="S2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S2.p1.1.m1.1.1.3.1.cmml" xref="S2.p1.1.m1.1.1.3">superscript</csymbol><ci id="S2.p1.1.m1.1.1.3.2.cmml" xref="S2.p1.1.m1.1.1.3.2">𝑅</ci><apply id="S2.p1.1.m1.1.1.3.3.cmml" xref="S2.p1.1.m1.1.1.3.3"><times id="S2.p1.1.m1.1.1.3.3.1.cmml" xref="S2.p1.1.m1.1.1.3.3.1"></times><ci id="S2.p1.1.m1.1.1.3.3.2.cmml" xref="S2.p1.1.m1.1.1.3.3.2">𝐻</ci><ci id="S2.p1.1.m1.1.1.3.3.3.cmml" xref="S2.p1.1.m1.1.1.3.3.3">𝑊</ci><ci id="S2.p1.1.m1.1.1.3.3.4.cmml" xref="S2.p1.1.m1.1.1.3.3.4">𝐶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">x\in R^{H\times W\times C}</annotation></semantics></math> with spatial dimensions <math id="S2.p1.2.m2.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S2.p1.2.m2.1a"><mi id="S2.p1.2.m2.1.1" xref="S2.p1.2.m2.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.1b"><ci id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.1c">H</annotation></semantics></math> and <math id="S2.p1.3.m3.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S2.p1.3.m3.1a"><mi id="S2.p1.3.m3.1.1" xref="S2.p1.3.m3.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S2.p1.3.m3.1b"><ci id="S2.p1.3.m3.1.1.cmml" xref="S2.p1.3.m3.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.3.m3.1c">W</annotation></semantics></math>, and <math id="S2.p1.4.m4.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S2.p1.4.m4.1a"><mi id="S2.p1.4.m4.1.1" xref="S2.p1.4.m4.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S2.p1.4.m4.1b"><ci id="S2.p1.4.m4.1.1.cmml" xref="S2.p1.4.m4.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.4.m4.1c">C</annotation></semantics></math> channels. We first compress the images into a lower-dimensional latent representation <math id="S2.p1.5.m5.1" class="ltx_Math" alttext="Z" display="inline"><semantics id="S2.p1.5.m5.1a"><mi id="S2.p1.5.m5.1.1" xref="S2.p1.5.m5.1.1.cmml">Z</mi><annotation-xml encoding="MathML-Content" id="S2.p1.5.m5.1b"><ci id="S2.p1.5.m5.1.1.cmml" xref="S2.p1.5.m5.1.1">𝑍</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.5.m5.1c">Z</annotation></semantics></math> using the encoder <math id="S2.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S2.p1.6.m6.1a"><mi class="ltx_font_mathcaligraphic" id="S2.p1.6.m6.1.1" xref="S2.p1.6.m6.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S2.p1.6.m6.1b"><ci id="S2.p1.6.m6.1.1.cmml" xref="S2.p1.6.m6.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.6.m6.1c">\mathcal{E}</annotation></semantics></math> of a variational autoencoder (VAE), such that <math id="S2.p1.7.m7.1" class="ltx_Math" alttext="z=\mathcal{E}(x)" display="inline"><semantics id="S2.p1.7.m7.1a"><mrow id="S2.p1.7.m7.1.2" xref="S2.p1.7.m7.1.2.cmml"><mi id="S2.p1.7.m7.1.2.2" xref="S2.p1.7.m7.1.2.2.cmml">z</mi><mo id="S2.p1.7.m7.1.2.1" xref="S2.p1.7.m7.1.2.1.cmml">=</mo><mrow id="S2.p1.7.m7.1.2.3" xref="S2.p1.7.m7.1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.p1.7.m7.1.2.3.2" xref="S2.p1.7.m7.1.2.3.2.cmml">ℰ</mi><mo lspace="0em" rspace="0em" id="S2.p1.7.m7.1.2.3.1" xref="S2.p1.7.m7.1.2.3.1.cmml">​</mo><mrow id="S2.p1.7.m7.1.2.3.3.2" xref="S2.p1.7.m7.1.2.3.cmml"><mo stretchy="false" id="S2.p1.7.m7.1.2.3.3.2.1" xref="S2.p1.7.m7.1.2.3.cmml">(</mo><mi id="S2.p1.7.m7.1.1" xref="S2.p1.7.m7.1.1.cmml">x</mi><mo stretchy="false" id="S2.p1.7.m7.1.2.3.3.2.2" xref="S2.p1.7.m7.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.7.m7.1b"><apply id="S2.p1.7.m7.1.2.cmml" xref="S2.p1.7.m7.1.2"><eq id="S2.p1.7.m7.1.2.1.cmml" xref="S2.p1.7.m7.1.2.1"></eq><ci id="S2.p1.7.m7.1.2.2.cmml" xref="S2.p1.7.m7.1.2.2">𝑧</ci><apply id="S2.p1.7.m7.1.2.3.cmml" xref="S2.p1.7.m7.1.2.3"><times id="S2.p1.7.m7.1.2.3.1.cmml" xref="S2.p1.7.m7.1.2.3.1"></times><ci id="S2.p1.7.m7.1.2.3.2.cmml" xref="S2.p1.7.m7.1.2.3.2">ℰ</ci><ci id="S2.p1.7.m7.1.1.cmml" xref="S2.p1.7.m7.1.1">𝑥</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.7.m7.1c">z=\mathcal{E}(x)</annotation></semantics></math> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>. The generative process in the latent space is modeled by a diffusion process, trained to invert the diffusion from a noise distribution to the original data distribution. Based on the auxiliary branches incorporating additional conditioning signals, we consider three possible scenarios in our generation process. Lastly, the decoder maps processed latent representations back to the pixel space.</p>
</div>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Unconditional Image Generation</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.14" class="ltx_p">For the first setting, we utilized a simple Denoising Diffusion Probabilistic Model (DDPM) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> where the encoder <math id="S2.SS1.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S2.SS1.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">\mathcal{E}</annotation></semantics></math> and decoder <math id="S2.SS1.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{D}" display="inline"><semantics id="S2.SS1.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml">𝒟</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">𝒟</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">\mathcal{D}</annotation></semantics></math> are identity functions and no guidance signals are applied. The forward process, adding noise over time, is expressed as <math id="S2.SS1.p1.3.m3.1" class="ltx_Math" alttext="x_{t}=\sqrt{1-\beta_{t}}x_{t-1}+\sqrt{\beta_{t}}\epsilon_{t}" display="inline"><semantics id="S2.SS1.p1.3.m3.1a"><mrow id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml"><msub id="S2.SS1.p1.3.m3.1.1.2" xref="S2.SS1.p1.3.m3.1.1.2.cmml"><mi id="S2.SS1.p1.3.m3.1.1.2.2" xref="S2.SS1.p1.3.m3.1.1.2.2.cmml">x</mi><mi id="S2.SS1.p1.3.m3.1.1.2.3" xref="S2.SS1.p1.3.m3.1.1.2.3.cmml">t</mi></msub><mo id="S2.SS1.p1.3.m3.1.1.1" xref="S2.SS1.p1.3.m3.1.1.1.cmml">=</mo><mrow id="S2.SS1.p1.3.m3.1.1.3" xref="S2.SS1.p1.3.m3.1.1.3.cmml"><mrow id="S2.SS1.p1.3.m3.1.1.3.2" xref="S2.SS1.p1.3.m3.1.1.3.2.cmml"><msqrt id="S2.SS1.p1.3.m3.1.1.3.2.2" xref="S2.SS1.p1.3.m3.1.1.3.2.2.cmml"><mrow id="S2.SS1.p1.3.m3.1.1.3.2.2.2" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.cmml"><mn id="S2.SS1.p1.3.m3.1.1.3.2.2.2.2" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.2.cmml">1</mn><mo id="S2.SS1.p1.3.m3.1.1.3.2.2.2.1" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.1.cmml">−</mo><msub id="S2.SS1.p1.3.m3.1.1.3.2.2.2.3" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.cmml"><mi id="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.2" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.2.cmml">β</mi><mi id="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.3" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo lspace="0em" rspace="0em" id="S2.SS1.p1.3.m3.1.1.3.2.1" xref="S2.SS1.p1.3.m3.1.1.3.2.1.cmml">​</mo><msub id="S2.SS1.p1.3.m3.1.1.3.2.3" xref="S2.SS1.p1.3.m3.1.1.3.2.3.cmml"><mi id="S2.SS1.p1.3.m3.1.1.3.2.3.2" xref="S2.SS1.p1.3.m3.1.1.3.2.3.2.cmml">x</mi><mrow id="S2.SS1.p1.3.m3.1.1.3.2.3.3" xref="S2.SS1.p1.3.m3.1.1.3.2.3.3.cmml"><mi id="S2.SS1.p1.3.m3.1.1.3.2.3.3.2" xref="S2.SS1.p1.3.m3.1.1.3.2.3.3.2.cmml">t</mi><mo id="S2.SS1.p1.3.m3.1.1.3.2.3.3.1" xref="S2.SS1.p1.3.m3.1.1.3.2.3.3.1.cmml">−</mo><mn id="S2.SS1.p1.3.m3.1.1.3.2.3.3.3" xref="S2.SS1.p1.3.m3.1.1.3.2.3.3.3.cmml">1</mn></mrow></msub></mrow><mo id="S2.SS1.p1.3.m3.1.1.3.1" xref="S2.SS1.p1.3.m3.1.1.3.1.cmml">+</mo><mrow id="S2.SS1.p1.3.m3.1.1.3.3" xref="S2.SS1.p1.3.m3.1.1.3.3.cmml"><msqrt id="S2.SS1.p1.3.m3.1.1.3.3.2" xref="S2.SS1.p1.3.m3.1.1.3.3.2.cmml"><msub id="S2.SS1.p1.3.m3.1.1.3.3.2.2" xref="S2.SS1.p1.3.m3.1.1.3.3.2.2.cmml"><mi id="S2.SS1.p1.3.m3.1.1.3.3.2.2.2" xref="S2.SS1.p1.3.m3.1.1.3.3.2.2.2.cmml">β</mi><mi id="S2.SS1.p1.3.m3.1.1.3.3.2.2.3" xref="S2.SS1.p1.3.m3.1.1.3.3.2.2.3.cmml">t</mi></msub></msqrt><mo lspace="0em" rspace="0em" id="S2.SS1.p1.3.m3.1.1.3.3.1" xref="S2.SS1.p1.3.m3.1.1.3.3.1.cmml">​</mo><msub id="S2.SS1.p1.3.m3.1.1.3.3.3" xref="S2.SS1.p1.3.m3.1.1.3.3.3.cmml"><mi id="S2.SS1.p1.3.m3.1.1.3.3.3.2" xref="S2.SS1.p1.3.m3.1.1.3.3.3.2.cmml">ϵ</mi><mi id="S2.SS1.p1.3.m3.1.1.3.3.3.3" xref="S2.SS1.p1.3.m3.1.1.3.3.3.3.cmml">t</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><apply id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1"><eq id="S2.SS1.p1.3.m3.1.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1.1"></eq><apply id="S2.SS1.p1.3.m3.1.1.2.cmml" xref="S2.SS1.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.2.1.cmml" xref="S2.SS1.p1.3.m3.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.2.2.cmml" xref="S2.SS1.p1.3.m3.1.1.2.2">𝑥</ci><ci id="S2.SS1.p1.3.m3.1.1.2.3.cmml" xref="S2.SS1.p1.3.m3.1.1.2.3">𝑡</ci></apply><apply id="S2.SS1.p1.3.m3.1.1.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3"><plus id="S2.SS1.p1.3.m3.1.1.3.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.1"></plus><apply id="S2.SS1.p1.3.m3.1.1.3.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2"><times id="S2.SS1.p1.3.m3.1.1.3.2.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.1"></times><apply id="S2.SS1.p1.3.m3.1.1.3.2.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2"><root id="S2.SS1.p1.3.m3.1.1.3.2.2a.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2"></root><apply id="S2.SS1.p1.3.m3.1.1.3.2.2.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2"><minus id="S2.SS1.p1.3.m3.1.1.3.2.2.2.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.1"></minus><cn type="integer" id="S2.SS1.p1.3.m3.1.1.3.2.2.2.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.2">1</cn><apply id="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.3">subscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.2">𝛽</ci><ci id="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.2.2.3.3">𝑡</ci></apply></apply></apply><apply id="S2.SS1.p1.3.m3.1.1.3.2.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.3.2.3.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.3">subscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.3.2.3.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.3.2">𝑥</ci><apply id="S2.SS1.p1.3.m3.1.1.3.2.3.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.3.3"><minus id="S2.SS1.p1.3.m3.1.1.3.2.3.3.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.3.3.1"></minus><ci id="S2.SS1.p1.3.m3.1.1.3.2.3.3.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.3.3.2">𝑡</ci><cn type="integer" id="S2.SS1.p1.3.m3.1.1.3.2.3.3.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.2.3.3.3">1</cn></apply></apply></apply><apply id="S2.SS1.p1.3.m3.1.1.3.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3"><times id="S2.SS1.p1.3.m3.1.1.3.3.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.1"></times><apply id="S2.SS1.p1.3.m3.1.1.3.3.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.2"><root id="S2.SS1.p1.3.m3.1.1.3.3.2a.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.2"></root><apply id="S2.SS1.p1.3.m3.1.1.3.3.2.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.3.3.2.2.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.2.2">subscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.3.3.2.2.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.2.2.2">𝛽</ci><ci id="S2.SS1.p1.3.m3.1.1.3.3.2.2.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.2.2.3">𝑡</ci></apply></apply><apply id="S2.SS1.p1.3.m3.1.1.3.3.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.3.3.3.1.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.3">subscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.3.3.3.2.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.3.2">italic-ϵ</ci><ci id="S2.SS1.p1.3.m3.1.1.3.3.3.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3.3.3.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">x_{t}=\sqrt{1-\beta_{t}}x_{t-1}+\sqrt{\beta_{t}}\epsilon_{t}</annotation></semantics></math>. Solving this equation yields <math id="S2.SS1.p1.4.m4.1" class="ltx_Math" alttext="x_{t}=\sqrt{\overline{\alpha}_{t}}x_{0}+\sqrt{1-\overline{\alpha}_{t}}\epsilon" display="inline"><semantics id="S2.SS1.p1.4.m4.1a"><mrow id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml"><msub id="S2.SS1.p1.4.m4.1.1.2" xref="S2.SS1.p1.4.m4.1.1.2.cmml"><mi id="S2.SS1.p1.4.m4.1.1.2.2" xref="S2.SS1.p1.4.m4.1.1.2.2.cmml">x</mi><mi id="S2.SS1.p1.4.m4.1.1.2.3" xref="S2.SS1.p1.4.m4.1.1.2.3.cmml">t</mi></msub><mo id="S2.SS1.p1.4.m4.1.1.1" xref="S2.SS1.p1.4.m4.1.1.1.cmml">=</mo><mrow id="S2.SS1.p1.4.m4.1.1.3" xref="S2.SS1.p1.4.m4.1.1.3.cmml"><mrow id="S2.SS1.p1.4.m4.1.1.3.2" xref="S2.SS1.p1.4.m4.1.1.3.2.cmml"><msqrt id="S2.SS1.p1.4.m4.1.1.3.2.2" xref="S2.SS1.p1.4.m4.1.1.3.2.2.cmml"><msub id="S2.SS1.p1.4.m4.1.1.3.2.2.2" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.cmml"><mover accent="true" id="S2.SS1.p1.4.m4.1.1.3.2.2.2.2" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.cmml"><mi id="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.2" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.2.cmml">α</mi><mo id="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.1" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.1.cmml">¯</mo></mover><mi id="S2.SS1.p1.4.m4.1.1.3.2.2.2.3" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.3.cmml">t</mi></msub></msqrt><mo lspace="0em" rspace="0em" id="S2.SS1.p1.4.m4.1.1.3.2.1" xref="S2.SS1.p1.4.m4.1.1.3.2.1.cmml">​</mo><msub id="S2.SS1.p1.4.m4.1.1.3.2.3" xref="S2.SS1.p1.4.m4.1.1.3.2.3.cmml"><mi id="S2.SS1.p1.4.m4.1.1.3.2.3.2" xref="S2.SS1.p1.4.m4.1.1.3.2.3.2.cmml">x</mi><mn id="S2.SS1.p1.4.m4.1.1.3.2.3.3" xref="S2.SS1.p1.4.m4.1.1.3.2.3.3.cmml">0</mn></msub></mrow><mo id="S2.SS1.p1.4.m4.1.1.3.1" xref="S2.SS1.p1.4.m4.1.1.3.1.cmml">+</mo><mrow id="S2.SS1.p1.4.m4.1.1.3.3" xref="S2.SS1.p1.4.m4.1.1.3.3.cmml"><msqrt id="S2.SS1.p1.4.m4.1.1.3.3.2" xref="S2.SS1.p1.4.m4.1.1.3.3.2.cmml"><mrow id="S2.SS1.p1.4.m4.1.1.3.3.2.2" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.cmml"><mn id="S2.SS1.p1.4.m4.1.1.3.3.2.2.2" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.2.cmml">1</mn><mo id="S2.SS1.p1.4.m4.1.1.3.3.2.2.1" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.1.cmml">−</mo><msub id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.cmml"><mover accent="true" id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.cmml"><mi id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.2" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.2.cmml">α</mi><mo id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.1" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.1.cmml">¯</mo></mover><mi id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.3" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.3.cmml">t</mi></msub></mrow></msqrt><mo lspace="0em" rspace="0em" id="S2.SS1.p1.4.m4.1.1.3.3.1" xref="S2.SS1.p1.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S2.SS1.p1.4.m4.1.1.3.3.3" xref="S2.SS1.p1.4.m4.1.1.3.3.3.cmml">ϵ</mi></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><apply id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1"><eq id="S2.SS1.p1.4.m4.1.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1.1"></eq><apply id="S2.SS1.p1.4.m4.1.1.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.2.1.cmml" xref="S2.SS1.p1.4.m4.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.2.2">𝑥</ci><ci id="S2.SS1.p1.4.m4.1.1.2.3.cmml" xref="S2.SS1.p1.4.m4.1.1.2.3">𝑡</ci></apply><apply id="S2.SS1.p1.4.m4.1.1.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3"><plus id="S2.SS1.p1.4.m4.1.1.3.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.1"></plus><apply id="S2.SS1.p1.4.m4.1.1.3.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2"><times id="S2.SS1.p1.4.m4.1.1.3.2.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.1"></times><apply id="S2.SS1.p1.4.m4.1.1.3.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.2"><root id="S2.SS1.p1.4.m4.1.1.3.2.2a.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.2"></root><apply id="S2.SS1.p1.4.m4.1.1.3.2.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.3.2.2.2.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2">subscript</csymbol><apply id="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.2"><ci id="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.1">¯</ci><ci id="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.2.2">𝛼</ci></apply><ci id="S2.SS1.p1.4.m4.1.1.3.2.2.2.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.2.2.3">𝑡</ci></apply></apply><apply id="S2.SS1.p1.4.m4.1.1.3.2.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.3.2.3.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.3">subscript</csymbol><ci id="S2.SS1.p1.4.m4.1.1.3.2.3.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.3.2">𝑥</ci><cn type="integer" id="S2.SS1.p1.4.m4.1.1.3.2.3.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.2.3.3">0</cn></apply></apply><apply id="S2.SS1.p1.4.m4.1.1.3.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3"><times id="S2.SS1.p1.4.m4.1.1.3.3.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.1"></times><apply id="S2.SS1.p1.4.m4.1.1.3.3.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2"><root id="S2.SS1.p1.4.m4.1.1.3.3.2a.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2"></root><apply id="S2.SS1.p1.4.m4.1.1.3.3.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2"><minus id="S2.SS1.p1.4.m4.1.1.3.3.2.2.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.1"></minus><cn type="integer" id="S2.SS1.p1.4.m4.1.1.3.3.2.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.2">1</cn><apply id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3">subscript</csymbol><apply id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2"><ci id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.1.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.1">¯</ci><ci id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.2.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.2.2">𝛼</ci></apply><ci id="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.2.2.3.3">𝑡</ci></apply></apply></apply><ci id="S2.SS1.p1.4.m4.1.1.3.3.3.cmml" xref="S2.SS1.p1.4.m4.1.1.3.3.3">italic-ϵ</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">x_{t}=\sqrt{\overline{\alpha}_{t}}x_{0}+\sqrt{1-\overline{\alpha}_{t}}\epsilon</annotation></semantics></math>, where <math id="S2.SS1.p1.5.m5.1" class="ltx_Math" alttext="\overline{\alpha}_{t}=\Pi_{t=1}^{T}\alpha_{t}" display="inline"><semantics id="S2.SS1.p1.5.m5.1a"><mrow id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml"><msub id="S2.SS1.p1.5.m5.1.1.2" xref="S2.SS1.p1.5.m5.1.1.2.cmml"><mover accent="true" id="S2.SS1.p1.5.m5.1.1.2.2" xref="S2.SS1.p1.5.m5.1.1.2.2.cmml"><mi id="S2.SS1.p1.5.m5.1.1.2.2.2" xref="S2.SS1.p1.5.m5.1.1.2.2.2.cmml">α</mi><mo id="S2.SS1.p1.5.m5.1.1.2.2.1" xref="S2.SS1.p1.5.m5.1.1.2.2.1.cmml">¯</mo></mover><mi id="S2.SS1.p1.5.m5.1.1.2.3" xref="S2.SS1.p1.5.m5.1.1.2.3.cmml">t</mi></msub><mo id="S2.SS1.p1.5.m5.1.1.1" xref="S2.SS1.p1.5.m5.1.1.1.cmml">=</mo><mrow id="S2.SS1.p1.5.m5.1.1.3" xref="S2.SS1.p1.5.m5.1.1.3.cmml"><msubsup id="S2.SS1.p1.5.m5.1.1.3.2" xref="S2.SS1.p1.5.m5.1.1.3.2.cmml"><mi mathvariant="normal" id="S2.SS1.p1.5.m5.1.1.3.2.2.2" xref="S2.SS1.p1.5.m5.1.1.3.2.2.2.cmml">Π</mi><mrow id="S2.SS1.p1.5.m5.1.1.3.2.2.3" xref="S2.SS1.p1.5.m5.1.1.3.2.2.3.cmml"><mi id="S2.SS1.p1.5.m5.1.1.3.2.2.3.2" xref="S2.SS1.p1.5.m5.1.1.3.2.2.3.2.cmml">t</mi><mo id="S2.SS1.p1.5.m5.1.1.3.2.2.3.1" xref="S2.SS1.p1.5.m5.1.1.3.2.2.3.1.cmml">=</mo><mn id="S2.SS1.p1.5.m5.1.1.3.2.2.3.3" xref="S2.SS1.p1.5.m5.1.1.3.2.2.3.3.cmml">1</mn></mrow><mi id="S2.SS1.p1.5.m5.1.1.3.2.3" xref="S2.SS1.p1.5.m5.1.1.3.2.3.cmml">T</mi></msubsup><mo lspace="0em" rspace="0em" id="S2.SS1.p1.5.m5.1.1.3.1" xref="S2.SS1.p1.5.m5.1.1.3.1.cmml">​</mo><msub id="S2.SS1.p1.5.m5.1.1.3.3" xref="S2.SS1.p1.5.m5.1.1.3.3.cmml"><mi id="S2.SS1.p1.5.m5.1.1.3.3.2" xref="S2.SS1.p1.5.m5.1.1.3.3.2.cmml">α</mi><mi id="S2.SS1.p1.5.m5.1.1.3.3.3" xref="S2.SS1.p1.5.m5.1.1.3.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><apply id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1"><eq id="S2.SS1.p1.5.m5.1.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1.1"></eq><apply id="S2.SS1.p1.5.m5.1.1.2.cmml" xref="S2.SS1.p1.5.m5.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.2.1.cmml" xref="S2.SS1.p1.5.m5.1.1.2">subscript</csymbol><apply id="S2.SS1.p1.5.m5.1.1.2.2.cmml" xref="S2.SS1.p1.5.m5.1.1.2.2"><ci id="S2.SS1.p1.5.m5.1.1.2.2.1.cmml" xref="S2.SS1.p1.5.m5.1.1.2.2.1">¯</ci><ci id="S2.SS1.p1.5.m5.1.1.2.2.2.cmml" xref="S2.SS1.p1.5.m5.1.1.2.2.2">𝛼</ci></apply><ci id="S2.SS1.p1.5.m5.1.1.2.3.cmml" xref="S2.SS1.p1.5.m5.1.1.2.3">𝑡</ci></apply><apply id="S2.SS1.p1.5.m5.1.1.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3"><times id="S2.SS1.p1.5.m5.1.1.3.1.cmml" xref="S2.SS1.p1.5.m5.1.1.3.1"></times><apply id="S2.SS1.p1.5.m5.1.1.3.2.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.3.2.1.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2">superscript</csymbol><apply id="S2.SS1.p1.5.m5.1.1.3.2.2.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.3.2.2.1.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2">subscript</csymbol><ci id="S2.SS1.p1.5.m5.1.1.3.2.2.2.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2.2.2">Π</ci><apply id="S2.SS1.p1.5.m5.1.1.3.2.2.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2.2.3"><eq id="S2.SS1.p1.5.m5.1.1.3.2.2.3.1.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2.2.3.1"></eq><ci id="S2.SS1.p1.5.m5.1.1.3.2.2.3.2.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2.2.3.2">𝑡</ci><cn type="integer" id="S2.SS1.p1.5.m5.1.1.3.2.2.3.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2.2.3.3">1</cn></apply></apply><ci id="S2.SS1.p1.5.m5.1.1.3.2.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3.2.3">𝑇</ci></apply><apply id="S2.SS1.p1.5.m5.1.1.3.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.3.3.1.cmml" xref="S2.SS1.p1.5.m5.1.1.3.3">subscript</csymbol><ci id="S2.SS1.p1.5.m5.1.1.3.3.2.cmml" xref="S2.SS1.p1.5.m5.1.1.3.3.2">𝛼</ci><ci id="S2.SS1.p1.5.m5.1.1.3.3.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">\overline{\alpha}_{t}=\Pi_{t=1}^{T}\alpha_{t}</annotation></semantics></math>, <math id="S2.SS1.p1.6.m6.1" class="ltx_Math" alttext="\alpha_{t}=1-\beta_{t}" display="inline"><semantics id="S2.SS1.p1.6.m6.1a"><mrow id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml"><msub id="S2.SS1.p1.6.m6.1.1.2" xref="S2.SS1.p1.6.m6.1.1.2.cmml"><mi id="S2.SS1.p1.6.m6.1.1.2.2" xref="S2.SS1.p1.6.m6.1.1.2.2.cmml">α</mi><mi id="S2.SS1.p1.6.m6.1.1.2.3" xref="S2.SS1.p1.6.m6.1.1.2.3.cmml">t</mi></msub><mo id="S2.SS1.p1.6.m6.1.1.1" xref="S2.SS1.p1.6.m6.1.1.1.cmml">=</mo><mrow id="S2.SS1.p1.6.m6.1.1.3" xref="S2.SS1.p1.6.m6.1.1.3.cmml"><mn id="S2.SS1.p1.6.m6.1.1.3.2" xref="S2.SS1.p1.6.m6.1.1.3.2.cmml">1</mn><mo id="S2.SS1.p1.6.m6.1.1.3.1" xref="S2.SS1.p1.6.m6.1.1.3.1.cmml">−</mo><msub id="S2.SS1.p1.6.m6.1.1.3.3" xref="S2.SS1.p1.6.m6.1.1.3.3.cmml"><mi id="S2.SS1.p1.6.m6.1.1.3.3.2" xref="S2.SS1.p1.6.m6.1.1.3.3.2.cmml">β</mi><mi id="S2.SS1.p1.6.m6.1.1.3.3.3" xref="S2.SS1.p1.6.m6.1.1.3.3.3.cmml">t</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b"><apply id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1"><eq id="S2.SS1.p1.6.m6.1.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1.1"></eq><apply id="S2.SS1.p1.6.m6.1.1.2.cmml" xref="S2.SS1.p1.6.m6.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.1.1.2.1.cmml" xref="S2.SS1.p1.6.m6.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.6.m6.1.1.2.2.cmml" xref="S2.SS1.p1.6.m6.1.1.2.2">𝛼</ci><ci id="S2.SS1.p1.6.m6.1.1.2.3.cmml" xref="S2.SS1.p1.6.m6.1.1.2.3">𝑡</ci></apply><apply id="S2.SS1.p1.6.m6.1.1.3.cmml" xref="S2.SS1.p1.6.m6.1.1.3"><minus id="S2.SS1.p1.6.m6.1.1.3.1.cmml" xref="S2.SS1.p1.6.m6.1.1.3.1"></minus><cn type="integer" id="S2.SS1.p1.6.m6.1.1.3.2.cmml" xref="S2.SS1.p1.6.m6.1.1.3.2">1</cn><apply id="S2.SS1.p1.6.m6.1.1.3.3.cmml" xref="S2.SS1.p1.6.m6.1.1.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.1.1.3.3.1.cmml" xref="S2.SS1.p1.6.m6.1.1.3.3">subscript</csymbol><ci id="S2.SS1.p1.6.m6.1.1.3.3.2.cmml" xref="S2.SS1.p1.6.m6.1.1.3.3.2">𝛽</ci><ci id="S2.SS1.p1.6.m6.1.1.3.3.3.cmml" xref="S2.SS1.p1.6.m6.1.1.3.3.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">\alpha_{t}=1-\beta_{t}</annotation></semantics></math>, and <math id="S2.SS1.p1.7.m7.2" class="ltx_Math" alttext="\epsilon\sim\mathcal{N}(0,I)" display="inline"><semantics id="S2.SS1.p1.7.m7.2a"><mrow id="S2.SS1.p1.7.m7.2.3" xref="S2.SS1.p1.7.m7.2.3.cmml"><mi id="S2.SS1.p1.7.m7.2.3.2" xref="S2.SS1.p1.7.m7.2.3.2.cmml">ϵ</mi><mo id="S2.SS1.p1.7.m7.2.3.1" xref="S2.SS1.p1.7.m7.2.3.1.cmml">∼</mo><mrow id="S2.SS1.p1.7.m7.2.3.3" xref="S2.SS1.p1.7.m7.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.7.m7.2.3.3.2" xref="S2.SS1.p1.7.m7.2.3.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.7.m7.2.3.3.1" xref="S2.SS1.p1.7.m7.2.3.3.1.cmml">​</mo><mrow id="S2.SS1.p1.7.m7.2.3.3.3.2" xref="S2.SS1.p1.7.m7.2.3.3.3.1.cmml"><mo stretchy="false" id="S2.SS1.p1.7.m7.2.3.3.3.2.1" xref="S2.SS1.p1.7.m7.2.3.3.3.1.cmml">(</mo><mn id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml">0</mn><mo id="S2.SS1.p1.7.m7.2.3.3.3.2.2" xref="S2.SS1.p1.7.m7.2.3.3.3.1.cmml">,</mo><mi id="S2.SS1.p1.7.m7.2.2" xref="S2.SS1.p1.7.m7.2.2.cmml">I</mi><mo stretchy="false" id="S2.SS1.p1.7.m7.2.3.3.3.2.3" xref="S2.SS1.p1.7.m7.2.3.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.2b"><apply id="S2.SS1.p1.7.m7.2.3.cmml" xref="S2.SS1.p1.7.m7.2.3"><csymbol cd="latexml" id="S2.SS1.p1.7.m7.2.3.1.cmml" xref="S2.SS1.p1.7.m7.2.3.1">similar-to</csymbol><ci id="S2.SS1.p1.7.m7.2.3.2.cmml" xref="S2.SS1.p1.7.m7.2.3.2">italic-ϵ</ci><apply id="S2.SS1.p1.7.m7.2.3.3.cmml" xref="S2.SS1.p1.7.m7.2.3.3"><times id="S2.SS1.p1.7.m7.2.3.3.1.cmml" xref="S2.SS1.p1.7.m7.2.3.3.1"></times><ci id="S2.SS1.p1.7.m7.2.3.3.2.cmml" xref="S2.SS1.p1.7.m7.2.3.3.2">𝒩</ci><interval closure="open" id="S2.SS1.p1.7.m7.2.3.3.3.1.cmml" xref="S2.SS1.p1.7.m7.2.3.3.3.2"><cn type="integer" id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">0</cn><ci id="S2.SS1.p1.7.m7.2.2.cmml" xref="S2.SS1.p1.7.m7.2.2">𝐼</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.2c">\epsilon\sim\mathcal{N}(0,I)</annotation></semantics></math>.
The reverse process, a denoising process, is formulated with a conditional probability <math id="S2.SS1.p1.8.m8.6" class="ltx_Math" alttext="p_{\theta}(x_{t-1}|x_{t})=N(x_{t};\mu_{\theta}(x_{t},t),\Sigma_{\theta}(x_{t},t))" display="inline"><semantics id="S2.SS1.p1.8.m8.6a"><mrow id="S2.SS1.p1.8.m8.6.6" xref="S2.SS1.p1.8.m8.6.6.cmml"><mrow id="S2.SS1.p1.8.m8.3.3.1" xref="S2.SS1.p1.8.m8.3.3.1.cmml"><msub id="S2.SS1.p1.8.m8.3.3.1.3" xref="S2.SS1.p1.8.m8.3.3.1.3.cmml"><mi id="S2.SS1.p1.8.m8.3.3.1.3.2" xref="S2.SS1.p1.8.m8.3.3.1.3.2.cmml">p</mi><mi id="S2.SS1.p1.8.m8.3.3.1.3.3" xref="S2.SS1.p1.8.m8.3.3.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS1.p1.8.m8.3.3.1.2" xref="S2.SS1.p1.8.m8.3.3.1.2.cmml">​</mo><mrow id="S2.SS1.p1.8.m8.3.3.1.1.1" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p1.8.m8.3.3.1.1.1.2" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.cmml">(</mo><mrow id="S2.SS1.p1.8.m8.3.3.1.1.1.1" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.cmml"><msub id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.cmml"><mi id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.2" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.2.cmml">x</mi><mrow id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.cmml"><mi id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.2" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.2.cmml">t</mi><mo id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.1" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.1.cmml">−</mo><mn id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.3" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo fence="false" id="S2.SS1.p1.8.m8.3.3.1.1.1.1.1" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.1.cmml">|</mo><msub id="S2.SS1.p1.8.m8.3.3.1.1.1.1.3" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.cmml"><mi id="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.2" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.2.cmml">x</mi><mi id="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.3" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.3.cmml">t</mi></msub></mrow><mo stretchy="false" id="S2.SS1.p1.8.m8.3.3.1.1.1.3" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.SS1.p1.8.m8.6.6.5" xref="S2.SS1.p1.8.m8.6.6.5.cmml">=</mo><mrow id="S2.SS1.p1.8.m8.6.6.4" xref="S2.SS1.p1.8.m8.6.6.4.cmml"><mi id="S2.SS1.p1.8.m8.6.6.4.5" xref="S2.SS1.p1.8.m8.6.6.4.5.cmml">N</mi><mo lspace="0em" rspace="0em" id="S2.SS1.p1.8.m8.6.6.4.4" xref="S2.SS1.p1.8.m8.6.6.4.4.cmml">​</mo><mrow id="S2.SS1.p1.8.m8.6.6.4.3.3" xref="S2.SS1.p1.8.m8.6.6.4.3.4.cmml"><mo stretchy="false" id="S2.SS1.p1.8.m8.6.6.4.3.3.4" xref="S2.SS1.p1.8.m8.6.6.4.3.4.cmml">(</mo><msub id="S2.SS1.p1.8.m8.4.4.2.1.1.1" xref="S2.SS1.p1.8.m8.4.4.2.1.1.1.cmml"><mi id="S2.SS1.p1.8.m8.4.4.2.1.1.1.2" xref="S2.SS1.p1.8.m8.4.4.2.1.1.1.2.cmml">x</mi><mi id="S2.SS1.p1.8.m8.4.4.2.1.1.1.3" xref="S2.SS1.p1.8.m8.4.4.2.1.1.1.3.cmml">t</mi></msub><mo id="S2.SS1.p1.8.m8.6.6.4.3.3.5" xref="S2.SS1.p1.8.m8.6.6.4.3.4.cmml">;</mo><mrow id="S2.SS1.p1.8.m8.5.5.3.2.2.2" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.cmml"><msub id="S2.SS1.p1.8.m8.5.5.3.2.2.2.3" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.cmml"><mi id="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.2" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.2.cmml">μ</mi><mi id="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.3" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS1.p1.8.m8.5.5.3.2.2.2.2" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.2.cmml">​</mo><mrow id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.2.cmml"><mo stretchy="false" id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.2" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.2.cmml">(</mo><msub id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.cmml"><mi id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.2" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.2.cmml">x</mi><mi id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.3" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.3" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.2.cmml">,</mo><mi id="S2.SS1.p1.8.m8.1.1" xref="S2.SS1.p1.8.m8.1.1.cmml">t</mi><mo stretchy="false" id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.4" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="S2.SS1.p1.8.m8.6.6.4.3.3.6" xref="S2.SS1.p1.8.m8.6.6.4.3.4.cmml">,</mo><mrow id="S2.SS1.p1.8.m8.6.6.4.3.3.3" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.cmml"><msub id="S2.SS1.p1.8.m8.6.6.4.3.3.3.3" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.cmml"><mi mathvariant="normal" id="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.2" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.2.cmml">Σ</mi><mi id="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.3" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS1.p1.8.m8.6.6.4.3.3.3.2" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.2.cmml">​</mo><mrow id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.2.cmml"><mo stretchy="false" id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.2" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.2.cmml">(</mo><msub id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.cmml"><mi id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.2" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.2.cmml">x</mi><mi id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.3" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.3.cmml">t</mi></msub><mo id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.3" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.2.cmml">,</mo><mi id="S2.SS1.p1.8.m8.2.2" xref="S2.SS1.p1.8.m8.2.2.cmml">t</mi><mo stretchy="false" id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.4" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S2.SS1.p1.8.m8.6.6.4.3.3.7" xref="S2.SS1.p1.8.m8.6.6.4.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m8.6b"><apply id="S2.SS1.p1.8.m8.6.6.cmml" xref="S2.SS1.p1.8.m8.6.6"><eq id="S2.SS1.p1.8.m8.6.6.5.cmml" xref="S2.SS1.p1.8.m8.6.6.5"></eq><apply id="S2.SS1.p1.8.m8.3.3.1.cmml" xref="S2.SS1.p1.8.m8.3.3.1"><times id="S2.SS1.p1.8.m8.3.3.1.2.cmml" xref="S2.SS1.p1.8.m8.3.3.1.2"></times><apply id="S2.SS1.p1.8.m8.3.3.1.3.cmml" xref="S2.SS1.p1.8.m8.3.3.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.3.3.1.3.1.cmml" xref="S2.SS1.p1.8.m8.3.3.1.3">subscript</csymbol><ci id="S2.SS1.p1.8.m8.3.3.1.3.2.cmml" xref="S2.SS1.p1.8.m8.3.3.1.3.2">𝑝</ci><ci id="S2.SS1.p1.8.m8.3.3.1.3.3.cmml" xref="S2.SS1.p1.8.m8.3.3.1.3.3">𝜃</ci></apply><apply id="S2.SS1.p1.8.m8.3.3.1.1.1.1.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1"><csymbol cd="latexml" id="S2.SS1.p1.8.m8.3.3.1.1.1.1.1.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.1">conditional</csymbol><apply id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.1.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2">subscript</csymbol><ci id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.2.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.2">𝑥</ci><apply id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3"><minus id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.1.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.1"></minus><ci id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.2.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.2">𝑡</ci><cn type="integer" id="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.3.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.2.3.3">1</cn></apply></apply><apply id="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.1.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.3">subscript</csymbol><ci id="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.2.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.2">𝑥</ci><ci id="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.3.cmml" xref="S2.SS1.p1.8.m8.3.3.1.1.1.1.3.3">𝑡</ci></apply></apply></apply><apply id="S2.SS1.p1.8.m8.6.6.4.cmml" xref="S2.SS1.p1.8.m8.6.6.4"><times id="S2.SS1.p1.8.m8.6.6.4.4.cmml" xref="S2.SS1.p1.8.m8.6.6.4.4"></times><ci id="S2.SS1.p1.8.m8.6.6.4.5.cmml" xref="S2.SS1.p1.8.m8.6.6.4.5">𝑁</ci><list id="S2.SS1.p1.8.m8.6.6.4.3.4.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3"><apply id="S2.SS1.p1.8.m8.4.4.2.1.1.1.cmml" xref="S2.SS1.p1.8.m8.4.4.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.4.4.2.1.1.1.1.cmml" xref="S2.SS1.p1.8.m8.4.4.2.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.8.m8.4.4.2.1.1.1.2.cmml" xref="S2.SS1.p1.8.m8.4.4.2.1.1.1.2">𝑥</ci><ci id="S2.SS1.p1.8.m8.4.4.2.1.1.1.3.cmml" xref="S2.SS1.p1.8.m8.4.4.2.1.1.1.3">𝑡</ci></apply><apply id="S2.SS1.p1.8.m8.5.5.3.2.2.2.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2"><times id="S2.SS1.p1.8.m8.5.5.3.2.2.2.2.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.2"></times><apply id="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.3"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.1.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.3">subscript</csymbol><ci id="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.2.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.2">𝜇</ci><ci id="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.3.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.3.3">𝜃</ci></apply><interval closure="open" id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.2.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1"><apply id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.2">𝑥</ci><ci id="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.3.cmml" xref="S2.SS1.p1.8.m8.5.5.3.2.2.2.1.1.1.3">𝑡</ci></apply><ci id="S2.SS1.p1.8.m8.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1">𝑡</ci></interval></apply><apply id="S2.SS1.p1.8.m8.6.6.4.3.3.3.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3"><times id="S2.SS1.p1.8.m8.6.6.4.3.3.3.2.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.2"></times><apply id="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.1.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.3">subscript</csymbol><ci id="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.2.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.2">Σ</ci><ci id="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.3.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.3.3">𝜃</ci></apply><interval closure="open" id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.2.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1"><apply id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.1.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.2.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.2">𝑥</ci><ci id="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.3.cmml" xref="S2.SS1.p1.8.m8.6.6.4.3.3.3.1.1.1.3">𝑡</ci></apply><ci id="S2.SS1.p1.8.m8.2.2.cmml" xref="S2.SS1.p1.8.m8.2.2">𝑡</ci></interval></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m8.6c">p_{\theta}(x_{t-1}|x_{t})=N(x_{t};\mu_{\theta}(x_{t},t),\Sigma_{\theta}(x_{t},t))</annotation></semantics></math>, where <math id="S2.SS1.p1.9.m9.1" class="ltx_Math" alttext="\mu_{\theta}" display="inline"><semantics id="S2.SS1.p1.9.m9.1a"><msub id="S2.SS1.p1.9.m9.1.1" xref="S2.SS1.p1.9.m9.1.1.cmml"><mi id="S2.SS1.p1.9.m9.1.1.2" xref="S2.SS1.p1.9.m9.1.1.2.cmml">μ</mi><mi id="S2.SS1.p1.9.m9.1.1.3" xref="S2.SS1.p1.9.m9.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m9.1b"><apply id="S2.SS1.p1.9.m9.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.9.m9.1.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1">subscript</csymbol><ci id="S2.SS1.p1.9.m9.1.1.2.cmml" xref="S2.SS1.p1.9.m9.1.1.2">𝜇</ci><ci id="S2.SS1.p1.9.m9.1.1.3.cmml" xref="S2.SS1.p1.9.m9.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m9.1c">\mu_{\theta}</annotation></semantics></math> and <math id="S2.SS1.p1.10.m10.1" class="ltx_Math" alttext="\Sigma_{\theta}" display="inline"><semantics id="S2.SS1.p1.10.m10.1a"><msub id="S2.SS1.p1.10.m10.1.1" xref="S2.SS1.p1.10.m10.1.1.cmml"><mi mathvariant="normal" id="S2.SS1.p1.10.m10.1.1.2" xref="S2.SS1.p1.10.m10.1.1.2.cmml">Σ</mi><mi id="S2.SS1.p1.10.m10.1.1.3" xref="S2.SS1.p1.10.m10.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m10.1b"><apply id="S2.SS1.p1.10.m10.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.10.m10.1.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1">subscript</csymbol><ci id="S2.SS1.p1.10.m10.1.1.2.cmml" xref="S2.SS1.p1.10.m10.1.1.2">Σ</ci><ci id="S2.SS1.p1.10.m10.1.1.3.cmml" xref="S2.SS1.p1.10.m10.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m10.1c">\Sigma_{\theta}</annotation></semantics></math> are neural network parameterized functions predicting mean and variance. The model is trained by empirically, parameterizing <math id="S2.SS1.p1.11.m11.1" class="ltx_Math" alttext="\epsilon_{\theta}" display="inline"><semantics id="S2.SS1.p1.11.m11.1a"><msub id="S2.SS1.p1.11.m11.1.1" xref="S2.SS1.p1.11.m11.1.1.cmml"><mi id="S2.SS1.p1.11.m11.1.1.2" xref="S2.SS1.p1.11.m11.1.1.2.cmml">ϵ</mi><mi id="S2.SS1.p1.11.m11.1.1.3" xref="S2.SS1.p1.11.m11.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.11.m11.1b"><apply id="S2.SS1.p1.11.m11.1.1.cmml" xref="S2.SS1.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.11.m11.1.1.1.cmml" xref="S2.SS1.p1.11.m11.1.1">subscript</csymbol><ci id="S2.SS1.p1.11.m11.1.1.2.cmml" xref="S2.SS1.p1.11.m11.1.1.2">italic-ϵ</ci><ci id="S2.SS1.p1.11.m11.1.1.3.cmml" xref="S2.SS1.p1.11.m11.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.11.m11.1c">\epsilon_{\theta}</annotation></semantics></math> to predict <math id="S2.SS1.p1.12.m12.1" class="ltx_Math" alttext="\epsilon_{t}" display="inline"><semantics id="S2.SS1.p1.12.m12.1a"><msub id="S2.SS1.p1.12.m12.1.1" xref="S2.SS1.p1.12.m12.1.1.cmml"><mi id="S2.SS1.p1.12.m12.1.1.2" xref="S2.SS1.p1.12.m12.1.1.2.cmml">ϵ</mi><mi id="S2.SS1.p1.12.m12.1.1.3" xref="S2.SS1.p1.12.m12.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.12.m12.1b"><apply id="S2.SS1.p1.12.m12.1.1.cmml" xref="S2.SS1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.12.m12.1.1.1.cmml" xref="S2.SS1.p1.12.m12.1.1">subscript</csymbol><ci id="S2.SS1.p1.12.m12.1.1.2.cmml" xref="S2.SS1.p1.12.m12.1.1.2">italic-ϵ</ci><ci id="S2.SS1.p1.12.m12.1.1.3.cmml" xref="S2.SS1.p1.12.m12.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.12.m12.1c">\epsilon_{t}</annotation></semantics></math> and using the loss function <math id="S2.SS1.p1.13.m13.7" class="ltx_Math" alttext="L_{t}=\mathbb{E}_{t\sim[1,T],x_{0},\epsilon_{t}}\Big{[}\|\epsilon_{t}-\epsilon_{\theta}(x_{t},t)\|^{2}\Big{]}" display="inline"><semantics id="S2.SS1.p1.13.m13.7a"><mrow id="S2.SS1.p1.13.m13.7.7" xref="S2.SS1.p1.13.m13.7.7.cmml"><msub id="S2.SS1.p1.13.m13.7.7.3" xref="S2.SS1.p1.13.m13.7.7.3.cmml"><mi id="S2.SS1.p1.13.m13.7.7.3.2" xref="S2.SS1.p1.13.m13.7.7.3.2.cmml">L</mi><mi id="S2.SS1.p1.13.m13.7.7.3.3" xref="S2.SS1.p1.13.m13.7.7.3.3.cmml">t</mi></msub><mo id="S2.SS1.p1.13.m13.7.7.2" xref="S2.SS1.p1.13.m13.7.7.2.cmml">=</mo><mrow id="S2.SS1.p1.13.m13.7.7.1" xref="S2.SS1.p1.13.m13.7.7.1.cmml"><msub id="S2.SS1.p1.13.m13.7.7.1.3" xref="S2.SS1.p1.13.m13.7.7.1.3.cmml"><mi id="S2.SS1.p1.13.m13.7.7.1.3.2" xref="S2.SS1.p1.13.m13.7.7.1.3.2.cmml">𝔼</mi><mrow id="S2.SS1.p1.13.m13.5.5.5" xref="S2.SS1.p1.13.m13.5.5.5.cmml"><mi id="S2.SS1.p1.13.m13.5.5.5.7" xref="S2.SS1.p1.13.m13.5.5.5.7.cmml">t</mi><mo id="S2.SS1.p1.13.m13.5.5.5.6" xref="S2.SS1.p1.13.m13.5.5.5.6.cmml">∼</mo><mrow id="S2.SS1.p1.13.m13.5.5.5.5.3" xref="S2.SS1.p1.13.m13.5.5.5.5.4.cmml"><mrow id="S2.SS1.p1.13.m13.3.3.3.3.1.1.2" xref="S2.SS1.p1.13.m13.3.3.3.3.1.1.1.cmml"><mo stretchy="false" id="S2.SS1.p1.13.m13.3.3.3.3.1.1.2.1" xref="S2.SS1.p1.13.m13.3.3.3.3.1.1.1.cmml">[</mo><mn id="S2.SS1.p1.13.m13.1.1.1.1" xref="S2.SS1.p1.13.m13.1.1.1.1.cmml">1</mn><mo id="S2.SS1.p1.13.m13.3.3.3.3.1.1.2.2" xref="S2.SS1.p1.13.m13.3.3.3.3.1.1.1.cmml">,</mo><mi id="S2.SS1.p1.13.m13.2.2.2.2" xref="S2.SS1.p1.13.m13.2.2.2.2.cmml">T</mi><mo stretchy="false" id="S2.SS1.p1.13.m13.3.3.3.3.1.1.2.3" xref="S2.SS1.p1.13.m13.3.3.3.3.1.1.1.cmml">]</mo></mrow><mo id="S2.SS1.p1.13.m13.5.5.5.5.3.4" xref="S2.SS1.p1.13.m13.5.5.5.5.4.cmml">,</mo><msub id="S2.SS1.p1.13.m13.4.4.4.4.2.2" xref="S2.SS1.p1.13.m13.4.4.4.4.2.2.cmml"><mi id="S2.SS1.p1.13.m13.4.4.4.4.2.2.2" xref="S2.SS1.p1.13.m13.4.4.4.4.2.2.2.cmml">x</mi><mn id="S2.SS1.p1.13.m13.4.4.4.4.2.2.3" xref="S2.SS1.p1.13.m13.4.4.4.4.2.2.3.cmml">0</mn></msub><mo id="S2.SS1.p1.13.m13.5.5.5.5.3.5" xref="S2.SS1.p1.13.m13.5.5.5.5.4.cmml">,</mo><msub id="S2.SS1.p1.13.m13.5.5.5.5.3.3" xref="S2.SS1.p1.13.m13.5.5.5.5.3.3.cmml"><mi id="S2.SS1.p1.13.m13.5.5.5.5.3.3.2" xref="S2.SS1.p1.13.m13.5.5.5.5.3.3.2.cmml">ϵ</mi><mi id="S2.SS1.p1.13.m13.5.5.5.5.3.3.3" xref="S2.SS1.p1.13.m13.5.5.5.5.3.3.3.cmml">t</mi></msub></mrow></mrow></msub><mo lspace="0em" rspace="0em" id="S2.SS1.p1.13.m13.7.7.1.2" xref="S2.SS1.p1.13.m13.7.7.1.2.cmml">​</mo><mrow id="S2.SS1.p1.13.m13.7.7.1.1.1" xref="S2.SS1.p1.13.m13.7.7.1.1.2.cmml"><mo maxsize="160%" minsize="160%" id="S2.SS1.p1.13.m13.7.7.1.1.1.2" xref="S2.SS1.p1.13.m13.7.7.1.1.2.1.cmml">[</mo><msup id="S2.SS1.p1.13.m13.7.7.1.1.1.1" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.cmml"><mrow id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.2" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.cmml"><msub id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.cmml"><mi id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.2" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.2.cmml">ϵ</mi><mi id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.3" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.3.cmml">t</mi></msub><mo id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.2.cmml">−</mo><mrow id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.cmml"><msub id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.2" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.2.cmml">ϵ</mi><mi id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.3" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.2.cmml">(</mo><msub id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mi id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.3" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.2.cmml">,</mo><mi id="S2.SS1.p1.13.m13.6.6" xref="S2.SS1.p1.13.m13.6.6.cmml">t</mi><mo stretchy="false" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.4" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.3" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S2.SS1.p1.13.m13.7.7.1.1.1.1.3" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.3.cmml">2</mn></msup><mo maxsize="160%" minsize="160%" id="S2.SS1.p1.13.m13.7.7.1.1.1.3" xref="S2.SS1.p1.13.m13.7.7.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.13.m13.7b"><apply id="S2.SS1.p1.13.m13.7.7.cmml" xref="S2.SS1.p1.13.m13.7.7"><eq id="S2.SS1.p1.13.m13.7.7.2.cmml" xref="S2.SS1.p1.13.m13.7.7.2"></eq><apply id="S2.SS1.p1.13.m13.7.7.3.cmml" xref="S2.SS1.p1.13.m13.7.7.3"><csymbol cd="ambiguous" id="S2.SS1.p1.13.m13.7.7.3.1.cmml" xref="S2.SS1.p1.13.m13.7.7.3">subscript</csymbol><ci id="S2.SS1.p1.13.m13.7.7.3.2.cmml" xref="S2.SS1.p1.13.m13.7.7.3.2">𝐿</ci><ci id="S2.SS1.p1.13.m13.7.7.3.3.cmml" xref="S2.SS1.p1.13.m13.7.7.3.3">𝑡</ci></apply><apply id="S2.SS1.p1.13.m13.7.7.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1"><times id="S2.SS1.p1.13.m13.7.7.1.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.2"></times><apply id="S2.SS1.p1.13.m13.7.7.1.3.cmml" xref="S2.SS1.p1.13.m13.7.7.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.13.m13.7.7.1.3.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.3">subscript</csymbol><ci id="S2.SS1.p1.13.m13.7.7.1.3.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.3.2">𝔼</ci><apply id="S2.SS1.p1.13.m13.5.5.5.cmml" xref="S2.SS1.p1.13.m13.5.5.5"><csymbol cd="latexml" id="S2.SS1.p1.13.m13.5.5.5.6.cmml" xref="S2.SS1.p1.13.m13.5.5.5.6">similar-to</csymbol><ci id="S2.SS1.p1.13.m13.5.5.5.7.cmml" xref="S2.SS1.p1.13.m13.5.5.5.7">𝑡</ci><list id="S2.SS1.p1.13.m13.5.5.5.5.4.cmml" xref="S2.SS1.p1.13.m13.5.5.5.5.3"><interval closure="closed" id="S2.SS1.p1.13.m13.3.3.3.3.1.1.1.cmml" xref="S2.SS1.p1.13.m13.3.3.3.3.1.1.2"><cn type="integer" id="S2.SS1.p1.13.m13.1.1.1.1.cmml" xref="S2.SS1.p1.13.m13.1.1.1.1">1</cn><ci id="S2.SS1.p1.13.m13.2.2.2.2.cmml" xref="S2.SS1.p1.13.m13.2.2.2.2">𝑇</ci></interval><apply id="S2.SS1.p1.13.m13.4.4.4.4.2.2.cmml" xref="S2.SS1.p1.13.m13.4.4.4.4.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.13.m13.4.4.4.4.2.2.1.cmml" xref="S2.SS1.p1.13.m13.4.4.4.4.2.2">subscript</csymbol><ci id="S2.SS1.p1.13.m13.4.4.4.4.2.2.2.cmml" xref="S2.SS1.p1.13.m13.4.4.4.4.2.2.2">𝑥</ci><cn type="integer" id="S2.SS1.p1.13.m13.4.4.4.4.2.2.3.cmml" xref="S2.SS1.p1.13.m13.4.4.4.4.2.2.3">0</cn></apply><apply id="S2.SS1.p1.13.m13.5.5.5.5.3.3.cmml" xref="S2.SS1.p1.13.m13.5.5.5.5.3.3"><csymbol cd="ambiguous" id="S2.SS1.p1.13.m13.5.5.5.5.3.3.1.cmml" xref="S2.SS1.p1.13.m13.5.5.5.5.3.3">subscript</csymbol><ci id="S2.SS1.p1.13.m13.5.5.5.5.3.3.2.cmml" xref="S2.SS1.p1.13.m13.5.5.5.5.3.3.2">italic-ϵ</ci><ci id="S2.SS1.p1.13.m13.5.5.5.5.3.3.3.cmml" xref="S2.SS1.p1.13.m13.5.5.5.5.3.3.3">𝑡</ci></apply></list></apply></apply><apply id="S2.SS1.p1.13.m13.7.7.1.1.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1"><csymbol cd="latexml" id="S2.SS1.p1.13.m13.7.7.1.1.2.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.2">delimited-[]</csymbol><apply id="S2.SS1.p1.13.m13.7.7.1.1.1.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1">superscript</csymbol><apply id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.2.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.2">norm</csymbol><apply id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1"><minus id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.2"></minus><apply id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.2">italic-ϵ</ci><ci id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.3.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.3.3">𝑡</ci></apply><apply id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1"><times id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.2"></times><apply id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.2">italic-ϵ</ci><ci id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.3.3">𝜃</ci></apply><interval closure="open" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1"><apply id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S2.SS1.p1.13.m13.6.6.cmml" xref="S2.SS1.p1.13.m13.6.6">𝑡</ci></interval></apply></apply></apply><cn type="integer" id="S2.SS1.p1.13.m13.7.7.1.1.1.1.3.cmml" xref="S2.SS1.p1.13.m13.7.7.1.1.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.13.m13.7c">L_{t}=\mathbb{E}_{t\sim[1,T],x_{0},\epsilon_{t}}\Big{[}\|\epsilon_{t}-\epsilon_{\theta}(x_{t},t)\|^{2}\Big{]}</annotation></semantics></math> at step <math id="S2.SS1.p1.14.m14.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS1.p1.14.m14.1a"><mi id="S2.SS1.p1.14.m14.1.1" xref="S2.SS1.p1.14.m14.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.14.m14.1b"><ci id="S2.SS1.p1.14.m14.1.1.cmml" xref="S2.SS1.p1.14.m14.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.14.m14.1c">t</annotation></semantics></math> .</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Text-Guided Image Generation</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">To distill in-domain knowledge in the generation process and improve the representation capabilities, we
condition our synthesis on text prompts in the second scenario. Specifically, our pipeline is based on the Stable Diffusion (SD) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> model that offers a computationally efficient approach by operating in a latent space. The feature vector generated from the encoder <math id="S2.SS2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{E}" display="inline"><semantics id="S2.SS2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.p1.1.m1.1.1" xref="S2.SS2.p1.1.m1.1.1.cmml">ℰ</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p1.1.m1.1b"><ci id="S2.SS2.p1.1.m1.1.1.cmml" xref="S2.SS2.p1.1.m1.1.1">ℰ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p1.1.m1.1c">\mathcal{E}</annotation></semantics></math> is concatenated with the CLIP encoding <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> of the text prompt which is then combined into the denoising
process using the cross-attention model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>]</cite>. The generative process in this latent space is modeled by a diffusion process, which is learned to reverse the diffusion from a noise distribution back to the data distribution. The training objective for our model is defined as:</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.10" class="ltx_Math" alttext="L_{LDM}:=\mathbb{E}_{\mathcal{E}(x),y,\epsilon\sim\mathcal{N}(0,I),t}\left[\left\|\epsilon-\epsilon_{\theta}\left(z_{t},t,\tau_{\theta}(y)\right)\right\|_{2}^{2}\right]" display="block"><semantics id="S2.E1.m1.10a"><mrow id="S2.E1.m1.10.10" xref="S2.E1.m1.10.10.cmml"><msub id="S2.E1.m1.10.10.3" xref="S2.E1.m1.10.10.3.cmml"><mi id="S2.E1.m1.10.10.3.2" xref="S2.E1.m1.10.10.3.2.cmml">L</mi><mrow id="S2.E1.m1.10.10.3.3" xref="S2.E1.m1.10.10.3.3.cmml"><mi id="S2.E1.m1.10.10.3.3.2" xref="S2.E1.m1.10.10.3.3.2.cmml">L</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.10.10.3.3.1" xref="S2.E1.m1.10.10.3.3.1.cmml">​</mo><mi id="S2.E1.m1.10.10.3.3.3" xref="S2.E1.m1.10.10.3.3.3.cmml">D</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.10.10.3.3.1a" xref="S2.E1.m1.10.10.3.3.1.cmml">​</mo><mi id="S2.E1.m1.10.10.3.3.4" xref="S2.E1.m1.10.10.3.3.4.cmml">M</mi></mrow></msub><mo lspace="0.278em" rspace="0.278em" id="S2.E1.m1.10.10.2" xref="S2.E1.m1.10.10.2.cmml">:=</mo><mrow id="S2.E1.m1.10.10.1" xref="S2.E1.m1.10.10.1.cmml"><msub id="S2.E1.m1.10.10.1.3" xref="S2.E1.m1.10.10.1.3.cmml"><mi id="S2.E1.m1.10.10.1.3.2" xref="S2.E1.m1.10.10.1.3.2.cmml">𝔼</mi><mrow id="S2.E1.m1.7.7.7.7" xref="S2.E1.m1.7.7.7.8.cmml"><mrow id="S2.E1.m1.7.7.7.7.1" xref="S2.E1.m1.7.7.7.7.1.cmml"><mrow id="S2.E1.m1.7.7.7.7.1.1.1" xref="S2.E1.m1.7.7.7.7.1.1.2.cmml"><mrow id="S2.E1.m1.7.7.7.7.1.1.1.1" xref="S2.E1.m1.7.7.7.7.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.7.7.1.1.1.1.2" xref="S2.E1.m1.7.7.7.7.1.1.1.1.2.cmml">ℰ</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.7.7.1.1.1.1.1" xref="S2.E1.m1.7.7.7.7.1.1.1.1.1.cmml">​</mo><mrow id="S2.E1.m1.7.7.7.7.1.1.1.1.3.2" xref="S2.E1.m1.7.7.7.7.1.1.1.1.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.7.7.1.1.1.1.3.2.1" xref="S2.E1.m1.7.7.7.7.1.1.1.1.cmml">(</mo><mi id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml">x</mi><mo stretchy="false" id="S2.E1.m1.7.7.7.7.1.1.1.1.3.2.2" xref="S2.E1.m1.7.7.7.7.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.7.7.7.7.1.1.1.2" xref="S2.E1.m1.7.7.7.7.1.1.2.cmml">,</mo><mi id="S2.E1.m1.4.4.4.4" xref="S2.E1.m1.4.4.4.4.cmml">y</mi><mo id="S2.E1.m1.7.7.7.7.1.1.1.3" xref="S2.E1.m1.7.7.7.7.1.1.2.cmml">,</mo><mi id="S2.E1.m1.5.5.5.5" xref="S2.E1.m1.5.5.5.5.cmml">ϵ</mi></mrow><mo id="S2.E1.m1.7.7.7.7.1.2" xref="S2.E1.m1.7.7.7.7.1.2.cmml">∼</mo><mrow id="S2.E1.m1.7.7.7.7.1.3" xref="S2.E1.m1.7.7.7.7.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.7.7.7.7.1.3.2" xref="S2.E1.m1.7.7.7.7.1.3.2.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S2.E1.m1.7.7.7.7.1.3.1" xref="S2.E1.m1.7.7.7.7.1.3.1.cmml">​</mo><mrow id="S2.E1.m1.7.7.7.7.1.3.3.2" xref="S2.E1.m1.7.7.7.7.1.3.3.1.cmml"><mo stretchy="false" id="S2.E1.m1.7.7.7.7.1.3.3.2.1" xref="S2.E1.m1.7.7.7.7.1.3.3.1.cmml">(</mo><mn id="S2.E1.m1.2.2.2.2" xref="S2.E1.m1.2.2.2.2.cmml">0</mn><mo id="S2.E1.m1.7.7.7.7.1.3.3.2.2" xref="S2.E1.m1.7.7.7.7.1.3.3.1.cmml">,</mo><mi id="S2.E1.m1.3.3.3.3" xref="S2.E1.m1.3.3.3.3.cmml">I</mi><mo stretchy="false" id="S2.E1.m1.7.7.7.7.1.3.3.2.3" xref="S2.E1.m1.7.7.7.7.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E1.m1.7.7.7.7.2" xref="S2.E1.m1.7.7.7.8a.cmml">,</mo><mi id="S2.E1.m1.6.6.6.6" xref="S2.E1.m1.6.6.6.6.cmml">t</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.10.10.1.2" xref="S2.E1.m1.10.10.1.2.cmml">​</mo><mrow id="S2.E1.m1.10.10.1.1.1" xref="S2.E1.m1.10.10.1.1.2.cmml"><mo id="S2.E1.m1.10.10.1.1.1.2" xref="S2.E1.m1.10.10.1.1.2.1.cmml">[</mo><msubsup id="S2.E1.m1.10.10.1.1.1.1" xref="S2.E1.m1.10.10.1.1.1.1.cmml"><mrow id="S2.E1.m1.10.10.1.1.1.1.1.1.1" xref="S2.E1.m1.10.10.1.1.1.1.1.1.2.cmml"><mo id="S2.E1.m1.10.10.1.1.1.1.1.1.1.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.2.1.cmml">‖</mo><mrow id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.4" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.4.cmml">ϵ</mi><mo id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.3.cmml">−</mo><mrow id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.cmml"><msub id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.cmml"><mi id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.2.cmml">ϵ</mi><mi id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.3" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.3" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.3.cmml">​</mo><mrow id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.3.cmml"><mo id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.3" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.4" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mi id="S2.E1.m1.9.9" xref="S2.E1.m1.9.9.cmml">t</mi><mo id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.5" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.3.cmml">,</mo><mrow id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.cmml"><msub id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.2.cmml">τ</mi><mi id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.3" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.1" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.1.cmml">​</mo><mrow id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.3.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.cmml"><mo stretchy="false" id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.3.2.1" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.cmml">(</mo><mi id="S2.E1.m1.8.8" xref="S2.E1.m1.8.8.cmml">y</mi><mo stretchy="false" id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.3.2.2" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.6" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E1.m1.10.10.1.1.1.1.1.1.1.3" xref="S2.E1.m1.10.10.1.1.1.1.1.1.2.1.cmml">‖</mo></mrow><mn id="S2.E1.m1.10.10.1.1.1.1.1.3" xref="S2.E1.m1.10.10.1.1.1.1.1.3.cmml">2</mn><mn id="S2.E1.m1.10.10.1.1.1.1.3" xref="S2.E1.m1.10.10.1.1.1.1.3.cmml">2</mn></msubsup><mo id="S2.E1.m1.10.10.1.1.1.3" xref="S2.E1.m1.10.10.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.10b"><apply id="S2.E1.m1.10.10.cmml" xref="S2.E1.m1.10.10"><csymbol cd="latexml" id="S2.E1.m1.10.10.2.cmml" xref="S2.E1.m1.10.10.2">assign</csymbol><apply id="S2.E1.m1.10.10.3.cmml" xref="S2.E1.m1.10.10.3"><csymbol cd="ambiguous" id="S2.E1.m1.10.10.3.1.cmml" xref="S2.E1.m1.10.10.3">subscript</csymbol><ci id="S2.E1.m1.10.10.3.2.cmml" xref="S2.E1.m1.10.10.3.2">𝐿</ci><apply id="S2.E1.m1.10.10.3.3.cmml" xref="S2.E1.m1.10.10.3.3"><times id="S2.E1.m1.10.10.3.3.1.cmml" xref="S2.E1.m1.10.10.3.3.1"></times><ci id="S2.E1.m1.10.10.3.3.2.cmml" xref="S2.E1.m1.10.10.3.3.2">𝐿</ci><ci id="S2.E1.m1.10.10.3.3.3.cmml" xref="S2.E1.m1.10.10.3.3.3">𝐷</ci><ci id="S2.E1.m1.10.10.3.3.4.cmml" xref="S2.E1.m1.10.10.3.3.4">𝑀</ci></apply></apply><apply id="S2.E1.m1.10.10.1.cmml" xref="S2.E1.m1.10.10.1"><times id="S2.E1.m1.10.10.1.2.cmml" xref="S2.E1.m1.10.10.1.2"></times><apply id="S2.E1.m1.10.10.1.3.cmml" xref="S2.E1.m1.10.10.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.10.10.1.3.1.cmml" xref="S2.E1.m1.10.10.1.3">subscript</csymbol><ci id="S2.E1.m1.10.10.1.3.2.cmml" xref="S2.E1.m1.10.10.1.3.2">𝔼</ci><apply id="S2.E1.m1.7.7.7.8.cmml" xref="S2.E1.m1.7.7.7.7"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.7.8a.cmml" xref="S2.E1.m1.7.7.7.7.2">formulae-sequence</csymbol><apply id="S2.E1.m1.7.7.7.7.1.cmml" xref="S2.E1.m1.7.7.7.7.1"><csymbol cd="latexml" id="S2.E1.m1.7.7.7.7.1.2.cmml" xref="S2.E1.m1.7.7.7.7.1.2">similar-to</csymbol><list id="S2.E1.m1.7.7.7.7.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.1.1.1"><apply id="S2.E1.m1.7.7.7.7.1.1.1.1.cmml" xref="S2.E1.m1.7.7.7.7.1.1.1.1"><times id="S2.E1.m1.7.7.7.7.1.1.1.1.1.cmml" xref="S2.E1.m1.7.7.7.7.1.1.1.1.1"></times><ci id="S2.E1.m1.7.7.7.7.1.1.1.1.2.cmml" xref="S2.E1.m1.7.7.7.7.1.1.1.1.2">ℰ</ci><ci id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1">𝑥</ci></apply><ci id="S2.E1.m1.4.4.4.4.cmml" xref="S2.E1.m1.4.4.4.4">𝑦</ci><ci id="S2.E1.m1.5.5.5.5.cmml" xref="S2.E1.m1.5.5.5.5">italic-ϵ</ci></list><apply id="S2.E1.m1.7.7.7.7.1.3.cmml" xref="S2.E1.m1.7.7.7.7.1.3"><times id="S2.E1.m1.7.7.7.7.1.3.1.cmml" xref="S2.E1.m1.7.7.7.7.1.3.1"></times><ci id="S2.E1.m1.7.7.7.7.1.3.2.cmml" xref="S2.E1.m1.7.7.7.7.1.3.2">𝒩</ci><interval closure="open" id="S2.E1.m1.7.7.7.7.1.3.3.1.cmml" xref="S2.E1.m1.7.7.7.7.1.3.3.2"><cn type="integer" id="S2.E1.m1.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2">0</cn><ci id="S2.E1.m1.3.3.3.3.cmml" xref="S2.E1.m1.3.3.3.3">𝐼</ci></interval></apply></apply><ci id="S2.E1.m1.6.6.6.6.cmml" xref="S2.E1.m1.6.6.6.6">𝑡</ci></apply></apply><apply id="S2.E1.m1.10.10.1.1.2.cmml" xref="S2.E1.m1.10.10.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.10.10.1.1.2.1.cmml" xref="S2.E1.m1.10.10.1.1.1.2">delimited-[]</csymbol><apply id="S2.E1.m1.10.10.1.1.1.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.10.10.1.1.1.1.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1">superscript</csymbol><apply id="S2.E1.m1.10.10.1.1.1.1.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.10.10.1.1.1.1.1.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1">subscript</csymbol><apply id="S2.E1.m1.10.10.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S2.E1.m1.10.10.1.1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.2">norm</csymbol><apply id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1"><minus id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.3"></minus><ci id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.4.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.4">italic-ϵ</ci><apply id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2"><times id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.3"></times><apply id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4"><csymbol cd="ambiguous" id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4">subscript</csymbol><ci id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.2">italic-ϵ</ci><ci id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.3.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.4.3">𝜃</ci></apply><vector id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2"><apply id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S2.E1.m1.9.9.cmml" xref="S2.E1.m1.9.9">𝑡</ci><apply id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2"><times id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.1"></times><apply id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.2">𝜏</ci><ci id="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.3.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.1.1.1.2.2.2.2.2.3">𝜃</ci></apply><ci id="S2.E1.m1.8.8.cmml" xref="S2.E1.m1.8.8">𝑦</ci></apply></vector></apply></apply></apply><cn type="integer" id="S2.E1.m1.10.10.1.1.1.1.1.3.cmml" xref="S2.E1.m1.10.10.1.1.1.1.1.3">2</cn></apply><cn type="integer" id="S2.E1.m1.10.10.1.1.1.1.3.cmml" xref="S2.E1.m1.10.10.1.1.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.10c">L_{LDM}:=\mathbb{E}_{\mathcal{E}(x),y,\epsilon\sim\mathcal{N}(0,I),t}\left[\left\|\epsilon-\epsilon_{\theta}\left(z_{t},t,\tau_{\theta}(y)\right)\right\|_{2}^{2}\right]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS2.p2.7" class="ltx_p">where <math id="S2.SS2.p2.1.m1.1" class="ltx_Math" alttext="z_{t}" display="inline"><semantics id="S2.SS2.p2.1.m1.1a"><msub id="S2.SS2.p2.1.m1.1.1" xref="S2.SS2.p2.1.m1.1.1.cmml"><mi id="S2.SS2.p2.1.m1.1.1.2" xref="S2.SS2.p2.1.m1.1.1.2.cmml">z</mi><mi id="S2.SS2.p2.1.m1.1.1.3" xref="S2.SS2.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.1.m1.1b"><apply id="S2.SS2.p2.1.m1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.1.m1.1.1.1.cmml" xref="S2.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.p2.1.m1.1.1.2.cmml" xref="S2.SS2.p2.1.m1.1.1.2">𝑧</ci><ci id="S2.SS2.p2.1.m1.1.1.3.cmml" xref="S2.SS2.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.1.m1.1c">z_{t}</annotation></semantics></math> is the latent representation at time step <math id="S2.SS2.p2.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS2.p2.2.m2.1a"><mi id="S2.SS2.p2.2.m2.1.1" xref="S2.SS2.p2.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.2.m2.1b"><ci id="S2.SS2.p2.2.m2.1.1.cmml" xref="S2.SS2.p2.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.2.m2.1c">t</annotation></semantics></math>, <math id="S2.SS2.p2.3.m3.1" class="ltx_Math" alttext="\epsilon_{\theta}" display="inline"><semantics id="S2.SS2.p2.3.m3.1a"><msub id="S2.SS2.p2.3.m3.1.1" xref="S2.SS2.p2.3.m3.1.1.cmml"><mi id="S2.SS2.p2.3.m3.1.1.2" xref="S2.SS2.p2.3.m3.1.1.2.cmml">ϵ</mi><mi id="S2.SS2.p2.3.m3.1.1.3" xref="S2.SS2.p2.3.m3.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.3.m3.1b"><apply id="S2.SS2.p2.3.m3.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.3.m3.1.1.1.cmml" xref="S2.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S2.SS2.p2.3.m3.1.1.2.cmml" xref="S2.SS2.p2.3.m3.1.1.2">italic-ϵ</ci><ci id="S2.SS2.p2.3.m3.1.1.3.cmml" xref="S2.SS2.p2.3.m3.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.3.m3.1c">\epsilon_{\theta}</annotation></semantics></math> is the denoising UNet with cross-attention layers, <math id="S2.SS2.p2.4.m4.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S2.SS2.p2.4.m4.1a"><mi id="S2.SS2.p2.4.m4.1.1" xref="S2.SS2.p2.4.m4.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.4.m4.1b"><ci id="S2.SS2.p2.4.m4.1.1.cmml" xref="S2.SS2.p2.4.m4.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.4.m4.1c">y</annotation></semantics></math> is the conditioning text prompt, and <math id="S2.SS2.p2.5.m5.1" class="ltx_Math" alttext="\tau_{\theta}" display="inline"><semantics id="S2.SS2.p2.5.m5.1a"><msub id="S2.SS2.p2.5.m5.1.1" xref="S2.SS2.p2.5.m5.1.1.cmml"><mi id="S2.SS2.p2.5.m5.1.1.2" xref="S2.SS2.p2.5.m5.1.1.2.cmml">τ</mi><mi id="S2.SS2.p2.5.m5.1.1.3" xref="S2.SS2.p2.5.m5.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.5.m5.1b"><apply id="S2.SS2.p2.5.m5.1.1.cmml" xref="S2.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.5.m5.1.1.1.cmml" xref="S2.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S2.SS2.p2.5.m5.1.1.2.cmml" xref="S2.SS2.p2.5.m5.1.1.2">𝜏</ci><ci id="S2.SS2.p2.5.m5.1.1.3.cmml" xref="S2.SS2.p2.5.m5.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.5.m5.1c">\tau_{\theta}</annotation></semantics></math> is the text tokenizer. <math id="S2.SS2.p2.6.m6.1" class="ltx_Math" alttext="\epsilon_{\theta}" display="inline"><semantics id="S2.SS2.p2.6.m6.1a"><msub id="S2.SS2.p2.6.m6.1.1" xref="S2.SS2.p2.6.m6.1.1.cmml"><mi id="S2.SS2.p2.6.m6.1.1.2" xref="S2.SS2.p2.6.m6.1.1.2.cmml">ϵ</mi><mi id="S2.SS2.p2.6.m6.1.1.3" xref="S2.SS2.p2.6.m6.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.6.m6.1b"><apply id="S2.SS2.p2.6.m6.1.1.cmml" xref="S2.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.6.m6.1.1.1.cmml" xref="S2.SS2.p2.6.m6.1.1">subscript</csymbol><ci id="S2.SS2.p2.6.m6.1.1.2.cmml" xref="S2.SS2.p2.6.m6.1.1.2">italic-ϵ</ci><ci id="S2.SS2.p2.6.m6.1.1.3.cmml" xref="S2.SS2.p2.6.m6.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.6.m6.1c">\epsilon_{\theta}</annotation></semantics></math> and <math id="S2.SS2.p2.7.m7.1" class="ltx_Math" alttext="\tau_{\theta}" display="inline"><semantics id="S2.SS2.p2.7.m7.1a"><msub id="S2.SS2.p2.7.m7.1.1" xref="S2.SS2.p2.7.m7.1.1.cmml"><mi id="S2.SS2.p2.7.m7.1.1.2" xref="S2.SS2.p2.7.m7.1.1.2.cmml">τ</mi><mi id="S2.SS2.p2.7.m7.1.1.3" xref="S2.SS2.p2.7.m7.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.p2.7.m7.1b"><apply id="S2.SS2.p2.7.m7.1.1.cmml" xref="S2.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS2.p2.7.m7.1.1.1.cmml" xref="S2.SS2.p2.7.m7.1.1">subscript</csymbol><ci id="S2.SS2.p2.7.m7.1.1.2.cmml" xref="S2.SS2.p2.7.m7.1.1.2">𝜏</ci><ci id="S2.SS2.p2.7.m7.1.1.3.cmml" xref="S2.SS2.p2.7.m7.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.p2.7.m7.1c">\tau_{\theta}</annotation></semantics></math> are jointly optimized during the training process. The conditional generation of echo images is performed by guiding the reverse diffusion process with a text condition as elaborated in <a href="#S3.SS1" title="3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">subsection 3.1</span></a>.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.3 </span>Text + Segmentation Guided Image Generation</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">In addition to the text prompt, we use a semantic label map as part of the guidance signal to further improve the generation capacity. Here, the ControlNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite> model is utilized to support additional input conditions providing greater flexibility and customization of the condition signals that allow for simultaneous structure-controlled and subject-controlled image synthesis. ControlNet model is a plug-and-play model that duplicates an SD branch to gather hierarchical features from the provided condition while keeping the initial SD branch frozen to maintain its generation capability. The trainable and fixed neural network components are linked via zero-convolution layers, where the trainable features are processed as input, and their output is combined with the frozen features. This way, we are capable of inserting, combining, and modifying imaging appearances through text prompts and corresponding segmentation maps, featuring highly detailed image correlations of the corresponding medical concepts.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Results</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p"><span id="S3.p1.1.1" class="ltx_text ltx_font_bold">Training and Inference Settings.</span> Our proposed technique was developed using PyTorch and <a target="_blank" href="https://huggingface.co/docs/diffusers/en/index" title="" class="ltx_ref ltx_href">Diffusers</a> libraries and executed on four NVIDIA V100 16GB GPUs. A batch size of 1 (per device) and an Adam optimizer with a learning rate of <math id="S3.p1.1.m1.1" class="ltx_Math" alttext="5\mathrm{e}{-6}" display="inline"><semantics id="S3.p1.1.m1.1a"><mrow id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml"><mrow id="S3.p1.1.m1.1.1.2" xref="S3.p1.1.m1.1.1.2.cmml"><mn id="S3.p1.1.m1.1.1.2.2" xref="S3.p1.1.m1.1.1.2.2.cmml">5</mn><mo lspace="0em" rspace="0em" id="S3.p1.1.m1.1.1.2.1" xref="S3.p1.1.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="S3.p1.1.m1.1.1.2.3" xref="S3.p1.1.m1.1.1.2.3.cmml">e</mi></mrow><mo id="S3.p1.1.m1.1.1.1" xref="S3.p1.1.m1.1.1.1.cmml">−</mo><mn id="S3.p1.1.m1.1.1.3" xref="S3.p1.1.m1.1.1.3.cmml">6</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><apply id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1"><minus id="S3.p1.1.m1.1.1.1.cmml" xref="S3.p1.1.m1.1.1.1"></minus><apply id="S3.p1.1.m1.1.1.2.cmml" xref="S3.p1.1.m1.1.1.2"><times id="S3.p1.1.m1.1.1.2.1.cmml" xref="S3.p1.1.m1.1.1.2.1"></times><cn type="integer" id="S3.p1.1.m1.1.1.2.2.cmml" xref="S3.p1.1.m1.1.1.2.2">5</cn><ci id="S3.p1.1.m1.1.1.2.3.cmml" xref="S3.p1.1.m1.1.1.2.3">e</ci></apply><cn type="integer" id="S3.p1.1.m1.1.1.3.cmml" xref="S3.p1.1.m1.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">5\mathrm{e}{-6}</annotation></semantics></math> were utilized during the training process, which was carried out for 120000 iterations. We employed a DDPM scheduler with 1000 denoising steps, and for quicker inference, a UniPC multi-step scheduler <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> with 50 steps.
<br class="ltx_break"><span id="S3.p1.1.2" class="ltx_text ltx_font_bold">Dataset and Evaluation Metrics.</span> For our study, we used the CAMUS echocardiography dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>, featuring 2D apical views of both two-chamber (2CH) and four-chamber (4CH) perspectives from 500 patients across end-diastole (ED) and end-systole (ES) phases. The initial dataset randomly selected images from 50 patients for the test split, without segmentation labels, while the remaining 450 patients were assigned to the training split. Following the baseline work <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>, we allocated the first 50 patients for validation and utilized the remaining 400 patients for training, leading to a total of 1600/200 images for train/validation respectively. We used Fréchet Inception Distance (FID) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> and Kernel Inception Distance (KID) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> to evaluate the quality of image synthesis. FID measures the distance between feature vectors of real and generated images, while KID quantifies the similarity between probability distributions of real and generated images’ features. For the downstream tasks, namely segmentation, and classification, we opt for well-established metrics as shown in <a href="#S3.T2" title="Table 2 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 2</span></a> and <a href="#S3.T3.st2" title="3(b) ‣ Table 3 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">3(b)</span></a>.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Image Synthesis</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p"><span id="S3.SS1.p1.1.1" class="ltx_text ltx_font_bold">Prompt Engineering.</span> We examined two distinct strategies for prompt engineering applied to text-only and text+segmentation models: employing textual and abstract prompts. Textual prompts consist of straightforward natural language directives, such as “ultrasound image of the heart in 4-chamber view,” which proved effective with text+segmentation models due to the additional guidance from segmentation maps. However, for text-only models, we hypothesized that natural language terms might confuse the fine-tuning process, given that these models are initially trained on vast collections of non-medical images. To address this, we introduced an abstract training approach for our text-only models. This method involved using prompts structured like “{ultrasound image} displays the {heart} in a {two-chamber} view during the {ed} phase,” where each phrase within braces was replaced by a randomly generated string, aiming to minimize potential misunderstandings inherent to natural language processing in these models.
<br class="ltx_break"><span id="S3.SS1.p1.1.2" class="ltx_text ltx_font_bold">Generation Results.</span> <a href="#S3.T1" title="Table 1 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 1</span></a> presents a comparison of our setting proposals with the baseline SOTA method <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> using the FID and KID metrics across 4 possible view/cycles. The text+segmentation-based method has the lowest mean FID of 1.4902 across all views/cycles, which surpasses baseline SOTA by a clear margin of 1.6330 showing anatomical realism
and a high fidelity and diversity of the generated medical images. Moreover, this model outperforms unguided/text-guided counterparts in the KID metric achieving a significant performance boost.</p>
</div>
<figure id="S3.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T1.6.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S3.T1.7.2" class="ltx_text" style="font-size:90%;">Comparison of different settings in terms of the Inception Distances. <span id="S3.T1.7.2.1" class="ltx_text" style="color:#0000FF;">Blue</span> and <span id="S3.T1.7.2.2" class="ltx_text" style="color:#FF0000;">red</span> indicates the best and the second-best results.</span></figcaption>
<div id="S3.T1.2" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:534.6pt;height:109pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S3.T1.2.2" class="ltx_p"><span id="S3.T1.2.2.2" class="ltx_text">
<span id="S3.T1.2.2.2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S3.T1.2.2.2.2.2" class="ltx_tr">
<span id="S3.T1.2.2.2.2.2.3" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_tt"></span>
<span id="S3.T1.1.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_4">FID <math id="S3.T1.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S3.T1.1.1.1.1.1.1.m1.1a"><mo stretchy="false" id="S3.T1.1.1.1.1.1.1.m1.1.1" xref="S3.T1.1.1.1.1.1.1.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S3.T1.1.1.1.1.1.1.m1.1b"><ci id="S3.T1.1.1.1.1.1.1.m1.1.1.cmml" xref="S3.T1.1.1.1.1.1.1.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.1.1.1.1.1.1.m1.1c">\downarrow</annotation></semantics></math></span>
<span id="S3.T1.2.2.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_colspan ltx_colspan_4">Mean KID <math id="S3.T1.2.2.2.2.2.2.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S3.T1.2.2.2.2.2.2.m1.1a"><mo stretchy="false" id="S3.T1.2.2.2.2.2.2.m1.1.1" xref="S3.T1.2.2.2.2.2.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S3.T1.2.2.2.2.2.2.m1.1b"><ci id="S3.T1.2.2.2.2.2.2.m1.1.1.cmml" xref="S3.T1.2.2.2.2.2.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T1.2.2.2.2.2.2.m1.1c">\downarrow</annotation></semantics></math></span></span>
<span id="S3.T1.2.2.2.2.3.1" class="ltx_tr">
<span id="S3.T1.2.2.2.2.3.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row"></span>
<span id="S3.T1.2.2.2.2.3.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">2CH-ED</span>
<span id="S3.T1.2.2.2.2.3.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">2CH-ES</span>
<span id="S3.T1.2.2.2.2.3.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">4CH-ED</span>
<span id="S3.T1.2.2.2.2.3.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">4CH-ES</span>
<span id="S3.T1.2.2.2.2.3.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">2CH-ED</span>
<span id="S3.T1.2.2.2.2.3.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">2CH-ES</span>
<span id="S3.T1.2.2.2.2.3.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">4CH-ED</span>
<span id="S3.T1.2.2.2.2.3.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">4CH-ES</span></span>
</span>
<span class="ltx_tbody">
<span id="S3.T1.2.2.2.2.4.1" class="ltx_tr">
<span id="S3.T1.2.2.2.2.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Unconditional</span>
<span id="S3.T1.2.2.2.2.4.1.2" class="ltx_td ltx_align_center ltx_border_t">4.7712</span>
<span id="S3.T1.2.2.2.2.4.1.3" class="ltx_td ltx_align_center ltx_border_t">4.5490</span>
<span id="S3.T1.2.2.2.2.4.1.4" class="ltx_td ltx_align_center ltx_border_t">5.0679</span>
<span id="S3.T1.2.2.2.2.4.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4.1077</span>
<span id="S3.T1.2.2.2.2.4.1.6" class="ltx_td ltx_align_center ltx_border_t">1.4619</span>
<span id="S3.T1.2.2.2.2.4.1.7" class="ltx_td ltx_align_center ltx_border_t">2.5799</span>
<span id="S3.T1.2.2.2.2.4.1.8" class="ltx_td ltx_align_center ltx_border_t">2.5452</span>
<span id="S3.T1.2.2.2.2.4.1.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T1.2.2.2.2.4.1.9.1" class="ltx_text" style="color:#FF0000;">2.0171</span></span></span>
<span id="S3.T1.2.2.2.2.5.2" class="ltx_tr">
<span id="S3.T1.2.2.2.2.5.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Text-Conditioned</span>
<span id="S3.T1.2.2.2.2.5.2.2" class="ltx_td ltx_align_center"><span id="S3.T1.2.2.2.2.5.2.2.1" class="ltx_text" style="color:#FF0000;">1.4499</span></span>
<span id="S3.T1.2.2.2.2.5.2.3" class="ltx_td ltx_align_center">2.3445</span>
<span id="S3.T1.2.2.2.2.5.2.4" class="ltx_td ltx_align_center"><span id="S3.T1.2.2.2.2.5.2.4.1" class="ltx_text" style="color:#FF0000;">1.7494</span></span>
<span id="S3.T1.2.2.2.2.5.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T1.2.2.2.2.5.2.5.1" class="ltx_text" style="color:#FF0000;">2.8399</span></span>
<span id="S3.T1.2.2.2.2.5.2.6" class="ltx_td ltx_align_center"><span id="S3.T1.2.2.2.2.5.2.6.1" class="ltx_text" style="color:#0000FF;">1.2570</span></span>
<span id="S3.T1.2.2.2.2.5.2.7" class="ltx_td ltx_align_center"><span id="S3.T1.2.2.2.2.5.2.7.1" class="ltx_text" style="color:#FF0000;">2.4584</span></span>
<span id="S3.T1.2.2.2.2.5.2.8" class="ltx_td ltx_align_center"><span id="S3.T1.2.2.2.2.5.2.8.1" class="ltx_text" style="color:#0000FF;">1.5466</span></span>
<span id="S3.T1.2.2.2.2.5.2.9" class="ltx_td ltx_align_center">2.6263</span></span>
<span id="S3.T1.2.2.2.2.6.3" class="ltx_tr">
<span id="S3.T1.2.2.2.2.6.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">SDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite></span>
<span id="S3.T1.2.2.2.2.6.3.2" class="ltx_td ltx_align_center">1.8188</span>
<span id="S3.T1.2.2.2.2.6.3.3" class="ltx_td ltx_align_center"><span id="S3.T1.2.2.2.2.6.3.3.1" class="ltx_text" style="color:#FF0000;">1.7528</span></span>
<span id="S3.T1.2.2.2.2.6.3.4" class="ltx_td ltx_align_center">4.4704</span>
<span id="S3.T1.2.2.2.2.6.3.5" class="ltx_td ltx_align_center ltx_border_r">4.4508</span>
<span id="S3.T1.2.2.2.2.6.3.6" class="ltx_td ltx_align_center">2.8221</span>
<span id="S3.T1.2.2.2.2.6.3.7" class="ltx_td ltx_align_center">2.9019</span>
<span id="S3.T1.2.2.2.2.6.3.8" class="ltx_td ltx_align_center">5.3975</span>
<span id="S3.T1.2.2.2.2.6.3.9" class="ltx_td ltx_align_center">5.4414</span></span>
<span id="S3.T1.2.2.2.2.7.4" class="ltx_tr" style="background-color:#C8FFFD;">
<span id="S3.T1.2.2.2.2.7.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb"><span id="S3.T1.2.2.2.2.7.4.1.1" class="ltx_text" style="background-color:#C8FFFD;">Text+Segmentation</span></span>
<span id="S3.T1.2.2.2.2.7.4.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T1.2.2.2.2.7.4.2.1" class="ltx_text" style="color:#0000FF;background-color:#C8FFFD;">1.3957</span></span>
<span id="S3.T1.2.2.2.2.7.4.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T1.2.2.2.2.7.4.3.1" class="ltx_text" style="color:#0000FF;background-color:#C8FFFD;">1.6251</span></span>
<span id="S3.T1.2.2.2.2.7.4.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T1.2.2.2.2.7.4.4.1" class="ltx_text" style="color:#0000FF;background-color:#C8FFFD;">1.6080</span></span>
<span id="S3.T1.2.2.2.2.7.4.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S3.T1.2.2.2.2.7.4.5.1" class="ltx_text" style="color:#0000FF;background-color:#C8FFFD;">1.3322</span></span>
<span id="S3.T1.2.2.2.2.7.4.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T1.2.2.2.2.7.4.6.1" class="ltx_text" style="color:#FF0000;background-color:#C8FFFD;">1.4022</span></span>
<span id="S3.T1.2.2.2.2.7.4.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T1.2.2.2.2.7.4.7.1" class="ltx_text" style="color:#0000FF;background-color:#C8FFFD;">1.6186</span></span>
<span id="S3.T1.2.2.2.2.7.4.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T1.2.2.2.2.7.4.8.1" class="ltx_text" style="color:#FF0000;background-color:#C8FFFD;">1.6246</span></span>
<span id="S3.T1.2.2.2.2.7.4.9" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T1.2.2.2.2.7.4.9.1" class="ltx_text" style="color:#0000FF;background-color:#C8FFFD;">1.3322</span></span></span>
</span>
</span></span></p>
</span></div>
</figure>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p"><a href="#S3.F2" title="Figure 2 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 2</span></a> illustrates a qualitative result of our methods. Generally, our visuals guided by both text and segmentation maps exhibit higher fidelity and closely resemble real echo images. Overall, we observe that our model’s generated images have high overlap with both the input image and corresponding segmentation map, suggesting that our model closely adhered to the input guidance during image generation, significantly outperforming the generated images produced by SDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. Specifically, the 2CH view focuses exclusively on the heart’s left ventricle (LV, upper chamber) and left atrium (LA, lower chamber), in contrast to the 4CH view, which additionally includes the RV and RA. The segmentation maps are limited to the anatomical features surrounding the LV endocardium (LV-endo), LV epicardium (LV-epi), and LA, lacking any data on the right chambers. Consequently, models, notably the SDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>, tend to show enhanced performance for 2CH views as they are not required to predict the right chambers. Nevertheless, in the case of 4CH views, the SDM models lack directives for generating the right chambers, leading to subpar performance in their depiction. As illustrated in the second row of <a href="#S3.F2" title="Figure 2 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Figure 2</span></a>, our text+segmentation model demonstrates superior accuracy in predicting the right chambers (indicated by green boxes) as the prompts explicitly specify the chamber count. Additionally, the ground truth in the third row reveals a visible tricuspid valve between the RV and RA, accurately predicted by our text+segmentation model (highlighted with yellow boxes). Moreover, our model accurately represents the mitral valve’s behavior, which remains closed during the ED phase and opens during the ES phase of the cardiac cycle, as shown in the outputs for the second and third rows (marked with red boxes).
<br class="ltx_break"></p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2403.19880/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="348" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S3.F2.3.2" class="ltx_text" style="font-size:90%;">Three generation results from our text+segmentation model and SOTA SDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. From the left in each row, the first and second columns indicate a sample output of the networks using the semantic map on the third column. The fourth column contains the ground truth. Green, red, and yellow boxes show the visual improvements achieved in the right chambers, mitral valve, and tricuspid valve, respectively.</span></figcaption>
</figure>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p"><span id="S3.SS1.p3.1.1" class="ltx_text ltx_font_bold">Downstream Tasks.</span> We evaluate the effect of the synthesized data obtained from our models on downstream tasks of echo image segmentation using UNet architecture <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite> and linear probing for the classification of ED/ES classes.</p>
</div>
<figure id="S3.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T2.7.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S3.T2.8.2" class="ltx_text" style="font-size:90%;">Downstream segmentation results using Dice Score, Hausdorff Distance (HD), and Average Surface Distance (ASD) metrics. <span id="S3.T2.8.2.1" class="ltx_text" style="color:#0000FF;">Blue</span> and <span id="S3.T2.8.2.2" class="ltx_text" style="color:#FF0000;">red</span> indicates the best and the second-best results.</span></figcaption>
<div id="S3.T2.3" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:631.2pt;height:127pt;vertical-align:-1.0pt;"><span class="ltx_transformed_inner" style="transform:translate(0.0pt,0.0pt) scale(1,1) ;">
<p id="S3.T2.3.3" class="ltx_p"><span id="S3.T2.3.3.3" class="ltx_text">
<span id="S3.T2.3.3.3.3" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<span class="ltx_thead">
<span id="S3.T2.3.3.3.3.3" class="ltx_tr">
<span id="S3.T2.3.3.3.3.3.4" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"><span id="S3.T2.3.3.3.3.3.4.1" class="ltx_text ltx_font_bold">Data</span></span>
<span id="S3.T2.1.1.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t ltx_colspan ltx_colspan_4"><span id="S3.T2.1.1.1.1.1.1.1" class="ltx_text ltx_font_bold">Dice</span> <math id="S3.T2.1.1.1.1.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S3.T2.1.1.1.1.1.1.m1.1a"><mo stretchy="false" id="S3.T2.1.1.1.1.1.1.m1.1.1" xref="S3.T2.1.1.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T2.1.1.1.1.1.1.m1.1b"><ci id="S3.T2.1.1.1.1.1.1.m1.1.1.cmml" xref="S3.T2.1.1.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.1.1.1.1.1.1.m1.1c">\uparrow</annotation></semantics></math></span>
<span id="S3.T2.2.2.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t ltx_colspan ltx_colspan_4"><span id="S3.T2.2.2.2.2.2.2.1" class="ltx_text ltx_font_bold">HD</span> <math id="S3.T2.2.2.2.2.2.2.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S3.T2.2.2.2.2.2.2.m1.1a"><mo stretchy="false" id="S3.T2.2.2.2.2.2.2.m1.1.1" xref="S3.T2.2.2.2.2.2.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S3.T2.2.2.2.2.2.2.m1.1b"><ci id="S3.T2.2.2.2.2.2.2.m1.1.1.cmml" xref="S3.T2.2.2.2.2.2.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.2.2.2.2.2.2.m1.1c">\downarrow</annotation></semantics></math></span>
<span id="S3.T2.3.3.3.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t ltx_colspan ltx_colspan_4"><span id="S3.T2.3.3.3.3.3.3.1" class="ltx_text ltx_font_bold">ASD</span> <math id="S3.T2.3.3.3.3.3.3.m1.1" class="ltx_Math" alttext="\downarrow" display="inline"><semantics id="S3.T2.3.3.3.3.3.3.m1.1a"><mo stretchy="false" id="S3.T2.3.3.3.3.3.3.m1.1.1" xref="S3.T2.3.3.3.3.3.3.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S3.T2.3.3.3.3.3.3.m1.1b"><ci id="S3.T2.3.3.3.3.3.3.m1.1.1.cmml" xref="S3.T2.3.3.3.3.3.3.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T2.3.3.3.3.3.3.m1.1c">\downarrow</annotation></semantics></math></span></span>
<span id="S3.T2.3.3.3.3.4.1" class="ltx_tr">
<span id="S3.T2.3.3.3.3.4.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"></span>
<span id="S3.T2.3.3.3.3.4.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Mean</span>
<span id="S3.T2.3.3.3.3.4.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">LV-endo</span>
<span id="S3.T2.3.3.3.3.4.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">LV-epi</span>
<span id="S3.T2.3.3.3.3.4.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">LA</span>
<span id="S3.T2.3.3.3.3.4.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Mean</span>
<span id="S3.T2.3.3.3.3.4.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">LV-endo</span>
<span id="S3.T2.3.3.3.3.4.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">LV-epi</span>
<span id="S3.T2.3.3.3.3.4.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">LA</span>
<span id="S3.T2.3.3.3.3.4.1.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Mean</span>
<span id="S3.T2.3.3.3.3.4.1.11" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">LV-endo</span>
<span id="S3.T2.3.3.3.3.4.1.12" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">LV-epi</span>
<span id="S3.T2.3.3.3.3.4.1.13" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">LA</span></span>
</span>
<span class="ltx_tbody">
<span id="S3.T2.3.3.3.3.5.1" class="ltx_tr">
<span id="S3.T2.3.3.3.3.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">Real+200%</span>
<span id="S3.T2.3.3.3.3.5.1.2" class="ltx_td ltx_align_center ltx_border_t">0.8685</span>
<span id="S3.T2.3.3.3.3.5.1.3" class="ltx_td ltx_align_center ltx_border_t">0.8931</span>
<span id="S3.T2.3.3.3.3.5.1.4" class="ltx_td ltx_align_center ltx_border_t">0.9200</span>
<span id="S3.T2.3.3.3.3.5.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0.7924</span>
<span id="S3.T2.3.3.3.3.5.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.3.3.3.3.5.1.6.1" class="ltx_text" style="color:#0000FF;">11.57</span></span>
<span id="S3.T2.3.3.3.3.5.1.7" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.3.3.3.3.5.1.7.1" class="ltx_text" style="color:#0000FF;">8.91</span></span>
<span id="S3.T2.3.3.3.3.5.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.3.3.3.3.5.1.8.1" class="ltx_text" style="color:#FF0000;">10.18</span></span>
<span id="S3.T2.3.3.3.3.5.1.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T2.3.3.3.3.5.1.9.1" class="ltx_text" style="color:#0000FF;">15.61</span></span>
<span id="S3.T2.3.3.3.3.5.1.10" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.3.3.3.3.5.1.10.1" class="ltx_text" style="color:#0000FF;">5.38</span></span>
<span id="S3.T2.3.3.3.3.5.1.11" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T2.3.3.3.3.5.1.11.1" class="ltx_text" style="color:#0000FF;">3.61</span></span>
<span id="S3.T2.3.3.3.3.5.1.12" class="ltx_td ltx_align_center ltx_border_t">3.80</span>
<span id="S3.T2.3.3.3.3.5.1.13" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S3.T2.3.3.3.3.5.1.13.1" class="ltx_text" style="color:#FF0000;">6.96</span></span></span>
<span id="S3.T2.3.3.3.3.6.2" class="ltx_tr">
<span id="S3.T2.3.3.3.3.6.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r">Real+100%</span>
<span id="S3.T2.3.3.3.3.6.2.2" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.6.2.2.1" class="ltx_text" style="color:#0000FF;">0.8759</span></span>
<span id="S3.T2.3.3.3.3.6.2.3" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.6.2.3.1" class="ltx_text" style="color:#0000FF;">0.8995</span></span>
<span id="S3.T2.3.3.3.3.6.2.4" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.6.2.4.1" class="ltx_text" style="color:#FF0000;">0.9244</span></span>
<span id="S3.T2.3.3.3.3.6.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S3.T2.3.3.3.3.6.2.5.1" class="ltx_text" style="color:#FF0000;">0.8038</span></span>
<span id="S3.T2.3.3.3.3.6.2.6" class="ltx_td ltx_align_center">12.65</span>
<span id="S3.T2.3.3.3.3.6.2.7" class="ltx_td ltx_align_center">9.55</span>
<span id="S3.T2.3.3.3.3.6.2.8" class="ltx_td ltx_align_center">10.54</span>
<span id="S3.T2.3.3.3.3.6.2.9" class="ltx_td ltx_align_center ltx_border_r">17.85</span>
<span id="S3.T2.3.3.3.3.6.2.10" class="ltx_td ltx_align_center">5.66</span>
<span id="S3.T2.3.3.3.3.6.2.11" class="ltx_td ltx_align_center">3.87</span>
<span id="S3.T2.3.3.3.3.6.2.12" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.6.2.12.1" class="ltx_text" style="color:#FF0000;">3.73</span></span>
<span id="S3.T2.3.3.3.3.6.2.13" class="ltx_td ltx_align_center ltx_border_r">7.58</span></span>
<span id="S3.T2.3.3.3.3.7.3" class="ltx_tr">
<span id="S3.T2.3.3.3.3.7.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r">Real+50%</span>
<span id="S3.T2.3.3.3.3.7.3.2" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.2.1" class="ltx_text" style="color:#FF0000;">0.8721</span></span>
<span id="S3.T2.3.3.3.3.7.3.3" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.3.1" class="ltx_text" style="color:#FF0000;">0.8950</span></span>
<span id="S3.T2.3.3.3.3.7.3.4" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.4.1" class="ltx_text" style="color:#0000FF;">0.9248</span></span>
<span id="S3.T2.3.3.3.3.7.3.5" class="ltx_td ltx_align_center ltx_border_r">0.7966</span>
<span id="S3.T2.3.3.3.3.7.3.6" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.6.1" class="ltx_text" style="color:#FF0000;">11.93</span></span>
<span id="S3.T2.3.3.3.3.7.3.7" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.7.1" class="ltx_text" style="color:#FF0000;">9.08</span></span>
<span id="S3.T2.3.3.3.3.7.3.8" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.8.1" class="ltx_text" style="color:#0000FF;">9.63</span></span>
<span id="S3.T2.3.3.3.3.7.3.9" class="ltx_td ltx_align_center ltx_border_r">17.09</span>
<span id="S3.T2.3.3.3.3.7.3.10" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.10.1" class="ltx_text" style="color:#FF0000;">5.46</span></span>
<span id="S3.T2.3.3.3.3.7.3.11" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.11.1" class="ltx_text" style="color:#FF0000;">3.64</span></span>
<span id="S3.T2.3.3.3.3.7.3.12" class="ltx_td ltx_align_center"><span id="S3.T2.3.3.3.3.7.3.12.1" class="ltx_text" style="color:#0000FF;">3.63</span></span>
<span id="S3.T2.3.3.3.3.7.3.13" class="ltx_td ltx_align_center ltx_border_r">7.30</span></span>
<span id="S3.T2.3.3.3.3.8.4" class="ltx_tr">
<span id="S3.T2.3.3.3.3.8.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r">Real</span>
<span id="S3.T2.3.3.3.3.8.4.2" class="ltx_td ltx_align_center">0.8700</span>
<span id="S3.T2.3.3.3.3.8.4.3" class="ltx_td ltx_align_center">0.8902</span>
<span id="S3.T2.3.3.3.3.8.4.4" class="ltx_td ltx_align_center">0.9206</span>
<span id="S3.T2.3.3.3.3.8.4.5" class="ltx_td ltx_align_center ltx_border_r">0.7991</span>
<span id="S3.T2.3.3.3.3.8.4.6" class="ltx_td ltx_align_center">15.02</span>
<span id="S3.T2.3.3.3.3.8.4.7" class="ltx_td ltx_align_center">9.48</span>
<span id="S3.T2.3.3.3.3.8.4.8" class="ltx_td ltx_align_center">10.96</span>
<span id="S3.T2.3.3.3.3.8.4.9" class="ltx_td ltx_align_center ltx_border_r">24.62</span>
<span id="S3.T2.3.3.3.3.8.4.10" class="ltx_td ltx_align_center">6.15</span>
<span id="S3.T2.3.3.3.3.8.4.11" class="ltx_td ltx_align_center">3.79</span>
<span id="S3.T2.3.3.3.3.8.4.12" class="ltx_td ltx_align_center">3.97</span>
<span id="S3.T2.3.3.3.3.8.4.13" class="ltx_td ltx_align_center ltx_border_r">8.33</span></span>
<span id="S3.T2.3.3.3.3.9.5" class="ltx_tr">
<span id="S3.T2.3.3.3.3.9.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r">SDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite></span>
<span id="S3.T2.3.3.3.3.9.5.2" class="ltx_td ltx_align_center ltx_border_b">0.8576</span>
<span id="S3.T2.3.3.3.3.9.5.3" class="ltx_td ltx_align_center ltx_border_b">0.8661</span>
<span id="S3.T2.3.3.3.3.9.5.4" class="ltx_td ltx_align_center ltx_border_b">0.9006</span>
<span id="S3.T2.3.3.3.3.9.5.5" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S3.T2.3.3.3.3.9.5.5.1" class="ltx_text" style="color:#0000FF;">0.8061</span></span>
<span id="S3.T2.3.3.3.3.9.5.6" class="ltx_td ltx_align_center ltx_border_b">13.83</span>
<span id="S3.T2.3.3.3.3.9.5.7" class="ltx_td ltx_align_center ltx_border_b">12.87</span>
<span id="S3.T2.3.3.3.3.9.5.8" class="ltx_td ltx_align_center ltx_border_b">11.76</span>
<span id="S3.T2.3.3.3.3.9.5.9" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S3.T2.3.3.3.3.9.5.9.1" class="ltx_text" style="color:#FF0000;">16.84</span></span>
<span id="S3.T2.3.3.3.3.9.5.10" class="ltx_td ltx_align_center ltx_border_b">5.52</span>
<span id="S3.T2.3.3.3.3.9.5.11" class="ltx_td ltx_align_center ltx_border_b">4.65</span>
<span id="S3.T2.3.3.3.3.9.5.12" class="ltx_td ltx_align_center ltx_border_b">4.61</span>
<span id="S3.T2.3.3.3.3.9.5.13" class="ltx_td ltx_align_center ltx_border_b ltx_border_r"><span id="S3.T2.3.3.3.3.9.5.13.1" class="ltx_text" style="color:#0000FF;">6.43</span></span></span>
</span>
</span></span></p>
</span></div>
</figure>
<div id="S3.SS1.p4" class="ltx_para">
<p id="S3.SS1.p4.1" class="ltx_p">We investigated multiple data augmentation methods, including only real images (Real), a combination of 1600 real with 800 synthetic images (Real+50%), 1600 real with 1600 synthetic images (Real+100%), and 1600 real with 3200 synthetic images (Real+200%). These synthetic images were created using our text+segmentation model. For validation, we used 50 held-out patients, following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> (It is noteworthy to mention that <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite> developed their segmentation model using 8000 synthetic images.).
<a href="#S3.T2" title="Table 2 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 2</span></a> and <a href="#S3.T3.st2" title="3(b) ‣ Table 3 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">3(b)</span></a> present the comparative effectiveness of our generated data in diverse scenarios. Specifically, <a href="#S3.T2" title="Table 2 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">Table 2</span></a> shows that our synthetic data distinctly impact the performance of different models, resulting in additional performance gains when utilizing data generated with comprehensive guidance compared to other competitors, as evidenced by various evaluation metrics. This also aligns with the visual comparison of echo segmentation in <a href="#S3.T3.st1" title="3(a) ‣ Table 3 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">3(a)</span></a> which indicates that our text+segmentation guided model can produce echo images with better overall realism and a tendency to adhere to anatomical input constraints. Lastly, the classification results shown in <a href="#S3.T3.st2" title="3(b) ‣ Table 3 ‣ 3.1 Image Synthesis ‣ 3 Results ‣ Vision-Language Synthetic Data Enhances Echocardiography Downstream Tasks" class="ltx_ref ltx_refmacro_autoref"><span class="ltx_text ltx_ref_tag">3(b)</span></a> highlight the value of synthetic data, demonstrating that image-level details (text prompts) outperform those from full guidance (text+segmentation).</p>
</div>
<figure id="S3.T3" class="ltx_table">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S3.T3.4.1.1" class="ltx_text" style="font-size:90%;">Table 3</span>: </span><span id="S3.T3.5.2" class="ltx_text" style="font-size:90%;">(a) Sample segmentation results of different configurations. Text+segmentation model exhibits finer boundaries (high-fidelity details) for different regions with fewer false positive predictions. (b) Downstream echo classification of ED/ES results (performed with Real+100% approach) using Accuracy (ACC), Precision (PR), Recall (RC), and F1 metrics. <span id="S3.T3.5.2.1" class="ltx_text" style="color:#0000FF;">Blue</span> and <span id="S3.T3.5.2.2" class="ltx_text" style="color:#FF0000;">red</span> indicates the best and the second-best results.</span></figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.T3.st1" class="ltx_table ltx_figure_panel">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T3.st1.3.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S3.T3.st1.4.2" class="ltx_text" style="font-size:90%;">Segmentation Results</span></figcaption>
<table id="S3.T3.st1.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T3.st1.1.1" class="ltx_tr">
<td id="S3.T3.st1.1.1.1" class="ltx_td ltx_align_center"><img src="/html/2403.19880/assets/x3.png" id="S3.T3.st1.1.1.1.g1" class="ltx_graphics ltx_img_landscape" width="461" height="289" alt="[Uncaptioned image]"></td>
</tr>
</tbody>
</table>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.T3.st2" class="ltx_table ltx_figure_panel">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S3.T3.st2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S3.T3.st2.4.2" class="ltx_text" style="font-size:90%;">Classification</span></figcaption>
<div id="S3.T3.st2.1" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:256.3pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(34.1pt,-20.1pt) scale(1.18656394535355,1.18656394535355) ;">
<table id="S3.T3.st2.1.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S3.T3.st2.1.1.1" class="ltx_tr">
<th id="S3.T3.st2.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr ltx_border_tt" rowspan="2"><span id="S3.T3.st2.1.1.1.2.1" class="ltx_text ltx_font_bold">Methods &amp; dataset</span></th>
<td id="S3.T3.st2.1.1.1.1" class="ltx_td ltx_align_center ltx_border_tt" colspan="4">
<span id="S3.T3.st2.1.1.1.1.1" class="ltx_text ltx_font_bold">Metrics</span> <math id="S3.T3.st2.1.1.1.1.m1.1" class="ltx_Math" alttext="\uparrow" display="inline"><semantics id="S3.T3.st2.1.1.1.1.m1.1a"><mo stretchy="false" id="S3.T3.st2.1.1.1.1.m1.1.1" xref="S3.T3.st2.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S3.T3.st2.1.1.1.1.m1.1b"><ci id="S3.T3.st2.1.1.1.1.m1.1.1.cmml" xref="S3.T3.st2.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.st2.1.1.1.1.m1.1c">\uparrow</annotation></semantics></math>
</td>
</tr>
<tr id="S3.T3.st2.1.1.2.1" class="ltx_tr">
<td id="S3.T3.st2.1.1.2.1.1" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.st2.1.1.2.1.1.1" class="ltx_text ltx_font_bold">ACC</span></td>
<td id="S3.T3.st2.1.1.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.st2.1.1.2.1.2.1" class="ltx_text ltx_font_bold">PR</span></td>
<td id="S3.T3.st2.1.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.st2.1.1.2.1.3.1" class="ltx_text ltx_font_bold">RC</span></td>
<td id="S3.T3.st2.1.1.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S3.T3.st2.1.1.2.1.4.1" class="ltx_text ltx_font_bold">F1</span></td>
</tr>
<tr id="S3.T3.st2.1.1.3.2" class="ltx_tr">
<th id="S3.T3.st2.1.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr ltx_border_t">ResNet18 (Real data only)</th>
<td id="S3.T3.st2.1.1.3.2.2" class="ltx_td ltx_align_center ltx_border_t">0.8400</td>
<td id="S3.T3.st2.1.1.3.2.3" class="ltx_td ltx_align_center ltx_border_t">0.8400</td>
<td id="S3.T3.st2.1.1.3.2.4" class="ltx_td ltx_align_center ltx_border_t">0.8400</td>
<td id="S3.T3.st2.1.1.3.2.5" class="ltx_td ltx_align_center ltx_border_t">0.8399</td>
</tr>
<tr id="S3.T3.st2.1.1.4.3" class="ltx_tr">
<th id="S3.T3.st2.1.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr">ResNet18 (Unconditional)</th>
<td id="S3.T3.st2.1.1.4.3.2" class="ltx_td ltx_align_center">0.8350</td>
<td id="S3.T3.st2.1.1.4.3.3" class="ltx_td ltx_align_center">0.8366</td>
<td id="S3.T3.st2.1.1.4.3.4" class="ltx_td ltx_align_center">0.8350</td>
<td id="S3.T3.st2.1.1.4.3.5" class="ltx_td ltx_align_center">0.8347</td>
</tr>
<tr id="S3.T3.st2.1.1.5.4" class="ltx_tr">
<th id="S3.T3.st2.1.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr">ResNet18 (Text-Conditioned)</th>
<td id="S3.T3.st2.1.1.5.4.2" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.5.4.2.1" class="ltx_text" style="color:#0000FF;">0.8700</span></td>
<td id="S3.T3.st2.1.1.5.4.3" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.5.4.3.1" class="ltx_text" style="color:#0000FF;">0.8773</span></td>
<td id="S3.T3.st2.1.1.5.4.4" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.5.4.4.1" class="ltx_text" style="color:#0000FF;">0.8700</span></td>
<td id="S3.T3.st2.1.1.5.4.5" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.5.4.5.1" class="ltx_text" style="color:#0000FF;">0.8693</span></td>
</tr>
<tr id="S3.T3.st2.1.1.6.5" class="ltx_tr">
<th id="S3.T3.st2.1.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr">ResNet18 (SDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>)</th>
<td id="S3.T3.st2.1.1.6.5.2" class="ltx_td ltx_align_center">0.8300</td>
<td id="S3.T3.st2.1.1.6.5.3" class="ltx_td ltx_align_center">0.8311</td>
<td id="S3.T3.st2.1.1.6.5.4" class="ltx_td ltx_align_center">0.8300</td>
<td id="S3.T3.st2.1.1.6.5.5" class="ltx_td ltx_align_center">0.8298</td>
</tr>
<tr id="S3.T3.st2.1.1.7.6" class="ltx_tr">
<th id="S3.T3.st2.1.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr">ResNet18 (Text+Segmentation)</th>
<td id="S3.T3.st2.1.1.7.6.2" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.7.6.2.1" class="ltx_text" style="color:#FF0000;">0.8650</span></td>
<td id="S3.T3.st2.1.1.7.6.3" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.7.6.3.1" class="ltx_text" style="color:#FF0000;">0.8659</span></td>
<td id="S3.T3.st2.1.1.7.6.4" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.7.6.4.1" class="ltx_text" style="color:#FF0000;">0.8650</span></td>
<td id="S3.T3.st2.1.1.7.6.5" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.7.6.5.1" class="ltx_text" style="color:#FF0000;">0.8640</span></td>
</tr>
<tr id="S3.T3.st2.1.1.8.7" class="ltx_tr">
<th id="S3.T3.st2.1.1.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr ltx_border_tt">VGG16 (Real data only)</th>
<td id="S3.T3.st2.1.1.8.7.2" class="ltx_td ltx_align_center ltx_border_tt">0.7450</td>
<td id="S3.T3.st2.1.1.8.7.3" class="ltx_td ltx_align_center ltx_border_tt">0.7471</td>
<td id="S3.T3.st2.1.1.8.7.4" class="ltx_td ltx_align_center ltx_border_tt">0.7450</td>
<td id="S3.T3.st2.1.1.8.7.5" class="ltx_td ltx_align_center ltx_border_tt">0.7445</td>
</tr>
<tr id="S3.T3.st2.1.1.9.8" class="ltx_tr">
<th id="S3.T3.st2.1.1.9.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr">VGG16 (Uniconditional)</th>
<td id="S3.T3.st2.1.1.9.8.2" class="ltx_td ltx_align_center">0.7500</td>
<td id="S3.T3.st2.1.1.9.8.3" class="ltx_td ltx_align_center">0.7549</td>
<td id="S3.T3.st2.1.1.9.8.4" class="ltx_td ltx_align_center">7500</td>
<td id="S3.T3.st2.1.1.9.8.5" class="ltx_td ltx_align_center">0.7487</td>
</tr>
<tr id="S3.T3.st2.1.1.10.9" class="ltx_tr">
<th id="S3.T3.st2.1.1.10.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr">VGG16 (Text-Conditioned)</th>
<td id="S3.T3.st2.1.1.10.9.2" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.10.9.2.1" class="ltx_text" style="color:#0000FF;">0.7850</span></td>
<td id="S3.T3.st2.1.1.10.9.3" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.10.9.3.1" class="ltx_text" style="color:#0000FF;">0.7850</span></td>
<td id="S3.T3.st2.1.1.10.9.4" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.10.9.4.1" class="ltx_text" style="color:#0000FF;">0.7850</span></td>
<td id="S3.T3.st2.1.1.10.9.5" class="ltx_td ltx_align_center"><span id="S3.T3.st2.1.1.10.9.5.1" class="ltx_text" style="color:#0000FF;">0.7849</span></td>
</tr>
<tr id="S3.T3.st2.1.1.11.10" class="ltx_tr">
<th id="S3.T3.st2.1.1.11.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_rr">VGG16 (SDM <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>)</th>
<td id="S3.T3.st2.1.1.11.10.2" class="ltx_td ltx_align_center">0.7600</td>
<td id="S3.T3.st2.1.1.11.10.3" class="ltx_td ltx_align_center">0.7687</td>
<td id="S3.T3.st2.1.1.11.10.4" class="ltx_td ltx_align_center">0.7600</td>
<td id="S3.T3.st2.1.1.11.10.5" class="ltx_td ltx_align_center">0.7580</td>
</tr>
<tr id="S3.T3.st2.1.1.12.11" class="ltx_tr">
<th id="S3.T3.st2.1.1.12.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_rr">VGG16 (Text+Segmentation)</th>
<td id="S3.T3.st2.1.1.12.11.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.st2.1.1.12.11.2.1" class="ltx_text" style="color:#FF0000;">0.7750</span></td>
<td id="S3.T3.st2.1.1.12.11.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.st2.1.1.12.11.3.1" class="ltx_text" style="color:#FF0000;">0.7763</span></td>
<td id="S3.T3.st2.1.1.12.11.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.st2.1.1.12.11.4.1" class="ltx_text" style="color:#FF0000;">0.7750</span></td>
<td id="S3.T3.st2.1.1.12.11.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="S3.T3.st2.1.1.12.11.5.1" class="ltx_text" style="color:#FF0000;">0.7747</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</div>
</div>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Conclusion</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">Generating echocardiograms poses unique challenges compared to standard computer vision tasks due to the inherent noise in ultrasound images. In this paper, we demonstrate the first attempt to synthesize echo images using a diffusion-based model with both semantic segmentation map and text supervision which is an optimal way to guide models in generating high-fidelity yet diverse images. We prove this hypothesis about generation through extensive experiments with different prompting scenarios, along with two downstream tasks showcasing the effectiveness of the synthesized data.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgment</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">We acknowledge the support of the Natural Sciences and Engineering Research Council of Canada (NSERC), [funding reference number RGPIN-2023-03575].
Cette recherche a été financée par le Conseil de recherches en sciences naturelles et en génie du Canada (CRSNG), [numéro de référence RGPIN-2023-03575].</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Adhikari, R., Dhakal, M., Thapaliya, S., Poudel, K., Bhandari, P., Khanal, B.: Synthetic boost: Leveraging synthetic data for enhanced vision-language segmentation in echocardiography. In: International Workshop on Advances in Simplifying Medical Ultrasound. pp. 89–99. Springer (2023)

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Bińkowski, M., Sutherland, D.J., Arbel, M., Gretton, A.: Demystifying mmd gans. arXiv preprint arXiv:1801.01401 (2018)

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Chen, C.F.R., Fan, Q., Panda, R.: Crossvit: Cross-attention multi-scale vision transformer for image classification. In: Proceedings of the IEEE/CVF international conference on computer vision. pp. 357–366 (2021)

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Dhariwal, P., Nichol, A.: Diffusion models beat gans on image synthesis. Advances in neural information processing systems <span id="bib.bib4.1.1" class="ltx_text ltx_font_bold">34</span>, 8780–8794 (2021)

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Fiaz, M., Heidari, M., Anwer, R.M., Cholakkal, H.: Sa2-net: Scale-aware attention network for microscopic image segmentation (2022)

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Goodfellow, I., Pouget-Abadie, J., Mirza, M., Xu, B., Warde-Farley, D., Ozair, S., Courville, A., Bengio, Y.: Generative adversarial nets. Advances in neural information processing systems <span id="bib.bib6.1.1" class="ltx_text ltx_font_bold">27</span> (2014)

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Heidenreich, P.A., Trogdon, J.G., Khavjou, O.A., Butler, J., Dracup, K., Ezekowitz, M.D., Finkelstein, E.A., Hong, Y., Johnston, S.C., Khera, A., et al.: Forecasting the future of cardiovascular disease in the united states: a policy statement from the american heart association. Circulation <span id="bib.bib7.1.1" class="ltx_text ltx_font_bold">123</span>(8), 933–944 (2011)

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Heusel, M., Ramsauer, H., Unterthiner, T., Nessler, B., Hochreiter, S.: Gans trained by a two time-scale update rule converge to a local nash equilibrium. Advances in neural information processing systems <span id="bib.bib8.1.1" class="ltx_text ltx_font_bold">30</span> (2017)

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Ho, J., Jain, A., Abbeel, P.: Denoising diffusion probabilistic models. Advances in neural information processing systems <span id="bib.bib9.1.1" class="ltx_text ltx_font_bold">33</span>, 6840–6851 (2020)

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Iqbal, H., Khalid, U., Chen, C., Hua, J.: Unsupervised anomaly detection in medical images using masked diffusion model. In: International Workshop on Machine Learning in Medical Imaging. pp. 372–381. Springer (2023)

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Kazerouni, A., Aghdam, E.K., Heidari, M., Azad, R., Fayyaz, M., Hacihaliloglu, I., Merhof, D.: Diffusion models for medical image analysis: A comprehensive survey. arXiv preprint arXiv:2211.07804 (2022)

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Khader, F., Mueller-Franzes, G., Arasteh, S.T., Han, T., Haarburger, C., Schulze-Hagen, M., Schad, P., Engelhardt, S., Baessler, B., Foersch, S., et al.: Medical diffusion–denoising diffusion probabilistic models for 3d medical image generation. arXiv preprint arXiv:2211.03364 (2022)

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Leclerc, S., Smistad, E., Pedrosa, J., Østvik, A., Cervenansky, F., Espinosa, F., Espeland, T., Berg, E.A.R., Jodoin, P.M., Grenier, T., et al.: Deep learning for segmentation using an open large-scale dataset in 2d echocardiography. IEEE transactions on medical imaging <span id="bib.bib13.1.1" class="ltx_text ltx_font_bold">38</span>(9), 2198–2210 (2019)

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Lin, L., Li, Z., Li, R., Li, X., Gao, J.: Diffusion models for time-series applications: a survey. Frontiers of Information Technology &amp; Electronic Engineering pp. 1–23 (2023)

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Olive Pellicer, A., Yadav, A.K.S., Bhagtani, K., Xiang, Z., Pizlo, Z., Gradus-Pizlo, I., Delp, E.J.: Synthetic echocardiograms generation using diffusion models. bioRxiv pp. 2023–11 (2023)

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Peng, W., Adeli, E., Bosschieter, T., Park, S.H., Zhao, Q., Pohl, K.M.: Generating realistic brain mris via a conditional diffusion probabilistic model. In: International Conference on Medical Image Computing and Computer-Assisted Intervention. pp. 14–24. Springer (2023)

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Radford, A., Kim, J.W., Hallacy, C., Ramesh, A., Goh, G., Agarwal, S., Sastry, G., Askell, A., Mishkin, P., Clark, J., et al.: Learning transferable visual models from natural language supervision. In: International conference on machine learning. pp. 8748–8763. PMLR (2021)

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Reynaud, H., Qiao, M., Dombrowski, M., Day, T., Razavi, R., Gomez, A., Leeson, P., Kainz, B.: Feature-conditioned cascaded video diffusion models for precise echocardiogram synthesis. arXiv preprint arXiv:2303.12644 (2023)

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Rombach, R., Blattmann, A., Lorenz, D., Esser, P., Ommer, B.: High-resolution image synthesis with latent diffusion models. In: Proceedings of the IEEE/CVF conference on computer vision and pattern recognition. pp. 10684–10695 (2022)

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Ronneberger, O., Fischer, P., Brox, T.: U-net: Convolutional networks for biomedical image segmentation. In: Medical Image Computing and Computer-Assisted Intervention–MICCAI 2015: 18th International Conference, Munich, Germany, October 5-9, 2015, Proceedings, Part III 18. pp. 234–241. Springer (2015)

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Skandarani, Y., Jodoin, P.M., Lalande, A.: Gans for medical image synthesis: An empirical study. Journal of Imaging <span id="bib.bib21.1.1" class="ltx_text ltx_font_bold">9</span>(3),  69 (2023)

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Stevens, T.S., Meral, F.C., Yu, J., Apostolakis, I.Z., Robert, J.L., Van Sloun, R.J.: Dehazing ultrasound using diffusion models. IEEE Transactions on Medical Imaging (2024)

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Stojanovski, D., Hermida, U., Lamata, P., Beqiri, A., Gomez, A.: Echo from noise: synthetic ultrasound image generation using diffusion models for real image segmentation. International Workshop on Advances in Simplifying Medical Ultrasound, MICCAI-ASMUS (2023)

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Tang, F., Ding, J., Wang, L., Xian, M., Ning, C.: Multi-level global context cross consistency model for semi-supervised ultrasound image segmentation with diffusion model. arXiv preprint arXiv:2305.09447 (2023)

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Wang, W., Bao, J., Zhou, W., Chen, D., Chen, D., Yuan, L., Li, H.: Semantic image synthesis via diffusion models. arXiv preprint arXiv:2207.00050 (2022)

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Wolleb, J., Sandkühler, R., Bieder, F., Valmaggia, P., Cattin, P.C.: Diffusion models for implicit image segmentation ensembles. In: International Conference on Medical Imaging with Deep Learning. pp. 1336–1348. PMLR (2022)

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Zhang, L., Rao, A., Agrawala, M.: Adding conditional control to text-to-image diffusion models. In: Proceedings of the IEEE/CVF International Conference on Computer Vision. pp. 3836–3847 (2023)

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
Zhao, W., Bai, L., Rao, Y., Zhou, J., Lu, J.: Unipc: A unified predictor-corrector framework for fast sampling of diffusion models. Advances in Neural Information Processing Systems <span id="bib.bib28.1.1" class="ltx_text ltx_font_bold">36</span> (2024)

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Zhou, M., Khalvati, F.: Conditional generation of 3d brain tumor regions via vqgan and temporal-agnostic masked transformer. In: Medical Imaging with Deep Learning (2024)

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="Pt0.Ax1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">Appendix</h2>

<figure id="Pt0.Ax1.F3" class="ltx_figure"><img src="/html/2403.19880/assets/x4.png" id="Pt0.Ax1.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="314" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="Pt0.Ax1.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="Pt0.Ax1.F3.3.2" class="ltx_text" style="font-size:90%;">This figure showcases a selection of synthetic images generated by our models, illustrating various characteristics and outcomes. The unconditional model produced images with generally low brightness, particularly in the 2CH views, and some instances of anatomical mirroring can be observed in the 4CH-ES images (top row). The text-conditioned models, aligning with the previously reported FID scores in the paper, indicate poor performance in 2CH-ES results. However, they successfully depicted both the open and closed states of the mitral valve in the third and fourth columns of the middle row. Additionally, the text+segmentation model was distinguished by its generation of images with notably higher contrast, demonstrating the capabilities of our approaches in producing diverse, high-fidelity images.</span></figcaption>
</figure>
<figure id="Pt0.Ax1.F4" class="ltx_figure"><img src="/html/2403.19880/assets/x5.png" id="Pt0.Ax1.F4.g1" class="ltx_graphics ltx_centering ltx_img_square" width="461" height="424" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="Pt0.Ax1.F4.2.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="Pt0.Ax1.F4.3.2" class="ltx_text" style="font-size:90%;">Illustration of some selected failure cases of our Real+100% segmentation model, highlighting specific challenges encountered during validation. In the top row, we observe a rare scenario from our validation set characterized by a small area of interest, where the model incorrectly identifies the entire surface of the Left Ventricle (LV) and Left Atrium (LA) as the LV endocardium in the predicted map. The second row illustrates a case of label confusion, where the LA label erroneously merges with the LV endocardium, leading to inaccurate segmentation. Finally, the third row shows a misguidance example, where a black circled area at the bottom of the LA has misled the model, resulting in a deviation from the correct LA label prediction. Upon examination of these phenomena, we concluded that the regions demonstrating failures are infrequently represented in the training set, which hinders the model’s ability to properly interpret text or segmentation guidance. It is noteworthy to mention that our segmentation network employs a simple, lightweight UNet architecture as our main goal was just to demonstrate the potential of the synthesized data in enhancing the performance of downstream tasks. These instances underscore the complexity of accurately modeling cardiac structures and the potential for improvement in our segmentation approach.</span></figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2403.19879" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2403.19880" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2403.19880">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2403.19880" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2403.19881" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Fri Apr  5 18:10:40 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
