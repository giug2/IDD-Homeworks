<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2103.13266] Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications</title><meta property="og:description" content="Pervasive computing applications commonly involve user’s personal smartphones collecting data to influence application behavior. Applications are often backed by models that learn from the user’s experiences to provide…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2103.13266">

<!--Generated on Wed Mar  6 14:24:10 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
pervasive computing,  federated learning,  collaborative deep learning,  distributed machine learning
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div id="p1" class="ltx_para">
<span id="p1.1" class="ltx_ERROR undefined">\SetWatermarkText</span>
</div>
<h1 class="ltx_title ltx_title_document">Opportunistic Federated Learning:
<br class="ltx_break">An Exploration of
Egocentric Collaboration for Pervasive Computing Applications</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Sangsu Lee2, Xi Zheng3, Jie Hua2, Haris Vikalo2, Christine Julien2
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation">2Department of Electrical and Computer Engineering, University of Texas at Austin

<br class="ltx_break">{sethlee, mich94hj, c.julien}@utexas.edu, hvikalo@ece.utexas.edu
</span>
<span class="ltx_contact ltx_role_affiliation">3Department
of Computing, Macquarie University, james.zheng@mq.edu.au
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Pervasive computing applications commonly involve user’s personal smartphones collecting data to influence application behavior. Applications are often backed by models that learn from the user’s experiences to provide personalized and responsive behavior. While models are often pre-trained on massive datasets, <span id="id1.id1.1" class="ltx_text ltx_font_italic">federated learning</span> has gained attention for its ability to train globally shared models on users’ private data without requiring the users to share their data directly. However, federated learning requires devices to collaborate via a central server, under the assumption that all users desire to learn the same model. We define a new approach, <span id="id1.id1.2" class="ltx_text ltx_font_italic">opportunistic federated learning</span>, in which individual devices belonging to different users seek to learn robust models that are <span id="id1.id1.3" class="ltx_text ltx_font_italic">personalized</span> to their user’s own experiences. However, instead of learning in isolation, these models opportunistically incorporate the learned experiences of other devices they encounter opportunistically. In this paper, we explore the feasibility and limits of such an approach, culminating in a framework that supports encounter-based pairwise collaborative learning. The use of our opportunistic encounter-based learning amplifies the performance of personalized learning while resisting overfitting to encountered data.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
pervasive computing, federated learning, collaborative deep learning, distributed machine learning

</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Smartphones, wearable devices, and other devices that fill pervasive computing environments are imbued with increasingly complex sensing, computation, and communication. However, applications still primarily rely on centrally located servers to support building and executing predictive models for real-time interactions. In this paper, we define <span id="S1.p1.1.1" class="ltx_text ltx_font_italic">opportunistic federated learning</span>, which explores the potential for device-to-device collaboration to build expressive, accurate, and personalized models for use in pervasive computing applications.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p"><span id="S1.p2.1.1" class="ltx_text ltx_font_bold">The Setting.</span> We consider pervasive computing applications that rely on models for classification, recommendation, or prediction. Examples include predicting the next word a smartphone user might type, classifying objects in a captured image, or predicting whether a captured photo is likely to be shared on social media. The training data for these models is <span id="S1.p2.1.2" class="ltx_text ltx_font_italic">crowdsourced</span> – it is generated by a distributed set of independent devices. The derived models are potentially <span id="S1.p2.1.3" class="ltx_text ltx_font_italic">personal</span>, both with respect to the fact that their outputs may be tailored to an individual and to the fact that the training data may be privileged, private, or proprietary. The goal is not for devices to converge to a single global model but rather for them to selectively collaborate to construct personalized goal models. The devices comprising pervasive computing environments are generally commodity smartphones, with on-board computing, storage, and wireless communication (e.g., WiFi and Bluetooth). They are resource constrained in energy, computation, and communication, yet they are capable of communicating directly with one another through opportunistic encounters.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p"><span id="S1.p3.1.1" class="ltx_text ltx_font_bold">Contributions.</span> We introduce <span id="S1.p3.1.2" class="ltx_text ltx_font_italic">opportunistic federated learning</span> and a novel approach to model sharing that we term <span id="S1.p3.1.3" class="ltx_text ltx_font_italic">opportunistic momentum</span>. Devices belonging to individuals are bootstrapped with an initial model, which they <span id="S1.p3.1.4" class="ltx_text ltx_font_italic">personalize</span> based on their experiences, as represented by the data collected by the device. When a device (the <span id="S1.p3.1.5" class="ltx_text ltx_font_italic">learner</span>) encounters another device opportunistically (the <span id="S1.p3.1.6" class="ltx_text ltx_font_italic">neighbor</span>), it uses a summary of the neighbor’s available data to determine whether asking for learning support is (1) beneficial, based on the similarity (or dissimilarity) in their training data and learning goals and (2) feasible, based on the expected duration of the potentially fleeting encounter. The latter is predicted based on real-time information about mobility patterns and other context. If model collaboration is likely beneficial and feasible, the devices opportunistically exchange model gradients to generate a new local model for the learner. We present our approach as an egocentric one; of course it is possible that both devices in a pair can benefit from the assistance of the other, and an encounter may be used to support both participants as learners, depending on communication and computation constraints. Concretely, the paper’s novel contributions are:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We introduce <span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">opportunistic federated learning</span> as an architectural pattern for learning from encounters and <span id="S1.I1.i1.p1.1.2" class="ltx_text ltx_font_italic">opportunistic momentum</span> as an algorithmic tool for incorporating experiences of others.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We examine the feasibility of opportunistic federated learning with respect to realistic differences in data distributions in pervasive computing networks.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">We examine the practicality of opportunistic federated learning with respect to the duration of encounters in pervasive computing applications.</p>
</div>
</li>
</ul>
<p id="S1.p3.2" class="ltx_p">In the long term, opportunistic federated learning will be one piece of a larger ecosystem in which cloud, edge, and opportunistic interactions are used in concert based on the instantaneous network conditions and application requirements.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Motivation and Related Work</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text ltx_font_bold">Motivating Applications.</span>
Pervasive computing is teeming with applications that benefit from machine learning but for which training data is inherently private. These applications are often best served by <span id="S2.p1.1.2" class="ltx_text ltx_font_italic">personalized</span> models. We focus on problems where the training task is <span id="S2.p1.1.3" class="ltx_text ltx_font_italic">self-labeling</span>, including applications like keyboards that predict the next emoji the user will select based on the text they have typed <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx29" title="" class="ltx_ref">29</a>]</cite>, activity recognition on smartphones <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx31" title="" class="ltx_ref">31</a>]</cite>, or predictions of the popularity of content in social networks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx37" title="" class="ltx_ref">37</a>]</cite>. Self-labeling data makes it possible for devices to generate training data on-the-fly as part of a user’s normal interaction with their device.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">Different devices may have different experiences and generate widely varying data. We capture this diversity as a skew in the devices’ <span id="S2.p2.1.1" class="ltx_text ltx_font_italic">data label distributions</span>, i.e., the fraction of each label that a device “sees” <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx25" title="" class="ltx_ref">25</a>, <a href="#bib.bibx33" title="" class="ltx_ref">33</a>]</cite>. A car driven primarily on local roads may have very few images of semi-trucks in its data set, while a long-haul truck may have few samples of bicycles or children playing. An pedestrian application that recognizes landmarks might collect images of trees, mailboxes, and stop signs in the suburbs; the same application in a city center might see traffic lights, large buildings, and road signs. In emoji prediction, the emojis used by a teenager are likely to be very different from those used by a middle-aged adult.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">Different devices may also have different <span id="S2.p3.1.1" class="ltx_text ltx_font_italic">goal distribution</span>, i.e., the subset of labels the device wants to be able to classify correctly. While some goal distributions may be the entire set of labels, many goal distributions will be a subset of the label space. An object recognition system for vehicles may need to learn the entire label set for safety reasons. A landmark recognition system’s goal distribution may be identical to its data distribution. And a user’s emoji goal distribution may include any emoji used by others of a similar demographic. Mobile devices are capable of on-device training but they do not want to share raw data. However, they may learn from neighboring devices that they encounter opportunistically. The characteristics that underlie our target applications are:</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p"><span id="S2.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">data distribution diversity</span>: the data one device encounters often differs from the data other devices encounter</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p"><span id="S2.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">goal set diversity</span>: two devices’ goal distributions may be very different and may differ from the data distributions</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p"><span id="S2.I1.i3.p1.1.1" class="ltx_text ltx_font_italic">encounter benefit</span>: devices benefit from opportunistic collaboration, but the benefits depend on overlaps between the devices’ goal and data label distributions</p>
</div>
</li>
<li id="S2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i4.p1" class="ltx_para">
<p id="S2.I1.i4.p1.1" class="ltx_p"><span id="S2.I1.i4.p1.1.1" class="ltx_text ltx_font_italic">data privacy</span>: devices are not willing to share their raw data with other devices they encounter opportunistically</p>
</div>
</li>
</ul>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p"><span id="S2.p4.1.1" class="ltx_text ltx_font_bold">Background and Related Work.</span> As the capabilities of devices and the desire for data privacy have increased, federated and decentralized learning have emerged. We take for granted that deep learning has already moved into the pervasive computing world and focus here on efforts that go beyond applying inference to also enable some form of learning within the pervasive computing devices.</p>
</div>
<div id="S2.p5" class="ltx_para">
<p id="S2.p5.1" class="ltx_p">In federated learning, devices collaborate to construct a global model in a way that enables each individual device to maintain the privacy of its own data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx21" title="" class="ltx_ref">21</a>, <a href="#bib.bibx28" title="" class="ltx_ref">28</a>]</cite>. Classically, a central coordinator orchestrates the process by delivering a model to each remote device, collecting and aggregating devices’ contributions to training that model, then generating and distributing an updated model to continue the process. There are many applications of federated learning in pervasive computing. Wake word detection, also known as keyword spotting in smart home voice assistants, can use federated learning, protecting the potentially private audio data collected at users’ end devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx24" title="" class="ltx_ref">24</a>]</cite>. One of the most classic federated learning applications is next word prediction on a mobile device keyboard <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx11" title="" class="ltx_ref">11</a>]</cite>. Still other applications have explored on-device image classification and image processing <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx35" title="" class="ltx_ref">35</a>]</cite>.</p>
</div>
<div id="S2.p6" class="ltx_para">
<p id="S2.p6.1" class="ltx_p">Recent work has also explored distributing the federated learning task across a hierarchical edge network <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx13" title="" class="ltx_ref">13</a>]</cite> or selecting a coordinator from among a set of fog nodes <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx36" title="" class="ltx_ref">36</a>]</cite>. These approaches are driven by a single coordinator and aim to learn a single global model. This differs from our goal, in which the effort is distributed and opportunistic, with each device operating egocentrically to improve its own model.</p>
</div>
<div id="S2.p7" class="ltx_para">
<p id="S2.p7.1" class="ltx_p">Related efforts in decentralized and personalized learning remove the coordinator. Some approaches frame the goal as a distributed consensus problem and rely solely on peer-to-peer interactions to disseminate model updates <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx6" title="" class="ltx_ref">6</a>, <a href="#bib.bibx15" title="" class="ltx_ref">15</a>]</cite>.
Others personalize federated learning on mobile devices <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx16" title="" class="ltx_ref">16</a>]</cite>, even when users are expected to have diverse learning goals <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx34" title="" class="ltx_ref">34</a>]</cite>. These efforts personalize local models that optimize a client’s model against its own dataset, while still contributing to the training of a shared global model. Others have used collaboration among devices to improve local learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx32" title="" class="ltx_ref">32</a>]</cite>; these approaches place significant constraints on collaboration or make strong assumptions about predictable contacts.</p>
</div>
<div id="S2.p8" class="ltx_para">
<p id="S2.p8.1" class="ltx_p">In simultaneously performing federated learning for a global goal and personalization for a local one, existing work has each client solve an optimization problem over its local data using a hyper-parameter that specifies the trade-off between the accuracy of the global and local models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx7" title="" class="ltx_ref">7</a>]</cite>. Alternatively, meta-learning can be used to adapt a global model to a local dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx9" title="" class="ltx_ref">9</a>]</cite>. These efforts are still based on a traditional federated learning backbone with a central server. Finally, recent work clusters clients with similar data distributions <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx27" title="" class="ltx_ref">27</a>]</cite> or similar local updates to the global model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx3" title="" class="ltx_ref">3</a>]</cite> and trains a group model. Though these approaches provide some improvement with respect to both the global and local models <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx10" title="" class="ltx_ref">10</a>]</cite>, they are less applicable to pervasive computing, where clients are moving and their communications is opportunistic.</p>
</div>
<div id="S2.p9" class="ltx_para">
<p id="S2.p9.1" class="ltx_p">Even in federated learning, sharing model parameters or gradients potentially reveals something about private data, and efforts exist to attempt to reverse engineer these abstractions and recover sensitive information <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx39" title="" class="ltx_ref">39</a>]</cite>. In practice, however, these techniques are limited, and the working consensus is that federated learning provides increased privacy relative to centralizing raw data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx14" title="" class="ltx_ref">14</a>]</cite>. In addition, privacy is not the only reason to employ federated learning; sharing model gradients can incur reduced communication costs relative to directly sharing the raw data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx21" title="" class="ltx_ref">21</a>]</cite>.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Opportunistic Federated Learning</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">We focus on applications that rely on deep learning models for prediction or classification tasks in which each device personalizes the model for its own use <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx8" title="" class="ltx_ref">8</a>, <a href="#bib.bibx16" title="" class="ltx_ref">16</a>, <a href="#bib.bibx34" title="" class="ltx_ref">34</a>]</cite>. In contrast to prior work, we examine the benefits of incorporating opportunistic collaboration. Similarly to federated learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx28" title="" class="ltx_ref">28</a>]</cite>, collaborating peers desire to protect their raw data and instead share only snapshots of learned models.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.1" class="ltx_p">Fig. <a href="#S3.F1" title="Figure 1 ‣ III-A Data Label Distributions and Goal Distributions ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows an overview of our framework. We start with a pre-trained generic model that we tailor using task-specific data to create a <span id="S3.p2.1.1" class="ltx_text ltx_font_italic">bootstrap model</span> that is distributed to participating devices.
Devices are controlled and carried by individual users, and they generate or collect (labeled) data. This local data is used to continuously fine-tune (i.e., personalize) the local model. When a device (the “learner”) encounters another device (“the neighbor”), it may request the neighbor to perform a round of training on the learner’s model using the neighbor’s data. The learner sends its model parameters to the neighbor; the neighbor trains the model with its local data and returns the gradients, which the learner incorporates into its personal model. Though we assume that neighboring devices will participate, there is plenty of work on incentivizing collaboration in opportunistic environments <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx18" title="" class="ltx_ref">18</a>, <a href="#bib.bibx19" title="" class="ltx_ref">19</a>]</cite>, which we can adopt in our scenarios in future work.</p>
</div>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.1" class="ltx_p">We describe the procedure for deciding whether to initiate this process in more detail below; as a preview, it is based on two inputs: (1) a comparison of the neighbor’s data label distribution with the learner’s goal distribution and (2) a prediction of the expected duration of the encounter. For the second, we rely on a long history of prior work in mobility and contact prediction <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx38" title="" class="ltx_ref">38</a>, <a href="#bib.bibx4" title="" class="ltx_ref">4</a>]</cite>.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.5.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.6.2" class="ltx_text ltx_font_italic">Data Label Distributions and Goal Distributions</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.6" class="ltx_p">We assume a set of <math id="S3.SS1.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">N</annotation></semantics></math> devices <math id="S3.SS1.p1.2.m2.5" class="ltx_Math" alttext="\boldsymbol{C}=\{\mathcal{C}_{1},\ldots,\mathcal{C}_{i},\ldots,\mathcal{C}_{N}\}" display="inline"><semantics id="S3.SS1.p1.2.m2.5a"><mrow id="S3.SS1.p1.2.m2.5.5" xref="S3.SS1.p1.2.m2.5.5.cmml"><mi id="S3.SS1.p1.2.m2.5.5.5" xref="S3.SS1.p1.2.m2.5.5.5.cmml">𝑪</mi><mo id="S3.SS1.p1.2.m2.5.5.4" xref="S3.SS1.p1.2.m2.5.5.4.cmml">=</mo><mrow id="S3.SS1.p1.2.m2.5.5.3.3" xref="S3.SS1.p1.2.m2.5.5.3.4.cmml"><mo stretchy="false" id="S3.SS1.p1.2.m2.5.5.3.3.4" xref="S3.SS1.p1.2.m2.5.5.3.4.cmml">{</mo><msub id="S3.SS1.p1.2.m2.3.3.1.1.1" xref="S3.SS1.p1.2.m2.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.3.3.1.1.1.2" xref="S3.SS1.p1.2.m2.3.3.1.1.1.2.cmml">𝒞</mi><mn id="S3.SS1.p1.2.m2.3.3.1.1.1.3" xref="S3.SS1.p1.2.m2.3.3.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p1.2.m2.5.5.3.3.5" xref="S3.SS1.p1.2.m2.5.5.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml">…</mi><mo id="S3.SS1.p1.2.m2.5.5.3.3.6" xref="S3.SS1.p1.2.m2.5.5.3.4.cmml">,</mo><msub id="S3.SS1.p1.2.m2.4.4.2.2.2" xref="S3.SS1.p1.2.m2.4.4.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.4.4.2.2.2.2" xref="S3.SS1.p1.2.m2.4.4.2.2.2.2.cmml">𝒞</mi><mi id="S3.SS1.p1.2.m2.4.4.2.2.2.3" xref="S3.SS1.p1.2.m2.4.4.2.2.2.3.cmml">i</mi></msub><mo id="S3.SS1.p1.2.m2.5.5.3.3.7" xref="S3.SS1.p1.2.m2.5.5.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.SS1.p1.2.m2.2.2" xref="S3.SS1.p1.2.m2.2.2.cmml">…</mi><mo id="S3.SS1.p1.2.m2.5.5.3.3.8" xref="S3.SS1.p1.2.m2.5.5.3.4.cmml">,</mo><msub id="S3.SS1.p1.2.m2.5.5.3.3.3" xref="S3.SS1.p1.2.m2.5.5.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.2.m2.5.5.3.3.3.2" xref="S3.SS1.p1.2.m2.5.5.3.3.3.2.cmml">𝒞</mi><mi id="S3.SS1.p1.2.m2.5.5.3.3.3.3" xref="S3.SS1.p1.2.m2.5.5.3.3.3.3.cmml">N</mi></msub><mo stretchy="false" id="S3.SS1.p1.2.m2.5.5.3.3.9" xref="S3.SS1.p1.2.m2.5.5.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.5b"><apply id="S3.SS1.p1.2.m2.5.5.cmml" xref="S3.SS1.p1.2.m2.5.5"><eq id="S3.SS1.p1.2.m2.5.5.4.cmml" xref="S3.SS1.p1.2.m2.5.5.4"></eq><ci id="S3.SS1.p1.2.m2.5.5.5.cmml" xref="S3.SS1.p1.2.m2.5.5.5">𝑪</ci><set id="S3.SS1.p1.2.m2.5.5.3.4.cmml" xref="S3.SS1.p1.2.m2.5.5.3.3"><apply id="S3.SS1.p1.2.m2.3.3.1.1.1.cmml" xref="S3.SS1.p1.2.m2.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.3.3.1.1.1.1.cmml" xref="S3.SS1.p1.2.m2.3.3.1.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.3.3.1.1.1.2.cmml" xref="S3.SS1.p1.2.m2.3.3.1.1.1.2">𝒞</ci><cn type="integer" id="S3.SS1.p1.2.m2.3.3.1.1.1.3.cmml" xref="S3.SS1.p1.2.m2.3.3.1.1.1.3">1</cn></apply><ci id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">…</ci><apply id="S3.SS1.p1.2.m2.4.4.2.2.2.cmml" xref="S3.SS1.p1.2.m2.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.4.4.2.2.2.1.cmml" xref="S3.SS1.p1.2.m2.4.4.2.2.2">subscript</csymbol><ci id="S3.SS1.p1.2.m2.4.4.2.2.2.2.cmml" xref="S3.SS1.p1.2.m2.4.4.2.2.2.2">𝒞</ci><ci id="S3.SS1.p1.2.m2.4.4.2.2.2.3.cmml" xref="S3.SS1.p1.2.m2.4.4.2.2.2.3">𝑖</ci></apply><ci id="S3.SS1.p1.2.m2.2.2.cmml" xref="S3.SS1.p1.2.m2.2.2">…</ci><apply id="S3.SS1.p1.2.m2.5.5.3.3.3.cmml" xref="S3.SS1.p1.2.m2.5.5.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.5.5.3.3.3.1.cmml" xref="S3.SS1.p1.2.m2.5.5.3.3.3">subscript</csymbol><ci id="S3.SS1.p1.2.m2.5.5.3.3.3.2.cmml" xref="S3.SS1.p1.2.m2.5.5.3.3.3.2">𝒞</ci><ci id="S3.SS1.p1.2.m2.5.5.3.3.3.3.cmml" xref="S3.SS1.p1.2.m2.5.5.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.5c">\boldsymbol{C}=\{\mathcal{C}_{1},\ldots,\mathcal{C}_{i},\ldots,\mathcal{C}_{N}\}</annotation></semantics></math>, each with its own local data set, <math id="S3.SS1.p1.3.m3.1" class="ltx_Math" alttext="\mathcal{D}_{i}" display="inline"><semantics id="S3.SS1.p1.3.m3.1a"><msub id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.3.m3.1.1.2" xref="S3.SS1.p1.3.m3.1.1.2.cmml">𝒟</mi><mi id="S3.SS1.p1.3.m3.1.1.3" xref="S3.SS1.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><apply id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.3.m3.1.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p1.3.m3.1.1.2.cmml" xref="S3.SS1.p1.3.m3.1.1.2">𝒟</ci><ci id="S3.SS1.p1.3.m3.1.1.3.cmml" xref="S3.SS1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">\mathcal{D}_{i}</annotation></semantics></math>. In our example applications, these data sets are generated when the device takes images of its surroundings, shares images to social media, or sends text messages with emojis. Each sample is associated with a label (e.g., a photo may be labeled with a landmark or object within it; another photo may be labeled with whether it was shared on social media; a sequence of words may be labeled with the emoji that follows them). We capture device <math id="S3.SS1.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS1.p1.4.m4.1a"><msub id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.4.m4.1.1.2" xref="S3.SS1.p1.4.m4.1.1.2.cmml">𝒞</mi><mi id="S3.SS1.p1.4.m4.1.1.3" xref="S3.SS1.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><apply id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.4.m4.1.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p1.4.m4.1.1.2.cmml" xref="S3.SS1.p1.4.m4.1.1.2">𝒞</ci><ci id="S3.SS1.p1.4.m4.1.1.3.cmml" xref="S3.SS1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">\mathcal{C}_{i}</annotation></semantics></math>’s <span id="S3.SS1.p1.6.1" class="ltx_text ltx_font_italic">data label distribution</span> (<math id="S3.SS1.p1.5.m5.1" class="ltx_Math" alttext="\mathcal{L}_{i}" display="inline"><semantics id="S3.SS1.p1.5.m5.1a"><msub id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.5.m5.1.1.2" xref="S3.SS1.p1.5.m5.1.1.2.cmml">ℒ</mi><mi id="S3.SS1.p1.5.m5.1.1.3" xref="S3.SS1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><apply id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.5.m5.1.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S3.SS1.p1.5.m5.1.1.2.cmml" xref="S3.SS1.p1.5.m5.1.1.2">ℒ</ci><ci id="S3.SS1.p1.5.m5.1.1.3.cmml" xref="S3.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">\mathcal{L}_{i}</annotation></semantics></math>) as the relative frequency of each label within the local data set. The goal of opportunistic federated learning is to learn a local model for some task, i.e., to learn a model that can correctly label a novel input. Each device has a <span id="S3.SS1.p1.6.2" class="ltx_text ltx_font_italic">goal distribution</span> (<math id="S3.SS1.p1.6.m6.1" class="ltx_Math" alttext="\mathcal{G}_{i}" display="inline"><semantics id="S3.SS1.p1.6.m6.1a"><msub id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">𝒢</mi><mi id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">𝒢</ci><ci id="S3.SS1.p1.6.m6.1.1.3.cmml" xref="S3.SS1.p1.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">\mathcal{G}_{i}</annotation></semantics></math>) of labels that it desires for its model to be successful at classifying. It is common that a given device’s goal and data label distribution differ, and any two given devices may have different goal distributions.</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/2103.13266/assets/figures/Arch2.jpg" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="509" height="493" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F1.3.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S3.F1.4.2" class="ltx_text" style="font-size:90%;">System Architecture. The process optionally starts with a pre-trained model, which is specialized using task-specific data into the <span id="S3.F1.4.2.1" class="ltx_text ltx_font_italic">bootstrap model</span> that is distributed to participating devices. Devices continuously fine-tunes a personalized model using locally collected data. Each device also uses on-device mobility and contact prediction to help decide when to engage in <span id="S3.F1.4.2.2" class="ltx_text ltx_font_italic">opportunistic federated learning</span> exchanges with encountered devices.</span></figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.5.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.6.2" class="ltx_text ltx_font_italic">Opportunistic Federated Learning</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.10" class="ltx_p">Each device <math id="S3.SS2.p1.1.m1.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS2.p1.1.m1.1a"><msub id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">𝒞</ci><ci id="S3.SS2.p1.1.m1.1.1.3.cmml" xref="S3.SS2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">\mathcal{C}_{i}</annotation></semantics></math> constructs its own local model, <math id="S3.SS2.p1.2.m2.1" class="ltx_Math" alttext="w_{i}" display="inline"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">w</mi><mi id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝑤</ci><ci id="S3.SS2.p1.2.m2.1.1.3.cmml" xref="S3.SS2.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">w_{i}</annotation></semantics></math>. Because the local model changes over time based on the device’s local training and encounters, we indicate a local clock <math id="S3.SS2.p1.3.m3.1" class="ltx_Math" alttext="t_{i}" display="inline"><semantics id="S3.SS2.p1.3.m3.1a"><msub id="S3.SS2.p1.3.m3.1.1" xref="S3.SS2.p1.3.m3.1.1.cmml"><mi id="S3.SS2.p1.3.m3.1.1.2" xref="S3.SS2.p1.3.m3.1.1.2.cmml">t</mi><mi id="S3.SS2.p1.3.m3.1.1.3" xref="S3.SS2.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m3.1b"><apply id="S3.SS2.p1.3.m3.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.3.m3.1.1.1.cmml" xref="S3.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p1.3.m3.1.1.2.cmml" xref="S3.SS2.p1.3.m3.1.1.2">𝑡</ci><ci id="S3.SS2.p1.3.m3.1.1.3.cmml" xref="S3.SS2.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m3.1c">t_{i}</annotation></semantics></math> associated with <math id="S3.SS2.p1.4.m4.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS2.p1.4.m4.1a"><msub id="S3.SS2.p1.4.m4.1.1" xref="S3.SS2.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.4.m4.1.1.2" xref="S3.SS2.p1.4.m4.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p1.4.m4.1.1.3" xref="S3.SS2.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m4.1b"><apply id="S3.SS2.p1.4.m4.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.4.m4.1.1.1.cmml" xref="S3.SS2.p1.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p1.4.m4.1.1.2.cmml" xref="S3.SS2.p1.4.m4.1.1.2">𝒞</ci><ci id="S3.SS2.p1.4.m4.1.1.3.cmml" xref="S3.SS2.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m4.1c">\mathcal{C}_{i}</annotation></semantics></math>’s model (<math id="S3.SS2.p1.5.m5.1" class="ltx_Math" alttext="w^{t_{i}}_{i}" display="inline"><semantics id="S3.SS2.p1.5.m5.1a"><msubsup id="S3.SS2.p1.5.m5.1.1" xref="S3.SS2.p1.5.m5.1.1.cmml"><mi id="S3.SS2.p1.5.m5.1.1.2.2" xref="S3.SS2.p1.5.m5.1.1.2.2.cmml">w</mi><mi id="S3.SS2.p1.5.m5.1.1.3" xref="S3.SS2.p1.5.m5.1.1.3.cmml">i</mi><msub id="S3.SS2.p1.5.m5.1.1.2.3" xref="S3.SS2.p1.5.m5.1.1.2.3.cmml"><mi id="S3.SS2.p1.5.m5.1.1.2.3.2" xref="S3.SS2.p1.5.m5.1.1.2.3.2.cmml">t</mi><mi id="S3.SS2.p1.5.m5.1.1.2.3.3" xref="S3.SS2.p1.5.m5.1.1.2.3.3.cmml">i</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m5.1b"><apply id="S3.SS2.p1.5.m5.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.1.cmml" xref="S3.SS2.p1.5.m5.1.1">subscript</csymbol><apply id="S3.SS2.p1.5.m5.1.1.2.cmml" xref="S3.SS2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.2.1.cmml" xref="S3.SS2.p1.5.m5.1.1">superscript</csymbol><ci id="S3.SS2.p1.5.m5.1.1.2.2.cmml" xref="S3.SS2.p1.5.m5.1.1.2.2">𝑤</ci><apply id="S3.SS2.p1.5.m5.1.1.2.3.cmml" xref="S3.SS2.p1.5.m5.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m5.1.1.2.3.1.cmml" xref="S3.SS2.p1.5.m5.1.1.2.3">subscript</csymbol><ci id="S3.SS2.p1.5.m5.1.1.2.3.2.cmml" xref="S3.SS2.p1.5.m5.1.1.2.3.2">𝑡</ci><ci id="S3.SS2.p1.5.m5.1.1.2.3.3.cmml" xref="S3.SS2.p1.5.m5.1.1.2.3.3">𝑖</ci></apply></apply><ci id="S3.SS2.p1.5.m5.1.1.3.cmml" xref="S3.SS2.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m5.1c">w^{t_{i}}_{i}</annotation></semantics></math>); we increment <math id="S3.SS2.p1.6.m6.1" class="ltx_Math" alttext="t_{i}" display="inline"><semantics id="S3.SS2.p1.6.m6.1a"><msub id="S3.SS2.p1.6.m6.1.1" xref="S3.SS2.p1.6.m6.1.1.cmml"><mi id="S3.SS2.p1.6.m6.1.1.2" xref="S3.SS2.p1.6.m6.1.1.2.cmml">t</mi><mi id="S3.SS2.p1.6.m6.1.1.3" xref="S3.SS2.p1.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m6.1b"><apply id="S3.SS2.p1.6.m6.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m6.1.1.1.cmml" xref="S3.SS2.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p1.6.m6.1.1.2.cmml" xref="S3.SS2.p1.6.m6.1.1.2">𝑡</ci><ci id="S3.SS2.p1.6.m6.1.1.3.cmml" xref="S3.SS2.p1.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m6.1c">t_{i}</annotation></semantics></math> every time <math id="S3.SS2.p1.7.m7.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS2.p1.7.m7.1a"><msub id="S3.SS2.p1.7.m7.1.1" xref="S3.SS2.p1.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.7.m7.1.1.2" xref="S3.SS2.p1.7.m7.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p1.7.m7.1.1.3" xref="S3.SS2.p1.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m7.1b"><apply id="S3.SS2.p1.7.m7.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.7.m7.1.1.1.cmml" xref="S3.SS2.p1.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p1.7.m7.1.1.2.cmml" xref="S3.SS2.p1.7.m7.1.1.2">𝒞</ci><ci id="S3.SS2.p1.7.m7.1.1.3.cmml" xref="S3.SS2.p1.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m7.1c">\mathcal{C}_{i}</annotation></semantics></math>’s local model is updated. <math id="S3.SS2.p1.8.m8.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS2.p1.8.m8.1a"><msub id="S3.SS2.p1.8.m8.1.1" xref="S3.SS2.p1.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.8.m8.1.1.2" xref="S3.SS2.p1.8.m8.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p1.8.m8.1.1.3" xref="S3.SS2.p1.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m8.1b"><apply id="S3.SS2.p1.8.m8.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.8.m8.1.1.1.cmml" xref="S3.SS2.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p1.8.m8.1.1.2.cmml" xref="S3.SS2.p1.8.m8.1.1.2">𝒞</ci><ci id="S3.SS2.p1.8.m8.1.1.3.cmml" xref="S3.SS2.p1.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m8.1c">\mathcal{C}_{i}</annotation></semantics></math>’s bootstrap model is <math id="S3.SS2.p1.9.m9.1" class="ltx_Math" alttext="w^{0}_{i}" display="inline"><semantics id="S3.SS2.p1.9.m9.1a"><msubsup id="S3.SS2.p1.9.m9.1.1" xref="S3.SS2.p1.9.m9.1.1.cmml"><mi id="S3.SS2.p1.9.m9.1.1.2.2" xref="S3.SS2.p1.9.m9.1.1.2.2.cmml">w</mi><mi id="S3.SS2.p1.9.m9.1.1.3" xref="S3.SS2.p1.9.m9.1.1.3.cmml">i</mi><mn id="S3.SS2.p1.9.m9.1.1.2.3" xref="S3.SS2.p1.9.m9.1.1.2.3.cmml">0</mn></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m9.1b"><apply id="S3.SS2.p1.9.m9.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.9.m9.1.1.1.cmml" xref="S3.SS2.p1.9.m9.1.1">subscript</csymbol><apply id="S3.SS2.p1.9.m9.1.1.2.cmml" xref="S3.SS2.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.9.m9.1.1.2.1.cmml" xref="S3.SS2.p1.9.m9.1.1">superscript</csymbol><ci id="S3.SS2.p1.9.m9.1.1.2.2.cmml" xref="S3.SS2.p1.9.m9.1.1.2.2">𝑤</ci><cn type="integer" id="S3.SS2.p1.9.m9.1.1.2.3.cmml" xref="S3.SS2.p1.9.m9.1.1.2.3">0</cn></apply><ci id="S3.SS2.p1.9.m9.1.1.3.cmml" xref="S3.SS2.p1.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m9.1c">w^{0}_{i}</annotation></semantics></math>. Opportunistic federated learning updates the local model based on a combination of the device’s local data and gradients obtained from encounters in order to optimize the local model for the goal distribution <math id="S3.SS2.p1.10.m10.1" class="ltx_Math" alttext="\mathcal{G}_{i}" display="inline"><semantics id="S3.SS2.p1.10.m10.1a"><msub id="S3.SS2.p1.10.m10.1.1" xref="S3.SS2.p1.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.10.m10.1.1.2" xref="S3.SS2.p1.10.m10.1.1.2.cmml">𝒢</mi><mi id="S3.SS2.p1.10.m10.1.1.3" xref="S3.SS2.p1.10.m10.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m10.1b"><apply id="S3.SS2.p1.10.m10.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.10.m10.1.1.1.cmml" xref="S3.SS2.p1.10.m10.1.1">subscript</csymbol><ci id="S3.SS2.p1.10.m10.1.1.2.cmml" xref="S3.SS2.p1.10.m10.1.1.2">𝒢</ci><ci id="S3.SS2.p1.10.m10.1.1.3.cmml" xref="S3.SS2.p1.10.m10.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m10.1c">\mathcal{G}_{i}</annotation></semantics></math>. Formally:</p>
<table id="S3.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E1.m1.2" class="ltx_Math" alttext="\min_{\boldsymbol{E_{i}}}\bigg{\{}\sum_{t_{i}=0}^{|\boldsymbol{E_{i}}|}\ell(w^{t_{i}}_{i};\mathcal{D}_{\mathcal{G}_{i}})\bigg{\}}," display="block"><semantics id="S3.E1.m1.2a"><mrow id="S3.E1.m1.2.2.1"><mrow id="S3.E1.m1.2.2.1.1.2" xref="S3.E1.m1.2.2.1.1.3.cmml"><munder id="S3.E1.m1.2.2.1.1.1.1" xref="S3.E1.m1.2.2.1.1.1.1.cmml"><mi id="S3.E1.m1.2.2.1.1.1.1.2" xref="S3.E1.m1.2.2.1.1.1.1.2.cmml">min</mi><msub id="S3.E1.m1.2.2.1.1.1.1.3" xref="S3.E1.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E1.m1.2.2.1.1.1.1.3.2" xref="S3.E1.m1.2.2.1.1.1.1.3.2.cmml">𝑬</mi><mi id="S3.E1.m1.2.2.1.1.1.1.3.3" xref="S3.E1.m1.2.2.1.1.1.1.3.3.cmml">𝒊</mi></msub></munder><mo id="S3.E1.m1.2.2.1.1.2a" xref="S3.E1.m1.2.2.1.1.3.cmml">⁡</mo><mrow id="S3.E1.m1.2.2.1.1.2.2" xref="S3.E1.m1.2.2.1.1.3.cmml"><mo maxsize="210%" minsize="210%" id="S3.E1.m1.2.2.1.1.2.2.2" xref="S3.E1.m1.2.2.1.1.3.cmml">{</mo><mrow id="S3.E1.m1.2.2.1.1.2.2.1" xref="S3.E1.m1.2.2.1.1.2.2.1.cmml"><munderover id="S3.E1.m1.2.2.1.1.2.2.1.3" xref="S3.E1.m1.2.2.1.1.2.2.1.3.cmml"><mo lspace="0em" movablelimits="false" id="S3.E1.m1.2.2.1.1.2.2.1.3.2.2" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.2.cmml">∑</mo><mrow id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.cmml"><msub id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.cmml"><mi id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.2" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.2.cmml">t</mi><mi id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.3" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.3.cmml">i</mi></msub><mo id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.1" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.1.cmml">=</mo><mn id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.3" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.3.cmml">0</mn></mrow><mrow id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E1.m1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.2.1.cmml">|</mo><msub id="S3.E1.m1.1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.1.cmml"><mi id="S3.E1.m1.1.1.1.1.1.2" xref="S3.E1.m1.1.1.1.1.1.2.cmml">𝑬</mi><mi id="S3.E1.m1.1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.1.1.3.cmml">𝒊</mi></msub><mo stretchy="false" id="S3.E1.m1.1.1.1.1.3" xref="S3.E1.m1.1.1.1.2.1.cmml">|</mo></mrow></munderover><mrow id="S3.E1.m1.2.2.1.1.2.2.1.2" xref="S3.E1.m1.2.2.1.1.2.2.1.2.cmml"><mi mathvariant="normal" id="S3.E1.m1.2.2.1.1.2.2.1.2.4" xref="S3.E1.m1.2.2.1.1.2.2.1.2.4.cmml">ℓ</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.2.2.1.1.2.2.1.2.3" xref="S3.E1.m1.2.2.1.1.2.2.1.2.3.cmml">​</mo><mrow id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.3.cmml"><mo stretchy="false" id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.3" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.3.cmml">(</mo><msubsup id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.cmml"><mi id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.2" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.2.cmml">w</mi><mi id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.3" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.3.cmml">i</mi><msub id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.cmml"><mi id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.2" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.2.cmml">t</mi><mi id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.3" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.3.cmml">i</mi></msub></msubsup><mo id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.4" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.3.cmml">;</mo><msub id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.2" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.2.cmml">𝒟</mi><msub id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.2" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.2.cmml">𝒢</mi><mi id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.3" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.3.cmml">i</mi></msub></msub><mo stretchy="false" id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.5" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.3.cmml">)</mo></mrow></mrow></mrow><mo maxsize="210%" minsize="210%" id="S3.E1.m1.2.2.1.1.2.2.3" xref="S3.E1.m1.2.2.1.1.3.cmml">}</mo></mrow></mrow><mo id="S3.E1.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.2b"><apply id="S3.E1.m1.2.2.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.2"><apply id="S3.E1.m1.2.2.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1">subscript</csymbol><min id="S3.E1.m1.2.2.1.1.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.2"></min><apply id="S3.E1.m1.2.2.1.1.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E1.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E1.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E1.m1.2.2.1.1.1.1.3.2">𝑬</ci><ci id="S3.E1.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E1.m1.2.2.1.1.1.1.3.3">𝒊</ci></apply></apply><apply id="S3.E1.m1.2.2.1.1.2.2.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1"><apply id="S3.E1.m1.2.2.1.1.2.2.1.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.1.3.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3">superscript</csymbol><apply id="S3.E1.m1.2.2.1.1.2.2.1.3.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.1.3.2.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3">subscript</csymbol><sum id="S3.E1.m1.2.2.1.1.2.2.1.3.2.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.2"></sum><apply id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3"><eq id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.1"></eq><apply id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2">subscript</csymbol><ci id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.2">𝑡</ci><ci id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.2.3">𝑖</ci></apply><cn type="integer" id="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.3.2.3.3">0</cn></apply></apply><apply id="S3.E1.m1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1"><abs id="S3.E1.m1.1.1.1.2.1.cmml" xref="S3.E1.m1.1.1.1.1.2"></abs><apply id="S3.E1.m1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.E1.m1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.1.1.1.1.1.2">𝑬</ci><ci id="S3.E1.m1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.1.1.1.1.1.3">𝒊</ci></apply></apply></apply><apply id="S3.E1.m1.2.2.1.1.2.2.1.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2"><times id="S3.E1.m1.2.2.1.1.2.2.1.2.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.3"></times><ci id="S3.E1.m1.2.2.1.1.2.2.1.2.4.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.4">ℓ</ci><list id="S3.E1.m1.2.2.1.1.2.2.1.2.2.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2"><apply id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1">subscript</csymbol><apply id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.2">𝑤</ci><apply id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.2">𝑡</ci><ci id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.2.3.3">𝑖</ci></apply></apply><ci id="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2">subscript</csymbol><ci id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.2">𝒟</ci><apply id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.1.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3">subscript</csymbol><ci id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.2.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.2">𝒢</ci><ci id="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.3.cmml" xref="S3.E1.m1.2.2.1.1.2.2.1.2.2.2.2.3.3">𝑖</ci></apply></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.2c">\min_{\boldsymbol{E_{i}}}\bigg{\{}\sum_{t_{i}=0}^{|\boldsymbol{E_{i}}|}\ell(w^{t_{i}}_{i};\mathcal{D}_{\mathcal{G}_{i}})\bigg{\}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.5" class="ltx_p">where <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="\boldsymbol{E_{i}}" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><msub id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi id="S3.SS2.p2.1.m1.1.1.2" xref="S3.SS2.p2.1.m1.1.1.2.cmml">𝑬</mi><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">𝒊</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2">𝑬</ci><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">𝒊</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">\boldsymbol{E_{i}}</annotation></semantics></math> refers to the set of encounters that <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><msub id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝒞</ci><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">\mathcal{C}_{i}</annotation></semantics></math> has, and <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="\mathcal{D}_{\mathcal{G}_{i}}" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><msub id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml">𝒟</mi><msub id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.3.m3.1.1.3.2" xref="S3.SS2.p2.3.m3.1.1.3.2.cmml">𝒢</mi><mi id="S3.SS2.p2.3.m3.1.1.3.3" xref="S3.SS2.p2.3.m3.1.1.3.3.cmml">i</mi></msub></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2">𝒟</ci><apply id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.3.1.cmml" xref="S3.SS2.p2.3.m3.1.1.3">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.3.2.cmml" xref="S3.SS2.p2.3.m3.1.1.3.2">𝒢</ci><ci id="S3.SS2.p2.3.m3.1.1.3.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">\mathcal{D}_{\mathcal{G}_{i}}</annotation></semantics></math> is a hypothetical data set with a data label distribution that satisfies the goal distribution <math id="S3.SS2.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{G}_{i}" display="inline"><semantics id="S3.SS2.p2.4.m4.1a"><msub id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml">𝒢</mi><mi id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2">𝒢</ci><ci id="S3.SS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">\mathcal{G}_{i}</annotation></semantics></math>. Intuitively, we strive to minimize the loss of a model that is learned from incorporating training across the encounters in <math id="S3.SS2.p2.5.m5.1" class="ltx_Math" alttext="\boldsymbol{E_{i}}" display="inline"><semantics id="S3.SS2.p2.5.m5.1a"><msub id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml"><mi id="S3.SS2.p2.5.m5.1.1.2" xref="S3.SS2.p2.5.m5.1.1.2.cmml">𝑬</mi><mi id="S3.SS2.p2.5.m5.1.1.3" xref="S3.SS2.p2.5.m5.1.1.3.cmml">𝒊</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.1b"><apply id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.5.m5.1.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p2.5.m5.1.1.2.cmml" xref="S3.SS2.p2.5.m5.1.1.2">𝑬</ci><ci id="S3.SS2.p2.5.m5.1.1.3.cmml" xref="S3.SS2.p2.5.m5.1.1.3">𝒊</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.1c">\boldsymbol{E_{i}}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p">The workflow is shown in Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. All devices participate in continuous neighbor discovery <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx17" title="" class="ltx_ref">17</a>, <a href="#bib.bibx20" title="" class="ltx_ref">20</a>]</cite>, through which they opportunistically discover nearby devices. The framework relies on three things: a similarity metric, a contact duration prediction, and a mapping of labels to learned gradients.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.1" class="ltx_p">The algorithm first computes the similarity between the learner’s goal distribution and the neighbor’s data label distribution to determine whether the encounter will provide a useful learning opportunity. While there are many sophisticated metrics for similarity, our distributions are not wildly diverse, so we opt for a relatively simple metric. Specifically:</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.4" class="ltx_Math" alttext="\it{sim}(\mathcal{P}_{1},\mathcal{P}_{2})=\sum_{l\in L}\min(\mathcal{P}_{1}(l),\mathcal{P}_{2}(l))." display="block"><semantics id="S3.E2.m1.4a"><mrow id="S3.E2.m1.4.4.1" xref="S3.E2.m1.4.4.1.1.cmml"><mrow id="S3.E2.m1.4.4.1.1" xref="S3.E2.m1.4.4.1.1.cmml"><mrow id="S3.E2.m1.4.4.1.1.2" xref="S3.E2.m1.4.4.1.1.2.cmml"><mi id="S3.E2.m1.4.4.1.1.2.4" xref="S3.E2.m1.4.4.1.1.2.4.cmml">𝑠𝑖𝑚</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.4.4.1.1.2.3" xref="S3.E2.m1.4.4.1.1.2.3.cmml">​</mo><mrow id="S3.E2.m1.4.4.1.1.2.2.2" xref="S3.E2.m1.4.4.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E2.m1.4.4.1.1.2.2.2.3" xref="S3.E2.m1.4.4.1.1.2.2.3.cmml">(</mo><msub id="S3.E2.m1.4.4.1.1.1.1.1.1" xref="S3.E2.m1.4.4.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.4.4.1.1.1.1.1.1.2" xref="S3.E2.m1.4.4.1.1.1.1.1.1.2.cmml">𝒫</mi><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E2.m1.4.4.1.1.1.1.1.1.3" xref="S3.E2.m1.4.4.1.1.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.E2.m1.4.4.1.1.2.2.2.4" xref="S3.E2.m1.4.4.1.1.2.2.3.cmml">,</mo><msub id="S3.E2.m1.4.4.1.1.2.2.2.2" xref="S3.E2.m1.4.4.1.1.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.4.4.1.1.2.2.2.2.2" xref="S3.E2.m1.4.4.1.1.2.2.2.2.2.cmml">𝒫</mi><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E2.m1.4.4.1.1.2.2.2.2.3" xref="S3.E2.m1.4.4.1.1.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S3.E2.m1.4.4.1.1.2.2.2.5" xref="S3.E2.m1.4.4.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S3.E2.m1.4.4.1.1.5" xref="S3.E2.m1.4.4.1.1.5.cmml">=</mo><mrow id="S3.E2.m1.4.4.1.1.4" xref="S3.E2.m1.4.4.1.1.4.cmml"><munder id="S3.E2.m1.4.4.1.1.4.3" xref="S3.E2.m1.4.4.1.1.4.3.cmml"><mo movablelimits="false" id="S3.E2.m1.4.4.1.1.4.3.2" xref="S3.E2.m1.4.4.1.1.4.3.2.cmml">∑</mo><mrow id="S3.E2.m1.4.4.1.1.4.3.3" xref="S3.E2.m1.4.4.1.1.4.3.3.cmml"><mi id="S3.E2.m1.4.4.1.1.4.3.3.2" xref="S3.E2.m1.4.4.1.1.4.3.3.2.cmml">l</mi><mo id="S3.E2.m1.4.4.1.1.4.3.3.1" xref="S3.E2.m1.4.4.1.1.4.3.3.1.cmml">∈</mo><mi id="S3.E2.m1.4.4.1.1.4.3.3.3" xref="S3.E2.m1.4.4.1.1.4.3.3.3.cmml">L</mi></mrow></munder><mrow id="S3.E2.m1.4.4.1.1.4.2.2" xref="S3.E2.m1.4.4.1.1.4.2.3.cmml"><mi id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">min</mi><mo id="S3.E2.m1.4.4.1.1.4.2.2a" xref="S3.E2.m1.4.4.1.1.4.2.3.cmml">⁡</mo><mrow id="S3.E2.m1.4.4.1.1.4.2.2.2" xref="S3.E2.m1.4.4.1.1.4.2.3.cmml"><mo stretchy="false" id="S3.E2.m1.4.4.1.1.4.2.2.2.3" xref="S3.E2.m1.4.4.1.1.4.2.3.cmml">(</mo><mrow id="S3.E2.m1.4.4.1.1.3.1.1.1.1" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.cmml"><msub id="S3.E2.m1.4.4.1.1.3.1.1.1.1.2" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.2" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.2.cmml">𝒫</mi><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.3" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.4.4.1.1.3.1.1.1.1.1" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.1.cmml">​</mo><mrow id="S3.E2.m1.4.4.1.1.3.1.1.1.1.3.2" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.4.4.1.1.3.1.1.1.1.3.2.1" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.cmml">(</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">l</mi><mo stretchy="false" id="S3.E2.m1.4.4.1.1.3.1.1.1.1.3.2.2" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.4.4.1.1.4.2.2.2.4" xref="S3.E2.m1.4.4.1.1.4.2.3.cmml">,</mo><mrow id="S3.E2.m1.4.4.1.1.4.2.2.2.2" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.cmml"><msub id="S3.E2.m1.4.4.1.1.4.2.2.2.2.2" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.2" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.2.cmml">𝒫</mi><mn class="ltx_mathvariant_italic" mathvariant="italic" id="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.3" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.3.cmml">2</mn></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.4.4.1.1.4.2.2.2.2.1" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.1.cmml">​</mo><mrow id="S3.E2.m1.4.4.1.1.4.2.2.2.2.3.2" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.cmml"><mo stretchy="false" id="S3.E2.m1.4.4.1.1.4.2.2.2.2.3.2.1" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.cmml">(</mo><mi id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml">l</mi><mo stretchy="false" id="S3.E2.m1.4.4.1.1.4.2.2.2.2.3.2.2" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E2.m1.4.4.1.1.4.2.2.2.5" xref="S3.E2.m1.4.4.1.1.4.2.3.cmml">)</mo></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E2.m1.4.4.1.2" xref="S3.E2.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.4b"><apply id="S3.E2.m1.4.4.1.1.cmml" xref="S3.E2.m1.4.4.1"><eq id="S3.E2.m1.4.4.1.1.5.cmml" xref="S3.E2.m1.4.4.1.1.5"></eq><apply id="S3.E2.m1.4.4.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.2"><times id="S3.E2.m1.4.4.1.1.2.3.cmml" xref="S3.E2.m1.4.4.1.1.2.3"></times><ci id="S3.E2.m1.4.4.1.1.2.4.cmml" xref="S3.E2.m1.4.4.1.1.2.4">𝑠𝑖𝑚</ci><interval closure="open" id="S3.E2.m1.4.4.1.1.2.2.3.cmml" xref="S3.E2.m1.4.4.1.1.2.2.2"><apply id="S3.E2.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.1.1.1.1.2">𝒫</ci><cn type="integer" id="S3.E2.m1.4.4.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.4.4.1.1.1.1.1.1.3">1</cn></apply><apply id="S3.E2.m1.4.4.1.1.2.2.2.2.cmml" xref="S3.E2.m1.4.4.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.2.2.2.2.1.cmml" xref="S3.E2.m1.4.4.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E2.m1.4.4.1.1.2.2.2.2.2.cmml" xref="S3.E2.m1.4.4.1.1.2.2.2.2.2">𝒫</ci><cn type="integer" id="S3.E2.m1.4.4.1.1.2.2.2.2.3.cmml" xref="S3.E2.m1.4.4.1.1.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S3.E2.m1.4.4.1.1.4.cmml" xref="S3.E2.m1.4.4.1.1.4"><apply id="S3.E2.m1.4.4.1.1.4.3.cmml" xref="S3.E2.m1.4.4.1.1.4.3"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.4.3.1.cmml" xref="S3.E2.m1.4.4.1.1.4.3">subscript</csymbol><sum id="S3.E2.m1.4.4.1.1.4.3.2.cmml" xref="S3.E2.m1.4.4.1.1.4.3.2"></sum><apply id="S3.E2.m1.4.4.1.1.4.3.3.cmml" xref="S3.E2.m1.4.4.1.1.4.3.3"><in id="S3.E2.m1.4.4.1.1.4.3.3.1.cmml" xref="S3.E2.m1.4.4.1.1.4.3.3.1"></in><ci id="S3.E2.m1.4.4.1.1.4.3.3.2.cmml" xref="S3.E2.m1.4.4.1.1.4.3.3.2">𝑙</ci><ci id="S3.E2.m1.4.4.1.1.4.3.3.3.cmml" xref="S3.E2.m1.4.4.1.1.4.3.3.3">𝐿</ci></apply></apply><apply id="S3.E2.m1.4.4.1.1.4.2.3.cmml" xref="S3.E2.m1.4.4.1.1.4.2.2"><min id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3"></min><apply id="S3.E2.m1.4.4.1.1.3.1.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1"><times id="S3.E2.m1.4.4.1.1.3.1.1.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.1"></times><apply id="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.1.cmml" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.2">subscript</csymbol><ci id="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.2.cmml" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.2">𝒫</ci><cn type="integer" id="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.3.cmml" xref="S3.E2.m1.4.4.1.1.3.1.1.1.1.2.3">1</cn></apply><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝑙</ci></apply><apply id="S3.E2.m1.4.4.1.1.4.2.2.2.2.cmml" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2"><times id="S3.E2.m1.4.4.1.1.4.2.2.2.2.1.cmml" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.1"></times><apply id="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.cmml" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.1.cmml" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.2">subscript</csymbol><ci id="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.2.cmml" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.2">𝒫</ci><cn type="integer" id="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.3.cmml" xref="S3.E2.m1.4.4.1.1.4.2.2.2.2.2.3">2</cn></apply><ci id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2">𝑙</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.4c">\it{sim}(\mathcal{P}_{1},\mathcal{P}_{2})=\sum_{l\in L}\min(\mathcal{P}_{1}(l),\mathcal{P}_{2}(l)).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.1" class="ltx_p">Intuitively, if a label appears in both distributions, the sum includes the minimum frequency of that label in the two distributions. If two distributions have no labels in common, the similarity score will be 0; if the two distributions are identical, the similarity score will be 1.</p>
</div>
<figure id="alg1" class="ltx_float ltx_algorithm">
<div id="alg1.14" class="ltx_listing ltx_lst_numbers_left ltx_listing">
<div id="alg1.14.15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.14.15.1.1.1" class="ltx_text" style="font-size:90%;">1</span></span>

<span id="alg1.14.15.2" class="ltx_text" style="font-size:90%;">
</span>
</div>
<div id="alg1.1.1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.1.1.1.1.1" class="ltx_text" style="font-size:90%;">2</span></span><math id="alg1.1.1.m1.2" class="ltx_Math" alttext="\it{sim}(\mathcal{P}_{1},\mathcal{P}_{2})" display="inline"><semantics id="alg1.1.1.m1.2a"><mrow id="alg1.1.1.m1.2.2" xref="alg1.1.1.m1.2.2.cmml"><mi mathsize="90%" id="alg1.1.1.m1.2.2.4" xref="alg1.1.1.m1.2.2.4.cmml">𝑠𝑖𝑚</mi><mo lspace="0em" rspace="0em" id="alg1.1.1.m1.2.2.3" xref="alg1.1.1.m1.2.2.3.cmml">​</mo><mrow id="alg1.1.1.m1.2.2.2.2" xref="alg1.1.1.m1.2.2.2.3.cmml"><mo maxsize="90%" minsize="90%" id="alg1.1.1.m1.2.2.2.2.3" xref="alg1.1.1.m1.2.2.2.3.cmml">(</mo><msub id="alg1.1.1.m1.1.1.1.1.1" xref="alg1.1.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="alg1.1.1.m1.1.1.1.1.1.2" xref="alg1.1.1.m1.1.1.1.1.1.2.cmml">𝒫</mi><mn class="ltx_mathvariant_italic" mathsize="90%" mathvariant="italic" id="alg1.1.1.m1.1.1.1.1.1.3" xref="alg1.1.1.m1.1.1.1.1.1.3.cmml">1</mn></msub><mo mathsize="90%" id="alg1.1.1.m1.2.2.2.2.4" xref="alg1.1.1.m1.2.2.2.3.cmml">,</mo><msub id="alg1.1.1.m1.2.2.2.2.2" xref="alg1.1.1.m1.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="alg1.1.1.m1.2.2.2.2.2.2" xref="alg1.1.1.m1.2.2.2.2.2.2.cmml">𝒫</mi><mn class="ltx_mathvariant_italic" mathsize="90%" mathvariant="italic" id="alg1.1.1.m1.2.2.2.2.2.3" xref="alg1.1.1.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo maxsize="90%" minsize="90%" id="alg1.1.1.m1.2.2.2.2.5" xref="alg1.1.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.1.1.m1.2b"><apply id="alg1.1.1.m1.2.2.cmml" xref="alg1.1.1.m1.2.2"><times id="alg1.1.1.m1.2.2.3.cmml" xref="alg1.1.1.m1.2.2.3"></times><ci id="alg1.1.1.m1.2.2.4.cmml" xref="alg1.1.1.m1.2.2.4">𝑠𝑖𝑚</ci><interval closure="open" id="alg1.1.1.m1.2.2.2.3.cmml" xref="alg1.1.1.m1.2.2.2.2"><apply id="alg1.1.1.m1.1.1.1.1.1.cmml" xref="alg1.1.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.1.1.m1.1.1.1.1.1.1.cmml" xref="alg1.1.1.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.1.1.m1.1.1.1.1.1.2.cmml" xref="alg1.1.1.m1.1.1.1.1.1.2">𝒫</ci><cn type="integer" id="alg1.1.1.m1.1.1.1.1.1.3.cmml" xref="alg1.1.1.m1.1.1.1.1.1.3">1</cn></apply><apply id="alg1.1.1.m1.2.2.2.2.2.cmml" xref="alg1.1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.1.1.m1.2.2.2.2.2.1.cmml" xref="alg1.1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="alg1.1.1.m1.2.2.2.2.2.2.cmml" xref="alg1.1.1.m1.2.2.2.2.2.2">𝒫</ci><cn type="integer" id="alg1.1.1.m1.2.2.2.2.2.3.cmml" xref="alg1.1.1.m1.2.2.2.2.2.3">2</cn></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.1.m1.2c">\it{sim}(\mathcal{P}_{1},\mathcal{P}_{2})</annotation></semantics></math><span id="alg1.1.1.2" class="ltx_text" style="font-size:90%;">: similarity metric for label distributions</span>
</div>
<div id="alg1.4.4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.4.4.1.1.1" class="ltx_text" style="font-size:90%;">3</span></span><span id="alg1.4.4.2" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.2.2.m1.3" class="ltx_Math" alttext="\it{contact}(t_{i},\mathcal{C}_{i},\mathcal{C}_{j})" display="inline"><semantics id="alg1.2.2.m1.3a"><mrow id="alg1.2.2.m1.3.3" xref="alg1.2.2.m1.3.3.cmml"><mi mathsize="90%" id="alg1.2.2.m1.3.3.5" xref="alg1.2.2.m1.3.3.5.cmml">𝑐𝑜𝑛𝑡𝑎𝑐𝑡</mi><mo lspace="0em" rspace="0em" id="alg1.2.2.m1.3.3.4" xref="alg1.2.2.m1.3.3.4.cmml">​</mo><mrow id="alg1.2.2.m1.3.3.3.3" xref="alg1.2.2.m1.3.3.3.4.cmml"><mo maxsize="90%" minsize="90%" id="alg1.2.2.m1.3.3.3.3.4" xref="alg1.2.2.m1.3.3.3.4.cmml">(</mo><msub id="alg1.2.2.m1.1.1.1.1.1" xref="alg1.2.2.m1.1.1.1.1.1.cmml"><mi mathsize="90%" id="alg1.2.2.m1.1.1.1.1.1.2" xref="alg1.2.2.m1.1.1.1.1.1.2.cmml">t</mi><mi mathsize="90%" id="alg1.2.2.m1.1.1.1.1.1.3" xref="alg1.2.2.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo mathsize="90%" id="alg1.2.2.m1.3.3.3.3.5" xref="alg1.2.2.m1.3.3.3.4.cmml">,</mo><msub id="alg1.2.2.m1.2.2.2.2.2" xref="alg1.2.2.m1.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="alg1.2.2.m1.2.2.2.2.2.2" xref="alg1.2.2.m1.2.2.2.2.2.2.cmml">𝒞</mi><mi mathsize="90%" id="alg1.2.2.m1.2.2.2.2.2.3" xref="alg1.2.2.m1.2.2.2.2.2.3.cmml">i</mi></msub><mo mathsize="90%" id="alg1.2.2.m1.3.3.3.3.6" xref="alg1.2.2.m1.3.3.3.4.cmml">,</mo><msub id="alg1.2.2.m1.3.3.3.3.3" xref="alg1.2.2.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="alg1.2.2.m1.3.3.3.3.3.2" xref="alg1.2.2.m1.3.3.3.3.3.2.cmml">𝒞</mi><mi mathsize="90%" id="alg1.2.2.m1.3.3.3.3.3.3" xref="alg1.2.2.m1.3.3.3.3.3.3.cmml">j</mi></msub><mo maxsize="90%" minsize="90%" id="alg1.2.2.m1.3.3.3.3.7" xref="alg1.2.2.m1.3.3.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.2.2.m1.3b"><apply id="alg1.2.2.m1.3.3.cmml" xref="alg1.2.2.m1.3.3"><times id="alg1.2.2.m1.3.3.4.cmml" xref="alg1.2.2.m1.3.3.4"></times><ci id="alg1.2.2.m1.3.3.5.cmml" xref="alg1.2.2.m1.3.3.5">𝑐𝑜𝑛𝑡𝑎𝑐𝑡</ci><vector id="alg1.2.2.m1.3.3.3.4.cmml" xref="alg1.2.2.m1.3.3.3.3"><apply id="alg1.2.2.m1.1.1.1.1.1.cmml" xref="alg1.2.2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.2.2.m1.1.1.1.1.1.1.cmml" xref="alg1.2.2.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.2.2.m1.1.1.1.1.1.2.cmml" xref="alg1.2.2.m1.1.1.1.1.1.2">𝑡</ci><ci id="alg1.2.2.m1.1.1.1.1.1.3.cmml" xref="alg1.2.2.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg1.2.2.m1.2.2.2.2.2.cmml" xref="alg1.2.2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.2.2.m1.2.2.2.2.2.1.cmml" xref="alg1.2.2.m1.2.2.2.2.2">subscript</csymbol><ci id="alg1.2.2.m1.2.2.2.2.2.2.cmml" xref="alg1.2.2.m1.2.2.2.2.2.2">𝒞</ci><ci id="alg1.2.2.m1.2.2.2.2.2.3.cmml" xref="alg1.2.2.m1.2.2.2.2.2.3">𝑖</ci></apply><apply id="alg1.2.2.m1.3.3.3.3.3.cmml" xref="alg1.2.2.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="alg1.2.2.m1.3.3.3.3.3.1.cmml" xref="alg1.2.2.m1.3.3.3.3.3">subscript</csymbol><ci id="alg1.2.2.m1.3.3.3.3.3.2.cmml" xref="alg1.2.2.m1.3.3.3.3.3.2">𝒞</ci><ci id="alg1.2.2.m1.3.3.3.3.3.3.cmml" xref="alg1.2.2.m1.3.3.3.3.3.3">𝑗</ci></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.2.m1.3c">\it{contact}(t_{i},\mathcal{C}_{i},\mathcal{C}_{j})</annotation></semantics></math><span id="alg1.4.4.3" class="ltx_text" style="font-size:90%;">: predicted duration of encounter with device </span><math id="alg1.3.3.m2.1" class="ltx_Math" alttext="j" display="inline"><semantics id="alg1.3.3.m2.1a"><mi mathsize="90%" id="alg1.3.3.m2.1.1" xref="alg1.3.3.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="alg1.3.3.m2.1b"><ci id="alg1.3.3.m2.1.1.cmml" xref="alg1.3.3.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.3.m2.1c">j</annotation></semantics></math><span id="alg1.4.4.4" class="ltx_text" style="font-size:90%;"> at time </span><math id="alg1.4.4.m3.1" class="ltx_Math" alttext="t_{i}" display="inline"><semantics id="alg1.4.4.m3.1a"><msub id="alg1.4.4.m3.1.1" xref="alg1.4.4.m3.1.1.cmml"><mi mathsize="90%" id="alg1.4.4.m3.1.1.2" xref="alg1.4.4.m3.1.1.2.cmml">t</mi><mi mathsize="90%" id="alg1.4.4.m3.1.1.3" xref="alg1.4.4.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.4.4.m3.1b"><apply id="alg1.4.4.m3.1.1.cmml" xref="alg1.4.4.m3.1.1"><csymbol cd="ambiguous" id="alg1.4.4.m3.1.1.1.cmml" xref="alg1.4.4.m3.1.1">subscript</csymbol><ci id="alg1.4.4.m3.1.1.2.cmml" xref="alg1.4.4.m3.1.1.2">𝑡</ci><ci id="alg1.4.4.m3.1.1.3.cmml" xref="alg1.4.4.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.4.m3.1c">t_{i}</annotation></semantics></math>
</div>
<div id="alg1.5.5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.5.5.1.1.1" class="ltx_text" style="font-size:90%;">4</span></span><span id="alg1.5.5.2" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.5.5.m1.1" class="ltx_Math" alttext="\Gamma[\mathcal{L}]" display="inline"><semantics id="alg1.5.5.m1.1a"><mrow id="alg1.5.5.m1.1.2" xref="alg1.5.5.m1.1.2.cmml"><mi mathsize="90%" mathvariant="normal" id="alg1.5.5.m1.1.2.2" xref="alg1.5.5.m1.1.2.2.cmml">Γ</mi><mo lspace="0em" rspace="0em" id="alg1.5.5.m1.1.2.1" xref="alg1.5.5.m1.1.2.1.cmml">​</mo><mrow id="alg1.5.5.m1.1.2.3.2" xref="alg1.5.5.m1.1.2.3.1.cmml"><mo maxsize="90%" minsize="90%" id="alg1.5.5.m1.1.2.3.2.1" xref="alg1.5.5.m1.1.2.3.1.1.cmml">[</mo><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="alg1.5.5.m1.1.1" xref="alg1.5.5.m1.1.1.cmml">ℒ</mi><mo maxsize="90%" minsize="90%" id="alg1.5.5.m1.1.2.3.2.2" xref="alg1.5.5.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.5.5.m1.1b"><apply id="alg1.5.5.m1.1.2.cmml" xref="alg1.5.5.m1.1.2"><times id="alg1.5.5.m1.1.2.1.cmml" xref="alg1.5.5.m1.1.2.1"></times><ci id="alg1.5.5.m1.1.2.2.cmml" xref="alg1.5.5.m1.1.2.2">Γ</ci><apply id="alg1.5.5.m1.1.2.3.1.cmml" xref="alg1.5.5.m1.1.2.3.2"><csymbol cd="latexml" id="alg1.5.5.m1.1.2.3.1.1.cmml" xref="alg1.5.5.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg1.5.5.m1.1.1.cmml" xref="alg1.5.5.m1.1.1">ℒ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.5.m1.1c">\Gamma[\mathcal{L}]</annotation></semantics></math><span id="alg1.5.5.3" class="ltx_text" style="font-size:90%;">: maps a subset of labels to the most recent encounter gradient trained on those labels</span>
</div>
<div id="alg1.6.6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.6.6.2.1.1" class="ltx_text" style="font-size:90%;">5</span></span><span id="alg1.6.6.3" class="ltx_text" style="font-size:90%;">
</span><span id="alg1.6.6.4" class="ltx_text ltx_font_bold" style="font-size:90%;">Function </span><span id="alg1.6.6.5" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">onDiscover:</span><span id="alg1.6.6.6" class="ltx_text" style="font-size:90%;"> </span><em id="alg1.6.6.1" class="ltx_emph ltx_font_italic" style="font-size:90%;"><math id="alg1.6.6.1.m1.1" class="ltx_Math" alttext="\mathcal{L}_{j}" display="inline"><semantics id="alg1.6.6.1.m1.1a"><msub id="alg1.6.6.1.m1.1.1" xref="alg1.6.6.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.6.6.1.m1.1.1.2" xref="alg1.6.6.1.m1.1.1.2.cmml">ℒ</mi><mi id="alg1.6.6.1.m1.1.1.3" xref="alg1.6.6.1.m1.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.6.6.1.m1.1b"><apply id="alg1.6.6.1.m1.1.1.cmml" xref="alg1.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.6.6.1.m1.1.1.1.cmml" xref="alg1.6.6.1.m1.1.1">subscript</csymbol><ci id="alg1.6.6.1.m1.1.1.2.cmml" xref="alg1.6.6.1.m1.1.1.2">ℒ</ci><ci id="alg1.6.6.1.m1.1.1.3.cmml" xref="alg1.6.6.1.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.6.6.1.m1.1c">\mathcal{L}_{j}</annotation></semantics></math></em><span id="alg1.6.6.7" class="ltx_text" style="font-size:90%;"> </span>
</div>
<div id="alg1.7.7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.7.7.2.1.1" class="ltx_text" style="font-size:90%;">6</span></span><span id="alg1.7.7.3" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.7.7.4" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.7.7.5" class="ltx_text" style="font-size:90%;">
</span><span id="alg1.7.7.6" class="ltx_text ltx_font_bold" style="font-size:90%;">if</span><span id="alg1.7.7.7" class="ltx_text" style="font-size:90%;"> </span><em id="alg1.7.7.1" class="ltx_emph ltx_font_italic" style="font-size:90%;"><math id="alg1.7.7.1.m1.2" class="ltx_Math" alttext="\it{sim}(\mathcal{G}_{i},\mathcal{L}_{j})&gt;\tau" display="inline"><semantics id="alg1.7.7.1.m1.2a"><mrow id="alg1.7.7.1.m1.2.2" xref="alg1.7.7.1.m1.2.2.cmml"><mrow id="alg1.7.7.1.m1.2.2.2" xref="alg1.7.7.1.m1.2.2.2.cmml"><mi id="alg1.7.7.1.m1.2.2.2.4" xref="alg1.7.7.1.m1.2.2.2.4.cmml">𝑠𝑖𝑚</mi><mo lspace="0em" rspace="0em" id="alg1.7.7.1.m1.2.2.2.3" xref="alg1.7.7.1.m1.2.2.2.3.cmml">​</mo><mrow id="alg1.7.7.1.m1.2.2.2.2.2" xref="alg1.7.7.1.m1.2.2.2.2.3.cmml"><mo stretchy="false" id="alg1.7.7.1.m1.2.2.2.2.2.3" xref="alg1.7.7.1.m1.2.2.2.2.3.cmml">(</mo><msub id="alg1.7.7.1.m1.1.1.1.1.1.1" xref="alg1.7.7.1.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.7.7.1.m1.1.1.1.1.1.1.2" xref="alg1.7.7.1.m1.1.1.1.1.1.1.2.cmml">𝒢</mi><mi id="alg1.7.7.1.m1.1.1.1.1.1.1.3" xref="alg1.7.7.1.m1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="alg1.7.7.1.m1.2.2.2.2.2.4" xref="alg1.7.7.1.m1.2.2.2.2.3.cmml">,</mo><msub id="alg1.7.7.1.m1.2.2.2.2.2.2" xref="alg1.7.7.1.m1.2.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="alg1.7.7.1.m1.2.2.2.2.2.2.2" xref="alg1.7.7.1.m1.2.2.2.2.2.2.2.cmml">ℒ</mi><mi id="alg1.7.7.1.m1.2.2.2.2.2.2.3" xref="alg1.7.7.1.m1.2.2.2.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="alg1.7.7.1.m1.2.2.2.2.2.5" xref="alg1.7.7.1.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="alg1.7.7.1.m1.2.2.3" xref="alg1.7.7.1.m1.2.2.3.cmml">&gt;</mo><mi id="alg1.7.7.1.m1.2.2.4" xref="alg1.7.7.1.m1.2.2.4.cmml">τ</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.7.7.1.m1.2b"><apply id="alg1.7.7.1.m1.2.2.cmml" xref="alg1.7.7.1.m1.2.2"><gt id="alg1.7.7.1.m1.2.2.3.cmml" xref="alg1.7.7.1.m1.2.2.3"></gt><apply id="alg1.7.7.1.m1.2.2.2.cmml" xref="alg1.7.7.1.m1.2.2.2"><times id="alg1.7.7.1.m1.2.2.2.3.cmml" xref="alg1.7.7.1.m1.2.2.2.3"></times><ci id="alg1.7.7.1.m1.2.2.2.4.cmml" xref="alg1.7.7.1.m1.2.2.2.4">𝑠𝑖𝑚</ci><interval closure="open" id="alg1.7.7.1.m1.2.2.2.2.3.cmml" xref="alg1.7.7.1.m1.2.2.2.2.2"><apply id="alg1.7.7.1.m1.1.1.1.1.1.1.cmml" xref="alg1.7.7.1.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.7.7.1.m1.1.1.1.1.1.1.1.cmml" xref="alg1.7.7.1.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.7.7.1.m1.1.1.1.1.1.1.2.cmml" xref="alg1.7.7.1.m1.1.1.1.1.1.1.2">𝒢</ci><ci id="alg1.7.7.1.m1.1.1.1.1.1.1.3.cmml" xref="alg1.7.7.1.m1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="alg1.7.7.1.m1.2.2.2.2.2.2.cmml" xref="alg1.7.7.1.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.7.7.1.m1.2.2.2.2.2.2.1.cmml" xref="alg1.7.7.1.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.7.7.1.m1.2.2.2.2.2.2.2.cmml" xref="alg1.7.7.1.m1.2.2.2.2.2.2.2">ℒ</ci><ci id="alg1.7.7.1.m1.2.2.2.2.2.2.3.cmml" xref="alg1.7.7.1.m1.2.2.2.2.2.2.3">𝑗</ci></apply></interval></apply><ci id="alg1.7.7.1.m1.2.2.4.cmml" xref="alg1.7.7.1.m1.2.2.4">𝜏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.7.7.1.m1.2c">\it{sim}(\mathcal{G}_{i},\mathcal{L}_{j})&gt;\tau</annotation></semantics></math></em><span id="alg1.7.7.8" class="ltx_text" style="font-size:90%;"> </span><span id="alg1.7.7.9" class="ltx_text ltx_font_bold" style="font-size:90%;">then</span><span id="alg1.7.7.10" class="ltx_text" style="font-size:90%;"> </span>
</div>
<div id="alg1.8.8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.8.8.1.1.1" class="ltx_text" style="font-size:90%;">7</span></span><span id="alg1.8.8.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.8.8.3" class="ltx_text" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.8.8.4" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.8.8.5" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.8.8.m1.1" class="ltx_Math" alttext="w^{\prime}=w_{i}^{t_{i}}" display="inline"><semantics id="alg1.8.8.m1.1a"><mrow id="alg1.8.8.m1.1.1" xref="alg1.8.8.m1.1.1.cmml"><msup id="alg1.8.8.m1.1.1.2" xref="alg1.8.8.m1.1.1.2.cmml"><mi mathsize="90%" id="alg1.8.8.m1.1.1.2.2" xref="alg1.8.8.m1.1.1.2.2.cmml">w</mi><mo mathsize="90%" id="alg1.8.8.m1.1.1.2.3" xref="alg1.8.8.m1.1.1.2.3.cmml">′</mo></msup><mo mathsize="90%" id="alg1.8.8.m1.1.1.1" xref="alg1.8.8.m1.1.1.1.cmml">=</mo><msubsup id="alg1.8.8.m1.1.1.3" xref="alg1.8.8.m1.1.1.3.cmml"><mi mathsize="90%" id="alg1.8.8.m1.1.1.3.2.2" xref="alg1.8.8.m1.1.1.3.2.2.cmml">w</mi><mi mathsize="90%" id="alg1.8.8.m1.1.1.3.2.3" xref="alg1.8.8.m1.1.1.3.2.3.cmml">i</mi><msub id="alg1.8.8.m1.1.1.3.3" xref="alg1.8.8.m1.1.1.3.3.cmml"><mi mathsize="90%" id="alg1.8.8.m1.1.1.3.3.2" xref="alg1.8.8.m1.1.1.3.3.2.cmml">t</mi><mi mathsize="90%" id="alg1.8.8.m1.1.1.3.3.3" xref="alg1.8.8.m1.1.1.3.3.3.cmml">i</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg1.8.8.m1.1b"><apply id="alg1.8.8.m1.1.1.cmml" xref="alg1.8.8.m1.1.1"><eq id="alg1.8.8.m1.1.1.1.cmml" xref="alg1.8.8.m1.1.1.1"></eq><apply id="alg1.8.8.m1.1.1.2.cmml" xref="alg1.8.8.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.8.8.m1.1.1.2.1.cmml" xref="alg1.8.8.m1.1.1.2">superscript</csymbol><ci id="alg1.8.8.m1.1.1.2.2.cmml" xref="alg1.8.8.m1.1.1.2.2">𝑤</ci><ci id="alg1.8.8.m1.1.1.2.3.cmml" xref="alg1.8.8.m1.1.1.2.3">′</ci></apply><apply id="alg1.8.8.m1.1.1.3.cmml" xref="alg1.8.8.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.8.8.m1.1.1.3.1.cmml" xref="alg1.8.8.m1.1.1.3">superscript</csymbol><apply id="alg1.8.8.m1.1.1.3.2.cmml" xref="alg1.8.8.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.8.8.m1.1.1.3.2.1.cmml" xref="alg1.8.8.m1.1.1.3">subscript</csymbol><ci id="alg1.8.8.m1.1.1.3.2.2.cmml" xref="alg1.8.8.m1.1.1.3.2.2">𝑤</ci><ci id="alg1.8.8.m1.1.1.3.2.3.cmml" xref="alg1.8.8.m1.1.1.3.2.3">𝑖</ci></apply><apply id="alg1.8.8.m1.1.1.3.3.cmml" xref="alg1.8.8.m1.1.1.3.3"><csymbol cd="ambiguous" id="alg1.8.8.m1.1.1.3.3.1.cmml" xref="alg1.8.8.m1.1.1.3.3">subscript</csymbol><ci id="alg1.8.8.m1.1.1.3.3.2.cmml" xref="alg1.8.8.m1.1.1.3.3.2">𝑡</ci><ci id="alg1.8.8.m1.1.1.3.3.3.cmml" xref="alg1.8.8.m1.1.1.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.8.8.m1.1c">w^{\prime}=w_{i}^{t_{i}}</annotation></semantics></math>
</div>
<div id="alg1.10.10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.10.10.3.1.1" class="ltx_text" style="font-size:90%;">8</span></span><span id="alg1.10.10.4" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.10.10.5" class="ltx_text" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.10.10.6" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.10.10.7" class="ltx_text" style="font-size:90%;">
</span><span id="alg1.10.10.8" class="ltx_text ltx_font_bold" style="font-size:90%;">for</span><span id="alg1.10.10.9" class="ltx_text" style="font-size:90%;"> </span><em id="alg1.10.10.2" class="ltx_emph ltx_font_italic" style="font-size:90%;"><math id="alg1.9.9.1.m1.1" class="ltx_Math" alttext="r\leftarrow 0" display="inline"><semantics id="alg1.9.9.1.m1.1a"><mrow id="alg1.9.9.1.m1.1.1" xref="alg1.9.9.1.m1.1.1.cmml"><mi id="alg1.9.9.1.m1.1.1.2" xref="alg1.9.9.1.m1.1.1.2.cmml">r</mi><mo stretchy="false" id="alg1.9.9.1.m1.1.1.1" xref="alg1.9.9.1.m1.1.1.1.cmml">←</mo><mn id="alg1.9.9.1.m1.1.1.3" xref="alg1.9.9.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg1.9.9.1.m1.1b"><apply id="alg1.9.9.1.m1.1.1.cmml" xref="alg1.9.9.1.m1.1.1"><ci id="alg1.9.9.1.m1.1.1.1.cmml" xref="alg1.9.9.1.m1.1.1.1">←</ci><ci id="alg1.9.9.1.m1.1.1.2.cmml" xref="alg1.9.9.1.m1.1.1.2">𝑟</ci><cn type="integer" id="alg1.9.9.1.m1.1.1.3.cmml" xref="alg1.9.9.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.9.9.1.m1.1c">r\leftarrow 0</annotation></semantics></math> <span id="alg1.10.10.2.1" class="ltx_text ltx_font_bold ltx_font_upright">to</span> <math id="alg1.10.10.2.m2.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="alg1.10.10.2.m2.1a"><mi id="alg1.10.10.2.m2.1.1" xref="alg1.10.10.2.m2.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="alg1.10.10.2.m2.1b"><ci id="alg1.10.10.2.m2.1.1.cmml" xref="alg1.10.10.2.m2.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.10.10.2.m2.1c">\rho</annotation></semantics></math></em><span id="alg1.10.10.10" class="ltx_text" style="font-size:90%;"> </span><span id="alg1.10.10.11" class="ltx_text ltx_font_bold" style="font-size:90%;">do</span><span id="alg1.10.10.12" class="ltx_text" style="font-size:90%;"> </span>
</div>
<div id="alg1.11.11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.11.11.1.1.1" class="ltx_text" style="font-size:90%;">9</span></span><span id="alg1.11.11.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.11.11.3" class="ltx_text" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.11.11.4" class="ltx_text" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.11.11.5" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.11.11.6" class="ltx_text" style="font-size:90%;">
request computation of </span><math id="alg1.11.11.m1.2" class="ltx_Math" alttext="\nabla\ell(w^{\prime};\mathcal{D}_{j})" display="inline"><semantics id="alg1.11.11.m1.2a"><mrow id="alg1.11.11.m1.2.2" xref="alg1.11.11.m1.2.2.cmml"><mrow id="alg1.11.11.m1.2.2.4" xref="alg1.11.11.m1.2.2.4.cmml"><mo mathsize="90%" rspace="0.167em" id="alg1.11.11.m1.2.2.4.1" xref="alg1.11.11.m1.2.2.4.1.cmml">∇</mo><mi mathsize="90%" mathvariant="normal" id="alg1.11.11.m1.2.2.4.2" xref="alg1.11.11.m1.2.2.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.11.11.m1.2.2.3" xref="alg1.11.11.m1.2.2.3.cmml">​</mo><mrow id="alg1.11.11.m1.2.2.2.2" xref="alg1.11.11.m1.2.2.2.3.cmml"><mo maxsize="90%" minsize="90%" id="alg1.11.11.m1.2.2.2.2.3" xref="alg1.11.11.m1.2.2.2.3.cmml">(</mo><msup id="alg1.11.11.m1.1.1.1.1.1" xref="alg1.11.11.m1.1.1.1.1.1.cmml"><mi mathsize="90%" id="alg1.11.11.m1.1.1.1.1.1.2" xref="alg1.11.11.m1.1.1.1.1.1.2.cmml">w</mi><mo mathsize="90%" id="alg1.11.11.m1.1.1.1.1.1.3" xref="alg1.11.11.m1.1.1.1.1.1.3.cmml">′</mo></msup><mo mathsize="90%" id="alg1.11.11.m1.2.2.2.2.4" xref="alg1.11.11.m1.2.2.2.3.cmml">;</mo><msub id="alg1.11.11.m1.2.2.2.2.2" xref="alg1.11.11.m1.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="alg1.11.11.m1.2.2.2.2.2.2" xref="alg1.11.11.m1.2.2.2.2.2.2.cmml">𝒟</mi><mi mathsize="90%" id="alg1.11.11.m1.2.2.2.2.2.3" xref="alg1.11.11.m1.2.2.2.2.2.3.cmml">j</mi></msub><mo maxsize="90%" minsize="90%" id="alg1.11.11.m1.2.2.2.2.5" xref="alg1.11.11.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.11.11.m1.2b"><apply id="alg1.11.11.m1.2.2.cmml" xref="alg1.11.11.m1.2.2"><times id="alg1.11.11.m1.2.2.3.cmml" xref="alg1.11.11.m1.2.2.3"></times><apply id="alg1.11.11.m1.2.2.4.cmml" xref="alg1.11.11.m1.2.2.4"><ci id="alg1.11.11.m1.2.2.4.1.cmml" xref="alg1.11.11.m1.2.2.4.1">∇</ci><ci id="alg1.11.11.m1.2.2.4.2.cmml" xref="alg1.11.11.m1.2.2.4.2">ℓ</ci></apply><list id="alg1.11.11.m1.2.2.2.3.cmml" xref="alg1.11.11.m1.2.2.2.2"><apply id="alg1.11.11.m1.1.1.1.1.1.cmml" xref="alg1.11.11.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.11.11.m1.1.1.1.1.1.1.cmml" xref="alg1.11.11.m1.1.1.1.1.1">superscript</csymbol><ci id="alg1.11.11.m1.1.1.1.1.1.2.cmml" xref="alg1.11.11.m1.1.1.1.1.1.2">𝑤</ci><ci id="alg1.11.11.m1.1.1.1.1.1.3.cmml" xref="alg1.11.11.m1.1.1.1.1.1.3">′</ci></apply><apply id="alg1.11.11.m1.2.2.2.2.2.cmml" xref="alg1.11.11.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.11.11.m1.2.2.2.2.2.1.cmml" xref="alg1.11.11.m1.2.2.2.2.2">subscript</csymbol><ci id="alg1.11.11.m1.2.2.2.2.2.2.cmml" xref="alg1.11.11.m1.2.2.2.2.2.2">𝒟</ci><ci id="alg1.11.11.m1.2.2.2.2.2.3.cmml" xref="alg1.11.11.m1.2.2.2.2.2.3">𝑗</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.11.11.m1.2c">\nabla\ell(w^{\prime};\mathcal{D}_{j})</annotation></semantics></math>
</div>
<div id="alg1.12.12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.12.12.1.1.1" class="ltx_text" style="font-size:90%;">10</span></span><span id="alg1.12.12.2" class="ltx_text" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.12.12.3" class="ltx_text" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.12.12.4" class="ltx_text" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.12.12.5" class="ltx_text" style="font-size:90%;">   </span><span id="alg1.12.12.6" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.12.12.m1.3" class="ltx_Math" alttext="\Gamma[\mathcal{L}_{j}]\leftarrow\nabla\ell(w^{\prime};\mathcal{D}_{j})" display="inline"><semantics id="alg1.12.12.m1.3a"><mrow id="alg1.12.12.m1.3.3" xref="alg1.12.12.m1.3.3.cmml"><mrow id="alg1.12.12.m1.1.1.1" xref="alg1.12.12.m1.1.1.1.cmml"><mi mathsize="90%" mathvariant="normal" id="alg1.12.12.m1.1.1.1.3" xref="alg1.12.12.m1.1.1.1.3.cmml">Γ</mi><mo lspace="0em" rspace="0em" id="alg1.12.12.m1.1.1.1.2" xref="alg1.12.12.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.12.12.m1.1.1.1.1.1" xref="alg1.12.12.m1.1.1.1.1.2.cmml"><mo maxsize="90%" minsize="90%" id="alg1.12.12.m1.1.1.1.1.1.2" xref="alg1.12.12.m1.1.1.1.1.2.1.cmml">[</mo><msub id="alg1.12.12.m1.1.1.1.1.1.1" xref="alg1.12.12.m1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="alg1.12.12.m1.1.1.1.1.1.1.2" xref="alg1.12.12.m1.1.1.1.1.1.1.2.cmml">ℒ</mi><mi mathsize="90%" id="alg1.12.12.m1.1.1.1.1.1.1.3" xref="alg1.12.12.m1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo maxsize="90%" minsize="90%" id="alg1.12.12.m1.1.1.1.1.1.3" xref="alg1.12.12.m1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo mathsize="90%" stretchy="false" id="alg1.12.12.m1.3.3.4" xref="alg1.12.12.m1.3.3.4.cmml">←</mo><mrow id="alg1.12.12.m1.3.3.3" xref="alg1.12.12.m1.3.3.3.cmml"><mrow id="alg1.12.12.m1.3.3.3.4" xref="alg1.12.12.m1.3.3.3.4.cmml"><mo mathsize="90%" rspace="0.167em" id="alg1.12.12.m1.3.3.3.4.1" xref="alg1.12.12.m1.3.3.3.4.1.cmml">∇</mo><mi mathsize="90%" mathvariant="normal" id="alg1.12.12.m1.3.3.3.4.2" xref="alg1.12.12.m1.3.3.3.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="alg1.12.12.m1.3.3.3.3" xref="alg1.12.12.m1.3.3.3.3.cmml">​</mo><mrow id="alg1.12.12.m1.3.3.3.2.2" xref="alg1.12.12.m1.3.3.3.2.3.cmml"><mo maxsize="90%" minsize="90%" id="alg1.12.12.m1.3.3.3.2.2.3" xref="alg1.12.12.m1.3.3.3.2.3.cmml">(</mo><msup id="alg1.12.12.m1.2.2.2.1.1.1" xref="alg1.12.12.m1.2.2.2.1.1.1.cmml"><mi mathsize="90%" id="alg1.12.12.m1.2.2.2.1.1.1.2" xref="alg1.12.12.m1.2.2.2.1.1.1.2.cmml">w</mi><mo mathsize="90%" id="alg1.12.12.m1.2.2.2.1.1.1.3" xref="alg1.12.12.m1.2.2.2.1.1.1.3.cmml">′</mo></msup><mo mathsize="90%" id="alg1.12.12.m1.3.3.3.2.2.4" xref="alg1.12.12.m1.3.3.3.2.3.cmml">;</mo><msub id="alg1.12.12.m1.3.3.3.2.2.2" xref="alg1.12.12.m1.3.3.3.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" mathsize="90%" id="alg1.12.12.m1.3.3.3.2.2.2.2" xref="alg1.12.12.m1.3.3.3.2.2.2.2.cmml">𝒟</mi><mi mathsize="90%" id="alg1.12.12.m1.3.3.3.2.2.2.3" xref="alg1.12.12.m1.3.3.3.2.2.2.3.cmml">j</mi></msub><mo maxsize="90%" minsize="90%" id="alg1.12.12.m1.3.3.3.2.2.5" xref="alg1.12.12.m1.3.3.3.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.12.12.m1.3b"><apply id="alg1.12.12.m1.3.3.cmml" xref="alg1.12.12.m1.3.3"><ci id="alg1.12.12.m1.3.3.4.cmml" xref="alg1.12.12.m1.3.3.4">←</ci><apply id="alg1.12.12.m1.1.1.1.cmml" xref="alg1.12.12.m1.1.1.1"><times id="alg1.12.12.m1.1.1.1.2.cmml" xref="alg1.12.12.m1.1.1.1.2"></times><ci id="alg1.12.12.m1.1.1.1.3.cmml" xref="alg1.12.12.m1.1.1.1.3">Γ</ci><apply id="alg1.12.12.m1.1.1.1.1.2.cmml" xref="alg1.12.12.m1.1.1.1.1.1"><csymbol cd="latexml" id="alg1.12.12.m1.1.1.1.1.2.1.cmml" xref="alg1.12.12.m1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="alg1.12.12.m1.1.1.1.1.1.1.cmml" xref="alg1.12.12.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.12.12.m1.1.1.1.1.1.1.1.cmml" xref="alg1.12.12.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.12.12.m1.1.1.1.1.1.1.2.cmml" xref="alg1.12.12.m1.1.1.1.1.1.1.2">ℒ</ci><ci id="alg1.12.12.m1.1.1.1.1.1.1.3.cmml" xref="alg1.12.12.m1.1.1.1.1.1.1.3">𝑗</ci></apply></apply></apply><apply id="alg1.12.12.m1.3.3.3.cmml" xref="alg1.12.12.m1.3.3.3"><times id="alg1.12.12.m1.3.3.3.3.cmml" xref="alg1.12.12.m1.3.3.3.3"></times><apply id="alg1.12.12.m1.3.3.3.4.cmml" xref="alg1.12.12.m1.3.3.3.4"><ci id="alg1.12.12.m1.3.3.3.4.1.cmml" xref="alg1.12.12.m1.3.3.3.4.1">∇</ci><ci id="alg1.12.12.m1.3.3.3.4.2.cmml" xref="alg1.12.12.m1.3.3.3.4.2">ℓ</ci></apply><list id="alg1.12.12.m1.3.3.3.2.3.cmml" xref="alg1.12.12.m1.3.3.3.2.2"><apply id="alg1.12.12.m1.2.2.2.1.1.1.cmml" xref="alg1.12.12.m1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.12.12.m1.2.2.2.1.1.1.1.cmml" xref="alg1.12.12.m1.2.2.2.1.1.1">superscript</csymbol><ci id="alg1.12.12.m1.2.2.2.1.1.1.2.cmml" xref="alg1.12.12.m1.2.2.2.1.1.1.2">𝑤</ci><ci id="alg1.12.12.m1.2.2.2.1.1.1.3.cmml" xref="alg1.12.12.m1.2.2.2.1.1.1.3">′</ci></apply><apply id="alg1.12.12.m1.3.3.3.2.2.2.cmml" xref="alg1.12.12.m1.3.3.3.2.2.2"><csymbol cd="ambiguous" id="alg1.12.12.m1.3.3.3.2.2.2.1.cmml" xref="alg1.12.12.m1.3.3.3.2.2.2">subscript</csymbol><ci id="alg1.12.12.m1.3.3.3.2.2.2.2.cmml" xref="alg1.12.12.m1.3.3.3.2.2.2.2">𝒟</ci><ci id="alg1.12.12.m1.3.3.3.2.2.2.3.cmml" xref="alg1.12.12.m1.3.3.3.2.2.2.3">𝑗</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.12.12.m1.3c">\Gamma[\mathcal{L}_{j}]\leftarrow\nabla\ell(w^{\prime};\mathcal{D}_{j})</annotation></semantics></math>
</div>
<div id="alg1.13.13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.13.13.1.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">11</span></span><span id="alg1.13.13.2" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">  <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>     <span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span>   </span><span id="alg1.13.13.3" class="ltx_text" style="font-size:90%;">
</span><math id="alg1.13.13.m1.1" class="ltx_Math" alttext="w^{\prime}\leftarrow" display="inline"><semantics id="alg1.13.13.m1.1a"><mrow id="alg1.13.13.m1.1.1" xref="alg1.13.13.m1.1.1.cmml"><msup id="alg1.13.13.m1.1.1.2" xref="alg1.13.13.m1.1.1.2.cmml"><mi mathsize="90%" id="alg1.13.13.m1.1.1.2.2" xref="alg1.13.13.m1.1.1.2.2.cmml">w</mi><mo mathsize="90%" id="alg1.13.13.m1.1.1.2.3" xref="alg1.13.13.m1.1.1.2.3.cmml">′</mo></msup><mo mathsize="90%" stretchy="false" id="alg1.13.13.m1.1.1.1" xref="alg1.13.13.m1.1.1.1.cmml">←</mo><mi id="alg1.13.13.m1.1.1.3" xref="alg1.13.13.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.13.13.m1.1b"><apply id="alg1.13.13.m1.1.1.cmml" xref="alg1.13.13.m1.1.1"><ci id="alg1.13.13.m1.1.1.1.cmml" xref="alg1.13.13.m1.1.1.1">←</ci><apply id="alg1.13.13.m1.1.1.2.cmml" xref="alg1.13.13.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.13.13.m1.1.1.2.1.cmml" xref="alg1.13.13.m1.1.1.2">superscript</csymbol><ci id="alg1.13.13.m1.1.1.2.2.cmml" xref="alg1.13.13.m1.1.1.2.2">𝑤</ci><ci id="alg1.13.13.m1.1.1.2.3.cmml" xref="alg1.13.13.m1.1.1.2.3">′</ci></apply><csymbol cd="latexml" id="alg1.13.13.m1.1.1.3.cmml" xref="alg1.13.13.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.13.13.m1.1c">w^{\prime}\leftarrow</annotation></semantics></math><span id="alg1.13.13.4" class="ltx_text" style="font-size:90%;"> </span><span id="alg1.13.13.5" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">aggregateGradients</span>
</div>
<div id="alg1.14.16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.14.16.1.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">12</span></span><span id="alg1.14.16.2" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.16.3" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.16.4" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.16.5" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">   </span><span id="alg1.14.16.6" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">
</span>
</div>
<div id="alg1.14.17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.14.17.1.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">13</span></span><span id="alg1.14.17.2" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.17.3" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.17.4" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">   </span><span id="alg1.14.17.5" class="ltx_text ltx_font_smallcaps" style="font-size:90%;"> end for</span>
</div>
<div id="alg1.14.14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.14.14.1.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">14</span></span><span id="alg1.14.14.2" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.14.3" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">     </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.14.4" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">   </span><math id="alg1.14.14.m1.1" class="ltx_Math" alttext="w_{i}^{t+1}\leftarrow w^{\prime}" display="inline"><semantics id="alg1.14.14.m1.1a"><mrow id="alg1.14.14.m1.1.1" xref="alg1.14.14.m1.1.1.cmml"><msubsup id="alg1.14.14.m1.1.1.2" xref="alg1.14.14.m1.1.1.2.cmml"><mi mathsize="90%" id="alg1.14.14.m1.1.1.2.2.2" xref="alg1.14.14.m1.1.1.2.2.2.cmml">w</mi><mi mathsize="90%" id="alg1.14.14.m1.1.1.2.2.3" xref="alg1.14.14.m1.1.1.2.2.3.cmml">i</mi><mrow id="alg1.14.14.m1.1.1.2.3" xref="alg1.14.14.m1.1.1.2.3.cmml"><mi mathsize="90%" id="alg1.14.14.m1.1.1.2.3.2" xref="alg1.14.14.m1.1.1.2.3.2.cmml">t</mi><mo mathsize="90%" id="alg1.14.14.m1.1.1.2.3.1" xref="alg1.14.14.m1.1.1.2.3.1.cmml">+</mo><mn mathsize="90%" id="alg1.14.14.m1.1.1.2.3.3" xref="alg1.14.14.m1.1.1.2.3.3.cmml">1</mn></mrow></msubsup><mo mathsize="90%" stretchy="false" id="alg1.14.14.m1.1.1.1" xref="alg1.14.14.m1.1.1.1.cmml">←</mo><msup id="alg1.14.14.m1.1.1.3" xref="alg1.14.14.m1.1.1.3.cmml"><mi mathsize="90%" id="alg1.14.14.m1.1.1.3.2" xref="alg1.14.14.m1.1.1.3.2.cmml">w</mi><mo mathsize="90%" id="alg1.14.14.m1.1.1.3.3" xref="alg1.14.14.m1.1.1.3.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="alg1.14.14.m1.1b"><apply id="alg1.14.14.m1.1.1.cmml" xref="alg1.14.14.m1.1.1"><ci id="alg1.14.14.m1.1.1.1.cmml" xref="alg1.14.14.m1.1.1.1">←</ci><apply id="alg1.14.14.m1.1.1.2.cmml" xref="alg1.14.14.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.14.14.m1.1.1.2.1.cmml" xref="alg1.14.14.m1.1.1.2">superscript</csymbol><apply id="alg1.14.14.m1.1.1.2.2.cmml" xref="alg1.14.14.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.14.14.m1.1.1.2.2.1.cmml" xref="alg1.14.14.m1.1.1.2">subscript</csymbol><ci id="alg1.14.14.m1.1.1.2.2.2.cmml" xref="alg1.14.14.m1.1.1.2.2.2">𝑤</ci><ci id="alg1.14.14.m1.1.1.2.2.3.cmml" xref="alg1.14.14.m1.1.1.2.2.3">𝑖</ci></apply><apply id="alg1.14.14.m1.1.1.2.3.cmml" xref="alg1.14.14.m1.1.1.2.3"><plus id="alg1.14.14.m1.1.1.2.3.1.cmml" xref="alg1.14.14.m1.1.1.2.3.1"></plus><ci id="alg1.14.14.m1.1.1.2.3.2.cmml" xref="alg1.14.14.m1.1.1.2.3.2">𝑡</ci><cn type="integer" id="alg1.14.14.m1.1.1.2.3.3.cmml" xref="alg1.14.14.m1.1.1.2.3.3">1</cn></apply></apply><apply id="alg1.14.14.m1.1.1.3.cmml" xref="alg1.14.14.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.14.14.m1.1.1.3.1.cmml" xref="alg1.14.14.m1.1.1.3">superscript</csymbol><ci id="alg1.14.14.m1.1.1.3.2.cmml" xref="alg1.14.14.m1.1.1.3.2">𝑤</ci><ci id="alg1.14.14.m1.1.1.3.3.cmml" xref="alg1.14.14.m1.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.14.14.m1.1c">w_{i}^{t+1}\leftarrow w^{\prime}</annotation></semantics></math><span id="alg1.14.14.5" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">
</span>
</div>
<div id="alg1.14.18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.14.18.1.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">15</span></span><span id="alg1.14.18.2" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.18.3" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">   </span><span id="alg1.14.18.4" class="ltx_text ltx_font_smallcaps" style="font-size:90%;"> end if</span>
</div>
<div id="alg1.14.19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.14.19.1.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">16</span></span><span id="alg1.14.19.2" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">  </span><span class="ltx_rule" style="width:1px;height:100%;background:black;display:inline-block;"> </span><span id="alg1.14.19.3" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">   </span>
</div>
<div id="alg1.14.20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.14.20.1.1.1" class="ltx_text ltx_font_smallcaps" style="font-size:90%;">17</span></span><span id="alg1.14.20.2" class="ltx_text ltx_font_smallcaps" style="font-size:90%;"> end</span>
</div>
<div id="alg1.14.21" class="ltx_listingline">
<span id="alg1.14.21.1" class="ltx_text">
</span>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.16.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span>Opportunistic Federated Learning</figcaption>
</figure>
<div id="S3.SS2.p6" class="ltx_para">
<p id="S3.SS2.p6.3" class="ltx_p">Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> also relies on a predicted contact duration between two devices <math id="S3.SS2.p6.1.m1.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS2.p6.1.m1.1a"><msub id="S3.SS2.p6.1.m1.1.1" xref="S3.SS2.p6.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p6.1.m1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p6.1.m1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.1b"><apply id="S3.SS2.p6.1.m1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.1.2">𝒞</ci><ci id="S3.SS2.p6.1.m1.1.1.3.cmml" xref="S3.SS2.p6.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.1c">\mathcal{C}_{i}</annotation></semantics></math> and <math id="S3.SS2.p6.2.m2.1" class="ltx_Math" alttext="\mathcal{C}_{j}" display="inline"><semantics id="S3.SS2.p6.2.m2.1a"><msub id="S3.SS2.p6.2.m2.1.1" xref="S3.SS2.p6.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p6.2.m2.1.1.2" xref="S3.SS2.p6.2.m2.1.1.2.cmml">𝒞</mi><mi id="S3.SS2.p6.2.m2.1.1.3" xref="S3.SS2.p6.2.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.2.m2.1b"><apply id="S3.SS2.p6.2.m2.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.2.m2.1.1.1.cmml" xref="S3.SS2.p6.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p6.2.m2.1.1.2.cmml" xref="S3.SS2.p6.2.m2.1.1.2">𝒞</ci><ci id="S3.SS2.p6.2.m2.1.1.3.cmml" xref="S3.SS2.p6.2.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.2.m2.1c">\mathcal{C}_{j}</annotation></semantics></math> at time <math id="S3.SS2.p6.3.m3.1" class="ltx_Math" alttext="t_{i}" display="inline"><semantics id="S3.SS2.p6.3.m3.1a"><msub id="S3.SS2.p6.3.m3.1.1" xref="S3.SS2.p6.3.m3.1.1.cmml"><mi id="S3.SS2.p6.3.m3.1.1.2" xref="S3.SS2.p6.3.m3.1.1.2.cmml">t</mi><mi id="S3.SS2.p6.3.m3.1.1.3" xref="S3.SS2.p6.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.3.m3.1b"><apply id="S3.SS2.p6.3.m3.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.3.m3.1.1.1.cmml" xref="S3.SS2.p6.3.m3.1.1">subscript</csymbol><ci id="S3.SS2.p6.3.m3.1.1.2.cmml" xref="S3.SS2.p6.3.m3.1.1.2">𝑡</ci><ci id="S3.SS2.p6.3.m3.1.1.3.cmml" xref="S3.SS2.p6.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.3.m3.1c">t_{i}</annotation></semantics></math>. This is provided by the underlying system, based on a system-level algorithm on each device that uses the device’s context information to determine a likely length of contact. The specific implementation is outside the scope of this paper; we assume an off-the-shelf method to estimate contact duration <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx38" title="" class="ltx_ref">38</a>, <a href="#bib.bibx4" title="" class="ltx_ref">4</a>]</cite>.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para">
<p id="S3.SS2.p7.3" class="ltx_p">Thirdly, Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> uses a data structure, <math id="S3.SS2.p7.1.m1.1" class="ltx_Math" alttext="\Gamma" display="inline"><semantics id="S3.SS2.p7.1.m1.1a"><mi mathvariant="normal" id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml">Γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><ci id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">Γ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">\Gamma</annotation></semantics></math>, that maps subsets of the label space (the keys) to gradients learned from encounters (the values). This structure is initially empty, but as the learner encounters and interacts with neighbors, it fills up with mappings from each label subset to the most recent gradients learned on that label subset. For instance, if the neighbor’s data label distribution contains labels <math id="S3.SS2.p7.2.m2.3" class="ltx_Math" alttext="{A,B,C}" display="inline"><semantics id="S3.SS2.p7.2.m2.3a"><mrow id="S3.SS2.p7.2.m2.3.4.2" xref="S3.SS2.p7.2.m2.3.4.1.cmml"><mi id="S3.SS2.p7.2.m2.1.1" xref="S3.SS2.p7.2.m2.1.1.cmml">A</mi><mo id="S3.SS2.p7.2.m2.3.4.2.1" xref="S3.SS2.p7.2.m2.3.4.1.cmml">,</mo><mi id="S3.SS2.p7.2.m2.2.2" xref="S3.SS2.p7.2.m2.2.2.cmml">B</mi><mo id="S3.SS2.p7.2.m2.3.4.2.2" xref="S3.SS2.p7.2.m2.3.4.1.cmml">,</mo><mi id="S3.SS2.p7.2.m2.3.3" xref="S3.SS2.p7.2.m2.3.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.2.m2.3b"><list id="S3.SS2.p7.2.m2.3.4.1.cmml" xref="S3.SS2.p7.2.m2.3.4.2"><ci id="S3.SS2.p7.2.m2.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1">𝐴</ci><ci id="S3.SS2.p7.2.m2.2.2.cmml" xref="S3.SS2.p7.2.m2.2.2">𝐵</ci><ci id="S3.SS2.p7.2.m2.3.3.cmml" xref="S3.SS2.p7.2.m2.3.3">𝐶</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.2.m2.3c">{A,B,C}</annotation></semantics></math>, the learner will map the subset <math id="S3.SS2.p7.3.m3.3" class="ltx_Math" alttext="{A,B,C}" display="inline"><semantics id="S3.SS2.p7.3.m3.3a"><mrow id="S3.SS2.p7.3.m3.3.4.2" xref="S3.SS2.p7.3.m3.3.4.1.cmml"><mi id="S3.SS2.p7.3.m3.1.1" xref="S3.SS2.p7.3.m3.1.1.cmml">A</mi><mo id="S3.SS2.p7.3.m3.3.4.2.1" xref="S3.SS2.p7.3.m3.3.4.1.cmml">,</mo><mi id="S3.SS2.p7.3.m3.2.2" xref="S3.SS2.p7.3.m3.2.2.cmml">B</mi><mo id="S3.SS2.p7.3.m3.3.4.2.2" xref="S3.SS2.p7.3.m3.3.4.1.cmml">,</mo><mi id="S3.SS2.p7.3.m3.3.3" xref="S3.SS2.p7.3.m3.3.3.cmml">C</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.3.m3.3b"><list id="S3.SS2.p7.3.m3.3.4.1.cmml" xref="S3.SS2.p7.3.m3.3.4.2"><ci id="S3.SS2.p7.3.m3.1.1.cmml" xref="S3.SS2.p7.3.m3.1.1">𝐴</ci><ci id="S3.SS2.p7.3.m3.2.2.cmml" xref="S3.SS2.p7.3.m3.2.2">𝐵</ci><ci id="S3.SS2.p7.3.m3.3.3.cmml" xref="S3.SS2.p7.3.m3.3.3">𝐶</ci></list></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.3.m3.3c">{A,B,C}</annotation></semantics></math> to the final gradient returned from the learner in Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S3.SS2.p8" class="ltx_para">
<p id="S3.SS2.p8.4" class="ltx_p">When a device discovers a neighbor, the devices immediately exchange data label distributions. Each device independently executes the <span id="S3.SS2.p8.4.1" class="ltx_text ltx_font_smallcaps">onDiscover</span> function that starts on line 4 of Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The local device (the learner) compares the neighbor’s data label distribution to its own goal distribution using Equation <a href="#S3.E2" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. If the similarity is greater than a threshold (<math id="S3.SS2.p8.1.m1.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S3.SS2.p8.1.m1.1a"><mi id="S3.SS2.p8.1.m1.1.1" xref="S3.SS2.p8.1.m1.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.1.m1.1b"><ci id="S3.SS2.p8.1.m1.1.1.cmml" xref="S3.SS2.p8.1.m1.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.1.m1.1c">\tau</annotation></semantics></math>), the learner decides to engage with the neighbor to perform a session of remote training. This session comprises a customizable <math id="S3.SS2.p8.2.m2.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="S3.SS2.p8.2.m2.1a"><mi id="S3.SS2.p8.2.m2.1.1" xref="S3.SS2.p8.2.m2.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.2.m2.1b"><ci id="S3.SS2.p8.2.m2.1.1.cmml" xref="S3.SS2.p8.2.m2.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.2.m2.1c">\rho</annotation></semantics></math> number of rounds; <math id="S3.SS2.p8.3.m3.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="S3.SS2.p8.3.m3.1a"><mi id="S3.SS2.p8.3.m3.1.1" xref="S3.SS2.p8.3.m3.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.3.m3.1b"><ci id="S3.SS2.p8.3.m3.1.1.cmml" xref="S3.SS2.p8.3.m3.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.3.m3.1c">\rho</annotation></semantics></math> may be dictated by the task and underlying model, by the expected duration of the contact, or by some combination. If the pair of devices needs to split the duration of the encounter to perform the exchange in both directions, <math id="S3.SS2.p8.4.m4.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="S3.SS2.p8.4.m4.1a"><mi id="S3.SS2.p8.4.m4.1.1" xref="S3.SS2.p8.4.m4.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p8.4.m4.1b"><ci id="S3.SS2.p8.4.m4.1.1.cmml" xref="S3.SS2.p8.4.m4.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p8.4.m4.1c">\rho</annotation></semantics></math> might also be limited and negotiated.</p>
</div>
<div id="S3.SS2.p9" class="ltx_para">
<p id="S3.SS2.p9.7" class="ltx_p">Each round within a session (lines 8-10 in Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>) has two steps. First, the learner (<math id="S3.SS2.p9.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS2.p9.1.m1.1a"><mi id="S3.SS2.p9.1.m1.1.1" xref="S3.SS2.p9.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.1.m1.1b"><ci id="S3.SS2.p9.1.m1.1.1.cmml" xref="S3.SS2.p9.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.1.m1.1c">i</annotation></semantics></math>) requests remote learning from the neighbor (<math id="S3.SS2.p9.2.m2.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS2.p9.2.m2.1a"><mi id="S3.SS2.p9.2.m2.1.1" xref="S3.SS2.p9.2.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.2.m2.1b"><ci id="S3.SS2.p9.2.m2.1.1.cmml" xref="S3.SS2.p9.2.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.2.m2.1c">j</annotation></semantics></math>). The learner sends the neighbor a copy of its current model by sending a summary of the model parameters. The neighbor loads the model and uses its own local data to compute the gradient <math id="S3.SS2.p9.3.m3.2" class="ltx_Math" alttext="\nabla\ell(w^{\prime};\mathcal{D}_{j})" display="inline"><semantics id="S3.SS2.p9.3.m3.2a"><mrow id="S3.SS2.p9.3.m3.2.2" xref="S3.SS2.p9.3.m3.2.2.cmml"><mrow id="S3.SS2.p9.3.m3.2.2.4" xref="S3.SS2.p9.3.m3.2.2.4.cmml"><mo rspace="0.167em" id="S3.SS2.p9.3.m3.2.2.4.1" xref="S3.SS2.p9.3.m3.2.2.4.1.cmml">∇</mo><mi mathvariant="normal" id="S3.SS2.p9.3.m3.2.2.4.2" xref="S3.SS2.p9.3.m3.2.2.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS2.p9.3.m3.2.2.3" xref="S3.SS2.p9.3.m3.2.2.3.cmml">​</mo><mrow id="S3.SS2.p9.3.m3.2.2.2.2" xref="S3.SS2.p9.3.m3.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.p9.3.m3.2.2.2.2.3" xref="S3.SS2.p9.3.m3.2.2.2.3.cmml">(</mo><msup id="S3.SS2.p9.3.m3.1.1.1.1.1" xref="S3.SS2.p9.3.m3.1.1.1.1.1.cmml"><mi id="S3.SS2.p9.3.m3.1.1.1.1.1.2" xref="S3.SS2.p9.3.m3.1.1.1.1.1.2.cmml">w</mi><mo id="S3.SS2.p9.3.m3.1.1.1.1.1.3" xref="S3.SS2.p9.3.m3.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.SS2.p9.3.m3.2.2.2.2.4" xref="S3.SS2.p9.3.m3.2.2.2.3.cmml">;</mo><msub id="S3.SS2.p9.3.m3.2.2.2.2.2" xref="S3.SS2.p9.3.m3.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p9.3.m3.2.2.2.2.2.2" xref="S3.SS2.p9.3.m3.2.2.2.2.2.2.cmml">𝒟</mi><mi id="S3.SS2.p9.3.m3.2.2.2.2.2.3" xref="S3.SS2.p9.3.m3.2.2.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.SS2.p9.3.m3.2.2.2.2.5" xref="S3.SS2.p9.3.m3.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.3.m3.2b"><apply id="S3.SS2.p9.3.m3.2.2.cmml" xref="S3.SS2.p9.3.m3.2.2"><times id="S3.SS2.p9.3.m3.2.2.3.cmml" xref="S3.SS2.p9.3.m3.2.2.3"></times><apply id="S3.SS2.p9.3.m3.2.2.4.cmml" xref="S3.SS2.p9.3.m3.2.2.4"><ci id="S3.SS2.p9.3.m3.2.2.4.1.cmml" xref="S3.SS2.p9.3.m3.2.2.4.1">∇</ci><ci id="S3.SS2.p9.3.m3.2.2.4.2.cmml" xref="S3.SS2.p9.3.m3.2.2.4.2">ℓ</ci></apply><list id="S3.SS2.p9.3.m3.2.2.2.3.cmml" xref="S3.SS2.p9.3.m3.2.2.2.2"><apply id="S3.SS2.p9.3.m3.1.1.1.1.1.cmml" xref="S3.SS2.p9.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS2.p9.3.m3.1.1.1.1.1">superscript</csymbol><ci id="S3.SS2.p9.3.m3.1.1.1.1.1.2.cmml" xref="S3.SS2.p9.3.m3.1.1.1.1.1.2">𝑤</ci><ci id="S3.SS2.p9.3.m3.1.1.1.1.1.3.cmml" xref="S3.SS2.p9.3.m3.1.1.1.1.1.3">′</ci></apply><apply id="S3.SS2.p9.3.m3.2.2.2.2.2.cmml" xref="S3.SS2.p9.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p9.3.m3.2.2.2.2.2.1.cmml" xref="S3.SS2.p9.3.m3.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p9.3.m3.2.2.2.2.2.2.cmml" xref="S3.SS2.p9.3.m3.2.2.2.2.2.2">𝒟</ci><ci id="S3.SS2.p9.3.m3.2.2.2.2.2.3.cmml" xref="S3.SS2.p9.3.m3.2.2.2.2.2.3">𝑗</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.3.m3.2c">\nabla\ell(w^{\prime};\mathcal{D}_{j})</annotation></semantics></math>, which it returns to the learner. The learner stores the returned gradient in the <math id="S3.SS2.p9.4.m4.1" class="ltx_Math" alttext="\Gamma" display="inline"><semantics id="S3.SS2.p9.4.m4.1a"><mi mathvariant="normal" id="S3.SS2.p9.4.m4.1.1" xref="S3.SS2.p9.4.m4.1.1.cmml">Γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.4.m4.1b"><ci id="S3.SS2.p9.4.m4.1.1.cmml" xref="S3.SS2.p9.4.m4.1.1">Γ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.4.m4.1c">\Gamma</annotation></semantics></math> data structure, mapped to the label set <math id="S3.SS2.p9.5.m5.1" class="ltx_Math" alttext="\mathcal{L}_{j}" display="inline"><semantics id="S3.SS2.p9.5.m5.1a"><msub id="S3.SS2.p9.5.m5.1.1" xref="S3.SS2.p9.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p9.5.m5.1.1.2" xref="S3.SS2.p9.5.m5.1.1.2.cmml">ℒ</mi><mi id="S3.SS2.p9.5.m5.1.1.3" xref="S3.SS2.p9.5.m5.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.5.m5.1b"><apply id="S3.SS2.p9.5.m5.1.1.cmml" xref="S3.SS2.p9.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.5.m5.1.1.1.cmml" xref="S3.SS2.p9.5.m5.1.1">subscript</csymbol><ci id="S3.SS2.p9.5.m5.1.1.2.cmml" xref="S3.SS2.p9.5.m5.1.1.2">ℒ</ci><ci id="S3.SS2.p9.5.m5.1.1.3.cmml" xref="S3.SS2.p9.5.m5.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.5.m5.1c">\mathcal{L}_{j}</annotation></semantics></math>. If a mapping to <math id="S3.SS2.p9.6.m6.1" class="ltx_Math" alttext="\mathcal{L}_{j}" display="inline"><semantics id="S3.SS2.p9.6.m6.1a"><msub id="S3.SS2.p9.6.m6.1.1" xref="S3.SS2.p9.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p9.6.m6.1.1.2" xref="S3.SS2.p9.6.m6.1.1.2.cmml">ℒ</mi><mi id="S3.SS2.p9.6.m6.1.1.3" xref="S3.SS2.p9.6.m6.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.6.m6.1b"><apply id="S3.SS2.p9.6.m6.1.1.cmml" xref="S3.SS2.p9.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p9.6.m6.1.1.1.cmml" xref="S3.SS2.p9.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p9.6.m6.1.1.2.cmml" xref="S3.SS2.p9.6.m6.1.1.2">ℒ</ci><ci id="S3.SS2.p9.6.m6.1.1.3.cmml" xref="S3.SS2.p9.6.m6.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.6.m6.1c">\mathcal{L}_{j}</annotation></semantics></math> already exists, it is replaced. The learner applies one of a suite of gradient aggregation algorithms (described below), including a round of training on its own local data. These actions update the local model, which is used in any remaining rounds (i.e., the updated model is sent to the neighbor to repeat steps 8-10 in Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>). When the algorithm has completed <math id="S3.SS2.p9.7.m7.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="S3.SS2.p9.7.m7.1a"><mi id="S3.SS2.p9.7.m7.1.1" xref="S3.SS2.p9.7.m7.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p9.7.m7.1b"><ci id="S3.SS2.p9.7.m7.1.1.cmml" xref="S3.SS2.p9.7.m7.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p9.7.m7.1c">\rho</annotation></semantics></math> rounds, the learner’s local model is updated, and the device is ready for the next encounter.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS3.5.1.1" class="ltx_text">III-C</span> </span><span id="S3.SS3.6.2" class="ltx_text ltx_font_italic">Aggregating Encounters</span>
</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">We implement two general options for filling in the <span id="S3.SS3.p1.1.1" class="ltx_text ltx_font_smallcaps">aggregateGradients</span> function in line 10 of Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> to update the local model. We refer to the first of these as <span id="S3.SS3.p1.1.2" class="ltx_text ltx_font_italic">greedy aggregation</span>. Simply put, greedy aggregation directly averages in the gradients learned by the neighbor after incorporating one round of local learning. Formally, the update to the model <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="w^{\prime}" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><msup id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml"><mi id="S3.SS3.p1.1.m1.1.1.2" xref="S3.SS3.p1.1.m1.1.1.2.cmml">w</mi><mo id="S3.SS3.p1.1.m1.1.1.3" xref="S3.SS3.p1.1.m1.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><apply id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p1.1.m1.1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">superscript</csymbol><ci id="S3.SS3.p1.1.m1.1.1.2.cmml" xref="S3.SS3.p1.1.m1.1.1.2">𝑤</ci><ci id="S3.SS3.p1.1.m1.1.1.3.cmml" xref="S3.SS3.p1.1.m1.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">w^{\prime}</annotation></semantics></math> in line 10 of Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> is computed as:</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.10" class="ltx_Math" alttext="\frac{\omega_{(\mathcal{L}_{i},\mathcal{G}_{i})}(\nabla\ell(w^{\prime};\mathcal{D}_{i}))+\omega_{(\mathcal{L}_{j},\mathcal{G}_{i})}(\nabla\ell(w^{\prime};\mathcal{D}_{j}))}{\omega_{(\mathcal{L}_{i},\mathcal{G}_{i})}+\omega_{(\mathcal{L}_{j},\mathcal{G}_{i})}}," display="block"><semantics id="S3.E3.m1.10a"><mrow id="S3.E3.m1.10.11.2" xref="S3.E3.m1.10.10.cmml"><mfrac id="S3.E3.m1.10.10" xref="S3.E3.m1.10.10.cmml"><mrow id="S3.E3.m1.6.6.6" xref="S3.E3.m1.6.6.6.cmml"><mrow id="S3.E3.m1.5.5.5.5" xref="S3.E3.m1.5.5.5.5.cmml"><msub id="S3.E3.m1.5.5.5.5.3" xref="S3.E3.m1.5.5.5.5.3.cmml"><mi id="S3.E3.m1.5.5.5.5.3.2" xref="S3.E3.m1.5.5.5.5.3.2.cmml">ω</mi><mrow id="S3.E3.m1.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.2.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.3.cmml">(</mo><msub id="S3.E3.m1.1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.1.2.cmml">ℒ</mi><mi id="S3.E3.m1.1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E3.m1.2.2.2.2.2.2.4" xref="S3.E3.m1.2.2.2.2.2.3.cmml">,</mo><msub id="S3.E3.m1.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.2.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.2.2.cmml">𝒢</mi><mi id="S3.E3.m1.2.2.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.2.2.2.2.2.2.5" xref="S3.E3.m1.2.2.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.5.5.2" xref="S3.E3.m1.5.5.5.5.2.cmml">​</mo><mrow id="S3.E3.m1.5.5.5.5.1.1" xref="S3.E3.m1.5.5.5.5.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.5.5.5.5.1.1.2" xref="S3.E3.m1.5.5.5.5.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.5.5.5.5.1.1.1" xref="S3.E3.m1.5.5.5.5.1.1.1.cmml"><mrow id="S3.E3.m1.5.5.5.5.1.1.1.4" xref="S3.E3.m1.5.5.5.5.1.1.1.4.cmml"><mo rspace="0.167em" id="S3.E3.m1.5.5.5.5.1.1.1.4.1" xref="S3.E3.m1.5.5.5.5.1.1.1.4.1.cmml">∇</mo><mi mathvariant="normal" id="S3.E3.m1.5.5.5.5.1.1.1.4.2" xref="S3.E3.m1.5.5.5.5.1.1.1.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.5.5.1.1.1.3" xref="S3.E3.m1.5.5.5.5.1.1.1.3.cmml">​</mo><mrow id="S3.E3.m1.5.5.5.5.1.1.1.2.2" xref="S3.E3.m1.5.5.5.5.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.5.5.5.5.1.1.1.2.2.3" xref="S3.E3.m1.5.5.5.5.1.1.1.2.3.cmml">(</mo><msup id="S3.E3.m1.5.5.5.5.1.1.1.1.1.1" xref="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.2" xref="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.2.cmml">w</mi><mo id="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.3" xref="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.E3.m1.5.5.5.5.1.1.1.2.2.4" xref="S3.E3.m1.5.5.5.5.1.1.1.2.3.cmml">;</mo><msub id="S3.E3.m1.5.5.5.5.1.1.1.2.2.2" xref="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.2" xref="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.3" xref="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.5.5.5.5.1.1.1.2.2.5" xref="S3.E3.m1.5.5.5.5.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3.m1.5.5.5.5.1.1.3" xref="S3.E3.m1.5.5.5.5.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.6.6.6.7" xref="S3.E3.m1.6.6.6.7.cmml">+</mo><mrow id="S3.E3.m1.6.6.6.6" xref="S3.E3.m1.6.6.6.6.cmml"><msub id="S3.E3.m1.6.6.6.6.3" xref="S3.E3.m1.6.6.6.6.3.cmml"><mi id="S3.E3.m1.6.6.6.6.3.2" xref="S3.E3.m1.6.6.6.6.3.2.cmml">ω</mi><mrow id="S3.E3.m1.4.4.4.4.2.2" xref="S3.E3.m1.4.4.4.4.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.4.4.4.4.2.2.3" xref="S3.E3.m1.4.4.4.4.2.3.cmml">(</mo><msub id="S3.E3.m1.3.3.3.3.1.1.1" xref="S3.E3.m1.3.3.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.3.3.3.3.1.1.1.2" xref="S3.E3.m1.3.3.3.3.1.1.1.2.cmml">ℒ</mi><mi id="S3.E3.m1.3.3.3.3.1.1.1.3" xref="S3.E3.m1.3.3.3.3.1.1.1.3.cmml">j</mi></msub><mo id="S3.E3.m1.4.4.4.4.2.2.4" xref="S3.E3.m1.4.4.4.4.2.3.cmml">,</mo><msub id="S3.E3.m1.4.4.4.4.2.2.2" xref="S3.E3.m1.4.4.4.4.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.4.4.4.4.2.2.2.2" xref="S3.E3.m1.4.4.4.4.2.2.2.2.cmml">𝒢</mi><mi id="S3.E3.m1.4.4.4.4.2.2.2.3" xref="S3.E3.m1.4.4.4.4.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.4.4.4.4.2.2.5" xref="S3.E3.m1.4.4.4.4.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.6.6.6.6.2" xref="S3.E3.m1.6.6.6.6.2.cmml">​</mo><mrow id="S3.E3.m1.6.6.6.6.1.1" xref="S3.E3.m1.6.6.6.6.1.1.1.cmml"><mo stretchy="false" id="S3.E3.m1.6.6.6.6.1.1.2" xref="S3.E3.m1.6.6.6.6.1.1.1.cmml">(</mo><mrow id="S3.E3.m1.6.6.6.6.1.1.1" xref="S3.E3.m1.6.6.6.6.1.1.1.cmml"><mrow id="S3.E3.m1.6.6.6.6.1.1.1.4" xref="S3.E3.m1.6.6.6.6.1.1.1.4.cmml"><mo rspace="0.167em" id="S3.E3.m1.6.6.6.6.1.1.1.4.1" xref="S3.E3.m1.6.6.6.6.1.1.1.4.1.cmml">∇</mo><mi mathvariant="normal" id="S3.E3.m1.6.6.6.6.1.1.1.4.2" xref="S3.E3.m1.6.6.6.6.1.1.1.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E3.m1.6.6.6.6.1.1.1.3" xref="S3.E3.m1.6.6.6.6.1.1.1.3.cmml">​</mo><mrow id="S3.E3.m1.6.6.6.6.1.1.1.2.2" xref="S3.E3.m1.6.6.6.6.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.6.6.6.6.1.1.1.2.2.3" xref="S3.E3.m1.6.6.6.6.1.1.1.2.3.cmml">(</mo><msup id="S3.E3.m1.6.6.6.6.1.1.1.1.1.1" xref="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.2" xref="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.2.cmml">w</mi><mo id="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.3" xref="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.E3.m1.6.6.6.6.1.1.1.2.2.4" xref="S3.E3.m1.6.6.6.6.1.1.1.2.3.cmml">;</mo><msub id="S3.E3.m1.6.6.6.6.1.1.1.2.2.2" xref="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.2" xref="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.3" xref="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.E3.m1.6.6.6.6.1.1.1.2.2.5" xref="S3.E3.m1.6.6.6.6.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3.m1.6.6.6.6.1.1.3" xref="S3.E3.m1.6.6.6.6.1.1.1.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.E3.m1.10.10.10" xref="S3.E3.m1.10.10.10.cmml"><msub id="S3.E3.m1.10.10.10.6" xref="S3.E3.m1.10.10.10.6.cmml"><mi id="S3.E3.m1.10.10.10.6.2" xref="S3.E3.m1.10.10.10.6.2.cmml">ω</mi><mrow id="S3.E3.m1.8.8.8.2.2.2" xref="S3.E3.m1.8.8.8.2.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.8.8.8.2.2.2.3" xref="S3.E3.m1.8.8.8.2.2.3.cmml">(</mo><msub id="S3.E3.m1.7.7.7.1.1.1.1" xref="S3.E3.m1.7.7.7.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.7.7.7.1.1.1.1.2" xref="S3.E3.m1.7.7.7.1.1.1.1.2.cmml">ℒ</mi><mi id="S3.E3.m1.7.7.7.1.1.1.1.3" xref="S3.E3.m1.7.7.7.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E3.m1.8.8.8.2.2.2.4" xref="S3.E3.m1.8.8.8.2.2.3.cmml">,</mo><msub id="S3.E3.m1.8.8.8.2.2.2.2" xref="S3.E3.m1.8.8.8.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.8.8.8.2.2.2.2.2" xref="S3.E3.m1.8.8.8.2.2.2.2.2.cmml">𝒢</mi><mi id="S3.E3.m1.8.8.8.2.2.2.2.3" xref="S3.E3.m1.8.8.8.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.8.8.8.2.2.2.5" xref="S3.E3.m1.8.8.8.2.2.3.cmml">)</mo></mrow></msub><mo id="S3.E3.m1.10.10.10.5" xref="S3.E3.m1.10.10.10.5.cmml">+</mo><msub id="S3.E3.m1.10.10.10.7" xref="S3.E3.m1.10.10.10.7.cmml"><mi id="S3.E3.m1.10.10.10.7.2" xref="S3.E3.m1.10.10.10.7.2.cmml">ω</mi><mrow id="S3.E3.m1.10.10.10.4.2.2" xref="S3.E3.m1.10.10.10.4.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.10.10.10.4.2.2.3" xref="S3.E3.m1.10.10.10.4.2.3.cmml">(</mo><msub id="S3.E3.m1.9.9.9.3.1.1.1" xref="S3.E3.m1.9.9.9.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.9.9.9.3.1.1.1.2" xref="S3.E3.m1.9.9.9.3.1.1.1.2.cmml">ℒ</mi><mi id="S3.E3.m1.9.9.9.3.1.1.1.3" xref="S3.E3.m1.9.9.9.3.1.1.1.3.cmml">j</mi></msub><mo id="S3.E3.m1.10.10.10.4.2.2.4" xref="S3.E3.m1.10.10.10.4.2.3.cmml">,</mo><msub id="S3.E3.m1.10.10.10.4.2.2.2" xref="S3.E3.m1.10.10.10.4.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.10.10.10.4.2.2.2.2" xref="S3.E3.m1.10.10.10.4.2.2.2.2.cmml">𝒢</mi><mi id="S3.E3.m1.10.10.10.4.2.2.2.3" xref="S3.E3.m1.10.10.10.4.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E3.m1.10.10.10.4.2.2.5" xref="S3.E3.m1.10.10.10.4.2.3.cmml">)</mo></mrow></msub></mrow></mfrac><mo id="S3.E3.m1.10.11.2.1" xref="S3.E3.m1.10.10.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.10b"><apply id="S3.E3.m1.10.10.cmml" xref="S3.E3.m1.10.11.2"><divide id="S3.E3.m1.10.10.11.cmml" xref="S3.E3.m1.10.11.2"></divide><apply id="S3.E3.m1.6.6.6.cmml" xref="S3.E3.m1.6.6.6"><plus id="S3.E3.m1.6.6.6.7.cmml" xref="S3.E3.m1.6.6.6.7"></plus><apply id="S3.E3.m1.5.5.5.5.cmml" xref="S3.E3.m1.5.5.5.5"><times id="S3.E3.m1.5.5.5.5.2.cmml" xref="S3.E3.m1.5.5.5.5.2"></times><apply id="S3.E3.m1.5.5.5.5.3.cmml" xref="S3.E3.m1.5.5.5.5.3"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.5.5.3.1.cmml" xref="S3.E3.m1.5.5.5.5.3">subscript</csymbol><ci id="S3.E3.m1.5.5.5.5.3.2.cmml" xref="S3.E3.m1.5.5.5.5.3.2">𝜔</ci><interval closure="open" id="S3.E3.m1.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2"><apply id="S3.E3.m1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.2">ℒ</ci><ci id="S3.E3.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E3.m1.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2.2">𝒢</ci><ci id="S3.E3.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply><apply id="S3.E3.m1.5.5.5.5.1.1.1.cmml" xref="S3.E3.m1.5.5.5.5.1.1"><times id="S3.E3.m1.5.5.5.5.1.1.1.3.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.3"></times><apply id="S3.E3.m1.5.5.5.5.1.1.1.4.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.4"><ci id="S3.E3.m1.5.5.5.5.1.1.1.4.1.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.4.1">∇</ci><ci id="S3.E3.m1.5.5.5.5.1.1.1.4.2.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.4.2">ℓ</ci></apply><list id="S3.E3.m1.5.5.5.5.1.1.1.2.3.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.2.2"><apply id="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.2">𝑤</ci><ci id="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.1.1.1.3">′</ci></apply><apply id="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.1.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.2">𝒟</ci><ci id="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.3.cmml" xref="S3.E3.m1.5.5.5.5.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply><apply id="S3.E3.m1.6.6.6.6.cmml" xref="S3.E3.m1.6.6.6.6"><times id="S3.E3.m1.6.6.6.6.2.cmml" xref="S3.E3.m1.6.6.6.6.2"></times><apply id="S3.E3.m1.6.6.6.6.3.cmml" xref="S3.E3.m1.6.6.6.6.3"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.6.3.1.cmml" xref="S3.E3.m1.6.6.6.6.3">subscript</csymbol><ci id="S3.E3.m1.6.6.6.6.3.2.cmml" xref="S3.E3.m1.6.6.6.6.3.2">𝜔</ci><interval closure="open" id="S3.E3.m1.4.4.4.4.2.3.cmml" xref="S3.E3.m1.4.4.4.4.2.2"><apply id="S3.E3.m1.3.3.3.3.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.3.3.1.1.1.1.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1">subscript</csymbol><ci id="S3.E3.m1.3.3.3.3.1.1.1.2.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.2">ℒ</ci><ci id="S3.E3.m1.3.3.3.3.1.1.1.3.cmml" xref="S3.E3.m1.3.3.3.3.1.1.1.3">𝑗</ci></apply><apply id="S3.E3.m1.4.4.4.4.2.2.2.cmml" xref="S3.E3.m1.4.4.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.4.4.2.2.2.1.cmml" xref="S3.E3.m1.4.4.4.4.2.2.2">subscript</csymbol><ci id="S3.E3.m1.4.4.4.4.2.2.2.2.cmml" xref="S3.E3.m1.4.4.4.4.2.2.2.2">𝒢</ci><ci id="S3.E3.m1.4.4.4.4.2.2.2.3.cmml" xref="S3.E3.m1.4.4.4.4.2.2.2.3">𝑖</ci></apply></interval></apply><apply id="S3.E3.m1.6.6.6.6.1.1.1.cmml" xref="S3.E3.m1.6.6.6.6.1.1"><times id="S3.E3.m1.6.6.6.6.1.1.1.3.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.3"></times><apply id="S3.E3.m1.6.6.6.6.1.1.1.4.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.4"><ci id="S3.E3.m1.6.6.6.6.1.1.1.4.1.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.4.1">∇</ci><ci id="S3.E3.m1.6.6.6.6.1.1.1.4.2.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.4.2">ℓ</ci></apply><list id="S3.E3.m1.6.6.6.6.1.1.1.2.3.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.2.2"><apply id="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.2">𝑤</ci><ci id="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.1.1.1.3">′</ci></apply><apply id="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.1.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.2.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.2">𝒟</ci><ci id="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.3.cmml" xref="S3.E3.m1.6.6.6.6.1.1.1.2.2.2.3">𝑗</ci></apply></list></apply></apply></apply><apply id="S3.E3.m1.10.10.10.cmml" xref="S3.E3.m1.10.10.10"><plus id="S3.E3.m1.10.10.10.5.cmml" xref="S3.E3.m1.10.10.10.5"></plus><apply id="S3.E3.m1.10.10.10.6.cmml" xref="S3.E3.m1.10.10.10.6"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.6.1.cmml" xref="S3.E3.m1.10.10.10.6">subscript</csymbol><ci id="S3.E3.m1.10.10.10.6.2.cmml" xref="S3.E3.m1.10.10.10.6.2">𝜔</ci><interval closure="open" id="S3.E3.m1.8.8.8.2.2.3.cmml" xref="S3.E3.m1.8.8.8.2.2.2"><apply id="S3.E3.m1.7.7.7.1.1.1.1.cmml" xref="S3.E3.m1.7.7.7.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.7.1.1.1.1.1.cmml" xref="S3.E3.m1.7.7.7.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.7.7.7.1.1.1.1.2.cmml" xref="S3.E3.m1.7.7.7.1.1.1.1.2">ℒ</ci><ci id="S3.E3.m1.7.7.7.1.1.1.1.3.cmml" xref="S3.E3.m1.7.7.7.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E3.m1.8.8.8.2.2.2.2.cmml" xref="S3.E3.m1.8.8.8.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.8.8.8.2.2.2.2.1.cmml" xref="S3.E3.m1.8.8.8.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.8.8.8.2.2.2.2.2.cmml" xref="S3.E3.m1.8.8.8.2.2.2.2.2">𝒢</ci><ci id="S3.E3.m1.8.8.8.2.2.2.2.3.cmml" xref="S3.E3.m1.8.8.8.2.2.2.2.3">𝑖</ci></apply></interval></apply><apply id="S3.E3.m1.10.10.10.7.cmml" xref="S3.E3.m1.10.10.10.7"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.7.1.cmml" xref="S3.E3.m1.10.10.10.7">subscript</csymbol><ci id="S3.E3.m1.10.10.10.7.2.cmml" xref="S3.E3.m1.10.10.10.7.2">𝜔</ci><interval closure="open" id="S3.E3.m1.10.10.10.4.2.3.cmml" xref="S3.E3.m1.10.10.10.4.2.2"><apply id="S3.E3.m1.9.9.9.3.1.1.1.cmml" xref="S3.E3.m1.9.9.9.3.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.9.9.9.3.1.1.1.1.cmml" xref="S3.E3.m1.9.9.9.3.1.1.1">subscript</csymbol><ci id="S3.E3.m1.9.9.9.3.1.1.1.2.cmml" xref="S3.E3.m1.9.9.9.3.1.1.1.2">ℒ</ci><ci id="S3.E3.m1.9.9.9.3.1.1.1.3.cmml" xref="S3.E3.m1.9.9.9.3.1.1.1.3">𝑗</ci></apply><apply id="S3.E3.m1.10.10.10.4.2.2.2.cmml" xref="S3.E3.m1.10.10.10.4.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.10.4.2.2.2.1.cmml" xref="S3.E3.m1.10.10.10.4.2.2.2">subscript</csymbol><ci id="S3.E3.m1.10.10.10.4.2.2.2.2.cmml" xref="S3.E3.m1.10.10.10.4.2.2.2.2">𝒢</ci><ci id="S3.E3.m1.10.10.10.4.2.2.2.3.cmml" xref="S3.E3.m1.10.10.10.4.2.2.2.3">𝑖</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.10c">\frac{\omega_{(\mathcal{L}_{i},\mathcal{G}_{i})}(\nabla\ell(w^{\prime};\mathcal{D}_{i}))+\omega_{(\mathcal{L}_{j},\mathcal{G}_{i})}(\nabla\ell(w^{\prime};\mathcal{D}_{j}))}{\omega_{(\mathcal{L}_{i},\mathcal{G}_{i})}+\omega_{(\mathcal{L}_{j},\mathcal{G}_{i})}},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.3" class="ltx_p">The two gradients (the local one and the one from the neighbor) are both weighted with respect to the similarity of the corresponding data label distribution with the goal distribution. Building on existing work that similarly uses weights to address unbalanced data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx7" title="" class="ltx_ref">7</a>]</cite>, the weights are:</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.6" class="ltx_Math" alttext="\omega_{(\mathcal{L},\mathcal{G})}=\exp(-\lambda\times(1-\it{sim}(\mathcal{G},\mathcal{L})))," display="block"><semantics id="S3.E4.m1.6a"><mrow id="S3.E4.m1.6.6.1" xref="S3.E4.m1.6.6.1.1.cmml"><mrow id="S3.E4.m1.6.6.1.1" xref="S3.E4.m1.6.6.1.1.cmml"><msub id="S3.E4.m1.6.6.1.1.3" xref="S3.E4.m1.6.6.1.1.3.cmml"><mi id="S3.E4.m1.6.6.1.1.3.2" xref="S3.E4.m1.6.6.1.1.3.2.cmml">ω</mi><mrow id="S3.E4.m1.2.2.2.4" xref="S3.E4.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.E4.m1.2.2.2.4.1" xref="S3.E4.m1.2.2.2.3.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">ℒ</mi><mo id="S3.E4.m1.2.2.2.4.2" xref="S3.E4.m1.2.2.2.3.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.2.2.2.2" xref="S3.E4.m1.2.2.2.2.cmml">𝒢</mi><mo stretchy="false" id="S3.E4.m1.2.2.2.4.3" xref="S3.E4.m1.2.2.2.3.cmml">)</mo></mrow></msub><mo id="S3.E4.m1.6.6.1.1.2" xref="S3.E4.m1.6.6.1.1.2.cmml">=</mo><mrow id="S3.E4.m1.6.6.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.2.cmml"><mi id="S3.E4.m1.5.5" xref="S3.E4.m1.5.5.cmml">exp</mi><mo id="S3.E4.m1.6.6.1.1.1.1a" xref="S3.E4.m1.6.6.1.1.1.2.cmml">⁡</mo><mrow id="S3.E4.m1.6.6.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.6.6.1.1.1.1.1.2" xref="S3.E4.m1.6.6.1.1.1.2.cmml">(</mo><mrow id="S3.E4.m1.6.6.1.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.1.1.1.cmml"><mo id="S3.E4.m1.6.6.1.1.1.1.1.1a" xref="S3.E4.m1.6.6.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E4.m1.6.6.1.1.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.cmml"><mi id="S3.E4.m1.6.6.1.1.1.1.1.1.1.3" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.3.cmml">λ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E4.m1.6.6.1.1.1.1.1.1.1.2" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.2.cmml">×</mo><mrow id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml"><mn id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.2" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.2.cmml">𝑠𝑖𝑚</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.1" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.1.cmml">​</mo><mrow id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.2" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml"><mo stretchy="false" id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.2.1" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.3.3" xref="S3.E4.m1.3.3.cmml">𝒢</mi><mo id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.2.2" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.4.4" xref="S3.E4.m1.4.4.cmml">ℒ</mi><mo stretchy="false" id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.2.3" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E4.m1.6.6.1.1.1.1.1.3" xref="S3.E4.m1.6.6.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E4.m1.6.6.1.2" xref="S3.E4.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.6b"><apply id="S3.E4.m1.6.6.1.1.cmml" xref="S3.E4.m1.6.6.1"><eq id="S3.E4.m1.6.6.1.1.2.cmml" xref="S3.E4.m1.6.6.1.1.2"></eq><apply id="S3.E4.m1.6.6.1.1.3.cmml" xref="S3.E4.m1.6.6.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.6.6.1.1.3.1.cmml" xref="S3.E4.m1.6.6.1.1.3">subscript</csymbol><ci id="S3.E4.m1.6.6.1.1.3.2.cmml" xref="S3.E4.m1.6.6.1.1.3.2">𝜔</ci><interval closure="open" id="S3.E4.m1.2.2.2.3.cmml" xref="S3.E4.m1.2.2.2.4"><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">ℒ</ci><ci id="S3.E4.m1.2.2.2.2.cmml" xref="S3.E4.m1.2.2.2.2">𝒢</ci></interval></apply><apply id="S3.E4.m1.6.6.1.1.1.2.cmml" xref="S3.E4.m1.6.6.1.1.1.1"><exp id="S3.E4.m1.5.5.cmml" xref="S3.E4.m1.5.5"></exp><apply id="S3.E4.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1"><minus id="S3.E4.m1.6.6.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1"></minus><apply id="S3.E4.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1"><times id="S3.E4.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.2"></times><ci id="S3.E4.m1.6.6.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.3">𝜆</ci><apply id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1"><minus id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.2">1</cn><apply id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3"><times id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.2">𝑠𝑖𝑚</ci><interval closure="open" id="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.6.6.1.1.1.1.1.1.1.1.1.1.3.3.2"><ci id="S3.E4.m1.3.3.cmml" xref="S3.E4.m1.3.3">𝒢</ci><ci id="S3.E4.m1.4.4.cmml" xref="S3.E4.m1.4.4">ℒ</ci></interval></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.6c">\omega_{(\mathcal{L},\mathcal{G})}=\exp(-\lambda\times(1-\it{sim}(\mathcal{G},\mathcal{L}))),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.2" class="ltx_p">where <math id="S3.SS3.p2.1.m1.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS3.p2.1.m1.1a"><mi id="S3.SS3.p2.1.m1.1.1" xref="S3.SS3.p2.1.m1.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.1b"><ci id="S3.SS3.p2.1.m1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.1c">\lambda</annotation></semantics></math> reflects how a model is prone to overfitting to a dataset that is small relative to the total number of labels. It can also be interpreted as a model’s preference for a highly balanced dataset. For our experiments, we obtained <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><mi id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">\lambda</annotation></semantics></math> empirically by running a series of personalization rounds using subsets of the training data used for the bootstrapped model.</p>
</div>
<div id="S3.SS3.p3" class="ltx_para">
<p id="S3.SS3.p3.3" class="ltx_p">This approach learns quickly from a device’s encounters. On the other hand, when the data encountered is unbalanced with respect to the goal distribution, the model can overfit at the expense of the labels it encounters less frequently. Our second approach addresses this by computing a windowed average over a diverse set of recent encounters, where the diversity is determined by differences in the data label distributions of the contributed gradients. Every exchange with an encountered neighbor generates an update to <math id="S3.SS3.p3.1.m1.1" class="ltx_Math" alttext="\Gamma" display="inline"><semantics id="S3.SS3.p3.1.m1.1a"><mi mathvariant="normal" id="S3.SS3.p3.1.m1.1.1" xref="S3.SS3.p3.1.m1.1.1.cmml">Γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.1.m1.1b"><ci id="S3.SS3.p3.1.m1.1.1.cmml" xref="S3.SS3.p3.1.m1.1.1">Γ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.1.m1.1c">\Gamma</annotation></semantics></math>, which maps a neighbor’s data label set to the gradients learned from that set. During a new encounter, this approach averages over <span id="S3.SS3.p3.3.1" class="ltx_text ltx_font_italic">all</span> of these stored gradients before generating the update to <math id="S3.SS3.p3.2.m2.1" class="ltx_Math" alttext="w^{\prime}" display="inline"><semantics id="S3.SS3.p3.2.m2.1a"><msup id="S3.SS3.p3.2.m2.1.1" xref="S3.SS3.p3.2.m2.1.1.cmml"><mi id="S3.SS3.p3.2.m2.1.1.2" xref="S3.SS3.p3.2.m2.1.1.2.cmml">w</mi><mo id="S3.SS3.p3.2.m2.1.1.3" xref="S3.SS3.p3.2.m2.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.2.m2.1b"><apply id="S3.SS3.p3.2.m2.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.2.m2.1.1.1.cmml" xref="S3.SS3.p3.2.m2.1.1">superscript</csymbol><ci id="S3.SS3.p3.2.m2.1.1.2.cmml" xref="S3.SS3.p3.2.m2.1.1.2">𝑤</ci><ci id="S3.SS3.p3.2.m2.1.1.3.cmml" xref="S3.SS3.p3.2.m2.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.2.m2.1c">w^{\prime}</annotation></semantics></math>. While this slows the speed of learning, it provides increased stability, especially when the learner encounters highly unbalanced data label distributions. We term this approach <span id="S3.SS3.p3.3.2" class="ltx_text ltx_font_italic">opportunistic momentum</span>. Formally, the update to <math id="S3.SS3.p3.3.m3.1" class="ltx_Math" alttext="w^{\prime}" display="inline"><semantics id="S3.SS3.p3.3.m3.1a"><msup id="S3.SS3.p3.3.m3.1.1" xref="S3.SS3.p3.3.m3.1.1.cmml"><mi id="S3.SS3.p3.3.m3.1.1.2" xref="S3.SS3.p3.3.m3.1.1.2.cmml">w</mi><mo id="S3.SS3.p3.3.m3.1.1.3" xref="S3.SS3.p3.3.m3.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.3.m3.1b"><apply id="S3.SS3.p3.3.m3.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.3.m3.1.1.1.cmml" xref="S3.SS3.p3.3.m3.1.1">superscript</csymbol><ci id="S3.SS3.p3.3.m3.1.1.2.cmml" xref="S3.SS3.p3.3.m3.1.1.2">𝑤</ci><ci id="S3.SS3.p3.3.m3.1.1.3.cmml" xref="S3.SS3.p3.3.m3.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.3.m3.1c">w^{\prime}</annotation></semantics></math> is computed as:</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.14" class="ltx_Math" alttext="\frac{\omega_{(\mathcal{L}_{i},\mathcal{G}_{i})}(\nabla\ell(w^{\prime};\mathcal{D}_{i}))+\bigg{(}\sum_{(\mathcal{L},\nabla)\in\Gamma}\omega_{(\mathcal{L},\mathcal{G}_{i})}\nabla\bigg{)}}{\omega_{(\mathcal{L}_{i},\mathcal{G}_{i})}+\sum_{(\mathcal{L},\nabla)\in\Gamma}\omega_{(\mathcal{L},\mathcal{G}_{i})}}." display="block"><semantics id="S3.E5.m1.14a"><mrow id="S3.E5.m1.14.15.2" xref="S3.E5.m1.14.14.cmml"><mfrac id="S3.E5.m1.14.14" xref="S3.E5.m1.14.14.cmml"><mrow id="S3.E5.m1.8.8.8" xref="S3.E5.m1.8.8.8.cmml"><mrow id="S3.E5.m1.7.7.7.7" xref="S3.E5.m1.7.7.7.7.cmml"><msub id="S3.E5.m1.7.7.7.7.3" xref="S3.E5.m1.7.7.7.7.3.cmml"><mi id="S3.E5.m1.7.7.7.7.3.2" xref="S3.E5.m1.7.7.7.7.3.2.cmml">ω</mi><mrow id="S3.E5.m1.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.2.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.2.3.cmml">(</mo><msub id="S3.E5.m1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.2.cmml">ℒ</mi><mi id="S3.E5.m1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E5.m1.2.2.2.2.2.2.4" xref="S3.E5.m1.2.2.2.2.2.3.cmml">,</mo><msub id="S3.E5.m1.2.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.2.2.2.2.2.2.2.2" xref="S3.E5.m1.2.2.2.2.2.2.2.2.cmml">𝒢</mi><mi id="S3.E5.m1.2.2.2.2.2.2.2.3" xref="S3.E5.m1.2.2.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E5.m1.2.2.2.2.2.2.5" xref="S3.E5.m1.2.2.2.2.2.3.cmml">)</mo></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.7.7.7.7.2" xref="S3.E5.m1.7.7.7.7.2.cmml">​</mo><mrow id="S3.E5.m1.7.7.7.7.1.1" xref="S3.E5.m1.7.7.7.7.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.7.7.7.7.1.1.2" xref="S3.E5.m1.7.7.7.7.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.7.7.7.7.1.1.1" xref="S3.E5.m1.7.7.7.7.1.1.1.cmml"><mrow id="S3.E5.m1.7.7.7.7.1.1.1.4" xref="S3.E5.m1.7.7.7.7.1.1.1.4.cmml"><mo rspace="0.167em" id="S3.E5.m1.7.7.7.7.1.1.1.4.1" xref="S3.E5.m1.7.7.7.7.1.1.1.4.1.cmml">∇</mo><mi mathvariant="normal" id="S3.E5.m1.7.7.7.7.1.1.1.4.2" xref="S3.E5.m1.7.7.7.7.1.1.1.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.E5.m1.7.7.7.7.1.1.1.3" xref="S3.E5.m1.7.7.7.7.1.1.1.3.cmml">​</mo><mrow id="S3.E5.m1.7.7.7.7.1.1.1.2.2" xref="S3.E5.m1.7.7.7.7.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.7.7.7.7.1.1.1.2.2.3" xref="S3.E5.m1.7.7.7.7.1.1.1.2.3.cmml">(</mo><msup id="S3.E5.m1.7.7.7.7.1.1.1.1.1.1" xref="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.cmml"><mi id="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.2" xref="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.2.cmml">w</mi><mo id="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.3" xref="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S3.E5.m1.7.7.7.7.1.1.1.2.2.4" xref="S3.E5.m1.7.7.7.7.1.1.1.2.3.cmml">;</mo><msub id="S3.E5.m1.7.7.7.7.1.1.1.2.2.2" xref="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.2" xref="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.3" xref="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E5.m1.7.7.7.7.1.1.1.2.2.5" xref="S3.E5.m1.7.7.7.7.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E5.m1.7.7.7.7.1.1.3" xref="S3.E5.m1.7.7.7.7.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.8.8.8.9" xref="S3.E5.m1.8.8.8.9.cmml">+</mo><mrow id="S3.E5.m1.8.8.8.8.1" xref="S3.E5.m1.8.8.8.8.1.1.cmml"><mo maxsize="210%" minsize="210%" id="S3.E5.m1.8.8.8.8.1.2" xref="S3.E5.m1.8.8.8.8.1.1.cmml">(</mo><mrow id="S3.E5.m1.8.8.8.8.1.1" xref="S3.E5.m1.8.8.8.8.1.1.cmml"><msub id="S3.E5.m1.8.8.8.8.1.1.1" xref="S3.E5.m1.8.8.8.8.1.1.1.cmml"><mo lspace="0em" id="S3.E5.m1.8.8.8.8.1.1.1.2" xref="S3.E5.m1.8.8.8.8.1.1.1.2.cmml">∑</mo><mrow id="S3.E5.m1.4.4.4.4.2" xref="S3.E5.m1.4.4.4.4.2.cmml"><mrow id="S3.E5.m1.4.4.4.4.2.4.2" xref="S3.E5.m1.4.4.4.4.2.4.1.cmml"><mo stretchy="false" id="S3.E5.m1.4.4.4.4.2.4.2.1" xref="S3.E5.m1.4.4.4.4.2.4.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.3.3.3.3.1.1" xref="S3.E5.m1.3.3.3.3.1.1.cmml">ℒ</mi><mo id="S3.E5.m1.4.4.4.4.2.4.2.2" xref="S3.E5.m1.4.4.4.4.2.4.1.cmml">,</mo><mo id="S3.E5.m1.4.4.4.4.2.2" xref="S3.E5.m1.4.4.4.4.2.2.cmml">∇</mo><mo stretchy="false" id="S3.E5.m1.4.4.4.4.2.4.2.3" xref="S3.E5.m1.4.4.4.4.2.4.1.cmml">)</mo></mrow><mo id="S3.E5.m1.4.4.4.4.2.3" xref="S3.E5.m1.4.4.4.4.2.3.cmml">∈</mo><mi mathvariant="normal" id="S3.E5.m1.4.4.4.4.2.5" xref="S3.E5.m1.4.4.4.4.2.5.cmml">Γ</mi></mrow></msub><mrow id="S3.E5.m1.8.8.8.8.1.1.2" xref="S3.E5.m1.8.8.8.8.1.1.2.cmml"><msub id="S3.E5.m1.8.8.8.8.1.1.2.2" xref="S3.E5.m1.8.8.8.8.1.1.2.2.cmml"><mi id="S3.E5.m1.8.8.8.8.1.1.2.2.2" xref="S3.E5.m1.8.8.8.8.1.1.2.2.2.cmml">ω</mi><mrow id="S3.E5.m1.6.6.6.6.2.2" xref="S3.E5.m1.6.6.6.6.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.6.6.6.6.2.2.2" xref="S3.E5.m1.6.6.6.6.2.3.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.5.5.5.5.1.1" xref="S3.E5.m1.5.5.5.5.1.1.cmml">ℒ</mi><mo id="S3.E5.m1.6.6.6.6.2.2.3" xref="S3.E5.m1.6.6.6.6.2.3.cmml">,</mo><msub id="S3.E5.m1.6.6.6.6.2.2.1" xref="S3.E5.m1.6.6.6.6.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.6.6.6.6.2.2.1.2" xref="S3.E5.m1.6.6.6.6.2.2.1.2.cmml">𝒢</mi><mi id="S3.E5.m1.6.6.6.6.2.2.1.3" xref="S3.E5.m1.6.6.6.6.2.2.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E5.m1.6.6.6.6.2.2.4" xref="S3.E5.m1.6.6.6.6.2.3.cmml">)</mo></mrow></msub><mo lspace="0.167em" rspace="0em" id="S3.E5.m1.8.8.8.8.1.1.2.1" xref="S3.E5.m1.8.8.8.8.1.1.2.1.cmml">​</mo><mo id="S3.E5.m1.8.8.8.8.1.1.2.3" xref="S3.E5.m1.8.8.8.8.1.1.2.3.cmml">∇</mo></mrow></mrow><mo maxsize="210%" minsize="210%" id="S3.E5.m1.8.8.8.8.1.3" xref="S3.E5.m1.8.8.8.8.1.1.cmml">)</mo></mrow></mrow><mrow id="S3.E5.m1.14.14.14" xref="S3.E5.m1.14.14.14.cmml"><msub id="S3.E5.m1.14.14.14.8" xref="S3.E5.m1.14.14.14.8.cmml"><mi id="S3.E5.m1.14.14.14.8.2" xref="S3.E5.m1.14.14.14.8.2.cmml">ω</mi><mrow id="S3.E5.m1.10.10.10.2.2.2" xref="S3.E5.m1.10.10.10.2.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.10.10.10.2.2.2.3" xref="S3.E5.m1.10.10.10.2.2.3.cmml">(</mo><msub id="S3.E5.m1.9.9.9.1.1.1.1" xref="S3.E5.m1.9.9.9.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.9.9.9.1.1.1.1.2" xref="S3.E5.m1.9.9.9.1.1.1.1.2.cmml">ℒ</mi><mi id="S3.E5.m1.9.9.9.1.1.1.1.3" xref="S3.E5.m1.9.9.9.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E5.m1.10.10.10.2.2.2.4" xref="S3.E5.m1.10.10.10.2.2.3.cmml">,</mo><msub id="S3.E5.m1.10.10.10.2.2.2.2" xref="S3.E5.m1.10.10.10.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.10.10.10.2.2.2.2.2" xref="S3.E5.m1.10.10.10.2.2.2.2.2.cmml">𝒢</mi><mi id="S3.E5.m1.10.10.10.2.2.2.2.3" xref="S3.E5.m1.10.10.10.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E5.m1.10.10.10.2.2.2.5" xref="S3.E5.m1.10.10.10.2.2.3.cmml">)</mo></mrow></msub><mo rspace="0.055em" id="S3.E5.m1.14.14.14.7" xref="S3.E5.m1.14.14.14.7.cmml">+</mo><mrow id="S3.E5.m1.14.14.14.9" xref="S3.E5.m1.14.14.14.9.cmml"><msub id="S3.E5.m1.14.14.14.9.1" xref="S3.E5.m1.14.14.14.9.1.cmml"><mo id="S3.E5.m1.14.14.14.9.1.2" xref="S3.E5.m1.14.14.14.9.1.2.cmml">∑</mo><mrow id="S3.E5.m1.12.12.12.4.2" xref="S3.E5.m1.12.12.12.4.2.cmml"><mrow id="S3.E5.m1.12.12.12.4.2.4.2" xref="S3.E5.m1.12.12.12.4.2.4.1.cmml"><mo stretchy="false" id="S3.E5.m1.12.12.12.4.2.4.2.1" xref="S3.E5.m1.12.12.12.4.2.4.1.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.11.11.11.3.1.1" xref="S3.E5.m1.11.11.11.3.1.1.cmml">ℒ</mi><mo id="S3.E5.m1.12.12.12.4.2.4.2.2" xref="S3.E5.m1.12.12.12.4.2.4.1.cmml">,</mo><mo id="S3.E5.m1.12.12.12.4.2.2" xref="S3.E5.m1.12.12.12.4.2.2.cmml">∇</mo><mo stretchy="false" id="S3.E5.m1.12.12.12.4.2.4.2.3" xref="S3.E5.m1.12.12.12.4.2.4.1.cmml">)</mo></mrow><mo id="S3.E5.m1.12.12.12.4.2.3" xref="S3.E5.m1.12.12.12.4.2.3.cmml">∈</mo><mi mathvariant="normal" id="S3.E5.m1.12.12.12.4.2.5" xref="S3.E5.m1.12.12.12.4.2.5.cmml">Γ</mi></mrow></msub><msub id="S3.E5.m1.14.14.14.9.2" xref="S3.E5.m1.14.14.14.9.2.cmml"><mi id="S3.E5.m1.14.14.14.9.2.2" xref="S3.E5.m1.14.14.14.9.2.2.cmml">ω</mi><mrow id="S3.E5.m1.14.14.14.6.2.2" xref="S3.E5.m1.14.14.14.6.2.3.cmml"><mo stretchy="false" id="S3.E5.m1.14.14.14.6.2.2.2" xref="S3.E5.m1.14.14.14.6.2.3.cmml">(</mo><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.13.13.13.5.1.1" xref="S3.E5.m1.13.13.13.5.1.1.cmml">ℒ</mi><mo id="S3.E5.m1.14.14.14.6.2.2.3" xref="S3.E5.m1.14.14.14.6.2.3.cmml">,</mo><msub id="S3.E5.m1.14.14.14.6.2.2.1" xref="S3.E5.m1.14.14.14.6.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.14.14.14.6.2.2.1.2" xref="S3.E5.m1.14.14.14.6.2.2.1.2.cmml">𝒢</mi><mi id="S3.E5.m1.14.14.14.6.2.2.1.3" xref="S3.E5.m1.14.14.14.6.2.2.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E5.m1.14.14.14.6.2.2.4" xref="S3.E5.m1.14.14.14.6.2.3.cmml">)</mo></mrow></msub></mrow></mrow></mfrac><mo lspace="0em" id="S3.E5.m1.14.15.2.1" xref="S3.E5.m1.14.14.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.14b"><apply id="S3.E5.m1.14.14.cmml" xref="S3.E5.m1.14.15.2"><divide id="S3.E5.m1.14.14.15.cmml" xref="S3.E5.m1.14.15.2"></divide><apply id="S3.E5.m1.8.8.8.cmml" xref="S3.E5.m1.8.8.8"><plus id="S3.E5.m1.8.8.8.9.cmml" xref="S3.E5.m1.8.8.8.9"></plus><apply id="S3.E5.m1.7.7.7.7.cmml" xref="S3.E5.m1.7.7.7.7"><times id="S3.E5.m1.7.7.7.7.2.cmml" xref="S3.E5.m1.7.7.7.7.2"></times><apply id="S3.E5.m1.7.7.7.7.3.cmml" xref="S3.E5.m1.7.7.7.7.3"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.7.7.3.1.cmml" xref="S3.E5.m1.7.7.7.7.3">subscript</csymbol><ci id="S3.E5.m1.7.7.7.7.3.2.cmml" xref="S3.E5.m1.7.7.7.7.3.2">𝜔</ci><interval closure="open" id="S3.E5.m1.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.2"><apply id="S3.E5.m1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.2">ℒ</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E5.m1.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.2.2.2.2.2.2.2.1.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.2.2.2.2.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2.2">𝒢</ci><ci id="S3.E5.m1.2.2.2.2.2.2.2.3.cmml" xref="S3.E5.m1.2.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply><apply id="S3.E5.m1.7.7.7.7.1.1.1.cmml" xref="S3.E5.m1.7.7.7.7.1.1"><times id="S3.E5.m1.7.7.7.7.1.1.1.3.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.3"></times><apply id="S3.E5.m1.7.7.7.7.1.1.1.4.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.4"><ci id="S3.E5.m1.7.7.7.7.1.1.1.4.1.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.4.1">∇</ci><ci id="S3.E5.m1.7.7.7.7.1.1.1.4.2.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.4.2">ℓ</ci></apply><list id="S3.E5.m1.7.7.7.7.1.1.1.2.3.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.2.2"><apply id="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.1.1.1">superscript</csymbol><ci id="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.2">𝑤</ci><ci id="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.1.1.1.3">′</ci></apply><apply id="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.1.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.2.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.2">𝒟</ci><ci id="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.3.cmml" xref="S3.E5.m1.7.7.7.7.1.1.1.2.2.2.3">𝑖</ci></apply></list></apply></apply><apply id="S3.E5.m1.8.8.8.8.1.1.cmml" xref="S3.E5.m1.8.8.8.8.1"><apply id="S3.E5.m1.8.8.8.8.1.1.1.cmml" xref="S3.E5.m1.8.8.8.8.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.8.8.8.8.1.1.1.1.cmml" xref="S3.E5.m1.8.8.8.8.1.1.1">subscript</csymbol><sum id="S3.E5.m1.8.8.8.8.1.1.1.2.cmml" xref="S3.E5.m1.8.8.8.8.1.1.1.2"></sum><apply id="S3.E5.m1.4.4.4.4.2.cmml" xref="S3.E5.m1.4.4.4.4.2"><in id="S3.E5.m1.4.4.4.4.2.3.cmml" xref="S3.E5.m1.4.4.4.4.2.3"></in><interval closure="open" id="S3.E5.m1.4.4.4.4.2.4.1.cmml" xref="S3.E5.m1.4.4.4.4.2.4.2"><ci id="S3.E5.m1.3.3.3.3.1.1.cmml" xref="S3.E5.m1.3.3.3.3.1.1">ℒ</ci><ci id="S3.E5.m1.4.4.4.4.2.2.cmml" xref="S3.E5.m1.4.4.4.4.2.2">∇</ci></interval><ci id="S3.E5.m1.4.4.4.4.2.5.cmml" xref="S3.E5.m1.4.4.4.4.2.5">Γ</ci></apply></apply><apply id="S3.E5.m1.8.8.8.8.1.1.2.cmml" xref="S3.E5.m1.8.8.8.8.1.1.2"><times id="S3.E5.m1.8.8.8.8.1.1.2.1.cmml" xref="S3.E5.m1.8.8.8.8.1.1.2.1"></times><apply id="S3.E5.m1.8.8.8.8.1.1.2.2.cmml" xref="S3.E5.m1.8.8.8.8.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.8.8.8.8.1.1.2.2.1.cmml" xref="S3.E5.m1.8.8.8.8.1.1.2.2">subscript</csymbol><ci id="S3.E5.m1.8.8.8.8.1.1.2.2.2.cmml" xref="S3.E5.m1.8.8.8.8.1.1.2.2.2">𝜔</ci><interval closure="open" id="S3.E5.m1.6.6.6.6.2.3.cmml" xref="S3.E5.m1.6.6.6.6.2.2"><ci id="S3.E5.m1.5.5.5.5.1.1.cmml" xref="S3.E5.m1.5.5.5.5.1.1">ℒ</ci><apply id="S3.E5.m1.6.6.6.6.2.2.1.cmml" xref="S3.E5.m1.6.6.6.6.2.2.1"><csymbol cd="ambiguous" id="S3.E5.m1.6.6.6.6.2.2.1.1.cmml" xref="S3.E5.m1.6.6.6.6.2.2.1">subscript</csymbol><ci id="S3.E5.m1.6.6.6.6.2.2.1.2.cmml" xref="S3.E5.m1.6.6.6.6.2.2.1.2">𝒢</ci><ci id="S3.E5.m1.6.6.6.6.2.2.1.3.cmml" xref="S3.E5.m1.6.6.6.6.2.2.1.3">𝑖</ci></apply></interval></apply><ci id="S3.E5.m1.8.8.8.8.1.1.2.3.cmml" xref="S3.E5.m1.8.8.8.8.1.1.2.3">∇</ci></apply></apply></apply><apply id="S3.E5.m1.14.14.14.cmml" xref="S3.E5.m1.14.14.14"><plus id="S3.E5.m1.14.14.14.7.cmml" xref="S3.E5.m1.14.14.14.7"></plus><apply id="S3.E5.m1.14.14.14.8.cmml" xref="S3.E5.m1.14.14.14.8"><csymbol cd="ambiguous" id="S3.E5.m1.14.14.14.8.1.cmml" xref="S3.E5.m1.14.14.14.8">subscript</csymbol><ci id="S3.E5.m1.14.14.14.8.2.cmml" xref="S3.E5.m1.14.14.14.8.2">𝜔</ci><interval closure="open" id="S3.E5.m1.10.10.10.2.2.3.cmml" xref="S3.E5.m1.10.10.10.2.2.2"><apply id="S3.E5.m1.9.9.9.1.1.1.1.cmml" xref="S3.E5.m1.9.9.9.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.9.9.9.1.1.1.1.1.cmml" xref="S3.E5.m1.9.9.9.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.9.9.9.1.1.1.1.2.cmml" xref="S3.E5.m1.9.9.9.1.1.1.1.2">ℒ</ci><ci id="S3.E5.m1.9.9.9.1.1.1.1.3.cmml" xref="S3.E5.m1.9.9.9.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E5.m1.10.10.10.2.2.2.2.cmml" xref="S3.E5.m1.10.10.10.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.10.10.10.2.2.2.2.1.cmml" xref="S3.E5.m1.10.10.10.2.2.2.2">subscript</csymbol><ci id="S3.E5.m1.10.10.10.2.2.2.2.2.cmml" xref="S3.E5.m1.10.10.10.2.2.2.2.2">𝒢</ci><ci id="S3.E5.m1.10.10.10.2.2.2.2.3.cmml" xref="S3.E5.m1.10.10.10.2.2.2.2.3">𝑖</ci></apply></interval></apply><apply id="S3.E5.m1.14.14.14.9.cmml" xref="S3.E5.m1.14.14.14.9"><apply id="S3.E5.m1.14.14.14.9.1.cmml" xref="S3.E5.m1.14.14.14.9.1"><csymbol cd="ambiguous" id="S3.E5.m1.14.14.14.9.1.1.cmml" xref="S3.E5.m1.14.14.14.9.1">subscript</csymbol><sum id="S3.E5.m1.14.14.14.9.1.2.cmml" xref="S3.E5.m1.14.14.14.9.1.2"></sum><apply id="S3.E5.m1.12.12.12.4.2.cmml" xref="S3.E5.m1.12.12.12.4.2"><in id="S3.E5.m1.12.12.12.4.2.3.cmml" xref="S3.E5.m1.12.12.12.4.2.3"></in><interval closure="open" id="S3.E5.m1.12.12.12.4.2.4.1.cmml" xref="S3.E5.m1.12.12.12.4.2.4.2"><ci id="S3.E5.m1.11.11.11.3.1.1.cmml" xref="S3.E5.m1.11.11.11.3.1.1">ℒ</ci><ci id="S3.E5.m1.12.12.12.4.2.2.cmml" xref="S3.E5.m1.12.12.12.4.2.2">∇</ci></interval><ci id="S3.E5.m1.12.12.12.4.2.5.cmml" xref="S3.E5.m1.12.12.12.4.2.5">Γ</ci></apply></apply><apply id="S3.E5.m1.14.14.14.9.2.cmml" xref="S3.E5.m1.14.14.14.9.2"><csymbol cd="ambiguous" id="S3.E5.m1.14.14.14.9.2.1.cmml" xref="S3.E5.m1.14.14.14.9.2">subscript</csymbol><ci id="S3.E5.m1.14.14.14.9.2.2.cmml" xref="S3.E5.m1.14.14.14.9.2.2">𝜔</ci><interval closure="open" id="S3.E5.m1.14.14.14.6.2.3.cmml" xref="S3.E5.m1.14.14.14.6.2.2"><ci id="S3.E5.m1.13.13.13.5.1.1.cmml" xref="S3.E5.m1.13.13.13.5.1.1">ℒ</ci><apply id="S3.E5.m1.14.14.14.6.2.2.1.cmml" xref="S3.E5.m1.14.14.14.6.2.2.1"><csymbol cd="ambiguous" id="S3.E5.m1.14.14.14.6.2.2.1.1.cmml" xref="S3.E5.m1.14.14.14.6.2.2.1">subscript</csymbol><ci id="S3.E5.m1.14.14.14.6.2.2.1.2.cmml" xref="S3.E5.m1.14.14.14.6.2.2.1.2">𝒢</ci><ci id="S3.E5.m1.14.14.14.6.2.2.1.3.cmml" xref="S3.E5.m1.14.14.14.6.2.2.1.3">𝑖</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.14c">\frac{\omega_{(\mathcal{L}_{i},\mathcal{G}_{i})}(\nabla\ell(w^{\prime};\mathcal{D}_{i}))+\bigg{(}\sum_{(\mathcal{L},\nabla)\in\Gamma}\omega_{(\mathcal{L},\mathcal{G}_{i})}\nabla\bigg{)}}{\omega_{(\mathcal{L}_{i},\mathcal{G}_{i})}+\sum_{(\mathcal{L},\nabla)\in\Gamma}\omega_{(\mathcal{L},\mathcal{G}_{i})}}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p3.5" class="ltx_p">The first term of the numerator accounts for the (weighted) contribution of a round of training on <math id="S3.SS3.p3.4.m1.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS3.p3.4.m1.1a"><msub id="S3.SS3.p3.4.m1.1.1" xref="S3.SS3.p3.4.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS3.p3.4.m1.1.1.2" xref="S3.SS3.p3.4.m1.1.1.2.cmml">𝒞</mi><mi id="S3.SS3.p3.4.m1.1.1.3" xref="S3.SS3.p3.4.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.4.m1.1b"><apply id="S3.SS3.p3.4.m1.1.1.cmml" xref="S3.SS3.p3.4.m1.1.1"><csymbol cd="ambiguous" id="S3.SS3.p3.4.m1.1.1.1.cmml" xref="S3.SS3.p3.4.m1.1.1">subscript</csymbol><ci id="S3.SS3.p3.4.m1.1.1.2.cmml" xref="S3.SS3.p3.4.m1.1.1.2">𝒞</ci><ci id="S3.SS3.p3.4.m1.1.1.3.cmml" xref="S3.SS3.p3.4.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.4.m1.1c">\mathcal{C}_{i}</annotation></semantics></math>’s local data. The second term sums the gradients stored in the non-empty entries in <math id="S3.SS3.p3.5.m2.1" class="ltx_Math" alttext="\Gamma" display="inline"><semantics id="S3.SS3.p3.5.m2.1a"><mi mathvariant="normal" id="S3.SS3.p3.5.m2.1.1" xref="S3.SS3.p3.5.m2.1.1.cmml">Γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p3.5.m2.1b"><ci id="S3.SS3.p3.5.m2.1.1.cmml" xref="S3.SS3.p3.5.m2.1.1">Γ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p3.5.m2.1c">\Gamma</annotation></semantics></math>, each weighted based on similarity. Before evaluating our approaches, we examine one final concept in our framework, the notion of decay with respect to the learning rate.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS4.5.1.1" class="ltx_text">III-D</span> </span><span id="S3.SS4.6.2" class="ltx_text ltx_font_italic">Learning Rate and Decay</span>
</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.5" class="ltx_p">Appropriately tuning the learning rate is important to avoid overfitting. We dynamically tune the learning rate by utilizing the concept of <span id="S3.SS4.p1.5.1" class="ltx_text ltx_font_italic">decay</span>, which is common in deep learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx1" title="" class="ltx_ref">1</a>]</cite>. Because our approach is completely decentralized, the learning rate for each device evolves independently. The learning rate at time <math id="S3.SS4.p1.1.m1.1" class="ltx_Math" alttext="t_{i}" display="inline"><semantics id="S3.SS4.p1.1.m1.1a"><msub id="S3.SS4.p1.1.m1.1.1" xref="S3.SS4.p1.1.m1.1.1.cmml"><mi id="S3.SS4.p1.1.m1.1.1.2" xref="S3.SS4.p1.1.m1.1.1.2.cmml">t</mi><mi id="S3.SS4.p1.1.m1.1.1.3" xref="S3.SS4.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.1b"><apply id="S3.SS4.p1.1.m1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.1.m1.1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p1.1.m1.1.1.2.cmml" xref="S3.SS4.p1.1.m1.1.1.2">𝑡</ci><ci id="S3.SS4.p1.1.m1.1.1.3.cmml" xref="S3.SS4.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.1c">t_{i}</annotation></semantics></math> for device <math id="S3.SS4.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS4.p1.2.m2.1a"><msub id="S3.SS4.p1.2.m2.1.1" xref="S3.SS4.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.2.m2.1.1.2" xref="S3.SS4.p1.2.m2.1.1.2.cmml">𝒞</mi><mi id="S3.SS4.p1.2.m2.1.1.3" xref="S3.SS4.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.1b"><apply id="S3.SS4.p1.2.m2.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.2.m2.1.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p1.2.m2.1.1.2.cmml" xref="S3.SS4.p1.2.m2.1.1.2">𝒞</ci><ci id="S3.SS4.p1.2.m2.1.1.3.cmml" xref="S3.SS4.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.1c">\mathcal{C}_{i}</annotation></semantics></math> is <math id="S3.SS4.p1.3.m3.1" class="ltx_Math" alttext="\eta^{t_{i}}_{i}=\eta\alpha^{t_{i}}_{i}" display="inline"><semantics id="S3.SS4.p1.3.m3.1a"><mrow id="S3.SS4.p1.3.m3.1.1" xref="S3.SS4.p1.3.m3.1.1.cmml"><msubsup id="S3.SS4.p1.3.m3.1.1.2" xref="S3.SS4.p1.3.m3.1.1.2.cmml"><mi id="S3.SS4.p1.3.m3.1.1.2.2.2" xref="S3.SS4.p1.3.m3.1.1.2.2.2.cmml">η</mi><mi id="S3.SS4.p1.3.m3.1.1.2.3" xref="S3.SS4.p1.3.m3.1.1.2.3.cmml">i</mi><msub id="S3.SS4.p1.3.m3.1.1.2.2.3" xref="S3.SS4.p1.3.m3.1.1.2.2.3.cmml"><mi id="S3.SS4.p1.3.m3.1.1.2.2.3.2" xref="S3.SS4.p1.3.m3.1.1.2.2.3.2.cmml">t</mi><mi id="S3.SS4.p1.3.m3.1.1.2.2.3.3" xref="S3.SS4.p1.3.m3.1.1.2.2.3.3.cmml">i</mi></msub></msubsup><mo id="S3.SS4.p1.3.m3.1.1.1" xref="S3.SS4.p1.3.m3.1.1.1.cmml">=</mo><mrow id="S3.SS4.p1.3.m3.1.1.3" xref="S3.SS4.p1.3.m3.1.1.3.cmml"><mi id="S3.SS4.p1.3.m3.1.1.3.2" xref="S3.SS4.p1.3.m3.1.1.3.2.cmml">η</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p1.3.m3.1.1.3.1" xref="S3.SS4.p1.3.m3.1.1.3.1.cmml">​</mo><msubsup id="S3.SS4.p1.3.m3.1.1.3.3" xref="S3.SS4.p1.3.m3.1.1.3.3.cmml"><mi id="S3.SS4.p1.3.m3.1.1.3.3.2.2" xref="S3.SS4.p1.3.m3.1.1.3.3.2.2.cmml">α</mi><mi id="S3.SS4.p1.3.m3.1.1.3.3.3" xref="S3.SS4.p1.3.m3.1.1.3.3.3.cmml">i</mi><msub id="S3.SS4.p1.3.m3.1.1.3.3.2.3" xref="S3.SS4.p1.3.m3.1.1.3.3.2.3.cmml"><mi id="S3.SS4.p1.3.m3.1.1.3.3.2.3.2" xref="S3.SS4.p1.3.m3.1.1.3.3.2.3.2.cmml">t</mi><mi id="S3.SS4.p1.3.m3.1.1.3.3.2.3.3" xref="S3.SS4.p1.3.m3.1.1.3.3.2.3.3.cmml">i</mi></msub></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.1b"><apply id="S3.SS4.p1.3.m3.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1"><eq id="S3.SS4.p1.3.m3.1.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1.1"></eq><apply id="S3.SS4.p1.3.m3.1.1.2.cmml" xref="S3.SS4.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.2.1.cmml" xref="S3.SS4.p1.3.m3.1.1.2">subscript</csymbol><apply id="S3.SS4.p1.3.m3.1.1.2.2.cmml" xref="S3.SS4.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.2.2.1.cmml" xref="S3.SS4.p1.3.m3.1.1.2">superscript</csymbol><ci id="S3.SS4.p1.3.m3.1.1.2.2.2.cmml" xref="S3.SS4.p1.3.m3.1.1.2.2.2">𝜂</ci><apply id="S3.SS4.p1.3.m3.1.1.2.2.3.cmml" xref="S3.SS4.p1.3.m3.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.2.2.3.1.cmml" xref="S3.SS4.p1.3.m3.1.1.2.2.3">subscript</csymbol><ci id="S3.SS4.p1.3.m3.1.1.2.2.3.2.cmml" xref="S3.SS4.p1.3.m3.1.1.2.2.3.2">𝑡</ci><ci id="S3.SS4.p1.3.m3.1.1.2.2.3.3.cmml" xref="S3.SS4.p1.3.m3.1.1.2.2.3.3">𝑖</ci></apply></apply><ci id="S3.SS4.p1.3.m3.1.1.2.3.cmml" xref="S3.SS4.p1.3.m3.1.1.2.3">𝑖</ci></apply><apply id="S3.SS4.p1.3.m3.1.1.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3"><times id="S3.SS4.p1.3.m3.1.1.3.1.cmml" xref="S3.SS4.p1.3.m3.1.1.3.1"></times><ci id="S3.SS4.p1.3.m3.1.1.3.2.cmml" xref="S3.SS4.p1.3.m3.1.1.3.2">𝜂</ci><apply id="S3.SS4.p1.3.m3.1.1.3.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.3.3.1.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3">subscript</csymbol><apply id="S3.SS4.p1.3.m3.1.1.3.3.2.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.3.3.2.1.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3">superscript</csymbol><ci id="S3.SS4.p1.3.m3.1.1.3.3.2.2.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.2.2">𝛼</ci><apply id="S3.SS4.p1.3.m3.1.1.3.3.2.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.1.1.3.3.2.3.1.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.2.3">subscript</csymbol><ci id="S3.SS4.p1.3.m3.1.1.3.3.2.3.2.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.2.3.2">𝑡</ci><ci id="S3.SS4.p1.3.m3.1.1.3.3.2.3.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.2.3.3">𝑖</ci></apply></apply><ci id="S3.SS4.p1.3.m3.1.1.3.3.3.cmml" xref="S3.SS4.p1.3.m3.1.1.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.1c">\eta^{t_{i}}_{i}=\eta\alpha^{t_{i}}_{i}</annotation></semantics></math>, where <math id="S3.SS4.p1.4.m4.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S3.SS4.p1.4.m4.1a"><mi id="S3.SS4.p1.4.m4.1.1" xref="S3.SS4.p1.4.m4.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m4.1b"><ci id="S3.SS4.p1.4.m4.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.4.m4.1c">\eta</annotation></semantics></math> is an initial learning rate and <math id="S3.SS4.p1.5.m5.1" class="ltx_Math" alttext="\alpha^{t_{i}}_{i}" display="inline"><semantics id="S3.SS4.p1.5.m5.1a"><msubsup id="S3.SS4.p1.5.m5.1.1" xref="S3.SS4.p1.5.m5.1.1.cmml"><mi id="S3.SS4.p1.5.m5.1.1.2.2" xref="S3.SS4.p1.5.m5.1.1.2.2.cmml">α</mi><mi id="S3.SS4.p1.5.m5.1.1.3" xref="S3.SS4.p1.5.m5.1.1.3.cmml">i</mi><msub id="S3.SS4.p1.5.m5.1.1.2.3" xref="S3.SS4.p1.5.m5.1.1.2.3.cmml"><mi id="S3.SS4.p1.5.m5.1.1.2.3.2" xref="S3.SS4.p1.5.m5.1.1.2.3.2.cmml">t</mi><mi id="S3.SS4.p1.5.m5.1.1.2.3.3" xref="S3.SS4.p1.5.m5.1.1.2.3.3.cmml">i</mi></msub></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m5.1b"><apply id="S3.SS4.p1.5.m5.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m5.1.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1">subscript</csymbol><apply id="S3.SS4.p1.5.m5.1.1.2.cmml" xref="S3.SS4.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m5.1.1.2.1.cmml" xref="S3.SS4.p1.5.m5.1.1">superscript</csymbol><ci id="S3.SS4.p1.5.m5.1.1.2.2.cmml" xref="S3.SS4.p1.5.m5.1.1.2.2">𝛼</ci><apply id="S3.SS4.p1.5.m5.1.1.2.3.cmml" xref="S3.SS4.p1.5.m5.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m5.1.1.2.3.1.cmml" xref="S3.SS4.p1.5.m5.1.1.2.3">subscript</csymbol><ci id="S3.SS4.p1.5.m5.1.1.2.3.2.cmml" xref="S3.SS4.p1.5.m5.1.1.2.3.2">𝑡</ci><ci id="S3.SS4.p1.5.m5.1.1.2.3.3.cmml" xref="S3.SS4.p1.5.m5.1.1.2.3.3">𝑖</ci></apply></apply><ci id="S3.SS4.p1.5.m5.1.1.3.cmml" xref="S3.SS4.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.5.m5.1c">\alpha^{t_{i}}_{i}</annotation></semantics></math> is the decay, computed as:</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.5" class="ltx_Math" alttext="\alpha_{t_{i}}=\frac{\exp(\kappa\times(\phi-\left\lVert w^{0}_{i}-w^{t_{i}}_{i}\right\rVert_{2}))}{\exp(\kappa\times(\phi-\left\lVert w^{0}_{i}-w^{t_{i}}_{i}\right\rVert_{2}))+1}," display="block"><semantics id="S3.E6.m1.5a"><mrow id="S3.E6.m1.5.5.1" xref="S3.E6.m1.5.5.1.1.cmml"><mrow id="S3.E6.m1.5.5.1.1" xref="S3.E6.m1.5.5.1.1.cmml"><msub id="S3.E6.m1.5.5.1.1.2" xref="S3.E6.m1.5.5.1.1.2.cmml"><mi id="S3.E6.m1.5.5.1.1.2.2" xref="S3.E6.m1.5.5.1.1.2.2.cmml">α</mi><msub id="S3.E6.m1.5.5.1.1.2.3" xref="S3.E6.m1.5.5.1.1.2.3.cmml"><mi id="S3.E6.m1.5.5.1.1.2.3.2" xref="S3.E6.m1.5.5.1.1.2.3.2.cmml">t</mi><mi id="S3.E6.m1.5.5.1.1.2.3.3" xref="S3.E6.m1.5.5.1.1.2.3.3.cmml">i</mi></msub></msub><mo id="S3.E6.m1.5.5.1.1.1" xref="S3.E6.m1.5.5.1.1.1.cmml">=</mo><mfrac id="S3.E6.m1.4.4" xref="S3.E6.m1.4.4.cmml"><mrow id="S3.E6.m1.2.2.2.2" xref="S3.E6.m1.2.2.2.3.cmml"><mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">exp</mi><mo id="S3.E6.m1.2.2.2.2a" xref="S3.E6.m1.2.2.2.3.cmml">⁡</mo><mrow id="S3.E6.m1.2.2.2.2.1" xref="S3.E6.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.E6.m1.2.2.2.2.1.2" xref="S3.E6.m1.2.2.2.3.cmml">(</mo><mrow id="S3.E6.m1.2.2.2.2.1.1" xref="S3.E6.m1.2.2.2.2.1.1.cmml"><mi id="S3.E6.m1.2.2.2.2.1.1.3" xref="S3.E6.m1.2.2.2.2.1.1.3.cmml">κ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.2.2.2.2.1.1.2" xref="S3.E6.m1.2.2.2.2.1.1.2.cmml">×</mo><mrow id="S3.E6.m1.2.2.2.2.1.1.1.1" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.2.2.2.2.1.1.1.1.2" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.2.2.2.2.1.1.1.1.1" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.cmml"><mi id="S3.E6.m1.2.2.2.2.1.1.1.1.1.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.3.cmml">ϕ</mi><mo id="S3.E6.m1.2.2.2.2.1.1.1.1.1.2" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.2.cmml">−</mo><msub id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.cmml"><mrow id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.2.cmml"><mo fence="true" lspace="0em" rspace="0em" stretchy="true" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.2.1.cmml">∥</mo><mrow id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.2.cmml">w</mi><mi id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mn id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.3.cmml">0</mn></msubsup><mo id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><msubsup id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.2.cmml">w</mi><mi id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi><msub id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.2" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.2.cmml">t</mi><mi id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.3.cmml">i</mi></msub></msubsup></mrow><mo fence="true" lspace="0em" rspace="0em" stretchy="true" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.2.1.cmml">∥</mo></mrow><mn id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.3.cmml">2</mn></msub></mrow><mo stretchy="false" id="S3.E6.m1.2.2.2.2.1.1.1.1.3" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E6.m1.2.2.2.2.1.3" xref="S3.E6.m1.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S3.E6.m1.4.4.4" xref="S3.E6.m1.4.4.4.cmml"><mrow id="S3.E6.m1.4.4.4.2.1" xref="S3.E6.m1.4.4.4.2.2.cmml"><mi id="S3.E6.m1.3.3.3.1" xref="S3.E6.m1.3.3.3.1.cmml">exp</mi><mo id="S3.E6.m1.4.4.4.2.1a" xref="S3.E6.m1.4.4.4.2.2.cmml">⁡</mo><mrow id="S3.E6.m1.4.4.4.2.1.1" xref="S3.E6.m1.4.4.4.2.2.cmml"><mo stretchy="false" id="S3.E6.m1.4.4.4.2.1.1.2" xref="S3.E6.m1.4.4.4.2.2.cmml">(</mo><mrow id="S3.E6.m1.4.4.4.2.1.1.1" xref="S3.E6.m1.4.4.4.2.1.1.1.cmml"><mi id="S3.E6.m1.4.4.4.2.1.1.1.3" xref="S3.E6.m1.4.4.4.2.1.1.1.3.cmml">κ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.4.4.4.2.1.1.1.2" xref="S3.E6.m1.4.4.4.2.1.1.1.2.cmml">×</mo><mrow id="S3.E6.m1.4.4.4.2.1.1.1.1.1" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.2" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.3.cmml">ϕ</mi><mo id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.2" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.2.cmml">−</mo><msub id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.cmml"><mrow id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.2.cmml"><mo fence="true" lspace="0em" rspace="0em" stretchy="true" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.2.1.cmml">∥</mo><mrow id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.cmml"><msubsup id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">w</mi><mi id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mn id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">0</mn></msubsup><mo id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.1.cmml">−</mo><msubsup id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.2" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml">w</mi><mi id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi><msub id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml"><mi id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.2" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.2.cmml">t</mi><mi id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.3.cmml">i</mi></msub></msubsup></mrow><mo fence="true" lspace="0em" rspace="0em" stretchy="true" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.2.1.cmml">∥</mo></mrow><mn id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.3.cmml">2</mn></msub></mrow><mo stretchy="false" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.3" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E6.m1.4.4.4.2.1.1.3" xref="S3.E6.m1.4.4.4.2.2.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.4.4.4.3" xref="S3.E6.m1.4.4.4.3.cmml">+</mo><mn id="S3.E6.m1.4.4.4.4" xref="S3.E6.m1.4.4.4.4.cmml">1</mn></mrow></mfrac></mrow><mo id="S3.E6.m1.5.5.1.2" xref="S3.E6.m1.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.5b"><apply id="S3.E6.m1.5.5.1.1.cmml" xref="S3.E6.m1.5.5.1"><eq id="S3.E6.m1.5.5.1.1.1.cmml" xref="S3.E6.m1.5.5.1.1.1"></eq><apply id="S3.E6.m1.5.5.1.1.2.cmml" xref="S3.E6.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.2.1.cmml" xref="S3.E6.m1.5.5.1.1.2">subscript</csymbol><ci id="S3.E6.m1.5.5.1.1.2.2.cmml" xref="S3.E6.m1.5.5.1.1.2.2">𝛼</ci><apply id="S3.E6.m1.5.5.1.1.2.3.cmml" xref="S3.E6.m1.5.5.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.2.3.1.cmml" xref="S3.E6.m1.5.5.1.1.2.3">subscript</csymbol><ci id="S3.E6.m1.5.5.1.1.2.3.2.cmml" xref="S3.E6.m1.5.5.1.1.2.3.2">𝑡</ci><ci id="S3.E6.m1.5.5.1.1.2.3.3.cmml" xref="S3.E6.m1.5.5.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.E6.m1.4.4.cmml" xref="S3.E6.m1.4.4"><divide id="S3.E6.m1.4.4.5.cmml" xref="S3.E6.m1.4.4"></divide><apply id="S3.E6.m1.2.2.2.3.cmml" xref="S3.E6.m1.2.2.2.2"><exp id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1"></exp><apply id="S3.E6.m1.2.2.2.2.1.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1"><times id="S3.E6.m1.2.2.2.2.1.1.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.2"></times><ci id="S3.E6.m1.2.2.2.2.1.1.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.3">𝜅</ci><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1"><minus id="S3.E6.m1.2.2.2.2.1.1.1.1.1.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.2"></minus><ci id="S3.E6.m1.2.2.2.2.1.1.1.1.1.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.3">italic-ϕ</ci><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.2">delimited-∥∥</csymbol><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1"><minus id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.1"></minus><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.2">𝑤</ci><cn type="integer" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.3">0</cn></apply><ci id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.2">𝑤</ci><apply id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.2">𝑡</ci><ci id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.3.3">𝑖</ci></apply></apply><ci id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><cn type="integer" id="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.2.2.2.2.1.1.1.1.1.1.3">2</cn></apply></apply></apply></apply><apply id="S3.E6.m1.4.4.4.cmml" xref="S3.E6.m1.4.4.4"><plus id="S3.E6.m1.4.4.4.3.cmml" xref="S3.E6.m1.4.4.4.3"></plus><apply id="S3.E6.m1.4.4.4.2.2.cmml" xref="S3.E6.m1.4.4.4.2.1"><exp id="S3.E6.m1.3.3.3.1.cmml" xref="S3.E6.m1.3.3.3.1"></exp><apply id="S3.E6.m1.4.4.4.2.1.1.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1"><times id="S3.E6.m1.4.4.4.2.1.1.1.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.2"></times><ci id="S3.E6.m1.4.4.4.2.1.1.1.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.3">𝜅</ci><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1"><minus id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.2"></minus><ci id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.3">italic-ϕ</ci><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.2">delimited-∥∥</csymbol><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1"><minus id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.1"></minus><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.2">𝑤</ci><cn type="integer" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.2.3">0</cn></apply><ci id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.2">𝑤</ci><apply id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.1.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3">subscript</csymbol><ci id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.2.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.2">𝑡</ci><ci id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.2.3.3">𝑖</ci></apply></apply><ci id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply><cn type="integer" id="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.4.4.4.2.1.1.1.1.1.1.1.3">2</cn></apply></apply></apply></apply><cn type="integer" id="S3.E6.m1.4.4.4.4.cmml" xref="S3.E6.m1.4.4.4.4">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.5c">\alpha_{t_{i}}=\frac{\exp(\kappa\times(\phi-\left\lVert w^{0}_{i}-w^{t_{i}}_{i}\right\rVert_{2}))}{\exp(\kappa\times(\phi-\left\lVert w^{0}_{i}-w^{t_{i}}_{i}\right\rVert_{2}))+1},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p1.10" class="ltx_p">where</p>
<table id="S3.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E7.m1.5" class="ltx_Math" alttext="\alpha_{t_{i}}&lt;min\{\alpha_{0},...,\alpha_{t_{i}-1}\},\;0&lt;\phi,\;0&lt;\kappa," display="block"><semantics id="S3.E7.m1.5a"><mrow id="S3.E7.m1.5.5.1"><mrow id="S3.E7.m1.5.5.1.1.2" xref="S3.E7.m1.5.5.1.1.3.cmml"><mrow id="S3.E7.m1.5.5.1.1.1.1" xref="S3.E7.m1.5.5.1.1.1.1.cmml"><msub id="S3.E7.m1.5.5.1.1.1.1.4" xref="S3.E7.m1.5.5.1.1.1.1.4.cmml"><mi id="S3.E7.m1.5.5.1.1.1.1.4.2" xref="S3.E7.m1.5.5.1.1.1.1.4.2.cmml">α</mi><msub id="S3.E7.m1.5.5.1.1.1.1.4.3" xref="S3.E7.m1.5.5.1.1.1.1.4.3.cmml"><mi id="S3.E7.m1.5.5.1.1.1.1.4.3.2" xref="S3.E7.m1.5.5.1.1.1.1.4.3.2.cmml">t</mi><mi id="S3.E7.m1.5.5.1.1.1.1.4.3.3" xref="S3.E7.m1.5.5.1.1.1.1.4.3.3.cmml">i</mi></msub></msub><mo id="S3.E7.m1.5.5.1.1.1.1.3" xref="S3.E7.m1.5.5.1.1.1.1.3.cmml">&lt;</mo><mrow id="S3.E7.m1.5.5.1.1.1.1.2" xref="S3.E7.m1.5.5.1.1.1.1.2.cmml"><mi id="S3.E7.m1.5.5.1.1.1.1.2.4" xref="S3.E7.m1.5.5.1.1.1.1.2.4.cmml">m</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.5.5.1.1.1.1.2.3" xref="S3.E7.m1.5.5.1.1.1.1.2.3.cmml">​</mo><mi id="S3.E7.m1.5.5.1.1.1.1.2.5" xref="S3.E7.m1.5.5.1.1.1.1.2.5.cmml">i</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.5.5.1.1.1.1.2.3a" xref="S3.E7.m1.5.5.1.1.1.1.2.3.cmml">​</mo><mi id="S3.E7.m1.5.5.1.1.1.1.2.6" xref="S3.E7.m1.5.5.1.1.1.1.2.6.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.5.5.1.1.1.1.2.3b" xref="S3.E7.m1.5.5.1.1.1.1.2.3.cmml">​</mo><mrow id="S3.E7.m1.5.5.1.1.1.1.2.2.2" xref="S3.E7.m1.5.5.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E7.m1.5.5.1.1.1.1.2.2.2.3" xref="S3.E7.m1.5.5.1.1.1.1.2.2.3.cmml">{</mo><msub id="S3.E7.m1.5.5.1.1.1.1.1.1.1.1" xref="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.2" xref="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.2.cmml">α</mi><mn id="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.3" xref="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S3.E7.m1.5.5.1.1.1.1.2.2.2.4" xref="S3.E7.m1.5.5.1.1.1.1.2.2.3.cmml">,</mo><mi mathvariant="normal" id="S3.E7.m1.1.1" xref="S3.E7.m1.1.1.cmml">…</mi><mo id="S3.E7.m1.5.5.1.1.1.1.2.2.2.5" xref="S3.E7.m1.5.5.1.1.1.1.2.2.3.cmml">,</mo><msub id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.2" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.2.cmml">α</mi><mrow id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.cmml"><msub id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.cmml"><mi id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.2" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.2.cmml">t</mi><mi id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.3" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.3.cmml">i</mi></msub><mo id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.1" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.1.cmml">−</mo><mn id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.3" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.3.cmml">1</mn></mrow></msub><mo stretchy="false" id="S3.E7.m1.5.5.1.1.1.1.2.2.2.6" xref="S3.E7.m1.5.5.1.1.1.1.2.2.3.cmml">}</mo></mrow></mrow></mrow><mo id="S3.E7.m1.5.5.1.1.2.3" xref="S3.E7.m1.5.5.1.1.3a.cmml">,</mo><mrow id="S3.E7.m1.5.5.1.1.2.2.2" xref="S3.E7.m1.5.5.1.1.2.2.3.cmml"><mrow id="S3.E7.m1.5.5.1.1.2.2.1.1" xref="S3.E7.m1.5.5.1.1.2.2.1.1.cmml"><mn id="S3.E7.m1.4.4" xref="S3.E7.m1.4.4.cmml"> 0</mn><mo id="S3.E7.m1.5.5.1.1.2.2.1.1.1" xref="S3.E7.m1.5.5.1.1.2.2.1.1.1.cmml">&lt;</mo><mi id="S3.E7.m1.2.2" xref="S3.E7.m1.2.2.cmml">ϕ</mi></mrow><mo id="S3.E7.m1.5.5.1.1.2.2.2.3" xref="S3.E7.m1.5.5.1.1.2.2.3a.cmml">,</mo><mrow id="S3.E7.m1.5.5.1.1.2.2.2.2" xref="S3.E7.m1.5.5.1.1.2.2.2.2.cmml"><mn id="S3.E7.m1.3.3" xref="S3.E7.m1.3.3.cmml"> 0</mn><mo id="S3.E7.m1.5.5.1.1.2.2.2.2.1" xref="S3.E7.m1.5.5.1.1.2.2.2.2.1.cmml">&lt;</mo><mi id="S3.E7.m1.5.5.1.1.2.2.2.2.2" xref="S3.E7.m1.5.5.1.1.2.2.2.2.2.cmml">κ</mi></mrow></mrow></mrow><mo id="S3.E7.m1.5.5.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.5b"><apply id="S3.E7.m1.5.5.1.1.3.cmml" xref="S3.E7.m1.5.5.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m1.5.5.1.1.3a.cmml" xref="S3.E7.m1.5.5.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E7.m1.5.5.1.1.1.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1"><lt id="S3.E7.m1.5.5.1.1.1.1.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.3"></lt><apply id="S3.E7.m1.5.5.1.1.1.1.4.cmml" xref="S3.E7.m1.5.5.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E7.m1.5.5.1.1.1.1.4.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1.4">subscript</csymbol><ci id="S3.E7.m1.5.5.1.1.1.1.4.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.4.2">𝛼</ci><apply id="S3.E7.m1.5.5.1.1.1.1.4.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.4.3"><csymbol cd="ambiguous" id="S3.E7.m1.5.5.1.1.1.1.4.3.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1.4.3">subscript</csymbol><ci id="S3.E7.m1.5.5.1.1.1.1.4.3.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.4.3.2">𝑡</ci><ci id="S3.E7.m1.5.5.1.1.1.1.4.3.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.4.3.3">𝑖</ci></apply></apply><apply id="S3.E7.m1.5.5.1.1.1.1.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2"><times id="S3.E7.m1.5.5.1.1.1.1.2.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.3"></times><ci id="S3.E7.m1.5.5.1.1.1.1.2.4.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.4">𝑚</ci><ci id="S3.E7.m1.5.5.1.1.1.1.2.5.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.5">𝑖</ci><ci id="S3.E7.m1.5.5.1.1.1.1.2.6.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.6">𝑛</ci><set id="S3.E7.m1.5.5.1.1.1.1.2.2.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2"><apply id="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.2">𝛼</ci><cn type="integer" id="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.1.1.1.1.3">0</cn></apply><ci id="S3.E7.m1.1.1.cmml" xref="S3.E7.m1.1.1">…</ci><apply id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.2">𝛼</ci><apply id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3"><minus id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.1"></minus><apply id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2"><csymbol cd="ambiguous" id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.1.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2">subscript</csymbol><ci id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.2.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.2">𝑡</ci><ci id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.2.3">𝑖</ci></apply><cn type="integer" id="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.3.cmml" xref="S3.E7.m1.5.5.1.1.1.1.2.2.2.2.3.3">1</cn></apply></apply></set></apply></apply><apply id="S3.E7.m1.5.5.1.1.2.2.3.cmml" xref="S3.E7.m1.5.5.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.5.5.1.1.2.2.3a.cmml" xref="S3.E7.m1.5.5.1.1.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E7.m1.5.5.1.1.2.2.1.1.cmml" xref="S3.E7.m1.5.5.1.1.2.2.1.1"><lt id="S3.E7.m1.5.5.1.1.2.2.1.1.1.cmml" xref="S3.E7.m1.5.5.1.1.2.2.1.1.1"></lt><cn type="float" id="S3.E7.m1.4.4.cmml" xref="S3.E7.m1.4.4"> 0</cn><ci id="S3.E7.m1.2.2.cmml" xref="S3.E7.m1.2.2">italic-ϕ</ci></apply><apply id="S3.E7.m1.5.5.1.1.2.2.2.2.cmml" xref="S3.E7.m1.5.5.1.1.2.2.2.2"><lt id="S3.E7.m1.5.5.1.1.2.2.2.2.1.cmml" xref="S3.E7.m1.5.5.1.1.2.2.2.2.1"></lt><cn type="float" id="S3.E7.m1.3.3.cmml" xref="S3.E7.m1.3.3"> 0</cn><ci id="S3.E7.m1.5.5.1.1.2.2.2.2.2.cmml" xref="S3.E7.m1.5.5.1.1.2.2.2.2.2">𝜅</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.5c">\alpha_{t_{i}}&lt;min\{\alpha_{0},...,\alpha_{t_{i}-1}\},\;0&lt;\phi,\;0&lt;\kappa,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p1.9" class="ltx_p">and <math id="S3.SS4.p1.6.m1.1" class="ltx_Math" alttext="\phi" display="inline"><semantics id="S3.SS4.p1.6.m1.1a"><mi id="S3.SS4.p1.6.m1.1.1" xref="S3.SS4.p1.6.m1.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.6.m1.1b"><ci id="S3.SS4.p1.6.m1.1.1.cmml" xref="S3.SS4.p1.6.m1.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.6.m1.1c">\phi</annotation></semantics></math> and <math id="S3.SS4.p1.7.m2.1" class="ltx_Math" alttext="\kappa" display="inline"><semantics id="S3.SS4.p1.7.m2.1a"><mi id="S3.SS4.p1.7.m2.1.1" xref="S3.SS4.p1.7.m2.1.1.cmml">κ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.7.m2.1b"><ci id="S3.SS4.p1.7.m2.1.1.cmml" xref="S3.SS4.p1.7.m2.1.1">𝜅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.7.m2.1c">\kappa</annotation></semantics></math> are constants. Opportunistic federated learning avoids overfitting to continuous encounters with a heavily skewed dataset by making an assumption that the minimum for a personalized task exists somewhere not too far away from the bootstrap model on the loss surface. The decay factor <math id="S3.SS4.p1.8.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS4.p1.8.m3.1a"><mi id="S3.SS4.p1.8.m3.1.1" xref="S3.SS4.p1.8.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.8.m3.1b"><ci id="S3.SS4.p1.8.m3.1.1.cmml" xref="S3.SS4.p1.8.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.8.m3.1c">\alpha</annotation></semantics></math> is a sigmoid function, where an L2 distance from the initial weight is scaled and used as an input. This design encourages <math id="S3.SS4.p1.9.m4.1" class="ltx_Math" alttext="\mathcal{C}_{i}" display="inline"><semantics id="S3.SS4.p1.9.m4.1a"><msub id="S3.SS4.p1.9.m4.1.1" xref="S3.SS4.p1.9.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p1.9.m4.1.1.2" xref="S3.SS4.p1.9.m4.1.1.2.cmml">𝒞</mi><mi id="S3.SS4.p1.9.m4.1.1.3" xref="S3.SS4.p1.9.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.9.m4.1b"><apply id="S3.SS4.p1.9.m4.1.1.cmml" xref="S3.SS4.p1.9.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p1.9.m4.1.1.1.cmml" xref="S3.SS4.p1.9.m4.1.1">subscript</csymbol><ci id="S3.SS4.p1.9.m4.1.1.2.cmml" xref="S3.SS4.p1.9.m4.1.1.2">𝒞</ci><ci id="S3.SS4.p1.9.m4.1.1.3.cmml" xref="S3.SS4.p1.9.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.9.m4.1c">\mathcal{C}_{i}</annotation></semantics></math>’s model to find a solution near the bootstrap model, as we assume it ensures a certain level of performance for all labels.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.4" class="ltx_p">As the model becomes more personalized, the learning rate decreases proportionally to the decay factor to seek a more fine-grained solution. At the same time, we only take the minimum of the decay factor to prohibit the model from reverting completely back to the original solution (the bootstrap model). The values of <math id="S3.SS4.p2.1.m1.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="S3.SS4.p2.1.m1.1a"><mi id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><ci id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">\eta</annotation></semantics></math>, <math id="S3.SS4.p2.2.m2.1" class="ltx_Math" alttext="\phi" display="inline"><semantics id="S3.SS4.p2.2.m2.1a"><mi id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><ci id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">\phi</annotation></semantics></math> and <math id="S3.SS4.p2.3.m3.1" class="ltx_Math" alttext="\kappa" display="inline"><semantics id="S3.SS4.p2.3.m3.1a"><mi id="S3.SS4.p2.3.m3.1.1" xref="S3.SS4.p2.3.m3.1.1.cmml">κ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.1b"><ci id="S3.SS4.p2.3.m3.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1">𝜅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.1c">\kappa</annotation></semantics></math> are global constants determined prior to bootstrapping; like <math id="S3.SS4.p2.4.m4.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS4.p2.4.m4.1a"><mi id="S3.SS4.p2.4.m4.1.1" xref="S3.SS4.p2.4.m4.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.4.m4.1b"><ci id="S3.SS4.p2.4.m4.1.1.cmml" xref="S3.SS4.p2.4.m4.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.4.m4.1c">\lambda</annotation></semantics></math> above, we determined the values by running experimental training with a subset of training data used for bootstrapping the initial model.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Evaluation</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">We benchmark and evaluate our opportunistic federated learning framework in two threads. First, we present controlled experiments in which we manipulate devices’ encounter patterns and data distributions in order to learn about and demonstrate how these impact performance. We the use realistic scenarios to demonstrate how opportunistic federated learning might perform in more realistic scenarios.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.5.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.6.2" class="ltx_text ltx_font_italic">Datasets and Models</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">Opportunistic federated learning requires training models on commodity mobile devices. Further, training must be completed within the timeframe of an encounter between two neighboring devices. For these reasons, the models most suitable for opportunistic federated learning are likely to be relatively small and lightweight tasks. Our evaluation relies on two classification tasks; MNIST and CIFAR-10. In future work, we will explore pushing opportunistic federated learning even more, with additional models and with models that grow in size and complexity. In MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx23" title="" class="ltx_ref">23</a>]</cite>, the task is to correctly label images of handwritten digits 0 through 9. We replicate a “2NN” model from <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx28" title="" class="ltx_ref">28</a>]</cite>, which was used to prove centralized federated learning empirically. The network is composed of two fully-connected hidden layers, each with 200 neurons and ReLU activations. Our second dataset is CIFAR-10 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx22" title="" class="ltx_ref">22</a>]</cite>, where the task is to recognize objects in images. We use a convolutional neural network (CNN) model, which is 11 layers deep with convolutional, max pooling, and dropout layers.
MNIST and CIFAR-10 have 60,000 and 50,000 training images respectively. We used 10% and 25% of the entire training set, respectively, to train the bootstrap model and used the remainder of the data to create the devices’ local datasets.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">We chose these datasets because (1) they map to our motivating applications; (2) the models can realistically be trained on resource-constrained devices and (3) the datasets are sufficiently large. There are many applications that satisfy the first two constraints, but the third is more difficult to realize, in particular because our evaluation demands the ability to distribute the data in a skewed way among many devices.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.5.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.6.2" class="ltx_text ltx_font_italic">The Feasibility of Encounter-Driven Learning</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Opportunistic federated learning relies on coordinated rounds of device-to-device exchanges that occur when users’ mobile devices encounter one another. It is essential to fit the execution of the exchange within the duration of an encounter. In particular, Lines 8-10 of Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> unfold as (1) the learner sends the model; (2) the neighbor performs one round of training; (3) the neighbor returns the gradients; (4) the learner performs one round of training and aggregation. These four steps are repeated <math id="S4.SS2.p1.1.m1.1" class="ltx_Math" alttext="\rho" display="inline"><semantics id="S4.SS2.p1.1.m1.1a"><mi id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">ρ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝜌</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\rho</annotation></semantics></math> times; the total needed time is:</p>
<table id="S4.E8" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E8.m1.1" class="ltx_Math" alttext="t_{\it enc}=\rho\times(2t_{\it send}+2t_{\it train}+t_{\it agg})." display="block"><semantics id="S4.E8.m1.1a"><mrow id="S4.E8.m1.1.1.1" xref="S4.E8.m1.1.1.1.1.cmml"><mrow id="S4.E8.m1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.cmml"><msub id="S4.E8.m1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.3.cmml"><mi id="S4.E8.m1.1.1.1.1.3.2" xref="S4.E8.m1.1.1.1.1.3.2.cmml">t</mi><mi id="S4.E8.m1.1.1.1.1.3.3" xref="S4.E8.m1.1.1.1.1.3.3.cmml">𝑒𝑛𝑐</mi></msub><mo id="S4.E8.m1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.2.cmml">=</mo><mrow id="S4.E8.m1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.cmml"><mi id="S4.E8.m1.1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.1.3.cmml">ρ</mi><mo lspace="0.222em" rspace="0.222em" id="S4.E8.m1.1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.1.2.cmml">×</mo><mrow id="S4.E8.m1.1.1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E8.m1.1.1.1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E8.m1.1.1.1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.E8.m1.1.1.1.1.1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.cmml"><mn id="S4.E8.m1.1.1.1.1.1.1.1.1.2.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S4.E8.m1.1.1.1.1.1.1.1.1.2.1" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.1.cmml">​</mo><msub id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.2.cmml">t</mi><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.3.cmml">𝑠𝑒𝑛𝑑</mi></msub></mrow><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.1.1.1.1.1.cmml">+</mo><mrow id="S4.E8.m1.1.1.1.1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.cmml"><mn id="S4.E8.m1.1.1.1.1.1.1.1.1.3.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml">​</mo><msub id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">t</mi><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">𝑡𝑟𝑎𝑖𝑛</mi></msub></mrow><mo id="S4.E8.m1.1.1.1.1.1.1.1.1.1a" xref="S4.E8.m1.1.1.1.1.1.1.1.1.1.cmml">+</mo><msub id="S4.E8.m1.1.1.1.1.1.1.1.1.4" xref="S4.E8.m1.1.1.1.1.1.1.1.1.4.cmml"><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.4.2" xref="S4.E8.m1.1.1.1.1.1.1.1.1.4.2.cmml">t</mi><mi id="S4.E8.m1.1.1.1.1.1.1.1.1.4.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.4.3.cmml">𝑎𝑔𝑔</mi></msub></mrow><mo stretchy="false" id="S4.E8.m1.1.1.1.1.1.1.1.3" xref="S4.E8.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo lspace="0em" id="S4.E8.m1.1.1.1.2" xref="S4.E8.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E8.m1.1b"><apply id="S4.E8.m1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1"><eq id="S4.E8.m1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.2"></eq><apply id="S4.E8.m1.1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.1.1.3">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.1.1.3.2">𝑡</ci><ci id="S4.E8.m1.1.1.1.1.3.3.cmml" xref="S4.E8.m1.1.1.1.1.3.3">𝑒𝑛𝑐</ci></apply><apply id="S4.E8.m1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1"><times id="S4.E8.m1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.1.2"></times><ci id="S4.E8.m1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.1.1.3">𝜌</ci><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1"><plus id="S4.E8.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.1"></plus><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2"><times id="S4.E8.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.1"></times><cn type="integer" id="S4.E8.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.2">2</cn><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.2">𝑡</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.2.3.3">𝑠𝑒𝑛𝑑</ci></apply></apply><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3"><times id="S4.E8.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.1"></times><cn type="integer" id="S4.E8.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.2">2</cn><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.2">𝑡</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.3.3.3">𝑡𝑟𝑎𝑖𝑛</ci></apply></apply><apply id="S4.E8.m1.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E8.m1.1.1.1.1.1.1.1.1.4.1.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.4.2.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.4.2">𝑡</ci><ci id="S4.E8.m1.1.1.1.1.1.1.1.1.4.3.cmml" xref="S4.E8.m1.1.1.1.1.1.1.1.1.4.3">𝑎𝑔𝑔</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E8.m1.1c">t_{\it enc}=\rho\times(2t_{\it send}+2t_{\it train}+t_{\it agg}).</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.9" class="ltx_p">To compute <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="t_{\it train}" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><msub id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">t</mi><mi id="S4.SS2.p2.1.m1.1.1.3" xref="S4.SS2.p2.1.m1.1.1.3.cmml">𝑡𝑟𝑎𝑖𝑛</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">𝑡</ci><ci id="S4.SS2.p2.1.m1.1.1.3.cmml" xref="S4.SS2.p2.1.m1.1.1.3">𝑡𝑟𝑎𝑖𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">t_{\it train}</annotation></semantics></math> and <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="t_{\it agg}" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><msub id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml"><mi id="S4.SS2.p2.2.m2.1.1.2" xref="S4.SS2.p2.2.m2.1.1.2.cmml">t</mi><mi id="S4.SS2.p2.2.m2.1.1.3" xref="S4.SS2.p2.2.m2.1.1.3.cmml">𝑎𝑔𝑔</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><apply id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p2.2.m2.1.1.2.cmml" xref="S4.SS2.p2.2.m2.1.1.2">𝑡</ci><ci id="S4.SS2.p2.2.m2.1.1.3.cmml" xref="S4.SS2.p2.2.m2.1.1.3">𝑎𝑔𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">t_{\it agg}</annotation></semantics></math>, we measured the computation time on a Raspberry Pi 4 (which has computational capabilities comparable to a smartphone). Training takes, on average, 1.543s and 5.74s for MNIST and CIFAR-10, respectively. For all approaches other than <span id="S4.SS2.p2.9.1" class="ltx_text ltx_font_italic">opportunistic-momentum</span>, <math id="S4.SS2.p2.3.m3.1" class="ltx_Math" alttext="t_{\it agg}" display="inline"><semantics id="S4.SS2.p2.3.m3.1a"><msub id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml"><mi id="S4.SS2.p2.3.m3.1.1.2" xref="S4.SS2.p2.3.m3.1.1.2.cmml">t</mi><mi id="S4.SS2.p2.3.m3.1.1.3" xref="S4.SS2.p2.3.m3.1.1.3.cmml">𝑎𝑔𝑔</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><apply id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.3.m3.1.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.p2.3.m3.1.1.2.cmml" xref="S4.SS2.p2.3.m3.1.1.2">𝑡</ci><ci id="S4.SS2.p2.3.m3.1.1.3.cmml" xref="S4.SS2.p2.3.m3.1.1.3">𝑎𝑔𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">t_{\it agg}</annotation></semantics></math> is 0. In <span id="S4.SS2.p2.9.2" class="ltx_text ltx_font_italic">opportunistic-momentum</span>, Line 10 of Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> requires iterating over the table <math id="S4.SS2.p2.4.m4.1" class="ltx_Math" alttext="\Gamma" display="inline"><semantics id="S4.SS2.p2.4.m4.1a"><mi mathvariant="normal" id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml">Γ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><ci id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1">Γ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">\Gamma</annotation></semantics></math>. The table has, at most, an entry for every subset of the goal set; however in practice the table is much smaller because it does not include entries that are completely subsumed by another and because a learner does not encounter all possible subsets of the goal set. To compute <math id="S4.SS2.p2.5.m5.1" class="ltx_Math" alttext="t_{\it agg}" display="inline"><semantics id="S4.SS2.p2.5.m5.1a"><msub id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml"><mi id="S4.SS2.p2.5.m5.1.1.2" xref="S4.SS2.p2.5.m5.1.1.2.cmml">t</mi><mi id="S4.SS2.p2.5.m5.1.1.3" xref="S4.SS2.p2.5.m5.1.1.3.cmml">𝑎𝑔𝑔</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><apply id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.5.m5.1.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS2.p2.5.m5.1.1.2.cmml" xref="S4.SS2.p2.5.m5.1.1.2">𝑡</ci><ci id="S4.SS2.p2.5.m5.1.1.3.cmml" xref="S4.SS2.p2.5.m5.1.1.3">𝑎𝑔𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">t_{\it agg}</annotation></semantics></math>, we assumed the worst case <math id="S4.SS2.p2.6.m6.2" class="ltx_Math" alttext="|\Gamma|=2^{|\mathcal{G}|}" display="inline"><semantics id="S4.SS2.p2.6.m6.2a"><mrow id="S4.SS2.p2.6.m6.2.3" xref="S4.SS2.p2.6.m6.2.3.cmml"><mrow id="S4.SS2.p2.6.m6.2.3.2.2" xref="S4.SS2.p2.6.m6.2.3.2.1.cmml"><mo stretchy="false" id="S4.SS2.p2.6.m6.2.3.2.2.1" xref="S4.SS2.p2.6.m6.2.3.2.1.1.cmml">|</mo><mi mathvariant="normal" id="S4.SS2.p2.6.m6.2.2" xref="S4.SS2.p2.6.m6.2.2.cmml">Γ</mi><mo stretchy="false" id="S4.SS2.p2.6.m6.2.3.2.2.2" xref="S4.SS2.p2.6.m6.2.3.2.1.1.cmml">|</mo></mrow><mo id="S4.SS2.p2.6.m6.2.3.1" xref="S4.SS2.p2.6.m6.2.3.1.cmml">=</mo><msup id="S4.SS2.p2.6.m6.2.3.3" xref="S4.SS2.p2.6.m6.2.3.3.cmml"><mn id="S4.SS2.p2.6.m6.2.3.3.2" xref="S4.SS2.p2.6.m6.2.3.3.2.cmml">2</mn><mrow id="S4.SS2.p2.6.m6.1.1.1.3" xref="S4.SS2.p2.6.m6.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS2.p2.6.m6.1.1.1.3.1" xref="S4.SS2.p2.6.m6.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.6.m6.1.1.1.1" xref="S4.SS2.p2.6.m6.1.1.1.1.cmml">𝒢</mi><mo stretchy="false" id="S4.SS2.p2.6.m6.1.1.1.3.2" xref="S4.SS2.p2.6.m6.1.1.1.2.1.cmml">|</mo></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m6.2b"><apply id="S4.SS2.p2.6.m6.2.3.cmml" xref="S4.SS2.p2.6.m6.2.3"><eq id="S4.SS2.p2.6.m6.2.3.1.cmml" xref="S4.SS2.p2.6.m6.2.3.1"></eq><apply id="S4.SS2.p2.6.m6.2.3.2.1.cmml" xref="S4.SS2.p2.6.m6.2.3.2.2"><abs id="S4.SS2.p2.6.m6.2.3.2.1.1.cmml" xref="S4.SS2.p2.6.m6.2.3.2.2.1"></abs><ci id="S4.SS2.p2.6.m6.2.2.cmml" xref="S4.SS2.p2.6.m6.2.2">Γ</ci></apply><apply id="S4.SS2.p2.6.m6.2.3.3.cmml" xref="S4.SS2.p2.6.m6.2.3.3"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m6.2.3.3.1.cmml" xref="S4.SS2.p2.6.m6.2.3.3">superscript</csymbol><cn type="integer" id="S4.SS2.p2.6.m6.2.3.3.2.cmml" xref="S4.SS2.p2.6.m6.2.3.3.2">2</cn><apply id="S4.SS2.p2.6.m6.1.1.1.2.cmml" xref="S4.SS2.p2.6.m6.1.1.1.3"><abs id="S4.SS2.p2.6.m6.1.1.1.2.1.cmml" xref="S4.SS2.p2.6.m6.1.1.1.3.1"></abs><ci id="S4.SS2.p2.6.m6.1.1.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1.1.1">𝒢</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m6.2c">|\Gamma|=2^{|\mathcal{G}|}</annotation></semantics></math>, or <math id="S4.SS2.p2.7.m7.1" class="ltx_Math" alttext="|\Gamma|=32" display="inline"><semantics id="S4.SS2.p2.7.m7.1a"><mrow id="S4.SS2.p2.7.m7.1.2" xref="S4.SS2.p2.7.m7.1.2.cmml"><mrow id="S4.SS2.p2.7.m7.1.2.2.2" xref="S4.SS2.p2.7.m7.1.2.2.1.cmml"><mo stretchy="false" id="S4.SS2.p2.7.m7.1.2.2.2.1" xref="S4.SS2.p2.7.m7.1.2.2.1.1.cmml">|</mo><mi mathvariant="normal" id="S4.SS2.p2.7.m7.1.1" xref="S4.SS2.p2.7.m7.1.1.cmml">Γ</mi><mo stretchy="false" id="S4.SS2.p2.7.m7.1.2.2.2.2" xref="S4.SS2.p2.7.m7.1.2.2.1.1.cmml">|</mo></mrow><mo id="S4.SS2.p2.7.m7.1.2.1" xref="S4.SS2.p2.7.m7.1.2.1.cmml">=</mo><mn id="S4.SS2.p2.7.m7.1.2.3" xref="S4.SS2.p2.7.m7.1.2.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.7.m7.1b"><apply id="S4.SS2.p2.7.m7.1.2.cmml" xref="S4.SS2.p2.7.m7.1.2"><eq id="S4.SS2.p2.7.m7.1.2.1.cmml" xref="S4.SS2.p2.7.m7.1.2.1"></eq><apply id="S4.SS2.p2.7.m7.1.2.2.1.cmml" xref="S4.SS2.p2.7.m7.1.2.2.2"><abs id="S4.SS2.p2.7.m7.1.2.2.1.1.cmml" xref="S4.SS2.p2.7.m7.1.2.2.2.1"></abs><ci id="S4.SS2.p2.7.m7.1.1.cmml" xref="S4.SS2.p2.7.m7.1.1">Γ</ci></apply><cn type="integer" id="S4.SS2.p2.7.m7.1.2.3.cmml" xref="S4.SS2.p2.7.m7.1.2.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.7.m7.1c">|\Gamma|=32</annotation></semantics></math>, given that, in all of our experiments, the size of the goal distribution set is 5. Measured empirically on the Raspberry Pi 4, the worst case <math id="S4.SS2.p2.8.m8.1" class="ltx_Math" alttext="t_{\it agg}" display="inline"><semantics id="S4.SS2.p2.8.m8.1a"><msub id="S4.SS2.p2.8.m8.1.1" xref="S4.SS2.p2.8.m8.1.1.cmml"><mi id="S4.SS2.p2.8.m8.1.1.2" xref="S4.SS2.p2.8.m8.1.1.2.cmml">t</mi><mi id="S4.SS2.p2.8.m8.1.1.3" xref="S4.SS2.p2.8.m8.1.1.3.cmml">𝑎𝑔𝑔</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.8.m8.1b"><apply id="S4.SS2.p2.8.m8.1.1.cmml" xref="S4.SS2.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.8.m8.1.1.1.cmml" xref="S4.SS2.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS2.p2.8.m8.1.1.2.cmml" xref="S4.SS2.p2.8.m8.1.1.2">𝑡</ci><ci id="S4.SS2.p2.8.m8.1.1.3.cmml" xref="S4.SS2.p2.8.m8.1.1.3">𝑎𝑔𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.8.m8.1c">t_{\it agg}</annotation></semantics></math> for MNIST and CIFAR-10 are 0.064s and 0.448s, respectively, assuming <math id="S4.SS2.p2.9.m9.1" class="ltx_Math" alttext="\Gamma" display="inline"><semantics id="S4.SS2.p2.9.m9.1a"><mi mathvariant="normal" id="S4.SS2.p2.9.m9.1.1" xref="S4.SS2.p2.9.m9.1.1.cmml">Γ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.9.m9.1b"><ci id="S4.SS2.p2.9.m9.1.1.cmml" xref="S4.SS2.p2.9.m9.1.1">Γ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.9.m9.1c">\Gamma</annotation></semantics></math> is loaded in memory.</p>
</div>
<div id="S4.SS2.p3" class="ltx_para">
<p id="S4.SS2.p3.3" class="ltx_p">Finally, computing <math id="S4.SS2.p3.1.m1.1" class="ltx_Math" alttext="t_{\it send}" display="inline"><semantics id="S4.SS2.p3.1.m1.1a"><msub id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml"><mi id="S4.SS2.p3.1.m1.1.1.2" xref="S4.SS2.p3.1.m1.1.1.2.cmml">t</mi><mi id="S4.SS2.p3.1.m1.1.1.3" xref="S4.SS2.p3.1.m1.1.1.3.cmml">𝑠𝑒𝑛𝑑</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><apply id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.1.m1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p3.1.m1.1.1.2.cmml" xref="S4.SS2.p3.1.m1.1.1.2">𝑡</ci><ci id="S4.SS2.p3.1.m1.1.1.3.cmml" xref="S4.SS2.p3.1.m1.1.1.3">𝑠𝑒𝑛𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">t_{\it send}</annotation></semantics></math> requires knowing the size of the model and the communication rate of the wireless channel; our MNIST model is 778KB (199,210 parameters), while CIFAR-10 is 4.8MB (1,250,858 parameters).
Assuming two devices are connected via WiFi-direct, whose datarate is 250Mbps, <math id="S4.SS2.p3.2.m2.1" class="ltx_Math" alttext="t_{\it send}" display="inline"><semantics id="S4.SS2.p3.2.m2.1a"><msub id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml"><mi id="S4.SS2.p3.2.m2.1.1.2" xref="S4.SS2.p3.2.m2.1.1.2.cmml">t</mi><mi id="S4.SS2.p3.2.m2.1.1.3" xref="S4.SS2.p3.2.m2.1.1.3.cmml">𝑠𝑒𝑛𝑑</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><apply id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m2.1.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p3.2.m2.1.1.2.cmml" xref="S4.SS2.p3.2.m2.1.1.2">𝑡</ci><ci id="S4.SS2.p3.2.m2.1.1.3.cmml" xref="S4.SS2.p3.2.m2.1.1.3">𝑠𝑒𝑛𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">t_{\it send}</annotation></semantics></math> for MNIST is 0.020s and for CIFAR-10 is 0.153s. With a lower datarate Bluetooth connection (i.e., 2Mbps), the <math id="S4.SS2.p3.3.m3.1" class="ltx_Math" alttext="t_{\it send}" display="inline"><semantics id="S4.SS2.p3.3.m3.1a"><msub id="S4.SS2.p3.3.m3.1.1" xref="S4.SS2.p3.3.m3.1.1.cmml"><mi id="S4.SS2.p3.3.m3.1.1.2" xref="S4.SS2.p3.3.m3.1.1.2.cmml">t</mi><mi id="S4.SS2.p3.3.m3.1.1.3" xref="S4.SS2.p3.3.m3.1.1.3.cmml">𝑠𝑒𝑛𝑑</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.3.m3.1b"><apply id="S4.SS2.p3.3.m3.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.p3.3.m3.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.2">𝑡</ci><ci id="S4.SS2.p3.3.m3.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.3">𝑠𝑒𝑛𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.3.m3.1c">t_{\it send}</annotation></semantics></math> values are 3.05s and 19.1s, respectively.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.14.3.1" class="ltx_text" style="font-size:90%;">TABLE I</span>: </span><span id="S4.T1.4.2" class="ltx_text" style="font-size:90%;">Required encounter durations (<math id="S4.T1.3.1.m1.1" class="ltx_Math" alttext="|\Gamma|=32" display="inline"><semantics id="S4.T1.3.1.m1.1b"><mrow id="S4.T1.3.1.m1.1.2" xref="S4.T1.3.1.m1.1.2.cmml"><mrow id="S4.T1.3.1.m1.1.2.2.2" xref="S4.T1.3.1.m1.1.2.2.1.cmml"><mo stretchy="false" id="S4.T1.3.1.m1.1.2.2.2.1" xref="S4.T1.3.1.m1.1.2.2.1.1.cmml">|</mo><mi mathvariant="normal" id="S4.T1.3.1.m1.1.1" xref="S4.T1.3.1.m1.1.1.cmml">Γ</mi><mo stretchy="false" id="S4.T1.3.1.m1.1.2.2.2.2" xref="S4.T1.3.1.m1.1.2.2.1.1.cmml">|</mo></mrow><mo id="S4.T1.3.1.m1.1.2.1" xref="S4.T1.3.1.m1.1.2.1.cmml">=</mo><mn id="S4.T1.3.1.m1.1.2.3" xref="S4.T1.3.1.m1.1.2.3.cmml">32</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.3.1.m1.1c"><apply id="S4.T1.3.1.m1.1.2.cmml" xref="S4.T1.3.1.m1.1.2"><eq id="S4.T1.3.1.m1.1.2.1.cmml" xref="S4.T1.3.1.m1.1.2.1"></eq><apply id="S4.T1.3.1.m1.1.2.2.1.cmml" xref="S4.T1.3.1.m1.1.2.2.2"><abs id="S4.T1.3.1.m1.1.2.2.1.1.cmml" xref="S4.T1.3.1.m1.1.2.2.2.1"></abs><ci id="S4.T1.3.1.m1.1.1.cmml" xref="S4.T1.3.1.m1.1.1">Γ</ci></apply><cn type="integer" id="S4.T1.3.1.m1.1.2.3.cmml" xref="S4.T1.3.1.m1.1.2.3">32</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.3.1.m1.1d">|\Gamma|=32</annotation></semantics></math>, <math id="S4.T1.4.2.m2.1" class="ltx_Math" alttext="\rho=6" display="inline"><semantics id="S4.T1.4.2.m2.1b"><mrow id="S4.T1.4.2.m2.1.1" xref="S4.T1.4.2.m2.1.1.cmml"><mi id="S4.T1.4.2.m2.1.1.2" xref="S4.T1.4.2.m2.1.1.2.cmml">ρ</mi><mo id="S4.T1.4.2.m2.1.1.1" xref="S4.T1.4.2.m2.1.1.1.cmml">=</mo><mn id="S4.T1.4.2.m2.1.1.3" xref="S4.T1.4.2.m2.1.1.3.cmml">6</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.T1.4.2.m2.1c"><apply id="S4.T1.4.2.m2.1.1.cmml" xref="S4.T1.4.2.m2.1.1"><eq id="S4.T1.4.2.m2.1.1.1.cmml" xref="S4.T1.4.2.m2.1.1.1"></eq><ci id="S4.T1.4.2.m2.1.1.2.cmml" xref="S4.T1.4.2.m2.1.1.2">𝜌</ci><cn type="integer" id="S4.T1.4.2.m2.1.1.3.cmml" xref="S4.T1.4.2.m2.1.1.3">6</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.4.2.m2.1d">\rho=6</annotation></semantics></math>).</span></figcaption>
<table id="S4.T1.12" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.8.4" class="ltx_tr">
<th id="S4.T1.8.4.5" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"></th>
<th id="S4.T1.5.1.1" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S4.T1.5.1.1.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.5.1.1.1.1" class="ltx_p" style="width:22.8pt;"><math id="S4.T1.5.1.1.1.1.m1.1" class="ltx_Math" alttext="t_{\it train}" display="inline"><semantics id="S4.T1.5.1.1.1.1.m1.1a"><msub id="S4.T1.5.1.1.1.1.m1.1.1" xref="S4.T1.5.1.1.1.1.m1.1.1.cmml"><mi id="S4.T1.5.1.1.1.1.m1.1.1.2" xref="S4.T1.5.1.1.1.1.m1.1.1.2.cmml">t</mi><mi id="S4.T1.5.1.1.1.1.m1.1.1.3" xref="S4.T1.5.1.1.1.1.m1.1.1.3.cmml">𝑡𝑟𝑎𝑖𝑛</mi></msub><annotation-xml encoding="MathML-Content" id="S4.T1.5.1.1.1.1.m1.1b"><apply id="S4.T1.5.1.1.1.1.m1.1.1.cmml" xref="S4.T1.5.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.5.1.1.1.1.m1.1.1.1.cmml" xref="S4.T1.5.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T1.5.1.1.1.1.m1.1.1.2.cmml" xref="S4.T1.5.1.1.1.1.m1.1.1.2">𝑡</ci><ci id="S4.T1.5.1.1.1.1.m1.1.1.3.cmml" xref="S4.T1.5.1.1.1.1.m1.1.1.3">𝑡𝑟𝑎𝑖𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.5.1.1.1.1.m1.1c">t_{\it train}</annotation></semantics></math></span>
</span>
</th>
<th id="S4.T1.6.2.2" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S4.T1.6.2.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.6.2.2.1.1" class="ltx_p" style="width:22.8pt;"><math id="S4.T1.6.2.2.1.1.m1.1" class="ltx_Math" alttext="t_{\it agg}" display="inline"><semantics id="S4.T1.6.2.2.1.1.m1.1a"><msub id="S4.T1.6.2.2.1.1.m1.1.1" xref="S4.T1.6.2.2.1.1.m1.1.1.cmml"><mi id="S4.T1.6.2.2.1.1.m1.1.1.2" xref="S4.T1.6.2.2.1.1.m1.1.1.2.cmml">t</mi><mi id="S4.T1.6.2.2.1.1.m1.1.1.3" xref="S4.T1.6.2.2.1.1.m1.1.1.3.cmml">𝑎𝑔𝑔</mi></msub><annotation-xml encoding="MathML-Content" id="S4.T1.6.2.2.1.1.m1.1b"><apply id="S4.T1.6.2.2.1.1.m1.1.1.cmml" xref="S4.T1.6.2.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.6.2.2.1.1.m1.1.1.1.cmml" xref="S4.T1.6.2.2.1.1.m1.1.1">subscript</csymbol><ci id="S4.T1.6.2.2.1.1.m1.1.1.2.cmml" xref="S4.T1.6.2.2.1.1.m1.1.1.2">𝑡</ci><ci id="S4.T1.6.2.2.1.1.m1.1.1.3.cmml" xref="S4.T1.6.2.2.1.1.m1.1.1.3">𝑎𝑔𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.6.2.2.1.1.m1.1c">t_{\it agg}</annotation></semantics></math></span>
</span>
</th>
<th id="S4.T1.7.3.3" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S4.T1.7.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.7.3.3.1.1" class="ltx_p" style="width:22.8pt;"><math id="S4.T1.7.3.3.1.1.m1.1" class="ltx_Math" alttext="t_{\it send}" display="inline"><semantics id="S4.T1.7.3.3.1.1.m1.1a"><msub id="S4.T1.7.3.3.1.1.m1.1.1" xref="S4.T1.7.3.3.1.1.m1.1.1.cmml"><mi id="S4.T1.7.3.3.1.1.m1.1.1.2" xref="S4.T1.7.3.3.1.1.m1.1.1.2.cmml">t</mi><mi id="S4.T1.7.3.3.1.1.m1.1.1.3" xref="S4.T1.7.3.3.1.1.m1.1.1.3.cmml">𝑠𝑒𝑛𝑑</mi></msub><annotation-xml encoding="MathML-Content" id="S4.T1.7.3.3.1.1.m1.1b"><apply id="S4.T1.7.3.3.1.1.m1.1.1.cmml" xref="S4.T1.7.3.3.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.7.3.3.1.1.m1.1.1.1.cmml" xref="S4.T1.7.3.3.1.1.m1.1.1">subscript</csymbol><ci id="S4.T1.7.3.3.1.1.m1.1.1.2.cmml" xref="S4.T1.7.3.3.1.1.m1.1.1.2">𝑡</ci><ci id="S4.T1.7.3.3.1.1.m1.1.1.3.cmml" xref="S4.T1.7.3.3.1.1.m1.1.1.3">𝑠𝑒𝑛𝑑</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.7.3.3.1.1.m1.1c">t_{\it send}</annotation></semantics></math></span>
</span>
</th>
<th id="S4.T1.8.4.4" class="ltx_td ltx_align_justify ltx_align_top ltx_th ltx_th_column ltx_border_r ltx_border_t">
<span id="S4.T1.8.4.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.8.4.4.1.1" class="ltx_p" style="width:22.8pt;"><math id="S4.T1.8.4.4.1.1.m1.1" class="ltx_Math" alttext="t_{\it enc}" display="inline"><semantics id="S4.T1.8.4.4.1.1.m1.1a"><msub id="S4.T1.8.4.4.1.1.m1.1.1" xref="S4.T1.8.4.4.1.1.m1.1.1.cmml"><mi id="S4.T1.8.4.4.1.1.m1.1.1.2" xref="S4.T1.8.4.4.1.1.m1.1.1.2.cmml">t</mi><mi id="S4.T1.8.4.4.1.1.m1.1.1.3" xref="S4.T1.8.4.4.1.1.m1.1.1.3.cmml">𝑒𝑛𝑐</mi></msub><annotation-xml encoding="MathML-Content" id="S4.T1.8.4.4.1.1.m1.1b"><apply id="S4.T1.8.4.4.1.1.m1.1.1.cmml" xref="S4.T1.8.4.4.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T1.8.4.4.1.1.m1.1.1.1.cmml" xref="S4.T1.8.4.4.1.1.m1.1.1">subscript</csymbol><ci id="S4.T1.8.4.4.1.1.m1.1.1.2.cmml" xref="S4.T1.8.4.4.1.1.m1.1.1.2">𝑡</ci><ci id="S4.T1.8.4.4.1.1.m1.1.1.3.cmml" xref="S4.T1.8.4.4.1.1.m1.1.1.3">𝑒𝑛𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.8.4.4.1.1.m1.1c">t_{\it enc}</annotation></semantics></math></span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.9.5" class="ltx_tr">
<th id="S4.T1.9.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_tt">MNIST<sub id="S4.T1.9.5.1.1" class="ltx_sub">WIFI</sub>
</th>
<td id="S4.T1.9.5.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt">
<span id="S4.T1.9.5.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.9.5.2.1.1" class="ltx_p" style="width:22.8pt;">1.543s</span>
</span>
</td>
<td id="S4.T1.9.5.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt">
<span id="S4.T1.9.5.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.9.5.3.1.1" class="ltx_p" style="width:22.8pt;">0.064s</span>
</span>
</td>
<td id="S4.T1.9.5.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt">
<span id="S4.T1.9.5.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.9.5.4.1.1" class="ltx_p" style="width:22.8pt;">0.020s</span>
</span>
</td>
<td id="S4.T1.9.5.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_tt">
<span id="S4.T1.9.5.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.9.5.5.1.1" class="ltx_p" style="width:22.8pt;">19.14s</span>
</span>
</td>
</tr>
<tr id="S4.T1.10.6" class="ltx_tr">
<th id="S4.T1.10.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">MNIST<sub id="S4.T1.10.6.1.1" class="ltx_sub">Bluetooth</sub>
</th>
<td id="S4.T1.10.6.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S4.T1.10.6.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.10.6.2.1.1" class="ltx_p" style="width:22.8pt;">1.543s</span>
</span>
</td>
<td id="S4.T1.10.6.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S4.T1.10.6.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.10.6.3.1.1" class="ltx_p" style="width:22.8pt;">0.064s</span>
</span>
</td>
<td id="S4.T1.10.6.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S4.T1.10.6.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.10.6.4.1.1" class="ltx_p" style="width:22.8pt;">3.05s</span>
</span>
</td>
<td id="S4.T1.10.6.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S4.T1.10.6.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.10.6.5.1.1" class="ltx_p" style="width:22.8pt;">55.50s</span>
</span>
</td>
</tr>
<tr id="S4.T1.11.7" class="ltx_tr">
<th id="S4.T1.11.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t">CIFAR-10<sub id="S4.T1.11.7.1.1" class="ltx_sub">WIFI</sub>
</th>
<td id="S4.T1.11.7.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S4.T1.11.7.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.11.7.2.1.1" class="ltx_p" style="width:22.8pt;">5.740s</span>
</span>
</td>
<td id="S4.T1.11.7.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S4.T1.11.7.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.11.7.3.1.1" class="ltx_p" style="width:22.8pt;">0.448s</span>
</span>
</td>
<td id="S4.T1.11.7.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S4.T1.11.7.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.11.7.4.1.1" class="ltx_p" style="width:22.8pt;">0.153s</span>
</span>
</td>
<td id="S4.T1.11.7.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_r ltx_border_t">
<span id="S4.T1.11.7.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.11.7.5.1.1" class="ltx_p" style="width:22.8pt;">73.40s</span>
</span>
</td>
</tr>
<tr id="S4.T1.12.8" class="ltx_tr">
<th id="S4.T1.12.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t">CIFAR-10<sub id="S4.T1.12.8.1.1" class="ltx_sub">Bluetooth</sub>
</th>
<td id="S4.T1.12.8.2" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_r ltx_border_t">
<span id="S4.T1.12.8.2.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.12.8.2.1.1" class="ltx_p" style="width:22.8pt;">5.740s</span>
</span>
</td>
<td id="S4.T1.12.8.3" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_r ltx_border_t">
<span id="S4.T1.12.8.3.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.12.8.3.1.1" class="ltx_p" style="width:22.8pt;">0.448s</span>
</span>
</td>
<td id="S4.T1.12.8.4" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_r ltx_border_t">
<span id="S4.T1.12.8.4.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.12.8.4.1.1" class="ltx_p" style="width:22.8pt;">19.1s</span>
</span>
</td>
<td id="S4.T1.12.8.5" class="ltx_td ltx_align_justify ltx_align_top ltx_border_b ltx_border_r ltx_border_t">
<span id="S4.T1.12.8.5.1" class="ltx_inline-block ltx_align_top">
<span id="S4.T1.12.8.5.1.1" class="ltx_p" style="width:22.8pt;">300.77s</span>
</span>
</td>
</tr>
</tbody>
</table>
</figure>
<div id="S4.SS2.p4" class="ltx_para">
<p id="S4.SS2.p4.1" class="ltx_p">Table <a href="#S4.T1" title="TABLE I ‣ IV-B The Feasibility of Encounter-Driven Learning ‣ IV Evaluation ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a> shows <math id="S4.SS2.p4.1.m1.1" class="ltx_Math" alttext="t_{\it enc}" display="inline"><semantics id="S4.SS2.p4.1.m1.1a"><msub id="S4.SS2.p4.1.m1.1.1" xref="S4.SS2.p4.1.m1.1.1.cmml"><mi id="S4.SS2.p4.1.m1.1.1.2" xref="S4.SS2.p4.1.m1.1.1.2.cmml">t</mi><mi id="S4.SS2.p4.1.m1.1.1.3" xref="S4.SS2.p4.1.m1.1.1.3.cmml">𝑒𝑛𝑐</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.1b"><apply id="S4.SS2.p4.1.m1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.1.m1.1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p4.1.m1.1.1.2.cmml" xref="S4.SS2.p4.1.m1.1.1.2">𝑡</ci><ci id="S4.SS2.p4.1.m1.1.1.3.cmml" xref="S4.SS2.p4.1.m1.1.1.3">𝑒𝑛𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.1c">t_{\it enc}</annotation></semantics></math> for both models.
Many encounters in pervasive computing environments will satisfy these required durations, especially with a WiFi-direct connection (e.g., standing in line at the grocery store, chatting with a friend on the street, etc.).
The longer durations needed when Bluetooth is used limit the usable encounters, but there are still many pervasive computing encounters that fall within this range (e.g., commuting on public transportation, eating in a restaurant, or sitting in a meeting). For our simulations we use a datarate of 1Mbps (a not-quite-ideal Bluetooth connection).</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.5.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.6.2" class="ltx_text ltx_font_italic">Evaluation Platform</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">We implemented our framework and algorithms in Python using TensorFlow <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx26" title="" class="ltx_ref">26</a>]</cite> and Keras <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx5" title="" class="ltx_ref">5</a>]</cite>.<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span><a target="_blank" href="https://github.com/UT-MPC/swarm" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/UT-MPC/swarm</a></span></span></span> The models can run on resource constrained mobile devices. For the purposes of this paper, we also created a simulation environment that simulates each device’s instance of the framework separately. The simulation environment provides an implementation of the “device-to-device” communication by passing messages between the threads. It also simulates the contact patterns that drive the encounters between the simulated devices.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p">Determining whether to engage in an exchange has two components: (1) whether it is likely beneficial, based on the similarity between the data label and goal distributions and (2) whether it is feasible based on the predicted encounter duration. For the former, we use the similarity as computed in Equation <a href="#S3.E2" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. For the latter, we assume that predictions of contact duration from the underlying system are perfect; relaxing this assumption is left for future work. Given the predicted duration, we use Equation <a href="#S4.E8" title="In IV-B The Feasibility of Encounter-Driven Learning ‣ IV Evaluation ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> for the amount of time required to complete an encounter.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS4.5.1.1" class="ltx_text">IV-D</span> </span><span id="S4.SS4.6.2" class="ltx_text ltx_font_italic">Controlled Experiments</span>
</h3>

<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">In our first experiments, we tightly controlled encounters and data distributions so that we could carefully benchmark our framework. We performed extensive evaluations on both datasets; due to space constraints, we show just one example. We compare the performance of five approaches:</p>
<ul id="S4.I1" class="ltx_itemize">
<li id="S4.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i1.p1" class="ltx_para">
<p id="S4.I1.i1.p1.1" class="ltx_p"><span id="S4.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">local</span>: the model trains only on the learner’s local data; for comparison purposes, the model continues to train over time even though no new data is generated.</p>
</div>
</li>
<li id="S4.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i2.p1" class="ltx_para">
<p id="S4.I1.i2.p1.1" class="ltx_p"><span id="S4.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">pairwise-fed-avg</span>: the model trains using a pairwise version of federated averaging <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx21" title="" class="ltx_ref">21</a>]</cite>; a pair of devices perform as many rounds of pairwise federated averaging as each encounter duration allows, starting with a base model that is the average of the two devices’ models, rather than from the learner’s model as in the remaining approaches.</p>
</div>
</li>
<li id="S4.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i3.p1" class="ltx_para">
<p id="S4.I1.i3.p1.1" class="ltx_p"><span id="S4.I1.i3.p1.1.1" class="ltx_text ltx_font_italic">greedy-no-sim</span>: the model trains on every encounter without considering the similarity between the learner’s goal distribution and the neighbor’s data label distribution using the greedy aggregation from Equation <a href="#S3.E3" title="In III-C Aggregating Encounters ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> with <math id="S4.I1.i3.p1.1.m1.1" class="ltx_Math" alttext="\omega=0.5" display="inline"><semantics id="S4.I1.i3.p1.1.m1.1a"><mrow id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml"><mi id="S4.I1.i3.p1.1.m1.1.1.2" xref="S4.I1.i3.p1.1.m1.1.1.2.cmml">ω</mi><mo id="S4.I1.i3.p1.1.m1.1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.I1.i3.p1.1.m1.1.1.3" xref="S4.I1.i3.p1.1.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><apply id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1"><eq id="S4.I1.i3.p1.1.m1.1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1.1"></eq><ci id="S4.I1.i3.p1.1.m1.1.1.2.cmml" xref="S4.I1.i3.p1.1.m1.1.1.2">𝜔</ci><cn type="float" id="S4.I1.i3.p1.1.m1.1.1.3.cmml" xref="S4.I1.i3.p1.1.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">\omega=0.5</annotation></semantics></math> (i.e., equal weight to local data and neighbor’s data).</p>
</div>
</li>
<li id="S4.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i4.p1" class="ltx_para">
<p id="S4.I1.i4.p1.2" class="ltx_p"><span id="S4.I1.i4.p1.2.1" class="ltx_text ltx_font_italic">greedy-sim</span>: we limit the training encounters to those of sufficient similarity (<math id="S4.I1.i4.p1.1.m1.1" class="ltx_math_unparsed" alttext="\tau=0.2)" display="inline"><semantics id="S4.I1.i4.p1.1.m1.1a"><mrow id="S4.I1.i4.p1.1.m1.1b"><mi id="S4.I1.i4.p1.1.m1.1.1">τ</mi><mo id="S4.I1.i4.p1.1.m1.1.2">=</mo><mn id="S4.I1.i4.p1.1.m1.1.3">0.2</mn><mo stretchy="false" id="S4.I1.i4.p1.1.m1.1.4">)</mo></mrow><annotation encoding="application/x-tex" id="S4.I1.i4.p1.1.m1.1c">\tau=0.2)</annotation></semantics></math>, still using <math id="S4.I1.i4.p1.2.m2.1" class="ltx_Math" alttext="\omega=0.5" display="inline"><semantics id="S4.I1.i4.p1.2.m2.1a"><mrow id="S4.I1.i4.p1.2.m2.1.1" xref="S4.I1.i4.p1.2.m2.1.1.cmml"><mi id="S4.I1.i4.p1.2.m2.1.1.2" xref="S4.I1.i4.p1.2.m2.1.1.2.cmml">ω</mi><mo id="S4.I1.i4.p1.2.m2.1.1.1" xref="S4.I1.i4.p1.2.m2.1.1.1.cmml">=</mo><mn id="S4.I1.i4.p1.2.m2.1.1.3" xref="S4.I1.i4.p1.2.m2.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i4.p1.2.m2.1b"><apply id="S4.I1.i4.p1.2.m2.1.1.cmml" xref="S4.I1.i4.p1.2.m2.1.1"><eq id="S4.I1.i4.p1.2.m2.1.1.1.cmml" xref="S4.I1.i4.p1.2.m2.1.1.1"></eq><ci id="S4.I1.i4.p1.2.m2.1.1.2.cmml" xref="S4.I1.i4.p1.2.m2.1.1.2">𝜔</ci><cn type="float" id="S4.I1.i4.p1.2.m2.1.1.3.cmml" xref="S4.I1.i4.p1.2.m2.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i4.p1.2.m2.1c">\omega=0.5</annotation></semantics></math>.</p>
</div>
</li>
<li id="S4.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I1.i5.p1" class="ltx_para">
<p id="S4.I1.i5.p1.1" class="ltx_p"><span id="S4.I1.i5.p1.1.1" class="ltx_text ltx_font_italic">opportunistic-momentum</span>: we train the model using the strategy in Equation <a href="#S3.E5" title="In III-C Aggregating Encounters ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> with <math id="S4.I1.i5.p1.1.m1.1" class="ltx_Math" alttext="\tau=0.2" display="inline"><semantics id="S4.I1.i5.p1.1.m1.1a"><mrow id="S4.I1.i5.p1.1.m1.1.1" xref="S4.I1.i5.p1.1.m1.1.1.cmml"><mi id="S4.I1.i5.p1.1.m1.1.1.2" xref="S4.I1.i5.p1.1.m1.1.1.2.cmml">τ</mi><mo id="S4.I1.i5.p1.1.m1.1.1.1" xref="S4.I1.i5.p1.1.m1.1.1.1.cmml">=</mo><mn id="S4.I1.i5.p1.1.m1.1.1.3" xref="S4.I1.i5.p1.1.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i5.p1.1.m1.1b"><apply id="S4.I1.i5.p1.1.m1.1.1.cmml" xref="S4.I1.i5.p1.1.m1.1.1"><eq id="S4.I1.i5.p1.1.m1.1.1.1.cmml" xref="S4.I1.i5.p1.1.m1.1.1.1"></eq><ci id="S4.I1.i5.p1.1.m1.1.1.2.cmml" xref="S4.I1.i5.p1.1.m1.1.1.2">𝜏</ci><cn type="float" id="S4.I1.i5.p1.1.m1.1.1.3.cmml" xref="S4.I1.i5.p1.1.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i5.p1.1.m1.1c">\tau=0.2</annotation></semantics></math>, including weights determined according to Equation <a href="#S3.E4" title="In III-C Aggregating Encounters ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> and dynamic decay of the learning rate (Equation <a href="#S3.E6" title="In III-D Learning Rate and Decay ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>).</p>
</div>
</li>
</ul>
<p id="S4.SS4.p1.2" class="ltx_p">The first two models are baselines for comparison; the remaining three models are all novel contributions of our work. Our goal is to understand the conditions under which each is suitable for supporting opportunistic federated learning.</p>
</div>
<figure id="S4.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F2.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2103.13266/assets/figures/mnist-empirical-code-corrected.jpg" id="S4.F2.sf1.g1" class="ltx_graphics ltx_img_landscape" width="598" height="273" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.sf1.3.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S4.F2.sf1.4.2" class="ltx_text" style="font-size:90%;">MNIST</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F2.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2103.13266/assets/figures/CIFARcontrolled-code-corrected.jpg" id="S4.F2.sf2.g1" class="ltx_graphics ltx_img_landscape" width="598" height="273" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.sf2.3.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S4.F2.sf2.4.2" class="ltx_text" style="font-size:90%;">CIFAR-10</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F2.3.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S4.F2.4.2" class="ltx_text" style="font-size:90%;">Comparing algorithm options for (a) MNIST and (b) CIFAR-10. The x-axis is the number of encounters the device has experienced. The y-axis is the model accuracy.
Each shaded region is a shift in the data distributions on the encountered devices.</span></figcaption>
</figure>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.2" class="ltx_p">Fig. <a href="#S4.F2" title="Figure 2 ‣ IV-D Controlled Experiments ‣ IV Evaluation ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows results for both datasets. MNIST has a label for each digit in the range 0-9; in CIFAR-10 there is a label for each class of object recognized in a photo. For simplicity, we refer to both label sets with numbers 0-9. In Fig. <a href="#S4.F2" title="Figure 2 ‣ IV-D Controlled Experiments ‣ IV Evaluation ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, the goal distribution contains exactly five of the ten labels, specifically labels <math id="S4.SS4.p2.1.m1.5" class="ltx_Math" alttext="\{0,1,2,3,4\}" display="inline"><semantics id="S4.SS4.p2.1.m1.5a"><mrow id="S4.SS4.p2.1.m1.5.6.2" xref="S4.SS4.p2.1.m1.5.6.1.cmml"><mo stretchy="false" id="S4.SS4.p2.1.m1.5.6.2.1" xref="S4.SS4.p2.1.m1.5.6.1.cmml">{</mo><mn id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml">0</mn><mo id="S4.SS4.p2.1.m1.5.6.2.2" xref="S4.SS4.p2.1.m1.5.6.1.cmml">,</mo><mn id="S4.SS4.p2.1.m1.2.2" xref="S4.SS4.p2.1.m1.2.2.cmml">1</mn><mo id="S4.SS4.p2.1.m1.5.6.2.3" xref="S4.SS4.p2.1.m1.5.6.1.cmml">,</mo><mn id="S4.SS4.p2.1.m1.3.3" xref="S4.SS4.p2.1.m1.3.3.cmml">2</mn><mo id="S4.SS4.p2.1.m1.5.6.2.4" xref="S4.SS4.p2.1.m1.5.6.1.cmml">,</mo><mn id="S4.SS4.p2.1.m1.4.4" xref="S4.SS4.p2.1.m1.4.4.cmml">3</mn><mo id="S4.SS4.p2.1.m1.5.6.2.5" xref="S4.SS4.p2.1.m1.5.6.1.cmml">,</mo><mn id="S4.SS4.p2.1.m1.5.5" xref="S4.SS4.p2.1.m1.5.5.cmml">4</mn><mo stretchy="false" id="S4.SS4.p2.1.m1.5.6.2.6" xref="S4.SS4.p2.1.m1.5.6.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.5b"><set id="S4.SS4.p2.1.m1.5.6.1.cmml" xref="S4.SS4.p2.1.m1.5.6.2"><cn type="integer" id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1">0</cn><cn type="integer" id="S4.SS4.p2.1.m1.2.2.cmml" xref="S4.SS4.p2.1.m1.2.2">1</cn><cn type="integer" id="S4.SS4.p2.1.m1.3.3.cmml" xref="S4.SS4.p2.1.m1.3.3">2</cn><cn type="integer" id="S4.SS4.p2.1.m1.4.4.cmml" xref="S4.SS4.p2.1.m1.4.4">3</cn><cn type="integer" id="S4.SS4.p2.1.m1.5.5.cmml" xref="S4.SS4.p2.1.m1.5.5">4</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.5c">\{0,1,2,3,4\}</annotation></semantics></math>. Every device has a local dataset of with 80 items in MNIST and 150 in CIFAR-10. The learner’s local dataset contains equal numbers of labels <math id="S4.SS4.p2.2.m2.2" class="ltx_Math" alttext="\{0,1\}" display="inline"><semantics id="S4.SS4.p2.2.m2.2a"><mrow id="S4.SS4.p2.2.m2.2.3.2" xref="S4.SS4.p2.2.m2.2.3.1.cmml"><mo stretchy="false" id="S4.SS4.p2.2.m2.2.3.2.1" xref="S4.SS4.p2.2.m2.2.3.1.cmml">{</mo><mn id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml">0</mn><mo id="S4.SS4.p2.2.m2.2.3.2.2" xref="S4.SS4.p2.2.m2.2.3.1.cmml">,</mo><mn id="S4.SS4.p2.2.m2.2.2" xref="S4.SS4.p2.2.m2.2.2.cmml">1</mn><mo stretchy="false" id="S4.SS4.p2.2.m2.2.3.2.3" xref="S4.SS4.p2.2.m2.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.2b"><set id="S4.SS4.p2.2.m2.2.3.1.cmml" xref="S4.SS4.p2.2.m2.2.3.2"><cn type="integer" id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">0</cn><cn type="integer" id="S4.SS4.p2.2.m2.2.2.cmml" xref="S4.SS4.p2.2.m2.2.2">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.2c">\{0,1\}</annotation></semantics></math>. The encountered data label distributions change over time:</p>
<ul id="S4.I2" class="ltx_itemize">
<li id="S4.I2.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i1.p1" class="ltx_para">
<p id="S4.I2.i1.p1.1" class="ltx_p"><span id="S4.I2.i1.p1.1.1" class="ltx_text ltx_font_italic">first 100 encounters</span>: 50% of the first 100 encounters are with neighbors that see exactly and only labels <math id="S4.I2.i1.p1.1.m1.2" class="ltx_Math" alttext="\{2,3\}" display="inline"><semantics id="S4.I2.i1.p1.1.m1.2a"><mrow id="S4.I2.i1.p1.1.m1.2.3.2" xref="S4.I2.i1.p1.1.m1.2.3.1.cmml"><mo stretchy="false" id="S4.I2.i1.p1.1.m1.2.3.2.1" xref="S4.I2.i1.p1.1.m1.2.3.1.cmml">{</mo><mn id="S4.I2.i1.p1.1.m1.1.1" xref="S4.I2.i1.p1.1.m1.1.1.cmml">2</mn><mo id="S4.I2.i1.p1.1.m1.2.3.2.2" xref="S4.I2.i1.p1.1.m1.2.3.1.cmml">,</mo><mn id="S4.I2.i1.p1.1.m1.2.2" xref="S4.I2.i1.p1.1.m1.2.2.cmml">3</mn><mo stretchy="false" id="S4.I2.i1.p1.1.m1.2.3.2.3" xref="S4.I2.i1.p1.1.m1.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.1.m1.2b"><set id="S4.I2.i1.p1.1.m1.2.3.1.cmml" xref="S4.I2.i1.p1.1.m1.2.3.2"><cn type="integer" id="S4.I2.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i1.p1.1.m1.1.1">2</cn><cn type="integer" id="S4.I2.i1.p1.1.m1.2.2.cmml" xref="S4.I2.i1.p1.1.m1.2.2">3</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.1.m1.2c">\{2,3\}</annotation></semantics></math>, and the other 50% are with neighbors that see three labels, selected randomly from all ten labels.</p>
</div>
</li>
<li id="S4.I2.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i2.p1" class="ltx_para">
<p id="S4.I2.i2.p1.1" class="ltx_p"><span id="S4.I2.i2.p1.1.1" class="ltx_text ltx_font_italic">encounters 100-200</span>: in the middle, 50% of encounters are with neighbors that see exactly and only labels <math id="S4.I2.i2.p1.1.m1.3" class="ltx_Math" alttext="\{3,4,5\}" display="inline"><semantics id="S4.I2.i2.p1.1.m1.3a"><mrow id="S4.I2.i2.p1.1.m1.3.4.2" xref="S4.I2.i2.p1.1.m1.3.4.1.cmml"><mo stretchy="false" id="S4.I2.i2.p1.1.m1.3.4.2.1" xref="S4.I2.i2.p1.1.m1.3.4.1.cmml">{</mo><mn id="S4.I2.i2.p1.1.m1.1.1" xref="S4.I2.i2.p1.1.m1.1.1.cmml">3</mn><mo id="S4.I2.i2.p1.1.m1.3.4.2.2" xref="S4.I2.i2.p1.1.m1.3.4.1.cmml">,</mo><mn id="S4.I2.i2.p1.1.m1.2.2" xref="S4.I2.i2.p1.1.m1.2.2.cmml">4</mn><mo id="S4.I2.i2.p1.1.m1.3.4.2.3" xref="S4.I2.i2.p1.1.m1.3.4.1.cmml">,</mo><mn id="S4.I2.i2.p1.1.m1.3.3" xref="S4.I2.i2.p1.1.m1.3.3.cmml">5</mn><mo stretchy="false" id="S4.I2.i2.p1.1.m1.3.4.2.4" xref="S4.I2.i2.p1.1.m1.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.1.m1.3b"><set id="S4.I2.i2.p1.1.m1.3.4.1.cmml" xref="S4.I2.i2.p1.1.m1.3.4.2"><cn type="integer" id="S4.I2.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i2.p1.1.m1.1.1">3</cn><cn type="integer" id="S4.I2.i2.p1.1.m1.2.2.cmml" xref="S4.I2.i2.p1.1.m1.2.2">4</cn><cn type="integer" id="S4.I2.i2.p1.1.m1.3.3.cmml" xref="S4.I2.i2.p1.1.m1.3.3">5</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.1.m1.3c">\{3,4,5\}</annotation></semantics></math>, and the other 50% are with neighbors that see only three labels, selected randomly from all ten labels.</p>
</div>
</li>
<li id="S4.I2.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S4.I2.i3.p1" class="ltx_para">
<p id="S4.I2.i3.p1.1" class="ltx_p"><span id="S4.I2.i3.p1.1.1" class="ltx_text ltx_font_italic">encounters 200-300</span>: in the last period, 50% of encounters are with neighbors that see exactly labels <math id="S4.I2.i3.p1.1.m1.3" class="ltx_Math" alttext="\{4,5,6\}" display="inline"><semantics id="S4.I2.i3.p1.1.m1.3a"><mrow id="S4.I2.i3.p1.1.m1.3.4.2" xref="S4.I2.i3.p1.1.m1.3.4.1.cmml"><mo stretchy="false" id="S4.I2.i3.p1.1.m1.3.4.2.1" xref="S4.I2.i3.p1.1.m1.3.4.1.cmml">{</mo><mn id="S4.I2.i3.p1.1.m1.1.1" xref="S4.I2.i3.p1.1.m1.1.1.cmml">4</mn><mo id="S4.I2.i3.p1.1.m1.3.4.2.2" xref="S4.I2.i3.p1.1.m1.3.4.1.cmml">,</mo><mn id="S4.I2.i3.p1.1.m1.2.2" xref="S4.I2.i3.p1.1.m1.2.2.cmml">5</mn><mo id="S4.I2.i3.p1.1.m1.3.4.2.3" xref="S4.I2.i3.p1.1.m1.3.4.1.cmml">,</mo><mn id="S4.I2.i3.p1.1.m1.3.3" xref="S4.I2.i3.p1.1.m1.3.3.cmml">6</mn><mo stretchy="false" id="S4.I2.i3.p1.1.m1.3.4.2.4" xref="S4.I2.i3.p1.1.m1.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.1.m1.3b"><set id="S4.I2.i3.p1.1.m1.3.4.1.cmml" xref="S4.I2.i3.p1.1.m1.3.4.2"><cn type="integer" id="S4.I2.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i3.p1.1.m1.1.1">4</cn><cn type="integer" id="S4.I2.i3.p1.1.m1.2.2.cmml" xref="S4.I2.i3.p1.1.m1.2.2">5</cn><cn type="integer" id="S4.I2.i3.p1.1.m1.3.3.cmml" xref="S4.I2.i3.p1.1.m1.3.3">6</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.1.m1.3c">\{4,5,6\}</annotation></semantics></math>, and the other 50% are with neighbors that see only three labels, selected randomly from all ten labels.</p>
</div>
</li>
</ul>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">A completely egocentric approach that trains only on a device’s local data (<span id="S4.SS4.p3.1.1" class="ltx_text ltx_font_italic">local</span> in Fig. <a href="#S4.F2.sf1" title="In Figure 2 ‣ IV-D Controlled Experiments ‣ IV Evaluation ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a>) results in a model that overfits very quickly. Pairwise federated averaging (<span id="S4.SS4.p3.1.2" class="ltx_text ltx_font_italic">pairwise-fed-avg</span>), while intuitively promising, also suffers under these workloads (and in real environments). The reason is that federated averaging combines the models of the two devices to generate a new base model used for training. Because these devices have been working independently, their models have likely diverged. In contrast, the remaining approaches all use the learner’s model as the base, even on the neighbor’s device.</p>
</div>
<div id="S4.SS4.p4" class="ltx_para">
<p id="S4.SS4.p4.2" class="ltx_p">The next approaches are <span id="S4.SS4.p4.2.1" class="ltx_text ltx_font_italic">greedy-no-sim</span> and <span id="S4.SS4.p4.2.2" class="ltx_text ltx_font_italic">greedy-sim</span>. The former greedily incorporates whatever it can achieve with any encountered neighbor, without considering its goal distribution. In this particular example, <span id="S4.SS4.p4.2.3" class="ltx_text ltx_font_italic">greedy-no-sim</span> performs the worst of our approaches because this example has a very unbalanced and unstable distribution of encountered data. When the encountered data is more well mixed, <span id="S4.SS4.p4.2.4" class="ltx_text ltx_font_italic">greedy-no-sim</span> performs better and is, in some cases, the best performing approach. The downside of <span id="S4.SS4.p4.2.5" class="ltx_text ltx_font_italic">greedy-no-sim</span> is most apparent in the third region, when the likelihood that the device encounters data label distributions that overlap with its goal distribution decreases. In contrast, <span id="S4.SS4.p4.2.6" class="ltx_text ltx_font_italic">greedy-sim</span> is more resilient to changes in encountered data label distributions because it only requests learning from devices whose distributions are sufficiently similar to the goal distribution. This example uses a value of <math id="S4.SS4.p4.1.m1.1" class="ltx_Math" alttext="\tau=0.2" display="inline"><semantics id="S4.SS4.p4.1.m1.1a"><mrow id="S4.SS4.p4.1.m1.1.1" xref="S4.SS4.p4.1.m1.1.1.cmml"><mi id="S4.SS4.p4.1.m1.1.1.2" xref="S4.SS4.p4.1.m1.1.1.2.cmml">τ</mi><mo id="S4.SS4.p4.1.m1.1.1.1" xref="S4.SS4.p4.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS4.p4.1.m1.1.1.3" xref="S4.SS4.p4.1.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.1.m1.1b"><apply id="S4.SS4.p4.1.m1.1.1.cmml" xref="S4.SS4.p4.1.m1.1.1"><eq id="S4.SS4.p4.1.m1.1.1.1.cmml" xref="S4.SS4.p4.1.m1.1.1.1"></eq><ci id="S4.SS4.p4.1.m1.1.1.2.cmml" xref="S4.SS4.p4.1.m1.1.1.2">𝜏</ci><cn type="float" id="S4.SS4.p4.1.m1.1.1.3.cmml" xref="S4.SS4.p4.1.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.1.m1.1c">\tau=0.2</annotation></semantics></math> in Algorithm <a href="#alg1" title="In III-B Opportunistic Federated Learning ‣ III Opportunistic Federated Learning ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>; even this minimal overlap has a substantial benefit to performance. Larger values for <math id="S4.SS4.p4.2.m2.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S4.SS4.p4.2.m2.1a"><mi id="S4.SS4.p4.2.m2.1.1" xref="S4.SS4.p4.2.m2.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S4.SS4.p4.2.m2.1b"><ci id="S4.SS4.p4.2.m2.1.1.cmml" xref="S4.SS4.p4.2.m2.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p4.2.m2.1c">\tau</annotation></semantics></math> result in even better performance for <span id="S4.SS4.p4.2.7" class="ltx_text ltx_font_italic">greedy-sim</span>, albeit in exchange for somewhat slower convergence.</p>
</div>
<div id="S4.SS4.p5" class="ltx_para">
<p id="S4.SS4.p5.1" class="ltx_p">In this example, <span id="S4.SS4.p5.1.1" class="ltx_text ltx_font_italic">opportunistic-momentum</span> ended with the highest accuracy. <span id="S4.SS4.p5.1.2" class="ltx_text ltx_font_italic">Opportunistic-momentum</span> is the most resilient to dramatic changes in data distributions, and it is best at avoiding overfitting to a distribution it sees for a period of time because it continuously integrates meaningful gradients that it previously collected, even if it does not continue to encounter them.</p>
</div>
<div id="S4.SS4.p6" class="ltx_para">
<p id="S4.SS4.p6.1" class="ltx_p">The greedy approaches dip in performance as we move from one region to another because the models have overfit to the data label distributions. In contrast, <span id="S4.SS4.p6.1.1" class="ltx_text ltx_font_italic">opportunistic-momentum</span> is quite resilient to sudden changes in data label distribution. Arguably, this is a contrived situation, designed to benefit <span id="S4.SS4.p6.1.2" class="ltx_text ltx_font_italic">opportunistic-momentum</span> relative to other strategies. If the data distributions that the user encounters are highly overlapping with the goal distribution, the greedy strategies outperform <span id="S4.SS4.p6.1.3" class="ltx_text ltx_font_italic">opportunistic-momentum</span>. For this reason, we now step into more real-world experiments, where the data distributions are much less controlled and contrived.</p>
</div>
</section>
<section id="S4.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS5.5.1.1" class="ltx_text">IV-E</span> </span><span id="S4.SS5.6.2" class="ltx_text ltx_font_italic">Real World Scenarios</span>
</h3>

<div id="S4.SS5.p1" class="ltx_para">
<p id="S4.SS5.p1.1" class="ltx_p">We next allow devices’ movement patterns to evolve independently according to the Levy walk mobility model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx2" title="" class="ltx_ref">2</a>, <a href="#bib.bibx30" title="" class="ltx_ref">30</a>]</cite>, which, among stochastic mobility models, is known to capture human mobility well <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bibx2" title="" class="ltx_ref">2</a>, <a href="#bib.bibx12" title="" class="ltx_ref">12</a>]</cite>. Levy walk assumes that the majority of an individual’s movements are in a small local area, with a few very large movements every once in a while.</p>
</div>
<div id="S4.SS5.p2" class="ltx_para">
<p id="S4.SS5.p2.1" class="ltx_p">We opted for randomized mobility that allows more careful understanding of the impacts of mobility, which in turn enables a more careful benchmarking of the performance of our algorithm. Future work will include evaluation on collected mobility traces and on real devices.</p>
</div>
<div id="S4.SS5.p3" class="ltx_para">
<p id="S4.SS5.p3.1" class="ltx_p">We created a square space, divided into 9 equally sized regions. Each device is assigned an anchor region (e.g., the user’s home), with five devices assigned to each region.</p>
</div>
<div id="S4.SS5.p4" class="ltx_para">
<p id="S4.SS5.p4.1" class="ltx_p">We simulate <span id="S4.SS5.p4.1.1" class="ltx_text ltx_font_italic">episodes</span>; in each episode, the user starts out at home, makes some trips away from home, and returns home at the end of the episode. Each runs consists of 10 episodes. Devices encounter one another by coming within a pre-defined communication range; some encounters are ephemeral, as the devices move past each other on their trajectories, while others are longer-lasting, as devices stay nearby for some period of time. We assume that devices have perfect knowledge of predicted encounter durations.</p>
</div>
<div id="S4.SS5.p5" class="ltx_para">
<p id="S4.SS5.p5.1" class="ltx_p">Each region is associated with two labels. Any device’s whose anchor location is in that region has a data label distribution that contains exactly those two labels. Each device sets its goal distribution to be those two labels and three additional randomly chosen labels. As such, devices with anchor locations in the same region likely have different goal distributions. This distribution of data and goals mimics a real world environment where devices collect different data depending on their experiences but also have diverse goals, e.g., due to the fact that their different travel patterns lead them to encounter different data that needs to be classified.</p>
</div>
<figure id="S4.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F3.1" class="ltx_figure ltx_figure_panel"><img src="/html/2103.13266/assets/figures/mnist-final-new-square-corrected.jpg" id="S4.F3.1.g1" class="ltx_graphics ltx_img_square" width="598" height="499" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.F3.2" class="ltx_figure ltx_figure_panel"><img src="/html/2103.13266/assets/figures/cifar-final-square-new-corrected_2500.jpg" id="S4.F3.2.g1" class="ltx_graphics ltx_img_square" width="598" height="499" alt="Refer to caption">
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.F3.3" class="ltx_figure ltx_figure_panel"><img src="/html/2103.13266/assets/figures/legends.jpg" id="S4.F3.3.g1" class="ltx_graphics ltx_img_landscape" width="598" height="26" alt="Refer to caption">
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span id="S4.F3.6.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S4.F3.7.2" class="ltx_text" style="font-size:90%;">Comparing algorithm performance for a real-world scenario for (a) MNIST and (b) CIFAR-10. The x-axis is the elapsed time of the simulation. The y-axis is the model accuracy.</span></figcaption>
</figure>
<div id="S4.SS5.p6" class="ltx_para">
<p id="S4.SS5.p6.1" class="ltx_p">Fig. <a href="#S4.F3" title="Figure 3 ‣ IV-E Real World Scenarios ‣ IV Evaluation ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the accuracy averaged over all 45 devices. For both models, the framework performs as expected, given the results in the controlled experiments. For CIFAR-10, however, <span id="S4.SS5.p6.1.1" class="ltx_text ltx_font_italic">greedy-no-sim</span> slightly outperforms <span id="S4.SS5.p6.1.2" class="ltx_text ltx_font_italic">greedy-sim</span>.</p>
</div>
<div id="S4.SS5.p7" class="ltx_para">
<p id="S4.SS5.p7.1" class="ltx_p">In this scenario, the data label distributions and goal distributions have a significant random component to them. As a result, the labels are relatively well distributed among devices, putting our models in a situation similar to the far left region of Fig. <a href="#S4.F2" title="Figure 2 ‣ IV-D Controlled Experiments ‣ IV Evaluation ‣ Opportunistic Federated Learning: An Exploration of Egocentric Collaboration for Pervasive Computing Applications" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. This benefit does come at a cost; because <span id="S4.SS5.p7.1.1" class="ltx_text ltx_font_italic">greedy-no-sim</span> takes advantage of every possible encounter, it has 18% higher overhead compared to <span id="S4.SS5.p7.1.2" class="ltx_text ltx_font_italic">greedy-sim</span>.</p>
</div>
<div id="S4.SS5.p8" class="ltx_para">
<p id="S4.SS5.p8.1" class="ltx_p">This last observation opens a piece of future work: designing an approach that can adapt to the changing nature of surrounding data distributions. When the encountered data is evenly distributed, the algorithm can enter a <span id="S4.SS5.p8.1.1" class="ltx_text ltx_font_italic">greedy-no-sim</span> mode, taking advantage of any and all opportunity for collaboration. When the algorithm senses an imbalance in encountered data, it could transition into <span id="S4.SS5.p8.1.2" class="ltx_text ltx_font_italic">greedy-sim</span>.</p>
</div>
<div id="S4.SS5.p9" class="ltx_para">
<p id="S4.SS5.p9.1" class="ltx_p">In conclusion, these results show that our approaches to opportunistic federated learning can consistently outperform local personalized learning and can be very resilient to overfitting and dramatic fluctuations in the encountered data distributions.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Conclusions and Future Work</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">This paper explored a novel paradigm for machine learning in pervasive computing, which we term <span id="S5.p1.1.1" class="ltx_text ltx_font_italic">opportunistic federated learning</span>. We defined a framework through which devices can collaborate opportunistically with other devices in their surroundings using only device-to-device communication links. We defined an algorithm within the framework, <span id="S5.p1.1.2" class="ltx_text ltx_font_italic">opportunistic momentum</span>, which provides a robust mechanism to continuously integrate learning from encounters in a way that improves over a well-informed greedy approach. Overall, our results demonstrate that there are real-world pervasive computing scenarios and applications that can garner significant benefits from this collaborative yet personalized approach to <span id="S5.p1.1.3" class="ltx_text ltx_font_italic">in situ</span> training of reasonably coupled deep learning models.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">Our results show the significant promise of opportunistic federated learning for diverse pervasive computing applications. Near term future work will extend our evaluation to even further understand the performance of the opportunistic-momentum algorithm, including assessing the impacts of increased varieties of goal distributions, evaluating even more models (e.g., human activity recognition models), and relying on real-world mobility traces. We should also consider what happens when a device’s goal distribution changes, either gradually (e.g., as emoji trends come and go) or abruptly (e.g., because a user changes their job or home environment). It is possible that our approach will successfully adapt to gradual changes, but more abrupt changes will require re-bootstrapping a model, perhaps from an encountered neighbor.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bibx1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">Y. Bengio
</span>
<span class="ltx_bibblock">“Practical recommendations for gradient-based training of deep architectures”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx1.1.1" class="ltx_emph ltx_font_italic">Neural networks: Tricks of the trade</em>
</span>
<span class="ltx_bibblock">Springer, 2012, pp. 437–478
</span>
</li>
<li id="bib.bibx2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">B. Birand
</span>
<span class="ltx_bibblock">“Dynamic graph properties of mobile networks under levy walk mobility”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx2.1.1" class="ltx_emph ltx_font_italic">Proc. of MASS</em>, 2011
</span>
</li>
<li id="bib.bibx3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">C. Briggs, Z. Fan and P. Andras
</span>
<span class="ltx_bibblock">“Federated learning with hierarchical clustering of local updates to improve training on non-IID data”, 2020
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/2004.11791" title="" class="ltx_ref ltx_href">2004.11791 [cs.LG]</a>
</span>
</li>
<li id="bib.bibx4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">H. Chen and W. Lou
</span>
<span class="ltx_bibblock">“Contact expectation based routing for delay tolerant networks”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx4.1.1" class="ltx_emph ltx_font_italic">Ad Hoc Networks</em> <span id="bib.bibx4.2.2" class="ltx_text ltx_font_bold">36</span>
</span>
<span class="ltx_bibblock">Elsevier, 2016, pp. 244–257
</span>
</li>
<li id="bib.bibx5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">F. Chollet
</span>
<span class="ltx_bibblock">“Keras”
</span>
<span class="ltx_bibblock">GitHub, https://github.com/fchollet/keras, 2015
</span>
</li>
<li id="bib.bibx6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">I. Colin
</span>
<span class="ltx_bibblock">“Gossip Dual Averaging for Decentralized Optimization of Pairwise Functions”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx6.1.1" class="ltx_emph ltx_font_italic">Proc. of ICML</em>, 2016
</span>
</li>
<li id="bib.bibx7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">Y. Deng, M. Kamani and M. Mahdavi
</span>
<span class="ltx_bibblock">“Adaptive Personalized Federated Learning”, 2020
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/2003.13461" title="" class="ltx_ref ltx_href">2003.13461 [cs.LG]</a>
</span>
</li>
<li id="bib.bibx8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">C.. Dinh, N.. Tran and T.. Nguyen
</span>
<span class="ltx_bibblock">“Personalized Federated Learning with Moreau Envelopes”, 2020
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/2006.08848" title="" class="ltx_ref ltx_href">2006.08848 [cs.LG]</a>
</span>
</li>
<li id="bib.bibx9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">A. Fallah, A. Mokhtari and A. Ozdaglar
</span>
<span class="ltx_bibblock">“Personalized Federated Learning: A Meta-Learning Approach”, 2020
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/2002.07948" title="" class="ltx_ref ltx_href">2002.07948</a>
</span>
</li>
<li id="bib.bibx10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">A. Ghosh, J. Chung, D. Yin and K. Ramchandran
</span>
<span class="ltx_bibblock">“An Efficient Framework for Clustered Federated Learning”, 2020
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/2006.04088" title="" class="ltx_ref ltx_href">2006.04088 [stat.ML]</a>
</span>
</li>
<li id="bib.bibx11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">A. Hard
</span>
<span class="ltx_bibblock">“Federated Learning for Mobile Keyboard Prediction”, 2019
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/1811.03604" title="" class="ltx_ref ltx_href">1811.03604 [cs.CL]</a>
</span>
</li>
<li id="bib.bibx12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">S. Hong et al.
</span>
<span class="ltx_bibblock">“Routing performance analysis of human-driven delay tolerant networks using the truncated levy walk model”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx12.1.1" class="ltx_emph ltx_font_italic">Proc. of MobilityModels</em>, 2008, pp. 25–32
</span>
</li>
<li id="bib.bibx13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">S. Hosseinalipour
</span>
<span class="ltx_bibblock">“Multi-Stage Hybrid Federated Learning over Large-Scale D2D-Enabled Fog Networks”, 2020
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/2007.09511" title="" class="ltx_ref ltx_href">2007.09511</a>
</span>
</li>
<li id="bib.bibx14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">Y. Huang
</span>
<span class="ltx_bibblock">“Instahide: Instance-hiding schemes for private distributed learning”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx14.1.1" class="ltx_emph ltx_font_italic">Proc. of ICML</em>, 2020
</span>
</li>
<li id="bib.bibx15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">F. Iutzeler, P. Bianchi, P. Ciblat and W. Hachem
</span>
<span class="ltx_bibblock">“Asynchronous distributed optimization using a randomized alternating direction method of multipliers”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx15.1.1" class="ltx_emph ltx_font_italic">Proc. of CDC</em>, 2013
</span>
</li>
<li id="bib.bibx16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">Y. Jiang, J. Konečný, K. Rush and S. Kannan
</span>
<span class="ltx_bibblock">“Improving Federated Learning Personalization via Model Agnostic Meta Learning”, 2019
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/1909.12488" title="" class="ltx_ref ltx_href">1909.12488 [cs.LG]</a>
</span>
</li>
<li id="bib.bibx17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">C. Julien, C. Liu, A.. Murphy and G.. Picco
</span>
<span class="ltx_bibblock">“BLEnd: Practical Continuous Neighbor Discovery for Bluetooth Low Energy”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx17.1.1" class="ltx_emph ltx_font_italic">Proc. of IPSN</em>, 2017
</span>
</li>
<li id="bib.bibx18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">J. Kang et al.
</span>
<span class="ltx_bibblock">“Incentive mechanism for reliable federated learning: A joint optimization approach to combining reputation and contract theory”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx18.1.1" class="ltx_emph ltx_font_italic">IEEE Internet of Things Journal</em> <span id="bib.bibx18.2.2" class="ltx_text ltx_font_bold">6.6</span>
</span>
<span class="ltx_bibblock">IEEE, 2019
</span>
</li>
<li id="bib.bibx19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">L.. Khan et al.
</span>
<span class="ltx_bibblock">“Federated learning for edge networks: Resource optimization and incentive mechanism”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx19.1.1" class="ltx_emph ltx_font_italic">IEEE Communications Magazine</em> <span id="bib.bibx19.2.2" class="ltx_text ltx_font_bold">58.10</span>
</span>
<span class="ltx_bibblock">IEEE, 2020, pp. 88–93
</span>
</li>
<li id="bib.bibx20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">Philipp H Kindt and Samarjit Chakraborty
</span>
<span class="ltx_bibblock">“On optimal neighbor discovery”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx20.1.1" class="ltx_emph ltx_font_italic">Proc. of SIGCOMM</em>, 2019, pp. 441–457
</span>
</li>
<li id="bib.bibx21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">J. Konečný et al.
</span>
<span class="ltx_bibblock">“Federated Learning: Strategies for Improving Communication Efficiency”, 2017
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/1610.05492" title="" class="ltx_ref ltx_href">1610.05492 [cs.LG]</a>
</span>
</li>
<li id="bib.bibx22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">A. Krizhevsky
</span>
<span class="ltx_bibblock">“Learning Multiple Layers of Features from Tiny Images”, 2009
</span>
</li>
<li id="bib.bibx23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">Y. LeCun, Léon Bottou, Yoshua Bengio and Patrick Haffner
</span>
<span class="ltx_bibblock">“Gradient-based learning applied to document recognition”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx23.1.1" class="ltx_emph ltx_font_italic">Proc. of the IEEE</em> <span id="bib.bibx23.2.2" class="ltx_text ltx_font_bold">86.11</span>
</span>
<span class="ltx_bibblock">Ieee, 1998, pp. 2278–2324
</span>
</li>
<li id="bib.bibx24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">D. Leroy et al.
</span>
<span class="ltx_bibblock">“Federated learning for keyword spotting”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx24.1.1" class="ltx_emph ltx_font_italic">Proc. of ICASSP</em>, 2019, pp. 6341–6345
</span>
</li>
<li id="bib.bibx25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">A. Li et al.
</span>
<span class="ltx_bibblock">“LotteryFL: Personalized and Communication-Efficient Federated Learning with Lottery Ticket Hypothesis on Non-IID Datasets”, 2020
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/2008.03371" title="" class="ltx_ref ltx_href">2008.03371 [cs.LG]</a>
</span>
</li>
<li id="bib.bibx26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock"> M.
</span>
<span class="ltx_bibblock">“TensorFlow: Large-Scale Machine Learning on Heterogeneous Systems”, 2015
</span>
<span class="ltx_bibblock">URL: <a target="_blank" href="http://tensorflow.org/" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://tensorflow.org/</a>
</span>
</li>
<li id="bib.bibx27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">Y. Mansour, Mehryar Mohri, Jae Ro and Ananda Theertha Suresh
</span>
<span class="ltx_bibblock">“Three Approaches for Personalization with Applications to Federated Learning”, 2020
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/2002.10619" title="" class="ltx_ref ltx_href">2002.10619 [cs.LG]</a>
</span>
</li>
<li id="bib.bibx28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">B. McMahan et al.
</span>
<span class="ltx_bibblock">“Communication-efficient learning of deep networks from decentralized data”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx28.1.1" class="ltx_emph ltx_font_italic">Proc. of AISTATS</em>, 2017
</span>
</li>
<li id="bib.bibx29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">S. Ramaswamy, Rajiv Mathews, Kanishka Rao and Françoise Beaufays
</span>
<span class="ltx_bibblock">“Federated Learning for Emoji Prediction in a Mobile Keyboard”, 2019
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/1906.04329" title="" class="ltx_ref ltx_href">1906.04329 [cs.CL]</a>
</span>
</li>
<li id="bib.bibx30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">I. Rhee et al.
</span>
<span class="ltx_bibblock">“On the Levy-Walk Nature of Human Mobility”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx30.1.1" class="ltx_emph ltx_font_italic">IEEE/ACM Transactions on Networking</em> <span id="bib.bibx30.2.2" class="ltx_text ltx_font_bold">19.3</span>, 2011, pp. 630–643
</span>
</li>
<li id="bib.bibx31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">S.. al. Rokni
</span>
<span class="ltx_bibblock">“Personalized human activity recognition using convolutional neural networks”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx31.1.1" class="ltx_emph ltx_font_italic">Proc. of AAAI</em> <span id="bib.bibx31.2.2" class="ltx_text ltx_font_bold">32.1</span>, 2018
</span>
</li>
<li id="bib.bibx32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">P. Vanhaesebrouck, A. Bellet and M. Tommasi
</span>
<span class="ltx_bibblock">“Decentralized Collaborative Learning of Personalized Models over Networks”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx32.1.1" class="ltx_emph ltx_font_italic">Proc. of AISTATS</em>, 2017
</span>
</li>
<li id="bib.bibx33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">D.. Verma
</span>
<span class="ltx_bibblock">“Approaches to address the data skew problem in federated learning”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx33.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence and Machine Learning for Multi-Domain Operations Applications</em>, 2019
</span>
</li>
<li id="bib.bibx34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">K. Wang et al.
</span>
<span class="ltx_bibblock">“Federated Evaluation of On-device Personalization”, 2019
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/1910.10252" title="" class="ltx_ref ltx_href">1910.10252 [cs.LG]</a>
</span>
</li>
<li id="bib.bibx35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">Y. Xiong, H.. Kim and V. Hedau
</span>
<span class="ltx_bibblock">“ANTNets: Mobile Convolutional Neural Networks for Resource Efficient Image Classification”, 2019
</span>
<span class="ltx_bibblock">arXiv:<a target="_blank" href="https://arxiv.org/abs/1904.03775" title="" class="ltx_ref ltx_href">1904.03775 [cs.CV]</a>
</span>
</li>
<li id="bib.bibx36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">T. Zhang et al.
</span>
<span class="ltx_bibblock">“Achieving Democracy in Edge Intelligence: A Fog-based Collaborative Learning Scheme”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx36.1.1" class="ltx_emph ltx_font_italic">IEEE Internet of Things Journal</em>, 2020
</span>
</li>
<li id="bib.bibx37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">Y. Zhang and A. Jatowt
</span>
<span class="ltx_bibblock">“Image tweet popularity prediction with convolutional neural network”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx37.1.1" class="ltx_emph ltx_font_italic">Proc. of ECIR</em>, 2019
</span>
<span class="ltx_bibblock">Springer
</span>
</li>
<li id="bib.bibx38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">H. Zhou et al.
</span>
<span class="ltx_bibblock">“Predicting Temporal Social Contact Patterns for Data Forwarding in Opportunistic Mobile Networks”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx38.1.1" class="ltx_emph ltx_font_italic">IEEE Transactions on Vehicular Technology</em> <span id="bib.bibx38.2.2" class="ltx_text ltx_font_bold">66.11</span>, 2017, pp. 10372–10383
</span>
</li>
<li id="bib.bibx39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">L. Zhu, Z. Liu and S. Han
</span>
<span class="ltx_bibblock">“Deep leakage from gradients”
</span>
<span class="ltx_bibblock">In <em id="bib.bibx39.1.1" class="ltx_emph ltx_font_italic">Proc. of NeurIPS</em>, 2019
</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2103.13265" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2103.13266" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2103.13266">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2103.13266" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2103.13267" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Mar  6 14:24:10 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
