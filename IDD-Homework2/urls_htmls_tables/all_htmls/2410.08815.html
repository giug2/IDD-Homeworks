<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization</title>
<!--Generated on Fri Oct 11 13:51:14 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2410.08815v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S1" title="In StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S2" title="In StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S2.SS1" title="In 2 Related Work ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Retrieval-Augmented Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S2.SS2" title="In 2 Related Work ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Graph Retrieval-Augmented Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S3" title="In StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>StructRAG via Hybrid Information Structurization</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S3.SS0.SSS0.Px1" title="In 3 StructRAG via Hybrid Information Structurization ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Task Formulating.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S3.SS0.SSS0.Px2" title="In 3 StructRAG via Hybrid Information Structurization ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Hybrid Structure Router.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S3.SS0.SSS0.Px3" title="In 3 StructRAG via Hybrid Information Structurization ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Scattered Knowledge Structurizer.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S3.SS0.SSS0.Px4" title="In 3 StructRAG via Hybrid Information Structurization ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Structured Knowledge Utilizer.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S4" title="In StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Hybrid Structure Router Training</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S4.SS0.SSS0.Px1" title="In 4 Hybrid Structure Router Training ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Data Constructing.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S4.SS0.SSS0.Px2" title="In 4 Hybrid Structure Router Training ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Preference Training.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5" title="In StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS1" title="In 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Experimental Settings</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS1.SSS0.Px1" title="In 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Evaluation Datasets.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS1.SSS0.Px2" title="In 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Implementation Details.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS1.SSS0.Px3" title="In 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title">Selected Baselines.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS2" title="In 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.2 </span>Overall Results</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS3" title="In 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.3 </span>Ablation Results of Modules</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS4" title="In 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4 </span>Detailed Analysis</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS4.SSS1" title="In 5.4 Detailed Analysis ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.1 </span>Effect of the Router</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS4.SSS2" title="In 5.4 Detailed Analysis ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.2 </span>Drawback of a Fixed Type of Knowledge</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS4.SSS3" title="In 5.4 Detailed Analysis ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.3 </span>Case Study about EM metric</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.SS4.SSS4" title="In 5.4 Detailed Analysis ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.4.4 </span>Efficiency Report</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S6" title="In StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A1" title="In StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Prompts in StructRAG</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A1.SS1" title="In Appendix A Prompts in StructRAG ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Prompts in Data Constructing</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A1.SS2" title="In Appendix A Prompts in StructRAG ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Prompts of Scattered Knowledge Structurizer</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A1.SS3" title="In Appendix A Prompts in StructRAG ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>Prompts of Structured Knowledge Utilizer</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Zhuoqun Li<sup class="ltx_sup" id="id14.14.id1"><span class="ltx_text ltx_font_italic" id="id14.14.id1.1">1,2</span></sup>,
Xuanang Chen<sup class="ltx_sup" id="id15.15.id2"><span class="ltx_text ltx_font_italic" id="id15.15.id2.1">1</span></sup>,
Haiyang Yu<sup class="ltx_sup" id="id16.16.id3"><span class="ltx_text ltx_font_italic" id="id16.16.id3.1">3</span></sup>,
Hongyu Lin<sup class="ltx_sup" id="id17.17.id4"><span class="ltx_text ltx_font_italic" id="id17.17.id4.1">1</span></sup>,
Yaojie Lu<sup class="ltx_sup" id="id18.18.id5"><span class="ltx_text ltx_font_italic" id="id18.18.id5.1">1</span></sup>,
Qiaoyu Tang<sup class="ltx_sup" id="id19.19.id6"><span class="ltx_text ltx_font_italic" id="id19.19.id6.1">1,2</span></sup>,

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="id7.7.1"> Fei Huang<sup class="ltx_sup" id="id7.7.1.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id7.7.1.1.1">3</span></sup></span>,
<span class="ltx_text ltx_font_bold" id="id8.8.2">Xianpei Han<sup class="ltx_sup" id="id8.8.2.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id8.8.2.1.1">1</span></sup></span>,
<span class="ltx_text ltx_font_bold" id="id9.9.3">Le Sun<sup class="ltx_sup" id="id9.9.3.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id9.9.3.1.1">1</span></sup></span>,
<span class="ltx_text ltx_font_bold" id="id10.10.4">Yongbin Li<sup class="ltx_sup" id="id10.10.4.1"><span class="ltx_text ltx_font_medium ltx_font_italic" id="id10.10.4.1.1">3</span></sup></span>
<br class="ltx_break"/><sup class="ltx_sup" id="id20.20.id7"><span class="ltx_text ltx_font_italic" id="id20.20.id7.1">1</span></sup>Chinese Information Processing Laboratory,
Institute of Software, Chinese Academy of Sciences
<br class="ltx_break"/><sup class="ltx_sup" id="id21.21.id8"><span class="ltx_text ltx_font_italic" id="id21.21.id8.1">2</span></sup>University of Chinese Academy of Sciences 
<br class="ltx_break"/><sup class="ltx_sup" id="id22.22.id9"><span class="ltx_text ltx_font_italic" id="id22.22.id9.1">3</span></sup>Alibaba Group 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id23.23.id10">{lizhuoqun2021,chenxuanang,hongyu,luyaojie}@iscas.ac.cn</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id24.24.id11">{tangqiaoyu2020,xianpei,sunle}@iscas.ac.cn</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id25.25.id12">{yifei.yhy,f.huang,shuide.lyb}@alibaba-inc.com</span>
<br class="ltx_break"/>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id26.id1">Retrieval-augmented generation (RAG) is a key means to effectively enhance large language models (LLMs) in many knowledge-based tasks.
However, existing RAG methods struggle with knowledge-intensive reasoning tasks, because useful information required to these tasks are badly scattered.
This characteristic makes it difficult for existing RAG methods to accurately identify key information and perform global reasoning with such noisy augmentation.
In this paper, motivated by the cognitive theories that humans convert raw information into various structured knowledge when tackling knowledge-intensive reasoning, we proposes a new framework, StructRAG, which can identify the optimal structure type for the task at hand, reconstruct original documents into this structured format, and infer answers based on the resulting structure.
Extensive experiments across various knowledge-intensive tasks show that StructRAG achieves state-of-the-art performance, particularly excelling in challenging scenarios, demonstrating its potential as an effective solution for enhancing LLMs in complex real-world applications.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para ltx_noindent" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">With the advancement of deep learning technology, large language models (LLMs) have demonstrated considerable strengths in natural language tasks and are extensively applied in complex real-world scenarios <cite class="ltx_cite ltx_citemacro_citep">(OpenAI et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib25" title="">2024</a>; Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib42" title="">2024a</a>)</cite>.
However, they still exhibit limitations in factual tasks due to a lack of domain-specific knowledge, real-time updated information, and proprietary knowledge <cite class="ltx_cite ltx_citemacro_citep">(Huang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib13" title="">2023</a>; Sui et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib34" title="">2024</a>)</cite>.
To address this, retrieval-augmented generation (RAG) methods have been developed to effectively provide essential external knowledge <cite class="ltx_cite ltx_citemacro_citep">(Yu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib44" title="">2022</a>; Gao et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib8" title="">2024</a>)</cite>.
Typically, RAG methods involve splitting original documents into shorter chunks, retrieving the most relevant ones based on the query, and then using these chunks to enable LLMs to generate reliable answers <cite class="ltx_cite ltx_citemacro_citep">(Ma et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib23" title="">2023</a>; Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib20" title="">2024a</a>)</cite>.
Due to their strong performance through this straightforward process, RAG methods are commonly employed in various knowledge-based question-answering tasks <cite class="ltx_cite ltx_citemacro_citep">(Shi et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib32" title="">2024</a>; Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib40" title="">2024b</a>)</cite>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Unfortunately, current RAG approaches cannot effectively handle knowledge-intensive reasoning tasks due to the scattered nature of related information needed to solve these tasks <cite class="ltx_cite ltx_citemacro_citep">(Kuratov et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib17" title="">2024</a>; Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib43" title="">2024b</a>)</cite>.
Specifically, knowledge-intensive reasoning tasks often require a large amount of useful information which is dispersed across many locations in the provided documents, meanwhile the model needs to perform integrated reasoning after retrieving useful information <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib43" title="">2024b</a>; Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib39" title="">2024a</a>)</cite>.
Taking <span class="ltx_text ltx_font_italic" id="S1.p2.1.1">financial report analysis</span> as an example, given a large number of financial documents and the need to compare the development trends of multiple companies, LLMs need to <span class="ltx_text ltx_font_italic" id="S1.p2.1.2">dig out all relevant financial indicators scattered across original documents and then generate insights by carefully comparing and comprehensively analyzing these indicators</span>.
In such scenarios, standard RAG methods face challenges in accurately retrieving all relevant textual chunks, which may contain substantial noise, and integrating multiple key pieces of information for reasoning, leading to unsatisfactory performance on these tasks.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="244" id="S1.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>The overview of StructRAG framework, including an hybrid structure router to select the optimal structure type based on task requirements, a scattered knowledge structurizer to convert raw documents into structured knowledge, and a structured knowledge utilizer to decompose complex question and then effectively using the structured knowledge to infer the final answer.</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">From a human perspective, people do not solve knowledge-intensive reasoning tasks by simply reading raw texts <cite class="ltx_cite ltx_citemacro_citep">(Johnson-Laird, <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib16" title="">1986</a>; Paivio, <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib26" title="">1990</a>)</cite>.
As suggested in cognitive load theory, humans typically summarize scattered information from documents into structured knowledge, which is then used to shorten the reasoning path and enable more accurate judgement <cite class="ltx_cite ltx_citemacro_citep">(Sweller, <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib35" title="">1988</a>; Chandler &amp; Sweller, <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib4" title="">1991</a>)</cite>.
Furthermore, cognitive fit theory shows that humans prefer using different types of structured knowledge for various tasks, such as tables for statistical analysis tasks and graphs for long-chain inference <cite class="ltx_cite ltx_citemacro_citep">(Vessey, <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib38" title="">1991</a>; Umanath &amp; Vessey, <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib37" title="">1994</a>)</cite>.
In recent years, the rapid development of LLMs has laid the foundation for directly using these models to construct various knowledge structures <cite class="ltx_cite ltx_citemacro_citep">(Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib19" title="">2023</a>; Jain et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib14" title="">2024</a>)</cite>.
Meanwhile, many studies suggest that LLMs share similarities with humans in how they utilize information and solve complex problems <cite class="ltx_cite ltx_citemacro_citep">(Wei et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib41" title="">2022</a>; Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib21" title="">2024b</a>)</cite>.
These inspire us to explore whether LLMs can adopt human-like thinking processes to transform scattered information into various structure formats during inference, thereby better serving knowledge-intensive reasoning tasks.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Motivated by this, we propose <span class="ltx_text ltx_font_bold" id="S1.p4.1.1">StructRAG</span>, which employs a hybrid information structuring mechanism to construct and utilize structured knowledge in the most suitable format based on task requirements.
As illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">1</span></a>, the StructRAG framework consists of three modules designed to sequentially identify the most suitable structure type, construct structured knowledge in that format, and utilize that structured knowledge to infer the final answer.
First, recognizing that different structure types are suited for different tasks, a hybrid structure router is proposed to determine the most appropriate structure type based on the question and document information of the current task.
Second, given that constructing structured knowledge is complex and requires strong comprehension and generation abilities, an LLM-based scattered knowledge structurizer is employed to convert raw documents into structured knowledge in the optimal type.
Finally, since questions in knowledge-intensive reasoning tasks can often be a complex composite problems that are challenging to solve directly, a structured knowledge utilizer is used to perform question decomposition and precise knowledge extraction for more accurate answer inference.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">The core aspect of StructRAG is the hybrid structure router’s ability to accurately select the most suitable structure type for each input task.
To equip the router with this capability, we propose a training method for the hybrid structure router.
Inspired by successful use of reinforcement learning in training LLMs for decision-making tasks <cite class="ltx_cite ltx_citemacro_citep">(Havrilla et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib11" title="">2024</a>; OpenAI, <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib24" title="">2024</a>)</cite>, we employ the DPO algorithm to train the router module, which follows reinforcement learning principles without requiring additional reward models <cite class="ltx_cite ltx_citemacro_citep">(Rafailov et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib31" title="">2023</a>; Allam, <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib1" title="">2024</a>)</cite>.
However, there is insufficient training data for the model to learn how to choose the optimal structure type, and collecting enough such data in the real world is also challenging.
To address this, we introduce a novel pipeline for constructing preference training data that involves task synthesis, solution simulation, and preference judgment to create high-quality synthetic data, thereby enhancing the router’s ability to select the appropriate structure type.</p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">In our experiments, we evaluate StructRAG across various knowledge-intensive reasoning tasks and compare it with several strong RAG baselines.
The results demonstrate that StructRAG achieves state-of-the-art performance, with improvements becoming more pronounced as task complexity increases.
This confirms that StructRAG is a robust solution for addressing challenging knowledge-intensive tasks.
Additionally, compared to recent Graph RAG methods, StructRAG not only exhibits superior performance across a broader range of tasks but also operates significantly faster on average.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1 </span>Retrieval-Augmented Generation</h3>
<div class="ltx_para ltx_noindent" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.1">RAG technology achieves good performance in the era of LLMs by providing external knowledge to assist answering questions and reducing hallucinations <cite class="ltx_cite ltx_citemacro_citep">(Jiang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib15" title="">2023</a>; Asai et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib2" title="">2023</a>; Gao et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib8" title="">2024</a>; Chen et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib5" title="">2024</a>)</cite>.
The initial strategy of RAG involves using a retriever to search for and retain highly relevant chunks from a knowledge base based on a query, these chunks are then fed into the generation module as external knowledge, enhancing its performance <cite class="ltx_cite ltx_citemacro_citep">(Qi et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib29" title="">2019</a>; Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib18" title="">2020</a>; Gur et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib10" title="">2021</a>; Yu et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib44" title="">2022</a>)</cite>.
To improve RAG effectiveness, some approaches have introduced iterative RAG, proposing various enhancements such as query expansion and rewriting <cite class="ltx_cite ltx_citemacro_citep">(Ma et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib23" title="">2023</a>; Li et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib20" title="">2024a</a>; Chan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib3" title="">2024</a>; Shi et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib32" title="">2024</a>)</cite>, and others try to improve the corporation between retrieval and generation <cite class="ltx_cite ltx_citemacro_citep">(Qian et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib30" title="">2024</a>; Su et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib33" title="">2024</a>; Luo et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib22" title="">2024</a>; Zhang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib45" title="">2024</a>)</cite>.
Although existing methods achieve strong performance on multi-hop tasks like HotpotQA, chunk-based RAG struggles with knowledge-intensive tasks <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib39" title="">2024a</a>)</cite>. This is because chunks must contain excessive text noise and do not capture the interconnections among information , thus LLMs cannot effectively use augmented knowledge.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2 </span>Graph Retrieval-Augmented Generation</h3>
<div class="ltx_para ltx_noindent" id="S2.SS2.p1">
<p class="ltx_p" id="S2.SS2.p1.1">Recently, to assist LLMs in handling complex question-answering tasks, some works introduce graph structures into RAG systems <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>; Panda et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib27" title="">2024</a>; Peng et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib28" title="">2024</a>)</cite>.
One kind of approach uses pre-built knowledge graphs, extracting subgraph based on queries, which are then encoded as soft prompts or flattened into plain text for the generation module <cite class="ltx_cite ltx_citemacro_citep">(Tang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib36" title="">2024</a>; He et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib12" title="">2024</a>; Guan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib9" title="">2024</a>)</cite>.
Another kind of approach involves extracting entity-relation triples from given text documents based on query requirements to construct graph structures, which are then used for knowledge augmentation <cite class="ltx_cite ltx_citemacro_citep">(Fang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib7" title="">2024</a>; Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>; Panda et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib27" title="">2024</a>)</cite>.
Although these approaches significantly improve performance on multi-hop question-answering tasks, they focus solely on graph-based knowledge via the format of triplets, thus limiting their practical applicability in various domain and application of knowledge-intensive reasoning tasks.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>StructRAG via Hybrid Information Structurization</h2>
<div class="ltx_para ltx_noindent" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">As mentioned, due to badly dispersed information in knowledge-intensive reasoning tasks, the traditional retrieval module in RAG could retrieve chunks containing substantial textual noise, making it difficult for the generation module to extract useful information for inference.
Drawing inspiration from cognitive theories on how humans tackle such tasks, this paper proposes StructRAG, which utilizes a hybrid information structurization mechanism to construct and leverage structured knowledge in its optimal form.
Specifically, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">1</span></a>, StructRAG first employs a hybrid structure router to identify the most appropriate structure type for the given task, and then employs a scattered knowledge structurizer to transform raw documents into structured knowledge in that format, and finally incorporates a structured knowledge utilizer to break down complex questions into simpler sub-questions, enabling more accurate reasoning on structured knowledge.</p>
</div>
<section class="ltx_paragraph" id="S3.SS0.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Task Formulating.</h5>
<div class="ltx_para ltx_noindent" id="S3.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S3.SS0.SSS0.Px1.p1.3">Knowledge-intensive reasoning tasks involved in this paper provide a question <math alttext="q" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px1.p1.1.m1.1"><semantics id="S3.SS0.SSS0.Px1.p1.1.m1.1a"><mi id="S3.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.1.m1.1b"><ci id="S3.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px1.p1.1.m1.1d">italic_q</annotation></semantics></math> and a large set of documents <math alttext="D" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px1.p1.2.m2.1"><semantics id="S3.SS0.SSS0.Px1.p1.2.m2.1a"><mi id="S3.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.2.m2.1b"><ci id="S3.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.2.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.2.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px1.p1.2.m2.1d">italic_D</annotation></semantics></math> as input, with the goal of deriving an answer <math alttext="a" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px1.p1.3.m3.1"><semantics id="S3.SS0.SSS0.Px1.p1.3.m3.1a"><mi id="S3.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.3.m3.1b"><ci id="S3.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.3.m3.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.3.m3.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px1.p1.3.m3.1d">italic_a</annotation></semantics></math> based on the provided documents, which can be expressed as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="a=\mathcal{F}(q,D),\text{where}~{}D=\{d^{(i)}\}_{i=1}^{m}~{}~{}" class="ltx_Math" display="block" id="S3.E1.m1.5"><semantics id="S3.E1.m1.5a"><mrow id="S3.E1.m1.5.5.2" xref="S3.E1.m1.5.5.3.cmml"><mrow id="S3.E1.m1.4.4.1.1" xref="S3.E1.m1.4.4.1.1.cmml"><mi id="S3.E1.m1.4.4.1.1.2" xref="S3.E1.m1.4.4.1.1.2.cmml">a</mi><mo id="S3.E1.m1.4.4.1.1.1" xref="S3.E1.m1.4.4.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.4.4.1.1.3" xref="S3.E1.m1.4.4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E1.m1.4.4.1.1.3.2" xref="S3.E1.m1.4.4.1.1.3.2.cmml">ℱ</mi><mo id="S3.E1.m1.4.4.1.1.3.1" xref="S3.E1.m1.4.4.1.1.3.1.cmml">⁢</mo><mrow id="S3.E1.m1.4.4.1.1.3.3.2" xref="S3.E1.m1.4.4.1.1.3.3.1.cmml"><mo id="S3.E1.m1.4.4.1.1.3.3.2.1" stretchy="false" xref="S3.E1.m1.4.4.1.1.3.3.1.cmml">(</mo><mi id="S3.E1.m1.2.2" xref="S3.E1.m1.2.2.cmml">q</mi><mo id="S3.E1.m1.4.4.1.1.3.3.2.2" xref="S3.E1.m1.4.4.1.1.3.3.1.cmml">,</mo><mi id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml">D</mi><mo id="S3.E1.m1.4.4.1.1.3.3.2.3" stretchy="false" xref="S3.E1.m1.4.4.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E1.m1.5.5.2.3" xref="S3.E1.m1.5.5.3a.cmml">,</mo><mrow id="S3.E1.m1.5.5.2.2" xref="S3.E1.m1.5.5.2.2.cmml"><mrow id="S3.E1.m1.5.5.2.2.3" xref="S3.E1.m1.5.5.2.2.3.cmml"><mtext id="S3.E1.m1.5.5.2.2.3.2" xref="S3.E1.m1.5.5.2.2.3.2a.cmml">where</mtext><mo id="S3.E1.m1.5.5.2.2.3.1" lspace="0.330em" xref="S3.E1.m1.5.5.2.2.3.1.cmml">⁢</mo><mi id="S3.E1.m1.5.5.2.2.3.3" xref="S3.E1.m1.5.5.2.2.3.3.cmml">D</mi></mrow><mo id="S3.E1.m1.5.5.2.2.2" xref="S3.E1.m1.5.5.2.2.2.cmml">=</mo><msubsup id="S3.E1.m1.5.5.2.2.1" xref="S3.E1.m1.5.5.2.2.1.cmml"><mrow id="S3.E1.m1.5.5.2.2.1.1.1.1" xref="S3.E1.m1.5.5.2.2.1.1.1.2.cmml"><mo id="S3.E1.m1.5.5.2.2.1.1.1.1.2" stretchy="false" xref="S3.E1.m1.5.5.2.2.1.1.1.2.cmml">{</mo><msup id="S3.E1.m1.5.5.2.2.1.1.1.1.1" xref="S3.E1.m1.5.5.2.2.1.1.1.1.1.cmml"><mi id="S3.E1.m1.5.5.2.2.1.1.1.1.1.2" xref="S3.E1.m1.5.5.2.2.1.1.1.1.1.2.cmml">d</mi><mrow id="S3.E1.m1.1.1.1.3" xref="S3.E1.m1.5.5.2.2.1.1.1.1.1.cmml"><mo id="S3.E1.m1.1.1.1.3.1" stretchy="false" xref="S3.E1.m1.5.5.2.2.1.1.1.1.1.cmml">(</mo><mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">i</mi><mo id="S3.E1.m1.1.1.1.3.2" stretchy="false" xref="S3.E1.m1.5.5.2.2.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.E1.m1.5.5.2.2.1.1.1.1.3" stretchy="false" xref="S3.E1.m1.5.5.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.E1.m1.5.5.2.2.1.1.3" xref="S3.E1.m1.5.5.2.2.1.1.3.cmml"><mi id="S3.E1.m1.5.5.2.2.1.1.3.2" xref="S3.E1.m1.5.5.2.2.1.1.3.2.cmml">i</mi><mo id="S3.E1.m1.5.5.2.2.1.1.3.1" xref="S3.E1.m1.5.5.2.2.1.1.3.1.cmml">=</mo><mn id="S3.E1.m1.5.5.2.2.1.1.3.3" xref="S3.E1.m1.5.5.2.2.1.1.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.5.5.2.2.1.3" xref="S3.E1.m1.5.5.2.2.1.3.cmml">m</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.5b"><apply id="S3.E1.m1.5.5.3.cmml" xref="S3.E1.m1.5.5.2"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.3a.cmml" xref="S3.E1.m1.5.5.2.3">formulae-sequence</csymbol><apply id="S3.E1.m1.4.4.1.1.cmml" xref="S3.E1.m1.4.4.1.1"><eq id="S3.E1.m1.4.4.1.1.1.cmml" xref="S3.E1.m1.4.4.1.1.1"></eq><ci id="S3.E1.m1.4.4.1.1.2.cmml" xref="S3.E1.m1.4.4.1.1.2">𝑎</ci><apply id="S3.E1.m1.4.4.1.1.3.cmml" xref="S3.E1.m1.4.4.1.1.3"><times id="S3.E1.m1.4.4.1.1.3.1.cmml" xref="S3.E1.m1.4.4.1.1.3.1"></times><ci id="S3.E1.m1.4.4.1.1.3.2.cmml" xref="S3.E1.m1.4.4.1.1.3.2">ℱ</ci><interval closure="open" id="S3.E1.m1.4.4.1.1.3.3.1.cmml" xref="S3.E1.m1.4.4.1.1.3.3.2"><ci id="S3.E1.m1.2.2.cmml" xref="S3.E1.m1.2.2">𝑞</ci><ci id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3">𝐷</ci></interval></apply></apply><apply id="S3.E1.m1.5.5.2.2.cmml" xref="S3.E1.m1.5.5.2.2"><eq id="S3.E1.m1.5.5.2.2.2.cmml" xref="S3.E1.m1.5.5.2.2.2"></eq><apply id="S3.E1.m1.5.5.2.2.3.cmml" xref="S3.E1.m1.5.5.2.2.3"><times id="S3.E1.m1.5.5.2.2.3.1.cmml" xref="S3.E1.m1.5.5.2.2.3.1"></times><ci id="S3.E1.m1.5.5.2.2.3.2a.cmml" xref="S3.E1.m1.5.5.2.2.3.2"><mtext id="S3.E1.m1.5.5.2.2.3.2.cmml" xref="S3.E1.m1.5.5.2.2.3.2">where</mtext></ci><ci id="S3.E1.m1.5.5.2.2.3.3.cmml" xref="S3.E1.m1.5.5.2.2.3.3">𝐷</ci></apply><apply id="S3.E1.m1.5.5.2.2.1.cmml" xref="S3.E1.m1.5.5.2.2.1"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.2.2.1.2.cmml" xref="S3.E1.m1.5.5.2.2.1">superscript</csymbol><apply id="S3.E1.m1.5.5.2.2.1.1.cmml" xref="S3.E1.m1.5.5.2.2.1"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.2.2.1.1.2.cmml" xref="S3.E1.m1.5.5.2.2.1">subscript</csymbol><set id="S3.E1.m1.5.5.2.2.1.1.1.2.cmml" xref="S3.E1.m1.5.5.2.2.1.1.1.1"><apply id="S3.E1.m1.5.5.2.2.1.1.1.1.1.cmml" xref="S3.E1.m1.5.5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.5.5.2.2.1.1.1.1.1.1.cmml" xref="S3.E1.m1.5.5.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.E1.m1.5.5.2.2.1.1.1.1.1.2.cmml" xref="S3.E1.m1.5.5.2.2.1.1.1.1.1.2">𝑑</ci><ci id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">𝑖</ci></apply></set><apply id="S3.E1.m1.5.5.2.2.1.1.3.cmml" xref="S3.E1.m1.5.5.2.2.1.1.3"><eq id="S3.E1.m1.5.5.2.2.1.1.3.1.cmml" xref="S3.E1.m1.5.5.2.2.1.1.3.1"></eq><ci id="S3.E1.m1.5.5.2.2.1.1.3.2.cmml" xref="S3.E1.m1.5.5.2.2.1.1.3.2">𝑖</ci><cn id="S3.E1.m1.5.5.2.2.1.1.3.3.cmml" type="integer" xref="S3.E1.m1.5.5.2.2.1.1.3.3">1</cn></apply></apply><ci id="S3.E1.m1.5.5.2.2.1.3.cmml" xref="S3.E1.m1.5.5.2.2.1.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.5c">a=\mathcal{F}(q,D),\text{where}~{}D=\{d^{(i)}\}_{i=1}^{m}~{}~{}</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.5d">italic_a = caligraphic_F ( italic_q , italic_D ) , where italic_D = { italic_d start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS0.SSS0.Px1.p1.4">where <math alttext="m" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px1.p1.4.m1.1"><semantics id="S3.SS0.SSS0.Px1.p1.4.m1.1a"><mi id="S3.SS0.SSS0.Px1.p1.4.m1.1.1" xref="S3.SS0.SSS0.Px1.p1.4.m1.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px1.p1.4.m1.1b"><ci id="S3.SS0.SSS0.Px1.p1.4.m1.1.1.cmml" xref="S3.SS0.SSS0.Px1.p1.4.m1.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px1.p1.4.m1.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px1.p1.4.m1.1d">italic_m</annotation></semantics></math> is the number of documents, which can exceed 20, resulting in a total token of up to 200K.
Thus, the most obvious characteristic of these tasks is that useful information is dispersed across the provided documents, requiring the model to engage in complex reasoning based on large-scale relevant data.
For example, when comparing the development trends of several companies using a batch of financial reports, the task necessitates retrieving various financial indicators scattered throughout the documents, followed by a detailed comparison of these indicators.
This involves considering factors such as the relative importance of different indicators and the magnitude of numerical differences. Consequently, knowledge-intensive reasoning tasks present significant challenges.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS0.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Hybrid Structure Router.</h5>
<div class="ltx_para ltx_noindent" id="S3.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S3.SS0.SSS0.Px2.p1.5">From a human perspective, when solving knowledge-intensive reasoning tasks, individuals tend to use the type of structured knowledge that best matches the specific requirements of faced task.
To this end, StructRAG incorporates a hybrid structure router <math alttext="\mathcal{R}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px2.p1.1.m1.1"><semantics id="S3.SS0.SSS0.Px2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml">ℛ</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.1.m1.1b"><ci id="S3.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.1.m1.1.1">ℛ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.1.m1.1c">\mathcal{R}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px2.p1.1.m1.1d">caligraphic_R</annotation></semantics></math> to select the optimal structure type.
Specifically, the router leverages the question <math alttext="q" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px2.p1.2.m2.1"><semantics id="S3.SS0.SSS0.Px2.p1.2.m2.1a"><mi id="S3.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.2.m2.1b"><ci id="S3.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.2.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px2.p1.2.m2.1d">italic_q</annotation></semantics></math> and the core content <math alttext="C" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px2.p1.3.m3.1"><semantics id="S3.SS0.SSS0.Px2.p1.3.m3.1a"><mi id="S3.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S3.SS0.SSS0.Px2.p1.3.m3.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.3.m3.1b"><ci id="S3.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.3.m3.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.3.m3.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px2.p1.3.m3.1d">italic_C</annotation></semantics></math> of documents <math alttext="D" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px2.p1.4.m4.1"><semantics id="S3.SS0.SSS0.Px2.p1.4.m4.1a"><mi id="S3.SS0.SSS0.Px2.p1.4.m4.1.1" xref="S3.SS0.SSS0.Px2.p1.4.m4.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.4.m4.1b"><ci id="S3.SS0.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.4.m4.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.4.m4.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px2.p1.4.m4.1d">italic_D</annotation></semantics></math> to make its decision and generate the most suitable structure type <math alttext="t" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px2.p1.5.m5.1"><semantics id="S3.SS0.SSS0.Px2.p1.5.m5.1a"><mi id="S3.SS0.SSS0.Px2.p1.5.m5.1.1" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.5.m5.1b"><ci id="S3.SS0.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.5.m5.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.5.m5.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px2.p1.5.m5.1d">italic_t</annotation></semantics></math>, as it is impractical to process the entire set of documents at once.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="t=\mathcal{R}(q,C),\text{where}~{}C=\{c^{(i)}\}_{i=1}^{m}" class="ltx_Math" display="block" id="S3.E2.m1.5"><semantics id="S3.E2.m1.5a"><mrow id="S3.E2.m1.5.5.2" xref="S3.E2.m1.5.5.3.cmml"><mrow id="S3.E2.m1.4.4.1.1" xref="S3.E2.m1.4.4.1.1.cmml"><mi id="S3.E2.m1.4.4.1.1.2" xref="S3.E2.m1.4.4.1.1.2.cmml">t</mi><mo id="S3.E2.m1.4.4.1.1.1" xref="S3.E2.m1.4.4.1.1.1.cmml">=</mo><mrow id="S3.E2.m1.4.4.1.1.3" xref="S3.E2.m1.4.4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E2.m1.4.4.1.1.3.2" xref="S3.E2.m1.4.4.1.1.3.2.cmml">ℛ</mi><mo id="S3.E2.m1.4.4.1.1.3.1" xref="S3.E2.m1.4.4.1.1.3.1.cmml">⁢</mo><mrow id="S3.E2.m1.4.4.1.1.3.3.2" xref="S3.E2.m1.4.4.1.1.3.3.1.cmml"><mo id="S3.E2.m1.4.4.1.1.3.3.2.1" stretchy="false" xref="S3.E2.m1.4.4.1.1.3.3.1.cmml">(</mo><mi id="S3.E2.m1.2.2" xref="S3.E2.m1.2.2.cmml">q</mi><mo id="S3.E2.m1.4.4.1.1.3.3.2.2" xref="S3.E2.m1.4.4.1.1.3.3.1.cmml">,</mo><mi id="S3.E2.m1.3.3" xref="S3.E2.m1.3.3.cmml">C</mi><mo id="S3.E2.m1.4.4.1.1.3.3.2.3" stretchy="false" xref="S3.E2.m1.4.4.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E2.m1.5.5.2.3" xref="S3.E2.m1.5.5.3a.cmml">,</mo><mrow id="S3.E2.m1.5.5.2.2" xref="S3.E2.m1.5.5.2.2.cmml"><mrow id="S3.E2.m1.5.5.2.2.3" xref="S3.E2.m1.5.5.2.2.3.cmml"><mtext id="S3.E2.m1.5.5.2.2.3.2" xref="S3.E2.m1.5.5.2.2.3.2a.cmml">where</mtext><mo id="S3.E2.m1.5.5.2.2.3.1" lspace="0.330em" xref="S3.E2.m1.5.5.2.2.3.1.cmml">⁢</mo><mi id="S3.E2.m1.5.5.2.2.3.3" xref="S3.E2.m1.5.5.2.2.3.3.cmml">C</mi></mrow><mo id="S3.E2.m1.5.5.2.2.2" xref="S3.E2.m1.5.5.2.2.2.cmml">=</mo><msubsup id="S3.E2.m1.5.5.2.2.1" xref="S3.E2.m1.5.5.2.2.1.cmml"><mrow id="S3.E2.m1.5.5.2.2.1.1.1.1" xref="S3.E2.m1.5.5.2.2.1.1.1.2.cmml"><mo id="S3.E2.m1.5.5.2.2.1.1.1.1.2" stretchy="false" xref="S3.E2.m1.5.5.2.2.1.1.1.2.cmml">{</mo><msup id="S3.E2.m1.5.5.2.2.1.1.1.1.1" xref="S3.E2.m1.5.5.2.2.1.1.1.1.1.cmml"><mi id="S3.E2.m1.5.5.2.2.1.1.1.1.1.2" xref="S3.E2.m1.5.5.2.2.1.1.1.1.1.2.cmml">c</mi><mrow id="S3.E2.m1.1.1.1.3" xref="S3.E2.m1.5.5.2.2.1.1.1.1.1.cmml"><mo id="S3.E2.m1.1.1.1.3.1" stretchy="false" xref="S3.E2.m1.5.5.2.2.1.1.1.1.1.cmml">(</mo><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">i</mi><mo id="S3.E2.m1.1.1.1.3.2" stretchy="false" xref="S3.E2.m1.5.5.2.2.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.E2.m1.5.5.2.2.1.1.1.1.3" stretchy="false" xref="S3.E2.m1.5.5.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.E2.m1.5.5.2.2.1.1.3" xref="S3.E2.m1.5.5.2.2.1.1.3.cmml"><mi id="S3.E2.m1.5.5.2.2.1.1.3.2" xref="S3.E2.m1.5.5.2.2.1.1.3.2.cmml">i</mi><mo id="S3.E2.m1.5.5.2.2.1.1.3.1" xref="S3.E2.m1.5.5.2.2.1.1.3.1.cmml">=</mo><mn id="S3.E2.m1.5.5.2.2.1.1.3.3" xref="S3.E2.m1.5.5.2.2.1.1.3.3.cmml">1</mn></mrow><mi id="S3.E2.m1.5.5.2.2.1.3" xref="S3.E2.m1.5.5.2.2.1.3.cmml">m</mi></msubsup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.5b"><apply id="S3.E2.m1.5.5.3.cmml" xref="S3.E2.m1.5.5.2"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.3a.cmml" xref="S3.E2.m1.5.5.2.3">formulae-sequence</csymbol><apply id="S3.E2.m1.4.4.1.1.cmml" xref="S3.E2.m1.4.4.1.1"><eq id="S3.E2.m1.4.4.1.1.1.cmml" xref="S3.E2.m1.4.4.1.1.1"></eq><ci id="S3.E2.m1.4.4.1.1.2.cmml" xref="S3.E2.m1.4.4.1.1.2">𝑡</ci><apply id="S3.E2.m1.4.4.1.1.3.cmml" xref="S3.E2.m1.4.4.1.1.3"><times id="S3.E2.m1.4.4.1.1.3.1.cmml" xref="S3.E2.m1.4.4.1.1.3.1"></times><ci id="S3.E2.m1.4.4.1.1.3.2.cmml" xref="S3.E2.m1.4.4.1.1.3.2">ℛ</ci><interval closure="open" id="S3.E2.m1.4.4.1.1.3.3.1.cmml" xref="S3.E2.m1.4.4.1.1.3.3.2"><ci id="S3.E2.m1.2.2.cmml" xref="S3.E2.m1.2.2">𝑞</ci><ci id="S3.E2.m1.3.3.cmml" xref="S3.E2.m1.3.3">𝐶</ci></interval></apply></apply><apply id="S3.E2.m1.5.5.2.2.cmml" xref="S3.E2.m1.5.5.2.2"><eq id="S3.E2.m1.5.5.2.2.2.cmml" xref="S3.E2.m1.5.5.2.2.2"></eq><apply id="S3.E2.m1.5.5.2.2.3.cmml" xref="S3.E2.m1.5.5.2.2.3"><times id="S3.E2.m1.5.5.2.2.3.1.cmml" xref="S3.E2.m1.5.5.2.2.3.1"></times><ci id="S3.E2.m1.5.5.2.2.3.2a.cmml" xref="S3.E2.m1.5.5.2.2.3.2"><mtext id="S3.E2.m1.5.5.2.2.3.2.cmml" xref="S3.E2.m1.5.5.2.2.3.2">where</mtext></ci><ci id="S3.E2.m1.5.5.2.2.3.3.cmml" xref="S3.E2.m1.5.5.2.2.3.3">𝐶</ci></apply><apply id="S3.E2.m1.5.5.2.2.1.cmml" xref="S3.E2.m1.5.5.2.2.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.2.2.1.2.cmml" xref="S3.E2.m1.5.5.2.2.1">superscript</csymbol><apply id="S3.E2.m1.5.5.2.2.1.1.cmml" xref="S3.E2.m1.5.5.2.2.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.2.2.1.1.2.cmml" xref="S3.E2.m1.5.5.2.2.1">subscript</csymbol><set id="S3.E2.m1.5.5.2.2.1.1.1.2.cmml" xref="S3.E2.m1.5.5.2.2.1.1.1.1"><apply id="S3.E2.m1.5.5.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.5.5.2.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.5.5.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.E2.m1.5.5.2.2.1.1.1.1.1.2.cmml" xref="S3.E2.m1.5.5.2.2.1.1.1.1.1.2">𝑐</ci><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">𝑖</ci></apply></set><apply id="S3.E2.m1.5.5.2.2.1.1.3.cmml" xref="S3.E2.m1.5.5.2.2.1.1.3"><eq id="S3.E2.m1.5.5.2.2.1.1.3.1.cmml" xref="S3.E2.m1.5.5.2.2.1.1.3.1"></eq><ci id="S3.E2.m1.5.5.2.2.1.1.3.2.cmml" xref="S3.E2.m1.5.5.2.2.1.1.3.2">𝑖</ci><cn id="S3.E2.m1.5.5.2.2.1.1.3.3.cmml" type="integer" xref="S3.E2.m1.5.5.2.2.1.1.3.3">1</cn></apply></apply><ci id="S3.E2.m1.5.5.2.2.1.3.cmml" xref="S3.E2.m1.5.5.2.2.1.3">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.5c">t=\mathcal{R}(q,C),\text{where}~{}C=\{c^{(i)}\}_{i=1}^{m}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.5d">italic_t = caligraphic_R ( italic_q , italic_C ) , where italic_C = { italic_c start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS0.SSS0.Px2.p1.7">The core content <math alttext="C" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px2.p1.6.m1.1"><semantics id="S3.SS0.SSS0.Px2.p1.6.m1.1a"><mi id="S3.SS0.SSS0.Px2.p1.6.m1.1.1" xref="S3.SS0.SSS0.Px2.p1.6.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.6.m1.1b"><ci id="S3.SS0.SSS0.Px2.p1.6.m1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.6.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.6.m1.1c">C</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px2.p1.6.m1.1d">italic_C</annotation></semantics></math> is the concentrate of the titles or the first few sentences from each document <math alttext="d^{(i)}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px2.p1.7.m2.1"><semantics id="S3.SS0.SSS0.Px2.p1.7.m2.1a"><msup id="S3.SS0.SSS0.Px2.p1.7.m2.1.2" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.2.cmml"><mi id="S3.SS0.SSS0.Px2.p1.7.m2.1.2.2" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.2.2.cmml">d</mi><mrow id="S3.SS0.SSS0.Px2.p1.7.m2.1.1.1.3" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.2.cmml"><mo id="S3.SS0.SSS0.Px2.p1.7.m2.1.1.1.3.1" stretchy="false" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.2.cmml">(</mo><mi id="S3.SS0.SSS0.Px2.p1.7.m2.1.1.1.1" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.1.1.1.cmml">i</mi><mo id="S3.SS0.SSS0.Px2.p1.7.m2.1.1.1.3.2" stretchy="false" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px2.p1.7.m2.1b"><apply id="S3.SS0.SSS0.Px2.p1.7.m2.1.2.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px2.p1.7.m2.1.2.1.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.2">superscript</csymbol><ci id="S3.SS0.SSS0.Px2.p1.7.m2.1.2.2.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.2.2">𝑑</ci><ci id="S3.SS0.SSS0.Px2.p1.7.m2.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px2.p1.7.m2.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px2.p1.7.m2.1c">d^{(i)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px2.p1.7.m2.1d">italic_d start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT</annotation></semantics></math>.
In our work, there are five candidate structure types for five kinds of knowledge-intensive tasks: table for statistical tasks, graph for long-chain tasks, algorithm for planning tasks, catalogue for summarizing tasks, and chunk for simple single-hop tasks.
Considering the core effect of the router in the overall framework, our work designs a DPO-based training method to develop a router that excels in knowledge type decision, which is detailed in Section <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S4" title="4 Hybrid Structure Router Training ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS0.SSS0.Px3">
<h5 class="ltx_title ltx_title_paragraph">Scattered Knowledge Structurizer.</h5>
<div class="ltx_para ltx_noindent" id="S3.SS0.SSS0.Px3.p1">
<p class="ltx_p" id="S3.SS0.SSS0.Px3.p1.6">After identifying the most suitable structure type, StructRAG extracts the textual knowledge scattered across raw documents and reconstructs it into structured knowledge.
This process requires a comprehensive understanding of all raw documents and and precise formatting of the information, making it a challenging and flexible problem.
Therefore, StructRAG employs an LLM-based scattered knowledge structurizer to facilitate the structurization process.
Specifically, as shown in Eq. <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S3.E3" title="In Scattered Knowledge Structurizer. ‣ 3 StructRAG via Hybrid Information Structurization ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">3</span></a> the structurizer <math alttext="\mathcal{S}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px3.p1.1.m1.1"><semantics id="S3.SS0.SSS0.Px3.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px3.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.1.m1.1b"><ci id="S3.SS0.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.1.m1.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.1.m1.1c">\mathcal{S}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px3.p1.1.m1.1d">caligraphic_S</annotation></semantics></math> takes the question <math alttext="q" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px3.p1.2.m2.1"><semantics id="S3.SS0.SSS0.Px3.p1.2.m2.1a"><mi id="S3.SS0.SSS0.Px3.p1.2.m2.1.1" xref="S3.SS0.SSS0.Px3.p1.2.m2.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.2.m2.1b"><ci id="S3.SS0.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.2.m2.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.2.m2.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px3.p1.2.m2.1d">italic_q</annotation></semantics></math>, the selected type <math alttext="t" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px3.p1.3.m3.1"><semantics id="S3.SS0.SSS0.Px3.p1.3.m3.1a"><mi id="S3.SS0.SSS0.Px3.p1.3.m3.1.1" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.3.m3.1b"><ci id="S3.SS0.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.3.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px3.p1.3.m3.1d">italic_t</annotation></semantics></math>, and each raw document <math alttext="d^{(i)}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px3.p1.4.m4.1"><semantics id="S3.SS0.SSS0.Px3.p1.4.m4.1a"><msup id="S3.SS0.SSS0.Px3.p1.4.m4.1.2" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.2.cmml"><mi id="S3.SS0.SSS0.Px3.p1.4.m4.1.2.2" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.2.2.cmml">d</mi><mrow id="S3.SS0.SSS0.Px3.p1.4.m4.1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.2.cmml"><mo id="S3.SS0.SSS0.Px3.p1.4.m4.1.1.1.3.1" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.2.cmml">(</mo><mi id="S3.SS0.SSS0.Px3.p1.4.m4.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.1.1.1.cmml">i</mi><mo id="S3.SS0.SSS0.Px3.p1.4.m4.1.1.1.3.2" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.4.m4.1b"><apply id="S3.SS0.SSS0.Px3.p1.4.m4.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.4.m4.1.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.2">superscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.4.m4.1.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.2.2">𝑑</ci><ci id="S3.SS0.SSS0.Px3.p1.4.m4.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.4.m4.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.4.m4.1c">d^{(i)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px3.p1.4.m4.1d">italic_d start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT</annotation></semantics></math> as input, and extract the structured knowledge <math alttext="k_{t}^{(i)}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px3.p1.5.m5.1"><semantics id="S3.SS0.SSS0.Px3.p1.5.m5.1a"><msubsup id="S3.SS0.SSS0.Px3.p1.5.m5.1.2" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2.cmml"><mi id="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.2" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.2.cmml">k</mi><mi id="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.3" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.3.cmml">t</mi><mrow id="S3.SS0.SSS0.Px3.p1.5.m5.1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2.cmml"><mo id="S3.SS0.SSS0.Px3.p1.5.m5.1.1.1.3.1" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2.cmml">(</mo><mi id="S3.SS0.SSS0.Px3.p1.5.m5.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.1.1.1.cmml">i</mi><mo id="S3.SS0.SSS0.Px3.p1.5.m5.1.1.1.3.2" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.5.m5.1b"><apply id="S3.SS0.SSS0.Px3.p1.5.m5.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.5.m5.1.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2">superscript</csymbol><apply id="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2">subscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.2">𝑘</ci><ci id="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.3.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.2.2.3">𝑡</ci></apply><ci id="S3.SS0.SSS0.Px3.p1.5.m5.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.5.m5.1.1.1.1">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.5.m5.1c">k_{t}^{(i)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px3.p1.5.m5.1d">italic_k start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT</annotation></semantics></math> from the document via the powerful understanding and generation ability of LLMs.
In addition, a description of the structured knowledge <math alttext="k_{t}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px3.p1.6.m6.1"><semantics id="S3.SS0.SSS0.Px3.p1.6.m6.1a"><msub id="S3.SS0.SSS0.Px3.p1.6.m6.1.1" xref="S3.SS0.SSS0.Px3.p1.6.m6.1.1.cmml"><mi id="S3.SS0.SSS0.Px3.p1.6.m6.1.1.2" xref="S3.SS0.SSS0.Px3.p1.6.m6.1.1.2.cmml">k</mi><mi id="S3.SS0.SSS0.Px3.p1.6.m6.1.1.3" xref="S3.SS0.SSS0.Px3.p1.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.6.m6.1b"><apply id="S3.SS0.SSS0.Px3.p1.6.m6.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.6.m6.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.6.m6.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.6.m6.1.1.2">𝑘</ci><ci id="S3.SS0.SSS0.Px3.p1.6.m6.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.6.m6.1c">k_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px3.p1.6.m6.1d">italic_k start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is also generated.</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="k^{(i)}_{t},b^{(i)}_{t}=\mathcal{S}(q,t,d^{(i)})" class="ltx_Math" display="block" id="S3.E3.m1.8"><semantics id="S3.E3.m1.8a"><mrow id="S3.E3.m1.8.8" xref="S3.E3.m1.8.8.cmml"><mrow id="S3.E3.m1.7.7.2.2" xref="S3.E3.m1.7.7.2.3.cmml"><msubsup id="S3.E3.m1.6.6.1.1.1" xref="S3.E3.m1.6.6.1.1.1.cmml"><mi id="S3.E3.m1.6.6.1.1.1.2.2" xref="S3.E3.m1.6.6.1.1.1.2.2.cmml">k</mi><mi id="S3.E3.m1.6.6.1.1.1.3" xref="S3.E3.m1.6.6.1.1.1.3.cmml">t</mi><mrow id="S3.E3.m1.1.1.1.3" xref="S3.E3.m1.6.6.1.1.1.cmml"><mo id="S3.E3.m1.1.1.1.3.1" stretchy="false" xref="S3.E3.m1.6.6.1.1.1.cmml">(</mo><mi id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">i</mi><mo id="S3.E3.m1.1.1.1.3.2" stretchy="false" xref="S3.E3.m1.6.6.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.E3.m1.7.7.2.2.3" xref="S3.E3.m1.7.7.2.3.cmml">,</mo><msubsup id="S3.E3.m1.7.7.2.2.2" xref="S3.E3.m1.7.7.2.2.2.cmml"><mi id="S3.E3.m1.7.7.2.2.2.2.2" xref="S3.E3.m1.7.7.2.2.2.2.2.cmml">b</mi><mi id="S3.E3.m1.7.7.2.2.2.3" xref="S3.E3.m1.7.7.2.2.2.3.cmml">t</mi><mrow id="S3.E3.m1.2.2.1.3" xref="S3.E3.m1.7.7.2.2.2.cmml"><mo id="S3.E3.m1.2.2.1.3.1" stretchy="false" xref="S3.E3.m1.7.7.2.2.2.cmml">(</mo><mi id="S3.E3.m1.2.2.1.1" xref="S3.E3.m1.2.2.1.1.cmml">i</mi><mo id="S3.E3.m1.2.2.1.3.2" stretchy="false" xref="S3.E3.m1.7.7.2.2.2.cmml">)</mo></mrow></msubsup></mrow><mo id="S3.E3.m1.8.8.4" xref="S3.E3.m1.8.8.4.cmml">=</mo><mrow id="S3.E3.m1.8.8.3" xref="S3.E3.m1.8.8.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.8.8.3.3" xref="S3.E3.m1.8.8.3.3.cmml">𝒮</mi><mo id="S3.E3.m1.8.8.3.2" xref="S3.E3.m1.8.8.3.2.cmml">⁢</mo><mrow id="S3.E3.m1.8.8.3.1.1" xref="S3.E3.m1.8.8.3.1.2.cmml"><mo id="S3.E3.m1.8.8.3.1.1.2" stretchy="false" xref="S3.E3.m1.8.8.3.1.2.cmml">(</mo><mi id="S3.E3.m1.4.4" xref="S3.E3.m1.4.4.cmml">q</mi><mo id="S3.E3.m1.8.8.3.1.1.3" xref="S3.E3.m1.8.8.3.1.2.cmml">,</mo><mi id="S3.E3.m1.5.5" xref="S3.E3.m1.5.5.cmml">t</mi><mo id="S3.E3.m1.8.8.3.1.1.4" xref="S3.E3.m1.8.8.3.1.2.cmml">,</mo><msup id="S3.E3.m1.8.8.3.1.1.1" xref="S3.E3.m1.8.8.3.1.1.1.cmml"><mi id="S3.E3.m1.8.8.3.1.1.1.2" xref="S3.E3.m1.8.8.3.1.1.1.2.cmml">d</mi><mrow id="S3.E3.m1.3.3.1.3" xref="S3.E3.m1.8.8.3.1.1.1.cmml"><mo id="S3.E3.m1.3.3.1.3.1" stretchy="false" xref="S3.E3.m1.8.8.3.1.1.1.cmml">(</mo><mi id="S3.E3.m1.3.3.1.1" xref="S3.E3.m1.3.3.1.1.cmml">i</mi><mo id="S3.E3.m1.3.3.1.3.2" stretchy="false" xref="S3.E3.m1.8.8.3.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.E3.m1.8.8.3.1.1.5" stretchy="false" xref="S3.E3.m1.8.8.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.8b"><apply id="S3.E3.m1.8.8.cmml" xref="S3.E3.m1.8.8"><eq id="S3.E3.m1.8.8.4.cmml" xref="S3.E3.m1.8.8.4"></eq><list id="S3.E3.m1.7.7.2.3.cmml" xref="S3.E3.m1.7.7.2.2"><apply id="S3.E3.m1.6.6.1.1.1.cmml" xref="S3.E3.m1.6.6.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.1.1.1.1.cmml" xref="S3.E3.m1.6.6.1.1.1">subscript</csymbol><apply id="S3.E3.m1.6.6.1.1.1.2.cmml" xref="S3.E3.m1.6.6.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.1.1.1.2.1.cmml" xref="S3.E3.m1.6.6.1.1.1">superscript</csymbol><ci id="S3.E3.m1.6.6.1.1.1.2.2.cmml" xref="S3.E3.m1.6.6.1.1.1.2.2">𝑘</ci><ci id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1">𝑖</ci></apply><ci id="S3.E3.m1.6.6.1.1.1.3.cmml" xref="S3.E3.m1.6.6.1.1.1.3">𝑡</ci></apply><apply id="S3.E3.m1.7.7.2.2.2.cmml" xref="S3.E3.m1.7.7.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.2.2.2.1.cmml" xref="S3.E3.m1.7.7.2.2.2">subscript</csymbol><apply id="S3.E3.m1.7.7.2.2.2.2.cmml" xref="S3.E3.m1.7.7.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.7.7.2.2.2.2.1.cmml" xref="S3.E3.m1.7.7.2.2.2">superscript</csymbol><ci id="S3.E3.m1.7.7.2.2.2.2.2.cmml" xref="S3.E3.m1.7.7.2.2.2.2.2">𝑏</ci><ci id="S3.E3.m1.2.2.1.1.cmml" xref="S3.E3.m1.2.2.1.1">𝑖</ci></apply><ci id="S3.E3.m1.7.7.2.2.2.3.cmml" xref="S3.E3.m1.7.7.2.2.2.3">𝑡</ci></apply></list><apply id="S3.E3.m1.8.8.3.cmml" xref="S3.E3.m1.8.8.3"><times id="S3.E3.m1.8.8.3.2.cmml" xref="S3.E3.m1.8.8.3.2"></times><ci id="S3.E3.m1.8.8.3.3.cmml" xref="S3.E3.m1.8.8.3.3">𝒮</ci><vector id="S3.E3.m1.8.8.3.1.2.cmml" xref="S3.E3.m1.8.8.3.1.1"><ci id="S3.E3.m1.4.4.cmml" xref="S3.E3.m1.4.4">𝑞</ci><ci id="S3.E3.m1.5.5.cmml" xref="S3.E3.m1.5.5">𝑡</ci><apply id="S3.E3.m1.8.8.3.1.1.1.cmml" xref="S3.E3.m1.8.8.3.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.8.8.3.1.1.1.1.cmml" xref="S3.E3.m1.8.8.3.1.1.1">superscript</csymbol><ci id="S3.E3.m1.8.8.3.1.1.1.2.cmml" xref="S3.E3.m1.8.8.3.1.1.1.2">𝑑</ci><ci id="S3.E3.m1.3.3.1.1.cmml" xref="S3.E3.m1.3.3.1.1">𝑖</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.8c">k^{(i)}_{t},b^{(i)}_{t}=\mathcal{S}(q,t,d^{(i)})</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.8d">italic_k start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_b start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = caligraphic_S ( italic_q , italic_t , italic_d start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS0.SSS0.Px3.p1.8">After that, all output structured knowledge will be collected as the overall one <math alttext="K_{t}=\{k^{(i)}_{t}\}_{i=1}^{m}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px3.p1.7.m1.2"><semantics id="S3.SS0.SSS0.Px3.p1.7.m1.2a"><mrow id="S3.SS0.SSS0.Px3.p1.7.m1.2.2" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.cmml"><msub id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.cmml"><mi id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.2" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.2.cmml">K</mi><mi id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.3" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.3.cmml">t</mi></msub><mo id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.2" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.2.cmml">=</mo><msubsup id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.cmml"><mrow id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.2.cmml"><mo id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.2" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.2.cmml">{</mo><msubsup id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.2.2" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.2.2.cmml">k</mi><mi id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.3.cmml">t</mi><mrow id="S3.SS0.SSS0.Px3.p1.7.m1.1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.cmml"><mo id="S3.SS0.SSS0.Px3.p1.7.m1.1.1.1.3.1" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.cmml">(</mo><mi id="S3.SS0.SSS0.Px3.p1.7.m1.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.7.m1.1.1.1.1.cmml">i</mi><mo id="S3.SS0.SSS0.Px3.p1.7.m1.1.1.1.3.2" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.3" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.cmml"><mi id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.2" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.2.cmml">i</mi><mo id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.1" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.1.cmml">=</mo><mn id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.3" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.3" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.3.cmml">m</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.7.m1.2b"><apply id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2"><eq id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.2"></eq><apply id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.1.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3">subscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.2">𝐾</ci><ci id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.3.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.3.3">𝑡</ci></apply><apply id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1">superscript</csymbol><apply id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1">subscript</csymbol><set id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1"><apply id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1">subscript</csymbol><apply id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.2.2">𝑘</ci><ci id="S3.SS0.SSS0.Px3.p1.7.m1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.1.1.1.1">𝑖</ci></apply><ci id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.1.1.1.3">𝑡</ci></apply></set><apply id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3"><eq id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.1.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.1"></eq><ci id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.2.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.2">𝑖</ci><cn id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.3.cmml" type="integer" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.1.3.3">1</cn></apply></apply><ci id="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.7.m1.2.2.1.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.7.m1.2c">K_{t}=\{k^{(i)}_{t}\}_{i=1}^{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px3.p1.7.m1.2d">italic_K start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = { italic_k start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT</annotation></semantics></math>, and the overall description of the whole structured knowledge is constructed as <math alttext="B_{t}=\{b^{(i)}_{t}\}_{i=1}^{m}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px3.p1.8.m2.2"><semantics id="S3.SS0.SSS0.Px3.p1.8.m2.2a"><mrow id="S3.SS0.SSS0.Px3.p1.8.m2.2.2" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.cmml"><msub id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.cmml"><mi id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.2" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.2.cmml">B</mi><mi id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.3" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.3.cmml">t</mi></msub><mo id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.2" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.2.cmml">=</mo><msubsup id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.cmml"><mrow id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.2.cmml"><mo id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.2" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.2.cmml">{</mo><msubsup id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.cmml"><mi id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.2.2" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.2.2.cmml">b</mi><mi id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.3.cmml">t</mi><mrow id="S3.SS0.SSS0.Px3.p1.8.m2.1.1.1.3" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.cmml"><mo id="S3.SS0.SSS0.Px3.p1.8.m2.1.1.1.3.1" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.cmml">(</mo><mi id="S3.SS0.SSS0.Px3.p1.8.m2.1.1.1.1" xref="S3.SS0.SSS0.Px3.p1.8.m2.1.1.1.1.cmml">i</mi><mo id="S3.SS0.SSS0.Px3.p1.8.m2.1.1.1.3.2" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.3" stretchy="false" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.cmml"><mi id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.2" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.2.cmml">i</mi><mo id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.1" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.1.cmml">=</mo><mn id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.3" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.3.cmml">1</mn></mrow><mi id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.3" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.3.cmml">m</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px3.p1.8.m2.2b"><apply id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2"><eq id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.2"></eq><apply id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.1.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3">subscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.2">𝐵</ci><ci id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.3.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.3.3">𝑡</ci></apply><apply id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1">superscript</csymbol><apply id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1">subscript</csymbol><set id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1"><apply id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1">subscript</csymbol><apply id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1">superscript</csymbol><ci id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.2.2">𝑏</ci><ci id="S3.SS0.SSS0.Px3.p1.8.m2.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.1.1.1.1">𝑖</ci></apply><ci id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.1.1.1.3">𝑡</ci></apply></set><apply id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3"><eq id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.1.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.1"></eq><ci id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.2.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.2">𝑖</ci><cn id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.3.cmml" type="integer" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.1.3.3">1</cn></apply></apply><ci id="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.3.cmml" xref="S3.SS0.SSS0.Px3.p1.8.m2.2.2.1.3">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px3.p1.8.m2.2c">B_{t}=\{b^{(i)}_{t}\}_{i=1}^{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px3.p1.8.m2.2d">italic_B start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = { italic_b start_POSTSUPERSCRIPT ( italic_i ) end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_m end_POSTSUPERSCRIPT</annotation></semantics></math>.
In term of detailed representation of each kind of structure, the table is by markdown, graph by in list of head-relationship-tail triplets, chunk is by regular text, algorithm is by pseudo code, and catalogue is by text with hierarchical number (e.g., <span class="ltx_text ltx_font_italic" id="S3.SS0.SSS0.Px3.p1.8.1">Section One, 1.1, 1.1.2</span>) as explicitly chapter identifier.</p>
</div>
</section>
<section class="ltx_paragraph" id="S3.SS0.SSS0.Px4">
<h5 class="ltx_title ltx_title_paragraph">Structured Knowledge Utilizer.</h5>
<div class="ltx_para ltx_noindent" id="S3.SS0.SSS0.Px4.p1">
<p class="ltx_p" id="S3.SS0.SSS0.Px4.p1.7">After obtaining the structured knowledge in its optimal type, StructRAG performs reasoning to answer the question.
Given that the question can be highly combinatorial, this may hinder the identification and use of relevant information in the structured knowledge. Therefore, StructRAG employs an LLM-based structured knowledge utilizer to facilitate question decomposition, precise knowledge extraction, and final answer inference.
Specifically, the decomposition process of the utilizer takes the original question <math alttext="q" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.1.m1.1"><semantics id="S3.SS0.SSS0.Px4.p1.1.m1.1a"><mi id="S3.SS0.SSS0.Px4.p1.1.m1.1.1" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.1.m1.1b"><ci id="S3.SS0.SSS0.Px4.p1.1.m1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.1.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.1.m1.1c">q</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.1.m1.1d">italic_q</annotation></semantics></math> and the overall description of structured knowledge <math alttext="B_{t}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.2.m2.1"><semantics id="S3.SS0.SSS0.Px4.p1.2.m2.1a"><msub id="S3.SS0.SSS0.Px4.p1.2.m2.1.1" xref="S3.SS0.SSS0.Px4.p1.2.m2.1.1.cmml"><mi id="S3.SS0.SSS0.Px4.p1.2.m2.1.1.2" xref="S3.SS0.SSS0.Px4.p1.2.m2.1.1.2.cmml">B</mi><mi id="S3.SS0.SSS0.Px4.p1.2.m2.1.1.3" xref="S3.SS0.SSS0.Px4.p1.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.2.m2.1b"><apply id="S3.SS0.SSS0.Px4.p1.2.m2.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.2.m2.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px4.p1.2.m2.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.2.m2.1.1.2">𝐵</ci><ci id="S3.SS0.SSS0.Px4.p1.2.m2.1.1.3.cmml" xref="S3.SS0.SSS0.Px4.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.2.m2.1c">B_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.2.m2.1d">italic_B start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> as input, breaking the question down into several simple and intuitive sub-questions <math alttext="\hat{q}^{(j)}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.3.m3.1"><semantics id="S3.SS0.SSS0.Px4.p1.3.m3.1a"><msup id="S3.SS0.SSS0.Px4.p1.3.m3.1.2" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.cmml"><mover accent="true" id="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.cmml"><mi id="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.2" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.2.cmml">q</mi><mo id="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.1" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.1.cmml">^</mo></mover><mrow id="S3.SS0.SSS0.Px4.p1.3.m3.1.1.1.3" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.cmml"><mo id="S3.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.1" stretchy="false" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.cmml">(</mo><mi id="S3.SS0.SSS0.Px4.p1.3.m3.1.1.1.1" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.cmml">j</mi><mo id="S3.SS0.SSS0.Px4.p1.3.m3.1.1.1.3.2" stretchy="false" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.3.m3.1b"><apply id="S3.SS0.SSS0.Px4.p1.3.m3.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.3.m3.1.2.1.cmml" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2">superscript</csymbol><apply id="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.cmml" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2"><ci id="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.1.cmml" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.1">^</ci><ci id="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.2.cmml" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.2.2.2">𝑞</ci></apply><ci id="S3.SS0.SSS0.Px4.p1.3.m3.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.3.m3.1.1.1.1">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.3.m3.1c">\hat{q}^{(j)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.3.m3.1d">over^ start_ARG italic_q end_ARG start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT</annotation></semantics></math>.
Next, the extraction process aims to find out precise knowledge <math alttext="\hat{k}^{(j)}_{t}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.4.m4.1"><semantics id="S3.SS0.SSS0.Px4.p1.4.m4.1a"><msubsup id="S3.SS0.SSS0.Px4.p1.4.m4.1.2" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.cmml"><mover accent="true" id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.cmml"><mi id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.2" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.2.cmml">k</mi><mo id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.1" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.1.cmml">^</mo></mover><mi id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.3" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.3.cmml">t</mi><mrow id="S3.SS0.SSS0.Px4.p1.4.m4.1.1.1.3" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.cmml"><mo id="S3.SS0.SSS0.Px4.p1.4.m4.1.1.1.3.1" stretchy="false" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.cmml">(</mo><mi id="S3.SS0.SSS0.Px4.p1.4.m4.1.1.1.1" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.1.1.1.cmml">j</mi><mo id="S3.SS0.SSS0.Px4.p1.4.m4.1.1.1.3.2" stretchy="false" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.cmml">)</mo></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.4.m4.1b"><apply id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.1.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2">subscript</csymbol><apply id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.1.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2">superscript</csymbol><apply id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2"><ci id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.1.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.1">^</ci><ci id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.2.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.2.2.2">𝑘</ci></apply><ci id="S3.SS0.SSS0.Px4.p1.4.m4.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.1.1.1">𝑗</ci></apply><ci id="S3.SS0.SSS0.Px4.p1.4.m4.1.2.3.cmml" xref="S3.SS0.SSS0.Px4.p1.4.m4.1.2.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.4.m4.1c">\hat{k}^{(j)}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.4.m4.1d">over^ start_ARG italic_k end_ARG start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> for each sub-question <math alttext="\hat{q}^{(j)}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.5.m5.1"><semantics id="S3.SS0.SSS0.Px4.p1.5.m5.1a"><msup id="S3.SS0.SSS0.Px4.p1.5.m5.1.2" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.cmml"><mover accent="true" id="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.cmml"><mi id="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.2" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.2.cmml">q</mi><mo id="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.1" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.1.cmml">^</mo></mover><mrow id="S3.SS0.SSS0.Px4.p1.5.m5.1.1.1.3" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.cmml"><mo id="S3.SS0.SSS0.Px4.p1.5.m5.1.1.1.3.1" stretchy="false" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.cmml">(</mo><mi id="S3.SS0.SSS0.Px4.p1.5.m5.1.1.1.1" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.1.1.1.cmml">j</mi><mo id="S3.SS0.SSS0.Px4.p1.5.m5.1.1.1.3.2" stretchy="false" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.cmml">)</mo></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.5.m5.1b"><apply id="S3.SS0.SSS0.Px4.p1.5.m5.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.5.m5.1.2.1.cmml" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2">superscript</csymbol><apply id="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.cmml" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2"><ci id="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.1.cmml" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.1">^</ci><ci id="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.2.cmml" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.2.2.2">𝑞</ci></apply><ci id="S3.SS0.SSS0.Px4.p1.5.m5.1.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.5.m5.1.1.1.1">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.5.m5.1c">\hat{q}^{(j)}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.5.m5.1d">over^ start_ARG italic_q end_ARG start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT</annotation></semantics></math> from the whole structured knowledge <math alttext="K_{t}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.6.m6.1"><semantics id="S3.SS0.SSS0.Px4.p1.6.m6.1a"><msub id="S3.SS0.SSS0.Px4.p1.6.m6.1.1" xref="S3.SS0.SSS0.Px4.p1.6.m6.1.1.cmml"><mi id="S3.SS0.SSS0.Px4.p1.6.m6.1.1.2" xref="S3.SS0.SSS0.Px4.p1.6.m6.1.1.2.cmml">K</mi><mi id="S3.SS0.SSS0.Px4.p1.6.m6.1.1.3" xref="S3.SS0.SSS0.Px4.p1.6.m6.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.6.m6.1b"><apply id="S3.SS0.SSS0.Px4.p1.6.m6.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.6.m6.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px4.p1.6.m6.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.6.m6.1.1.2">𝐾</ci><ci id="S3.SS0.SSS0.Px4.p1.6.m6.1.1.3.cmml" xref="S3.SS0.SSS0.Px4.p1.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.6.m6.1c">K_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.6.m6.1d">italic_K start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>.
Finally, the inference process integrates all the sub-questions and their extracted precise knowledge to generate a final answer <math alttext="a" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.7.m7.1"><semantics id="S3.SS0.SSS0.Px4.p1.7.m7.1a"><mi id="S3.SS0.SSS0.Px4.p1.7.m7.1.1" xref="S3.SS0.SSS0.Px4.p1.7.m7.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.7.m7.1b"><ci id="S3.SS0.SSS0.Px4.p1.7.m7.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.7.m7.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.7.m7.1c">a</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.7.m7.1d">italic_a</annotation></semantics></math>, which can be expressed as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\hat{Q}=\mathcal{U}_{\text{decompose}}(q,B_{t})=\{\hat{q}^{(j)}\}_{j=1}^{n}" class="ltx_Math" display="block" id="S3.E4.m1.4"><semantics id="S3.E4.m1.4a"><mrow id="S3.E4.m1.4.4" xref="S3.E4.m1.4.4.cmml"><mover accent="true" id="S3.E4.m1.4.4.4" xref="S3.E4.m1.4.4.4.cmml"><mi id="S3.E4.m1.4.4.4.2" xref="S3.E4.m1.4.4.4.2.cmml">Q</mi><mo id="S3.E4.m1.4.4.4.1" xref="S3.E4.m1.4.4.4.1.cmml">^</mo></mover><mo id="S3.E4.m1.4.4.5" xref="S3.E4.m1.4.4.5.cmml">=</mo><mrow id="S3.E4.m1.3.3.1" xref="S3.E4.m1.3.3.1.cmml"><msub id="S3.E4.m1.3.3.1.3" xref="S3.E4.m1.3.3.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.3.3.1.3.2" xref="S3.E4.m1.3.3.1.3.2.cmml">𝒰</mi><mtext id="S3.E4.m1.3.3.1.3.3" xref="S3.E4.m1.3.3.1.3.3a.cmml">decompose</mtext></msub><mo id="S3.E4.m1.3.3.1.2" xref="S3.E4.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E4.m1.3.3.1.1.1" xref="S3.E4.m1.3.3.1.1.2.cmml"><mo id="S3.E4.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E4.m1.3.3.1.1.2.cmml">(</mo><mi id="S3.E4.m1.2.2" xref="S3.E4.m1.2.2.cmml">q</mi><mo id="S3.E4.m1.3.3.1.1.1.3" xref="S3.E4.m1.3.3.1.1.2.cmml">,</mo><msub id="S3.E4.m1.3.3.1.1.1.1" xref="S3.E4.m1.3.3.1.1.1.1.cmml"><mi id="S3.E4.m1.3.3.1.1.1.1.2" xref="S3.E4.m1.3.3.1.1.1.1.2.cmml">B</mi><mi id="S3.E4.m1.3.3.1.1.1.1.3" xref="S3.E4.m1.3.3.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E4.m1.3.3.1.1.1.4" stretchy="false" xref="S3.E4.m1.3.3.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.4.4.6" xref="S3.E4.m1.4.4.6.cmml">=</mo><msubsup id="S3.E4.m1.4.4.2" xref="S3.E4.m1.4.4.2.cmml"><mrow id="S3.E4.m1.4.4.2.1.1.1" xref="S3.E4.m1.4.4.2.1.1.2.cmml"><mo id="S3.E4.m1.4.4.2.1.1.1.2" stretchy="false" xref="S3.E4.m1.4.4.2.1.1.2.cmml">{</mo><msup id="S3.E4.m1.4.4.2.1.1.1.1" xref="S3.E4.m1.4.4.2.1.1.1.1.cmml"><mover accent="true" id="S3.E4.m1.4.4.2.1.1.1.1.2" xref="S3.E4.m1.4.4.2.1.1.1.1.2.cmml"><mi id="S3.E4.m1.4.4.2.1.1.1.1.2.2" xref="S3.E4.m1.4.4.2.1.1.1.1.2.2.cmml">q</mi><mo id="S3.E4.m1.4.4.2.1.1.1.1.2.1" xref="S3.E4.m1.4.4.2.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S3.E4.m1.1.1.1.3" xref="S3.E4.m1.4.4.2.1.1.1.1.cmml"><mo id="S3.E4.m1.1.1.1.3.1" stretchy="false" xref="S3.E4.m1.4.4.2.1.1.1.1.cmml">(</mo><mi id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">j</mi><mo id="S3.E4.m1.1.1.1.3.2" stretchy="false" xref="S3.E4.m1.4.4.2.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.E4.m1.4.4.2.1.1.1.3" stretchy="false" xref="S3.E4.m1.4.4.2.1.1.2.cmml">}</mo></mrow><mrow id="S3.E4.m1.4.4.2.1.3" xref="S3.E4.m1.4.4.2.1.3.cmml"><mi id="S3.E4.m1.4.4.2.1.3.2" xref="S3.E4.m1.4.4.2.1.3.2.cmml">j</mi><mo id="S3.E4.m1.4.4.2.1.3.1" xref="S3.E4.m1.4.4.2.1.3.1.cmml">=</mo><mn id="S3.E4.m1.4.4.2.1.3.3" xref="S3.E4.m1.4.4.2.1.3.3.cmml">1</mn></mrow><mi id="S3.E4.m1.4.4.2.3" xref="S3.E4.m1.4.4.2.3.cmml">n</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.4b"><apply id="S3.E4.m1.4.4.cmml" xref="S3.E4.m1.4.4"><and id="S3.E4.m1.4.4a.cmml" xref="S3.E4.m1.4.4"></and><apply id="S3.E4.m1.4.4b.cmml" xref="S3.E4.m1.4.4"><eq id="S3.E4.m1.4.4.5.cmml" xref="S3.E4.m1.4.4.5"></eq><apply id="S3.E4.m1.4.4.4.cmml" xref="S3.E4.m1.4.4.4"><ci id="S3.E4.m1.4.4.4.1.cmml" xref="S3.E4.m1.4.4.4.1">^</ci><ci id="S3.E4.m1.4.4.4.2.cmml" xref="S3.E4.m1.4.4.4.2">𝑄</ci></apply><apply id="S3.E4.m1.3.3.1.cmml" xref="S3.E4.m1.3.3.1"><times id="S3.E4.m1.3.3.1.2.cmml" xref="S3.E4.m1.3.3.1.2"></times><apply id="S3.E4.m1.3.3.1.3.cmml" xref="S3.E4.m1.3.3.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.1.3.1.cmml" xref="S3.E4.m1.3.3.1.3">subscript</csymbol><ci id="S3.E4.m1.3.3.1.3.2.cmml" xref="S3.E4.m1.3.3.1.3.2">𝒰</ci><ci id="S3.E4.m1.3.3.1.3.3a.cmml" xref="S3.E4.m1.3.3.1.3.3"><mtext id="S3.E4.m1.3.3.1.3.3.cmml" mathsize="70%" xref="S3.E4.m1.3.3.1.3.3">decompose</mtext></ci></apply><interval closure="open" id="S3.E4.m1.3.3.1.1.2.cmml" xref="S3.E4.m1.3.3.1.1.1"><ci id="S3.E4.m1.2.2.cmml" xref="S3.E4.m1.2.2">𝑞</ci><apply id="S3.E4.m1.3.3.1.1.1.1.cmml" xref="S3.E4.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.1.1.1.1.1.cmml" xref="S3.E4.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.3.3.1.1.1.1.2.cmml" xref="S3.E4.m1.3.3.1.1.1.1.2">𝐵</ci><ci id="S3.E4.m1.3.3.1.1.1.1.3.cmml" xref="S3.E4.m1.3.3.1.1.1.1.3">𝑡</ci></apply></interval></apply></apply><apply id="S3.E4.m1.4.4c.cmml" xref="S3.E4.m1.4.4"><eq id="S3.E4.m1.4.4.6.cmml" xref="S3.E4.m1.4.4.6"></eq><share href="https://arxiv.org/html/2410.08815v1#S3.E4.m1.3.3.1.cmml" id="S3.E4.m1.4.4d.cmml" xref="S3.E4.m1.4.4"></share><apply id="S3.E4.m1.4.4.2.cmml" xref="S3.E4.m1.4.4.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.2.2.cmml" xref="S3.E4.m1.4.4.2">superscript</csymbol><apply id="S3.E4.m1.4.4.2.1.cmml" xref="S3.E4.m1.4.4.2"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.2.1.2.cmml" xref="S3.E4.m1.4.4.2">subscript</csymbol><set id="S3.E4.m1.4.4.2.1.1.2.cmml" xref="S3.E4.m1.4.4.2.1.1.1"><apply id="S3.E4.m1.4.4.2.1.1.1.1.cmml" xref="S3.E4.m1.4.4.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.4.4.2.1.1.1.1.1.cmml" xref="S3.E4.m1.4.4.2.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.4.4.2.1.1.1.1.2.cmml" xref="S3.E4.m1.4.4.2.1.1.1.1.2"><ci id="S3.E4.m1.4.4.2.1.1.1.1.2.1.cmml" xref="S3.E4.m1.4.4.2.1.1.1.1.2.1">^</ci><ci id="S3.E4.m1.4.4.2.1.1.1.1.2.2.cmml" xref="S3.E4.m1.4.4.2.1.1.1.1.2.2">𝑞</ci></apply><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑗</ci></apply></set><apply id="S3.E4.m1.4.4.2.1.3.cmml" xref="S3.E4.m1.4.4.2.1.3"><eq id="S3.E4.m1.4.4.2.1.3.1.cmml" xref="S3.E4.m1.4.4.2.1.3.1"></eq><ci id="S3.E4.m1.4.4.2.1.3.2.cmml" xref="S3.E4.m1.4.4.2.1.3.2">𝑗</ci><cn id="S3.E4.m1.4.4.2.1.3.3.cmml" type="integer" xref="S3.E4.m1.4.4.2.1.3.3">1</cn></apply></apply><ci id="S3.E4.m1.4.4.2.3.cmml" xref="S3.E4.m1.4.4.2.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.4c">\hat{Q}=\mathcal{U}_{\text{decompose}}(q,B_{t})=\{\hat{q}^{(j)}\}_{j=1}^{n}</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.4d">over^ start_ARG italic_Q end_ARG = caligraphic_U start_POSTSUBSCRIPT decompose end_POSTSUBSCRIPT ( italic_q , italic_B start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = { over^ start_ARG italic_q end_ARG start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\hat{K}_{t}=\{\mathcal{U}_{\text{extract}}(\hat{q}^{(j)},K_{t})\}_{j=1}^{n}=\{%
\hat{k}^{(j)}_{t}\}_{j=1}^{n}" class="ltx_Math" display="block" id="S3.E5.m1.4"><semantics id="S3.E5.m1.4a"><mrow id="S3.E5.m1.4.4" xref="S3.E5.m1.4.4.cmml"><msub id="S3.E5.m1.4.4.4" xref="S3.E5.m1.4.4.4.cmml"><mover accent="true" id="S3.E5.m1.4.4.4.2" xref="S3.E5.m1.4.4.4.2.cmml"><mi id="S3.E5.m1.4.4.4.2.2" xref="S3.E5.m1.4.4.4.2.2.cmml">K</mi><mo id="S3.E5.m1.4.4.4.2.1" xref="S3.E5.m1.4.4.4.2.1.cmml">^</mo></mover><mi id="S3.E5.m1.4.4.4.3" xref="S3.E5.m1.4.4.4.3.cmml">t</mi></msub><mo id="S3.E5.m1.4.4.5" xref="S3.E5.m1.4.4.5.cmml">=</mo><msubsup id="S3.E5.m1.3.3.1" xref="S3.E5.m1.3.3.1.cmml"><mrow id="S3.E5.m1.3.3.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.2.cmml"><mo id="S3.E5.m1.3.3.1.1.1.1.2" stretchy="false" xref="S3.E5.m1.3.3.1.1.1.2.cmml">{</mo><mrow id="S3.E5.m1.3.3.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.cmml"><msub id="S3.E5.m1.3.3.1.1.1.1.1.4" xref="S3.E5.m1.3.3.1.1.1.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.3.3.1.1.1.1.1.4.2" xref="S3.E5.m1.3.3.1.1.1.1.1.4.2.cmml">𝒰</mi><mtext id="S3.E5.m1.3.3.1.1.1.1.1.4.3" xref="S3.E5.m1.3.3.1.1.1.1.1.4.3a.cmml">extract</mtext></msub><mo id="S3.E5.m1.3.3.1.1.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S3.E5.m1.3.3.1.1.1.1.1.2.2" xref="S3.E5.m1.3.3.1.1.1.1.1.2.3.cmml"><mo id="S3.E5.m1.3.3.1.1.1.1.1.2.2.3" stretchy="false" xref="S3.E5.m1.3.3.1.1.1.1.1.2.3.cmml">(</mo><msup id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml">q</mi><mo id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.1" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S3.E5.m1.1.1.1.3" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml"><mo id="S3.E5.m1.1.1.1.3.1" stretchy="false" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">j</mi><mo id="S3.E5.m1.1.1.1.3.2" stretchy="false" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S3.E5.m1.3.3.1.1.1.1.1.2.2.4" xref="S3.E5.m1.3.3.1.1.1.1.1.2.3.cmml">,</mo><msub id="S3.E5.m1.3.3.1.1.1.1.1.2.2.2" xref="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.cmml"><mi id="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.2" xref="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.2.cmml">K</mi><mi id="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.3" xref="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.3.cmml">t</mi></msub><mo id="S3.E5.m1.3.3.1.1.1.1.1.2.2.5" stretchy="false" xref="S3.E5.m1.3.3.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.3.3.1.1.1.1.3" stretchy="false" xref="S3.E5.m1.3.3.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.E5.m1.3.3.1.1.3" xref="S3.E5.m1.3.3.1.1.3.cmml"><mi id="S3.E5.m1.3.3.1.1.3.2" xref="S3.E5.m1.3.3.1.1.3.2.cmml">j</mi><mo id="S3.E5.m1.3.3.1.1.3.1" xref="S3.E5.m1.3.3.1.1.3.1.cmml">=</mo><mn id="S3.E5.m1.3.3.1.1.3.3" xref="S3.E5.m1.3.3.1.1.3.3.cmml">1</mn></mrow><mi id="S3.E5.m1.3.3.1.3" xref="S3.E5.m1.3.3.1.3.cmml">n</mi></msubsup><mo id="S3.E5.m1.4.4.6" xref="S3.E5.m1.4.4.6.cmml">=</mo><msubsup id="S3.E5.m1.4.4.2" xref="S3.E5.m1.4.4.2.cmml"><mrow id="S3.E5.m1.4.4.2.1.1.1" xref="S3.E5.m1.4.4.2.1.1.2.cmml"><mo id="S3.E5.m1.4.4.2.1.1.1.2" stretchy="false" xref="S3.E5.m1.4.4.2.1.1.2.cmml">{</mo><msubsup id="S3.E5.m1.4.4.2.1.1.1.1" xref="S3.E5.m1.4.4.2.1.1.1.1.cmml"><mover accent="true" id="S3.E5.m1.4.4.2.1.1.1.1.2.2" xref="S3.E5.m1.4.4.2.1.1.1.1.2.2.cmml"><mi id="S3.E5.m1.4.4.2.1.1.1.1.2.2.2" xref="S3.E5.m1.4.4.2.1.1.1.1.2.2.2.cmml">k</mi><mo id="S3.E5.m1.4.4.2.1.1.1.1.2.2.1" xref="S3.E5.m1.4.4.2.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.E5.m1.4.4.2.1.1.1.1.3" xref="S3.E5.m1.4.4.2.1.1.1.1.3.cmml">t</mi><mrow id="S3.E5.m1.2.2.1.3" xref="S3.E5.m1.4.4.2.1.1.1.1.cmml"><mo id="S3.E5.m1.2.2.1.3.1" stretchy="false" xref="S3.E5.m1.4.4.2.1.1.1.1.cmml">(</mo><mi id="S3.E5.m1.2.2.1.1" xref="S3.E5.m1.2.2.1.1.cmml">j</mi><mo id="S3.E5.m1.2.2.1.3.2" stretchy="false" xref="S3.E5.m1.4.4.2.1.1.1.1.cmml">)</mo></mrow></msubsup><mo id="S3.E5.m1.4.4.2.1.1.1.3" stretchy="false" xref="S3.E5.m1.4.4.2.1.1.2.cmml">}</mo></mrow><mrow id="S3.E5.m1.4.4.2.1.3" xref="S3.E5.m1.4.4.2.1.3.cmml"><mi id="S3.E5.m1.4.4.2.1.3.2" xref="S3.E5.m1.4.4.2.1.3.2.cmml">j</mi><mo id="S3.E5.m1.4.4.2.1.3.1" xref="S3.E5.m1.4.4.2.1.3.1.cmml">=</mo><mn id="S3.E5.m1.4.4.2.1.3.3" xref="S3.E5.m1.4.4.2.1.3.3.cmml">1</mn></mrow><mi id="S3.E5.m1.4.4.2.3" xref="S3.E5.m1.4.4.2.3.cmml">n</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.4b"><apply id="S3.E5.m1.4.4.cmml" xref="S3.E5.m1.4.4"><and id="S3.E5.m1.4.4a.cmml" xref="S3.E5.m1.4.4"></and><apply id="S3.E5.m1.4.4b.cmml" xref="S3.E5.m1.4.4"><eq id="S3.E5.m1.4.4.5.cmml" xref="S3.E5.m1.4.4.5"></eq><apply id="S3.E5.m1.4.4.4.cmml" xref="S3.E5.m1.4.4.4"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.4.1.cmml" xref="S3.E5.m1.4.4.4">subscript</csymbol><apply id="S3.E5.m1.4.4.4.2.cmml" xref="S3.E5.m1.4.4.4.2"><ci id="S3.E5.m1.4.4.4.2.1.cmml" xref="S3.E5.m1.4.4.4.2.1">^</ci><ci id="S3.E5.m1.4.4.4.2.2.cmml" xref="S3.E5.m1.4.4.4.2.2">𝐾</ci></apply><ci id="S3.E5.m1.4.4.4.3.cmml" xref="S3.E5.m1.4.4.4.3">𝑡</ci></apply><apply id="S3.E5.m1.3.3.1.cmml" xref="S3.E5.m1.3.3.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.2.cmml" xref="S3.E5.m1.3.3.1">superscript</csymbol><apply id="S3.E5.m1.3.3.1.1.cmml" xref="S3.E5.m1.3.3.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.2.cmml" xref="S3.E5.m1.3.3.1">subscript</csymbol><set id="S3.E5.m1.3.3.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1"><apply id="S3.E5.m1.3.3.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1"><times id="S3.E5.m1.3.3.1.1.1.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.3"></times><apply id="S3.E5.m1.3.3.1.1.1.1.1.4.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.1.4.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.4">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.1.1.1.4.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.4.2">𝒰</ci><ci id="S3.E5.m1.3.3.1.1.1.1.1.4.3a.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.4.3"><mtext id="S3.E5.m1.3.3.1.1.1.1.1.4.3.cmml" mathsize="70%" xref="S3.E5.m1.3.3.1.1.1.1.1.4.3">extract</mtext></ci></apply><interval closure="open" id="S3.E5.m1.3.3.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.2.2"><apply id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2"><ci id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.1">^</ci><ci id="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.1.1.1.2.2">𝑞</ci></apply><ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">𝑗</ci></apply><apply id="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.1.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.2.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.2">𝐾</ci><ci id="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.3.cmml" xref="S3.E5.m1.3.3.1.1.1.1.1.2.2.2.3">𝑡</ci></apply></interval></apply></set><apply id="S3.E5.m1.3.3.1.1.3.cmml" xref="S3.E5.m1.3.3.1.1.3"><eq id="S3.E5.m1.3.3.1.1.3.1.cmml" xref="S3.E5.m1.3.3.1.1.3.1"></eq><ci id="S3.E5.m1.3.3.1.1.3.2.cmml" xref="S3.E5.m1.3.3.1.1.3.2">𝑗</ci><cn id="S3.E5.m1.3.3.1.1.3.3.cmml" type="integer" xref="S3.E5.m1.3.3.1.1.3.3">1</cn></apply></apply><ci id="S3.E5.m1.3.3.1.3.cmml" xref="S3.E5.m1.3.3.1.3">𝑛</ci></apply></apply><apply id="S3.E5.m1.4.4c.cmml" xref="S3.E5.m1.4.4"><eq id="S3.E5.m1.4.4.6.cmml" xref="S3.E5.m1.4.4.6"></eq><share href="https://arxiv.org/html/2410.08815v1#S3.E5.m1.3.3.1.cmml" id="S3.E5.m1.4.4d.cmml" xref="S3.E5.m1.4.4"></share><apply id="S3.E5.m1.4.4.2.cmml" xref="S3.E5.m1.4.4.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.2.2.cmml" xref="S3.E5.m1.4.4.2">superscript</csymbol><apply id="S3.E5.m1.4.4.2.1.cmml" xref="S3.E5.m1.4.4.2"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.2.1.2.cmml" xref="S3.E5.m1.4.4.2">subscript</csymbol><set id="S3.E5.m1.4.4.2.1.1.2.cmml" xref="S3.E5.m1.4.4.2.1.1.1"><apply id="S3.E5.m1.4.4.2.1.1.1.1.cmml" xref="S3.E5.m1.4.4.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.2.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.2.1.1.1.1">subscript</csymbol><apply id="S3.E5.m1.4.4.2.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.2.1.1.1.1.2.1.cmml" xref="S3.E5.m1.4.4.2.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.4.4.2.1.1.1.1.2.2.cmml" xref="S3.E5.m1.4.4.2.1.1.1.1.2.2"><ci id="S3.E5.m1.4.4.2.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.4.4.2.1.1.1.1.2.2.1">^</ci><ci id="S3.E5.m1.4.4.2.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.4.4.2.1.1.1.1.2.2.2">𝑘</ci></apply><ci id="S3.E5.m1.2.2.1.1.cmml" xref="S3.E5.m1.2.2.1.1">𝑗</ci></apply><ci id="S3.E5.m1.4.4.2.1.1.1.1.3.cmml" xref="S3.E5.m1.4.4.2.1.1.1.1.3">𝑡</ci></apply></set><apply id="S3.E5.m1.4.4.2.1.3.cmml" xref="S3.E5.m1.4.4.2.1.3"><eq id="S3.E5.m1.4.4.2.1.3.1.cmml" xref="S3.E5.m1.4.4.2.1.3.1"></eq><ci id="S3.E5.m1.4.4.2.1.3.2.cmml" xref="S3.E5.m1.4.4.2.1.3.2">𝑗</ci><cn id="S3.E5.m1.4.4.2.1.3.3.cmml" type="integer" xref="S3.E5.m1.4.4.2.1.3.3">1</cn></apply></apply><ci id="S3.E5.m1.4.4.2.3.cmml" xref="S3.E5.m1.4.4.2.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.4c">\hat{K}_{t}=\{\mathcal{U}_{\text{extract}}(\hat{q}^{(j)},K_{t})\}_{j=1}^{n}=\{%
\hat{k}^{(j)}_{t}\}_{j=1}^{n}</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.4d">over^ start_ARG italic_K end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = { caligraphic_U start_POSTSUBSCRIPT extract end_POSTSUBSCRIPT ( over^ start_ARG italic_q end_ARG start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT , italic_K start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT = { over^ start_ARG italic_k end_ARG start_POSTSUPERSCRIPT ( italic_j ) end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="a=\mathcal{U}_{\text{infer}}(q,\hat{Q},\hat{K}_{t})" class="ltx_Math" display="block" id="S3.E6.m1.3"><semantics id="S3.E6.m1.3a"><mrow id="S3.E6.m1.3.3" xref="S3.E6.m1.3.3.cmml"><mi id="S3.E6.m1.3.3.3" xref="S3.E6.m1.3.3.3.cmml">a</mi><mo id="S3.E6.m1.3.3.2" xref="S3.E6.m1.3.3.2.cmml">=</mo><mrow id="S3.E6.m1.3.3.1" xref="S3.E6.m1.3.3.1.cmml"><msub id="S3.E6.m1.3.3.1.3" xref="S3.E6.m1.3.3.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.3.3.1.3.2" xref="S3.E6.m1.3.3.1.3.2.cmml">𝒰</mi><mtext id="S3.E6.m1.3.3.1.3.3" xref="S3.E6.m1.3.3.1.3.3a.cmml">infer</mtext></msub><mo id="S3.E6.m1.3.3.1.2" xref="S3.E6.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.3.3.1.1.1" xref="S3.E6.m1.3.3.1.1.2.cmml"><mo id="S3.E6.m1.3.3.1.1.1.2" stretchy="false" xref="S3.E6.m1.3.3.1.1.2.cmml">(</mo><mi id="S3.E6.m1.1.1" xref="S3.E6.m1.1.1.cmml">q</mi><mo id="S3.E6.m1.3.3.1.1.1.3" xref="S3.E6.m1.3.3.1.1.2.cmml">,</mo><mover accent="true" id="S3.E6.m1.2.2" xref="S3.E6.m1.2.2.cmml"><mi id="S3.E6.m1.2.2.2" xref="S3.E6.m1.2.2.2.cmml">Q</mi><mo id="S3.E6.m1.2.2.1" xref="S3.E6.m1.2.2.1.cmml">^</mo></mover><mo id="S3.E6.m1.3.3.1.1.1.4" xref="S3.E6.m1.3.3.1.1.2.cmml">,</mo><msub id="S3.E6.m1.3.3.1.1.1.1" xref="S3.E6.m1.3.3.1.1.1.1.cmml"><mover accent="true" id="S3.E6.m1.3.3.1.1.1.1.2" xref="S3.E6.m1.3.3.1.1.1.1.2.cmml"><mi id="S3.E6.m1.3.3.1.1.1.1.2.2" xref="S3.E6.m1.3.3.1.1.1.1.2.2.cmml">K</mi><mo id="S3.E6.m1.3.3.1.1.1.1.2.1" xref="S3.E6.m1.3.3.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S3.E6.m1.3.3.1.1.1.1.3" xref="S3.E6.m1.3.3.1.1.1.1.3.cmml">t</mi></msub><mo id="S3.E6.m1.3.3.1.1.1.5" stretchy="false" xref="S3.E6.m1.3.3.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.3b"><apply id="S3.E6.m1.3.3.cmml" xref="S3.E6.m1.3.3"><eq id="S3.E6.m1.3.3.2.cmml" xref="S3.E6.m1.3.3.2"></eq><ci id="S3.E6.m1.3.3.3.cmml" xref="S3.E6.m1.3.3.3">𝑎</ci><apply id="S3.E6.m1.3.3.1.cmml" xref="S3.E6.m1.3.3.1"><times id="S3.E6.m1.3.3.1.2.cmml" xref="S3.E6.m1.3.3.1.2"></times><apply id="S3.E6.m1.3.3.1.3.cmml" xref="S3.E6.m1.3.3.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.3.1.cmml" xref="S3.E6.m1.3.3.1.3">subscript</csymbol><ci id="S3.E6.m1.3.3.1.3.2.cmml" xref="S3.E6.m1.3.3.1.3.2">𝒰</ci><ci id="S3.E6.m1.3.3.1.3.3a.cmml" xref="S3.E6.m1.3.3.1.3.3"><mtext id="S3.E6.m1.3.3.1.3.3.cmml" mathsize="70%" xref="S3.E6.m1.3.3.1.3.3">infer</mtext></ci></apply><vector id="S3.E6.m1.3.3.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1"><ci id="S3.E6.m1.1.1.cmml" xref="S3.E6.m1.1.1">𝑞</ci><apply id="S3.E6.m1.2.2.cmml" xref="S3.E6.m1.2.2"><ci id="S3.E6.m1.2.2.1.cmml" xref="S3.E6.m1.2.2.1">^</ci><ci id="S3.E6.m1.2.2.2.cmml" xref="S3.E6.m1.2.2.2">𝑄</ci></apply><apply id="S3.E6.m1.3.3.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.1.1.1.1.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1">subscript</csymbol><apply id="S3.E6.m1.3.3.1.1.1.1.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2"><ci id="S3.E6.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.1">^</ci><ci id="S3.E6.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E6.m1.3.3.1.1.1.1.2.2">𝐾</ci></apply><ci id="S3.E6.m1.3.3.1.1.1.1.3.cmml" xref="S3.E6.m1.3.3.1.1.1.1.3">𝑡</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.3c">a=\mathcal{U}_{\text{infer}}(q,\hat{Q},\hat{K}_{t})</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.3d">italic_a = caligraphic_U start_POSTSUBSCRIPT infer end_POSTSUBSCRIPT ( italic_q , over^ start_ARG italic_Q end_ARG , over^ start_ARG italic_K end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS0.SSS0.Px4.p1.13">where <math alttext="n" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.8.m1.1"><semantics id="S3.SS0.SSS0.Px4.p1.8.m1.1a"><mi id="S3.SS0.SSS0.Px4.p1.8.m1.1.1" xref="S3.SS0.SSS0.Px4.p1.8.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.8.m1.1b"><ci id="S3.SS0.SSS0.Px4.p1.8.m1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.8.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.8.m1.1c">n</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.8.m1.1d">italic_n</annotation></semantics></math> is number of sub-questions, <math alttext="\mathcal{\hat{Q}}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.9.m2.1"><semantics id="S3.SS0.SSS0.Px4.p1.9.m2.1a"><mover accent="true" id="S3.SS0.SSS0.Px4.p1.9.m2.1.1" xref="S3.SS0.SSS0.Px4.p1.9.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px4.p1.9.m2.1.1.2" xref="S3.SS0.SSS0.Px4.p1.9.m2.1.1.2.cmml">𝒬</mi><mo id="S3.SS0.SSS0.Px4.p1.9.m2.1.1.1" xref="S3.SS0.SSS0.Px4.p1.9.m2.1.1.1.cmml">^</mo></mover><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.9.m2.1b"><apply id="S3.SS0.SSS0.Px4.p1.9.m2.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.9.m2.1.1"><ci id="S3.SS0.SSS0.Px4.p1.9.m2.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.9.m2.1.1.1">^</ci><ci id="S3.SS0.SSS0.Px4.p1.9.m2.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.9.m2.1.1.2">𝒬</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.9.m2.1c">\mathcal{\hat{Q}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.9.m2.1d">over^ start_ARG caligraphic_Q end_ARG</annotation></semantics></math> is set of all sub-questions, <math alttext="\hat{K}_{t}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.10.m3.1"><semantics id="S3.SS0.SSS0.Px4.p1.10.m3.1a"><msub id="S3.SS0.SSS0.Px4.p1.10.m3.1.1" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.cmml"><mover accent="true" id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.cmml"><mi id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.2" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.2.cmml">K</mi><mo id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.1" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.3" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.10.m3.1b"><apply id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1">subscript</csymbol><apply id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2"><ci id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.1.cmml" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.1">^</ci><ci id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.2.cmml" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.2.2">𝐾</ci></apply><ci id="S3.SS0.SSS0.Px4.p1.10.m3.1.1.3.cmml" xref="S3.SS0.SSS0.Px4.p1.10.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.10.m3.1c">\hat{K}_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.10.m3.1d">over^ start_ARG italic_K end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is whole precise knowledge for all sub-questions, and <math alttext="\mathcal{U}_{\text{decompose}}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.11.m4.1"><semantics id="S3.SS0.SSS0.Px4.p1.11.m4.1a"><msub id="S3.SS0.SSS0.Px4.p1.11.m4.1.1" xref="S3.SS0.SSS0.Px4.p1.11.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px4.p1.11.m4.1.1.2" xref="S3.SS0.SSS0.Px4.p1.11.m4.1.1.2.cmml">𝒰</mi><mtext id="S3.SS0.SSS0.Px4.p1.11.m4.1.1.3" xref="S3.SS0.SSS0.Px4.p1.11.m4.1.1.3a.cmml">decompose</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.11.m4.1b"><apply id="S3.SS0.SSS0.Px4.p1.11.m4.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.11.m4.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.11.m4.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.11.m4.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px4.p1.11.m4.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.11.m4.1.1.2">𝒰</ci><ci id="S3.SS0.SSS0.Px4.p1.11.m4.1.1.3a.cmml" xref="S3.SS0.SSS0.Px4.p1.11.m4.1.1.3"><mtext id="S3.SS0.SSS0.Px4.p1.11.m4.1.1.3.cmml" mathsize="70%" xref="S3.SS0.SSS0.Px4.p1.11.m4.1.1.3">decompose</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.11.m4.1c">\mathcal{U}_{\text{decompose}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.11.m4.1d">caligraphic_U start_POSTSUBSCRIPT decompose end_POSTSUBSCRIPT</annotation></semantics></math>, <math alttext="\mathcal{U}_{\text{extract}}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.12.m5.1"><semantics id="S3.SS0.SSS0.Px4.p1.12.m5.1a"><msub id="S3.SS0.SSS0.Px4.p1.12.m5.1.1" xref="S3.SS0.SSS0.Px4.p1.12.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px4.p1.12.m5.1.1.2" xref="S3.SS0.SSS0.Px4.p1.12.m5.1.1.2.cmml">𝒰</mi><mtext id="S3.SS0.SSS0.Px4.p1.12.m5.1.1.3" xref="S3.SS0.SSS0.Px4.p1.12.m5.1.1.3a.cmml">extract</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.12.m5.1b"><apply id="S3.SS0.SSS0.Px4.p1.12.m5.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.12.m5.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.12.m5.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.12.m5.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px4.p1.12.m5.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.12.m5.1.1.2">𝒰</ci><ci id="S3.SS0.SSS0.Px4.p1.12.m5.1.1.3a.cmml" xref="S3.SS0.SSS0.Px4.p1.12.m5.1.1.3"><mtext id="S3.SS0.SSS0.Px4.p1.12.m5.1.1.3.cmml" mathsize="70%" xref="S3.SS0.SSS0.Px4.p1.12.m5.1.1.3">extract</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.12.m5.1c">\mathcal{U}_{\text{extract}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.12.m5.1d">caligraphic_U start_POSTSUBSCRIPT extract end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{U}_{\text{infer}}" class="ltx_Math" display="inline" id="S3.SS0.SSS0.Px4.p1.13.m6.1"><semantics id="S3.SS0.SSS0.Px4.p1.13.m6.1a"><msub id="S3.SS0.SSS0.Px4.p1.13.m6.1.1" xref="S3.SS0.SSS0.Px4.p1.13.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS0.SSS0.Px4.p1.13.m6.1.1.2" xref="S3.SS0.SSS0.Px4.p1.13.m6.1.1.2.cmml">𝒰</mi><mtext id="S3.SS0.SSS0.Px4.p1.13.m6.1.1.3" xref="S3.SS0.SSS0.Px4.p1.13.m6.1.1.3a.cmml">infer</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS0.SSS0.Px4.p1.13.m6.1b"><apply id="S3.SS0.SSS0.Px4.p1.13.m6.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.13.m6.1.1"><csymbol cd="ambiguous" id="S3.SS0.SSS0.Px4.p1.13.m6.1.1.1.cmml" xref="S3.SS0.SSS0.Px4.p1.13.m6.1.1">subscript</csymbol><ci id="S3.SS0.SSS0.Px4.p1.13.m6.1.1.2.cmml" xref="S3.SS0.SSS0.Px4.p1.13.m6.1.1.2">𝒰</ci><ci id="S3.SS0.SSS0.Px4.p1.13.m6.1.1.3a.cmml" xref="S3.SS0.SSS0.Px4.p1.13.m6.1.1.3"><mtext id="S3.SS0.SSS0.Px4.p1.13.m6.1.1.3.cmml" mathsize="70%" xref="S3.SS0.SSS0.Px4.p1.13.m6.1.1.3">infer</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS0.SSS0.Px4.p1.13.m6.1c">\mathcal{U}_{\text{infer}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS0.SSS0.Px4.p1.13.m6.1d">caligraphic_U start_POSTSUBSCRIPT infer end_POSTSUBSCRIPT</annotation></semantics></math> are process of decomposition, extraction and inference, respectively. More details about the utilizer are shown in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A1.SS3" title="A.3 Prompts of Structured Knowledge Utilizer ‣ Appendix A Prompts in StructRAG ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">A.3</span></a>.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Hybrid Structure Router Training</h2>
<div class="ltx_para ltx_noindent" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In the StructRAG framework described above, the core factor is accurately determining the most suitable structure type based on the input task, and the performance of the hybrid structure router directly influences the overall effectiveness of the framework.
Therefore, to achieve a high-performance router, we propose a training method to enhance the ability of LLMs in identifying the suitable structure type of knowledge.
Specifically, given the strong capabilities of reinforcement learning in decision-making scenarios, we train the router using the DPO algorithm, which achieves results similar to reinforcement learning while avoiding the need for additional reward models. Regarding training data, since there is no existing preference data for the optimal structure type selection task, we design a synthesizing-simulating-judging method to efficiently construct preference pairs for training. A detailed explanation is provided in the following paragraphs, along with examples and prompts in the Appendix <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A1.SS1" title="A.1 Prompts in Data Constructing ‣ Appendix A Prompts in StructRAG ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">A.1</span></a>.</p>
</div>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="162" id="S4.F2.g1" src="x2.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>The illustration of training data constructing. First use LLMs to synthesize knowledge-intensive tasks, and then simulate solutions by structured knowledge in different types, finally judge all possible solutions and get preference pairs about candidate structure types.</figcaption>
</figure>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Data Constructing.</h5>
<div class="ltx_para ltx_noindent" id="S4.SS0.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px1.p1.3">Due to the scarcity of training data for selecting the optimal structure type in the current NLP community, we employ a synthesizing-simulating-judging method to construct preference pairs for training the router.
Specifically, as illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S4.F2" title="Figure 2 ‣ 4 Hybrid Structure Router Training ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">2</span></a>, given several manually collected seed tasks that covering the possible structure types, we first use LLMs to synthesize a set of new tasks by the in-context learning method, where each task contains a question and core context for documents.
Then, for each synthetic task, LLMs is employed to simulate the process of addressing this task by structured knowledge in different types, thus getting different simulated solutions.
Finally, a LLM-based judge compares these simulated solutions for solving the task, generating preference pairs regarding the structure types.
Each constructed data entry includes a question, the core contents of documents, the chosen structure type, and the rejected structure type, as expressed as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="D_{\text{synthetic}}=\{q^{(k)},C^{(k)},t_{w}^{(k)},t_{l}^{(k)}\}_{k=1}^{N}" class="ltx_Math" display="block" id="S4.E7.m1.8"><semantics id="S4.E7.m1.8a"><mrow id="S4.E7.m1.8.8" xref="S4.E7.m1.8.8.cmml"><msub id="S4.E7.m1.8.8.6" xref="S4.E7.m1.8.8.6.cmml"><mi id="S4.E7.m1.8.8.6.2" xref="S4.E7.m1.8.8.6.2.cmml">D</mi><mtext id="S4.E7.m1.8.8.6.3" xref="S4.E7.m1.8.8.6.3a.cmml">synthetic</mtext></msub><mo id="S4.E7.m1.8.8.5" xref="S4.E7.m1.8.8.5.cmml">=</mo><msubsup id="S4.E7.m1.8.8.4" xref="S4.E7.m1.8.8.4.cmml"><mrow id="S4.E7.m1.8.8.4.4.4.4" xref="S4.E7.m1.8.8.4.4.4.5.cmml"><mo id="S4.E7.m1.8.8.4.4.4.4.5" stretchy="false" xref="S4.E7.m1.8.8.4.4.4.5.cmml">{</mo><msup id="S4.E7.m1.5.5.1.1.1.1.1" xref="S4.E7.m1.5.5.1.1.1.1.1.cmml"><mi id="S4.E7.m1.5.5.1.1.1.1.1.2" xref="S4.E7.m1.5.5.1.1.1.1.1.2.cmml">q</mi><mrow id="S4.E7.m1.1.1.1.3" xref="S4.E7.m1.5.5.1.1.1.1.1.cmml"><mo id="S4.E7.m1.1.1.1.3.1" stretchy="false" xref="S4.E7.m1.5.5.1.1.1.1.1.cmml">(</mo><mi id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml">k</mi><mo id="S4.E7.m1.1.1.1.3.2" stretchy="false" xref="S4.E7.m1.5.5.1.1.1.1.1.cmml">)</mo></mrow></msup><mo id="S4.E7.m1.8.8.4.4.4.4.6" xref="S4.E7.m1.8.8.4.4.4.5.cmml">,</mo><msup id="S4.E7.m1.6.6.2.2.2.2.2" xref="S4.E7.m1.6.6.2.2.2.2.2.cmml"><mi id="S4.E7.m1.6.6.2.2.2.2.2.2" xref="S4.E7.m1.6.6.2.2.2.2.2.2.cmml">C</mi><mrow id="S4.E7.m1.2.2.1.3" xref="S4.E7.m1.6.6.2.2.2.2.2.cmml"><mo id="S4.E7.m1.2.2.1.3.1" stretchy="false" xref="S4.E7.m1.6.6.2.2.2.2.2.cmml">(</mo><mi id="S4.E7.m1.2.2.1.1" xref="S4.E7.m1.2.2.1.1.cmml">k</mi><mo id="S4.E7.m1.2.2.1.3.2" stretchy="false" xref="S4.E7.m1.6.6.2.2.2.2.2.cmml">)</mo></mrow></msup><mo id="S4.E7.m1.8.8.4.4.4.4.7" xref="S4.E7.m1.8.8.4.4.4.5.cmml">,</mo><msubsup id="S4.E7.m1.7.7.3.3.3.3.3" xref="S4.E7.m1.7.7.3.3.3.3.3.cmml"><mi id="S4.E7.m1.7.7.3.3.3.3.3.2.2" xref="S4.E7.m1.7.7.3.3.3.3.3.2.2.cmml">t</mi><mi id="S4.E7.m1.7.7.3.3.3.3.3.2.3" xref="S4.E7.m1.7.7.3.3.3.3.3.2.3.cmml">w</mi><mrow id="S4.E7.m1.3.3.1.3" xref="S4.E7.m1.7.7.3.3.3.3.3.cmml"><mo id="S4.E7.m1.3.3.1.3.1" stretchy="false" xref="S4.E7.m1.7.7.3.3.3.3.3.cmml">(</mo><mi id="S4.E7.m1.3.3.1.1" xref="S4.E7.m1.3.3.1.1.cmml">k</mi><mo id="S4.E7.m1.3.3.1.3.2" stretchy="false" xref="S4.E7.m1.7.7.3.3.3.3.3.cmml">)</mo></mrow></msubsup><mo id="S4.E7.m1.8.8.4.4.4.4.8" xref="S4.E7.m1.8.8.4.4.4.5.cmml">,</mo><msubsup id="S4.E7.m1.8.8.4.4.4.4.4" xref="S4.E7.m1.8.8.4.4.4.4.4.cmml"><mi id="S4.E7.m1.8.8.4.4.4.4.4.2.2" xref="S4.E7.m1.8.8.4.4.4.4.4.2.2.cmml">t</mi><mi id="S4.E7.m1.8.8.4.4.4.4.4.2.3" xref="S4.E7.m1.8.8.4.4.4.4.4.2.3.cmml">l</mi><mrow id="S4.E7.m1.4.4.1.3" xref="S4.E7.m1.8.8.4.4.4.4.4.cmml"><mo id="S4.E7.m1.4.4.1.3.1" stretchy="false" xref="S4.E7.m1.8.8.4.4.4.4.4.cmml">(</mo><mi id="S4.E7.m1.4.4.1.1" xref="S4.E7.m1.4.4.1.1.cmml">k</mi><mo id="S4.E7.m1.4.4.1.3.2" stretchy="false" xref="S4.E7.m1.8.8.4.4.4.4.4.cmml">)</mo></mrow></msubsup><mo id="S4.E7.m1.8.8.4.4.4.4.9" stretchy="false" xref="S4.E7.m1.8.8.4.4.4.5.cmml">}</mo></mrow><mrow id="S4.E7.m1.8.8.4.4.6" xref="S4.E7.m1.8.8.4.4.6.cmml"><mi id="S4.E7.m1.8.8.4.4.6.2" xref="S4.E7.m1.8.8.4.4.6.2.cmml">k</mi><mo id="S4.E7.m1.8.8.4.4.6.1" xref="S4.E7.m1.8.8.4.4.6.1.cmml">=</mo><mn id="S4.E7.m1.8.8.4.4.6.3" xref="S4.E7.m1.8.8.4.4.6.3.cmml">1</mn></mrow><mi id="S4.E7.m1.8.8.4.6" xref="S4.E7.m1.8.8.4.6.cmml">N</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.8b"><apply id="S4.E7.m1.8.8.cmml" xref="S4.E7.m1.8.8"><eq id="S4.E7.m1.8.8.5.cmml" xref="S4.E7.m1.8.8.5"></eq><apply id="S4.E7.m1.8.8.6.cmml" xref="S4.E7.m1.8.8.6"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.6.1.cmml" xref="S4.E7.m1.8.8.6">subscript</csymbol><ci id="S4.E7.m1.8.8.6.2.cmml" xref="S4.E7.m1.8.8.6.2">𝐷</ci><ci id="S4.E7.m1.8.8.6.3a.cmml" xref="S4.E7.m1.8.8.6.3"><mtext id="S4.E7.m1.8.8.6.3.cmml" mathsize="70%" xref="S4.E7.m1.8.8.6.3">synthetic</mtext></ci></apply><apply id="S4.E7.m1.8.8.4.cmml" xref="S4.E7.m1.8.8.4"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.4.5.cmml" xref="S4.E7.m1.8.8.4">superscript</csymbol><apply id="S4.E7.m1.8.8.4.4.cmml" xref="S4.E7.m1.8.8.4"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.4.4.5.cmml" xref="S4.E7.m1.8.8.4">subscript</csymbol><set id="S4.E7.m1.8.8.4.4.4.5.cmml" xref="S4.E7.m1.8.8.4.4.4.4"><apply id="S4.E7.m1.5.5.1.1.1.1.1.cmml" xref="S4.E7.m1.5.5.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.5.5.1.1.1.1.1.1.cmml" xref="S4.E7.m1.5.5.1.1.1.1.1">superscript</csymbol><ci id="S4.E7.m1.5.5.1.1.1.1.1.2.cmml" xref="S4.E7.m1.5.5.1.1.1.1.1.2">𝑞</ci><ci id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1">𝑘</ci></apply><apply id="S4.E7.m1.6.6.2.2.2.2.2.cmml" xref="S4.E7.m1.6.6.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.6.6.2.2.2.2.2.1.cmml" xref="S4.E7.m1.6.6.2.2.2.2.2">superscript</csymbol><ci id="S4.E7.m1.6.6.2.2.2.2.2.2.cmml" xref="S4.E7.m1.6.6.2.2.2.2.2.2">𝐶</ci><ci id="S4.E7.m1.2.2.1.1.cmml" xref="S4.E7.m1.2.2.1.1">𝑘</ci></apply><apply id="S4.E7.m1.7.7.3.3.3.3.3.cmml" xref="S4.E7.m1.7.7.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.7.7.3.3.3.3.3.1.cmml" xref="S4.E7.m1.7.7.3.3.3.3.3">superscript</csymbol><apply id="S4.E7.m1.7.7.3.3.3.3.3.2.cmml" xref="S4.E7.m1.7.7.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.7.7.3.3.3.3.3.2.1.cmml" xref="S4.E7.m1.7.7.3.3.3.3.3">subscript</csymbol><ci id="S4.E7.m1.7.7.3.3.3.3.3.2.2.cmml" xref="S4.E7.m1.7.7.3.3.3.3.3.2.2">𝑡</ci><ci id="S4.E7.m1.7.7.3.3.3.3.3.2.3.cmml" xref="S4.E7.m1.7.7.3.3.3.3.3.2.3">𝑤</ci></apply><ci id="S4.E7.m1.3.3.1.1.cmml" xref="S4.E7.m1.3.3.1.1">𝑘</ci></apply><apply id="S4.E7.m1.8.8.4.4.4.4.4.cmml" xref="S4.E7.m1.8.8.4.4.4.4.4"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.4.4.4.4.4.1.cmml" xref="S4.E7.m1.8.8.4.4.4.4.4">superscript</csymbol><apply id="S4.E7.m1.8.8.4.4.4.4.4.2.cmml" xref="S4.E7.m1.8.8.4.4.4.4.4"><csymbol cd="ambiguous" id="S4.E7.m1.8.8.4.4.4.4.4.2.1.cmml" xref="S4.E7.m1.8.8.4.4.4.4.4">subscript</csymbol><ci id="S4.E7.m1.8.8.4.4.4.4.4.2.2.cmml" xref="S4.E7.m1.8.8.4.4.4.4.4.2.2">𝑡</ci><ci id="S4.E7.m1.8.8.4.4.4.4.4.2.3.cmml" xref="S4.E7.m1.8.8.4.4.4.4.4.2.3">𝑙</ci></apply><ci id="S4.E7.m1.4.4.1.1.cmml" xref="S4.E7.m1.4.4.1.1">𝑘</ci></apply></set><apply id="S4.E7.m1.8.8.4.4.6.cmml" xref="S4.E7.m1.8.8.4.4.6"><eq id="S4.E7.m1.8.8.4.4.6.1.cmml" xref="S4.E7.m1.8.8.4.4.6.1"></eq><ci id="S4.E7.m1.8.8.4.4.6.2.cmml" xref="S4.E7.m1.8.8.4.4.6.2">𝑘</ci><cn id="S4.E7.m1.8.8.4.4.6.3.cmml" type="integer" xref="S4.E7.m1.8.8.4.4.6.3">1</cn></apply></apply><ci id="S4.E7.m1.8.8.4.6.cmml" xref="S4.E7.m1.8.8.4.6">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.8c">D_{\text{synthetic}}=\{q^{(k)},C^{(k)},t_{w}^{(k)},t_{l}^{(k)}\}_{k=1}^{N}</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.8d">italic_D start_POSTSUBSCRIPT synthetic end_POSTSUBSCRIPT = { italic_q start_POSTSUPERSCRIPT ( italic_k ) end_POSTSUPERSCRIPT , italic_C start_POSTSUPERSCRIPT ( italic_k ) end_POSTSUPERSCRIPT , italic_t start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_k ) end_POSTSUPERSCRIPT , italic_t start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT start_POSTSUPERSCRIPT ( italic_k ) end_POSTSUPERSCRIPT } start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS0.SSS0.Px1.p1.2">where <math alttext="t_{w}" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px1.p1.1.m1.1"><semantics id="S4.SS0.SSS0.Px1.p1.1.m1.1a"><msub id="S4.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.cmml"><mi id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.2" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml">t</mi><mi id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.3" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml">w</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p1.1.m1.1b"><apply id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.2">𝑡</ci><ci id="S4.SS0.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S4.SS0.SSS0.Px1.p1.1.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p1.1.m1.1c">t_{w}</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px1.p1.1.m1.1d">italic_t start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="t_{l}" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px1.p1.2.m2.1"><semantics id="S4.SS0.SSS0.Px1.p1.2.m2.1a"><msub id="S4.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1.cmml"><mi id="S4.SS0.SSS0.Px1.p1.2.m2.1.1.2" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml">t</mi><mi id="S4.SS0.SSS0.Px1.p1.2.m2.1.1.3" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml">l</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px1.p1.2.m2.1b"><apply id="S4.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS0.SSS0.Px1.p1.2.m2.1.1.1.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS0.SSS0.Px1.p1.2.m2.1.1.2.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1.2">𝑡</ci><ci id="S4.SS0.SSS0.Px1.p1.2.m2.1.1.3.cmml" xref="S4.SS0.SSS0.Px1.p1.2.m2.1.1.3">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px1.p1.2.m2.1c">t_{l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px1.p1.2.m2.1d">italic_t start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT</annotation></semantics></math> are chosen structure type and rejected structure type, respectively. In addition, synthetic preference pairs include both English and Chinese data in order to improve the universality.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS0.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Preference Training.</h5>
<div class="ltx_para ltx_noindent" id="S4.SS0.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS0.SSS0.Px2.p1.4">Inspired by the success of using reinforcement learning to train LLMs for decision-making tasks, we employ the DPO algorithm to train the router module, which can get the same effectiveness as reinforcement learning without adding additional reward models.
Specifically, the input for training the router includes a question and the core contents of documents, and the output is one kind of structure type (e.g., “table”, “graph”).
As described in last paragraph, we simulate and construct a set of preference pairs for DPO training, which can be formulated as following:
</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\text{DPO}}(\pi_{\theta};\pi_{\text{ref}})=-\mathbb{E}_{(q,C,t_{w%
},t_{l})\sim D_{\text{synthetic}}}\left[\log\sigma\left(\beta\log\frac{\pi_{%
\theta}(t_{w}\mid q,C)}{\pi_{\text{ref}}(t_{w}\mid q,C)}-\beta\log\frac{\pi_{%
\theta}(t_{l}\mid q,C)}{\pi_{\text{ref}}(t_{l}\mid q,C)}\right)\right]" class="ltx_Math" display="block" id="S4.E8.m1.19"><semantics id="S4.E8.m1.19a"><mrow id="S4.E8.m1.19.19" xref="S4.E8.m1.19.19.cmml"><mrow id="S4.E8.m1.18.18.2" xref="S4.E8.m1.18.18.2.cmml"><msub id="S4.E8.m1.18.18.2.4" xref="S4.E8.m1.18.18.2.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E8.m1.18.18.2.4.2" xref="S4.E8.m1.18.18.2.4.2.cmml">ℒ</mi><mtext id="S4.E8.m1.18.18.2.4.3" xref="S4.E8.m1.18.18.2.4.3a.cmml">DPO</mtext></msub><mo id="S4.E8.m1.18.18.2.3" xref="S4.E8.m1.18.18.2.3.cmml">⁢</mo><mrow id="S4.E8.m1.18.18.2.2.2" xref="S4.E8.m1.18.18.2.2.3.cmml"><mo id="S4.E8.m1.18.18.2.2.2.3" stretchy="false" xref="S4.E8.m1.18.18.2.2.3.cmml">(</mo><msub id="S4.E8.m1.17.17.1.1.1.1" xref="S4.E8.m1.17.17.1.1.1.1.cmml"><mi id="S4.E8.m1.17.17.1.1.1.1.2" xref="S4.E8.m1.17.17.1.1.1.1.2.cmml">π</mi><mi id="S4.E8.m1.17.17.1.1.1.1.3" xref="S4.E8.m1.17.17.1.1.1.1.3.cmml">θ</mi></msub><mo id="S4.E8.m1.18.18.2.2.2.4" xref="S4.E8.m1.18.18.2.2.3.cmml">;</mo><msub id="S4.E8.m1.18.18.2.2.2.2" xref="S4.E8.m1.18.18.2.2.2.2.cmml"><mi id="S4.E8.m1.18.18.2.2.2.2.2" xref="S4.E8.m1.18.18.2.2.2.2.2.cmml">π</mi><mtext id="S4.E8.m1.18.18.2.2.2.2.3" xref="S4.E8.m1.18.18.2.2.2.2.3a.cmml">ref</mtext></msub><mo id="S4.E8.m1.18.18.2.2.2.5" stretchy="false" xref="S4.E8.m1.18.18.2.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E8.m1.19.19.4" xref="S4.E8.m1.19.19.4.cmml">=</mo><mrow id="S4.E8.m1.19.19.3" xref="S4.E8.m1.19.19.3.cmml"><mo id="S4.E8.m1.19.19.3a" xref="S4.E8.m1.19.19.3.cmml">−</mo><mrow id="S4.E8.m1.19.19.3.1" xref="S4.E8.m1.19.19.3.1.cmml"><msub id="S4.E8.m1.19.19.3.1.3" xref="S4.E8.m1.19.19.3.1.3.cmml"><mi id="S4.E8.m1.19.19.3.1.3.2" xref="S4.E8.m1.19.19.3.1.3.2.cmml">𝔼</mi><mrow id="S4.E8.m1.4.4.4" xref="S4.E8.m1.4.4.4.cmml"><mrow id="S4.E8.m1.4.4.4.4.2" xref="S4.E8.m1.4.4.4.4.3.cmml"><mo id="S4.E8.m1.4.4.4.4.2.3" stretchy="false" xref="S4.E8.m1.4.4.4.4.3.cmml">(</mo><mi id="S4.E8.m1.1.1.1.1" xref="S4.E8.m1.1.1.1.1.cmml">q</mi><mo id="S4.E8.m1.4.4.4.4.2.4" xref="S4.E8.m1.4.4.4.4.3.cmml">,</mo><mi id="S4.E8.m1.2.2.2.2" xref="S4.E8.m1.2.2.2.2.cmml">C</mi><mo id="S4.E8.m1.4.4.4.4.2.5" xref="S4.E8.m1.4.4.4.4.3.cmml">,</mo><msub id="S4.E8.m1.3.3.3.3.1.1" xref="S4.E8.m1.3.3.3.3.1.1.cmml"><mi id="S4.E8.m1.3.3.3.3.1.1.2" xref="S4.E8.m1.3.3.3.3.1.1.2.cmml">t</mi><mi id="S4.E8.m1.3.3.3.3.1.1.3" xref="S4.E8.m1.3.3.3.3.1.1.3.cmml">w</mi></msub><mo id="S4.E8.m1.4.4.4.4.2.6" xref="S4.E8.m1.4.4.4.4.3.cmml">,</mo><msub id="S4.E8.m1.4.4.4.4.2.2" xref="S4.E8.m1.4.4.4.4.2.2.cmml"><mi id="S4.E8.m1.4.4.4.4.2.2.2" xref="S4.E8.m1.4.4.4.4.2.2.2.cmml">t</mi><mi id="S4.E8.m1.4.4.4.4.2.2.3" xref="S4.E8.m1.4.4.4.4.2.2.3.cmml">l</mi></msub><mo id="S4.E8.m1.4.4.4.4.2.7" stretchy="false" xref="S4.E8.m1.4.4.4.4.3.cmml">)</mo></mrow><mo id="S4.E8.m1.4.4.4.5" xref="S4.E8.m1.4.4.4.5.cmml">∼</mo><msub id="S4.E8.m1.4.4.4.6" xref="S4.E8.m1.4.4.4.6.cmml"><mi id="S4.E8.m1.4.4.4.6.2" xref="S4.E8.m1.4.4.4.6.2.cmml">D</mi><mtext id="S4.E8.m1.4.4.4.6.3" xref="S4.E8.m1.4.4.4.6.3a.cmml">synthetic</mtext></msub></mrow></msub><mo id="S4.E8.m1.19.19.3.1.2" xref="S4.E8.m1.19.19.3.1.2.cmml">⁢</mo><mrow id="S4.E8.m1.19.19.3.1.1.1" xref="S4.E8.m1.19.19.3.1.1.2.cmml"><mo id="S4.E8.m1.19.19.3.1.1.1.2" xref="S4.E8.m1.19.19.3.1.1.2.1.cmml">[</mo><mrow id="S4.E8.m1.19.19.3.1.1.1.1" xref="S4.E8.m1.19.19.3.1.1.1.1.cmml"><mrow id="S4.E8.m1.19.19.3.1.1.1.1.3" xref="S4.E8.m1.19.19.3.1.1.1.1.3.cmml"><mi id="S4.E8.m1.19.19.3.1.1.1.1.3.1" xref="S4.E8.m1.19.19.3.1.1.1.1.3.1.cmml">log</mi><mo id="S4.E8.m1.19.19.3.1.1.1.1.3a" lspace="0.167em" xref="S4.E8.m1.19.19.3.1.1.1.1.3.cmml">⁡</mo><mi id="S4.E8.m1.19.19.3.1.1.1.1.3.2" xref="S4.E8.m1.19.19.3.1.1.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.E8.m1.19.19.3.1.1.1.1.2" xref="S4.E8.m1.19.19.3.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E8.m1.19.19.3.1.1.1.1.1.1" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.cmml"><mo id="S4.E8.m1.19.19.3.1.1.1.1.1.1.2" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.cmml"><mrow id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.cmml"><mi id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.2" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.2.cmml">β</mi><mo id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.1" lspace="0.167em" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3.cmml"><mi id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3.1" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3.1.cmml">log</mi><mo id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3a" lspace="0.167em" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3.cmml">⁡</mo><mfrac id="S4.E8.m1.10.10" xref="S4.E8.m1.10.10.cmml"><mrow id="S4.E8.m1.7.7.3" xref="S4.E8.m1.7.7.3.cmml"><msub id="S4.E8.m1.7.7.3.5" xref="S4.E8.m1.7.7.3.5.cmml"><mi id="S4.E8.m1.7.7.3.5.2" xref="S4.E8.m1.7.7.3.5.2.cmml">π</mi><mi id="S4.E8.m1.7.7.3.5.3" xref="S4.E8.m1.7.7.3.5.3.cmml">θ</mi></msub><mo id="S4.E8.m1.7.7.3.4" xref="S4.E8.m1.7.7.3.4.cmml">⁢</mo><mrow id="S4.E8.m1.7.7.3.3.1" xref="S4.E8.m1.7.7.3.3.1.1.cmml"><mo id="S4.E8.m1.7.7.3.3.1.2" stretchy="false" xref="S4.E8.m1.7.7.3.3.1.1.cmml">(</mo><mrow id="S4.E8.m1.7.7.3.3.1.1" xref="S4.E8.m1.7.7.3.3.1.1.cmml"><msub id="S4.E8.m1.7.7.3.3.1.1.2" xref="S4.E8.m1.7.7.3.3.1.1.2.cmml"><mi id="S4.E8.m1.7.7.3.3.1.1.2.2" xref="S4.E8.m1.7.7.3.3.1.1.2.2.cmml">t</mi><mi id="S4.E8.m1.7.7.3.3.1.1.2.3" xref="S4.E8.m1.7.7.3.3.1.1.2.3.cmml">w</mi></msub><mo id="S4.E8.m1.7.7.3.3.1.1.1" xref="S4.E8.m1.7.7.3.3.1.1.1.cmml">∣</mo><mrow id="S4.E8.m1.7.7.3.3.1.1.3.2" xref="S4.E8.m1.7.7.3.3.1.1.3.1.cmml"><mi id="S4.E8.m1.5.5.1.1" xref="S4.E8.m1.5.5.1.1.cmml">q</mi><mo id="S4.E8.m1.7.7.3.3.1.1.3.2.1" xref="S4.E8.m1.7.7.3.3.1.1.3.1.cmml">,</mo><mi id="S4.E8.m1.6.6.2.2" xref="S4.E8.m1.6.6.2.2.cmml">C</mi></mrow></mrow><mo id="S4.E8.m1.7.7.3.3.1.3" stretchy="false" xref="S4.E8.m1.7.7.3.3.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.E8.m1.10.10.6" xref="S4.E8.m1.10.10.6.cmml"><msub id="S4.E8.m1.10.10.6.5" xref="S4.E8.m1.10.10.6.5.cmml"><mi id="S4.E8.m1.10.10.6.5.2" xref="S4.E8.m1.10.10.6.5.2.cmml">π</mi><mtext id="S4.E8.m1.10.10.6.5.3" xref="S4.E8.m1.10.10.6.5.3a.cmml">ref</mtext></msub><mo id="S4.E8.m1.10.10.6.4" xref="S4.E8.m1.10.10.6.4.cmml">⁢</mo><mrow id="S4.E8.m1.10.10.6.3.1" xref="S4.E8.m1.10.10.6.3.1.1.cmml"><mo id="S4.E8.m1.10.10.6.3.1.2" stretchy="false" xref="S4.E8.m1.10.10.6.3.1.1.cmml">(</mo><mrow id="S4.E8.m1.10.10.6.3.1.1" xref="S4.E8.m1.10.10.6.3.1.1.cmml"><msub id="S4.E8.m1.10.10.6.3.1.1.2" xref="S4.E8.m1.10.10.6.3.1.1.2.cmml"><mi id="S4.E8.m1.10.10.6.3.1.1.2.2" xref="S4.E8.m1.10.10.6.3.1.1.2.2.cmml">t</mi><mi id="S4.E8.m1.10.10.6.3.1.1.2.3" xref="S4.E8.m1.10.10.6.3.1.1.2.3.cmml">w</mi></msub><mo id="S4.E8.m1.10.10.6.3.1.1.1" xref="S4.E8.m1.10.10.6.3.1.1.1.cmml">∣</mo><mrow id="S4.E8.m1.10.10.6.3.1.1.3.2" xref="S4.E8.m1.10.10.6.3.1.1.3.1.cmml"><mi id="S4.E8.m1.8.8.4.1" xref="S4.E8.m1.8.8.4.1.cmml">q</mi><mo id="S4.E8.m1.10.10.6.3.1.1.3.2.1" xref="S4.E8.m1.10.10.6.3.1.1.3.1.cmml">,</mo><mi id="S4.E8.m1.9.9.5.2" xref="S4.E8.m1.9.9.5.2.cmml">C</mi></mrow></mrow><mo id="S4.E8.m1.10.10.6.3.1.3" stretchy="false" xref="S4.E8.m1.10.10.6.3.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow><mo id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.1" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.2" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.2.cmml">β</mi><mo id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.1" lspace="0.167em" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3.cmml"><mi id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3.1" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3.1.cmml">log</mi><mo id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3a" lspace="0.167em" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3.cmml">⁡</mo><mfrac id="S4.E8.m1.16.16" xref="S4.E8.m1.16.16.cmml"><mrow id="S4.E8.m1.13.13.3" xref="S4.E8.m1.13.13.3.cmml"><msub id="S4.E8.m1.13.13.3.5" xref="S4.E8.m1.13.13.3.5.cmml"><mi id="S4.E8.m1.13.13.3.5.2" xref="S4.E8.m1.13.13.3.5.2.cmml">π</mi><mi id="S4.E8.m1.13.13.3.5.3" xref="S4.E8.m1.13.13.3.5.3.cmml">θ</mi></msub><mo id="S4.E8.m1.13.13.3.4" xref="S4.E8.m1.13.13.3.4.cmml">⁢</mo><mrow id="S4.E8.m1.13.13.3.3.1" xref="S4.E8.m1.13.13.3.3.1.1.cmml"><mo id="S4.E8.m1.13.13.3.3.1.2" stretchy="false" xref="S4.E8.m1.13.13.3.3.1.1.cmml">(</mo><mrow id="S4.E8.m1.13.13.3.3.1.1" xref="S4.E8.m1.13.13.3.3.1.1.cmml"><msub id="S4.E8.m1.13.13.3.3.1.1.2" xref="S4.E8.m1.13.13.3.3.1.1.2.cmml"><mi id="S4.E8.m1.13.13.3.3.1.1.2.2" xref="S4.E8.m1.13.13.3.3.1.1.2.2.cmml">t</mi><mi id="S4.E8.m1.13.13.3.3.1.1.2.3" xref="S4.E8.m1.13.13.3.3.1.1.2.3.cmml">l</mi></msub><mo id="S4.E8.m1.13.13.3.3.1.1.1" xref="S4.E8.m1.13.13.3.3.1.1.1.cmml">∣</mo><mrow id="S4.E8.m1.13.13.3.3.1.1.3.2" xref="S4.E8.m1.13.13.3.3.1.1.3.1.cmml"><mi id="S4.E8.m1.11.11.1.1" xref="S4.E8.m1.11.11.1.1.cmml">q</mi><mo id="S4.E8.m1.13.13.3.3.1.1.3.2.1" xref="S4.E8.m1.13.13.3.3.1.1.3.1.cmml">,</mo><mi id="S4.E8.m1.12.12.2.2" xref="S4.E8.m1.12.12.2.2.cmml">C</mi></mrow></mrow><mo id="S4.E8.m1.13.13.3.3.1.3" stretchy="false" xref="S4.E8.m1.13.13.3.3.1.1.cmml">)</mo></mrow></mrow><mrow id="S4.E8.m1.16.16.6" xref="S4.E8.m1.16.16.6.cmml"><msub id="S4.E8.m1.16.16.6.5" xref="S4.E8.m1.16.16.6.5.cmml"><mi id="S4.E8.m1.16.16.6.5.2" xref="S4.E8.m1.16.16.6.5.2.cmml">π</mi><mtext id="S4.E8.m1.16.16.6.5.3" xref="S4.E8.m1.16.16.6.5.3a.cmml">ref</mtext></msub><mo id="S4.E8.m1.16.16.6.4" xref="S4.E8.m1.16.16.6.4.cmml">⁢</mo><mrow id="S4.E8.m1.16.16.6.3.1" xref="S4.E8.m1.16.16.6.3.1.1.cmml"><mo id="S4.E8.m1.16.16.6.3.1.2" stretchy="false" xref="S4.E8.m1.16.16.6.3.1.1.cmml">(</mo><mrow id="S4.E8.m1.16.16.6.3.1.1" xref="S4.E8.m1.16.16.6.3.1.1.cmml"><msub id="S4.E8.m1.16.16.6.3.1.1.2" xref="S4.E8.m1.16.16.6.3.1.1.2.cmml"><mi id="S4.E8.m1.16.16.6.3.1.1.2.2" xref="S4.E8.m1.16.16.6.3.1.1.2.2.cmml">t</mi><mi id="S4.E8.m1.16.16.6.3.1.1.2.3" xref="S4.E8.m1.16.16.6.3.1.1.2.3.cmml">l</mi></msub><mo id="S4.E8.m1.16.16.6.3.1.1.1" xref="S4.E8.m1.16.16.6.3.1.1.1.cmml">∣</mo><mrow id="S4.E8.m1.16.16.6.3.1.1.3.2" xref="S4.E8.m1.16.16.6.3.1.1.3.1.cmml"><mi id="S4.E8.m1.14.14.4.1" xref="S4.E8.m1.14.14.4.1.cmml">q</mi><mo id="S4.E8.m1.16.16.6.3.1.1.3.2.1" xref="S4.E8.m1.16.16.6.3.1.1.3.1.cmml">,</mo><mi id="S4.E8.m1.15.15.5.2" xref="S4.E8.m1.15.15.5.2.cmml">C</mi></mrow></mrow><mo id="S4.E8.m1.16.16.6.3.1.3" stretchy="false" xref="S4.E8.m1.16.16.6.3.1.1.cmml">)</mo></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S4.E8.m1.19.19.3.1.1.1.1.1.1.3" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E8.m1.19.19.3.1.1.1.3" xref="S4.E8.m1.19.19.3.1.1.2.1.cmml">]</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E8.m1.19b"><apply id="S4.E8.m1.19.19.cmml" xref="S4.E8.m1.19.19"><eq id="S4.E8.m1.19.19.4.cmml" xref="S4.E8.m1.19.19.4"></eq><apply id="S4.E8.m1.18.18.2.cmml" xref="S4.E8.m1.18.18.2"><times id="S4.E8.m1.18.18.2.3.cmml" xref="S4.E8.m1.18.18.2.3"></times><apply id="S4.E8.m1.18.18.2.4.cmml" xref="S4.E8.m1.18.18.2.4"><csymbol cd="ambiguous" id="S4.E8.m1.18.18.2.4.1.cmml" xref="S4.E8.m1.18.18.2.4">subscript</csymbol><ci id="S4.E8.m1.18.18.2.4.2.cmml" xref="S4.E8.m1.18.18.2.4.2">ℒ</ci><ci id="S4.E8.m1.18.18.2.4.3a.cmml" xref="S4.E8.m1.18.18.2.4.3"><mtext id="S4.E8.m1.18.18.2.4.3.cmml" mathsize="70%" xref="S4.E8.m1.18.18.2.4.3">DPO</mtext></ci></apply><list id="S4.E8.m1.18.18.2.2.3.cmml" xref="S4.E8.m1.18.18.2.2.2"><apply id="S4.E8.m1.17.17.1.1.1.1.cmml" xref="S4.E8.m1.17.17.1.1.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.17.17.1.1.1.1.1.cmml" xref="S4.E8.m1.17.17.1.1.1.1">subscript</csymbol><ci id="S4.E8.m1.17.17.1.1.1.1.2.cmml" xref="S4.E8.m1.17.17.1.1.1.1.2">𝜋</ci><ci id="S4.E8.m1.17.17.1.1.1.1.3.cmml" xref="S4.E8.m1.17.17.1.1.1.1.3">𝜃</ci></apply><apply id="S4.E8.m1.18.18.2.2.2.2.cmml" xref="S4.E8.m1.18.18.2.2.2.2"><csymbol cd="ambiguous" id="S4.E8.m1.18.18.2.2.2.2.1.cmml" xref="S4.E8.m1.18.18.2.2.2.2">subscript</csymbol><ci id="S4.E8.m1.18.18.2.2.2.2.2.cmml" xref="S4.E8.m1.18.18.2.2.2.2.2">𝜋</ci><ci id="S4.E8.m1.18.18.2.2.2.2.3a.cmml" xref="S4.E8.m1.18.18.2.2.2.2.3"><mtext id="S4.E8.m1.18.18.2.2.2.2.3.cmml" mathsize="70%" xref="S4.E8.m1.18.18.2.2.2.2.3">ref</mtext></ci></apply></list></apply><apply id="S4.E8.m1.19.19.3.cmml" xref="S4.E8.m1.19.19.3"><minus id="S4.E8.m1.19.19.3.2.cmml" xref="S4.E8.m1.19.19.3"></minus><apply id="S4.E8.m1.19.19.3.1.cmml" xref="S4.E8.m1.19.19.3.1"><times id="S4.E8.m1.19.19.3.1.2.cmml" xref="S4.E8.m1.19.19.3.1.2"></times><apply id="S4.E8.m1.19.19.3.1.3.cmml" xref="S4.E8.m1.19.19.3.1.3"><csymbol cd="ambiguous" id="S4.E8.m1.19.19.3.1.3.1.cmml" xref="S4.E8.m1.19.19.3.1.3">subscript</csymbol><ci id="S4.E8.m1.19.19.3.1.3.2.cmml" xref="S4.E8.m1.19.19.3.1.3.2">𝔼</ci><apply id="S4.E8.m1.4.4.4.cmml" xref="S4.E8.m1.4.4.4"><csymbol cd="latexml" id="S4.E8.m1.4.4.4.5.cmml" xref="S4.E8.m1.4.4.4.5">similar-to</csymbol><vector id="S4.E8.m1.4.4.4.4.3.cmml" xref="S4.E8.m1.4.4.4.4.2"><ci id="S4.E8.m1.1.1.1.1.cmml" xref="S4.E8.m1.1.1.1.1">𝑞</ci><ci id="S4.E8.m1.2.2.2.2.cmml" xref="S4.E8.m1.2.2.2.2">𝐶</ci><apply id="S4.E8.m1.3.3.3.3.1.1.cmml" xref="S4.E8.m1.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S4.E8.m1.3.3.3.3.1.1.1.cmml" xref="S4.E8.m1.3.3.3.3.1.1">subscript</csymbol><ci id="S4.E8.m1.3.3.3.3.1.1.2.cmml" xref="S4.E8.m1.3.3.3.3.1.1.2">𝑡</ci><ci id="S4.E8.m1.3.3.3.3.1.1.3.cmml" xref="S4.E8.m1.3.3.3.3.1.1.3">𝑤</ci></apply><apply id="S4.E8.m1.4.4.4.4.2.2.cmml" xref="S4.E8.m1.4.4.4.4.2.2"><csymbol cd="ambiguous" id="S4.E8.m1.4.4.4.4.2.2.1.cmml" xref="S4.E8.m1.4.4.4.4.2.2">subscript</csymbol><ci id="S4.E8.m1.4.4.4.4.2.2.2.cmml" xref="S4.E8.m1.4.4.4.4.2.2.2">𝑡</ci><ci id="S4.E8.m1.4.4.4.4.2.2.3.cmml" xref="S4.E8.m1.4.4.4.4.2.2.3">𝑙</ci></apply></vector><apply id="S4.E8.m1.4.4.4.6.cmml" xref="S4.E8.m1.4.4.4.6"><csymbol cd="ambiguous" id="S4.E8.m1.4.4.4.6.1.cmml" xref="S4.E8.m1.4.4.4.6">subscript</csymbol><ci id="S4.E8.m1.4.4.4.6.2.cmml" xref="S4.E8.m1.4.4.4.6.2">𝐷</ci><ci id="S4.E8.m1.4.4.4.6.3a.cmml" xref="S4.E8.m1.4.4.4.6.3"><mtext id="S4.E8.m1.4.4.4.6.3.cmml" mathsize="50%" xref="S4.E8.m1.4.4.4.6.3">synthetic</mtext></ci></apply></apply></apply><apply id="S4.E8.m1.19.19.3.1.1.2.cmml" xref="S4.E8.m1.19.19.3.1.1.1"><csymbol cd="latexml" id="S4.E8.m1.19.19.3.1.1.2.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.2">delimited-[]</csymbol><apply id="S4.E8.m1.19.19.3.1.1.1.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1"><times id="S4.E8.m1.19.19.3.1.1.1.1.2.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.2"></times><apply id="S4.E8.m1.19.19.3.1.1.1.1.3.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.3"><log id="S4.E8.m1.19.19.3.1.1.1.1.3.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.3.1"></log><ci id="S4.E8.m1.19.19.3.1.1.1.1.3.2.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.3.2">𝜎</ci></apply><apply id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1"><minus id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.1"></minus><apply id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2"><times id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.1"></times><ci id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.2.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.2">𝛽</ci><apply id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3"><log id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.2.3.1"></log><apply id="S4.E8.m1.10.10.cmml" xref="S4.E8.m1.10.10"><divide id="S4.E8.m1.10.10.7.cmml" xref="S4.E8.m1.10.10"></divide><apply id="S4.E8.m1.7.7.3.cmml" xref="S4.E8.m1.7.7.3"><times id="S4.E8.m1.7.7.3.4.cmml" xref="S4.E8.m1.7.7.3.4"></times><apply id="S4.E8.m1.7.7.3.5.cmml" xref="S4.E8.m1.7.7.3.5"><csymbol cd="ambiguous" id="S4.E8.m1.7.7.3.5.1.cmml" xref="S4.E8.m1.7.7.3.5">subscript</csymbol><ci id="S4.E8.m1.7.7.3.5.2.cmml" xref="S4.E8.m1.7.7.3.5.2">𝜋</ci><ci id="S4.E8.m1.7.7.3.5.3.cmml" xref="S4.E8.m1.7.7.3.5.3">𝜃</ci></apply><apply id="S4.E8.m1.7.7.3.3.1.1.cmml" xref="S4.E8.m1.7.7.3.3.1"><csymbol cd="latexml" id="S4.E8.m1.7.7.3.3.1.1.1.cmml" xref="S4.E8.m1.7.7.3.3.1.1.1">conditional</csymbol><apply id="S4.E8.m1.7.7.3.3.1.1.2.cmml" xref="S4.E8.m1.7.7.3.3.1.1.2"><csymbol cd="ambiguous" id="S4.E8.m1.7.7.3.3.1.1.2.1.cmml" xref="S4.E8.m1.7.7.3.3.1.1.2">subscript</csymbol><ci id="S4.E8.m1.7.7.3.3.1.1.2.2.cmml" xref="S4.E8.m1.7.7.3.3.1.1.2.2">𝑡</ci><ci id="S4.E8.m1.7.7.3.3.1.1.2.3.cmml" xref="S4.E8.m1.7.7.3.3.1.1.2.3">𝑤</ci></apply><list id="S4.E8.m1.7.7.3.3.1.1.3.1.cmml" xref="S4.E8.m1.7.7.3.3.1.1.3.2"><ci id="S4.E8.m1.5.5.1.1.cmml" xref="S4.E8.m1.5.5.1.1">𝑞</ci><ci id="S4.E8.m1.6.6.2.2.cmml" xref="S4.E8.m1.6.6.2.2">𝐶</ci></list></apply></apply><apply id="S4.E8.m1.10.10.6.cmml" xref="S4.E8.m1.10.10.6"><times id="S4.E8.m1.10.10.6.4.cmml" xref="S4.E8.m1.10.10.6.4"></times><apply id="S4.E8.m1.10.10.6.5.cmml" xref="S4.E8.m1.10.10.6.5"><csymbol cd="ambiguous" id="S4.E8.m1.10.10.6.5.1.cmml" xref="S4.E8.m1.10.10.6.5">subscript</csymbol><ci id="S4.E8.m1.10.10.6.5.2.cmml" xref="S4.E8.m1.10.10.6.5.2">𝜋</ci><ci id="S4.E8.m1.10.10.6.5.3a.cmml" xref="S4.E8.m1.10.10.6.5.3"><mtext id="S4.E8.m1.10.10.6.5.3.cmml" mathsize="70%" xref="S4.E8.m1.10.10.6.5.3">ref</mtext></ci></apply><apply id="S4.E8.m1.10.10.6.3.1.1.cmml" xref="S4.E8.m1.10.10.6.3.1"><csymbol cd="latexml" id="S4.E8.m1.10.10.6.3.1.1.1.cmml" xref="S4.E8.m1.10.10.6.3.1.1.1">conditional</csymbol><apply id="S4.E8.m1.10.10.6.3.1.1.2.cmml" xref="S4.E8.m1.10.10.6.3.1.1.2"><csymbol cd="ambiguous" id="S4.E8.m1.10.10.6.3.1.1.2.1.cmml" xref="S4.E8.m1.10.10.6.3.1.1.2">subscript</csymbol><ci id="S4.E8.m1.10.10.6.3.1.1.2.2.cmml" xref="S4.E8.m1.10.10.6.3.1.1.2.2">𝑡</ci><ci id="S4.E8.m1.10.10.6.3.1.1.2.3.cmml" xref="S4.E8.m1.10.10.6.3.1.1.2.3">𝑤</ci></apply><list id="S4.E8.m1.10.10.6.3.1.1.3.1.cmml" xref="S4.E8.m1.10.10.6.3.1.1.3.2"><ci id="S4.E8.m1.8.8.4.1.cmml" xref="S4.E8.m1.8.8.4.1">𝑞</ci><ci id="S4.E8.m1.9.9.5.2.cmml" xref="S4.E8.m1.9.9.5.2">𝐶</ci></list></apply></apply></apply></apply></apply><apply id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3"><times id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.1"></times><ci id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.2">𝛽</ci><apply id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3"><log id="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3.1.cmml" xref="S4.E8.m1.19.19.3.1.1.1.1.1.1.1.3.3.1"></log><apply id="S4.E8.m1.16.16.cmml" xref="S4.E8.m1.16.16"><divide id="S4.E8.m1.16.16.7.cmml" xref="S4.E8.m1.16.16"></divide><apply id="S4.E8.m1.13.13.3.cmml" xref="S4.E8.m1.13.13.3"><times id="S4.E8.m1.13.13.3.4.cmml" xref="S4.E8.m1.13.13.3.4"></times><apply id="S4.E8.m1.13.13.3.5.cmml" xref="S4.E8.m1.13.13.3.5"><csymbol cd="ambiguous" id="S4.E8.m1.13.13.3.5.1.cmml" xref="S4.E8.m1.13.13.3.5">subscript</csymbol><ci id="S4.E8.m1.13.13.3.5.2.cmml" xref="S4.E8.m1.13.13.3.5.2">𝜋</ci><ci id="S4.E8.m1.13.13.3.5.3.cmml" xref="S4.E8.m1.13.13.3.5.3">𝜃</ci></apply><apply id="S4.E8.m1.13.13.3.3.1.1.cmml" xref="S4.E8.m1.13.13.3.3.1"><csymbol cd="latexml" id="S4.E8.m1.13.13.3.3.1.1.1.cmml" xref="S4.E8.m1.13.13.3.3.1.1.1">conditional</csymbol><apply id="S4.E8.m1.13.13.3.3.1.1.2.cmml" xref="S4.E8.m1.13.13.3.3.1.1.2"><csymbol cd="ambiguous" id="S4.E8.m1.13.13.3.3.1.1.2.1.cmml" xref="S4.E8.m1.13.13.3.3.1.1.2">subscript</csymbol><ci id="S4.E8.m1.13.13.3.3.1.1.2.2.cmml" xref="S4.E8.m1.13.13.3.3.1.1.2.2">𝑡</ci><ci id="S4.E8.m1.13.13.3.3.1.1.2.3.cmml" xref="S4.E8.m1.13.13.3.3.1.1.2.3">𝑙</ci></apply><list id="S4.E8.m1.13.13.3.3.1.1.3.1.cmml" xref="S4.E8.m1.13.13.3.3.1.1.3.2"><ci id="S4.E8.m1.11.11.1.1.cmml" xref="S4.E8.m1.11.11.1.1">𝑞</ci><ci id="S4.E8.m1.12.12.2.2.cmml" xref="S4.E8.m1.12.12.2.2">𝐶</ci></list></apply></apply><apply id="S4.E8.m1.16.16.6.cmml" xref="S4.E8.m1.16.16.6"><times id="S4.E8.m1.16.16.6.4.cmml" xref="S4.E8.m1.16.16.6.4"></times><apply id="S4.E8.m1.16.16.6.5.cmml" xref="S4.E8.m1.16.16.6.5"><csymbol cd="ambiguous" id="S4.E8.m1.16.16.6.5.1.cmml" xref="S4.E8.m1.16.16.6.5">subscript</csymbol><ci id="S4.E8.m1.16.16.6.5.2.cmml" xref="S4.E8.m1.16.16.6.5.2">𝜋</ci><ci id="S4.E8.m1.16.16.6.5.3a.cmml" xref="S4.E8.m1.16.16.6.5.3"><mtext id="S4.E8.m1.16.16.6.5.3.cmml" mathsize="70%" xref="S4.E8.m1.16.16.6.5.3">ref</mtext></ci></apply><apply id="S4.E8.m1.16.16.6.3.1.1.cmml" xref="S4.E8.m1.16.16.6.3.1"><csymbol cd="latexml" id="S4.E8.m1.16.16.6.3.1.1.1.cmml" xref="S4.E8.m1.16.16.6.3.1.1.1">conditional</csymbol><apply id="S4.E8.m1.16.16.6.3.1.1.2.cmml" xref="S4.E8.m1.16.16.6.3.1.1.2"><csymbol cd="ambiguous" id="S4.E8.m1.16.16.6.3.1.1.2.1.cmml" xref="S4.E8.m1.16.16.6.3.1.1.2">subscript</csymbol><ci id="S4.E8.m1.16.16.6.3.1.1.2.2.cmml" xref="S4.E8.m1.16.16.6.3.1.1.2.2">𝑡</ci><ci id="S4.E8.m1.16.16.6.3.1.1.2.3.cmml" xref="S4.E8.m1.16.16.6.3.1.1.2.3">𝑙</ci></apply><list id="S4.E8.m1.16.16.6.3.1.1.3.1.cmml" xref="S4.E8.m1.16.16.6.3.1.1.3.2"><ci id="S4.E8.m1.14.14.4.1.cmml" xref="S4.E8.m1.14.14.4.1">𝑞</ci><ci id="S4.E8.m1.15.15.5.2.cmml" xref="S4.E8.m1.15.15.5.2">𝐶</ci></list></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E8.m1.19c">\mathcal{L}_{\text{DPO}}(\pi_{\theta};\pi_{\text{ref}})=-\mathbb{E}_{(q,C,t_{w%
},t_{l})\sim D_{\text{synthetic}}}\left[\log\sigma\left(\beta\log\frac{\pi_{%
\theta}(t_{w}\mid q,C)}{\pi_{\text{ref}}(t_{w}\mid q,C)}-\beta\log\frac{\pi_{%
\theta}(t_{l}\mid q,C)}{\pi_{\text{ref}}(t_{l}\mid q,C)}\right)\right]</annotation><annotation encoding="application/x-llamapun" id="S4.E8.m1.19d">caligraphic_L start_POSTSUBSCRIPT DPO end_POSTSUBSCRIPT ( italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ; italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ) = - blackboard_E start_POSTSUBSCRIPT ( italic_q , italic_C , italic_t start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ) ∼ italic_D start_POSTSUBSCRIPT synthetic end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_log italic_σ ( italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_t start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ∣ italic_q , italic_C ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_t start_POSTSUBSCRIPT italic_w end_POSTSUBSCRIPT ∣ italic_q , italic_C ) end_ARG - italic_β roman_log divide start_ARG italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_t start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_q , italic_C ) end_ARG start_ARG italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT ( italic_t start_POSTSUBSCRIPT italic_l end_POSTSUBSCRIPT ∣ italic_q , italic_C ) end_ARG ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS0.SSS0.Px2.p1.3">where <math alttext="\pi_{\theta}" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px2.p1.1.m1.1"><semantics id="S4.SS0.SSS0.Px2.p1.1.m1.1a"><msub id="S4.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml">π</mi><mi id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.3" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px2.p1.1.m1.1b"><apply id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.2">𝜋</ci><ci id="S4.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S4.SS0.SSS0.Px2.p1.1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px2.p1.1.m1.1c">\pi_{\theta}</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px2.p1.1.m1.1d">italic_π start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\pi_{\text{ref}}" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px2.p1.2.m2.1"><semantics id="S4.SS0.SSS0.Px2.p1.2.m2.1a"><msub id="S4.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.cmml"><mi id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml">π</mi><mtext id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3a.cmml">ref</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px2.p1.2.m2.1b"><apply id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.2">𝜋</ci><ci id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3a.cmml" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3"><mtext id="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S4.SS0.SSS0.Px2.p1.2.m2.1.1.3">ref</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px2.p1.2.m2.1c">\pi_{\text{ref}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px2.p1.2.m2.1d">italic_π start_POSTSUBSCRIPT ref end_POSTSUBSCRIPT</annotation></semantics></math> are target policy and reference policy, respectively, and <math alttext="\beta" class="ltx_Math" display="inline" id="S4.SS0.SSS0.Px2.p1.3.m3.1"><semantics id="S4.SS0.SSS0.Px2.p1.3.m3.1a"><mi id="S4.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S4.SS0.SSS0.Px2.p1.3.m3.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S4.SS0.SSS0.Px2.p1.3.m3.1b"><ci id="S4.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S4.SS0.SSS0.Px2.p1.3.m3.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS0.SSS0.Px2.p1.3.m3.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S4.SS0.SSS0.Px2.p1.3.m3.1d">italic_β</annotation></semantics></math> is a hyperparameter.
As analyzed later, this preference training enables the model to differentiate between various types of knowledge and their suitability for a given task, resulting in better performance compared to zero-shot and few-shot settings.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Experiments</h2>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Experimental Settings</h3>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Evaluation Datasets.</h5>
<div class="ltx_para ltx_noindent" id="S5.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px1.p1.1">This paper includes various knowledge-intensive reasoning tasks in evaluation.
First, this paper chooses the <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.1">Loong</span> benchmark <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib39" title="">2024a</a>)</cite>, which includes four tasks (Spotlight Locating, Comparison, Clustering, and Chain of Reasoning) and four document length settings, as the length of the document increases, the useful information needed to solve the task becomes more dispersed. As for metrics, this paper adheres to original settings in Loong and use the official code repository<span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>https://github.com/MozerWang/Loong</span></span></span> in evaluation, involving using LLMs to decide a score from 0 to 100 and the exact matching (EM) rate.
In addition, this paper chooses <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px1.p1.1.2">Podcast Transcripts</span>, which is a query-focused summarization task reported by GraphRAG <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>)</cite>. As for metrics, this paper follows GraphRAG settings, involving head-to-head win rate by a LLM judgement, across four kinds of dimension, which are comprehensiveness, diversity, empowerment, and directness.</p>
</div>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Implementation Details.</h5>
<div class="ltx_para ltx_noindent" id="S5.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px2.p1.1">We build framework based on Qwen2 series models <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib42" title="">2024a</a>)</cite>.
For the hybrid structure router, StructRAG uses Qwen2-7B-Instruct as the base model and implement DPO training by trl<span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>https://github.com/huggingface/trl</span></span></span>. As for the details of hybrid structure router training, StructRAG constructs and uses a total of 900 preference data, setting the learning rate as 1e-5, number of epochs as 3 and the <math alttext="\beta" class="ltx_Math" display="inline" id="S5.SS1.SSS0.Px2.p1.1.m1.1"><semantics id="S5.SS1.SSS0.Px2.p1.1.m1.1a"><mi id="S5.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S5.SS1.SSS0.Px2.p1.1.m1.1.1.cmml">β</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.SSS0.Px2.p1.1.m1.1b"><ci id="S5.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S5.SS1.SSS0.Px2.p1.1.m1.1.1">𝛽</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.SSS0.Px2.p1.1.m1.1c">\beta</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.SSS0.Px2.p1.1.m1.1d">italic_β</annotation></semantics></math> as default in training.
For the scattered knowledge structurizer and strutured knowledge utilizer, StructRAG directly uses Qwen2-72B-Instruct as base model and deploy models as API using vllm<span class="ltx_note ltx_role_footnote" id="footnote3"><sup class="ltx_note_mark">3</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">3</sup><span class="ltx_tag ltx_tag_note">3</span>https://pypi.org/project/vllm/</span></span></span> following the same setting as in Loong <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib39" title="">2024a</a>)</cite>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px3">
<h5 class="ltx_title ltx_title_paragraph">Selected Baselines.</h5>
<div class="ltx_para ltx_noindent" id="S5.SS1.SSS0.Px3.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px3.p1.1">We select baselines from commonly used or recent methods for knowledge-based question-answering tasks. Specifically,
(1) <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.1">Long-Context</span> <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib42" title="">2024a</a>)</cite>, which extends the input window of LLMs to up to 128K tokens through extrapolation techniques, allowing large-scale documents to be directly input into the model.
(2) <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.2">RAG</span> <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib18" title="">2020</a>)</cite>, which splits the given documents into multiple short chunks and uses a retriever to retain only the most relevant chunks as augmentation based on the question.
(3) <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.3">RQ-RAG</span> <cite class="ltx_cite ltx_citemacro_citep">(Chan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib3" title="">2024</a>)</cite>, which uses a trained LLM to decompose and refine the original question to more accurately find the required chunk augmentation.
(4) <span class="ltx_text ltx_font_bold" id="S5.SS1.SSS0.Px3.p1.1.4">GraphRAG</span> <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>)</cite>, which extracts triples (head, relationship, tail) from raw documents and constructs into multi-layered graphs, then uses structured information in graphs to help the generation model answer questions.
In implement, for Long-Context and RAG, we directly follow the experimental settings reported in Loong <cite class="ltx_cite ltx_citemacro_citep">(Wang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib39" title="">2024a</a>)</cite>, and for RQ-RAG<span class="ltx_note ltx_role_footnote" id="footnote4"><sup class="ltx_note_mark">4</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">4</sup><span class="ltx_tag ltx_tag_note">4</span>https://github.com/chanchimin/RQ-RAG</span></span></span> and GraphRAG<span class="ltx_note ltx_role_footnote" id="footnote5"><sup class="ltx_note_mark">5</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">5</sup><span class="ltx_tag ltx_tag_note">5</span>https://pypi.org/project/graphrag/</span></span></span>, we evaluate the performance based on the official code repositories. Noting that, for fair comparison, we also set Qwen-72B-Instruct as base model of GraphRAG.</p>
</div>
<figure class="ltx_table" id="S5.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T1.1" style="width:397.5pt;height:236.6pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-195.3pt,116.0pt) scale(0.504415068829283,0.504415068829283) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T1.1.1">
<tr class="ltx_tr" id="S5.T1.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T1.1.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.1.1.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.1.2.1">Spot.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.1.3.1">Comp.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T1.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.1.4.1">Clus.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T1.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.1.5.1">Chain.</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T1.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.1.6.1">Overall</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.1.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.2"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.2.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.3"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.3.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.4"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.4.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.5"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.5.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.6"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.6.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.7"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.7.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.8"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.8.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.9"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.9.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.2.10"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.2.10.1">EM</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.3" style="background-color:#E7E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="11" id="S5.T1.1.1.3.1"><span class="ltx_text" id="S5.T1.1.1.3.1.1" style="background-color:#E7E6E6;">Set 1  (10K-50K Tokens)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.4">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T1.1.1.4.1">Long-context <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib42" title="">2024a</a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.2">68.49</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.3"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.4.3.1">0.55</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.4">60.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.5">0.37</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.6">47.08</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.7">0.08</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.8"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.4.8.1">70.39</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.9"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.4.9.1">0.36</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.10">60.11</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.4.11">0.29</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.5">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.5.1">RAG <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib18" title="">2020</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.2">51.08</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.3">0.35</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.4">44.53</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.5">0.27</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.6">37.96</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.7">0.05</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.8">53.95</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.9">0.35</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.10">46.11</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.5.11">0.23</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.6">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.6.1">RQ-RAG <cite class="ltx_cite ltx_citemacro_citep">(Chan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib3" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.2">72.31</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.3">0.54</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.4">48.16</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.5">0.05</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.6">47.44</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.7">0.07</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.8">58.96</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.9">0.25</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.10">53.51</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.6.11">0.17</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.7">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.7.1">GraphRAG <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.2">31.67</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.3">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.4">27.60</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.5">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.6">40.71</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.7">0.14</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.8">54.29</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.9">0.43</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.10">40.82</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.7.11">0.18</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.8">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.8.1">StructRAG (Ours)</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.2"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.8.2.1">74.53</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.3">0.47</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.4"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.8.4.1">75.58</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.5"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.8.5.1">0.47</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.6"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.8.6.1">65.13</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.7"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.8.7.1">0.23</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.8">67.84</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.9">0.34</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.10"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.8.10.1">69.43</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.8.11"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.8.11.1">0.35</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.9" style="background-color:#E7E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="11" id="S5.T1.1.1.9.1"><span class="ltx_text" id="S5.T1.1.1.9.1.1" style="background-color:#E7E6E6;">Set 2  (50K-100K Tokens)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.10">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T1.1.1.10.1">Long-context <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib42" title="">2024a</a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.2">64.53</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.3">0.43</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.4">42.60</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.5">0.21</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.6">38.52</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.7">0.05</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.8">51.18</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.9">0.20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.10">45.71</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.10.11">0.17</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.11">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.11.1">RAG <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib18" title="">2020</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.2">66.27</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.3"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.11.3.1">0.46</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.4">46.28</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.5">0.31</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.6">38.95</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.7">0.05</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.8">46.15</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.9"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.11.9.1">0.22</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.10">45.42</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.11.11">0.19</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.12">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.12.1">RQ-RAG <cite class="ltx_cite ltx_citemacro_citep">(Chan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib3" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.2">57.35</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.3">0.35</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.4">50.83</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.5">0.16</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.6">42.85</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.7">0.03</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.8">47.60</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.9">0.10</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.10">47.09</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.12.11">0.10</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.13">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.13.1">GraphRAG <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.2">24.80</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.3">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.4">14.29</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.5">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.6">37.86</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.7">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.8">46.25</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.9">0.12</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.10">33.06</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.13.11">0.03</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.14">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.14.1">StructRAG (Ours)</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.2"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.14.2.1">68.00</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.3">0.41</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.4"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.14.4.1">63.71</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.5"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.14.5.1">0.36</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.6"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.14.6.1">61.40</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.7"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.14.7.1">0.17</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.8"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.14.8.1">54.70</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.9">0.19</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.10"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.14.10.1">60.95</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.14.11"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.14.11.1">0.24</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.15" style="background-color:#E7E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="11" id="S5.T1.1.1.15.1"><span class="ltx_text" id="S5.T1.1.1.15.1.1" style="background-color:#E7E6E6;">Set 3  (100K-200K Tokens)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.16">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T1.1.1.16.1">Long-context <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib42" title="">2024a</a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.2">46.99</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.3">0.27</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.4">37.06</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.5">0.13</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.6">31.50</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.7">0.02</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.8">35.01</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.9">0.07</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.10">35.94</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.16.11">0.09</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.17">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.17.1">RAG <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib18" title="">2020</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.2"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.17.2.1">73.69</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.3"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.17.3.1">0.55</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.4">42.20</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.5">0.27</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.6">32.78</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.7">0.02</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.8">37.65</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.9">0.13</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.10">42.60</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.17.11">0.18</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.18">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.18.1">RQ-RAG <cite class="ltx_cite ltx_citemacro_citep">(Chan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib3" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.2">50.50</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.3">0.13</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.4">44.62</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.5">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.6">36.98</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.7">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.8">36.79</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.9">0.07</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.10">40.93</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.18.11">0.05</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.19">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.19.1">GraphRAG <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.2">15.83</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.3">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.4">27.40</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.5">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.6">42.50</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.7">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.8">43.33</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.9">0.17</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.10">33.28</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.19.11">0.04</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.20">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.20.1">StructRAG (Ours)</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.2">68.62</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.3">0.44</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.4"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.20.4.1">57.74</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.5"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.20.5.1">0.35</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.6"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.20.6.1">58.27</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.7"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.20.7.1">0.10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.8"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.20.8.1">49.73</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.9"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.20.9.1">0.13</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.10"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.20.10.1">57.92</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.20.11"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.20.11.1">0.21</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.21" style="background-color:#E7E6E6;">
<td class="ltx_td ltx_align_center ltx_border_t" colspan="11" id="S5.T1.1.1.21.1"><span class="ltx_text" id="S5.T1.1.1.21.1.1" style="background-color:#E7E6E6;">Set 4  (200K-250K Tokens)</span></td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.22">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T1.1.1.22.1">Long-context <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib42" title="">2024a</a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.2">33.18</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.3">0.16</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.4">26.59</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.5">0.08</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.6">29.84</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.7"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.22.7.1">0.01</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.8">25.81</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.9">0.04</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.10">28.92</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T1.1.1.22.11">0.06</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.23">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.23.1">RAG <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib18" title="">2020</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.2">52.17</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.3"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.23.3.1">0.24</span></td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.4">24.60</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.5">0.10</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.6">26.78</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.7">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.8">17.79</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.9">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.10">29.29</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.23.11">0.07</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.24">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.24.1">RQ-RAG <cite class="ltx_cite ltx_citemacro_citep">(Chan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib3" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.2">29.17</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.3">0.08</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.4">40.36</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.5">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.6">26.92</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.7">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.8">34.69</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.9">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.10">31.91</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.24.11">0.01</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.25">
<td class="ltx_td ltx_align_left" id="S5.T1.1.1.25.1">GraphRAG <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.2">17.50</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.3">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.4">26.67</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.5">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.6">20.91</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.7">0.00</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.8">33.67</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.9">0.33</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.10">23.47</td>
<td class="ltx_td ltx_align_center" id="S5.T1.1.1.25.11">0.05</td>
</tr>
<tr class="ltx_tr" id="S5.T1.1.1.26">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T1.1.1.26.1">StructRAG (Ours)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.2"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.26.2.1">56.87</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.3">0.19</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.4"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.26.4.1">55.62</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.5"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.26.5.1">0.25</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.6"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.26.6.1">56.59</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.7">0.00</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.8"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.26.8.1">35.71</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.9"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.26.9.1">0.05</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.10"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.26.10.1">51.42</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T1.1.1.26.11"><span class="ltx_text ltx_font_bold" id="S5.T1.1.1.26.11.1">0.10</span></td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>LLM-judged scores and exact matching rate in knowledge-intensive tasks of Loong benchmark. From Set 1 to Set 4, task complexity gradually increases, as reflected by the growing token number of documents. The table show two main conclusions: StructRAG get the SOTA performance in overall metrics. And the more complex the task, the greater the improvement of StructRAG.</figcaption>
</figure>
<figure class="ltx_table" id="S5.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T2.1" style="width:397.5pt;height:49.3pt;vertical-align:-0.5pt;"><span class="ltx_transformed_inner" style="transform:translate(-167.5pt,20.6pt) scale(0.542725652592384,0.542725652592384) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T2.1.1">
<tr class="ltx_tr" id="S5.T2.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T2.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.1.1">Compared Method Pair</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.2.1">Comprehensiveness</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.3.1">Diversity</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.4.1">Empowerment</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.5.1">Directness</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.T2.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S5.T2.1.1.1.6.1">Average</span></td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T2.1.1.2.1">StructRAG vs. Long-context <cite class="ltx_cite ltx_citemacro_citep">(Yang et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib42" title="">2024a</a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.2.2">98</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.2.3">96</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.2.4">97</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.2.5">92</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T2.1.1.2.6">95.75</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.3">
<td class="ltx_td ltx_align_left" id="S5.T2.1.1.3.1">StructRAG vs. RAG <cite class="ltx_cite ltx_citemacro_citep">(Lewis et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib18" title="">2020</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.2">67</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.3">78</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.4">51</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.5">52</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.3.6">62.00</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.4">
<td class="ltx_td ltx_align_left" id="S5.T2.1.1.4.1">StructRAG vs. RQ-RAG <cite class="ltx_cite ltx_citemacro_citep">(Chan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib3" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.4.2">67</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.4.3">75</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.4.4">50</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.4.5">46</td>
<td class="ltx_td ltx_align_center" id="S5.T2.1.1.4.6">59.50</td>
</tr>
<tr class="ltx_tr" id="S5.T2.1.1.5">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T2.1.1.5.1">StructRAG vs. GraphRAG <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>)</cite>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.1.1.5.2">61</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.1.1.5.3">68</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.1.1.5.4">42</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.1.1.5.5">41</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T2.1.1.5.6">53.00</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Win rate of StructRAG vs. baselines on Podcast Transcripts. StructRAG achieves the best average performance compared to all baselines, further conforming effectiveness of framework.</figcaption>
</figure>
</section>
</section>
<section class="ltx_subsection" id="S5.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Overall Results</h3>
<div class="ltx_para ltx_noindent" id="S5.SS2.p1">
<p class="ltx_p" id="S5.SS2.p1.1">Results compared with baselines are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.T1" title="Table 1 ‣ Selected Baselines. ‣ 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">1</span></a> and Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.T2" title="Table 2 ‣ Selected Baselines. ‣ 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">2</span></a>, there are two main conclusions:</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS2.p2">
<p class="ltx_p" id="S5.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="S5.SS2.p2.1.1">1) StructRAG is a powerful solution to addressing knowledge-intensive reasoning tasks.</span>
Based on the experimental results in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.T1" title="Table 1 ‣ Selected Baselines. ‣ 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">1</span></a>, StructRAG outperforms the baselines in most tasks and document length settings, and in the overall metric, StructRAG exceeds all baselines in both LLM score and EM rate. In addition, as shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.T2" title="Table 2 ‣ Selected Baselines. ‣ 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">2</span></a>, StructRAG achieves the best average performance compared to all baselines in Podcast Transcripts. All in all, these experimental findings demonstrate that StructRAG can effectively address knowledge-intensive reasoning tasks and improve a lot compared with previous long-context methods, and different kind of existing powerful RAG techniques.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS2.p3">
<p class="ltx_p" id="S5.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="S5.SS2.p3.1.1">2) StructRAG is particularly suitable for complex tasks, performance improvement becomes more significant in scenarios with more dispersed information.</span>
Based on the overall performance in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.T1" title="Table 1 ‣ Selected Baselines. ‣ 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">1</span></a>, the performance comparison between StructRAG and the long-context baseline shows that StructRAG achieves performance improvements of approximately 9, 15, 22, and 23 on Set 1, Set 2, Set 3, and Set 4, respectively. Similarly, comparing StructRAG with RAG shows performance improvements of around 15, 15, and 22 on Set 2, Set 3, and Set 4, respectively. Each set represents the total length of the given documents, with Set 1 being the shortest and Set 4 being the longest. This means that the information needed to answer the questions becomes more dispersed as the length of the documents increases, and making the reasoning process more challenging. Therefore, these results indicate that StructRAG shows more significant improvements over the baselines with longer documents and more scattered information, demonstrating that abilities of our framework to construct and use the optimal type of structured knowledge is especially effective for complex tasks.</p>
</div>
</section>
<section class="ltx_subsection" id="S5.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Ablation Results of Modules</h3>
<div class="ltx_para ltx_noindent" id="S5.SS3.p1">
<p class="ltx_p" id="S5.SS3.p1.1">To validate the role of each module in StructRAG, we perform ablation experiments. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.T3" title="Table 3 ‣ 5.3 Ablation Results of Modules ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">3</span></a>, “w/o router” refers to random routing, “w/o structurizer” means using only chunks, and “w/o utilizer” refers to directly concatenating the structured knowledge with the original question for answer generation. There are following conclusions:</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS3.p2">
<p class="ltx_p" id="S5.SS3.p2.1"><span class="ltx_text ltx_font_bold" id="S5.SS3.p2.1.1">1) All three modules contribute positively to the overall framework.</span>
The table shows that removing any of the three modules results in a noticeable performance decline. The overall performance will reduce from 60.38 to 45.33, 53.92 and 55.94 for the router, structurizer, and utilizer, respectively.
This proves that all three modules play an irreplaceable role, and StructRAG tightly and orderly combines these three modules to achieve excellent overall performance.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS3.p3">
<p class="ltx_p" id="S5.SS3.p3.1"><span class="ltx_text ltx_font_bold" id="S5.SS3.p3.1.1">2) Choosing the suitable structure type and constructing documents into structured knowledge are more crucial than designing complex utilization methods.</span>
A comparison in the table reveals that different modules are with different importance. The performance drop is most significant when the router is removed, with a decreasing from 60.38 to 45.33. In contrast, removing the utilizer leads to a smaller performance decline, from 60.38 to 55.94.
This indicates that simply question-refining as existing methods provides limited improvement for knowledge-intensive reasoning tasks, a more promising direction is constructing and using structured knowledge in suitable type.</p>
</div>
<figure class="ltx_table" id="S5.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T3.1" style="width:397.5pt;height:80.1pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-71.6pt,14.3pt) scale(0.735254817359307,0.735254817359307) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T3.1.1">
<tr class="ltx_tr" id="S5.T3.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T3.1.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.1.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T3.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.2.1">Set 1</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T3.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.3.1">Set 2</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T3.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.4.1">Set 3</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T3.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.5.1">Set 4</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T3.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.1.6.1">Overall</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.1.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.2"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.2.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.3"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.3.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.4"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.4.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.5"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.5.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.6"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.6.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.7"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.7.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.8"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.8.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.9"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.9.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.2.10"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.2.10.1">EM</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T3.1.1.3.1">StructRAG</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.2"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.2.1">69.43</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.3"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.3.1">0.35</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.4"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.4.1">60.95</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.5"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.5.1">0.24</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.6"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.6.1">57.92</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.7"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.7.1">0.21</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.8"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.8.1">51.42</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.9"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.9.1">0.10</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.10"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.10.1">60.38</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T3.1.1.3.11"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.3.11.1">0.23</span></td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.4">
<td class="ltx_td ltx_align_left" id="S5.T3.1.1.4.1">w/o router</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.2">51.09</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.3">0.28</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.4">48.28</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.5">0.17</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.6">39.52</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.7">0.13</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.8">41.83</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.9"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.4.9.1">0.10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.10">45.33</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.4.11">0.17</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.5">
<td class="ltx_td ltx_align_left" id="S5.T3.1.1.5.1">w/o structurizer</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.2">64.97</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.3">0.29</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.4">52.17</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.5">0.17</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.6">53.18</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.7">0.19</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.8">44.24</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.9"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.5.9.1">0.10</span></td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.10">53.92</td>
<td class="ltx_td ltx_align_center" id="S5.T3.1.1.5.11">0.19</td>
</tr>
<tr class="ltx_tr" id="S5.T3.1.1.6">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T3.1.1.6.1">w/o utilizer</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.2">68.23</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.3">0.29</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.4">59.73</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.5"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.6.5.1">0.24</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.6">53.29</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.7">0.19</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.8">35.77</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.9"><span class="ltx_text ltx_font_bold" id="S5.T3.1.1.6.9.1">0.10</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.10">55.94</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T3.1.1.6.11">0.22</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Ablation results of three modules. The table shows that all three module are with positive contribution, and the most core module is the hybrid structure router.</figcaption>
</figure>
<figure class="ltx_figure" id="S5.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_bottom" id="S5.F4.1" style="width:208.1pt;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="328" id="S5.F4.1.g1" src="x3.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Performance of StructRAG with different routers. The strong router shows obvious positive impact on the overall framework.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_bottom" id="S5.F4.fig1" style="width:208.1pt;">
<div class="ltx_inline-block ltx_transformed_outer" id="S5.F4.fig1.1" style="width:433.6pt;height:206.2pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(103.2pt,-49.1pt) scale(1.90904914872552,1.90904914872552) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.F4.fig1.1.1">
<tr class="ltx_tr" id="S5.F4.fig1.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.F4.fig1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.F4.fig1.1.1.1.1.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.F4.fig1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.F4.fig1.1.1.1.2.1">F1</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.F4.fig1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.F4.fig1.1.1.1.3.1">ACC</span></td>
</tr>
<tr class="ltx_tr" id="S5.F4.fig1.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.F4.fig1.1.1.2.1">Hybrid Structure Router</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.fig1.1.1.2.2"><span class="ltx_text ltx_font_bold" id="S5.F4.fig1.1.1.2.2.1">93.42</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F4.fig1.1.1.2.3"><span class="ltx_text ltx_font_bold" id="S5.F4.fig1.1.1.2.3.1">94.38</span></td>
</tr>
<tr class="ltx_tr" id="S5.F4.fig1.1.1.3">
<td class="ltx_td ltx_align_left" id="S5.F4.fig1.1.1.3.1">Qwen2-7B-Instruct (zero-shot)</td>
<td class="ltx_td ltx_align_center" id="S5.F4.fig1.1.1.3.2">50.04</td>
<td class="ltx_td ltx_align_center" id="S5.F4.fig1.1.1.3.3">54.25</td>
</tr>
<tr class="ltx_tr" id="S5.F4.fig1.1.1.4">
<td class="ltx_td ltx_align_left" id="S5.F4.fig1.1.1.4.1">Qwen2-7B-Instruct (few-shot)</td>
<td class="ltx_td ltx_align_center" id="S5.F4.fig1.1.1.4.2">65.59</td>
<td class="ltx_td ltx_align_center" id="S5.F4.fig1.1.1.4.3">66.12</td>
</tr>
<tr class="ltx_tr" id="S5.F4.fig1.1.1.5">
<td class="ltx_td ltx_align_left" id="S5.F4.fig1.1.1.5.1">Qwen2-72B-Instruct (zero-shot)</td>
<td class="ltx_td ltx_align_center" id="S5.F4.fig1.1.1.5.2">78.38</td>
<td class="ltx_td ltx_align_center" id="S5.F4.fig1.1.1.5.3">80.56</td>
</tr>
<tr class="ltx_tr" id="S5.F4.fig1.1.1.6">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.F4.fig1.1.1.6.1">Qwen2-72B-Instruct (few-shot)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.F4.fig1.1.1.6.2">89.39</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.F4.fig1.1.1.6.3">90.06</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Results of evaluating hybrid structure routers. The table shows that preference training is necessary for the routing ability. </figcaption>
</figure>
</div>
</div>
</figure>
</section>
<section class="ltx_subsection" id="S5.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.4 </span>Detailed Analysis</h3>
<div class="ltx_para ltx_noindent" id="S5.SS4.p1">
<p class="ltx_p" id="S5.SS4.p1.1">In this section, we do some detailed analysis, including, performance and impact of the router, drawback of using fixed structure type, case study about EM rate performance, and efficiency reports.</p>
</div>
<section class="ltx_subsubsection" id="S5.SS4.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.1 </span>Effect of the Router</h4>
<div class="ltx_para ltx_noindent" id="S5.SS4.SSS1.p1">
<p class="ltx_p" id="S5.SS4.SSS1.p1.1">To explore the necessity of constructing data and conducting DPO training, and relationship between performance of hybrid structure router and overall StructRAG, we first compare our router with raw LLMs, and then draw curl of router and overall StructRAG score. There are following conclusions:</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.SSS1.p2">
<p class="ltx_p" id="S5.SS4.SSS1.p2.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.SSS1.p2.1.1">1) Selecting the optimal type of knowledge based on the task is challenging for raw LLMs without special training.</span>
Based on the experimental results in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.F4" title="Figure 4 ‣ 5.3 Ablation Results of Modules ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">4</span></a>, the router trained based on Qwen2-7B-Instruct model significantly outperforms the 72B model with few-shot setting. This
indicates that LLMs need some special training to get the ability of selecting the optimal structure type based on needs of the task, even when the model scale reaches 72B.</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.SSS1.p3">
<p class="ltx_p" id="S5.SS4.SSS1.p3.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.SSS1.p3.1.1">2) The performance of hybrid structure router is with significant relevance with the final performance of StructRAG.</span>
As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.F4" title="Figure 4 ‣ 5.3 Ablation Results of Modules ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">4</span></a>, we select Qwen2-72B-Instruct (zero-shot) as the weak router, and design a completely random router and a completely incorrect bad router. The curves in the figure clearly show a positive correlation between router accuracy and the overall performance of the StructRAG framework. This further demonstrates that selecting knowledge types that match the task needs for augmentation is crucial in knowledge-intensice reasoning tasks.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.2 </span>Drawback of a Fixed Type of Knowledge</h4>
<div class="ltx_para ltx_noindent" id="S5.SS4.SSS2.p1">
<p class="ltx_p" id="S5.SS4.SSS2.p1.1">To further verify the importance of containing hybrid types of structure rather than a fixed type, we freeze the structure type used in the framework as either chunk, graph, table, algorithm or catalogue for all evaluation tasks. There are the following conclusions:</p>
</div>
<div class="ltx_para ltx_noindent" id="S5.SS4.SSS2.p2">
<p class="ltx_p" id="S5.SS4.SSS2.p2.1"><span class="ltx_text ltx_font_bold" id="S5.SS4.SSS2.p2.1.1">Using a single fixed type of knowledge cannot achieve good performance on diverse tasks.</span>
Based on the experimental results in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.T4" title="Table 4 ‣ 5.4.3 Case Study about EM metric ‣ 5.4 Detailed Analysis ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">4</span></a>, it shows that for both scores and exact matching rate, using a single fixed type performs worse than selecting the optimal structure type for needs of the input task. In comparison, the performance degradation is least when only using chunk, with a reduction from 60.38 to 53.92, in other cases, the performance decline is more significant. This can demonstrate the effectiveness of cognitive fit theory in LLMs, meaning that using structured knowledge in the most suitable type can effectively enhance problem-solving abilities.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.3 </span>Case Study about EM metric</h4>
<div class="ltx_para ltx_noindent" id="S5.SS4.SSS3.p1">
<p class="ltx_p" id="S5.SS4.SSS3.p1.1">According to the experimental results in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.T1" title="Table 1 ‣ Selected Baselines. ‣ 5.1 Experimental Settings ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">1</span></a>, StructRAG surpasses baselines in general score, but falls short in seven sub-situations for the exact matching rate. Therefore, we analysis some cases that StructRAG method gets high score but fails exact matching.
The reason is mainly about structurization process may alter the textual format of original information. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.F6" title="Figure 6 ‣ 5.4.3 Case Study about EM metric ‣ 5.4 Detailed Analysis ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">6</span></a>, there are some wording differences between structured knowledge and raw information (e.g. from original <span class="ltx_text ltx_font_italic" id="S5.SS4.SSS3.p1.1.1">“$ 1,308,463”</span> to <span class="ltx_text ltx_font_italic" id="S5.SS4.SSS3.p1.1.2">“138463”</span> in the table). Intuitively this aligns with the common sense, where structurizer is a probabilistic language model rather than rule-based model, thus some possible textual loss may be unavoidable, and output from GraphRAG method also show similar issue.</p>
</div>
<figure class="ltx_table" id="S5.T4">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S5.T4.1" style="width:397.5pt;height:104.9pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-75.8pt,19.9pt) scale(0.723873218808705,0.723873218808705) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.T4.1.1">
<tr class="ltx_tr" id="S5.T4.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.T4.1.1.1.1" rowspan="2"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.1.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T4.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.2.1">Set 1</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T4.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.3.1">Set 2</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T4.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.4.1">Set 3</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T4.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.5.1">Set 4</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S5.T4.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.1.6.1">Overall</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.1.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.2"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.2.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.3"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.3.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.4"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.4.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.5"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.5.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.6"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.6.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.7"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.7.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.8"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.8.1">EM</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.9"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.9.1">LLM Score</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.2.10"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.2.10.1">EM</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.3">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.T4.1.1.3.1">StructRAG</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.2"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.2.1">69.43</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.3"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.3.1">0.35</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.4"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.4.1">60.95</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.5"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.5.1">0.24</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.6"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.6.1">57.92</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.7"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.7.1">0.21</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.8"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.8.1">51.42</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.9">0.10</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.10"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.10.1">60.38</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.T4.1.1.3.11"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.3.11.1">0.23</span></td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.4">
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.4.1">w/ only table</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.2">48.00</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.3">0.23</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.4">55.19</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.5"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.4.5.1">0.24</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.6">50.35</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.7">0.19</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.8">38.44</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.9"><span class="ltx_text ltx_font_bold" id="S5.T4.1.1.4.9.1">0.12</span></td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.10">49.66</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.4.11">0.21</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.5">
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.5.1">w/ only graph</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.2">30.59</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.3">0.09</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.4">24.05</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.5">0.05</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.6">17.46</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.7">0.03</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.8">20.96</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.9">0.04</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.10">22.71</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.5.11">0.05</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.6">
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.6.1">w/ only chunk</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.2">64.97</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.3">0.29</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.4">52.17</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.5">0.17</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.6">53.18</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.7">0.19</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.8">44.24</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.9">0.10</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.10">53.92</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.6.11">0.19</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.7">
<td class="ltx_td ltx_align_left" id="S5.T4.1.1.7.1">w/ only catalogue</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.2">30.49</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.3">0.10</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.4">36.36</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.5">0.13</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.6">36.77</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.7">0.12</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.8">23.75</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.9">0.03</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.10">33.26</td>
<td class="ltx_td ltx_align_center" id="S5.T4.1.1.7.11">0.10</td>
</tr>
<tr class="ltx_tr" id="S5.T4.1.1.8">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.T4.1.1.8.1">w/ only algorithm</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.2">43.53</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.3">0.24</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.4">32.86</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.5">0.08</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.6">31.59</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.7">0.13</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.8">16.67</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.9">0.04</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.10">32.32</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.T4.1.1.8.11">0.12</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Results of only containing structured knowledge in one fixed type. It shows any single fixed type is insufficient, confirming the advance of StructRAG via hybrid information structurization.</figcaption>
</figure>
<figure class="ltx_figure" id="S5.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_top" id="S5.F6.fig1" style="width:208.1pt;">
<div class="ltx_inline-block ltx_transformed_outer" id="S5.F6.fig1.1" style="width:433.6pt;height:107.5pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(71.6pt,-17.8pt) scale(1.49345091305153,1.49345091305153) ;">
<table class="ltx_tabular ltx_align_middle" id="S5.F6.fig1.1.1">
<tr class="ltx_tr" id="S5.F6.fig1.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.F6.fig1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S5.F6.fig1.1.1.1.1.1">Method</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.F6.fig1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S5.F6.fig1.1.1.1.2.1">Constructing</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.F6.fig1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S5.F6.fig1.1.1.1.3.1">Reading</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S5.F6.fig1.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S5.F6.fig1.1.1.1.4.1">Total Latency</span></td>
</tr>
<tr class="ltx_tr" id="S5.F6.fig1.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S5.F6.fig1.1.1.2.1">RQ-RAG</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F6.fig1.1.1.2.2">7.8</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F6.fig1.1.1.2.3">1.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S5.F6.fig1.1.1.2.4">9.0</td>
</tr>
<tr class="ltx_tr" id="S5.F6.fig1.1.1.3">
<td class="ltx_td ltx_align_left" id="S5.F6.fig1.1.1.3.1">GraphRAG</td>
<td class="ltx_td ltx_align_center" id="S5.F6.fig1.1.1.3.2">215.3</td>
<td class="ltx_td ltx_align_center" id="S5.F6.fig1.1.1.3.3">1.8</td>
<td class="ltx_td ltx_align_center" id="S5.F6.fig1.1.1.3.4">217.1</td>
</tr>
<tr class="ltx_tr" id="S5.F6.fig1.1.1.4">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S5.F6.fig1.1.1.4.1">StructRAG (Ours)</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.F6.fig1.1.1.4.2">8.2</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.F6.fig1.1.1.4.3">1.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S5.F6.fig1.1.1.4.4">9.7</td>
</tr>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Comparison of implementing latency (minute). The StructRAG has an available speed, which is a little slower than RQ-RAG, but is much faster than GraphRAG method.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_minipage ltx_align_top" id="S5.F6.1" style="width:208.1pt;">
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S5.F6.1.1">
<tr class="ltx_tr" id="S5.F6.1.1.2">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S5.F6.1.1.2.1"><span class="ltx_text ltx_font_bold" id="S5.F6.1.1.2.1.1">Raw</span></td>
<td class="ltx_td ltx_align_justify ltx_border_tt" id="S5.F6.1.1.2.2">
<span class="ltx_inline-block ltx_align_top" id="S5.F6.1.1.2.2.1">
<span class="ltx_p" id="S5.F6.1.1.2.2.1.1">depreciation of <span class="ltx_text ltx_font_bold" id="S5.F6.1.1.2.2.1.1.1">$ 1,308,463</span> and share-based compensation expense of <span class="ltx_text ltx_font_bold" id="S5.F6.1.1.2.2.1.1.2">$ 537,197</span>) in 2024 …</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="S5.F6.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S5.F6.1.1.1.2" rowspan="2"><span class="ltx_text ltx_font_bold" id="S5.F6.1.1.1.2.1">Structured</span></td>
<td class="ltx_td ltx_align_justify ltx_border_bb ltx_border_t" id="S5.F6.1.1.1.1">
<span class="ltx_inline-block ltx_align_top" id="S5.F6.1.1.1.1.1">
<span class="ltx_p ltx_minipage ltx_align_top" id="S5.F6.1.1.1.1.1.1.1" style="width:303.5pt;"><span class="ltx_text" id="S5.F6.1.1.1.1.1.1.1.1" style="position:relative; bottom:-0.6pt;"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="104" id="S5.F6.1.1.1.1.1.1.1.1.g1" src="x4.png" width="830"/></span></span>
</span>
</td>
</tr>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 6: </span>Some cases to show the reason why EM rate is not perfect, because of a little difference in textual format after structurization.</figcaption>
</figure>
</div>
</div>
</figure>
</section>
<section class="ltx_subsubsection" id="S5.SS4.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">5.4.4 </span>Efficiency Report</h4>
<div class="ltx_para ltx_noindent" id="S5.SS4.SSS4.p1">
<p class="ltx_p" id="S5.SS4.SSS4.p1.1">In this section, we report average latency of StructRAG and compare it with the RQ-RAG <cite class="ltx_cite ltx_citemacro_citep">(Chan et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib3" title="">2024</a>)</cite> and GraphRAG <cite class="ltx_cite ltx_citemacro_citep">(Edge et al., <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#bib.bib6" title="">2024</a>)</cite>. The latency includes two components: The first part is constructing latency, referring to the process of iteratively retrieving chunks for RQ-RAG, constructing graphs for GraphRAG, and determining the optimal knowledge type and constructing corresponding structure for StructRAG. The second part is reading latency, referring to the process of using augmented knowledge to generate final answers. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#S5.F6" title="Figure 6 ‣ 5.4.3 Case Study about EM metric ‣ 5.4 Detailed Analysis ‣ 5 Experiments ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">6</span></a>. StructRAG has slightly higher latency compared to RQ-RAG but is obviously faster than GraphRAG. Therefore, StructRAG is a kind of high-performance framework with available implementing speed.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Conclusion</h2>
<div class="ltx_para ltx_noindent" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this paper, noticed the limitation of existing RAG methods in knowledge-intensive reasoning tasks, and inspired by cognitive theories about how human beings solve such tasks, we propose a new framework, StructRAG via hybrid information structurization, which can construct and utilize structured knowledge in the optimal format as augmentation.
StructRAG includes a hybrid structure router to precisely select the optimal structure type, then a scattered knowledge structurizer to convert raw documents into structured knowledge, and finally a structured knowledge utilizer to decompose complex questions and infer the final answer via the constructed structured knowledge. Furthermore, in order to get a high-performance hybrid structure router, we construct training data by a synthesizing-simulating-judging pipeline and then implement preference training via DPO algorithm.
Experiments on extensive knowledge-intensive reasoning tasks demonstrate that StructRAG is an effective solution, which reach the SOTA performance and can achieve large improvement in badly information-scattered scenarios.
Therefore, this paper offers a promising direction, focused on hybrid structured knowledge, for developing more powerful RAG systems in the future.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Allam (2024)</span>
<span class="ltx_bibblock">
Ahmed Allam.

</span>
<span class="ltx_bibblock">BiasDPO: Mitigating bias in language models through direct preference optimization.

</span>
<span class="ltx_bibblock">In Xiyan Fu and Eve Fleisig (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 4: Student Research Workshop)</em>, pp.  71–79, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2024.acl-srw.7</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-srw.7" title="">https://aclanthology.org/2024.acl-srw.7</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Asai et al. (2023)</span>
<span class="ltx_bibblock">
Akari Asai, Sewon Min, Zexuan Zhong, and Danqi Chen.

</span>
<span class="ltx_bibblock">Retrieval-based language models and applications.

</span>
<span class="ltx_bibblock">In Yun-Nung (Vivian) Chen, Margot Margot, and Siva Reddy (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 6: Tutorial Abstracts)</em>, pp.  41–46, Toronto, Canada, July 2023. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.acl-tutorials.6</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.acl-tutorials.6" title="">https://aclanthology.org/2023.acl-tutorials.6</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chan et al. (2024)</span>
<span class="ltx_bibblock">
Chi-Min Chan, Chunpu Xu, Ruibin Yuan, Hongyin Luo, Wei Xue, Yike Guo, and Jie Fu.

</span>
<span class="ltx_bibblock">Rq-rag: Learning to refine queries for retrieval augmented generation, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2404.00610" title="">https://arxiv.org/abs/2404.00610</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chandler &amp; Sweller (1991)</span>
<span class="ltx_bibblock">
Paul Chandler and John Sweller.

</span>
<span class="ltx_bibblock">Cognitive load theory and the format of instruction.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">Cognition and Instruction</em>, 8(4):293–332, 1991.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1207/s1532690xci0804“˙2</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1207/s1532690xci0804_2" title="">https://doi.org/10.1207/s1532690xci0804_2</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2024)</span>
<span class="ltx_bibblock">
Jiawei Chen, Hongyu Lin, Xianpei Han, and Le Sun.

</span>
<span class="ltx_bibblock">Benchmarking large language models in retrieval-augmented generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, 38(16):17754–17762, Mar. 2024.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1609/aaai.v38i16.29728</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://ojs.aaai.org/index.php/AAAI/article/view/29728" title="">https://ojs.aaai.org/index.php/AAAI/article/view/29728</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Edge et al. (2024)</span>
<span class="ltx_bibblock">
Darren Edge, Ha Trinh, Newman Cheng, Joshua Bradley, Alex Chao, Apurva Mody, Steven Truitt, and Jonathan Larson.

</span>
<span class="ltx_bibblock">From local to global: A graph rag approach to query-focused summarization, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2404.16130" title="">https://arxiv.org/abs/2404.16130</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fang et al. (2024)</span>
<span class="ltx_bibblock">
Jinyuan Fang, Zaiqiao Meng, and Craig MacDonald.

</span>
<span class="ltx_bibblock">REANO: Optimising retrieval-augmented reader models through knowledge graph generation.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  2094–2112, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.115" title="">https://aclanthology.org/2024.acl-long.115</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al. (2024)</span>
<span class="ltx_bibblock">
Yunfan Gao, Yun Xiong, Xinyu Gao, Kangxiang Jia, Jinliu Pan, Yuxi Bi, Yi Dai, Jiawei Sun, Meng Wang, and Haofen Wang.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for large language models: A survey, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2312.10997" title="">https://arxiv.org/abs/2312.10997</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Guan et al. (2024)</span>
<span class="ltx_bibblock">
Xinyan Guan, Yanjiang Liu, Hongyu Lin, Yaojie Lu, Ben He, Xianpei Han, and Le Sun.

</span>
<span class="ltx_bibblock">Mitigating large language model hallucinations via autonomous knowledge graph-based retrofitting.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, 38(16):18126–18134, Mar. 2024.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1609/aaai.v38i16.29770</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://ojs.aaai.org/index.php/AAAI/article/view/29770" title="">https://ojs.aaai.org/index.php/AAAI/article/view/29770</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gur et al. (2021)</span>
<span class="ltx_bibblock">
Shir Gur, Natalia Neverova, Chris Stauffer, Ser-Nam Lim, Douwe Kiela, and Austin Reiter.

</span>
<span class="ltx_bibblock">Cross-modal retrieval augmentation for multi-modal classification.

</span>
<span class="ltx_bibblock">In Marie-Francine Moens, Xuanjing Huang, Lucia Specia, and Scott Wen-tau Yih (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">Findings of the Association for Computational Linguistics: EMNLP 2021</em>, pp.  111–123, Punta Cana, Dominican Republic, November 2021. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2021.findings-emnlp.11</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2021.findings-emnlp.11" title="">https://aclanthology.org/2021.findings-emnlp.11</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Havrilla et al. (2024)</span>
<span class="ltx_bibblock">
Alex Havrilla, Yuqing Du, Sharath Chandra Raparthy, Christoforos Nalmpantis, Jane Dwivedi-Yu, Maksym Zhuravinskyi, Eric Hambro, Sainbayar Sukhbaatar, and Roberta Raileanu.

</span>
<span class="ltx_bibblock">Teaching large language models to reason with reinforcement learning, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2403.04642" title="">https://arxiv.org/abs/2403.04642</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al. (2024)</span>
<span class="ltx_bibblock">
Xiaoxin He, Yijun Tian, Yifei Sun, Nitesh V. Chawla, Thomas Laurent, Yann LeCun, Xavier Bresson, and Bryan Hooi.

</span>
<span class="ltx_bibblock">G-retriever: Retrieval-augmented generation for textual graph understanding and question answering, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2402.07630" title="">https://arxiv.org/abs/2402.07630</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Huang et al. (2023)</span>
<span class="ltx_bibblock">
Lei Huang, Weijiang Yu, Weitao Ma, Weihong Zhong, Zhangyin Feng, Haotian Wang, Qianglong Chen, Weihua Peng, Xiaocheng Feng, Bing Qin, and Ting Liu.

</span>
<span class="ltx_bibblock">A survey on hallucination in large language models: Principles, taxonomy, challenges, and open questions, 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2311.05232" title="">https://arxiv.org/abs/2311.05232</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jain et al. (2024)</span>
<span class="ltx_bibblock">
Parag Jain, Andreea Marzoca, and Francesco Piccinno.

</span>
<span class="ltx_bibblock">STRUCTSUM generation for faster text comprehension.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  7876–7896, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2024.acl-long.426</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.426" title="">https://aclanthology.org/2024.acl-long.426</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Jiang et al. (2023)</span>
<span class="ltx_bibblock">
Zhengbao Jiang, Frank Xu, Luyu Gao, Zhiqing Sun, Qian Liu, Jane Dwivedi-Yu, Yiming Yang, Jamie Callan, and Graham Neubig.

</span>
<span class="ltx_bibblock">Active retrieval augmented generation.

</span>
<span class="ltx_bibblock">In Houda Bouamor, Juan Pino, and Kalika Bali (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em>, pp.  7969–7992, Singapore, December 2023. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.emnlp-main.495</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.emnlp-main.495" title="">https://aclanthology.org/2023.emnlp-main.495</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Johnson-Laird (1986)</span>
<span class="ltx_bibblock">
P. N. Johnson-Laird.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.1.1">Mental models: towards a cognitive science of language, inference, and consciousness</em>.

</span>
<span class="ltx_bibblock">Harvard University Press, USA, 1986.

</span>
<span class="ltx_bibblock">ISBN 0674568826.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kuratov et al. (2024)</span>
<span class="ltx_bibblock">
Yuri Kuratov, Aydar Bulatov, Petr Anokhin, Ivan Rodkin, Dmitry Sorokin, Artyom Sorokin, and Mikhail Burtsev.

</span>
<span class="ltx_bibblock">Babilong: Testing the limits of llms with long context reasoning-in-a-haystack, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2406.10149" title="">https://arxiv.org/abs/2406.10149</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lewis et al. (2020)</span>
<span class="ltx_bibblock">
Patrick Lewis, Ethan Perez, Aleksandra Piktus, Fabio Petroni, Vladimir Karpukhin, Naman Goyal, Heinrich Küttler, Mike Lewis, Wen-tau Yih, Tim Rocktäschel, Sebastian Riedel, and Douwe Kiela.

</span>
<span class="ltx_bibblock">Retrieval-augmented generation for knowledge-intensive nlp tasks.

</span>
<span class="ltx_bibblock">In H. Larochelle, M. Ranzato, R. Hadsell, M.F. Balcan, and H. Lin (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">Advances in Neural Information Processing Systems</em>, volume 33, pp.  9459–9474. Curran Associates, Inc., 2020.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.neurips.cc/paper_files/paper/2020/file/6b493230205f780e1bc26945df7481e5-Paper.pdf" title="">https://proceedings.neurips.cc/paper_files/paper/2020/file/6b493230205f780e1bc26945df7481e5-Paper.pdf</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2023)</span>
<span class="ltx_bibblock">
Tong Li, Zhihao Wang, Liangying Shao, Xuling Zheng, Xiaoli Wang, and Jinsong Su.

</span>
<span class="ltx_bibblock">A sequence-to-sequence&amp;set model for text-to-table generation.

</span>
<span class="ltx_bibblock">In Anna Rogers, Jordan Boyd-Graber, and Naoaki Okazaki (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">Findings of the Association for Computational Linguistics: ACL 2023</em>, pp.  5358–5370, Toronto, Canada, July 2023. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.findings-acl.330</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.findings-acl.330" title="">https://aclanthology.org/2023.findings-acl.330</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024a)</span>
<span class="ltx_bibblock">
Xiaoxi Li, Zhicheng Dou, Yujia Zhou, and Fangchao Liu.

</span>
<span class="ltx_bibblock">Corpuslm: Towards a unified language model on corpus for knowledge-intensive tasks.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, SIGIR ’24, pp.  26–37, New York, NY, USA, 2024a. Association for Computing Machinery.

</span>
<span class="ltx_bibblock">ISBN 9798400704314.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3626772.3657778</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3626772.3657778" title="">https://doi.org/10.1145/3626772.3657778</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2024b)</span>
<span class="ltx_bibblock">
Zhuoqun Li, Hongyu Lin, Yaojie Lu, Hao Xiang, Xianpei Han, and Le Sun.

</span>
<span class="ltx_bibblock">Meta-cognitive analysis: Evaluating declarative and procedural knowledge in datasets and large language models.

</span>
<span class="ltx_bibblock">In Nicoletta Calzolari, Min-Yen Kan, Veronique Hoste, Alessandro Lenci, Sakriani Sakti, and Nianwen Xue (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Proceedings of the 2024 Joint International Conference on Computational Linguistics, Language Resources and Evaluation (LREC-COLING 2024)</em>, pp.  11222–11228, Torino, Italia, May 2024b. ELRA and ICCL.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.lrec-main.980" title="">https://aclanthology.org/2024.lrec-main.980</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Luo et al. (2024)</span>
<span class="ltx_bibblock">
Kun Luo, Zheng Liu, Shitao Xiao, Tong Zhou, Yubo Chen, Jun Zhao, and Kang Liu.

</span>
<span class="ltx_bibblock">Landmark embedding: A chunking-free embedding method for retrieval augmented long-context large language models.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  3268–3281, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.180" title="">https://aclanthology.org/2024.acl-long.180</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ma et al. (2023)</span>
<span class="ltx_bibblock">
Kaixin Ma, Hao Cheng, Yu Zhang, Xiaodong Liu, Eric Nyberg, and Jianfeng Gao.

</span>
<span class="ltx_bibblock">Chain-of-skills: A configurable model for open-domain question answering.

</span>
<span class="ltx_bibblock">In Anna Rogers, Jordan Boyd-Graber, and Naoaki Okazaki (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  1599–1618, Toronto, Canada, July 2023. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.acl-long.89</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.acl-long.89" title="">https://aclanthology.org/2023.acl-long.89</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI (2024)</span>
<span class="ltx_bibblock">
OpenAI.

</span>
<span class="ltx_bibblock">Openai o1 system card.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">preprint</em>, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openai.com/index/openai-o1-system-card/" title="">https://openai.com/index/openai-o1-system-card/</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">OpenAI et al. (2024)</span>
<span class="ltx_bibblock">
OpenAI, Josh Achiam, at al. Steven Adler, Sandhini Agarwal, Lama Ahmad, Ilge Akkaya, Florencia Leoni Aleman, Diogo Almeida, Janko Altenschmidt, Sam Altman, and Shyamal Anadkat.

</span>
<span class="ltx_bibblock">Gpt-4 technical report, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2303.08774" title="">https://arxiv.org/abs/2303.08774</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Paivio (1990)</span>
<span class="ltx_bibblock">
Allan Paivio.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib26.1.1">Mental Representations: A dual coding approach</em>.

</span>
<span class="ltx_bibblock">Oxford University Press, 09 1990.

</span>
<span class="ltx_bibblock">ISBN 9780195066661.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1093/acprof:oso/9780195066661.001.0001</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1093/acprof:oso/9780195066661.001.0001" title="">https://doi.org/10.1093/acprof:oso/9780195066661.001.0001</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Panda et al. (2024)</span>
<span class="ltx_bibblock">
Pranoy Panda, Ankush Agarwal, Chaitanya Devaguptapu, Manohar Kaul, and Prathosh Ap.

</span>
<span class="ltx_bibblock">HOLMES: Hyper-relational knowledge graphs for multi-hop question answering using LLMs.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib27.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  13263–13282, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.717" title="">https://aclanthology.org/2024.acl-long.717</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Peng et al. (2024)</span>
<span class="ltx_bibblock">
Boci Peng, Yun Zhu, Yongchao Liu, Xiaohe Bo, Haizhou Shi, Chuntao Hong, Yan Zhang, and Siliang Tang.

</span>
<span class="ltx_bibblock">Graph retrieval-augmented generation: A survey, 2024.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2408.08921" title="">https://arxiv.org/abs/2408.08921</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qi et al. (2019)</span>
<span class="ltx_bibblock">
Peng Qi, Xiaowen Lin, Leo Mehr, Zijian Wang, and Christopher D. Manning.

</span>
<span class="ltx_bibblock">Answering complex open-domain questions through iterative query generation.

</span>
<span class="ltx_bibblock">In Kentaro Inui, Jing Jiang, Vincent Ng, and Xiaojun Wan (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib29.1.1">Proceedings of the 2019 Conference on Empirical Methods in Natural Language Processing and the 9th International Joint Conference on Natural Language Processing (EMNLP-IJCNLP)</em>, pp.  2590–2602, Hong Kong, China, November 2019. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/D19-1261</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/D19-1261" title="">https://aclanthology.org/D19-1261</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qian et al. (2024)</span>
<span class="ltx_bibblock">
Hongjin Qian, Zheng Liu, Kelong Mao, Yujia Zhou, and Zhicheng Dou.

</span>
<span class="ltx_bibblock">Grounding language model with chunking-free in-context retrieval.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib30.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  1298–1311, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.71" title="">https://aclanthology.org/2024.acl-long.71</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rafailov et al. (2023)</span>
<span class="ltx_bibblock">
Rafael Rafailov, Archit Sharma, Eric Mitchell, Christopher D Manning, Stefano Ermon, and Chelsea Finn.

</span>
<span class="ltx_bibblock">Direct preference optimization: Your language model is secretly a reward model.

</span>
<span class="ltx_bibblock">In A. Oh, T. Naumann, A. Globerson, K. Saenko, M. Hardt, and S. Levine (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib31.1.1">Advances in Neural Information Processing Systems</em>, volume 36, pp.  53728–53741. Curran Associates, Inc., 2023.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.neurips.cc/paper_files/paper/2023/file/a85b405ed65c6477a4fe8302b5e06ce7-Paper-Conference.pdf" title="">https://proceedings.neurips.cc/paper_files/paper/2023/file/a85b405ed65c6477a4fe8302b5e06ce7-Paper-Conference.pdf</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shi et al. (2024)</span>
<span class="ltx_bibblock">
Zhengliang Shi, Shuo Zhang, Weiwei Sun, Shen Gao, Pengjie Ren, Zhumin Chen, and Zhaochun Ren.

</span>
<span class="ltx_bibblock">Generate-then-ground in retrieval-augmented generation for multi-hop question answering.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib32.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  7339–7353, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.397" title="">https://aclanthology.org/2024.acl-long.397</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Su et al. (2024)</span>
<span class="ltx_bibblock">
Weihang Su, Yichen Tang, Qingyao Ai, Zhijing Wu, and Yiqun Liu.

</span>
<span class="ltx_bibblock">DRAGIN: Dynamic retrieval augmented generation based on the real-time information needs of large language models.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  12991–13013, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.702" title="">https://aclanthology.org/2024.acl-long.702</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sui et al. (2024)</span>
<span class="ltx_bibblock">
Peiqi Sui, Eamon Duede, Sophie Wu, and Richard So.

</span>
<span class="ltx_bibblock">Confabulation: The surprising value of large language model hallucinations.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib34.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  14274–14284, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2024.acl-long.770</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.770" title="">https://aclanthology.org/2024.acl-long.770</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sweller (1988)</span>
<span class="ltx_bibblock">
John Sweller.

</span>
<span class="ltx_bibblock">Cognitive load during problem solving: Effects on learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.1.1">Cognitive Science</em>, 12(2):257–285, 1988.

</span>
<span class="ltx_bibblock">ISSN 0364-0213.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">https://doi.org/10.1016/0364-0213(88)90023-7</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.sciencedirect.com/science/article/pii/0364021388900237" title="">https://www.sciencedirect.com/science/article/pii/0364021388900237</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang et al. (2024)</span>
<span class="ltx_bibblock">
Jiabin Tang, Yuhao Yang, Wei Wei, Lei Shi, Lixin Su, Suqi Cheng, Dawei Yin, and Chao Huang.

</span>
<span class="ltx_bibblock">Graphgpt: Graph instruction tuning for large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib36.1.1">Proceedings of the 47th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>, SIGIR ’24, pp.  491–500, New York, NY, USA, 2024. Association for Computing Machinery.

</span>
<span class="ltx_bibblock">ISBN 9798400704314.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3626772.3657775</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3626772.3657775" title="">https://doi.org/10.1145/3626772.3657775</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Umanath &amp; Vessey (1994)</span>
<span class="ltx_bibblock">
Narayan S. Umanath and Iris Vessey.

</span>
<span class="ltx_bibblock">Multiattribute data presentation and human judgment: A cognitive fit perspective.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib37.1.1">Decision Sciences</em>, 25(5-6):795–824, 1994.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">https://doi.org/10.1111/j.1540-5915.1994.tb01870.x</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1540-5915.1994.tb01870.x" title="">https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1540-5915.1994.tb01870.x</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Vessey (1991)</span>
<span class="ltx_bibblock">
Iris Vessey.

</span>
<span class="ltx_bibblock">Cognitive fit: A theory-based analysis of the graphs versus tables literature.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib38.1.1">Decision Sciences</em>, 22(2):219–240, 1991.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">https://doi.org/10.1111/j.1540-5915.1991.tb00344.x</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1540-5915.1991.tb00344.x" title="">https://onlinelibrary.wiley.com/doi/abs/10.1111/j.1540-5915.1991.tb00344.x</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2024a)</span>
<span class="ltx_bibblock">
Minzheng Wang, Longze Chen, Cheng Fu, Shengyi Liao, Xinghua Zhang, Bingli Wu, Haiyang Yu, Nan Xu, Lei Zhang, Run Luo, Yunshui Li, Min Yang, Fei Huang, and Yongbin Li.

</span>
<span class="ltx_bibblock">Leave no document behind: Benchmarking long-context llms with extended multi-doc qa, 2024a.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2406.17419" title="">https://arxiv.org/abs/2406.17419</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2024b)</span>
<span class="ltx_bibblock">
Zheng Wang, Shu Teo, Jieer Ouyang, Yongjun Xu, and Wei Shi.

</span>
<span class="ltx_bibblock">M-RAG: Reinforcing large language model performance through retrieval-augmented generation with multiple partitions.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib40.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  1966–1978, Bangkok, Thailand, August 2024b. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2024.acl-long.108</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.108" title="">https://aclanthology.org/2024.acl-long.108</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wei et al. (2022)</span>
<span class="ltx_bibblock">
Jason Wei, Xuezhi Wang, Dale Schuurmans, Maarten Bosma, brian ichter, Fei Xia, Ed Chi, Quoc V Le, and Denny Zhou.

</span>
<span class="ltx_bibblock">Chain-of-thought prompting elicits reasoning in large language models.

</span>
<span class="ltx_bibblock">In S. Koyejo, S. Mohamed, A. Agarwal, D. Belgrave, K. Cho, and A. Oh (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib41.1.1">Advances in Neural Information Processing Systems</em>, volume 35, pp.  24824–24837. Curran Associates, Inc., 2022.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://proceedings.neurips.cc/paper_files/paper/2022/file/9d5609613524ecf4f15af0f7b31abca4-Paper-Conference.pdf" title="">https://proceedings.neurips.cc/paper_files/paper/2022/file/9d5609613524ecf4f15af0f7b31abca4-Paper-Conference.pdf</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2024a)</span>
<span class="ltx_bibblock">
An Yang, Baosong Yang, Binyuan Hui, Bo Zheng, Bowen Yu, Chang Zhou, Chengpeng Li, Chengyuan Li, Dayiheng Liu, Fei Huang, Guanting Dong, Haoran Wei, Huan Lin, Jialong Tang, Jialin Wang, Jian Yang, Jianhong Tu, Jianwei Zhang, Jianxin Ma, Jianxin Yang, Jin Xu, Jingren Zhou, Jinze Bai, Jinzheng He, Junyang Lin, Kai Dang, Keming Lu, Keqin Chen, Kexin Yang, Mei Li, Mingfeng Xue, Na Ni, Pei Zhang, Peng Wang, Ru Peng, Rui Men, Ruize Gao, Runji Lin, Shijie Wang, Shuai Bai, Sinan Tan, Tianhang Zhu, Tianhao Li, Tianyu Liu, Wenbin Ge, Xiaodong Deng, Xiaohuan Zhou, Xingzhang Ren, Xinyu Zhang, Xipin Wei, Xuancheng Ren, Xuejing Liu, Yang Fan, Yang Yao, Yichang Zhang, Yu Wan, Yunfei Chu, Yuqiong Liu, Zeyu Cui, Zhenru Zhang, Zhifang Guo, and Zhihao Fan.

</span>
<span class="ltx_bibblock">Qwen2 technical report, 2024a.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2407.10671" title="">https://arxiv.org/abs/2407.10671</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yang et al. (2024b)</span>
<span class="ltx_bibblock">
Xiao Yang, Kai Sun, Hao Xin, Yushi Sun, Nikita Bhalla, Xiangsen Chen, Sajal Choudhary, Rongze Daniel Gui, Ziran Will Jiang, Ziyu Jiang, Lingkun Kong, Brian Moran, Jiaqi Wang, Yifan Ethan Xu, An Yan, Chenyu Yang, Eting Yuan, Hanwen Zha, Nan Tang, Lei Chen, Nicolas Scheffer, Yue Liu, Nirav Shah, Rakesh Wanga, Anuj Kumar, Wen tau Yih, and Xin Luna Dong.

</span>
<span class="ltx_bibblock">Crag – comprehensive rag benchmark, 2024b.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2406.04744" title="">https://arxiv.org/abs/2406.04744</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu et al. (2022)</span>
<span class="ltx_bibblock">
Wenhao Yu, Chenguang Zhu, Zaitang Li, Zhiting Hu, Qingyun Wang, Heng Ji, and Meng Jiang.

</span>
<span class="ltx_bibblock">A survey of knowledge-enhanced text generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib44.1.1">ACM Comput. Surv.</em>, 54(11s), nov 2022.

</span>
<span class="ltx_bibblock">ISSN 0360-0300.

</span>
<span class="ltx_bibblock">doi: <span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1145/3512467</span>.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3512467" title="">https://doi.org/10.1145/3512467</a>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2024)</span>
<span class="ltx_bibblock">
Peitian Zhang, Zheng Liu, Shitao Xiao, Zhicheng Dou, and Jian-Yun Nie.

</span>
<span class="ltx_bibblock">A multi-task embedder for retrieval augmented LLMs.

</span>
<span class="ltx_bibblock">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), <em class="ltx_emph ltx_font_italic" id="bib.bib45.1.1">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em>, pp.  3537–3553, Bangkok, Thailand, August 2024. Association for Computational Linguistics.

</span>
<span class="ltx_bibblock">URL <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.194" title="">https://aclanthology.org/2024.acl-long.194</a>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure class="ltx_figure" id="A0.F7"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="607" id="A0.F7.g1" src="x5.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 7: </span>Prompts used in structured knowledge utilizer, including decomposing sub-questions, extracting precise knowledge, and infering final answer.</figcaption>
</figure>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Prompts in StructRAG</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Prompts in Data Constructing</h3>
<div class="ltx_para ltx_noindent" id="A1.SS1.p1">
<p class="ltx_p" id="A1.SS1.p1.1">Considering the current lack of training data that determines the optimal structure type based on task requirements, and the difficulty of collecting such data in real-world scenarios, we designed a pipeline for synthesizing, simulating, and judging data for DPO training specifically aimed at a hybrid structure router. In terms of implementation, we created several prompts to drive the three processes of the LLM, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A1.F9" title="Figure 9 ‣ A.2 Prompts of Scattered Knowledge Structurizer ‣ Appendix A Prompts in StructRAG ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">9</span></a>.</p>
</div>
<figure class="ltx_figure" id="A1.F8"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="1212" id="A1.F8.g1" src="x6.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 8: </span>Prompts and examples used in data constructing for training the hybrid structure router, including synthesizing tasks, simulating solutions, and judging difference solutions.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Prompts of Scattered Knowledge Structurizer</h3>
<div class="ltx_para ltx_noindent" id="A1.SS2.p1">
<p class="ltx_p" id="A1.SS2.p1.1">Considering that constructing various structured knowledge from a large scale of scattered information is a complex task that requires strong comprehension and generation abilities, and that LLMs have demonstrated a good capacity for integrating structured knowledge in previous work, we designed prompts to drive LLMs in achieving this process, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A1.F8" title="Figure 8 ‣ A.1 Prompts in Data Constructing ‣ Appendix A Prompts in StructRAG ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">8</span></a></p>
</div>
<figure class="ltx_figure" id="A1.F9"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="1083" id="A1.F9.g1" src="x7.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 9: </span>Prompts used in convert raw information in original documents into structured knowledge via LLMs, different type of structured knowledge use different prompts, and the chunk is directly by splitting without prompt.</figcaption>
</figure>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Prompts of Structured Knowledge Utilizer</h3>
<div class="ltx_para ltx_noindent" id="A1.SS3.p1">
<p class="ltx_p" id="A1.SS3.p1.1">Considering that questions in knowledge-intensive reasoning can be complex combinatorial tasks, breaking them down into multiple simpler sub-questions can leverage the structured knowledge more effectively for reasoning. Therefore, we designed prompts to drive LLMs to achieve question decomposition and precise knowledge extraction, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2410.08815v1#A0.F7" title="Figure 7 ‣ StructRAG: Boosting Knowledge Intensive Reasoning of LLMs via Inference-time Hybrid Information Structurization"><span class="ltx_text ltx_ref_tag">7</span></a>.</p>
</div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Oct 11 13:51:14 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
