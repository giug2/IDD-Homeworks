<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2208.11278] Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript.</title><meta property="og:description" content="In dermatological disease diagnosis, the private data collected by mobile dermatology assistants exist on distributed mobile devices of patients.
Federated learning (FL) can use decentralized data to train models while…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript.">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript.">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2208.11278">

<!--Generated on Wed Mar 13 20:33:46 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
Contrastive learning,  dermatological disease diagnosis,  federated learning,  masked autoencoder.
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease Diagnosis<span id="id13.id1" class="ltx_note ltx_role_thanks"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">thanks: </span>The original conference version of this work was published on ICCAD 2021 proceedings <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. Compared with the original version, major extensions have been made in this manuscript.</span></span></span>
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yawen Wu<sup id="id14.13.id1" class="ltx_sup"><span id="id14.13.id1.1" class="ltx_text ltx_font_italic">1</span></sup>, Dewen Zeng<sup id="id15.14.id2" class="ltx_sup"><span id="id15.14.id2.1" class="ltx_text ltx_font_italic">2</span></sup>, Zhepeng Wang<sup id="id16.15.id3" class="ltx_sup"><span id="id16.15.id3.1" class="ltx_text ltx_font_italic">3</span></sup>, Yi Sheng<sup id="id17.16.id4" class="ltx_sup"><span id="id17.16.id4.1" class="ltx_text ltx_font_italic">3</span></sup>, Lei Yang<sup id="id18.17.id5" class="ltx_sup"><span id="id18.17.id5.1" class="ltx_text ltx_font_italic">3</span></sup>, Alaina J. James<sup id="id19.18.id6" class="ltx_sup"><span id="id19.18.id6.1" class="ltx_text ltx_font_italic">4</span></sup>, Yiyu Shi<sup id="id20.19.id7" class="ltx_sup"><span id="id20.19.id7.1" class="ltx_text ltx_font_italic">2</span></sup>, and Jingtong Hu<sup id="id21.20.id8" class="ltx_sup"><span id="id21.20.id8.1" class="ltx_text ltx_font_italic">1</span></sup> 
<br class="ltx_break"><sup id="id22.21.id9" class="ltx_sup"><span id="id22.21.id9.1" class="ltx_text ltx_font_italic">1</span></sup>Department of Electrical and Computer Engineering, University of Pittsburgh, USA 
<br class="ltx_break"><sup id="id23.22.id10" class="ltx_sup"><span id="id23.22.id10.1" class="ltx_text ltx_font_italic">2</span></sup>Department of Computer Science and Engineering, University of Notre Dame, USA 
<br class="ltx_break"><sup id="id24.23.id11" class="ltx_sup"><span id="id24.23.id11.1" class="ltx_text ltx_font_italic">3</span></sup>Department of Electrical and Computer Engineering, George Mason University, USA 
<br class="ltx_break"><sup id="id25.24.id12" class="ltx_sup"><span id="id25.24.id12.1" class="ltx_text ltx_font_italic">4</span></sup>University of Pittsburgh Medical Center, USA 
<br class="ltx_break">Email: yawen.wu@pitt.edu, dzeng2@nd.edu, zwang48@gmu.edu, ysheng2@gmu.edu, 
<br class="ltx_break">lyang29@gmu.edu, jamesaj@upmc.edu, yshi4@nd.edu, jthu@pitt.edu
</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id26.id1" class="ltx_p">In dermatological disease diagnosis, the private data collected by mobile dermatology assistants exist on distributed mobile devices of patients.
Federated learning (FL) can use decentralized data to train models while keeping data local.
Existing FL methods assume all the data have labels.
However, medical data often comes without full labels due to high labeling costs.
Self-supervised learning (SSL) methods, contrastive learning (CL) and masked autoencoders (MAE), can leverage the unlabeled data to pre-train models, followed by fine-tuning with limited labels.
However, combining SSL and FL has unique challenges.
For example, CL requires diverse data but each device only has limited data.
For MAE,
while Vision Transformer (ViT) based MAE has higher accuracy over CNNs in centralized learning, MAE’s performance in FL with unlabeled data has not been investigated.
Besides, the ViT synchronization between the server and clients is different from traditional CNNs. Therefore, special synchronization methods need to be designed.
In this work, we propose two federated self-supervised learning frameworks for dermatological disease diagnosis with limited labels. The first one features lower computation costs, suitable for mobile devices. The second one features high accuracy and fits high-performance servers.
Based on CL, we proposed federated contrastive learning with feature sharing (FedCLF). Features are shared for diverse contrastive information without sharing raw data for privacy.
Based on MAE, we proposed FedMAE. Knowledge split separates the global and local knowledge learned from each client. Only global knowledge is aggregated for higher generalization performance.
Experiments on dermatological disease datasets show superior accuracy of the proposed frameworks over state-of-the-arts.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
Contrastive learning, dermatological disease diagnosis, federated learning, masked autoencoder.

</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Skin diseases are a major global health threat to a tremendous amount of people in the world <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>.
These diseases not only injure the physical health including the risk of
skin cancer but also can result in psychological problems such as lack of self-confidence and psychological depression due to damaged appearance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>.
Deep learning models have shown great promise in skin disease diagnosis <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> and have been widely deployed on mobile devices as mobile dermatology assistants <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>, <a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>.
These models are trained on a large amount of data with full labels to achieve a high accuracy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>.
When the large-scale datasets for training are not available, the performance of deep learning models will greatly degrade <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>.
However, the images of skin disease are usually distributed on mobile devices of patients, which are impractical and even illegal to combine in a single location <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite> to form large-scale datasets since data sharing is constrained by the Health Insurance Portability and Accountability Act (HIPAA) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>.
For example, skin disease images can be taken by the cameras of mobile devices and stored for a preliminary self-diagnosis <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>.
But patients are usually reluctant to share highly private and sensitive images with the data center.
Without large-scale datasets in a single location, it is not feasible to perform centralized training for learning an accurate model.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Federated learning (FL) is a distributed learning framework where many mobile devices collaboratively learn a global prediction model without sharing private data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>.
By leveraging FL, distributed data on mobile devices
can be used to train an accurate shared model to diagnose skin diseases while keeping data local.
Existing FL works assume the local data on devices are fully labeled and use supervised learning for local model updates. However, the assumption of fully labeled data is impractical. For instance, the patients may not want to spend time labeling their skin images captured by cameras on mobile phones. Even voluntary patients may not be able to accurately label all their own images due to the lack of expertise.
Therefore, most of the distributed data on devices will be unlabeled, which makes supervised FL unrealistic.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Recently developed self-supervised learning (SSL) approaches have advanced the visual representation learning from unlabeled data and effectively improves the model accuracy on the downstream task such as disease diagnosis.
The state-of-the-art SSL methods can be categorized as contrastive learning and generative learning, both of which have the potential to be combined with FL to leverage the decentralized unlabeled data for more accurate disease diagnosis.
These two categories of SSL methods have different model performance and computation costs.
Based on them, we propose two frameworks to enable federated self-supervised learning.
The first framework is based on contrastive learning with CNN backbones and it features lower computation costs compared with the second one. This framework is suitable for computation-constrained mobile devices.
The second framework is based on generative learning and Vision Transformers backbones, which features higher accuracy with higher computation cost. This framework is suitable for distributed medical institutions with high-performance computation devices such as server GPUs.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">The <span id="S1.p4.1.1" class="ltx_text ltx_font_bold">first</span> SSL category, contrastive learning (CL), is a recently developed technique to learn effective visual representations of data without using labels <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>.
CL learns by comparing different views of images.
By combining CL with FL as federated contrastive learning, the conventional supervised learning on local devices can be replaced by CL pre-training without using labels.
After that, the pre-trained model can be used as the initialization to fine-tune for the diagnosis task with limited labels.
In this way, an accurate dermatological disease diagnosis model can be learned by using distributed data with limited labels.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">However, simply combining CL into FL cannot achieve optimal performance.
This is because existing CL approaches <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib17" title="" class="ltx_ref">17</a>]</cite> are originally developed for centralized training on large-scale datasets, assuming sufficiently diverse data is available for training.
More specifically, different from supervised learning, in which each image is used independently from other images, CL relies on diverse data to learn the correlation between different images.
Without large data diversity, the performance of CL performance will greatly degrade, which also results in low accuracy of the skin disease diagnosis after fine-tuning with labeled data.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">To address this challenge, we propose a framework federated contrastive learning with feature sharing (FedCLF) to enable effective FL with limited labels. This framework has two stages.
The first stage is federated self-supervised pre-training. Feature sharing is proposed to improve the data diversity of local contrastive learning while avoiding raw data sharing. Data features encoded in vectors are shared among devices, such that diverse and accurate contrastive information is provided to each device.
By leveraging the shared features, representations of higher quality are learned on local devices, which improves the quality of the aggregated model in FL.</p>
</div>
<div id="S1.p7" class="ltx_para">
<p id="S1.p7.1" class="ltx_p">The second stage is fine-tuning with limited labeled data.
By using the pre-trained model in the first stage as a good initialization, the second stage learns the task of dermatological disease diagnosis by either fine-tuning independently on each device, or fine-tuning collaboratively on all devices by supervised federated learning with limited labels.</p>
</div>
<div id="S1.p8" class="ltx_para">
<p id="S1.p8.1" class="ltx_p">The <span id="S1.p8.1.1" class="ltx_text ltx_font_bold">second</span> SSL category is generative self-supervised learning.
The very recently developed method masked autoencoders (MAE) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> leverages masked autoencoding <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> for learning from unlabeled data.
Different from CL which usually uses CNNs as the backbone, MAE uses Vision Transformers (ViT) as the backbone and leverages the sequence of image patches for SSL. During learning, MAE removes a portion of an input image and learns to predict the removed content.
While the ViT-based MAE has demonstrated its advantages over CNN-based SSL methods in terms of learned representation quality and accuracy on downstream tasks in centralized training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, there is no existing work to investigate its performance in the FL setting with unlabeled data.
Besides, the model synchronization of MAE between the server and distributed clients remains unexplored. In FL, usually, the whole model is synchronized <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>. However, when applying MAE in FL, simply synchronizing the whole model may not be the best option.
More specifically, the MAE consists of an encoder and a decoder, both of which has a ViT-like architecture.
When applied to the FL setting, the learned parameters of some components in the local MAE model can be tightly related to the local data and incorporate too much knowledge of the local data. Since the goal of FL is to learn a global and generalizable model with global knowledge, synchronizing all parameters will bring too much local knowledge to the global model and degrade its generalization performance.</p>
</div>
<div id="S1.p9" class="ltx_para">
<p id="S1.p9.1" class="ltx_p">To address these problems, we propose a framework FedMAE to systematically explore and improve the performance of MAE when combined with FL.
We first investigate the performance of FedMAE and demonstrate its superior accuracy in dermatological disease.
To further improve FedMAE, we explore the components in MAE to synchronize between the server and clients. Instead of synchronizing all the components, we split the MAE model into the local-knowledge components and global-knowledge components. Only the parameters of global-knowledge components are synchronized and the parameters of local-knowledge components are kept local without synchronization, which yields better representation quality and higher accuracy than synchronizing the entire model.</p>
</div>
<div id="S1.p10" class="ltx_para">
<p id="S1.p10.1" class="ltx_p">In summary, the main contributions of this paper include:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p"><span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">Fed</span><span id="S1.I1.i1.p1.1.2" class="ltx_text ltx_font_bold">erated <span id="S1.I1.i1.p1.1.2.1" class="ltx_text ltx_framed ltx_framed_underline">c</span>ontrastive <span id="S1.I1.i1.p1.1.2.2" class="ltx_text ltx_framed ltx_framed_underline">l</span>earning with <span id="S1.I1.i1.p1.1.2.3" class="ltx_text ltx_framed ltx_framed_underline">f</span>eature sharing (FedCLF).</span>
We propose a FedCLF framework to enable effective learning with limited labels for dermatological disease diagnosis.
FedCLF pre-trains the model on distributed unlabeled data to provide a good initialization, followed by fine-tuning with a limited number of labeled data to perform the disease diagnosis.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p"><span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_bold">Feature sharing for better local learning.</span>
We propose a feature sharing method to improve the data diversity of local contrastive learning while avoiding raw data sharing for privacy.
The shared features provide more diverse features to contrast with during local learning on each mobile device for better representations.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p"><span id="S1.I1.i3.p1.1.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline">Fed</span><span id="S1.I1.i3.p1.1.2" class="ltx_text ltx_font_bold">erated <span id="S1.I1.i3.p1.1.2.1" class="ltx_text ltx_framed ltx_framed_underline">m</span>asked <span id="S1.I1.i3.p1.1.2.2" class="ltx_text ltx_framed ltx_framed_underline">a</span>uto<span id="S1.I1.i3.p1.1.2.3" class="ltx_text ltx_framed ltx_framed_underline">e</span>ncoder framework (FedMAE).</span> To further improve the accuracy of federated self-supervised learning, we propose FedMAE to leverage masked autoencoder (MAE) and ViT backbones to learn from decentralized data. We investigate the performance of FedMAE and demonstrate its superiority over CL with CNN backbones in federated self-supervised learning.</p>
</div>
</li>
<li id="S1.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i4.p1" class="ltx_para">
<p id="S1.I1.i4.p1.1" class="ltx_p"><span id="S1.I1.i4.p1.1.1" class="ltx_text ltx_font_bold">Global and local knowledge split and selective knowledge aggregation.</span> To learn a shared global model with good generalization performance, we split the knowledge learned by FedMAE into global knowledge and local knowledge. Only global knowledge is aggregated and local knowledge is kept local without interfering with the global model.</p>
</div>
</li>
<li id="S1.I1.i5" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i5.p1" class="ltx_para">
<p id="S1.I1.i5.p1.1" class="ltx_p"><span id="S1.I1.i5.p1.1.1" class="ltx_text ltx_font_bold">More accurate diagnosis and better label efficiency.</span>
Experiments on dermatological disease datasets show superior diagnostic accuracy and label efficiency over state-of-the-art techniques.</p>
</div>
</li>
</ul>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Background and Related Work</span>
</h2>

<figure id="S2.F1" class="ltx_figure"><img src="/html/2208.11278/assets/x1.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_square" width="346" height="287" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F1.8.4.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S2.F1.6.3" class="ltx_text" style="font-size:90%;">Illustration of contrastive learning. Two separate data augmentations operators are sampled from the same family of augmentations (<math id="S2.F1.4.1.m1.1" class="ltx_Math" alttext="t\sim T" display="inline"><semantics id="S2.F1.4.1.m1.1b"><mrow id="S2.F1.4.1.m1.1.1" xref="S2.F1.4.1.m1.1.1.cmml"><mi id="S2.F1.4.1.m1.1.1.2" xref="S2.F1.4.1.m1.1.1.2.cmml">t</mi><mo id="S2.F1.4.1.m1.1.1.1" xref="S2.F1.4.1.m1.1.1.1.cmml">∼</mo><mi id="S2.F1.4.1.m1.1.1.3" xref="S2.F1.4.1.m1.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.F1.4.1.m1.1c"><apply id="S2.F1.4.1.m1.1.1.cmml" xref="S2.F1.4.1.m1.1.1"><csymbol cd="latexml" id="S2.F1.4.1.m1.1.1.1.cmml" xref="S2.F1.4.1.m1.1.1.1">similar-to</csymbol><ci id="S2.F1.4.1.m1.1.1.2.cmml" xref="S2.F1.4.1.m1.1.1.2">𝑡</ci><ci id="S2.F1.4.1.m1.1.1.3.cmml" xref="S2.F1.4.1.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.4.1.m1.1d">t\sim T</annotation></semantics></math> and <math id="S2.F1.5.2.m2.1" class="ltx_Math" alttext="t^{\prime}\sim T" display="inline"><semantics id="S2.F1.5.2.m2.1b"><mrow id="S2.F1.5.2.m2.1.1" xref="S2.F1.5.2.m2.1.1.cmml"><msup id="S2.F1.5.2.m2.1.1.2" xref="S2.F1.5.2.m2.1.1.2.cmml"><mi id="S2.F1.5.2.m2.1.1.2.2" xref="S2.F1.5.2.m2.1.1.2.2.cmml">t</mi><mo id="S2.F1.5.2.m2.1.1.2.3" xref="S2.F1.5.2.m2.1.1.2.3.cmml">′</mo></msup><mo id="S2.F1.5.2.m2.1.1.1" xref="S2.F1.5.2.m2.1.1.1.cmml">∼</mo><mi id="S2.F1.5.2.m2.1.1.3" xref="S2.F1.5.2.m2.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.F1.5.2.m2.1c"><apply id="S2.F1.5.2.m2.1.1.cmml" xref="S2.F1.5.2.m2.1.1"><csymbol cd="latexml" id="S2.F1.5.2.m2.1.1.1.cmml" xref="S2.F1.5.2.m2.1.1.1">similar-to</csymbol><apply id="S2.F1.5.2.m2.1.1.2.cmml" xref="S2.F1.5.2.m2.1.1.2"><csymbol cd="ambiguous" id="S2.F1.5.2.m2.1.1.2.1.cmml" xref="S2.F1.5.2.m2.1.1.2">superscript</csymbol><ci id="S2.F1.5.2.m2.1.1.2.2.cmml" xref="S2.F1.5.2.m2.1.1.2.2">𝑡</ci><ci id="S2.F1.5.2.m2.1.1.2.3.cmml" xref="S2.F1.5.2.m2.1.1.2.3">′</ci></apply><ci id="S2.F1.5.2.m2.1.1.3.cmml" xref="S2.F1.5.2.m2.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.5.2.m2.1d">t^{\prime}\sim T</annotation></semantics></math>) and then applied to one image <math id="S2.F1.6.3.m3.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.F1.6.3.m3.1b"><mi id="S2.F1.6.3.m3.1.1" xref="S2.F1.6.3.m3.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.F1.6.3.m3.1c"><ci id="S2.F1.6.3.m3.1.1.cmml" xref="S2.F1.6.3.m3.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.F1.6.3.m3.1d">x</annotation></semantics></math>. The representations of the two transformed versions are pushing close to each other and apart from the representations of other images.</span></figcaption>
</figure>
<figure id="S2.F2" class="ltx_figure"><img src="/html/2208.11278/assets/x2.png" id="S2.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="132" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F2.2.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S2.F2.3.2" class="ltx_text" style="font-size:90%;">Federated contrastive learning with feature sharing (FedCLF) for pre-training the model with unlabeled data, by which good data representations are learned.
After pre-training, the learned model is used as the initialization for fine-tuning with limited labels for dermatological disease classification.
</span></figcaption>
</figure>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS1.5.1.1" class="ltx_text">II-A</span> </span><span id="S2.SS1.6.2" class="ltx_text ltx_font_italic">Contrastive Learning</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.17" class="ltx_p">Contrastive learning (CL) is a powerful self-supervised method to learn visual representations from unlabeled data <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib27" title="" class="ltx_ref">27</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>.
CL pre-trains a model and provides a high generalization performance for downstream tasks such as classification and segmentation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>]</cite>.
CL learns representations by performing a proxy task of discriminating the image identities.
In the learning process, CL minimizes a contrastive loss evaluated on pairs of feature vectors extracted from data augmentations (e.g. cropping, rotation, and color distortion) of the image <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>.
By optimizing the contrastive loss, CL maximizes the agreement of representations between transformations of the same identity and minimizes the agreement between different images <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>]</cite>.
As shown in Fig. <a href="#S2.F1" title="Figure 1 ‣ II Background and Related Work ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, for an unlabeled input image <math id="S2.SS1.p1.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS1.p1.1.m1.1a"><mi id="S2.SS1.p1.1.m1.1.1" xref="S2.SS1.p1.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.1b"><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.1c">x</annotation></semantics></math>, two random transformations <math id="S2.SS1.p1.2.m2.1" class="ltx_Math" alttext="t\sim T" display="inline"><semantics id="S2.SS1.p1.2.m2.1a"><mrow id="S2.SS1.p1.2.m2.1.1" xref="S2.SS1.p1.2.m2.1.1.cmml"><mi id="S2.SS1.p1.2.m2.1.1.2" xref="S2.SS1.p1.2.m2.1.1.2.cmml">t</mi><mo id="S2.SS1.p1.2.m2.1.1.1" xref="S2.SS1.p1.2.m2.1.1.1.cmml">∼</mo><mi id="S2.SS1.p1.2.m2.1.1.3" xref="S2.SS1.p1.2.m2.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.1b"><apply id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1"><csymbol cd="latexml" id="S2.SS1.p1.2.m2.1.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1.1">similar-to</csymbol><ci id="S2.SS1.p1.2.m2.1.1.2.cmml" xref="S2.SS1.p1.2.m2.1.1.2">𝑡</ci><ci id="S2.SS1.p1.2.m2.1.1.3.cmml" xref="S2.SS1.p1.2.m2.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.1c">t\sim T</annotation></semantics></math> and <math id="S2.SS1.p1.3.m3.1" class="ltx_Math" alttext="t^{\prime}\sim T" display="inline"><semantics id="S2.SS1.p1.3.m3.1a"><mrow id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml"><msup id="S2.SS1.p1.3.m3.1.1.2" xref="S2.SS1.p1.3.m3.1.1.2.cmml"><mi id="S2.SS1.p1.3.m3.1.1.2.2" xref="S2.SS1.p1.3.m3.1.1.2.2.cmml">t</mi><mo id="S2.SS1.p1.3.m3.1.1.2.3" xref="S2.SS1.p1.3.m3.1.1.2.3.cmml">′</mo></msup><mo id="S2.SS1.p1.3.m3.1.1.1" xref="S2.SS1.p1.3.m3.1.1.1.cmml">∼</mo><mi id="S2.SS1.p1.3.m3.1.1.3" xref="S2.SS1.p1.3.m3.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><apply id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1"><csymbol cd="latexml" id="S2.SS1.p1.3.m3.1.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1.1">similar-to</csymbol><apply id="S2.SS1.p1.3.m3.1.1.2.cmml" xref="S2.SS1.p1.3.m3.1.1.2"><csymbol cd="ambiguous" id="S2.SS1.p1.3.m3.1.1.2.1.cmml" xref="S2.SS1.p1.3.m3.1.1.2">superscript</csymbol><ci id="S2.SS1.p1.3.m3.1.1.2.2.cmml" xref="S2.SS1.p1.3.m3.1.1.2.2">𝑡</ci><ci id="S2.SS1.p1.3.m3.1.1.2.3.cmml" xref="S2.SS1.p1.3.m3.1.1.2.3">′</ci></apply><ci id="S2.SS1.p1.3.m3.1.1.3.cmml" xref="S2.SS1.p1.3.m3.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">t^{\prime}\sim T</annotation></semantics></math> are applied to <math id="S2.SS1.p1.4.m4.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S2.SS1.p1.4.m4.1a"><mi id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><ci id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">x</annotation></semantics></math> to produce <math id="S2.SS1.p1.5.m5.1" class="ltx_Math" alttext="x_{q}" display="inline"><semantics id="S2.SS1.p1.5.m5.1a"><msub id="S2.SS1.p1.5.m5.1.1" xref="S2.SS1.p1.5.m5.1.1.cmml"><mi id="S2.SS1.p1.5.m5.1.1.2" xref="S2.SS1.p1.5.m5.1.1.2.cmml">x</mi><mi id="S2.SS1.p1.5.m5.1.1.3" xref="S2.SS1.p1.5.m5.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.1b"><apply id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.1.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS1.p1.5.m5.1.1.2.cmml" xref="S2.SS1.p1.5.m5.1.1.2">𝑥</ci><ci id="S2.SS1.p1.5.m5.1.1.3.cmml" xref="S2.SS1.p1.5.m5.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.1c">x_{q}</annotation></semantics></math> and <math id="S2.SS1.p1.6.m6.1" class="ltx_Math" alttext="x_{k^{+}}" display="inline"><semantics id="S2.SS1.p1.6.m6.1a"><msub id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml"><mi id="S2.SS1.p1.6.m6.1.1.2" xref="S2.SS1.p1.6.m6.1.1.2.cmml">x</mi><msup id="S2.SS1.p1.6.m6.1.1.3" xref="S2.SS1.p1.6.m6.1.1.3.cmml"><mi id="S2.SS1.p1.6.m6.1.1.3.2" xref="S2.SS1.p1.6.m6.1.1.3.2.cmml">k</mi><mo id="S2.SS1.p1.6.m6.1.1.3.3" xref="S2.SS1.p1.6.m6.1.1.3.3.cmml">+</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b"><apply id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.1.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S2.SS1.p1.6.m6.1.1.2.cmml" xref="S2.SS1.p1.6.m6.1.1.2">𝑥</ci><apply id="S2.SS1.p1.6.m6.1.1.3.cmml" xref="S2.SS1.p1.6.m6.1.1.3"><csymbol cd="ambiguous" id="S2.SS1.p1.6.m6.1.1.3.1.cmml" xref="S2.SS1.p1.6.m6.1.1.3">superscript</csymbol><ci id="S2.SS1.p1.6.m6.1.1.3.2.cmml" xref="S2.SS1.p1.6.m6.1.1.3.2">𝑘</ci><plus id="S2.SS1.p1.6.m6.1.1.3.3.cmml" xref="S2.SS1.p1.6.m6.1.1.3.3"></plus></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">x_{k^{+}}</annotation></semantics></math>, both of which are then fed into the model <math id="S2.SS1.p1.7.m7.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S2.SS1.p1.7.m7.1a"><mi id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.1b"><ci id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.1c">f</annotation></semantics></math> and projection head <math id="S2.SS1.p1.8.m8.1" class="ltx_Math" alttext="g" display="inline"><semantics id="S2.SS1.p1.8.m8.1a"><mi id="S2.SS1.p1.8.m8.1.1" xref="S2.SS1.p1.8.m8.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m8.1b"><ci id="S2.SS1.p1.8.m8.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m8.1c">g</annotation></semantics></math> to get representations <math id="S2.SS1.p1.9.m9.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S2.SS1.p1.9.m9.1a"><mi id="S2.SS1.p1.9.m9.1.1" xref="S2.SS1.p1.9.m9.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m9.1b"><ci id="S2.SS1.p1.9.m9.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m9.1c">q</annotation></semantics></math> and <math id="S2.SS1.p1.10.m10.1" class="ltx_Math" alttext="k^{+}" display="inline"><semantics id="S2.SS1.p1.10.m10.1a"><msup id="S2.SS1.p1.10.m10.1.1" xref="S2.SS1.p1.10.m10.1.1.cmml"><mi id="S2.SS1.p1.10.m10.1.1.2" xref="S2.SS1.p1.10.m10.1.1.2.cmml">k</mi><mo id="S2.SS1.p1.10.m10.1.1.3" xref="S2.SS1.p1.10.m10.1.1.3.cmml">+</mo></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m10.1b"><apply id="S2.SS1.p1.10.m10.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.10.m10.1.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1">superscript</csymbol><ci id="S2.SS1.p1.10.m10.1.1.2.cmml" xref="S2.SS1.p1.10.m10.1.1.2">𝑘</ci><plus id="S2.SS1.p1.10.m10.1.1.3.cmml" xref="S2.SS1.p1.10.m10.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m10.1c">k^{+}</annotation></semantics></math>.
Let <math id="S2.SS1.p1.11.m11.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S2.SS1.p1.11.m11.1a"><mi id="S2.SS1.p1.11.m11.1.1" xref="S2.SS1.p1.11.m11.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.11.m11.1b"><ci id="S2.SS1.p1.11.m11.1.1.cmml" xref="S2.SS1.p1.11.m11.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.11.m11.1c">Q</annotation></semantics></math> be a memory bank with <math id="S2.SS1.p1.12.m12.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S2.SS1.p1.12.m12.1a"><mi id="S2.SS1.p1.12.m12.1.1" xref="S2.SS1.p1.12.m12.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.12.m12.1b"><ci id="S2.SS1.p1.12.m12.1.1.cmml" xref="S2.SS1.p1.12.m12.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.12.m12.1c">K</annotation></semantics></math> representation vectors stored. By using every feature <math id="S2.SS1.p1.13.m13.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.SS1.p1.13.m13.1a"><mi id="S2.SS1.p1.13.m13.1.1" xref="S2.SS1.p1.13.m13.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.13.m13.1b"><ci id="S2.SS1.p1.13.m13.1.1.cmml" xref="S2.SS1.p1.13.m13.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.13.m13.1c">n</annotation></semantics></math> in the memory bank <math id="S2.SS1.p1.14.m14.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S2.SS1.p1.14.m14.1a"><mi id="S2.SS1.p1.14.m14.1.1" xref="S2.SS1.p1.14.m14.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.14.m14.1b"><ci id="S2.SS1.p1.14.m14.1.1.cmml" xref="S2.SS1.p1.14.m14.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.14.m14.1c">Q</annotation></semantics></math> as negatives, a positive pair <math id="S2.SS1.p1.15.m15.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S2.SS1.p1.15.m15.1a"><mi id="S2.SS1.p1.15.m15.1.1" xref="S2.SS1.p1.15.m15.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.15.m15.1b"><ci id="S2.SS1.p1.15.m15.1.1.cmml" xref="S2.SS1.p1.15.m15.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.15.m15.1c">q</annotation></semantics></math> and <math id="S2.SS1.p1.16.m16.1" class="ltx_Math" alttext="k^{+}" display="inline"><semantics id="S2.SS1.p1.16.m16.1a"><msup id="S2.SS1.p1.16.m16.1.1" xref="S2.SS1.p1.16.m16.1.1.cmml"><mi id="S2.SS1.p1.16.m16.1.1.2" xref="S2.SS1.p1.16.m16.1.1.2.cmml">k</mi><mo id="S2.SS1.p1.16.m16.1.1.3" xref="S2.SS1.p1.16.m16.1.1.3.cmml">+</mo></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.16.m16.1b"><apply id="S2.SS1.p1.16.m16.1.1.cmml" xref="S2.SS1.p1.16.m16.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.16.m16.1.1.1.cmml" xref="S2.SS1.p1.16.m16.1.1">superscript</csymbol><ci id="S2.SS1.p1.16.m16.1.1.2.cmml" xref="S2.SS1.p1.16.m16.1.1.2">𝑘</ci><plus id="S2.SS1.p1.16.m16.1.1.3.cmml" xref="S2.SS1.p1.16.m16.1.1.3"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.16.m16.1c">k^{+}</annotation></semantics></math> are contrasted with every <math id="S2.SS1.p1.17.m17.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.SS1.p1.17.m17.1a"><mi id="S2.SS1.p1.17.m17.1.1" xref="S2.SS1.p1.17.m17.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.17.m17.1b"><ci id="S2.SS1.p1.17.m17.1.1.cmml" xref="S2.SS1.p1.17.m17.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.17.m17.1c">n</annotation></semantics></math> by the following contrastive loss function.</p>
<table id="S2.E1" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S2.E1.m1.7" class="ltx_Math" alttext="\ell_{q}=-\log\frac{\exp(q\cdot k^{+}/\tau)}{\exp(q\cdot k^{+}/\tau)+\sum_{n\in Q}\exp(q\cdot n/\tau)}." display="block"><semantics id="S2.E1.m1.7a"><mrow id="S2.E1.m1.7.7.1" xref="S2.E1.m1.7.7.1.1.cmml"><mrow id="S2.E1.m1.7.7.1.1" xref="S2.E1.m1.7.7.1.1.cmml"><msub id="S2.E1.m1.7.7.1.1.2" xref="S2.E1.m1.7.7.1.1.2.cmml"><mi mathvariant="normal" id="S2.E1.m1.7.7.1.1.2.2" xref="S2.E1.m1.7.7.1.1.2.2.cmml">ℓ</mi><mi id="S2.E1.m1.7.7.1.1.2.3" xref="S2.E1.m1.7.7.1.1.2.3.cmml">q</mi></msub><mo id="S2.E1.m1.7.7.1.1.1" xref="S2.E1.m1.7.7.1.1.1.cmml">=</mo><mrow id="S2.E1.m1.7.7.1.1.3" xref="S2.E1.m1.7.7.1.1.3.cmml"><mo rspace="0.167em" id="S2.E1.m1.7.7.1.1.3a" xref="S2.E1.m1.7.7.1.1.3.cmml">−</mo><mrow id="S2.E1.m1.7.7.1.1.3.2" xref="S2.E1.m1.7.7.1.1.3.2.cmml"><mi id="S2.E1.m1.7.7.1.1.3.2.1" xref="S2.E1.m1.7.7.1.1.3.2.1.cmml">log</mi><mo lspace="0.167em" id="S2.E1.m1.7.7.1.1.3.2a" xref="S2.E1.m1.7.7.1.1.3.2.cmml">⁡</mo><mfrac id="S2.E1.m1.6.6" xref="S2.E1.m1.6.6.cmml"><mrow id="S2.E1.m1.2.2.2.2" xref="S2.E1.m1.2.2.2.3.cmml"><mi id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml">exp</mi><mo id="S2.E1.m1.2.2.2.2a" xref="S2.E1.m1.2.2.2.3.cmml">⁡</mo><mrow id="S2.E1.m1.2.2.2.2.1" xref="S2.E1.m1.2.2.2.3.cmml"><mo stretchy="false" id="S2.E1.m1.2.2.2.2.1.2" xref="S2.E1.m1.2.2.2.3.cmml">(</mo><mrow id="S2.E1.m1.2.2.2.2.1.1" xref="S2.E1.m1.2.2.2.2.1.1.cmml"><mrow id="S2.E1.m1.2.2.2.2.1.1.2" xref="S2.E1.m1.2.2.2.2.1.1.2.cmml"><mi id="S2.E1.m1.2.2.2.2.1.1.2.2" xref="S2.E1.m1.2.2.2.2.1.1.2.2.cmml">q</mi><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.2.2.2.2.1.1.2.1" xref="S2.E1.m1.2.2.2.2.1.1.2.1.cmml">⋅</mo><msup id="S2.E1.m1.2.2.2.2.1.1.2.3" xref="S2.E1.m1.2.2.2.2.1.1.2.3.cmml"><mi id="S2.E1.m1.2.2.2.2.1.1.2.3.2" xref="S2.E1.m1.2.2.2.2.1.1.2.3.2.cmml">k</mi><mo id="S2.E1.m1.2.2.2.2.1.1.2.3.3" xref="S2.E1.m1.2.2.2.2.1.1.2.3.3.cmml">+</mo></msup></mrow><mo id="S2.E1.m1.2.2.2.2.1.1.1" xref="S2.E1.m1.2.2.2.2.1.1.1.cmml">/</mo><mi id="S2.E1.m1.2.2.2.2.1.1.3" xref="S2.E1.m1.2.2.2.2.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S2.E1.m1.2.2.2.2.1.3" xref="S2.E1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><mrow id="S2.E1.m1.6.6.6" xref="S2.E1.m1.6.6.6.cmml"><mrow id="S2.E1.m1.5.5.5.3.1" xref="S2.E1.m1.5.5.5.3.2.cmml"><mi id="S2.E1.m1.3.3.3.1" xref="S2.E1.m1.3.3.3.1.cmml">exp</mi><mo id="S2.E1.m1.5.5.5.3.1a" xref="S2.E1.m1.5.5.5.3.2.cmml">⁡</mo><mrow id="S2.E1.m1.5.5.5.3.1.1" xref="S2.E1.m1.5.5.5.3.2.cmml"><mo stretchy="false" id="S2.E1.m1.5.5.5.3.1.1.2" xref="S2.E1.m1.5.5.5.3.2.cmml">(</mo><mrow id="S2.E1.m1.5.5.5.3.1.1.1" xref="S2.E1.m1.5.5.5.3.1.1.1.cmml"><mrow id="S2.E1.m1.5.5.5.3.1.1.1.2" xref="S2.E1.m1.5.5.5.3.1.1.1.2.cmml"><mi id="S2.E1.m1.5.5.5.3.1.1.1.2.2" xref="S2.E1.m1.5.5.5.3.1.1.1.2.2.cmml">q</mi><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.5.5.5.3.1.1.1.2.1" xref="S2.E1.m1.5.5.5.3.1.1.1.2.1.cmml">⋅</mo><msup id="S2.E1.m1.5.5.5.3.1.1.1.2.3" xref="S2.E1.m1.5.5.5.3.1.1.1.2.3.cmml"><mi id="S2.E1.m1.5.5.5.3.1.1.1.2.3.2" xref="S2.E1.m1.5.5.5.3.1.1.1.2.3.2.cmml">k</mi><mo id="S2.E1.m1.5.5.5.3.1.1.1.2.3.3" xref="S2.E1.m1.5.5.5.3.1.1.1.2.3.3.cmml">+</mo></msup></mrow><mo id="S2.E1.m1.5.5.5.3.1.1.1.1" xref="S2.E1.m1.5.5.5.3.1.1.1.1.cmml">/</mo><mi id="S2.E1.m1.5.5.5.3.1.1.1.3" xref="S2.E1.m1.5.5.5.3.1.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S2.E1.m1.5.5.5.3.1.1.3" xref="S2.E1.m1.5.5.5.3.2.cmml">)</mo></mrow></mrow><mo rspace="0.055em" id="S2.E1.m1.6.6.6.5" xref="S2.E1.m1.6.6.6.5.cmml">+</mo><mrow id="S2.E1.m1.6.6.6.4" xref="S2.E1.m1.6.6.6.4.cmml"><msub id="S2.E1.m1.6.6.6.4.2" xref="S2.E1.m1.6.6.6.4.2.cmml"><mo id="S2.E1.m1.6.6.6.4.2.2" xref="S2.E1.m1.6.6.6.4.2.2.cmml">∑</mo><mrow id="S2.E1.m1.6.6.6.4.2.3" xref="S2.E1.m1.6.6.6.4.2.3.cmml"><mi id="S2.E1.m1.6.6.6.4.2.3.2" xref="S2.E1.m1.6.6.6.4.2.3.2.cmml">n</mi><mo id="S2.E1.m1.6.6.6.4.2.3.1" xref="S2.E1.m1.6.6.6.4.2.3.1.cmml">∈</mo><mi id="S2.E1.m1.6.6.6.4.2.3.3" xref="S2.E1.m1.6.6.6.4.2.3.3.cmml">Q</mi></mrow></msub><mrow id="S2.E1.m1.6.6.6.4.1.1" xref="S2.E1.m1.6.6.6.4.1.2.cmml"><mi id="S2.E1.m1.4.4.4.2" xref="S2.E1.m1.4.4.4.2.cmml">exp</mi><mo id="S2.E1.m1.6.6.6.4.1.1a" xref="S2.E1.m1.6.6.6.4.1.2.cmml">⁡</mo><mrow id="S2.E1.m1.6.6.6.4.1.1.1" xref="S2.E1.m1.6.6.6.4.1.2.cmml"><mo stretchy="false" id="S2.E1.m1.6.6.6.4.1.1.1.2" xref="S2.E1.m1.6.6.6.4.1.2.cmml">(</mo><mrow id="S2.E1.m1.6.6.6.4.1.1.1.1" xref="S2.E1.m1.6.6.6.4.1.1.1.1.cmml"><mrow id="S2.E1.m1.6.6.6.4.1.1.1.1.2" xref="S2.E1.m1.6.6.6.4.1.1.1.1.2.cmml"><mi id="S2.E1.m1.6.6.6.4.1.1.1.1.2.2" xref="S2.E1.m1.6.6.6.4.1.1.1.1.2.2.cmml">q</mi><mo lspace="0.222em" rspace="0.222em" id="S2.E1.m1.6.6.6.4.1.1.1.1.2.1" xref="S2.E1.m1.6.6.6.4.1.1.1.1.2.1.cmml">⋅</mo><mi id="S2.E1.m1.6.6.6.4.1.1.1.1.2.3" xref="S2.E1.m1.6.6.6.4.1.1.1.1.2.3.cmml">n</mi></mrow><mo id="S2.E1.m1.6.6.6.4.1.1.1.1.1" xref="S2.E1.m1.6.6.6.4.1.1.1.1.1.cmml">/</mo><mi id="S2.E1.m1.6.6.6.4.1.1.1.1.3" xref="S2.E1.m1.6.6.6.4.1.1.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S2.E1.m1.6.6.6.4.1.1.1.3" xref="S2.E1.m1.6.6.6.4.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow><mo lspace="0em" id="S2.E1.m1.7.7.1.2" xref="S2.E1.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.7b"><apply id="S2.E1.m1.7.7.1.1.cmml" xref="S2.E1.m1.7.7.1"><eq id="S2.E1.m1.7.7.1.1.1.cmml" xref="S2.E1.m1.7.7.1.1.1"></eq><apply id="S2.E1.m1.7.7.1.1.2.cmml" xref="S2.E1.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.7.7.1.1.2.1.cmml" xref="S2.E1.m1.7.7.1.1.2">subscript</csymbol><ci id="S2.E1.m1.7.7.1.1.2.2.cmml" xref="S2.E1.m1.7.7.1.1.2.2">ℓ</ci><ci id="S2.E1.m1.7.7.1.1.2.3.cmml" xref="S2.E1.m1.7.7.1.1.2.3">𝑞</ci></apply><apply id="S2.E1.m1.7.7.1.1.3.cmml" xref="S2.E1.m1.7.7.1.1.3"><minus id="S2.E1.m1.7.7.1.1.3.1.cmml" xref="S2.E1.m1.7.7.1.1.3"></minus><apply id="S2.E1.m1.7.7.1.1.3.2.cmml" xref="S2.E1.m1.7.7.1.1.3.2"><log id="S2.E1.m1.7.7.1.1.3.2.1.cmml" xref="S2.E1.m1.7.7.1.1.3.2.1"></log><apply id="S2.E1.m1.6.6.cmml" xref="S2.E1.m1.6.6"><divide id="S2.E1.m1.6.6.7.cmml" xref="S2.E1.m1.6.6"></divide><apply id="S2.E1.m1.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2"><exp id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1"></exp><apply id="S2.E1.m1.2.2.2.2.1.1.cmml" xref="S2.E1.m1.2.2.2.2.1.1"><divide id="S2.E1.m1.2.2.2.2.1.1.1.cmml" xref="S2.E1.m1.2.2.2.2.1.1.1"></divide><apply id="S2.E1.m1.2.2.2.2.1.1.2.cmml" xref="S2.E1.m1.2.2.2.2.1.1.2"><ci id="S2.E1.m1.2.2.2.2.1.1.2.1.cmml" xref="S2.E1.m1.2.2.2.2.1.1.2.1">⋅</ci><ci id="S2.E1.m1.2.2.2.2.1.1.2.2.cmml" xref="S2.E1.m1.2.2.2.2.1.1.2.2">𝑞</ci><apply id="S2.E1.m1.2.2.2.2.1.1.2.3.cmml" xref="S2.E1.m1.2.2.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.1.1.2.3.1.cmml" xref="S2.E1.m1.2.2.2.2.1.1.2.3">superscript</csymbol><ci id="S2.E1.m1.2.2.2.2.1.1.2.3.2.cmml" xref="S2.E1.m1.2.2.2.2.1.1.2.3.2">𝑘</ci><plus id="S2.E1.m1.2.2.2.2.1.1.2.3.3.cmml" xref="S2.E1.m1.2.2.2.2.1.1.2.3.3"></plus></apply></apply><ci id="S2.E1.m1.2.2.2.2.1.1.3.cmml" xref="S2.E1.m1.2.2.2.2.1.1.3">𝜏</ci></apply></apply><apply id="S2.E1.m1.6.6.6.cmml" xref="S2.E1.m1.6.6.6"><plus id="S2.E1.m1.6.6.6.5.cmml" xref="S2.E1.m1.6.6.6.5"></plus><apply id="S2.E1.m1.5.5.5.3.2.cmml" xref="S2.E1.m1.5.5.5.3.1"><exp id="S2.E1.m1.3.3.3.1.cmml" xref="S2.E1.m1.3.3.3.1"></exp><apply id="S2.E1.m1.5.5.5.3.1.1.1.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1"><divide id="S2.E1.m1.5.5.5.3.1.1.1.1.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.1"></divide><apply id="S2.E1.m1.5.5.5.3.1.1.1.2.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.2"><ci id="S2.E1.m1.5.5.5.3.1.1.1.2.1.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.2.1">⋅</ci><ci id="S2.E1.m1.5.5.5.3.1.1.1.2.2.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.2.2">𝑞</ci><apply id="S2.E1.m1.5.5.5.3.1.1.1.2.3.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.5.5.5.3.1.1.1.2.3.1.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.2.3">superscript</csymbol><ci id="S2.E1.m1.5.5.5.3.1.1.1.2.3.2.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.2.3.2">𝑘</ci><plus id="S2.E1.m1.5.5.5.3.1.1.1.2.3.3.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.2.3.3"></plus></apply></apply><ci id="S2.E1.m1.5.5.5.3.1.1.1.3.cmml" xref="S2.E1.m1.5.5.5.3.1.1.1.3">𝜏</ci></apply></apply><apply id="S2.E1.m1.6.6.6.4.cmml" xref="S2.E1.m1.6.6.6.4"><apply id="S2.E1.m1.6.6.6.4.2.cmml" xref="S2.E1.m1.6.6.6.4.2"><csymbol cd="ambiguous" id="S2.E1.m1.6.6.6.4.2.1.cmml" xref="S2.E1.m1.6.6.6.4.2">subscript</csymbol><sum id="S2.E1.m1.6.6.6.4.2.2.cmml" xref="S2.E1.m1.6.6.6.4.2.2"></sum><apply id="S2.E1.m1.6.6.6.4.2.3.cmml" xref="S2.E1.m1.6.6.6.4.2.3"><in id="S2.E1.m1.6.6.6.4.2.3.1.cmml" xref="S2.E1.m1.6.6.6.4.2.3.1"></in><ci id="S2.E1.m1.6.6.6.4.2.3.2.cmml" xref="S2.E1.m1.6.6.6.4.2.3.2">𝑛</ci><ci id="S2.E1.m1.6.6.6.4.2.3.3.cmml" xref="S2.E1.m1.6.6.6.4.2.3.3">𝑄</ci></apply></apply><apply id="S2.E1.m1.6.6.6.4.1.2.cmml" xref="S2.E1.m1.6.6.6.4.1.1"><exp id="S2.E1.m1.4.4.4.2.cmml" xref="S2.E1.m1.4.4.4.2"></exp><apply id="S2.E1.m1.6.6.6.4.1.1.1.1.cmml" xref="S2.E1.m1.6.6.6.4.1.1.1.1"><divide id="S2.E1.m1.6.6.6.4.1.1.1.1.1.cmml" xref="S2.E1.m1.6.6.6.4.1.1.1.1.1"></divide><apply id="S2.E1.m1.6.6.6.4.1.1.1.1.2.cmml" xref="S2.E1.m1.6.6.6.4.1.1.1.1.2"><ci id="S2.E1.m1.6.6.6.4.1.1.1.1.2.1.cmml" xref="S2.E1.m1.6.6.6.4.1.1.1.1.2.1">⋅</ci><ci id="S2.E1.m1.6.6.6.4.1.1.1.1.2.2.cmml" xref="S2.E1.m1.6.6.6.4.1.1.1.1.2.2">𝑞</ci><ci id="S2.E1.m1.6.6.6.4.1.1.1.1.2.3.cmml" xref="S2.E1.m1.6.6.6.4.1.1.1.1.2.3">𝑛</ci></apply><ci id="S2.E1.m1.6.6.6.4.1.1.1.1.3.cmml" xref="S2.E1.m1.6.6.6.4.1.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.7c">\ell_{q}=-\log\frac{\exp(q\cdot k^{+}/\tau)}{\exp(q\cdot k^{+}/\tau)+\sum_{n\in Q}\exp(q\cdot n/\tau)}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S2.SS1.p1.19" class="ltx_p">By optimizing the model <math id="S2.SS1.p1.18.m1.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S2.SS1.p1.18.m1.1a"><mi id="S2.SS1.p1.18.m1.1.1" xref="S2.SS1.p1.18.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.18.m1.1b"><ci id="S2.SS1.p1.18.m1.1.1.cmml" xref="S2.SS1.p1.18.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.18.m1.1c">f</annotation></semantics></math> to minimize the loss function, effective visual representations can be learned by <math id="S2.SS1.p1.19.m2.1" class="ltx_Math" alttext="f" display="inline"><semantics id="S2.SS1.p1.19.m2.1a"><mi id="S2.SS1.p1.19.m2.1.1" xref="S2.SS1.p1.19.m2.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.19.m2.1b"><ci id="S2.SS1.p1.19.m2.1.1.cmml" xref="S2.SS1.p1.19.m2.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.19.m2.1c">f</annotation></semantics></math>.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p">However, existing CL works are developed for centralized training on large-scale datasets consisting of millions <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite> or even billions <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> of images.
The large-scale datasets provide sufficiently large data diversity for training.
However, in FL each device only has a limited amount of data with limited diversity. Since CL relies on the contrast with different data to achieve high performance, without large data diversity, the performance of CL will greatly degrade.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS2.5.1.1" class="ltx_text">II-B</span> </span><span id="S2.SS2.6.2" class="ltx_text ltx_font_italic">Vision Transformers (ViT) and Masked Autoencoders (MAE)</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Transformer has become the de facto backbone for natural language processing (NLP) due to its long-range and self-attention mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite>.
Recently, a lot of works apply Transformers for computer vision tasks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite>.
Vision Transformers (ViT) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> shows that pure Transformer-based architecture can also achieve SOTA results for image classification compared to CNN-based networks, especially for large-scale datasets.
To enable the superior performance of ViT on small datasets, DeiT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> presents training strategies such as distillation token.
SwinTransformer <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> introduces the shifted window to greatly increase the efficiency of Transformer for dense vision tasks when the input image resolution is high such as object detection and semantic segmentation.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p">ViT has also been widely used for SSL problems.
For example, iGPT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> masks and reconstructs image pixels, while MAE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> masks and reconstructs image patches based on ViT backbone.
IBOT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>]</cite> studies masked image modeling (MIM) and performs self-distillation on masked patch tokens to acquire visual semantics for pre-training.
BEiT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> tokenizes the original image into visual tokens by using discrete variational auto-encoder (DVAE) and proposes a MIM task to pre-train ViT.
Significant improvements can be achieved compared to other SSL baselines on the ImageNet-1k dataset.</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p">However, existing ViT works focus only on centralized training. The performance of ViT and its SSL in the FL setting remains unexplored.
In this work, we use MAE as our SSL framework because it performs better than other methods and does not require additional training such as the dVAE in BEiT, which makes it more suitable for federated learning.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS3.5.1.1" class="ltx_text">II-C</span> </span><span id="S2.SS3.6.2" class="ltx_text ltx_font_italic">Federated Learning</span>
</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.8" class="ltx_p">Federated learning (FL) aims to collaboratively learn a global model for distributed devices while keeping data on local devices for privacy <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>.
In FL, the training data are distributed among devices, and each device has a subset of the training data.
In a typical FL algorithm FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>,
learning is performed round-by-round by repeating the local learning and model aggregation process until convergence.
In one round, the server activates a subset of devices and sends them the latest model. Then the activated devices perform learning on local data.
More specifically, in communication round <math id="S2.SS3.p1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS3.p1.1.m1.1a"><mi id="S2.SS3.p1.1.m1.1.1" xref="S2.SS3.p1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.1.m1.1b"><ci id="S2.SS3.p1.1.m1.1.1.cmml" xref="S2.SS3.p1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.1.m1.1c">t</annotation></semantics></math>, the server activates a subset of devices <math id="S2.SS3.p1.2.m2.1" class="ltx_Math" alttext="C^{t}" display="inline"><semantics id="S2.SS3.p1.2.m2.1a"><msup id="S2.SS3.p1.2.m2.1.1" xref="S2.SS3.p1.2.m2.1.1.cmml"><mi id="S2.SS3.p1.2.m2.1.1.2" xref="S2.SS3.p1.2.m2.1.1.2.cmml">C</mi><mi id="S2.SS3.p1.2.m2.1.1.3" xref="S2.SS3.p1.2.m2.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.2.m2.1b"><apply id="S2.SS3.p1.2.m2.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.2.m2.1.1.1.cmml" xref="S2.SS3.p1.2.m2.1.1">superscript</csymbol><ci id="S2.SS3.p1.2.m2.1.1.2.cmml" xref="S2.SS3.p1.2.m2.1.1.2">𝐶</ci><ci id="S2.SS3.p1.2.m2.1.1.3.cmml" xref="S2.SS3.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.2.m2.1c">C^{t}</annotation></semantics></math> and downloads the latest global model with parameters <math id="S2.SS3.p1.3.m3.1" class="ltx_Math" alttext="\theta^{t}" display="inline"><semantics id="S2.SS3.p1.3.m3.1a"><msup id="S2.SS3.p1.3.m3.1.1" xref="S2.SS3.p1.3.m3.1.1.cmml"><mi id="S2.SS3.p1.3.m3.1.1.2" xref="S2.SS3.p1.3.m3.1.1.2.cmml">θ</mi><mi id="S2.SS3.p1.3.m3.1.1.3" xref="S2.SS3.p1.3.m3.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.3.m3.1b"><apply id="S2.SS3.p1.3.m3.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.3.m3.1.1.1.cmml" xref="S2.SS3.p1.3.m3.1.1">superscript</csymbol><ci id="S2.SS3.p1.3.m3.1.1.2.cmml" xref="S2.SS3.p1.3.m3.1.1.2">𝜃</ci><ci id="S2.SS3.p1.3.m3.1.1.3.cmml" xref="S2.SS3.p1.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.3.m3.1c">\theta^{t}</annotation></semantics></math> to them.
Each device <math id="S2.SS3.p1.4.m4.1" class="ltx_Math" alttext="c\in C^{t}" display="inline"><semantics id="S2.SS3.p1.4.m4.1a"><mrow id="S2.SS3.p1.4.m4.1.1" xref="S2.SS3.p1.4.m4.1.1.cmml"><mi id="S2.SS3.p1.4.m4.1.1.2" xref="S2.SS3.p1.4.m4.1.1.2.cmml">c</mi><mo id="S2.SS3.p1.4.m4.1.1.1" xref="S2.SS3.p1.4.m4.1.1.1.cmml">∈</mo><msup id="S2.SS3.p1.4.m4.1.1.3" xref="S2.SS3.p1.4.m4.1.1.3.cmml"><mi id="S2.SS3.p1.4.m4.1.1.3.2" xref="S2.SS3.p1.4.m4.1.1.3.2.cmml">C</mi><mi id="S2.SS3.p1.4.m4.1.1.3.3" xref="S2.SS3.p1.4.m4.1.1.3.3.cmml">t</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.4.m4.1b"><apply id="S2.SS3.p1.4.m4.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1"><in id="S2.SS3.p1.4.m4.1.1.1.cmml" xref="S2.SS3.p1.4.m4.1.1.1"></in><ci id="S2.SS3.p1.4.m4.1.1.2.cmml" xref="S2.SS3.p1.4.m4.1.1.2">𝑐</ci><apply id="S2.SS3.p1.4.m4.1.1.3.cmml" xref="S2.SS3.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S2.SS3.p1.4.m4.1.1.3.1.cmml" xref="S2.SS3.p1.4.m4.1.1.3">superscript</csymbol><ci id="S2.SS3.p1.4.m4.1.1.3.2.cmml" xref="S2.SS3.p1.4.m4.1.1.3.2">𝐶</ci><ci id="S2.SS3.p1.4.m4.1.1.3.3.cmml" xref="S2.SS3.p1.4.m4.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.4.m4.1c">c\in C^{t}</annotation></semantics></math> learns on private dataset <math id="S2.SS3.p1.5.m5.1" class="ltx_Math" alttext="D_{c}" display="inline"><semantics id="S2.SS3.p1.5.m5.1a"><msub id="S2.SS3.p1.5.m5.1.1" xref="S2.SS3.p1.5.m5.1.1.cmml"><mi id="S2.SS3.p1.5.m5.1.1.2" xref="S2.SS3.p1.5.m5.1.1.2.cmml">D</mi><mi id="S2.SS3.p1.5.m5.1.1.3" xref="S2.SS3.p1.5.m5.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.5.m5.1b"><apply id="S2.SS3.p1.5.m5.1.1.cmml" xref="S2.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.5.m5.1.1.1.cmml" xref="S2.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S2.SS3.p1.5.m5.1.1.2.cmml" xref="S2.SS3.p1.5.m5.1.1.2">𝐷</ci><ci id="S2.SS3.p1.5.m5.1.1.3.cmml" xref="S2.SS3.p1.5.m5.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.5.m5.1c">D_{c}</annotation></semantics></math> by minimizing the local loss
<math id="S2.SS3.p1.6.m6.1" class="ltx_Math" alttext="\ell_{c}" display="inline"><semantics id="S2.SS3.p1.6.m6.1a"><msub id="S2.SS3.p1.6.m6.1.1" xref="S2.SS3.p1.6.m6.1.1.cmml"><mi mathvariant="normal" id="S2.SS3.p1.6.m6.1.1.2" xref="S2.SS3.p1.6.m6.1.1.2.cmml">ℓ</mi><mi id="S2.SS3.p1.6.m6.1.1.3" xref="S2.SS3.p1.6.m6.1.1.3.cmml">c</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.6.m6.1b"><apply id="S2.SS3.p1.6.m6.1.1.cmml" xref="S2.SS3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.6.m6.1.1.1.cmml" xref="S2.SS3.p1.6.m6.1.1">subscript</csymbol><ci id="S2.SS3.p1.6.m6.1.1.2.cmml" xref="S2.SS3.p1.6.m6.1.1.2">ℓ</ci><ci id="S2.SS3.p1.6.m6.1.1.3.cmml" xref="S2.SS3.p1.6.m6.1.1.3">𝑐</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.6.m6.1c">\ell_{c}</annotation></semantics></math>
to get the updated local parameters <math id="S2.SS3.p1.7.m7.1" class="ltx_Math" alttext="\theta_{c}^{t+1}" display="inline"><semantics id="S2.SS3.p1.7.m7.1a"><msubsup id="S2.SS3.p1.7.m7.1.1" xref="S2.SS3.p1.7.m7.1.1.cmml"><mi id="S2.SS3.p1.7.m7.1.1.2.2" xref="S2.SS3.p1.7.m7.1.1.2.2.cmml">θ</mi><mi id="S2.SS3.p1.7.m7.1.1.2.3" xref="S2.SS3.p1.7.m7.1.1.2.3.cmml">c</mi><mrow id="S2.SS3.p1.7.m7.1.1.3" xref="S2.SS3.p1.7.m7.1.1.3.cmml"><mi id="S2.SS3.p1.7.m7.1.1.3.2" xref="S2.SS3.p1.7.m7.1.1.3.2.cmml">t</mi><mo id="S2.SS3.p1.7.m7.1.1.3.1" xref="S2.SS3.p1.7.m7.1.1.3.1.cmml">+</mo><mn id="S2.SS3.p1.7.m7.1.1.3.3" xref="S2.SS3.p1.7.m7.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.7.m7.1b"><apply id="S2.SS3.p1.7.m7.1.1.cmml" xref="S2.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.7.m7.1.1.1.cmml" xref="S2.SS3.p1.7.m7.1.1">superscript</csymbol><apply id="S2.SS3.p1.7.m7.1.1.2.cmml" xref="S2.SS3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.7.m7.1.1.2.1.cmml" xref="S2.SS3.p1.7.m7.1.1">subscript</csymbol><ci id="S2.SS3.p1.7.m7.1.1.2.2.cmml" xref="S2.SS3.p1.7.m7.1.1.2.2">𝜃</ci><ci id="S2.SS3.p1.7.m7.1.1.2.3.cmml" xref="S2.SS3.p1.7.m7.1.1.2.3">𝑐</ci></apply><apply id="S2.SS3.p1.7.m7.1.1.3.cmml" xref="S2.SS3.p1.7.m7.1.1.3"><plus id="S2.SS3.p1.7.m7.1.1.3.1.cmml" xref="S2.SS3.p1.7.m7.1.1.3.1"></plus><ci id="S2.SS3.p1.7.m7.1.1.3.2.cmml" xref="S2.SS3.p1.7.m7.1.1.3.2">𝑡</ci><cn type="integer" id="S2.SS3.p1.7.m7.1.1.3.3.cmml" xref="S2.SS3.p1.7.m7.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.7.m7.1c">\theta_{c}^{t+1}</annotation></semantics></math>.
The locally updated models are aggregated into the global model by averaging the local parameters
<math id="S2.SS3.p1.8.m8.2" class="ltx_Math" alttext="\theta^{t+1}\leftarrow\sum_{c\in C^{t}}\frac{|D_{c}|}{\sum_{i\in C^{t}}|D_{i}|}{\theta_{c}^{t+1}}" display="inline"><semantics id="S2.SS3.p1.8.m8.2a"><mrow id="S2.SS3.p1.8.m8.2.3" xref="S2.SS3.p1.8.m8.2.3.cmml"><msup id="S2.SS3.p1.8.m8.2.3.2" xref="S2.SS3.p1.8.m8.2.3.2.cmml"><mi id="S2.SS3.p1.8.m8.2.3.2.2" xref="S2.SS3.p1.8.m8.2.3.2.2.cmml">θ</mi><mrow id="S2.SS3.p1.8.m8.2.3.2.3" xref="S2.SS3.p1.8.m8.2.3.2.3.cmml"><mi id="S2.SS3.p1.8.m8.2.3.2.3.2" xref="S2.SS3.p1.8.m8.2.3.2.3.2.cmml">t</mi><mo id="S2.SS3.p1.8.m8.2.3.2.3.1" xref="S2.SS3.p1.8.m8.2.3.2.3.1.cmml">+</mo><mn id="S2.SS3.p1.8.m8.2.3.2.3.3" xref="S2.SS3.p1.8.m8.2.3.2.3.3.cmml">1</mn></mrow></msup><mo rspace="0.111em" stretchy="false" id="S2.SS3.p1.8.m8.2.3.1" xref="S2.SS3.p1.8.m8.2.3.1.cmml">←</mo><mrow id="S2.SS3.p1.8.m8.2.3.3" xref="S2.SS3.p1.8.m8.2.3.3.cmml"><msub id="S2.SS3.p1.8.m8.2.3.3.1" xref="S2.SS3.p1.8.m8.2.3.3.1.cmml"><mo id="S2.SS3.p1.8.m8.2.3.3.1.2" xref="S2.SS3.p1.8.m8.2.3.3.1.2.cmml">∑</mo><mrow id="S2.SS3.p1.8.m8.2.3.3.1.3" xref="S2.SS3.p1.8.m8.2.3.3.1.3.cmml"><mi id="S2.SS3.p1.8.m8.2.3.3.1.3.2" xref="S2.SS3.p1.8.m8.2.3.3.1.3.2.cmml">c</mi><mo id="S2.SS3.p1.8.m8.2.3.3.1.3.1" xref="S2.SS3.p1.8.m8.2.3.3.1.3.1.cmml">∈</mo><msup id="S2.SS3.p1.8.m8.2.3.3.1.3.3" xref="S2.SS3.p1.8.m8.2.3.3.1.3.3.cmml"><mi id="S2.SS3.p1.8.m8.2.3.3.1.3.3.2" xref="S2.SS3.p1.8.m8.2.3.3.1.3.3.2.cmml">C</mi><mi id="S2.SS3.p1.8.m8.2.3.3.1.3.3.3" xref="S2.SS3.p1.8.m8.2.3.3.1.3.3.3.cmml">t</mi></msup></mrow></msub><mrow id="S2.SS3.p1.8.m8.2.3.3.2" xref="S2.SS3.p1.8.m8.2.3.3.2.cmml"><mfrac id="S2.SS3.p1.8.m8.2.2" xref="S2.SS3.p1.8.m8.2.2.cmml"><mrow id="S2.SS3.p1.8.m8.1.1.1.1" xref="S2.SS3.p1.8.m8.1.1.1.2.cmml"><mo stretchy="false" id="S2.SS3.p1.8.m8.1.1.1.1.2" xref="S2.SS3.p1.8.m8.1.1.1.2.1.cmml">|</mo><msub id="S2.SS3.p1.8.m8.1.1.1.1.1" xref="S2.SS3.p1.8.m8.1.1.1.1.1.cmml"><mi id="S2.SS3.p1.8.m8.1.1.1.1.1.2" xref="S2.SS3.p1.8.m8.1.1.1.1.1.2.cmml">D</mi><mi id="S2.SS3.p1.8.m8.1.1.1.1.1.3" xref="S2.SS3.p1.8.m8.1.1.1.1.1.3.cmml">c</mi></msub><mo stretchy="false" id="S2.SS3.p1.8.m8.1.1.1.1.3" xref="S2.SS3.p1.8.m8.1.1.1.2.1.cmml">|</mo></mrow><mrow id="S2.SS3.p1.8.m8.2.2.2" xref="S2.SS3.p1.8.m8.2.2.2.cmml"><mstyle displaystyle="false" id="S2.SS3.p1.8.m8.2.2.2.2" xref="S2.SS3.p1.8.m8.2.2.2.2.cmml"><msub id="S2.SS3.p1.8.m8.2.2.2.2a" xref="S2.SS3.p1.8.m8.2.2.2.2.cmml"><mo id="S2.SS3.p1.8.m8.2.2.2.2.2" xref="S2.SS3.p1.8.m8.2.2.2.2.2.cmml">∑</mo><mrow id="S2.SS3.p1.8.m8.2.2.2.2.3" xref="S2.SS3.p1.8.m8.2.2.2.2.3.cmml"><mi id="S2.SS3.p1.8.m8.2.2.2.2.3.2" xref="S2.SS3.p1.8.m8.2.2.2.2.3.2.cmml">i</mi><mo id="S2.SS3.p1.8.m8.2.2.2.2.3.1" xref="S2.SS3.p1.8.m8.2.2.2.2.3.1.cmml">∈</mo><msup id="S2.SS3.p1.8.m8.2.2.2.2.3.3" xref="S2.SS3.p1.8.m8.2.2.2.2.3.3.cmml"><mi id="S2.SS3.p1.8.m8.2.2.2.2.3.3.2" xref="S2.SS3.p1.8.m8.2.2.2.2.3.3.2.cmml">C</mi><mi id="S2.SS3.p1.8.m8.2.2.2.2.3.3.3" xref="S2.SS3.p1.8.m8.2.2.2.2.3.3.3.cmml">t</mi></msup></mrow></msub></mstyle><mrow id="S2.SS3.p1.8.m8.2.2.2.1.1" xref="S2.SS3.p1.8.m8.2.2.2.1.2.cmml"><mo stretchy="false" id="S2.SS3.p1.8.m8.2.2.2.1.1.2" xref="S2.SS3.p1.8.m8.2.2.2.1.2.1.cmml">|</mo><msub id="S2.SS3.p1.8.m8.2.2.2.1.1.1" xref="S2.SS3.p1.8.m8.2.2.2.1.1.1.cmml"><mi id="S2.SS3.p1.8.m8.2.2.2.1.1.1.2" xref="S2.SS3.p1.8.m8.2.2.2.1.1.1.2.cmml">D</mi><mi id="S2.SS3.p1.8.m8.2.2.2.1.1.1.3" xref="S2.SS3.p1.8.m8.2.2.2.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S2.SS3.p1.8.m8.2.2.2.1.1.3" xref="S2.SS3.p1.8.m8.2.2.2.1.2.1.cmml">|</mo></mrow></mrow></mfrac><mo lspace="0em" rspace="0em" id="S2.SS3.p1.8.m8.2.3.3.2.1" xref="S2.SS3.p1.8.m8.2.3.3.2.1.cmml">​</mo><msubsup id="S2.SS3.p1.8.m8.2.3.3.2.2" xref="S2.SS3.p1.8.m8.2.3.3.2.2.cmml"><mi id="S2.SS3.p1.8.m8.2.3.3.2.2.2.2" xref="S2.SS3.p1.8.m8.2.3.3.2.2.2.2.cmml">θ</mi><mi id="S2.SS3.p1.8.m8.2.3.3.2.2.2.3" xref="S2.SS3.p1.8.m8.2.3.3.2.2.2.3.cmml">c</mi><mrow id="S2.SS3.p1.8.m8.2.3.3.2.2.3" xref="S2.SS3.p1.8.m8.2.3.3.2.2.3.cmml"><mi id="S2.SS3.p1.8.m8.2.3.3.2.2.3.2" xref="S2.SS3.p1.8.m8.2.3.3.2.2.3.2.cmml">t</mi><mo id="S2.SS3.p1.8.m8.2.3.3.2.2.3.1" xref="S2.SS3.p1.8.m8.2.3.3.2.2.3.1.cmml">+</mo><mn id="S2.SS3.p1.8.m8.2.3.3.2.2.3.3" xref="S2.SS3.p1.8.m8.2.3.3.2.2.3.3.cmml">1</mn></mrow></msubsup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS3.p1.8.m8.2b"><apply id="S2.SS3.p1.8.m8.2.3.cmml" xref="S2.SS3.p1.8.m8.2.3"><ci id="S2.SS3.p1.8.m8.2.3.1.cmml" xref="S2.SS3.p1.8.m8.2.3.1">←</ci><apply id="S2.SS3.p1.8.m8.2.3.2.cmml" xref="S2.SS3.p1.8.m8.2.3.2"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.2.3.2.1.cmml" xref="S2.SS3.p1.8.m8.2.3.2">superscript</csymbol><ci id="S2.SS3.p1.8.m8.2.3.2.2.cmml" xref="S2.SS3.p1.8.m8.2.3.2.2">𝜃</ci><apply id="S2.SS3.p1.8.m8.2.3.2.3.cmml" xref="S2.SS3.p1.8.m8.2.3.2.3"><plus id="S2.SS3.p1.8.m8.2.3.2.3.1.cmml" xref="S2.SS3.p1.8.m8.2.3.2.3.1"></plus><ci id="S2.SS3.p1.8.m8.2.3.2.3.2.cmml" xref="S2.SS3.p1.8.m8.2.3.2.3.2">𝑡</ci><cn type="integer" id="S2.SS3.p1.8.m8.2.3.2.3.3.cmml" xref="S2.SS3.p1.8.m8.2.3.2.3.3">1</cn></apply></apply><apply id="S2.SS3.p1.8.m8.2.3.3.cmml" xref="S2.SS3.p1.8.m8.2.3.3"><apply id="S2.SS3.p1.8.m8.2.3.3.1.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.2.3.3.1.1.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1">subscript</csymbol><sum id="S2.SS3.p1.8.m8.2.3.3.1.2.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1.2"></sum><apply id="S2.SS3.p1.8.m8.2.3.3.1.3.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1.3"><in id="S2.SS3.p1.8.m8.2.3.3.1.3.1.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1.3.1"></in><ci id="S2.SS3.p1.8.m8.2.3.3.1.3.2.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1.3.2">𝑐</ci><apply id="S2.SS3.p1.8.m8.2.3.3.1.3.3.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1.3.3"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.2.3.3.1.3.3.1.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1.3.3">superscript</csymbol><ci id="S2.SS3.p1.8.m8.2.3.3.1.3.3.2.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1.3.3.2">𝐶</ci><ci id="S2.SS3.p1.8.m8.2.3.3.1.3.3.3.cmml" xref="S2.SS3.p1.8.m8.2.3.3.1.3.3.3">𝑡</ci></apply></apply></apply><apply id="S2.SS3.p1.8.m8.2.3.3.2.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2"><times id="S2.SS3.p1.8.m8.2.3.3.2.1.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.1"></times><apply id="S2.SS3.p1.8.m8.2.2.cmml" xref="S2.SS3.p1.8.m8.2.2"><divide id="S2.SS3.p1.8.m8.2.2.3.cmml" xref="S2.SS3.p1.8.m8.2.2"></divide><apply id="S2.SS3.p1.8.m8.1.1.1.2.cmml" xref="S2.SS3.p1.8.m8.1.1.1.1"><abs id="S2.SS3.p1.8.m8.1.1.1.2.1.cmml" xref="S2.SS3.p1.8.m8.1.1.1.1.2"></abs><apply id="S2.SS3.p1.8.m8.1.1.1.1.1.cmml" xref="S2.SS3.p1.8.m8.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.1.1.1.1.1.1.cmml" xref="S2.SS3.p1.8.m8.1.1.1.1.1">subscript</csymbol><ci id="S2.SS3.p1.8.m8.1.1.1.1.1.2.cmml" xref="S2.SS3.p1.8.m8.1.1.1.1.1.2">𝐷</ci><ci id="S2.SS3.p1.8.m8.1.1.1.1.1.3.cmml" xref="S2.SS3.p1.8.m8.1.1.1.1.1.3">𝑐</ci></apply></apply><apply id="S2.SS3.p1.8.m8.2.2.2.cmml" xref="S2.SS3.p1.8.m8.2.2.2"><apply id="S2.SS3.p1.8.m8.2.2.2.2.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.2.2.2.2.1.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2">subscript</csymbol><sum id="S2.SS3.p1.8.m8.2.2.2.2.2.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2.2"></sum><apply id="S2.SS3.p1.8.m8.2.2.2.2.3.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2.3"><in id="S2.SS3.p1.8.m8.2.2.2.2.3.1.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2.3.1"></in><ci id="S2.SS3.p1.8.m8.2.2.2.2.3.2.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2.3.2">𝑖</ci><apply id="S2.SS3.p1.8.m8.2.2.2.2.3.3.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2.3.3"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.2.2.2.2.3.3.1.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2.3.3">superscript</csymbol><ci id="S2.SS3.p1.8.m8.2.2.2.2.3.3.2.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2.3.3.2">𝐶</ci><ci id="S2.SS3.p1.8.m8.2.2.2.2.3.3.3.cmml" xref="S2.SS3.p1.8.m8.2.2.2.2.3.3.3">𝑡</ci></apply></apply></apply><apply id="S2.SS3.p1.8.m8.2.2.2.1.2.cmml" xref="S2.SS3.p1.8.m8.2.2.2.1.1"><abs id="S2.SS3.p1.8.m8.2.2.2.1.2.1.cmml" xref="S2.SS3.p1.8.m8.2.2.2.1.1.2"></abs><apply id="S2.SS3.p1.8.m8.2.2.2.1.1.1.cmml" xref="S2.SS3.p1.8.m8.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.2.2.2.1.1.1.1.cmml" xref="S2.SS3.p1.8.m8.2.2.2.1.1.1">subscript</csymbol><ci id="S2.SS3.p1.8.m8.2.2.2.1.1.1.2.cmml" xref="S2.SS3.p1.8.m8.2.2.2.1.1.1.2">𝐷</ci><ci id="S2.SS3.p1.8.m8.2.2.2.1.1.1.3.cmml" xref="S2.SS3.p1.8.m8.2.2.2.1.1.1.3">𝑖</ci></apply></apply></apply></apply><apply id="S2.SS3.p1.8.m8.2.3.3.2.2.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.2.3.3.2.2.1.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2">superscript</csymbol><apply id="S2.SS3.p1.8.m8.2.3.3.2.2.2.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2"><csymbol cd="ambiguous" id="S2.SS3.p1.8.m8.2.3.3.2.2.2.1.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2">subscript</csymbol><ci id="S2.SS3.p1.8.m8.2.3.3.2.2.2.2.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2.2.2">𝜃</ci><ci id="S2.SS3.p1.8.m8.2.3.3.2.2.2.3.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2.2.3">𝑐</ci></apply><apply id="S2.SS3.p1.8.m8.2.3.3.2.2.3.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2.3"><plus id="S2.SS3.p1.8.m8.2.3.3.2.2.3.1.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2.3.1"></plus><ci id="S2.SS3.p1.8.m8.2.3.3.2.2.3.2.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2.3.2">𝑡</ci><cn type="integer" id="S2.SS3.p1.8.m8.2.3.3.2.2.3.3.cmml" xref="S2.SS3.p1.8.m8.2.3.3.2.2.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS3.p1.8.m8.2c">\theta^{t+1}\leftarrow\sum_{c\in C^{t}}\frac{|D_{c}|}{\sum_{i\in C^{t}}|D_{i}|}{\theta_{c}^{t+1}}</annotation></semantics></math>.
This learning process continues until convergence.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p">The problem with these FL works is that they assume the devices have ground-truth labels for all the data. However, this assumption is not realistic in dermatological disease diagnosis due to the high labeling cost and the requirement of expertise for accurate labeling.
Therefore, to apply FL to dermatological disease diagnosis, one approach to effectively use limited labels to achieve high model accuracy is needed.</p>
</div>
<figure id="S2.F3" class="ltx_figure"><img src="/html/2208.11278/assets/x3.png" id="S2.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="369" height="172" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S2.F3.2.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S2.F3.3.2" class="ltx_text" style="font-size:90%;">
Local contrastive learning with shared features on one device in FedCLF. The remote features from other devices serve as negatives to improve the data diversity for better-learned representations.
During learning, the features of local positives are pushed close to each other and apart from the remote negatives.
</span></figcaption>
</figure>
<div id="S2.SS3.p3" class="ltx_para">
<p id="S2.SS3.p3.1" class="ltx_p">Several concurrent works target federated pre-training on unlabeled data.
In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib41" title="" class="ltx_ref">41</a>, <a href="#bib.bib42" title="" class="ltx_ref">42</a>, <a href="#bib.bib43" title="" class="ltx_ref">43</a>, <a href="#bib.bib44" title="" class="ltx_ref">44</a>]</cite>, encoded data representations or metadata are exchanged among clients for better local CL.
The proposed work differs from these works in that
we employ Vision Transformers (ViT) as the backbone for federated self-supervised learning, which has demonstrated superior performance to convolutional neural networks (CNNs) in centralized training <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib45" title="" class="ltx_ref">45</a>]</cite> but remains unexplored in the federated setting.
Besides, we explicitly separate the local knowledge and global knowledge in the ViT model and only aggregate the global knowledge for better generalization performance.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">FedCLF: Federated Contrastive Learning with Remote and Local Features</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we present our federated contrastive learning method. We will first describe the framework overview.
Then we will present how to perform contrastive learning on each device with both local and remote features, by which a good initialization for fine-tuning can be learned.</p>
</div>
<figure id="S3.F4" class="ltx_figure"><img src="/html/2208.11278/assets/x4.png" id="S3.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="300" height="152" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F4.2.1.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S3.F4.3.2" class="ltx_text" style="font-size:90%;">Illustration of federated masked autoencoders (FedMAE) based on ViT encoder and decoder.</span></figcaption>
</figure>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.5.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.6.2" class="ltx_text ltx_font_italic">Overview</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">The overview of the proposed federated contrastive learning with feature sharing (FedCLF) framework is shown in Fig. <a href="#S2.F2" title="Figure 2 ‣ II Background and Related Work ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>.
This framework has two stages.
In the first stage, the model is collaboratively pre-trained by distributed devices on unlabeled data to extract visual representations.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p">During learning, there is a server and many devices. The server is used to coordinate the learning process, aggregate the locally updated models and forward the shared features.
The devices perform CL on local data as well as local and remote features to update local models.
In the second stage, the model pre-trained in the first stage is used as the initialization for fine-tuning with limited labels. This can be achieved by existing supervised learning methods independently on each device, or collaboratively by supervised federated learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>.
In this paper, we focus on the first stage of FedCLF on unlabeled data for pre-training.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p">To achieve better contrastive learning on each device, one can share raw data (i.e. skin images) with other devices to improve the data diversity for local learning. However, since skin images are highly sensitive and private, sharing them will cause serious privacy concerns for patients.
To improve data diversity while keeping raw data local for privacy, we proposed to share features (i.e. encoded vectors).
As shown in Fig. <a href="#S2.F2" title="Figure 2 ‣ II Background and Related Work ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, FedCLF is performed round-by-round.
In one round, each device encodes its data as local features and uploads them to the server. Local models are also uploaded for model aggregation.
Then, the server de-identifies the uploaded features and sends these anonymous features to devices as remote features.
The uploaded models are aggregated by averaging the weights of all models following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>, which serves as the initial model for the next round.
After that, the aggregated model and the remote features are distributed to devices.
The local models on devices are updated by using both local and remote features on each device, which provides more accurate and diverse contrastive information for computing the local contrastive loss.
Finally, the updated local models and features are uploaded to the server to initialize the next round.
This iterative learning process continues until the model convergence.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.5.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.6.2" class="ltx_text ltx_font_italic">Local Model Architecture</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">The local contrastive learning process on a device is shown in Fig. <a href="#S2.F3" title="Figure 3 ‣ II-C Federated Learning ‣ II Background and Related Work ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>.
We use the Momentum Contrast (MoCo) model architecture <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite> since it uses a separate memory bank to store negative features, which can be filled with both local and remote negatives in the FedCLF setting.
Other popular contrastive learning models such as SimCLR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> use features of data in the same mini-batch as negatives, which tightly couples the negative features with the mini-batch data and is not suitable to leverage remote features in FedCLF.
Different from SimCLR, MoCo decouples the negative features with the mini-batch data by a memory bank and can leverage the remote features as negatives for local contrastive learning.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">On each device,
there are two models, the main model and the momentum model, and they have different functions.
The main model is the target model for learning and will be used as the initialization for the fine-tuning in the second stage.
The momentum model is used to generate features for local contrastive learning as local negatives and for sharing as remote features.
The generated features will be stored in the memory bank of local features.
In the learning process, the main model is updated by the contrastive loss, and the momentum model is updated as the exponential moving average of the main model with a momentum coefficient.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS3.5.1.1" class="ltx_text">III-C</span> </span><span id="S3.SS3.6.2" class="ltx_text ltx_font_italic">Memory Banks of Local and Remote Features</span>
</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.4" class="ltx_p">To perform contrastive learning on each device,
the memory banks of local features and remote features need to be constructed such that they can provide features for computing the local loss.
Each device has a memory bank of local features and a memory bank of remote features.
Local features are generated by feeding local images to the momentum model to produce the feature vectors.
The feature vectors are then stored in the memory bank of local features.
On device <math id="S3.SS3.p1.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS3.p1.1.m1.1a"><mi id="S3.SS3.p1.1.m1.1.1" xref="S3.SS3.p1.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.1.m1.1b"><ci id="S3.SS3.p1.1.m1.1.1.cmml" xref="S3.SS3.p1.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.1.m1.1c">i</annotation></semantics></math>, let <math id="S3.SS3.p1.2.m2.2" class="ltx_Math" alttext="Q_{l,i}" display="inline"><semantics id="S3.SS3.p1.2.m2.2a"><msub id="S3.SS3.p1.2.m2.2.3" xref="S3.SS3.p1.2.m2.2.3.cmml"><mi id="S3.SS3.p1.2.m2.2.3.2" xref="S3.SS3.p1.2.m2.2.3.2.cmml">Q</mi><mrow id="S3.SS3.p1.2.m2.2.2.2.4" xref="S3.SS3.p1.2.m2.2.2.2.3.cmml"><mi id="S3.SS3.p1.2.m2.1.1.1.1" xref="S3.SS3.p1.2.m2.1.1.1.1.cmml">l</mi><mo id="S3.SS3.p1.2.m2.2.2.2.4.1" xref="S3.SS3.p1.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p1.2.m2.2.2.2.2" xref="S3.SS3.p1.2.m2.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.2.m2.2b"><apply id="S3.SS3.p1.2.m2.2.3.cmml" xref="S3.SS3.p1.2.m2.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.2.m2.2.3.1.cmml" xref="S3.SS3.p1.2.m2.2.3">subscript</csymbol><ci id="S3.SS3.p1.2.m2.2.3.2.cmml" xref="S3.SS3.p1.2.m2.2.3.2">𝑄</ci><list id="S3.SS3.p1.2.m2.2.2.2.3.cmml" xref="S3.SS3.p1.2.m2.2.2.2.4"><ci id="S3.SS3.p1.2.m2.1.1.1.1.cmml" xref="S3.SS3.p1.2.m2.1.1.1.1">𝑙</ci><ci id="S3.SS3.p1.2.m2.2.2.2.2.cmml" xref="S3.SS3.p1.2.m2.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.2.m2.2c">Q_{l,i}</annotation></semantics></math> be the memory bank of local features with <math id="S3.SS3.p1.3.m3.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S3.SS3.p1.3.m3.1a"><mi id="S3.SS3.p1.3.m3.1.1" xref="S3.SS3.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.3.m3.1b"><ci id="S3.SS3.p1.3.m3.1.1.cmml" xref="S3.SS3.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.3.m3.1c">K</annotation></semantics></math> features stored. <math id="S3.SS3.p1.4.m4.2" class="ltx_Math" alttext="Q_{l,i}" display="inline"><semantics id="S3.SS3.p1.4.m4.2a"><msub id="S3.SS3.p1.4.m4.2.3" xref="S3.SS3.p1.4.m4.2.3.cmml"><mi id="S3.SS3.p1.4.m4.2.3.2" xref="S3.SS3.p1.4.m4.2.3.2.cmml">Q</mi><mrow id="S3.SS3.p1.4.m4.2.2.2.4" xref="S3.SS3.p1.4.m4.2.2.2.3.cmml"><mi id="S3.SS3.p1.4.m4.1.1.1.1" xref="S3.SS3.p1.4.m4.1.1.1.1.cmml">l</mi><mo id="S3.SS3.p1.4.m4.2.2.2.4.1" xref="S3.SS3.p1.4.m4.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p1.4.m4.2.2.2.2" xref="S3.SS3.p1.4.m4.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p1.4.m4.2b"><apply id="S3.SS3.p1.4.m4.2.3.cmml" xref="S3.SS3.p1.4.m4.2.3"><csymbol cd="ambiguous" id="S3.SS3.p1.4.m4.2.3.1.cmml" xref="S3.SS3.p1.4.m4.2.3">subscript</csymbol><ci id="S3.SS3.p1.4.m4.2.3.2.cmml" xref="S3.SS3.p1.4.m4.2.3.2">𝑄</ci><list id="S3.SS3.p1.4.m4.2.2.2.3.cmml" xref="S3.SS3.p1.4.m4.2.2.2.4"><ci id="S3.SS3.p1.4.m4.1.1.1.1.cmml" xref="S3.SS3.p1.4.m4.1.1.1.1">𝑙</ci><ci id="S3.SS3.p1.4.m4.2.2.2.2.cmml" xref="S3.SS3.p1.4.m4.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p1.4.m4.2c">Q_{l,i}</annotation></semantics></math> is used as local negatives and maintained following a first-in-first-out principle. The oldest features in the local memory bank will be dropped when new features are generated.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.2" class="ltx_p">The remote features are collected from other clients.
At the beginning of each round of FedCLF, the local features are uploaded to the server and the remote features will be downloaded to fill the memory bank of remote features. More specially, the memory bank of remote features <math id="S3.SS3.p2.1.m1.2" class="ltx_Math" alttext="Q_{r,i}" display="inline"><semantics id="S3.SS3.p2.1.m1.2a"><msub id="S3.SS3.p2.1.m1.2.3" xref="S3.SS3.p2.1.m1.2.3.cmml"><mi id="S3.SS3.p2.1.m1.2.3.2" xref="S3.SS3.p2.1.m1.2.3.2.cmml">Q</mi><mrow id="S3.SS3.p2.1.m1.2.2.2.4" xref="S3.SS3.p2.1.m1.2.2.2.3.cmml"><mi id="S3.SS3.p2.1.m1.1.1.1.1" xref="S3.SS3.p2.1.m1.1.1.1.1.cmml">r</mi><mo id="S3.SS3.p2.1.m1.2.2.2.4.1" xref="S3.SS3.p2.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS3.p2.1.m1.2.2.2.2" xref="S3.SS3.p2.1.m1.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.1.m1.2b"><apply id="S3.SS3.p2.1.m1.2.3.cmml" xref="S3.SS3.p2.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS3.p2.1.m1.2.3.1.cmml" xref="S3.SS3.p2.1.m1.2.3">subscript</csymbol><ci id="S3.SS3.p2.1.m1.2.3.2.cmml" xref="S3.SS3.p2.1.m1.2.3.2">𝑄</ci><list id="S3.SS3.p2.1.m1.2.2.2.3.cmml" xref="S3.SS3.p2.1.m1.2.2.2.4"><ci id="S3.SS3.p2.1.m1.1.1.1.1.cmml" xref="S3.SS3.p2.1.m1.1.1.1.1">𝑟</ci><ci id="S3.SS3.p2.1.m1.2.2.2.2.cmml" xref="S3.SS3.p2.1.m1.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.1.m1.2c">Q_{r,i}</annotation></semantics></math> on device <math id="S3.SS3.p2.2.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS3.p2.2.m2.1a"><mi id="S3.SS3.p2.2.m2.1.1" xref="S3.SS3.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.2.m2.1b"><ci id="S3.SS3.p2.2.m2.1.1.cmml" xref="S3.SS3.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.2.m2.1c">i</annotation></semantics></math> is filled as follows.</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.6" class="ltx_Math" alttext="Q_{r,i}=\{Q_{l,c}\ |\ 1\leq c\leq|C|,c\neq i\}," display="block"><semantics id="S3.E2.m1.6a"><mrow id="S3.E2.m1.6.6.1" xref="S3.E2.m1.6.6.1.1.cmml"><mrow id="S3.E2.m1.6.6.1.1" xref="S3.E2.m1.6.6.1.1.cmml"><msub id="S3.E2.m1.6.6.1.1.4" xref="S3.E2.m1.6.6.1.1.4.cmml"><mi id="S3.E2.m1.6.6.1.1.4.2" xref="S3.E2.m1.6.6.1.1.4.2.cmml">Q</mi><mrow id="S3.E2.m1.2.2.2.4" xref="S3.E2.m1.2.2.2.3.cmml"><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">r</mi><mo id="S3.E2.m1.2.2.2.4.1" xref="S3.E2.m1.2.2.2.3.cmml">,</mo><mi id="S3.E2.m1.2.2.2.2" xref="S3.E2.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo id="S3.E2.m1.6.6.1.1.3" xref="S3.E2.m1.6.6.1.1.3.cmml">=</mo><mrow id="S3.E2.m1.6.6.1.1.2.2" xref="S3.E2.m1.6.6.1.1.2.3.cmml"><mo stretchy="false" id="S3.E2.m1.6.6.1.1.2.2.3" xref="S3.E2.m1.6.6.1.1.2.3.1.cmml">{</mo><msub id="S3.E2.m1.6.6.1.1.1.1.1" xref="S3.E2.m1.6.6.1.1.1.1.1.cmml"><mi id="S3.E2.m1.6.6.1.1.1.1.1.2" xref="S3.E2.m1.6.6.1.1.1.1.1.2.cmml">Q</mi><mrow id="S3.E2.m1.4.4.2.4" xref="S3.E2.m1.4.4.2.3.cmml"><mi id="S3.E2.m1.3.3.1.1" xref="S3.E2.m1.3.3.1.1.cmml">l</mi><mo id="S3.E2.m1.4.4.2.4.1" xref="S3.E2.m1.4.4.2.3.cmml">,</mo><mi id="S3.E2.m1.4.4.2.2" xref="S3.E2.m1.4.4.2.2.cmml">c</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.6.6.1.1.2.2.4" xref="S3.E2.m1.6.6.1.1.2.3.1.cmml">|</mo><mrow id="S3.E2.m1.6.6.1.1.2.2.2.2" xref="S3.E2.m1.6.6.1.1.2.2.2.3.cmml"><mrow id="S3.E2.m1.6.6.1.1.2.2.2.1.1" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.cmml"><mn id="S3.E2.m1.6.6.1.1.2.2.2.1.1.2" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.2.cmml"> 1</mn><mo id="S3.E2.m1.6.6.1.1.2.2.2.1.1.3" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.3.cmml">≤</mo><mi id="S3.E2.m1.6.6.1.1.2.2.2.1.1.4" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.4.cmml">c</mi><mo id="S3.E2.m1.6.6.1.1.2.2.2.1.1.5" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.5.cmml">≤</mo><mrow id="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.2" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.1.cmml"><mo stretchy="false" id="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.2.1" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.1.1.cmml">|</mo><mi id="S3.E2.m1.5.5" xref="S3.E2.m1.5.5.cmml">C</mi><mo stretchy="false" id="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.2.2" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.1.1.cmml">|</mo></mrow></mrow><mo id="S3.E2.m1.6.6.1.1.2.2.2.2.3" xref="S3.E2.m1.6.6.1.1.2.2.2.3a.cmml">,</mo><mrow id="S3.E2.m1.6.6.1.1.2.2.2.2.2" xref="S3.E2.m1.6.6.1.1.2.2.2.2.2.cmml"><mi id="S3.E2.m1.6.6.1.1.2.2.2.2.2.2" xref="S3.E2.m1.6.6.1.1.2.2.2.2.2.2.cmml">c</mi><mo id="S3.E2.m1.6.6.1.1.2.2.2.2.2.1" xref="S3.E2.m1.6.6.1.1.2.2.2.2.2.1.cmml">≠</mo><mi id="S3.E2.m1.6.6.1.1.2.2.2.2.2.3" xref="S3.E2.m1.6.6.1.1.2.2.2.2.2.3.cmml">i</mi></mrow></mrow><mo stretchy="false" id="S3.E2.m1.6.6.1.1.2.2.5" xref="S3.E2.m1.6.6.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S3.E2.m1.6.6.1.2" xref="S3.E2.m1.6.6.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.6b"><apply id="S3.E2.m1.6.6.1.1.cmml" xref="S3.E2.m1.6.6.1"><eq id="S3.E2.m1.6.6.1.1.3.cmml" xref="S3.E2.m1.6.6.1.1.3"></eq><apply id="S3.E2.m1.6.6.1.1.4.cmml" xref="S3.E2.m1.6.6.1.1.4"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.1.1.4.1.cmml" xref="S3.E2.m1.6.6.1.1.4">subscript</csymbol><ci id="S3.E2.m1.6.6.1.1.4.2.cmml" xref="S3.E2.m1.6.6.1.1.4.2">𝑄</ci><list id="S3.E2.m1.2.2.2.3.cmml" xref="S3.E2.m1.2.2.2.4"><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">𝑟</ci><ci id="S3.E2.m1.2.2.2.2.cmml" xref="S3.E2.m1.2.2.2.2">𝑖</ci></list></apply><apply id="S3.E2.m1.6.6.1.1.2.3.cmml" xref="S3.E2.m1.6.6.1.1.2.2"><csymbol cd="latexml" id="S3.E2.m1.6.6.1.1.2.3.1.cmml" xref="S3.E2.m1.6.6.1.1.2.2.3">conditional-set</csymbol><apply id="S3.E2.m1.6.6.1.1.1.1.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.1.1.1.1.1.1.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.6.6.1.1.1.1.1.2.cmml" xref="S3.E2.m1.6.6.1.1.1.1.1.2">𝑄</ci><list id="S3.E2.m1.4.4.2.3.cmml" xref="S3.E2.m1.4.4.2.4"><ci id="S3.E2.m1.3.3.1.1.cmml" xref="S3.E2.m1.3.3.1.1">𝑙</ci><ci id="S3.E2.m1.4.4.2.2.cmml" xref="S3.E2.m1.4.4.2.2">𝑐</ci></list></apply><apply id="S3.E2.m1.6.6.1.1.2.2.2.3.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E2.m1.6.6.1.1.2.2.2.3a.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E2.m1.6.6.1.1.2.2.2.1.1.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1"><and id="S3.E2.m1.6.6.1.1.2.2.2.1.1a.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1"></and><apply id="S3.E2.m1.6.6.1.1.2.2.2.1.1b.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1"><leq id="S3.E2.m1.6.6.1.1.2.2.2.1.1.3.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.3"></leq><cn type="integer" id="S3.E2.m1.6.6.1.1.2.2.2.1.1.2.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.2">1</cn><ci id="S3.E2.m1.6.6.1.1.2.2.2.1.1.4.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.4">𝑐</ci></apply><apply id="S3.E2.m1.6.6.1.1.2.2.2.1.1c.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1"><leq id="S3.E2.m1.6.6.1.1.2.2.2.1.1.5.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.5"></leq><share href="#S3.E2.m1.6.6.1.1.2.2.2.1.1.4.cmml" id="S3.E2.m1.6.6.1.1.2.2.2.1.1d.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1"></share><apply id="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.1.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.2"><abs id="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.1.1.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.1.1.6.2.1"></abs><ci id="S3.E2.m1.5.5.cmml" xref="S3.E2.m1.5.5">𝐶</ci></apply></apply></apply><apply id="S3.E2.m1.6.6.1.1.2.2.2.2.2.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.2.2"><neq id="S3.E2.m1.6.6.1.1.2.2.2.2.2.1.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.2.2.1"></neq><ci id="S3.E2.m1.6.6.1.1.2.2.2.2.2.2.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.2.2.2">𝑐</ci><ci id="S3.E2.m1.6.6.1.1.2.2.2.2.2.3.cmml" xref="S3.E2.m1.6.6.1.1.2.2.2.2.2.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.6c">Q_{r,i}=\{Q_{l,c}\ |\ 1\leq c\leq|C|,c\neq i\},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS3.p2.3" class="ltx_p">where <math id="S3.SS3.p2.3.m1.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.SS3.p2.3.m1.1a"><mi id="S3.SS3.p2.3.m1.1.1" xref="S3.SS3.p2.3.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.SS3.p2.3.m1.1b"><ci id="S3.SS3.p2.3.m1.1.1.cmml" xref="S3.SS3.p2.3.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS3.p2.3.m1.1c">C</annotation></semantics></math> is the set of all devices.</p>
</div>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS4.5.1.1" class="ltx_text">III-D</span> </span><span id="S3.SS4.6.2" class="ltx_text ltx_font_italic">Learning with Remote Features</span>
</h3>

<div id="S3.SS4.p1" class="ltx_para ltx_noindent">
<p id="S3.SS4.p1.5" class="ltx_p"><span id="S3.SS4.p1.5.1" class="ltx_text ltx_font_bold">Constructing negatives from memory banks for local learning.</span>
By leveraging memory banks of local features <math id="S3.SS4.p1.1.m1.2" class="ltx_Math" alttext="Q_{l,i}" display="inline"><semantics id="S3.SS4.p1.1.m1.2a"><msub id="S3.SS4.p1.1.m1.2.3" xref="S3.SS4.p1.1.m1.2.3.cmml"><mi id="S3.SS4.p1.1.m1.2.3.2" xref="S3.SS4.p1.1.m1.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p1.1.m1.2.2.2.4" xref="S3.SS4.p1.1.m1.2.2.2.3.cmml"><mi id="S3.SS4.p1.1.m1.1.1.1.1" xref="S3.SS4.p1.1.m1.1.1.1.1.cmml">l</mi><mo id="S3.SS4.p1.1.m1.2.2.2.4.1" xref="S3.SS4.p1.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p1.1.m1.2.2.2.2" xref="S3.SS4.p1.1.m1.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.1.m1.2b"><apply id="S3.SS4.p1.1.m1.2.3.cmml" xref="S3.SS4.p1.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.1.m1.2.3.1.cmml" xref="S3.SS4.p1.1.m1.2.3">subscript</csymbol><ci id="S3.SS4.p1.1.m1.2.3.2.cmml" xref="S3.SS4.p1.1.m1.2.3.2">𝑄</ci><list id="S3.SS4.p1.1.m1.2.2.2.3.cmml" xref="S3.SS4.p1.1.m1.2.2.2.4"><ci id="S3.SS4.p1.1.m1.1.1.1.1.cmml" xref="S3.SS4.p1.1.m1.1.1.1.1">𝑙</ci><ci id="S3.SS4.p1.1.m1.2.2.2.2.cmml" xref="S3.SS4.p1.1.m1.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.1.m1.2c">Q_{l,i}</annotation></semantics></math> and remote features <math id="S3.SS4.p1.2.m2.2" class="ltx_Math" alttext="Q_{r,i}" display="inline"><semantics id="S3.SS4.p1.2.m2.2a"><msub id="S3.SS4.p1.2.m2.2.3" xref="S3.SS4.p1.2.m2.2.3.cmml"><mi id="S3.SS4.p1.2.m2.2.3.2" xref="S3.SS4.p1.2.m2.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p1.2.m2.2.2.2.4" xref="S3.SS4.p1.2.m2.2.2.2.3.cmml"><mi id="S3.SS4.p1.2.m2.1.1.1.1" xref="S3.SS4.p1.2.m2.1.1.1.1.cmml">r</mi><mo id="S3.SS4.p1.2.m2.2.2.2.4.1" xref="S3.SS4.p1.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p1.2.m2.2.2.2.2" xref="S3.SS4.p1.2.m2.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.2.m2.2b"><apply id="S3.SS4.p1.2.m2.2.3.cmml" xref="S3.SS4.p1.2.m2.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.2.m2.2.3.1.cmml" xref="S3.SS4.p1.2.m2.2.3">subscript</csymbol><ci id="S3.SS4.p1.2.m2.2.3.2.cmml" xref="S3.SS4.p1.2.m2.2.3.2">𝑄</ci><list id="S3.SS4.p1.2.m2.2.2.2.3.cmml" xref="S3.SS4.p1.2.m2.2.2.2.4"><ci id="S3.SS4.p1.2.m2.1.1.1.1.cmml" xref="S3.SS4.p1.2.m2.1.1.1.1">𝑟</ci><ci id="S3.SS4.p1.2.m2.2.2.2.2.cmml" xref="S3.SS4.p1.2.m2.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.2.m2.2c">Q_{r,i}</annotation></semantics></math>, the negatives <math id="S3.SS4.p1.3.m3.2" class="ltx_Math" alttext="Q_{\text{CL},i}" display="inline"><semantics id="S3.SS4.p1.3.m3.2a"><msub id="S3.SS4.p1.3.m3.2.3" xref="S3.SS4.p1.3.m3.2.3.cmml"><mi id="S3.SS4.p1.3.m3.2.3.2" xref="S3.SS4.p1.3.m3.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p1.3.m3.2.2.2.4" xref="S3.SS4.p1.3.m3.2.2.2.3.cmml"><mtext id="S3.SS4.p1.3.m3.1.1.1.1" xref="S3.SS4.p1.3.m3.1.1.1.1a.cmml">CL</mtext><mo id="S3.SS4.p1.3.m3.2.2.2.4.1" xref="S3.SS4.p1.3.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p1.3.m3.2.2.2.2" xref="S3.SS4.p1.3.m3.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.3.m3.2b"><apply id="S3.SS4.p1.3.m3.2.3.cmml" xref="S3.SS4.p1.3.m3.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.3.m3.2.3.1.cmml" xref="S3.SS4.p1.3.m3.2.3">subscript</csymbol><ci id="S3.SS4.p1.3.m3.2.3.2.cmml" xref="S3.SS4.p1.3.m3.2.3.2">𝑄</ci><list id="S3.SS4.p1.3.m3.2.2.2.3.cmml" xref="S3.SS4.p1.3.m3.2.2.2.4"><ci id="S3.SS4.p1.3.m3.1.1.1.1a.cmml" xref="S3.SS4.p1.3.m3.1.1.1.1"><mtext mathsize="70%" id="S3.SS4.p1.3.m3.1.1.1.1.cmml" xref="S3.SS4.p1.3.m3.1.1.1.1">CL</mtext></ci><ci id="S3.SS4.p1.3.m3.2.2.2.2.cmml" xref="S3.SS4.p1.3.m3.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.3.m3.2c">Q_{\text{CL},i}</annotation></semantics></math> for computing the contrastive loss is constructed as follows.
For conciseness, we leave out the device index <math id="S3.SS4.p1.4.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS4.p1.4.m4.1a"><mi id="S3.SS4.p1.4.m4.1.1" xref="S3.SS4.p1.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.4.m4.1b"><ci id="S3.SS4.p1.4.m4.1.1.cmml" xref="S3.SS4.p1.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.4.m4.1c">i</annotation></semantics></math> in <math id="S3.SS4.p1.5.m5.2" class="ltx_Math" alttext="Q_{\text{CL},i}" display="inline"><semantics id="S3.SS4.p1.5.m5.2a"><msub id="S3.SS4.p1.5.m5.2.3" xref="S3.SS4.p1.5.m5.2.3.cmml"><mi id="S3.SS4.p1.5.m5.2.3.2" xref="S3.SS4.p1.5.m5.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p1.5.m5.2.2.2.4" xref="S3.SS4.p1.5.m5.2.2.2.3.cmml"><mtext id="S3.SS4.p1.5.m5.1.1.1.1" xref="S3.SS4.p1.5.m5.1.1.1.1a.cmml">CL</mtext><mo id="S3.SS4.p1.5.m5.2.2.2.4.1" xref="S3.SS4.p1.5.m5.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p1.5.m5.2.2.2.2" xref="S3.SS4.p1.5.m5.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p1.5.m5.2b"><apply id="S3.SS4.p1.5.m5.2.3.cmml" xref="S3.SS4.p1.5.m5.2.3"><csymbol cd="ambiguous" id="S3.SS4.p1.5.m5.2.3.1.cmml" xref="S3.SS4.p1.5.m5.2.3">subscript</csymbol><ci id="S3.SS4.p1.5.m5.2.3.2.cmml" xref="S3.SS4.p1.5.m5.2.3.2">𝑄</ci><list id="S3.SS4.p1.5.m5.2.2.2.3.cmml" xref="S3.SS4.p1.5.m5.2.2.2.4"><ci id="S3.SS4.p1.5.m5.1.1.1.1a.cmml" xref="S3.SS4.p1.5.m5.1.1.1.1"><mtext mathsize="70%" id="S3.SS4.p1.5.m5.1.1.1.1.cmml" xref="S3.SS4.p1.5.m5.1.1.1.1">CL</mtext></ci><ci id="S3.SS4.p1.5.m5.2.2.2.2.cmml" xref="S3.SS4.p1.5.m5.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p1.5.m5.2c">Q_{\text{CL},i}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.8" class="ltx_p">On device <math id="S3.SS4.p2.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS4.p2.1.m1.1a"><mi id="S3.SS4.p2.1.m1.1.1" xref="S3.SS4.p2.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.1.m1.1b"><ci id="S3.SS4.p2.1.m1.1.1.cmml" xref="S3.SS4.p2.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.1.m1.1c">i</annotation></semantics></math>,
at the beginning of each round of FedCLF, <math id="S3.SS4.p2.2.m2.1" class="ltx_Math" alttext="Q_{\text{CL}}" display="inline"><semantics id="S3.SS4.p2.2.m2.1a"><msub id="S3.SS4.p2.2.m2.1.1" xref="S3.SS4.p2.2.m2.1.1.cmml"><mi id="S3.SS4.p2.2.m2.1.1.2" xref="S3.SS4.p2.2.m2.1.1.2.cmml">Q</mi><mtext id="S3.SS4.p2.2.m2.1.1.3" xref="S3.SS4.p2.2.m2.1.1.3a.cmml">CL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.2.m2.1b"><apply id="S3.SS4.p2.2.m2.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.2.m2.1.1.1.cmml" xref="S3.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p2.2.m2.1.1.2.cmml" xref="S3.SS4.p2.2.m2.1.1.2">𝑄</ci><ci id="S3.SS4.p2.2.m2.1.1.3a.cmml" xref="S3.SS4.p2.2.m2.1.1.3"><mtext mathsize="70%" id="S3.SS4.p2.2.m2.1.1.3.cmml" xref="S3.SS4.p2.2.m2.1.1.3">CL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.2.m2.1c">Q_{\text{CL}}</annotation></semantics></math> is initialized as the memory bank of local features <math id="S3.SS4.p2.3.m3.2" class="ltx_Math" alttext="Q_{l,i}" display="inline"><semantics id="S3.SS4.p2.3.m3.2a"><msub id="S3.SS4.p2.3.m3.2.3" xref="S3.SS4.p2.3.m3.2.3.cmml"><mi id="S3.SS4.p2.3.m3.2.3.2" xref="S3.SS4.p2.3.m3.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p2.3.m3.2.2.2.4" xref="S3.SS4.p2.3.m3.2.2.2.3.cmml"><mi id="S3.SS4.p2.3.m3.1.1.1.1" xref="S3.SS4.p2.3.m3.1.1.1.1.cmml">l</mi><mo id="S3.SS4.p2.3.m3.2.2.2.4.1" xref="S3.SS4.p2.3.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p2.3.m3.2.2.2.2" xref="S3.SS4.p2.3.m3.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.3.m3.2b"><apply id="S3.SS4.p2.3.m3.2.3.cmml" xref="S3.SS4.p2.3.m3.2.3"><csymbol cd="ambiguous" id="S3.SS4.p2.3.m3.2.3.1.cmml" xref="S3.SS4.p2.3.m3.2.3">subscript</csymbol><ci id="S3.SS4.p2.3.m3.2.3.2.cmml" xref="S3.SS4.p2.3.m3.2.3.2">𝑄</ci><list id="S3.SS4.p2.3.m3.2.2.2.3.cmml" xref="S3.SS4.p2.3.m3.2.2.2.4"><ci id="S3.SS4.p2.3.m3.1.1.1.1.cmml" xref="S3.SS4.p2.3.m3.1.1.1.1">𝑙</ci><ci id="S3.SS4.p2.3.m3.2.2.2.2.cmml" xref="S3.SS4.p2.3.m3.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.3.m3.2c">Q_{l,i}</annotation></semantics></math>.
During each mini-batch of local learning, a mini-batch data <math id="S3.SS4.p2.4.m4.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.SS4.p2.4.m4.1a"><mi id="S3.SS4.p2.4.m4.1.1" xref="S3.SS4.p2.4.m4.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.4.m4.1b"><ci id="S3.SS4.p2.4.m4.1.1.cmml" xref="S3.SS4.p2.4.m4.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.4.m4.1c">x</annotation></semantics></math> of size <math id="S3.SS4.p2.5.m5.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS4.p2.5.m5.1a"><mi id="S3.SS4.p2.5.m5.1.1" xref="S3.SS4.p2.5.m5.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.5.m5.1b"><ci id="S3.SS4.p2.5.m5.1.1.cmml" xref="S3.SS4.p2.5.m5.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.5.m5.1c">B</annotation></semantics></math> is fed into the momentum model to generate the features <math id="S3.SS4.p2.6.m6.3" class="ltx_Math" alttext="q_{l,i,B}" display="inline"><semantics id="S3.SS4.p2.6.m6.3a"><msub id="S3.SS4.p2.6.m6.3.4" xref="S3.SS4.p2.6.m6.3.4.cmml"><mi id="S3.SS4.p2.6.m6.3.4.2" xref="S3.SS4.p2.6.m6.3.4.2.cmml">q</mi><mrow id="S3.SS4.p2.6.m6.3.3.3.5" xref="S3.SS4.p2.6.m6.3.3.3.4.cmml"><mi id="S3.SS4.p2.6.m6.1.1.1.1" xref="S3.SS4.p2.6.m6.1.1.1.1.cmml">l</mi><mo id="S3.SS4.p2.6.m6.3.3.3.5.1" xref="S3.SS4.p2.6.m6.3.3.3.4.cmml">,</mo><mi id="S3.SS4.p2.6.m6.2.2.2.2" xref="S3.SS4.p2.6.m6.2.2.2.2.cmml">i</mi><mo id="S3.SS4.p2.6.m6.3.3.3.5.2" xref="S3.SS4.p2.6.m6.3.3.3.4.cmml">,</mo><mi id="S3.SS4.p2.6.m6.3.3.3.3" xref="S3.SS4.p2.6.m6.3.3.3.3.cmml">B</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.6.m6.3b"><apply id="S3.SS4.p2.6.m6.3.4.cmml" xref="S3.SS4.p2.6.m6.3.4"><csymbol cd="ambiguous" id="S3.SS4.p2.6.m6.3.4.1.cmml" xref="S3.SS4.p2.6.m6.3.4">subscript</csymbol><ci id="S3.SS4.p2.6.m6.3.4.2.cmml" xref="S3.SS4.p2.6.m6.3.4.2">𝑞</ci><list id="S3.SS4.p2.6.m6.3.3.3.4.cmml" xref="S3.SS4.p2.6.m6.3.3.3.5"><ci id="S3.SS4.p2.6.m6.1.1.1.1.cmml" xref="S3.SS4.p2.6.m6.1.1.1.1">𝑙</ci><ci id="S3.SS4.p2.6.m6.2.2.2.2.cmml" xref="S3.SS4.p2.6.m6.2.2.2.2">𝑖</ci><ci id="S3.SS4.p2.6.m6.3.3.3.3.cmml" xref="S3.SS4.p2.6.m6.3.3.3.3">𝐵</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.6.m6.3c">q_{l,i,B}</annotation></semantics></math>. Then <math id="S3.SS4.p2.7.m7.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS4.p2.7.m7.1a"><mi id="S3.SS4.p2.7.m7.1.1" xref="S3.SS4.p2.7.m7.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.7.m7.1b"><ci id="S3.SS4.p2.7.m7.1.1.cmml" xref="S3.SS4.p2.7.m7.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.7.m7.1c">B</annotation></semantics></math> remote features are sampled uniformly from remote features <math id="S3.SS4.p2.8.m8.2" class="ltx_Math" alttext="Q_{r,i}" display="inline"><semantics id="S3.SS4.p2.8.m8.2a"><msub id="S3.SS4.p2.8.m8.2.3" xref="S3.SS4.p2.8.m8.2.3.cmml"><mi id="S3.SS4.p2.8.m8.2.3.2" xref="S3.SS4.p2.8.m8.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p2.8.m8.2.2.2.4" xref="S3.SS4.p2.8.m8.2.2.2.3.cmml"><mi id="S3.SS4.p2.8.m8.1.1.1.1" xref="S3.SS4.p2.8.m8.1.1.1.1.cmml">r</mi><mo id="S3.SS4.p2.8.m8.2.2.2.4.1" xref="S3.SS4.p2.8.m8.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p2.8.m8.2.2.2.2" xref="S3.SS4.p2.8.m8.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.8.m8.2b"><apply id="S3.SS4.p2.8.m8.2.3.cmml" xref="S3.SS4.p2.8.m8.2.3"><csymbol cd="ambiguous" id="S3.SS4.p2.8.m8.2.3.1.cmml" xref="S3.SS4.p2.8.m8.2.3">subscript</csymbol><ci id="S3.SS4.p2.8.m8.2.3.2.cmml" xref="S3.SS4.p2.8.m8.2.3.2">𝑄</ci><list id="S3.SS4.p2.8.m8.2.2.2.3.cmml" xref="S3.SS4.p2.8.m8.2.2.2.4"><ci id="S3.SS4.p2.8.m8.1.1.1.1.cmml" xref="S3.SS4.p2.8.m8.1.1.1.1">𝑟</ci><ci id="S3.SS4.p2.8.m8.2.2.2.2.cmml" xref="S3.SS4.p2.8.m8.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.8.m8.2c">Q_{r,i}</annotation></semantics></math> as follows.</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.10" class="ltx_Math" alttext="q_{r,i,B}=\{Q_{r,i,j}|\ j\sim\mathcal{U}(|Q_{r,i}|,B)\}," display="block"><semantics id="S3.E3.m1.10a"><mrow id="S3.E3.m1.10.10.1" xref="S3.E3.m1.10.10.1.1.cmml"><mrow id="S3.E3.m1.10.10.1.1" xref="S3.E3.m1.10.10.1.1.cmml"><msub id="S3.E3.m1.10.10.1.1.4" xref="S3.E3.m1.10.10.1.1.4.cmml"><mi id="S3.E3.m1.10.10.1.1.4.2" xref="S3.E3.m1.10.10.1.1.4.2.cmml">q</mi><mrow id="S3.E3.m1.3.3.3.5" xref="S3.E3.m1.3.3.3.4.cmml"><mi id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">r</mi><mo id="S3.E3.m1.3.3.3.5.1" xref="S3.E3.m1.3.3.3.4.cmml">,</mo><mi id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.2.cmml">i</mi><mo id="S3.E3.m1.3.3.3.5.2" xref="S3.E3.m1.3.3.3.4.cmml">,</mo><mi id="S3.E3.m1.3.3.3.3" xref="S3.E3.m1.3.3.3.3.cmml">B</mi></mrow></msub><mo id="S3.E3.m1.10.10.1.1.3" xref="S3.E3.m1.10.10.1.1.3.cmml">=</mo><mrow id="S3.E3.m1.10.10.1.1.2.2" xref="S3.E3.m1.10.10.1.1.2.3.cmml"><mo stretchy="false" id="S3.E3.m1.10.10.1.1.2.2.3" xref="S3.E3.m1.10.10.1.1.2.3.1.cmml">{</mo><msub id="S3.E3.m1.10.10.1.1.1.1.1" xref="S3.E3.m1.10.10.1.1.1.1.1.cmml"><mi id="S3.E3.m1.10.10.1.1.1.1.1.2" xref="S3.E3.m1.10.10.1.1.1.1.1.2.cmml">Q</mi><mrow id="S3.E3.m1.6.6.3.5" xref="S3.E3.m1.6.6.3.4.cmml"><mi id="S3.E3.m1.4.4.1.1" xref="S3.E3.m1.4.4.1.1.cmml">r</mi><mo id="S3.E3.m1.6.6.3.5.1" xref="S3.E3.m1.6.6.3.4.cmml">,</mo><mi id="S3.E3.m1.5.5.2.2" xref="S3.E3.m1.5.5.2.2.cmml">i</mi><mo id="S3.E3.m1.6.6.3.5.2" xref="S3.E3.m1.6.6.3.4.cmml">,</mo><mi id="S3.E3.m1.6.6.3.3" xref="S3.E3.m1.6.6.3.3.cmml">j</mi></mrow></msub><mo lspace="0em" rspace="0.500em" id="S3.E3.m1.10.10.1.1.2.2.4" xref="S3.E3.m1.10.10.1.1.2.3.1.cmml">|</mo><mrow id="S3.E3.m1.10.10.1.1.2.2.2" xref="S3.E3.m1.10.10.1.1.2.2.2.cmml"><mi id="S3.E3.m1.10.10.1.1.2.2.2.3" xref="S3.E3.m1.10.10.1.1.2.2.2.3.cmml">j</mi><mo id="S3.E3.m1.10.10.1.1.2.2.2.2" xref="S3.E3.m1.10.10.1.1.2.2.2.2.cmml">∼</mo><mrow id="S3.E3.m1.10.10.1.1.2.2.2.1" xref="S3.E3.m1.10.10.1.1.2.2.2.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E3.m1.10.10.1.1.2.2.2.1.3" xref="S3.E3.m1.10.10.1.1.2.2.2.1.3.cmml">𝒰</mi><mo lspace="0em" rspace="0em" id="S3.E3.m1.10.10.1.1.2.2.2.1.2" xref="S3.E3.m1.10.10.1.1.2.2.2.1.2.cmml">​</mo><mrow id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.2" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.2.cmml">(</mo><mrow id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.2" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.2.1.cmml">|</mo><msub id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.2" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.2.cmml">Q</mi><mrow id="S3.E3.m1.8.8.2.4" xref="S3.E3.m1.8.8.2.3.cmml"><mi id="S3.E3.m1.7.7.1.1" xref="S3.E3.m1.7.7.1.1.cmml">r</mi><mo id="S3.E3.m1.8.8.2.4.1" xref="S3.E3.m1.8.8.2.3.cmml">,</mo><mi id="S3.E3.m1.8.8.2.2" xref="S3.E3.m1.8.8.2.2.cmml">i</mi></mrow></msub><mo stretchy="false" id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.3" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.3" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.2.cmml">,</mo><mi id="S3.E3.m1.9.9" xref="S3.E3.m1.9.9.cmml">B</mi><mo stretchy="false" id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.4" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E3.m1.10.10.1.1.2.2.5" xref="S3.E3.m1.10.10.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S3.E3.m1.10.10.1.2" xref="S3.E3.m1.10.10.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.10b"><apply id="S3.E3.m1.10.10.1.1.cmml" xref="S3.E3.m1.10.10.1"><eq id="S3.E3.m1.10.10.1.1.3.cmml" xref="S3.E3.m1.10.10.1.1.3"></eq><apply id="S3.E3.m1.10.10.1.1.4.cmml" xref="S3.E3.m1.10.10.1.1.4"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.1.1.4.1.cmml" xref="S3.E3.m1.10.10.1.1.4">subscript</csymbol><ci id="S3.E3.m1.10.10.1.1.4.2.cmml" xref="S3.E3.m1.10.10.1.1.4.2">𝑞</ci><list id="S3.E3.m1.3.3.3.4.cmml" xref="S3.E3.m1.3.3.3.5"><ci id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1">𝑟</ci><ci id="S3.E3.m1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2">𝑖</ci><ci id="S3.E3.m1.3.3.3.3.cmml" xref="S3.E3.m1.3.3.3.3">𝐵</ci></list></apply><apply id="S3.E3.m1.10.10.1.1.2.3.cmml" xref="S3.E3.m1.10.10.1.1.2.2"><csymbol cd="latexml" id="S3.E3.m1.10.10.1.1.2.3.1.cmml" xref="S3.E3.m1.10.10.1.1.2.2.3">conditional-set</csymbol><apply id="S3.E3.m1.10.10.1.1.1.1.1.cmml" xref="S3.E3.m1.10.10.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.1.1.1.1.1.1.cmml" xref="S3.E3.m1.10.10.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.10.10.1.1.1.1.1.2.cmml" xref="S3.E3.m1.10.10.1.1.1.1.1.2">𝑄</ci><list id="S3.E3.m1.6.6.3.4.cmml" xref="S3.E3.m1.6.6.3.5"><ci id="S3.E3.m1.4.4.1.1.cmml" xref="S3.E3.m1.4.4.1.1">𝑟</ci><ci id="S3.E3.m1.5.5.2.2.cmml" xref="S3.E3.m1.5.5.2.2">𝑖</ci><ci id="S3.E3.m1.6.6.3.3.cmml" xref="S3.E3.m1.6.6.3.3">𝑗</ci></list></apply><apply id="S3.E3.m1.10.10.1.1.2.2.2.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2"><csymbol cd="latexml" id="S3.E3.m1.10.10.1.1.2.2.2.2.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.2">similar-to</csymbol><ci id="S3.E3.m1.10.10.1.1.2.2.2.3.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.3">𝑗</ci><apply id="S3.E3.m1.10.10.1.1.2.2.2.1.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1"><times id="S3.E3.m1.10.10.1.1.2.2.2.1.2.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1.2"></times><ci id="S3.E3.m1.10.10.1.1.2.2.2.1.3.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1.3">𝒰</ci><interval closure="open" id="S3.E3.m1.10.10.1.1.2.2.2.1.1.2.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1"><apply id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.2.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1"><abs id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.2.1.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.2"></abs><apply id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.10.10.1.1.2.2.2.1.1.1.1.1.1.2">𝑄</ci><list id="S3.E3.m1.8.8.2.3.cmml" xref="S3.E3.m1.8.8.2.4"><ci id="S3.E3.m1.7.7.1.1.cmml" xref="S3.E3.m1.7.7.1.1">𝑟</ci><ci id="S3.E3.m1.8.8.2.2.cmml" xref="S3.E3.m1.8.8.2.2">𝑖</ci></list></apply></apply><ci id="S3.E3.m1.9.9.cmml" xref="S3.E3.m1.9.9">𝐵</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.10c">q_{r,i,B}=\{Q_{r,i,j}|\ j\sim\mathcal{U}(|Q_{r,i}|,B)\},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p2.15" class="ltx_p">where <math id="S3.SS4.p2.9.m1.4" class="ltx_Math" alttext="j\sim\mathcal{U}(|Q_{r,i}|,B)" display="inline"><semantics id="S3.SS4.p2.9.m1.4a"><mrow id="S3.SS4.p2.9.m1.4.4" xref="S3.SS4.p2.9.m1.4.4.cmml"><mi id="S3.SS4.p2.9.m1.4.4.3" xref="S3.SS4.p2.9.m1.4.4.3.cmml">j</mi><mo id="S3.SS4.p2.9.m1.4.4.2" xref="S3.SS4.p2.9.m1.4.4.2.cmml">∼</mo><mrow id="S3.SS4.p2.9.m1.4.4.1" xref="S3.SS4.p2.9.m1.4.4.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS4.p2.9.m1.4.4.1.3" xref="S3.SS4.p2.9.m1.4.4.1.3.cmml">𝒰</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p2.9.m1.4.4.1.2" xref="S3.SS4.p2.9.m1.4.4.1.2.cmml">​</mo><mrow id="S3.SS4.p2.9.m1.4.4.1.1.1" xref="S3.SS4.p2.9.m1.4.4.1.1.2.cmml"><mo stretchy="false" id="S3.SS4.p2.9.m1.4.4.1.1.1.2" xref="S3.SS4.p2.9.m1.4.4.1.1.2.cmml">(</mo><mrow id="S3.SS4.p2.9.m1.4.4.1.1.1.1.1" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.2" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.2.1.cmml">|</mo><msub id="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1.cmml"><mi id="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1.2" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1.2.cmml">Q</mi><mrow id="S3.SS4.p2.9.m1.2.2.2.4" xref="S3.SS4.p2.9.m1.2.2.2.3.cmml"><mi id="S3.SS4.p2.9.m1.1.1.1.1" xref="S3.SS4.p2.9.m1.1.1.1.1.cmml">r</mi><mo id="S3.SS4.p2.9.m1.2.2.2.4.1" xref="S3.SS4.p2.9.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p2.9.m1.2.2.2.2" xref="S3.SS4.p2.9.m1.2.2.2.2.cmml">i</mi></mrow></msub><mo stretchy="false" id="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.3" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.SS4.p2.9.m1.4.4.1.1.1.3" xref="S3.SS4.p2.9.m1.4.4.1.1.2.cmml">,</mo><mi id="S3.SS4.p2.9.m1.3.3" xref="S3.SS4.p2.9.m1.3.3.cmml">B</mi><mo stretchy="false" id="S3.SS4.p2.9.m1.4.4.1.1.1.4" xref="S3.SS4.p2.9.m1.4.4.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.9.m1.4b"><apply id="S3.SS4.p2.9.m1.4.4.cmml" xref="S3.SS4.p2.9.m1.4.4"><csymbol cd="latexml" id="S3.SS4.p2.9.m1.4.4.2.cmml" xref="S3.SS4.p2.9.m1.4.4.2">similar-to</csymbol><ci id="S3.SS4.p2.9.m1.4.4.3.cmml" xref="S3.SS4.p2.9.m1.4.4.3">𝑗</ci><apply id="S3.SS4.p2.9.m1.4.4.1.cmml" xref="S3.SS4.p2.9.m1.4.4.1"><times id="S3.SS4.p2.9.m1.4.4.1.2.cmml" xref="S3.SS4.p2.9.m1.4.4.1.2"></times><ci id="S3.SS4.p2.9.m1.4.4.1.3.cmml" xref="S3.SS4.p2.9.m1.4.4.1.3">𝒰</ci><interval closure="open" id="S3.SS4.p2.9.m1.4.4.1.1.2.cmml" xref="S3.SS4.p2.9.m1.4.4.1.1.1"><apply id="S3.SS4.p2.9.m1.4.4.1.1.1.1.2.cmml" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.1"><abs id="S3.SS4.p2.9.m1.4.4.1.1.1.1.2.1.cmml" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.2"></abs><apply id="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1.1.cmml" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1.2.cmml" xref="S3.SS4.p2.9.m1.4.4.1.1.1.1.1.1.2">𝑄</ci><list id="S3.SS4.p2.9.m1.2.2.2.3.cmml" xref="S3.SS4.p2.9.m1.2.2.2.4"><ci id="S3.SS4.p2.9.m1.1.1.1.1.cmml" xref="S3.SS4.p2.9.m1.1.1.1.1">𝑟</ci><ci id="S3.SS4.p2.9.m1.2.2.2.2.cmml" xref="S3.SS4.p2.9.m1.2.2.2.2">𝑖</ci></list></apply></apply><ci id="S3.SS4.p2.9.m1.3.3.cmml" xref="S3.SS4.p2.9.m1.3.3">𝐵</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.9.m1.4c">j\sim\mathcal{U}(|Q_{r,i}|,B)</annotation></semantics></math> means
<math id="S3.SS4.p2.10.m2.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS4.p2.10.m2.1a"><mi id="S3.SS4.p2.10.m2.1.1" xref="S3.SS4.p2.10.m2.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.10.m2.1b"><ci id="S3.SS4.p2.10.m2.1.1.cmml" xref="S3.SS4.p2.10.m2.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.10.m2.1c">B</annotation></semantics></math> indices are sampled uniformly from the range <math id="S3.SS4.p2.11.m3.4" class="ltx_Math" alttext="[0,|Q_{r,i}|-1]" display="inline"><semantics id="S3.SS4.p2.11.m3.4a"><mrow id="S3.SS4.p2.11.m3.4.4.1" xref="S3.SS4.p2.11.m3.4.4.2.cmml"><mo stretchy="false" id="S3.SS4.p2.11.m3.4.4.1.2" xref="S3.SS4.p2.11.m3.4.4.2.cmml">[</mo><mn id="S3.SS4.p2.11.m3.3.3" xref="S3.SS4.p2.11.m3.3.3.cmml">0</mn><mo id="S3.SS4.p2.11.m3.4.4.1.3" xref="S3.SS4.p2.11.m3.4.4.2.cmml">,</mo><mrow id="S3.SS4.p2.11.m3.4.4.1.1" xref="S3.SS4.p2.11.m3.4.4.1.1.cmml"><mrow id="S3.SS4.p2.11.m3.4.4.1.1.1.1" xref="S3.SS4.p2.11.m3.4.4.1.1.1.2.cmml"><mo stretchy="false" id="S3.SS4.p2.11.m3.4.4.1.1.1.1.2" xref="S3.SS4.p2.11.m3.4.4.1.1.1.2.1.cmml">|</mo><msub id="S3.SS4.p2.11.m3.4.4.1.1.1.1.1" xref="S3.SS4.p2.11.m3.4.4.1.1.1.1.1.cmml"><mi id="S3.SS4.p2.11.m3.4.4.1.1.1.1.1.2" xref="S3.SS4.p2.11.m3.4.4.1.1.1.1.1.2.cmml">Q</mi><mrow id="S3.SS4.p2.11.m3.2.2.2.4" xref="S3.SS4.p2.11.m3.2.2.2.3.cmml"><mi id="S3.SS4.p2.11.m3.1.1.1.1" xref="S3.SS4.p2.11.m3.1.1.1.1.cmml">r</mi><mo id="S3.SS4.p2.11.m3.2.2.2.4.1" xref="S3.SS4.p2.11.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p2.11.m3.2.2.2.2" xref="S3.SS4.p2.11.m3.2.2.2.2.cmml">i</mi></mrow></msub><mo stretchy="false" id="S3.SS4.p2.11.m3.4.4.1.1.1.1.3" xref="S3.SS4.p2.11.m3.4.4.1.1.1.2.1.cmml">|</mo></mrow><mo id="S3.SS4.p2.11.m3.4.4.1.1.2" xref="S3.SS4.p2.11.m3.4.4.1.1.2.cmml">−</mo><mn id="S3.SS4.p2.11.m3.4.4.1.1.3" xref="S3.SS4.p2.11.m3.4.4.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="S3.SS4.p2.11.m3.4.4.1.4" xref="S3.SS4.p2.11.m3.4.4.2.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.11.m3.4b"><interval closure="closed" id="S3.SS4.p2.11.m3.4.4.2.cmml" xref="S3.SS4.p2.11.m3.4.4.1"><cn type="integer" id="S3.SS4.p2.11.m3.3.3.cmml" xref="S3.SS4.p2.11.m3.3.3">0</cn><apply id="S3.SS4.p2.11.m3.4.4.1.1.cmml" xref="S3.SS4.p2.11.m3.4.4.1.1"><minus id="S3.SS4.p2.11.m3.4.4.1.1.2.cmml" xref="S3.SS4.p2.11.m3.4.4.1.1.2"></minus><apply id="S3.SS4.p2.11.m3.4.4.1.1.1.2.cmml" xref="S3.SS4.p2.11.m3.4.4.1.1.1.1"><abs id="S3.SS4.p2.11.m3.4.4.1.1.1.2.1.cmml" xref="S3.SS4.p2.11.m3.4.4.1.1.1.1.2"></abs><apply id="S3.SS4.p2.11.m3.4.4.1.1.1.1.1.cmml" xref="S3.SS4.p2.11.m3.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p2.11.m3.4.4.1.1.1.1.1.1.cmml" xref="S3.SS4.p2.11.m3.4.4.1.1.1.1.1">subscript</csymbol><ci id="S3.SS4.p2.11.m3.4.4.1.1.1.1.1.2.cmml" xref="S3.SS4.p2.11.m3.4.4.1.1.1.1.1.2">𝑄</ci><list id="S3.SS4.p2.11.m3.2.2.2.3.cmml" xref="S3.SS4.p2.11.m3.2.2.2.4"><ci id="S3.SS4.p2.11.m3.1.1.1.1.cmml" xref="S3.SS4.p2.11.m3.1.1.1.1">𝑟</ci><ci id="S3.SS4.p2.11.m3.2.2.2.2.cmml" xref="S3.SS4.p2.11.m3.2.2.2.2">𝑖</ci></list></apply></apply><cn type="integer" id="S3.SS4.p2.11.m3.4.4.1.1.3.cmml" xref="S3.SS4.p2.11.m3.4.4.1.1.3">1</cn></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.11.m3.4c">[0,|Q_{r,i}|-1]</annotation></semantics></math> and <math id="S3.SS4.p2.12.m4.3" class="ltx_Math" alttext="Q_{r,i,j}" display="inline"><semantics id="S3.SS4.p2.12.m4.3a"><msub id="S3.SS4.p2.12.m4.3.4" xref="S3.SS4.p2.12.m4.3.4.cmml"><mi id="S3.SS4.p2.12.m4.3.4.2" xref="S3.SS4.p2.12.m4.3.4.2.cmml">Q</mi><mrow id="S3.SS4.p2.12.m4.3.3.3.5" xref="S3.SS4.p2.12.m4.3.3.3.4.cmml"><mi id="S3.SS4.p2.12.m4.1.1.1.1" xref="S3.SS4.p2.12.m4.1.1.1.1.cmml">r</mi><mo id="S3.SS4.p2.12.m4.3.3.3.5.1" xref="S3.SS4.p2.12.m4.3.3.3.4.cmml">,</mo><mi id="S3.SS4.p2.12.m4.2.2.2.2" xref="S3.SS4.p2.12.m4.2.2.2.2.cmml">i</mi><mo id="S3.SS4.p2.12.m4.3.3.3.5.2" xref="S3.SS4.p2.12.m4.3.3.3.4.cmml">,</mo><mi id="S3.SS4.p2.12.m4.3.3.3.3" xref="S3.SS4.p2.12.m4.3.3.3.3.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.12.m4.3b"><apply id="S3.SS4.p2.12.m4.3.4.cmml" xref="S3.SS4.p2.12.m4.3.4"><csymbol cd="ambiguous" id="S3.SS4.p2.12.m4.3.4.1.cmml" xref="S3.SS4.p2.12.m4.3.4">subscript</csymbol><ci id="S3.SS4.p2.12.m4.3.4.2.cmml" xref="S3.SS4.p2.12.m4.3.4.2">𝑄</ci><list id="S3.SS4.p2.12.m4.3.3.3.4.cmml" xref="S3.SS4.p2.12.m4.3.3.3.5"><ci id="S3.SS4.p2.12.m4.1.1.1.1.cmml" xref="S3.SS4.p2.12.m4.1.1.1.1">𝑟</ci><ci id="S3.SS4.p2.12.m4.2.2.2.2.cmml" xref="S3.SS4.p2.12.m4.2.2.2.2">𝑖</ci><ci id="S3.SS4.p2.12.m4.3.3.3.3.cmml" xref="S3.SS4.p2.12.m4.3.3.3.3">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.12.m4.3c">Q_{r,i,j}</annotation></semantics></math> is the <math id="S3.SS4.p2.13.m5.1" class="ltx_Math" alttext="j" display="inline"><semantics id="S3.SS4.p2.13.m5.1a"><mi id="S3.SS4.p2.13.m5.1.1" xref="S3.SS4.p2.13.m5.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.13.m5.1b"><ci id="S3.SS4.p2.13.m5.1.1.cmml" xref="S3.SS4.p2.13.m5.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.13.m5.1c">j</annotation></semantics></math>-<math id="S3.SS4.p2.14.m6.1" class="ltx_Math" alttext="th" display="inline"><semantics id="S3.SS4.p2.14.m6.1a"><mrow id="S3.SS4.p2.14.m6.1.1" xref="S3.SS4.p2.14.m6.1.1.cmml"><mi id="S3.SS4.p2.14.m6.1.1.2" xref="S3.SS4.p2.14.m6.1.1.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S3.SS4.p2.14.m6.1.1.1" xref="S3.SS4.p2.14.m6.1.1.1.cmml">​</mo><mi id="S3.SS4.p2.14.m6.1.1.3" xref="S3.SS4.p2.14.m6.1.1.3.cmml">h</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.14.m6.1b"><apply id="S3.SS4.p2.14.m6.1.1.cmml" xref="S3.SS4.p2.14.m6.1.1"><times id="S3.SS4.p2.14.m6.1.1.1.cmml" xref="S3.SS4.p2.14.m6.1.1.1"></times><ci id="S3.SS4.p2.14.m6.1.1.2.cmml" xref="S3.SS4.p2.14.m6.1.1.2">𝑡</ci><ci id="S3.SS4.p2.14.m6.1.1.3.cmml" xref="S3.SS4.p2.14.m6.1.1.3">ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.14.m6.1c">th</annotation></semantics></math> feature in <math id="S3.SS4.p2.15.m7.2" class="ltx_Math" alttext="Q_{r,i}" display="inline"><semantics id="S3.SS4.p2.15.m7.2a"><msub id="S3.SS4.p2.15.m7.2.3" xref="S3.SS4.p2.15.m7.2.3.cmml"><mi id="S3.SS4.p2.15.m7.2.3.2" xref="S3.SS4.p2.15.m7.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p2.15.m7.2.2.2.4" xref="S3.SS4.p2.15.m7.2.2.2.3.cmml"><mi id="S3.SS4.p2.15.m7.1.1.1.1" xref="S3.SS4.p2.15.m7.1.1.1.1.cmml">r</mi><mo id="S3.SS4.p2.15.m7.2.2.2.4.1" xref="S3.SS4.p2.15.m7.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p2.15.m7.2.2.2.2" xref="S3.SS4.p2.15.m7.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p2.15.m7.2b"><apply id="S3.SS4.p2.15.m7.2.3.cmml" xref="S3.SS4.p2.15.m7.2.3"><csymbol cd="ambiguous" id="S3.SS4.p2.15.m7.2.3.1.cmml" xref="S3.SS4.p2.15.m7.2.3">subscript</csymbol><ci id="S3.SS4.p2.15.m7.2.3.2.cmml" xref="S3.SS4.p2.15.m7.2.3.2">𝑄</ci><list id="S3.SS4.p2.15.m7.2.2.2.3.cmml" xref="S3.SS4.p2.15.m7.2.2.2.4"><ci id="S3.SS4.p2.15.m7.1.1.1.1.cmml" xref="S3.SS4.p2.15.m7.1.1.1.1">𝑟</ci><ci id="S3.SS4.p2.15.m7.2.2.2.2.cmml" xref="S3.SS4.p2.15.m7.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p2.15.m7.2c">Q_{r,i}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS4.p3" class="ltx_para">
<p id="S3.SS4.p3.2" class="ltx_p">After learning a mini-batch, the oldest features in <math id="S3.SS4.p3.1.m1.1" class="ltx_Math" alttext="Q_{\text{CL}}" display="inline"><semantics id="S3.SS4.p3.1.m1.1a"><msub id="S3.SS4.p3.1.m1.1.1" xref="S3.SS4.p3.1.m1.1.1.cmml"><mi id="S3.SS4.p3.1.m1.1.1.2" xref="S3.SS4.p3.1.m1.1.1.2.cmml">Q</mi><mtext id="S3.SS4.p3.1.m1.1.1.3" xref="S3.SS4.p3.1.m1.1.1.3a.cmml">CL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.1.m1.1b"><apply id="S3.SS4.p3.1.m1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.1.m1.1.1.1.cmml" xref="S3.SS4.p3.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p3.1.m1.1.1.2.cmml" xref="S3.SS4.p3.1.m1.1.1.2">𝑄</ci><ci id="S3.SS4.p3.1.m1.1.1.3a.cmml" xref="S3.SS4.p3.1.m1.1.1.3"><mtext mathsize="70%" id="S3.SS4.p3.1.m1.1.1.3.cmml" xref="S3.SS4.p3.1.m1.1.1.3">CL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.1.m1.1c">Q_{\text{CL}}</annotation></semantics></math> will be replaced by the latest features <math id="S3.SS4.p3.2.m2.1" class="ltx_Math" alttext="q_{\text{update}}" display="inline"><semantics id="S3.SS4.p3.2.m2.1a"><msub id="S3.SS4.p3.2.m2.1.1" xref="S3.SS4.p3.2.m2.1.1.cmml"><mi id="S3.SS4.p3.2.m2.1.1.2" xref="S3.SS4.p3.2.m2.1.1.2.cmml">q</mi><mtext id="S3.SS4.p3.2.m2.1.1.3" xref="S3.SS4.p3.2.m2.1.1.3a.cmml">update</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p3.2.m2.1b"><apply id="S3.SS4.p3.2.m2.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p3.2.m2.1.1.1.cmml" xref="S3.SS4.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p3.2.m2.1.1.2.cmml" xref="S3.SS4.p3.2.m2.1.1.2">𝑞</ci><ci id="S3.SS4.p3.2.m2.1.1.3a.cmml" xref="S3.SS4.p3.2.m2.1.1.3"><mtext mathsize="70%" id="S3.SS4.p3.2.m2.1.1.3.cmml" xref="S3.SS4.p3.2.m2.1.1.3">update</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p3.2.m2.1c">q_{\text{update}}</annotation></semantics></math> as follows.</p>
<table id="S3.E4" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E4.m1.7" class="ltx_Math" alttext="q_{\text{update}}=\{q_{l,i,B}\cup q_{r,i,B}\}." display="block"><semantics id="S3.E4.m1.7a"><mrow id="S3.E4.m1.7.7.1" xref="S3.E4.m1.7.7.1.1.cmml"><mrow id="S3.E4.m1.7.7.1.1" xref="S3.E4.m1.7.7.1.1.cmml"><msub id="S3.E4.m1.7.7.1.1.3" xref="S3.E4.m1.7.7.1.1.3.cmml"><mi id="S3.E4.m1.7.7.1.1.3.2" xref="S3.E4.m1.7.7.1.1.3.2.cmml">q</mi><mtext id="S3.E4.m1.7.7.1.1.3.3" xref="S3.E4.m1.7.7.1.1.3.3a.cmml">update</mtext></msub><mo id="S3.E4.m1.7.7.1.1.2" xref="S3.E4.m1.7.7.1.1.2.cmml">=</mo><mrow id="S3.E4.m1.7.7.1.1.1.1" xref="S3.E4.m1.7.7.1.1.1.2.cmml"><mo stretchy="false" id="S3.E4.m1.7.7.1.1.1.1.2" xref="S3.E4.m1.7.7.1.1.1.2.cmml">{</mo><mrow id="S3.E4.m1.7.7.1.1.1.1.1" xref="S3.E4.m1.7.7.1.1.1.1.1.cmml"><msub id="S3.E4.m1.7.7.1.1.1.1.1.2" xref="S3.E4.m1.7.7.1.1.1.1.1.2.cmml"><mi id="S3.E4.m1.7.7.1.1.1.1.1.2.2" xref="S3.E4.m1.7.7.1.1.1.1.1.2.2.cmml">q</mi><mrow id="S3.E4.m1.3.3.3.5" xref="S3.E4.m1.3.3.3.4.cmml"><mi id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">l</mi><mo id="S3.E4.m1.3.3.3.5.1" xref="S3.E4.m1.3.3.3.4.cmml">,</mo><mi id="S3.E4.m1.2.2.2.2" xref="S3.E4.m1.2.2.2.2.cmml">i</mi><mo id="S3.E4.m1.3.3.3.5.2" xref="S3.E4.m1.3.3.3.4.cmml">,</mo><mi id="S3.E4.m1.3.3.3.3" xref="S3.E4.m1.3.3.3.3.cmml">B</mi></mrow></msub><mo id="S3.E4.m1.7.7.1.1.1.1.1.1" xref="S3.E4.m1.7.7.1.1.1.1.1.1.cmml">∪</mo><msub id="S3.E4.m1.7.7.1.1.1.1.1.3" xref="S3.E4.m1.7.7.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.7.7.1.1.1.1.1.3.2" xref="S3.E4.m1.7.7.1.1.1.1.1.3.2.cmml">q</mi><mrow id="S3.E4.m1.6.6.3.5" xref="S3.E4.m1.6.6.3.4.cmml"><mi id="S3.E4.m1.4.4.1.1" xref="S3.E4.m1.4.4.1.1.cmml">r</mi><mo id="S3.E4.m1.6.6.3.5.1" xref="S3.E4.m1.6.6.3.4.cmml">,</mo><mi id="S3.E4.m1.5.5.2.2" xref="S3.E4.m1.5.5.2.2.cmml">i</mi><mo id="S3.E4.m1.6.6.3.5.2" xref="S3.E4.m1.6.6.3.4.cmml">,</mo><mi id="S3.E4.m1.6.6.3.3" xref="S3.E4.m1.6.6.3.3.cmml">B</mi></mrow></msub></mrow><mo stretchy="false" id="S3.E4.m1.7.7.1.1.1.1.3" xref="S3.E4.m1.7.7.1.1.1.2.cmml">}</mo></mrow></mrow><mo lspace="0em" id="S3.E4.m1.7.7.1.2" xref="S3.E4.m1.7.7.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.7b"><apply id="S3.E4.m1.7.7.1.1.cmml" xref="S3.E4.m1.7.7.1"><eq id="S3.E4.m1.7.7.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.2"></eq><apply id="S3.E4.m1.7.7.1.1.3.cmml" xref="S3.E4.m1.7.7.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.3.1.cmml" xref="S3.E4.m1.7.7.1.1.3">subscript</csymbol><ci id="S3.E4.m1.7.7.1.1.3.2.cmml" xref="S3.E4.m1.7.7.1.1.3.2">𝑞</ci><ci id="S3.E4.m1.7.7.1.1.3.3a.cmml" xref="S3.E4.m1.7.7.1.1.3.3"><mtext mathsize="70%" id="S3.E4.m1.7.7.1.1.3.3.cmml" xref="S3.E4.m1.7.7.1.1.3.3">update</mtext></ci></apply><set id="S3.E4.m1.7.7.1.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.1.1"><apply id="S3.E4.m1.7.7.1.1.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1"><union id="S3.E4.m1.7.7.1.1.1.1.1.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.1"></union><apply id="S3.E4.m1.7.7.1.1.1.1.1.2.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E4.m1.7.7.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.2.2">𝑞</ci><list id="S3.E4.m1.3.3.3.4.cmml" xref="S3.E4.m1.3.3.3.5"><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑙</ci><ci id="S3.E4.m1.2.2.2.2.cmml" xref="S3.E4.m1.2.2.2.2">𝑖</ci><ci id="S3.E4.m1.3.3.3.3.cmml" xref="S3.E4.m1.3.3.3.3">𝐵</ci></list></apply><apply id="S3.E4.m1.7.7.1.1.1.1.1.3.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.7.7.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.7.7.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.7.7.1.1.1.1.1.3.2">𝑞</ci><list id="S3.E4.m1.6.6.3.4.cmml" xref="S3.E4.m1.6.6.3.5"><ci id="S3.E4.m1.4.4.1.1.cmml" xref="S3.E4.m1.4.4.1.1">𝑟</ci><ci id="S3.E4.m1.5.5.2.2.cmml" xref="S3.E4.m1.5.5.2.2">𝑖</ci><ci id="S3.E4.m1.6.6.3.3.cmml" xref="S3.E4.m1.6.6.3.3">𝐵</ci></list></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.7c">q_{\text{update}}=\{q_{l,i,B}\cup q_{r,i,B}\}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS4.p4" class="ltx_para ltx_noindent">
<p id="S3.SS4.p4.2" class="ltx_p"><span id="S3.SS4.p4.2.1" class="ltx_text ltx_font_bold">Removing local negatives for more accurate learning.</span>
While <math id="S3.SS4.p4.1.m1.1" class="ltx_Math" alttext="Q_{\text{CL}}" display="inline"><semantics id="S3.SS4.p4.1.m1.1a"><msub id="S3.SS4.p4.1.m1.1.1" xref="S3.SS4.p4.1.m1.1.1.cmml"><mi id="S3.SS4.p4.1.m1.1.1.2" xref="S3.SS4.p4.1.m1.1.1.2.cmml">Q</mi><mtext id="S3.SS4.p4.1.m1.1.1.3" xref="S3.SS4.p4.1.m1.1.1.3a.cmml">CL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.1.m1.1b"><apply id="S3.SS4.p4.1.m1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.1.m1.1.1.1.cmml" xref="S3.SS4.p4.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p4.1.m1.1.1.2.cmml" xref="S3.SS4.p4.1.m1.1.1.2">𝑄</ci><ci id="S3.SS4.p4.1.m1.1.1.3a.cmml" xref="S3.SS4.p4.1.m1.1.1.3"><mtext mathsize="70%" id="S3.SS4.p4.1.m1.1.1.3.cmml" xref="S3.SS4.p4.1.m1.1.1.3">CL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.1.m1.1c">Q_{\text{CL}}</annotation></semantics></math> updated by Eq.(<a href="#S3.E4" title="In III-D Learning with Remote Features ‣ III FedCLF: Federated Contrastive Learning with Remote and Local Features ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>) contains remote features for improved data diversity, <math id="S3.SS4.p4.2.m2.1" class="ltx_Math" alttext="Q_{\text{CL}}" display="inline"><semantics id="S3.SS4.p4.2.m2.1a"><msub id="S3.SS4.p4.2.m2.1.1" xref="S3.SS4.p4.2.m2.1.1.cmml"><mi id="S3.SS4.p4.2.m2.1.1.2" xref="S3.SS4.p4.2.m2.1.1.2.cmml">Q</mi><mtext id="S3.SS4.p4.2.m2.1.1.3" xref="S3.SS4.p4.2.m2.1.1.3a.cmml">CL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p4.2.m2.1b"><apply id="S3.SS4.p4.2.m2.1.1.cmml" xref="S3.SS4.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p4.2.m2.1.1.1.cmml" xref="S3.SS4.p4.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p4.2.m2.1.1.2.cmml" xref="S3.SS4.p4.2.m2.1.1.2">𝑄</ci><ci id="S3.SS4.p4.2.m2.1.1.3a.cmml" xref="S3.SS4.p4.2.m2.1.1.3"><mtext mathsize="70%" id="S3.SS4.p4.2.m2.1.1.3.cmml" xref="S3.SS4.p4.2.m2.1.1.3">CL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p4.2.m2.1c">Q_{\text{CL}}</annotation></semantics></math> also contains local features.
For better local learning, we propose to completely avoid using local features as negatives during local learning.
The intuition is that local features can share certain levels of similarity with the data that is being learned because they are from the same patient.
Using local features as negatives can degrade the learned representations since it pushes the representations of the data being learned apart from the local features, which could have been clustered for better representations.</p>
</div>
<div id="S3.SS4.p5" class="ltx_para">
<p id="S3.SS4.p5.4" class="ltx_p">To solve this problem, we eliminate the use of local features during local contrastive learning. At the beginning of each round of FedCLF, <math id="S3.SS4.p5.1.m1.1" class="ltx_Math" alttext="Q_{\text{CL}}" display="inline"><semantics id="S3.SS4.p5.1.m1.1a"><msub id="S3.SS4.p5.1.m1.1.1" xref="S3.SS4.p5.1.m1.1.1.cmml"><mi id="S3.SS4.p5.1.m1.1.1.2" xref="S3.SS4.p5.1.m1.1.1.2.cmml">Q</mi><mtext id="S3.SS4.p5.1.m1.1.1.3" xref="S3.SS4.p5.1.m1.1.1.3a.cmml">CL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.1.m1.1b"><apply id="S3.SS4.p5.1.m1.1.1.cmml" xref="S3.SS4.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS4.p5.1.m1.1.1.1.cmml" xref="S3.SS4.p5.1.m1.1.1">subscript</csymbol><ci id="S3.SS4.p5.1.m1.1.1.2.cmml" xref="S3.SS4.p5.1.m1.1.1.2">𝑄</ci><ci id="S3.SS4.p5.1.m1.1.1.3a.cmml" xref="S3.SS4.p5.1.m1.1.1.3"><mtext mathsize="70%" id="S3.SS4.p5.1.m1.1.1.3.cmml" xref="S3.SS4.p5.1.m1.1.1.3">CL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.1.m1.1c">Q_{\text{CL}}</annotation></semantics></math> is initialized as the memory bank of remote features <math id="S3.SS4.p5.2.m2.2" class="ltx_Math" alttext="Q_{r,i}" display="inline"><semantics id="S3.SS4.p5.2.m2.2a"><msub id="S3.SS4.p5.2.m2.2.3" xref="S3.SS4.p5.2.m2.2.3.cmml"><mi id="S3.SS4.p5.2.m2.2.3.2" xref="S3.SS4.p5.2.m2.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p5.2.m2.2.2.2.4" xref="S3.SS4.p5.2.m2.2.2.2.3.cmml"><mi id="S3.SS4.p5.2.m2.1.1.1.1" xref="S3.SS4.p5.2.m2.1.1.1.1.cmml">r</mi><mo id="S3.SS4.p5.2.m2.2.2.2.4.1" xref="S3.SS4.p5.2.m2.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p5.2.m2.2.2.2.2" xref="S3.SS4.p5.2.m2.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.2.m2.2b"><apply id="S3.SS4.p5.2.m2.2.3.cmml" xref="S3.SS4.p5.2.m2.2.3"><csymbol cd="ambiguous" id="S3.SS4.p5.2.m2.2.3.1.cmml" xref="S3.SS4.p5.2.m2.2.3">subscript</csymbol><ci id="S3.SS4.p5.2.m2.2.3.2.cmml" xref="S3.SS4.p5.2.m2.2.3.2">𝑄</ci><list id="S3.SS4.p5.2.m2.2.2.2.3.cmml" xref="S3.SS4.p5.2.m2.2.2.2.4"><ci id="S3.SS4.p5.2.m2.1.1.1.1.cmml" xref="S3.SS4.p5.2.m2.1.1.1.1">𝑟</ci><ci id="S3.SS4.p5.2.m2.2.2.2.2.cmml" xref="S3.SS4.p5.2.m2.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.2.m2.2c">Q_{r,i}</annotation></semantics></math> in Eq.(<a href="#S3.E2" title="In III-C Memory Banks of Local and Remote Features ‣ III FedCLF: Federated Contrastive Learning with Remote and Local Features ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>) instead of <math id="S3.SS4.p5.3.m3.2" class="ltx_Math" alttext="Q_{l,i}" display="inline"><semantics id="S3.SS4.p5.3.m3.2a"><msub id="S3.SS4.p5.3.m3.2.3" xref="S3.SS4.p5.3.m3.2.3.cmml"><mi id="S3.SS4.p5.3.m3.2.3.2" xref="S3.SS4.p5.3.m3.2.3.2.cmml">Q</mi><mrow id="S3.SS4.p5.3.m3.2.2.2.4" xref="S3.SS4.p5.3.m3.2.2.2.3.cmml"><mi id="S3.SS4.p5.3.m3.1.1.1.1" xref="S3.SS4.p5.3.m3.1.1.1.1.cmml">l</mi><mo id="S3.SS4.p5.3.m3.2.2.2.4.1" xref="S3.SS4.p5.3.m3.2.2.2.3.cmml">,</mo><mi id="S3.SS4.p5.3.m3.2.2.2.2" xref="S3.SS4.p5.3.m3.2.2.2.2.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.3.m3.2b"><apply id="S3.SS4.p5.3.m3.2.3.cmml" xref="S3.SS4.p5.3.m3.2.3"><csymbol cd="ambiguous" id="S3.SS4.p5.3.m3.2.3.1.cmml" xref="S3.SS4.p5.3.m3.2.3">subscript</csymbol><ci id="S3.SS4.p5.3.m3.2.3.2.cmml" xref="S3.SS4.p5.3.m3.2.3.2">𝑄</ci><list id="S3.SS4.p5.3.m3.2.2.2.3.cmml" xref="S3.SS4.p5.3.m3.2.2.2.4"><ci id="S3.SS4.p5.3.m3.1.1.1.1.cmml" xref="S3.SS4.p5.3.m3.1.1.1.1">𝑙</ci><ci id="S3.SS4.p5.3.m3.2.2.2.2.cmml" xref="S3.SS4.p5.3.m3.2.2.2.2">𝑖</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.3.m3.2c">Q_{l,i}</annotation></semantics></math>.
The latest features for updating <math id="S3.SS4.p5.4.m4.1" class="ltx_Math" alttext="Q_{\text{CL}}" display="inline"><semantics id="S3.SS4.p5.4.m4.1a"><msub id="S3.SS4.p5.4.m4.1.1" xref="S3.SS4.p5.4.m4.1.1.cmml"><mi id="S3.SS4.p5.4.m4.1.1.2" xref="S3.SS4.p5.4.m4.1.1.2.cmml">Q</mi><mtext id="S3.SS4.p5.4.m4.1.1.3" xref="S3.SS4.p5.4.m4.1.1.3a.cmml">CL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p5.4.m4.1b"><apply id="S3.SS4.p5.4.m4.1.1.cmml" xref="S3.SS4.p5.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p5.4.m4.1.1.1.cmml" xref="S3.SS4.p5.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.p5.4.m4.1.1.2.cmml" xref="S3.SS4.p5.4.m4.1.1.2">𝑄</ci><ci id="S3.SS4.p5.4.m4.1.1.3a.cmml" xref="S3.SS4.p5.4.m4.1.1.3"><mtext mathsize="70%" id="S3.SS4.p5.4.m4.1.1.3.cmml" xref="S3.SS4.p5.4.m4.1.1.3">CL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p5.4.m4.1c">Q_{\text{CL}}</annotation></semantics></math> are also simplified as follows.</p>
<table id="S3.E5" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E5.m1.4" class="ltx_Math" alttext="q_{\text{update}}=\{q_{r,i,B}\}." display="block"><semantics id="S3.E5.m1.4a"><mrow id="S3.E5.m1.4.4.1" xref="S3.E5.m1.4.4.1.1.cmml"><mrow id="S3.E5.m1.4.4.1.1" xref="S3.E5.m1.4.4.1.1.cmml"><msub id="S3.E5.m1.4.4.1.1.3" xref="S3.E5.m1.4.4.1.1.3.cmml"><mi id="S3.E5.m1.4.4.1.1.3.2" xref="S3.E5.m1.4.4.1.1.3.2.cmml">q</mi><mtext id="S3.E5.m1.4.4.1.1.3.3" xref="S3.E5.m1.4.4.1.1.3.3a.cmml">update</mtext></msub><mo id="S3.E5.m1.4.4.1.1.2" xref="S3.E5.m1.4.4.1.1.2.cmml">=</mo><mrow id="S3.E5.m1.4.4.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.2.cmml"><mo stretchy="false" id="S3.E5.m1.4.4.1.1.1.1.2" xref="S3.E5.m1.4.4.1.1.1.2.cmml">{</mo><msub id="S3.E5.m1.4.4.1.1.1.1.1" xref="S3.E5.m1.4.4.1.1.1.1.1.cmml"><mi id="S3.E5.m1.4.4.1.1.1.1.1.2" xref="S3.E5.m1.4.4.1.1.1.1.1.2.cmml">q</mi><mrow id="S3.E5.m1.3.3.3.5" xref="S3.E5.m1.3.3.3.4.cmml"><mi id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml">r</mi><mo id="S3.E5.m1.3.3.3.5.1" xref="S3.E5.m1.3.3.3.4.cmml">,</mo><mi id="S3.E5.m1.2.2.2.2" xref="S3.E5.m1.2.2.2.2.cmml">i</mi><mo id="S3.E5.m1.3.3.3.5.2" xref="S3.E5.m1.3.3.3.4.cmml">,</mo><mi id="S3.E5.m1.3.3.3.3" xref="S3.E5.m1.3.3.3.3.cmml">B</mi></mrow></msub><mo stretchy="false" id="S3.E5.m1.4.4.1.1.1.1.3" xref="S3.E5.m1.4.4.1.1.1.2.cmml">}</mo></mrow></mrow><mo lspace="0em" id="S3.E5.m1.4.4.1.2" xref="S3.E5.m1.4.4.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.4b"><apply id="S3.E5.m1.4.4.1.1.cmml" xref="S3.E5.m1.4.4.1"><eq id="S3.E5.m1.4.4.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.2"></eq><apply id="S3.E5.m1.4.4.1.1.3.cmml" xref="S3.E5.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.3.1.cmml" xref="S3.E5.m1.4.4.1.1.3">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.3.2.cmml" xref="S3.E5.m1.4.4.1.1.3.2">𝑞</ci><ci id="S3.E5.m1.4.4.1.1.3.3a.cmml" xref="S3.E5.m1.4.4.1.1.3.3"><mtext mathsize="70%" id="S3.E5.m1.4.4.1.1.3.3.cmml" xref="S3.E5.m1.4.4.1.1.3.3">update</mtext></ci></apply><set id="S3.E5.m1.4.4.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1"><apply id="S3.E5.m1.4.4.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.4.4.1.1.1.1.1.1.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m1.4.4.1.1.1.1.1.2.cmml" xref="S3.E5.m1.4.4.1.1.1.1.1.2">𝑞</ci><list id="S3.E5.m1.3.3.3.4.cmml" xref="S3.E5.m1.3.3.3.5"><ci id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1">𝑟</ci><ci id="S3.E5.m1.2.2.2.2.cmml" xref="S3.E5.m1.2.2.2.2">𝑖</ci><ci id="S3.E5.m1.3.3.3.3.cmml" xref="S3.E5.m1.3.3.3.3">𝐵</ci></list></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.4c">q_{\text{update}}=\{q_{r,i,B}\}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
<div id="S3.SS4.p6" class="ltx_para">
<p id="S3.SS4.p6.1" class="ltx_p">Compared with Eq.(<a href="#S3.E4" title="In III-D Learning with Remote Features ‣ III FedCLF: Federated Contrastive Learning with Remote and Local Features ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>), the local negatives are removed in Eq.(<a href="#S3.E5" title="In III-D Learning with Remote Features ‣ III FedCLF: Federated Contrastive Learning with Remote and Local Features ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>).
In this way, better representations can be learned during FedCLF, which also results in a higher accuracy of the diagnostic model after fine-tuning.</p>
</div>
<div id="S3.SS4.p7" class="ltx_para ltx_noindent">
<p id="S3.SS4.p7.5" class="ltx_p"><span id="S3.SS4.p7.5.1" class="ltx_text ltx_font_bold">Loss function.</span>
On device <math id="S3.SS4.p7.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS4.p7.1.m1.1a"><mi id="S3.SS4.p7.1.m1.1.1" xref="S3.SS4.p7.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p7.1.m1.1b"><ci id="S3.SS4.p7.1.m1.1.1.cmml" xref="S3.SS4.p7.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p7.1.m1.1c">i</annotation></semantics></math>, by using the constructed <math id="S3.SS4.p7.2.m2.1" class="ltx_Math" alttext="Q_{\text{CL}}" display="inline"><semantics id="S3.SS4.p7.2.m2.1a"><msub id="S3.SS4.p7.2.m2.1.1" xref="S3.SS4.p7.2.m2.1.1.cmml"><mi id="S3.SS4.p7.2.m2.1.1.2" xref="S3.SS4.p7.2.m2.1.1.2.cmml">Q</mi><mtext id="S3.SS4.p7.2.m2.1.1.3" xref="S3.SS4.p7.2.m2.1.1.3a.cmml">CL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p7.2.m2.1b"><apply id="S3.SS4.p7.2.m2.1.1.cmml" xref="S3.SS4.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS4.p7.2.m2.1.1.1.cmml" xref="S3.SS4.p7.2.m2.1.1">subscript</csymbol><ci id="S3.SS4.p7.2.m2.1.1.2.cmml" xref="S3.SS4.p7.2.m2.1.1.2">𝑄</ci><ci id="S3.SS4.p7.2.m2.1.1.3a.cmml" xref="S3.SS4.p7.2.m2.1.1.3"><mtext mathsize="70%" id="S3.SS4.p7.2.m2.1.1.3.cmml" xref="S3.SS4.p7.2.m2.1.1.3">CL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p7.2.m2.1c">Q_{\text{CL}}</annotation></semantics></math>, the feature <math id="S3.SS4.p7.3.m3.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS4.p7.3.m3.1a"><mi id="S3.SS4.p7.3.m3.1.1" xref="S3.SS4.p7.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p7.3.m3.1b"><ci id="S3.SS4.p7.3.m3.1.1.cmml" xref="S3.SS4.p7.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p7.3.m3.1c">q</annotation></semantics></math> of one image being learned is compared with all features in <math id="S3.SS4.p7.4.m4.1" class="ltx_Math" alttext="Q_{\text{CL}}" display="inline"><semantics id="S3.SS4.p7.4.m4.1a"><msub id="S3.SS4.p7.4.m4.1.1" xref="S3.SS4.p7.4.m4.1.1.cmml"><mi id="S3.SS4.p7.4.m4.1.1.2" xref="S3.SS4.p7.4.m4.1.1.2.cmml">Q</mi><mtext id="S3.SS4.p7.4.m4.1.1.3" xref="S3.SS4.p7.4.m4.1.1.3a.cmml">CL</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS4.p7.4.m4.1b"><apply id="S3.SS4.p7.4.m4.1.1.cmml" xref="S3.SS4.p7.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS4.p7.4.m4.1.1.1.cmml" xref="S3.SS4.p7.4.m4.1.1">subscript</csymbol><ci id="S3.SS4.p7.4.m4.1.1.2.cmml" xref="S3.SS4.p7.4.m4.1.1.2">𝑄</ci><ci id="S3.SS4.p7.4.m4.1.1.3a.cmml" xref="S3.SS4.p7.4.m4.1.1.3"><mtext mathsize="70%" id="S3.SS4.p7.4.m4.1.1.3.cmml" xref="S3.SS4.p7.4.m4.1.1.3">CL</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p7.4.m4.1c">Q_{\text{CL}}</annotation></semantics></math>, and the contrastive loss for <math id="S3.SS4.p7.5.m5.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.SS4.p7.5.m5.1a"><mi id="S3.SS4.p7.5.m5.1.1" xref="S3.SS4.p7.5.m5.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p7.5.m5.1b"><ci id="S3.SS4.p7.5.m5.1.1.cmml" xref="S3.SS4.p7.5.m5.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p7.5.m5.1c">q</annotation></semantics></math> is defined as:</p>
<table id="S3.E6" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E6.m1.10" class="ltx_Math" alttext="\ell_{q,k^{+},Q_{\text{CL}}}=-\log\frac{\exp(q\cdot k^{+}/\tau)}{\exp(q\cdot k^{+}/\tau)+\sum_{n\in Q_{\text{CL}}}\exp(q\cdot n/\tau)}," display="block"><semantics id="S3.E6.m1.10a"><mrow id="S3.E6.m1.10.10.1" xref="S3.E6.m1.10.10.1.1.cmml"><mrow id="S3.E6.m1.10.10.1.1" xref="S3.E6.m1.10.10.1.1.cmml"><msub id="S3.E6.m1.10.10.1.1.2" xref="S3.E6.m1.10.10.1.1.2.cmml"><mi mathvariant="normal" id="S3.E6.m1.10.10.1.1.2.2" xref="S3.E6.m1.10.10.1.1.2.2.cmml">ℓ</mi><mrow id="S3.E6.m1.3.3.3.3" xref="S3.E6.m1.3.3.3.4.cmml"><mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">q</mi><mo id="S3.E6.m1.3.3.3.3.3" xref="S3.E6.m1.3.3.3.4.cmml">,</mo><msup id="S3.E6.m1.2.2.2.2.1" xref="S3.E6.m1.2.2.2.2.1.cmml"><mi id="S3.E6.m1.2.2.2.2.1.2" xref="S3.E6.m1.2.2.2.2.1.2.cmml">k</mi><mo id="S3.E6.m1.2.2.2.2.1.3" xref="S3.E6.m1.2.2.2.2.1.3.cmml">+</mo></msup><mo id="S3.E6.m1.3.3.3.3.4" xref="S3.E6.m1.3.3.3.4.cmml">,</mo><msub id="S3.E6.m1.3.3.3.3.2" xref="S3.E6.m1.3.3.3.3.2.cmml"><mi id="S3.E6.m1.3.3.3.3.2.2" xref="S3.E6.m1.3.3.3.3.2.2.cmml">Q</mi><mtext id="S3.E6.m1.3.3.3.3.2.3" xref="S3.E6.m1.3.3.3.3.2.3a.cmml">CL</mtext></msub></mrow></msub><mo id="S3.E6.m1.10.10.1.1.1" xref="S3.E6.m1.10.10.1.1.1.cmml">=</mo><mrow id="S3.E6.m1.10.10.1.1.3" xref="S3.E6.m1.10.10.1.1.3.cmml"><mo rspace="0.167em" id="S3.E6.m1.10.10.1.1.3a" xref="S3.E6.m1.10.10.1.1.3.cmml">−</mo><mrow id="S3.E6.m1.10.10.1.1.3.2" xref="S3.E6.m1.10.10.1.1.3.2.cmml"><mi id="S3.E6.m1.10.10.1.1.3.2.1" xref="S3.E6.m1.10.10.1.1.3.2.1.cmml">log</mi><mo lspace="0.167em" id="S3.E6.m1.10.10.1.1.3.2a" xref="S3.E6.m1.10.10.1.1.3.2.cmml">⁡</mo><mfrac id="S3.E6.m1.9.9" xref="S3.E6.m1.9.9.cmml"><mrow id="S3.E6.m1.5.5.2.2" xref="S3.E6.m1.5.5.2.3.cmml"><mi id="S3.E6.m1.4.4.1.1" xref="S3.E6.m1.4.4.1.1.cmml">exp</mi><mo id="S3.E6.m1.5.5.2.2a" xref="S3.E6.m1.5.5.2.3.cmml">⁡</mo><mrow id="S3.E6.m1.5.5.2.2.1" xref="S3.E6.m1.5.5.2.3.cmml"><mo stretchy="false" id="S3.E6.m1.5.5.2.2.1.2" xref="S3.E6.m1.5.5.2.3.cmml">(</mo><mrow id="S3.E6.m1.5.5.2.2.1.1" xref="S3.E6.m1.5.5.2.2.1.1.cmml"><mrow id="S3.E6.m1.5.5.2.2.1.1.2" xref="S3.E6.m1.5.5.2.2.1.1.2.cmml"><mi id="S3.E6.m1.5.5.2.2.1.1.2.2" xref="S3.E6.m1.5.5.2.2.1.1.2.2.cmml">q</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.5.5.2.2.1.1.2.1" xref="S3.E6.m1.5.5.2.2.1.1.2.1.cmml">⋅</mo><msup id="S3.E6.m1.5.5.2.2.1.1.2.3" xref="S3.E6.m1.5.5.2.2.1.1.2.3.cmml"><mi id="S3.E6.m1.5.5.2.2.1.1.2.3.2" xref="S3.E6.m1.5.5.2.2.1.1.2.3.2.cmml">k</mi><mo id="S3.E6.m1.5.5.2.2.1.1.2.3.3" xref="S3.E6.m1.5.5.2.2.1.1.2.3.3.cmml">+</mo></msup></mrow><mo id="S3.E6.m1.5.5.2.2.1.1.1" xref="S3.E6.m1.5.5.2.2.1.1.1.cmml">/</mo><mi id="S3.E6.m1.5.5.2.2.1.1.3" xref="S3.E6.m1.5.5.2.2.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S3.E6.m1.5.5.2.2.1.3" xref="S3.E6.m1.5.5.2.3.cmml">)</mo></mrow></mrow><mrow id="S3.E6.m1.9.9.6" xref="S3.E6.m1.9.9.6.cmml"><mrow id="S3.E6.m1.8.8.5.3.1" xref="S3.E6.m1.8.8.5.3.2.cmml"><mi id="S3.E6.m1.6.6.3.1" xref="S3.E6.m1.6.6.3.1.cmml">exp</mi><mo id="S3.E6.m1.8.8.5.3.1a" xref="S3.E6.m1.8.8.5.3.2.cmml">⁡</mo><mrow id="S3.E6.m1.8.8.5.3.1.1" xref="S3.E6.m1.8.8.5.3.2.cmml"><mo stretchy="false" id="S3.E6.m1.8.8.5.3.1.1.2" xref="S3.E6.m1.8.8.5.3.2.cmml">(</mo><mrow id="S3.E6.m1.8.8.5.3.1.1.1" xref="S3.E6.m1.8.8.5.3.1.1.1.cmml"><mrow id="S3.E6.m1.8.8.5.3.1.1.1.2" xref="S3.E6.m1.8.8.5.3.1.1.1.2.cmml"><mi id="S3.E6.m1.8.8.5.3.1.1.1.2.2" xref="S3.E6.m1.8.8.5.3.1.1.1.2.2.cmml">q</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.8.8.5.3.1.1.1.2.1" xref="S3.E6.m1.8.8.5.3.1.1.1.2.1.cmml">⋅</mo><msup id="S3.E6.m1.8.8.5.3.1.1.1.2.3" xref="S3.E6.m1.8.8.5.3.1.1.1.2.3.cmml"><mi id="S3.E6.m1.8.8.5.3.1.1.1.2.3.2" xref="S3.E6.m1.8.8.5.3.1.1.1.2.3.2.cmml">k</mi><mo id="S3.E6.m1.8.8.5.3.1.1.1.2.3.3" xref="S3.E6.m1.8.8.5.3.1.1.1.2.3.3.cmml">+</mo></msup></mrow><mo id="S3.E6.m1.8.8.5.3.1.1.1.1" xref="S3.E6.m1.8.8.5.3.1.1.1.1.cmml">/</mo><mi id="S3.E6.m1.8.8.5.3.1.1.1.3" xref="S3.E6.m1.8.8.5.3.1.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S3.E6.m1.8.8.5.3.1.1.3" xref="S3.E6.m1.8.8.5.3.2.cmml">)</mo></mrow></mrow><mo rspace="0.055em" id="S3.E6.m1.9.9.6.5" xref="S3.E6.m1.9.9.6.5.cmml">+</mo><mrow id="S3.E6.m1.9.9.6.4" xref="S3.E6.m1.9.9.6.4.cmml"><msub id="S3.E6.m1.9.9.6.4.2" xref="S3.E6.m1.9.9.6.4.2.cmml"><mo id="S3.E6.m1.9.9.6.4.2.2" xref="S3.E6.m1.9.9.6.4.2.2.cmml">∑</mo><mrow id="S3.E6.m1.9.9.6.4.2.3" xref="S3.E6.m1.9.9.6.4.2.3.cmml"><mi id="S3.E6.m1.9.9.6.4.2.3.2" xref="S3.E6.m1.9.9.6.4.2.3.2.cmml">n</mi><mo id="S3.E6.m1.9.9.6.4.2.3.1" xref="S3.E6.m1.9.9.6.4.2.3.1.cmml">∈</mo><msub id="S3.E6.m1.9.9.6.4.2.3.3" xref="S3.E6.m1.9.9.6.4.2.3.3.cmml"><mi id="S3.E6.m1.9.9.6.4.2.3.3.2" xref="S3.E6.m1.9.9.6.4.2.3.3.2.cmml">Q</mi><mtext id="S3.E6.m1.9.9.6.4.2.3.3.3" xref="S3.E6.m1.9.9.6.4.2.3.3.3a.cmml">CL</mtext></msub></mrow></msub><mrow id="S3.E6.m1.9.9.6.4.1.1" xref="S3.E6.m1.9.9.6.4.1.2.cmml"><mi id="S3.E6.m1.7.7.4.2" xref="S3.E6.m1.7.7.4.2.cmml">exp</mi><mo id="S3.E6.m1.9.9.6.4.1.1a" xref="S3.E6.m1.9.9.6.4.1.2.cmml">⁡</mo><mrow id="S3.E6.m1.9.9.6.4.1.1.1" xref="S3.E6.m1.9.9.6.4.1.2.cmml"><mo stretchy="false" id="S3.E6.m1.9.9.6.4.1.1.1.2" xref="S3.E6.m1.9.9.6.4.1.2.cmml">(</mo><mrow id="S3.E6.m1.9.9.6.4.1.1.1.1" xref="S3.E6.m1.9.9.6.4.1.1.1.1.cmml"><mrow id="S3.E6.m1.9.9.6.4.1.1.1.1.2" xref="S3.E6.m1.9.9.6.4.1.1.1.1.2.cmml"><mi id="S3.E6.m1.9.9.6.4.1.1.1.1.2.2" xref="S3.E6.m1.9.9.6.4.1.1.1.1.2.2.cmml">q</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E6.m1.9.9.6.4.1.1.1.1.2.1" xref="S3.E6.m1.9.9.6.4.1.1.1.1.2.1.cmml">⋅</mo><mi id="S3.E6.m1.9.9.6.4.1.1.1.1.2.3" xref="S3.E6.m1.9.9.6.4.1.1.1.1.2.3.cmml">n</mi></mrow><mo id="S3.E6.m1.9.9.6.4.1.1.1.1.1" xref="S3.E6.m1.9.9.6.4.1.1.1.1.1.cmml">/</mo><mi id="S3.E6.m1.9.9.6.4.1.1.1.1.3" xref="S3.E6.m1.9.9.6.4.1.1.1.1.3.cmml">τ</mi></mrow><mo stretchy="false" id="S3.E6.m1.9.9.6.4.1.1.1.3" xref="S3.E6.m1.9.9.6.4.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow><mo id="S3.E6.m1.10.10.1.2" xref="S3.E6.m1.10.10.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.10b"><apply id="S3.E6.m1.10.10.1.1.cmml" xref="S3.E6.m1.10.10.1"><eq id="S3.E6.m1.10.10.1.1.1.cmml" xref="S3.E6.m1.10.10.1.1.1"></eq><apply id="S3.E6.m1.10.10.1.1.2.cmml" xref="S3.E6.m1.10.10.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.10.10.1.1.2.1.cmml" xref="S3.E6.m1.10.10.1.1.2">subscript</csymbol><ci id="S3.E6.m1.10.10.1.1.2.2.cmml" xref="S3.E6.m1.10.10.1.1.2.2">ℓ</ci><list id="S3.E6.m1.3.3.3.4.cmml" xref="S3.E6.m1.3.3.3.3"><ci id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">𝑞</ci><apply id="S3.E6.m1.2.2.2.2.1.cmml" xref="S3.E6.m1.2.2.2.2.1"><csymbol cd="ambiguous" id="S3.E6.m1.2.2.2.2.1.1.cmml" xref="S3.E6.m1.2.2.2.2.1">superscript</csymbol><ci id="S3.E6.m1.2.2.2.2.1.2.cmml" xref="S3.E6.m1.2.2.2.2.1.2">𝑘</ci><plus id="S3.E6.m1.2.2.2.2.1.3.cmml" xref="S3.E6.m1.2.2.2.2.1.3"></plus></apply><apply id="S3.E6.m1.3.3.3.3.2.cmml" xref="S3.E6.m1.3.3.3.3.2"><csymbol cd="ambiguous" id="S3.E6.m1.3.3.3.3.2.1.cmml" xref="S3.E6.m1.3.3.3.3.2">subscript</csymbol><ci id="S3.E6.m1.3.3.3.3.2.2.cmml" xref="S3.E6.m1.3.3.3.3.2.2">𝑄</ci><ci id="S3.E6.m1.3.3.3.3.2.3a.cmml" xref="S3.E6.m1.3.3.3.3.2.3"><mtext mathsize="50%" id="S3.E6.m1.3.3.3.3.2.3.cmml" xref="S3.E6.m1.3.3.3.3.2.3">CL</mtext></ci></apply></list></apply><apply id="S3.E6.m1.10.10.1.1.3.cmml" xref="S3.E6.m1.10.10.1.1.3"><minus id="S3.E6.m1.10.10.1.1.3.1.cmml" xref="S3.E6.m1.10.10.1.1.3"></minus><apply id="S3.E6.m1.10.10.1.1.3.2.cmml" xref="S3.E6.m1.10.10.1.1.3.2"><log id="S3.E6.m1.10.10.1.1.3.2.1.cmml" xref="S3.E6.m1.10.10.1.1.3.2.1"></log><apply id="S3.E6.m1.9.9.cmml" xref="S3.E6.m1.9.9"><divide id="S3.E6.m1.9.9.7.cmml" xref="S3.E6.m1.9.9"></divide><apply id="S3.E6.m1.5.5.2.3.cmml" xref="S3.E6.m1.5.5.2.2"><exp id="S3.E6.m1.4.4.1.1.cmml" xref="S3.E6.m1.4.4.1.1"></exp><apply id="S3.E6.m1.5.5.2.2.1.1.cmml" xref="S3.E6.m1.5.5.2.2.1.1"><divide id="S3.E6.m1.5.5.2.2.1.1.1.cmml" xref="S3.E6.m1.5.5.2.2.1.1.1"></divide><apply id="S3.E6.m1.5.5.2.2.1.1.2.cmml" xref="S3.E6.m1.5.5.2.2.1.1.2"><ci id="S3.E6.m1.5.5.2.2.1.1.2.1.cmml" xref="S3.E6.m1.5.5.2.2.1.1.2.1">⋅</ci><ci id="S3.E6.m1.5.5.2.2.1.1.2.2.cmml" xref="S3.E6.m1.5.5.2.2.1.1.2.2">𝑞</ci><apply id="S3.E6.m1.5.5.2.2.1.1.2.3.cmml" xref="S3.E6.m1.5.5.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.2.2.1.1.2.3.1.cmml" xref="S3.E6.m1.5.5.2.2.1.1.2.3">superscript</csymbol><ci id="S3.E6.m1.5.5.2.2.1.1.2.3.2.cmml" xref="S3.E6.m1.5.5.2.2.1.1.2.3.2">𝑘</ci><plus id="S3.E6.m1.5.5.2.2.1.1.2.3.3.cmml" xref="S3.E6.m1.5.5.2.2.1.1.2.3.3"></plus></apply></apply><ci id="S3.E6.m1.5.5.2.2.1.1.3.cmml" xref="S3.E6.m1.5.5.2.2.1.1.3">𝜏</ci></apply></apply><apply id="S3.E6.m1.9.9.6.cmml" xref="S3.E6.m1.9.9.6"><plus id="S3.E6.m1.9.9.6.5.cmml" xref="S3.E6.m1.9.9.6.5"></plus><apply id="S3.E6.m1.8.8.5.3.2.cmml" xref="S3.E6.m1.8.8.5.3.1"><exp id="S3.E6.m1.6.6.3.1.cmml" xref="S3.E6.m1.6.6.3.1"></exp><apply id="S3.E6.m1.8.8.5.3.1.1.1.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1"><divide id="S3.E6.m1.8.8.5.3.1.1.1.1.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.1"></divide><apply id="S3.E6.m1.8.8.5.3.1.1.1.2.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.2"><ci id="S3.E6.m1.8.8.5.3.1.1.1.2.1.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.2.1">⋅</ci><ci id="S3.E6.m1.8.8.5.3.1.1.1.2.2.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.2.2">𝑞</ci><apply id="S3.E6.m1.8.8.5.3.1.1.1.2.3.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E6.m1.8.8.5.3.1.1.1.2.3.1.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.2.3">superscript</csymbol><ci id="S3.E6.m1.8.8.5.3.1.1.1.2.3.2.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.2.3.2">𝑘</ci><plus id="S3.E6.m1.8.8.5.3.1.1.1.2.3.3.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.2.3.3"></plus></apply></apply><ci id="S3.E6.m1.8.8.5.3.1.1.1.3.cmml" xref="S3.E6.m1.8.8.5.3.1.1.1.3">𝜏</ci></apply></apply><apply id="S3.E6.m1.9.9.6.4.cmml" xref="S3.E6.m1.9.9.6.4"><apply id="S3.E6.m1.9.9.6.4.2.cmml" xref="S3.E6.m1.9.9.6.4.2"><csymbol cd="ambiguous" id="S3.E6.m1.9.9.6.4.2.1.cmml" xref="S3.E6.m1.9.9.6.4.2">subscript</csymbol><sum id="S3.E6.m1.9.9.6.4.2.2.cmml" xref="S3.E6.m1.9.9.6.4.2.2"></sum><apply id="S3.E6.m1.9.9.6.4.2.3.cmml" xref="S3.E6.m1.9.9.6.4.2.3"><in id="S3.E6.m1.9.9.6.4.2.3.1.cmml" xref="S3.E6.m1.9.9.6.4.2.3.1"></in><ci id="S3.E6.m1.9.9.6.4.2.3.2.cmml" xref="S3.E6.m1.9.9.6.4.2.3.2">𝑛</ci><apply id="S3.E6.m1.9.9.6.4.2.3.3.cmml" xref="S3.E6.m1.9.9.6.4.2.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.9.9.6.4.2.3.3.1.cmml" xref="S3.E6.m1.9.9.6.4.2.3.3">subscript</csymbol><ci id="S3.E6.m1.9.9.6.4.2.3.3.2.cmml" xref="S3.E6.m1.9.9.6.4.2.3.3.2">𝑄</ci><ci id="S3.E6.m1.9.9.6.4.2.3.3.3a.cmml" xref="S3.E6.m1.9.9.6.4.2.3.3.3"><mtext mathsize="50%" id="S3.E6.m1.9.9.6.4.2.3.3.3.cmml" xref="S3.E6.m1.9.9.6.4.2.3.3.3">CL</mtext></ci></apply></apply></apply><apply id="S3.E6.m1.9.9.6.4.1.2.cmml" xref="S3.E6.m1.9.9.6.4.1.1"><exp id="S3.E6.m1.7.7.4.2.cmml" xref="S3.E6.m1.7.7.4.2"></exp><apply id="S3.E6.m1.9.9.6.4.1.1.1.1.cmml" xref="S3.E6.m1.9.9.6.4.1.1.1.1"><divide id="S3.E6.m1.9.9.6.4.1.1.1.1.1.cmml" xref="S3.E6.m1.9.9.6.4.1.1.1.1.1"></divide><apply id="S3.E6.m1.9.9.6.4.1.1.1.1.2.cmml" xref="S3.E6.m1.9.9.6.4.1.1.1.1.2"><ci id="S3.E6.m1.9.9.6.4.1.1.1.1.2.1.cmml" xref="S3.E6.m1.9.9.6.4.1.1.1.1.2.1">⋅</ci><ci id="S3.E6.m1.9.9.6.4.1.1.1.1.2.2.cmml" xref="S3.E6.m1.9.9.6.4.1.1.1.1.2.2">𝑞</ci><ci id="S3.E6.m1.9.9.6.4.1.1.1.1.2.3.cmml" xref="S3.E6.m1.9.9.6.4.1.1.1.1.2.3">𝑛</ci></apply><ci id="S3.E6.m1.9.9.6.4.1.1.1.1.3.cmml" xref="S3.E6.m1.9.9.6.4.1.1.1.1.3">𝜏</ci></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.10c">\ell_{q,k^{+},Q_{\text{CL}}}=-\log\frac{\exp(q\cdot k^{+}/\tau)}{\exp(q\cdot k^{+}/\tau)+\sum_{n\in Q_{\text{CL}}}\exp(q\cdot n/\tau)},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS4.p7.7" class="ltx_p">where the operator <math id="S3.SS4.p7.6.m1.1" class="ltx_Math" alttext="\cdot" display="inline"><semantics id="S3.SS4.p7.6.m1.1a"><mo id="S3.SS4.p7.6.m1.1.1" xref="S3.SS4.p7.6.m1.1.1.cmml">⋅</mo><annotation-xml encoding="MathML-Content" id="S3.SS4.p7.6.m1.1b"><ci id="S3.SS4.p7.6.m1.1.1.cmml" xref="S3.SS4.p7.6.m1.1.1">⋅</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p7.6.m1.1c">\cdot</annotation></semantics></math> is the dot product between two vectors and <math id="S3.SS4.p7.7.m2.1" class="ltx_Math" alttext="\tau" display="inline"><semantics id="S3.SS4.p7.7.m2.1a"><mi id="S3.SS4.p7.7.m2.1.1" xref="S3.SS4.p7.7.m2.1.1.cmml">τ</mi><annotation-xml encoding="MathML-Content" id="S3.SS4.p7.7.m2.1b"><ci id="S3.SS4.p7.7.m2.1.1.cmml" xref="S3.SS4.p7.7.m2.1.1">𝜏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS4.p7.7.m2.1c">\tau</annotation></semantics></math> is the temperature to control the distribution concentration degree <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib46" title="" class="ltx_ref">46</a>]</cite>.
By minimizing the loss, the representations of local data can be effectively learned.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">FedMAE: Federated Masked Autoencoders</span>
</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In Section <a href="#S3" title="III FedCLF: Federated Contrastive Learning with Remote and Local Features ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>, we have proposed FedCLF for federated self-supervised learning with CNNs as the backbone.
However, the performance of the self-supervised Vision Transformer (ViT) in the FL setting has not been explored.
In this section, we present our federated self-supervised learning with masked autoencoders (FedMAE) to enable federated self-supervised learning with ViT.
We first revisit the ViTs. Then we describe the overview of our FedMAE for dermatological disease diagnosis.
After that, we introduce the local training with unlabeled data on each client.
Finally, we propose the global and local knowledge split for better knowledge aggregation.</p>
</div>
<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.5.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.6.2" class="ltx_text ltx_font_italic">Revisiting Vision Transformers (ViT)</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.9" class="ltx_p">ViTs are based on the NLP Transformer architecture BERT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib19" title="" class="ltx_ref">19</a>]</cite> with adaptation layers for image inputs and task outputs.
Transformer uses alternating layers of multiheaded self-attention (MSA) and multi-layer perception (MLP) blocks as the backbone <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite>.
Since the standard Transformer model takes 1D sequence of token embeddings as input, to handle 2D images, an input image <math id="S4.SS1.p1.1.m1.1" class="ltx_Math" alttext="x\in\mathbb{R}^{H\times W\times C}" display="inline"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml">x</mi><mo id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml">∈</mo><msup id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml"><mi id="S4.SS1.p1.1.m1.1.1.3.2" xref="S4.SS1.p1.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S4.SS1.p1.1.m1.1.1.3.3" xref="S4.SS1.p1.1.m1.1.1.3.3.cmml"><mi id="S4.SS1.p1.1.m1.1.1.3.3.2" xref="S4.SS1.p1.1.m1.1.1.3.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.p1.1.m1.1.1.3.3.1" xref="S4.SS1.p1.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S4.SS1.p1.1.m1.1.1.3.3.3" xref="S4.SS1.p1.1.m1.1.1.3.3.3.cmml">W</mi><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.p1.1.m1.1.1.3.3.1a" xref="S4.SS1.p1.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S4.SS1.p1.1.m1.1.1.3.3.4" xref="S4.SS1.p1.1.m1.1.1.3.3.4.cmml">C</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><in id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"></in><ci id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2">𝑥</ci><apply id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.3.1.cmml" xref="S4.SS1.p1.1.m1.1.1.3">superscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.3.2.cmml" xref="S4.SS1.p1.1.m1.1.1.3.2">ℝ</ci><apply id="S4.SS1.p1.1.m1.1.1.3.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3.3"><times id="S4.SS1.p1.1.m1.1.1.3.3.1.cmml" xref="S4.SS1.p1.1.m1.1.1.3.3.1"></times><ci id="S4.SS1.p1.1.m1.1.1.3.3.2.cmml" xref="S4.SS1.p1.1.m1.1.1.3.3.2">𝐻</ci><ci id="S4.SS1.p1.1.m1.1.1.3.3.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3.3.3">𝑊</ci><ci id="S4.SS1.p1.1.m1.1.1.3.3.4.cmml" xref="S4.SS1.p1.1.m1.1.1.3.3.4">𝐶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">x\in\mathbb{R}^{H\times W\times C}</annotation></semantics></math> is reshaped into <math id="S4.SS1.p1.2.m2.1" class="ltx_Math" alttext="N=HW/P^{2}" display="inline"><semantics id="S4.SS1.p1.2.m2.1a"><mrow id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml"><mi id="S4.SS1.p1.2.m2.1.1.2" xref="S4.SS1.p1.2.m2.1.1.2.cmml">N</mi><mo id="S4.SS1.p1.2.m2.1.1.1" xref="S4.SS1.p1.2.m2.1.1.1.cmml">=</mo><mrow id="S4.SS1.p1.2.m2.1.1.3" xref="S4.SS1.p1.2.m2.1.1.3.cmml"><mrow id="S4.SS1.p1.2.m2.1.1.3.2" xref="S4.SS1.p1.2.m2.1.1.3.2.cmml"><mi id="S4.SS1.p1.2.m2.1.1.3.2.2" xref="S4.SS1.p1.2.m2.1.1.3.2.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S4.SS1.p1.2.m2.1.1.3.2.1" xref="S4.SS1.p1.2.m2.1.1.3.2.1.cmml">​</mo><mi id="S4.SS1.p1.2.m2.1.1.3.2.3" xref="S4.SS1.p1.2.m2.1.1.3.2.3.cmml">W</mi></mrow><mo id="S4.SS1.p1.2.m2.1.1.3.1" xref="S4.SS1.p1.2.m2.1.1.3.1.cmml">/</mo><msup id="S4.SS1.p1.2.m2.1.1.3.3" xref="S4.SS1.p1.2.m2.1.1.3.3.cmml"><mi id="S4.SS1.p1.2.m2.1.1.3.3.2" xref="S4.SS1.p1.2.m2.1.1.3.3.2.cmml">P</mi><mn id="S4.SS1.p1.2.m2.1.1.3.3.3" xref="S4.SS1.p1.2.m2.1.1.3.3.3.cmml">2</mn></msup></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><apply id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1"><eq id="S4.SS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1.1"></eq><ci id="S4.SS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.p1.2.m2.1.1.2">𝑁</ci><apply id="S4.SS1.p1.2.m2.1.1.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3"><divide id="S4.SS1.p1.2.m2.1.1.3.1.cmml" xref="S4.SS1.p1.2.m2.1.1.3.1"></divide><apply id="S4.SS1.p1.2.m2.1.1.3.2.cmml" xref="S4.SS1.p1.2.m2.1.1.3.2"><times id="S4.SS1.p1.2.m2.1.1.3.2.1.cmml" xref="S4.SS1.p1.2.m2.1.1.3.2.1"></times><ci id="S4.SS1.p1.2.m2.1.1.3.2.2.cmml" xref="S4.SS1.p1.2.m2.1.1.3.2.2">𝐻</ci><ci id="S4.SS1.p1.2.m2.1.1.3.2.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3.2.3">𝑊</ci></apply><apply id="S4.SS1.p1.2.m2.1.1.3.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3.3"><csymbol cd="ambiguous" id="S4.SS1.p1.2.m2.1.1.3.3.1.cmml" xref="S4.SS1.p1.2.m2.1.1.3.3">superscript</csymbol><ci id="S4.SS1.p1.2.m2.1.1.3.3.2.cmml" xref="S4.SS1.p1.2.m2.1.1.3.3.2">𝑃</ci><cn type="integer" id="S4.SS1.p1.2.m2.1.1.3.3.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3.3.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">N=HW/P^{2}</annotation></semantics></math> patches <math id="S4.SS1.p1.3.m3.1" class="ltx_Math" alttext="x_{p}\in\mathbb{R}^{N\times(P^{2}\cdot C)}" display="inline"><semantics id="S4.SS1.p1.3.m3.1a"><mrow id="S4.SS1.p1.3.m3.1.2" xref="S4.SS1.p1.3.m3.1.2.cmml"><msub id="S4.SS1.p1.3.m3.1.2.2" xref="S4.SS1.p1.3.m3.1.2.2.cmml"><mi id="S4.SS1.p1.3.m3.1.2.2.2" xref="S4.SS1.p1.3.m3.1.2.2.2.cmml">x</mi><mi id="S4.SS1.p1.3.m3.1.2.2.3" xref="S4.SS1.p1.3.m3.1.2.2.3.cmml">p</mi></msub><mo id="S4.SS1.p1.3.m3.1.2.1" xref="S4.SS1.p1.3.m3.1.2.1.cmml">∈</mo><msup id="S4.SS1.p1.3.m3.1.2.3" xref="S4.SS1.p1.3.m3.1.2.3.cmml"><mi id="S4.SS1.p1.3.m3.1.2.3.2" xref="S4.SS1.p1.3.m3.1.2.3.2.cmml">ℝ</mi><mrow id="S4.SS1.p1.3.m3.1.1.1" xref="S4.SS1.p1.3.m3.1.1.1.cmml"><mi id="S4.SS1.p1.3.m3.1.1.1.3" xref="S4.SS1.p1.3.m3.1.1.1.3.cmml">N</mi><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.p1.3.m3.1.1.1.2" xref="S4.SS1.p1.3.m3.1.1.1.2.cmml">×</mo><mrow id="S4.SS1.p1.3.m3.1.1.1.1.1" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS1.p1.3.m3.1.1.1.1.1.2" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS1.p1.3.m3.1.1.1.1.1.1" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.cmml"><msup id="S4.SS1.p1.3.m3.1.1.1.1.1.1.2" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.cmml"><mi id="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.2" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.2.cmml">P</mi><mn id="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.3" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.3.cmml">2</mn></msup><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.p1.3.m3.1.1.1.1.1.1.1" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.1.cmml">⋅</mo><mi id="S4.SS1.p1.3.m3.1.1.1.1.1.1.3" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.3.cmml">C</mi></mrow><mo stretchy="false" id="S4.SS1.p1.3.m3.1.1.1.1.1.3" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.1b"><apply id="S4.SS1.p1.3.m3.1.2.cmml" xref="S4.SS1.p1.3.m3.1.2"><in id="S4.SS1.p1.3.m3.1.2.1.cmml" xref="S4.SS1.p1.3.m3.1.2.1"></in><apply id="S4.SS1.p1.3.m3.1.2.2.cmml" xref="S4.SS1.p1.3.m3.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.1.2.2.1.cmml" xref="S4.SS1.p1.3.m3.1.2.2">subscript</csymbol><ci id="S4.SS1.p1.3.m3.1.2.2.2.cmml" xref="S4.SS1.p1.3.m3.1.2.2.2">𝑥</ci><ci id="S4.SS1.p1.3.m3.1.2.2.3.cmml" xref="S4.SS1.p1.3.m3.1.2.2.3">𝑝</ci></apply><apply id="S4.SS1.p1.3.m3.1.2.3.cmml" xref="S4.SS1.p1.3.m3.1.2.3"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.1.2.3.1.cmml" xref="S4.SS1.p1.3.m3.1.2.3">superscript</csymbol><ci id="S4.SS1.p1.3.m3.1.2.3.2.cmml" xref="S4.SS1.p1.3.m3.1.2.3.2">ℝ</ci><apply id="S4.SS1.p1.3.m3.1.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1"><times id="S4.SS1.p1.3.m3.1.1.1.2.cmml" xref="S4.SS1.p1.3.m3.1.1.1.2"></times><ci id="S4.SS1.p1.3.m3.1.1.1.3.cmml" xref="S4.SS1.p1.3.m3.1.1.1.3">𝑁</ci><apply id="S4.SS1.p1.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.1"><ci id="S4.SS1.p1.3.m3.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.1">⋅</ci><apply id="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.1.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.2">superscript</csymbol><ci id="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.2.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.2">𝑃</ci><cn type="integer" id="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.3.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.2.3">2</cn></apply><ci id="S4.SS1.p1.3.m3.1.1.1.1.1.1.3.cmml" xref="S4.SS1.p1.3.m3.1.1.1.1.1.1.3">𝐶</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.1c">x_{p}\in\mathbb{R}^{N\times(P^{2}\cdot C)}</annotation></semantics></math>, where <math id="S4.SS1.p1.4.m4.2" class="ltx_Math" alttext="(H,W)" display="inline"><semantics id="S4.SS1.p1.4.m4.2a"><mrow id="S4.SS1.p1.4.m4.2.3.2" xref="S4.SS1.p1.4.m4.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p1.4.m4.2.3.2.1" xref="S4.SS1.p1.4.m4.2.3.1.cmml">(</mo><mi id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml">H</mi><mo id="S4.SS1.p1.4.m4.2.3.2.2" xref="S4.SS1.p1.4.m4.2.3.1.cmml">,</mo><mi id="S4.SS1.p1.4.m4.2.2" xref="S4.SS1.p1.4.m4.2.2.cmml">W</mi><mo stretchy="false" id="S4.SS1.p1.4.m4.2.3.2.3" xref="S4.SS1.p1.4.m4.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.2b"><interval closure="open" id="S4.SS1.p1.4.m4.2.3.1.cmml" xref="S4.SS1.p1.4.m4.2.3.2"><ci id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1">𝐻</ci><ci id="S4.SS1.p1.4.m4.2.2.cmml" xref="S4.SS1.p1.4.m4.2.2">𝑊</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.2c">(H,W)</annotation></semantics></math> is the input image resolution, <math id="S4.SS1.p1.5.m5.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S4.SS1.p1.5.m5.1a"><mi id="S4.SS1.p1.5.m5.1.1" xref="S4.SS1.p1.5.m5.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.5.m5.1b"><ci id="S4.SS1.p1.5.m5.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.5.m5.1c">C</annotation></semantics></math> is the number of channels, and <math id="S4.SS1.p1.6.m6.2" class="ltx_Math" alttext="(P,P)" display="inline"><semantics id="S4.SS1.p1.6.m6.2a"><mrow id="S4.SS1.p1.6.m6.2.3.2" xref="S4.SS1.p1.6.m6.2.3.1.cmml"><mo stretchy="false" id="S4.SS1.p1.6.m6.2.3.2.1" xref="S4.SS1.p1.6.m6.2.3.1.cmml">(</mo><mi id="S4.SS1.p1.6.m6.1.1" xref="S4.SS1.p1.6.m6.1.1.cmml">P</mi><mo id="S4.SS1.p1.6.m6.2.3.2.2" xref="S4.SS1.p1.6.m6.2.3.1.cmml">,</mo><mi id="S4.SS1.p1.6.m6.2.2" xref="S4.SS1.p1.6.m6.2.2.cmml">P</mi><mo stretchy="false" id="S4.SS1.p1.6.m6.2.3.2.3" xref="S4.SS1.p1.6.m6.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.6.m6.2b"><interval closure="open" id="S4.SS1.p1.6.m6.2.3.1.cmml" xref="S4.SS1.p1.6.m6.2.3.2"><ci id="S4.SS1.p1.6.m6.1.1.cmml" xref="S4.SS1.p1.6.m6.1.1">𝑃</ci><ci id="S4.SS1.p1.6.m6.2.2.cmml" xref="S4.SS1.p1.6.m6.2.2">𝑃</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.6.m6.2c">(P,P)</annotation></semantics></math> is the patch resolution.
The image patches <math id="S4.SS1.p1.7.m7.1" class="ltx_Math" alttext="\{x_{p}^{i}\}_{i=1}^{N}" display="inline"><semantics id="S4.SS1.p1.7.m7.1a"><msubsup id="S4.SS1.p1.7.m7.1.1" xref="S4.SS1.p1.7.m7.1.1.cmml"><mrow id="S4.SS1.p1.7.m7.1.1.1.1.1" xref="S4.SS1.p1.7.m7.1.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS1.p1.7.m7.1.1.1.1.1.2" xref="S4.SS1.p1.7.m7.1.1.1.1.2.cmml">{</mo><msubsup id="S4.SS1.p1.7.m7.1.1.1.1.1.1" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1.cmml"><mi id="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.2" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.3" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.3.cmml">p</mi><mi id="S4.SS1.p1.7.m7.1.1.1.1.1.1.3" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S4.SS1.p1.7.m7.1.1.1.1.1.3" xref="S4.SS1.p1.7.m7.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.p1.7.m7.1.1.1.3" xref="S4.SS1.p1.7.m7.1.1.1.3.cmml"><mi id="S4.SS1.p1.7.m7.1.1.1.3.2" xref="S4.SS1.p1.7.m7.1.1.1.3.2.cmml">i</mi><mo id="S4.SS1.p1.7.m7.1.1.1.3.1" xref="S4.SS1.p1.7.m7.1.1.1.3.1.cmml">=</mo><mn id="S4.SS1.p1.7.m7.1.1.1.3.3" xref="S4.SS1.p1.7.m7.1.1.1.3.3.cmml">1</mn></mrow><mi id="S4.SS1.p1.7.m7.1.1.3" xref="S4.SS1.p1.7.m7.1.1.3.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.7.m7.1b"><apply id="S4.SS1.p1.7.m7.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.2.cmml" xref="S4.SS1.p1.7.m7.1.1">superscript</csymbol><apply id="S4.SS1.p1.7.m7.1.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.1.2.cmml" xref="S4.SS1.p1.7.m7.1.1">subscript</csymbol><set id="S4.SS1.p1.7.m7.1.1.1.1.2.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1"><apply id="S4.SS1.p1.7.m7.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1">superscript</csymbol><apply id="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.1.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.2.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.3.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S4.SS1.p1.7.m7.1.1.1.1.1.1.3.cmml" xref="S4.SS1.p1.7.m7.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS1.p1.7.m7.1.1.1.3.cmml" xref="S4.SS1.p1.7.m7.1.1.1.3"><eq id="S4.SS1.p1.7.m7.1.1.1.3.1.cmml" xref="S4.SS1.p1.7.m7.1.1.1.3.1"></eq><ci id="S4.SS1.p1.7.m7.1.1.1.3.2.cmml" xref="S4.SS1.p1.7.m7.1.1.1.3.2">𝑖</ci><cn type="integer" id="S4.SS1.p1.7.m7.1.1.1.3.3.cmml" xref="S4.SS1.p1.7.m7.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS1.p1.7.m7.1.1.3.cmml" xref="S4.SS1.p1.7.m7.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.7.m7.1c">\{x_{p}^{i}\}_{i=1}^{N}</annotation></semantics></math> are flattened into vectors and linearly projected as patch embeddings <math id="S4.SS1.p1.8.m8.1" class="ltx_Math" alttext="\{z_{i}\}_{i=1}^{N}" display="inline"><semantics id="S4.SS1.p1.8.m8.1a"><msubsup id="S4.SS1.p1.8.m8.1.1" xref="S4.SS1.p1.8.m8.1.1.cmml"><mrow id="S4.SS1.p1.8.m8.1.1.1.1.1" xref="S4.SS1.p1.8.m8.1.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS1.p1.8.m8.1.1.1.1.1.2" xref="S4.SS1.p1.8.m8.1.1.1.1.2.cmml">{</mo><msub id="S4.SS1.p1.8.m8.1.1.1.1.1.1" xref="S4.SS1.p1.8.m8.1.1.1.1.1.1.cmml"><mi id="S4.SS1.p1.8.m8.1.1.1.1.1.1.2" xref="S4.SS1.p1.8.m8.1.1.1.1.1.1.2.cmml">z</mi><mi id="S4.SS1.p1.8.m8.1.1.1.1.1.1.3" xref="S4.SS1.p1.8.m8.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S4.SS1.p1.8.m8.1.1.1.1.1.3" xref="S4.SS1.p1.8.m8.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.p1.8.m8.1.1.1.3" xref="S4.SS1.p1.8.m8.1.1.1.3.cmml"><mi id="S4.SS1.p1.8.m8.1.1.1.3.2" xref="S4.SS1.p1.8.m8.1.1.1.3.2.cmml">i</mi><mo id="S4.SS1.p1.8.m8.1.1.1.3.1" xref="S4.SS1.p1.8.m8.1.1.1.3.1.cmml">=</mo><mn id="S4.SS1.p1.8.m8.1.1.1.3.3" xref="S4.SS1.p1.8.m8.1.1.1.3.3.cmml">1</mn></mrow><mi id="S4.SS1.p1.8.m8.1.1.3" xref="S4.SS1.p1.8.m8.1.1.3.cmml">N</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.8.m8.1b"><apply id="S4.SS1.p1.8.m8.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.8.m8.1.1.2.cmml" xref="S4.SS1.p1.8.m8.1.1">superscript</csymbol><apply id="S4.SS1.p1.8.m8.1.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.8.m8.1.1.1.2.cmml" xref="S4.SS1.p1.8.m8.1.1">subscript</csymbol><set id="S4.SS1.p1.8.m8.1.1.1.1.2.cmml" xref="S4.SS1.p1.8.m8.1.1.1.1.1"><apply id="S4.SS1.p1.8.m8.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.8.m8.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.8.m8.1.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.8.m8.1.1.1.1.1.1.2">𝑧</ci><ci id="S4.SS1.p1.8.m8.1.1.1.1.1.1.3.cmml" xref="S4.SS1.p1.8.m8.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS1.p1.8.m8.1.1.1.3.cmml" xref="S4.SS1.p1.8.m8.1.1.1.3"><eq id="S4.SS1.p1.8.m8.1.1.1.3.1.cmml" xref="S4.SS1.p1.8.m8.1.1.1.3.1"></eq><ci id="S4.SS1.p1.8.m8.1.1.1.3.2.cmml" xref="S4.SS1.p1.8.m8.1.1.1.3.2">𝑖</ci><cn type="integer" id="S4.SS1.p1.8.m8.1.1.1.3.3.cmml" xref="S4.SS1.p1.8.m8.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS1.p1.8.m8.1.1.3.cmml" xref="S4.SS1.p1.8.m8.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.8.m8.1c">\{z_{i}\}_{i=1}^{N}</annotation></semantics></math>.
Then, a learnable class embedding (<math id="S4.SS1.p1.9.m9.1" class="ltx_Math" alttext="z_{0}=x_{\text{class}}" display="inline"><semantics id="S4.SS1.p1.9.m9.1a"><mrow id="S4.SS1.p1.9.m9.1.1" xref="S4.SS1.p1.9.m9.1.1.cmml"><msub id="S4.SS1.p1.9.m9.1.1.2" xref="S4.SS1.p1.9.m9.1.1.2.cmml"><mi id="S4.SS1.p1.9.m9.1.1.2.2" xref="S4.SS1.p1.9.m9.1.1.2.2.cmml">z</mi><mn id="S4.SS1.p1.9.m9.1.1.2.3" xref="S4.SS1.p1.9.m9.1.1.2.3.cmml">0</mn></msub><mo id="S4.SS1.p1.9.m9.1.1.1" xref="S4.SS1.p1.9.m9.1.1.1.cmml">=</mo><msub id="S4.SS1.p1.9.m9.1.1.3" xref="S4.SS1.p1.9.m9.1.1.3.cmml"><mi id="S4.SS1.p1.9.m9.1.1.3.2" xref="S4.SS1.p1.9.m9.1.1.3.2.cmml">x</mi><mtext id="S4.SS1.p1.9.m9.1.1.3.3" xref="S4.SS1.p1.9.m9.1.1.3.3a.cmml">class</mtext></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.9.m9.1b"><apply id="S4.SS1.p1.9.m9.1.1.cmml" xref="S4.SS1.p1.9.m9.1.1"><eq id="S4.SS1.p1.9.m9.1.1.1.cmml" xref="S4.SS1.p1.9.m9.1.1.1"></eq><apply id="S4.SS1.p1.9.m9.1.1.2.cmml" xref="S4.SS1.p1.9.m9.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.p1.9.m9.1.1.2.1.cmml" xref="S4.SS1.p1.9.m9.1.1.2">subscript</csymbol><ci id="S4.SS1.p1.9.m9.1.1.2.2.cmml" xref="S4.SS1.p1.9.m9.1.1.2.2">𝑧</ci><cn type="integer" id="S4.SS1.p1.9.m9.1.1.2.3.cmml" xref="S4.SS1.p1.9.m9.1.1.2.3">0</cn></apply><apply id="S4.SS1.p1.9.m9.1.1.3.cmml" xref="S4.SS1.p1.9.m9.1.1.3"><csymbol cd="ambiguous" id="S4.SS1.p1.9.m9.1.1.3.1.cmml" xref="S4.SS1.p1.9.m9.1.1.3">subscript</csymbol><ci id="S4.SS1.p1.9.m9.1.1.3.2.cmml" xref="S4.SS1.p1.9.m9.1.1.3.2">𝑥</ci><ci id="S4.SS1.p1.9.m9.1.1.3.3a.cmml" xref="S4.SS1.p1.9.m9.1.1.3.3"><mtext mathsize="70%" id="S4.SS1.p1.9.m9.1.1.3.3.cmml" xref="S4.SS1.p1.9.m9.1.1.3.3">class</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.9.m9.1c">z_{0}=x_{\text{class}}</annotation></semantics></math>) is appended to the patch embeddings, whose state at the Transformer output is the visual representation of the input image.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.5.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.6.2" class="ltx_text ltx_font_italic">Framework Overview</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">The overview of the proposed FedMAE is shown in Fig. <a href="#S3.F4" title="Figure 4 ‣ III FedCLF: Federated Contrastive Learning with Remote and Local Features ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. There is a server and multiple clients. Each client trains its local MAE model <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite> by performing an image reconstruction task to learn visual representations with unlabeled data.
The learning is performed round-by-round.
At the beginning of each round, the MAE model is distributed from the server to clients, after which local training begins on clients.
During local training, given an unlabeled image, a large random subset of image patches is masked out. The remaining visible patches are fed into the encoder. The encoded patches together with mask tokens are then fed into the decoder for pixel-level reconstruction of the original full image.
In the end of each round, the MAE model is aggregated from clients to the server following the model averaging scheme FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>.
After learning, the encoder is used as the initialization for fine-tuning with limited labels.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p">By leveraging the powerful backbone ViT <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> and self-supervised training method MAE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, our seemingly naive, yet surprisingly effective FedMAE can learn better representation and achieve higher accuracy for dermatological disease diagnosis than CL-based methods which usually use CNNs.</p>
</div>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.5.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.6.2" class="ltx_text ltx_font_italic">Local Training</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.2" class="ltx_p">During local training, each client performs learning on unlabeled data by using MAE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>. There is an encoder <math id="S4.SS3.p1.1.m1.1" class="ltx_Math" alttext="f_{\theta}" display="inline"><semantics id="S4.SS3.p1.1.m1.1a"><msub id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml"><mi id="S4.SS3.p1.1.m1.1.1.2" xref="S4.SS3.p1.1.m1.1.1.2.cmml">f</mi><mi id="S4.SS3.p1.1.m1.1.1.3" xref="S4.SS3.p1.1.m1.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><apply id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.1.m1.1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.p1.1.m1.1.1.2.cmml" xref="S4.SS3.p1.1.m1.1.1.2">𝑓</ci><ci id="S4.SS3.p1.1.m1.1.1.3.cmml" xref="S4.SS3.p1.1.m1.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">f_{\theta}</annotation></semantics></math> that generates representations by taking an image as input, and a decoder <math id="S4.SS3.p1.2.m2.1" class="ltx_Math" alttext="g_{\theta}" display="inline"><semantics id="S4.SS3.p1.2.m2.1a"><msub id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml"><mi id="S4.SS3.p1.2.m2.1.1.2" xref="S4.SS3.p1.2.m2.1.1.2.cmml">g</mi><mi id="S4.SS3.p1.2.m2.1.1.3" xref="S4.SS3.p1.2.m2.1.1.3.cmml">θ</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><apply id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.2.m2.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.p1.2.m2.1.1.2.cmml" xref="S4.SS3.p1.2.m2.1.1.2">𝑔</ci><ci id="S4.SS3.p1.2.m2.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.3">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">g_{\theta}</annotation></semantics></math> that reconstructs the original image from the (partial) representations. Both the encoder and the decoder follow the ViT architecture. The encoder will be used for dermatological disease diagnosis and the decoder will be discarded.</p>
</div>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.5" class="ltx_p">As shown in Fig. <a href="#S3.F4" title="Figure 4 ‣ III FedCLF: Federated Contrastive Learning with Remote and Local Features ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, local learning starts by taking an input image <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mi id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><ci id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">x</annotation></semantics></math> as input and dividing it into non-overlapping patches. Then a subset of the patches is sampled uniformly at random as the masked image <math id="S4.SS3.p2.2.m2.1" class="ltx_Math" alttext="x^{\prime}=\{x_{p}^{i}\}_{i\in S}" display="inline"><semantics id="S4.SS3.p2.2.m2.1a"><mrow id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><msup id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml"><mi id="S4.SS3.p2.2.m2.1.1.3.2" xref="S4.SS3.p2.2.m2.1.1.3.2.cmml">x</mi><mo id="S4.SS3.p2.2.m2.1.1.3.3" xref="S4.SS3.p2.2.m2.1.1.3.3.cmml">′</mo></msup><mo id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml">=</mo><msub id="S4.SS3.p2.2.m2.1.1.1" xref="S4.SS3.p2.2.m2.1.1.1.cmml"><mrow id="S4.SS3.p2.2.m2.1.1.1.1.1" xref="S4.SS3.p2.2.m2.1.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS3.p2.2.m2.1.1.1.1.1.2" xref="S4.SS3.p2.2.m2.1.1.1.1.2.cmml">{</mo><msubsup id="S4.SS3.p2.2.m2.1.1.1.1.1.1" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1.cmml"><mi id="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.2" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.3" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.3.cmml">p</mi><mi id="S4.SS3.p2.2.m2.1.1.1.1.1.1.3" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S4.SS3.p2.2.m2.1.1.1.1.1.3" xref="S4.SS3.p2.2.m2.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS3.p2.2.m2.1.1.1.3" xref="S4.SS3.p2.2.m2.1.1.1.3.cmml"><mi id="S4.SS3.p2.2.m2.1.1.1.3.2" xref="S4.SS3.p2.2.m2.1.1.1.3.2.cmml">i</mi><mo id="S4.SS3.p2.2.m2.1.1.1.3.1" xref="S4.SS3.p2.2.m2.1.1.1.3.1.cmml">∈</mo><mi id="S4.SS3.p2.2.m2.1.1.1.3.3" xref="S4.SS3.p2.2.m2.1.1.1.3.3.cmml">S</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><eq id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2"></eq><apply id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.3.1.cmml" xref="S4.SS3.p2.2.m2.1.1.3">superscript</csymbol><ci id="S4.SS3.p2.2.m2.1.1.3.2.cmml" xref="S4.SS3.p2.2.m2.1.1.3.2">𝑥</ci><ci id="S4.SS3.p2.2.m2.1.1.3.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3.3">′</ci></apply><apply id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.1">subscript</csymbol><set id="S4.SS3.p2.2.m2.1.1.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.1.1.1"><apply id="S4.SS3.p2.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.1.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1">superscript</csymbol><apply id="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.1.cmml" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.2.cmml" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.3.cmml" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S4.SS3.p2.2.m2.1.1.1.1.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS3.p2.2.m2.1.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.1.3"><in id="S4.SS3.p2.2.m2.1.1.1.3.1.cmml" xref="S4.SS3.p2.2.m2.1.1.1.3.1"></in><ci id="S4.SS3.p2.2.m2.1.1.1.3.2.cmml" xref="S4.SS3.p2.2.m2.1.1.1.3.2">𝑖</ci><ci id="S4.SS3.p2.2.m2.1.1.1.3.3.cmml" xref="S4.SS3.p2.2.m2.1.1.1.3.3">𝑆</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">x^{\prime}=\{x_{p}^{i}\}_{i\in S}</annotation></semantics></math> and other patches are removed, where <math id="S4.SS3.p2.3.m3.1" class="ltx_Math" alttext="S" display="inline"><semantics id="S4.SS3.p2.3.m3.1a"><mi id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><ci id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">S</annotation></semantics></math> denotes the indices of selected patches.
The selected patches <math id="S4.SS3.p2.4.m4.1" class="ltx_Math" alttext="\{x_{p}^{i}\}_{i\in S}" display="inline"><semantics id="S4.SS3.p2.4.m4.1a"><msub id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml"><mrow id="S4.SS3.p2.4.m4.1.1.1.1" xref="S4.SS3.p2.4.m4.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS3.p2.4.m4.1.1.1.1.2" xref="S4.SS3.p2.4.m4.1.1.1.2.cmml">{</mo><msubsup id="S4.SS3.p2.4.m4.1.1.1.1.1" xref="S4.SS3.p2.4.m4.1.1.1.1.1.cmml"><mi id="S4.SS3.p2.4.m4.1.1.1.1.1.2.2" xref="S4.SS3.p2.4.m4.1.1.1.1.1.2.2.cmml">x</mi><mi id="S4.SS3.p2.4.m4.1.1.1.1.1.2.3" xref="S4.SS3.p2.4.m4.1.1.1.1.1.2.3.cmml">p</mi><mi id="S4.SS3.p2.4.m4.1.1.1.1.1.3" xref="S4.SS3.p2.4.m4.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S4.SS3.p2.4.m4.1.1.1.1.3" xref="S4.SS3.p2.4.m4.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS3.p2.4.m4.1.1.3" xref="S4.SS3.p2.4.m4.1.1.3.cmml"><mi id="S4.SS3.p2.4.m4.1.1.3.2" xref="S4.SS3.p2.4.m4.1.1.3.2.cmml">i</mi><mo id="S4.SS3.p2.4.m4.1.1.3.1" xref="S4.SS3.p2.4.m4.1.1.3.1.cmml">∈</mo><mi id="S4.SS3.p2.4.m4.1.1.3.3" xref="S4.SS3.p2.4.m4.1.1.3.3.cmml">S</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><apply id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m4.1.1.2.cmml" xref="S4.SS3.p2.4.m4.1.1">subscript</csymbol><set id="S4.SS3.p2.4.m4.1.1.1.2.cmml" xref="S4.SS3.p2.4.m4.1.1.1.1"><apply id="S4.SS3.p2.4.m4.1.1.1.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m4.1.1.1.1.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1.1.1.1">superscript</csymbol><apply id="S4.SS3.p2.4.m4.1.1.1.1.1.2.cmml" xref="S4.SS3.p2.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m4.1.1.1.1.1.2.1.cmml" xref="S4.SS3.p2.4.m4.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p2.4.m4.1.1.1.1.1.2.2.cmml" xref="S4.SS3.p2.4.m4.1.1.1.1.1.2.2">𝑥</ci><ci id="S4.SS3.p2.4.m4.1.1.1.1.1.2.3.cmml" xref="S4.SS3.p2.4.m4.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S4.SS3.p2.4.m4.1.1.1.1.1.3.cmml" xref="S4.SS3.p2.4.m4.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS3.p2.4.m4.1.1.3.cmml" xref="S4.SS3.p2.4.m4.1.1.3"><in id="S4.SS3.p2.4.m4.1.1.3.1.cmml" xref="S4.SS3.p2.4.m4.1.1.3.1"></in><ci id="S4.SS3.p2.4.m4.1.1.3.2.cmml" xref="S4.SS3.p2.4.m4.1.1.3.2">𝑖</ci><ci id="S4.SS3.p2.4.m4.1.1.3.3.cmml" xref="S4.SS3.p2.4.m4.1.1.3.3">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">\{x_{p}^{i}\}_{i\in S}</annotation></semantics></math> are fed into the encoder to generate encoded patches (representations) <math id="S4.SS3.p2.5.m5.1" class="ltx_Math" alttext="\{z_{p}^{i}\}_{i\in S}" display="inline"><semantics id="S4.SS3.p2.5.m5.1a"><msub id="S4.SS3.p2.5.m5.1.1" xref="S4.SS3.p2.5.m5.1.1.cmml"><mrow id="S4.SS3.p2.5.m5.1.1.1.1" xref="S4.SS3.p2.5.m5.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS3.p2.5.m5.1.1.1.1.2" xref="S4.SS3.p2.5.m5.1.1.1.2.cmml">{</mo><msubsup id="S4.SS3.p2.5.m5.1.1.1.1.1" xref="S4.SS3.p2.5.m5.1.1.1.1.1.cmml"><mi id="S4.SS3.p2.5.m5.1.1.1.1.1.2.2" xref="S4.SS3.p2.5.m5.1.1.1.1.1.2.2.cmml">z</mi><mi id="S4.SS3.p2.5.m5.1.1.1.1.1.2.3" xref="S4.SS3.p2.5.m5.1.1.1.1.1.2.3.cmml">p</mi><mi id="S4.SS3.p2.5.m5.1.1.1.1.1.3" xref="S4.SS3.p2.5.m5.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S4.SS3.p2.5.m5.1.1.1.1.3" xref="S4.SS3.p2.5.m5.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS3.p2.5.m5.1.1.3" xref="S4.SS3.p2.5.m5.1.1.3.cmml"><mi id="S4.SS3.p2.5.m5.1.1.3.2" xref="S4.SS3.p2.5.m5.1.1.3.2.cmml">i</mi><mo id="S4.SS3.p2.5.m5.1.1.3.1" xref="S4.SS3.p2.5.m5.1.1.3.1.cmml">∈</mo><mi id="S4.SS3.p2.5.m5.1.1.3.3" xref="S4.SS3.p2.5.m5.1.1.3.3.cmml">S</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.5.m5.1b"><apply id="S4.SS3.p2.5.m5.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.5.m5.1.1.2.cmml" xref="S4.SS3.p2.5.m5.1.1">subscript</csymbol><set id="S4.SS3.p2.5.m5.1.1.1.2.cmml" xref="S4.SS3.p2.5.m5.1.1.1.1"><apply id="S4.SS3.p2.5.m5.1.1.1.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.5.m5.1.1.1.1.1.1.cmml" xref="S4.SS3.p2.5.m5.1.1.1.1.1">superscript</csymbol><apply id="S4.SS3.p2.5.m5.1.1.1.1.1.2.cmml" xref="S4.SS3.p2.5.m5.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.5.m5.1.1.1.1.1.2.1.cmml" xref="S4.SS3.p2.5.m5.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p2.5.m5.1.1.1.1.1.2.2.cmml" xref="S4.SS3.p2.5.m5.1.1.1.1.1.2.2">𝑧</ci><ci id="S4.SS3.p2.5.m5.1.1.1.1.1.2.3.cmml" xref="S4.SS3.p2.5.m5.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S4.SS3.p2.5.m5.1.1.1.1.1.3.cmml" xref="S4.SS3.p2.5.m5.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS3.p2.5.m5.1.1.3.cmml" xref="S4.SS3.p2.5.m5.1.1.3"><in id="S4.SS3.p2.5.m5.1.1.3.1.cmml" xref="S4.SS3.p2.5.m5.1.1.3.1"></in><ci id="S4.SS3.p2.5.m5.1.1.3.2.cmml" xref="S4.SS3.p2.5.m5.1.1.3.2">𝑖</ci><ci id="S4.SS3.p2.5.m5.1.1.3.3.cmml" xref="S4.SS3.p2.5.m5.1.1.3.3">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.5.m5.1c">\{z_{p}^{i}\}_{i\in S}</annotation></semantics></math>.</p>
</div>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.3" class="ltx_p">The input to the decoder consists of the tokens for the full-sized image, where the tokens for the selected patches are <math id="S4.SS3.p3.1.m1.1" class="ltx_Math" alttext="\{z_{p}^{i}\}_{i\in S}" display="inline"><semantics id="S4.SS3.p3.1.m1.1a"><msub id="S4.SS3.p3.1.m1.1.1" xref="S4.SS3.p3.1.m1.1.1.cmml"><mrow id="S4.SS3.p3.1.m1.1.1.1.1" xref="S4.SS3.p3.1.m1.1.1.1.2.cmml"><mo stretchy="false" id="S4.SS3.p3.1.m1.1.1.1.1.2" xref="S4.SS3.p3.1.m1.1.1.1.2.cmml">{</mo><msubsup id="S4.SS3.p3.1.m1.1.1.1.1.1" xref="S4.SS3.p3.1.m1.1.1.1.1.1.cmml"><mi id="S4.SS3.p3.1.m1.1.1.1.1.1.2.2" xref="S4.SS3.p3.1.m1.1.1.1.1.1.2.2.cmml">z</mi><mi id="S4.SS3.p3.1.m1.1.1.1.1.1.2.3" xref="S4.SS3.p3.1.m1.1.1.1.1.1.2.3.cmml">p</mi><mi id="S4.SS3.p3.1.m1.1.1.1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.1.1.1.3.cmml">i</mi></msubsup><mo stretchy="false" id="S4.SS3.p3.1.m1.1.1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS3.p3.1.m1.1.1.3" xref="S4.SS3.p3.1.m1.1.1.3.cmml"><mi id="S4.SS3.p3.1.m1.1.1.3.2" xref="S4.SS3.p3.1.m1.1.1.3.2.cmml">i</mi><mo id="S4.SS3.p3.1.m1.1.1.3.1" xref="S4.SS3.p3.1.m1.1.1.3.1.cmml">∈</mo><mi id="S4.SS3.p3.1.m1.1.1.3.3" xref="S4.SS3.p3.1.m1.1.1.3.3.cmml">S</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.1.m1.1b"><apply id="S4.SS3.p3.1.m1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.1.m1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1">subscript</csymbol><set id="S4.SS3.p3.1.m1.1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1"><apply id="S4.SS3.p3.1.m1.1.1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1">superscript</csymbol><apply id="S4.SS3.p3.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.1.m1.1.1.1.1.1.2.1.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.p3.1.m1.1.1.1.1.1.2.2.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1.2.2">𝑧</ci><ci id="S4.SS3.p3.1.m1.1.1.1.1.1.2.3.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1.2.3">𝑝</ci></apply><ci id="S4.SS3.p3.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS3.p3.1.m1.1.1.3.cmml" xref="S4.SS3.p3.1.m1.1.1.3"><in id="S4.SS3.p3.1.m1.1.1.3.1.cmml" xref="S4.SS3.p3.1.m1.1.1.3.1"></in><ci id="S4.SS3.p3.1.m1.1.1.3.2.cmml" xref="S4.SS3.p3.1.m1.1.1.3.2">𝑖</ci><ci id="S4.SS3.p3.1.m1.1.1.3.3.cmml" xref="S4.SS3.p3.1.m1.1.1.3.3">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.1.m1.1c">\{z_{p}^{i}\}_{i\in S}</annotation></semantics></math> generated by the encoder, while the tokens for the removed (masked) patches are the mask token <math id="S4.SS3.p3.2.m2.1" class="ltx_Math" alttext="z_{m}" display="inline"><semantics id="S4.SS3.p3.2.m2.1a"><msub id="S4.SS3.p3.2.m2.1.1" xref="S4.SS3.p3.2.m2.1.1.cmml"><mi id="S4.SS3.p3.2.m2.1.1.2" xref="S4.SS3.p3.2.m2.1.1.2.cmml">z</mi><mi id="S4.SS3.p3.2.m2.1.1.3" xref="S4.SS3.p3.2.m2.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.2.m2.1b"><apply id="S4.SS3.p3.2.m2.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.2.m2.1.1.1.cmml" xref="S4.SS3.p3.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.p3.2.m2.1.1.2.cmml" xref="S4.SS3.p3.2.m2.1.1.2">𝑧</ci><ci id="S4.SS3.p3.2.m2.1.1.3.cmml" xref="S4.SS3.p3.2.m2.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.2.m2.1c">z_{m}</annotation></semantics></math>.
The mask token <math id="S4.SS3.p3.3.m3.1" class="ltx_Math" alttext="z_{m}" display="inline"><semantics id="S4.SS3.p3.3.m3.1a"><msub id="S4.SS3.p3.3.m3.1.1" xref="S4.SS3.p3.3.m3.1.1.cmml"><mi id="S4.SS3.p3.3.m3.1.1.2" xref="S4.SS3.p3.3.m3.1.1.2.cmml">z</mi><mi id="S4.SS3.p3.3.m3.1.1.3" xref="S4.SS3.p3.3.m3.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p3.3.m3.1b"><apply id="S4.SS3.p3.3.m3.1.1.cmml" xref="S4.SS3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.p3.3.m3.1.1.1.cmml" xref="S4.SS3.p3.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.p3.3.m3.1.1.2.cmml" xref="S4.SS3.p3.3.m3.1.1.2">𝑧</ci><ci id="S4.SS3.p3.3.m3.1.1.3.cmml" xref="S4.SS3.p3.3.m3.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p3.3.m3.1c">z_{m}</annotation></semantics></math> is a learnable vector to indicate the missing patches to be reconstructed. The output of the encoder is a set of vectors, each representing the pixel values of a patch.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p">The learning is performed by pixel-level reconstruction of the original image and updating parameters <math id="S4.SS3.p4.1.m1.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S4.SS3.p4.1.m1.1a"><mi id="S4.SS3.p4.1.m1.1.1" xref="S4.SS3.p4.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.1.m1.1b"><ci id="S4.SS3.p4.1.m1.1.1.cmml" xref="S4.SS3.p4.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.1.m1.1c">\theta</annotation></semantics></math> with the reconstruction loss:</p>
<table id="S4.E7" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S4.E7.m1.1" class="ltx_Math" alttext="\mathcal{L}_{\theta}=\left\lVert x-g_{\theta}(f_{\theta}(x^{\prime}))\right\rVert^{2}_{2}," display="block"><semantics id="S4.E7.m1.1a"><mrow id="S4.E7.m1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><mrow id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><msub id="S4.E7.m1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E7.m1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.3.2.cmml">ℒ</mi><mi id="S4.E7.m1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.3.3.cmml">θ</mi></msub><mo rspace="0.1389em" id="S4.E7.m1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.2.cmml">=</mo><msubsup id="S4.E7.m1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.cmml"><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.2.cmml"><mo fence="true" lspace="0.1389em" rspace="0em" stretchy="true" id="S4.E7.m1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.2.1.cmml">∥</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.cmml">x</mi><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.cmml">−</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">g</mi><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">f</mi><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo fence="true" lspace="0em" rspace="0em" stretchy="true" id="S4.E7.m1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.2.1.cmml">∥</mo></mrow><mn id="S4.E7.m1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.3.cmml">2</mn><mn id="S4.E7.m1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.3.cmml">2</mn></msubsup></mrow><mo id="S4.E7.m1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.1b"><apply id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1"><eq id="S4.E7.m1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.2"></eq><apply id="S4.E7.m1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.3.2">ℒ</ci><ci id="S4.E7.m1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.E7.m1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1">subscript</csymbol><apply id="S4.E7.m1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1">superscript</csymbol><apply id="S4.E7.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E7.m1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.2">delimited-∥∥</csymbol><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1"><minus id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2"></minus><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3">𝑥</ci><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1"><times id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.2">𝑔</ci><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1"><times id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"></times><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑓</ci><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">′</ci></apply></apply></apply></apply></apply><cn type="integer" id="S4.E7.m1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3">2</cn></apply><cn type="integer" id="S4.E7.m1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.1c">\mathcal{L}_{\theta}=\left\lVert x-g_{\theta}(f_{\theta}(x^{\prime}))\right\rVert^{2}_{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S4.SS3.p4.3" class="ltx_p">where <math id="S4.SS3.p4.2.m1.1" class="ltx_Math" alttext="g_{\theta}(f_{\theta}(x^{\prime}))" display="inline"><semantics id="S4.SS3.p4.2.m1.1a"><mrow id="S4.SS3.p4.2.m1.1.1" xref="S4.SS3.p4.2.m1.1.1.cmml"><msub id="S4.SS3.p4.2.m1.1.1.3" xref="S4.SS3.p4.2.m1.1.1.3.cmml"><mi id="S4.SS3.p4.2.m1.1.1.3.2" xref="S4.SS3.p4.2.m1.1.1.3.2.cmml">g</mi><mi id="S4.SS3.p4.2.m1.1.1.3.3" xref="S4.SS3.p4.2.m1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.p4.2.m1.1.1.2" xref="S4.SS3.p4.2.m1.1.1.2.cmml">​</mo><mrow id="S4.SS3.p4.2.m1.1.1.1.1" xref="S4.SS3.p4.2.m1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.p4.2.m1.1.1.1.1.2" xref="S4.SS3.p4.2.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS3.p4.2.m1.1.1.1.1.1" xref="S4.SS3.p4.2.m1.1.1.1.1.1.cmml"><msub id="S4.SS3.p4.2.m1.1.1.1.1.1.3" xref="S4.SS3.p4.2.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS3.p4.2.m1.1.1.1.1.1.3.2" xref="S4.SS3.p4.2.m1.1.1.1.1.1.3.2.cmml">f</mi><mi id="S4.SS3.p4.2.m1.1.1.1.1.1.3.3" xref="S4.SS3.p4.2.m1.1.1.1.1.1.3.3.cmml">θ</mi></msub><mo lspace="0em" rspace="0em" id="S4.SS3.p4.2.m1.1.1.1.1.1.2" xref="S4.SS3.p4.2.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.2" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msup id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.2" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mo id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.3" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.3.cmml">′</mo></msup><mo stretchy="false" id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.3" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S4.SS3.p4.2.m1.1.1.1.1.3" xref="S4.SS3.p4.2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.2.m1.1b"><apply id="S4.SS3.p4.2.m1.1.1.cmml" xref="S4.SS3.p4.2.m1.1.1"><times id="S4.SS3.p4.2.m1.1.1.2.cmml" xref="S4.SS3.p4.2.m1.1.1.2"></times><apply id="S4.SS3.p4.2.m1.1.1.3.cmml" xref="S4.SS3.p4.2.m1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.p4.2.m1.1.1.3.1.cmml" xref="S4.SS3.p4.2.m1.1.1.3">subscript</csymbol><ci id="S4.SS3.p4.2.m1.1.1.3.2.cmml" xref="S4.SS3.p4.2.m1.1.1.3.2">𝑔</ci><ci id="S4.SS3.p4.2.m1.1.1.3.3.cmml" xref="S4.SS3.p4.2.m1.1.1.3.3">𝜃</ci></apply><apply id="S4.SS3.p4.2.m1.1.1.1.1.1.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1"><times id="S4.SS3.p4.2.m1.1.1.1.1.1.2.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.2"></times><apply id="S4.SS3.p4.2.m1.1.1.1.1.1.3.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.p4.2.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.SS3.p4.2.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.3.2">𝑓</ci><ci id="S4.SS3.p4.2.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.3.3">𝜃</ci></apply><apply id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1">superscript</csymbol><ci id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><ci id="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS3.p4.2.m1.1.1.1.1.1.1.1.1.3">′</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.2.m1.1c">g_{\theta}(f_{\theta}(x^{\prime}))</annotation></semantics></math> is the reconstructed image by the decoder, and <math id="S4.SS3.p4.3.m2.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.SS3.p4.3.m2.1a"><mi id="S4.SS3.p4.3.m2.1.1" xref="S4.SS3.p4.3.m2.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p4.3.m2.1b"><ci id="S4.SS3.p4.3.m2.1.1.cmml" xref="S4.SS3.p4.3.m2.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p4.3.m2.1c">x</annotation></semantics></math> is the original image.</p>
</div>
<div id="S4.SS3.p5" class="ltx_para">
<p id="S4.SS3.p5.1" class="ltx_p">In each round, the local MAE model is trained for <math id="S4.SS3.p5.1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.SS3.p5.1.m1.1a"><mi id="S4.SS3.p5.1.m1.1.1" xref="S4.SS3.p5.1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p5.1.m1.1b"><ci id="S4.SS3.p5.1.m1.1.1.cmml" xref="S4.SS3.p5.1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p5.1.m1.1c">E</annotation></semantics></math> epochs before uploading the model to the server for aggregation.</p>
</div>
</section>
<section id="S4.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS4.5.1.1" class="ltx_text">IV-D</span> </span><span id="S4.SS4.6.2" class="ltx_text ltx_font_italic">Global and Local Knowledge Split</span>
</h3>

<figure id="S4.F5" class="ltx_figure"><img src="/html/2208.11278/assets/x5.png" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_img_square" width="415" height="353" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.2.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.3.2" class="ltx_text" style="font-size:90%;">Illustration of global and local knowledge of FedMAE during learning on a client. The knowledge of the encoder in MAE is split into global knowledge and local knowledge. Only the components containing global knowledge (denoted in blue color) are synchronized with the server, while the component containing local knowledge (i.e. the learnable class embedding denoted in orange color) is not synchronized.</span></figcaption>
</figure>
<div id="S4.SS4.p1" class="ltx_para">
<p id="S4.SS4.p1.1" class="ltx_p">Following the standard FL model aggregation method FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>, it is straightforward to aggregate all the parameters from the local MAE models for FedMAE.
However, since FedAvg is originally designed for FL with CNNs and does not consider the characteristics of ViT architecture in FedMAE, synchronizing all the parameters may not be the best option.</p>
</div>
<div id="S4.SS4.p2" class="ltx_para">
<p id="S4.SS4.p2.1" class="ltx_p">To address these problems and learn a global model with a high generalization performance, it is beneficial to split the learned knowledge of the MAE model into global knowledge and local knowledge. Only aggregating the parameters containing global knowledge while not synchronizing those parameters with too much local and divergent information will improve the generalization performance of the aggregated model.
Following this intuition and thanks to the highly modular architecture of ViT in MAE,
we empirically observe that the knowledge learned in the encoder of MAE can be naturally split into global and local knowledge. As shown in Fig. <a href="#S4.F5" title="Figure 5 ‣ IV-D Global and Local Knowledge Split ‣ IV FedMAE: Federated Masked Autoencoders ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, the component in orange color (i.e. the learnable class embedding) highly depends on the local data it is trained on and is treated as local knowledge. Other components in blue color, including the linear projection layer and the Transformer backbone, contains global knowledge beneficial to the global model and are treated as global knowledge.</p>
</div>
<div id="S4.SS4.p3" class="ltx_para">
<p id="S4.SS4.p3.1" class="ltx_p">Based on the knowledge split, during FL rounds, the components containing global knowledge (i.e. all components in the MAE except for the learnable class embedding in the encoder) are synchronized following FedAvg. The learnable class embedding is kept local and only aggregated once at the end of the last round of the FedMAE learning process.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Experiments</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this section, we first present the experimental results of FedCLF in Section <a href="#S5.SS1" title="V-A Results of FedCLF ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">V-A</span></span></a>. Then we describe the results of FedMAE in Section <a href="#S5.SS2" title="V-B Results of FedMAE ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">V-B</span></span></a>.
FedCLF and FedMAE have different computation costs and accuracy, where FedMAE features high accuracy with <math id="S5.p1.1.m1.1" class="ltx_math_unparsed" alttext="3.5\times" display="inline"><semantics id="S5.p1.1.m1.1a"><mrow id="S5.p1.1.m1.1b"><mn id="S5.p1.1.m1.1.1">3.5</mn><mo lspace="0.222em" id="S5.p1.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S5.p1.1.m1.1c">3.5\times</annotation></semantics></math> training time of FedCLF.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS1.5.1.1" class="ltx_text">V-A</span> </span><span id="S5.SS1.6.2" class="ltx_text ltx_font_italic">Results of FedCLF</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para ltx_noindent">
<p id="S5.SS1.p1.1" class="ltx_p"><span id="S5.SS1.p1.1.1" class="ltx_text ltx_font_bold">Datasets.</span>
The proposed FedCLF method is evaluated on four datasets of different skin colors, including the ISIC 2019 challenge dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite> mainly for white skins, AtlasDerm <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib48" title="" class="ltx_ref">48</a>]</cite>, and Dermnet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib49" title="" class="ltx_ref">49</a>]</cite> mainly for brown skins, and DarkDerm mainly for dark skins collected by us.
Since these four datasets have a different number of diagnostic categories, to form a unified classification task, we use their intersection of five diseases, including basal cell carcinoma (BCC), dermatofibroma (DF), melanoma (MEL), melanocytic nevus (NV), and squamous cell carcinoma (SCC).
ISIC dataset consists of about 25k dermoscopic images among nine different diagnostic categories, and we use a subset with about 21k images in the above five classes.
AtlasDerm has about 11k images in 560 categories, and we use its subset in the above five classes with 618 images.
Dermnet consists of images in 23 types of dermatology diseases, and we use a subset in the above five classes with 276 images.
DarkDerm is established with 216 images in the above five categories.
In the pre-processing, the images are resized with bi-linear interpolation such that the dimension of the shorter edge is 72 pixels while keeping the original aspect ratio.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para ltx_noindent">
<p id="S5.SS1.p2.1" class="ltx_p"><span id="S5.SS1.p2.1.1" class="ltx_text ltx_font_bold">Federated setting.</span>
We use 10 devices for FL and distribute datasets based on skin colors to simulate different patients.
The ISIC dataset is randomly split into 7 partitions and each partition is distributed to one of the first 7 devices.
The AtlasDerm, Dermnet, and DarkDerm datasets are assigned to one of the following three devices, respectively.
On each device, the assigned dataset is randomly split into a training set, a validation set and a test with 60%, 20% and 20% data, respectively.
We use ResNet-18 <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib50" title="" class="ltx_ref">50</a>]</cite> as the backbone model, and use a 2-layer MLP projection head to project the representations to 128-dimensional features.</p>
</div>
<div id="S5.SS1.p3" class="ltx_para ltx_noindent">
<p id="S5.SS1.p3.1" class="ltx_p"><span id="S5.SS1.p3.1.1" class="ltx_text ltx_font_bold">Evaluation.</span>
We use the proposed FedCLF method to pre-train the model by the distributed devices without using labels.
Then the pre-trained model is used as the initialization for fine-tuning with limited labels.
We consider two practical settings for fine-tuning, <span id="S5.SS1.p3.1.2" class="ltx_text ltx_font_italic">local fine-tuning</span> and <span id="S5.SS1.p3.1.3" class="ltx_text ltx_font_italic">federated fine-tuning</span>.
In local fine-tuning, each device independently fine-tunes its model with its limited labeled data after pre-training.
In federated fine-tuning, devices collaboratively fine-tune the pre-trained model with limited labeled data by supervised federated learning.
During fine-tuning, we evaluate with different fractions of labels, where the percentage of labeled data in the training set is <math id="S5.SS1.p3.1.m1.4" class="ltx_Math" alttext="L\in\{10\%,20\%,40\%,80\%\}" display="inline"><semantics id="S5.SS1.p3.1.m1.4a"><mrow id="S5.SS1.p3.1.m1.4.4" xref="S5.SS1.p3.1.m1.4.4.cmml"><mi id="S5.SS1.p3.1.m1.4.4.6" xref="S5.SS1.p3.1.m1.4.4.6.cmml">L</mi><mo id="S5.SS1.p3.1.m1.4.4.5" xref="S5.SS1.p3.1.m1.4.4.5.cmml">∈</mo><mrow id="S5.SS1.p3.1.m1.4.4.4.4" xref="S5.SS1.p3.1.m1.4.4.4.5.cmml"><mo stretchy="false" id="S5.SS1.p3.1.m1.4.4.4.4.5" xref="S5.SS1.p3.1.m1.4.4.4.5.cmml">{</mo><mrow id="S5.SS1.p3.1.m1.1.1.1.1.1" xref="S5.SS1.p3.1.m1.1.1.1.1.1.cmml"><mn id="S5.SS1.p3.1.m1.1.1.1.1.1.2" xref="S5.SS1.p3.1.m1.1.1.1.1.1.2.cmml">10</mn><mo id="S5.SS1.p3.1.m1.1.1.1.1.1.1" xref="S5.SS1.p3.1.m1.1.1.1.1.1.1.cmml">%</mo></mrow><mo id="S5.SS1.p3.1.m1.4.4.4.4.6" xref="S5.SS1.p3.1.m1.4.4.4.5.cmml">,</mo><mrow id="S5.SS1.p3.1.m1.2.2.2.2.2" xref="S5.SS1.p3.1.m1.2.2.2.2.2.cmml"><mn id="S5.SS1.p3.1.m1.2.2.2.2.2.2" xref="S5.SS1.p3.1.m1.2.2.2.2.2.2.cmml">20</mn><mo id="S5.SS1.p3.1.m1.2.2.2.2.2.1" xref="S5.SS1.p3.1.m1.2.2.2.2.2.1.cmml">%</mo></mrow><mo id="S5.SS1.p3.1.m1.4.4.4.4.7" xref="S5.SS1.p3.1.m1.4.4.4.5.cmml">,</mo><mrow id="S5.SS1.p3.1.m1.3.3.3.3.3" xref="S5.SS1.p3.1.m1.3.3.3.3.3.cmml"><mn id="S5.SS1.p3.1.m1.3.3.3.3.3.2" xref="S5.SS1.p3.1.m1.3.3.3.3.3.2.cmml">40</mn><mo id="S5.SS1.p3.1.m1.3.3.3.3.3.1" xref="S5.SS1.p3.1.m1.3.3.3.3.3.1.cmml">%</mo></mrow><mo id="S5.SS1.p3.1.m1.4.4.4.4.8" xref="S5.SS1.p3.1.m1.4.4.4.5.cmml">,</mo><mrow id="S5.SS1.p3.1.m1.4.4.4.4.4" xref="S5.SS1.p3.1.m1.4.4.4.4.4.cmml"><mn id="S5.SS1.p3.1.m1.4.4.4.4.4.2" xref="S5.SS1.p3.1.m1.4.4.4.4.4.2.cmml">80</mn><mo id="S5.SS1.p3.1.m1.4.4.4.4.4.1" xref="S5.SS1.p3.1.m1.4.4.4.4.4.1.cmml">%</mo></mrow><mo stretchy="false" id="S5.SS1.p3.1.m1.4.4.4.4.9" xref="S5.SS1.p3.1.m1.4.4.4.5.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.1.m1.4b"><apply id="S5.SS1.p3.1.m1.4.4.cmml" xref="S5.SS1.p3.1.m1.4.4"><in id="S5.SS1.p3.1.m1.4.4.5.cmml" xref="S5.SS1.p3.1.m1.4.4.5"></in><ci id="S5.SS1.p3.1.m1.4.4.6.cmml" xref="S5.SS1.p3.1.m1.4.4.6">𝐿</ci><set id="S5.SS1.p3.1.m1.4.4.4.5.cmml" xref="S5.SS1.p3.1.m1.4.4.4.4"><apply id="S5.SS1.p3.1.m1.1.1.1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1.1.1.1"><csymbol cd="latexml" id="S5.SS1.p3.1.m1.1.1.1.1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1.1.1.1.1">percent</csymbol><cn type="integer" id="S5.SS1.p3.1.m1.1.1.1.1.1.2.cmml" xref="S5.SS1.p3.1.m1.1.1.1.1.1.2">10</cn></apply><apply id="S5.SS1.p3.1.m1.2.2.2.2.2.cmml" xref="S5.SS1.p3.1.m1.2.2.2.2.2"><csymbol cd="latexml" id="S5.SS1.p3.1.m1.2.2.2.2.2.1.cmml" xref="S5.SS1.p3.1.m1.2.2.2.2.2.1">percent</csymbol><cn type="integer" id="S5.SS1.p3.1.m1.2.2.2.2.2.2.cmml" xref="S5.SS1.p3.1.m1.2.2.2.2.2.2">20</cn></apply><apply id="S5.SS1.p3.1.m1.3.3.3.3.3.cmml" xref="S5.SS1.p3.1.m1.3.3.3.3.3"><csymbol cd="latexml" id="S5.SS1.p3.1.m1.3.3.3.3.3.1.cmml" xref="S5.SS1.p3.1.m1.3.3.3.3.3.1">percent</csymbol><cn type="integer" id="S5.SS1.p3.1.m1.3.3.3.3.3.2.cmml" xref="S5.SS1.p3.1.m1.3.3.3.3.3.2">40</cn></apply><apply id="S5.SS1.p3.1.m1.4.4.4.4.4.cmml" xref="S5.SS1.p3.1.m1.4.4.4.4.4"><csymbol cd="latexml" id="S5.SS1.p3.1.m1.4.4.4.4.4.1.cmml" xref="S5.SS1.p3.1.m1.4.4.4.4.4.1">percent</csymbol><cn type="integer" id="S5.SS1.p3.1.m1.4.4.4.4.4.2.cmml" xref="S5.SS1.p3.1.m1.4.4.4.4.4.2">80</cn></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.1.m1.4c">L\in\{10\%,20\%,40\%,80\%\}</annotation></semantics></math> on each device.
Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite>, we use two metrics for evaluation, including the mean recall of each class (i.e. balanced multiclass accuracy used as the primary metric for the ISIC 2019 challenge <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite>) and the mean precision of each class.
We report the mean recall and mean precision on the test set of all devices.</p>
</div>
<div id="S5.SS1.p4" class="ltx_para ltx_noindent">
<p id="S5.SS1.p4.1" class="ltx_p"><span id="S5.SS1.p4.1.1" class="ltx_text ltx_font_bold">Training details.</span>
The pre-training of FedCLF is performed for 100 communication rounds, and FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> is employed as the model aggregation algorithm on the server in each round.
The active device ratio per round is 1.0 and the number of local training epochs before each aggregation is 1.
The batch size is 128 and the initial learning rate is 0.03 with a cosine decay schedule.
In the fine-tuning stage, the model is trained for 20 epochs in local fine-tuning or 100 rounds in federated fine-tuning.
In local fine-tuning, the Adam optimizer is used with a batch size of 256, a learning rate of 1e-4 with a decay factor of 0.2 at epochs 12 and 16.
In federated fine-tuning, the batch size is 128 and the learning rate is 1e-4.
The training is performed on one Nvidia 2080Ti GPU.</p>
</div>
<div id="S5.SS1.p5" class="ltx_para ltx_noindent">
<p id="S5.SS1.p5.1" class="ltx_p"><span id="S5.SS1.p5.1.1" class="ltx_text ltx_font_bold">Baselines.</span>
We compare the proposed techniques with four baselines for pre-training.
<span id="S5.SS1.p5.1.2" class="ltx_text ltx_font_italic">Random init</span> uses random model initialization for fine-tuning.
<span id="S5.SS1.p5.1.3" class="ltx_text ltx_font_italic">Local CL</span> pre-trains the model by contrastive learning independently on each device with unlabeled data.
<span id="S5.SS1.p5.1.4" class="ltx_text ltx_font_italic">Rotation</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite> is a self-supervised learning approach for pre-training by predicting the rotation angles of images.
<span id="S5.SS1.p5.1.5" class="ltx_text ltx_font_italic">SimCLR</span> <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite> is a SOTA contrastive learning based approach.
We combine these two methods with the FL framework FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite> as <span id="S5.SS1.p5.1.6" class="ltx_text ltx_font_italic">FedRotation</span> and <span id="S5.SS1.p5.1.7" class="ltx_text ltx_font_italic">FedSimCLR</span>.</p>
</div>
<section id="S5.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S5.SS1.SSS1.5.1.1" class="ltx_text">V-A</span>1 </span>Local Fine-tuning</h4>

<figure id="S5.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T1.9.2.1" class="ltx_text" style="font-size:90%;">TABLE I</span>: </span><span id="S5.T1.2.1" class="ltx_text" style="font-size:90%;">Results of <span id="S5.T1.2.1.1" class="ltx_text ltx_font_bold">local fine-tuning</span> by the proposed FedCLF and baselines. The model is pre-trained by different approaches without using labels and then fine-tuned with limited labeled data independently on each device. <math id="S5.T1.2.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T1.2.1.m1.1b"><mi id="S5.T1.2.1.m1.1.1" xref="S5.T1.2.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T1.2.1.m1.1c"><ci id="S5.T1.2.1.m1.1.1.cmml" xref="S5.T1.2.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.2.1.m1.1d">L</annotation></semantics></math> is the label fraction on each device for fine-tuning.
The recall and precision averaged over all devices are reported, and on each device, the recall and precision are averaged over all classes.
With different label fractions, consistent improvements by the proposed approaches over the baselines are observed.
</span></figcaption>
<div id="S5.T1.6" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:128.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(4.1pt,-1.2pt) scale(1.01934767347509,1.01934767347509) ;">
<table id="S5.T1.6.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T1.6.4.4" class="ltx_tr">
<th id="S5.T1.6.4.4.5" class="ltx_td ltx_th ltx_th_row ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;"></th>
<th id="S5.T1.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="2">
<math id="S5.T1.3.1.1.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T1.3.1.1.1.m1.1a"><mi id="S5.T1.3.1.1.1.m1.1.1" xref="S5.T1.3.1.1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T1.3.1.1.1.m1.1b"><ci id="S5.T1.3.1.1.1.m1.1.1.cmml" xref="S5.T1.3.1.1.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.3.1.1.1.m1.1c">L</annotation></semantics></math>=10%</th>
<th id="S5.T1.4.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="2">
<math id="S5.T1.4.2.2.2.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T1.4.2.2.2.m1.1a"><mi id="S5.T1.4.2.2.2.m1.1.1" xref="S5.T1.4.2.2.2.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T1.4.2.2.2.m1.1b"><ci id="S5.T1.4.2.2.2.m1.1.1.cmml" xref="S5.T1.4.2.2.2.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.4.2.2.2.m1.1c">L</annotation></semantics></math>=20%</th>
<th id="S5.T1.5.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="2">
<math id="S5.T1.5.3.3.3.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T1.5.3.3.3.m1.1a"><mi id="S5.T1.5.3.3.3.m1.1.1" xref="S5.T1.5.3.3.3.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T1.5.3.3.3.m1.1b"><ci id="S5.T1.5.3.3.3.m1.1.1.cmml" xref="S5.T1.5.3.3.3.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.5.3.3.3.m1.1c">L</annotation></semantics></math>=40%</th>
<th id="S5.T1.6.4.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="2">
<math id="S5.T1.6.4.4.4.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T1.6.4.4.4.m1.1a"><mi id="S5.T1.6.4.4.4.m1.1.1" xref="S5.T1.6.4.4.4.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T1.6.4.4.4.m1.1b"><ci id="S5.T1.6.4.4.4.m1.1.1.cmml" xref="S5.T1.6.4.4.4.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T1.6.4.4.4.m1.1c">L</annotation></semantics></math>=80%</th>
</tr>
<tr id="S5.T1.6.4.5.1" class="ltx_tr">
<th id="S5.T1.6.4.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Methods</th>
<th id="S5.T1.6.4.5.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T1.6.4.5.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Prec.</th>
<th id="S5.T1.6.4.5.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T1.6.4.5.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Prec.</th>
<th id="S5.T1.6.4.5.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T1.6.4.5.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Prec.</th>
<th id="S5.T1.6.4.5.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T1.6.4.5.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Prec.</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T1.6.4.6.1" class="ltx_tr">
<th id="S5.T1.6.4.6.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">Random Init.</th>
<td id="S5.T1.6.4.6.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">21.56</td>
<td id="S5.T1.6.4.6.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">17.35</td>
<td id="S5.T1.6.4.6.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">23.13</td>
<td id="S5.T1.6.4.6.1.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">20.79</td>
<td id="S5.T1.6.4.6.1.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">24.88</td>
<td id="S5.T1.6.4.6.1.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">23.69</td>
<td id="S5.T1.6.4.6.1.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">23.92</td>
<td id="S5.T1.6.4.6.1.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">26.06</td>
</tr>
<tr id="S5.T1.6.4.7.2" class="ltx_tr">
<th id="S5.T1.6.4.7.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Local CL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>]</cite>
</th>
<td id="S5.T1.6.4.7.2.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">26.57</td>
<td id="S5.T1.6.4.7.2.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">26.54</td>
<td id="S5.T1.6.4.7.2.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">28.82</td>
<td id="S5.T1.6.4.7.2.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">28.20</td>
<td id="S5.T1.6.4.7.2.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">31.46</td>
<td id="S5.T1.6.4.7.2.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">30.49</td>
<td id="S5.T1.6.4.7.2.8" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">34.27</td>
<td id="S5.T1.6.4.7.2.9" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">30.71</td>
</tr>
<tr id="S5.T1.6.4.8.3" class="ltx_tr">
<th id="S5.T1.6.4.8.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedRotation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite>
</th>
<td id="S5.T1.6.4.8.3.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">23.45</td>
<td id="S5.T1.6.4.8.3.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">25.27</td>
<td id="S5.T1.6.4.8.3.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">25.05</td>
<td id="S5.T1.6.4.8.3.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">25.05</td>
<td id="S5.T1.6.4.8.3.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">29.39</td>
<td id="S5.T1.6.4.8.3.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">28.48</td>
<td id="S5.T1.6.4.8.3.8" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">32.87</td>
<td id="S5.T1.6.4.8.3.9" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">28.15</td>
</tr>
<tr id="S5.T1.6.4.9.4" class="ltx_tr">
<th id="S5.T1.6.4.9.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedSimCLR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</th>
<td id="S5.T1.6.4.9.4.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">30.11</td>
<td id="S5.T1.6.4.9.4.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">31.25</td>
<td id="S5.T1.6.4.9.4.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">32.77</td>
<td id="S5.T1.6.4.9.4.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">31.67</td>
<td id="S5.T1.6.4.9.4.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">35.50</td>
<td id="S5.T1.6.4.9.4.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">33.09</td>
<td id="S5.T1.6.4.9.4.8" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">37.58</td>
<td id="S5.T1.6.4.9.4.9" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">33.85</td>
</tr>
<tr id="S5.T1.6.4.10.5" class="ltx_tr">
<th id="S5.T1.6.4.10.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;">FedCLF (ours)</th>
<td id="S5.T1.6.4.10.5.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T1.6.4.10.5.2.1" class="ltx_text ltx_font_bold">30.41</span></td>
<td id="S5.T1.6.4.10.5.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T1.6.4.10.5.3.1" class="ltx_text ltx_font_bold">33.54</span></td>
<td id="S5.T1.6.4.10.5.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T1.6.4.10.5.4.1" class="ltx_text ltx_font_bold">34.41</span></td>
<td id="S5.T1.6.4.10.5.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T1.6.4.10.5.5.1" class="ltx_text ltx_font_bold">32.96</span></td>
<td id="S5.T1.6.4.10.5.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T1.6.4.10.5.6.1" class="ltx_text ltx_font_bold">37.03</span></td>
<td id="S5.T1.6.4.10.5.7" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T1.6.4.10.5.7.1" class="ltx_text ltx_font_bold">34.95</span></td>
<td id="S5.T1.6.4.10.5.8" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T1.6.4.10.5.8.1" class="ltx_text ltx_font_bold">39.25</span></td>
<td id="S5.T1.6.4.10.5.9" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T1.6.4.10.5.9.1" class="ltx_text ltx_font_bold">35.02</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS1.SSS1.p1" class="ltx_para">
<p id="S5.SS1.SSS1.p1.1" class="ltx_p">We compare the performance of different methods by local fine-tuning with limited labels. The results are shown in Table <a href="#S5.T1" title="TABLE I ‣ V-A1 Local Fine-tuning ‣ V-A Results of FedCLF ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>, and both recall and precision are reported.
The proposed methods effectively improve the recall and precision with different fractions of labeled data.
First, with 10%, 20%, 40% and 80% labeled data on each device for fine-tuning, the proposed approaches outperform the best-performing baseline by 0.30%, 1.64%, 1.53%, 1.67% for recall, and 2.29%, 1.29%, 1.86%, 1.17% for precision, respectively.
Second, the proposed approaches effectively use limited labels for fine-tuning.
With 40% labels, the proposed approaches achieve 37.03% recall and 34.95% precision, which are on par with or even better than the best-performing baseline with <math id="S5.SS1.SSS1.p1.1.m1.1" class="ltx_math_unparsed" alttext="2\times" display="inline"><semantics id="S5.SS1.SSS1.p1.1.m1.1a"><mrow id="S5.SS1.SSS1.p1.1.m1.1b"><mn id="S5.SS1.SSS1.p1.1.m1.1.1">2</mn><mo lspace="0.222em" id="S5.SS1.SSS1.p1.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S5.SS1.SSS1.p1.1.m1.1c">2\times</annotation></semantics></math> labels (37.58% recall and 33.85% precision).</p>
</div>
<figure id="S5.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T2.9.2.1" class="ltx_text" style="font-size:90%;">TABLE II</span>: </span><span id="S5.T2.2.1" class="ltx_text" style="font-size:90%;">
Results of <span id="S5.T2.2.1.1" class="ltx_text ltx_font_bold">federated fine-tuning</span> by the proposed FedCLF and baselines.
The model is pre-trained by different approaches without using labels and then fine-tuned with limited labeled data collaboratively by all devices.
<math id="S5.T2.2.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T2.2.1.m1.1b"><mi id="S5.T2.2.1.m1.1.1" xref="S5.T2.2.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T2.2.1.m1.1c"><ci id="S5.T2.2.1.m1.1.1.cmml" xref="S5.T2.2.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.2.1.m1.1d">L</annotation></semantics></math> is the label fraction for fine-tuning on each device.
The recall and precision averaged over all classes are reported.
With different label fractions, consistent improvements by the proposed approaches over the baselines are observed.
</span></figcaption>
<div id="S5.T2.6" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:128.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(4.1pt,-1.2pt) scale(1.01934767347509,1.01934767347509) ;">
<table id="S5.T2.6.4" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T2.6.4.4" class="ltx_tr">
<th id="S5.T2.6.4.4.5" class="ltx_td ltx_th ltx_th_row ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;"></th>
<th id="S5.T2.3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="2">
<math id="S5.T2.3.1.1.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T2.3.1.1.1.m1.1a"><mi id="S5.T2.3.1.1.1.m1.1.1" xref="S5.T2.3.1.1.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T2.3.1.1.1.m1.1b"><ci id="S5.T2.3.1.1.1.m1.1.1.cmml" xref="S5.T2.3.1.1.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.3.1.1.1.m1.1c">L</annotation></semantics></math>=10%</th>
<th id="S5.T2.4.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="2">
<math id="S5.T2.4.2.2.2.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T2.4.2.2.2.m1.1a"><mi id="S5.T2.4.2.2.2.m1.1.1" xref="S5.T2.4.2.2.2.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T2.4.2.2.2.m1.1b"><ci id="S5.T2.4.2.2.2.m1.1.1.cmml" xref="S5.T2.4.2.2.2.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.4.2.2.2.m1.1c">L</annotation></semantics></math>=20%</th>
<th id="S5.T2.5.3.3.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="2">
<math id="S5.T2.5.3.3.3.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T2.5.3.3.3.m1.1a"><mi id="S5.T2.5.3.3.3.m1.1.1" xref="S5.T2.5.3.3.3.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T2.5.3.3.3.m1.1b"><ci id="S5.T2.5.3.3.3.m1.1.1.cmml" xref="S5.T2.5.3.3.3.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.5.3.3.3.m1.1c">L</annotation></semantics></math>=40%</th>
<th id="S5.T2.6.4.4.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="2">
<math id="S5.T2.6.4.4.4.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.T2.6.4.4.4.m1.1a"><mi id="S5.T2.6.4.4.4.m1.1.1" xref="S5.T2.6.4.4.4.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.T2.6.4.4.4.m1.1b"><ci id="S5.T2.6.4.4.4.m1.1.1.cmml" xref="S5.T2.6.4.4.4.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.T2.6.4.4.4.m1.1c">L</annotation></semantics></math>=80%</th>
</tr>
<tr id="S5.T2.6.4.5.1" class="ltx_tr">
<th id="S5.T2.6.4.5.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Methods</th>
<th id="S5.T2.6.4.5.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T2.6.4.5.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Prec.</th>
<th id="S5.T2.6.4.5.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T2.6.4.5.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Prec.</th>
<th id="S5.T2.6.4.5.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T2.6.4.5.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Prec.</th>
<th id="S5.T2.6.4.5.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T2.6.4.5.1.9" class="ltx_td ltx_align_center ltx_th ltx_th_column" style="padding-left:2.0pt;padding-right:2.0pt;">Prec.</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T2.6.4.6.1" class="ltx_tr">
<th id="S5.T2.6.4.6.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">Random Init.</th>
<td id="S5.T2.6.4.6.1.2" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">43.15</td>
<td id="S5.T2.6.4.6.1.3" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">38.97</td>
<td id="S5.T2.6.4.6.1.4" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">45.63</td>
<td id="S5.T2.6.4.6.1.5" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">40.41</td>
<td id="S5.T2.6.4.6.1.6" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">50.73</td>
<td id="S5.T2.6.4.6.1.7" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">44.66</td>
<td id="S5.T2.6.4.6.1.8" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">55.61</td>
<td id="S5.T2.6.4.6.1.9" class="ltx_td ltx_align_center ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;">46.35</td>
</tr>
<tr id="S5.T2.6.4.7.2" class="ltx_tr">
<th id="S5.T2.6.4.7.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Local CL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>]</cite>
</th>
<td id="S5.T2.6.4.7.2.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">43.41</td>
<td id="S5.T2.6.4.7.2.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">39.59</td>
<td id="S5.T2.6.4.7.2.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.69</td>
<td id="S5.T2.6.4.7.2.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">41.39</td>
<td id="S5.T2.6.4.7.2.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">50.35</td>
<td id="S5.T2.6.4.7.2.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.58</td>
<td id="S5.T2.6.4.7.2.8" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">55.47</td>
<td id="S5.T2.6.4.7.2.9" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">47.70</td>
</tr>
<tr id="S5.T2.6.4.8.3" class="ltx_tr">
<th id="S5.T2.6.4.8.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedRotation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite>
</th>
<td id="S5.T2.6.4.8.3.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">43.18</td>
<td id="S5.T2.6.4.8.3.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">39.57</td>
<td id="S5.T2.6.4.8.3.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">44.36</td>
<td id="S5.T2.6.4.8.3.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">40.27</td>
<td id="S5.T2.6.4.8.3.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">50.69</td>
<td id="S5.T2.6.4.8.3.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">44.10</td>
<td id="S5.T2.6.4.8.3.8" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">54.27</td>
<td id="S5.T2.6.4.8.3.9" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">46.70</td>
</tr>
<tr id="S5.T2.6.4.9.4" class="ltx_tr">
<th id="S5.T2.6.4.9.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedSimCLR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</th>
<td id="S5.T2.6.4.9.4.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.89</td>
<td id="S5.T2.6.4.9.4.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">41.44</td>
<td id="S5.T2.6.4.9.4.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">48.92</td>
<td id="S5.T2.6.4.9.4.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">43.39</td>
<td id="S5.T2.6.4.9.4.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">54.17</td>
<td id="S5.T2.6.4.9.4.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">46.71</td>
<td id="S5.T2.6.4.9.4.8" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">58.64</td>
<td id="S5.T2.6.4.9.4.9" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">48.27</td>
</tr>
<tr id="S5.T2.6.4.10.5" class="ltx_tr">
<th id="S5.T2.6.4.10.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;">FedCLF (ours)</th>
<td id="S5.T2.6.4.10.5.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T2.6.4.10.5.2.1" class="ltx_text ltx_font_bold">48.03</span></td>
<td id="S5.T2.6.4.10.5.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T2.6.4.10.5.3.1" class="ltx_text ltx_font_bold">42.87</span></td>
<td id="S5.T2.6.4.10.5.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T2.6.4.10.5.4.1" class="ltx_text ltx_font_bold">51.50</span></td>
<td id="S5.T2.6.4.10.5.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T2.6.4.10.5.5.1" class="ltx_text ltx_font_bold">45.71</span></td>
<td id="S5.T2.6.4.10.5.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T2.6.4.10.5.6.1" class="ltx_text ltx_font_bold">55.13</span></td>
<td id="S5.T2.6.4.10.5.7" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T2.6.4.10.5.7.1" class="ltx_text ltx_font_bold">48.73</span></td>
<td id="S5.T2.6.4.10.5.8" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T2.6.4.10.5.8.1" class="ltx_text ltx_font_bold">59.23</span></td>
<td id="S5.T2.6.4.10.5.9" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T2.6.4.10.5.9.1" class="ltx_text ltx_font_bold">50.21</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section id="S5.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S5.SS1.SSS2.5.1.1" class="ltx_text">V-A</span>2 </span>Federated Fine-tuning</h4>

<div id="S5.SS1.SSS2.p1" class="ltx_para">
<p id="S5.SS1.SSS2.p1.1" class="ltx_p">We compare different methods by federated fine-tuning on all devices with limited labels. The results are shown in Table <a href="#S5.T2" title="TABLE II ‣ V-A1 Local Fine-tuning ‣ V-A Results of FedCLF ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a>, and both recall and precision are reported.
First, the proposed methods outperform the baselines by a large margin with different fractions of labeled data.
With 10%, 20%, 40% and 80% labeled data on each device for collaborative fine-tuning, the proposed approaches outperform the best-performing baseline by 2.14%, 2.58%, 0.96%, 0.59% for recall, and 1.43%, 2.32%, 2.02%, 1.94% for precision, respectively.
Second, the proposed approaches effectively improve the labeling efficiency.
For instance, with 10% labels, the proposed approaches achieve a similar performance as the best-performing baseline with <math id="S5.SS1.SSS2.p1.1.m1.1" class="ltx_math_unparsed" alttext="2\times" display="inline"><semantics id="S5.SS1.SSS2.p1.1.m1.1a"><mrow id="S5.SS1.SSS2.p1.1.m1.1b"><mn id="S5.SS1.SSS2.p1.1.m1.1.1">2</mn><mo lspace="0.222em" id="S5.SS1.SSS2.p1.1.m1.1.2">×</mo></mrow><annotation encoding="application/x-tex" id="S5.SS1.SSS2.p1.1.m1.1c">2\times</annotation></semantics></math> labels (48.03% vs. 48.92% for recall and 42.87% vs. 43.39% for precision).</p>
</div>
</section>
<section id="S5.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S5.SS1.SSS3.5.1.1" class="ltx_text">V-A</span>3 </span>Ablation Study</h4>

<figure id="S5.F6" class="ltx_figure"><img src="/html/2208.11278/assets/x6.png" id="S5.F6.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="322" height="205" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S5.F6.2.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="S5.F6.3.2" class="ltx_text" style="font-size:90%;">Ablation study of FedCLF. W/o FE is the naive approach without the proposed feature exchange, and FE is the approach with feature exchange enabled. FE+Neg further removes the local negatives. Results by federated fine-tuning with 10% labeled data are reported. Each of the proposed approaches effectively improves recall and precision.</span></figcaption>
</figure>
<div id="S5.SS1.SSS3.p1" class="ltx_para">
<p id="S5.SS1.SSS3.p1.1" class="ltx_p">We perform an ablation study to evaluate the effectiveness of each of the proposed approaches in FedCLF. We evaluate approaches by federated fine-tuning with 10% labels, and the results are shown in Fig. <a href="#S5.F6" title="Figure 6 ‣ V-A3 Ablation Study ‣ V-A Results of FedCLF ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.
For example, without feature exchange, the recall is 44.72%. By enabling feature exchange, the recall is improved to 47.45%. By further removing local negatives, the recall is improved to 48.03%.
This result shows that each of the proposed approaches effectively improves the learned representations and improves the recall and precision of the dermatological disease diagnosis.</p>
</div>
</section>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS2.5.1.1" class="ltx_text">V-B</span> </span><span id="S5.SS2.6.2" class="ltx_text ltx_font_italic">Results of FedMAE</span>
</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">We follow most of the experimental setup in Section <a href="#S5.SS1" title="V-A Results of FedCLF ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">V-A</span></span></a> and describe the additional setup for FedMAE as follows.</p>
</div>
<div id="S5.SS2.p2" class="ltx_para ltx_noindent">
<p id="S5.SS2.p2.1" class="ltx_p"><span id="S5.SS2.p2.1.1" class="ltx_text ltx_font_bold">Datasets and federated setting.</span>
We evaluate the proposed FedMAE on the full ISIC 2019 challenge dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib47" title="" class="ltx_ref">47</a>]</cite> dataset with about 25k dermoscopic images in eight different diagnostic categories.
We randomly split the dataset into three partitions, with 60% for training, 20% for validation, and 20% for test.
In the pre-processing, the images are resized to 224<math id="S5.SS2.p2.1.m1.1" class="ltx_Math" alttext="\times" display="inline"><semantics id="S5.SS2.p2.1.m1.1a"><mo id="S5.SS2.p2.1.m1.1.1" xref="S5.SS2.p2.1.m1.1.1.cmml">×</mo><annotation-xml encoding="MathML-Content" id="S5.SS2.p2.1.m1.1b"><times id="S5.SS2.p2.1.m1.1.1.cmml" xref="S5.SS2.p2.1.m1.1.1"></times></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p2.1.m1.1c">\times</annotation></semantics></math>224.
Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>, we use data augmentations including random resized cropping and random horizontal flipping.
We randomly split the training set into 10 partitions and each of the 10 clients is assigned one partition.
The best global model is selected on the validation set. We report the test performance regarding multiple metrics including recall(sensitivity), precision, F1-score, specificity, AUC, and accuracy. All results are reported with an average of 3 independent runs.</p>
</div>
<div id="S5.SS2.p3" class="ltx_para ltx_noindent">
<p id="S5.SS2.p3.1" class="ltx_p"><span id="S5.SS2.p3.1.1" class="ltx_text ltx_font_bold">Training details.</span>
We follow the training setup described in MAE <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib18" title="" class="ltx_ref">18</a>]</cite>.
We use ViT-Base (ViT-B) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>]</cite> as the backbone model for MAE.
The image masking ratio is 75%. The number of local epochs between each aggregation is 10.
The AdamW optimizer is used with a batch size of 256 and a learning rate of 1.5e-4 with a cosine decay schedule.
In the fine-tuning stage, the model is trained for 200 epochs in local fine-tuning and 50 rounds in federated fine-tuning.
In local fine-tuning, the batch size is 512 and the learning rate is 1e-3 with a cosine decay schedule.
In federated fine-tuning, the batch size is 256 and the learning rate is 5e-4.
For the CNN-based baseline methods, following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib40" title="" class="ltx_ref">40</a>, <a href="#bib.bib20" title="" class="ltx_ref">20</a>]</cite>, ResNet-50 is used as the backbone.
The training is performed on one or two Nvidia V100 GPUs.</p>
</div>
<section id="S5.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S5.SS2.SSS1.5.1.1" class="ltx_text">V-B</span>1 </span>Local Fine-tuning</h4>

<figure id="S5.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T3.3.1.1" class="ltx_text" style="font-size:90%;">TABLE III</span>: </span><span id="S5.T3.4.2" class="ltx_text" style="font-size:90%;">
Results of <span id="S5.T3.4.2.1" class="ltx_text ltx_font_bold">local fine-tuning</span> by FedMAE and baselines. 80% data is labeled on each device for fine-tuning.
</span></figcaption>
<div id="S5.T3.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:206.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(8.5pt,-4.0pt) scale(1.04068595569149,1.04068595569149) ;">
<table id="S5.T3.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T3.5.1.1.1" class="ltx_tr">
<th id="S5.T3.5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Methods</th>
<td id="S5.T3.5.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</td>
<td id="S5.T3.5.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Precision</td>
<td id="S5.T3.5.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">F1</td>
<td id="S5.T3.5.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Specificity</td>
<td id="S5.T3.5.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">AUC</td>
<td id="S5.T3.5.1.1.1.7" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Accuracy</td>
</tr>
<tr id="S5.T3.5.1.2.2" class="ltx_tr">
<th id="S5.T3.5.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="7"><span id="S5.T3.5.1.2.2.1.1" class="ltx_text ltx_font_italic">CNN-based</span></th>
</tr>
<tr id="S5.T3.5.1.3.3" class="ltx_tr">
<th id="S5.T3.5.1.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Random Init.</th>
<td id="S5.T3.5.1.3.3.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">32.65</td>
<td id="S5.T3.5.1.3.3.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">36.23</td>
<td id="S5.T3.5.1.3.3.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">33.93</td>
<td id="S5.T3.5.1.3.3.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">92.45</td>
<td id="S5.T3.5.1.3.3.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">74.64</td>
<td id="S5.T3.5.1.3.3.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">58.92</td>
</tr>
<tr id="S5.T3.5.1.4.4" class="ltx_tr">
<th id="S5.T3.5.1.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Local CL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>]</cite>
</th>
<td id="S5.T3.5.1.4.4.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">32.93</td>
<td id="S5.T3.5.1.4.4.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">40.87</td>
<td id="S5.T3.5.1.4.4.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">34.99</td>
<td id="S5.T3.5.1.4.4.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">92.89</td>
<td id="S5.T3.5.1.4.4.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">75.70</td>
<td id="S5.T3.5.1.4.4.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">62.51</td>
</tr>
<tr id="S5.T3.5.1.5.5" class="ltx_tr">
<th id="S5.T3.5.1.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedRotation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite>
</th>
<td id="S5.T3.5.1.5.5.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">33.38</td>
<td id="S5.T3.5.1.5.5.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">33.49</td>
<td id="S5.T3.5.1.5.5.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">32.49</td>
<td id="S5.T3.5.1.5.5.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">92.45</td>
<td id="S5.T3.5.1.5.5.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">74.26</td>
<td id="S5.T3.5.1.5.5.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">59.47</td>
</tr>
<tr id="S5.T3.5.1.6.6" class="ltx_tr">
<th id="S5.T3.5.1.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedSimCLR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</th>
<td id="S5.T3.5.1.6.6.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">35.12</td>
<td id="S5.T3.5.1.6.6.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">40.85</td>
<td id="S5.T3.5.1.6.6.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">37.09</td>
<td id="S5.T3.5.1.6.6.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">93.01</td>
<td id="S5.T3.5.1.6.6.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">77.07</td>
<td id="S5.T3.5.1.6.6.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">62.00</td>
</tr>
<tr id="S5.T3.5.1.7.7" class="ltx_tr">
<th id="S5.T3.5.1.7.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedMoCo <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>
</th>
<td id="S5.T3.5.1.7.7.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">34.36</td>
<td id="S5.T3.5.1.7.7.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">40.43</td>
<td id="S5.T3.5.1.7.7.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">36.31</td>
<td id="S5.T3.5.1.7.7.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">93.02</td>
<td id="S5.T3.5.1.7.7.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">76.93</td>
<td id="S5.T3.5.1.7.7.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">62.30</td>
</tr>
<tr id="S5.T3.5.1.8.8" class="ltx_tr">
<th id="S5.T3.5.1.8.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedCLF (ours)</th>
<td id="S5.T3.5.1.8.8.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">37.52</td>
<td id="S5.T3.5.1.8.8.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">44.23</td>
<td id="S5.T3.5.1.8.8.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">39.80</td>
<td id="S5.T3.5.1.8.8.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">93.22</td>
<td id="S5.T3.5.1.8.8.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">77.35</td>
<td id="S5.T3.5.1.8.8.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">63.38</td>
</tr>
<tr id="S5.T3.5.1.9.9" class="ltx_tr">
<th id="S5.T3.5.1.9.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="7"><span id="S5.T3.5.1.9.9.1.1" class="ltx_text ltx_font_italic">ViT-based</span></th>
</tr>
<tr id="S5.T3.5.1.10.10" class="ltx_tr">
<th id="S5.T3.5.1.10.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Random Init.</th>
<td id="S5.T3.5.1.10.10.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">35.69</td>
<td id="S5.T3.5.1.10.10.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">38.15</td>
<td id="S5.T3.5.1.10.10.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">36.56</td>
<td id="S5.T3.5.1.10.10.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">92.69</td>
<td id="S5.T3.5.1.10.10.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">77.42</td>
<td id="S5.T3.5.1.10.10.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">59.70</td>
</tr>
<tr id="S5.T3.5.1.11.11" class="ltx_tr">
<th id="S5.T3.5.1.11.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;">FedMAE (ours)</th>
<td id="S5.T3.5.1.11.11.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T3.5.1.11.11.2.1" class="ltx_text ltx_font_bold">41.31</span></td>
<td id="S5.T3.5.1.11.11.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T3.5.1.11.11.3.1" class="ltx_text ltx_font_bold">45.41</span></td>
<td id="S5.T3.5.1.11.11.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T3.5.1.11.11.4.1" class="ltx_text ltx_font_bold">42.76</span></td>
<td id="S5.T3.5.1.11.11.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T3.5.1.11.11.5.1" class="ltx_text ltx_font_bold">93.63</span></td>
<td id="S5.T3.5.1.11.11.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T3.5.1.11.11.6.1" class="ltx_text ltx_font_bold">80.71</span></td>
<td id="S5.T3.5.1.11.11.7" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T3.5.1.11.11.7.1" class="ltx_text ltx_font_bold">64.80</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS2.SSS1.p1" class="ltx_para">
<p id="S5.SS2.SSS1.p1.2" class="ltx_p">We evaluate the proposed methods by fine-tuning independently on each client, with 80% local data labeled for fine-tuning. The model is fine-tuned on top of the encoder learned with unlabeled data by different approaches.
The results are shown in Table <a href="#S5.T3" title="TABLE III ‣ V-B1 Local Fine-tuning ‣ V-B Results of FedMAE ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>.
<span id="S5.SS2.SSS1.p1.2.1" class="ltx_text ltx_font_italic">First</span>, our FedMAE significantly outperforms all the CNN-based methods.
For example, our FedMAE outperforms the best-performing CNN-based baseline FedSimCLR by <math id="S5.SS2.SSS1.p1.1.m1.1" class="ltx_Math" alttext="+5.67\%" display="inline"><semantics id="S5.SS2.SSS1.p1.1.m1.1a"><mrow id="S5.SS2.SSS1.p1.1.m1.1.1" xref="S5.SS2.SSS1.p1.1.m1.1.1.cmml"><mo id="S5.SS2.SSS1.p1.1.m1.1.1a" xref="S5.SS2.SSS1.p1.1.m1.1.1.cmml">+</mo><mrow id="S5.SS2.SSS1.p1.1.m1.1.1.2" xref="S5.SS2.SSS1.p1.1.m1.1.1.2.cmml"><mn id="S5.SS2.SSS1.p1.1.m1.1.1.2.2" xref="S5.SS2.SSS1.p1.1.m1.1.1.2.2.cmml">5.67</mn><mo id="S5.SS2.SSS1.p1.1.m1.1.1.2.1" xref="S5.SS2.SSS1.p1.1.m1.1.1.2.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS1.p1.1.m1.1b"><apply id="S5.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S5.SS2.SSS1.p1.1.m1.1.1"><plus id="S5.SS2.SSS1.p1.1.m1.1.1.1.cmml" xref="S5.SS2.SSS1.p1.1.m1.1.1"></plus><apply id="S5.SS2.SSS1.p1.1.m1.1.1.2.cmml" xref="S5.SS2.SSS1.p1.1.m1.1.1.2"><csymbol cd="latexml" id="S5.SS2.SSS1.p1.1.m1.1.1.2.1.cmml" xref="S5.SS2.SSS1.p1.1.m1.1.1.2.1">percent</csymbol><cn type="float" id="S5.SS2.SSS1.p1.1.m1.1.1.2.2.cmml" xref="S5.SS2.SSS1.p1.1.m1.1.1.2.2">5.67</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS1.p1.1.m1.1c">+5.67\%</annotation></semantics></math> F1-score and <math id="S5.SS2.SSS1.p1.2.m2.1" class="ltx_Math" alttext="+3.64\%" display="inline"><semantics id="S5.SS2.SSS1.p1.2.m2.1a"><mrow id="S5.SS2.SSS1.p1.2.m2.1.1" xref="S5.SS2.SSS1.p1.2.m2.1.1.cmml"><mo id="S5.SS2.SSS1.p1.2.m2.1.1a" xref="S5.SS2.SSS1.p1.2.m2.1.1.cmml">+</mo><mrow id="S5.SS2.SSS1.p1.2.m2.1.1.2" xref="S5.SS2.SSS1.p1.2.m2.1.1.2.cmml"><mn id="S5.SS2.SSS1.p1.2.m2.1.1.2.2" xref="S5.SS2.SSS1.p1.2.m2.1.1.2.2.cmml">3.64</mn><mo id="S5.SS2.SSS1.p1.2.m2.1.1.2.1" xref="S5.SS2.SSS1.p1.2.m2.1.1.2.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS1.p1.2.m2.1b"><apply id="S5.SS2.SSS1.p1.2.m2.1.1.cmml" xref="S5.SS2.SSS1.p1.2.m2.1.1"><plus id="S5.SS2.SSS1.p1.2.m2.1.1.1.cmml" xref="S5.SS2.SSS1.p1.2.m2.1.1"></plus><apply id="S5.SS2.SSS1.p1.2.m2.1.1.2.cmml" xref="S5.SS2.SSS1.p1.2.m2.1.1.2"><csymbol cd="latexml" id="S5.SS2.SSS1.p1.2.m2.1.1.2.1.cmml" xref="S5.SS2.SSS1.p1.2.m2.1.1.2.1">percent</csymbol><cn type="float" id="S5.SS2.SSS1.p1.2.m2.1.1.2.2.cmml" xref="S5.SS2.SSS1.p1.2.m2.1.1.2.2">3.64</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS1.p1.2.m2.1c">+3.64\%</annotation></semantics></math> AUC, respectively.
<span id="S5.SS2.SSS1.p1.2.2" class="ltx_text ltx_font_italic">Second</span>, our FedMAE outperforms randomly initialized ViT, which verifies the effectiveness of self-supervised representation learning by FedMAE from unlabeled data.
<span id="S5.SS2.SSS1.p1.2.3" class="ltx_text ltx_font_italic">Third</span>, our ViT-based FedMAE achieves better performance than our CNN-based FedCLF, showing the promise of using ViT backbones for federated self-supervised learning instead of CNN backbones.</p>
</div>
</section>
<section id="S5.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S5.SS2.SSS2.5.1.1" class="ltx_text">V-B</span>2 </span>Federated Fine-tuning</h4>

<figure id="S5.T4" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T4.3.1.1" class="ltx_text" style="font-size:90%;">TABLE IV</span>: </span><span id="S5.T4.4.2" class="ltx_text" style="font-size:90%;">
Results of <span id="S5.T4.4.2.1" class="ltx_text ltx_font_bold">federated fine-tuning</span> by FedMAE and baselines. 80% data is labeled on each device for fine-tuning.
</span></figcaption>
<div id="S5.T4.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:206.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(8.5pt,-4.0pt) scale(1.04068595569149,1.04068595569149) ;">
<table id="S5.T4.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S5.T4.5.1.1.1" class="ltx_tr">
<th id="S5.T4.5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Methods</th>
<td id="S5.T4.5.1.1.1.2" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</td>
<td id="S5.T4.5.1.1.1.3" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Precision</td>
<td id="S5.T4.5.1.1.1.4" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">F1</td>
<td id="S5.T4.5.1.1.1.5" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Specificity</td>
<td id="S5.T4.5.1.1.1.6" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">AUC</td>
<td id="S5.T4.5.1.1.1.7" class="ltx_td ltx_align_center ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Accuracy</td>
</tr>
<tr id="S5.T4.5.1.2.2" class="ltx_tr">
<th id="S5.T4.5.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="7"><span id="S5.T4.5.1.2.2.1.1" class="ltx_text ltx_font_italic">CNN-based</span></th>
</tr>
<tr id="S5.T4.5.1.3.3" class="ltx_tr">
<th id="S5.T4.5.1.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Random Init.</th>
<td id="S5.T4.5.1.3.3.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">33.69</td>
<td id="S5.T4.5.1.3.3.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">57.34</td>
<td id="S5.T4.5.1.3.3.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">35.17</td>
<td id="S5.T4.5.1.3.3.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">92.63</td>
<td id="S5.T4.5.1.3.3.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">82.19</td>
<td id="S5.T4.5.1.3.3.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">64.87</td>
</tr>
<tr id="S5.T4.5.1.4.4" class="ltx_tr">
<th id="S5.T4.5.1.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Local CL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib52" title="" class="ltx_ref">52</a>]</cite>
</th>
<td id="S5.T4.5.1.4.4.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">40.98</td>
<td id="S5.T4.5.1.4.4.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">59.24</td>
<td id="S5.T4.5.1.4.4.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.26</td>
<td id="S5.T4.5.1.4.4.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">93.93</td>
<td id="S5.T4.5.1.4.4.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">86.33</td>
<td id="S5.T4.5.1.4.4.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">69.32</td>
</tr>
<tr id="S5.T4.5.1.5.5" class="ltx_tr">
<th id="S5.T4.5.1.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedRotation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib51" title="" class="ltx_ref">51</a>]</cite>
</th>
<td id="S5.T4.5.1.5.5.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">34.35</td>
<td id="S5.T4.5.1.5.5.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">46.00</td>
<td id="S5.T4.5.1.5.5.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">35.46</td>
<td id="S5.T4.5.1.5.5.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">93.42</td>
<td id="S5.T4.5.1.5.5.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">83.13</td>
<td id="S5.T4.5.1.5.5.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">65.92</td>
</tr>
<tr id="S5.T4.5.1.6.6" class="ltx_tr">
<th id="S5.T4.5.1.6.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedSimCLR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>]</cite>
</th>
<td id="S5.T4.5.1.6.6.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.70</td>
<td id="S5.T4.5.1.6.6.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">59.10</td>
<td id="S5.T4.5.1.6.6.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">47.90</td>
<td id="S5.T4.5.1.6.6.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">94.21</td>
<td id="S5.T4.5.1.6.6.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">87.85</td>
<td id="S5.T4.5.1.6.6.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">70.30</td>
</tr>
<tr id="S5.T4.5.1.7.7" class="ltx_tr">
<th id="S5.T4.5.1.7.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedMoCo <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>
</th>
<td id="S5.T4.5.1.7.7.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">43.34</td>
<td id="S5.T4.5.1.7.7.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">58.94</td>
<td id="S5.T4.5.1.7.7.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">47.07</td>
<td id="S5.T4.5.1.7.7.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">94.13</td>
<td id="S5.T4.5.1.7.7.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">87.25</td>
<td id="S5.T4.5.1.7.7.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">70.30</td>
</tr>
<tr id="S5.T4.5.1.8.8" class="ltx_tr">
<th id="S5.T4.5.1.8.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">FedCLF (ours)</th>
<td id="S5.T4.5.1.8.8.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">46.64</td>
<td id="S5.T4.5.1.8.8.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">60.67</td>
<td id="S5.T4.5.1.8.8.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">49.17</td>
<td id="S5.T4.5.1.8.8.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">94.20</td>
<td id="S5.T4.5.1.8.8.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">88.27</td>
<td id="S5.T4.5.1.8.8.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">70.72</td>
</tr>
<tr id="S5.T4.5.1.9.9" class="ltx_tr">
<th id="S5.T4.5.1.9.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="7"><span id="S5.T4.5.1.9.9.1.1" class="ltx_text ltx_font_italic">ViT-based</span></th>
</tr>
<tr id="S5.T4.5.1.10.10" class="ltx_tr">
<th id="S5.T4.5.1.10.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Random Init.</th>
<td id="S5.T4.5.1.10.10.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">51.55</td>
<td id="S5.T4.5.1.10.10.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">57.79</td>
<td id="S5.T4.5.1.10.10.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">54.18</td>
<td id="S5.T4.5.1.10.10.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">94.56</td>
<td id="S5.T4.5.1.10.10.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">86.82</td>
<td id="S5.T4.5.1.10.10.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">70.30</td>
</tr>
<tr id="S5.T4.5.1.11.11" class="ltx_tr">
<th id="S5.T4.5.1.11.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;">FedMAE (ours)</th>
<td id="S5.T4.5.1.11.11.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T4.5.1.11.11.2.1" class="ltx_text ltx_font_bold">58.08</span></td>
<td id="S5.T4.5.1.11.11.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T4.5.1.11.11.3.1" class="ltx_text ltx_font_bold">65.76</span></td>
<td id="S5.T4.5.1.11.11.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T4.5.1.11.11.4.1" class="ltx_text ltx_font_bold">61.09</span></td>
<td id="S5.T4.5.1.11.11.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T4.5.1.11.11.5.1" class="ltx_text ltx_font_bold">95.32</span></td>
<td id="S5.T4.5.1.11.11.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T4.5.1.11.11.6.1" class="ltx_text ltx_font_bold">90.26</span></td>
<td id="S5.T4.5.1.11.11.7" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T4.5.1.11.11.7.1" class="ltx_text ltx_font_bold">74.77</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS2.SSS2.p1" class="ltx_para">
<p id="S5.SS2.SSS2.p1.1" class="ltx_p">We further evaluate the proposed methods by collaborative federated fine-tuning the learned encoder with limited labels. The results are shown in Table <a href="#S5.T4" title="TABLE IV ‣ V-B2 Federated Fine-tuning ‣ V-B Results of FedMAE ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a>.
<span id="S5.SS2.SSS2.p1.1.1" class="ltx_text ltx_font_italic">First</span>, our FedMAE outperforms all the baselines and the gap is much larger than local fine-tuning. For example, our FedMAE achieves <math id="S5.SS2.SSS2.p1.1.m1.1" class="ltx_Math" alttext="+13.19\%" display="inline"><semantics id="S5.SS2.SSS2.p1.1.m1.1a"><mrow id="S5.SS2.SSS2.p1.1.m1.1.1" xref="S5.SS2.SSS2.p1.1.m1.1.1.cmml"><mo id="S5.SS2.SSS2.p1.1.m1.1.1a" xref="S5.SS2.SSS2.p1.1.m1.1.1.cmml">+</mo><mrow id="S5.SS2.SSS2.p1.1.m1.1.1.2" xref="S5.SS2.SSS2.p1.1.m1.1.1.2.cmml"><mn id="S5.SS2.SSS2.p1.1.m1.1.1.2.2" xref="S5.SS2.SSS2.p1.1.m1.1.1.2.2.cmml">13.19</mn><mo id="S5.SS2.SSS2.p1.1.m1.1.1.2.1" xref="S5.SS2.SSS2.p1.1.m1.1.1.2.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS2.SSS2.p1.1.m1.1b"><apply id="S5.SS2.SSS2.p1.1.m1.1.1.cmml" xref="S5.SS2.SSS2.p1.1.m1.1.1"><plus id="S5.SS2.SSS2.p1.1.m1.1.1.1.cmml" xref="S5.SS2.SSS2.p1.1.m1.1.1"></plus><apply id="S5.SS2.SSS2.p1.1.m1.1.1.2.cmml" xref="S5.SS2.SSS2.p1.1.m1.1.1.2"><csymbol cd="latexml" id="S5.SS2.SSS2.p1.1.m1.1.1.2.1.cmml" xref="S5.SS2.SSS2.p1.1.m1.1.1.2.1">percent</csymbol><cn type="float" id="S5.SS2.SSS2.p1.1.m1.1.1.2.2.cmml" xref="S5.SS2.SSS2.p1.1.m1.1.1.2.2">13.19</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.SSS2.p1.1.m1.1c">+13.19\%</annotation></semantics></math> higher F1-score than the best-performing baseline FedSimCLR.
<span id="S5.SS2.SSS2.p1.1.2" class="ltx_text ltx_font_italic">Second</span>, all the evaluated methods achieve a better performance than local fine-tuning, indicating the advantages of federated fine-tuning. This is because federated fine-tuning can use the available labeling information from all clients while local fine-tuning only uses the available labeling information of one client.</p>
</div>
</section>
<section id="S5.SS2.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S5.SS2.SSS3.5.1.1" class="ltx_text">V-B</span>3 </span>Ablation Study</h4>

<figure id="S5.T5" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S5.T5.3.1.1" class="ltx_text" style="font-size:90%;">TABLE V</span>: </span><span id="S5.T5.4.2" class="ltx_text" style="font-size:90%;">
Ablation study of <span id="S5.T5.4.2.1" class="ltx_text ltx_font_bold">global and local knowledge split</span>. Results of federated fine-tuning are reported.
</span></figcaption>
<div id="S5.T5.5" class="ltx_inline-block ltx_align_center ltx_transformed_outer" style="width:433.6pt;height:298.1pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(46.6pt,-32.0pt) scale(1.27389358486188,1.27389358486188) ;">
<table id="S5.T5.5.1" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S5.T5.5.1.1.1" class="ltx_tr">
<th id="S5.T5.5.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Sync. Parameters</th>
<th id="S5.T5.5.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Recall</th>
<th id="S5.T5.5.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Precision</th>
<th id="S5.T5.5.1.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">F1</th>
<th id="S5.T5.5.1.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Specificity</th>
<th id="S5.T5.5.1.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">AUC</th>
<th id="S5.T5.5.1.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" style="padding-left:2.0pt;padding-right:2.0pt;">Accuracy</th>
</tr>
<tr id="S5.T5.5.1.2.2" class="ltx_tr">
<th id="S5.T5.5.1.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="7"><span id="S5.T5.5.1.2.2.1.1" class="ltx_text ltx_font_italic">80% labels</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S5.T5.5.1.3.1" class="ltx_tr">
<th id="S5.T5.5.1.3.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Encoder+Decoder</th>
<td id="S5.T5.5.1.3.1.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">57.62</td>
<td id="S5.T5.5.1.3.1.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">64.30</td>
<td id="S5.T5.5.1.3.1.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">60.33</td>
<td id="S5.T5.5.1.3.1.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">95.33</td>
<td id="S5.T5.5.1.3.1.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">89.70</td>
<td id="S5.T5.5.1.3.1.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">74.63</td>
</tr>
<tr id="S5.T5.5.1.4.2" class="ltx_tr">
<th id="S5.T5.5.1.4.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">W/o Decoder</th>
<td id="S5.T5.5.1.4.2.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">57.37</td>
<td id="S5.T5.5.1.4.2.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">62.44</td>
<td id="S5.T5.5.1.4.2.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">59.42</td>
<td id="S5.T5.5.1.4.2.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">95.28</td>
<td id="S5.T5.5.1.4.2.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">89.82</td>
<td id="S5.T5.5.1.4.2.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">74.25</td>
</tr>
<tr id="S5.T5.5.1.5.3" class="ltx_tr">
<th id="S5.T5.5.1.5.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">W/o Linear Projection</th>
<td id="S5.T5.5.1.5.3.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">57.70</td>
<td id="S5.T5.5.1.5.3.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">63.79</td>
<td id="S5.T5.5.1.5.3.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">60.13</td>
<td id="S5.T5.5.1.5.3.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">95.27</td>
<td id="S5.T5.5.1.5.3.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">89.85</td>
<td id="S5.T5.5.1.5.3.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">74.14</td>
</tr>
<tr id="S5.T5.5.1.6.4" class="ltx_tr">
<th id="S5.T5.5.1.6.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">W/o Decoder Projection</th>
<td id="S5.T5.5.1.6.4.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">57.71</td>
<td id="S5.T5.5.1.6.4.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">63.63</td>
<td id="S5.T5.5.1.6.4.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">60.02</td>
<td id="S5.T5.5.1.6.4.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">95.30</td>
<td id="S5.T5.5.1.6.4.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">90.06</td>
<td id="S5.T5.5.1.6.4.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">74.24</td>
</tr>
<tr id="S5.T5.5.1.7.5" class="ltx_tr">
<th id="S5.T5.5.1.7.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">W/o Class Token (ours)</th>
<td id="S5.T5.5.1.7.5.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.7.5.2.1" class="ltx_text ltx_font_bold">58.08</span></td>
<td id="S5.T5.5.1.7.5.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.7.5.3.1" class="ltx_text ltx_font_bold">65.76</span></td>
<td id="S5.T5.5.1.7.5.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.7.5.4.1" class="ltx_text ltx_font_bold">61.09</span></td>
<td id="S5.T5.5.1.7.5.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">95.32</td>
<td id="S5.T5.5.1.7.5.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.7.5.6.1" class="ltx_text ltx_font_bold">90.26</span></td>
<td id="S5.T5.5.1.7.5.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.7.5.7.1" class="ltx_text ltx_font_bold">74.77</span></td>
</tr>
<tr id="S5.T5.5.1.8.6" class="ltx_tr">
<th id="S5.T5.5.1.8.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_t" style="padding-left:2.0pt;padding-right:2.0pt;" colspan="7"><span id="S5.T5.5.1.8.6.1.1" class="ltx_text ltx_font_italic">40% labels</span></th>
</tr>
<tr id="S5.T5.5.1.9.7" class="ltx_tr">
<th id="S5.T5.5.1.9.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">Encoder+Decoder</th>
<td id="S5.T5.5.1.9.7.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.97</td>
<td id="S5.T5.5.1.9.7.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">51.99</td>
<td id="S5.T5.5.1.9.7.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">48.40</td>
<td id="S5.T5.5.1.9.7.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">94.15</td>
<td id="S5.T5.5.1.9.7.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">83.35</td>
<td id="S5.T5.5.1.9.7.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">68.00</td>
</tr>
<tr id="S5.T5.5.1.10.8" class="ltx_tr">
<th id="S5.T5.5.1.10.8.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">W/o Decoder</th>
<td id="S5.T5.5.1.10.8.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.61</td>
<td id="S5.T5.5.1.10.8.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">51.55</td>
<td id="S5.T5.5.1.10.8.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">47.89</td>
<td id="S5.T5.5.1.10.8.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">94.11</td>
<td id="S5.T5.5.1.10.8.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">83.57</td>
<td id="S5.T5.5.1.10.8.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">67.93</td>
</tr>
<tr id="S5.T5.5.1.11.9" class="ltx_tr">
<th id="S5.T5.5.1.11.9.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">W/o Linear Projection</th>
<td id="S5.T5.5.1.11.9.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.99</td>
<td id="S5.T5.5.1.11.9.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">51.10</td>
<td id="S5.T5.5.1.11.9.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">47.98</td>
<td id="S5.T5.5.1.11.9.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">94.10</td>
<td id="S5.T5.5.1.11.9.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">83.28</td>
<td id="S5.T5.5.1.11.9.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">67.71</td>
</tr>
<tr id="S5.T5.5.1.12.10" class="ltx_tr">
<th id="S5.T5.5.1.12.10.1" class="ltx_td ltx_align_left ltx_th ltx_th_row" style="padding-left:2.0pt;padding-right:2.0pt;">W/o Decoder Projection</th>
<td id="S5.T5.5.1.12.10.2" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">45.60</td>
<td id="S5.T5.5.1.12.10.3" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">52.73</td>
<td id="S5.T5.5.1.12.10.4" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">48.38</td>
<td id="S5.T5.5.1.12.10.5" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">94.04</td>
<td id="S5.T5.5.1.12.10.6" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">83.55</td>
<td id="S5.T5.5.1.12.10.7" class="ltx_td ltx_align_center" style="padding-left:2.0pt;padding-right:2.0pt;">67.49</td>
</tr>
<tr id="S5.T5.5.1.13.11" class="ltx_tr">
<th id="S5.T5.5.1.13.11.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;">W/o Class Token (ours)</th>
<td id="S5.T5.5.1.13.11.2" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.13.11.2.1" class="ltx_text ltx_font_bold">47.33</span></td>
<td id="S5.T5.5.1.13.11.3" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.13.11.3.1" class="ltx_text ltx_font_bold">54.03</span></td>
<td id="S5.T5.5.1.13.11.4" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.13.11.4.1" class="ltx_text ltx_font_bold">49.96</span></td>
<td id="S5.T5.5.1.13.11.5" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.13.11.5.1" class="ltx_text ltx_font_bold">94.16</span></td>
<td id="S5.T5.5.1.13.11.6" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.13.11.6.1" class="ltx_text ltx_font_bold">84.13</span></td>
<td id="S5.T5.5.1.13.11.7" class="ltx_td ltx_align_center ltx_border_bb" style="padding-left:2.0pt;padding-right:2.0pt;"><span id="S5.T5.5.1.13.11.7.1" class="ltx_text ltx_font_bold">68.05</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div id="S5.SS2.SSS3.p1" class="ltx_para">
<p id="S5.SS2.SSS3.p1.1" class="ltx_p"><span id="S5.SS2.SSS3.p1.1.1" class="ltx_text ltx_font_bold">Effectiveness of global and local knowledge split.</span>
In Section <a href="#S4.SS4" title="IV-D Global and Local Knowledge Split ‣ IV FedMAE: Federated Masked Autoencoders ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">IV-D</span></span></a>, we split the knowledge learned by the MAE model into global and local knowledge.
To empirically verify this hypothesis, we compare our knowledge split with different model parameters for synchronization, where the method <span id="S5.SS2.SSS3.p1.1.2" class="ltx_text ltx_font_italic">Encoder+Decoder</span> synchronizes all the parameters in the MAE model, and methods <span id="S5.SS2.SSS3.p1.1.3" class="ltx_text ltx_font_italic">W/o Decoder</span>, <span id="S5.SS2.SSS3.p1.1.4" class="ltx_text ltx_font_italic">W/o Linear Projection</span>, <span id="S5.SS2.SSS3.p1.1.5" class="ltx_text ltx_font_italic">W/o Decoder Projection</span> synchronize all parameters except for the decoder, the linear projection in the encoder’s input, and the linear projection in the decoder’s input, respectively. We report the diagnosis performance by using 80% or 40% labeled data for fine-tuning.</p>
</div>
<div id="S5.SS2.SSS3.p2" class="ltx_para">
<p id="S5.SS2.SSS3.p2.1" class="ltx_p">As shown in Table <a href="#S5.T5" title="TABLE V ‣ V-B3 Ablation Study ‣ V-B Results of FedMAE ‣ V Experiments ‣ Federated Contrastive Learning and Masked Autoencoder for Dermatological Disease DiagnosisThe original conference version of this work was published on ICCAD 2021 proceedings [1]. Compared with the original version, major extensions have been made in this manuscript." class="ltx_ref"><span class="ltx_text ltx_ref_tag">V</span></a>, our global and local knowledge split method achieves the best performance for almost all of the metrics under 80% or 40% label ratios. This result verifies our hypothesis that the class embedding in the encoder of MAE contains local knowledge closely related to local data, while other parameters contain global knowledge. Synchronizing global knowledge while avoiding local knowledge achieves better performance than synchronizing all the knowledge.</p>
</div>
</section>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Conclusion</span>
</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">This work aims to enable federated self-supervised learning for dermatological disease diagnosis by contrastive learning and masked autoencoders.
Based on contrastive learning, FedCLF is proposed. Devices first collaboratively pre-train a model by using decentralized unlabeled data and then fine-tune the model with limited labels.
Feature exchange is proposed to improve the data diversity for better contrastive learning on each device.
Based on masked autoencoders, FedMAE is proposed to explore federated self-supervised learning with unlabeled data. Global and local knowledge split is developed for better knowledge aggregation and higher accuracy.
Experimental results show the effectiveness of the proposed frameworks.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Y. Wu, D. Zeng, Z. Wang, Y. Sheng, L. Yang, A. J. James, Y. Shi, and J. Hu,
“Federated contrastive learning for dermatological disease diagnosis via
on-device learning,” in <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">2021 IEEE/ACM International Conference On
Computer Aided Design (ICCAD)</em>.   IEEE,
2021, pp. 1–7.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
A. K. Verma, S. Pal, and S. Kumar, “Classification of skin disease using
ensemble data mining techniques,” <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">Asian Pacific journal of cancer
prevention: APJCP</em>, vol. 20, no. 6, p. 1887, 2019.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
B. Ahmad, M. Usama, C.-M. Huang, K. Hwang, M. S. Hossain, and G. Muhammad,
“Discriminative feature learning for skin disease classification using deep
convolutional neural network,” <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">IEEE Access</em>, vol. 8, pp.
39 025–39 033, 2020.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Z. Wu, S. Zhao, Y. Peng, X. He, X. Zhao, K. Huang, X. Wu, W. Fan, F. Li,
M. Chen <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Studies on different cnn algorithms for face skin
disease classification based on clinical images,” <em id="bib.bib4.2.2" class="ltx_emph ltx_font_italic">IEEE Access</em>,
vol. 7, pp. 66 505–66 511, 2019.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
J. Velasco, C. Pascion, J. W. Alberio, J. Apuang, J. S. Cruz, M. A. Gomez,
B. Molina Jr, L. Tuala, A. Thio-ac, and R. Jorda Jr, “A smartphone-based
skin disease classification using mobilenet cnn,” <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv preprint
arXiv:1911.07929</em>, 2019.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Y. Gu, Z. Ge, C. P. Bonnington, and J. Zhou, “Progressive transfer learning
and adversarial domain adaptation for cross-domain skin disease
classification,” <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">IEEE journal of biomedical and health informatics</em>,
vol. 24, no. 5, pp. 1379–1393, 2019.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Y. Wu, D. Zeng, X. Xu, Y. Shi, and J. Hu, “Fairprune: Achieving fairness
through pruning for dermatological disease diagnosis,” <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">arXiv preprint
arXiv:2203.02110</em>, 2022.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
“Using ai to help find answers to common skin conditions,”
<a target="_blank" href="https://blog.google/technology/health/ai-dermatology-preview-io-2021/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://blog.google/technology/health/ai-dermatology-preview-io-2021/</a>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
“Free artificial intelligence (ai) dermatology search,”
<a target="_blank" href="https://www.firstderm.com/ai-dermatology/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.firstderm.com/ai-dermatology/</a>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
“Your smartphone gets even smarter with dermexpert,”
<a target="_blank" href="https://www.visualdx.com/clinical-solutions/derm-expert/" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://www.visualdx.com/clinical-solutions/derm-expert/</a>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Y. Wu, Z. Wang, Y. Shi, and J. Hu, “Enabling on-device cnn training by
self-supervised instance filtering and error map pruning,” <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">IEEE
Transactions on Computer-Aided Design of Integrated Circuits and Systems</em>,
vol. 39, no. 11, pp. 3445–3457, 2020.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
P. Kairouz, H. B. McMahan, B. Avent, A. Bellet, M. Bennis, A. N. Bhagoji,
K. Bonawitz, Z. Charles, G. Cormode, R. Cummings <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">et al.</em>, “Advances
and open problems in federated learning,” <em id="bib.bib12.2.2" class="ltx_emph ltx_font_italic">arXiv preprint
arXiv:1912.04977</em>, 2019.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
X. Sun, J. Yang, M. Sun, and K. Wang, “A benchmark for automatic visual
classification of clinical skin disease images,” in <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">European
Conference on Computer Vision</em>.   Springer, 2016, pp. 206–222.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Q. Yang, Y. Liu, T. Chen, and Y. Tong, “Federated machine learning: Concept
and applications,” <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">ACM Transactions on Intelligent Systems and
Technology (TIST)</em>, vol. 10, no. 2, pp. 1–19, 2019.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
K. He, H. Fan, Y. Wu, S. Xie, and R. Girshick, “Momentum contrast for
unsupervised visual representation learning,” in <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Proceedings of the
IEEE/CVF Conference on Computer Vision and Pattern Recognition</em>, 2020, pp.
9729–9738.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
T. Chen, S. Kornblith, M. Norouzi, and G. Hinton, “A simple framework for
contrastive learning of visual representations,” in <em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">International
conference on machine learning</em>.   PMLR,
2020, pp. 1597–1607.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
M. Caron, I. Misra, J. Mairal, P. Goyal, P. Bojanowski, and A. Joulin,
“Unsupervised learning of visual features by contrasting cluster
assignments,” <em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
vol. 33, pp. 9912–9924, 2020.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
K. He, X. Chen, S. Xie, Y. Li, P. Dollár, and R. Girshick, “Masked
autoencoders are scalable vision learners,” <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Proceedings of the
IEEE/CVF Conference on Computer Vision and Pattern Recognition</em>, 2022.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
J. Devlin, M.-W. Chang, K. Lee, and K. Toutanova, “Bert: Pre-training of deep
bidirectional transformers for language understanding,” <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">arXiv preprint
arXiv:1810.04805</em>, 2018.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
X. Chen, S. Xie, and K. He, “An empirical study of training self-supervised
vision transformers,” in <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF International
Conference on Computer Vision</em>, 2021, pp. 9640–9649.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
H. Bao, L. Dong, and F. Wei, “Beit: Bert pre-training of image transformers,”
<em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2106.08254</em>, 2021.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-efficient learning of deep networks from decentralized
data,” in <em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">Artificial Intelligence and Statistics</em>.   PMLR, 2017, pp. 1273–1282.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
T. Li, A. K. Sahu, M. Zaheer, M. Sanjabi, A. Talwalkar, and V. Smith,
“Federated optimization in heterogeneous networks,” <em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">Proceedings of
Machine Learning and Systems</em>, vol. 2, pp. 429–450, 2020.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Y. Tian, D. Krishnan, and P. Isola, “Contrastive multiview coding,” in
<em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">European conference on computer vision</em>.   Springer, 2020, pp. 776–794.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
I. Misra and L. v. d. Maaten, “Self-supervised learning of pretext-invariant
representations,” in <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on
Computer Vision and Pattern Recognition</em>, 2020, pp. 6707–6717.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Y. Tian, C. Sun, B. Poole, D. Krishnan, C. Schmid, and P. Isola, “What makes
for good views for contrastive learning?” <em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">Advances in Neural
Information Processing Systems</em>, vol. 33, pp. 6827–6839, 2020.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Y. Wu, Z. Wang, D. Zeng, Y. Shi, and J. Hu, “Enabling on-device
self-supervised contrastive learning with selective data contrast,” in
<em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">2021 58th ACM/IEEE Design Automation Conference (DAC)</em>.   IEEE, 2021, pp. 655–660.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
C.-Y. Chuang, J. Robinson, L. Yen-Chen, A. Torralba, and S. Jegelka, “Debiased
contrastive learning,” <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2007.00224</em>, 2020.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
T. Chen, S. Kornblith, K. Swersky, M. Norouzi, and G. E. Hinton, “Big
self-supervised models are strong semi-supervised learners,” <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Advances
in neural information processing systems</em>, vol. 33, 2020.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
C.-H. Ho and N. Nvasconcelos, “Contrastive learning with adversarial
examples,” <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
vol. 33, pp. 17 081–17 093, 2020.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
M. Kim, J. Tack, and S. J. Hwang, “Adversarial self-supervised contrastive
learning,” <em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
vol. 33, pp. 2983–2994, 2020.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
J. Deng, W. Dong, R. Socher, L.-J. Li, K. Li, and L. Fei-Fei, “ImageNet: A
Large-Scale Hierarchical Image Database,” in <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">CVPR09</em>, 2009.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
A. Vaswani, N. Shazeer, N. Parmar, J. Uszkoreit, L. Jones, A. N. Gomez,
Ł. Kaiser, and I. Polosukhin, “Attention is all you need,”
<em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, vol. 30, 2017.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
A. Dosovitskiy, L. Beyer, A. Kolesnikov, D. Weissenborn, X. Zhai,
T. Unterthiner, M. Dehghani, M. Minderer, G. Heigold, S. Gelly, J. Uszkoreit,
and N. Houlsby, “An image is worth 16x16 words: Transformers for image
recognition at scale,” in <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning
Representations</em>, 2021.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
N. Carion, F. Massa, G. Synnaeve, N. Usunier, A. Kirillov, and S. Zagoruyko,
“End-to-end object detection with transformers,” in <em id="bib.bib35.1.1" class="ltx_emph ltx_font_italic">European
conference on computer vision</em>.   Springer, 2020, pp. 213–229.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
X. Zhu, W. Su, L. Lu, B. Li, X. Wang, and J. Dai, “Deformable DETR:
deformable transformers for end-to-end object detection,” in <em id="bib.bib36.1.1" class="ltx_emph ltx_font_italic">9th
International Conference on Learning Representations, ICLR 2021, Virtual
Event, Austria, May 3-7, 2021</em>, 2021.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
H. Touvron, M. Cord, M. Douze, F. Massa, A. Sablayrolles, and H. Jégou,
“Training data-efficient image transformers &amp; distillation through
attention,” in <em id="bib.bib37.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>.   PMLR, 2021, pp. 10 347–10 357.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
Z. Liu, Y. Lin, Y. Cao, H. Hu, Y. Wei, Z. Zhang, S. Lin, and B. Guo, “Swin
transformer: Hierarchical vision transformer using shifted windows,” in
<em id="bib.bib38.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF International Conference on Computer
Vision</em>, 2021, pp. 10 012–10 022.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
M. Chen, A. Radford, R. Child, J. Wu, H. Jun, D. Luan, and I. Sutskever,
“Generative pretraining from pixels,” in <em id="bib.bib39.1.1" class="ltx_emph ltx_font_italic">International Conference on
Machine Learning</em>.   PMLR, 2020, pp.
1691–1703.

</span>
</li>
<li id="bib.bib40" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[40]</span>
<span class="ltx_bibblock">
J. Zhou, C. Wei, H. Wang, W. Shen, C. Xie, A. Yuille, and T. Kong, “Image
BERT pre-training with online tokenizer,” in <em id="bib.bib40.1.1" class="ltx_emph ltx_font_italic">International
Conference on Learning Representations</em>, 2022.

</span>
</li>
<li id="bib.bib41" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[41]</span>
<span class="ltx_bibblock">
Y. Wu, D. Zeng, Z. Wang, Y. Shi, and J. Hu, “Distributed contrastive learning
for medical image segmentation,” <em id="bib.bib41.1.1" class="ltx_emph ltx_font_italic">Medical Image Analysis</em>, p. 102564,
2022.

</span>
</li>
<li id="bib.bib42" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[42]</span>
<span class="ltx_bibblock">
N. Dong and I. Voiculescu, “Federated contrastive learning for decentralized
unlabeled medical images,” in <em id="bib.bib42.1.1" class="ltx_emph ltx_font_italic">International Conference on Medical
Image Computing and Computer-Assisted Intervention</em>.   Springer, 2021, pp. 378–387.

</span>
</li>
<li id="bib.bib43" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[43]</span>
<span class="ltx_bibblock">
Y. Wu, Z. Wang, D. Zeng, M. Li, Y. Shi, and J. Hu, “Decentralized unsupervised
learning of visual representations,” in <em id="bib.bib43.1.1" class="ltx_emph ltx_font_italic">Proceedings of the
Thirty-First International Joint Conference on Artificial Intelligence,
IJCAI 2022, Vienna, Austria, 23-29 July 2022</em>, L. D. Raedt, Ed.   ijcai.org, 2022, pp. 2326–2333. [Online].
Available: <a target="_blank" href="https://doi.org/10.24963/ijcai.2022/323" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://doi.org/10.24963/ijcai.2022/323</a>

</span>
</li>
<li id="bib.bib44" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[44]</span>
<span class="ltx_bibblock">
Y. Wu, D. Zeng, Z. Wang, Y. Sheng, L. Yang, A. J. James, Y. Shi, and J. Hu,
“Federated contrastive learning for dermatological disease diagnosis via
on-device learning,” in <em id="bib.bib44.1.1" class="ltx_emph ltx_font_italic">2021 IEEE/ACM International Conference On
Computer Aided Design (ICCAD)</em>.   IEEE,
2021, pp. 1–7.

</span>
</li>
<li id="bib.bib45" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[45]</span>
<span class="ltx_bibblock">
K. He, X. Chen, S. Xie, Y. Li, P. Dollár, and R. Girshick, “Masked
autoencoders are scalable vision learners,” in <em id="bib.bib45.1.1" class="ltx_emph ltx_font_italic">Proceedings of the
IEEE/CVF Conference on Computer Vision and Pattern Recognition</em>, 2022, pp.
16 000–16 009.

</span>
</li>
<li id="bib.bib46" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[46]</span>
<span class="ltx_bibblock">
G. Hinton, O. Vinyals, and J. Dean, “Distilling the knowledge in a neural
network,” <em id="bib.bib46.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1503.02531</em>, 2015.

</span>
</li>
<li id="bib.bib47" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[47]</span>
<span class="ltx_bibblock">
“Skin lesion analysis towards melanoma detection.” [Online]. Available:
<a target="_blank" href="http://challenge2019.isic-archive.com" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://challenge2019.isic-archive.com</a>

</span>
</li>
<li id="bib.bib48" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[48]</span>
<span class="ltx_bibblock">
D. B. C. Samuel Freire Da Silva, “Atlasderm dermatology diseases.” [Online].
Available: <a target="_blank" href="http://www.atlasdermatologico.com.br" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://www.atlasdermatologico.com.br</a>

</span>
</li>
<li id="bib.bib49" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[49]</span>
<span class="ltx_bibblock">
“Skin disease atlas.” [Online]. Available: <a target="_blank" href="http://www.dermnet.com" title="" class="ltx_ref ltx_url ltx_font_typewriter">http://www.dermnet.com</a>

</span>
</li>
<li id="bib.bib50" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[50]</span>
<span class="ltx_bibblock">
K. He, X. Zhang, S. Ren, and J. Sun, “Deep residual learning for image
recognition,” in <em id="bib.bib50.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE conference on computer vision
and pattern recognition</em>, 2016, pp. 770–778.

</span>
</li>
<li id="bib.bib51" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[51]</span>
<span class="ltx_bibblock">
S. Gidaris, P. Singh, and N. Komodakis, “Unsupervised representation learning
by predicting image rotations,” in <em id="bib.bib51.1.1" class="ltx_emph ltx_font_italic">6th International Conference on
Learning Representations, ICLR 2018, Vancouver, BC, Canada, April 30 - May
3, 2018, Conference Track Proceedings</em>, 2018.

</span>
</li>
<li id="bib.bib52" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[52]</span>
<span class="ltx_bibblock">
K. Chaitanya, E. Erdil, N. Karani, and E. Konukoglu, “Contrastive learning of
global and local features for medical image segmentation with limited
annotations,” <em id="bib.bib52.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems</em>,
vol. 33, pp. 12 546–12 558, 2020.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2208.11277" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2208.11278" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2208.11278">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2208.11278" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2208.11279" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Wed Mar 13 20:33:46 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
