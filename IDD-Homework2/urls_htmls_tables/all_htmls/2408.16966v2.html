<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches</title>
<!--Generated on Thu Sep  5 23:17:34 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2408.16966v2/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S1" title="In UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S2" title="In UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Works</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3" title="In UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span><span class="ltx_text ltx_font_smallcaps">UserSumBench</span> Framework</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.SS1" title="In 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Benchmark Metrics</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.SS1.SSSx1" title="In 3.1 Benchmark Metrics ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title">Quality Metric</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.SS1.SSSx2" title="In 3.1 Benchmark Metrics ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title">Instruction Following Metric</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.SS1.SSSx3" title="In 3.1 Benchmark Metrics ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title">Information Density Metric</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.SS2" title="In 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Hierarchy-Critique Summary Generation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4" title="In UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Evaluation</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.SS1" title="In 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Validating Benchmark Metrics</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.SS1.SSSx1" title="In 4.1 Validating Benchmark Metrics ‣ 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title">Datasets and Evaluation Tasks</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.SS1.SSSx2" title="In 4.1 Validating Benchmark Metrics ‣ 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title">Quality Metric vs. Human Ratings</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.SS2" title="In 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Evaluating Summarization Approaches</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S5" title="In UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion and Future Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1" title="In UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Prompt Examples</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS1" title="In Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>LLM Prompt Template for Single-Step Summarization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS2" title="In Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>LLM Prompt Template for Segment Summarization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS3" title="In Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>LLM Prompt Template for Segment Summarization with Feedback</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS4" title="In Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.4 </span>LLMs Prompt Template for Query Consistency</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS5" title="In Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.5 </span>LLMs Prompt Template for Question Generation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS6" title="In Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.6 </span>LLMs Prompt Template for Question Answering</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS7" title="In Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.7 </span>LLMs Prompt Template for Combining Time Segments</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A2" title="In UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Analysis of Benchmark Metrics on Popular Models</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">
<span class="ltx_text ltx_font_smallcaps" id="id1.id1">UserSumBench</span>: A Benchmark Framework for Evaluating User Summarization Approaches</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Chao Wang<sup class="ltx_sup" id="id2.1.id1">1</sup>,
Neo Wu<sup class="ltx_sup" id="id3.2.id2">1</sup>,
Lin Ning<sup class="ltx_sup" id="id4.3.id3">1</sup>,
Jiaxing Wu<sup class="ltx_sup" id="id5.4.id4">1</sup>,
Luyang Liu<sup class="ltx_sup" id="id6.5.id5">1</sup>,
Jun Xie<sup class="ltx_sup" id="id7.6.id6">1</sup>,
Shawn O’Banion<sup class="ltx_sup" id="id8.7.id7">1</sup>,
Bradley Green<sup class="ltx_sup" id="id9.8.id8">1</sup>
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id10.id1">Large language models (LLMs) have shown remarkable capabilities in generating user summaries from a long list of raw user activity data. These summaries capture essential user information such as preferences and interests, and therefore are invaluable for LLM-based personalization applications, such as explainable recommender systems.
However, the development of new summarization techniques is hindered by the lack of ground-truth labels, the inherent subjectivity of user summaries, and human evaluation which is often costly and time-consuming.
To address these challenges, we introduce <span class="ltx_text ltx_font_smallcaps" id="id10.id1.1">UserSumBench</span>, a benchmark framework designed to facilitate iterative development of LLM-based summarization approaches. This framework offers two key components: (1) A reference-free summary quality metric. We show that this metric is effective and aligned with human preferences across three diverse datasets (MovieLens, Yelp and Amazon Review). (2) A novel robust summarization method that leverages time-hierarchical summarizer and self-critique verifier to produce high-quality summaries while eliminating hallucination. This method serves as a strong baseline for further innovation in summarization techniques.</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">User activity timelines, including data such as place visit histories, product reviews, movie ratings, and other digital interactions, offer valuable insights into individual preferences, behaviors, and evolving interests. These timelines are crucial for applications like personalized recommendations and user behavior analysis <cite class="ltx_cite ltx_citemacro_citep">(Wang et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib20" title="">2019</a>)</cite>. Summarizing these timelines into concise, actionable insights is essential for enhancing recommendation systems and understanding user engagement trends. For example, as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S1.F2" title="Figure 2 ‣ 1 Introduction ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">2</span></a>, the next product prediction accuracy of an LLM-based model on the Amazon Review dataset <cite class="ltx_cite ltx_citemacro_citep">(Ni, Li, and McAuley <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib12" title="">2019</a>)</cite> significantly improves when using summaries instead of raw activity timelines.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">However, generating high-quality user summaries is challenging due to the complexity and diversity of user timelines. The subjective nature of summary evaluation and the lack of standardized ground-truth datasets further complicate the process. Current methods often rely on simplistic heuristics or models that struggle with these issues <cite class="ltx_cite ltx_citemacro_citep">(Giarelis, Mastrokostas, and
Karacapilidis <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib7" title="">2023</a>)</cite>. Moreover, the absence of standardized benchmarks or reliable metrics hampers the evaluation of summarization effectiveness <cite class="ltx_cite ltx_citemacro_citep">(Fabbri et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib6" title="">2021</a>; Lloret, Plaza, and Aker <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib11" title="">2018</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">To tackle these challenges, we introduce <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.1">UserSumBench</span>, a comprehensive benchmark framework specifically designed to evaluate user summarization approaches by assessing the quality of user summaries generated from activity timelines. <span class="ltx_text ltx_font_smallcaps" id="S1.p3.1.2">UserSumBench</span> consists of two key components: a robust, reference-free summary quality metric and a strong baseline summarization approach.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">In <span class="ltx_text ltx_font_smallcaps" id="S1.p4.1.1">UserSumBench</span>, the proposed quality metric evaluates the effectiveness of user summarization approaches by measuring how accurately the generated summaries predict future user activities. This metric offers a quantitative assessment of how well the summaries capture key aspects of user behavior (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">1</span></a>) and has demonstrated strong alignment with human ratings.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">The proposed strong baseline summarization approach employs a time-hierarchical and self-critique method. This approach uses an LLM for initial summarization, followed by iterative refinement to reduce hallucinations and improve summary quality. This baseline not only validates the benchmark metrics but also serves as a foundation for future innovations in summarization techniques.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1"><span class="ltx_text ltx_font_bold" id="S1.p6.1.1">Key Contributions:</span></p>
<ul class="ltx_itemize" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1">Introduction of a quality metric for evaluating user summarization approaches through user summaries, demonstrating strong alignment with human ratings, thereby validating its effectiveness and simplifying the evaluation process.</p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1">Introduction of a strong baseline summarization approach, a time-hierarchical and self-critique method, setting the foundation for future advancements in summarization techniques.</p>
</div>
</li>
</ul>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="188" id="S1.F1.g1" src="extracted/5836770/figures/summary_evaluation_likelihood.png" width="558"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Evaluating summary quality through future activity prediction tasks, where LLMs predict the most likely user queries based on generated summaries of past activities.</figcaption>
</figure>
<figure class="ltx_figure" id="S1.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="163" id="S1.F2.g1" src="extracted/5836770/figures/amazon_activity_summary.png" width="328"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Comparison of next product prediction accuracy across different contexts in the Amazon Review dataset, contrasting performance using raw timelines versus summarized data.</figcaption>
</figure>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Works</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">The lack of standardized benchmarks has long been a challenge in evaluating summarization approaches <cite class="ltx_cite ltx_citemacro_citep">(Fabbri et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib6" title="">2021</a>)</cite>. While datasets like MovieLens <cite class="ltx_cite ltx_citemacro_citep">(Harper and Konstan <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib8" title="">2015</a>)</cite> and Amazon Reviews <cite class="ltx_cite ltx_citemacro_citep">(Ni, Li, and McAuley <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib12" title="">2019</a>)</cite> offer comprehensive logs of user activities, they lack corresponding ground-truth summaries, complicating the assessment of summarization techniques. Efforts have been made to create datasets that pair user activities with manually crafted summaries. For example, Liu et al. <cite class="ltx_cite ltx_citemacro_citep">(Liu et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib10" title="">2023</a>)</cite> emphasized the importance of performance prediction in summarization evaluation, advocating for benchmarks that measure the predictive power of generated summaries. Similarly, Akkasi et al. <cite class="ltx_cite ltx_citemacro_citep">(Akkasi, Fraser, and Komeili <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib2" title="">2023</a>)</cite> explored reference-free evaluation methods, proposing metrics designed to assess summaries’ ability to convey essential content relevant to future activities. These studies highlight the limitations of current evaluation practices and the need for more predictive and reliable benchmarks.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">Recent research has focused on establishing standardized evaluation methodologies for summarization <cite class="ltx_cite ltx_citemacro_citep">(Fabbri et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib6" title="">2021</a>; Liu et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib10" title="">2023</a>; Chen et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib4" title="">2024</a>)</cite>. Fabbri et al. <cite class="ltx_cite ltx_citemacro_citep">(Fabbri et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib6" title="">2021</a>)</cite> addressed the shortcomings in existing summarization evaluation methods by reassessing 14 automatic evaluation metrics using outputs from recent neural summarization models. They also released a toolkit of evaluation metrics to promote consistency in reporting results. Chen et al. <cite class="ltx_cite ltx_citemacro_citep">(Chen et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib4" title="">2024</a>)</cite> proposed a facet-aware evaluation paradigm for scientific abstracts, introducing benchmarks that enable more nuanced comparisons of evaluation metrics in this context.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span><span class="ltx_text ltx_font_smallcaps" id="S3.1.1">UserSumBench</span> Framework</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">In this section, we present the two key components of the <span class="ltx_text ltx_font_smallcaps" id="S3.p1.1.1">UserSumBench</span> framework: Benchmark Metrics and Hierarchy-Critique Summary Generation. The Benchmark Metrics assess summarization approaches using various criteria, such as future user activity predictions, to ensure a comprehensive evaluation of the generated summaries. The Hierarchy-Critique Summary Generation method provides a strong baseline for evaluating and improving these techniques.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Benchmark Metrics</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.1"><span class="ltx_text ltx_font_smallcaps" id="S3.SS1.p1.1.1">UserSumBench</span> includes three evaluation metrics to assess different aspects of user summarization approaches.</p>
</div>
<section class="ltx_subsubsection" id="S3.SS1.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Quality Metric</h4>
<div class="ltx_para" id="S3.SS1.SSSx1.p1">
<p class="ltx_p" id="S3.SS1.SSSx1.p1.1">Quality Metric is designed to evaluate the predictive accuracy of user summaries in forecasting future activities. The evaluation involves splitting each user activity timeline into past and future activities (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S1.F1" title="Figure 1 ‣ 1 Introduction ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">1</span></a>). Summaries are generated from the past activities, and the quality of these summaries is measured by how well they predict the future activities. The quality of a user summary, <math alttext="Q_{s}" class="ltx_Math" display="inline" id="S3.SS1.SSSx1.p1.1.m1.1"><semantics id="S3.SS1.SSSx1.p1.1.m1.1a"><msub id="S3.SS1.SSSx1.p1.1.m1.1.1" xref="S3.SS1.SSSx1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.SSSx1.p1.1.m1.1.1.2" xref="S3.SS1.SSSx1.p1.1.m1.1.1.2.cmml">Q</mi><mi id="S3.SS1.SSSx1.p1.1.m1.1.1.3" xref="S3.SS1.SSSx1.p1.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx1.p1.1.m1.1b"><apply id="S3.SS1.SSSx1.p1.1.m1.1.1.cmml" xref="S3.SS1.SSSx1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSSx1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.SSSx1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.SSSx1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.SSSx1.p1.1.m1.1.1.2">𝑄</ci><ci id="S3.SS1.SSSx1.p1.1.m1.1.1.3.cmml" xref="S3.SS1.SSSx1.p1.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx1.p1.1.m1.1c">Q_{s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx1.p1.1.m1.1d">italic_Q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>, is computed by aggregating performance across multiple future activity prediction tasks.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSSx1.p2">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx1">
<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle Q_{s}=I\left[\sum_{t}^{T_{s}}q_{s,t}\geq m\right]" class="ltx_Math" display="inline" id="S3.E1.m1.3"><semantics id="S3.E1.m1.3a"><mrow id="S3.E1.m1.3.3" xref="S3.E1.m1.3.3.cmml"><msub id="S3.E1.m1.3.3.3" xref="S3.E1.m1.3.3.3.cmml"><mi id="S3.E1.m1.3.3.3.2" xref="S3.E1.m1.3.3.3.2.cmml">Q</mi><mi id="S3.E1.m1.3.3.3.3" xref="S3.E1.m1.3.3.3.3.cmml">s</mi></msub><mo id="S3.E1.m1.3.3.2" xref="S3.E1.m1.3.3.2.cmml">=</mo><mrow id="S3.E1.m1.3.3.1" xref="S3.E1.m1.3.3.1.cmml"><mi id="S3.E1.m1.3.3.1.3" xref="S3.E1.m1.3.3.1.3.cmml">I</mi><mo id="S3.E1.m1.3.3.1.2" xref="S3.E1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S3.E1.m1.3.3.1.1.1" xref="S3.E1.m1.3.3.1.1.2.cmml"><mo id="S3.E1.m1.3.3.1.1.1.2" xref="S3.E1.m1.3.3.1.1.2.1.cmml">[</mo><mrow id="S3.E1.m1.3.3.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.cmml"><mrow id="S3.E1.m1.3.3.1.1.1.1.2" xref="S3.E1.m1.3.3.1.1.1.1.2.cmml"><mstyle displaystyle="true" id="S3.E1.m1.3.3.1.1.1.1.2.1" xref="S3.E1.m1.3.3.1.1.1.1.2.1.cmml"><munderover id="S3.E1.m1.3.3.1.1.1.1.2.1a" xref="S3.E1.m1.3.3.1.1.1.1.2.1.cmml"><mo id="S3.E1.m1.3.3.1.1.1.1.2.1.2.2" movablelimits="false" xref="S3.E1.m1.3.3.1.1.1.1.2.1.2.2.cmml">∑</mo><mi id="S3.E1.m1.3.3.1.1.1.1.2.1.2.3" xref="S3.E1.m1.3.3.1.1.1.1.2.1.2.3.cmml">t</mi><msub id="S3.E1.m1.3.3.1.1.1.1.2.1.3" xref="S3.E1.m1.3.3.1.1.1.1.2.1.3.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.2.1.3.2" xref="S3.E1.m1.3.3.1.1.1.1.2.1.3.2.cmml">T</mi><mi id="S3.E1.m1.3.3.1.1.1.1.2.1.3.3" xref="S3.E1.m1.3.3.1.1.1.1.2.1.3.3.cmml">s</mi></msub></munderover></mstyle><msub id="S3.E1.m1.3.3.1.1.1.1.2.2" xref="S3.E1.m1.3.3.1.1.1.1.2.2.cmml"><mi id="S3.E1.m1.3.3.1.1.1.1.2.2.2" xref="S3.E1.m1.3.3.1.1.1.1.2.2.2.cmml">q</mi><mrow id="S3.E1.m1.2.2.2.4" xref="S3.E1.m1.2.2.2.3.cmml"><mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">s</mi><mo id="S3.E1.m1.2.2.2.4.1" xref="S3.E1.m1.2.2.2.3.cmml">,</mo><mi id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.2.cmml">t</mi></mrow></msub></mrow><mo id="S3.E1.m1.3.3.1.1.1.1.1" xref="S3.E1.m1.3.3.1.1.1.1.1.cmml">≥</mo><mi id="S3.E1.m1.3.3.1.1.1.1.3" xref="S3.E1.m1.3.3.1.1.1.1.3.cmml">m</mi></mrow><mo id="S3.E1.m1.3.3.1.1.1.3" xref="S3.E1.m1.3.3.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.3b"><apply id="S3.E1.m1.3.3.cmml" xref="S3.E1.m1.3.3"><eq id="S3.E1.m1.3.3.2.cmml" xref="S3.E1.m1.3.3.2"></eq><apply id="S3.E1.m1.3.3.3.cmml" xref="S3.E1.m1.3.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.3.1.cmml" xref="S3.E1.m1.3.3.3">subscript</csymbol><ci id="S3.E1.m1.3.3.3.2.cmml" xref="S3.E1.m1.3.3.3.2">𝑄</ci><ci id="S3.E1.m1.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3">𝑠</ci></apply><apply id="S3.E1.m1.3.3.1.cmml" xref="S3.E1.m1.3.3.1"><times id="S3.E1.m1.3.3.1.2.cmml" xref="S3.E1.m1.3.3.1.2"></times><ci id="S3.E1.m1.3.3.1.3.cmml" xref="S3.E1.m1.3.3.1.3">𝐼</ci><apply id="S3.E1.m1.3.3.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S3.E1.m1.3.3.1.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.2">delimited-[]</csymbol><apply id="S3.E1.m1.3.3.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1"><geq id="S3.E1.m1.3.3.1.1.1.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.1"></geq><apply id="S3.E1.m1.3.3.1.1.1.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2"><apply id="S3.E1.m1.3.3.1.1.1.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.2.1.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1">superscript</csymbol><apply id="S3.E1.m1.3.3.1.1.1.1.2.1.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.2.1.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1">subscript</csymbol><sum id="S3.E1.m1.3.3.1.1.1.1.2.1.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1.2.2"></sum><ci id="S3.E1.m1.3.3.1.1.1.1.2.1.2.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1.2.3">𝑡</ci></apply><apply id="S3.E1.m1.3.3.1.1.1.1.2.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1.3"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.2.1.3.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1.3">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.2.1.3.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1.3.2">𝑇</ci><ci id="S3.E1.m1.3.3.1.1.1.1.2.1.3.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.1.3.3">𝑠</ci></apply></apply><apply id="S3.E1.m1.3.3.1.1.1.1.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.3.3.1.1.1.1.2.2.1.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E1.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S3.E1.m1.3.3.1.1.1.1.2.2.2">𝑞</ci><list id="S3.E1.m1.2.2.2.3.cmml" xref="S3.E1.m1.2.2.2.4"><ci id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">𝑠</ci><ci id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2">𝑡</ci></list></apply></apply><ci id="S3.E1.m1.3.3.1.1.1.1.3.cmml" xref="S3.E1.m1.3.3.1.1.1.1.3">𝑚</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.3c">\displaystyle Q_{s}=I\left[\sum_{t}^{T_{s}}q_{s,t}\geq m\right]</annotation><annotation encoding="application/x-llamapun" id="S3.E1.m1.3d">italic_Q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT = italic_I [ ∑ start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_POSTSUPERSCRIPT italic_q start_POSTSUBSCRIPT italic_s , italic_t end_POSTSUBSCRIPT ≥ italic_m ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSSx1.p3">
<p class="ltx_p" id="S3.SS1.SSSx1.p3.6">Here, <math alttext="q_{s,t}" class="ltx_Math" display="inline" id="S3.SS1.SSSx1.p3.1.m1.2"><semantics id="S3.SS1.SSSx1.p3.1.m1.2a"><msub id="S3.SS1.SSSx1.p3.1.m1.2.3" xref="S3.SS1.SSSx1.p3.1.m1.2.3.cmml"><mi id="S3.SS1.SSSx1.p3.1.m1.2.3.2" xref="S3.SS1.SSSx1.p3.1.m1.2.3.2.cmml">q</mi><mrow id="S3.SS1.SSSx1.p3.1.m1.2.2.2.4" xref="S3.SS1.SSSx1.p3.1.m1.2.2.2.3.cmml"><mi id="S3.SS1.SSSx1.p3.1.m1.1.1.1.1" xref="S3.SS1.SSSx1.p3.1.m1.1.1.1.1.cmml">s</mi><mo id="S3.SS1.SSSx1.p3.1.m1.2.2.2.4.1" xref="S3.SS1.SSSx1.p3.1.m1.2.2.2.3.cmml">,</mo><mi id="S3.SS1.SSSx1.p3.1.m1.2.2.2.2" xref="S3.SS1.SSSx1.p3.1.m1.2.2.2.2.cmml">t</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx1.p3.1.m1.2b"><apply id="S3.SS1.SSSx1.p3.1.m1.2.3.cmml" xref="S3.SS1.SSSx1.p3.1.m1.2.3"><csymbol cd="ambiguous" id="S3.SS1.SSSx1.p3.1.m1.2.3.1.cmml" xref="S3.SS1.SSSx1.p3.1.m1.2.3">subscript</csymbol><ci id="S3.SS1.SSSx1.p3.1.m1.2.3.2.cmml" xref="S3.SS1.SSSx1.p3.1.m1.2.3.2">𝑞</ci><list id="S3.SS1.SSSx1.p3.1.m1.2.2.2.3.cmml" xref="S3.SS1.SSSx1.p3.1.m1.2.2.2.4"><ci id="S3.SS1.SSSx1.p3.1.m1.1.1.1.1.cmml" xref="S3.SS1.SSSx1.p3.1.m1.1.1.1.1">𝑠</ci><ci id="S3.SS1.SSSx1.p3.1.m1.2.2.2.2.cmml" xref="S3.SS1.SSSx1.p3.1.m1.2.2.2.2">𝑡</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx1.p3.1.m1.2c">q_{s,t}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx1.p3.1.m1.2d">italic_q start_POSTSUBSCRIPT italic_s , italic_t end_POSTSUBSCRIPT</annotation></semantics></math> denotes the binary prediction outcome for summary <math alttext="s" class="ltx_Math" display="inline" id="S3.SS1.SSSx1.p3.2.m2.1"><semantics id="S3.SS1.SSSx1.p3.2.m2.1a"><mi id="S3.SS1.SSSx1.p3.2.m2.1.1" xref="S3.SS1.SSSx1.p3.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx1.p3.2.m2.1b"><ci id="S3.SS1.SSSx1.p3.2.m2.1.1.cmml" xref="S3.SS1.SSSx1.p3.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx1.p3.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx1.p3.2.m2.1d">italic_s</annotation></semantics></math> on task <math alttext="t" class="ltx_Math" display="inline" id="S3.SS1.SSSx1.p3.3.m3.1"><semantics id="S3.SS1.SSSx1.p3.3.m3.1a"><mi id="S3.SS1.SSSx1.p3.3.m3.1.1" xref="S3.SS1.SSSx1.p3.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx1.p3.3.m3.1b"><ci id="S3.SS1.SSSx1.p3.3.m3.1.1.cmml" xref="S3.SS1.SSSx1.p3.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx1.p3.3.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx1.p3.3.m3.1d">italic_t</annotation></semantics></math> from the set of tasks <math alttext="T_{s}" class="ltx_Math" display="inline" id="S3.SS1.SSSx1.p3.4.m4.1"><semantics id="S3.SS1.SSSx1.p3.4.m4.1a"><msub id="S3.SS1.SSSx1.p3.4.m4.1.1" xref="S3.SS1.SSSx1.p3.4.m4.1.1.cmml"><mi id="S3.SS1.SSSx1.p3.4.m4.1.1.2" xref="S3.SS1.SSSx1.p3.4.m4.1.1.2.cmml">T</mi><mi id="S3.SS1.SSSx1.p3.4.m4.1.1.3" xref="S3.SS1.SSSx1.p3.4.m4.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx1.p3.4.m4.1b"><apply id="S3.SS1.SSSx1.p3.4.m4.1.1.cmml" xref="S3.SS1.SSSx1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSSx1.p3.4.m4.1.1.1.cmml" xref="S3.SS1.SSSx1.p3.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.SSSx1.p3.4.m4.1.1.2.cmml" xref="S3.SS1.SSSx1.p3.4.m4.1.1.2">𝑇</ci><ci id="S3.SS1.SSSx1.p3.4.m4.1.1.3.cmml" xref="S3.SS1.SSSx1.p3.4.m4.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx1.p3.4.m4.1c">T_{s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx1.p3.4.m4.1d">italic_T start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>; <math alttext="m" class="ltx_Math" display="inline" id="S3.SS1.SSSx1.p3.5.m5.1"><semantics id="S3.SS1.SSSx1.p3.5.m5.1a"><mi id="S3.SS1.SSSx1.p3.5.m5.1.1" xref="S3.SS1.SSSx1.p3.5.m5.1.1.cmml">m</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx1.p3.5.m5.1b"><ci id="S3.SS1.SSSx1.p3.5.m5.1.1.cmml" xref="S3.SS1.SSSx1.p3.5.m5.1.1">𝑚</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx1.p3.5.m5.1c">m</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx1.p3.5.m5.1d">italic_m</annotation></semantics></math> is the threshold for the number of correct predictions required; <math alttext="I[.]" class="ltx_math_unparsed" display="inline" id="S3.SS1.SSSx1.p3.6.m6.1"><semantics id="S3.SS1.SSSx1.p3.6.m6.1a"><mrow id="S3.SS1.SSSx1.p3.6.m6.1b"><mi id="S3.SS1.SSSx1.p3.6.m6.1.1">I</mi><mrow id="S3.SS1.SSSx1.p3.6.m6.1.2"><mo id="S3.SS1.SSSx1.p3.6.m6.1.2.1" stretchy="false">[</mo><mo id="S3.SS1.SSSx1.p3.6.m6.1.2.2" lspace="0em" rspace="0.167em">.</mo><mo id="S3.SS1.SSSx1.p3.6.m6.1.2.3" stretchy="false">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.SS1.SSSx1.p3.6.m6.1c">I[.]</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx1.p3.6.m6.1d">italic_I [ . ]</annotation></semantics></math> is the indicator function, where a result of 1 indicates a ”Good” summary, and 0 indicates a ”Bad” summary.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSSx1.p4">
<p class="ltx_p" id="S3.SS1.SSSx1.p4.1">To evaluate a summarization approach on a generated summary set <math alttext="S" class="ltx_Math" display="inline" id="S3.SS1.SSSx1.p4.1.m1.1"><semantics id="S3.SS1.SSSx1.p4.1.m1.1a"><mi id="S3.SS1.SSSx1.p4.1.m1.1.1" xref="S3.SS1.SSSx1.p4.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx1.p4.1.m1.1b"><ci id="S3.SS1.SSSx1.p4.1.m1.1.1.cmml" xref="S3.SS1.SSSx1.p4.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx1.p4.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx1.p4.1.m1.1d">italic_S</annotation></semantics></math>, the Quality Metric (QM) is calculated as the percentage of summaries classified as ”Good” based on the qualities of these summaries.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSSx1.p5">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx2">
<tbody id="S3.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle QM=\frac{\sum_{s\in S}Q_{s}}{|S|}" class="ltx_Math" display="inline" id="S3.E2.m1.1"><semantics id="S3.E2.m1.1a"><mrow id="S3.E2.m1.1.2" xref="S3.E2.m1.1.2.cmml"><mrow id="S3.E2.m1.1.2.2" xref="S3.E2.m1.1.2.2.cmml"><mi id="S3.E2.m1.1.2.2.2" xref="S3.E2.m1.1.2.2.2.cmml">Q</mi><mo id="S3.E2.m1.1.2.2.1" xref="S3.E2.m1.1.2.2.1.cmml">⁢</mo><mi id="S3.E2.m1.1.2.2.3" xref="S3.E2.m1.1.2.2.3.cmml">M</mi></mrow><mo id="S3.E2.m1.1.2.1" xref="S3.E2.m1.1.2.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml"><mfrac id="S3.E2.m1.1.1a" xref="S3.E2.m1.1.1.cmml"><mrow id="S3.E2.m1.1.1.3" xref="S3.E2.m1.1.1.3.cmml"><msub id="S3.E2.m1.1.1.3.1" xref="S3.E2.m1.1.1.3.1.cmml"><mo id="S3.E2.m1.1.1.3.1.2" xref="S3.E2.m1.1.1.3.1.2.cmml">∑</mo><mrow id="S3.E2.m1.1.1.3.1.3" xref="S3.E2.m1.1.1.3.1.3.cmml"><mi id="S3.E2.m1.1.1.3.1.3.2" xref="S3.E2.m1.1.1.3.1.3.2.cmml">s</mi><mo id="S3.E2.m1.1.1.3.1.3.1" xref="S3.E2.m1.1.1.3.1.3.1.cmml">∈</mo><mi id="S3.E2.m1.1.1.3.1.3.3" xref="S3.E2.m1.1.1.3.1.3.3.cmml">S</mi></mrow></msub><msub id="S3.E2.m1.1.1.3.2" xref="S3.E2.m1.1.1.3.2.cmml"><mi id="S3.E2.m1.1.1.3.2.2" xref="S3.E2.m1.1.1.3.2.2.cmml">Q</mi><mi id="S3.E2.m1.1.1.3.2.3" xref="S3.E2.m1.1.1.3.2.3.cmml">s</mi></msub></mrow><mrow id="S3.E2.m1.1.1.1.3" xref="S3.E2.m1.1.1.1.2.cmml"><mo id="S3.E2.m1.1.1.1.3.1" stretchy="false" xref="S3.E2.m1.1.1.1.2.1.cmml">|</mo><mi id="S3.E2.m1.1.1.1.1" xref="S3.E2.m1.1.1.1.1.cmml">S</mi><mo id="S3.E2.m1.1.1.1.3.2" stretchy="false" xref="S3.E2.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.1b"><apply id="S3.E2.m1.1.2.cmml" xref="S3.E2.m1.1.2"><eq id="S3.E2.m1.1.2.1.cmml" xref="S3.E2.m1.1.2.1"></eq><apply id="S3.E2.m1.1.2.2.cmml" xref="S3.E2.m1.1.2.2"><times id="S3.E2.m1.1.2.2.1.cmml" xref="S3.E2.m1.1.2.2.1"></times><ci id="S3.E2.m1.1.2.2.2.cmml" xref="S3.E2.m1.1.2.2.2">𝑄</ci><ci id="S3.E2.m1.1.2.2.3.cmml" xref="S3.E2.m1.1.2.2.3">𝑀</ci></apply><apply id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1"><divide id="S3.E2.m1.1.1.2.cmml" xref="S3.E2.m1.1.1"></divide><apply id="S3.E2.m1.1.1.3.cmml" xref="S3.E2.m1.1.1.3"><apply id="S3.E2.m1.1.1.3.1.cmml" xref="S3.E2.m1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.1.1.cmml" xref="S3.E2.m1.1.1.3.1">subscript</csymbol><sum id="S3.E2.m1.1.1.3.1.2.cmml" xref="S3.E2.m1.1.1.3.1.2"></sum><apply id="S3.E2.m1.1.1.3.1.3.cmml" xref="S3.E2.m1.1.1.3.1.3"><in id="S3.E2.m1.1.1.3.1.3.1.cmml" xref="S3.E2.m1.1.1.3.1.3.1"></in><ci id="S3.E2.m1.1.1.3.1.3.2.cmml" xref="S3.E2.m1.1.1.3.1.3.2">𝑠</ci><ci id="S3.E2.m1.1.1.3.1.3.3.cmml" xref="S3.E2.m1.1.1.3.1.3.3">𝑆</ci></apply></apply><apply id="S3.E2.m1.1.1.3.2.cmml" xref="S3.E2.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.1.1.3.2.1.cmml" xref="S3.E2.m1.1.1.3.2">subscript</csymbol><ci id="S3.E2.m1.1.1.3.2.2.cmml" xref="S3.E2.m1.1.1.3.2.2">𝑄</ci><ci id="S3.E2.m1.1.1.3.2.3.cmml" xref="S3.E2.m1.1.1.3.2.3">𝑠</ci></apply></apply><apply id="S3.E2.m1.1.1.1.2.cmml" xref="S3.E2.m1.1.1.1.3"><abs id="S3.E2.m1.1.1.1.2.1.cmml" xref="S3.E2.m1.1.1.1.3.1"></abs><ci id="S3.E2.m1.1.1.1.1.cmml" xref="S3.E2.m1.1.1.1.1">𝑆</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.1c">\displaystyle QM=\frac{\sum_{s\in S}Q_{s}}{|S|}</annotation><annotation encoding="application/x-llamapun" id="S3.E2.m1.1d">italic_Q italic_M = divide start_ARG ∑ start_POSTSUBSCRIPT italic_s ∈ italic_S end_POSTSUBSCRIPT italic_Q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_ARG start_ARG | italic_S | end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Instruction Following Metric</h4>
<div class="ltx_para" id="S3.SS1.SSSx2.p1">
<p class="ltx_p" id="S3.SS1.SSSx2.p1.2">The Instruction Following Metric evaluates how well the user summaries adhere to specific constraints, such as a word limit, as introduced in other works <cite class="ltx_cite ltx_citemacro_citep">(Skopek et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib17" title="">2023</a>)</cite>. For a summarization approach, the Instruction Following Metric (IFM) is defined as the proportion of summaries within the set <math alttext="S" class="ltx_Math" display="inline" id="S3.SS1.SSSx2.p1.1.m1.1"><semantics id="S3.SS1.SSSx2.p1.1.m1.1a"><mi id="S3.SS1.SSSx2.p1.1.m1.1.1" xref="S3.SS1.SSSx2.p1.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx2.p1.1.m1.1b"><ci id="S3.SS1.SSSx2.p1.1.m1.1.1.cmml" xref="S3.SS1.SSSx2.p1.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx2.p1.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx2.p1.1.m1.1d">italic_S</annotation></semantics></math> that meet the word limit constraint <math alttext="X" class="ltx_Math" display="inline" id="S3.SS1.SSSx2.p1.2.m2.1"><semantics id="S3.SS1.SSSx2.p1.2.m2.1a"><mi id="S3.SS1.SSSx2.p1.2.m2.1.1" xref="S3.SS1.SSSx2.p1.2.m2.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx2.p1.2.m2.1b"><ci id="S3.SS1.SSSx2.p1.2.m2.1.1.cmml" xref="S3.SS1.SSSx2.p1.2.m2.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx2.p1.2.m2.1c">X</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx2.p1.2.m2.1d">italic_X</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSSx2.p2">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx3">
<tbody id="S3.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle IFM=\frac{|\{s\in S\mid\text{length}(s)\leq X\}|}{|S|}" class="ltx_Math" display="inline" id="S3.E3.m1.3"><semantics id="S3.E3.m1.3a"><mrow id="S3.E3.m1.3.4" xref="S3.E3.m1.3.4.cmml"><mrow id="S3.E3.m1.3.4.2" xref="S3.E3.m1.3.4.2.cmml"><mi id="S3.E3.m1.3.4.2.2" xref="S3.E3.m1.3.4.2.2.cmml">I</mi><mo id="S3.E3.m1.3.4.2.1" xref="S3.E3.m1.3.4.2.1.cmml">⁢</mo><mi id="S3.E3.m1.3.4.2.3" xref="S3.E3.m1.3.4.2.3.cmml">F</mi><mo id="S3.E3.m1.3.4.2.1a" xref="S3.E3.m1.3.4.2.1.cmml">⁢</mo><mi id="S3.E3.m1.3.4.2.4" xref="S3.E3.m1.3.4.2.4.cmml">M</mi></mrow><mo id="S3.E3.m1.3.4.1" xref="S3.E3.m1.3.4.1.cmml">=</mo><mstyle displaystyle="true" id="S3.E3.m1.3.3" xref="S3.E3.m1.3.3.cmml"><mfrac id="S3.E3.m1.3.3a" xref="S3.E3.m1.3.3.cmml"><mrow id="S3.E3.m1.2.2.2.2" xref="S3.E3.m1.2.2.2.3.cmml"><mo id="S3.E3.m1.2.2.2.2.2" stretchy="false" xref="S3.E3.m1.2.2.2.3.1.cmml">|</mo><mrow id="S3.E3.m1.2.2.2.2.1.2" xref="S3.E3.m1.2.2.2.2.1.3.cmml"><mo id="S3.E3.m1.2.2.2.2.1.2.3" stretchy="false" xref="S3.E3.m1.2.2.2.2.1.3.1.cmml">{</mo><mrow id="S3.E3.m1.2.2.2.2.1.1.1" xref="S3.E3.m1.2.2.2.2.1.1.1.cmml"><mi id="S3.E3.m1.2.2.2.2.1.1.1.2" xref="S3.E3.m1.2.2.2.2.1.1.1.2.cmml">s</mi><mo id="S3.E3.m1.2.2.2.2.1.1.1.1" xref="S3.E3.m1.2.2.2.2.1.1.1.1.cmml">∈</mo><mi id="S3.E3.m1.2.2.2.2.1.1.1.3" xref="S3.E3.m1.2.2.2.2.1.1.1.3.cmml">S</mi></mrow><mo fence="true" id="S3.E3.m1.2.2.2.2.1.2.4" lspace="0em" rspace="0em" xref="S3.E3.m1.2.2.2.2.1.3.1.cmml">∣</mo><mrow id="S3.E3.m1.2.2.2.2.1.2.2" xref="S3.E3.m1.2.2.2.2.1.2.2.cmml"><mrow id="S3.E3.m1.2.2.2.2.1.2.2.2" xref="S3.E3.m1.2.2.2.2.1.2.2.2.cmml"><mtext id="S3.E3.m1.2.2.2.2.1.2.2.2.2" xref="S3.E3.m1.2.2.2.2.1.2.2.2.2a.cmml">length</mtext><mo id="S3.E3.m1.2.2.2.2.1.2.2.2.1" xref="S3.E3.m1.2.2.2.2.1.2.2.2.1.cmml">⁢</mo><mrow id="S3.E3.m1.2.2.2.2.1.2.2.2.3.2" xref="S3.E3.m1.2.2.2.2.1.2.2.2.cmml"><mo id="S3.E3.m1.2.2.2.2.1.2.2.2.3.2.1" stretchy="false" xref="S3.E3.m1.2.2.2.2.1.2.2.2.cmml">(</mo><mi id="S3.E3.m1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.cmml">s</mi><mo id="S3.E3.m1.2.2.2.2.1.2.2.2.3.2.2" stretchy="false" xref="S3.E3.m1.2.2.2.2.1.2.2.2.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.2.2.2.2.1.2.2.1" xref="S3.E3.m1.2.2.2.2.1.2.2.1.cmml">≤</mo><mi id="S3.E3.m1.2.2.2.2.1.2.2.3" xref="S3.E3.m1.2.2.2.2.1.2.2.3.cmml">X</mi></mrow><mo id="S3.E3.m1.2.2.2.2.1.2.5" stretchy="false" xref="S3.E3.m1.2.2.2.2.1.3.1.cmml">}</mo></mrow><mo id="S3.E3.m1.2.2.2.2.3" stretchy="false" xref="S3.E3.m1.2.2.2.3.1.cmml">|</mo></mrow><mrow id="S3.E3.m1.3.3.3.3" xref="S3.E3.m1.3.3.3.2.cmml"><mo id="S3.E3.m1.3.3.3.3.1" stretchy="false" xref="S3.E3.m1.3.3.3.2.1.cmml">|</mo><mi id="S3.E3.m1.3.3.3.1" xref="S3.E3.m1.3.3.3.1.cmml">S</mi><mo id="S3.E3.m1.3.3.3.3.2" stretchy="false" xref="S3.E3.m1.3.3.3.2.1.cmml">|</mo></mrow></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.3b"><apply id="S3.E3.m1.3.4.cmml" xref="S3.E3.m1.3.4"><eq id="S3.E3.m1.3.4.1.cmml" xref="S3.E3.m1.3.4.1"></eq><apply id="S3.E3.m1.3.4.2.cmml" xref="S3.E3.m1.3.4.2"><times id="S3.E3.m1.3.4.2.1.cmml" xref="S3.E3.m1.3.4.2.1"></times><ci id="S3.E3.m1.3.4.2.2.cmml" xref="S3.E3.m1.3.4.2.2">𝐼</ci><ci id="S3.E3.m1.3.4.2.3.cmml" xref="S3.E3.m1.3.4.2.3">𝐹</ci><ci id="S3.E3.m1.3.4.2.4.cmml" xref="S3.E3.m1.3.4.2.4">𝑀</ci></apply><apply id="S3.E3.m1.3.3.cmml" xref="S3.E3.m1.3.3"><divide id="S3.E3.m1.3.3.4.cmml" xref="S3.E3.m1.3.3"></divide><apply id="S3.E3.m1.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2"><abs id="S3.E3.m1.2.2.2.3.1.cmml" xref="S3.E3.m1.2.2.2.2.2"></abs><apply id="S3.E3.m1.2.2.2.2.1.3.cmml" xref="S3.E3.m1.2.2.2.2.1.2"><csymbol cd="latexml" id="S3.E3.m1.2.2.2.2.1.3.1.cmml" xref="S3.E3.m1.2.2.2.2.1.2.3">conditional-set</csymbol><apply id="S3.E3.m1.2.2.2.2.1.1.1.cmml" xref="S3.E3.m1.2.2.2.2.1.1.1"><in id="S3.E3.m1.2.2.2.2.1.1.1.1.cmml" xref="S3.E3.m1.2.2.2.2.1.1.1.1"></in><ci id="S3.E3.m1.2.2.2.2.1.1.1.2.cmml" xref="S3.E3.m1.2.2.2.2.1.1.1.2">𝑠</ci><ci id="S3.E3.m1.2.2.2.2.1.1.1.3.cmml" xref="S3.E3.m1.2.2.2.2.1.1.1.3">𝑆</ci></apply><apply id="S3.E3.m1.2.2.2.2.1.2.2.cmml" xref="S3.E3.m1.2.2.2.2.1.2.2"><leq id="S3.E3.m1.2.2.2.2.1.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.1.2.2.1"></leq><apply id="S3.E3.m1.2.2.2.2.1.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.1.2.2.2"><times id="S3.E3.m1.2.2.2.2.1.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.1.2.2.2.1"></times><ci id="S3.E3.m1.2.2.2.2.1.2.2.2.2a.cmml" xref="S3.E3.m1.2.2.2.2.1.2.2.2.2"><mtext id="S3.E3.m1.2.2.2.2.1.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.1.2.2.2.2">length</mtext></ci><ci id="S3.E3.m1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1">𝑠</ci></apply><ci id="S3.E3.m1.2.2.2.2.1.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.1.2.2.3">𝑋</ci></apply></apply></apply><apply id="S3.E3.m1.3.3.3.2.cmml" xref="S3.E3.m1.3.3.3.3"><abs id="S3.E3.m1.3.3.3.2.1.cmml" xref="S3.E3.m1.3.3.3.3.1"></abs><ci id="S3.E3.m1.3.3.3.1.cmml" xref="S3.E3.m1.3.3.3.1">𝑆</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.3c">\displaystyle IFM=\frac{|\{s\in S\mid\text{length}(s)\leq X\}|}{|S|}</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.3d">italic_I italic_F italic_M = divide start_ARG | { italic_s ∈ italic_S ∣ length ( italic_s ) ≤ italic_X } | end_ARG start_ARG | italic_S | end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSSx2.p3">
<p class="ltx_p" id="S3.SS1.SSSx2.p3.1">While this metric was originally proposed in earlier studies, it remains a useful measure for assessing how effectively a summarization approach adheres to the given prompt instructions.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S3.SS1.SSSx3">
<h4 class="ltx_title ltx_title_subsubsection">Information Density Metric</h4>
<div class="ltx_para" id="S3.SS1.SSSx3.p1">
<p class="ltx_p" id="S3.SS1.SSSx3.p1.3">The Information Density Metric assesses the conciseness and informativeness of user summaries, combining elements of both the Quality Metric and the Instruction Following Metric. This metric evaluates the balance between the length of a summary and its effectiveness in predicting future activities. For each summary <math alttext="s" class="ltx_Math" display="inline" id="S3.SS1.SSSx3.p1.1.m1.1"><semantics id="S3.SS1.SSSx3.p1.1.m1.1a"><mi id="S3.SS1.SSSx3.p1.1.m1.1.1" xref="S3.SS1.SSSx3.p1.1.m1.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx3.p1.1.m1.1b"><ci id="S3.SS1.SSSx3.p1.1.m1.1.1.cmml" xref="S3.SS1.SSSx3.p1.1.m1.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx3.p1.1.m1.1c">s</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx3.p1.1.m1.1d">italic_s</annotation></semantics></math> in the set <math alttext="S" class="ltx_Math" display="inline" id="S3.SS1.SSSx3.p1.2.m2.1"><semantics id="S3.SS1.SSSx3.p1.2.m2.1a"><mi id="S3.SS1.SSSx3.p1.2.m2.1.1" xref="S3.SS1.SSSx3.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx3.p1.2.m2.1b"><ci id="S3.SS1.SSSx3.p1.2.m2.1.1.cmml" xref="S3.SS1.SSSx3.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx3.p1.2.m2.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx3.p1.2.m2.1d">italic_S</annotation></semantics></math>, and each associated task set <math alttext="T_{s}" class="ltx_Math" display="inline" id="S3.SS1.SSSx3.p1.3.m3.1"><semantics id="S3.SS1.SSSx3.p1.3.m3.1a"><msub id="S3.SS1.SSSx3.p1.3.m3.1.1" xref="S3.SS1.SSSx3.p1.3.m3.1.1.cmml"><mi id="S3.SS1.SSSx3.p1.3.m3.1.1.2" xref="S3.SS1.SSSx3.p1.3.m3.1.1.2.cmml">T</mi><mi id="S3.SS1.SSSx3.p1.3.m3.1.1.3" xref="S3.SS1.SSSx3.p1.3.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.SSSx3.p1.3.m3.1b"><apply id="S3.SS1.SSSx3.p1.3.m3.1.1.cmml" xref="S3.SS1.SSSx3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.SSSx3.p1.3.m3.1.1.1.cmml" xref="S3.SS1.SSSx3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.SSSx3.p1.3.m3.1.1.2.cmml" xref="S3.SS1.SSSx3.p1.3.m3.1.1.2">𝑇</ci><ci id="S3.SS1.SSSx3.p1.3.m3.1.1.3.cmml" xref="S3.SS1.SSSx3.p1.3.m3.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.SSSx3.p1.3.m3.1c">T_{s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.SSSx3.p1.3.m3.1d">italic_T start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math>, the Information Density Metric (IDM) is calculated by dividing the average task prediction accuracy by the length of the summary.</p>
</div>
<div class="ltx_para" id="S3.SS1.SSSx3.p2">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx4">
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle IDM=\frac{1}{|S|}\sum_{s\in S}\left(\frac{\frac{1}{|T_{s}|}\sum_%
{t\in T_{s}}\text{acc}(t)}{\text{length}(s)}\right)" class="ltx_Math" display="inline" id="S3.E4.m1.4"><semantics id="S3.E4.m1.4a"><mrow id="S3.E4.m1.4.5" xref="S3.E4.m1.4.5.cmml"><mrow id="S3.E4.m1.4.5.2" xref="S3.E4.m1.4.5.2.cmml"><mi id="S3.E4.m1.4.5.2.2" xref="S3.E4.m1.4.5.2.2.cmml">I</mi><mo id="S3.E4.m1.4.5.2.1" xref="S3.E4.m1.4.5.2.1.cmml">⁢</mo><mi id="S3.E4.m1.4.5.2.3" xref="S3.E4.m1.4.5.2.3.cmml">D</mi><mo id="S3.E4.m1.4.5.2.1a" xref="S3.E4.m1.4.5.2.1.cmml">⁢</mo><mi id="S3.E4.m1.4.5.2.4" xref="S3.E4.m1.4.5.2.4.cmml">M</mi></mrow><mo id="S3.E4.m1.4.5.1" xref="S3.E4.m1.4.5.1.cmml">=</mo><mrow id="S3.E4.m1.4.5.3" xref="S3.E4.m1.4.5.3.cmml"><mstyle displaystyle="true" id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml"><mfrac id="S3.E4.m1.1.1a" xref="S3.E4.m1.1.1.cmml"><mn id="S3.E4.m1.1.1.3" xref="S3.E4.m1.1.1.3.cmml">1</mn><mrow id="S3.E4.m1.1.1.1.3" xref="S3.E4.m1.1.1.1.2.cmml"><mo id="S3.E4.m1.1.1.1.3.1" stretchy="false" xref="S3.E4.m1.1.1.1.2.1.cmml">|</mo><mi id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml">S</mi><mo id="S3.E4.m1.1.1.1.3.2" stretchy="false" xref="S3.E4.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mstyle><mo id="S3.E4.m1.4.5.3.1" xref="S3.E4.m1.4.5.3.1.cmml">⁢</mo><mrow id="S3.E4.m1.4.5.3.2" xref="S3.E4.m1.4.5.3.2.cmml"><mstyle displaystyle="true" id="S3.E4.m1.4.5.3.2.1" xref="S3.E4.m1.4.5.3.2.1.cmml"><munder id="S3.E4.m1.4.5.3.2.1a" xref="S3.E4.m1.4.5.3.2.1.cmml"><mo id="S3.E4.m1.4.5.3.2.1.2" movablelimits="false" xref="S3.E4.m1.4.5.3.2.1.2.cmml">∑</mo><mrow id="S3.E4.m1.4.5.3.2.1.3" xref="S3.E4.m1.4.5.3.2.1.3.cmml"><mi id="S3.E4.m1.4.5.3.2.1.3.2" xref="S3.E4.m1.4.5.3.2.1.3.2.cmml">s</mi><mo id="S3.E4.m1.4.5.3.2.1.3.1" xref="S3.E4.m1.4.5.3.2.1.3.1.cmml">∈</mo><mi id="S3.E4.m1.4.5.3.2.1.3.3" xref="S3.E4.m1.4.5.3.2.1.3.3.cmml">S</mi></mrow></munder></mstyle><mrow id="S3.E4.m1.4.5.3.2.2.2" xref="S3.E4.m1.4.4.cmml"><mo id="S3.E4.m1.4.5.3.2.2.2.1" xref="S3.E4.m1.4.4.cmml">(</mo><mstyle displaystyle="true" id="S3.E4.m1.4.4" xref="S3.E4.m1.4.4.cmml"><mfrac id="S3.E4.m1.4.4a" xref="S3.E4.m1.4.4.cmml"><mrow id="S3.E4.m1.3.3.2" xref="S3.E4.m1.3.3.2.cmml"><mfrac id="S3.E4.m1.2.2.1.1" xref="S3.E4.m1.2.2.1.1.cmml"><mn id="S3.E4.m1.2.2.1.1.3" xref="S3.E4.m1.2.2.1.1.3.cmml">1</mn><mrow id="S3.E4.m1.2.2.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.2.cmml"><mo id="S3.E4.m1.2.2.1.1.1.1.2" stretchy="false" xref="S3.E4.m1.2.2.1.1.1.2.1.cmml">|</mo><msub id="S3.E4.m1.2.2.1.1.1.1.1" xref="S3.E4.m1.2.2.1.1.1.1.1.cmml"><mi id="S3.E4.m1.2.2.1.1.1.1.1.2" xref="S3.E4.m1.2.2.1.1.1.1.1.2.cmml">T</mi><mi id="S3.E4.m1.2.2.1.1.1.1.1.3" xref="S3.E4.m1.2.2.1.1.1.1.1.3.cmml">s</mi></msub><mo id="S3.E4.m1.2.2.1.1.1.1.3" stretchy="false" xref="S3.E4.m1.2.2.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S3.E4.m1.3.3.2.3" xref="S3.E4.m1.3.3.2.3.cmml">⁢</mo><mrow id="S3.E4.m1.3.3.2.4" xref="S3.E4.m1.3.3.2.4.cmml"><msub id="S3.E4.m1.3.3.2.4.1" xref="S3.E4.m1.3.3.2.4.1.cmml"><mo id="S3.E4.m1.3.3.2.4.1.2" xref="S3.E4.m1.3.3.2.4.1.2.cmml">∑</mo><mrow id="S3.E4.m1.3.3.2.4.1.3" xref="S3.E4.m1.3.3.2.4.1.3.cmml"><mi id="S3.E4.m1.3.3.2.4.1.3.2" xref="S3.E4.m1.3.3.2.4.1.3.2.cmml">t</mi><mo id="S3.E4.m1.3.3.2.4.1.3.1" xref="S3.E4.m1.3.3.2.4.1.3.1.cmml">∈</mo><msub id="S3.E4.m1.3.3.2.4.1.3.3" xref="S3.E4.m1.3.3.2.4.1.3.3.cmml"><mi id="S3.E4.m1.3.3.2.4.1.3.3.2" xref="S3.E4.m1.3.3.2.4.1.3.3.2.cmml">T</mi><mi id="S3.E4.m1.3.3.2.4.1.3.3.3" xref="S3.E4.m1.3.3.2.4.1.3.3.3.cmml">s</mi></msub></mrow></msub><mrow id="S3.E4.m1.3.3.2.4.2" xref="S3.E4.m1.3.3.2.4.2.cmml"><mtext id="S3.E4.m1.3.3.2.4.2.2" xref="S3.E4.m1.3.3.2.4.2.2a.cmml">acc</mtext><mo id="S3.E4.m1.3.3.2.4.2.1" xref="S3.E4.m1.3.3.2.4.2.1.cmml">⁢</mo><mrow id="S3.E4.m1.3.3.2.4.2.3.2" xref="S3.E4.m1.3.3.2.4.2.cmml"><mo id="S3.E4.m1.3.3.2.4.2.3.2.1" stretchy="false" xref="S3.E4.m1.3.3.2.4.2.cmml">(</mo><mi id="S3.E4.m1.3.3.2.2" xref="S3.E4.m1.3.3.2.2.cmml">t</mi><mo id="S3.E4.m1.3.3.2.4.2.3.2.2" stretchy="false" xref="S3.E4.m1.3.3.2.4.2.cmml">)</mo></mrow></mrow></mrow></mrow><mrow id="S3.E4.m1.4.4.3" xref="S3.E4.m1.4.4.3.cmml"><mtext id="S3.E4.m1.4.4.3.3" xref="S3.E4.m1.4.4.3.3a.cmml">length</mtext><mo id="S3.E4.m1.4.4.3.2" xref="S3.E4.m1.4.4.3.2.cmml">⁢</mo><mrow id="S3.E4.m1.4.4.3.4.2" xref="S3.E4.m1.4.4.3.cmml"><mo id="S3.E4.m1.4.4.3.4.2.1" stretchy="false" xref="S3.E4.m1.4.4.3.cmml">(</mo><mi id="S3.E4.m1.4.4.3.1" xref="S3.E4.m1.4.4.3.1.cmml">s</mi><mo id="S3.E4.m1.4.4.3.4.2.2" stretchy="false" xref="S3.E4.m1.4.4.3.cmml">)</mo></mrow></mrow></mfrac></mstyle><mo id="S3.E4.m1.4.5.3.2.2.2.2" xref="S3.E4.m1.4.4.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.4b"><apply id="S3.E4.m1.4.5.cmml" xref="S3.E4.m1.4.5"><eq id="S3.E4.m1.4.5.1.cmml" xref="S3.E4.m1.4.5.1"></eq><apply id="S3.E4.m1.4.5.2.cmml" xref="S3.E4.m1.4.5.2"><times id="S3.E4.m1.4.5.2.1.cmml" xref="S3.E4.m1.4.5.2.1"></times><ci id="S3.E4.m1.4.5.2.2.cmml" xref="S3.E4.m1.4.5.2.2">𝐼</ci><ci id="S3.E4.m1.4.5.2.3.cmml" xref="S3.E4.m1.4.5.2.3">𝐷</ci><ci id="S3.E4.m1.4.5.2.4.cmml" xref="S3.E4.m1.4.5.2.4">𝑀</ci></apply><apply id="S3.E4.m1.4.5.3.cmml" xref="S3.E4.m1.4.5.3"><times id="S3.E4.m1.4.5.3.1.cmml" xref="S3.E4.m1.4.5.3.1"></times><apply id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1"><divide id="S3.E4.m1.1.1.2.cmml" xref="S3.E4.m1.1.1"></divide><cn id="S3.E4.m1.1.1.3.cmml" type="integer" xref="S3.E4.m1.1.1.3">1</cn><apply id="S3.E4.m1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.3"><abs id="S3.E4.m1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.3.1"></abs><ci id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1">𝑆</ci></apply></apply><apply id="S3.E4.m1.4.5.3.2.cmml" xref="S3.E4.m1.4.5.3.2"><apply id="S3.E4.m1.4.5.3.2.1.cmml" xref="S3.E4.m1.4.5.3.2.1"><csymbol cd="ambiguous" id="S3.E4.m1.4.5.3.2.1.1.cmml" xref="S3.E4.m1.4.5.3.2.1">subscript</csymbol><sum id="S3.E4.m1.4.5.3.2.1.2.cmml" xref="S3.E4.m1.4.5.3.2.1.2"></sum><apply id="S3.E4.m1.4.5.3.2.1.3.cmml" xref="S3.E4.m1.4.5.3.2.1.3"><in id="S3.E4.m1.4.5.3.2.1.3.1.cmml" xref="S3.E4.m1.4.5.3.2.1.3.1"></in><ci id="S3.E4.m1.4.5.3.2.1.3.2.cmml" xref="S3.E4.m1.4.5.3.2.1.3.2">𝑠</ci><ci id="S3.E4.m1.4.5.3.2.1.3.3.cmml" xref="S3.E4.m1.4.5.3.2.1.3.3">𝑆</ci></apply></apply><apply id="S3.E4.m1.4.4.cmml" xref="S3.E4.m1.4.5.3.2.2.2"><divide id="S3.E4.m1.4.4.4.cmml" xref="S3.E4.m1.4.5.3.2.2.2"></divide><apply id="S3.E4.m1.3.3.2.cmml" xref="S3.E4.m1.3.3.2"><times id="S3.E4.m1.3.3.2.3.cmml" xref="S3.E4.m1.3.3.2.3"></times><apply id="S3.E4.m1.2.2.1.1.cmml" xref="S3.E4.m1.2.2.1.1"><divide id="S3.E4.m1.2.2.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1"></divide><cn id="S3.E4.m1.2.2.1.1.3.cmml" type="integer" xref="S3.E4.m1.2.2.1.1.3">1</cn><apply id="S3.E4.m1.2.2.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1"><abs id="S3.E4.m1.2.2.1.1.1.2.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.2"></abs><apply id="S3.E4.m1.2.2.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E4.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.2">𝑇</ci><ci id="S3.E4.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.E4.m1.2.2.1.1.1.1.1.3">𝑠</ci></apply></apply></apply><apply id="S3.E4.m1.3.3.2.4.cmml" xref="S3.E4.m1.3.3.2.4"><apply id="S3.E4.m1.3.3.2.4.1.cmml" xref="S3.E4.m1.3.3.2.4.1"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.2.4.1.1.cmml" xref="S3.E4.m1.3.3.2.4.1">subscript</csymbol><sum id="S3.E4.m1.3.3.2.4.1.2.cmml" xref="S3.E4.m1.3.3.2.4.1.2"></sum><apply id="S3.E4.m1.3.3.2.4.1.3.cmml" xref="S3.E4.m1.3.3.2.4.1.3"><in id="S3.E4.m1.3.3.2.4.1.3.1.cmml" xref="S3.E4.m1.3.3.2.4.1.3.1"></in><ci id="S3.E4.m1.3.3.2.4.1.3.2.cmml" xref="S3.E4.m1.3.3.2.4.1.3.2">𝑡</ci><apply id="S3.E4.m1.3.3.2.4.1.3.3.cmml" xref="S3.E4.m1.3.3.2.4.1.3.3"><csymbol cd="ambiguous" id="S3.E4.m1.3.3.2.4.1.3.3.1.cmml" xref="S3.E4.m1.3.3.2.4.1.3.3">subscript</csymbol><ci id="S3.E4.m1.3.3.2.4.1.3.3.2.cmml" xref="S3.E4.m1.3.3.2.4.1.3.3.2">𝑇</ci><ci id="S3.E4.m1.3.3.2.4.1.3.3.3.cmml" xref="S3.E4.m1.3.3.2.4.1.3.3.3">𝑠</ci></apply></apply></apply><apply id="S3.E4.m1.3.3.2.4.2.cmml" xref="S3.E4.m1.3.3.2.4.2"><times id="S3.E4.m1.3.3.2.4.2.1.cmml" xref="S3.E4.m1.3.3.2.4.2.1"></times><ci id="S3.E4.m1.3.3.2.4.2.2a.cmml" xref="S3.E4.m1.3.3.2.4.2.2"><mtext id="S3.E4.m1.3.3.2.4.2.2.cmml" xref="S3.E4.m1.3.3.2.4.2.2">acc</mtext></ci><ci id="S3.E4.m1.3.3.2.2.cmml" xref="S3.E4.m1.3.3.2.2">𝑡</ci></apply></apply></apply><apply id="S3.E4.m1.4.4.3.cmml" xref="S3.E4.m1.4.4.3"><times id="S3.E4.m1.4.4.3.2.cmml" xref="S3.E4.m1.4.4.3.2"></times><ci id="S3.E4.m1.4.4.3.3a.cmml" xref="S3.E4.m1.4.4.3.3"><mtext id="S3.E4.m1.4.4.3.3.cmml" xref="S3.E4.m1.4.4.3.3">length</mtext></ci><ci id="S3.E4.m1.4.4.3.1.cmml" xref="S3.E4.m1.4.4.3.1">𝑠</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.4c">\displaystyle IDM=\frac{1}{|S|}\sum_{s\in S}\left(\frac{\frac{1}{|T_{s}|}\sum_%
{t\in T_{s}}\text{acc}(t)}{\text{length}(s)}\right)</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.4d">italic_I italic_D italic_M = divide start_ARG 1 end_ARG start_ARG | italic_S | end_ARG ∑ start_POSTSUBSCRIPT italic_s ∈ italic_S end_POSTSUBSCRIPT ( divide start_ARG divide start_ARG 1 end_ARG start_ARG | italic_T start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT | end_ARG ∑ start_POSTSUBSCRIPT italic_t ∈ italic_T start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_POSTSUBSCRIPT acc ( italic_t ) end_ARG start_ARG length ( italic_s ) end_ARG )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS1.SSSx3.p3">
<p class="ltx_p" id="S3.SS1.SSSx3.p3.1">This metric provides a quantitative approach to evaluate the trade-off between informativeness and brevity in user summaries, ensuring that summaries are both concise and meaningful.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Hierarchy-Critique Summary Generation</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1"><span class="ltx_text ltx_font_smallcaps" id="S3.SS2.p1.1.1">UserSumBench</span> introduces a Time-Hierarchical and Self-Critique (Hierarchy-Critique) summarization approach (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.F3" title="Figure 3 ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">3</span></a>(2)), which is demonstrated to outperform a simpler single-step method (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.F3" title="Figure 3 ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">3</span></a>(1), refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS1" title="A.1 LLM Prompt Template for Single-Step Summarization ‣ Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">A.1</span></a> for the prompt details). For more details on this comparison, please refer to Section <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.SS2" title="4.2 Evaluating Summarization Approaches ‣ 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">4.2</span></a>. The Hierarchy-Critique approach is designed to address the challenges of generating factually consistent summaries by mitigating hallucinations while maintaining computational efficiency through a time-hierarchical structure.</p>
</div>
<figure class="ltx_figure" id="S3.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="323" id="S3.F3.g1" src="extracted/5836770/figures/summarization_approaches.png" width="628"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Comparison of summarization approaches: (1) Single-step summarization approach, where a summary is generated directly from the user’s activity history; (2) Time-hierarchical and self-critique summarization approach, which involves segmenting the user’s activity history over time, summarizing each segment, and iteratively refining the summaries before combining them into a final summary.</figcaption>
</figure>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.1">The Hierarchy-Critique approach works by first segmenting a user’s activity history into manageable time intervals, ensuring each segment meets a minimum activity threshold to provide a comprehensive representation of the user’s behavior. This segmentation allows LLMs to process the data efficiently within their context window limits. As depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.F4" title="Figure 4 ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">4</span></a>, the summarizer model generates an initial summary for each segment (refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS2" title="A.2 LLM Prompt Template for Segment Summarization ‣ Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">A.2</span></a>). These segment summaries are then refined by a verifier model <cite class="ltx_cite ltx_citemacro_citep">(Wang et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib19" title="">2023</a>)</cite>, whose role is to identify and correct potential hallucinations (e.g., query inconsistencies, factual inaccuracies), ensuring that each segment accurately reflects the user’s activities. Finally, the refined segment summaries are synthesized into a cohesive summary that encapsulates the user’s overall behavior and preferences (refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS7" title="A.7 LLMs Prompt Template for Combining Time Segments ‣ Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">A.7</span></a>), with all time segments combined in chronological order.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.7.1.1">Algorithm 1</span> </span> Hierarchy-Critique Summary Generation</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel" id="alg1.5"><span class="ltx_text ltx_font_bold" id="alg1.5.1">Input</span>: User activity history <math alttext="\Phi" class="ltx_Math" display="inline" id="alg1.1.m1.1"><semantics id="alg1.1.m1.1a"><mi id="alg1.1.m1.1.1" mathvariant="normal" xref="alg1.1.m1.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="alg1.1.m1.1b"><ci id="alg1.1.m1.1.1.cmml" xref="alg1.1.m1.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.m1.1c">\Phi</annotation><annotation encoding="application/x-llamapun" id="alg1.1.m1.1d">roman_Φ</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="alg1.5.2">Parameter</span>: Time segments <math alttext="\{T_{1},T_{2},\ldots,T_{n}\}" class="ltx_Math" display="inline" id="alg1.2.m2.4"><semantics id="alg1.2.m2.4a"><mrow id="alg1.2.m2.4.4.3" xref="alg1.2.m2.4.4.4.cmml"><mo id="alg1.2.m2.4.4.3.4" stretchy="false" xref="alg1.2.m2.4.4.4.cmml">{</mo><msub id="alg1.2.m2.2.2.1.1" xref="alg1.2.m2.2.2.1.1.cmml"><mi id="alg1.2.m2.2.2.1.1.2" xref="alg1.2.m2.2.2.1.1.2.cmml">T</mi><mn id="alg1.2.m2.2.2.1.1.3" xref="alg1.2.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="alg1.2.m2.4.4.3.5" xref="alg1.2.m2.4.4.4.cmml">,</mo><msub id="alg1.2.m2.3.3.2.2" xref="alg1.2.m2.3.3.2.2.cmml"><mi id="alg1.2.m2.3.3.2.2.2" xref="alg1.2.m2.3.3.2.2.2.cmml">T</mi><mn id="alg1.2.m2.3.3.2.2.3" xref="alg1.2.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="alg1.2.m2.4.4.3.6" xref="alg1.2.m2.4.4.4.cmml">,</mo><mi id="alg1.2.m2.1.1" mathvariant="normal" xref="alg1.2.m2.1.1.cmml">…</mi><mo id="alg1.2.m2.4.4.3.7" xref="alg1.2.m2.4.4.4.cmml">,</mo><msub id="alg1.2.m2.4.4.3.3" xref="alg1.2.m2.4.4.3.3.cmml"><mi id="alg1.2.m2.4.4.3.3.2" xref="alg1.2.m2.4.4.3.3.2.cmml">T</mi><mi id="alg1.2.m2.4.4.3.3.3" xref="alg1.2.m2.4.4.3.3.3.cmml">n</mi></msub><mo id="alg1.2.m2.4.4.3.8" stretchy="false" xref="alg1.2.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.2.m2.4b"><set id="alg1.2.m2.4.4.4.cmml" xref="alg1.2.m2.4.4.3"><apply id="alg1.2.m2.2.2.1.1.cmml" xref="alg1.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.2.m2.2.2.1.1.1.cmml" xref="alg1.2.m2.2.2.1.1">subscript</csymbol><ci id="alg1.2.m2.2.2.1.1.2.cmml" xref="alg1.2.m2.2.2.1.1.2">𝑇</ci><cn id="alg1.2.m2.2.2.1.1.3.cmml" type="integer" xref="alg1.2.m2.2.2.1.1.3">1</cn></apply><apply id="alg1.2.m2.3.3.2.2.cmml" xref="alg1.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="alg1.2.m2.3.3.2.2.1.cmml" xref="alg1.2.m2.3.3.2.2">subscript</csymbol><ci id="alg1.2.m2.3.3.2.2.2.cmml" xref="alg1.2.m2.3.3.2.2.2">𝑇</ci><cn id="alg1.2.m2.3.3.2.2.3.cmml" type="integer" xref="alg1.2.m2.3.3.2.2.3">2</cn></apply><ci id="alg1.2.m2.1.1.cmml" xref="alg1.2.m2.1.1">…</ci><apply id="alg1.2.m2.4.4.3.3.cmml" xref="alg1.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="alg1.2.m2.4.4.3.3.1.cmml" xref="alg1.2.m2.4.4.3.3">subscript</csymbol><ci id="alg1.2.m2.4.4.3.3.2.cmml" xref="alg1.2.m2.4.4.3.3.2">𝑇</ci><ci id="alg1.2.m2.4.4.3.3.3.cmml" xref="alg1.2.m2.4.4.3.3.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.m2.4c">\{T_{1},T_{2},\ldots,T_{n}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.2.m2.4d">{ italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_T start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_T start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>, Summarizer model <math alttext="LLM_{sum}" class="ltx_Math" display="inline" id="alg1.3.m3.1"><semantics id="alg1.3.m3.1a"><mrow id="alg1.3.m3.1.1" xref="alg1.3.m3.1.1.cmml"><mi id="alg1.3.m3.1.1.2" xref="alg1.3.m3.1.1.2.cmml">L</mi><mo id="alg1.3.m3.1.1.1" xref="alg1.3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.3.m3.1.1.3" xref="alg1.3.m3.1.1.3.cmml">L</mi><mo id="alg1.3.m3.1.1.1a" xref="alg1.3.m3.1.1.1.cmml">⁢</mo><msub id="alg1.3.m3.1.1.4" xref="alg1.3.m3.1.1.4.cmml"><mi id="alg1.3.m3.1.1.4.2" xref="alg1.3.m3.1.1.4.2.cmml">M</mi><mrow id="alg1.3.m3.1.1.4.3" xref="alg1.3.m3.1.1.4.3.cmml"><mi id="alg1.3.m3.1.1.4.3.2" xref="alg1.3.m3.1.1.4.3.2.cmml">s</mi><mo id="alg1.3.m3.1.1.4.3.1" xref="alg1.3.m3.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.3.m3.1.1.4.3.3" xref="alg1.3.m3.1.1.4.3.3.cmml">u</mi><mo id="alg1.3.m3.1.1.4.3.1a" xref="alg1.3.m3.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.3.m3.1.1.4.3.4" xref="alg1.3.m3.1.1.4.3.4.cmml">m</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.3.m3.1b"><apply id="alg1.3.m3.1.1.cmml" xref="alg1.3.m3.1.1"><times id="alg1.3.m3.1.1.1.cmml" xref="alg1.3.m3.1.1.1"></times><ci id="alg1.3.m3.1.1.2.cmml" xref="alg1.3.m3.1.1.2">𝐿</ci><ci id="alg1.3.m3.1.1.3.cmml" xref="alg1.3.m3.1.1.3">𝐿</ci><apply id="alg1.3.m3.1.1.4.cmml" xref="alg1.3.m3.1.1.4"><csymbol cd="ambiguous" id="alg1.3.m3.1.1.4.1.cmml" xref="alg1.3.m3.1.1.4">subscript</csymbol><ci id="alg1.3.m3.1.1.4.2.cmml" xref="alg1.3.m3.1.1.4.2">𝑀</ci><apply id="alg1.3.m3.1.1.4.3.cmml" xref="alg1.3.m3.1.1.4.3"><times id="alg1.3.m3.1.1.4.3.1.cmml" xref="alg1.3.m3.1.1.4.3.1"></times><ci id="alg1.3.m3.1.1.4.3.2.cmml" xref="alg1.3.m3.1.1.4.3.2">𝑠</ci><ci id="alg1.3.m3.1.1.4.3.3.cmml" xref="alg1.3.m3.1.1.4.3.3">𝑢</ci><ci id="alg1.3.m3.1.1.4.3.4.cmml" xref="alg1.3.m3.1.1.4.3.4">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.3.m3.1c">LLM_{sum}</annotation><annotation encoding="application/x-llamapun" id="alg1.3.m3.1d">italic_L italic_L italic_M start_POSTSUBSCRIPT italic_s italic_u italic_m end_POSTSUBSCRIPT</annotation></semantics></math>, Verifier model <math alttext="LLM_{ver}" class="ltx_Math" display="inline" id="alg1.4.m4.1"><semantics id="alg1.4.m4.1a"><mrow id="alg1.4.m4.1.1" xref="alg1.4.m4.1.1.cmml"><mi id="alg1.4.m4.1.1.2" xref="alg1.4.m4.1.1.2.cmml">L</mi><mo id="alg1.4.m4.1.1.1" xref="alg1.4.m4.1.1.1.cmml">⁢</mo><mi id="alg1.4.m4.1.1.3" xref="alg1.4.m4.1.1.3.cmml">L</mi><mo id="alg1.4.m4.1.1.1a" xref="alg1.4.m4.1.1.1.cmml">⁢</mo><msub id="alg1.4.m4.1.1.4" xref="alg1.4.m4.1.1.4.cmml"><mi id="alg1.4.m4.1.1.4.2" xref="alg1.4.m4.1.1.4.2.cmml">M</mi><mrow id="alg1.4.m4.1.1.4.3" xref="alg1.4.m4.1.1.4.3.cmml"><mi id="alg1.4.m4.1.1.4.3.2" xref="alg1.4.m4.1.1.4.3.2.cmml">v</mi><mo id="alg1.4.m4.1.1.4.3.1" xref="alg1.4.m4.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.4.m4.1.1.4.3.3" xref="alg1.4.m4.1.1.4.3.3.cmml">e</mi><mo id="alg1.4.m4.1.1.4.3.1a" xref="alg1.4.m4.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.4.m4.1.1.4.3.4" xref="alg1.4.m4.1.1.4.3.4.cmml">r</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.4.m4.1b"><apply id="alg1.4.m4.1.1.cmml" xref="alg1.4.m4.1.1"><times id="alg1.4.m4.1.1.1.cmml" xref="alg1.4.m4.1.1.1"></times><ci id="alg1.4.m4.1.1.2.cmml" xref="alg1.4.m4.1.1.2">𝐿</ci><ci id="alg1.4.m4.1.1.3.cmml" xref="alg1.4.m4.1.1.3">𝐿</ci><apply id="alg1.4.m4.1.1.4.cmml" xref="alg1.4.m4.1.1.4"><csymbol cd="ambiguous" id="alg1.4.m4.1.1.4.1.cmml" xref="alg1.4.m4.1.1.4">subscript</csymbol><ci id="alg1.4.m4.1.1.4.2.cmml" xref="alg1.4.m4.1.1.4.2">𝑀</ci><apply id="alg1.4.m4.1.1.4.3.cmml" xref="alg1.4.m4.1.1.4.3"><times id="alg1.4.m4.1.1.4.3.1.cmml" xref="alg1.4.m4.1.1.4.3.1"></times><ci id="alg1.4.m4.1.1.4.3.2.cmml" xref="alg1.4.m4.1.1.4.3.2">𝑣</ci><ci id="alg1.4.m4.1.1.4.3.3.cmml" xref="alg1.4.m4.1.1.4.3.3">𝑒</ci><ci id="alg1.4.m4.1.1.4.3.4.cmml" xref="alg1.4.m4.1.1.4.3.4">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.4.m4.1c">LLM_{ver}</annotation><annotation encoding="application/x-llamapun" id="alg1.4.m4.1d">italic_L italic_L italic_M start_POSTSUBSCRIPT italic_v italic_e italic_r end_POSTSUBSCRIPT</annotation></semantics></math>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="alg1.5.3">Output</span>: Factually consistent user summary <math alttext="S" class="ltx_Math" display="inline" id="alg1.5.m5.1"><semantics id="alg1.5.m5.1a"><mi id="alg1.5.m5.1.1" xref="alg1.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="alg1.5.m5.1b"><ci id="alg1.5.m5.1.1.cmml" xref="alg1.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.5.m5.1c">S</annotation><annotation encoding="application/x-llamapun" id="alg1.5.m5.1d">italic_S</annotation></semantics></math></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_listing ltx_figure_panel ltx_listing" id="alg1.8">
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_tag ltx_tag_listingline">1:</span>  Divide user activity history <math alttext="\Phi" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mi id="alg1.l1.m1.1.1" mathvariant="normal" xref="alg1.l1.m1.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\Phi</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">roman_Φ</annotation></semantics></math> into time segments <math alttext="\{T_{1},T_{2},\ldots,T_{n}\}" class="ltx_Math" display="inline" id="alg1.l1.m2.4"><semantics id="alg1.l1.m2.4a"><mrow id="alg1.l1.m2.4.4.3" xref="alg1.l1.m2.4.4.4.cmml"><mo id="alg1.l1.m2.4.4.3.4" stretchy="false" xref="alg1.l1.m2.4.4.4.cmml">{</mo><msub id="alg1.l1.m2.2.2.1.1" xref="alg1.l1.m2.2.2.1.1.cmml"><mi id="alg1.l1.m2.2.2.1.1.2" xref="alg1.l1.m2.2.2.1.1.2.cmml">T</mi><mn id="alg1.l1.m2.2.2.1.1.3" xref="alg1.l1.m2.2.2.1.1.3.cmml">1</mn></msub><mo id="alg1.l1.m2.4.4.3.5" xref="alg1.l1.m2.4.4.4.cmml">,</mo><msub id="alg1.l1.m2.3.3.2.2" xref="alg1.l1.m2.3.3.2.2.cmml"><mi id="alg1.l1.m2.3.3.2.2.2" xref="alg1.l1.m2.3.3.2.2.2.cmml">T</mi><mn id="alg1.l1.m2.3.3.2.2.3" xref="alg1.l1.m2.3.3.2.2.3.cmml">2</mn></msub><mo id="alg1.l1.m2.4.4.3.6" xref="alg1.l1.m2.4.4.4.cmml">,</mo><mi id="alg1.l1.m2.1.1" mathvariant="normal" xref="alg1.l1.m2.1.1.cmml">…</mi><mo id="alg1.l1.m2.4.4.3.7" xref="alg1.l1.m2.4.4.4.cmml">,</mo><msub id="alg1.l1.m2.4.4.3.3" xref="alg1.l1.m2.4.4.3.3.cmml"><mi id="alg1.l1.m2.4.4.3.3.2" xref="alg1.l1.m2.4.4.3.3.2.cmml">T</mi><mi id="alg1.l1.m2.4.4.3.3.3" xref="alg1.l1.m2.4.4.3.3.3.cmml">n</mi></msub><mo id="alg1.l1.m2.4.4.3.8" stretchy="false" xref="alg1.l1.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.4b"><set id="alg1.l1.m2.4.4.4.cmml" xref="alg1.l1.m2.4.4.3"><apply id="alg1.l1.m2.2.2.1.1.cmml" xref="alg1.l1.m2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l1.m2.2.2.1.1.1.cmml" xref="alg1.l1.m2.2.2.1.1">subscript</csymbol><ci id="alg1.l1.m2.2.2.1.1.2.cmml" xref="alg1.l1.m2.2.2.1.1.2">𝑇</ci><cn id="alg1.l1.m2.2.2.1.1.3.cmml" type="integer" xref="alg1.l1.m2.2.2.1.1.3">1</cn></apply><apply id="alg1.l1.m2.3.3.2.2.cmml" xref="alg1.l1.m2.3.3.2.2"><csymbol cd="ambiguous" id="alg1.l1.m2.3.3.2.2.1.cmml" xref="alg1.l1.m2.3.3.2.2">subscript</csymbol><ci id="alg1.l1.m2.3.3.2.2.2.cmml" xref="alg1.l1.m2.3.3.2.2.2">𝑇</ci><cn id="alg1.l1.m2.3.3.2.2.3.cmml" type="integer" xref="alg1.l1.m2.3.3.2.2.3">2</cn></apply><ci id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">…</ci><apply id="alg1.l1.m2.4.4.3.3.cmml" xref="alg1.l1.m2.4.4.3.3"><csymbol cd="ambiguous" id="alg1.l1.m2.4.4.3.3.1.cmml" xref="alg1.l1.m2.4.4.3.3">subscript</csymbol><ci id="alg1.l1.m2.4.4.3.3.2.cmml" xref="alg1.l1.m2.4.4.3.3.2">𝑇</ci><ci id="alg1.l1.m2.4.4.3.3.3.cmml" xref="alg1.l1.m2.4.4.3.3.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.4c">\{T_{1},T_{2},\ldots,T_{n}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m2.4d">{ italic_T start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_T start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_T start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l2">
<span class="ltx_tag ltx_tag_listingline">2:</span>  <span class="ltx_text ltx_font_bold" id="alg1.l2.1">for</span> each time segment <math alttext="T_{i}" class="ltx_Math" display="inline" id="alg1.l2.m1.1"><semantics id="alg1.l2.m1.1a"><msub id="alg1.l2.m1.1.1" xref="alg1.l2.m1.1.1.cmml"><mi id="alg1.l2.m1.1.1.2" xref="alg1.l2.m1.1.1.2.cmml">T</mi><mi id="alg1.l2.m1.1.1.3" xref="alg1.l2.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.1b"><apply id="alg1.l2.m1.1.1.cmml" xref="alg1.l2.m1.1.1"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.cmml" xref="alg1.l2.m1.1.1">subscript</csymbol><ci id="alg1.l2.m1.1.1.2.cmml" xref="alg1.l2.m1.1.1.2">𝑇</ci><ci id="alg1.l2.m1.1.1.3.cmml" xref="alg1.l2.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.1c">T_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.1d">italic_T start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l2.2">do</span>
</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_tag ltx_tag_listingline">3:</span>     Generate initial summary <math alttext="S_{i}" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><msub id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><mi id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">S</mi><mi id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1">subscript</csymbol><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">𝑆</ci><ci id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">S_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_S start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> for segment <math alttext="T_{i}" class="ltx_Math" display="inline" id="alg1.l3.m2.1"><semantics id="alg1.l3.m2.1a"><msub id="alg1.l3.m2.1.1" xref="alg1.l3.m2.1.1.cmml"><mi id="alg1.l3.m2.1.1.2" xref="alg1.l3.m2.1.1.2.cmml">T</mi><mi id="alg1.l3.m2.1.1.3" xref="alg1.l3.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l3.m2.1b"><apply id="alg1.l3.m2.1.1.cmml" xref="alg1.l3.m2.1.1"><csymbol cd="ambiguous" id="alg1.l3.m2.1.1.1.cmml" xref="alg1.l3.m2.1.1">subscript</csymbol><ci id="alg1.l3.m2.1.1.2.cmml" xref="alg1.l3.m2.1.1.2">𝑇</ci><ci id="alg1.l3.m2.1.1.3.cmml" xref="alg1.l3.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m2.1c">T_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m2.1d">italic_T start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> using <math alttext="LLM_{sum}" class="ltx_Math" display="inline" id="alg1.l3.m3.1"><semantics id="alg1.l3.m3.1a"><mrow id="alg1.l3.m3.1.1" xref="alg1.l3.m3.1.1.cmml"><mi id="alg1.l3.m3.1.1.2" xref="alg1.l3.m3.1.1.2.cmml">L</mi><mo id="alg1.l3.m3.1.1.1" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.3" xref="alg1.l3.m3.1.1.3.cmml">L</mi><mo id="alg1.l3.m3.1.1.1a" xref="alg1.l3.m3.1.1.1.cmml">⁢</mo><msub id="alg1.l3.m3.1.1.4" xref="alg1.l3.m3.1.1.4.cmml"><mi id="alg1.l3.m3.1.1.4.2" xref="alg1.l3.m3.1.1.4.2.cmml">M</mi><mrow id="alg1.l3.m3.1.1.4.3" xref="alg1.l3.m3.1.1.4.3.cmml"><mi id="alg1.l3.m3.1.1.4.3.2" xref="alg1.l3.m3.1.1.4.3.2.cmml">s</mi><mo id="alg1.l3.m3.1.1.4.3.1" xref="alg1.l3.m3.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.4.3.3" xref="alg1.l3.m3.1.1.4.3.3.cmml">u</mi><mo id="alg1.l3.m3.1.1.4.3.1a" xref="alg1.l3.m3.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.l3.m3.1.1.4.3.4" xref="alg1.l3.m3.1.1.4.3.4.cmml">m</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m3.1b"><apply id="alg1.l3.m3.1.1.cmml" xref="alg1.l3.m3.1.1"><times id="alg1.l3.m3.1.1.1.cmml" xref="alg1.l3.m3.1.1.1"></times><ci id="alg1.l3.m3.1.1.2.cmml" xref="alg1.l3.m3.1.1.2">𝐿</ci><ci id="alg1.l3.m3.1.1.3.cmml" xref="alg1.l3.m3.1.1.3">𝐿</ci><apply id="alg1.l3.m3.1.1.4.cmml" xref="alg1.l3.m3.1.1.4"><csymbol cd="ambiguous" id="alg1.l3.m3.1.1.4.1.cmml" xref="alg1.l3.m3.1.1.4">subscript</csymbol><ci id="alg1.l3.m3.1.1.4.2.cmml" xref="alg1.l3.m3.1.1.4.2">𝑀</ci><apply id="alg1.l3.m3.1.1.4.3.cmml" xref="alg1.l3.m3.1.1.4.3"><times id="alg1.l3.m3.1.1.4.3.1.cmml" xref="alg1.l3.m3.1.1.4.3.1"></times><ci id="alg1.l3.m3.1.1.4.3.2.cmml" xref="alg1.l3.m3.1.1.4.3.2">𝑠</ci><ci id="alg1.l3.m3.1.1.4.3.3.cmml" xref="alg1.l3.m3.1.1.4.3.3">𝑢</ci><ci id="alg1.l3.m3.1.1.4.3.4.cmml" xref="alg1.l3.m3.1.1.4.3.4">𝑚</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m3.1c">LLM_{sum}</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m3.1d">italic_L italic_L italic_M start_POSTSUBSCRIPT italic_s italic_u italic_m end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l4">
<span class="ltx_tag ltx_tag_listingline">4:</span>     Refine <math alttext="S_{i}" class="ltx_Math" display="inline" id="alg1.l4.m1.1"><semantics id="alg1.l4.m1.1a"><msub id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><mi id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml">S</mi><mi id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2">𝑆</ci><ci id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">S_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.1d">italic_S start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> using <math alttext="LLM_{ver}" class="ltx_Math" display="inline" id="alg1.l4.m2.1"><semantics id="alg1.l4.m2.1a"><mrow id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><mi id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml">L</mi><mo id="alg1.l4.m2.1.1.1" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml">L</mi><mo id="alg1.l4.m2.1.1.1a" xref="alg1.l4.m2.1.1.1.cmml">⁢</mo><msub id="alg1.l4.m2.1.1.4" xref="alg1.l4.m2.1.1.4.cmml"><mi id="alg1.l4.m2.1.1.4.2" xref="alg1.l4.m2.1.1.4.2.cmml">M</mi><mrow id="alg1.l4.m2.1.1.4.3" xref="alg1.l4.m2.1.1.4.3.cmml"><mi id="alg1.l4.m2.1.1.4.3.2" xref="alg1.l4.m2.1.1.4.3.2.cmml">v</mi><mo id="alg1.l4.m2.1.1.4.3.1" xref="alg1.l4.m2.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.4.3.3" xref="alg1.l4.m2.1.1.4.3.3.cmml">e</mi><mo id="alg1.l4.m2.1.1.4.3.1a" xref="alg1.l4.m2.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.4.3.4" xref="alg1.l4.m2.1.1.4.3.4.cmml">r</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><times id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1.1"></times><ci id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2">𝐿</ci><ci id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3">𝐿</ci><apply id="alg1.l4.m2.1.1.4.cmml" xref="alg1.l4.m2.1.1.4"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.4.1.cmml" xref="alg1.l4.m2.1.1.4">subscript</csymbol><ci id="alg1.l4.m2.1.1.4.2.cmml" xref="alg1.l4.m2.1.1.4.2">𝑀</ci><apply id="alg1.l4.m2.1.1.4.3.cmml" xref="alg1.l4.m2.1.1.4.3"><times id="alg1.l4.m2.1.1.4.3.1.cmml" xref="alg1.l4.m2.1.1.4.3.1"></times><ci id="alg1.l4.m2.1.1.4.3.2.cmml" xref="alg1.l4.m2.1.1.4.3.2">𝑣</ci><ci id="alg1.l4.m2.1.1.4.3.3.cmml" xref="alg1.l4.m2.1.1.4.3.3">𝑒</ci><ci id="alg1.l4.m2.1.1.4.3.4.cmml" xref="alg1.l4.m2.1.1.4.3.4">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">LLM_{ver}</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m2.1d">italic_L italic_L italic_M start_POSTSUBSCRIPT italic_v italic_e italic_r end_POSTSUBSCRIPT</annotation></semantics></math>:

</div>
<div class="ltx_listingline" id="alg1.l5">
<span class="ltx_tag ltx_tag_listingline">5:</span>      Identify and correct <span class="ltx_text ltx_font_bold" id="alg1.l5.1">Query Inconsistency</span>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_tag ltx_tag_listingline">6:</span>      Identify and correct <span class="ltx_text ltx_font_bold" id="alg1.l6.1">Fact Inconsistency</span>:

</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_tag ltx_tag_listingline">7:</span>       Extract key KG entities <math alttext="\{e_{i,1},e_{i,2},\ldots,e_{i,k}\}" class="ltx_Math" display="inline" id="alg1.l7.m1.10"><semantics id="alg1.l7.m1.10a"><mrow id="alg1.l7.m1.10.10.3" xref="alg1.l7.m1.10.10.4.cmml"><mo id="alg1.l7.m1.10.10.3.4" stretchy="false" xref="alg1.l7.m1.10.10.4.cmml">{</mo><msub id="alg1.l7.m1.8.8.1.1" xref="alg1.l7.m1.8.8.1.1.cmml"><mi id="alg1.l7.m1.8.8.1.1.2" xref="alg1.l7.m1.8.8.1.1.2.cmml">e</mi><mrow id="alg1.l7.m1.2.2.2.4" xref="alg1.l7.m1.2.2.2.3.cmml"><mi id="alg1.l7.m1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l7.m1.2.2.2.4.1" xref="alg1.l7.m1.2.2.2.3.cmml">,</mo><mn id="alg1.l7.m1.2.2.2.2" xref="alg1.l7.m1.2.2.2.2.cmml">1</mn></mrow></msub><mo id="alg1.l7.m1.10.10.3.5" xref="alg1.l7.m1.10.10.4.cmml">,</mo><msub id="alg1.l7.m1.9.9.2.2" xref="alg1.l7.m1.9.9.2.2.cmml"><mi id="alg1.l7.m1.9.9.2.2.2" xref="alg1.l7.m1.9.9.2.2.2.cmml">e</mi><mrow id="alg1.l7.m1.4.4.2.4" xref="alg1.l7.m1.4.4.2.3.cmml"><mi id="alg1.l7.m1.3.3.1.1" xref="alg1.l7.m1.3.3.1.1.cmml">i</mi><mo id="alg1.l7.m1.4.4.2.4.1" xref="alg1.l7.m1.4.4.2.3.cmml">,</mo><mn id="alg1.l7.m1.4.4.2.2" xref="alg1.l7.m1.4.4.2.2.cmml">2</mn></mrow></msub><mo id="alg1.l7.m1.10.10.3.6" xref="alg1.l7.m1.10.10.4.cmml">,</mo><mi id="alg1.l7.m1.7.7" mathvariant="normal" xref="alg1.l7.m1.7.7.cmml">…</mi><mo id="alg1.l7.m1.10.10.3.7" xref="alg1.l7.m1.10.10.4.cmml">,</mo><msub id="alg1.l7.m1.10.10.3.3" xref="alg1.l7.m1.10.10.3.3.cmml"><mi id="alg1.l7.m1.10.10.3.3.2" xref="alg1.l7.m1.10.10.3.3.2.cmml">e</mi><mrow id="alg1.l7.m1.6.6.2.4" xref="alg1.l7.m1.6.6.2.3.cmml"><mi id="alg1.l7.m1.5.5.1.1" xref="alg1.l7.m1.5.5.1.1.cmml">i</mi><mo id="alg1.l7.m1.6.6.2.4.1" xref="alg1.l7.m1.6.6.2.3.cmml">,</mo><mi id="alg1.l7.m1.6.6.2.2" xref="alg1.l7.m1.6.6.2.2.cmml">k</mi></mrow></msub><mo id="alg1.l7.m1.10.10.3.8" stretchy="false" xref="alg1.l7.m1.10.10.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.10b"><set id="alg1.l7.m1.10.10.4.cmml" xref="alg1.l7.m1.10.10.3"><apply id="alg1.l7.m1.8.8.1.1.cmml" xref="alg1.l7.m1.8.8.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.8.8.1.1.1.cmml" xref="alg1.l7.m1.8.8.1.1">subscript</csymbol><ci id="alg1.l7.m1.8.8.1.1.2.cmml" xref="alg1.l7.m1.8.8.1.1.2">𝑒</ci><list id="alg1.l7.m1.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.4"><ci id="alg1.l7.m1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1">𝑖</ci><cn id="alg1.l7.m1.2.2.2.2.cmml" type="integer" xref="alg1.l7.m1.2.2.2.2">1</cn></list></apply><apply id="alg1.l7.m1.9.9.2.2.cmml" xref="alg1.l7.m1.9.9.2.2"><csymbol cd="ambiguous" id="alg1.l7.m1.9.9.2.2.1.cmml" xref="alg1.l7.m1.9.9.2.2">subscript</csymbol><ci id="alg1.l7.m1.9.9.2.2.2.cmml" xref="alg1.l7.m1.9.9.2.2.2">𝑒</ci><list id="alg1.l7.m1.4.4.2.3.cmml" xref="alg1.l7.m1.4.4.2.4"><ci id="alg1.l7.m1.3.3.1.1.cmml" xref="alg1.l7.m1.3.3.1.1">𝑖</ci><cn id="alg1.l7.m1.4.4.2.2.cmml" type="integer" xref="alg1.l7.m1.4.4.2.2">2</cn></list></apply><ci id="alg1.l7.m1.7.7.cmml" xref="alg1.l7.m1.7.7">…</ci><apply id="alg1.l7.m1.10.10.3.3.cmml" xref="alg1.l7.m1.10.10.3.3"><csymbol cd="ambiguous" id="alg1.l7.m1.10.10.3.3.1.cmml" xref="alg1.l7.m1.10.10.3.3">subscript</csymbol><ci id="alg1.l7.m1.10.10.3.3.2.cmml" xref="alg1.l7.m1.10.10.3.3.2">𝑒</ci><list id="alg1.l7.m1.6.6.2.3.cmml" xref="alg1.l7.m1.6.6.2.4"><ci id="alg1.l7.m1.5.5.1.1.cmml" xref="alg1.l7.m1.5.5.1.1">𝑖</ci><ci id="alg1.l7.m1.6.6.2.2.cmml" xref="alg1.l7.m1.6.6.2.2">𝑘</ci></list></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.10c">\{e_{i,1},e_{i,2},\ldots,e_{i,k}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.10d">{ italic_e start_POSTSUBSCRIPT italic_i , 1 end_POSTSUBSCRIPT , italic_e start_POSTSUBSCRIPT italic_i , 2 end_POSTSUBSCRIPT , … , italic_e start_POSTSUBSCRIPT italic_i , italic_k end_POSTSUBSCRIPT }</annotation></semantics></math> from <math alttext="S_{i}" class="ltx_Math" display="inline" id="alg1.l7.m2.1"><semantics id="alg1.l7.m2.1a"><msub id="alg1.l7.m2.1.1" xref="alg1.l7.m2.1.1.cmml"><mi id="alg1.l7.m2.1.1.2" xref="alg1.l7.m2.1.1.2.cmml">S</mi><mi id="alg1.l7.m2.1.1.3" xref="alg1.l7.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l7.m2.1b"><apply id="alg1.l7.m2.1.1.cmml" xref="alg1.l7.m2.1.1"><csymbol cd="ambiguous" id="alg1.l7.m2.1.1.1.cmml" xref="alg1.l7.m2.1.1">subscript</csymbol><ci id="alg1.l7.m2.1.1.2.cmml" xref="alg1.l7.m2.1.1.2">𝑆</ci><ci id="alg1.l7.m2.1.1.3.cmml" xref="alg1.l7.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m2.1c">S_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m2.1d">italic_S start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l8">
<span class="ltx_tag ltx_tag_listingline">8:</span>       Generate question-answer pairs <math alttext="\{(q_{i,1},a_{i,1}),(q_{i,2},a_{i,2}),\ldots,(q_{i,k},a_{i,k})\}" class="ltx_Math" display="inline" id="alg1.l8.m1.16"><semantics id="alg1.l8.m1.16a"><mrow id="alg1.l8.m1.16.16.3" xref="alg1.l8.m1.16.16.4.cmml"><mo id="alg1.l8.m1.16.16.3.4" stretchy="false" xref="alg1.l8.m1.16.16.4.cmml">{</mo><mrow id="alg1.l8.m1.14.14.1.1.2" xref="alg1.l8.m1.14.14.1.1.3.cmml"><mo id="alg1.l8.m1.14.14.1.1.2.3" stretchy="false" xref="alg1.l8.m1.14.14.1.1.3.cmml">(</mo><msub id="alg1.l8.m1.14.14.1.1.1.1" xref="alg1.l8.m1.14.14.1.1.1.1.cmml"><mi id="alg1.l8.m1.14.14.1.1.1.1.2" xref="alg1.l8.m1.14.14.1.1.1.1.2.cmml">q</mi><mrow id="alg1.l8.m1.2.2.2.4" xref="alg1.l8.m1.2.2.2.3.cmml"><mi id="alg1.l8.m1.1.1.1.1" xref="alg1.l8.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l8.m1.2.2.2.4.1" xref="alg1.l8.m1.2.2.2.3.cmml">,</mo><mn id="alg1.l8.m1.2.2.2.2" xref="alg1.l8.m1.2.2.2.2.cmml">1</mn></mrow></msub><mo id="alg1.l8.m1.14.14.1.1.2.4" xref="alg1.l8.m1.14.14.1.1.3.cmml">,</mo><msub id="alg1.l8.m1.14.14.1.1.2.2" xref="alg1.l8.m1.14.14.1.1.2.2.cmml"><mi id="alg1.l8.m1.14.14.1.1.2.2.2" xref="alg1.l8.m1.14.14.1.1.2.2.2.cmml">a</mi><mrow id="alg1.l8.m1.4.4.2.4" xref="alg1.l8.m1.4.4.2.3.cmml"><mi id="alg1.l8.m1.3.3.1.1" xref="alg1.l8.m1.3.3.1.1.cmml">i</mi><mo id="alg1.l8.m1.4.4.2.4.1" xref="alg1.l8.m1.4.4.2.3.cmml">,</mo><mn id="alg1.l8.m1.4.4.2.2" xref="alg1.l8.m1.4.4.2.2.cmml">1</mn></mrow></msub><mo id="alg1.l8.m1.14.14.1.1.2.5" stretchy="false" xref="alg1.l8.m1.14.14.1.1.3.cmml">)</mo></mrow><mo id="alg1.l8.m1.16.16.3.5" xref="alg1.l8.m1.16.16.4.cmml">,</mo><mrow id="alg1.l8.m1.15.15.2.2.2" xref="alg1.l8.m1.15.15.2.2.3.cmml"><mo id="alg1.l8.m1.15.15.2.2.2.3" stretchy="false" xref="alg1.l8.m1.15.15.2.2.3.cmml">(</mo><msub id="alg1.l8.m1.15.15.2.2.1.1" xref="alg1.l8.m1.15.15.2.2.1.1.cmml"><mi id="alg1.l8.m1.15.15.2.2.1.1.2" xref="alg1.l8.m1.15.15.2.2.1.1.2.cmml">q</mi><mrow id="alg1.l8.m1.6.6.2.4" xref="alg1.l8.m1.6.6.2.3.cmml"><mi id="alg1.l8.m1.5.5.1.1" xref="alg1.l8.m1.5.5.1.1.cmml">i</mi><mo id="alg1.l8.m1.6.6.2.4.1" xref="alg1.l8.m1.6.6.2.3.cmml">,</mo><mn id="alg1.l8.m1.6.6.2.2" xref="alg1.l8.m1.6.6.2.2.cmml">2</mn></mrow></msub><mo id="alg1.l8.m1.15.15.2.2.2.4" xref="alg1.l8.m1.15.15.2.2.3.cmml">,</mo><msub id="alg1.l8.m1.15.15.2.2.2.2" xref="alg1.l8.m1.15.15.2.2.2.2.cmml"><mi id="alg1.l8.m1.15.15.2.2.2.2.2" xref="alg1.l8.m1.15.15.2.2.2.2.2.cmml">a</mi><mrow id="alg1.l8.m1.8.8.2.4" xref="alg1.l8.m1.8.8.2.3.cmml"><mi id="alg1.l8.m1.7.7.1.1" xref="alg1.l8.m1.7.7.1.1.cmml">i</mi><mo id="alg1.l8.m1.8.8.2.4.1" xref="alg1.l8.m1.8.8.2.3.cmml">,</mo><mn id="alg1.l8.m1.8.8.2.2" xref="alg1.l8.m1.8.8.2.2.cmml">2</mn></mrow></msub><mo id="alg1.l8.m1.15.15.2.2.2.5" stretchy="false" xref="alg1.l8.m1.15.15.2.2.3.cmml">)</mo></mrow><mo id="alg1.l8.m1.16.16.3.6" xref="alg1.l8.m1.16.16.4.cmml">,</mo><mi id="alg1.l8.m1.13.13" mathvariant="normal" xref="alg1.l8.m1.13.13.cmml">…</mi><mo id="alg1.l8.m1.16.16.3.7" xref="alg1.l8.m1.16.16.4.cmml">,</mo><mrow id="alg1.l8.m1.16.16.3.3.2" xref="alg1.l8.m1.16.16.3.3.3.cmml"><mo id="alg1.l8.m1.16.16.3.3.2.3" stretchy="false" xref="alg1.l8.m1.16.16.3.3.3.cmml">(</mo><msub id="alg1.l8.m1.16.16.3.3.1.1" xref="alg1.l8.m1.16.16.3.3.1.1.cmml"><mi id="alg1.l8.m1.16.16.3.3.1.1.2" xref="alg1.l8.m1.16.16.3.3.1.1.2.cmml">q</mi><mrow id="alg1.l8.m1.10.10.2.4" xref="alg1.l8.m1.10.10.2.3.cmml"><mi id="alg1.l8.m1.9.9.1.1" xref="alg1.l8.m1.9.9.1.1.cmml">i</mi><mo id="alg1.l8.m1.10.10.2.4.1" xref="alg1.l8.m1.10.10.2.3.cmml">,</mo><mi id="alg1.l8.m1.10.10.2.2" xref="alg1.l8.m1.10.10.2.2.cmml">k</mi></mrow></msub><mo id="alg1.l8.m1.16.16.3.3.2.4" xref="alg1.l8.m1.16.16.3.3.3.cmml">,</mo><msub id="alg1.l8.m1.16.16.3.3.2.2" xref="alg1.l8.m1.16.16.3.3.2.2.cmml"><mi id="alg1.l8.m1.16.16.3.3.2.2.2" xref="alg1.l8.m1.16.16.3.3.2.2.2.cmml">a</mi><mrow id="alg1.l8.m1.12.12.2.4" xref="alg1.l8.m1.12.12.2.3.cmml"><mi id="alg1.l8.m1.11.11.1.1" xref="alg1.l8.m1.11.11.1.1.cmml">i</mi><mo id="alg1.l8.m1.12.12.2.4.1" xref="alg1.l8.m1.12.12.2.3.cmml">,</mo><mi id="alg1.l8.m1.12.12.2.2" xref="alg1.l8.m1.12.12.2.2.cmml">k</mi></mrow></msub><mo id="alg1.l8.m1.16.16.3.3.2.5" stretchy="false" xref="alg1.l8.m1.16.16.3.3.3.cmml">)</mo></mrow><mo id="alg1.l8.m1.16.16.3.8" stretchy="false" xref="alg1.l8.m1.16.16.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.16b"><set id="alg1.l8.m1.16.16.4.cmml" xref="alg1.l8.m1.16.16.3"><interval closure="open" id="alg1.l8.m1.14.14.1.1.3.cmml" xref="alg1.l8.m1.14.14.1.1.2"><apply id="alg1.l8.m1.14.14.1.1.1.1.cmml" xref="alg1.l8.m1.14.14.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.14.14.1.1.1.1.1.cmml" xref="alg1.l8.m1.14.14.1.1.1.1">subscript</csymbol><ci id="alg1.l8.m1.14.14.1.1.1.1.2.cmml" xref="alg1.l8.m1.14.14.1.1.1.1.2">𝑞</ci><list id="alg1.l8.m1.2.2.2.3.cmml" xref="alg1.l8.m1.2.2.2.4"><ci id="alg1.l8.m1.1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1.1">𝑖</ci><cn id="alg1.l8.m1.2.2.2.2.cmml" type="integer" xref="alg1.l8.m1.2.2.2.2">1</cn></list></apply><apply id="alg1.l8.m1.14.14.1.1.2.2.cmml" xref="alg1.l8.m1.14.14.1.1.2.2"><csymbol cd="ambiguous" id="alg1.l8.m1.14.14.1.1.2.2.1.cmml" xref="alg1.l8.m1.14.14.1.1.2.2">subscript</csymbol><ci id="alg1.l8.m1.14.14.1.1.2.2.2.cmml" xref="alg1.l8.m1.14.14.1.1.2.2.2">𝑎</ci><list id="alg1.l8.m1.4.4.2.3.cmml" xref="alg1.l8.m1.4.4.2.4"><ci id="alg1.l8.m1.3.3.1.1.cmml" xref="alg1.l8.m1.3.3.1.1">𝑖</ci><cn id="alg1.l8.m1.4.4.2.2.cmml" type="integer" xref="alg1.l8.m1.4.4.2.2">1</cn></list></apply></interval><interval closure="open" id="alg1.l8.m1.15.15.2.2.3.cmml" xref="alg1.l8.m1.15.15.2.2.2"><apply id="alg1.l8.m1.15.15.2.2.1.1.cmml" xref="alg1.l8.m1.15.15.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.15.15.2.2.1.1.1.cmml" xref="alg1.l8.m1.15.15.2.2.1.1">subscript</csymbol><ci id="alg1.l8.m1.15.15.2.2.1.1.2.cmml" xref="alg1.l8.m1.15.15.2.2.1.1.2">𝑞</ci><list id="alg1.l8.m1.6.6.2.3.cmml" xref="alg1.l8.m1.6.6.2.4"><ci id="alg1.l8.m1.5.5.1.1.cmml" xref="alg1.l8.m1.5.5.1.1">𝑖</ci><cn id="alg1.l8.m1.6.6.2.2.cmml" type="integer" xref="alg1.l8.m1.6.6.2.2">2</cn></list></apply><apply id="alg1.l8.m1.15.15.2.2.2.2.cmml" xref="alg1.l8.m1.15.15.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l8.m1.15.15.2.2.2.2.1.cmml" xref="alg1.l8.m1.15.15.2.2.2.2">subscript</csymbol><ci id="alg1.l8.m1.15.15.2.2.2.2.2.cmml" xref="alg1.l8.m1.15.15.2.2.2.2.2">𝑎</ci><list id="alg1.l8.m1.8.8.2.3.cmml" xref="alg1.l8.m1.8.8.2.4"><ci id="alg1.l8.m1.7.7.1.1.cmml" xref="alg1.l8.m1.7.7.1.1">𝑖</ci><cn id="alg1.l8.m1.8.8.2.2.cmml" type="integer" xref="alg1.l8.m1.8.8.2.2">2</cn></list></apply></interval><ci id="alg1.l8.m1.13.13.cmml" xref="alg1.l8.m1.13.13">…</ci><interval closure="open" id="alg1.l8.m1.16.16.3.3.3.cmml" xref="alg1.l8.m1.16.16.3.3.2"><apply id="alg1.l8.m1.16.16.3.3.1.1.cmml" xref="alg1.l8.m1.16.16.3.3.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.16.16.3.3.1.1.1.cmml" xref="alg1.l8.m1.16.16.3.3.1.1">subscript</csymbol><ci id="alg1.l8.m1.16.16.3.3.1.1.2.cmml" xref="alg1.l8.m1.16.16.3.3.1.1.2">𝑞</ci><list id="alg1.l8.m1.10.10.2.3.cmml" xref="alg1.l8.m1.10.10.2.4"><ci id="alg1.l8.m1.9.9.1.1.cmml" xref="alg1.l8.m1.9.9.1.1">𝑖</ci><ci id="alg1.l8.m1.10.10.2.2.cmml" xref="alg1.l8.m1.10.10.2.2">𝑘</ci></list></apply><apply id="alg1.l8.m1.16.16.3.3.2.2.cmml" xref="alg1.l8.m1.16.16.3.3.2.2"><csymbol cd="ambiguous" id="alg1.l8.m1.16.16.3.3.2.2.1.cmml" xref="alg1.l8.m1.16.16.3.3.2.2">subscript</csymbol><ci id="alg1.l8.m1.16.16.3.3.2.2.2.cmml" xref="alg1.l8.m1.16.16.3.3.2.2.2">𝑎</ci><list id="alg1.l8.m1.12.12.2.3.cmml" xref="alg1.l8.m1.12.12.2.4"><ci id="alg1.l8.m1.11.11.1.1.cmml" xref="alg1.l8.m1.11.11.1.1">𝑖</ci><ci id="alg1.l8.m1.12.12.2.2.cmml" xref="alg1.l8.m1.12.12.2.2">𝑘</ci></list></apply></interval></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.16c">\{(q_{i,1},a_{i,1}),(q_{i,2},a_{i,2}),\ldots,(q_{i,k},a_{i,k})\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m1.16d">{ ( italic_q start_POSTSUBSCRIPT italic_i , 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_i , 1 end_POSTSUBSCRIPT ) , ( italic_q start_POSTSUBSCRIPT italic_i , 2 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_i , 2 end_POSTSUBSCRIPT ) , … , ( italic_q start_POSTSUBSCRIPT italic_i , italic_k end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_i , italic_k end_POSTSUBSCRIPT ) }</annotation></semantics></math> using <math alttext="LLM_{ver}" class="ltx_Math" display="inline" id="alg1.l8.m2.1"><semantics id="alg1.l8.m2.1a"><mrow id="alg1.l8.m2.1.1" xref="alg1.l8.m2.1.1.cmml"><mi id="alg1.l8.m2.1.1.2" xref="alg1.l8.m2.1.1.2.cmml">L</mi><mo id="alg1.l8.m2.1.1.1" xref="alg1.l8.m2.1.1.1.cmml">⁢</mo><mi id="alg1.l8.m2.1.1.3" xref="alg1.l8.m2.1.1.3.cmml">L</mi><mo id="alg1.l8.m2.1.1.1a" xref="alg1.l8.m2.1.1.1.cmml">⁢</mo><msub id="alg1.l8.m2.1.1.4" xref="alg1.l8.m2.1.1.4.cmml"><mi id="alg1.l8.m2.1.1.4.2" xref="alg1.l8.m2.1.1.4.2.cmml">M</mi><mrow id="alg1.l8.m2.1.1.4.3" xref="alg1.l8.m2.1.1.4.3.cmml"><mi id="alg1.l8.m2.1.1.4.3.2" xref="alg1.l8.m2.1.1.4.3.2.cmml">v</mi><mo id="alg1.l8.m2.1.1.4.3.1" xref="alg1.l8.m2.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.l8.m2.1.1.4.3.3" xref="alg1.l8.m2.1.1.4.3.3.cmml">e</mi><mo id="alg1.l8.m2.1.1.4.3.1a" xref="alg1.l8.m2.1.1.4.3.1.cmml">⁢</mo><mi id="alg1.l8.m2.1.1.4.3.4" xref="alg1.l8.m2.1.1.4.3.4.cmml">r</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m2.1b"><apply id="alg1.l8.m2.1.1.cmml" xref="alg1.l8.m2.1.1"><times id="alg1.l8.m2.1.1.1.cmml" xref="alg1.l8.m2.1.1.1"></times><ci id="alg1.l8.m2.1.1.2.cmml" xref="alg1.l8.m2.1.1.2">𝐿</ci><ci id="alg1.l8.m2.1.1.3.cmml" xref="alg1.l8.m2.1.1.3">𝐿</ci><apply id="alg1.l8.m2.1.1.4.cmml" xref="alg1.l8.m2.1.1.4"><csymbol cd="ambiguous" id="alg1.l8.m2.1.1.4.1.cmml" xref="alg1.l8.m2.1.1.4">subscript</csymbol><ci id="alg1.l8.m2.1.1.4.2.cmml" xref="alg1.l8.m2.1.1.4.2">𝑀</ci><apply id="alg1.l8.m2.1.1.4.3.cmml" xref="alg1.l8.m2.1.1.4.3"><times id="alg1.l8.m2.1.1.4.3.1.cmml" xref="alg1.l8.m2.1.1.4.3.1"></times><ci id="alg1.l8.m2.1.1.4.3.2.cmml" xref="alg1.l8.m2.1.1.4.3.2">𝑣</ci><ci id="alg1.l8.m2.1.1.4.3.3.cmml" xref="alg1.l8.m2.1.1.4.3.3">𝑒</ci><ci id="alg1.l8.m2.1.1.4.3.4.cmml" xref="alg1.l8.m2.1.1.4.3.4">𝑟</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m2.1c">LLM_{ver}</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m2.1d">italic_L italic_L italic_M start_POSTSUBSCRIPT italic_v italic_e italic_r end_POSTSUBSCRIPT</annotation></semantics></math> on <math alttext="S_{i}" class="ltx_Math" display="inline" id="alg1.l8.m3.1"><semantics id="alg1.l8.m3.1a"><msub id="alg1.l8.m3.1.1" xref="alg1.l8.m3.1.1.cmml"><mi id="alg1.l8.m3.1.1.2" xref="alg1.l8.m3.1.1.2.cmml">S</mi><mi id="alg1.l8.m3.1.1.3" xref="alg1.l8.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l8.m3.1b"><apply id="alg1.l8.m3.1.1.cmml" xref="alg1.l8.m3.1.1"><csymbol cd="ambiguous" id="alg1.l8.m3.1.1.1.cmml" xref="alg1.l8.m3.1.1">subscript</csymbol><ci id="alg1.l8.m3.1.1.2.cmml" xref="alg1.l8.m3.1.1.2">𝑆</ci><ci id="alg1.l8.m3.1.1.3.cmml" xref="alg1.l8.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m3.1c">S_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m3.1d">italic_S start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l9">
<span class="ltx_tag ltx_tag_listingline">9:</span>       Verify consistency of each pair <math alttext="(q_{i,j},a_{i,j})" class="ltx_Math" display="inline" id="alg1.l9.m1.6"><semantics id="alg1.l9.m1.6a"><mrow id="alg1.l9.m1.6.6.2" xref="alg1.l9.m1.6.6.3.cmml"><mo id="alg1.l9.m1.6.6.2.3" stretchy="false" xref="alg1.l9.m1.6.6.3.cmml">(</mo><msub id="alg1.l9.m1.5.5.1.1" xref="alg1.l9.m1.5.5.1.1.cmml"><mi id="alg1.l9.m1.5.5.1.1.2" xref="alg1.l9.m1.5.5.1.1.2.cmml">q</mi><mrow id="alg1.l9.m1.2.2.2.4" xref="alg1.l9.m1.2.2.2.3.cmml"><mi id="alg1.l9.m1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.cmml">i</mi><mo id="alg1.l9.m1.2.2.2.4.1" xref="alg1.l9.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l9.m1.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.cmml">j</mi></mrow></msub><mo id="alg1.l9.m1.6.6.2.4" xref="alg1.l9.m1.6.6.3.cmml">,</mo><msub id="alg1.l9.m1.6.6.2.2" xref="alg1.l9.m1.6.6.2.2.cmml"><mi id="alg1.l9.m1.6.6.2.2.2" xref="alg1.l9.m1.6.6.2.2.2.cmml">a</mi><mrow id="alg1.l9.m1.4.4.2.4" xref="alg1.l9.m1.4.4.2.3.cmml"><mi id="alg1.l9.m1.3.3.1.1" xref="alg1.l9.m1.3.3.1.1.cmml">i</mi><mo id="alg1.l9.m1.4.4.2.4.1" xref="alg1.l9.m1.4.4.2.3.cmml">,</mo><mi id="alg1.l9.m1.4.4.2.2" xref="alg1.l9.m1.4.4.2.2.cmml">j</mi></mrow></msub><mo id="alg1.l9.m1.6.6.2.5" stretchy="false" xref="alg1.l9.m1.6.6.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.6b"><interval closure="open" id="alg1.l9.m1.6.6.3.cmml" xref="alg1.l9.m1.6.6.2"><apply id="alg1.l9.m1.5.5.1.1.cmml" xref="alg1.l9.m1.5.5.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.5.5.1.1.1.cmml" xref="alg1.l9.m1.5.5.1.1">subscript</csymbol><ci id="alg1.l9.m1.5.5.1.1.2.cmml" xref="alg1.l9.m1.5.5.1.1.2">𝑞</ci><list id="alg1.l9.m1.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.4"><ci id="alg1.l9.m1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1">𝑖</ci><ci id="alg1.l9.m1.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2">𝑗</ci></list></apply><apply id="alg1.l9.m1.6.6.2.2.cmml" xref="alg1.l9.m1.6.6.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.6.6.2.2.1.cmml" xref="alg1.l9.m1.6.6.2.2">subscript</csymbol><ci id="alg1.l9.m1.6.6.2.2.2.cmml" xref="alg1.l9.m1.6.6.2.2.2">𝑎</ci><list id="alg1.l9.m1.4.4.2.3.cmml" xref="alg1.l9.m1.4.4.2.4"><ci id="alg1.l9.m1.3.3.1.1.cmml" xref="alg1.l9.m1.3.3.1.1">𝑖</ci><ci id="alg1.l9.m1.4.4.2.2.cmml" xref="alg1.l9.m1.4.4.2.2">𝑗</ci></list></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.6c">(q_{i,j},a_{i,j})</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.6d">( italic_q start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> with user activities <math alttext="\Phi" class="ltx_Math" display="inline" id="alg1.l9.m2.1"><semantics id="alg1.l9.m2.1a"><mi id="alg1.l9.m2.1.1" mathvariant="normal" xref="alg1.l9.m2.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="alg1.l9.m2.1b"><ci id="alg1.l9.m2.1.1.cmml" xref="alg1.l9.m2.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m2.1c">\Phi</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m2.1d">roman_Φ</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l10">
<span class="ltx_tag ltx_tag_listingline">10:</span>       For inconsistent pairs, regenerate <math alttext="S_{i}" class="ltx_Math" display="inline" id="alg1.l10.m1.1"><semantics id="alg1.l10.m1.1a"><msub id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml"><mi id="alg1.l10.m1.1.1.2" xref="alg1.l10.m1.1.1.2.cmml">S</mi><mi id="alg1.l10.m1.1.1.3" xref="alg1.l10.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1">subscript</csymbol><ci id="alg1.l10.m1.1.1.2.cmml" xref="alg1.l10.m1.1.1.2">𝑆</ci><ci id="alg1.l10.m1.1.1.3.cmml" xref="alg1.l10.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">S_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.m1.1d">italic_S start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> incorporating feedback

</div>
<div class="ltx_listingline" id="alg1.l11">
<span class="ltx_tag ltx_tag_listingline">11:</span>  <span class="ltx_text ltx_font_bold" id="alg1.l11.1">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l11.2">for</span>
</div>
<div class="ltx_listingline" id="alg1.l12">
<span class="ltx_tag ltx_tag_listingline">12:</span>  Synthesize segment summaries <math alttext="\{S_{1},S_{2},\ldots,S_{n}\}" class="ltx_Math" display="inline" id="alg1.l12.m1.4"><semantics id="alg1.l12.m1.4a"><mrow id="alg1.l12.m1.4.4.3" xref="alg1.l12.m1.4.4.4.cmml"><mo id="alg1.l12.m1.4.4.3.4" stretchy="false" xref="alg1.l12.m1.4.4.4.cmml">{</mo><msub id="alg1.l12.m1.2.2.1.1" xref="alg1.l12.m1.2.2.1.1.cmml"><mi id="alg1.l12.m1.2.2.1.1.2" xref="alg1.l12.m1.2.2.1.1.2.cmml">S</mi><mn id="alg1.l12.m1.2.2.1.1.3" xref="alg1.l12.m1.2.2.1.1.3.cmml">1</mn></msub><mo id="alg1.l12.m1.4.4.3.5" xref="alg1.l12.m1.4.4.4.cmml">,</mo><msub id="alg1.l12.m1.3.3.2.2" xref="alg1.l12.m1.3.3.2.2.cmml"><mi id="alg1.l12.m1.3.3.2.2.2" xref="alg1.l12.m1.3.3.2.2.2.cmml">S</mi><mn id="alg1.l12.m1.3.3.2.2.3" xref="alg1.l12.m1.3.3.2.2.3.cmml">2</mn></msub><mo id="alg1.l12.m1.4.4.3.6" xref="alg1.l12.m1.4.4.4.cmml">,</mo><mi id="alg1.l12.m1.1.1" mathvariant="normal" xref="alg1.l12.m1.1.1.cmml">…</mi><mo id="alg1.l12.m1.4.4.3.7" xref="alg1.l12.m1.4.4.4.cmml">,</mo><msub id="alg1.l12.m1.4.4.3.3" xref="alg1.l12.m1.4.4.3.3.cmml"><mi id="alg1.l12.m1.4.4.3.3.2" xref="alg1.l12.m1.4.4.3.3.2.cmml">S</mi><mi id="alg1.l12.m1.4.4.3.3.3" xref="alg1.l12.m1.4.4.3.3.3.cmml">n</mi></msub><mo id="alg1.l12.m1.4.4.3.8" stretchy="false" xref="alg1.l12.m1.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.4b"><set id="alg1.l12.m1.4.4.4.cmml" xref="alg1.l12.m1.4.4.3"><apply id="alg1.l12.m1.2.2.1.1.cmml" xref="alg1.l12.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l12.m1.2.2.1.1.1.cmml" xref="alg1.l12.m1.2.2.1.1">subscript</csymbol><ci id="alg1.l12.m1.2.2.1.1.2.cmml" xref="alg1.l12.m1.2.2.1.1.2">𝑆</ci><cn id="alg1.l12.m1.2.2.1.1.3.cmml" type="integer" xref="alg1.l12.m1.2.2.1.1.3">1</cn></apply><apply id="alg1.l12.m1.3.3.2.2.cmml" xref="alg1.l12.m1.3.3.2.2"><csymbol cd="ambiguous" id="alg1.l12.m1.3.3.2.2.1.cmml" xref="alg1.l12.m1.3.3.2.2">subscript</csymbol><ci id="alg1.l12.m1.3.3.2.2.2.cmml" xref="alg1.l12.m1.3.3.2.2.2">𝑆</ci><cn id="alg1.l12.m1.3.3.2.2.3.cmml" type="integer" xref="alg1.l12.m1.3.3.2.2.3">2</cn></apply><ci id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1">…</ci><apply id="alg1.l12.m1.4.4.3.3.cmml" xref="alg1.l12.m1.4.4.3.3"><csymbol cd="ambiguous" id="alg1.l12.m1.4.4.3.3.1.cmml" xref="alg1.l12.m1.4.4.3.3">subscript</csymbol><ci id="alg1.l12.m1.4.4.3.3.2.cmml" xref="alg1.l12.m1.4.4.3.3.2">𝑆</ci><ci id="alg1.l12.m1.4.4.3.3.3.cmml" xref="alg1.l12.m1.4.4.3.3.3">𝑛</ci></apply></set></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.4c">\{S_{1},S_{2},\ldots,S_{n}\}</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m1.4d">{ italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math> into a single cohesive summary <math alttext="S" class="ltx_Math" display="inline" id="alg1.l12.m2.1"><semantics id="alg1.l12.m2.1a"><mi id="alg1.l12.m2.1.1" xref="alg1.l12.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="alg1.l12.m2.1b"><ci id="alg1.l12.m2.1.1.cmml" xref="alg1.l12.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m2.1c">S</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m2.1d">italic_S</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l13">
<span class="ltx_tag ltx_tag_listingline">13:</span>  <span class="ltx_text ltx_font_bold" id="alg1.l13.1">return</span> <math alttext="S" class="ltx_Math" display="inline" id="alg1.l13.m1.1"><semantics id="alg1.l13.m1.1a"><mi id="alg1.l13.m1.1.1" xref="alg1.l13.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="alg1.l13.m1.1b"><ci id="alg1.l13.m1.1.1.cmml" xref="alg1.l13.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l13.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="alg1.l13.m1.1d">italic_S</annotation></semantics></math>
</div>
</div>
</div>
</div>
</figure>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1">As illustrated in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.F4" title="Figure 4 ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">4</span></a>, the Hierarchy-Critique approach employs two LLMs (a summarizer and a verifier) to iteratively refine segment summaries. These LLMs can be the same model or different models, with the verifier focusing on identifying specific types of hallucinations:</p>
</div>
<figure class="ltx_figure" id="S3.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="276" id="S3.F4.g1" src="extracted/5836770/figures/iterative_summarization_refinement.png" width="558"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Diagram of the iterative summarization refinement process, where the LLM Summarizer generates an initial segment summary, which is then iteratively critiqued and refined by the LLM Verifier until an optimized summary is achieved or a specified iteration threshold is met.</figcaption>
</figure>
<div class="ltx_para" id="S3.SS2.p4">
<ul class="ltx_itemize" id="S3.I1">
<li class="ltx_item" id="S3.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i1.p1.1.1">Query Consistency:</span> Ensuring that the summary is relevant to the initial query. The verifier checks for consistency between the query and the summary based on a provided prompt (refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS4" title="A.4 LLMs Prompt Template for Query Consistency ‣ Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">A.4</span></a>).</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S3.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.p1.1.1">Fact Consistency:</span> Ensuring that the information in the generated summary is accurate and consistent with the user’s activities. To identify factual inconsistencies, we propose using the Question Generation - Question Answering (QG-QA) method <cite class="ltx_cite ltx_citemacro_citep">(Xu et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib21" title="">2024</a>)</cite>, which operates on key Knowledge Graph (KG) entities <cite class="ltx_cite ltx_citemacro_citep">(Singhal <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib16" title="">2012</a>)</cite> extracted from the summary. This method involves two components: Question Generation and Question Answering.</p>
</div>
<div class="ltx_para" id="S3.I1.i2.p2">
<ul class="ltx_itemize" id="S3.I1.i2.I1">
<li class="ltx_item" id="S3.I1.i2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.I1.i1.1.1.1">–</span></span>
<div class="ltx_para" id="S3.I1.i2.I1.i1.p1">
<p class="ltx_p" id="S3.I1.i2.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.I1.i1.p1.1.1">Question Generation (QG):</span> Given a summary and an KG entity (e.g., Hiking /m/012v4j) extracted from the summary, the verifier generates a question-answer pair based on the summary context using a user-specified prompt (refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS5" title="A.5 LLMs Prompt Template for Question Generation ‣ Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">A.5</span></a>). The answer is the KG entity.</p>
</div>
</li>
<li class="ltx_item" id="S3.I1.i2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.I1.i2.1.1.1">–</span></span>
<div class="ltx_para" id="S3.I1.i2.I1.i2.p1">
<p class="ltx_p" id="S3.I1.i2.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S3.I1.i2.I1.i2.p1.1.1">Question Answering (QA):</span> The consistency of these question-answer pairs is then verified against the user’s activities using the verifier, guided by a user-specified prompt (refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS6" title="A.6 LLMs Prompt Template for Question Answering ‣ Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">A.6</span></a>).</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S3.I1.i2.p3">
<p class="ltx_p" id="S3.I1.i2.p3.9">Let <math alttext="S" class="ltx_Math" display="inline" id="S3.I1.i2.p3.1.m1.1"><semantics id="S3.I1.i2.p3.1.m1.1a"><mi id="S3.I1.i2.p3.1.m1.1.1" xref="S3.I1.i2.p3.1.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.1.m1.1b"><ci id="S3.I1.i2.p3.1.m1.1.1.cmml" xref="S3.I1.i2.p3.1.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.1.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.1.m1.1d">italic_S</annotation></semantics></math> be the summary candidate based on the retrieved activities <math alttext="\Phi" class="ltx_Math" display="inline" id="S3.I1.i2.p3.2.m2.1"><semantics id="S3.I1.i2.p3.2.m2.1a"><mi id="S3.I1.i2.p3.2.m2.1.1" mathvariant="normal" xref="S3.I1.i2.p3.2.m2.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.2.m2.1b"><ci id="S3.I1.i2.p3.2.m2.1.1.cmml" xref="S3.I1.i2.p3.2.m2.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.2.m2.1c">\Phi</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.2.m2.1d">roman_Φ</annotation></semantics></math>, <math alttext="e_{k}" class="ltx_Math" display="inline" id="S3.I1.i2.p3.3.m3.1"><semantics id="S3.I1.i2.p3.3.m3.1a"><msub id="S3.I1.i2.p3.3.m3.1.1" xref="S3.I1.i2.p3.3.m3.1.1.cmml"><mi id="S3.I1.i2.p3.3.m3.1.1.2" xref="S3.I1.i2.p3.3.m3.1.1.2.cmml">e</mi><mi id="S3.I1.i2.p3.3.m3.1.1.3" xref="S3.I1.i2.p3.3.m3.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.3.m3.1b"><apply id="S3.I1.i2.p3.3.m3.1.1.cmml" xref="S3.I1.i2.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p3.3.m3.1.1.1.cmml" xref="S3.I1.i2.p3.3.m3.1.1">subscript</csymbol><ci id="S3.I1.i2.p3.3.m3.1.1.2.cmml" xref="S3.I1.i2.p3.3.m3.1.1.2">𝑒</ci><ci id="S3.I1.i2.p3.3.m3.1.1.3.cmml" xref="S3.I1.i2.p3.3.m3.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.3.m3.1c">e_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.3.m3.1d">italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> the <math alttext="k" class="ltx_Math" display="inline" id="S3.I1.i2.p3.4.m4.1"><semantics id="S3.I1.i2.p3.4.m4.1a"><mi id="S3.I1.i2.p3.4.m4.1.1" xref="S3.I1.i2.p3.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.4.m4.1b"><ci id="S3.I1.i2.p3.4.m4.1.1.cmml" xref="S3.I1.i2.p3.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.4.m4.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.4.m4.1d">italic_k</annotation></semantics></math>-th KG entity in <math alttext="S" class="ltx_Math" display="inline" id="S3.I1.i2.p3.5.m5.1"><semantics id="S3.I1.i2.p3.5.m5.1a"><mi id="S3.I1.i2.p3.5.m5.1.1" xref="S3.I1.i2.p3.5.m5.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.5.m5.1b"><ci id="S3.I1.i2.p3.5.m5.1.1.cmml" xref="S3.I1.i2.p3.5.m5.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.5.m5.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.5.m5.1d">italic_S</annotation></semantics></math>, <math alttext="(q_{k},a_{k})" class="ltx_Math" display="inline" id="S3.I1.i2.p3.6.m6.2"><semantics id="S3.I1.i2.p3.6.m6.2a"><mrow id="S3.I1.i2.p3.6.m6.2.2.2" xref="S3.I1.i2.p3.6.m6.2.2.3.cmml"><mo id="S3.I1.i2.p3.6.m6.2.2.2.3" stretchy="false" xref="S3.I1.i2.p3.6.m6.2.2.3.cmml">(</mo><msub id="S3.I1.i2.p3.6.m6.1.1.1.1" xref="S3.I1.i2.p3.6.m6.1.1.1.1.cmml"><mi id="S3.I1.i2.p3.6.m6.1.1.1.1.2" xref="S3.I1.i2.p3.6.m6.1.1.1.1.2.cmml">q</mi><mi id="S3.I1.i2.p3.6.m6.1.1.1.1.3" xref="S3.I1.i2.p3.6.m6.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.I1.i2.p3.6.m6.2.2.2.4" xref="S3.I1.i2.p3.6.m6.2.2.3.cmml">,</mo><msub id="S3.I1.i2.p3.6.m6.2.2.2.2" xref="S3.I1.i2.p3.6.m6.2.2.2.2.cmml"><mi id="S3.I1.i2.p3.6.m6.2.2.2.2.2" xref="S3.I1.i2.p3.6.m6.2.2.2.2.2.cmml">a</mi><mi id="S3.I1.i2.p3.6.m6.2.2.2.2.3" xref="S3.I1.i2.p3.6.m6.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.I1.i2.p3.6.m6.2.2.2.5" stretchy="false" xref="S3.I1.i2.p3.6.m6.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.6.m6.2b"><interval closure="open" id="S3.I1.i2.p3.6.m6.2.2.3.cmml" xref="S3.I1.i2.p3.6.m6.2.2.2"><apply id="S3.I1.i2.p3.6.m6.1.1.1.1.cmml" xref="S3.I1.i2.p3.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p3.6.m6.1.1.1.1.1.cmml" xref="S3.I1.i2.p3.6.m6.1.1.1.1">subscript</csymbol><ci id="S3.I1.i2.p3.6.m6.1.1.1.1.2.cmml" xref="S3.I1.i2.p3.6.m6.1.1.1.1.2">𝑞</ci><ci id="S3.I1.i2.p3.6.m6.1.1.1.1.3.cmml" xref="S3.I1.i2.p3.6.m6.1.1.1.1.3">𝑘</ci></apply><apply id="S3.I1.i2.p3.6.m6.2.2.2.2.cmml" xref="S3.I1.i2.p3.6.m6.2.2.2.2"><csymbol cd="ambiguous" id="S3.I1.i2.p3.6.m6.2.2.2.2.1.cmml" xref="S3.I1.i2.p3.6.m6.2.2.2.2">subscript</csymbol><ci id="S3.I1.i2.p3.6.m6.2.2.2.2.2.cmml" xref="S3.I1.i2.p3.6.m6.2.2.2.2.2">𝑎</ci><ci id="S3.I1.i2.p3.6.m6.2.2.2.2.3.cmml" xref="S3.I1.i2.p3.6.m6.2.2.2.2.3">𝑘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.6.m6.2c">(q_{k},a_{k})</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.6.m6.2d">( italic_q start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> its corresponding question-answer pair, and <math alttext="h_{k}" class="ltx_Math" display="inline" id="S3.I1.i2.p3.7.m7.1"><semantics id="S3.I1.i2.p3.7.m7.1a"><msub id="S3.I1.i2.p3.7.m7.1.1" xref="S3.I1.i2.p3.7.m7.1.1.cmml"><mi id="S3.I1.i2.p3.7.m7.1.1.2" xref="S3.I1.i2.p3.7.m7.1.1.2.cmml">h</mi><mi id="S3.I1.i2.p3.7.m7.1.1.3" xref="S3.I1.i2.p3.7.m7.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.7.m7.1b"><apply id="S3.I1.i2.p3.7.m7.1.1.cmml" xref="S3.I1.i2.p3.7.m7.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p3.7.m7.1.1.1.cmml" xref="S3.I1.i2.p3.7.m7.1.1">subscript</csymbol><ci id="S3.I1.i2.p3.7.m7.1.1.2.cmml" xref="S3.I1.i2.p3.7.m7.1.1.2">ℎ</ci><ci id="S3.I1.i2.p3.7.m7.1.1.3.cmml" xref="S3.I1.i2.p3.7.m7.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.7.m7.1c">h_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.7.m7.1d">italic_h start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> the binary result (<span class="ltx_text ltx_font_typewriter" id="S3.I1.i2.p3.9.1">consistent</span>, <span class="ltx_text ltx_font_typewriter" id="S3.I1.i2.p3.9.2">inconsistent</span>) of <math alttext="(q_{k},a_{k})" class="ltx_Math" display="inline" id="S3.I1.i2.p3.8.m8.2"><semantics id="S3.I1.i2.p3.8.m8.2a"><mrow id="S3.I1.i2.p3.8.m8.2.2.2" xref="S3.I1.i2.p3.8.m8.2.2.3.cmml"><mo id="S3.I1.i2.p3.8.m8.2.2.2.3" stretchy="false" xref="S3.I1.i2.p3.8.m8.2.2.3.cmml">(</mo><msub id="S3.I1.i2.p3.8.m8.1.1.1.1" xref="S3.I1.i2.p3.8.m8.1.1.1.1.cmml"><mi id="S3.I1.i2.p3.8.m8.1.1.1.1.2" xref="S3.I1.i2.p3.8.m8.1.1.1.1.2.cmml">q</mi><mi id="S3.I1.i2.p3.8.m8.1.1.1.1.3" xref="S3.I1.i2.p3.8.m8.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.I1.i2.p3.8.m8.2.2.2.4" xref="S3.I1.i2.p3.8.m8.2.2.3.cmml">,</mo><msub id="S3.I1.i2.p3.8.m8.2.2.2.2" xref="S3.I1.i2.p3.8.m8.2.2.2.2.cmml"><mi id="S3.I1.i2.p3.8.m8.2.2.2.2.2" xref="S3.I1.i2.p3.8.m8.2.2.2.2.2.cmml">a</mi><mi id="S3.I1.i2.p3.8.m8.2.2.2.2.3" xref="S3.I1.i2.p3.8.m8.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.I1.i2.p3.8.m8.2.2.2.5" stretchy="false" xref="S3.I1.i2.p3.8.m8.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.8.m8.2b"><interval closure="open" id="S3.I1.i2.p3.8.m8.2.2.3.cmml" xref="S3.I1.i2.p3.8.m8.2.2.2"><apply id="S3.I1.i2.p3.8.m8.1.1.1.1.cmml" xref="S3.I1.i2.p3.8.m8.1.1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p3.8.m8.1.1.1.1.1.cmml" xref="S3.I1.i2.p3.8.m8.1.1.1.1">subscript</csymbol><ci id="S3.I1.i2.p3.8.m8.1.1.1.1.2.cmml" xref="S3.I1.i2.p3.8.m8.1.1.1.1.2">𝑞</ci><ci id="S3.I1.i2.p3.8.m8.1.1.1.1.3.cmml" xref="S3.I1.i2.p3.8.m8.1.1.1.1.3">𝑘</ci></apply><apply id="S3.I1.i2.p3.8.m8.2.2.2.2.cmml" xref="S3.I1.i2.p3.8.m8.2.2.2.2"><csymbol cd="ambiguous" id="S3.I1.i2.p3.8.m8.2.2.2.2.1.cmml" xref="S3.I1.i2.p3.8.m8.2.2.2.2">subscript</csymbol><ci id="S3.I1.i2.p3.8.m8.2.2.2.2.2.cmml" xref="S3.I1.i2.p3.8.m8.2.2.2.2.2">𝑎</ci><ci id="S3.I1.i2.p3.8.m8.2.2.2.2.3.cmml" xref="S3.I1.i2.p3.8.m8.2.2.2.2.3">𝑘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.8.m8.2c">(q_{k},a_{k})</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.8.m8.2d">( italic_q start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> compared to <math alttext="\Phi" class="ltx_Math" display="inline" id="S3.I1.i2.p3.9.m9.1"><semantics id="S3.I1.i2.p3.9.m9.1a"><mi id="S3.I1.i2.p3.9.m9.1.1" mathvariant="normal" xref="S3.I1.i2.p3.9.m9.1.1.cmml">Φ</mi><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p3.9.m9.1b"><ci id="S3.I1.i2.p3.9.m9.1.1.cmml" xref="S3.I1.i2.p3.9.m9.1.1">Φ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p3.9.m9.1c">\Phi</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p3.9.m9.1d">roman_Φ</annotation></semantics></math>. The QG-QA process can be represented by Equations <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.E5" title="In 2nd item ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">5</span></a> and  <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.E6" title="In 2nd item ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div class="ltx_para" id="S3.I1.i2.p4">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx5">
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.E5.2.1.1.1">QG:</span></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\quad\left\{\left(q_{k},a_{k}\right)\right\}=LLM_{QG}\left(S,%
\left\{e_{k}\right\}\right)" class="ltx_Math" display="inline" id="S3.E5.m2.3"><semantics id="S3.E5.m2.3a"><mrow id="S3.E5.m2.3.3" xref="S3.E5.m2.3.3.cmml"><mrow id="S3.E5.m2.2.2.1.1" xref="S3.E5.m2.2.2.1.2.cmml"><mo id="S3.E5.m2.2.2.1.1.2" xref="S3.E5.m2.2.2.1.2.cmml">{</mo><mrow id="S3.E5.m2.2.2.1.1.1.2" xref="S3.E5.m2.2.2.1.1.1.3.cmml"><mo id="S3.E5.m2.2.2.1.1.1.2.3" xref="S3.E5.m2.2.2.1.1.1.3.cmml">(</mo><msub id="S3.E5.m2.2.2.1.1.1.1.1" xref="S3.E5.m2.2.2.1.1.1.1.1.cmml"><mi id="S3.E5.m2.2.2.1.1.1.1.1.2" xref="S3.E5.m2.2.2.1.1.1.1.1.2.cmml">q</mi><mi id="S3.E5.m2.2.2.1.1.1.1.1.3" xref="S3.E5.m2.2.2.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E5.m2.2.2.1.1.1.2.4" xref="S3.E5.m2.2.2.1.1.1.3.cmml">,</mo><msub id="S3.E5.m2.2.2.1.1.1.2.2" xref="S3.E5.m2.2.2.1.1.1.2.2.cmml"><mi id="S3.E5.m2.2.2.1.1.1.2.2.2" xref="S3.E5.m2.2.2.1.1.1.2.2.2.cmml">a</mi><mi id="S3.E5.m2.2.2.1.1.1.2.2.3" xref="S3.E5.m2.2.2.1.1.1.2.2.3.cmml">k</mi></msub><mo id="S3.E5.m2.2.2.1.1.1.2.5" xref="S3.E5.m2.2.2.1.1.1.3.cmml">)</mo></mrow><mo id="S3.E5.m2.2.2.1.1.3" xref="S3.E5.m2.2.2.1.2.cmml">}</mo></mrow><mo id="S3.E5.m2.3.3.3" xref="S3.E5.m2.3.3.3.cmml">=</mo><mrow id="S3.E5.m2.3.3.2" xref="S3.E5.m2.3.3.2.cmml"><mi id="S3.E5.m2.3.3.2.3" xref="S3.E5.m2.3.3.2.3.cmml">L</mi><mo id="S3.E5.m2.3.3.2.2" xref="S3.E5.m2.3.3.2.2.cmml">⁢</mo><mi id="S3.E5.m2.3.3.2.4" xref="S3.E5.m2.3.3.2.4.cmml">L</mi><mo id="S3.E5.m2.3.3.2.2a" xref="S3.E5.m2.3.3.2.2.cmml">⁢</mo><msub id="S3.E5.m2.3.3.2.5" xref="S3.E5.m2.3.3.2.5.cmml"><mi id="S3.E5.m2.3.3.2.5.2" xref="S3.E5.m2.3.3.2.5.2.cmml">M</mi><mrow id="S3.E5.m2.3.3.2.5.3" xref="S3.E5.m2.3.3.2.5.3.cmml"><mi id="S3.E5.m2.3.3.2.5.3.2" xref="S3.E5.m2.3.3.2.5.3.2.cmml">Q</mi><mo id="S3.E5.m2.3.3.2.5.3.1" xref="S3.E5.m2.3.3.2.5.3.1.cmml">⁢</mo><mi id="S3.E5.m2.3.3.2.5.3.3" xref="S3.E5.m2.3.3.2.5.3.3.cmml">G</mi></mrow></msub><mo id="S3.E5.m2.3.3.2.2b" xref="S3.E5.m2.3.3.2.2.cmml">⁢</mo><mrow id="S3.E5.m2.3.3.2.1.1" xref="S3.E5.m2.3.3.2.1.2.cmml"><mo id="S3.E5.m2.3.3.2.1.1.2" xref="S3.E5.m2.3.3.2.1.2.cmml">(</mo><mi id="S3.E5.m2.1.1" xref="S3.E5.m2.1.1.cmml">S</mi><mo id="S3.E5.m2.3.3.2.1.1.3" xref="S3.E5.m2.3.3.2.1.2.cmml">,</mo><mrow id="S3.E5.m2.3.3.2.1.1.1.1" xref="S3.E5.m2.3.3.2.1.1.1.2.cmml"><mo id="S3.E5.m2.3.3.2.1.1.1.1.2" xref="S3.E5.m2.3.3.2.1.1.1.2.cmml">{</mo><msub id="S3.E5.m2.3.3.2.1.1.1.1.1" xref="S3.E5.m2.3.3.2.1.1.1.1.1.cmml"><mi id="S3.E5.m2.3.3.2.1.1.1.1.1.2" xref="S3.E5.m2.3.3.2.1.1.1.1.1.2.cmml">e</mi><mi id="S3.E5.m2.3.3.2.1.1.1.1.1.3" xref="S3.E5.m2.3.3.2.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E5.m2.3.3.2.1.1.1.1.3" xref="S3.E5.m2.3.3.2.1.1.1.2.cmml">}</mo></mrow><mo id="S3.E5.m2.3.3.2.1.1.4" xref="S3.E5.m2.3.3.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m2.3b"><apply id="S3.E5.m2.3.3.cmml" xref="S3.E5.m2.3.3"><eq id="S3.E5.m2.3.3.3.cmml" xref="S3.E5.m2.3.3.3"></eq><set id="S3.E5.m2.2.2.1.2.cmml" xref="S3.E5.m2.2.2.1.1"><interval closure="open" id="S3.E5.m2.2.2.1.1.1.3.cmml" xref="S3.E5.m2.2.2.1.1.1.2"><apply id="S3.E5.m2.2.2.1.1.1.1.1.cmml" xref="S3.E5.m2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m2.2.2.1.1.1.1.1.1.cmml" xref="S3.E5.m2.2.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m2.2.2.1.1.1.1.1.2.cmml" xref="S3.E5.m2.2.2.1.1.1.1.1.2">𝑞</ci><ci id="S3.E5.m2.2.2.1.1.1.1.1.3.cmml" xref="S3.E5.m2.2.2.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.E5.m2.2.2.1.1.1.2.2.cmml" xref="S3.E5.m2.2.2.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m2.2.2.1.1.1.2.2.1.cmml" xref="S3.E5.m2.2.2.1.1.1.2.2">subscript</csymbol><ci id="S3.E5.m2.2.2.1.1.1.2.2.2.cmml" xref="S3.E5.m2.2.2.1.1.1.2.2.2">𝑎</ci><ci id="S3.E5.m2.2.2.1.1.1.2.2.3.cmml" xref="S3.E5.m2.2.2.1.1.1.2.2.3">𝑘</ci></apply></interval></set><apply id="S3.E5.m2.3.3.2.cmml" xref="S3.E5.m2.3.3.2"><times id="S3.E5.m2.3.3.2.2.cmml" xref="S3.E5.m2.3.3.2.2"></times><ci id="S3.E5.m2.3.3.2.3.cmml" xref="S3.E5.m2.3.3.2.3">𝐿</ci><ci id="S3.E5.m2.3.3.2.4.cmml" xref="S3.E5.m2.3.3.2.4">𝐿</ci><apply id="S3.E5.m2.3.3.2.5.cmml" xref="S3.E5.m2.3.3.2.5"><csymbol cd="ambiguous" id="S3.E5.m2.3.3.2.5.1.cmml" xref="S3.E5.m2.3.3.2.5">subscript</csymbol><ci id="S3.E5.m2.3.3.2.5.2.cmml" xref="S3.E5.m2.3.3.2.5.2">𝑀</ci><apply id="S3.E5.m2.3.3.2.5.3.cmml" xref="S3.E5.m2.3.3.2.5.3"><times id="S3.E5.m2.3.3.2.5.3.1.cmml" xref="S3.E5.m2.3.3.2.5.3.1"></times><ci id="S3.E5.m2.3.3.2.5.3.2.cmml" xref="S3.E5.m2.3.3.2.5.3.2">𝑄</ci><ci id="S3.E5.m2.3.3.2.5.3.3.cmml" xref="S3.E5.m2.3.3.2.5.3.3">𝐺</ci></apply></apply><interval closure="open" id="S3.E5.m2.3.3.2.1.2.cmml" xref="S3.E5.m2.3.3.2.1.1"><ci id="S3.E5.m2.1.1.cmml" xref="S3.E5.m2.1.1">𝑆</ci><set id="S3.E5.m2.3.3.2.1.1.1.2.cmml" xref="S3.E5.m2.3.3.2.1.1.1.1"><apply id="S3.E5.m2.3.3.2.1.1.1.1.1.cmml" xref="S3.E5.m2.3.3.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m2.3.3.2.1.1.1.1.1.1.cmml" xref="S3.E5.m2.3.3.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E5.m2.3.3.2.1.1.1.1.1.2.cmml" xref="S3.E5.m2.3.3.2.1.1.1.1.1.2">𝑒</ci><ci id="S3.E5.m2.3.3.2.1.1.1.1.1.3.cmml" xref="S3.E5.m2.3.3.2.1.1.1.1.1.3">𝑘</ci></apply></set></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m2.3c">\displaystyle\quad\left\{\left(q_{k},a_{k}\right)\right\}=LLM_{QG}\left(S,%
\left\{e_{k}\right\}\right)</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m2.3d">{ ( italic_q start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) } = italic_L italic_L italic_M start_POSTSUBSCRIPT italic_Q italic_G end_POSTSUBSCRIPT ( italic_S , { italic_e start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT } )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.I1.i2.p5">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx6">
<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><span class="ltx_text ltx_markedasmath ltx_font_bold" id="S3.E6.2.1.1.1">QA:</span></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\quad\left\{h_{k}\right\}=LLM_{QA}\left(\Phi,\left\{\left(q_{k},a%
_{k}\right)\right\}\right)" class="ltx_Math" display="inline" id="S3.E6.m2.3"><semantics id="S3.E6.m2.3a"><mrow id="S3.E6.m2.3.3" xref="S3.E6.m2.3.3.cmml"><mrow id="S3.E6.m2.2.2.1.1" xref="S3.E6.m2.2.2.1.2.cmml"><mo id="S3.E6.m2.2.2.1.1.2" xref="S3.E6.m2.2.2.1.2.cmml">{</mo><msub id="S3.E6.m2.2.2.1.1.1" xref="S3.E6.m2.2.2.1.1.1.cmml"><mi id="S3.E6.m2.2.2.1.1.1.2" xref="S3.E6.m2.2.2.1.1.1.2.cmml">h</mi><mi id="S3.E6.m2.2.2.1.1.1.3" xref="S3.E6.m2.2.2.1.1.1.3.cmml">k</mi></msub><mo id="S3.E6.m2.2.2.1.1.3" xref="S3.E6.m2.2.2.1.2.cmml">}</mo></mrow><mo id="S3.E6.m2.3.3.3" xref="S3.E6.m2.3.3.3.cmml">=</mo><mrow id="S3.E6.m2.3.3.2" xref="S3.E6.m2.3.3.2.cmml"><mi id="S3.E6.m2.3.3.2.3" xref="S3.E6.m2.3.3.2.3.cmml">L</mi><mo id="S3.E6.m2.3.3.2.2" xref="S3.E6.m2.3.3.2.2.cmml">⁢</mo><mi id="S3.E6.m2.3.3.2.4" xref="S3.E6.m2.3.3.2.4.cmml">L</mi><mo id="S3.E6.m2.3.3.2.2a" xref="S3.E6.m2.3.3.2.2.cmml">⁢</mo><msub id="S3.E6.m2.3.3.2.5" xref="S3.E6.m2.3.3.2.5.cmml"><mi id="S3.E6.m2.3.3.2.5.2" xref="S3.E6.m2.3.3.2.5.2.cmml">M</mi><mrow id="S3.E6.m2.3.3.2.5.3" xref="S3.E6.m2.3.3.2.5.3.cmml"><mi id="S3.E6.m2.3.3.2.5.3.2" xref="S3.E6.m2.3.3.2.5.3.2.cmml">Q</mi><mo id="S3.E6.m2.3.3.2.5.3.1" xref="S3.E6.m2.3.3.2.5.3.1.cmml">⁢</mo><mi id="S3.E6.m2.3.3.2.5.3.3" xref="S3.E6.m2.3.3.2.5.3.3.cmml">A</mi></mrow></msub><mo id="S3.E6.m2.3.3.2.2b" xref="S3.E6.m2.3.3.2.2.cmml">⁢</mo><mrow id="S3.E6.m2.3.3.2.1.1" xref="S3.E6.m2.3.3.2.1.2.cmml"><mo id="S3.E6.m2.3.3.2.1.1.2" xref="S3.E6.m2.3.3.2.1.2.cmml">(</mo><mi id="S3.E6.m2.1.1" mathvariant="normal" xref="S3.E6.m2.1.1.cmml">Φ</mi><mo id="S3.E6.m2.3.3.2.1.1.3" xref="S3.E6.m2.3.3.2.1.2.cmml">,</mo><mrow id="S3.E6.m2.3.3.2.1.1.1.1" xref="S3.E6.m2.3.3.2.1.1.1.2.cmml"><mo id="S3.E6.m2.3.3.2.1.1.1.1.2" xref="S3.E6.m2.3.3.2.1.1.1.2.cmml">{</mo><mrow id="S3.E6.m2.3.3.2.1.1.1.1.1.2" xref="S3.E6.m2.3.3.2.1.1.1.1.1.3.cmml"><mo id="S3.E6.m2.3.3.2.1.1.1.1.1.2.3" xref="S3.E6.m2.3.3.2.1.1.1.1.1.3.cmml">(</mo><msub id="S3.E6.m2.3.3.2.1.1.1.1.1.1.1" xref="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.2" xref="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.2.cmml">q</mi><mi id="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.3" xref="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S3.E6.m2.3.3.2.1.1.1.1.1.2.4" xref="S3.E6.m2.3.3.2.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E6.m2.3.3.2.1.1.1.1.1.2.2" xref="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.cmml"><mi id="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.2" xref="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.2.cmml">a</mi><mi id="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.3" xref="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.3.cmml">k</mi></msub><mo id="S3.E6.m2.3.3.2.1.1.1.1.1.2.5" xref="S3.E6.m2.3.3.2.1.1.1.1.1.3.cmml">)</mo></mrow><mo id="S3.E6.m2.3.3.2.1.1.1.1.3" xref="S3.E6.m2.3.3.2.1.1.1.2.cmml">}</mo></mrow><mo id="S3.E6.m2.3.3.2.1.1.4" xref="S3.E6.m2.3.3.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m2.3b"><apply id="S3.E6.m2.3.3.cmml" xref="S3.E6.m2.3.3"><eq id="S3.E6.m2.3.3.3.cmml" xref="S3.E6.m2.3.3.3"></eq><set id="S3.E6.m2.2.2.1.2.cmml" xref="S3.E6.m2.2.2.1.1"><apply id="S3.E6.m2.2.2.1.1.1.cmml" xref="S3.E6.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m2.2.2.1.1.1.1.cmml" xref="S3.E6.m2.2.2.1.1.1">subscript</csymbol><ci id="S3.E6.m2.2.2.1.1.1.2.cmml" xref="S3.E6.m2.2.2.1.1.1.2">ℎ</ci><ci id="S3.E6.m2.2.2.1.1.1.3.cmml" xref="S3.E6.m2.2.2.1.1.1.3">𝑘</ci></apply></set><apply id="S3.E6.m2.3.3.2.cmml" xref="S3.E6.m2.3.3.2"><times id="S3.E6.m2.3.3.2.2.cmml" xref="S3.E6.m2.3.3.2.2"></times><ci id="S3.E6.m2.3.3.2.3.cmml" xref="S3.E6.m2.3.3.2.3">𝐿</ci><ci id="S3.E6.m2.3.3.2.4.cmml" xref="S3.E6.m2.3.3.2.4">𝐿</ci><apply id="S3.E6.m2.3.3.2.5.cmml" xref="S3.E6.m2.3.3.2.5"><csymbol cd="ambiguous" id="S3.E6.m2.3.3.2.5.1.cmml" xref="S3.E6.m2.3.3.2.5">subscript</csymbol><ci id="S3.E6.m2.3.3.2.5.2.cmml" xref="S3.E6.m2.3.3.2.5.2">𝑀</ci><apply id="S3.E6.m2.3.3.2.5.3.cmml" xref="S3.E6.m2.3.3.2.5.3"><times id="S3.E6.m2.3.3.2.5.3.1.cmml" xref="S3.E6.m2.3.3.2.5.3.1"></times><ci id="S3.E6.m2.3.3.2.5.3.2.cmml" xref="S3.E6.m2.3.3.2.5.3.2">𝑄</ci><ci id="S3.E6.m2.3.3.2.5.3.3.cmml" xref="S3.E6.m2.3.3.2.5.3.3">𝐴</ci></apply></apply><interval closure="open" id="S3.E6.m2.3.3.2.1.2.cmml" xref="S3.E6.m2.3.3.2.1.1"><ci id="S3.E6.m2.1.1.cmml" xref="S3.E6.m2.1.1">Φ</ci><set id="S3.E6.m2.3.3.2.1.1.1.2.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1"><interval closure="open" id="S3.E6.m2.3.3.2.1.1.1.1.1.3.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.2"><apply id="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.2">𝑞</ci><ci id="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.1.1.3">𝑘</ci></apply><apply id="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.1.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.2.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.2">𝑎</ci><ci id="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m2.3.3.2.1.1.1.1.1.2.2.3">𝑘</ci></apply></interval></set></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m2.3c">\displaystyle\quad\left\{h_{k}\right\}=LLM_{QA}\left(\Phi,\left\{\left(q_{k},a%
_{k}\right)\right\}\right)</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m2.3d">{ italic_h start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT } = italic_L italic_L italic_M start_POSTSUBSCRIPT italic_Q italic_A end_POSTSUBSCRIPT ( roman_Φ , { ( italic_q start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) } )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.I1.i2.p6">
<p class="ltx_p" id="S3.I1.i2.p6.1">For any inconsistent question-answer pairs identified by <math alttext="h_{k}" class="ltx_Math" display="inline" id="S3.I1.i2.p6.1.m1.1"><semantics id="S3.I1.i2.p6.1.m1.1a"><msub id="S3.I1.i2.p6.1.m1.1.1" xref="S3.I1.i2.p6.1.m1.1.1.cmml"><mi id="S3.I1.i2.p6.1.m1.1.1.2" xref="S3.I1.i2.p6.1.m1.1.1.2.cmml">h</mi><mi id="S3.I1.i2.p6.1.m1.1.1.3" xref="S3.I1.i2.p6.1.m1.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.I1.i2.p6.1.m1.1b"><apply id="S3.I1.i2.p6.1.m1.1.1.cmml" xref="S3.I1.i2.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.I1.i2.p6.1.m1.1.1.1.cmml" xref="S3.I1.i2.p6.1.m1.1.1">subscript</csymbol><ci id="S3.I1.i2.p6.1.m1.1.1.2.cmml" xref="S3.I1.i2.p6.1.m1.1.1.2">ℎ</ci><ci id="S3.I1.i2.p6.1.m1.1.1.3.cmml" xref="S3.I1.i2.p6.1.m1.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.I1.i2.p6.1.m1.1c">h_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.I1.i2.p6.1.m1.1d">italic_h start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math>, the summary is regenerated by incorporating feedback from these hallucinations into the original prompt (refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS3" title="A.3 LLM Prompt Template for Segment Summarization with Feedback ‣ Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">A.3</span></a>), as described in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.F4" title="Figure 4 ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">4</span></a> and detailed in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#alg1" title="Algorithm 1 ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</li>
</ul>
</div>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Evaluation</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we validate the benchmark metrics and evaluate hierarchy-critique summarization approach within the <span class="ltx_text ltx_font_smallcaps" id="S4.p1.1.1">UserSumBench</span> framework.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Validating Benchmark Metrics</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">To validate the <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.p1.1.1">UserSumBench</span> benchmark metrics, we study their alignment with human ratings on three public user activity datasets: MovieLens 1M <cite class="ltx_cite ltx_citemacro_citep">(Harper and Konstan <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib8" title="">2015</a>)</cite>, Yelp <cite class="ltx_cite ltx_citemacro_citep">(<a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib22" title="">Yelp </a>)</cite>, and Amazon Review <cite class="ltx_cite ltx_citemacro_citep">(Ni, Li, and McAuley <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib12" title="">2019</a>)</cite>.</p>
</div>
<section class="ltx_subsubsection" id="S4.SS1.SSSx1">
<h4 class="ltx_title ltx_title_subsubsection">Datasets and Evaluation Tasks</h4>
<div class="ltx_para" id="S4.SS1.SSSx1.p1">
<p class="ltx_p" id="S4.SS1.SSSx1.p1.1">This section outlines the dataset preparation and the prediction tasks used for evaluation.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx1.p2">
<p class="ltx_p" id="S4.SS1.SSSx1.p2.1">User timelines from the three datasets were filtered based on activity count <math alttext="L_{\Phi}" class="ltx_Math" display="inline" id="S4.SS1.SSSx1.p2.1.m1.1"><semantics id="S4.SS1.SSSx1.p2.1.m1.1a"><msub id="S4.SS1.SSSx1.p2.1.m1.1.1" xref="S4.SS1.SSSx1.p2.1.m1.1.1.cmml"><mi id="S4.SS1.SSSx1.p2.1.m1.1.1.2" xref="S4.SS1.SSSx1.p2.1.m1.1.1.2.cmml">L</mi><mi id="S4.SS1.SSSx1.p2.1.m1.1.1.3" mathvariant="normal" xref="S4.SS1.SSSx1.p2.1.m1.1.1.3.cmml">Φ</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSSx1.p2.1.m1.1b"><apply id="S4.SS1.SSSx1.p2.1.m1.1.1.cmml" xref="S4.SS1.SSSx1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSSx1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.SSSx1.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.SSSx1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.SSSx1.p2.1.m1.1.1.2">𝐿</ci><ci id="S4.SS1.SSSx1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.SSSx1.p2.1.m1.1.1.3">Φ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSSx1.p2.1.m1.1c">L_{\Phi}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSSx1.p2.1.m1.1d">italic_L start_POSTSUBSCRIPT roman_Φ end_POSTSUBSCRIPT</annotation></semantics></math> to ensure a balance between data sufficiency and computational efficiency:</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx1.p3">
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.1"><math alttext="L_{\Phi}\geq N_{low}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.1.m1.1"><semantics id="S4.I1.i1.p1.1.m1.1a"><mrow id="S4.I1.i1.p1.1.m1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.cmml"><msub id="S4.I1.i1.p1.1.m1.1.1.2" xref="S4.I1.i1.p1.1.m1.1.1.2.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.2.2" xref="S4.I1.i1.p1.1.m1.1.1.2.2.cmml">L</mi><mi id="S4.I1.i1.p1.1.m1.1.1.2.3" mathvariant="normal" xref="S4.I1.i1.p1.1.m1.1.1.2.3.cmml">Φ</mi></msub><mo id="S4.I1.i1.p1.1.m1.1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.1.cmml">≥</mo><msub id="S4.I1.i1.p1.1.m1.1.1.3" xref="S4.I1.i1.p1.1.m1.1.1.3.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.3.2" xref="S4.I1.i1.p1.1.m1.1.1.3.2.cmml">N</mi><mrow id="S4.I1.i1.p1.1.m1.1.1.3.3" xref="S4.I1.i1.p1.1.m1.1.1.3.3.cmml"><mi id="S4.I1.i1.p1.1.m1.1.1.3.3.2" xref="S4.I1.i1.p1.1.m1.1.1.3.3.2.cmml">l</mi><mo id="S4.I1.i1.p1.1.m1.1.1.3.3.1" xref="S4.I1.i1.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.3.3" xref="S4.I1.i1.p1.1.m1.1.1.3.3.3.cmml">o</mi><mo id="S4.I1.i1.p1.1.m1.1.1.3.3.1a" xref="S4.I1.i1.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S4.I1.i1.p1.1.m1.1.1.3.3.4" xref="S4.I1.i1.p1.1.m1.1.1.3.3.4.cmml">w</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.1b"><apply id="S4.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1"><geq id="S4.I1.i1.p1.1.m1.1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.1"></geq><apply id="S4.I1.i1.p1.1.m1.1.1.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.1.1.2.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2">subscript</csymbol><ci id="S4.I1.i1.p1.1.m1.1.1.2.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.2">𝐿</ci><ci id="S4.I1.i1.p1.1.m1.1.1.2.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.2.3">Φ</ci></apply><apply id="S4.I1.i1.p1.1.m1.1.1.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.I1.i1.p1.1.m1.1.1.3.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3">subscript</csymbol><ci id="S4.I1.i1.p1.1.m1.1.1.3.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.2">𝑁</ci><apply id="S4.I1.i1.p1.1.m1.1.1.3.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.3"><times id="S4.I1.i1.p1.1.m1.1.1.3.3.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.3.1"></times><ci id="S4.I1.i1.p1.1.m1.1.1.3.3.2.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.3.2">𝑙</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.3.3.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.3.3">𝑜</ci><ci id="S4.I1.i1.p1.1.m1.1.1.3.3.4.cmml" xref="S4.I1.i1.p1.1.m1.1.1.3.3.4">𝑤</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.1c">L_{\Phi}\geq N_{low}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.1.m1.1d">italic_L start_POSTSUBSCRIPT roman_Φ end_POSTSUBSCRIPT ≥ italic_N start_POSTSUBSCRIPT italic_l italic_o italic_w end_POSTSUBSCRIPT</annotation></semantics></math>: Timelines with fewer than 50 activities were excluded to ensure sufficient context for generating robust summaries.</p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.1"><math alttext="L_{\Phi}\leq N_{up}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.1.m1.1"><semantics id="S4.I1.i2.p1.1.m1.1a"><mrow id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml"><msub id="S4.I1.i2.p1.1.m1.1.1.2" xref="S4.I1.i2.p1.1.m1.1.1.2.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.2.2" xref="S4.I1.i2.p1.1.m1.1.1.2.2.cmml">L</mi><mi id="S4.I1.i2.p1.1.m1.1.1.2.3" mathvariant="normal" xref="S4.I1.i2.p1.1.m1.1.1.2.3.cmml">Φ</mi></msub><mo id="S4.I1.i2.p1.1.m1.1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.1.cmml">≤</mo><msub id="S4.I1.i2.p1.1.m1.1.1.3" xref="S4.I1.i2.p1.1.m1.1.1.3.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.3.2" xref="S4.I1.i2.p1.1.m1.1.1.3.2.cmml">N</mi><mrow id="S4.I1.i2.p1.1.m1.1.1.3.3" xref="S4.I1.i2.p1.1.m1.1.1.3.3.cmml"><mi id="S4.I1.i2.p1.1.m1.1.1.3.3.2" xref="S4.I1.i2.p1.1.m1.1.1.3.3.2.cmml">u</mi><mo id="S4.I1.i2.p1.1.m1.1.1.3.3.1" xref="S4.I1.i2.p1.1.m1.1.1.3.3.1.cmml">⁢</mo><mi id="S4.I1.i2.p1.1.m1.1.1.3.3.3" xref="S4.I1.i2.p1.1.m1.1.1.3.3.3.cmml">p</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><apply id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1"><leq id="S4.I1.i2.p1.1.m1.1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.1"></leq><apply id="S4.I1.i2.p1.1.m1.1.1.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.I1.i2.p1.1.m1.1.1.2.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2">subscript</csymbol><ci id="S4.I1.i2.p1.1.m1.1.1.2.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.2">𝐿</ci><ci id="S4.I1.i2.p1.1.m1.1.1.2.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.2.3">Φ</ci></apply><apply id="S4.I1.i2.p1.1.m1.1.1.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.I1.i2.p1.1.m1.1.1.3.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3">subscript</csymbol><ci id="S4.I1.i2.p1.1.m1.1.1.3.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3.2">𝑁</ci><apply id="S4.I1.i2.p1.1.m1.1.1.3.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3.3"><times id="S4.I1.i2.p1.1.m1.1.1.3.3.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3.3.1"></times><ci id="S4.I1.i2.p1.1.m1.1.1.3.3.2.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3.3.2">𝑢</ci><ci id="S4.I1.i2.p1.1.m1.1.1.3.3.3.cmml" xref="S4.I1.i2.p1.1.m1.1.1.3.3.3">𝑝</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">L_{\Phi}\leq N_{up}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.1.m1.1d">italic_L start_POSTSUBSCRIPT roman_Φ end_POSTSUBSCRIPT ≤ italic_N start_POSTSUBSCRIPT italic_u italic_p end_POSTSUBSCRIPT</annotation></semantics></math>: Timelines with more than 200 activities were truncated to the most recent 200 to focus on recent behavior patterns and manage computational load.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS1.SSSx1.p4">
<p class="ltx_p" id="S4.SS1.SSSx1.p4.2">These thresholds (<math alttext="N_{low}=50" class="ltx_Math" display="inline" id="S4.SS1.SSSx1.p4.1.m1.1"><semantics id="S4.SS1.SSSx1.p4.1.m1.1a"><mrow id="S4.SS1.SSSx1.p4.1.m1.1.1" xref="S4.SS1.SSSx1.p4.1.m1.1.1.cmml"><msub id="S4.SS1.SSSx1.p4.1.m1.1.1.2" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.cmml"><mi id="S4.SS1.SSSx1.p4.1.m1.1.1.2.2" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.2.cmml">N</mi><mrow id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.cmml"><mi id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.2" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.2.cmml">l</mi><mo id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.1" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.3" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.3.cmml">o</mi><mo id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.1a" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.4" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.4.cmml">w</mi></mrow></msub><mo id="S4.SS1.SSSx1.p4.1.m1.1.1.1" xref="S4.SS1.SSSx1.p4.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.SSSx1.p4.1.m1.1.1.3" xref="S4.SS1.SSSx1.p4.1.m1.1.1.3.cmml">50</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSSx1.p4.1.m1.1b"><apply id="S4.SS1.SSSx1.p4.1.m1.1.1.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1"><eq id="S4.SS1.SSSx1.p4.1.m1.1.1.1.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.1"></eq><apply id="S4.SS1.SSSx1.p4.1.m1.1.1.2.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.SSSx1.p4.1.m1.1.1.2.1.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS1.SSSx1.p4.1.m1.1.1.2.2.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.2">𝑁</ci><apply id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3"><times id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.1.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.1"></times><ci id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.2.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.2">𝑙</ci><ci id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.3.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.3">𝑜</ci><ci id="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.4.cmml" xref="S4.SS1.SSSx1.p4.1.m1.1.1.2.3.4">𝑤</ci></apply></apply><cn id="S4.SS1.SSSx1.p4.1.m1.1.1.3.cmml" type="integer" xref="S4.SS1.SSSx1.p4.1.m1.1.1.3">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSSx1.p4.1.m1.1c">N_{low}=50</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSSx1.p4.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_l italic_o italic_w end_POSTSUBSCRIPT = 50</annotation></semantics></math> and <math alttext="N_{up}=200" class="ltx_Math" display="inline" id="S4.SS1.SSSx1.p4.2.m2.1"><semantics id="S4.SS1.SSSx1.p4.2.m2.1a"><mrow id="S4.SS1.SSSx1.p4.2.m2.1.1" xref="S4.SS1.SSSx1.p4.2.m2.1.1.cmml"><msub id="S4.SS1.SSSx1.p4.2.m2.1.1.2" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.cmml"><mi id="S4.SS1.SSSx1.p4.2.m2.1.1.2.2" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.2.cmml">N</mi><mrow id="S4.SS1.SSSx1.p4.2.m2.1.1.2.3" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.cmml"><mi id="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.2" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.2.cmml">u</mi><mo id="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.1" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.1.cmml">⁢</mo><mi id="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.3" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.3.cmml">p</mi></mrow></msub><mo id="S4.SS1.SSSx1.p4.2.m2.1.1.1" xref="S4.SS1.SSSx1.p4.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.SSSx1.p4.2.m2.1.1.3" xref="S4.SS1.SSSx1.p4.2.m2.1.1.3.cmml">200</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSSx1.p4.2.m2.1b"><apply id="S4.SS1.SSSx1.p4.2.m2.1.1.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1"><eq id="S4.SS1.SSSx1.p4.2.m2.1.1.1.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1.1"></eq><apply id="S4.SS1.SSSx1.p4.2.m2.1.1.2.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.SSSx1.p4.2.m2.1.1.2.1.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2">subscript</csymbol><ci id="S4.SS1.SSSx1.p4.2.m2.1.1.2.2.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.2">𝑁</ci><apply id="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.3"><times id="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.1.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.1"></times><ci id="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.2.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.2">𝑢</ci><ci id="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.3.cmml" xref="S4.SS1.SSSx1.p4.2.m2.1.1.2.3.3">𝑝</ci></apply></apply><cn id="S4.SS1.SSSx1.p4.2.m2.1.1.3.cmml" type="integer" xref="S4.SS1.SSSx1.p4.2.m2.1.1.3">200</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSSx1.p4.2.m2.1c">N_{up}=200</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSSx1.p4.2.m2.1d">italic_N start_POSTSUBSCRIPT italic_u italic_p end_POSTSUBSCRIPT = 200</annotation></semantics></math>) were chosen to balance informative summaries with processing efficiency. Table <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.T1" title="Table 1 ‣ Datasets and Evaluation Tasks ‣ 4.1 Validating Benchmark Metrics ‣ 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">1</span></a> shows the number of examples used for evaluation after filtering.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T1.1.1.1.2.1">Number of Examples</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T1.1.2.1.1"><span class="ltx_text ltx_font_bold" id="S4.T1.1.2.1.1.1">MovieLens</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T1.1.2.1.2">4297</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T1.1.3.2.1"><span class="ltx_text ltx_font_bold" id="S4.T1.1.3.2.1.1">Yelp</span></th>
<td class="ltx_td ltx_align_center" id="S4.T1.1.3.2.2">6798</td>
</tr>
<tr class="ltx_tr" id="S4.T1.1.4.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T1.1.4.3.1"><span class="ltx_text ltx_font_bold" id="S4.T1.1.4.3.1.1">Amazon Review</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.1.4.3.2">5046</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Number of examples used for evaluating summarization metrics across different datasets.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS1.SSSx1.p5">
<p class="ltx_p" id="S4.SS1.SSSx1.p5.1">Four prediction tasks were defined to evaluate the quality of the summaries generated from these datasets. Each task was structured as a multiple-choice question with one correct answer and four randomly selected incorrect options. The order of all choices was randomized during execution to ensure robustness.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx1.p6">
<ul class="ltx_itemize" id="S4.I2">
<li class="ltx_item" id="S4.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i1.p1">
<p class="ltx_p" id="S4.I2.i1.p1.1"><math alttext="t_{1}" class="ltx_Math" display="inline" id="S4.I2.i1.p1.1.m1.1"><semantics id="S4.I2.i1.p1.1.m1.1a"><msub id="S4.I2.i1.p1.1.m1.1.1" xref="S4.I2.i1.p1.1.m1.1.1.cmml"><mi id="S4.I2.i1.p1.1.m1.1.1.2" xref="S4.I2.i1.p1.1.m1.1.1.2.cmml">t</mi><mn id="S4.I2.i1.p1.1.m1.1.1.3" xref="S4.I2.i1.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i1.p1.1.m1.1b"><apply id="S4.I2.i1.p1.1.m1.1.1.cmml" xref="S4.I2.i1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i1.p1.1.m1.1.1.1.cmml" xref="S4.I2.i1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I2.i1.p1.1.m1.1.1.2.cmml" xref="S4.I2.i1.p1.1.m1.1.1.2">𝑡</ci><cn id="S4.I2.i1.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I2.i1.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i1.p1.1.m1.1c">t_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i1.p1.1.m1.1d">italic_t start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math>: Predict the user’s next activity (e.g., next watched movie name, next purchased product name) based solely on the summary, assessing the summary’s ability to encapsulate immediate user behavior.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i2.p1">
<p class="ltx_p" id="S4.I2.i2.p1.2"><math alttext="t_{2}" class="ltx_Math" display="inline" id="S4.I2.i2.p1.1.m1.1"><semantics id="S4.I2.i2.p1.1.m1.1a"><msub id="S4.I2.i2.p1.1.m1.1.1" xref="S4.I2.i2.p1.1.m1.1.1.cmml"><mi id="S4.I2.i2.p1.1.m1.1.1.2" xref="S4.I2.i2.p1.1.m1.1.1.2.cmml">t</mi><mn id="S4.I2.i2.p1.1.m1.1.1.3" xref="S4.I2.i2.p1.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.1.m1.1b"><apply id="S4.I2.i2.p1.1.m1.1.1.cmml" xref="S4.I2.i2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p1.1.m1.1.1.1.cmml" xref="S4.I2.i2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I2.i2.p1.1.m1.1.1.2.cmml" xref="S4.I2.i2.p1.1.m1.1.1.2">𝑡</ci><cn id="S4.I2.i2.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I2.i2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.1.m1.1c">t_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p1.1.m1.1d">italic_t start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>: Predict the user’s next activity considering both the summary and the <math alttext="N_{r}" class="ltx_Math" display="inline" id="S4.I2.i2.p1.2.m2.1"><semantics id="S4.I2.i2.p1.2.m2.1a"><msub id="S4.I2.i2.p1.2.m2.1.1" xref="S4.I2.i2.p1.2.m2.1.1.cmml"><mi id="S4.I2.i2.p1.2.m2.1.1.2" xref="S4.I2.i2.p1.2.m2.1.1.2.cmml">N</mi><mi id="S4.I2.i2.p1.2.m2.1.1.3" xref="S4.I2.i2.p1.2.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i2.p1.2.m2.1b"><apply id="S4.I2.i2.p1.2.m2.1.1.cmml" xref="S4.I2.i2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I2.i2.p1.2.m2.1.1.1.cmml" xref="S4.I2.i2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I2.i2.p1.2.m2.1.1.2.cmml" xref="S4.I2.i2.p1.2.m2.1.1.2">𝑁</ci><ci id="S4.I2.i2.p1.2.m2.1.1.3.cmml" xref="S4.I2.i2.p1.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i2.p1.2.m2.1c">N_{r}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i2.p1.2.m2.1d">italic_N start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> most recent activities, evaluating the summary’s effectiveness in conjunction with recent user data.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i3.p1">
<p class="ltx_p" id="S4.I2.i3.p1.1"><math alttext="t_{3}" class="ltx_Math" display="inline" id="S4.I2.i3.p1.1.m1.1"><semantics id="S4.I2.i3.p1.1.m1.1a"><msub id="S4.I2.i3.p1.1.m1.1.1" xref="S4.I2.i3.p1.1.m1.1.1.cmml"><mi id="S4.I2.i3.p1.1.m1.1.1.2" xref="S4.I2.i3.p1.1.m1.1.1.2.cmml">t</mi><mn id="S4.I2.i3.p1.1.m1.1.1.3" xref="S4.I2.i3.p1.1.m1.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i3.p1.1.m1.1b"><apply id="S4.I2.i3.p1.1.m1.1.1.cmml" xref="S4.I2.i3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i3.p1.1.m1.1.1.1.cmml" xref="S4.I2.i3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I2.i3.p1.1.m1.1.1.2.cmml" xref="S4.I2.i3.p1.1.m1.1.1.2">𝑡</ci><cn id="S4.I2.i3.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I2.i3.p1.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i3.p1.1.m1.1c">t_{3}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i3.p1.1.m1.1d">italic_t start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math>: Predict the category of the user’s next activity (e.g., next watched movie genre, next purchased product category) based on the summary alone, testing the summary’s ability to generalize user preferences.</p>
</div>
</li>
<li class="ltx_item" id="S4.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I2.i4.p1">
<p class="ltx_p" id="S4.I2.i4.p1.2"><math alttext="t_{4}" class="ltx_Math" display="inline" id="S4.I2.i4.p1.1.m1.1"><semantics id="S4.I2.i4.p1.1.m1.1a"><msub id="S4.I2.i4.p1.1.m1.1.1" xref="S4.I2.i4.p1.1.m1.1.1.cmml"><mi id="S4.I2.i4.p1.1.m1.1.1.2" xref="S4.I2.i4.p1.1.m1.1.1.2.cmml">t</mi><mn id="S4.I2.i4.p1.1.m1.1.1.3" xref="S4.I2.i4.p1.1.m1.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i4.p1.1.m1.1b"><apply id="S4.I2.i4.p1.1.m1.1.1.cmml" xref="S4.I2.i4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.I2.i4.p1.1.m1.1.1.1.cmml" xref="S4.I2.i4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.I2.i4.p1.1.m1.1.1.2.cmml" xref="S4.I2.i4.p1.1.m1.1.1.2">𝑡</ci><cn id="S4.I2.i4.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.I2.i4.p1.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i4.p1.1.m1.1c">t_{4}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i4.p1.1.m1.1d">italic_t start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math>: Predict the category of the user’s next activity using both the summary and the <math alttext="N_{r}" class="ltx_Math" display="inline" id="S4.I2.i4.p1.2.m2.1"><semantics id="S4.I2.i4.p1.2.m2.1a"><msub id="S4.I2.i4.p1.2.m2.1.1" xref="S4.I2.i4.p1.2.m2.1.1.cmml"><mi id="S4.I2.i4.p1.2.m2.1.1.2" xref="S4.I2.i4.p1.2.m2.1.1.2.cmml">N</mi><mi id="S4.I2.i4.p1.2.m2.1.1.3" xref="S4.I2.i4.p1.2.m2.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I2.i4.p1.2.m2.1b"><apply id="S4.I2.i4.p1.2.m2.1.1.cmml" xref="S4.I2.i4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.I2.i4.p1.2.m2.1.1.1.cmml" xref="S4.I2.i4.p1.2.m2.1.1">subscript</csymbol><ci id="S4.I2.i4.p1.2.m2.1.1.2.cmml" xref="S4.I2.i4.p1.2.m2.1.1.2">𝑁</ci><ci id="S4.I2.i4.p1.2.m2.1.1.3.cmml" xref="S4.I2.i4.p1.2.m2.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I2.i4.p1.2.m2.1c">N_{r}</annotation><annotation encoding="application/x-llamapun" id="S4.I2.i4.p1.2.m2.1d">italic_N start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT</annotation></semantics></math> most recent activities, examining how well the summary integrates with recent behavior to provide accurate insights.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS1.SSSx1.p7">
<p class="ltx_p" id="S4.SS1.SSSx1.p7.2">These tasks were designed to comprehensively assess different aspects of summary quality. The default value for <math alttext="N_{r}=20" class="ltx_Math" display="inline" id="S4.SS1.SSSx1.p7.1.m1.1"><semantics id="S4.SS1.SSSx1.p7.1.m1.1a"><mrow id="S4.SS1.SSSx1.p7.1.m1.1.1" xref="S4.SS1.SSSx1.p7.1.m1.1.1.cmml"><msub id="S4.SS1.SSSx1.p7.1.m1.1.1.2" xref="S4.SS1.SSSx1.p7.1.m1.1.1.2.cmml"><mi id="S4.SS1.SSSx1.p7.1.m1.1.1.2.2" xref="S4.SS1.SSSx1.p7.1.m1.1.1.2.2.cmml">N</mi><mi id="S4.SS1.SSSx1.p7.1.m1.1.1.2.3" xref="S4.SS1.SSSx1.p7.1.m1.1.1.2.3.cmml">r</mi></msub><mo id="S4.SS1.SSSx1.p7.1.m1.1.1.1" xref="S4.SS1.SSSx1.p7.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.SSSx1.p7.1.m1.1.1.3" xref="S4.SS1.SSSx1.p7.1.m1.1.1.3.cmml">20</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSSx1.p7.1.m1.1b"><apply id="S4.SS1.SSSx1.p7.1.m1.1.1.cmml" xref="S4.SS1.SSSx1.p7.1.m1.1.1"><eq id="S4.SS1.SSSx1.p7.1.m1.1.1.1.cmml" xref="S4.SS1.SSSx1.p7.1.m1.1.1.1"></eq><apply id="S4.SS1.SSSx1.p7.1.m1.1.1.2.cmml" xref="S4.SS1.SSSx1.p7.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS1.SSSx1.p7.1.m1.1.1.2.1.cmml" xref="S4.SS1.SSSx1.p7.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS1.SSSx1.p7.1.m1.1.1.2.2.cmml" xref="S4.SS1.SSSx1.p7.1.m1.1.1.2.2">𝑁</ci><ci id="S4.SS1.SSSx1.p7.1.m1.1.1.2.3.cmml" xref="S4.SS1.SSSx1.p7.1.m1.1.1.2.3">𝑟</ci></apply><cn id="S4.SS1.SSSx1.p7.1.m1.1.1.3.cmml" type="integer" xref="S4.SS1.SSSx1.p7.1.m1.1.1.3">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSSx1.p7.1.m1.1c">N_{r}=20</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSSx1.p7.1.m1.1d">italic_N start_POSTSUBSCRIPT italic_r end_POSTSUBSCRIPT = 20</annotation></semantics></math> and the threshold <math alttext="m=3" class="ltx_Math" display="inline" id="S4.SS1.SSSx1.p7.2.m2.1"><semantics id="S4.SS1.SSSx1.p7.2.m2.1a"><mrow id="S4.SS1.SSSx1.p7.2.m2.1.1" xref="S4.SS1.SSSx1.p7.2.m2.1.1.cmml"><mi id="S4.SS1.SSSx1.p7.2.m2.1.1.2" xref="S4.SS1.SSSx1.p7.2.m2.1.1.2.cmml">m</mi><mo id="S4.SS1.SSSx1.p7.2.m2.1.1.1" xref="S4.SS1.SSSx1.p7.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.SSSx1.p7.2.m2.1.1.3" xref="S4.SS1.SSSx1.p7.2.m2.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSSx1.p7.2.m2.1b"><apply id="S4.SS1.SSSx1.p7.2.m2.1.1.cmml" xref="S4.SS1.SSSx1.p7.2.m2.1.1"><eq id="S4.SS1.SSSx1.p7.2.m2.1.1.1.cmml" xref="S4.SS1.SSSx1.p7.2.m2.1.1.1"></eq><ci id="S4.SS1.SSSx1.p7.2.m2.1.1.2.cmml" xref="S4.SS1.SSSx1.p7.2.m2.1.1.2">𝑚</ci><cn id="S4.SS1.SSSx1.p7.2.m2.1.1.3.cmml" type="integer" xref="S4.SS1.SSSx1.p7.2.m2.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSSx1.p7.2.m2.1c">m=3</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSSx1.p7.2.m2.1d">italic_m = 3</annotation></semantics></math> as defined in Equation <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.E1" title="In Quality Metric ‣ 3.1 Benchmark Metrics ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS1.SSSx2">
<h4 class="ltx_title ltx_title_subsubsection">Quality Metric vs. Human Ratings</h4>
<div class="ltx_para" id="S4.SS1.SSSx2.p1">
<p class="ltx_p" id="S4.SS1.SSSx2.p1.1">To validate the effectiveness of the proposed Quality Metric (refer to Section <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.SS1.SSSx1" title="Quality Metric ‣ 3.1 Benchmark Metrics ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">3.1</span></a>), we conducted a human rating exercise.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p2">
<p class="ltx_p" id="S4.SS1.SSSx2.p2.1">We selected 200 examples from each of the three summary-extended datasets (MovieLens, Yelp, and Amazon Reviews), resulting in a total of 600 examples. These examples were based on user activity histories from English-speaking residents in the United States, and the summaries were generated using the single-step summarization approach (see Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.F3" title="Figure 3 ‣ 3.2 Hierarchy-Critique Summary Generation ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">3</span></a>(1)) with the Gemini Advanced model <cite class="ltx_cite ltx_citemacro_citep">(Team et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib18" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p3">
<p class="ltx_p" id="S4.SS1.SSSx2.p3.1">Six human raters (three male and three female), all English-speaking USA residents familiar with common user activities participated in the evaluation. Each dataset was evaluated by two raters (one male and one female) to enhance robustness and minimize bias, with each rater assessing 100 examples.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p4">
<p class="ltx_p" id="S4.SS1.SSSx2.p4.1">Given the subjective nature of summary evaluation, particularly for criteria like ”Fact Hallucinations Verification,” a unified rating guideline was implemented to standardize the process across all raters. This guideline was designed to ensure consistency and reliability in the ratings, classifying summaries as either ”Good” or ”Bad” based on the following criteria:</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p5">
<ul class="ltx_itemize" id="S4.I3">
<li class="ltx_item" id="S4.I3.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i1.p1">
<p class="ltx_p" id="S4.I3.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i1.p1.1.1">Query Hallucinations Verification:</span> Assesses whether the summary accurately reflects the specified summary query. For instance, if the query is to ”summarize a user’s movie-watching preferences,” but the summary only lists movie-watching activities without indicating any preferences, the summary would fail this check.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i2.p1">
<p class="ltx_p" id="S4.I3.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i2.p1.1.1">Fact Hallucinations Verification:</span> Evaluates whether the details in the summary align with the context of the input activities. For example, if a user’s recent activity history shows a focus on purchasing toys, but the summary inaccurately states that the user mainly purchased office supplies, it would be marked as inaccurate.</p>
</div>
</li>
<li class="ltx_item" id="S4.I3.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I3.i3.p1">
<p class="ltx_p" id="S4.I3.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I3.i3.p1.1.1">Top Category Recall:</span> Checks whether at least one of the top three categories, such as movie genres, is mentioned in the summary. Very popular categories like ”Restaurant” in the Yelp dataset are excluded from the top three to ensure meaningful assessment.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p6">
<p class="ltx_p" id="S4.SS1.SSSx2.p6.1">This structured approach, with clearly defined evaluation criteria and qualified raters, ensures that the human annotation process is consistent and capable of producing reliable comparisons between prediction results and human ratings.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p7">
<p class="ltx_p" id="S4.SS1.SSSx2.p7.1">After obtaining prediction results and human ratings for the same user summaries, we categorized each summary into one of four possible outcomes based on the alignment between the prediction and the human rating. We then calculated the <span class="ltx_text ltx_font_bold" id="S4.SS1.SSSx2.p7.1.1">Metric-Annotator Agreement (MAA)</span> using Equation <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.E7" title="In Quality Metric vs. Human Ratings ‣ 4.1 Validating Benchmark Metrics ‣ 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">7</span></a>, which represents the percentage of cases where the evaluation metrics and human annotators agreed on the quality of the summary. Higher scores indicate better alignment.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p8">
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A2.EGx7">
<tbody id="S4.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle MAA=\frac{TP+TN}{TP+FP+FN+TN}" class="ltx_Math" display="inline" id="S4.E7.m1.1"><semantics id="S4.E7.m1.1a"><mrow id="S4.E7.m1.1.1" xref="S4.E7.m1.1.1.cmml"><mrow id="S4.E7.m1.1.1.2" xref="S4.E7.m1.1.1.2.cmml"><mi id="S4.E7.m1.1.1.2.2" xref="S4.E7.m1.1.1.2.2.cmml">M</mi><mo id="S4.E7.m1.1.1.2.1" xref="S4.E7.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.2.3" xref="S4.E7.m1.1.1.2.3.cmml">A</mi><mo id="S4.E7.m1.1.1.2.1a" xref="S4.E7.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.2.4" xref="S4.E7.m1.1.1.2.4.cmml">A</mi></mrow><mo id="S4.E7.m1.1.1.1" xref="S4.E7.m1.1.1.1.cmml">=</mo><mstyle displaystyle="true" id="S4.E7.m1.1.1.3" xref="S4.E7.m1.1.1.3.cmml"><mfrac id="S4.E7.m1.1.1.3a" xref="S4.E7.m1.1.1.3.cmml"><mrow id="S4.E7.m1.1.1.3.2" xref="S4.E7.m1.1.1.3.2.cmml"><mrow id="S4.E7.m1.1.1.3.2.2" xref="S4.E7.m1.1.1.3.2.2.cmml"><mi id="S4.E7.m1.1.1.3.2.2.2" xref="S4.E7.m1.1.1.3.2.2.2.cmml">T</mi><mo id="S4.E7.m1.1.1.3.2.2.1" xref="S4.E7.m1.1.1.3.2.2.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.3.2.2.3" xref="S4.E7.m1.1.1.3.2.2.3.cmml">P</mi></mrow><mo id="S4.E7.m1.1.1.3.2.1" xref="S4.E7.m1.1.1.3.2.1.cmml">+</mo><mrow id="S4.E7.m1.1.1.3.2.3" xref="S4.E7.m1.1.1.3.2.3.cmml"><mi id="S4.E7.m1.1.1.3.2.3.2" xref="S4.E7.m1.1.1.3.2.3.2.cmml">T</mi><mo id="S4.E7.m1.1.1.3.2.3.1" xref="S4.E7.m1.1.1.3.2.3.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.3.2.3.3" xref="S4.E7.m1.1.1.3.2.3.3.cmml">N</mi></mrow></mrow><mrow id="S4.E7.m1.1.1.3.3" xref="S4.E7.m1.1.1.3.3.cmml"><mrow id="S4.E7.m1.1.1.3.3.2" xref="S4.E7.m1.1.1.3.3.2.cmml"><mi id="S4.E7.m1.1.1.3.3.2.2" xref="S4.E7.m1.1.1.3.3.2.2.cmml">T</mi><mo id="S4.E7.m1.1.1.3.3.2.1" xref="S4.E7.m1.1.1.3.3.2.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.3.3.2.3" xref="S4.E7.m1.1.1.3.3.2.3.cmml">P</mi></mrow><mo id="S4.E7.m1.1.1.3.3.1" xref="S4.E7.m1.1.1.3.3.1.cmml">+</mo><mrow id="S4.E7.m1.1.1.3.3.3" xref="S4.E7.m1.1.1.3.3.3.cmml"><mi id="S4.E7.m1.1.1.3.3.3.2" xref="S4.E7.m1.1.1.3.3.3.2.cmml">F</mi><mo id="S4.E7.m1.1.1.3.3.3.1" xref="S4.E7.m1.1.1.3.3.3.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.3.3.3.3" xref="S4.E7.m1.1.1.3.3.3.3.cmml">P</mi></mrow><mo id="S4.E7.m1.1.1.3.3.1a" xref="S4.E7.m1.1.1.3.3.1.cmml">+</mo><mrow id="S4.E7.m1.1.1.3.3.4" xref="S4.E7.m1.1.1.3.3.4.cmml"><mi id="S4.E7.m1.1.1.3.3.4.2" xref="S4.E7.m1.1.1.3.3.4.2.cmml">F</mi><mo id="S4.E7.m1.1.1.3.3.4.1" xref="S4.E7.m1.1.1.3.3.4.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.3.3.4.3" xref="S4.E7.m1.1.1.3.3.4.3.cmml">N</mi></mrow><mo id="S4.E7.m1.1.1.3.3.1b" xref="S4.E7.m1.1.1.3.3.1.cmml">+</mo><mrow id="S4.E7.m1.1.1.3.3.5" xref="S4.E7.m1.1.1.3.3.5.cmml"><mi id="S4.E7.m1.1.1.3.3.5.2" xref="S4.E7.m1.1.1.3.3.5.2.cmml">T</mi><mo id="S4.E7.m1.1.1.3.3.5.1" xref="S4.E7.m1.1.1.3.3.5.1.cmml">⁢</mo><mi id="S4.E7.m1.1.1.3.3.5.3" xref="S4.E7.m1.1.1.3.3.5.3.cmml">N</mi></mrow></mrow></mfrac></mstyle></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.1b"><apply id="S4.E7.m1.1.1.cmml" xref="S4.E7.m1.1.1"><eq id="S4.E7.m1.1.1.1.cmml" xref="S4.E7.m1.1.1.1"></eq><apply id="S4.E7.m1.1.1.2.cmml" xref="S4.E7.m1.1.1.2"><times id="S4.E7.m1.1.1.2.1.cmml" xref="S4.E7.m1.1.1.2.1"></times><ci id="S4.E7.m1.1.1.2.2.cmml" xref="S4.E7.m1.1.1.2.2">𝑀</ci><ci id="S4.E7.m1.1.1.2.3.cmml" xref="S4.E7.m1.1.1.2.3">𝐴</ci><ci id="S4.E7.m1.1.1.2.4.cmml" xref="S4.E7.m1.1.1.2.4">𝐴</ci></apply><apply id="S4.E7.m1.1.1.3.cmml" xref="S4.E7.m1.1.1.3"><divide id="S4.E7.m1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.3"></divide><apply id="S4.E7.m1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.3.2"><plus id="S4.E7.m1.1.1.3.2.1.cmml" xref="S4.E7.m1.1.1.3.2.1"></plus><apply id="S4.E7.m1.1.1.3.2.2.cmml" xref="S4.E7.m1.1.1.3.2.2"><times id="S4.E7.m1.1.1.3.2.2.1.cmml" xref="S4.E7.m1.1.1.3.2.2.1"></times><ci id="S4.E7.m1.1.1.3.2.2.2.cmml" xref="S4.E7.m1.1.1.3.2.2.2">𝑇</ci><ci id="S4.E7.m1.1.1.3.2.2.3.cmml" xref="S4.E7.m1.1.1.3.2.2.3">𝑃</ci></apply><apply id="S4.E7.m1.1.1.3.2.3.cmml" xref="S4.E7.m1.1.1.3.2.3"><times id="S4.E7.m1.1.1.3.2.3.1.cmml" xref="S4.E7.m1.1.1.3.2.3.1"></times><ci id="S4.E7.m1.1.1.3.2.3.2.cmml" xref="S4.E7.m1.1.1.3.2.3.2">𝑇</ci><ci id="S4.E7.m1.1.1.3.2.3.3.cmml" xref="S4.E7.m1.1.1.3.2.3.3">𝑁</ci></apply></apply><apply id="S4.E7.m1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.3.3"><plus id="S4.E7.m1.1.1.3.3.1.cmml" xref="S4.E7.m1.1.1.3.3.1"></plus><apply id="S4.E7.m1.1.1.3.3.2.cmml" xref="S4.E7.m1.1.1.3.3.2"><times id="S4.E7.m1.1.1.3.3.2.1.cmml" xref="S4.E7.m1.1.1.3.3.2.1"></times><ci id="S4.E7.m1.1.1.3.3.2.2.cmml" xref="S4.E7.m1.1.1.3.3.2.2">𝑇</ci><ci id="S4.E7.m1.1.1.3.3.2.3.cmml" xref="S4.E7.m1.1.1.3.3.2.3">𝑃</ci></apply><apply id="S4.E7.m1.1.1.3.3.3.cmml" xref="S4.E7.m1.1.1.3.3.3"><times id="S4.E7.m1.1.1.3.3.3.1.cmml" xref="S4.E7.m1.1.1.3.3.3.1"></times><ci id="S4.E7.m1.1.1.3.3.3.2.cmml" xref="S4.E7.m1.1.1.3.3.3.2">𝐹</ci><ci id="S4.E7.m1.1.1.3.3.3.3.cmml" xref="S4.E7.m1.1.1.3.3.3.3">𝑃</ci></apply><apply id="S4.E7.m1.1.1.3.3.4.cmml" xref="S4.E7.m1.1.1.3.3.4"><times id="S4.E7.m1.1.1.3.3.4.1.cmml" xref="S4.E7.m1.1.1.3.3.4.1"></times><ci id="S4.E7.m1.1.1.3.3.4.2.cmml" xref="S4.E7.m1.1.1.3.3.4.2">𝐹</ci><ci id="S4.E7.m1.1.1.3.3.4.3.cmml" xref="S4.E7.m1.1.1.3.3.4.3">𝑁</ci></apply><apply id="S4.E7.m1.1.1.3.3.5.cmml" xref="S4.E7.m1.1.1.3.3.5"><times id="S4.E7.m1.1.1.3.3.5.1.cmml" xref="S4.E7.m1.1.1.3.3.5.1"></times><ci id="S4.E7.m1.1.1.3.3.5.2.cmml" xref="S4.E7.m1.1.1.3.3.5.2">𝑇</ci><ci id="S4.E7.m1.1.1.3.3.5.3.cmml" xref="S4.E7.m1.1.1.3.3.5.3">𝑁</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.1c">\displaystyle MAA=\frac{TP+TN}{TP+FP+FN+TN}</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.1d">italic_M italic_A italic_A = divide start_ARG italic_T italic_P + italic_T italic_N end_ARG start_ARG italic_T italic_P + italic_F italic_P + italic_F italic_N + italic_T italic_N end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p9">
<p class="ltx_p" id="S4.SS1.SSSx2.p9.1">In this equation, the four possible outcomes are as follows:</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p10">
<ul class="ltx_itemize" id="S4.I4">
<li class="ltx_item" id="S4.I4.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I4.i1.p1">
<p class="ltx_p" id="S4.I4.i1.p1.1"><math alttext="TP" class="ltx_Math" display="inline" id="S4.I4.i1.p1.1.m1.1"><semantics id="S4.I4.i1.p1.1.m1.1a"><mrow id="S4.I4.i1.p1.1.m1.1.1" xref="S4.I4.i1.p1.1.m1.1.1.cmml"><mi id="S4.I4.i1.p1.1.m1.1.1.2" xref="S4.I4.i1.p1.1.m1.1.1.2.cmml">T</mi><mo id="S4.I4.i1.p1.1.m1.1.1.1" xref="S4.I4.i1.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.I4.i1.p1.1.m1.1.1.3" xref="S4.I4.i1.p1.1.m1.1.1.3.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I4.i1.p1.1.m1.1b"><apply id="S4.I4.i1.p1.1.m1.1.1.cmml" xref="S4.I4.i1.p1.1.m1.1.1"><times id="S4.I4.i1.p1.1.m1.1.1.1.cmml" xref="S4.I4.i1.p1.1.m1.1.1.1"></times><ci id="S4.I4.i1.p1.1.m1.1.1.2.cmml" xref="S4.I4.i1.p1.1.m1.1.1.2">𝑇</ci><ci id="S4.I4.i1.p1.1.m1.1.1.3.cmml" xref="S4.I4.i1.p1.1.m1.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I4.i1.p1.1.m1.1c">TP</annotation><annotation encoding="application/x-llamapun" id="S4.I4.i1.p1.1.m1.1d">italic_T italic_P</annotation></semantics></math> (True Positive): Both the prediction and the human rating classify the summary as ”Good.”</p>
</div>
</li>
<li class="ltx_item" id="S4.I4.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I4.i2.p1">
<p class="ltx_p" id="S4.I4.i2.p1.1"><math alttext="FP" class="ltx_Math" display="inline" id="S4.I4.i2.p1.1.m1.1"><semantics id="S4.I4.i2.p1.1.m1.1a"><mrow id="S4.I4.i2.p1.1.m1.1.1" xref="S4.I4.i2.p1.1.m1.1.1.cmml"><mi id="S4.I4.i2.p1.1.m1.1.1.2" xref="S4.I4.i2.p1.1.m1.1.1.2.cmml">F</mi><mo id="S4.I4.i2.p1.1.m1.1.1.1" xref="S4.I4.i2.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.I4.i2.p1.1.m1.1.1.3" xref="S4.I4.i2.p1.1.m1.1.1.3.cmml">P</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I4.i2.p1.1.m1.1b"><apply id="S4.I4.i2.p1.1.m1.1.1.cmml" xref="S4.I4.i2.p1.1.m1.1.1"><times id="S4.I4.i2.p1.1.m1.1.1.1.cmml" xref="S4.I4.i2.p1.1.m1.1.1.1"></times><ci id="S4.I4.i2.p1.1.m1.1.1.2.cmml" xref="S4.I4.i2.p1.1.m1.1.1.2">𝐹</ci><ci id="S4.I4.i2.p1.1.m1.1.1.3.cmml" xref="S4.I4.i2.p1.1.m1.1.1.3">𝑃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I4.i2.p1.1.m1.1c">FP</annotation><annotation encoding="application/x-llamapun" id="S4.I4.i2.p1.1.m1.1d">italic_F italic_P</annotation></semantics></math> (False Positive): The prediction classifies the summary as ”Good,” but the human rating classifies it as ”Bad.”</p>
</div>
</li>
<li class="ltx_item" id="S4.I4.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I4.i3.p1">
<p class="ltx_p" id="S4.I4.i3.p1.1"><math alttext="FN" class="ltx_Math" display="inline" id="S4.I4.i3.p1.1.m1.1"><semantics id="S4.I4.i3.p1.1.m1.1a"><mrow id="S4.I4.i3.p1.1.m1.1.1" xref="S4.I4.i3.p1.1.m1.1.1.cmml"><mi id="S4.I4.i3.p1.1.m1.1.1.2" xref="S4.I4.i3.p1.1.m1.1.1.2.cmml">F</mi><mo id="S4.I4.i3.p1.1.m1.1.1.1" xref="S4.I4.i3.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.I4.i3.p1.1.m1.1.1.3" xref="S4.I4.i3.p1.1.m1.1.1.3.cmml">N</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I4.i3.p1.1.m1.1b"><apply id="S4.I4.i3.p1.1.m1.1.1.cmml" xref="S4.I4.i3.p1.1.m1.1.1"><times id="S4.I4.i3.p1.1.m1.1.1.1.cmml" xref="S4.I4.i3.p1.1.m1.1.1.1"></times><ci id="S4.I4.i3.p1.1.m1.1.1.2.cmml" xref="S4.I4.i3.p1.1.m1.1.1.2">𝐹</ci><ci id="S4.I4.i3.p1.1.m1.1.1.3.cmml" xref="S4.I4.i3.p1.1.m1.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I4.i3.p1.1.m1.1c">FN</annotation><annotation encoding="application/x-llamapun" id="S4.I4.i3.p1.1.m1.1d">italic_F italic_N</annotation></semantics></math> (False Negative): The prediction classifies the summary as ”Bad,” but the human rating classifies it as ”Good.”</p>
</div>
</li>
<li class="ltx_item" id="S4.I4.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I4.i4.p1">
<p class="ltx_p" id="S4.I4.i4.p1.1"><math alttext="TN" class="ltx_Math" display="inline" id="S4.I4.i4.p1.1.m1.1"><semantics id="S4.I4.i4.p1.1.m1.1a"><mrow id="S4.I4.i4.p1.1.m1.1.1" xref="S4.I4.i4.p1.1.m1.1.1.cmml"><mi id="S4.I4.i4.p1.1.m1.1.1.2" xref="S4.I4.i4.p1.1.m1.1.1.2.cmml">T</mi><mo id="S4.I4.i4.p1.1.m1.1.1.1" xref="S4.I4.i4.p1.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.I4.i4.p1.1.m1.1.1.3" xref="S4.I4.i4.p1.1.m1.1.1.3.cmml">N</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.I4.i4.p1.1.m1.1b"><apply id="S4.I4.i4.p1.1.m1.1.1.cmml" xref="S4.I4.i4.p1.1.m1.1.1"><times id="S4.I4.i4.p1.1.m1.1.1.1.cmml" xref="S4.I4.i4.p1.1.m1.1.1.1"></times><ci id="S4.I4.i4.p1.1.m1.1.1.2.cmml" xref="S4.I4.i4.p1.1.m1.1.1.2">𝑇</ci><ci id="S4.I4.i4.p1.1.m1.1.1.3.cmml" xref="S4.I4.i4.p1.1.m1.1.1.3">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I4.i4.p1.1.m1.1c">TN</annotation><annotation encoding="application/x-llamapun" id="S4.I4.i4.p1.1.m1.1d">italic_T italic_N</annotation></semantics></math> (True Negative): Both the prediction and the human rating classify the summary as ”Bad.”</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p11">
<p class="ltx_p" id="S4.SS1.SSSx2.p11.1">As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.T2" title="Table 2 ‣ Quality Metric vs. Human Ratings ‣ 4.1 Validating Benchmark Metrics ‣ 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">2</span></a>, the proposed Quality Metric demonstrated strong alignment with human ratings, with above 70% agreement across all datasets.</p>
</div>
<figure class="ltx_table" id="S4.T2">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T2.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T2.1.1.1.2.1">MAA</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.1.2.1">
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T2.1.2.1.1"><span class="ltx_text" id="S4.T2.1.2.1.1.1">MovieLens</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T2.1.2.1.2">71.0%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.3.2">
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T2.1.3.2.1"><span class="ltx_text" id="S4.T2.1.3.2.1.1">Yelp</span></td>
<td class="ltx_td ltx_align_center" id="S4.T2.1.3.2.2">74.0%</td>
</tr>
<tr class="ltx_tr" id="S4.T2.1.4.3">
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T2.1.4.3.1"><span class="ltx_text" id="S4.T2.1.4.3.1.1">Amazon Review</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.1.4.3.2">73.0%</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Metric-Annotator Agreement (MAA) between Quality Metric and human ratings across different datasets.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS1.SSSx2.p12">
<p class="ltx_p" id="S4.SS1.SSSx2.p12.1">To further evaluate the performance of the proposed benchmark metrics, we applied them to three popular models: Gemini 1.5 Pro <cite class="ltx_cite ltx_citemacro_citep">(Reid et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib14" title="">2024</a>)</cite>, GPT-4o <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib1" title="">2023</a>)</cite>, and Claude 3 Haiku <cite class="ltx_cite ltx_citemacro_citep">(Anthropic <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib3" title="">2023</a>)</cite>. Detailed comparisons can be found in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A2" title="Appendix B Analysis of Benchmark Metrics on Popular Models ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
<figure class="ltx_table" id="S4.T3">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T3.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T3.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T3.1.2.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.2.1.1.1">Metric</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.2.1.2"><span class="ltx_text ltx_font_bold" id="S4.T3.1.2.1.2.1">MovieLens</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.2.1.3"><span class="ltx_text ltx_font_bold" id="S4.T3.1.2.1.3.1">Yelp</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T3.1.2.1.4"><span class="ltx_text ltx_font_bold" id="S4.T3.1.2.1.4.1">Amazon</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T3.1.3.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.3.1.1.1">ROUGE-2</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.3.1.2">0.163</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.3.1.3">0.037</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.1.3.1.4">0.289</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.4.2.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.4.2.1.1">ROUGE-L</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.4.2.2">0.151</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.4.2.3">0.147</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.4.2.4">0.338</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.5.3.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.5.3.1.1">BLEU</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.5.3.2">0.049</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.5.3.3">0.043</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.5.3.4">-0.077</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.6.4.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.6.4.1.1">BERTScore-precision</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.6.4.2">0.077</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.6.4.3">-0.021</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.6.4.4">0.254</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.7.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.7.5.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.7.5.1.1">BERTScore-recall</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.7.5.2">-0.006</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.7.5.3">0.090</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.7.5.4">0.146</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.8.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.8.6.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.8.6.1.1">BERTScore-F1</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.8.6.2">-0.119</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.8.6.3">0.071</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.8.6.4">-0.127</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.9.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.9.7.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.9.7.1.1">BLEURT</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.9.7.2">-0.082</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.9.7.3">0.088</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.9.7.4">-0.023</td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.10.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r" id="S4.T3.1.10.8.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.10.8.1.1">AutoEval</span></th>
<td class="ltx_td ltx_align_center" id="S4.T3.1.10.8.2">0.204</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.10.8.3">0.120</td>
<td class="ltx_td ltx_align_center" id="S4.T3.1.10.8.4"><span class="ltx_text ltx_font_bold" id="S4.T3.1.10.8.4.1">0.490</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S4.T3.1.1.1"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.1.1">Quality <math alttext="Q_{s}" class="ltx_Math" display="inline" id="S4.T3.1.1.1.1.m1.1"><semantics id="S4.T3.1.1.1.1.m1.1a"><msub id="S4.T3.1.1.1.1.m1.1.1" xref="S4.T3.1.1.1.1.m1.1.1.cmml"><mi id="S4.T3.1.1.1.1.m1.1.1.2" xref="S4.T3.1.1.1.1.m1.1.1.2.cmml">Q</mi><mi id="S4.T3.1.1.1.1.m1.1.1.3" xref="S4.T3.1.1.1.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.T3.1.1.1.1.m1.1b"><apply id="S4.T3.1.1.1.1.m1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.T3.1.1.1.1.m1.1.1.1.cmml" xref="S4.T3.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S4.T3.1.1.1.1.m1.1.1.2.cmml" xref="S4.T3.1.1.1.1.m1.1.1.2">𝑄</ci><ci id="S4.T3.1.1.1.1.m1.1.1.3.cmml" xref="S4.T3.1.1.1.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.1.1.1.1.m1.1c">Q_{s}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.1.1.1.1.m1.1d">italic_Q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math></span></th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.2.1">0.363</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T3.1.1.3.1">0.458</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S4.T3.1.1.4">0.366</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Comparison of different evaluation metrics and summary quality measurement <math alttext="Q_{s}" class="ltx_Math" display="inline" id="S4.T3.3.m1.1"><semantics id="S4.T3.3.m1.1b"><msub id="S4.T3.3.m1.1.1" xref="S4.T3.3.m1.1.1.cmml"><mi id="S4.T3.3.m1.1.1.2" xref="S4.T3.3.m1.1.1.2.cmml">Q</mi><mi id="S4.T3.3.m1.1.1.3" xref="S4.T3.3.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.T3.3.m1.1c"><apply id="S4.T3.3.m1.1.1.cmml" xref="S4.T3.3.m1.1.1"><csymbol cd="ambiguous" id="S4.T3.3.m1.1.1.1.cmml" xref="S4.T3.3.m1.1.1">subscript</csymbol><ci id="S4.T3.3.m1.1.1.2.cmml" xref="S4.T3.3.m1.1.1.2">𝑄</ci><ci id="S4.T3.3.m1.1.1.3.cmml" xref="S4.T3.3.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.3.m1.1d">Q_{s}</annotation><annotation encoding="application/x-llamapun" id="S4.T3.3.m1.1e">italic_Q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> across the MovieLens, Yelp, and Amazon Review datasets.</figcaption>
</figure>
<figure class="ltx_table" id="S4.T4">
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.12">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T4.12.13.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T4.12.13.1.1"><span class="ltx_text ltx_font_bold" id="S4.T4.12.13.1.1.1">Metric</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S4.T4.12.13.1.2"><span class="ltx_text ltx_font_bold" id="S4.T4.12.13.1.2.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.12.13.1.3"><span class="ltx_text ltx_font_bold" id="S4.T4.12.13.1.3.1">Single-Step</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt" id="S4.T4.12.13.1.4"><span class="ltx_text ltx_font_bold" id="S4.T4.12.13.1.4.1">Hierarchy-Critique</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T4.12.13.1.5"><span class="ltx_text ltx_font_bold" id="S4.T4.12.13.1.5.1">Increment Percentage</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.2.2.3" rowspan="3"><span class="ltx_text ltx_font_bold" id="S4.T4.2.2.3.1">Quality Metric</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.2.2.4">MovieLens</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.1.1.1">0.557 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.1.1.1.m1.1"><semantics id="S4.T4.1.1.1.m1.1a"><mo id="S4.T4.1.1.1.m1.1.1" xref="S4.T4.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.m1.1b"><csymbol cd="latexml" id="S4.T4.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.1.1.1.m1.1d">±</annotation></semantics></math> 0.002</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.2.2.2"><span class="ltx_text ltx_font_bold" id="S4.T4.2.2.2.1">0.586 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.2.2.2.1.m1.1"><semantics id="S4.T4.2.2.2.1.m1.1a"><mo id="S4.T4.2.2.2.1.m1.1.1" xref="S4.T4.2.2.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.1.m1.1b"><csymbol cd="latexml" id="S4.T4.2.2.2.1.m1.1.1.cmml" xref="S4.T4.2.2.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.2.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.2.2.2.1.m1.1d">±</annotation></semantics></math> 0.003</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.2.5"><span class="ltx_text" id="S4.T4.2.2.5.1" style="color:#0000FF;">5.21%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.4.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.4.4.3">Yelp</th>
<td class="ltx_td ltx_align_center" id="S4.T4.3.3.1">0.459 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.3.3.1.m1.1"><semantics id="S4.T4.3.3.1.m1.1a"><mo id="S4.T4.3.3.1.m1.1.1" xref="S4.T4.3.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.3.3.1.m1.1b"><csymbol cd="latexml" id="S4.T4.3.3.1.m1.1.1.cmml" xref="S4.T4.3.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.3.3.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.3.3.1.m1.1d">±</annotation></semantics></math> 0.002</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.4.4.2"><span class="ltx_text ltx_font_bold" id="S4.T4.4.4.2.1">0.512 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.4.4.2.1.m1.1"><semantics id="S4.T4.4.4.2.1.m1.1a"><mo id="S4.T4.4.4.2.1.m1.1.1" xref="S4.T4.4.4.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.4.4.2.1.m1.1b"><csymbol cd="latexml" id="S4.T4.4.4.2.1.m1.1.1.cmml" xref="S4.T4.4.4.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.4.4.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.4.4.2.1.m1.1d">±</annotation></semantics></math> 0.003</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.4.4.4"><span class="ltx_text" id="S4.T4.4.4.4.1" style="color:#0000FF;">11.55%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.6.6.3">Amazon Review</th>
<td class="ltx_td ltx_align_center" id="S4.T4.5.5.1">0.616 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.5.5.1.m1.1"><semantics id="S4.T4.5.5.1.m1.1a"><mo id="S4.T4.5.5.1.m1.1.1" xref="S4.T4.5.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.5.5.1.m1.1b"><csymbol cd="latexml" id="S4.T4.5.5.1.m1.1.1.cmml" xref="S4.T4.5.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.5.5.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.5.5.1.m1.1d">±</annotation></semantics></math> 0.002</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.6.6.2"><span class="ltx_text ltx_font_bold" id="S4.T4.6.6.2.1">0.631 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.6.6.2.1.m1.1"><semantics id="S4.T4.6.6.2.1.m1.1a"><mo id="S4.T4.6.6.2.1.m1.1.1" xref="S4.T4.6.6.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.6.6.2.1.m1.1b"><csymbol cd="latexml" id="S4.T4.6.6.2.1.m1.1.1.cmml" xref="S4.T4.6.6.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.6.6.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.6.6.2.1.m1.1d">±</annotation></semantics></math> 0.002</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.6.6.4"><span class="ltx_text" id="S4.T4.6.6.4.1" style="color:#0000FF;">2.44%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.12.14.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.12.14.1.1" rowspan="3"><span class="ltx_text ltx_font_bold" id="S4.T4.12.14.1.1.1">Instruction Following Metric</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.12.14.1.2">MovieLens</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.12.14.1.3">0.836</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.12.14.1.4"><span class="ltx_text ltx_font_bold" id="S4.T4.12.14.1.4.1">0.988</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.12.14.1.5"><span class="ltx_text" id="S4.T4.12.14.1.5.1" style="color:#0000FF;">18.18%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.12.15.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.12.15.2.1">Yelp</th>
<td class="ltx_td ltx_align_center" id="S4.T4.12.15.2.2">0.791</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.12.15.2.3"><span class="ltx_text ltx_font_bold" id="S4.T4.12.15.2.3.1">0.992</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.12.15.2.4"><span class="ltx_text" id="S4.T4.12.15.2.4.1" style="color:#0000FF;">25.41%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.12.16.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.12.16.3.1">Amazon Review</th>
<td class="ltx_td ltx_align_center" id="S4.T4.12.16.3.2">0.842</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.12.16.3.3"><span class="ltx_text ltx_font_bold" id="S4.T4.12.16.3.3.1">0.999</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.12.16.3.4"><span class="ltx_text" id="S4.T4.12.16.3.4.1" style="color:#0000FF;">18.65%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S4.T4.8.8.3" rowspan="3"><span class="ltx_text ltx_font_bold" id="S4.T4.8.8.3.1">Information Density Metric (x0.1%)</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S4.T4.8.8.4">MovieLens</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.7.7.1">3.788 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.7.7.1.m1.1"><semantics id="S4.T4.7.7.1.m1.1a"><mo id="S4.T4.7.7.1.m1.1.1" xref="S4.T4.7.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.7.7.1.m1.1b"><csymbol cd="latexml" id="S4.T4.7.7.1.m1.1.1.cmml" xref="S4.T4.7.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.7.7.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.7.7.1.m1.1d">±</annotation></semantics></math> 0.004</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S4.T4.8.8.2"><span class="ltx_text ltx_font_bold" id="S4.T4.8.8.2.1">5.184 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.8.8.2.1.m1.1"><semantics id="S4.T4.8.8.2.1.m1.1a"><mo id="S4.T4.8.8.2.1.m1.1.1" xref="S4.T4.8.8.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.8.8.2.1.m1.1b"><csymbol cd="latexml" id="S4.T4.8.8.2.1.m1.1.1.cmml" xref="S4.T4.8.8.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.8.8.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.8.8.2.1.m1.1d">±</annotation></semantics></math> 0.005</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.8.8.5"><span class="ltx_text" id="S4.T4.8.8.5.1" style="color:#0000FF;">36.85%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.10.10">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S4.T4.10.10.3">Yelp</th>
<td class="ltx_td ltx_align_center" id="S4.T4.9.9.1">3.561 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.9.9.1.m1.1"><semantics id="S4.T4.9.9.1.m1.1a"><mo id="S4.T4.9.9.1.m1.1.1" xref="S4.T4.9.9.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.9.9.1.m1.1b"><csymbol cd="latexml" id="S4.T4.9.9.1.m1.1.1.cmml" xref="S4.T4.9.9.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.9.9.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.9.9.1.m1.1d">±</annotation></semantics></math> 0.004</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S4.T4.10.10.2"><span class="ltx_text ltx_font_bold" id="S4.T4.10.10.2.1">4.721 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.10.10.2.1.m1.1"><semantics id="S4.T4.10.10.2.1.m1.1a"><mo id="S4.T4.10.10.2.1.m1.1.1" xref="S4.T4.10.10.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.10.10.2.1.m1.1b"><csymbol cd="latexml" id="S4.T4.10.10.2.1.m1.1.1.cmml" xref="S4.T4.10.10.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.10.10.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.10.10.2.1.m1.1d">±</annotation></semantics></math> 0.005</span></td>
<td class="ltx_td ltx_align_center" id="S4.T4.10.10.4"><span class="ltx_text" id="S4.T4.10.10.4.1" style="color:#0000FF;">32.58%</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.12.12">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S4.T4.12.12.3">Amazon Review</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.11.11.1">2.145 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.11.11.1.m1.1"><semantics id="S4.T4.11.11.1.m1.1a"><mo id="S4.T4.11.11.1.m1.1.1" xref="S4.T4.11.11.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.11.11.1.m1.1b"><csymbol cd="latexml" id="S4.T4.11.11.1.m1.1.1.cmml" xref="S4.T4.11.11.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.11.11.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.11.11.1.m1.1d">±</annotation></semantics></math> 0.002</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r" id="S4.T4.12.12.2"><span class="ltx_text ltx_font_bold" id="S4.T4.12.12.2.1">3.202 <math alttext="\pm" class="ltx_Math" display="inline" id="S4.T4.12.12.2.1.m1.1"><semantics id="S4.T4.12.12.2.1.m1.1a"><mo id="S4.T4.12.12.2.1.m1.1.1" xref="S4.T4.12.12.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S4.T4.12.12.2.1.m1.1b"><csymbol cd="latexml" id="S4.T4.12.12.2.1.m1.1.1.cmml" xref="S4.T4.12.12.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.12.12.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S4.T4.12.12.2.1.m1.1d">±</annotation></semantics></math> 0.003</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.12.12.4"><span class="ltx_text" id="S4.T4.12.12.4.1" style="color:#0000FF;">49.28%</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Comparison of quality metric, instruction following metric, and information density metric between Single-Step and Hierarchy-Critique approaches across different datasets.</figcaption>
</figure>
<div class="ltx_para" id="S4.SS1.SSSx2.p13">
<p class="ltx_p" id="S4.SS1.SSSx2.p13.1">In addition to <span class="ltx_text ltx_font_smallcaps" id="S4.SS1.SSSx2.p13.1.1">UserSumBench</span> benchmark metrics, we also considered other reference-free evaluation metrics that do not require ground-truth summaries for user summary evaluation. These metrics compare the generated summary against user activities without relying on a reference summary.</p>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p14">
<ul class="ltx_itemize" id="S4.I5">
<li class="ltx_item" id="S4.I5.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I5.i1.p1">
<p class="ltx_p" id="S4.I5.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i1.p1.1.1">ROUGE-2</span> <cite class="ltx_cite ltx_citemacro_citep">(Lin <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib9" title="">2004</a>)</cite>: Measures the overlap of bigrams between the generated summary and user activities.</p>
</div>
</li>
<li class="ltx_item" id="S4.I5.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I5.i2.p1">
<p class="ltx_p" id="S4.I5.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i2.p1.1.1">ROUGE-L</span> <cite class="ltx_cite ltx_citemacro_citep">(Lin <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib9" title="">2004</a>)</cite>: Measures the Longest Common Subsequence (LCS) between the generated summary and user activities.</p>
</div>
</li>
<li class="ltx_item" id="S4.I5.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I5.i3.p1">
<p class="ltx_p" id="S4.I5.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i3.p1.1.1">BLEU</span> <cite class="ltx_cite ltx_citemacro_citep">(Papineni et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib13" title="">2002</a>)</cite>: Evaluates the precision of n-grams in the generated summary compared to user activities.</p>
</div>
</li>
<li class="ltx_item" id="S4.I5.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I5.i4.p1">
<p class="ltx_p" id="S4.I5.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i4.p1.1.1">BertScore</span> <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib23" title="">2019</a>)</cite>: Uses BERT embeddings to compute precision, recall, and F1 score based on the similarity of words in the generated summary and user activities.</p>
<ul class="ltx_itemize" id="S4.I5.i4.I1">
<li class="ltx_item" id="S4.I5.i4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I5.i4.I1.i1.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I5.i4.I1.i1.p1">
<p class="ltx_p" id="S4.I5.i4.I1.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i4.I1.i1.p1.1.1">BertScore-precision:</span> Measures the precision of embedding overlap.</p>
</div>
</li>
<li class="ltx_item" id="S4.I5.i4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I5.i4.I1.i2.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I5.i4.I1.i2.p1">
<p class="ltx_p" id="S4.I5.i4.I1.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i4.I1.i2.p1.1.1">BertScore-recall:</span> Measures the recall of embedding overlap.</p>
</div>
</li>
<li class="ltx_item" id="S4.I5.i4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S4.I5.i4.I1.i3.1.1.1">–</span></span>
<div class="ltx_para" id="S4.I5.i4.I1.i3.p1">
<p class="ltx_p" id="S4.I5.i4.I1.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i4.I1.i3.p1.1.1">BertScore-F1:</span> Combines precision and recall to provide an F1 score.</p>
</div>
</li>
</ul>
</div>
</li>
<li class="ltx_item" id="S4.I5.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I5.i5.p1">
<p class="ltx_p" id="S4.I5.i5.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i5.p1.1.1">BLEURT</span> <cite class="ltx_cite ltx_citemacro_citep">(Sellam, Das, and Parikh <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib15" title="">2020</a>)</cite>: Uses a pre-trained model to evaluate the quality of the generated text based on human judgments compared to user activities.</p>
</div>
</li>
<li class="ltx_item" id="S4.I5.i6" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I5.i6.p1">
<p class="ltx_p" id="S4.I5.i6.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I5.i6.p1.1.1">AutoEval</span> <cite class="ltx_cite ltx_citemacro_citep">(Chiang and Lee <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib5" title="">2023</a>)</cite>: Adopts an LLM to automatically evaluates summaries without requiring reference summaries, focusing on coherence and relevance.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS1.SSSx2.p15">
<p class="ltx_p" id="S4.SS1.SSSx2.p15.3">To further validate our approach, we calculated the Pearson Correlation Coefficient between human ratings and the reference-free metrics, including the proposed summary quality measurement <math alttext="Q_{s}" class="ltx_Math" display="inline" id="S4.SS1.SSSx2.p15.1.m1.1"><semantics id="S4.SS1.SSSx2.p15.1.m1.1a"><msub id="S4.SS1.SSSx2.p15.1.m1.1.1" xref="S4.SS1.SSSx2.p15.1.m1.1.1.cmml"><mi id="S4.SS1.SSSx2.p15.1.m1.1.1.2" xref="S4.SS1.SSSx2.p15.1.m1.1.1.2.cmml">Q</mi><mi id="S4.SS1.SSSx2.p15.1.m1.1.1.3" xref="S4.SS1.SSSx2.p15.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSSx2.p15.1.m1.1b"><apply id="S4.SS1.SSSx2.p15.1.m1.1.1.cmml" xref="S4.SS1.SSSx2.p15.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSSx2.p15.1.m1.1.1.1.cmml" xref="S4.SS1.SSSx2.p15.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.SSSx2.p15.1.m1.1.1.2.cmml" xref="S4.SS1.SSSx2.p15.1.m1.1.1.2">𝑄</ci><ci id="S4.SS1.SSSx2.p15.1.m1.1.1.3.cmml" xref="S4.SS1.SSSx2.p15.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSSx2.p15.1.m1.1c">Q_{s}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSSx2.p15.1.m1.1d">italic_Q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> (see Equation <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S3.E1" title="In Quality Metric ‣ 3.1 Benchmark Metrics ‣ 3 UserSumBench Framework ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">1</span></a>). In this comparison, BLEURT utilized a pre-trained BLEURT-base-128 model <cite class="ltx_cite ltx_citemacro_citep">(Sellam, Das, and Parikh <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib15" title="">2020</a>)</cite> for evaluation, while AutoEval was based on the Gemini 1.5 Pro model. The <math alttext="Q_{s}" class="ltx_Math" display="inline" id="S4.SS1.SSSx2.p15.2.m2.1"><semantics id="S4.SS1.SSSx2.p15.2.m2.1a"><msub id="S4.SS1.SSSx2.p15.2.m2.1.1" xref="S4.SS1.SSSx2.p15.2.m2.1.1.cmml"><mi id="S4.SS1.SSSx2.p15.2.m2.1.1.2" xref="S4.SS1.SSSx2.p15.2.m2.1.1.2.cmml">Q</mi><mi id="S4.SS1.SSSx2.p15.2.m2.1.1.3" xref="S4.SS1.SSSx2.p15.2.m2.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSSx2.p15.2.m2.1b"><apply id="S4.SS1.SSSx2.p15.2.m2.1.1.cmml" xref="S4.SS1.SSSx2.p15.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSSx2.p15.2.m2.1.1.1.cmml" xref="S4.SS1.SSSx2.p15.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.SSSx2.p15.2.m2.1.1.2.cmml" xref="S4.SS1.SSSx2.p15.2.m2.1.1.2">𝑄</ci><ci id="S4.SS1.SSSx2.p15.2.m2.1.1.3.cmml" xref="S4.SS1.SSSx2.p15.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSSx2.p15.2.m2.1c">Q_{s}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSSx2.p15.2.m2.1d">italic_Q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> also employed the Gemini 1.5 Pro model for future activity predictions. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.T3" title="Table 3 ‣ Quality Metric vs. Human Ratings ‣ 4.1 Validating Benchmark Metrics ‣ 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">3</span></a>, our metric demonstrated a more reliable and higher correlation with human ratings than other metrics, as they are specifically tailored to the characteristics of user timeline activities. Despite not having a perfect correlation, the <math alttext="Q_{s}" class="ltx_Math" display="inline" id="S4.SS1.SSSx2.p15.3.m3.1"><semantics id="S4.SS1.SSSx2.p15.3.m3.1a"><msub id="S4.SS1.SSSx2.p15.3.m3.1.1" xref="S4.SS1.SSSx2.p15.3.m3.1.1.cmml"><mi id="S4.SS1.SSSx2.p15.3.m3.1.1.2" xref="S4.SS1.SSSx2.p15.3.m3.1.1.2.cmml">Q</mi><mi id="S4.SS1.SSSx2.p15.3.m3.1.1.3" xref="S4.SS1.SSSx2.p15.3.m3.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSSx2.p15.3.m3.1b"><apply id="S4.SS1.SSSx2.p15.3.m3.1.1.cmml" xref="S4.SS1.SSSx2.p15.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSSx2.p15.3.m3.1.1.1.cmml" xref="S4.SS1.SSSx2.p15.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.SSSx2.p15.3.m3.1.1.2.cmml" xref="S4.SS1.SSSx2.p15.3.m3.1.1.2">𝑄</ci><ci id="S4.SS1.SSSx2.p15.3.m3.1.1.3.cmml" xref="S4.SS1.SSSx2.p15.3.m3.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSSx2.p15.3.m3.1c">Q_{s}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSSx2.p15.3.m3.1d">italic_Q start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> remains highly useful for tasks like weakly supervised learning <cite class="ltx_cite ltx_citemacro_citep">(Zhou <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib24" title="">2018</a>)</cite>, where ground-truth summaries are limited.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Evaluating Summarization Approaches</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">In this section, we evaluate our proposed Hierarchy-Critique summarization approach using the <span class="ltx_text ltx_font_smallcaps" id="S4.SS2.p1.1.1">UserSumBench</span> benchmark metrics. For consistency, all LLMs in this experiment used the same model: Gemini 1.5 Flash <cite class="ltx_cite ltx_citemacro_citep">(Reid et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib14" title="">2024</a>)</cite>, across summarization, self-critique verification, and prediction tasks. To validate the robustness of the benchmarks, we conducted three prediction runs on all three datasets to calculate the <math alttext="Mean\pm Sd" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mrow id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mrow id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2.cmml"><mi id="S4.SS2.p1.1.m1.1.1.2.2" xref="S4.SS2.p1.1.m1.1.1.2.2.cmml">M</mi><mo id="S4.SS2.p1.1.m1.1.1.2.1" xref="S4.SS2.p1.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.1.1.2.3" xref="S4.SS2.p1.1.m1.1.1.2.3.cmml">e</mi><mo id="S4.SS2.p1.1.m1.1.1.2.1a" xref="S4.SS2.p1.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.1.1.2.4" xref="S4.SS2.p1.1.m1.1.1.2.4.cmml">a</mi><mo id="S4.SS2.p1.1.m1.1.1.2.1b" xref="S4.SS2.p1.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.1.1.2.5" xref="S4.SS2.p1.1.m1.1.1.2.5.cmml">n</mi></mrow><mo id="S4.SS2.p1.1.m1.1.1.1" xref="S4.SS2.p1.1.m1.1.1.1.cmml">±</mo><mrow id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3.cmml"><mi id="S4.SS2.p1.1.m1.1.1.3.2" xref="S4.SS2.p1.1.m1.1.1.3.2.cmml">S</mi><mo id="S4.SS2.p1.1.m1.1.1.3.1" xref="S4.SS2.p1.1.m1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.p1.1.m1.1.1.3.3" xref="S4.SS2.p1.1.m1.1.1.3.3.cmml">d</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><csymbol cd="latexml" id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1.1">plus-or-minus</csymbol><apply id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2"><times id="S4.SS2.p1.1.m1.1.1.2.1.cmml" xref="S4.SS2.p1.1.m1.1.1.2.1"></times><ci id="S4.SS2.p1.1.m1.1.1.2.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2.2">𝑀</ci><ci id="S4.SS2.p1.1.m1.1.1.2.3.cmml" xref="S4.SS2.p1.1.m1.1.1.2.3">𝑒</ci><ci id="S4.SS2.p1.1.m1.1.1.2.4.cmml" xref="S4.SS2.p1.1.m1.1.1.2.4">𝑎</ci><ci id="S4.SS2.p1.1.m1.1.1.2.5.cmml" xref="S4.SS2.p1.1.m1.1.1.2.5">𝑛</ci></apply><apply id="S4.SS2.p1.1.m1.1.1.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3"><times id="S4.SS2.p1.1.m1.1.1.3.1.cmml" xref="S4.SS2.p1.1.m1.1.1.3.1"></times><ci id="S4.SS2.p1.1.m1.1.1.3.2.cmml" xref="S4.SS2.p1.1.m1.1.1.3.2">𝑆</ci><ci id="S4.SS2.p1.1.m1.1.1.3.3.cmml" xref="S4.SS2.p1.1.m1.1.1.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">Mean\pm Sd</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">italic_M italic_e italic_a italic_n ± italic_S italic_d</annotation></semantics></math> values for the Quality Metric and the Information Density Metric. The results, presented in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#S4.T4" title="Table 4 ‣ Quality Metric vs. Human Ratings ‣ 4.1 Validating Benchmark Metrics ‣ 4 Evaluation ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">4</span></a>, demonstrate that the Hierarchy-Critique approach consistently outperforms the Single-Step approach across various evaluation metrics. Additionally, the stability of the benchmark metrics across multiple predictions confirms their robustness.</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<ul class="ltx_itemize" id="S4.I6">
<li class="ltx_item" id="S4.I6.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I6.i1.p1">
<p class="ltx_p" id="S4.I6.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I6.i1.p1.1.1">Quality Metric:</span> The Hierarchy-Critique approach achieved superior scores on the MovieLens, Yelp, and Amazon Review datasets, with increases of 5.21%, 11.55%, and 2.44% respectively. These gains indicate that the iterative refinement process effectively reduces hallucinations and enhances the overall consistency and quality of the summaries.</p>
</div>
</li>
<li class="ltx_item" id="S4.I6.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I6.i2.p1">
<p class="ltx_p" id="S4.I6.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I6.i2.p1.1.1">Instruction Following Metric:</span> Significant improvements were observed with the Hierarchy-Critique approach, particularly in the Yelp dataset, which showed a 25.41% increase, followed by MovieLens and Amazon Review with gains of 18.18% and 18.65% respectively. This suggests that the Hierarchy-Critique method is more adept at adhering to prompt constraints, likely due to its effective segmentation and summarization of user activities.</p>
</div>
</li>
<li class="ltx_item" id="S4.I6.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I6.i3.p1">
<p class="ltx_p" id="S4.I6.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S4.I6.i3.p1.1.1">Information Density Metric:</span> The Hierarchy-Critique approach demonstrated substantial gains in this metric, with increases of 36.85%, 32.58%, and 49.28% for the MovieLens, Yelp, and Amazon Review datasets respectively. This shows that the approach not only produces accurate summaries but also ensures that these summaries are concise and rich in information, effectively balancing brevity with informativeness.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">These findings underscore the superiority of the Hierarchy-Critique approach over the Single-Step method, particularly in generating higher-quality, instruction-compliant, and information-dense summaries. The effectiveness of time segmentation, combined with iterative refinement and verification processes, plays a pivotal role in these improvements, establishing the Hierarchy-Critique approach as a more robust and reliable option for summarizing user activity timelines.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion and Future Work</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this paper, we introduced <span class="ltx_text ltx_font_smallcaps" id="S5.p1.1.1">UserSumBench</span>, a comprehensive benchmark framework specifically designed to evaluate user summarization approaches through the assessment of user summaries generated from activity timelines. Our key contributions include (1) a reference-free quality metric for assessing user summarization approaches through summaries based on future user activity predictions, which has demonstrated strong effectiveness and close alignment with human preferences across three diverse datasets (MovieLens, Yelp, and Amazon Review), and (2) a robust summarization baseline method that combines a time-hierarchical summarizer with a self-critique verifier, yielding high-quality summaries while effectively minimizing hallucinations.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">The strong alignment between our proposed quality metric and human ratings establishes <span class="ltx_text ltx_font_smallcaps" id="S5.p2.1.1">UserSumBench</span> as a reliable and efficient tool for automated evaluation of user summarization approaches. By offering a cost-effective solution, <span class="ltx_text ltx_font_smallcaps" id="S5.p2.1.2">UserSumBench</span> addresses the pressing need for standardized evaluation methods in the field of user summarization.</p>
</div>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.1">Looking ahead, we plan to expand <span class="ltx_text ltx_font_smallcaps" id="S5.p3.1.1">UserSumBench</span> by integrating real-time summarization techniques and exploring its applicability across additional domains beyond the current datasets. These enhancements will further broaden the utility and impact of the framework. Additionally, we aim to encourage the broader research community to adopt <span class="ltx_text ltx_font_smallcaps" id="S5.p3.1.2">UserSumBench</span>, fostering its potential to standardize user summary evaluation practices and drive innovation in the development of more accurate and robust summarization techniques. Ultimately, we believe <span class="ltx_text ltx_font_smallcaps" id="S5.p3.1.3">UserSumBench</span> will play a significant role in advancing personalization, recommendation systems, and user understanding in the digital landscape.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Achiam et al. (2023)</span>
<span class="ltx_bibblock">
Achiam, J.; Adler, S.; Agarwal, S.; Ahmad, L.; Akkaya, I.; Aleman, F. L.;
Almeida, D.; Altenschmidt, J.; Altman, S.; Anadkat, S.; et al. 2023.

</span>
<span class="ltx_bibblock">Gpt-4 technical report.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib1.1.1">arXiv preprint arXiv:2303.08774</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Akkasi, Fraser, and Komeili (2023)</span>
<span class="ltx_bibblock">
Akkasi, A.; Fraser, K. C.; and Komeili, M. 2023.

</span>
<span class="ltx_bibblock">Reference-free summarization evaluation with large language models.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib2.1.1">Proceedings of the 4th Workshop on Evaluation and Comparison
of NLP Systems</em>, 193–201.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Anthropic (2023)</span>
<span class="ltx_bibblock">
Anthropic. 2023.

</span>
<span class="ltx_bibblock">The Claude 3 Model Family: Opus, Sonnet, Haiku.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al. (2024)</span>
<span class="ltx_bibblock">
Chen, X.; Wang, T.; Zhu, Q.; Guo, T.; Gao, S.; Lu, Z.; Gao, X.; and Zhang, X.
2024.

</span>
<span class="ltx_bibblock">Rethinking Scientific Summarization Evaluation: Grounding Explainable
Metrics on Facet-aware Benchmark.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib4.1.1">arXiv preprint arXiv:2402.14359</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chiang and Lee (2023)</span>
<span class="ltx_bibblock">
Chiang, C.-H.; and Lee, H.-y. 2023.

</span>
<span class="ltx_bibblock">A closer look into automatic evaluation using large language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2310.05657</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fabbri et al. (2021)</span>
<span class="ltx_bibblock">
Fabbri, A. R.; Kryściński, W.; McCann, B.; Xiong, C.; Socher, R.; and
Radev, D. 2021.

</span>
<span class="ltx_bibblock">Summeval: Re-evaluating summarization evaluation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.1.1">Transactions of the Association for Computational Linguistics</em>,
9: 391–409.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Giarelis, Mastrokostas, and
Karacapilidis (2023)</span>
<span class="ltx_bibblock">
Giarelis, N.; Mastrokostas, C.; and Karacapilidis, N. 2023.

</span>
<span class="ltx_bibblock">Abstractive vs. Extractive Summarization: An Experimental Review.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Applied Sciences</em>, 13(13): 7620.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Harper and Konstan (2015)</span>
<span class="ltx_bibblock">
Harper, F. M.; and Konstan, J. A. 2015.

</span>
<span class="ltx_bibblock">The movielens datasets: History and context.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib8.1.1">Acm transactions on interactive intelligent systems (tiis)</em>,
5(4): 1–19.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lin (2004)</span>
<span class="ltx_bibblock">
Lin, C.-Y. 2004.

</span>
<span class="ltx_bibblock">Rouge: A package for automatic evaluation of summaries.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib9.1.1">Text summarization branches out</em>, 74–81.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al. (2023)</span>
<span class="ltx_bibblock">
Liu, Y.; Fabbri, A. R.; Chen, J.; Zhao, Y.; Han, S.; Joty, S.; Liu, P.; Radev,
D.; Wu, C.-S.; and Cohan, A. 2023.

</span>
<span class="ltx_bibblock">Benchmarking generation and evaluation capabilities of large language
models for instruction controllable summarization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib10.1.1">arXiv preprint arXiv:2311.09184</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lloret, Plaza, and Aker (2018)</span>
<span class="ltx_bibblock">
Lloret, E.; Plaza, L.; and Aker, A. 2018.

</span>
<span class="ltx_bibblock">The challenging task of summary evaluation: an overview.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib11.1.1">Language Resources and Evaluation</em>, 52: 101–148.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ni, Li, and McAuley (2019)</span>
<span class="ltx_bibblock">
Ni, J.; Li, J.; and McAuley, J. 2019.

</span>
<span class="ltx_bibblock">Justifying recommendations using distantly-labeled reviews and
fine-grained aspects.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib12.1.1">Proceedings of the 2019 conference on empirical methods in
natural language processing and the 9th international joint conference on
natural language processing (EMNLP-IJCNLP)</em>, 188–197.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Papineni et al. (2002)</span>
<span class="ltx_bibblock">
Papineni, K.; Roukos, S.; Ward, T.; and Zhu, W.-J. 2002.

</span>
<span class="ltx_bibblock">Bleu: a method for automatic evaluation of machine translation.

</span>
<span class="ltx_bibblock">In <em class="ltx_emph ltx_font_italic" id="bib.bib13.1.1">Proceedings of the 40th annual meeting of the Association
for Computational Linguistics</em>, 311–318.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Reid et al. (2024)</span>
<span class="ltx_bibblock">
Reid, M.; Savinov, N.; Teplyashin, D.; Lepikhin, D.; Lillicrap, T.; Alayrac,
J.-b.; Soricut, R.; Lazaridou, A.; Firat, O.; Schrittwieser, J.; et al. 2024.

</span>
<span class="ltx_bibblock">Gemini 1.5: Unlocking multimodal understanding across millions of
tokens of context.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">arXiv preprint arXiv:2403.05530</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sellam, Das, and Parikh (2020)</span>
<span class="ltx_bibblock">
Sellam, T.; Das, D.; and Parikh, A. P. 2020.

</span>
<span class="ltx_bibblock">BLEURT: Learning robust metrics for text generation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">arXiv preprint arXiv:2004.04696</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Singhal (2012)</span>
<span class="ltx_bibblock">
Singhal, A. 2012.

</span>
<span class="ltx_bibblock">Introducing the Knowledge Graph, things, not strings.

</span>
<span class="ltx_bibblock"><span class="ltx_ref ltx_nolink ltx_url ltx_ref_self">https://blog.google/products/search/introducing-knowledge-graph-things-not</span>.

</span>
<span class="ltx_bibblock">Blog post.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Skopek et al. (2023)</span>
<span class="ltx_bibblock">
Skopek, O.; Aralikatte, R.; Gooding, S.; and Carbune, V. 2023.

</span>
<span class="ltx_bibblock">Towards better evaluation of instruction-following: A case-study in
summarization.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">arXiv preprint arXiv:2310.08394</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Team et al. (2023)</span>
<span class="ltx_bibblock">
Team, G.; Anil, R.; Borgeaud, S.; Wu, Y.; Alayrac, J.-B.; Yu, J.; Soricut, R.;
Schalkwyk, J.; Dai, A. M.; Hauth, A.; et al. 2023.

</span>
<span class="ltx_bibblock">Gemini: a family of highly capable multimodal models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib18.1.1">arXiv preprint arXiv:2312.11805</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2023)</span>
<span class="ltx_bibblock">
Wang, R.; Wang, H.; Mi, F.; Chen, Y.; Xu, R.; and Wong, K.-F. 2023.

</span>
<span class="ltx_bibblock">Self-critique prompting with large language models for inductive
instructions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.1.1">arXiv preprint arXiv:2305.13733</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al. (2019)</span>
<span class="ltx_bibblock">
Wang, S.; Hu, L.; Wang, Y.; Cao, L.; Sheng, Q. Z.; and Orgun, M. 2019.

</span>
<span class="ltx_bibblock">Sequential recommender systems: challenges, progress and prospects.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">arXiv preprint arXiv:2001.04830</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al. (2024)</span>
<span class="ltx_bibblock">
Xu, L.; Su, Z.; Yu, M.; Xu, J.; Choi, J. D.; Zhou, J.; and Liu, F. 2024.

</span>
<span class="ltx_bibblock">Identifying Factual Inconsistency in Summaries: Towards Effective
Utilization of Large Language Model.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">arXiv preprint arXiv:2402.12821</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(22)</span>
<span class="ltx_bibblock">
Yelp. 2023.

</span>
<span class="ltx_bibblock">Yelp dataset.

</span>
<span class="ltx_bibblock"><span class="ltx_ref ltx_nolink ltx_url ltx_ref_self">https://www.yelp.com/dataset</span>.

</span>
<span class="ltx_bibblock">Dataset document.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2019)</span>
<span class="ltx_bibblock">
Zhang, T.; Kishore, V.; Wu, F.; Weinberger, K. Q.; and Artzi, Y. 2019.

</span>
<span class="ltx_bibblock">Bertscore: Evaluating text generation with bert.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.1.1">arXiv preprint arXiv:1904.09675</em>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou (2018)</span>
<span class="ltx_bibblock">
Zhou, Z.-H. 2018.

</span>
<span class="ltx_bibblock">A brief introduction to weakly supervised learning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib24.1.1">National science review</em>, 5(1): 44–53.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Prompt Examples</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>LLM Prompt Template for Single-Step Summarization</h3>
<div class="ltx_para" id="A1.SS1.p1">
<span class="ltx_ERROR undefined" id="A1.SS1.p1.1">{mdframed}</span>
<p class="ltx_p" id="A1.SS1.p1.2">—– Instructions —–</p>
</div>
<div class="ltx_para" id="A1.SS1.p2">
<p class="ltx_p" id="A1.SS1.p2.1">Summarize my “User Activities” and provide insights that address the query: “<span class="ltx_text ltx_font_bold" id="A1.SS1.p2.1.1">{query}</span>”. Adhere to the instructions below.</p>
</div>
<div class="ltx_para" id="A1.SS1.p3">
<p class="ltx_p" id="A1.SS1.p3.1">1. The summary should have the format with **Summary** and **Insights**.</p>
</div>
<div class="ltx_para" id="A1.SS1.p4">
<p class="ltx_p" id="A1.SS1.p4.1">2. The summary should take into account the changes of my long-term interest over time.</p>
</div>
<div class="ltx_para" id="A1.SS1.p5">
<p class="ltx_p" id="A1.SS1.p5.1">3. My activities are cataloged in the following “User Activities” section, with each separated by a newline.</p>
</div>
<div class="ltx_para" id="A1.SS1.p6">
<p class="ltx_p" id="A1.SS1.p6.1">4. Limit the summary to no more than <span class="ltx_text ltx_font_bold" id="A1.SS1.p6.1.1">{max_words}</span> words.

<br class="ltx_break"/>
<br class="ltx_break"/>—– User Activities —–

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS1.p6.1.2">{user_activities}</span></p>
</div>
<div class="ltx_para" id="A1.SS1.p7">
<p class="ltx_p" id="A1.SS1.p7.1">Here we define:</p>
</div>
<div class="ltx_para" id="A1.SS1.p8">
<p class="ltx_p" id="A1.SS1.p8.1"><span class="ltx_text ltx_font_bold" id="A1.SS1.p8.1.1">{query}:</span> Query intention of the summarization. For example, ”Summarize my long-term movie watching preference”.</p>
</div>
<div class="ltx_para" id="A1.SS1.p9">
<p class="ltx_p" id="A1.SS1.p9.1"><span class="ltx_text ltx_font_bold" id="A1.SS1.p9.1.1">{max_words}:</span> Max number of words for the summary.</p>
</div>
<div class="ltx_para" id="A1.SS1.p10">
<p class="ltx_p" id="A1.SS1.p10.1"><span class="ltx_text ltx_font_bold" id="A1.SS1.p10.1.1">{user_activities}:</span> List of user activities.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>LLM Prompt Template for Segment Summarization</h3>
<div class="ltx_para" id="A1.SS2.p1">
<span class="ltx_ERROR undefined" id="A1.SS2.p1.1">{mdframed}</span>
<p class="ltx_p" id="A1.SS2.p1.2">—– Instructions —–</p>
</div>
<div class="ltx_para" id="A1.SS2.p2">
<p class="ltx_p" id="A1.SS2.p2.1">Summarize my “User Activities” related to the specified time range “<span class="ltx_text ltx_font_bold" id="A1.SS2.p2.1.1">{time_range}</span>” and provide insights that address the query: “<span class="ltx_text ltx_font_bold" id="A1.SS2.p2.1.2">{query}</span>”. Adhere to the instructions below.</p>
</div>
<div class="ltx_para" id="A1.SS2.p3">
<p class="ltx_p" id="A1.SS2.p3.1">1. The summary should have the format with **Summary** and **Insights**.</p>
</div>
<div class="ltx_para" id="A1.SS2.p4">
<p class="ltx_p" id="A1.SS2.p4.1">2. The summary should take into account the changes of my long-term interest over time.</p>
</div>
<div class="ltx_para" id="A1.SS2.p5">
<p class="ltx_p" id="A1.SS2.p5.1">3. My activities related to this time range are cataloged in the following “User Activities” section, with each separated by a newline.</p>
</div>
<div class="ltx_para" id="A1.SS2.p6">
<p class="ltx_p" id="A1.SS2.p6.1">4. Limit the summary to no more than <span class="ltx_text ltx_font_bold" id="A1.SS2.p6.1.1">{max_words}</span> words.

<br class="ltx_break"/>
<br class="ltx_break"/>—– User Activities —–

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS2.p6.1.2">{user_activities}</span></p>
</div>
<div class="ltx_para" id="A1.SS2.p7">
<p class="ltx_p" id="A1.SS2.p7.1">Here we define:</p>
</div>
<div class="ltx_para" id="A1.SS2.p8">
<p class="ltx_p" id="A1.SS2.p8.1"><span class="ltx_text ltx_font_bold" id="A1.SS2.p8.1.1">{time_range}:</span> Time range of the segment user activities.</p>
</div>
<div class="ltx_para" id="A1.SS2.p9">
<p class="ltx_p" id="A1.SS2.p9.1"><span class="ltx_text ltx_font_bold" id="A1.SS2.p9.1.1">{query}:</span> Query intention of the summarization. For example, ”Summarize my long-term movie watching preference”.</p>
</div>
<div class="ltx_para" id="A1.SS2.p10">
<p class="ltx_p" id="A1.SS2.p10.1"><span class="ltx_text ltx_font_bold" id="A1.SS2.p10.1.1">{max_words}:</span> Max number of words for the summary.</p>
</div>
<div class="ltx_para" id="A1.SS2.p11">
<p class="ltx_p" id="A1.SS2.p11.1"><span class="ltx_text ltx_font_bold" id="A1.SS2.p11.1.1">{user_activities}:</span> List of user activities of the segment.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>LLM Prompt Template for Segment Summarization with Feedback</h3>
<div class="ltx_para" id="A1.SS3.p1">
<span class="ltx_ERROR undefined" id="A1.SS3.p1.1">{mdframed}</span>
<p class="ltx_p" id="A1.SS3.p1.2">—– Instructions —–</p>
</div>
<div class="ltx_para" id="A1.SS3.p2">
<p class="ltx_p" id="A1.SS3.p2.1">Summarize my “User Activities” related to the specified time range “<span class="ltx_text ltx_font_bold" id="A1.SS3.p2.1.1">{time_range}</span>”, revise the below “Previous Summary” to be consistent with every “Question” and its corresponding “ReferenceAnswer” in the below “Previous Question Answers”. Adhere to the instructions below.</p>
</div>
<div class="ltx_para" id="A1.SS3.p3">
<p class="ltx_p" id="A1.SS3.p3.1">1. For each “Question” in “Previous Question Answers”, the “Answer” is derived from the “Previous Summary”, while the “ReferenceAnswer” is based on my “User Activities”.</p>
</div>
<div class="ltx_para" id="A1.SS3.p4">
<p class="ltx_p" id="A1.SS3.p4.1">2. Modify the “Previous Summary” to incorporate the “ReferenceAnswer” rather than the “Answer” for each “Question” in the “Previous Question Answers”.</p>
</div>
<div class="ltx_para" id="A1.SS3.p5">
<p class="ltx_p" id="A1.SS3.p5.1">3. Ensure the new summary provides insights that address the query: “<span class="ltx_text ltx_font_bold" id="A1.SS3.p5.1.1">{query}</span>”.</p>
</div>
<div class="ltx_para" id="A1.SS3.p6">
<p class="ltx_p" id="A1.SS3.p6.1">4. The new summary should have the format with **Summary** and **Insights**.</p>
</div>
<div class="ltx_para" id="A1.SS3.p7">
<p class="ltx_p" id="A1.SS3.p7.1">5. The new summary should take into account the changes of my long-term interest over time.</p>
</div>
<div class="ltx_para" id="A1.SS3.p8">
<p class="ltx_p" id="A1.SS3.p8.1">6. My activities related to this time range are cataloged in the following “User Activities” section, with each separated by a newline.</p>
</div>
<div class="ltx_para" id="A1.SS3.p9">
<p class="ltx_p" id="A1.SS3.p9.1">7. Limit the summary to no more than <span class="ltx_text ltx_font_bold" id="A1.SS3.p9.1.1">{max_words}</span> words.

<br class="ltx_break"/>
<br class="ltx_break"/>—– Previous Summary —–

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.p9.1.2">{previous_summary}</span>
<br class="ltx_break"/>
<br class="ltx_break"/>—– Previous Question Answers —–

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.p9.1.3">{previous_question_answer_pairs}</span>
<br class="ltx_break"/>
<br class="ltx_break"/>—– User Activities —–

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS3.p9.1.4">{user_activities}</span></p>
</div>
<div class="ltx_para" id="A1.SS3.p10">
<p class="ltx_p" id="A1.SS3.p10.1">Here we define:</p>
</div>
<div class="ltx_para" id="A1.SS3.p11">
<p class="ltx_p" id="A1.SS3.p11.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.p11.1.1">{time_range}:</span> Time range of the segment user activities.</p>
</div>
<div class="ltx_para" id="A1.SS3.p12">
<p class="ltx_p" id="A1.SS3.p12.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.p12.1.1">{query}:</span> Query intention of the summarization. For example, ”Summarize my long-term movie watching preference”.</p>
</div>
<div class="ltx_para" id="A1.SS3.p13">
<p class="ltx_p" id="A1.SS3.p13.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.p13.1.1">{max_words}:</span> Max number of words for the summary.</p>
</div>
<div class="ltx_para" id="A1.SS3.p14">
<p class="ltx_p" id="A1.SS3.p14.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.p14.1.1">{previous_summary}:</span> Previous generated summary.</p>
</div>
<div class="ltx_para" id="A1.SS3.p15">
<p class="ltx_p" id="A1.SS3.p15.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.p15.1.1">{previous_question_answer_pairs}:</span> Previous list of generated QA pairs.</p>
</div>
<div class="ltx_para" id="A1.SS3.p16">
<p class="ltx_p" id="A1.SS3.p16.1"><span class="ltx_text ltx_font_bold" id="A1.SS3.p16.1.1">{user_activities}:</span> List of user activities of the segment.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>LLMs Prompt Template for Query Consistency</h3>
<div class="ltx_para" id="A1.SS4.p1">
<span class="ltx_ERROR undefined" id="A1.SS4.p1.1">{mdframed}</span>
<p class="ltx_p" id="A1.SS4.p1.2">—– Instructions —–</p>
</div>
<div class="ltx_para" id="A1.SS4.p2">
<p class="ltx_p" id="A1.SS4.p2.1">Evaluate the relevance of a summary under the following “Summary” section to a query under the following “Query” section.</p>
</div>
<div class="ltx_para" id="A1.SS4.p3">
<p class="ltx_p" id="A1.SS4.p3.1">Return “<span class="ltx_text ltx_font_italic" id="A1.SS4.p3.1.1">consistent</span>” if the summary aligns with the query, and “<span class="ltx_text ltx_font_italic" id="A1.SS4.p3.1.2">inconsistent</span>” if the summary is unrelated to the query.</p>
</div>
<div class="ltx_para" id="A1.SS4.p4">
<p class="ltx_p" id="A1.SS4.p4.1">The response is only single word “<span class="ltx_text ltx_font_italic" id="A1.SS4.p4.1.1">consistent</span>” or “<span class="ltx_text ltx_font_italic" id="A1.SS4.p4.1.2">inconsistent</span>” without any explanation.

<br class="ltx_break"/>
<br class="ltx_break"/>—– Summary —–

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS4.p4.1.3">{summary}</span>
<br class="ltx_break"/>
<br class="ltx_break"/>—– Query —–

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS4.p4.1.4">{query}</span></p>
</div>
<div class="ltx_para" id="A1.SS4.p5">
<p class="ltx_p" id="A1.SS4.p5.1">Here we define:</p>
</div>
<div class="ltx_para" id="A1.SS4.p6">
<p class="ltx_p" id="A1.SS4.p6.1"><span class="ltx_text ltx_font_bold" id="A1.SS4.p6.1.1">{summary}:</span> Provided summary.</p>
</div>
<div class="ltx_para" id="A1.SS4.p7">
<p class="ltx_p" id="A1.SS4.p7.1"><span class="ltx_text ltx_font_bold" id="A1.SS4.p7.1.1">{query}:</span> Query intention of the summarization.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.5 </span>LLMs Prompt Template for Question Generation</h3>
<div class="ltx_para" id="A1.SS5.p1">
<span class="ltx_ERROR undefined" id="A1.SS5.p1.1">{mdframed}</span>
<p class="ltx_p" id="A1.SS5.p1.2">—– Instructions —–</p>
</div>
<div class="ltx_para" id="A1.SS5.p2">
<p class="ltx_p" id="A1.SS5.p2.1">Given the below “KG Entities” and “Summary”, adhere to the instructions below to create “Question-Answer Pairs”:</p>
</div>
<div class="ltx_para" id="A1.SS5.p3">
<p class="ltx_p" id="A1.SS5.p3.1">1. Each pair must be related to a specific KG entity.</p>
</div>
<div class="ltx_para" id="A1.SS5.p4">
<p class="ltx_p" id="A1.SS5.p4.1">2. The answer must be the KG entity itself.</p>
</div>
<div class="ltx_para" id="A1.SS5.p5">
<p class="ltx_p" id="A1.SS5.p5.1">3. Formulate questions that are directly relevant to the KG entity within the context of the summary.</p>
</div>
<div class="ltx_para" id="A1.SS5.p6">
<p class="ltx_p" id="A1.SS5.p6.1">4. Avoid creating questions that are open-ended.</p>
</div>
<div class="ltx_para" id="A1.SS5.p7">
<p class="ltx_p" id="A1.SS5.p7.1">5. Use the following format for your response, as shown under the “Question-Answer Pairs” of the “Example” section below: [Question#1: <span class="ltx_text ltx_font_italic" id="A1.SS5.p7.1.1">”Question”</span>, Answer#1: <span class="ltx_text ltx_font_italic" id="A1.SS5.p7.1.2">”Answer”</span>].</p>
</div>
<div class="ltx_para" id="A1.SS5.p8">
<p class="ltx_p" id="A1.SS5.p8.1">Following the above steps and an example under the following “Example” section, create “Question-Answer Pairs” based on the task under the “Task” section.

<br class="ltx_break"/>
<br class="ltx_break"/>—– Example —–

<br class="ltx_break"/>“KG Entities”:

<br class="ltx_break"/>hiking

<br class="ltx_break"/>pop music

<br class="ltx_break"/>
<br class="ltx_break"/>“Summary”:</p>
</div>
<div class="ltx_para" id="A1.SS5.p9">
<p class="ltx_p" id="A1.SS5.p9.1">**Summary:**</p>
</div>
<div class="ltx_para" id="A1.SS5.p10">
<p class="ltx_p" id="A1.SS5.p10.1">The user demonstrates a robust long-term interest in outdoor and musical activities. Specifically, they are drawn to hiking and pop music.</p>
</div>
<div class="ltx_para" id="A1.SS5.p11">
<p class="ltx_p" id="A1.SS5.p11.1">**Insights:**</p>
</div>
<div class="ltx_para" id="A1.SS5.p12">
<p class="ltx_p" id="A1.SS5.p12.1">* Sports Recreation and Fitness: The user has a sustained interest in hiking, engaging regularly in this activity, which indicates a preference for exploring nature and challenging terrains.</p>
</div>
<div class="ltx_para" id="A1.SS5.p13">
<p class="ltx_p" id="A1.SS5.p13.1">* Entertainment Media and Arts: The user enjoys pop music, known for its wide appeal and catchy melodies, reflecting a consistent interest in this genre.

<br class="ltx_break"/>
<br class="ltx_break"/>“Question-Answer Pairs”:</p>
</div>
<div class="ltx_para" id="A1.SS5.p14">
<p class="ltx_p" id="A1.SS5.p14.1">[Question#1: “What outdoor activity is the user mainly interested in according to their searches and discussions?”, Answer#1: “hiking”]</p>
</div>
<div class="ltx_para" id="A1.SS5.p15">
<p class="ltx_p" id="A1.SS5.p15.1">[Question#2: “What genre of music does the user prefer, known for its wide appeal and catchy melodies?”, Answer#2: “pop music”]

<br class="ltx_break"/>
<br class="ltx_break"/>—Task—

<br class="ltx_break"/>“KG Entities”:

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS5.p15.1.1">{kg_entities}</span>
<br class="ltx_break"/>
<br class="ltx_break"/>“Summary”:

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS5.p15.1.2">{summary}</span></p>
</div>
<div class="ltx_para" id="A1.SS5.p16">
<p class="ltx_p" id="A1.SS5.p16.1">Here we define:</p>
</div>
<div class="ltx_para" id="A1.SS5.p17">
<p class="ltx_p" id="A1.SS5.p17.1"><span class="ltx_text ltx_font_bold" id="A1.SS5.p17.1.1">{kg_entities}:</span> List of KG entities extracted from the summary.</p>
</div>
<div class="ltx_para" id="A1.SS5.p18">
<p class="ltx_p" id="A1.SS5.p18.1"><span class="ltx_text ltx_font_bold" id="A1.SS5.p18.1.1">{summary}:</span> Provided summary.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS6">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.6 </span>LLMs Prompt Template for Question Answering</h3>
<div class="ltx_para" id="A1.SS6.p1">
<span class="ltx_ERROR undefined" id="A1.SS6.p1.1">{mdframed}</span>
<p class="ltx_p" id="A1.SS6.p1.2">—Instructions—</p>
</div>
<div class="ltx_para" id="A1.SS6.p2">
<p class="ltx_p" id="A1.SS6.p2.1">Given the below “Question-Answer Pairs” and my “User Activities”, judge if each question-answer pair is consistent with my activities.
Adhere to the instructions below.</p>
</div>
<div class="ltx_para" id="A1.SS6.p3">
<p class="ltx_p" id="A1.SS6.p3.1">1. Each “Judgement” is composed of “Status” and “ReferenceAnswer” like the following format: [Status#1: <span class="ltx_text ltx_font_italic" id="A1.SS6.p3.1.1">”Status”</span>, ReferenceAnswer#1: <span class="ltx_text ltx_font_italic" id="A1.SS6.p3.1.2">”ReferenceAnswer”</span>].</p>
</div>
<div class="ltx_para" id="A1.SS6.p4">
<p class="ltx_p" id="A1.SS6.p4.1">2. The “Status” should be labeled as “<span class="ltx_text ltx_font_italic" id="A1.SS6.p4.1.1">consistent</span>” or ’<span class="ltx_text ltx_font_italic" id="A1.SS6.p4.1.2">inconsistent</span>”.</p>
</div>
<div class="ltx_para" id="A1.SS6.p5">
<p class="ltx_p" id="A1.SS6.p5.1">3. A “<span class="ltx_text ltx_font_italic" id="A1.SS6.p5.1.1">consistent</span>” status means the question-answer pair aligns with or does not contradict the information provided in my activities. The “ReferenceAnswer” should be “none”.</p>
</div>
<div class="ltx_para" id="A1.SS6.p6">
<p class="ltx_p" id="A1.SS6.p6.1">4. An “<span class="ltx_text ltx_font_italic" id="A1.SS6.p6.1.1">inconsistent</span>” status means the question-answer pair conflicts directly with or is contradicted by the information provided in my activities. The “ReferenceAnswer” should be a new answer of the question based on my activities.</p>
</div>
<div class="ltx_para" id="A1.SS6.p7">
<p class="ltx_p" id="A1.SS6.p7.1">5. Use the following format for your response, as shown under the “Judgements” of the following “Example” section below like [Status#2: <span class="ltx_text ltx_font_italic" id="A1.SS6.p7.1.1">”Status”</span>, ReferenceAnswer#2: <span class="ltx_text ltx_font_italic" id="A1.SS6.p7.1.2">”ReferenceAnswer”</span>].</p>
</div>
<div class="ltx_para" id="A1.SS6.p8">
<p class="ltx_p" id="A1.SS6.p8.1">6. Match each judgement to its corresponding question-answer pair by their sequence, such as [Status#2: <span class="ltx_text ltx_font_italic" id="A1.SS6.p8.1.1">”Status”</span>, ReferenceAnswer#2: <span class="ltx_text ltx_font_italic" id="A1.SS6.p8.1.2">”ReferenceAnswer”</span>] pertains to
[Question#2: <span class="ltx_text ltx_font_italic" id="A1.SS6.p8.1.3">”Question”</span>, Answer#2: <span class="ltx_text ltx_font_italic" id="A1.SS6.p8.1.4">”Answer”</span>].</p>
</div>
<div class="ltx_para" id="A1.SS6.p9">
<p class="ltx_p" id="A1.SS6.p9.1">Following the above steps and an example under the following “Example” section, create judgements based on the task under the “Task” section.

<br class="ltx_break"/>
<br class="ltx_break"/>—– Example —–

<br class="ltx_break"/>“Question-Answer Pairs”:</p>
</div>
<div class="ltx_para" id="A1.SS6.p10">
<p class="ltx_p" id="A1.SS6.p10.1">[Question#1: “What outdoor activity is the user mainly interested in according to their searches and discussions?”, Answer#1: “hiking”]</p>
</div>
<div class="ltx_para" id="A1.SS6.p11">
<p class="ltx_p" id="A1.SS6.p11.1">[Question#2: “What genre of music does the user prefer, known for its wide appeal and catchy melodies?”, Answer#2: “rock music”]

<br class="ltx_break"/>
<br class="ltx_break"/>“User Activities”:

<br class="ltx_break"/>searched “Pop music trends in the 2020s” around Sat 05/15/2004 4PM 
<br class="ltx_break"/>searched “Best coffee brewing methods for home” around Fri 06/11/2004 6PM 
<br class="ltx_break"/>searched “How to prepare for a multi-day hiking trip” around Wed 07/21/2004 7PM 
<br class="ltx_break"/>searched “The evolution of electronic elements in pop music” around Sun 04/28/2004 5PM 
<br class="ltx_break"/>searched “Hiking trails with the best views in the U.S.” around Mon 04/29/2004 1PM 
<br class="ltx_break"/>
<br class="ltx_break"/>“Judgements”:

<br class="ltx_break"/>[Status#1: “<span class="ltx_text ltx_font_italic" id="A1.SS6.p11.1.1">consistent</span>”, ReferenceAnswer#1: “none”]

<br class="ltx_break"/>[Status#2: “<span class="ltx_text ltx_font_italic" id="A1.SS6.p11.1.2">inconsistent</span>”, ReferenceAnswer#2: “pop music”]

<br class="ltx_break"/>
<br class="ltx_break"/>—– Task —–

<br class="ltx_break"/>“Question-Answer Pairs”:

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS6.p11.1.3">{question_answer_pairs}</span>
<br class="ltx_break"/>
<br class="ltx_break"/>“User Activities”:

<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="A1.SS6.p11.1.4">{user_activities}</span></p>
</div>
<div class="ltx_para" id="A1.SS6.p12">
<p class="ltx_p" id="A1.SS6.p12.1">Here we define:</p>
</div>
<div class="ltx_para" id="A1.SS6.p13">
<p class="ltx_p" id="A1.SS6.p13.1"><span class="ltx_text ltx_font_bold" id="A1.SS6.p13.1.1">{question_answer_pairs}:</span> List of generated QA pairs related to the KG entities.</p>
</div>
<div class="ltx_para" id="A1.SS6.p14">
<p class="ltx_p" id="A1.SS6.p14.1"><span class="ltx_text ltx_font_bold" id="A1.SS6.p14.1.1">{user_activities}:</span> User activities which are used to generate the summary.</p>
</div>
</section>
<section class="ltx_subsection" id="A1.SS7">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.7 </span>LLMs Prompt Template for Combining Time Segments</h3>
<div class="ltx_para" id="A1.SS7.p1">
<span class="ltx_ERROR undefined" id="A1.SS7.p1.1">{mdframed}</span>
<p class="ltx_p" id="A1.SS7.p1.2">—Instructions—</p>
</div>
<div class="ltx_para" id="A1.SS7.p2">
<p class="ltx_p" id="A1.SS7.p2.1">Combine all the time segment summaries under the “Time Segment Summaries” section. Adhere to the instructions below.</p>
</div>
<div class="ltx_para" id="A1.SS7.p3">
<p class="ltx_p" id="A1.SS7.p3.1">1. The combined summary should offer insights relevant to the query: “<span class="ltx_text ltx_font_bold" id="A1.SS7.p3.1.1">{query}</span>”.</p>
</div>
<div class="ltx_para" id="A1.SS7.p4">
<p class="ltx_p" id="A1.SS7.p4.1">2. Format the combined summary with sections labeled **Summary** and **Insights**.</p>
</div>
<div class="ltx_para" id="A1.SS7.p5">
<p class="ltx_p" id="A1.SS7.p5.1">3. Focus the combined summary on my recent interest preferences (recent time segments).</p>
</div>
<div class="ltx_para" id="A1.SS7.p6">
<p class="ltx_p" id="A1.SS7.p6.1">4. Limit the combined summary to no more than <span class="ltx_text ltx_font_bold" id="A1.SS7.p6.1.1">{max_words}</span> words.

<br class="ltx_break"/>
<br class="ltx_break"/>—– Time Segment Summaries —–

<br class="ltx_break"/>Summary of Time Segment “<span class="ltx_text ltx_font_bold" id="A1.SS7.p6.1.2">{time_range}</span>”:
<span class="ltx_text ltx_font_bold" id="A1.SS7.p6.1.3">{segment_summary}</span></p>
</div>
<div class="ltx_para" id="A1.SS7.p7">
<p class="ltx_p" id="A1.SS7.p7.1">…</p>
</div>
<div class="ltx_para" id="A1.SS7.p8">
<p class="ltx_p" id="A1.SS7.p8.1">Here we define:</p>
</div>
<div class="ltx_para" id="A1.SS7.p9">
<p class="ltx_p" id="A1.SS7.p9.1"><span class="ltx_text ltx_font_bold" id="A1.SS7.p9.1.1">{query}:</span> Query intention of the summarization.</p>
</div>
<div class="ltx_para" id="A1.SS7.p10">
<p class="ltx_p" id="A1.SS7.p10.1"><span class="ltx_text ltx_font_bold" id="A1.SS7.p10.1.1">{max_words}:</span> Max number of words for the summary.</p>
</div>
<div class="ltx_para" id="A1.SS7.p11">
<p class="ltx_p" id="A1.SS7.p11.1"><span class="ltx_text ltx_font_bold" id="A1.SS7.p11.1.1">{time_range}:</span> Time range of a segment.</p>
</div>
<div class="ltx_para" id="A1.SS7.p12">
<p class="ltx_p" id="A1.SS7.p12.1"><span class="ltx_text ltx_font_bold" id="A1.SS7.p12.1.1">{segment_summary}:</span> Summary of a time segment.</p>
</div>
</section>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Analysis of Benchmark Metrics on Popular Models</h2>
<figure class="ltx_figure" id="A2.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F5.1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="455" id="A2.F5.1.g1" src="extracted/5836770/figures/model_comparison_on_quality_metric.png" width="698"/>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F5.2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="456" id="A2.F5.2.g1" src="extracted/5836770/figures/model_comparison_on_instruction_following.png" width="698"/>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="A2.F5.3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="455" id="A2.F5.3.g1" src="extracted/5836770/figures/model_comparison_on_information_density.png" width="698"/>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Comparison of different models (Gemini 1.5 Pro, GPT-4o, and Claude 3 Haiku) on various metrics across the MovieLens, Yelp, and Amazon Review datasets: (1) Quality Metric, (2) Instruction Following Metric, and (3) Information Density Metric.</figcaption>
</figure>
<div class="ltx_para" id="A2.p1">
<p class="ltx_p" id="A2.p1.1">We assessed three popular models for summarizing user activities (refer to Appendix <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A1.SS1" title="A.1 LLM Prompt Template for Single-Step Summarization ‣ Appendix A Prompt Examples ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">A.1</span></a> for the prompt details) using the <span class="ltx_text ltx_font_smallcaps" id="A2.p1.1.1">UserSumBench</span> benchmark metrics. The models evaluated were Gemini 1.5 Pro <cite class="ltx_cite ltx_citemacro_citep">(Reid et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib14" title="">2024</a>)</cite>, GPT-4o <cite class="ltx_cite ltx_citemacro_citep">(Achiam et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib1" title="">2023</a>)</cite>, and Claude 3 Haiku <cite class="ltx_cite ltx_citemacro_citep">(Anthropic <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib3" title="">2023</a>)</cite>. The summaries generated by these models were subsequently used for predicting future activities with the Gemini 1.5 Flash model <cite class="ltx_cite ltx_citemacro_citep">(Reid et al. <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#bib.bib14" title="">2024</a>)</cite>. The results are presented in Figures <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A2.F5" title="Figure 5 ‣ Appendix B Analysis of Benchmark Metrics on Popular Models ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">5</span></a>.</p>
</div>
<section class="ltx_subsection" id="A2.SSx1">
<h3 class="ltx_title ltx_title_subsection">Quality Metric</h3>
<div class="ltx_para" id="A2.SSx1.p1">
<p class="ltx_p" id="A2.SSx1.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A2.F5" title="Figure 5 ‣ Appendix B Analysis of Benchmark Metrics on Popular Models ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">5</span></a> (1) shows the quality metric for the three models across the MovieLens, Yelp, and Amazon Review datasets. Gemini 1.5 Pro and GPT-4o exhibit similar performance in the three datasets. In the MovieLens and Yelp datasets, GPT-4o achieves the highest quality metric, surpassing both Gemini 1.5 Pro and Claude 3 Haiku. Claude 3 Haiku consistently shows slightly lower performance across all datasets but remains competitive, particularly in the Amazon Review dataset where it closely follows the other two models.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SSx2">
<h3 class="ltx_title ltx_title_subsection">Instruction Following Metric</h3>
<div class="ltx_para" id="A2.SSx2.p1">
<p class="ltx_p" id="A2.SSx2.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A2.F5" title="Figure 5 ‣ Appendix B Analysis of Benchmark Metrics on Popular Models ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">5</span></a> (2) compares the models based on the instruction-following metric. Gemini 1.5 Pro performs very well in all datasets, particularly in the Yelp and Amazon Review dataset, where it significantly outperforms the other models. Claude 3 Haiku also performs well, especially in the MovieLens dataset. GPT-4o, however, shows significantly lower performance in following instructions, particularly in the Yelp and Amazon Review datasets.</p>
</div>
<div class="ltx_para" id="A2.SSx2.p2">
<p class="ltx_p" id="A2.SSx2.p2.1">The observed poorer performance of GPT-4o on the instruction-following metric, particularly regarding summary word limits, could be attributed to its inherent design and optimization focus. Unlike some models that may be explicitly tuned for concise responses or instruction adherence, GPT-4o might prioritize generating detailed, comprehensive content, even at the expense of brevity. This tendency to produce more elaborate summaries could explain its weaker performance in adhering to strict word limits.</p>
</div>
<div class="ltx_para" id="A2.SSx2.p3">
<p class="ltx_p" id="A2.SSx2.p3.1">While GPT-4o’s tendency to generate more detailed responses may hinder its ability to strictly follow word limits, it may simultaneously contribute to its higher quality in predicting future activities. The additional detail and context provided in longer summaries could lead to richer representations of user behaviors and preferences, enhancing predictive accuracy on tasks such as those in the MovieLens and Yelp datasets as shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A2.F5" title="Figure 5 ‣ Appendix B Analysis of Benchmark Metrics on Popular Models ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">5</span></a> (1).</p>
</div>
<div class="ltx_para" id="A2.SSx2.p4">
<p class="ltx_p" id="A2.SSx2.p4.1">In summary, GPT-4o’s architecture or training objectives may emphasize content richness over strict instruction adherence, which, while beneficial for some tasks, leads to challenges in settings where brevity and instruction following are critical.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SSx3">
<h3 class="ltx_title ltx_title_subsection">Information Density Metric</h3>
<div class="ltx_para" id="A2.SSx3.p1">
<p class="ltx_p" id="A2.SSx3.p1.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.16966v2#A2.F5" title="Figure 5 ‣ Appendix B Analysis of Benchmark Metrics on Popular Models ‣ UserSumBench: A Benchmark Framework for Evaluating User Summarization Approaches"><span class="ltx_text ltx_ref_tag">5</span></a> (3) presents the information density metric. Gemini 1.5 Pro demonstrates the highest performance across all datasets. Claude 3 Haiku also performs well but is consistently outperformed by Gemini 1.5 Pro. GPT-4o shows the lowest performance, particularly in the Yelp and Amazon Review datasets, where the difference is most pronounced.</p>
</div>
</section>
<section class="ltx_subsection" id="A2.SSx4">
<h3 class="ltx_title ltx_title_subsection">Overall Analysis</h3>
<div class="ltx_para" id="A2.SSx4.p1">
<p class="ltx_p" id="A2.SSx4.p1.1">Overall, Gemini 1.5 Pro exhibits the best performance across all benchmark metrics and datasets, particularly excelling in instruction following and information density metrics. GPT-4o, while competitive in the quality metric, falls behind significantly in instruction following and information density metrics. Claude 3 Haiku shows consistent performance across the board but does not surpass Gemini 1.5 Pro in most of the metrics.</p>
</div>
<div class="ltx_para" id="A2.SSx4.p2">
<p class="ltx_p" id="A2.SSx4.p2.1">These results indicate that Gemini 1.5 Pro is the most effective model among the three for generating high-quality, instruction-following, and information-dense summaries. This superior performance makes it a preferable choice for applications requiring detailed and accurate summarization capabilities.</p>
</div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Sep  5 23:17:34 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
