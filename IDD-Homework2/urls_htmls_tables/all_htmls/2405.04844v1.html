<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems</title>
<!--Generated on Tue May 14 19:12:55 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2405.04844v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S1" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S2" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S3" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Preliminary of Multi-Stage Systems</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Generalized Probability Ranking Principle</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S5" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Full Stage Learning to Rank</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S6" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Discussion about Assumptions</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S7" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Practical Implementation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS1" title="In 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.1 </span>Offline Simulation of Multi-Stage Pipeline</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS1.SSS1" title="In 8.1 Offline Simulation of Multi-Stage Pipeline ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.1.1 </span>Dataset</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS1.SSS2" title="In 8.1 Offline Simulation of Multi-Stage Pipeline ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.1.2 </span>Multi-Stage Simulation</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS2" title="In 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.2 </span>Performance Comparison</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS2.SSS1" title="In 8.2 Performance Comparison ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.2.1 </span>Implementation Details</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS2.SSS2" title="In 8.2 Performance Comparison ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.2.2 </span>Baseline Methods</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS2.SSS3" title="In 8.2 Performance Comparison ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.2.3 </span>Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS2.SSS4" title="In 8.2 Performance Comparison ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.2.4 </span>Overall Performance</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS3" title="In 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.3 </span>Ablation Study</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS3.SSS1" title="In 8.3 Ablation Study ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.3.1 </span>Effectiveness of multi-stage samples</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS3.SSS2" title="In 8.3 Ablation Study ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.3.2 </span>The number of samples from different stages</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS4" title="In 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8.4 </span>Online A/B Testing</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S9" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">9 </span>Conclusions and Future Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1" title="In Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Appendix</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.SS1" title="In Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.1 </span>Proof of Proposition <span class="ltx_text ltx_ref_tag">5</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.SS2" title="In Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.2 </span>Proof of Proposition <span class="ltx_text ltx_ref_tag">2</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.SS3" title="In Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.3 </span>Proof of Theorem <span class="ltx_text ltx_ref_tag">1</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.SS4" title="In Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.4 </span>Implementation Details of Prerank / Rank Model in Simulated Multi-Stage Pipeline</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.SS5" title="In Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A.5 </span>Data Preparation for Training and Evaluation</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\addbibresource</span>
<p class="ltx_p" id="p1.2">reference.bib</p>
</div>
<h1 class="ltx_title ltx_title_document">Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Kai Zheng
<br class="ltx_break"/>Kuaishou Inc. 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id1.1.id1">zhengk92@gmail.com</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Haijun Zhao
<br class="ltx_break"/>Sun Yat-Sen University 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id2.1.id1">zhaohj23@mail2.sysu.edu.cn</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Rui Huang
<br class="ltx_break"/>Kuaishou Inc.
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id3.1.id1">huangrui06@kuaishou.com</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Beichuan Zhang
<br class="ltx_break"/>Kuaishou Inc.
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id4.1.id1">zhangbeichuan@kuaishou.com</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Na Mou
<br class="ltx_break"/>Kuaishou Inc. 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id5.1.id1">mouna@kuaishou.com</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yanan Niu
<br class="ltx_break"/>Kuaishou Inc. 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id6.1.id1">niuyanan@kuaishou.com</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yang Song
<br class="ltx_break"/>Kuaishou Inc. 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id7.1.id1">yangsong@kuaishou.com</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Hongning Wang
<br class="ltx_break"/>Tsinghua University 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id8.1.id1">wang.hongn@gmail.com</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Kun Gai
<br class="ltx_break"/>Independent 
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id9.1.id1">gai.kun@qq.com</span>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
</span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id10.id1">The Probability Ranking Principle (PRP) has been considered as the foundational standard in the design of information retrieval (IR) systems. The principle requires an IR module’s returned list of results to be ranked with respect to the underlying user interests, so as to maximize the results’ utility.
Nevertheless, we point out that it is inappropriate to indiscriminately apply PRP through every stage of a contemporary IR system. Such systems contain multiple stages (e.g., retrieval, pre-ranking, ranking, and re-ranking stages, as examined in this paper). The <em class="ltx_emph ltx_font_italic" id="id10.id1.1">selection bias</em> inherent in the model of each stage significantly influences the results that are ultimately presented to users.
To address this issue, we propose an improved ranking principle for multi-stage systems, namely the Generalized Probability Ranking Principle (GPRP), to emphasize both the selection bias in each stage of the system pipeline as well as the underlying interest of users.
We realize GPRP via a unified algorithmic framework named Full Stage Learning to Rank. Our core idea is to first estimate the selection bias in the subsequent stages and then learn a ranking model that best complies with the downstream modules’ selection bias so as to deliver its top ranked results to the final ranked list in the system’s output.
We performed extensive experiment evaluations of our developed Full Stage Learning to Rank solution, using both simulations and online A/B tests in one of the leading short-video recommendation platforms. The algorithm is proved to be effective in both retrieval and ranking stages. Since deployed, the algorithm has brought consistent and significant performance gain to the platform.</p>
</div>
<section class="ltx_section ltx_indent_first" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Information retrieval (IR) systems widely influence numerous aspects of our daily lives, from information search to entertainment choices and travel decisions. The significant impact has gathered extensive research interest and gained substantial attention since its inception <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">singhal2001modern</span>]</cite>. Central to this research area is the precise inference of users’ underlying information needs, so as to present the most relevant information to the users, a concept that proved to be optimal by the Probability Ranking Principle (PRP) <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">robertson1977probability</span>]</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">Early year’s IR research only concerned single-stage systems, for example using BM25 <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">robertson2009probabilistic</span>]</cite> or a logistic regression model <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">gey1994inferring</span>]</cite> to rank results against a given query or user. Propelled by the emergency of new demands and development of technologies, modern IR systems nowadays are equipped with multiple stages, such as retrieval and ranking stages in YouTube <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">youtubeDNN</span>]</cite>, the recall, first round ranking, and second round ranking stages in Yahoo search <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">yin2016ranking</span>]</cite>, and the retrieval, pre-ranking, ranking and re-ranking stages in KuaiShou <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">wang2020cold</span>]</cite>.
No matter it is manually crafted rules, such as the BM25 scoring function, or data-driven rankers, such as ranking models <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">liu2009learning</span>]</cite>, in each component of these multi-stage IR systems, PRP is still the design principle, i.e., each stage is supposed to present the most relevant results for the next stage’s further processing.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">However, the optimality of PRP strongly depends on the assumption that the top-ranked result by the algorithm will eventually be presented to the end users. This is only true in a single-stage IR system, but no longer holds in multi-stage systems. For example, at the retrieval stage (typically an early stage), even if we know the underlying preferences of users on each result in the whole candidate set and return the most relevant ones to the later stage, there is a possibility that some or even all of them are filtrated eventually because the <em class="ltx_emph ltx_font_italic" id="S1.p3.1.1">selection bias</em> of subsequent stages can deviate from user’s underlying interests and promote sub-optimal results along the way until reaching the end users <span class="ltx_note ltx_role_footnote" id="footnote1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>In a commercial system, there can be tens of different ranking algorithms employed in each stage of the pipeline, making the selection bias inevitable.</span></span></span>.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">The fundamental reason for the <em class="ltx_emph ltx_font_italic" id="S1.p4.1.1">selection bias</em> resides in the misalignment between how the ranking models in each stage are learned and how they are used in a multi-stage system. Typically, the training data for each stage is constructed by treating the results from this stage and finally preferred by the end users as positive and the rest from this stage as negative. Sub-sampling can be devised when the stage returns a large number of results (e.g., more than thousands), but the end users can only interact with a few (e.g., less than ten).
However, relevant results from the intermediate stage but eventually filtered by later stages cannot be differentiated from those truly irrelevant ones, and are often mistakenly treated as negatives.
This phenomenon is analogous to position bias in user feedback <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">joachims2017accurately</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">craswell2008experimental</span>]</cite>, where non-clicked results do not suggest irrelevance, as they could also not be examined by a user. In a multi-stage system, the selection bias is introduced by the subsequent components in an IR pipeline, which is more implicit and dynamic. Hence, those well-known solutions for correcting position bias <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">chen2019top</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">joachims2017unbiased</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">hu2019unbiased</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">saito2020unbiased</span>]</cite> do not apply to this problem.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">Moreover, the operation and management of multi-stage systems in industry practice further exacerbates the selection bias. Due to the system’s high complexity, each stage or even a particular algorithm at a single stage is often managed by a different team. When improving an algorithm or choosing which algorithm to deploy, each team can only access and control data at its specific stage. However, these intermediate algorithmic decisions are only informed by online A/B tests on the final results.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">In this paper, we propose an improved version of PRP named the Generalized Probability Ranking Principle (GPRP) for multi-stage IR systems. GPRP extends PRP by explicitly modeling the ranking preferences from both the end users and subsequent stages. GPRP degrades to PRP when there only one stage is present or it functions at the final stage of the system. At non-final stages, the expected ranking utility achieved by GPRP is always an upper bound of the expected utility achieved by PRP, which can also be proved to be a max-min approximation of GPRP. However, it is difficult to precisely fulfill GPRP in practice due to computational complexity. Under mild assumptions about a multi-stage IR system,
we develop an efficient and effective algorithmic framework named Full Stage Learning to Rank (FS-LTR) to realize GPRP approximately. The core idea of FS-LTR is to define preferential treatments on the exposure data collected in each stage of the system as well as users’ feedback for the final ranking and fit an LTR algorithm with the preferential labels to estimate the most effective ranking for each particular stage. FS-LTR can be seamlessly applied to any stage in the entire pipeline. Extensive experiments on both a simulated environment and online A/B testing in one of the world’s largest short-video recommendation platforms validate the effectiveness of our framework.
To the best of our knowledge, we are the first to study ranking principles for multi-stage IR systems holistically and to design a universally efficient algorithmic framework with
theoretical foundations.</p>
</div>
</section>
<section class="ltx_section ltx_indent_first" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Work</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1"><span class="ltx_text ltx_font_bold" id="S2.p1.1.1">Single Stage Optimization:</span> Most of existing work consider optimizing either retrieval or general ranking model. For example, there are various different retrieval algorithms including basic dual-encoder model <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">youtubeDNN</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">MIND_model</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">comirec</span>]</cite>, tree-based deep models <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">TDM</span>]</cite>. General ranking can be more carefully divided to three (or even more) stages, including pre-ranking <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">wang2020cold</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">liu2017cascade</span>]</cite>, ranking <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">youtubeDNN</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">zhou2018deep</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">zhou2019deep</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">pi2020search</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">chang2023pepnet</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">chang2023twin</span>]</cite>, and re-ranking <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">burges2010ranknet</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">pei2019personalized</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">feng2021grn</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">jia2021pairrank</span>]</cite>. The difference between models in the three stages mainly lies in their model capacity and training method, either in a pointwise, pairwise, or listwise manner.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p2">
<p class="ltx_p" id="S2.p2.1"><span class="ltx_text ltx_font_bold" id="S2.p2.1.1">Multi-stage Joint Optimization:</span> Different from optimizing any single stage of a multi-stage system, this line of research considers how to optimize them jointly, either taking derivative with respect to each stage’s model parameters <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">gallagher2019joint</span>]</cite> or collecting many samples in each stage to train each ranker alternatively <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">qin2022rankflow</span>]</cite>. However, it’s hard to fulfill joint optimization of all stages at the same time in a practical system, since different stages are often managed by different teams. Besides, these methods seem hard to be deployed in real systems as far as we know, mainly because of highly complex real system or computational overhead.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p3">
<p class="ltx_p" id="S2.p3.1"><span class="ltx_text ltx_font_bold" id="S2.p3.1.1">Unbiased Learning:</span> The goal of unbiased learning is to eliminate the exposure bias introduced by training data collected from recommendation systems and learn unbiased ground-truth interests of users. one main idea of unbiased learning is based on the Inverse Propensity Score (IPS) estimator <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">rubin1974estimating</span>]</cite>, which is used either at the retrieval stage <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">chen2019top</span>]</cite> or re-ranking stage <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">joachims2017unbiased</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">saito2020unbiased</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">oosterhuis2020policy</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">ovaisi2020correcting</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">ovaisi2021propensity</span>]</cite>.</p>
</div>
</section>
<section class="ltx_section ltx_indent_first" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Preliminary of Multi-Stage Systems</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.16">Without loss of generality, we consider a multi-stage system with four stages: retrieval (stage 1, from all candidates to <math alttext="c_{1}" class="ltx_Math" display="inline" id="S3.p1.1.m1.1"><semantics id="S3.p1.1.m1.1a"><msub id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml"><mi id="S3.p1.1.m1.1.1.2" xref="S3.p1.1.m1.1.1.2.cmml">c</mi><mn id="S3.p1.1.m1.1.1.3" xref="S3.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><apply id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p1.1.m1.1.1.1.cmml" xref="S3.p1.1.m1.1.1">subscript</csymbol><ci id="S3.p1.1.m1.1.1.2.cmml" xref="S3.p1.1.m1.1.1.2">𝑐</ci><cn id="S3.p1.1.m1.1.1.3.cmml" type="integer" xref="S3.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">c_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.1.m1.1d">italic_c start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> items), pre-ranking (stage 2, from <math alttext="c_{1}" class="ltx_Math" display="inline" id="S3.p1.2.m2.1"><semantics id="S3.p1.2.m2.1a"><msub id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">c</mi><mn id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2">𝑐</ci><cn id="S3.p1.2.m2.1.1.3.cmml" type="integer" xref="S3.p1.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">c_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.2.m2.1d">italic_c start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> items to <math alttext="c_{2}" class="ltx_Math" display="inline" id="S3.p1.3.m3.1"><semantics id="S3.p1.3.m3.1a"><msub id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml"><mi id="S3.p1.3.m3.1.1.2" xref="S3.p1.3.m3.1.1.2.cmml">c</mi><mn id="S3.p1.3.m3.1.1.3" xref="S3.p1.3.m3.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><apply id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p1.3.m3.1.1.1.cmml" xref="S3.p1.3.m3.1.1">subscript</csymbol><ci id="S3.p1.3.m3.1.1.2.cmml" xref="S3.p1.3.m3.1.1.2">𝑐</ci><cn id="S3.p1.3.m3.1.1.3.cmml" type="integer" xref="S3.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">c_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.3.m3.1d">italic_c start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> items), ranking (stage 3, from <math alttext="c_{2}" class="ltx_Math" display="inline" id="S3.p1.4.m4.1"><semantics id="S3.p1.4.m4.1a"><msub id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml"><mi id="S3.p1.4.m4.1.1.2" xref="S3.p1.4.m4.1.1.2.cmml">c</mi><mn id="S3.p1.4.m4.1.1.3" xref="S3.p1.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><apply id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p1.4.m4.1.1.1.cmml" xref="S3.p1.4.m4.1.1">subscript</csymbol><ci id="S3.p1.4.m4.1.1.2.cmml" xref="S3.p1.4.m4.1.1.2">𝑐</ci><cn id="S3.p1.4.m4.1.1.3.cmml" type="integer" xref="S3.p1.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">c_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.4.m4.1d">italic_c start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> items to <math alttext="c_{3}" class="ltx_Math" display="inline" id="S3.p1.5.m5.1"><semantics id="S3.p1.5.m5.1a"><msub id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml"><mi id="S3.p1.5.m5.1.1.2" xref="S3.p1.5.m5.1.1.2.cmml">c</mi><mn id="S3.p1.5.m5.1.1.3" xref="S3.p1.5.m5.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.1b"><apply id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S3.p1.5.m5.1.1.1.cmml" xref="S3.p1.5.m5.1.1">subscript</csymbol><ci id="S3.p1.5.m5.1.1.2.cmml" xref="S3.p1.5.m5.1.1.2">𝑐</ci><cn id="S3.p1.5.m5.1.1.3.cmml" type="integer" xref="S3.p1.5.m5.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.1c">c_{3}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.5.m5.1d">italic_c start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> items), and re-ranking (stage 4, from <math alttext="c_{3}" class="ltx_Math" display="inline" id="S3.p1.6.m6.1"><semantics id="S3.p1.6.m6.1a"><msub id="S3.p1.6.m6.1.1" xref="S3.p1.6.m6.1.1.cmml"><mi id="S3.p1.6.m6.1.1.2" xref="S3.p1.6.m6.1.1.2.cmml">c</mi><mn id="S3.p1.6.m6.1.1.3" xref="S3.p1.6.m6.1.1.3.cmml">3</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.6.m6.1b"><apply id="S3.p1.6.m6.1.1.cmml" xref="S3.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.p1.6.m6.1.1.1.cmml" xref="S3.p1.6.m6.1.1">subscript</csymbol><ci id="S3.p1.6.m6.1.1.2.cmml" xref="S3.p1.6.m6.1.1.2">𝑐</ci><cn id="S3.p1.6.m6.1.1.3.cmml" type="integer" xref="S3.p1.6.m6.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.6.m6.1c">c_{3}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.6.m6.1d">italic_c start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT</annotation></semantics></math> items to <math alttext="c_{4}" class="ltx_Math" display="inline" id="S3.p1.7.m7.1"><semantics id="S3.p1.7.m7.1a"><msub id="S3.p1.7.m7.1.1" xref="S3.p1.7.m7.1.1.cmml"><mi id="S3.p1.7.m7.1.1.2" xref="S3.p1.7.m7.1.1.2.cmml">c</mi><mn id="S3.p1.7.m7.1.1.3" xref="S3.p1.7.m7.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.7.m7.1b"><apply id="S3.p1.7.m7.1.1.cmml" xref="S3.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S3.p1.7.m7.1.1.1.cmml" xref="S3.p1.7.m7.1.1">subscript</csymbol><ci id="S3.p1.7.m7.1.1.2.cmml" xref="S3.p1.7.m7.1.1.2">𝑐</ci><cn id="S3.p1.7.m7.1.1.3.cmml" type="integer" xref="S3.p1.7.m7.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.7.m7.1c">c_{4}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.7.m7.1d">italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math> items), where <math alttext="c_{1},c_{2},c_{3},c_{4}" class="ltx_Math" display="inline" id="S3.p1.8.m8.4"><semantics id="S3.p1.8.m8.4a"><mrow id="S3.p1.8.m8.4.4.4" xref="S3.p1.8.m8.4.4.5.cmml"><msub id="S3.p1.8.m8.1.1.1.1" xref="S3.p1.8.m8.1.1.1.1.cmml"><mi id="S3.p1.8.m8.1.1.1.1.2" xref="S3.p1.8.m8.1.1.1.1.2.cmml">c</mi><mn id="S3.p1.8.m8.1.1.1.1.3" xref="S3.p1.8.m8.1.1.1.1.3.cmml">1</mn></msub><mo id="S3.p1.8.m8.4.4.4.5" xref="S3.p1.8.m8.4.4.5.cmml">,</mo><msub id="S3.p1.8.m8.2.2.2.2" xref="S3.p1.8.m8.2.2.2.2.cmml"><mi id="S3.p1.8.m8.2.2.2.2.2" xref="S3.p1.8.m8.2.2.2.2.2.cmml">c</mi><mn id="S3.p1.8.m8.2.2.2.2.3" xref="S3.p1.8.m8.2.2.2.2.3.cmml">2</mn></msub><mo id="S3.p1.8.m8.4.4.4.6" xref="S3.p1.8.m8.4.4.5.cmml">,</mo><msub id="S3.p1.8.m8.3.3.3.3" xref="S3.p1.8.m8.3.3.3.3.cmml"><mi id="S3.p1.8.m8.3.3.3.3.2" xref="S3.p1.8.m8.3.3.3.3.2.cmml">c</mi><mn id="S3.p1.8.m8.3.3.3.3.3" xref="S3.p1.8.m8.3.3.3.3.3.cmml">3</mn></msub><mo id="S3.p1.8.m8.4.4.4.7" xref="S3.p1.8.m8.4.4.5.cmml">,</mo><msub id="S3.p1.8.m8.4.4.4.4" xref="S3.p1.8.m8.4.4.4.4.cmml"><mi id="S3.p1.8.m8.4.4.4.4.2" xref="S3.p1.8.m8.4.4.4.4.2.cmml">c</mi><mn id="S3.p1.8.m8.4.4.4.4.3" xref="S3.p1.8.m8.4.4.4.4.3.cmml">4</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.8.m8.4b"><list id="S3.p1.8.m8.4.4.5.cmml" xref="S3.p1.8.m8.4.4.4"><apply id="S3.p1.8.m8.1.1.1.1.cmml" xref="S3.p1.8.m8.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.8.m8.1.1.1.1.1.cmml" xref="S3.p1.8.m8.1.1.1.1">subscript</csymbol><ci id="S3.p1.8.m8.1.1.1.1.2.cmml" xref="S3.p1.8.m8.1.1.1.1.2">𝑐</ci><cn id="S3.p1.8.m8.1.1.1.1.3.cmml" type="integer" xref="S3.p1.8.m8.1.1.1.1.3">1</cn></apply><apply id="S3.p1.8.m8.2.2.2.2.cmml" xref="S3.p1.8.m8.2.2.2.2"><csymbol cd="ambiguous" id="S3.p1.8.m8.2.2.2.2.1.cmml" xref="S3.p1.8.m8.2.2.2.2">subscript</csymbol><ci id="S3.p1.8.m8.2.2.2.2.2.cmml" xref="S3.p1.8.m8.2.2.2.2.2">𝑐</ci><cn id="S3.p1.8.m8.2.2.2.2.3.cmml" type="integer" xref="S3.p1.8.m8.2.2.2.2.3">2</cn></apply><apply id="S3.p1.8.m8.3.3.3.3.cmml" xref="S3.p1.8.m8.3.3.3.3"><csymbol cd="ambiguous" id="S3.p1.8.m8.3.3.3.3.1.cmml" xref="S3.p1.8.m8.3.3.3.3">subscript</csymbol><ci id="S3.p1.8.m8.3.3.3.3.2.cmml" xref="S3.p1.8.m8.3.3.3.3.2">𝑐</ci><cn id="S3.p1.8.m8.3.3.3.3.3.cmml" type="integer" xref="S3.p1.8.m8.3.3.3.3.3">3</cn></apply><apply id="S3.p1.8.m8.4.4.4.4.cmml" xref="S3.p1.8.m8.4.4.4.4"><csymbol cd="ambiguous" id="S3.p1.8.m8.4.4.4.4.1.cmml" xref="S3.p1.8.m8.4.4.4.4">subscript</csymbol><ci id="S3.p1.8.m8.4.4.4.4.2.cmml" xref="S3.p1.8.m8.4.4.4.4.2">𝑐</ci><cn id="S3.p1.8.m8.4.4.4.4.3.cmml" type="integer" xref="S3.p1.8.m8.4.4.4.4.3">4</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.8.m8.4c">c_{1},c_{2},c_{3},c_{4}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.8.m8.4d">italic_c start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math> are predefined values like 10000/500/50/6 respectively.
Note the output of one stage is exactly the input candidate set of the next stage. Finally, <math alttext="c_{4}" class="ltx_Math" display="inline" id="S3.p1.9.m9.1"><semantics id="S3.p1.9.m9.1a"><msub id="S3.p1.9.m9.1.1" xref="S3.p1.9.m9.1.1.cmml"><mi id="S3.p1.9.m9.1.1.2" xref="S3.p1.9.m9.1.1.2.cmml">c</mi><mn id="S3.p1.9.m9.1.1.3" xref="S3.p1.9.m9.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="S3.p1.9.m9.1b"><apply id="S3.p1.9.m9.1.1.cmml" xref="S3.p1.9.m9.1.1"><csymbol cd="ambiguous" id="S3.p1.9.m9.1.1.1.cmml" xref="S3.p1.9.m9.1.1">subscript</csymbol><ci id="S3.p1.9.m9.1.1.2.cmml" xref="S3.p1.9.m9.1.1.2">𝑐</ci><cn id="S3.p1.9.m9.1.1.3.cmml" type="integer" xref="S3.p1.9.m9.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.9.m9.1c">c_{4}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.9.m9.1d">italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math> items outputted by the re-ranking stage are exposed to a user and receive corresponding user feedback.
Given a candidate item set <math alttext="A" class="ltx_Math" display="inline" id="S3.p1.10.m10.1"><semantics id="S3.p1.10.m10.1a"><mi id="S3.p1.10.m10.1.1" xref="S3.p1.10.m10.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S3.p1.10.m10.1b"><ci id="S3.p1.10.m10.1.1.cmml" xref="S3.p1.10.m10.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.10.m10.1c">A</annotation><annotation encoding="application/x-llamapun" id="S3.p1.10.m10.1d">italic_A</annotation></semantics></math>, a real-valued function <math alttext="f(u,v)" class="ltx_Math" display="inline" id="S3.p1.11.m11.2"><semantics id="S3.p1.11.m11.2a"><mrow id="S3.p1.11.m11.2.3" xref="S3.p1.11.m11.2.3.cmml"><mi id="S3.p1.11.m11.2.3.2" xref="S3.p1.11.m11.2.3.2.cmml">f</mi><mo id="S3.p1.11.m11.2.3.1" xref="S3.p1.11.m11.2.3.1.cmml">⁢</mo><mrow id="S3.p1.11.m11.2.3.3.2" xref="S3.p1.11.m11.2.3.3.1.cmml"><mo id="S3.p1.11.m11.2.3.3.2.1" stretchy="false" xref="S3.p1.11.m11.2.3.3.1.cmml">(</mo><mi id="S3.p1.11.m11.1.1" xref="S3.p1.11.m11.1.1.cmml">u</mi><mo id="S3.p1.11.m11.2.3.3.2.2" xref="S3.p1.11.m11.2.3.3.1.cmml">,</mo><mi id="S3.p1.11.m11.2.2" xref="S3.p1.11.m11.2.2.cmml">v</mi><mo id="S3.p1.11.m11.2.3.3.2.3" stretchy="false" xref="S3.p1.11.m11.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.11.m11.2b"><apply id="S3.p1.11.m11.2.3.cmml" xref="S3.p1.11.m11.2.3"><times id="S3.p1.11.m11.2.3.1.cmml" xref="S3.p1.11.m11.2.3.1"></times><ci id="S3.p1.11.m11.2.3.2.cmml" xref="S3.p1.11.m11.2.3.2">𝑓</ci><interval closure="open" id="S3.p1.11.m11.2.3.3.1.cmml" xref="S3.p1.11.m11.2.3.3.2"><ci id="S3.p1.11.m11.1.1.cmml" xref="S3.p1.11.m11.1.1">𝑢</ci><ci id="S3.p1.11.m11.2.2.cmml" xref="S3.p1.11.m11.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.11.m11.2c">f(u,v)</annotation><annotation encoding="application/x-llamapun" id="S3.p1.11.m11.2d">italic_f ( italic_u , italic_v )</annotation></semantics></math> and a positive integer <math alttext="c" class="ltx_Math" display="inline" id="S3.p1.12.m12.1"><semantics id="S3.p1.12.m12.1a"><mi id="S3.p1.12.m12.1.1" xref="S3.p1.12.m12.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.p1.12.m12.1b"><ci id="S3.p1.12.m12.1.1.cmml" xref="S3.p1.12.m12.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.12.m12.1c">c</annotation><annotation encoding="application/x-llamapun" id="S3.p1.12.m12.1d">italic_c</annotation></semantics></math>, the <math alttext="\textbf{Topk}(A,f(u,v),c)" class="ltx_Math" display="inline" id="S3.p1.13.m13.5"><semantics id="S3.p1.13.m13.5a"><mrow id="S3.p1.13.m13.5.5" xref="S3.p1.13.m13.5.5.cmml"><mtext class="ltx_mathvariant_bold" id="S3.p1.13.m13.5.5.3" xref="S3.p1.13.m13.5.5.3a.cmml">Topk</mtext><mo id="S3.p1.13.m13.5.5.2" xref="S3.p1.13.m13.5.5.2.cmml">⁢</mo><mrow id="S3.p1.13.m13.5.5.1.1" xref="S3.p1.13.m13.5.5.1.2.cmml"><mo id="S3.p1.13.m13.5.5.1.1.2" stretchy="false" xref="S3.p1.13.m13.5.5.1.2.cmml">(</mo><mi id="S3.p1.13.m13.3.3" xref="S3.p1.13.m13.3.3.cmml">A</mi><mo id="S3.p1.13.m13.5.5.1.1.3" xref="S3.p1.13.m13.5.5.1.2.cmml">,</mo><mrow id="S3.p1.13.m13.5.5.1.1.1" xref="S3.p1.13.m13.5.5.1.1.1.cmml"><mi id="S3.p1.13.m13.5.5.1.1.1.2" xref="S3.p1.13.m13.5.5.1.1.1.2.cmml">f</mi><mo id="S3.p1.13.m13.5.5.1.1.1.1" xref="S3.p1.13.m13.5.5.1.1.1.1.cmml">⁢</mo><mrow id="S3.p1.13.m13.5.5.1.1.1.3.2" xref="S3.p1.13.m13.5.5.1.1.1.3.1.cmml"><mo id="S3.p1.13.m13.5.5.1.1.1.3.2.1" stretchy="false" xref="S3.p1.13.m13.5.5.1.1.1.3.1.cmml">(</mo><mi id="S3.p1.13.m13.1.1" xref="S3.p1.13.m13.1.1.cmml">u</mi><mo id="S3.p1.13.m13.5.5.1.1.1.3.2.2" xref="S3.p1.13.m13.5.5.1.1.1.3.1.cmml">,</mo><mi id="S3.p1.13.m13.2.2" xref="S3.p1.13.m13.2.2.cmml">v</mi><mo id="S3.p1.13.m13.5.5.1.1.1.3.2.3" stretchy="false" xref="S3.p1.13.m13.5.5.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S3.p1.13.m13.5.5.1.1.4" xref="S3.p1.13.m13.5.5.1.2.cmml">,</mo><mi id="S3.p1.13.m13.4.4" xref="S3.p1.13.m13.4.4.cmml">c</mi><mo id="S3.p1.13.m13.5.5.1.1.5" stretchy="false" xref="S3.p1.13.m13.5.5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.13.m13.5b"><apply id="S3.p1.13.m13.5.5.cmml" xref="S3.p1.13.m13.5.5"><times id="S3.p1.13.m13.5.5.2.cmml" xref="S3.p1.13.m13.5.5.2"></times><ci id="S3.p1.13.m13.5.5.3a.cmml" xref="S3.p1.13.m13.5.5.3"><mtext class="ltx_mathvariant_bold" id="S3.p1.13.m13.5.5.3.cmml" xref="S3.p1.13.m13.5.5.3">Topk</mtext></ci><vector id="S3.p1.13.m13.5.5.1.2.cmml" xref="S3.p1.13.m13.5.5.1.1"><ci id="S3.p1.13.m13.3.3.cmml" xref="S3.p1.13.m13.3.3">𝐴</ci><apply id="S3.p1.13.m13.5.5.1.1.1.cmml" xref="S3.p1.13.m13.5.5.1.1.1"><times id="S3.p1.13.m13.5.5.1.1.1.1.cmml" xref="S3.p1.13.m13.5.5.1.1.1.1"></times><ci id="S3.p1.13.m13.5.5.1.1.1.2.cmml" xref="S3.p1.13.m13.5.5.1.1.1.2">𝑓</ci><interval closure="open" id="S3.p1.13.m13.5.5.1.1.1.3.1.cmml" xref="S3.p1.13.m13.5.5.1.1.1.3.2"><ci id="S3.p1.13.m13.1.1.cmml" xref="S3.p1.13.m13.1.1">𝑢</ci><ci id="S3.p1.13.m13.2.2.cmml" xref="S3.p1.13.m13.2.2">𝑣</ci></interval></apply><ci id="S3.p1.13.m13.4.4.cmml" xref="S3.p1.13.m13.4.4">𝑐</ci></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.13.m13.5c">\textbf{Topk}(A,f(u,v),c)</annotation><annotation encoding="application/x-llamapun" id="S3.p1.13.m13.5d">Topk ( italic_A , italic_f ( italic_u , italic_v ) , italic_c )</annotation></semantics></math> operator returns the top <math alttext="c" class="ltx_Math" display="inline" id="S3.p1.14.m14.1"><semantics id="S3.p1.14.m14.1a"><mi id="S3.p1.14.m14.1.1" xref="S3.p1.14.m14.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.p1.14.m14.1b"><ci id="S3.p1.14.m14.1.1.cmml" xref="S3.p1.14.m14.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.14.m14.1c">c</annotation><annotation encoding="application/x-llamapun" id="S3.p1.14.m14.1d">italic_c</annotation></semantics></math> items in the item set <math alttext="A" class="ltx_Math" display="inline" id="S3.p1.15.m15.1"><semantics id="S3.p1.15.m15.1a"><mi id="S3.p1.15.m15.1.1" xref="S3.p1.15.m15.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S3.p1.15.m15.1b"><ci id="S3.p1.15.m15.1.1.cmml" xref="S3.p1.15.m15.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.15.m15.1c">A</annotation><annotation encoding="application/x-llamapun" id="S3.p1.15.m15.1d">italic_A</annotation></semantics></math> in the descending order of <math alttext="f(u,v)" class="ltx_Math" display="inline" id="S3.p1.16.m16.2"><semantics id="S3.p1.16.m16.2a"><mrow id="S3.p1.16.m16.2.3" xref="S3.p1.16.m16.2.3.cmml"><mi id="S3.p1.16.m16.2.3.2" xref="S3.p1.16.m16.2.3.2.cmml">f</mi><mo id="S3.p1.16.m16.2.3.1" xref="S3.p1.16.m16.2.3.1.cmml">⁢</mo><mrow id="S3.p1.16.m16.2.3.3.2" xref="S3.p1.16.m16.2.3.3.1.cmml"><mo id="S3.p1.16.m16.2.3.3.2.1" stretchy="false" xref="S3.p1.16.m16.2.3.3.1.cmml">(</mo><mi id="S3.p1.16.m16.1.1" xref="S3.p1.16.m16.1.1.cmml">u</mi><mo id="S3.p1.16.m16.2.3.3.2.2" xref="S3.p1.16.m16.2.3.3.1.cmml">,</mo><mi id="S3.p1.16.m16.2.2" xref="S3.p1.16.m16.2.2.cmml">v</mi><mo id="S3.p1.16.m16.2.3.3.2.3" stretchy="false" xref="S3.p1.16.m16.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.16.m16.2b"><apply id="S3.p1.16.m16.2.3.cmml" xref="S3.p1.16.m16.2.3"><times id="S3.p1.16.m16.2.3.1.cmml" xref="S3.p1.16.m16.2.3.1"></times><ci id="S3.p1.16.m16.2.3.2.cmml" xref="S3.p1.16.m16.2.3.2">𝑓</ci><interval closure="open" id="S3.p1.16.m16.2.3.3.1.cmml" xref="S3.p1.16.m16.2.3.3.2"><ci id="S3.p1.16.m16.1.1.cmml" xref="S3.p1.16.m16.1.1">𝑢</ci><ci id="S3.p1.16.m16.2.2.cmml" xref="S3.p1.16.m16.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.16.m16.2c">f(u,v)</annotation><annotation encoding="application/x-llamapun" id="S3.p1.16.m16.2d">italic_f ( italic_u , italic_v )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.8">Denote <math alttext="u\in\mathrm{R}^{d}" class="ltx_Math" display="inline" id="S3.p2.1.m1.1"><semantics id="S3.p2.1.m1.1a"><mrow id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml"><mi id="S3.p2.1.m1.1.1.2" xref="S3.p2.1.m1.1.1.2.cmml">u</mi><mo id="S3.p2.1.m1.1.1.1" xref="S3.p2.1.m1.1.1.1.cmml">∈</mo><msup id="S3.p2.1.m1.1.1.3" xref="S3.p2.1.m1.1.1.3.cmml"><mi id="S3.p2.1.m1.1.1.3.2" mathvariant="normal" xref="S3.p2.1.m1.1.1.3.2.cmml">R</mi><mi id="S3.p2.1.m1.1.1.3.3" xref="S3.p2.1.m1.1.1.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><apply id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1"><in id="S3.p2.1.m1.1.1.1.cmml" xref="S3.p2.1.m1.1.1.1"></in><ci id="S3.p2.1.m1.1.1.2.cmml" xref="S3.p2.1.m1.1.1.2">𝑢</ci><apply id="S3.p2.1.m1.1.1.3.cmml" xref="S3.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.p2.1.m1.1.1.3.1.cmml" xref="S3.p2.1.m1.1.1.3">superscript</csymbol><ci id="S3.p2.1.m1.1.1.3.2.cmml" xref="S3.p2.1.m1.1.1.3.2">R</ci><ci id="S3.p2.1.m1.1.1.3.3.cmml" xref="S3.p2.1.m1.1.1.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">u\in\mathrm{R}^{d}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.1.m1.1d">italic_u ∈ roman_R start_POSTSUPERSCRIPT italic_d end_POSTSUPERSCRIPT</annotation></semantics></math> as the user (or query) representation, and <math alttext="v\in\mathcal{I}" class="ltx_Math" display="inline" id="S3.p2.2.m2.1"><semantics id="S3.p2.2.m2.1a"><mrow id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml"><mi id="S3.p2.2.m2.1.1.2" xref="S3.p2.2.m2.1.1.2.cmml">v</mi><mo id="S3.p2.2.m2.1.1.1" xref="S3.p2.2.m2.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S3.p2.2.m2.1.1.3" xref="S3.p2.2.m2.1.1.3.cmml">ℐ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><apply id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1"><in id="S3.p2.2.m2.1.1.1.cmml" xref="S3.p2.2.m2.1.1.1"></in><ci id="S3.p2.2.m2.1.1.2.cmml" xref="S3.p2.2.m2.1.1.2">𝑣</ci><ci id="S3.p2.2.m2.1.1.3.cmml" xref="S3.p2.2.m2.1.1.3">ℐ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">v\in\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.2.m2.1d">italic_v ∈ caligraphic_I</annotation></semantics></math> as the item representation, where <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S3.p2.3.m3.1"><semantics id="S3.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><ci id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.3.m3.1d">caligraphic_I</annotation></semantics></math> is the whole candidate set. Once an item <math alttext="v" class="ltx_Math" display="inline" id="S3.p2.4.m4.1"><semantics id="S3.p2.4.m4.1a"><mi id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml">v</mi><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><ci id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1">𝑣</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">v</annotation><annotation encoding="application/x-llamapun" id="S3.p2.4.m4.1d">italic_v</annotation></semantics></math> is exposed to a user <math alttext="u" class="ltx_Math" display="inline" id="S3.p2.5.m5.1"><semantics id="S3.p2.5.m5.1a"><mi id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><ci id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.p2.5.m5.1d">italic_u</annotation></semantics></math>, we observe corresponding Bernoulli feedback <math alttext="Y(u,v)\in\{0,1\}" class="ltx_Math" display="inline" id="S3.p2.6.m6.4"><semantics id="S3.p2.6.m6.4a"><mrow id="S3.p2.6.m6.4.5" xref="S3.p2.6.m6.4.5.cmml"><mrow id="S3.p2.6.m6.4.5.2" xref="S3.p2.6.m6.4.5.2.cmml"><mi id="S3.p2.6.m6.4.5.2.2" xref="S3.p2.6.m6.4.5.2.2.cmml">Y</mi><mo id="S3.p2.6.m6.4.5.2.1" xref="S3.p2.6.m6.4.5.2.1.cmml">⁢</mo><mrow id="S3.p2.6.m6.4.5.2.3.2" xref="S3.p2.6.m6.4.5.2.3.1.cmml"><mo id="S3.p2.6.m6.4.5.2.3.2.1" stretchy="false" xref="S3.p2.6.m6.4.5.2.3.1.cmml">(</mo><mi id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml">u</mi><mo id="S3.p2.6.m6.4.5.2.3.2.2" xref="S3.p2.6.m6.4.5.2.3.1.cmml">,</mo><mi id="S3.p2.6.m6.2.2" xref="S3.p2.6.m6.2.2.cmml">v</mi><mo id="S3.p2.6.m6.4.5.2.3.2.3" stretchy="false" xref="S3.p2.6.m6.4.5.2.3.1.cmml">)</mo></mrow></mrow><mo id="S3.p2.6.m6.4.5.1" xref="S3.p2.6.m6.4.5.1.cmml">∈</mo><mrow id="S3.p2.6.m6.4.5.3.2" xref="S3.p2.6.m6.4.5.3.1.cmml"><mo id="S3.p2.6.m6.4.5.3.2.1" stretchy="false" xref="S3.p2.6.m6.4.5.3.1.cmml">{</mo><mn id="S3.p2.6.m6.3.3" xref="S3.p2.6.m6.3.3.cmml">0</mn><mo id="S3.p2.6.m6.4.5.3.2.2" xref="S3.p2.6.m6.4.5.3.1.cmml">,</mo><mn id="S3.p2.6.m6.4.4" xref="S3.p2.6.m6.4.4.cmml">1</mn><mo id="S3.p2.6.m6.4.5.3.2.3" stretchy="false" xref="S3.p2.6.m6.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.4b"><apply id="S3.p2.6.m6.4.5.cmml" xref="S3.p2.6.m6.4.5"><in id="S3.p2.6.m6.4.5.1.cmml" xref="S3.p2.6.m6.4.5.1"></in><apply id="S3.p2.6.m6.4.5.2.cmml" xref="S3.p2.6.m6.4.5.2"><times id="S3.p2.6.m6.4.5.2.1.cmml" xref="S3.p2.6.m6.4.5.2.1"></times><ci id="S3.p2.6.m6.4.5.2.2.cmml" xref="S3.p2.6.m6.4.5.2.2">𝑌</ci><interval closure="open" id="S3.p2.6.m6.4.5.2.3.1.cmml" xref="S3.p2.6.m6.4.5.2.3.2"><ci id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1">𝑢</ci><ci id="S3.p2.6.m6.2.2.cmml" xref="S3.p2.6.m6.2.2">𝑣</ci></interval></apply><set id="S3.p2.6.m6.4.5.3.1.cmml" xref="S3.p2.6.m6.4.5.3.2"><cn id="S3.p2.6.m6.3.3.cmml" type="integer" xref="S3.p2.6.m6.3.3">0</cn><cn id="S3.p2.6.m6.4.4.cmml" type="integer" xref="S3.p2.6.m6.4.4">1</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.4c">Y(u,v)\in\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.6.m6.4d">italic_Y ( italic_u , italic_v ) ∈ { 0 , 1 }</annotation></semantics></math>, which is sampled from the underlying interest <math alttext="r(u,v)\in[0,1]" class="ltx_Math" display="inline" id="S3.p2.7.m7.4"><semantics id="S3.p2.7.m7.4a"><mrow id="S3.p2.7.m7.4.5" xref="S3.p2.7.m7.4.5.cmml"><mrow id="S3.p2.7.m7.4.5.2" xref="S3.p2.7.m7.4.5.2.cmml"><mi id="S3.p2.7.m7.4.5.2.2" xref="S3.p2.7.m7.4.5.2.2.cmml">r</mi><mo id="S3.p2.7.m7.4.5.2.1" xref="S3.p2.7.m7.4.5.2.1.cmml">⁢</mo><mrow id="S3.p2.7.m7.4.5.2.3.2" xref="S3.p2.7.m7.4.5.2.3.1.cmml"><mo id="S3.p2.7.m7.4.5.2.3.2.1" stretchy="false" xref="S3.p2.7.m7.4.5.2.3.1.cmml">(</mo><mi id="S3.p2.7.m7.1.1" xref="S3.p2.7.m7.1.1.cmml">u</mi><mo id="S3.p2.7.m7.4.5.2.3.2.2" xref="S3.p2.7.m7.4.5.2.3.1.cmml">,</mo><mi id="S3.p2.7.m7.2.2" xref="S3.p2.7.m7.2.2.cmml">v</mi><mo id="S3.p2.7.m7.4.5.2.3.2.3" stretchy="false" xref="S3.p2.7.m7.4.5.2.3.1.cmml">)</mo></mrow></mrow><mo id="S3.p2.7.m7.4.5.1" xref="S3.p2.7.m7.4.5.1.cmml">∈</mo><mrow id="S3.p2.7.m7.4.5.3.2" xref="S3.p2.7.m7.4.5.3.1.cmml"><mo id="S3.p2.7.m7.4.5.3.2.1" stretchy="false" xref="S3.p2.7.m7.4.5.3.1.cmml">[</mo><mn id="S3.p2.7.m7.3.3" xref="S3.p2.7.m7.3.3.cmml">0</mn><mo id="S3.p2.7.m7.4.5.3.2.2" xref="S3.p2.7.m7.4.5.3.1.cmml">,</mo><mn id="S3.p2.7.m7.4.4" xref="S3.p2.7.m7.4.4.cmml">1</mn><mo id="S3.p2.7.m7.4.5.3.2.3" stretchy="false" xref="S3.p2.7.m7.4.5.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.7.m7.4b"><apply id="S3.p2.7.m7.4.5.cmml" xref="S3.p2.7.m7.4.5"><in id="S3.p2.7.m7.4.5.1.cmml" xref="S3.p2.7.m7.4.5.1"></in><apply id="S3.p2.7.m7.4.5.2.cmml" xref="S3.p2.7.m7.4.5.2"><times id="S3.p2.7.m7.4.5.2.1.cmml" xref="S3.p2.7.m7.4.5.2.1"></times><ci id="S3.p2.7.m7.4.5.2.2.cmml" xref="S3.p2.7.m7.4.5.2.2">𝑟</ci><interval closure="open" id="S3.p2.7.m7.4.5.2.3.1.cmml" xref="S3.p2.7.m7.4.5.2.3.2"><ci id="S3.p2.7.m7.1.1.cmml" xref="S3.p2.7.m7.1.1">𝑢</ci><ci id="S3.p2.7.m7.2.2.cmml" xref="S3.p2.7.m7.2.2">𝑣</ci></interval></apply><interval closure="closed" id="S3.p2.7.m7.4.5.3.1.cmml" xref="S3.p2.7.m7.4.5.3.2"><cn id="S3.p2.7.m7.3.3.cmml" type="integer" xref="S3.p2.7.m7.3.3">0</cn><cn id="S3.p2.7.m7.4.4.cmml" type="integer" xref="S3.p2.7.m7.4.4">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m7.4c">r(u,v)\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S3.p2.7.m7.4d">italic_r ( italic_u , italic_v ) ∈ [ 0 , 1 ]</annotation></semantics></math>, thus <math alttext="\mathbf{E}[Y(u,v)]=r(u,v)" class="ltx_Math" display="inline" id="S3.p2.8.m8.5"><semantics id="S3.p2.8.m8.5a"><mrow id="S3.p2.8.m8.5.5" xref="S3.p2.8.m8.5.5.cmml"><mrow id="S3.p2.8.m8.5.5.1" xref="S3.p2.8.m8.5.5.1.cmml"><mi id="S3.p2.8.m8.5.5.1.3" xref="S3.p2.8.m8.5.5.1.3.cmml">𝐄</mi><mo id="S3.p2.8.m8.5.5.1.2" xref="S3.p2.8.m8.5.5.1.2.cmml">⁢</mo><mrow id="S3.p2.8.m8.5.5.1.1.1" xref="S3.p2.8.m8.5.5.1.1.2.cmml"><mo id="S3.p2.8.m8.5.5.1.1.1.2" stretchy="false" xref="S3.p2.8.m8.5.5.1.1.2.1.cmml">[</mo><mrow id="S3.p2.8.m8.5.5.1.1.1.1" xref="S3.p2.8.m8.5.5.1.1.1.1.cmml"><mi id="S3.p2.8.m8.5.5.1.1.1.1.2" xref="S3.p2.8.m8.5.5.1.1.1.1.2.cmml">Y</mi><mo id="S3.p2.8.m8.5.5.1.1.1.1.1" xref="S3.p2.8.m8.5.5.1.1.1.1.1.cmml">⁢</mo><mrow id="S3.p2.8.m8.5.5.1.1.1.1.3.2" xref="S3.p2.8.m8.5.5.1.1.1.1.3.1.cmml"><mo id="S3.p2.8.m8.5.5.1.1.1.1.3.2.1" stretchy="false" xref="S3.p2.8.m8.5.5.1.1.1.1.3.1.cmml">(</mo><mi id="S3.p2.8.m8.1.1" xref="S3.p2.8.m8.1.1.cmml">u</mi><mo id="S3.p2.8.m8.5.5.1.1.1.1.3.2.2" xref="S3.p2.8.m8.5.5.1.1.1.1.3.1.cmml">,</mo><mi id="S3.p2.8.m8.2.2" xref="S3.p2.8.m8.2.2.cmml">v</mi><mo id="S3.p2.8.m8.5.5.1.1.1.1.3.2.3" stretchy="false" xref="S3.p2.8.m8.5.5.1.1.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S3.p2.8.m8.5.5.1.1.1.3" stretchy="false" xref="S3.p2.8.m8.5.5.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.p2.8.m8.5.5.2" xref="S3.p2.8.m8.5.5.2.cmml">=</mo><mrow id="S3.p2.8.m8.5.5.3" xref="S3.p2.8.m8.5.5.3.cmml"><mi id="S3.p2.8.m8.5.5.3.2" xref="S3.p2.8.m8.5.5.3.2.cmml">r</mi><mo id="S3.p2.8.m8.5.5.3.1" xref="S3.p2.8.m8.5.5.3.1.cmml">⁢</mo><mrow id="S3.p2.8.m8.5.5.3.3.2" xref="S3.p2.8.m8.5.5.3.3.1.cmml"><mo id="S3.p2.8.m8.5.5.3.3.2.1" stretchy="false" xref="S3.p2.8.m8.5.5.3.3.1.cmml">(</mo><mi id="S3.p2.8.m8.3.3" xref="S3.p2.8.m8.3.3.cmml">u</mi><mo id="S3.p2.8.m8.5.5.3.3.2.2" xref="S3.p2.8.m8.5.5.3.3.1.cmml">,</mo><mi id="S3.p2.8.m8.4.4" xref="S3.p2.8.m8.4.4.cmml">v</mi><mo id="S3.p2.8.m8.5.5.3.3.2.3" stretchy="false" xref="S3.p2.8.m8.5.5.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.8.m8.5b"><apply id="S3.p2.8.m8.5.5.cmml" xref="S3.p2.8.m8.5.5"><eq id="S3.p2.8.m8.5.5.2.cmml" xref="S3.p2.8.m8.5.5.2"></eq><apply id="S3.p2.8.m8.5.5.1.cmml" xref="S3.p2.8.m8.5.5.1"><times id="S3.p2.8.m8.5.5.1.2.cmml" xref="S3.p2.8.m8.5.5.1.2"></times><ci id="S3.p2.8.m8.5.5.1.3.cmml" xref="S3.p2.8.m8.5.5.1.3">𝐄</ci><apply id="S3.p2.8.m8.5.5.1.1.2.cmml" xref="S3.p2.8.m8.5.5.1.1.1"><csymbol cd="latexml" id="S3.p2.8.m8.5.5.1.1.2.1.cmml" xref="S3.p2.8.m8.5.5.1.1.1.2">delimited-[]</csymbol><apply id="S3.p2.8.m8.5.5.1.1.1.1.cmml" xref="S3.p2.8.m8.5.5.1.1.1.1"><times id="S3.p2.8.m8.5.5.1.1.1.1.1.cmml" xref="S3.p2.8.m8.5.5.1.1.1.1.1"></times><ci id="S3.p2.8.m8.5.5.1.1.1.1.2.cmml" xref="S3.p2.8.m8.5.5.1.1.1.1.2">𝑌</ci><interval closure="open" id="S3.p2.8.m8.5.5.1.1.1.1.3.1.cmml" xref="S3.p2.8.m8.5.5.1.1.1.1.3.2"><ci id="S3.p2.8.m8.1.1.cmml" xref="S3.p2.8.m8.1.1">𝑢</ci><ci id="S3.p2.8.m8.2.2.cmml" xref="S3.p2.8.m8.2.2">𝑣</ci></interval></apply></apply></apply><apply id="S3.p2.8.m8.5.5.3.cmml" xref="S3.p2.8.m8.5.5.3"><times id="S3.p2.8.m8.5.5.3.1.cmml" xref="S3.p2.8.m8.5.5.3.1"></times><ci id="S3.p2.8.m8.5.5.3.2.cmml" xref="S3.p2.8.m8.5.5.3.2">𝑟</ci><interval closure="open" id="S3.p2.8.m8.5.5.3.3.1.cmml" xref="S3.p2.8.m8.5.5.3.3.2"><ci id="S3.p2.8.m8.3.3.cmml" xref="S3.p2.8.m8.3.3">𝑢</ci><ci id="S3.p2.8.m8.4.4.cmml" xref="S3.p2.8.m8.4.4">𝑣</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.8.m8.5c">\mathbf{E}[Y(u,v)]=r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S3.p2.8.m8.5d">bold_E [ italic_Y ( italic_u , italic_v ) ] = italic_r ( italic_u , italic_v )</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.18">Under the above four-stage system, given a user <math alttext="u" class="ltx_Math" display="inline" id="S3.p3.1.m1.1"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.p3.1.m1.1d">italic_u</annotation></semantics></math>, denote the corresponding candidate set and output item set of stage <math alttext="i" class="ltx_Math" display="inline" id="S3.p3.2.m2.1"><semantics id="S3.p3.2.m2.1a"><mi id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><ci id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.p3.2.m2.1d">italic_i</annotation></semantics></math> as <math alttext="\mathcal{I}^{i-1}(u)" class="ltx_Math" display="inline" id="S3.p3.3.m3.1"><semantics id="S3.p3.3.m3.1a"><mrow id="S3.p3.3.m3.1.2" xref="S3.p3.3.m3.1.2.cmml"><msup id="S3.p3.3.m3.1.2.2" xref="S3.p3.3.m3.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.3.m3.1.2.2.2" xref="S3.p3.3.m3.1.2.2.2.cmml">ℐ</mi><mrow id="S3.p3.3.m3.1.2.2.3" xref="S3.p3.3.m3.1.2.2.3.cmml"><mi id="S3.p3.3.m3.1.2.2.3.2" xref="S3.p3.3.m3.1.2.2.3.2.cmml">i</mi><mo id="S3.p3.3.m3.1.2.2.3.1" xref="S3.p3.3.m3.1.2.2.3.1.cmml">−</mo><mn id="S3.p3.3.m3.1.2.2.3.3" xref="S3.p3.3.m3.1.2.2.3.3.cmml">1</mn></mrow></msup><mo id="S3.p3.3.m3.1.2.1" xref="S3.p3.3.m3.1.2.1.cmml">⁢</mo><mrow id="S3.p3.3.m3.1.2.3.2" xref="S3.p3.3.m3.1.2.cmml"><mo id="S3.p3.3.m3.1.2.3.2.1" stretchy="false" xref="S3.p3.3.m3.1.2.cmml">(</mo><mi id="S3.p3.3.m3.1.1" xref="S3.p3.3.m3.1.1.cmml">u</mi><mo id="S3.p3.3.m3.1.2.3.2.2" stretchy="false" xref="S3.p3.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.3.m3.1b"><apply id="S3.p3.3.m3.1.2.cmml" xref="S3.p3.3.m3.1.2"><times id="S3.p3.3.m3.1.2.1.cmml" xref="S3.p3.3.m3.1.2.1"></times><apply id="S3.p3.3.m3.1.2.2.cmml" xref="S3.p3.3.m3.1.2.2"><csymbol cd="ambiguous" id="S3.p3.3.m3.1.2.2.1.cmml" xref="S3.p3.3.m3.1.2.2">superscript</csymbol><ci id="S3.p3.3.m3.1.2.2.2.cmml" xref="S3.p3.3.m3.1.2.2.2">ℐ</ci><apply id="S3.p3.3.m3.1.2.2.3.cmml" xref="S3.p3.3.m3.1.2.2.3"><minus id="S3.p3.3.m3.1.2.2.3.1.cmml" xref="S3.p3.3.m3.1.2.2.3.1"></minus><ci id="S3.p3.3.m3.1.2.2.3.2.cmml" xref="S3.p3.3.m3.1.2.2.3.2">𝑖</ci><cn id="S3.p3.3.m3.1.2.2.3.3.cmml" type="integer" xref="S3.p3.3.m3.1.2.2.3.3">1</cn></apply></apply><ci id="S3.p3.3.m3.1.1.cmml" xref="S3.p3.3.m3.1.1">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">\mathcal{I}^{i-1}(u)</annotation><annotation encoding="application/x-llamapun" id="S3.p3.3.m3.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT ( italic_u )</annotation></semantics></math> and <math alttext="\mathcal{I}^{i}(u)" class="ltx_Math" display="inline" id="S3.p3.4.m4.1"><semantics id="S3.p3.4.m4.1a"><mrow id="S3.p3.4.m4.1.2" xref="S3.p3.4.m4.1.2.cmml"><msup id="S3.p3.4.m4.1.2.2" xref="S3.p3.4.m4.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.4.m4.1.2.2.2" xref="S3.p3.4.m4.1.2.2.2.cmml">ℐ</mi><mi id="S3.p3.4.m4.1.2.2.3" xref="S3.p3.4.m4.1.2.2.3.cmml">i</mi></msup><mo id="S3.p3.4.m4.1.2.1" xref="S3.p3.4.m4.1.2.1.cmml">⁢</mo><mrow id="S3.p3.4.m4.1.2.3.2" xref="S3.p3.4.m4.1.2.cmml"><mo id="S3.p3.4.m4.1.2.3.2.1" stretchy="false" xref="S3.p3.4.m4.1.2.cmml">(</mo><mi id="S3.p3.4.m4.1.1" xref="S3.p3.4.m4.1.1.cmml">u</mi><mo id="S3.p3.4.m4.1.2.3.2.2" stretchy="false" xref="S3.p3.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.4.m4.1b"><apply id="S3.p3.4.m4.1.2.cmml" xref="S3.p3.4.m4.1.2"><times id="S3.p3.4.m4.1.2.1.cmml" xref="S3.p3.4.m4.1.2.1"></times><apply id="S3.p3.4.m4.1.2.2.cmml" xref="S3.p3.4.m4.1.2.2"><csymbol cd="ambiguous" id="S3.p3.4.m4.1.2.2.1.cmml" xref="S3.p3.4.m4.1.2.2">superscript</csymbol><ci id="S3.p3.4.m4.1.2.2.2.cmml" xref="S3.p3.4.m4.1.2.2.2">ℐ</ci><ci id="S3.p3.4.m4.1.2.2.3.cmml" xref="S3.p3.4.m4.1.2.2.3">𝑖</ci></apply><ci id="S3.p3.4.m4.1.1.cmml" xref="S3.p3.4.m4.1.1">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.4.m4.1c">\mathcal{I}^{i}(u)</annotation><annotation encoding="application/x-llamapun" id="S3.p3.4.m4.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u )</annotation></semantics></math> respectively, where <math alttext="i\in[4]:=\{1,2,3,4\}" class="ltx_Math" display="inline" id="S3.p3.5.m5.5"><semantics id="S3.p3.5.m5.5a"><mrow id="S3.p3.5.m5.5.6" xref="S3.p3.5.m5.5.6.cmml"><mi id="S3.p3.5.m5.5.6.2" xref="S3.p3.5.m5.5.6.2.cmml">i</mi><mo id="S3.p3.5.m5.5.6.3" xref="S3.p3.5.m5.5.6.3.cmml">∈</mo><mrow id="S3.p3.5.m5.5.6.4.2" xref="S3.p3.5.m5.5.6.4.1.cmml"><mo id="S3.p3.5.m5.5.6.4.2.1" stretchy="false" xref="S3.p3.5.m5.5.6.4.1.1.cmml">[</mo><mn id="S3.p3.5.m5.1.1" xref="S3.p3.5.m5.1.1.cmml">4</mn><mo id="S3.p3.5.m5.5.6.4.2.2" rspace="0.278em" stretchy="false" xref="S3.p3.5.m5.5.6.4.1.1.cmml">]</mo></mrow><mo id="S3.p3.5.m5.5.6.5" rspace="0.278em" xref="S3.p3.5.m5.5.6.5.cmml">:=</mo><mrow id="S3.p3.5.m5.5.6.6.2" xref="S3.p3.5.m5.5.6.6.1.cmml"><mo id="S3.p3.5.m5.5.6.6.2.1" stretchy="false" xref="S3.p3.5.m5.5.6.6.1.cmml">{</mo><mn id="S3.p3.5.m5.2.2" xref="S3.p3.5.m5.2.2.cmml">1</mn><mo id="S3.p3.5.m5.5.6.6.2.2" xref="S3.p3.5.m5.5.6.6.1.cmml">,</mo><mn id="S3.p3.5.m5.3.3" xref="S3.p3.5.m5.3.3.cmml">2</mn><mo id="S3.p3.5.m5.5.6.6.2.3" xref="S3.p3.5.m5.5.6.6.1.cmml">,</mo><mn id="S3.p3.5.m5.4.4" xref="S3.p3.5.m5.4.4.cmml">3</mn><mo id="S3.p3.5.m5.5.6.6.2.4" xref="S3.p3.5.m5.5.6.6.1.cmml">,</mo><mn id="S3.p3.5.m5.5.5" xref="S3.p3.5.m5.5.5.cmml">4</mn><mo id="S3.p3.5.m5.5.6.6.2.5" stretchy="false" xref="S3.p3.5.m5.5.6.6.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.5.m5.5b"><apply id="S3.p3.5.m5.5.6.cmml" xref="S3.p3.5.m5.5.6"><and id="S3.p3.5.m5.5.6a.cmml" xref="S3.p3.5.m5.5.6"></and><apply id="S3.p3.5.m5.5.6b.cmml" xref="S3.p3.5.m5.5.6"><in id="S3.p3.5.m5.5.6.3.cmml" xref="S3.p3.5.m5.5.6.3"></in><ci id="S3.p3.5.m5.5.6.2.cmml" xref="S3.p3.5.m5.5.6.2">𝑖</ci><apply id="S3.p3.5.m5.5.6.4.1.cmml" xref="S3.p3.5.m5.5.6.4.2"><csymbol cd="latexml" id="S3.p3.5.m5.5.6.4.1.1.cmml" xref="S3.p3.5.m5.5.6.4.2.1">delimited-[]</csymbol><cn id="S3.p3.5.m5.1.1.cmml" type="integer" xref="S3.p3.5.m5.1.1">4</cn></apply></apply><apply id="S3.p3.5.m5.5.6c.cmml" xref="S3.p3.5.m5.5.6"><csymbol cd="latexml" id="S3.p3.5.m5.5.6.5.cmml" xref="S3.p3.5.m5.5.6.5">assign</csymbol><share href="https://arxiv.org/html/2405.04844v1#S3.p3.5.m5.5.6.4.cmml" id="S3.p3.5.m5.5.6d.cmml" xref="S3.p3.5.m5.5.6"></share><set id="S3.p3.5.m5.5.6.6.1.cmml" xref="S3.p3.5.m5.5.6.6.2"><cn id="S3.p3.5.m5.2.2.cmml" type="integer" xref="S3.p3.5.m5.2.2">1</cn><cn id="S3.p3.5.m5.3.3.cmml" type="integer" xref="S3.p3.5.m5.3.3">2</cn><cn id="S3.p3.5.m5.4.4.cmml" type="integer" xref="S3.p3.5.m5.4.4">3</cn><cn id="S3.p3.5.m5.5.5.cmml" type="integer" xref="S3.p3.5.m5.5.5">4</cn></set></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.5.m5.5c">i\in[4]:=\{1,2,3,4\}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.5.m5.5d">italic_i ∈ [ 4 ] := { 1 , 2 , 3 , 4 }</annotation></semantics></math> and <math alttext="\mathcal{I}^{0}\equiv\mathcal{I}" class="ltx_Math" display="inline" id="S3.p3.6.m6.1"><semantics id="S3.p3.6.m6.1a"><mrow id="S3.p3.6.m6.1.1" xref="S3.p3.6.m6.1.1.cmml"><msup id="S3.p3.6.m6.1.1.2" xref="S3.p3.6.m6.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.6.m6.1.1.2.2" xref="S3.p3.6.m6.1.1.2.2.cmml">ℐ</mi><mn id="S3.p3.6.m6.1.1.2.3" xref="S3.p3.6.m6.1.1.2.3.cmml">0</mn></msup><mo id="S3.p3.6.m6.1.1.1" xref="S3.p3.6.m6.1.1.1.cmml">≡</mo><mi class="ltx_font_mathcaligraphic" id="S3.p3.6.m6.1.1.3" xref="S3.p3.6.m6.1.1.3.cmml">ℐ</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.6.m6.1b"><apply id="S3.p3.6.m6.1.1.cmml" xref="S3.p3.6.m6.1.1"><equivalent id="S3.p3.6.m6.1.1.1.cmml" xref="S3.p3.6.m6.1.1.1"></equivalent><apply id="S3.p3.6.m6.1.1.2.cmml" xref="S3.p3.6.m6.1.1.2"><csymbol cd="ambiguous" id="S3.p3.6.m6.1.1.2.1.cmml" xref="S3.p3.6.m6.1.1.2">superscript</csymbol><ci id="S3.p3.6.m6.1.1.2.2.cmml" xref="S3.p3.6.m6.1.1.2.2">ℐ</ci><cn id="S3.p3.6.m6.1.1.2.3.cmml" type="integer" xref="S3.p3.6.m6.1.1.2.3">0</cn></apply><ci id="S3.p3.6.m6.1.1.3.cmml" xref="S3.p3.6.m6.1.1.3">ℐ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.6.m6.1c">\mathcal{I}^{0}\equiv\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.6.m6.1d">caligraphic_I start_POSTSUPERSCRIPT 0 end_POSTSUPERSCRIPT ≡ caligraphic_I</annotation></semantics></math>, <math alttext="|\mathcal{I}^{i}(u)|=c_{i}" class="ltx_Math" display="inline" id="S3.p3.7.m7.2"><semantics id="S3.p3.7.m7.2a"><mrow id="S3.p3.7.m7.2.2" xref="S3.p3.7.m7.2.2.cmml"><mrow id="S3.p3.7.m7.2.2.1.1" xref="S3.p3.7.m7.2.2.1.2.cmml"><mo id="S3.p3.7.m7.2.2.1.1.2" stretchy="false" xref="S3.p3.7.m7.2.2.1.2.1.cmml">|</mo><mrow id="S3.p3.7.m7.2.2.1.1.1" xref="S3.p3.7.m7.2.2.1.1.1.cmml"><msup id="S3.p3.7.m7.2.2.1.1.1.2" xref="S3.p3.7.m7.2.2.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.7.m7.2.2.1.1.1.2.2" xref="S3.p3.7.m7.2.2.1.1.1.2.2.cmml">ℐ</mi><mi id="S3.p3.7.m7.2.2.1.1.1.2.3" xref="S3.p3.7.m7.2.2.1.1.1.2.3.cmml">i</mi></msup><mo id="S3.p3.7.m7.2.2.1.1.1.1" xref="S3.p3.7.m7.2.2.1.1.1.1.cmml">⁢</mo><mrow id="S3.p3.7.m7.2.2.1.1.1.3.2" xref="S3.p3.7.m7.2.2.1.1.1.cmml"><mo id="S3.p3.7.m7.2.2.1.1.1.3.2.1" stretchy="false" xref="S3.p3.7.m7.2.2.1.1.1.cmml">(</mo><mi id="S3.p3.7.m7.1.1" xref="S3.p3.7.m7.1.1.cmml">u</mi><mo id="S3.p3.7.m7.2.2.1.1.1.3.2.2" stretchy="false" xref="S3.p3.7.m7.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.p3.7.m7.2.2.1.1.3" stretchy="false" xref="S3.p3.7.m7.2.2.1.2.1.cmml">|</mo></mrow><mo id="S3.p3.7.m7.2.2.2" xref="S3.p3.7.m7.2.2.2.cmml">=</mo><msub id="S3.p3.7.m7.2.2.3" xref="S3.p3.7.m7.2.2.3.cmml"><mi id="S3.p3.7.m7.2.2.3.2" xref="S3.p3.7.m7.2.2.3.2.cmml">c</mi><mi id="S3.p3.7.m7.2.2.3.3" xref="S3.p3.7.m7.2.2.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.7.m7.2b"><apply id="S3.p3.7.m7.2.2.cmml" xref="S3.p3.7.m7.2.2"><eq id="S3.p3.7.m7.2.2.2.cmml" xref="S3.p3.7.m7.2.2.2"></eq><apply id="S3.p3.7.m7.2.2.1.2.cmml" xref="S3.p3.7.m7.2.2.1.1"><abs id="S3.p3.7.m7.2.2.1.2.1.cmml" xref="S3.p3.7.m7.2.2.1.1.2"></abs><apply id="S3.p3.7.m7.2.2.1.1.1.cmml" xref="S3.p3.7.m7.2.2.1.1.1"><times id="S3.p3.7.m7.2.2.1.1.1.1.cmml" xref="S3.p3.7.m7.2.2.1.1.1.1"></times><apply id="S3.p3.7.m7.2.2.1.1.1.2.cmml" xref="S3.p3.7.m7.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.p3.7.m7.2.2.1.1.1.2.1.cmml" xref="S3.p3.7.m7.2.2.1.1.1.2">superscript</csymbol><ci id="S3.p3.7.m7.2.2.1.1.1.2.2.cmml" xref="S3.p3.7.m7.2.2.1.1.1.2.2">ℐ</ci><ci id="S3.p3.7.m7.2.2.1.1.1.2.3.cmml" xref="S3.p3.7.m7.2.2.1.1.1.2.3">𝑖</ci></apply><ci id="S3.p3.7.m7.1.1.cmml" xref="S3.p3.7.m7.1.1">𝑢</ci></apply></apply><apply id="S3.p3.7.m7.2.2.3.cmml" xref="S3.p3.7.m7.2.2.3"><csymbol cd="ambiguous" id="S3.p3.7.m7.2.2.3.1.cmml" xref="S3.p3.7.m7.2.2.3">subscript</csymbol><ci id="S3.p3.7.m7.2.2.3.2.cmml" xref="S3.p3.7.m7.2.2.3.2">𝑐</ci><ci id="S3.p3.7.m7.2.2.3.3.cmml" xref="S3.p3.7.m7.2.2.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.7.m7.2c">|\mathcal{I}^{i}(u)|=c_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.7.m7.2d">| caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u ) | = italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.
For the clarity of our notations, we will use <math alttext="\mathcal{I}^{i}" class="ltx_Math" display="inline" id="S3.p3.8.m8.1"><semantics id="S3.p3.8.m8.1a"><msup id="S3.p3.8.m8.1.1" xref="S3.p3.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.8.m8.1.1.2" xref="S3.p3.8.m8.1.1.2.cmml">ℐ</mi><mi id="S3.p3.8.m8.1.1.3" xref="S3.p3.8.m8.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="S3.p3.8.m8.1b"><apply id="S3.p3.8.m8.1.1.cmml" xref="S3.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.p3.8.m8.1.1.1.cmml" xref="S3.p3.8.m8.1.1">superscript</csymbol><ci id="S3.p3.8.m8.1.1.2.cmml" xref="S3.p3.8.m8.1.1.2">ℐ</ci><ci id="S3.p3.8.m8.1.1.3.cmml" xref="S3.p3.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.8.m8.1c">\mathcal{I}^{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.8.m8.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> instead of <math alttext="\mathcal{I}^{i}(u)" class="ltx_Math" display="inline" id="S3.p3.9.m9.1"><semantics id="S3.p3.9.m9.1a"><mrow id="S3.p3.9.m9.1.2" xref="S3.p3.9.m9.1.2.cmml"><msup id="S3.p3.9.m9.1.2.2" xref="S3.p3.9.m9.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.9.m9.1.2.2.2" xref="S3.p3.9.m9.1.2.2.2.cmml">ℐ</mi><mi id="S3.p3.9.m9.1.2.2.3" xref="S3.p3.9.m9.1.2.2.3.cmml">i</mi></msup><mo id="S3.p3.9.m9.1.2.1" xref="S3.p3.9.m9.1.2.1.cmml">⁢</mo><mrow id="S3.p3.9.m9.1.2.3.2" xref="S3.p3.9.m9.1.2.cmml"><mo id="S3.p3.9.m9.1.2.3.2.1" stretchy="false" xref="S3.p3.9.m9.1.2.cmml">(</mo><mi id="S3.p3.9.m9.1.1" xref="S3.p3.9.m9.1.1.cmml">u</mi><mo id="S3.p3.9.m9.1.2.3.2.2" stretchy="false" xref="S3.p3.9.m9.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.9.m9.1b"><apply id="S3.p3.9.m9.1.2.cmml" xref="S3.p3.9.m9.1.2"><times id="S3.p3.9.m9.1.2.1.cmml" xref="S3.p3.9.m9.1.2.1"></times><apply id="S3.p3.9.m9.1.2.2.cmml" xref="S3.p3.9.m9.1.2.2"><csymbol cd="ambiguous" id="S3.p3.9.m9.1.2.2.1.cmml" xref="S3.p3.9.m9.1.2.2">superscript</csymbol><ci id="S3.p3.9.m9.1.2.2.2.cmml" xref="S3.p3.9.m9.1.2.2.2">ℐ</ci><ci id="S3.p3.9.m9.1.2.2.3.cmml" xref="S3.p3.9.m9.1.2.2.3">𝑖</ci></apply><ci id="S3.p3.9.m9.1.1.cmml" xref="S3.p3.9.m9.1.1">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.9.m9.1c">\mathcal{I}^{i}(u)</annotation><annotation encoding="application/x-llamapun" id="S3.p3.9.m9.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u )</annotation></semantics></math> when there is no ambiguity. Given candidate set <math alttext="\mathcal{I}^{i-1}" class="ltx_Math" display="inline" id="S3.p3.10.m10.1"><semantics id="S3.p3.10.m10.1a"><msup id="S3.p3.10.m10.1.1" xref="S3.p3.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.10.m10.1.1.2" xref="S3.p3.10.m10.1.1.2.cmml">ℐ</mi><mrow id="S3.p3.10.m10.1.1.3" xref="S3.p3.10.m10.1.1.3.cmml"><mi id="S3.p3.10.m10.1.1.3.2" xref="S3.p3.10.m10.1.1.3.2.cmml">i</mi><mo id="S3.p3.10.m10.1.1.3.1" xref="S3.p3.10.m10.1.1.3.1.cmml">−</mo><mn id="S3.p3.10.m10.1.1.3.3" xref="S3.p3.10.m10.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.p3.10.m10.1b"><apply id="S3.p3.10.m10.1.1.cmml" xref="S3.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S3.p3.10.m10.1.1.1.cmml" xref="S3.p3.10.m10.1.1">superscript</csymbol><ci id="S3.p3.10.m10.1.1.2.cmml" xref="S3.p3.10.m10.1.1.2">ℐ</ci><apply id="S3.p3.10.m10.1.1.3.cmml" xref="S3.p3.10.m10.1.1.3"><minus id="S3.p3.10.m10.1.1.3.1.cmml" xref="S3.p3.10.m10.1.1.3.1"></minus><ci id="S3.p3.10.m10.1.1.3.2.cmml" xref="S3.p3.10.m10.1.1.3.2">𝑖</ci><cn id="S3.p3.10.m10.1.1.3.3.cmml" type="integer" xref="S3.p3.10.m10.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.10.m10.1c">\mathcal{I}^{i-1}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.10.m10.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT</annotation></semantics></math> at stage <math alttext="i" class="ltx_Math" display="inline" id="S3.p3.11.m11.1"><semantics id="S3.p3.11.m11.1a"><mi id="S3.p3.11.m11.1.1" xref="S3.p3.11.m11.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.p3.11.m11.1b"><ci id="S3.p3.11.m11.1.1.cmml" xref="S3.p3.11.m11.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.11.m11.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.p3.11.m11.1d">italic_i</annotation></semantics></math>, suppose item <math alttext="v\in\mathcal{I}^{i-1}" class="ltx_Math" display="inline" id="S3.p3.12.m12.1"><semantics id="S3.p3.12.m12.1a"><mrow id="S3.p3.12.m12.1.1" xref="S3.p3.12.m12.1.1.cmml"><mi id="S3.p3.12.m12.1.1.2" xref="S3.p3.12.m12.1.1.2.cmml">v</mi><mo id="S3.p3.12.m12.1.1.1" xref="S3.p3.12.m12.1.1.1.cmml">∈</mo><msup id="S3.p3.12.m12.1.1.3" xref="S3.p3.12.m12.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.12.m12.1.1.3.2" xref="S3.p3.12.m12.1.1.3.2.cmml">ℐ</mi><mrow id="S3.p3.12.m12.1.1.3.3" xref="S3.p3.12.m12.1.1.3.3.cmml"><mi id="S3.p3.12.m12.1.1.3.3.2" xref="S3.p3.12.m12.1.1.3.3.2.cmml">i</mi><mo id="S3.p3.12.m12.1.1.3.3.1" xref="S3.p3.12.m12.1.1.3.3.1.cmml">−</mo><mn id="S3.p3.12.m12.1.1.3.3.3" xref="S3.p3.12.m12.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.12.m12.1b"><apply id="S3.p3.12.m12.1.1.cmml" xref="S3.p3.12.m12.1.1"><in id="S3.p3.12.m12.1.1.1.cmml" xref="S3.p3.12.m12.1.1.1"></in><ci id="S3.p3.12.m12.1.1.2.cmml" xref="S3.p3.12.m12.1.1.2">𝑣</ci><apply id="S3.p3.12.m12.1.1.3.cmml" xref="S3.p3.12.m12.1.1.3"><csymbol cd="ambiguous" id="S3.p3.12.m12.1.1.3.1.cmml" xref="S3.p3.12.m12.1.1.3">superscript</csymbol><ci id="S3.p3.12.m12.1.1.3.2.cmml" xref="S3.p3.12.m12.1.1.3.2">ℐ</ci><apply id="S3.p3.12.m12.1.1.3.3.cmml" xref="S3.p3.12.m12.1.1.3.3"><minus id="S3.p3.12.m12.1.1.3.3.1.cmml" xref="S3.p3.12.m12.1.1.3.3.1"></minus><ci id="S3.p3.12.m12.1.1.3.3.2.cmml" xref="S3.p3.12.m12.1.1.3.3.2">𝑖</ci><cn id="S3.p3.12.m12.1.1.3.3.3.cmml" type="integer" xref="S3.p3.12.m12.1.1.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.12.m12.1c">v\in\mathcal{I}^{i-1}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.12.m12.1d">italic_v ∈ caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT</annotation></semantics></math> is selected into the output item set <math alttext="\mathcal{I}^{i}" class="ltx_Math" display="inline" id="S3.p3.13.m13.1"><semantics id="S3.p3.13.m13.1a"><msup id="S3.p3.13.m13.1.1" xref="S3.p3.13.m13.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.13.m13.1.1.2" xref="S3.p3.13.m13.1.1.2.cmml">ℐ</mi><mi id="S3.p3.13.m13.1.1.3" xref="S3.p3.13.m13.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="S3.p3.13.m13.1b"><apply id="S3.p3.13.m13.1.1.cmml" xref="S3.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S3.p3.13.m13.1.1.1.cmml" xref="S3.p3.13.m13.1.1">superscript</csymbol><ci id="S3.p3.13.m13.1.1.2.cmml" xref="S3.p3.13.m13.1.1.2">ℐ</ci><ci id="S3.p3.13.m13.1.1.3.cmml" xref="S3.p3.13.m13.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.13.m13.1c">\mathcal{I}^{i}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.13.m13.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> with probability <math alttext="p^{i}(u,v|\mathcal{I}^{i-1})" class="ltx_Math" display="inline" id="S3.p3.14.m14.2"><semantics id="S3.p3.14.m14.2a"><mrow id="S3.p3.14.m14.2.2" xref="S3.p3.14.m14.2.2.cmml"><msup id="S3.p3.14.m14.2.2.3" xref="S3.p3.14.m14.2.2.3.cmml"><mi id="S3.p3.14.m14.2.2.3.2" xref="S3.p3.14.m14.2.2.3.2.cmml">p</mi><mi id="S3.p3.14.m14.2.2.3.3" xref="S3.p3.14.m14.2.2.3.3.cmml">i</mi></msup><mo id="S3.p3.14.m14.2.2.2" xref="S3.p3.14.m14.2.2.2.cmml">⁢</mo><mrow id="S3.p3.14.m14.2.2.1.1" xref="S3.p3.14.m14.2.2.1.2.cmml"><mo id="S3.p3.14.m14.2.2.1.1.2" stretchy="false" xref="S3.p3.14.m14.2.2.1.2.cmml">(</mo><mi id="S3.p3.14.m14.1.1" xref="S3.p3.14.m14.1.1.cmml">u</mi><mo id="S3.p3.14.m14.2.2.1.1.3" xref="S3.p3.14.m14.2.2.1.2.cmml">,</mo><mrow id="S3.p3.14.m14.2.2.1.1.1" xref="S3.p3.14.m14.2.2.1.1.1.cmml"><mi id="S3.p3.14.m14.2.2.1.1.1.2" xref="S3.p3.14.m14.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="S3.p3.14.m14.2.2.1.1.1.1" xref="S3.p3.14.m14.2.2.1.1.1.1.cmml">|</mo><msup id="S3.p3.14.m14.2.2.1.1.1.3" xref="S3.p3.14.m14.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.14.m14.2.2.1.1.1.3.2" xref="S3.p3.14.m14.2.2.1.1.1.3.2.cmml">ℐ</mi><mrow id="S3.p3.14.m14.2.2.1.1.1.3.3" xref="S3.p3.14.m14.2.2.1.1.1.3.3.cmml"><mi id="S3.p3.14.m14.2.2.1.1.1.3.3.2" xref="S3.p3.14.m14.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S3.p3.14.m14.2.2.1.1.1.3.3.1" xref="S3.p3.14.m14.2.2.1.1.1.3.3.1.cmml">−</mo><mn id="S3.p3.14.m14.2.2.1.1.1.3.3.3" xref="S3.p3.14.m14.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S3.p3.14.m14.2.2.1.1.4" stretchy="false" xref="S3.p3.14.m14.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.14.m14.2b"><apply id="S3.p3.14.m14.2.2.cmml" xref="S3.p3.14.m14.2.2"><times id="S3.p3.14.m14.2.2.2.cmml" xref="S3.p3.14.m14.2.2.2"></times><apply id="S3.p3.14.m14.2.2.3.cmml" xref="S3.p3.14.m14.2.2.3"><csymbol cd="ambiguous" id="S3.p3.14.m14.2.2.3.1.cmml" xref="S3.p3.14.m14.2.2.3">superscript</csymbol><ci id="S3.p3.14.m14.2.2.3.2.cmml" xref="S3.p3.14.m14.2.2.3.2">𝑝</ci><ci id="S3.p3.14.m14.2.2.3.3.cmml" xref="S3.p3.14.m14.2.2.3.3">𝑖</ci></apply><interval closure="open" id="S3.p3.14.m14.2.2.1.2.cmml" xref="S3.p3.14.m14.2.2.1.1"><ci id="S3.p3.14.m14.1.1.cmml" xref="S3.p3.14.m14.1.1">𝑢</ci><apply id="S3.p3.14.m14.2.2.1.1.1.cmml" xref="S3.p3.14.m14.2.2.1.1.1"><csymbol cd="latexml" id="S3.p3.14.m14.2.2.1.1.1.1.cmml" xref="S3.p3.14.m14.2.2.1.1.1.1">conditional</csymbol><ci id="S3.p3.14.m14.2.2.1.1.1.2.cmml" xref="S3.p3.14.m14.2.2.1.1.1.2">𝑣</ci><apply id="S3.p3.14.m14.2.2.1.1.1.3.cmml" xref="S3.p3.14.m14.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p3.14.m14.2.2.1.1.1.3.1.cmml" xref="S3.p3.14.m14.2.2.1.1.1.3">superscript</csymbol><ci id="S3.p3.14.m14.2.2.1.1.1.3.2.cmml" xref="S3.p3.14.m14.2.2.1.1.1.3.2">ℐ</ci><apply id="S3.p3.14.m14.2.2.1.1.1.3.3.cmml" xref="S3.p3.14.m14.2.2.1.1.1.3.3"><minus id="S3.p3.14.m14.2.2.1.1.1.3.3.1.cmml" xref="S3.p3.14.m14.2.2.1.1.1.3.3.1"></minus><ci id="S3.p3.14.m14.2.2.1.1.1.3.3.2.cmml" xref="S3.p3.14.m14.2.2.1.1.1.3.3.2">𝑖</ci><cn id="S3.p3.14.m14.2.2.1.1.1.3.3.3.cmml" type="integer" xref="S3.p3.14.m14.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.14.m14.2c">p^{i}(u,v|\mathcal{I}^{i-1})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.14.m14.2d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT )</annotation></semantics></math>, and denote <math alttext="O^{i}(u,v|\mathcal{I}^{i-1})" class="ltx_Math" display="inline" id="S3.p3.15.m15.2"><semantics id="S3.p3.15.m15.2a"><mrow id="S3.p3.15.m15.2.2" xref="S3.p3.15.m15.2.2.cmml"><msup id="S3.p3.15.m15.2.2.3" xref="S3.p3.15.m15.2.2.3.cmml"><mi id="S3.p3.15.m15.2.2.3.2" xref="S3.p3.15.m15.2.2.3.2.cmml">O</mi><mi id="S3.p3.15.m15.2.2.3.3" xref="S3.p3.15.m15.2.2.3.3.cmml">i</mi></msup><mo id="S3.p3.15.m15.2.2.2" xref="S3.p3.15.m15.2.2.2.cmml">⁢</mo><mrow id="S3.p3.15.m15.2.2.1.1" xref="S3.p3.15.m15.2.2.1.2.cmml"><mo id="S3.p3.15.m15.2.2.1.1.2" stretchy="false" xref="S3.p3.15.m15.2.2.1.2.cmml">(</mo><mi id="S3.p3.15.m15.1.1" xref="S3.p3.15.m15.1.1.cmml">u</mi><mo id="S3.p3.15.m15.2.2.1.1.3" xref="S3.p3.15.m15.2.2.1.2.cmml">,</mo><mrow id="S3.p3.15.m15.2.2.1.1.1" xref="S3.p3.15.m15.2.2.1.1.1.cmml"><mi id="S3.p3.15.m15.2.2.1.1.1.2" xref="S3.p3.15.m15.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="S3.p3.15.m15.2.2.1.1.1.1" xref="S3.p3.15.m15.2.2.1.1.1.1.cmml">|</mo><msup id="S3.p3.15.m15.2.2.1.1.1.3" xref="S3.p3.15.m15.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.15.m15.2.2.1.1.1.3.2" xref="S3.p3.15.m15.2.2.1.1.1.3.2.cmml">ℐ</mi><mrow id="S3.p3.15.m15.2.2.1.1.1.3.3" xref="S3.p3.15.m15.2.2.1.1.1.3.3.cmml"><mi id="S3.p3.15.m15.2.2.1.1.1.3.3.2" xref="S3.p3.15.m15.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S3.p3.15.m15.2.2.1.1.1.3.3.1" xref="S3.p3.15.m15.2.2.1.1.1.3.3.1.cmml">−</mo><mn id="S3.p3.15.m15.2.2.1.1.1.3.3.3" xref="S3.p3.15.m15.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S3.p3.15.m15.2.2.1.1.4" stretchy="false" xref="S3.p3.15.m15.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.15.m15.2b"><apply id="S3.p3.15.m15.2.2.cmml" xref="S3.p3.15.m15.2.2"><times id="S3.p3.15.m15.2.2.2.cmml" xref="S3.p3.15.m15.2.2.2"></times><apply id="S3.p3.15.m15.2.2.3.cmml" xref="S3.p3.15.m15.2.2.3"><csymbol cd="ambiguous" id="S3.p3.15.m15.2.2.3.1.cmml" xref="S3.p3.15.m15.2.2.3">superscript</csymbol><ci id="S3.p3.15.m15.2.2.3.2.cmml" xref="S3.p3.15.m15.2.2.3.2">𝑂</ci><ci id="S3.p3.15.m15.2.2.3.3.cmml" xref="S3.p3.15.m15.2.2.3.3">𝑖</ci></apply><interval closure="open" id="S3.p3.15.m15.2.2.1.2.cmml" xref="S3.p3.15.m15.2.2.1.1"><ci id="S3.p3.15.m15.1.1.cmml" xref="S3.p3.15.m15.1.1">𝑢</ci><apply id="S3.p3.15.m15.2.2.1.1.1.cmml" xref="S3.p3.15.m15.2.2.1.1.1"><csymbol cd="latexml" id="S3.p3.15.m15.2.2.1.1.1.1.cmml" xref="S3.p3.15.m15.2.2.1.1.1.1">conditional</csymbol><ci id="S3.p3.15.m15.2.2.1.1.1.2.cmml" xref="S3.p3.15.m15.2.2.1.1.1.2">𝑣</ci><apply id="S3.p3.15.m15.2.2.1.1.1.3.cmml" xref="S3.p3.15.m15.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p3.15.m15.2.2.1.1.1.3.1.cmml" xref="S3.p3.15.m15.2.2.1.1.1.3">superscript</csymbol><ci id="S3.p3.15.m15.2.2.1.1.1.3.2.cmml" xref="S3.p3.15.m15.2.2.1.1.1.3.2">ℐ</ci><apply id="S3.p3.15.m15.2.2.1.1.1.3.3.cmml" xref="S3.p3.15.m15.2.2.1.1.1.3.3"><minus id="S3.p3.15.m15.2.2.1.1.1.3.3.1.cmml" xref="S3.p3.15.m15.2.2.1.1.1.3.3.1"></minus><ci id="S3.p3.15.m15.2.2.1.1.1.3.3.2.cmml" xref="S3.p3.15.m15.2.2.1.1.1.3.3.2">𝑖</ci><cn id="S3.p3.15.m15.2.2.1.1.1.3.3.3.cmml" type="integer" xref="S3.p3.15.m15.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.15.m15.2c">O^{i}(u,v|\mathcal{I}^{i-1})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.15.m15.2d">italic_O start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT )</annotation></semantics></math> as the corresponding observed Bernoulli random variable. Thus <math alttext="\mathbf{E}[O^{i}(u,v|\mathcal{I}^{i-1})]=p^{i}(u,v|\mathcal{I}^{i-1})" class="ltx_Math" display="inline" id="S3.p3.16.m16.4"><semantics id="S3.p3.16.m16.4a"><mrow id="S3.p3.16.m16.4.4" xref="S3.p3.16.m16.4.4.cmml"><mrow id="S3.p3.16.m16.3.3.1" xref="S3.p3.16.m16.3.3.1.cmml"><mi id="S3.p3.16.m16.3.3.1.3" xref="S3.p3.16.m16.3.3.1.3.cmml">𝐄</mi><mo id="S3.p3.16.m16.3.3.1.2" xref="S3.p3.16.m16.3.3.1.2.cmml">⁢</mo><mrow id="S3.p3.16.m16.3.3.1.1.1" xref="S3.p3.16.m16.3.3.1.1.2.cmml"><mo id="S3.p3.16.m16.3.3.1.1.1.2" stretchy="false" xref="S3.p3.16.m16.3.3.1.1.2.1.cmml">[</mo><mrow id="S3.p3.16.m16.3.3.1.1.1.1" xref="S3.p3.16.m16.3.3.1.1.1.1.cmml"><msup id="S3.p3.16.m16.3.3.1.1.1.1.3" xref="S3.p3.16.m16.3.3.1.1.1.1.3.cmml"><mi id="S3.p3.16.m16.3.3.1.1.1.1.3.2" xref="S3.p3.16.m16.3.3.1.1.1.1.3.2.cmml">O</mi><mi id="S3.p3.16.m16.3.3.1.1.1.1.3.3" xref="S3.p3.16.m16.3.3.1.1.1.1.3.3.cmml">i</mi></msup><mo id="S3.p3.16.m16.3.3.1.1.1.1.2" xref="S3.p3.16.m16.3.3.1.1.1.1.2.cmml">⁢</mo><mrow id="S3.p3.16.m16.3.3.1.1.1.1.1.1" xref="S3.p3.16.m16.3.3.1.1.1.1.1.2.cmml"><mo id="S3.p3.16.m16.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S3.p3.16.m16.3.3.1.1.1.1.1.2.cmml">(</mo><mi id="S3.p3.16.m16.1.1" xref="S3.p3.16.m16.1.1.cmml">u</mi><mo id="S3.p3.16.m16.3.3.1.1.1.1.1.1.3" xref="S3.p3.16.m16.3.3.1.1.1.1.1.2.cmml">,</mo><mrow id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.cmml"><mi id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.2" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.2.cmml">v</mi><mo fence="false" id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.1" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.1.cmml">|</mo><msup id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.2" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.2.cmml">ℐ</mi><mrow id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.2" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.1" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.3" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S3.p3.16.m16.3.3.1.1.1.1.1.1.4" stretchy="false" xref="S3.p3.16.m16.3.3.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.p3.16.m16.3.3.1.1.1.3" stretchy="false" xref="S3.p3.16.m16.3.3.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S3.p3.16.m16.4.4.3" xref="S3.p3.16.m16.4.4.3.cmml">=</mo><mrow id="S3.p3.16.m16.4.4.2" xref="S3.p3.16.m16.4.4.2.cmml"><msup id="S3.p3.16.m16.4.4.2.3" xref="S3.p3.16.m16.4.4.2.3.cmml"><mi id="S3.p3.16.m16.4.4.2.3.2" xref="S3.p3.16.m16.4.4.2.3.2.cmml">p</mi><mi id="S3.p3.16.m16.4.4.2.3.3" xref="S3.p3.16.m16.4.4.2.3.3.cmml">i</mi></msup><mo id="S3.p3.16.m16.4.4.2.2" xref="S3.p3.16.m16.4.4.2.2.cmml">⁢</mo><mrow id="S3.p3.16.m16.4.4.2.1.1" xref="S3.p3.16.m16.4.4.2.1.2.cmml"><mo id="S3.p3.16.m16.4.4.2.1.1.2" stretchy="false" xref="S3.p3.16.m16.4.4.2.1.2.cmml">(</mo><mi id="S3.p3.16.m16.2.2" xref="S3.p3.16.m16.2.2.cmml">u</mi><mo id="S3.p3.16.m16.4.4.2.1.1.3" xref="S3.p3.16.m16.4.4.2.1.2.cmml">,</mo><mrow id="S3.p3.16.m16.4.4.2.1.1.1" xref="S3.p3.16.m16.4.4.2.1.1.1.cmml"><mi id="S3.p3.16.m16.4.4.2.1.1.1.2" xref="S3.p3.16.m16.4.4.2.1.1.1.2.cmml">v</mi><mo fence="false" id="S3.p3.16.m16.4.4.2.1.1.1.1" xref="S3.p3.16.m16.4.4.2.1.1.1.1.cmml">|</mo><msup id="S3.p3.16.m16.4.4.2.1.1.1.3" xref="S3.p3.16.m16.4.4.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.16.m16.4.4.2.1.1.1.3.2" xref="S3.p3.16.m16.4.4.2.1.1.1.3.2.cmml">ℐ</mi><mrow id="S3.p3.16.m16.4.4.2.1.1.1.3.3" xref="S3.p3.16.m16.4.4.2.1.1.1.3.3.cmml"><mi id="S3.p3.16.m16.4.4.2.1.1.1.3.3.2" xref="S3.p3.16.m16.4.4.2.1.1.1.3.3.2.cmml">i</mi><mo id="S3.p3.16.m16.4.4.2.1.1.1.3.3.1" xref="S3.p3.16.m16.4.4.2.1.1.1.3.3.1.cmml">−</mo><mn id="S3.p3.16.m16.4.4.2.1.1.1.3.3.3" xref="S3.p3.16.m16.4.4.2.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S3.p3.16.m16.4.4.2.1.1.4" stretchy="false" xref="S3.p3.16.m16.4.4.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.16.m16.4b"><apply id="S3.p3.16.m16.4.4.cmml" xref="S3.p3.16.m16.4.4"><eq id="S3.p3.16.m16.4.4.3.cmml" xref="S3.p3.16.m16.4.4.3"></eq><apply id="S3.p3.16.m16.3.3.1.cmml" xref="S3.p3.16.m16.3.3.1"><times id="S3.p3.16.m16.3.3.1.2.cmml" xref="S3.p3.16.m16.3.3.1.2"></times><ci id="S3.p3.16.m16.3.3.1.3.cmml" xref="S3.p3.16.m16.3.3.1.3">𝐄</ci><apply id="S3.p3.16.m16.3.3.1.1.2.cmml" xref="S3.p3.16.m16.3.3.1.1.1"><csymbol cd="latexml" id="S3.p3.16.m16.3.3.1.1.2.1.cmml" xref="S3.p3.16.m16.3.3.1.1.1.2">delimited-[]</csymbol><apply id="S3.p3.16.m16.3.3.1.1.1.1.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1"><times id="S3.p3.16.m16.3.3.1.1.1.1.2.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.2"></times><apply id="S3.p3.16.m16.3.3.1.1.1.1.3.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.p3.16.m16.3.3.1.1.1.1.3.1.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.3">superscript</csymbol><ci id="S3.p3.16.m16.3.3.1.1.1.1.3.2.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.3.2">𝑂</ci><ci id="S3.p3.16.m16.3.3.1.1.1.1.3.3.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.3.3">𝑖</ci></apply><interval closure="open" id="S3.p3.16.m16.3.3.1.1.1.1.1.2.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1"><ci id="S3.p3.16.m16.1.1.cmml" xref="S3.p3.16.m16.1.1">𝑢</ci><apply id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.2">𝑣</ci><apply id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.1.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.2.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.2">ℐ</ci><apply id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3"><minus id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.2">𝑖</ci><cn id="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S3.p3.16.m16.3.3.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></apply></apply><apply id="S3.p3.16.m16.4.4.2.cmml" xref="S3.p3.16.m16.4.4.2"><times id="S3.p3.16.m16.4.4.2.2.cmml" xref="S3.p3.16.m16.4.4.2.2"></times><apply id="S3.p3.16.m16.4.4.2.3.cmml" xref="S3.p3.16.m16.4.4.2.3"><csymbol cd="ambiguous" id="S3.p3.16.m16.4.4.2.3.1.cmml" xref="S3.p3.16.m16.4.4.2.3">superscript</csymbol><ci id="S3.p3.16.m16.4.4.2.3.2.cmml" xref="S3.p3.16.m16.4.4.2.3.2">𝑝</ci><ci id="S3.p3.16.m16.4.4.2.3.3.cmml" xref="S3.p3.16.m16.4.4.2.3.3">𝑖</ci></apply><interval closure="open" id="S3.p3.16.m16.4.4.2.1.2.cmml" xref="S3.p3.16.m16.4.4.2.1.1"><ci id="S3.p3.16.m16.2.2.cmml" xref="S3.p3.16.m16.2.2">𝑢</ci><apply id="S3.p3.16.m16.4.4.2.1.1.1.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1"><csymbol cd="latexml" id="S3.p3.16.m16.4.4.2.1.1.1.1.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1.1">conditional</csymbol><ci id="S3.p3.16.m16.4.4.2.1.1.1.2.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1.2">𝑣</ci><apply id="S3.p3.16.m16.4.4.2.1.1.1.3.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p3.16.m16.4.4.2.1.1.1.3.1.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1.3">superscript</csymbol><ci id="S3.p3.16.m16.4.4.2.1.1.1.3.2.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1.3.2">ℐ</ci><apply id="S3.p3.16.m16.4.4.2.1.1.1.3.3.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1.3.3"><minus id="S3.p3.16.m16.4.4.2.1.1.1.3.3.1.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1.3.3.1"></minus><ci id="S3.p3.16.m16.4.4.2.1.1.1.3.3.2.cmml" xref="S3.p3.16.m16.4.4.2.1.1.1.3.3.2">𝑖</ci><cn id="S3.p3.16.m16.4.4.2.1.1.1.3.3.3.cmml" type="integer" xref="S3.p3.16.m16.4.4.2.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.16.m16.4c">\mathbf{E}[O^{i}(u,v|\mathcal{I}^{i-1})]=p^{i}(u,v|\mathcal{I}^{i-1})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.16.m16.4d">bold_E [ italic_O start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT ) ] = italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT )</annotation></semantics></math>. Here, we want to emphasize that <math alttext="p^{i}(u,v|\mathcal{I}^{i-1})" class="ltx_Math" display="inline" id="S3.p3.17.m17.2"><semantics id="S3.p3.17.m17.2a"><mrow id="S3.p3.17.m17.2.2" xref="S3.p3.17.m17.2.2.cmml"><msup id="S3.p3.17.m17.2.2.3" xref="S3.p3.17.m17.2.2.3.cmml"><mi id="S3.p3.17.m17.2.2.3.2" xref="S3.p3.17.m17.2.2.3.2.cmml">p</mi><mi id="S3.p3.17.m17.2.2.3.3" xref="S3.p3.17.m17.2.2.3.3.cmml">i</mi></msup><mo id="S3.p3.17.m17.2.2.2" xref="S3.p3.17.m17.2.2.2.cmml">⁢</mo><mrow id="S3.p3.17.m17.2.2.1.1" xref="S3.p3.17.m17.2.2.1.2.cmml"><mo id="S3.p3.17.m17.2.2.1.1.2" stretchy="false" xref="S3.p3.17.m17.2.2.1.2.cmml">(</mo><mi id="S3.p3.17.m17.1.1" xref="S3.p3.17.m17.1.1.cmml">u</mi><mo id="S3.p3.17.m17.2.2.1.1.3" xref="S3.p3.17.m17.2.2.1.2.cmml">,</mo><mrow id="S3.p3.17.m17.2.2.1.1.1" xref="S3.p3.17.m17.2.2.1.1.1.cmml"><mi id="S3.p3.17.m17.2.2.1.1.1.2" xref="S3.p3.17.m17.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="S3.p3.17.m17.2.2.1.1.1.1" xref="S3.p3.17.m17.2.2.1.1.1.1.cmml">|</mo><msup id="S3.p3.17.m17.2.2.1.1.1.3" xref="S3.p3.17.m17.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.17.m17.2.2.1.1.1.3.2" xref="S3.p3.17.m17.2.2.1.1.1.3.2.cmml">ℐ</mi><mrow id="S3.p3.17.m17.2.2.1.1.1.3.3" xref="S3.p3.17.m17.2.2.1.1.1.3.3.cmml"><mi id="S3.p3.17.m17.2.2.1.1.1.3.3.2" xref="S3.p3.17.m17.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S3.p3.17.m17.2.2.1.1.1.3.3.1" xref="S3.p3.17.m17.2.2.1.1.1.3.3.1.cmml">−</mo><mn id="S3.p3.17.m17.2.2.1.1.1.3.3.3" xref="S3.p3.17.m17.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S3.p3.17.m17.2.2.1.1.4" stretchy="false" xref="S3.p3.17.m17.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.17.m17.2b"><apply id="S3.p3.17.m17.2.2.cmml" xref="S3.p3.17.m17.2.2"><times id="S3.p3.17.m17.2.2.2.cmml" xref="S3.p3.17.m17.2.2.2"></times><apply id="S3.p3.17.m17.2.2.3.cmml" xref="S3.p3.17.m17.2.2.3"><csymbol cd="ambiguous" id="S3.p3.17.m17.2.2.3.1.cmml" xref="S3.p3.17.m17.2.2.3">superscript</csymbol><ci id="S3.p3.17.m17.2.2.3.2.cmml" xref="S3.p3.17.m17.2.2.3.2">𝑝</ci><ci id="S3.p3.17.m17.2.2.3.3.cmml" xref="S3.p3.17.m17.2.2.3.3">𝑖</ci></apply><interval closure="open" id="S3.p3.17.m17.2.2.1.2.cmml" xref="S3.p3.17.m17.2.2.1.1"><ci id="S3.p3.17.m17.1.1.cmml" xref="S3.p3.17.m17.1.1">𝑢</ci><apply id="S3.p3.17.m17.2.2.1.1.1.cmml" xref="S3.p3.17.m17.2.2.1.1.1"><csymbol cd="latexml" id="S3.p3.17.m17.2.2.1.1.1.1.cmml" xref="S3.p3.17.m17.2.2.1.1.1.1">conditional</csymbol><ci id="S3.p3.17.m17.2.2.1.1.1.2.cmml" xref="S3.p3.17.m17.2.2.1.1.1.2">𝑣</ci><apply id="S3.p3.17.m17.2.2.1.1.1.3.cmml" xref="S3.p3.17.m17.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p3.17.m17.2.2.1.1.1.3.1.cmml" xref="S3.p3.17.m17.2.2.1.1.1.3">superscript</csymbol><ci id="S3.p3.17.m17.2.2.1.1.1.3.2.cmml" xref="S3.p3.17.m17.2.2.1.1.1.3.2">ℐ</ci><apply id="S3.p3.17.m17.2.2.1.1.1.3.3.cmml" xref="S3.p3.17.m17.2.2.1.1.1.3.3"><minus id="S3.p3.17.m17.2.2.1.1.1.3.3.1.cmml" xref="S3.p3.17.m17.2.2.1.1.1.3.3.1"></minus><ci id="S3.p3.17.m17.2.2.1.1.1.3.3.2.cmml" xref="S3.p3.17.m17.2.2.1.1.1.3.3.2">𝑖</ci><cn id="S3.p3.17.m17.2.2.1.1.1.3.3.3.cmml" type="integer" xref="S3.p3.17.m17.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.17.m17.2c">p^{i}(u,v|\mathcal{I}^{i-1})</annotation><annotation encoding="application/x-llamapun" id="S3.p3.17.m17.2d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT )</annotation></semantics></math> depends on <math alttext="\mathcal{I}^{i-1}" class="ltx_Math" display="inline" id="S3.p3.18.m18.1"><semantics id="S3.p3.18.m18.1a"><msup id="S3.p3.18.m18.1.1" xref="S3.p3.18.m18.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p3.18.m18.1.1.2" xref="S3.p3.18.m18.1.1.2.cmml">ℐ</mi><mrow id="S3.p3.18.m18.1.1.3" xref="S3.p3.18.m18.1.1.3.cmml"><mi id="S3.p3.18.m18.1.1.3.2" xref="S3.p3.18.m18.1.1.3.2.cmml">i</mi><mo id="S3.p3.18.m18.1.1.3.1" xref="S3.p3.18.m18.1.1.3.1.cmml">−</mo><mn id="S3.p3.18.m18.1.1.3.3" xref="S3.p3.18.m18.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S3.p3.18.m18.1b"><apply id="S3.p3.18.m18.1.1.cmml" xref="S3.p3.18.m18.1.1"><csymbol cd="ambiguous" id="S3.p3.18.m18.1.1.1.cmml" xref="S3.p3.18.m18.1.1">superscript</csymbol><ci id="S3.p3.18.m18.1.1.2.cmml" xref="S3.p3.18.m18.1.1.2">ℐ</ci><apply id="S3.p3.18.m18.1.1.3.cmml" xref="S3.p3.18.m18.1.1.3"><minus id="S3.p3.18.m18.1.1.3.1.cmml" xref="S3.p3.18.m18.1.1.3.1"></minus><ci id="S3.p3.18.m18.1.1.3.2.cmml" xref="S3.p3.18.m18.1.1.3.2">𝑖</ci><cn id="S3.p3.18.m18.1.1.3.3.cmml" type="integer" xref="S3.p3.18.m18.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.18.m18.1c">\mathcal{I}^{i-1}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.18.m18.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT</annotation></semantics></math>, which means the probability of the same item that enters the next stage is also influenced by other candidate items in the same stage and reveals the combinatorial complexity of real-world systems.</p>
</div>
</section>
<section class="ltx_section ltx_indent_first" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Generalized Probability Ranking Principle</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">Before we introduce Generalized Probability Ranking Principle (GPRP), we recap the Probability Ranking Principle (PRP) in classical information retrieval <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">robertson1977probability</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">wechsler2000probability</span>]</cite> first:</p>
</div>
<div class="ltx_para" id="S4.p2">
<p class="ltx_p" id="S4.p2.1"><span class="ltx_text ltx_font_italic" id="S4.p2.1.1">Probability Ranking Principle (PRP): If an Information Retrieval system’s response to each request is a ranking of items in the collections in order of decreasing probability of usefulness to the user who submitted the request, then the overall effectiveness of the system to its users will be the best that is obtainable on the basis of the data.</span></p>
</div>
<div class="ltx_para" id="S4.p3">
<p class="ltx_p" id="S4.p3.3">The principle is intuitive and proved from the view of traditional measure of effectiveness and decision theory under certain assumptions <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">robertson1977probability</span>]</cite>. Suppose we know the underlying interest function <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p3.1.m1.2"><semantics id="S4.p3.1.m1.2a"><mrow id="S4.p3.1.m1.2.3" xref="S4.p3.1.m1.2.3.cmml"><mi id="S4.p3.1.m1.2.3.2" xref="S4.p3.1.m1.2.3.2.cmml">r</mi><mo id="S4.p3.1.m1.2.3.1" xref="S4.p3.1.m1.2.3.1.cmml">⁢</mo><mrow id="S4.p3.1.m1.2.3.3.2" xref="S4.p3.1.m1.2.3.3.1.cmml"><mo id="S4.p3.1.m1.2.3.3.2.1" stretchy="false" xref="S4.p3.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.p3.1.m1.1.1" xref="S4.p3.1.m1.1.1.cmml">u</mi><mo id="S4.p3.1.m1.2.3.3.2.2" xref="S4.p3.1.m1.2.3.3.1.cmml">,</mo><mi id="S4.p3.1.m1.2.2" xref="S4.p3.1.m1.2.2.cmml">v</mi><mo id="S4.p3.1.m1.2.3.3.2.3" stretchy="false" xref="S4.p3.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.2b"><apply id="S4.p3.1.m1.2.3.cmml" xref="S4.p3.1.m1.2.3"><times id="S4.p3.1.m1.2.3.1.cmml" xref="S4.p3.1.m1.2.3.1"></times><ci id="S4.p3.1.m1.2.3.2.cmml" xref="S4.p3.1.m1.2.3.2">𝑟</ci><interval closure="open" id="S4.p3.1.m1.2.3.3.1.cmml" xref="S4.p3.1.m1.2.3.3.2"><ci id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1">𝑢</ci><ci id="S4.p3.1.m1.2.2.cmml" xref="S4.p3.1.m1.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p3.1.m1.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> in advance for every request and the system has only one stage (using the same notation as previous section that the system needs to return <math alttext="c_{4}" class="ltx_Math" display="inline" id="S4.p3.2.m2.1"><semantics id="S4.p3.2.m2.1a"><msub id="S4.p3.2.m2.1.1" xref="S4.p3.2.m2.1.1.cmml"><mi id="S4.p3.2.m2.1.1.2" xref="S4.p3.2.m2.1.1.2.cmml">c</mi><mn id="S4.p3.2.m2.1.1.3" xref="S4.p3.2.m2.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p3.2.m2.1b"><apply id="S4.p3.2.m2.1.1.cmml" xref="S4.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p3.2.m2.1.1.1.cmml" xref="S4.p3.2.m2.1.1">subscript</csymbol><ci id="S4.p3.2.m2.1.1.2.cmml" xref="S4.p3.2.m2.1.1.2">𝑐</ci><cn id="S4.p3.2.m2.1.1.3.cmml" type="integer" xref="S4.p3.2.m2.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.2.m2.1c">c_{4}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.2.m2.1d">italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math> items to each request), according to PRP, then <math alttext="c_{4}" class="ltx_Math" display="inline" id="S4.p3.3.m3.1"><semantics id="S4.p3.3.m3.1a"><msub id="S4.p3.3.m3.1.1" xref="S4.p3.3.m3.1.1.cmml"><mi id="S4.p3.3.m3.1.1.2" xref="S4.p3.3.m3.1.1.2.cmml">c</mi><mn id="S4.p3.3.m3.1.1.3" xref="S4.p3.3.m3.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p3.3.m3.1b"><apply id="S4.p3.3.m3.1.1.cmml" xref="S4.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.p3.3.m3.1.1.1.cmml" xref="S4.p3.3.m3.1.1">subscript</csymbol><ci id="S4.p3.3.m3.1.1.2.cmml" xref="S4.p3.3.m3.1.1.2">𝑐</ci><cn id="S4.p3.3.m3.1.1.3.cmml" type="integer" xref="S4.p3.3.m3.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.3.m3.1c">c_{4}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.3.m3.1d">italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math> items returned by the system should be:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\operatorname*{\arg\!\max}_{\{v_{k}\in\mathcal{I}|k\in[c_{4}]\}}\sum_{k=1}^{c_%
{4}}r(u,v_{k})" class="ltx_Math" display="block" id="S4.E1.m1.4"><semantics id="S4.E1.m1.4a"><mrow id="S4.E1.m1.4.4" xref="S4.E1.m1.4.4.cmml"><munder id="S4.E1.m1.4.4.3" xref="S4.E1.m1.4.4.3.cmml"><mrow id="S4.E1.m1.4.4.3.2" xref="S4.E1.m1.4.4.3.2.cmml"><mi id="S4.E1.m1.4.4.3.2.1" xref="S4.E1.m1.4.4.3.2.1.cmml">arg</mi><mo id="S4.E1.m1.4.4.3.2a" xref="S4.E1.m1.4.4.3.2.cmml">⁡</mo><mi id="S4.E1.m1.4.4.3.2.2" xref="S4.E1.m1.4.4.3.2.2.cmml">max</mi></mrow><mrow id="S4.E1.m1.2.2.2.2" xref="S4.E1.m1.2.2.2.3.cmml"><mo id="S4.E1.m1.2.2.2.2.3" stretchy="false" xref="S4.E1.m1.2.2.2.3.1.cmml">{</mo><mrow id="S4.E1.m1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.cmml"><msub id="S4.E1.m1.1.1.1.1.1.2" xref="S4.E1.m1.1.1.1.1.1.2.cmml"><mi id="S4.E1.m1.1.1.1.1.1.2.2" xref="S4.E1.m1.1.1.1.1.1.2.2.cmml">v</mi><mi id="S4.E1.m1.1.1.1.1.1.2.3" xref="S4.E1.m1.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S4.E1.m1.1.1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.1.1.1.1.1.3" xref="S4.E1.m1.1.1.1.1.1.3.cmml">ℐ</mi></mrow><mo id="S4.E1.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="S4.E1.m1.2.2.2.3.1.cmml">|</mo><mrow id="S4.E1.m1.2.2.2.2.2" xref="S4.E1.m1.2.2.2.2.2.cmml"><mi id="S4.E1.m1.2.2.2.2.2.3" xref="S4.E1.m1.2.2.2.2.2.3.cmml">k</mi><mo id="S4.E1.m1.2.2.2.2.2.2" xref="S4.E1.m1.2.2.2.2.2.2.cmml">∈</mo><mrow id="S4.E1.m1.2.2.2.2.2.1.1" xref="S4.E1.m1.2.2.2.2.2.1.2.cmml"><mo id="S4.E1.m1.2.2.2.2.2.1.1.2" stretchy="false" xref="S4.E1.m1.2.2.2.2.2.1.2.1.cmml">[</mo><msub id="S4.E1.m1.2.2.2.2.2.1.1.1" xref="S4.E1.m1.2.2.2.2.2.1.1.1.cmml"><mi id="S4.E1.m1.2.2.2.2.2.1.1.1.2" xref="S4.E1.m1.2.2.2.2.2.1.1.1.2.cmml">c</mi><mn id="S4.E1.m1.2.2.2.2.2.1.1.1.3" xref="S4.E1.m1.2.2.2.2.2.1.1.1.3.cmml">4</mn></msub><mo id="S4.E1.m1.2.2.2.2.2.1.1.3" stretchy="false" xref="S4.E1.m1.2.2.2.2.2.1.2.1.cmml">]</mo></mrow></mrow><mo id="S4.E1.m1.2.2.2.2.5" stretchy="false" xref="S4.E1.m1.2.2.2.3.1.cmml">}</mo></mrow></munder><mo id="S4.E1.m1.4.4.2" xref="S4.E1.m1.4.4.2.cmml">⁢</mo><mrow id="S4.E1.m1.4.4.1" xref="S4.E1.m1.4.4.1.cmml"><munderover id="S4.E1.m1.4.4.1.2" xref="S4.E1.m1.4.4.1.2.cmml"><mo id="S4.E1.m1.4.4.1.2.2.2" movablelimits="false" xref="S4.E1.m1.4.4.1.2.2.2.cmml">∑</mo><mrow id="S4.E1.m1.4.4.1.2.2.3" xref="S4.E1.m1.4.4.1.2.2.3.cmml"><mi id="S4.E1.m1.4.4.1.2.2.3.2" xref="S4.E1.m1.4.4.1.2.2.3.2.cmml">k</mi><mo id="S4.E1.m1.4.4.1.2.2.3.1" xref="S4.E1.m1.4.4.1.2.2.3.1.cmml">=</mo><mn id="S4.E1.m1.4.4.1.2.2.3.3" xref="S4.E1.m1.4.4.1.2.2.3.3.cmml">1</mn></mrow><msub id="S4.E1.m1.4.4.1.2.3" xref="S4.E1.m1.4.4.1.2.3.cmml"><mi id="S4.E1.m1.4.4.1.2.3.2" xref="S4.E1.m1.4.4.1.2.3.2.cmml">c</mi><mn id="S4.E1.m1.4.4.1.2.3.3" xref="S4.E1.m1.4.4.1.2.3.3.cmml">4</mn></msub></munderover><mrow id="S4.E1.m1.4.4.1.1" xref="S4.E1.m1.4.4.1.1.cmml"><mi id="S4.E1.m1.4.4.1.1.3" xref="S4.E1.m1.4.4.1.1.3.cmml">r</mi><mo id="S4.E1.m1.4.4.1.1.2" xref="S4.E1.m1.4.4.1.1.2.cmml">⁢</mo><mrow id="S4.E1.m1.4.4.1.1.1.1" xref="S4.E1.m1.4.4.1.1.1.2.cmml"><mo id="S4.E1.m1.4.4.1.1.1.1.2" stretchy="false" xref="S4.E1.m1.4.4.1.1.1.2.cmml">(</mo><mi id="S4.E1.m1.3.3" xref="S4.E1.m1.3.3.cmml">u</mi><mo id="S4.E1.m1.4.4.1.1.1.1.3" xref="S4.E1.m1.4.4.1.1.1.2.cmml">,</mo><msub id="S4.E1.m1.4.4.1.1.1.1.1" xref="S4.E1.m1.4.4.1.1.1.1.1.cmml"><mi id="S4.E1.m1.4.4.1.1.1.1.1.2" xref="S4.E1.m1.4.4.1.1.1.1.1.2.cmml">v</mi><mi id="S4.E1.m1.4.4.1.1.1.1.1.3" xref="S4.E1.m1.4.4.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S4.E1.m1.4.4.1.1.1.1.4" stretchy="false" xref="S4.E1.m1.4.4.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E1.m1.4b"><apply id="S4.E1.m1.4.4.cmml" xref="S4.E1.m1.4.4"><times id="S4.E1.m1.4.4.2.cmml" xref="S4.E1.m1.4.4.2"></times><apply id="S4.E1.m1.4.4.3.cmml" xref="S4.E1.m1.4.4.3"><csymbol cd="ambiguous" id="S4.E1.m1.4.4.3.1.cmml" xref="S4.E1.m1.4.4.3">subscript</csymbol><apply id="S4.E1.m1.4.4.3.2.cmml" xref="S4.E1.m1.4.4.3.2"><arg id="S4.E1.m1.4.4.3.2.1.cmml" xref="S4.E1.m1.4.4.3.2.1"></arg><max id="S4.E1.m1.4.4.3.2.2.cmml" xref="S4.E1.m1.4.4.3.2.2"></max></apply><apply id="S4.E1.m1.2.2.2.3.cmml" xref="S4.E1.m1.2.2.2.2"><csymbol cd="latexml" id="S4.E1.m1.2.2.2.3.1.cmml" xref="S4.E1.m1.2.2.2.2.3">conditional-set</csymbol><apply id="S4.E1.m1.1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1.1"><in id="S4.E1.m1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1.1.1"></in><apply id="S4.E1.m1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.1.1.1.1.1.2.1.cmml" xref="S4.E1.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E1.m1.1.1.1.1.1.2.2.cmml" xref="S4.E1.m1.1.1.1.1.1.2.2">𝑣</ci><ci id="S4.E1.m1.1.1.1.1.1.2.3.cmml" xref="S4.E1.m1.1.1.1.1.1.2.3">𝑘</ci></apply><ci id="S4.E1.m1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.1.1.1.1.1.3">ℐ</ci></apply><apply id="S4.E1.m1.2.2.2.2.2.cmml" xref="S4.E1.m1.2.2.2.2.2"><in id="S4.E1.m1.2.2.2.2.2.2.cmml" xref="S4.E1.m1.2.2.2.2.2.2"></in><ci id="S4.E1.m1.2.2.2.2.2.3.cmml" xref="S4.E1.m1.2.2.2.2.2.3">𝑘</ci><apply id="S4.E1.m1.2.2.2.2.2.1.2.cmml" xref="S4.E1.m1.2.2.2.2.2.1.1"><csymbol cd="latexml" id="S4.E1.m1.2.2.2.2.2.1.2.1.cmml" xref="S4.E1.m1.2.2.2.2.2.1.1.2">delimited-[]</csymbol><apply id="S4.E1.m1.2.2.2.2.2.1.1.1.cmml" xref="S4.E1.m1.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S4.E1.m1.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="S4.E1.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S4.E1.m1.2.2.2.2.2.1.1.1.2">𝑐</ci><cn id="S4.E1.m1.2.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S4.E1.m1.2.2.2.2.2.1.1.1.3">4</cn></apply></apply></apply></apply></apply><apply id="S4.E1.m1.4.4.1.cmml" xref="S4.E1.m1.4.4.1"><apply id="S4.E1.m1.4.4.1.2.cmml" xref="S4.E1.m1.4.4.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.4.4.1.2.1.cmml" xref="S4.E1.m1.4.4.1.2">superscript</csymbol><apply id="S4.E1.m1.4.4.1.2.2.cmml" xref="S4.E1.m1.4.4.1.2"><csymbol cd="ambiguous" id="S4.E1.m1.4.4.1.2.2.1.cmml" xref="S4.E1.m1.4.4.1.2">subscript</csymbol><sum id="S4.E1.m1.4.4.1.2.2.2.cmml" xref="S4.E1.m1.4.4.1.2.2.2"></sum><apply id="S4.E1.m1.4.4.1.2.2.3.cmml" xref="S4.E1.m1.4.4.1.2.2.3"><eq id="S4.E1.m1.4.4.1.2.2.3.1.cmml" xref="S4.E1.m1.4.4.1.2.2.3.1"></eq><ci id="S4.E1.m1.4.4.1.2.2.3.2.cmml" xref="S4.E1.m1.4.4.1.2.2.3.2">𝑘</ci><cn id="S4.E1.m1.4.4.1.2.2.3.3.cmml" type="integer" xref="S4.E1.m1.4.4.1.2.2.3.3">1</cn></apply></apply><apply id="S4.E1.m1.4.4.1.2.3.cmml" xref="S4.E1.m1.4.4.1.2.3"><csymbol cd="ambiguous" id="S4.E1.m1.4.4.1.2.3.1.cmml" xref="S4.E1.m1.4.4.1.2.3">subscript</csymbol><ci id="S4.E1.m1.4.4.1.2.3.2.cmml" xref="S4.E1.m1.4.4.1.2.3.2">𝑐</ci><cn id="S4.E1.m1.4.4.1.2.3.3.cmml" type="integer" xref="S4.E1.m1.4.4.1.2.3.3">4</cn></apply></apply><apply id="S4.E1.m1.4.4.1.1.cmml" xref="S4.E1.m1.4.4.1.1"><times id="S4.E1.m1.4.4.1.1.2.cmml" xref="S4.E1.m1.4.4.1.1.2"></times><ci id="S4.E1.m1.4.4.1.1.3.cmml" xref="S4.E1.m1.4.4.1.1.3">𝑟</ci><interval closure="open" id="S4.E1.m1.4.4.1.1.1.2.cmml" xref="S4.E1.m1.4.4.1.1.1.1"><ci id="S4.E1.m1.3.3.cmml" xref="S4.E1.m1.3.3">𝑢</ci><apply id="S4.E1.m1.4.4.1.1.1.1.1.cmml" xref="S4.E1.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.4.4.1.1.1.1.1.1.cmml" xref="S4.E1.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="S4.E1.m1.4.4.1.1.1.1.1.2.cmml" xref="S4.E1.m1.4.4.1.1.1.1.1.2">𝑣</ci><ci id="S4.E1.m1.4.4.1.1.1.1.1.3.cmml" xref="S4.E1.m1.4.4.1.1.1.1.1.3">𝑘</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.4c">\operatorname*{\arg\!\max}_{\{v_{k}\in\mathcal{I}|k\in[c_{4}]\}}\sum_{k=1}^{c_%
{4}}r(u,v_{k})</annotation><annotation encoding="application/x-llamapun" id="S4.E1.m1.4d">start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT { italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∈ caligraphic_I | italic_k ∈ [ italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT ] } end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT end_POSTSUPERSCRIPT italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.p4">
<p class="ltx_p" id="S4.p4.2">Suppose we are in the 4-stage system described before, and we need improve a particular stage <math alttext="i\in\{1,2,3,4\}" class="ltx_Math" display="inline" id="S4.p4.1.m1.4"><semantics id="S4.p4.1.m1.4a"><mrow id="S4.p4.1.m1.4.5" xref="S4.p4.1.m1.4.5.cmml"><mi id="S4.p4.1.m1.4.5.2" xref="S4.p4.1.m1.4.5.2.cmml">i</mi><mo id="S4.p4.1.m1.4.5.1" xref="S4.p4.1.m1.4.5.1.cmml">∈</mo><mrow id="S4.p4.1.m1.4.5.3.2" xref="S4.p4.1.m1.4.5.3.1.cmml"><mo id="S4.p4.1.m1.4.5.3.2.1" stretchy="false" xref="S4.p4.1.m1.4.5.3.1.cmml">{</mo><mn id="S4.p4.1.m1.1.1" xref="S4.p4.1.m1.1.1.cmml">1</mn><mo id="S4.p4.1.m1.4.5.3.2.2" xref="S4.p4.1.m1.4.5.3.1.cmml">,</mo><mn id="S4.p4.1.m1.2.2" xref="S4.p4.1.m1.2.2.cmml">2</mn><mo id="S4.p4.1.m1.4.5.3.2.3" xref="S4.p4.1.m1.4.5.3.1.cmml">,</mo><mn id="S4.p4.1.m1.3.3" xref="S4.p4.1.m1.3.3.cmml">3</mn><mo id="S4.p4.1.m1.4.5.3.2.4" xref="S4.p4.1.m1.4.5.3.1.cmml">,</mo><mn id="S4.p4.1.m1.4.4" xref="S4.p4.1.m1.4.4.cmml">4</mn><mo id="S4.p4.1.m1.4.5.3.2.5" stretchy="false" xref="S4.p4.1.m1.4.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.1.m1.4b"><apply id="S4.p4.1.m1.4.5.cmml" xref="S4.p4.1.m1.4.5"><in id="S4.p4.1.m1.4.5.1.cmml" xref="S4.p4.1.m1.4.5.1"></in><ci id="S4.p4.1.m1.4.5.2.cmml" xref="S4.p4.1.m1.4.5.2">𝑖</ci><set id="S4.p4.1.m1.4.5.3.1.cmml" xref="S4.p4.1.m1.4.5.3.2"><cn id="S4.p4.1.m1.1.1.cmml" type="integer" xref="S4.p4.1.m1.1.1">1</cn><cn id="S4.p4.1.m1.2.2.cmml" type="integer" xref="S4.p4.1.m1.2.2">2</cn><cn id="S4.p4.1.m1.3.3.cmml" type="integer" xref="S4.p4.1.m1.3.3">3</cn><cn id="S4.p4.1.m1.4.4.cmml" type="integer" xref="S4.p4.1.m1.4.4">4</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.1.m1.4c">i\in\{1,2,3,4\}</annotation><annotation encoding="application/x-llamapun" id="S4.p4.1.m1.4d">italic_i ∈ { 1 , 2 , 3 , 4 }</annotation></semantics></math> but have no control on other stages. If we still use PRP in stage <math alttext="i" class="ltx_Math" display="inline" id="S4.p4.2.m2.1"><semantics id="S4.p4.2.m2.1a"><mi id="S4.p4.2.m2.1.1" xref="S4.p4.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p4.2.m2.1b"><ci id="S4.p4.2.m2.1.1.cmml" xref="S4.p4.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.p4.2.m2.1d">italic_i</annotation></semantics></math>, we should output:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{I}^{i,PRP}:=\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset%
\mathcal{I}^{i-1}}\sum_{v\in\mathcal{I}^{i}}r(u,v)" class="ltx_Math" display="block" id="S4.E2.m1.4"><semantics id="S4.E2.m1.4a"><mrow id="S4.E2.m1.4.5" xref="S4.E2.m1.4.5.cmml"><msup id="S4.E2.m1.4.5.2" xref="S4.E2.m1.4.5.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.4.5.2.2" xref="S4.E2.m1.4.5.2.2.cmml">ℐ</mi><mrow id="S4.E2.m1.2.2.2.2" xref="S4.E2.m1.2.2.2.3.cmml"><mi id="S4.E2.m1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.cmml">i</mi><mo id="S4.E2.m1.2.2.2.2.2" xref="S4.E2.m1.2.2.2.3.cmml">,</mo><mrow id="S4.E2.m1.2.2.2.2.1" xref="S4.E2.m1.2.2.2.2.1.cmml"><mi id="S4.E2.m1.2.2.2.2.1.2" xref="S4.E2.m1.2.2.2.2.1.2.cmml">P</mi><mo id="S4.E2.m1.2.2.2.2.1.1" xref="S4.E2.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E2.m1.2.2.2.2.1.3" xref="S4.E2.m1.2.2.2.2.1.3.cmml">R</mi><mo id="S4.E2.m1.2.2.2.2.1.1a" xref="S4.E2.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E2.m1.2.2.2.2.1.4" xref="S4.E2.m1.2.2.2.2.1.4.cmml">P</mi></mrow></mrow></msup><mo id="S4.E2.m1.4.5.1" lspace="0.278em" rspace="0.278em" xref="S4.E2.m1.4.5.1.cmml">:=</mo><mrow id="S4.E2.m1.4.5.3" xref="S4.E2.m1.4.5.3.cmml"><munder id="S4.E2.m1.4.5.3.2" xref="S4.E2.m1.4.5.3.2.cmml"><mrow id="S4.E2.m1.4.5.3.2.2" xref="S4.E2.m1.4.5.3.2.2.cmml"><mi id="S4.E2.m1.4.5.3.2.2.1" xref="S4.E2.m1.4.5.3.2.2.1.cmml">arg</mi><mo id="S4.E2.m1.4.5.3.2.2a" xref="S4.E2.m1.4.5.3.2.2.cmml">⁡</mo><mi id="S4.E2.m1.4.5.3.2.2.2" xref="S4.E2.m1.4.5.3.2.2.2.cmml">max</mi></mrow><mrow id="S4.E2.m1.4.5.3.2.3" xref="S4.E2.m1.4.5.3.2.3.cmml"><msup id="S4.E2.m1.4.5.3.2.3.2" xref="S4.E2.m1.4.5.3.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.4.5.3.2.3.2.2" xref="S4.E2.m1.4.5.3.2.3.2.2.cmml">ℐ</mi><mi id="S4.E2.m1.4.5.3.2.3.2.3" xref="S4.E2.m1.4.5.3.2.3.2.3.cmml">i</mi></msup><mo id="S4.E2.m1.4.5.3.2.3.1" xref="S4.E2.m1.4.5.3.2.3.1.cmml">⊂</mo><msup id="S4.E2.m1.4.5.3.2.3.3" xref="S4.E2.m1.4.5.3.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.4.5.3.2.3.3.2" xref="S4.E2.m1.4.5.3.2.3.3.2.cmml">ℐ</mi><mrow id="S4.E2.m1.4.5.3.2.3.3.3" xref="S4.E2.m1.4.5.3.2.3.3.3.cmml"><mi id="S4.E2.m1.4.5.3.2.3.3.3.2" xref="S4.E2.m1.4.5.3.2.3.3.3.2.cmml">i</mi><mo id="S4.E2.m1.4.5.3.2.3.3.3.1" xref="S4.E2.m1.4.5.3.2.3.3.3.1.cmml">−</mo><mn id="S4.E2.m1.4.5.3.2.3.3.3.3" xref="S4.E2.m1.4.5.3.2.3.3.3.3.cmml">1</mn></mrow></msup></mrow></munder><mo id="S4.E2.m1.4.5.3.1" xref="S4.E2.m1.4.5.3.1.cmml">⁢</mo><mrow id="S4.E2.m1.4.5.3.3" xref="S4.E2.m1.4.5.3.3.cmml"><munder id="S4.E2.m1.4.5.3.3.1" xref="S4.E2.m1.4.5.3.3.1.cmml"><mo id="S4.E2.m1.4.5.3.3.1.2" movablelimits="false" xref="S4.E2.m1.4.5.3.3.1.2.cmml">∑</mo><mrow id="S4.E2.m1.4.5.3.3.1.3" xref="S4.E2.m1.4.5.3.3.1.3.cmml"><mi id="S4.E2.m1.4.5.3.3.1.3.2" xref="S4.E2.m1.4.5.3.3.1.3.2.cmml">v</mi><mo id="S4.E2.m1.4.5.3.3.1.3.1" xref="S4.E2.m1.4.5.3.3.1.3.1.cmml">∈</mo><msup id="S4.E2.m1.4.5.3.3.1.3.3" xref="S4.E2.m1.4.5.3.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.4.5.3.3.1.3.3.2" xref="S4.E2.m1.4.5.3.3.1.3.3.2.cmml">ℐ</mi><mi id="S4.E2.m1.4.5.3.3.1.3.3.3" xref="S4.E2.m1.4.5.3.3.1.3.3.3.cmml">i</mi></msup></mrow></munder><mrow id="S4.E2.m1.4.5.3.3.2" xref="S4.E2.m1.4.5.3.3.2.cmml"><mi id="S4.E2.m1.4.5.3.3.2.2" xref="S4.E2.m1.4.5.3.3.2.2.cmml">r</mi><mo id="S4.E2.m1.4.5.3.3.2.1" xref="S4.E2.m1.4.5.3.3.2.1.cmml">⁢</mo><mrow id="S4.E2.m1.4.5.3.3.2.3.2" xref="S4.E2.m1.4.5.3.3.2.3.1.cmml"><mo id="S4.E2.m1.4.5.3.3.2.3.2.1" stretchy="false" xref="S4.E2.m1.4.5.3.3.2.3.1.cmml">(</mo><mi id="S4.E2.m1.3.3" xref="S4.E2.m1.3.3.cmml">u</mi><mo id="S4.E2.m1.4.5.3.3.2.3.2.2" xref="S4.E2.m1.4.5.3.3.2.3.1.cmml">,</mo><mi id="S4.E2.m1.4.4" xref="S4.E2.m1.4.4.cmml">v</mi><mo id="S4.E2.m1.4.5.3.3.2.3.2.3" stretchy="false" xref="S4.E2.m1.4.5.3.3.2.3.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.4b"><apply id="S4.E2.m1.4.5.cmml" xref="S4.E2.m1.4.5"><csymbol cd="latexml" id="S4.E2.m1.4.5.1.cmml" xref="S4.E2.m1.4.5.1">assign</csymbol><apply id="S4.E2.m1.4.5.2.cmml" xref="S4.E2.m1.4.5.2"><csymbol cd="ambiguous" id="S4.E2.m1.4.5.2.1.cmml" xref="S4.E2.m1.4.5.2">superscript</csymbol><ci id="S4.E2.m1.4.5.2.2.cmml" xref="S4.E2.m1.4.5.2.2">ℐ</ci><list id="S4.E2.m1.2.2.2.3.cmml" xref="S4.E2.m1.2.2.2.2"><ci id="S4.E2.m1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1">𝑖</ci><apply id="S4.E2.m1.2.2.2.2.1.cmml" xref="S4.E2.m1.2.2.2.2.1"><times id="S4.E2.m1.2.2.2.2.1.1.cmml" xref="S4.E2.m1.2.2.2.2.1.1"></times><ci id="S4.E2.m1.2.2.2.2.1.2.cmml" xref="S4.E2.m1.2.2.2.2.1.2">𝑃</ci><ci id="S4.E2.m1.2.2.2.2.1.3.cmml" xref="S4.E2.m1.2.2.2.2.1.3">𝑅</ci><ci id="S4.E2.m1.2.2.2.2.1.4.cmml" xref="S4.E2.m1.2.2.2.2.1.4">𝑃</ci></apply></list></apply><apply id="S4.E2.m1.4.5.3.cmml" xref="S4.E2.m1.4.5.3"><times id="S4.E2.m1.4.5.3.1.cmml" xref="S4.E2.m1.4.5.3.1"></times><apply id="S4.E2.m1.4.5.3.2.cmml" xref="S4.E2.m1.4.5.3.2"><csymbol cd="ambiguous" id="S4.E2.m1.4.5.3.2.1.cmml" xref="S4.E2.m1.4.5.3.2">subscript</csymbol><apply id="S4.E2.m1.4.5.3.2.2.cmml" xref="S4.E2.m1.4.5.3.2.2"><arg id="S4.E2.m1.4.5.3.2.2.1.cmml" xref="S4.E2.m1.4.5.3.2.2.1"></arg><max id="S4.E2.m1.4.5.3.2.2.2.cmml" xref="S4.E2.m1.4.5.3.2.2.2"></max></apply><apply id="S4.E2.m1.4.5.3.2.3.cmml" xref="S4.E2.m1.4.5.3.2.3"><subset id="S4.E2.m1.4.5.3.2.3.1.cmml" xref="S4.E2.m1.4.5.3.2.3.1"></subset><apply id="S4.E2.m1.4.5.3.2.3.2.cmml" xref="S4.E2.m1.4.5.3.2.3.2"><csymbol cd="ambiguous" id="S4.E2.m1.4.5.3.2.3.2.1.cmml" xref="S4.E2.m1.4.5.3.2.3.2">superscript</csymbol><ci id="S4.E2.m1.4.5.3.2.3.2.2.cmml" xref="S4.E2.m1.4.5.3.2.3.2.2">ℐ</ci><ci id="S4.E2.m1.4.5.3.2.3.2.3.cmml" xref="S4.E2.m1.4.5.3.2.3.2.3">𝑖</ci></apply><apply id="S4.E2.m1.4.5.3.2.3.3.cmml" xref="S4.E2.m1.4.5.3.2.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.4.5.3.2.3.3.1.cmml" xref="S4.E2.m1.4.5.3.2.3.3">superscript</csymbol><ci id="S4.E2.m1.4.5.3.2.3.3.2.cmml" xref="S4.E2.m1.4.5.3.2.3.3.2">ℐ</ci><apply id="S4.E2.m1.4.5.3.2.3.3.3.cmml" xref="S4.E2.m1.4.5.3.2.3.3.3"><minus id="S4.E2.m1.4.5.3.2.3.3.3.1.cmml" xref="S4.E2.m1.4.5.3.2.3.3.3.1"></minus><ci id="S4.E2.m1.4.5.3.2.3.3.3.2.cmml" xref="S4.E2.m1.4.5.3.2.3.3.3.2">𝑖</ci><cn id="S4.E2.m1.4.5.3.2.3.3.3.3.cmml" type="integer" xref="S4.E2.m1.4.5.3.2.3.3.3.3">1</cn></apply></apply></apply></apply><apply id="S4.E2.m1.4.5.3.3.cmml" xref="S4.E2.m1.4.5.3.3"><apply id="S4.E2.m1.4.5.3.3.1.cmml" xref="S4.E2.m1.4.5.3.3.1"><csymbol cd="ambiguous" id="S4.E2.m1.4.5.3.3.1.1.cmml" xref="S4.E2.m1.4.5.3.3.1">subscript</csymbol><sum id="S4.E2.m1.4.5.3.3.1.2.cmml" xref="S4.E2.m1.4.5.3.3.1.2"></sum><apply id="S4.E2.m1.4.5.3.3.1.3.cmml" xref="S4.E2.m1.4.5.3.3.1.3"><in id="S4.E2.m1.4.5.3.3.1.3.1.cmml" xref="S4.E2.m1.4.5.3.3.1.3.1"></in><ci id="S4.E2.m1.4.5.3.3.1.3.2.cmml" xref="S4.E2.m1.4.5.3.3.1.3.2">𝑣</ci><apply id="S4.E2.m1.4.5.3.3.1.3.3.cmml" xref="S4.E2.m1.4.5.3.3.1.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.4.5.3.3.1.3.3.1.cmml" xref="S4.E2.m1.4.5.3.3.1.3.3">superscript</csymbol><ci id="S4.E2.m1.4.5.3.3.1.3.3.2.cmml" xref="S4.E2.m1.4.5.3.3.1.3.3.2">ℐ</ci><ci id="S4.E2.m1.4.5.3.3.1.3.3.3.cmml" xref="S4.E2.m1.4.5.3.3.1.3.3.3">𝑖</ci></apply></apply></apply><apply id="S4.E2.m1.4.5.3.3.2.cmml" xref="S4.E2.m1.4.5.3.3.2"><times id="S4.E2.m1.4.5.3.3.2.1.cmml" xref="S4.E2.m1.4.5.3.3.2.1"></times><ci id="S4.E2.m1.4.5.3.3.2.2.cmml" xref="S4.E2.m1.4.5.3.3.2.2">𝑟</ci><interval closure="open" id="S4.E2.m1.4.5.3.3.2.3.1.cmml" xref="S4.E2.m1.4.5.3.3.2.3.2"><ci id="S4.E2.m1.3.3.cmml" xref="S4.E2.m1.3.3">𝑢</ci><ci id="S4.E2.m1.4.4.cmml" xref="S4.E2.m1.4.4">𝑣</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.4c">\mathcal{I}^{i,PRP}:=\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset%
\mathcal{I}^{i-1}}\sum_{v\in\mathcal{I}^{i}}r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.E2.m1.4d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT := start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ⊂ caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_v ∈ caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT end_POSTSUBSCRIPT italic_r ( italic_u , italic_v )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.p5">
<p class="ltx_p" id="S4.p5.1">Hence, nearly all previous studies in information retrieval systems focus on how to learn the underlying interest function <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p5.1.m1.2"><semantics id="S4.p5.1.m1.2a"><mrow id="S4.p5.1.m1.2.3" xref="S4.p5.1.m1.2.3.cmml"><mi id="S4.p5.1.m1.2.3.2" xref="S4.p5.1.m1.2.3.2.cmml">r</mi><mo id="S4.p5.1.m1.2.3.1" xref="S4.p5.1.m1.2.3.1.cmml">⁢</mo><mrow id="S4.p5.1.m1.2.3.3.2" xref="S4.p5.1.m1.2.3.3.1.cmml"><mo id="S4.p5.1.m1.2.3.3.2.1" stretchy="false" xref="S4.p5.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.p5.1.m1.1.1" xref="S4.p5.1.m1.1.1.cmml">u</mi><mo id="S4.p5.1.m1.2.3.3.2.2" xref="S4.p5.1.m1.2.3.3.1.cmml">,</mo><mi id="S4.p5.1.m1.2.2" xref="S4.p5.1.m1.2.2.cmml">v</mi><mo id="S4.p5.1.m1.2.3.3.2.3" stretchy="false" xref="S4.p5.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p5.1.m1.2b"><apply id="S4.p5.1.m1.2.3.cmml" xref="S4.p5.1.m1.2.3"><times id="S4.p5.1.m1.2.3.1.cmml" xref="S4.p5.1.m1.2.3.1"></times><ci id="S4.p5.1.m1.2.3.2.cmml" xref="S4.p5.1.m1.2.3.2">𝑟</ci><interval closure="open" id="S4.p5.1.m1.2.3.3.1.cmml" xref="S4.p5.1.m1.2.3.3.2"><ci id="S4.p5.1.m1.1.1.cmml" xref="S4.p5.1.m1.1.1">𝑢</ci><ci id="S4.p5.1.m1.2.2.cmml" xref="S4.p5.1.m1.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.1.m1.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p5.1.m1.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> from logged exposure data, for either retrieval stage <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">youtubeDNN</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">MIND_model</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">comirec</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">SASREC</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">TDM</span>]</cite> or ranking stage <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">youtubeDNN</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">liu2009learning</span>]</cite>. Furthermore, since logged exposure data is affected by selection bias of the system which may lead to biased interest in learned models, some work further studies how to eliminate selection bias of the system to learn users’ unbiased interests <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">chen2019top</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">zhou2021contrastive</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">joachims2017unbiased</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">hu2019unbiased</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">saito2020unbiased</span>]</cite>.</p>
</div>
<div class="ltx_para" id="S4.p6">
<p class="ltx_p" id="S4.p6.4">However, even though we could learn <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p6.1.m1.2"><semantics id="S4.p6.1.m1.2a"><mrow id="S4.p6.1.m1.2.3" xref="S4.p6.1.m1.2.3.cmml"><mi id="S4.p6.1.m1.2.3.2" xref="S4.p6.1.m1.2.3.2.cmml">r</mi><mo id="S4.p6.1.m1.2.3.1" xref="S4.p6.1.m1.2.3.1.cmml">⁢</mo><mrow id="S4.p6.1.m1.2.3.3.2" xref="S4.p6.1.m1.2.3.3.1.cmml"><mo id="S4.p6.1.m1.2.3.3.2.1" stretchy="false" xref="S4.p6.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.p6.1.m1.1.1" xref="S4.p6.1.m1.1.1.cmml">u</mi><mo id="S4.p6.1.m1.2.3.3.2.2" xref="S4.p6.1.m1.2.3.3.1.cmml">,</mo><mi id="S4.p6.1.m1.2.2" xref="S4.p6.1.m1.2.2.cmml">v</mi><mo id="S4.p6.1.m1.2.3.3.2.3" stretchy="false" xref="S4.p6.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p6.1.m1.2b"><apply id="S4.p6.1.m1.2.3.cmml" xref="S4.p6.1.m1.2.3"><times id="S4.p6.1.m1.2.3.1.cmml" xref="S4.p6.1.m1.2.3.1"></times><ci id="S4.p6.1.m1.2.3.2.cmml" xref="S4.p6.1.m1.2.3.2">𝑟</ci><interval closure="open" id="S4.p6.1.m1.2.3.3.1.cmml" xref="S4.p6.1.m1.2.3.3.2"><ci id="S4.p6.1.m1.1.1.cmml" xref="S4.p6.1.m1.1.1">𝑢</ci><ci id="S4.p6.1.m1.2.2.cmml" xref="S4.p6.1.m1.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.1.m1.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p6.1.m1.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> perfectly, in a multi-stage system, the item set <math alttext="\mathcal{I}^{i}" class="ltx_Math" display="inline" id="S4.p6.2.m2.1"><semantics id="S4.p6.2.m2.1a"><msup id="S4.p6.2.m2.1.1" xref="S4.p6.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p6.2.m2.1.1.2" xref="S4.p6.2.m2.1.1.2.cmml">ℐ</mi><mi id="S4.p6.2.m2.1.1.3" xref="S4.p6.2.m2.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p6.2.m2.1b"><apply id="S4.p6.2.m2.1.1.cmml" xref="S4.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p6.2.m2.1.1.1.cmml" xref="S4.p6.2.m2.1.1">superscript</csymbol><ci id="S4.p6.2.m2.1.1.2.cmml" xref="S4.p6.2.m2.1.1.2">ℐ</ci><ci id="S4.p6.2.m2.1.1.3.cmml" xref="S4.p6.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.2.m2.1c">\mathcal{I}^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.p6.2.m2.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> (<math alttext="i&lt;4" class="ltx_Math" display="inline" id="S4.p6.3.m3.1"><semantics id="S4.p6.3.m3.1a"><mrow id="S4.p6.3.m3.1.1" xref="S4.p6.3.m3.1.1.cmml"><mi id="S4.p6.3.m3.1.1.2" xref="S4.p6.3.m3.1.1.2.cmml">i</mi><mo id="S4.p6.3.m3.1.1.1" xref="S4.p6.3.m3.1.1.1.cmml">&lt;</mo><mn id="S4.p6.3.m3.1.1.3" xref="S4.p6.3.m3.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p6.3.m3.1b"><apply id="S4.p6.3.m3.1.1.cmml" xref="S4.p6.3.m3.1.1"><lt id="S4.p6.3.m3.1.1.1.cmml" xref="S4.p6.3.m3.1.1.1"></lt><ci id="S4.p6.3.m3.1.1.2.cmml" xref="S4.p6.3.m3.1.1.2">𝑖</ci><cn id="S4.p6.3.m3.1.1.3.cmml" type="integer" xref="S4.p6.3.m3.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.3.m3.1c">i&lt;4</annotation><annotation encoding="application/x-llamapun" id="S4.p6.3.m3.1d">italic_i &lt; 4</annotation></semantics></math>) cannot be exposed to users directly and it needs to be further filtrated by subsequent stages. In other words, even if we could find some items of high relevance to a user, once these items are filtered by subsequent stages, it would not bring any benefit since users can not see them. Thus, what we really care about in stage <math alttext="i" class="ltx_Math" display="inline" id="S4.p6.4.m4.1"><semantics id="S4.p6.4.m4.1a"><mi id="S4.p6.4.m4.1.1" xref="S4.p6.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p6.4.m4.1b"><ci id="S4.p6.4.m4.1.1.cmml" xref="S4.p6.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.4.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.p6.4.m4.1d">italic_i</annotation></semantics></math> is the usefulness of final returned items after all subsequent stages, which means we should take both the preference of subsequent stages and the true interest of users into consideration at the same time. Hence we propose the following Generalized Probability Ranking Principle:</p>
</div>
<div class="ltx_para" id="S4.p7">
<p class="ltx_p" id="S4.p7.3"><span class="ltx_text ltx_font_italic" id="S4.p7.3.3">Generalized Probability Ranking Principle (GPRP): In the stage <math alttext="i" class="ltx_Math" display="inline" id="S4.p7.1.1.m1.1"><semantics id="S4.p7.1.1.m1.1a"><mi id="S4.p7.1.1.m1.1.1" xref="S4.p7.1.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p7.1.1.m1.1b"><ci id="S4.p7.1.1.m1.1.1.cmml" xref="S4.p7.1.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.1.1.m1.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.p7.1.1.m1.1d">italic_i</annotation></semantics></math> (any <math alttext="i\in\{1,2,3\}" class="ltx_Math" display="inline" id="S4.p7.2.2.m2.3"><semantics id="S4.p7.2.2.m2.3a"><mrow id="S4.p7.2.2.m2.3.4" xref="S4.p7.2.2.m2.3.4.cmml"><mi id="S4.p7.2.2.m2.3.4.2" xref="S4.p7.2.2.m2.3.4.2.cmml">i</mi><mo id="S4.p7.2.2.m2.3.4.1" xref="S4.p7.2.2.m2.3.4.1.cmml">∈</mo><mrow id="S4.p7.2.2.m2.3.4.3.2" xref="S4.p7.2.2.m2.3.4.3.1.cmml"><mo id="S4.p7.2.2.m2.3.4.3.2.1" stretchy="false" xref="S4.p7.2.2.m2.3.4.3.1.cmml">{</mo><mn id="S4.p7.2.2.m2.1.1" xref="S4.p7.2.2.m2.1.1.cmml">1</mn><mo id="S4.p7.2.2.m2.3.4.3.2.2" xref="S4.p7.2.2.m2.3.4.3.1.cmml">,</mo><mn id="S4.p7.2.2.m2.2.2" xref="S4.p7.2.2.m2.2.2.cmml">2</mn><mo id="S4.p7.2.2.m2.3.4.3.2.3" xref="S4.p7.2.2.m2.3.4.3.1.cmml">,</mo><mn id="S4.p7.2.2.m2.3.3" xref="S4.p7.2.2.m2.3.3.cmml">3</mn><mo id="S4.p7.2.2.m2.3.4.3.2.4" stretchy="false" xref="S4.p7.2.2.m2.3.4.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p7.2.2.m2.3b"><apply id="S4.p7.2.2.m2.3.4.cmml" xref="S4.p7.2.2.m2.3.4"><in id="S4.p7.2.2.m2.3.4.1.cmml" xref="S4.p7.2.2.m2.3.4.1"></in><ci id="S4.p7.2.2.m2.3.4.2.cmml" xref="S4.p7.2.2.m2.3.4.2">𝑖</ci><set id="S4.p7.2.2.m2.3.4.3.1.cmml" xref="S4.p7.2.2.m2.3.4.3.2"><cn id="S4.p7.2.2.m2.1.1.cmml" type="integer" xref="S4.p7.2.2.m2.1.1">1</cn><cn id="S4.p7.2.2.m2.2.2.cmml" type="integer" xref="S4.p7.2.2.m2.2.2">2</cn><cn id="S4.p7.2.2.m2.3.3.cmml" type="integer" xref="S4.p7.2.2.m2.3.3">3</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.2.2.m2.3c">i\in\{1,2,3\}</annotation><annotation encoding="application/x-llamapun" id="S4.p7.2.2.m2.3d">italic_i ∈ { 1 , 2 , 3 }</annotation></semantics></math>) of a four-stage system, if the output of stage <math alttext="i" class="ltx_Math" display="inline" id="S4.p7.3.3.m3.1"><semantics id="S4.p7.3.3.m3.1a"><mi id="S4.p7.3.3.m3.1.1" xref="S4.p7.3.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p7.3.3.m3.1b"><ci id="S4.p7.3.3.m3.1.1.cmml" xref="S4.p7.3.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.3.3.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.p7.3.3.m3.1d">italic_i</annotation></semantics></math> to each request is a set which considers both the preference of subsequent stages and usefulness to the target user, as stated in the following equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>), then the overall effectiveness of that stage to its users will be the best that is obtainable on the basis of the data. </span></p>
<table class="ltx_equation ltx_eqn_table" id="S4.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{I}^{i,GPRP}:=\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset%
\mathcal{I}^{i-1}}\mathbf{E}[\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i})}r(u,v)]" class="ltx_Math" display="block" id="S4.E3.m1.6"><semantics id="S4.E3.m1.6a"><mrow id="S4.E3.m1.6.6" xref="S4.E3.m1.6.6.cmml"><msup id="S4.E3.m1.6.6.3" xref="S4.E3.m1.6.6.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.6.6.3.2" xref="S4.E3.m1.6.6.3.2.cmml">ℐ</mi><mrow id="S4.E3.m1.2.2.2.2" xref="S4.E3.m1.2.2.2.3.cmml"><mi id="S4.E3.m1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.cmml">i</mi><mo id="S4.E3.m1.2.2.2.2.2" xref="S4.E3.m1.2.2.2.3.cmml">,</mo><mrow id="S4.E3.m1.2.2.2.2.1" xref="S4.E3.m1.2.2.2.2.1.cmml"><mi id="S4.E3.m1.2.2.2.2.1.2" xref="S4.E3.m1.2.2.2.2.1.2.cmml">G</mi><mo id="S4.E3.m1.2.2.2.2.1.1" xref="S4.E3.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E3.m1.2.2.2.2.1.3" xref="S4.E3.m1.2.2.2.2.1.3.cmml">P</mi><mo id="S4.E3.m1.2.2.2.2.1.1a" xref="S4.E3.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E3.m1.2.2.2.2.1.4" xref="S4.E3.m1.2.2.2.2.1.4.cmml">R</mi><mo id="S4.E3.m1.2.2.2.2.1.1b" xref="S4.E3.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E3.m1.2.2.2.2.1.5" xref="S4.E3.m1.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><mo id="S4.E3.m1.6.6.2" lspace="0.278em" rspace="0.278em" xref="S4.E3.m1.6.6.2.cmml">:=</mo><mrow id="S4.E3.m1.6.6.1" xref="S4.E3.m1.6.6.1.cmml"><mrow id="S4.E3.m1.6.6.1.3" xref="S4.E3.m1.6.6.1.3.cmml"><munder id="S4.E3.m1.6.6.1.3.1" xref="S4.E3.m1.6.6.1.3.1.cmml"><mrow id="S4.E3.m1.6.6.1.3.1.2" xref="S4.E3.m1.6.6.1.3.1.2.cmml"><mi id="S4.E3.m1.6.6.1.3.1.2.1" xref="S4.E3.m1.6.6.1.3.1.2.1.cmml">arg</mi><mo id="S4.E3.m1.6.6.1.3.1.2a" xref="S4.E3.m1.6.6.1.3.1.2.cmml">⁡</mo><mi id="S4.E3.m1.6.6.1.3.1.2.2" xref="S4.E3.m1.6.6.1.3.1.2.2.cmml">max</mi></mrow><mrow id="S4.E3.m1.6.6.1.3.1.3" xref="S4.E3.m1.6.6.1.3.1.3.cmml"><msup id="S4.E3.m1.6.6.1.3.1.3.2" xref="S4.E3.m1.6.6.1.3.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.6.6.1.3.1.3.2.2" xref="S4.E3.m1.6.6.1.3.1.3.2.2.cmml">ℐ</mi><mi id="S4.E3.m1.6.6.1.3.1.3.2.3" xref="S4.E3.m1.6.6.1.3.1.3.2.3.cmml">i</mi></msup><mo id="S4.E3.m1.6.6.1.3.1.3.1" xref="S4.E3.m1.6.6.1.3.1.3.1.cmml">⊂</mo><msup id="S4.E3.m1.6.6.1.3.1.3.3" xref="S4.E3.m1.6.6.1.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.6.6.1.3.1.3.3.2" xref="S4.E3.m1.6.6.1.3.1.3.3.2.cmml">ℐ</mi><mrow id="S4.E3.m1.6.6.1.3.1.3.3.3" xref="S4.E3.m1.6.6.1.3.1.3.3.3.cmml"><mi id="S4.E3.m1.6.6.1.3.1.3.3.3.2" xref="S4.E3.m1.6.6.1.3.1.3.3.3.2.cmml">i</mi><mo id="S4.E3.m1.6.6.1.3.1.3.3.3.1" xref="S4.E3.m1.6.6.1.3.1.3.3.3.1.cmml">−</mo><mn id="S4.E3.m1.6.6.1.3.1.3.3.3.3" xref="S4.E3.m1.6.6.1.3.1.3.3.3.3.cmml">1</mn></mrow></msup></mrow></munder><mo id="S4.E3.m1.6.6.1.3a" lspace="0.167em" xref="S4.E3.m1.6.6.1.3.cmml">⁡</mo><mi id="S4.E3.m1.6.6.1.3.2" xref="S4.E3.m1.6.6.1.3.2.cmml">𝐄</mi></mrow><mo id="S4.E3.m1.6.6.1.2" xref="S4.E3.m1.6.6.1.2.cmml">⁢</mo><mrow id="S4.E3.m1.6.6.1.1.1" xref="S4.E3.m1.6.6.1.1.2.cmml"><mo id="S4.E3.m1.6.6.1.1.1.2" stretchy="false" xref="S4.E3.m1.6.6.1.1.2.1.cmml">[</mo><mrow id="S4.E3.m1.6.6.1.1.1.1" xref="S4.E3.m1.6.6.1.1.1.1.cmml"><munder id="S4.E3.m1.6.6.1.1.1.1.1" xref="S4.E3.m1.6.6.1.1.1.1.1.cmml"><mo id="S4.E3.m1.6.6.1.1.1.1.1.2" lspace="0em" movablelimits="false" xref="S4.E3.m1.6.6.1.1.1.1.1.2.cmml">∑</mo><mrow id="S4.E3.m1.3.3.1" xref="S4.E3.m1.3.3.1.cmml"><mi id="S4.E3.m1.3.3.1.3" xref="S4.E3.m1.3.3.1.3.cmml">v</mi><mo id="S4.E3.m1.3.3.1.2" xref="S4.E3.m1.3.3.1.2.cmml">∈</mo><mrow id="S4.E3.m1.3.3.1.1" xref="S4.E3.m1.3.3.1.1.cmml"><msup id="S4.E3.m1.3.3.1.1.3" xref="S4.E3.m1.3.3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.3.3.1.1.3.2" xref="S4.E3.m1.3.3.1.1.3.2.cmml">ℐ</mi><mn id="S4.E3.m1.3.3.1.1.3.3" xref="S4.E3.m1.3.3.1.1.3.3.cmml">4</mn></msup><mo id="S4.E3.m1.3.3.1.1.2" xref="S4.E3.m1.3.3.1.1.2.cmml">⁢</mo><mrow id="S4.E3.m1.3.3.1.1.1.1" xref="S4.E3.m1.3.3.1.1.1.1.1.cmml"><mo id="S4.E3.m1.3.3.1.1.1.1.2" stretchy="false" xref="S4.E3.m1.3.3.1.1.1.1.1.cmml">(</mo><msup id="S4.E3.m1.3.3.1.1.1.1.1" xref="S4.E3.m1.3.3.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.3.3.1.1.1.1.1.2" xref="S4.E3.m1.3.3.1.1.1.1.1.2.cmml">ℐ</mi><mi id="S4.E3.m1.3.3.1.1.1.1.1.3" xref="S4.E3.m1.3.3.1.1.1.1.1.3.cmml">i</mi></msup><mo id="S4.E3.m1.3.3.1.1.1.1.3" stretchy="false" xref="S4.E3.m1.3.3.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S4.E3.m1.6.6.1.1.1.1.2" xref="S4.E3.m1.6.6.1.1.1.1.2.cmml"><mi id="S4.E3.m1.6.6.1.1.1.1.2.2" xref="S4.E3.m1.6.6.1.1.1.1.2.2.cmml">r</mi><mo id="S4.E3.m1.6.6.1.1.1.1.2.1" xref="S4.E3.m1.6.6.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.E3.m1.6.6.1.1.1.1.2.3.2" xref="S4.E3.m1.6.6.1.1.1.1.2.3.1.cmml"><mo id="S4.E3.m1.6.6.1.1.1.1.2.3.2.1" stretchy="false" xref="S4.E3.m1.6.6.1.1.1.1.2.3.1.cmml">(</mo><mi id="S4.E3.m1.4.4" xref="S4.E3.m1.4.4.cmml">u</mi><mo id="S4.E3.m1.6.6.1.1.1.1.2.3.2.2" xref="S4.E3.m1.6.6.1.1.1.1.2.3.1.cmml">,</mo><mi id="S4.E3.m1.5.5" xref="S4.E3.m1.5.5.cmml">v</mi><mo id="S4.E3.m1.6.6.1.1.1.1.2.3.2.3" stretchy="false" xref="S4.E3.m1.6.6.1.1.1.1.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E3.m1.6.6.1.1.1.3" stretchy="false" xref="S4.E3.m1.6.6.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.6b"><apply id="S4.E3.m1.6.6.cmml" xref="S4.E3.m1.6.6"><csymbol cd="latexml" id="S4.E3.m1.6.6.2.cmml" xref="S4.E3.m1.6.6.2">assign</csymbol><apply id="S4.E3.m1.6.6.3.cmml" xref="S4.E3.m1.6.6.3"><csymbol cd="ambiguous" id="S4.E3.m1.6.6.3.1.cmml" xref="S4.E3.m1.6.6.3">superscript</csymbol><ci id="S4.E3.m1.6.6.3.2.cmml" xref="S4.E3.m1.6.6.3.2">ℐ</ci><list id="S4.E3.m1.2.2.2.3.cmml" xref="S4.E3.m1.2.2.2.2"><ci id="S4.E3.m1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1">𝑖</ci><apply id="S4.E3.m1.2.2.2.2.1.cmml" xref="S4.E3.m1.2.2.2.2.1"><times id="S4.E3.m1.2.2.2.2.1.1.cmml" xref="S4.E3.m1.2.2.2.2.1.1"></times><ci id="S4.E3.m1.2.2.2.2.1.2.cmml" xref="S4.E3.m1.2.2.2.2.1.2">𝐺</ci><ci id="S4.E3.m1.2.2.2.2.1.3.cmml" xref="S4.E3.m1.2.2.2.2.1.3">𝑃</ci><ci id="S4.E3.m1.2.2.2.2.1.4.cmml" xref="S4.E3.m1.2.2.2.2.1.4">𝑅</ci><ci id="S4.E3.m1.2.2.2.2.1.5.cmml" xref="S4.E3.m1.2.2.2.2.1.5">𝑃</ci></apply></list></apply><apply id="S4.E3.m1.6.6.1.cmml" xref="S4.E3.m1.6.6.1"><times id="S4.E3.m1.6.6.1.2.cmml" xref="S4.E3.m1.6.6.1.2"></times><apply id="S4.E3.m1.6.6.1.3.cmml" xref="S4.E3.m1.6.6.1.3"><apply id="S4.E3.m1.6.6.1.3.1.cmml" xref="S4.E3.m1.6.6.1.3.1"><csymbol cd="ambiguous" id="S4.E3.m1.6.6.1.3.1.1.cmml" xref="S4.E3.m1.6.6.1.3.1">subscript</csymbol><apply id="S4.E3.m1.6.6.1.3.1.2.cmml" xref="S4.E3.m1.6.6.1.3.1.2"><arg id="S4.E3.m1.6.6.1.3.1.2.1.cmml" xref="S4.E3.m1.6.6.1.3.1.2.1"></arg><max id="S4.E3.m1.6.6.1.3.1.2.2.cmml" xref="S4.E3.m1.6.6.1.3.1.2.2"></max></apply><apply id="S4.E3.m1.6.6.1.3.1.3.cmml" xref="S4.E3.m1.6.6.1.3.1.3"><subset id="S4.E3.m1.6.6.1.3.1.3.1.cmml" xref="S4.E3.m1.6.6.1.3.1.3.1"></subset><apply id="S4.E3.m1.6.6.1.3.1.3.2.cmml" xref="S4.E3.m1.6.6.1.3.1.3.2"><csymbol cd="ambiguous" id="S4.E3.m1.6.6.1.3.1.3.2.1.cmml" xref="S4.E3.m1.6.6.1.3.1.3.2">superscript</csymbol><ci id="S4.E3.m1.6.6.1.3.1.3.2.2.cmml" xref="S4.E3.m1.6.6.1.3.1.3.2.2">ℐ</ci><ci id="S4.E3.m1.6.6.1.3.1.3.2.3.cmml" xref="S4.E3.m1.6.6.1.3.1.3.2.3">𝑖</ci></apply><apply id="S4.E3.m1.6.6.1.3.1.3.3.cmml" xref="S4.E3.m1.6.6.1.3.1.3.3"><csymbol cd="ambiguous" id="S4.E3.m1.6.6.1.3.1.3.3.1.cmml" xref="S4.E3.m1.6.6.1.3.1.3.3">superscript</csymbol><ci id="S4.E3.m1.6.6.1.3.1.3.3.2.cmml" xref="S4.E3.m1.6.6.1.3.1.3.3.2">ℐ</ci><apply id="S4.E3.m1.6.6.1.3.1.3.3.3.cmml" xref="S4.E3.m1.6.6.1.3.1.3.3.3"><minus id="S4.E3.m1.6.6.1.3.1.3.3.3.1.cmml" xref="S4.E3.m1.6.6.1.3.1.3.3.3.1"></minus><ci id="S4.E3.m1.6.6.1.3.1.3.3.3.2.cmml" xref="S4.E3.m1.6.6.1.3.1.3.3.3.2">𝑖</ci><cn id="S4.E3.m1.6.6.1.3.1.3.3.3.3.cmml" type="integer" xref="S4.E3.m1.6.6.1.3.1.3.3.3.3">1</cn></apply></apply></apply></apply><ci id="S4.E3.m1.6.6.1.3.2.cmml" xref="S4.E3.m1.6.6.1.3.2">𝐄</ci></apply><apply id="S4.E3.m1.6.6.1.1.2.cmml" xref="S4.E3.m1.6.6.1.1.1"><csymbol cd="latexml" id="S4.E3.m1.6.6.1.1.2.1.cmml" xref="S4.E3.m1.6.6.1.1.1.2">delimited-[]</csymbol><apply id="S4.E3.m1.6.6.1.1.1.1.cmml" xref="S4.E3.m1.6.6.1.1.1.1"><apply id="S4.E3.m1.6.6.1.1.1.1.1.cmml" xref="S4.E3.m1.6.6.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.6.6.1.1.1.1.1.1.cmml" xref="S4.E3.m1.6.6.1.1.1.1.1">subscript</csymbol><sum id="S4.E3.m1.6.6.1.1.1.1.1.2.cmml" xref="S4.E3.m1.6.6.1.1.1.1.1.2"></sum><apply id="S4.E3.m1.3.3.1.cmml" xref="S4.E3.m1.3.3.1"><in id="S4.E3.m1.3.3.1.2.cmml" xref="S4.E3.m1.3.3.1.2"></in><ci id="S4.E3.m1.3.3.1.3.cmml" xref="S4.E3.m1.3.3.1.3">𝑣</ci><apply id="S4.E3.m1.3.3.1.1.cmml" xref="S4.E3.m1.3.3.1.1"><times id="S4.E3.m1.3.3.1.1.2.cmml" xref="S4.E3.m1.3.3.1.1.2"></times><apply id="S4.E3.m1.3.3.1.1.3.cmml" xref="S4.E3.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S4.E3.m1.3.3.1.1.3.1.cmml" xref="S4.E3.m1.3.3.1.1.3">superscript</csymbol><ci id="S4.E3.m1.3.3.1.1.3.2.cmml" xref="S4.E3.m1.3.3.1.1.3.2">ℐ</ci><cn id="S4.E3.m1.3.3.1.1.3.3.cmml" type="integer" xref="S4.E3.m1.3.3.1.1.3.3">4</cn></apply><apply id="S4.E3.m1.3.3.1.1.1.1.1.cmml" xref="S4.E3.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.E3.m1.3.3.1.1.1.1">superscript</csymbol><ci id="S4.E3.m1.3.3.1.1.1.1.1.2.cmml" xref="S4.E3.m1.3.3.1.1.1.1.1.2">ℐ</ci><ci id="S4.E3.m1.3.3.1.1.1.1.1.3.cmml" xref="S4.E3.m1.3.3.1.1.1.1.1.3">𝑖</ci></apply></apply></apply></apply><apply id="S4.E3.m1.6.6.1.1.1.1.2.cmml" xref="S4.E3.m1.6.6.1.1.1.1.2"><times id="S4.E3.m1.6.6.1.1.1.1.2.1.cmml" xref="S4.E3.m1.6.6.1.1.1.1.2.1"></times><ci id="S4.E3.m1.6.6.1.1.1.1.2.2.cmml" xref="S4.E3.m1.6.6.1.1.1.1.2.2">𝑟</ci><interval closure="open" id="S4.E3.m1.6.6.1.1.1.1.2.3.1.cmml" xref="S4.E3.m1.6.6.1.1.1.1.2.3.2"><ci id="S4.E3.m1.4.4.cmml" xref="S4.E3.m1.4.4">𝑢</ci><ci id="S4.E3.m1.5.5.cmml" xref="S4.E3.m1.5.5">𝑣</ci></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.6c">\mathcal{I}^{i,GPRP}:=\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset%
\mathcal{I}^{i-1}}\mathbf{E}[\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i})}r(u,v)]</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m1.6d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT := start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ⊂ caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT end_POSTSUBSCRIPT bold_E [ ∑ start_POSTSUBSCRIPT italic_v ∈ caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT ( caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ) end_POSTSUBSCRIPT italic_r ( italic_u , italic_v ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.p7.7">where <math alttext="\mathcal{I}^{4}(\mathcal{I}^{i})" class="ltx_Math" display="inline" id="S4.p7.4.m1.1"><semantics id="S4.p7.4.m1.1a"><mrow id="S4.p7.4.m1.1.1" xref="S4.p7.4.m1.1.1.cmml"><msup id="S4.p7.4.m1.1.1.3" xref="S4.p7.4.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p7.4.m1.1.1.3.2" xref="S4.p7.4.m1.1.1.3.2.cmml">ℐ</mi><mn id="S4.p7.4.m1.1.1.3.3" xref="S4.p7.4.m1.1.1.3.3.cmml">4</mn></msup><mo id="S4.p7.4.m1.1.1.2" xref="S4.p7.4.m1.1.1.2.cmml">⁢</mo><mrow id="S4.p7.4.m1.1.1.1.1" xref="S4.p7.4.m1.1.1.1.1.1.cmml"><mo id="S4.p7.4.m1.1.1.1.1.2" stretchy="false" xref="S4.p7.4.m1.1.1.1.1.1.cmml">(</mo><msup id="S4.p7.4.m1.1.1.1.1.1" xref="S4.p7.4.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p7.4.m1.1.1.1.1.1.2" xref="S4.p7.4.m1.1.1.1.1.1.2.cmml">ℐ</mi><mi id="S4.p7.4.m1.1.1.1.1.1.3" xref="S4.p7.4.m1.1.1.1.1.1.3.cmml">i</mi></msup><mo id="S4.p7.4.m1.1.1.1.1.3" stretchy="false" xref="S4.p7.4.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p7.4.m1.1b"><apply id="S4.p7.4.m1.1.1.cmml" xref="S4.p7.4.m1.1.1"><times id="S4.p7.4.m1.1.1.2.cmml" xref="S4.p7.4.m1.1.1.2"></times><apply id="S4.p7.4.m1.1.1.3.cmml" xref="S4.p7.4.m1.1.1.3"><csymbol cd="ambiguous" id="S4.p7.4.m1.1.1.3.1.cmml" xref="S4.p7.4.m1.1.1.3">superscript</csymbol><ci id="S4.p7.4.m1.1.1.3.2.cmml" xref="S4.p7.4.m1.1.1.3.2">ℐ</ci><cn id="S4.p7.4.m1.1.1.3.3.cmml" type="integer" xref="S4.p7.4.m1.1.1.3.3">4</cn></apply><apply id="S4.p7.4.m1.1.1.1.1.1.cmml" xref="S4.p7.4.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.p7.4.m1.1.1.1.1.1.1.cmml" xref="S4.p7.4.m1.1.1.1.1">superscript</csymbol><ci id="S4.p7.4.m1.1.1.1.1.1.2.cmml" xref="S4.p7.4.m1.1.1.1.1.1.2">ℐ</ci><ci id="S4.p7.4.m1.1.1.1.1.1.3.cmml" xref="S4.p7.4.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.4.m1.1c">\mathcal{I}^{4}(\mathcal{I}^{i})</annotation><annotation encoding="application/x-llamapun" id="S4.p7.4.m1.1d">caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT ( caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT )</annotation></semantics></math> is a random set that represents the finally exposed item set <math alttext="\mathcal{I}^{4}" class="ltx_Math" display="inline" id="S4.p7.5.m2.1"><semantics id="S4.p7.5.m2.1a"><msup id="S4.p7.5.m2.1.1" xref="S4.p7.5.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p7.5.m2.1.1.2" xref="S4.p7.5.m2.1.1.2.cmml">ℐ</mi><mn id="S4.p7.5.m2.1.1.3" xref="S4.p7.5.m2.1.1.3.cmml">4</mn></msup><annotation-xml encoding="MathML-Content" id="S4.p7.5.m2.1b"><apply id="S4.p7.5.m2.1.1.cmml" xref="S4.p7.5.m2.1.1"><csymbol cd="ambiguous" id="S4.p7.5.m2.1.1.1.cmml" xref="S4.p7.5.m2.1.1">superscript</csymbol><ci id="S4.p7.5.m2.1.1.2.cmml" xref="S4.p7.5.m2.1.1.2">ℐ</ci><cn id="S4.p7.5.m2.1.1.3.cmml" type="integer" xref="S4.p7.5.m2.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.5.m2.1c">\mathcal{I}^{4}</annotation><annotation encoding="application/x-llamapun" id="S4.p7.5.m2.1d">caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT</annotation></semantics></math> obtained from the candidate set <math alttext="\mathcal{I}^{i}" class="ltx_Math" display="inline" id="S4.p7.6.m3.1"><semantics id="S4.p7.6.m3.1a"><msup id="S4.p7.6.m3.1.1" xref="S4.p7.6.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p7.6.m3.1.1.2" xref="S4.p7.6.m3.1.1.2.cmml">ℐ</mi><mi id="S4.p7.6.m3.1.1.3" xref="S4.p7.6.m3.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p7.6.m3.1b"><apply id="S4.p7.6.m3.1.1.cmml" xref="S4.p7.6.m3.1.1"><csymbol cd="ambiguous" id="S4.p7.6.m3.1.1.1.cmml" xref="S4.p7.6.m3.1.1">superscript</csymbol><ci id="S4.p7.6.m3.1.1.2.cmml" xref="S4.p7.6.m3.1.1.2">ℐ</ci><ci id="S4.p7.6.m3.1.1.3.cmml" xref="S4.p7.6.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.6.m3.1c">\mathcal{I}^{i}</annotation><annotation encoding="application/x-llamapun" id="S4.p7.6.m3.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> after stages <math alttext="i+1,\dots,4" class="ltx_Math" display="inline" id="S4.p7.7.m4.3"><semantics id="S4.p7.7.m4.3a"><mrow id="S4.p7.7.m4.3.3.1" xref="S4.p7.7.m4.3.3.2.cmml"><mrow id="S4.p7.7.m4.3.3.1.1" xref="S4.p7.7.m4.3.3.1.1.cmml"><mi id="S4.p7.7.m4.3.3.1.1.2" xref="S4.p7.7.m4.3.3.1.1.2.cmml">i</mi><mo id="S4.p7.7.m4.3.3.1.1.1" xref="S4.p7.7.m4.3.3.1.1.1.cmml">+</mo><mn id="S4.p7.7.m4.3.3.1.1.3" xref="S4.p7.7.m4.3.3.1.1.3.cmml">1</mn></mrow><mo id="S4.p7.7.m4.3.3.1.2" xref="S4.p7.7.m4.3.3.2.cmml">,</mo><mi id="S4.p7.7.m4.1.1" mathvariant="normal" xref="S4.p7.7.m4.1.1.cmml">…</mi><mo id="S4.p7.7.m4.3.3.1.3" xref="S4.p7.7.m4.3.3.2.cmml">,</mo><mn id="S4.p7.7.m4.2.2" xref="S4.p7.7.m4.2.2.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p7.7.m4.3b"><list id="S4.p7.7.m4.3.3.2.cmml" xref="S4.p7.7.m4.3.3.1"><apply id="S4.p7.7.m4.3.3.1.1.cmml" xref="S4.p7.7.m4.3.3.1.1"><plus id="S4.p7.7.m4.3.3.1.1.1.cmml" xref="S4.p7.7.m4.3.3.1.1.1"></plus><ci id="S4.p7.7.m4.3.3.1.1.2.cmml" xref="S4.p7.7.m4.3.3.1.1.2">𝑖</ci><cn id="S4.p7.7.m4.3.3.1.1.3.cmml" type="integer" xref="S4.p7.7.m4.3.3.1.1.3">1</cn></apply><ci id="S4.p7.7.m4.1.1.cmml" xref="S4.p7.7.m4.1.1">…</ci><cn id="S4.p7.7.m4.2.2.cmml" type="integer" xref="S4.p7.7.m4.2.2">4</cn></list></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.7.m4.3c">i+1,\dots,4</annotation><annotation encoding="application/x-llamapun" id="S4.p7.7.m4.3d">italic_i + 1 , … , 4</annotation></semantics></math>, and the expectation is over the randomness of subsequent stages.</p>
</div>
<div class="ltx_para" id="S4.p8">
<p class="ltx_p" id="S4.p8.1">According to the definition of equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>), it’s easy to see the expected utility of PRP is always a lower bound of the expected utility of GPRP when deployed in online systems:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{E}[\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i,PRP})}r(u,v)]\leqslant%
\mathbf{E}[\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i,GPRP})}r(u,v)]" class="ltx_Math" display="block" id="S4.E4.m1.12"><semantics id="S4.E4.m1.12a"><mrow id="S4.E4.m1.12.12" xref="S4.E4.m1.12.12.cmml"><mrow id="S4.E4.m1.11.11.1" xref="S4.E4.m1.11.11.1.cmml"><mi id="S4.E4.m1.11.11.1.3" xref="S4.E4.m1.11.11.1.3.cmml">𝐄</mi><mo id="S4.E4.m1.11.11.1.2" xref="S4.E4.m1.11.11.1.2.cmml">⁢</mo><mrow id="S4.E4.m1.11.11.1.1.1" xref="S4.E4.m1.11.11.1.1.2.cmml"><mo id="S4.E4.m1.11.11.1.1.1.2" stretchy="false" xref="S4.E4.m1.11.11.1.1.2.1.cmml">[</mo><mrow id="S4.E4.m1.11.11.1.1.1.1" xref="S4.E4.m1.11.11.1.1.1.1.cmml"><munder id="S4.E4.m1.11.11.1.1.1.1.1" xref="S4.E4.m1.11.11.1.1.1.1.1.cmml"><mo id="S4.E4.m1.11.11.1.1.1.1.1.2" lspace="0em" movablelimits="false" xref="S4.E4.m1.11.11.1.1.1.1.1.2.cmml">∑</mo><mrow id="S4.E4.m1.3.3.3" xref="S4.E4.m1.3.3.3.cmml"><mi id="S4.E4.m1.3.3.3.5" xref="S4.E4.m1.3.3.3.5.cmml">v</mi><mo id="S4.E4.m1.3.3.3.4" xref="S4.E4.m1.3.3.3.4.cmml">∈</mo><mrow id="S4.E4.m1.3.3.3.3" xref="S4.E4.m1.3.3.3.3.cmml"><msup id="S4.E4.m1.3.3.3.3.3" xref="S4.E4.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.3.3.3.3.3.2" xref="S4.E4.m1.3.3.3.3.3.2.cmml">ℐ</mi><mn id="S4.E4.m1.3.3.3.3.3.3" xref="S4.E4.m1.3.3.3.3.3.3.cmml">4</mn></msup><mo id="S4.E4.m1.3.3.3.3.2" xref="S4.E4.m1.3.3.3.3.2.cmml">⁢</mo><mrow id="S4.E4.m1.3.3.3.3.1.1" xref="S4.E4.m1.3.3.3.3.1.1.1.cmml"><mo id="S4.E4.m1.3.3.3.3.1.1.2" stretchy="false" xref="S4.E4.m1.3.3.3.3.1.1.1.cmml">(</mo><msup id="S4.E4.m1.3.3.3.3.1.1.1" xref="S4.E4.m1.3.3.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.3.3.3.3.1.1.1.2" xref="S4.E4.m1.3.3.3.3.1.1.1.2.cmml">ℐ</mi><mrow id="S4.E4.m1.2.2.2.2.2.2" xref="S4.E4.m1.2.2.2.2.2.3.cmml"><mi id="S4.E4.m1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.cmml">i</mi><mo id="S4.E4.m1.2.2.2.2.2.2.2" xref="S4.E4.m1.2.2.2.2.2.3.cmml">,</mo><mrow id="S4.E4.m1.2.2.2.2.2.2.1" xref="S4.E4.m1.2.2.2.2.2.2.1.cmml"><mi id="S4.E4.m1.2.2.2.2.2.2.1.2" xref="S4.E4.m1.2.2.2.2.2.2.1.2.cmml">P</mi><mo id="S4.E4.m1.2.2.2.2.2.2.1.1" xref="S4.E4.m1.2.2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E4.m1.2.2.2.2.2.2.1.3" xref="S4.E4.m1.2.2.2.2.2.2.1.3.cmml">R</mi><mo id="S4.E4.m1.2.2.2.2.2.2.1.1a" xref="S4.E4.m1.2.2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E4.m1.2.2.2.2.2.2.1.4" xref="S4.E4.m1.2.2.2.2.2.2.1.4.cmml">P</mi></mrow></mrow></msup><mo id="S4.E4.m1.3.3.3.3.1.1.3" stretchy="false" xref="S4.E4.m1.3.3.3.3.1.1.1.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S4.E4.m1.11.11.1.1.1.1.2" xref="S4.E4.m1.11.11.1.1.1.1.2.cmml"><mi id="S4.E4.m1.11.11.1.1.1.1.2.2" xref="S4.E4.m1.11.11.1.1.1.1.2.2.cmml">r</mi><mo id="S4.E4.m1.11.11.1.1.1.1.2.1" xref="S4.E4.m1.11.11.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.E4.m1.11.11.1.1.1.1.2.3.2" xref="S4.E4.m1.11.11.1.1.1.1.2.3.1.cmml"><mo id="S4.E4.m1.11.11.1.1.1.1.2.3.2.1" stretchy="false" xref="S4.E4.m1.11.11.1.1.1.1.2.3.1.cmml">(</mo><mi id="S4.E4.m1.7.7" xref="S4.E4.m1.7.7.cmml">u</mi><mo id="S4.E4.m1.11.11.1.1.1.1.2.3.2.2" xref="S4.E4.m1.11.11.1.1.1.1.2.3.1.cmml">,</mo><mi id="S4.E4.m1.8.8" xref="S4.E4.m1.8.8.cmml">v</mi><mo id="S4.E4.m1.11.11.1.1.1.1.2.3.2.3" stretchy="false" xref="S4.E4.m1.11.11.1.1.1.1.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E4.m1.11.11.1.1.1.3" stretchy="false" xref="S4.E4.m1.11.11.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S4.E4.m1.12.12.3" xref="S4.E4.m1.12.12.3.cmml">⩽</mo><mrow id="S4.E4.m1.12.12.2" xref="S4.E4.m1.12.12.2.cmml"><mi id="S4.E4.m1.12.12.2.3" xref="S4.E4.m1.12.12.2.3.cmml">𝐄</mi><mo id="S4.E4.m1.12.12.2.2" xref="S4.E4.m1.12.12.2.2.cmml">⁢</mo><mrow id="S4.E4.m1.12.12.2.1.1" xref="S4.E4.m1.12.12.2.1.2.cmml"><mo id="S4.E4.m1.12.12.2.1.1.2" stretchy="false" xref="S4.E4.m1.12.12.2.1.2.1.cmml">[</mo><mrow id="S4.E4.m1.12.12.2.1.1.1" xref="S4.E4.m1.12.12.2.1.1.1.cmml"><munder id="S4.E4.m1.12.12.2.1.1.1.1" xref="S4.E4.m1.12.12.2.1.1.1.1.cmml"><mo id="S4.E4.m1.12.12.2.1.1.1.1.2" lspace="0em" movablelimits="false" xref="S4.E4.m1.12.12.2.1.1.1.1.2.cmml">∑</mo><mrow id="S4.E4.m1.6.6.3" xref="S4.E4.m1.6.6.3.cmml"><mi id="S4.E4.m1.6.6.3.5" xref="S4.E4.m1.6.6.3.5.cmml">v</mi><mo id="S4.E4.m1.6.6.3.4" xref="S4.E4.m1.6.6.3.4.cmml">∈</mo><mrow id="S4.E4.m1.6.6.3.3" xref="S4.E4.m1.6.6.3.3.cmml"><msup id="S4.E4.m1.6.6.3.3.3" xref="S4.E4.m1.6.6.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.6.6.3.3.3.2" xref="S4.E4.m1.6.6.3.3.3.2.cmml">ℐ</mi><mn id="S4.E4.m1.6.6.3.3.3.3" xref="S4.E4.m1.6.6.3.3.3.3.cmml">4</mn></msup><mo id="S4.E4.m1.6.6.3.3.2" xref="S4.E4.m1.6.6.3.3.2.cmml">⁢</mo><mrow id="S4.E4.m1.6.6.3.3.1.1" xref="S4.E4.m1.6.6.3.3.1.1.1.cmml"><mo id="S4.E4.m1.6.6.3.3.1.1.2" stretchy="false" xref="S4.E4.m1.6.6.3.3.1.1.1.cmml">(</mo><msup id="S4.E4.m1.6.6.3.3.1.1.1" xref="S4.E4.m1.6.6.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.6.6.3.3.1.1.1.2" xref="S4.E4.m1.6.6.3.3.1.1.1.2.cmml">ℐ</mi><mrow id="S4.E4.m1.5.5.2.2.2.2" xref="S4.E4.m1.5.5.2.2.2.3.cmml"><mi id="S4.E4.m1.4.4.1.1.1.1" xref="S4.E4.m1.4.4.1.1.1.1.cmml">i</mi><mo id="S4.E4.m1.5.5.2.2.2.2.2" xref="S4.E4.m1.5.5.2.2.2.3.cmml">,</mo><mrow id="S4.E4.m1.5.5.2.2.2.2.1" xref="S4.E4.m1.5.5.2.2.2.2.1.cmml"><mi id="S4.E4.m1.5.5.2.2.2.2.1.2" xref="S4.E4.m1.5.5.2.2.2.2.1.2.cmml">G</mi><mo id="S4.E4.m1.5.5.2.2.2.2.1.1" xref="S4.E4.m1.5.5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E4.m1.5.5.2.2.2.2.1.3" xref="S4.E4.m1.5.5.2.2.2.2.1.3.cmml">P</mi><mo id="S4.E4.m1.5.5.2.2.2.2.1.1a" xref="S4.E4.m1.5.5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E4.m1.5.5.2.2.2.2.1.4" xref="S4.E4.m1.5.5.2.2.2.2.1.4.cmml">R</mi><mo id="S4.E4.m1.5.5.2.2.2.2.1.1b" xref="S4.E4.m1.5.5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E4.m1.5.5.2.2.2.2.1.5" xref="S4.E4.m1.5.5.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><mo id="S4.E4.m1.6.6.3.3.1.1.3" stretchy="false" xref="S4.E4.m1.6.6.3.3.1.1.1.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S4.E4.m1.12.12.2.1.1.1.2" xref="S4.E4.m1.12.12.2.1.1.1.2.cmml"><mi id="S4.E4.m1.12.12.2.1.1.1.2.2" xref="S4.E4.m1.12.12.2.1.1.1.2.2.cmml">r</mi><mo id="S4.E4.m1.12.12.2.1.1.1.2.1" xref="S4.E4.m1.12.12.2.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.E4.m1.12.12.2.1.1.1.2.3.2" xref="S4.E4.m1.12.12.2.1.1.1.2.3.1.cmml"><mo id="S4.E4.m1.12.12.2.1.1.1.2.3.2.1" stretchy="false" xref="S4.E4.m1.12.12.2.1.1.1.2.3.1.cmml">(</mo><mi id="S4.E4.m1.9.9" xref="S4.E4.m1.9.9.cmml">u</mi><mo id="S4.E4.m1.12.12.2.1.1.1.2.3.2.2" xref="S4.E4.m1.12.12.2.1.1.1.2.3.1.cmml">,</mo><mi id="S4.E4.m1.10.10" xref="S4.E4.m1.10.10.cmml">v</mi><mo id="S4.E4.m1.12.12.2.1.1.1.2.3.2.3" stretchy="false" xref="S4.E4.m1.12.12.2.1.1.1.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E4.m1.12.12.2.1.1.3" stretchy="false" xref="S4.E4.m1.12.12.2.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.12b"><apply id="S4.E4.m1.12.12.cmml" xref="S4.E4.m1.12.12"><leq id="S4.E4.m1.12.12.3.cmml" xref="S4.E4.m1.12.12.3"></leq><apply id="S4.E4.m1.11.11.1.cmml" xref="S4.E4.m1.11.11.1"><times id="S4.E4.m1.11.11.1.2.cmml" xref="S4.E4.m1.11.11.1.2"></times><ci id="S4.E4.m1.11.11.1.3.cmml" xref="S4.E4.m1.11.11.1.3">𝐄</ci><apply id="S4.E4.m1.11.11.1.1.2.cmml" xref="S4.E4.m1.11.11.1.1.1"><csymbol cd="latexml" id="S4.E4.m1.11.11.1.1.2.1.cmml" xref="S4.E4.m1.11.11.1.1.1.2">delimited-[]</csymbol><apply id="S4.E4.m1.11.11.1.1.1.1.cmml" xref="S4.E4.m1.11.11.1.1.1.1"><apply id="S4.E4.m1.11.11.1.1.1.1.1.cmml" xref="S4.E4.m1.11.11.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.11.11.1.1.1.1.1.1.cmml" xref="S4.E4.m1.11.11.1.1.1.1.1">subscript</csymbol><sum id="S4.E4.m1.11.11.1.1.1.1.1.2.cmml" xref="S4.E4.m1.11.11.1.1.1.1.1.2"></sum><apply id="S4.E4.m1.3.3.3.cmml" xref="S4.E4.m1.3.3.3"><in id="S4.E4.m1.3.3.3.4.cmml" xref="S4.E4.m1.3.3.3.4"></in><ci id="S4.E4.m1.3.3.3.5.cmml" xref="S4.E4.m1.3.3.3.5">𝑣</ci><apply id="S4.E4.m1.3.3.3.3.cmml" xref="S4.E4.m1.3.3.3.3"><times id="S4.E4.m1.3.3.3.3.2.cmml" xref="S4.E4.m1.3.3.3.3.2"></times><apply id="S4.E4.m1.3.3.3.3.3.cmml" xref="S4.E4.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.3.3.3.1.cmml" xref="S4.E4.m1.3.3.3.3.3">superscript</csymbol><ci id="S4.E4.m1.3.3.3.3.3.2.cmml" xref="S4.E4.m1.3.3.3.3.3.2">ℐ</ci><cn id="S4.E4.m1.3.3.3.3.3.3.cmml" type="integer" xref="S4.E4.m1.3.3.3.3.3.3">4</cn></apply><apply id="S4.E4.m1.3.3.3.3.1.1.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.3.3.1.1.1.1.cmml" xref="S4.E4.m1.3.3.3.3.1.1">superscript</csymbol><ci id="S4.E4.m1.3.3.3.3.1.1.1.2.cmml" xref="S4.E4.m1.3.3.3.3.1.1.1.2">ℐ</ci><list id="S4.E4.m1.2.2.2.2.2.3.cmml" xref="S4.E4.m1.2.2.2.2.2.2"><ci id="S4.E4.m1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1">𝑖</ci><apply id="S4.E4.m1.2.2.2.2.2.2.1.cmml" xref="S4.E4.m1.2.2.2.2.2.2.1"><times id="S4.E4.m1.2.2.2.2.2.2.1.1.cmml" xref="S4.E4.m1.2.2.2.2.2.2.1.1"></times><ci id="S4.E4.m1.2.2.2.2.2.2.1.2.cmml" xref="S4.E4.m1.2.2.2.2.2.2.1.2">𝑃</ci><ci id="S4.E4.m1.2.2.2.2.2.2.1.3.cmml" xref="S4.E4.m1.2.2.2.2.2.2.1.3">𝑅</ci><ci id="S4.E4.m1.2.2.2.2.2.2.1.4.cmml" xref="S4.E4.m1.2.2.2.2.2.2.1.4">𝑃</ci></apply></list></apply></apply></apply></apply><apply id="S4.E4.m1.11.11.1.1.1.1.2.cmml" xref="S4.E4.m1.11.11.1.1.1.1.2"><times id="S4.E4.m1.11.11.1.1.1.1.2.1.cmml" xref="S4.E4.m1.11.11.1.1.1.1.2.1"></times><ci id="S4.E4.m1.11.11.1.1.1.1.2.2.cmml" xref="S4.E4.m1.11.11.1.1.1.1.2.2">𝑟</ci><interval closure="open" id="S4.E4.m1.11.11.1.1.1.1.2.3.1.cmml" xref="S4.E4.m1.11.11.1.1.1.1.2.3.2"><ci id="S4.E4.m1.7.7.cmml" xref="S4.E4.m1.7.7">𝑢</ci><ci id="S4.E4.m1.8.8.cmml" xref="S4.E4.m1.8.8">𝑣</ci></interval></apply></apply></apply></apply><apply id="S4.E4.m1.12.12.2.cmml" xref="S4.E4.m1.12.12.2"><times id="S4.E4.m1.12.12.2.2.cmml" xref="S4.E4.m1.12.12.2.2"></times><ci id="S4.E4.m1.12.12.2.3.cmml" xref="S4.E4.m1.12.12.2.3">𝐄</ci><apply id="S4.E4.m1.12.12.2.1.2.cmml" xref="S4.E4.m1.12.12.2.1.1"><csymbol cd="latexml" id="S4.E4.m1.12.12.2.1.2.1.cmml" xref="S4.E4.m1.12.12.2.1.1.2">delimited-[]</csymbol><apply id="S4.E4.m1.12.12.2.1.1.1.cmml" xref="S4.E4.m1.12.12.2.1.1.1"><apply id="S4.E4.m1.12.12.2.1.1.1.1.cmml" xref="S4.E4.m1.12.12.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.12.12.2.1.1.1.1.1.cmml" xref="S4.E4.m1.12.12.2.1.1.1.1">subscript</csymbol><sum id="S4.E4.m1.12.12.2.1.1.1.1.2.cmml" xref="S4.E4.m1.12.12.2.1.1.1.1.2"></sum><apply id="S4.E4.m1.6.6.3.cmml" xref="S4.E4.m1.6.6.3"><in id="S4.E4.m1.6.6.3.4.cmml" xref="S4.E4.m1.6.6.3.4"></in><ci id="S4.E4.m1.6.6.3.5.cmml" xref="S4.E4.m1.6.6.3.5">𝑣</ci><apply id="S4.E4.m1.6.6.3.3.cmml" xref="S4.E4.m1.6.6.3.3"><times id="S4.E4.m1.6.6.3.3.2.cmml" xref="S4.E4.m1.6.6.3.3.2"></times><apply id="S4.E4.m1.6.6.3.3.3.cmml" xref="S4.E4.m1.6.6.3.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.3.3.3.1.cmml" xref="S4.E4.m1.6.6.3.3.3">superscript</csymbol><ci id="S4.E4.m1.6.6.3.3.3.2.cmml" xref="S4.E4.m1.6.6.3.3.3.2">ℐ</ci><cn id="S4.E4.m1.6.6.3.3.3.3.cmml" type="integer" xref="S4.E4.m1.6.6.3.3.3.3">4</cn></apply><apply id="S4.E4.m1.6.6.3.3.1.1.1.cmml" xref="S4.E4.m1.6.6.3.3.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.3.3.1.1.1.1.cmml" xref="S4.E4.m1.6.6.3.3.1.1">superscript</csymbol><ci id="S4.E4.m1.6.6.3.3.1.1.1.2.cmml" xref="S4.E4.m1.6.6.3.3.1.1.1.2">ℐ</ci><list id="S4.E4.m1.5.5.2.2.2.3.cmml" xref="S4.E4.m1.5.5.2.2.2.2"><ci id="S4.E4.m1.4.4.1.1.1.1.cmml" xref="S4.E4.m1.4.4.1.1.1.1">𝑖</ci><apply id="S4.E4.m1.5.5.2.2.2.2.1.cmml" xref="S4.E4.m1.5.5.2.2.2.2.1"><times id="S4.E4.m1.5.5.2.2.2.2.1.1.cmml" xref="S4.E4.m1.5.5.2.2.2.2.1.1"></times><ci id="S4.E4.m1.5.5.2.2.2.2.1.2.cmml" xref="S4.E4.m1.5.5.2.2.2.2.1.2">𝐺</ci><ci id="S4.E4.m1.5.5.2.2.2.2.1.3.cmml" xref="S4.E4.m1.5.5.2.2.2.2.1.3">𝑃</ci><ci id="S4.E4.m1.5.5.2.2.2.2.1.4.cmml" xref="S4.E4.m1.5.5.2.2.2.2.1.4">𝑅</ci><ci id="S4.E4.m1.5.5.2.2.2.2.1.5.cmml" xref="S4.E4.m1.5.5.2.2.2.2.1.5">𝑃</ci></apply></list></apply></apply></apply></apply><apply id="S4.E4.m1.12.12.2.1.1.1.2.cmml" xref="S4.E4.m1.12.12.2.1.1.1.2"><times id="S4.E4.m1.12.12.2.1.1.1.2.1.cmml" xref="S4.E4.m1.12.12.2.1.1.1.2.1"></times><ci id="S4.E4.m1.12.12.2.1.1.1.2.2.cmml" xref="S4.E4.m1.12.12.2.1.1.1.2.2">𝑟</ci><interval closure="open" id="S4.E4.m1.12.12.2.1.1.1.2.3.1.cmml" xref="S4.E4.m1.12.12.2.1.1.1.2.3.2"><ci id="S4.E4.m1.9.9.cmml" xref="S4.E4.m1.9.9">𝑢</ci><ci id="S4.E4.m1.10.10.cmml" xref="S4.E4.m1.10.10">𝑣</ci></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.12c">\mathbf{E}[\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i,PRP})}r(u,v)]\leqslant%
\mathbf{E}[\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i,GPRP})}r(u,v)]</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.12d">bold_E [ ∑ start_POSTSUBSCRIPT italic_v ∈ caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT ( caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT ) end_POSTSUBSCRIPT italic_r ( italic_u , italic_v ) ] ⩽ bold_E [ ∑ start_POSTSUBSCRIPT italic_v ∈ caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT ( caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT ) end_POSTSUBSCRIPT italic_r ( italic_u , italic_v ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.p9">
<p class="ltx_p" id="S4.p9.2">To certain extend, the core philosophy behind GPRP is on the opposite to unbiased learning discussed in Section <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S2" title="2 Related Work ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>. Both of them consider the selection bias of the system. However, the goal of unbiased learning is to eliminate selection bias and learn the underlying interest function of users, i.e. <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p9.1.m1.2"><semantics id="S4.p9.1.m1.2a"><mrow id="S4.p9.1.m1.2.3" xref="S4.p9.1.m1.2.3.cmml"><mi id="S4.p9.1.m1.2.3.2" xref="S4.p9.1.m1.2.3.2.cmml">r</mi><mo id="S4.p9.1.m1.2.3.1" xref="S4.p9.1.m1.2.3.1.cmml">⁢</mo><mrow id="S4.p9.1.m1.2.3.3.2" xref="S4.p9.1.m1.2.3.3.1.cmml"><mo id="S4.p9.1.m1.2.3.3.2.1" stretchy="false" xref="S4.p9.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.p9.1.m1.1.1" xref="S4.p9.1.m1.1.1.cmml">u</mi><mo id="S4.p9.1.m1.2.3.3.2.2" xref="S4.p9.1.m1.2.3.3.1.cmml">,</mo><mi id="S4.p9.1.m1.2.2" xref="S4.p9.1.m1.2.2.cmml">v</mi><mo id="S4.p9.1.m1.2.3.3.2.3" stretchy="false" xref="S4.p9.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p9.1.m1.2b"><apply id="S4.p9.1.m1.2.3.cmml" xref="S4.p9.1.m1.2.3"><times id="S4.p9.1.m1.2.3.1.cmml" xref="S4.p9.1.m1.2.3.1"></times><ci id="S4.p9.1.m1.2.3.2.cmml" xref="S4.p9.1.m1.2.3.2">𝑟</ci><interval closure="open" id="S4.p9.1.m1.2.3.3.1.cmml" xref="S4.p9.1.m1.2.3.3.2"><ci id="S4.p9.1.m1.1.1.cmml" xref="S4.p9.1.m1.1.1">𝑢</ci><ci id="S4.p9.1.m1.2.2.cmml" xref="S4.p9.1.m1.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.1.m1.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p9.1.m1.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math>, which is then used to make decisions. While in GPRP of a multi-stage system, though underlying interest function <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p9.2.m2.2"><semantics id="S4.p9.2.m2.2a"><mrow id="S4.p9.2.m2.2.3" xref="S4.p9.2.m2.2.3.cmml"><mi id="S4.p9.2.m2.2.3.2" xref="S4.p9.2.m2.2.3.2.cmml">r</mi><mo id="S4.p9.2.m2.2.3.1" xref="S4.p9.2.m2.2.3.1.cmml">⁢</mo><mrow id="S4.p9.2.m2.2.3.3.2" xref="S4.p9.2.m2.2.3.3.1.cmml"><mo id="S4.p9.2.m2.2.3.3.2.1" stretchy="false" xref="S4.p9.2.m2.2.3.3.1.cmml">(</mo><mi id="S4.p9.2.m2.1.1" xref="S4.p9.2.m2.1.1.cmml">u</mi><mo id="S4.p9.2.m2.2.3.3.2.2" xref="S4.p9.2.m2.2.3.3.1.cmml">,</mo><mi id="S4.p9.2.m2.2.2" xref="S4.p9.2.m2.2.2.cmml">v</mi><mo id="S4.p9.2.m2.2.3.3.2.3" stretchy="false" xref="S4.p9.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p9.2.m2.2b"><apply id="S4.p9.2.m2.2.3.cmml" xref="S4.p9.2.m2.2.3"><times id="S4.p9.2.m2.2.3.1.cmml" xref="S4.p9.2.m2.2.3.1"></times><ci id="S4.p9.2.m2.2.3.2.cmml" xref="S4.p9.2.m2.2.3.2">𝑟</ci><interval closure="open" id="S4.p9.2.m2.2.3.3.1.cmml" xref="S4.p9.2.m2.2.3.3.2"><ci id="S4.p9.2.m2.1.1.cmml" xref="S4.p9.2.m2.1.1">𝑢</ci><ci id="S4.p9.2.m2.2.2.cmml" xref="S4.p9.2.m2.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.2.m2.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p9.2.m2.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> is important, the selection bias of subsequent stages is also important in determining returned items, and we should consider both of them when making decisions, which will lead to better final performance according to inequality (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E4" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">4</span></a>).</p>
</div>
<div class="ltx_para" id="S4.p10">
<p class="ltx_p" id="S4.p10.2">However, it is hard to formulate random set <math alttext="\mathcal{I}^{4}(\mathcal{I}^{i})" class="ltx_Math" display="inline" id="S4.p10.1.m1.1"><semantics id="S4.p10.1.m1.1a"><mrow id="S4.p10.1.m1.1.1" xref="S4.p10.1.m1.1.1.cmml"><msup id="S4.p10.1.m1.1.1.3" xref="S4.p10.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p10.1.m1.1.1.3.2" xref="S4.p10.1.m1.1.1.3.2.cmml">ℐ</mi><mn id="S4.p10.1.m1.1.1.3.3" xref="S4.p10.1.m1.1.1.3.3.cmml">4</mn></msup><mo id="S4.p10.1.m1.1.1.2" xref="S4.p10.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.p10.1.m1.1.1.1.1" xref="S4.p10.1.m1.1.1.1.1.1.cmml"><mo id="S4.p10.1.m1.1.1.1.1.2" stretchy="false" xref="S4.p10.1.m1.1.1.1.1.1.cmml">(</mo><msup id="S4.p10.1.m1.1.1.1.1.1" xref="S4.p10.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p10.1.m1.1.1.1.1.1.2" xref="S4.p10.1.m1.1.1.1.1.1.2.cmml">ℐ</mi><mi id="S4.p10.1.m1.1.1.1.1.1.3" xref="S4.p10.1.m1.1.1.1.1.1.3.cmml">i</mi></msup><mo id="S4.p10.1.m1.1.1.1.1.3" stretchy="false" xref="S4.p10.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p10.1.m1.1b"><apply id="S4.p10.1.m1.1.1.cmml" xref="S4.p10.1.m1.1.1"><times id="S4.p10.1.m1.1.1.2.cmml" xref="S4.p10.1.m1.1.1.2"></times><apply id="S4.p10.1.m1.1.1.3.cmml" xref="S4.p10.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.p10.1.m1.1.1.3.1.cmml" xref="S4.p10.1.m1.1.1.3">superscript</csymbol><ci id="S4.p10.1.m1.1.1.3.2.cmml" xref="S4.p10.1.m1.1.1.3.2">ℐ</ci><cn id="S4.p10.1.m1.1.1.3.3.cmml" type="integer" xref="S4.p10.1.m1.1.1.3.3">4</cn></apply><apply id="S4.p10.1.m1.1.1.1.1.1.cmml" xref="S4.p10.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.p10.1.m1.1.1.1.1.1.1.cmml" xref="S4.p10.1.m1.1.1.1.1">superscript</csymbol><ci id="S4.p10.1.m1.1.1.1.1.1.2.cmml" xref="S4.p10.1.m1.1.1.1.1.1.2">ℐ</ci><ci id="S4.p10.1.m1.1.1.1.1.1.3.cmml" xref="S4.p10.1.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p10.1.m1.1c">\mathcal{I}^{4}(\mathcal{I}^{i})</annotation><annotation encoding="application/x-llamapun" id="S4.p10.1.m1.1d">caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT ( caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT )</annotation></semantics></math> given the fact that subsequent stages after stage <math alttext="i" class="ltx_Math" display="inline" id="S4.p10.2.m2.1"><semantics id="S4.p10.2.m2.1a"><mi id="S4.p10.2.m2.1.1" xref="S4.p10.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p10.2.m2.1b"><ci id="S4.p10.2.m2.1.1.cmml" xref="S4.p10.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p10.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.p10.2.m2.1d">italic_i</annotation></semantics></math> may contain both black-box algorithmic models and manual filtering strategies in practical systems, let alone solving equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>). Hence, we should consider a simplified approximation of equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>) which allows efficient algorithms. We find that PRP can be viewed as a max-min or conservative approximation of equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>) as stated in the following proposition, which suggests we can completely ignore the complex process of subsequent stages and optimize its minimal utility in the worst case scenario:</p>
</div>
<div class="ltx_theorem ltx_theorem_proposition" id="Thmproposition1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmproposition1.1.1.1">Proposition 1</span></span><span class="ltx_text ltx_font_bold" id="Thmproposition1.2.2">.</span>
</h6>
<div class="ltx_para" id="Thmproposition1.p1">
<p class="ltx_p" id="Thmproposition1.p1.1"><math alttext="\mathcal{I}^{i,PRP}" class="ltx_Math" display="inline" id="Thmproposition1.p1.1.m1.2"><semantics id="Thmproposition1.p1.1.m1.2a"><msup id="Thmproposition1.p1.1.m1.2.3" xref="Thmproposition1.p1.1.m1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmproposition1.p1.1.m1.2.3.2" xref="Thmproposition1.p1.1.m1.2.3.2.cmml">ℐ</mi><mrow id="Thmproposition1.p1.1.m1.2.2.2.2" xref="Thmproposition1.p1.1.m1.2.2.2.3.cmml"><mi id="Thmproposition1.p1.1.m1.1.1.1.1" xref="Thmproposition1.p1.1.m1.1.1.1.1.cmml">i</mi><mo id="Thmproposition1.p1.1.m1.2.2.2.2.2" xref="Thmproposition1.p1.1.m1.2.2.2.3.cmml">,</mo><mrow id="Thmproposition1.p1.1.m1.2.2.2.2.1" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.cmml"><mi id="Thmproposition1.p1.1.m1.2.2.2.2.1.2" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.2.cmml">P</mi><mo id="Thmproposition1.p1.1.m1.2.2.2.2.1.1" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="Thmproposition1.p1.1.m1.2.2.2.2.1.3" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.3.cmml">R</mi><mo id="Thmproposition1.p1.1.m1.2.2.2.2.1.1a" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="Thmproposition1.p1.1.m1.2.2.2.2.1.4" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.4.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="Thmproposition1.p1.1.m1.2b"><apply id="Thmproposition1.p1.1.m1.2.3.cmml" xref="Thmproposition1.p1.1.m1.2.3"><csymbol cd="ambiguous" id="Thmproposition1.p1.1.m1.2.3.1.cmml" xref="Thmproposition1.p1.1.m1.2.3">superscript</csymbol><ci id="Thmproposition1.p1.1.m1.2.3.2.cmml" xref="Thmproposition1.p1.1.m1.2.3.2">ℐ</ci><list id="Thmproposition1.p1.1.m1.2.2.2.3.cmml" xref="Thmproposition1.p1.1.m1.2.2.2.2"><ci id="Thmproposition1.p1.1.m1.1.1.1.1.cmml" xref="Thmproposition1.p1.1.m1.1.1.1.1">𝑖</ci><apply id="Thmproposition1.p1.1.m1.2.2.2.2.1.cmml" xref="Thmproposition1.p1.1.m1.2.2.2.2.1"><times id="Thmproposition1.p1.1.m1.2.2.2.2.1.1.cmml" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.1"></times><ci id="Thmproposition1.p1.1.m1.2.2.2.2.1.2.cmml" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.2">𝑃</ci><ci id="Thmproposition1.p1.1.m1.2.2.2.2.1.3.cmml" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.3">𝑅</ci><ci id="Thmproposition1.p1.1.m1.2.2.2.2.1.4.cmml" xref="Thmproposition1.p1.1.m1.2.2.2.2.1.4">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmproposition1.p1.1.m1.2c">\mathcal{I}^{i,PRP}</annotation><annotation encoding="application/x-llamapun" id="Thmproposition1.p1.1.m1.2d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_italic" id="Thmproposition1.p1.1.1"> defined in equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E2" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>) is also the solution to the following optimization problem:</span></p>
<table class="ltx_equation ltx_eqn_table" id="S4.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset\mathcal{I}^{i-1}}\min_{\{v_%
{k}\in\mathcal{I}^{i}|k\in[c_{4}]\}}\sum_{k=1}^{c_{4}}r(u,v_{k})" class="ltx_Math" display="block" id="S4.E5.m1.4"><semantics id="S4.E5.m1.4a"><mrow id="S4.E5.m1.4.4" xref="S4.E5.m1.4.4.cmml"><mrow id="S4.E5.m1.4.4.3" xref="S4.E5.m1.4.4.3.cmml"><munder id="S4.E5.m1.4.4.3.1" xref="S4.E5.m1.4.4.3.1.cmml"><mrow id="S4.E5.m1.4.4.3.1.2" xref="S4.E5.m1.4.4.3.1.2.cmml"><mi id="S4.E5.m1.4.4.3.1.2.1" xref="S4.E5.m1.4.4.3.1.2.1.cmml">arg</mi><mo id="S4.E5.m1.4.4.3.1.2a" xref="S4.E5.m1.4.4.3.1.2.cmml">⁡</mo><mi id="S4.E5.m1.4.4.3.1.2.2" xref="S4.E5.m1.4.4.3.1.2.2.cmml">max</mi></mrow><mrow id="S4.E5.m1.4.4.3.1.3" xref="S4.E5.m1.4.4.3.1.3.cmml"><msup id="S4.E5.m1.4.4.3.1.3.2" xref="S4.E5.m1.4.4.3.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.4.4.3.1.3.2.2" xref="S4.E5.m1.4.4.3.1.3.2.2.cmml">ℐ</mi><mi id="S4.E5.m1.4.4.3.1.3.2.3" xref="S4.E5.m1.4.4.3.1.3.2.3.cmml">i</mi></msup><mo id="S4.E5.m1.4.4.3.1.3.1" xref="S4.E5.m1.4.4.3.1.3.1.cmml">⊂</mo><msup id="S4.E5.m1.4.4.3.1.3.3" xref="S4.E5.m1.4.4.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.4.4.3.1.3.3.2" xref="S4.E5.m1.4.4.3.1.3.3.2.cmml">ℐ</mi><mrow id="S4.E5.m1.4.4.3.1.3.3.3" xref="S4.E5.m1.4.4.3.1.3.3.3.cmml"><mi id="S4.E5.m1.4.4.3.1.3.3.3.2" xref="S4.E5.m1.4.4.3.1.3.3.3.2.cmml">i</mi><mo id="S4.E5.m1.4.4.3.1.3.3.3.1" xref="S4.E5.m1.4.4.3.1.3.3.3.1.cmml">−</mo><mn id="S4.E5.m1.4.4.3.1.3.3.3.3" xref="S4.E5.m1.4.4.3.1.3.3.3.3.cmml">1</mn></mrow></msup></mrow></munder><mo id="S4.E5.m1.4.4.3a" lspace="0.167em" xref="S4.E5.m1.4.4.3.cmml">⁡</mo><munder id="S4.E5.m1.4.4.3.2" xref="S4.E5.m1.4.4.3.2.cmml"><mi id="S4.E5.m1.4.4.3.2.2" xref="S4.E5.m1.4.4.3.2.2.cmml">min</mi><mrow id="S4.E5.m1.2.2.2.2" xref="S4.E5.m1.2.2.2.3.cmml"><mo id="S4.E5.m1.2.2.2.2.3" stretchy="false" xref="S4.E5.m1.2.2.2.3.1.cmml">{</mo><mrow id="S4.E5.m1.1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.1.cmml"><msub id="S4.E5.m1.1.1.1.1.1.2" xref="S4.E5.m1.1.1.1.1.1.2.cmml"><mi id="S4.E5.m1.1.1.1.1.1.2.2" xref="S4.E5.m1.1.1.1.1.1.2.2.cmml">v</mi><mi id="S4.E5.m1.1.1.1.1.1.2.3" xref="S4.E5.m1.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="S4.E5.m1.1.1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.1.1.cmml">∈</mo><msup id="S4.E5.m1.1.1.1.1.1.3" xref="S4.E5.m1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.1.1.1.1.1.3.2" xref="S4.E5.m1.1.1.1.1.1.3.2.cmml">ℐ</mi><mi id="S4.E5.m1.1.1.1.1.1.3.3" xref="S4.E5.m1.1.1.1.1.1.3.3.cmml">i</mi></msup></mrow><mo id="S4.E5.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="S4.E5.m1.2.2.2.3.1.cmml">|</mo><mrow id="S4.E5.m1.2.2.2.2.2" xref="S4.E5.m1.2.2.2.2.2.cmml"><mi id="S4.E5.m1.2.2.2.2.2.3" xref="S4.E5.m1.2.2.2.2.2.3.cmml">k</mi><mo id="S4.E5.m1.2.2.2.2.2.2" xref="S4.E5.m1.2.2.2.2.2.2.cmml">∈</mo><mrow id="S4.E5.m1.2.2.2.2.2.1.1" xref="S4.E5.m1.2.2.2.2.2.1.2.cmml"><mo id="S4.E5.m1.2.2.2.2.2.1.1.2" stretchy="false" xref="S4.E5.m1.2.2.2.2.2.1.2.1.cmml">[</mo><msub id="S4.E5.m1.2.2.2.2.2.1.1.1" xref="S4.E5.m1.2.2.2.2.2.1.1.1.cmml"><mi id="S4.E5.m1.2.2.2.2.2.1.1.1.2" xref="S4.E5.m1.2.2.2.2.2.1.1.1.2.cmml">c</mi><mn id="S4.E5.m1.2.2.2.2.2.1.1.1.3" xref="S4.E5.m1.2.2.2.2.2.1.1.1.3.cmml">4</mn></msub><mo id="S4.E5.m1.2.2.2.2.2.1.1.3" stretchy="false" xref="S4.E5.m1.2.2.2.2.2.1.2.1.cmml">]</mo></mrow></mrow><mo id="S4.E5.m1.2.2.2.2.5" stretchy="false" xref="S4.E5.m1.2.2.2.3.1.cmml">}</mo></mrow></munder></mrow><mo id="S4.E5.m1.4.4.2" xref="S4.E5.m1.4.4.2.cmml">⁢</mo><mrow id="S4.E5.m1.4.4.1" xref="S4.E5.m1.4.4.1.cmml"><munderover id="S4.E5.m1.4.4.1.2" xref="S4.E5.m1.4.4.1.2.cmml"><mo id="S4.E5.m1.4.4.1.2.2.2" movablelimits="false" xref="S4.E5.m1.4.4.1.2.2.2.cmml">∑</mo><mrow id="S4.E5.m1.4.4.1.2.2.3" xref="S4.E5.m1.4.4.1.2.2.3.cmml"><mi id="S4.E5.m1.4.4.1.2.2.3.2" xref="S4.E5.m1.4.4.1.2.2.3.2.cmml">k</mi><mo id="S4.E5.m1.4.4.1.2.2.3.1" xref="S4.E5.m1.4.4.1.2.2.3.1.cmml">=</mo><mn id="S4.E5.m1.4.4.1.2.2.3.3" xref="S4.E5.m1.4.4.1.2.2.3.3.cmml">1</mn></mrow><msub id="S4.E5.m1.4.4.1.2.3" xref="S4.E5.m1.4.4.1.2.3.cmml"><mi id="S4.E5.m1.4.4.1.2.3.2" xref="S4.E5.m1.4.4.1.2.3.2.cmml">c</mi><mn id="S4.E5.m1.4.4.1.2.3.3" xref="S4.E5.m1.4.4.1.2.3.3.cmml">4</mn></msub></munderover><mrow id="S4.E5.m1.4.4.1.1" xref="S4.E5.m1.4.4.1.1.cmml"><mi id="S4.E5.m1.4.4.1.1.3" xref="S4.E5.m1.4.4.1.1.3.cmml">r</mi><mo id="S4.E5.m1.4.4.1.1.2" xref="S4.E5.m1.4.4.1.1.2.cmml">⁢</mo><mrow id="S4.E5.m1.4.4.1.1.1.1" xref="S4.E5.m1.4.4.1.1.1.2.cmml"><mo id="S4.E5.m1.4.4.1.1.1.1.2" stretchy="false" xref="S4.E5.m1.4.4.1.1.1.2.cmml">(</mo><mi id="S4.E5.m1.3.3" xref="S4.E5.m1.3.3.cmml">u</mi><mo id="S4.E5.m1.4.4.1.1.1.1.3" xref="S4.E5.m1.4.4.1.1.1.2.cmml">,</mo><msub id="S4.E5.m1.4.4.1.1.1.1.1" xref="S4.E5.m1.4.4.1.1.1.1.1.cmml"><mi id="S4.E5.m1.4.4.1.1.1.1.1.2" xref="S4.E5.m1.4.4.1.1.1.1.1.2.cmml">v</mi><mi id="S4.E5.m1.4.4.1.1.1.1.1.3" xref="S4.E5.m1.4.4.1.1.1.1.1.3.cmml">k</mi></msub><mo id="S4.E5.m1.4.4.1.1.1.1.4" stretchy="false" xref="S4.E5.m1.4.4.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E5.m1.4b"><apply id="S4.E5.m1.4.4.cmml" xref="S4.E5.m1.4.4"><times id="S4.E5.m1.4.4.2.cmml" xref="S4.E5.m1.4.4.2"></times><apply id="S4.E5.m1.4.4.3.cmml" xref="S4.E5.m1.4.4.3"><apply id="S4.E5.m1.4.4.3.1.cmml" xref="S4.E5.m1.4.4.3.1"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.3.1.1.cmml" xref="S4.E5.m1.4.4.3.1">subscript</csymbol><apply id="S4.E5.m1.4.4.3.1.2.cmml" xref="S4.E5.m1.4.4.3.1.2"><arg id="S4.E5.m1.4.4.3.1.2.1.cmml" xref="S4.E5.m1.4.4.3.1.2.1"></arg><max id="S4.E5.m1.4.4.3.1.2.2.cmml" xref="S4.E5.m1.4.4.3.1.2.2"></max></apply><apply id="S4.E5.m1.4.4.3.1.3.cmml" xref="S4.E5.m1.4.4.3.1.3"><subset id="S4.E5.m1.4.4.3.1.3.1.cmml" xref="S4.E5.m1.4.4.3.1.3.1"></subset><apply id="S4.E5.m1.4.4.3.1.3.2.cmml" xref="S4.E5.m1.4.4.3.1.3.2"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.3.1.3.2.1.cmml" xref="S4.E5.m1.4.4.3.1.3.2">superscript</csymbol><ci id="S4.E5.m1.4.4.3.1.3.2.2.cmml" xref="S4.E5.m1.4.4.3.1.3.2.2">ℐ</ci><ci id="S4.E5.m1.4.4.3.1.3.2.3.cmml" xref="S4.E5.m1.4.4.3.1.3.2.3">𝑖</ci></apply><apply id="S4.E5.m1.4.4.3.1.3.3.cmml" xref="S4.E5.m1.4.4.3.1.3.3"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.3.1.3.3.1.cmml" xref="S4.E5.m1.4.4.3.1.3.3">superscript</csymbol><ci id="S4.E5.m1.4.4.3.1.3.3.2.cmml" xref="S4.E5.m1.4.4.3.1.3.3.2">ℐ</ci><apply id="S4.E5.m1.4.4.3.1.3.3.3.cmml" xref="S4.E5.m1.4.4.3.1.3.3.3"><minus id="S4.E5.m1.4.4.3.1.3.3.3.1.cmml" xref="S4.E5.m1.4.4.3.1.3.3.3.1"></minus><ci id="S4.E5.m1.4.4.3.1.3.3.3.2.cmml" xref="S4.E5.m1.4.4.3.1.3.3.3.2">𝑖</ci><cn id="S4.E5.m1.4.4.3.1.3.3.3.3.cmml" type="integer" xref="S4.E5.m1.4.4.3.1.3.3.3.3">1</cn></apply></apply></apply></apply><apply id="S4.E5.m1.4.4.3.2.cmml" xref="S4.E5.m1.4.4.3.2"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.3.2.1.cmml" xref="S4.E5.m1.4.4.3.2">subscript</csymbol><min id="S4.E5.m1.4.4.3.2.2.cmml" xref="S4.E5.m1.4.4.3.2.2"></min><apply id="S4.E5.m1.2.2.2.3.cmml" xref="S4.E5.m1.2.2.2.2"><csymbol cd="latexml" id="S4.E5.m1.2.2.2.3.1.cmml" xref="S4.E5.m1.2.2.2.2.3">conditional-set</csymbol><apply id="S4.E5.m1.1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1.1"><in id="S4.E5.m1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1.1.1"></in><apply id="S4.E5.m1.1.1.1.1.1.2.cmml" xref="S4.E5.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E5.m1.1.1.1.1.1.2.1.cmml" xref="S4.E5.m1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.E5.m1.1.1.1.1.1.2.2.cmml" xref="S4.E5.m1.1.1.1.1.1.2.2">𝑣</ci><ci id="S4.E5.m1.1.1.1.1.1.2.3.cmml" xref="S4.E5.m1.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="S4.E5.m1.1.1.1.1.1.3.cmml" xref="S4.E5.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E5.m1.1.1.1.1.1.3.1.cmml" xref="S4.E5.m1.1.1.1.1.1.3">superscript</csymbol><ci id="S4.E5.m1.1.1.1.1.1.3.2.cmml" xref="S4.E5.m1.1.1.1.1.1.3.2">ℐ</ci><ci id="S4.E5.m1.1.1.1.1.1.3.3.cmml" xref="S4.E5.m1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><apply id="S4.E5.m1.2.2.2.2.2.cmml" xref="S4.E5.m1.2.2.2.2.2"><in id="S4.E5.m1.2.2.2.2.2.2.cmml" xref="S4.E5.m1.2.2.2.2.2.2"></in><ci id="S4.E5.m1.2.2.2.2.2.3.cmml" xref="S4.E5.m1.2.2.2.2.2.3">𝑘</ci><apply id="S4.E5.m1.2.2.2.2.2.1.2.cmml" xref="S4.E5.m1.2.2.2.2.2.1.1"><csymbol cd="latexml" id="S4.E5.m1.2.2.2.2.2.1.2.1.cmml" xref="S4.E5.m1.2.2.2.2.2.1.1.2">delimited-[]</csymbol><apply id="S4.E5.m1.2.2.2.2.2.1.1.1.cmml" xref="S4.E5.m1.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E5.m1.2.2.2.2.2.1.1.1.1.cmml" xref="S4.E5.m1.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="S4.E5.m1.2.2.2.2.2.1.1.1.2.cmml" xref="S4.E5.m1.2.2.2.2.2.1.1.1.2">𝑐</ci><cn id="S4.E5.m1.2.2.2.2.2.1.1.1.3.cmml" type="integer" xref="S4.E5.m1.2.2.2.2.2.1.1.1.3">4</cn></apply></apply></apply></apply></apply></apply><apply id="S4.E5.m1.4.4.1.cmml" xref="S4.E5.m1.4.4.1"><apply id="S4.E5.m1.4.4.1.2.cmml" xref="S4.E5.m1.4.4.1.2"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.1.2.1.cmml" xref="S4.E5.m1.4.4.1.2">superscript</csymbol><apply id="S4.E5.m1.4.4.1.2.2.cmml" xref="S4.E5.m1.4.4.1.2"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.1.2.2.1.cmml" xref="S4.E5.m1.4.4.1.2">subscript</csymbol><sum id="S4.E5.m1.4.4.1.2.2.2.cmml" xref="S4.E5.m1.4.4.1.2.2.2"></sum><apply id="S4.E5.m1.4.4.1.2.2.3.cmml" xref="S4.E5.m1.4.4.1.2.2.3"><eq id="S4.E5.m1.4.4.1.2.2.3.1.cmml" xref="S4.E5.m1.4.4.1.2.2.3.1"></eq><ci id="S4.E5.m1.4.4.1.2.2.3.2.cmml" xref="S4.E5.m1.4.4.1.2.2.3.2">𝑘</ci><cn id="S4.E5.m1.4.4.1.2.2.3.3.cmml" type="integer" xref="S4.E5.m1.4.4.1.2.2.3.3">1</cn></apply></apply><apply id="S4.E5.m1.4.4.1.2.3.cmml" xref="S4.E5.m1.4.4.1.2.3"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.1.2.3.1.cmml" xref="S4.E5.m1.4.4.1.2.3">subscript</csymbol><ci id="S4.E5.m1.4.4.1.2.3.2.cmml" xref="S4.E5.m1.4.4.1.2.3.2">𝑐</ci><cn id="S4.E5.m1.4.4.1.2.3.3.cmml" type="integer" xref="S4.E5.m1.4.4.1.2.3.3">4</cn></apply></apply><apply id="S4.E5.m1.4.4.1.1.cmml" xref="S4.E5.m1.4.4.1.1"><times id="S4.E5.m1.4.4.1.1.2.cmml" xref="S4.E5.m1.4.4.1.1.2"></times><ci id="S4.E5.m1.4.4.1.1.3.cmml" xref="S4.E5.m1.4.4.1.1.3">𝑟</ci><interval closure="open" id="S4.E5.m1.4.4.1.1.1.2.cmml" xref="S4.E5.m1.4.4.1.1.1.1"><ci id="S4.E5.m1.3.3.cmml" xref="S4.E5.m1.3.3">𝑢</ci><apply id="S4.E5.m1.4.4.1.1.1.1.1.cmml" xref="S4.E5.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E5.m1.4.4.1.1.1.1.1.1.cmml" xref="S4.E5.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="S4.E5.m1.4.4.1.1.1.1.1.2.cmml" xref="S4.E5.m1.4.4.1.1.1.1.1.2">𝑣</ci><ci id="S4.E5.m1.4.4.1.1.1.1.1.3.cmml" xref="S4.E5.m1.4.4.1.1.1.1.1.3">𝑘</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.4c">\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset\mathcal{I}^{i-1}}\min_{\{v_%
{k}\in\mathcal{I}^{i}|k\in[c_{4}]\}}\sum_{k=1}^{c_{4}}r(u,v_{k})</annotation><annotation encoding="application/x-llamapun" id="S4.E5.m1.4d">start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ⊂ caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT end_POSTSUBSCRIPT roman_min start_POSTSUBSCRIPT { italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∈ caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT | italic_k ∈ [ italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT ] } end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT end_POSTSUPERSCRIPT italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_para" id="S4.p11">
<p class="ltx_p" id="S4.p11.1">Because of space limitations, all the proof details are presented in the appendix.</p>
</div>
<div class="ltx_para" id="S4.p12">
<p class="ltx_p" id="S4.p12.1">We are interested in studying the gap between the final utility from PRP and GPRP, which is defined as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbf{E}[\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i,GPRP})}r(u,v)]-\mathbf{E}[%
\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i,PRP})}r(u,v)]" class="ltx_Math" display="block" id="S4.E6.m1.12"><semantics id="S4.E6.m1.12a"><mrow id="S4.E6.m1.12.12" xref="S4.E6.m1.12.12.cmml"><mrow id="S4.E6.m1.11.11.1" xref="S4.E6.m1.11.11.1.cmml"><mi id="S4.E6.m1.11.11.1.3" xref="S4.E6.m1.11.11.1.3.cmml">𝐄</mi><mo id="S4.E6.m1.11.11.1.2" xref="S4.E6.m1.11.11.1.2.cmml">⁢</mo><mrow id="S4.E6.m1.11.11.1.1.1" xref="S4.E6.m1.11.11.1.1.2.cmml"><mo id="S4.E6.m1.11.11.1.1.1.2" stretchy="false" xref="S4.E6.m1.11.11.1.1.2.1.cmml">[</mo><mrow id="S4.E6.m1.11.11.1.1.1.1" xref="S4.E6.m1.11.11.1.1.1.1.cmml"><munder id="S4.E6.m1.11.11.1.1.1.1.1" xref="S4.E6.m1.11.11.1.1.1.1.1.cmml"><mo id="S4.E6.m1.11.11.1.1.1.1.1.2" lspace="0em" movablelimits="false" xref="S4.E6.m1.11.11.1.1.1.1.1.2.cmml">∑</mo><mrow id="S4.E6.m1.3.3.3" xref="S4.E6.m1.3.3.3.cmml"><mi id="S4.E6.m1.3.3.3.5" xref="S4.E6.m1.3.3.3.5.cmml">v</mi><mo id="S4.E6.m1.3.3.3.4" xref="S4.E6.m1.3.3.3.4.cmml">∈</mo><mrow id="S4.E6.m1.3.3.3.3" xref="S4.E6.m1.3.3.3.3.cmml"><msup id="S4.E6.m1.3.3.3.3.3" xref="S4.E6.m1.3.3.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.3.3.3.3.3.2" xref="S4.E6.m1.3.3.3.3.3.2.cmml">ℐ</mi><mn id="S4.E6.m1.3.3.3.3.3.3" xref="S4.E6.m1.3.3.3.3.3.3.cmml">4</mn></msup><mo id="S4.E6.m1.3.3.3.3.2" xref="S4.E6.m1.3.3.3.3.2.cmml">⁢</mo><mrow id="S4.E6.m1.3.3.3.3.1.1" xref="S4.E6.m1.3.3.3.3.1.1.1.cmml"><mo id="S4.E6.m1.3.3.3.3.1.1.2" stretchy="false" xref="S4.E6.m1.3.3.3.3.1.1.1.cmml">(</mo><msup id="S4.E6.m1.3.3.3.3.1.1.1" xref="S4.E6.m1.3.3.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.3.3.3.3.1.1.1.2" xref="S4.E6.m1.3.3.3.3.1.1.1.2.cmml">ℐ</mi><mrow id="S4.E6.m1.2.2.2.2.2.2" xref="S4.E6.m1.2.2.2.2.2.3.cmml"><mi id="S4.E6.m1.1.1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.1.1.cmml">i</mi><mo id="S4.E6.m1.2.2.2.2.2.2.2" xref="S4.E6.m1.2.2.2.2.2.3.cmml">,</mo><mrow id="S4.E6.m1.2.2.2.2.2.2.1" xref="S4.E6.m1.2.2.2.2.2.2.1.cmml"><mi id="S4.E6.m1.2.2.2.2.2.2.1.2" xref="S4.E6.m1.2.2.2.2.2.2.1.2.cmml">G</mi><mo id="S4.E6.m1.2.2.2.2.2.2.1.1" xref="S4.E6.m1.2.2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.2.2.2.2.1.3" xref="S4.E6.m1.2.2.2.2.2.2.1.3.cmml">P</mi><mo id="S4.E6.m1.2.2.2.2.2.2.1.1a" xref="S4.E6.m1.2.2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.2.2.2.2.1.4" xref="S4.E6.m1.2.2.2.2.2.2.1.4.cmml">R</mi><mo id="S4.E6.m1.2.2.2.2.2.2.1.1b" xref="S4.E6.m1.2.2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E6.m1.2.2.2.2.2.2.1.5" xref="S4.E6.m1.2.2.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><mo id="S4.E6.m1.3.3.3.3.1.1.3" stretchy="false" xref="S4.E6.m1.3.3.3.3.1.1.1.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S4.E6.m1.11.11.1.1.1.1.2" xref="S4.E6.m1.11.11.1.1.1.1.2.cmml"><mi id="S4.E6.m1.11.11.1.1.1.1.2.2" xref="S4.E6.m1.11.11.1.1.1.1.2.2.cmml">r</mi><mo id="S4.E6.m1.11.11.1.1.1.1.2.1" xref="S4.E6.m1.11.11.1.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.E6.m1.11.11.1.1.1.1.2.3.2" xref="S4.E6.m1.11.11.1.1.1.1.2.3.1.cmml"><mo id="S4.E6.m1.11.11.1.1.1.1.2.3.2.1" stretchy="false" xref="S4.E6.m1.11.11.1.1.1.1.2.3.1.cmml">(</mo><mi id="S4.E6.m1.7.7" xref="S4.E6.m1.7.7.cmml">u</mi><mo id="S4.E6.m1.11.11.1.1.1.1.2.3.2.2" xref="S4.E6.m1.11.11.1.1.1.1.2.3.1.cmml">,</mo><mi id="S4.E6.m1.8.8" xref="S4.E6.m1.8.8.cmml">v</mi><mo id="S4.E6.m1.11.11.1.1.1.1.2.3.2.3" stretchy="false" xref="S4.E6.m1.11.11.1.1.1.1.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E6.m1.11.11.1.1.1.3" stretchy="false" xref="S4.E6.m1.11.11.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S4.E6.m1.12.12.3" xref="S4.E6.m1.12.12.3.cmml">−</mo><mrow id="S4.E6.m1.12.12.2" xref="S4.E6.m1.12.12.2.cmml"><mi id="S4.E6.m1.12.12.2.3" xref="S4.E6.m1.12.12.2.3.cmml">𝐄</mi><mo id="S4.E6.m1.12.12.2.2" xref="S4.E6.m1.12.12.2.2.cmml">⁢</mo><mrow id="S4.E6.m1.12.12.2.1.1" xref="S4.E6.m1.12.12.2.1.2.cmml"><mo id="S4.E6.m1.12.12.2.1.1.2" stretchy="false" xref="S4.E6.m1.12.12.2.1.2.1.cmml">[</mo><mrow id="S4.E6.m1.12.12.2.1.1.1" xref="S4.E6.m1.12.12.2.1.1.1.cmml"><munder id="S4.E6.m1.12.12.2.1.1.1.1" xref="S4.E6.m1.12.12.2.1.1.1.1.cmml"><mo id="S4.E6.m1.12.12.2.1.1.1.1.2" lspace="0em" movablelimits="false" xref="S4.E6.m1.12.12.2.1.1.1.1.2.cmml">∑</mo><mrow id="S4.E6.m1.6.6.3" xref="S4.E6.m1.6.6.3.cmml"><mi id="S4.E6.m1.6.6.3.5" xref="S4.E6.m1.6.6.3.5.cmml">v</mi><mo id="S4.E6.m1.6.6.3.4" xref="S4.E6.m1.6.6.3.4.cmml">∈</mo><mrow id="S4.E6.m1.6.6.3.3" xref="S4.E6.m1.6.6.3.3.cmml"><msup id="S4.E6.m1.6.6.3.3.3" xref="S4.E6.m1.6.6.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.6.6.3.3.3.2" xref="S4.E6.m1.6.6.3.3.3.2.cmml">ℐ</mi><mn id="S4.E6.m1.6.6.3.3.3.3" xref="S4.E6.m1.6.6.3.3.3.3.cmml">4</mn></msup><mo id="S4.E6.m1.6.6.3.3.2" xref="S4.E6.m1.6.6.3.3.2.cmml">⁢</mo><mrow id="S4.E6.m1.6.6.3.3.1.1" xref="S4.E6.m1.6.6.3.3.1.1.1.cmml"><mo id="S4.E6.m1.6.6.3.3.1.1.2" stretchy="false" xref="S4.E6.m1.6.6.3.3.1.1.1.cmml">(</mo><msup id="S4.E6.m1.6.6.3.3.1.1.1" xref="S4.E6.m1.6.6.3.3.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E6.m1.6.6.3.3.1.1.1.2" xref="S4.E6.m1.6.6.3.3.1.1.1.2.cmml">ℐ</mi><mrow id="S4.E6.m1.5.5.2.2.2.2" xref="S4.E6.m1.5.5.2.2.2.3.cmml"><mi id="S4.E6.m1.4.4.1.1.1.1" xref="S4.E6.m1.4.4.1.1.1.1.cmml">i</mi><mo id="S4.E6.m1.5.5.2.2.2.2.2" xref="S4.E6.m1.5.5.2.2.2.3.cmml">,</mo><mrow id="S4.E6.m1.5.5.2.2.2.2.1" xref="S4.E6.m1.5.5.2.2.2.2.1.cmml"><mi id="S4.E6.m1.5.5.2.2.2.2.1.2" xref="S4.E6.m1.5.5.2.2.2.2.1.2.cmml">P</mi><mo id="S4.E6.m1.5.5.2.2.2.2.1.1" xref="S4.E6.m1.5.5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E6.m1.5.5.2.2.2.2.1.3" xref="S4.E6.m1.5.5.2.2.2.2.1.3.cmml">R</mi><mo id="S4.E6.m1.5.5.2.2.2.2.1.1a" xref="S4.E6.m1.5.5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E6.m1.5.5.2.2.2.2.1.4" xref="S4.E6.m1.5.5.2.2.2.2.1.4.cmml">P</mi></mrow></mrow></msup><mo id="S4.E6.m1.6.6.3.3.1.1.3" stretchy="false" xref="S4.E6.m1.6.6.3.3.1.1.1.cmml">)</mo></mrow></mrow></mrow></munder><mrow id="S4.E6.m1.12.12.2.1.1.1.2" xref="S4.E6.m1.12.12.2.1.1.1.2.cmml"><mi id="S4.E6.m1.12.12.2.1.1.1.2.2" xref="S4.E6.m1.12.12.2.1.1.1.2.2.cmml">r</mi><mo id="S4.E6.m1.12.12.2.1.1.1.2.1" xref="S4.E6.m1.12.12.2.1.1.1.2.1.cmml">⁢</mo><mrow id="S4.E6.m1.12.12.2.1.1.1.2.3.2" xref="S4.E6.m1.12.12.2.1.1.1.2.3.1.cmml"><mo id="S4.E6.m1.12.12.2.1.1.1.2.3.2.1" stretchy="false" xref="S4.E6.m1.12.12.2.1.1.1.2.3.1.cmml">(</mo><mi id="S4.E6.m1.9.9" xref="S4.E6.m1.9.9.cmml">u</mi><mo id="S4.E6.m1.12.12.2.1.1.1.2.3.2.2" xref="S4.E6.m1.12.12.2.1.1.1.2.3.1.cmml">,</mo><mi id="S4.E6.m1.10.10" xref="S4.E6.m1.10.10.cmml">v</mi><mo id="S4.E6.m1.12.12.2.1.1.1.2.3.2.3" stretchy="false" xref="S4.E6.m1.12.12.2.1.1.1.2.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E6.m1.12.12.2.1.1.3" stretchy="false" xref="S4.E6.m1.12.12.2.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.12b"><apply id="S4.E6.m1.12.12.cmml" xref="S4.E6.m1.12.12"><minus id="S4.E6.m1.12.12.3.cmml" xref="S4.E6.m1.12.12.3"></minus><apply id="S4.E6.m1.11.11.1.cmml" xref="S4.E6.m1.11.11.1"><times id="S4.E6.m1.11.11.1.2.cmml" xref="S4.E6.m1.11.11.1.2"></times><ci id="S4.E6.m1.11.11.1.3.cmml" xref="S4.E6.m1.11.11.1.3">𝐄</ci><apply id="S4.E6.m1.11.11.1.1.2.cmml" xref="S4.E6.m1.11.11.1.1.1"><csymbol cd="latexml" id="S4.E6.m1.11.11.1.1.2.1.cmml" xref="S4.E6.m1.11.11.1.1.1.2">delimited-[]</csymbol><apply id="S4.E6.m1.11.11.1.1.1.1.cmml" xref="S4.E6.m1.11.11.1.1.1.1"><apply id="S4.E6.m1.11.11.1.1.1.1.1.cmml" xref="S4.E6.m1.11.11.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.11.11.1.1.1.1.1.1.cmml" xref="S4.E6.m1.11.11.1.1.1.1.1">subscript</csymbol><sum id="S4.E6.m1.11.11.1.1.1.1.1.2.cmml" xref="S4.E6.m1.11.11.1.1.1.1.1.2"></sum><apply id="S4.E6.m1.3.3.3.cmml" xref="S4.E6.m1.3.3.3"><in id="S4.E6.m1.3.3.3.4.cmml" xref="S4.E6.m1.3.3.3.4"></in><ci id="S4.E6.m1.3.3.3.5.cmml" xref="S4.E6.m1.3.3.3.5">𝑣</ci><apply id="S4.E6.m1.3.3.3.3.cmml" xref="S4.E6.m1.3.3.3.3"><times id="S4.E6.m1.3.3.3.3.2.cmml" xref="S4.E6.m1.3.3.3.3.2"></times><apply id="S4.E6.m1.3.3.3.3.3.cmml" xref="S4.E6.m1.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.E6.m1.3.3.3.3.3.1.cmml" xref="S4.E6.m1.3.3.3.3.3">superscript</csymbol><ci id="S4.E6.m1.3.3.3.3.3.2.cmml" xref="S4.E6.m1.3.3.3.3.3.2">ℐ</ci><cn id="S4.E6.m1.3.3.3.3.3.3.cmml" type="integer" xref="S4.E6.m1.3.3.3.3.3.3">4</cn></apply><apply id="S4.E6.m1.3.3.3.3.1.1.1.cmml" xref="S4.E6.m1.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.3.3.3.3.1.1.1.1.cmml" xref="S4.E6.m1.3.3.3.3.1.1">superscript</csymbol><ci id="S4.E6.m1.3.3.3.3.1.1.1.2.cmml" xref="S4.E6.m1.3.3.3.3.1.1.1.2">ℐ</ci><list id="S4.E6.m1.2.2.2.2.2.3.cmml" xref="S4.E6.m1.2.2.2.2.2.2"><ci id="S4.E6.m1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1.1.1">𝑖</ci><apply id="S4.E6.m1.2.2.2.2.2.2.1.cmml" xref="S4.E6.m1.2.2.2.2.2.2.1"><times id="S4.E6.m1.2.2.2.2.2.2.1.1.cmml" xref="S4.E6.m1.2.2.2.2.2.2.1.1"></times><ci id="S4.E6.m1.2.2.2.2.2.2.1.2.cmml" xref="S4.E6.m1.2.2.2.2.2.2.1.2">𝐺</ci><ci id="S4.E6.m1.2.2.2.2.2.2.1.3.cmml" xref="S4.E6.m1.2.2.2.2.2.2.1.3">𝑃</ci><ci id="S4.E6.m1.2.2.2.2.2.2.1.4.cmml" xref="S4.E6.m1.2.2.2.2.2.2.1.4">𝑅</ci><ci id="S4.E6.m1.2.2.2.2.2.2.1.5.cmml" xref="S4.E6.m1.2.2.2.2.2.2.1.5">𝑃</ci></apply></list></apply></apply></apply></apply><apply id="S4.E6.m1.11.11.1.1.1.1.2.cmml" xref="S4.E6.m1.11.11.1.1.1.1.2"><times id="S4.E6.m1.11.11.1.1.1.1.2.1.cmml" xref="S4.E6.m1.11.11.1.1.1.1.2.1"></times><ci id="S4.E6.m1.11.11.1.1.1.1.2.2.cmml" xref="S4.E6.m1.11.11.1.1.1.1.2.2">𝑟</ci><interval closure="open" id="S4.E6.m1.11.11.1.1.1.1.2.3.1.cmml" xref="S4.E6.m1.11.11.1.1.1.1.2.3.2"><ci id="S4.E6.m1.7.7.cmml" xref="S4.E6.m1.7.7">𝑢</ci><ci id="S4.E6.m1.8.8.cmml" xref="S4.E6.m1.8.8">𝑣</ci></interval></apply></apply></apply></apply><apply id="S4.E6.m1.12.12.2.cmml" xref="S4.E6.m1.12.12.2"><times id="S4.E6.m1.12.12.2.2.cmml" xref="S4.E6.m1.12.12.2.2"></times><ci id="S4.E6.m1.12.12.2.3.cmml" xref="S4.E6.m1.12.12.2.3">𝐄</ci><apply id="S4.E6.m1.12.12.2.1.2.cmml" xref="S4.E6.m1.12.12.2.1.1"><csymbol cd="latexml" id="S4.E6.m1.12.12.2.1.2.1.cmml" xref="S4.E6.m1.12.12.2.1.1.2">delimited-[]</csymbol><apply id="S4.E6.m1.12.12.2.1.1.1.cmml" xref="S4.E6.m1.12.12.2.1.1.1"><apply id="S4.E6.m1.12.12.2.1.1.1.1.cmml" xref="S4.E6.m1.12.12.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.12.12.2.1.1.1.1.1.cmml" xref="S4.E6.m1.12.12.2.1.1.1.1">subscript</csymbol><sum id="S4.E6.m1.12.12.2.1.1.1.1.2.cmml" xref="S4.E6.m1.12.12.2.1.1.1.1.2"></sum><apply id="S4.E6.m1.6.6.3.cmml" xref="S4.E6.m1.6.6.3"><in id="S4.E6.m1.6.6.3.4.cmml" xref="S4.E6.m1.6.6.3.4"></in><ci id="S4.E6.m1.6.6.3.5.cmml" xref="S4.E6.m1.6.6.3.5">𝑣</ci><apply id="S4.E6.m1.6.6.3.3.cmml" xref="S4.E6.m1.6.6.3.3"><times id="S4.E6.m1.6.6.3.3.2.cmml" xref="S4.E6.m1.6.6.3.3.2"></times><apply id="S4.E6.m1.6.6.3.3.3.cmml" xref="S4.E6.m1.6.6.3.3.3"><csymbol cd="ambiguous" id="S4.E6.m1.6.6.3.3.3.1.cmml" xref="S4.E6.m1.6.6.3.3.3">superscript</csymbol><ci id="S4.E6.m1.6.6.3.3.3.2.cmml" xref="S4.E6.m1.6.6.3.3.3.2">ℐ</ci><cn id="S4.E6.m1.6.6.3.3.3.3.cmml" type="integer" xref="S4.E6.m1.6.6.3.3.3.3">4</cn></apply><apply id="S4.E6.m1.6.6.3.3.1.1.1.cmml" xref="S4.E6.m1.6.6.3.3.1.1"><csymbol cd="ambiguous" id="S4.E6.m1.6.6.3.3.1.1.1.1.cmml" xref="S4.E6.m1.6.6.3.3.1.1">superscript</csymbol><ci id="S4.E6.m1.6.6.3.3.1.1.1.2.cmml" xref="S4.E6.m1.6.6.3.3.1.1.1.2">ℐ</ci><list id="S4.E6.m1.5.5.2.2.2.3.cmml" xref="S4.E6.m1.5.5.2.2.2.2"><ci id="S4.E6.m1.4.4.1.1.1.1.cmml" xref="S4.E6.m1.4.4.1.1.1.1">𝑖</ci><apply id="S4.E6.m1.5.5.2.2.2.2.1.cmml" xref="S4.E6.m1.5.5.2.2.2.2.1"><times id="S4.E6.m1.5.5.2.2.2.2.1.1.cmml" xref="S4.E6.m1.5.5.2.2.2.2.1.1"></times><ci id="S4.E6.m1.5.5.2.2.2.2.1.2.cmml" xref="S4.E6.m1.5.5.2.2.2.2.1.2">𝑃</ci><ci id="S4.E6.m1.5.5.2.2.2.2.1.3.cmml" xref="S4.E6.m1.5.5.2.2.2.2.1.3">𝑅</ci><ci id="S4.E6.m1.5.5.2.2.2.2.1.4.cmml" xref="S4.E6.m1.5.5.2.2.2.2.1.4">𝑃</ci></apply></list></apply></apply></apply></apply><apply id="S4.E6.m1.12.12.2.1.1.1.2.cmml" xref="S4.E6.m1.12.12.2.1.1.1.2"><times id="S4.E6.m1.12.12.2.1.1.1.2.1.cmml" xref="S4.E6.m1.12.12.2.1.1.1.2.1"></times><ci id="S4.E6.m1.12.12.2.1.1.1.2.2.cmml" xref="S4.E6.m1.12.12.2.1.1.1.2.2">𝑟</ci><interval closure="open" id="S4.E6.m1.12.12.2.1.1.1.2.3.1.cmml" xref="S4.E6.m1.12.12.2.1.1.1.2.3.2"><ci id="S4.E6.m1.9.9.cmml" xref="S4.E6.m1.9.9">𝑢</ci><ci id="S4.E6.m1.10.10.cmml" xref="S4.E6.m1.10.10">𝑣</ci></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.12c">\mathbf{E}[\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i,GPRP})}r(u,v)]-\mathbf{E}[%
\sum_{v\in\mathcal{I}^{4}(\mathcal{I}^{i,PRP})}r(u,v)]</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.12d">bold_E [ ∑ start_POSTSUBSCRIPT italic_v ∈ caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT ( caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT ) end_POSTSUBSCRIPT italic_r ( italic_u , italic_v ) ] - bold_E [ ∑ start_POSTSUBSCRIPT italic_v ∈ caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT ( caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT ) end_POSTSUBSCRIPT italic_r ( italic_u , italic_v ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.p13">
<p class="ltx_p" id="S4.p13.1">Apparently, when the system has only one stage or in the last stage of a multi-stage system, there are no subsequent stages, and the returned item set can be exposed to uses, hence GPRP degrades to PRP and the performance gap (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E6" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">6</span></a>) is 0. But we find the gap can be large in a non-final stage of a multi-stage system in the worst case without any assumption, as stated in the following proposition:</p>
</div>
<div class="ltx_theorem ltx_theorem_proposition" id="Thmproposition2">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmproposition2.1.1.1">Proposition 2</span></span><span class="ltx_text ltx_font_bold" id="Thmproposition2.2.2">.</span>
</h6>
<div class="ltx_para" id="Thmproposition2.p1">
<p class="ltx_p" id="Thmproposition2.p1.1"><span class="ltx_text ltx_font_italic" id="Thmproposition2.p1.1.1">The performance gap (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E6" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">6</span></a>) between PRP and GPRP can be <math alttext="c_{4}" class="ltx_Math" display="inline" id="Thmproposition2.p1.1.1.m1.1"><semantics id="Thmproposition2.p1.1.1.m1.1a"><msub id="Thmproposition2.p1.1.1.m1.1.1" xref="Thmproposition2.p1.1.1.m1.1.1.cmml"><mi id="Thmproposition2.p1.1.1.m1.1.1.2" xref="Thmproposition2.p1.1.1.m1.1.1.2.cmml">c</mi><mn id="Thmproposition2.p1.1.1.m1.1.1.3" xref="Thmproposition2.p1.1.1.m1.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="Thmproposition2.p1.1.1.m1.1b"><apply id="Thmproposition2.p1.1.1.m1.1.1.cmml" xref="Thmproposition2.p1.1.1.m1.1.1"><csymbol cd="ambiguous" id="Thmproposition2.p1.1.1.m1.1.1.1.cmml" xref="Thmproposition2.p1.1.1.m1.1.1">subscript</csymbol><ci id="Thmproposition2.p1.1.1.m1.1.1.2.cmml" xref="Thmproposition2.p1.1.1.m1.1.1.2">𝑐</ci><cn id="Thmproposition2.p1.1.1.m1.1.1.3.cmml" type="integer" xref="Thmproposition2.p1.1.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmproposition2.p1.1.1.m1.1c">c_{4}</annotation><annotation encoding="application/x-llamapun" id="Thmproposition2.p1.1.1.m1.1d">italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math> in the worst case.</span></p>
</div>
</div>
<div class="ltx_para" id="S4.p14">
<p class="ltx_p" id="S4.p14.1">Note the upper bound of equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E6" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">6</span></a>) is exactly <math alttext="c_{4}" class="ltx_Math" display="inline" id="S4.p14.1.m1.1"><semantics id="S4.p14.1.m1.1a"><msub id="S4.p14.1.m1.1.1" xref="S4.p14.1.m1.1.1.cmml"><mi id="S4.p14.1.m1.1.1.2" xref="S4.p14.1.m1.1.1.2.cmml">c</mi><mn id="S4.p14.1.m1.1.1.3" xref="S4.p14.1.m1.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p14.1.m1.1b"><apply id="S4.p14.1.m1.1.1.cmml" xref="S4.p14.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p14.1.m1.1.1.1.cmml" xref="S4.p14.1.m1.1.1">subscript</csymbol><ci id="S4.p14.1.m1.1.1.2.cmml" xref="S4.p14.1.m1.1.1.2">𝑐</ci><cn id="S4.p14.1.m1.1.1.3.cmml" type="integer" xref="S4.p14.1.m1.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p14.1.m1.1c">c_{4}</annotation><annotation encoding="application/x-llamapun" id="S4.p14.1.m1.1d">italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT</annotation></semantics></math>, which means PRP is not a good approximation of GPRP in the worst case of a multi-stage system and thus we have to find some other proxy for the objective function in equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>).</p>
</div>
<div class="ltx_para" id="S4.p15">
<p class="ltx_p" id="S4.p15.3">Since <math alttext="\mathcal{I}^{4}(\mathcal{I}^{i})" class="ltx_Math" display="inline" id="S4.p15.1.m1.1"><semantics id="S4.p15.1.m1.1a"><mrow id="S4.p15.1.m1.1.1" xref="S4.p15.1.m1.1.1.cmml"><msup id="S4.p15.1.m1.1.1.3" xref="S4.p15.1.m1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p15.1.m1.1.1.3.2" xref="S4.p15.1.m1.1.1.3.2.cmml">ℐ</mi><mn id="S4.p15.1.m1.1.1.3.3" xref="S4.p15.1.m1.1.1.3.3.cmml">4</mn></msup><mo id="S4.p15.1.m1.1.1.2" xref="S4.p15.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.p15.1.m1.1.1.1.1" xref="S4.p15.1.m1.1.1.1.1.1.cmml"><mo id="S4.p15.1.m1.1.1.1.1.2" stretchy="false" xref="S4.p15.1.m1.1.1.1.1.1.cmml">(</mo><msup id="S4.p15.1.m1.1.1.1.1.1" xref="S4.p15.1.m1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p15.1.m1.1.1.1.1.1.2" xref="S4.p15.1.m1.1.1.1.1.1.2.cmml">ℐ</mi><mi id="S4.p15.1.m1.1.1.1.1.1.3" xref="S4.p15.1.m1.1.1.1.1.1.3.cmml">i</mi></msup><mo id="S4.p15.1.m1.1.1.1.1.3" stretchy="false" xref="S4.p15.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p15.1.m1.1b"><apply id="S4.p15.1.m1.1.1.cmml" xref="S4.p15.1.m1.1.1"><times id="S4.p15.1.m1.1.1.2.cmml" xref="S4.p15.1.m1.1.1.2"></times><apply id="S4.p15.1.m1.1.1.3.cmml" xref="S4.p15.1.m1.1.1.3"><csymbol cd="ambiguous" id="S4.p15.1.m1.1.1.3.1.cmml" xref="S4.p15.1.m1.1.1.3">superscript</csymbol><ci id="S4.p15.1.m1.1.1.3.2.cmml" xref="S4.p15.1.m1.1.1.3.2">ℐ</ci><cn id="S4.p15.1.m1.1.1.3.3.cmml" type="integer" xref="S4.p15.1.m1.1.1.3.3">4</cn></apply><apply id="S4.p15.1.m1.1.1.1.1.1.cmml" xref="S4.p15.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.p15.1.m1.1.1.1.1.1.1.cmml" xref="S4.p15.1.m1.1.1.1.1">superscript</csymbol><ci id="S4.p15.1.m1.1.1.1.1.1.2.cmml" xref="S4.p15.1.m1.1.1.1.1.1.2">ℐ</ci><ci id="S4.p15.1.m1.1.1.1.1.1.3.cmml" xref="S4.p15.1.m1.1.1.1.1.1.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p15.1.m1.1c">\mathcal{I}^{4}(\mathcal{I}^{i})</annotation><annotation encoding="application/x-llamapun" id="S4.p15.1.m1.1d">caligraphic_I start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT ( caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT )</annotation></semantics></math> is a random set depending on the input candidate set, and the probability of each item <math alttext="p^{i}(u,v|\mathcal{I}^{i-1})" class="ltx_Math" display="inline" id="S4.p15.2.m2.2"><semantics id="S4.p15.2.m2.2a"><mrow id="S4.p15.2.m2.2.2" xref="S4.p15.2.m2.2.2.cmml"><msup id="S4.p15.2.m2.2.2.3" xref="S4.p15.2.m2.2.2.3.cmml"><mi id="S4.p15.2.m2.2.2.3.2" xref="S4.p15.2.m2.2.2.3.2.cmml">p</mi><mi id="S4.p15.2.m2.2.2.3.3" xref="S4.p15.2.m2.2.2.3.3.cmml">i</mi></msup><mo id="S4.p15.2.m2.2.2.2" xref="S4.p15.2.m2.2.2.2.cmml">⁢</mo><mrow id="S4.p15.2.m2.2.2.1.1" xref="S4.p15.2.m2.2.2.1.2.cmml"><mo id="S4.p15.2.m2.2.2.1.1.2" stretchy="false" xref="S4.p15.2.m2.2.2.1.2.cmml">(</mo><mi id="S4.p15.2.m2.1.1" xref="S4.p15.2.m2.1.1.cmml">u</mi><mo id="S4.p15.2.m2.2.2.1.1.3" xref="S4.p15.2.m2.2.2.1.2.cmml">,</mo><mrow id="S4.p15.2.m2.2.2.1.1.1" xref="S4.p15.2.m2.2.2.1.1.1.cmml"><mi id="S4.p15.2.m2.2.2.1.1.1.2" xref="S4.p15.2.m2.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="S4.p15.2.m2.2.2.1.1.1.1" xref="S4.p15.2.m2.2.2.1.1.1.1.cmml">|</mo><msup id="S4.p15.2.m2.2.2.1.1.1.3" xref="S4.p15.2.m2.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p15.2.m2.2.2.1.1.1.3.2" xref="S4.p15.2.m2.2.2.1.1.1.3.2.cmml">ℐ</mi><mrow id="S4.p15.2.m2.2.2.1.1.1.3.3" xref="S4.p15.2.m2.2.2.1.1.1.3.3.cmml"><mi id="S4.p15.2.m2.2.2.1.1.1.3.3.2" xref="S4.p15.2.m2.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S4.p15.2.m2.2.2.1.1.1.3.3.1" xref="S4.p15.2.m2.2.2.1.1.1.3.3.1.cmml">−</mo><mn id="S4.p15.2.m2.2.2.1.1.1.3.3.3" xref="S4.p15.2.m2.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S4.p15.2.m2.2.2.1.1.4" stretchy="false" xref="S4.p15.2.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p15.2.m2.2b"><apply id="S4.p15.2.m2.2.2.cmml" xref="S4.p15.2.m2.2.2"><times id="S4.p15.2.m2.2.2.2.cmml" xref="S4.p15.2.m2.2.2.2"></times><apply id="S4.p15.2.m2.2.2.3.cmml" xref="S4.p15.2.m2.2.2.3"><csymbol cd="ambiguous" id="S4.p15.2.m2.2.2.3.1.cmml" xref="S4.p15.2.m2.2.2.3">superscript</csymbol><ci id="S4.p15.2.m2.2.2.3.2.cmml" xref="S4.p15.2.m2.2.2.3.2">𝑝</ci><ci id="S4.p15.2.m2.2.2.3.3.cmml" xref="S4.p15.2.m2.2.2.3.3">𝑖</ci></apply><interval closure="open" id="S4.p15.2.m2.2.2.1.2.cmml" xref="S4.p15.2.m2.2.2.1.1"><ci id="S4.p15.2.m2.1.1.cmml" xref="S4.p15.2.m2.1.1">𝑢</ci><apply id="S4.p15.2.m2.2.2.1.1.1.cmml" xref="S4.p15.2.m2.2.2.1.1.1"><csymbol cd="latexml" id="S4.p15.2.m2.2.2.1.1.1.1.cmml" xref="S4.p15.2.m2.2.2.1.1.1.1">conditional</csymbol><ci id="S4.p15.2.m2.2.2.1.1.1.2.cmml" xref="S4.p15.2.m2.2.2.1.1.1.2">𝑣</ci><apply id="S4.p15.2.m2.2.2.1.1.1.3.cmml" xref="S4.p15.2.m2.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S4.p15.2.m2.2.2.1.1.1.3.1.cmml" xref="S4.p15.2.m2.2.2.1.1.1.3">superscript</csymbol><ci id="S4.p15.2.m2.2.2.1.1.1.3.2.cmml" xref="S4.p15.2.m2.2.2.1.1.1.3.2">ℐ</ci><apply id="S4.p15.2.m2.2.2.1.1.1.3.3.cmml" xref="S4.p15.2.m2.2.2.1.1.1.3.3"><minus id="S4.p15.2.m2.2.2.1.1.1.3.3.1.cmml" xref="S4.p15.2.m2.2.2.1.1.1.3.3.1"></minus><ci id="S4.p15.2.m2.2.2.1.1.1.3.3.2.cmml" xref="S4.p15.2.m2.2.2.1.1.1.3.3.2">𝑖</ci><cn id="S4.p15.2.m2.2.2.1.1.1.3.3.3.cmml" type="integer" xref="S4.p15.2.m2.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p15.2.m2.2c">p^{i}(u,v|\mathcal{I}^{i-1})</annotation><annotation encoding="application/x-llamapun" id="S4.p15.2.m2.2d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT )</annotation></semantics></math> being selected into the next stage <math alttext="i+1" class="ltx_Math" display="inline" id="S4.p15.3.m3.1"><semantics id="S4.p15.3.m3.1a"><mrow id="S4.p15.3.m3.1.1" xref="S4.p15.3.m3.1.1.cmml"><mi id="S4.p15.3.m3.1.1.2" xref="S4.p15.3.m3.1.1.2.cmml">i</mi><mo id="S4.p15.3.m3.1.1.1" xref="S4.p15.3.m3.1.1.1.cmml">+</mo><mn id="S4.p15.3.m3.1.1.3" xref="S4.p15.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p15.3.m3.1b"><apply id="S4.p15.3.m3.1.1.cmml" xref="S4.p15.3.m3.1.1"><plus id="S4.p15.3.m3.1.1.1.cmml" xref="S4.p15.3.m3.1.1.1"></plus><ci id="S4.p15.3.m3.1.1.2.cmml" xref="S4.p15.3.m3.1.1.2">𝑖</ci><cn id="S4.p15.3.m3.1.1.3.cmml" type="integer" xref="S4.p15.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p15.3.m3.1c">i+1</annotation><annotation encoding="application/x-llamapun" id="S4.p15.3.m3.1d">italic_i + 1</annotation></semantics></math> is also influenced by other candidates, which causes the computational complexity of solving equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>) exactly. We then make the following assumption to allow efficient approximate solution to equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>):</p>
</div>
<div class="ltx_theorem ltx_theorem_assumption" id="Thmassumption1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmassumption1.1.1.1">Assumption 1</span></span><span class="ltx_text ltx_font_bold" id="Thmassumption1.2.2">.</span>
</h6>
<div class="ltx_para" id="Thmassumption1.p1">
<p class="ltx_p" id="Thmassumption1.p1.2"><span class="ltx_text ltx_font_italic" id="Thmassumption1.p1.2.2">Assume the selection probability <math alttext="p^{i}(u,v|\mathcal{I}^{i-1})" class="ltx_Math" display="inline" id="Thmassumption1.p1.1.1.m1.2"><semantics id="Thmassumption1.p1.1.1.m1.2a"><mrow id="Thmassumption1.p1.1.1.m1.2.2" xref="Thmassumption1.p1.1.1.m1.2.2.cmml"><msup id="Thmassumption1.p1.1.1.m1.2.2.3" xref="Thmassumption1.p1.1.1.m1.2.2.3.cmml"><mi id="Thmassumption1.p1.1.1.m1.2.2.3.2" xref="Thmassumption1.p1.1.1.m1.2.2.3.2.cmml">p</mi><mi id="Thmassumption1.p1.1.1.m1.2.2.3.3" xref="Thmassumption1.p1.1.1.m1.2.2.3.3.cmml">i</mi></msup><mo id="Thmassumption1.p1.1.1.m1.2.2.2" xref="Thmassumption1.p1.1.1.m1.2.2.2.cmml">⁢</mo><mrow id="Thmassumption1.p1.1.1.m1.2.2.1.1" xref="Thmassumption1.p1.1.1.m1.2.2.1.2.cmml"><mo id="Thmassumption1.p1.1.1.m1.2.2.1.1.2" stretchy="false" xref="Thmassumption1.p1.1.1.m1.2.2.1.2.cmml">(</mo><mi id="Thmassumption1.p1.1.1.m1.1.1" xref="Thmassumption1.p1.1.1.m1.1.1.cmml">u</mi><mo id="Thmassumption1.p1.1.1.m1.2.2.1.1.3" xref="Thmassumption1.p1.1.1.m1.2.2.1.2.cmml">,</mo><mrow id="Thmassumption1.p1.1.1.m1.2.2.1.1.1" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.cmml"><mi id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.2" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.1" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.1.cmml">|</mo><msup id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.2" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.2.cmml">ℐ</mi><mrow id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.cmml"><mi id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.2" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.1" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.1.cmml">−</mo><mn id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.3" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="Thmassumption1.p1.1.1.m1.2.2.1.1.4" stretchy="false" xref="Thmassumption1.p1.1.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmassumption1.p1.1.1.m1.2b"><apply id="Thmassumption1.p1.1.1.m1.2.2.cmml" xref="Thmassumption1.p1.1.1.m1.2.2"><times id="Thmassumption1.p1.1.1.m1.2.2.2.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.2"></times><apply id="Thmassumption1.p1.1.1.m1.2.2.3.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.3"><csymbol cd="ambiguous" id="Thmassumption1.p1.1.1.m1.2.2.3.1.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.3">superscript</csymbol><ci id="Thmassumption1.p1.1.1.m1.2.2.3.2.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.3.2">𝑝</ci><ci id="Thmassumption1.p1.1.1.m1.2.2.3.3.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.3.3">𝑖</ci></apply><interval closure="open" id="Thmassumption1.p1.1.1.m1.2.2.1.2.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1"><ci id="Thmassumption1.p1.1.1.m1.1.1.cmml" xref="Thmassumption1.p1.1.1.m1.1.1">𝑢</ci><apply id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1"><csymbol cd="latexml" id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.1.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.1">conditional</csymbol><ci id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.2.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.2">𝑣</ci><apply id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.1.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3">superscript</csymbol><ci id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.2.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.2">ℐ</ci><apply id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3"><minus id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.1.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.1"></minus><ci id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.2.cmml" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.2">𝑖</ci><cn id="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.3.cmml" type="integer" xref="Thmassumption1.p1.1.1.m1.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmassumption1.p1.1.1.m1.2c">p^{i}(u,v|\mathcal{I}^{i-1})</annotation><annotation encoding="application/x-llamapun" id="Thmassumption1.p1.1.1.m1.2d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT )</annotation></semantics></math> depends only on the user and item itself, i.e. <math alttext="p^{i}(u,v|\mathcal{I}^{i-1})=p^{i}(u,v)" class="ltx_Math" display="inline" id="Thmassumption1.p1.2.2.m2.4"><semantics id="Thmassumption1.p1.2.2.m2.4a"><mrow id="Thmassumption1.p1.2.2.m2.4.4" xref="Thmassumption1.p1.2.2.m2.4.4.cmml"><mrow id="Thmassumption1.p1.2.2.m2.4.4.1" xref="Thmassumption1.p1.2.2.m2.4.4.1.cmml"><msup id="Thmassumption1.p1.2.2.m2.4.4.1.3" xref="Thmassumption1.p1.2.2.m2.4.4.1.3.cmml"><mi id="Thmassumption1.p1.2.2.m2.4.4.1.3.2" xref="Thmassumption1.p1.2.2.m2.4.4.1.3.2.cmml">p</mi><mi id="Thmassumption1.p1.2.2.m2.4.4.1.3.3" xref="Thmassumption1.p1.2.2.m2.4.4.1.3.3.cmml">i</mi></msup><mo id="Thmassumption1.p1.2.2.m2.4.4.1.2" xref="Thmassumption1.p1.2.2.m2.4.4.1.2.cmml">⁢</mo><mrow id="Thmassumption1.p1.2.2.m2.4.4.1.1.1" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.2.cmml"><mo id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.2" stretchy="false" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.2.cmml">(</mo><mi id="Thmassumption1.p1.2.2.m2.1.1" xref="Thmassumption1.p1.2.2.m2.1.1.cmml">u</mi><mo id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.3" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.2.cmml">,</mo><mrow id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.cmml"><mi id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.2" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.2.cmml">v</mi><mo fence="false" id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.1" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.1.cmml">|</mo><msup id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.2" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.2.cmml">ℐ</mi><mrow id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.cmml"><mi id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.2" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.2.cmml">i</mi><mo id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.1" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.1.cmml">−</mo><mn id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.3" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.4" stretchy="false" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="Thmassumption1.p1.2.2.m2.4.4.2" xref="Thmassumption1.p1.2.2.m2.4.4.2.cmml">=</mo><mrow id="Thmassumption1.p1.2.2.m2.4.4.3" xref="Thmassumption1.p1.2.2.m2.4.4.3.cmml"><msup id="Thmassumption1.p1.2.2.m2.4.4.3.2" xref="Thmassumption1.p1.2.2.m2.4.4.3.2.cmml"><mi id="Thmassumption1.p1.2.2.m2.4.4.3.2.2" xref="Thmassumption1.p1.2.2.m2.4.4.3.2.2.cmml">p</mi><mi id="Thmassumption1.p1.2.2.m2.4.4.3.2.3" xref="Thmassumption1.p1.2.2.m2.4.4.3.2.3.cmml">i</mi></msup><mo id="Thmassumption1.p1.2.2.m2.4.4.3.1" xref="Thmassumption1.p1.2.2.m2.4.4.3.1.cmml">⁢</mo><mrow id="Thmassumption1.p1.2.2.m2.4.4.3.3.2" xref="Thmassumption1.p1.2.2.m2.4.4.3.3.1.cmml"><mo id="Thmassumption1.p1.2.2.m2.4.4.3.3.2.1" stretchy="false" xref="Thmassumption1.p1.2.2.m2.4.4.3.3.1.cmml">(</mo><mi id="Thmassumption1.p1.2.2.m2.2.2" xref="Thmassumption1.p1.2.2.m2.2.2.cmml">u</mi><mo id="Thmassumption1.p1.2.2.m2.4.4.3.3.2.2" xref="Thmassumption1.p1.2.2.m2.4.4.3.3.1.cmml">,</mo><mi id="Thmassumption1.p1.2.2.m2.3.3" xref="Thmassumption1.p1.2.2.m2.3.3.cmml">v</mi><mo id="Thmassumption1.p1.2.2.m2.4.4.3.3.2.3" stretchy="false" xref="Thmassumption1.p1.2.2.m2.4.4.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmassumption1.p1.2.2.m2.4b"><apply id="Thmassumption1.p1.2.2.m2.4.4.cmml" xref="Thmassumption1.p1.2.2.m2.4.4"><eq id="Thmassumption1.p1.2.2.m2.4.4.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.2"></eq><apply id="Thmassumption1.p1.2.2.m2.4.4.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1"><times id="Thmassumption1.p1.2.2.m2.4.4.1.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.2"></times><apply id="Thmassumption1.p1.2.2.m2.4.4.1.3.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.3"><csymbol cd="ambiguous" id="Thmassumption1.p1.2.2.m2.4.4.1.3.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.3">superscript</csymbol><ci id="Thmassumption1.p1.2.2.m2.4.4.1.3.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.3.2">𝑝</ci><ci id="Thmassumption1.p1.2.2.m2.4.4.1.3.3.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.3.3">𝑖</ci></apply><interval closure="open" id="Thmassumption1.p1.2.2.m2.4.4.1.1.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1"><ci id="Thmassumption1.p1.2.2.m2.1.1.cmml" xref="Thmassumption1.p1.2.2.m2.1.1">𝑢</ci><apply id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1"><csymbol cd="latexml" id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.1">conditional</csymbol><ci id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.2">𝑣</ci><apply id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3">superscript</csymbol><ci id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.2">ℐ</ci><apply id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3"><minus id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.1"></minus><ci id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.2">𝑖</ci><cn id="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.3.cmml" type="integer" xref="Thmassumption1.p1.2.2.m2.4.4.1.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply><apply id="Thmassumption1.p1.2.2.m2.4.4.3.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.3"><times id="Thmassumption1.p1.2.2.m2.4.4.3.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.3.1"></times><apply id="Thmassumption1.p1.2.2.m2.4.4.3.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.3.2"><csymbol cd="ambiguous" id="Thmassumption1.p1.2.2.m2.4.4.3.2.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.3.2">superscript</csymbol><ci id="Thmassumption1.p1.2.2.m2.4.4.3.2.2.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.3.2.2">𝑝</ci><ci id="Thmassumption1.p1.2.2.m2.4.4.3.2.3.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.3.2.3">𝑖</ci></apply><interval closure="open" id="Thmassumption1.p1.2.2.m2.4.4.3.3.1.cmml" xref="Thmassumption1.p1.2.2.m2.4.4.3.3.2"><ci id="Thmassumption1.p1.2.2.m2.2.2.cmml" xref="Thmassumption1.p1.2.2.m2.2.2">𝑢</ci><ci id="Thmassumption1.p1.2.2.m2.3.3.cmml" xref="Thmassumption1.p1.2.2.m2.3.3">𝑣</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmassumption1.p1.2.2.m2.4c">p^{i}(u,v|\mathcal{I}^{i-1})=p^{i}(u,v)</annotation><annotation encoding="application/x-llamapun" id="Thmassumption1.p1.2.2.m2.4d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT ) = italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math>.</span></p>
</div>
</div>
<div class="ltx_para" id="S4.p16">
<p class="ltx_p" id="S4.p16.1">This is a rather strong assumption in practical systems at first glance, since general ranking stages need to compare all input candidates together, hence we cannot ignore the influence of other candidate items in each request. We will discuss the validity of this assumption in detail in Section <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S6" title="6 Discussion about Assumptions ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">6</span></a>.</p>
</div>
<div class="ltx_para" id="S4.p17">
<p class="ltx_p" id="S4.p17.4">Under Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption1" title="Assumption 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a>, we can rewrite the objective function (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>) of GPRP into the following:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\bar{\mathcal{I}}^{i,GPRP}:=\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset%
\mathcal{I}^{i-1}}\sum_{v\in\mathcal{I}^{i}}p^{i+1,4}(u,v)r(u,v)" class="ltx_Math" display="block" id="S4.E7.m1.8"><semantics id="S4.E7.m1.8a"><mrow id="S4.E7.m1.8.9" xref="S4.E7.m1.8.9.cmml"><msup id="S4.E7.m1.8.9.2" xref="S4.E7.m1.8.9.2.cmml"><mover accent="true" id="S4.E7.m1.8.9.2.2" xref="S4.E7.m1.8.9.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E7.m1.8.9.2.2.2" xref="S4.E7.m1.8.9.2.2.2.cmml">ℐ</mi><mo id="S4.E7.m1.8.9.2.2.1" xref="S4.E7.m1.8.9.2.2.1.cmml">¯</mo></mover><mrow id="S4.E7.m1.2.2.2.2" xref="S4.E7.m1.2.2.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml">i</mi><mo id="S4.E7.m1.2.2.2.2.2" xref="S4.E7.m1.2.2.2.3.cmml">,</mo><mrow id="S4.E7.m1.2.2.2.2.1" xref="S4.E7.m1.2.2.2.2.1.cmml"><mi id="S4.E7.m1.2.2.2.2.1.2" xref="S4.E7.m1.2.2.2.2.1.2.cmml">G</mi><mo id="S4.E7.m1.2.2.2.2.1.1" xref="S4.E7.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E7.m1.2.2.2.2.1.3" xref="S4.E7.m1.2.2.2.2.1.3.cmml">P</mi><mo id="S4.E7.m1.2.2.2.2.1.1a" xref="S4.E7.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E7.m1.2.2.2.2.1.4" xref="S4.E7.m1.2.2.2.2.1.4.cmml">R</mi><mo id="S4.E7.m1.2.2.2.2.1.1b" xref="S4.E7.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.E7.m1.2.2.2.2.1.5" xref="S4.E7.m1.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><mo id="S4.E7.m1.8.9.1" lspace="0.278em" rspace="0.278em" xref="S4.E7.m1.8.9.1.cmml">:=</mo><mrow id="S4.E7.m1.8.9.3" xref="S4.E7.m1.8.9.3.cmml"><munder id="S4.E7.m1.8.9.3.2" xref="S4.E7.m1.8.9.3.2.cmml"><mrow id="S4.E7.m1.8.9.3.2.2" xref="S4.E7.m1.8.9.3.2.2.cmml"><mi id="S4.E7.m1.8.9.3.2.2.1" xref="S4.E7.m1.8.9.3.2.2.1.cmml">arg</mi><mo id="S4.E7.m1.8.9.3.2.2a" xref="S4.E7.m1.8.9.3.2.2.cmml">⁡</mo><mi id="S4.E7.m1.8.9.3.2.2.2" xref="S4.E7.m1.8.9.3.2.2.2.cmml">max</mi></mrow><mrow id="S4.E7.m1.8.9.3.2.3" xref="S4.E7.m1.8.9.3.2.3.cmml"><msup id="S4.E7.m1.8.9.3.2.3.2" xref="S4.E7.m1.8.9.3.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E7.m1.8.9.3.2.3.2.2" xref="S4.E7.m1.8.9.3.2.3.2.2.cmml">ℐ</mi><mi id="S4.E7.m1.8.9.3.2.3.2.3" xref="S4.E7.m1.8.9.3.2.3.2.3.cmml">i</mi></msup><mo id="S4.E7.m1.8.9.3.2.3.1" xref="S4.E7.m1.8.9.3.2.3.1.cmml">⊂</mo><msup id="S4.E7.m1.8.9.3.2.3.3" xref="S4.E7.m1.8.9.3.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E7.m1.8.9.3.2.3.3.2" xref="S4.E7.m1.8.9.3.2.3.3.2.cmml">ℐ</mi><mrow id="S4.E7.m1.8.9.3.2.3.3.3" xref="S4.E7.m1.8.9.3.2.3.3.3.cmml"><mi id="S4.E7.m1.8.9.3.2.3.3.3.2" xref="S4.E7.m1.8.9.3.2.3.3.3.2.cmml">i</mi><mo id="S4.E7.m1.8.9.3.2.3.3.3.1" xref="S4.E7.m1.8.9.3.2.3.3.3.1.cmml">−</mo><mn id="S4.E7.m1.8.9.3.2.3.3.3.3" xref="S4.E7.m1.8.9.3.2.3.3.3.3.cmml">1</mn></mrow></msup></mrow></munder><mo id="S4.E7.m1.8.9.3.1" xref="S4.E7.m1.8.9.3.1.cmml">⁢</mo><mrow id="S4.E7.m1.8.9.3.3" xref="S4.E7.m1.8.9.3.3.cmml"><munder id="S4.E7.m1.8.9.3.3.1" xref="S4.E7.m1.8.9.3.3.1.cmml"><mo id="S4.E7.m1.8.9.3.3.1.2" movablelimits="false" xref="S4.E7.m1.8.9.3.3.1.2.cmml">∑</mo><mrow id="S4.E7.m1.8.9.3.3.1.3" xref="S4.E7.m1.8.9.3.3.1.3.cmml"><mi id="S4.E7.m1.8.9.3.3.1.3.2" xref="S4.E7.m1.8.9.3.3.1.3.2.cmml">v</mi><mo id="S4.E7.m1.8.9.3.3.1.3.1" xref="S4.E7.m1.8.9.3.3.1.3.1.cmml">∈</mo><msup id="S4.E7.m1.8.9.3.3.1.3.3" xref="S4.E7.m1.8.9.3.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E7.m1.8.9.3.3.1.3.3.2" xref="S4.E7.m1.8.9.3.3.1.3.3.2.cmml">ℐ</mi><mi id="S4.E7.m1.8.9.3.3.1.3.3.3" xref="S4.E7.m1.8.9.3.3.1.3.3.3.cmml">i</mi></msup></mrow></munder><mrow id="S4.E7.m1.8.9.3.3.2" xref="S4.E7.m1.8.9.3.3.2.cmml"><msup id="S4.E7.m1.8.9.3.3.2.2" xref="S4.E7.m1.8.9.3.3.2.2.cmml"><mi id="S4.E7.m1.8.9.3.3.2.2.2" xref="S4.E7.m1.8.9.3.3.2.2.2.cmml">p</mi><mrow id="S4.E7.m1.4.4.2.2" xref="S4.E7.m1.4.4.2.3.cmml"><mrow id="S4.E7.m1.4.4.2.2.1" xref="S4.E7.m1.4.4.2.2.1.cmml"><mi id="S4.E7.m1.4.4.2.2.1.2" xref="S4.E7.m1.4.4.2.2.1.2.cmml">i</mi><mo id="S4.E7.m1.4.4.2.2.1.1" xref="S4.E7.m1.4.4.2.2.1.1.cmml">+</mo><mn id="S4.E7.m1.4.4.2.2.1.3" xref="S4.E7.m1.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="S4.E7.m1.4.4.2.2.2" xref="S4.E7.m1.4.4.2.3.cmml">,</mo><mn id="S4.E7.m1.3.3.1.1" xref="S4.E7.m1.3.3.1.1.cmml">4</mn></mrow></msup><mo id="S4.E7.m1.8.9.3.3.2.1" xref="S4.E7.m1.8.9.3.3.2.1.cmml">⁢</mo><mrow id="S4.E7.m1.8.9.3.3.2.3.2" xref="S4.E7.m1.8.9.3.3.2.3.1.cmml"><mo id="S4.E7.m1.8.9.3.3.2.3.2.1" stretchy="false" xref="S4.E7.m1.8.9.3.3.2.3.1.cmml">(</mo><mi id="S4.E7.m1.5.5" xref="S4.E7.m1.5.5.cmml">u</mi><mo id="S4.E7.m1.8.9.3.3.2.3.2.2" xref="S4.E7.m1.8.9.3.3.2.3.1.cmml">,</mo><mi id="S4.E7.m1.6.6" xref="S4.E7.m1.6.6.cmml">v</mi><mo id="S4.E7.m1.8.9.3.3.2.3.2.3" stretchy="false" xref="S4.E7.m1.8.9.3.3.2.3.1.cmml">)</mo></mrow><mo id="S4.E7.m1.8.9.3.3.2.1a" xref="S4.E7.m1.8.9.3.3.2.1.cmml">⁢</mo><mi id="S4.E7.m1.8.9.3.3.2.4" xref="S4.E7.m1.8.9.3.3.2.4.cmml">r</mi><mo id="S4.E7.m1.8.9.3.3.2.1b" xref="S4.E7.m1.8.9.3.3.2.1.cmml">⁢</mo><mrow id="S4.E7.m1.8.9.3.3.2.5.2" xref="S4.E7.m1.8.9.3.3.2.5.1.cmml"><mo id="S4.E7.m1.8.9.3.3.2.5.2.1" stretchy="false" xref="S4.E7.m1.8.9.3.3.2.5.1.cmml">(</mo><mi id="S4.E7.m1.7.7" xref="S4.E7.m1.7.7.cmml">u</mi><mo id="S4.E7.m1.8.9.3.3.2.5.2.2" xref="S4.E7.m1.8.9.3.3.2.5.1.cmml">,</mo><mi id="S4.E7.m1.8.8" xref="S4.E7.m1.8.8.cmml">v</mi><mo id="S4.E7.m1.8.9.3.3.2.5.2.3" stretchy="false" xref="S4.E7.m1.8.9.3.3.2.5.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.8b"><apply id="S4.E7.m1.8.9.cmml" xref="S4.E7.m1.8.9"><csymbol cd="latexml" id="S4.E7.m1.8.9.1.cmml" xref="S4.E7.m1.8.9.1">assign</csymbol><apply id="S4.E7.m1.8.9.2.cmml" xref="S4.E7.m1.8.9.2"><csymbol cd="ambiguous" id="S4.E7.m1.8.9.2.1.cmml" xref="S4.E7.m1.8.9.2">superscript</csymbol><apply id="S4.E7.m1.8.9.2.2.cmml" xref="S4.E7.m1.8.9.2.2"><ci id="S4.E7.m1.8.9.2.2.1.cmml" xref="S4.E7.m1.8.9.2.2.1">¯</ci><ci id="S4.E7.m1.8.9.2.2.2.cmml" xref="S4.E7.m1.8.9.2.2.2">ℐ</ci></apply><list id="S4.E7.m1.2.2.2.3.cmml" xref="S4.E7.m1.2.2.2.2"><ci id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1">𝑖</ci><apply id="S4.E7.m1.2.2.2.2.1.cmml" xref="S4.E7.m1.2.2.2.2.1"><times id="S4.E7.m1.2.2.2.2.1.1.cmml" xref="S4.E7.m1.2.2.2.2.1.1"></times><ci id="S4.E7.m1.2.2.2.2.1.2.cmml" xref="S4.E7.m1.2.2.2.2.1.2">𝐺</ci><ci id="S4.E7.m1.2.2.2.2.1.3.cmml" xref="S4.E7.m1.2.2.2.2.1.3">𝑃</ci><ci id="S4.E7.m1.2.2.2.2.1.4.cmml" xref="S4.E7.m1.2.2.2.2.1.4">𝑅</ci><ci id="S4.E7.m1.2.2.2.2.1.5.cmml" xref="S4.E7.m1.2.2.2.2.1.5">𝑃</ci></apply></list></apply><apply id="S4.E7.m1.8.9.3.cmml" xref="S4.E7.m1.8.9.3"><times id="S4.E7.m1.8.9.3.1.cmml" xref="S4.E7.m1.8.9.3.1"></times><apply id="S4.E7.m1.8.9.3.2.cmml" xref="S4.E7.m1.8.9.3.2"><csymbol cd="ambiguous" id="S4.E7.m1.8.9.3.2.1.cmml" xref="S4.E7.m1.8.9.3.2">subscript</csymbol><apply id="S4.E7.m1.8.9.3.2.2.cmml" xref="S4.E7.m1.8.9.3.2.2"><arg id="S4.E7.m1.8.9.3.2.2.1.cmml" xref="S4.E7.m1.8.9.3.2.2.1"></arg><max id="S4.E7.m1.8.9.3.2.2.2.cmml" xref="S4.E7.m1.8.9.3.2.2.2"></max></apply><apply id="S4.E7.m1.8.9.3.2.3.cmml" xref="S4.E7.m1.8.9.3.2.3"><subset id="S4.E7.m1.8.9.3.2.3.1.cmml" xref="S4.E7.m1.8.9.3.2.3.1"></subset><apply id="S4.E7.m1.8.9.3.2.3.2.cmml" xref="S4.E7.m1.8.9.3.2.3.2"><csymbol cd="ambiguous" id="S4.E7.m1.8.9.3.2.3.2.1.cmml" xref="S4.E7.m1.8.9.3.2.3.2">superscript</csymbol><ci id="S4.E7.m1.8.9.3.2.3.2.2.cmml" xref="S4.E7.m1.8.9.3.2.3.2.2">ℐ</ci><ci id="S4.E7.m1.8.9.3.2.3.2.3.cmml" xref="S4.E7.m1.8.9.3.2.3.2.3">𝑖</ci></apply><apply id="S4.E7.m1.8.9.3.2.3.3.cmml" xref="S4.E7.m1.8.9.3.2.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.8.9.3.2.3.3.1.cmml" xref="S4.E7.m1.8.9.3.2.3.3">superscript</csymbol><ci id="S4.E7.m1.8.9.3.2.3.3.2.cmml" xref="S4.E7.m1.8.9.3.2.3.3.2">ℐ</ci><apply id="S4.E7.m1.8.9.3.2.3.3.3.cmml" xref="S4.E7.m1.8.9.3.2.3.3.3"><minus id="S4.E7.m1.8.9.3.2.3.3.3.1.cmml" xref="S4.E7.m1.8.9.3.2.3.3.3.1"></minus><ci id="S4.E7.m1.8.9.3.2.3.3.3.2.cmml" xref="S4.E7.m1.8.9.3.2.3.3.3.2">𝑖</ci><cn id="S4.E7.m1.8.9.3.2.3.3.3.3.cmml" type="integer" xref="S4.E7.m1.8.9.3.2.3.3.3.3">1</cn></apply></apply></apply></apply><apply id="S4.E7.m1.8.9.3.3.cmml" xref="S4.E7.m1.8.9.3.3"><apply id="S4.E7.m1.8.9.3.3.1.cmml" xref="S4.E7.m1.8.9.3.3.1"><csymbol cd="ambiguous" id="S4.E7.m1.8.9.3.3.1.1.cmml" xref="S4.E7.m1.8.9.3.3.1">subscript</csymbol><sum id="S4.E7.m1.8.9.3.3.1.2.cmml" xref="S4.E7.m1.8.9.3.3.1.2"></sum><apply id="S4.E7.m1.8.9.3.3.1.3.cmml" xref="S4.E7.m1.8.9.3.3.1.3"><in id="S4.E7.m1.8.9.3.3.1.3.1.cmml" xref="S4.E7.m1.8.9.3.3.1.3.1"></in><ci id="S4.E7.m1.8.9.3.3.1.3.2.cmml" xref="S4.E7.m1.8.9.3.3.1.3.2">𝑣</ci><apply id="S4.E7.m1.8.9.3.3.1.3.3.cmml" xref="S4.E7.m1.8.9.3.3.1.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.8.9.3.3.1.3.3.1.cmml" xref="S4.E7.m1.8.9.3.3.1.3.3">superscript</csymbol><ci id="S4.E7.m1.8.9.3.3.1.3.3.2.cmml" xref="S4.E7.m1.8.9.3.3.1.3.3.2">ℐ</ci><ci id="S4.E7.m1.8.9.3.3.1.3.3.3.cmml" xref="S4.E7.m1.8.9.3.3.1.3.3.3">𝑖</ci></apply></apply></apply><apply id="S4.E7.m1.8.9.3.3.2.cmml" xref="S4.E7.m1.8.9.3.3.2"><times id="S4.E7.m1.8.9.3.3.2.1.cmml" xref="S4.E7.m1.8.9.3.3.2.1"></times><apply id="S4.E7.m1.8.9.3.3.2.2.cmml" xref="S4.E7.m1.8.9.3.3.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.8.9.3.3.2.2.1.cmml" xref="S4.E7.m1.8.9.3.3.2.2">superscript</csymbol><ci id="S4.E7.m1.8.9.3.3.2.2.2.cmml" xref="S4.E7.m1.8.9.3.3.2.2.2">𝑝</ci><list id="S4.E7.m1.4.4.2.3.cmml" xref="S4.E7.m1.4.4.2.2"><apply id="S4.E7.m1.4.4.2.2.1.cmml" xref="S4.E7.m1.4.4.2.2.1"><plus id="S4.E7.m1.4.4.2.2.1.1.cmml" xref="S4.E7.m1.4.4.2.2.1.1"></plus><ci id="S4.E7.m1.4.4.2.2.1.2.cmml" xref="S4.E7.m1.4.4.2.2.1.2">𝑖</ci><cn id="S4.E7.m1.4.4.2.2.1.3.cmml" type="integer" xref="S4.E7.m1.4.4.2.2.1.3">1</cn></apply><cn id="S4.E7.m1.3.3.1.1.cmml" type="integer" xref="S4.E7.m1.3.3.1.1">4</cn></list></apply><interval closure="open" id="S4.E7.m1.8.9.3.3.2.3.1.cmml" xref="S4.E7.m1.8.9.3.3.2.3.2"><ci id="S4.E7.m1.5.5.cmml" xref="S4.E7.m1.5.5">𝑢</ci><ci id="S4.E7.m1.6.6.cmml" xref="S4.E7.m1.6.6">𝑣</ci></interval><ci id="S4.E7.m1.8.9.3.3.2.4.cmml" xref="S4.E7.m1.8.9.3.3.2.4">𝑟</ci><interval closure="open" id="S4.E7.m1.8.9.3.3.2.5.1.cmml" xref="S4.E7.m1.8.9.3.3.2.5.2"><ci id="S4.E7.m1.7.7.cmml" xref="S4.E7.m1.7.7">𝑢</ci><ci id="S4.E7.m1.8.8.cmml" xref="S4.E7.m1.8.8">𝑣</ci></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.8c">\bar{\mathcal{I}}^{i,GPRP}:=\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset%
\mathcal{I}^{i-1}}\sum_{v\in\mathcal{I}^{i}}p^{i+1,4}(u,v)r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.8d">over¯ start_ARG caligraphic_I end_ARG start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT := start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ⊂ caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_v ∈ caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT end_POSTSUBSCRIPT italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v ) italic_r ( italic_u , italic_v )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.p17.3">where <math alttext="p^{i,j}(u,v):=p^{i}(u,v)p^{i+1}(u,v)\cdots p^{j}(u,v)" class="ltx_Math" display="inline" id="S4.p17.1.m1.10"><semantics id="S4.p17.1.m1.10a"><mrow id="S4.p17.1.m1.10.11" xref="S4.p17.1.m1.10.11.cmml"><mrow id="S4.p17.1.m1.10.11.2" xref="S4.p17.1.m1.10.11.2.cmml"><msup id="S4.p17.1.m1.10.11.2.2" xref="S4.p17.1.m1.10.11.2.2.cmml"><mi id="S4.p17.1.m1.10.11.2.2.2" xref="S4.p17.1.m1.10.11.2.2.2.cmml">p</mi><mrow id="S4.p17.1.m1.2.2.2.4" xref="S4.p17.1.m1.2.2.2.3.cmml"><mi id="S4.p17.1.m1.1.1.1.1" xref="S4.p17.1.m1.1.1.1.1.cmml">i</mi><mo id="S4.p17.1.m1.2.2.2.4.1" xref="S4.p17.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.p17.1.m1.2.2.2.2" xref="S4.p17.1.m1.2.2.2.2.cmml">j</mi></mrow></msup><mo id="S4.p17.1.m1.10.11.2.1" xref="S4.p17.1.m1.10.11.2.1.cmml">⁢</mo><mrow id="S4.p17.1.m1.10.11.2.3.2" xref="S4.p17.1.m1.10.11.2.3.1.cmml"><mo id="S4.p17.1.m1.10.11.2.3.2.1" stretchy="false" xref="S4.p17.1.m1.10.11.2.3.1.cmml">(</mo><mi id="S4.p17.1.m1.3.3" xref="S4.p17.1.m1.3.3.cmml">u</mi><mo id="S4.p17.1.m1.10.11.2.3.2.2" xref="S4.p17.1.m1.10.11.2.3.1.cmml">,</mo><mi id="S4.p17.1.m1.4.4" xref="S4.p17.1.m1.4.4.cmml">v</mi><mo id="S4.p17.1.m1.10.11.2.3.2.3" rspace="0.278em" stretchy="false" xref="S4.p17.1.m1.10.11.2.3.1.cmml">)</mo></mrow></mrow><mo id="S4.p17.1.m1.10.11.1" rspace="0.278em" xref="S4.p17.1.m1.10.11.1.cmml">:=</mo><mrow id="S4.p17.1.m1.10.11.3" xref="S4.p17.1.m1.10.11.3.cmml"><msup id="S4.p17.1.m1.10.11.3.2" xref="S4.p17.1.m1.10.11.3.2.cmml"><mi id="S4.p17.1.m1.10.11.3.2.2" xref="S4.p17.1.m1.10.11.3.2.2.cmml">p</mi><mi id="S4.p17.1.m1.10.11.3.2.3" xref="S4.p17.1.m1.10.11.3.2.3.cmml">i</mi></msup><mo id="S4.p17.1.m1.10.11.3.1" xref="S4.p17.1.m1.10.11.3.1.cmml">⁢</mo><mrow id="S4.p17.1.m1.10.11.3.3.2" xref="S4.p17.1.m1.10.11.3.3.1.cmml"><mo id="S4.p17.1.m1.10.11.3.3.2.1" stretchy="false" xref="S4.p17.1.m1.10.11.3.3.1.cmml">(</mo><mi id="S4.p17.1.m1.5.5" xref="S4.p17.1.m1.5.5.cmml">u</mi><mo id="S4.p17.1.m1.10.11.3.3.2.2" xref="S4.p17.1.m1.10.11.3.3.1.cmml">,</mo><mi id="S4.p17.1.m1.6.6" xref="S4.p17.1.m1.6.6.cmml">v</mi><mo id="S4.p17.1.m1.10.11.3.3.2.3" stretchy="false" xref="S4.p17.1.m1.10.11.3.3.1.cmml">)</mo></mrow><mo id="S4.p17.1.m1.10.11.3.1a" xref="S4.p17.1.m1.10.11.3.1.cmml">⁢</mo><msup id="S4.p17.1.m1.10.11.3.4" xref="S4.p17.1.m1.10.11.3.4.cmml"><mi id="S4.p17.1.m1.10.11.3.4.2" xref="S4.p17.1.m1.10.11.3.4.2.cmml">p</mi><mrow id="S4.p17.1.m1.10.11.3.4.3" xref="S4.p17.1.m1.10.11.3.4.3.cmml"><mi id="S4.p17.1.m1.10.11.3.4.3.2" xref="S4.p17.1.m1.10.11.3.4.3.2.cmml">i</mi><mo id="S4.p17.1.m1.10.11.3.4.3.1" xref="S4.p17.1.m1.10.11.3.4.3.1.cmml">+</mo><mn id="S4.p17.1.m1.10.11.3.4.3.3" xref="S4.p17.1.m1.10.11.3.4.3.3.cmml">1</mn></mrow></msup><mo id="S4.p17.1.m1.10.11.3.1b" xref="S4.p17.1.m1.10.11.3.1.cmml">⁢</mo><mrow id="S4.p17.1.m1.10.11.3.5.2" xref="S4.p17.1.m1.10.11.3.5.1.cmml"><mo id="S4.p17.1.m1.10.11.3.5.2.1" stretchy="false" xref="S4.p17.1.m1.10.11.3.5.1.cmml">(</mo><mi id="S4.p17.1.m1.7.7" xref="S4.p17.1.m1.7.7.cmml">u</mi><mo id="S4.p17.1.m1.10.11.3.5.2.2" xref="S4.p17.1.m1.10.11.3.5.1.cmml">,</mo><mi id="S4.p17.1.m1.8.8" xref="S4.p17.1.m1.8.8.cmml">v</mi><mo id="S4.p17.1.m1.10.11.3.5.2.3" stretchy="false" xref="S4.p17.1.m1.10.11.3.5.1.cmml">)</mo></mrow><mo id="S4.p17.1.m1.10.11.3.1c" xref="S4.p17.1.m1.10.11.3.1.cmml">⁢</mo><mi id="S4.p17.1.m1.10.11.3.6" mathvariant="normal" xref="S4.p17.1.m1.10.11.3.6.cmml">⋯</mi><mo id="S4.p17.1.m1.10.11.3.1d" xref="S4.p17.1.m1.10.11.3.1.cmml">⁢</mo><msup id="S4.p17.1.m1.10.11.3.7" xref="S4.p17.1.m1.10.11.3.7.cmml"><mi id="S4.p17.1.m1.10.11.3.7.2" xref="S4.p17.1.m1.10.11.3.7.2.cmml">p</mi><mi id="S4.p17.1.m1.10.11.3.7.3" xref="S4.p17.1.m1.10.11.3.7.3.cmml">j</mi></msup><mo id="S4.p17.1.m1.10.11.3.1e" xref="S4.p17.1.m1.10.11.3.1.cmml">⁢</mo><mrow id="S4.p17.1.m1.10.11.3.8.2" xref="S4.p17.1.m1.10.11.3.8.1.cmml"><mo id="S4.p17.1.m1.10.11.3.8.2.1" stretchy="false" xref="S4.p17.1.m1.10.11.3.8.1.cmml">(</mo><mi id="S4.p17.1.m1.9.9" xref="S4.p17.1.m1.9.9.cmml">u</mi><mo id="S4.p17.1.m1.10.11.3.8.2.2" xref="S4.p17.1.m1.10.11.3.8.1.cmml">,</mo><mi id="S4.p17.1.m1.10.10" xref="S4.p17.1.m1.10.10.cmml">v</mi><mo id="S4.p17.1.m1.10.11.3.8.2.3" stretchy="false" xref="S4.p17.1.m1.10.11.3.8.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p17.1.m1.10b"><apply id="S4.p17.1.m1.10.11.cmml" xref="S4.p17.1.m1.10.11"><csymbol cd="latexml" id="S4.p17.1.m1.10.11.1.cmml" xref="S4.p17.1.m1.10.11.1">assign</csymbol><apply id="S4.p17.1.m1.10.11.2.cmml" xref="S4.p17.1.m1.10.11.2"><times id="S4.p17.1.m1.10.11.2.1.cmml" xref="S4.p17.1.m1.10.11.2.1"></times><apply id="S4.p17.1.m1.10.11.2.2.cmml" xref="S4.p17.1.m1.10.11.2.2"><csymbol cd="ambiguous" id="S4.p17.1.m1.10.11.2.2.1.cmml" xref="S4.p17.1.m1.10.11.2.2">superscript</csymbol><ci id="S4.p17.1.m1.10.11.2.2.2.cmml" xref="S4.p17.1.m1.10.11.2.2.2">𝑝</ci><list id="S4.p17.1.m1.2.2.2.3.cmml" xref="S4.p17.1.m1.2.2.2.4"><ci id="S4.p17.1.m1.1.1.1.1.cmml" xref="S4.p17.1.m1.1.1.1.1">𝑖</ci><ci id="S4.p17.1.m1.2.2.2.2.cmml" xref="S4.p17.1.m1.2.2.2.2">𝑗</ci></list></apply><interval closure="open" id="S4.p17.1.m1.10.11.2.3.1.cmml" xref="S4.p17.1.m1.10.11.2.3.2"><ci id="S4.p17.1.m1.3.3.cmml" xref="S4.p17.1.m1.3.3">𝑢</ci><ci id="S4.p17.1.m1.4.4.cmml" xref="S4.p17.1.m1.4.4">𝑣</ci></interval></apply><apply id="S4.p17.1.m1.10.11.3.cmml" xref="S4.p17.1.m1.10.11.3"><times id="S4.p17.1.m1.10.11.3.1.cmml" xref="S4.p17.1.m1.10.11.3.1"></times><apply id="S4.p17.1.m1.10.11.3.2.cmml" xref="S4.p17.1.m1.10.11.3.2"><csymbol cd="ambiguous" id="S4.p17.1.m1.10.11.3.2.1.cmml" xref="S4.p17.1.m1.10.11.3.2">superscript</csymbol><ci id="S4.p17.1.m1.10.11.3.2.2.cmml" xref="S4.p17.1.m1.10.11.3.2.2">𝑝</ci><ci id="S4.p17.1.m1.10.11.3.2.3.cmml" xref="S4.p17.1.m1.10.11.3.2.3">𝑖</ci></apply><interval closure="open" id="S4.p17.1.m1.10.11.3.3.1.cmml" xref="S4.p17.1.m1.10.11.3.3.2"><ci id="S4.p17.1.m1.5.5.cmml" xref="S4.p17.1.m1.5.5">𝑢</ci><ci id="S4.p17.1.m1.6.6.cmml" xref="S4.p17.1.m1.6.6">𝑣</ci></interval><apply id="S4.p17.1.m1.10.11.3.4.cmml" xref="S4.p17.1.m1.10.11.3.4"><csymbol cd="ambiguous" id="S4.p17.1.m1.10.11.3.4.1.cmml" xref="S4.p17.1.m1.10.11.3.4">superscript</csymbol><ci id="S4.p17.1.m1.10.11.3.4.2.cmml" xref="S4.p17.1.m1.10.11.3.4.2">𝑝</ci><apply id="S4.p17.1.m1.10.11.3.4.3.cmml" xref="S4.p17.1.m1.10.11.3.4.3"><plus id="S4.p17.1.m1.10.11.3.4.3.1.cmml" xref="S4.p17.1.m1.10.11.3.4.3.1"></plus><ci id="S4.p17.1.m1.10.11.3.4.3.2.cmml" xref="S4.p17.1.m1.10.11.3.4.3.2">𝑖</ci><cn id="S4.p17.1.m1.10.11.3.4.3.3.cmml" type="integer" xref="S4.p17.1.m1.10.11.3.4.3.3">1</cn></apply></apply><interval closure="open" id="S4.p17.1.m1.10.11.3.5.1.cmml" xref="S4.p17.1.m1.10.11.3.5.2"><ci id="S4.p17.1.m1.7.7.cmml" xref="S4.p17.1.m1.7.7">𝑢</ci><ci id="S4.p17.1.m1.8.8.cmml" xref="S4.p17.1.m1.8.8">𝑣</ci></interval><ci id="S4.p17.1.m1.10.11.3.6.cmml" xref="S4.p17.1.m1.10.11.3.6">⋯</ci><apply id="S4.p17.1.m1.10.11.3.7.cmml" xref="S4.p17.1.m1.10.11.3.7"><csymbol cd="ambiguous" id="S4.p17.1.m1.10.11.3.7.1.cmml" xref="S4.p17.1.m1.10.11.3.7">superscript</csymbol><ci id="S4.p17.1.m1.10.11.3.7.2.cmml" xref="S4.p17.1.m1.10.11.3.7.2">𝑝</ci><ci id="S4.p17.1.m1.10.11.3.7.3.cmml" xref="S4.p17.1.m1.10.11.3.7.3">𝑗</ci></apply><interval closure="open" id="S4.p17.1.m1.10.11.3.8.1.cmml" xref="S4.p17.1.m1.10.11.3.8.2"><ci id="S4.p17.1.m1.9.9.cmml" xref="S4.p17.1.m1.9.9">𝑢</ci><ci id="S4.p17.1.m1.10.10.cmml" xref="S4.p17.1.m1.10.10">𝑣</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p17.1.m1.10c">p^{i,j}(u,v):=p^{i}(u,v)p^{i+1}(u,v)\cdots p^{j}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p17.1.m1.10d">italic_p start_POSTSUPERSCRIPT italic_i , italic_j end_POSTSUPERSCRIPT ( italic_u , italic_v ) := italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v ) italic_p start_POSTSUPERSCRIPT italic_i + 1 end_POSTSUPERSCRIPT ( italic_u , italic_v ) ⋯ italic_p start_POSTSUPERSCRIPT italic_j end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math>. Here we use <math alttext="\bar{\mathcal{I}}^{i,GPRP}" class="ltx_Math" display="inline" id="S4.p17.2.m2.2"><semantics id="S4.p17.2.m2.2a"><msup id="S4.p17.2.m2.2.3" xref="S4.p17.2.m2.2.3.cmml"><mover accent="true" id="S4.p17.2.m2.2.3.2" xref="S4.p17.2.m2.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p17.2.m2.2.3.2.2" xref="S4.p17.2.m2.2.3.2.2.cmml">ℐ</mi><mo id="S4.p17.2.m2.2.3.2.1" xref="S4.p17.2.m2.2.3.2.1.cmml">¯</mo></mover><mrow id="S4.p17.2.m2.2.2.2.2" xref="S4.p17.2.m2.2.2.2.3.cmml"><mi id="S4.p17.2.m2.1.1.1.1" xref="S4.p17.2.m2.1.1.1.1.cmml">i</mi><mo id="S4.p17.2.m2.2.2.2.2.2" xref="S4.p17.2.m2.2.2.2.3.cmml">,</mo><mrow id="S4.p17.2.m2.2.2.2.2.1" xref="S4.p17.2.m2.2.2.2.2.1.cmml"><mi id="S4.p17.2.m2.2.2.2.2.1.2" xref="S4.p17.2.m2.2.2.2.2.1.2.cmml">G</mi><mo id="S4.p17.2.m2.2.2.2.2.1.1" xref="S4.p17.2.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p17.2.m2.2.2.2.2.1.3" xref="S4.p17.2.m2.2.2.2.2.1.3.cmml">P</mi><mo id="S4.p17.2.m2.2.2.2.2.1.1a" xref="S4.p17.2.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p17.2.m2.2.2.2.2.1.4" xref="S4.p17.2.m2.2.2.2.2.1.4.cmml">R</mi><mo id="S4.p17.2.m2.2.2.2.2.1.1b" xref="S4.p17.2.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p17.2.m2.2.2.2.2.1.5" xref="S4.p17.2.m2.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p17.2.m2.2b"><apply id="S4.p17.2.m2.2.3.cmml" xref="S4.p17.2.m2.2.3"><csymbol cd="ambiguous" id="S4.p17.2.m2.2.3.1.cmml" xref="S4.p17.2.m2.2.3">superscript</csymbol><apply id="S4.p17.2.m2.2.3.2.cmml" xref="S4.p17.2.m2.2.3.2"><ci id="S4.p17.2.m2.2.3.2.1.cmml" xref="S4.p17.2.m2.2.3.2.1">¯</ci><ci id="S4.p17.2.m2.2.3.2.2.cmml" xref="S4.p17.2.m2.2.3.2.2">ℐ</ci></apply><list id="S4.p17.2.m2.2.2.2.3.cmml" xref="S4.p17.2.m2.2.2.2.2"><ci id="S4.p17.2.m2.1.1.1.1.cmml" xref="S4.p17.2.m2.1.1.1.1">𝑖</ci><apply id="S4.p17.2.m2.2.2.2.2.1.cmml" xref="S4.p17.2.m2.2.2.2.2.1"><times id="S4.p17.2.m2.2.2.2.2.1.1.cmml" xref="S4.p17.2.m2.2.2.2.2.1.1"></times><ci id="S4.p17.2.m2.2.2.2.2.1.2.cmml" xref="S4.p17.2.m2.2.2.2.2.1.2">𝐺</ci><ci id="S4.p17.2.m2.2.2.2.2.1.3.cmml" xref="S4.p17.2.m2.2.2.2.2.1.3">𝑃</ci><ci id="S4.p17.2.m2.2.2.2.2.1.4.cmml" xref="S4.p17.2.m2.2.2.2.2.1.4">𝑅</ci><ci id="S4.p17.2.m2.2.2.2.2.1.5.cmml" xref="S4.p17.2.m2.2.2.2.2.1.5">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p17.2.m2.2c">\bar{\mathcal{I}}^{i,GPRP}</annotation><annotation encoding="application/x-llamapun" id="S4.p17.2.m2.2d">over¯ start_ARG caligraphic_I end_ARG start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math> to distinguish <math alttext="\mathcal{I}^{i,GPRP}" class="ltx_Math" display="inline" id="S4.p17.3.m3.2"><semantics id="S4.p17.3.m3.2a"><msup id="S4.p17.3.m3.2.3" xref="S4.p17.3.m3.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p17.3.m3.2.3.2" xref="S4.p17.3.m3.2.3.2.cmml">ℐ</mi><mrow id="S4.p17.3.m3.2.2.2.2" xref="S4.p17.3.m3.2.2.2.3.cmml"><mi id="S4.p17.3.m3.1.1.1.1" xref="S4.p17.3.m3.1.1.1.1.cmml">i</mi><mo id="S4.p17.3.m3.2.2.2.2.2" xref="S4.p17.3.m3.2.2.2.3.cmml">,</mo><mrow id="S4.p17.3.m3.2.2.2.2.1" xref="S4.p17.3.m3.2.2.2.2.1.cmml"><mi id="S4.p17.3.m3.2.2.2.2.1.2" xref="S4.p17.3.m3.2.2.2.2.1.2.cmml">G</mi><mo id="S4.p17.3.m3.2.2.2.2.1.1" xref="S4.p17.3.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p17.3.m3.2.2.2.2.1.3" xref="S4.p17.3.m3.2.2.2.2.1.3.cmml">P</mi><mo id="S4.p17.3.m3.2.2.2.2.1.1a" xref="S4.p17.3.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p17.3.m3.2.2.2.2.1.4" xref="S4.p17.3.m3.2.2.2.2.1.4.cmml">R</mi><mo id="S4.p17.3.m3.2.2.2.2.1.1b" xref="S4.p17.3.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p17.3.m3.2.2.2.2.1.5" xref="S4.p17.3.m3.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p17.3.m3.2b"><apply id="S4.p17.3.m3.2.3.cmml" xref="S4.p17.3.m3.2.3"><csymbol cd="ambiguous" id="S4.p17.3.m3.2.3.1.cmml" xref="S4.p17.3.m3.2.3">superscript</csymbol><ci id="S4.p17.3.m3.2.3.2.cmml" xref="S4.p17.3.m3.2.3.2">ℐ</ci><list id="S4.p17.3.m3.2.2.2.3.cmml" xref="S4.p17.3.m3.2.2.2.2"><ci id="S4.p17.3.m3.1.1.1.1.cmml" xref="S4.p17.3.m3.1.1.1.1">𝑖</ci><apply id="S4.p17.3.m3.2.2.2.2.1.cmml" xref="S4.p17.3.m3.2.2.2.2.1"><times id="S4.p17.3.m3.2.2.2.2.1.1.cmml" xref="S4.p17.3.m3.2.2.2.2.1.1"></times><ci id="S4.p17.3.m3.2.2.2.2.1.2.cmml" xref="S4.p17.3.m3.2.2.2.2.1.2">𝐺</ci><ci id="S4.p17.3.m3.2.2.2.2.1.3.cmml" xref="S4.p17.3.m3.2.2.2.2.1.3">𝑃</ci><ci id="S4.p17.3.m3.2.2.2.2.1.4.cmml" xref="S4.p17.3.m3.2.2.2.2.1.4">𝑅</ci><ci id="S4.p17.3.m3.2.2.2.2.1.5.cmml" xref="S4.p17.3.m3.2.2.2.2.1.5">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p17.3.m3.2c">\mathcal{I}^{i,GPRP}</annotation><annotation encoding="application/x-llamapun" id="S4.p17.3.m3.2d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math> in equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>). When Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption1" title="Assumption 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> holds, they are the same, otherwise they are different.</p>
</div>
<div class="ltx_para" id="S4.p18">
<p class="ltx_p" id="S4.p18.2">Compared with the original objective function (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E3" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>), the new objective function looks more like the objective function (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E2" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>) of PRP, which gets rid of the annoying combinatorial form of subsequent stages and allows efficient learning like many previous algorithms under PRP. However, different from the objective function (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E2" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>) of PRP which only considers the interest of users, the new objective function (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E7" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>) still considers both the selection bias of subsequent stages (i.e. <math alttext="p^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S4.p18.1.m1.4"><semantics id="S4.p18.1.m1.4a"><mrow id="S4.p18.1.m1.4.5" xref="S4.p18.1.m1.4.5.cmml"><msup id="S4.p18.1.m1.4.5.2" xref="S4.p18.1.m1.4.5.2.cmml"><mi id="S4.p18.1.m1.4.5.2.2" xref="S4.p18.1.m1.4.5.2.2.cmml">p</mi><mrow id="S4.p18.1.m1.2.2.2.2" xref="S4.p18.1.m1.2.2.2.3.cmml"><mrow id="S4.p18.1.m1.2.2.2.2.1" xref="S4.p18.1.m1.2.2.2.2.1.cmml"><mi id="S4.p18.1.m1.2.2.2.2.1.2" xref="S4.p18.1.m1.2.2.2.2.1.2.cmml">i</mi><mo id="S4.p18.1.m1.2.2.2.2.1.1" xref="S4.p18.1.m1.2.2.2.2.1.1.cmml">+</mo><mn id="S4.p18.1.m1.2.2.2.2.1.3" xref="S4.p18.1.m1.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S4.p18.1.m1.2.2.2.2.2" xref="S4.p18.1.m1.2.2.2.3.cmml">,</mo><mn id="S4.p18.1.m1.1.1.1.1" xref="S4.p18.1.m1.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S4.p18.1.m1.4.5.1" xref="S4.p18.1.m1.4.5.1.cmml">⁢</mo><mrow id="S4.p18.1.m1.4.5.3.2" xref="S4.p18.1.m1.4.5.3.1.cmml"><mo id="S4.p18.1.m1.4.5.3.2.1" stretchy="false" xref="S4.p18.1.m1.4.5.3.1.cmml">(</mo><mi id="S4.p18.1.m1.3.3" xref="S4.p18.1.m1.3.3.cmml">u</mi><mo id="S4.p18.1.m1.4.5.3.2.2" xref="S4.p18.1.m1.4.5.3.1.cmml">,</mo><mi id="S4.p18.1.m1.4.4" xref="S4.p18.1.m1.4.4.cmml">v</mi><mo id="S4.p18.1.m1.4.5.3.2.3" stretchy="false" xref="S4.p18.1.m1.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p18.1.m1.4b"><apply id="S4.p18.1.m1.4.5.cmml" xref="S4.p18.1.m1.4.5"><times id="S4.p18.1.m1.4.5.1.cmml" xref="S4.p18.1.m1.4.5.1"></times><apply id="S4.p18.1.m1.4.5.2.cmml" xref="S4.p18.1.m1.4.5.2"><csymbol cd="ambiguous" id="S4.p18.1.m1.4.5.2.1.cmml" xref="S4.p18.1.m1.4.5.2">superscript</csymbol><ci id="S4.p18.1.m1.4.5.2.2.cmml" xref="S4.p18.1.m1.4.5.2.2">𝑝</ci><list id="S4.p18.1.m1.2.2.2.3.cmml" xref="S4.p18.1.m1.2.2.2.2"><apply id="S4.p18.1.m1.2.2.2.2.1.cmml" xref="S4.p18.1.m1.2.2.2.2.1"><plus id="S4.p18.1.m1.2.2.2.2.1.1.cmml" xref="S4.p18.1.m1.2.2.2.2.1.1"></plus><ci id="S4.p18.1.m1.2.2.2.2.1.2.cmml" xref="S4.p18.1.m1.2.2.2.2.1.2">𝑖</ci><cn id="S4.p18.1.m1.2.2.2.2.1.3.cmml" type="integer" xref="S4.p18.1.m1.2.2.2.2.1.3">1</cn></apply><cn id="S4.p18.1.m1.1.1.1.1.cmml" type="integer" xref="S4.p18.1.m1.1.1.1.1">4</cn></list></apply><interval closure="open" id="S4.p18.1.m1.4.5.3.1.cmml" xref="S4.p18.1.m1.4.5.3.2"><ci id="S4.p18.1.m1.3.3.cmml" xref="S4.p18.1.m1.3.3">𝑢</ci><ci id="S4.p18.1.m1.4.4.cmml" xref="S4.p18.1.m1.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p18.1.m1.4c">p^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p18.1.m1.4d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> term) and the interest of users (i.e. <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p18.2.m2.2"><semantics id="S4.p18.2.m2.2a"><mrow id="S4.p18.2.m2.2.3" xref="S4.p18.2.m2.2.3.cmml"><mi id="S4.p18.2.m2.2.3.2" xref="S4.p18.2.m2.2.3.2.cmml">r</mi><mo id="S4.p18.2.m2.2.3.1" xref="S4.p18.2.m2.2.3.1.cmml">⁢</mo><mrow id="S4.p18.2.m2.2.3.3.2" xref="S4.p18.2.m2.2.3.3.1.cmml"><mo id="S4.p18.2.m2.2.3.3.2.1" stretchy="false" xref="S4.p18.2.m2.2.3.3.1.cmml">(</mo><mi id="S4.p18.2.m2.1.1" xref="S4.p18.2.m2.1.1.cmml">u</mi><mo id="S4.p18.2.m2.2.3.3.2.2" xref="S4.p18.2.m2.2.3.3.1.cmml">,</mo><mi id="S4.p18.2.m2.2.2" xref="S4.p18.2.m2.2.2.cmml">v</mi><mo id="S4.p18.2.m2.2.3.3.2.3" stretchy="false" xref="S4.p18.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p18.2.m2.2b"><apply id="S4.p18.2.m2.2.3.cmml" xref="S4.p18.2.m2.2.3"><times id="S4.p18.2.m2.2.3.1.cmml" xref="S4.p18.2.m2.2.3.1"></times><ci id="S4.p18.2.m2.2.3.2.cmml" xref="S4.p18.2.m2.2.3.2">𝑟</ci><interval closure="open" id="S4.p18.2.m2.2.3.3.1.cmml" xref="S4.p18.2.m2.2.3.3.2"><ci id="S4.p18.2.m2.1.1.cmml" xref="S4.p18.2.m2.1.1">𝑢</ci><ci id="S4.p18.2.m2.2.2.cmml" xref="S4.p18.2.m2.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p18.2.m2.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p18.2.m2.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> term), which inherits the merit of GPRP.</p>
</div>
<div class="ltx_para" id="S4.p19">
<p class="ltx_p" id="S4.p19.2">Without Assumption (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption1" title="Assumption 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a>), though it is hard to compare <math alttext="\bar{\mathcal{I}}^{i,GPRP}" class="ltx_Math" display="inline" id="S4.p19.1.m1.2"><semantics id="S4.p19.1.m1.2a"><msup id="S4.p19.1.m1.2.3" xref="S4.p19.1.m1.2.3.cmml"><mover accent="true" id="S4.p19.1.m1.2.3.2" xref="S4.p19.1.m1.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p19.1.m1.2.3.2.2" xref="S4.p19.1.m1.2.3.2.2.cmml">ℐ</mi><mo id="S4.p19.1.m1.2.3.2.1" xref="S4.p19.1.m1.2.3.2.1.cmml">¯</mo></mover><mrow id="S4.p19.1.m1.2.2.2.2" xref="S4.p19.1.m1.2.2.2.3.cmml"><mi id="S4.p19.1.m1.1.1.1.1" xref="S4.p19.1.m1.1.1.1.1.cmml">i</mi><mo id="S4.p19.1.m1.2.2.2.2.2" xref="S4.p19.1.m1.2.2.2.3.cmml">,</mo><mrow id="S4.p19.1.m1.2.2.2.2.1" xref="S4.p19.1.m1.2.2.2.2.1.cmml"><mi id="S4.p19.1.m1.2.2.2.2.1.2" xref="S4.p19.1.m1.2.2.2.2.1.2.cmml">G</mi><mo id="S4.p19.1.m1.2.2.2.2.1.1" xref="S4.p19.1.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p19.1.m1.2.2.2.2.1.3" xref="S4.p19.1.m1.2.2.2.2.1.3.cmml">P</mi><mo id="S4.p19.1.m1.2.2.2.2.1.1a" xref="S4.p19.1.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p19.1.m1.2.2.2.2.1.4" xref="S4.p19.1.m1.2.2.2.2.1.4.cmml">R</mi><mo id="S4.p19.1.m1.2.2.2.2.1.1b" xref="S4.p19.1.m1.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p19.1.m1.2.2.2.2.1.5" xref="S4.p19.1.m1.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p19.1.m1.2b"><apply id="S4.p19.1.m1.2.3.cmml" xref="S4.p19.1.m1.2.3"><csymbol cd="ambiguous" id="S4.p19.1.m1.2.3.1.cmml" xref="S4.p19.1.m1.2.3">superscript</csymbol><apply id="S4.p19.1.m1.2.3.2.cmml" xref="S4.p19.1.m1.2.3.2"><ci id="S4.p19.1.m1.2.3.2.1.cmml" xref="S4.p19.1.m1.2.3.2.1">¯</ci><ci id="S4.p19.1.m1.2.3.2.2.cmml" xref="S4.p19.1.m1.2.3.2.2">ℐ</ci></apply><list id="S4.p19.1.m1.2.2.2.3.cmml" xref="S4.p19.1.m1.2.2.2.2"><ci id="S4.p19.1.m1.1.1.1.1.cmml" xref="S4.p19.1.m1.1.1.1.1">𝑖</ci><apply id="S4.p19.1.m1.2.2.2.2.1.cmml" xref="S4.p19.1.m1.2.2.2.2.1"><times id="S4.p19.1.m1.2.2.2.2.1.1.cmml" xref="S4.p19.1.m1.2.2.2.2.1.1"></times><ci id="S4.p19.1.m1.2.2.2.2.1.2.cmml" xref="S4.p19.1.m1.2.2.2.2.1.2">𝐺</ci><ci id="S4.p19.1.m1.2.2.2.2.1.3.cmml" xref="S4.p19.1.m1.2.2.2.2.1.3">𝑃</ci><ci id="S4.p19.1.m1.2.2.2.2.1.4.cmml" xref="S4.p19.1.m1.2.2.2.2.1.4">𝑅</ci><ci id="S4.p19.1.m1.2.2.2.2.1.5.cmml" xref="S4.p19.1.m1.2.2.2.2.1.5">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p19.1.m1.2c">\bar{\mathcal{I}}^{i,GPRP}</annotation><annotation encoding="application/x-llamapun" id="S4.p19.1.m1.2d">over¯ start_ARG caligraphic_I end_ARG start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math> in (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E7" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>) and <math alttext="\mathcal{I}^{i,PRP}" class="ltx_Math" display="inline" id="S4.p19.2.m2.2"><semantics id="S4.p19.2.m2.2a"><msup id="S4.p19.2.m2.2.3" xref="S4.p19.2.m2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p19.2.m2.2.3.2" xref="S4.p19.2.m2.2.3.2.cmml">ℐ</mi><mrow id="S4.p19.2.m2.2.2.2.2" xref="S4.p19.2.m2.2.2.2.3.cmml"><mi id="S4.p19.2.m2.1.1.1.1" xref="S4.p19.2.m2.1.1.1.1.cmml">i</mi><mo id="S4.p19.2.m2.2.2.2.2.2" xref="S4.p19.2.m2.2.2.2.3.cmml">,</mo><mrow id="S4.p19.2.m2.2.2.2.2.1" xref="S4.p19.2.m2.2.2.2.2.1.cmml"><mi id="S4.p19.2.m2.2.2.2.2.1.2" xref="S4.p19.2.m2.2.2.2.2.1.2.cmml">P</mi><mo id="S4.p19.2.m2.2.2.2.2.1.1" xref="S4.p19.2.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p19.2.m2.2.2.2.2.1.3" xref="S4.p19.2.m2.2.2.2.2.1.3.cmml">R</mi><mo id="S4.p19.2.m2.2.2.2.2.1.1a" xref="S4.p19.2.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p19.2.m2.2.2.2.2.1.4" xref="S4.p19.2.m2.2.2.2.2.1.4.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p19.2.m2.2b"><apply id="S4.p19.2.m2.2.3.cmml" xref="S4.p19.2.m2.2.3"><csymbol cd="ambiguous" id="S4.p19.2.m2.2.3.1.cmml" xref="S4.p19.2.m2.2.3">superscript</csymbol><ci id="S4.p19.2.m2.2.3.2.cmml" xref="S4.p19.2.m2.2.3.2">ℐ</ci><list id="S4.p19.2.m2.2.2.2.3.cmml" xref="S4.p19.2.m2.2.2.2.2"><ci id="S4.p19.2.m2.1.1.1.1.cmml" xref="S4.p19.2.m2.1.1.1.1">𝑖</ci><apply id="S4.p19.2.m2.2.2.2.2.1.cmml" xref="S4.p19.2.m2.2.2.2.2.1"><times id="S4.p19.2.m2.2.2.2.2.1.1.cmml" xref="S4.p19.2.m2.2.2.2.2.1.1"></times><ci id="S4.p19.2.m2.2.2.2.2.1.2.cmml" xref="S4.p19.2.m2.2.2.2.2.1.2">𝑃</ci><ci id="S4.p19.2.m2.2.2.2.2.1.3.cmml" xref="S4.p19.2.m2.2.2.2.2.1.3">𝑅</ci><ci id="S4.p19.2.m2.2.2.2.2.1.4.cmml" xref="S4.p19.2.m2.2.2.2.2.1.4">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p19.2.m2.2c">\mathcal{I}^{i,PRP}</annotation><annotation encoding="application/x-llamapun" id="S4.p19.2.m2.2d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math> in (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E2" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>) in general, we give two observations in some special cases of the system, which may help us understand the relation between them.</p>
</div>
<div class="ltx_theorem ltx_theorem_obser" id="Thmobser1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmobser1.1.1.1">Observation 1</span></span><span class="ltx_text ltx_font_bold" id="Thmobser1.2.2">.</span>
</h6>
<div class="ltx_para" id="Thmobser1.p1">
<p class="ltx_p" id="Thmobser1.p1.2"><span class="ltx_text ltx_font_italic" id="Thmobser1.p1.2.2">If the selection bias of subsequent stages <math alttext="p^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="Thmobser1.p1.1.1.m1.4"><semantics id="Thmobser1.p1.1.1.m1.4a"><mrow id="Thmobser1.p1.1.1.m1.4.5" xref="Thmobser1.p1.1.1.m1.4.5.cmml"><msup id="Thmobser1.p1.1.1.m1.4.5.2" xref="Thmobser1.p1.1.1.m1.4.5.2.cmml"><mi id="Thmobser1.p1.1.1.m1.4.5.2.2" xref="Thmobser1.p1.1.1.m1.4.5.2.2.cmml">p</mi><mrow id="Thmobser1.p1.1.1.m1.2.2.2.2" xref="Thmobser1.p1.1.1.m1.2.2.2.3.cmml"><mrow id="Thmobser1.p1.1.1.m1.2.2.2.2.1" xref="Thmobser1.p1.1.1.m1.2.2.2.2.1.cmml"><mi id="Thmobser1.p1.1.1.m1.2.2.2.2.1.2" xref="Thmobser1.p1.1.1.m1.2.2.2.2.1.2.cmml">i</mi><mo id="Thmobser1.p1.1.1.m1.2.2.2.2.1.1" xref="Thmobser1.p1.1.1.m1.2.2.2.2.1.1.cmml">+</mo><mn id="Thmobser1.p1.1.1.m1.2.2.2.2.1.3" xref="Thmobser1.p1.1.1.m1.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="Thmobser1.p1.1.1.m1.2.2.2.2.2" xref="Thmobser1.p1.1.1.m1.2.2.2.3.cmml">,</mo><mn id="Thmobser1.p1.1.1.m1.1.1.1.1" xref="Thmobser1.p1.1.1.m1.1.1.1.1.cmml">4</mn></mrow></msup><mo id="Thmobser1.p1.1.1.m1.4.5.1" xref="Thmobser1.p1.1.1.m1.4.5.1.cmml">⁢</mo><mrow id="Thmobser1.p1.1.1.m1.4.5.3.2" xref="Thmobser1.p1.1.1.m1.4.5.3.1.cmml"><mo id="Thmobser1.p1.1.1.m1.4.5.3.2.1" stretchy="false" xref="Thmobser1.p1.1.1.m1.4.5.3.1.cmml">(</mo><mi id="Thmobser1.p1.1.1.m1.3.3" xref="Thmobser1.p1.1.1.m1.3.3.cmml">u</mi><mo id="Thmobser1.p1.1.1.m1.4.5.3.2.2" xref="Thmobser1.p1.1.1.m1.4.5.3.1.cmml">,</mo><mi id="Thmobser1.p1.1.1.m1.4.4" xref="Thmobser1.p1.1.1.m1.4.4.cmml">v</mi><mo id="Thmobser1.p1.1.1.m1.4.5.3.2.3" stretchy="false" xref="Thmobser1.p1.1.1.m1.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmobser1.p1.1.1.m1.4b"><apply id="Thmobser1.p1.1.1.m1.4.5.cmml" xref="Thmobser1.p1.1.1.m1.4.5"><times id="Thmobser1.p1.1.1.m1.4.5.1.cmml" xref="Thmobser1.p1.1.1.m1.4.5.1"></times><apply id="Thmobser1.p1.1.1.m1.4.5.2.cmml" xref="Thmobser1.p1.1.1.m1.4.5.2"><csymbol cd="ambiguous" id="Thmobser1.p1.1.1.m1.4.5.2.1.cmml" xref="Thmobser1.p1.1.1.m1.4.5.2">superscript</csymbol><ci id="Thmobser1.p1.1.1.m1.4.5.2.2.cmml" xref="Thmobser1.p1.1.1.m1.4.5.2.2">𝑝</ci><list id="Thmobser1.p1.1.1.m1.2.2.2.3.cmml" xref="Thmobser1.p1.1.1.m1.2.2.2.2"><apply id="Thmobser1.p1.1.1.m1.2.2.2.2.1.cmml" xref="Thmobser1.p1.1.1.m1.2.2.2.2.1"><plus id="Thmobser1.p1.1.1.m1.2.2.2.2.1.1.cmml" xref="Thmobser1.p1.1.1.m1.2.2.2.2.1.1"></plus><ci id="Thmobser1.p1.1.1.m1.2.2.2.2.1.2.cmml" xref="Thmobser1.p1.1.1.m1.2.2.2.2.1.2">𝑖</ci><cn id="Thmobser1.p1.1.1.m1.2.2.2.2.1.3.cmml" type="integer" xref="Thmobser1.p1.1.1.m1.2.2.2.2.1.3">1</cn></apply><cn id="Thmobser1.p1.1.1.m1.1.1.1.1.cmml" type="integer" xref="Thmobser1.p1.1.1.m1.1.1.1.1">4</cn></list></apply><interval closure="open" id="Thmobser1.p1.1.1.m1.4.5.3.1.cmml" xref="Thmobser1.p1.1.1.m1.4.5.3.2"><ci id="Thmobser1.p1.1.1.m1.3.3.cmml" xref="Thmobser1.p1.1.1.m1.3.3">𝑢</ci><ci id="Thmobser1.p1.1.1.m1.4.4.cmml" xref="Thmobser1.p1.1.1.m1.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmobser1.p1.1.1.m1.4c">p^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="Thmobser1.p1.1.1.m1.4d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> is independent of items, then <math alttext="\bar{\mathcal{I}}^{i,GPRP}=\mathcal{I}^{i,PRP}" class="ltx_Math" display="inline" id="Thmobser1.p1.2.2.m2.4"><semantics id="Thmobser1.p1.2.2.m2.4a"><mrow id="Thmobser1.p1.2.2.m2.4.5" xref="Thmobser1.p1.2.2.m2.4.5.cmml"><msup id="Thmobser1.p1.2.2.m2.4.5.2" xref="Thmobser1.p1.2.2.m2.4.5.2.cmml"><mover accent="true" id="Thmobser1.p1.2.2.m2.4.5.2.2" xref="Thmobser1.p1.2.2.m2.4.5.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmobser1.p1.2.2.m2.4.5.2.2.2" xref="Thmobser1.p1.2.2.m2.4.5.2.2.2.cmml">ℐ</mi><mo id="Thmobser1.p1.2.2.m2.4.5.2.2.1" xref="Thmobser1.p1.2.2.m2.4.5.2.2.1.cmml">¯</mo></mover><mrow id="Thmobser1.p1.2.2.m2.2.2.2.2" xref="Thmobser1.p1.2.2.m2.2.2.2.3.cmml"><mi id="Thmobser1.p1.2.2.m2.1.1.1.1" xref="Thmobser1.p1.2.2.m2.1.1.1.1.cmml">i</mi><mo id="Thmobser1.p1.2.2.m2.2.2.2.2.2" xref="Thmobser1.p1.2.2.m2.2.2.2.3.cmml">,</mo><mrow id="Thmobser1.p1.2.2.m2.2.2.2.2.1" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.cmml"><mi id="Thmobser1.p1.2.2.m2.2.2.2.2.1.2" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.2.cmml">G</mi><mo id="Thmobser1.p1.2.2.m2.2.2.2.2.1.1" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="Thmobser1.p1.2.2.m2.2.2.2.2.1.3" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.3.cmml">P</mi><mo id="Thmobser1.p1.2.2.m2.2.2.2.2.1.1a" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="Thmobser1.p1.2.2.m2.2.2.2.2.1.4" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.4.cmml">R</mi><mo id="Thmobser1.p1.2.2.m2.2.2.2.2.1.1b" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="Thmobser1.p1.2.2.m2.2.2.2.2.1.5" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><mo id="Thmobser1.p1.2.2.m2.4.5.1" xref="Thmobser1.p1.2.2.m2.4.5.1.cmml">=</mo><msup id="Thmobser1.p1.2.2.m2.4.5.3" xref="Thmobser1.p1.2.2.m2.4.5.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmobser1.p1.2.2.m2.4.5.3.2" xref="Thmobser1.p1.2.2.m2.4.5.3.2.cmml">ℐ</mi><mrow id="Thmobser1.p1.2.2.m2.4.4.2.2" xref="Thmobser1.p1.2.2.m2.4.4.2.3.cmml"><mi id="Thmobser1.p1.2.2.m2.3.3.1.1" xref="Thmobser1.p1.2.2.m2.3.3.1.1.cmml">i</mi><mo id="Thmobser1.p1.2.2.m2.4.4.2.2.2" xref="Thmobser1.p1.2.2.m2.4.4.2.3.cmml">,</mo><mrow id="Thmobser1.p1.2.2.m2.4.4.2.2.1" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.cmml"><mi id="Thmobser1.p1.2.2.m2.4.4.2.2.1.2" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.2.cmml">P</mi><mo id="Thmobser1.p1.2.2.m2.4.4.2.2.1.1" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.1.cmml">⁢</mo><mi id="Thmobser1.p1.2.2.m2.4.4.2.2.1.3" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.3.cmml">R</mi><mo id="Thmobser1.p1.2.2.m2.4.4.2.2.1.1a" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.1.cmml">⁢</mo><mi id="Thmobser1.p1.2.2.m2.4.4.2.2.1.4" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.4.cmml">P</mi></mrow></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="Thmobser1.p1.2.2.m2.4b"><apply id="Thmobser1.p1.2.2.m2.4.5.cmml" xref="Thmobser1.p1.2.2.m2.4.5"><eq id="Thmobser1.p1.2.2.m2.4.5.1.cmml" xref="Thmobser1.p1.2.2.m2.4.5.1"></eq><apply id="Thmobser1.p1.2.2.m2.4.5.2.cmml" xref="Thmobser1.p1.2.2.m2.4.5.2"><csymbol cd="ambiguous" id="Thmobser1.p1.2.2.m2.4.5.2.1.cmml" xref="Thmobser1.p1.2.2.m2.4.5.2">superscript</csymbol><apply id="Thmobser1.p1.2.2.m2.4.5.2.2.cmml" xref="Thmobser1.p1.2.2.m2.4.5.2.2"><ci id="Thmobser1.p1.2.2.m2.4.5.2.2.1.cmml" xref="Thmobser1.p1.2.2.m2.4.5.2.2.1">¯</ci><ci id="Thmobser1.p1.2.2.m2.4.5.2.2.2.cmml" xref="Thmobser1.p1.2.2.m2.4.5.2.2.2">ℐ</ci></apply><list id="Thmobser1.p1.2.2.m2.2.2.2.3.cmml" xref="Thmobser1.p1.2.2.m2.2.2.2.2"><ci id="Thmobser1.p1.2.2.m2.1.1.1.1.cmml" xref="Thmobser1.p1.2.2.m2.1.1.1.1">𝑖</ci><apply id="Thmobser1.p1.2.2.m2.2.2.2.2.1.cmml" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1"><times id="Thmobser1.p1.2.2.m2.2.2.2.2.1.1.cmml" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.1"></times><ci id="Thmobser1.p1.2.2.m2.2.2.2.2.1.2.cmml" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.2">𝐺</ci><ci id="Thmobser1.p1.2.2.m2.2.2.2.2.1.3.cmml" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.3">𝑃</ci><ci id="Thmobser1.p1.2.2.m2.2.2.2.2.1.4.cmml" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.4">𝑅</ci><ci id="Thmobser1.p1.2.2.m2.2.2.2.2.1.5.cmml" xref="Thmobser1.p1.2.2.m2.2.2.2.2.1.5">𝑃</ci></apply></list></apply><apply id="Thmobser1.p1.2.2.m2.4.5.3.cmml" xref="Thmobser1.p1.2.2.m2.4.5.3"><csymbol cd="ambiguous" id="Thmobser1.p1.2.2.m2.4.5.3.1.cmml" xref="Thmobser1.p1.2.2.m2.4.5.3">superscript</csymbol><ci id="Thmobser1.p1.2.2.m2.4.5.3.2.cmml" xref="Thmobser1.p1.2.2.m2.4.5.3.2">ℐ</ci><list id="Thmobser1.p1.2.2.m2.4.4.2.3.cmml" xref="Thmobser1.p1.2.2.m2.4.4.2.2"><ci id="Thmobser1.p1.2.2.m2.3.3.1.1.cmml" xref="Thmobser1.p1.2.2.m2.3.3.1.1">𝑖</ci><apply id="Thmobser1.p1.2.2.m2.4.4.2.2.1.cmml" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1"><times id="Thmobser1.p1.2.2.m2.4.4.2.2.1.1.cmml" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.1"></times><ci id="Thmobser1.p1.2.2.m2.4.4.2.2.1.2.cmml" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.2">𝑃</ci><ci id="Thmobser1.p1.2.2.m2.4.4.2.2.1.3.cmml" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.3">𝑅</ci><ci id="Thmobser1.p1.2.2.m2.4.4.2.2.1.4.cmml" xref="Thmobser1.p1.2.2.m2.4.4.2.2.1.4">𝑃</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmobser1.p1.2.2.m2.4c">\bar{\mathcal{I}}^{i,GPRP}=\mathcal{I}^{i,PRP}</annotation><annotation encoding="application/x-llamapun" id="Thmobser1.p1.2.2.m2.4d">over¯ start_ARG caligraphic_I end_ARG start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT = caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math>.</span></p>
</div>
</div>
<div class="ltx_para" id="S4.p20">
<p class="ltx_p" id="S4.p20.1">The observation is obvious. For example, when subsequent stages’ output candidate items to the next stage are completely random, then the optimal candidate set should be chosen according to the underlying interest of users. However, the completely random strategy is very dangerous in an online environment which can hurt users’ experience on the platform, and the strategy in each stage is often some learned models from logged data.</p>
</div>
<div class="ltx_theorem ltx_theorem_obser" id="Thmobser2">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmobser2.1.1.1">Observation 2</span></span><span class="ltx_text ltx_font_bold" id="Thmobser2.2.2">.</span>
</h6>
<div class="ltx_para" id="Thmobser2.p1">
<p class="ltx_p" id="Thmobser2.p1.3"><span class="ltx_text ltx_font_italic" id="Thmobser2.p1.3.3">If the selection bias of subsequent stages <math alttext="p^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="Thmobser2.p1.1.1.m1.4"><semantics id="Thmobser2.p1.1.1.m1.4a"><mrow id="Thmobser2.p1.1.1.m1.4.5" xref="Thmobser2.p1.1.1.m1.4.5.cmml"><msup id="Thmobser2.p1.1.1.m1.4.5.2" xref="Thmobser2.p1.1.1.m1.4.5.2.cmml"><mi id="Thmobser2.p1.1.1.m1.4.5.2.2" xref="Thmobser2.p1.1.1.m1.4.5.2.2.cmml">p</mi><mrow id="Thmobser2.p1.1.1.m1.2.2.2.2" xref="Thmobser2.p1.1.1.m1.2.2.2.3.cmml"><mrow id="Thmobser2.p1.1.1.m1.2.2.2.2.1" xref="Thmobser2.p1.1.1.m1.2.2.2.2.1.cmml"><mi id="Thmobser2.p1.1.1.m1.2.2.2.2.1.2" xref="Thmobser2.p1.1.1.m1.2.2.2.2.1.2.cmml">i</mi><mo id="Thmobser2.p1.1.1.m1.2.2.2.2.1.1" xref="Thmobser2.p1.1.1.m1.2.2.2.2.1.1.cmml">+</mo><mn id="Thmobser2.p1.1.1.m1.2.2.2.2.1.3" xref="Thmobser2.p1.1.1.m1.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="Thmobser2.p1.1.1.m1.2.2.2.2.2" xref="Thmobser2.p1.1.1.m1.2.2.2.3.cmml">,</mo><mn id="Thmobser2.p1.1.1.m1.1.1.1.1" xref="Thmobser2.p1.1.1.m1.1.1.1.1.cmml">4</mn></mrow></msup><mo id="Thmobser2.p1.1.1.m1.4.5.1" xref="Thmobser2.p1.1.1.m1.4.5.1.cmml">⁢</mo><mrow id="Thmobser2.p1.1.1.m1.4.5.3.2" xref="Thmobser2.p1.1.1.m1.4.5.3.1.cmml"><mo id="Thmobser2.p1.1.1.m1.4.5.3.2.1" stretchy="false" xref="Thmobser2.p1.1.1.m1.4.5.3.1.cmml">(</mo><mi id="Thmobser2.p1.1.1.m1.3.3" xref="Thmobser2.p1.1.1.m1.3.3.cmml">u</mi><mo id="Thmobser2.p1.1.1.m1.4.5.3.2.2" xref="Thmobser2.p1.1.1.m1.4.5.3.1.cmml">,</mo><mi id="Thmobser2.p1.1.1.m1.4.4" xref="Thmobser2.p1.1.1.m1.4.4.cmml">v</mi><mo id="Thmobser2.p1.1.1.m1.4.5.3.2.3" stretchy="false" xref="Thmobser2.p1.1.1.m1.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmobser2.p1.1.1.m1.4b"><apply id="Thmobser2.p1.1.1.m1.4.5.cmml" xref="Thmobser2.p1.1.1.m1.4.5"><times id="Thmobser2.p1.1.1.m1.4.5.1.cmml" xref="Thmobser2.p1.1.1.m1.4.5.1"></times><apply id="Thmobser2.p1.1.1.m1.4.5.2.cmml" xref="Thmobser2.p1.1.1.m1.4.5.2"><csymbol cd="ambiguous" id="Thmobser2.p1.1.1.m1.4.5.2.1.cmml" xref="Thmobser2.p1.1.1.m1.4.5.2">superscript</csymbol><ci id="Thmobser2.p1.1.1.m1.4.5.2.2.cmml" xref="Thmobser2.p1.1.1.m1.4.5.2.2">𝑝</ci><list id="Thmobser2.p1.1.1.m1.2.2.2.3.cmml" xref="Thmobser2.p1.1.1.m1.2.2.2.2"><apply id="Thmobser2.p1.1.1.m1.2.2.2.2.1.cmml" xref="Thmobser2.p1.1.1.m1.2.2.2.2.1"><plus id="Thmobser2.p1.1.1.m1.2.2.2.2.1.1.cmml" xref="Thmobser2.p1.1.1.m1.2.2.2.2.1.1"></plus><ci id="Thmobser2.p1.1.1.m1.2.2.2.2.1.2.cmml" xref="Thmobser2.p1.1.1.m1.2.2.2.2.1.2">𝑖</ci><cn id="Thmobser2.p1.1.1.m1.2.2.2.2.1.3.cmml" type="integer" xref="Thmobser2.p1.1.1.m1.2.2.2.2.1.3">1</cn></apply><cn id="Thmobser2.p1.1.1.m1.1.1.1.1.cmml" type="integer" xref="Thmobser2.p1.1.1.m1.1.1.1.1">4</cn></list></apply><interval closure="open" id="Thmobser2.p1.1.1.m1.4.5.3.1.cmml" xref="Thmobser2.p1.1.1.m1.4.5.3.2"><ci id="Thmobser2.p1.1.1.m1.3.3.cmml" xref="Thmobser2.p1.1.1.m1.3.3">𝑢</ci><ci id="Thmobser2.p1.1.1.m1.4.4.cmml" xref="Thmobser2.p1.1.1.m1.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmobser2.p1.1.1.m1.4c">p^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="Thmobser2.p1.1.1.m1.4d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> is monotonically increasing with respect to the underlying interest <math alttext="r(u,v)" class="ltx_Math" display="inline" id="Thmobser2.p1.2.2.m2.2"><semantics id="Thmobser2.p1.2.2.m2.2a"><mrow id="Thmobser2.p1.2.2.m2.2.3" xref="Thmobser2.p1.2.2.m2.2.3.cmml"><mi id="Thmobser2.p1.2.2.m2.2.3.2" xref="Thmobser2.p1.2.2.m2.2.3.2.cmml">r</mi><mo id="Thmobser2.p1.2.2.m2.2.3.1" xref="Thmobser2.p1.2.2.m2.2.3.1.cmml">⁢</mo><mrow id="Thmobser2.p1.2.2.m2.2.3.3.2" xref="Thmobser2.p1.2.2.m2.2.3.3.1.cmml"><mo id="Thmobser2.p1.2.2.m2.2.3.3.2.1" stretchy="false" xref="Thmobser2.p1.2.2.m2.2.3.3.1.cmml">(</mo><mi id="Thmobser2.p1.2.2.m2.1.1" xref="Thmobser2.p1.2.2.m2.1.1.cmml">u</mi><mo id="Thmobser2.p1.2.2.m2.2.3.3.2.2" xref="Thmobser2.p1.2.2.m2.2.3.3.1.cmml">,</mo><mi id="Thmobser2.p1.2.2.m2.2.2" xref="Thmobser2.p1.2.2.m2.2.2.cmml">v</mi><mo id="Thmobser2.p1.2.2.m2.2.3.3.2.3" stretchy="false" xref="Thmobser2.p1.2.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmobser2.p1.2.2.m2.2b"><apply id="Thmobser2.p1.2.2.m2.2.3.cmml" xref="Thmobser2.p1.2.2.m2.2.3"><times id="Thmobser2.p1.2.2.m2.2.3.1.cmml" xref="Thmobser2.p1.2.2.m2.2.3.1"></times><ci id="Thmobser2.p1.2.2.m2.2.3.2.cmml" xref="Thmobser2.p1.2.2.m2.2.3.2">𝑟</ci><interval closure="open" id="Thmobser2.p1.2.2.m2.2.3.3.1.cmml" xref="Thmobser2.p1.2.2.m2.2.3.3.2"><ci id="Thmobser2.p1.2.2.m2.1.1.cmml" xref="Thmobser2.p1.2.2.m2.1.1">𝑢</ci><ci id="Thmobser2.p1.2.2.m2.2.2.cmml" xref="Thmobser2.p1.2.2.m2.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmobser2.p1.2.2.m2.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="Thmobser2.p1.2.2.m2.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> , then <math alttext="\bar{\mathcal{I}}^{i,GPRP}=\mathcal{I}^{i,PRP}" class="ltx_Math" display="inline" id="Thmobser2.p1.3.3.m3.4"><semantics id="Thmobser2.p1.3.3.m3.4a"><mrow id="Thmobser2.p1.3.3.m3.4.5" xref="Thmobser2.p1.3.3.m3.4.5.cmml"><msup id="Thmobser2.p1.3.3.m3.4.5.2" xref="Thmobser2.p1.3.3.m3.4.5.2.cmml"><mover accent="true" id="Thmobser2.p1.3.3.m3.4.5.2.2" xref="Thmobser2.p1.3.3.m3.4.5.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmobser2.p1.3.3.m3.4.5.2.2.2" xref="Thmobser2.p1.3.3.m3.4.5.2.2.2.cmml">ℐ</mi><mo id="Thmobser2.p1.3.3.m3.4.5.2.2.1" xref="Thmobser2.p1.3.3.m3.4.5.2.2.1.cmml">¯</mo></mover><mrow id="Thmobser2.p1.3.3.m3.2.2.2.2" xref="Thmobser2.p1.3.3.m3.2.2.2.3.cmml"><mi id="Thmobser2.p1.3.3.m3.1.1.1.1" xref="Thmobser2.p1.3.3.m3.1.1.1.1.cmml">i</mi><mo id="Thmobser2.p1.3.3.m3.2.2.2.2.2" xref="Thmobser2.p1.3.3.m3.2.2.2.3.cmml">,</mo><mrow id="Thmobser2.p1.3.3.m3.2.2.2.2.1" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.cmml"><mi id="Thmobser2.p1.3.3.m3.2.2.2.2.1.2" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.2.cmml">G</mi><mo id="Thmobser2.p1.3.3.m3.2.2.2.2.1.1" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="Thmobser2.p1.3.3.m3.2.2.2.2.1.3" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.3.cmml">P</mi><mo id="Thmobser2.p1.3.3.m3.2.2.2.2.1.1a" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="Thmobser2.p1.3.3.m3.2.2.2.2.1.4" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.4.cmml">R</mi><mo id="Thmobser2.p1.3.3.m3.2.2.2.2.1.1b" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="Thmobser2.p1.3.3.m3.2.2.2.2.1.5" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><mo id="Thmobser2.p1.3.3.m3.4.5.1" xref="Thmobser2.p1.3.3.m3.4.5.1.cmml">=</mo><msup id="Thmobser2.p1.3.3.m3.4.5.3" xref="Thmobser2.p1.3.3.m3.4.5.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmobser2.p1.3.3.m3.4.5.3.2" xref="Thmobser2.p1.3.3.m3.4.5.3.2.cmml">ℐ</mi><mrow id="Thmobser2.p1.3.3.m3.4.4.2.2" xref="Thmobser2.p1.3.3.m3.4.4.2.3.cmml"><mi id="Thmobser2.p1.3.3.m3.3.3.1.1" xref="Thmobser2.p1.3.3.m3.3.3.1.1.cmml">i</mi><mo id="Thmobser2.p1.3.3.m3.4.4.2.2.2" xref="Thmobser2.p1.3.3.m3.4.4.2.3.cmml">,</mo><mrow id="Thmobser2.p1.3.3.m3.4.4.2.2.1" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.cmml"><mi id="Thmobser2.p1.3.3.m3.4.4.2.2.1.2" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.2.cmml">P</mi><mo id="Thmobser2.p1.3.3.m3.4.4.2.2.1.1" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.1.cmml">⁢</mo><mi id="Thmobser2.p1.3.3.m3.4.4.2.2.1.3" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.3.cmml">R</mi><mo id="Thmobser2.p1.3.3.m3.4.4.2.2.1.1a" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.1.cmml">⁢</mo><mi id="Thmobser2.p1.3.3.m3.4.4.2.2.1.4" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.4.cmml">P</mi></mrow></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="Thmobser2.p1.3.3.m3.4b"><apply id="Thmobser2.p1.3.3.m3.4.5.cmml" xref="Thmobser2.p1.3.3.m3.4.5"><eq id="Thmobser2.p1.3.3.m3.4.5.1.cmml" xref="Thmobser2.p1.3.3.m3.4.5.1"></eq><apply id="Thmobser2.p1.3.3.m3.4.5.2.cmml" xref="Thmobser2.p1.3.3.m3.4.5.2"><csymbol cd="ambiguous" id="Thmobser2.p1.3.3.m3.4.5.2.1.cmml" xref="Thmobser2.p1.3.3.m3.4.5.2">superscript</csymbol><apply id="Thmobser2.p1.3.3.m3.4.5.2.2.cmml" xref="Thmobser2.p1.3.3.m3.4.5.2.2"><ci id="Thmobser2.p1.3.3.m3.4.5.2.2.1.cmml" xref="Thmobser2.p1.3.3.m3.4.5.2.2.1">¯</ci><ci id="Thmobser2.p1.3.3.m3.4.5.2.2.2.cmml" xref="Thmobser2.p1.3.3.m3.4.5.2.2.2">ℐ</ci></apply><list id="Thmobser2.p1.3.3.m3.2.2.2.3.cmml" xref="Thmobser2.p1.3.3.m3.2.2.2.2"><ci id="Thmobser2.p1.3.3.m3.1.1.1.1.cmml" xref="Thmobser2.p1.3.3.m3.1.1.1.1">𝑖</ci><apply id="Thmobser2.p1.3.3.m3.2.2.2.2.1.cmml" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1"><times id="Thmobser2.p1.3.3.m3.2.2.2.2.1.1.cmml" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.1"></times><ci id="Thmobser2.p1.3.3.m3.2.2.2.2.1.2.cmml" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.2">𝐺</ci><ci id="Thmobser2.p1.3.3.m3.2.2.2.2.1.3.cmml" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.3">𝑃</ci><ci id="Thmobser2.p1.3.3.m3.2.2.2.2.1.4.cmml" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.4">𝑅</ci><ci id="Thmobser2.p1.3.3.m3.2.2.2.2.1.5.cmml" xref="Thmobser2.p1.3.3.m3.2.2.2.2.1.5">𝑃</ci></apply></list></apply><apply id="Thmobser2.p1.3.3.m3.4.5.3.cmml" xref="Thmobser2.p1.3.3.m3.4.5.3"><csymbol cd="ambiguous" id="Thmobser2.p1.3.3.m3.4.5.3.1.cmml" xref="Thmobser2.p1.3.3.m3.4.5.3">superscript</csymbol><ci id="Thmobser2.p1.3.3.m3.4.5.3.2.cmml" xref="Thmobser2.p1.3.3.m3.4.5.3.2">ℐ</ci><list id="Thmobser2.p1.3.3.m3.4.4.2.3.cmml" xref="Thmobser2.p1.3.3.m3.4.4.2.2"><ci id="Thmobser2.p1.3.3.m3.3.3.1.1.cmml" xref="Thmobser2.p1.3.3.m3.3.3.1.1">𝑖</ci><apply id="Thmobser2.p1.3.3.m3.4.4.2.2.1.cmml" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1"><times id="Thmobser2.p1.3.3.m3.4.4.2.2.1.1.cmml" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.1"></times><ci id="Thmobser2.p1.3.3.m3.4.4.2.2.1.2.cmml" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.2">𝑃</ci><ci id="Thmobser2.p1.3.3.m3.4.4.2.2.1.3.cmml" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.3">𝑅</ci><ci id="Thmobser2.p1.3.3.m3.4.4.2.2.1.4.cmml" xref="Thmobser2.p1.3.3.m3.4.4.2.2.1.4">𝑃</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmobser2.p1.3.3.m3.4c">\bar{\mathcal{I}}^{i,GPRP}=\mathcal{I}^{i,PRP}</annotation><annotation encoding="application/x-llamapun" id="Thmobser2.p1.3.3.m3.4d">over¯ start_ARG caligraphic_I end_ARG start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT = caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math>.</span></p>
</div>
</div>
<div class="ltx_para" id="S4.p21">
<p class="ltx_p" id="S4.p21.6">Above observation is also straightforward, since <math alttext="p^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S4.p21.1.m1.4"><semantics id="S4.p21.1.m1.4a"><mrow id="S4.p21.1.m1.4.5" xref="S4.p21.1.m1.4.5.cmml"><msup id="S4.p21.1.m1.4.5.2" xref="S4.p21.1.m1.4.5.2.cmml"><mi id="S4.p21.1.m1.4.5.2.2" xref="S4.p21.1.m1.4.5.2.2.cmml">p</mi><mrow id="S4.p21.1.m1.2.2.2.2" xref="S4.p21.1.m1.2.2.2.3.cmml"><mrow id="S4.p21.1.m1.2.2.2.2.1" xref="S4.p21.1.m1.2.2.2.2.1.cmml"><mi id="S4.p21.1.m1.2.2.2.2.1.2" xref="S4.p21.1.m1.2.2.2.2.1.2.cmml">i</mi><mo id="S4.p21.1.m1.2.2.2.2.1.1" xref="S4.p21.1.m1.2.2.2.2.1.1.cmml">+</mo><mn id="S4.p21.1.m1.2.2.2.2.1.3" xref="S4.p21.1.m1.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S4.p21.1.m1.2.2.2.2.2" xref="S4.p21.1.m1.2.2.2.3.cmml">,</mo><mn id="S4.p21.1.m1.1.1.1.1" xref="S4.p21.1.m1.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S4.p21.1.m1.4.5.1" xref="S4.p21.1.m1.4.5.1.cmml">⁢</mo><mrow id="S4.p21.1.m1.4.5.3.2" xref="S4.p21.1.m1.4.5.3.1.cmml"><mo id="S4.p21.1.m1.4.5.3.2.1" stretchy="false" xref="S4.p21.1.m1.4.5.3.1.cmml">(</mo><mi id="S4.p21.1.m1.3.3" xref="S4.p21.1.m1.3.3.cmml">u</mi><mo id="S4.p21.1.m1.4.5.3.2.2" xref="S4.p21.1.m1.4.5.3.1.cmml">,</mo><mi id="S4.p21.1.m1.4.4" xref="S4.p21.1.m1.4.4.cmml">v</mi><mo id="S4.p21.1.m1.4.5.3.2.3" stretchy="false" xref="S4.p21.1.m1.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p21.1.m1.4b"><apply id="S4.p21.1.m1.4.5.cmml" xref="S4.p21.1.m1.4.5"><times id="S4.p21.1.m1.4.5.1.cmml" xref="S4.p21.1.m1.4.5.1"></times><apply id="S4.p21.1.m1.4.5.2.cmml" xref="S4.p21.1.m1.4.5.2"><csymbol cd="ambiguous" id="S4.p21.1.m1.4.5.2.1.cmml" xref="S4.p21.1.m1.4.5.2">superscript</csymbol><ci id="S4.p21.1.m1.4.5.2.2.cmml" xref="S4.p21.1.m1.4.5.2.2">𝑝</ci><list id="S4.p21.1.m1.2.2.2.3.cmml" xref="S4.p21.1.m1.2.2.2.2"><apply id="S4.p21.1.m1.2.2.2.2.1.cmml" xref="S4.p21.1.m1.2.2.2.2.1"><plus id="S4.p21.1.m1.2.2.2.2.1.1.cmml" xref="S4.p21.1.m1.2.2.2.2.1.1"></plus><ci id="S4.p21.1.m1.2.2.2.2.1.2.cmml" xref="S4.p21.1.m1.2.2.2.2.1.2">𝑖</ci><cn id="S4.p21.1.m1.2.2.2.2.1.3.cmml" type="integer" xref="S4.p21.1.m1.2.2.2.2.1.3">1</cn></apply><cn id="S4.p21.1.m1.1.1.1.1.cmml" type="integer" xref="S4.p21.1.m1.1.1.1.1">4</cn></list></apply><interval closure="open" id="S4.p21.1.m1.4.5.3.1.cmml" xref="S4.p21.1.m1.4.5.3.2"><ci id="S4.p21.1.m1.3.3.cmml" xref="S4.p21.1.m1.3.3">𝑢</ci><ci id="S4.p21.1.m1.4.4.cmml" xref="S4.p21.1.m1.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p21.1.m1.4c">p^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p21.1.m1.4d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> is monotonically increasing with <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p21.2.m2.2"><semantics id="S4.p21.2.m2.2a"><mrow id="S4.p21.2.m2.2.3" xref="S4.p21.2.m2.2.3.cmml"><mi id="S4.p21.2.m2.2.3.2" xref="S4.p21.2.m2.2.3.2.cmml">r</mi><mo id="S4.p21.2.m2.2.3.1" xref="S4.p21.2.m2.2.3.1.cmml">⁢</mo><mrow id="S4.p21.2.m2.2.3.3.2" xref="S4.p21.2.m2.2.3.3.1.cmml"><mo id="S4.p21.2.m2.2.3.3.2.1" stretchy="false" xref="S4.p21.2.m2.2.3.3.1.cmml">(</mo><mi id="S4.p21.2.m2.1.1" xref="S4.p21.2.m2.1.1.cmml">u</mi><mo id="S4.p21.2.m2.2.3.3.2.2" xref="S4.p21.2.m2.2.3.3.1.cmml">,</mo><mi id="S4.p21.2.m2.2.2" xref="S4.p21.2.m2.2.2.cmml">v</mi><mo id="S4.p21.2.m2.2.3.3.2.3" stretchy="false" xref="S4.p21.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p21.2.m2.2b"><apply id="S4.p21.2.m2.2.3.cmml" xref="S4.p21.2.m2.2.3"><times id="S4.p21.2.m2.2.3.1.cmml" xref="S4.p21.2.m2.2.3.1"></times><ci id="S4.p21.2.m2.2.3.2.cmml" xref="S4.p21.2.m2.2.3.2">𝑟</ci><interval closure="open" id="S4.p21.2.m2.2.3.3.1.cmml" xref="S4.p21.2.m2.2.3.3.2"><ci id="S4.p21.2.m2.1.1.cmml" xref="S4.p21.2.m2.1.1">𝑢</ci><ci id="S4.p21.2.m2.2.2.cmml" xref="S4.p21.2.m2.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p21.2.m2.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p21.2.m2.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math>, which implies the ranking of items in terms of <math alttext="p^{i+1,4}(u,v)r(u,v)" class="ltx_Math" display="inline" id="S4.p21.3.m3.6"><semantics id="S4.p21.3.m3.6a"><mrow id="S4.p21.3.m3.6.7" xref="S4.p21.3.m3.6.7.cmml"><msup id="S4.p21.3.m3.6.7.2" xref="S4.p21.3.m3.6.7.2.cmml"><mi id="S4.p21.3.m3.6.7.2.2" xref="S4.p21.3.m3.6.7.2.2.cmml">p</mi><mrow id="S4.p21.3.m3.2.2.2.2" xref="S4.p21.3.m3.2.2.2.3.cmml"><mrow id="S4.p21.3.m3.2.2.2.2.1" xref="S4.p21.3.m3.2.2.2.2.1.cmml"><mi id="S4.p21.3.m3.2.2.2.2.1.2" xref="S4.p21.3.m3.2.2.2.2.1.2.cmml">i</mi><mo id="S4.p21.3.m3.2.2.2.2.1.1" xref="S4.p21.3.m3.2.2.2.2.1.1.cmml">+</mo><mn id="S4.p21.3.m3.2.2.2.2.1.3" xref="S4.p21.3.m3.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S4.p21.3.m3.2.2.2.2.2" xref="S4.p21.3.m3.2.2.2.3.cmml">,</mo><mn id="S4.p21.3.m3.1.1.1.1" xref="S4.p21.3.m3.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S4.p21.3.m3.6.7.1" xref="S4.p21.3.m3.6.7.1.cmml">⁢</mo><mrow id="S4.p21.3.m3.6.7.3.2" xref="S4.p21.3.m3.6.7.3.1.cmml"><mo id="S4.p21.3.m3.6.7.3.2.1" stretchy="false" xref="S4.p21.3.m3.6.7.3.1.cmml">(</mo><mi id="S4.p21.3.m3.3.3" xref="S4.p21.3.m3.3.3.cmml">u</mi><mo id="S4.p21.3.m3.6.7.3.2.2" xref="S4.p21.3.m3.6.7.3.1.cmml">,</mo><mi id="S4.p21.3.m3.4.4" xref="S4.p21.3.m3.4.4.cmml">v</mi><mo id="S4.p21.3.m3.6.7.3.2.3" stretchy="false" xref="S4.p21.3.m3.6.7.3.1.cmml">)</mo></mrow><mo id="S4.p21.3.m3.6.7.1a" xref="S4.p21.3.m3.6.7.1.cmml">⁢</mo><mi id="S4.p21.3.m3.6.7.4" xref="S4.p21.3.m3.6.7.4.cmml">r</mi><mo id="S4.p21.3.m3.6.7.1b" xref="S4.p21.3.m3.6.7.1.cmml">⁢</mo><mrow id="S4.p21.3.m3.6.7.5.2" xref="S4.p21.3.m3.6.7.5.1.cmml"><mo id="S4.p21.3.m3.6.7.5.2.1" stretchy="false" xref="S4.p21.3.m3.6.7.5.1.cmml">(</mo><mi id="S4.p21.3.m3.5.5" xref="S4.p21.3.m3.5.5.cmml">u</mi><mo id="S4.p21.3.m3.6.7.5.2.2" xref="S4.p21.3.m3.6.7.5.1.cmml">,</mo><mi id="S4.p21.3.m3.6.6" xref="S4.p21.3.m3.6.6.cmml">v</mi><mo id="S4.p21.3.m3.6.7.5.2.3" stretchy="false" xref="S4.p21.3.m3.6.7.5.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p21.3.m3.6b"><apply id="S4.p21.3.m3.6.7.cmml" xref="S4.p21.3.m3.6.7"><times id="S4.p21.3.m3.6.7.1.cmml" xref="S4.p21.3.m3.6.7.1"></times><apply id="S4.p21.3.m3.6.7.2.cmml" xref="S4.p21.3.m3.6.7.2"><csymbol cd="ambiguous" id="S4.p21.3.m3.6.7.2.1.cmml" xref="S4.p21.3.m3.6.7.2">superscript</csymbol><ci id="S4.p21.3.m3.6.7.2.2.cmml" xref="S4.p21.3.m3.6.7.2.2">𝑝</ci><list id="S4.p21.3.m3.2.2.2.3.cmml" xref="S4.p21.3.m3.2.2.2.2"><apply id="S4.p21.3.m3.2.2.2.2.1.cmml" xref="S4.p21.3.m3.2.2.2.2.1"><plus id="S4.p21.3.m3.2.2.2.2.1.1.cmml" xref="S4.p21.3.m3.2.2.2.2.1.1"></plus><ci id="S4.p21.3.m3.2.2.2.2.1.2.cmml" xref="S4.p21.3.m3.2.2.2.2.1.2">𝑖</ci><cn id="S4.p21.3.m3.2.2.2.2.1.3.cmml" type="integer" xref="S4.p21.3.m3.2.2.2.2.1.3">1</cn></apply><cn id="S4.p21.3.m3.1.1.1.1.cmml" type="integer" xref="S4.p21.3.m3.1.1.1.1">4</cn></list></apply><interval closure="open" id="S4.p21.3.m3.6.7.3.1.cmml" xref="S4.p21.3.m3.6.7.3.2"><ci id="S4.p21.3.m3.3.3.cmml" xref="S4.p21.3.m3.3.3">𝑢</ci><ci id="S4.p21.3.m3.4.4.cmml" xref="S4.p21.3.m3.4.4">𝑣</ci></interval><ci id="S4.p21.3.m3.6.7.4.cmml" xref="S4.p21.3.m3.6.7.4">𝑟</ci><interval closure="open" id="S4.p21.3.m3.6.7.5.1.cmml" xref="S4.p21.3.m3.6.7.5.2"><ci id="S4.p21.3.m3.5.5.cmml" xref="S4.p21.3.m3.5.5">𝑢</ci><ci id="S4.p21.3.m3.6.6.cmml" xref="S4.p21.3.m3.6.6">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p21.3.m3.6c">p^{i+1,4}(u,v)r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p21.3.m3.6d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v ) italic_r ( italic_u , italic_v )</annotation></semantics></math> is the same as the ranking by <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p21.4.m4.2"><semantics id="S4.p21.4.m4.2a"><mrow id="S4.p21.4.m4.2.3" xref="S4.p21.4.m4.2.3.cmml"><mi id="S4.p21.4.m4.2.3.2" xref="S4.p21.4.m4.2.3.2.cmml">r</mi><mo id="S4.p21.4.m4.2.3.1" xref="S4.p21.4.m4.2.3.1.cmml">⁢</mo><mrow id="S4.p21.4.m4.2.3.3.2" xref="S4.p21.4.m4.2.3.3.1.cmml"><mo id="S4.p21.4.m4.2.3.3.2.1" stretchy="false" xref="S4.p21.4.m4.2.3.3.1.cmml">(</mo><mi id="S4.p21.4.m4.1.1" xref="S4.p21.4.m4.1.1.cmml">u</mi><mo id="S4.p21.4.m4.2.3.3.2.2" xref="S4.p21.4.m4.2.3.3.1.cmml">,</mo><mi id="S4.p21.4.m4.2.2" xref="S4.p21.4.m4.2.2.cmml">v</mi><mo id="S4.p21.4.m4.2.3.3.2.3" stretchy="false" xref="S4.p21.4.m4.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p21.4.m4.2b"><apply id="S4.p21.4.m4.2.3.cmml" xref="S4.p21.4.m4.2.3"><times id="S4.p21.4.m4.2.3.1.cmml" xref="S4.p21.4.m4.2.3.1"></times><ci id="S4.p21.4.m4.2.3.2.cmml" xref="S4.p21.4.m4.2.3.2">𝑟</ci><interval closure="open" id="S4.p21.4.m4.2.3.3.1.cmml" xref="S4.p21.4.m4.2.3.3.2"><ci id="S4.p21.4.m4.1.1.cmml" xref="S4.p21.4.m4.1.1">𝑢</ci><ci id="S4.p21.4.m4.2.2.cmml" xref="S4.p21.4.m4.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p21.4.m4.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p21.4.m4.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math>, thus <math alttext="\bar{\mathcal{I}}^{i,GPRP}" class="ltx_Math" display="inline" id="S4.p21.5.m5.2"><semantics id="S4.p21.5.m5.2a"><msup id="S4.p21.5.m5.2.3" xref="S4.p21.5.m5.2.3.cmml"><mover accent="true" id="S4.p21.5.m5.2.3.2" xref="S4.p21.5.m5.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p21.5.m5.2.3.2.2" xref="S4.p21.5.m5.2.3.2.2.cmml">ℐ</mi><mo id="S4.p21.5.m5.2.3.2.1" xref="S4.p21.5.m5.2.3.2.1.cmml">¯</mo></mover><mrow id="S4.p21.5.m5.2.2.2.2" xref="S4.p21.5.m5.2.2.2.3.cmml"><mi id="S4.p21.5.m5.1.1.1.1" xref="S4.p21.5.m5.1.1.1.1.cmml">i</mi><mo id="S4.p21.5.m5.2.2.2.2.2" xref="S4.p21.5.m5.2.2.2.3.cmml">,</mo><mrow id="S4.p21.5.m5.2.2.2.2.1" xref="S4.p21.5.m5.2.2.2.2.1.cmml"><mi id="S4.p21.5.m5.2.2.2.2.1.2" xref="S4.p21.5.m5.2.2.2.2.1.2.cmml">G</mi><mo id="S4.p21.5.m5.2.2.2.2.1.1" xref="S4.p21.5.m5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p21.5.m5.2.2.2.2.1.3" xref="S4.p21.5.m5.2.2.2.2.1.3.cmml">P</mi><mo id="S4.p21.5.m5.2.2.2.2.1.1a" xref="S4.p21.5.m5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p21.5.m5.2.2.2.2.1.4" xref="S4.p21.5.m5.2.2.2.2.1.4.cmml">R</mi><mo id="S4.p21.5.m5.2.2.2.2.1.1b" xref="S4.p21.5.m5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p21.5.m5.2.2.2.2.1.5" xref="S4.p21.5.m5.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p21.5.m5.2b"><apply id="S4.p21.5.m5.2.3.cmml" xref="S4.p21.5.m5.2.3"><csymbol cd="ambiguous" id="S4.p21.5.m5.2.3.1.cmml" xref="S4.p21.5.m5.2.3">superscript</csymbol><apply id="S4.p21.5.m5.2.3.2.cmml" xref="S4.p21.5.m5.2.3.2"><ci id="S4.p21.5.m5.2.3.2.1.cmml" xref="S4.p21.5.m5.2.3.2.1">¯</ci><ci id="S4.p21.5.m5.2.3.2.2.cmml" xref="S4.p21.5.m5.2.3.2.2">ℐ</ci></apply><list id="S4.p21.5.m5.2.2.2.3.cmml" xref="S4.p21.5.m5.2.2.2.2"><ci id="S4.p21.5.m5.1.1.1.1.cmml" xref="S4.p21.5.m5.1.1.1.1">𝑖</ci><apply id="S4.p21.5.m5.2.2.2.2.1.cmml" xref="S4.p21.5.m5.2.2.2.2.1"><times id="S4.p21.5.m5.2.2.2.2.1.1.cmml" xref="S4.p21.5.m5.2.2.2.2.1.1"></times><ci id="S4.p21.5.m5.2.2.2.2.1.2.cmml" xref="S4.p21.5.m5.2.2.2.2.1.2">𝐺</ci><ci id="S4.p21.5.m5.2.2.2.2.1.3.cmml" xref="S4.p21.5.m5.2.2.2.2.1.3">𝑃</ci><ci id="S4.p21.5.m5.2.2.2.2.1.4.cmml" xref="S4.p21.5.m5.2.2.2.2.1.4">𝑅</ci><ci id="S4.p21.5.m5.2.2.2.2.1.5.cmml" xref="S4.p21.5.m5.2.2.2.2.1.5">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p21.5.m5.2c">\bar{\mathcal{I}}^{i,GPRP}</annotation><annotation encoding="application/x-llamapun" id="S4.p21.5.m5.2d">over¯ start_ARG caligraphic_I end_ARG start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math> equals <math alttext="\mathcal{I}^{i,PRP}" class="ltx_Math" display="inline" id="S4.p21.6.m6.2"><semantics id="S4.p21.6.m6.2a"><msup id="S4.p21.6.m6.2.3" xref="S4.p21.6.m6.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p21.6.m6.2.3.2" xref="S4.p21.6.m6.2.3.2.cmml">ℐ</mi><mrow id="S4.p21.6.m6.2.2.2.2" xref="S4.p21.6.m6.2.2.2.3.cmml"><mi id="S4.p21.6.m6.1.1.1.1" xref="S4.p21.6.m6.1.1.1.1.cmml">i</mi><mo id="S4.p21.6.m6.2.2.2.2.2" xref="S4.p21.6.m6.2.2.2.3.cmml">,</mo><mrow id="S4.p21.6.m6.2.2.2.2.1" xref="S4.p21.6.m6.2.2.2.2.1.cmml"><mi id="S4.p21.6.m6.2.2.2.2.1.2" xref="S4.p21.6.m6.2.2.2.2.1.2.cmml">P</mi><mo id="S4.p21.6.m6.2.2.2.2.1.1" xref="S4.p21.6.m6.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p21.6.m6.2.2.2.2.1.3" xref="S4.p21.6.m6.2.2.2.2.1.3.cmml">R</mi><mo id="S4.p21.6.m6.2.2.2.2.1.1a" xref="S4.p21.6.m6.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p21.6.m6.2.2.2.2.1.4" xref="S4.p21.6.m6.2.2.2.2.1.4.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p21.6.m6.2b"><apply id="S4.p21.6.m6.2.3.cmml" xref="S4.p21.6.m6.2.3"><csymbol cd="ambiguous" id="S4.p21.6.m6.2.3.1.cmml" xref="S4.p21.6.m6.2.3">superscript</csymbol><ci id="S4.p21.6.m6.2.3.2.cmml" xref="S4.p21.6.m6.2.3.2">ℐ</ci><list id="S4.p21.6.m6.2.2.2.3.cmml" xref="S4.p21.6.m6.2.2.2.2"><ci id="S4.p21.6.m6.1.1.1.1.cmml" xref="S4.p21.6.m6.1.1.1.1">𝑖</ci><apply id="S4.p21.6.m6.2.2.2.2.1.cmml" xref="S4.p21.6.m6.2.2.2.2.1"><times id="S4.p21.6.m6.2.2.2.2.1.1.cmml" xref="S4.p21.6.m6.2.2.2.2.1.1"></times><ci id="S4.p21.6.m6.2.2.2.2.1.2.cmml" xref="S4.p21.6.m6.2.2.2.2.1.2">𝑃</ci><ci id="S4.p21.6.m6.2.2.2.2.1.3.cmml" xref="S4.p21.6.m6.2.2.2.2.1.3">𝑅</ci><ci id="S4.p21.6.m6.2.2.2.2.1.4.cmml" xref="S4.p21.6.m6.2.2.2.2.1.4">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p21.6.m6.2c">\mathcal{I}^{i,PRP}</annotation><annotation encoding="application/x-llamapun" id="S4.p21.6.m6.2d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math>. However, the assumption in observation <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmobser2" title="Observation 2. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a> is too strict, as it requires the preference of each stage to exactly coincide with the interest of users in every request, which is impractical considering the existence of learning error of any algorithm in any stage.</p>
</div>
<div class="ltx_para" id="S4.p22">
<p class="ltx_p" id="S4.p22.10">Now, given the difference between objective functions (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E7" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>) and (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E2" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>), the key question is then how to solve equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E7" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>) efficiently. A straightforward method is to learn <math alttext="p^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S4.p22.1.m1.4"><semantics id="S4.p22.1.m1.4a"><mrow id="S4.p22.1.m1.4.5" xref="S4.p22.1.m1.4.5.cmml"><msup id="S4.p22.1.m1.4.5.2" xref="S4.p22.1.m1.4.5.2.cmml"><mi id="S4.p22.1.m1.4.5.2.2" xref="S4.p22.1.m1.4.5.2.2.cmml">p</mi><mrow id="S4.p22.1.m1.2.2.2.2" xref="S4.p22.1.m1.2.2.2.3.cmml"><mrow id="S4.p22.1.m1.2.2.2.2.1" xref="S4.p22.1.m1.2.2.2.2.1.cmml"><mi id="S4.p22.1.m1.2.2.2.2.1.2" xref="S4.p22.1.m1.2.2.2.2.1.2.cmml">i</mi><mo id="S4.p22.1.m1.2.2.2.2.1.1" xref="S4.p22.1.m1.2.2.2.2.1.1.cmml">+</mo><mn id="S4.p22.1.m1.2.2.2.2.1.3" xref="S4.p22.1.m1.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S4.p22.1.m1.2.2.2.2.2" xref="S4.p22.1.m1.2.2.2.3.cmml">,</mo><mn id="S4.p22.1.m1.1.1.1.1" xref="S4.p22.1.m1.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S4.p22.1.m1.4.5.1" xref="S4.p22.1.m1.4.5.1.cmml">⁢</mo><mrow id="S4.p22.1.m1.4.5.3.2" xref="S4.p22.1.m1.4.5.3.1.cmml"><mo id="S4.p22.1.m1.4.5.3.2.1" stretchy="false" xref="S4.p22.1.m1.4.5.3.1.cmml">(</mo><mi id="S4.p22.1.m1.3.3" xref="S4.p22.1.m1.3.3.cmml">u</mi><mo id="S4.p22.1.m1.4.5.3.2.2" xref="S4.p22.1.m1.4.5.3.1.cmml">,</mo><mi id="S4.p22.1.m1.4.4" xref="S4.p22.1.m1.4.4.cmml">v</mi><mo id="S4.p22.1.m1.4.5.3.2.3" stretchy="false" xref="S4.p22.1.m1.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p22.1.m1.4b"><apply id="S4.p22.1.m1.4.5.cmml" xref="S4.p22.1.m1.4.5"><times id="S4.p22.1.m1.4.5.1.cmml" xref="S4.p22.1.m1.4.5.1"></times><apply id="S4.p22.1.m1.4.5.2.cmml" xref="S4.p22.1.m1.4.5.2"><csymbol cd="ambiguous" id="S4.p22.1.m1.4.5.2.1.cmml" xref="S4.p22.1.m1.4.5.2">superscript</csymbol><ci id="S4.p22.1.m1.4.5.2.2.cmml" xref="S4.p22.1.m1.4.5.2.2">𝑝</ci><list id="S4.p22.1.m1.2.2.2.3.cmml" xref="S4.p22.1.m1.2.2.2.2"><apply id="S4.p22.1.m1.2.2.2.2.1.cmml" xref="S4.p22.1.m1.2.2.2.2.1"><plus id="S4.p22.1.m1.2.2.2.2.1.1.cmml" xref="S4.p22.1.m1.2.2.2.2.1.1"></plus><ci id="S4.p22.1.m1.2.2.2.2.1.2.cmml" xref="S4.p22.1.m1.2.2.2.2.1.2">𝑖</ci><cn id="S4.p22.1.m1.2.2.2.2.1.3.cmml" type="integer" xref="S4.p22.1.m1.2.2.2.2.1.3">1</cn></apply><cn id="S4.p22.1.m1.1.1.1.1.cmml" type="integer" xref="S4.p22.1.m1.1.1.1.1">4</cn></list></apply><interval closure="open" id="S4.p22.1.m1.4.5.3.1.cmml" xref="S4.p22.1.m1.4.5.3.2"><ci id="S4.p22.1.m1.3.3.cmml" xref="S4.p22.1.m1.3.3">𝑢</ci><ci id="S4.p22.1.m1.4.4.cmml" xref="S4.p22.1.m1.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.1.m1.4c">p^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p22.1.m1.4d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> and <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p22.2.m2.2"><semantics id="S4.p22.2.m2.2a"><mrow id="S4.p22.2.m2.2.3" xref="S4.p22.2.m2.2.3.cmml"><mi id="S4.p22.2.m2.2.3.2" xref="S4.p22.2.m2.2.3.2.cmml">r</mi><mo id="S4.p22.2.m2.2.3.1" xref="S4.p22.2.m2.2.3.1.cmml">⁢</mo><mrow id="S4.p22.2.m2.2.3.3.2" xref="S4.p22.2.m2.2.3.3.1.cmml"><mo id="S4.p22.2.m2.2.3.3.2.1" stretchy="false" xref="S4.p22.2.m2.2.3.3.1.cmml">(</mo><mi id="S4.p22.2.m2.1.1" xref="S4.p22.2.m2.1.1.cmml">u</mi><mo id="S4.p22.2.m2.2.3.3.2.2" xref="S4.p22.2.m2.2.3.3.1.cmml">,</mo><mi id="S4.p22.2.m2.2.2" xref="S4.p22.2.m2.2.2.cmml">v</mi><mo id="S4.p22.2.m2.2.3.3.2.3" stretchy="false" xref="S4.p22.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p22.2.m2.2b"><apply id="S4.p22.2.m2.2.3.cmml" xref="S4.p22.2.m2.2.3"><times id="S4.p22.2.m2.2.3.1.cmml" xref="S4.p22.2.m2.2.3.1"></times><ci id="S4.p22.2.m2.2.3.2.cmml" xref="S4.p22.2.m2.2.3.2">𝑟</ci><interval closure="open" id="S4.p22.2.m2.2.3.3.1.cmml" xref="S4.p22.2.m2.2.3.3.2"><ci id="S4.p22.2.m2.1.1.cmml" xref="S4.p22.2.m2.1.1">𝑢</ci><ci id="S4.p22.2.m2.2.2.cmml" xref="S4.p22.2.m2.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.2.m2.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p22.2.m2.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> separately, where each term in <math alttext="p^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S4.p22.3.m3.4"><semantics id="S4.p22.3.m3.4a"><mrow id="S4.p22.3.m3.4.5" xref="S4.p22.3.m3.4.5.cmml"><msup id="S4.p22.3.m3.4.5.2" xref="S4.p22.3.m3.4.5.2.cmml"><mi id="S4.p22.3.m3.4.5.2.2" xref="S4.p22.3.m3.4.5.2.2.cmml">p</mi><mrow id="S4.p22.3.m3.2.2.2.2" xref="S4.p22.3.m3.2.2.2.3.cmml"><mrow id="S4.p22.3.m3.2.2.2.2.1" xref="S4.p22.3.m3.2.2.2.2.1.cmml"><mi id="S4.p22.3.m3.2.2.2.2.1.2" xref="S4.p22.3.m3.2.2.2.2.1.2.cmml">i</mi><mo id="S4.p22.3.m3.2.2.2.2.1.1" xref="S4.p22.3.m3.2.2.2.2.1.1.cmml">+</mo><mn id="S4.p22.3.m3.2.2.2.2.1.3" xref="S4.p22.3.m3.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S4.p22.3.m3.2.2.2.2.2" xref="S4.p22.3.m3.2.2.2.3.cmml">,</mo><mn id="S4.p22.3.m3.1.1.1.1" xref="S4.p22.3.m3.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S4.p22.3.m3.4.5.1" xref="S4.p22.3.m3.4.5.1.cmml">⁢</mo><mrow id="S4.p22.3.m3.4.5.3.2" xref="S4.p22.3.m3.4.5.3.1.cmml"><mo id="S4.p22.3.m3.4.5.3.2.1" stretchy="false" xref="S4.p22.3.m3.4.5.3.1.cmml">(</mo><mi id="S4.p22.3.m3.3.3" xref="S4.p22.3.m3.3.3.cmml">u</mi><mo id="S4.p22.3.m3.4.5.3.2.2" xref="S4.p22.3.m3.4.5.3.1.cmml">,</mo><mi id="S4.p22.3.m3.4.4" xref="S4.p22.3.m3.4.4.cmml">v</mi><mo id="S4.p22.3.m3.4.5.3.2.3" stretchy="false" xref="S4.p22.3.m3.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p22.3.m3.4b"><apply id="S4.p22.3.m3.4.5.cmml" xref="S4.p22.3.m3.4.5"><times id="S4.p22.3.m3.4.5.1.cmml" xref="S4.p22.3.m3.4.5.1"></times><apply id="S4.p22.3.m3.4.5.2.cmml" xref="S4.p22.3.m3.4.5.2"><csymbol cd="ambiguous" id="S4.p22.3.m3.4.5.2.1.cmml" xref="S4.p22.3.m3.4.5.2">superscript</csymbol><ci id="S4.p22.3.m3.4.5.2.2.cmml" xref="S4.p22.3.m3.4.5.2.2">𝑝</ci><list id="S4.p22.3.m3.2.2.2.3.cmml" xref="S4.p22.3.m3.2.2.2.2"><apply id="S4.p22.3.m3.2.2.2.2.1.cmml" xref="S4.p22.3.m3.2.2.2.2.1"><plus id="S4.p22.3.m3.2.2.2.2.1.1.cmml" xref="S4.p22.3.m3.2.2.2.2.1.1"></plus><ci id="S4.p22.3.m3.2.2.2.2.1.2.cmml" xref="S4.p22.3.m3.2.2.2.2.1.2">𝑖</ci><cn id="S4.p22.3.m3.2.2.2.2.1.3.cmml" type="integer" xref="S4.p22.3.m3.2.2.2.2.1.3">1</cn></apply><cn id="S4.p22.3.m3.1.1.1.1.cmml" type="integer" xref="S4.p22.3.m3.1.1.1.1">4</cn></list></apply><interval closure="open" id="S4.p22.3.m3.4.5.3.1.cmml" xref="S4.p22.3.m3.4.5.3.2"><ci id="S4.p22.3.m3.3.3.cmml" xref="S4.p22.3.m3.3.3">𝑢</ci><ci id="S4.p22.3.m3.4.4.cmml" xref="S4.p22.3.m3.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.3.m3.4c">p^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p22.3.m3.4d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> can be learned by any supervised algorithm on corresponding data and <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p22.4.m4.2"><semantics id="S4.p22.4.m4.2a"><mrow id="S4.p22.4.m4.2.3" xref="S4.p22.4.m4.2.3.cmml"><mi id="S4.p22.4.m4.2.3.2" xref="S4.p22.4.m4.2.3.2.cmml">r</mi><mo id="S4.p22.4.m4.2.3.1" xref="S4.p22.4.m4.2.3.1.cmml">⁢</mo><mrow id="S4.p22.4.m4.2.3.3.2" xref="S4.p22.4.m4.2.3.3.1.cmml"><mo id="S4.p22.4.m4.2.3.3.2.1" stretchy="false" xref="S4.p22.4.m4.2.3.3.1.cmml">(</mo><mi id="S4.p22.4.m4.1.1" xref="S4.p22.4.m4.1.1.cmml">u</mi><mo id="S4.p22.4.m4.2.3.3.2.2" xref="S4.p22.4.m4.2.3.3.1.cmml">,</mo><mi id="S4.p22.4.m4.2.2" xref="S4.p22.4.m4.2.2.cmml">v</mi><mo id="S4.p22.4.m4.2.3.3.2.3" stretchy="false" xref="S4.p22.4.m4.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p22.4.m4.2b"><apply id="S4.p22.4.m4.2.3.cmml" xref="S4.p22.4.m4.2.3"><times id="S4.p22.4.m4.2.3.1.cmml" xref="S4.p22.4.m4.2.3.1"></times><ci id="S4.p22.4.m4.2.3.2.cmml" xref="S4.p22.4.m4.2.3.2">𝑟</ci><interval closure="open" id="S4.p22.4.m4.2.3.3.1.cmml" xref="S4.p22.4.m4.2.3.3.2"><ci id="S4.p22.4.m4.1.1.cmml" xref="S4.p22.4.m4.1.1">𝑢</ci><ci id="S4.p22.4.m4.2.2.cmml" xref="S4.p22.4.m4.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.4.m4.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p22.4.m4.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> term can be learned by any existing algorithm especially unbiased learning algorithms <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">chen2019top</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">zhou2021contrastive</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">joachims2017unbiased</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">hu2019unbiased</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">saito2020unbiased</span>]</cite>. Having learned <math alttext="p^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S4.p22.5.m5.4"><semantics id="S4.p22.5.m5.4a"><mrow id="S4.p22.5.m5.4.5" xref="S4.p22.5.m5.4.5.cmml"><msup id="S4.p22.5.m5.4.5.2" xref="S4.p22.5.m5.4.5.2.cmml"><mi id="S4.p22.5.m5.4.5.2.2" xref="S4.p22.5.m5.4.5.2.2.cmml">p</mi><mrow id="S4.p22.5.m5.2.2.2.2" xref="S4.p22.5.m5.2.2.2.3.cmml"><mrow id="S4.p22.5.m5.2.2.2.2.1" xref="S4.p22.5.m5.2.2.2.2.1.cmml"><mi id="S4.p22.5.m5.2.2.2.2.1.2" xref="S4.p22.5.m5.2.2.2.2.1.2.cmml">i</mi><mo id="S4.p22.5.m5.2.2.2.2.1.1" xref="S4.p22.5.m5.2.2.2.2.1.1.cmml">+</mo><mn id="S4.p22.5.m5.2.2.2.2.1.3" xref="S4.p22.5.m5.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S4.p22.5.m5.2.2.2.2.2" xref="S4.p22.5.m5.2.2.2.3.cmml">,</mo><mn id="S4.p22.5.m5.1.1.1.1" xref="S4.p22.5.m5.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S4.p22.5.m5.4.5.1" xref="S4.p22.5.m5.4.5.1.cmml">⁢</mo><mrow id="S4.p22.5.m5.4.5.3.2" xref="S4.p22.5.m5.4.5.3.1.cmml"><mo id="S4.p22.5.m5.4.5.3.2.1" stretchy="false" xref="S4.p22.5.m5.4.5.3.1.cmml">(</mo><mi id="S4.p22.5.m5.3.3" xref="S4.p22.5.m5.3.3.cmml">u</mi><mo id="S4.p22.5.m5.4.5.3.2.2" xref="S4.p22.5.m5.4.5.3.1.cmml">,</mo><mi id="S4.p22.5.m5.4.4" xref="S4.p22.5.m5.4.4.cmml">v</mi><mo id="S4.p22.5.m5.4.5.3.2.3" stretchy="false" xref="S4.p22.5.m5.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p22.5.m5.4b"><apply id="S4.p22.5.m5.4.5.cmml" xref="S4.p22.5.m5.4.5"><times id="S4.p22.5.m5.4.5.1.cmml" xref="S4.p22.5.m5.4.5.1"></times><apply id="S4.p22.5.m5.4.5.2.cmml" xref="S4.p22.5.m5.4.5.2"><csymbol cd="ambiguous" id="S4.p22.5.m5.4.5.2.1.cmml" xref="S4.p22.5.m5.4.5.2">superscript</csymbol><ci id="S4.p22.5.m5.4.5.2.2.cmml" xref="S4.p22.5.m5.4.5.2.2">𝑝</ci><list id="S4.p22.5.m5.2.2.2.3.cmml" xref="S4.p22.5.m5.2.2.2.2"><apply id="S4.p22.5.m5.2.2.2.2.1.cmml" xref="S4.p22.5.m5.2.2.2.2.1"><plus id="S4.p22.5.m5.2.2.2.2.1.1.cmml" xref="S4.p22.5.m5.2.2.2.2.1.1"></plus><ci id="S4.p22.5.m5.2.2.2.2.1.2.cmml" xref="S4.p22.5.m5.2.2.2.2.1.2">𝑖</ci><cn id="S4.p22.5.m5.2.2.2.2.1.3.cmml" type="integer" xref="S4.p22.5.m5.2.2.2.2.1.3">1</cn></apply><cn id="S4.p22.5.m5.1.1.1.1.cmml" type="integer" xref="S4.p22.5.m5.1.1.1.1">4</cn></list></apply><interval closure="open" id="S4.p22.5.m5.4.5.3.1.cmml" xref="S4.p22.5.m5.4.5.3.2"><ci id="S4.p22.5.m5.3.3.cmml" xref="S4.p22.5.m5.3.3">𝑢</ci><ci id="S4.p22.5.m5.4.4.cmml" xref="S4.p22.5.m5.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.5.m5.4c">p^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p22.5.m5.4d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> and <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S4.p22.6.m6.2"><semantics id="S4.p22.6.m6.2a"><mrow id="S4.p22.6.m6.2.3" xref="S4.p22.6.m6.2.3.cmml"><mi id="S4.p22.6.m6.2.3.2" xref="S4.p22.6.m6.2.3.2.cmml">r</mi><mo id="S4.p22.6.m6.2.3.1" xref="S4.p22.6.m6.2.3.1.cmml">⁢</mo><mrow id="S4.p22.6.m6.2.3.3.2" xref="S4.p22.6.m6.2.3.3.1.cmml"><mo id="S4.p22.6.m6.2.3.3.2.1" stretchy="false" xref="S4.p22.6.m6.2.3.3.1.cmml">(</mo><mi id="S4.p22.6.m6.1.1" xref="S4.p22.6.m6.1.1.cmml">u</mi><mo id="S4.p22.6.m6.2.3.3.2.2" xref="S4.p22.6.m6.2.3.3.1.cmml">,</mo><mi id="S4.p22.6.m6.2.2" xref="S4.p22.6.m6.2.2.cmml">v</mi><mo id="S4.p22.6.m6.2.3.3.2.3" stretchy="false" xref="S4.p22.6.m6.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p22.6.m6.2b"><apply id="S4.p22.6.m6.2.3.cmml" xref="S4.p22.6.m6.2.3"><times id="S4.p22.6.m6.2.3.1.cmml" xref="S4.p22.6.m6.2.3.1"></times><ci id="S4.p22.6.m6.2.3.2.cmml" xref="S4.p22.6.m6.2.3.2">𝑟</ci><interval closure="open" id="S4.p22.6.m6.2.3.3.1.cmml" xref="S4.p22.6.m6.2.3.3.2"><ci id="S4.p22.6.m6.1.1.cmml" xref="S4.p22.6.m6.1.1">𝑢</ci><ci id="S4.p22.6.m6.2.2.cmml" xref="S4.p22.6.m6.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.6.m6.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p22.6.m6.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math>, we can sort items in <math alttext="\mathcal{I}^{i-1}" class="ltx_Math" display="inline" id="S4.p22.7.m7.1"><semantics id="S4.p22.7.m7.1a"><msup id="S4.p22.7.m7.1.1" xref="S4.p22.7.m7.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p22.7.m7.1.1.2" xref="S4.p22.7.m7.1.1.2.cmml">ℐ</mi><mrow id="S4.p22.7.m7.1.1.3" xref="S4.p22.7.m7.1.1.3.cmml"><mi id="S4.p22.7.m7.1.1.3.2" xref="S4.p22.7.m7.1.1.3.2.cmml">i</mi><mo id="S4.p22.7.m7.1.1.3.1" xref="S4.p22.7.m7.1.1.3.1.cmml">−</mo><mn id="S4.p22.7.m7.1.1.3.3" xref="S4.p22.7.m7.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p22.7.m7.1b"><apply id="S4.p22.7.m7.1.1.cmml" xref="S4.p22.7.m7.1.1"><csymbol cd="ambiguous" id="S4.p22.7.m7.1.1.1.cmml" xref="S4.p22.7.m7.1.1">superscript</csymbol><ci id="S4.p22.7.m7.1.1.2.cmml" xref="S4.p22.7.m7.1.1.2">ℐ</ci><apply id="S4.p22.7.m7.1.1.3.cmml" xref="S4.p22.7.m7.1.1.3"><minus id="S4.p22.7.m7.1.1.3.1.cmml" xref="S4.p22.7.m7.1.1.3.1"></minus><ci id="S4.p22.7.m7.1.1.3.2.cmml" xref="S4.p22.7.m7.1.1.3.2">𝑖</ci><cn id="S4.p22.7.m7.1.1.3.3.cmml" type="integer" xref="S4.p22.7.m7.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.7.m7.1c">\mathcal{I}^{i-1}</annotation><annotation encoding="application/x-llamapun" id="S4.p22.7.m7.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT</annotation></semantics></math> according to <math alttext="p^{i+1,4}(u,v)r(u,v)" class="ltx_Math" display="inline" id="S4.p22.8.m8.6"><semantics id="S4.p22.8.m8.6a"><mrow id="S4.p22.8.m8.6.7" xref="S4.p22.8.m8.6.7.cmml"><msup id="S4.p22.8.m8.6.7.2" xref="S4.p22.8.m8.6.7.2.cmml"><mi id="S4.p22.8.m8.6.7.2.2" xref="S4.p22.8.m8.6.7.2.2.cmml">p</mi><mrow id="S4.p22.8.m8.2.2.2.2" xref="S4.p22.8.m8.2.2.2.3.cmml"><mrow id="S4.p22.8.m8.2.2.2.2.1" xref="S4.p22.8.m8.2.2.2.2.1.cmml"><mi id="S4.p22.8.m8.2.2.2.2.1.2" xref="S4.p22.8.m8.2.2.2.2.1.2.cmml">i</mi><mo id="S4.p22.8.m8.2.2.2.2.1.1" xref="S4.p22.8.m8.2.2.2.2.1.1.cmml">+</mo><mn id="S4.p22.8.m8.2.2.2.2.1.3" xref="S4.p22.8.m8.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S4.p22.8.m8.2.2.2.2.2" xref="S4.p22.8.m8.2.2.2.3.cmml">,</mo><mn id="S4.p22.8.m8.1.1.1.1" xref="S4.p22.8.m8.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S4.p22.8.m8.6.7.1" xref="S4.p22.8.m8.6.7.1.cmml">⁢</mo><mrow id="S4.p22.8.m8.6.7.3.2" xref="S4.p22.8.m8.6.7.3.1.cmml"><mo id="S4.p22.8.m8.6.7.3.2.1" stretchy="false" xref="S4.p22.8.m8.6.7.3.1.cmml">(</mo><mi id="S4.p22.8.m8.3.3" xref="S4.p22.8.m8.3.3.cmml">u</mi><mo id="S4.p22.8.m8.6.7.3.2.2" xref="S4.p22.8.m8.6.7.3.1.cmml">,</mo><mi id="S4.p22.8.m8.4.4" xref="S4.p22.8.m8.4.4.cmml">v</mi><mo id="S4.p22.8.m8.6.7.3.2.3" stretchy="false" xref="S4.p22.8.m8.6.7.3.1.cmml">)</mo></mrow><mo id="S4.p22.8.m8.6.7.1a" xref="S4.p22.8.m8.6.7.1.cmml">⁢</mo><mi id="S4.p22.8.m8.6.7.4" xref="S4.p22.8.m8.6.7.4.cmml">r</mi><mo id="S4.p22.8.m8.6.7.1b" xref="S4.p22.8.m8.6.7.1.cmml">⁢</mo><mrow id="S4.p22.8.m8.6.7.5.2" xref="S4.p22.8.m8.6.7.5.1.cmml"><mo id="S4.p22.8.m8.6.7.5.2.1" stretchy="false" xref="S4.p22.8.m8.6.7.5.1.cmml">(</mo><mi id="S4.p22.8.m8.5.5" xref="S4.p22.8.m8.5.5.cmml">u</mi><mo id="S4.p22.8.m8.6.7.5.2.2" xref="S4.p22.8.m8.6.7.5.1.cmml">,</mo><mi id="S4.p22.8.m8.6.6" xref="S4.p22.8.m8.6.6.cmml">v</mi><mo id="S4.p22.8.m8.6.7.5.2.3" stretchy="false" xref="S4.p22.8.m8.6.7.5.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p22.8.m8.6b"><apply id="S4.p22.8.m8.6.7.cmml" xref="S4.p22.8.m8.6.7"><times id="S4.p22.8.m8.6.7.1.cmml" xref="S4.p22.8.m8.6.7.1"></times><apply id="S4.p22.8.m8.6.7.2.cmml" xref="S4.p22.8.m8.6.7.2"><csymbol cd="ambiguous" id="S4.p22.8.m8.6.7.2.1.cmml" xref="S4.p22.8.m8.6.7.2">superscript</csymbol><ci id="S4.p22.8.m8.6.7.2.2.cmml" xref="S4.p22.8.m8.6.7.2.2">𝑝</ci><list id="S4.p22.8.m8.2.2.2.3.cmml" xref="S4.p22.8.m8.2.2.2.2"><apply id="S4.p22.8.m8.2.2.2.2.1.cmml" xref="S4.p22.8.m8.2.2.2.2.1"><plus id="S4.p22.8.m8.2.2.2.2.1.1.cmml" xref="S4.p22.8.m8.2.2.2.2.1.1"></plus><ci id="S4.p22.8.m8.2.2.2.2.1.2.cmml" xref="S4.p22.8.m8.2.2.2.2.1.2">𝑖</ci><cn id="S4.p22.8.m8.2.2.2.2.1.3.cmml" type="integer" xref="S4.p22.8.m8.2.2.2.2.1.3">1</cn></apply><cn id="S4.p22.8.m8.1.1.1.1.cmml" type="integer" xref="S4.p22.8.m8.1.1.1.1">4</cn></list></apply><interval closure="open" id="S4.p22.8.m8.6.7.3.1.cmml" xref="S4.p22.8.m8.6.7.3.2"><ci id="S4.p22.8.m8.3.3.cmml" xref="S4.p22.8.m8.3.3">𝑢</ci><ci id="S4.p22.8.m8.4.4.cmml" xref="S4.p22.8.m8.4.4">𝑣</ci></interval><ci id="S4.p22.8.m8.6.7.4.cmml" xref="S4.p22.8.m8.6.7.4">𝑟</ci><interval closure="open" id="S4.p22.8.m8.6.7.5.1.cmml" xref="S4.p22.8.m8.6.7.5.2"><ci id="S4.p22.8.m8.5.5.cmml" xref="S4.p22.8.m8.5.5">𝑢</ci><ci id="S4.p22.8.m8.6.6.cmml" xref="S4.p22.8.m8.6.6">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.8.m8.6c">p^{i+1,4}(u,v)r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S4.p22.8.m8.6d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v ) italic_r ( italic_u , italic_v )</annotation></semantics></math> and output the top <math alttext="c_{i}" class="ltx_Math" display="inline" id="S4.p22.9.m9.1"><semantics id="S4.p22.9.m9.1a"><msub id="S4.p22.9.m9.1.1" xref="S4.p22.9.m9.1.1.cmml"><mi id="S4.p22.9.m9.1.1.2" xref="S4.p22.9.m9.1.1.2.cmml">c</mi><mi id="S4.p22.9.m9.1.1.3" xref="S4.p22.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.p22.9.m9.1b"><apply id="S4.p22.9.m9.1.1.cmml" xref="S4.p22.9.m9.1.1"><csymbol cd="ambiguous" id="S4.p22.9.m9.1.1.1.cmml" xref="S4.p22.9.m9.1.1">subscript</csymbol><ci id="S4.p22.9.m9.1.1.2.cmml" xref="S4.p22.9.m9.1.1.2">𝑐</ci><ci id="S4.p22.9.m9.1.1.3.cmml" xref="S4.p22.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.9.m9.1c">c_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.p22.9.m9.1d">italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> items as <math alttext="\bar{\mathcal{I}}^{i,GPRP}" class="ltx_Math" display="inline" id="S4.p22.10.m10.2"><semantics id="S4.p22.10.m10.2a"><msup id="S4.p22.10.m10.2.3" xref="S4.p22.10.m10.2.3.cmml"><mover accent="true" id="S4.p22.10.m10.2.3.2" xref="S4.p22.10.m10.2.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.p22.10.m10.2.3.2.2" xref="S4.p22.10.m10.2.3.2.2.cmml">ℐ</mi><mo id="S4.p22.10.m10.2.3.2.1" xref="S4.p22.10.m10.2.3.2.1.cmml">¯</mo></mover><mrow id="S4.p22.10.m10.2.2.2.2" xref="S4.p22.10.m10.2.2.2.3.cmml"><mi id="S4.p22.10.m10.1.1.1.1" xref="S4.p22.10.m10.1.1.1.1.cmml">i</mi><mo id="S4.p22.10.m10.2.2.2.2.2" xref="S4.p22.10.m10.2.2.2.3.cmml">,</mo><mrow id="S4.p22.10.m10.2.2.2.2.1" xref="S4.p22.10.m10.2.2.2.2.1.cmml"><mi id="S4.p22.10.m10.2.2.2.2.1.2" xref="S4.p22.10.m10.2.2.2.2.1.2.cmml">G</mi><mo id="S4.p22.10.m10.2.2.2.2.1.1" xref="S4.p22.10.m10.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p22.10.m10.2.2.2.2.1.3" xref="S4.p22.10.m10.2.2.2.2.1.3.cmml">P</mi><mo id="S4.p22.10.m10.2.2.2.2.1.1a" xref="S4.p22.10.m10.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p22.10.m10.2.2.2.2.1.4" xref="S4.p22.10.m10.2.2.2.2.1.4.cmml">R</mi><mo id="S4.p22.10.m10.2.2.2.2.1.1b" xref="S4.p22.10.m10.2.2.2.2.1.1.cmml">⁢</mo><mi id="S4.p22.10.m10.2.2.2.2.1.5" xref="S4.p22.10.m10.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p22.10.m10.2b"><apply id="S4.p22.10.m10.2.3.cmml" xref="S4.p22.10.m10.2.3"><csymbol cd="ambiguous" id="S4.p22.10.m10.2.3.1.cmml" xref="S4.p22.10.m10.2.3">superscript</csymbol><apply id="S4.p22.10.m10.2.3.2.cmml" xref="S4.p22.10.m10.2.3.2"><ci id="S4.p22.10.m10.2.3.2.1.cmml" xref="S4.p22.10.m10.2.3.2.1">¯</ci><ci id="S4.p22.10.m10.2.3.2.2.cmml" xref="S4.p22.10.m10.2.3.2.2">ℐ</ci></apply><list id="S4.p22.10.m10.2.2.2.3.cmml" xref="S4.p22.10.m10.2.2.2.2"><ci id="S4.p22.10.m10.1.1.1.1.cmml" xref="S4.p22.10.m10.1.1.1.1">𝑖</ci><apply id="S4.p22.10.m10.2.2.2.2.1.cmml" xref="S4.p22.10.m10.2.2.2.2.1"><times id="S4.p22.10.m10.2.2.2.2.1.1.cmml" xref="S4.p22.10.m10.2.2.2.2.1.1"></times><ci id="S4.p22.10.m10.2.2.2.2.1.2.cmml" xref="S4.p22.10.m10.2.2.2.2.1.2">𝐺</ci><ci id="S4.p22.10.m10.2.2.2.2.1.3.cmml" xref="S4.p22.10.m10.2.2.2.2.1.3">𝑃</ci><ci id="S4.p22.10.m10.2.2.2.2.1.4.cmml" xref="S4.p22.10.m10.2.2.2.2.1.4">𝑅</ci><ci id="S4.p22.10.m10.2.2.2.2.1.5.cmml" xref="S4.p22.10.m10.2.2.2.2.1.5">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p22.10.m10.2c">\bar{\mathcal{I}}^{i,GPRP}</annotation><annotation encoding="application/x-llamapun" id="S4.p22.10.m10.2d">over¯ start_ARG caligraphic_I end_ARG start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math>. However, this method is also inefficient and may be ineffective, as we need to learn several models which causes additional computational burden and accumulated learning error. Besides, in the retrieval stage, usually we use Approximate Nearest Neighbor (ANN) for fast inference, which does not support the operation in equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E7" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>). To address the above issue, we propose a unified algorithmic framework named Full Stage Learning to Rank.</p>
</div>
</section>
<section class="ltx_section ltx_indent_first" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Full Stage Learning to Rank</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.7">According to objective function (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E7" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>), we need to sort items according to <math alttext="p^{i+1,4}(u,v)r(u,v)" class="ltx_Math" display="inline" id="S5.p1.1.m1.6"><semantics id="S5.p1.1.m1.6a"><mrow id="S5.p1.1.m1.6.7" xref="S5.p1.1.m1.6.7.cmml"><msup id="S5.p1.1.m1.6.7.2" xref="S5.p1.1.m1.6.7.2.cmml"><mi id="S5.p1.1.m1.6.7.2.2" xref="S5.p1.1.m1.6.7.2.2.cmml">p</mi><mrow id="S5.p1.1.m1.2.2.2.2" xref="S5.p1.1.m1.2.2.2.3.cmml"><mrow id="S5.p1.1.m1.2.2.2.2.1" xref="S5.p1.1.m1.2.2.2.2.1.cmml"><mi id="S5.p1.1.m1.2.2.2.2.1.2" xref="S5.p1.1.m1.2.2.2.2.1.2.cmml">i</mi><mo id="S5.p1.1.m1.2.2.2.2.1.1" xref="S5.p1.1.m1.2.2.2.2.1.1.cmml">+</mo><mn id="S5.p1.1.m1.2.2.2.2.1.3" xref="S5.p1.1.m1.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p1.1.m1.2.2.2.2.2" xref="S5.p1.1.m1.2.2.2.3.cmml">,</mo><mn id="S5.p1.1.m1.1.1.1.1" xref="S5.p1.1.m1.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S5.p1.1.m1.6.7.1" xref="S5.p1.1.m1.6.7.1.cmml">⁢</mo><mrow id="S5.p1.1.m1.6.7.3.2" xref="S5.p1.1.m1.6.7.3.1.cmml"><mo id="S5.p1.1.m1.6.7.3.2.1" stretchy="false" xref="S5.p1.1.m1.6.7.3.1.cmml">(</mo><mi id="S5.p1.1.m1.3.3" xref="S5.p1.1.m1.3.3.cmml">u</mi><mo id="S5.p1.1.m1.6.7.3.2.2" xref="S5.p1.1.m1.6.7.3.1.cmml">,</mo><mi id="S5.p1.1.m1.4.4" xref="S5.p1.1.m1.4.4.cmml">v</mi><mo id="S5.p1.1.m1.6.7.3.2.3" stretchy="false" xref="S5.p1.1.m1.6.7.3.1.cmml">)</mo></mrow><mo id="S5.p1.1.m1.6.7.1a" xref="S5.p1.1.m1.6.7.1.cmml">⁢</mo><mi id="S5.p1.1.m1.6.7.4" xref="S5.p1.1.m1.6.7.4.cmml">r</mi><mo id="S5.p1.1.m1.6.7.1b" xref="S5.p1.1.m1.6.7.1.cmml">⁢</mo><mrow id="S5.p1.1.m1.6.7.5.2" xref="S5.p1.1.m1.6.7.5.1.cmml"><mo id="S5.p1.1.m1.6.7.5.2.1" stretchy="false" xref="S5.p1.1.m1.6.7.5.1.cmml">(</mo><mi id="S5.p1.1.m1.5.5" xref="S5.p1.1.m1.5.5.cmml">u</mi><mo id="S5.p1.1.m1.6.7.5.2.2" xref="S5.p1.1.m1.6.7.5.1.cmml">,</mo><mi id="S5.p1.1.m1.6.6" xref="S5.p1.1.m1.6.6.cmml">v</mi><mo id="S5.p1.1.m1.6.7.5.2.3" stretchy="false" xref="S5.p1.1.m1.6.7.5.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.1.m1.6b"><apply id="S5.p1.1.m1.6.7.cmml" xref="S5.p1.1.m1.6.7"><times id="S5.p1.1.m1.6.7.1.cmml" xref="S5.p1.1.m1.6.7.1"></times><apply id="S5.p1.1.m1.6.7.2.cmml" xref="S5.p1.1.m1.6.7.2"><csymbol cd="ambiguous" id="S5.p1.1.m1.6.7.2.1.cmml" xref="S5.p1.1.m1.6.7.2">superscript</csymbol><ci id="S5.p1.1.m1.6.7.2.2.cmml" xref="S5.p1.1.m1.6.7.2.2">𝑝</ci><list id="S5.p1.1.m1.2.2.2.3.cmml" xref="S5.p1.1.m1.2.2.2.2"><apply id="S5.p1.1.m1.2.2.2.2.1.cmml" xref="S5.p1.1.m1.2.2.2.2.1"><plus id="S5.p1.1.m1.2.2.2.2.1.1.cmml" xref="S5.p1.1.m1.2.2.2.2.1.1"></plus><ci id="S5.p1.1.m1.2.2.2.2.1.2.cmml" xref="S5.p1.1.m1.2.2.2.2.1.2">𝑖</ci><cn id="S5.p1.1.m1.2.2.2.2.1.3.cmml" type="integer" xref="S5.p1.1.m1.2.2.2.2.1.3">1</cn></apply><cn id="S5.p1.1.m1.1.1.1.1.cmml" type="integer" xref="S5.p1.1.m1.1.1.1.1">4</cn></list></apply><interval closure="open" id="S5.p1.1.m1.6.7.3.1.cmml" xref="S5.p1.1.m1.6.7.3.2"><ci id="S5.p1.1.m1.3.3.cmml" xref="S5.p1.1.m1.3.3">𝑢</ci><ci id="S5.p1.1.m1.4.4.cmml" xref="S5.p1.1.m1.4.4">𝑣</ci></interval><ci id="S5.p1.1.m1.6.7.4.cmml" xref="S5.p1.1.m1.6.7.4">𝑟</ci><interval closure="open" id="S5.p1.1.m1.6.7.5.1.cmml" xref="S5.p1.1.m1.6.7.5.2"><ci id="S5.p1.1.m1.5.5.cmml" xref="S5.p1.1.m1.5.5">𝑢</ci><ci id="S5.p1.1.m1.6.6.cmml" xref="S5.p1.1.m1.6.6">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.1.m1.6c">p^{i+1,4}(u,v)r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p1.1.m1.6d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v ) italic_r ( italic_u , italic_v )</annotation></semantics></math>. Instead of learning each term independently, we directly learn the product <math alttext="w^{i+1,4}(u,v):=p^{i+1,4}(u,v)r(u,v)" class="ltx_Math" display="inline" id="S5.p1.2.m2.10"><semantics id="S5.p1.2.m2.10a"><mrow id="S5.p1.2.m2.10.11" xref="S5.p1.2.m2.10.11.cmml"><mrow id="S5.p1.2.m2.10.11.2" xref="S5.p1.2.m2.10.11.2.cmml"><msup id="S5.p1.2.m2.10.11.2.2" xref="S5.p1.2.m2.10.11.2.2.cmml"><mi id="S5.p1.2.m2.10.11.2.2.2" xref="S5.p1.2.m2.10.11.2.2.2.cmml">w</mi><mrow id="S5.p1.2.m2.2.2.2.2" xref="S5.p1.2.m2.2.2.2.3.cmml"><mrow id="S5.p1.2.m2.2.2.2.2.1" xref="S5.p1.2.m2.2.2.2.2.1.cmml"><mi id="S5.p1.2.m2.2.2.2.2.1.2" xref="S5.p1.2.m2.2.2.2.2.1.2.cmml">i</mi><mo id="S5.p1.2.m2.2.2.2.2.1.1" xref="S5.p1.2.m2.2.2.2.2.1.1.cmml">+</mo><mn id="S5.p1.2.m2.2.2.2.2.1.3" xref="S5.p1.2.m2.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p1.2.m2.2.2.2.2.2" xref="S5.p1.2.m2.2.2.2.3.cmml">,</mo><mn id="S5.p1.2.m2.1.1.1.1" xref="S5.p1.2.m2.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S5.p1.2.m2.10.11.2.1" xref="S5.p1.2.m2.10.11.2.1.cmml">⁢</mo><mrow id="S5.p1.2.m2.10.11.2.3.2" xref="S5.p1.2.m2.10.11.2.3.1.cmml"><mo id="S5.p1.2.m2.10.11.2.3.2.1" stretchy="false" xref="S5.p1.2.m2.10.11.2.3.1.cmml">(</mo><mi id="S5.p1.2.m2.5.5" xref="S5.p1.2.m2.5.5.cmml">u</mi><mo id="S5.p1.2.m2.10.11.2.3.2.2" xref="S5.p1.2.m2.10.11.2.3.1.cmml">,</mo><mi id="S5.p1.2.m2.6.6" xref="S5.p1.2.m2.6.6.cmml">v</mi><mo id="S5.p1.2.m2.10.11.2.3.2.3" rspace="0.278em" stretchy="false" xref="S5.p1.2.m2.10.11.2.3.1.cmml">)</mo></mrow></mrow><mo id="S5.p1.2.m2.10.11.1" rspace="0.278em" xref="S5.p1.2.m2.10.11.1.cmml">:=</mo><mrow id="S5.p1.2.m2.10.11.3" xref="S5.p1.2.m2.10.11.3.cmml"><msup id="S5.p1.2.m2.10.11.3.2" xref="S5.p1.2.m2.10.11.3.2.cmml"><mi id="S5.p1.2.m2.10.11.3.2.2" xref="S5.p1.2.m2.10.11.3.2.2.cmml">p</mi><mrow id="S5.p1.2.m2.4.4.2.2" xref="S5.p1.2.m2.4.4.2.3.cmml"><mrow id="S5.p1.2.m2.4.4.2.2.1" xref="S5.p1.2.m2.4.4.2.2.1.cmml"><mi id="S5.p1.2.m2.4.4.2.2.1.2" xref="S5.p1.2.m2.4.4.2.2.1.2.cmml">i</mi><mo id="S5.p1.2.m2.4.4.2.2.1.1" xref="S5.p1.2.m2.4.4.2.2.1.1.cmml">+</mo><mn id="S5.p1.2.m2.4.4.2.2.1.3" xref="S5.p1.2.m2.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p1.2.m2.4.4.2.2.2" xref="S5.p1.2.m2.4.4.2.3.cmml">,</mo><mn id="S5.p1.2.m2.3.3.1.1" xref="S5.p1.2.m2.3.3.1.1.cmml">4</mn></mrow></msup><mo id="S5.p1.2.m2.10.11.3.1" xref="S5.p1.2.m2.10.11.3.1.cmml">⁢</mo><mrow id="S5.p1.2.m2.10.11.3.3.2" xref="S5.p1.2.m2.10.11.3.3.1.cmml"><mo id="S5.p1.2.m2.10.11.3.3.2.1" stretchy="false" xref="S5.p1.2.m2.10.11.3.3.1.cmml">(</mo><mi id="S5.p1.2.m2.7.7" xref="S5.p1.2.m2.7.7.cmml">u</mi><mo id="S5.p1.2.m2.10.11.3.3.2.2" xref="S5.p1.2.m2.10.11.3.3.1.cmml">,</mo><mi id="S5.p1.2.m2.8.8" xref="S5.p1.2.m2.8.8.cmml">v</mi><mo id="S5.p1.2.m2.10.11.3.3.2.3" stretchy="false" xref="S5.p1.2.m2.10.11.3.3.1.cmml">)</mo></mrow><mo id="S5.p1.2.m2.10.11.3.1a" xref="S5.p1.2.m2.10.11.3.1.cmml">⁢</mo><mi id="S5.p1.2.m2.10.11.3.4" xref="S5.p1.2.m2.10.11.3.4.cmml">r</mi><mo id="S5.p1.2.m2.10.11.3.1b" xref="S5.p1.2.m2.10.11.3.1.cmml">⁢</mo><mrow id="S5.p1.2.m2.10.11.3.5.2" xref="S5.p1.2.m2.10.11.3.5.1.cmml"><mo id="S5.p1.2.m2.10.11.3.5.2.1" stretchy="false" xref="S5.p1.2.m2.10.11.3.5.1.cmml">(</mo><mi id="S5.p1.2.m2.9.9" xref="S5.p1.2.m2.9.9.cmml">u</mi><mo id="S5.p1.2.m2.10.11.3.5.2.2" xref="S5.p1.2.m2.10.11.3.5.1.cmml">,</mo><mi id="S5.p1.2.m2.10.10" xref="S5.p1.2.m2.10.10.cmml">v</mi><mo id="S5.p1.2.m2.10.11.3.5.2.3" stretchy="false" xref="S5.p1.2.m2.10.11.3.5.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.2.m2.10b"><apply id="S5.p1.2.m2.10.11.cmml" xref="S5.p1.2.m2.10.11"><csymbol cd="latexml" id="S5.p1.2.m2.10.11.1.cmml" xref="S5.p1.2.m2.10.11.1">assign</csymbol><apply id="S5.p1.2.m2.10.11.2.cmml" xref="S5.p1.2.m2.10.11.2"><times id="S5.p1.2.m2.10.11.2.1.cmml" xref="S5.p1.2.m2.10.11.2.1"></times><apply id="S5.p1.2.m2.10.11.2.2.cmml" xref="S5.p1.2.m2.10.11.2.2"><csymbol cd="ambiguous" id="S5.p1.2.m2.10.11.2.2.1.cmml" xref="S5.p1.2.m2.10.11.2.2">superscript</csymbol><ci id="S5.p1.2.m2.10.11.2.2.2.cmml" xref="S5.p1.2.m2.10.11.2.2.2">𝑤</ci><list id="S5.p1.2.m2.2.2.2.3.cmml" xref="S5.p1.2.m2.2.2.2.2"><apply id="S5.p1.2.m2.2.2.2.2.1.cmml" xref="S5.p1.2.m2.2.2.2.2.1"><plus id="S5.p1.2.m2.2.2.2.2.1.1.cmml" xref="S5.p1.2.m2.2.2.2.2.1.1"></plus><ci id="S5.p1.2.m2.2.2.2.2.1.2.cmml" xref="S5.p1.2.m2.2.2.2.2.1.2">𝑖</ci><cn id="S5.p1.2.m2.2.2.2.2.1.3.cmml" type="integer" xref="S5.p1.2.m2.2.2.2.2.1.3">1</cn></apply><cn id="S5.p1.2.m2.1.1.1.1.cmml" type="integer" xref="S5.p1.2.m2.1.1.1.1">4</cn></list></apply><interval closure="open" id="S5.p1.2.m2.10.11.2.3.1.cmml" xref="S5.p1.2.m2.10.11.2.3.2"><ci id="S5.p1.2.m2.5.5.cmml" xref="S5.p1.2.m2.5.5">𝑢</ci><ci id="S5.p1.2.m2.6.6.cmml" xref="S5.p1.2.m2.6.6">𝑣</ci></interval></apply><apply id="S5.p1.2.m2.10.11.3.cmml" xref="S5.p1.2.m2.10.11.3"><times id="S5.p1.2.m2.10.11.3.1.cmml" xref="S5.p1.2.m2.10.11.3.1"></times><apply id="S5.p1.2.m2.10.11.3.2.cmml" xref="S5.p1.2.m2.10.11.3.2"><csymbol cd="ambiguous" id="S5.p1.2.m2.10.11.3.2.1.cmml" xref="S5.p1.2.m2.10.11.3.2">superscript</csymbol><ci id="S5.p1.2.m2.10.11.3.2.2.cmml" xref="S5.p1.2.m2.10.11.3.2.2">𝑝</ci><list id="S5.p1.2.m2.4.4.2.3.cmml" xref="S5.p1.2.m2.4.4.2.2"><apply id="S5.p1.2.m2.4.4.2.2.1.cmml" xref="S5.p1.2.m2.4.4.2.2.1"><plus id="S5.p1.2.m2.4.4.2.2.1.1.cmml" xref="S5.p1.2.m2.4.4.2.2.1.1"></plus><ci id="S5.p1.2.m2.4.4.2.2.1.2.cmml" xref="S5.p1.2.m2.4.4.2.2.1.2">𝑖</ci><cn id="S5.p1.2.m2.4.4.2.2.1.3.cmml" type="integer" xref="S5.p1.2.m2.4.4.2.2.1.3">1</cn></apply><cn id="S5.p1.2.m2.3.3.1.1.cmml" type="integer" xref="S5.p1.2.m2.3.3.1.1">4</cn></list></apply><interval closure="open" id="S5.p1.2.m2.10.11.3.3.1.cmml" xref="S5.p1.2.m2.10.11.3.3.2"><ci id="S5.p1.2.m2.7.7.cmml" xref="S5.p1.2.m2.7.7">𝑢</ci><ci id="S5.p1.2.m2.8.8.cmml" xref="S5.p1.2.m2.8.8">𝑣</ci></interval><ci id="S5.p1.2.m2.10.11.3.4.cmml" xref="S5.p1.2.m2.10.11.3.4">𝑟</ci><interval closure="open" id="S5.p1.2.m2.10.11.3.5.1.cmml" xref="S5.p1.2.m2.10.11.3.5.2"><ci id="S5.p1.2.m2.9.9.cmml" xref="S5.p1.2.m2.9.9">𝑢</ci><ci id="S5.p1.2.m2.10.10.cmml" xref="S5.p1.2.m2.10.10">𝑣</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.2.m2.10c">w^{i+1,4}(u,v):=p^{i+1,4}(u,v)r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p1.2.m2.10d">italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v ) := italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v ) italic_r ( italic_u , italic_v )</annotation></semantics></math> to avoid issues mentioned in previous section. Apparently <math alttext="O^{i+1,4}(u,v)Y(u,v)" class="ltx_Math" display="inline" id="S5.p1.3.m3.6"><semantics id="S5.p1.3.m3.6a"><mrow id="S5.p1.3.m3.6.7" xref="S5.p1.3.m3.6.7.cmml"><msup id="S5.p1.3.m3.6.7.2" xref="S5.p1.3.m3.6.7.2.cmml"><mi id="S5.p1.3.m3.6.7.2.2" xref="S5.p1.3.m3.6.7.2.2.cmml">O</mi><mrow id="S5.p1.3.m3.2.2.2.2" xref="S5.p1.3.m3.2.2.2.3.cmml"><mrow id="S5.p1.3.m3.2.2.2.2.1" xref="S5.p1.3.m3.2.2.2.2.1.cmml"><mi id="S5.p1.3.m3.2.2.2.2.1.2" xref="S5.p1.3.m3.2.2.2.2.1.2.cmml">i</mi><mo id="S5.p1.3.m3.2.2.2.2.1.1" xref="S5.p1.3.m3.2.2.2.2.1.1.cmml">+</mo><mn id="S5.p1.3.m3.2.2.2.2.1.3" xref="S5.p1.3.m3.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p1.3.m3.2.2.2.2.2" xref="S5.p1.3.m3.2.2.2.3.cmml">,</mo><mn id="S5.p1.3.m3.1.1.1.1" xref="S5.p1.3.m3.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S5.p1.3.m3.6.7.1" xref="S5.p1.3.m3.6.7.1.cmml">⁢</mo><mrow id="S5.p1.3.m3.6.7.3.2" xref="S5.p1.3.m3.6.7.3.1.cmml"><mo id="S5.p1.3.m3.6.7.3.2.1" stretchy="false" xref="S5.p1.3.m3.6.7.3.1.cmml">(</mo><mi id="S5.p1.3.m3.3.3" xref="S5.p1.3.m3.3.3.cmml">u</mi><mo id="S5.p1.3.m3.6.7.3.2.2" xref="S5.p1.3.m3.6.7.3.1.cmml">,</mo><mi id="S5.p1.3.m3.4.4" xref="S5.p1.3.m3.4.4.cmml">v</mi><mo id="S5.p1.3.m3.6.7.3.2.3" stretchy="false" xref="S5.p1.3.m3.6.7.3.1.cmml">)</mo></mrow><mo id="S5.p1.3.m3.6.7.1a" xref="S5.p1.3.m3.6.7.1.cmml">⁢</mo><mi id="S5.p1.3.m3.6.7.4" xref="S5.p1.3.m3.6.7.4.cmml">Y</mi><mo id="S5.p1.3.m3.6.7.1b" xref="S5.p1.3.m3.6.7.1.cmml">⁢</mo><mrow id="S5.p1.3.m3.6.7.5.2" xref="S5.p1.3.m3.6.7.5.1.cmml"><mo id="S5.p1.3.m3.6.7.5.2.1" stretchy="false" xref="S5.p1.3.m3.6.7.5.1.cmml">(</mo><mi id="S5.p1.3.m3.5.5" xref="S5.p1.3.m3.5.5.cmml">u</mi><mo id="S5.p1.3.m3.6.7.5.2.2" xref="S5.p1.3.m3.6.7.5.1.cmml">,</mo><mi id="S5.p1.3.m3.6.6" xref="S5.p1.3.m3.6.6.cmml">v</mi><mo id="S5.p1.3.m3.6.7.5.2.3" stretchy="false" xref="S5.p1.3.m3.6.7.5.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.3.m3.6b"><apply id="S5.p1.3.m3.6.7.cmml" xref="S5.p1.3.m3.6.7"><times id="S5.p1.3.m3.6.7.1.cmml" xref="S5.p1.3.m3.6.7.1"></times><apply id="S5.p1.3.m3.6.7.2.cmml" xref="S5.p1.3.m3.6.7.2"><csymbol cd="ambiguous" id="S5.p1.3.m3.6.7.2.1.cmml" xref="S5.p1.3.m3.6.7.2">superscript</csymbol><ci id="S5.p1.3.m3.6.7.2.2.cmml" xref="S5.p1.3.m3.6.7.2.2">𝑂</ci><list id="S5.p1.3.m3.2.2.2.3.cmml" xref="S5.p1.3.m3.2.2.2.2"><apply id="S5.p1.3.m3.2.2.2.2.1.cmml" xref="S5.p1.3.m3.2.2.2.2.1"><plus id="S5.p1.3.m3.2.2.2.2.1.1.cmml" xref="S5.p1.3.m3.2.2.2.2.1.1"></plus><ci id="S5.p1.3.m3.2.2.2.2.1.2.cmml" xref="S5.p1.3.m3.2.2.2.2.1.2">𝑖</ci><cn id="S5.p1.3.m3.2.2.2.2.1.3.cmml" type="integer" xref="S5.p1.3.m3.2.2.2.2.1.3">1</cn></apply><cn id="S5.p1.3.m3.1.1.1.1.cmml" type="integer" xref="S5.p1.3.m3.1.1.1.1">4</cn></list></apply><interval closure="open" id="S5.p1.3.m3.6.7.3.1.cmml" xref="S5.p1.3.m3.6.7.3.2"><ci id="S5.p1.3.m3.3.3.cmml" xref="S5.p1.3.m3.3.3">𝑢</ci><ci id="S5.p1.3.m3.4.4.cmml" xref="S5.p1.3.m3.4.4">𝑣</ci></interval><ci id="S5.p1.3.m3.6.7.4.cmml" xref="S5.p1.3.m3.6.7.4">𝑌</ci><interval closure="open" id="S5.p1.3.m3.6.7.5.1.cmml" xref="S5.p1.3.m3.6.7.5.2"><ci id="S5.p1.3.m3.5.5.cmml" xref="S5.p1.3.m3.5.5">𝑢</ci><ci id="S5.p1.3.m3.6.6.cmml" xref="S5.p1.3.m3.6.6">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.3.m3.6c">O^{i+1,4}(u,v)Y(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p1.3.m3.6d">italic_O start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v ) italic_Y ( italic_u , italic_v )</annotation></semantics></math> is a realization of <math alttext="w^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S5.p1.4.m4.4"><semantics id="S5.p1.4.m4.4a"><mrow id="S5.p1.4.m4.4.5" xref="S5.p1.4.m4.4.5.cmml"><msup id="S5.p1.4.m4.4.5.2" xref="S5.p1.4.m4.4.5.2.cmml"><mi id="S5.p1.4.m4.4.5.2.2" xref="S5.p1.4.m4.4.5.2.2.cmml">w</mi><mrow id="S5.p1.4.m4.2.2.2.2" xref="S5.p1.4.m4.2.2.2.3.cmml"><mrow id="S5.p1.4.m4.2.2.2.2.1" xref="S5.p1.4.m4.2.2.2.2.1.cmml"><mi id="S5.p1.4.m4.2.2.2.2.1.2" xref="S5.p1.4.m4.2.2.2.2.1.2.cmml">i</mi><mo id="S5.p1.4.m4.2.2.2.2.1.1" xref="S5.p1.4.m4.2.2.2.2.1.1.cmml">+</mo><mn id="S5.p1.4.m4.2.2.2.2.1.3" xref="S5.p1.4.m4.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p1.4.m4.2.2.2.2.2" xref="S5.p1.4.m4.2.2.2.3.cmml">,</mo><mn id="S5.p1.4.m4.1.1.1.1" xref="S5.p1.4.m4.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S5.p1.4.m4.4.5.1" xref="S5.p1.4.m4.4.5.1.cmml">⁢</mo><mrow id="S5.p1.4.m4.4.5.3.2" xref="S5.p1.4.m4.4.5.3.1.cmml"><mo id="S5.p1.4.m4.4.5.3.2.1" stretchy="false" xref="S5.p1.4.m4.4.5.3.1.cmml">(</mo><mi id="S5.p1.4.m4.3.3" xref="S5.p1.4.m4.3.3.cmml">u</mi><mo id="S5.p1.4.m4.4.5.3.2.2" xref="S5.p1.4.m4.4.5.3.1.cmml">,</mo><mi id="S5.p1.4.m4.4.4" xref="S5.p1.4.m4.4.4.cmml">v</mi><mo id="S5.p1.4.m4.4.5.3.2.3" stretchy="false" xref="S5.p1.4.m4.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.4.m4.4b"><apply id="S5.p1.4.m4.4.5.cmml" xref="S5.p1.4.m4.4.5"><times id="S5.p1.4.m4.4.5.1.cmml" xref="S5.p1.4.m4.4.5.1"></times><apply id="S5.p1.4.m4.4.5.2.cmml" xref="S5.p1.4.m4.4.5.2"><csymbol cd="ambiguous" id="S5.p1.4.m4.4.5.2.1.cmml" xref="S5.p1.4.m4.4.5.2">superscript</csymbol><ci id="S5.p1.4.m4.4.5.2.2.cmml" xref="S5.p1.4.m4.4.5.2.2">𝑤</ci><list id="S5.p1.4.m4.2.2.2.3.cmml" xref="S5.p1.4.m4.2.2.2.2"><apply id="S5.p1.4.m4.2.2.2.2.1.cmml" xref="S5.p1.4.m4.2.2.2.2.1"><plus id="S5.p1.4.m4.2.2.2.2.1.1.cmml" xref="S5.p1.4.m4.2.2.2.2.1.1"></plus><ci id="S5.p1.4.m4.2.2.2.2.1.2.cmml" xref="S5.p1.4.m4.2.2.2.2.1.2">𝑖</ci><cn id="S5.p1.4.m4.2.2.2.2.1.3.cmml" type="integer" xref="S5.p1.4.m4.2.2.2.2.1.3">1</cn></apply><cn id="S5.p1.4.m4.1.1.1.1.cmml" type="integer" xref="S5.p1.4.m4.1.1.1.1">4</cn></list></apply><interval closure="open" id="S5.p1.4.m4.4.5.3.1.cmml" xref="S5.p1.4.m4.4.5.3.2"><ci id="S5.p1.4.m4.3.3.cmml" xref="S5.p1.4.m4.3.3">𝑢</ci><ci id="S5.p1.4.m4.4.4.cmml" xref="S5.p1.4.m4.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.4.m4.4c">w^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p1.4.m4.4d">italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> which can be observed in practical systems. As <math alttext="\mathbf{E}[O^{i+1,4}(u,v)Y(u,v)]=w^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S5.p1.5.m5.11"><semantics id="S5.p1.5.m5.11a"><mrow id="S5.p1.5.m5.11.11" xref="S5.p1.5.m5.11.11.cmml"><mrow id="S5.p1.5.m5.11.11.1" xref="S5.p1.5.m5.11.11.1.cmml"><mi id="S5.p1.5.m5.11.11.1.3" xref="S5.p1.5.m5.11.11.1.3.cmml">𝐄</mi><mo id="S5.p1.5.m5.11.11.1.2" xref="S5.p1.5.m5.11.11.1.2.cmml">⁢</mo><mrow id="S5.p1.5.m5.11.11.1.1.1" xref="S5.p1.5.m5.11.11.1.1.2.cmml"><mo id="S5.p1.5.m5.11.11.1.1.1.2" stretchy="false" xref="S5.p1.5.m5.11.11.1.1.2.1.cmml">[</mo><mrow id="S5.p1.5.m5.11.11.1.1.1.1" xref="S5.p1.5.m5.11.11.1.1.1.1.cmml"><msup id="S5.p1.5.m5.11.11.1.1.1.1.2" xref="S5.p1.5.m5.11.11.1.1.1.1.2.cmml"><mi id="S5.p1.5.m5.11.11.1.1.1.1.2.2" xref="S5.p1.5.m5.11.11.1.1.1.1.2.2.cmml">O</mi><mrow id="S5.p1.5.m5.2.2.2.2" xref="S5.p1.5.m5.2.2.2.3.cmml"><mrow id="S5.p1.5.m5.2.2.2.2.1" xref="S5.p1.5.m5.2.2.2.2.1.cmml"><mi id="S5.p1.5.m5.2.2.2.2.1.2" xref="S5.p1.5.m5.2.2.2.2.1.2.cmml">i</mi><mo id="S5.p1.5.m5.2.2.2.2.1.1" xref="S5.p1.5.m5.2.2.2.2.1.1.cmml">+</mo><mn id="S5.p1.5.m5.2.2.2.2.1.3" xref="S5.p1.5.m5.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p1.5.m5.2.2.2.2.2" xref="S5.p1.5.m5.2.2.2.3.cmml">,</mo><mn id="S5.p1.5.m5.1.1.1.1" xref="S5.p1.5.m5.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S5.p1.5.m5.11.11.1.1.1.1.1" xref="S5.p1.5.m5.11.11.1.1.1.1.1.cmml">⁢</mo><mrow id="S5.p1.5.m5.11.11.1.1.1.1.3.2" xref="S5.p1.5.m5.11.11.1.1.1.1.3.1.cmml"><mo id="S5.p1.5.m5.11.11.1.1.1.1.3.2.1" stretchy="false" xref="S5.p1.5.m5.11.11.1.1.1.1.3.1.cmml">(</mo><mi id="S5.p1.5.m5.5.5" xref="S5.p1.5.m5.5.5.cmml">u</mi><mo id="S5.p1.5.m5.11.11.1.1.1.1.3.2.2" xref="S5.p1.5.m5.11.11.1.1.1.1.3.1.cmml">,</mo><mi id="S5.p1.5.m5.6.6" xref="S5.p1.5.m5.6.6.cmml">v</mi><mo id="S5.p1.5.m5.11.11.1.1.1.1.3.2.3" stretchy="false" xref="S5.p1.5.m5.11.11.1.1.1.1.3.1.cmml">)</mo></mrow><mo id="S5.p1.5.m5.11.11.1.1.1.1.1a" xref="S5.p1.5.m5.11.11.1.1.1.1.1.cmml">⁢</mo><mi id="S5.p1.5.m5.11.11.1.1.1.1.4" xref="S5.p1.5.m5.11.11.1.1.1.1.4.cmml">Y</mi><mo id="S5.p1.5.m5.11.11.1.1.1.1.1b" xref="S5.p1.5.m5.11.11.1.1.1.1.1.cmml">⁢</mo><mrow id="S5.p1.5.m5.11.11.1.1.1.1.5.2" xref="S5.p1.5.m5.11.11.1.1.1.1.5.1.cmml"><mo id="S5.p1.5.m5.11.11.1.1.1.1.5.2.1" stretchy="false" xref="S5.p1.5.m5.11.11.1.1.1.1.5.1.cmml">(</mo><mi id="S5.p1.5.m5.7.7" xref="S5.p1.5.m5.7.7.cmml">u</mi><mo id="S5.p1.5.m5.11.11.1.1.1.1.5.2.2" xref="S5.p1.5.m5.11.11.1.1.1.1.5.1.cmml">,</mo><mi id="S5.p1.5.m5.8.8" xref="S5.p1.5.m5.8.8.cmml">v</mi><mo id="S5.p1.5.m5.11.11.1.1.1.1.5.2.3" stretchy="false" xref="S5.p1.5.m5.11.11.1.1.1.1.5.1.cmml">)</mo></mrow></mrow><mo id="S5.p1.5.m5.11.11.1.1.1.3" stretchy="false" xref="S5.p1.5.m5.11.11.1.1.2.1.cmml">]</mo></mrow></mrow><mo id="S5.p1.5.m5.11.11.2" xref="S5.p1.5.m5.11.11.2.cmml">=</mo><mrow id="S5.p1.5.m5.11.11.3" xref="S5.p1.5.m5.11.11.3.cmml"><msup id="S5.p1.5.m5.11.11.3.2" xref="S5.p1.5.m5.11.11.3.2.cmml"><mi id="S5.p1.5.m5.11.11.3.2.2" xref="S5.p1.5.m5.11.11.3.2.2.cmml">w</mi><mrow id="S5.p1.5.m5.4.4.2.2" xref="S5.p1.5.m5.4.4.2.3.cmml"><mrow id="S5.p1.5.m5.4.4.2.2.1" xref="S5.p1.5.m5.4.4.2.2.1.cmml"><mi id="S5.p1.5.m5.4.4.2.2.1.2" xref="S5.p1.5.m5.4.4.2.2.1.2.cmml">i</mi><mo id="S5.p1.5.m5.4.4.2.2.1.1" xref="S5.p1.5.m5.4.4.2.2.1.1.cmml">+</mo><mn id="S5.p1.5.m5.4.4.2.2.1.3" xref="S5.p1.5.m5.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p1.5.m5.4.4.2.2.2" xref="S5.p1.5.m5.4.4.2.3.cmml">,</mo><mn id="S5.p1.5.m5.3.3.1.1" xref="S5.p1.5.m5.3.3.1.1.cmml">4</mn></mrow></msup><mo id="S5.p1.5.m5.11.11.3.1" xref="S5.p1.5.m5.11.11.3.1.cmml">⁢</mo><mrow id="S5.p1.5.m5.11.11.3.3.2" xref="S5.p1.5.m5.11.11.3.3.1.cmml"><mo id="S5.p1.5.m5.11.11.3.3.2.1" stretchy="false" xref="S5.p1.5.m5.11.11.3.3.1.cmml">(</mo><mi id="S5.p1.5.m5.9.9" xref="S5.p1.5.m5.9.9.cmml">u</mi><mo id="S5.p1.5.m5.11.11.3.3.2.2" xref="S5.p1.5.m5.11.11.3.3.1.cmml">,</mo><mi id="S5.p1.5.m5.10.10" xref="S5.p1.5.m5.10.10.cmml">v</mi><mo id="S5.p1.5.m5.11.11.3.3.2.3" stretchy="false" xref="S5.p1.5.m5.11.11.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.5.m5.11b"><apply id="S5.p1.5.m5.11.11.cmml" xref="S5.p1.5.m5.11.11"><eq id="S5.p1.5.m5.11.11.2.cmml" xref="S5.p1.5.m5.11.11.2"></eq><apply id="S5.p1.5.m5.11.11.1.cmml" xref="S5.p1.5.m5.11.11.1"><times id="S5.p1.5.m5.11.11.1.2.cmml" xref="S5.p1.5.m5.11.11.1.2"></times><ci id="S5.p1.5.m5.11.11.1.3.cmml" xref="S5.p1.5.m5.11.11.1.3">𝐄</ci><apply id="S5.p1.5.m5.11.11.1.1.2.cmml" xref="S5.p1.5.m5.11.11.1.1.1"><csymbol cd="latexml" id="S5.p1.5.m5.11.11.1.1.2.1.cmml" xref="S5.p1.5.m5.11.11.1.1.1.2">delimited-[]</csymbol><apply id="S5.p1.5.m5.11.11.1.1.1.1.cmml" xref="S5.p1.5.m5.11.11.1.1.1.1"><times id="S5.p1.5.m5.11.11.1.1.1.1.1.cmml" xref="S5.p1.5.m5.11.11.1.1.1.1.1"></times><apply id="S5.p1.5.m5.11.11.1.1.1.1.2.cmml" xref="S5.p1.5.m5.11.11.1.1.1.1.2"><csymbol cd="ambiguous" id="S5.p1.5.m5.11.11.1.1.1.1.2.1.cmml" xref="S5.p1.5.m5.11.11.1.1.1.1.2">superscript</csymbol><ci id="S5.p1.5.m5.11.11.1.1.1.1.2.2.cmml" xref="S5.p1.5.m5.11.11.1.1.1.1.2.2">𝑂</ci><list id="S5.p1.5.m5.2.2.2.3.cmml" xref="S5.p1.5.m5.2.2.2.2"><apply id="S5.p1.5.m5.2.2.2.2.1.cmml" xref="S5.p1.5.m5.2.2.2.2.1"><plus id="S5.p1.5.m5.2.2.2.2.1.1.cmml" xref="S5.p1.5.m5.2.2.2.2.1.1"></plus><ci id="S5.p1.5.m5.2.2.2.2.1.2.cmml" xref="S5.p1.5.m5.2.2.2.2.1.2">𝑖</ci><cn id="S5.p1.5.m5.2.2.2.2.1.3.cmml" type="integer" xref="S5.p1.5.m5.2.2.2.2.1.3">1</cn></apply><cn id="S5.p1.5.m5.1.1.1.1.cmml" type="integer" xref="S5.p1.5.m5.1.1.1.1">4</cn></list></apply><interval closure="open" id="S5.p1.5.m5.11.11.1.1.1.1.3.1.cmml" xref="S5.p1.5.m5.11.11.1.1.1.1.3.2"><ci id="S5.p1.5.m5.5.5.cmml" xref="S5.p1.5.m5.5.5">𝑢</ci><ci id="S5.p1.5.m5.6.6.cmml" xref="S5.p1.5.m5.6.6">𝑣</ci></interval><ci id="S5.p1.5.m5.11.11.1.1.1.1.4.cmml" xref="S5.p1.5.m5.11.11.1.1.1.1.4">𝑌</ci><interval closure="open" id="S5.p1.5.m5.11.11.1.1.1.1.5.1.cmml" xref="S5.p1.5.m5.11.11.1.1.1.1.5.2"><ci id="S5.p1.5.m5.7.7.cmml" xref="S5.p1.5.m5.7.7">𝑢</ci><ci id="S5.p1.5.m5.8.8.cmml" xref="S5.p1.5.m5.8.8">𝑣</ci></interval></apply></apply></apply><apply id="S5.p1.5.m5.11.11.3.cmml" xref="S5.p1.5.m5.11.11.3"><times id="S5.p1.5.m5.11.11.3.1.cmml" xref="S5.p1.5.m5.11.11.3.1"></times><apply id="S5.p1.5.m5.11.11.3.2.cmml" xref="S5.p1.5.m5.11.11.3.2"><csymbol cd="ambiguous" id="S5.p1.5.m5.11.11.3.2.1.cmml" xref="S5.p1.5.m5.11.11.3.2">superscript</csymbol><ci id="S5.p1.5.m5.11.11.3.2.2.cmml" xref="S5.p1.5.m5.11.11.3.2.2">𝑤</ci><list id="S5.p1.5.m5.4.4.2.3.cmml" xref="S5.p1.5.m5.4.4.2.2"><apply id="S5.p1.5.m5.4.4.2.2.1.cmml" xref="S5.p1.5.m5.4.4.2.2.1"><plus id="S5.p1.5.m5.4.4.2.2.1.1.cmml" xref="S5.p1.5.m5.4.4.2.2.1.1"></plus><ci id="S5.p1.5.m5.4.4.2.2.1.2.cmml" xref="S5.p1.5.m5.4.4.2.2.1.2">𝑖</ci><cn id="S5.p1.5.m5.4.4.2.2.1.3.cmml" type="integer" xref="S5.p1.5.m5.4.4.2.2.1.3">1</cn></apply><cn id="S5.p1.5.m5.3.3.1.1.cmml" type="integer" xref="S5.p1.5.m5.3.3.1.1">4</cn></list></apply><interval closure="open" id="S5.p1.5.m5.11.11.3.3.1.cmml" xref="S5.p1.5.m5.11.11.3.3.2"><ci id="S5.p1.5.m5.9.9.cmml" xref="S5.p1.5.m5.9.9">𝑢</ci><ci id="S5.p1.5.m5.10.10.cmml" xref="S5.p1.5.m5.10.10">𝑣</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.5.m5.11c">\mathbf{E}[O^{i+1,4}(u,v)Y(u,v)]=w^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p1.5.m5.11d">bold_E [ italic_O start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v ) italic_Y ( italic_u , italic_v ) ] = italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math>, we obtain our first efficient algorithm towards learning objective function (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E7" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>) of GPRP: collecting data after stages <math alttext="i-1" class="ltx_Math" display="inline" id="S5.p1.6.m6.1"><semantics id="S5.p1.6.m6.1a"><mrow id="S5.p1.6.m6.1.1" xref="S5.p1.6.m6.1.1.cmml"><mi id="S5.p1.6.m6.1.1.2" xref="S5.p1.6.m6.1.1.2.cmml">i</mi><mo id="S5.p1.6.m6.1.1.1" xref="S5.p1.6.m6.1.1.1.cmml">−</mo><mn id="S5.p1.6.m6.1.1.3" xref="S5.p1.6.m6.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.p1.6.m6.1b"><apply id="S5.p1.6.m6.1.1.cmml" xref="S5.p1.6.m6.1.1"><minus id="S5.p1.6.m6.1.1.1.cmml" xref="S5.p1.6.m6.1.1.1"></minus><ci id="S5.p1.6.m6.1.1.2.cmml" xref="S5.p1.6.m6.1.1.2">𝑖</ci><cn id="S5.p1.6.m6.1.1.3.cmml" type="integer" xref="S5.p1.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.6.m6.1c">i-1</annotation><annotation encoding="application/x-llamapun" id="S5.p1.6.m6.1d">italic_i - 1</annotation></semantics></math> with label 0, except the exposed and clicked data with label 1, then learning a supervised model with such labeled data which is then used online at stage <math alttext="i" class="ltx_Math" display="inline" id="S5.p1.7.m7.1"><semantics id="S5.p1.7.m7.1a"><mi id="S5.p1.7.m7.1.1" xref="S5.p1.7.m7.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.p1.7.m7.1b"><ci id="S5.p1.7.m7.1.1.cmml" xref="S5.p1.7.m7.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p1.7.m7.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.p1.7.m7.1d">italic_i</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.2">Though this algorithm is simple and easy to implement, it treats all non-exposed items equally, which may omit the abundant information of the data. Intuitively, items which enter stage <math alttext="i+1" class="ltx_Math" display="inline" id="S5.p2.1.m1.1"><semantics id="S5.p2.1.m1.1a"><mrow id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml"><mi id="S5.p2.1.m1.1.1.2" xref="S5.p2.1.m1.1.1.2.cmml">i</mi><mo id="S5.p2.1.m1.1.1.1" xref="S5.p2.1.m1.1.1.1.cmml">+</mo><mn id="S5.p2.1.m1.1.1.3" xref="S5.p2.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.1b"><apply id="S5.p2.1.m1.1.1.cmml" xref="S5.p2.1.m1.1.1"><plus id="S5.p2.1.m1.1.1.1.cmml" xref="S5.p2.1.m1.1.1.1"></plus><ci id="S5.p2.1.m1.1.1.2.cmml" xref="S5.p2.1.m1.1.1.2">𝑖</ci><cn id="S5.p2.1.m1.1.1.3.cmml" type="integer" xref="S5.p2.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.1c">i+1</annotation><annotation encoding="application/x-llamapun" id="S5.p2.1.m1.1d">italic_i + 1</annotation></semantics></math> may be better than items filtrated by stage <math alttext="i" class="ltx_Math" display="inline" id="S5.p2.2.m2.1"><semantics id="S5.p2.2.m2.1a"><mi id="S5.p2.2.m2.1.1" xref="S5.p2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.p2.2.m2.1b"><ci id="S5.p2.2.m2.1.1.cmml" xref="S5.p2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.p2.2.m2.1d">italic_i</annotation></semantics></math>, thus we hope to make full use of the information of collected data to learn the selection bias and user’s interest better.</p>
</div>
<div class="ltx_para" id="S5.p3">
<p class="ltx_p" id="S5.p3.1">Before introducing our new algorithmic framework, we make another important assumption about the multi-stage system:</p>
</div>
<div class="ltx_theorem ltx_theorem_assumption" id="Thmassumption2">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmassumption2.1.1.1">Assumption 2</span></span><span class="ltx_text ltx_font_bold" id="Thmassumption2.2.2">.</span>
</h6>
<div class="ltx_para" id="Thmassumption2.p1">
<p class="ltx_p" id="Thmassumption2.p1.5"><span class="ltx_text ltx_font_italic" id="Thmassumption2.p1.5.5">For two observed items <math alttext="v_{i},v_{i+1}" class="ltx_Math" display="inline" id="Thmassumption2.p1.1.1.m1.2"><semantics id="Thmassumption2.p1.1.1.m1.2a"><mrow id="Thmassumption2.p1.1.1.m1.2.2.2" xref="Thmassumption2.p1.1.1.m1.2.2.3.cmml"><msub id="Thmassumption2.p1.1.1.m1.1.1.1.1" xref="Thmassumption2.p1.1.1.m1.1.1.1.1.cmml"><mi id="Thmassumption2.p1.1.1.m1.1.1.1.1.2" xref="Thmassumption2.p1.1.1.m1.1.1.1.1.2.cmml">v</mi><mi id="Thmassumption2.p1.1.1.m1.1.1.1.1.3" xref="Thmassumption2.p1.1.1.m1.1.1.1.1.3.cmml">i</mi></msub><mo id="Thmassumption2.p1.1.1.m1.2.2.2.3" xref="Thmassumption2.p1.1.1.m1.2.2.3.cmml">,</mo><msub id="Thmassumption2.p1.1.1.m1.2.2.2.2" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.cmml"><mi id="Thmassumption2.p1.1.1.m1.2.2.2.2.2" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.2.cmml">v</mi><mrow id="Thmassumption2.p1.1.1.m1.2.2.2.2.3" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.3.cmml"><mi id="Thmassumption2.p1.1.1.m1.2.2.2.2.3.2" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.3.2.cmml">i</mi><mo id="Thmassumption2.p1.1.1.m1.2.2.2.2.3.1" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.3.1.cmml">+</mo><mn id="Thmassumption2.p1.1.1.m1.2.2.2.2.3.3" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.3.3.cmml">1</mn></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="Thmassumption2.p1.1.1.m1.2b"><list id="Thmassumption2.p1.1.1.m1.2.2.3.cmml" xref="Thmassumption2.p1.1.1.m1.2.2.2"><apply id="Thmassumption2.p1.1.1.m1.1.1.1.1.cmml" xref="Thmassumption2.p1.1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="Thmassumption2.p1.1.1.m1.1.1.1.1.1.cmml" xref="Thmassumption2.p1.1.1.m1.1.1.1.1">subscript</csymbol><ci id="Thmassumption2.p1.1.1.m1.1.1.1.1.2.cmml" xref="Thmassumption2.p1.1.1.m1.1.1.1.1.2">𝑣</ci><ci id="Thmassumption2.p1.1.1.m1.1.1.1.1.3.cmml" xref="Thmassumption2.p1.1.1.m1.1.1.1.1.3">𝑖</ci></apply><apply id="Thmassumption2.p1.1.1.m1.2.2.2.2.cmml" xref="Thmassumption2.p1.1.1.m1.2.2.2.2"><csymbol cd="ambiguous" id="Thmassumption2.p1.1.1.m1.2.2.2.2.1.cmml" xref="Thmassumption2.p1.1.1.m1.2.2.2.2">subscript</csymbol><ci id="Thmassumption2.p1.1.1.m1.2.2.2.2.2.cmml" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.2">𝑣</ci><apply id="Thmassumption2.p1.1.1.m1.2.2.2.2.3.cmml" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.3"><plus id="Thmassumption2.p1.1.1.m1.2.2.2.2.3.1.cmml" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.3.1"></plus><ci id="Thmassumption2.p1.1.1.m1.2.2.2.2.3.2.cmml" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.3.2">𝑖</ci><cn id="Thmassumption2.p1.1.1.m1.2.2.2.2.3.3.cmml" type="integer" xref="Thmassumption2.p1.1.1.m1.2.2.2.2.3.3">1</cn></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="Thmassumption2.p1.1.1.m1.2c">v_{i},v_{i+1}</annotation><annotation encoding="application/x-llamapun" id="Thmassumption2.p1.1.1.m1.2d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math> in two subsequent stages <math alttext="i" class="ltx_Math" display="inline" id="Thmassumption2.p1.2.2.m2.1"><semantics id="Thmassumption2.p1.2.2.m2.1a"><mi id="Thmassumption2.p1.2.2.m2.1.1" xref="Thmassumption2.p1.2.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="Thmassumption2.p1.2.2.m2.1b"><ci id="Thmassumption2.p1.2.2.m2.1.1.cmml" xref="Thmassumption2.p1.2.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="Thmassumption2.p1.2.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="Thmassumption2.p1.2.2.m2.1d">italic_i</annotation></semantics></math> and <math alttext="i+1" class="ltx_Math" display="inline" id="Thmassumption2.p1.3.3.m3.1"><semantics id="Thmassumption2.p1.3.3.m3.1a"><mrow id="Thmassumption2.p1.3.3.m3.1.1" xref="Thmassumption2.p1.3.3.m3.1.1.cmml"><mi id="Thmassumption2.p1.3.3.m3.1.1.2" xref="Thmassumption2.p1.3.3.m3.1.1.2.cmml">i</mi><mo id="Thmassumption2.p1.3.3.m3.1.1.1" xref="Thmassumption2.p1.3.3.m3.1.1.1.cmml">+</mo><mn id="Thmassumption2.p1.3.3.m3.1.1.3" xref="Thmassumption2.p1.3.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="Thmassumption2.p1.3.3.m3.1b"><apply id="Thmassumption2.p1.3.3.m3.1.1.cmml" xref="Thmassumption2.p1.3.3.m3.1.1"><plus id="Thmassumption2.p1.3.3.m3.1.1.1.cmml" xref="Thmassumption2.p1.3.3.m3.1.1.1"></plus><ci id="Thmassumption2.p1.3.3.m3.1.1.2.cmml" xref="Thmassumption2.p1.3.3.m3.1.1.2">𝑖</ci><cn id="Thmassumption2.p1.3.3.m3.1.1.3.cmml" type="integer" xref="Thmassumption2.p1.3.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmassumption2.p1.3.3.m3.1c">i+1</annotation><annotation encoding="application/x-llamapun" id="Thmassumption2.p1.3.3.m3.1d">italic_i + 1</annotation></semantics></math> (i.e. <math alttext="v_{i}\in\mathcal{I}^{i},v_{i}\not\in\mathcal{I}^{i+1},v_{i+1}\in\mathcal{I}^{i%
+1}" class="ltx_Math" display="inline" id="Thmassumption2.p1.4.4.m4.2"><semantics id="Thmassumption2.p1.4.4.m4.2a"><mrow id="Thmassumption2.p1.4.4.m4.2.2.2" xref="Thmassumption2.p1.4.4.m4.2.2.3.cmml"><mrow id="Thmassumption2.p1.4.4.m4.1.1.1.1" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.cmml"><msub id="Thmassumption2.p1.4.4.m4.1.1.1.1.2" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.2.cmml"><mi id="Thmassumption2.p1.4.4.m4.1.1.1.1.2.2" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.2.2.cmml">v</mi><mi id="Thmassumption2.p1.4.4.m4.1.1.1.1.2.3" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.2.3.cmml">i</mi></msub><mo id="Thmassumption2.p1.4.4.m4.1.1.1.1.1" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.1.cmml">∈</mo><msup id="Thmassumption2.p1.4.4.m4.1.1.1.1.3" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmassumption2.p1.4.4.m4.1.1.1.1.3.2" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.3.2.cmml">ℐ</mi><mi id="Thmassumption2.p1.4.4.m4.1.1.1.1.3.3" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.3.3.cmml">i</mi></msup></mrow><mo id="Thmassumption2.p1.4.4.m4.2.2.2.3" xref="Thmassumption2.p1.4.4.m4.2.2.3a.cmml">,</mo><mrow id="Thmassumption2.p1.4.4.m4.2.2.2.2.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.3.cmml"><mrow id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.cmml"><msub id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.cmml"><mi id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.2.cmml">v</mi><mi id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.3.cmml">i</mi></msub><mo id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.1" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.1.cmml">∉</mo><msup id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.2.cmml">ℐ</mi><mrow id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.cmml"><mi id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.2.cmml">i</mi><mo id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.1" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.1.cmml">+</mo><mn id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.3a.cmml">,</mo><mrow id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.cmml"><msub id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.cmml"><mi id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.2.cmml">v</mi><mrow id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.cmml"><mi id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.2.cmml">i</mi><mo id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.1" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.1.cmml">+</mo><mn id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.1" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.1.cmml">∈</mo><msup id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.2.cmml">ℐ</mi><mrow id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.cmml"><mi id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.2" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.2.cmml">i</mi><mo id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.1" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.1.cmml">+</mo><mn id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.3" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.3.cmml">1</mn></mrow></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmassumption2.p1.4.4.m4.2b"><apply id="Thmassumption2.p1.4.4.m4.2.2.3.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2"><csymbol cd="ambiguous" id="Thmassumption2.p1.4.4.m4.2.2.3a.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.3">formulae-sequence</csymbol><apply id="Thmassumption2.p1.4.4.m4.1.1.1.1.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1"><in id="Thmassumption2.p1.4.4.m4.1.1.1.1.1.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.1"></in><apply id="Thmassumption2.p1.4.4.m4.1.1.1.1.2.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.2"><csymbol cd="ambiguous" id="Thmassumption2.p1.4.4.m4.1.1.1.1.2.1.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.2">subscript</csymbol><ci id="Thmassumption2.p1.4.4.m4.1.1.1.1.2.2.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.2.2">𝑣</ci><ci id="Thmassumption2.p1.4.4.m4.1.1.1.1.2.3.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.2.3">𝑖</ci></apply><apply id="Thmassumption2.p1.4.4.m4.1.1.1.1.3.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.3"><csymbol cd="ambiguous" id="Thmassumption2.p1.4.4.m4.1.1.1.1.3.1.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.3">superscript</csymbol><ci id="Thmassumption2.p1.4.4.m4.1.1.1.1.3.2.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.3.2">ℐ</ci><ci id="Thmassumption2.p1.4.4.m4.1.1.1.1.3.3.cmml" xref="Thmassumption2.p1.4.4.m4.1.1.1.1.3.3">𝑖</ci></apply></apply><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.3.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="Thmassumption2.p1.4.4.m4.2.2.2.2.3a.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1"><notin id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.1"></notin><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2">subscript</csymbol><ci id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.2">𝑣</ci><ci id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.3.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.2.3">𝑖</ci></apply><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3">superscript</csymbol><ci id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.2">ℐ</ci><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3"><plus id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.1"></plus><ci id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.2">𝑖</ci><cn id="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.3.cmml" type="integer" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.1.1.3.3.3">1</cn></apply></apply></apply><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2"><in id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.1"></in><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2">subscript</csymbol><ci id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.2">𝑣</ci><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3"><plus id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.1"></plus><ci id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.2">𝑖</ci><cn id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.3.cmml" type="integer" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.2.3.3">1</cn></apply></apply><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3">superscript</csymbol><ci id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.2">ℐ</ci><apply id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3"><plus id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.1.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.1"></plus><ci id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.2.cmml" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.2">𝑖</ci><cn id="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.3.cmml" type="integer" xref="Thmassumption2.p1.4.4.m4.2.2.2.2.2.2.3.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmassumption2.p1.4.4.m4.2c">v_{i}\in\mathcal{I}^{i},v_{i}\not\in\mathcal{I}^{i+1},v_{i+1}\in\mathcal{I}^{i%
+1}</annotation><annotation encoding="application/x-llamapun" id="Thmassumption2.p1.4.4.m4.2d">italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT , italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∉ caligraphic_I start_POSTSUPERSCRIPT italic_i + 1 end_POSTSUPERSCRIPT , italic_v start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT ∈ caligraphic_I start_POSTSUPERSCRIPT italic_i + 1 end_POSTSUPERSCRIPT</annotation></semantics></math>), where <math alttext="i\in[3]" class="ltx_Math" display="inline" id="Thmassumption2.p1.5.5.m5.1"><semantics id="Thmassumption2.p1.5.5.m5.1a"><mrow id="Thmassumption2.p1.5.5.m5.1.2" xref="Thmassumption2.p1.5.5.m5.1.2.cmml"><mi id="Thmassumption2.p1.5.5.m5.1.2.2" xref="Thmassumption2.p1.5.5.m5.1.2.2.cmml">i</mi><mo id="Thmassumption2.p1.5.5.m5.1.2.1" xref="Thmassumption2.p1.5.5.m5.1.2.1.cmml">∈</mo><mrow id="Thmassumption2.p1.5.5.m5.1.2.3.2" xref="Thmassumption2.p1.5.5.m5.1.2.3.1.cmml"><mo id="Thmassumption2.p1.5.5.m5.1.2.3.2.1" stretchy="false" xref="Thmassumption2.p1.5.5.m5.1.2.3.1.1.cmml">[</mo><mn id="Thmassumption2.p1.5.5.m5.1.1" xref="Thmassumption2.p1.5.5.m5.1.1.cmml">3</mn><mo id="Thmassumption2.p1.5.5.m5.1.2.3.2.2" stretchy="false" xref="Thmassumption2.p1.5.5.m5.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmassumption2.p1.5.5.m5.1b"><apply id="Thmassumption2.p1.5.5.m5.1.2.cmml" xref="Thmassumption2.p1.5.5.m5.1.2"><in id="Thmassumption2.p1.5.5.m5.1.2.1.cmml" xref="Thmassumption2.p1.5.5.m5.1.2.1"></in><ci id="Thmassumption2.p1.5.5.m5.1.2.2.cmml" xref="Thmassumption2.p1.5.5.m5.1.2.2">𝑖</ci><apply id="Thmassumption2.p1.5.5.m5.1.2.3.1.cmml" xref="Thmassumption2.p1.5.5.m5.1.2.3.2"><csymbol cd="latexml" id="Thmassumption2.p1.5.5.m5.1.2.3.1.1.cmml" xref="Thmassumption2.p1.5.5.m5.1.2.3.2.1">delimited-[]</csymbol><cn id="Thmassumption2.p1.5.5.m5.1.1.cmml" type="integer" xref="Thmassumption2.p1.5.5.m5.1.1">3</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmassumption2.p1.5.5.m5.1c">i\in[3]</annotation><annotation encoding="application/x-llamapun" id="Thmassumption2.p1.5.5.m5.1d">italic_i ∈ [ 3 ]</annotation></semantics></math>, the ratio between user’s interests of these two items is bounded in a constant interval, which is less than the ratio of selecting probability between them, that is</span></p>
<table class="ltx_equation ltx_eqn_table" id="S5.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\frac{1}{a}\leqslant\frac{r(u,v_{i+1})}{r(u,v_{i})}\leqslant a\leqslant\frac{p%
^{i+1:4}(u,v_{i+1})}{p^{i+1:4}(u,v_{i})}" class="ltx_Math" display="block" id="S5.E8.m1.8"><semantics id="S5.E8.m1.8a"><mrow id="S5.E8.m1.8.9" xref="S5.E8.m1.8.9.cmml"><mfrac id="S5.E8.m1.8.9.2" xref="S5.E8.m1.8.9.2.cmml"><mn id="S5.E8.m1.8.9.2.2" xref="S5.E8.m1.8.9.2.2.cmml">1</mn><mi id="S5.E8.m1.8.9.2.3" xref="S5.E8.m1.8.9.2.3.cmml">a</mi></mfrac><mo id="S5.E8.m1.8.9.3" xref="S5.E8.m1.8.9.3.cmml">⩽</mo><mfrac id="S5.E8.m1.4.4" xref="S5.E8.m1.4.4.cmml"><mrow id="S5.E8.m1.2.2.2" xref="S5.E8.m1.2.2.2.cmml"><mi id="S5.E8.m1.2.2.2.4" xref="S5.E8.m1.2.2.2.4.cmml">r</mi><mo id="S5.E8.m1.2.2.2.3" xref="S5.E8.m1.2.2.2.3.cmml">⁢</mo><mrow id="S5.E8.m1.2.2.2.2.1" xref="S5.E8.m1.2.2.2.2.2.cmml"><mo id="S5.E8.m1.2.2.2.2.1.2" stretchy="false" xref="S5.E8.m1.2.2.2.2.2.cmml">(</mo><mi id="S5.E8.m1.1.1.1.1" xref="S5.E8.m1.1.1.1.1.cmml">u</mi><mo id="S5.E8.m1.2.2.2.2.1.3" xref="S5.E8.m1.2.2.2.2.2.cmml">,</mo><msub id="S5.E8.m1.2.2.2.2.1.1" xref="S5.E8.m1.2.2.2.2.1.1.cmml"><mi id="S5.E8.m1.2.2.2.2.1.1.2" xref="S5.E8.m1.2.2.2.2.1.1.2.cmml">v</mi><mrow id="S5.E8.m1.2.2.2.2.1.1.3" xref="S5.E8.m1.2.2.2.2.1.1.3.cmml"><mi id="S5.E8.m1.2.2.2.2.1.1.3.2" xref="S5.E8.m1.2.2.2.2.1.1.3.2.cmml">i</mi><mo id="S5.E8.m1.2.2.2.2.1.1.3.1" xref="S5.E8.m1.2.2.2.2.1.1.3.1.cmml">+</mo><mn id="S5.E8.m1.2.2.2.2.1.1.3.3" xref="S5.E8.m1.2.2.2.2.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S5.E8.m1.2.2.2.2.1.4" stretchy="false" xref="S5.E8.m1.2.2.2.2.2.cmml">)</mo></mrow></mrow><mrow id="S5.E8.m1.4.4.4" xref="S5.E8.m1.4.4.4.cmml"><mi id="S5.E8.m1.4.4.4.4" xref="S5.E8.m1.4.4.4.4.cmml">r</mi><mo id="S5.E8.m1.4.4.4.3" xref="S5.E8.m1.4.4.4.3.cmml">⁢</mo><mrow id="S5.E8.m1.4.4.4.2.1" xref="S5.E8.m1.4.4.4.2.2.cmml"><mo id="S5.E8.m1.4.4.4.2.1.2" stretchy="false" xref="S5.E8.m1.4.4.4.2.2.cmml">(</mo><mi id="S5.E8.m1.3.3.3.1" xref="S5.E8.m1.3.3.3.1.cmml">u</mi><mo id="S5.E8.m1.4.4.4.2.1.3" xref="S5.E8.m1.4.4.4.2.2.cmml">,</mo><msub id="S5.E8.m1.4.4.4.2.1.1" xref="S5.E8.m1.4.4.4.2.1.1.cmml"><mi id="S5.E8.m1.4.4.4.2.1.1.2" xref="S5.E8.m1.4.4.4.2.1.1.2.cmml">v</mi><mi id="S5.E8.m1.4.4.4.2.1.1.3" xref="S5.E8.m1.4.4.4.2.1.1.3.cmml">i</mi></msub><mo id="S5.E8.m1.4.4.4.2.1.4" stretchy="false" xref="S5.E8.m1.4.4.4.2.2.cmml">)</mo></mrow></mrow></mfrac><mo id="S5.E8.m1.8.9.4" xref="S5.E8.m1.8.9.4.cmml">⩽</mo><mi id="S5.E8.m1.8.9.5" xref="S5.E8.m1.8.9.5.cmml">a</mi><mo id="S5.E8.m1.8.9.6" xref="S5.E8.m1.8.9.6.cmml">⩽</mo><mfrac id="S5.E8.m1.8.8" xref="S5.E8.m1.8.8.cmml"><mrow id="S5.E8.m1.6.6.2" xref="S5.E8.m1.6.6.2.cmml"><msup id="S5.E8.m1.6.6.2.4" xref="S5.E8.m1.6.6.2.4.cmml"><mi id="S5.E8.m1.6.6.2.4.2" xref="S5.E8.m1.6.6.2.4.2.cmml">p</mi><mrow id="S5.E8.m1.6.6.2.4.3" xref="S5.E8.m1.6.6.2.4.3.cmml"><mrow id="S5.E8.m1.6.6.2.4.3.2" xref="S5.E8.m1.6.6.2.4.3.2.cmml"><mi id="S5.E8.m1.6.6.2.4.3.2.2" xref="S5.E8.m1.6.6.2.4.3.2.2.cmml">i</mi><mo id="S5.E8.m1.6.6.2.4.3.2.1" xref="S5.E8.m1.6.6.2.4.3.2.1.cmml">+</mo><mn id="S5.E8.m1.6.6.2.4.3.2.3" xref="S5.E8.m1.6.6.2.4.3.2.3.cmml">1</mn></mrow><mo id="S5.E8.m1.6.6.2.4.3.1" lspace="0.278em" rspace="0.278em" xref="S5.E8.m1.6.6.2.4.3.1.cmml">:</mo><mn id="S5.E8.m1.6.6.2.4.3.3" xref="S5.E8.m1.6.6.2.4.3.3.cmml">4</mn></mrow></msup><mo id="S5.E8.m1.6.6.2.3" xref="S5.E8.m1.6.6.2.3.cmml">⁢</mo><mrow id="S5.E8.m1.6.6.2.2.1" xref="S5.E8.m1.6.6.2.2.2.cmml"><mo id="S5.E8.m1.6.6.2.2.1.2" stretchy="false" xref="S5.E8.m1.6.6.2.2.2.cmml">(</mo><mi id="S5.E8.m1.5.5.1.1" xref="S5.E8.m1.5.5.1.1.cmml">u</mi><mo id="S5.E8.m1.6.6.2.2.1.3" xref="S5.E8.m1.6.6.2.2.2.cmml">,</mo><msub id="S5.E8.m1.6.6.2.2.1.1" xref="S5.E8.m1.6.6.2.2.1.1.cmml"><mi id="S5.E8.m1.6.6.2.2.1.1.2" xref="S5.E8.m1.6.6.2.2.1.1.2.cmml">v</mi><mrow id="S5.E8.m1.6.6.2.2.1.1.3" xref="S5.E8.m1.6.6.2.2.1.1.3.cmml"><mi id="S5.E8.m1.6.6.2.2.1.1.3.2" xref="S5.E8.m1.6.6.2.2.1.1.3.2.cmml">i</mi><mo id="S5.E8.m1.6.6.2.2.1.1.3.1" xref="S5.E8.m1.6.6.2.2.1.1.3.1.cmml">+</mo><mn id="S5.E8.m1.6.6.2.2.1.1.3.3" xref="S5.E8.m1.6.6.2.2.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S5.E8.m1.6.6.2.2.1.4" stretchy="false" xref="S5.E8.m1.6.6.2.2.2.cmml">)</mo></mrow></mrow><mrow id="S5.E8.m1.8.8.4" xref="S5.E8.m1.8.8.4.cmml"><msup id="S5.E8.m1.8.8.4.4" xref="S5.E8.m1.8.8.4.4.cmml"><mi id="S5.E8.m1.8.8.4.4.2" xref="S5.E8.m1.8.8.4.4.2.cmml">p</mi><mrow id="S5.E8.m1.8.8.4.4.3" xref="S5.E8.m1.8.8.4.4.3.cmml"><mrow id="S5.E8.m1.8.8.4.4.3.2" xref="S5.E8.m1.8.8.4.4.3.2.cmml"><mi id="S5.E8.m1.8.8.4.4.3.2.2" xref="S5.E8.m1.8.8.4.4.3.2.2.cmml">i</mi><mo id="S5.E8.m1.8.8.4.4.3.2.1" xref="S5.E8.m1.8.8.4.4.3.2.1.cmml">+</mo><mn id="S5.E8.m1.8.8.4.4.3.2.3" xref="S5.E8.m1.8.8.4.4.3.2.3.cmml">1</mn></mrow><mo id="S5.E8.m1.8.8.4.4.3.1" lspace="0.278em" rspace="0.278em" xref="S5.E8.m1.8.8.4.4.3.1.cmml">:</mo><mn id="S5.E8.m1.8.8.4.4.3.3" xref="S5.E8.m1.8.8.4.4.3.3.cmml">4</mn></mrow></msup><mo id="S5.E8.m1.8.8.4.3" xref="S5.E8.m1.8.8.4.3.cmml">⁢</mo><mrow id="S5.E8.m1.8.8.4.2.1" xref="S5.E8.m1.8.8.4.2.2.cmml"><mo id="S5.E8.m1.8.8.4.2.1.2" stretchy="false" xref="S5.E8.m1.8.8.4.2.2.cmml">(</mo><mi id="S5.E8.m1.7.7.3.1" xref="S5.E8.m1.7.7.3.1.cmml">u</mi><mo id="S5.E8.m1.8.8.4.2.1.3" xref="S5.E8.m1.8.8.4.2.2.cmml">,</mo><msub id="S5.E8.m1.8.8.4.2.1.1" xref="S5.E8.m1.8.8.4.2.1.1.cmml"><mi id="S5.E8.m1.8.8.4.2.1.1.2" xref="S5.E8.m1.8.8.4.2.1.1.2.cmml">v</mi><mi id="S5.E8.m1.8.8.4.2.1.1.3" xref="S5.E8.m1.8.8.4.2.1.1.3.cmml">i</mi></msub><mo id="S5.E8.m1.8.8.4.2.1.4" stretchy="false" xref="S5.E8.m1.8.8.4.2.2.cmml">)</mo></mrow></mrow></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S5.E8.m1.8b"><apply id="S5.E8.m1.8.9.cmml" xref="S5.E8.m1.8.9"><and id="S5.E8.m1.8.9a.cmml" xref="S5.E8.m1.8.9"></and><apply id="S5.E8.m1.8.9b.cmml" xref="S5.E8.m1.8.9"><leq id="S5.E8.m1.8.9.3.cmml" xref="S5.E8.m1.8.9.3"></leq><apply id="S5.E8.m1.8.9.2.cmml" xref="S5.E8.m1.8.9.2"><divide id="S5.E8.m1.8.9.2.1.cmml" xref="S5.E8.m1.8.9.2"></divide><cn id="S5.E8.m1.8.9.2.2.cmml" type="integer" xref="S5.E8.m1.8.9.2.2">1</cn><ci id="S5.E8.m1.8.9.2.3.cmml" xref="S5.E8.m1.8.9.2.3">𝑎</ci></apply><apply id="S5.E8.m1.4.4.cmml" xref="S5.E8.m1.4.4"><divide id="S5.E8.m1.4.4.5.cmml" xref="S5.E8.m1.4.4"></divide><apply id="S5.E8.m1.2.2.2.cmml" xref="S5.E8.m1.2.2.2"><times id="S5.E8.m1.2.2.2.3.cmml" xref="S5.E8.m1.2.2.2.3"></times><ci id="S5.E8.m1.2.2.2.4.cmml" xref="S5.E8.m1.2.2.2.4">𝑟</ci><interval closure="open" id="S5.E8.m1.2.2.2.2.2.cmml" xref="S5.E8.m1.2.2.2.2.1"><ci id="S5.E8.m1.1.1.1.1.cmml" xref="S5.E8.m1.1.1.1.1">𝑢</ci><apply id="S5.E8.m1.2.2.2.2.1.1.cmml" xref="S5.E8.m1.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S5.E8.m1.2.2.2.2.1.1.1.cmml" xref="S5.E8.m1.2.2.2.2.1.1">subscript</csymbol><ci id="S5.E8.m1.2.2.2.2.1.1.2.cmml" xref="S5.E8.m1.2.2.2.2.1.1.2">𝑣</ci><apply id="S5.E8.m1.2.2.2.2.1.1.3.cmml" xref="S5.E8.m1.2.2.2.2.1.1.3"><plus id="S5.E8.m1.2.2.2.2.1.1.3.1.cmml" xref="S5.E8.m1.2.2.2.2.1.1.3.1"></plus><ci id="S5.E8.m1.2.2.2.2.1.1.3.2.cmml" xref="S5.E8.m1.2.2.2.2.1.1.3.2">𝑖</ci><cn id="S5.E8.m1.2.2.2.2.1.1.3.3.cmml" type="integer" xref="S5.E8.m1.2.2.2.2.1.1.3.3">1</cn></apply></apply></interval></apply><apply id="S5.E8.m1.4.4.4.cmml" xref="S5.E8.m1.4.4.4"><times id="S5.E8.m1.4.4.4.3.cmml" xref="S5.E8.m1.4.4.4.3"></times><ci id="S5.E8.m1.4.4.4.4.cmml" xref="S5.E8.m1.4.4.4.4">𝑟</ci><interval closure="open" id="S5.E8.m1.4.4.4.2.2.cmml" xref="S5.E8.m1.4.4.4.2.1"><ci id="S5.E8.m1.3.3.3.1.cmml" xref="S5.E8.m1.3.3.3.1">𝑢</ci><apply id="S5.E8.m1.4.4.4.2.1.1.cmml" xref="S5.E8.m1.4.4.4.2.1.1"><csymbol cd="ambiguous" id="S5.E8.m1.4.4.4.2.1.1.1.cmml" xref="S5.E8.m1.4.4.4.2.1.1">subscript</csymbol><ci id="S5.E8.m1.4.4.4.2.1.1.2.cmml" xref="S5.E8.m1.4.4.4.2.1.1.2">𝑣</ci><ci id="S5.E8.m1.4.4.4.2.1.1.3.cmml" xref="S5.E8.m1.4.4.4.2.1.1.3">𝑖</ci></apply></interval></apply></apply></apply><apply id="S5.E8.m1.8.9c.cmml" xref="S5.E8.m1.8.9"><leq id="S5.E8.m1.8.9.4.cmml" xref="S5.E8.m1.8.9.4"></leq><share href="https://arxiv.org/html/2405.04844v1#S5.E8.m1.4.4.cmml" id="S5.E8.m1.8.9d.cmml" xref="S5.E8.m1.8.9"></share><ci id="S5.E8.m1.8.9.5.cmml" xref="S5.E8.m1.8.9.5">𝑎</ci></apply><apply id="S5.E8.m1.8.9e.cmml" xref="S5.E8.m1.8.9"><leq id="S5.E8.m1.8.9.6.cmml" xref="S5.E8.m1.8.9.6"></leq><share href="https://arxiv.org/html/2405.04844v1#S5.E8.m1.8.9.5.cmml" id="S5.E8.m1.8.9f.cmml" xref="S5.E8.m1.8.9"></share><apply id="S5.E8.m1.8.8.cmml" xref="S5.E8.m1.8.8"><divide id="S5.E8.m1.8.8.5.cmml" xref="S5.E8.m1.8.8"></divide><apply id="S5.E8.m1.6.6.2.cmml" xref="S5.E8.m1.6.6.2"><times id="S5.E8.m1.6.6.2.3.cmml" xref="S5.E8.m1.6.6.2.3"></times><apply id="S5.E8.m1.6.6.2.4.cmml" xref="S5.E8.m1.6.6.2.4"><csymbol cd="ambiguous" id="S5.E8.m1.6.6.2.4.1.cmml" xref="S5.E8.m1.6.6.2.4">superscript</csymbol><ci id="S5.E8.m1.6.6.2.4.2.cmml" xref="S5.E8.m1.6.6.2.4.2">𝑝</ci><apply id="S5.E8.m1.6.6.2.4.3.cmml" xref="S5.E8.m1.6.6.2.4.3"><ci id="S5.E8.m1.6.6.2.4.3.1.cmml" xref="S5.E8.m1.6.6.2.4.3.1">:</ci><apply id="S5.E8.m1.6.6.2.4.3.2.cmml" xref="S5.E8.m1.6.6.2.4.3.2"><plus id="S5.E8.m1.6.6.2.4.3.2.1.cmml" xref="S5.E8.m1.6.6.2.4.3.2.1"></plus><ci id="S5.E8.m1.6.6.2.4.3.2.2.cmml" xref="S5.E8.m1.6.6.2.4.3.2.2">𝑖</ci><cn id="S5.E8.m1.6.6.2.4.3.2.3.cmml" type="integer" xref="S5.E8.m1.6.6.2.4.3.2.3">1</cn></apply><cn id="S5.E8.m1.6.6.2.4.3.3.cmml" type="integer" xref="S5.E8.m1.6.6.2.4.3.3">4</cn></apply></apply><interval closure="open" id="S5.E8.m1.6.6.2.2.2.cmml" xref="S5.E8.m1.6.6.2.2.1"><ci id="S5.E8.m1.5.5.1.1.cmml" xref="S5.E8.m1.5.5.1.1">𝑢</ci><apply id="S5.E8.m1.6.6.2.2.1.1.cmml" xref="S5.E8.m1.6.6.2.2.1.1"><csymbol cd="ambiguous" id="S5.E8.m1.6.6.2.2.1.1.1.cmml" xref="S5.E8.m1.6.6.2.2.1.1">subscript</csymbol><ci id="S5.E8.m1.6.6.2.2.1.1.2.cmml" xref="S5.E8.m1.6.6.2.2.1.1.2">𝑣</ci><apply id="S5.E8.m1.6.6.2.2.1.1.3.cmml" xref="S5.E8.m1.6.6.2.2.1.1.3"><plus id="S5.E8.m1.6.6.2.2.1.1.3.1.cmml" xref="S5.E8.m1.6.6.2.2.1.1.3.1"></plus><ci id="S5.E8.m1.6.6.2.2.1.1.3.2.cmml" xref="S5.E8.m1.6.6.2.2.1.1.3.2">𝑖</ci><cn id="S5.E8.m1.6.6.2.2.1.1.3.3.cmml" type="integer" xref="S5.E8.m1.6.6.2.2.1.1.3.3">1</cn></apply></apply></interval></apply><apply id="S5.E8.m1.8.8.4.cmml" xref="S5.E8.m1.8.8.4"><times id="S5.E8.m1.8.8.4.3.cmml" xref="S5.E8.m1.8.8.4.3"></times><apply id="S5.E8.m1.8.8.4.4.cmml" xref="S5.E8.m1.8.8.4.4"><csymbol cd="ambiguous" id="S5.E8.m1.8.8.4.4.1.cmml" xref="S5.E8.m1.8.8.4.4">superscript</csymbol><ci id="S5.E8.m1.8.8.4.4.2.cmml" xref="S5.E8.m1.8.8.4.4.2">𝑝</ci><apply id="S5.E8.m1.8.8.4.4.3.cmml" xref="S5.E8.m1.8.8.4.4.3"><ci id="S5.E8.m1.8.8.4.4.3.1.cmml" xref="S5.E8.m1.8.8.4.4.3.1">:</ci><apply id="S5.E8.m1.8.8.4.4.3.2.cmml" xref="S5.E8.m1.8.8.4.4.3.2"><plus id="S5.E8.m1.8.8.4.4.3.2.1.cmml" xref="S5.E8.m1.8.8.4.4.3.2.1"></plus><ci id="S5.E8.m1.8.8.4.4.3.2.2.cmml" xref="S5.E8.m1.8.8.4.4.3.2.2">𝑖</ci><cn id="S5.E8.m1.8.8.4.4.3.2.3.cmml" type="integer" xref="S5.E8.m1.8.8.4.4.3.2.3">1</cn></apply><cn id="S5.E8.m1.8.8.4.4.3.3.cmml" type="integer" xref="S5.E8.m1.8.8.4.4.3.3">4</cn></apply></apply><interval closure="open" id="S5.E8.m1.8.8.4.2.2.cmml" xref="S5.E8.m1.8.8.4.2.1"><ci id="S5.E8.m1.7.7.3.1.cmml" xref="S5.E8.m1.7.7.3.1">𝑢</ci><apply id="S5.E8.m1.8.8.4.2.1.1.cmml" xref="S5.E8.m1.8.8.4.2.1.1"><csymbol cd="ambiguous" id="S5.E8.m1.8.8.4.2.1.1.1.cmml" xref="S5.E8.m1.8.8.4.2.1.1">subscript</csymbol><ci id="S5.E8.m1.8.8.4.2.1.1.2.cmml" xref="S5.E8.m1.8.8.4.2.1.1.2">𝑣</ci><ci id="S5.E8.m1.8.8.4.2.1.1.3.cmml" xref="S5.E8.m1.8.8.4.2.1.1.3">𝑖</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E8.m1.8c">\frac{1}{a}\leqslant\frac{r(u,v_{i+1})}{r(u,v_{i})}\leqslant a\leqslant\frac{p%
^{i+1:4}(u,v_{i+1})}{p^{i+1:4}(u,v_{i})}</annotation><annotation encoding="application/x-llamapun" id="S5.E8.m1.8d">divide start_ARG 1 end_ARG start_ARG italic_a end_ARG ⩽ divide start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG ⩽ italic_a ⩽ divide start_ARG italic_p start_POSTSUPERSCRIPT italic_i + 1 : 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_p start_POSTSUPERSCRIPT italic_i + 1 : 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="Thmassumption2.p1.6"><span class="ltx_text ltx_font_italic" id="Thmassumption2.p1.6.1">where <math alttext="a\geqslant 1" class="ltx_Math" display="inline" id="Thmassumption2.p1.6.1.m1.1"><semantics id="Thmassumption2.p1.6.1.m1.1a"><mrow id="Thmassumption2.p1.6.1.m1.1.1" xref="Thmassumption2.p1.6.1.m1.1.1.cmml"><mi id="Thmassumption2.p1.6.1.m1.1.1.2" xref="Thmassumption2.p1.6.1.m1.1.1.2.cmml">a</mi><mo id="Thmassumption2.p1.6.1.m1.1.1.1" xref="Thmassumption2.p1.6.1.m1.1.1.1.cmml">⩾</mo><mn id="Thmassumption2.p1.6.1.m1.1.1.3" xref="Thmassumption2.p1.6.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="Thmassumption2.p1.6.1.m1.1b"><apply id="Thmassumption2.p1.6.1.m1.1.1.cmml" xref="Thmassumption2.p1.6.1.m1.1.1"><geq id="Thmassumption2.p1.6.1.m1.1.1.1.cmml" xref="Thmassumption2.p1.6.1.m1.1.1.1"></geq><ci id="Thmassumption2.p1.6.1.m1.1.1.2.cmml" xref="Thmassumption2.p1.6.1.m1.1.1.2">𝑎</ci><cn id="Thmassumption2.p1.6.1.m1.1.1.3.cmml" type="integer" xref="Thmassumption2.p1.6.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmassumption2.p1.6.1.m1.1c">a\geqslant 1</annotation><annotation encoding="application/x-llamapun" id="Thmassumption2.p1.6.1.m1.1d">italic_a ⩾ 1</annotation></semantics></math> is a constant.</span></p>
</div>
</div>
<div class="ltx_para" id="S5.p4">
<p class="ltx_p" id="S5.p4.1">The intuition behind Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption2" title="Assumption 2. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a> is that each stage of the system can be seen as a cluster of items depending on the degree of user’s interest in some sense. Apparently, for an information retrieval system with good performance, user’s interest for items in higher stages may be stronger than interest for items in lower stages with high probability. What’s more, the interest of users with respect to two items in subsequent stages are close to each other. Note this condition does not require the selection bias of the system is exactly the same with user’s underlying interest, and allows the learning error of system to some degree, which is much weaker than the monotone assumption of multi-stage systems used in Observation <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmobser2" title="Observation 2. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a> and in line with practical situation. See more discussion about this assumption in the next section, where we show it is relatively reasonable in practical multi-stage systems.</p>
</div>
<div class="ltx_para" id="S5.p5">
<p class="ltx_p" id="S5.p5.11">For <math alttext="t" class="ltx_Math" display="inline" id="S5.p5.1.m1.1"><semantics id="S5.p5.1.m1.1a"><mi id="S5.p5.1.m1.1.1" xref="S5.p5.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S5.p5.1.m1.1b"><ci id="S5.p5.1.m1.1.1.cmml" xref="S5.p5.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.1.m1.1c">t</annotation><annotation encoding="application/x-llamapun" id="S5.p5.1.m1.1d">italic_t</annotation></semantics></math>-th request of the system, we collect a series of data at all stages <math alttext="\{(u^{t},v^{t}_{k},S^{t}_{k},\bar{Y}^{t}_{k})|k\in[M]\}" class="ltx_Math" display="inline" id="S5.p5.2.m2.3"><semantics id="S5.p5.2.m2.3a"><mrow id="S5.p5.2.m2.3.3.2" xref="S5.p5.2.m2.3.3.3.cmml"><mo id="S5.p5.2.m2.3.3.2.3" stretchy="false" xref="S5.p5.2.m2.3.3.3.1.cmml">{</mo><mrow id="S5.p5.2.m2.2.2.1.1.4" xref="S5.p5.2.m2.2.2.1.1.5.cmml"><mo id="S5.p5.2.m2.2.2.1.1.4.5" stretchy="false" xref="S5.p5.2.m2.2.2.1.1.5.cmml">(</mo><msup id="S5.p5.2.m2.2.2.1.1.1.1" xref="S5.p5.2.m2.2.2.1.1.1.1.cmml"><mi id="S5.p5.2.m2.2.2.1.1.1.1.2" xref="S5.p5.2.m2.2.2.1.1.1.1.2.cmml">u</mi><mi id="S5.p5.2.m2.2.2.1.1.1.1.3" xref="S5.p5.2.m2.2.2.1.1.1.1.3.cmml">t</mi></msup><mo id="S5.p5.2.m2.2.2.1.1.4.6" xref="S5.p5.2.m2.2.2.1.1.5.cmml">,</mo><msubsup id="S5.p5.2.m2.2.2.1.1.2.2" xref="S5.p5.2.m2.2.2.1.1.2.2.cmml"><mi id="S5.p5.2.m2.2.2.1.1.2.2.2.2" xref="S5.p5.2.m2.2.2.1.1.2.2.2.2.cmml">v</mi><mi id="S5.p5.2.m2.2.2.1.1.2.2.3" xref="S5.p5.2.m2.2.2.1.1.2.2.3.cmml">k</mi><mi id="S5.p5.2.m2.2.2.1.1.2.2.2.3" xref="S5.p5.2.m2.2.2.1.1.2.2.2.3.cmml">t</mi></msubsup><mo id="S5.p5.2.m2.2.2.1.1.4.7" xref="S5.p5.2.m2.2.2.1.1.5.cmml">,</mo><msubsup id="S5.p5.2.m2.2.2.1.1.3.3" xref="S5.p5.2.m2.2.2.1.1.3.3.cmml"><mi id="S5.p5.2.m2.2.2.1.1.3.3.2.2" xref="S5.p5.2.m2.2.2.1.1.3.3.2.2.cmml">S</mi><mi id="S5.p5.2.m2.2.2.1.1.3.3.3" xref="S5.p5.2.m2.2.2.1.1.3.3.3.cmml">k</mi><mi id="S5.p5.2.m2.2.2.1.1.3.3.2.3" xref="S5.p5.2.m2.2.2.1.1.3.3.2.3.cmml">t</mi></msubsup><mo id="S5.p5.2.m2.2.2.1.1.4.8" xref="S5.p5.2.m2.2.2.1.1.5.cmml">,</mo><msubsup id="S5.p5.2.m2.2.2.1.1.4.4" xref="S5.p5.2.m2.2.2.1.1.4.4.cmml"><mover accent="true" id="S5.p5.2.m2.2.2.1.1.4.4.2.2" xref="S5.p5.2.m2.2.2.1.1.4.4.2.2.cmml"><mi id="S5.p5.2.m2.2.2.1.1.4.4.2.2.2" xref="S5.p5.2.m2.2.2.1.1.4.4.2.2.2.cmml">Y</mi><mo id="S5.p5.2.m2.2.2.1.1.4.4.2.2.1" xref="S5.p5.2.m2.2.2.1.1.4.4.2.2.1.cmml">¯</mo></mover><mi id="S5.p5.2.m2.2.2.1.1.4.4.3" xref="S5.p5.2.m2.2.2.1.1.4.4.3.cmml">k</mi><mi id="S5.p5.2.m2.2.2.1.1.4.4.2.3" xref="S5.p5.2.m2.2.2.1.1.4.4.2.3.cmml">t</mi></msubsup><mo id="S5.p5.2.m2.2.2.1.1.4.9" stretchy="false" xref="S5.p5.2.m2.2.2.1.1.5.cmml">)</mo></mrow><mo id="S5.p5.2.m2.3.3.2.4" lspace="0em" rspace="0em" xref="S5.p5.2.m2.3.3.3.1.cmml">|</mo><mrow id="S5.p5.2.m2.3.3.2.2" xref="S5.p5.2.m2.3.3.2.2.cmml"><mi id="S5.p5.2.m2.3.3.2.2.2" xref="S5.p5.2.m2.3.3.2.2.2.cmml">k</mi><mo id="S5.p5.2.m2.3.3.2.2.1" xref="S5.p5.2.m2.3.3.2.2.1.cmml">∈</mo><mrow id="S5.p5.2.m2.3.3.2.2.3.2" xref="S5.p5.2.m2.3.3.2.2.3.1.cmml"><mo id="S5.p5.2.m2.3.3.2.2.3.2.1" stretchy="false" xref="S5.p5.2.m2.3.3.2.2.3.1.1.cmml">[</mo><mi id="S5.p5.2.m2.1.1" xref="S5.p5.2.m2.1.1.cmml">M</mi><mo id="S5.p5.2.m2.3.3.2.2.3.2.2" stretchy="false" xref="S5.p5.2.m2.3.3.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S5.p5.2.m2.3.3.2.5" stretchy="false" xref="S5.p5.2.m2.3.3.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.2.m2.3b"><apply id="S5.p5.2.m2.3.3.3.cmml" xref="S5.p5.2.m2.3.3.2"><csymbol cd="latexml" id="S5.p5.2.m2.3.3.3.1.cmml" xref="S5.p5.2.m2.3.3.2.3">conditional-set</csymbol><vector id="S5.p5.2.m2.2.2.1.1.5.cmml" xref="S5.p5.2.m2.2.2.1.1.4"><apply id="S5.p5.2.m2.2.2.1.1.1.1.cmml" xref="S5.p5.2.m2.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S5.p5.2.m2.2.2.1.1.1.1.1.cmml" xref="S5.p5.2.m2.2.2.1.1.1.1">superscript</csymbol><ci id="S5.p5.2.m2.2.2.1.1.1.1.2.cmml" xref="S5.p5.2.m2.2.2.1.1.1.1.2">𝑢</ci><ci id="S5.p5.2.m2.2.2.1.1.1.1.3.cmml" xref="S5.p5.2.m2.2.2.1.1.1.1.3">𝑡</ci></apply><apply id="S5.p5.2.m2.2.2.1.1.2.2.cmml" xref="S5.p5.2.m2.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S5.p5.2.m2.2.2.1.1.2.2.1.cmml" xref="S5.p5.2.m2.2.2.1.1.2.2">subscript</csymbol><apply id="S5.p5.2.m2.2.2.1.1.2.2.2.cmml" xref="S5.p5.2.m2.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S5.p5.2.m2.2.2.1.1.2.2.2.1.cmml" xref="S5.p5.2.m2.2.2.1.1.2.2">superscript</csymbol><ci id="S5.p5.2.m2.2.2.1.1.2.2.2.2.cmml" xref="S5.p5.2.m2.2.2.1.1.2.2.2.2">𝑣</ci><ci id="S5.p5.2.m2.2.2.1.1.2.2.2.3.cmml" xref="S5.p5.2.m2.2.2.1.1.2.2.2.3">𝑡</ci></apply><ci id="S5.p5.2.m2.2.2.1.1.2.2.3.cmml" xref="S5.p5.2.m2.2.2.1.1.2.2.3">𝑘</ci></apply><apply id="S5.p5.2.m2.2.2.1.1.3.3.cmml" xref="S5.p5.2.m2.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S5.p5.2.m2.2.2.1.1.3.3.1.cmml" xref="S5.p5.2.m2.2.2.1.1.3.3">subscript</csymbol><apply id="S5.p5.2.m2.2.2.1.1.3.3.2.cmml" xref="S5.p5.2.m2.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S5.p5.2.m2.2.2.1.1.3.3.2.1.cmml" xref="S5.p5.2.m2.2.2.1.1.3.3">superscript</csymbol><ci id="S5.p5.2.m2.2.2.1.1.3.3.2.2.cmml" xref="S5.p5.2.m2.2.2.1.1.3.3.2.2">𝑆</ci><ci id="S5.p5.2.m2.2.2.1.1.3.3.2.3.cmml" xref="S5.p5.2.m2.2.2.1.1.3.3.2.3">𝑡</ci></apply><ci id="S5.p5.2.m2.2.2.1.1.3.3.3.cmml" xref="S5.p5.2.m2.2.2.1.1.3.3.3">𝑘</ci></apply><apply id="S5.p5.2.m2.2.2.1.1.4.4.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4"><csymbol cd="ambiguous" id="S5.p5.2.m2.2.2.1.1.4.4.1.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4">subscript</csymbol><apply id="S5.p5.2.m2.2.2.1.1.4.4.2.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4"><csymbol cd="ambiguous" id="S5.p5.2.m2.2.2.1.1.4.4.2.1.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4">superscript</csymbol><apply id="S5.p5.2.m2.2.2.1.1.4.4.2.2.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4.2.2"><ci id="S5.p5.2.m2.2.2.1.1.4.4.2.2.1.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4.2.2.1">¯</ci><ci id="S5.p5.2.m2.2.2.1.1.4.4.2.2.2.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4.2.2.2">𝑌</ci></apply><ci id="S5.p5.2.m2.2.2.1.1.4.4.2.3.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4.2.3">𝑡</ci></apply><ci id="S5.p5.2.m2.2.2.1.1.4.4.3.cmml" xref="S5.p5.2.m2.2.2.1.1.4.4.3">𝑘</ci></apply></vector><apply id="S5.p5.2.m2.3.3.2.2.cmml" xref="S5.p5.2.m2.3.3.2.2"><in id="S5.p5.2.m2.3.3.2.2.1.cmml" xref="S5.p5.2.m2.3.3.2.2.1"></in><ci id="S5.p5.2.m2.3.3.2.2.2.cmml" xref="S5.p5.2.m2.3.3.2.2.2">𝑘</ci><apply id="S5.p5.2.m2.3.3.2.2.3.1.cmml" xref="S5.p5.2.m2.3.3.2.2.3.2"><csymbol cd="latexml" id="S5.p5.2.m2.3.3.2.2.3.1.1.cmml" xref="S5.p5.2.m2.3.3.2.2.3.2.1">delimited-[]</csymbol><ci id="S5.p5.2.m2.1.1.cmml" xref="S5.p5.2.m2.1.1">𝑀</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.2.m2.3c">\{(u^{t},v^{t}_{k},S^{t}_{k},\bar{Y}^{t}_{k})|k\in[M]\}</annotation><annotation encoding="application/x-llamapun" id="S5.p5.2.m2.3d">{ ( italic_u start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , italic_v start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_S start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , over¯ start_ARG italic_Y end_ARG start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) | italic_k ∈ [ italic_M ] }</annotation></semantics></math>, where <math alttext="M" class="ltx_Math" display="inline" id="S5.p5.3.m3.1"><semantics id="S5.p5.3.m3.1a"><mi id="S5.p5.3.m3.1.1" xref="S5.p5.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S5.p5.3.m3.1b"><ci id="S5.p5.3.m3.1.1.cmml" xref="S5.p5.3.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.3.m3.1c">M</annotation><annotation encoding="application/x-llamapun" id="S5.p5.3.m3.1d">italic_M</annotation></semantics></math> is the number of collected data in each request and <math alttext="S_{k}^{t}\in[4]" class="ltx_Math" display="inline" id="S5.p5.4.m4.1"><semantics id="S5.p5.4.m4.1a"><mrow id="S5.p5.4.m4.1.2" xref="S5.p5.4.m4.1.2.cmml"><msubsup id="S5.p5.4.m4.1.2.2" xref="S5.p5.4.m4.1.2.2.cmml"><mi id="S5.p5.4.m4.1.2.2.2.2" xref="S5.p5.4.m4.1.2.2.2.2.cmml">S</mi><mi id="S5.p5.4.m4.1.2.2.2.3" xref="S5.p5.4.m4.1.2.2.2.3.cmml">k</mi><mi id="S5.p5.4.m4.1.2.2.3" xref="S5.p5.4.m4.1.2.2.3.cmml">t</mi></msubsup><mo id="S5.p5.4.m4.1.2.1" xref="S5.p5.4.m4.1.2.1.cmml">∈</mo><mrow id="S5.p5.4.m4.1.2.3.2" xref="S5.p5.4.m4.1.2.3.1.cmml"><mo id="S5.p5.4.m4.1.2.3.2.1" stretchy="false" xref="S5.p5.4.m4.1.2.3.1.1.cmml">[</mo><mn id="S5.p5.4.m4.1.1" xref="S5.p5.4.m4.1.1.cmml">4</mn><mo id="S5.p5.4.m4.1.2.3.2.2" stretchy="false" xref="S5.p5.4.m4.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.4.m4.1b"><apply id="S5.p5.4.m4.1.2.cmml" xref="S5.p5.4.m4.1.2"><in id="S5.p5.4.m4.1.2.1.cmml" xref="S5.p5.4.m4.1.2.1"></in><apply id="S5.p5.4.m4.1.2.2.cmml" xref="S5.p5.4.m4.1.2.2"><csymbol cd="ambiguous" id="S5.p5.4.m4.1.2.2.1.cmml" xref="S5.p5.4.m4.1.2.2">superscript</csymbol><apply id="S5.p5.4.m4.1.2.2.2.cmml" xref="S5.p5.4.m4.1.2.2"><csymbol cd="ambiguous" id="S5.p5.4.m4.1.2.2.2.1.cmml" xref="S5.p5.4.m4.1.2.2">subscript</csymbol><ci id="S5.p5.4.m4.1.2.2.2.2.cmml" xref="S5.p5.4.m4.1.2.2.2.2">𝑆</ci><ci id="S5.p5.4.m4.1.2.2.2.3.cmml" xref="S5.p5.4.m4.1.2.2.2.3">𝑘</ci></apply><ci id="S5.p5.4.m4.1.2.2.3.cmml" xref="S5.p5.4.m4.1.2.2.3">𝑡</ci></apply><apply id="S5.p5.4.m4.1.2.3.1.cmml" xref="S5.p5.4.m4.1.2.3.2"><csymbol cd="latexml" id="S5.p5.4.m4.1.2.3.1.1.cmml" xref="S5.p5.4.m4.1.2.3.2.1">delimited-[]</csymbol><cn id="S5.p5.4.m4.1.1.cmml" type="integer" xref="S5.p5.4.m4.1.1">4</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.4.m4.1c">S_{k}^{t}\in[4]</annotation><annotation encoding="application/x-llamapun" id="S5.p5.4.m4.1d">italic_S start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ∈ [ 4 ]</annotation></semantics></math> is an observed random variable representing the stage of item <math alttext="v_{k}^{t}" class="ltx_Math" display="inline" id="S5.p5.5.m5.1"><semantics id="S5.p5.5.m5.1a"><msubsup id="S5.p5.5.m5.1.1" xref="S5.p5.5.m5.1.1.cmml"><mi id="S5.p5.5.m5.1.1.2.2" xref="S5.p5.5.m5.1.1.2.2.cmml">v</mi><mi id="S5.p5.5.m5.1.1.2.3" xref="S5.p5.5.m5.1.1.2.3.cmml">k</mi><mi id="S5.p5.5.m5.1.1.3" xref="S5.p5.5.m5.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S5.p5.5.m5.1b"><apply id="S5.p5.5.m5.1.1.cmml" xref="S5.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S5.p5.5.m5.1.1.1.cmml" xref="S5.p5.5.m5.1.1">superscript</csymbol><apply id="S5.p5.5.m5.1.1.2.cmml" xref="S5.p5.5.m5.1.1"><csymbol cd="ambiguous" id="S5.p5.5.m5.1.1.2.1.cmml" xref="S5.p5.5.m5.1.1">subscript</csymbol><ci id="S5.p5.5.m5.1.1.2.2.cmml" xref="S5.p5.5.m5.1.1.2.2">𝑣</ci><ci id="S5.p5.5.m5.1.1.2.3.cmml" xref="S5.p5.5.m5.1.1.2.3">𝑘</ci></apply><ci id="S5.p5.5.m5.1.1.3.cmml" xref="S5.p5.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.5.m5.1c">v_{k}^{t}</annotation><annotation encoding="application/x-llamapun" id="S5.p5.5.m5.1d">italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math>. <math alttext="\bar{Y}_{k}\in\{0,1,NA\}" class="ltx_Math" display="inline" id="S5.p5.6.m6.3"><semantics id="S5.p5.6.m6.3a"><mrow id="S5.p5.6.m6.3.3" xref="S5.p5.6.m6.3.3.cmml"><msub id="S5.p5.6.m6.3.3.3" xref="S5.p5.6.m6.3.3.3.cmml"><mover accent="true" id="S5.p5.6.m6.3.3.3.2" xref="S5.p5.6.m6.3.3.3.2.cmml"><mi id="S5.p5.6.m6.3.3.3.2.2" xref="S5.p5.6.m6.3.3.3.2.2.cmml">Y</mi><mo id="S5.p5.6.m6.3.3.3.2.1" xref="S5.p5.6.m6.3.3.3.2.1.cmml">¯</mo></mover><mi id="S5.p5.6.m6.3.3.3.3" xref="S5.p5.6.m6.3.3.3.3.cmml">k</mi></msub><mo id="S5.p5.6.m6.3.3.2" xref="S5.p5.6.m6.3.3.2.cmml">∈</mo><mrow id="S5.p5.6.m6.3.3.1.1" xref="S5.p5.6.m6.3.3.1.2.cmml"><mo id="S5.p5.6.m6.3.3.1.1.2" stretchy="false" xref="S5.p5.6.m6.3.3.1.2.cmml">{</mo><mn id="S5.p5.6.m6.1.1" xref="S5.p5.6.m6.1.1.cmml">0</mn><mo id="S5.p5.6.m6.3.3.1.1.3" xref="S5.p5.6.m6.3.3.1.2.cmml">,</mo><mn id="S5.p5.6.m6.2.2" xref="S5.p5.6.m6.2.2.cmml">1</mn><mo id="S5.p5.6.m6.3.3.1.1.4" xref="S5.p5.6.m6.3.3.1.2.cmml">,</mo><mrow id="S5.p5.6.m6.3.3.1.1.1" xref="S5.p5.6.m6.3.3.1.1.1.cmml"><mi id="S5.p5.6.m6.3.3.1.1.1.2" xref="S5.p5.6.m6.3.3.1.1.1.2.cmml">N</mi><mo id="S5.p5.6.m6.3.3.1.1.1.1" xref="S5.p5.6.m6.3.3.1.1.1.1.cmml">⁢</mo><mi id="S5.p5.6.m6.3.3.1.1.1.3" xref="S5.p5.6.m6.3.3.1.1.1.3.cmml">A</mi></mrow><mo id="S5.p5.6.m6.3.3.1.1.5" stretchy="false" xref="S5.p5.6.m6.3.3.1.2.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.6.m6.3b"><apply id="S5.p5.6.m6.3.3.cmml" xref="S5.p5.6.m6.3.3"><in id="S5.p5.6.m6.3.3.2.cmml" xref="S5.p5.6.m6.3.3.2"></in><apply id="S5.p5.6.m6.3.3.3.cmml" xref="S5.p5.6.m6.3.3.3"><csymbol cd="ambiguous" id="S5.p5.6.m6.3.3.3.1.cmml" xref="S5.p5.6.m6.3.3.3">subscript</csymbol><apply id="S5.p5.6.m6.3.3.3.2.cmml" xref="S5.p5.6.m6.3.3.3.2"><ci id="S5.p5.6.m6.3.3.3.2.1.cmml" xref="S5.p5.6.m6.3.3.3.2.1">¯</ci><ci id="S5.p5.6.m6.3.3.3.2.2.cmml" xref="S5.p5.6.m6.3.3.3.2.2">𝑌</ci></apply><ci id="S5.p5.6.m6.3.3.3.3.cmml" xref="S5.p5.6.m6.3.3.3.3">𝑘</ci></apply><set id="S5.p5.6.m6.3.3.1.2.cmml" xref="S5.p5.6.m6.3.3.1.1"><cn id="S5.p5.6.m6.1.1.cmml" type="integer" xref="S5.p5.6.m6.1.1">0</cn><cn id="S5.p5.6.m6.2.2.cmml" type="integer" xref="S5.p5.6.m6.2.2">1</cn><apply id="S5.p5.6.m6.3.3.1.1.1.cmml" xref="S5.p5.6.m6.3.3.1.1.1"><times id="S5.p5.6.m6.3.3.1.1.1.1.cmml" xref="S5.p5.6.m6.3.3.1.1.1.1"></times><ci id="S5.p5.6.m6.3.3.1.1.1.2.cmml" xref="S5.p5.6.m6.3.3.1.1.1.2">𝑁</ci><ci id="S5.p5.6.m6.3.3.1.1.1.3.cmml" xref="S5.p5.6.m6.3.3.1.1.1.3">𝐴</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.6.m6.3c">\bar{Y}_{k}\in\{0,1,NA\}</annotation><annotation encoding="application/x-llamapun" id="S5.p5.6.m6.3d">over¯ start_ARG italic_Y end_ARG start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∈ { 0 , 1 , italic_N italic_A }</annotation></semantics></math> here represents the feedback of <math alttext="(u,v_{k})" class="ltx_Math" display="inline" id="S5.p5.7.m7.2"><semantics id="S5.p5.7.m7.2a"><mrow id="S5.p5.7.m7.2.2.1" xref="S5.p5.7.m7.2.2.2.cmml"><mo id="S5.p5.7.m7.2.2.1.2" stretchy="false" xref="S5.p5.7.m7.2.2.2.cmml">(</mo><mi id="S5.p5.7.m7.1.1" xref="S5.p5.7.m7.1.1.cmml">u</mi><mo id="S5.p5.7.m7.2.2.1.3" xref="S5.p5.7.m7.2.2.2.cmml">,</mo><msub id="S5.p5.7.m7.2.2.1.1" xref="S5.p5.7.m7.2.2.1.1.cmml"><mi id="S5.p5.7.m7.2.2.1.1.2" xref="S5.p5.7.m7.2.2.1.1.2.cmml">v</mi><mi id="S5.p5.7.m7.2.2.1.1.3" xref="S5.p5.7.m7.2.2.1.1.3.cmml">k</mi></msub><mo id="S5.p5.7.m7.2.2.1.4" stretchy="false" xref="S5.p5.7.m7.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.7.m7.2b"><interval closure="open" id="S5.p5.7.m7.2.2.2.cmml" xref="S5.p5.7.m7.2.2.1"><ci id="S5.p5.7.m7.1.1.cmml" xref="S5.p5.7.m7.1.1">𝑢</ci><apply id="S5.p5.7.m7.2.2.1.1.cmml" xref="S5.p5.7.m7.2.2.1.1"><csymbol cd="ambiguous" id="S5.p5.7.m7.2.2.1.1.1.cmml" xref="S5.p5.7.m7.2.2.1.1">subscript</csymbol><ci id="S5.p5.7.m7.2.2.1.1.2.cmml" xref="S5.p5.7.m7.2.2.1.1.2">𝑣</ci><ci id="S5.p5.7.m7.2.2.1.1.3.cmml" xref="S5.p5.7.m7.2.2.1.1.3">𝑘</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.7.m7.2c">(u,v_{k})</annotation><annotation encoding="application/x-llamapun" id="S5.p5.7.m7.2d">( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> pair, where <math alttext="\bar{Y}_{k}=Y_{k}" class="ltx_Math" display="inline" id="S5.p5.8.m8.1"><semantics id="S5.p5.8.m8.1a"><mrow id="S5.p5.8.m8.1.1" xref="S5.p5.8.m8.1.1.cmml"><msub id="S5.p5.8.m8.1.1.2" xref="S5.p5.8.m8.1.1.2.cmml"><mover accent="true" id="S5.p5.8.m8.1.1.2.2" xref="S5.p5.8.m8.1.1.2.2.cmml"><mi id="S5.p5.8.m8.1.1.2.2.2" xref="S5.p5.8.m8.1.1.2.2.2.cmml">Y</mi><mo id="S5.p5.8.m8.1.1.2.2.1" xref="S5.p5.8.m8.1.1.2.2.1.cmml">¯</mo></mover><mi id="S5.p5.8.m8.1.1.2.3" xref="S5.p5.8.m8.1.1.2.3.cmml">k</mi></msub><mo id="S5.p5.8.m8.1.1.1" xref="S5.p5.8.m8.1.1.1.cmml">=</mo><msub id="S5.p5.8.m8.1.1.3" xref="S5.p5.8.m8.1.1.3.cmml"><mi id="S5.p5.8.m8.1.1.3.2" xref="S5.p5.8.m8.1.1.3.2.cmml">Y</mi><mi id="S5.p5.8.m8.1.1.3.3" xref="S5.p5.8.m8.1.1.3.3.cmml">k</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.8.m8.1b"><apply id="S5.p5.8.m8.1.1.cmml" xref="S5.p5.8.m8.1.1"><eq id="S5.p5.8.m8.1.1.1.cmml" xref="S5.p5.8.m8.1.1.1"></eq><apply id="S5.p5.8.m8.1.1.2.cmml" xref="S5.p5.8.m8.1.1.2"><csymbol cd="ambiguous" id="S5.p5.8.m8.1.1.2.1.cmml" xref="S5.p5.8.m8.1.1.2">subscript</csymbol><apply id="S5.p5.8.m8.1.1.2.2.cmml" xref="S5.p5.8.m8.1.1.2.2"><ci id="S5.p5.8.m8.1.1.2.2.1.cmml" xref="S5.p5.8.m8.1.1.2.2.1">¯</ci><ci id="S5.p5.8.m8.1.1.2.2.2.cmml" xref="S5.p5.8.m8.1.1.2.2.2">𝑌</ci></apply><ci id="S5.p5.8.m8.1.1.2.3.cmml" xref="S5.p5.8.m8.1.1.2.3">𝑘</ci></apply><apply id="S5.p5.8.m8.1.1.3.cmml" xref="S5.p5.8.m8.1.1.3"><csymbol cd="ambiguous" id="S5.p5.8.m8.1.1.3.1.cmml" xref="S5.p5.8.m8.1.1.3">subscript</csymbol><ci id="S5.p5.8.m8.1.1.3.2.cmml" xref="S5.p5.8.m8.1.1.3.2">𝑌</ci><ci id="S5.p5.8.m8.1.1.3.3.cmml" xref="S5.p5.8.m8.1.1.3.3">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.8.m8.1c">\bar{Y}_{k}=Y_{k}</annotation><annotation encoding="application/x-llamapun" id="S5.p5.8.m8.1d">over¯ start_ARG italic_Y end_ARG start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT = italic_Y start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> when <math alttext="S_{k}=4" class="ltx_Math" display="inline" id="S5.p5.9.m9.1"><semantics id="S5.p5.9.m9.1a"><mrow id="S5.p5.9.m9.1.1" xref="S5.p5.9.m9.1.1.cmml"><msub id="S5.p5.9.m9.1.1.2" xref="S5.p5.9.m9.1.1.2.cmml"><mi id="S5.p5.9.m9.1.1.2.2" xref="S5.p5.9.m9.1.1.2.2.cmml">S</mi><mi id="S5.p5.9.m9.1.1.2.3" xref="S5.p5.9.m9.1.1.2.3.cmml">k</mi></msub><mo id="S5.p5.9.m9.1.1.1" xref="S5.p5.9.m9.1.1.1.cmml">=</mo><mn id="S5.p5.9.m9.1.1.3" xref="S5.p5.9.m9.1.1.3.cmml">4</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.9.m9.1b"><apply id="S5.p5.9.m9.1.1.cmml" xref="S5.p5.9.m9.1.1"><eq id="S5.p5.9.m9.1.1.1.cmml" xref="S5.p5.9.m9.1.1.1"></eq><apply id="S5.p5.9.m9.1.1.2.cmml" xref="S5.p5.9.m9.1.1.2"><csymbol cd="ambiguous" id="S5.p5.9.m9.1.1.2.1.cmml" xref="S5.p5.9.m9.1.1.2">subscript</csymbol><ci id="S5.p5.9.m9.1.1.2.2.cmml" xref="S5.p5.9.m9.1.1.2.2">𝑆</ci><ci id="S5.p5.9.m9.1.1.2.3.cmml" xref="S5.p5.9.m9.1.1.2.3">𝑘</ci></apply><cn id="S5.p5.9.m9.1.1.3.cmml" type="integer" xref="S5.p5.9.m9.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.9.m9.1c">S_{k}=4</annotation><annotation encoding="application/x-llamapun" id="S5.p5.9.m9.1d">italic_S start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT = 4</annotation></semantics></math>, otherwise <math alttext="\bar{Y}_{k}=NA" class="ltx_Math" display="inline" id="S5.p5.10.m10.1"><semantics id="S5.p5.10.m10.1a"><mrow id="S5.p5.10.m10.1.1" xref="S5.p5.10.m10.1.1.cmml"><msub id="S5.p5.10.m10.1.1.2" xref="S5.p5.10.m10.1.1.2.cmml"><mover accent="true" id="S5.p5.10.m10.1.1.2.2" xref="S5.p5.10.m10.1.1.2.2.cmml"><mi id="S5.p5.10.m10.1.1.2.2.2" xref="S5.p5.10.m10.1.1.2.2.2.cmml">Y</mi><mo id="S5.p5.10.m10.1.1.2.2.1" xref="S5.p5.10.m10.1.1.2.2.1.cmml">¯</mo></mover><mi id="S5.p5.10.m10.1.1.2.3" xref="S5.p5.10.m10.1.1.2.3.cmml">k</mi></msub><mo id="S5.p5.10.m10.1.1.1" xref="S5.p5.10.m10.1.1.1.cmml">=</mo><mrow id="S5.p5.10.m10.1.1.3" xref="S5.p5.10.m10.1.1.3.cmml"><mi id="S5.p5.10.m10.1.1.3.2" xref="S5.p5.10.m10.1.1.3.2.cmml">N</mi><mo id="S5.p5.10.m10.1.1.3.1" xref="S5.p5.10.m10.1.1.3.1.cmml">⁢</mo><mi id="S5.p5.10.m10.1.1.3.3" xref="S5.p5.10.m10.1.1.3.3.cmml">A</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.10.m10.1b"><apply id="S5.p5.10.m10.1.1.cmml" xref="S5.p5.10.m10.1.1"><eq id="S5.p5.10.m10.1.1.1.cmml" xref="S5.p5.10.m10.1.1.1"></eq><apply id="S5.p5.10.m10.1.1.2.cmml" xref="S5.p5.10.m10.1.1.2"><csymbol cd="ambiguous" id="S5.p5.10.m10.1.1.2.1.cmml" xref="S5.p5.10.m10.1.1.2">subscript</csymbol><apply id="S5.p5.10.m10.1.1.2.2.cmml" xref="S5.p5.10.m10.1.1.2.2"><ci id="S5.p5.10.m10.1.1.2.2.1.cmml" xref="S5.p5.10.m10.1.1.2.2.1">¯</ci><ci id="S5.p5.10.m10.1.1.2.2.2.cmml" xref="S5.p5.10.m10.1.1.2.2.2">𝑌</ci></apply><ci id="S5.p5.10.m10.1.1.2.3.cmml" xref="S5.p5.10.m10.1.1.2.3">𝑘</ci></apply><apply id="S5.p5.10.m10.1.1.3.cmml" xref="S5.p5.10.m10.1.1.3"><times id="S5.p5.10.m10.1.1.3.1.cmml" xref="S5.p5.10.m10.1.1.3.1"></times><ci id="S5.p5.10.m10.1.1.3.2.cmml" xref="S5.p5.10.m10.1.1.3.2">𝑁</ci><ci id="S5.p5.10.m10.1.1.3.3.cmml" xref="S5.p5.10.m10.1.1.3.3">𝐴</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.10.m10.1c">\bar{Y}_{k}=NA</annotation><annotation encoding="application/x-llamapun" id="S5.p5.10.m10.1d">over¯ start_ARG italic_Y end_ARG start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT = italic_N italic_A</annotation></semantics></math>, since we can only observe the true feedback <math alttext="Y_{k}(u,v_{k})" class="ltx_Math" display="inline" id="S5.p5.11.m11.2"><semantics id="S5.p5.11.m11.2a"><mrow id="S5.p5.11.m11.2.2" xref="S5.p5.11.m11.2.2.cmml"><msub id="S5.p5.11.m11.2.2.3" xref="S5.p5.11.m11.2.2.3.cmml"><mi id="S5.p5.11.m11.2.2.3.2" xref="S5.p5.11.m11.2.2.3.2.cmml">Y</mi><mi id="S5.p5.11.m11.2.2.3.3" xref="S5.p5.11.m11.2.2.3.3.cmml">k</mi></msub><mo id="S5.p5.11.m11.2.2.2" xref="S5.p5.11.m11.2.2.2.cmml">⁢</mo><mrow id="S5.p5.11.m11.2.2.1.1" xref="S5.p5.11.m11.2.2.1.2.cmml"><mo id="S5.p5.11.m11.2.2.1.1.2" stretchy="false" xref="S5.p5.11.m11.2.2.1.2.cmml">(</mo><mi id="S5.p5.11.m11.1.1" xref="S5.p5.11.m11.1.1.cmml">u</mi><mo id="S5.p5.11.m11.2.2.1.1.3" xref="S5.p5.11.m11.2.2.1.2.cmml">,</mo><msub id="S5.p5.11.m11.2.2.1.1.1" xref="S5.p5.11.m11.2.2.1.1.1.cmml"><mi id="S5.p5.11.m11.2.2.1.1.1.2" xref="S5.p5.11.m11.2.2.1.1.1.2.cmml">v</mi><mi id="S5.p5.11.m11.2.2.1.1.1.3" xref="S5.p5.11.m11.2.2.1.1.1.3.cmml">k</mi></msub><mo id="S5.p5.11.m11.2.2.1.1.4" stretchy="false" xref="S5.p5.11.m11.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p5.11.m11.2b"><apply id="S5.p5.11.m11.2.2.cmml" xref="S5.p5.11.m11.2.2"><times id="S5.p5.11.m11.2.2.2.cmml" xref="S5.p5.11.m11.2.2.2"></times><apply id="S5.p5.11.m11.2.2.3.cmml" xref="S5.p5.11.m11.2.2.3"><csymbol cd="ambiguous" id="S5.p5.11.m11.2.2.3.1.cmml" xref="S5.p5.11.m11.2.2.3">subscript</csymbol><ci id="S5.p5.11.m11.2.2.3.2.cmml" xref="S5.p5.11.m11.2.2.3.2">𝑌</ci><ci id="S5.p5.11.m11.2.2.3.3.cmml" xref="S5.p5.11.m11.2.2.3.3">𝑘</ci></apply><interval closure="open" id="S5.p5.11.m11.2.2.1.2.cmml" xref="S5.p5.11.m11.2.2.1.1"><ci id="S5.p5.11.m11.1.1.cmml" xref="S5.p5.11.m11.1.1">𝑢</ci><apply id="S5.p5.11.m11.2.2.1.1.1.cmml" xref="S5.p5.11.m11.2.2.1.1.1"><csymbol cd="ambiguous" id="S5.p5.11.m11.2.2.1.1.1.1.cmml" xref="S5.p5.11.m11.2.2.1.1.1">subscript</csymbol><ci id="S5.p5.11.m11.2.2.1.1.1.2.cmml" xref="S5.p5.11.m11.2.2.1.1.1.2">𝑣</ci><ci id="S5.p5.11.m11.2.2.1.1.1.3.cmml" xref="S5.p5.11.m11.2.2.1.1.1.3">𝑘</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p5.11.m11.2c">Y_{k}(u,v_{k})</annotation><annotation encoding="application/x-llamapun" id="S5.p5.11.m11.2d">italic_Y start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> when the item is exposed to the user.</p>
</div>
<div class="ltx_para" id="S5.p6">
<p class="ltx_p" id="S5.p6.1">With these data collected from full stages of different requests, the main technique of our method is to relabel each user-item pair <math alttext="(u,v,S,\bar{Y})" class="ltx_Math" display="inline" id="S5.p6.1.m1.4"><semantics id="S5.p6.1.m1.4a"><mrow id="S5.p6.1.m1.4.5.2" xref="S5.p6.1.m1.4.5.1.cmml"><mo id="S5.p6.1.m1.4.5.2.1" stretchy="false" xref="S5.p6.1.m1.4.5.1.cmml">(</mo><mi id="S5.p6.1.m1.1.1" xref="S5.p6.1.m1.1.1.cmml">u</mi><mo id="S5.p6.1.m1.4.5.2.2" xref="S5.p6.1.m1.4.5.1.cmml">,</mo><mi id="S5.p6.1.m1.2.2" xref="S5.p6.1.m1.2.2.cmml">v</mi><mo id="S5.p6.1.m1.4.5.2.3" xref="S5.p6.1.m1.4.5.1.cmml">,</mo><mi id="S5.p6.1.m1.3.3" xref="S5.p6.1.m1.3.3.cmml">S</mi><mo id="S5.p6.1.m1.4.5.2.4" xref="S5.p6.1.m1.4.5.1.cmml">,</mo><mover accent="true" id="S5.p6.1.m1.4.4" xref="S5.p6.1.m1.4.4.cmml"><mi id="S5.p6.1.m1.4.4.2" xref="S5.p6.1.m1.4.4.2.cmml">Y</mi><mo id="S5.p6.1.m1.4.4.1" xref="S5.p6.1.m1.4.4.1.cmml">¯</mo></mover><mo id="S5.p6.1.m1.4.5.2.5" stretchy="false" xref="S5.p6.1.m1.4.5.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p6.1.m1.4b"><vector id="S5.p6.1.m1.4.5.1.cmml" xref="S5.p6.1.m1.4.5.2"><ci id="S5.p6.1.m1.1.1.cmml" xref="S5.p6.1.m1.1.1">𝑢</ci><ci id="S5.p6.1.m1.2.2.cmml" xref="S5.p6.1.m1.2.2">𝑣</ci><ci id="S5.p6.1.m1.3.3.cmml" xref="S5.p6.1.m1.3.3">𝑆</ci><apply id="S5.p6.1.m1.4.4.cmml" xref="S5.p6.1.m1.4.4"><ci id="S5.p6.1.m1.4.4.1.cmml" xref="S5.p6.1.m1.4.4.1">¯</ci><ci id="S5.p6.1.m1.4.4.2.cmml" xref="S5.p6.1.m1.4.4.2">𝑌</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S5.p6.1.m1.4c">(u,v,S,\bar{Y})</annotation><annotation encoding="application/x-llamapun" id="S5.p6.1.m1.4d">( italic_u , italic_v , italic_S , over¯ start_ARG italic_Y end_ARG )</annotation></semantics></math> in collected data set by the following rule:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A1.EGx1">
<tbody id="S5.E13"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle L(u,v)=\left\{\begin{array}[]{ll}{z_{0}}&amp;{\text{if }S(u,v)=0}\\
{z_{i}}&amp;{\text{if }S(u,v)=i,\text{for }i&lt;4}\\
{z_{4}}&amp;{\text{if }S(u,v)=4,\text{and }Y(u,v)=0}\\
{z_{5}}&amp;{\text{if }S(u,v)=4,\text{and }Y(u,v)=1}\end{array}\right." class="ltx_Math" display="inline" id="S5.E13.m1.3"><semantics id="S5.E13.m1.3a"><mrow id="S5.E13.m1.3.4" xref="S5.E13.m1.3.4.cmml"><mrow id="S5.E13.m1.3.4.2" xref="S5.E13.m1.3.4.2.cmml"><mi id="S5.E13.m1.3.4.2.2" xref="S5.E13.m1.3.4.2.2.cmml">L</mi><mo id="S5.E13.m1.3.4.2.1" xref="S5.E13.m1.3.4.2.1.cmml">⁢</mo><mrow id="S5.E13.m1.3.4.2.3.2" xref="S5.E13.m1.3.4.2.3.1.cmml"><mo id="S5.E13.m1.3.4.2.3.2.1" stretchy="false" xref="S5.E13.m1.3.4.2.3.1.cmml">(</mo><mi id="S5.E13.m1.1.1" xref="S5.E13.m1.1.1.cmml">u</mi><mo id="S5.E13.m1.3.4.2.3.2.2" xref="S5.E13.m1.3.4.2.3.1.cmml">,</mo><mi id="S5.E13.m1.2.2" xref="S5.E13.m1.2.2.cmml">v</mi><mo id="S5.E13.m1.3.4.2.3.2.3" stretchy="false" xref="S5.E13.m1.3.4.2.3.1.cmml">)</mo></mrow></mrow><mo id="S5.E13.m1.3.4.1" xref="S5.E13.m1.3.4.1.cmml">=</mo><mrow id="S5.E13.m1.3.4.3.2" xref="S5.E13.m1.3.4.3.1.cmml"><mo id="S5.E13.m1.3.4.3.2.1" xref="S5.E13.m1.3.4.3.1.1.cmml">{</mo><mtable columnspacing="5pt" id="S5.E13.m1.3.3" rowspacing="0pt" xref="S5.E13.m1.3.3.cmml"><mtr id="S5.E13.m1.3.3a" xref="S5.E13.m1.3.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="S5.E13.m1.3.3b" xref="S5.E13.m1.3.3.cmml"><msub id="S5.E9.3.1" xref="S5.E9.3.1.cmml"><mi id="S5.E9.3.1.2" xref="S5.E9.3.1.2.cmml">z</mi><mn id="S5.E9.3.1.3" xref="S5.E9.3.1.3.cmml">0</mn></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S5.E13.m1.3.3c" xref="S5.E13.m1.3.3.cmml"><mrow id="S5.E9.2.2" xref="S5.E9.2.2.cmml"><mrow id="S5.E9.2.2.4" xref="S5.E9.2.2.4.cmml"><mtext id="S5.E9.2.2.4.2" xref="S5.E9.2.2.4.2a.cmml">if </mtext><mo id="S5.E9.2.2.4.1" xref="S5.E9.2.2.4.1.cmml">⁢</mo><mi id="S5.E9.2.2.4.3" xref="S5.E9.2.2.4.3.cmml">S</mi><mo id="S5.E9.2.2.4.1a" xref="S5.E9.2.2.4.1.cmml">⁢</mo><mrow id="S5.E9.2.2.4.4.2" xref="S5.E9.2.2.4.4.1.cmml"><mo id="S5.E9.2.2.4.4.2.1" stretchy="false" xref="S5.E9.2.2.4.4.1.cmml">(</mo><mi id="S5.E9.1.1.1" xref="S5.E9.1.1.1.cmml">u</mi><mo id="S5.E9.2.2.4.4.2.2" xref="S5.E9.2.2.4.4.1.cmml">,</mo><mi id="S5.E9.2.2.2" xref="S5.E9.2.2.2.cmml">v</mi><mo id="S5.E9.2.2.4.4.2.3" stretchy="false" xref="S5.E9.2.2.4.4.1.cmml">)</mo></mrow></mrow><mo id="S5.E9.2.2.3" xref="S5.E9.2.2.3.cmml">=</mo><mn id="S5.E9.2.2.5" xref="S5.E9.2.2.5.cmml">0</mn></mrow></mtd></mtr><mtr id="S5.E13.m1.3.3d" xref="S5.E13.m1.3.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="S5.E13.m1.3.3e" xref="S5.E13.m1.3.3.cmml"><msub id="S5.E10.5.1" xref="S5.E10.5.1.cmml"><mi id="S5.E10.5.1.2" xref="S5.E10.5.1.2.cmml">z</mi><mi id="S5.E10.5.1.3" xref="S5.E10.5.1.3.cmml">i</mi></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S5.E13.m1.3.3f" xref="S5.E13.m1.3.3.cmml"><mrow id="S5.E10.4.4.4" xref="S5.E10.4.4.5.cmml"><mrow id="S5.E10.3.3.3.1" xref="S5.E10.3.3.3.1.cmml"><mrow id="S5.E10.3.3.3.1.2" xref="S5.E10.3.3.3.1.2.cmml"><mtext id="S5.E10.3.3.3.1.2.2" xref="S5.E10.3.3.3.1.2.2a.cmml">if </mtext><mo id="S5.E10.3.3.3.1.2.1" xref="S5.E10.3.3.3.1.2.1.cmml">⁢</mo><mi id="S5.E10.3.3.3.1.2.3" xref="S5.E10.3.3.3.1.2.3.cmml">S</mi><mo id="S5.E10.3.3.3.1.2.1a" xref="S5.E10.3.3.3.1.2.1.cmml">⁢</mo><mrow id="S5.E10.3.3.3.1.2.4.2" xref="S5.E10.3.3.3.1.2.4.1.cmml"><mo id="S5.E10.3.3.3.1.2.4.2.1" stretchy="false" xref="S5.E10.3.3.3.1.2.4.1.cmml">(</mo><mi id="S5.E10.1.1.1" xref="S5.E10.1.1.1.cmml">u</mi><mo id="S5.E10.3.3.3.1.2.4.2.2" xref="S5.E10.3.3.3.1.2.4.1.cmml">,</mo><mi id="S5.E10.2.2.2" xref="S5.E10.2.2.2.cmml">v</mi><mo id="S5.E10.3.3.3.1.2.4.2.3" stretchy="false" xref="S5.E10.3.3.3.1.2.4.1.cmml">)</mo></mrow></mrow><mo id="S5.E10.3.3.3.1.1" xref="S5.E10.3.3.3.1.1.cmml">=</mo><mi id="S5.E10.3.3.3.1.3" xref="S5.E10.3.3.3.1.3.cmml">i</mi></mrow><mo id="S5.E10.4.4.4.3" xref="S5.E10.4.4.5a.cmml">,</mo><mrow id="S5.E10.4.4.4.2" xref="S5.E10.4.4.4.2.cmml"><mrow id="S5.E10.4.4.4.2.2" xref="S5.E10.4.4.4.2.2.cmml"><mtext id="S5.E10.4.4.4.2.2.2" xref="S5.E10.4.4.4.2.2.2a.cmml">for </mtext><mo id="S5.E10.4.4.4.2.2.1" xref="S5.E10.4.4.4.2.2.1.cmml">⁢</mo><mi id="S5.E10.4.4.4.2.2.3" xref="S5.E10.4.4.4.2.2.3.cmml">i</mi></mrow><mo id="S5.E10.4.4.4.2.1" xref="S5.E10.4.4.4.2.1.cmml">&lt;</mo><mn id="S5.E10.4.4.4.2.3" xref="S5.E10.4.4.4.2.3.cmml">4</mn></mrow></mrow></mtd></mtr><mtr id="S5.E13.m1.3.3g" xref="S5.E13.m1.3.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="S5.E13.m1.3.3h" xref="S5.E13.m1.3.3.cmml"><msub id="S5.E11.7.1" xref="S5.E11.7.1.cmml"><mi id="S5.E11.7.1.2" xref="S5.E11.7.1.2.cmml">z</mi><mn id="S5.E11.7.1.3" xref="S5.E11.7.1.3.cmml">4</mn></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S5.E13.m1.3.3i" xref="S5.E13.m1.3.3.cmml"><mrow id="S5.E11.6.6.6" xref="S5.E11.6.6.7.cmml"><mrow id="S5.E11.5.5.5.1" xref="S5.E11.5.5.5.1.cmml"><mrow id="S5.E11.5.5.5.1.2" xref="S5.E11.5.5.5.1.2.cmml"><mtext id="S5.E11.5.5.5.1.2.2" xref="S5.E11.5.5.5.1.2.2a.cmml">if </mtext><mo id="S5.E11.5.5.5.1.2.1" xref="S5.E11.5.5.5.1.2.1.cmml">⁢</mo><mi id="S5.E11.5.5.5.1.2.3" xref="S5.E11.5.5.5.1.2.3.cmml">S</mi><mo id="S5.E11.5.5.5.1.2.1a" xref="S5.E11.5.5.5.1.2.1.cmml">⁢</mo><mrow id="S5.E11.5.5.5.1.2.4.2" xref="S5.E11.5.5.5.1.2.4.1.cmml"><mo id="S5.E11.5.5.5.1.2.4.2.1" stretchy="false" xref="S5.E11.5.5.5.1.2.4.1.cmml">(</mo><mi id="S5.E11.1.1.1" xref="S5.E11.1.1.1.cmml">u</mi><mo id="S5.E11.5.5.5.1.2.4.2.2" xref="S5.E11.5.5.5.1.2.4.1.cmml">,</mo><mi id="S5.E11.2.2.2" xref="S5.E11.2.2.2.cmml">v</mi><mo id="S5.E11.5.5.5.1.2.4.2.3" stretchy="false" xref="S5.E11.5.5.5.1.2.4.1.cmml">)</mo></mrow></mrow><mo id="S5.E11.5.5.5.1.1" xref="S5.E11.5.5.5.1.1.cmml">=</mo><mn id="S5.E11.5.5.5.1.3" xref="S5.E11.5.5.5.1.3.cmml">4</mn></mrow><mo id="S5.E11.6.6.6.3" xref="S5.E11.6.6.7a.cmml">,</mo><mrow id="S5.E11.6.6.6.2" xref="S5.E11.6.6.6.2.cmml"><mrow id="S5.E11.6.6.6.2.2" xref="S5.E11.6.6.6.2.2.cmml"><mtext id="S5.E11.6.6.6.2.2.2" xref="S5.E11.6.6.6.2.2.2a.cmml">and </mtext><mo id="S5.E11.6.6.6.2.2.1" xref="S5.E11.6.6.6.2.2.1.cmml">⁢</mo><mi id="S5.E11.6.6.6.2.2.3" xref="S5.E11.6.6.6.2.2.3.cmml">Y</mi><mo id="S5.E11.6.6.6.2.2.1a" xref="S5.E11.6.6.6.2.2.1.cmml">⁢</mo><mrow id="S5.E11.6.6.6.2.2.4.2" xref="S5.E11.6.6.6.2.2.4.1.cmml"><mo id="S5.E11.6.6.6.2.2.4.2.1" stretchy="false" xref="S5.E11.6.6.6.2.2.4.1.cmml">(</mo><mi id="S5.E11.3.3.3" xref="S5.E11.3.3.3.cmml">u</mi><mo id="S5.E11.6.6.6.2.2.4.2.2" xref="S5.E11.6.6.6.2.2.4.1.cmml">,</mo><mi id="S5.E11.4.4.4" xref="S5.E11.4.4.4.cmml">v</mi><mo id="S5.E11.6.6.6.2.2.4.2.3" stretchy="false" xref="S5.E11.6.6.6.2.2.4.1.cmml">)</mo></mrow></mrow><mo id="S5.E11.6.6.6.2.1" xref="S5.E11.6.6.6.2.1.cmml">=</mo><mn id="S5.E11.6.6.6.2.3" xref="S5.E11.6.6.6.2.3.cmml">0</mn></mrow></mrow></mtd></mtr><mtr id="S5.E13.m1.3.3j" xref="S5.E13.m1.3.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="S5.E13.m1.3.3k" xref="S5.E13.m1.3.3.cmml"><msub id="S5.E12.7.1" xref="S5.E12.7.1.cmml"><mi id="S5.E12.7.1.2" xref="S5.E12.7.1.2.cmml">z</mi><mn id="S5.E12.7.1.3" xref="S5.E12.7.1.3.cmml">5</mn></msub></mtd><mtd class="ltx_align_left" columnalign="left" id="S5.E13.m1.3.3l" xref="S5.E13.m1.3.3.cmml"><mrow id="S5.E12.6.6.6" xref="S5.E12.6.6.7.cmml"><mrow id="S5.E12.5.5.5.1" xref="S5.E12.5.5.5.1.cmml"><mrow id="S5.E12.5.5.5.1.2" xref="S5.E12.5.5.5.1.2.cmml"><mtext id="S5.E12.5.5.5.1.2.2" xref="S5.E12.5.5.5.1.2.2a.cmml">if </mtext><mo id="S5.E12.5.5.5.1.2.1" xref="S5.E12.5.5.5.1.2.1.cmml">⁢</mo><mi id="S5.E12.5.5.5.1.2.3" xref="S5.E12.5.5.5.1.2.3.cmml">S</mi><mo id="S5.E12.5.5.5.1.2.1a" xref="S5.E12.5.5.5.1.2.1.cmml">⁢</mo><mrow id="S5.E12.5.5.5.1.2.4.2" xref="S5.E12.5.5.5.1.2.4.1.cmml"><mo id="S5.E12.5.5.5.1.2.4.2.1" stretchy="false" xref="S5.E12.5.5.5.1.2.4.1.cmml">(</mo><mi id="S5.E12.1.1.1" xref="S5.E12.1.1.1.cmml">u</mi><mo id="S5.E12.5.5.5.1.2.4.2.2" xref="S5.E12.5.5.5.1.2.4.1.cmml">,</mo><mi id="S5.E12.2.2.2" xref="S5.E12.2.2.2.cmml">v</mi><mo id="S5.E12.5.5.5.1.2.4.2.3" stretchy="false" xref="S5.E12.5.5.5.1.2.4.1.cmml">)</mo></mrow></mrow><mo id="S5.E12.5.5.5.1.1" xref="S5.E12.5.5.5.1.1.cmml">=</mo><mn id="S5.E12.5.5.5.1.3" xref="S5.E12.5.5.5.1.3.cmml">4</mn></mrow><mo id="S5.E12.6.6.6.3" xref="S5.E12.6.6.7a.cmml">,</mo><mrow id="S5.E12.6.6.6.2" xref="S5.E12.6.6.6.2.cmml"><mrow id="S5.E12.6.6.6.2.2" xref="S5.E12.6.6.6.2.2.cmml"><mtext id="S5.E12.6.6.6.2.2.2" xref="S5.E12.6.6.6.2.2.2a.cmml">and </mtext><mo id="S5.E12.6.6.6.2.2.1" xref="S5.E12.6.6.6.2.2.1.cmml">⁢</mo><mi id="S5.E12.6.6.6.2.2.3" xref="S5.E12.6.6.6.2.2.3.cmml">Y</mi><mo id="S5.E12.6.6.6.2.2.1a" xref="S5.E12.6.6.6.2.2.1.cmml">⁢</mo><mrow id="S5.E12.6.6.6.2.2.4.2" xref="S5.E12.6.6.6.2.2.4.1.cmml"><mo id="S5.E12.6.6.6.2.2.4.2.1" stretchy="false" xref="S5.E12.6.6.6.2.2.4.1.cmml">(</mo><mi id="S5.E12.3.3.3" xref="S5.E12.3.3.3.cmml">u</mi><mo id="S5.E12.6.6.6.2.2.4.2.2" xref="S5.E12.6.6.6.2.2.4.1.cmml">,</mo><mi id="S5.E12.4.4.4" xref="S5.E12.4.4.4.cmml">v</mi><mo id="S5.E12.6.6.6.2.2.4.2.3" stretchy="false" xref="S5.E12.6.6.6.2.2.4.1.cmml">)</mo></mrow></mrow><mo id="S5.E12.6.6.6.2.1" xref="S5.E12.6.6.6.2.1.cmml">=</mo><mn id="S5.E12.6.6.6.2.3" xref="S5.E12.6.6.6.2.3.cmml">1</mn></mrow></mrow></mtd></mtr></mtable><mi id="S5.E13.m1.3.4.3.2.2" xref="S5.E13.m1.3.4.3.1.1.cmml"></mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E13.m1.3b"><apply id="S5.E13.m1.3.4.cmml" xref="S5.E13.m1.3.4"><eq id="S5.E13.m1.3.4.1.cmml" xref="S5.E13.m1.3.4.1"></eq><apply id="S5.E13.m1.3.4.2.cmml" xref="S5.E13.m1.3.4.2"><times id="S5.E13.m1.3.4.2.1.cmml" xref="S5.E13.m1.3.4.2.1"></times><ci id="S5.E13.m1.3.4.2.2.cmml" xref="S5.E13.m1.3.4.2.2">𝐿</ci><interval closure="open" id="S5.E13.m1.3.4.2.3.1.cmml" xref="S5.E13.m1.3.4.2.3.2"><ci id="S5.E13.m1.1.1.cmml" xref="S5.E13.m1.1.1">𝑢</ci><ci id="S5.E13.m1.2.2.cmml" xref="S5.E13.m1.2.2">𝑣</ci></interval></apply><apply id="S5.E13.m1.3.4.3.1.cmml" xref="S5.E13.m1.3.4.3.2"><csymbol cd="latexml" id="S5.E13.m1.3.4.3.1.1.cmml" xref="S5.E13.m1.3.4.3.2.1">cases</csymbol><matrix id="S5.E13.m1.3.3.cmml" xref="S5.E13.m1.3.3"><matrixrow id="S5.E13.m1.3.3a.cmml" xref="S5.E13.m1.3.3"><apply id="S5.E9.3.1.cmml" xref="S5.E9.3.1"><csymbol cd="ambiguous" id="S5.E9.3.1.1.cmml" xref="S5.E9.3.1">subscript</csymbol><ci id="S5.E9.3.1.2.cmml" xref="S5.E9.3.1.2">𝑧</ci><cn id="S5.E9.3.1.3.cmml" type="integer" xref="S5.E9.3.1.3">0</cn></apply><apply id="S5.E9.2.2.cmml" xref="S5.E9.2.2"><eq id="S5.E9.2.2.3.cmml" xref="S5.E9.2.2.3"></eq><apply id="S5.E9.2.2.4.cmml" xref="S5.E9.2.2.4"><times id="S5.E9.2.2.4.1.cmml" xref="S5.E9.2.2.4.1"></times><ci id="S5.E9.2.2.4.2a.cmml" xref="S5.E9.2.2.4.2"><mtext id="S5.E9.2.2.4.2.cmml" xref="S5.E9.2.2.4.2">if </mtext></ci><ci id="S5.E9.2.2.4.3.cmml" xref="S5.E9.2.2.4.3">𝑆</ci><interval closure="open" id="S5.E9.2.2.4.4.1.cmml" xref="S5.E9.2.2.4.4.2"><ci id="S5.E9.1.1.1.cmml" xref="S5.E9.1.1.1">𝑢</ci><ci id="S5.E9.2.2.2.cmml" xref="S5.E9.2.2.2">𝑣</ci></interval></apply><cn id="S5.E9.2.2.5.cmml" type="integer" xref="S5.E9.2.2.5">0</cn></apply></matrixrow><matrixrow id="S5.E13.m1.3.3b.cmml" xref="S5.E13.m1.3.3"><apply id="S5.E10.5.1.cmml" xref="S5.E10.5.1"><csymbol cd="ambiguous" id="S5.E10.5.1.1.cmml" xref="S5.E10.5.1">subscript</csymbol><ci id="S5.E10.5.1.2.cmml" xref="S5.E10.5.1.2">𝑧</ci><ci id="S5.E10.5.1.3.cmml" xref="S5.E10.5.1.3">𝑖</ci></apply><apply id="S5.E10.4.4.5.cmml" xref="S5.E10.4.4.4"><csymbol cd="ambiguous" id="S5.E10.4.4.5a.cmml" xref="S5.E10.4.4.4.3">formulae-sequence</csymbol><apply id="S5.E10.3.3.3.1.cmml" xref="S5.E10.3.3.3.1"><eq id="S5.E10.3.3.3.1.1.cmml" xref="S5.E10.3.3.3.1.1"></eq><apply id="S5.E10.3.3.3.1.2.cmml" xref="S5.E10.3.3.3.1.2"><times id="S5.E10.3.3.3.1.2.1.cmml" xref="S5.E10.3.3.3.1.2.1"></times><ci id="S5.E10.3.3.3.1.2.2a.cmml" xref="S5.E10.3.3.3.1.2.2"><mtext id="S5.E10.3.3.3.1.2.2.cmml" xref="S5.E10.3.3.3.1.2.2">if </mtext></ci><ci id="S5.E10.3.3.3.1.2.3.cmml" xref="S5.E10.3.3.3.1.2.3">𝑆</ci><interval closure="open" id="S5.E10.3.3.3.1.2.4.1.cmml" xref="S5.E10.3.3.3.1.2.4.2"><ci id="S5.E10.1.1.1.cmml" xref="S5.E10.1.1.1">𝑢</ci><ci id="S5.E10.2.2.2.cmml" xref="S5.E10.2.2.2">𝑣</ci></interval></apply><ci id="S5.E10.3.3.3.1.3.cmml" xref="S5.E10.3.3.3.1.3">𝑖</ci></apply><apply id="S5.E10.4.4.4.2.cmml" xref="S5.E10.4.4.4.2"><lt id="S5.E10.4.4.4.2.1.cmml" xref="S5.E10.4.4.4.2.1"></lt><apply id="S5.E10.4.4.4.2.2.cmml" xref="S5.E10.4.4.4.2.2"><times id="S5.E10.4.4.4.2.2.1.cmml" xref="S5.E10.4.4.4.2.2.1"></times><ci id="S5.E10.4.4.4.2.2.2a.cmml" xref="S5.E10.4.4.4.2.2.2"><mtext id="S5.E10.4.4.4.2.2.2.cmml" xref="S5.E10.4.4.4.2.2.2">for </mtext></ci><ci id="S5.E10.4.4.4.2.2.3.cmml" xref="S5.E10.4.4.4.2.2.3">𝑖</ci></apply><cn id="S5.E10.4.4.4.2.3.cmml" type="integer" xref="S5.E10.4.4.4.2.3">4</cn></apply></apply></matrixrow><matrixrow id="S5.E13.m1.3.3c.cmml" xref="S5.E13.m1.3.3"><apply id="S5.E11.7.1.cmml" xref="S5.E11.7.1"><csymbol cd="ambiguous" id="S5.E11.7.1.1.cmml" xref="S5.E11.7.1">subscript</csymbol><ci id="S5.E11.7.1.2.cmml" xref="S5.E11.7.1.2">𝑧</ci><cn id="S5.E11.7.1.3.cmml" type="integer" xref="S5.E11.7.1.3">4</cn></apply><apply id="S5.E11.6.6.7.cmml" xref="S5.E11.6.6.6"><csymbol cd="ambiguous" id="S5.E11.6.6.7a.cmml" xref="S5.E11.6.6.6.3">formulae-sequence</csymbol><apply id="S5.E11.5.5.5.1.cmml" xref="S5.E11.5.5.5.1"><eq id="S5.E11.5.5.5.1.1.cmml" xref="S5.E11.5.5.5.1.1"></eq><apply id="S5.E11.5.5.5.1.2.cmml" xref="S5.E11.5.5.5.1.2"><times id="S5.E11.5.5.5.1.2.1.cmml" xref="S5.E11.5.5.5.1.2.1"></times><ci id="S5.E11.5.5.5.1.2.2a.cmml" xref="S5.E11.5.5.5.1.2.2"><mtext id="S5.E11.5.5.5.1.2.2.cmml" xref="S5.E11.5.5.5.1.2.2">if </mtext></ci><ci id="S5.E11.5.5.5.1.2.3.cmml" xref="S5.E11.5.5.5.1.2.3">𝑆</ci><interval closure="open" id="S5.E11.5.5.5.1.2.4.1.cmml" xref="S5.E11.5.5.5.1.2.4.2"><ci id="S5.E11.1.1.1.cmml" xref="S5.E11.1.1.1">𝑢</ci><ci id="S5.E11.2.2.2.cmml" xref="S5.E11.2.2.2">𝑣</ci></interval></apply><cn id="S5.E11.5.5.5.1.3.cmml" type="integer" xref="S5.E11.5.5.5.1.3">4</cn></apply><apply id="S5.E11.6.6.6.2.cmml" xref="S5.E11.6.6.6.2"><eq id="S5.E11.6.6.6.2.1.cmml" xref="S5.E11.6.6.6.2.1"></eq><apply id="S5.E11.6.6.6.2.2.cmml" xref="S5.E11.6.6.6.2.2"><times id="S5.E11.6.6.6.2.2.1.cmml" xref="S5.E11.6.6.6.2.2.1"></times><ci id="S5.E11.6.6.6.2.2.2a.cmml" xref="S5.E11.6.6.6.2.2.2"><mtext id="S5.E11.6.6.6.2.2.2.cmml" xref="S5.E11.6.6.6.2.2.2">and </mtext></ci><ci id="S5.E11.6.6.6.2.2.3.cmml" xref="S5.E11.6.6.6.2.2.3">𝑌</ci><interval closure="open" id="S5.E11.6.6.6.2.2.4.1.cmml" xref="S5.E11.6.6.6.2.2.4.2"><ci id="S5.E11.3.3.3.cmml" xref="S5.E11.3.3.3">𝑢</ci><ci id="S5.E11.4.4.4.cmml" xref="S5.E11.4.4.4">𝑣</ci></interval></apply><cn id="S5.E11.6.6.6.2.3.cmml" type="integer" xref="S5.E11.6.6.6.2.3">0</cn></apply></apply></matrixrow><matrixrow id="S5.E13.m1.3.3d.cmml" xref="S5.E13.m1.3.3"><apply id="S5.E12.7.1.cmml" xref="S5.E12.7.1"><csymbol cd="ambiguous" id="S5.E12.7.1.1.cmml" xref="S5.E12.7.1">subscript</csymbol><ci id="S5.E12.7.1.2.cmml" xref="S5.E12.7.1.2">𝑧</ci><cn id="S5.E12.7.1.3.cmml" type="integer" xref="S5.E12.7.1.3">5</cn></apply><apply id="S5.E12.6.6.7.cmml" xref="S5.E12.6.6.6"><csymbol cd="ambiguous" id="S5.E12.6.6.7a.cmml" xref="S5.E12.6.6.6.3">formulae-sequence</csymbol><apply id="S5.E12.5.5.5.1.cmml" xref="S5.E12.5.5.5.1"><eq id="S5.E12.5.5.5.1.1.cmml" xref="S5.E12.5.5.5.1.1"></eq><apply id="S5.E12.5.5.5.1.2.cmml" xref="S5.E12.5.5.5.1.2"><times id="S5.E12.5.5.5.1.2.1.cmml" xref="S5.E12.5.5.5.1.2.1"></times><ci id="S5.E12.5.5.5.1.2.2a.cmml" xref="S5.E12.5.5.5.1.2.2"><mtext id="S5.E12.5.5.5.1.2.2.cmml" xref="S5.E12.5.5.5.1.2.2">if </mtext></ci><ci id="S5.E12.5.5.5.1.2.3.cmml" xref="S5.E12.5.5.5.1.2.3">𝑆</ci><interval closure="open" id="S5.E12.5.5.5.1.2.4.1.cmml" xref="S5.E12.5.5.5.1.2.4.2"><ci id="S5.E12.1.1.1.cmml" xref="S5.E12.1.1.1">𝑢</ci><ci id="S5.E12.2.2.2.cmml" xref="S5.E12.2.2.2">𝑣</ci></interval></apply><cn id="S5.E12.5.5.5.1.3.cmml" type="integer" xref="S5.E12.5.5.5.1.3">4</cn></apply><apply id="S5.E12.6.6.6.2.cmml" xref="S5.E12.6.6.6.2"><eq id="S5.E12.6.6.6.2.1.cmml" xref="S5.E12.6.6.6.2.1"></eq><apply id="S5.E12.6.6.6.2.2.cmml" xref="S5.E12.6.6.6.2.2"><times id="S5.E12.6.6.6.2.2.1.cmml" xref="S5.E12.6.6.6.2.2.1"></times><ci id="S5.E12.6.6.6.2.2.2a.cmml" xref="S5.E12.6.6.6.2.2.2"><mtext id="S5.E12.6.6.6.2.2.2.cmml" xref="S5.E12.6.6.6.2.2.2">and </mtext></ci><ci id="S5.E12.6.6.6.2.2.3.cmml" xref="S5.E12.6.6.6.2.2.3">𝑌</ci><interval closure="open" id="S5.E12.6.6.6.2.2.4.1.cmml" xref="S5.E12.6.6.6.2.2.4.2"><ci id="S5.E12.3.3.3.cmml" xref="S5.E12.3.3.3">𝑢</ci><ci id="S5.E12.4.4.4.cmml" xref="S5.E12.4.4.4">𝑣</ci></interval></apply><cn id="S5.E12.6.6.6.2.3.cmml" type="integer" xref="S5.E12.6.6.6.2.3">1</cn></apply></apply></matrixrow></matrix></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E13.m1.3c">\displaystyle L(u,v)=\left\{\begin{array}[]{ll}{z_{0}}&amp;{\text{if }S(u,v)=0}\\
{z_{i}}&amp;{\text{if }S(u,v)=i,\text{for }i&lt;4}\\
{z_{4}}&amp;{\text{if }S(u,v)=4,\text{and }Y(u,v)=0}\\
{z_{5}}&amp;{\text{if }S(u,v)=4,\text{and }Y(u,v)=1}\end{array}\right.</annotation><annotation encoding="application/x-llamapun" id="S5.E13.m1.3d">italic_L ( italic_u , italic_v ) = { start_ARRAY start_ROW start_CELL italic_z start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT end_CELL start_CELL if italic_S ( italic_u , italic_v ) = 0 end_CELL end_ROW start_ROW start_CELL italic_z start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_CELL start_CELL if italic_S ( italic_u , italic_v ) = italic_i , for italic_i &lt; 4 end_CELL end_ROW start_ROW start_CELL italic_z start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT end_CELL start_CELL if italic_S ( italic_u , italic_v ) = 4 , and italic_Y ( italic_u , italic_v ) = 0 end_CELL end_ROW start_ROW start_CELL italic_z start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT end_CELL start_CELL if italic_S ( italic_u , italic_v ) = 4 , and italic_Y ( italic_u , italic_v ) = 1 end_CELL end_ROW end_ARRAY</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(13)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.p6.2">where <math alttext="z_{0}\leq z_{1}\leq\dots\leq z_{5}" class="ltx_Math" display="inline" id="S5.p6.2.m1.1"><semantics id="S5.p6.2.m1.1a"><mrow id="S5.p6.2.m1.1.1" xref="S5.p6.2.m1.1.1.cmml"><msub id="S5.p6.2.m1.1.1.2" xref="S5.p6.2.m1.1.1.2.cmml"><mi id="S5.p6.2.m1.1.1.2.2" xref="S5.p6.2.m1.1.1.2.2.cmml">z</mi><mn id="S5.p6.2.m1.1.1.2.3" xref="S5.p6.2.m1.1.1.2.3.cmml">0</mn></msub><mo id="S5.p6.2.m1.1.1.3" xref="S5.p6.2.m1.1.1.3.cmml">≤</mo><msub id="S5.p6.2.m1.1.1.4" xref="S5.p6.2.m1.1.1.4.cmml"><mi id="S5.p6.2.m1.1.1.4.2" xref="S5.p6.2.m1.1.1.4.2.cmml">z</mi><mn id="S5.p6.2.m1.1.1.4.3" xref="S5.p6.2.m1.1.1.4.3.cmml">1</mn></msub><mo id="S5.p6.2.m1.1.1.5" xref="S5.p6.2.m1.1.1.5.cmml">≤</mo><mi id="S5.p6.2.m1.1.1.6" mathvariant="normal" xref="S5.p6.2.m1.1.1.6.cmml">⋯</mi><mo id="S5.p6.2.m1.1.1.7" xref="S5.p6.2.m1.1.1.7.cmml">≤</mo><msub id="S5.p6.2.m1.1.1.8" xref="S5.p6.2.m1.1.1.8.cmml"><mi id="S5.p6.2.m1.1.1.8.2" xref="S5.p6.2.m1.1.1.8.2.cmml">z</mi><mn id="S5.p6.2.m1.1.1.8.3" xref="S5.p6.2.m1.1.1.8.3.cmml">5</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S5.p6.2.m1.1b"><apply id="S5.p6.2.m1.1.1.cmml" xref="S5.p6.2.m1.1.1"><and id="S5.p6.2.m1.1.1a.cmml" xref="S5.p6.2.m1.1.1"></and><apply id="S5.p6.2.m1.1.1b.cmml" xref="S5.p6.2.m1.1.1"><leq id="S5.p6.2.m1.1.1.3.cmml" xref="S5.p6.2.m1.1.1.3"></leq><apply id="S5.p6.2.m1.1.1.2.cmml" xref="S5.p6.2.m1.1.1.2"><csymbol cd="ambiguous" id="S5.p6.2.m1.1.1.2.1.cmml" xref="S5.p6.2.m1.1.1.2">subscript</csymbol><ci id="S5.p6.2.m1.1.1.2.2.cmml" xref="S5.p6.2.m1.1.1.2.2">𝑧</ci><cn id="S5.p6.2.m1.1.1.2.3.cmml" type="integer" xref="S5.p6.2.m1.1.1.2.3">0</cn></apply><apply id="S5.p6.2.m1.1.1.4.cmml" xref="S5.p6.2.m1.1.1.4"><csymbol cd="ambiguous" id="S5.p6.2.m1.1.1.4.1.cmml" xref="S5.p6.2.m1.1.1.4">subscript</csymbol><ci id="S5.p6.2.m1.1.1.4.2.cmml" xref="S5.p6.2.m1.1.1.4.2">𝑧</ci><cn id="S5.p6.2.m1.1.1.4.3.cmml" type="integer" xref="S5.p6.2.m1.1.1.4.3">1</cn></apply></apply><apply id="S5.p6.2.m1.1.1c.cmml" xref="S5.p6.2.m1.1.1"><leq id="S5.p6.2.m1.1.1.5.cmml" xref="S5.p6.2.m1.1.1.5"></leq><share href="https://arxiv.org/html/2405.04844v1#S5.p6.2.m1.1.1.4.cmml" id="S5.p6.2.m1.1.1d.cmml" xref="S5.p6.2.m1.1.1"></share><ci id="S5.p6.2.m1.1.1.6.cmml" xref="S5.p6.2.m1.1.1.6">⋯</ci></apply><apply id="S5.p6.2.m1.1.1e.cmml" xref="S5.p6.2.m1.1.1"><leq id="S5.p6.2.m1.1.1.7.cmml" xref="S5.p6.2.m1.1.1.7"></leq><share href="https://arxiv.org/html/2405.04844v1#S5.p6.2.m1.1.1.6.cmml" id="S5.p6.2.m1.1.1f.cmml" xref="S5.p6.2.m1.1.1"></share><apply id="S5.p6.2.m1.1.1.8.cmml" xref="S5.p6.2.m1.1.1.8"><csymbol cd="ambiguous" id="S5.p6.2.m1.1.1.8.1.cmml" xref="S5.p6.2.m1.1.1.8">subscript</csymbol><ci id="S5.p6.2.m1.1.1.8.2.cmml" xref="S5.p6.2.m1.1.1.8.2">𝑧</ci><cn id="S5.p6.2.m1.1.1.8.3.cmml" type="integer" xref="S5.p6.2.m1.1.1.8.3">5</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p6.2.m1.1c">z_{0}\leq z_{1}\leq\dots\leq z_{5}</annotation><annotation encoding="application/x-llamapun" id="S5.p6.2.m1.1d">italic_z start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT ≤ italic_z start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ≤ ⋯ ≤ italic_z start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT</annotation></semantics></math> are six non-negative numbers.</p>
</div>
<div class="ltx_para" id="S5.p7">
<p class="ltx_p" id="S5.p7.1">The core idea behind this relabeling technique is intuitive, which distinguish the difference among non-exposed items and makes full use of them. Items which are returned to users and receive positive feedback apparently are the most important ones, since they have passes the examination of selection bias of subsequent stages and enjoys users interest. For those items that have been retrieved but not shown to users, entering into next stage of the system is more difficult compared with being liked by users. Therefore, if an item enters into a higher stage of the system, it is more important compared with items in lower stages. In fact, under Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption1" title="Assumption 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption2" title="Assumption 2. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>, one can prove above relabeling technique coincides with GPRP as stated in the following theorem, which give us a theoretical support of our simple relabeling technique.</p>
</div>
<div class="ltx_theorem ltx_theorem_theorem" id="Thmtheorem1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_bold" id="Thmtheorem1.1.1.1">Theorem 1</span></span><span class="ltx_text ltx_font_bold" id="Thmtheorem1.2.2">.</span>
</h6>
<div class="ltx_para" id="Thmtheorem1.p1">
<p class="ltx_p" id="Thmtheorem1.p1.4"><span class="ltx_text ltx_font_italic" id="Thmtheorem1.p1.4.4">Suppose Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption1" title="Assumption 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption2" title="Assumption 2. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a> hold in multi-stage systems, for any collected data <math alttext="\{(u,v_{k},S_{k},\bar{Y}_{k})|k\in[M]\}" class="ltx_Math" display="inline" id="Thmtheorem1.p1.1.1.m1.4"><semantics id="Thmtheorem1.p1.1.1.m1.4a"><mrow id="Thmtheorem1.p1.1.1.m1.4.4.2" xref="Thmtheorem1.p1.1.1.m1.4.4.3.cmml"><mo id="Thmtheorem1.p1.1.1.m1.4.4.2.3" stretchy="false" xref="Thmtheorem1.p1.1.1.m1.4.4.3.1.cmml">{</mo><mrow id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.4.cmml"><mo id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.4" stretchy="false" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.4.cmml">(</mo><mi id="Thmtheorem1.p1.1.1.m1.1.1" xref="Thmtheorem1.p1.1.1.m1.1.1.cmml">u</mi><mo id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.5" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.4.cmml">,</mo><msub id="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.cmml"><mi id="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.2" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.2.cmml">v</mi><mi id="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.3" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.3.cmml">k</mi></msub><mo id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.6" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.4.cmml">,</mo><msub id="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.cmml"><mi id="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.2" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.2.cmml">S</mi><mi id="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.3" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.3.cmml">k</mi></msub><mo id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.7" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.4.cmml">,</mo><msub id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.cmml"><mover accent="true" id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.cmml"><mi id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.2" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.2.cmml">Y</mi><mo id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.1" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.1.cmml">¯</mo></mover><mi id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.3" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.3.cmml">k</mi></msub><mo id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.8" stretchy="false" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.4.cmml">)</mo></mrow><mo id="Thmtheorem1.p1.1.1.m1.4.4.2.4" lspace="0em" rspace="0em" xref="Thmtheorem1.p1.1.1.m1.4.4.3.1.cmml">|</mo><mrow id="Thmtheorem1.p1.1.1.m1.4.4.2.2" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.cmml"><mi id="Thmtheorem1.p1.1.1.m1.4.4.2.2.2" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.2.cmml">k</mi><mo id="Thmtheorem1.p1.1.1.m1.4.4.2.2.1" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.1.cmml">∈</mo><mrow id="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.2" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.1.cmml"><mo id="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.2.1" stretchy="false" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.1.1.cmml">[</mo><mi id="Thmtheorem1.p1.1.1.m1.2.2" xref="Thmtheorem1.p1.1.1.m1.2.2.cmml">M</mi><mo id="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.2.2" stretchy="false" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="Thmtheorem1.p1.1.1.m1.4.4.2.5" stretchy="false" xref="Thmtheorem1.p1.1.1.m1.4.4.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.1.1.m1.4b"><apply id="Thmtheorem1.p1.1.1.m1.4.4.3.cmml" xref="Thmtheorem1.p1.1.1.m1.4.4.2"><csymbol cd="latexml" id="Thmtheorem1.p1.1.1.m1.4.4.3.1.cmml" xref="Thmtheorem1.p1.1.1.m1.4.4.2.3">conditional-set</csymbol><vector id="Thmtheorem1.p1.1.1.m1.3.3.1.1.4.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3"><ci id="Thmtheorem1.p1.1.1.m1.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.1.1">𝑢</ci><apply id="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1">subscript</csymbol><ci id="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.2.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.2">𝑣</ci><ci id="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.3.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.1.1.3">𝑘</ci></apply><apply id="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2"><csymbol cd="ambiguous" id="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.1.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2">subscript</csymbol><ci id="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.2.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.2">𝑆</ci><ci id="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.3.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.2.2.3">𝑘</ci></apply><apply id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3"><csymbol cd="ambiguous" id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.1.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3">subscript</csymbol><apply id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2"><ci id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.1.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.1">¯</ci><ci id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.2.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.2.2">𝑌</ci></apply><ci id="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.3.cmml" xref="Thmtheorem1.p1.1.1.m1.3.3.1.1.3.3.3">𝑘</ci></apply></vector><apply id="Thmtheorem1.p1.1.1.m1.4.4.2.2.cmml" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2"><in id="Thmtheorem1.p1.1.1.m1.4.4.2.2.1.cmml" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.1"></in><ci id="Thmtheorem1.p1.1.1.m1.4.4.2.2.2.cmml" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.2">𝑘</ci><apply id="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.1.cmml" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.2"><csymbol cd="latexml" id="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.1.1.cmml" xref="Thmtheorem1.p1.1.1.m1.4.4.2.2.3.2.1">delimited-[]</csymbol><ci id="Thmtheorem1.p1.1.1.m1.2.2.cmml" xref="Thmtheorem1.p1.1.1.m1.2.2">𝑀</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.1.1.m1.4c">\{(u,v_{k},S_{k},\bar{Y}_{k})|k\in[M]\}</annotation><annotation encoding="application/x-llamapun" id="Thmtheorem1.p1.1.1.m1.4d">{ ( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , over¯ start_ARG italic_Y end_ARG start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) | italic_k ∈ [ italic_M ] }</annotation></semantics></math>, after relabeling via equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S5.E13" title="In 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">13</span></a>), we obtain new labels <math alttext="L(u,v_{k})" class="ltx_Math" display="inline" id="Thmtheorem1.p1.2.2.m2.2"><semantics id="Thmtheorem1.p1.2.2.m2.2a"><mrow id="Thmtheorem1.p1.2.2.m2.2.2" xref="Thmtheorem1.p1.2.2.m2.2.2.cmml"><mi id="Thmtheorem1.p1.2.2.m2.2.2.3" xref="Thmtheorem1.p1.2.2.m2.2.2.3.cmml">L</mi><mo id="Thmtheorem1.p1.2.2.m2.2.2.2" xref="Thmtheorem1.p1.2.2.m2.2.2.2.cmml">⁢</mo><mrow id="Thmtheorem1.p1.2.2.m2.2.2.1.1" xref="Thmtheorem1.p1.2.2.m2.2.2.1.2.cmml"><mo id="Thmtheorem1.p1.2.2.m2.2.2.1.1.2" stretchy="false" xref="Thmtheorem1.p1.2.2.m2.2.2.1.2.cmml">(</mo><mi id="Thmtheorem1.p1.2.2.m2.1.1" xref="Thmtheorem1.p1.2.2.m2.1.1.cmml">u</mi><mo id="Thmtheorem1.p1.2.2.m2.2.2.1.1.3" xref="Thmtheorem1.p1.2.2.m2.2.2.1.2.cmml">,</mo><msub id="Thmtheorem1.p1.2.2.m2.2.2.1.1.1" xref="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.cmml"><mi id="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.2" xref="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.2.cmml">v</mi><mi id="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3" xref="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.cmml">k</mi></msub><mo id="Thmtheorem1.p1.2.2.m2.2.2.1.1.4" stretchy="false" xref="Thmtheorem1.p1.2.2.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.2.2.m2.2b"><apply id="Thmtheorem1.p1.2.2.m2.2.2.cmml" xref="Thmtheorem1.p1.2.2.m2.2.2"><times id="Thmtheorem1.p1.2.2.m2.2.2.2.cmml" xref="Thmtheorem1.p1.2.2.m2.2.2.2"></times><ci id="Thmtheorem1.p1.2.2.m2.2.2.3.cmml" xref="Thmtheorem1.p1.2.2.m2.2.2.3">𝐿</ci><interval closure="open" id="Thmtheorem1.p1.2.2.m2.2.2.1.2.cmml" xref="Thmtheorem1.p1.2.2.m2.2.2.1.1"><ci id="Thmtheorem1.p1.2.2.m2.1.1.cmml" xref="Thmtheorem1.p1.2.2.m2.1.1">𝑢</ci><apply id="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.cmml" xref="Thmtheorem1.p1.2.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.1.cmml" xref="Thmtheorem1.p1.2.2.m2.2.2.1.1.1">subscript</csymbol><ci id="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.2.cmml" xref="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.2">𝑣</ci><ci id="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.cmml" xref="Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3">𝑘</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.2.2.m2.2c">L(u,v_{k})</annotation><annotation encoding="application/x-llamapun" id="Thmtheorem1.p1.2.2.m2.2d">italic_L ( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> for each data respectively, then a ranking of items in decreasing order of <math alttext="L(u,v_{k})" class="ltx_Math" display="inline" id="Thmtheorem1.p1.3.3.m3.2"><semantics id="Thmtheorem1.p1.3.3.m3.2a"><mrow id="Thmtheorem1.p1.3.3.m3.2.2" xref="Thmtheorem1.p1.3.3.m3.2.2.cmml"><mi id="Thmtheorem1.p1.3.3.m3.2.2.3" xref="Thmtheorem1.p1.3.3.m3.2.2.3.cmml">L</mi><mo id="Thmtheorem1.p1.3.3.m3.2.2.2" xref="Thmtheorem1.p1.3.3.m3.2.2.2.cmml">⁢</mo><mrow id="Thmtheorem1.p1.3.3.m3.2.2.1.1" xref="Thmtheorem1.p1.3.3.m3.2.2.1.2.cmml"><mo id="Thmtheorem1.p1.3.3.m3.2.2.1.1.2" stretchy="false" xref="Thmtheorem1.p1.3.3.m3.2.2.1.2.cmml">(</mo><mi id="Thmtheorem1.p1.3.3.m3.1.1" xref="Thmtheorem1.p1.3.3.m3.1.1.cmml">u</mi><mo id="Thmtheorem1.p1.3.3.m3.2.2.1.1.3" xref="Thmtheorem1.p1.3.3.m3.2.2.1.2.cmml">,</mo><msub id="Thmtheorem1.p1.3.3.m3.2.2.1.1.1" xref="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.cmml"><mi id="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.2" xref="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.2.cmml">v</mi><mi id="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.3" xref="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.3.cmml">k</mi></msub><mo id="Thmtheorem1.p1.3.3.m3.2.2.1.1.4" stretchy="false" xref="Thmtheorem1.p1.3.3.m3.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.3.3.m3.2b"><apply id="Thmtheorem1.p1.3.3.m3.2.2.cmml" xref="Thmtheorem1.p1.3.3.m3.2.2"><times id="Thmtheorem1.p1.3.3.m3.2.2.2.cmml" xref="Thmtheorem1.p1.3.3.m3.2.2.2"></times><ci id="Thmtheorem1.p1.3.3.m3.2.2.3.cmml" xref="Thmtheorem1.p1.3.3.m3.2.2.3">𝐿</ci><interval closure="open" id="Thmtheorem1.p1.3.3.m3.2.2.1.2.cmml" xref="Thmtheorem1.p1.3.3.m3.2.2.1.1"><ci id="Thmtheorem1.p1.3.3.m3.1.1.cmml" xref="Thmtheorem1.p1.3.3.m3.1.1">𝑢</ci><apply id="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.cmml" xref="Thmtheorem1.p1.3.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.1.cmml" xref="Thmtheorem1.p1.3.3.m3.2.2.1.1.1">subscript</csymbol><ci id="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.2.cmml" xref="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.2">𝑣</ci><ci id="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.3.cmml" xref="Thmtheorem1.p1.3.3.m3.2.2.1.1.1.3">𝑘</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.3.3.m3.2c">L(u,v_{k})</annotation><annotation encoding="application/x-llamapun" id="Thmtheorem1.p1.3.3.m3.2d">italic_L ( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> implies the ranking by <math alttext="w^{i+1,4}(u,v_{k})" class="ltx_Math" display="inline" id="Thmtheorem1.p1.4.4.m4.4"><semantics id="Thmtheorem1.p1.4.4.m4.4a"><mrow id="Thmtheorem1.p1.4.4.m4.4.4" xref="Thmtheorem1.p1.4.4.m4.4.4.cmml"><msup id="Thmtheorem1.p1.4.4.m4.4.4.3" xref="Thmtheorem1.p1.4.4.m4.4.4.3.cmml"><mi id="Thmtheorem1.p1.4.4.m4.4.4.3.2" xref="Thmtheorem1.p1.4.4.m4.4.4.3.2.cmml">w</mi><mrow id="Thmtheorem1.p1.4.4.m4.2.2.2.2" xref="Thmtheorem1.p1.4.4.m4.2.2.2.3.cmml"><mrow id="Thmtheorem1.p1.4.4.m4.2.2.2.2.1" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.cmml"><mi id="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.2" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.2.cmml">i</mi><mo id="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.1" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.1.cmml">+</mo><mn id="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.3" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="Thmtheorem1.p1.4.4.m4.2.2.2.2.2" xref="Thmtheorem1.p1.4.4.m4.2.2.2.3.cmml">,</mo><mn id="Thmtheorem1.p1.4.4.m4.1.1.1.1" xref="Thmtheorem1.p1.4.4.m4.1.1.1.1.cmml">4</mn></mrow></msup><mo id="Thmtheorem1.p1.4.4.m4.4.4.2" xref="Thmtheorem1.p1.4.4.m4.4.4.2.cmml">⁢</mo><mrow id="Thmtheorem1.p1.4.4.m4.4.4.1.1" xref="Thmtheorem1.p1.4.4.m4.4.4.1.2.cmml"><mo id="Thmtheorem1.p1.4.4.m4.4.4.1.1.2" stretchy="false" xref="Thmtheorem1.p1.4.4.m4.4.4.1.2.cmml">(</mo><mi id="Thmtheorem1.p1.4.4.m4.3.3" xref="Thmtheorem1.p1.4.4.m4.3.3.cmml">u</mi><mo id="Thmtheorem1.p1.4.4.m4.4.4.1.1.3" xref="Thmtheorem1.p1.4.4.m4.4.4.1.2.cmml">,</mo><msub id="Thmtheorem1.p1.4.4.m4.4.4.1.1.1" xref="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.cmml"><mi id="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.2" xref="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.2.cmml">v</mi><mi id="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.3" xref="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.3.cmml">k</mi></msub><mo id="Thmtheorem1.p1.4.4.m4.4.4.1.1.4" stretchy="false" xref="Thmtheorem1.p1.4.4.m4.4.4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="Thmtheorem1.p1.4.4.m4.4b"><apply id="Thmtheorem1.p1.4.4.m4.4.4.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4"><times id="Thmtheorem1.p1.4.4.m4.4.4.2.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.2"></times><apply id="Thmtheorem1.p1.4.4.m4.4.4.3.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.3"><csymbol cd="ambiguous" id="Thmtheorem1.p1.4.4.m4.4.4.3.1.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.3">superscript</csymbol><ci id="Thmtheorem1.p1.4.4.m4.4.4.3.2.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.3.2">𝑤</ci><list id="Thmtheorem1.p1.4.4.m4.2.2.2.3.cmml" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2"><apply id="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.cmml" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2.1"><plus id="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.1.cmml" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.1"></plus><ci id="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.2.cmml" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.2">𝑖</ci><cn id="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.3.cmml" type="integer" xref="Thmtheorem1.p1.4.4.m4.2.2.2.2.1.3">1</cn></apply><cn id="Thmtheorem1.p1.4.4.m4.1.1.1.1.cmml" type="integer" xref="Thmtheorem1.p1.4.4.m4.1.1.1.1">4</cn></list></apply><interval closure="open" id="Thmtheorem1.p1.4.4.m4.4.4.1.2.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.1.1"><ci id="Thmtheorem1.p1.4.4.m4.3.3.cmml" xref="Thmtheorem1.p1.4.4.m4.3.3">𝑢</ci><apply id="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.1.1.1"><csymbol cd="ambiguous" id="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.1.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.1.1.1">subscript</csymbol><ci id="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.2.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.2">𝑣</ci><ci id="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.3.cmml" xref="Thmtheorem1.p1.4.4.m4.4.4.1.1.1.3">𝑘</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="Thmtheorem1.p1.4.4.m4.4c">w^{i+1,4}(u,v_{k})</annotation><annotation encoding="application/x-llamapun" id="Thmtheorem1.p1.4.4.m4.4d">italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math> for items in different stages.</span></p>
</div>
</div>
<div class="ltx_para" id="S5.p8">
<p class="ltx_p" id="S5.p8.9">According to Theorem <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmtheorem1" title="Theorem 1. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a>, now we can use the new label <math alttext="L(u,v)" class="ltx_Math" display="inline" id="S5.p8.1.m1.2"><semantics id="S5.p8.1.m1.2a"><mrow id="S5.p8.1.m1.2.3" xref="S5.p8.1.m1.2.3.cmml"><mi id="S5.p8.1.m1.2.3.2" xref="S5.p8.1.m1.2.3.2.cmml">L</mi><mo id="S5.p8.1.m1.2.3.1" xref="S5.p8.1.m1.2.3.1.cmml">⁢</mo><mrow id="S5.p8.1.m1.2.3.3.2" xref="S5.p8.1.m1.2.3.3.1.cmml"><mo id="S5.p8.1.m1.2.3.3.2.1" stretchy="false" xref="S5.p8.1.m1.2.3.3.1.cmml">(</mo><mi id="S5.p8.1.m1.1.1" xref="S5.p8.1.m1.1.1.cmml">u</mi><mo id="S5.p8.1.m1.2.3.3.2.2" xref="S5.p8.1.m1.2.3.3.1.cmml">,</mo><mi id="S5.p8.1.m1.2.2" xref="S5.p8.1.m1.2.2.cmml">v</mi><mo id="S5.p8.1.m1.2.3.3.2.3" stretchy="false" xref="S5.p8.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p8.1.m1.2b"><apply id="S5.p8.1.m1.2.3.cmml" xref="S5.p8.1.m1.2.3"><times id="S5.p8.1.m1.2.3.1.cmml" xref="S5.p8.1.m1.2.3.1"></times><ci id="S5.p8.1.m1.2.3.2.cmml" xref="S5.p8.1.m1.2.3.2">𝐿</ci><interval closure="open" id="S5.p8.1.m1.2.3.3.1.cmml" xref="S5.p8.1.m1.2.3.3.2"><ci id="S5.p8.1.m1.1.1.cmml" xref="S5.p8.1.m1.1.1">𝑢</ci><ci id="S5.p8.1.m1.2.2.cmml" xref="S5.p8.1.m1.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.1.m1.2c">L(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p8.1.m1.2d">italic_L ( italic_u , italic_v )</annotation></semantics></math> as an approximate substitution of <math alttext="w^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S5.p8.2.m2.4"><semantics id="S5.p8.2.m2.4a"><mrow id="S5.p8.2.m2.4.5" xref="S5.p8.2.m2.4.5.cmml"><msup id="S5.p8.2.m2.4.5.2" xref="S5.p8.2.m2.4.5.2.cmml"><mi id="S5.p8.2.m2.4.5.2.2" xref="S5.p8.2.m2.4.5.2.2.cmml">w</mi><mrow id="S5.p8.2.m2.2.2.2.2" xref="S5.p8.2.m2.2.2.2.3.cmml"><mrow id="S5.p8.2.m2.2.2.2.2.1" xref="S5.p8.2.m2.2.2.2.2.1.cmml"><mi id="S5.p8.2.m2.2.2.2.2.1.2" xref="S5.p8.2.m2.2.2.2.2.1.2.cmml">i</mi><mo id="S5.p8.2.m2.2.2.2.2.1.1" xref="S5.p8.2.m2.2.2.2.2.1.1.cmml">+</mo><mn id="S5.p8.2.m2.2.2.2.2.1.3" xref="S5.p8.2.m2.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p8.2.m2.2.2.2.2.2" xref="S5.p8.2.m2.2.2.2.3.cmml">,</mo><mn id="S5.p8.2.m2.1.1.1.1" xref="S5.p8.2.m2.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S5.p8.2.m2.4.5.1" xref="S5.p8.2.m2.4.5.1.cmml">⁢</mo><mrow id="S5.p8.2.m2.4.5.3.2" xref="S5.p8.2.m2.4.5.3.1.cmml"><mo id="S5.p8.2.m2.4.5.3.2.1" stretchy="false" xref="S5.p8.2.m2.4.5.3.1.cmml">(</mo><mi id="S5.p8.2.m2.3.3" xref="S5.p8.2.m2.3.3.cmml">u</mi><mo id="S5.p8.2.m2.4.5.3.2.2" xref="S5.p8.2.m2.4.5.3.1.cmml">,</mo><mi id="S5.p8.2.m2.4.4" xref="S5.p8.2.m2.4.4.cmml">v</mi><mo id="S5.p8.2.m2.4.5.3.2.3" stretchy="false" xref="S5.p8.2.m2.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p8.2.m2.4b"><apply id="S5.p8.2.m2.4.5.cmml" xref="S5.p8.2.m2.4.5"><times id="S5.p8.2.m2.4.5.1.cmml" xref="S5.p8.2.m2.4.5.1"></times><apply id="S5.p8.2.m2.4.5.2.cmml" xref="S5.p8.2.m2.4.5.2"><csymbol cd="ambiguous" id="S5.p8.2.m2.4.5.2.1.cmml" xref="S5.p8.2.m2.4.5.2">superscript</csymbol><ci id="S5.p8.2.m2.4.5.2.2.cmml" xref="S5.p8.2.m2.4.5.2.2">𝑤</ci><list id="S5.p8.2.m2.2.2.2.3.cmml" xref="S5.p8.2.m2.2.2.2.2"><apply id="S5.p8.2.m2.2.2.2.2.1.cmml" xref="S5.p8.2.m2.2.2.2.2.1"><plus id="S5.p8.2.m2.2.2.2.2.1.1.cmml" xref="S5.p8.2.m2.2.2.2.2.1.1"></plus><ci id="S5.p8.2.m2.2.2.2.2.1.2.cmml" xref="S5.p8.2.m2.2.2.2.2.1.2">𝑖</ci><cn id="S5.p8.2.m2.2.2.2.2.1.3.cmml" type="integer" xref="S5.p8.2.m2.2.2.2.2.1.3">1</cn></apply><cn id="S5.p8.2.m2.1.1.1.1.cmml" type="integer" xref="S5.p8.2.m2.1.1.1.1">4</cn></list></apply><interval closure="open" id="S5.p8.2.m2.4.5.3.1.cmml" xref="S5.p8.2.m2.4.5.3.2"><ci id="S5.p8.2.m2.3.3.cmml" xref="S5.p8.2.m2.3.3">𝑢</ci><ci id="S5.p8.2.m2.4.4.cmml" xref="S5.p8.2.m2.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.2.m2.4c">w^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p8.2.m2.4d">italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math>, and this new relabeling also allows efficient learning. Once we can estimate <math alttext="L(u,v)" class="ltx_Math" display="inline" id="S5.p8.3.m3.2"><semantics id="S5.p8.3.m3.2a"><mrow id="S5.p8.3.m3.2.3" xref="S5.p8.3.m3.2.3.cmml"><mi id="S5.p8.3.m3.2.3.2" xref="S5.p8.3.m3.2.3.2.cmml">L</mi><mo id="S5.p8.3.m3.2.3.1" xref="S5.p8.3.m3.2.3.1.cmml">⁢</mo><mrow id="S5.p8.3.m3.2.3.3.2" xref="S5.p8.3.m3.2.3.3.1.cmml"><mo id="S5.p8.3.m3.2.3.3.2.1" stretchy="false" xref="S5.p8.3.m3.2.3.3.1.cmml">(</mo><mi id="S5.p8.3.m3.1.1" xref="S5.p8.3.m3.1.1.cmml">u</mi><mo id="S5.p8.3.m3.2.3.3.2.2" xref="S5.p8.3.m3.2.3.3.1.cmml">,</mo><mi id="S5.p8.3.m3.2.2" xref="S5.p8.3.m3.2.2.cmml">v</mi><mo id="S5.p8.3.m3.2.3.3.2.3" stretchy="false" xref="S5.p8.3.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p8.3.m3.2b"><apply id="S5.p8.3.m3.2.3.cmml" xref="S5.p8.3.m3.2.3"><times id="S5.p8.3.m3.2.3.1.cmml" xref="S5.p8.3.m3.2.3.1"></times><ci id="S5.p8.3.m3.2.3.2.cmml" xref="S5.p8.3.m3.2.3.2">𝐿</ci><interval closure="open" id="S5.p8.3.m3.2.3.3.1.cmml" xref="S5.p8.3.m3.2.3.3.2"><ci id="S5.p8.3.m3.1.1.cmml" xref="S5.p8.3.m3.1.1">𝑢</ci><ci id="S5.p8.3.m3.2.2.cmml" xref="S5.p8.3.m3.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.3.m3.2c">L(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p8.3.m3.2d">italic_L ( italic_u , italic_v )</annotation></semantics></math> or has the ability of ranking items which is the same as ranking by <math alttext="L(u,v)" class="ltx_Math" display="inline" id="S5.p8.4.m4.2"><semantics id="S5.p8.4.m4.2a"><mrow id="S5.p8.4.m4.2.3" xref="S5.p8.4.m4.2.3.cmml"><mi id="S5.p8.4.m4.2.3.2" xref="S5.p8.4.m4.2.3.2.cmml">L</mi><mo id="S5.p8.4.m4.2.3.1" xref="S5.p8.4.m4.2.3.1.cmml">⁢</mo><mrow id="S5.p8.4.m4.2.3.3.2" xref="S5.p8.4.m4.2.3.3.1.cmml"><mo id="S5.p8.4.m4.2.3.3.2.1" stretchy="false" xref="S5.p8.4.m4.2.3.3.1.cmml">(</mo><mi id="S5.p8.4.m4.1.1" xref="S5.p8.4.m4.1.1.cmml">u</mi><mo id="S5.p8.4.m4.2.3.3.2.2" xref="S5.p8.4.m4.2.3.3.1.cmml">,</mo><mi id="S5.p8.4.m4.2.2" xref="S5.p8.4.m4.2.2.cmml">v</mi><mo id="S5.p8.4.m4.2.3.3.2.3" stretchy="false" xref="S5.p8.4.m4.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p8.4.m4.2b"><apply id="S5.p8.4.m4.2.3.cmml" xref="S5.p8.4.m4.2.3"><times id="S5.p8.4.m4.2.3.1.cmml" xref="S5.p8.4.m4.2.3.1"></times><ci id="S5.p8.4.m4.2.3.2.cmml" xref="S5.p8.4.m4.2.3.2">𝐿</ci><interval closure="open" id="S5.p8.4.m4.2.3.3.1.cmml" xref="S5.p8.4.m4.2.3.3.2"><ci id="S5.p8.4.m4.1.1.cmml" xref="S5.p8.4.m4.1.1">𝑢</ci><ci id="S5.p8.4.m4.2.2.cmml" xref="S5.p8.4.m4.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.4.m4.2c">L(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p8.4.m4.2d">italic_L ( italic_u , italic_v )</annotation></semantics></math>, then it nearly matches GPRP, since <math alttext="\mathcal{I}^{i,GPRP}" class="ltx_Math" display="inline" id="S5.p8.5.m5.2"><semantics id="S5.p8.5.m5.2a"><msup id="S5.p8.5.m5.2.3" xref="S5.p8.5.m5.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S5.p8.5.m5.2.3.2" xref="S5.p8.5.m5.2.3.2.cmml">ℐ</mi><mrow id="S5.p8.5.m5.2.2.2.2" xref="S5.p8.5.m5.2.2.2.3.cmml"><mi id="S5.p8.5.m5.1.1.1.1" xref="S5.p8.5.m5.1.1.1.1.cmml">i</mi><mo id="S5.p8.5.m5.2.2.2.2.2" xref="S5.p8.5.m5.2.2.2.3.cmml">,</mo><mrow id="S5.p8.5.m5.2.2.2.2.1" xref="S5.p8.5.m5.2.2.2.2.1.cmml"><mi id="S5.p8.5.m5.2.2.2.2.1.2" xref="S5.p8.5.m5.2.2.2.2.1.2.cmml">G</mi><mo id="S5.p8.5.m5.2.2.2.2.1.1" xref="S5.p8.5.m5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S5.p8.5.m5.2.2.2.2.1.3" xref="S5.p8.5.m5.2.2.2.2.1.3.cmml">P</mi><mo id="S5.p8.5.m5.2.2.2.2.1.1a" xref="S5.p8.5.m5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S5.p8.5.m5.2.2.2.2.1.4" xref="S5.p8.5.m5.2.2.2.2.1.4.cmml">R</mi><mo id="S5.p8.5.m5.2.2.2.2.1.1b" xref="S5.p8.5.m5.2.2.2.2.1.1.cmml">⁢</mo><mi id="S5.p8.5.m5.2.2.2.2.1.5" xref="S5.p8.5.m5.2.2.2.2.1.5.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="S5.p8.5.m5.2b"><apply id="S5.p8.5.m5.2.3.cmml" xref="S5.p8.5.m5.2.3"><csymbol cd="ambiguous" id="S5.p8.5.m5.2.3.1.cmml" xref="S5.p8.5.m5.2.3">superscript</csymbol><ci id="S5.p8.5.m5.2.3.2.cmml" xref="S5.p8.5.m5.2.3.2">ℐ</ci><list id="S5.p8.5.m5.2.2.2.3.cmml" xref="S5.p8.5.m5.2.2.2.2"><ci id="S5.p8.5.m5.1.1.1.1.cmml" xref="S5.p8.5.m5.1.1.1.1">𝑖</ci><apply id="S5.p8.5.m5.2.2.2.2.1.cmml" xref="S5.p8.5.m5.2.2.2.2.1"><times id="S5.p8.5.m5.2.2.2.2.1.1.cmml" xref="S5.p8.5.m5.2.2.2.2.1.1"></times><ci id="S5.p8.5.m5.2.2.2.2.1.2.cmml" xref="S5.p8.5.m5.2.2.2.2.1.2">𝐺</ci><ci id="S5.p8.5.m5.2.2.2.2.1.3.cmml" xref="S5.p8.5.m5.2.2.2.2.1.3">𝑃</ci><ci id="S5.p8.5.m5.2.2.2.2.1.4.cmml" xref="S5.p8.5.m5.2.2.2.2.1.4">𝑅</ci><ci id="S5.p8.5.m5.2.2.2.2.1.5.cmml" xref="S5.p8.5.m5.2.2.2.2.1.5">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.5.m5.2c">\mathcal{I}^{i,GPRP}</annotation><annotation encoding="application/x-llamapun" id="S5.p8.5.m5.2d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_G italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math> is obtained by ranking <math alttext="w^{i+1,4}(u,v)" class="ltx_Math" display="inline" id="S5.p8.6.m6.4"><semantics id="S5.p8.6.m6.4a"><mrow id="S5.p8.6.m6.4.5" xref="S5.p8.6.m6.4.5.cmml"><msup id="S5.p8.6.m6.4.5.2" xref="S5.p8.6.m6.4.5.2.cmml"><mi id="S5.p8.6.m6.4.5.2.2" xref="S5.p8.6.m6.4.5.2.2.cmml">w</mi><mrow id="S5.p8.6.m6.2.2.2.2" xref="S5.p8.6.m6.2.2.2.3.cmml"><mrow id="S5.p8.6.m6.2.2.2.2.1" xref="S5.p8.6.m6.2.2.2.2.1.cmml"><mi id="S5.p8.6.m6.2.2.2.2.1.2" xref="S5.p8.6.m6.2.2.2.2.1.2.cmml">i</mi><mo id="S5.p8.6.m6.2.2.2.2.1.1" xref="S5.p8.6.m6.2.2.2.2.1.1.cmml">+</mo><mn id="S5.p8.6.m6.2.2.2.2.1.3" xref="S5.p8.6.m6.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="S5.p8.6.m6.2.2.2.2.2" xref="S5.p8.6.m6.2.2.2.3.cmml">,</mo><mn id="S5.p8.6.m6.1.1.1.1" xref="S5.p8.6.m6.1.1.1.1.cmml">4</mn></mrow></msup><mo id="S5.p8.6.m6.4.5.1" xref="S5.p8.6.m6.4.5.1.cmml">⁢</mo><mrow id="S5.p8.6.m6.4.5.3.2" xref="S5.p8.6.m6.4.5.3.1.cmml"><mo id="S5.p8.6.m6.4.5.3.2.1" stretchy="false" xref="S5.p8.6.m6.4.5.3.1.cmml">(</mo><mi id="S5.p8.6.m6.3.3" xref="S5.p8.6.m6.3.3.cmml">u</mi><mo id="S5.p8.6.m6.4.5.3.2.2" xref="S5.p8.6.m6.4.5.3.1.cmml">,</mo><mi id="S5.p8.6.m6.4.4" xref="S5.p8.6.m6.4.4.cmml">v</mi><mo id="S5.p8.6.m6.4.5.3.2.3" stretchy="false" xref="S5.p8.6.m6.4.5.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.p8.6.m6.4b"><apply id="S5.p8.6.m6.4.5.cmml" xref="S5.p8.6.m6.4.5"><times id="S5.p8.6.m6.4.5.1.cmml" xref="S5.p8.6.m6.4.5.1"></times><apply id="S5.p8.6.m6.4.5.2.cmml" xref="S5.p8.6.m6.4.5.2"><csymbol cd="ambiguous" id="S5.p8.6.m6.4.5.2.1.cmml" xref="S5.p8.6.m6.4.5.2">superscript</csymbol><ci id="S5.p8.6.m6.4.5.2.2.cmml" xref="S5.p8.6.m6.4.5.2.2">𝑤</ci><list id="S5.p8.6.m6.2.2.2.3.cmml" xref="S5.p8.6.m6.2.2.2.2"><apply id="S5.p8.6.m6.2.2.2.2.1.cmml" xref="S5.p8.6.m6.2.2.2.2.1"><plus id="S5.p8.6.m6.2.2.2.2.1.1.cmml" xref="S5.p8.6.m6.2.2.2.2.1.1"></plus><ci id="S5.p8.6.m6.2.2.2.2.1.2.cmml" xref="S5.p8.6.m6.2.2.2.2.1.2">𝑖</ci><cn id="S5.p8.6.m6.2.2.2.2.1.3.cmml" type="integer" xref="S5.p8.6.m6.2.2.2.2.1.3">1</cn></apply><cn id="S5.p8.6.m6.1.1.1.1.cmml" type="integer" xref="S5.p8.6.m6.1.1.1.1">4</cn></list></apply><interval closure="open" id="S5.p8.6.m6.4.5.3.1.cmml" xref="S5.p8.6.m6.4.5.3.2"><ci id="S5.p8.6.m6.3.3.cmml" xref="S5.p8.6.m6.3.3">𝑢</ci><ci id="S5.p8.6.m6.4.4.cmml" xref="S5.p8.6.m6.4.4">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.6.m6.4c">w^{i+1,4}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S5.p8.6.m6.4d">italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> in decreasing order according to equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E7" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>) under Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption1" title="Assumption 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a>. Thus, we can use any supervised or general ranking algorithm to reach an efficiently learned model that coincides with GPRP. In detail, having obtained the collected relabeled data <math alttext="\{\{(u^{t},v^{t}_{k},L^{t}_{k})|k\in[M]\}|t\in[N]\}" class="ltx_Math" display="inline" id="S5.p8.7.m7.4"><semantics id="S5.p8.7.m7.4a"><mrow id="S5.p8.7.m7.4.4.2" xref="S5.p8.7.m7.4.4.3.cmml"><mo id="S5.p8.7.m7.4.4.2.3" stretchy="false" xref="S5.p8.7.m7.4.4.3.1.cmml">{</mo><mrow id="S5.p8.7.m7.3.3.1.1.2" xref="S5.p8.7.m7.3.3.1.1.3.cmml"><mo id="S5.p8.7.m7.3.3.1.1.2.3" stretchy="false" xref="S5.p8.7.m7.3.3.1.1.3.1.cmml">{</mo><mrow id="S5.p8.7.m7.3.3.1.1.1.1.3" xref="S5.p8.7.m7.3.3.1.1.1.1.4.cmml"><mo id="S5.p8.7.m7.3.3.1.1.1.1.3.4" stretchy="false" xref="S5.p8.7.m7.3.3.1.1.1.1.4.cmml">(</mo><msup id="S5.p8.7.m7.3.3.1.1.1.1.1.1" xref="S5.p8.7.m7.3.3.1.1.1.1.1.1.cmml"><mi id="S5.p8.7.m7.3.3.1.1.1.1.1.1.2" xref="S5.p8.7.m7.3.3.1.1.1.1.1.1.2.cmml">u</mi><mi id="S5.p8.7.m7.3.3.1.1.1.1.1.1.3" xref="S5.p8.7.m7.3.3.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="S5.p8.7.m7.3.3.1.1.1.1.3.5" xref="S5.p8.7.m7.3.3.1.1.1.1.4.cmml">,</mo><msubsup id="S5.p8.7.m7.3.3.1.1.1.1.2.2" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2.cmml"><mi id="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.2" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.2.cmml">v</mi><mi id="S5.p8.7.m7.3.3.1.1.1.1.2.2.3" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2.3.cmml">k</mi><mi id="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.3" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.3.cmml">t</mi></msubsup><mo id="S5.p8.7.m7.3.3.1.1.1.1.3.6" xref="S5.p8.7.m7.3.3.1.1.1.1.4.cmml">,</mo><msubsup id="S5.p8.7.m7.3.3.1.1.1.1.3.3" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3.cmml"><mi id="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.2" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.2.cmml">L</mi><mi id="S5.p8.7.m7.3.3.1.1.1.1.3.3.3" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3.3.cmml">k</mi><mi id="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.3" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.3.cmml">t</mi></msubsup><mo id="S5.p8.7.m7.3.3.1.1.1.1.3.7" stretchy="false" xref="S5.p8.7.m7.3.3.1.1.1.1.4.cmml">)</mo></mrow><mo id="S5.p8.7.m7.3.3.1.1.2.4" lspace="0em" rspace="0em" xref="S5.p8.7.m7.3.3.1.1.3.1.cmml">|</mo><mrow id="S5.p8.7.m7.3.3.1.1.2.2" xref="S5.p8.7.m7.3.3.1.1.2.2.cmml"><mi id="S5.p8.7.m7.3.3.1.1.2.2.2" xref="S5.p8.7.m7.3.3.1.1.2.2.2.cmml">k</mi><mo id="S5.p8.7.m7.3.3.1.1.2.2.1" xref="S5.p8.7.m7.3.3.1.1.2.2.1.cmml">∈</mo><mrow id="S5.p8.7.m7.3.3.1.1.2.2.3.2" xref="S5.p8.7.m7.3.3.1.1.2.2.3.1.cmml"><mo id="S5.p8.7.m7.3.3.1.1.2.2.3.2.1" stretchy="false" xref="S5.p8.7.m7.3.3.1.1.2.2.3.1.1.cmml">[</mo><mi id="S5.p8.7.m7.1.1" xref="S5.p8.7.m7.1.1.cmml">M</mi><mo id="S5.p8.7.m7.3.3.1.1.2.2.3.2.2" stretchy="false" xref="S5.p8.7.m7.3.3.1.1.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S5.p8.7.m7.3.3.1.1.2.5" stretchy="false" xref="S5.p8.7.m7.3.3.1.1.3.1.cmml">}</mo></mrow><mo id="S5.p8.7.m7.4.4.2.4" lspace="0em" rspace="0em" xref="S5.p8.7.m7.4.4.3.1.cmml">|</mo><mrow id="S5.p8.7.m7.4.4.2.2" xref="S5.p8.7.m7.4.4.2.2.cmml"><mi id="S5.p8.7.m7.4.4.2.2.2" xref="S5.p8.7.m7.4.4.2.2.2.cmml">t</mi><mo id="S5.p8.7.m7.4.4.2.2.1" xref="S5.p8.7.m7.4.4.2.2.1.cmml">∈</mo><mrow id="S5.p8.7.m7.4.4.2.2.3.2" xref="S5.p8.7.m7.4.4.2.2.3.1.cmml"><mo id="S5.p8.7.m7.4.4.2.2.3.2.1" stretchy="false" xref="S5.p8.7.m7.4.4.2.2.3.1.1.cmml">[</mo><mi id="S5.p8.7.m7.2.2" xref="S5.p8.7.m7.2.2.cmml">N</mi><mo id="S5.p8.7.m7.4.4.2.2.3.2.2" stretchy="false" xref="S5.p8.7.m7.4.4.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S5.p8.7.m7.4.4.2.5" stretchy="false" xref="S5.p8.7.m7.4.4.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p8.7.m7.4b"><apply id="S5.p8.7.m7.4.4.3.cmml" xref="S5.p8.7.m7.4.4.2"><csymbol cd="latexml" id="S5.p8.7.m7.4.4.3.1.cmml" xref="S5.p8.7.m7.4.4.2.3">conditional-set</csymbol><apply id="S5.p8.7.m7.3.3.1.1.3.cmml" xref="S5.p8.7.m7.3.3.1.1.2"><csymbol cd="latexml" id="S5.p8.7.m7.3.3.1.1.3.1.cmml" xref="S5.p8.7.m7.3.3.1.1.2.3">conditional-set</csymbol><vector id="S5.p8.7.m7.3.3.1.1.1.1.4.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.3"><apply id="S5.p8.7.m7.3.3.1.1.1.1.1.1.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.p8.7.m7.3.3.1.1.1.1.1.1.1.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.1.1">superscript</csymbol><ci id="S5.p8.7.m7.3.3.1.1.1.1.1.1.2.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.1.1.2">𝑢</ci><ci id="S5.p8.7.m7.3.3.1.1.1.1.1.1.3.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S5.p8.7.m7.3.3.1.1.1.1.2.2.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S5.p8.7.m7.3.3.1.1.1.1.2.2.1.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2">subscript</csymbol><apply id="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.1.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2">superscript</csymbol><ci id="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.2.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.2">𝑣</ci><ci id="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.3.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2.2.3">𝑡</ci></apply><ci id="S5.p8.7.m7.3.3.1.1.1.1.2.2.3.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.2.2.3">𝑘</ci></apply><apply id="S5.p8.7.m7.3.3.1.1.1.1.3.3.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S5.p8.7.m7.3.3.1.1.1.1.3.3.1.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3">subscript</csymbol><apply id="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.1.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3">superscript</csymbol><ci id="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.2.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.2">𝐿</ci><ci id="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.3.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3.2.3">𝑡</ci></apply><ci id="S5.p8.7.m7.3.3.1.1.1.1.3.3.3.cmml" xref="S5.p8.7.m7.3.3.1.1.1.1.3.3.3">𝑘</ci></apply></vector><apply id="S5.p8.7.m7.3.3.1.1.2.2.cmml" xref="S5.p8.7.m7.3.3.1.1.2.2"><in id="S5.p8.7.m7.3.3.1.1.2.2.1.cmml" xref="S5.p8.7.m7.3.3.1.1.2.2.1"></in><ci id="S5.p8.7.m7.3.3.1.1.2.2.2.cmml" xref="S5.p8.7.m7.3.3.1.1.2.2.2">𝑘</ci><apply id="S5.p8.7.m7.3.3.1.1.2.2.3.1.cmml" xref="S5.p8.7.m7.3.3.1.1.2.2.3.2"><csymbol cd="latexml" id="S5.p8.7.m7.3.3.1.1.2.2.3.1.1.cmml" xref="S5.p8.7.m7.3.3.1.1.2.2.3.2.1">delimited-[]</csymbol><ci id="S5.p8.7.m7.1.1.cmml" xref="S5.p8.7.m7.1.1">𝑀</ci></apply></apply></apply><apply id="S5.p8.7.m7.4.4.2.2.cmml" xref="S5.p8.7.m7.4.4.2.2"><in id="S5.p8.7.m7.4.4.2.2.1.cmml" xref="S5.p8.7.m7.4.4.2.2.1"></in><ci id="S5.p8.7.m7.4.4.2.2.2.cmml" xref="S5.p8.7.m7.4.4.2.2.2">𝑡</ci><apply id="S5.p8.7.m7.4.4.2.2.3.1.cmml" xref="S5.p8.7.m7.4.4.2.2.3.2"><csymbol cd="latexml" id="S5.p8.7.m7.4.4.2.2.3.1.1.cmml" xref="S5.p8.7.m7.4.4.2.2.3.2.1">delimited-[]</csymbol><ci id="S5.p8.7.m7.2.2.cmml" xref="S5.p8.7.m7.2.2">𝑁</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.7.m7.4c">\{\{(u^{t},v^{t}_{k},L^{t}_{k})|k\in[M]\}|t\in[N]\}</annotation><annotation encoding="application/x-llamapun" id="S5.p8.7.m7.4d">{ { ( italic_u start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , italic_v start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_L start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) | italic_k ∈ [ italic_M ] } | italic_t ∈ [ italic_N ] }</annotation></semantics></math>, where <math alttext="N" class="ltx_Math" display="inline" id="S5.p8.8.m8.1"><semantics id="S5.p8.8.m8.1a"><mi id="S5.p8.8.m8.1.1" xref="S5.p8.8.m8.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S5.p8.8.m8.1b"><ci id="S5.p8.8.m8.1.1.cmml" xref="S5.p8.8.m8.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.8.m8.1c">N</annotation><annotation encoding="application/x-llamapun" id="S5.p8.8.m8.1d">italic_N</annotation></semantics></math> is the total number of collected requests, we can use any supervised learning or Learning to Rank (LTR) algorithm to learn a model with the goal of correctly ranking items <math alttext="\{(u^{t},v^{t}_{k},L^{t}_{k})|k\in[M]\}" class="ltx_Math" display="inline" id="S5.p8.9.m9.3"><semantics id="S5.p8.9.m9.3a"><mrow id="S5.p8.9.m9.3.3.2" xref="S5.p8.9.m9.3.3.3.cmml"><mo id="S5.p8.9.m9.3.3.2.3" stretchy="false" xref="S5.p8.9.m9.3.3.3.1.cmml">{</mo><mrow id="S5.p8.9.m9.2.2.1.1.3" xref="S5.p8.9.m9.2.2.1.1.4.cmml"><mo id="S5.p8.9.m9.2.2.1.1.3.4" stretchy="false" xref="S5.p8.9.m9.2.2.1.1.4.cmml">(</mo><msup id="S5.p8.9.m9.2.2.1.1.1.1" xref="S5.p8.9.m9.2.2.1.1.1.1.cmml"><mi id="S5.p8.9.m9.2.2.1.1.1.1.2" xref="S5.p8.9.m9.2.2.1.1.1.1.2.cmml">u</mi><mi id="S5.p8.9.m9.2.2.1.1.1.1.3" xref="S5.p8.9.m9.2.2.1.1.1.1.3.cmml">t</mi></msup><mo id="S5.p8.9.m9.2.2.1.1.3.5" xref="S5.p8.9.m9.2.2.1.1.4.cmml">,</mo><msubsup id="S5.p8.9.m9.2.2.1.1.2.2" xref="S5.p8.9.m9.2.2.1.1.2.2.cmml"><mi id="S5.p8.9.m9.2.2.1.1.2.2.2.2" xref="S5.p8.9.m9.2.2.1.1.2.2.2.2.cmml">v</mi><mi id="S5.p8.9.m9.2.2.1.1.2.2.3" xref="S5.p8.9.m9.2.2.1.1.2.2.3.cmml">k</mi><mi id="S5.p8.9.m9.2.2.1.1.2.2.2.3" xref="S5.p8.9.m9.2.2.1.1.2.2.2.3.cmml">t</mi></msubsup><mo id="S5.p8.9.m9.2.2.1.1.3.6" xref="S5.p8.9.m9.2.2.1.1.4.cmml">,</mo><msubsup id="S5.p8.9.m9.2.2.1.1.3.3" xref="S5.p8.9.m9.2.2.1.1.3.3.cmml"><mi id="S5.p8.9.m9.2.2.1.1.3.3.2.2" xref="S5.p8.9.m9.2.2.1.1.3.3.2.2.cmml">L</mi><mi id="S5.p8.9.m9.2.2.1.1.3.3.3" xref="S5.p8.9.m9.2.2.1.1.3.3.3.cmml">k</mi><mi id="S5.p8.9.m9.2.2.1.1.3.3.2.3" xref="S5.p8.9.m9.2.2.1.1.3.3.2.3.cmml">t</mi></msubsup><mo id="S5.p8.9.m9.2.2.1.1.3.7" stretchy="false" xref="S5.p8.9.m9.2.2.1.1.4.cmml">)</mo></mrow><mo id="S5.p8.9.m9.3.3.2.4" lspace="0em" rspace="0em" xref="S5.p8.9.m9.3.3.3.1.cmml">|</mo><mrow id="S5.p8.9.m9.3.3.2.2" xref="S5.p8.9.m9.3.3.2.2.cmml"><mi id="S5.p8.9.m9.3.3.2.2.2" xref="S5.p8.9.m9.3.3.2.2.2.cmml">k</mi><mo id="S5.p8.9.m9.3.3.2.2.1" xref="S5.p8.9.m9.3.3.2.2.1.cmml">∈</mo><mrow id="S5.p8.9.m9.3.3.2.2.3.2" xref="S5.p8.9.m9.3.3.2.2.3.1.cmml"><mo id="S5.p8.9.m9.3.3.2.2.3.2.1" stretchy="false" xref="S5.p8.9.m9.3.3.2.2.3.1.1.cmml">[</mo><mi id="S5.p8.9.m9.1.1" xref="S5.p8.9.m9.1.1.cmml">M</mi><mo id="S5.p8.9.m9.3.3.2.2.3.2.2" stretchy="false" xref="S5.p8.9.m9.3.3.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S5.p8.9.m9.3.3.2.5" stretchy="false" xref="S5.p8.9.m9.3.3.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p8.9.m9.3b"><apply id="S5.p8.9.m9.3.3.3.cmml" xref="S5.p8.9.m9.3.3.2"><csymbol cd="latexml" id="S5.p8.9.m9.3.3.3.1.cmml" xref="S5.p8.9.m9.3.3.2.3">conditional-set</csymbol><vector id="S5.p8.9.m9.2.2.1.1.4.cmml" xref="S5.p8.9.m9.2.2.1.1.3"><apply id="S5.p8.9.m9.2.2.1.1.1.1.cmml" xref="S5.p8.9.m9.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S5.p8.9.m9.2.2.1.1.1.1.1.cmml" xref="S5.p8.9.m9.2.2.1.1.1.1">superscript</csymbol><ci id="S5.p8.9.m9.2.2.1.1.1.1.2.cmml" xref="S5.p8.9.m9.2.2.1.1.1.1.2">𝑢</ci><ci id="S5.p8.9.m9.2.2.1.1.1.1.3.cmml" xref="S5.p8.9.m9.2.2.1.1.1.1.3">𝑡</ci></apply><apply id="S5.p8.9.m9.2.2.1.1.2.2.cmml" xref="S5.p8.9.m9.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S5.p8.9.m9.2.2.1.1.2.2.1.cmml" xref="S5.p8.9.m9.2.2.1.1.2.2">subscript</csymbol><apply id="S5.p8.9.m9.2.2.1.1.2.2.2.cmml" xref="S5.p8.9.m9.2.2.1.1.2.2"><csymbol cd="ambiguous" id="S5.p8.9.m9.2.2.1.1.2.2.2.1.cmml" xref="S5.p8.9.m9.2.2.1.1.2.2">superscript</csymbol><ci id="S5.p8.9.m9.2.2.1.1.2.2.2.2.cmml" xref="S5.p8.9.m9.2.2.1.1.2.2.2.2">𝑣</ci><ci id="S5.p8.9.m9.2.2.1.1.2.2.2.3.cmml" xref="S5.p8.9.m9.2.2.1.1.2.2.2.3">𝑡</ci></apply><ci id="S5.p8.9.m9.2.2.1.1.2.2.3.cmml" xref="S5.p8.9.m9.2.2.1.1.2.2.3">𝑘</ci></apply><apply id="S5.p8.9.m9.2.2.1.1.3.3.cmml" xref="S5.p8.9.m9.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S5.p8.9.m9.2.2.1.1.3.3.1.cmml" xref="S5.p8.9.m9.2.2.1.1.3.3">subscript</csymbol><apply id="S5.p8.9.m9.2.2.1.1.3.3.2.cmml" xref="S5.p8.9.m9.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S5.p8.9.m9.2.2.1.1.3.3.2.1.cmml" xref="S5.p8.9.m9.2.2.1.1.3.3">superscript</csymbol><ci id="S5.p8.9.m9.2.2.1.1.3.3.2.2.cmml" xref="S5.p8.9.m9.2.2.1.1.3.3.2.2">𝐿</ci><ci id="S5.p8.9.m9.2.2.1.1.3.3.2.3.cmml" xref="S5.p8.9.m9.2.2.1.1.3.3.2.3">𝑡</ci></apply><ci id="S5.p8.9.m9.2.2.1.1.3.3.3.cmml" xref="S5.p8.9.m9.2.2.1.1.3.3.3">𝑘</ci></apply></vector><apply id="S5.p8.9.m9.3.3.2.2.cmml" xref="S5.p8.9.m9.3.3.2.2"><in id="S5.p8.9.m9.3.3.2.2.1.cmml" xref="S5.p8.9.m9.3.3.2.2.1"></in><ci id="S5.p8.9.m9.3.3.2.2.2.cmml" xref="S5.p8.9.m9.3.3.2.2.2">𝑘</ci><apply id="S5.p8.9.m9.3.3.2.2.3.1.cmml" xref="S5.p8.9.m9.3.3.2.2.3.2"><csymbol cd="latexml" id="S5.p8.9.m9.3.3.2.2.3.1.1.cmml" xref="S5.p8.9.m9.3.3.2.2.3.2.1">delimited-[]</csymbol><ci id="S5.p8.9.m9.1.1.cmml" xref="S5.p8.9.m9.1.1">𝑀</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p8.9.m9.3c">\{(u^{t},v^{t}_{k},L^{t}_{k})|k\in[M]\}</annotation><annotation encoding="application/x-llamapun" id="S5.p8.9.m9.3d">{ ( italic_u start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , italic_v start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_L start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) | italic_k ∈ [ italic_M ] }</annotation></semantics></math> in each request, for example Lambda Rank <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">burges2006learning</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">burges2010ranknet</span>]</cite>.</p>
</div>
<div class="ltx_para" id="S5.p9">
<p class="ltx_p" id="S5.p9.4">At stage <math alttext="i" class="ltx_Math" display="inline" id="S5.p9.1.m1.1"><semantics id="S5.p9.1.m1.1a"><mi id="S5.p9.1.m1.1.1" xref="S5.p9.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.p9.1.m1.1b"><ci id="S5.p9.1.m1.1.1.cmml" xref="S5.p9.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p9.1.m1.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.p9.1.m1.1d">italic_i</annotation></semantics></math>, since we only care about the selection bias of stages after <math alttext="i" class="ltx_Math" display="inline" id="S5.p9.2.m2.1"><semantics id="S5.p9.2.m2.1a"><mi id="S5.p9.2.m2.1.1" xref="S5.p9.2.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.p9.2.m2.1b"><ci id="S5.p9.2.m2.1.1.cmml" xref="S5.p9.2.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p9.2.m2.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.p9.2.m2.1d">italic_i</annotation></semantics></math> and users’ underlying interest, the collected data at stage <math alttext="i" class="ltx_Math" display="inline" id="S5.p9.3.m3.1"><semantics id="S5.p9.3.m3.1a"><mi id="S5.p9.3.m3.1.1" xref="S5.p9.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.p9.3.m3.1b"><ci id="S5.p9.3.m3.1.1.cmml" xref="S5.p9.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p9.3.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.p9.3.m3.1d">italic_i</annotation></semantics></math> and before stage <math alttext="i" class="ltx_Math" display="inline" id="S5.p9.4.m4.1"><semantics id="S5.p9.4.m4.1a"><mi id="S5.p9.4.m4.1.1" xref="S5.p9.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.p9.4.m4.1b"><ci id="S5.p9.4.m4.1.1.cmml" xref="S5.p9.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p9.4.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S5.p9.4.m4.1d">italic_i</annotation></semantics></math> seems useless. However, from the view of consistency between training and serving, it will be better to use them duration training. For example when serving at retrieval stage, we use the learned model to predict scores for all items. Therefore, it will help a lot to add some random samples from the candidate pool during training. The same reasoning applies at other stages. What’s more, we can also add the collected data at any other previous stage duration training, which can be regarded as an auxiliary training task and may help learn the model better. Note using data in previous stages doesn’t influence the near consistency between our algorithm and GPRP.</p>
</div>
<div class="ltx_para" id="S5.p10">
<p class="ltx_p" id="S5.p10.3">The final algorithmic framework including training and inference is given in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#algorithm1" title="In 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a>. Since we need collect data from full stages of a system and use LTR algorithm as our backbone, we name our algorithmic framework as Full Stage Learning to Rank, FS-LTR in short. When <math alttext="S_{k}^{t}=0" class="ltx_Math" display="inline" id="S5.p10.1.m1.1"><semantics id="S5.p10.1.m1.1a"><mrow id="S5.p10.1.m1.1.1" xref="S5.p10.1.m1.1.1.cmml"><msubsup id="S5.p10.1.m1.1.1.2" xref="S5.p10.1.m1.1.1.2.cmml"><mi id="S5.p10.1.m1.1.1.2.2.2" xref="S5.p10.1.m1.1.1.2.2.2.cmml">S</mi><mi id="S5.p10.1.m1.1.1.2.2.3" xref="S5.p10.1.m1.1.1.2.2.3.cmml">k</mi><mi id="S5.p10.1.m1.1.1.2.3" xref="S5.p10.1.m1.1.1.2.3.cmml">t</mi></msubsup><mo id="S5.p10.1.m1.1.1.1" xref="S5.p10.1.m1.1.1.1.cmml">=</mo><mn id="S5.p10.1.m1.1.1.3" xref="S5.p10.1.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.p10.1.m1.1b"><apply id="S5.p10.1.m1.1.1.cmml" xref="S5.p10.1.m1.1.1"><eq id="S5.p10.1.m1.1.1.1.cmml" xref="S5.p10.1.m1.1.1.1"></eq><apply id="S5.p10.1.m1.1.1.2.cmml" xref="S5.p10.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.p10.1.m1.1.1.2.1.cmml" xref="S5.p10.1.m1.1.1.2">superscript</csymbol><apply id="S5.p10.1.m1.1.1.2.2.cmml" xref="S5.p10.1.m1.1.1.2"><csymbol cd="ambiguous" id="S5.p10.1.m1.1.1.2.2.1.cmml" xref="S5.p10.1.m1.1.1.2">subscript</csymbol><ci id="S5.p10.1.m1.1.1.2.2.2.cmml" xref="S5.p10.1.m1.1.1.2.2.2">𝑆</ci><ci id="S5.p10.1.m1.1.1.2.2.3.cmml" xref="S5.p10.1.m1.1.1.2.2.3">𝑘</ci></apply><ci id="S5.p10.1.m1.1.1.2.3.cmml" xref="S5.p10.1.m1.1.1.2.3">𝑡</ci></apply><cn id="S5.p10.1.m1.1.1.3.cmml" type="integer" xref="S5.p10.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p10.1.m1.1c">S_{k}^{t}=0</annotation><annotation encoding="application/x-llamapun" id="S5.p10.1.m1.1d">italic_S start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT = 0</annotation></semantics></math> in Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#algorithm1" title="In 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a>, it means the item <math alttext="v_{k}^{t}" class="ltx_Math" display="inline" id="S5.p10.2.m2.1"><semantics id="S5.p10.2.m2.1a"><msubsup id="S5.p10.2.m2.1.1" xref="S5.p10.2.m2.1.1.cmml"><mi id="S5.p10.2.m2.1.1.2.2" xref="S5.p10.2.m2.1.1.2.2.cmml">v</mi><mi id="S5.p10.2.m2.1.1.2.3" xref="S5.p10.2.m2.1.1.2.3.cmml">k</mi><mi id="S5.p10.2.m2.1.1.3" xref="S5.p10.2.m2.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S5.p10.2.m2.1b"><apply id="S5.p10.2.m2.1.1.cmml" xref="S5.p10.2.m2.1.1"><csymbol cd="ambiguous" id="S5.p10.2.m2.1.1.1.cmml" xref="S5.p10.2.m2.1.1">superscript</csymbol><apply id="S5.p10.2.m2.1.1.2.cmml" xref="S5.p10.2.m2.1.1"><csymbol cd="ambiguous" id="S5.p10.2.m2.1.1.2.1.cmml" xref="S5.p10.2.m2.1.1">subscript</csymbol><ci id="S5.p10.2.m2.1.1.2.2.cmml" xref="S5.p10.2.m2.1.1.2.2">𝑣</ci><ci id="S5.p10.2.m2.1.1.2.3.cmml" xref="S5.p10.2.m2.1.1.2.3">𝑘</ci></apply><ci id="S5.p10.2.m2.1.1.3.cmml" xref="S5.p10.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p10.2.m2.1c">v_{k}^{t}</annotation><annotation encoding="application/x-llamapun" id="S5.p10.2.m2.1d">italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT</annotation></semantics></math> is randomly sampled from <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S5.p10.3.m3.1"><semantics id="S5.p10.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S5.p10.3.m3.1.1" xref="S5.p10.3.m3.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S5.p10.3.m3.1b"><ci id="S5.p10.3.m3.1.1.cmml" xref="S5.p10.3.m3.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p10.3.m3.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S5.p10.3.m3.1d">caligraphic_I</annotation></semantics></math>.</p>
</div>
<figure class="ltx_float ltx_algorithm" id="algorithm1">
<div class="ltx_listing ltx_lst_numbers_left ltx_listing" id="algorithm1.15">
<div class="ltx_listingline" id="algorithm1.15.16">
<span class="ltx_tag ltx_tag_listingline">1</span>
<span class="ltx_text ltx_font_bold" id="algorithm1.15.16.1">Training:</span>
</div>
<div class="ltx_listingline" id="algorithm1.4.4">
<span class="ltx_text" id="algorithm1.4.4.1"><span class="ltx_text ltx_font_bold" id="algorithm1.4.4.1.1">Input:</span> </span>
Initialized model parameter <math alttext="\theta" class="ltx_Math" display="inline" id="algorithm1.1.1.m1.1"><semantics id="algorithm1.1.1.m1.1a"><mi id="algorithm1.1.1.m1.1.1" xref="algorithm1.1.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="algorithm1.1.1.m1.1b"><ci id="algorithm1.1.1.m1.1.1.cmml" xref="algorithm1.1.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.1.1.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="algorithm1.1.1.m1.1d">italic_θ</annotation></semantics></math>, manually defined labels <math alttext="\{z_{i}|i\in[0,5]\}" class="ltx_Math" display="inline" id="algorithm1.2.2.m2.4"><semantics id="algorithm1.2.2.m2.4a"><mrow id="algorithm1.2.2.m2.4.4.2" xref="algorithm1.2.2.m2.4.4.3.cmml"><mo id="algorithm1.2.2.m2.4.4.2.3" stretchy="false" xref="algorithm1.2.2.m2.4.4.3.1.cmml">{</mo><msub id="algorithm1.2.2.m2.3.3.1.1" xref="algorithm1.2.2.m2.3.3.1.1.cmml"><mi id="algorithm1.2.2.m2.3.3.1.1.2" xref="algorithm1.2.2.m2.3.3.1.1.2.cmml">z</mi><mi id="algorithm1.2.2.m2.3.3.1.1.3" xref="algorithm1.2.2.m2.3.3.1.1.3.cmml">i</mi></msub><mo id="algorithm1.2.2.m2.4.4.2.4" lspace="0em" rspace="0em" xref="algorithm1.2.2.m2.4.4.3.1.cmml">|</mo><mrow id="algorithm1.2.2.m2.4.4.2.2" xref="algorithm1.2.2.m2.4.4.2.2.cmml"><mi id="algorithm1.2.2.m2.4.4.2.2.2" xref="algorithm1.2.2.m2.4.4.2.2.2.cmml">i</mi><mo id="algorithm1.2.2.m2.4.4.2.2.1" xref="algorithm1.2.2.m2.4.4.2.2.1.cmml">∈</mo><mrow id="algorithm1.2.2.m2.4.4.2.2.3.2" xref="algorithm1.2.2.m2.4.4.2.2.3.1.cmml"><mo id="algorithm1.2.2.m2.4.4.2.2.3.2.1" stretchy="false" xref="algorithm1.2.2.m2.4.4.2.2.3.1.cmml">[</mo><mn id="algorithm1.2.2.m2.1.1" xref="algorithm1.2.2.m2.1.1.cmml">0</mn><mo id="algorithm1.2.2.m2.4.4.2.2.3.2.2" xref="algorithm1.2.2.m2.4.4.2.2.3.1.cmml">,</mo><mn id="algorithm1.2.2.m2.2.2" xref="algorithm1.2.2.m2.2.2.cmml">5</mn><mo id="algorithm1.2.2.m2.4.4.2.2.3.2.3" stretchy="false" xref="algorithm1.2.2.m2.4.4.2.2.3.1.cmml">]</mo></mrow></mrow><mo id="algorithm1.2.2.m2.4.4.2.5" stretchy="false" xref="algorithm1.2.2.m2.4.4.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.2.2.m2.4b"><apply id="algorithm1.2.2.m2.4.4.3.cmml" xref="algorithm1.2.2.m2.4.4.2"><csymbol cd="latexml" id="algorithm1.2.2.m2.4.4.3.1.cmml" xref="algorithm1.2.2.m2.4.4.2.3">conditional-set</csymbol><apply id="algorithm1.2.2.m2.3.3.1.1.cmml" xref="algorithm1.2.2.m2.3.3.1.1"><csymbol cd="ambiguous" id="algorithm1.2.2.m2.3.3.1.1.1.cmml" xref="algorithm1.2.2.m2.3.3.1.1">subscript</csymbol><ci id="algorithm1.2.2.m2.3.3.1.1.2.cmml" xref="algorithm1.2.2.m2.3.3.1.1.2">𝑧</ci><ci id="algorithm1.2.2.m2.3.3.1.1.3.cmml" xref="algorithm1.2.2.m2.3.3.1.1.3">𝑖</ci></apply><apply id="algorithm1.2.2.m2.4.4.2.2.cmml" xref="algorithm1.2.2.m2.4.4.2.2"><in id="algorithm1.2.2.m2.4.4.2.2.1.cmml" xref="algorithm1.2.2.m2.4.4.2.2.1"></in><ci id="algorithm1.2.2.m2.4.4.2.2.2.cmml" xref="algorithm1.2.2.m2.4.4.2.2.2">𝑖</ci><interval closure="closed" id="algorithm1.2.2.m2.4.4.2.2.3.1.cmml" xref="algorithm1.2.2.m2.4.4.2.2.3.2"><cn id="algorithm1.2.2.m2.1.1.cmml" type="integer" xref="algorithm1.2.2.m2.1.1">0</cn><cn id="algorithm1.2.2.m2.2.2.cmml" type="integer" xref="algorithm1.2.2.m2.2.2">5</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.2.2.m2.4c">\{z_{i}|i\in[0,5]\}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.2.2.m2.4d">{ italic_z start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_i ∈ [ 0 , 5 ] }</annotation></semantics></math> and original data-set <math alttext="\{\{(u^{t},v^{t}_{k},S^{t}_{k},\bar{Y}_{k}^{t})|k\in[M],S^{t}_{k}\geq j\}|t\in%
[N]\}" class="ltx_Math" display="inline" id="algorithm1.3.3.m3.4"><semantics id="algorithm1.3.3.m3.4a"><mrow id="algorithm1.3.3.m3.4.4.2" xref="algorithm1.3.3.m3.4.4.3.cmml"><mo id="algorithm1.3.3.m3.4.4.2.3" stretchy="false" xref="algorithm1.3.3.m3.4.4.3.1.cmml">{</mo><mrow id="algorithm1.3.3.m3.3.3.1.1.2" xref="algorithm1.3.3.m3.3.3.1.1.3.cmml"><mo id="algorithm1.3.3.m3.3.3.1.1.2.3" stretchy="false" xref="algorithm1.3.3.m3.3.3.1.1.3.1.cmml">{</mo><mrow id="algorithm1.3.3.m3.3.3.1.1.1.1.4" xref="algorithm1.3.3.m3.3.3.1.1.1.1.5.cmml"><mo id="algorithm1.3.3.m3.3.3.1.1.1.1.4.5" stretchy="false" xref="algorithm1.3.3.m3.3.3.1.1.1.1.5.cmml">(</mo><msup id="algorithm1.3.3.m3.3.3.1.1.1.1.1.1" xref="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.cmml"><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.2" xref="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.2.cmml">u</mi><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.3" xref="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.3.cmml">t</mi></msup><mo id="algorithm1.3.3.m3.3.3.1.1.1.1.4.6" xref="algorithm1.3.3.m3.3.3.1.1.1.1.5.cmml">,</mo><msubsup id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.cmml"><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.2" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.2.cmml">v</mi><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.3" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.3.cmml">k</mi><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.3" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.3.cmml">t</mi></msubsup><mo id="algorithm1.3.3.m3.3.3.1.1.1.1.4.7" xref="algorithm1.3.3.m3.3.3.1.1.1.1.5.cmml">,</mo><msubsup id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.cmml"><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.2" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.2.cmml">S</mi><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.3" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.3.cmml">k</mi><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.3" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.3.cmml">t</mi></msubsup><mo id="algorithm1.3.3.m3.3.3.1.1.1.1.4.8" xref="algorithm1.3.3.m3.3.3.1.1.1.1.5.cmml">,</mo><msubsup id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.cmml"><mover accent="true" id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.cmml"><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.2" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.2.cmml">Y</mi><mo id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.1" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.1.cmml">¯</mo></mover><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.3" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.3.cmml">k</mi><mi id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.3" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.3.cmml">t</mi></msubsup><mo id="algorithm1.3.3.m3.3.3.1.1.1.1.4.9" stretchy="false" xref="algorithm1.3.3.m3.3.3.1.1.1.1.5.cmml">)</mo></mrow><mo id="algorithm1.3.3.m3.3.3.1.1.2.4" lspace="0em" rspace="0em" xref="algorithm1.3.3.m3.3.3.1.1.3.1.cmml">|</mo><mrow id="algorithm1.3.3.m3.3.3.1.1.2.2.2" xref="algorithm1.3.3.m3.3.3.1.1.2.2.3.cmml"><mrow id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.cmml"><mi id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.2" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.2.cmml">k</mi><mo id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.1" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.1.cmml">∈</mo><mrow id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.2" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.1.cmml"><mo id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.2.1" stretchy="false" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.1.1.cmml">[</mo><mi id="algorithm1.3.3.m3.1.1" xref="algorithm1.3.3.m3.1.1.cmml">M</mi><mo id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.2.2" stretchy="false" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo id="algorithm1.3.3.m3.3.3.1.1.2.2.2.3" xref="algorithm1.3.3.m3.3.3.1.1.2.2.3a.cmml">,</mo><mrow id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.cmml"><msubsup id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.cmml"><mi id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.2" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.2.cmml">S</mi><mi id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.3" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.3.cmml">k</mi><mi id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.3" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.3.cmml">t</mi></msubsup><mo id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.1" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.1.cmml">≥</mo><mi id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.3" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.3.cmml">j</mi></mrow></mrow><mo id="algorithm1.3.3.m3.3.3.1.1.2.5" stretchy="false" xref="algorithm1.3.3.m3.3.3.1.1.3.1.cmml">}</mo></mrow><mo id="algorithm1.3.3.m3.4.4.2.4" lspace="0em" rspace="0em" xref="algorithm1.3.3.m3.4.4.3.1.cmml">|</mo><mrow id="algorithm1.3.3.m3.4.4.2.2" xref="algorithm1.3.3.m3.4.4.2.2.cmml"><mi id="algorithm1.3.3.m3.4.4.2.2.2" xref="algorithm1.3.3.m3.4.4.2.2.2.cmml">t</mi><mo id="algorithm1.3.3.m3.4.4.2.2.1" xref="algorithm1.3.3.m3.4.4.2.2.1.cmml">∈</mo><mrow id="algorithm1.3.3.m3.4.4.2.2.3.2" xref="algorithm1.3.3.m3.4.4.2.2.3.1.cmml"><mo id="algorithm1.3.3.m3.4.4.2.2.3.2.1" stretchy="false" xref="algorithm1.3.3.m3.4.4.2.2.3.1.1.cmml">[</mo><mi id="algorithm1.3.3.m3.2.2" xref="algorithm1.3.3.m3.2.2.cmml">N</mi><mo id="algorithm1.3.3.m3.4.4.2.2.3.2.2" stretchy="false" xref="algorithm1.3.3.m3.4.4.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="algorithm1.3.3.m3.4.4.2.5" stretchy="false" xref="algorithm1.3.3.m3.4.4.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.3.3.m3.4b"><apply id="algorithm1.3.3.m3.4.4.3.cmml" xref="algorithm1.3.3.m3.4.4.2"><csymbol cd="latexml" id="algorithm1.3.3.m3.4.4.3.1.cmml" xref="algorithm1.3.3.m3.4.4.2.3">conditional-set</csymbol><apply id="algorithm1.3.3.m3.3.3.1.1.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2"><csymbol cd="latexml" id="algorithm1.3.3.m3.3.3.1.1.3.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.3">conditional-set</csymbol><vector id="algorithm1.3.3.m3.3.3.1.1.1.1.5.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4"><apply id="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.1.1">superscript</csymbol><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.2">𝑢</ci><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2">subscript</csymbol><apply id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2">superscript</csymbol><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.2">𝑣</ci><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.2.3">𝑡</ci></apply><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.2.2.3">𝑘</ci></apply><apply id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3">subscript</csymbol><apply id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3">superscript</csymbol><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.2">𝑆</ci><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.2.3">𝑡</ci></apply><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.3.3.3">𝑘</ci></apply><apply id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4">superscript</csymbol><apply id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4">subscript</csymbol><apply id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2"><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.1">¯</ci><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.2.2">𝑌</ci></apply><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.2.3">𝑘</ci></apply><ci id="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.1.1.4.4.3">𝑡</ci></apply></vector><apply id="algorithm1.3.3.m3.3.3.1.1.2.2.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.2.2.3a.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.3">formulae-sequence</csymbol><apply id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1"><in id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.1"></in><ci id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.2">𝑘</ci><apply id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.2"><csymbol cd="latexml" id="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.1.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.1.1.3.2.1">delimited-[]</csymbol><ci id="algorithm1.3.3.m3.1.1.cmml" xref="algorithm1.3.3.m3.1.1">𝑀</ci></apply></apply><apply id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2"><geq id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.1"></geq><apply id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2">subscript</csymbol><apply id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.1.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2">superscript</csymbol><ci id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.2.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.2">𝑆</ci><ci id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.2.3">𝑡</ci></apply><ci id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.2.3">𝑘</ci></apply><ci id="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.3.cmml" xref="algorithm1.3.3.m3.3.3.1.1.2.2.2.2.3">𝑗</ci></apply></apply></apply><apply id="algorithm1.3.3.m3.4.4.2.2.cmml" xref="algorithm1.3.3.m3.4.4.2.2"><in id="algorithm1.3.3.m3.4.4.2.2.1.cmml" xref="algorithm1.3.3.m3.4.4.2.2.1"></in><ci id="algorithm1.3.3.m3.4.4.2.2.2.cmml" xref="algorithm1.3.3.m3.4.4.2.2.2">𝑡</ci><apply id="algorithm1.3.3.m3.4.4.2.2.3.1.cmml" xref="algorithm1.3.3.m3.4.4.2.2.3.2"><csymbol cd="latexml" id="algorithm1.3.3.m3.4.4.2.2.3.1.1.cmml" xref="algorithm1.3.3.m3.4.4.2.2.3.2.1">delimited-[]</csymbol><ci id="algorithm1.3.3.m3.2.2.cmml" xref="algorithm1.3.3.m3.2.2">𝑁</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.3.3.m3.4c">\{\{(u^{t},v^{t}_{k},S^{t}_{k},\bar{Y}_{k}^{t})|k\in[M],S^{t}_{k}\geq j\}|t\in%
[N]\}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.3.3.m3.4d">{ { ( italic_u start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT , italic_v start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , italic_S start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT , over¯ start_ARG italic_Y end_ARG start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT ) | italic_k ∈ [ italic_M ] , italic_S start_POSTSUPERSCRIPT italic_t end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ≥ italic_j } | italic_t ∈ [ italic_N ] }</annotation></semantics></math>, where <math alttext="j\in[0,i+1]" class="ltx_Math" display="inline" id="algorithm1.4.4.m4.2"><semantics id="algorithm1.4.4.m4.2a"><mrow id="algorithm1.4.4.m4.2.2" xref="algorithm1.4.4.m4.2.2.cmml"><mi id="algorithm1.4.4.m4.2.2.3" xref="algorithm1.4.4.m4.2.2.3.cmml">j</mi><mo id="algorithm1.4.4.m4.2.2.2" xref="algorithm1.4.4.m4.2.2.2.cmml">∈</mo><mrow id="algorithm1.4.4.m4.2.2.1.1" xref="algorithm1.4.4.m4.2.2.1.2.cmml"><mo id="algorithm1.4.4.m4.2.2.1.1.2" stretchy="false" xref="algorithm1.4.4.m4.2.2.1.2.cmml">[</mo><mn id="algorithm1.4.4.m4.1.1" xref="algorithm1.4.4.m4.1.1.cmml">0</mn><mo id="algorithm1.4.4.m4.2.2.1.1.3" xref="algorithm1.4.4.m4.2.2.1.2.cmml">,</mo><mrow id="algorithm1.4.4.m4.2.2.1.1.1" xref="algorithm1.4.4.m4.2.2.1.1.1.cmml"><mi id="algorithm1.4.4.m4.2.2.1.1.1.2" xref="algorithm1.4.4.m4.2.2.1.1.1.2.cmml">i</mi><mo id="algorithm1.4.4.m4.2.2.1.1.1.1" xref="algorithm1.4.4.m4.2.2.1.1.1.1.cmml">+</mo><mn id="algorithm1.4.4.m4.2.2.1.1.1.3" xref="algorithm1.4.4.m4.2.2.1.1.1.3.cmml">1</mn></mrow><mo id="algorithm1.4.4.m4.2.2.1.1.4" stretchy="false" xref="algorithm1.4.4.m4.2.2.1.2.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.4.4.m4.2b"><apply id="algorithm1.4.4.m4.2.2.cmml" xref="algorithm1.4.4.m4.2.2"><in id="algorithm1.4.4.m4.2.2.2.cmml" xref="algorithm1.4.4.m4.2.2.2"></in><ci id="algorithm1.4.4.m4.2.2.3.cmml" xref="algorithm1.4.4.m4.2.2.3">𝑗</ci><interval closure="closed" id="algorithm1.4.4.m4.2.2.1.2.cmml" xref="algorithm1.4.4.m4.2.2.1.1"><cn id="algorithm1.4.4.m4.1.1.cmml" type="integer" xref="algorithm1.4.4.m4.1.1">0</cn><apply id="algorithm1.4.4.m4.2.2.1.1.1.cmml" xref="algorithm1.4.4.m4.2.2.1.1.1"><plus id="algorithm1.4.4.m4.2.2.1.1.1.1.cmml" xref="algorithm1.4.4.m4.2.2.1.1.1.1"></plus><ci id="algorithm1.4.4.m4.2.2.1.1.1.2.cmml" xref="algorithm1.4.4.m4.2.2.1.1.1.2">𝑖</ci><cn id="algorithm1.4.4.m4.2.2.1.1.1.3.cmml" type="integer" xref="algorithm1.4.4.m4.2.2.1.1.1.3">1</cn></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.4.4.m4.2c">j\in[0,i+1]</annotation><annotation encoding="application/x-llamapun" id="algorithm1.4.4.m4.2d">italic_j ∈ [ 0 , italic_i + 1 ]</annotation></semantics></math> is a hyper-parameter.

</div>
<div class="ltx_listingline" id="algorithm1.5.5">
<span class="ltx_text" id="algorithm1.5.5.1"><span class="ltx_text ltx_font_bold" id="algorithm1.5.5.1.1">Output:</span> </span>Model <math alttext="\hat{l}(u,v|\theta)" class="ltx_Math" display="inline" id="algorithm1.5.5.m1.2"><semantics id="algorithm1.5.5.m1.2a"><mrow id="algorithm1.5.5.m1.2.2" xref="algorithm1.5.5.m1.2.2.cmml"><mover accent="true" id="algorithm1.5.5.m1.2.2.3" xref="algorithm1.5.5.m1.2.2.3.cmml"><mi id="algorithm1.5.5.m1.2.2.3.2" xref="algorithm1.5.5.m1.2.2.3.2.cmml">l</mi><mo id="algorithm1.5.5.m1.2.2.3.1" xref="algorithm1.5.5.m1.2.2.3.1.cmml">^</mo></mover><mo id="algorithm1.5.5.m1.2.2.2" xref="algorithm1.5.5.m1.2.2.2.cmml">⁢</mo><mrow id="algorithm1.5.5.m1.2.2.1.1" xref="algorithm1.5.5.m1.2.2.1.2.cmml"><mo id="algorithm1.5.5.m1.2.2.1.1.2" stretchy="false" xref="algorithm1.5.5.m1.2.2.1.2.cmml">(</mo><mi id="algorithm1.5.5.m1.1.1" xref="algorithm1.5.5.m1.1.1.cmml">u</mi><mo id="algorithm1.5.5.m1.2.2.1.1.3" xref="algorithm1.5.5.m1.2.2.1.2.cmml">,</mo><mrow id="algorithm1.5.5.m1.2.2.1.1.1" xref="algorithm1.5.5.m1.2.2.1.1.1.cmml"><mi id="algorithm1.5.5.m1.2.2.1.1.1.2" xref="algorithm1.5.5.m1.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="algorithm1.5.5.m1.2.2.1.1.1.1" xref="algorithm1.5.5.m1.2.2.1.1.1.1.cmml">|</mo><mi id="algorithm1.5.5.m1.2.2.1.1.1.3" xref="algorithm1.5.5.m1.2.2.1.1.1.3.cmml">θ</mi></mrow><mo id="algorithm1.5.5.m1.2.2.1.1.4" stretchy="false" xref="algorithm1.5.5.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.5.5.m1.2b"><apply id="algorithm1.5.5.m1.2.2.cmml" xref="algorithm1.5.5.m1.2.2"><times id="algorithm1.5.5.m1.2.2.2.cmml" xref="algorithm1.5.5.m1.2.2.2"></times><apply id="algorithm1.5.5.m1.2.2.3.cmml" xref="algorithm1.5.5.m1.2.2.3"><ci id="algorithm1.5.5.m1.2.2.3.1.cmml" xref="algorithm1.5.5.m1.2.2.3.1">^</ci><ci id="algorithm1.5.5.m1.2.2.3.2.cmml" xref="algorithm1.5.5.m1.2.2.3.2">𝑙</ci></apply><interval closure="open" id="algorithm1.5.5.m1.2.2.1.2.cmml" xref="algorithm1.5.5.m1.2.2.1.1"><ci id="algorithm1.5.5.m1.1.1.cmml" xref="algorithm1.5.5.m1.1.1">𝑢</ci><apply id="algorithm1.5.5.m1.2.2.1.1.1.cmml" xref="algorithm1.5.5.m1.2.2.1.1.1"><csymbol cd="latexml" id="algorithm1.5.5.m1.2.2.1.1.1.1.cmml" xref="algorithm1.5.5.m1.2.2.1.1.1.1">conditional</csymbol><ci id="algorithm1.5.5.m1.2.2.1.1.1.2.cmml" xref="algorithm1.5.5.m1.2.2.1.1.1.2">𝑣</ci><ci id="algorithm1.5.5.m1.2.2.1.1.1.3.cmml" xref="algorithm1.5.5.m1.2.2.1.1.1.3">𝜃</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.5.5.m1.2c">\hat{l}(u,v|\theta)</annotation><annotation encoding="application/x-llamapun" id="algorithm1.5.5.m1.2d">over^ start_ARG italic_l end_ARG ( italic_u , italic_v | italic_θ )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.15.17">
<span class="ltx_tag ltx_tag_listingline">2</span>
</div>
<div class="ltx_listingline" id="algorithm1.6.6">
<span class="ltx_tag ltx_tag_listingline">3</span>      <span class="ltx_text ltx_font_bold" id="algorithm1.6.6.1">While <math alttext="\theta" class="ltx_Math" display="inline" id="algorithm1.6.6.1.m1.1"><semantics id="algorithm1.6.6.1.m1.1a"><mi id="algorithm1.6.6.1.m1.1.1" xref="algorithm1.6.6.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="algorithm1.6.6.1.m1.1b"><ci id="algorithm1.6.6.1.m1.1.1.cmml" xref="algorithm1.6.6.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.6.6.1.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="algorithm1.6.6.1.m1.1d">italic_θ</annotation></semantics></math> not converged</span> <span class="ltx_text ltx_font_bold" id="algorithm1.6.6.2">do</span>
</div>
<div class="ltx_listingline" id="algorithm1.7.7">
<span class="ltx_tag ltx_tag_listingline">4</span>
          sample a batch of requests from <math alttext="[N]" class="ltx_Math" display="inline" id="algorithm1.7.7.m1.1"><semantics id="algorithm1.7.7.m1.1a"><mrow id="algorithm1.7.7.m1.1.2.2" xref="algorithm1.7.7.m1.1.2.1.cmml"><mo id="algorithm1.7.7.m1.1.2.2.1" stretchy="false" xref="algorithm1.7.7.m1.1.2.1.1.cmml">[</mo><mi id="algorithm1.7.7.m1.1.1" xref="algorithm1.7.7.m1.1.1.cmml">N</mi><mo id="algorithm1.7.7.m1.1.2.2.2" stretchy="false" xref="algorithm1.7.7.m1.1.2.1.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.7.7.m1.1b"><apply id="algorithm1.7.7.m1.1.2.1.cmml" xref="algorithm1.7.7.m1.1.2.2"><csymbol cd="latexml" id="algorithm1.7.7.m1.1.2.1.1.cmml" xref="algorithm1.7.7.m1.1.2.2.1">delimited-[]</csymbol><ci id="algorithm1.7.7.m1.1.1.cmml" xref="algorithm1.7.7.m1.1.1">𝑁</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.7.7.m1.1c">[N]</annotation><annotation encoding="application/x-llamapun" id="algorithm1.7.7.m1.1d">[ italic_N ]</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.15.18">
<span class="ltx_tag ltx_tag_listingline">5</span>
          relabel each user-item pair by the equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S5.E13" title="In 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">13</span></a>)
</div>
<div class="ltx_listingline" id="algorithm1.15.19">
<span class="ltx_tag ltx_tag_listingline">6</span>
          update model parameters by chosen LTR algorithm 
</div>
<div class="ltx_listingline" id="algorithm1.8.8">
<span class="ltx_tag ltx_tag_listingline">7</span>
      <span class="ltx_text ltx_font_bold" id="algorithm1.8.8.1">return</span> <math alttext="\theta" class="ltx_Math" display="inline" id="algorithm1.8.8.m1.1"><semantics id="algorithm1.8.8.m1.1a"><mi id="algorithm1.8.8.m1.1.1" xref="algorithm1.8.8.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="algorithm1.8.8.m1.1b"><ci id="algorithm1.8.8.m1.1.1.cmml" xref="algorithm1.8.8.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.8.8.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="algorithm1.8.8.m1.1d">italic_θ</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.9.9">
<span class="ltx_tag ltx_tag_listingline">8</span>
<span class="ltx_text ltx_font_bold" id="algorithm1.9.9.1">Serving in stage <math alttext="i" class="ltx_Math" display="inline" id="algorithm1.9.9.1.m1.1"><semantics id="algorithm1.9.9.1.m1.1a"><mi id="algorithm1.9.9.1.m1.1.1" xref="algorithm1.9.9.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="algorithm1.9.9.1.m1.1b"><ci id="algorithm1.9.9.1.m1.1.1.cmml" xref="algorithm1.9.9.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.9.9.1.m1.1c">i</annotation><annotation encoding="application/x-llamapun" id="algorithm1.9.9.1.m1.1d">italic_i</annotation></semantics></math>:</span>
</div>
<div class="ltx_listingline" id="algorithm1.12.12">
<span class="ltx_text" id="algorithm1.12.12.1"><span class="ltx_text ltx_font_bold" id="algorithm1.12.12.1.1">Input:</span> </span>
Candidate set <math alttext="\mathcal{I}^{i-1}" class="ltx_Math" display="inline" id="algorithm1.10.10.m1.1"><semantics id="algorithm1.10.10.m1.1a"><msup id="algorithm1.10.10.m1.1.1" xref="algorithm1.10.10.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.10.10.m1.1.1.2" xref="algorithm1.10.10.m1.1.1.2.cmml">ℐ</mi><mrow id="algorithm1.10.10.m1.1.1.3" xref="algorithm1.10.10.m1.1.1.3.cmml"><mi id="algorithm1.10.10.m1.1.1.3.2" xref="algorithm1.10.10.m1.1.1.3.2.cmml">i</mi><mo id="algorithm1.10.10.m1.1.1.3.1" xref="algorithm1.10.10.m1.1.1.3.1.cmml">−</mo><mn id="algorithm1.10.10.m1.1.1.3.3" xref="algorithm1.10.10.m1.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="algorithm1.10.10.m1.1b"><apply id="algorithm1.10.10.m1.1.1.cmml" xref="algorithm1.10.10.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.10.10.m1.1.1.1.cmml" xref="algorithm1.10.10.m1.1.1">superscript</csymbol><ci id="algorithm1.10.10.m1.1.1.2.cmml" xref="algorithm1.10.10.m1.1.1.2">ℐ</ci><apply id="algorithm1.10.10.m1.1.1.3.cmml" xref="algorithm1.10.10.m1.1.1.3"><minus id="algorithm1.10.10.m1.1.1.3.1.cmml" xref="algorithm1.10.10.m1.1.1.3.1"></minus><ci id="algorithm1.10.10.m1.1.1.3.2.cmml" xref="algorithm1.10.10.m1.1.1.3.2">𝑖</ci><cn id="algorithm1.10.10.m1.1.1.3.3.cmml" type="integer" xref="algorithm1.10.10.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.10.10.m1.1c">\mathcal{I}^{i-1}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.10.10.m1.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT</annotation></semantics></math> in a request of user <math alttext="u" class="ltx_Math" display="inline" id="algorithm1.11.11.m2.1"><semantics id="algorithm1.11.11.m2.1a"><mi id="algorithm1.11.11.m2.1.1" xref="algorithm1.11.11.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="algorithm1.11.11.m2.1b"><ci id="algorithm1.11.11.m2.1.1.cmml" xref="algorithm1.11.11.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.11.11.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="algorithm1.11.11.m2.1d">italic_u</annotation></semantics></math>, learned model parameters <math alttext="\theta" class="ltx_Math" display="inline" id="algorithm1.12.12.m3.1"><semantics id="algorithm1.12.12.m3.1a"><mi id="algorithm1.12.12.m3.1.1" xref="algorithm1.12.12.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="algorithm1.12.12.m3.1b"><ci id="algorithm1.12.12.m3.1.1.cmml" xref="algorithm1.12.12.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.12.12.m3.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="algorithm1.12.12.m3.1d">italic_θ</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.13.13">
<span class="ltx_text" id="algorithm1.13.13.1"><span class="ltx_text ltx_font_bold" id="algorithm1.13.13.1.1">Output:</span> </span> <math alttext="\mathcal{I}^{i}" class="ltx_Math" display="inline" id="algorithm1.13.13.m1.1"><semantics id="algorithm1.13.13.m1.1a"><msup id="algorithm1.13.13.m1.1.1" xref="algorithm1.13.13.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.13.13.m1.1.1.2" xref="algorithm1.13.13.m1.1.1.2.cmml">ℐ</mi><mi id="algorithm1.13.13.m1.1.1.3" xref="algorithm1.13.13.m1.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="algorithm1.13.13.m1.1b"><apply id="algorithm1.13.13.m1.1.1.cmml" xref="algorithm1.13.13.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.13.13.m1.1.1.1.cmml" xref="algorithm1.13.13.m1.1.1">superscript</csymbol><ci id="algorithm1.13.13.m1.1.1.2.cmml" xref="algorithm1.13.13.m1.1.1.2">ℐ</ci><ci id="algorithm1.13.13.m1.1.1.3.cmml" xref="algorithm1.13.13.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.13.13.m1.1c">\mathcal{I}^{i}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.13.13.m1.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.15.20">
<span class="ltx_tag ltx_tag_listingline">9</span>
</div>
<div class="ltx_listingline" id="algorithm1.14.14">
<span class="ltx_tag ltx_tag_listingline">10</span>       <math alttext="\mathcal{I}^{i}:=\mathbf{Topk}(\mathcal{I}^{i-1},\hat{l}(u,v|\theta),c_{i})" class="ltx_Math" display="inline" id="algorithm1.14.14.m1.4"><semantics id="algorithm1.14.14.m1.4a"><mrow id="algorithm1.14.14.m1.4.4" xref="algorithm1.14.14.m1.4.4.cmml"><msup id="algorithm1.14.14.m1.4.4.5" xref="algorithm1.14.14.m1.4.4.5.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.14.14.m1.4.4.5.2" xref="algorithm1.14.14.m1.4.4.5.2.cmml">ℐ</mi><mi id="algorithm1.14.14.m1.4.4.5.3" xref="algorithm1.14.14.m1.4.4.5.3.cmml">i</mi></msup><mo id="algorithm1.14.14.m1.4.4.4" lspace="0.278em" rspace="0.278em" xref="algorithm1.14.14.m1.4.4.4.cmml">:=</mo><mrow id="algorithm1.14.14.m1.4.4.3" xref="algorithm1.14.14.m1.4.4.3.cmml"><mi id="algorithm1.14.14.m1.4.4.3.5" xref="algorithm1.14.14.m1.4.4.3.5.cmml">𝐓𝐨𝐩𝐤</mi><mo id="algorithm1.14.14.m1.4.4.3.4" xref="algorithm1.14.14.m1.4.4.3.4.cmml">⁢</mo><mrow id="algorithm1.14.14.m1.4.4.3.3.3" xref="algorithm1.14.14.m1.4.4.3.3.4.cmml"><mo id="algorithm1.14.14.m1.4.4.3.3.3.4" stretchy="false" xref="algorithm1.14.14.m1.4.4.3.3.4.cmml">(</mo><msup id="algorithm1.14.14.m1.2.2.1.1.1.1" xref="algorithm1.14.14.m1.2.2.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.14.14.m1.2.2.1.1.1.1.2" xref="algorithm1.14.14.m1.2.2.1.1.1.1.2.cmml">ℐ</mi><mrow id="algorithm1.14.14.m1.2.2.1.1.1.1.3" xref="algorithm1.14.14.m1.2.2.1.1.1.1.3.cmml"><mi id="algorithm1.14.14.m1.2.2.1.1.1.1.3.2" xref="algorithm1.14.14.m1.2.2.1.1.1.1.3.2.cmml">i</mi><mo id="algorithm1.14.14.m1.2.2.1.1.1.1.3.1" xref="algorithm1.14.14.m1.2.2.1.1.1.1.3.1.cmml">−</mo><mn id="algorithm1.14.14.m1.2.2.1.1.1.1.3.3" xref="algorithm1.14.14.m1.2.2.1.1.1.1.3.3.cmml">1</mn></mrow></msup><mo id="algorithm1.14.14.m1.4.4.3.3.3.5" xref="algorithm1.14.14.m1.4.4.3.3.4.cmml">,</mo><mrow id="algorithm1.14.14.m1.3.3.2.2.2.2" xref="algorithm1.14.14.m1.3.3.2.2.2.2.cmml"><mover accent="true" id="algorithm1.14.14.m1.3.3.2.2.2.2.3" xref="algorithm1.14.14.m1.3.3.2.2.2.2.3.cmml"><mi id="algorithm1.14.14.m1.3.3.2.2.2.2.3.2" xref="algorithm1.14.14.m1.3.3.2.2.2.2.3.2.cmml">l</mi><mo id="algorithm1.14.14.m1.3.3.2.2.2.2.3.1" xref="algorithm1.14.14.m1.3.3.2.2.2.2.3.1.cmml">^</mo></mover><mo id="algorithm1.14.14.m1.3.3.2.2.2.2.2" xref="algorithm1.14.14.m1.3.3.2.2.2.2.2.cmml">⁢</mo><mrow id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.2.cmml"><mo id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.2" stretchy="false" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.2.cmml">(</mo><mi id="algorithm1.14.14.m1.1.1" xref="algorithm1.14.14.m1.1.1.cmml">u</mi><mo id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.3" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.2.cmml">,</mo><mrow id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.cmml"><mi id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.2" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.1" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.1.cmml">|</mo><mi id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.3" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.3.cmml">θ</mi></mrow><mo id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.4" stretchy="false" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="algorithm1.14.14.m1.4.4.3.3.3.6" xref="algorithm1.14.14.m1.4.4.3.3.4.cmml">,</mo><msub id="algorithm1.14.14.m1.4.4.3.3.3.3" xref="algorithm1.14.14.m1.4.4.3.3.3.3.cmml"><mi id="algorithm1.14.14.m1.4.4.3.3.3.3.2" xref="algorithm1.14.14.m1.4.4.3.3.3.3.2.cmml">c</mi><mi id="algorithm1.14.14.m1.4.4.3.3.3.3.3" xref="algorithm1.14.14.m1.4.4.3.3.3.3.3.cmml">i</mi></msub><mo id="algorithm1.14.14.m1.4.4.3.3.3.7" stretchy="false" xref="algorithm1.14.14.m1.4.4.3.3.4.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algorithm1.14.14.m1.4b"><apply id="algorithm1.14.14.m1.4.4.cmml" xref="algorithm1.14.14.m1.4.4"><csymbol cd="latexml" id="algorithm1.14.14.m1.4.4.4.cmml" xref="algorithm1.14.14.m1.4.4.4">assign</csymbol><apply id="algorithm1.14.14.m1.4.4.5.cmml" xref="algorithm1.14.14.m1.4.4.5"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.4.4.5.1.cmml" xref="algorithm1.14.14.m1.4.4.5">superscript</csymbol><ci id="algorithm1.14.14.m1.4.4.5.2.cmml" xref="algorithm1.14.14.m1.4.4.5.2">ℐ</ci><ci id="algorithm1.14.14.m1.4.4.5.3.cmml" xref="algorithm1.14.14.m1.4.4.5.3">𝑖</ci></apply><apply id="algorithm1.14.14.m1.4.4.3.cmml" xref="algorithm1.14.14.m1.4.4.3"><times id="algorithm1.14.14.m1.4.4.3.4.cmml" xref="algorithm1.14.14.m1.4.4.3.4"></times><ci id="algorithm1.14.14.m1.4.4.3.5.cmml" xref="algorithm1.14.14.m1.4.4.3.5">𝐓𝐨𝐩𝐤</ci><vector id="algorithm1.14.14.m1.4.4.3.3.4.cmml" xref="algorithm1.14.14.m1.4.4.3.3.3"><apply id="algorithm1.14.14.m1.2.2.1.1.1.1.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.2.2.1.1.1.1.1.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1">superscript</csymbol><ci id="algorithm1.14.14.m1.2.2.1.1.1.1.2.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1.2">ℐ</ci><apply id="algorithm1.14.14.m1.2.2.1.1.1.1.3.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1.3"><minus id="algorithm1.14.14.m1.2.2.1.1.1.1.3.1.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1.3.1"></minus><ci id="algorithm1.14.14.m1.2.2.1.1.1.1.3.2.cmml" xref="algorithm1.14.14.m1.2.2.1.1.1.1.3.2">𝑖</ci><cn id="algorithm1.14.14.m1.2.2.1.1.1.1.3.3.cmml" type="integer" xref="algorithm1.14.14.m1.2.2.1.1.1.1.3.3">1</cn></apply></apply><apply id="algorithm1.14.14.m1.3.3.2.2.2.2.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2"><times id="algorithm1.14.14.m1.3.3.2.2.2.2.2.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.2"></times><apply id="algorithm1.14.14.m1.3.3.2.2.2.2.3.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.3"><ci id="algorithm1.14.14.m1.3.3.2.2.2.2.3.1.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.3.1">^</ci><ci id="algorithm1.14.14.m1.3.3.2.2.2.2.3.2.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.3.2">𝑙</ci></apply><interval closure="open" id="algorithm1.14.14.m1.3.3.2.2.2.2.1.2.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1"><ci id="algorithm1.14.14.m1.1.1.cmml" xref="algorithm1.14.14.m1.1.1">𝑢</ci><apply id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1"><csymbol cd="latexml" id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.1.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.1">conditional</csymbol><ci id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.2.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.2">𝑣</ci><ci id="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.3.cmml" xref="algorithm1.14.14.m1.3.3.2.2.2.2.1.1.1.3">𝜃</ci></apply></interval></apply><apply id="algorithm1.14.14.m1.4.4.3.3.3.3.cmml" xref="algorithm1.14.14.m1.4.4.3.3.3.3"><csymbol cd="ambiguous" id="algorithm1.14.14.m1.4.4.3.3.3.3.1.cmml" xref="algorithm1.14.14.m1.4.4.3.3.3.3">subscript</csymbol><ci id="algorithm1.14.14.m1.4.4.3.3.3.3.2.cmml" xref="algorithm1.14.14.m1.4.4.3.3.3.3.2">𝑐</ci><ci id="algorithm1.14.14.m1.4.4.3.3.3.3.3.cmml" xref="algorithm1.14.14.m1.4.4.3.3.3.3.3">𝑖</ci></apply></vector></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.14.14.m1.4c">\mathcal{I}^{i}:=\mathbf{Topk}(\mathcal{I}^{i-1},\hat{l}(u,v|\theta),c_{i})</annotation><annotation encoding="application/x-llamapun" id="algorithm1.14.14.m1.4d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT := bold_Topk ( caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT , over^ start_ARG italic_l end_ARG ( italic_u , italic_v | italic_θ ) , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="algorithm1.15.15">
      <span class="ltx_text ltx_font_bold" id="algorithm1.15.15.1">return</span> <math alttext="\mathcal{I}^{i}" class="ltx_Math" display="inline" id="algorithm1.15.15.m1.1"><semantics id="algorithm1.15.15.m1.1a"><msup id="algorithm1.15.15.m1.1.1" xref="algorithm1.15.15.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="algorithm1.15.15.m1.1.1.2" xref="algorithm1.15.15.m1.1.1.2.cmml">ℐ</mi><mi id="algorithm1.15.15.m1.1.1.3" xref="algorithm1.15.15.m1.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="algorithm1.15.15.m1.1b"><apply id="algorithm1.15.15.m1.1.1.cmml" xref="algorithm1.15.15.m1.1.1"><csymbol cd="ambiguous" id="algorithm1.15.15.m1.1.1.1.cmml" xref="algorithm1.15.15.m1.1.1">superscript</csymbol><ci id="algorithm1.15.15.m1.1.1.2.cmml" xref="algorithm1.15.15.m1.1.1.2">ℐ</ci><ci id="algorithm1.15.15.m1.1.1.3.cmml" xref="algorithm1.15.15.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algorithm1.15.15.m1.1c">\mathcal{I}^{i}</annotation><annotation encoding="application/x-llamapun" id="algorithm1.15.15.m1.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="algorithm1.17.1.1">Algorithm 1</span> </span>Full Stage Learning to Rank</figcaption>
</figure>
<div class="ltx_para" id="S5.p11">
<p class="ltx_p" id="S5.p11.3">As discussed above, by choosing different <math alttext="j" class="ltx_Math" display="inline" id="S5.p11.1.m1.1"><semantics id="S5.p11.1.m1.1a"><mi id="S5.p11.1.m1.1.1" xref="S5.p11.1.m1.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S5.p11.1.m1.1b"><ci id="S5.p11.1.m1.1.1.cmml" xref="S5.p11.1.m1.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p11.1.m1.1c">j</annotation><annotation encoding="application/x-llamapun" id="S5.p11.1.m1.1d">italic_j</annotation></semantics></math> and appropriate models, Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#algorithm1" title="In 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> can be used either in retrieval, pre-ranking, ranking or re-ranking. For example, in retrieval stage, we can choose <math alttext="j=0" class="ltx_Math" display="inline" id="S5.p11.2.m2.1"><semantics id="S5.p11.2.m2.1a"><mrow id="S5.p11.2.m2.1.1" xref="S5.p11.2.m2.1.1.cmml"><mi id="S5.p11.2.m2.1.1.2" xref="S5.p11.2.m2.1.1.2.cmml">j</mi><mo id="S5.p11.2.m2.1.1.1" xref="S5.p11.2.m2.1.1.1.cmml">=</mo><mn id="S5.p11.2.m2.1.1.3" xref="S5.p11.2.m2.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.p11.2.m2.1b"><apply id="S5.p11.2.m2.1.1.cmml" xref="S5.p11.2.m2.1.1"><eq id="S5.p11.2.m2.1.1.1.cmml" xref="S5.p11.2.m2.1.1.1"></eq><ci id="S5.p11.2.m2.1.1.2.cmml" xref="S5.p11.2.m2.1.1.2">𝑗</ci><cn id="S5.p11.2.m2.1.1.3.cmml" type="integer" xref="S5.p11.2.m2.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p11.2.m2.1c">j=0</annotation><annotation encoding="application/x-llamapun" id="S5.p11.2.m2.1d">italic_j = 0</annotation></semantics></math> which includes random negative items from the whole candidate set and dual-encoder models which represents users and items as vectors and supports ANN for fast inference. Similarly in pre-ranking/ranking stage, we can choose suitable <math alttext="j" class="ltx_Math" display="inline" id="S5.p11.3.m3.1"><semantics id="S5.p11.3.m3.1a"><mi id="S5.p11.3.m3.1.1" xref="S5.p11.3.m3.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S5.p11.3.m3.1b"><ci id="S5.p11.3.m3.1.1.cmml" xref="S5.p11.3.m3.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.p11.3.m3.1c">j</annotation><annotation encoding="application/x-llamapun" id="S5.p11.3.m3.1d">italic_j</annotation></semantics></math> and dual-encoder model or complex dnn models. In re-ranking stage, Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#algorithm1" title="In 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> degrades to backbone LTR algorithm if only using exposed data, and becomes a new LTR algorithm with auxiliary tasks which uses data in previous stages.</p>
</div>
</section>
<section class="ltx_section ltx_indent_first" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Discussion about Assumptions</h2>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">As mentioned in Section <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4" title="4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">4</span></a>, Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption1" title="Assumption 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> is too strong to be true in real complex multi-stage systems, but it is acceptable if this assumption could be satisfied in some degrees, and we explain its reasonableness from four viewpoints:</p>
</div>
<div class="ltx_para" id="S6.p2">
<p class="ltx_p" id="S6.p2.1">[1] The simplification from combinatorial system into point-wise system is quite common in similar situation, like in re-ranking <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">ie2019slateq</span>]</cite>.</p>
</div>
<div class="ltx_para" id="S6.p3">
<p class="ltx_p" id="S6.p3.6">[2] Though the probability <math alttext="p^{i}(u,v|\mathcal{I}^{i-1})" class="ltx_Math" display="inline" id="S6.p3.1.m1.2"><semantics id="S6.p3.1.m1.2a"><mrow id="S6.p3.1.m1.2.2" xref="S6.p3.1.m1.2.2.cmml"><msup id="S6.p3.1.m1.2.2.3" xref="S6.p3.1.m1.2.2.3.cmml"><mi id="S6.p3.1.m1.2.2.3.2" xref="S6.p3.1.m1.2.2.3.2.cmml">p</mi><mi id="S6.p3.1.m1.2.2.3.3" xref="S6.p3.1.m1.2.2.3.3.cmml">i</mi></msup><mo id="S6.p3.1.m1.2.2.2" xref="S6.p3.1.m1.2.2.2.cmml">⁢</mo><mrow id="S6.p3.1.m1.2.2.1.1" xref="S6.p3.1.m1.2.2.1.2.cmml"><mo id="S6.p3.1.m1.2.2.1.1.2" stretchy="false" xref="S6.p3.1.m1.2.2.1.2.cmml">(</mo><mi id="S6.p3.1.m1.1.1" xref="S6.p3.1.m1.1.1.cmml">u</mi><mo id="S6.p3.1.m1.2.2.1.1.3" xref="S6.p3.1.m1.2.2.1.2.cmml">,</mo><mrow id="S6.p3.1.m1.2.2.1.1.1" xref="S6.p3.1.m1.2.2.1.1.1.cmml"><mi id="S6.p3.1.m1.2.2.1.1.1.2" xref="S6.p3.1.m1.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="S6.p3.1.m1.2.2.1.1.1.1" xref="S6.p3.1.m1.2.2.1.1.1.1.cmml">|</mo><msup id="S6.p3.1.m1.2.2.1.1.1.3" xref="S6.p3.1.m1.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.p3.1.m1.2.2.1.1.1.3.2" xref="S6.p3.1.m1.2.2.1.1.1.3.2.cmml">ℐ</mi><mrow id="S6.p3.1.m1.2.2.1.1.1.3.3" xref="S6.p3.1.m1.2.2.1.1.1.3.3.cmml"><mi id="S6.p3.1.m1.2.2.1.1.1.3.3.2" xref="S6.p3.1.m1.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S6.p3.1.m1.2.2.1.1.1.3.3.1" xref="S6.p3.1.m1.2.2.1.1.1.3.3.1.cmml">−</mo><mn id="S6.p3.1.m1.2.2.1.1.1.3.3.3" xref="S6.p3.1.m1.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S6.p3.1.m1.2.2.1.1.4" stretchy="false" xref="S6.p3.1.m1.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.1.m1.2b"><apply id="S6.p3.1.m1.2.2.cmml" xref="S6.p3.1.m1.2.2"><times id="S6.p3.1.m1.2.2.2.cmml" xref="S6.p3.1.m1.2.2.2"></times><apply id="S6.p3.1.m1.2.2.3.cmml" xref="S6.p3.1.m1.2.2.3"><csymbol cd="ambiguous" id="S6.p3.1.m1.2.2.3.1.cmml" xref="S6.p3.1.m1.2.2.3">superscript</csymbol><ci id="S6.p3.1.m1.2.2.3.2.cmml" xref="S6.p3.1.m1.2.2.3.2">𝑝</ci><ci id="S6.p3.1.m1.2.2.3.3.cmml" xref="S6.p3.1.m1.2.2.3.3">𝑖</ci></apply><interval closure="open" id="S6.p3.1.m1.2.2.1.2.cmml" xref="S6.p3.1.m1.2.2.1.1"><ci id="S6.p3.1.m1.1.1.cmml" xref="S6.p3.1.m1.1.1">𝑢</ci><apply id="S6.p3.1.m1.2.2.1.1.1.cmml" xref="S6.p3.1.m1.2.2.1.1.1"><csymbol cd="latexml" id="S6.p3.1.m1.2.2.1.1.1.1.cmml" xref="S6.p3.1.m1.2.2.1.1.1.1">conditional</csymbol><ci id="S6.p3.1.m1.2.2.1.1.1.2.cmml" xref="S6.p3.1.m1.2.2.1.1.1.2">𝑣</ci><apply id="S6.p3.1.m1.2.2.1.1.1.3.cmml" xref="S6.p3.1.m1.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S6.p3.1.m1.2.2.1.1.1.3.1.cmml" xref="S6.p3.1.m1.2.2.1.1.1.3">superscript</csymbol><ci id="S6.p3.1.m1.2.2.1.1.1.3.2.cmml" xref="S6.p3.1.m1.2.2.1.1.1.3.2">ℐ</ci><apply id="S6.p3.1.m1.2.2.1.1.1.3.3.cmml" xref="S6.p3.1.m1.2.2.1.1.1.3.3"><minus id="S6.p3.1.m1.2.2.1.1.1.3.3.1.cmml" xref="S6.p3.1.m1.2.2.1.1.1.3.3.1"></minus><ci id="S6.p3.1.m1.2.2.1.1.1.3.3.2.cmml" xref="S6.p3.1.m1.2.2.1.1.1.3.3.2">𝑖</ci><cn id="S6.p3.1.m1.2.2.1.1.1.3.3.3.cmml" type="integer" xref="S6.p3.1.m1.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.1.m1.2c">p^{i}(u,v|\mathcal{I}^{i-1})</annotation><annotation encoding="application/x-llamapun" id="S6.p3.1.m1.2d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT )</annotation></semantics></math> varies with input candidate set <math alttext="\mathcal{I}^{i-1}" class="ltx_Math" display="inline" id="S6.p3.2.m2.1"><semantics id="S6.p3.2.m2.1a"><msup id="S6.p3.2.m2.1.1" xref="S6.p3.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.p3.2.m2.1.1.2" xref="S6.p3.2.m2.1.1.2.cmml">ℐ</mi><mrow id="S6.p3.2.m2.1.1.3" xref="S6.p3.2.m2.1.1.3.cmml"><mi id="S6.p3.2.m2.1.1.3.2" xref="S6.p3.2.m2.1.1.3.2.cmml">i</mi><mo id="S6.p3.2.m2.1.1.3.1" xref="S6.p3.2.m2.1.1.3.1.cmml">−</mo><mn id="S6.p3.2.m2.1.1.3.3" xref="S6.p3.2.m2.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.p3.2.m2.1b"><apply id="S6.p3.2.m2.1.1.cmml" xref="S6.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S6.p3.2.m2.1.1.1.cmml" xref="S6.p3.2.m2.1.1">superscript</csymbol><ci id="S6.p3.2.m2.1.1.2.cmml" xref="S6.p3.2.m2.1.1.2">ℐ</ci><apply id="S6.p3.2.m2.1.1.3.cmml" xref="S6.p3.2.m2.1.1.3"><minus id="S6.p3.2.m2.1.1.3.1.cmml" xref="S6.p3.2.m2.1.1.3.1"></minus><ci id="S6.p3.2.m2.1.1.3.2.cmml" xref="S6.p3.2.m2.1.1.3.2">𝑖</ci><cn id="S6.p3.2.m2.1.1.3.3.cmml" type="integer" xref="S6.p3.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.2.m2.1c">\mathcal{I}^{i-1}</annotation><annotation encoding="application/x-llamapun" id="S6.p3.2.m2.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT</annotation></semantics></math>, we may consider the general performance of each user-item pair, i.e. <math alttext="p^{i}(u,v)=\mathbf{E}[p^{i}(u,v|\mathcal{I}^{i-1})]" class="ltx_Math" display="inline" id="S6.p3.3.m3.4"><semantics id="S6.p3.3.m3.4a"><mrow id="S6.p3.3.m3.4.4" xref="S6.p3.3.m3.4.4.cmml"><mrow id="S6.p3.3.m3.4.4.3" xref="S6.p3.3.m3.4.4.3.cmml"><msup id="S6.p3.3.m3.4.4.3.2" xref="S6.p3.3.m3.4.4.3.2.cmml"><mi id="S6.p3.3.m3.4.4.3.2.2" xref="S6.p3.3.m3.4.4.3.2.2.cmml">p</mi><mi id="S6.p3.3.m3.4.4.3.2.3" xref="S6.p3.3.m3.4.4.3.2.3.cmml">i</mi></msup><mo id="S6.p3.3.m3.4.4.3.1" xref="S6.p3.3.m3.4.4.3.1.cmml">⁢</mo><mrow id="S6.p3.3.m3.4.4.3.3.2" xref="S6.p3.3.m3.4.4.3.3.1.cmml"><mo id="S6.p3.3.m3.4.4.3.3.2.1" stretchy="false" xref="S6.p3.3.m3.4.4.3.3.1.cmml">(</mo><mi id="S6.p3.3.m3.1.1" xref="S6.p3.3.m3.1.1.cmml">u</mi><mo id="S6.p3.3.m3.4.4.3.3.2.2" xref="S6.p3.3.m3.4.4.3.3.1.cmml">,</mo><mi id="S6.p3.3.m3.2.2" xref="S6.p3.3.m3.2.2.cmml">v</mi><mo id="S6.p3.3.m3.4.4.3.3.2.3" stretchy="false" xref="S6.p3.3.m3.4.4.3.3.1.cmml">)</mo></mrow></mrow><mo id="S6.p3.3.m3.4.4.2" xref="S6.p3.3.m3.4.4.2.cmml">=</mo><mrow id="S6.p3.3.m3.4.4.1" xref="S6.p3.3.m3.4.4.1.cmml"><mi id="S6.p3.3.m3.4.4.1.3" xref="S6.p3.3.m3.4.4.1.3.cmml">𝐄</mi><mo id="S6.p3.3.m3.4.4.1.2" xref="S6.p3.3.m3.4.4.1.2.cmml">⁢</mo><mrow id="S6.p3.3.m3.4.4.1.1.1" xref="S6.p3.3.m3.4.4.1.1.2.cmml"><mo id="S6.p3.3.m3.4.4.1.1.1.2" stretchy="false" xref="S6.p3.3.m3.4.4.1.1.2.1.cmml">[</mo><mrow id="S6.p3.3.m3.4.4.1.1.1.1" xref="S6.p3.3.m3.4.4.1.1.1.1.cmml"><msup id="S6.p3.3.m3.4.4.1.1.1.1.3" xref="S6.p3.3.m3.4.4.1.1.1.1.3.cmml"><mi id="S6.p3.3.m3.4.4.1.1.1.1.3.2" xref="S6.p3.3.m3.4.4.1.1.1.1.3.2.cmml">p</mi><mi id="S6.p3.3.m3.4.4.1.1.1.1.3.3" xref="S6.p3.3.m3.4.4.1.1.1.1.3.3.cmml">i</mi></msup><mo id="S6.p3.3.m3.4.4.1.1.1.1.2" xref="S6.p3.3.m3.4.4.1.1.1.1.2.cmml">⁢</mo><mrow id="S6.p3.3.m3.4.4.1.1.1.1.1.1" xref="S6.p3.3.m3.4.4.1.1.1.1.1.2.cmml"><mo id="S6.p3.3.m3.4.4.1.1.1.1.1.1.2" stretchy="false" xref="S6.p3.3.m3.4.4.1.1.1.1.1.2.cmml">(</mo><mi id="S6.p3.3.m3.3.3" xref="S6.p3.3.m3.3.3.cmml">u</mi><mo id="S6.p3.3.m3.4.4.1.1.1.1.1.1.3" xref="S6.p3.3.m3.4.4.1.1.1.1.1.2.cmml">,</mo><mrow id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.cmml"><mi id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.2" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.2.cmml">v</mi><mo fence="false" id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.1" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.1.cmml">|</mo><msup id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.2" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.2.cmml">ℐ</mi><mrow id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.cmml"><mi id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.2" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.1" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.1.cmml">−</mo><mn id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.3" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S6.p3.3.m3.4.4.1.1.1.1.1.1.4" stretchy="false" xref="S6.p3.3.m3.4.4.1.1.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S6.p3.3.m3.4.4.1.1.1.3" stretchy="false" xref="S6.p3.3.m3.4.4.1.1.2.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.3.m3.4b"><apply id="S6.p3.3.m3.4.4.cmml" xref="S6.p3.3.m3.4.4"><eq id="S6.p3.3.m3.4.4.2.cmml" xref="S6.p3.3.m3.4.4.2"></eq><apply id="S6.p3.3.m3.4.4.3.cmml" xref="S6.p3.3.m3.4.4.3"><times id="S6.p3.3.m3.4.4.3.1.cmml" xref="S6.p3.3.m3.4.4.3.1"></times><apply id="S6.p3.3.m3.4.4.3.2.cmml" xref="S6.p3.3.m3.4.4.3.2"><csymbol cd="ambiguous" id="S6.p3.3.m3.4.4.3.2.1.cmml" xref="S6.p3.3.m3.4.4.3.2">superscript</csymbol><ci id="S6.p3.3.m3.4.4.3.2.2.cmml" xref="S6.p3.3.m3.4.4.3.2.2">𝑝</ci><ci id="S6.p3.3.m3.4.4.3.2.3.cmml" xref="S6.p3.3.m3.4.4.3.2.3">𝑖</ci></apply><interval closure="open" id="S6.p3.3.m3.4.4.3.3.1.cmml" xref="S6.p3.3.m3.4.4.3.3.2"><ci id="S6.p3.3.m3.1.1.cmml" xref="S6.p3.3.m3.1.1">𝑢</ci><ci id="S6.p3.3.m3.2.2.cmml" xref="S6.p3.3.m3.2.2">𝑣</ci></interval></apply><apply id="S6.p3.3.m3.4.4.1.cmml" xref="S6.p3.3.m3.4.4.1"><times id="S6.p3.3.m3.4.4.1.2.cmml" xref="S6.p3.3.m3.4.4.1.2"></times><ci id="S6.p3.3.m3.4.4.1.3.cmml" xref="S6.p3.3.m3.4.4.1.3">𝐄</ci><apply id="S6.p3.3.m3.4.4.1.1.2.cmml" xref="S6.p3.3.m3.4.4.1.1.1"><csymbol cd="latexml" id="S6.p3.3.m3.4.4.1.1.2.1.cmml" xref="S6.p3.3.m3.4.4.1.1.1.2">delimited-[]</csymbol><apply id="S6.p3.3.m3.4.4.1.1.1.1.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1"><times id="S6.p3.3.m3.4.4.1.1.1.1.2.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.2"></times><apply id="S6.p3.3.m3.4.4.1.1.1.1.3.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S6.p3.3.m3.4.4.1.1.1.1.3.1.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.3">superscript</csymbol><ci id="S6.p3.3.m3.4.4.1.1.1.1.3.2.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.3.2">𝑝</ci><ci id="S6.p3.3.m3.4.4.1.1.1.1.3.3.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.3.3">𝑖</ci></apply><interval closure="open" id="S6.p3.3.m3.4.4.1.1.1.1.1.2.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1"><ci id="S6.p3.3.m3.3.3.cmml" xref="S6.p3.3.m3.3.3">𝑢</ci><apply id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.1.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.1">conditional</csymbol><ci id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.2.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.2">𝑣</ci><apply id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.1.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3">superscript</csymbol><ci id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.2.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.2">ℐ</ci><apply id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3"><minus id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.1.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.1"></minus><ci id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.2.cmml" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.2">𝑖</ci><cn id="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S6.p3.3.m3.4.4.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.3.m3.4c">p^{i}(u,v)=\mathbf{E}[p^{i}(u,v|\mathcal{I}^{i-1})]</annotation><annotation encoding="application/x-llamapun" id="S6.p3.3.m3.4d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v ) = bold_E [ italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT ) ]</annotation></semantics></math> as an approximation to <math alttext="p^{i}(u,v|\mathcal{I}^{i-1})" class="ltx_Math" display="inline" id="S6.p3.4.m4.2"><semantics id="S6.p3.4.m4.2a"><mrow id="S6.p3.4.m4.2.2" xref="S6.p3.4.m4.2.2.cmml"><msup id="S6.p3.4.m4.2.2.3" xref="S6.p3.4.m4.2.2.3.cmml"><mi id="S6.p3.4.m4.2.2.3.2" xref="S6.p3.4.m4.2.2.3.2.cmml">p</mi><mi id="S6.p3.4.m4.2.2.3.3" xref="S6.p3.4.m4.2.2.3.3.cmml">i</mi></msup><mo id="S6.p3.4.m4.2.2.2" xref="S6.p3.4.m4.2.2.2.cmml">⁢</mo><mrow id="S6.p3.4.m4.2.2.1.1" xref="S6.p3.4.m4.2.2.1.2.cmml"><mo id="S6.p3.4.m4.2.2.1.1.2" stretchy="false" xref="S6.p3.4.m4.2.2.1.2.cmml">(</mo><mi id="S6.p3.4.m4.1.1" xref="S6.p3.4.m4.1.1.cmml">u</mi><mo id="S6.p3.4.m4.2.2.1.1.3" xref="S6.p3.4.m4.2.2.1.2.cmml">,</mo><mrow id="S6.p3.4.m4.2.2.1.1.1" xref="S6.p3.4.m4.2.2.1.1.1.cmml"><mi id="S6.p3.4.m4.2.2.1.1.1.2" xref="S6.p3.4.m4.2.2.1.1.1.2.cmml">v</mi><mo fence="false" id="S6.p3.4.m4.2.2.1.1.1.1" xref="S6.p3.4.m4.2.2.1.1.1.1.cmml">|</mo><msup id="S6.p3.4.m4.2.2.1.1.1.3" xref="S6.p3.4.m4.2.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.p3.4.m4.2.2.1.1.1.3.2" xref="S6.p3.4.m4.2.2.1.1.1.3.2.cmml">ℐ</mi><mrow id="S6.p3.4.m4.2.2.1.1.1.3.3" xref="S6.p3.4.m4.2.2.1.1.1.3.3.cmml"><mi id="S6.p3.4.m4.2.2.1.1.1.3.3.2" xref="S6.p3.4.m4.2.2.1.1.1.3.3.2.cmml">i</mi><mo id="S6.p3.4.m4.2.2.1.1.1.3.3.1" xref="S6.p3.4.m4.2.2.1.1.1.3.3.1.cmml">−</mo><mn id="S6.p3.4.m4.2.2.1.1.1.3.3.3" xref="S6.p3.4.m4.2.2.1.1.1.3.3.3.cmml">1</mn></mrow></msup></mrow><mo id="S6.p3.4.m4.2.2.1.1.4" stretchy="false" xref="S6.p3.4.m4.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p3.4.m4.2b"><apply id="S6.p3.4.m4.2.2.cmml" xref="S6.p3.4.m4.2.2"><times id="S6.p3.4.m4.2.2.2.cmml" xref="S6.p3.4.m4.2.2.2"></times><apply id="S6.p3.4.m4.2.2.3.cmml" xref="S6.p3.4.m4.2.2.3"><csymbol cd="ambiguous" id="S6.p3.4.m4.2.2.3.1.cmml" xref="S6.p3.4.m4.2.2.3">superscript</csymbol><ci id="S6.p3.4.m4.2.2.3.2.cmml" xref="S6.p3.4.m4.2.2.3.2">𝑝</ci><ci id="S6.p3.4.m4.2.2.3.3.cmml" xref="S6.p3.4.m4.2.2.3.3">𝑖</ci></apply><interval closure="open" id="S6.p3.4.m4.2.2.1.2.cmml" xref="S6.p3.4.m4.2.2.1.1"><ci id="S6.p3.4.m4.1.1.cmml" xref="S6.p3.4.m4.1.1">𝑢</ci><apply id="S6.p3.4.m4.2.2.1.1.1.cmml" xref="S6.p3.4.m4.2.2.1.1.1"><csymbol cd="latexml" id="S6.p3.4.m4.2.2.1.1.1.1.cmml" xref="S6.p3.4.m4.2.2.1.1.1.1">conditional</csymbol><ci id="S6.p3.4.m4.2.2.1.1.1.2.cmml" xref="S6.p3.4.m4.2.2.1.1.1.2">𝑣</ci><apply id="S6.p3.4.m4.2.2.1.1.1.3.cmml" xref="S6.p3.4.m4.2.2.1.1.1.3"><csymbol cd="ambiguous" id="S6.p3.4.m4.2.2.1.1.1.3.1.cmml" xref="S6.p3.4.m4.2.2.1.1.1.3">superscript</csymbol><ci id="S6.p3.4.m4.2.2.1.1.1.3.2.cmml" xref="S6.p3.4.m4.2.2.1.1.1.3.2">ℐ</ci><apply id="S6.p3.4.m4.2.2.1.1.1.3.3.cmml" xref="S6.p3.4.m4.2.2.1.1.1.3.3"><minus id="S6.p3.4.m4.2.2.1.1.1.3.3.1.cmml" xref="S6.p3.4.m4.2.2.1.1.1.3.3.1"></minus><ci id="S6.p3.4.m4.2.2.1.1.1.3.3.2.cmml" xref="S6.p3.4.m4.2.2.1.1.1.3.3.2">𝑖</ci><cn id="S6.p3.4.m4.2.2.1.1.1.3.3.3.cmml" type="integer" xref="S6.p3.4.m4.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.4.m4.2c">p^{i}(u,v|\mathcal{I}^{i-1})</annotation><annotation encoding="application/x-llamapun" id="S6.p3.4.m4.2d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v | caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT )</annotation></semantics></math>, where the expectation is over some distribution of <math alttext="\mathcal{I}^{i-1}" class="ltx_Math" display="inline" id="S6.p3.5.m5.1"><semantics id="S6.p3.5.m5.1a"><msup id="S6.p3.5.m5.1.1" xref="S6.p3.5.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.p3.5.m5.1.1.2" xref="S6.p3.5.m5.1.1.2.cmml">ℐ</mi><mrow id="S6.p3.5.m5.1.1.3" xref="S6.p3.5.m5.1.1.3.cmml"><mi id="S6.p3.5.m5.1.1.3.2" xref="S6.p3.5.m5.1.1.3.2.cmml">i</mi><mo id="S6.p3.5.m5.1.1.3.1" xref="S6.p3.5.m5.1.1.3.1.cmml">−</mo><mn id="S6.p3.5.m5.1.1.3.3" xref="S6.p3.5.m5.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.p3.5.m5.1b"><apply id="S6.p3.5.m5.1.1.cmml" xref="S6.p3.5.m5.1.1"><csymbol cd="ambiguous" id="S6.p3.5.m5.1.1.1.cmml" xref="S6.p3.5.m5.1.1">superscript</csymbol><ci id="S6.p3.5.m5.1.1.2.cmml" xref="S6.p3.5.m5.1.1.2">ℐ</ci><apply id="S6.p3.5.m5.1.1.3.cmml" xref="S6.p3.5.m5.1.1.3"><minus id="S6.p3.5.m5.1.1.3.1.cmml" xref="S6.p3.5.m5.1.1.3.1"></minus><ci id="S6.p3.5.m5.1.1.3.2.cmml" xref="S6.p3.5.m5.1.1.3.2">𝑖</ci><cn id="S6.p3.5.m5.1.1.3.3.cmml" type="integer" xref="S6.p3.5.m5.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.5.m5.1c">\mathcal{I}^{i-1}</annotation><annotation encoding="application/x-llamapun" id="S6.p3.5.m5.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT</annotation></semantics></math> (for example the distribution of <math alttext="\mathcal{I}^{i-1}" class="ltx_Math" display="inline" id="S6.p3.6.m6.1"><semantics id="S6.p3.6.m6.1a"><msup id="S6.p3.6.m6.1.1" xref="S6.p3.6.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.p3.6.m6.1.1.2" xref="S6.p3.6.m6.1.1.2.cmml">ℐ</mi><mrow id="S6.p3.6.m6.1.1.3" xref="S6.p3.6.m6.1.1.3.cmml"><mi id="S6.p3.6.m6.1.1.3.2" xref="S6.p3.6.m6.1.1.3.2.cmml">i</mi><mo id="S6.p3.6.m6.1.1.3.1" xref="S6.p3.6.m6.1.1.3.1.cmml">−</mo><mn id="S6.p3.6.m6.1.1.3.3" xref="S6.p3.6.m6.1.1.3.3.cmml">1</mn></mrow></msup><annotation-xml encoding="MathML-Content" id="S6.p3.6.m6.1b"><apply id="S6.p3.6.m6.1.1.cmml" xref="S6.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S6.p3.6.m6.1.1.1.cmml" xref="S6.p3.6.m6.1.1">superscript</csymbol><ci id="S6.p3.6.m6.1.1.2.cmml" xref="S6.p3.6.m6.1.1.2">ℐ</ci><apply id="S6.p3.6.m6.1.1.3.cmml" xref="S6.p3.6.m6.1.1.3"><minus id="S6.p3.6.m6.1.1.3.1.cmml" xref="S6.p3.6.m6.1.1.3.1"></minus><ci id="S6.p3.6.m6.1.1.3.2.cmml" xref="S6.p3.6.m6.1.1.3.2">𝑖</ci><cn id="S6.p3.6.m6.1.1.3.3.cmml" type="integer" xref="S6.p3.6.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p3.6.m6.1c">\mathcal{I}^{i-1}</annotation><annotation encoding="application/x-llamapun" id="S6.p3.6.m6.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT</annotation></semantics></math> of current system).</p>
</div>
<div class="ltx_para" id="S6.p4">
<p class="ltx_p" id="S6.p4.1">[3] We have learned several binary classifiers based on samples collected from each stage in our online system to classify whether the input candidate item in each stage could enter the next stage. Then we test these classifiers on the evaluation dataset. We find all metrics, including AUC/UAUC/WUAUC, are above 0.8 (some even above 0.9), which strongly suggests we can learn the selection probability of each stage in a point-wise manner only based on the user and item.</p>
</div>
<div class="ltx_para" id="S6.p5">
<p class="ltx_p" id="S6.p5.1">[4] We only use Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption1" title="Assumption 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> to induce efficient and practical algorithm. In experimental section, we find our algorithm still works when this assumption does not hold either in simulated experiments or online A/B testing.</p>
</div>
<div class="ltx_para" id="S6.p6">
<p class="ltx_p" id="S6.p6.5">Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption2" title="Assumption 2. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a> is also critical for FS-LTR. However, it is impossible to collect real <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S6.p6.1.m1.2"><semantics id="S6.p6.1.m1.2a"><mrow id="S6.p6.1.m1.2.3" xref="S6.p6.1.m1.2.3.cmml"><mi id="S6.p6.1.m1.2.3.2" xref="S6.p6.1.m1.2.3.2.cmml">r</mi><mo id="S6.p6.1.m1.2.3.1" xref="S6.p6.1.m1.2.3.1.cmml">⁢</mo><mrow id="S6.p6.1.m1.2.3.3.2" xref="S6.p6.1.m1.2.3.3.1.cmml"><mo id="S6.p6.1.m1.2.3.3.2.1" stretchy="false" xref="S6.p6.1.m1.2.3.3.1.cmml">(</mo><mi id="S6.p6.1.m1.1.1" xref="S6.p6.1.m1.1.1.cmml">u</mi><mo id="S6.p6.1.m1.2.3.3.2.2" xref="S6.p6.1.m1.2.3.3.1.cmml">,</mo><mi id="S6.p6.1.m1.2.2" xref="S6.p6.1.m1.2.2.cmml">v</mi><mo id="S6.p6.1.m1.2.3.3.2.3" stretchy="false" xref="S6.p6.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p6.1.m1.2b"><apply id="S6.p6.1.m1.2.3.cmml" xref="S6.p6.1.m1.2.3"><times id="S6.p6.1.m1.2.3.1.cmml" xref="S6.p6.1.m1.2.3.1"></times><ci id="S6.p6.1.m1.2.3.2.cmml" xref="S6.p6.1.m1.2.3.2">𝑟</ci><interval closure="open" id="S6.p6.1.m1.2.3.3.1.cmml" xref="S6.p6.1.m1.2.3.3.2"><ci id="S6.p6.1.m1.1.1.cmml" xref="S6.p6.1.m1.1.1">𝑢</ci><ci id="S6.p6.1.m1.2.2.cmml" xref="S6.p6.1.m1.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.1.m1.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S6.p6.1.m1.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> and <math alttext="p^{i}(u,v)" class="ltx_Math" display="inline" id="S6.p6.2.m2.2"><semantics id="S6.p6.2.m2.2a"><mrow id="S6.p6.2.m2.2.3" xref="S6.p6.2.m2.2.3.cmml"><msup id="S6.p6.2.m2.2.3.2" xref="S6.p6.2.m2.2.3.2.cmml"><mi id="S6.p6.2.m2.2.3.2.2" xref="S6.p6.2.m2.2.3.2.2.cmml">p</mi><mi id="S6.p6.2.m2.2.3.2.3" xref="S6.p6.2.m2.2.3.2.3.cmml">i</mi></msup><mo id="S6.p6.2.m2.2.3.1" xref="S6.p6.2.m2.2.3.1.cmml">⁢</mo><mrow id="S6.p6.2.m2.2.3.3.2" xref="S6.p6.2.m2.2.3.3.1.cmml"><mo id="S6.p6.2.m2.2.3.3.2.1" stretchy="false" xref="S6.p6.2.m2.2.3.3.1.cmml">(</mo><mi id="S6.p6.2.m2.1.1" xref="S6.p6.2.m2.1.1.cmml">u</mi><mo id="S6.p6.2.m2.2.3.3.2.2" xref="S6.p6.2.m2.2.3.3.1.cmml">,</mo><mi id="S6.p6.2.m2.2.2" xref="S6.p6.2.m2.2.2.cmml">v</mi><mo id="S6.p6.2.m2.2.3.3.2.3" stretchy="false" xref="S6.p6.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p6.2.m2.2b"><apply id="S6.p6.2.m2.2.3.cmml" xref="S6.p6.2.m2.2.3"><times id="S6.p6.2.m2.2.3.1.cmml" xref="S6.p6.2.m2.2.3.1"></times><apply id="S6.p6.2.m2.2.3.2.cmml" xref="S6.p6.2.m2.2.3.2"><csymbol cd="ambiguous" id="S6.p6.2.m2.2.3.2.1.cmml" xref="S6.p6.2.m2.2.3.2">superscript</csymbol><ci id="S6.p6.2.m2.2.3.2.2.cmml" xref="S6.p6.2.m2.2.3.2.2">𝑝</ci><ci id="S6.p6.2.m2.2.3.2.3.cmml" xref="S6.p6.2.m2.2.3.2.3">𝑖</ci></apply><interval closure="open" id="S6.p6.2.m2.2.3.3.1.cmml" xref="S6.p6.2.m2.2.3.3.2"><ci id="S6.p6.2.m2.1.1.cmml" xref="S6.p6.2.m2.1.1">𝑢</ci><ci id="S6.p6.2.m2.2.2.cmml" xref="S6.p6.2.m2.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.2.m2.2c">p^{i}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S6.p6.2.m2.2d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> in real systems, as we cannot present the same item twice for a user in short-video platform which implies we can only observe one realization <math alttext="Y(u,v)" class="ltx_Math" display="inline" id="S6.p6.3.m3.2"><semantics id="S6.p6.3.m3.2a"><mrow id="S6.p6.3.m3.2.3" xref="S6.p6.3.m3.2.3.cmml"><mi id="S6.p6.3.m3.2.3.2" xref="S6.p6.3.m3.2.3.2.cmml">Y</mi><mo id="S6.p6.3.m3.2.3.1" xref="S6.p6.3.m3.2.3.1.cmml">⁢</mo><mrow id="S6.p6.3.m3.2.3.3.2" xref="S6.p6.3.m3.2.3.3.1.cmml"><mo id="S6.p6.3.m3.2.3.3.2.1" stretchy="false" xref="S6.p6.3.m3.2.3.3.1.cmml">(</mo><mi id="S6.p6.3.m3.1.1" xref="S6.p6.3.m3.1.1.cmml">u</mi><mo id="S6.p6.3.m3.2.3.3.2.2" xref="S6.p6.3.m3.2.3.3.1.cmml">,</mo><mi id="S6.p6.3.m3.2.2" xref="S6.p6.3.m3.2.2.cmml">v</mi><mo id="S6.p6.3.m3.2.3.3.2.3" stretchy="false" xref="S6.p6.3.m3.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p6.3.m3.2b"><apply id="S6.p6.3.m3.2.3.cmml" xref="S6.p6.3.m3.2.3"><times id="S6.p6.3.m3.2.3.1.cmml" xref="S6.p6.3.m3.2.3.1"></times><ci id="S6.p6.3.m3.2.3.2.cmml" xref="S6.p6.3.m3.2.3.2">𝑌</ci><interval closure="open" id="S6.p6.3.m3.2.3.3.1.cmml" xref="S6.p6.3.m3.2.3.3.2"><ci id="S6.p6.3.m3.1.1.cmml" xref="S6.p6.3.m3.1.1">𝑢</ci><ci id="S6.p6.3.m3.2.2.cmml" xref="S6.p6.3.m3.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.3.m3.2c">Y(u,v)</annotation><annotation encoding="application/x-llamapun" id="S6.p6.3.m3.2d">italic_Y ( italic_u , italic_v )</annotation></semantics></math> of underlying Bernoulli distribution with probability <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S6.p6.4.m4.2"><semantics id="S6.p6.4.m4.2a"><mrow id="S6.p6.4.m4.2.3" xref="S6.p6.4.m4.2.3.cmml"><mi id="S6.p6.4.m4.2.3.2" xref="S6.p6.4.m4.2.3.2.cmml">r</mi><mo id="S6.p6.4.m4.2.3.1" xref="S6.p6.4.m4.2.3.1.cmml">⁢</mo><mrow id="S6.p6.4.m4.2.3.3.2" xref="S6.p6.4.m4.2.3.3.1.cmml"><mo id="S6.p6.4.m4.2.3.3.2.1" stretchy="false" xref="S6.p6.4.m4.2.3.3.1.cmml">(</mo><mi id="S6.p6.4.m4.1.1" xref="S6.p6.4.m4.1.1.cmml">u</mi><mo id="S6.p6.4.m4.2.3.3.2.2" xref="S6.p6.4.m4.2.3.3.1.cmml">,</mo><mi id="S6.p6.4.m4.2.2" xref="S6.p6.4.m4.2.2.cmml">v</mi><mo id="S6.p6.4.m4.2.3.3.2.3" stretchy="false" xref="S6.p6.4.m4.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p6.4.m4.2b"><apply id="S6.p6.4.m4.2.3.cmml" xref="S6.p6.4.m4.2.3"><times id="S6.p6.4.m4.2.3.1.cmml" xref="S6.p6.4.m4.2.3.1"></times><ci id="S6.p6.4.m4.2.3.2.cmml" xref="S6.p6.4.m4.2.3.2">𝑟</ci><interval closure="open" id="S6.p6.4.m4.2.3.3.1.cmml" xref="S6.p6.4.m4.2.3.3.2"><ci id="S6.p6.4.m4.1.1.cmml" xref="S6.p6.4.m4.1.1">𝑢</ci><ci id="S6.p6.4.m4.2.2.cmml" xref="S6.p6.4.m4.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.4.m4.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S6.p6.4.m4.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math>. What’s more, items at non-final stages of the system are not exposed to users, so we cannot even observe their realizations of users’ underlying interest. Besides, practical system is very complex, there does not exist any true <math alttext="p^{i}(u,v)" class="ltx_Math" display="inline" id="S6.p6.5.m5.2"><semantics id="S6.p6.5.m5.2a"><mrow id="S6.p6.5.m5.2.3" xref="S6.p6.5.m5.2.3.cmml"><msup id="S6.p6.5.m5.2.3.2" xref="S6.p6.5.m5.2.3.2.cmml"><mi id="S6.p6.5.m5.2.3.2.2" xref="S6.p6.5.m5.2.3.2.2.cmml">p</mi><mi id="S6.p6.5.m5.2.3.2.3" xref="S6.p6.5.m5.2.3.2.3.cmml">i</mi></msup><mo id="S6.p6.5.m5.2.3.1" xref="S6.p6.5.m5.2.3.1.cmml">⁢</mo><mrow id="S6.p6.5.m5.2.3.3.2" xref="S6.p6.5.m5.2.3.3.1.cmml"><mo id="S6.p6.5.m5.2.3.3.2.1" stretchy="false" xref="S6.p6.5.m5.2.3.3.1.cmml">(</mo><mi id="S6.p6.5.m5.1.1" xref="S6.p6.5.m5.1.1.cmml">u</mi><mo id="S6.p6.5.m5.2.3.3.2.2" xref="S6.p6.5.m5.2.3.3.1.cmml">,</mo><mi id="S6.p6.5.m5.2.2" xref="S6.p6.5.m5.2.2.cmml">v</mi><mo id="S6.p6.5.m5.2.3.3.2.3" stretchy="false" xref="S6.p6.5.m5.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p6.5.m5.2b"><apply id="S6.p6.5.m5.2.3.cmml" xref="S6.p6.5.m5.2.3"><times id="S6.p6.5.m5.2.3.1.cmml" xref="S6.p6.5.m5.2.3.1"></times><apply id="S6.p6.5.m5.2.3.2.cmml" xref="S6.p6.5.m5.2.3.2"><csymbol cd="ambiguous" id="S6.p6.5.m5.2.3.2.1.cmml" xref="S6.p6.5.m5.2.3.2">superscript</csymbol><ci id="S6.p6.5.m5.2.3.2.2.cmml" xref="S6.p6.5.m5.2.3.2.2">𝑝</ci><ci id="S6.p6.5.m5.2.3.2.3.cmml" xref="S6.p6.5.m5.2.3.2.3">𝑖</ci></apply><interval closure="open" id="S6.p6.5.m5.2.3.3.1.cmml" xref="S6.p6.5.m5.2.3.3.2"><ci id="S6.p6.5.m5.1.1.cmml" xref="S6.p6.5.m5.1.1">𝑢</ci><ci id="S6.p6.5.m5.2.2.cmml" xref="S6.p6.5.m5.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p6.5.m5.2c">p^{i}(u,v)</annotation><annotation encoding="application/x-llamapun" id="S6.p6.5.m5.2d">italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v )</annotation></semantics></math> in real situation.</p>
</div>
<div class="ltx_para" id="S6.p7">
<p class="ltx_p" id="S6.p7.2">One possible approach to solving above difficulty is to learn approximate models about <math alttext="r(u,v)" class="ltx_Math" display="inline" id="S6.p7.1.m1.2"><semantics id="S6.p7.1.m1.2a"><mrow id="S6.p7.1.m1.2.3" xref="S6.p7.1.m1.2.3.cmml"><mi id="S6.p7.1.m1.2.3.2" xref="S6.p7.1.m1.2.3.2.cmml">r</mi><mo id="S6.p7.1.m1.2.3.1" xref="S6.p7.1.m1.2.3.1.cmml">⁢</mo><mrow id="S6.p7.1.m1.2.3.3.2" xref="S6.p7.1.m1.2.3.3.1.cmml"><mo id="S6.p7.1.m1.2.3.3.2.1" stretchy="false" xref="S6.p7.1.m1.2.3.3.1.cmml">(</mo><mi id="S6.p7.1.m1.1.1" xref="S6.p7.1.m1.1.1.cmml">u</mi><mo id="S6.p7.1.m1.2.3.3.2.2" xref="S6.p7.1.m1.2.3.3.1.cmml">,</mo><mi id="S6.p7.1.m1.2.2" xref="S6.p7.1.m1.2.2.cmml">v</mi><mo id="S6.p7.1.m1.2.3.3.2.3" stretchy="false" xref="S6.p7.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p7.1.m1.2b"><apply id="S6.p7.1.m1.2.3.cmml" xref="S6.p7.1.m1.2.3"><times id="S6.p7.1.m1.2.3.1.cmml" xref="S6.p7.1.m1.2.3.1"></times><ci id="S6.p7.1.m1.2.3.2.cmml" xref="S6.p7.1.m1.2.3.2">𝑟</ci><interval closure="open" id="S6.p7.1.m1.2.3.3.1.cmml" xref="S6.p7.1.m1.2.3.3.2"><ci id="S6.p7.1.m1.1.1.cmml" xref="S6.p7.1.m1.1.1">𝑢</ci><ci id="S6.p7.1.m1.2.2.cmml" xref="S6.p7.1.m1.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.1.m1.2c">r(u,v)</annotation><annotation encoding="application/x-llamapun" id="S6.p7.1.m1.2d">italic_r ( italic_u , italic_v )</annotation></semantics></math> and <math alttext="\{p^{i}(u,v)|i\in[4]\}" class="ltx_Math" display="inline" id="S6.p7.2.m2.5"><semantics id="S6.p7.2.m2.5a"><mrow id="S6.p7.2.m2.5.5.2" xref="S6.p7.2.m2.5.5.3.cmml"><mo id="S6.p7.2.m2.5.5.2.3" stretchy="false" xref="S6.p7.2.m2.5.5.3.1.cmml">{</mo><mrow id="S6.p7.2.m2.4.4.1.1" xref="S6.p7.2.m2.4.4.1.1.cmml"><msup id="S6.p7.2.m2.4.4.1.1.2" xref="S6.p7.2.m2.4.4.1.1.2.cmml"><mi id="S6.p7.2.m2.4.4.1.1.2.2" xref="S6.p7.2.m2.4.4.1.1.2.2.cmml">p</mi><mi id="S6.p7.2.m2.4.4.1.1.2.3" xref="S6.p7.2.m2.4.4.1.1.2.3.cmml">i</mi></msup><mo id="S6.p7.2.m2.4.4.1.1.1" xref="S6.p7.2.m2.4.4.1.1.1.cmml">⁢</mo><mrow id="S6.p7.2.m2.4.4.1.1.3.2" xref="S6.p7.2.m2.4.4.1.1.3.1.cmml"><mo id="S6.p7.2.m2.4.4.1.1.3.2.1" stretchy="false" xref="S6.p7.2.m2.4.4.1.1.3.1.cmml">(</mo><mi id="S6.p7.2.m2.1.1" xref="S6.p7.2.m2.1.1.cmml">u</mi><mo id="S6.p7.2.m2.4.4.1.1.3.2.2" xref="S6.p7.2.m2.4.4.1.1.3.1.cmml">,</mo><mi id="S6.p7.2.m2.2.2" xref="S6.p7.2.m2.2.2.cmml">v</mi><mo id="S6.p7.2.m2.4.4.1.1.3.2.3" stretchy="false" xref="S6.p7.2.m2.4.4.1.1.3.1.cmml">)</mo></mrow></mrow><mo id="S6.p7.2.m2.5.5.2.4" lspace="0em" rspace="0em" xref="S6.p7.2.m2.5.5.3.1.cmml">|</mo><mrow id="S6.p7.2.m2.5.5.2.2" xref="S6.p7.2.m2.5.5.2.2.cmml"><mi id="S6.p7.2.m2.5.5.2.2.2" xref="S6.p7.2.m2.5.5.2.2.2.cmml">i</mi><mo id="S6.p7.2.m2.5.5.2.2.1" xref="S6.p7.2.m2.5.5.2.2.1.cmml">∈</mo><mrow id="S6.p7.2.m2.5.5.2.2.3.2" xref="S6.p7.2.m2.5.5.2.2.3.1.cmml"><mo id="S6.p7.2.m2.5.5.2.2.3.2.1" stretchy="false" xref="S6.p7.2.m2.5.5.2.2.3.1.1.cmml">[</mo><mn id="S6.p7.2.m2.3.3" xref="S6.p7.2.m2.3.3.cmml">4</mn><mo id="S6.p7.2.m2.5.5.2.2.3.2.2" stretchy="false" xref="S6.p7.2.m2.5.5.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S6.p7.2.m2.5.5.2.5" stretchy="false" xref="S6.p7.2.m2.5.5.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p7.2.m2.5b"><apply id="S6.p7.2.m2.5.5.3.cmml" xref="S6.p7.2.m2.5.5.2"><csymbol cd="latexml" id="S6.p7.2.m2.5.5.3.1.cmml" xref="S6.p7.2.m2.5.5.2.3">conditional-set</csymbol><apply id="S6.p7.2.m2.4.4.1.1.cmml" xref="S6.p7.2.m2.4.4.1.1"><times id="S6.p7.2.m2.4.4.1.1.1.cmml" xref="S6.p7.2.m2.4.4.1.1.1"></times><apply id="S6.p7.2.m2.4.4.1.1.2.cmml" xref="S6.p7.2.m2.4.4.1.1.2"><csymbol cd="ambiguous" id="S6.p7.2.m2.4.4.1.1.2.1.cmml" xref="S6.p7.2.m2.4.4.1.1.2">superscript</csymbol><ci id="S6.p7.2.m2.4.4.1.1.2.2.cmml" xref="S6.p7.2.m2.4.4.1.1.2.2">𝑝</ci><ci id="S6.p7.2.m2.4.4.1.1.2.3.cmml" xref="S6.p7.2.m2.4.4.1.1.2.3">𝑖</ci></apply><interval closure="open" id="S6.p7.2.m2.4.4.1.1.3.1.cmml" xref="S6.p7.2.m2.4.4.1.1.3.2"><ci id="S6.p7.2.m2.1.1.cmml" xref="S6.p7.2.m2.1.1">𝑢</ci><ci id="S6.p7.2.m2.2.2.cmml" xref="S6.p7.2.m2.2.2">𝑣</ci></interval></apply><apply id="S6.p7.2.m2.5.5.2.2.cmml" xref="S6.p7.2.m2.5.5.2.2"><in id="S6.p7.2.m2.5.5.2.2.1.cmml" xref="S6.p7.2.m2.5.5.2.2.1"></in><ci id="S6.p7.2.m2.5.5.2.2.2.cmml" xref="S6.p7.2.m2.5.5.2.2.2">𝑖</ci><apply id="S6.p7.2.m2.5.5.2.2.3.1.cmml" xref="S6.p7.2.m2.5.5.2.2.3.2"><csymbol cd="latexml" id="S6.p7.2.m2.5.5.2.2.3.1.1.cmml" xref="S6.p7.2.m2.5.5.2.2.3.2.1">delimited-[]</csymbol><cn id="S6.p7.2.m2.3.3.cmml" type="integer" xref="S6.p7.2.m2.3.3">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p7.2.m2.5c">\{p^{i}(u,v)|i\in[4]\}</annotation><annotation encoding="application/x-llamapun" id="S6.p7.2.m2.5d">{ italic_p start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ( italic_u , italic_v ) | italic_i ∈ [ 4 ] }</annotation></semantics></math> respectively. However, this approach highly depends on the learning performance which is also hard to have some guarantee, because of the discrepancy between learning space and inference space. Therefore, we adopt an approximate verification approach.</p>
</div>
<div class="ltx_para" id="S6.p8">
<p class="ltx_p" id="S6.p8.7">In detail, we collect items at different stages in previous request (there are 5 stages in our system), and then force these items to be exposed to corresponding users directly, which don’t need to enter the multi-stage system to avoid its selection bias. Now we can receive ground-truth feedback of items at different stages. Table <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S6.T1" title="Table 1 ‣ 6 Discussion about Assumptions ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> shows the average performance of XTR (mainly Click/Like/Follow Through Rate) at different stages of such collected data. We can see average posterior XTR is very close between consecutive stages, and the ratio between them is also in a small interval <math alttext="[\frac{1}{2},2]" class="ltx_Math" display="inline" id="S6.p8.1.m1.2"><semantics id="S6.p8.1.m1.2a"><mrow id="S6.p8.1.m1.2.3.2" xref="S6.p8.1.m1.2.3.1.cmml"><mo id="S6.p8.1.m1.2.3.2.1" stretchy="false" xref="S6.p8.1.m1.2.3.1.cmml">[</mo><mfrac id="S6.p8.1.m1.1.1" xref="S6.p8.1.m1.1.1.cmml"><mn id="S6.p8.1.m1.1.1.2" xref="S6.p8.1.m1.1.1.2.cmml">1</mn><mn id="S6.p8.1.m1.1.1.3" xref="S6.p8.1.m1.1.1.3.cmml">2</mn></mfrac><mo id="S6.p8.1.m1.2.3.2.2" xref="S6.p8.1.m1.2.3.1.cmml">,</mo><mn id="S6.p8.1.m1.2.2" xref="S6.p8.1.m1.2.2.cmml">2</mn><mo id="S6.p8.1.m1.2.3.2.3" stretchy="false" xref="S6.p8.1.m1.2.3.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.1.m1.2b"><interval closure="closed" id="S6.p8.1.m1.2.3.1.cmml" xref="S6.p8.1.m1.2.3.2"><apply id="S6.p8.1.m1.1.1.cmml" xref="S6.p8.1.m1.1.1"><divide id="S6.p8.1.m1.1.1.1.cmml" xref="S6.p8.1.m1.1.1"></divide><cn id="S6.p8.1.m1.1.1.2.cmml" type="integer" xref="S6.p8.1.m1.1.1.2">1</cn><cn id="S6.p8.1.m1.1.1.3.cmml" type="integer" xref="S6.p8.1.m1.1.1.3">2</cn></apply><cn id="S6.p8.1.m1.2.2.cmml" type="integer" xref="S6.p8.1.m1.2.2">2</cn></interval></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.1.m1.2c">[\frac{1}{2},2]</annotation><annotation encoding="application/x-llamapun" id="S6.p8.1.m1.2d">[ divide start_ARG 1 end_ARG start_ARG 2 end_ARG , 2 ]</annotation></semantics></math>. Thus we know users’ interest for all items which have entered the system are close at least on average, which implies the inequality <math alttext="\frac{1}{a}\leqslant\frac{r(u,v_{i+1})}{r(u,v_{i})}\leqslant a" class="ltx_Math" display="inline" id="S6.p8.2.m2.4"><semantics id="S6.p8.2.m2.4a"><mrow id="S6.p8.2.m2.4.5" xref="S6.p8.2.m2.4.5.cmml"><mfrac id="S6.p8.2.m2.4.5.2" xref="S6.p8.2.m2.4.5.2.cmml"><mn id="S6.p8.2.m2.4.5.2.2" xref="S6.p8.2.m2.4.5.2.2.cmml">1</mn><mi id="S6.p8.2.m2.4.5.2.3" xref="S6.p8.2.m2.4.5.2.3.cmml">a</mi></mfrac><mo id="S6.p8.2.m2.4.5.3" xref="S6.p8.2.m2.4.5.3.cmml">⩽</mo><mfrac id="S6.p8.2.m2.4.4" xref="S6.p8.2.m2.4.4.cmml"><mrow id="S6.p8.2.m2.2.2.2" xref="S6.p8.2.m2.2.2.2.cmml"><mi id="S6.p8.2.m2.2.2.2.4" xref="S6.p8.2.m2.2.2.2.4.cmml">r</mi><mo id="S6.p8.2.m2.2.2.2.3" xref="S6.p8.2.m2.2.2.2.3.cmml">⁢</mo><mrow id="S6.p8.2.m2.2.2.2.2.1" xref="S6.p8.2.m2.2.2.2.2.2.cmml"><mo id="S6.p8.2.m2.2.2.2.2.1.2" stretchy="false" xref="S6.p8.2.m2.2.2.2.2.2.cmml">(</mo><mi id="S6.p8.2.m2.1.1.1.1" xref="S6.p8.2.m2.1.1.1.1.cmml">u</mi><mo id="S6.p8.2.m2.2.2.2.2.1.3" xref="S6.p8.2.m2.2.2.2.2.2.cmml">,</mo><msub id="S6.p8.2.m2.2.2.2.2.1.1" xref="S6.p8.2.m2.2.2.2.2.1.1.cmml"><mi id="S6.p8.2.m2.2.2.2.2.1.1.2" xref="S6.p8.2.m2.2.2.2.2.1.1.2.cmml">v</mi><mrow id="S6.p8.2.m2.2.2.2.2.1.1.3" xref="S6.p8.2.m2.2.2.2.2.1.1.3.cmml"><mi id="S6.p8.2.m2.2.2.2.2.1.1.3.2" xref="S6.p8.2.m2.2.2.2.2.1.1.3.2.cmml">i</mi><mo id="S6.p8.2.m2.2.2.2.2.1.1.3.1" xref="S6.p8.2.m2.2.2.2.2.1.1.3.1.cmml">+</mo><mn id="S6.p8.2.m2.2.2.2.2.1.1.3.3" xref="S6.p8.2.m2.2.2.2.2.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S6.p8.2.m2.2.2.2.2.1.4" stretchy="false" xref="S6.p8.2.m2.2.2.2.2.2.cmml">)</mo></mrow></mrow><mrow id="S6.p8.2.m2.4.4.4" xref="S6.p8.2.m2.4.4.4.cmml"><mi id="S6.p8.2.m2.4.4.4.4" xref="S6.p8.2.m2.4.4.4.4.cmml">r</mi><mo id="S6.p8.2.m2.4.4.4.3" xref="S6.p8.2.m2.4.4.4.3.cmml">⁢</mo><mrow id="S6.p8.2.m2.4.4.4.2.1" xref="S6.p8.2.m2.4.4.4.2.2.cmml"><mo id="S6.p8.2.m2.4.4.4.2.1.2" stretchy="false" xref="S6.p8.2.m2.4.4.4.2.2.cmml">(</mo><mi id="S6.p8.2.m2.3.3.3.1" xref="S6.p8.2.m2.3.3.3.1.cmml">u</mi><mo id="S6.p8.2.m2.4.4.4.2.1.3" xref="S6.p8.2.m2.4.4.4.2.2.cmml">,</mo><msub id="S6.p8.2.m2.4.4.4.2.1.1" xref="S6.p8.2.m2.4.4.4.2.1.1.cmml"><mi id="S6.p8.2.m2.4.4.4.2.1.1.2" xref="S6.p8.2.m2.4.4.4.2.1.1.2.cmml">v</mi><mi id="S6.p8.2.m2.4.4.4.2.1.1.3" xref="S6.p8.2.m2.4.4.4.2.1.1.3.cmml">i</mi></msub><mo id="S6.p8.2.m2.4.4.4.2.1.4" stretchy="false" xref="S6.p8.2.m2.4.4.4.2.2.cmml">)</mo></mrow></mrow></mfrac><mo id="S6.p8.2.m2.4.5.4" xref="S6.p8.2.m2.4.5.4.cmml">⩽</mo><mi id="S6.p8.2.m2.4.5.5" xref="S6.p8.2.m2.4.5.5.cmml">a</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.2.m2.4b"><apply id="S6.p8.2.m2.4.5.cmml" xref="S6.p8.2.m2.4.5"><and id="S6.p8.2.m2.4.5a.cmml" xref="S6.p8.2.m2.4.5"></and><apply id="S6.p8.2.m2.4.5b.cmml" xref="S6.p8.2.m2.4.5"><leq id="S6.p8.2.m2.4.5.3.cmml" xref="S6.p8.2.m2.4.5.3"></leq><apply id="S6.p8.2.m2.4.5.2.cmml" xref="S6.p8.2.m2.4.5.2"><divide id="S6.p8.2.m2.4.5.2.1.cmml" xref="S6.p8.2.m2.4.5.2"></divide><cn id="S6.p8.2.m2.4.5.2.2.cmml" type="integer" xref="S6.p8.2.m2.4.5.2.2">1</cn><ci id="S6.p8.2.m2.4.5.2.3.cmml" xref="S6.p8.2.m2.4.5.2.3">𝑎</ci></apply><apply id="S6.p8.2.m2.4.4.cmml" xref="S6.p8.2.m2.4.4"><divide id="S6.p8.2.m2.4.4.5.cmml" xref="S6.p8.2.m2.4.4"></divide><apply id="S6.p8.2.m2.2.2.2.cmml" xref="S6.p8.2.m2.2.2.2"><times id="S6.p8.2.m2.2.2.2.3.cmml" xref="S6.p8.2.m2.2.2.2.3"></times><ci id="S6.p8.2.m2.2.2.2.4.cmml" xref="S6.p8.2.m2.2.2.2.4">𝑟</ci><interval closure="open" id="S6.p8.2.m2.2.2.2.2.2.cmml" xref="S6.p8.2.m2.2.2.2.2.1"><ci id="S6.p8.2.m2.1.1.1.1.cmml" xref="S6.p8.2.m2.1.1.1.1">𝑢</ci><apply id="S6.p8.2.m2.2.2.2.2.1.1.cmml" xref="S6.p8.2.m2.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S6.p8.2.m2.2.2.2.2.1.1.1.cmml" xref="S6.p8.2.m2.2.2.2.2.1.1">subscript</csymbol><ci id="S6.p8.2.m2.2.2.2.2.1.1.2.cmml" xref="S6.p8.2.m2.2.2.2.2.1.1.2">𝑣</ci><apply id="S6.p8.2.m2.2.2.2.2.1.1.3.cmml" xref="S6.p8.2.m2.2.2.2.2.1.1.3"><plus id="S6.p8.2.m2.2.2.2.2.1.1.3.1.cmml" xref="S6.p8.2.m2.2.2.2.2.1.1.3.1"></plus><ci id="S6.p8.2.m2.2.2.2.2.1.1.3.2.cmml" xref="S6.p8.2.m2.2.2.2.2.1.1.3.2">𝑖</ci><cn id="S6.p8.2.m2.2.2.2.2.1.1.3.3.cmml" type="integer" xref="S6.p8.2.m2.2.2.2.2.1.1.3.3">1</cn></apply></apply></interval></apply><apply id="S6.p8.2.m2.4.4.4.cmml" xref="S6.p8.2.m2.4.4.4"><times id="S6.p8.2.m2.4.4.4.3.cmml" xref="S6.p8.2.m2.4.4.4.3"></times><ci id="S6.p8.2.m2.4.4.4.4.cmml" xref="S6.p8.2.m2.4.4.4.4">𝑟</ci><interval closure="open" id="S6.p8.2.m2.4.4.4.2.2.cmml" xref="S6.p8.2.m2.4.4.4.2.1"><ci id="S6.p8.2.m2.3.3.3.1.cmml" xref="S6.p8.2.m2.3.3.3.1">𝑢</ci><apply id="S6.p8.2.m2.4.4.4.2.1.1.cmml" xref="S6.p8.2.m2.4.4.4.2.1.1"><csymbol cd="ambiguous" id="S6.p8.2.m2.4.4.4.2.1.1.1.cmml" xref="S6.p8.2.m2.4.4.4.2.1.1">subscript</csymbol><ci id="S6.p8.2.m2.4.4.4.2.1.1.2.cmml" xref="S6.p8.2.m2.4.4.4.2.1.1.2">𝑣</ci><ci id="S6.p8.2.m2.4.4.4.2.1.1.3.cmml" xref="S6.p8.2.m2.4.4.4.2.1.1.3">𝑖</ci></apply></interval></apply></apply></apply><apply id="S6.p8.2.m2.4.5c.cmml" xref="S6.p8.2.m2.4.5"><leq id="S6.p8.2.m2.4.5.4.cmml" xref="S6.p8.2.m2.4.5.4"></leq><share href="https://arxiv.org/html/2405.04844v1#S6.p8.2.m2.4.4.cmml" id="S6.p8.2.m2.4.5d.cmml" xref="S6.p8.2.m2.4.5"></share><ci id="S6.p8.2.m2.4.5.5.cmml" xref="S6.p8.2.m2.4.5.5">𝑎</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.2.m2.4c">\frac{1}{a}\leqslant\frac{r(u,v_{i+1})}{r(u,v_{i})}\leqslant a</annotation><annotation encoding="application/x-llamapun" id="S6.p8.2.m2.4d">divide start_ARG 1 end_ARG start_ARG italic_a end_ARG ⩽ divide start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG ⩽ italic_a</annotation></semantics></math> of equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S5.E8" title="In Assumption 2. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">8</span></a>) may be true in real-world and <math alttext="a" class="ltx_Math" display="inline" id="S6.p8.3.m3.1"><semantics id="S6.p8.3.m3.1a"><mi id="S6.p8.3.m3.1.1" xref="S6.p8.3.m3.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S6.p8.3.m3.1b"><ci id="S6.p8.3.m3.1.1.cmml" xref="S6.p8.3.m3.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.3.m3.1c">a</annotation><annotation encoding="application/x-llamapun" id="S6.p8.3.m3.1d">italic_a</annotation></semantics></math> may be 2 in our case. Besides, the inequality about term <math alttext="\frac{p^{i+1:4}(u,v_{i+1})}{p^{i+1:4}(u,v_{i})}" class="ltx_Math" display="inline" id="S6.p8.4.m4.4"><semantics id="S6.p8.4.m4.4a"><mfrac id="S6.p8.4.m4.4.4" xref="S6.p8.4.m4.4.4.cmml"><mrow id="S6.p8.4.m4.2.2.2" xref="S6.p8.4.m4.2.2.2.cmml"><msup id="S6.p8.4.m4.2.2.2.4" xref="S6.p8.4.m4.2.2.2.4.cmml"><mi id="S6.p8.4.m4.2.2.2.4.2" xref="S6.p8.4.m4.2.2.2.4.2.cmml">p</mi><mrow id="S6.p8.4.m4.2.2.2.4.3" xref="S6.p8.4.m4.2.2.2.4.3.cmml"><mrow id="S6.p8.4.m4.2.2.2.4.3.2" xref="S6.p8.4.m4.2.2.2.4.3.2.cmml"><mi id="S6.p8.4.m4.2.2.2.4.3.2.2" xref="S6.p8.4.m4.2.2.2.4.3.2.2.cmml">i</mi><mo id="S6.p8.4.m4.2.2.2.4.3.2.1" xref="S6.p8.4.m4.2.2.2.4.3.2.1.cmml">+</mo><mn id="S6.p8.4.m4.2.2.2.4.3.2.3" xref="S6.p8.4.m4.2.2.2.4.3.2.3.cmml">1</mn></mrow><mo id="S6.p8.4.m4.2.2.2.4.3.1" lspace="0.278em" rspace="0.278em" xref="S6.p8.4.m4.2.2.2.4.3.1.cmml">:</mo><mn id="S6.p8.4.m4.2.2.2.4.3.3" xref="S6.p8.4.m4.2.2.2.4.3.3.cmml">4</mn></mrow></msup><mo id="S6.p8.4.m4.2.2.2.3" xref="S6.p8.4.m4.2.2.2.3.cmml">⁢</mo><mrow id="S6.p8.4.m4.2.2.2.2.1" xref="S6.p8.4.m4.2.2.2.2.2.cmml"><mo id="S6.p8.4.m4.2.2.2.2.1.2" stretchy="false" xref="S6.p8.4.m4.2.2.2.2.2.cmml">(</mo><mi id="S6.p8.4.m4.1.1.1.1" xref="S6.p8.4.m4.1.1.1.1.cmml">u</mi><mo id="S6.p8.4.m4.2.2.2.2.1.3" xref="S6.p8.4.m4.2.2.2.2.2.cmml">,</mo><msub id="S6.p8.4.m4.2.2.2.2.1.1" xref="S6.p8.4.m4.2.2.2.2.1.1.cmml"><mi id="S6.p8.4.m4.2.2.2.2.1.1.2" xref="S6.p8.4.m4.2.2.2.2.1.1.2.cmml">v</mi><mrow id="S6.p8.4.m4.2.2.2.2.1.1.3" xref="S6.p8.4.m4.2.2.2.2.1.1.3.cmml"><mi id="S6.p8.4.m4.2.2.2.2.1.1.3.2" xref="S6.p8.4.m4.2.2.2.2.1.1.3.2.cmml">i</mi><mo id="S6.p8.4.m4.2.2.2.2.1.1.3.1" xref="S6.p8.4.m4.2.2.2.2.1.1.3.1.cmml">+</mo><mn id="S6.p8.4.m4.2.2.2.2.1.1.3.3" xref="S6.p8.4.m4.2.2.2.2.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S6.p8.4.m4.2.2.2.2.1.4" stretchy="false" xref="S6.p8.4.m4.2.2.2.2.2.cmml">)</mo></mrow></mrow><mrow id="S6.p8.4.m4.4.4.4" xref="S6.p8.4.m4.4.4.4.cmml"><msup id="S6.p8.4.m4.4.4.4.4" xref="S6.p8.4.m4.4.4.4.4.cmml"><mi id="S6.p8.4.m4.4.4.4.4.2" xref="S6.p8.4.m4.4.4.4.4.2.cmml">p</mi><mrow id="S6.p8.4.m4.4.4.4.4.3" xref="S6.p8.4.m4.4.4.4.4.3.cmml"><mrow id="S6.p8.4.m4.4.4.4.4.3.2" xref="S6.p8.4.m4.4.4.4.4.3.2.cmml"><mi id="S6.p8.4.m4.4.4.4.4.3.2.2" xref="S6.p8.4.m4.4.4.4.4.3.2.2.cmml">i</mi><mo id="S6.p8.4.m4.4.4.4.4.3.2.1" xref="S6.p8.4.m4.4.4.4.4.3.2.1.cmml">+</mo><mn id="S6.p8.4.m4.4.4.4.4.3.2.3" xref="S6.p8.4.m4.4.4.4.4.3.2.3.cmml">1</mn></mrow><mo id="S6.p8.4.m4.4.4.4.4.3.1" lspace="0.278em" rspace="0.278em" xref="S6.p8.4.m4.4.4.4.4.3.1.cmml">:</mo><mn id="S6.p8.4.m4.4.4.4.4.3.3" xref="S6.p8.4.m4.4.4.4.4.3.3.cmml">4</mn></mrow></msup><mo id="S6.p8.4.m4.4.4.4.3" xref="S6.p8.4.m4.4.4.4.3.cmml">⁢</mo><mrow id="S6.p8.4.m4.4.4.4.2.1" xref="S6.p8.4.m4.4.4.4.2.2.cmml"><mo id="S6.p8.4.m4.4.4.4.2.1.2" stretchy="false" xref="S6.p8.4.m4.4.4.4.2.2.cmml">(</mo><mi id="S6.p8.4.m4.3.3.3.1" xref="S6.p8.4.m4.3.3.3.1.cmml">u</mi><mo id="S6.p8.4.m4.4.4.4.2.1.3" xref="S6.p8.4.m4.4.4.4.2.2.cmml">,</mo><msub id="S6.p8.4.m4.4.4.4.2.1.1" xref="S6.p8.4.m4.4.4.4.2.1.1.cmml"><mi id="S6.p8.4.m4.4.4.4.2.1.1.2" xref="S6.p8.4.m4.4.4.4.2.1.1.2.cmml">v</mi><mi id="S6.p8.4.m4.4.4.4.2.1.1.3" xref="S6.p8.4.m4.4.4.4.2.1.1.3.cmml">i</mi></msub><mo id="S6.p8.4.m4.4.4.4.2.1.4" stretchy="false" xref="S6.p8.4.m4.4.4.4.2.2.cmml">)</mo></mrow></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S6.p8.4.m4.4b"><apply id="S6.p8.4.m4.4.4.cmml" xref="S6.p8.4.m4.4.4"><divide id="S6.p8.4.m4.4.4.5.cmml" xref="S6.p8.4.m4.4.4"></divide><apply id="S6.p8.4.m4.2.2.2.cmml" xref="S6.p8.4.m4.2.2.2"><times id="S6.p8.4.m4.2.2.2.3.cmml" xref="S6.p8.4.m4.2.2.2.3"></times><apply id="S6.p8.4.m4.2.2.2.4.cmml" xref="S6.p8.4.m4.2.2.2.4"><csymbol cd="ambiguous" id="S6.p8.4.m4.2.2.2.4.1.cmml" xref="S6.p8.4.m4.2.2.2.4">superscript</csymbol><ci id="S6.p8.4.m4.2.2.2.4.2.cmml" xref="S6.p8.4.m4.2.2.2.4.2">𝑝</ci><apply id="S6.p8.4.m4.2.2.2.4.3.cmml" xref="S6.p8.4.m4.2.2.2.4.3"><ci id="S6.p8.4.m4.2.2.2.4.3.1.cmml" xref="S6.p8.4.m4.2.2.2.4.3.1">:</ci><apply id="S6.p8.4.m4.2.2.2.4.3.2.cmml" xref="S6.p8.4.m4.2.2.2.4.3.2"><plus id="S6.p8.4.m4.2.2.2.4.3.2.1.cmml" xref="S6.p8.4.m4.2.2.2.4.3.2.1"></plus><ci id="S6.p8.4.m4.2.2.2.4.3.2.2.cmml" xref="S6.p8.4.m4.2.2.2.4.3.2.2">𝑖</ci><cn id="S6.p8.4.m4.2.2.2.4.3.2.3.cmml" type="integer" xref="S6.p8.4.m4.2.2.2.4.3.2.3">1</cn></apply><cn id="S6.p8.4.m4.2.2.2.4.3.3.cmml" type="integer" xref="S6.p8.4.m4.2.2.2.4.3.3">4</cn></apply></apply><interval closure="open" id="S6.p8.4.m4.2.2.2.2.2.cmml" xref="S6.p8.4.m4.2.2.2.2.1"><ci id="S6.p8.4.m4.1.1.1.1.cmml" xref="S6.p8.4.m4.1.1.1.1">𝑢</ci><apply id="S6.p8.4.m4.2.2.2.2.1.1.cmml" xref="S6.p8.4.m4.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S6.p8.4.m4.2.2.2.2.1.1.1.cmml" xref="S6.p8.4.m4.2.2.2.2.1.1">subscript</csymbol><ci id="S6.p8.4.m4.2.2.2.2.1.1.2.cmml" xref="S6.p8.4.m4.2.2.2.2.1.1.2">𝑣</ci><apply id="S6.p8.4.m4.2.2.2.2.1.1.3.cmml" xref="S6.p8.4.m4.2.2.2.2.1.1.3"><plus id="S6.p8.4.m4.2.2.2.2.1.1.3.1.cmml" xref="S6.p8.4.m4.2.2.2.2.1.1.3.1"></plus><ci id="S6.p8.4.m4.2.2.2.2.1.1.3.2.cmml" xref="S6.p8.4.m4.2.2.2.2.1.1.3.2">𝑖</ci><cn id="S6.p8.4.m4.2.2.2.2.1.1.3.3.cmml" type="integer" xref="S6.p8.4.m4.2.2.2.2.1.1.3.3">1</cn></apply></apply></interval></apply><apply id="S6.p8.4.m4.4.4.4.cmml" xref="S6.p8.4.m4.4.4.4"><times id="S6.p8.4.m4.4.4.4.3.cmml" xref="S6.p8.4.m4.4.4.4.3"></times><apply id="S6.p8.4.m4.4.4.4.4.cmml" xref="S6.p8.4.m4.4.4.4.4"><csymbol cd="ambiguous" id="S6.p8.4.m4.4.4.4.4.1.cmml" xref="S6.p8.4.m4.4.4.4.4">superscript</csymbol><ci id="S6.p8.4.m4.4.4.4.4.2.cmml" xref="S6.p8.4.m4.4.4.4.4.2">𝑝</ci><apply id="S6.p8.4.m4.4.4.4.4.3.cmml" xref="S6.p8.4.m4.4.4.4.4.3"><ci id="S6.p8.4.m4.4.4.4.4.3.1.cmml" xref="S6.p8.4.m4.4.4.4.4.3.1">:</ci><apply id="S6.p8.4.m4.4.4.4.4.3.2.cmml" xref="S6.p8.4.m4.4.4.4.4.3.2"><plus id="S6.p8.4.m4.4.4.4.4.3.2.1.cmml" xref="S6.p8.4.m4.4.4.4.4.3.2.1"></plus><ci id="S6.p8.4.m4.4.4.4.4.3.2.2.cmml" xref="S6.p8.4.m4.4.4.4.4.3.2.2">𝑖</ci><cn id="S6.p8.4.m4.4.4.4.4.3.2.3.cmml" type="integer" xref="S6.p8.4.m4.4.4.4.4.3.2.3">1</cn></apply><cn id="S6.p8.4.m4.4.4.4.4.3.3.cmml" type="integer" xref="S6.p8.4.m4.4.4.4.4.3.3">4</cn></apply></apply><interval closure="open" id="S6.p8.4.m4.4.4.4.2.2.cmml" xref="S6.p8.4.m4.4.4.4.2.1"><ci id="S6.p8.4.m4.3.3.3.1.cmml" xref="S6.p8.4.m4.3.3.3.1">𝑢</ci><apply id="S6.p8.4.m4.4.4.4.2.1.1.cmml" xref="S6.p8.4.m4.4.4.4.2.1.1"><csymbol cd="ambiguous" id="S6.p8.4.m4.4.4.4.2.1.1.1.cmml" xref="S6.p8.4.m4.4.4.4.2.1.1">subscript</csymbol><ci id="S6.p8.4.m4.4.4.4.2.1.1.2.cmml" xref="S6.p8.4.m4.4.4.4.2.1.1.2">𝑣</ci><ci id="S6.p8.4.m4.4.4.4.2.1.1.3.cmml" xref="S6.p8.4.m4.4.4.4.2.1.1.3">𝑖</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.4.m4.4c">\frac{p^{i+1:4}(u,v_{i+1})}{p^{i+1:4}(u,v_{i})}</annotation><annotation encoding="application/x-llamapun" id="S6.p8.4.m4.4d">divide start_ARG italic_p start_POSTSUPERSCRIPT italic_i + 1 : 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_p start_POSTSUPERSCRIPT italic_i + 1 : 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math> in equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S5.E8" title="In Assumption 2. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">8</span></a>) means an item that could be selected to the next stage is relatively more difficult than user whether likes it compared with other candidate items in subsequent stages. In practical system where <math alttext="c_{1}/c_{2}/c_{3}/c_{4}/c_{5}=6000/3000/500/120/10" class="ltx_Math" display="inline" id="S6.p8.5.m5.1"><semantics id="S6.p8.5.m5.1a"><mrow id="S6.p8.5.m5.1.1" xref="S6.p8.5.m5.1.1.cmml"><mrow id="S6.p8.5.m5.1.1.2" xref="S6.p8.5.m5.1.1.2.cmml"><msub id="S6.p8.5.m5.1.1.2.2" xref="S6.p8.5.m5.1.1.2.2.cmml"><mi id="S6.p8.5.m5.1.1.2.2.2" xref="S6.p8.5.m5.1.1.2.2.2.cmml">c</mi><mn id="S6.p8.5.m5.1.1.2.2.3" xref="S6.p8.5.m5.1.1.2.2.3.cmml">1</mn></msub><mo id="S6.p8.5.m5.1.1.2.1" xref="S6.p8.5.m5.1.1.2.1.cmml">/</mo><msub id="S6.p8.5.m5.1.1.2.3" xref="S6.p8.5.m5.1.1.2.3.cmml"><mi id="S6.p8.5.m5.1.1.2.3.2" xref="S6.p8.5.m5.1.1.2.3.2.cmml">c</mi><mn id="S6.p8.5.m5.1.1.2.3.3" xref="S6.p8.5.m5.1.1.2.3.3.cmml">2</mn></msub><mo id="S6.p8.5.m5.1.1.2.1a" xref="S6.p8.5.m5.1.1.2.1.cmml">/</mo><msub id="S6.p8.5.m5.1.1.2.4" xref="S6.p8.5.m5.1.1.2.4.cmml"><mi id="S6.p8.5.m5.1.1.2.4.2" xref="S6.p8.5.m5.1.1.2.4.2.cmml">c</mi><mn id="S6.p8.5.m5.1.1.2.4.3" xref="S6.p8.5.m5.1.1.2.4.3.cmml">3</mn></msub><mo id="S6.p8.5.m5.1.1.2.1b" xref="S6.p8.5.m5.1.1.2.1.cmml">/</mo><msub id="S6.p8.5.m5.1.1.2.5" xref="S6.p8.5.m5.1.1.2.5.cmml"><mi id="S6.p8.5.m5.1.1.2.5.2" xref="S6.p8.5.m5.1.1.2.5.2.cmml">c</mi><mn id="S6.p8.5.m5.1.1.2.5.3" xref="S6.p8.5.m5.1.1.2.5.3.cmml">4</mn></msub><mo id="S6.p8.5.m5.1.1.2.1c" xref="S6.p8.5.m5.1.1.2.1.cmml">/</mo><msub id="S6.p8.5.m5.1.1.2.6" xref="S6.p8.5.m5.1.1.2.6.cmml"><mi id="S6.p8.5.m5.1.1.2.6.2" xref="S6.p8.5.m5.1.1.2.6.2.cmml">c</mi><mn id="S6.p8.5.m5.1.1.2.6.3" xref="S6.p8.5.m5.1.1.2.6.3.cmml">5</mn></msub></mrow><mo id="S6.p8.5.m5.1.1.1" xref="S6.p8.5.m5.1.1.1.cmml">=</mo><mrow id="S6.p8.5.m5.1.1.3" xref="S6.p8.5.m5.1.1.3.cmml"><mn id="S6.p8.5.m5.1.1.3.2" xref="S6.p8.5.m5.1.1.3.2.cmml">6000</mn><mo id="S6.p8.5.m5.1.1.3.1" xref="S6.p8.5.m5.1.1.3.1.cmml">/</mo><mn id="S6.p8.5.m5.1.1.3.3" xref="S6.p8.5.m5.1.1.3.3.cmml">3000</mn><mo id="S6.p8.5.m5.1.1.3.1a" xref="S6.p8.5.m5.1.1.3.1.cmml">/</mo><mn id="S6.p8.5.m5.1.1.3.4" xref="S6.p8.5.m5.1.1.3.4.cmml">500</mn><mo id="S6.p8.5.m5.1.1.3.1b" xref="S6.p8.5.m5.1.1.3.1.cmml">/</mo><mn id="S6.p8.5.m5.1.1.3.5" xref="S6.p8.5.m5.1.1.3.5.cmml">120</mn><mo id="S6.p8.5.m5.1.1.3.1c" xref="S6.p8.5.m5.1.1.3.1.cmml">/</mo><mn id="S6.p8.5.m5.1.1.3.6" xref="S6.p8.5.m5.1.1.3.6.cmml">10</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.5.m5.1b"><apply id="S6.p8.5.m5.1.1.cmml" xref="S6.p8.5.m5.1.1"><eq id="S6.p8.5.m5.1.1.1.cmml" xref="S6.p8.5.m5.1.1.1"></eq><apply id="S6.p8.5.m5.1.1.2.cmml" xref="S6.p8.5.m5.1.1.2"><divide id="S6.p8.5.m5.1.1.2.1.cmml" xref="S6.p8.5.m5.1.1.2.1"></divide><apply id="S6.p8.5.m5.1.1.2.2.cmml" xref="S6.p8.5.m5.1.1.2.2"><csymbol cd="ambiguous" id="S6.p8.5.m5.1.1.2.2.1.cmml" xref="S6.p8.5.m5.1.1.2.2">subscript</csymbol><ci id="S6.p8.5.m5.1.1.2.2.2.cmml" xref="S6.p8.5.m5.1.1.2.2.2">𝑐</ci><cn id="S6.p8.5.m5.1.1.2.2.3.cmml" type="integer" xref="S6.p8.5.m5.1.1.2.2.3">1</cn></apply><apply id="S6.p8.5.m5.1.1.2.3.cmml" xref="S6.p8.5.m5.1.1.2.3"><csymbol cd="ambiguous" id="S6.p8.5.m5.1.1.2.3.1.cmml" xref="S6.p8.5.m5.1.1.2.3">subscript</csymbol><ci id="S6.p8.5.m5.1.1.2.3.2.cmml" xref="S6.p8.5.m5.1.1.2.3.2">𝑐</ci><cn id="S6.p8.5.m5.1.1.2.3.3.cmml" type="integer" xref="S6.p8.5.m5.1.1.2.3.3">2</cn></apply><apply id="S6.p8.5.m5.1.1.2.4.cmml" xref="S6.p8.5.m5.1.1.2.4"><csymbol cd="ambiguous" id="S6.p8.5.m5.1.1.2.4.1.cmml" xref="S6.p8.5.m5.1.1.2.4">subscript</csymbol><ci id="S6.p8.5.m5.1.1.2.4.2.cmml" xref="S6.p8.5.m5.1.1.2.4.2">𝑐</ci><cn id="S6.p8.5.m5.1.1.2.4.3.cmml" type="integer" xref="S6.p8.5.m5.1.1.2.4.3">3</cn></apply><apply id="S6.p8.5.m5.1.1.2.5.cmml" xref="S6.p8.5.m5.1.1.2.5"><csymbol cd="ambiguous" id="S6.p8.5.m5.1.1.2.5.1.cmml" xref="S6.p8.5.m5.1.1.2.5">subscript</csymbol><ci id="S6.p8.5.m5.1.1.2.5.2.cmml" xref="S6.p8.5.m5.1.1.2.5.2">𝑐</ci><cn id="S6.p8.5.m5.1.1.2.5.3.cmml" type="integer" xref="S6.p8.5.m5.1.1.2.5.3">4</cn></apply><apply id="S6.p8.5.m5.1.1.2.6.cmml" xref="S6.p8.5.m5.1.1.2.6"><csymbol cd="ambiguous" id="S6.p8.5.m5.1.1.2.6.1.cmml" xref="S6.p8.5.m5.1.1.2.6">subscript</csymbol><ci id="S6.p8.5.m5.1.1.2.6.2.cmml" xref="S6.p8.5.m5.1.1.2.6.2">𝑐</ci><cn id="S6.p8.5.m5.1.1.2.6.3.cmml" type="integer" xref="S6.p8.5.m5.1.1.2.6.3">5</cn></apply></apply><apply id="S6.p8.5.m5.1.1.3.cmml" xref="S6.p8.5.m5.1.1.3"><divide id="S6.p8.5.m5.1.1.3.1.cmml" xref="S6.p8.5.m5.1.1.3.1"></divide><cn id="S6.p8.5.m5.1.1.3.2.cmml" type="integer" xref="S6.p8.5.m5.1.1.3.2">6000</cn><cn id="S6.p8.5.m5.1.1.3.3.cmml" type="integer" xref="S6.p8.5.m5.1.1.3.3">3000</cn><cn id="S6.p8.5.m5.1.1.3.4.cmml" type="integer" xref="S6.p8.5.m5.1.1.3.4">500</cn><cn id="S6.p8.5.m5.1.1.3.5.cmml" type="integer" xref="S6.p8.5.m5.1.1.3.5">120</cn><cn id="S6.p8.5.m5.1.1.3.6.cmml" type="integer" xref="S6.p8.5.m5.1.1.3.6">10</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.5.m5.1c">c_{1}/c_{2}/c_{3}/c_{4}/c_{5}=6000/3000/500/120/10</annotation><annotation encoding="application/x-llamapun" id="S6.p8.5.m5.1d">italic_c start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT / italic_c start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT / italic_c start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT / italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT / italic_c start_POSTSUBSCRIPT 5 end_POSTSUBSCRIPT = 6000 / 3000 / 500 / 120 / 10</annotation></semantics></math>, the selecting probability from stage 2 to 3 is roughly <math alttext="\frac{500}{3000}=\frac{1}{6}" class="ltx_Math" display="inline" id="S6.p8.6.m6.1"><semantics id="S6.p8.6.m6.1a"><mrow id="S6.p8.6.m6.1.1" xref="S6.p8.6.m6.1.1.cmml"><mfrac id="S6.p8.6.m6.1.1.2" xref="S6.p8.6.m6.1.1.2.cmml"><mn id="S6.p8.6.m6.1.1.2.2" xref="S6.p8.6.m6.1.1.2.2.cmml">500</mn><mn id="S6.p8.6.m6.1.1.2.3" xref="S6.p8.6.m6.1.1.2.3.cmml">3000</mn></mfrac><mo id="S6.p8.6.m6.1.1.1" xref="S6.p8.6.m6.1.1.1.cmml">=</mo><mfrac id="S6.p8.6.m6.1.1.3" xref="S6.p8.6.m6.1.1.3.cmml"><mn id="S6.p8.6.m6.1.1.3.2" xref="S6.p8.6.m6.1.1.3.2.cmml">1</mn><mn id="S6.p8.6.m6.1.1.3.3" xref="S6.p8.6.m6.1.1.3.3.cmml">6</mn></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S6.p8.6.m6.1b"><apply id="S6.p8.6.m6.1.1.cmml" xref="S6.p8.6.m6.1.1"><eq id="S6.p8.6.m6.1.1.1.cmml" xref="S6.p8.6.m6.1.1.1"></eq><apply id="S6.p8.6.m6.1.1.2.cmml" xref="S6.p8.6.m6.1.1.2"><divide id="S6.p8.6.m6.1.1.2.1.cmml" xref="S6.p8.6.m6.1.1.2"></divide><cn id="S6.p8.6.m6.1.1.2.2.cmml" type="integer" xref="S6.p8.6.m6.1.1.2.2">500</cn><cn id="S6.p8.6.m6.1.1.2.3.cmml" type="integer" xref="S6.p8.6.m6.1.1.2.3">3000</cn></apply><apply id="S6.p8.6.m6.1.1.3.cmml" xref="S6.p8.6.m6.1.1.3"><divide id="S6.p8.6.m6.1.1.3.1.cmml" xref="S6.p8.6.m6.1.1.3"></divide><cn id="S6.p8.6.m6.1.1.3.2.cmml" type="integer" xref="S6.p8.6.m6.1.1.3.2">1</cn><cn id="S6.p8.6.m6.1.1.3.3.cmml" type="integer" xref="S6.p8.6.m6.1.1.3.3">6</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.6.m6.1c">\frac{500}{3000}=\frac{1}{6}</annotation><annotation encoding="application/x-llamapun" id="S6.p8.6.m6.1d">divide start_ARG 500 end_ARG start_ARG 3000 end_ARG = divide start_ARG 1 end_ARG start_ARG 6 end_ARG</annotation></semantics></math> on average, which means the ratio of selecting probabilities between positive (i.e. select by stage 2 into stage 3) and negative item (i.e. filtrated by stage 2) in this stage is roughly 6 on average, hence the ratio of exposure probability between these two items after subsequent stages could be even larger than 6, which may be greater than <math alttext="\frac{r(u,v_{i+1})}{r(u,v_{i})}" class="ltx_Math" display="inline" id="S6.p8.7.m7.4"><semantics id="S6.p8.7.m7.4a"><mfrac id="S6.p8.7.m7.4.4" xref="S6.p8.7.m7.4.4.cmml"><mrow id="S6.p8.7.m7.2.2.2" xref="S6.p8.7.m7.2.2.2.cmml"><mi id="S6.p8.7.m7.2.2.2.4" xref="S6.p8.7.m7.2.2.2.4.cmml">r</mi><mo id="S6.p8.7.m7.2.2.2.3" xref="S6.p8.7.m7.2.2.2.3.cmml">⁢</mo><mrow id="S6.p8.7.m7.2.2.2.2.1" xref="S6.p8.7.m7.2.2.2.2.2.cmml"><mo id="S6.p8.7.m7.2.2.2.2.1.2" stretchy="false" xref="S6.p8.7.m7.2.2.2.2.2.cmml">(</mo><mi id="S6.p8.7.m7.1.1.1.1" xref="S6.p8.7.m7.1.1.1.1.cmml">u</mi><mo id="S6.p8.7.m7.2.2.2.2.1.3" xref="S6.p8.7.m7.2.2.2.2.2.cmml">,</mo><msub id="S6.p8.7.m7.2.2.2.2.1.1" xref="S6.p8.7.m7.2.2.2.2.1.1.cmml"><mi id="S6.p8.7.m7.2.2.2.2.1.1.2" xref="S6.p8.7.m7.2.2.2.2.1.1.2.cmml">v</mi><mrow id="S6.p8.7.m7.2.2.2.2.1.1.3" xref="S6.p8.7.m7.2.2.2.2.1.1.3.cmml"><mi id="S6.p8.7.m7.2.2.2.2.1.1.3.2" xref="S6.p8.7.m7.2.2.2.2.1.1.3.2.cmml">i</mi><mo id="S6.p8.7.m7.2.2.2.2.1.1.3.1" xref="S6.p8.7.m7.2.2.2.2.1.1.3.1.cmml">+</mo><mn id="S6.p8.7.m7.2.2.2.2.1.1.3.3" xref="S6.p8.7.m7.2.2.2.2.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S6.p8.7.m7.2.2.2.2.1.4" stretchy="false" xref="S6.p8.7.m7.2.2.2.2.2.cmml">)</mo></mrow></mrow><mrow id="S6.p8.7.m7.4.4.4" xref="S6.p8.7.m7.4.4.4.cmml"><mi id="S6.p8.7.m7.4.4.4.4" xref="S6.p8.7.m7.4.4.4.4.cmml">r</mi><mo id="S6.p8.7.m7.4.4.4.3" xref="S6.p8.7.m7.4.4.4.3.cmml">⁢</mo><mrow id="S6.p8.7.m7.4.4.4.2.1" xref="S6.p8.7.m7.4.4.4.2.2.cmml"><mo id="S6.p8.7.m7.4.4.4.2.1.2" stretchy="false" xref="S6.p8.7.m7.4.4.4.2.2.cmml">(</mo><mi id="S6.p8.7.m7.3.3.3.1" xref="S6.p8.7.m7.3.3.3.1.cmml">u</mi><mo id="S6.p8.7.m7.4.4.4.2.1.3" xref="S6.p8.7.m7.4.4.4.2.2.cmml">,</mo><msub id="S6.p8.7.m7.4.4.4.2.1.1" xref="S6.p8.7.m7.4.4.4.2.1.1.cmml"><mi id="S6.p8.7.m7.4.4.4.2.1.1.2" xref="S6.p8.7.m7.4.4.4.2.1.1.2.cmml">v</mi><mi id="S6.p8.7.m7.4.4.4.2.1.1.3" xref="S6.p8.7.m7.4.4.4.2.1.1.3.cmml">i</mi></msub><mo id="S6.p8.7.m7.4.4.4.2.1.4" stretchy="false" xref="S6.p8.7.m7.4.4.4.2.2.cmml">)</mo></mrow></mrow></mfrac><annotation-xml encoding="MathML-Content" id="S6.p8.7.m7.4b"><apply id="S6.p8.7.m7.4.4.cmml" xref="S6.p8.7.m7.4.4"><divide id="S6.p8.7.m7.4.4.5.cmml" xref="S6.p8.7.m7.4.4"></divide><apply id="S6.p8.7.m7.2.2.2.cmml" xref="S6.p8.7.m7.2.2.2"><times id="S6.p8.7.m7.2.2.2.3.cmml" xref="S6.p8.7.m7.2.2.2.3"></times><ci id="S6.p8.7.m7.2.2.2.4.cmml" xref="S6.p8.7.m7.2.2.2.4">𝑟</ci><interval closure="open" id="S6.p8.7.m7.2.2.2.2.2.cmml" xref="S6.p8.7.m7.2.2.2.2.1"><ci id="S6.p8.7.m7.1.1.1.1.cmml" xref="S6.p8.7.m7.1.1.1.1">𝑢</ci><apply id="S6.p8.7.m7.2.2.2.2.1.1.cmml" xref="S6.p8.7.m7.2.2.2.2.1.1"><csymbol cd="ambiguous" id="S6.p8.7.m7.2.2.2.2.1.1.1.cmml" xref="S6.p8.7.m7.2.2.2.2.1.1">subscript</csymbol><ci id="S6.p8.7.m7.2.2.2.2.1.1.2.cmml" xref="S6.p8.7.m7.2.2.2.2.1.1.2">𝑣</ci><apply id="S6.p8.7.m7.2.2.2.2.1.1.3.cmml" xref="S6.p8.7.m7.2.2.2.2.1.1.3"><plus id="S6.p8.7.m7.2.2.2.2.1.1.3.1.cmml" xref="S6.p8.7.m7.2.2.2.2.1.1.3.1"></plus><ci id="S6.p8.7.m7.2.2.2.2.1.1.3.2.cmml" xref="S6.p8.7.m7.2.2.2.2.1.1.3.2">𝑖</ci><cn id="S6.p8.7.m7.2.2.2.2.1.1.3.3.cmml" type="integer" xref="S6.p8.7.m7.2.2.2.2.1.1.3.3">1</cn></apply></apply></interval></apply><apply id="S6.p8.7.m7.4.4.4.cmml" xref="S6.p8.7.m7.4.4.4"><times id="S6.p8.7.m7.4.4.4.3.cmml" xref="S6.p8.7.m7.4.4.4.3"></times><ci id="S6.p8.7.m7.4.4.4.4.cmml" xref="S6.p8.7.m7.4.4.4.4">𝑟</ci><interval closure="open" id="S6.p8.7.m7.4.4.4.2.2.cmml" xref="S6.p8.7.m7.4.4.4.2.1"><ci id="S6.p8.7.m7.3.3.3.1.cmml" xref="S6.p8.7.m7.3.3.3.1">𝑢</ci><apply id="S6.p8.7.m7.4.4.4.2.1.1.cmml" xref="S6.p8.7.m7.4.4.4.2.1.1"><csymbol cd="ambiguous" id="S6.p8.7.m7.4.4.4.2.1.1.1.cmml" xref="S6.p8.7.m7.4.4.4.2.1.1">subscript</csymbol><ci id="S6.p8.7.m7.4.4.4.2.1.1.2.cmml" xref="S6.p8.7.m7.4.4.4.2.1.1.2">𝑣</ci><ci id="S6.p8.7.m7.4.4.4.2.1.1.3.cmml" xref="S6.p8.7.m7.4.4.4.2.1.1.3">𝑖</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.p8.7.m7.4c">\frac{r(u,v_{i+1})}{r(u,v_{i})}</annotation><annotation encoding="application/x-llamapun" id="S6.p8.7.m7.4d">divide start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math> with high probability. Therefore, Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption2" title="Assumption 2. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a> may be mild enough to be satisfied in a real environment, at least in a short-video platform.</p>
</div>
<figure class="ltx_table" id="S6.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 1: </span>Posterior XTR of Items at Different Stages.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S6.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T1.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S6.T1.1.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T1.1.1.1.2">Stage 1</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T1.1.1.1.3">Stage 2</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T1.1.1.1.4">Stage 3</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T1.1.1.1.5">Stage 4</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T1.1.1.1.6">Stage 5</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T1.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S6.T1.1.2.1.1"><span class="ltx_text ltx_font_italic" id="S6.T1.1.2.1.1.1">Posterior CTR</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.2.1.2">0.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.2.1.3">0.33</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.2.1.4">0.34</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.2.1.5">0.49</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.2.1.6">0.56</td>
</tr>
<tr class="ltx_tr" id="S6.T1.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S6.T1.1.3.2.1"><span class="ltx_text ltx_font_italic" id="S6.T1.1.3.2.1.1">Posterior LTR</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.3.2.2">0.009</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.3.2.3">0.010</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.3.2.4">0.015</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.3.2.5">0.022</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.3.2.6">0.026</td>
</tr>
<tr class="ltx_tr" id="S6.T1.1.4.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S6.T1.1.4.3.1"><span class="ltx_text ltx_font_italic" id="S6.T1.1.4.3.1.1">Posterior FTR</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T1.1.4.3.2">0.0018</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T1.1.4.3.3">0.0022</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T1.1.4.3.4">0.0029</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T1.1.4.3.5">0.0038</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S6.T1.1.4.3.6">0.0046</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section class="ltx_section ltx_indent_first" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Practical Implementation</h2>
<div class="ltx_para" id="S7.p1">
<p class="ltx_p" id="S7.p1.1">In this section, we present our implementation details of FS-LTR in real-world online multi-stage recommendation systems, including data collection, training, and serving.</p>
</div>
<div class="ltx_para ltx_noindent" id="S7.p2">
<p class="ltx_p" id="S7.p2.1"><span class="ltx_text ltx_font_bold" id="S7.p2.1.1">Data Collection:</span> Collecting data in full stages of a recommendation system online is a very challenging engineering task, since the number of these data far exceeds the magnitude of the exposure data in each request. For example, it could be 10000 versus 6 in real system, hence it is impractical to collect all of them considering the cost of storage and communication bandwidth. In practice, for each requst, we randomly sample 40 negative items in retrieval and pre-ranking stage respectively, and record all items (around 400) in ranking stage with corresponding concrete ranking information.</p>
</div>
<div class="ltx_para ltx_noindent" id="S7.p3">
<p class="ltx_p" id="S7.p3.2"><span class="ltx_text ltx_font_bold" id="S7.p3.2.1">Training:</span> We use lambda rank to train our model in retrieval stage with <math alttext="z_{i}:=i" class="ltx_Math" display="inline" id="S7.p3.1.m1.1"><semantics id="S7.p3.1.m1.1a"><mrow id="S7.p3.1.m1.1.1" xref="S7.p3.1.m1.1.1.cmml"><msub id="S7.p3.1.m1.1.1.2" xref="S7.p3.1.m1.1.1.2.cmml"><mi id="S7.p3.1.m1.1.1.2.2" xref="S7.p3.1.m1.1.1.2.2.cmml">z</mi><mi id="S7.p3.1.m1.1.1.2.3" xref="S7.p3.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S7.p3.1.m1.1.1.1" lspace="0.278em" rspace="0.278em" xref="S7.p3.1.m1.1.1.1.cmml">:=</mo><mi id="S7.p3.1.m1.1.1.3" xref="S7.p3.1.m1.1.1.3.cmml">i</mi></mrow><annotation-xml encoding="MathML-Content" id="S7.p3.1.m1.1b"><apply id="S7.p3.1.m1.1.1.cmml" xref="S7.p3.1.m1.1.1"><csymbol cd="latexml" id="S7.p3.1.m1.1.1.1.cmml" xref="S7.p3.1.m1.1.1.1">assign</csymbol><apply id="S7.p3.1.m1.1.1.2.cmml" xref="S7.p3.1.m1.1.1.2"><csymbol cd="ambiguous" id="S7.p3.1.m1.1.1.2.1.cmml" xref="S7.p3.1.m1.1.1.2">subscript</csymbol><ci id="S7.p3.1.m1.1.1.2.2.cmml" xref="S7.p3.1.m1.1.1.2.2">𝑧</ci><ci id="S7.p3.1.m1.1.1.2.3.cmml" xref="S7.p3.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S7.p3.1.m1.1.1.3.cmml" xref="S7.p3.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.p3.1.m1.1c">z_{i}:=i</annotation><annotation encoding="application/x-llamapun" id="S7.p3.1.m1.1d">italic_z start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT := italic_i</annotation></semantics></math>. To reduce training cost, we only use a subset of collected data in each request. The higher stage the data belongs to, the more we use it, since data in higher stages is more important and hard to be learned. We also substitute the cross-entropy loss in lambda rank with margin loss, as well as trying different labels (for example, 0, 1, 2, 3, 4, 6) to enhance the learning of hard samples. Though having some improvements in offline evaluation, it doesn’t lead to online gain. What’s more, to speed up training, one could use pairwise LTR instead of lambda rank, which avoids expensive sort operation during training but with only mild damage in online performance. Finally, it is also possible to use softmax loss with soft labels <math alttext="l(u,v)" class="ltx_Math" display="inline" id="S7.p3.2.m2.2"><semantics id="S7.p3.2.m2.2a"><mrow id="S7.p3.2.m2.2.3" xref="S7.p3.2.m2.2.3.cmml"><mi id="S7.p3.2.m2.2.3.2" xref="S7.p3.2.m2.2.3.2.cmml">l</mi><mo id="S7.p3.2.m2.2.3.1" xref="S7.p3.2.m2.2.3.1.cmml">⁢</mo><mrow id="S7.p3.2.m2.2.3.3.2" xref="S7.p3.2.m2.2.3.3.1.cmml"><mo id="S7.p3.2.m2.2.3.3.2.1" stretchy="false" xref="S7.p3.2.m2.2.3.3.1.cmml">(</mo><mi id="S7.p3.2.m2.1.1" xref="S7.p3.2.m2.1.1.cmml">u</mi><mo id="S7.p3.2.m2.2.3.3.2.2" xref="S7.p3.2.m2.2.3.3.1.cmml">,</mo><mi id="S7.p3.2.m2.2.2" xref="S7.p3.2.m2.2.2.cmml">v</mi><mo id="S7.p3.2.m2.2.3.3.2.3" stretchy="false" xref="S7.p3.2.m2.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S7.p3.2.m2.2b"><apply id="S7.p3.2.m2.2.3.cmml" xref="S7.p3.2.m2.2.3"><times id="S7.p3.2.m2.2.3.1.cmml" xref="S7.p3.2.m2.2.3.1"></times><ci id="S7.p3.2.m2.2.3.2.cmml" xref="S7.p3.2.m2.2.3.2">𝑙</ci><interval closure="open" id="S7.p3.2.m2.2.3.3.1.cmml" xref="S7.p3.2.m2.2.3.3.2"><ci id="S7.p3.2.m2.1.1.cmml" xref="S7.p3.2.m2.1.1">𝑢</ci><ci id="S7.p3.2.m2.2.2.cmml" xref="S7.p3.2.m2.2.2">𝑣</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S7.p3.2.m2.2c">l(u,v)</annotation><annotation encoding="application/x-llamapun" id="S7.p3.2.m2.2d">italic_l ( italic_u , italic_v )</annotation></semantics></math> to further speed up training.</p>
</div>
<div class="ltx_para ltx_noindent" id="S7.p4">
<p class="ltx_p" id="S7.p4.1"><span class="ltx_text ltx_font_bold" id="S7.p4.1.1">Serving:</span> At retrieval stage, to enhance the diversity of returned results in each request, we add some noise to the top representation vector of users, which also fulfills some mild exploration. The same trick could be used in other stages too.</p>
</div>
</section>
<section class="ltx_section ltx_indent_first" id="S8">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8 </span>Experiments</h2>
<div class="ltx_para" id="S8.p1">
<p class="ltx_p" id="S8.p1.1">In this section, we conduct both offline experiments and online A/B testing to answer the following research questions:</p>
<ul class="ltx_itemize" id="S8.I1">
<li class="ltx_item" id="S8.I1.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S8.I1.ix1.1.1.1">RQ1</span></span>
<div class="ltx_para" id="S8.I1.ix1.p1">
<p class="ltx_p" id="S8.I1.ix1.p1.1">How can we simulate a multi-stage system with an offline dataset for evaluating our proposed method? (Sec <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS1" title="8.1 Offline Simulation of Multi-Stage Pipeline ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">8.1</span></a>)</p>
</div>
</li>
<li class="ltx_item" id="S8.I1.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S8.I1.ix2.1.1.1">RQ2</span></span>
<div class="ltx_para" id="S8.I1.ix2.p1">
<p class="ltx_p" id="S8.I1.ix2.p1.1">What is the effectiveness of FS-LTR on the offline simulated multi-stage recommendation system? (Sec <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS2" title="8.2 Performance Comparison ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">8.2</span></a>)</p>
</div>
</li>
<li class="ltx_item" id="S8.I1.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S8.I1.ix3.1.1.1">RQ3</span></span>
<div class="ltx_para" id="S8.I1.ix3.p1">
<p class="ltx_p" id="S8.I1.ix3.p1.1">How does each component or hyperparameter in Full Stage Learning to Rank affect the performance? (Sec <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS3.SSS2" title="8.3.2 The number of samples from different stages ‣ 8.3 Ablation Study ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">8.3.2</span></a>)</p>
</div>
</li>
<li class="ltx_item" id="S8.I1.ix4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="S8.I1.ix4.1.1.1">RQ4</span></span>
<div class="ltx_para" id="S8.I1.ix4.p1">
<p class="ltx_p" id="S8.I1.ix4.p1.1">How does FS-LTR perform in online environment? (Sec <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.SS4" title="8.4 Online A/B Testing ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">8.4</span></a>)</p>
</div>
</li>
</ul>
</div>
<section class="ltx_subsection ltx_indent_first" id="S8.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">8.1 </span>Offline Simulation of Multi-Stage Pipeline</h3>
<div class="ltx_para" id="S8.SS1.p1">
<p class="ltx_p" id="S8.SS1.p1.1">In this section, we introduce our offline simulation from two perspectives: dataset, multi-stage simulation.</p>
</div>
<section class="ltx_subsubsection ltx_indent_first" id="S8.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">8.1.1 </span>Dataset</h4>
<div class="ltx_para" id="S8.SS1.SSS1.p1">
<p class="ltx_p" id="S8.SS1.SSS1.p1.1">Different stages of a multi-stage recommendation have a huge magnitude difference in the number of candidates, thereby the first stage needs an enormous amount of candidates. However, most of the datasets in recommendation systems are highly sparse, which leads to a limited number of available reasonable candidates. Even if we can train a model to capture the latent preference of the user, without the ground truth of user-item interaction, we still cannot determine whether the user prefers the item. The original sparse ground truth may be more sparse after passing the multi-stage pipeline.</p>
</div>
<figure class="ltx_table" id="S8.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 2: </span>Statistics of KuaiRec dataset.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S8.T2.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S8.T2.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt" id="S8.T2.1.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S8.T2.1.1.1.2">#User</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S8.T2.1.1.1.3">#Item</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S8.T2.1.1.1.4">#Interaction</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S8.T2.1.1.1.5">Density</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S8.T2.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S8.T2.1.2.1.1"><span class="ltx_text ltx_font_italic" id="S8.T2.1.2.1.1.1">small matrix</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T2.1.2.1.2">1,411</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T2.1.2.1.3">3,327</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T2.1.2.1.4">4,676,570</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T2.1.2.1.5">99.6%</td>
</tr>
<tr class="ltx_tr" id="S8.T2.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S8.T2.1.3.2.1"><span class="ltx_text ltx_font_italic" id="S8.T2.1.3.2.1.1">big matrix</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S8.T2.1.3.2.2">7,176</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S8.T2.1.3.2.3">10,728</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S8.T2.1.3.2.4">12,530,806</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S8.T2.1.3.2.5">16.3%</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S8.SS1.SSS1.p2">
<p class="ltx_p" id="S8.SS1.SSS1.p2.1">To build a convincing simulation on the multi-stage recommendation pipeline, we utilize the fully-observed dataset <span class="ltx_text ltx_font_bold" id="S8.SS1.SSS1.p2.1.1">KuaiRec<cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text ltx_font_medium" id="S8.SS1.SSS1.p2.1.1.1.1">[</span><span class="ltx_ref ltx_missing_citation ltx_ref_self">gao2022kuairec</span><span class="ltx_text ltx_font_medium" id="S8.SS1.SSS1.p2.1.1.2.2">]</span></cite></span> as our base dataset. KuaiRec is a real-world dataset collected from the recommendation logs of a video-sharing platform. "Fully Observed" means that there are almost no missing values in the user-item interaction matrix, allowing an enormous amount of available candidates with ground truth for simulating the multi-stage recommendation pipeline. There are two user-item interaction matrices in KuaiRec, named <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS1.p2.1.2">small matrix</span> and <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS1.p2.1.3">big matrix</span>. The statistics of the two matrices are listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.T2" title="Table 2 ‣ 8.1.1 Dataset ‣ 8.1 Offline Simulation of Multi-Stage Pipeline ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>. Both of these two matrix are more dense than most of the recommendation datasets. Moreover, rich side features are provided for each user and item in the KuaiRec dataset, enabling training a good ranking model for simulating the multi-stage pipeline. All of the user and item in <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS1.p2.1.4">small matrix</span> also occur in the <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS1.p2.1.5">big matrix</span>, but interactions in <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS1.p2.1.6">small matrix</span> and <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS1.p2.1.7">big matrix</span> are excluded from each other.</p>
</div>
</section>
<section class="ltx_subsubsection ltx_indent_first" id="S8.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">8.1.2 </span>Multi-Stage Simulation</h4>
<div class="ltx_para" id="S8.SS1.SSS2.p1">
<p class="ltx_p" id="S8.SS1.SSS2.p1.1">We consider building a multi-stage pipeline containing three parts: retrieval, prerank, and rank. Each item must pass all these three stages to be exposed to the user. In each stage, a learned model will score each candidate item, and items with relatively high scores can be passed to the next stage. We assume that</p>
</div>
<div class="ltx_para" id="S8.SS1.SSS2.p2">
<p class="ltx_p" id="S8.SS1.SSS2.p2.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="S8.SS1.SSS2.p2.1.m1.1"><semantics id="S8.SS1.SSS2.p2.1.m1.1a"><mo id="S8.SS1.SSS2.p2.1.m1.1.1" xref="S8.SS1.SSS2.p2.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S8.SS1.SSS2.p2.1.m1.1b"><ci id="S8.SS1.SSS2.p2.1.m1.1.1.cmml" xref="S8.SS1.SSS2.p2.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S8.SS1.SSS2.p2.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="S8.SS1.SSS2.p2.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="S8.SS1.SSS2.p2.1.1">Retrieval candidate pool</span> contains all of the items in <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS2.p2.1.2">big matrix</span>( ~11000).</p>
</div>
<div class="ltx_para" id="S8.SS1.SSS2.p3">
<p class="ltx_p" id="S8.SS1.SSS2.p3.1"><math alttext="\bullet" class="ltx_Math" display="inline" id="S8.SS1.SSS2.p3.1.m1.1"><semantics id="S8.SS1.SSS2.p3.1.m1.1a"><mo id="S8.SS1.SSS2.p3.1.m1.1.1" xref="S8.SS1.SSS2.p3.1.m1.1.1.cmml">∙</mo><annotation-xml encoding="MathML-Content" id="S8.SS1.SSS2.p3.1.m1.1b"><ci id="S8.SS1.SSS2.p3.1.m1.1.1.cmml" xref="S8.SS1.SSS2.p3.1.m1.1.1">∙</ci></annotation-xml><annotation encoding="application/x-tex" id="S8.SS1.SSS2.p3.1.m1.1c">\bullet</annotation><annotation encoding="application/x-llamapun" id="S8.SS1.SSS2.p3.1.m1.1d">∙</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="S8.SS1.SSS2.p3.1.1">Prerank candidate pool</span> of each user contains all of the items exposed to the user in both <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS2.p3.1.2">big matrix</span> and <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS2.p3.1.3">small matrix</span>(~3500).</p>
</div>
<div class="ltx_para" id="S8.SS1.SSS2.p4">
<p class="ltx_p" id="S8.SS1.SSS2.p4.1">Since we hope the learned models have a relatively strong ability to predict users’ interests, we use the <span class="ltx_text ltx_font_italic" id="S8.SS1.SSS2.p4.1.1">big matrix</span> with user features and item features to train the prerank / rank model. We select the two-tower DNN for the prerank model and common DNN for the rank model. Details can be viewed in Appendix <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.SS4" title="A.4 Implementation Details of Prerank / Rank Model in Simulated Multi-Stage Pipeline ‣ Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">A.4</span></a>. All of the prerank candidates can be scored with the prerank model and the rank model, enabling us to simulate the multi-stage pipeline. For the convenience of later training and evaluation, we model the whole multi-stage pipeline as a static <span class="ltx_text ltx_font_bold" id="S8.SS1.SSS2.p4.1.2">request</span>, which approximately simulates our online practical system. See <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.SS4" title="A.4 Implementation Details of Prerank / Rank Model in Simulated Multi-Stage Pipeline ‣ Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">A.4</span></a> for more details about data generation of a static request.</p>
</div>
<div class="ltx_para" id="S8.SS1.SSS2.p5">
<p class="ltx_p" id="S8.SS1.SSS2.p5.1">Multiple request procedures can be repeatedly simulated to generate different multi-stage recommendation training samples. For evaluation, requests for validation or tests are separated in order to avoid label leakage. Within this simulated environment, see Appendix <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.SS5" title="A.5 Data Preparation for Training and Evaluation ‣ Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">A.5</span></a> about concrete data preparation for training and evaluation.</p>
</div>
</section>
</section>
<section class="ltx_subsection ltx_indent_first" id="S8.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">8.2 </span>Performance Comparison</h3>
<section class="ltx_subsubsection ltx_indent_first" id="S8.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">8.2.1 </span>Implementation Details</h4>
<div class="ltx_para" id="S8.SS2.SSS1.p1">
<p class="ltx_p" id="S8.SS2.SSS1.p1.1">We utilize the <span class="ltx_text ltx_font_bold" id="S8.SS2.SSS1.p1.1.1">MF<cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text ltx_font_medium" id="S8.SS2.SSS1.p1.1.1.1.1">[</span><span class="ltx_ref ltx_missing_citation ltx_ref_self">koren2009matrix</span><span class="ltx_text ltx_font_medium" id="S8.SS2.SSS1.p1.1.1.2.2">]</span></cite></span> as the model structure for all methods. We implement all of the offline experiments with Pytorch 1.13 in Python 3.8. We set the same value for basic hyperparameters. The size of the embedding is set to 64, the batch size is set to 128. L2 normalization is applied to the embedding during training and inference. We use the Adam optimizer with a learning rate of 0.001 for training for all methods.</p>
</div>
</section>
<section class="ltx_subsubsection ltx_indent_first" id="S8.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">8.2.2 </span>Baseline Methods</h4>
<div class="ltx_para" id="S8.SS2.SSS2.p1">
<p class="ltx_p" id="S8.SS2.SSS2.p1.1">We select multiple widely used optimization objectives as baseline methods for our experiments:</p>
<ul class="ltx_itemize" id="S8.I2">
<li class="ltx_item" id="S8.I2.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S8.I2.i1.p1">
<p class="ltx_p" id="S8.I2.i1.p1.1"><span class="ltx_text ltx_font_bold" id="S8.I2.i1.p1.1.1">BPR<cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text ltx_font_medium" id="S8.I2.i1.p1.1.1.1.1">[</span><span class="ltx_ref ltx_missing_citation ltx_ref_self">rendle2012bpr</span><span class="ltx_text ltx_font_medium" id="S8.I2.i1.p1.1.1.2.2">]</span></cite></span> (Beyesian Personalized Ranking). An objective models the posterior preference probability of a user-item pair based on a single sampling negative user-item pair. The default number of negative samples is 5.</p>
</div>
</li>
<li class="ltx_item" id="S8.I2.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S8.I2.i2.p1">
<p class="ltx_p" id="S8.I2.i2.p1.1"><span class="ltx_text ltx_font_bold" id="S8.I2.i2.p1.1.1">SSM<cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text ltx_font_medium" id="S8.I2.i2.p1.1.1.1.1">[</span><span class="ltx_ref ltx_missing_citation ltx_ref_self">covington2016deep</span>, <span class="ltx_ref ltx_missing_citation ltx_ref_self">jean2014using</span><span class="ltx_text ltx_font_medium" id="S8.I2.i2.p1.1.1.2.2">]</span></cite></span> (Sampled-SoftMax). An objective models the preference probability of user-item pairs based on multiple sampling negative negative user-item pairs. The default number of negative samples is 5.</p>
</div>
</li>
<li class="ltx_item" id="S8.I2.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S8.I2.i3.p1">
<p class="ltx_p" id="S8.I2.i3.p1.1"><span class="ltx_text ltx_font_bold" id="S8.I2.i3.p1.1.1">BCE</span> (Binary Cross Entropy). An objective directly optimizes the preference probability of the user-item pair.</p>
</div>
</li>
<li class="ltx_item" id="S8.I2.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S8.I2.i4.p1">
<p class="ltx_p" id="S8.I2.i4.p1.1"><span class="ltx_text ltx_font_bold" id="S8.I2.i4.p1.1.1">RF</span> (RankFlow<cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">qin2022rankflow</span>]</cite>). A joint training framework for optimizing multi-stage cascade ranking system <span class="ltx_note ltx_role_footnote" id="footnote2"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>We have removed the mean squared error (MSE) loss term from the RankFlow objective function, as we found that it only introduced worse performance in our setting.</span></span></span>.</p>
</div>
</li>
</ul>
<p class="ltx_p" id="S8.SS2.SSS2.p1.2">BPR and SSM are common baseline methods for retrieval, and negative user-item pairs for them are sampled from the global candidate pool. BCE is adopted as the baseline method for our offline experiment on prerank stage.</p>
</div>
</section>
<section class="ltx_subsubsection ltx_indent_first" id="S8.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">8.2.3 </span>Evaluation Metrics</h4>
<div class="ltx_para" id="S8.SS2.SSS3.p1">
<p class="ltx_p" id="S8.SS2.SSS3.p1.1">We adopt four widely used metrics for evaluation of our methods, i.e., <span class="ltx_text ltx_font_bold" id="S8.SS2.SSS3.p1.1.1">R</span> (Recall), <span class="ltx_text ltx_font_bold" id="S8.SS2.SSS3.p1.1.2">P</span> (Precision), <span class="ltx_text ltx_font_bold" id="S8.SS2.SSS3.p1.1.3">HR</span> (HitRate), and <span class="ltx_text ltx_font_bold" id="S8.SS2.SSS3.p1.1.4">NDCG</span> (Normalized Discounted Cumulative Gain). The metrics are computed on the top 20/50 matched items. As mentioned above, the different stage has a different candidate pool for evaluation. The prerank stage has a relatively smaller candidate pool than retrieval. However, metrics only have a very limited difference between the retrieval and prerank stage for our imperfect simulation on a multi-stage recommendation system.</p>
</div>
</section>
<section class="ltx_subsubsection ltx_indent_first" id="S8.SS2.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">8.2.4 </span>Overall Performance</h4>
<div class="ltx_para" id="S8.SS2.SSS4.p1">
<p class="ltx_p" id="S8.SS2.SSS4.p1.1">Performance comparison is listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.T3" title="Table 3 ‣ 8.2.4 Overall Performance ‣ 8.2 Performance Comparison ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">3</span></a>. For baseline methods and our FS-LTR methods in retrieval, the negative sample size for each training instance is set to 5 to eliminate the effect of the negative sample size. Two variants of our FS-LTR, FS-RN(RankNet) and FS-LR(LambdaRank) outperform significantly to the baseline methods in the retrieval stage. Our FS-LR method also shows an advantage over the commonly used BCE in the prerank stage.</p>
</div>
<figure class="ltx_table" id="S8.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 3: </span>Performance comparison on our simulated multi-stage pipeline. Bold numbers represent the best results. All the numbers in the table are percentage numbers with ‘%’ omitted. All experiments are repeated 5 times to calculate the mean and standard deviation. We conduct an unpaired t-test of Full Stage Learning to Rank and the best baseline and the improvement of Full Stage Learning to Rank is significant with <math alttext="p\leq 0.05" class="ltx_Math" display="inline" id="S8.T3.2.m1.1"><semantics id="S8.T3.2.m1.1b"><mrow id="S8.T3.2.m1.1.1" xref="S8.T3.2.m1.1.1.cmml"><mi id="S8.T3.2.m1.1.1.2" xref="S8.T3.2.m1.1.1.2.cmml">p</mi><mo id="S8.T3.2.m1.1.1.1" xref="S8.T3.2.m1.1.1.1.cmml">≤</mo><mn id="S8.T3.2.m1.1.1.3" xref="S8.T3.2.m1.1.1.3.cmml">0.05</mn></mrow><annotation-xml encoding="MathML-Content" id="S8.T3.2.m1.1c"><apply id="S8.T3.2.m1.1.1.cmml" xref="S8.T3.2.m1.1.1"><leq id="S8.T3.2.m1.1.1.1.cmml" xref="S8.T3.2.m1.1.1.1"></leq><ci id="S8.T3.2.m1.1.1.2.cmml" xref="S8.T3.2.m1.1.1.2">𝑝</ci><cn id="S8.T3.2.m1.1.1.3.cmml" type="float" xref="S8.T3.2.m1.1.1.3">0.05</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.2.m1.1d">p\leq 0.05</annotation><annotation encoding="application/x-llamapun" id="S8.T3.2.m1.1e">italic_p ≤ 0.05</annotation></semantics></math> for all values with ‘<span class="ltx_text ltx_font_bold" id="S8.T3.68.1">*</span>’.</figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S8.T3.66" style="width:433.6pt;height:42.7pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-111.0pt,59.7pt) scale(0.661452642335919,0.263451376079041) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S8.T3.66.64">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S8.T3.66.64.65.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.1">Stage</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.2">Method</th>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.3">HR@20</td>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.4">NDCG@20</td>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.5">R@20</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.6">P@20</td>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.7">HR@50</td>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.8">NDCG@50</td>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.9">R@50</td>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" id="S8.T3.66.64.65.1.10">P@50</td>
</tr>
<tr class="ltx_tr" id="S8.T3.10.8.8">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S8.T3.10.8.8.9" rowspan="4"><span class="ltx_text" id="S8.T3.10.8.8.9.1">Retr</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S8.T3.10.8.8.10">BPR</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.3.1.1.1">15.77(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.3.1.1.1.m1.1"><semantics id="S8.T3.3.1.1.1.m1.1a"><mo id="S8.T3.3.1.1.1.m1.1.1" xref="S8.T3.3.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.3.1.1.1.m1.1b"><csymbol cd="latexml" id="S8.T3.3.1.1.1.m1.1.1.cmml" xref="S8.T3.3.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.3.1.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.3.1.1.1.m1.1d">±</annotation></semantics></math>0.97)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.4.2.2.2">5.50(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.4.2.2.2.m1.1"><semantics id="S8.T3.4.2.2.2.m1.1a"><mo id="S8.T3.4.2.2.2.m1.1.1" xref="S8.T3.4.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.4.2.2.2.m1.1b"><csymbol cd="latexml" id="S8.T3.4.2.2.2.m1.1.1.cmml" xref="S8.T3.4.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.4.2.2.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.4.2.2.2.m1.1d">±</annotation></semantics></math>0.53)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.5.3.3.3">0.55(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.5.3.3.3.m1.1"><semantics id="S8.T3.5.3.3.3.m1.1a"><mo id="S8.T3.5.3.3.3.m1.1.1" xref="S8.T3.5.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.5.3.3.3.m1.1b"><csymbol cd="latexml" id="S8.T3.5.3.3.3.m1.1.1.cmml" xref="S8.T3.5.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.5.3.3.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.5.3.3.3.m1.1d">±</annotation></semantics></math>0.03)</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S8.T3.6.4.4.4">0.88(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.6.4.4.4.m1.1"><semantics id="S8.T3.6.4.4.4.m1.1a"><mo id="S8.T3.6.4.4.4.m1.1.1" xref="S8.T3.6.4.4.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.6.4.4.4.m1.1b"><csymbol cd="latexml" id="S8.T3.6.4.4.4.m1.1.1.cmml" xref="S8.T3.6.4.4.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.6.4.4.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.6.4.4.4.m1.1d">±</annotation></semantics></math>0.05)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.7.5.5.5">35.59(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.7.5.5.5.m1.1"><semantics id="S8.T3.7.5.5.5.m1.1a"><mo id="S8.T3.7.5.5.5.m1.1.1" xref="S8.T3.7.5.5.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.7.5.5.5.m1.1b"><csymbol cd="latexml" id="S8.T3.7.5.5.5.m1.1.1.cmml" xref="S8.T3.7.5.5.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.7.5.5.5.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.7.5.5.5.m1.1d">±</annotation></semantics></math>1.85)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.8.6.6.6">9.46(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.8.6.6.6.m1.1"><semantics id="S8.T3.8.6.6.6.m1.1a"><mo id="S8.T3.8.6.6.6.m1.1.1" xref="S8.T3.8.6.6.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.8.6.6.6.m1.1b"><csymbol cd="latexml" id="S8.T3.8.6.6.6.m1.1.1.cmml" xref="S8.T3.8.6.6.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.8.6.6.6.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.8.6.6.6.m1.1d">±</annotation></semantics></math>0.62)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.9.7.7.7">1.41(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.9.7.7.7.m1.1"><semantics id="S8.T3.9.7.7.7.m1.1a"><mo id="S8.T3.9.7.7.7.m1.1.1" xref="S8.T3.9.7.7.7.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.9.7.7.7.m1.1b"><csymbol cd="latexml" id="S8.T3.9.7.7.7.m1.1.1.cmml" xref="S8.T3.9.7.7.7.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.9.7.7.7.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.9.7.7.7.m1.1d">±</annotation></semantics></math>0.07)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.10.8.8.8">0.91(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.10.8.8.8.m1.1"><semantics id="S8.T3.10.8.8.8.m1.1a"><mo id="S8.T3.10.8.8.8.m1.1.1" xref="S8.T3.10.8.8.8.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.10.8.8.8.m1.1b"><csymbol cd="latexml" id="S8.T3.10.8.8.8.m1.1.1.cmml" xref="S8.T3.10.8.8.8.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.10.8.8.8.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.10.8.8.8.m1.1d">±</annotation></semantics></math>0.04)</td>
</tr>
<tr class="ltx_tr" id="S8.T3.18.16.16">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T3.18.16.16.9">SSM</th>
<td class="ltx_td ltx_align_center" id="S8.T3.11.9.9.1">17.32(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.11.9.9.1.m1.1"><semantics id="S8.T3.11.9.9.1.m1.1a"><mo id="S8.T3.11.9.9.1.m1.1.1" xref="S8.T3.11.9.9.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.11.9.9.1.m1.1b"><csymbol cd="latexml" id="S8.T3.11.9.9.1.m1.1.1.cmml" xref="S8.T3.11.9.9.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.11.9.9.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.11.9.9.1.m1.1d">±</annotation></semantics></math>1.34)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.12.10.10.2">6.02(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.12.10.10.2.m1.1"><semantics id="S8.T3.12.10.10.2.m1.1a"><mo id="S8.T3.12.10.10.2.m1.1.1" xref="S8.T3.12.10.10.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.12.10.10.2.m1.1b"><csymbol cd="latexml" id="S8.T3.12.10.10.2.m1.1.1.cmml" xref="S8.T3.12.10.10.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.12.10.10.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.12.10.10.2.m1.1d">±</annotation></semantics></math>0.50)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.13.11.11.3">0.59(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.13.11.11.3.m1.1"><semantics id="S8.T3.13.11.11.3.m1.1a"><mo id="S8.T3.13.11.11.3.m1.1.1" xref="S8.T3.13.11.11.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.13.11.11.3.m1.1b"><csymbol cd="latexml" id="S8.T3.13.11.11.3.m1.1.1.cmml" xref="S8.T3.13.11.11.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.13.11.11.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.13.11.11.3.m1.1d">±</annotation></semantics></math>0.05)</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S8.T3.14.12.12.4">0.96(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.14.12.12.4.m1.1"><semantics id="S8.T3.14.12.12.4.m1.1a"><mo id="S8.T3.14.12.12.4.m1.1.1" xref="S8.T3.14.12.12.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.14.12.12.4.m1.1b"><csymbol cd="latexml" id="S8.T3.14.12.12.4.m1.1.1.cmml" xref="S8.T3.14.12.12.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.14.12.12.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.14.12.12.4.m1.1d">±</annotation></semantics></math>0.08)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.15.13.13.5">37.88(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.15.13.13.5.m1.1"><semantics id="S8.T3.15.13.13.5.m1.1a"><mo id="S8.T3.15.13.13.5.m1.1.1" xref="S8.T3.15.13.13.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.15.13.13.5.m1.1b"><csymbol cd="latexml" id="S8.T3.15.13.13.5.m1.1.1.cmml" xref="S8.T3.15.13.13.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.15.13.13.5.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.15.13.13.5.m1.1d">±</annotation></semantics></math>0.86)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.16.14.14.6">10.16(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.16.14.14.6.m1.1"><semantics id="S8.T3.16.14.14.6.m1.1a"><mo id="S8.T3.16.14.14.6.m1.1.1" xref="S8.T3.16.14.14.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.16.14.14.6.m1.1b"><csymbol cd="latexml" id="S8.T3.16.14.14.6.m1.1.1.cmml" xref="S8.T3.16.14.14.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.16.14.14.6.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.16.14.14.6.m1.1d">±</annotation></semantics></math>0.42)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.17.15.15.7">1.53(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.17.15.15.7.m1.1"><semantics id="S8.T3.17.15.15.7.m1.1a"><mo id="S8.T3.17.15.15.7.m1.1.1" xref="S8.T3.17.15.15.7.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.17.15.15.7.m1.1b"><csymbol cd="latexml" id="S8.T3.17.15.15.7.m1.1.1.cmml" xref="S8.T3.17.15.15.7.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.17.15.15.7.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.17.15.15.7.m1.1d">±</annotation></semantics></math>0.05)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.18.16.16.8">0.99(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.18.16.16.8.m1.1"><semantics id="S8.T3.18.16.16.8.m1.1a"><mo id="S8.T3.18.16.16.8.m1.1.1" xref="S8.T3.18.16.16.8.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.18.16.16.8.m1.1b"><csymbol cd="latexml" id="S8.T3.18.16.16.8.m1.1.1.cmml" xref="S8.T3.18.16.16.8.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.18.16.16.8.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.18.16.16.8.m1.1d">±</annotation></semantics></math>0.03)</td>
</tr>
<tr class="ltx_tr" id="S8.T3.26.24.24">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T3.26.24.24.9">RankFlow</th>
<td class="ltx_td ltx_align_center" id="S8.T3.19.17.17.1">17.76(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.19.17.17.1.m1.1"><semantics id="S8.T3.19.17.17.1.m1.1a"><mo id="S8.T3.19.17.17.1.m1.1.1" xref="S8.T3.19.17.17.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.19.17.17.1.m1.1b"><csymbol cd="latexml" id="S8.T3.19.17.17.1.m1.1.1.cmml" xref="S8.T3.19.17.17.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.19.17.17.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.19.17.17.1.m1.1d">±</annotation></semantics></math>0.51)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.20.18.18.2">6.20(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.20.18.18.2.m1.1"><semantics id="S8.T3.20.18.18.2.m1.1a"><mo id="S8.T3.20.18.18.2.m1.1.1" xref="S8.T3.20.18.18.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.20.18.18.2.m1.1b"><csymbol cd="latexml" id="S8.T3.20.18.18.2.m1.1.1.cmml" xref="S8.T3.20.18.18.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.20.18.18.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.20.18.18.2.m1.1d">±</annotation></semantics></math>0.35)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.21.19.19.3">0.62(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.21.19.19.3.m1.1"><semantics id="S8.T3.21.19.19.3.m1.1a"><mo id="S8.T3.21.19.19.3.m1.1.1" xref="S8.T3.21.19.19.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.21.19.19.3.m1.1b"><csymbol cd="latexml" id="S8.T3.21.19.19.3.m1.1.1.cmml" xref="S8.T3.21.19.19.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.21.19.19.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.21.19.19.3.m1.1d">±</annotation></semantics></math>0.02)</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S8.T3.22.20.20.4">1.00(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.22.20.20.4.m1.1"><semantics id="S8.T3.22.20.20.4.m1.1a"><mo id="S8.T3.22.20.20.4.m1.1.1" xref="S8.T3.22.20.20.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.22.20.20.4.m1.1b"><csymbol cd="latexml" id="S8.T3.22.20.20.4.m1.1.1.cmml" xref="S8.T3.22.20.20.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.22.20.20.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.22.20.20.4.m1.1d">±</annotation></semantics></math>0.04)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.23.21.21.5">38.64(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.23.21.21.5.m1.1"><semantics id="S8.T3.23.21.21.5.m1.1a"><mo id="S8.T3.23.21.21.5.m1.1.1" xref="S8.T3.23.21.21.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.23.21.21.5.m1.1b"><csymbol cd="latexml" id="S8.T3.23.21.21.5.m1.1.1.cmml" xref="S8.T3.23.21.21.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.23.21.21.5.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.23.21.21.5.m1.1d">±</annotation></semantics></math>1.63)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.24.22.22.6">10.40(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.24.22.22.6.m1.1"><semantics id="S8.T3.24.22.22.6.m1.1a"><mo id="S8.T3.24.22.22.6.m1.1.1" xref="S8.T3.24.22.22.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.24.22.22.6.m1.1b"><csymbol cd="latexml" id="S8.T3.24.22.22.6.m1.1.1.cmml" xref="S8.T3.24.22.22.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.24.22.22.6.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.24.22.22.6.m1.1d">±</annotation></semantics></math>0.49)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.25.23.23.7">1.60(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.25.23.23.7.m1.1"><semantics id="S8.T3.25.23.23.7.m1.1a"><mo id="S8.T3.25.23.23.7.m1.1.1" xref="S8.T3.25.23.23.7.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.25.23.23.7.m1.1b"><csymbol cd="latexml" id="S8.T3.25.23.23.7.m1.1.1.cmml" xref="S8.T3.25.23.23.7.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.25.23.23.7.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.25.23.23.7.m1.1d">±</annotation></semantics></math>0.08)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.26.24.24.8">1.02(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.26.24.24.8.m1.1"><semantics id="S8.T3.26.24.24.8.m1.1a"><mo id="S8.T3.26.24.24.8.m1.1.1" xref="S8.T3.26.24.24.8.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.26.24.24.8.m1.1b"><csymbol cd="latexml" id="S8.T3.26.24.24.8.m1.1.1.cmml" xref="S8.T3.26.24.24.8.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.26.24.24.8.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.26.24.24.8.m1.1d">±</annotation></semantics></math>0.05)</td>
</tr>
<tr class="ltx_tr" id="S8.T3.34.32.32">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S8.T3.34.32.32.9">FS-RN</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.27.25.25.1">18.14(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.27.25.25.1.m1.1"><semantics id="S8.T3.27.25.25.1.m1.1a"><mo id="S8.T3.27.25.25.1.m1.1.1" xref="S8.T3.27.25.25.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.27.25.25.1.m1.1b"><csymbol cd="latexml" id="S8.T3.27.25.25.1.m1.1.1.cmml" xref="S8.T3.27.25.25.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.27.25.25.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.27.25.25.1.m1.1d">±</annotation></semantics></math>0.49)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.28.26.26.2">6.41(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.28.26.26.2.m1.1"><semantics id="S8.T3.28.26.26.2.m1.1a"><mo id="S8.T3.28.26.26.2.m1.1.1" xref="S8.T3.28.26.26.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.28.26.26.2.m1.1b"><csymbol cd="latexml" id="S8.T3.28.26.26.2.m1.1.1.cmml" xref="S8.T3.28.26.26.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.28.26.26.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.28.26.26.2.m1.1d">±</annotation></semantics></math>0.25)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.29.27.27.3">0.63(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.29.27.27.3.m1.1"><semantics id="S8.T3.29.27.27.3.m1.1a"><mo id="S8.T3.29.27.27.3.m1.1.1" xref="S8.T3.29.27.27.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.29.27.27.3.m1.1b"><csymbol cd="latexml" id="S8.T3.29.27.27.3.m1.1.1.cmml" xref="S8.T3.29.27.27.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.29.27.27.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.29.27.27.3.m1.1d">±</annotation></semantics></math>0.03)</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S8.T3.30.28.28.4">1.03(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.30.28.28.4.m1.1"><semantics id="S8.T3.30.28.28.4.m1.1a"><mo id="S8.T3.30.28.28.4.m1.1.1" xref="S8.T3.30.28.28.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.30.28.28.4.m1.1b"><csymbol cd="latexml" id="S8.T3.30.28.28.4.m1.1.1.cmml" xref="S8.T3.30.28.28.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.30.28.28.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.30.28.28.4.m1.1d">±</annotation></semantics></math>0.03)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.31.29.29.5">38.60(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.31.29.29.5.m1.1"><semantics id="S8.T3.31.29.29.5.m1.1a"><mo id="S8.T3.31.29.29.5.m1.1.1" xref="S8.T3.31.29.29.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.31.29.29.5.m1.1b"><csymbol cd="latexml" id="S8.T3.31.29.29.5.m1.1.1.cmml" xref="S8.T3.31.29.29.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.31.29.29.5.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.31.29.29.5.m1.1d">±</annotation></semantics></math>0.73)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.32.30.30.6">10.52(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.32.30.30.6.m1.1"><semantics id="S8.T3.32.30.30.6.m1.1a"><mo id="S8.T3.32.30.30.6.m1.1.1" xref="S8.T3.32.30.30.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.32.30.30.6.m1.1b"><csymbol cd="latexml" id="S8.T3.32.30.30.6.m1.1.1.cmml" xref="S8.T3.32.30.30.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.32.30.30.6.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.32.30.30.6.m1.1d">±</annotation></semantics></math>0.19)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.33.31.31.7">1.61(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.33.31.31.7.m1.1"><semantics id="S8.T3.33.31.31.7.m1.1a"><mo id="S8.T3.33.31.31.7.m1.1.1" xref="S8.T3.33.31.31.7.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.33.31.31.7.m1.1b"><csymbol cd="latexml" id="S8.T3.33.31.31.7.m1.1.1.cmml" xref="S8.T3.33.31.31.7.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.33.31.31.7.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.33.31.31.7.m1.1d">±</annotation></semantics></math>0.05)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.34.32.32.8">1.04(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.34.32.32.8.m1.1"><semantics id="S8.T3.34.32.32.8.m1.1a"><mo id="S8.T3.34.32.32.8.m1.1.1" xref="S8.T3.34.32.32.8.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.34.32.32.8.m1.1b"><csymbol cd="latexml" id="S8.T3.34.32.32.8.m1.1.1.cmml" xref="S8.T3.34.32.32.8.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.34.32.32.8.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.34.32.32.8.m1.1d">±</annotation></semantics></math>0.03)</td>
</tr>
<tr class="ltx_tr" id="S8.T3.42.40.40">
<th class="ltx_td ltx_th ltx_th_row ltx_border_r" id="S8.T3.42.40.40.9"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T3.42.40.40.10">FS-LR</th>
<td class="ltx_td ltx_align_center" id="S8.T3.35.33.33.1"><span class="ltx_text ltx_font_bold" id="S8.T3.35.33.33.1.1">18.83(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.35.33.33.1.1.m1.1"><semantics id="S8.T3.35.33.33.1.1.m1.1a"><mo id="S8.T3.35.33.33.1.1.m1.1.1" xref="S8.T3.35.33.33.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.35.33.33.1.1.m1.1b"><csymbol cd="latexml" id="S8.T3.35.33.33.1.1.m1.1.1.cmml" xref="S8.T3.35.33.33.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.35.33.33.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.35.33.33.1.1.m1.1d">±</annotation></semantics></math>0.58)</span></td>
<td class="ltx_td ltx_align_center" id="S8.T3.36.34.34.2"><span class="ltx_text ltx_font_bold" id="S8.T3.36.34.34.2.1">6.69(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.36.34.34.2.1.m1.1"><semantics id="S8.T3.36.34.34.2.1.m1.1a"><mo id="S8.T3.36.34.34.2.1.m1.1.1" xref="S8.T3.36.34.34.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.36.34.34.2.1.m1.1b"><csymbol cd="latexml" id="S8.T3.36.34.34.2.1.m1.1.1.cmml" xref="S8.T3.36.34.34.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.36.34.34.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.36.34.34.2.1.m1.1d">±</annotation></semantics></math>0.12)*</span></td>
<td class="ltx_td ltx_align_center" id="S8.T3.37.35.35.3"><span class="ltx_text ltx_font_bold" id="S8.T3.37.35.35.3.1">0.66(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.37.35.35.3.1.m1.1"><semantics id="S8.T3.37.35.35.3.1.m1.1a"><mo id="S8.T3.37.35.35.3.1.m1.1.1" xref="S8.T3.37.35.35.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.37.35.35.3.1.m1.1b"><csymbol cd="latexml" id="S8.T3.37.35.35.3.1.m1.1.1.cmml" xref="S8.T3.37.35.35.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.37.35.35.3.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.37.35.35.3.1.m1.1d">±</annotation></semantics></math>0.02)</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S8.T3.38.36.36.4"><span class="ltx_text ltx_font_bold" id="S8.T3.38.36.36.4.1">1.06(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.38.36.36.4.1.m1.1"><semantics id="S8.T3.38.36.36.4.1.m1.1a"><mo id="S8.T3.38.36.36.4.1.m1.1.1" xref="S8.T3.38.36.36.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.38.36.36.4.1.m1.1b"><csymbol cd="latexml" id="S8.T3.38.36.36.4.1.m1.1.1.cmml" xref="S8.T3.38.36.36.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.38.36.36.4.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.38.36.36.4.1.m1.1d">±</annotation></semantics></math>0.03)</span></td>
<td class="ltx_td ltx_align_center" id="S8.T3.39.37.37.5"><span class="ltx_text ltx_font_bold" id="S8.T3.39.37.37.5.1">40.75(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.39.37.37.5.1.m1.1"><semantics id="S8.T3.39.37.37.5.1.m1.1a"><mo id="S8.T3.39.37.37.5.1.m1.1.1" xref="S8.T3.39.37.37.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.39.37.37.5.1.m1.1b"><csymbol cd="latexml" id="S8.T3.39.37.37.5.1.m1.1.1.cmml" xref="S8.T3.39.37.37.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.39.37.37.5.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.39.37.37.5.1.m1.1d">±</annotation></semantics></math>0.33)*</span></td>
<td class="ltx_td ltx_align_center" id="S8.T3.40.38.38.6"><span class="ltx_text ltx_font_bold" id="S8.T3.40.38.38.6.1">11.07(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.40.38.38.6.1.m1.1"><semantics id="S8.T3.40.38.38.6.1.m1.1a"><mo id="S8.T3.40.38.38.6.1.m1.1.1" xref="S8.T3.40.38.38.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.40.38.38.6.1.m1.1b"><csymbol cd="latexml" id="S8.T3.40.38.38.6.1.m1.1.1.cmml" xref="S8.T3.40.38.38.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.40.38.38.6.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.40.38.38.6.1.m1.1d">±</annotation></semantics></math>0.08)*</span></td>
<td class="ltx_td ltx_align_center" id="S8.T3.41.39.39.7"><span class="ltx_text ltx_font_bold" id="S8.T3.41.39.39.7.1">1.72(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.41.39.39.7.1.m1.1"><semantics id="S8.T3.41.39.39.7.1.m1.1a"><mo id="S8.T3.41.39.39.7.1.m1.1.1" xref="S8.T3.41.39.39.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.41.39.39.7.1.m1.1b"><csymbol cd="latexml" id="S8.T3.41.39.39.7.1.m1.1.1.cmml" xref="S8.T3.41.39.39.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.41.39.39.7.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.41.39.39.7.1.m1.1d">±</annotation></semantics></math>0.02)*</span></td>
<td class="ltx_td ltx_align_center" id="S8.T3.42.40.40.8"><span class="ltx_text ltx_font_bold" id="S8.T3.42.40.40.8.1">1.10(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.42.40.40.8.1.m1.1"><semantics id="S8.T3.42.40.40.8.1.m1.1a"><mo id="S8.T3.42.40.40.8.1.m1.1.1" xref="S8.T3.42.40.40.8.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.42.40.40.8.1.m1.1b"><csymbol cd="latexml" id="S8.T3.42.40.40.8.1.m1.1.1.cmml" xref="S8.T3.42.40.40.8.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.42.40.40.8.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.42.40.40.8.1.m1.1d">±</annotation></semantics></math>0.01)*</span></td>
</tr>
<tr class="ltx_tr" id="S8.T3.50.48.48">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S8.T3.50.48.48.9" rowspan="2"><span class="ltx_text" id="S8.T3.50.48.48.9.1">PR</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S8.T3.50.48.48.10">BCE</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.43.41.41.1">14.40(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.43.41.41.1.m1.1"><semantics id="S8.T3.43.41.41.1.m1.1a"><mo id="S8.T3.43.41.41.1.m1.1.1" xref="S8.T3.43.41.41.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.43.41.41.1.m1.1b"><csymbol cd="latexml" id="S8.T3.43.41.41.1.m1.1.1.cmml" xref="S8.T3.43.41.41.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.43.41.41.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.43.41.41.1.m1.1d">±</annotation></semantics></math>1.10)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.44.42.42.2">4.93 (<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.44.42.42.2.m1.1"><semantics id="S8.T3.44.42.42.2.m1.1a"><mo id="S8.T3.44.42.42.2.m1.1.1" xref="S8.T3.44.42.42.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.44.42.42.2.m1.1b"><csymbol cd="latexml" id="S8.T3.44.42.42.2.m1.1.1.cmml" xref="S8.T3.44.42.42.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.44.42.42.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.44.42.42.2.m1.1d">±</annotation></semantics></math>0.35)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.45.43.43.3">0.48(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.45.43.43.3.m1.1"><semantics id="S8.T3.45.43.43.3.m1.1a"><mo id="S8.T3.45.43.43.3.m1.1.1" xref="S8.T3.45.43.43.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.45.43.43.3.m1.1b"><csymbol cd="latexml" id="S8.T3.45.43.43.3.m1.1.1.cmml" xref="S8.T3.45.43.43.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.45.43.43.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.45.43.43.3.m1.1d">±</annotation></semantics></math>0.04)</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="S8.T3.46.44.44.4">0.76(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.46.44.44.4.m1.1"><semantics id="S8.T3.46.44.44.4.m1.1a"><mo id="S8.T3.46.44.44.4.m1.1.1" xref="S8.T3.46.44.44.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.46.44.44.4.m1.1b"><csymbol cd="latexml" id="S8.T3.46.44.44.4.m1.1.1.cmml" xref="S8.T3.46.44.44.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.46.44.44.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.46.44.44.4.m1.1d">±</annotation></semantics></math>0.06)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.47.45.45.5">32.57(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.47.45.45.5.m1.1"><semantics id="S8.T3.47.45.45.5.m1.1a"><mo id="S8.T3.47.45.45.5.m1.1.1" xref="S8.T3.47.45.45.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.47.45.45.5.m1.1b"><csymbol cd="latexml" id="S8.T3.47.45.45.5.m1.1.1.cmml" xref="S8.T3.47.45.45.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.47.45.45.5.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.47.45.45.5.m1.1d">±</annotation></semantics></math>1.68)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.48.46.46.6">8.54(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.48.46.46.6.m1.1"><semantics id="S8.T3.48.46.46.6.m1.1a"><mo id="S8.T3.48.46.46.6.m1.1.1" xref="S8.T3.48.46.46.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.48.46.46.6.m1.1b"><csymbol cd="latexml" id="S8.T3.48.46.46.6.m1.1.1.cmml" xref="S8.T3.48.46.46.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.48.46.46.6.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.48.46.46.6.m1.1d">±</annotation></semantics></math>0.50)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.49.47.47.7">1.24 (<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.49.47.47.7.m1.1"><semantics id="S8.T3.49.47.47.7.m1.1a"><mo id="S8.T3.49.47.47.7.m1.1.1" xref="S8.T3.49.47.47.7.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.49.47.47.7.m1.1b"><csymbol cd="latexml" id="S8.T3.49.47.47.7.m1.1.1.cmml" xref="S8.T3.49.47.47.7.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.49.47.47.7.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.49.47.47.7.m1.1d">±</annotation></semantics></math>0.09)</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T3.50.48.48.8">0.79(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.50.48.48.8.m1.1"><semantics id="S8.T3.50.48.48.8.m1.1a"><mo id="S8.T3.50.48.48.8.m1.1.1" xref="S8.T3.50.48.48.8.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.50.48.48.8.m1.1b"><csymbol cd="latexml" id="S8.T3.50.48.48.8.m1.1.1.cmml" xref="S8.T3.50.48.48.8.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.50.48.48.8.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.50.48.48.8.m1.1d">±</annotation></semantics></math>0.06)</td>
</tr>
<tr class="ltx_tr" id="S8.T3.58.56.56">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T3.58.56.56.9">RankFlow</th>
<td class="ltx_td ltx_align_center" id="S8.T3.51.49.49.1">18.23(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.51.49.49.1.m1.1"><semantics id="S8.T3.51.49.49.1.m1.1a"><mo id="S8.T3.51.49.49.1.m1.1.1" xref="S8.T3.51.49.49.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.51.49.49.1.m1.1b"><csymbol cd="latexml" id="S8.T3.51.49.49.1.m1.1.1.cmml" xref="S8.T3.51.49.49.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.51.49.49.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.51.49.49.1.m1.1d">±</annotation></semantics></math>0.55)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.52.50.50.2">6.53(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.52.50.50.2.m1.1"><semantics id="S8.T3.52.50.50.2.m1.1a"><mo id="S8.T3.52.50.50.2.m1.1.1" xref="S8.T3.52.50.50.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.52.50.50.2.m1.1b"><csymbol cd="latexml" id="S8.T3.52.50.50.2.m1.1.1.cmml" xref="S8.T3.52.50.50.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.52.50.50.2.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.52.50.50.2.m1.1d">±</annotation></semantics></math>0.35)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.53.51.51.3">0.65(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.53.51.51.3.m1.1"><semantics id="S8.T3.53.51.51.3.m1.1a"><mo id="S8.T3.53.51.51.3.m1.1.1" xref="S8.T3.53.51.51.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.53.51.51.3.m1.1b"><csymbol cd="latexml" id="S8.T3.53.51.51.3.m1.1.1.cmml" xref="S8.T3.53.51.51.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.53.51.51.3.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.53.51.51.3.m1.1d">±</annotation></semantics></math>0.01)</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="S8.T3.54.52.52.4">1.04(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.54.52.52.4.m1.1"><semantics id="S8.T3.54.52.52.4.m1.1a"><mo id="S8.T3.54.52.52.4.m1.1.1" xref="S8.T3.54.52.52.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.54.52.52.4.m1.1b"><csymbol cd="latexml" id="S8.T3.54.52.52.4.m1.1.1.cmml" xref="S8.T3.54.52.52.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.54.52.52.4.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.54.52.52.4.m1.1d">±</annotation></semantics></math>0.02)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.55.53.53.5">39.22(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.55.53.53.5.m1.1"><semantics id="S8.T3.55.53.53.5.m1.1a"><mo id="S8.T3.55.53.53.5.m1.1.1" xref="S8.T3.55.53.53.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.55.53.53.5.m1.1b"><csymbol cd="latexml" id="S8.T3.55.53.53.5.m1.1.1.cmml" xref="S8.T3.55.53.53.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.55.53.53.5.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.55.53.53.5.m1.1d">±</annotation></semantics></math>0.70)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.56.54.54.6">10.80(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.56.54.54.6.m1.1"><semantics id="S8.T3.56.54.54.6.m1.1a"><mo id="S8.T3.56.54.54.6.m1.1.1" xref="S8.T3.56.54.54.6.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.56.54.54.6.m1.1b"><csymbol cd="latexml" id="S8.T3.56.54.54.6.m1.1.1.cmml" xref="S8.T3.56.54.54.6.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.56.54.54.6.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.56.54.54.6.m1.1d">±</annotation></semantics></math>0.28)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.57.55.55.7">1.70(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.57.55.55.7.m1.1"><semantics id="S8.T3.57.55.55.7.m1.1a"><mo id="S8.T3.57.55.55.7.m1.1.1" xref="S8.T3.57.55.55.7.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.57.55.55.7.m1.1b"><csymbol cd="latexml" id="S8.T3.57.55.55.7.m1.1.1.cmml" xref="S8.T3.57.55.55.7.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.57.55.55.7.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.57.55.55.7.m1.1d">±</annotation></semantics></math>0.04)</td>
<td class="ltx_td ltx_align_center" id="S8.T3.58.56.56.8">1.08(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.58.56.56.8.m1.1"><semantics id="S8.T3.58.56.56.8.m1.1a"><mo id="S8.T3.58.56.56.8.m1.1.1" xref="S8.T3.58.56.56.8.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.58.56.56.8.m1.1b"><csymbol cd="latexml" id="S8.T3.58.56.56.8.m1.1.1.cmml" xref="S8.T3.58.56.56.8.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.58.56.56.8.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.58.56.56.8.m1.1d">±</annotation></semantics></math>0.03)</td>
</tr>
<tr class="ltx_tr" id="S8.T3.66.64.64">
<th class="ltx_td ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S8.T3.66.64.64.9"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S8.T3.66.64.64.10">FS-LR</th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T3.59.57.57.1"><span class="ltx_text ltx_font_bold" id="S8.T3.59.57.57.1.1">19.56(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.59.57.57.1.1.m1.1"><semantics id="S8.T3.59.57.57.1.1.m1.1a"><mo id="S8.T3.59.57.57.1.1.m1.1.1" xref="S8.T3.59.57.57.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.59.57.57.1.1.m1.1b"><csymbol cd="latexml" id="S8.T3.59.57.57.1.1.m1.1.1.cmml" xref="S8.T3.59.57.57.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.59.57.57.1.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.59.57.57.1.1.m1.1d">±</annotation></semantics></math>1.18)*</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T3.60.58.58.2"><span class="ltx_text ltx_font_bold" id="S8.T3.60.58.58.2.1">6.74(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.60.58.58.2.1.m1.1"><semantics id="S8.T3.60.58.58.2.1.m1.1a"><mo id="S8.T3.60.58.58.2.1.m1.1.1" xref="S8.T3.60.58.58.2.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.60.58.58.2.1.m1.1b"><csymbol cd="latexml" id="S8.T3.60.58.58.2.1.m1.1.1.cmml" xref="S8.T3.60.58.58.2.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.60.58.58.2.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.60.58.58.2.1.m1.1d">±</annotation></semantics></math>0.48)*</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T3.61.59.59.3"><span class="ltx_text ltx_font_bold" id="S8.T3.61.59.59.3.1">0.70(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.61.59.59.3.1.m1.1"><semantics id="S8.T3.61.59.59.3.1.m1.1a"><mo id="S8.T3.61.59.59.3.1.m1.1.1" xref="S8.T3.61.59.59.3.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.61.59.59.3.1.m1.1b"><csymbol cd="latexml" id="S8.T3.61.59.59.3.1.m1.1.1.cmml" xref="S8.T3.61.59.59.3.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.61.59.59.3.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.61.59.59.3.1.m1.1d">±</annotation></semantics></math>0.05)*</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t" id="S8.T3.62.60.60.4"><span class="ltx_text ltx_font_bold" id="S8.T3.62.60.60.4.1">1.13(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.62.60.60.4.1.m1.1"><semantics id="S8.T3.62.60.60.4.1.m1.1a"><mo id="S8.T3.62.60.60.4.1.m1.1.1" xref="S8.T3.62.60.60.4.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.62.60.60.4.1.m1.1b"><csymbol cd="latexml" id="S8.T3.62.60.60.4.1.m1.1.1.cmml" xref="S8.T3.62.60.60.4.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.62.60.60.4.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.62.60.60.4.1.m1.1d">±</annotation></semantics></math>0.07)*</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T3.63.61.61.5"><span class="ltx_text ltx_font_bold" id="S8.T3.63.61.61.5.1">40.16(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.63.61.61.5.1.m1.1"><semantics id="S8.T3.63.61.61.5.1.m1.1a"><mo id="S8.T3.63.61.61.5.1.m1.1.1" xref="S8.T3.63.61.61.5.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.63.61.61.5.1.m1.1b"><csymbol cd="latexml" id="S8.T3.63.61.61.5.1.m1.1.1.cmml" xref="S8.T3.63.61.61.5.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.63.61.61.5.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.63.61.61.5.1.m1.1d">±</annotation></semantics></math>0.72)*</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T3.64.62.62.6"><span class="ltx_text ltx_font_bold" id="S8.T3.64.62.62.6.1">10.95(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.64.62.62.6.1.m1.1"><semantics id="S8.T3.64.62.62.6.1.m1.1a"><mo id="S8.T3.64.62.62.6.1.m1.1.1" xref="S8.T3.64.62.62.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.64.62.62.6.1.m1.1b"><csymbol cd="latexml" id="S8.T3.64.62.62.6.1.m1.1.1.cmml" xref="S8.T3.64.62.62.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.64.62.62.6.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.64.62.62.6.1.m1.1d">±</annotation></semantics></math>0.39)*</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T3.65.63.63.7"><span class="ltx_text ltx_font_bold" id="S8.T3.65.63.63.7.1">1.79(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.65.63.63.7.1.m1.1"><semantics id="S8.T3.65.63.63.7.1.m1.1a"><mo id="S8.T3.65.63.63.7.1.m1.1.1" xref="S8.T3.65.63.63.7.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.65.63.63.7.1.m1.1b"><csymbol cd="latexml" id="S8.T3.65.63.63.7.1.m1.1.1.cmml" xref="S8.T3.65.63.63.7.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.65.63.63.7.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.65.63.63.7.1.m1.1d">±</annotation></semantics></math>0.04)*</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T3.66.64.64.8"><span class="ltx_text ltx_font_bold" id="S8.T3.66.64.64.8.1">1.15(<math alttext="\pm" class="ltx_Math" display="inline" id="S8.T3.66.64.64.8.1.m1.1"><semantics id="S8.T3.66.64.64.8.1.m1.1a"><mo id="S8.T3.66.64.64.8.1.m1.1.1" xref="S8.T3.66.64.64.8.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="S8.T3.66.64.64.8.1.m1.1b"><csymbol cd="latexml" id="S8.T3.66.64.64.8.1.m1.1.1.cmml" xref="S8.T3.66.64.64.8.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="S8.T3.66.64.64.8.1.m1.1c">\pm</annotation><annotation encoding="application/x-llamapun" id="S8.T3.66.64.64.8.1.m1.1d">±</annotation></semantics></math>0.02)*</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
</section>
<section class="ltx_subsection ltx_indent_first" id="S8.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">8.3 </span>Ablation Study</h3>
<div class="ltx_para" id="S8.SS3.p1">
<p class="ltx_p" id="S8.SS3.p1.1">Now we conduct experiments to further understand the effect of multi-stage negative samples and negative sample size in FS-LTR.</p>
</div>
<section class="ltx_subsubsection ltx_indent_first" id="S8.SS3.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">8.3.1 </span>Effectiveness of multi-stage samples</h4>
<div class="ltx_para" id="S8.SS3.SSS1.p1">
<p class="ltx_p" id="S8.SS3.SSS1.p1.1">The complete FS-LTR in retrieval requires user-item pairs from full stages in recommendation systems. We remove user-item pairs from different stages to verify the effectiveness of each stage sample. Results are shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.T4" title="Table 4 ‣ 8.3.2 The number of samples from different stages ‣ 8.3 Ablation Study ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">4</span></a>. The re-labeled label is also adapted to the number of stages left in the training samples. Removing the stage-negative samples causes the most degradation in model performance, showing that negative samples in a multi-stage recommendation system play a key role in FS-LTR.</p>
</div>
</section>
<section class="ltx_subsubsection ltx_indent_first" id="S8.SS3.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">8.3.2 </span>The number of samples from different stages</h4>
<div class="ltx_para" id="S8.SS3.SSS2.p1">
<p class="ltx_p" id="S8.SS3.SSS2.p1.1">We show the performance of FS-LR on the number of samples from different stages in Table <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.T5" title="Table 5 ‣ 8.3.2 The number of samples from different stages ‣ 8.3 Ablation Study ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">5</span></a>. Results show that more negative sample sizes may have a positive effect on model performance. The ratio of different stage negative sample sizes is also critical for model performance.</p>
</div>
<figure class="ltx_table" id="S8.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 4: </span>Ablation study on different stage examples.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S8.T4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S8.T4.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" id="S8.T4.1.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S8.T4.1.1.1.2">HR@50</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S8.T4.1.1.1.3">NDCG@50</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S8.T4.1.1.1.4">R@50</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S8.T4.1.1.1.5">P@50</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S8.T4.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S8.T4.1.2.1.1">w/o <span class="ltx_text ltx_font_italic" id="S8.T4.1.2.1.1.1">exposed neg</span>
</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T4.1.2.1.2">37.29</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T4.1.2.1.3">10.03</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T4.1.2.1.4">1.52</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T4.1.2.1.5">0.98</td>
</tr>
<tr class="ltx_tr" id="S8.T4.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T4.1.3.2.1">w/o <span class="ltx_text ltx_font_italic" id="S8.T4.1.3.2.1.1">stage neg</span>
</th>
<td class="ltx_td ltx_align_center" id="S8.T4.1.3.2.2">35.52</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.3.2.3">9.72</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.3.2.4">1.44</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.3.2.5">0.93</td>
</tr>
<tr class="ltx_tr" id="S8.T4.1.4.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T4.1.4.3.1">w/o <span class="ltx_text ltx_font_italic" id="S8.T4.1.4.3.1.1">rank neg</span>
</th>
<td class="ltx_td ltx_align_center" id="S8.T4.1.4.3.2">39.40</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.4.3.3">10.74</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.4.3.4">1.63</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.4.3.5">1.04</td>
</tr>
<tr class="ltx_tr" id="S8.T4.1.5.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T4.1.5.4.1">w/o <span class="ltx_text ltx_font_italic" id="S8.T4.1.5.4.1.1">prerank neg</span>
</th>
<td class="ltx_td ltx_align_center" id="S8.T4.1.5.4.2">38.31</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.5.4.3">10.16</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.5.4.4">1.56</td>
<td class="ltx_td ltx_align_center" id="S8.T4.1.5.4.5">1.01</td>
</tr>
<tr class="ltx_tr" id="S8.T4.1.6.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_r ltx_border_t" id="S8.T4.1.6.5.1">FS-LR</th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S8.T4.1.6.5.2">40.75</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S8.T4.1.6.5.3">11.07</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S8.T4.1.6.5.4">1.72</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" id="S8.T4.1.6.5.5">1.10</td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_table" id="S8.T5">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 5: </span>Study on the number of different stage examples. The ‘x,y,z’ in the Negative Sampling column denotes the number of rank/prerank/global negative samples in one training instance respectively. Exposed negative sample size is set to 1 for all methods.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S8.T5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S8.T5.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" id="S8.T5.1.1.1.1">Negative Sampling</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S8.T5.1.1.1.2">HR@50</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S8.T5.1.1.1.3">NDCG@50</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S8.T5.1.1.1.4">R@50</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt ltx_border_t" id="S8.T5.1.1.1.5">P@50</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S8.T5.1.2.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="S8.T5.1.2.1.1">1,1,1</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T5.1.2.1.2">39.12</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T5.1.2.1.3">10.45</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T5.1.2.1.4">1.68</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S8.T5.1.2.1.5">1.07</td>
</tr>
<tr class="ltx_tr" id="S8.T5.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T5.1.3.2.1">1,2,1</th>
<td class="ltx_td ltx_align_center" id="S8.T5.1.3.2.2">40.71</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.3.2.3">10.73</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.3.2.4"><span class="ltx_text ltx_font_bold" id="S8.T5.1.3.2.4.1">1.73</span></td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.3.2.5"><span class="ltx_text ltx_font_bold" id="S8.T5.1.3.2.5.1">1.10</span></td>
</tr>
<tr class="ltx_tr" id="S8.T5.1.4.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T5.1.4.3.1">2,1,1</th>
<td class="ltx_td ltx_align_center" id="S8.T5.1.4.3.2">39.67</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.4.3.3">10.71</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.4.3.4">1.68</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.4.3.5">1.07</td>
</tr>
<tr class="ltx_tr" id="S8.T5.1.5.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T5.1.5.4.1">1,1,2</th>
<td class="ltx_td ltx_align_center" id="S8.T5.1.5.4.2"><span class="ltx_text ltx_font_bold" id="S8.T5.1.5.4.2.1">40.75</span></td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.5.4.3"><span class="ltx_text ltx_font_bold" id="S8.T5.1.5.4.3.1">11.07</span></td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.5.4.4">1.72</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.5.4.5">1.10</td>
</tr>
<tr class="ltx_tr" id="S8.T5.1.6.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="S8.T5.1.6.5.1">1,1,3</th>
<td class="ltx_td ltx_align_center" id="S8.T5.1.6.5.2">39.24</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.6.5.3">10.73</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.6.5.4">1.63</td>
<td class="ltx_td ltx_align_center" id="S8.T5.1.6.5.5">1.05</td>
</tr>
<tr class="ltx_tr" id="S8.T5.1.7.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r" id="S8.T5.1.7.6.1">1,2,3</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S8.T5.1.7.6.2">39.71</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S8.T5.1.7.6.3">11.00</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S8.T5.1.7.6.4">1.69</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S8.T5.1.7.6.5">1.09</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section class="ltx_subsection ltx_indent_first" id="S8.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">8.4 </span>Online A/B Testing</h3>
<div class="ltx_para" id="S8.SS4.p1">
<p class="ltx_p" id="S8.SS4.p1.1">We used our Algorithm <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#algorithm1" title="In 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a> at the retrieval stage on one of the largest short-video platforms with implementation details described in Section <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S7" title="7 Practical Implementation ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>. The A/B test lasted for six days and had influenced over 20 million users in the experiment group, reaching a significant improvement compared with the base group which already had some strong baselines like TDM <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">TDM</span>]</cite>, Multi-Interest Retrieval <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">zhang2023divide</span>]</cite>, Comi-Rec Retrieval <cite class="ltx_cite ltx_citemacro_cite">[<span class="ltx_ref ltx_missing_citation ltx_ref_self">comirec</span>]</cite> etc. As shown in Table <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S8.T6" title="Table 6 ‣ 8.4 Online A/B Testing ‣ 8 Experiments ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">6</span></a>, our approach achieves significant gains in many engagement metrics which are statistically significant with under bootstrap test. What’s more, our retrieval algorithm has the highest reveal ratio (16%, where the second highest reveal ratio is 6%) of any other retrieval algorithm online, which coincides with the GPRP.</p>
</div>
<figure class="ltx_table" id="S8.T6">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 6: </span>Online A/B testing results.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S8.T6.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S8.T6.1.1.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_tt" id="S8.T6.1.1.1.1">App Usage Time Per User</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S8.T6.1.1.1.2">Real-show</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S8.T6.1.1.1.3">Click</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S8.T6.1.1.1.4">Like</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S8.T6.1.1.1.5">Follow</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S8.T6.1.1.1.6">Forward</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S8.T6.1.1.1.7">Comment</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S8.T6.1.1.1.8">Watch Time</td>
</tr>
<tr class="ltx_tr" id="S8.T6.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r ltx_border_t" id="S8.T6.1.2.2.1">+0.12%</th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T6.1.2.2.2">+0.50%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T6.1.2.2.3">+0.69%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T6.1.2.2.4">+0.40%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T6.1.2.2.5">0.74%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T6.1.2.2.6">+0.94%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T6.1.2.2.7">1.08%</td>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_t" id="S8.T6.1.2.2.8">+0.18%</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section class="ltx_section ltx_indent_first" id="S9">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">9 </span>Conclusions and Future Work</h2>
<div class="ltx_para" id="S9.p1">
<p class="ltx_p" id="S9.p1.1">We believe our work opens a new direction of research in multi-stage IR systems, which needs to take both the selection bias in multiple stages of the system and users’ underlying interest into consideration. We proved the effectiveness of this solution framework in both offline experiments and online A/B test.
There are several important future directions which worth indepth exploration. First, we have taken initial efforts aim to decipher the behavior of multi-stage systems, and a more comprehensive understanding will help us design more efficient and effective ranking algorithms. Second, our focus has been primarily on the alignment between our learning objective and GPRP, thus calling for the need to examine the generalization performance throughout the entire learning processes. Third, it is worthwhile to further customize the general framework for specific stages of the system for better performance. Lastly, exploring optimal solutions to handle multiple or all system stages, rather than just one, remains imperative.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<div class="ltx_para" id="S9.p2">
<span class="ltx_ERROR undefined" id="S9.p2.1">\printbibliography</span>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_appendix ltx_indent_first" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Appendix</h2>
<section class="ltx_subsection ltx_indent_first" id="A1.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.1 </span>Proof of Proposition <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E5" title="In Proposition 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">5</span></a>
</h3>
<div class="ltx_proof" id="A1.SS1.2">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div class="ltx_para" id="A1.SS1.1.p1">
<p class="ltx_p" id="A1.SS1.1.p1.3">Suppose <math alttext="\mathcal{I}^{i-1}=\{v_{1},v_{2},\dots,v_{c_{i-1}}\}" class="ltx_Math" display="inline" id="A1.SS1.1.p1.1.m1.4"><semantics id="A1.SS1.1.p1.1.m1.4a"><mrow id="A1.SS1.1.p1.1.m1.4.4" xref="A1.SS1.1.p1.1.m1.4.4.cmml"><msup id="A1.SS1.1.p1.1.m1.4.4.5" xref="A1.SS1.1.p1.1.m1.4.4.5.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.1.p1.1.m1.4.4.5.2" xref="A1.SS1.1.p1.1.m1.4.4.5.2.cmml">ℐ</mi><mrow id="A1.SS1.1.p1.1.m1.4.4.5.3" xref="A1.SS1.1.p1.1.m1.4.4.5.3.cmml"><mi id="A1.SS1.1.p1.1.m1.4.4.5.3.2" xref="A1.SS1.1.p1.1.m1.4.4.5.3.2.cmml">i</mi><mo id="A1.SS1.1.p1.1.m1.4.4.5.3.1" xref="A1.SS1.1.p1.1.m1.4.4.5.3.1.cmml">−</mo><mn id="A1.SS1.1.p1.1.m1.4.4.5.3.3" xref="A1.SS1.1.p1.1.m1.4.4.5.3.3.cmml">1</mn></mrow></msup><mo id="A1.SS1.1.p1.1.m1.4.4.4" xref="A1.SS1.1.p1.1.m1.4.4.4.cmml">=</mo><mrow id="A1.SS1.1.p1.1.m1.4.4.3.3" xref="A1.SS1.1.p1.1.m1.4.4.3.4.cmml"><mo id="A1.SS1.1.p1.1.m1.4.4.3.3.4" stretchy="false" xref="A1.SS1.1.p1.1.m1.4.4.3.4.cmml">{</mo><msub id="A1.SS1.1.p1.1.m1.2.2.1.1.1" xref="A1.SS1.1.p1.1.m1.2.2.1.1.1.cmml"><mi id="A1.SS1.1.p1.1.m1.2.2.1.1.1.2" xref="A1.SS1.1.p1.1.m1.2.2.1.1.1.2.cmml">v</mi><mn id="A1.SS1.1.p1.1.m1.2.2.1.1.1.3" xref="A1.SS1.1.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="A1.SS1.1.p1.1.m1.4.4.3.3.5" xref="A1.SS1.1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="A1.SS1.1.p1.1.m1.3.3.2.2.2" xref="A1.SS1.1.p1.1.m1.3.3.2.2.2.cmml"><mi id="A1.SS1.1.p1.1.m1.3.3.2.2.2.2" xref="A1.SS1.1.p1.1.m1.3.3.2.2.2.2.cmml">v</mi><mn id="A1.SS1.1.p1.1.m1.3.3.2.2.2.3" xref="A1.SS1.1.p1.1.m1.3.3.2.2.2.3.cmml">2</mn></msub><mo id="A1.SS1.1.p1.1.m1.4.4.3.3.6" xref="A1.SS1.1.p1.1.m1.4.4.3.4.cmml">,</mo><mi id="A1.SS1.1.p1.1.m1.1.1" mathvariant="normal" xref="A1.SS1.1.p1.1.m1.1.1.cmml">…</mi><mo id="A1.SS1.1.p1.1.m1.4.4.3.3.7" xref="A1.SS1.1.p1.1.m1.4.4.3.4.cmml">,</mo><msub id="A1.SS1.1.p1.1.m1.4.4.3.3.3" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.cmml"><mi id="A1.SS1.1.p1.1.m1.4.4.3.3.3.2" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.2.cmml">v</mi><msub id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.cmml"><mi id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.2" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.2.cmml">c</mi><mrow id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.cmml"><mi id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.2" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.2.cmml">i</mi><mo id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.1" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.1.cmml">−</mo><mn id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.3" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.3.cmml">1</mn></mrow></msub></msub><mo id="A1.SS1.1.p1.1.m1.4.4.3.3.8" stretchy="false" xref="A1.SS1.1.p1.1.m1.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.1.p1.1.m1.4b"><apply id="A1.SS1.1.p1.1.m1.4.4.cmml" xref="A1.SS1.1.p1.1.m1.4.4"><eq id="A1.SS1.1.p1.1.m1.4.4.4.cmml" xref="A1.SS1.1.p1.1.m1.4.4.4"></eq><apply id="A1.SS1.1.p1.1.m1.4.4.5.cmml" xref="A1.SS1.1.p1.1.m1.4.4.5"><csymbol cd="ambiguous" id="A1.SS1.1.p1.1.m1.4.4.5.1.cmml" xref="A1.SS1.1.p1.1.m1.4.4.5">superscript</csymbol><ci id="A1.SS1.1.p1.1.m1.4.4.5.2.cmml" xref="A1.SS1.1.p1.1.m1.4.4.5.2">ℐ</ci><apply id="A1.SS1.1.p1.1.m1.4.4.5.3.cmml" xref="A1.SS1.1.p1.1.m1.4.4.5.3"><minus id="A1.SS1.1.p1.1.m1.4.4.5.3.1.cmml" xref="A1.SS1.1.p1.1.m1.4.4.5.3.1"></minus><ci id="A1.SS1.1.p1.1.m1.4.4.5.3.2.cmml" xref="A1.SS1.1.p1.1.m1.4.4.5.3.2">𝑖</ci><cn id="A1.SS1.1.p1.1.m1.4.4.5.3.3.cmml" type="integer" xref="A1.SS1.1.p1.1.m1.4.4.5.3.3">1</cn></apply></apply><set id="A1.SS1.1.p1.1.m1.4.4.3.4.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3"><apply id="A1.SS1.1.p1.1.m1.2.2.1.1.1.cmml" xref="A1.SS1.1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.1.p1.1.m1.2.2.1.1.1.1.cmml" xref="A1.SS1.1.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="A1.SS1.1.p1.1.m1.2.2.1.1.1.2.cmml" xref="A1.SS1.1.p1.1.m1.2.2.1.1.1.2">𝑣</ci><cn id="A1.SS1.1.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="A1.SS1.1.p1.1.m1.2.2.1.1.1.3">1</cn></apply><apply id="A1.SS1.1.p1.1.m1.3.3.2.2.2.cmml" xref="A1.SS1.1.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="A1.SS1.1.p1.1.m1.3.3.2.2.2.1.cmml" xref="A1.SS1.1.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="A1.SS1.1.p1.1.m1.3.3.2.2.2.2.cmml" xref="A1.SS1.1.p1.1.m1.3.3.2.2.2.2">𝑣</ci><cn id="A1.SS1.1.p1.1.m1.3.3.2.2.2.3.cmml" type="integer" xref="A1.SS1.1.p1.1.m1.3.3.2.2.2.3">2</cn></apply><ci id="A1.SS1.1.p1.1.m1.1.1.cmml" xref="A1.SS1.1.p1.1.m1.1.1">…</ci><apply id="A1.SS1.1.p1.1.m1.4.4.3.3.3.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="A1.SS1.1.p1.1.m1.4.4.3.3.3.1.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3">subscript</csymbol><ci id="A1.SS1.1.p1.1.m1.4.4.3.3.3.2.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.2">𝑣</ci><apply id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3"><csymbol cd="ambiguous" id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.1.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3">subscript</csymbol><ci id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.2.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.2">𝑐</ci><apply id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3"><minus id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.1.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.1"></minus><ci id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.2.cmml" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.2">𝑖</ci><cn id="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.3.cmml" type="integer" xref="A1.SS1.1.p1.1.m1.4.4.3.3.3.3.3.3">1</cn></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.1.p1.1.m1.4c">\mathcal{I}^{i-1}=\{v_{1},v_{2},\dots,v_{c_{i-1}}\}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.1.p1.1.m1.4d">caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT = { italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_v start_POSTSUBSCRIPT italic_c start_POSTSUBSCRIPT italic_i - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT }</annotation></semantics></math> and <math alttext="r(u,v_{1})\geq r(u,v_{2})\geq\dots\geq r(u,v_{c_{i-1}})" class="ltx_Math" display="inline" id="A1.SS1.1.p1.2.m2.6"><semantics id="A1.SS1.1.p1.2.m2.6a"><mrow id="A1.SS1.1.p1.2.m2.6.6" xref="A1.SS1.1.p1.2.m2.6.6.cmml"><mrow id="A1.SS1.1.p1.2.m2.4.4.1" xref="A1.SS1.1.p1.2.m2.4.4.1.cmml"><mi id="A1.SS1.1.p1.2.m2.4.4.1.3" xref="A1.SS1.1.p1.2.m2.4.4.1.3.cmml">r</mi><mo id="A1.SS1.1.p1.2.m2.4.4.1.2" xref="A1.SS1.1.p1.2.m2.4.4.1.2.cmml">⁢</mo><mrow id="A1.SS1.1.p1.2.m2.4.4.1.1.1" xref="A1.SS1.1.p1.2.m2.4.4.1.1.2.cmml"><mo id="A1.SS1.1.p1.2.m2.4.4.1.1.1.2" stretchy="false" xref="A1.SS1.1.p1.2.m2.4.4.1.1.2.cmml">(</mo><mi id="A1.SS1.1.p1.2.m2.1.1" xref="A1.SS1.1.p1.2.m2.1.1.cmml">u</mi><mo id="A1.SS1.1.p1.2.m2.4.4.1.1.1.3" xref="A1.SS1.1.p1.2.m2.4.4.1.1.2.cmml">,</mo><msub id="A1.SS1.1.p1.2.m2.4.4.1.1.1.1" xref="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.cmml"><mi id="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.2" xref="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.2.cmml">v</mi><mn id="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.3" xref="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.SS1.1.p1.2.m2.4.4.1.1.1.4" stretchy="false" xref="A1.SS1.1.p1.2.m2.4.4.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.SS1.1.p1.2.m2.6.6.5" xref="A1.SS1.1.p1.2.m2.6.6.5.cmml">≥</mo><mrow id="A1.SS1.1.p1.2.m2.5.5.2" xref="A1.SS1.1.p1.2.m2.5.5.2.cmml"><mi id="A1.SS1.1.p1.2.m2.5.5.2.3" xref="A1.SS1.1.p1.2.m2.5.5.2.3.cmml">r</mi><mo id="A1.SS1.1.p1.2.m2.5.5.2.2" xref="A1.SS1.1.p1.2.m2.5.5.2.2.cmml">⁢</mo><mrow id="A1.SS1.1.p1.2.m2.5.5.2.1.1" xref="A1.SS1.1.p1.2.m2.5.5.2.1.2.cmml"><mo id="A1.SS1.1.p1.2.m2.5.5.2.1.1.2" stretchy="false" xref="A1.SS1.1.p1.2.m2.5.5.2.1.2.cmml">(</mo><mi id="A1.SS1.1.p1.2.m2.2.2" xref="A1.SS1.1.p1.2.m2.2.2.cmml">u</mi><mo id="A1.SS1.1.p1.2.m2.5.5.2.1.1.3" xref="A1.SS1.1.p1.2.m2.5.5.2.1.2.cmml">,</mo><msub id="A1.SS1.1.p1.2.m2.5.5.2.1.1.1" xref="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.cmml"><mi id="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.2" xref="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.2.cmml">v</mi><mn id="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.3" xref="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.3.cmml">2</mn></msub><mo id="A1.SS1.1.p1.2.m2.5.5.2.1.1.4" stretchy="false" xref="A1.SS1.1.p1.2.m2.5.5.2.1.2.cmml">)</mo></mrow></mrow><mo id="A1.SS1.1.p1.2.m2.6.6.6" xref="A1.SS1.1.p1.2.m2.6.6.6.cmml">≥</mo><mi id="A1.SS1.1.p1.2.m2.6.6.7" mathvariant="normal" xref="A1.SS1.1.p1.2.m2.6.6.7.cmml">⋯</mi><mo id="A1.SS1.1.p1.2.m2.6.6.8" xref="A1.SS1.1.p1.2.m2.6.6.8.cmml">≥</mo><mrow id="A1.SS1.1.p1.2.m2.6.6.3" xref="A1.SS1.1.p1.2.m2.6.6.3.cmml"><mi id="A1.SS1.1.p1.2.m2.6.6.3.3" xref="A1.SS1.1.p1.2.m2.6.6.3.3.cmml">r</mi><mo id="A1.SS1.1.p1.2.m2.6.6.3.2" xref="A1.SS1.1.p1.2.m2.6.6.3.2.cmml">⁢</mo><mrow id="A1.SS1.1.p1.2.m2.6.6.3.1.1" xref="A1.SS1.1.p1.2.m2.6.6.3.1.2.cmml"><mo id="A1.SS1.1.p1.2.m2.6.6.3.1.1.2" stretchy="false" xref="A1.SS1.1.p1.2.m2.6.6.3.1.2.cmml">(</mo><mi id="A1.SS1.1.p1.2.m2.3.3" xref="A1.SS1.1.p1.2.m2.3.3.cmml">u</mi><mo id="A1.SS1.1.p1.2.m2.6.6.3.1.1.3" xref="A1.SS1.1.p1.2.m2.6.6.3.1.2.cmml">,</mo><msub id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.cmml"><mi id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.2" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.2.cmml">v</mi><msub id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.cmml"><mi id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.2" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.2.cmml">c</mi><mrow id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.cmml"><mi id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.2" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.2.cmml">i</mi><mo id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.1" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.1.cmml">−</mo><mn id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.3" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.3.cmml">1</mn></mrow></msub></msub><mo id="A1.SS1.1.p1.2.m2.6.6.3.1.1.4" stretchy="false" xref="A1.SS1.1.p1.2.m2.6.6.3.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.1.p1.2.m2.6b"><apply id="A1.SS1.1.p1.2.m2.6.6.cmml" xref="A1.SS1.1.p1.2.m2.6.6"><and id="A1.SS1.1.p1.2.m2.6.6a.cmml" xref="A1.SS1.1.p1.2.m2.6.6"></and><apply id="A1.SS1.1.p1.2.m2.6.6b.cmml" xref="A1.SS1.1.p1.2.m2.6.6"><geq id="A1.SS1.1.p1.2.m2.6.6.5.cmml" xref="A1.SS1.1.p1.2.m2.6.6.5"></geq><apply id="A1.SS1.1.p1.2.m2.4.4.1.cmml" xref="A1.SS1.1.p1.2.m2.4.4.1"><times id="A1.SS1.1.p1.2.m2.4.4.1.2.cmml" xref="A1.SS1.1.p1.2.m2.4.4.1.2"></times><ci id="A1.SS1.1.p1.2.m2.4.4.1.3.cmml" xref="A1.SS1.1.p1.2.m2.4.4.1.3">𝑟</ci><interval closure="open" id="A1.SS1.1.p1.2.m2.4.4.1.1.2.cmml" xref="A1.SS1.1.p1.2.m2.4.4.1.1.1"><ci id="A1.SS1.1.p1.2.m2.1.1.cmml" xref="A1.SS1.1.p1.2.m2.1.1">𝑢</ci><apply id="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.cmml" xref="A1.SS1.1.p1.2.m2.4.4.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.1.cmml" xref="A1.SS1.1.p1.2.m2.4.4.1.1.1.1">subscript</csymbol><ci id="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.2.cmml" xref="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.2">𝑣</ci><cn id="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.3.cmml" type="integer" xref="A1.SS1.1.p1.2.m2.4.4.1.1.1.1.3">1</cn></apply></interval></apply><apply id="A1.SS1.1.p1.2.m2.5.5.2.cmml" xref="A1.SS1.1.p1.2.m2.5.5.2"><times id="A1.SS1.1.p1.2.m2.5.5.2.2.cmml" xref="A1.SS1.1.p1.2.m2.5.5.2.2"></times><ci id="A1.SS1.1.p1.2.m2.5.5.2.3.cmml" xref="A1.SS1.1.p1.2.m2.5.5.2.3">𝑟</ci><interval closure="open" id="A1.SS1.1.p1.2.m2.5.5.2.1.2.cmml" xref="A1.SS1.1.p1.2.m2.5.5.2.1.1"><ci id="A1.SS1.1.p1.2.m2.2.2.cmml" xref="A1.SS1.1.p1.2.m2.2.2">𝑢</ci><apply id="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.cmml" xref="A1.SS1.1.p1.2.m2.5.5.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.1.cmml" xref="A1.SS1.1.p1.2.m2.5.5.2.1.1.1">subscript</csymbol><ci id="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.2.cmml" xref="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.2">𝑣</ci><cn id="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.3.cmml" type="integer" xref="A1.SS1.1.p1.2.m2.5.5.2.1.1.1.3">2</cn></apply></interval></apply></apply><apply id="A1.SS1.1.p1.2.m2.6.6c.cmml" xref="A1.SS1.1.p1.2.m2.6.6"><geq id="A1.SS1.1.p1.2.m2.6.6.6.cmml" xref="A1.SS1.1.p1.2.m2.6.6.6"></geq><share href="https://arxiv.org/html/2405.04844v1#A1.SS1.1.p1.2.m2.5.5.2.cmml" id="A1.SS1.1.p1.2.m2.6.6d.cmml" xref="A1.SS1.1.p1.2.m2.6.6"></share><ci id="A1.SS1.1.p1.2.m2.6.6.7.cmml" xref="A1.SS1.1.p1.2.m2.6.6.7">⋯</ci></apply><apply id="A1.SS1.1.p1.2.m2.6.6e.cmml" xref="A1.SS1.1.p1.2.m2.6.6"><geq id="A1.SS1.1.p1.2.m2.6.6.8.cmml" xref="A1.SS1.1.p1.2.m2.6.6.8"></geq><share href="https://arxiv.org/html/2405.04844v1#A1.SS1.1.p1.2.m2.6.6.7.cmml" id="A1.SS1.1.p1.2.m2.6.6f.cmml" xref="A1.SS1.1.p1.2.m2.6.6"></share><apply id="A1.SS1.1.p1.2.m2.6.6.3.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3"><times id="A1.SS1.1.p1.2.m2.6.6.3.2.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.2"></times><ci id="A1.SS1.1.p1.2.m2.6.6.3.3.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.3">𝑟</ci><interval closure="open" id="A1.SS1.1.p1.2.m2.6.6.3.1.2.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1"><ci id="A1.SS1.1.p1.2.m2.3.3.cmml" xref="A1.SS1.1.p1.2.m2.3.3">𝑢</ci><apply id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.1.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1">subscript</csymbol><ci id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.2.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.2">𝑣</ci><apply id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3"><csymbol cd="ambiguous" id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.1.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3">subscript</csymbol><ci id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.2.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.2">𝑐</ci><apply id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3"><minus id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.1.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.1"></minus><ci id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.2.cmml" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.2">𝑖</ci><cn id="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.3.cmml" type="integer" xref="A1.SS1.1.p1.2.m2.6.6.3.1.1.1.3.3.3">1</cn></apply></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.1.p1.2.m2.6c">r(u,v_{1})\geq r(u,v_{2})\geq\dots\geq r(u,v_{c_{i-1}})</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.1.p1.2.m2.6d">italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) ≥ italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) ≥ ⋯ ≥ italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_c start_POSTSUBSCRIPT italic_i - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math> without loss of generality.
According to equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E2" title="In 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>), it is easy to see <math alttext="\mathcal{I}^{i,PRP}=\textbf{Topk}(\mathcal{I}^{i-1},r(u,v),c_{i})=\{v_{i}|i\in%
[c_{i}]\}" class="ltx_Math" display="inline" id="A1.SS1.1.p1.3.m3.9"><semantics id="A1.SS1.1.p1.3.m3.9a"><mrow id="A1.SS1.1.p1.3.m3.9.9" xref="A1.SS1.1.p1.3.m3.9.9.cmml"><msup id="A1.SS1.1.p1.3.m3.9.9.7" xref="A1.SS1.1.p1.3.m3.9.9.7.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.1.p1.3.m3.9.9.7.2" xref="A1.SS1.1.p1.3.m3.9.9.7.2.cmml">ℐ</mi><mrow id="A1.SS1.1.p1.3.m3.2.2.2.2" xref="A1.SS1.1.p1.3.m3.2.2.2.3.cmml"><mi id="A1.SS1.1.p1.3.m3.1.1.1.1" xref="A1.SS1.1.p1.3.m3.1.1.1.1.cmml">i</mi><mo id="A1.SS1.1.p1.3.m3.2.2.2.2.2" xref="A1.SS1.1.p1.3.m3.2.2.2.3.cmml">,</mo><mrow id="A1.SS1.1.p1.3.m3.2.2.2.2.1" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.cmml"><mi id="A1.SS1.1.p1.3.m3.2.2.2.2.1.2" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.2.cmml">P</mi><mo id="A1.SS1.1.p1.3.m3.2.2.2.2.1.1" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="A1.SS1.1.p1.3.m3.2.2.2.2.1.3" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.3.cmml">R</mi><mo id="A1.SS1.1.p1.3.m3.2.2.2.2.1.1a" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.1.cmml">⁢</mo><mi id="A1.SS1.1.p1.3.m3.2.2.2.2.1.4" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.4.cmml">P</mi></mrow></mrow></msup><mo id="A1.SS1.1.p1.3.m3.9.9.8" xref="A1.SS1.1.p1.3.m3.9.9.8.cmml">=</mo><mrow id="A1.SS1.1.p1.3.m3.7.7.3" xref="A1.SS1.1.p1.3.m3.7.7.3.cmml"><mtext class="ltx_mathvariant_bold" id="A1.SS1.1.p1.3.m3.7.7.3.5" xref="A1.SS1.1.p1.3.m3.7.7.3.5a.cmml">Topk</mtext><mo id="A1.SS1.1.p1.3.m3.7.7.3.4" xref="A1.SS1.1.p1.3.m3.7.7.3.4.cmml">⁢</mo><mrow id="A1.SS1.1.p1.3.m3.7.7.3.3.3" xref="A1.SS1.1.p1.3.m3.7.7.3.3.4.cmml"><mo id="A1.SS1.1.p1.3.m3.7.7.3.3.3.4" stretchy="false" xref="A1.SS1.1.p1.3.m3.7.7.3.3.4.cmml">(</mo><msup id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.2" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.2.cmml">ℐ</mi><mrow id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.cmml"><mi id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.2" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.2.cmml">i</mi><mo id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.1" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.1.cmml">−</mo><mn id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.3" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.3.cmml">1</mn></mrow></msup><mo id="A1.SS1.1.p1.3.m3.7.7.3.3.3.5" xref="A1.SS1.1.p1.3.m3.7.7.3.3.4.cmml">,</mo><mrow id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.cmml"><mi id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.2" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.2.cmml">r</mi><mo id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.1" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.1.cmml">⁢</mo><mrow id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.2" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.1.cmml"><mo id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.2.1" stretchy="false" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.1.cmml">(</mo><mi id="A1.SS1.1.p1.3.m3.3.3" xref="A1.SS1.1.p1.3.m3.3.3.cmml">u</mi><mo id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.2.2" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.1.cmml">,</mo><mi id="A1.SS1.1.p1.3.m3.4.4" xref="A1.SS1.1.p1.3.m3.4.4.cmml">v</mi><mo id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.2.3" stretchy="false" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.1.cmml">)</mo></mrow></mrow><mo id="A1.SS1.1.p1.3.m3.7.7.3.3.3.6" xref="A1.SS1.1.p1.3.m3.7.7.3.3.4.cmml">,</mo><msub id="A1.SS1.1.p1.3.m3.7.7.3.3.3.3" xref="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.cmml"><mi id="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.2" xref="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.2.cmml">c</mi><mi id="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.3" xref="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.3.cmml">i</mi></msub><mo id="A1.SS1.1.p1.3.m3.7.7.3.3.3.7" stretchy="false" xref="A1.SS1.1.p1.3.m3.7.7.3.3.4.cmml">)</mo></mrow></mrow><mo id="A1.SS1.1.p1.3.m3.9.9.9" xref="A1.SS1.1.p1.3.m3.9.9.9.cmml">=</mo><mrow id="A1.SS1.1.p1.3.m3.9.9.5.2" xref="A1.SS1.1.p1.3.m3.9.9.5.3.cmml"><mo id="A1.SS1.1.p1.3.m3.9.9.5.2.3" stretchy="false" xref="A1.SS1.1.p1.3.m3.9.9.5.3.1.cmml">{</mo><msub id="A1.SS1.1.p1.3.m3.8.8.4.1.1" xref="A1.SS1.1.p1.3.m3.8.8.4.1.1.cmml"><mi id="A1.SS1.1.p1.3.m3.8.8.4.1.1.2" xref="A1.SS1.1.p1.3.m3.8.8.4.1.1.2.cmml">v</mi><mi id="A1.SS1.1.p1.3.m3.8.8.4.1.1.3" xref="A1.SS1.1.p1.3.m3.8.8.4.1.1.3.cmml">i</mi></msub><mo id="A1.SS1.1.p1.3.m3.9.9.5.2.4" lspace="0em" rspace="0em" xref="A1.SS1.1.p1.3.m3.9.9.5.3.1.cmml">|</mo><mrow id="A1.SS1.1.p1.3.m3.9.9.5.2.2" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.cmml"><mi id="A1.SS1.1.p1.3.m3.9.9.5.2.2.3" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.3.cmml">i</mi><mo id="A1.SS1.1.p1.3.m3.9.9.5.2.2.2" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.2.cmml">∈</mo><mrow id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.2.cmml"><mo id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.2" stretchy="false" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.2.1.cmml">[</mo><msub id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.cmml"><mi id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.2" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.2.cmml">c</mi><mi id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.3" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.3.cmml">i</mi></msub><mo id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.3" stretchy="false" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.2.1.cmml">]</mo></mrow></mrow><mo id="A1.SS1.1.p1.3.m3.9.9.5.2.5" stretchy="false" xref="A1.SS1.1.p1.3.m3.9.9.5.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.1.p1.3.m3.9b"><apply id="A1.SS1.1.p1.3.m3.9.9.cmml" xref="A1.SS1.1.p1.3.m3.9.9"><and id="A1.SS1.1.p1.3.m3.9.9a.cmml" xref="A1.SS1.1.p1.3.m3.9.9"></and><apply id="A1.SS1.1.p1.3.m3.9.9b.cmml" xref="A1.SS1.1.p1.3.m3.9.9"><eq id="A1.SS1.1.p1.3.m3.9.9.8.cmml" xref="A1.SS1.1.p1.3.m3.9.9.8"></eq><apply id="A1.SS1.1.p1.3.m3.9.9.7.cmml" xref="A1.SS1.1.p1.3.m3.9.9.7"><csymbol cd="ambiguous" id="A1.SS1.1.p1.3.m3.9.9.7.1.cmml" xref="A1.SS1.1.p1.3.m3.9.9.7">superscript</csymbol><ci id="A1.SS1.1.p1.3.m3.9.9.7.2.cmml" xref="A1.SS1.1.p1.3.m3.9.9.7.2">ℐ</ci><list id="A1.SS1.1.p1.3.m3.2.2.2.3.cmml" xref="A1.SS1.1.p1.3.m3.2.2.2.2"><ci id="A1.SS1.1.p1.3.m3.1.1.1.1.cmml" xref="A1.SS1.1.p1.3.m3.1.1.1.1">𝑖</ci><apply id="A1.SS1.1.p1.3.m3.2.2.2.2.1.cmml" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1"><times id="A1.SS1.1.p1.3.m3.2.2.2.2.1.1.cmml" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.1"></times><ci id="A1.SS1.1.p1.3.m3.2.2.2.2.1.2.cmml" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.2">𝑃</ci><ci id="A1.SS1.1.p1.3.m3.2.2.2.2.1.3.cmml" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.3">𝑅</ci><ci id="A1.SS1.1.p1.3.m3.2.2.2.2.1.4.cmml" xref="A1.SS1.1.p1.3.m3.2.2.2.2.1.4">𝑃</ci></apply></list></apply><apply id="A1.SS1.1.p1.3.m3.7.7.3.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3"><times id="A1.SS1.1.p1.3.m3.7.7.3.4.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3.4"></times><ci id="A1.SS1.1.p1.3.m3.7.7.3.5a.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3.5"><mtext class="ltx_mathvariant_bold" id="A1.SS1.1.p1.3.m3.7.7.3.5.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3.5">Topk</mtext></ci><vector id="A1.SS1.1.p1.3.m3.7.7.3.3.4.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3.3.3"><apply id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.cmml" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.1.cmml" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1">superscript</csymbol><ci id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.2.cmml" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.2">ℐ</ci><apply id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.cmml" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3"><minus id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.1.cmml" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.1"></minus><ci id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.2.cmml" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.2">𝑖</ci><cn id="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.3.cmml" type="integer" xref="A1.SS1.1.p1.3.m3.5.5.1.1.1.1.3.3">1</cn></apply></apply><apply id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.cmml" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2"><times id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.1.cmml" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.1"></times><ci id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.2.cmml" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.2">𝑟</ci><interval closure="open" id="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.1.cmml" xref="A1.SS1.1.p1.3.m3.6.6.2.2.2.2.3.2"><ci id="A1.SS1.1.p1.3.m3.3.3.cmml" xref="A1.SS1.1.p1.3.m3.3.3">𝑢</ci><ci id="A1.SS1.1.p1.3.m3.4.4.cmml" xref="A1.SS1.1.p1.3.m3.4.4">𝑣</ci></interval></apply><apply id="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3.3.3.3"><csymbol cd="ambiguous" id="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.1.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3.3.3.3">subscript</csymbol><ci id="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.2.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.2">𝑐</ci><ci id="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.3.cmml" xref="A1.SS1.1.p1.3.m3.7.7.3.3.3.3.3">𝑖</ci></apply></vector></apply></apply><apply id="A1.SS1.1.p1.3.m3.9.9c.cmml" xref="A1.SS1.1.p1.3.m3.9.9"><eq id="A1.SS1.1.p1.3.m3.9.9.9.cmml" xref="A1.SS1.1.p1.3.m3.9.9.9"></eq><share href="https://arxiv.org/html/2405.04844v1#A1.SS1.1.p1.3.m3.7.7.3.cmml" id="A1.SS1.1.p1.3.m3.9.9d.cmml" xref="A1.SS1.1.p1.3.m3.9.9"></share><apply id="A1.SS1.1.p1.3.m3.9.9.5.3.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2"><csymbol cd="latexml" id="A1.SS1.1.p1.3.m3.9.9.5.3.1.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.3">conditional-set</csymbol><apply id="A1.SS1.1.p1.3.m3.8.8.4.1.1.cmml" xref="A1.SS1.1.p1.3.m3.8.8.4.1.1"><csymbol cd="ambiguous" id="A1.SS1.1.p1.3.m3.8.8.4.1.1.1.cmml" xref="A1.SS1.1.p1.3.m3.8.8.4.1.1">subscript</csymbol><ci id="A1.SS1.1.p1.3.m3.8.8.4.1.1.2.cmml" xref="A1.SS1.1.p1.3.m3.8.8.4.1.1.2">𝑣</ci><ci id="A1.SS1.1.p1.3.m3.8.8.4.1.1.3.cmml" xref="A1.SS1.1.p1.3.m3.8.8.4.1.1.3">𝑖</ci></apply><apply id="A1.SS1.1.p1.3.m3.9.9.5.2.2.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2"><in id="A1.SS1.1.p1.3.m3.9.9.5.2.2.2.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.2"></in><ci id="A1.SS1.1.p1.3.m3.9.9.5.2.2.3.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.3">𝑖</ci><apply id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.2.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1"><csymbol cd="latexml" id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.2.1.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.2">delimited-[]</csymbol><apply id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.1.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1">subscript</csymbol><ci id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.2.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.2">𝑐</ci><ci id="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.3.cmml" xref="A1.SS1.1.p1.3.m3.9.9.5.2.2.1.1.1.3">𝑖</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.1.p1.3.m3.9c">\mathcal{I}^{i,PRP}=\textbf{Topk}(\mathcal{I}^{i-1},r(u,v),c_{i})=\{v_{i}|i\in%
[c_{i}]\}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.1.p1.3.m3.9d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT = Topk ( caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT , italic_r ( italic_u , italic_v ) , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) = { italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_i ∈ [ italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ] }</annotation></semantics></math>.</p>
</div>
<div class="ltx_para" id="A1.SS1.2.p2">
<p class="ltx_p" id="A1.SS1.2.p2.4">Denote a general <math alttext="\mathcal{I}^{i}" class="ltx_Math" display="inline" id="A1.SS1.2.p2.1.m1.1"><semantics id="A1.SS1.2.p2.1.m1.1a"><msup id="A1.SS1.2.p2.1.m1.1.1" xref="A1.SS1.2.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.SS1.2.p2.1.m1.1.1.2" xref="A1.SS1.2.p2.1.m1.1.1.2.cmml">ℐ</mi><mi id="A1.SS1.2.p2.1.m1.1.1.3" xref="A1.SS1.2.p2.1.m1.1.1.3.cmml">i</mi></msup><annotation-xml encoding="MathML-Content" id="A1.SS1.2.p2.1.m1.1b"><apply id="A1.SS1.2.p2.1.m1.1.1.cmml" xref="A1.SS1.2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="A1.SS1.2.p2.1.m1.1.1.1.cmml" xref="A1.SS1.2.p2.1.m1.1.1">superscript</csymbol><ci id="A1.SS1.2.p2.1.m1.1.1.2.cmml" xref="A1.SS1.2.p2.1.m1.1.1.2">ℐ</ci><ci id="A1.SS1.2.p2.1.m1.1.1.3.cmml" xref="A1.SS1.2.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.2.p2.1.m1.1c">\mathcal{I}^{i}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.2.p2.1.m1.1d">caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT</annotation></semantics></math> as <math alttext="\{v_{j_{1}},v_{j_{2}},\dots,v_{j_{c_{i}}}\}" class="ltx_Math" display="inline" id="A1.SS1.2.p2.2.m2.4"><semantics id="A1.SS1.2.p2.2.m2.4a"><mrow id="A1.SS1.2.p2.2.m2.4.4.3" xref="A1.SS1.2.p2.2.m2.4.4.4.cmml"><mo id="A1.SS1.2.p2.2.m2.4.4.3.4" stretchy="false" xref="A1.SS1.2.p2.2.m2.4.4.4.cmml">{</mo><msub id="A1.SS1.2.p2.2.m2.2.2.1.1" xref="A1.SS1.2.p2.2.m2.2.2.1.1.cmml"><mi id="A1.SS1.2.p2.2.m2.2.2.1.1.2" xref="A1.SS1.2.p2.2.m2.2.2.1.1.2.cmml">v</mi><msub id="A1.SS1.2.p2.2.m2.2.2.1.1.3" xref="A1.SS1.2.p2.2.m2.2.2.1.1.3.cmml"><mi id="A1.SS1.2.p2.2.m2.2.2.1.1.3.2" xref="A1.SS1.2.p2.2.m2.2.2.1.1.3.2.cmml">j</mi><mn id="A1.SS1.2.p2.2.m2.2.2.1.1.3.3" xref="A1.SS1.2.p2.2.m2.2.2.1.1.3.3.cmml">1</mn></msub></msub><mo id="A1.SS1.2.p2.2.m2.4.4.3.5" xref="A1.SS1.2.p2.2.m2.4.4.4.cmml">,</mo><msub id="A1.SS1.2.p2.2.m2.3.3.2.2" xref="A1.SS1.2.p2.2.m2.3.3.2.2.cmml"><mi id="A1.SS1.2.p2.2.m2.3.3.2.2.2" xref="A1.SS1.2.p2.2.m2.3.3.2.2.2.cmml">v</mi><msub id="A1.SS1.2.p2.2.m2.3.3.2.2.3" xref="A1.SS1.2.p2.2.m2.3.3.2.2.3.cmml"><mi id="A1.SS1.2.p2.2.m2.3.3.2.2.3.2" xref="A1.SS1.2.p2.2.m2.3.3.2.2.3.2.cmml">j</mi><mn id="A1.SS1.2.p2.2.m2.3.3.2.2.3.3" xref="A1.SS1.2.p2.2.m2.3.3.2.2.3.3.cmml">2</mn></msub></msub><mo id="A1.SS1.2.p2.2.m2.4.4.3.6" xref="A1.SS1.2.p2.2.m2.4.4.4.cmml">,</mo><mi id="A1.SS1.2.p2.2.m2.1.1" mathvariant="normal" xref="A1.SS1.2.p2.2.m2.1.1.cmml">…</mi><mo id="A1.SS1.2.p2.2.m2.4.4.3.7" xref="A1.SS1.2.p2.2.m2.4.4.4.cmml">,</mo><msub id="A1.SS1.2.p2.2.m2.4.4.3.3" xref="A1.SS1.2.p2.2.m2.4.4.3.3.cmml"><mi id="A1.SS1.2.p2.2.m2.4.4.3.3.2" xref="A1.SS1.2.p2.2.m2.4.4.3.3.2.cmml">v</mi><msub id="A1.SS1.2.p2.2.m2.4.4.3.3.3" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.cmml"><mi id="A1.SS1.2.p2.2.m2.4.4.3.3.3.2" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.2.cmml">j</mi><msub id="A1.SS1.2.p2.2.m2.4.4.3.3.3.3" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.cmml"><mi id="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.2" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.2.cmml">c</mi><mi id="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.3" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.3.cmml">i</mi></msub></msub></msub><mo id="A1.SS1.2.p2.2.m2.4.4.3.8" stretchy="false" xref="A1.SS1.2.p2.2.m2.4.4.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.2.p2.2.m2.4b"><set id="A1.SS1.2.p2.2.m2.4.4.4.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3"><apply id="A1.SS1.2.p2.2.m2.2.2.1.1.cmml" xref="A1.SS1.2.p2.2.m2.2.2.1.1"><csymbol cd="ambiguous" id="A1.SS1.2.p2.2.m2.2.2.1.1.1.cmml" xref="A1.SS1.2.p2.2.m2.2.2.1.1">subscript</csymbol><ci id="A1.SS1.2.p2.2.m2.2.2.1.1.2.cmml" xref="A1.SS1.2.p2.2.m2.2.2.1.1.2">𝑣</ci><apply id="A1.SS1.2.p2.2.m2.2.2.1.1.3.cmml" xref="A1.SS1.2.p2.2.m2.2.2.1.1.3"><csymbol cd="ambiguous" id="A1.SS1.2.p2.2.m2.2.2.1.1.3.1.cmml" xref="A1.SS1.2.p2.2.m2.2.2.1.1.3">subscript</csymbol><ci id="A1.SS1.2.p2.2.m2.2.2.1.1.3.2.cmml" xref="A1.SS1.2.p2.2.m2.2.2.1.1.3.2">𝑗</ci><cn id="A1.SS1.2.p2.2.m2.2.2.1.1.3.3.cmml" type="integer" xref="A1.SS1.2.p2.2.m2.2.2.1.1.3.3">1</cn></apply></apply><apply id="A1.SS1.2.p2.2.m2.3.3.2.2.cmml" xref="A1.SS1.2.p2.2.m2.3.3.2.2"><csymbol cd="ambiguous" id="A1.SS1.2.p2.2.m2.3.3.2.2.1.cmml" xref="A1.SS1.2.p2.2.m2.3.3.2.2">subscript</csymbol><ci id="A1.SS1.2.p2.2.m2.3.3.2.2.2.cmml" xref="A1.SS1.2.p2.2.m2.3.3.2.2.2">𝑣</ci><apply id="A1.SS1.2.p2.2.m2.3.3.2.2.3.cmml" xref="A1.SS1.2.p2.2.m2.3.3.2.2.3"><csymbol cd="ambiguous" id="A1.SS1.2.p2.2.m2.3.3.2.2.3.1.cmml" xref="A1.SS1.2.p2.2.m2.3.3.2.2.3">subscript</csymbol><ci id="A1.SS1.2.p2.2.m2.3.3.2.2.3.2.cmml" xref="A1.SS1.2.p2.2.m2.3.3.2.2.3.2">𝑗</ci><cn id="A1.SS1.2.p2.2.m2.3.3.2.2.3.3.cmml" type="integer" xref="A1.SS1.2.p2.2.m2.3.3.2.2.3.3">2</cn></apply></apply><ci id="A1.SS1.2.p2.2.m2.1.1.cmml" xref="A1.SS1.2.p2.2.m2.1.1">…</ci><apply id="A1.SS1.2.p2.2.m2.4.4.3.3.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3"><csymbol cd="ambiguous" id="A1.SS1.2.p2.2.m2.4.4.3.3.1.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3">subscript</csymbol><ci id="A1.SS1.2.p2.2.m2.4.4.3.3.2.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3.2">𝑣</ci><apply id="A1.SS1.2.p2.2.m2.4.4.3.3.3.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="A1.SS1.2.p2.2.m2.4.4.3.3.3.1.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3">subscript</csymbol><ci id="A1.SS1.2.p2.2.m2.4.4.3.3.3.2.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.2">𝑗</ci><apply id="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.3"><csymbol cd="ambiguous" id="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.1.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.3">subscript</csymbol><ci id="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.2.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.2">𝑐</ci><ci id="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.3.cmml" xref="A1.SS1.2.p2.2.m2.4.4.3.3.3.3.3">𝑖</ci></apply></apply></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.2.p2.2.m2.4c">\{v_{j_{1}},v_{j_{2}},\dots,v_{j_{c_{i}}}\}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.2.p2.2.m2.4d">{ italic_v start_POSTSUBSCRIPT italic_j start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT italic_j start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT end_POSTSUBSCRIPT , … , italic_v start_POSTSUBSCRIPT italic_j start_POSTSUBSCRIPT italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT end_POSTSUBSCRIPT }</annotation></semantics></math>, where <math alttext="j_{1}&lt;j_{2}&lt;\cdots&lt;j_{c_{i}}" class="ltx_Math" display="inline" id="A1.SS1.2.p2.3.m3.1"><semantics id="A1.SS1.2.p2.3.m3.1a"><mrow id="A1.SS1.2.p2.3.m3.1.1" xref="A1.SS1.2.p2.3.m3.1.1.cmml"><msub id="A1.SS1.2.p2.3.m3.1.1.2" xref="A1.SS1.2.p2.3.m3.1.1.2.cmml"><mi id="A1.SS1.2.p2.3.m3.1.1.2.2" xref="A1.SS1.2.p2.3.m3.1.1.2.2.cmml">j</mi><mn id="A1.SS1.2.p2.3.m3.1.1.2.3" xref="A1.SS1.2.p2.3.m3.1.1.2.3.cmml">1</mn></msub><mo id="A1.SS1.2.p2.3.m3.1.1.3" xref="A1.SS1.2.p2.3.m3.1.1.3.cmml">&lt;</mo><msub id="A1.SS1.2.p2.3.m3.1.1.4" xref="A1.SS1.2.p2.3.m3.1.1.4.cmml"><mi id="A1.SS1.2.p2.3.m3.1.1.4.2" xref="A1.SS1.2.p2.3.m3.1.1.4.2.cmml">j</mi><mn id="A1.SS1.2.p2.3.m3.1.1.4.3" xref="A1.SS1.2.p2.3.m3.1.1.4.3.cmml">2</mn></msub><mo id="A1.SS1.2.p2.3.m3.1.1.5" xref="A1.SS1.2.p2.3.m3.1.1.5.cmml">&lt;</mo><mi id="A1.SS1.2.p2.3.m3.1.1.6" mathvariant="normal" xref="A1.SS1.2.p2.3.m3.1.1.6.cmml">⋯</mi><mo id="A1.SS1.2.p2.3.m3.1.1.7" xref="A1.SS1.2.p2.3.m3.1.1.7.cmml">&lt;</mo><msub id="A1.SS1.2.p2.3.m3.1.1.8" xref="A1.SS1.2.p2.3.m3.1.1.8.cmml"><mi id="A1.SS1.2.p2.3.m3.1.1.8.2" xref="A1.SS1.2.p2.3.m3.1.1.8.2.cmml">j</mi><msub id="A1.SS1.2.p2.3.m3.1.1.8.3" xref="A1.SS1.2.p2.3.m3.1.1.8.3.cmml"><mi id="A1.SS1.2.p2.3.m3.1.1.8.3.2" xref="A1.SS1.2.p2.3.m3.1.1.8.3.2.cmml">c</mi><mi id="A1.SS1.2.p2.3.m3.1.1.8.3.3" xref="A1.SS1.2.p2.3.m3.1.1.8.3.3.cmml">i</mi></msub></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.2.p2.3.m3.1b"><apply id="A1.SS1.2.p2.3.m3.1.1.cmml" xref="A1.SS1.2.p2.3.m3.1.1"><and id="A1.SS1.2.p2.3.m3.1.1a.cmml" xref="A1.SS1.2.p2.3.m3.1.1"></and><apply id="A1.SS1.2.p2.3.m3.1.1b.cmml" xref="A1.SS1.2.p2.3.m3.1.1"><lt id="A1.SS1.2.p2.3.m3.1.1.3.cmml" xref="A1.SS1.2.p2.3.m3.1.1.3"></lt><apply id="A1.SS1.2.p2.3.m3.1.1.2.cmml" xref="A1.SS1.2.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="A1.SS1.2.p2.3.m3.1.1.2.1.cmml" xref="A1.SS1.2.p2.3.m3.1.1.2">subscript</csymbol><ci id="A1.SS1.2.p2.3.m3.1.1.2.2.cmml" xref="A1.SS1.2.p2.3.m3.1.1.2.2">𝑗</ci><cn id="A1.SS1.2.p2.3.m3.1.1.2.3.cmml" type="integer" xref="A1.SS1.2.p2.3.m3.1.1.2.3">1</cn></apply><apply id="A1.SS1.2.p2.3.m3.1.1.4.cmml" xref="A1.SS1.2.p2.3.m3.1.1.4"><csymbol cd="ambiguous" id="A1.SS1.2.p2.3.m3.1.1.4.1.cmml" xref="A1.SS1.2.p2.3.m3.1.1.4">subscript</csymbol><ci id="A1.SS1.2.p2.3.m3.1.1.4.2.cmml" xref="A1.SS1.2.p2.3.m3.1.1.4.2">𝑗</ci><cn id="A1.SS1.2.p2.3.m3.1.1.4.3.cmml" type="integer" xref="A1.SS1.2.p2.3.m3.1.1.4.3">2</cn></apply></apply><apply id="A1.SS1.2.p2.3.m3.1.1c.cmml" xref="A1.SS1.2.p2.3.m3.1.1"><lt id="A1.SS1.2.p2.3.m3.1.1.5.cmml" xref="A1.SS1.2.p2.3.m3.1.1.5"></lt><share href="https://arxiv.org/html/2405.04844v1#A1.SS1.2.p2.3.m3.1.1.4.cmml" id="A1.SS1.2.p2.3.m3.1.1d.cmml" xref="A1.SS1.2.p2.3.m3.1.1"></share><ci id="A1.SS1.2.p2.3.m3.1.1.6.cmml" xref="A1.SS1.2.p2.3.m3.1.1.6">⋯</ci></apply><apply id="A1.SS1.2.p2.3.m3.1.1e.cmml" xref="A1.SS1.2.p2.3.m3.1.1"><lt id="A1.SS1.2.p2.3.m3.1.1.7.cmml" xref="A1.SS1.2.p2.3.m3.1.1.7"></lt><share href="https://arxiv.org/html/2405.04844v1#A1.SS1.2.p2.3.m3.1.1.6.cmml" id="A1.SS1.2.p2.3.m3.1.1f.cmml" xref="A1.SS1.2.p2.3.m3.1.1"></share><apply id="A1.SS1.2.p2.3.m3.1.1.8.cmml" xref="A1.SS1.2.p2.3.m3.1.1.8"><csymbol cd="ambiguous" id="A1.SS1.2.p2.3.m3.1.1.8.1.cmml" xref="A1.SS1.2.p2.3.m3.1.1.8">subscript</csymbol><ci id="A1.SS1.2.p2.3.m3.1.1.8.2.cmml" xref="A1.SS1.2.p2.3.m3.1.1.8.2">𝑗</ci><apply id="A1.SS1.2.p2.3.m3.1.1.8.3.cmml" xref="A1.SS1.2.p2.3.m3.1.1.8.3"><csymbol cd="ambiguous" id="A1.SS1.2.p2.3.m3.1.1.8.3.1.cmml" xref="A1.SS1.2.p2.3.m3.1.1.8.3">subscript</csymbol><ci id="A1.SS1.2.p2.3.m3.1.1.8.3.2.cmml" xref="A1.SS1.2.p2.3.m3.1.1.8.3.2">𝑐</ci><ci id="A1.SS1.2.p2.3.m3.1.1.8.3.3.cmml" xref="A1.SS1.2.p2.3.m3.1.1.8.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.2.p2.3.m3.1c">j_{1}&lt;j_{2}&lt;\cdots&lt;j_{c_{i}}</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.2.p2.3.m3.1d">italic_j start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT &lt; italic_j start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT &lt; ⋯ &lt; italic_j start_POSTSUBSCRIPT italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\{j_{k}|k\in[c_{i}]\}\subset[c_{i-1}]" class="ltx_Math" display="inline" id="A1.SS1.2.p2.4.m4.3"><semantics id="A1.SS1.2.p2.4.m4.3a"><mrow id="A1.SS1.2.p2.4.m4.3.3" xref="A1.SS1.2.p2.4.m4.3.3.cmml"><mrow id="A1.SS1.2.p2.4.m4.2.2.2.2" xref="A1.SS1.2.p2.4.m4.2.2.2.3.cmml"><mo id="A1.SS1.2.p2.4.m4.2.2.2.2.3" stretchy="false" xref="A1.SS1.2.p2.4.m4.2.2.2.3.1.cmml">{</mo><msub id="A1.SS1.2.p2.4.m4.1.1.1.1.1" xref="A1.SS1.2.p2.4.m4.1.1.1.1.1.cmml"><mi id="A1.SS1.2.p2.4.m4.1.1.1.1.1.2" xref="A1.SS1.2.p2.4.m4.1.1.1.1.1.2.cmml">j</mi><mi id="A1.SS1.2.p2.4.m4.1.1.1.1.1.3" xref="A1.SS1.2.p2.4.m4.1.1.1.1.1.3.cmml">k</mi></msub><mo id="A1.SS1.2.p2.4.m4.2.2.2.2.4" lspace="0em" rspace="0em" xref="A1.SS1.2.p2.4.m4.2.2.2.3.1.cmml">|</mo><mrow id="A1.SS1.2.p2.4.m4.2.2.2.2.2" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.cmml"><mi id="A1.SS1.2.p2.4.m4.2.2.2.2.2.3" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.3.cmml">k</mi><mo id="A1.SS1.2.p2.4.m4.2.2.2.2.2.2" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.2.cmml">∈</mo><mrow id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.2.cmml"><mo id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.2" stretchy="false" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.2.1.cmml">[</mo><msub id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.cmml"><mi id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.2" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.2.cmml">c</mi><mi id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.3" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.3" stretchy="false" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.2.1.cmml">]</mo></mrow></mrow><mo id="A1.SS1.2.p2.4.m4.2.2.2.2.5" stretchy="false" xref="A1.SS1.2.p2.4.m4.2.2.2.3.1.cmml">}</mo></mrow><mo id="A1.SS1.2.p2.4.m4.3.3.4" xref="A1.SS1.2.p2.4.m4.3.3.4.cmml">⊂</mo><mrow id="A1.SS1.2.p2.4.m4.3.3.3.1" xref="A1.SS1.2.p2.4.m4.3.3.3.2.cmml"><mo id="A1.SS1.2.p2.4.m4.3.3.3.1.2" stretchy="false" xref="A1.SS1.2.p2.4.m4.3.3.3.2.1.cmml">[</mo><msub id="A1.SS1.2.p2.4.m4.3.3.3.1.1" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.cmml"><mi id="A1.SS1.2.p2.4.m4.3.3.3.1.1.2" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.2.cmml">c</mi><mrow id="A1.SS1.2.p2.4.m4.3.3.3.1.1.3" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.cmml"><mi id="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.2" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.2.cmml">i</mi><mo id="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.1" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.1.cmml">−</mo><mn id="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.3" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.3.cmml">1</mn></mrow></msub><mo id="A1.SS1.2.p2.4.m4.3.3.3.1.3" stretchy="false" xref="A1.SS1.2.p2.4.m4.3.3.3.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS1.2.p2.4.m4.3b"><apply id="A1.SS1.2.p2.4.m4.3.3.cmml" xref="A1.SS1.2.p2.4.m4.3.3"><subset id="A1.SS1.2.p2.4.m4.3.3.4.cmml" xref="A1.SS1.2.p2.4.m4.3.3.4"></subset><apply id="A1.SS1.2.p2.4.m4.2.2.2.3.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2"><csymbol cd="latexml" id="A1.SS1.2.p2.4.m4.2.2.2.3.1.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.3">conditional-set</csymbol><apply id="A1.SS1.2.p2.4.m4.1.1.1.1.1.cmml" xref="A1.SS1.2.p2.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.2.p2.4.m4.1.1.1.1.1.1.cmml" xref="A1.SS1.2.p2.4.m4.1.1.1.1.1">subscript</csymbol><ci id="A1.SS1.2.p2.4.m4.1.1.1.1.1.2.cmml" xref="A1.SS1.2.p2.4.m4.1.1.1.1.1.2">𝑗</ci><ci id="A1.SS1.2.p2.4.m4.1.1.1.1.1.3.cmml" xref="A1.SS1.2.p2.4.m4.1.1.1.1.1.3">𝑘</ci></apply><apply id="A1.SS1.2.p2.4.m4.2.2.2.2.2.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2"><in id="A1.SS1.2.p2.4.m4.2.2.2.2.2.2.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.2"></in><ci id="A1.SS1.2.p2.4.m4.2.2.2.2.2.3.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.3">𝑘</ci><apply id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.2.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1"><csymbol cd="latexml" id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.2.1.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.2">delimited-[]</csymbol><apply id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.1.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.2.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.2">𝑐</ci><ci id="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.3.cmml" xref="A1.SS1.2.p2.4.m4.2.2.2.2.2.1.1.1.3">𝑖</ci></apply></apply></apply></apply><apply id="A1.SS1.2.p2.4.m4.3.3.3.2.cmml" xref="A1.SS1.2.p2.4.m4.3.3.3.1"><csymbol cd="latexml" id="A1.SS1.2.p2.4.m4.3.3.3.2.1.cmml" xref="A1.SS1.2.p2.4.m4.3.3.3.1.2">delimited-[]</csymbol><apply id="A1.SS1.2.p2.4.m4.3.3.3.1.1.cmml" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1"><csymbol cd="ambiguous" id="A1.SS1.2.p2.4.m4.3.3.3.1.1.1.cmml" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1">subscript</csymbol><ci id="A1.SS1.2.p2.4.m4.3.3.3.1.1.2.cmml" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.2">𝑐</ci><apply id="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.cmml" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.3"><minus id="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.1.cmml" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.1"></minus><ci id="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.2.cmml" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.2">𝑖</ci><cn id="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.3.cmml" type="integer" xref="A1.SS1.2.p2.4.m4.3.3.3.1.1.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS1.2.p2.4.m4.3c">\{j_{k}|k\in[c_{i}]\}\subset[c_{i-1}]</annotation><annotation encoding="application/x-llamapun" id="A1.SS1.2.p2.4.m4.3d">{ italic_j start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT | italic_k ∈ [ italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ] } ⊂ [ italic_c start_POSTSUBSCRIPT italic_i - 1 end_POSTSUBSCRIPT ]</annotation></semantics></math>. Then for equation (<a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#S4.E5" title="In Proposition 1. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">5</span></a>), it is easy to see:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A1.EGx2">
<tbody id="A1.E14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset\mathcal{I}^{i-%
1}}\min_{\{v_{k}\in\mathcal{I}^{i}|k\in[c_{4}]\}}\sum_{k=1}^{c_{4}}r(u,v_{k})" class="ltx_Math" display="inline" id="A1.E14.m1.4"><semantics id="A1.E14.m1.4a"><mrow id="A1.E14.m1.4.4" xref="A1.E14.m1.4.4.cmml"><mrow id="A1.E14.m1.4.4.3" xref="A1.E14.m1.4.4.3.cmml"><munder id="A1.E14.m1.4.4.3.1" xref="A1.E14.m1.4.4.3.1.cmml"><mrow id="A1.E14.m1.4.4.3.1.2" xref="A1.E14.m1.4.4.3.1.2.cmml"><mi id="A1.E14.m1.4.4.3.1.2.1" xref="A1.E14.m1.4.4.3.1.2.1.cmml">arg</mi><mo id="A1.E14.m1.4.4.3.1.2a" xref="A1.E14.m1.4.4.3.1.2.cmml">⁡</mo><mi id="A1.E14.m1.4.4.3.1.2.2" xref="A1.E14.m1.4.4.3.1.2.2.cmml">max</mi></mrow><mrow id="A1.E14.m1.4.4.3.1.3" xref="A1.E14.m1.4.4.3.1.3.cmml"><msup id="A1.E14.m1.4.4.3.1.3.2" xref="A1.E14.m1.4.4.3.1.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E14.m1.4.4.3.1.3.2.2" xref="A1.E14.m1.4.4.3.1.3.2.2.cmml">ℐ</mi><mi id="A1.E14.m1.4.4.3.1.3.2.3" xref="A1.E14.m1.4.4.3.1.3.2.3.cmml">i</mi></msup><mo id="A1.E14.m1.4.4.3.1.3.1" xref="A1.E14.m1.4.4.3.1.3.1.cmml">⊂</mo><msup id="A1.E14.m1.4.4.3.1.3.3" xref="A1.E14.m1.4.4.3.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E14.m1.4.4.3.1.3.3.2" xref="A1.E14.m1.4.4.3.1.3.3.2.cmml">ℐ</mi><mrow id="A1.E14.m1.4.4.3.1.3.3.3" xref="A1.E14.m1.4.4.3.1.3.3.3.cmml"><mi id="A1.E14.m1.4.4.3.1.3.3.3.2" xref="A1.E14.m1.4.4.3.1.3.3.3.2.cmml">i</mi><mo id="A1.E14.m1.4.4.3.1.3.3.3.1" xref="A1.E14.m1.4.4.3.1.3.3.3.1.cmml">−</mo><mn id="A1.E14.m1.4.4.3.1.3.3.3.3" xref="A1.E14.m1.4.4.3.1.3.3.3.3.cmml">1</mn></mrow></msup></mrow></munder><mo id="A1.E14.m1.4.4.3a" lspace="0.167em" xref="A1.E14.m1.4.4.3.cmml">⁡</mo><munder id="A1.E14.m1.4.4.3.2" xref="A1.E14.m1.4.4.3.2.cmml"><mi id="A1.E14.m1.4.4.3.2.2" xref="A1.E14.m1.4.4.3.2.2.cmml">min</mi><mrow id="A1.E14.m1.2.2.2.2" xref="A1.E14.m1.2.2.2.3.cmml"><mo id="A1.E14.m1.2.2.2.2.3" stretchy="false" xref="A1.E14.m1.2.2.2.3.1.cmml">{</mo><mrow id="A1.E14.m1.1.1.1.1.1" xref="A1.E14.m1.1.1.1.1.1.cmml"><msub id="A1.E14.m1.1.1.1.1.1.2" xref="A1.E14.m1.1.1.1.1.1.2.cmml"><mi id="A1.E14.m1.1.1.1.1.1.2.2" xref="A1.E14.m1.1.1.1.1.1.2.2.cmml">v</mi><mi id="A1.E14.m1.1.1.1.1.1.2.3" xref="A1.E14.m1.1.1.1.1.1.2.3.cmml">k</mi></msub><mo id="A1.E14.m1.1.1.1.1.1.1" xref="A1.E14.m1.1.1.1.1.1.1.cmml">∈</mo><msup id="A1.E14.m1.1.1.1.1.1.3" xref="A1.E14.m1.1.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E14.m1.1.1.1.1.1.3.2" xref="A1.E14.m1.1.1.1.1.1.3.2.cmml">ℐ</mi><mi id="A1.E14.m1.1.1.1.1.1.3.3" xref="A1.E14.m1.1.1.1.1.1.3.3.cmml">i</mi></msup></mrow><mo id="A1.E14.m1.2.2.2.2.4" lspace="0em" rspace="0em" xref="A1.E14.m1.2.2.2.3.1.cmml">|</mo><mrow id="A1.E14.m1.2.2.2.2.2" xref="A1.E14.m1.2.2.2.2.2.cmml"><mi id="A1.E14.m1.2.2.2.2.2.3" xref="A1.E14.m1.2.2.2.2.2.3.cmml">k</mi><mo id="A1.E14.m1.2.2.2.2.2.2" xref="A1.E14.m1.2.2.2.2.2.2.cmml">∈</mo><mrow id="A1.E14.m1.2.2.2.2.2.1.1" xref="A1.E14.m1.2.2.2.2.2.1.2.cmml"><mo id="A1.E14.m1.2.2.2.2.2.1.1.2" stretchy="false" xref="A1.E14.m1.2.2.2.2.2.1.2.1.cmml">[</mo><msub id="A1.E14.m1.2.2.2.2.2.1.1.1" xref="A1.E14.m1.2.2.2.2.2.1.1.1.cmml"><mi id="A1.E14.m1.2.2.2.2.2.1.1.1.2" xref="A1.E14.m1.2.2.2.2.2.1.1.1.2.cmml">c</mi><mn id="A1.E14.m1.2.2.2.2.2.1.1.1.3" xref="A1.E14.m1.2.2.2.2.2.1.1.1.3.cmml">4</mn></msub><mo id="A1.E14.m1.2.2.2.2.2.1.1.3" stretchy="false" xref="A1.E14.m1.2.2.2.2.2.1.2.1.cmml">]</mo></mrow></mrow><mo id="A1.E14.m1.2.2.2.2.5" stretchy="false" xref="A1.E14.m1.2.2.2.3.1.cmml">}</mo></mrow></munder></mrow><mo id="A1.E14.m1.4.4.2" lspace="0.167em" xref="A1.E14.m1.4.4.2.cmml">⁢</mo><mrow id="A1.E14.m1.4.4.1" xref="A1.E14.m1.4.4.1.cmml"><mstyle displaystyle="true" id="A1.E14.m1.4.4.1.2" xref="A1.E14.m1.4.4.1.2.cmml"><munderover id="A1.E14.m1.4.4.1.2a" xref="A1.E14.m1.4.4.1.2.cmml"><mo id="A1.E14.m1.4.4.1.2.2.2" movablelimits="false" xref="A1.E14.m1.4.4.1.2.2.2.cmml">∑</mo><mrow id="A1.E14.m1.4.4.1.2.2.3" xref="A1.E14.m1.4.4.1.2.2.3.cmml"><mi id="A1.E14.m1.4.4.1.2.2.3.2" xref="A1.E14.m1.4.4.1.2.2.3.2.cmml">k</mi><mo id="A1.E14.m1.4.4.1.2.2.3.1" xref="A1.E14.m1.4.4.1.2.2.3.1.cmml">=</mo><mn id="A1.E14.m1.4.4.1.2.2.3.3" xref="A1.E14.m1.4.4.1.2.2.3.3.cmml">1</mn></mrow><msub id="A1.E14.m1.4.4.1.2.3" xref="A1.E14.m1.4.4.1.2.3.cmml"><mi id="A1.E14.m1.4.4.1.2.3.2" xref="A1.E14.m1.4.4.1.2.3.2.cmml">c</mi><mn id="A1.E14.m1.4.4.1.2.3.3" xref="A1.E14.m1.4.4.1.2.3.3.cmml">4</mn></msub></munderover></mstyle><mrow id="A1.E14.m1.4.4.1.1" xref="A1.E14.m1.4.4.1.1.cmml"><mi id="A1.E14.m1.4.4.1.1.3" xref="A1.E14.m1.4.4.1.1.3.cmml">r</mi><mo id="A1.E14.m1.4.4.1.1.2" xref="A1.E14.m1.4.4.1.1.2.cmml">⁢</mo><mrow id="A1.E14.m1.4.4.1.1.1.1" xref="A1.E14.m1.4.4.1.1.1.2.cmml"><mo id="A1.E14.m1.4.4.1.1.1.1.2" stretchy="false" xref="A1.E14.m1.4.4.1.1.1.2.cmml">(</mo><mi id="A1.E14.m1.3.3" xref="A1.E14.m1.3.3.cmml">u</mi><mo id="A1.E14.m1.4.4.1.1.1.1.3" xref="A1.E14.m1.4.4.1.1.1.2.cmml">,</mo><msub id="A1.E14.m1.4.4.1.1.1.1.1" xref="A1.E14.m1.4.4.1.1.1.1.1.cmml"><mi id="A1.E14.m1.4.4.1.1.1.1.1.2" xref="A1.E14.m1.4.4.1.1.1.1.1.2.cmml">v</mi><mi id="A1.E14.m1.4.4.1.1.1.1.1.3" xref="A1.E14.m1.4.4.1.1.1.1.1.3.cmml">k</mi></msub><mo id="A1.E14.m1.4.4.1.1.1.1.4" stretchy="false" xref="A1.E14.m1.4.4.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.E14.m1.4b"><apply id="A1.E14.m1.4.4.cmml" xref="A1.E14.m1.4.4"><times id="A1.E14.m1.4.4.2.cmml" xref="A1.E14.m1.4.4.2"></times><apply id="A1.E14.m1.4.4.3.cmml" xref="A1.E14.m1.4.4.3"><apply id="A1.E14.m1.4.4.3.1.cmml" xref="A1.E14.m1.4.4.3.1"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.3.1.1.cmml" xref="A1.E14.m1.4.4.3.1">subscript</csymbol><apply id="A1.E14.m1.4.4.3.1.2.cmml" xref="A1.E14.m1.4.4.3.1.2"><arg id="A1.E14.m1.4.4.3.1.2.1.cmml" xref="A1.E14.m1.4.4.3.1.2.1"></arg><max id="A1.E14.m1.4.4.3.1.2.2.cmml" xref="A1.E14.m1.4.4.3.1.2.2"></max></apply><apply id="A1.E14.m1.4.4.3.1.3.cmml" xref="A1.E14.m1.4.4.3.1.3"><subset id="A1.E14.m1.4.4.3.1.3.1.cmml" xref="A1.E14.m1.4.4.3.1.3.1"></subset><apply id="A1.E14.m1.4.4.3.1.3.2.cmml" xref="A1.E14.m1.4.4.3.1.3.2"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.3.1.3.2.1.cmml" xref="A1.E14.m1.4.4.3.1.3.2">superscript</csymbol><ci id="A1.E14.m1.4.4.3.1.3.2.2.cmml" xref="A1.E14.m1.4.4.3.1.3.2.2">ℐ</ci><ci id="A1.E14.m1.4.4.3.1.3.2.3.cmml" xref="A1.E14.m1.4.4.3.1.3.2.3">𝑖</ci></apply><apply id="A1.E14.m1.4.4.3.1.3.3.cmml" xref="A1.E14.m1.4.4.3.1.3.3"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.3.1.3.3.1.cmml" xref="A1.E14.m1.4.4.3.1.3.3">superscript</csymbol><ci id="A1.E14.m1.4.4.3.1.3.3.2.cmml" xref="A1.E14.m1.4.4.3.1.3.3.2">ℐ</ci><apply id="A1.E14.m1.4.4.3.1.3.3.3.cmml" xref="A1.E14.m1.4.4.3.1.3.3.3"><minus id="A1.E14.m1.4.4.3.1.3.3.3.1.cmml" xref="A1.E14.m1.4.4.3.1.3.3.3.1"></minus><ci id="A1.E14.m1.4.4.3.1.3.3.3.2.cmml" xref="A1.E14.m1.4.4.3.1.3.3.3.2">𝑖</ci><cn id="A1.E14.m1.4.4.3.1.3.3.3.3.cmml" type="integer" xref="A1.E14.m1.4.4.3.1.3.3.3.3">1</cn></apply></apply></apply></apply><apply id="A1.E14.m1.4.4.3.2.cmml" xref="A1.E14.m1.4.4.3.2"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.3.2.1.cmml" xref="A1.E14.m1.4.4.3.2">subscript</csymbol><min id="A1.E14.m1.4.4.3.2.2.cmml" xref="A1.E14.m1.4.4.3.2.2"></min><apply id="A1.E14.m1.2.2.2.3.cmml" xref="A1.E14.m1.2.2.2.2"><csymbol cd="latexml" id="A1.E14.m1.2.2.2.3.1.cmml" xref="A1.E14.m1.2.2.2.2.3">conditional-set</csymbol><apply id="A1.E14.m1.1.1.1.1.1.cmml" xref="A1.E14.m1.1.1.1.1.1"><in id="A1.E14.m1.1.1.1.1.1.1.cmml" xref="A1.E14.m1.1.1.1.1.1.1"></in><apply id="A1.E14.m1.1.1.1.1.1.2.cmml" xref="A1.E14.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.E14.m1.1.1.1.1.1.2.1.cmml" xref="A1.E14.m1.1.1.1.1.1.2">subscript</csymbol><ci id="A1.E14.m1.1.1.1.1.1.2.2.cmml" xref="A1.E14.m1.1.1.1.1.1.2.2">𝑣</ci><ci id="A1.E14.m1.1.1.1.1.1.2.3.cmml" xref="A1.E14.m1.1.1.1.1.1.2.3">𝑘</ci></apply><apply id="A1.E14.m1.1.1.1.1.1.3.cmml" xref="A1.E14.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.E14.m1.1.1.1.1.1.3.1.cmml" xref="A1.E14.m1.1.1.1.1.1.3">superscript</csymbol><ci id="A1.E14.m1.1.1.1.1.1.3.2.cmml" xref="A1.E14.m1.1.1.1.1.1.3.2">ℐ</ci><ci id="A1.E14.m1.1.1.1.1.1.3.3.cmml" xref="A1.E14.m1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><apply id="A1.E14.m1.2.2.2.2.2.cmml" xref="A1.E14.m1.2.2.2.2.2"><in id="A1.E14.m1.2.2.2.2.2.2.cmml" xref="A1.E14.m1.2.2.2.2.2.2"></in><ci id="A1.E14.m1.2.2.2.2.2.3.cmml" xref="A1.E14.m1.2.2.2.2.2.3">𝑘</ci><apply id="A1.E14.m1.2.2.2.2.2.1.2.cmml" xref="A1.E14.m1.2.2.2.2.2.1.1"><csymbol cd="latexml" id="A1.E14.m1.2.2.2.2.2.1.2.1.cmml" xref="A1.E14.m1.2.2.2.2.2.1.1.2">delimited-[]</csymbol><apply id="A1.E14.m1.2.2.2.2.2.1.1.1.cmml" xref="A1.E14.m1.2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.E14.m1.2.2.2.2.2.1.1.1.1.cmml" xref="A1.E14.m1.2.2.2.2.2.1.1.1">subscript</csymbol><ci id="A1.E14.m1.2.2.2.2.2.1.1.1.2.cmml" xref="A1.E14.m1.2.2.2.2.2.1.1.1.2">𝑐</ci><cn id="A1.E14.m1.2.2.2.2.2.1.1.1.3.cmml" type="integer" xref="A1.E14.m1.2.2.2.2.2.1.1.1.3">4</cn></apply></apply></apply></apply></apply></apply><apply id="A1.E14.m1.4.4.1.cmml" xref="A1.E14.m1.4.4.1"><apply id="A1.E14.m1.4.4.1.2.cmml" xref="A1.E14.m1.4.4.1.2"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.1.2.1.cmml" xref="A1.E14.m1.4.4.1.2">superscript</csymbol><apply id="A1.E14.m1.4.4.1.2.2.cmml" xref="A1.E14.m1.4.4.1.2"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.1.2.2.1.cmml" xref="A1.E14.m1.4.4.1.2">subscript</csymbol><sum id="A1.E14.m1.4.4.1.2.2.2.cmml" xref="A1.E14.m1.4.4.1.2.2.2"></sum><apply id="A1.E14.m1.4.4.1.2.2.3.cmml" xref="A1.E14.m1.4.4.1.2.2.3"><eq id="A1.E14.m1.4.4.1.2.2.3.1.cmml" xref="A1.E14.m1.4.4.1.2.2.3.1"></eq><ci id="A1.E14.m1.4.4.1.2.2.3.2.cmml" xref="A1.E14.m1.4.4.1.2.2.3.2">𝑘</ci><cn id="A1.E14.m1.4.4.1.2.2.3.3.cmml" type="integer" xref="A1.E14.m1.4.4.1.2.2.3.3">1</cn></apply></apply><apply id="A1.E14.m1.4.4.1.2.3.cmml" xref="A1.E14.m1.4.4.1.2.3"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.1.2.3.1.cmml" xref="A1.E14.m1.4.4.1.2.3">subscript</csymbol><ci id="A1.E14.m1.4.4.1.2.3.2.cmml" xref="A1.E14.m1.4.4.1.2.3.2">𝑐</ci><cn id="A1.E14.m1.4.4.1.2.3.3.cmml" type="integer" xref="A1.E14.m1.4.4.1.2.3.3">4</cn></apply></apply><apply id="A1.E14.m1.4.4.1.1.cmml" xref="A1.E14.m1.4.4.1.1"><times id="A1.E14.m1.4.4.1.1.2.cmml" xref="A1.E14.m1.4.4.1.1.2"></times><ci id="A1.E14.m1.4.4.1.1.3.cmml" xref="A1.E14.m1.4.4.1.1.3">𝑟</ci><interval closure="open" id="A1.E14.m1.4.4.1.1.1.2.cmml" xref="A1.E14.m1.4.4.1.1.1.1"><ci id="A1.E14.m1.3.3.cmml" xref="A1.E14.m1.3.3">𝑢</ci><apply id="A1.E14.m1.4.4.1.1.1.1.1.cmml" xref="A1.E14.m1.4.4.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E14.m1.4.4.1.1.1.1.1.1.cmml" xref="A1.E14.m1.4.4.1.1.1.1.1">subscript</csymbol><ci id="A1.E14.m1.4.4.1.1.1.1.1.2.cmml" xref="A1.E14.m1.4.4.1.1.1.1.1.2">𝑣</ci><ci id="A1.E14.m1.4.4.1.1.1.1.1.3.cmml" xref="A1.E14.m1.4.4.1.1.1.1.1.3">𝑘</ci></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E14.m1.4c">\displaystyle\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset\mathcal{I}^{i-%
1}}\min_{\{v_{k}\in\mathcal{I}^{i}|k\in[c_{4}]\}}\sum_{k=1}^{c_{4}}r(u,v_{k})</annotation><annotation encoding="application/x-llamapun" id="A1.E14.m1.4d">start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ⊂ caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT end_POSTSUBSCRIPT roman_min start_POSTSUBSCRIPT { italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∈ caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT | italic_k ∈ [ italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT ] } end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT end_POSTSUPERSCRIPT italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(14)</span></td>
</tr></tbody>
<tbody id="A1.E15"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="A1.E15.m1.1"><semantics id="A1.E15.m1.1a"><mo id="A1.E15.m1.1.1" xref="A1.E15.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="A1.E15.m1.1b"><eq id="A1.E15.m1.1.1.cmml" xref="A1.E15.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="A1.E15.m1.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="A1.E15.m1.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset\mathcal{I}^{i-%
1}}\sum_{k=1}^{c_{4}}r(u,v_{j_{c_{i}+1-k}})" class="ltx_Math" display="inline" id="A1.E15.m2.2"><semantics id="A1.E15.m2.2a"><mrow id="A1.E15.m2.2.2" xref="A1.E15.m2.2.2.cmml"><munder id="A1.E15.m2.2.2.3" xref="A1.E15.m2.2.2.3.cmml"><mrow id="A1.E15.m2.2.2.3.2" xref="A1.E15.m2.2.2.3.2.cmml"><mi id="A1.E15.m2.2.2.3.2.1" xref="A1.E15.m2.2.2.3.2.1.cmml">arg</mi><mo id="A1.E15.m2.2.2.3.2a" xref="A1.E15.m2.2.2.3.2.cmml">⁡</mo><mi id="A1.E15.m2.2.2.3.2.2" xref="A1.E15.m2.2.2.3.2.2.cmml">max</mi></mrow><mrow id="A1.E15.m2.2.2.3.3" xref="A1.E15.m2.2.2.3.3.cmml"><msup id="A1.E15.m2.2.2.3.3.2" xref="A1.E15.m2.2.2.3.3.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E15.m2.2.2.3.3.2.2" xref="A1.E15.m2.2.2.3.3.2.2.cmml">ℐ</mi><mi id="A1.E15.m2.2.2.3.3.2.3" xref="A1.E15.m2.2.2.3.3.2.3.cmml">i</mi></msup><mo id="A1.E15.m2.2.2.3.3.1" xref="A1.E15.m2.2.2.3.3.1.cmml">⊂</mo><msup id="A1.E15.m2.2.2.3.3.3" xref="A1.E15.m2.2.2.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E15.m2.2.2.3.3.3.2" xref="A1.E15.m2.2.2.3.3.3.2.cmml">ℐ</mi><mrow id="A1.E15.m2.2.2.3.3.3.3" xref="A1.E15.m2.2.2.3.3.3.3.cmml"><mi id="A1.E15.m2.2.2.3.3.3.3.2" xref="A1.E15.m2.2.2.3.3.3.3.2.cmml">i</mi><mo id="A1.E15.m2.2.2.3.3.3.3.1" xref="A1.E15.m2.2.2.3.3.3.3.1.cmml">−</mo><mn id="A1.E15.m2.2.2.3.3.3.3.3" xref="A1.E15.m2.2.2.3.3.3.3.3.cmml">1</mn></mrow></msup></mrow></munder><mo id="A1.E15.m2.2.2.2" lspace="0.167em" xref="A1.E15.m2.2.2.2.cmml">⁢</mo><mrow id="A1.E15.m2.2.2.1" xref="A1.E15.m2.2.2.1.cmml"><mstyle displaystyle="true" id="A1.E15.m2.2.2.1.2" xref="A1.E15.m2.2.2.1.2.cmml"><munderover id="A1.E15.m2.2.2.1.2a" xref="A1.E15.m2.2.2.1.2.cmml"><mo id="A1.E15.m2.2.2.1.2.2.2" movablelimits="false" xref="A1.E15.m2.2.2.1.2.2.2.cmml">∑</mo><mrow id="A1.E15.m2.2.2.1.2.2.3" xref="A1.E15.m2.2.2.1.2.2.3.cmml"><mi id="A1.E15.m2.2.2.1.2.2.3.2" xref="A1.E15.m2.2.2.1.2.2.3.2.cmml">k</mi><mo id="A1.E15.m2.2.2.1.2.2.3.1" xref="A1.E15.m2.2.2.1.2.2.3.1.cmml">=</mo><mn id="A1.E15.m2.2.2.1.2.2.3.3" xref="A1.E15.m2.2.2.1.2.2.3.3.cmml">1</mn></mrow><msub id="A1.E15.m2.2.2.1.2.3" xref="A1.E15.m2.2.2.1.2.3.cmml"><mi id="A1.E15.m2.2.2.1.2.3.2" xref="A1.E15.m2.2.2.1.2.3.2.cmml">c</mi><mn id="A1.E15.m2.2.2.1.2.3.3" xref="A1.E15.m2.2.2.1.2.3.3.cmml">4</mn></msub></munderover></mstyle><mrow id="A1.E15.m2.2.2.1.1" xref="A1.E15.m2.2.2.1.1.cmml"><mi id="A1.E15.m2.2.2.1.1.3" xref="A1.E15.m2.2.2.1.1.3.cmml">r</mi><mo id="A1.E15.m2.2.2.1.1.2" xref="A1.E15.m2.2.2.1.1.2.cmml">⁢</mo><mrow id="A1.E15.m2.2.2.1.1.1.1" xref="A1.E15.m2.2.2.1.1.1.2.cmml"><mo id="A1.E15.m2.2.2.1.1.1.1.2" stretchy="false" xref="A1.E15.m2.2.2.1.1.1.2.cmml">(</mo><mi id="A1.E15.m2.1.1" xref="A1.E15.m2.1.1.cmml">u</mi><mo id="A1.E15.m2.2.2.1.1.1.1.3" xref="A1.E15.m2.2.2.1.1.1.2.cmml">,</mo><msub id="A1.E15.m2.2.2.1.1.1.1.1" xref="A1.E15.m2.2.2.1.1.1.1.1.cmml"><mi id="A1.E15.m2.2.2.1.1.1.1.1.2" xref="A1.E15.m2.2.2.1.1.1.1.1.2.cmml">v</mi><msub id="A1.E15.m2.2.2.1.1.1.1.1.3" xref="A1.E15.m2.2.2.1.1.1.1.1.3.cmml"><mi id="A1.E15.m2.2.2.1.1.1.1.1.3.2" xref="A1.E15.m2.2.2.1.1.1.1.1.3.2.cmml">j</mi><mrow id="A1.E15.m2.2.2.1.1.1.1.1.3.3" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.cmml"><mrow id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.cmml"><msub id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.cmml"><mi id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.2" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.2.cmml">c</mi><mi id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.3" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.3.cmml">i</mi></msub><mo id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.1" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.1.cmml">+</mo><mn id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.3" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.3.cmml">1</mn></mrow><mo id="A1.E15.m2.2.2.1.1.1.1.1.3.3.1" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.1.cmml">−</mo><mi id="A1.E15.m2.2.2.1.1.1.1.1.3.3.3" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.3.cmml">k</mi></mrow></msub></msub><mo id="A1.E15.m2.2.2.1.1.1.1.4" stretchy="false" xref="A1.E15.m2.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.E15.m2.2b"><apply id="A1.E15.m2.2.2.cmml" xref="A1.E15.m2.2.2"><times id="A1.E15.m2.2.2.2.cmml" xref="A1.E15.m2.2.2.2"></times><apply id="A1.E15.m2.2.2.3.cmml" xref="A1.E15.m2.2.2.3"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.3.1.cmml" xref="A1.E15.m2.2.2.3">subscript</csymbol><apply id="A1.E15.m2.2.2.3.2.cmml" xref="A1.E15.m2.2.2.3.2"><arg id="A1.E15.m2.2.2.3.2.1.cmml" xref="A1.E15.m2.2.2.3.2.1"></arg><max id="A1.E15.m2.2.2.3.2.2.cmml" xref="A1.E15.m2.2.2.3.2.2"></max></apply><apply id="A1.E15.m2.2.2.3.3.cmml" xref="A1.E15.m2.2.2.3.3"><subset id="A1.E15.m2.2.2.3.3.1.cmml" xref="A1.E15.m2.2.2.3.3.1"></subset><apply id="A1.E15.m2.2.2.3.3.2.cmml" xref="A1.E15.m2.2.2.3.3.2"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.3.3.2.1.cmml" xref="A1.E15.m2.2.2.3.3.2">superscript</csymbol><ci id="A1.E15.m2.2.2.3.3.2.2.cmml" xref="A1.E15.m2.2.2.3.3.2.2">ℐ</ci><ci id="A1.E15.m2.2.2.3.3.2.3.cmml" xref="A1.E15.m2.2.2.3.3.2.3">𝑖</ci></apply><apply id="A1.E15.m2.2.2.3.3.3.cmml" xref="A1.E15.m2.2.2.3.3.3"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.3.3.3.1.cmml" xref="A1.E15.m2.2.2.3.3.3">superscript</csymbol><ci id="A1.E15.m2.2.2.3.3.3.2.cmml" xref="A1.E15.m2.2.2.3.3.3.2">ℐ</ci><apply id="A1.E15.m2.2.2.3.3.3.3.cmml" xref="A1.E15.m2.2.2.3.3.3.3"><minus id="A1.E15.m2.2.2.3.3.3.3.1.cmml" xref="A1.E15.m2.2.2.3.3.3.3.1"></minus><ci id="A1.E15.m2.2.2.3.3.3.3.2.cmml" xref="A1.E15.m2.2.2.3.3.3.3.2">𝑖</ci><cn id="A1.E15.m2.2.2.3.3.3.3.3.cmml" type="integer" xref="A1.E15.m2.2.2.3.3.3.3.3">1</cn></apply></apply></apply></apply><apply id="A1.E15.m2.2.2.1.cmml" xref="A1.E15.m2.2.2.1"><apply id="A1.E15.m2.2.2.1.2.cmml" xref="A1.E15.m2.2.2.1.2"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.1.2.1.cmml" xref="A1.E15.m2.2.2.1.2">superscript</csymbol><apply id="A1.E15.m2.2.2.1.2.2.cmml" xref="A1.E15.m2.2.2.1.2"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.1.2.2.1.cmml" xref="A1.E15.m2.2.2.1.2">subscript</csymbol><sum id="A1.E15.m2.2.2.1.2.2.2.cmml" xref="A1.E15.m2.2.2.1.2.2.2"></sum><apply id="A1.E15.m2.2.2.1.2.2.3.cmml" xref="A1.E15.m2.2.2.1.2.2.3"><eq id="A1.E15.m2.2.2.1.2.2.3.1.cmml" xref="A1.E15.m2.2.2.1.2.2.3.1"></eq><ci id="A1.E15.m2.2.2.1.2.2.3.2.cmml" xref="A1.E15.m2.2.2.1.2.2.3.2">𝑘</ci><cn id="A1.E15.m2.2.2.1.2.2.3.3.cmml" type="integer" xref="A1.E15.m2.2.2.1.2.2.3.3">1</cn></apply></apply><apply id="A1.E15.m2.2.2.1.2.3.cmml" xref="A1.E15.m2.2.2.1.2.3"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.1.2.3.1.cmml" xref="A1.E15.m2.2.2.1.2.3">subscript</csymbol><ci id="A1.E15.m2.2.2.1.2.3.2.cmml" xref="A1.E15.m2.2.2.1.2.3.2">𝑐</ci><cn id="A1.E15.m2.2.2.1.2.3.3.cmml" type="integer" xref="A1.E15.m2.2.2.1.2.3.3">4</cn></apply></apply><apply id="A1.E15.m2.2.2.1.1.cmml" xref="A1.E15.m2.2.2.1.1"><times id="A1.E15.m2.2.2.1.1.2.cmml" xref="A1.E15.m2.2.2.1.1.2"></times><ci id="A1.E15.m2.2.2.1.1.3.cmml" xref="A1.E15.m2.2.2.1.1.3">𝑟</ci><interval closure="open" id="A1.E15.m2.2.2.1.1.1.2.cmml" xref="A1.E15.m2.2.2.1.1.1.1"><ci id="A1.E15.m2.1.1.cmml" xref="A1.E15.m2.1.1">𝑢</ci><apply id="A1.E15.m2.2.2.1.1.1.1.1.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.1.1.1.1.1.1.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1">subscript</csymbol><ci id="A1.E15.m2.2.2.1.1.1.1.1.2.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.2">𝑣</ci><apply id="A1.E15.m2.2.2.1.1.1.1.1.3.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.1.1.1.1.1.3.1.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3">subscript</csymbol><ci id="A1.E15.m2.2.2.1.1.1.1.1.3.2.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.2">𝑗</ci><apply id="A1.E15.m2.2.2.1.1.1.1.1.3.3.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3"><minus id="A1.E15.m2.2.2.1.1.1.1.1.3.3.1.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.1"></minus><apply id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2"><plus id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.1.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.1"></plus><apply id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2"><csymbol cd="ambiguous" id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.1.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2">subscript</csymbol><ci id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.2.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.2">𝑐</ci><ci id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.3.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.2.3">𝑖</ci></apply><cn id="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.3.cmml" type="integer" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.2.3">1</cn></apply><ci id="A1.E15.m2.2.2.1.1.1.1.1.3.3.3.cmml" xref="A1.E15.m2.2.2.1.1.1.1.1.3.3.3">𝑘</ci></apply></apply></apply></interval></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E15.m2.2c">\displaystyle\operatorname*{\arg\!\max}_{\mathcal{I}^{i}\subset\mathcal{I}^{i-%
1}}\sum_{k=1}^{c_{4}}r(u,v_{j_{c_{i}+1-k}})</annotation><annotation encoding="application/x-llamapun" id="A1.E15.m2.2d">start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT caligraphic_I start_POSTSUPERSCRIPT italic_i end_POSTSUPERSCRIPT ⊂ caligraphic_I start_POSTSUPERSCRIPT italic_i - 1 end_POSTSUPERSCRIPT end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_k = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT end_POSTSUPERSCRIPT italic_r ( italic_u , italic_v start_POSTSUBSCRIPT italic_j start_POSTSUBSCRIPT italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT + 1 - italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(15)</span></td>
</tr></tbody>
<tbody id="A1.E16"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="A1.E16.m1.1"><semantics id="A1.E16.m1.1a"><mo id="A1.E16.m1.1.1" xref="A1.E16.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="A1.E16.m1.1b"><eq id="A1.E16.m1.1.1.cmml" xref="A1.E16.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="A1.E16.m1.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="A1.E16.m1.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\{v_{i}|i\in[c_{i}]\}" class="ltx_Math" display="inline" id="A1.E16.m2.2"><semantics id="A1.E16.m2.2a"><mrow id="A1.E16.m2.2.2.2" xref="A1.E16.m2.2.2.3.cmml"><mo id="A1.E16.m2.2.2.2.3" stretchy="false" xref="A1.E16.m2.2.2.3.1.cmml">{</mo><msub id="A1.E16.m2.1.1.1.1" xref="A1.E16.m2.1.1.1.1.cmml"><mi id="A1.E16.m2.1.1.1.1.2" xref="A1.E16.m2.1.1.1.1.2.cmml">v</mi><mi id="A1.E16.m2.1.1.1.1.3" xref="A1.E16.m2.1.1.1.1.3.cmml">i</mi></msub><mo id="A1.E16.m2.2.2.2.4" lspace="0em" rspace="0em" xref="A1.E16.m2.2.2.3.1.cmml">|</mo><mrow id="A1.E16.m2.2.2.2.2" xref="A1.E16.m2.2.2.2.2.cmml"><mi id="A1.E16.m2.2.2.2.2.3" xref="A1.E16.m2.2.2.2.2.3.cmml">i</mi><mo id="A1.E16.m2.2.2.2.2.2" xref="A1.E16.m2.2.2.2.2.2.cmml">∈</mo><mrow id="A1.E16.m2.2.2.2.2.1.1" xref="A1.E16.m2.2.2.2.2.1.2.cmml"><mo id="A1.E16.m2.2.2.2.2.1.1.2" stretchy="false" xref="A1.E16.m2.2.2.2.2.1.2.1.cmml">[</mo><msub id="A1.E16.m2.2.2.2.2.1.1.1" xref="A1.E16.m2.2.2.2.2.1.1.1.cmml"><mi id="A1.E16.m2.2.2.2.2.1.1.1.2" xref="A1.E16.m2.2.2.2.2.1.1.1.2.cmml">c</mi><mi id="A1.E16.m2.2.2.2.2.1.1.1.3" xref="A1.E16.m2.2.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="A1.E16.m2.2.2.2.2.1.1.3" stretchy="false" xref="A1.E16.m2.2.2.2.2.1.2.1.cmml">]</mo></mrow></mrow><mo id="A1.E16.m2.2.2.2.5" stretchy="false" xref="A1.E16.m2.2.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.E16.m2.2b"><apply id="A1.E16.m2.2.2.3.cmml" xref="A1.E16.m2.2.2.2"><csymbol cd="latexml" id="A1.E16.m2.2.2.3.1.cmml" xref="A1.E16.m2.2.2.2.3">conditional-set</csymbol><apply id="A1.E16.m2.1.1.1.1.cmml" xref="A1.E16.m2.1.1.1.1"><csymbol cd="ambiguous" id="A1.E16.m2.1.1.1.1.1.cmml" xref="A1.E16.m2.1.1.1.1">subscript</csymbol><ci id="A1.E16.m2.1.1.1.1.2.cmml" xref="A1.E16.m2.1.1.1.1.2">𝑣</ci><ci id="A1.E16.m2.1.1.1.1.3.cmml" xref="A1.E16.m2.1.1.1.1.3">𝑖</ci></apply><apply id="A1.E16.m2.2.2.2.2.cmml" xref="A1.E16.m2.2.2.2.2"><in id="A1.E16.m2.2.2.2.2.2.cmml" xref="A1.E16.m2.2.2.2.2.2"></in><ci id="A1.E16.m2.2.2.2.2.3.cmml" xref="A1.E16.m2.2.2.2.2.3">𝑖</ci><apply id="A1.E16.m2.2.2.2.2.1.2.cmml" xref="A1.E16.m2.2.2.2.2.1.1"><csymbol cd="latexml" id="A1.E16.m2.2.2.2.2.1.2.1.cmml" xref="A1.E16.m2.2.2.2.2.1.1.2">delimited-[]</csymbol><apply id="A1.E16.m2.2.2.2.2.1.1.1.cmml" xref="A1.E16.m2.2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="A1.E16.m2.2.2.2.2.1.1.1.1.cmml" xref="A1.E16.m2.2.2.2.2.1.1.1">subscript</csymbol><ci id="A1.E16.m2.2.2.2.2.1.1.1.2.cmml" xref="A1.E16.m2.2.2.2.2.1.1.1.2">𝑐</ci><ci id="A1.E16.m2.2.2.2.2.1.1.1.3.cmml" xref="A1.E16.m2.2.2.2.2.1.1.1.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E16.m2.2c">\displaystyle\{v_{i}|i\in[c_{i}]\}</annotation><annotation encoding="application/x-llamapun" id="A1.E16.m2.2d">{ italic_v start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_i ∈ [ italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ] }</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(16)</span></td>
</tr></tbody>
<tbody id="A1.E17"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="A1.E17.m1.1"><semantics id="A1.E17.m1.1a"><mo id="A1.E17.m1.1.1" xref="A1.E17.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="A1.E17.m1.1b"><eq id="A1.E17.m1.1.1.cmml" xref="A1.E17.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="A1.E17.m1.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="A1.E17.m1.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\mathcal{I}^{i,PRP}" class="ltx_Math" display="inline" id="A1.E17.m2.2"><semantics id="A1.E17.m2.2a"><msup id="A1.E17.m2.2.3" xref="A1.E17.m2.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A1.E17.m2.2.3.2" xref="A1.E17.m2.2.3.2.cmml">ℐ</mi><mrow id="A1.E17.m2.2.2.2.2" xref="A1.E17.m2.2.2.2.3.cmml"><mi id="A1.E17.m2.1.1.1.1" xref="A1.E17.m2.1.1.1.1.cmml">i</mi><mo id="A1.E17.m2.2.2.2.2.2" xref="A1.E17.m2.2.2.2.3.cmml">,</mo><mrow id="A1.E17.m2.2.2.2.2.1" xref="A1.E17.m2.2.2.2.2.1.cmml"><mi id="A1.E17.m2.2.2.2.2.1.2" xref="A1.E17.m2.2.2.2.2.1.2.cmml">P</mi><mo id="A1.E17.m2.2.2.2.2.1.1" xref="A1.E17.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="A1.E17.m2.2.2.2.2.1.3" xref="A1.E17.m2.2.2.2.2.1.3.cmml">R</mi><mo id="A1.E17.m2.2.2.2.2.1.1a" xref="A1.E17.m2.2.2.2.2.1.1.cmml">⁢</mo><mi id="A1.E17.m2.2.2.2.2.1.4" xref="A1.E17.m2.2.2.2.2.1.4.cmml">P</mi></mrow></mrow></msup><annotation-xml encoding="MathML-Content" id="A1.E17.m2.2b"><apply id="A1.E17.m2.2.3.cmml" xref="A1.E17.m2.2.3"><csymbol cd="ambiguous" id="A1.E17.m2.2.3.1.cmml" xref="A1.E17.m2.2.3">superscript</csymbol><ci id="A1.E17.m2.2.3.2.cmml" xref="A1.E17.m2.2.3.2">ℐ</ci><list id="A1.E17.m2.2.2.2.3.cmml" xref="A1.E17.m2.2.2.2.2"><ci id="A1.E17.m2.1.1.1.1.cmml" xref="A1.E17.m2.1.1.1.1">𝑖</ci><apply id="A1.E17.m2.2.2.2.2.1.cmml" xref="A1.E17.m2.2.2.2.2.1"><times id="A1.E17.m2.2.2.2.2.1.1.cmml" xref="A1.E17.m2.2.2.2.2.1.1"></times><ci id="A1.E17.m2.2.2.2.2.1.2.cmml" xref="A1.E17.m2.2.2.2.2.1.2">𝑃</ci><ci id="A1.E17.m2.2.2.2.2.1.3.cmml" xref="A1.E17.m2.2.2.2.2.1.3">𝑅</ci><ci id="A1.E17.m2.2.2.2.2.1.4.cmml" xref="A1.E17.m2.2.2.2.2.1.4">𝑃</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.E17.m2.2c">\displaystyle\mathcal{I}^{i,PRP}</annotation><annotation encoding="application/x-llamapun" id="A1.E17.m2.2d">caligraphic_I start_POSTSUPERSCRIPT italic_i , italic_P italic_R italic_P end_POSTSUPERSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(17)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A1.SS1.2.p2.5">∎</p>
</div>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="A1.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.2 </span>Proof of Proposition <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmproposition2" title="Proposition 2. ‣ 4 Generalized Probability Ranking Principle ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>
</h3>
<div class="ltx_proof" id="A1.SS2.1">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div class="ltx_para" id="A1.SS2.1.p1">
<p class="ltx_p" id="A1.SS2.1.p1.13">We construct a concrete example to prove this proposition. Without loss of generality, suppose we are at stage <math alttext="3" class="ltx_Math" display="inline" id="A1.SS2.1.p1.1.m1.1"><semantics id="A1.SS2.1.p1.1.m1.1a"><mn id="A1.SS2.1.p1.1.m1.1.1" xref="A1.SS2.1.p1.1.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.1.m1.1b"><cn id="A1.SS2.1.p1.1.m1.1.1.cmml" type="integer" xref="A1.SS2.1.p1.1.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.1.m1.1c">3</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.1.m1.1d">3</annotation></semantics></math>, and the final stage is <math alttext="4" class="ltx_Math" display="inline" id="A1.SS2.1.p1.2.m2.1"><semantics id="A1.SS2.1.p1.2.m2.1a"><mn id="A1.SS2.1.p1.2.m2.1.1" xref="A1.SS2.1.p1.2.m2.1.1.cmml">4</mn><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.2.m2.1b"><cn id="A1.SS2.1.p1.2.m2.1.1.cmml" type="integer" xref="A1.SS2.1.p1.2.m2.1.1">4</cn></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.2.m2.1c">4</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.2.m2.1d">4</annotation></semantics></math>. Let <math alttext="c_{2}=4,c_{3}=3,c_{4}=1" class="ltx_Math" display="inline" id="A1.SS2.1.p1.3.m3.2"><semantics id="A1.SS2.1.p1.3.m3.2a"><mrow id="A1.SS2.1.p1.3.m3.2.2.2" xref="A1.SS2.1.p1.3.m3.2.2.3.cmml"><mrow id="A1.SS2.1.p1.3.m3.1.1.1.1" xref="A1.SS2.1.p1.3.m3.1.1.1.1.cmml"><msub id="A1.SS2.1.p1.3.m3.1.1.1.1.2" xref="A1.SS2.1.p1.3.m3.1.1.1.1.2.cmml"><mi id="A1.SS2.1.p1.3.m3.1.1.1.1.2.2" xref="A1.SS2.1.p1.3.m3.1.1.1.1.2.2.cmml">c</mi><mn id="A1.SS2.1.p1.3.m3.1.1.1.1.2.3" xref="A1.SS2.1.p1.3.m3.1.1.1.1.2.3.cmml">2</mn></msub><mo id="A1.SS2.1.p1.3.m3.1.1.1.1.1" xref="A1.SS2.1.p1.3.m3.1.1.1.1.1.cmml">=</mo><mn id="A1.SS2.1.p1.3.m3.1.1.1.1.3" xref="A1.SS2.1.p1.3.m3.1.1.1.1.3.cmml">4</mn></mrow><mo id="A1.SS2.1.p1.3.m3.2.2.2.3" xref="A1.SS2.1.p1.3.m3.2.2.3a.cmml">,</mo><mrow id="A1.SS2.1.p1.3.m3.2.2.2.2.2" xref="A1.SS2.1.p1.3.m3.2.2.2.2.3.cmml"><mrow id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.cmml"><msub id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.cmml"><mi id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.2" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.2.cmml">c</mi><mn id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.3" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.3.cmml">3</mn></msub><mo id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.1" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.1.cmml">=</mo><mn id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.3" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.3.cmml">3</mn></mrow><mo id="A1.SS2.1.p1.3.m3.2.2.2.2.2.3" xref="A1.SS2.1.p1.3.m3.2.2.2.2.3a.cmml">,</mo><mrow id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.cmml"><msub id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.cmml"><mi id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.2" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.2.cmml">c</mi><mn id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.3" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.3.cmml">4</mn></msub><mo id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.1" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.1.cmml">=</mo><mn id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.3" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.3.m3.2b"><apply id="A1.SS2.1.p1.3.m3.2.2.3.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2"><csymbol cd="ambiguous" id="A1.SS2.1.p1.3.m3.2.2.3a.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.3">formulae-sequence</csymbol><apply id="A1.SS2.1.p1.3.m3.1.1.1.1.cmml" xref="A1.SS2.1.p1.3.m3.1.1.1.1"><eq id="A1.SS2.1.p1.3.m3.1.1.1.1.1.cmml" xref="A1.SS2.1.p1.3.m3.1.1.1.1.1"></eq><apply id="A1.SS2.1.p1.3.m3.1.1.1.1.2.cmml" xref="A1.SS2.1.p1.3.m3.1.1.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.1.p1.3.m3.1.1.1.1.2.1.cmml" xref="A1.SS2.1.p1.3.m3.1.1.1.1.2">subscript</csymbol><ci id="A1.SS2.1.p1.3.m3.1.1.1.1.2.2.cmml" xref="A1.SS2.1.p1.3.m3.1.1.1.1.2.2">𝑐</ci><cn id="A1.SS2.1.p1.3.m3.1.1.1.1.2.3.cmml" type="integer" xref="A1.SS2.1.p1.3.m3.1.1.1.1.2.3">2</cn></apply><cn id="A1.SS2.1.p1.3.m3.1.1.1.1.3.cmml" type="integer" xref="A1.SS2.1.p1.3.m3.1.1.1.1.3">4</cn></apply><apply id="A1.SS2.1.p1.3.m3.2.2.2.2.3.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.SS2.1.p1.3.m3.2.2.2.2.3a.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1"><eq id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.1.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.1"></eq><apply id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.1.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2">subscript</csymbol><ci id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.2.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.2">𝑐</ci><cn id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.3.cmml" type="integer" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.2.3">3</cn></apply><cn id="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.3.cmml" type="integer" xref="A1.SS2.1.p1.3.m3.2.2.2.2.1.1.3">3</cn></apply><apply id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2"><eq id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.1.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.1"></eq><apply id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.1.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2">subscript</csymbol><ci id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.2.cmml" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.2">𝑐</ci><cn id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.3.cmml" type="integer" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.2.3">4</cn></apply><cn id="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.3.cmml" type="integer" xref="A1.SS2.1.p1.3.m3.2.2.2.2.2.2.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.3.m3.2c">c_{2}=4,c_{3}=3,c_{4}=1</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.3.m3.2d">italic_c start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = 4 , italic_c start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT = 3 , italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT = 1</annotation></semantics></math>. Suppose candidate items are <math alttext="(v_{1},p^{4}_{1}=0.1,r_{1}=1.0),(v_{2},p^{4}_{2}=0.2,r_{2}=1.0),(v_{3},p^{4}_{%
3}=0.5,r_{3}=\epsilon),(v_{4},p^{4}_{4}=0.0,r_{4}=0.0)" class="ltx_math_unparsed" display="inline" id="A1.SS2.1.p1.4.m4.1"><semantics id="A1.SS2.1.p1.4.m4.1a"><mrow id="A1.SS2.1.p1.4.m4.1b"><mrow id="A1.SS2.1.p1.4.m4.1.1"><mo id="A1.SS2.1.p1.4.m4.1.1.1" stretchy="false">(</mo><msub id="A1.SS2.1.p1.4.m4.1.1.2"><mi id="A1.SS2.1.p1.4.m4.1.1.2.2">v</mi><mn id="A1.SS2.1.p1.4.m4.1.1.2.3">1</mn></msub><mo id="A1.SS2.1.p1.4.m4.1.1.3">,</mo><msubsup id="A1.SS2.1.p1.4.m4.1.1.4"><mi id="A1.SS2.1.p1.4.m4.1.1.4.2.2">p</mi><mn id="A1.SS2.1.p1.4.m4.1.1.4.3">1</mn><mn id="A1.SS2.1.p1.4.m4.1.1.4.2.3">4</mn></msubsup><mo id="A1.SS2.1.p1.4.m4.1.1.5">=</mo><mn id="A1.SS2.1.p1.4.m4.1.1.6">0.1</mn><mo id="A1.SS2.1.p1.4.m4.1.1.7">,</mo><msub id="A1.SS2.1.p1.4.m4.1.1.8"><mi id="A1.SS2.1.p1.4.m4.1.1.8.2">r</mi><mn id="A1.SS2.1.p1.4.m4.1.1.8.3">1</mn></msub><mo id="A1.SS2.1.p1.4.m4.1.1.9">=</mo><mn id="A1.SS2.1.p1.4.m4.1.1.10">1.0</mn><mo id="A1.SS2.1.p1.4.m4.1.1.11" stretchy="false">)</mo></mrow><mo id="A1.SS2.1.p1.4.m4.1.2">,</mo><mrow id="A1.SS2.1.p1.4.m4.1.3"><mo id="A1.SS2.1.p1.4.m4.1.3.1" stretchy="false">(</mo><msub id="A1.SS2.1.p1.4.m4.1.3.2"><mi id="A1.SS2.1.p1.4.m4.1.3.2.2">v</mi><mn id="A1.SS2.1.p1.4.m4.1.3.2.3">2</mn></msub><mo id="A1.SS2.1.p1.4.m4.1.3.3">,</mo><msubsup id="A1.SS2.1.p1.4.m4.1.3.4"><mi id="A1.SS2.1.p1.4.m4.1.3.4.2.2">p</mi><mn id="A1.SS2.1.p1.4.m4.1.3.4.3">2</mn><mn id="A1.SS2.1.p1.4.m4.1.3.4.2.3">4</mn></msubsup><mo id="A1.SS2.1.p1.4.m4.1.3.5">=</mo><mn id="A1.SS2.1.p1.4.m4.1.3.6">0.2</mn><mo id="A1.SS2.1.p1.4.m4.1.3.7">,</mo><msub id="A1.SS2.1.p1.4.m4.1.3.8"><mi id="A1.SS2.1.p1.4.m4.1.3.8.2">r</mi><mn id="A1.SS2.1.p1.4.m4.1.3.8.3">2</mn></msub><mo id="A1.SS2.1.p1.4.m4.1.3.9">=</mo><mn id="A1.SS2.1.p1.4.m4.1.3.10">1.0</mn><mo id="A1.SS2.1.p1.4.m4.1.3.11" stretchy="false">)</mo></mrow><mo id="A1.SS2.1.p1.4.m4.1.4">,</mo><mrow id="A1.SS2.1.p1.4.m4.1.5"><mo id="A1.SS2.1.p1.4.m4.1.5.1" stretchy="false">(</mo><msub id="A1.SS2.1.p1.4.m4.1.5.2"><mi id="A1.SS2.1.p1.4.m4.1.5.2.2">v</mi><mn id="A1.SS2.1.p1.4.m4.1.5.2.3">3</mn></msub><mo id="A1.SS2.1.p1.4.m4.1.5.3">,</mo><msubsup id="A1.SS2.1.p1.4.m4.1.5.4"><mi id="A1.SS2.1.p1.4.m4.1.5.4.2.2">p</mi><mn id="A1.SS2.1.p1.4.m4.1.5.4.3">3</mn><mn id="A1.SS2.1.p1.4.m4.1.5.4.2.3">4</mn></msubsup><mo id="A1.SS2.1.p1.4.m4.1.5.5">=</mo><mn id="A1.SS2.1.p1.4.m4.1.5.6">0.5</mn><mo id="A1.SS2.1.p1.4.m4.1.5.7">,</mo><msub id="A1.SS2.1.p1.4.m4.1.5.8"><mi id="A1.SS2.1.p1.4.m4.1.5.8.2">r</mi><mn id="A1.SS2.1.p1.4.m4.1.5.8.3">3</mn></msub><mo id="A1.SS2.1.p1.4.m4.1.5.9">=</mo><mi id="A1.SS2.1.p1.4.m4.1.5.10">ϵ</mi><mo id="A1.SS2.1.p1.4.m4.1.5.11" stretchy="false">)</mo></mrow><mo id="A1.SS2.1.p1.4.m4.1.6">,</mo><mrow id="A1.SS2.1.p1.4.m4.1.7"><mo id="A1.SS2.1.p1.4.m4.1.7.1" stretchy="false">(</mo><msub id="A1.SS2.1.p1.4.m4.1.7.2"><mi id="A1.SS2.1.p1.4.m4.1.7.2.2">v</mi><mn id="A1.SS2.1.p1.4.m4.1.7.2.3">4</mn></msub><mo id="A1.SS2.1.p1.4.m4.1.7.3">,</mo><msubsup id="A1.SS2.1.p1.4.m4.1.7.4"><mi id="A1.SS2.1.p1.4.m4.1.7.4.2.2">p</mi><mn id="A1.SS2.1.p1.4.m4.1.7.4.3">4</mn><mn id="A1.SS2.1.p1.4.m4.1.7.4.2.3">4</mn></msubsup><mo id="A1.SS2.1.p1.4.m4.1.7.5">=</mo><mn id="A1.SS2.1.p1.4.m4.1.7.6">0.0</mn><mo id="A1.SS2.1.p1.4.m4.1.7.7">,</mo><msub id="A1.SS2.1.p1.4.m4.1.7.8"><mi id="A1.SS2.1.p1.4.m4.1.7.8.2">r</mi><mn id="A1.SS2.1.p1.4.m4.1.7.8.3">4</mn></msub><mo id="A1.SS2.1.p1.4.m4.1.7.9">=</mo><mn id="A1.SS2.1.p1.4.m4.1.7.10">0.0</mn><mo id="A1.SS2.1.p1.4.m4.1.7.11" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="A1.SS2.1.p1.4.m4.1c">(v_{1},p^{4}_{1}=0.1,r_{1}=1.0),(v_{2},p^{4}_{2}=0.2,r_{2}=1.0),(v_{3},p^{4}_{%
3}=0.5,r_{3}=\epsilon),(v_{4},p^{4}_{4}=0.0,r_{4}=0.0)</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.4.m4.1d">( italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_p start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 0.1 , italic_r start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 1.0 ) , ( italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_p start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = 0.2 , italic_r start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = 1.0 ) , ( italic_v start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT , italic_p start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT = 0.5 , italic_r start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT = italic_ϵ ) , ( italic_v start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT , italic_p start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT = 0.0 , italic_r start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT = 0.0 )</annotation></semantics></math>, where <math alttext="\epsilon" class="ltx_Math" display="inline" id="A1.SS2.1.p1.5.m5.1"><semantics id="A1.SS2.1.p1.5.m5.1a"><mi id="A1.SS2.1.p1.5.m5.1.1" xref="A1.SS2.1.p1.5.m5.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.5.m5.1b"><ci id="A1.SS2.1.p1.5.m5.1.1.cmml" xref="A1.SS2.1.p1.5.m5.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.5.m5.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.5.m5.1d">italic_ϵ</annotation></semantics></math> is a very small constant. Suppose the strategy at stage <math alttext="i" class="ltx_Math" display="inline" id="A1.SS2.1.p1.6.m6.1"><semantics id="A1.SS2.1.p1.6.m6.1a"><mi id="A1.SS2.1.p1.6.m6.1.1" xref="A1.SS2.1.p1.6.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.6.m6.1b"><ci id="A1.SS2.1.p1.6.m6.1.1.cmml" xref="A1.SS2.1.p1.6.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.6.m6.1c">i</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.6.m6.1d">italic_i</annotation></semantics></math> is to output the item with highest <math alttext="p^{4}" class="ltx_Math" display="inline" id="A1.SS2.1.p1.7.m7.1"><semantics id="A1.SS2.1.p1.7.m7.1a"><msup id="A1.SS2.1.p1.7.m7.1.1" xref="A1.SS2.1.p1.7.m7.1.1.cmml"><mi id="A1.SS2.1.p1.7.m7.1.1.2" xref="A1.SS2.1.p1.7.m7.1.1.2.cmml">p</mi><mn id="A1.SS2.1.p1.7.m7.1.1.3" xref="A1.SS2.1.p1.7.m7.1.1.3.cmml">4</mn></msup><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.7.m7.1b"><apply id="A1.SS2.1.p1.7.m7.1.1.cmml" xref="A1.SS2.1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="A1.SS2.1.p1.7.m7.1.1.1.cmml" xref="A1.SS2.1.p1.7.m7.1.1">superscript</csymbol><ci id="A1.SS2.1.p1.7.m7.1.1.2.cmml" xref="A1.SS2.1.p1.7.m7.1.1.2">𝑝</ci><cn id="A1.SS2.1.p1.7.m7.1.1.3.cmml" type="integer" xref="A1.SS2.1.p1.7.m7.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.7.m7.1c">p^{4}</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.7.m7.1d">italic_p start_POSTSUPERSCRIPT 4 end_POSTSUPERSCRIPT</annotation></semantics></math>. Then according to PRP, we should choose <math alttext="\{v_{1},v_{2},v_{3}\}" class="ltx_Math" display="inline" id="A1.SS2.1.p1.8.m8.3"><semantics id="A1.SS2.1.p1.8.m8.3a"><mrow id="A1.SS2.1.p1.8.m8.3.3.3" xref="A1.SS2.1.p1.8.m8.3.3.4.cmml"><mo id="A1.SS2.1.p1.8.m8.3.3.3.4" stretchy="false" xref="A1.SS2.1.p1.8.m8.3.3.4.cmml">{</mo><msub id="A1.SS2.1.p1.8.m8.1.1.1.1" xref="A1.SS2.1.p1.8.m8.1.1.1.1.cmml"><mi id="A1.SS2.1.p1.8.m8.1.1.1.1.2" xref="A1.SS2.1.p1.8.m8.1.1.1.1.2.cmml">v</mi><mn id="A1.SS2.1.p1.8.m8.1.1.1.1.3" xref="A1.SS2.1.p1.8.m8.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.SS2.1.p1.8.m8.3.3.3.5" xref="A1.SS2.1.p1.8.m8.3.3.4.cmml">,</mo><msub id="A1.SS2.1.p1.8.m8.2.2.2.2" xref="A1.SS2.1.p1.8.m8.2.2.2.2.cmml"><mi id="A1.SS2.1.p1.8.m8.2.2.2.2.2" xref="A1.SS2.1.p1.8.m8.2.2.2.2.2.cmml">v</mi><mn id="A1.SS2.1.p1.8.m8.2.2.2.2.3" xref="A1.SS2.1.p1.8.m8.2.2.2.2.3.cmml">2</mn></msub><mo id="A1.SS2.1.p1.8.m8.3.3.3.6" xref="A1.SS2.1.p1.8.m8.3.3.4.cmml">,</mo><msub id="A1.SS2.1.p1.8.m8.3.3.3.3" xref="A1.SS2.1.p1.8.m8.3.3.3.3.cmml"><mi id="A1.SS2.1.p1.8.m8.3.3.3.3.2" xref="A1.SS2.1.p1.8.m8.3.3.3.3.2.cmml">v</mi><mn id="A1.SS2.1.p1.8.m8.3.3.3.3.3" xref="A1.SS2.1.p1.8.m8.3.3.3.3.3.cmml">3</mn></msub><mo id="A1.SS2.1.p1.8.m8.3.3.3.7" stretchy="false" xref="A1.SS2.1.p1.8.m8.3.3.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.8.m8.3b"><set id="A1.SS2.1.p1.8.m8.3.3.4.cmml" xref="A1.SS2.1.p1.8.m8.3.3.3"><apply id="A1.SS2.1.p1.8.m8.1.1.1.1.cmml" xref="A1.SS2.1.p1.8.m8.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS2.1.p1.8.m8.1.1.1.1.1.cmml" xref="A1.SS2.1.p1.8.m8.1.1.1.1">subscript</csymbol><ci id="A1.SS2.1.p1.8.m8.1.1.1.1.2.cmml" xref="A1.SS2.1.p1.8.m8.1.1.1.1.2">𝑣</ci><cn id="A1.SS2.1.p1.8.m8.1.1.1.1.3.cmml" type="integer" xref="A1.SS2.1.p1.8.m8.1.1.1.1.3">1</cn></apply><apply id="A1.SS2.1.p1.8.m8.2.2.2.2.cmml" xref="A1.SS2.1.p1.8.m8.2.2.2.2"><csymbol cd="ambiguous" id="A1.SS2.1.p1.8.m8.2.2.2.2.1.cmml" xref="A1.SS2.1.p1.8.m8.2.2.2.2">subscript</csymbol><ci id="A1.SS2.1.p1.8.m8.2.2.2.2.2.cmml" xref="A1.SS2.1.p1.8.m8.2.2.2.2.2">𝑣</ci><cn id="A1.SS2.1.p1.8.m8.2.2.2.2.3.cmml" type="integer" xref="A1.SS2.1.p1.8.m8.2.2.2.2.3">2</cn></apply><apply id="A1.SS2.1.p1.8.m8.3.3.3.3.cmml" xref="A1.SS2.1.p1.8.m8.3.3.3.3"><csymbol cd="ambiguous" id="A1.SS2.1.p1.8.m8.3.3.3.3.1.cmml" xref="A1.SS2.1.p1.8.m8.3.3.3.3">subscript</csymbol><ci id="A1.SS2.1.p1.8.m8.3.3.3.3.2.cmml" xref="A1.SS2.1.p1.8.m8.3.3.3.3.2">𝑣</ci><cn id="A1.SS2.1.p1.8.m8.3.3.3.3.3.cmml" type="integer" xref="A1.SS2.1.p1.8.m8.3.3.3.3.3">3</cn></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.8.m8.3c">\{v_{1},v_{2},v_{3}\}</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.8.m8.3d">{ italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT 3 end_POSTSUBSCRIPT }</annotation></semantics></math> as the output of stage 3 and it is easy to see corresponding utility is <math alttext="\epsilon" class="ltx_Math" display="inline" id="A1.SS2.1.p1.9.m9.1"><semantics id="A1.SS2.1.p1.9.m9.1a"><mi id="A1.SS2.1.p1.9.m9.1.1" xref="A1.SS2.1.p1.9.m9.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.9.m9.1b"><ci id="A1.SS2.1.p1.9.m9.1.1.cmml" xref="A1.SS2.1.p1.9.m9.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.9.m9.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.9.m9.1d">italic_ϵ</annotation></semantics></math>. While according to GPRP, we should choose <math alttext="\{v_{1},v_{2},v_{4}\}" class="ltx_Math" display="inline" id="A1.SS2.1.p1.10.m10.3"><semantics id="A1.SS2.1.p1.10.m10.3a"><mrow id="A1.SS2.1.p1.10.m10.3.3.3" xref="A1.SS2.1.p1.10.m10.3.3.4.cmml"><mo id="A1.SS2.1.p1.10.m10.3.3.3.4" stretchy="false" xref="A1.SS2.1.p1.10.m10.3.3.4.cmml">{</mo><msub id="A1.SS2.1.p1.10.m10.1.1.1.1" xref="A1.SS2.1.p1.10.m10.1.1.1.1.cmml"><mi id="A1.SS2.1.p1.10.m10.1.1.1.1.2" xref="A1.SS2.1.p1.10.m10.1.1.1.1.2.cmml">v</mi><mn id="A1.SS2.1.p1.10.m10.1.1.1.1.3" xref="A1.SS2.1.p1.10.m10.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.SS2.1.p1.10.m10.3.3.3.5" xref="A1.SS2.1.p1.10.m10.3.3.4.cmml">,</mo><msub id="A1.SS2.1.p1.10.m10.2.2.2.2" xref="A1.SS2.1.p1.10.m10.2.2.2.2.cmml"><mi id="A1.SS2.1.p1.10.m10.2.2.2.2.2" xref="A1.SS2.1.p1.10.m10.2.2.2.2.2.cmml">v</mi><mn id="A1.SS2.1.p1.10.m10.2.2.2.2.3" xref="A1.SS2.1.p1.10.m10.2.2.2.2.3.cmml">2</mn></msub><mo id="A1.SS2.1.p1.10.m10.3.3.3.6" xref="A1.SS2.1.p1.10.m10.3.3.4.cmml">,</mo><msub id="A1.SS2.1.p1.10.m10.3.3.3.3" xref="A1.SS2.1.p1.10.m10.3.3.3.3.cmml"><mi id="A1.SS2.1.p1.10.m10.3.3.3.3.2" xref="A1.SS2.1.p1.10.m10.3.3.3.3.2.cmml">v</mi><mn id="A1.SS2.1.p1.10.m10.3.3.3.3.3" xref="A1.SS2.1.p1.10.m10.3.3.3.3.3.cmml">4</mn></msub><mo id="A1.SS2.1.p1.10.m10.3.3.3.7" stretchy="false" xref="A1.SS2.1.p1.10.m10.3.3.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.10.m10.3b"><set id="A1.SS2.1.p1.10.m10.3.3.4.cmml" xref="A1.SS2.1.p1.10.m10.3.3.3"><apply id="A1.SS2.1.p1.10.m10.1.1.1.1.cmml" xref="A1.SS2.1.p1.10.m10.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS2.1.p1.10.m10.1.1.1.1.1.cmml" xref="A1.SS2.1.p1.10.m10.1.1.1.1">subscript</csymbol><ci id="A1.SS2.1.p1.10.m10.1.1.1.1.2.cmml" xref="A1.SS2.1.p1.10.m10.1.1.1.1.2">𝑣</ci><cn id="A1.SS2.1.p1.10.m10.1.1.1.1.3.cmml" type="integer" xref="A1.SS2.1.p1.10.m10.1.1.1.1.3">1</cn></apply><apply id="A1.SS2.1.p1.10.m10.2.2.2.2.cmml" xref="A1.SS2.1.p1.10.m10.2.2.2.2"><csymbol cd="ambiguous" id="A1.SS2.1.p1.10.m10.2.2.2.2.1.cmml" xref="A1.SS2.1.p1.10.m10.2.2.2.2">subscript</csymbol><ci id="A1.SS2.1.p1.10.m10.2.2.2.2.2.cmml" xref="A1.SS2.1.p1.10.m10.2.2.2.2.2">𝑣</ci><cn id="A1.SS2.1.p1.10.m10.2.2.2.2.3.cmml" type="integer" xref="A1.SS2.1.p1.10.m10.2.2.2.2.3">2</cn></apply><apply id="A1.SS2.1.p1.10.m10.3.3.3.3.cmml" xref="A1.SS2.1.p1.10.m10.3.3.3.3"><csymbol cd="ambiguous" id="A1.SS2.1.p1.10.m10.3.3.3.3.1.cmml" xref="A1.SS2.1.p1.10.m10.3.3.3.3">subscript</csymbol><ci id="A1.SS2.1.p1.10.m10.3.3.3.3.2.cmml" xref="A1.SS2.1.p1.10.m10.3.3.3.3.2">𝑣</ci><cn id="A1.SS2.1.p1.10.m10.3.3.3.3.3.cmml" type="integer" xref="A1.SS2.1.p1.10.m10.3.3.3.3.3">4</cn></apply></set></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.10.m10.3c">\{v_{1},v_{2},v_{4}\}</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.10.m10.3d">{ italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_v start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT }</annotation></semantics></math> as the output with utility 1. Thus the gap between them is <math alttext="1-\epsilon" class="ltx_Math" display="inline" id="A1.SS2.1.p1.11.m11.1"><semantics id="A1.SS2.1.p1.11.m11.1a"><mrow id="A1.SS2.1.p1.11.m11.1.1" xref="A1.SS2.1.p1.11.m11.1.1.cmml"><mn id="A1.SS2.1.p1.11.m11.1.1.2" xref="A1.SS2.1.p1.11.m11.1.1.2.cmml">1</mn><mo id="A1.SS2.1.p1.11.m11.1.1.1" xref="A1.SS2.1.p1.11.m11.1.1.1.cmml">−</mo><mi id="A1.SS2.1.p1.11.m11.1.1.3" xref="A1.SS2.1.p1.11.m11.1.1.3.cmml">ϵ</mi></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.11.m11.1b"><apply id="A1.SS2.1.p1.11.m11.1.1.cmml" xref="A1.SS2.1.p1.11.m11.1.1"><minus id="A1.SS2.1.p1.11.m11.1.1.1.cmml" xref="A1.SS2.1.p1.11.m11.1.1.1"></minus><cn id="A1.SS2.1.p1.11.m11.1.1.2.cmml" type="integer" xref="A1.SS2.1.p1.11.m11.1.1.2">1</cn><ci id="A1.SS2.1.p1.11.m11.1.1.3.cmml" xref="A1.SS2.1.p1.11.m11.1.1.3">italic-ϵ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.11.m11.1c">1-\epsilon</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.11.m11.1d">1 - italic_ϵ</annotation></semantics></math>. When <math alttext="\epsilon" class="ltx_Math" display="inline" id="A1.SS2.1.p1.12.m12.1"><semantics id="A1.SS2.1.p1.12.m12.1a"><mi id="A1.SS2.1.p1.12.m12.1.1" xref="A1.SS2.1.p1.12.m12.1.1.cmml">ϵ</mi><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.12.m12.1b"><ci id="A1.SS2.1.p1.12.m12.1.1.cmml" xref="A1.SS2.1.p1.12.m12.1.1">italic-ϵ</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.12.m12.1c">\epsilon</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.12.m12.1d">italic_ϵ</annotation></semantics></math> approaches 0, the gap approaches <math alttext="c_{4}=1" class="ltx_Math" display="inline" id="A1.SS2.1.p1.13.m13.1"><semantics id="A1.SS2.1.p1.13.m13.1a"><mrow id="A1.SS2.1.p1.13.m13.1.1" xref="A1.SS2.1.p1.13.m13.1.1.cmml"><msub id="A1.SS2.1.p1.13.m13.1.1.2" xref="A1.SS2.1.p1.13.m13.1.1.2.cmml"><mi id="A1.SS2.1.p1.13.m13.1.1.2.2" xref="A1.SS2.1.p1.13.m13.1.1.2.2.cmml">c</mi><mn id="A1.SS2.1.p1.13.m13.1.1.2.3" xref="A1.SS2.1.p1.13.m13.1.1.2.3.cmml">4</mn></msub><mo id="A1.SS2.1.p1.13.m13.1.1.1" xref="A1.SS2.1.p1.13.m13.1.1.1.cmml">=</mo><mn id="A1.SS2.1.p1.13.m13.1.1.3" xref="A1.SS2.1.p1.13.m13.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.SS2.1.p1.13.m13.1b"><apply id="A1.SS2.1.p1.13.m13.1.1.cmml" xref="A1.SS2.1.p1.13.m13.1.1"><eq id="A1.SS2.1.p1.13.m13.1.1.1.cmml" xref="A1.SS2.1.p1.13.m13.1.1.1"></eq><apply id="A1.SS2.1.p1.13.m13.1.1.2.cmml" xref="A1.SS2.1.p1.13.m13.1.1.2"><csymbol cd="ambiguous" id="A1.SS2.1.p1.13.m13.1.1.2.1.cmml" xref="A1.SS2.1.p1.13.m13.1.1.2">subscript</csymbol><ci id="A1.SS2.1.p1.13.m13.1.1.2.2.cmml" xref="A1.SS2.1.p1.13.m13.1.1.2.2">𝑐</ci><cn id="A1.SS2.1.p1.13.m13.1.1.2.3.cmml" type="integer" xref="A1.SS2.1.p1.13.m13.1.1.2.3">4</cn></apply><cn id="A1.SS2.1.p1.13.m13.1.1.3.cmml" type="integer" xref="A1.SS2.1.p1.13.m13.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS2.1.p1.13.m13.1c">c_{4}=1</annotation><annotation encoding="application/x-llamapun" id="A1.SS2.1.p1.13.m13.1d">italic_c start_POSTSUBSCRIPT 4 end_POSTSUBSCRIPT = 1</annotation></semantics></math>.
∎</p>
</div>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="A1.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.3 </span>Proof of Theorem <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmtheorem1" title="Theorem 1. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">1</span></a>
</h3>
<div class="ltx_proof" id="A1.SS3.2">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div class="ltx_para" id="A1.SS3.1.p1">
<p class="ltx_p" id="A1.SS3.1.p1.3">Without loss of generality, suppose <math alttext="L(u,v_{1})\leq L(u,v_{2})" class="ltx_Math" display="inline" id="A1.SS3.1.p1.1.m1.4"><semantics id="A1.SS3.1.p1.1.m1.4a"><mrow id="A1.SS3.1.p1.1.m1.4.4" xref="A1.SS3.1.p1.1.m1.4.4.cmml"><mrow id="A1.SS3.1.p1.1.m1.3.3.1" xref="A1.SS3.1.p1.1.m1.3.3.1.cmml"><mi id="A1.SS3.1.p1.1.m1.3.3.1.3" xref="A1.SS3.1.p1.1.m1.3.3.1.3.cmml">L</mi><mo id="A1.SS3.1.p1.1.m1.3.3.1.2" xref="A1.SS3.1.p1.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="A1.SS3.1.p1.1.m1.3.3.1.1.1" xref="A1.SS3.1.p1.1.m1.3.3.1.1.2.cmml"><mo id="A1.SS3.1.p1.1.m1.3.3.1.1.1.2" stretchy="false" xref="A1.SS3.1.p1.1.m1.3.3.1.1.2.cmml">(</mo><mi id="A1.SS3.1.p1.1.m1.1.1" xref="A1.SS3.1.p1.1.m1.1.1.cmml">u</mi><mo id="A1.SS3.1.p1.1.m1.3.3.1.1.1.3" xref="A1.SS3.1.p1.1.m1.3.3.1.1.2.cmml">,</mo><msub id="A1.SS3.1.p1.1.m1.3.3.1.1.1.1" xref="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.cmml"><mi id="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.2" xref="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.2.cmml">v</mi><mn id="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.3" xref="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.SS3.1.p1.1.m1.3.3.1.1.1.4" stretchy="false" xref="A1.SS3.1.p1.1.m1.3.3.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.SS3.1.p1.1.m1.4.4.3" xref="A1.SS3.1.p1.1.m1.4.4.3.cmml">≤</mo><mrow id="A1.SS3.1.p1.1.m1.4.4.2" xref="A1.SS3.1.p1.1.m1.4.4.2.cmml"><mi id="A1.SS3.1.p1.1.m1.4.4.2.3" xref="A1.SS3.1.p1.1.m1.4.4.2.3.cmml">L</mi><mo id="A1.SS3.1.p1.1.m1.4.4.2.2" xref="A1.SS3.1.p1.1.m1.4.4.2.2.cmml">⁢</mo><mrow id="A1.SS3.1.p1.1.m1.4.4.2.1.1" xref="A1.SS3.1.p1.1.m1.4.4.2.1.2.cmml"><mo id="A1.SS3.1.p1.1.m1.4.4.2.1.1.2" stretchy="false" xref="A1.SS3.1.p1.1.m1.4.4.2.1.2.cmml">(</mo><mi id="A1.SS3.1.p1.1.m1.2.2" xref="A1.SS3.1.p1.1.m1.2.2.cmml">u</mi><mo id="A1.SS3.1.p1.1.m1.4.4.2.1.1.3" xref="A1.SS3.1.p1.1.m1.4.4.2.1.2.cmml">,</mo><msub id="A1.SS3.1.p1.1.m1.4.4.2.1.1.1" xref="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.cmml"><mi id="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.2" xref="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.2.cmml">v</mi><mn id="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.3" xref="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.3.cmml">2</mn></msub><mo id="A1.SS3.1.p1.1.m1.4.4.2.1.1.4" stretchy="false" xref="A1.SS3.1.p1.1.m1.4.4.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.1.p1.1.m1.4b"><apply id="A1.SS3.1.p1.1.m1.4.4.cmml" xref="A1.SS3.1.p1.1.m1.4.4"><leq id="A1.SS3.1.p1.1.m1.4.4.3.cmml" xref="A1.SS3.1.p1.1.m1.4.4.3"></leq><apply id="A1.SS3.1.p1.1.m1.3.3.1.cmml" xref="A1.SS3.1.p1.1.m1.3.3.1"><times id="A1.SS3.1.p1.1.m1.3.3.1.2.cmml" xref="A1.SS3.1.p1.1.m1.3.3.1.2"></times><ci id="A1.SS3.1.p1.1.m1.3.3.1.3.cmml" xref="A1.SS3.1.p1.1.m1.3.3.1.3">𝐿</ci><interval closure="open" id="A1.SS3.1.p1.1.m1.3.3.1.1.2.cmml" xref="A1.SS3.1.p1.1.m1.3.3.1.1.1"><ci id="A1.SS3.1.p1.1.m1.1.1.cmml" xref="A1.SS3.1.p1.1.m1.1.1">𝑢</ci><apply id="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.cmml" xref="A1.SS3.1.p1.1.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.1.cmml" xref="A1.SS3.1.p1.1.m1.3.3.1.1.1.1">subscript</csymbol><ci id="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.2.cmml" xref="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.2">𝑣</ci><cn id="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.3.cmml" type="integer" xref="A1.SS3.1.p1.1.m1.3.3.1.1.1.1.3">1</cn></apply></interval></apply><apply id="A1.SS3.1.p1.1.m1.4.4.2.cmml" xref="A1.SS3.1.p1.1.m1.4.4.2"><times id="A1.SS3.1.p1.1.m1.4.4.2.2.cmml" xref="A1.SS3.1.p1.1.m1.4.4.2.2"></times><ci id="A1.SS3.1.p1.1.m1.4.4.2.3.cmml" xref="A1.SS3.1.p1.1.m1.4.4.2.3">𝐿</ci><interval closure="open" id="A1.SS3.1.p1.1.m1.4.4.2.1.2.cmml" xref="A1.SS3.1.p1.1.m1.4.4.2.1.1"><ci id="A1.SS3.1.p1.1.m1.2.2.cmml" xref="A1.SS3.1.p1.1.m1.2.2">𝑢</ci><apply id="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.cmml" xref="A1.SS3.1.p1.1.m1.4.4.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.1.cmml" xref="A1.SS3.1.p1.1.m1.4.4.2.1.1.1">subscript</csymbol><ci id="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.2.cmml" xref="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.2">𝑣</ci><cn id="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.3.cmml" type="integer" xref="A1.SS3.1.p1.1.m1.4.4.2.1.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.1.p1.1.m1.4c">L(u,v_{1})\leq L(u,v_{2})</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.1.p1.1.m1.4d">italic_L ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) ≤ italic_L ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math>, now we only need to prove the inequality <math alttext="w^{i+1,4}(u,v_{1})\leq w^{i+1,4}(u,v_{2})" class="ltx_Math" display="inline" id="A1.SS3.1.p1.2.m2.8"><semantics id="A1.SS3.1.p1.2.m2.8a"><mrow id="A1.SS3.1.p1.2.m2.8.8" xref="A1.SS3.1.p1.2.m2.8.8.cmml"><mrow id="A1.SS3.1.p1.2.m2.7.7.1" xref="A1.SS3.1.p1.2.m2.7.7.1.cmml"><msup id="A1.SS3.1.p1.2.m2.7.7.1.3" xref="A1.SS3.1.p1.2.m2.7.7.1.3.cmml"><mi id="A1.SS3.1.p1.2.m2.7.7.1.3.2" xref="A1.SS3.1.p1.2.m2.7.7.1.3.2.cmml">w</mi><mrow id="A1.SS3.1.p1.2.m2.2.2.2.2" xref="A1.SS3.1.p1.2.m2.2.2.2.3.cmml"><mrow id="A1.SS3.1.p1.2.m2.2.2.2.2.1" xref="A1.SS3.1.p1.2.m2.2.2.2.2.1.cmml"><mi id="A1.SS3.1.p1.2.m2.2.2.2.2.1.2" xref="A1.SS3.1.p1.2.m2.2.2.2.2.1.2.cmml">i</mi><mo id="A1.SS3.1.p1.2.m2.2.2.2.2.1.1" xref="A1.SS3.1.p1.2.m2.2.2.2.2.1.1.cmml">+</mo><mn id="A1.SS3.1.p1.2.m2.2.2.2.2.1.3" xref="A1.SS3.1.p1.2.m2.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="A1.SS3.1.p1.2.m2.2.2.2.2.2" xref="A1.SS3.1.p1.2.m2.2.2.2.3.cmml">,</mo><mn id="A1.SS3.1.p1.2.m2.1.1.1.1" xref="A1.SS3.1.p1.2.m2.1.1.1.1.cmml">4</mn></mrow></msup><mo id="A1.SS3.1.p1.2.m2.7.7.1.2" xref="A1.SS3.1.p1.2.m2.7.7.1.2.cmml">⁢</mo><mrow id="A1.SS3.1.p1.2.m2.7.7.1.1.1" xref="A1.SS3.1.p1.2.m2.7.7.1.1.2.cmml"><mo id="A1.SS3.1.p1.2.m2.7.7.1.1.1.2" stretchy="false" xref="A1.SS3.1.p1.2.m2.7.7.1.1.2.cmml">(</mo><mi id="A1.SS3.1.p1.2.m2.5.5" xref="A1.SS3.1.p1.2.m2.5.5.cmml">u</mi><mo id="A1.SS3.1.p1.2.m2.7.7.1.1.1.3" xref="A1.SS3.1.p1.2.m2.7.7.1.1.2.cmml">,</mo><msub id="A1.SS3.1.p1.2.m2.7.7.1.1.1.1" xref="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.cmml"><mi id="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.2" xref="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.2.cmml">v</mi><mn id="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.3" xref="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.SS3.1.p1.2.m2.7.7.1.1.1.4" stretchy="false" xref="A1.SS3.1.p1.2.m2.7.7.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.SS3.1.p1.2.m2.8.8.3" xref="A1.SS3.1.p1.2.m2.8.8.3.cmml">≤</mo><mrow id="A1.SS3.1.p1.2.m2.8.8.2" xref="A1.SS3.1.p1.2.m2.8.8.2.cmml"><msup id="A1.SS3.1.p1.2.m2.8.8.2.3" xref="A1.SS3.1.p1.2.m2.8.8.2.3.cmml"><mi id="A1.SS3.1.p1.2.m2.8.8.2.3.2" xref="A1.SS3.1.p1.2.m2.8.8.2.3.2.cmml">w</mi><mrow id="A1.SS3.1.p1.2.m2.4.4.2.2" xref="A1.SS3.1.p1.2.m2.4.4.2.3.cmml"><mrow id="A1.SS3.1.p1.2.m2.4.4.2.2.1" xref="A1.SS3.1.p1.2.m2.4.4.2.2.1.cmml"><mi id="A1.SS3.1.p1.2.m2.4.4.2.2.1.2" xref="A1.SS3.1.p1.2.m2.4.4.2.2.1.2.cmml">i</mi><mo id="A1.SS3.1.p1.2.m2.4.4.2.2.1.1" xref="A1.SS3.1.p1.2.m2.4.4.2.2.1.1.cmml">+</mo><mn id="A1.SS3.1.p1.2.m2.4.4.2.2.1.3" xref="A1.SS3.1.p1.2.m2.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="A1.SS3.1.p1.2.m2.4.4.2.2.2" xref="A1.SS3.1.p1.2.m2.4.4.2.3.cmml">,</mo><mn id="A1.SS3.1.p1.2.m2.3.3.1.1" xref="A1.SS3.1.p1.2.m2.3.3.1.1.cmml">4</mn></mrow></msup><mo id="A1.SS3.1.p1.2.m2.8.8.2.2" xref="A1.SS3.1.p1.2.m2.8.8.2.2.cmml">⁢</mo><mrow id="A1.SS3.1.p1.2.m2.8.8.2.1.1" xref="A1.SS3.1.p1.2.m2.8.8.2.1.2.cmml"><mo id="A1.SS3.1.p1.2.m2.8.8.2.1.1.2" stretchy="false" xref="A1.SS3.1.p1.2.m2.8.8.2.1.2.cmml">(</mo><mi id="A1.SS3.1.p1.2.m2.6.6" xref="A1.SS3.1.p1.2.m2.6.6.cmml">u</mi><mo id="A1.SS3.1.p1.2.m2.8.8.2.1.1.3" xref="A1.SS3.1.p1.2.m2.8.8.2.1.2.cmml">,</mo><msub id="A1.SS3.1.p1.2.m2.8.8.2.1.1.1" xref="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.cmml"><mi id="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.2" xref="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.2.cmml">v</mi><mn id="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.3" xref="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.3.cmml">2</mn></msub><mo id="A1.SS3.1.p1.2.m2.8.8.2.1.1.4" stretchy="false" xref="A1.SS3.1.p1.2.m2.8.8.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.1.p1.2.m2.8b"><apply id="A1.SS3.1.p1.2.m2.8.8.cmml" xref="A1.SS3.1.p1.2.m2.8.8"><leq id="A1.SS3.1.p1.2.m2.8.8.3.cmml" xref="A1.SS3.1.p1.2.m2.8.8.3"></leq><apply id="A1.SS3.1.p1.2.m2.7.7.1.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1"><times id="A1.SS3.1.p1.2.m2.7.7.1.2.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1.2"></times><apply id="A1.SS3.1.p1.2.m2.7.7.1.3.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1.3"><csymbol cd="ambiguous" id="A1.SS3.1.p1.2.m2.7.7.1.3.1.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1.3">superscript</csymbol><ci id="A1.SS3.1.p1.2.m2.7.7.1.3.2.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1.3.2">𝑤</ci><list id="A1.SS3.1.p1.2.m2.2.2.2.3.cmml" xref="A1.SS3.1.p1.2.m2.2.2.2.2"><apply id="A1.SS3.1.p1.2.m2.2.2.2.2.1.cmml" xref="A1.SS3.1.p1.2.m2.2.2.2.2.1"><plus id="A1.SS3.1.p1.2.m2.2.2.2.2.1.1.cmml" xref="A1.SS3.1.p1.2.m2.2.2.2.2.1.1"></plus><ci id="A1.SS3.1.p1.2.m2.2.2.2.2.1.2.cmml" xref="A1.SS3.1.p1.2.m2.2.2.2.2.1.2">𝑖</ci><cn id="A1.SS3.1.p1.2.m2.2.2.2.2.1.3.cmml" type="integer" xref="A1.SS3.1.p1.2.m2.2.2.2.2.1.3">1</cn></apply><cn id="A1.SS3.1.p1.2.m2.1.1.1.1.cmml" type="integer" xref="A1.SS3.1.p1.2.m2.1.1.1.1">4</cn></list></apply><interval closure="open" id="A1.SS3.1.p1.2.m2.7.7.1.1.2.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1.1.1"><ci id="A1.SS3.1.p1.2.m2.5.5.cmml" xref="A1.SS3.1.p1.2.m2.5.5">𝑢</ci><apply id="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.1.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1.1.1.1">subscript</csymbol><ci id="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.2.cmml" xref="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.2">𝑣</ci><cn id="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.3.cmml" type="integer" xref="A1.SS3.1.p1.2.m2.7.7.1.1.1.1.3">1</cn></apply></interval></apply><apply id="A1.SS3.1.p1.2.m2.8.8.2.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2"><times id="A1.SS3.1.p1.2.m2.8.8.2.2.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2.2"></times><apply id="A1.SS3.1.p1.2.m2.8.8.2.3.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2.3"><csymbol cd="ambiguous" id="A1.SS3.1.p1.2.m2.8.8.2.3.1.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2.3">superscript</csymbol><ci id="A1.SS3.1.p1.2.m2.8.8.2.3.2.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2.3.2">𝑤</ci><list id="A1.SS3.1.p1.2.m2.4.4.2.3.cmml" xref="A1.SS3.1.p1.2.m2.4.4.2.2"><apply id="A1.SS3.1.p1.2.m2.4.4.2.2.1.cmml" xref="A1.SS3.1.p1.2.m2.4.4.2.2.1"><plus id="A1.SS3.1.p1.2.m2.4.4.2.2.1.1.cmml" xref="A1.SS3.1.p1.2.m2.4.4.2.2.1.1"></plus><ci id="A1.SS3.1.p1.2.m2.4.4.2.2.1.2.cmml" xref="A1.SS3.1.p1.2.m2.4.4.2.2.1.2">𝑖</ci><cn id="A1.SS3.1.p1.2.m2.4.4.2.2.1.3.cmml" type="integer" xref="A1.SS3.1.p1.2.m2.4.4.2.2.1.3">1</cn></apply><cn id="A1.SS3.1.p1.2.m2.3.3.1.1.cmml" type="integer" xref="A1.SS3.1.p1.2.m2.3.3.1.1">4</cn></list></apply><interval closure="open" id="A1.SS3.1.p1.2.m2.8.8.2.1.2.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2.1.1"><ci id="A1.SS3.1.p1.2.m2.6.6.cmml" xref="A1.SS3.1.p1.2.m2.6.6">𝑢</ci><apply id="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.1.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2.1.1.1">subscript</csymbol><ci id="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.2.cmml" xref="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.2">𝑣</ci><cn id="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.3.cmml" type="integer" xref="A1.SS3.1.p1.2.m2.8.8.2.1.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.1.p1.2.m2.8c">w^{i+1,4}(u,v_{1})\leq w^{i+1,4}(u,v_{2})</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.1.p1.2.m2.8d">italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) ≤ italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math> holds. Since <math alttext="L(u,v_{1})&lt;L(u,v_{2})" class="ltx_Math" display="inline" id="A1.SS3.1.p1.3.m3.4"><semantics id="A1.SS3.1.p1.3.m3.4a"><mrow id="A1.SS3.1.p1.3.m3.4.4" xref="A1.SS3.1.p1.3.m3.4.4.cmml"><mrow id="A1.SS3.1.p1.3.m3.3.3.1" xref="A1.SS3.1.p1.3.m3.3.3.1.cmml"><mi id="A1.SS3.1.p1.3.m3.3.3.1.3" xref="A1.SS3.1.p1.3.m3.3.3.1.3.cmml">L</mi><mo id="A1.SS3.1.p1.3.m3.3.3.1.2" xref="A1.SS3.1.p1.3.m3.3.3.1.2.cmml">⁢</mo><mrow id="A1.SS3.1.p1.3.m3.3.3.1.1.1" xref="A1.SS3.1.p1.3.m3.3.3.1.1.2.cmml"><mo id="A1.SS3.1.p1.3.m3.3.3.1.1.1.2" stretchy="false" xref="A1.SS3.1.p1.3.m3.3.3.1.1.2.cmml">(</mo><mi id="A1.SS3.1.p1.3.m3.1.1" xref="A1.SS3.1.p1.3.m3.1.1.cmml">u</mi><mo id="A1.SS3.1.p1.3.m3.3.3.1.1.1.3" xref="A1.SS3.1.p1.3.m3.3.3.1.1.2.cmml">,</mo><msub id="A1.SS3.1.p1.3.m3.3.3.1.1.1.1" xref="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.cmml"><mi id="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.2" xref="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.2.cmml">v</mi><mn id="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.3" xref="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.SS3.1.p1.3.m3.3.3.1.1.1.4" stretchy="false" xref="A1.SS3.1.p1.3.m3.3.3.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.SS3.1.p1.3.m3.4.4.3" xref="A1.SS3.1.p1.3.m3.4.4.3.cmml">&lt;</mo><mrow id="A1.SS3.1.p1.3.m3.4.4.2" xref="A1.SS3.1.p1.3.m3.4.4.2.cmml"><mi id="A1.SS3.1.p1.3.m3.4.4.2.3" xref="A1.SS3.1.p1.3.m3.4.4.2.3.cmml">L</mi><mo id="A1.SS3.1.p1.3.m3.4.4.2.2" xref="A1.SS3.1.p1.3.m3.4.4.2.2.cmml">⁢</mo><mrow id="A1.SS3.1.p1.3.m3.4.4.2.1.1" xref="A1.SS3.1.p1.3.m3.4.4.2.1.2.cmml"><mo id="A1.SS3.1.p1.3.m3.4.4.2.1.1.2" stretchy="false" xref="A1.SS3.1.p1.3.m3.4.4.2.1.2.cmml">(</mo><mi id="A1.SS3.1.p1.3.m3.2.2" xref="A1.SS3.1.p1.3.m3.2.2.cmml">u</mi><mo id="A1.SS3.1.p1.3.m3.4.4.2.1.1.3" xref="A1.SS3.1.p1.3.m3.4.4.2.1.2.cmml">,</mo><msub id="A1.SS3.1.p1.3.m3.4.4.2.1.1.1" xref="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.cmml"><mi id="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.2" xref="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.2.cmml">v</mi><mn id="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.3" xref="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.3.cmml">2</mn></msub><mo id="A1.SS3.1.p1.3.m3.4.4.2.1.1.4" stretchy="false" xref="A1.SS3.1.p1.3.m3.4.4.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.SS3.1.p1.3.m3.4b"><apply id="A1.SS3.1.p1.3.m3.4.4.cmml" xref="A1.SS3.1.p1.3.m3.4.4"><lt id="A1.SS3.1.p1.3.m3.4.4.3.cmml" xref="A1.SS3.1.p1.3.m3.4.4.3"></lt><apply id="A1.SS3.1.p1.3.m3.3.3.1.cmml" xref="A1.SS3.1.p1.3.m3.3.3.1"><times id="A1.SS3.1.p1.3.m3.3.3.1.2.cmml" xref="A1.SS3.1.p1.3.m3.3.3.1.2"></times><ci id="A1.SS3.1.p1.3.m3.3.3.1.3.cmml" xref="A1.SS3.1.p1.3.m3.3.3.1.3">𝐿</ci><interval closure="open" id="A1.SS3.1.p1.3.m3.3.3.1.1.2.cmml" xref="A1.SS3.1.p1.3.m3.3.3.1.1.1"><ci id="A1.SS3.1.p1.3.m3.1.1.cmml" xref="A1.SS3.1.p1.3.m3.1.1">𝑢</ci><apply id="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.cmml" xref="A1.SS3.1.p1.3.m3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.1.cmml" xref="A1.SS3.1.p1.3.m3.3.3.1.1.1.1">subscript</csymbol><ci id="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.2.cmml" xref="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.2">𝑣</ci><cn id="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.3.cmml" type="integer" xref="A1.SS3.1.p1.3.m3.3.3.1.1.1.1.3">1</cn></apply></interval></apply><apply id="A1.SS3.1.p1.3.m3.4.4.2.cmml" xref="A1.SS3.1.p1.3.m3.4.4.2"><times id="A1.SS3.1.p1.3.m3.4.4.2.2.cmml" xref="A1.SS3.1.p1.3.m3.4.4.2.2"></times><ci id="A1.SS3.1.p1.3.m3.4.4.2.3.cmml" xref="A1.SS3.1.p1.3.m3.4.4.2.3">𝐿</ci><interval closure="open" id="A1.SS3.1.p1.3.m3.4.4.2.1.2.cmml" xref="A1.SS3.1.p1.3.m3.4.4.2.1.1"><ci id="A1.SS3.1.p1.3.m3.2.2.cmml" xref="A1.SS3.1.p1.3.m3.2.2">𝑢</ci><apply id="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.cmml" xref="A1.SS3.1.p1.3.m3.4.4.2.1.1.1"><csymbol cd="ambiguous" id="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.1.cmml" xref="A1.SS3.1.p1.3.m3.4.4.2.1.1.1">subscript</csymbol><ci id="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.2.cmml" xref="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.2">𝑣</ci><cn id="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.3.cmml" type="integer" xref="A1.SS3.1.p1.3.m3.4.4.2.1.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.SS3.1.p1.3.m3.4c">L(u,v_{1})&lt;L(u,v_{2})</annotation><annotation encoding="application/x-llamapun" id="A1.SS3.1.p1.3.m3.4d">italic_L ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) &lt; italic_L ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math>, there are two possibilities:</p>
<ul class="ltx_itemize" id="A1.I1">
<li class="ltx_item" id="A1.I1.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1</span>
<div class="ltx_para" id="A1.I1.ix1.p1">
<p class="ltx_p" id="A1.I1.ix1.p1.7">In the case <math alttext="S_{1}=S_{2}" class="ltx_Math" display="inline" id="A1.I1.ix1.p1.1.m1.1"><semantics id="A1.I1.ix1.p1.1.m1.1a"><mrow id="A1.I1.ix1.p1.1.m1.1.1" xref="A1.I1.ix1.p1.1.m1.1.1.cmml"><msub id="A1.I1.ix1.p1.1.m1.1.1.2" xref="A1.I1.ix1.p1.1.m1.1.1.2.cmml"><mi id="A1.I1.ix1.p1.1.m1.1.1.2.2" xref="A1.I1.ix1.p1.1.m1.1.1.2.2.cmml">S</mi><mn id="A1.I1.ix1.p1.1.m1.1.1.2.3" xref="A1.I1.ix1.p1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="A1.I1.ix1.p1.1.m1.1.1.1" xref="A1.I1.ix1.p1.1.m1.1.1.1.cmml">=</mo><msub id="A1.I1.ix1.p1.1.m1.1.1.3" xref="A1.I1.ix1.p1.1.m1.1.1.3.cmml"><mi id="A1.I1.ix1.p1.1.m1.1.1.3.2" xref="A1.I1.ix1.p1.1.m1.1.1.3.2.cmml">S</mi><mn id="A1.I1.ix1.p1.1.m1.1.1.3.3" xref="A1.I1.ix1.p1.1.m1.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix1.p1.1.m1.1b"><apply id="A1.I1.ix1.p1.1.m1.1.1.cmml" xref="A1.I1.ix1.p1.1.m1.1.1"><eq id="A1.I1.ix1.p1.1.m1.1.1.1.cmml" xref="A1.I1.ix1.p1.1.m1.1.1.1"></eq><apply id="A1.I1.ix1.p1.1.m1.1.1.2.cmml" xref="A1.I1.ix1.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.1.m1.1.1.2.1.cmml" xref="A1.I1.ix1.p1.1.m1.1.1.2">subscript</csymbol><ci id="A1.I1.ix1.p1.1.m1.1.1.2.2.cmml" xref="A1.I1.ix1.p1.1.m1.1.1.2.2">𝑆</ci><cn id="A1.I1.ix1.p1.1.m1.1.1.2.3.cmml" type="integer" xref="A1.I1.ix1.p1.1.m1.1.1.2.3">1</cn></apply><apply id="A1.I1.ix1.p1.1.m1.1.1.3.cmml" xref="A1.I1.ix1.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.1.m1.1.1.3.1.cmml" xref="A1.I1.ix1.p1.1.m1.1.1.3">subscript</csymbol><ci id="A1.I1.ix1.p1.1.m1.1.1.3.2.cmml" xref="A1.I1.ix1.p1.1.m1.1.1.3.2">𝑆</ci><cn id="A1.I1.ix1.p1.1.m1.1.1.3.3.cmml" type="integer" xref="A1.I1.ix1.p1.1.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix1.p1.1.m1.1c">S_{1}=S_{2}</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix1.p1.1.m1.1d">italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="Y_{1}\leq Y_{2}" class="ltx_Math" display="inline" id="A1.I1.ix1.p1.2.m2.1"><semantics id="A1.I1.ix1.p1.2.m2.1a"><mrow id="A1.I1.ix1.p1.2.m2.1.1" xref="A1.I1.ix1.p1.2.m2.1.1.cmml"><msub id="A1.I1.ix1.p1.2.m2.1.1.2" xref="A1.I1.ix1.p1.2.m2.1.1.2.cmml"><mi id="A1.I1.ix1.p1.2.m2.1.1.2.2" xref="A1.I1.ix1.p1.2.m2.1.1.2.2.cmml">Y</mi><mn id="A1.I1.ix1.p1.2.m2.1.1.2.3" xref="A1.I1.ix1.p1.2.m2.1.1.2.3.cmml">1</mn></msub><mo id="A1.I1.ix1.p1.2.m2.1.1.1" xref="A1.I1.ix1.p1.2.m2.1.1.1.cmml">≤</mo><msub id="A1.I1.ix1.p1.2.m2.1.1.3" xref="A1.I1.ix1.p1.2.m2.1.1.3.cmml"><mi id="A1.I1.ix1.p1.2.m2.1.1.3.2" xref="A1.I1.ix1.p1.2.m2.1.1.3.2.cmml">Y</mi><mn id="A1.I1.ix1.p1.2.m2.1.1.3.3" xref="A1.I1.ix1.p1.2.m2.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix1.p1.2.m2.1b"><apply id="A1.I1.ix1.p1.2.m2.1.1.cmml" xref="A1.I1.ix1.p1.2.m2.1.1"><leq id="A1.I1.ix1.p1.2.m2.1.1.1.cmml" xref="A1.I1.ix1.p1.2.m2.1.1.1"></leq><apply id="A1.I1.ix1.p1.2.m2.1.1.2.cmml" xref="A1.I1.ix1.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.2.m2.1.1.2.1.cmml" xref="A1.I1.ix1.p1.2.m2.1.1.2">subscript</csymbol><ci id="A1.I1.ix1.p1.2.m2.1.1.2.2.cmml" xref="A1.I1.ix1.p1.2.m2.1.1.2.2">𝑌</ci><cn id="A1.I1.ix1.p1.2.m2.1.1.2.3.cmml" type="integer" xref="A1.I1.ix1.p1.2.m2.1.1.2.3">1</cn></apply><apply id="A1.I1.ix1.p1.2.m2.1.1.3.cmml" xref="A1.I1.ix1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.2.m2.1.1.3.1.cmml" xref="A1.I1.ix1.p1.2.m2.1.1.3">subscript</csymbol><ci id="A1.I1.ix1.p1.2.m2.1.1.3.2.cmml" xref="A1.I1.ix1.p1.2.m2.1.1.3.2">𝑌</ci><cn id="A1.I1.ix1.p1.2.m2.1.1.3.3.cmml" type="integer" xref="A1.I1.ix1.p1.2.m2.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix1.p1.2.m2.1c">Y_{1}\leq Y_{2}</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix1.p1.2.m2.1d">italic_Y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ≤ italic_Y start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>, since these two items are in the same stage and have been exposed, we know <math alttext="r(u,v_{1})&lt;r(u,v_{2})" class="ltx_Math" display="inline" id="A1.I1.ix1.p1.3.m3.4"><semantics id="A1.I1.ix1.p1.3.m3.4a"><mrow id="A1.I1.ix1.p1.3.m3.4.4" xref="A1.I1.ix1.p1.3.m3.4.4.cmml"><mrow id="A1.I1.ix1.p1.3.m3.3.3.1" xref="A1.I1.ix1.p1.3.m3.3.3.1.cmml"><mi id="A1.I1.ix1.p1.3.m3.3.3.1.3" xref="A1.I1.ix1.p1.3.m3.3.3.1.3.cmml">r</mi><mo id="A1.I1.ix1.p1.3.m3.3.3.1.2" xref="A1.I1.ix1.p1.3.m3.3.3.1.2.cmml">⁢</mo><mrow id="A1.I1.ix1.p1.3.m3.3.3.1.1.1" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.2.cmml"><mo id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.2" stretchy="false" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.2.cmml">(</mo><mi id="A1.I1.ix1.p1.3.m3.1.1" xref="A1.I1.ix1.p1.3.m3.1.1.cmml">u</mi><mo id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.3" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.2.cmml">,</mo><msub id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.cmml"><mi id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.2" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.3" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.4" stretchy="false" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.I1.ix1.p1.3.m3.4.4.3" xref="A1.I1.ix1.p1.3.m3.4.4.3.cmml">&lt;</mo><mrow id="A1.I1.ix1.p1.3.m3.4.4.2" xref="A1.I1.ix1.p1.3.m3.4.4.2.cmml"><mi id="A1.I1.ix1.p1.3.m3.4.4.2.3" xref="A1.I1.ix1.p1.3.m3.4.4.2.3.cmml">r</mi><mo id="A1.I1.ix1.p1.3.m3.4.4.2.2" xref="A1.I1.ix1.p1.3.m3.4.4.2.2.cmml">⁢</mo><mrow id="A1.I1.ix1.p1.3.m3.4.4.2.1.1" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.2.cmml"><mo id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.2" stretchy="false" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.2.cmml">(</mo><mi id="A1.I1.ix1.p1.3.m3.2.2" xref="A1.I1.ix1.p1.3.m3.2.2.cmml">u</mi><mo id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.3" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.2.cmml">,</mo><msub id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.cmml"><mi id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.2" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.3" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.4" stretchy="false" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix1.p1.3.m3.4b"><apply id="A1.I1.ix1.p1.3.m3.4.4.cmml" xref="A1.I1.ix1.p1.3.m3.4.4"><lt id="A1.I1.ix1.p1.3.m3.4.4.3.cmml" xref="A1.I1.ix1.p1.3.m3.4.4.3"></lt><apply id="A1.I1.ix1.p1.3.m3.3.3.1.cmml" xref="A1.I1.ix1.p1.3.m3.3.3.1"><times id="A1.I1.ix1.p1.3.m3.3.3.1.2.cmml" xref="A1.I1.ix1.p1.3.m3.3.3.1.2"></times><ci id="A1.I1.ix1.p1.3.m3.3.3.1.3.cmml" xref="A1.I1.ix1.p1.3.m3.3.3.1.3">𝑟</ci><interval closure="open" id="A1.I1.ix1.p1.3.m3.3.3.1.1.2.cmml" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.1"><ci id="A1.I1.ix1.p1.3.m3.1.1.cmml" xref="A1.I1.ix1.p1.3.m3.1.1">𝑢</ci><apply id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.cmml" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.1.cmml" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1">subscript</csymbol><ci id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.2.cmml" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.2">𝑣</ci><cn id="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.3.m3.3.3.1.1.1.1.3">1</cn></apply></interval></apply><apply id="A1.I1.ix1.p1.3.m3.4.4.2.cmml" xref="A1.I1.ix1.p1.3.m3.4.4.2"><times id="A1.I1.ix1.p1.3.m3.4.4.2.2.cmml" xref="A1.I1.ix1.p1.3.m3.4.4.2.2"></times><ci id="A1.I1.ix1.p1.3.m3.4.4.2.3.cmml" xref="A1.I1.ix1.p1.3.m3.4.4.2.3">𝑟</ci><interval closure="open" id="A1.I1.ix1.p1.3.m3.4.4.2.1.2.cmml" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.1"><ci id="A1.I1.ix1.p1.3.m3.2.2.cmml" xref="A1.I1.ix1.p1.3.m3.2.2">𝑢</ci><apply id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.cmml" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.1.cmml" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1">subscript</csymbol><ci id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.2.cmml" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.2">𝑣</ci><cn id="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.3.m3.4.4.2.1.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix1.p1.3.m3.4c">r(u,v_{1})&lt;r(u,v_{2})</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix1.p1.3.m3.4d">italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) &lt; italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math> and <math alttext="p^{i+1,4}(u,v_{1})=p^{i+1,4}(u,v_{2})" class="ltx_Math" display="inline" id="A1.I1.ix1.p1.4.m4.8"><semantics id="A1.I1.ix1.p1.4.m4.8a"><mrow id="A1.I1.ix1.p1.4.m4.8.8" xref="A1.I1.ix1.p1.4.m4.8.8.cmml"><mrow id="A1.I1.ix1.p1.4.m4.7.7.1" xref="A1.I1.ix1.p1.4.m4.7.7.1.cmml"><msup id="A1.I1.ix1.p1.4.m4.7.7.1.3" xref="A1.I1.ix1.p1.4.m4.7.7.1.3.cmml"><mi id="A1.I1.ix1.p1.4.m4.7.7.1.3.2" xref="A1.I1.ix1.p1.4.m4.7.7.1.3.2.cmml">p</mi><mrow id="A1.I1.ix1.p1.4.m4.2.2.2.2" xref="A1.I1.ix1.p1.4.m4.2.2.2.3.cmml"><mrow id="A1.I1.ix1.p1.4.m4.2.2.2.2.1" xref="A1.I1.ix1.p1.4.m4.2.2.2.2.1.cmml"><mi id="A1.I1.ix1.p1.4.m4.2.2.2.2.1.2" xref="A1.I1.ix1.p1.4.m4.2.2.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix1.p1.4.m4.2.2.2.2.1.1" xref="A1.I1.ix1.p1.4.m4.2.2.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix1.p1.4.m4.2.2.2.2.1.3" xref="A1.I1.ix1.p1.4.m4.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix1.p1.4.m4.2.2.2.2.2" xref="A1.I1.ix1.p1.4.m4.2.2.2.3.cmml">,</mo><mn id="A1.I1.ix1.p1.4.m4.1.1.1.1" xref="A1.I1.ix1.p1.4.m4.1.1.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix1.p1.4.m4.7.7.1.2" xref="A1.I1.ix1.p1.4.m4.7.7.1.2.cmml">⁢</mo><mrow id="A1.I1.ix1.p1.4.m4.7.7.1.1.1" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.2.cmml"><mo id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.2" stretchy="false" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.2.cmml">(</mo><mi id="A1.I1.ix1.p1.4.m4.5.5" xref="A1.I1.ix1.p1.4.m4.5.5.cmml">u</mi><mo id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.3" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.2.cmml">,</mo><msub id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.cmml"><mi id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.2" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.3" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.4" stretchy="false" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.I1.ix1.p1.4.m4.8.8.3" xref="A1.I1.ix1.p1.4.m4.8.8.3.cmml">=</mo><mrow id="A1.I1.ix1.p1.4.m4.8.8.2" xref="A1.I1.ix1.p1.4.m4.8.8.2.cmml"><msup id="A1.I1.ix1.p1.4.m4.8.8.2.3" xref="A1.I1.ix1.p1.4.m4.8.8.2.3.cmml"><mi id="A1.I1.ix1.p1.4.m4.8.8.2.3.2" xref="A1.I1.ix1.p1.4.m4.8.8.2.3.2.cmml">p</mi><mrow id="A1.I1.ix1.p1.4.m4.4.4.2.2" xref="A1.I1.ix1.p1.4.m4.4.4.2.3.cmml"><mrow id="A1.I1.ix1.p1.4.m4.4.4.2.2.1" xref="A1.I1.ix1.p1.4.m4.4.4.2.2.1.cmml"><mi id="A1.I1.ix1.p1.4.m4.4.4.2.2.1.2" xref="A1.I1.ix1.p1.4.m4.4.4.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix1.p1.4.m4.4.4.2.2.1.1" xref="A1.I1.ix1.p1.4.m4.4.4.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix1.p1.4.m4.4.4.2.2.1.3" xref="A1.I1.ix1.p1.4.m4.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix1.p1.4.m4.4.4.2.2.2" xref="A1.I1.ix1.p1.4.m4.4.4.2.3.cmml">,</mo><mn id="A1.I1.ix1.p1.4.m4.3.3.1.1" xref="A1.I1.ix1.p1.4.m4.3.3.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix1.p1.4.m4.8.8.2.2" xref="A1.I1.ix1.p1.4.m4.8.8.2.2.cmml">⁢</mo><mrow id="A1.I1.ix1.p1.4.m4.8.8.2.1.1" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.2.cmml"><mo id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.2" stretchy="false" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.2.cmml">(</mo><mi id="A1.I1.ix1.p1.4.m4.6.6" xref="A1.I1.ix1.p1.4.m4.6.6.cmml">u</mi><mo id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.3" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.2.cmml">,</mo><msub id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.cmml"><mi id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.2" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.3" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.4" stretchy="false" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix1.p1.4.m4.8b"><apply id="A1.I1.ix1.p1.4.m4.8.8.cmml" xref="A1.I1.ix1.p1.4.m4.8.8"><eq id="A1.I1.ix1.p1.4.m4.8.8.3.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.3"></eq><apply id="A1.I1.ix1.p1.4.m4.7.7.1.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1"><times id="A1.I1.ix1.p1.4.m4.7.7.1.2.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1.2"></times><apply id="A1.I1.ix1.p1.4.m4.7.7.1.3.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.4.m4.7.7.1.3.1.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1.3">superscript</csymbol><ci id="A1.I1.ix1.p1.4.m4.7.7.1.3.2.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1.3.2">𝑝</ci><list id="A1.I1.ix1.p1.4.m4.2.2.2.3.cmml" xref="A1.I1.ix1.p1.4.m4.2.2.2.2"><apply id="A1.I1.ix1.p1.4.m4.2.2.2.2.1.cmml" xref="A1.I1.ix1.p1.4.m4.2.2.2.2.1"><plus id="A1.I1.ix1.p1.4.m4.2.2.2.2.1.1.cmml" xref="A1.I1.ix1.p1.4.m4.2.2.2.2.1.1"></plus><ci id="A1.I1.ix1.p1.4.m4.2.2.2.2.1.2.cmml" xref="A1.I1.ix1.p1.4.m4.2.2.2.2.1.2">𝑖</ci><cn id="A1.I1.ix1.p1.4.m4.2.2.2.2.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.4.m4.2.2.2.2.1.3">1</cn></apply><cn id="A1.I1.ix1.p1.4.m4.1.1.1.1.cmml" type="integer" xref="A1.I1.ix1.p1.4.m4.1.1.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix1.p1.4.m4.7.7.1.1.2.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.1"><ci id="A1.I1.ix1.p1.4.m4.5.5.cmml" xref="A1.I1.ix1.p1.4.m4.5.5">𝑢</ci><apply id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.1.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1">subscript</csymbol><ci id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.2.cmml" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.2">𝑣</ci><cn id="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.4.m4.7.7.1.1.1.1.3">1</cn></apply></interval></apply><apply id="A1.I1.ix1.p1.4.m4.8.8.2.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2"><times id="A1.I1.ix1.p1.4.m4.8.8.2.2.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2.2"></times><apply id="A1.I1.ix1.p1.4.m4.8.8.2.3.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.4.m4.8.8.2.3.1.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2.3">superscript</csymbol><ci id="A1.I1.ix1.p1.4.m4.8.8.2.3.2.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2.3.2">𝑝</ci><list id="A1.I1.ix1.p1.4.m4.4.4.2.3.cmml" xref="A1.I1.ix1.p1.4.m4.4.4.2.2"><apply id="A1.I1.ix1.p1.4.m4.4.4.2.2.1.cmml" xref="A1.I1.ix1.p1.4.m4.4.4.2.2.1"><plus id="A1.I1.ix1.p1.4.m4.4.4.2.2.1.1.cmml" xref="A1.I1.ix1.p1.4.m4.4.4.2.2.1.1"></plus><ci id="A1.I1.ix1.p1.4.m4.4.4.2.2.1.2.cmml" xref="A1.I1.ix1.p1.4.m4.4.4.2.2.1.2">𝑖</ci><cn id="A1.I1.ix1.p1.4.m4.4.4.2.2.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.4.m4.4.4.2.2.1.3">1</cn></apply><cn id="A1.I1.ix1.p1.4.m4.3.3.1.1.cmml" type="integer" xref="A1.I1.ix1.p1.4.m4.3.3.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix1.p1.4.m4.8.8.2.1.2.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.1"><ci id="A1.I1.ix1.p1.4.m4.6.6.cmml" xref="A1.I1.ix1.p1.4.m4.6.6">𝑢</ci><apply id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.1.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1">subscript</csymbol><ci id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.2.cmml" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.2">𝑣</ci><cn id="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.4.m4.8.8.2.1.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix1.p1.4.m4.8c">p^{i+1,4}(u,v_{1})=p^{i+1,4}(u,v_{2})</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix1.p1.4.m4.8d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) = italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math>, which are obtained after taking expectation over equations <math alttext="Y_{1}&lt;Y_{2}" class="ltx_Math" display="inline" id="A1.I1.ix1.p1.5.m5.1"><semantics id="A1.I1.ix1.p1.5.m5.1a"><mrow id="A1.I1.ix1.p1.5.m5.1.1" xref="A1.I1.ix1.p1.5.m5.1.1.cmml"><msub id="A1.I1.ix1.p1.5.m5.1.1.2" xref="A1.I1.ix1.p1.5.m5.1.1.2.cmml"><mi id="A1.I1.ix1.p1.5.m5.1.1.2.2" xref="A1.I1.ix1.p1.5.m5.1.1.2.2.cmml">Y</mi><mn id="A1.I1.ix1.p1.5.m5.1.1.2.3" xref="A1.I1.ix1.p1.5.m5.1.1.2.3.cmml">1</mn></msub><mo id="A1.I1.ix1.p1.5.m5.1.1.1" xref="A1.I1.ix1.p1.5.m5.1.1.1.cmml">&lt;</mo><msub id="A1.I1.ix1.p1.5.m5.1.1.3" xref="A1.I1.ix1.p1.5.m5.1.1.3.cmml"><mi id="A1.I1.ix1.p1.5.m5.1.1.3.2" xref="A1.I1.ix1.p1.5.m5.1.1.3.2.cmml">Y</mi><mn id="A1.I1.ix1.p1.5.m5.1.1.3.3" xref="A1.I1.ix1.p1.5.m5.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix1.p1.5.m5.1b"><apply id="A1.I1.ix1.p1.5.m5.1.1.cmml" xref="A1.I1.ix1.p1.5.m5.1.1"><lt id="A1.I1.ix1.p1.5.m5.1.1.1.cmml" xref="A1.I1.ix1.p1.5.m5.1.1.1"></lt><apply id="A1.I1.ix1.p1.5.m5.1.1.2.cmml" xref="A1.I1.ix1.p1.5.m5.1.1.2"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.5.m5.1.1.2.1.cmml" xref="A1.I1.ix1.p1.5.m5.1.1.2">subscript</csymbol><ci id="A1.I1.ix1.p1.5.m5.1.1.2.2.cmml" xref="A1.I1.ix1.p1.5.m5.1.1.2.2">𝑌</ci><cn id="A1.I1.ix1.p1.5.m5.1.1.2.3.cmml" type="integer" xref="A1.I1.ix1.p1.5.m5.1.1.2.3">1</cn></apply><apply id="A1.I1.ix1.p1.5.m5.1.1.3.cmml" xref="A1.I1.ix1.p1.5.m5.1.1.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.5.m5.1.1.3.1.cmml" xref="A1.I1.ix1.p1.5.m5.1.1.3">subscript</csymbol><ci id="A1.I1.ix1.p1.5.m5.1.1.3.2.cmml" xref="A1.I1.ix1.p1.5.m5.1.1.3.2">𝑌</ci><cn id="A1.I1.ix1.p1.5.m5.1.1.3.3.cmml" type="integer" xref="A1.I1.ix1.p1.5.m5.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix1.p1.5.m5.1c">Y_{1}&lt;Y_{2}</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix1.p1.5.m5.1d">italic_Y start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT &lt; italic_Y start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="O^{i+1,4}_{1}=O^{i+1,4}_{2}" class="ltx_Math" display="inline" id="A1.I1.ix1.p1.6.m6.4"><semantics id="A1.I1.ix1.p1.6.m6.4a"><mrow id="A1.I1.ix1.p1.6.m6.4.5" xref="A1.I1.ix1.p1.6.m6.4.5.cmml"><msubsup id="A1.I1.ix1.p1.6.m6.4.5.2" xref="A1.I1.ix1.p1.6.m6.4.5.2.cmml"><mi id="A1.I1.ix1.p1.6.m6.4.5.2.2.2" xref="A1.I1.ix1.p1.6.m6.4.5.2.2.2.cmml">O</mi><mn id="A1.I1.ix1.p1.6.m6.4.5.2.3" xref="A1.I1.ix1.p1.6.m6.4.5.2.3.cmml">1</mn><mrow id="A1.I1.ix1.p1.6.m6.2.2.2.2" xref="A1.I1.ix1.p1.6.m6.2.2.2.3.cmml"><mrow id="A1.I1.ix1.p1.6.m6.2.2.2.2.1" xref="A1.I1.ix1.p1.6.m6.2.2.2.2.1.cmml"><mi id="A1.I1.ix1.p1.6.m6.2.2.2.2.1.2" xref="A1.I1.ix1.p1.6.m6.2.2.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix1.p1.6.m6.2.2.2.2.1.1" xref="A1.I1.ix1.p1.6.m6.2.2.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix1.p1.6.m6.2.2.2.2.1.3" xref="A1.I1.ix1.p1.6.m6.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix1.p1.6.m6.2.2.2.2.2" xref="A1.I1.ix1.p1.6.m6.2.2.2.3.cmml">,</mo><mn id="A1.I1.ix1.p1.6.m6.1.1.1.1" xref="A1.I1.ix1.p1.6.m6.1.1.1.1.cmml">4</mn></mrow></msubsup><mo id="A1.I1.ix1.p1.6.m6.4.5.1" xref="A1.I1.ix1.p1.6.m6.4.5.1.cmml">=</mo><msubsup id="A1.I1.ix1.p1.6.m6.4.5.3" xref="A1.I1.ix1.p1.6.m6.4.5.3.cmml"><mi id="A1.I1.ix1.p1.6.m6.4.5.3.2.2" xref="A1.I1.ix1.p1.6.m6.4.5.3.2.2.cmml">O</mi><mn id="A1.I1.ix1.p1.6.m6.4.5.3.3" xref="A1.I1.ix1.p1.6.m6.4.5.3.3.cmml">2</mn><mrow id="A1.I1.ix1.p1.6.m6.4.4.2.2" xref="A1.I1.ix1.p1.6.m6.4.4.2.3.cmml"><mrow id="A1.I1.ix1.p1.6.m6.4.4.2.2.1" xref="A1.I1.ix1.p1.6.m6.4.4.2.2.1.cmml"><mi id="A1.I1.ix1.p1.6.m6.4.4.2.2.1.2" xref="A1.I1.ix1.p1.6.m6.4.4.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix1.p1.6.m6.4.4.2.2.1.1" xref="A1.I1.ix1.p1.6.m6.4.4.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix1.p1.6.m6.4.4.2.2.1.3" xref="A1.I1.ix1.p1.6.m6.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix1.p1.6.m6.4.4.2.2.2" xref="A1.I1.ix1.p1.6.m6.4.4.2.3.cmml">,</mo><mn id="A1.I1.ix1.p1.6.m6.3.3.1.1" xref="A1.I1.ix1.p1.6.m6.3.3.1.1.cmml">4</mn></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix1.p1.6.m6.4b"><apply id="A1.I1.ix1.p1.6.m6.4.5.cmml" xref="A1.I1.ix1.p1.6.m6.4.5"><eq id="A1.I1.ix1.p1.6.m6.4.5.1.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.1"></eq><apply id="A1.I1.ix1.p1.6.m6.4.5.2.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.2"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.6.m6.4.5.2.1.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.2">subscript</csymbol><apply id="A1.I1.ix1.p1.6.m6.4.5.2.2.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.2"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.6.m6.4.5.2.2.1.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.2">superscript</csymbol><ci id="A1.I1.ix1.p1.6.m6.4.5.2.2.2.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.2.2.2">𝑂</ci><list id="A1.I1.ix1.p1.6.m6.2.2.2.3.cmml" xref="A1.I1.ix1.p1.6.m6.2.2.2.2"><apply id="A1.I1.ix1.p1.6.m6.2.2.2.2.1.cmml" xref="A1.I1.ix1.p1.6.m6.2.2.2.2.1"><plus id="A1.I1.ix1.p1.6.m6.2.2.2.2.1.1.cmml" xref="A1.I1.ix1.p1.6.m6.2.2.2.2.1.1"></plus><ci id="A1.I1.ix1.p1.6.m6.2.2.2.2.1.2.cmml" xref="A1.I1.ix1.p1.6.m6.2.2.2.2.1.2">𝑖</ci><cn id="A1.I1.ix1.p1.6.m6.2.2.2.2.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.6.m6.2.2.2.2.1.3">1</cn></apply><cn id="A1.I1.ix1.p1.6.m6.1.1.1.1.cmml" type="integer" xref="A1.I1.ix1.p1.6.m6.1.1.1.1">4</cn></list></apply><cn id="A1.I1.ix1.p1.6.m6.4.5.2.3.cmml" type="integer" xref="A1.I1.ix1.p1.6.m6.4.5.2.3">1</cn></apply><apply id="A1.I1.ix1.p1.6.m6.4.5.3.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.6.m6.4.5.3.1.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.3">subscript</csymbol><apply id="A1.I1.ix1.p1.6.m6.4.5.3.2.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.6.m6.4.5.3.2.1.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.3">superscript</csymbol><ci id="A1.I1.ix1.p1.6.m6.4.5.3.2.2.cmml" xref="A1.I1.ix1.p1.6.m6.4.5.3.2.2">𝑂</ci><list id="A1.I1.ix1.p1.6.m6.4.4.2.3.cmml" xref="A1.I1.ix1.p1.6.m6.4.4.2.2"><apply id="A1.I1.ix1.p1.6.m6.4.4.2.2.1.cmml" xref="A1.I1.ix1.p1.6.m6.4.4.2.2.1"><plus id="A1.I1.ix1.p1.6.m6.4.4.2.2.1.1.cmml" xref="A1.I1.ix1.p1.6.m6.4.4.2.2.1.1"></plus><ci id="A1.I1.ix1.p1.6.m6.4.4.2.2.1.2.cmml" xref="A1.I1.ix1.p1.6.m6.4.4.2.2.1.2">𝑖</ci><cn id="A1.I1.ix1.p1.6.m6.4.4.2.2.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.6.m6.4.4.2.2.1.3">1</cn></apply><cn id="A1.I1.ix1.p1.6.m6.3.3.1.1.cmml" type="integer" xref="A1.I1.ix1.p1.6.m6.3.3.1.1">4</cn></list></apply><cn id="A1.I1.ix1.p1.6.m6.4.5.3.3.cmml" type="integer" xref="A1.I1.ix1.p1.6.m6.4.5.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix1.p1.6.m6.4c">O^{i+1,4}_{1}=O^{i+1,4}_{2}</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix1.p1.6.m6.4d">italic_O start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = italic_O start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>. Therefore, we have <math alttext="w^{i+1,4}(u,v_{1})&lt;w^{i+1,4}(u,v_{2})" class="ltx_Math" display="inline" id="A1.I1.ix1.p1.7.m7.8"><semantics id="A1.I1.ix1.p1.7.m7.8a"><mrow id="A1.I1.ix1.p1.7.m7.8.8" xref="A1.I1.ix1.p1.7.m7.8.8.cmml"><mrow id="A1.I1.ix1.p1.7.m7.7.7.1" xref="A1.I1.ix1.p1.7.m7.7.7.1.cmml"><msup id="A1.I1.ix1.p1.7.m7.7.7.1.3" xref="A1.I1.ix1.p1.7.m7.7.7.1.3.cmml"><mi id="A1.I1.ix1.p1.7.m7.7.7.1.3.2" xref="A1.I1.ix1.p1.7.m7.7.7.1.3.2.cmml">w</mi><mrow id="A1.I1.ix1.p1.7.m7.2.2.2.2" xref="A1.I1.ix1.p1.7.m7.2.2.2.3.cmml"><mrow id="A1.I1.ix1.p1.7.m7.2.2.2.2.1" xref="A1.I1.ix1.p1.7.m7.2.2.2.2.1.cmml"><mi id="A1.I1.ix1.p1.7.m7.2.2.2.2.1.2" xref="A1.I1.ix1.p1.7.m7.2.2.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix1.p1.7.m7.2.2.2.2.1.1" xref="A1.I1.ix1.p1.7.m7.2.2.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix1.p1.7.m7.2.2.2.2.1.3" xref="A1.I1.ix1.p1.7.m7.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix1.p1.7.m7.2.2.2.2.2" xref="A1.I1.ix1.p1.7.m7.2.2.2.3.cmml">,</mo><mn id="A1.I1.ix1.p1.7.m7.1.1.1.1" xref="A1.I1.ix1.p1.7.m7.1.1.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix1.p1.7.m7.7.7.1.2" xref="A1.I1.ix1.p1.7.m7.7.7.1.2.cmml">⁢</mo><mrow id="A1.I1.ix1.p1.7.m7.7.7.1.1.1" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.2.cmml"><mo id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.2" stretchy="false" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.2.cmml">(</mo><mi id="A1.I1.ix1.p1.7.m7.5.5" xref="A1.I1.ix1.p1.7.m7.5.5.cmml">u</mi><mo id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.3" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.2.cmml">,</mo><msub id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.cmml"><mi id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.2" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.3" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.4" stretchy="false" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.I1.ix1.p1.7.m7.8.8.3" xref="A1.I1.ix1.p1.7.m7.8.8.3.cmml">&lt;</mo><mrow id="A1.I1.ix1.p1.7.m7.8.8.2" xref="A1.I1.ix1.p1.7.m7.8.8.2.cmml"><msup id="A1.I1.ix1.p1.7.m7.8.8.2.3" xref="A1.I1.ix1.p1.7.m7.8.8.2.3.cmml"><mi id="A1.I1.ix1.p1.7.m7.8.8.2.3.2" xref="A1.I1.ix1.p1.7.m7.8.8.2.3.2.cmml">w</mi><mrow id="A1.I1.ix1.p1.7.m7.4.4.2.2" xref="A1.I1.ix1.p1.7.m7.4.4.2.3.cmml"><mrow id="A1.I1.ix1.p1.7.m7.4.4.2.2.1" xref="A1.I1.ix1.p1.7.m7.4.4.2.2.1.cmml"><mi id="A1.I1.ix1.p1.7.m7.4.4.2.2.1.2" xref="A1.I1.ix1.p1.7.m7.4.4.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix1.p1.7.m7.4.4.2.2.1.1" xref="A1.I1.ix1.p1.7.m7.4.4.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix1.p1.7.m7.4.4.2.2.1.3" xref="A1.I1.ix1.p1.7.m7.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix1.p1.7.m7.4.4.2.2.2" xref="A1.I1.ix1.p1.7.m7.4.4.2.3.cmml">,</mo><mn id="A1.I1.ix1.p1.7.m7.3.3.1.1" xref="A1.I1.ix1.p1.7.m7.3.3.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix1.p1.7.m7.8.8.2.2" xref="A1.I1.ix1.p1.7.m7.8.8.2.2.cmml">⁢</mo><mrow id="A1.I1.ix1.p1.7.m7.8.8.2.1.1" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.2.cmml"><mo id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.2" stretchy="false" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.2.cmml">(</mo><mi id="A1.I1.ix1.p1.7.m7.6.6" xref="A1.I1.ix1.p1.7.m7.6.6.cmml">u</mi><mo id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.3" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.2.cmml">,</mo><msub id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.cmml"><mi id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.2" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.3" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.4" stretchy="false" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix1.p1.7.m7.8b"><apply id="A1.I1.ix1.p1.7.m7.8.8.cmml" xref="A1.I1.ix1.p1.7.m7.8.8"><lt id="A1.I1.ix1.p1.7.m7.8.8.3.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.3"></lt><apply id="A1.I1.ix1.p1.7.m7.7.7.1.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1"><times id="A1.I1.ix1.p1.7.m7.7.7.1.2.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1.2"></times><apply id="A1.I1.ix1.p1.7.m7.7.7.1.3.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.7.m7.7.7.1.3.1.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1.3">superscript</csymbol><ci id="A1.I1.ix1.p1.7.m7.7.7.1.3.2.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1.3.2">𝑤</ci><list id="A1.I1.ix1.p1.7.m7.2.2.2.3.cmml" xref="A1.I1.ix1.p1.7.m7.2.2.2.2"><apply id="A1.I1.ix1.p1.7.m7.2.2.2.2.1.cmml" xref="A1.I1.ix1.p1.7.m7.2.2.2.2.1"><plus id="A1.I1.ix1.p1.7.m7.2.2.2.2.1.1.cmml" xref="A1.I1.ix1.p1.7.m7.2.2.2.2.1.1"></plus><ci id="A1.I1.ix1.p1.7.m7.2.2.2.2.1.2.cmml" xref="A1.I1.ix1.p1.7.m7.2.2.2.2.1.2">𝑖</ci><cn id="A1.I1.ix1.p1.7.m7.2.2.2.2.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.7.m7.2.2.2.2.1.3">1</cn></apply><cn id="A1.I1.ix1.p1.7.m7.1.1.1.1.cmml" type="integer" xref="A1.I1.ix1.p1.7.m7.1.1.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix1.p1.7.m7.7.7.1.1.2.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.1"><ci id="A1.I1.ix1.p1.7.m7.5.5.cmml" xref="A1.I1.ix1.p1.7.m7.5.5">𝑢</ci><apply id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.1.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1">subscript</csymbol><ci id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.2.cmml" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.2">𝑣</ci><cn id="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.7.m7.7.7.1.1.1.1.3">1</cn></apply></interval></apply><apply id="A1.I1.ix1.p1.7.m7.8.8.2.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2"><times id="A1.I1.ix1.p1.7.m7.8.8.2.2.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2.2"></times><apply id="A1.I1.ix1.p1.7.m7.8.8.2.3.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2.3"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.7.m7.8.8.2.3.1.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2.3">superscript</csymbol><ci id="A1.I1.ix1.p1.7.m7.8.8.2.3.2.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2.3.2">𝑤</ci><list id="A1.I1.ix1.p1.7.m7.4.4.2.3.cmml" xref="A1.I1.ix1.p1.7.m7.4.4.2.2"><apply id="A1.I1.ix1.p1.7.m7.4.4.2.2.1.cmml" xref="A1.I1.ix1.p1.7.m7.4.4.2.2.1"><plus id="A1.I1.ix1.p1.7.m7.4.4.2.2.1.1.cmml" xref="A1.I1.ix1.p1.7.m7.4.4.2.2.1.1"></plus><ci id="A1.I1.ix1.p1.7.m7.4.4.2.2.1.2.cmml" xref="A1.I1.ix1.p1.7.m7.4.4.2.2.1.2">𝑖</ci><cn id="A1.I1.ix1.p1.7.m7.4.4.2.2.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.7.m7.4.4.2.2.1.3">1</cn></apply><cn id="A1.I1.ix1.p1.7.m7.3.3.1.1.cmml" type="integer" xref="A1.I1.ix1.p1.7.m7.3.3.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix1.p1.7.m7.8.8.2.1.2.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.1"><ci id="A1.I1.ix1.p1.7.m7.6.6.cmml" xref="A1.I1.ix1.p1.7.m7.6.6">𝑢</ci><apply id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.1.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1">subscript</csymbol><ci id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.2.cmml" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.2">𝑣</ci><cn id="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.3.cmml" type="integer" xref="A1.I1.ix1.p1.7.m7.8.8.2.1.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix1.p1.7.m7.8c">w^{i+1,4}(u,v_{1})&lt;w^{i+1,4}(u,v_{2})</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix1.p1.7.m7.8d">italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) &lt; italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math>.</p>
</div>
</li>
<li class="ltx_item" id="A1.I1.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2</span>
<div class="ltx_para" id="A1.I1.ix2.p1">
<p class="ltx_p" id="A1.I1.ix2.p1.4">In the case <math alttext="S_{1}&lt;S_{2}" class="ltx_Math" display="inline" id="A1.I1.ix2.p1.1.m1.1"><semantics id="A1.I1.ix2.p1.1.m1.1a"><mrow id="A1.I1.ix2.p1.1.m1.1.1" xref="A1.I1.ix2.p1.1.m1.1.1.cmml"><msub id="A1.I1.ix2.p1.1.m1.1.1.2" xref="A1.I1.ix2.p1.1.m1.1.1.2.cmml"><mi id="A1.I1.ix2.p1.1.m1.1.1.2.2" xref="A1.I1.ix2.p1.1.m1.1.1.2.2.cmml">S</mi><mn id="A1.I1.ix2.p1.1.m1.1.1.2.3" xref="A1.I1.ix2.p1.1.m1.1.1.2.3.cmml">1</mn></msub><mo id="A1.I1.ix2.p1.1.m1.1.1.1" xref="A1.I1.ix2.p1.1.m1.1.1.1.cmml">&lt;</mo><msub id="A1.I1.ix2.p1.1.m1.1.1.3" xref="A1.I1.ix2.p1.1.m1.1.1.3.cmml"><mi id="A1.I1.ix2.p1.1.m1.1.1.3.2" xref="A1.I1.ix2.p1.1.m1.1.1.3.2.cmml">S</mi><mn id="A1.I1.ix2.p1.1.m1.1.1.3.3" xref="A1.I1.ix2.p1.1.m1.1.1.3.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix2.p1.1.m1.1b"><apply id="A1.I1.ix2.p1.1.m1.1.1.cmml" xref="A1.I1.ix2.p1.1.m1.1.1"><lt id="A1.I1.ix2.p1.1.m1.1.1.1.cmml" xref="A1.I1.ix2.p1.1.m1.1.1.1"></lt><apply id="A1.I1.ix2.p1.1.m1.1.1.2.cmml" xref="A1.I1.ix2.p1.1.m1.1.1.2"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.1.m1.1.1.2.1.cmml" xref="A1.I1.ix2.p1.1.m1.1.1.2">subscript</csymbol><ci id="A1.I1.ix2.p1.1.m1.1.1.2.2.cmml" xref="A1.I1.ix2.p1.1.m1.1.1.2.2">𝑆</ci><cn id="A1.I1.ix2.p1.1.m1.1.1.2.3.cmml" type="integer" xref="A1.I1.ix2.p1.1.m1.1.1.2.3">1</cn></apply><apply id="A1.I1.ix2.p1.1.m1.1.1.3.cmml" xref="A1.I1.ix2.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.1.m1.1.1.3.1.cmml" xref="A1.I1.ix2.p1.1.m1.1.1.3">subscript</csymbol><ci id="A1.I1.ix2.p1.1.m1.1.1.3.2.cmml" xref="A1.I1.ix2.p1.1.m1.1.1.3.2">𝑆</ci><cn id="A1.I1.ix2.p1.1.m1.1.1.3.3.cmml" type="integer" xref="A1.I1.ix2.p1.1.m1.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix2.p1.1.m1.1c">S_{1}&lt;S_{2}</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix2.p1.1.m1.1d">italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT &lt; italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>. According to Assumption <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#Thmassumption2" title="Assumption 2. ‣ 5 Full Stage Learning to Rank ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">2</span></a>, we have <math alttext="\frac{p^{i+1,4}(u,v_{2})}{p^{i+1,4}(u,v_{1})}\geq a\geq\max\{\frac{r(u,v_{1})}%
{r(u,v_{2})},\frac{r(u,v_{2})}{r(u,v_{1})}\}\geq\frac{r(u,v_{1})}{r(u,v_{2})}%
\geq\frac{1}{a}" class="ltx_Math" display="inline" id="A1.I1.ix2.p1.2.m2.21"><semantics id="A1.I1.ix2.p1.2.m2.21a"><mrow id="A1.I1.ix2.p1.2.m2.21.22" xref="A1.I1.ix2.p1.2.m2.21.22.cmml"><mfrac id="A1.I1.ix2.p1.2.m2.8.8" xref="A1.I1.ix2.p1.2.m2.8.8.cmml"><mrow id="A1.I1.ix2.p1.2.m2.4.4.4" xref="A1.I1.ix2.p1.2.m2.4.4.4.cmml"><msup id="A1.I1.ix2.p1.2.m2.4.4.4.6" xref="A1.I1.ix2.p1.2.m2.4.4.4.6.cmml"><mi id="A1.I1.ix2.p1.2.m2.4.4.4.6.2" xref="A1.I1.ix2.p1.2.m2.4.4.4.6.2.cmml">p</mi><mrow id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.3.cmml"><mrow id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.2" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.1" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.3" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.2" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.3.cmml">,</mo><mn id="A1.I1.ix2.p1.2.m2.1.1.1.1.1.1" xref="A1.I1.ix2.p1.2.m2.1.1.1.1.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix2.p1.2.m2.4.4.4.5" xref="A1.I1.ix2.p1.2.m2.4.4.4.5.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.2.m2.4.4.4.4.1" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.2.cmml"><mo id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.2" stretchy="false" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.2.cmml">(</mo><mi id="A1.I1.ix2.p1.2.m2.3.3.3.3" xref="A1.I1.ix2.p1.2.m2.3.3.3.3.cmml">u</mi><mo id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.3" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.2.cmml">,</mo><msub id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.2" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.3" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.4" stretchy="false" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.2.cmml">)</mo></mrow></mrow><mrow id="A1.I1.ix2.p1.2.m2.8.8.8" xref="A1.I1.ix2.p1.2.m2.8.8.8.cmml"><msup id="A1.I1.ix2.p1.2.m2.8.8.8.6" xref="A1.I1.ix2.p1.2.m2.8.8.8.6.cmml"><mi id="A1.I1.ix2.p1.2.m2.8.8.8.6.2" xref="A1.I1.ix2.p1.2.m2.8.8.8.6.2.cmml">p</mi><mrow id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.3.cmml"><mrow id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.2" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.1" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.3" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.2" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.3.cmml">,</mo><mn id="A1.I1.ix2.p1.2.m2.5.5.5.1.1.1" xref="A1.I1.ix2.p1.2.m2.5.5.5.1.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix2.p1.2.m2.8.8.8.5" xref="A1.I1.ix2.p1.2.m2.8.8.8.5.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.2.m2.8.8.8.4.1" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.2.cmml"><mo id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.2" stretchy="false" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.2.cmml">(</mo><mi id="A1.I1.ix2.p1.2.m2.7.7.7.3" xref="A1.I1.ix2.p1.2.m2.7.7.7.3.cmml">u</mi><mo id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.3" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.2.cmml">,</mo><msub id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.2" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.3" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.4" stretchy="false" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.2.cmml">)</mo></mrow></mrow></mfrac><mo id="A1.I1.ix2.p1.2.m2.21.22.2" xref="A1.I1.ix2.p1.2.m2.21.22.2.cmml">≥</mo><mi id="A1.I1.ix2.p1.2.m2.21.22.3" xref="A1.I1.ix2.p1.2.m2.21.22.3.cmml">a</mi><mo id="A1.I1.ix2.p1.2.m2.21.22.4" xref="A1.I1.ix2.p1.2.m2.21.22.4.cmml">≥</mo><mrow id="A1.I1.ix2.p1.2.m2.21.22.5.2" xref="A1.I1.ix2.p1.2.m2.21.22.5.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.21.21" xref="A1.I1.ix2.p1.2.m2.21.21.cmml">max</mi><mo id="A1.I1.ix2.p1.2.m2.21.22.5.2a" xref="A1.I1.ix2.p1.2.m2.21.22.5.1.cmml">⁡</mo><mrow id="A1.I1.ix2.p1.2.m2.21.22.5.2.1" xref="A1.I1.ix2.p1.2.m2.21.22.5.1.cmml"><mo id="A1.I1.ix2.p1.2.m2.21.22.5.2.1.1" stretchy="false" xref="A1.I1.ix2.p1.2.m2.21.22.5.1.cmml">{</mo><mfrac id="A1.I1.ix2.p1.2.m2.12.12" xref="A1.I1.ix2.p1.2.m2.12.12.cmml"><mrow id="A1.I1.ix2.p1.2.m2.10.10.2" xref="A1.I1.ix2.p1.2.m2.10.10.2.cmml"><mi id="A1.I1.ix2.p1.2.m2.10.10.2.4" xref="A1.I1.ix2.p1.2.m2.10.10.2.4.cmml">r</mi><mo id="A1.I1.ix2.p1.2.m2.10.10.2.3" xref="A1.I1.ix2.p1.2.m2.10.10.2.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.2.m2.10.10.2.2.1" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.2.cmml"><mo id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.2" stretchy="false" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.2.cmml">(</mo><mi id="A1.I1.ix2.p1.2.m2.9.9.1.1" xref="A1.I1.ix2.p1.2.m2.9.9.1.1.cmml">u</mi><mo id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.3" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.2.cmml">,</mo><msub id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.2" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.3" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.4" stretchy="false" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.2.cmml">)</mo></mrow></mrow><mrow id="A1.I1.ix2.p1.2.m2.12.12.4" xref="A1.I1.ix2.p1.2.m2.12.12.4.cmml"><mi id="A1.I1.ix2.p1.2.m2.12.12.4.4" xref="A1.I1.ix2.p1.2.m2.12.12.4.4.cmml">r</mi><mo id="A1.I1.ix2.p1.2.m2.12.12.4.3" xref="A1.I1.ix2.p1.2.m2.12.12.4.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.2.m2.12.12.4.2.1" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.2.cmml"><mo id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.2" stretchy="false" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.2.cmml">(</mo><mi id="A1.I1.ix2.p1.2.m2.11.11.3.1" xref="A1.I1.ix2.p1.2.m2.11.11.3.1.cmml">u</mi><mo id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.3" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.2.cmml">,</mo><msub id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.2" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.3" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.4" stretchy="false" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.2.cmml">)</mo></mrow></mrow></mfrac><mo id="A1.I1.ix2.p1.2.m2.21.22.5.2.1.2" xref="A1.I1.ix2.p1.2.m2.21.22.5.1.cmml">,</mo><mfrac id="A1.I1.ix2.p1.2.m2.16.16" xref="A1.I1.ix2.p1.2.m2.16.16.cmml"><mrow id="A1.I1.ix2.p1.2.m2.14.14.2" xref="A1.I1.ix2.p1.2.m2.14.14.2.cmml"><mi id="A1.I1.ix2.p1.2.m2.14.14.2.4" xref="A1.I1.ix2.p1.2.m2.14.14.2.4.cmml">r</mi><mo id="A1.I1.ix2.p1.2.m2.14.14.2.3" xref="A1.I1.ix2.p1.2.m2.14.14.2.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.2.m2.14.14.2.2.1" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.2.cmml"><mo id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.2" stretchy="false" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.2.cmml">(</mo><mi id="A1.I1.ix2.p1.2.m2.13.13.1.1" xref="A1.I1.ix2.p1.2.m2.13.13.1.1.cmml">u</mi><mo id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.3" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.2.cmml">,</mo><msub id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.2" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.3" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.4" stretchy="false" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.2.cmml">)</mo></mrow></mrow><mrow id="A1.I1.ix2.p1.2.m2.16.16.4" xref="A1.I1.ix2.p1.2.m2.16.16.4.cmml"><mi id="A1.I1.ix2.p1.2.m2.16.16.4.4" xref="A1.I1.ix2.p1.2.m2.16.16.4.4.cmml">r</mi><mo id="A1.I1.ix2.p1.2.m2.16.16.4.3" xref="A1.I1.ix2.p1.2.m2.16.16.4.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.2.m2.16.16.4.2.1" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.2.cmml"><mo id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.2" stretchy="false" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.2.cmml">(</mo><mi id="A1.I1.ix2.p1.2.m2.15.15.3.1" xref="A1.I1.ix2.p1.2.m2.15.15.3.1.cmml">u</mi><mo id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.3" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.2.cmml">,</mo><msub id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.2" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.3" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.4" stretchy="false" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.2.cmml">)</mo></mrow></mrow></mfrac><mo id="A1.I1.ix2.p1.2.m2.21.22.5.2.1.3" stretchy="false" xref="A1.I1.ix2.p1.2.m2.21.22.5.1.cmml">}</mo></mrow></mrow><mo id="A1.I1.ix2.p1.2.m2.21.22.6" xref="A1.I1.ix2.p1.2.m2.21.22.6.cmml">≥</mo><mfrac id="A1.I1.ix2.p1.2.m2.20.20" xref="A1.I1.ix2.p1.2.m2.20.20.cmml"><mrow id="A1.I1.ix2.p1.2.m2.18.18.2" xref="A1.I1.ix2.p1.2.m2.18.18.2.cmml"><mi id="A1.I1.ix2.p1.2.m2.18.18.2.4" xref="A1.I1.ix2.p1.2.m2.18.18.2.4.cmml">r</mi><mo id="A1.I1.ix2.p1.2.m2.18.18.2.3" xref="A1.I1.ix2.p1.2.m2.18.18.2.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.2.m2.18.18.2.2.1" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.2.cmml"><mo id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.2" stretchy="false" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.2.cmml">(</mo><mi id="A1.I1.ix2.p1.2.m2.17.17.1.1" xref="A1.I1.ix2.p1.2.m2.17.17.1.1.cmml">u</mi><mo id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.3" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.2.cmml">,</mo><msub id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.2" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.3" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.4" stretchy="false" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.2.cmml">)</mo></mrow></mrow><mrow id="A1.I1.ix2.p1.2.m2.20.20.4" xref="A1.I1.ix2.p1.2.m2.20.20.4.cmml"><mi id="A1.I1.ix2.p1.2.m2.20.20.4.4" xref="A1.I1.ix2.p1.2.m2.20.20.4.4.cmml">r</mi><mo id="A1.I1.ix2.p1.2.m2.20.20.4.3" xref="A1.I1.ix2.p1.2.m2.20.20.4.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.2.m2.20.20.4.2.1" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.2.cmml"><mo id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.2" stretchy="false" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.2.cmml">(</mo><mi id="A1.I1.ix2.p1.2.m2.19.19.3.1" xref="A1.I1.ix2.p1.2.m2.19.19.3.1.cmml">u</mi><mo id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.3" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.2.cmml">,</mo><msub id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.cmml"><mi id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.2" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.3" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.4" stretchy="false" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.2.cmml">)</mo></mrow></mrow></mfrac><mo id="A1.I1.ix2.p1.2.m2.21.22.7" xref="A1.I1.ix2.p1.2.m2.21.22.7.cmml">≥</mo><mfrac id="A1.I1.ix2.p1.2.m2.21.22.8" xref="A1.I1.ix2.p1.2.m2.21.22.8.cmml"><mn id="A1.I1.ix2.p1.2.m2.21.22.8.2" xref="A1.I1.ix2.p1.2.m2.21.22.8.2.cmml">1</mn><mi id="A1.I1.ix2.p1.2.m2.21.22.8.3" xref="A1.I1.ix2.p1.2.m2.21.22.8.3.cmml">a</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix2.p1.2.m2.21b"><apply id="A1.I1.ix2.p1.2.m2.21.22.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"><and id="A1.I1.ix2.p1.2.m2.21.22a.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"></and><apply id="A1.I1.ix2.p1.2.m2.21.22b.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"><geq id="A1.I1.ix2.p1.2.m2.21.22.2.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.2"></geq><apply id="A1.I1.ix2.p1.2.m2.8.8.cmml" xref="A1.I1.ix2.p1.2.m2.8.8"><divide id="A1.I1.ix2.p1.2.m2.8.8.9.cmml" xref="A1.I1.ix2.p1.2.m2.8.8"></divide><apply id="A1.I1.ix2.p1.2.m2.4.4.4.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4"><times id="A1.I1.ix2.p1.2.m2.4.4.4.5.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4.5"></times><apply id="A1.I1.ix2.p1.2.m2.4.4.4.6.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4.6"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.4.4.4.6.1.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4.6">superscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.4.4.4.6.2.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4.6.2">𝑝</ci><list id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.3.cmml" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2"><apply id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.cmml" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1"><plus id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.1"></plus><ci id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.2">𝑖</ci><cn id="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.2.2.2.2.2.2.1.3">1</cn></apply><cn id="A1.I1.ix2.p1.2.m2.1.1.1.1.1.1.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.1.1.1.1.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix2.p1.2.m2.4.4.4.4.2.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.1"><ci id="A1.I1.ix2.p1.2.m2.3.3.3.3.cmml" xref="A1.I1.ix2.p1.2.m2.3.3.3.3">𝑢</ci><apply id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.4.4.4.4.1.1.3">2</cn></apply></interval></apply><apply id="A1.I1.ix2.p1.2.m2.8.8.8.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8"><times id="A1.I1.ix2.p1.2.m2.8.8.8.5.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8.5"></times><apply id="A1.I1.ix2.p1.2.m2.8.8.8.6.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8.6"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.8.8.8.6.1.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8.6">superscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.8.8.8.6.2.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8.6.2">𝑝</ci><list id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.3.cmml" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2"><apply id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.cmml" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1"><plus id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.1"></plus><ci id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.2">𝑖</ci><cn id="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.6.6.6.2.2.2.1.3">1</cn></apply><cn id="A1.I1.ix2.p1.2.m2.5.5.5.1.1.1.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.5.5.5.1.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix2.p1.2.m2.8.8.8.4.2.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.1"><ci id="A1.I1.ix2.p1.2.m2.7.7.7.3.cmml" xref="A1.I1.ix2.p1.2.m2.7.7.7.3">𝑢</ci><apply id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.8.8.8.4.1.1.3">1</cn></apply></interval></apply></apply><ci id="A1.I1.ix2.p1.2.m2.21.22.3.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.3">𝑎</ci></apply><apply id="A1.I1.ix2.p1.2.m2.21.22c.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"><geq id="A1.I1.ix2.p1.2.m2.21.22.4.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.4"></geq><share href="https://arxiv.org/html/2405.04844v1#A1.I1.ix2.p1.2.m2.21.22.3.cmml" id="A1.I1.ix2.p1.2.m2.21.22d.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"></share><apply id="A1.I1.ix2.p1.2.m2.21.22.5.1.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.5.2"><max id="A1.I1.ix2.p1.2.m2.21.21.cmml" xref="A1.I1.ix2.p1.2.m2.21.21"></max><apply id="A1.I1.ix2.p1.2.m2.12.12.cmml" xref="A1.I1.ix2.p1.2.m2.12.12"><divide id="A1.I1.ix2.p1.2.m2.12.12.5.cmml" xref="A1.I1.ix2.p1.2.m2.12.12"></divide><apply id="A1.I1.ix2.p1.2.m2.10.10.2.cmml" xref="A1.I1.ix2.p1.2.m2.10.10.2"><times id="A1.I1.ix2.p1.2.m2.10.10.2.3.cmml" xref="A1.I1.ix2.p1.2.m2.10.10.2.3"></times><ci id="A1.I1.ix2.p1.2.m2.10.10.2.4.cmml" xref="A1.I1.ix2.p1.2.m2.10.10.2.4">𝑟</ci><interval closure="open" id="A1.I1.ix2.p1.2.m2.10.10.2.2.2.cmml" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.1"><ci id="A1.I1.ix2.p1.2.m2.9.9.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.9.9.1.1">𝑢</ci><apply id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.10.10.2.2.1.1.3">1</cn></apply></interval></apply><apply id="A1.I1.ix2.p1.2.m2.12.12.4.cmml" xref="A1.I1.ix2.p1.2.m2.12.12.4"><times id="A1.I1.ix2.p1.2.m2.12.12.4.3.cmml" xref="A1.I1.ix2.p1.2.m2.12.12.4.3"></times><ci id="A1.I1.ix2.p1.2.m2.12.12.4.4.cmml" xref="A1.I1.ix2.p1.2.m2.12.12.4.4">𝑟</ci><interval closure="open" id="A1.I1.ix2.p1.2.m2.12.12.4.2.2.cmml" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.1"><ci id="A1.I1.ix2.p1.2.m2.11.11.3.1.cmml" xref="A1.I1.ix2.p1.2.m2.11.11.3.1">𝑢</ci><apply id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.12.12.4.2.1.1.3">2</cn></apply></interval></apply></apply><apply id="A1.I1.ix2.p1.2.m2.16.16.cmml" xref="A1.I1.ix2.p1.2.m2.16.16"><divide id="A1.I1.ix2.p1.2.m2.16.16.5.cmml" xref="A1.I1.ix2.p1.2.m2.16.16"></divide><apply id="A1.I1.ix2.p1.2.m2.14.14.2.cmml" xref="A1.I1.ix2.p1.2.m2.14.14.2"><times id="A1.I1.ix2.p1.2.m2.14.14.2.3.cmml" xref="A1.I1.ix2.p1.2.m2.14.14.2.3"></times><ci id="A1.I1.ix2.p1.2.m2.14.14.2.4.cmml" xref="A1.I1.ix2.p1.2.m2.14.14.2.4">𝑟</ci><interval closure="open" id="A1.I1.ix2.p1.2.m2.14.14.2.2.2.cmml" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.1"><ci id="A1.I1.ix2.p1.2.m2.13.13.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.13.13.1.1">𝑢</ci><apply id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.14.14.2.2.1.1.3">2</cn></apply></interval></apply><apply id="A1.I1.ix2.p1.2.m2.16.16.4.cmml" xref="A1.I1.ix2.p1.2.m2.16.16.4"><times id="A1.I1.ix2.p1.2.m2.16.16.4.3.cmml" xref="A1.I1.ix2.p1.2.m2.16.16.4.3"></times><ci id="A1.I1.ix2.p1.2.m2.16.16.4.4.cmml" xref="A1.I1.ix2.p1.2.m2.16.16.4.4">𝑟</ci><interval closure="open" id="A1.I1.ix2.p1.2.m2.16.16.4.2.2.cmml" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.1"><ci id="A1.I1.ix2.p1.2.m2.15.15.3.1.cmml" xref="A1.I1.ix2.p1.2.m2.15.15.3.1">𝑢</ci><apply id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.16.16.4.2.1.1.3">1</cn></apply></interval></apply></apply></apply></apply><apply id="A1.I1.ix2.p1.2.m2.21.22e.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"><geq id="A1.I1.ix2.p1.2.m2.21.22.6.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.6"></geq><share href="https://arxiv.org/html/2405.04844v1#A1.I1.ix2.p1.2.m2.21.22.5.cmml" id="A1.I1.ix2.p1.2.m2.21.22f.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"></share><apply id="A1.I1.ix2.p1.2.m2.20.20.cmml" xref="A1.I1.ix2.p1.2.m2.20.20"><divide id="A1.I1.ix2.p1.2.m2.20.20.5.cmml" xref="A1.I1.ix2.p1.2.m2.20.20"></divide><apply id="A1.I1.ix2.p1.2.m2.18.18.2.cmml" xref="A1.I1.ix2.p1.2.m2.18.18.2"><times id="A1.I1.ix2.p1.2.m2.18.18.2.3.cmml" xref="A1.I1.ix2.p1.2.m2.18.18.2.3"></times><ci id="A1.I1.ix2.p1.2.m2.18.18.2.4.cmml" xref="A1.I1.ix2.p1.2.m2.18.18.2.4">𝑟</ci><interval closure="open" id="A1.I1.ix2.p1.2.m2.18.18.2.2.2.cmml" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.1"><ci id="A1.I1.ix2.p1.2.m2.17.17.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.17.17.1.1">𝑢</ci><apply id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.18.18.2.2.1.1.3">1</cn></apply></interval></apply><apply id="A1.I1.ix2.p1.2.m2.20.20.4.cmml" xref="A1.I1.ix2.p1.2.m2.20.20.4"><times id="A1.I1.ix2.p1.2.m2.20.20.4.3.cmml" xref="A1.I1.ix2.p1.2.m2.20.20.4.3"></times><ci id="A1.I1.ix2.p1.2.m2.20.20.4.4.cmml" xref="A1.I1.ix2.p1.2.m2.20.20.4.4">𝑟</ci><interval closure="open" id="A1.I1.ix2.p1.2.m2.20.20.4.2.2.cmml" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.1"><ci id="A1.I1.ix2.p1.2.m2.19.19.3.1.cmml" xref="A1.I1.ix2.p1.2.m2.19.19.3.1">𝑢</ci><apply id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.1.cmml" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.2.cmml" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.20.20.4.2.1.1.3">2</cn></apply></interval></apply></apply></apply><apply id="A1.I1.ix2.p1.2.m2.21.22g.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"><geq id="A1.I1.ix2.p1.2.m2.21.22.7.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.7"></geq><share href="https://arxiv.org/html/2405.04844v1#A1.I1.ix2.p1.2.m2.20.20.cmml" id="A1.I1.ix2.p1.2.m2.21.22h.cmml" xref="A1.I1.ix2.p1.2.m2.21.22"></share><apply id="A1.I1.ix2.p1.2.m2.21.22.8.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.8"><divide id="A1.I1.ix2.p1.2.m2.21.22.8.1.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.8"></divide><cn id="A1.I1.ix2.p1.2.m2.21.22.8.2.cmml" type="integer" xref="A1.I1.ix2.p1.2.m2.21.22.8.2">1</cn><ci id="A1.I1.ix2.p1.2.m2.21.22.8.3.cmml" xref="A1.I1.ix2.p1.2.m2.21.22.8.3">𝑎</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix2.p1.2.m2.21c">\frac{p^{i+1,4}(u,v_{2})}{p^{i+1,4}(u,v_{1})}\geq a\geq\max\{\frac{r(u,v_{1})}%
{r(u,v_{2})},\frac{r(u,v_{2})}{r(u,v_{1})}\}\geq\frac{r(u,v_{1})}{r(u,v_{2})}%
\geq\frac{1}{a}</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix2.p1.2.m2.21d">divide start_ARG italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) end_ARG ≥ italic_a ≥ roman_max { divide start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) end_ARG , divide start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) end_ARG } ≥ divide start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) end_ARG start_ARG italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) end_ARG ≥ divide start_ARG 1 end_ARG start_ARG italic_a end_ARG</annotation></semantics></math>. Therefore, <math alttext="p^{i+1,4}(u,v_{1})r(u,v_{1})\leq p^{i+1,4}(u,v_{2})r(u,v_{2})" class="ltx_Math" display="inline" id="A1.I1.ix2.p1.3.m3.12"><semantics id="A1.I1.ix2.p1.3.m3.12a"><mrow id="A1.I1.ix2.p1.3.m3.12.12" xref="A1.I1.ix2.p1.3.m3.12.12.cmml"><mrow id="A1.I1.ix2.p1.3.m3.10.10.2" xref="A1.I1.ix2.p1.3.m3.10.10.2.cmml"><msup id="A1.I1.ix2.p1.3.m3.10.10.2.4" xref="A1.I1.ix2.p1.3.m3.10.10.2.4.cmml"><mi id="A1.I1.ix2.p1.3.m3.10.10.2.4.2" xref="A1.I1.ix2.p1.3.m3.10.10.2.4.2.cmml">p</mi><mrow id="A1.I1.ix2.p1.3.m3.2.2.2.2" xref="A1.I1.ix2.p1.3.m3.2.2.2.3.cmml"><mrow id="A1.I1.ix2.p1.3.m3.2.2.2.2.1" xref="A1.I1.ix2.p1.3.m3.2.2.2.2.1.cmml"><mi id="A1.I1.ix2.p1.3.m3.2.2.2.2.1.2" xref="A1.I1.ix2.p1.3.m3.2.2.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix2.p1.3.m3.2.2.2.2.1.1" xref="A1.I1.ix2.p1.3.m3.2.2.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix2.p1.3.m3.2.2.2.2.1.3" xref="A1.I1.ix2.p1.3.m3.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix2.p1.3.m3.2.2.2.2.2" xref="A1.I1.ix2.p1.3.m3.2.2.2.3.cmml">,</mo><mn id="A1.I1.ix2.p1.3.m3.1.1.1.1" xref="A1.I1.ix2.p1.3.m3.1.1.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix2.p1.3.m3.10.10.2.3" xref="A1.I1.ix2.p1.3.m3.10.10.2.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.3.m3.9.9.1.1.1" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.2.cmml"><mo id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.2" stretchy="false" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.2.cmml">(</mo><mi id="A1.I1.ix2.p1.3.m3.5.5" xref="A1.I1.ix2.p1.3.m3.5.5.cmml">u</mi><mo id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.3" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.2.cmml">,</mo><msub id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.cmml"><mi id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.2" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.3" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.4" stretchy="false" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.2.cmml">)</mo></mrow><mo id="A1.I1.ix2.p1.3.m3.10.10.2.3a" xref="A1.I1.ix2.p1.3.m3.10.10.2.3.cmml">⁢</mo><mi id="A1.I1.ix2.p1.3.m3.10.10.2.5" xref="A1.I1.ix2.p1.3.m3.10.10.2.5.cmml">r</mi><mo id="A1.I1.ix2.p1.3.m3.10.10.2.3b" xref="A1.I1.ix2.p1.3.m3.10.10.2.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.3.m3.10.10.2.2.1" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.2.cmml"><mo id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.2" stretchy="false" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.2.cmml">(</mo><mi id="A1.I1.ix2.p1.3.m3.6.6" xref="A1.I1.ix2.p1.3.m3.6.6.cmml">u</mi><mo id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.3" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.2.cmml">,</mo><msub id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.cmml"><mi id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.2" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.3" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.4" stretchy="false" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.2.cmml">)</mo></mrow></mrow><mo id="A1.I1.ix2.p1.3.m3.12.12.5" xref="A1.I1.ix2.p1.3.m3.12.12.5.cmml">≤</mo><mrow id="A1.I1.ix2.p1.3.m3.12.12.4" xref="A1.I1.ix2.p1.3.m3.12.12.4.cmml"><msup id="A1.I1.ix2.p1.3.m3.12.12.4.4" xref="A1.I1.ix2.p1.3.m3.12.12.4.4.cmml"><mi id="A1.I1.ix2.p1.3.m3.12.12.4.4.2" xref="A1.I1.ix2.p1.3.m3.12.12.4.4.2.cmml">p</mi><mrow id="A1.I1.ix2.p1.3.m3.4.4.2.2" xref="A1.I1.ix2.p1.3.m3.4.4.2.3.cmml"><mrow id="A1.I1.ix2.p1.3.m3.4.4.2.2.1" xref="A1.I1.ix2.p1.3.m3.4.4.2.2.1.cmml"><mi id="A1.I1.ix2.p1.3.m3.4.4.2.2.1.2" xref="A1.I1.ix2.p1.3.m3.4.4.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix2.p1.3.m3.4.4.2.2.1.1" xref="A1.I1.ix2.p1.3.m3.4.4.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix2.p1.3.m3.4.4.2.2.1.3" xref="A1.I1.ix2.p1.3.m3.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix2.p1.3.m3.4.4.2.2.2" xref="A1.I1.ix2.p1.3.m3.4.4.2.3.cmml">,</mo><mn id="A1.I1.ix2.p1.3.m3.3.3.1.1" xref="A1.I1.ix2.p1.3.m3.3.3.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix2.p1.3.m3.12.12.4.3" xref="A1.I1.ix2.p1.3.m3.12.12.4.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.3.m3.11.11.3.1.1" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.2.cmml"><mo id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.2" stretchy="false" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.2.cmml">(</mo><mi id="A1.I1.ix2.p1.3.m3.7.7" xref="A1.I1.ix2.p1.3.m3.7.7.cmml">u</mi><mo id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.3" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.2.cmml">,</mo><msub id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.cmml"><mi id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.2" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.3" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.4" stretchy="false" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.2.cmml">)</mo></mrow><mo id="A1.I1.ix2.p1.3.m3.12.12.4.3a" xref="A1.I1.ix2.p1.3.m3.12.12.4.3.cmml">⁢</mo><mi id="A1.I1.ix2.p1.3.m3.12.12.4.5" xref="A1.I1.ix2.p1.3.m3.12.12.4.5.cmml">r</mi><mo id="A1.I1.ix2.p1.3.m3.12.12.4.3b" xref="A1.I1.ix2.p1.3.m3.12.12.4.3.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.3.m3.12.12.4.2.1" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.2.cmml"><mo id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.2" stretchy="false" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.2.cmml">(</mo><mi id="A1.I1.ix2.p1.3.m3.8.8" xref="A1.I1.ix2.p1.3.m3.8.8.cmml">u</mi><mo id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.3" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.2.cmml">,</mo><msub id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.cmml"><mi id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.2" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.3" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.4" stretchy="false" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix2.p1.3.m3.12b"><apply id="A1.I1.ix2.p1.3.m3.12.12.cmml" xref="A1.I1.ix2.p1.3.m3.12.12"><leq id="A1.I1.ix2.p1.3.m3.12.12.5.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.5"></leq><apply id="A1.I1.ix2.p1.3.m3.10.10.2.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2"><times id="A1.I1.ix2.p1.3.m3.10.10.2.3.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.3"></times><apply id="A1.I1.ix2.p1.3.m3.10.10.2.4.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.4"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.3.m3.10.10.2.4.1.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.4">superscript</csymbol><ci id="A1.I1.ix2.p1.3.m3.10.10.2.4.2.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.4.2">𝑝</ci><list id="A1.I1.ix2.p1.3.m3.2.2.2.3.cmml" xref="A1.I1.ix2.p1.3.m3.2.2.2.2"><apply id="A1.I1.ix2.p1.3.m3.2.2.2.2.1.cmml" xref="A1.I1.ix2.p1.3.m3.2.2.2.2.1"><plus id="A1.I1.ix2.p1.3.m3.2.2.2.2.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.2.2.2.2.1.1"></plus><ci id="A1.I1.ix2.p1.3.m3.2.2.2.2.1.2.cmml" xref="A1.I1.ix2.p1.3.m3.2.2.2.2.1.2">𝑖</ci><cn id="A1.I1.ix2.p1.3.m3.2.2.2.2.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.3.m3.2.2.2.2.1.3">1</cn></apply><cn id="A1.I1.ix2.p1.3.m3.1.1.1.1.cmml" type="integer" xref="A1.I1.ix2.p1.3.m3.1.1.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix2.p1.3.m3.9.9.1.1.2.cmml" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.1"><ci id="A1.I1.ix2.p1.3.m3.5.5.cmml" xref="A1.I1.ix2.p1.3.m3.5.5">𝑢</ci><apply id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.2.cmml" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.3.m3.9.9.1.1.1.1.3">1</cn></apply></interval><ci id="A1.I1.ix2.p1.3.m3.10.10.2.5.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.5">𝑟</ci><interval closure="open" id="A1.I1.ix2.p1.3.m3.10.10.2.2.2.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.1"><ci id="A1.I1.ix2.p1.3.m3.6.6.cmml" xref="A1.I1.ix2.p1.3.m3.6.6">𝑢</ci><apply id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.2.cmml" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.3.m3.10.10.2.2.1.1.3">1</cn></apply></interval></apply><apply id="A1.I1.ix2.p1.3.m3.12.12.4.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4"><times id="A1.I1.ix2.p1.3.m3.12.12.4.3.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.3"></times><apply id="A1.I1.ix2.p1.3.m3.12.12.4.4.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.4"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.3.m3.12.12.4.4.1.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.4">superscript</csymbol><ci id="A1.I1.ix2.p1.3.m3.12.12.4.4.2.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.4.2">𝑝</ci><list id="A1.I1.ix2.p1.3.m3.4.4.2.3.cmml" xref="A1.I1.ix2.p1.3.m3.4.4.2.2"><apply id="A1.I1.ix2.p1.3.m3.4.4.2.2.1.cmml" xref="A1.I1.ix2.p1.3.m3.4.4.2.2.1"><plus id="A1.I1.ix2.p1.3.m3.4.4.2.2.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.4.4.2.2.1.1"></plus><ci id="A1.I1.ix2.p1.3.m3.4.4.2.2.1.2.cmml" xref="A1.I1.ix2.p1.3.m3.4.4.2.2.1.2">𝑖</ci><cn id="A1.I1.ix2.p1.3.m3.4.4.2.2.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.3.m3.4.4.2.2.1.3">1</cn></apply><cn id="A1.I1.ix2.p1.3.m3.3.3.1.1.cmml" type="integer" xref="A1.I1.ix2.p1.3.m3.3.3.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix2.p1.3.m3.11.11.3.1.2.cmml" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.1"><ci id="A1.I1.ix2.p1.3.m3.7.7.cmml" xref="A1.I1.ix2.p1.3.m3.7.7">𝑢</ci><apply id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.2.cmml" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.3.m3.11.11.3.1.1.1.3">2</cn></apply></interval><ci id="A1.I1.ix2.p1.3.m3.12.12.4.5.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.5">𝑟</ci><interval closure="open" id="A1.I1.ix2.p1.3.m3.12.12.4.2.2.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.1"><ci id="A1.I1.ix2.p1.3.m3.8.8.cmml" xref="A1.I1.ix2.p1.3.m3.8.8">𝑢</ci><apply id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.1.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.2.cmml" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.3.m3.12.12.4.2.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix2.p1.3.m3.12c">p^{i+1,4}(u,v_{1})r(u,v_{1})\leq p^{i+1,4}(u,v_{2})r(u,v_{2})</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix2.p1.3.m3.12d">italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) ≤ italic_p start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) italic_r ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math>, which is exactly <math alttext="w^{i+1,4}(u,v_{1})\leq w^{i+1,4}(u,v_{2})" class="ltx_Math" display="inline" id="A1.I1.ix2.p1.4.m4.8"><semantics id="A1.I1.ix2.p1.4.m4.8a"><mrow id="A1.I1.ix2.p1.4.m4.8.8" xref="A1.I1.ix2.p1.4.m4.8.8.cmml"><mrow id="A1.I1.ix2.p1.4.m4.7.7.1" xref="A1.I1.ix2.p1.4.m4.7.7.1.cmml"><msup id="A1.I1.ix2.p1.4.m4.7.7.1.3" xref="A1.I1.ix2.p1.4.m4.7.7.1.3.cmml"><mi id="A1.I1.ix2.p1.4.m4.7.7.1.3.2" xref="A1.I1.ix2.p1.4.m4.7.7.1.3.2.cmml">w</mi><mrow id="A1.I1.ix2.p1.4.m4.2.2.2.2" xref="A1.I1.ix2.p1.4.m4.2.2.2.3.cmml"><mrow id="A1.I1.ix2.p1.4.m4.2.2.2.2.1" xref="A1.I1.ix2.p1.4.m4.2.2.2.2.1.cmml"><mi id="A1.I1.ix2.p1.4.m4.2.2.2.2.1.2" xref="A1.I1.ix2.p1.4.m4.2.2.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix2.p1.4.m4.2.2.2.2.1.1" xref="A1.I1.ix2.p1.4.m4.2.2.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix2.p1.4.m4.2.2.2.2.1.3" xref="A1.I1.ix2.p1.4.m4.2.2.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix2.p1.4.m4.2.2.2.2.2" xref="A1.I1.ix2.p1.4.m4.2.2.2.3.cmml">,</mo><mn id="A1.I1.ix2.p1.4.m4.1.1.1.1" xref="A1.I1.ix2.p1.4.m4.1.1.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix2.p1.4.m4.7.7.1.2" xref="A1.I1.ix2.p1.4.m4.7.7.1.2.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.4.m4.7.7.1.1.1" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.2.cmml"><mo id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.2" stretchy="false" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.2.cmml">(</mo><mi id="A1.I1.ix2.p1.4.m4.5.5" xref="A1.I1.ix2.p1.4.m4.5.5.cmml">u</mi><mo id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.3" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.2.cmml">,</mo><msub id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.cmml"><mi id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.2" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.3" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.3.cmml">1</mn></msub><mo id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.4" stretchy="false" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.2.cmml">)</mo></mrow></mrow><mo id="A1.I1.ix2.p1.4.m4.8.8.3" xref="A1.I1.ix2.p1.4.m4.8.8.3.cmml">≤</mo><mrow id="A1.I1.ix2.p1.4.m4.8.8.2" xref="A1.I1.ix2.p1.4.m4.8.8.2.cmml"><msup id="A1.I1.ix2.p1.4.m4.8.8.2.3" xref="A1.I1.ix2.p1.4.m4.8.8.2.3.cmml"><mi id="A1.I1.ix2.p1.4.m4.8.8.2.3.2" xref="A1.I1.ix2.p1.4.m4.8.8.2.3.2.cmml">w</mi><mrow id="A1.I1.ix2.p1.4.m4.4.4.2.2" xref="A1.I1.ix2.p1.4.m4.4.4.2.3.cmml"><mrow id="A1.I1.ix2.p1.4.m4.4.4.2.2.1" xref="A1.I1.ix2.p1.4.m4.4.4.2.2.1.cmml"><mi id="A1.I1.ix2.p1.4.m4.4.4.2.2.1.2" xref="A1.I1.ix2.p1.4.m4.4.4.2.2.1.2.cmml">i</mi><mo id="A1.I1.ix2.p1.4.m4.4.4.2.2.1.1" xref="A1.I1.ix2.p1.4.m4.4.4.2.2.1.1.cmml">+</mo><mn id="A1.I1.ix2.p1.4.m4.4.4.2.2.1.3" xref="A1.I1.ix2.p1.4.m4.4.4.2.2.1.3.cmml">1</mn></mrow><mo id="A1.I1.ix2.p1.4.m4.4.4.2.2.2" xref="A1.I1.ix2.p1.4.m4.4.4.2.3.cmml">,</mo><mn id="A1.I1.ix2.p1.4.m4.3.3.1.1" xref="A1.I1.ix2.p1.4.m4.3.3.1.1.cmml">4</mn></mrow></msup><mo id="A1.I1.ix2.p1.4.m4.8.8.2.2" xref="A1.I1.ix2.p1.4.m4.8.8.2.2.cmml">⁢</mo><mrow id="A1.I1.ix2.p1.4.m4.8.8.2.1.1" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.2.cmml"><mo id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.2" stretchy="false" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.2.cmml">(</mo><mi id="A1.I1.ix2.p1.4.m4.6.6" xref="A1.I1.ix2.p1.4.m4.6.6.cmml">u</mi><mo id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.3" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.2.cmml">,</mo><msub id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.cmml"><mi id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.2" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.2.cmml">v</mi><mn id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.3" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.3.cmml">2</mn></msub><mo id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.4" stretchy="false" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.I1.ix2.p1.4.m4.8b"><apply id="A1.I1.ix2.p1.4.m4.8.8.cmml" xref="A1.I1.ix2.p1.4.m4.8.8"><leq id="A1.I1.ix2.p1.4.m4.8.8.3.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.3"></leq><apply id="A1.I1.ix2.p1.4.m4.7.7.1.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1"><times id="A1.I1.ix2.p1.4.m4.7.7.1.2.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1.2"></times><apply id="A1.I1.ix2.p1.4.m4.7.7.1.3.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1.3"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.4.m4.7.7.1.3.1.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1.3">superscript</csymbol><ci id="A1.I1.ix2.p1.4.m4.7.7.1.3.2.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1.3.2">𝑤</ci><list id="A1.I1.ix2.p1.4.m4.2.2.2.3.cmml" xref="A1.I1.ix2.p1.4.m4.2.2.2.2"><apply id="A1.I1.ix2.p1.4.m4.2.2.2.2.1.cmml" xref="A1.I1.ix2.p1.4.m4.2.2.2.2.1"><plus id="A1.I1.ix2.p1.4.m4.2.2.2.2.1.1.cmml" xref="A1.I1.ix2.p1.4.m4.2.2.2.2.1.1"></plus><ci id="A1.I1.ix2.p1.4.m4.2.2.2.2.1.2.cmml" xref="A1.I1.ix2.p1.4.m4.2.2.2.2.1.2">𝑖</ci><cn id="A1.I1.ix2.p1.4.m4.2.2.2.2.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.4.m4.2.2.2.2.1.3">1</cn></apply><cn id="A1.I1.ix2.p1.4.m4.1.1.1.1.cmml" type="integer" xref="A1.I1.ix2.p1.4.m4.1.1.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix2.p1.4.m4.7.7.1.1.2.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.1"><ci id="A1.I1.ix2.p1.4.m4.5.5.cmml" xref="A1.I1.ix2.p1.4.m4.5.5">𝑢</ci><apply id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.1.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.2.cmml" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.4.m4.7.7.1.1.1.1.3">1</cn></apply></interval></apply><apply id="A1.I1.ix2.p1.4.m4.8.8.2.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2"><times id="A1.I1.ix2.p1.4.m4.8.8.2.2.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2.2"></times><apply id="A1.I1.ix2.p1.4.m4.8.8.2.3.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2.3"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.4.m4.8.8.2.3.1.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2.3">superscript</csymbol><ci id="A1.I1.ix2.p1.4.m4.8.8.2.3.2.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2.3.2">𝑤</ci><list id="A1.I1.ix2.p1.4.m4.4.4.2.3.cmml" xref="A1.I1.ix2.p1.4.m4.4.4.2.2"><apply id="A1.I1.ix2.p1.4.m4.4.4.2.2.1.cmml" xref="A1.I1.ix2.p1.4.m4.4.4.2.2.1"><plus id="A1.I1.ix2.p1.4.m4.4.4.2.2.1.1.cmml" xref="A1.I1.ix2.p1.4.m4.4.4.2.2.1.1"></plus><ci id="A1.I1.ix2.p1.4.m4.4.4.2.2.1.2.cmml" xref="A1.I1.ix2.p1.4.m4.4.4.2.2.1.2">𝑖</ci><cn id="A1.I1.ix2.p1.4.m4.4.4.2.2.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.4.m4.4.4.2.2.1.3">1</cn></apply><cn id="A1.I1.ix2.p1.4.m4.3.3.1.1.cmml" type="integer" xref="A1.I1.ix2.p1.4.m4.3.3.1.1">4</cn></list></apply><interval closure="open" id="A1.I1.ix2.p1.4.m4.8.8.2.1.2.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.1"><ci id="A1.I1.ix2.p1.4.m4.6.6.cmml" xref="A1.I1.ix2.p1.4.m4.6.6">𝑢</ci><apply id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1"><csymbol cd="ambiguous" id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.1.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1">subscript</csymbol><ci id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.2.cmml" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.2">𝑣</ci><cn id="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.3.cmml" type="integer" xref="A1.I1.ix2.p1.4.m4.8.8.2.1.1.1.3">2</cn></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.I1.ix2.p1.4.m4.8c">w^{i+1,4}(u,v_{1})\leq w^{i+1,4}(u,v_{2})</annotation><annotation encoding="application/x-llamapun" id="A1.I1.ix2.p1.4.m4.8d">italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) ≤ italic_w start_POSTSUPERSCRIPT italic_i + 1 , 4 end_POSTSUPERSCRIPT ( italic_u , italic_v start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math>.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="A1.SS3.2.p2">
<p class="ltx_p" id="A1.SS3.2.p2.1">Now we finish the whole proof.
∎</p>
</div>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="A1.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.4 </span>Implementation Details of Prerank / Rank Model in Simulated Multi-Stage Pipeline</h3>
<div class="ltx_para" id="A1.SS4.p1">
<p class="ltx_p" id="A1.SS4.p1.1">The settings of prerank / rank model in simulated multi-stage pipeline is listed in Table <a class="ltx_ref" href="https://arxiv.org/html/2405.04844v1#A1.T7" title="Table 7 ‣ A.4 Implementation Details of Prerank / Rank Model in Simulated Multi-Stage Pipeline ‣ Appendix A Appendix ‣ Full Stage Learning to Rank: A Unified Framework for Multi-Stage Systems"><span class="ltx_text ltx_ref_tag">7</span></a>. The label in the multi-stage pipeline equals 1 when: play_duration &gt;= video_duration if video_duration &lt;= 7000, or play_duration &gt; 7000 if video_duration &gt; 7000.</p>
</div>
<figure class="ltx_table" id="A1.T7">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">Table 7: </span>Settings of prerank / rank in simulated pipeline.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="A1.T7.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="A1.T7.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_r ltx_border_tt ltx_border_t" id="A1.T7.1.1.1.1"></th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t" id="A1.T7.1.1.1.2">prerank</td>
<td class="ltx_td ltx_align_center ltx_border_tt ltx_border_t" id="A1.T7.1.1.1.3">rank</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.2.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A1.T7.1.2.2.1">model</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A1.T7.1.2.2.2">User DNN &amp; Item DNN</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.1.2.2.3">DNN</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.3.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A1.T7.1.3.3.1">hidden layers</th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="A1.T7.1.3.3.2">[256, 128]</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A1.T7.1.3.3.3">[1024, 512, 256]</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.4.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A1.T7.1.4.4.1">optimizer</th>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="A1.T7.1.4.4.2">Adam</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.5.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="A1.T7.1.5.5.1">learning rate</th>
<td class="ltx_td ltx_align_center ltx_border_t" colspan="2" id="A1.T7.1.5.5.2">0.001</td>
</tr>
<tr class="ltx_tr" id="A1.T7.1.6.6">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_r ltx_border_t" id="A1.T7.1.6.6.1">batch size</th>
<td class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t" colspan="2" id="A1.T7.1.6.6.2">8192</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="A1.SS4.p2">
<p class="ltx_p" id="A1.SS4.p2.1">In a static request, the following steps are executed in sequence:</p>
<ul class="ltx_itemize" id="A1.I2">
<li class="ltx_item" id="A1.I2.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="A1.I2.ix1.1.1.1">Step 1</span></span>
<div class="ltx_para" id="A1.I2.ix1.p1">
<p class="ltx_p" id="A1.I2.ix1.p1.1">For each user, 1,000 items are randomly selected from the prerank candidate pools as the <span class="ltx_text ltx_font_bold" id="A1.I2.ix1.p1.1.1">simulated prerank candidates</span>.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="A1.I2.ix2.1.1.1">Step 2</span></span>
<div class="ltx_para" id="A1.I2.ix2.p1">
<p class="ltx_p" id="A1.I2.ix2.p1.1">For each user, the top 200 items with highest prerank scores in simulated prerank candidates are selected as the <span class="ltx_text ltx_font_bold" id="A1.I2.ix2.p1.1.1">simulated rank candidates</span>, while the bottom 200 items with lowest scores in simulated prerank candidates are regarded as the <span class="ltx_text ltx_font_bold" id="A1.I2.ix2.p1.1.2">simulated prerank negative samples</span>.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="A1.I2.ix3.1.1.1">Step 3</span></span>
<div class="ltx_para" id="A1.I2.ix3.p1">
<p class="ltx_p" id="A1.I2.ix3.p1.1">For each user, the top 50 items with highest rank scores in simulated rank candidates are selected as the <span class="ltx_text ltx_font_bold" id="A1.I2.ix3.p1.1.1">simulated exposed candidates</span>, while the bottom 50 items with lowest scores in simulated rank candidates are regarded as the <span class="ltx_text ltx_font_bold" id="A1.I2.ix3.p1.1.2">simulated rank negative samples</span>.</p>
</div>
</li>
<li class="ltx_item" id="A1.I2.ix4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="A1.I2.ix4.1.1.1">Step 4</span></span>
<div class="ltx_para" id="A1.I2.ix4.p1">
<p class="ltx_p" id="A1.I2.ix4.p1.1">For each user, items with positive labels are regarded as the <span class="ltx_text ltx_font_bold" id="A1.I2.ix4.p1.1.1">simulated exposed positive samples</span>, while items with negative labels are regarded as the <span class="ltx_text ltx_font_bold" id="A1.I2.ix4.p1.1.2">simulated exposed negative samples</span>.</p>
</div>
</li>
</ul>
</div>
</section>
<section class="ltx_subsection ltx_indent_first" id="A1.SS5">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">A.5 </span>Data Preparation for Training and Evaluation</h3>
<div class="ltx_para" id="A1.SS5.p1">
<p class="ltx_p" id="A1.SS5.p1.1">Most of the recommendation models are training on the exposed samples, e.g., the retrieval models are trained on the exposed positive samples with randomly sampled negative samples, the rank models are trained on the exposed samples. In our simulated multi-stage recommendation pipeline, models should be trained on the simulated exposed samples. From this perspective, the prerank / rank model in the simulated multi-stage pipeline is not aligned with the real settings. However, it is acceptable since we do not mind the simulated rank model is more powerful in the simulated multi-stage pipeline. The simulated exposed samples are partially randomly generated from the simulated multi-stage pipeline, which may cause difficulty in splitting the dataset for training, validation, and testing. In order to avoid label leakage, we follow the following steps to generate simulated training data:</p>
<ul class="ltx_itemize" id="A1.I3">
<li class="ltx_item" id="A1.I3.ix1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="A1.I3.ix1.1.1.1">Step 1</span></span>
<div class="ltx_para" id="A1.I3.ix1.p1">
<p class="ltx_p" id="A1.I3.ix1.p1.1">Generate a static request based on the simulated prerank / rank model and the original prerank candidate pool. The simulated exposed positive samples are reserved as positive samples in the test set, and removed from the original prerank candidate pool.</p>
</div>
</li>
<li class="ltx_item" id="A1.I3.ix2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="A1.I3.ix2.1.1.1">Step 2</span></span>
<div class="ltx_para" id="A1.I3.ix2.p1">
<p class="ltx_p" id="A1.I3.ix2.p1.1">Generate a static request based on the simulated prerank / rank model and the prerank candidate pool without the positive samples in the test set. The newly simulated exposed positive samples are reserved as positive samples in the validation set, and removed from the prerank candidate pool.</p>
</div>
</li>
<li class="ltx_item" id="A1.I3.ix3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item"><span class="ltx_text ltx_font_bold" id="A1.I3.ix3.1.1.1">Step 3</span></span>
<div class="ltx_para" id="A1.I3.ix3.p1">
<p class="ltx_p" id="A1.I3.ix3.p1.1">Generate multiple static requests based on the simulated prerank / rank model and the prerank candidate pool without the positive samples in the validation and test set. Samples of each request can be utilized as training samples.</p>
</div>
</li>
</ul>
</div>
<div class="ltx_para" id="A1.SS5.p2">
<p class="ltx_p" id="A1.SS5.p2.1">Complete separation of the train, validation, and test set is accomplished by the steps above. In our request-based training setting, the training request is set to a random request. Exposed samples and multi-stage samples are randomly sampled from the randomly selected request to build multiple pair-wise or single list-wise optimization objectives.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Tue May 14 19:12:55 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
