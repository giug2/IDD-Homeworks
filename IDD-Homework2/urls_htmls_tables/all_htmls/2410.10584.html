<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback</title>
<!--Generated on Mon Oct 14 14:56:38 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2410.10584v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S1" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">1</span> </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S2" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">2</span> </span>Related work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S3" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">3</span> </span>Example and Overview</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S4" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">4</span> </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S4.SS1" title="In 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">4.1</span> </span>Problem Formulation</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S4.SS2" title="In 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">4.2</span> </span>Knowledge Base Editing as State Search</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S4.SS3" title="In 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">4.3</span> </span><span class="ltx_text ltx_markedasmath ltx_font_smallcaps">STACKFEED</span></span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S4.SS3.SSS1" title="In 4.3 STACKFEED ‣ 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">4.3.1</span> </span>Reward Signal</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S4.SS3.SSS2" title="In 4.3 STACKFEED ‣ 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">4.3.2</span> </span>KB Editing Agent</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S5" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">5</span> </span>Evaluating Knowledge Base Editing Quality</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S6" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">6</span> </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S6.SS1" title="In 6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">6.1</span> </span>Baseline</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S6.SS2" title="In 6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">6.2</span> </span>Datasets</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S6.SS2.SSS1" title="In 6.2 Datasets ‣ 6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">6.2.1</span> </span>Incomplete Knowledge Base</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S6.SS2.SSS2" title="In 6.2 Datasets ‣ 6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">6.2.2</span> </span>Incorrect Knowledge Base</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S6.SS3" title="In 6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">6.3</span> </span>Evaluation Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S6.SS4" title="In 6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">6.4</span> </span>System Configurations</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S7" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">7</span> </span>Results</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S7.SS1" title="In 7 Results ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">7.1</span> </span>Completeness and Generalization</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S7.SS2" title="In 7 Results ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">7.2</span> </span><span class="ltx_text ltx_markedasmath ltx_font_smallcaps">STACKFEED</span> makes high quality coherent edits</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#S8" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">8</span> </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#A1" title="In STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text">A</span> </span><span class="ltx_text ltx_font_typewriter">Appendix</span></span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#A1.SS1" title="In Appendix A Appendix ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref"><span class="ltx_text ltx_font_serif">A.1</span> </span>Prompts used in <span class="ltx_text ltx_markedasmath ltx_font_smallcaps">STACKFEED</span></span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.1">\newmdenv</span>
<p class="ltx_p" id="p1.2">[backgroundcolor=gray!10,
linecolor=black,
outerlinewidth=0.5pt,
roundcorner=1mm,
skipabove=skipbelow=font=<span class="ltx_text ltx_font_typewriter" id="p1.2.1">,
]promptbox











































































































































































































































































































































































































































 


















 











<span class="ltx_text" id="p1.2.1.1" lang="en"></span></span></p>
</div>
<h1 class="ltx_title ltx_font_typewriter ltx_title_document">
<span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="id4.id1">STACKFEED</span>: <span class="ltx_text ltx_font_bold" id="id5.id2">S</span>tructured <span class="ltx_text ltx_font_bold" id="id6.id3">T</span>extual <span class="ltx_text ltx_font_bold" id="id7.id4">A</span>ctor-<span class="ltx_text ltx_font_bold" id="id8.id5">C</span>ritic <span class="ltx_text ltx_font_bold" id="id9.id6">K</span>nowledge base editing with <span class="ltx_text ltx_font_bold" id="id10.id7">FEED</span>back</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname"><span class="ltx_text ltx_font_typewriter" id="id11.1.id1">
Naman Gupta  </span><sup class="ltx_sup" id="id12.2.id2"><span class="ltx_text ltx_font_typewriter" id="id12.2.id2.1">1</span></sup><span class="ltx_text ltx_font_typewriter" id="id13.3.id3">  Shashank Kirtania</span><span class="ltx_note ltx_role_footnotemark" id="footnotex1"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_note_type">footnotemark: </span><span class="ltx_tag ltx_tag_note">1</span></span></span></span><span class="ltx_text ltx_font_typewriter" id="id14.4.id4">  </span><sup class="ltx_sup" id="id15.5.id5"><span class="ltx_text ltx_font_typewriter" id="id15.5.id5.1">2</span></sup><span class="ltx_text ltx_font_typewriter" id="id16.6.id6">  Priyanshu Gupta</span><sup class="ltx_sup" id="id17.7.id7"><span class="ltx_text ltx_font_typewriter" id="id17.7.id7.1">2</span></sup><span class="ltx_text ltx_font_typewriter" id="id18.8.id8">  Krishna Kariya</span><sup class="ltx_sup" id="id19.9.id9"><span class="ltx_text ltx_font_typewriter" id="id19.9.id9.1">2</span></sup><span class="ltx_text ltx_font_typewriter" id="id20.10.id10"> </span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id21.11.id11"> </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="id22.12.id12">Sumit Gulwani<sup class="ltx_sup" id="id22.12.id12.1">3</sup></span><span class="ltx_text ltx_font_typewriter" id="id23.13.id13">  </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="id24.14.id14">Arun Iyer<sup class="ltx_sup" id="id24.14.id14.1">1</sup></span><span class="ltx_text ltx_font_typewriter" id="id25.15.id15"> </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="id26.16.id16">Suresh Parthasarathy<sup class="ltx_sup" id="id26.16.id16.1">1</sup></span><span class="ltx_text ltx_font_typewriter" id="id27.17.id17"> </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="id28.18.id18">Arjun Radhakrishna<sup class="ltx_sup" id="id28.18.id18.1">3</sup>
<br class="ltx_break"/></span><span class="ltx_text ltx_font_typewriter" id="id29.19.id19"> </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="id30.20.id20">Sriram K. Rajamani<sup class="ltx_sup" id="id30.20.id20.1">1</sup></span><span class="ltx_text ltx_font_typewriter" id="id31.21.id21">  </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="id32.22.id22">Gustavo Soares<sup class="ltx_sup" id="id32.22.id22.1">3</sup></span><span class="ltx_text ltx_font_typewriter" id="id33.23.id23"> </span>
<br class="ltx_break"/><sup class="ltx_sup" id="id34.24.id24"><span class="ltx_text ltx_font_typewriter" id="id34.24.id24.1">1</span></sup><span class="ltx_text ltx_font_typewriter" id="id35.25.id25">Microsoft Research India, Bengaluru
</span><sup class="ltx_sup" id="id36.26.id26"><span class="ltx_text ltx_font_typewriter" id="id36.26.id26.1">2</span></sup><span class="ltx_text ltx_font_typewriter" id="id37.27.id27">Microsoft, Bengaluru
</span><sup class="ltx_sup" id="id38.28.id28"><span class="ltx_text ltx_font_typewriter" id="id38.28.id28.1">3</span></sup><span class="ltx_text ltx_font_typewriter" id="id39.29.id29">Microsoft, Redmond </span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id40.30.id30">{t-nagupta, t-skirtania, priyansgupta, t-kkariya}@microsoft.com</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="id41.31.id31">{sumitg, ariy, supartha, arradha, sriram, gsoares}@microsoft.com</span>
</span><span class="ltx_author_notes"><span class="ltx_text ltx_font_typewriter" id="id42.32.id1"> Equal contribution.</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id3.2"><span class="ltx_text ltx_font_typewriter" id="id3.2.2" lang="en">Large Language Models (LLMs) often generate incorrect or outdated information, especially in low-resource settings or when dealing with private data. To address this, Retrieval-Augmented Generation (RAG) uses external knowledge bases (KBs), but these can also suffer from inaccuracies. We introduce <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="id3.2.2.1">STACKFEED</span>, a novel <span class="ltx_text ltx_font_bold" id="id3.2.2.2">S</span>tructured <span class="ltx_text ltx_font_bold" id="id3.2.2.3">T</span>extual <span class="ltx_text ltx_font_bold" id="id3.2.2.4">A</span>ctor-<span class="ltx_text ltx_font_bold" id="id3.2.2.5">C</span>ritic <span class="ltx_text ltx_font_bold" id="id3.2.2.6">K</span>nowledge base editing with <span class="ltx_text ltx_font_bold" id="id3.2.2.7">FEED</span>back approach that iteratively refines the KB based on expert feedback using a multi-actor, centralized critic reinforcement learning framework. Each document is assigned to an actor, modeled as a ReACT agent, which performs structured edits based on document-specific targeted instructions from a centralized critic. Experimental results show that <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="id3.2.2.8">STACKFEED</span> significantly improves KB quality and RAG system performance, enhancing accuracy by up to 8% over baselines.</span></p>
</div>
<section class="ltx_section" id="S1" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_section">
<span class="ltx_tag ltx_tag_section"><span class="ltx_text ltx_font_serif" id="S1.1.1.1">1</span> </span>Introduction</h2>
<div class="ltx_para ltx_noindent" id="S1.p1">
<p class="ltx_p" id="S1.p1.1"><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.1">Large Language Models (LLMs) often produce incorrect or outdated information, particularly in low-resource settings or when handling private data. Even if the information provided is accurate, LLMs can generate hallucinated or imaginary content alongside it </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.2.1">(</span><span class="ltx_text ltx_font_typewriter">Maynez et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.3.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib32" title=""><span class="ltx_text ltx_font_typewriter">2020</span></a>; <span class="ltx_text ltx_font_typewriter">Zhou et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.3.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib55" title=""><span class="ltx_text ltx_font_typewriter">2021</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.4.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.5">. A promising solution to address these issues is the integration of retrieval components that extract relevant information from external knowledge sources, known as Retrieval-Augmented Generation (RAG) </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.6.1">(</span><span class="ltx_text ltx_font_typewriter">Chen et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.7.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib6" title=""><span class="ltx_text ltx_font_typewriter">2017</span></a>; <span class="ltx_text ltx_font_typewriter">Khandelwal et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.7.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib24" title=""><span class="ltx_text ltx_font_typewriter">2020</span></a>; <span class="ltx_text ltx_font_typewriter">Guu et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.7.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib17" title=""><span class="ltx_text ltx_font_typewriter">2020</span></a>; <span class="ltx_text ltx_font_typewriter">Izacard et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.7.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib21" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a>; <span class="ltx_text ltx_font_typewriter">Shi et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.7.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib40" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.8.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S1.p1.1.9">. For clarity, we will refer to these external knowledge sources as Knowledge Bases (KBs). However, KBs themselves can suffer from inaccuracies, incompleteness, or outdated content. To address these challenges, there is growing interest in Knowledge Editing (KE) techniques to enhance LLMs with up-to-date and accurate knowledge.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p2">
<p class="ltx_p" id="S1.p2.1"><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.1">Advancements in KE have focused on updating the model’s parameters </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.2.1">(</span><span class="ltx_text ltx_font_typewriter">De Cao et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.3.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib9" title=""><span class="ltx_text ltx_font_typewriter">2021a</span></a>; <span class="ltx_text ltx_font_typewriter">Meng et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.3.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib33" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a>; <a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib34" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.4.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.5">, adding new parameters to model </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.6.1">(</span><span class="ltx_text ltx_font_typewriter">Huang et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.7.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib19" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Yu et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.7.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib53" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.8.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.9">, and holding additional memory </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.10.1">(</span><span class="ltx_text ltx_font_typewriter">Madaan et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.11.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib31" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a>; <span class="ltx_text ltx_font_typewriter">Wang et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.11.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib46" title=""><span class="ltx_text ltx_font_typewriter">2024a</span></a>; <a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib48" title="">b</a><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.12.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.13">. Contrary to approaches that either update model parameters or add new parameters that require white-box access to LLMs, memory-based approaches can work with black-box access to LLMs. In similar line of thought, recently, KE approaches have also focused on refining the KBs themselves </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.14.1">(</span><span class="ltx_text ltx_font_typewriter">Li et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.15.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib28" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.16.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.17">. For example, the method proposed in </span><cite class="ltx_cite ltx_citemacro_citet"><span class="ltx_text ltx_font_typewriter">Li et al.</span> <span class="ltx_text ltx_font_typewriter" id="S1.p2.1.18.1.1.1">(</span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib28" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.19.2.2.1">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.20"> continuously updates KBs with new information, such as the current identity of the British Prime Minister. This approach demonstrates that directly editing the KB is more effective than simply adding new documents, which may coexist with outdated or inaccurate ones. Removing older documents is often not feasible, as only certain sections may be incorrect, while other parts could still provide valuable information for different queries. However, in applications like chatbots or code generation using API documentation, where updated information might not be readily available in document form, expert intervention can be crucial </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.21.1">(</span><span class="ltx_text ltx_font_typewriter">Ramjee et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.22.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib39" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a>; <span class="ltx_text ltx_font_typewriter">Afzal et al.</span><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.22.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib1" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.23.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S1.p2.1.24">. In such cases, expert feedback can be used to directly update the KB with accurate information when the LLM produces erroneous results.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S1.p3">
<p class="ltx_p" id="S1.p3.1"><span class="ltx_text ltx_font_typewriter" id="S1.p3.1.1">To leverage expert or oracle feedback, we propose </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S1.p3.1.2">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S1.p3.1.3">, a </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.p3.1.4">S</span><span class="ltx_text ltx_font_typewriter" id="S1.p3.1.5">tructured </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.p3.1.6">T</span><span class="ltx_text ltx_font_typewriter" id="S1.p3.1.7">extual </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.p3.1.8">A</span><span class="ltx_text ltx_font_typewriter" id="S1.p3.1.9">ctor-</span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.p3.1.10">C</span><span class="ltx_text ltx_font_typewriter" id="S1.p3.1.11">ritic </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.p3.1.12">K</span><span class="ltx_text ltx_font_typewriter" id="S1.p3.1.13">nowledge base editing with </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.p3.1.14">FEED</span><span class="ltx_text ltx_font_typewriter" id="S1.p3.1.15">back technique. Our contributions are as follows:</span></p>
<ol class="ltx_enumerate" id="S1.I1">
<li class="ltx_item" id="S1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="S1.I1.i1.p1">
<p class="ltx_p" id="S1.I1.i1.p1.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.I1.i1.p1.1.1">Introduction of Feedback-Driven KB Editing</span><span class="ltx_text ltx_font_typewriter" id="S1.I1.i1.p1.1.2">: We present </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S1.I1.i1.p1.1.3">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S1.I1.i1.p1.1.4">, a novel framework that refines the KB using structured edits based on expert feedback. This approach allows for direct, document-level updates without requiring access to LLM parameters, making it applicable to both white-box and black-box LLMs.</span></p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="S1.I1.i2.p1">
<p class="ltx_p" id="S1.I1.i2.p1.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.I1.i2.p1.1.1">Multi-Actor, Centralized Critic Architecture</span><span class="ltx_text ltx_font_typewriter" id="S1.I1.i2.p1.1.2">: We design a multi-agent reinforcement learning framework where each actor is responsible for a specific document, and a centralized critic coordinates updates based on a global reward signal. This architecture ensures that document-level edits are consistent and contribute to the overall accuracy of the RAG system.</span></p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="S1.I1.i3.p1">
<p class="ltx_p" id="S1.I1.i3.p1.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.I1.i3.p1.1.1">Parameterized Action Space for Document Editing</span><span class="ltx_text ltx_font_typewriter" id="S1.I1.i3.p1.1.2">: We propose a parameterized action space for each document-specific actor, enabling fine-grained control over edits, additions, and deletions within each document. This structured action space allows the actors to perform precise modifications based on expert feedback, resulting in a refined KB that better supports the RAG system.</span></p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span>
<div class="ltx_para" id="S1.I1.i4.p1">
<p class="ltx_p" id="S1.I1.i4.p1.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.I1.i4.p1.1.1">Definition and Evaluation of KB Characteristics</span><span class="ltx_text ltx_font_typewriter" id="S1.I1.i4.p1.1.2">: We define desirable characteristics for KB refinement, including coherence, completeness, and generalizability, and introduce corresponding metrics to quantitatively assess these properties. These metrics provide a systematic way to measure the effectiveness of KB updates.</span></p>
</div>
</li>
<li class="ltx_item" id="S1.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span>
<div class="ltx_para ltx_noindent" id="S1.I1.i5.p1">
<p class="ltx_p" id="S1.I1.i5.p1.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S1.I1.i5.p1.1.1">Empirical Evaluation and Performance Gains</span><span class="ltx_text ltx_font_typewriter" id="S1.I1.i5.p1.1.2">: We demonstrate that </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S1.I1.i5.p1.1.3">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S1.I1.i5.p1.1.4"> significantly improves the accuracy and reliability of the QA system in a variety of settings. Through extensive experiments, we show that incorporating expert feedback into document-level edits leads to a substantial reduction in error rates and enhances the KB’s ability to support accurate answer generation.</span></p>
</div>
</li>
</ol>
</div>
<div class="ltx_para ltx_noindent" id="S1.p4">
<p class="ltx_p" id="S1.p4.1"><span class="ltx_text ltx_font_typewriter" id="S1.p4.1.1">This paper is organized as follows: Section </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S2" title="2 Related work ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">2</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p4.1.2"> reviews relevant prior work, while Section </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S3" title="3 Example and Overview ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">3</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p4.1.3"> presents an illustrative example to introduce and explain our approach. Section </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S4" title="4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">4</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p4.1.4"> details the proposed methodology, and Section </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S5" title="5 Evaluating Knowledge Base Editing Quality ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">5</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p4.1.5"> outlines the desired characteristics for the edited KB along with metrics for evaluation. Section </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S6" title="6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">6</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p4.1.6"> describes the experimental setup, and finally, Section </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S7" title="7 Results ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">7</span></a><span class="ltx_text ltx_font_typewriter" id="S1.p4.1.7"> reports the results.</span></p>
</div>
</section>
<section class="ltx_section" id="S2" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_section">
<span class="ltx_tag ltx_tag_section"><span class="ltx_text ltx_font_serif" id="S2.1.1.1">2</span> </span>Related work</h2>
<div class="ltx_para ltx_noindent" id="S2.p1">
<p class="ltx_p" id="S2.p1.1"><span class="ltx_text ltx_font_typewriter" id="S2.p1.1.1">The </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S2.p1.1.2">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S2.p1.1.3"> framework addresses a key limitation of current RAG systems: the inability to dynamically update Knowledge Bases (KBs) without retraining or altering model parameters. Our work draws from research in Retrieval-Augmented Generation (RAG), Continual Learning, Model Editing, and feedback-driven prompt optimization, incorporating insights from Multi-Agent Reinforcement Learning (MARL) to propose an effective solution for KB editing.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p2">
<p class="ltx_p" id="S2.p2.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S2.p2.1.1">Retrieval Augmented Generation (RAG):</span><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.2"> RAG systems enhance LMs by retrieving relevant knowledge from a KB based on the input query and appending it to the context, thereby addressing the limitations of standalone LMs that lack sufficient context and produce inaccurate answers </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.3.1">(</span><span class="ltx_text ltx_font_typewriter">Chen et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib6" title=""><span class="ltx_text ltx_font_typewriter">2017</span></a>; <span class="ltx_text ltx_font_typewriter">Khandelwal et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib24" title=""><span class="ltx_text ltx_font_typewriter">2020</span></a>; <span class="ltx_text ltx_font_typewriter">Guu et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib17" title=""><span class="ltx_text ltx_font_typewriter">2020</span></a>; <span class="ltx_text ltx_font_typewriter">Izacard et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib21" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a>; <span class="ltx_text ltx_font_typewriter">Shi et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib40" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.5.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.6">. These systems dynamically construct contexts from unstructured KBs without modifying the LM’s internal parameters. </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S2.p2.1.7">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S2.p2.1.8"> further enhances RAG systems by refining the KB itself based on feedback, ensuring more accurate and up-to-date information.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p3">
<p class="ltx_p" id="S2.p3.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S2.p3.1.1">Continual Learning:</span><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.2"> Continual Learning (CL) methods address the challenge of updating LMs in non-stationary environments by ensuring that new information is learned without forgetting previously acquired knowledge </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.3.1">(</span><span class="ltx_text ltx_font_typewriter">Jin et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib22" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a>; <span class="ltx_text ltx_font_typewriter">Xu et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib51" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Padmanabhan et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib36" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Akyürek et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib2" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.5.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.6">. These methods are often computationally intensive and require large-scale retraining, making them less suitable for scenarios requiring frequent updates or minimal computational resources. </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S2.p3.1.7">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S2.p3.1.8">, by contrast, leverages expert feedback to perform direct edits to the KB, avoiding the need for extensive retraining.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p4">
<p class="ltx_p" id="S2.p4.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S2.p4.1.1">Knowledge Editing:</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.2"> Knowledge Editing approaches fall into two categories: </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S2.p4.1.3">Model Editing</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.4">, which modifies the LM parameters directly, and </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S2.p4.1.5">Input Editing</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.6">, which updates the knowledge supplied to the model. While Model Editing efficiently alters specific facts using specialized secondary models or altering parameters </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.7.1">(</span><span class="ltx_text ltx_font_typewriter">De Cao et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.8.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib10" title=""><span class="ltx_text ltx_font_typewriter">2021b</span></a>; <span class="ltx_text ltx_font_typewriter">Meng et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.8.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib34" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.9.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.10">, it struggles to ensure consistent updates across contexts </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.11.1">(</span><span class="ltx_text ltx_font_typewriter">Onoe et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.12.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib35" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Hua et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.12.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib18" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.13.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.14">. In contrast, Input Editing modifies the KB itself, enabling updates to be reflected in outputs without changing model parameters </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.15.1">(</span><span class="ltx_text ltx_font_typewriter">Madaan et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.16.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib31" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a>; <span class="ltx_text ltx_font_typewriter">Wang et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.16.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib46" title=""><span class="ltx_text ltx_font_typewriter">2024a</span></a>; <a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib48" title="">b</a>; <span class="ltx_text ltx_font_typewriter">Li et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.16.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib28" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.17.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.18">. </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S2.p4.1.19">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S2.p4.1.20"> builds on input editing techniques by leveraging expert feedback to refine the KB systematically, ensuring more accurate and consistent responses.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p5">
<p class="ltx_p" id="S2.p5.2"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S2.p5.2.1">Prompt Optimization:</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.2"> With the advent of LMs, some recent works approximate gradients in text-based environments using LMs </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.3.1">(</span><span class="ltx_text ltx_font_typewriter">Pryzant et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib38" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Wang et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib49" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Juneja et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib23" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a>; <span class="ltx_text ltx_font_typewriter">Gupta et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib16" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.5.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.6"> for optimizing task prompts. </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S2.p5.2.7">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.8"> is inspired by these approaches and generates textual reflections, similar to MetaReflection </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.9.1">(</span><span class="ltx_text ltx_font_typewriter">Gupta et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.10.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib16" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.11.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.12"> and </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text ltx_font_typewriter">Shinn et al.</span> <span class="ltx_text ltx_font_typewriter" id="S2.p5.2.13.1.1.1">(</span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib41" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.14.2.2.1">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.15">, as proxies for gradients. It provides actionable guidance for document updates without the need for differentiable models. Additionally, </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S2.p5.2.16">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.17"> adopts clustering strategies for feedback aggregation from works like UniPrompt </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.18.1">(</span><span class="ltx_text ltx_font_typewriter">Juneja et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.19.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib23" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.20.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p5.2.21">- ensuring that actors receive coherent and non-redundant instructions.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p6">
<p class="ltx_p" id="S2.p6.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S2.p6.1.1">Multi-Agent Reinforcement Learning (MARL):</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.2"> Multi-agent reinforcement learning (MARL) has been applied to various domains, with early research focusing on tabular methods </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.3.1">(</span><span class="ltx_text ltx_font_typewriter">Busoniu et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib4" title=""><span class="ltx_text ltx_font_typewriter">2008</span></a>; <span class="ltx_text ltx_font_typewriter">Canese et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib5" title=""><span class="ltx_text ltx_font_typewriter">2021</span></a>; <span class="ltx_text ltx_font_typewriter">Gronauer &amp; Diepold</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib14" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.5.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.6"> and later expanding to deep learning techniques for high-dimensional inputs </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.7.1">(</span><span class="ltx_text ltx_font_typewriter">Tampuu et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.8.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib44" title=""><span class="ltx_text ltx_font_typewriter">2017</span></a>; <span class="ltx_text ltx_font_typewriter">Leibo et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.8.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib27" title=""><span class="ltx_text ltx_font_typewriter">2017</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.9.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.10">. Studies have explored independent Q-learning </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.11.1">(</span><span class="ltx_text ltx_font_typewriter">Tan</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.12.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib45" title=""><span class="ltx_text ltx_font_typewriter">1993</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.13.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.14">, agent communication </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.15.1">(</span><span class="ltx_text ltx_font_typewriter">Foerster et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.16.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib11" title=""><span class="ltx_text ltx_font_typewriter">2016</span></a>; <span class="ltx_text ltx_font_typewriter">Das et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.16.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib8" title=""><span class="ltx_text ltx_font_typewriter">2017</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.17.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.18">, and centralized training with decentralized execution </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.19.1">(</span><span class="ltx_text ltx_font_typewriter">Gupta et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.20.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib15" title=""><span class="ltx_text ltx_font_typewriter">2017</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.21.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.22">. However, most of these approaches do not address the critical challenge of multi-agent credit assignment. Actor-critic methods have been introduced to overcome this limitation by employing centralized critics with decentralized actors  </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.23.1">(</span><span class="ltx_text ltx_font_typewriter">Foerster et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.24.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib13" title=""><span class="ltx_text ltx_font_typewriter">2018</span></a>; <span class="ltx_text ltx_font_typewriter">Iqbal &amp; Sha</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.24.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib20" title=""><span class="ltx_text ltx_font_typewriter">2019</span></a>; <span class="ltx_text ltx_font_typewriter">Wang et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.24.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib50" title=""><span class="ltx_text ltx_font_typewriter">2021</span></a>; <span class="ltx_text ltx_font_typewriter">Chen et al.</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.24.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib7" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.25.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.26">. </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S2.p6.1.27">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S2.p6.1.28"> extends such actor-critic framework to operate directly on textual content, using the centralized critic to decompose feedback into actionable textual gradients for each document-specific actor.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p7">
<p class="ltx_p" id="S2.p7.1"><span class="ltx_text ltx_font_typewriter" id="S2.p7.1.1">In the next section, we provide an example to illustrate the KB editing problem, while also providing an overview of </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S2.p7.1.2">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S2.p7.1.3">.</span></p>
</div>
</section>
<section class="ltx_section" id="S3" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_section">
<span class="ltx_tag ltx_tag_section"><span class="ltx_text ltx_font_serif" id="S3.1.1.1">3</span> </span>Example and Overview</h2>
<div class="ltx_para ltx_noindent" id="S3.p1">
<p class="ltx_p" id="S3.p1.1"><span class="ltx_text ltx_font_typewriter" id="S3.p1.1.1">Figure </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S3.F1" title="Figure 1 ‣ 3 Example and Overview ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_text ltx_font_typewriter" id="S3.p1.1.2"> illustrates our technique applied to the ARKS Pony domain </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S3.p1.1.3.1">(</span><span class="ltx_text ltx_font_typewriter">Su et al.</span><span class="ltx_text ltx_font_typewriter" id="S3.p1.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib42" title=""><span class="ltx_text ltx_font_typewriter">2024a</span></a><span class="ltx_text ltx_font_typewriter" id="S3.p1.1.5.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S3.p1.1.6">, where a knowledge base (KB) for the low-resource programming language Pony supports a natural language-to-code task. Due to Pony’s rarity, language models often generate code that fails to compile. To address this, we use the Pony compiler as an expert to provide feedback in the form of compile errors.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S3.p2">
<svg class="ltx_picture" height="15.74" id="S3.p2.pic1" overflow="visible" version="1.1" width="15.74"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,15.74) matrix(1 0 0 -1 0 0) translate(7.87,0) translate(0,7.87)"><path d="M 7.59 0 C 7.59 4.19 4.19 7.59 0 7.59 C -4.19 7.59 -7.59 4.19 -7.59 0 C -7.59 -4.19 -4.19 -7.59 0 -7.59 C 4.19 -7.59 7.59 -4.19 7.59 0 Z M 0 0" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><span class="ltx_text ltx_font_typewriter" id="S3.p2.pic1.1.1.1.1.1">1</span></foreignobject></g></g></svg>
<p class="ltx_p" id="S3.p2.1"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S3.p2.1.1">Evaluating the Knowledge Base State</em><span class="ltx_text ltx_font_typewriter" id="S3.p2.1.2">:
We start with an initial KB, including documents like builtin-array.md. The system retrieves relevant documents based on the given task (e.g., counting non-inversions in an array) and generates a program, which is evaluated by the compiler, resulting in feedback (e.g., compile errors).</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S3.p3">
<svg class="ltx_picture" height="15.74" id="S3.p3.pic1" overflow="visible" version="1.1" width="15.74"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,15.74) matrix(1 0 0 -1 0 0) translate(7.87,0) translate(0,7.87)"><path d="M 7.59 0 C 7.59 4.19 4.19 7.59 0 7.59 C -4.19 7.59 -7.59 4.19 -7.59 0 C -7.59 -4.19 -4.19 -7.59 0 -7.59 C 4.19 -7.59 7.59 -4.19 7.59 0 Z M 0 0" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><span class="ltx_text ltx_font_typewriter" id="S3.p3.pic1.1.1.1.1.1">2</span></foreignobject></g></g></svg>
<p class="ltx_p" id="S3.p3.1"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S3.p3.1.1">Centralized Feedback Analysis</em><span class="ltx_text ltx_font_typewriter" id="S3.p3.1.2">:
We analyze compile errors to generate reflections that explain why the errors occurred. For instance, if the apply method in the Array class is partial and may raise an error, the reflection suggests adding a ? to handle potential failures. These reflections are matched to the documents they pertain to, refining the understanding of errors.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S3.p4">
<svg class="ltx_picture" height="15.74" id="S3.p4.pic1" overflow="visible" version="1.1" width="15.74"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,15.74) matrix(1 0 0 -1 0 0) translate(7.87,0) translate(0,7.87)"><path d="M 7.59 0 C 7.59 4.19 4.19 7.59 0 7.59 C -4.19 7.59 -7.59 4.19 -7.59 0 C -7.59 -4.19 -4.19 -7.59 0 -7.59 C 4.19 -7.59 7.59 -4.19 7.59 0 Z M 0 0" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><span class="ltx_text ltx_font_typewriter" id="S3.p4.pic1.1.1.1.1.1">3</span></foreignobject></g></g></svg>
<p class="ltx_p" id="S3.p4.1"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S3.p4.1.1">Distributing Gradients</em><span class="ltx_text ltx_font_typewriter" id="S3.p4.1.2">:
Reflections are generalized into gradients, which summarize modifications needed for each document. For example, the theme might be the partial nature of functions like apply and update, which need better error handling in the documentation.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S3.p5">
<svg class="ltx_picture" height="15.74" id="S3.p5.pic1" overflow="visible" version="1.1" width="15.74"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,15.74) matrix(1 0 0 -1 0 0) translate(7.87,0) translate(0,7.87)"><path d="M 7.59 0 C 7.59 4.19 4.19 7.59 0 7.59 C -4.19 7.59 -7.59 4.19 -7.59 0 C -7.59 -4.19 -4.19 -7.59 0 -7.59 C 4.19 -7.59 7.59 -4.19 7.59 0 Z M 0 0" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><span class="ltx_text ltx_font_typewriter" id="S3.p5.pic1.1.1.1.1.1">4</span></foreignobject></g></g></svg>
<p class="ltx_p" id="S3.p5.1"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S3.p5.1.1">Generating Edit Actions</em><span class="ltx_text ltx_font_typewriter" id="S3.p5.1.2">:
Gradients are converted into structured edit actions, such as adding or modifying content in specific sections of the documents.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S3.p6">
<svg class="ltx_picture" height="15.74" id="S3.p6.pic1" overflow="visible" version="1.1" width="15.74"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,15.74) matrix(1 0 0 -1 0 0) translate(7.87,0) translate(0,7.87)"><path d="M 7.59 0 C 7.59 4.19 4.19 7.59 0 7.59 C -4.19 7.59 -7.59 4.19 -7.59 0 C -7.59 -4.19 -4.19 -7.59 0 -7.59 C 4.19 -7.59 7.59 -4.19 7.59 0 Z M 0 0" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><span class="ltx_text ltx_font_typewriter" id="S3.p6.pic1.1.1.1.1.1">5</span></foreignobject></g></g></svg>
<p class="ltx_p" id="S3.p6.2"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S3.p6.2.1">Re-evaluation and MCTS Search</em><span class="ltx_text ltx_font_typewriter" id="S3.p6.2.2">:
After edits are applied, the KB is re-evaluated, generating new feedback and a reward score. This score guides a Monte Carlo Tree Search (MCTS) to explore different states of the KB, iterating through steps  </span><svg class="ltx_picture" height="15.74" id="S3.p6.1.pic1" overflow="visible" version="1.1" width="15.74"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,15.74) matrix(1 0 0 -1 0 0) translate(7.87,0) translate(0,7.87)"><path d="M 7.59 0 C 7.59 4.19 4.19 7.59 0 7.59 C -4.19 7.59 -7.59 4.19 -7.59 0 C -7.59 -4.19 -4.19 -7.59 0 -7.59 C 4.19 -7.59 7.59 -4.19 7.59 0 Z M 0 0" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><span class="ltx_text ltx_font_typewriter" id="S3.p6.1.pic1.1.1.1.1.1">1</span></foreignobject></g></g></svg><span class="ltx_text ltx_font_typewriter" id="S3.p6.2.3">- </span><svg class="ltx_picture" height="15.74" id="S3.p6.2.pic2" overflow="visible" version="1.1" width="15.74"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,15.74) matrix(1 0 0 -1 0 0) translate(7.87,0) translate(0,7.87)"><path d="M 7.59 0 C 7.59 4.19 4.19 7.59 0 7.59 C -4.19 7.59 -7.59 4.19 -7.59 0 C -7.59 -4.19 -4.19 -7.59 0 -7.59 C 4.19 -7.59 7.59 -4.19 7.59 0 Z M 0 0" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)"><foreignobject height="8.92" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="6.92"><span class="ltx_text ltx_font_typewriter" id="S3.p6.2.pic2.1.1.1.1.1">4</span></foreignobject></g></g></svg><span class="ltx_text ltx_font_typewriter" id="S3.p6.2.4"> to progressively refine the KB and improve the system’s overall performance.</span></p>
</div>
<figure class="ltx_figure" id="S3.F1">
<div class="ltx_inline-block ltx_transformed_outer" id="S3.F1.1" style="width:397.5pt;height:246pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-74.9pt,46.2pt) scale(0.726416031674374,0.726416031674374) ;">
<p class="ltx_p" id="S3.F1.1.1"><span class="ltx_text ltx_font_typewriter" id="S3.F1.1.1.1"><svg class="ltx_picture" height="467.35" id="S3.F1.1.1.1.pic1" overflow="visible" version="1.1" width="752.53"><g fill="#000000" stroke="#000000" stroke-width="0.4pt" transform="translate(0,467.35) matrix(1 0 0 -1 0 0) translate(203.77,0) translate(0,426.24)"><g fill="#FFD9B3"><path d="M 109.08 40.28 L -109.08 40.28 C -112.13 40.28 -114.61 37.8 -114.61 34.75 L -114.61 -34.75 C -114.61 -37.8 -112.13 -40.28 -109.08 -40.28 L 109.08 -40.28 C 112.13 -40.28 114.61 -37.8 114.61 -34.75 L 114.61 34.75 C 114.61 37.8 112.13 40.28 109.08 40.28 Z M -114.61 -40.28" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -110 25.98)"><foreignobject height="71.34" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="220"><span class="ltx_inline-logical-block ltx_minipage ltx_align_top" id="S3.F1.1.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1" style="width:159.0pt;">
<span class="ltx_para" id="S3.F1.1.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.p4">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.4.1.p4.1"></span>
</span>
<span class="ltx_para ltx_align_left ltx_noindent" id="S3.F1.1.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.p1.1.1">Task:</span>
Given an array of integers nums, write a function that returns the number of
good pairs. A pair (i, j) is called good if nums[i] ==
nums[j] and i &lt; j.</span>
</span>
<span class="ltx_para ltx_align_left ltx_noindent" id="S3.F1.1.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.1"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.1.1">Retrieved Documents:</span></span><pre class="ltx_verbatim" id="S3.F1.1.1.1.pic1.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.2.p2.2">
    builtin-array.md
    collections-persistent-vec.md
    math-fibonacci.md
    random-dice.md
        
</pre>
</span>
<span class="ltx_para ltx_align_left ltx_noindent" id="S3.F1.1.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.1"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.1.1">Output Program:</span></span><pre class="ltx_verbatim" id="S3.F1.1.1.1.pic1.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.3.p3.2">
fun numIdenticalPairs(ns: Array[I32]): I32 =&gt;
  var count: I32 = 0
  for i in Range(0, ns.size() - 1) do
    for j in Range(i + 1, ns.size()) do
      if ns(i) == ns(j) then
        count = count + 1
        ...
    
</pre>
</span></span></foreignobject></g><g stroke-width="0.8pt"><path d="M -114.89 40.56 M -126.8 40.56 C -129.17 39.38 -130.74 36.62 -130.74 32.68 L -130.74 7.87 C -130.74 3.94 -132.32 1.18 -134.68 0 C -132.32 -1.18 -130.74 -3.94 -130.74 -7.87 L -130.74 -32.68 C -130.74 -36.62 -129.17 -39.38 -126.8 -40.56" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -199.16 -24.91)"><foreignobject height="49.81" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="69.26">
<table class="ltx_tabular ltx_align_middle" id="S3.F1.1.1.1.pic1.16.16.16.1.1.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.F1.1.1.1.pic1.16.16.16.1.1.1.1.1">
<td class="ltx_td ltx_align_center" id="S3.F1.1.1.1.pic1.16.16.16.1.1.1.1.1.1">Simulate</td>
</tr>
<tr class="ltx_tr" id="S3.F1.1.1.1.pic1.16.16.16.1.1.1.2.2">
<td class="ltx_td ltx_align_center" id="S3.F1.1.1.1.pic1.16.16.16.1.1.1.2.2.1">Task</td>
</tr>
</tbody>
</table></foreignobject></g></g><g fill="#FFECEC"><path d="M 543.22 40.28 L 270.07 40.28 C 267.01 40.28 264.54 37.8 264.54 34.75 L 264.54 6.3 C 264.54 3.25 267.01 0.77 270.07 0.77 L 543.22 0.77 C 546.28 0.77 548.76 3.25 548.76 6.3 L 548.76 34.75 C 548.76 37.8 546.28 40.28 543.22 40.28 Z M 264.54 0.77" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 269.15 25.98)"><foreignobject height="30.29" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="275">
<span class="ltx_inline-block ltx_minipage ltx_align_top" id="S3.F1.1.1.1.pic1.17.17.17.1.1" style="width:198.7pt;">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.17.17.17.1.1.1"></span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.17.17.17.1.1.2"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.17.17.17.1.1.2.1">Knowledge Base</span></span><pre class="ltx_verbatim ltx_align_left" id="S3.F1.1.1.1.pic1.17.17.17.1.1.3">
    builtin-array.md
    collections-persistent-vec.md
    math-fibonacci.md
    ...
</pre>
</span></foreignobject></g><path d="M 114.89 24.33 M 67.64 24.33 C 70.01 23.51 71.58 21.6 71.58 18.86 L 71.58 18.86 C 71.58 16.12 73.16 14.21 75.52 13.38 C 73.16 12.56 71.58 10.65 71.58 7.91 L 71.58 7.91 C 71.58 5.17 70.01 3.25 67.64 2.43" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 104.03 8.58)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="55.19"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.18.18.18.1.1">Retrieval</span></foreignobject></g><path d="M 264.26 20.52" style="fill:none"></path><path d="M 264.26 20.52 C 224.75 20.52 200.47 26.9 163.94 13.6" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-0.9397 -0.34203 0.34203 -0.9397 163.94 13.6)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 99.14 13.38" style="fill:none"></path><path d="M 99.14 13.38 L 80.09 13.38" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(-1.0 0.0 0.0 -1.0 80.09 13.38)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><g fill="#B3B3FF"><path d="M 543.22 -19.47 L 270.07 -19.47 C 267.01 -19.47 264.54 -21.95 264.54 -25 L 264.54 -109.72 C 264.54 -112.77 267.01 -115.25 270.07 -115.25 L 543.22 -115.25 C 546.28 -115.25 548.76 -112.77 548.76 -109.72 L 548.76 -25 C 548.76 -21.95 546.28 -19.47 543.22 -19.47 Z M 264.54 -115.25" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 269.15 -33.77)"><foreignobject height="86.56" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="275"><span class="ltx_inline-logical-block ltx_minipage ltx_align_top" id="S3.F1.1.1.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.2.2.2.2.2.2.2.2.2.2.1" style="width:198.7pt;">
<span class="ltx_para" id="S3.F1.1.1.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.2.2.2.2.2.2.2.2.2.2.1.p2">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.6.6.6.6.6.6.6.6.6.6.6.6.2.2.2.2.2.2.2.2.2.2.1.p2.1"></span>
</span>
<span class="ltx_para ltx_align_left ltx_noindent" id="S3.F1.1.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.p1">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.p1.1.1">Expert (Compiler) Feedback</span></span><pre class="ltx_verbatim" id="S3.F1.1.1.1.pic1.5.5.5.5.5.5.5.5.5.5.5.5.1.1.1.1.1.1.1.1.1.1.p1.2">
main.pony:15:16: call is not partial but the method is
  - a question mark is required after this call
      if nums(i) == nums(j) then
               ^
main.pony:15:27: call is not partial but the method is
  - a question mark is required after this call
      if nums(i) == nums(j) then
                          ^
main.pony:11:42: function signature is not marked as
  partial but the function body can raise an error
      fun numIdenticalPairs(nums: Array[I32]): I32 =&gt;
                                                  ^
    
</pre>
</span></span></foreignobject></g><path d="M 114.89 -8.11 M 118.83 -8.11 C 121.19 -9.18 122.76 -11.66 122.76 -15.21 L 122.76 -15.21 C 122.76 -18.76 124.34 -21.24 126.7 -22.31 C 124.34 -23.37 122.76 -25.86 122.76 -29.4 L 122.76 -29.4 C 122.76 -32.95 121.19 -35.44 118.83 -36.5" style="fill:none"></path><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 139.46 -27.11)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="55.54"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.19.19.19.1.1">Feedback</span></foreignobject></g><path d="M 264.26 -67.36" style="fill:none"></path><path d="M 263.62 -67.36 C 233.54 -67.36 228.76 -11.8 199.89 -22.31" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(1.0 0.0 0.0 1.0 263.62 -67.36)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><path d="M 134.57 -22.31" style="fill:none"></path><path d="M 133.94 -22.31 L 126.7 -22.31" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(1.0 0.0 0.0 1.0 133.94 -22.31)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><g fill="#FFE6E6" stroke-dasharray="0.4pt,2.0pt" stroke-dashoffset="0.0pt"><path d="M 203.33 -103.83 L -124.83 -103.83 C -127.88 -103.83 -130.36 -106.3 -130.36 -109.36 L -130.36 -216.4 C -130.36 -219.46 -127.88 -221.94 -124.83 -221.94 L 203.33 -221.94 C 206.39 -221.94 208.86 -219.46 208.86 -216.4 L 208.86 -109.36 C 208.86 -106.3 206.39 -103.83 203.33 -103.83 Z M -130.36 -221.94"></path></g><g fill="#000000" stroke="#000000" stroke-dasharray="0.4pt,2.0pt" stroke-dashoffset="0.0pt" transform="matrix(1.0 0.0 0.0 1.0 -125.75 -162.88)"><foreignobject height="0" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="330">
<span class="ltx_inline-block ltx_minipage ltx_align_top" id="S3.F1.1.1.1.pic1.20.20.20.1.1" style="width:238.5pt;">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.20.20.20.1.1.1"></span>
</span></foreignobject></g><g fill="#FFCCCC" stroke-dasharray="0.4pt,2.0pt" stroke-dashoffset="0.0pt"><path d="M 191.52 -92.02 L -136.64 -92.02 C -139.69 -92.02 -142.17 -94.49 -142.17 -97.55 L -142.17 -204.59 C -142.17 -207.65 -139.69 -210.13 -136.64 -210.13 L 191.52 -210.13 C 194.57 -210.13 197.05 -207.65 197.05 -204.59 L 197.05 -97.55 C 197.05 -94.49 194.57 -92.02 191.52 -92.02 Z M -142.17 -210.13"></path></g><g fill="#000000" stroke="#000000" stroke-dasharray="0.4pt,2.0pt" stroke-dashoffset="0.0pt" transform="matrix(1.0 0.0 0.0 1.0 -137.56 -151.07)"><foreignobject height="0" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="330">
<span class="ltx_inline-block ltx_minipage ltx_align_top" id="S3.F1.1.1.1.pic1.21.21.21.1.1" style="width:238.5pt;">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.21.21.21.1.1.1"></span>
</span></foreignobject></g><g fill="#FFB3B3"><path d="M 179.71 -80.2 L -148.45 -80.2 C -151.5 -80.2 -153.98 -82.68 -153.98 -85.74 L -153.98 -247.02 C -153.98 -250.07 -151.5 -252.55 -148.45 -252.55 L 179.71 -252.55 C 182.76 -252.55 185.24 -250.07 185.24 -247.02 L 185.24 -85.74 C 185.24 -82.68 182.76 -80.2 179.71 -80.2 Z M -153.98 -252.55" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -149.37 -94.5)"><foreignobject height="163.12" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="330"><span class="ltx_inline-logical-block ltx_minipage ltx_align_top" id="S3.F1.1.1.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.4.4.4.4.4.4.4.4.4.4.2" style="width:238.5pt;">
<span class="ltx_para" id="S3.F1.1.1.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.3.3.3.3.3.3.3.3.3.3.1.p3">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.9.9.9.9.9.9.9.9.9.9.9.9.3.3.3.3.3.3.3.3.3.3.1.p3.1"></span>
</span>
<span class="ltx_para ltx_align_left ltx_noindent" id="S3.F1.1.1.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.p1">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.7.7.7.7.7.7.7.7.7.7.7.7.1.1.1.1.1.1.1.1.1.1.p1.1.1">Reflection:</span>
The output code contains the following errors:</span>
</span>
<span class="ltx_para" id="S3.F1.1.1.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.4.4.4.4.4.4.4.4.4.4.2.p4">
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.4.4.4.4.4.4.4.4.4.4.2.p4.1">1. The array access calls nums(i) and nums(j) are not marked as partial, but
they should be as the apply function in the Array class is partial and can throw errors.
The corrected code is: nums(i)? = nums(j)?
To further illustrate the fix, consider the following simplified example:</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.4.4.4.4.4.4.4.4.4.4.2.p4.2">Code with error:</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.4.4.4.4.4.4.4.4.4.4.2.p4.3">fun get(arr: Array[I32], index: USize): I32 ? =&gt; arr(index)</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.4.4.4.4.4.4.4.4.4.4.2.p4.4">Fixed code:</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.4.4.4.4.4.4.4.4.4.4.2.p4.5">fun get(arr: Array[I32], index: USize): I32 ? =&gt; arr(index)?</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.10.10.10.10.10.10.10.10.10.10.10.10.4.4.4.4.4.4.4.4.4.4.2.p4.6">...</span>
</span>
<span class="ltx_para ltx_align_left ltx_noindent" id="S3.F1.1.1.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.2.2.2.2.2.2.2.2.2.2.p2">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.2.2.2.2.2.2.2.2.2.2.p2.1"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.2.2.2.2.2.2.2.2.2.2.p2.1.1">Selection:</span> builtin-array.md
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.8.8.8.8.8.8.8.8.8.8.8.8.2.2.2.2.2.2.2.2.2.2.p2.1.2">Reasoning:</span>
This file contains information about the Array class, including apply...</span>
</span></span></foreignobject></g><g stroke-dasharray="3.0pt,3.0pt" stroke-dashoffset="0.0pt"><path d="M 219.35 -75.99 L -164.47 -75.99 C -167.53 -75.99 -170.01 -78.47 -170.01 -81.53 L -170.01 -274.85 C -170.01 -277.91 -167.53 -280.39 -164.47 -280.39 L 219.35 -280.39 C 222.41 -280.39 224.89 -277.91 224.89 -274.85 L 224.89 -81.53 C 224.89 -78.47 222.41 -75.99 219.35 -75.99 Z M -170.01 -280.39" style="fill:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -135.58 -290.95)"><foreignobject height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="303.57"><span class="ltx_text" id="S3.F1.1.1.1.pic1.22.22.22.1.1">Collected selection reasoning for builtin-array.md
</span></foreignobject></g><path d="M 264.26 -101.08" style="fill:none"></path><path d="M 264.26 -101.08 C 201.69 -175.64 99.93 -31.26 16.83 -79.24" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linejoin="round" transform="matrix(-0.86603 -0.5 0.5 -0.86603 16.83 -79.24)"><path d="M 1.11 0 C -0.28 0.28 -1.66 0.83 -3.32 1.8 C -1.66 0.55 -1.66 -0.55 -3.32 -1.8 C -1.66 -0.83 -0.28 -0.28 1.11 0 Z"></path></g><g fill="#FFFFFF"><path d="M 220.1 -88.83 L 76.08 -88.83 C 73.03 -88.83 70.55 -91.31 70.55 -94.36 L 70.55 -102.13 C 70.55 -105.18 73.03 -107.66 76.08 -107.66 L 220.1 -107.66 C 223.16 -107.66 225.64 -105.18 225.64 -102.13 L 225.64 -94.36 C 225.64 -91.31 223.16 -88.83 220.1 -88.83 Z M 70.55 -107.66" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 75.16 -103.05)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="145.87"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.23.23.23.1.1">Reflection and Selection</span></foreignobject></g><g fill="#FFFFB3"><path d="M 191.52 -320.31 L -136.64 -320.31 C -139.69 -320.31 -142.17 -322.79 -142.17 -325.84 L -142.17 -420.7 C -142.17 -423.76 -139.69 -426.24 -136.64 -426.24 L 191.52 -426.24 C 194.57 -426.24 197.05 -423.76 197.05 -420.7 L 197.05 -325.84 C 197.05 -322.79 194.57 -320.31 191.52 -320.31 Z M -142.17 -426.24" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -137.56 -334.61)"><foreignobject height="96.71" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="330"><span class="ltx_inline-logical-block ltx_minipage ltx_align_top" id="S3.F1.1.1.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.2.2.2.2.2.2.2.2.2.2.1" style="width:238.5pt;">
<span class="ltx_para" id="S3.F1.1.1.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.2.2.2.2.2.2.2.2.2.2.1.p2">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.12.12.12.12.12.12.12.12.12.12.12.12.2.2.2.2.2.2.2.2.2.2.1.p2.1"></span>
</span>
<span class="ltx_para ltx_align_left ltx_noindent" id="S3.F1.1.1.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.p1">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.11.11.11.11.11.11.11.11.11.11.11.11.1.1.1.1.1.1.1.1.1.1.p1.1.1">Document-wise Partial Gradient:</span>
builtin-array.md is a KB document detailing
the use of the methods and functions of the Array class...

<br class="ltx_break"/> 
<br class="ltx_break"/>Method Availability and Error Handling:
The current file lacks explicit guidance on the partiality of methods and
the use of ? operator. The omission can lead developers to...
The file should accurately reflect the partiality of methods like apply
and update...
<br class="ltx_break"/></span>
</span></span></foreignobject></g><path d="M 27.44 -280.66" style="fill:none"></path><path d="M 27.44 -280.66 L 27.44 -319.4" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(0.0 -1.0 1.0 0.0 27.44 -319.4)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><g fill="#FFFFFF"><path d="M 122.25 -287.62 L -67.37 -287.62 C -70.43 -287.62 -72.91 -290.1 -72.91 -293.15 L -72.91 -303.61 C -72.91 -306.66 -70.43 -309.14 -67.37 -309.14 L 122.25 -309.14 C 125.31 -309.14 127.79 -306.66 127.79 -303.61 L 127.79 -293.15 C 127.79 -290.1 125.31 -287.62 122.25 -287.62 Z M -72.91 -309.14" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 -68.29 -301.84)"><foreignobject height="12.3" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="191.47"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.24.24.24.1.1">Aggregate Document Gradients</span></foreignobject></g><g fill="#B3FFB3"><path d="M 539.41 -148.1 L 321.25 -148.1 C 318.19 -148.1 315.72 -150.58 315.72 -153.64 L 315.72 -381.33 C 315.72 -384.39 318.19 -386.87 321.25 -386.87 L 539.41 -386.87 C 542.46 -386.87 544.94 -384.39 544.94 -381.33 L 544.94 -153.64 C 544.94 -150.58 542.46 -148.1 539.41 -148.1 Z M 315.72 -386.87" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 320.33 -162.4)"><foreignobject height="229.54" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="220"><span class="ltx_inline-logical-block ltx_minipage ltx_align_top" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2" style="width:159.0pt;">
<span class="ltx_para" id="S3.F1.1.1.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.2.2.2.2.2.2.2.2.2.2.1.p2">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.14.14.14.14.14.14.14.14.14.14.14.14.2.2.2.2.2.2.2.2.2.2.1.p2.1"></span>
</span>
<span class="ltx_para ltx_align_left ltx_noindent" id="S3.F1.1.1.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.p1">
<span class="ltx_p" id="S3.F1.1.1.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.p1.1"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.p1.1.1">Edit:</span> Add Section

<br class="ltx_break"/>When working with arrays in Pony, it is important to understand that
some methods are partial, meaning the may not succeed in all cases and might
raise an error. To safely handle these errors, Pony provides the ? operator...

<br class="ltx_break"/>The <span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.13.13.13.13.13.13.13.13.13.13.13.13.1.1.1.1.1.1.1.1.1.1.p1.1.2">apply</span> method on arrays is partial and will raise an error in the
index is out of bounds...

<br class="ltx_break"/>For example, the ‘apply‘ method on arrays is partial and requires error handling:</span>
</span>
<span class="ltx_para" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2.p3">
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2.p3.1">‘‘‘pony</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2.p3.2">try</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2.p3.3">my_array.apply(42) == 7</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2.p3.4">end</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2.p3.5">‘‘‘</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2.p3.6">In this snippet, if the index 42 is out of bounds</span>
<span class="ltx_p ltx_align_left" id="S3.F1.1.1.1.pic1.15.15.15.15.15.15.15.15.15.15.15.15.3.3.3.3.3.3.3.3.3.3.2.p3.7">the ‘apply‘ method will raise an error, which is then handled by the ‘try‘ block, preventing the program from crashing.</span>
</span></span></foreignobject></g><path d="M 197.33 -373.27" style="fill:none"></path><path d="M 197.33 -373.27 C 259.3 -373.27 253.46 -267.49 314.8 -267.49" style="fill:none"></path><g stroke-dasharray="none" stroke-dashoffset="0.0pt" stroke-linecap="round" stroke-linejoin="round" stroke-width="0.32pt" transform="matrix(1.0 0.0 0.0 1.0 314.8 -267.49)"><path d="M -1.66 2.21 C -1.52 1.38 0 0.14 0.42 0 C 0 -0.14 -1.52 -1.38 -1.66 -2.21" style="fill:none"></path></g><g fill="#FFFFFF"><path d="M 301.02 -309 L 211.75 -309 C 208.69 -309 206.22 -311.47 206.22 -314.53 L 206.22 -322.29 C 206.22 -325.35 208.69 -327.83 211.75 -327.83 L 301.02 -327.83 C 304.08 -327.83 306.55 -325.35 306.55 -322.29 L 306.55 -314.53 C 306.55 -311.47 304.08 -309 301.02 -309 Z M 206.22 -327.83" style="stroke:none"></path></g><g fill="#000000" stroke="#000000" transform="matrix(1.0 0.0 0.0 1.0 210.83 -323.22)"><foreignobject height="9.61" overflow="visible" transform="matrix(1 0 0 -1 0 16.6)" width="91.11"><span class="ltx_text ltx_font_bold" id="S3.F1.1.1.1.pic1.25.25.25.1.1">Generate Edits</span></foreignobject></g></g></svg></span></p>
</span></div>
<figcaption class="ltx_caption ltx_font_typewriter"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_serif" id="S3.F1.8.1.1">Figure 1</span>: </span>Example of the <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S3.F1.9.2">STACKFEED</span> in the ARKS Pony scenario</figcaption>
</figure>
</section>
<section class="ltx_section" id="S4" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_section">
<span class="ltx_tag ltx_tag_section"><span class="ltx_text ltx_font_serif" id="S4.1.1.1">4</span> </span>Methodology</h2>
<div class="ltx_para ltx_noindent" id="S4.p1">
<p class="ltx_p" id="S4.p1.1"><span class="ltx_text ltx_font_typewriter" id="S4.p1.1.1">We will start by describing a typical Retrieval-Augmented Generation (RAG) system over unstructured Knowledge Bases.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p2">
<p class="ltx_p" id="S4.p2.4"><span class="ltx_text ltx_font_typewriter" id="S4.p2.4.1">Errors in such systems can arise from multiple components: 1) the LLM </span><math alttext="\mathcal{B}" class="ltx_Math" display="inline" id="S4.p2.1.m1.1"><semantics id="S4.p2.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.1b"><ci id="S4.p2.1.m1.1.1.cmml" xref="S4.p2.1.m1.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.1c">\mathcal{B}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.1.m1.1d">caligraphic_B</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.p2.4.2"> might fail to reason correctly over the provided information, 2) the retriever </span><math alttext="R" class="ltx_Math" display="inline" id="S4.p2.2.m2.1"><semantics id="S4.p2.2.m2.1a"><mi id="S4.p2.2.m2.1.1" xref="S4.p2.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.p2.2.m2.1b"><ci id="S4.p2.2.m2.1.1.cmml" xref="S4.p2.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.2.m2.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.p2.2.m2.1d">italic_R</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.p2.4.3"> might not select the right set of relevant documents from </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.p2.3.m3.1"><semantics id="S4.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p2.3.m3.1.1" xref="S4.p2.3.m3.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.p2.3.m3.1b"><ci id="S4.p2.3.m3.1.1.cmml" xref="S4.p2.3.m3.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.3.m3.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.3.m3.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.p2.4.4">, or 3) the knowledge base </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.p2.4.m4.1"><semantics id="S4.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p2.4.m4.1.1" xref="S4.p2.4.m4.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.p2.4.m4.1b"><ci id="S4.p2.4.m4.1.1.cmml" xref="S4.p2.4.m4.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.4.m4.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.p2.4.m4.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.p2.4.5"> itself might contain incorrect or incomplete information. We assume an expert is monitoring the system, identifying when answers are incorrect, determining which component is at fault, and providing feedback on why the answer is incorrect and what the correct answer must be.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.p3">
<p class="ltx_p" id="S4.p3.3"><span class="ltx_text ltx_font_typewriter" id="S4.p3.3.1">This work focuses on scenarios where incorrect answers result from issues in the Knowledge Base (</span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.p3.1.m1.1"><semantics id="S4.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p3.1.m1.1.1" xref="S4.p3.1.m1.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.p3.1.m1.1b"><ci id="S4.p3.1.m1.1.1.cmml" xref="S4.p3.1.m1.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.1.m1.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.1.m1.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.p3.3.2">). Our goal is to improve </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.p3.2.m2.1"><semantics id="S4.p3.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p3.2.m2.1.1" xref="S4.p3.2.m2.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.p3.2.m2.1b"><ci id="S4.p3.2.m2.1.1.cmml" xref="S4.p3.2.m2.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.2.m2.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.2.m2.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.p3.3.3"> by addressing mistakes in </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.p3.3.m3.1"><semantics id="S4.p3.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.p3.3.m3.1.1" xref="S4.p3.3.m3.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.p3.3.m3.1b"><ci id="S4.p3.3.m3.1.1.cmml" xref="S4.p3.3.m3.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p3.3.m3.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.p3.3.m3.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.p3.3.4"> and filling in missing information based on expert feedback, thus enhancing the RAG system’s performance on future queries.</span></p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S4.SS1.1.1.1">4.1</span> </span>Problem Formulation</h3>
<div class="ltx_para ltx_noindent" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.9"><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.1">We are provided with a training set </span><math alttext="T=\{(q_{i},o_{i},c_{i},f_{i})\}_{i=1}^{l}" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">T</mi><mo id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml">=</mo><msubsup id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml"><mrow id="S4.SS1.p1.1.m1.1.1.1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.1.1.2.cmml"><mo id="S4.SS1.p1.1.m1.1.1.1.1.1.1.2" stretchy="false" xref="S4.SS1.p1.1.m1.1.1.1.1.1.2.cmml">{</mo><mrow id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.5.cmml"><mo id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.5" stretchy="false" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.5.cmml">(</mo><msub id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml">q</mi><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.6" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.5.cmml">,</mo><msub id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.2" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.2.cmml">o</mi><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.3" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.7" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.5.cmml">,</mo><msub id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.2" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.2.cmml">c</mi><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.3" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.3.cmml">i</mi></msub><mo id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.8" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.5.cmml">,</mo><msub id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.cmml"><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.2" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.2.cmml">f</mi><mi id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.3" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.3.cmml">i</mi></msub><mo id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.9" stretchy="false" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.5.cmml">)</mo></mrow><mo id="S4.SS1.p1.1.m1.1.1.1.1.1.1.3" stretchy="false" xref="S4.SS1.p1.1.m1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS1.p1.1.m1.1.1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.1.1.3.cmml"><mi id="S4.SS1.p1.1.m1.1.1.1.1.3.2" xref="S4.SS1.p1.1.m1.1.1.1.1.3.2.cmml">i</mi><mo id="S4.SS1.p1.1.m1.1.1.1.1.3.1" xref="S4.SS1.p1.1.m1.1.1.1.1.3.1.cmml">=</mo><mn id="S4.SS1.p1.1.m1.1.1.1.1.3.3" xref="S4.SS1.p1.1.m1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S4.SS1.p1.1.m1.1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.1.3.cmml">l</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><eq id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2"></eq><ci id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3">𝑇</ci><apply id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1">superscript</csymbol><apply id="S4.SS1.p1.1.m1.1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1">subscript</csymbol><set id="S4.SS1.p1.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1"><vector id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.5.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4"><apply id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.2">𝑞</ci><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.2">𝑜</ci><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply><apply id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.2">𝑐</ci><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.3.3.3">𝑖</ci></apply><apply id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4"><csymbol cd="ambiguous" id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4">subscript</csymbol><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.2">𝑓</ci><ci id="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.1.1.1.4.4.3">𝑖</ci></apply></vector></set><apply id="S4.SS1.p1.1.m1.1.1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.3"><eq id="S4.SS1.p1.1.m1.1.1.1.1.3.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.3.1"></eq><ci id="S4.SS1.p1.1.m1.1.1.1.1.3.2.cmml" xref="S4.SS1.p1.1.m1.1.1.1.1.3.2">𝑖</ci><cn id="S4.SS1.p1.1.m1.1.1.1.1.3.3.cmml" type="integer" xref="S4.SS1.p1.1.m1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS1.p1.1.m1.1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.1.3">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">T=\{(q_{i},o_{i},c_{i},f_{i})\}_{i=1}^{l}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">italic_T = { ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_l end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.2">, where </span><math alttext="q_{i}" class="ltx_Math" display="inline" id="S4.SS1.p1.2.m2.1"><semantics id="S4.SS1.p1.2.m2.1a"><msub id="S4.SS1.p1.2.m2.1.1" xref="S4.SS1.p1.2.m2.1.1.cmml"><mi id="S4.SS1.p1.2.m2.1.1.2" xref="S4.SS1.p1.2.m2.1.1.2.cmml">q</mi><mi id="S4.SS1.p1.2.m2.1.1.3" xref="S4.SS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.m2.1b"><apply id="S4.SS1.p1.2.m2.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.2.m2.1.1.1.cmml" xref="S4.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p1.2.m2.1.1.2.cmml" xref="S4.SS1.p1.2.m2.1.1.2">𝑞</ci><ci id="S4.SS1.p1.2.m2.1.1.3.cmml" xref="S4.SS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.m2.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.2.m2.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.3"> is a user query, </span><math alttext="o_{i}" class="ltx_Math" display="inline" id="S4.SS1.p1.3.m3.1"><semantics id="S4.SS1.p1.3.m3.1a"><msub id="S4.SS1.p1.3.m3.1.1" xref="S4.SS1.p1.3.m3.1.1.cmml"><mi id="S4.SS1.p1.3.m3.1.1.2" xref="S4.SS1.p1.3.m3.1.1.2.cmml">o</mi><mi id="S4.SS1.p1.3.m3.1.1.3" xref="S4.SS1.p1.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.m3.1b"><apply id="S4.SS1.p1.3.m3.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.3.m3.1.1.1.cmml" xref="S4.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS1.p1.3.m3.1.1.2.cmml" xref="S4.SS1.p1.3.m3.1.1.2">𝑜</ci><ci id="S4.SS1.p1.3.m3.1.1.3.cmml" xref="S4.SS1.p1.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.m3.1c">o_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.3.m3.1d">italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.4"> is the RAG system’s answer, </span><math alttext="c_{i}" class="ltx_Math" display="inline" id="S4.SS1.p1.4.m4.1"><semantics id="S4.SS1.p1.4.m4.1a"><msub id="S4.SS1.p1.4.m4.1.1" xref="S4.SS1.p1.4.m4.1.1.cmml"><mi id="S4.SS1.p1.4.m4.1.1.2" xref="S4.SS1.p1.4.m4.1.1.2.cmml">c</mi><mi id="S4.SS1.p1.4.m4.1.1.3" xref="S4.SS1.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.m4.1b"><apply id="S4.SS1.p1.4.m4.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.4.m4.1.1.1.cmml" xref="S4.SS1.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.p1.4.m4.1.1.2.cmml" xref="S4.SS1.p1.4.m4.1.1.2">𝑐</ci><ci id="S4.SS1.p1.4.m4.1.1.3.cmml" xref="S4.SS1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.m4.1c">c_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.4.m4.1d">italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.5"> is the correct answer, and </span><math alttext="f_{i}" class="ltx_Math" display="inline" id="S4.SS1.p1.5.m5.1"><semantics id="S4.SS1.p1.5.m5.1a"><msub id="S4.SS1.p1.5.m5.1.1" xref="S4.SS1.p1.5.m5.1.1.cmml"><mi id="S4.SS1.p1.5.m5.1.1.2" xref="S4.SS1.p1.5.m5.1.1.2.cmml">f</mi><mi id="S4.SS1.p1.5.m5.1.1.3" xref="S4.SS1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.5.m5.1b"><apply id="S4.SS1.p1.5.m5.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.5.m5.1.1.1.cmml" xref="S4.SS1.p1.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.p1.5.m5.1.1.2.cmml" xref="S4.SS1.p1.5.m5.1.1.2">𝑓</ci><ci id="S4.SS1.p1.5.m5.1.1.3.cmml" xref="S4.SS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.5.m5.1c">f_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.5.m5.1d">italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.6"> is an optional expert feedback on incorrect answers. We also assume access to a scoring function </span><math alttext="g" class="ltx_Math" display="inline" id="S4.SS1.p1.6.m6.1"><semantics id="S4.SS1.p1.6.m6.1a"><mi id="S4.SS1.p1.6.m6.1.1" xref="S4.SS1.p1.6.m6.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.6.m6.1b"><ci id="S4.SS1.p1.6.m6.1.1.cmml" xref="S4.SS1.p1.6.m6.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.6.m6.1c">g</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.6.m6.1d">italic_g</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.7">, which compare </span><math alttext="o_{i}" class="ltx_Math" display="inline" id="S4.SS1.p1.7.m7.1"><semantics id="S4.SS1.p1.7.m7.1a"><msub id="S4.SS1.p1.7.m7.1.1" xref="S4.SS1.p1.7.m7.1.1.cmml"><mi id="S4.SS1.p1.7.m7.1.1.2" xref="S4.SS1.p1.7.m7.1.1.2.cmml">o</mi><mi id="S4.SS1.p1.7.m7.1.1.3" xref="S4.SS1.p1.7.m7.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.7.m7.1b"><apply id="S4.SS1.p1.7.m7.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.7.m7.1.1.1.cmml" xref="S4.SS1.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS1.p1.7.m7.1.1.2.cmml" xref="S4.SS1.p1.7.m7.1.1.2">𝑜</ci><ci id="S4.SS1.p1.7.m7.1.1.3.cmml" xref="S4.SS1.p1.7.m7.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.7.m7.1c">o_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.7.m7.1d">italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.8"> and </span><math alttext="c_{i}" class="ltx_Math" display="inline" id="S4.SS1.p1.8.m8.1"><semantics id="S4.SS1.p1.8.m8.1a"><msub id="S4.SS1.p1.8.m8.1.1" xref="S4.SS1.p1.8.m8.1.1.cmml"><mi id="S4.SS1.p1.8.m8.1.1.2" xref="S4.SS1.p1.8.m8.1.1.2.cmml">c</mi><mi id="S4.SS1.p1.8.m8.1.1.3" xref="S4.SS1.p1.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.8.m8.1b"><apply id="S4.SS1.p1.8.m8.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p1.8.m8.1.1.1.cmml" xref="S4.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S4.SS1.p1.8.m8.1.1.2.cmml" xref="S4.SS1.p1.8.m8.1.1.2">𝑐</ci><ci id="S4.SS1.p1.8.m8.1.1.3.cmml" xref="S4.SS1.p1.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.8.m8.1c">c_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.8.m8.1d">italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.9"> to output a score. The objective is to optimize the knowledge base </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS1.p1.9.m9.1"><semantics id="S4.SS1.p1.9.m9.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.p1.9.m9.1.1" xref="S4.SS1.p1.9.m9.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.9.m9.1b"><ci id="S4.SS1.p1.9.m9.1.1.cmml" xref="S4.SS1.p1.9.m9.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.9.m9.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.9.m9.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p1.9.10"> to maximize the sum of the scores for all queries in the training set:</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p2">
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A1.EGx1">
<tbody id="S4.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\mathcal{K}^{*}=\arg\max_{\mathcal{K}}\frac{1}{|T|}\sum_{(q_{i},a%
_{i},c_{i},f_{i})\in T}g(\mathcal{B}(q_{i},\Gamma(q_{i},\mathcal{K})),c_{i})" class="ltx_Math" display="block" id="S4.E1.m1.8"><semantics id="S4.E1.m1.8a"><mrow id="S4.E1.m1.8.8" xref="S4.E1.m1.8.8.cmml"><msup id="S4.E1.m1.8.8.4" xref="S4.E1.m1.8.8.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.8.8.4.2" xref="S4.E1.m1.8.8.4.2.cmml">𝒦</mi><mo id="S4.E1.m1.8.8.4.3" xref="S4.E1.m1.8.8.4.3.cmml">∗</mo></msup><mo id="S4.E1.m1.8.8.3" xref="S4.E1.m1.8.8.3.cmml">=</mo><mrow id="S4.E1.m1.8.8.2" xref="S4.E1.m1.8.8.2.cmml"><mrow id="S4.E1.m1.8.8.2.4" xref="S4.E1.m1.8.8.2.4.cmml"><mi id="S4.E1.m1.8.8.2.4.1" xref="S4.E1.m1.8.8.2.4.1.cmml">arg</mi><mo id="S4.E1.m1.8.8.2.4a" lspace="0.167em" xref="S4.E1.m1.8.8.2.4.cmml">⁡</mo><mrow id="S4.E1.m1.8.8.2.4.2" xref="S4.E1.m1.8.8.2.4.2.cmml"><munder id="S4.E1.m1.8.8.2.4.2.1" xref="S4.E1.m1.8.8.2.4.2.1.cmml"><mi id="S4.E1.m1.8.8.2.4.2.1.2" xref="S4.E1.m1.8.8.2.4.2.1.2.cmml">max</mi><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.8.8.2.4.2.1.3" xref="S4.E1.m1.8.8.2.4.2.1.3.cmml">𝒦</mi></munder><mo id="S4.E1.m1.8.8.2.4.2a" lspace="0.167em" xref="S4.E1.m1.8.8.2.4.2.cmml">⁡</mo><mfrac id="S4.E1.m1.1.1" xref="S4.E1.m1.1.1.cmml"><mn id="S4.E1.m1.1.1.3" xref="S4.E1.m1.1.1.3.cmml">1</mn><mrow id="S4.E1.m1.1.1.1.3" xref="S4.E1.m1.1.1.1.2.cmml"><mo id="S4.E1.m1.1.1.1.3.1" stretchy="false" xref="S4.E1.m1.1.1.1.2.1.cmml">|</mo><mi id="S4.E1.m1.1.1.1.1" xref="S4.E1.m1.1.1.1.1.cmml">T</mi><mo id="S4.E1.m1.1.1.1.3.2" stretchy="false" xref="S4.E1.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mrow></mrow><mo id="S4.E1.m1.8.8.2.3" xref="S4.E1.m1.8.8.2.3.cmml">⁢</mo><mrow id="S4.E1.m1.8.8.2.2" xref="S4.E1.m1.8.8.2.2.cmml"><munder id="S4.E1.m1.8.8.2.2.3" xref="S4.E1.m1.8.8.2.2.3.cmml"><mo id="S4.E1.m1.8.8.2.2.3.2" movablelimits="false" xref="S4.E1.m1.8.8.2.2.3.2.cmml">∑</mo><mrow id="S4.E1.m1.5.5.4" xref="S4.E1.m1.5.5.4.cmml"><mrow id="S4.E1.m1.5.5.4.4.4" xref="S4.E1.m1.5.5.4.4.5.cmml"><mo id="S4.E1.m1.5.5.4.4.4.5" stretchy="false" xref="S4.E1.m1.5.5.4.4.5.cmml">(</mo><msub id="S4.E1.m1.2.2.1.1.1.1" xref="S4.E1.m1.2.2.1.1.1.1.cmml"><mi id="S4.E1.m1.2.2.1.1.1.1.2" xref="S4.E1.m1.2.2.1.1.1.1.2.cmml">q</mi><mi id="S4.E1.m1.2.2.1.1.1.1.3" xref="S4.E1.m1.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E1.m1.5.5.4.4.4.6" xref="S4.E1.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E1.m1.3.3.2.2.2.2" xref="S4.E1.m1.3.3.2.2.2.2.cmml"><mi id="S4.E1.m1.3.3.2.2.2.2.2" xref="S4.E1.m1.3.3.2.2.2.2.2.cmml">a</mi><mi id="S4.E1.m1.3.3.2.2.2.2.3" xref="S4.E1.m1.3.3.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E1.m1.5.5.4.4.4.7" xref="S4.E1.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E1.m1.4.4.3.3.3.3" xref="S4.E1.m1.4.4.3.3.3.3.cmml"><mi id="S4.E1.m1.4.4.3.3.3.3.2" xref="S4.E1.m1.4.4.3.3.3.3.2.cmml">c</mi><mi id="S4.E1.m1.4.4.3.3.3.3.3" xref="S4.E1.m1.4.4.3.3.3.3.3.cmml">i</mi></msub><mo id="S4.E1.m1.5.5.4.4.4.8" xref="S4.E1.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E1.m1.5.5.4.4.4.4" xref="S4.E1.m1.5.5.4.4.4.4.cmml"><mi id="S4.E1.m1.5.5.4.4.4.4.2" xref="S4.E1.m1.5.5.4.4.4.4.2.cmml">f</mi><mi id="S4.E1.m1.5.5.4.4.4.4.3" xref="S4.E1.m1.5.5.4.4.4.4.3.cmml">i</mi></msub><mo id="S4.E1.m1.5.5.4.4.4.9" stretchy="false" xref="S4.E1.m1.5.5.4.4.5.cmml">)</mo></mrow><mo id="S4.E1.m1.5.5.4.5" xref="S4.E1.m1.5.5.4.5.cmml">∈</mo><mi id="S4.E1.m1.5.5.4.6" xref="S4.E1.m1.5.5.4.6.cmml">T</mi></mrow></munder><mrow id="S4.E1.m1.8.8.2.2.2" xref="S4.E1.m1.8.8.2.2.2.cmml"><mi id="S4.E1.m1.8.8.2.2.2.4" xref="S4.E1.m1.8.8.2.2.2.4.cmml">g</mi><mo id="S4.E1.m1.8.8.2.2.2.3" xref="S4.E1.m1.8.8.2.2.2.3.cmml">⁢</mo><mrow id="S4.E1.m1.8.8.2.2.2.2.2" xref="S4.E1.m1.8.8.2.2.2.2.3.cmml"><mo id="S4.E1.m1.8.8.2.2.2.2.2.3" stretchy="false" xref="S4.E1.m1.8.8.2.2.2.2.3.cmml">(</mo><mrow id="S4.E1.m1.7.7.1.1.1.1.1.1" xref="S4.E1.m1.7.7.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.7.7.1.1.1.1.1.1.4" xref="S4.E1.m1.7.7.1.1.1.1.1.1.4.cmml">ℬ</mi><mo id="S4.E1.m1.7.7.1.1.1.1.1.1.3" xref="S4.E1.m1.7.7.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.3.cmml"><mo id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1" xref="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.2" xref="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml">q</mi><mi id="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.3" xref="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.4" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.3.cmml">,</mo><mrow id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.3" mathvariant="normal" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.3.cmml">Γ</mi><mo id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.2" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.2.cmml">⁢</mo><mrow id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.2.cmml"><mo id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.2" stretchy="false" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.2.cmml">(</mo><msub id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.cmml"><mi id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.2" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.2.cmml">q</mi><mi id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.3" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.3" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.E1.m1.6.6" xref="S4.E1.m1.6.6.cmml">𝒦</mi><mo id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.4" stretchy="false" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.5" stretchy="false" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E1.m1.8.8.2.2.2.2.2.4" xref="S4.E1.m1.8.8.2.2.2.2.3.cmml">,</mo><msub id="S4.E1.m1.8.8.2.2.2.2.2.2" xref="S4.E1.m1.8.8.2.2.2.2.2.2.cmml"><mi id="S4.E1.m1.8.8.2.2.2.2.2.2.2" xref="S4.E1.m1.8.8.2.2.2.2.2.2.2.cmml">c</mi><mi id="S4.E1.m1.8.8.2.2.2.2.2.2.3" xref="S4.E1.m1.8.8.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E1.m1.8.8.2.2.2.2.2.5" stretchy="false" xref="S4.E1.m1.8.8.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E1.m1.8b"><apply id="S4.E1.m1.8.8.cmml" xref="S4.E1.m1.8.8"><eq id="S4.E1.m1.8.8.3.cmml" xref="S4.E1.m1.8.8.3"></eq><apply id="S4.E1.m1.8.8.4.cmml" xref="S4.E1.m1.8.8.4"><csymbol cd="ambiguous" id="S4.E1.m1.8.8.4.1.cmml" xref="S4.E1.m1.8.8.4">superscript</csymbol><ci id="S4.E1.m1.8.8.4.2.cmml" xref="S4.E1.m1.8.8.4.2">𝒦</ci><times id="S4.E1.m1.8.8.4.3.cmml" xref="S4.E1.m1.8.8.4.3"></times></apply><apply id="S4.E1.m1.8.8.2.cmml" xref="S4.E1.m1.8.8.2"><times id="S4.E1.m1.8.8.2.3.cmml" xref="S4.E1.m1.8.8.2.3"></times><apply id="S4.E1.m1.8.8.2.4.cmml" xref="S4.E1.m1.8.8.2.4"><arg id="S4.E1.m1.8.8.2.4.1.cmml" xref="S4.E1.m1.8.8.2.4.1"></arg><apply id="S4.E1.m1.8.8.2.4.2.cmml" xref="S4.E1.m1.8.8.2.4.2"><apply id="S4.E1.m1.8.8.2.4.2.1.cmml" xref="S4.E1.m1.8.8.2.4.2.1"><csymbol cd="ambiguous" id="S4.E1.m1.8.8.2.4.2.1.1.cmml" xref="S4.E1.m1.8.8.2.4.2.1">subscript</csymbol><max id="S4.E1.m1.8.8.2.4.2.1.2.cmml" xref="S4.E1.m1.8.8.2.4.2.1.2"></max><ci id="S4.E1.m1.8.8.2.4.2.1.3.cmml" xref="S4.E1.m1.8.8.2.4.2.1.3">𝒦</ci></apply><apply id="S4.E1.m1.1.1.cmml" xref="S4.E1.m1.1.1"><divide id="S4.E1.m1.1.1.2.cmml" xref="S4.E1.m1.1.1"></divide><cn id="S4.E1.m1.1.1.3.cmml" type="integer" xref="S4.E1.m1.1.1.3">1</cn><apply id="S4.E1.m1.1.1.1.2.cmml" xref="S4.E1.m1.1.1.1.3"><abs id="S4.E1.m1.1.1.1.2.1.cmml" xref="S4.E1.m1.1.1.1.3.1"></abs><ci id="S4.E1.m1.1.1.1.1.cmml" xref="S4.E1.m1.1.1.1.1">𝑇</ci></apply></apply></apply></apply><apply id="S4.E1.m1.8.8.2.2.cmml" xref="S4.E1.m1.8.8.2.2"><apply id="S4.E1.m1.8.8.2.2.3.cmml" xref="S4.E1.m1.8.8.2.2.3"><csymbol cd="ambiguous" id="S4.E1.m1.8.8.2.2.3.1.cmml" xref="S4.E1.m1.8.8.2.2.3">subscript</csymbol><sum id="S4.E1.m1.8.8.2.2.3.2.cmml" xref="S4.E1.m1.8.8.2.2.3.2"></sum><apply id="S4.E1.m1.5.5.4.cmml" xref="S4.E1.m1.5.5.4"><in id="S4.E1.m1.5.5.4.5.cmml" xref="S4.E1.m1.5.5.4.5"></in><vector id="S4.E1.m1.5.5.4.4.5.cmml" xref="S4.E1.m1.5.5.4.4.4"><apply id="S4.E1.m1.2.2.1.1.1.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.2.2.1.1.1.1.1.cmml" xref="S4.E1.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S4.E1.m1.2.2.1.1.1.1.2.cmml" xref="S4.E1.m1.2.2.1.1.1.1.2">𝑞</ci><ci id="S4.E1.m1.2.2.1.1.1.1.3.cmml" xref="S4.E1.m1.2.2.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E1.m1.3.3.2.2.2.2.cmml" xref="S4.E1.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S4.E1.m1.3.3.2.2.2.2.1.cmml" xref="S4.E1.m1.3.3.2.2.2.2">subscript</csymbol><ci id="S4.E1.m1.3.3.2.2.2.2.2.cmml" xref="S4.E1.m1.3.3.2.2.2.2.2">𝑎</ci><ci id="S4.E1.m1.3.3.2.2.2.2.3.cmml" xref="S4.E1.m1.3.3.2.2.2.2.3">𝑖</ci></apply><apply id="S4.E1.m1.4.4.3.3.3.3.cmml" xref="S4.E1.m1.4.4.3.3.3.3"><csymbol cd="ambiguous" id="S4.E1.m1.4.4.3.3.3.3.1.cmml" xref="S4.E1.m1.4.4.3.3.3.3">subscript</csymbol><ci id="S4.E1.m1.4.4.3.3.3.3.2.cmml" xref="S4.E1.m1.4.4.3.3.3.3.2">𝑐</ci><ci id="S4.E1.m1.4.4.3.3.3.3.3.cmml" xref="S4.E1.m1.4.4.3.3.3.3.3">𝑖</ci></apply><apply id="S4.E1.m1.5.5.4.4.4.4.cmml" xref="S4.E1.m1.5.5.4.4.4.4"><csymbol cd="ambiguous" id="S4.E1.m1.5.5.4.4.4.4.1.cmml" xref="S4.E1.m1.5.5.4.4.4.4">subscript</csymbol><ci id="S4.E1.m1.5.5.4.4.4.4.2.cmml" xref="S4.E1.m1.5.5.4.4.4.4.2">𝑓</ci><ci id="S4.E1.m1.5.5.4.4.4.4.3.cmml" xref="S4.E1.m1.5.5.4.4.4.4.3">𝑖</ci></apply></vector><ci id="S4.E1.m1.5.5.4.6.cmml" xref="S4.E1.m1.5.5.4.6">𝑇</ci></apply></apply><apply id="S4.E1.m1.8.8.2.2.2.cmml" xref="S4.E1.m1.8.8.2.2.2"><times id="S4.E1.m1.8.8.2.2.2.3.cmml" xref="S4.E1.m1.8.8.2.2.2.3"></times><ci id="S4.E1.m1.8.8.2.2.2.4.cmml" xref="S4.E1.m1.8.8.2.2.2.4">𝑔</ci><interval closure="open" id="S4.E1.m1.8.8.2.2.2.2.3.cmml" xref="S4.E1.m1.8.8.2.2.2.2.2"><apply id="S4.E1.m1.7.7.1.1.1.1.1.1.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1"><times id="S4.E1.m1.7.7.1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.3"></times><ci id="S4.E1.m1.7.7.1.1.1.1.1.1.4.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.4">ℬ</ci><interval closure="open" id="S4.E1.m1.7.7.1.1.1.1.1.1.2.3.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2"><apply id="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.2">𝑞</ci><ci id="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2"><times id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.2"></times><ci id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.3">Γ</ci><interval closure="open" id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.2.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1"><apply id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.1.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1">subscript</csymbol><ci id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.2.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.2">𝑞</ci><ci id="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.3.cmml" xref="S4.E1.m1.7.7.1.1.1.1.1.1.2.2.2.1.1.1.3">𝑖</ci></apply><ci id="S4.E1.m1.6.6.cmml" xref="S4.E1.m1.6.6">𝒦</ci></interval></apply></interval></apply><apply id="S4.E1.m1.8.8.2.2.2.2.2.2.cmml" xref="S4.E1.m1.8.8.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E1.m1.8.8.2.2.2.2.2.2.1.cmml" xref="S4.E1.m1.8.8.2.2.2.2.2.2">subscript</csymbol><ci id="S4.E1.m1.8.8.2.2.2.2.2.2.2.cmml" xref="S4.E1.m1.8.8.2.2.2.2.2.2.2">𝑐</ci><ci id="S4.E1.m1.8.8.2.2.2.2.2.2.3.cmml" xref="S4.E1.m1.8.8.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E1.m1.8c">\displaystyle\mathcal{K}^{*}=\arg\max_{\mathcal{K}}\frac{1}{|T|}\sum_{(q_{i},a%
_{i},c_{i},f_{i})\in T}g(\mathcal{B}(q_{i},\Gamma(q_{i},\mathcal{K})),c_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.E1.m1.8d">caligraphic_K start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT = roman_arg roman_max start_POSTSUBSCRIPT caligraphic_K end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG | italic_T | end_ARG ∑ start_POSTSUBSCRIPT ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∈ italic_T end_POSTSUBSCRIPT italic_g ( caligraphic_B ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , roman_Γ ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , caligraphic_K ) ) , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS1.p3">
<p class="ltx_p" id="S4.SS1.p3.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS1.p3.1.1">In the next section, we show how such an objective can be seen as a state search problem.</span></p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S4.SS2.1.1.1">4.2</span> </span>Knowledge Base Editing as State Search</h3>
<div class="ltx_para ltx_noindent" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.5"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.5.1">In our problem setting, the Knowledge Base (</span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><ci id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.5.2">) is defined as a collection of documents </span><math alttext="\mathcal{K}=\{D_{i}\}_{i=1}^{n}" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.1"><semantics id="S4.SS2.p1.2.m2.1a"><mrow id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3.cmml">𝒦</mi><mo id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2.cmml">=</mo><msubsup id="S4.SS2.p1.2.m2.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.cmml"><mrow id="S4.SS2.p1.2.m2.1.1.1.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.1.1.2.cmml"><mo id="S4.SS2.p1.2.m2.1.1.1.1.1.1.2" stretchy="false" xref="S4.SS2.p1.2.m2.1.1.1.1.1.2.cmml">{</mo><msub id="S4.SS2.p1.2.m2.1.1.1.1.1.1.1" xref="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.cmml"><mi id="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.2" xref="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.3" xref="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.p1.2.m2.1.1.1.1.1.1.3" stretchy="false" xref="S4.SS2.p1.2.m2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS2.p1.2.m2.1.1.1.1.3" xref="S4.SS2.p1.2.m2.1.1.1.1.3.cmml"><mi id="S4.SS2.p1.2.m2.1.1.1.1.3.2" xref="S4.SS2.p1.2.m2.1.1.1.1.3.2.cmml">i</mi><mo id="S4.SS2.p1.2.m2.1.1.1.1.3.1" xref="S4.SS2.p1.2.m2.1.1.1.1.3.1.cmml">=</mo><mn id="S4.SS2.p1.2.m2.1.1.1.1.3.3" xref="S4.SS2.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S4.SS2.p1.2.m2.1.1.1.3" xref="S4.SS2.p1.2.m2.1.1.1.3.cmml">n</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><eq id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2"></eq><ci id="S4.SS2.p1.2.m2.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.3">𝒦</ci><apply id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.1.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.1">superscript</csymbol><apply id="S4.SS2.p1.2.m2.1.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.1.1.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.1">subscript</csymbol><set id="S4.SS2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.1"><apply id="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.2">𝐷</ci><ci id="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS2.p1.2.m2.1.1.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.3"><eq id="S4.SS2.p1.2.m2.1.1.1.1.3.1.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.3.1"></eq><ci id="S4.SS2.p1.2.m2.1.1.1.1.3.2.cmml" xref="S4.SS2.p1.2.m2.1.1.1.1.3.2">𝑖</ci><cn id="S4.SS2.p1.2.m2.1.1.1.1.3.3.cmml" type="integer" xref="S4.SS2.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS2.p1.2.m2.1.1.1.3.cmml" xref="S4.SS2.p1.2.m2.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">\mathcal{K}=\{D_{i}\}_{i=1}^{n}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.1d">caligraphic_K = { italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.5.3">. We assume each document consists of a number of chunks of text and can be represented as </span><math alttext="D_{i}=[c_{ij}]" class="ltx_Math" display="inline" id="S4.SS2.p1.3.m3.1"><semantics id="S4.SS2.p1.3.m3.1a"><mrow id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml"><msub id="S4.SS2.p1.3.m3.1.1.3" xref="S4.SS2.p1.3.m3.1.1.3.cmml"><mi id="S4.SS2.p1.3.m3.1.1.3.2" xref="S4.SS2.p1.3.m3.1.1.3.2.cmml">D</mi><mi id="S4.SS2.p1.3.m3.1.1.3.3" xref="S4.SS2.p1.3.m3.1.1.3.3.cmml">i</mi></msub><mo id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2.cmml">=</mo><mrow id="S4.SS2.p1.3.m3.1.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.2.cmml"><mo id="S4.SS2.p1.3.m3.1.1.1.1.2" stretchy="false" xref="S4.SS2.p1.3.m3.1.1.1.2.1.cmml">[</mo><msub id="S4.SS2.p1.3.m3.1.1.1.1.1" xref="S4.SS2.p1.3.m3.1.1.1.1.1.cmml"><mi id="S4.SS2.p1.3.m3.1.1.1.1.1.2" xref="S4.SS2.p1.3.m3.1.1.1.1.1.2.cmml">c</mi><mrow id="S4.SS2.p1.3.m3.1.1.1.1.1.3" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p1.3.m3.1.1.1.1.1.3.2" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.2.cmml">i</mi><mo id="S4.SS2.p1.3.m3.1.1.1.1.1.3.1" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS2.p1.3.m3.1.1.1.1.1.3.3" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S4.SS2.p1.3.m3.1.1.1.1.3" stretchy="false" xref="S4.SS2.p1.3.m3.1.1.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1"><eq id="S4.SS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.2"></eq><apply id="S4.SS2.p1.3.m3.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.1.1.3.1.cmml" xref="S4.SS2.p1.3.m3.1.1.3">subscript</csymbol><ci id="S4.SS2.p1.3.m3.1.1.3.2.cmml" xref="S4.SS2.p1.3.m3.1.1.3.2">𝐷</ci><ci id="S4.SS2.p1.3.m3.1.1.3.3.cmml" xref="S4.SS2.p1.3.m3.1.1.3.3">𝑖</ci></apply><apply id="S4.SS2.p1.3.m3.1.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p1.3.m3.1.1.1.2.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.SS2.p1.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p1.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.2">𝑐</ci><apply id="S4.SS2.p1.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3"><times id="S4.SS2.p1.3.m3.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.1"></times><ci id="S4.SS2.p1.3.m3.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.2">𝑖</ci><ci id="S4.SS2.p1.3.m3.1.1.1.1.1.3.3.cmml" xref="S4.SS2.p1.3.m3.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">D_{i}=[c_{ij}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.3.m3.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ italic_c start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT ]</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.5.4">. The state </span><math alttext="s\in\mathcal{S}" class="ltx_Math" display="inline" id="S4.SS2.p1.4.m4.1"><semantics id="S4.SS2.p1.4.m4.1a"><mrow id="S4.SS2.p1.4.m4.1.1" xref="S4.SS2.p1.4.m4.1.1.cmml"><mi id="S4.SS2.p1.4.m4.1.1.2" xref="S4.SS2.p1.4.m4.1.1.2.cmml">s</mi><mo id="S4.SS2.p1.4.m4.1.1.1" xref="S4.SS2.p1.4.m4.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.4.m4.1.1.3" xref="S4.SS2.p1.4.m4.1.1.3.cmml">𝒮</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.4.m4.1b"><apply id="S4.SS2.p1.4.m4.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1"><in id="S4.SS2.p1.4.m4.1.1.1.cmml" xref="S4.SS2.p1.4.m4.1.1.1"></in><ci id="S4.SS2.p1.4.m4.1.1.2.cmml" xref="S4.SS2.p1.4.m4.1.1.2">𝑠</ci><ci id="S4.SS2.p1.4.m4.1.1.3.cmml" xref="S4.SS2.p1.4.m4.1.1.3">𝒮</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.4.m4.1c">s\in\mathcal{S}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.4.m4.1d">italic_s ∈ caligraphic_S</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.5.5"> of the system is represented by the current configuration of the KB, i.e., the content of all documents in </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS2.p1.5.m5.1"><semantics id="S4.SS2.p1.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p1.5.m5.1.1" xref="S4.SS2.p1.5.m5.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.5.m5.1b"><ci id="S4.SS2.p1.5.m5.1.1.cmml" xref="S4.SS2.p1.5.m5.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.5.m5.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.5.m5.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p1.5.6">.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.6"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.6.1">Given a query </span><math alttext="q_{i}" class="ltx_Math" display="inline" id="S4.SS2.p2.1.m1.1"><semantics id="S4.SS2.p2.1.m1.1a"><msub id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml"><mi id="S4.SS2.p2.1.m1.1.1.2" xref="S4.SS2.p2.1.m1.1.1.2.cmml">q</mi><mi id="S4.SS2.p2.1.m1.1.1.3" xref="S4.SS2.p2.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><apply id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.1.m1.1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p2.1.m1.1.1.2.cmml" xref="S4.SS2.p2.1.m1.1.1.2">𝑞</ci><ci id="S4.SS2.p2.1.m1.1.1.3.cmml" xref="S4.SS2.p2.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.1.m1.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.6.2"> and a set of retrieved documents </span><math alttext="\Gamma(q_{i},\mathcal{K})" class="ltx_Math" display="inline" id="S4.SS2.p2.2.m2.2"><semantics id="S4.SS2.p2.2.m2.2a"><mrow id="S4.SS2.p2.2.m2.2.2" xref="S4.SS2.p2.2.m2.2.2.cmml"><mi id="S4.SS2.p2.2.m2.2.2.3" mathvariant="normal" xref="S4.SS2.p2.2.m2.2.2.3.cmml">Γ</mi><mo id="S4.SS2.p2.2.m2.2.2.2" xref="S4.SS2.p2.2.m2.2.2.2.cmml">⁢</mo><mrow id="S4.SS2.p2.2.m2.2.2.1.1" xref="S4.SS2.p2.2.m2.2.2.1.2.cmml"><mo id="S4.SS2.p2.2.m2.2.2.1.1.2" stretchy="false" xref="S4.SS2.p2.2.m2.2.2.1.2.cmml">(</mo><msub id="S4.SS2.p2.2.m2.2.2.1.1.1" xref="S4.SS2.p2.2.m2.2.2.1.1.1.cmml"><mi id="S4.SS2.p2.2.m2.2.2.1.1.1.2" xref="S4.SS2.p2.2.m2.2.2.1.1.1.2.cmml">q</mi><mi id="S4.SS2.p2.2.m2.2.2.1.1.1.3" xref="S4.SS2.p2.2.m2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.p2.2.m2.2.2.1.1.3" xref="S4.SS2.p2.2.m2.2.2.1.2.cmml">,</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">𝒦</mi><mo id="S4.SS2.p2.2.m2.2.2.1.1.4" stretchy="false" xref="S4.SS2.p2.2.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.2b"><apply id="S4.SS2.p2.2.m2.2.2.cmml" xref="S4.SS2.p2.2.m2.2.2"><times id="S4.SS2.p2.2.m2.2.2.2.cmml" xref="S4.SS2.p2.2.m2.2.2.2"></times><ci id="S4.SS2.p2.2.m2.2.2.3.cmml" xref="S4.SS2.p2.2.m2.2.2.3">Γ</ci><interval closure="open" id="S4.SS2.p2.2.m2.2.2.1.2.cmml" xref="S4.SS2.p2.2.m2.2.2.1.1"><apply id="S4.SS2.p2.2.m2.2.2.1.1.1.cmml" xref="S4.SS2.p2.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.2.m2.2.2.1.1.1.1.cmml" xref="S4.SS2.p2.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S4.SS2.p2.2.m2.2.2.1.1.1.2.cmml" xref="S4.SS2.p2.2.m2.2.2.1.1.1.2">𝑞</ci><ci id="S4.SS2.p2.2.m2.2.2.1.1.1.3.cmml" xref="S4.SS2.p2.2.m2.2.2.1.1.1.3">𝑖</ci></apply><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">𝒦</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.2c">\Gamma(q_{i},\mathcal{K})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.2.m2.2d">roman_Γ ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , caligraphic_K )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.6.3">, the LLM </span><math alttext="\mathcal{B}" class="ltx_Math" display="inline" id="S4.SS2.p2.3.m3.1"><semantics id="S4.SS2.p2.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml">ℬ</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><ci id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">ℬ</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">\mathcal{B}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.3.m3.1d">caligraphic_B</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.6.4"> generates an answer </span><math alttext="o_{i}" class="ltx_Math" display="inline" id="S4.SS2.p2.4.m4.1"><semantics id="S4.SS2.p2.4.m4.1a"><msub id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml"><mi id="S4.SS2.p2.4.m4.1.1.2" xref="S4.SS2.p2.4.m4.1.1.2.cmml">o</mi><mi id="S4.SS2.p2.4.m4.1.1.3" xref="S4.SS2.p2.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><apply id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.4.m4.1.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.p2.4.m4.1.1.2.cmml" xref="S4.SS2.p2.4.m4.1.1.2">𝑜</ci><ci id="S4.SS2.p2.4.m4.1.1.3.cmml" xref="S4.SS2.p2.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">o_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.4.m4.1d">italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.6.5">. When errors arise due to incomplete or incorrect information in the retrieved documents, our goal is to identify the optimal configuration of </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS2.p2.5.m5.1"><semantics id="S4.SS2.p2.5.m5.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><ci id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.5.m5.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.6.6"> that improves the accuracy of the system’s responses. Thus, we define our state search problem as finding the best state </span><math alttext="s^{*}" class="ltx_Math" display="inline" id="S4.SS2.p2.6.m6.1"><semantics id="S4.SS2.p2.6.m6.1a"><msup id="S4.SS2.p2.6.m6.1.1" xref="S4.SS2.p2.6.m6.1.1.cmml"><mi id="S4.SS2.p2.6.m6.1.1.2" xref="S4.SS2.p2.6.m6.1.1.2.cmml">s</mi><mo id="S4.SS2.p2.6.m6.1.1.3" xref="S4.SS2.p2.6.m6.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.6.m6.1b"><apply id="S4.SS2.p2.6.m6.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS2.p2.6.m6.1.1.1.cmml" xref="S4.SS2.p2.6.m6.1.1">superscript</csymbol><ci id="S4.SS2.p2.6.m6.1.1.2.cmml" xref="S4.SS2.p2.6.m6.1.1.2">𝑠</ci><times id="S4.SS2.p2.6.m6.1.1.3.cmml" xref="S4.SS2.p2.6.m6.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.6.m6.1c">s^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p2.6.m6.1d">italic_s start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p2.6.7"> of the KB.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.9"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS2.p3.9.1">State Space:</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.2"> The state space </span><math alttext="\mathcal{S}" class="ltx_Math" display="inline" id="S4.SS2.p3.1.m1.1"><semantics id="S4.SS2.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><ci id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">\mathcal{S}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">caligraphic_S</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.3"> encompasses all possible configurations of the KB. Each state </span><math alttext="s" class="ltx_Math" display="inline" id="S4.SS2.p3.2.m2.1"><semantics id="S4.SS2.p3.2.m2.1a"><mi id="S4.SS2.p3.2.m2.1.1" xref="S4.SS2.p3.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.1b"><ci id="S4.SS2.p3.2.m2.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.2.m2.1d">italic_s</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.4"> corresponds to a particular set of document contents, represented as: </span><math alttext="s=\{D_{i}\}_{i=1}^{n}," class="ltx_Math" display="inline" id="S4.SS2.p3.3.m3.1"><semantics id="S4.SS2.p3.3.m3.1a"><mrow id="S4.SS2.p3.3.m3.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.1.cmml"><mrow id="S4.SS2.p3.3.m3.1.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.1.cmml"><mi id="S4.SS2.p3.3.m3.1.1.1.1.3" xref="S4.SS2.p3.3.m3.1.1.1.1.3.cmml">s</mi><mo id="S4.SS2.p3.3.m3.1.1.1.1.2" xref="S4.SS2.p3.3.m3.1.1.1.1.2.cmml">=</mo><msubsup id="S4.SS2.p3.3.m3.1.1.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.1.1.cmml"><mrow id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.2.cmml"><mo id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.2.cmml">{</mo><msub id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.2.cmml">D</mi><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S4.SS2.p3.3.m3.1.1.1.1.1.1.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.cmml"><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.2" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.2.cmml">i</mi><mo id="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.1" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.1.cmml">=</mo><mn id="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.3.cmml">1</mn></mrow><mi id="S4.SS2.p3.3.m3.1.1.1.1.1.3" xref="S4.SS2.p3.3.m3.1.1.1.1.1.3.cmml">n</mi></msubsup></mrow><mo id="S4.SS2.p3.3.m3.1.1.1.2" xref="S4.SS2.p3.3.m3.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.3.m3.1b"><apply id="S4.SS2.p3.3.m3.1.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1"><eq id="S4.SS2.p3.3.m3.1.1.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.2"></eq><ci id="S4.SS2.p3.3.m3.1.1.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.3">𝑠</ci><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1">superscript</csymbol><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1">subscript</csymbol><set id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1"><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.2">𝐷</ci><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply></set><apply id="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.3"><eq id="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.1"></eq><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.2.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.2">𝑖</ci><cn id="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.SS2.p3.3.m3.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS2.p3.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.3.m3.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.3.m3.1c">s=\{D_{i}\}_{i=1}^{n},</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.3.m3.1d">italic_s = { italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT } start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_n end_POSTSUPERSCRIPT ,</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.5"> where </span><math alttext="D_{i}" class="ltx_Math" display="inline" id="S4.SS2.p3.4.m4.1"><semantics id="S4.SS2.p3.4.m4.1a"><msub id="S4.SS2.p3.4.m4.1.1" xref="S4.SS2.p3.4.m4.1.1.cmml"><mi id="S4.SS2.p3.4.m4.1.1.2" xref="S4.SS2.p3.4.m4.1.1.2.cmml">D</mi><mi id="S4.SS2.p3.4.m4.1.1.3" xref="S4.SS2.p3.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.4.m4.1b"><apply id="S4.SS2.p3.4.m4.1.1.cmml" xref="S4.SS2.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.4.m4.1.1.1.cmml" xref="S4.SS2.p3.4.m4.1.1">subscript</csymbol><ci id="S4.SS2.p3.4.m4.1.1.2.cmml" xref="S4.SS2.p3.4.m4.1.1.2">𝐷</ci><ci id="S4.SS2.p3.4.m4.1.1.3.cmml" xref="S4.SS2.p3.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.4.m4.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.4.m4.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.6"> denotes the content of document </span><math alttext="i" class="ltx_Math" display="inline" id="S4.SS2.p3.5.m5.1"><semantics id="S4.SS2.p3.5.m5.1a"><mi id="S4.SS2.p3.5.m5.1.1" xref="S4.SS2.p3.5.m5.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.5.m5.1b"><ci id="S4.SS2.p3.5.m5.1.1.cmml" xref="S4.SS2.p3.5.m5.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.5.m5.1c">i</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.5.m5.1d">italic_i</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.7"> and </span><math alttext="n" class="ltx_Math" display="inline" id="S4.SS2.p3.6.m6.1"><semantics id="S4.SS2.p3.6.m6.1a"><mi id="S4.SS2.p3.6.m6.1.1" xref="S4.SS2.p3.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.6.m6.1b"><ci id="S4.SS2.p3.6.m6.1.1.cmml" xref="S4.SS2.p3.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.6.m6.1c">n</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.6.m6.1d">italic_n</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.8"> is the number of documents in </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS2.p3.7.m7.1"><semantics id="S4.SS2.p3.7.m7.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p3.7.m7.1.1" xref="S4.SS2.p3.7.m7.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.7.m7.1b"><ci id="S4.SS2.p3.7.m7.1.1.cmml" xref="S4.SS2.p3.7.m7.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.7.m7.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.7.m7.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.9">. The state </span><math alttext="s" class="ltx_Math" display="inline" id="S4.SS2.p3.8.m8.1"><semantics id="S4.SS2.p3.8.m8.1a"><mi id="S4.SS2.p3.8.m8.1.1" xref="S4.SS2.p3.8.m8.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.8.m8.1b"><ci id="S4.SS2.p3.8.m8.1.1.cmml" xref="S4.SS2.p3.8.m8.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.8.m8.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.8.m8.1d">italic_s</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.10"> captures the overall structure and content of the KB at any given point. We set </span><math alttext="s_{0}=\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS2.p3.9.m9.1"><semantics id="S4.SS2.p3.9.m9.1a"><mrow id="S4.SS2.p3.9.m9.1.1" xref="S4.SS2.p3.9.m9.1.1.cmml"><msub id="S4.SS2.p3.9.m9.1.1.2" xref="S4.SS2.p3.9.m9.1.1.2.cmml"><mi id="S4.SS2.p3.9.m9.1.1.2.2" xref="S4.SS2.p3.9.m9.1.1.2.2.cmml">s</mi><mn id="S4.SS2.p3.9.m9.1.1.2.3" xref="S4.SS2.p3.9.m9.1.1.2.3.cmml">0</mn></msub><mo id="S4.SS2.p3.9.m9.1.1.1" xref="S4.SS2.p3.9.m9.1.1.1.cmml">=</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p3.9.m9.1.1.3" xref="S4.SS2.p3.9.m9.1.1.3.cmml">𝒦</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.9.m9.1b"><apply id="S4.SS2.p3.9.m9.1.1.cmml" xref="S4.SS2.p3.9.m9.1.1"><eq id="S4.SS2.p3.9.m9.1.1.1.cmml" xref="S4.SS2.p3.9.m9.1.1.1"></eq><apply id="S4.SS2.p3.9.m9.1.1.2.cmml" xref="S4.SS2.p3.9.m9.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p3.9.m9.1.1.2.1.cmml" xref="S4.SS2.p3.9.m9.1.1.2">subscript</csymbol><ci id="S4.SS2.p3.9.m9.1.1.2.2.cmml" xref="S4.SS2.p3.9.m9.1.1.2.2">𝑠</ci><cn id="S4.SS2.p3.9.m9.1.1.2.3.cmml" type="integer" xref="S4.SS2.p3.9.m9.1.1.2.3">0</cn></apply><ci id="S4.SS2.p3.9.m9.1.1.3.cmml" xref="S4.SS2.p3.9.m9.1.1.3">𝒦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.9.m9.1c">s_{0}=\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.9.m9.1d">italic_s start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p3.9.11">.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.5"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS2.p4.5.1">State Transition Function:</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p4.5.2"> The state transition function </span><math alttext="\mathcal{T}(s,u)" class="ltx_Math" display="inline" id="S4.SS2.p4.1.m1.2"><semantics id="S4.SS2.p4.1.m1.2a"><mrow id="S4.SS2.p4.1.m1.2.3" xref="S4.SS2.p4.1.m1.2.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p4.1.m1.2.3.2" xref="S4.SS2.p4.1.m1.2.3.2.cmml">𝒯</mi><mo id="S4.SS2.p4.1.m1.2.3.1" xref="S4.SS2.p4.1.m1.2.3.1.cmml">⁢</mo><mrow id="S4.SS2.p4.1.m1.2.3.3.2" xref="S4.SS2.p4.1.m1.2.3.3.1.cmml"><mo id="S4.SS2.p4.1.m1.2.3.3.2.1" stretchy="false" xref="S4.SS2.p4.1.m1.2.3.3.1.cmml">(</mo><mi id="S4.SS2.p4.1.m1.1.1" xref="S4.SS2.p4.1.m1.1.1.cmml">s</mi><mo id="S4.SS2.p4.1.m1.2.3.3.2.2" xref="S4.SS2.p4.1.m1.2.3.3.1.cmml">,</mo><mi id="S4.SS2.p4.1.m1.2.2" xref="S4.SS2.p4.1.m1.2.2.cmml">u</mi><mo id="S4.SS2.p4.1.m1.2.3.3.2.3" stretchy="false" xref="S4.SS2.p4.1.m1.2.3.3.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.2b"><apply id="S4.SS2.p4.1.m1.2.3.cmml" xref="S4.SS2.p4.1.m1.2.3"><times id="S4.SS2.p4.1.m1.2.3.1.cmml" xref="S4.SS2.p4.1.m1.2.3.1"></times><ci id="S4.SS2.p4.1.m1.2.3.2.cmml" xref="S4.SS2.p4.1.m1.2.3.2">𝒯</ci><interval closure="open" id="S4.SS2.p4.1.m1.2.3.3.1.cmml" xref="S4.SS2.p4.1.m1.2.3.3.2"><ci id="S4.SS2.p4.1.m1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1">𝑠</ci><ci id="S4.SS2.p4.1.m1.2.2.cmml" xref="S4.SS2.p4.1.m1.2.2">𝑢</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.2c">\mathcal{T}(s,u)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.1.m1.2d">caligraphic_T ( italic_s , italic_u )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p4.5.3"> defines how the KB changes in response to the action </span><math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.p4.2.m2.1"><semantics id="S4.SS2.p4.2.m2.1a"><mi id="S4.SS2.p4.2.m2.1.1" xref="S4.SS2.p4.2.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.2.m2.1b"><ci id="S4.SS2.p4.2.m2.1.1.cmml" xref="S4.SS2.p4.2.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.2.m2.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.2.m2.1d">italic_u</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p4.5.4"> taken by the agent. Each action contains modifications to one or more documents within the KB, resulting in a new KB configuration. The state transition is formalized as: </span><math alttext="s^{\prime}=\mathcal{T}(s,u)," class="ltx_Math" display="inline" id="S4.SS2.p4.3.m3.3"><semantics id="S4.SS2.p4.3.m3.3a"><mrow id="S4.SS2.p4.3.m3.3.3.1" xref="S4.SS2.p4.3.m3.3.3.1.1.cmml"><mrow id="S4.SS2.p4.3.m3.3.3.1.1" xref="S4.SS2.p4.3.m3.3.3.1.1.cmml"><msup id="S4.SS2.p4.3.m3.3.3.1.1.2" xref="S4.SS2.p4.3.m3.3.3.1.1.2.cmml"><mi id="S4.SS2.p4.3.m3.3.3.1.1.2.2" xref="S4.SS2.p4.3.m3.3.3.1.1.2.2.cmml">s</mi><mo id="S4.SS2.p4.3.m3.3.3.1.1.2.3" xref="S4.SS2.p4.3.m3.3.3.1.1.2.3.cmml">′</mo></msup><mo id="S4.SS2.p4.3.m3.3.3.1.1.1" xref="S4.SS2.p4.3.m3.3.3.1.1.1.cmml">=</mo><mrow id="S4.SS2.p4.3.m3.3.3.1.1.3" xref="S4.SS2.p4.3.m3.3.3.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p4.3.m3.3.3.1.1.3.2" xref="S4.SS2.p4.3.m3.3.3.1.1.3.2.cmml">𝒯</mi><mo id="S4.SS2.p4.3.m3.3.3.1.1.3.1" xref="S4.SS2.p4.3.m3.3.3.1.1.3.1.cmml">⁢</mo><mrow id="S4.SS2.p4.3.m3.3.3.1.1.3.3.2" xref="S4.SS2.p4.3.m3.3.3.1.1.3.3.1.cmml"><mo id="S4.SS2.p4.3.m3.3.3.1.1.3.3.2.1" stretchy="false" xref="S4.SS2.p4.3.m3.3.3.1.1.3.3.1.cmml">(</mo><mi id="S4.SS2.p4.3.m3.1.1" xref="S4.SS2.p4.3.m3.1.1.cmml">s</mi><mo id="S4.SS2.p4.3.m3.3.3.1.1.3.3.2.2" xref="S4.SS2.p4.3.m3.3.3.1.1.3.3.1.cmml">,</mo><mi id="S4.SS2.p4.3.m3.2.2" xref="S4.SS2.p4.3.m3.2.2.cmml">u</mi><mo id="S4.SS2.p4.3.m3.3.3.1.1.3.3.2.3" stretchy="false" xref="S4.SS2.p4.3.m3.3.3.1.1.3.3.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.SS2.p4.3.m3.3.3.1.2" xref="S4.SS2.p4.3.m3.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.3.m3.3b"><apply id="S4.SS2.p4.3.m3.3.3.1.1.cmml" xref="S4.SS2.p4.3.m3.3.3.1"><eq id="S4.SS2.p4.3.m3.3.3.1.1.1.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.1"></eq><apply id="S4.SS2.p4.3.m3.3.3.1.1.2.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p4.3.m3.3.3.1.1.2.1.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.2">superscript</csymbol><ci id="S4.SS2.p4.3.m3.3.3.1.1.2.2.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.2.2">𝑠</ci><ci id="S4.SS2.p4.3.m3.3.3.1.1.2.3.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.2.3">′</ci></apply><apply id="S4.SS2.p4.3.m3.3.3.1.1.3.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.3"><times id="S4.SS2.p4.3.m3.3.3.1.1.3.1.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.3.1"></times><ci id="S4.SS2.p4.3.m3.3.3.1.1.3.2.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.3.2">𝒯</ci><interval closure="open" id="S4.SS2.p4.3.m3.3.3.1.1.3.3.1.cmml" xref="S4.SS2.p4.3.m3.3.3.1.1.3.3.2"><ci id="S4.SS2.p4.3.m3.1.1.cmml" xref="S4.SS2.p4.3.m3.1.1">𝑠</ci><ci id="S4.SS2.p4.3.m3.2.2.cmml" xref="S4.SS2.p4.3.m3.2.2">𝑢</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.3.m3.3c">s^{\prime}=\mathcal{T}(s,u),</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.3.m3.3d">italic_s start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT = caligraphic_T ( italic_s , italic_u ) ,</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p4.5.5"> where </span><math alttext="s^{\prime}" class="ltx_Math" display="inline" id="S4.SS2.p4.4.m4.1"><semantics id="S4.SS2.p4.4.m4.1a"><msup id="S4.SS2.p4.4.m4.1.1" xref="S4.SS2.p4.4.m4.1.1.cmml"><mi id="S4.SS2.p4.4.m4.1.1.2" xref="S4.SS2.p4.4.m4.1.1.2.cmml">s</mi><mo id="S4.SS2.p4.4.m4.1.1.3" xref="S4.SS2.p4.4.m4.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.4.m4.1b"><apply id="S4.SS2.p4.4.m4.1.1.cmml" xref="S4.SS2.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.4.m4.1.1.1.cmml" xref="S4.SS2.p4.4.m4.1.1">superscript</csymbol><ci id="S4.SS2.p4.4.m4.1.1.2.cmml" xref="S4.SS2.p4.4.m4.1.1.2">𝑠</ci><ci id="S4.SS2.p4.4.m4.1.1.3.cmml" xref="S4.SS2.p4.4.m4.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.4.m4.1c">s^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.4.m4.1d">italic_s start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p4.5.6"> is the new state of the KB after applying </span><math alttext="u" class="ltx_Math" display="inline" id="S4.SS2.p4.5.m5.1"><semantics id="S4.SS2.p4.5.m5.1a"><mi id="S4.SS2.p4.5.m5.1.1" xref="S4.SS2.p4.5.m5.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.5.m5.1b"><ci id="S4.SS2.p4.5.m5.1.1.cmml" xref="S4.SS2.p4.5.m5.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.5.m5.1c">u</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.5.m5.1d">italic_u</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p4.5.7">.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p5">
<p class="ltx_p" id="S4.SS2.p5.4"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS2.p5.4.1">Action Space:</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p5.4.2"> The action space </span><math alttext="\mathcal{A}" class="ltx_Math" display="inline" id="S4.SS2.p5.1.m1.1"><semantics id="S4.SS2.p5.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p5.1.m1.1.1" xref="S4.SS2.p5.1.m1.1.1.cmml">𝒜</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.1.m1.1b"><ci id="S4.SS2.p5.1.m1.1.1.cmml" xref="S4.SS2.p5.1.m1.1.1">𝒜</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.1.m1.1c">\mathcal{A}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.1.m1.1d">caligraphic_A</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p5.4.3"> consists of list of diffs </span><math alttext="d_{i}" class="ltx_Math" display="inline" id="S4.SS2.p5.2.m2.1"><semantics id="S4.SS2.p5.2.m2.1a"><msub id="S4.SS2.p5.2.m2.1.1" xref="S4.SS2.p5.2.m2.1.1.cmml"><mi id="S4.SS2.p5.2.m2.1.1.2" xref="S4.SS2.p5.2.m2.1.1.2.cmml">d</mi><mi id="S4.SS2.p5.2.m2.1.1.3" xref="S4.SS2.p5.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.2.m2.1b"><apply id="S4.SS2.p5.2.m2.1.1.cmml" xref="S4.SS2.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p5.2.m2.1.1.1.cmml" xref="S4.SS2.p5.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p5.2.m2.1.1.2.cmml" xref="S4.SS2.p5.2.m2.1.1.2">𝑑</ci><ci id="S4.SS2.p5.2.m2.1.1.3.cmml" xref="S4.SS2.p5.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.2.m2.1c">d_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.2.m2.1d">italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p5.4.4"> corresponding to each document </span><math alttext="D_{i}" class="ltx_Math" display="inline" id="S4.SS2.p5.3.m3.1"><semantics id="S4.SS2.p5.3.m3.1a"><msub id="S4.SS2.p5.3.m3.1.1" xref="S4.SS2.p5.3.m3.1.1.cmml"><mi id="S4.SS2.p5.3.m3.1.1.2" xref="S4.SS2.p5.3.m3.1.1.2.cmml">D</mi><mi id="S4.SS2.p5.3.m3.1.1.3" xref="S4.SS2.p5.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.3.m3.1b"><apply id="S4.SS2.p5.3.m3.1.1.cmml" xref="S4.SS2.p5.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p5.3.m3.1.1.1.cmml" xref="S4.SS2.p5.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.p5.3.m3.1.1.2.cmml" xref="S4.SS2.p5.3.m3.1.1.2">𝐷</ci><ci id="S4.SS2.p5.3.m3.1.1.3.cmml" xref="S4.SS2.p5.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.3.m3.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.3.m3.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p5.4.5">. Essentially, </span><math alttext="u=[d_{i}]_{i=1}^{|\mathcal{K}|}" class="ltx_Math" display="inline" id="S4.SS2.p5.4.m4.2"><semantics id="S4.SS2.p5.4.m4.2a"><mrow id="S4.SS2.p5.4.m4.2.2" xref="S4.SS2.p5.4.m4.2.2.cmml"><mi id="S4.SS2.p5.4.m4.2.2.3" xref="S4.SS2.p5.4.m4.2.2.3.cmml">u</mi><mo id="S4.SS2.p5.4.m4.2.2.2" xref="S4.SS2.p5.4.m4.2.2.2.cmml">=</mo><msubsup id="S4.SS2.p5.4.m4.2.2.1" xref="S4.SS2.p5.4.m4.2.2.1.cmml"><mrow id="S4.SS2.p5.4.m4.2.2.1.1.1.1" xref="S4.SS2.p5.4.m4.2.2.1.1.1.2.cmml"><mo id="S4.SS2.p5.4.m4.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS2.p5.4.m4.2.2.1.1.1.2.1.cmml">[</mo><msub id="S4.SS2.p5.4.m4.2.2.1.1.1.1.1" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.cmml"><mi id="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.2" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.2.cmml">d</mi><mi id="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.3" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS2.p5.4.m4.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS2.p5.4.m4.2.2.1.1.1.2.1.cmml">]</mo></mrow><mrow id="S4.SS2.p5.4.m4.2.2.1.1.3" xref="S4.SS2.p5.4.m4.2.2.1.1.3.cmml"><mi id="S4.SS2.p5.4.m4.2.2.1.1.3.2" xref="S4.SS2.p5.4.m4.2.2.1.1.3.2.cmml">i</mi><mo id="S4.SS2.p5.4.m4.2.2.1.1.3.1" xref="S4.SS2.p5.4.m4.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS2.p5.4.m4.2.2.1.1.3.3" xref="S4.SS2.p5.4.m4.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS2.p5.4.m4.1.1.1.3" xref="S4.SS2.p5.4.m4.1.1.1.2.cmml"><mo id="S4.SS2.p5.4.m4.1.1.1.3.1" stretchy="false" xref="S4.SS2.p5.4.m4.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS2.p5.4.m4.1.1.1.1" xref="S4.SS2.p5.4.m4.1.1.1.1.cmml">𝒦</mi><mo id="S4.SS2.p5.4.m4.1.1.1.3.2" stretchy="false" xref="S4.SS2.p5.4.m4.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p5.4.m4.2b"><apply id="S4.SS2.p5.4.m4.2.2.cmml" xref="S4.SS2.p5.4.m4.2.2"><eq id="S4.SS2.p5.4.m4.2.2.2.cmml" xref="S4.SS2.p5.4.m4.2.2.2"></eq><ci id="S4.SS2.p5.4.m4.2.2.3.cmml" xref="S4.SS2.p5.4.m4.2.2.3">𝑢</ci><apply id="S4.SS2.p5.4.m4.2.2.1.cmml" xref="S4.SS2.p5.4.m4.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.p5.4.m4.2.2.1.2.cmml" xref="S4.SS2.p5.4.m4.2.2.1">superscript</csymbol><apply id="S4.SS2.p5.4.m4.2.2.1.1.cmml" xref="S4.SS2.p5.4.m4.2.2.1"><csymbol cd="ambiguous" id="S4.SS2.p5.4.m4.2.2.1.1.2.cmml" xref="S4.SS2.p5.4.m4.2.2.1">subscript</csymbol><apply id="S4.SS2.p5.4.m4.2.2.1.1.1.2.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1"><csymbol cd="latexml" id="S4.SS2.p5.4.m4.2.2.1.1.1.2.1.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.1.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.2.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.2">𝑑</ci><ci id="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.3.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S4.SS2.p5.4.m4.2.2.1.1.3.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.3"><eq id="S4.SS2.p5.4.m4.2.2.1.1.3.1.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.3.1"></eq><ci id="S4.SS2.p5.4.m4.2.2.1.1.3.2.cmml" xref="S4.SS2.p5.4.m4.2.2.1.1.3.2">𝑖</ci><cn id="S4.SS2.p5.4.m4.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS2.p5.4.m4.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS2.p5.4.m4.1.1.1.2.cmml" xref="S4.SS2.p5.4.m4.1.1.1.3"><abs id="S4.SS2.p5.4.m4.1.1.1.2.1.cmml" xref="S4.SS2.p5.4.m4.1.1.1.3.1"></abs><ci id="S4.SS2.p5.4.m4.1.1.1.1.cmml" xref="S4.SS2.p5.4.m4.1.1.1.1">𝒦</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p5.4.m4.2c">u=[d_{i}]_{i=1}^{|\mathcal{K}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p5.4.m4.2d">italic_u = [ italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ] start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_K | end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p5.4.6">.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p6">
<p class="ltx_p" id="S4.SS2.p6.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS2.p6.1.1">Environment:</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p6.1.2"> We model the environment simply as a ‘‘patch’’ function, that takes the diff generated by the agent and patches the KB to produce the new state.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p7">
<p class="ltx_p" id="S4.SS2.p7.2"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS2.p7.2.1">Optimization Objective:</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p7.2.2"> Following Equation </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S4.E1" title="In 4.1 Problem Formulation ‣ 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p7.2.3">, our objective then is to find the optimal state </span><math alttext="s^{*}" class="ltx_Math" display="inline" id="S4.SS2.p7.1.m1.1"><semantics id="S4.SS2.p7.1.m1.1a"><msup id="S4.SS2.p7.1.m1.1.1" xref="S4.SS2.p7.1.m1.1.1.cmml"><mi id="S4.SS2.p7.1.m1.1.1.2" xref="S4.SS2.p7.1.m1.1.1.2.cmml">s</mi><mo id="S4.SS2.p7.1.m1.1.1.3" xref="S4.SS2.p7.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p7.1.m1.1b"><apply id="S4.SS2.p7.1.m1.1.1.cmml" xref="S4.SS2.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p7.1.m1.1.1.1.cmml" xref="S4.SS2.p7.1.m1.1.1">superscript</csymbol><ci id="S4.SS2.p7.1.m1.1.1.2.cmml" xref="S4.SS2.p7.1.m1.1.1.2">𝑠</ci><times id="S4.SS2.p7.1.m1.1.1.3.cmml" xref="S4.SS2.p7.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p7.1.m1.1c">s^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p7.1.m1.1d">italic_s start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p7.2.4"> of the KB that maximizes the overall performance of the RAG system, as measured by a global reward function </span><math alttext="R" class="ltx_Math" display="inline" id="S4.SS2.p7.2.m2.1"><semantics id="S4.SS2.p7.2.m2.1a"><mi id="S4.SS2.p7.2.m2.1.1" xref="S4.SS2.p7.2.m2.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p7.2.m2.1b"><ci id="S4.SS2.p7.2.m2.1.1.cmml" xref="S4.SS2.p7.2.m2.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p7.2.m2.1c">R</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p7.2.m2.1d">italic_R</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p7.2.5">. The optimization problem is formulated as:</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p8">
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A1.EGx2">
<tbody id="S4.E2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle s^{*}=\arg\max_{s\in\mathcal{S}}R(s)=\arg\max_{s\in\mathcal{S}}%
\frac{1}{|T|}\sum_{(q_{i},a_{i},c_{i},f_{i})\in T}g(\mathcal{B}(q_{i},\Gamma(q%
_{i},s)),c_{i})" class="ltx_Math" display="block" id="S4.E2.m1.9"><semantics id="S4.E2.m1.9a"><mrow id="S4.E2.m1.9.9" xref="S4.E2.m1.9.9.cmml"><msup id="S4.E2.m1.9.9.4" xref="S4.E2.m1.9.9.4.cmml"><mi id="S4.E2.m1.9.9.4.2" xref="S4.E2.m1.9.9.4.2.cmml">s</mi><mo id="S4.E2.m1.9.9.4.3" xref="S4.E2.m1.9.9.4.3.cmml">∗</mo></msup><mo id="S4.E2.m1.9.9.5" xref="S4.E2.m1.9.9.5.cmml">=</mo><mrow id="S4.E2.m1.9.9.6" xref="S4.E2.m1.9.9.6.cmml"><mrow id="S4.E2.m1.9.9.6.2" xref="S4.E2.m1.9.9.6.2.cmml"><mi id="S4.E2.m1.9.9.6.2.1" xref="S4.E2.m1.9.9.6.2.1.cmml">arg</mi><mo id="S4.E2.m1.9.9.6.2a" lspace="0.167em" xref="S4.E2.m1.9.9.6.2.cmml">⁡</mo><mrow id="S4.E2.m1.9.9.6.2.2" xref="S4.E2.m1.9.9.6.2.2.cmml"><munder id="S4.E2.m1.9.9.6.2.2.1" xref="S4.E2.m1.9.9.6.2.2.1.cmml"><mi id="S4.E2.m1.9.9.6.2.2.1.2" xref="S4.E2.m1.9.9.6.2.2.1.2.cmml">max</mi><mrow id="S4.E2.m1.9.9.6.2.2.1.3" xref="S4.E2.m1.9.9.6.2.2.1.3.cmml"><mi id="S4.E2.m1.9.9.6.2.2.1.3.2" xref="S4.E2.m1.9.9.6.2.2.1.3.2.cmml">s</mi><mo id="S4.E2.m1.9.9.6.2.2.1.3.1" xref="S4.E2.m1.9.9.6.2.2.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.9.9.6.2.2.1.3.3" xref="S4.E2.m1.9.9.6.2.2.1.3.3.cmml">𝒮</mi></mrow></munder><mo id="S4.E2.m1.9.9.6.2.2a" lspace="0.167em" xref="S4.E2.m1.9.9.6.2.2.cmml">⁡</mo><mi id="S4.E2.m1.9.9.6.2.2.2" xref="S4.E2.m1.9.9.6.2.2.2.cmml">R</mi></mrow></mrow><mo id="S4.E2.m1.9.9.6.1" xref="S4.E2.m1.9.9.6.1.cmml">⁢</mo><mrow id="S4.E2.m1.9.9.6.3.2" xref="S4.E2.m1.9.9.6.cmml"><mo id="S4.E2.m1.9.9.6.3.2.1" stretchy="false" xref="S4.E2.m1.9.9.6.cmml">(</mo><mi id="S4.E2.m1.6.6" xref="S4.E2.m1.6.6.cmml">s</mi><mo id="S4.E2.m1.9.9.6.3.2.2" stretchy="false" xref="S4.E2.m1.9.9.6.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.9.9.7" xref="S4.E2.m1.9.9.7.cmml">=</mo><mrow id="S4.E2.m1.9.9.2" xref="S4.E2.m1.9.9.2.cmml"><mrow id="S4.E2.m1.9.9.2.4" xref="S4.E2.m1.9.9.2.4.cmml"><mi id="S4.E2.m1.9.9.2.4.1" xref="S4.E2.m1.9.9.2.4.1.cmml">arg</mi><mo id="S4.E2.m1.9.9.2.4a" lspace="0.167em" xref="S4.E2.m1.9.9.2.4.cmml">⁡</mo><mrow id="S4.E2.m1.9.9.2.4.2" xref="S4.E2.m1.9.9.2.4.2.cmml"><munder id="S4.E2.m1.9.9.2.4.2.1" xref="S4.E2.m1.9.9.2.4.2.1.cmml"><mi id="S4.E2.m1.9.9.2.4.2.1.2" xref="S4.E2.m1.9.9.2.4.2.1.2.cmml">max</mi><mrow id="S4.E2.m1.9.9.2.4.2.1.3" xref="S4.E2.m1.9.9.2.4.2.1.3.cmml"><mi id="S4.E2.m1.9.9.2.4.2.1.3.2" xref="S4.E2.m1.9.9.2.4.2.1.3.2.cmml">s</mi><mo id="S4.E2.m1.9.9.2.4.2.1.3.1" xref="S4.E2.m1.9.9.2.4.2.1.3.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.9.9.2.4.2.1.3.3" xref="S4.E2.m1.9.9.2.4.2.1.3.3.cmml">𝒮</mi></mrow></munder><mo id="S4.E2.m1.9.9.2.4.2a" lspace="0.167em" xref="S4.E2.m1.9.9.2.4.2.cmml">⁡</mo><mfrac id="S4.E2.m1.1.1" xref="S4.E2.m1.1.1.cmml"><mn id="S4.E2.m1.1.1.3" xref="S4.E2.m1.1.1.3.cmml">1</mn><mrow id="S4.E2.m1.1.1.1.3" xref="S4.E2.m1.1.1.1.2.cmml"><mo id="S4.E2.m1.1.1.1.3.1" stretchy="false" xref="S4.E2.m1.1.1.1.2.1.cmml">|</mo><mi id="S4.E2.m1.1.1.1.1" xref="S4.E2.m1.1.1.1.1.cmml">T</mi><mo id="S4.E2.m1.1.1.1.3.2" stretchy="false" xref="S4.E2.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac></mrow></mrow><mo id="S4.E2.m1.9.9.2.3" xref="S4.E2.m1.9.9.2.3.cmml">⁢</mo><mrow id="S4.E2.m1.9.9.2.2" xref="S4.E2.m1.9.9.2.2.cmml"><munder id="S4.E2.m1.9.9.2.2.3" xref="S4.E2.m1.9.9.2.2.3.cmml"><mo id="S4.E2.m1.9.9.2.2.3.2" movablelimits="false" xref="S4.E2.m1.9.9.2.2.3.2.cmml">∑</mo><mrow id="S4.E2.m1.5.5.4" xref="S4.E2.m1.5.5.4.cmml"><mrow id="S4.E2.m1.5.5.4.4.4" xref="S4.E2.m1.5.5.4.4.5.cmml"><mo id="S4.E2.m1.5.5.4.4.4.5" stretchy="false" xref="S4.E2.m1.5.5.4.4.5.cmml">(</mo><msub id="S4.E2.m1.2.2.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.2" xref="S4.E2.m1.2.2.1.1.1.1.2.cmml">q</mi><mi id="S4.E2.m1.2.2.1.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E2.m1.5.5.4.4.4.6" xref="S4.E2.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E2.m1.3.3.2.2.2.2" xref="S4.E2.m1.3.3.2.2.2.2.cmml"><mi id="S4.E2.m1.3.3.2.2.2.2.2" xref="S4.E2.m1.3.3.2.2.2.2.2.cmml">a</mi><mi id="S4.E2.m1.3.3.2.2.2.2.3" xref="S4.E2.m1.3.3.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E2.m1.5.5.4.4.4.7" xref="S4.E2.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E2.m1.4.4.3.3.3.3" xref="S4.E2.m1.4.4.3.3.3.3.cmml"><mi id="S4.E2.m1.4.4.3.3.3.3.2" xref="S4.E2.m1.4.4.3.3.3.3.2.cmml">c</mi><mi id="S4.E2.m1.4.4.3.3.3.3.3" xref="S4.E2.m1.4.4.3.3.3.3.3.cmml">i</mi></msub><mo id="S4.E2.m1.5.5.4.4.4.8" xref="S4.E2.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E2.m1.5.5.4.4.4.4" xref="S4.E2.m1.5.5.4.4.4.4.cmml"><mi id="S4.E2.m1.5.5.4.4.4.4.2" xref="S4.E2.m1.5.5.4.4.4.4.2.cmml">f</mi><mi id="S4.E2.m1.5.5.4.4.4.4.3" xref="S4.E2.m1.5.5.4.4.4.4.3.cmml">i</mi></msub><mo id="S4.E2.m1.5.5.4.4.4.9" stretchy="false" xref="S4.E2.m1.5.5.4.4.5.cmml">)</mo></mrow><mo id="S4.E2.m1.5.5.4.5" xref="S4.E2.m1.5.5.4.5.cmml">∈</mo><mi id="S4.E2.m1.5.5.4.6" xref="S4.E2.m1.5.5.4.6.cmml">T</mi></mrow></munder><mrow id="S4.E2.m1.9.9.2.2.2" xref="S4.E2.m1.9.9.2.2.2.cmml"><mi id="S4.E2.m1.9.9.2.2.2.4" xref="S4.E2.m1.9.9.2.2.2.4.cmml">g</mi><mo id="S4.E2.m1.9.9.2.2.2.3" xref="S4.E2.m1.9.9.2.2.2.3.cmml">⁢</mo><mrow id="S4.E2.m1.9.9.2.2.2.2.2" xref="S4.E2.m1.9.9.2.2.2.2.3.cmml"><mo id="S4.E2.m1.9.9.2.2.2.2.2.3" stretchy="false" xref="S4.E2.m1.9.9.2.2.2.2.3.cmml">(</mo><mrow id="S4.E2.m1.8.8.1.1.1.1.1.1" xref="S4.E2.m1.8.8.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E2.m1.8.8.1.1.1.1.1.1.4" xref="S4.E2.m1.8.8.1.1.1.1.1.1.4.cmml">ℬ</mi><mo id="S4.E2.m1.8.8.1.1.1.1.1.1.3" xref="S4.E2.m1.8.8.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.3.cmml"><mo id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.2" xref="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">q</mi><mi id="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.3" xref="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.4" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.3.cmml">,</mo><mrow id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.3" mathvariant="normal" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.3.cmml">Γ</mi><mo id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.2" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.2.cmml">⁢</mo><mrow id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml"><mo id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.2" stretchy="false" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">(</mo><msub id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.cmml"><mi id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2.cmml">q</mi><mi id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.3" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">,</mo><mi id="S4.E2.m1.7.7" xref="S4.E2.m1.7.7.cmml">s</mi><mo id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.4" stretchy="false" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.5" stretchy="false" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.9.9.2.2.2.2.2.4" xref="S4.E2.m1.9.9.2.2.2.2.3.cmml">,</mo><msub id="S4.E2.m1.9.9.2.2.2.2.2.2" xref="S4.E2.m1.9.9.2.2.2.2.2.2.cmml"><mi id="S4.E2.m1.9.9.2.2.2.2.2.2.2" xref="S4.E2.m1.9.9.2.2.2.2.2.2.2.cmml">c</mi><mi id="S4.E2.m1.9.9.2.2.2.2.2.2.3" xref="S4.E2.m1.9.9.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E2.m1.9.9.2.2.2.2.2.5" stretchy="false" xref="S4.E2.m1.9.9.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.9b"><apply id="S4.E2.m1.9.9.cmml" xref="S4.E2.m1.9.9"><and id="S4.E2.m1.9.9a.cmml" xref="S4.E2.m1.9.9"></and><apply id="S4.E2.m1.9.9b.cmml" xref="S4.E2.m1.9.9"><eq id="S4.E2.m1.9.9.5.cmml" xref="S4.E2.m1.9.9.5"></eq><apply id="S4.E2.m1.9.9.4.cmml" xref="S4.E2.m1.9.9.4"><csymbol cd="ambiguous" id="S4.E2.m1.9.9.4.1.cmml" xref="S4.E2.m1.9.9.4">superscript</csymbol><ci id="S4.E2.m1.9.9.4.2.cmml" xref="S4.E2.m1.9.9.4.2">𝑠</ci><times id="S4.E2.m1.9.9.4.3.cmml" xref="S4.E2.m1.9.9.4.3"></times></apply><apply id="S4.E2.m1.9.9.6.cmml" xref="S4.E2.m1.9.9.6"><times id="S4.E2.m1.9.9.6.1.cmml" xref="S4.E2.m1.9.9.6.1"></times><apply id="S4.E2.m1.9.9.6.2.cmml" xref="S4.E2.m1.9.9.6.2"><arg id="S4.E2.m1.9.9.6.2.1.cmml" xref="S4.E2.m1.9.9.6.2.1"></arg><apply id="S4.E2.m1.9.9.6.2.2.cmml" xref="S4.E2.m1.9.9.6.2.2"><apply id="S4.E2.m1.9.9.6.2.2.1.cmml" xref="S4.E2.m1.9.9.6.2.2.1"><csymbol cd="ambiguous" id="S4.E2.m1.9.9.6.2.2.1.1.cmml" xref="S4.E2.m1.9.9.6.2.2.1">subscript</csymbol><max id="S4.E2.m1.9.9.6.2.2.1.2.cmml" xref="S4.E2.m1.9.9.6.2.2.1.2"></max><apply id="S4.E2.m1.9.9.6.2.2.1.3.cmml" xref="S4.E2.m1.9.9.6.2.2.1.3"><in id="S4.E2.m1.9.9.6.2.2.1.3.1.cmml" xref="S4.E2.m1.9.9.6.2.2.1.3.1"></in><ci id="S4.E2.m1.9.9.6.2.2.1.3.2.cmml" xref="S4.E2.m1.9.9.6.2.2.1.3.2">𝑠</ci><ci id="S4.E2.m1.9.9.6.2.2.1.3.3.cmml" xref="S4.E2.m1.9.9.6.2.2.1.3.3">𝒮</ci></apply></apply><ci id="S4.E2.m1.9.9.6.2.2.2.cmml" xref="S4.E2.m1.9.9.6.2.2.2">𝑅</ci></apply></apply><ci id="S4.E2.m1.6.6.cmml" xref="S4.E2.m1.6.6">𝑠</ci></apply></apply><apply id="S4.E2.m1.9.9c.cmml" xref="S4.E2.m1.9.9"><eq id="S4.E2.m1.9.9.7.cmml" xref="S4.E2.m1.9.9.7"></eq><share href="https://arxiv.org/html/2410.10584v1#S4.E2.m1.9.9.6.cmml" id="S4.E2.m1.9.9d.cmml" xref="S4.E2.m1.9.9"></share><apply id="S4.E2.m1.9.9.2.cmml" xref="S4.E2.m1.9.9.2"><times id="S4.E2.m1.9.9.2.3.cmml" xref="S4.E2.m1.9.9.2.3"></times><apply id="S4.E2.m1.9.9.2.4.cmml" xref="S4.E2.m1.9.9.2.4"><arg id="S4.E2.m1.9.9.2.4.1.cmml" xref="S4.E2.m1.9.9.2.4.1"></arg><apply id="S4.E2.m1.9.9.2.4.2.cmml" xref="S4.E2.m1.9.9.2.4.2"><apply id="S4.E2.m1.9.9.2.4.2.1.cmml" xref="S4.E2.m1.9.9.2.4.2.1"><csymbol cd="ambiguous" id="S4.E2.m1.9.9.2.4.2.1.1.cmml" xref="S4.E2.m1.9.9.2.4.2.1">subscript</csymbol><max id="S4.E2.m1.9.9.2.4.2.1.2.cmml" xref="S4.E2.m1.9.9.2.4.2.1.2"></max><apply id="S4.E2.m1.9.9.2.4.2.1.3.cmml" xref="S4.E2.m1.9.9.2.4.2.1.3"><in id="S4.E2.m1.9.9.2.4.2.1.3.1.cmml" xref="S4.E2.m1.9.9.2.4.2.1.3.1"></in><ci id="S4.E2.m1.9.9.2.4.2.1.3.2.cmml" xref="S4.E2.m1.9.9.2.4.2.1.3.2">𝑠</ci><ci id="S4.E2.m1.9.9.2.4.2.1.3.3.cmml" xref="S4.E2.m1.9.9.2.4.2.1.3.3">𝒮</ci></apply></apply><apply id="S4.E2.m1.1.1.cmml" xref="S4.E2.m1.1.1"><divide id="S4.E2.m1.1.1.2.cmml" xref="S4.E2.m1.1.1"></divide><cn id="S4.E2.m1.1.1.3.cmml" type="integer" xref="S4.E2.m1.1.1.3">1</cn><apply id="S4.E2.m1.1.1.1.2.cmml" xref="S4.E2.m1.1.1.1.3"><abs id="S4.E2.m1.1.1.1.2.1.cmml" xref="S4.E2.m1.1.1.1.3.1"></abs><ci id="S4.E2.m1.1.1.1.1.cmml" xref="S4.E2.m1.1.1.1.1">𝑇</ci></apply></apply></apply></apply><apply id="S4.E2.m1.9.9.2.2.cmml" xref="S4.E2.m1.9.9.2.2"><apply id="S4.E2.m1.9.9.2.2.3.cmml" xref="S4.E2.m1.9.9.2.2.3"><csymbol cd="ambiguous" id="S4.E2.m1.9.9.2.2.3.1.cmml" xref="S4.E2.m1.9.9.2.2.3">subscript</csymbol><sum id="S4.E2.m1.9.9.2.2.3.2.cmml" xref="S4.E2.m1.9.9.2.2.3.2"></sum><apply id="S4.E2.m1.5.5.4.cmml" xref="S4.E2.m1.5.5.4"><in id="S4.E2.m1.5.5.4.5.cmml" xref="S4.E2.m1.5.5.4.5"></in><vector id="S4.E2.m1.5.5.4.4.5.cmml" xref="S4.E2.m1.5.5.4.4.4"><apply id="S4.E2.m1.2.2.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.2">𝑞</ci><ci id="S4.E2.m1.2.2.1.1.1.1.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E2.m1.3.3.2.2.2.2.cmml" xref="S4.E2.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S4.E2.m1.3.3.2.2.2.2.1.cmml" xref="S4.E2.m1.3.3.2.2.2.2">subscript</csymbol><ci id="S4.E2.m1.3.3.2.2.2.2.2.cmml" xref="S4.E2.m1.3.3.2.2.2.2.2">𝑎</ci><ci id="S4.E2.m1.3.3.2.2.2.2.3.cmml" xref="S4.E2.m1.3.3.2.2.2.2.3">𝑖</ci></apply><apply id="S4.E2.m1.4.4.3.3.3.3.cmml" xref="S4.E2.m1.4.4.3.3.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.4.4.3.3.3.3.1.cmml" xref="S4.E2.m1.4.4.3.3.3.3">subscript</csymbol><ci id="S4.E2.m1.4.4.3.3.3.3.2.cmml" xref="S4.E2.m1.4.4.3.3.3.3.2">𝑐</ci><ci id="S4.E2.m1.4.4.3.3.3.3.3.cmml" xref="S4.E2.m1.4.4.3.3.3.3.3">𝑖</ci></apply><apply id="S4.E2.m1.5.5.4.4.4.4.cmml" xref="S4.E2.m1.5.5.4.4.4.4"><csymbol cd="ambiguous" id="S4.E2.m1.5.5.4.4.4.4.1.cmml" xref="S4.E2.m1.5.5.4.4.4.4">subscript</csymbol><ci id="S4.E2.m1.5.5.4.4.4.4.2.cmml" xref="S4.E2.m1.5.5.4.4.4.4.2">𝑓</ci><ci id="S4.E2.m1.5.5.4.4.4.4.3.cmml" xref="S4.E2.m1.5.5.4.4.4.4.3">𝑖</ci></apply></vector><ci id="S4.E2.m1.5.5.4.6.cmml" xref="S4.E2.m1.5.5.4.6">𝑇</ci></apply></apply><apply id="S4.E2.m1.9.9.2.2.2.cmml" xref="S4.E2.m1.9.9.2.2.2"><times id="S4.E2.m1.9.9.2.2.2.3.cmml" xref="S4.E2.m1.9.9.2.2.2.3"></times><ci id="S4.E2.m1.9.9.2.2.2.4.cmml" xref="S4.E2.m1.9.9.2.2.2.4">𝑔</ci><interval closure="open" id="S4.E2.m1.9.9.2.2.2.2.3.cmml" xref="S4.E2.m1.9.9.2.2.2.2.2"><apply id="S4.E2.m1.8.8.1.1.1.1.1.1.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1"><times id="S4.E2.m1.8.8.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.3"></times><ci id="S4.E2.m1.8.8.1.1.1.1.1.1.4.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.4">ℬ</ci><interval closure="open" id="S4.E2.m1.8.8.1.1.1.1.1.1.2.3.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2"><apply id="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.2">𝑞</ci><ci id="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2"><times id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.2"></times><ci id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.3">Γ</ci><interval closure="open" id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1"><apply id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.1.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1">subscript</csymbol><ci id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2">𝑞</ci><ci id="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3.cmml" xref="S4.E2.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3">𝑖</ci></apply><ci id="S4.E2.m1.7.7.cmml" xref="S4.E2.m1.7.7">𝑠</ci></interval></apply></interval></apply><apply id="S4.E2.m1.9.9.2.2.2.2.2.2.cmml" xref="S4.E2.m1.9.9.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E2.m1.9.9.2.2.2.2.2.2.1.cmml" xref="S4.E2.m1.9.9.2.2.2.2.2.2">subscript</csymbol><ci id="S4.E2.m1.9.9.2.2.2.2.2.2.2.cmml" xref="S4.E2.m1.9.9.2.2.2.2.2.2.2">𝑐</ci><ci id="S4.E2.m1.9.9.2.2.2.2.2.2.3.cmml" xref="S4.E2.m1.9.9.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.9c">\displaystyle s^{*}=\arg\max_{s\in\mathcal{S}}R(s)=\arg\max_{s\in\mathcal{S}}%
\frac{1}{|T|}\sum_{(q_{i},a_{i},c_{i},f_{i})\in T}g(\mathcal{B}(q_{i},\Gamma(q%
_{i},s)),c_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.E2.m1.9d">italic_s start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT = roman_arg roman_max start_POSTSUBSCRIPT italic_s ∈ caligraphic_S end_POSTSUBSCRIPT italic_R ( italic_s ) = roman_arg roman_max start_POSTSUBSCRIPT italic_s ∈ caligraphic_S end_POSTSUBSCRIPT divide start_ARG 1 end_ARG start_ARG | italic_T | end_ARG ∑ start_POSTSUBSCRIPT ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∈ italic_T end_POSTSUBSCRIPT italic_g ( caligraphic_B ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , roman_Γ ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_s ) ) , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p9">
<p class="ltx_p" id="S4.SS2.p9.2"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p9.2.1">where </span><math alttext="R(s)" class="ltx_Math" display="inline" id="S4.SS2.p9.1.m1.1"><semantics id="S4.SS2.p9.1.m1.1a"><mrow id="S4.SS2.p9.1.m1.1.2" xref="S4.SS2.p9.1.m1.1.2.cmml"><mi id="S4.SS2.p9.1.m1.1.2.2" xref="S4.SS2.p9.1.m1.1.2.2.cmml">R</mi><mo id="S4.SS2.p9.1.m1.1.2.1" xref="S4.SS2.p9.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p9.1.m1.1.2.3.2" xref="S4.SS2.p9.1.m1.1.2.cmml"><mo id="S4.SS2.p9.1.m1.1.2.3.2.1" stretchy="false" xref="S4.SS2.p9.1.m1.1.2.cmml">(</mo><mi id="S4.SS2.p9.1.m1.1.1" xref="S4.SS2.p9.1.m1.1.1.cmml">s</mi><mo id="S4.SS2.p9.1.m1.1.2.3.2.2" stretchy="false" xref="S4.SS2.p9.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p9.1.m1.1b"><apply id="S4.SS2.p9.1.m1.1.2.cmml" xref="S4.SS2.p9.1.m1.1.2"><times id="S4.SS2.p9.1.m1.1.2.1.cmml" xref="S4.SS2.p9.1.m1.1.2.1"></times><ci id="S4.SS2.p9.1.m1.1.2.2.cmml" xref="S4.SS2.p9.1.m1.1.2.2">𝑅</ci><ci id="S4.SS2.p9.1.m1.1.1.cmml" xref="S4.SS2.p9.1.m1.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p9.1.m1.1c">R(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p9.1.m1.1d">italic_R ( italic_s )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p9.2.2"> represents the cumulative reward of the KB state </span><math alttext="s" class="ltx_Math" display="inline" id="S4.SS2.p9.2.m2.1"><semantics id="S4.SS2.p9.2.m2.1a"><mi id="S4.SS2.p9.2.m2.1.1" xref="S4.SS2.p9.2.m2.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p9.2.m2.1b"><ci id="S4.SS2.p9.2.m2.1.1.cmml" xref="S4.SS2.p9.2.m2.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p9.2.m2.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p9.2.m2.1d">italic_s</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p9.2.3">, reflecting its ability to support accurate and complete responses for a set of queries.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p10">
<p class="ltx_p" id="S4.SS2.p10.2"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p10.2.1">The reward function </span><math alttext="R(s)" class="ltx_Math" display="inline" id="S4.SS2.p10.1.m1.1"><semantics id="S4.SS2.p10.1.m1.1a"><mrow id="S4.SS2.p10.1.m1.1.2" xref="S4.SS2.p10.1.m1.1.2.cmml"><mi id="S4.SS2.p10.1.m1.1.2.2" xref="S4.SS2.p10.1.m1.1.2.2.cmml">R</mi><mo id="S4.SS2.p10.1.m1.1.2.1" xref="S4.SS2.p10.1.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p10.1.m1.1.2.3.2" xref="S4.SS2.p10.1.m1.1.2.cmml"><mo id="S4.SS2.p10.1.m1.1.2.3.2.1" stretchy="false" xref="S4.SS2.p10.1.m1.1.2.cmml">(</mo><mi id="S4.SS2.p10.1.m1.1.1" xref="S4.SS2.p10.1.m1.1.1.cmml">s</mi><mo id="S4.SS2.p10.1.m1.1.2.3.2.2" stretchy="false" xref="S4.SS2.p10.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p10.1.m1.1b"><apply id="S4.SS2.p10.1.m1.1.2.cmml" xref="S4.SS2.p10.1.m1.1.2"><times id="S4.SS2.p10.1.m1.1.2.1.cmml" xref="S4.SS2.p10.1.m1.1.2.1"></times><ci id="S4.SS2.p10.1.m1.1.2.2.cmml" xref="S4.SS2.p10.1.m1.1.2.2">𝑅</ci><ci id="S4.SS2.p10.1.m1.1.1.cmml" xref="S4.SS2.p10.1.m1.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p10.1.m1.1c">R(s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p10.1.m1.1d">italic_R ( italic_s )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p10.2.2"> is derived from the expert feedback on the system’s generated answers and captures improvements in terms of correctness, coherence, and completeness of the information in the KB. By optimizing for </span><math alttext="s^{*}" class="ltx_Math" display="inline" id="S4.SS2.p10.2.m2.1"><semantics id="S4.SS2.p10.2.m2.1a"><msup id="S4.SS2.p10.2.m2.1.1" xref="S4.SS2.p10.2.m2.1.1.cmml"><mi id="S4.SS2.p10.2.m2.1.1.2" xref="S4.SS2.p10.2.m2.1.1.2.cmml">s</mi><mo id="S4.SS2.p10.2.m2.1.1.3" xref="S4.SS2.p10.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p10.2.m2.1b"><apply id="S4.SS2.p10.2.m2.1.1.cmml" xref="S4.SS2.p10.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p10.2.m2.1.1.1.cmml" xref="S4.SS2.p10.2.m2.1.1">superscript</csymbol><ci id="S4.SS2.p10.2.m2.1.1.2.cmml" xref="S4.SS2.p10.2.m2.1.1.2">𝑠</ci><times id="S4.SS2.p10.2.m2.1.1.3.cmml" xref="S4.SS2.p10.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p10.2.m2.1c">s^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p10.2.m2.1d">italic_s start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p10.2.3">, we ensure that the final state of the KB maximizes the overall accuracy and effectiveness of the RAG system, rather than focusing on an intermediate sequence of state transitions.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p11">
<p class="ltx_p" id="S4.SS2.p11.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p11.1.1">In summary, the state search formulation defines the problem of finding the optimal state </span><math alttext="s^{*}" class="ltx_Math" display="inline" id="S4.SS2.p11.1.m1.1"><semantics id="S4.SS2.p11.1.m1.1a"><msup id="S4.SS2.p11.1.m1.1.1" xref="S4.SS2.p11.1.m1.1.1.cmml"><mi id="S4.SS2.p11.1.m1.1.1.2" xref="S4.SS2.p11.1.m1.1.1.2.cmml">s</mi><mo id="S4.SS2.p11.1.m1.1.1.3" xref="S4.SS2.p11.1.m1.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p11.1.m1.1b"><apply id="S4.SS2.p11.1.m1.1.1.cmml" xref="S4.SS2.p11.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p11.1.m1.1.1.1.cmml" xref="S4.SS2.p11.1.m1.1.1">superscript</csymbol><ci id="S4.SS2.p11.1.m1.1.1.2.cmml" xref="S4.SS2.p11.1.m1.1.1.2">𝑠</ci><times id="S4.SS2.p11.1.m1.1.1.3.cmml" xref="S4.SS2.p11.1.m1.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p11.1.m1.1c">s^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p11.1.m1.1d">italic_s start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p11.1.2"> of the KB that maximizes the system’s performance. This approach enables us to make targeted, feedback-driven edits to the KB and achieve a refined, high-quality knowledge base that better supports accurate answer generation.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p12">
<p class="ltx_p" id="S4.SS2.p12.3"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS2.p12.3.1">Monte Carlo Tree Search:</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.2"> We employ Monte Carlo Tree Search (MCTS) similar to </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S4.SS2.p12.3.3">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.4">  </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.5.1">(</span><span class="ltx_text ltx_font_typewriter">Wang et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.6.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib49" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.7.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.8"> to search for the optimal state </span><math alttext="s^{*}" class="ltx_Math" display="inline" id="S4.SS2.p12.2.m2.1"><semantics id="S4.SS2.p12.2.m2.1a"><msup id="S4.SS2.p12.2.m2.1.1" xref="S4.SS2.p12.2.m2.1.1.cmml"><mi id="S4.SS2.p12.2.m2.1.1.2" xref="S4.SS2.p12.2.m2.1.1.2.cmml">s</mi><mo id="S4.SS2.p12.2.m2.1.1.3" xref="S4.SS2.p12.2.m2.1.1.3.cmml">∗</mo></msup><annotation-xml encoding="MathML-Content" id="S4.SS2.p12.2.m2.1b"><apply id="S4.SS2.p12.2.m2.1.1.cmml" xref="S4.SS2.p12.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p12.2.m2.1.1.1.cmml" xref="S4.SS2.p12.2.m2.1.1">superscript</csymbol><ci id="S4.SS2.p12.2.m2.1.1.2.cmml" xref="S4.SS2.p12.2.m2.1.1.2">𝑠</ci><times id="S4.SS2.p12.2.m2.1.1.3.cmml" xref="S4.SS2.p12.2.m2.1.1.3"></times></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p12.2.m2.1c">s^{*}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p12.2.m2.1d">italic_s start_POSTSUPERSCRIPT ∗ end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.9">. However, this introduces several challenges: (1) The search space for all possible KB edits is vastly larger than that of standard prompt edits typically explored in the literature </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.10.1">(</span><span class="ltx_text ltx_font_typewriter">Pryzant et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.11.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib38" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Wang et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.11.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib49" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Juneja et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.11.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib23" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a>; <span class="ltx_text ltx_font_typewriter">Gupta et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.11.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib16" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.12.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.13">, making exhaustive search infeasible. (2) Generating actions and subsequent states, as done in methods like </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S4.SS2.p12.3.14">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.15"> , is difficult in the KB editing context since fitting the entire KB into the prompt of a language model is impractical. Despite advancements in handling long contexts </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.16.1">(</span><span class="ltx_text ltx_font_typewriter">Wang et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.17.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib47" title=""><span class="ltx_text ltx_font_typewriter">2020</span></a>; <span class="ltx_text ltx_font_typewriter">Kitaev et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.17.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib25" title=""><span class="ltx_text ltx_font_typewriter">2020</span></a>; <span class="ltx_text ltx_font_typewriter">Press et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.17.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib37" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a>; <span class="ltx_text ltx_font_typewriter">Su et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.17.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib43" title=""><span class="ltx_text ltx_font_typewriter">2024b</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.18.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.19">, these models often struggle to leverage extensive contexts effectively </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text ltx_font_typewriter">Liu et al.</span> <span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.20.1.1.1">(</span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib29" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.21.2.2.1">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.22">. (3) Finally, the LM would need to output the entire edited KB, which is challenging due to the inherent difficulty LMs face in generating long, coherent outputs </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.23.1">(</span><span class="ltx_text ltx_font_typewriter">Bai et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.24.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib3" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.25.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p12.3.26">.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS2.p13">
<p class="ltx_p" id="S4.SS2.p13.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p13.1.1">To address these challenges, we decouple the KB edits by isolating document-level modifications based on the required updates. Since individual documents can be large, we further break down the edits into manageable sections, enabling a structured editing mechanism that focuses on specific portions of a document at a time. In the next section, we introduce </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S4.SS2.p13.1.2">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S4.SS2.p13.1.3">, an agent designed to efficiently perform these structured edits based on feedback.</span></p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S4.SS3.2.1.1">4.3</span> </span><span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S4.SS3.3.2">STACKFEED</span>
</h3>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="470" id="S4.F2.g1" src="x1.png" width="761"/>
<figcaption class="ltx_caption ltx_centering ltx_font_typewriter"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_serif" id="S4.F2.15.1.1">Figure 2</span>: </span><span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S4.F2.16.2">STACKFEED</span>  Multi-actor, centralized critic architecture: On receiving a reward from the environment, the critic generates a reflection over the failures to calculate the <em class="ltx_emph ltx_font_italic" id="S4.F2.17.3">textual gradient</em> <math alttext="\nabla" class="ltx_Math" display="inline" id="S4.F2.4.m2.1"><semantics id="S4.F2.4.m2.1b"><mo id="S4.F2.4.m2.1.1" xref="S4.F2.4.m2.1.1.cmml">∇</mo><annotation-xml encoding="MathML-Content" id="S4.F2.4.m2.1c"><ci id="S4.F2.4.m2.1.1.cmml" xref="S4.F2.4.m2.1.1">∇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.4.m2.1d">\nabla</annotation><annotation encoding="application/x-llamapun" id="S4.F2.4.m2.1e">∇</annotation></semantics></math>. The <span class="ltx_text ltx_font_italic" id="S4.F2.18.4">critic</span> uses this reflection to select the documents responsible for the error and proceeds to assigns credit to the actors in the form of document-wise reflections. The <span class="ltx_text ltx_font_italic" id="S4.F2.19.5">actors</span> then proceed to iteratively edit the documents. All the document-wise edits are then pooled to define the KB edit. </figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.4"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.4.1">The proposed approach </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S4.SS3.p1.4.2">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.4.3"> is designed to enhance a RAG system by refining the underlying Knowledge Base (</span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS3.p1.2.m2.1"><semantics id="S4.SS3.p1.2.m2.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><ci id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.2.m2.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.4.4">) using expert feedback. Our approach employs a multi-actor, centralized critic architecture, where each actor is responsible for making updates to a specific document within </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS3.p1.3.m3.1"><semantics id="S4.SS3.p1.3.m3.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><ci id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.3.m3.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.4.5">, and a centralized critic uses global feedback to coordinate these updates. The objective is to iteratively improve </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS3.p1.4.m4.1"><semantics id="S4.SS3.p1.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.p1.4.m4.1.1" xref="S4.SS3.p1.4.m4.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><ci id="S4.SS3.p1.4.m4.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.4.m4.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.p1.4.6"> such that the overall accuracy of the RAG system is maximized.</span></p>
</div>
<section class="ltx_subsubsection" id="S4.SS3.SSS1">
<h4 class="ltx_title ltx_font_typewriter ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text ltx_font_serif" id="S4.SS3.SSS1.1.1.1">4.3.1</span> </span>Reward Signal</h4>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS1.p1">
<p class="ltx_p" id="S4.SS3.SSS1.p1.7"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.1">For a given query </span><math alttext="q_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p1.1.m1.1"><semantics id="S4.SS3.SSS1.p1.1.m1.1a"><msub id="S4.SS3.SSS1.p1.1.m1.1.1" xref="S4.SS3.SSS1.p1.1.m1.1.1.cmml"><mi id="S4.SS3.SSS1.p1.1.m1.1.1.2" xref="S4.SS3.SSS1.p1.1.m1.1.1.2.cmml">q</mi><mi id="S4.SS3.SSS1.p1.1.m1.1.1.3" xref="S4.SS3.SSS1.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.1.m1.1b"><apply id="S4.SS3.SSS1.p1.1.m1.1.1.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.1.m1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.1.m1.1.1.2.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1.2">𝑞</ci><ci id="S4.SS3.SSS1.p1.1.m1.1.1.3.cmml" xref="S4.SS3.SSS1.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.1.m1.1c">q_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p1.1.m1.1d">italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.2"> and the generated answer </span><math alttext="o_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p1.2.m2.1"><semantics id="S4.SS3.SSS1.p1.2.m2.1a"><msub id="S4.SS3.SSS1.p1.2.m2.1.1" xref="S4.SS3.SSS1.p1.2.m2.1.1.cmml"><mi id="S4.SS3.SSS1.p1.2.m2.1.1.2" xref="S4.SS3.SSS1.p1.2.m2.1.1.2.cmml">o</mi><mi id="S4.SS3.SSS1.p1.2.m2.1.1.3" xref="S4.SS3.SSS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.2.m2.1b"><apply id="S4.SS3.SSS1.p1.2.m2.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.2.m2.1.1.1.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.2.m2.1.1.2.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.2">𝑜</ci><ci id="S4.SS3.SSS1.p1.2.m2.1.1.3.cmml" xref="S4.SS3.SSS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.2.m2.1c">o_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p1.2.m2.1d">italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.3">, the expert provides feedback </span><math alttext="(c_{i},f_{i})" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p1.3.m3.2"><semantics id="S4.SS3.SSS1.p1.3.m3.2a"><mrow id="S4.SS3.SSS1.p1.3.m3.2.2.2" xref="S4.SS3.SSS1.p1.3.m3.2.2.3.cmml"><mo id="S4.SS3.SSS1.p1.3.m3.2.2.2.3" stretchy="false" xref="S4.SS3.SSS1.p1.3.m3.2.2.3.cmml">(</mo><msub id="S4.SS3.SSS1.p1.3.m3.1.1.1.1" xref="S4.SS3.SSS1.p1.3.m3.1.1.1.1.cmml"><mi id="S4.SS3.SSS1.p1.3.m3.1.1.1.1.2" xref="S4.SS3.SSS1.p1.3.m3.1.1.1.1.2.cmml">c</mi><mi id="S4.SS3.SSS1.p1.3.m3.1.1.1.1.3" xref="S4.SS3.SSS1.p1.3.m3.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS3.SSS1.p1.3.m3.2.2.2.4" xref="S4.SS3.SSS1.p1.3.m3.2.2.3.cmml">,</mo><msub id="S4.SS3.SSS1.p1.3.m3.2.2.2.2" xref="S4.SS3.SSS1.p1.3.m3.2.2.2.2.cmml"><mi id="S4.SS3.SSS1.p1.3.m3.2.2.2.2.2" xref="S4.SS3.SSS1.p1.3.m3.2.2.2.2.2.cmml">f</mi><mi id="S4.SS3.SSS1.p1.3.m3.2.2.2.2.3" xref="S4.SS3.SSS1.p1.3.m3.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.SS3.SSS1.p1.3.m3.2.2.2.5" stretchy="false" xref="S4.SS3.SSS1.p1.3.m3.2.2.3.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.3.m3.2b"><interval closure="open" id="S4.SS3.SSS1.p1.3.m3.2.2.3.cmml" xref="S4.SS3.SSS1.p1.3.m3.2.2.2"><apply id="S4.SS3.SSS1.p1.3.m3.1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.3.m3.1.1.1.1.1.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.3.m3.1.1.1.1.2.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1.1.1.2">𝑐</ci><ci id="S4.SS3.SSS1.p1.3.m3.1.1.1.1.3.cmml" xref="S4.SS3.SSS1.p1.3.m3.1.1.1.1.3">𝑖</ci></apply><apply id="S4.SS3.SSS1.p1.3.m3.2.2.2.2.cmml" xref="S4.SS3.SSS1.p1.3.m3.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.3.m3.2.2.2.2.1.cmml" xref="S4.SS3.SSS1.p1.3.m3.2.2.2.2">subscript</csymbol><ci id="S4.SS3.SSS1.p1.3.m3.2.2.2.2.2.cmml" xref="S4.SS3.SSS1.p1.3.m3.2.2.2.2.2">𝑓</ci><ci id="S4.SS3.SSS1.p1.3.m3.2.2.2.2.3.cmml" xref="S4.SS3.SSS1.p1.3.m3.2.2.2.2.3">𝑖</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.3.m3.2c">(c_{i},f_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p1.3.m3.2d">( italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.4"> that includesa ground truth answer </span><math alttext="c_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p1.4.m4.1"><semantics id="S4.SS3.SSS1.p1.4.m4.1a"><msub id="S4.SS3.SSS1.p1.4.m4.1.1" xref="S4.SS3.SSS1.p1.4.m4.1.1.cmml"><mi id="S4.SS3.SSS1.p1.4.m4.1.1.2" xref="S4.SS3.SSS1.p1.4.m4.1.1.2.cmml">c</mi><mi id="S4.SS3.SSS1.p1.4.m4.1.1.3" xref="S4.SS3.SSS1.p1.4.m4.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.4.m4.1b"><apply id="S4.SS3.SSS1.p1.4.m4.1.1.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.4.m4.1.1.1.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.4.m4.1.1.2.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1.2">𝑐</ci><ci id="S4.SS3.SSS1.p1.4.m4.1.1.3.cmml" xref="S4.SS3.SSS1.p1.4.m4.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.4.m4.1c">c_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p1.4.m4.1d">italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.5"> and qualitative expert feedback </span><math alttext="f_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p1.5.m5.1"><semantics id="S4.SS3.SSS1.p1.5.m5.1a"><msub id="S4.SS3.SSS1.p1.5.m5.1.1" xref="S4.SS3.SSS1.p1.5.m5.1.1.cmml"><mi id="S4.SS3.SSS1.p1.5.m5.1.1.2" xref="S4.SS3.SSS1.p1.5.m5.1.1.2.cmml">f</mi><mi id="S4.SS3.SSS1.p1.5.m5.1.1.3" xref="S4.SS3.SSS1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.5.m5.1b"><apply id="S4.SS3.SSS1.p1.5.m5.1.1.cmml" xref="S4.SS3.SSS1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.5.m5.1.1.1.cmml" xref="S4.SS3.SSS1.p1.5.m5.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.5.m5.1.1.2.cmml" xref="S4.SS3.SSS1.p1.5.m5.1.1.2">𝑓</ci><ci id="S4.SS3.SSS1.p1.5.m5.1.1.3.cmml" xref="S4.SS3.SSS1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.5.m5.1c">f_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p1.5.m5.1d">italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.6"> on any errors. The global reward signal is derived from </span><math alttext="c_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p1.6.m6.1"><semantics id="S4.SS3.SSS1.p1.6.m6.1a"><msub id="S4.SS3.SSS1.p1.6.m6.1.1" xref="S4.SS3.SSS1.p1.6.m6.1.1.cmml"><mi id="S4.SS3.SSS1.p1.6.m6.1.1.2" xref="S4.SS3.SSS1.p1.6.m6.1.1.2.cmml">c</mi><mi id="S4.SS3.SSS1.p1.6.m6.1.1.3" xref="S4.SS3.SSS1.p1.6.m6.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.6.m6.1b"><apply id="S4.SS3.SSS1.p1.6.m6.1.1.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS1.p1.6.m6.1.1.1.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1">subscript</csymbol><ci id="S4.SS3.SSS1.p1.6.m6.1.1.2.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1.2">𝑐</ci><ci id="S4.SS3.SSS1.p1.6.m6.1.1.3.cmml" xref="S4.SS3.SSS1.p1.6.m6.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.6.m6.1c">c_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p1.6.m6.1d">italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.7"> as per the scoring function </span><math alttext="s" class="ltx_Math" display="inline" id="S4.SS3.SSS1.p1.7.m7.1"><semantics id="S4.SS3.SSS1.p1.7.m7.1a"><mi id="S4.SS3.SSS1.p1.7.m7.1.1" xref="S4.SS3.SSS1.p1.7.m7.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS1.p1.7.m7.1b"><ci id="S4.SS3.SSS1.p1.7.m7.1.1.cmml" xref="S4.SS3.SSS1.p1.7.m7.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS1.p1.7.m7.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS1.p1.7.m7.1d">italic_s</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.8"> (Refer Equation </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S4.E2" title="In 4.2 Knowledge Base Editing as State Search ‣ 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">2</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS1.p1.7.9">).</span></p>
</div>
</section>
<section class="ltx_subsubsection" id="S4.SS3.SSS2">
<h4 class="ltx_title ltx_font_typewriter ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text ltx_font_serif" id="S4.SS3.SSS2.1.1.1">4.3.2</span> </span>KB Editing Agent</h4>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p1">
<p class="ltx_p" id="S4.SS3.SSS2.p1.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p1.1.1">To effectively incorporate expert feedback, we employ a multi-actor, centralized critic architecture.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p2">
<p class="ltx_p" id="S4.SS3.SSS2.p2.4"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS3.SSS2.p2.4.1">Centralized Critic:</span><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p2.4.2"> The centralized critic, denoted as </span><math alttext="C" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p2.1.m1.1"><semantics id="S4.SS3.SSS2.p2.1.m1.1a"><mi id="S4.SS3.SSS2.p2.1.m1.1.1" xref="S4.SS3.SSS2.p2.1.m1.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.1.m1.1b"><ci id="S4.SS3.SSS2.p2.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p2.1.m1.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.1.m1.1c">C</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p2.1.m1.1d">italic_C</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p2.4.3">, is responsible for evaluating the overall performance of the RAG system based on the global reward signal </span><math alttext="r" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p2.2.m2.1"><semantics id="S4.SS3.SSS2.p2.2.m2.1a"><mi id="S4.SS3.SSS2.p2.2.m2.1.1" xref="S4.SS3.SSS2.p2.2.m2.1.1.cmml">r</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.2.m2.1b"><ci id="S4.SS3.SSS2.p2.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p2.2.m2.1.1">𝑟</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.2.m2.1c">r</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p2.2.m2.1d">italic_r</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p2.4.4"> derived from expert feedback. The critic analyzes the feedback received given the current state </span><math alttext="s" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p2.3.m3.1"><semantics id="S4.SS3.SSS2.p2.3.m3.1a"><mi id="S4.SS3.SSS2.p2.3.m3.1.1" xref="S4.SS3.SSS2.p2.3.m3.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.3.m3.1b"><ci id="S4.SS3.SSS2.p2.3.m3.1.1.cmml" xref="S4.SS3.SSS2.p2.3.m3.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.3.m3.1c">s</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p2.3.m3.1d">italic_s</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p2.4.5"> of </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p2.4.m4.1"><semantics id="S4.SS3.SSS2.p2.4.m4.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS2.p2.4.m4.1.1" xref="S4.SS3.SSS2.p2.4.m4.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p2.4.m4.1b"><ci id="S4.SS3.SSS2.p2.4.m4.1.1.cmml" xref="S4.SS3.SSS2.p2.4.m4.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p2.4.m4.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p2.4.m4.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p2.4.6">. The critic’s analysis is then used to provide tailored reflections to each actor, guiding document updates.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p3">
<p class="ltx_p" id="S4.SS3.SSS2.p3.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p3.1.1">The centralized critic aggregates the reward signal across multiple queries to generate a holistic evaluation of </span><math alttext="\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p3.1.m1.1"><semantics id="S4.SS3.SSS2.p3.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS2.p3.1.m1.1.1" xref="S4.SS3.SSS2.p3.1.m1.1.1.cmml">𝒦</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p3.1.m1.1b"><ci id="S4.SS3.SSS2.p3.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p3.1.m1.1.1">𝒦</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p3.1.m1.1c">\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p3.1.m1.1d">caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p3.1.2">.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p4">
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A1.EGx3">
<tbody id="S4.E3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle R(s)=\frac{1}{|T|}\sum_{(q_{i},a_{i},c_{i},f_{i})\in T}g(%
\mathcal{B}(q_{i},\Gamma(q_{i},s)),c_{i})" class="ltx_Math" display="block" id="S4.E3.m1.9"><semantics id="S4.E3.m1.9a"><mrow id="S4.E3.m1.9.9" xref="S4.E3.m1.9.9.cmml"><mrow id="S4.E3.m1.9.9.4" xref="S4.E3.m1.9.9.4.cmml"><mi id="S4.E3.m1.9.9.4.2" xref="S4.E3.m1.9.9.4.2.cmml">R</mi><mo id="S4.E3.m1.9.9.4.1" xref="S4.E3.m1.9.9.4.1.cmml">⁢</mo><mrow id="S4.E3.m1.9.9.4.3.2" xref="S4.E3.m1.9.9.4.cmml"><mo id="S4.E3.m1.9.9.4.3.2.1" stretchy="false" xref="S4.E3.m1.9.9.4.cmml">(</mo><mi id="S4.E3.m1.6.6" xref="S4.E3.m1.6.6.cmml">s</mi><mo id="S4.E3.m1.9.9.4.3.2.2" stretchy="false" xref="S4.E3.m1.9.9.4.cmml">)</mo></mrow></mrow><mo id="S4.E3.m1.9.9.3" xref="S4.E3.m1.9.9.3.cmml">=</mo><mrow id="S4.E3.m1.9.9.2" xref="S4.E3.m1.9.9.2.cmml"><mfrac id="S4.E3.m1.1.1" xref="S4.E3.m1.1.1.cmml"><mn id="S4.E3.m1.1.1.3" xref="S4.E3.m1.1.1.3.cmml">1</mn><mrow id="S4.E3.m1.1.1.1.3" xref="S4.E3.m1.1.1.1.2.cmml"><mo id="S4.E3.m1.1.1.1.3.1" stretchy="false" xref="S4.E3.m1.1.1.1.2.1.cmml">|</mo><mi id="S4.E3.m1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.cmml">T</mi><mo id="S4.E3.m1.1.1.1.3.2" stretchy="false" xref="S4.E3.m1.1.1.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S4.E3.m1.9.9.2.3" xref="S4.E3.m1.9.9.2.3.cmml">⁢</mo><mrow id="S4.E3.m1.9.9.2.2" xref="S4.E3.m1.9.9.2.2.cmml"><munder id="S4.E3.m1.9.9.2.2.3" xref="S4.E3.m1.9.9.2.2.3.cmml"><mo id="S4.E3.m1.9.9.2.2.3.2" movablelimits="false" xref="S4.E3.m1.9.9.2.2.3.2.cmml">∑</mo><mrow id="S4.E3.m1.5.5.4" xref="S4.E3.m1.5.5.4.cmml"><mrow id="S4.E3.m1.5.5.4.4.4" xref="S4.E3.m1.5.5.4.4.5.cmml"><mo id="S4.E3.m1.5.5.4.4.4.5" stretchy="false" xref="S4.E3.m1.5.5.4.4.5.cmml">(</mo><msub id="S4.E3.m1.2.2.1.1.1.1" xref="S4.E3.m1.2.2.1.1.1.1.cmml"><mi id="S4.E3.m1.2.2.1.1.1.1.2" xref="S4.E3.m1.2.2.1.1.1.1.2.cmml">q</mi><mi id="S4.E3.m1.2.2.1.1.1.1.3" xref="S4.E3.m1.2.2.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E3.m1.5.5.4.4.4.6" xref="S4.E3.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E3.m1.3.3.2.2.2.2" xref="S4.E3.m1.3.3.2.2.2.2.cmml"><mi id="S4.E3.m1.3.3.2.2.2.2.2" xref="S4.E3.m1.3.3.2.2.2.2.2.cmml">a</mi><mi id="S4.E3.m1.3.3.2.2.2.2.3" xref="S4.E3.m1.3.3.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E3.m1.5.5.4.4.4.7" xref="S4.E3.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E3.m1.4.4.3.3.3.3" xref="S4.E3.m1.4.4.3.3.3.3.cmml"><mi id="S4.E3.m1.4.4.3.3.3.3.2" xref="S4.E3.m1.4.4.3.3.3.3.2.cmml">c</mi><mi id="S4.E3.m1.4.4.3.3.3.3.3" xref="S4.E3.m1.4.4.3.3.3.3.3.cmml">i</mi></msub><mo id="S4.E3.m1.5.5.4.4.4.8" xref="S4.E3.m1.5.5.4.4.5.cmml">,</mo><msub id="S4.E3.m1.5.5.4.4.4.4" xref="S4.E3.m1.5.5.4.4.4.4.cmml"><mi id="S4.E3.m1.5.5.4.4.4.4.2" xref="S4.E3.m1.5.5.4.4.4.4.2.cmml">f</mi><mi id="S4.E3.m1.5.5.4.4.4.4.3" xref="S4.E3.m1.5.5.4.4.4.4.3.cmml">i</mi></msub><mo id="S4.E3.m1.5.5.4.4.4.9" stretchy="false" xref="S4.E3.m1.5.5.4.4.5.cmml">)</mo></mrow><mo id="S4.E3.m1.5.5.4.5" xref="S4.E3.m1.5.5.4.5.cmml">∈</mo><mi id="S4.E3.m1.5.5.4.6" xref="S4.E3.m1.5.5.4.6.cmml">T</mi></mrow></munder><mrow id="S4.E3.m1.9.9.2.2.2" xref="S4.E3.m1.9.9.2.2.2.cmml"><mi id="S4.E3.m1.9.9.2.2.2.4" xref="S4.E3.m1.9.9.2.2.2.4.cmml">g</mi><mo id="S4.E3.m1.9.9.2.2.2.3" xref="S4.E3.m1.9.9.2.2.2.3.cmml">⁢</mo><mrow id="S4.E3.m1.9.9.2.2.2.2.2" xref="S4.E3.m1.9.9.2.2.2.2.3.cmml"><mo id="S4.E3.m1.9.9.2.2.2.2.2.3" stretchy="false" xref="S4.E3.m1.9.9.2.2.2.2.3.cmml">(</mo><mrow id="S4.E3.m1.8.8.1.1.1.1.1.1" xref="S4.E3.m1.8.8.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E3.m1.8.8.1.1.1.1.1.1.4" xref="S4.E3.m1.8.8.1.1.1.1.1.1.4.cmml">ℬ</mi><mo id="S4.E3.m1.8.8.1.1.1.1.1.1.3" xref="S4.E3.m1.8.8.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.3.cmml"><mo id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1" xref="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.2" xref="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">q</mi><mi id="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.3" xref="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.4" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.3.cmml">,</mo><mrow id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.3" mathvariant="normal" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.3.cmml">Γ</mi><mo id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.2" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.2.cmml">⁢</mo><mrow id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml"><mo id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.2" stretchy="false" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">(</mo><msub id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.cmml"><mi id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2.cmml">q</mi><mi id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.3" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">,</mo><mi id="S4.E3.m1.7.7" xref="S4.E3.m1.7.7.cmml">s</mi><mo id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.4" stretchy="false" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.5" stretchy="false" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E3.m1.9.9.2.2.2.2.2.4" xref="S4.E3.m1.9.9.2.2.2.2.3.cmml">,</mo><msub id="S4.E3.m1.9.9.2.2.2.2.2.2" xref="S4.E3.m1.9.9.2.2.2.2.2.2.cmml"><mi id="S4.E3.m1.9.9.2.2.2.2.2.2.2" xref="S4.E3.m1.9.9.2.2.2.2.2.2.2.cmml">c</mi><mi id="S4.E3.m1.9.9.2.2.2.2.2.2.3" xref="S4.E3.m1.9.9.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E3.m1.9.9.2.2.2.2.2.5" stretchy="false" xref="S4.E3.m1.9.9.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E3.m1.9b"><apply id="S4.E3.m1.9.9.cmml" xref="S4.E3.m1.9.9"><eq id="S4.E3.m1.9.9.3.cmml" xref="S4.E3.m1.9.9.3"></eq><apply id="S4.E3.m1.9.9.4.cmml" xref="S4.E3.m1.9.9.4"><times id="S4.E3.m1.9.9.4.1.cmml" xref="S4.E3.m1.9.9.4.1"></times><ci id="S4.E3.m1.9.9.4.2.cmml" xref="S4.E3.m1.9.9.4.2">𝑅</ci><ci id="S4.E3.m1.6.6.cmml" xref="S4.E3.m1.6.6">𝑠</ci></apply><apply id="S4.E3.m1.9.9.2.cmml" xref="S4.E3.m1.9.9.2"><times id="S4.E3.m1.9.9.2.3.cmml" xref="S4.E3.m1.9.9.2.3"></times><apply id="S4.E3.m1.1.1.cmml" xref="S4.E3.m1.1.1"><divide id="S4.E3.m1.1.1.2.cmml" xref="S4.E3.m1.1.1"></divide><cn id="S4.E3.m1.1.1.3.cmml" type="integer" xref="S4.E3.m1.1.1.3">1</cn><apply id="S4.E3.m1.1.1.1.2.cmml" xref="S4.E3.m1.1.1.1.3"><abs id="S4.E3.m1.1.1.1.2.1.cmml" xref="S4.E3.m1.1.1.1.3.1"></abs><ci id="S4.E3.m1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1">𝑇</ci></apply></apply><apply id="S4.E3.m1.9.9.2.2.cmml" xref="S4.E3.m1.9.9.2.2"><apply id="S4.E3.m1.9.9.2.2.3.cmml" xref="S4.E3.m1.9.9.2.2.3"><csymbol cd="ambiguous" id="S4.E3.m1.9.9.2.2.3.1.cmml" xref="S4.E3.m1.9.9.2.2.3">subscript</csymbol><sum id="S4.E3.m1.9.9.2.2.3.2.cmml" xref="S4.E3.m1.9.9.2.2.3.2"></sum><apply id="S4.E3.m1.5.5.4.cmml" xref="S4.E3.m1.5.5.4"><in id="S4.E3.m1.5.5.4.5.cmml" xref="S4.E3.m1.5.5.4.5"></in><vector id="S4.E3.m1.5.5.4.4.5.cmml" xref="S4.E3.m1.5.5.4.4.4"><apply id="S4.E3.m1.2.2.1.1.1.1.cmml" xref="S4.E3.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.2.2.1.1.1.1.1.cmml" xref="S4.E3.m1.2.2.1.1.1.1">subscript</csymbol><ci id="S4.E3.m1.2.2.1.1.1.1.2.cmml" xref="S4.E3.m1.2.2.1.1.1.1.2">𝑞</ci><ci id="S4.E3.m1.2.2.1.1.1.1.3.cmml" xref="S4.E3.m1.2.2.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E3.m1.3.3.2.2.2.2.cmml" xref="S4.E3.m1.3.3.2.2.2.2"><csymbol cd="ambiguous" id="S4.E3.m1.3.3.2.2.2.2.1.cmml" xref="S4.E3.m1.3.3.2.2.2.2">subscript</csymbol><ci id="S4.E3.m1.3.3.2.2.2.2.2.cmml" xref="S4.E3.m1.3.3.2.2.2.2.2">𝑎</ci><ci id="S4.E3.m1.3.3.2.2.2.2.3.cmml" xref="S4.E3.m1.3.3.2.2.2.2.3">𝑖</ci></apply><apply id="S4.E3.m1.4.4.3.3.3.3.cmml" xref="S4.E3.m1.4.4.3.3.3.3"><csymbol cd="ambiguous" id="S4.E3.m1.4.4.3.3.3.3.1.cmml" xref="S4.E3.m1.4.4.3.3.3.3">subscript</csymbol><ci id="S4.E3.m1.4.4.3.3.3.3.2.cmml" xref="S4.E3.m1.4.4.3.3.3.3.2">𝑐</ci><ci id="S4.E3.m1.4.4.3.3.3.3.3.cmml" xref="S4.E3.m1.4.4.3.3.3.3.3">𝑖</ci></apply><apply id="S4.E3.m1.5.5.4.4.4.4.cmml" xref="S4.E3.m1.5.5.4.4.4.4"><csymbol cd="ambiguous" id="S4.E3.m1.5.5.4.4.4.4.1.cmml" xref="S4.E3.m1.5.5.4.4.4.4">subscript</csymbol><ci id="S4.E3.m1.5.5.4.4.4.4.2.cmml" xref="S4.E3.m1.5.5.4.4.4.4.2">𝑓</ci><ci id="S4.E3.m1.5.5.4.4.4.4.3.cmml" xref="S4.E3.m1.5.5.4.4.4.4.3">𝑖</ci></apply></vector><ci id="S4.E3.m1.5.5.4.6.cmml" xref="S4.E3.m1.5.5.4.6">𝑇</ci></apply></apply><apply id="S4.E3.m1.9.9.2.2.2.cmml" xref="S4.E3.m1.9.9.2.2.2"><times id="S4.E3.m1.9.9.2.2.2.3.cmml" xref="S4.E3.m1.9.9.2.2.2.3"></times><ci id="S4.E3.m1.9.9.2.2.2.4.cmml" xref="S4.E3.m1.9.9.2.2.2.4">𝑔</ci><interval closure="open" id="S4.E3.m1.9.9.2.2.2.2.3.cmml" xref="S4.E3.m1.9.9.2.2.2.2.2"><apply id="S4.E3.m1.8.8.1.1.1.1.1.1.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1"><times id="S4.E3.m1.8.8.1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.3"></times><ci id="S4.E3.m1.8.8.1.1.1.1.1.1.4.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.4">ℬ</ci><interval closure="open" id="S4.E3.m1.8.8.1.1.1.1.1.1.2.3.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2"><apply id="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.2">𝑞</ci><ci id="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2"><times id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.2"></times><ci id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.3">Γ</ci><interval closure="open" id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1"><apply id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.1.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1">subscript</csymbol><ci id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2">𝑞</ci><ci id="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3.cmml" xref="S4.E3.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3">𝑖</ci></apply><ci id="S4.E3.m1.7.7.cmml" xref="S4.E3.m1.7.7">𝑠</ci></interval></apply></interval></apply><apply id="S4.E3.m1.9.9.2.2.2.2.2.2.cmml" xref="S4.E3.m1.9.9.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E3.m1.9.9.2.2.2.2.2.2.1.cmml" xref="S4.E3.m1.9.9.2.2.2.2.2.2">subscript</csymbol><ci id="S4.E3.m1.9.9.2.2.2.2.2.2.2.cmml" xref="S4.E3.m1.9.9.2.2.2.2.2.2.2">𝑐</ci><ci id="S4.E3.m1.9.9.2.2.2.2.2.2.3.cmml" xref="S4.E3.m1.9.9.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.9c">\displaystyle R(s)=\frac{1}{|T|}\sum_{(q_{i},a_{i},c_{i},f_{i})\in T}g(%
\mathcal{B}(q_{i},\Gamma(q_{i},s)),c_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m1.9d">italic_R ( italic_s ) = divide start_ARG 1 end_ARG start_ARG | italic_T | end_ARG ∑ start_POSTSUBSCRIPT ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∈ italic_T end_POSTSUBSCRIPT italic_g ( caligraphic_B ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , roman_Γ ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_s ) ) , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p5">
<p class="ltx_p" id="S4.SS3.SSS2.p5.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p5.1.1">To generate feedback for the documents, the critic needs to take gradient of this reward </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S4.SS3.SSS2.p5.1.2">with respect to</em><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p5.1.3"> the documents. This would give us,</span></p>
<table class="ltx_equationgroup ltx_eqn_gather ltx_eqn_table" id="A1.EGx4">
<tbody id="S4.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\displaystyle\partial_{j}=\frac{\partial R(s)}{\partial D_{j}}=\frac{1}{|T|}%
\sum_{(q_{i},a_{i},c_{i},f_{i})\in T}\frac{\partial}{\partial D_{j}}g(\mathcal%
{B}(q_{i},\Gamma(q_{i},s)),c_{i})" class="ltx_Math" display="block" id="S4.E4.m1.9"><semantics id="S4.E4.m1.9a"><mrow id="S4.E4.m1.9.9" xref="S4.E4.m1.9.9.cmml"><msub id="S4.E4.m1.9.9.4" xref="S4.E4.m1.9.9.4.cmml"><mo id="S4.E4.m1.9.9.4.2" xref="S4.E4.m1.9.9.4.2.cmml">∂</mo><mi id="S4.E4.m1.9.9.4.3" xref="S4.E4.m1.9.9.4.3.cmml">j</mi></msub><mo id="S4.E4.m1.9.9.5" lspace="0.278em" xref="S4.E4.m1.9.9.5.cmml">=</mo><mfrac id="S4.E4.m1.1.1" xref="S4.E4.m1.1.1.cmml"><mrow id="S4.E4.m1.1.1.1" xref="S4.E4.m1.1.1.1.cmml"><mo id="S4.E4.m1.1.1.1.2" rspace="0em" xref="S4.E4.m1.1.1.1.2.cmml">∂</mo><mrow id="S4.E4.m1.1.1.1.3" xref="S4.E4.m1.1.1.1.3.cmml"><mi id="S4.E4.m1.1.1.1.3.2" xref="S4.E4.m1.1.1.1.3.2.cmml">R</mi><mo id="S4.E4.m1.1.1.1.3.1" xref="S4.E4.m1.1.1.1.3.1.cmml">⁢</mo><mrow id="S4.E4.m1.1.1.1.3.3.2" xref="S4.E4.m1.1.1.1.3.cmml"><mo id="S4.E4.m1.1.1.1.3.3.2.1" stretchy="false" xref="S4.E4.m1.1.1.1.3.cmml">(</mo><mi id="S4.E4.m1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.cmml">s</mi><mo id="S4.E4.m1.1.1.1.3.3.2.2" stretchy="false" xref="S4.E4.m1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mrow id="S4.E4.m1.1.1.3" xref="S4.E4.m1.1.1.3.cmml"><mo id="S4.E4.m1.1.1.3.1" rspace="0em" xref="S4.E4.m1.1.1.3.1.cmml">∂</mo><msub id="S4.E4.m1.1.1.3.2" xref="S4.E4.m1.1.1.3.2.cmml"><mi id="S4.E4.m1.1.1.3.2.2" xref="S4.E4.m1.1.1.3.2.2.cmml">D</mi><mi id="S4.E4.m1.1.1.3.2.3" xref="S4.E4.m1.1.1.3.2.3.cmml">j</mi></msub></mrow></mfrac><mo id="S4.E4.m1.9.9.6" xref="S4.E4.m1.9.9.6.cmml">=</mo><mrow id="S4.E4.m1.9.9.2" xref="S4.E4.m1.9.9.2.cmml"><mfrac id="S4.E4.m1.2.2" xref="S4.E4.m1.2.2.cmml"><mn id="S4.E4.m1.2.2.3" xref="S4.E4.m1.2.2.3.cmml">1</mn><mrow id="S4.E4.m1.2.2.1.3" xref="S4.E4.m1.2.2.1.2.cmml"><mo id="S4.E4.m1.2.2.1.3.1" stretchy="false" xref="S4.E4.m1.2.2.1.2.1.cmml">|</mo><mi id="S4.E4.m1.2.2.1.1" xref="S4.E4.m1.2.2.1.1.cmml">T</mi><mo id="S4.E4.m1.2.2.1.3.2" stretchy="false" xref="S4.E4.m1.2.2.1.2.1.cmml">|</mo></mrow></mfrac><mo id="S4.E4.m1.9.9.2.3" xref="S4.E4.m1.9.9.2.3.cmml">⁢</mo><mrow id="S4.E4.m1.9.9.2.2" xref="S4.E4.m1.9.9.2.2.cmml"><munder id="S4.E4.m1.9.9.2.2.3" xref="S4.E4.m1.9.9.2.2.3.cmml"><mo id="S4.E4.m1.9.9.2.2.3.2" movablelimits="false" xref="S4.E4.m1.9.9.2.2.3.2.cmml">∑</mo><mrow id="S4.E4.m1.6.6.4" xref="S4.E4.m1.6.6.4.cmml"><mrow id="S4.E4.m1.6.6.4.4.4" xref="S4.E4.m1.6.6.4.4.5.cmml"><mo id="S4.E4.m1.6.6.4.4.4.5" stretchy="false" xref="S4.E4.m1.6.6.4.4.5.cmml">(</mo><msub id="S4.E4.m1.3.3.1.1.1.1" xref="S4.E4.m1.3.3.1.1.1.1.cmml"><mi id="S4.E4.m1.3.3.1.1.1.1.2" xref="S4.E4.m1.3.3.1.1.1.1.2.cmml">q</mi><mi id="S4.E4.m1.3.3.1.1.1.1.3" xref="S4.E4.m1.3.3.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E4.m1.6.6.4.4.4.6" xref="S4.E4.m1.6.6.4.4.5.cmml">,</mo><msub id="S4.E4.m1.4.4.2.2.2.2" xref="S4.E4.m1.4.4.2.2.2.2.cmml"><mi id="S4.E4.m1.4.4.2.2.2.2.2" xref="S4.E4.m1.4.4.2.2.2.2.2.cmml">a</mi><mi id="S4.E4.m1.4.4.2.2.2.2.3" xref="S4.E4.m1.4.4.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E4.m1.6.6.4.4.4.7" xref="S4.E4.m1.6.6.4.4.5.cmml">,</mo><msub id="S4.E4.m1.5.5.3.3.3.3" xref="S4.E4.m1.5.5.3.3.3.3.cmml"><mi id="S4.E4.m1.5.5.3.3.3.3.2" xref="S4.E4.m1.5.5.3.3.3.3.2.cmml">c</mi><mi id="S4.E4.m1.5.5.3.3.3.3.3" xref="S4.E4.m1.5.5.3.3.3.3.3.cmml">i</mi></msub><mo id="S4.E4.m1.6.6.4.4.4.8" xref="S4.E4.m1.6.6.4.4.5.cmml">,</mo><msub id="S4.E4.m1.6.6.4.4.4.4" xref="S4.E4.m1.6.6.4.4.4.4.cmml"><mi id="S4.E4.m1.6.6.4.4.4.4.2" xref="S4.E4.m1.6.6.4.4.4.4.2.cmml">f</mi><mi id="S4.E4.m1.6.6.4.4.4.4.3" xref="S4.E4.m1.6.6.4.4.4.4.3.cmml">i</mi></msub><mo id="S4.E4.m1.6.6.4.4.4.9" stretchy="false" xref="S4.E4.m1.6.6.4.4.5.cmml">)</mo></mrow><mo id="S4.E4.m1.6.6.4.5" xref="S4.E4.m1.6.6.4.5.cmml">∈</mo><mi id="S4.E4.m1.6.6.4.6" xref="S4.E4.m1.6.6.4.6.cmml">T</mi></mrow></munder><mrow id="S4.E4.m1.9.9.2.2.2" xref="S4.E4.m1.9.9.2.2.2.cmml"><mfrac id="S4.E4.m1.9.9.2.2.2.4" xref="S4.E4.m1.9.9.2.2.2.4.cmml"><mo id="S4.E4.m1.9.9.2.2.2.4.2" xref="S4.E4.m1.9.9.2.2.2.4.2.cmml">∂</mo><mrow id="S4.E4.m1.9.9.2.2.2.4.3" xref="S4.E4.m1.9.9.2.2.2.4.3.cmml"><mo id="S4.E4.m1.9.9.2.2.2.4.3.1" rspace="0em" xref="S4.E4.m1.9.9.2.2.2.4.3.1.cmml">∂</mo><msub id="S4.E4.m1.9.9.2.2.2.4.3.2" xref="S4.E4.m1.9.9.2.2.2.4.3.2.cmml"><mi id="S4.E4.m1.9.9.2.2.2.4.3.2.2" xref="S4.E4.m1.9.9.2.2.2.4.3.2.2.cmml">D</mi><mi id="S4.E4.m1.9.9.2.2.2.4.3.2.3" xref="S4.E4.m1.9.9.2.2.2.4.3.2.3.cmml">j</mi></msub></mrow></mfrac><mo id="S4.E4.m1.9.9.2.2.2.3" xref="S4.E4.m1.9.9.2.2.2.3.cmml">⁢</mo><mi id="S4.E4.m1.9.9.2.2.2.5" xref="S4.E4.m1.9.9.2.2.2.5.cmml">g</mi><mo id="S4.E4.m1.9.9.2.2.2.3a" xref="S4.E4.m1.9.9.2.2.2.3.cmml">⁢</mo><mrow id="S4.E4.m1.9.9.2.2.2.2.2" xref="S4.E4.m1.9.9.2.2.2.2.3.cmml"><mo id="S4.E4.m1.9.9.2.2.2.2.2.3" stretchy="false" xref="S4.E4.m1.9.9.2.2.2.2.3.cmml">(</mo><mrow id="S4.E4.m1.8.8.1.1.1.1.1.1" xref="S4.E4.m1.8.8.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.8.8.1.1.1.1.1.1.4" xref="S4.E4.m1.8.8.1.1.1.1.1.1.4.cmml">ℬ</mi><mo id="S4.E4.m1.8.8.1.1.1.1.1.1.3" xref="S4.E4.m1.8.8.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.3.cmml"><mo id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1" xref="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.2" xref="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml">q</mi><mi id="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.3" xref="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.4" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.3.cmml">,</mo><mrow id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.3" mathvariant="normal" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.3.cmml">Γ</mi><mo id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.2" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.2.cmml">⁢</mo><mrow id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml"><mo id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.2" stretchy="false" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">(</mo><msub id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.cmml"><mi id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2.cmml">q</mi><mi id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.3" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">,</mo><mi id="S4.E4.m1.7.7" xref="S4.E4.m1.7.7.cmml">s</mi><mo id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.4" stretchy="false" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml">)</mo></mrow></mrow><mo id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.5" stretchy="false" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E4.m1.9.9.2.2.2.2.2.4" xref="S4.E4.m1.9.9.2.2.2.2.3.cmml">,</mo><msub id="S4.E4.m1.9.9.2.2.2.2.2.2" xref="S4.E4.m1.9.9.2.2.2.2.2.2.cmml"><mi id="S4.E4.m1.9.9.2.2.2.2.2.2.2" xref="S4.E4.m1.9.9.2.2.2.2.2.2.2.cmml">c</mi><mi id="S4.E4.m1.9.9.2.2.2.2.2.2.3" xref="S4.E4.m1.9.9.2.2.2.2.2.2.3.cmml">i</mi></msub><mo id="S4.E4.m1.9.9.2.2.2.2.2.5" stretchy="false" xref="S4.E4.m1.9.9.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.9b"><apply id="S4.E4.m1.9.9.cmml" xref="S4.E4.m1.9.9"><and id="S4.E4.m1.9.9a.cmml" xref="S4.E4.m1.9.9"></and><apply id="S4.E4.m1.9.9b.cmml" xref="S4.E4.m1.9.9"><eq id="S4.E4.m1.9.9.5.cmml" xref="S4.E4.m1.9.9.5"></eq><apply id="S4.E4.m1.9.9.4.cmml" xref="S4.E4.m1.9.9.4"><csymbol cd="ambiguous" id="S4.E4.m1.9.9.4.1.cmml" xref="S4.E4.m1.9.9.4">subscript</csymbol><partialdiff id="S4.E4.m1.9.9.4.2.cmml" xref="S4.E4.m1.9.9.4.2"></partialdiff><ci id="S4.E4.m1.9.9.4.3.cmml" xref="S4.E4.m1.9.9.4.3">𝑗</ci></apply><apply id="S4.E4.m1.1.1.cmml" xref="S4.E4.m1.1.1"><divide id="S4.E4.m1.1.1.2.cmml" xref="S4.E4.m1.1.1"></divide><apply id="S4.E4.m1.1.1.1.cmml" xref="S4.E4.m1.1.1.1"><partialdiff id="S4.E4.m1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.2"></partialdiff><apply id="S4.E4.m1.1.1.1.3.cmml" xref="S4.E4.m1.1.1.1.3"><times id="S4.E4.m1.1.1.1.3.1.cmml" xref="S4.E4.m1.1.1.1.3.1"></times><ci id="S4.E4.m1.1.1.1.3.2.cmml" xref="S4.E4.m1.1.1.1.3.2">𝑅</ci><ci id="S4.E4.m1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1">𝑠</ci></apply></apply><apply id="S4.E4.m1.1.1.3.cmml" xref="S4.E4.m1.1.1.3"><partialdiff id="S4.E4.m1.1.1.3.1.cmml" xref="S4.E4.m1.1.1.3.1"></partialdiff><apply id="S4.E4.m1.1.1.3.2.cmml" xref="S4.E4.m1.1.1.3.2"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.3.2.1.cmml" xref="S4.E4.m1.1.1.3.2">subscript</csymbol><ci id="S4.E4.m1.1.1.3.2.2.cmml" xref="S4.E4.m1.1.1.3.2.2">𝐷</ci><ci id="S4.E4.m1.1.1.3.2.3.cmml" xref="S4.E4.m1.1.1.3.2.3">𝑗</ci></apply></apply></apply></apply><apply id="S4.E4.m1.9.9c.cmml" xref="S4.E4.m1.9.9"><eq id="S4.E4.m1.9.9.6.cmml" xref="S4.E4.m1.9.9.6"></eq><share href="https://arxiv.org/html/2410.10584v1#S4.E4.m1.1.1.cmml" id="S4.E4.m1.9.9d.cmml" xref="S4.E4.m1.9.9"></share><apply id="S4.E4.m1.9.9.2.cmml" xref="S4.E4.m1.9.9.2"><times id="S4.E4.m1.9.9.2.3.cmml" xref="S4.E4.m1.9.9.2.3"></times><apply id="S4.E4.m1.2.2.cmml" xref="S4.E4.m1.2.2"><divide id="S4.E4.m1.2.2.2.cmml" xref="S4.E4.m1.2.2"></divide><cn id="S4.E4.m1.2.2.3.cmml" type="integer" xref="S4.E4.m1.2.2.3">1</cn><apply id="S4.E4.m1.2.2.1.2.cmml" xref="S4.E4.m1.2.2.1.3"><abs id="S4.E4.m1.2.2.1.2.1.cmml" xref="S4.E4.m1.2.2.1.3.1"></abs><ci id="S4.E4.m1.2.2.1.1.cmml" xref="S4.E4.m1.2.2.1.1">𝑇</ci></apply></apply><apply id="S4.E4.m1.9.9.2.2.cmml" xref="S4.E4.m1.9.9.2.2"><apply id="S4.E4.m1.9.9.2.2.3.cmml" xref="S4.E4.m1.9.9.2.2.3"><csymbol cd="ambiguous" id="S4.E4.m1.9.9.2.2.3.1.cmml" xref="S4.E4.m1.9.9.2.2.3">subscript</csymbol><sum id="S4.E4.m1.9.9.2.2.3.2.cmml" xref="S4.E4.m1.9.9.2.2.3.2"></sum><apply id="S4.E4.m1.6.6.4.cmml" xref="S4.E4.m1.6.6.4"><in id="S4.E4.m1.6.6.4.5.cmml" xref="S4.E4.m1.6.6.4.5"></in><vector id="S4.E4.m1.6.6.4.4.5.cmml" xref="S4.E4.m1.6.6.4.4.4"><apply id="S4.E4.m1.3.3.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.1.1.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.2">𝑞</ci><ci id="S4.E4.m1.3.3.1.1.1.1.3.cmml" xref="S4.E4.m1.3.3.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E4.m1.4.4.2.2.2.2.cmml" xref="S4.E4.m1.4.4.2.2.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.4.4.2.2.2.2.1.cmml" xref="S4.E4.m1.4.4.2.2.2.2">subscript</csymbol><ci id="S4.E4.m1.4.4.2.2.2.2.2.cmml" xref="S4.E4.m1.4.4.2.2.2.2.2">𝑎</ci><ci id="S4.E4.m1.4.4.2.2.2.2.3.cmml" xref="S4.E4.m1.4.4.2.2.2.2.3">𝑖</ci></apply><apply id="S4.E4.m1.5.5.3.3.3.3.cmml" xref="S4.E4.m1.5.5.3.3.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.5.5.3.3.3.3.1.cmml" xref="S4.E4.m1.5.5.3.3.3.3">subscript</csymbol><ci id="S4.E4.m1.5.5.3.3.3.3.2.cmml" xref="S4.E4.m1.5.5.3.3.3.3.2">𝑐</ci><ci id="S4.E4.m1.5.5.3.3.3.3.3.cmml" xref="S4.E4.m1.5.5.3.3.3.3.3">𝑖</ci></apply><apply id="S4.E4.m1.6.6.4.4.4.4.cmml" xref="S4.E4.m1.6.6.4.4.4.4"><csymbol cd="ambiguous" id="S4.E4.m1.6.6.4.4.4.4.1.cmml" xref="S4.E4.m1.6.6.4.4.4.4">subscript</csymbol><ci id="S4.E4.m1.6.6.4.4.4.4.2.cmml" xref="S4.E4.m1.6.6.4.4.4.4.2">𝑓</ci><ci id="S4.E4.m1.6.6.4.4.4.4.3.cmml" xref="S4.E4.m1.6.6.4.4.4.4.3">𝑖</ci></apply></vector><ci id="S4.E4.m1.6.6.4.6.cmml" xref="S4.E4.m1.6.6.4.6">𝑇</ci></apply></apply><apply id="S4.E4.m1.9.9.2.2.2.cmml" xref="S4.E4.m1.9.9.2.2.2"><times id="S4.E4.m1.9.9.2.2.2.3.cmml" xref="S4.E4.m1.9.9.2.2.2.3"></times><apply id="S4.E4.m1.9.9.2.2.2.4.cmml" xref="S4.E4.m1.9.9.2.2.2.4"><divide id="S4.E4.m1.9.9.2.2.2.4.1.cmml" xref="S4.E4.m1.9.9.2.2.2.4"></divide><partialdiff id="S4.E4.m1.9.9.2.2.2.4.2.cmml" xref="S4.E4.m1.9.9.2.2.2.4.2"></partialdiff><apply id="S4.E4.m1.9.9.2.2.2.4.3.cmml" xref="S4.E4.m1.9.9.2.2.2.4.3"><partialdiff id="S4.E4.m1.9.9.2.2.2.4.3.1.cmml" xref="S4.E4.m1.9.9.2.2.2.4.3.1"></partialdiff><apply id="S4.E4.m1.9.9.2.2.2.4.3.2.cmml" xref="S4.E4.m1.9.9.2.2.2.4.3.2"><csymbol cd="ambiguous" id="S4.E4.m1.9.9.2.2.2.4.3.2.1.cmml" xref="S4.E4.m1.9.9.2.2.2.4.3.2">subscript</csymbol><ci id="S4.E4.m1.9.9.2.2.2.4.3.2.2.cmml" xref="S4.E4.m1.9.9.2.2.2.4.3.2.2">𝐷</ci><ci id="S4.E4.m1.9.9.2.2.2.4.3.2.3.cmml" xref="S4.E4.m1.9.9.2.2.2.4.3.2.3">𝑗</ci></apply></apply></apply><ci id="S4.E4.m1.9.9.2.2.2.5.cmml" xref="S4.E4.m1.9.9.2.2.2.5">𝑔</ci><interval closure="open" id="S4.E4.m1.9.9.2.2.2.2.3.cmml" xref="S4.E4.m1.9.9.2.2.2.2.2"><apply id="S4.E4.m1.8.8.1.1.1.1.1.1.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1"><times id="S4.E4.m1.8.8.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.3"></times><ci id="S4.E4.m1.8.8.1.1.1.1.1.1.4.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.4">ℬ</ci><interval closure="open" id="S4.E4.m1.8.8.1.1.1.1.1.1.2.3.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2"><apply id="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.2">𝑞</ci><ci id="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2"><times id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.2"></times><ci id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.3">Γ</ci><interval closure="open" id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.2.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1"><apply id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.1.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1">subscript</csymbol><ci id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.2">𝑞</ci><ci id="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3.cmml" xref="S4.E4.m1.8.8.1.1.1.1.1.1.2.2.2.1.1.1.3">𝑖</ci></apply><ci id="S4.E4.m1.7.7.cmml" xref="S4.E4.m1.7.7">𝑠</ci></interval></apply></interval></apply><apply id="S4.E4.m1.9.9.2.2.2.2.2.2.cmml" xref="S4.E4.m1.9.9.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.9.9.2.2.2.2.2.2.1.cmml" xref="S4.E4.m1.9.9.2.2.2.2.2.2">subscript</csymbol><ci id="S4.E4.m1.9.9.2.2.2.2.2.2.2.cmml" xref="S4.E4.m1.9.9.2.2.2.2.2.2.2">𝑐</ci><ci id="S4.E4.m1.9.9.2.2.2.2.2.2.3.cmml" xref="S4.E4.m1.9.9.2.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.9c">\displaystyle\partial_{j}=\frac{\partial R(s)}{\partial D_{j}}=\frac{1}{|T|}%
\sum_{(q_{i},a_{i},c_{i},f_{i})\in T}\frac{\partial}{\partial D_{j}}g(\mathcal%
{B}(q_{i},\Gamma(q_{i},s)),c_{i})</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.9d">∂ start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = divide start_ARG ∂ italic_R ( italic_s ) end_ARG start_ARG ∂ italic_D start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_ARG = divide start_ARG 1 end_ARG start_ARG | italic_T | end_ARG ∑ start_POSTSUBSCRIPT ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_f start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ) ∈ italic_T end_POSTSUBSCRIPT divide start_ARG ∂ end_ARG start_ARG ∂ italic_D start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_ARG italic_g ( caligraphic_B ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , roman_Γ ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_s ) ) , italic_c start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p6">
<p class="ltx_p" id="S4.SS3.SSS2.p6.5"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.1">Figure </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S4.F2" title="Figure 2 ‣ 4.3 STACKFEED ‣ 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">2</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.2"> illustrates the environmental interaction of the actor-critic model. Following methodologies in prior works </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.3.1">(</span><span class="ltx_text ltx_font_typewriter">Pryzant et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib38" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a>; <span class="ltx_text ltx_font_typewriter">Juneja et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib23" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a>; <span class="ltx_text ltx_font_typewriter">Gupta et al.</span><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib16" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.5.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.6">, we use LLMs to generate an overall text gradient </span><math alttext="\nabla" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p6.1.m1.1"><semantics id="S4.SS3.SSS2.p6.1.m1.1a"><mo id="S4.SS3.SSS2.p6.1.m1.1.1" xref="S4.SS3.SSS2.p6.1.m1.1.1.cmml">∇</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p6.1.m1.1b"><ci id="S4.SS3.SSS2.p6.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p6.1.m1.1.1">∇</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p6.1.m1.1c">\nabla</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p6.1.m1.1d">∇</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.7"> over each failing example. The critic first identifies and select which documents in </span><math alttext="\Gamma(q_{i},s)" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p6.2.m2.2"><semantics id="S4.SS3.SSS2.p6.2.m2.2a"><mrow id="S4.SS3.SSS2.p6.2.m2.2.2" xref="S4.SS3.SSS2.p6.2.m2.2.2.cmml"><mi id="S4.SS3.SSS2.p6.2.m2.2.2.3" mathvariant="normal" xref="S4.SS3.SSS2.p6.2.m2.2.2.3.cmml">Γ</mi><mo id="S4.SS3.SSS2.p6.2.m2.2.2.2" xref="S4.SS3.SSS2.p6.2.m2.2.2.2.cmml">⁢</mo><mrow id="S4.SS3.SSS2.p6.2.m2.2.2.1.1" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.2.cmml"><mo id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.2" stretchy="false" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.2.cmml">(</mo><msub id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.cmml"><mi id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.2" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.2.cmml">q</mi><mi id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.3" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.3" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.2.cmml">,</mo><mi id="S4.SS3.SSS2.p6.2.m2.1.1" xref="S4.SS3.SSS2.p6.2.m2.1.1.cmml">s</mi><mo id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.4" stretchy="false" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p6.2.m2.2b"><apply id="S4.SS3.SSS2.p6.2.m2.2.2.cmml" xref="S4.SS3.SSS2.p6.2.m2.2.2"><times id="S4.SS3.SSS2.p6.2.m2.2.2.2.cmml" xref="S4.SS3.SSS2.p6.2.m2.2.2.2"></times><ci id="S4.SS3.SSS2.p6.2.m2.2.2.3.cmml" xref="S4.SS3.SSS2.p6.2.m2.2.2.3">Γ</ci><interval closure="open" id="S4.SS3.SSS2.p6.2.m2.2.2.1.2.cmml" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.1"><apply id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.cmml" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.1.cmml" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.2.cmml" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.2">𝑞</ci><ci id="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.3.cmml" xref="S4.SS3.SSS2.p6.2.m2.2.2.1.1.1.3">𝑖</ci></apply><ci id="S4.SS3.SSS2.p6.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p6.2.m2.1.1">𝑠</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p6.2.m2.2c">\Gamma(q_{i},s)</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p6.2.m2.2d">roman_Γ ( italic_q start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT , italic_s )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.8"> are responsible for any inaccuracies in </span><math alttext="o_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p6.3.m3.1"><semantics id="S4.SS3.SSS2.p6.3.m3.1a"><msub id="S4.SS3.SSS2.p6.3.m3.1.1" xref="S4.SS3.SSS2.p6.3.m3.1.1.cmml"><mi id="S4.SS3.SSS2.p6.3.m3.1.1.2" xref="S4.SS3.SSS2.p6.3.m3.1.1.2.cmml">o</mi><mi id="S4.SS3.SSS2.p6.3.m3.1.1.3" xref="S4.SS3.SSS2.p6.3.m3.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p6.3.m3.1b"><apply id="S4.SS3.SSS2.p6.3.m3.1.1.cmml" xref="S4.SS3.SSS2.p6.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p6.3.m3.1.1.1.cmml" xref="S4.SS3.SSS2.p6.3.m3.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p6.3.m3.1.1.2.cmml" xref="S4.SS3.SSS2.p6.3.m3.1.1.2">𝑜</ci><ci id="S4.SS3.SSS2.p6.3.m3.1.1.3.cmml" xref="S4.SS3.SSS2.p6.3.m3.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p6.3.m3.1c">o_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p6.3.m3.1d">italic_o start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.9">. Reflections are then generated for these documents based on the correct answer, expert feedback and the text gradient. However, as shown in Equation </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S4.E4" title="In 4.3.2 KB Editing Agent ‣ 4.3 STACKFEED ‣ 4 Methodology ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">4</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.10">, we need to aggregate these reflections across all queries. Instead of a simple concatenation, we adopt the clustering approach similar to </span><cite class="ltx_cite ltx_citemacro_citet"><span class="ltx_text ltx_font_typewriter">Juneja et al.</span> <span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.11.1.1.1">(</span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib23" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.12.2.2.1">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.13">, producing generalized reflections that effectively capture the core insights from multiple queries. These aggregated reflections can be effectively considered as the partial textual gradient </span><math alttext="\partial" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p6.4.m4.1"><semantics id="S4.SS3.SSS2.p6.4.m4.1a"><mo id="S4.SS3.SSS2.p6.4.m4.1.1" xref="S4.SS3.SSS2.p6.4.m4.1.1.cmml">∂</mo><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p6.4.m4.1b"><partialdiff id="S4.SS3.SSS2.p6.4.m4.1.1.cmml" xref="S4.SS3.SSS2.p6.4.m4.1.1"></partialdiff></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p6.4.m4.1c">\partial</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p6.4.m4.1d">∂</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.14"> with respect to the document. These partial gradients are provided as feedback to the document-specific actor </span><math alttext="A_{j}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p6.5.m5.1"><semantics id="S4.SS3.SSS2.p6.5.m5.1a"><msub id="S4.SS3.SSS2.p6.5.m5.1.1" xref="S4.SS3.SSS2.p6.5.m5.1.1.cmml"><mi id="S4.SS3.SSS2.p6.5.m5.1.1.2" xref="S4.SS3.SSS2.p6.5.m5.1.1.2.cmml">A</mi><mi id="S4.SS3.SSS2.p6.5.m5.1.1.3" xref="S4.SS3.SSS2.p6.5.m5.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p6.5.m5.1b"><apply id="S4.SS3.SSS2.p6.5.m5.1.1.cmml" xref="S4.SS3.SSS2.p6.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p6.5.m5.1.1.1.cmml" xref="S4.SS3.SSS2.p6.5.m5.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p6.5.m5.1.1.2.cmml" xref="S4.SS3.SSS2.p6.5.m5.1.1.2">𝐴</ci><ci id="S4.SS3.SSS2.p6.5.m5.1.1.3.cmml" xref="S4.SS3.SSS2.p6.5.m5.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p6.5.m5.1c">A_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p6.5.m5.1d">italic_A start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p6.5.15">, which then perform the actions to edit the specific documents.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p7">
<p class="ltx_p" id="S4.SS3.SSS2.p7.3"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S4.SS3.SSS2.p7.3.1">Actors:</span><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.3.2"> Each document </span><math alttext="D_{i}\in\mathcal{K}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p7.1.m1.1"><semantics id="S4.SS3.SSS2.p7.1.m1.1a"><mrow id="S4.SS3.SSS2.p7.1.m1.1.1" xref="S4.SS3.SSS2.p7.1.m1.1.1.cmml"><msub id="S4.SS3.SSS2.p7.1.m1.1.1.2" xref="S4.SS3.SSS2.p7.1.m1.1.1.2.cmml"><mi id="S4.SS3.SSS2.p7.1.m1.1.1.2.2" xref="S4.SS3.SSS2.p7.1.m1.1.1.2.2.cmml">D</mi><mi id="S4.SS3.SSS2.p7.1.m1.1.1.2.3" xref="S4.SS3.SSS2.p7.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S4.SS3.SSS2.p7.1.m1.1.1.1" xref="S4.SS3.SSS2.p7.1.m1.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS2.p7.1.m1.1.1.3" xref="S4.SS3.SSS2.p7.1.m1.1.1.3.cmml">𝒦</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p7.1.m1.1b"><apply id="S4.SS3.SSS2.p7.1.m1.1.1.cmml" xref="S4.SS3.SSS2.p7.1.m1.1.1"><in id="S4.SS3.SSS2.p7.1.m1.1.1.1.cmml" xref="S4.SS3.SSS2.p7.1.m1.1.1.1"></in><apply id="S4.SS3.SSS2.p7.1.m1.1.1.2.cmml" xref="S4.SS3.SSS2.p7.1.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p7.1.m1.1.1.2.1.cmml" xref="S4.SS3.SSS2.p7.1.m1.1.1.2">subscript</csymbol><ci id="S4.SS3.SSS2.p7.1.m1.1.1.2.2.cmml" xref="S4.SS3.SSS2.p7.1.m1.1.1.2.2">𝐷</ci><ci id="S4.SS3.SSS2.p7.1.m1.1.1.2.3.cmml" xref="S4.SS3.SSS2.p7.1.m1.1.1.2.3">𝑖</ci></apply><ci id="S4.SS3.SSS2.p7.1.m1.1.1.3.cmml" xref="S4.SS3.SSS2.p7.1.m1.1.1.3">𝒦</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p7.1.m1.1c">D_{i}\in\mathcal{K}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p7.1.m1.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ∈ caligraphic_K</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.3.3"> is managed by a distinct actor, </span><math alttext="A_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p7.2.m2.1"><semantics id="S4.SS3.SSS2.p7.2.m2.1a"><msub id="S4.SS3.SSS2.p7.2.m2.1.1" xref="S4.SS3.SSS2.p7.2.m2.1.1.cmml"><mi id="S4.SS3.SSS2.p7.2.m2.1.1.2" xref="S4.SS3.SSS2.p7.2.m2.1.1.2.cmml">A</mi><mi id="S4.SS3.SSS2.p7.2.m2.1.1.3" xref="S4.SS3.SSS2.p7.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p7.2.m2.1b"><apply id="S4.SS3.SSS2.p7.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p7.2.m2.1.1.1.cmml" xref="S4.SS3.SSS2.p7.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p7.2.m2.1.1.2.cmml" xref="S4.SS3.SSS2.p7.2.m2.1.1.2">𝐴</ci><ci id="S4.SS3.SSS2.p7.2.m2.1.1.3.cmml" xref="S4.SS3.SSS2.p7.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p7.2.m2.1c">A_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p7.2.m2.1d">italic_A start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.3.4">, which is modeled as a ReACT agent </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text ltx_font_typewriter">Yao et al.</span> <span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.3.5.1.1.1">(</span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib52" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.3.6.2.2.1">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.3.7"> responsible for making structured edits to its document. Each actor operates independently, receiving reflections from the centralized critic on how to modify the content of </span><math alttext="D_{i}=[c_{ij}]" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p7.3.m3.1"><semantics id="S4.SS3.SSS2.p7.3.m3.1a"><mrow id="S4.SS3.SSS2.p7.3.m3.1.1" xref="S4.SS3.SSS2.p7.3.m3.1.1.cmml"><msub id="S4.SS3.SSS2.p7.3.m3.1.1.3" xref="S4.SS3.SSS2.p7.3.m3.1.1.3.cmml"><mi id="S4.SS3.SSS2.p7.3.m3.1.1.3.2" xref="S4.SS3.SSS2.p7.3.m3.1.1.3.2.cmml">D</mi><mi id="S4.SS3.SSS2.p7.3.m3.1.1.3.3" xref="S4.SS3.SSS2.p7.3.m3.1.1.3.3.cmml">i</mi></msub><mo id="S4.SS3.SSS2.p7.3.m3.1.1.2" xref="S4.SS3.SSS2.p7.3.m3.1.1.2.cmml">=</mo><mrow id="S4.SS3.SSS2.p7.3.m3.1.1.1.1" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.2.cmml"><mo id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.2" stretchy="false" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.2.1.cmml">[</mo><msub id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.2" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.2.cmml">c</mi><mrow id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.cmml"><mi id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.2" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.2.cmml">i</mi><mo id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.1" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.3" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.3" stretchy="false" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p7.3.m3.1b"><apply id="S4.SS3.SSS2.p7.3.m3.1.1.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1"><eq id="S4.SS3.SSS2.p7.3.m3.1.1.2.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.2"></eq><apply id="S4.SS3.SSS2.p7.3.m3.1.1.3.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.3"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p7.3.m3.1.1.3.1.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.3">subscript</csymbol><ci id="S4.SS3.SSS2.p7.3.m3.1.1.3.2.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.3.2">𝐷</ci><ci id="S4.SS3.SSS2.p7.3.m3.1.1.3.3.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.3.3">𝑖</ci></apply><apply id="S4.SS3.SSS2.p7.3.m3.1.1.1.2.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1"><csymbol cd="latexml" id="S4.SS3.SSS2.p7.3.m3.1.1.1.2.1.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.2">𝑐</ci><apply id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3"><times id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.1.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.1"></times><ci id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.2.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.2">𝑖</ci><ci id="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.3.cmml" xref="S4.SS3.SSS2.p7.3.m3.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p7.3.m3.1c">D_{i}=[c_{ij}]</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p7.3.m3.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = [ italic_c start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT ]</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.3.8">.The actors need to only update these chunks as needed. The set of possible actions includes:</span></p>
<ul class="ltx_itemize" id="S4.I1">
<li class="ltx_item" id="S4.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i1.p1">
<p class="ltx_p" id="S4.I1.i1.p1.6"><math alttext="\mathsf{EditChunk}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.1.m1.1"><semantics id="S4.I1.i1.p1.1.m1.1a"><mi id="S4.I1.i1.p1.1.m1.1.1" xref="S4.I1.i1.p1.1.m1.1.1.cmml">𝖤𝖽𝗂𝗍𝖢𝗁𝗎𝗇𝗄</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.1.m1.1b"><ci id="S4.I1.i1.p1.1.m1.1.1.cmml" xref="S4.I1.i1.p1.1.m1.1.1">𝖤𝖽𝗂𝗍𝖢𝗁𝗎𝗇𝗄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.1.m1.1c">\mathsf{EditChunk}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.1.m1.1d">sansserif_EditChunk</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i1.p1.6.1">: The action is defined as </span><math alttext="\mathsf{EditChunk}(j,t_{j})" class="ltx_Math" display="inline" id="S4.I1.i1.p1.2.m2.2"><semantics id="S4.I1.i1.p1.2.m2.2a"><mrow id="S4.I1.i1.p1.2.m2.2.2" xref="S4.I1.i1.p1.2.m2.2.2.cmml"><mi id="S4.I1.i1.p1.2.m2.2.2.3" xref="S4.I1.i1.p1.2.m2.2.2.3.cmml">𝖤𝖽𝗂𝗍𝖢𝗁𝗎𝗇𝗄</mi><mo id="S4.I1.i1.p1.2.m2.2.2.2" xref="S4.I1.i1.p1.2.m2.2.2.2.cmml">⁢</mo><mrow id="S4.I1.i1.p1.2.m2.2.2.1.1" xref="S4.I1.i1.p1.2.m2.2.2.1.2.cmml"><mo id="S4.I1.i1.p1.2.m2.2.2.1.1.2" stretchy="false" xref="S4.I1.i1.p1.2.m2.2.2.1.2.cmml">(</mo><mi id="S4.I1.i1.p1.2.m2.1.1" xref="S4.I1.i1.p1.2.m2.1.1.cmml">j</mi><mo id="S4.I1.i1.p1.2.m2.2.2.1.1.3" xref="S4.I1.i1.p1.2.m2.2.2.1.2.cmml">,</mo><msub id="S4.I1.i1.p1.2.m2.2.2.1.1.1" xref="S4.I1.i1.p1.2.m2.2.2.1.1.1.cmml"><mi id="S4.I1.i1.p1.2.m2.2.2.1.1.1.2" xref="S4.I1.i1.p1.2.m2.2.2.1.1.1.2.cmml">t</mi><mi id="S4.I1.i1.p1.2.m2.2.2.1.1.1.3" xref="S4.I1.i1.p1.2.m2.2.2.1.1.1.3.cmml">j</mi></msub><mo id="S4.I1.i1.p1.2.m2.2.2.1.1.4" stretchy="false" xref="S4.I1.i1.p1.2.m2.2.2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.2.m2.2b"><apply id="S4.I1.i1.p1.2.m2.2.2.cmml" xref="S4.I1.i1.p1.2.m2.2.2"><times id="S4.I1.i1.p1.2.m2.2.2.2.cmml" xref="S4.I1.i1.p1.2.m2.2.2.2"></times><ci id="S4.I1.i1.p1.2.m2.2.2.3.cmml" xref="S4.I1.i1.p1.2.m2.2.2.3">𝖤𝖽𝗂𝗍𝖢𝗁𝗎𝗇𝗄</ci><interval closure="open" id="S4.I1.i1.p1.2.m2.2.2.1.2.cmml" xref="S4.I1.i1.p1.2.m2.2.2.1.1"><ci id="S4.I1.i1.p1.2.m2.1.1.cmml" xref="S4.I1.i1.p1.2.m2.1.1">𝑗</ci><apply id="S4.I1.i1.p1.2.m2.2.2.1.1.1.cmml" xref="S4.I1.i1.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.2.m2.2.2.1.1.1.1.cmml" xref="S4.I1.i1.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.2.m2.2.2.1.1.1.2.cmml" xref="S4.I1.i1.p1.2.m2.2.2.1.1.1.2">𝑡</ci><ci id="S4.I1.i1.p1.2.m2.2.2.1.1.1.3.cmml" xref="S4.I1.i1.p1.2.m2.2.2.1.1.1.3">𝑗</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.2.m2.2c">\mathsf{EditChunk}(j,t_{j})</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.2.m2.2d">sansserif_EditChunk ( italic_j , italic_t start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i1.p1.6.2">, where </span><math alttext="j" class="ltx_Math" display="inline" id="S4.I1.i1.p1.3.m3.1"><semantics id="S4.I1.i1.p1.3.m3.1a"><mi id="S4.I1.i1.p1.3.m3.1.1" xref="S4.I1.i1.p1.3.m3.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.3.m3.1b"><ci id="S4.I1.i1.p1.3.m3.1.1.cmml" xref="S4.I1.i1.p1.3.m3.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.3.m3.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.3.m3.1d">italic_j</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i1.p1.6.3"> indicates which chunk </span><math alttext="c_{ij}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.4.m4.1"><semantics id="S4.I1.i1.p1.4.m4.1a"><msub id="S4.I1.i1.p1.4.m4.1.1" xref="S4.I1.i1.p1.4.m4.1.1.cmml"><mi id="S4.I1.i1.p1.4.m4.1.1.2" xref="S4.I1.i1.p1.4.m4.1.1.2.cmml">c</mi><mrow id="S4.I1.i1.p1.4.m4.1.1.3" xref="S4.I1.i1.p1.4.m4.1.1.3.cmml"><mi id="S4.I1.i1.p1.4.m4.1.1.3.2" xref="S4.I1.i1.p1.4.m4.1.1.3.2.cmml">i</mi><mo id="S4.I1.i1.p1.4.m4.1.1.3.1" xref="S4.I1.i1.p1.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S4.I1.i1.p1.4.m4.1.1.3.3" xref="S4.I1.i1.p1.4.m4.1.1.3.3.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.4.m4.1b"><apply id="S4.I1.i1.p1.4.m4.1.1.cmml" xref="S4.I1.i1.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.4.m4.1.1.1.cmml" xref="S4.I1.i1.p1.4.m4.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.4.m4.1.1.2.cmml" xref="S4.I1.i1.p1.4.m4.1.1.2">𝑐</ci><apply id="S4.I1.i1.p1.4.m4.1.1.3.cmml" xref="S4.I1.i1.p1.4.m4.1.1.3"><times id="S4.I1.i1.p1.4.m4.1.1.3.1.cmml" xref="S4.I1.i1.p1.4.m4.1.1.3.1"></times><ci id="S4.I1.i1.p1.4.m4.1.1.3.2.cmml" xref="S4.I1.i1.p1.4.m4.1.1.3.2">𝑖</ci><ci id="S4.I1.i1.p1.4.m4.1.1.3.3.cmml" xref="S4.I1.i1.p1.4.m4.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.4.m4.1c">c_{ij}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.4.m4.1d">italic_c start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i1.p1.6.4"> of </span><math alttext="D_{i}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.5.m5.1"><semantics id="S4.I1.i1.p1.5.m5.1a"><msub id="S4.I1.i1.p1.5.m5.1.1" xref="S4.I1.i1.p1.5.m5.1.1.cmml"><mi id="S4.I1.i1.p1.5.m5.1.1.2" xref="S4.I1.i1.p1.5.m5.1.1.2.cmml">D</mi><mi id="S4.I1.i1.p1.5.m5.1.1.3" xref="S4.I1.i1.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.5.m5.1b"><apply id="S4.I1.i1.p1.5.m5.1.1.cmml" xref="S4.I1.i1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.5.m5.1.1.1.cmml" xref="S4.I1.i1.p1.5.m5.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.5.m5.1.1.2.cmml" xref="S4.I1.i1.p1.5.m5.1.1.2">𝐷</ci><ci id="S4.I1.i1.p1.5.m5.1.1.3.cmml" xref="S4.I1.i1.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.5.m5.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.5.m5.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i1.p1.6.5"> to modify, and </span><math alttext="t_{j}" class="ltx_Math" display="inline" id="S4.I1.i1.p1.6.m6.1"><semantics id="S4.I1.i1.p1.6.m6.1a"><msub id="S4.I1.i1.p1.6.m6.1.1" xref="S4.I1.i1.p1.6.m6.1.1.cmml"><mi id="S4.I1.i1.p1.6.m6.1.1.2" xref="S4.I1.i1.p1.6.m6.1.1.2.cmml">t</mi><mi id="S4.I1.i1.p1.6.m6.1.1.3" xref="S4.I1.i1.p1.6.m6.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i1.p1.6.m6.1b"><apply id="S4.I1.i1.p1.6.m6.1.1.cmml" xref="S4.I1.i1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S4.I1.i1.p1.6.m6.1.1.1.cmml" xref="S4.I1.i1.p1.6.m6.1.1">subscript</csymbol><ci id="S4.I1.i1.p1.6.m6.1.1.2.cmml" xref="S4.I1.i1.p1.6.m6.1.1.2">𝑡</ci><ci id="S4.I1.i1.p1.6.m6.1.1.3.cmml" xref="S4.I1.i1.p1.6.m6.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i1.p1.6.m6.1c">t_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i1.p1.6.m6.1d">italic_t start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i1.p1.6.6"> is the updated content for the chunk.</span></p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para" id="S4.I1.i2.p1">
<p class="ltx_p" id="S4.I1.i2.p1.4"><math alttext="\mathsf{AddChunk}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.1.m1.1"><semantics id="S4.I1.i2.p1.1.m1.1a"><mi id="S4.I1.i2.p1.1.m1.1.1" xref="S4.I1.i2.p1.1.m1.1.1.cmml">𝖠𝖽𝖽𝖢𝗁𝗎𝗇𝗄</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.1.m1.1b"><ci id="S4.I1.i2.p1.1.m1.1.1.cmml" xref="S4.I1.i2.p1.1.m1.1.1">𝖠𝖽𝖽𝖢𝗁𝗎𝗇𝗄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.1.m1.1c">\mathsf{AddChunk}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.1.m1.1d">sansserif_AddChunk</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i2.p1.4.1">: The action is defined as </span><math alttext="\mathsf{AddChunk}(n_{j},t_{j})" class="ltx_Math" display="inline" id="S4.I1.i2.p1.2.m2.2"><semantics id="S4.I1.i2.p1.2.m2.2a"><mrow id="S4.I1.i2.p1.2.m2.2.2" xref="S4.I1.i2.p1.2.m2.2.2.cmml"><mi id="S4.I1.i2.p1.2.m2.2.2.4" xref="S4.I1.i2.p1.2.m2.2.2.4.cmml">𝖠𝖽𝖽𝖢𝗁𝗎𝗇𝗄</mi><mo id="S4.I1.i2.p1.2.m2.2.2.3" xref="S4.I1.i2.p1.2.m2.2.2.3.cmml">⁢</mo><mrow id="S4.I1.i2.p1.2.m2.2.2.2.2" xref="S4.I1.i2.p1.2.m2.2.2.2.3.cmml"><mo id="S4.I1.i2.p1.2.m2.2.2.2.2.3" stretchy="false" xref="S4.I1.i2.p1.2.m2.2.2.2.3.cmml">(</mo><msub id="S4.I1.i2.p1.2.m2.1.1.1.1.1" xref="S4.I1.i2.p1.2.m2.1.1.1.1.1.cmml"><mi id="S4.I1.i2.p1.2.m2.1.1.1.1.1.2" xref="S4.I1.i2.p1.2.m2.1.1.1.1.1.2.cmml">n</mi><mi id="S4.I1.i2.p1.2.m2.1.1.1.1.1.3" xref="S4.I1.i2.p1.2.m2.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S4.I1.i2.p1.2.m2.2.2.2.2.4" xref="S4.I1.i2.p1.2.m2.2.2.2.3.cmml">,</mo><msub id="S4.I1.i2.p1.2.m2.2.2.2.2.2" xref="S4.I1.i2.p1.2.m2.2.2.2.2.2.cmml"><mi id="S4.I1.i2.p1.2.m2.2.2.2.2.2.2" xref="S4.I1.i2.p1.2.m2.2.2.2.2.2.2.cmml">t</mi><mi id="S4.I1.i2.p1.2.m2.2.2.2.2.2.3" xref="S4.I1.i2.p1.2.m2.2.2.2.2.2.3.cmml">j</mi></msub><mo id="S4.I1.i2.p1.2.m2.2.2.2.2.5" stretchy="false" xref="S4.I1.i2.p1.2.m2.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.2.m2.2b"><apply id="S4.I1.i2.p1.2.m2.2.2.cmml" xref="S4.I1.i2.p1.2.m2.2.2"><times id="S4.I1.i2.p1.2.m2.2.2.3.cmml" xref="S4.I1.i2.p1.2.m2.2.2.3"></times><ci id="S4.I1.i2.p1.2.m2.2.2.4.cmml" xref="S4.I1.i2.p1.2.m2.2.2.4">𝖠𝖽𝖽𝖢𝗁𝗎𝗇𝗄</ci><interval closure="open" id="S4.I1.i2.p1.2.m2.2.2.2.3.cmml" xref="S4.I1.i2.p1.2.m2.2.2.2.2"><apply id="S4.I1.i2.p1.2.m2.1.1.1.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.2.m2.1.1.1.1.1.1.cmml" xref="S4.I1.i2.p1.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S4.I1.i2.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.I1.i2.p1.2.m2.1.1.1.1.1.2">𝑛</ci><ci id="S4.I1.i2.p1.2.m2.1.1.1.1.1.3.cmml" xref="S4.I1.i2.p1.2.m2.1.1.1.1.1.3">𝑗</ci></apply><apply id="S4.I1.i2.p1.2.m2.2.2.2.2.2.cmml" xref="S4.I1.i2.p1.2.m2.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.I1.i2.p1.2.m2.2.2.2.2.2.1.cmml" xref="S4.I1.i2.p1.2.m2.2.2.2.2.2">subscript</csymbol><ci id="S4.I1.i2.p1.2.m2.2.2.2.2.2.2.cmml" xref="S4.I1.i2.p1.2.m2.2.2.2.2.2.2">𝑡</ci><ci id="S4.I1.i2.p1.2.m2.2.2.2.2.2.3.cmml" xref="S4.I1.i2.p1.2.m2.2.2.2.2.2.3">𝑗</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.2.m2.2c">\mathsf{AddChunk}(n_{j},t_{j})</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.2.m2.2d">sansserif_AddChunk ( italic_n start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , italic_t start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i2.p1.4.2">, where </span><math alttext="n_{j}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.3.m3.1"><semantics id="S4.I1.i2.p1.3.m3.1a"><msub id="S4.I1.i2.p1.3.m3.1.1" xref="S4.I1.i2.p1.3.m3.1.1.cmml"><mi id="S4.I1.i2.p1.3.m3.1.1.2" xref="S4.I1.i2.p1.3.m3.1.1.2.cmml">n</mi><mi id="S4.I1.i2.p1.3.m3.1.1.3" xref="S4.I1.i2.p1.3.m3.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.3.m3.1b"><apply id="S4.I1.i2.p1.3.m3.1.1.cmml" xref="S4.I1.i2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.3.m3.1.1.1.cmml" xref="S4.I1.i2.p1.3.m3.1.1">subscript</csymbol><ci id="S4.I1.i2.p1.3.m3.1.1.2.cmml" xref="S4.I1.i2.p1.3.m3.1.1.2">𝑛</ci><ci id="S4.I1.i2.p1.3.m3.1.1.3.cmml" xref="S4.I1.i2.p1.3.m3.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.3.m3.1c">n_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.3.m3.1d">italic_n start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i2.p1.4.3"> indicates the name of the new chunk, and </span><math alttext="t_{j}" class="ltx_Math" display="inline" id="S4.I1.i2.p1.4.m4.1"><semantics id="S4.I1.i2.p1.4.m4.1a"><msub id="S4.I1.i2.p1.4.m4.1.1" xref="S4.I1.i2.p1.4.m4.1.1.cmml"><mi id="S4.I1.i2.p1.4.m4.1.1.2" xref="S4.I1.i2.p1.4.m4.1.1.2.cmml">t</mi><mi id="S4.I1.i2.p1.4.m4.1.1.3" xref="S4.I1.i2.p1.4.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i2.p1.4.m4.1b"><apply id="S4.I1.i2.p1.4.m4.1.1.cmml" xref="S4.I1.i2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I1.i2.p1.4.m4.1.1.1.cmml" xref="S4.I1.i2.p1.4.m4.1.1">subscript</csymbol><ci id="S4.I1.i2.p1.4.m4.1.1.2.cmml" xref="S4.I1.i2.p1.4.m4.1.1.2">𝑡</ci><ci id="S4.I1.i2.p1.4.m4.1.1.3.cmml" xref="S4.I1.i2.p1.4.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i2.p1.4.m4.1c">t_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i2.p1.4.m4.1d">italic_t start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i2.p1.4.4"> is the content for the chunk.</span></p>
</div>
</li>
<li class="ltx_item" id="S4.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span>
<div class="ltx_para ltx_noindent" id="S4.I1.i3.p1">
<p class="ltx_p" id="S4.I1.i3.p1.5"><math alttext="\mathsf{DeleteChunk}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.1.m1.1"><semantics id="S4.I1.i3.p1.1.m1.1a"><mi id="S4.I1.i3.p1.1.m1.1.1" xref="S4.I1.i3.p1.1.m1.1.1.cmml">𝖣𝖾𝗅𝖾𝗍𝖾𝖢𝗁𝗎𝗇𝗄</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.1.m1.1b"><ci id="S4.I1.i3.p1.1.m1.1.1.cmml" xref="S4.I1.i3.p1.1.m1.1.1">𝖣𝖾𝗅𝖾𝗍𝖾𝖢𝗁𝗎𝗇𝗄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.1.m1.1c">\mathsf{DeleteChunk}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.1.m1.1d">sansserif_DeleteChunk</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i3.p1.5.1">: The action is defined as </span><math alttext="\mathsf{DeleteChunk}(j)" class="ltx_Math" display="inline" id="S4.I1.i3.p1.2.m2.1"><semantics id="S4.I1.i3.p1.2.m2.1a"><mrow id="S4.I1.i3.p1.2.m2.1.2" xref="S4.I1.i3.p1.2.m2.1.2.cmml"><mi id="S4.I1.i3.p1.2.m2.1.2.2" xref="S4.I1.i3.p1.2.m2.1.2.2.cmml">𝖣𝖾𝗅𝖾𝗍𝖾𝖢𝗁𝗎𝗇𝗄</mi><mo id="S4.I1.i3.p1.2.m2.1.2.1" xref="S4.I1.i3.p1.2.m2.1.2.1.cmml">⁢</mo><mrow id="S4.I1.i3.p1.2.m2.1.2.3.2" xref="S4.I1.i3.p1.2.m2.1.2.cmml"><mo id="S4.I1.i3.p1.2.m2.1.2.3.2.1" stretchy="false" xref="S4.I1.i3.p1.2.m2.1.2.cmml">(</mo><mi id="S4.I1.i3.p1.2.m2.1.1" xref="S4.I1.i3.p1.2.m2.1.1.cmml">j</mi><mo id="S4.I1.i3.p1.2.m2.1.2.3.2.2" stretchy="false" xref="S4.I1.i3.p1.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.2.m2.1b"><apply id="S4.I1.i3.p1.2.m2.1.2.cmml" xref="S4.I1.i3.p1.2.m2.1.2"><times id="S4.I1.i3.p1.2.m2.1.2.1.cmml" xref="S4.I1.i3.p1.2.m2.1.2.1"></times><ci id="S4.I1.i3.p1.2.m2.1.2.2.cmml" xref="S4.I1.i3.p1.2.m2.1.2.2">𝖣𝖾𝗅𝖾𝗍𝖾𝖢𝗁𝗎𝗇𝗄</ci><ci id="S4.I1.i3.p1.2.m2.1.1.cmml" xref="S4.I1.i3.p1.2.m2.1.1">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.2.m2.1c">\mathsf{DeleteChunk}(j)</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.2.m2.1d">sansserif_DeleteChunk ( italic_j )</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i3.p1.5.2">, where </span><math alttext="j" class="ltx_Math" display="inline" id="S4.I1.i3.p1.3.m3.1"><semantics id="S4.I1.i3.p1.3.m3.1a"><mi id="S4.I1.i3.p1.3.m3.1.1" xref="S4.I1.i3.p1.3.m3.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.3.m3.1b"><ci id="S4.I1.i3.p1.3.m3.1.1.cmml" xref="S4.I1.i3.p1.3.m3.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.3.m3.1c">j</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.3.m3.1d">italic_j</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i3.p1.5.3"> specifies which chunk </span><math alttext="c_{ij}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.4.m4.1"><semantics id="S4.I1.i3.p1.4.m4.1a"><msub id="S4.I1.i3.p1.4.m4.1.1" xref="S4.I1.i3.p1.4.m4.1.1.cmml"><mi id="S4.I1.i3.p1.4.m4.1.1.2" xref="S4.I1.i3.p1.4.m4.1.1.2.cmml">c</mi><mrow id="S4.I1.i3.p1.4.m4.1.1.3" xref="S4.I1.i3.p1.4.m4.1.1.3.cmml"><mi id="S4.I1.i3.p1.4.m4.1.1.3.2" xref="S4.I1.i3.p1.4.m4.1.1.3.2.cmml">i</mi><mo id="S4.I1.i3.p1.4.m4.1.1.3.1" xref="S4.I1.i3.p1.4.m4.1.1.3.1.cmml">⁢</mo><mi id="S4.I1.i3.p1.4.m4.1.1.3.3" xref="S4.I1.i3.p1.4.m4.1.1.3.3.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.4.m4.1b"><apply id="S4.I1.i3.p1.4.m4.1.1.cmml" xref="S4.I1.i3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.4.m4.1.1.1.cmml" xref="S4.I1.i3.p1.4.m4.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.4.m4.1.1.2.cmml" xref="S4.I1.i3.p1.4.m4.1.1.2">𝑐</ci><apply id="S4.I1.i3.p1.4.m4.1.1.3.cmml" xref="S4.I1.i3.p1.4.m4.1.1.3"><times id="S4.I1.i3.p1.4.m4.1.1.3.1.cmml" xref="S4.I1.i3.p1.4.m4.1.1.3.1"></times><ci id="S4.I1.i3.p1.4.m4.1.1.3.2.cmml" xref="S4.I1.i3.p1.4.m4.1.1.3.2">𝑖</ci><ci id="S4.I1.i3.p1.4.m4.1.1.3.3.cmml" xref="S4.I1.i3.p1.4.m4.1.1.3.3">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.4.m4.1c">c_{ij}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.4.m4.1d">italic_c start_POSTSUBSCRIPT italic_i italic_j end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i3.p1.5.4"> of </span><math alttext="D_{i}" class="ltx_Math" display="inline" id="S4.I1.i3.p1.5.m5.1"><semantics id="S4.I1.i3.p1.5.m5.1a"><msub id="S4.I1.i3.p1.5.m5.1.1" xref="S4.I1.i3.p1.5.m5.1.1.cmml"><mi id="S4.I1.i3.p1.5.m5.1.1.2" xref="S4.I1.i3.p1.5.m5.1.1.2.cmml">D</mi><mi id="S4.I1.i3.p1.5.m5.1.1.3" xref="S4.I1.i3.p1.5.m5.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.I1.i3.p1.5.m5.1b"><apply id="S4.I1.i3.p1.5.m5.1.1.cmml" xref="S4.I1.i3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.I1.i3.p1.5.m5.1.1.1.cmml" xref="S4.I1.i3.p1.5.m5.1.1">subscript</csymbol><ci id="S4.I1.i3.p1.5.m5.1.1.2.cmml" xref="S4.I1.i3.p1.5.m5.1.1.2">𝐷</ci><ci id="S4.I1.i3.p1.5.m5.1.1.3.cmml" xref="S4.I1.i3.p1.5.m5.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.I1.i3.p1.5.m5.1c">D_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.I1.i3.p1.5.m5.1d">italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.I1.i3.p1.5.5"> to remove.</span></p>
</div>
</li>
</ul>
<p class="ltx_p" id="S4.SS3.SSS2.p7.4"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.4.1">This parameterized action space allows the actors to perform precise edits within the document, ensuring that the refinement process is both flexible and context-specific. Each actor leverages its local state </span><math alttext="s_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p7.4.m1.1"><semantics id="S4.SS3.SSS2.p7.4.m1.1a"><msub id="S4.SS3.SSS2.p7.4.m1.1.1" xref="S4.SS3.SSS2.p7.4.m1.1.1.cmml"><mi id="S4.SS3.SSS2.p7.4.m1.1.1.2" xref="S4.SS3.SSS2.p7.4.m1.1.1.2.cmml">s</mi><mi id="S4.SS3.SSS2.p7.4.m1.1.1.3" xref="S4.SS3.SSS2.p7.4.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p7.4.m1.1b"><apply id="S4.SS3.SSS2.p7.4.m1.1.1.cmml" xref="S4.SS3.SSS2.p7.4.m1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p7.4.m1.1.1.1.cmml" xref="S4.SS3.SSS2.p7.4.m1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p7.4.m1.1.1.2.cmml" xref="S4.SS3.SSS2.p7.4.m1.1.1.2">𝑠</ci><ci id="S4.SS3.SSS2.p7.4.m1.1.1.3.cmml" xref="S4.SS3.SSS2.p7.4.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p7.4.m1.1c">s_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p7.4.m1.1d">italic_s start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p7.4.2"> and the document-specific feedback from the critic to produce a sequence of structured edits, ensuring that modifications are consistent and contribute towards enhancing the document’s relevance and completeness.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p8">
<p class="ltx_p" id="S4.SS3.SSS2.p8.3"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p8.3.1">The ReACT agent utilizes these reflections and iteratively generates a trajectory </span><math alttext="t_{0}={a_{0},a_{1},a_{2}\cdot a_{n}}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p8.1.m1.3"><semantics id="S4.SS3.SSS2.p8.1.m1.3a"><mrow id="S4.SS3.SSS2.p8.1.m1.3.3" xref="S4.SS3.SSS2.p8.1.m1.3.3.cmml"><msub id="S4.SS3.SSS2.p8.1.m1.3.3.5" xref="S4.SS3.SSS2.p8.1.m1.3.3.5.cmml"><mi id="S4.SS3.SSS2.p8.1.m1.3.3.5.2" xref="S4.SS3.SSS2.p8.1.m1.3.3.5.2.cmml">t</mi><mn id="S4.SS3.SSS2.p8.1.m1.3.3.5.3" xref="S4.SS3.SSS2.p8.1.m1.3.3.5.3.cmml">0</mn></msub><mo id="S4.SS3.SSS2.p8.1.m1.3.3.4" xref="S4.SS3.SSS2.p8.1.m1.3.3.4.cmml">=</mo><mrow id="S4.SS3.SSS2.p8.1.m1.3.3.3.3" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.4.cmml"><msub id="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1" xref="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.2" xref="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.2.cmml">a</mi><mn id="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.3" xref="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.3.cmml">0</mn></msub><mo id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.4" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.4.cmml">,</mo><msub id="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2" xref="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.cmml"><mi id="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.2" xref="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.2.cmml">a</mi><mn id="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.3" xref="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.3.cmml">1</mn></msub><mo id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.5" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.4.cmml">,</mo><mrow id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.cmml"><msub id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.cmml"><mi id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.2" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.2.cmml">a</mi><mn id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.3" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.3.cmml">2</mn></msub><mo id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.1" lspace="0.222em" rspace="0.222em" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.1.cmml">⋅</mo><msub id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.cmml"><mi id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.2" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.2.cmml">a</mi><mi id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.3" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.3.cmml">n</mi></msub></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p8.1.m1.3b"><apply id="S4.SS3.SSS2.p8.1.m1.3.3.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3"><eq id="S4.SS3.SSS2.p8.1.m1.3.3.4.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.4"></eq><apply id="S4.SS3.SSS2.p8.1.m1.3.3.5.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.5"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.1.m1.3.3.5.1.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.5">subscript</csymbol><ci id="S4.SS3.SSS2.p8.1.m1.3.3.5.2.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.5.2">𝑡</ci><cn id="S4.SS3.SSS2.p8.1.m1.3.3.5.3.cmml" type="integer" xref="S4.SS3.SSS2.p8.1.m1.3.3.5.3">0</cn></apply><list id="S4.SS3.SSS2.p8.1.m1.3.3.3.4.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3"><apply id="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.2">𝑎</ci><cn id="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.3.cmml" type="integer" xref="S4.SS3.SSS2.p8.1.m1.1.1.1.1.1.3">0</cn></apply><apply id="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.cmml" xref="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.1.cmml" xref="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.2.cmml" xref="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.2">𝑎</ci><cn id="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.3.cmml" type="integer" xref="S4.SS3.SSS2.p8.1.m1.2.2.2.2.2.3">1</cn></apply><apply id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3"><ci id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.1.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.1">⋅</ci><apply id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.1.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2">subscript</csymbol><ci id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.2.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.2">𝑎</ci><cn id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.3.cmml" type="integer" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.2.3">2</cn></apply><apply id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.1.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3">subscript</csymbol><ci id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.2.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.2">𝑎</ci><ci id="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.3.cmml" xref="S4.SS3.SSS2.p8.1.m1.3.3.3.3.3.3.3">𝑛</ci></apply></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p8.1.m1.3c">t_{0}={a_{0},a_{1},a_{2}\cdot a_{n}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p8.1.m1.3d">italic_t start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = italic_a start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_a start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ⋅ italic_a start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p8.3.2"> of edit actions to the document until the errors are resolved or the knowledge gaps are filled. This controlled editing process improves the accuracy of the RAG system by ensuring that the KB contains up-to-date and relevant information. After the completion of the actor runs, we generate the edit diffs for each document </span><math alttext="d_{i}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p8.2.m2.1"><semantics id="S4.SS3.SSS2.p8.2.m2.1a"><msub id="S4.SS3.SSS2.p8.2.m2.1.1" xref="S4.SS3.SSS2.p8.2.m2.1.1.cmml"><mi id="S4.SS3.SSS2.p8.2.m2.1.1.2" xref="S4.SS3.SSS2.p8.2.m2.1.1.2.cmml">d</mi><mi id="S4.SS3.SSS2.p8.2.m2.1.1.3" xref="S4.SS3.SSS2.p8.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p8.2.m2.1b"><apply id="S4.SS3.SSS2.p8.2.m2.1.1.cmml" xref="S4.SS3.SSS2.p8.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.2.m2.1.1.1.cmml" xref="S4.SS3.SSS2.p8.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p8.2.m2.1.1.2.cmml" xref="S4.SS3.SSS2.p8.2.m2.1.1.2">𝑑</ci><ci id="S4.SS3.SSS2.p8.2.m2.1.1.3.cmml" xref="S4.SS3.SSS2.p8.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p8.2.m2.1c">d_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p8.2.m2.1d">italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p8.3.3"> and pool them to generate the KB edit action </span><math alttext="u=[d_{i}]_{i=1}^{|\mathcal{K}|}" class="ltx_Math" display="inline" id="S4.SS3.SSS2.p8.3.m3.2"><semantics id="S4.SS3.SSS2.p8.3.m3.2a"><mrow id="S4.SS3.SSS2.p8.3.m3.2.2" xref="S4.SS3.SSS2.p8.3.m3.2.2.cmml"><mi id="S4.SS3.SSS2.p8.3.m3.2.2.3" xref="S4.SS3.SSS2.p8.3.m3.2.2.3.cmml">u</mi><mo id="S4.SS3.SSS2.p8.3.m3.2.2.2" xref="S4.SS3.SSS2.p8.3.m3.2.2.2.cmml">=</mo><msubsup id="S4.SS3.SSS2.p8.3.m3.2.2.1" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.cmml"><mrow id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.2.cmml"><mo id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.2" stretchy="false" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.2.1.cmml">[</mo><msub id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.cmml"><mi id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.2" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.2.cmml">d</mi><mi id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.3" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.3" stretchy="false" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.2.1.cmml">]</mo></mrow><mrow id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.cmml"><mi id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.2" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.2.cmml">i</mi><mo id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.1" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.1.cmml">=</mo><mn id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.3" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.3.cmml">1</mn></mrow><mrow id="S4.SS3.SSS2.p8.3.m3.1.1.1.3" xref="S4.SS3.SSS2.p8.3.m3.1.1.1.2.cmml"><mo id="S4.SS3.SSS2.p8.3.m3.1.1.1.3.1" stretchy="false" xref="S4.SS3.SSS2.p8.3.m3.1.1.1.2.1.cmml">|</mo><mi class="ltx_font_mathcaligraphic" id="S4.SS3.SSS2.p8.3.m3.1.1.1.1" xref="S4.SS3.SSS2.p8.3.m3.1.1.1.1.cmml">𝒦</mi><mo id="S4.SS3.SSS2.p8.3.m3.1.1.1.3.2" stretchy="false" xref="S4.SS3.SSS2.p8.3.m3.1.1.1.2.1.cmml">|</mo></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.SSS2.p8.3.m3.2b"><apply id="S4.SS3.SSS2.p8.3.m3.2.2.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2"><eq id="S4.SS3.SSS2.p8.3.m3.2.2.2.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.2"></eq><ci id="S4.SS3.SSS2.p8.3.m3.2.2.3.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.3">𝑢</ci><apply id="S4.SS3.SSS2.p8.3.m3.2.2.1.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.3.m3.2.2.1.2.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1">superscript</csymbol><apply id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.2.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1">subscript</csymbol><apply id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.2.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1"><csymbol cd="latexml" id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.2.1.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.2">delimited-[]</csymbol><apply id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.1.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1">subscript</csymbol><ci id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.2.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.2">𝑑</ci><ci id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.3.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3"><eq id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.1.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.1"></eq><ci id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.2.cmml" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.2">𝑖</ci><cn id="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.3.cmml" type="integer" xref="S4.SS3.SSS2.p8.3.m3.2.2.1.1.3.3">1</cn></apply></apply><apply id="S4.SS3.SSS2.p8.3.m3.1.1.1.2.cmml" xref="S4.SS3.SSS2.p8.3.m3.1.1.1.3"><abs id="S4.SS3.SSS2.p8.3.m3.1.1.1.2.1.cmml" xref="S4.SS3.SSS2.p8.3.m3.1.1.1.3.1"></abs><ci id="S4.SS3.SSS2.p8.3.m3.1.1.1.1.cmml" xref="S4.SS3.SSS2.p8.3.m3.1.1.1.1">𝒦</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.SSS2.p8.3.m3.2c">u=[d_{i}]_{i=1}^{|\mathcal{K}|}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.SSS2.p8.3.m3.2d">italic_u = [ italic_d start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ] start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT | caligraphic_K | end_POSTSUPERSCRIPT</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p8.3.4"></span></p>
</div>
<div class="ltx_para ltx_noindent" id="S4.SS3.SSS2.p9">
<p class="ltx_p" id="S4.SS3.SSS2.p9.1"><span class="ltx_text ltx_font_typewriter" id="S4.SS3.SSS2.p9.1.1">However, there might be many ways to edit a KB and we may need to have some desirable characteristics for the edited KB. In the next section, we discuss what those desirable characteristics could be and how we might measure them.</span></p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S5" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_section">
<span class="ltx_tag ltx_tag_section"><span class="ltx_text ltx_font_serif" id="S5.1.1.1">5</span> </span>Evaluating Knowledge Base Editing Quality</h2>
<div class="ltx_para ltx_noindent" id="S5.p1">
<p class="ltx_p" id="S5.p1.1"><span class="ltx_text ltx_font_typewriter" id="S5.p1.1.1">A Knowledge Base should be </span><span class="ltx_text ltx_font_typewriter ltx_font_italic" id="S5.p1.1.2">complete</span><span class="ltx_text ltx_font_typewriter" id="S5.p1.1.3"> with respect to a task - it should contain all the information necessary to </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S5.p1.1.4">assist</em><span class="ltx_text ltx_font_typewriter" id="S5.p1.1.5"> the RAG system to solve the task at hand. Given the open-ended nature of tasks that typical RAG agents
are designed for, it is hard to quantify a closed-form metric of </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S5.p1.1.6">completeness</em><span class="ltx_text ltx_font_typewriter" id="S5.p1.1.7">. That said, an ideal Knowledge Base editing system should at least be able to incorporate as much external feedback as possible.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S5.p2">
<p class="ltx_p" id="S5.p2.1"><span class="ltx_text ltx_font_typewriter" id="S5.p2.1.1">Further, It will be extremely undesirable for any Knowledge Base to only help the RAG system for a small subset of tasks. Given the tendencies for data-driven techniques to </span><span class="ltx_text ltx_font_typewriter ltx_font_italic" id="S5.p2.1.2">over-fit</span><span class="ltx_text ltx_font_typewriter" id="S5.p2.1.3"> on the train-set distribution, it is important that knowledge base edits are generalizable to unseen examples.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S5.p3">
<p class="ltx_p" id="S5.p3.1"><span class="ltx_text ltx_font_typewriter" id="S5.p3.1.1">Lastly, given the semantic and textual nature of the Knowledge Base, it is important that the documents in the Knowledge base are coherent and consistent throughout. This not only makes the document interpretable for human consumption, it also help reduce in-context noise during LLM inteference, which has been shown to affect LLM performance </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S5.p3.1.2.1">(</span><span class="ltx_text ltx_font_typewriter">Liu et al.</span><span class="ltx_text ltx_font_typewriter" id="S5.p3.1.3.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib29" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S5.p3.1.4.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S5.p3.1.5">.</span></p>
</div>
</section>
<section class="ltx_section" id="S6" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_section">
<span class="ltx_tag ltx_tag_section"><span class="ltx_text ltx_font_serif" id="S6.1.1.1">6</span> </span>Experimental Setup</h2>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S6.SS1.1.1.1">6.1</span> </span>Baseline</h3>
<div class="ltx_para ltx_noindent" id="S6.SS1.p1">
<p class="ltx_p" id="S6.SS1.p1.12"><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.1">While there has been a rich body of works in the area of knowledge editing and prompt optimization, to the best of our knowledge, </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.2">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.3"> is the first work targeting the feedback-driven textual Knowledge Base Editing problem. Therefore, to perform a holistic evaluation of </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.4">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.5"> we implement - </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.6">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.7">-E, an extension of </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.8">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.9">   </span><cite class="ltx_cite ltx_citemacro_cite"><span class="ltx_text ltx_font_typewriter">Wang et al.</span> <span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.10.1.1.1">(</span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib49" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.11.2.2.1">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.12"> for the KB editing task. </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.13">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.14">  formulates prompt optimization as a strategic planning problem using Monte Carlo Tree Search (MCTS). At a high-level our baseline approach, </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.15">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.16"> -E creates separate </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.17">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.18"> -style agents to optimize specific document in the KB. To minimize spurious edits in the Knowledge Base, we restrict </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.19">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.20"> -E to only optimize documents that were part of the retrievals for more than 2 training sample. After identifying the best nodes for each of the document-wise runs, we put them back in the knowledge base to generate the new version of the KB. In contrast to </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.21">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.22">, </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.23">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.24"> -E can be seen as a collection of document-wise
Independent Actor-Critic models  </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.25.1">(</span><span class="ltx_text ltx_font_typewriter">Foerster et al.</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.26.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib12" title=""><span class="ltx_text ltx_font_typewriter">2017</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.27.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.28">. We present in-depth comparisons between </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.29">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.30"> -E and </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS1.p1.12.31">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.32"> in Section </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S7" title="7 Results ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">7</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS1.p1.12.33"></span></p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S6.SS2.1.1.1">6.2</span> </span>Datasets</h3>
<div class="ltx_para ltx_noindent" id="S6.SS2.p1">
<p class="ltx_p" id="S6.SS2.p1.1"><span class="ltx_text ltx_font_typewriter" id="S6.SS2.p1.1.1">Knowledge Base Editing can be useful for scenarios where the KB is </span>
<span class="ltx_inline-enumerate" id="S6.I1">
<span class="ltx_inline-item" id="S6.I1.i1"><span class="ltx_tag ltx_tag_inline-item">1.</span> <span class="ltx_text ltx_font_typewriter" id="S6.I1.i1.1">Incomplete, or
</span></span>
<span class="ltx_inline-item" id="S6.I1.i2"><span class="ltx_tag ltx_tag_inline-item">2.</span> <span class="ltx_text ltx_font_typewriter" id="S6.I1.i2.1">Incorrect
</span></span>
</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.p1.1.2">. We evaluate </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS2.p1.1.3">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.p1.1.4">  on 5 datasets spanning these different settings.</span></p>
</div>
<section class="ltx_subsubsection" id="S6.SS2.SSS1">
<h4 class="ltx_title ltx_font_typewriter ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text ltx_font_serif" id="S6.SS2.SSS1.1.1.1">6.2.1</span> </span>Incomplete Knowledge Base</h4>
<figure class="ltx_table ltx_align_floatright" id="S6.T1">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T1.1" style="width:178.9pt;height:79.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-31.5pt,14.1pt) scale(0.739543459127079,0.739543459127079) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T1.1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T1.1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S6.T1.1.1.1.1.1"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.1.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T1.1.1.1.1.2"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.1.1.2.1">Train</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T1.1.1.1.1.3"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.1.1.3.1">Eval</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T1.1.1.1.1.4"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.1.1.4.1">Test</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T1.1.1.1.1.5"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.1.1.5.1">Documents</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T1.1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S6.T1.1.1.2.1.1"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.2.1.1.1">Pony</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.2.1.2"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.2.1.2.1">31</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.2.1.3"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.2.1.3.1">32</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.2.1.4"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.2.1.4.1">45</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.1.1.2.1.5"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.2.1.5.1">601</span></td>
</tr>
<tr class="ltx_tr" id="S6.T1.1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T1.1.1.3.2.1"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.3.2.1.1">Ring</span></th>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.3.2.2"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.3.2.2.1">26</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.3.2.3"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.3.2.3.1">27</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.3.2.4"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.3.2.4.1">39</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.3.2.5"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.3.2.5.1">577</span></td>
</tr>
<tr class="ltx_tr" id="S6.T1.1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T1.1.1.4.3.1"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.4.3.1.1">ScipyM</span></th>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.3.2"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.4.3.2.1">22</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.3.3"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.4.3.3.1">22</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.3.4"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.4.3.4.1">98</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.4.3.5"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.4.3.5.1">3921</span></td>
</tr>
<tr class="ltx_tr" id="S6.T1.1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S6.T1.1.1.5.4.1"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.5.4.1.1">TensorflowM</span></th>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.5.4.2"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.5.4.2.1">9</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.5.4.3"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.5.4.3.1">9</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.5.4.4"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.5.4.4.1">26</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.1.1.5.4.5"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.5.4.5.1">5859</span></td>
</tr>
<tr class="ltx_tr" id="S6.T1.1.1.6.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b" id="S6.T1.1.1.6.5.1"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.6.5.1.1">CLARKS News</span></th>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T1.1.1.6.5.2"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.6.5.2.1">30</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T1.1.1.6.5.3"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.6.5.3.1">30</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T1.1.1.6.5.4"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.6.5.4.1">60</span></td>
<td class="ltx_td ltx_align_center ltx_border_b" id="S6.T1.1.1.6.5.5"><span class="ltx_text ltx_font_typewriter" id="S6.T1.1.1.6.5.5.1">138</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering ltx_font_typewriter"><span class="ltx_tag ltx_tag_table"><span class="ltx_text ltx_font_serif" id="S6.T1.4.1.1">Table 1</span>: </span>Dataset Statistics</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S6.SS2.SSS1.p1">
<p class="ltx_p" id="S6.SS2.SSS1.p1.1"><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.1">We adapt </span><span class="ltx_text ltx_font_typewriter ltx_font_italic" id="S6.SS2.SSS1.p1.1.2">two</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.3"> code generation datasets from ARKS </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.4.1">(</span><span class="ltx_text ltx_font_typewriter">Su et al.</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.5.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib42" title=""><span class="ltx_text ltx_font_typewriter">2024a</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.6.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.7">, namely </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS2.SSS1.p1.1.8">ARKS-Pony</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.9"> and </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS2.SSS1.p1.1.10">ARKS-Ring</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.11">. The dataset consists of LeetCode problems and their solutions in low-resource languages Pony and Ring respectively. Each datapoint is supplemented with a corresponding language documentation, with execution accuracy as the success metric and execution failures as feedback to the system. Given that these language don’t appear prominently in LLM pre-training data, the performance of code generation RAG agents on these datasets depends significantly on the quality of the Knowledge Base. However, given that these languages have smaller communities, their documentation isn’t as well maintained and often lack critical information. . For the purpose of evaluation on these datasets, we split them into train, eval, test splits as specified in Table  </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S6.T1" title="Table 1 ‣ 6.2.1 Incomplete Knowledge Base ‣ 6.2 Datasets ‣ 6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.12">. To ensure that we have a good representation of failure cases during training, we first execute the RAG pipeline on the entire dataset and divide the failures at random in a 1:1:2 ratio for train, eval and test respectively. All the datapoints with successful execution match are put in the test split. We use the compiler feedback from the executions as the expert feedback to the </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.SS2.SSS1.p1.1.13">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS1.p1.1.14"> system.</span></p>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS2.SSS2">
<h4 class="ltx_title ltx_font_typewriter ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span class="ltx_text ltx_font_serif" id="S6.SS2.SSS2.1.1.1">6.2.2</span> </span>Incorrect Knowledge Base</h4>
<div class="ltx_para ltx_noindent" id="S6.SS2.SSS2.p1">
<p class="ltx_p" id="S6.SS2.SSS2.p1.1"><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.1">For evaluating under this setting, we leverage the </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS2.SSS2.p1.1.2">ARKS-ScipyM</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.3"> and </span><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS2.SSS2.p1.1.4">ARKS-TensorflowM</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.5"> datasets from ARKS and the CLARK-news dataset from Erase </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.6.1">(</span><span class="ltx_text ltx_font_typewriter">Li et al.</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.7.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib28" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.8.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.9">.
The ARKS datasets consist of data science problems sourced from the DS-1000 dataset  </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.10.1">(</span><span class="ltx_text ltx_font_typewriter">Lai et al.</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.11.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib26" title=""><span class="ltx_text ltx_font_typewriter">2022</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.12.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p1.1.13">, which are to be solved by artificially perturbed versions of scipy and tensorflow libraries respectively, while referring to the original unperturbed documentation. Similar to Pony and Ring, we use the execution accuracy on a test bench as a success metric and use compiler outcome as expert feedback. We also follow a similar approach for data splitting.</span></p>
</div>
<figure class="ltx_table" id="S6.T2">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S6.T2.7" style="width:397.5pt;height:89pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-2.2pt,0.5pt) scale(0.989108466526582,0.989108466526582) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S6.T2.7.7">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S6.T2.7.7.8.1">
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S6.T2.7.7.8.1.1"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.8.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S6.T2.7.7.8.1.2"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.8.1.2.1">Ring</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S6.T2.7.7.8.1.3"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.8.1.3.1">Pony</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S6.T2.7.7.8.1.4"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.8.1.4.1">SciPy</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S6.T2.7.7.8.1.5"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.8.1.5.1">Tensorflow</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S6.T2.7.7.8.1.6"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.8.1.6.1">CLARK-news</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S6.T2.5.5.5">
<td class="ltx_td ltx_border_t" id="S6.T2.5.5.5.6"></td>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T2.5.5.5.7"><span class="ltx_text ltx_font_typewriter" id="S6.T2.5.5.5.7.1">Acc</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S6.T2.1.1.1.1"><math alttext="\sigma" class="ltx_Math" display="inline" id="S6.T2.1.1.1.1.m1.1"><semantics id="S6.T2.1.1.1.1.m1.1a"><mi id="S6.T2.1.1.1.1.m1.1.1" xref="S6.T2.1.1.1.1.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S6.T2.1.1.1.1.m1.1b"><ci id="S6.T2.1.1.1.1.m1.1.1.cmml" xref="S6.T2.1.1.1.1.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.1.1.1.1.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S6.T2.1.1.1.1.m1.1d">italic_σ</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T2.5.5.5.8"><span class="ltx_text ltx_font_typewriter" id="S6.T2.5.5.5.8.1">Acc</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S6.T2.2.2.2.2"><math alttext="\sigma" class="ltx_Math" display="inline" id="S6.T2.2.2.2.2.m1.1"><semantics id="S6.T2.2.2.2.2.m1.1a"><mi id="S6.T2.2.2.2.2.m1.1.1" xref="S6.T2.2.2.2.2.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S6.T2.2.2.2.2.m1.1b"><ci id="S6.T2.2.2.2.2.m1.1.1.cmml" xref="S6.T2.2.2.2.2.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.2.2.2.2.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S6.T2.2.2.2.2.m1.1d">italic_σ</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T2.5.5.5.9"><span class="ltx_text ltx_font_typewriter" id="S6.T2.5.5.5.9.1">Acc</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S6.T2.3.3.3.3"><math alttext="\sigma" class="ltx_Math" display="inline" id="S6.T2.3.3.3.3.m1.1"><semantics id="S6.T2.3.3.3.3.m1.1a"><mi id="S6.T2.3.3.3.3.m1.1.1" xref="S6.T2.3.3.3.3.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S6.T2.3.3.3.3.m1.1b"><ci id="S6.T2.3.3.3.3.m1.1.1.cmml" xref="S6.T2.3.3.3.3.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.3.3.3.3.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S6.T2.3.3.3.3.m1.1d">italic_σ</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T2.5.5.5.10"><span class="ltx_text ltx_font_typewriter" id="S6.T2.5.5.5.10.1">Acc</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S6.T2.4.4.4.4"><math alttext="\sigma" class="ltx_Math" display="inline" id="S6.T2.4.4.4.4.m1.1"><semantics id="S6.T2.4.4.4.4.m1.1a"><mi id="S6.T2.4.4.4.4.m1.1.1" xref="S6.T2.4.4.4.4.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S6.T2.4.4.4.4.m1.1b"><ci id="S6.T2.4.4.4.4.m1.1.1.cmml" xref="S6.T2.4.4.4.4.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.4.4.4.4.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S6.T2.4.4.4.4.m1.1d">italic_σ</annotation></semantics></math></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S6.T2.5.5.5.11"><span class="ltx_text ltx_font_typewriter" id="S6.T2.5.5.5.11.1">Acc</span></th>
<th class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_column ltx_border_t" id="S6.T2.5.5.5.5"><math alttext="\sigma" class="ltx_Math" display="inline" id="S6.T2.5.5.5.5.m1.1"><semantics id="S6.T2.5.5.5.5.m1.1a"><mi id="S6.T2.5.5.5.5.m1.1.1" xref="S6.T2.5.5.5.5.m1.1.1.cmml">σ</mi><annotation-xml encoding="MathML-Content" id="S6.T2.5.5.5.5.m1.1b"><ci id="S6.T2.5.5.5.5.m1.1.1.cmml" xref="S6.T2.5.5.5.5.m1.1.1">𝜎</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.5.5.5.5.m1.1c">\sigma</annotation><annotation encoding="application/x-llamapun" id="S6.T2.5.5.5.5.m1.1d">italic_σ</annotation></semantics></math></th>
</tr>
<tr class="ltx_tr" id="S6.T2.7.7.9.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.7.7.9.1.1"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.1.1">Base KB</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.7.7.9.1.2"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.2.1">30.77</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.7.7.9.1.3"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.3.1">2.09</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.7.7.9.1.4"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.4.1">29.99</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.7.7.9.1.5"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.5.1">1.57</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.7.7.9.1.6"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.6.1">52.04</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.7.7.9.1.7"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.7.1">0.00</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.7.7.9.1.8"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.8.1">28.88</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.7.7.9.1.9"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.9.1">2.18</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.7.7.9.1.10"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.10.1">26.27</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t" id="S6.T2.7.7.9.1.11"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.9.1.11.1">1.20</span></td>
</tr>
<tr class="ltx_tr" id="S6.T2.6.6.6">
<td class="ltx_td ltx_align_left" id="S6.T2.6.6.6.1">
<span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.T2.6.6.6.1.1">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.1.2">-E</span>
</td>
<td class="ltx_td ltx_align_center" id="S6.T2.6.6.6.2"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.2.1">33.33</span></td>
<td class="ltx_td ltx_align_left" id="S6.T2.6.6.6.3"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.3.1">2.81</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.6.6.6.4"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.4.1">32.22</span></td>
<td class="ltx_td ltx_align_left" id="S6.T2.6.6.6.5"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.5.1">1.57</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.6.6.6.6"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.6.1">53.40</span></td>
<td class="ltx_td ltx_align_left" id="S6.T2.6.6.6.7"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.7.1">3.12</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.6.6.6.8"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.8.1">47.77</span></td>
<td class="ltx_td ltx_align_left" id="S6.T2.6.6.6.9"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.9.1">3.57</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.6.6.6.10"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.10.1">28.80</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_left" id="S6.T2.6.6.6.11"><span class="ltx_text ltx_font_typewriter" id="S6.T2.6.6.6.11.1">2.39</span></td>
</tr>
<tr class="ltx_tr" id="S6.T2.7.7.7">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T2.7.7.7.1"><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S6.T2.7.7.7.1.1">STACKFEED</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.7.7.7.2"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.T2.7.7.7.2.1">36.75</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T2.7.7.7.3"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.7.3.1">1.21</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.7.7.7.4"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.T2.7.7.7.4.1">37.04</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T2.7.7.7.5"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.7.5.1">1.28</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.7.7.7.6"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.T2.7.7.7.6.1">59.38</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T2.7.7.7.7"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.7.7.1">1.22</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.7.7.7.8"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.T2.7.7.7.8.1">53.84</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T2.7.7.7.9"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.7.9.1">3.11</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.7.7.7.10"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.T2.7.7.7.10.1">37.28</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_left ltx_border_bb" id="S6.T2.7.7.7.11"><span class="ltx_text ltx_font_typewriter" id="S6.T2.7.7.7.11.1">1.69</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering ltx_font_typewriter"><span class="ltx_tag ltx_tag_table"><span class="ltx_text ltx_font_serif" id="S6.T2.14.1.1">Table 2</span>: </span>Generalization performance comparison between <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S6.T2.15.2">STACKFEED</span> and baseline models across multiple datasets, reported as accuracy percentages (higher is better).</figcaption>
</figure>
<div class="ltx_para ltx_noindent" id="S6.SS2.SSS2.p2">
<p class="ltx_p" id="S6.SS2.SSS2.p2.1"><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p2.1.1">While fact retrieval is one of the most popular use cases of RAG systems, evolving nature of information requires us to keep the knowledge bases up to date. To simulate these dynamic factual knowledge updates we use the CLARKS-news dataset from Erase </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p2.1.2.1">(</span><span class="ltx_text ltx_font_typewriter">Li et al.</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p2.1.3.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib28" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p2.1.4.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p2.1.5"> which contains questions and their respective answers extracted from Wikidata at different timestamps. Each timestamp is characterized by a set of articles that were added in the data at that time. For our evaluation, we pool all the questions whose answers changed for the </span><span class="ltx_text ltx_font_typewriter ltx_font_italic" id="S6.SS2.SSS2.p2.1.6">first</span><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p2.1.7"> time at a given timestamp and split them across train, eval and test splits in a 1:1:2 ratio (Table </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S6.T1" title="Table 1 ‣ 6.2.1 Incomplete Knowledge Base ‣ 6.2 Datasets ‣ 6 Experimental Setup ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">1</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS2.SSS2.p2.1.8">).</span></p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S6.SS3">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S6.SS3.1.1.1">6.3</span> </span>Evaluation Metrics</h3>
<div class="ltx_para ltx_noindent" id="S6.SS3.p1">
<p class="ltx_p" id="S6.SS3.p1.1"><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p1.1.1">In section </span><a class="ltx_ref ltx_font_typewriter" href="https://arxiv.org/html/2410.10584v1#S5" title="5 Evaluating Knowledge Base Editing Quality ‣ STACKFEED: Structured Textual Actor-Critic Knowledge base editing with FEEDback"><span class="ltx_text ltx_ref_tag">5</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p1.1.2"> we discussed the desirable properties of a Knowledge Base edit. We leverage these properties to design 3 metrics for the KB Editing problem as follows:</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS3.p2">
<p class="ltx_p" id="S6.SS3.p2.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS3.p2.1.1">Completeness</span><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p2.1.2">: We use the </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S6.SS3.p2.1.3">train set</em><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p2.1.4"> accuracy to estimate the degree of expert feedback incorporated in the learnt Knowledge Base.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS3.p3">
<p class="ltx_p" id="S6.SS3.p3.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS3.p3.1.1">Generalization</span><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p3.1.2">: To estimate the degree of generalization of our Knowledge Base edits, we use the held out </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S6.SS3.p3.1.3">test set</em><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p3.1.4"> accuracy.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS3.p4">
<p class="ltx_p" id="S6.SS3.p4.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS3.p4.1.1">Coherence</span><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p4.1.2">: To quantify the degree of coherence of the KB, we first calculate a document-wise coherence score using G-Eval </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p4.1.3.1">(</span><span class="ltx_text ltx_font_typewriter">Liu et al.</span><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p4.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib30" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p4.1.5.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p4.1.6"> with </span><span class="ltx_text ltx_font_typewriter ltx_font_smallcaps" id="S6.SS3.p4.1.7">GPT4-1106-preview</span><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p4.1.8">  as the judge model. The G-eval prompt  assigns a 1-5 score to the </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="S6.SS3.p4.1.9">diff</em><span class="ltx_text ltx_font_typewriter" id="S6.SS3.p4.1.10"> of changes with respect to the original document, checking for thematic similarity of the diff. We pool all the edited documents for a KB edit and average there respective coherence score to define the KB coherence metric.</span></p>
</div>
</section>
<section class="ltx_subsection" id="S6.SS4">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S6.SS4.1.1.1">6.4</span> </span>System Configurations</h3>
<div class="ltx_para ltx_noindent" id="S6.SS4.p1">
<p class="ltx_p" id="S6.SS4.p1.8"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS4.p1.8.1">MCTS parameters:</span><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.2"> We use the Upper Confidence bounds applied to Trees (UCT) algorithm for selecting expansion nodes, enabling effective exploration and exploitation of the KB state space. For our experiments, we set a maximum search depth of </span><math alttext="3" class="ltx_Math" display="inline" id="S6.SS4.p1.1.m1.1"><semantics id="S6.SS4.p1.1.m1.1a"><mn id="S6.SS4.p1.1.m1.1.1" xref="S6.SS4.p1.1.m1.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.1.m1.1b"><cn id="S6.SS4.p1.1.m1.1.1.cmml" type="integer" xref="S6.SS4.p1.1.m1.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.1.m1.1c">3</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.1.m1.1d">3</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.3">, an expansion width of </span><math alttext="3" class="ltx_Math" display="inline" id="S6.SS4.p1.2.m2.1"><semantics id="S6.SS4.p1.2.m2.1a"><mn id="S6.SS4.p1.2.m2.1.1" xref="S6.SS4.p1.2.m2.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.2.m2.1b"><cn id="S6.SS4.p1.2.m2.1.1.cmml" type="integer" xref="S6.SS4.p1.2.m2.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.2.m2.1c">3</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.2.m2.1d">3</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.4">, and a maximum of </span><math alttext="5" class="ltx_Math" display="inline" id="S6.SS4.p1.3.m3.1"><semantics id="S6.SS4.p1.3.m3.1a"><mn id="S6.SS4.p1.3.m3.1.1" xref="S6.SS4.p1.3.m3.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.3.m3.1b"><cn id="S6.SS4.p1.3.m3.1.1.cmml" type="integer" xref="S6.SS4.p1.3.m3.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.3.m3.1c">5</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.3.m3.1d">5</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.5"> iterations. The UCT exploration constant is set to </span><math alttext="2.5" class="ltx_Math" display="inline" id="S6.SS4.p1.4.m4.1"><semantics id="S6.SS4.p1.4.m4.1a"><mn id="S6.SS4.p1.4.m4.1.1" xref="S6.SS4.p1.4.m4.1.1.cmml">2.5</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.4.m4.1b"><cn id="S6.SS4.p1.4.m4.1.1.cmml" type="float" xref="S6.SS4.p1.4.m4.1.1">2.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.4.m4.1c">2.5</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.4.m4.1d">2.5</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.6">. These parameters were chosen to balance the computational cost and the need for adequate exploration. A depth of </span><math alttext="3" class="ltx_Math" display="inline" id="S6.SS4.p1.5.m5.1"><semantics id="S6.SS4.p1.5.m5.1a"><mn id="S6.SS4.p1.5.m5.1.1" xref="S6.SS4.p1.5.m5.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.5.m5.1b"><cn id="S6.SS4.p1.5.m5.1.1.cmml" type="integer" xref="S6.SS4.p1.5.m5.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.5.m5.1c">3</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.5.m5.1d">3</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.7"> ensures that the search can explore sufficient variations in the KB states without unnecessary expansion, while an expansion width of </span><math alttext="3" class="ltx_Math" display="inline" id="S6.SS4.p1.6.m6.1"><semantics id="S6.SS4.p1.6.m6.1a"><mn id="S6.SS4.p1.6.m6.1.1" xref="S6.SS4.p1.6.m6.1.1.cmml">3</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.6.m6.1b"><cn id="S6.SS4.p1.6.m6.1.1.cmml" type="integer" xref="S6.SS4.p1.6.m6.1.1">3</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.6.m6.1c">3</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.6.m6.1d">3</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.8"> allows a moderate number of candidate states to be evaluated at each step. Similarly, </span><math alttext="5" class="ltx_Math" display="inline" id="S6.SS4.p1.7.m7.1"><semantics id="S6.SS4.p1.7.m7.1a"><mn id="S6.SS4.p1.7.m7.1.1" xref="S6.SS4.p1.7.m7.1.1.cmml">5</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.7.m7.1b"><cn id="S6.SS4.p1.7.m7.1.1.cmml" type="integer" xref="S6.SS4.p1.7.m7.1.1">5</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.7.m7.1c">5</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.7.m7.1d">5</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.9"> iterations provide enough opportunity to refine the state search, and the UCT constant of </span><math alttext="2.5" class="ltx_Math" display="inline" id="S6.SS4.p1.8.m8.1"><semantics id="S6.SS4.p1.8.m8.1a"><mn id="S6.SS4.p1.8.m8.1.1" xref="S6.SS4.p1.8.m8.1.1.cmml">2.5</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p1.8.m8.1b"><cn id="S6.SS4.p1.8.m8.1.1.cmml" type="float" xref="S6.SS4.p1.8.m8.1.1">2.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS4.p1.8.m8.1c">2.5</annotation><annotation encoding="application/x-llamapun" id="S6.SS4.p1.8.m8.1d">2.5</annotation></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p1.8.10"> encourages sufficient exploration in early stages while converging towards high-reward states in later stages. For unstructured data, the documents are chunked after every 50 lines and then edit the chunks.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS4.p2">
<p class="ltx_p" id="S6.SS4.p2.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS4.p2.1.1">RAG System:</span><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p2.1.2"> For the purpose of our evaluations, we setup a generic RAG system which uses an embedding similarity for semantic retrieval. Additionally, in lines with prior works like  </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p2.1.3.1">(</span><span class="ltx_text ltx_font_typewriter">Zhang et al.</span><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p2.1.4.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib54" title=""><span class="ltx_text ltx_font_typewriter">2023</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p2.1.5.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p2.1.6"> for coding related tasks, we use an iterative retrieval setup wherein we first generate a code using naive retrieval and then query the database again with both the question and generated code to improve the quality of retrieval before generating the final result.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS4.p3">
<p class="ltx_p" id="S6.SS4.p3.1"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S6.SS4.p3.1.1">LLM configs:</span><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p3.1.2"> We use </span><span class="ltx_text ltx_font_typewriter ltx_font_smallcaps" id="S6.SS4.p3.1.3">OpenAI-Text-Embedding-3-Large</span><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p3.1.4">  as the embedding model with dimensions size of 3072 and use cosine similarity as a metric of embedding match for ranking. To account for the 8191 max input limit, we create document chunks of at most 7500 tokens. For the reasoning model, we use </span><span class="ltx_text ltx_font_typewriter ltx_font_smallcaps" id="S6.SS4.p3.1.5">GPT4-1106-preview</span><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p3.1.6">, with a temperature of </span><math alttext="0" class="ltx_Math" display="inline" id="S6.SS4.p3.1.m1.1"><semantics id="S6.SS4.p3.1.m1.1a"><mn id="S6.SS4.p3.1.m1.1.1" xref="S6.SS4.p3.1.m1.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S6.SS4.p3.1.m1.1b"><cn id="S6.SS4.p3.1.m1.1.1.cmml" type="integer" xref="S6.SS4.p3.1.m1.1.1">0</cn></annotation-xml></semantics></math><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p3.1.7">. Since LLMs are known to perform poorly with longer context input </span><cite class="ltx_cite ltx_citemacro_citep"><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p3.1.8.1">(</span><span class="ltx_text ltx_font_typewriter">Liu et al.</span><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p3.1.9.2.1.1">, </span><a class="ltx_ref" href="https://arxiv.org/html/2410.10584v1#bib.bib29" title=""><span class="ltx_text ltx_font_typewriter">2024</span></a><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p3.1.10.3">)</span></cite><span class="ltx_text ltx_font_typewriter" id="S6.SS4.p3.1.11">, we restrict the max token budget for retrievals at 18000 tokens and remove any lower ranked retrieval to fit this token budget.</span></p>
</div>
</section>
</section>
<section class="ltx_section" id="S7" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_section">
<span class="ltx_tag ltx_tag_section"><span class="ltx_text ltx_font_serif" id="S7.1.1.1">7</span> </span>Results</h2>
<figure class="ltx_table" id="S7.T3">
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S7.T3.2" style="width:397.5pt;height:51pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-82.1pt,10.5pt) scale(0.70772242604024,0.70772242604024) ;">
<table class="ltx_tabular ltx_align_middle" id="S7.T3.2.2">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S7.T3.2.2.3.1">
<td class="ltx_td ltx_border_tt" id="S7.T3.2.2.3.1.1"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S7.T3.2.2.3.1.2"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.3.1.2.1">Completeness( in %)</span></td>
<td class="ltx_td ltx_border_tt" id="S7.T3.2.2.3.1.3"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="5" id="S7.T3.2.2.3.1.4"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.3.1.4.1">Coherence (1-5, higher is better)</span></td>
</tr>
<tr class="ltx_tr" id="S7.T3.2.2.4.2">
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.1"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.1.1">Dataset</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.2"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.2.1">Ring</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.3"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.3.1">Pony</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.4"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.4.1">SciPy</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.5"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.5.1">Tensorflow</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.6"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.6.1">CLARK-news</span></td>
<td class="ltx_td ltx_border_t" id="S7.T3.2.2.4.2.7"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.8"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.8.1">Ring</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.9"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.9.1">Pony</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.10"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.10.1">SciPy</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.11"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.11.1">Tensorflow</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S7.T3.2.2.4.2.12"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.4.2.12.1">CLARK-news</span></td>
</tr>
<tr class="ltx_tr" id="S7.T3.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="S7.T3.1.1.1.1">
<span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S7.T3.1.1.1.1.1">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.1.2">-E</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.2"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.2.1">4.27</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.3"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.3.1">3.22</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.4"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S7.T3.1.1.1.4.1">33.33</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.5"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.5.1">33.33</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.6"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.6.1">11.86</span></td>
<td class="ltx_td ltx_border_t" id="S7.T3.1.1.1.7"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.8"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.8.1">4.33</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.9"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.9.1">1.86</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.10"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.10.1">2.0</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S7.T3.1.1.1.11"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.11.1">4.0</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_t" id="S7.T3.1.1.1.12"><span class="ltx_text ltx_font_typewriter" id="S7.T3.1.1.1.12.1">1</span></td>
</tr>
<tr class="ltx_tr" id="S7.T3.2.2.2">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S7.T3.2.2.2.1"><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S7.T3.2.2.2.1.1">STACKFEED</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.2"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S7.T3.2.2.2.2.1">8.98</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.3"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S7.T3.2.2.2.3.1">9.68</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.4"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.2.4.1">31.38</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.5"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S7.T3.2.2.2.5.1">44.44</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.6"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S7.T3.2.2.2.6.1">13.79</span></td>
<td class="ltx_td ltx_border_bb" id="S7.T3.2.2.2.7"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.8"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S7.T3.2.2.2.8.1">4.67</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.9"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S7.T3.2.2.2.9.1">4.6</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.10"><span class="ltx_text ltx_font_typewriter ltx_font_bold" id="S7.T3.2.2.2.10.1">4.30</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.11"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.2.11.1">4.0</span></td>
<td class="ltx_td ltx_nopad_r ltx_align_center ltx_border_bb" id="S7.T3.2.2.2.12"><span class="ltx_text ltx_font_typewriter" id="S7.T3.2.2.2.12.1">1</span></td>
</tr>
</tbody>
</table>
</span></div>
<figcaption class="ltx_caption ltx_centering ltx_font_typewriter"><span class="ltx_tag ltx_tag_table"><span class="ltx_text ltx_font_serif" id="S7.T3.9.1.1">Table 3</span>: </span>Completeness and coherence comparison between <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S7.T3.10.2">STACKFEED</span> and baseline models across multiple datasets. Completeness is reported as accuracy percentages (higher is better), while coherence is measured on a scale of 1-5 (higher is better).</figcaption>
</figure>
<section class="ltx_subsection" id="S7.SS1">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S7.SS1.1.1.1">7.1</span> </span>Completeness and Generalization</h3>
<div class="ltx_para ltx_noindent" id="S7.SS1.p1">
<p class="ltx_p" id="S7.SS1.p1.3"><span class="ltx_text ltx_font_typewriter" id="S7.SS1.p1.3.1">We observe consistent improvements over the </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S7.SS1.p1.3.2">PromptAgent</span><span class="ltx_text ltx_font_typewriter" id="S7.SS1.p1.3.3">-E baseline in completeness and generalizability scores, with </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S7.SS1.p1.3.4">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S7.SS1.p1.3.5"> achieving approximately 2x performance gains on Ring and Pony datasets. However, feedback incorporation remains limited, likely due to suboptimal retrieval or limited document-query associations hindering learnability of edit. </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S7.SS1.p1.3.6">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S7.SS1.p1.3.7"> also demonstrates higher generalizability and lower variance, attributed to its structured and focused document edits that enhance coherence.</span></p>
</div>
</section>
<section class="ltx_subsection" id="S7.SS2">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="S7.SS2.2.1.1">7.2</span> </span><span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="S7.SS2.3.2">STACKFEED</span> makes high quality coherent edits</h3>
<div class="ltx_para ltx_noindent" id="S7.SS2.p1">
<p class="ltx_p" id="S7.SS2.p1.2"><span class="ltx_text ltx_font_typewriter" id="S7.SS2.p1.2.1">As seen in Table 3, </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S7.SS2.p1.2.2">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S7.SS2.p1.2.3"> produces edits with a coherence score of 4 or higher for most datasets. For KBs which need long term maintenance (like language and code documentation as seen in the ARKS datasets), </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S7.SS2.p1.2.4">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S7.SS2.p1.2.5"> makes more coherent edits compared to the baseline. This is especially true for long documents as seen in the ARKS Pony dataset. For news-article like dataset like CLARK-news with factual edits. Incoherency is naturally induced when the facts of the article are changed. For instance, an article on the coronation of a king will lose coherency when the article is updated to add information about the coronation of a new king.</span></p>
</div>
</section>
</section>
<section class="ltx_section" id="S8" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_section">
<span class="ltx_tag ltx_tag_section"><span class="ltx_text ltx_font_serif" id="S8.1.1.1">8</span> </span>Conclusion</h2>
<div class="ltx_para ltx_noindent" id="S8.p1">
<p class="ltx_p" id="S8.p1.2"><span class="ltx_text ltx_font_typewriter" id="S8.p1.2.1">We introduced </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S8.p1.2.2">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S8.p1.2.3">, a novel framework for refining Knowledge Bases (KBs) in Retrieval-Augmented Generation (RAG) systems using a multi-actor, centralized critic architecture. </span><span class="ltx_text ltx_markedasmath ltx_font_typewriter ltx_font_smallcaps" id="S8.p1.2.4">STACKFEED</span><span class="ltx_text ltx_font_typewriter" id="S8.p1.2.5"> enables efficient KB updates without retraining or altering model parameters by leveraging feedback-driven structured edits and textual gradients.</span></p>
</div>
<div class="ltx_para ltx_noindent" id="S8.p2">
<p class="ltx_p" id="S8.p2.1"><span class="ltx_text ltx_font_typewriter" id="S8.p2.1.1">Our approach achieved superior performance in preserving knowledge base (KB) coherence, consistency, and completeness, resulting in enhanced RAG system responses. Nonetheless, there remains considerable potential for further advancements. Future work will focus on refining these three metrics to elevate system performance even further.</span></p>
</div>
</section>
<section class="ltx_bibliography" id="bib" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib1.5.5.1">Afzal et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib1.7.1">
Anum Afzal, Alexander Kowsik, Rajna Fani, and Florian Matthes.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib1.8.1">Towards optimizing and evaluating a retrieval augmented qa chatbot using llms with human in the loop, 2024.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib1.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2407.05925" title=""><span class="ltx_text ltx_font_serif" id="bib.bib1.10.2.1">https://arxiv.org/abs/2407.05925</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib1.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib2.5.5.1">Akyürek et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib2.7.1">
Afra Feyza Akyürek, Ekin Akyürek, Leshem Choshen, Derry Wijaya, and Jacob Andreas.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib2.8.1">Deductive closure training of language models for coherence, accuracy, and updatability.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib2.9.1">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib2.10.2">Findings of the Association for Computational Linguistics ACL 2024</em><span class="ltx_text ltx_font_typewriter" id="bib.bib2.11.3">, pp.  9802--9818, Bangkok, Thailand and virtual meeting, August 2024. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib2.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2024.findings-acl.584</span><span class="ltx_text ltx_font_typewriter" id="bib.bib2.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib2.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.findings-acl.584" title=""><span class="ltx_text ltx_font_serif" id="bib.bib2.15.2.1">https://aclanthology.org/2024.findings-acl.584</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib2.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib3.5.5.1">Bai et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib3.7.1">
Yushi Bai, Jiajie Zhang, Xin Lv, Linzhi Zheng, Siqi Zhu, Lei Hou, Yuxiao Dong, Jie Tang, and Juanzi Li.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib3.8.1">Longwriter: Unleashing 10,000+ word generation from long context llms, 2024.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib3.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2408.07055" title=""><span class="ltx_text ltx_font_serif" id="bib.bib3.10.2.1">https://arxiv.org/abs/2408.07055</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib3.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib4.5.5.1">Busoniu et al. (2008)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib4.7.1">
Lucian Busoniu, Robert Babuska, and Bart De Schutter.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib4.8.1">A comprehensive survey of multiagent reinforcement learning.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib4.9.1">IEEE Transactions on Systems, Man, and Cybernetics, Part C (Applications and Reviews)</em><span class="ltx_text ltx_font_typewriter" id="bib.bib4.10.2">, 38(2):156--172, 2008.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib4.11.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/TSMCC.2007.913919</span><span class="ltx_text ltx_font_typewriter" id="bib.bib4.12.2">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib5.5.5.1">Canese et al. (2021)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib5.7.1">
Lorenzo Canese, Gian Carlo Cardarilli, Luca Di Nunzio, Rocco Fazzolari, Daniele Giardino, Marco Re, and Sergio Spanò.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib5.8.1">Multi-agent reinforcement learning: A review of challenges and applications.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib5.9.1">Applied Sciences</em><span class="ltx_text ltx_font_typewriter" id="bib.bib5.10.2">, 11(11), 2021.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib5.11.1">ISSN 2076-3417.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib5.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.3390/app11114948</span><span class="ltx_text ltx_font_typewriter" id="bib.bib5.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib5.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://www.mdpi.com/2076-3417/11/11/4948" title=""><span class="ltx_text ltx_font_serif" id="bib.bib5.15.2.1">https://www.mdpi.com/2076-3417/11/11/4948</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib5.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib6.5.5.1">Chen et al. (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib6.7.1">
Danqi Chen, Adam Fisch, Jason Weston, and Antoine Bordes.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib6.8.1">Reading Wikipedia to answer open-domain questions.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib6.9.1">In Regina Barzilay and Min-Yen Kan (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib6.10.2">Proceedings of the 55th Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em><span class="ltx_text ltx_font_typewriter" id="bib.bib6.11.3">, pp.  1870--1879, Vancouver, Canada, July 2017. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib6.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/P17-1171</span><span class="ltx_text ltx_font_typewriter" id="bib.bib6.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib6.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/P17-1171" title=""><span class="ltx_text ltx_font_serif" id="bib.bib6.15.2.1">https://aclanthology.org/P17-1171</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib6.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib7.5.5.1">Chen et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib7.7.1">
Wubing Chen, Wenbin Li, Xiao Liu, Shangdong Yang, and Yang Gao.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib7.8.1">Learning explicit credit assignment for cooperative multi-agent reinforcement learning via polarization policy gradient.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib7.9.1">Proceedings of the AAAI Conference on Artificial Intelligence</em><span class="ltx_text ltx_font_typewriter" id="bib.bib7.10.2">, 37(10):11542--11550, Jun 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib7.11.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1609/aaai.v37i10.26364</span><span class="ltx_text ltx_font_typewriter" id="bib.bib7.12.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib7.13.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://ojs.aaai.org/index.php/AAAI/article/view/26364" title=""><span class="ltx_text ltx_font_serif" id="bib.bib7.14.2.1">https://ojs.aaai.org/index.php/AAAI/article/view/26364</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib7.15.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib8.5.5.1">Das et al. (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib8.7.1">
Abhishek Das, Satwik Kottur, José M. F. Moura, Stefan Lee, and Dhruv Batra.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib8.8.1">Learning cooperative visual dialog agents with deep reinforcement learning.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib8.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib8.10.2">2017 IEEE International Conference on Computer Vision (ICCV)</em><span class="ltx_text ltx_font_typewriter" id="bib.bib8.11.3">, pp.  2970--2979, 2017.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib8.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1109/ICCV.2017.321</span><span class="ltx_text ltx_font_typewriter" id="bib.bib8.13.2">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib9.5.5.1">De Cao et al. (2021a)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib9.7.1">
Nicola De Cao, Wilker Aziz, and Ivan Titov.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib9.8.1">Editing factual knowledge in language models.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib9.9.1">In Marie-Francine Moens, Xuanjing Huang, Lucia Specia, and Scott Wen-tau Yih (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib9.10.2">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text ltx_font_typewriter" id="bib.bib9.11.3">, pp.  6491--6506, Online and Punta Cana, Dominican Republic, November 2021a. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib9.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2021.emnlp-main.522</span><span class="ltx_text ltx_font_typewriter" id="bib.bib9.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib9.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2021.emnlp-main.522" title=""><span class="ltx_text ltx_font_serif" id="bib.bib9.15.2.1">https://aclanthology.org/2021.emnlp-main.522</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib9.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib10.5.5.1">De Cao et al. (2021b)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib10.7.1">
Nicola De Cao, Wilker Aziz, and Ivan Titov.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib10.8.1">Editing factual knowledge in language models.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib10.9.1">In Marie-Francine Moens, Xuanjing Huang, Lucia Specia, and Scott Wen-tau Yih (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib10.10.2">Proceedings of the 2021 Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text ltx_font_typewriter" id="bib.bib10.11.3">, pp.  6491--6506, Online and Punta Cana, Dominican Republic, November 2021b. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib10.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2021.emnlp-main.522</span><span class="ltx_text ltx_font_typewriter" id="bib.bib10.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib10.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2021.emnlp-main.522" title=""><span class="ltx_text ltx_font_serif" id="bib.bib10.15.2.1">https://aclanthology.org/2021.emnlp-main.522</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib10.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib11.5.5.1">Foerster et al. (2016)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib11.7.1">
Jakob N. Foerster, Yannis M. Assael, Nando de Freitas, and Shimon Whiteson.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib11.8.1">Learning to communicate with deep multi-agent reinforcement learning.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib11.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib11.10.2">Proceedings of the 30th International Conference on Neural Information Processing Systems</em><span class="ltx_text ltx_font_typewriter" id="bib.bib11.11.3">, NIPS’16, pp.  2145–2153, Red Hook, NY, USA, 2016. Curran Associates Inc.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib11.12.1">ISBN 9781510838819.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib12.5.5.1">Foerster et al. (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib12.7.1">
Jakob N. Foerster, Gregory Farquhar, Triantafyllos Afouras, Nantas Nardelli, and Shimon Whiteson.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib12.8.1">Counterfactual multi-agent policy gradients.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib12.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib12.10.2">AAAI Conference on Artificial Intelligence</em><span class="ltx_text ltx_font_typewriter" id="bib.bib12.11.3">, 2017.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib12.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://api.semanticscholar.org/CorpusID:19141434" title=""><span class="ltx_text ltx_font_serif" id="bib.bib12.13.2.1">https://api.semanticscholar.org/CorpusID:19141434</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib12.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib13.5.5.1">Foerster et al. (2018)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib13.7.1">
Jakob N. Foerster, Gregory Farquhar, Triantafyllos Afouras, Nantas Nardelli, and Shimon Whiteson.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib13.8.1">Counterfactual multi-agent policy gradients.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib13.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib13.10.2">Proceedings of the Thirty-Second AAAI Conference on Artificial Intelligence and Thirtieth Innovative Applications of Artificial Intelligence Conference and Eighth AAAI Symposium on Educational Advances in Artificial Intelligence</em><span class="ltx_text ltx_font_typewriter" id="bib.bib13.11.3">, AAAI’18/IAAI’18/EAAI’18. AAAI Press, 2018.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib13.12.1">ISBN 978-1-57735-800-8.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib14.5.5.1">Gronauer &amp; Diepold (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib14.7.1">
Sven Gronauer and Klaus Diepold.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib14.8.1">Multi-agent deep reinforcement learning: a survey.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib14.9.1">Artificial Intelligence Review</em><span class="ltx_text ltx_font_typewriter" id="bib.bib14.10.2">, 55(2):895--943, February 2022.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib14.11.1">ISSN 1573-7462.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib14.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1007/s10462-021-09996-w</span><span class="ltx_text ltx_font_typewriter" id="bib.bib14.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib14.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1007/s10462-021-09996-w" title=""><span class="ltx_text ltx_font_serif" id="bib.bib14.15.2.1">https://doi.org/10.1007/s10462-021-09996-w</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib14.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib15.5.5.1">Gupta et al. (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib15.7.1">
Jayesh K. Gupta, Maxim Egorov, and Mykel Kochenderfer.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib15.8.1">Cooperative multi-agent control using deep reinforcement learning.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib15.9.1">In Gita Sukthankar and Juan A. Rodriguez-Aguilar (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib15.10.2">Autonomous Agents and Multiagent Systems</em><span class="ltx_text ltx_font_typewriter" id="bib.bib15.11.3">, pp.  66--83, Cham, 2017. Springer International Publishing.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib15.12.1">ISBN 978-3-319-71682-4.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib16.5.5.1">Gupta et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib16.7.1">
Priyanshu Gupta, Shashank Kirtania, Ananya Singha, Sumit Gulwani, Arjun Radhakrishna, Sherry Shi, and Gustavo Soares.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib16.8.1">Metareflection: Learning instructions for language agents using past reflections, 2024.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib16.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2405.13009" title=""><span class="ltx_text ltx_font_serif" id="bib.bib16.10.2.1">https://arxiv.org/abs/2405.13009</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib16.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib17.5.5.1">Guu et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib17.7.1">
Kelvin Guu, Kenton Lee, Zora Tung, Panupong Pasupat, and Ming-Wei Chang.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib17.8.1">Realm: retrieval-augmented language model pre-training.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib17.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib17.10.2">Proceedings of the 37th International Conference on Machine Learning</em><span class="ltx_text ltx_font_typewriter" id="bib.bib17.11.3">, ICML’20. JMLR.org, 2020.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib18.5.5.1">Hua et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib18.7.1">
Wenyue Hua, Jiang Guo, Mingwen Dong, Henghui Zhu, Patrick Ng, and Zhiguo Wang.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib18.8.1">Propagation and pitfalls: Reasoning-based assessment of knowledge editing through counterfactual tasks.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib18.9.1">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib18.10.2">Findings of the Association for Computational Linguistics ACL 2024</em><span class="ltx_text ltx_font_typewriter" id="bib.bib18.11.3">, pp.  12503--12525, Bangkok, Thailand and virtual meeting, August 2024. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib18.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2024.findings-acl.743</span><span class="ltx_text ltx_font_typewriter" id="bib.bib18.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib18.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.findings-acl.743" title=""><span class="ltx_text ltx_font_serif" id="bib.bib18.15.2.1">https://aclanthology.org/2024.findings-acl.743</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib18.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib19.5.5.1">Huang et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib19.7.1">
Zeyu Huang, Yikang Shen, Xiaofeng Zhang, Jie Zhou, Wenge Rong, and Zhang Xiong.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib19.8.1">Transformer-patcher: One mistake worth one neuron.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib19.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib19.10.2">The Eleventh International Conference on Learning Representations</em><span class="ltx_text ltx_font_typewriter" id="bib.bib19.11.3">, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib19.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=4oYUGeGBPm" title=""><span class="ltx_text ltx_font_serif" id="bib.bib19.13.2.1">https://openreview.net/forum?id=4oYUGeGBPm</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib19.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib20.5.5.1">Iqbal &amp; Sha (2019)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib20.7.1">
Shariq Iqbal and Fei Sha.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib20.8.1">Actor-attention-critic for multi-agent reinforcement learning, 2019.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib20.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=HJx7l309Fm" title=""><span class="ltx_text ltx_font_serif" id="bib.bib20.10.2.1">https://openreview.net/forum?id=HJx7l309Fm</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib20.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib21.5.5.1">Izacard et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib21.7.1">
Gautier Izacard, Patrick Lewis, Maria Lomeli, Lucas Hosseini, Fabio Petroni, Timo Schick, Jane Dwivedi-Yu, Armand Joulin, Sebastian Riedel, and Edouard Grave.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib21.8.1">Atlas: Few-shot learning with retrieval augmented language models, 2022.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib21.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2208.03299" title=""><span class="ltx_text ltx_font_serif" id="bib.bib21.10.2.1">https://arxiv.org/abs/2208.03299</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib21.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib22.5.5.1">Jin et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib22.7.1">
Xisen Jin, Dejiao Zhang, Henghui Zhu, Wei Xiao, Shang-Wen Li, Xiaokai Wei, Andrew Arnold, and Xiang Ren.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib22.8.1">Lifelong pretraining: Continually adapting language models to emerging corpora.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib22.9.1">In Angela Fan, Suzana Ilic, Thomas Wolf, and Matthias Gallé (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib22.10.2">Proceedings of BigScience Episode #5 -- Workshop on Challenges &amp; Perspectives in Creating Large Language Models</em><span class="ltx_text ltx_font_typewriter" id="bib.bib22.11.3">, pp.  1--16, virtual+Dublin, May 2022. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib22.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2022.bigscience-1.1</span><span class="ltx_text ltx_font_typewriter" id="bib.bib22.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib22.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2022.bigscience-1.1" title=""><span class="ltx_text ltx_font_serif" id="bib.bib22.15.2.1">https://aclanthology.org/2022.bigscience-1.1</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib22.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib23.5.5.1">Juneja et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib23.7.1">
Gurusha Juneja, Nagarajan Natarajan, Hua Li, Jian Jiao, and Amit Sharma.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib23.8.1">Task facet learning: A structured approach to prompt optimization, 2024.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib23.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2406.10504" title=""><span class="ltx_text ltx_font_serif" id="bib.bib23.10.2.1">https://arxiv.org/abs/2406.10504</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib23.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib24.5.5.1">Khandelwal et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib24.7.1">
Urvashi Khandelwal, Omer Levy, Dan Jurafsky, Luke Zettlemoyer, and Mike Lewis.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib24.8.1">Generalization through memorization: Nearest neighbor language models.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib24.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib24.10.2">International Conference on Learning Representations</em><span class="ltx_text ltx_font_typewriter" id="bib.bib24.11.3">, 2020.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib24.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=HklBjCEKvH" title=""><span class="ltx_text ltx_font_serif" id="bib.bib24.13.2.1">https://openreview.net/forum?id=HklBjCEKvH</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib24.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib25.5.5.1">Kitaev et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib25.7.1">
Nikita Kitaev, Lukasz Kaiser, and Anselm Levskaya.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib25.8.1">Reformer: The efficient transformer.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib25.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib25.10.2">International Conference on Learning Representations</em><span class="ltx_text ltx_font_typewriter" id="bib.bib25.11.3">, 2020.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib25.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=rkgNKkHtvB" title=""><span class="ltx_text ltx_font_serif" id="bib.bib25.13.2.1">https://openreview.net/forum?id=rkgNKkHtvB</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib25.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib26.5.5.1">Lai et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib26.7.1">
Yuhang Lai, Chengxi Li, Yiming Wang, Tianyi Zhang, Ruiqi Zhong, Luke Zettlemoyer, Scott Wen tau Yih, Daniel Fried, Sida Wang, and Tao Yu.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib26.8.1">Ds-1000: A natural and reliable benchmark for data science code generation.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib26.9.1">ArXiv</em><span class="ltx_text ltx_font_typewriter" id="bib.bib26.10.2">, abs/2211.11501, 2022.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib27.5.5.1">Leibo et al. (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib27.7.1">
Joel Z. Leibo, Vinicius Zambaldi, Marc Lanctot, Janusz Marecki, and Thore Graepel.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib27.8.1">Multi-agent reinforcement learning in sequential social dilemmas.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib27.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib27.10.2">Proceedings of the 16th Conference on Autonomous Agents and MultiAgent Systems</em><span class="ltx_text ltx_font_typewriter" id="bib.bib27.11.3">, AAMAS ’17, pp.  464–473, Richland, SC, 2017. International Foundation for Autonomous Agents and Multiagent Systems.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib28.5.5.1">Li et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib28.7.1">
Belinda Z. Li, Emmy Liu, Alexis Ross, Abbas Zeitoun, Graham Neubig, and Jacob Andreas.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib28.8.1">Language modeling with editable external knowledge, 2024.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib28.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2406.11830" title=""><span class="ltx_text ltx_font_serif" id="bib.bib28.10.2.1">https://arxiv.org/abs/2406.11830</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib28.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib29.5.5.1">Liu et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib29.7.1">
Nelson F. Liu, Kevin Lin, John Hewitt, Ashwin Paranjape, Michele Bevilacqua, Fabio Petroni, and Percy Liang.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib29.8.1">Lost in the middle: How language models use long contexts.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib29.9.1">Transactions of the Association for Computational Linguistics</em><span class="ltx_text ltx_font_typewriter" id="bib.bib29.10.2">, 12:157--173, 2024.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib29.11.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1162/tacl˙a˙00638</span><span class="ltx_text ltx_font_typewriter" id="bib.bib29.12.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib29.13.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.tacl-1.9" title=""><span class="ltx_text ltx_font_serif" id="bib.bib29.14.2.1">https://aclanthology.org/2024.tacl-1.9</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib29.15.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib30.5.5.1">Liu et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib30.7.1">
Yang Liu, Dan Iter, Yichong Xu, Shuo Wang, Ruochen Xu, and Chenguang Zhu.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib30.8.1">G-eval: Nlg evaluation using gpt-4 with better human alignment.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib30.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib30.10.2">Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text ltx_font_typewriter" id="bib.bib30.11.3">, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib30.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://api.semanticscholar.org/CorpusID:257804696" title=""><span class="ltx_text ltx_font_serif" id="bib.bib30.13.2.1">https://api.semanticscholar.org/CorpusID:257804696</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib30.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib31.5.5.1">Madaan et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib31.7.1">
Aman Madaan, Niket Tandon, Peter Clark, and Yiming Yang.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib31.8.1">Memory-assisted prompt editing to improve GPT-3 after deployment.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib31.9.1">In Yoav Goldberg, Zornitsa Kozareva, and Yue Zhang (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib31.10.2">Proceedings of the 2022 Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text ltx_font_typewriter" id="bib.bib31.11.3">, pp.  2833--2861, Abu Dhabi, United Arab Emirates, December 2022. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib31.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2022.emnlp-main.183</span><span class="ltx_text ltx_font_typewriter" id="bib.bib31.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib31.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2022.emnlp-main.183" title=""><span class="ltx_text ltx_font_serif" id="bib.bib31.15.2.1">https://aclanthology.org/2022.emnlp-main.183</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib31.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib32.5.5.1">Maynez et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib32.7.1">
Joshua Maynez, Shashi Narayan, Bernd Bohnet, and Ryan McDonald.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib32.8.1">On faithfulness and factuality in abstractive summarization.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib32.9.1">In Dan Jurafsky, Joyce Chai, Natalie Schluter, and Joel Tetreault (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib32.10.2">Proceedings of the 58th Annual Meeting of the Association for Computational Linguistics</em><span class="ltx_text ltx_font_typewriter" id="bib.bib32.11.3">, pp.  1906--1919, Online, July 2020. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib32.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2020.acl-main.173</span><span class="ltx_text ltx_font_typewriter" id="bib.bib32.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib32.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2020.acl-main.173" title=""><span class="ltx_text ltx_font_serif" id="bib.bib32.15.2.1">https://aclanthology.org/2020.acl-main.173</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib32.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib33.5.5.1">Meng et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib33.7.1">
Kevin Meng, David Bau, Alex Andonian, and Yonatan Belinkov.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib33.8.1">Locating and editing factual associations in GPT.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib33.9.1">Advances in Neural Information Processing Systems</em><span class="ltx_text ltx_font_typewriter" id="bib.bib33.10.2">, 36, 2022.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib33.11.1">arXiv:2202.05262.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib34.5.5.1">Meng et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib34.7.1">
Kevin Meng, Arnab Sen Sharma, Alex J Andonian, Yonatan Belinkov, and David Bau.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib34.8.1">Mass-editing memory in a transformer.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib34.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib34.10.2">The Eleventh International Conference on Learning Representations</em><span class="ltx_text ltx_font_typewriter" id="bib.bib34.11.3">, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib34.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=MkbcAHIYgyS" title=""><span class="ltx_text ltx_font_serif" id="bib.bib34.13.2.1">https://openreview.net/forum?id=MkbcAHIYgyS</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib34.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib35.5.5.1">Onoe et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib35.7.1">
Yasumasa Onoe, Michael Zhang, Shankar Padmanabhan, Greg Durrett, and Eunsol Choi.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib35.8.1">Can LMs learn new entities from descriptions? challenges in propagating injected knowledge.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib35.9.1">In Anna Rogers, Jordan Boyd-Graber, and Naoaki Okazaki (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib35.10.2">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em><span class="ltx_text ltx_font_typewriter" id="bib.bib35.11.3">, pp.  5469--5485, Toronto, Canada, July 2023. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib35.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.acl-long.300</span><span class="ltx_text ltx_font_typewriter" id="bib.bib35.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib35.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.acl-long.300" title=""><span class="ltx_text ltx_font_serif" id="bib.bib35.15.2.1">https://aclanthology.org/2023.acl-long.300</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib35.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib36.5.5.1">Padmanabhan et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib36.7.1">
Shankar Padmanabhan, Yasumasa Onoe, Michael JQ Zhang, Greg Durrett, and Eunsol Choi.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib36.8.1">Propagating knowledge updates to LMs through distillation.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib36.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib36.10.2">Thirty-seventh Conference on Neural Information Processing Systems</em><span class="ltx_text ltx_font_typewriter" id="bib.bib36.11.3">, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib36.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=DFaGf3O7jf" title=""><span class="ltx_text ltx_font_serif" id="bib.bib36.13.2.1">https://openreview.net/forum?id=DFaGf3O7jf</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib36.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib37.5.5.1">Press et al. (2022)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib37.7.1">
Ofir Press, Noah Smith, and Mike Lewis.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib37.8.1">Train short, test long: Attention with linear biases enables input length extrapolation.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib37.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib37.10.2">International Conference on Learning Representations</em><span class="ltx_text ltx_font_typewriter" id="bib.bib37.11.3">, 2022.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib37.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=R8sQPpGCv0" title=""><span class="ltx_text ltx_font_serif" id="bib.bib37.13.2.1">https://openreview.net/forum?id=R8sQPpGCv0</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib37.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib38.5.5.1">Pryzant et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib38.7.1">
Reid Pryzant, Dan Iter, Jerry Li, Yin Lee, Chenguang Zhu, and Michael Zeng.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib38.8.1">Automatic prompt optimization with ‘‘gradient descent’’ and beam search.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib38.9.1">In Houda Bouamor, Juan Pino, and Kalika Bali (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib38.10.2">Proceedings of the 2023 Conference on Empirical Methods in Natural Language Processing</em><span class="ltx_text ltx_font_typewriter" id="bib.bib38.11.3">, pp.  7957--7968, Singapore, December 2023. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib38.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.emnlp-main.494</span><span class="ltx_text ltx_font_typewriter" id="bib.bib38.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib38.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.emnlp-main.494" title=""><span class="ltx_text ltx_font_serif" id="bib.bib38.15.2.1">https://aclanthology.org/2023.emnlp-main.494</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib38.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib39.5.5.1">Ramjee et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib39.7.1">
Pragnya Ramjee, Bhuvan Sachdeva, Satvik Golechha, Shreyas Kulkarni, Geeta Fulari, Kaushik Murali, and Mohit Jain.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib39.8.1">Cataractbot: An llm-powered expert-in-the-loop chatbot for cataract patients, 2024.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib39.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2402.04620" title=""><span class="ltx_text ltx_font_serif" id="bib.bib39.10.2.1">https://arxiv.org/abs/2402.04620</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib39.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib40.5.5.1">Shi et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib40.7.1">
Weijia Shi, Sewon Min, Michihiro Yasunaga, Minjoon Seo, Rich James, Mike Lewis, Luke Zettlemoyer, and Wen tau Yih.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib40.8.1">Replug: Retrieval-augmented black-box language models, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib40.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2301.12652" title=""><span class="ltx_text ltx_font_serif" id="bib.bib40.10.2.1">https://arxiv.org/abs/2301.12652</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib40.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib41.5.5.1">Shinn et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib41.7.1">
Noah Shinn, Federico Cassano, Edward Berman, Ashwin Gopinath, Karthik Narasimhan, and Shunyu Yao.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib41.8.1">Reflexion: Language agents with verbal reinforcement learning, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib41.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2303.11366" title=""><span class="ltx_text ltx_font_serif" id="bib.bib41.10.2.1">https://arxiv.org/abs/2303.11366</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib41.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib42.5.5.1">Su et al. (2024a)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib42.7.1">
Hongjin Su, Shuyang Jiang, Yuhang Lai, Haoyuan Wu, Boao Shi, Che Liu, Qian Liu, and Tao Yu.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib42.8.1">Arks: Active retrieval in knowledge soup for code generation.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib42.9.1">ArXiv</em><span class="ltx_text ltx_font_typewriter" id="bib.bib42.10.2">, abs/2402.12317, 2024a.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib42.11.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://api.semanticscholar.org/CorpusID:267750919" title=""><span class="ltx_text ltx_font_serif" id="bib.bib42.12.2.1">https://api.semanticscholar.org/CorpusID:267750919</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib42.13.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib43">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib43.5.5.1">Su et al. (2024b)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib43.7.1">
Jianlin Su, Murtadha Ahmed, Yu Lu, Shengfeng Pan, Wen Bo, and Yunfeng Liu.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib43.8.1">Roformer: Enhanced transformer with rotary position embedding.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib43.9.1">Neurocomput.</em><span class="ltx_text ltx_font_typewriter" id="bib.bib43.10.2">, 568(C), March 2024b.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib43.11.1">ISSN 0925-2312.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib43.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1016/j.neucom.2023.127063</span><span class="ltx_text ltx_font_typewriter" id="bib.bib43.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib43.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1016/j.neucom.2023.127063" title=""><span class="ltx_text ltx_font_serif" id="bib.bib43.15.2.1">https://doi.org/10.1016/j.neucom.2023.127063</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib43.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib44">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib44.5.5.1">Tampuu et al. (2017)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib44.7.1">
Ardi Tampuu, Tambet Matiisen, Davide Kodelja, Igor Kuzovkin, Kristjan Korjus, Jaan Aru, Borys Teodor Aru, and Raul Vicente.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib44.8.1">Multiagent cooperation and competition with deep reinforcement learning.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib44.9.1">PLOS ONE</em><span class="ltx_text ltx_font_typewriter" id="bib.bib44.10.2">, 12(4):e0172395, 2017.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib44.11.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1371/journal.pone.0172395</span><span class="ltx_text ltx_font_typewriter" id="bib.bib44.12.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib44.13.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1371/journal.pone.0172395" title=""><span class="ltx_text ltx_font_serif" id="bib.bib44.14.2.1">https://doi.org/10.1371/journal.pone.0172395</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib44.15.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib45">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib45.4.4.1">Tan (1993)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib45.6.1">
Ming Tan.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib45.7.1">Multi-agent reinforcement learning: independent versus cooperative agents.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib45.8.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib45.9.2">Proceedings of the Tenth International Conference on International Conference on Machine Learning</em><span class="ltx_text ltx_font_typewriter" id="bib.bib45.10.3">, ICML’93, pp.  330–337, San Francisco, CA, USA, 1993. Morgan Kaufmann Publishers Inc.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib45.11.1">ISBN 1558603077.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib46">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib46.5.5.1">Wang et al. (2024a)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib46.7.1">
Jiaan Wang, Yunlong Liang, Zengkui Sun, Yuxuan Cao, Jiarong Xu, and Fandong Meng.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib46.8.1">Cross-lingual knowledge editing in large language models.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib46.9.1">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib46.10.2">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em><span class="ltx_text ltx_font_typewriter" id="bib.bib46.11.3">, pp.  11676--11686, Bangkok, Thailand, August 2024a. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib46.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2024.acl-long.627</span><span class="ltx_text ltx_font_typewriter" id="bib.bib46.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib46.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.627" title=""><span class="ltx_text ltx_font_serif" id="bib.bib46.15.2.1">https://aclanthology.org/2024.acl-long.627</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib46.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib47">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib47.5.5.1">Wang et al. (2020)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib47.7.1">
Sinong Wang, Belinda Z. Li, Madian Khabsa, Han Fang, and Hao Ma.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib47.8.1">Linformer: Self-attention with linear complexity, 2020.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib47.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2006.04768" title=""><span class="ltx_text ltx_font_serif" id="bib.bib47.10.2.1">https://arxiv.org/abs/2006.04768</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib47.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib48">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib48.5.5.1">Wang et al. (2024b)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib48.7.1">
Weixuan Wang, Barry Haddow, and Alexandra Birch.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib48.8.1">Retrieval-augmented multilingual knowledge editing.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib48.9.1">In Lun-Wei Ku, Andre Martins, and Vivek Srikumar (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib48.10.2">Proceedings of the 62nd Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em><span class="ltx_text ltx_font_typewriter" id="bib.bib48.11.3">, pp.  335--354, Bangkok, Thailand, August 2024b. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib48.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2024.acl-long.21</span><span class="ltx_text ltx_font_typewriter" id="bib.bib48.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib48.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2024.acl-long.21" title=""><span class="ltx_text ltx_font_serif" id="bib.bib48.15.2.1">https://aclanthology.org/2024.acl-long.21</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib48.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib49">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib49.5.5.1">Wang et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib49.7.1">
Xinyuan Wang, Chenxi Li, Zhen Wang, Fan Bai, Haotian Luo, Jiayou Zhang, Nebojsa Jojic, Eric P. Xing, and Zhiting Hu.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib49.8.1">Promptagent: Strategic planning with language models enables expert-level prompt optimization, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib49.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2310.16427" title=""><span class="ltx_text ltx_font_serif" id="bib.bib49.10.2.1">https://arxiv.org/abs/2310.16427</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib49.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib50">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib50.5.5.1">Wang et al. (2021)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib50.7.1">
Yihan Wang, Beining Han, Tonghan Wang, Heng Dong, and Chongjie Zhang.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib50.8.1">{DOP}: Off-policy multi-agent decomposed policy gradients.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib50.9.1">In </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib50.10.2">International Conference on Learning Representations</em><span class="ltx_text ltx_font_typewriter" id="bib.bib50.11.3">, 2021.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib50.12.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://openreview.net/forum?id=6FqKiVAdI3Y" title=""><span class="ltx_text ltx_font_serif" id="bib.bib50.13.2.1">https://openreview.net/forum?id=6FqKiVAdI3Y</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib50.14.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib51">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib51.5.5.1">Xu et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib51.7.1">
Yan Xu, Mahdi Namazifar, Devamanyu Hazarika, Aishwarya Padmakumar, Yang Liu, and Dilek Hakkani-Tur.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib51.8.1">KILM: Knowledge injection into encoder-decoder language models.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib51.9.1">In Anna Rogers, Jordan Boyd-Graber, and Naoaki Okazaki (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib51.10.2">Proceedings of the 61st Annual Meeting of the Association for Computational Linguistics (Volume 1: Long Papers)</em><span class="ltx_text ltx_font_typewriter" id="bib.bib51.11.3">, pp.  5013--5035, Toronto, Canada, July 2023. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib51.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2023.acl-long.275</span><span class="ltx_text ltx_font_typewriter" id="bib.bib51.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib51.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2023.acl-long.275" title=""><span class="ltx_text ltx_font_serif" id="bib.bib51.15.2.1">https://aclanthology.org/2023.acl-long.275</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib51.16.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib52">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib52.5.5.1">Yao et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib52.7.1">
Shunyu Yao, Jeffrey Zhao, Dian Yu, Nan Du, Izhak Shafran, Karthik Narasimhan, and Yuan Cao.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib52.8.1">React: Synergizing reasoning and acting in language models, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib52.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2210.03629" title=""><span class="ltx_text ltx_font_serif" id="bib.bib52.10.2.1">https://arxiv.org/abs/2210.03629</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib52.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib53">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib53.5.5.1">Yu et al. (2024)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib53.7.1">
Lang Yu, Qin Chen, Jie Zhou, and Liang He.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib53.8.1">Melo: Enhancing model editing with neuron-indexed dynamic lora.
</span>
</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib53.9.1">Proceedings of the AAAI Conference on Artificial Intelligence</em><span class="ltx_text ltx_font_typewriter" id="bib.bib53.10.2">, 38(17):19449--19457, Mar. 2024.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib53.11.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.1609/aaai.v38i17.29916</span><span class="ltx_text ltx_font_typewriter" id="bib.bib53.12.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib53.13.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://ojs.aaai.org/index.php/AAAI/article/view/29916" title=""><span class="ltx_text ltx_font_serif" id="bib.bib53.14.2.1">https://ojs.aaai.org/index.php/AAAI/article/view/29916</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib53.15.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib54">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib54.5.5.1">Zhang et al. (2023)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib54.7.1">
Fengji Zhang, Bei Chen, Yue Zhang, Jacky Keung, Jin Liu, Daoguang Zan, Yi Mao, Jian-Guang Lou, and Weizhu Chen.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib54.8.1">Repocoder: Repository-level code completion through iterative retrieval and generation, 2023.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib54.9.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2303.12570" title=""><span class="ltx_text ltx_font_serif" id="bib.bib54.10.2.1">https://arxiv.org/abs/2303.12570</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib54.11.3">.
</span>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib55">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span class="ltx_text ltx_font_typewriter" id="bib.bib55.5.5.1">Zhou et al. (2021)</span></span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib55.7.1">
Chunting Zhou, Graham Neubig, Jiatao Gu, Mona Diab, Francisco Guzmán, Luke Zettlemoyer, and Marjan Ghazvininejad.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib55.8.1">Detecting hallucinated content in conditional neural sequence generation.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib55.9.1">In Chengqing Zong, Fei Xia, Wenjie Li, and Roberto Navigli (eds.), </span><em class="ltx_emph ltx_font_typewriter ltx_font_italic" id="bib.bib55.10.2">Findings of the Association for Computational Linguistics: ACL-IJCNLP 2021</em><span class="ltx_text ltx_font_typewriter" id="bib.bib55.11.3">, pp.  1393--1404, Online, August 2021. Association for Computational Linguistics.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib55.12.1">doi: </span><span class="ltx_ref ltx_nolink ltx_Url ltx_ref_self">10.18653/v1/2021.findings-acl.120</span><span class="ltx_text ltx_font_typewriter" id="bib.bib55.13.2">.
</span>
</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_typewriter" id="bib.bib55.14.1">URL </span><a class="ltx_ref ltx_url ltx_font_typewriter" href="https://aclanthology.org/2021.findings-acl.120" title=""><span class="ltx_text ltx_font_serif" id="bib.bib55.15.2.1">https://aclanthology.org/2021.findings-acl.120</span></a><span class="ltx_text ltx_font_typewriter" id="bib.bib55.16.3">.
</span>
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1" lang="en">
<h2 class="ltx_title ltx_font_typewriter ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix"><span class="ltx_text ltx_font_serif" id="A1.1.1.1">Appendix A</span> </span>Appendix</h2>
<section class="ltx_subsection" id="A1.SS1">
<h3 class="ltx_title ltx_font_typewriter ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span class="ltx_text ltx_font_serif" id="A1.SS1.2.1.1">A.1</span> </span>Prompts used in <span class="ltx_text ltx_markedasmath ltx_font_smallcaps" id="A1.SS1.3.2">STACKFEED</span>
</h3>
<figure class="ltx_figure" id="A1.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_block ltx_figure_panel" id="A1.F3.1">
<span class="ltx_ERROR ltx_centering undefined" id="A1.F3.1.1">{promptbox}</span><span class="ltx_ERROR ltx_centering undefined" id="A1.F3.1.2">\justify</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.2"><span class="ltx_text ltx_font_typewriter" id="A1.F3.2.1">"""
There exists a Language Model based software named CodeRAG that automatically does the following task for a developer:
task - task_desc</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.3"><span class="ltx_text ltx_font_typewriter" id="A1.F3.3.1">CodeRAG uses a knowledge base to perform this task:
kb_desc</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.4"><span class="ltx_text ltx_font_typewriter" id="A1.F3.4.1">A developer used CodeRAG to perform the task on multiple files, and CodeRAG made some errors on them.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.5"><span class="ltx_text ltx_font_typewriter" id="A1.F3.5.1">Here is one knowledge base file that was involved in these errors:
"""
for i, file in enumerate(kb_files):
prompt += f"""
File i+1:
id: file[’id’]
content: </span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="A1.F3.5.2">n&lt;file&gt;</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="A1.F3.5.3">nfile[’content’]</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="A1.F3.5.4">n&lt;/file&gt;</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="A1.F3.5.5">n"""
if "special_notes" in file and file["special_notes"] != "":
prompt += f"""</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_typewriter" id="A1.F3.5.6">nspecial_notes: file[’special_notes’]"""</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.6"><span class="ltx_text ltx_font_typewriter" id="A1.F3.6.1">"""
The following are the reflections on the errors made by CodeRAG:
reflections_str</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.7"><span class="ltx_text ltx_font_typewriter" id="A1.F3.7.1">The reflections show the relationship of the file with the errors made by CodeRAG.
If the file is named "None," it means the information about the error on which the reflection is based does not fully fit any knowledge base file.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.8"><span class="ltx_text ltx_font_typewriter" id="A1.F3.8.1">Your task is to use the reflections on the errors made by CodeRAG and provide a generalization on the issues with the file and how it can be improved to prevent the errors.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.9"><span class="ltx_text ltx_font_typewriter" id="A1.F3.9.1">You should mention common issues found in the reflections and provide a plan for improving the knowledge base files to prevent future errors. Use the reflections to suggest additions or changes in the file, explaining what new content should be added to prevent errors. Before suggesting your plan, give context on the errors using code snippets and other relevant information from the reflections.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.10"><span class="ltx_text ltx_font_typewriter" id="A1.F3.10.1">You have a scratchpad to reason and plan your generalization. Your scratchpad is for your use only and will not be shared with anyone else.
The scratchpad is represented by the &lt;scratchpad&gt;&lt;/scratchpad&gt; tags.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.11"><span class="ltx_text ltx_font_typewriter" id="A1.F3.11.1">Your generalization should follow this format:
&lt;scratchpad&gt;
The contents of the scratchpad
&lt;/scratchpad&gt;
&lt;generalization&gt;
Your generalization for this file
&lt;/generalization&gt;</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.12"><span class="ltx_text ltx_font_typewriter" id="A1.F3.12.1">You must provide the filled-out scratchpad and generalization in the above format.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F3.13"><span class="ltx_text ltx_font_typewriter" id="A1.F3.13.1">General guidelines:
1. Carefully analyze the reflections to understand the errors CodeRAG is making.
2. "None" is a special file, representing that to fix the error, the information should be in a new file.
"""</span></p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering ltx_font_typewriter"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_serif" id="A1.F3.16.1.1">Figure 3</span>: </span>Generalization Stage Prompt</figcaption>
</figure>
<figure class="ltx_figure" id="A1.F4">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_block ltx_figure_panel" id="A1.F4.1">
<span class="ltx_ERROR ltx_centering undefined" id="A1.F4.1.1">{promptbox}</span><span class="ltx_ERROR ltx_centering undefined" id="A1.F4.1.2">\justify</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.2"><span class="ltx_text ltx_font_typewriter" id="A1.F4.2.1">"""
Your task is to reflect upon the errors made by CodeRAG based on the user feedback and provide a reflection on the role of the knowledge base files in the making of those errors.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.3"><span class="ltx_text ltx_font_typewriter" id="A1.F4.3.1">Your reflection should be very specific to the knowledge base files as these reflections will be used to improve the knowledge base files to prevent such errors in the future.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.4"><span class="ltx_text ltx_font_typewriter" id="A1.F4.4.1">There may be other causes for the error, but you should only focus on whether the knowledge base files could have prevented the error.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.5"><span class="ltx_text ltx_font_typewriter" id="A1.F4.5.1">You should also provide a way for improving the knowledge base files to prevent the error from happening again.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.6"><span class="ltx_text ltx_font_typewriter" id="A1.F4.6.1">You should try and see if there is any error in the information provided by the knowledge base or if the knowledge base is missing some information that could have prevented the error.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.7"><span class="ltx_text ltx_font_typewriter" id="A1.F4.7.1">You also have to figure out if the file should be edited or not. That you do through the needs_editing flag.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.8"><span class="ltx_text ltx_font_typewriter" id="A1.F4.8.1">You have a scratchpad in which you can reason and plan your reflection. Your scratchpad is for your use only and will not be shared with anyone else. This scratchpad is represented by the &lt;scratchpad&gt; tags.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.9"><span class="ltx_text ltx_font_typewriter" id="A1.F4.9.1">Your output should be in the following format:</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><pre class="ltx_verbatim ltx_centering ltx_figure_panel ltx_font_typewriter" id="A1.F4.10">
&lt;scratchpad&gt;
The contents of the scratchpad
&lt;/scratchpad&gt;

&lt;reflection&gt;
&lt;File 1&gt;
File: Name of the first file
needs_editing: True/False
Reflection: The reflection for this file
&lt;/File 1&gt;

&lt;File 2&gt;
File: Name of the second file
needs_editing: True/False
Reflection: The reflection for this file
&lt;/File 2&gt;
...
&lt;/reflection&gt;
</pre></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.11"><span class="ltx_text ltx_font_typewriter" id="A1.F4.11.1">You have to provide the filled-out scratchpad and the reflection in the above-described formats. You have to reflect on all the files that were extracted for the code file.</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.12"><span class="ltx_text ltx_font_typewriter" id="A1.F4.12.1">Here are some general guidelines to follow:</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<ol class="ltx_enumerate ltx_centering ltx_figure_panel" id="A1.I1">
<li class="ltx_item" id="A1.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">1.</span>
<div class="ltx_para" id="A1.I1.i1.p1">
<p class="ltx_p" id="A1.I1.i1.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i1.p1.1.1">You should first analyze the question, the test bench, the feedback, and the output to understand the error made by CodeRAG.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">2.</span>
<div class="ltx_para" id="A1.I1.i2.p1">
<p class="ltx_p" id="A1.I1.i2.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i2.p1.1.1">Then you should carefully analyze the knowledge base files to see if the theme and the contents of any knowledge base file are relevant to the error. Particularly, you should look out for files that have a factual error related to the error or are missing some information which should have been in the file according to the theme of the file.</span></p>
<ol class="ltx_enumerate" id="A1.I1.i2.I1">
<li class="ltx_item" id="A1.I1.i2.I1.i1" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(a)</span>
<div class="ltx_para" id="A1.I1.i2.I1.i1.p1">
<p class="ltx_p" id="A1.I1.i2.I1.i1.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i2.I1.i1.p1.1.1">Read the content of the file and understand the theme of the file. The theme of this file is of course based on the file ID and the content of the file but you should also consider its positioning in the knowledge base. That means you should consider the other files that were extracted for the code file and see how this file fits in with them. For example, if the file is a very basic general guide to the task with other files providing more detailed information, then it would make sense for this file to not have detailed information about specific cases.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2.I1.i2" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(b)</span>
<div class="ltx_para" id="A1.I1.i2.I1.i2.p1">
<p class="ltx_p" id="A1.I1.i2.I1.i2.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i2.I1.i2.p1.1.1">See if the file has any information related to the error. Check for relevant keywords and how the file might have biased the language model to make the error.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(c)</span>
<div class="ltx_para" id="A1.I1.i2.I1.i3.p1">
<p class="ltx_p" id="A1.I1.i2.I1.i3.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i2.I1.i3.p1.1.1">If the file has information related to the error, see if the information is correct and complete. If the information is incorrect or incomplete, the file is responsible for the error.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(d)</span>
<div class="ltx_para" id="A1.I1.i2.I1.i4.p1">
<p class="ltx_p" id="A1.I1.i2.I1.i4.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i2.I1.i4.p1.1.1">If it doesnt́ have information related to the error, check if it makes sense for the file to have information related to the error. If it doesn’t make sense, the file is not responsible for the error. When deciding this, check whether the information would be better suited in any of the other knowledge base files. If the missing info fits better in another file, then deem this file to not be responsible for the error as the missing content can be better placed in the other file.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i2.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">(e)</span>
<div class="ltx_para ltx_noindent" id="A1.I1.i2.I1.i5.p1">
<p class="ltx_p" id="A1.I1.i2.I1.i5.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i2.I1.i5.p1.1.1">If the file is responsible for the error, explain the error in your reflection and set the needs_editing flag to True. And if the file is not responsible for the error, set the needs_editing flag to False.</span></p>
</div>
</li>
</ol>
</div>
</li>
<li class="ltx_item" id="A1.I1.i3" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">3.</span>
<div class="ltx_para" id="A1.I1.i3.p1">
<p class="ltx_p" id="A1.I1.i3.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i3.p1.1.1">If none of the files have any error or if you think the content for the error should be in a new file, put a file with the name ‘‘None’’ in your reflection and for its reflection, describe the error and mention why it is not due to the knowledge base files. For the ‘‘None’’ file, the needs_editing flag should always be set to True. The ‘‘None’’ file should be placed as File n+1 where n is the number of files extracted for the code file.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i4" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">4.</span>
<div class="ltx_para" id="A1.I1.i4.p1">
<p class="ltx_p" id="A1.I1.i4.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i4.p1.1.1">Choose the least number of files for editing, we want to change as few files as we can for any error. For example, if we have 5 knowledge base files, unless very extreme cases, we wouldn’t want to set the needs_editing flag as True on more than 2 files. Figure out what the most relevant files for the error are and focus on them.</span></p>
</div>
</li>
<li class="ltx_item" id="A1.I1.i5" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">5.</span>
<div class="ltx_para ltx_noindent" id="A1.I1.i5.p1">
<p class="ltx_p" id="A1.I1.i5.p1.1"><span class="ltx_text ltx_font_typewriter" id="A1.I1.i5.p1.1.1">When you choose to edit multiple files, you should make sure that their involvements in the error are distinct and not overlapping. If they are overlapping, think about whether changing one file would be enough to fix the error.</span></p>
</div>
</li>
</ol>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F4.13"><span class="ltx_text ltx_font_typewriter" id="A1.F4.13.1">"""</span></p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering ltx_font_typewriter"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_serif" id="A1.F4.16.1.1">Figure 4</span>: </span>Selection Stage Prompt</figcaption>
</figure>
<figure class="ltx_figure" id="A1.F5">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_block ltx_figure_panel" id="A1.F5.1">
<span class="ltx_ERROR ltx_centering undefined" id="A1.F5.1.1">{promptbox}</span><span class="ltx_ERROR ltx_centering undefined" id="A1.F5.1.2">\justify</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F5.2"><span class="ltx_text ltx_font_typewriter" id="A1.F5.2.1">"""
There exists a Language Model based software named CodeRAG that automatically does the following task for a developer:</span></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><pre class="ltx_verbatim ltx_centering ltx_figure_panel ltx_font_typewriter" id="A1.F5.3">{test_bench_code}

The test bench code gives a code where a function must be inserted and then it is tested with some

test cases.

CodeRAG then outputted the following code to answer the question:

if task_desc != "":
    prompt += f"""
{task} - {task_desc}
"""
else:
    prompt += f"""
{task}
"""

prompt += f"""

The developer used CodeRAG for a question. The question is as follows:
{query}

In the question, the developer provided the following test bench code:
{test_bench_code}

The test bench code gives a code where a function must be inserted and then it is

tested with some test cases.

CodeRAG then outputted the following code to answer the question:
{output_code}

Based on the above output, the developer gave the following feedback to CodeRAG:
{feedback}

CodeRAG uses a knowledge base to do this task
{kb_desc}

The following files were extracted for this particular code file (the content of

each file is surrounded in &lt;file&gt;&lt;/file&gt; tags):
"""
for i, instruction in enumerate(instructions):
    prompt += f"""
File {i+1}:
id: "{instruction[’id’]}"
content: \n&lt;file&gt;\n{instruction[’content’]}\n&lt;/file&gt;\n
"""
    if "special_notes" in instruction and instruction["special_notes"] != "":
        prompt += f"""\nspecial_notes: {instruction[’special_notes’]}"""

prompt += """
Your task is to reflect upon the errors made by CodeRAG based on the user feedback.
You have to explain in detail the error made by CodeRAG. The reflection should be

very specific to the question, the output code and the feedback.
You should start by explaining the question that CodeRAG was asked to solve before talking about the error.

Your reflection should have relevant code snippets from the output

code which have errors and what should be done to fix them.
You should also add a small code example to demonstrate the error and potential methods to fix it.

You can talk about multiple different methods here to address the error.

You have a scratchpad in which you can reason and plan your reflection.

Your scratchpad is for your use only and will not be shared with anyone else.

Your reflection should be in the following format:
&lt;scratchpad&gt;
The contents of the scratchpad
&lt;/scratchpad&gt;
&lt;reflection&gt;
Your reflection
&lt;/reflection&gt;
"""
</pre></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F5.4"><span class="ltx_text ltx_font_typewriter" id="A1.F5.4.1">"""</span></p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering ltx_font_typewriter"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_serif" id="A1.F5.7.1.1">Figure 5</span>: </span>Reflection Stage Prompt</figcaption>
</figure>
<figure class="ltx_figure" id="A1.F6">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<div class="ltx_block ltx_figure_panel" id="A1.F6.1">
<span class="ltx_ERROR ltx_centering undefined" id="A1.F6.1.1">{promptbox}</span><span class="ltx_ERROR ltx_centering undefined" id="A1.F6.1.2">\justify</span>
</div>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1"><pre class="ltx_verbatim ltx_centering ltx_figure_panel ltx_font_typewriter" id="A1.F6.2">
"""
There exists a Language Model based software named CodeRAG that automatically does the following task
for a developer:
{task} - {task_desc}

CodeRAG was used to perform the task on a specific repository.
The following files in the repository were edited by CodeRAG:
&lt;files&gt;
{files}
&lt;/files&gt;

A developer has provided the following feedback on CodeRAG’s output:
&lt;feedback&gt;
{feedback}
&lt;/feedback&gt;

Your task is to parse this feedback.
You must separate the larger feedback into smaller feedbacks, where each feedback corresponds
to a specific file in the repository.
**DO NOT** change the content of the feedback. Your job is only to split the feedback into file-level
feedbacks, without altering the feedback’s content in any way.

You should respond in the following output format:
‘‘‘json
{
    "task": The task name, like {task},
    "num_files": The number of files mentioned in the feedback,
    "feedback_files": [
        {
            "target_file": The file name that the feedback is about, it should be the

            whole path of the file, leave it empty if you are not sure which file the feedback is about. If
            the file name is not empty,

            it should be one of the files in the repository.

            If the file name does not exist in the repository, put an empty string here,
            "num_feedbacks": The number of feedbacks for this file,
            "feedbacks": [
                {
                    "feedback_tone": The tone of the feedback, can take the values ‘positive‘ or
                    ‘negative‘,
                    "target_spans": The spans of the code that the feedback is about.

                    It is a list of json objects with two keys, ’start’ and ’end’.

                    Put an empty list if you are not sure which code span the feedback is about,
                    "feedback": Description of the feedback,
                }
            ]
        }
    ]
}
</pre></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="A1.F6.3"><span class="ltx_text ltx_font_typewriter" id="A1.F6.3.1">Make sure to include the backticks (‘‘‘) surrounding the output. They are needed for further parsing of your output.
"""</span></p>
</div>
</div>
<figcaption class="ltx_caption ltx_centering ltx_font_typewriter"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_serif" id="A1.F6.6.1.1">Figure 6</span>: </span>Feedback Parsing Prompt</figcaption>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Oct 14 14:56:38 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
