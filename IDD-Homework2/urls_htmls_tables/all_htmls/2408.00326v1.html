<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity</title>
<!--Generated on Thu Aug  1 06:36:21 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Sequential recommendation,  Loss functions,  Transitivity" lang="en" name="keywords"/>
<base href="/html/2408.00326v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S1" title="In Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S2" title="In Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Background</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S2.SS1" title="In 2. Background ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.1 </span>Problem Statement</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S2.SS2" title="In 2. Background ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2.2 </span>Training Objectives</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S2.SS2.SSS0.Px1" title="In 2.2. Training Objectives ‣ 2. Background ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title">Pairwise Objective</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S2.SS2.SSS0.Px2" title="In 2.2. Training Objectives ‣ 2. Background ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title">Pointwise Objective</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S2.SS2.SSS0.Px3" title="In 2.2. Training Objectives ‣ 2. Background ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title">Setwise Objective</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S3" title="In Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Our Method</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S3.SS1" title="In 3. Our Method ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Weak Transitivity</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S3.SS2" title="In 3. Our Method ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Extensions with Weak Transitivity</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4" title="In Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4.SS1" title="In 4. Experiments ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Experimental Setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4.SS1.SSS0.Px1" title="In 4.1. Experimental Setup ‣ 4. Experiments ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title">Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4.SS1.SSS0.Px2" title="In 4.1. Experimental Setup ‣ 4. Experiments ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title">Evaluation Settings and Metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4.SS1.SSS0.Px3" title="In 4.1. Experimental Setup ‣ 4. Experiments ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title">Baselines</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4.SS1.SSS0.Px4" title="In 4.1. Experimental Setup ‣ 4. Experiments ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title">Hyperparameters</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4.SS2" title="In 4. Experiments ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Performance Comparison</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4.SS3" title="In 4. Experiments ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Transitivity Analysis</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S5" title="In Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Hyunsoo Chung
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">Omnious AI</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3">South Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:hyunsoo.chung@omnious.com">hyunsoo.chung@omnious.com</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jungtaek Kim
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">University of Pittsburgh</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2">Pittsburgh</span><span class="ltx_text ltx_affiliation_state" id="id6.3.id3">Pennsylvania</span><span class="ltx_text ltx_affiliation_country" id="id7.4.id4">United States</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:jungtaek.kim@pitt.edu">jungtaek.kim@pitt.edu</a>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Hyungeun Jo
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id8.1.id1">Omnious AI</span><span class="ltx_text ltx_affiliation_city" id="id9.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id10.3.id3">South Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:hyungeun.jo@omnious.com">hyungeun.jo@omnious.com</a>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Hyungwon Choi
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id11.1.id1">Omnious AI</span><span class="ltx_text ltx_affiliation_city" id="id12.2.id2">Seoul</span><span class="ltx_text ltx_affiliation_country" id="id13.3.id3">South Korea</span>
</span>
<span class="ltx_contact ltx_role_email"><a href="mailto:hyungwon.choi@omnious.com">hyungwon.choi@omnious.com</a>
</span></span></span>
</div>
<div class="ltx_dates">(2024)</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id14.id1">A choice of optimization objective is immensely pivotal in the design of a recommender system as it affects the general modeling process of a user’s intent from previous interactions.
Existing approaches mainly adhere to three categories of loss functions: pairwise, pointwise, and setwise loss functions.
Despite their effectiveness, a critical and common drawback of such objectives is viewing the next observed item as a unique positive while considering all remaining items equally negative.
Such a binary label assignment is generally limited to assuring a higher recommendation score of the positive item, neglecting potential structures induced by varying preferences between other unobserved items.
To alleviate this issue, we propose a novel method that extends original objectives to explicitly leverage the different levels of preferences as relative orders between their scores.
Finally, we demonstrate the superior performance of our method compared to baseline objectives.</p>
</div>
<div class="ltx_keywords">Sequential recommendation, Loss functions, Transitivity
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_journalyear" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">journalyear: </span>2024</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_copyright" id="id2"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">copyright: </span>acmlicensed</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_conference" id="id3"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">conference: </span>Proceedings of the 33rd ACM International Conference on Information and Knowledge Management; October 21–25, 2024; Boise, ID, USA</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_booktitle" id="id4"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">booktitle: </span>Proceedings of the 33rd ACM International Conference on Information and Knowledge Management (CIKM ’24), October 21–25, 2024, Boise, ID, USA</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_doi" id="id5"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">doi: </span>10.1145/3627673.3679920</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_isbn" id="id6"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">isbn: </span>979-8-4007-0436-9/24/10</span></span></span><span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id7"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems Recommender systems</span></span></span>
<figure class="ltx_figure" id="S0.F1">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" height="492" id="S0.F1.g1" src="x1.png" width="822"/></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1. </span>Average recommendation scores of item subsets on the Amazon Beauty dataset trained with BPR (red solid), BCE (blue solid), and our transitive extensions (hatch).
Each item subset in <math alttext="x" class="ltx_Math" display="inline" id="S0.F1.3.m1.1"><semantics id="S0.F1.3.m1.1b"><mi id="S0.F1.3.m1.1.1" xref="S0.F1.3.m1.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S0.F1.3.m1.1c"><ci id="S0.F1.3.m1.1.1.cmml" xref="S0.F1.3.m1.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S0.F1.3.m1.1d">x</annotation><annotation encoding="application/x-llamapun" id="S0.F1.3.m1.1e">italic_x</annotation></semantics></math>-axis equally consists of <math alttext="20\%" class="ltx_Math" display="inline" id="S0.F1.4.m2.1"><semantics id="S0.F1.4.m2.1b"><mrow id="S0.F1.4.m2.1.1" xref="S0.F1.4.m2.1.1.cmml"><mn id="S0.F1.4.m2.1.1.2" xref="S0.F1.4.m2.1.1.2.cmml">20</mn><mo id="S0.F1.4.m2.1.1.1" xref="S0.F1.4.m2.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S0.F1.4.m2.1c"><apply id="S0.F1.4.m2.1.1.cmml" xref="S0.F1.4.m2.1.1"><csymbol cd="latexml" id="S0.F1.4.m2.1.1.1.cmml" xref="S0.F1.4.m2.1.1.1">percent</csymbol><cn id="S0.F1.4.m2.1.1.2.cmml" type="integer" xref="S0.F1.4.m2.1.1.2">20</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S0.F1.4.m2.1d">20\%</annotation><annotation encoding="application/x-llamapun" id="S0.F1.4.m2.1e">20 %</annotation></semantics></math> of the total items divided based on their popularity.
Bars with diagonal hatch assume that a user generally prefer popular items whereas bars with horizontal hatch regard niche items more preferred.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S0.F1.5">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S0.F1.6">Average recommendation scores of item subsets</p>
</div>
</div>
</figure>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Distinguishing items by relevance to an each user’s previous interaction history is the essence of most applied sequential recommender systems.
Conventional approaches <cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib13" title="">2016</a>; Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib25" title="">2018</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib31" title="">2020</a>; Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib24" title="">2019</a>)</cite> frame this task as learning the feature representations of a chronologically-ordered list of user’s interacted items and a candidate item.
By computing the inner product between two vectors, we then obtain a recommendation score that quantitatively indicates the relevance.
On that basis, a prevalent training process reformulates the problem into a supervised learning framework with binary labels, where the next interacted item of each user becomes a unique positive to its sequence of previous items.
Such a procedure often accompanies negative sampling <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib4" title="">2017</a>; Rendle and Freudenthaler, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib22" title="">2014</a>; Ding et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib8" title="">2020</a>; Lian et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib16" title="">2020</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib6" title="">2022</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib5" title="">2023a</a>)</cite> among the rest of items since the score computation of all items during each training step inevitably results in severe inefficiency <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib34" title="">2021a</a>; Klenitskiy and Vasilev, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib15" title="">2023</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">In this line of research, numerous approaches have adopted advanced neural networks as feature encoders <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib36" title="">2020</a>; Fan et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib10" title="">2021</a>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib9" title="">2022</a>; Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib14" title="">2018</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib37" title="">2022</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib28" title="">2019</a>; He et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib11" title="">2020</a>; Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib29" title="">2021</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib17" title="">2021</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib3" title="">2023b</a>)</cite> to capture more complex correlations.
Apart from vast architectural improvements, the majority of models yet utilize one of three types of loss functions as an optimization objective:
pairwise, e.g., BPR <cite class="ltx_cite ltx_citemacro_citep">(Rendle et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib23" title="">2009</a>)</cite>,
pointwise, e.g., BCE <cite class="ltx_cite ltx_citemacro_citep">(Chang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib2" title="">2021</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib35" title="">2021b</a>)</cite>,
and setwise, e.g., SSM <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib30" title="">2024</a>)</cite> functions.
While the formulation of each function varies, they all share the desired result of increasing the score of the unique positive than the scores of the other items.
Notably, most recent studies on loss functions and negative sampling strategies <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib26" title="">2017</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib32" title="">2013</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib27" title="">2018</a>; Hernández-Lobato et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib12" title="">2014</a>; Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib33" title="">2019</a>; Ding et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib8" title="">2020</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib5" title="">2023a</a>)</cite> aim for improved training efficiency and robustness to false negatives within three core objectives.
Despite their effectiveness, the model trained with such objectives consequently learns to regard unobserved items as equally negative with their labels simply set to zero.
In real-world recommendation, however, a subset of negative items is occasionally more favorable than the other due to various side factors, e.g., item popularity.
Unfortunately, the current scheme of binary label assignments hinders from fully taking advantage of diverse levels of preferences among unobserved items.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.4">To address the aforementioned issue, we first derive an inductive relation, dubbed weak transitivity, which represents preference-driven orders of item scores.
We then propose novel extensions of original loss functions that directly leverage this weak transitivity in their forms.
Consequently, the recommendation scores of unobserved items are aligned with respect to their preferences.
Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S0.F1" title="Figure 1 ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">1</span></a> highlights such a property of resulting recommendation policy trained with our proposed family of objectives.
Opposed to the results of BPR <cite class="ltx_cite ltx_citemacro_citep">(Rendle et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib23" title="">2009</a>)</cite> and BCE <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib14" title="">2018</a>)</cite>, item scores from our transitive extensions <math alttext="\textrm{TransBPR}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S1.p3.1.m1.1"><semantics id="S1.p3.1.m1.1a"><msub id="S1.p3.1.m1.1.1" xref="S1.p3.1.m1.1.1.cmml"><mtext id="S1.p3.1.m1.1.1.2" xref="S1.p3.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S1.p3.1.m1.1.1.3" xref="S1.p3.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S1.p3.1.m1.1b"><apply id="S1.p3.1.m1.1.1.cmml" xref="S1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S1.p3.1.m1.1.1.1.cmml" xref="S1.p3.1.m1.1.1">subscript</csymbol><ci id="S1.p3.1.m1.1.1.2a.cmml" xref="S1.p3.1.m1.1.1.2"><mtext id="S1.p3.1.m1.1.1.2.cmml" xref="S1.p3.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S1.p3.1.m1.1.1.3a.cmml" xref="S1.p3.1.m1.1.1.3"><mtext id="S1.p3.1.m1.1.1.3.cmml" mathsize="70%" xref="S1.p3.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.1.m1.1c">\textrm{TransBPR}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.1.m1.1d">TransBPR start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\textrm{TransBCE}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S1.p3.2.m2.1"><semantics id="S1.p3.2.m2.1a"><msub id="S1.p3.2.m2.1.1" xref="S1.p3.2.m2.1.1.cmml"><mtext id="S1.p3.2.m2.1.1.2" xref="S1.p3.2.m2.1.1.2a.cmml">TransBCE</mtext><mtext id="S1.p3.2.m2.1.1.3" xref="S1.p3.2.m2.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S1.p3.2.m2.1b"><apply id="S1.p3.2.m2.1.1.cmml" xref="S1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S1.p3.2.m2.1.1.1.cmml" xref="S1.p3.2.m2.1.1">subscript</csymbol><ci id="S1.p3.2.m2.1.1.2a.cmml" xref="S1.p3.2.m2.1.1.2"><mtext id="S1.p3.2.m2.1.1.2.cmml" xref="S1.p3.2.m2.1.1.2">TransBCE</mtext></ci><ci id="S1.p3.2.m2.1.1.3a.cmml" xref="S1.p3.2.m2.1.1.3"><mtext id="S1.p3.2.m2.1.1.3.cmml" mathsize="70%" xref="S1.p3.2.m2.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.2.m2.1c">\textrm{TransBCE}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.2.m2.1d">TransBCE start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math> (horizontal hatch) are generally proportional to their popularity.
Meanwhile, scores from <math alttext="\textrm{TransBPR}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S1.p3.3.m3.1"><semantics id="S1.p3.3.m3.1a"><msub id="S1.p3.3.m3.1.1" xref="S1.p3.3.m3.1.1.cmml"><mtext id="S1.p3.3.m3.1.1.2" xref="S1.p3.3.m3.1.1.2a.cmml">TransBPR</mtext><mtext id="S1.p3.3.m3.1.1.3" xref="S1.p3.3.m3.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S1.p3.3.m3.1b"><apply id="S1.p3.3.m3.1.1.cmml" xref="S1.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S1.p3.3.m3.1.1.1.cmml" xref="S1.p3.3.m3.1.1">subscript</csymbol><ci id="S1.p3.3.m3.1.1.2a.cmml" xref="S1.p3.3.m3.1.1.2"><mtext id="S1.p3.3.m3.1.1.2.cmml" xref="S1.p3.3.m3.1.1.2">TransBPR</mtext></ci><ci id="S1.p3.3.m3.1.1.3a.cmml" xref="S1.p3.3.m3.1.1.3"><mtext id="S1.p3.3.m3.1.1.3.cmml" mathsize="70%" xref="S1.p3.3.m3.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.3.m3.1c">\textrm{TransBPR}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.3.m3.1d">TransBPR start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\textrm{TransBCE}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S1.p3.4.m4.1"><semantics id="S1.p3.4.m4.1a"><msub id="S1.p3.4.m4.1.1" xref="S1.p3.4.m4.1.1.cmml"><mtext id="S1.p3.4.m4.1.1.2" xref="S1.p3.4.m4.1.1.2a.cmml">TransBCE</mtext><mtext id="S1.p3.4.m4.1.1.3" xref="S1.p3.4.m4.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S1.p3.4.m4.1b"><apply id="S1.p3.4.m4.1.1.cmml" xref="S1.p3.4.m4.1.1"><csymbol cd="ambiguous" id="S1.p3.4.m4.1.1.1.cmml" xref="S1.p3.4.m4.1.1">subscript</csymbol><ci id="S1.p3.4.m4.1.1.2a.cmml" xref="S1.p3.4.m4.1.1.2"><mtext id="S1.p3.4.m4.1.1.2.cmml" xref="S1.p3.4.m4.1.1.2">TransBCE</mtext></ci><ci id="S1.p3.4.m4.1.1.3a.cmml" xref="S1.p3.4.m4.1.1.3"><mtext id="S1.p3.4.m4.1.1.3.cmml" mathsize="70%" xref="S1.p3.4.m4.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p3.4.m4.1c">\textrm{TransBCE}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S1.p3.4.m4.1d">TransBCE start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math> (diagonal hatch) are inversely proportional to their popularity, favoring more niche (i.e., unique) items.
To cap it all, we serve the predefined preferences of items as an additional supervisory factor for their recommendation scores.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">It is noteworthy that in this work we do not propose any new distributions for negative sampling but instead introduce the modification of original objectives.
Hence, we solely utilize a combination of item popularity and uniform distributions for negative sampling, easily accessible in implicit settings.
We validate the effectiveness of our proposed extensions compared to the original loss functions and their renowned variants on four sequential recommendation benchmarks.
In all settings, our approaches substantially improve the recommendation performance compared to baseline methods.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Background</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">In this section, we describe a sequential recommendation task and the details of representative loss functions for recommendation.</p>
</div>
<section class="ltx_subsection" id="S2.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.1. </span>Problem Statement</h3>
<div class="ltx_para" id="S2.SS1.p1">
<p class="ltx_p" id="S2.SS1.p1.12">Let <math alttext="\mathcal{U}=\{u_{1},\ldots,u_{M}\}" class="ltx_Math" display="inline" id="S2.SS1.p1.1.m1.3"><semantics id="S2.SS1.p1.1.m1.3a"><mrow id="S2.SS1.p1.1.m1.3.3" xref="S2.SS1.p1.1.m1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.1.m1.3.3.4" xref="S2.SS1.p1.1.m1.3.3.4.cmml">𝒰</mi><mo id="S2.SS1.p1.1.m1.3.3.3" xref="S2.SS1.p1.1.m1.3.3.3.cmml">=</mo><mrow id="S2.SS1.p1.1.m1.3.3.2.2" xref="S2.SS1.p1.1.m1.3.3.2.3.cmml"><mo id="S2.SS1.p1.1.m1.3.3.2.2.3" stretchy="false" xref="S2.SS1.p1.1.m1.3.3.2.3.cmml">{</mo><msub id="S2.SS1.p1.1.m1.2.2.1.1.1" xref="S2.SS1.p1.1.m1.2.2.1.1.1.cmml"><mi id="S2.SS1.p1.1.m1.2.2.1.1.1.2" xref="S2.SS1.p1.1.m1.2.2.1.1.1.2.cmml">u</mi><mn id="S2.SS1.p1.1.m1.2.2.1.1.1.3" xref="S2.SS1.p1.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS1.p1.1.m1.3.3.2.2.4" xref="S2.SS1.p1.1.m1.3.3.2.3.cmml">,</mo><mi id="S2.SS1.p1.1.m1.1.1" mathvariant="normal" xref="S2.SS1.p1.1.m1.1.1.cmml">…</mi><mo id="S2.SS1.p1.1.m1.3.3.2.2.5" xref="S2.SS1.p1.1.m1.3.3.2.3.cmml">,</mo><msub id="S2.SS1.p1.1.m1.3.3.2.2.2" xref="S2.SS1.p1.1.m1.3.3.2.2.2.cmml"><mi id="S2.SS1.p1.1.m1.3.3.2.2.2.2" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2.cmml">u</mi><mi id="S2.SS1.p1.1.m1.3.3.2.2.2.3" xref="S2.SS1.p1.1.m1.3.3.2.2.2.3.cmml">M</mi></msub><mo id="S2.SS1.p1.1.m1.3.3.2.2.6" stretchy="false" xref="S2.SS1.p1.1.m1.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.1.m1.3b"><apply id="S2.SS1.p1.1.m1.3.3.cmml" xref="S2.SS1.p1.1.m1.3.3"><eq id="S2.SS1.p1.1.m1.3.3.3.cmml" xref="S2.SS1.p1.1.m1.3.3.3"></eq><ci id="S2.SS1.p1.1.m1.3.3.4.cmml" xref="S2.SS1.p1.1.m1.3.3.4">𝒰</ci><set id="S2.SS1.p1.1.m1.3.3.2.3.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2"><apply id="S2.SS1.p1.1.m1.2.2.1.1.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.1.m1.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.1.m1.2.2.1.1.1.2">𝑢</ci><cn id="S2.SS1.p1.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S2.SS1.p1.1.m1.2.2.1.1.1.3">1</cn></apply><ci id="S2.SS1.p1.1.m1.1.1.cmml" xref="S2.SS1.p1.1.m1.1.1">…</ci><apply id="S2.SS1.p1.1.m1.3.3.2.2.2.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.1.m1.3.3.2.2.2.1.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S2.SS1.p1.1.m1.3.3.2.2.2.2.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.2.2">𝑢</ci><ci id="S2.SS1.p1.1.m1.3.3.2.2.2.3.cmml" xref="S2.SS1.p1.1.m1.3.3.2.2.2.3">𝑀</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.1.m1.3c">\mathcal{U}=\{u_{1},\ldots,u_{M}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.1.m1.3d">caligraphic_U = { italic_u start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_u start_POSTSUBSCRIPT italic_M end_POSTSUBSCRIPT }</annotation></semantics></math> and <math alttext="\mathcal{I}=\{i_{1},\ldots,i_{N}\}" class="ltx_Math" display="inline" id="S2.SS1.p1.2.m2.3"><semantics id="S2.SS1.p1.2.m2.3a"><mrow id="S2.SS1.p1.2.m2.3.3" xref="S2.SS1.p1.2.m2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS1.p1.2.m2.3.3.4" xref="S2.SS1.p1.2.m2.3.3.4.cmml">ℐ</mi><mo id="S2.SS1.p1.2.m2.3.3.3" xref="S2.SS1.p1.2.m2.3.3.3.cmml">=</mo><mrow id="S2.SS1.p1.2.m2.3.3.2.2" xref="S2.SS1.p1.2.m2.3.3.2.3.cmml"><mo id="S2.SS1.p1.2.m2.3.3.2.2.3" stretchy="false" xref="S2.SS1.p1.2.m2.3.3.2.3.cmml">{</mo><msub id="S2.SS1.p1.2.m2.2.2.1.1.1" xref="S2.SS1.p1.2.m2.2.2.1.1.1.cmml"><mi id="S2.SS1.p1.2.m2.2.2.1.1.1.2" xref="S2.SS1.p1.2.m2.2.2.1.1.1.2.cmml">i</mi><mn id="S2.SS1.p1.2.m2.2.2.1.1.1.3" xref="S2.SS1.p1.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.SS1.p1.2.m2.3.3.2.2.4" xref="S2.SS1.p1.2.m2.3.3.2.3.cmml">,</mo><mi id="S2.SS1.p1.2.m2.1.1" mathvariant="normal" xref="S2.SS1.p1.2.m2.1.1.cmml">…</mi><mo id="S2.SS1.p1.2.m2.3.3.2.2.5" xref="S2.SS1.p1.2.m2.3.3.2.3.cmml">,</mo><msub id="S2.SS1.p1.2.m2.3.3.2.2.2" xref="S2.SS1.p1.2.m2.3.3.2.2.2.cmml"><mi id="S2.SS1.p1.2.m2.3.3.2.2.2.2" xref="S2.SS1.p1.2.m2.3.3.2.2.2.2.cmml">i</mi><mi id="S2.SS1.p1.2.m2.3.3.2.2.2.3" xref="S2.SS1.p1.2.m2.3.3.2.2.2.3.cmml">N</mi></msub><mo id="S2.SS1.p1.2.m2.3.3.2.2.6" stretchy="false" xref="S2.SS1.p1.2.m2.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.2.m2.3b"><apply id="S2.SS1.p1.2.m2.3.3.cmml" xref="S2.SS1.p1.2.m2.3.3"><eq id="S2.SS1.p1.2.m2.3.3.3.cmml" xref="S2.SS1.p1.2.m2.3.3.3"></eq><ci id="S2.SS1.p1.2.m2.3.3.4.cmml" xref="S2.SS1.p1.2.m2.3.3.4">ℐ</ci><set id="S2.SS1.p1.2.m2.3.3.2.3.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2"><apply id="S2.SS1.p1.2.m2.2.2.1.1.1.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.2.m2.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.2.m2.2.2.1.1.1.2">𝑖</ci><cn id="S2.SS1.p1.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S2.SS1.p1.2.m2.2.2.1.1.1.3">1</cn></apply><ci id="S2.SS1.p1.2.m2.1.1.cmml" xref="S2.SS1.p1.2.m2.1.1">…</ci><apply id="S2.SS1.p1.2.m2.3.3.2.2.2.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.2.m2.3.3.2.2.2.1.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S2.SS1.p1.2.m2.3.3.2.2.2.2.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2.2.2">𝑖</ci><ci id="S2.SS1.p1.2.m2.3.3.2.2.2.3.cmml" xref="S2.SS1.p1.2.m2.3.3.2.2.2.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.2.m2.3c">\mathcal{I}=\{i_{1},\ldots,i_{N}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.2.m2.3d">caligraphic_I = { italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_i start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT }</annotation></semantics></math> denote a set of users and items where <math alttext="M" class="ltx_Math" display="inline" id="S2.SS1.p1.3.m3.1"><semantics id="S2.SS1.p1.3.m3.1a"><mi id="S2.SS1.p1.3.m3.1.1" xref="S2.SS1.p1.3.m3.1.1.cmml">M</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.3.m3.1b"><ci id="S2.SS1.p1.3.m3.1.1.cmml" xref="S2.SS1.p1.3.m3.1.1">𝑀</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.3.m3.1c">M</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.3.m3.1d">italic_M</annotation></semantics></math> and <math alttext="N" class="ltx_Math" display="inline" id="S2.SS1.p1.4.m4.1"><semantics id="S2.SS1.p1.4.m4.1a"><mi id="S2.SS1.p1.4.m4.1.1" xref="S2.SS1.p1.4.m4.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.4.m4.1b"><ci id="S2.SS1.p1.4.m4.1.1.cmml" xref="S2.SS1.p1.4.m4.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.4.m4.1c">N</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.4.m4.1d">italic_N</annotation></semantics></math> are maximum numbers of users and items, respectively.
Given a chronologically ordered history <math alttext="h_{u}=\{i_{1}^{u},\ldots,i_{t}^{u}\}" class="ltx_Math" display="inline" id="S2.SS1.p1.5.m5.3"><semantics id="S2.SS1.p1.5.m5.3a"><mrow id="S2.SS1.p1.5.m5.3.3" xref="S2.SS1.p1.5.m5.3.3.cmml"><msub id="S2.SS1.p1.5.m5.3.3.4" xref="S2.SS1.p1.5.m5.3.3.4.cmml"><mi id="S2.SS1.p1.5.m5.3.3.4.2" xref="S2.SS1.p1.5.m5.3.3.4.2.cmml">h</mi><mi id="S2.SS1.p1.5.m5.3.3.4.3" xref="S2.SS1.p1.5.m5.3.3.4.3.cmml">u</mi></msub><mo id="S2.SS1.p1.5.m5.3.3.3" xref="S2.SS1.p1.5.m5.3.3.3.cmml">=</mo><mrow id="S2.SS1.p1.5.m5.3.3.2.2" xref="S2.SS1.p1.5.m5.3.3.2.3.cmml"><mo id="S2.SS1.p1.5.m5.3.3.2.2.3" stretchy="false" xref="S2.SS1.p1.5.m5.3.3.2.3.cmml">{</mo><msubsup id="S2.SS1.p1.5.m5.2.2.1.1.1" xref="S2.SS1.p1.5.m5.2.2.1.1.1.cmml"><mi id="S2.SS1.p1.5.m5.2.2.1.1.1.2.2" xref="S2.SS1.p1.5.m5.2.2.1.1.1.2.2.cmml">i</mi><mn id="S2.SS1.p1.5.m5.2.2.1.1.1.2.3" xref="S2.SS1.p1.5.m5.2.2.1.1.1.2.3.cmml">1</mn><mi id="S2.SS1.p1.5.m5.2.2.1.1.1.3" xref="S2.SS1.p1.5.m5.2.2.1.1.1.3.cmml">u</mi></msubsup><mo id="S2.SS1.p1.5.m5.3.3.2.2.4" xref="S2.SS1.p1.5.m5.3.3.2.3.cmml">,</mo><mi id="S2.SS1.p1.5.m5.1.1" mathvariant="normal" xref="S2.SS1.p1.5.m5.1.1.cmml">…</mi><mo id="S2.SS1.p1.5.m5.3.3.2.2.5" xref="S2.SS1.p1.5.m5.3.3.2.3.cmml">,</mo><msubsup id="S2.SS1.p1.5.m5.3.3.2.2.2" xref="S2.SS1.p1.5.m5.3.3.2.2.2.cmml"><mi id="S2.SS1.p1.5.m5.3.3.2.2.2.2.2" xref="S2.SS1.p1.5.m5.3.3.2.2.2.2.2.cmml">i</mi><mi id="S2.SS1.p1.5.m5.3.3.2.2.2.2.3" xref="S2.SS1.p1.5.m5.3.3.2.2.2.2.3.cmml">t</mi><mi id="S2.SS1.p1.5.m5.3.3.2.2.2.3" xref="S2.SS1.p1.5.m5.3.3.2.2.2.3.cmml">u</mi></msubsup><mo id="S2.SS1.p1.5.m5.3.3.2.2.6" stretchy="false" xref="S2.SS1.p1.5.m5.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.5.m5.3b"><apply id="S2.SS1.p1.5.m5.3.3.cmml" xref="S2.SS1.p1.5.m5.3.3"><eq id="S2.SS1.p1.5.m5.3.3.3.cmml" xref="S2.SS1.p1.5.m5.3.3.3"></eq><apply id="S2.SS1.p1.5.m5.3.3.4.cmml" xref="S2.SS1.p1.5.m5.3.3.4"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.3.3.4.1.cmml" xref="S2.SS1.p1.5.m5.3.3.4">subscript</csymbol><ci id="S2.SS1.p1.5.m5.3.3.4.2.cmml" xref="S2.SS1.p1.5.m5.3.3.4.2">ℎ</ci><ci id="S2.SS1.p1.5.m5.3.3.4.3.cmml" xref="S2.SS1.p1.5.m5.3.3.4.3">𝑢</ci></apply><set id="S2.SS1.p1.5.m5.3.3.2.3.cmml" xref="S2.SS1.p1.5.m5.3.3.2.2"><apply id="S2.SS1.p1.5.m5.2.2.1.1.1.cmml" xref="S2.SS1.p1.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.2.2.1.1.1.1.cmml" xref="S2.SS1.p1.5.m5.2.2.1.1.1">superscript</csymbol><apply id="S2.SS1.p1.5.m5.2.2.1.1.1.2.cmml" xref="S2.SS1.p1.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.2.2.1.1.1.2.1.cmml" xref="S2.SS1.p1.5.m5.2.2.1.1.1">subscript</csymbol><ci id="S2.SS1.p1.5.m5.2.2.1.1.1.2.2.cmml" xref="S2.SS1.p1.5.m5.2.2.1.1.1.2.2">𝑖</ci><cn id="S2.SS1.p1.5.m5.2.2.1.1.1.2.3.cmml" type="integer" xref="S2.SS1.p1.5.m5.2.2.1.1.1.2.3">1</cn></apply><ci id="S2.SS1.p1.5.m5.2.2.1.1.1.3.cmml" xref="S2.SS1.p1.5.m5.2.2.1.1.1.3">𝑢</ci></apply><ci id="S2.SS1.p1.5.m5.1.1.cmml" xref="S2.SS1.p1.5.m5.1.1">…</ci><apply id="S2.SS1.p1.5.m5.3.3.2.2.2.cmml" xref="S2.SS1.p1.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.3.3.2.2.2.1.cmml" xref="S2.SS1.p1.5.m5.3.3.2.2.2">superscript</csymbol><apply id="S2.SS1.p1.5.m5.3.3.2.2.2.2.cmml" xref="S2.SS1.p1.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.SS1.p1.5.m5.3.3.2.2.2.2.1.cmml" xref="S2.SS1.p1.5.m5.3.3.2.2.2">subscript</csymbol><ci id="S2.SS1.p1.5.m5.3.3.2.2.2.2.2.cmml" xref="S2.SS1.p1.5.m5.3.3.2.2.2.2.2">𝑖</ci><ci id="S2.SS1.p1.5.m5.3.3.2.2.2.2.3.cmml" xref="S2.SS1.p1.5.m5.3.3.2.2.2.2.3">𝑡</ci></apply><ci id="S2.SS1.p1.5.m5.3.3.2.2.2.3.cmml" xref="S2.SS1.p1.5.m5.3.3.2.2.2.3">𝑢</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.5.m5.3c">h_{u}=\{i_{1}^{u},\ldots,i_{t}^{u}\}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.5.m5.3d">italic_h start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT = { italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT , … , italic_i start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT }</annotation></semantics></math> of observed items for a user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS1.p1.6.m6.1"><semantics id="S2.SS1.p1.6.m6.1a"><mi id="S2.SS1.p1.6.m6.1.1" xref="S2.SS1.p1.6.m6.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.6.m6.1b"><ci id="S2.SS1.p1.6.m6.1.1.cmml" xref="S2.SS1.p1.6.m6.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.6.m6.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.6.m6.1d">italic_u</annotation></semantics></math>,
a goal of sequential recommendation is to recommend the most relevant next item <math alttext="i_{t+1}^{u}" class="ltx_Math" display="inline" id="S2.SS1.p1.7.m7.1"><semantics id="S2.SS1.p1.7.m7.1a"><msubsup id="S2.SS1.p1.7.m7.1.1" xref="S2.SS1.p1.7.m7.1.1.cmml"><mi id="S2.SS1.p1.7.m7.1.1.2.2" xref="S2.SS1.p1.7.m7.1.1.2.2.cmml">i</mi><mrow id="S2.SS1.p1.7.m7.1.1.2.3" xref="S2.SS1.p1.7.m7.1.1.2.3.cmml"><mi id="S2.SS1.p1.7.m7.1.1.2.3.2" xref="S2.SS1.p1.7.m7.1.1.2.3.2.cmml">t</mi><mo id="S2.SS1.p1.7.m7.1.1.2.3.1" xref="S2.SS1.p1.7.m7.1.1.2.3.1.cmml">+</mo><mn id="S2.SS1.p1.7.m7.1.1.2.3.3" xref="S2.SS1.p1.7.m7.1.1.2.3.3.cmml">1</mn></mrow><mi id="S2.SS1.p1.7.m7.1.1.3" xref="S2.SS1.p1.7.m7.1.1.3.cmml">u</mi></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.7.m7.1b"><apply id="S2.SS1.p1.7.m7.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.7.m7.1.1.1.cmml" xref="S2.SS1.p1.7.m7.1.1">superscript</csymbol><apply id="S2.SS1.p1.7.m7.1.1.2.cmml" xref="S2.SS1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.7.m7.1.1.2.1.cmml" xref="S2.SS1.p1.7.m7.1.1">subscript</csymbol><ci id="S2.SS1.p1.7.m7.1.1.2.2.cmml" xref="S2.SS1.p1.7.m7.1.1.2.2">𝑖</ci><apply id="S2.SS1.p1.7.m7.1.1.2.3.cmml" xref="S2.SS1.p1.7.m7.1.1.2.3"><plus id="S2.SS1.p1.7.m7.1.1.2.3.1.cmml" xref="S2.SS1.p1.7.m7.1.1.2.3.1"></plus><ci id="S2.SS1.p1.7.m7.1.1.2.3.2.cmml" xref="S2.SS1.p1.7.m7.1.1.2.3.2">𝑡</ci><cn id="S2.SS1.p1.7.m7.1.1.2.3.3.cmml" type="integer" xref="S2.SS1.p1.7.m7.1.1.2.3.3">1</cn></apply></apply><ci id="S2.SS1.p1.7.m7.1.1.3.cmml" xref="S2.SS1.p1.7.m7.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.7.m7.1c">i_{t+1}^{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.7.m7.1d">italic_i start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_u end_POSTSUPERSCRIPT</annotation></semantics></math>.
We first embed the history <math alttext="h_{u}" class="ltx_Math" display="inline" id="S2.SS1.p1.8.m8.1"><semantics id="S2.SS1.p1.8.m8.1a"><msub id="S2.SS1.p1.8.m8.1.1" xref="S2.SS1.p1.8.m8.1.1.cmml"><mi id="S2.SS1.p1.8.m8.1.1.2" xref="S2.SS1.p1.8.m8.1.1.2.cmml">h</mi><mi id="S2.SS1.p1.8.m8.1.1.3" xref="S2.SS1.p1.8.m8.1.1.3.cmml">u</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.8.m8.1b"><apply id="S2.SS1.p1.8.m8.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.8.m8.1.1.1.cmml" xref="S2.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S2.SS1.p1.8.m8.1.1.2.cmml" xref="S2.SS1.p1.8.m8.1.1.2">ℎ</ci><ci id="S2.SS1.p1.8.m8.1.1.3.cmml" xref="S2.SS1.p1.8.m8.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.8.m8.1c">h_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.8.m8.1d">italic_h start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and a candidate item <math alttext="i" class="ltx_Math" display="inline" id="S2.SS1.p1.9.m9.1"><semantics id="S2.SS1.p1.9.m9.1a"><mi id="S2.SS1.p1.9.m9.1.1" xref="S2.SS1.p1.9.m9.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.9.m9.1b"><ci id="S2.SS1.p1.9.m9.1.1.cmml" xref="S2.SS1.p1.9.m9.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.9.m9.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.9.m9.1d">italic_i</annotation></semantics></math> onto vectors <math alttext="h^{\prime}_{u}" class="ltx_Math" display="inline" id="S2.SS1.p1.10.m10.1"><semantics id="S2.SS1.p1.10.m10.1a"><msubsup id="S2.SS1.p1.10.m10.1.1" xref="S2.SS1.p1.10.m10.1.1.cmml"><mi id="S2.SS1.p1.10.m10.1.1.2.2" xref="S2.SS1.p1.10.m10.1.1.2.2.cmml">h</mi><mi id="S2.SS1.p1.10.m10.1.1.3" xref="S2.SS1.p1.10.m10.1.1.3.cmml">u</mi><mo id="S2.SS1.p1.10.m10.1.1.2.3" xref="S2.SS1.p1.10.m10.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.10.m10.1b"><apply id="S2.SS1.p1.10.m10.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.10.m10.1.1.1.cmml" xref="S2.SS1.p1.10.m10.1.1">subscript</csymbol><apply id="S2.SS1.p1.10.m10.1.1.2.cmml" xref="S2.SS1.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.10.m10.1.1.2.1.cmml" xref="S2.SS1.p1.10.m10.1.1">superscript</csymbol><ci id="S2.SS1.p1.10.m10.1.1.2.2.cmml" xref="S2.SS1.p1.10.m10.1.1.2.2">ℎ</ci><ci id="S2.SS1.p1.10.m10.1.1.2.3.cmml" xref="S2.SS1.p1.10.m10.1.1.2.3">′</ci></apply><ci id="S2.SS1.p1.10.m10.1.1.3.cmml" xref="S2.SS1.p1.10.m10.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.10.m10.1c">h^{\prime}_{u}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.10.m10.1d">italic_h start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_u end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="i^{\prime}" class="ltx_Math" display="inline" id="S2.SS1.p1.11.m11.1"><semantics id="S2.SS1.p1.11.m11.1a"><msup id="S2.SS1.p1.11.m11.1.1" xref="S2.SS1.p1.11.m11.1.1.cmml"><mi id="S2.SS1.p1.11.m11.1.1.2" xref="S2.SS1.p1.11.m11.1.1.2.cmml">i</mi><mo id="S2.SS1.p1.11.m11.1.1.3" xref="S2.SS1.p1.11.m11.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.11.m11.1b"><apply id="S2.SS1.p1.11.m11.1.1.cmml" xref="S2.SS1.p1.11.m11.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.11.m11.1.1.1.cmml" xref="S2.SS1.p1.11.m11.1.1">superscript</csymbol><ci id="S2.SS1.p1.11.m11.1.1.2.cmml" xref="S2.SS1.p1.11.m11.1.1.2">𝑖</ci><ci id="S2.SS1.p1.11.m11.1.1.3.cmml" xref="S2.SS1.p1.11.m11.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.11.m11.1c">i^{\prime}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.11.m11.1d">italic_i start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT</annotation></semantics></math>, respectively.
Accordingly, a recommendation score <math alttext="\hat{s}_{ui}" class="ltx_Math" display="inline" id="S2.SS1.p1.12.m12.1"><semantics id="S2.SS1.p1.12.m12.1a"><msub id="S2.SS1.p1.12.m12.1.1" xref="S2.SS1.p1.12.m12.1.1.cmml"><mover accent="true" id="S2.SS1.p1.12.m12.1.1.2" xref="S2.SS1.p1.12.m12.1.1.2.cmml"><mi id="S2.SS1.p1.12.m12.1.1.2.2" xref="S2.SS1.p1.12.m12.1.1.2.2.cmml">s</mi><mo id="S2.SS1.p1.12.m12.1.1.2.1" xref="S2.SS1.p1.12.m12.1.1.2.1.cmml">^</mo></mover><mrow id="S2.SS1.p1.12.m12.1.1.3" xref="S2.SS1.p1.12.m12.1.1.3.cmml"><mi id="S2.SS1.p1.12.m12.1.1.3.2" xref="S2.SS1.p1.12.m12.1.1.3.2.cmml">u</mi><mo id="S2.SS1.p1.12.m12.1.1.3.1" xref="S2.SS1.p1.12.m12.1.1.3.1.cmml">⁢</mo><mi id="S2.SS1.p1.12.m12.1.1.3.3" xref="S2.SS1.p1.12.m12.1.1.3.3.cmml">i</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.SS1.p1.12.m12.1b"><apply id="S2.SS1.p1.12.m12.1.1.cmml" xref="S2.SS1.p1.12.m12.1.1"><csymbol cd="ambiguous" id="S2.SS1.p1.12.m12.1.1.1.cmml" xref="S2.SS1.p1.12.m12.1.1">subscript</csymbol><apply id="S2.SS1.p1.12.m12.1.1.2.cmml" xref="S2.SS1.p1.12.m12.1.1.2"><ci id="S2.SS1.p1.12.m12.1.1.2.1.cmml" xref="S2.SS1.p1.12.m12.1.1.2.1">^</ci><ci id="S2.SS1.p1.12.m12.1.1.2.2.cmml" xref="S2.SS1.p1.12.m12.1.1.2.2">𝑠</ci></apply><apply id="S2.SS1.p1.12.m12.1.1.3.cmml" xref="S2.SS1.p1.12.m12.1.1.3"><times id="S2.SS1.p1.12.m12.1.1.3.1.cmml" xref="S2.SS1.p1.12.m12.1.1.3.1"></times><ci id="S2.SS1.p1.12.m12.1.1.3.2.cmml" xref="S2.SS1.p1.12.m12.1.1.3.2">𝑢</ci><ci id="S2.SS1.p1.12.m12.1.1.3.3.cmml" xref="S2.SS1.p1.12.m12.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS1.p1.12.m12.1c">\hat{s}_{ui}</annotation><annotation encoding="application/x-llamapun" id="S2.SS1.p1.12.m12.1d">over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is calculated via an inner product between two embeddings.</p>
</div>
</section>
<section class="ltx_subsection" id="S2.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">2.2. </span>Training Objectives</h3>
<section class="ltx_paragraph" id="S2.SS2.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Pairwise Objective</h4>
<div class="ltx_para" id="S2.SS2.SSS0.Px1.p1">
<p class="ltx_p" id="S2.SS2.SSS0.Px1.p1.5">Bayesian personalized ranking (BPR) <cite class="ltx_cite ltx_citemacro_citep">(Rendle et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib23" title="">2009</a>)</cite> models personalized ranking of items.
It forces the score of the positive (i.e., next interacted) item to be higher than the scores of the rest unobserved items.
With a dataset <math alttext="\mathcal{D}_{s}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px1.p1.1.m1.1a"><msub id="S2.SS2.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml">𝒟</mi><mi id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.2">𝒟</ci><ci id="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3.cmml" xref="S2.SS2.SSS0.Px1.p1.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.1.m1.1c">\mathcal{D}_{s}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.1.m1.1d">caligraphic_D start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> composed of a triplet <math alttext="(u,i,j)" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.2.m2.3"><semantics id="S2.SS2.SSS0.Px1.p1.2.m2.3a"><mrow id="S2.SS2.SSS0.Px1.p1.2.m2.3.4.2" xref="S2.SS2.SSS0.Px1.p1.2.m2.3.4.1.cmml"><mo id="S2.SS2.SSS0.Px1.p1.2.m2.3.4.2.1" stretchy="false" xref="S2.SS2.SSS0.Px1.p1.2.m2.3.4.1.cmml">(</mo><mi id="S2.SS2.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml">u</mi><mo id="S2.SS2.SSS0.Px1.p1.2.m2.3.4.2.2" xref="S2.SS2.SSS0.Px1.p1.2.m2.3.4.1.cmml">,</mo><mi id="S2.SS2.SSS0.Px1.p1.2.m2.2.2" xref="S2.SS2.SSS0.Px1.p1.2.m2.2.2.cmml">i</mi><mo id="S2.SS2.SSS0.Px1.p1.2.m2.3.4.2.3" xref="S2.SS2.SSS0.Px1.p1.2.m2.3.4.1.cmml">,</mo><mi id="S2.SS2.SSS0.Px1.p1.2.m2.3.3" xref="S2.SS2.SSS0.Px1.p1.2.m2.3.3.cmml">j</mi><mo id="S2.SS2.SSS0.Px1.p1.2.m2.3.4.2.4" stretchy="false" xref="S2.SS2.SSS0.Px1.p1.2.m2.3.4.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.2.m2.3b"><vector id="S2.SS2.SSS0.Px1.p1.2.m2.3.4.1.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.3.4.2"><ci id="S2.SS2.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.1.1">𝑢</ci><ci id="S2.SS2.SSS0.Px1.p1.2.m2.2.2.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.2.2">𝑖</ci><ci id="S2.SS2.SSS0.Px1.p1.2.m2.3.3.cmml" xref="S2.SS2.SSS0.Px1.p1.2.m2.3.3">𝑗</ci></vector></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.2.m2.3c">(u,i,j)</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.2.m2.3d">( italic_u , italic_i , italic_j )</annotation></semantics></math> of which item <math alttext="i" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.3.m3.1"><semantics id="S2.SS2.SSS0.Px1.p1.3.m3.1a"><mi id="S2.SS2.SSS0.Px1.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px1.p1.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.3.m3.1b"><ci id="S2.SS2.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.3.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.3.m3.1d">italic_i</annotation></semantics></math> as a positive and item <math alttext="j" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.4.m4.1"><semantics id="S2.SS2.SSS0.Px1.p1.4.m4.1a"><mi id="S2.SS2.SSS0.Px1.p1.4.m4.1.1" xref="S2.SS2.SSS0.Px1.p1.4.m4.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.4.m4.1b"><ci id="S2.SS2.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.4.m4.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.4.m4.1c">j</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.4.m4.1d">italic_j</annotation></semantics></math> as a sampled negative to a user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.5.m5.1"><semantics id="S2.SS2.SSS0.Px1.p1.5.m5.1a"><mi id="S2.SS2.SSS0.Px1.p1.5.m5.1.1" xref="S2.SS2.SSS0.Px1.p1.5.m5.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.5.m5.1b"><ci id="S2.SS2.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.5.m5.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.5.m5.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.5.m5.1d">italic_u</annotation></semantics></math>,
the corresponding loss is formulated as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\textrm{BPR}}=-\sum_{(u,i,j)\in\mathcal{D}_{s}}\log\sigma(\hat{s}%
_{ui}-\hat{s}_{uj})," class="ltx_Math" display="block" id="S2.E1.m1.4"><semantics id="S2.E1.m1.4a"><mrow id="S2.E1.m1.4.4.1" xref="S2.E1.m1.4.4.1.1.cmml"><mrow id="S2.E1.m1.4.4.1.1" xref="S2.E1.m1.4.4.1.1.cmml"><msub id="S2.E1.m1.4.4.1.1.3" xref="S2.E1.m1.4.4.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.4.4.1.1.3.2" xref="S2.E1.m1.4.4.1.1.3.2.cmml">ℒ</mi><mtext id="S2.E1.m1.4.4.1.1.3.3" xref="S2.E1.m1.4.4.1.1.3.3a.cmml">BPR</mtext></msub><mo id="S2.E1.m1.4.4.1.1.2" xref="S2.E1.m1.4.4.1.1.2.cmml">=</mo><mrow id="S2.E1.m1.4.4.1.1.1" xref="S2.E1.m1.4.4.1.1.1.cmml"><mo id="S2.E1.m1.4.4.1.1.1a" xref="S2.E1.m1.4.4.1.1.1.cmml">−</mo><mrow id="S2.E1.m1.4.4.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.cmml"><munder id="S2.E1.m1.4.4.1.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.1.2.cmml"><mo id="S2.E1.m1.4.4.1.1.1.1.2.2" movablelimits="false" xref="S2.E1.m1.4.4.1.1.1.1.2.2.cmml">∑</mo><mrow id="S2.E1.m1.3.3.3" xref="S2.E1.m1.3.3.3.cmml"><mrow id="S2.E1.m1.3.3.3.5.2" xref="S2.E1.m1.3.3.3.5.1.cmml"><mo id="S2.E1.m1.3.3.3.5.2.1" stretchy="false" xref="S2.E1.m1.3.3.3.5.1.cmml">(</mo><mi id="S2.E1.m1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.cmml">u</mi><mo id="S2.E1.m1.3.3.3.5.2.2" xref="S2.E1.m1.3.3.3.5.1.cmml">,</mo><mi id="S2.E1.m1.2.2.2.2" xref="S2.E1.m1.2.2.2.2.cmml">i</mi><mo id="S2.E1.m1.3.3.3.5.2.3" xref="S2.E1.m1.3.3.3.5.1.cmml">,</mo><mi id="S2.E1.m1.3.3.3.3" xref="S2.E1.m1.3.3.3.3.cmml">j</mi><mo id="S2.E1.m1.3.3.3.5.2.4" stretchy="false" xref="S2.E1.m1.3.3.3.5.1.cmml">)</mo></mrow><mo id="S2.E1.m1.3.3.3.4" xref="S2.E1.m1.3.3.3.4.cmml">∈</mo><msub id="S2.E1.m1.3.3.3.6" xref="S2.E1.m1.3.3.3.6.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E1.m1.3.3.3.6.2" xref="S2.E1.m1.3.3.3.6.2.cmml">𝒟</mi><mi id="S2.E1.m1.3.3.3.6.3" xref="S2.E1.m1.3.3.3.6.3.cmml">s</mi></msub></mrow></munder><mrow id="S2.E1.m1.4.4.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.cmml"><mrow id="S2.E1.m1.4.4.1.1.1.1.1.3" xref="S2.E1.m1.4.4.1.1.1.1.1.3.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.3.1" xref="S2.E1.m1.4.4.1.1.1.1.1.3.1.cmml">log</mi><mo id="S2.E1.m1.4.4.1.1.1.1.1.3a" lspace="0.167em" xref="S2.E1.m1.4.4.1.1.1.1.1.3.cmml">⁡</mo><mi id="S2.E1.m1.4.4.1.1.1.1.1.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.3.2.cmml">σ</mi></mrow><mo id="S2.E1.m1.4.4.1.1.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.cmml"><msub id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.cmml"><mover accent="true" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.2.cmml">u</mi><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.3.cmml">i</mi></mrow></msub><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.cmml">−</mo><msub id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.cmml"><mover accent="true" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.2.cmml">s</mi><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.1.cmml">^</mo></mover><mrow id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.2" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.2.cmml">u</mi><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.1" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.3" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.3.cmml">j</mi></mrow></msub></mrow><mo id="S2.E1.m1.4.4.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S2.E1.m1.4.4.1.2" xref="S2.E1.m1.4.4.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.4b"><apply id="S2.E1.m1.4.4.1.1.cmml" xref="S2.E1.m1.4.4.1"><eq id="S2.E1.m1.4.4.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.2"></eq><apply id="S2.E1.m1.4.4.1.1.3.cmml" xref="S2.E1.m1.4.4.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.1.1.3.1.cmml" xref="S2.E1.m1.4.4.1.1.3">subscript</csymbol><ci id="S2.E1.m1.4.4.1.1.3.2.cmml" xref="S2.E1.m1.4.4.1.1.3.2">ℒ</ci><ci id="S2.E1.m1.4.4.1.1.3.3a.cmml" xref="S2.E1.m1.4.4.1.1.3.3"><mtext id="S2.E1.m1.4.4.1.1.3.3.cmml" mathsize="70%" xref="S2.E1.m1.4.4.1.1.3.3">BPR</mtext></ci></apply><apply id="S2.E1.m1.4.4.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1"><minus id="S2.E1.m1.4.4.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1"></minus><apply id="S2.E1.m1.4.4.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1"><apply id="S2.E1.m1.4.4.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.1.1.1.1.2.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.2">subscript</csymbol><sum id="S2.E1.m1.4.4.1.1.1.1.2.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.2.2"></sum><apply id="S2.E1.m1.3.3.3.cmml" xref="S2.E1.m1.3.3.3"><in id="S2.E1.m1.3.3.3.4.cmml" xref="S2.E1.m1.3.3.3.4"></in><vector id="S2.E1.m1.3.3.3.5.1.cmml" xref="S2.E1.m1.3.3.3.5.2"><ci id="S2.E1.m1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1">𝑢</ci><ci id="S2.E1.m1.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2">𝑖</ci><ci id="S2.E1.m1.3.3.3.3.cmml" xref="S2.E1.m1.3.3.3.3">𝑗</ci></vector><apply id="S2.E1.m1.3.3.3.6.cmml" xref="S2.E1.m1.3.3.3.6"><csymbol cd="ambiguous" id="S2.E1.m1.3.3.3.6.1.cmml" xref="S2.E1.m1.3.3.3.6">subscript</csymbol><ci id="S2.E1.m1.3.3.3.6.2.cmml" xref="S2.E1.m1.3.3.3.6.2">𝒟</ci><ci id="S2.E1.m1.3.3.3.6.3.cmml" xref="S2.E1.m1.3.3.3.6.3">𝑠</ci></apply></apply></apply><apply id="S2.E1.m1.4.4.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1"><times id="S2.E1.m1.4.4.1.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.2"></times><apply id="S2.E1.m1.4.4.1.1.1.1.1.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.3"><log id="S2.E1.m1.4.4.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.3.1"></log><ci id="S2.E1.m1.4.4.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.3.2">𝜎</ci></apply><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1"><minus id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.1"></minus><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2">subscript</csymbol><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2"><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.1">^</ci><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.2.2">𝑠</ci></apply><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3"><times id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.1"></times><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.2">𝑢</ci><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3">subscript</csymbol><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2"><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.1">^</ci><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.2.2">𝑠</ci></apply><apply id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3"><times id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.1"></times><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.2">𝑢</ci><ci id="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S2.E1.m1.4.4.1.1.1.1.1.1.1.1.3.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.4c">\mathcal{L}_{\textrm{BPR}}=-\sum_{(u,i,j)\in\mathcal{D}_{s}}\log\sigma(\hat{s}%
_{ui}-\hat{s}_{uj}),</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.4d">caligraphic_L start_POSTSUBSCRIPT BPR end_POSTSUBSCRIPT = - ∑ start_POSTSUBSCRIPT ( italic_u , italic_i , italic_j ) ∈ caligraphic_D start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_log italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT - over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.SS2.SSS0.Px1.p1.10">where <math alttext="\sigma(\cdot)" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.6.m1.1"><semantics id="S2.SS2.SSS0.Px1.p1.6.m1.1a"><mrow id="S2.SS2.SSS0.Px1.p1.6.m1.1.2" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2.cmml"><mi id="S2.SS2.SSS0.Px1.p1.6.m1.1.2.2" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2.2.cmml">σ</mi><mo id="S2.SS2.SSS0.Px1.p1.6.m1.1.2.1" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2.1.cmml">⁢</mo><mrow id="S2.SS2.SSS0.Px1.p1.6.m1.1.2.3.2" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2.cmml"><mo id="S2.SS2.SSS0.Px1.p1.6.m1.1.2.3.2.1" stretchy="false" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2.cmml">(</mo><mo id="S2.SS2.SSS0.Px1.p1.6.m1.1.1" lspace="0em" rspace="0em" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.1.cmml">⋅</mo><mo id="S2.SS2.SSS0.Px1.p1.6.m1.1.2.3.2.2" stretchy="false" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.6.m1.1b"><apply id="S2.SS2.SSS0.Px1.p1.6.m1.1.2.cmml" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2"><times id="S2.SS2.SSS0.Px1.p1.6.m1.1.2.1.cmml" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2.1"></times><ci id="S2.SS2.SSS0.Px1.p1.6.m1.1.2.2.cmml" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.2.2">𝜎</ci><ci id="S2.SS2.SSS0.Px1.p1.6.m1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.6.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.6.m1.1c">\sigma(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.6.m1.1d">italic_σ ( ⋅ )</annotation></semantics></math> is a sigmoid function.
A resulting term <math alttext="\sigma(\hat{s}_{ui}-\hat{s}_{uj})" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.7.m2.1"><semantics id="S2.SS2.SSS0.Px1.p1.7.m2.1a"><mrow id="S2.SS2.SSS0.Px1.p1.7.m2.1.1" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.cmml"><mi id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.3" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.3.cmml">σ</mi><mo id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.2" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.2.cmml">⁢</mo><mrow id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.cmml"><mo id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.2" stretchy="false" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.cmml">(</mo><mrow id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.cmml"><msub id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.cmml"><mover accent="true" id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.cmml"><mi id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.2" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.1" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mrow id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.cmml"><mi id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.2" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.2.cmml">u</mi><mo id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.1" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.3" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.3.cmml">i</mi></mrow></msub><mo id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.1" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.1.cmml">−</mo><msub id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.cmml"><mover accent="true" id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.cmml"><mi id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.2" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.2.cmml">s</mi><mo id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.1" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.1.cmml">^</mo></mover><mrow id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.cmml"><mi id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.2" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.2.cmml">u</mi><mo id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.1" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.3" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.3.cmml">j</mi></mrow></msub></mrow><mo id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.3" stretchy="false" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.7.m2.1b"><apply id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1"><times id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.2.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.2"></times><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.3.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.3">𝜎</ci><apply id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1"><minus id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.1"></minus><apply id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2">subscript</csymbol><apply id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2"><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.1">^</ci><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.2.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.2.2">𝑠</ci></apply><apply id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3"><times id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.1"></times><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.2.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.2">𝑢</ci><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.3.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3">subscript</csymbol><apply id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2"><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.1">^</ci><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.2.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.2.2">𝑠</ci></apply><apply id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3"><times id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.1.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.1"></times><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.2.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.2">𝑢</ci><ci id="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.3.cmml" xref="S2.SS2.SSS0.Px1.p1.7.m2.1.1.1.1.1.3.3.3">𝑗</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.7.m2.1c">\sigma(\hat{s}_{ui}-\hat{s}_{uj})</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.7.m2.1d">italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT - over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> is the probability of a user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.8.m3.1"><semantics id="S2.SS2.SSS0.Px1.p1.8.m3.1a"><mi id="S2.SS2.SSS0.Px1.p1.8.m3.1.1" xref="S2.SS2.SSS0.Px1.p1.8.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.8.m3.1b"><ci id="S2.SS2.SSS0.Px1.p1.8.m3.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.8.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.8.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.8.m3.1d">italic_u</annotation></semantics></math> preferring an item <math alttext="i" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.9.m4.1"><semantics id="S2.SS2.SSS0.Px1.p1.9.m4.1a"><mi id="S2.SS2.SSS0.Px1.p1.9.m4.1.1" xref="S2.SS2.SSS0.Px1.p1.9.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.9.m4.1b"><ci id="S2.SS2.SSS0.Px1.p1.9.m4.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.9.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.9.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.9.m4.1d">italic_i</annotation></semantics></math> more than an item <math alttext="j" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px1.p1.10.m5.1"><semantics id="S2.SS2.SSS0.Px1.p1.10.m5.1a"><mi id="S2.SS2.SSS0.Px1.p1.10.m5.1.1" xref="S2.SS2.SSS0.Px1.p1.10.m5.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px1.p1.10.m5.1b"><ci id="S2.SS2.SSS0.Px1.p1.10.m5.1.1.cmml" xref="S2.SS2.SSS0.Px1.p1.10.m5.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px1.p1.10.m5.1c">j</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px1.p1.10.m5.1d">italic_j</annotation></semantics></math>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS2.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Pointwise Objective</h4>
<div class="ltx_para" id="S2.SS2.SSS0.Px2.p1">
<p class="ltx_p" id="S2.SS2.SSS0.Px2.p1.2">Similar to the pairwise loss form, binary cross-entropy (BCE) <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib14" title="">2018</a>)</cite> casts the recommendation problem into binary classification with a single sampled negative.
Hence with a dataset <math alttext="\mathcal{D}_{s}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px2.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px2.p1.1.m1.1a"><msub id="S2.SS2.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml">𝒟</mi><mi id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.2">𝒟</ci><ci id="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S2.SS2.SSS0.Px2.p1.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.1.m1.1c">\mathcal{D}_{s}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px2.p1.1.m1.1d">caligraphic_D start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> of a triplet <math alttext="(u,i,j)" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px2.p1.2.m2.3"><semantics id="S2.SS2.SSS0.Px2.p1.2.m2.3a"><mrow id="S2.SS2.SSS0.Px2.p1.2.m2.3.4.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.3.4.1.cmml"><mo id="S2.SS2.SSS0.Px2.p1.2.m2.3.4.2.1" stretchy="false" xref="S2.SS2.SSS0.Px2.p1.2.m2.3.4.1.cmml">(</mo><mi id="S2.SS2.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1.cmml">u</mi><mo id="S2.SS2.SSS0.Px2.p1.2.m2.3.4.2.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.3.4.1.cmml">,</mo><mi id="S2.SS2.SSS0.Px2.p1.2.m2.2.2" xref="S2.SS2.SSS0.Px2.p1.2.m2.2.2.cmml">i</mi><mo id="S2.SS2.SSS0.Px2.p1.2.m2.3.4.2.3" xref="S2.SS2.SSS0.Px2.p1.2.m2.3.4.1.cmml">,</mo><mi id="S2.SS2.SSS0.Px2.p1.2.m2.3.3" xref="S2.SS2.SSS0.Px2.p1.2.m2.3.3.cmml">j</mi><mo id="S2.SS2.SSS0.Px2.p1.2.m2.3.4.2.4" stretchy="false" xref="S2.SS2.SSS0.Px2.p1.2.m2.3.4.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px2.p1.2.m2.3b"><vector id="S2.SS2.SSS0.Px2.p1.2.m2.3.4.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.3.4.2"><ci id="S2.SS2.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.1.1">𝑢</ci><ci id="S2.SS2.SSS0.Px2.p1.2.m2.2.2.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.2.2">𝑖</ci><ci id="S2.SS2.SSS0.Px2.p1.2.m2.3.3.cmml" xref="S2.SS2.SSS0.Px2.p1.2.m2.3.3">𝑗</ci></vector></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px2.p1.2.m2.3c">(u,i,j)</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px2.p1.2.m2.3d">( italic_u , italic_i , italic_j )</annotation></semantics></math>, the loss is defined as below:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\textrm{BCE}}=-\sum_{(u,i,j)\in\mathcal{D}_{s}}\log(\sigma(\hat{s%
}_{ui}))+\log(1-\sigma(\hat{s}_{uj}))." class="ltx_Math" display="block" id="S2.E2.m1.6"><semantics id="S2.E2.m1.6a"><mrow id="S2.E2.m1.6.6.1" xref="S2.E2.m1.6.6.1.1.cmml"><mrow id="S2.E2.m1.6.6.1.1" xref="S2.E2.m1.6.6.1.1.cmml"><msub id="S2.E2.m1.6.6.1.1.4" xref="S2.E2.m1.6.6.1.1.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.6.6.1.1.4.2" xref="S2.E2.m1.6.6.1.1.4.2.cmml">ℒ</mi><mtext id="S2.E2.m1.6.6.1.1.4.3" xref="S2.E2.m1.6.6.1.1.4.3a.cmml">BCE</mtext></msub><mo id="S2.E2.m1.6.6.1.1.3" xref="S2.E2.m1.6.6.1.1.3.cmml">=</mo><mrow id="S2.E2.m1.6.6.1.1.2" xref="S2.E2.m1.6.6.1.1.2.cmml"><mrow id="S2.E2.m1.6.6.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.cmml"><mo id="S2.E2.m1.6.6.1.1.1.1a" xref="S2.E2.m1.6.6.1.1.1.1.cmml">−</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.cmml"><munder id="S2.E2.m1.6.6.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.1.2.cmml"><mo id="S2.E2.m1.6.6.1.1.1.1.1.2.2" movablelimits="false" xref="S2.E2.m1.6.6.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="S2.E2.m1.3.3.3" xref="S2.E2.m1.3.3.3.cmml"><mrow id="S2.E2.m1.3.3.3.5.2" xref="S2.E2.m1.3.3.3.5.1.cmml"><mo id="S2.E2.m1.3.3.3.5.2.1" stretchy="false" xref="S2.E2.m1.3.3.3.5.1.cmml">(</mo><mi id="S2.E2.m1.1.1.1.1" xref="S2.E2.m1.1.1.1.1.cmml">u</mi><mo id="S2.E2.m1.3.3.3.5.2.2" xref="S2.E2.m1.3.3.3.5.1.cmml">,</mo><mi id="S2.E2.m1.2.2.2.2" xref="S2.E2.m1.2.2.2.2.cmml">i</mi><mo id="S2.E2.m1.3.3.3.5.2.3" xref="S2.E2.m1.3.3.3.5.1.cmml">,</mo><mi id="S2.E2.m1.3.3.3.3" xref="S2.E2.m1.3.3.3.3.cmml">j</mi><mo id="S2.E2.m1.3.3.3.5.2.4" stretchy="false" xref="S2.E2.m1.3.3.3.5.1.cmml">)</mo></mrow><mo id="S2.E2.m1.3.3.3.4" xref="S2.E2.m1.3.3.3.4.cmml">∈</mo><msub id="S2.E2.m1.3.3.3.6" xref="S2.E2.m1.3.3.3.6.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E2.m1.3.3.3.6.2" xref="S2.E2.m1.3.3.3.6.2.cmml">𝒟</mi><mi id="S2.E2.m1.3.3.3.6.3" xref="S2.E2.m1.3.3.3.6.3.cmml">s</mi></msub></mrow></munder><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.2.cmml"><mi id="S2.E2.m1.4.4" xref="S2.E2.m1.4.4.cmml">log</mi><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1a" xref="S2.E2.m1.6.6.1.1.1.1.1.1.2.cmml">⁡</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.2.cmml"><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E2.m1.6.6.1.1.1.1.1.1.2.cmml">(</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml">σ</mi><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">u</mi><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.1" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></mrow></msub><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E2.m1.6.6.1.1.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.6.6.1.1.2.3" xref="S2.E2.m1.6.6.1.1.2.3.cmml">+</mo><mrow id="S2.E2.m1.6.6.1.1.2.2.1" xref="S2.E2.m1.6.6.1.1.2.2.2.cmml"><mi id="S2.E2.m1.5.5" xref="S2.E2.m1.5.5.cmml">log</mi><mo id="S2.E2.m1.6.6.1.1.2.2.1a" xref="S2.E2.m1.6.6.1.1.2.2.2.cmml">⁡</mo><mrow id="S2.E2.m1.6.6.1.1.2.2.1.1" xref="S2.E2.m1.6.6.1.1.2.2.2.cmml"><mo id="S2.E2.m1.6.6.1.1.2.2.1.1.2" stretchy="false" xref="S2.E2.m1.6.6.1.1.2.2.2.cmml">(</mo><mrow id="S2.E2.m1.6.6.1.1.2.2.1.1.1" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.cmml"><mn id="S2.E2.m1.6.6.1.1.2.2.1.1.1.3" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.3.cmml">1</mn><mo id="S2.E2.m1.6.6.1.1.2.2.1.1.1.2" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.2.cmml">−</mo><mrow id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.cmml"><mi id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.3.cmml">σ</mi><mo id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.cmml"><mo id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.2" stretchy="false" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.cmml">(</mo><msub id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.2" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.2.cmml">s</mi><mo id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.1" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.2" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.2.cmml">u</mi><mo id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.1" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.3" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.3" stretchy="false" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S2.E2.m1.6.6.1.1.2.2.1.1.3" stretchy="false" xref="S2.E2.m1.6.6.1.1.2.2.2.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S2.E2.m1.6.6.1.2" lspace="0em" xref="S2.E2.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.6b"><apply id="S2.E2.m1.6.6.1.1.cmml" xref="S2.E2.m1.6.6.1"><eq id="S2.E2.m1.6.6.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.3"></eq><apply id="S2.E2.m1.6.6.1.1.4.cmml" xref="S2.E2.m1.6.6.1.1.4"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.4.1.cmml" xref="S2.E2.m1.6.6.1.1.4">subscript</csymbol><ci id="S2.E2.m1.6.6.1.1.4.2.cmml" xref="S2.E2.m1.6.6.1.1.4.2">ℒ</ci><ci id="S2.E2.m1.6.6.1.1.4.3a.cmml" xref="S2.E2.m1.6.6.1.1.4.3"><mtext id="S2.E2.m1.6.6.1.1.4.3.cmml" mathsize="70%" xref="S2.E2.m1.6.6.1.1.4.3">BCE</mtext></ci></apply><apply id="S2.E2.m1.6.6.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.2"><plus id="S2.E2.m1.6.6.1.1.2.3.cmml" xref="S2.E2.m1.6.6.1.1.2.3"></plus><apply id="S2.E2.m1.6.6.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1"><minus id="S2.E2.m1.6.6.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1"></minus><apply id="S2.E2.m1.6.6.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1"><apply id="S2.E2.m1.6.6.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.2">subscript</csymbol><sum id="S2.E2.m1.6.6.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.2.2"></sum><apply id="S2.E2.m1.3.3.3.cmml" xref="S2.E2.m1.3.3.3"><in id="S2.E2.m1.3.3.3.4.cmml" xref="S2.E2.m1.3.3.3.4"></in><vector id="S2.E2.m1.3.3.3.5.1.cmml" xref="S2.E2.m1.3.3.3.5.2"><ci id="S2.E2.m1.1.1.1.1.cmml" xref="S2.E2.m1.1.1.1.1">𝑢</ci><ci id="S2.E2.m1.2.2.2.2.cmml" xref="S2.E2.m1.2.2.2.2">𝑖</ci><ci id="S2.E2.m1.3.3.3.3.cmml" xref="S2.E2.m1.3.3.3.3">𝑗</ci></vector><apply id="S2.E2.m1.3.3.3.6.cmml" xref="S2.E2.m1.3.3.3.6"><csymbol cd="ambiguous" id="S2.E2.m1.3.3.3.6.1.cmml" xref="S2.E2.m1.3.3.3.6">subscript</csymbol><ci id="S2.E2.m1.3.3.3.6.2.cmml" xref="S2.E2.m1.3.3.3.6.2">𝒟</ci><ci id="S2.E2.m1.3.3.3.6.3.cmml" xref="S2.E2.m1.3.3.3.6.3">𝑠</ci></apply></apply></apply><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1"><log id="S2.E2.m1.4.4.cmml" xref="S2.E2.m1.4.4"></log><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1"><times id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.2"></times><ci id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.3">𝜎</ci><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2"><ci id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.1">^</ci><ci id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑠</ci></apply><apply id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3"><times id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.1"></times><ci id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑢</ci><ci id="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.6.6.1.1.1.1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></apply></apply></apply><apply id="S2.E2.m1.6.6.1.1.2.2.2.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1"><log id="S2.E2.m1.5.5.cmml" xref="S2.E2.m1.5.5"></log><apply id="S2.E2.m1.6.6.1.1.2.2.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1"><minus id="S2.E2.m1.6.6.1.1.2.2.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.2"></minus><cn id="S2.E2.m1.6.6.1.1.2.2.1.1.1.3.cmml" type="integer" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.3">1</cn><apply id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1"><times id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.2"></times><ci id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.3">𝜎</ci><apply id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1">subscript</csymbol><apply id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2"><ci id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.1">^</ci><ci id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.2.2">𝑠</ci></apply><apply id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3"><times id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.1"></times><ci id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.2">𝑢</ci><ci id="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S2.E2.m1.6.6.1.1.2.2.1.1.1.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.6c">\mathcal{L}_{\textrm{BCE}}=-\sum_{(u,i,j)\in\mathcal{D}_{s}}\log(\sigma(\hat{s%
}_{ui}))+\log(1-\sigma(\hat{s}_{uj})).</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.6d">caligraphic_L start_POSTSUBSCRIPT BCE end_POSTSUBSCRIPT = - ∑ start_POSTSUBSCRIPT ( italic_u , italic_i , italic_j ) ∈ caligraphic_D start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_log ( italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT ) ) + roman_log ( 1 - italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</section>
<section class="ltx_paragraph" id="S2.SS2.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Setwise Objective</h4>
<div class="ltx_para" id="S2.SS2.SSS0.Px3.p1">
<p class="ltx_p" id="S2.SS2.SSS0.Px3.p1.5">The sampled softmax loss (SSM) <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib30" title="">2024</a>)</cite> turns the problem into a multi-class classification with a finite number of sampled negatives.
With a dataset <math alttext="\mathcal{D}_{m}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.1.m1.1"><semantics id="S2.SS2.SSS0.Px3.p1.1.m1.1a"><msub id="S2.SS2.SSS0.Px3.p1.1.m1.1.1" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml">𝒟</mi><mi id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.3" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.3.cmml">m</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.1.m1.1b"><apply id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.2">𝒟</ci><ci id="S2.SS2.SSS0.Px3.p1.1.m1.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.1.m1.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.1.m1.1c">\mathcal{D}_{m}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.1.m1.1d">caligraphic_D start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> of a triplet <math alttext="(u,i,\mathcal{N}_{j})" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.2.m2.3"><semantics id="S2.SS2.SSS0.Px3.p1.2.m2.3a"><mrow id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.2.cmml"><mo id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.2" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.2.cmml">(</mo><mi id="S2.SS2.SSS0.Px3.p1.2.m2.1.1" xref="S2.SS2.SSS0.Px3.p1.2.m2.1.1.cmml">u</mi><mo id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.3" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.2.cmml">,</mo><mi id="S2.SS2.SSS0.Px3.p1.2.m2.2.2" xref="S2.SS2.SSS0.Px3.p1.2.m2.2.2.cmml">i</mi><mo id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.4" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.2.cmml">,</mo><msub id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.2" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.2.cmml">𝒩</mi><mi id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.3" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.3.cmml">j</mi></msub><mo id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.5" stretchy="false" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.2.m2.3b"><vector id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.2.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1"><ci id="S2.SS2.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.1.1">𝑢</ci><ci id="S2.SS2.SSS0.Px3.p1.2.m2.2.2.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.2.2">𝑖</ci><apply id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.2">𝒩</ci><ci id="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.2.m2.3.3.1.1.3">𝑗</ci></apply></vector></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.2.m2.3c">(u,i,\mathcal{N}_{j})</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.2.m2.3d">( italic_u , italic_i , caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> consisting of the positive <math alttext="i" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.3.m3.1"><semantics id="S2.SS2.SSS0.Px3.p1.3.m3.1a"><mi id="S2.SS2.SSS0.Px3.p1.3.m3.1.1" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.3.m3.1b"><ci id="S2.SS2.SSS0.Px3.p1.3.m3.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.3.m3.1c">i</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.3.m3.1d">italic_i</annotation></semantics></math> and a set of multiple negative samples <math alttext="\mathcal{N}_{j}" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.4.m4.1"><semantics id="S2.SS2.SSS0.Px3.p1.4.m4.1a"><msub id="S2.SS2.SSS0.Px3.p1.4.m4.1.1" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml">𝒩</mi><mi id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.4.m4.1b"><apply id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.2">𝒩</ci><ci id="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3.cmml" xref="S2.SS2.SSS0.Px3.p1.4.m4.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.4.m4.1c">\mathcal{N}_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.4.m4.1d">caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> to the user <math alttext="u" class="ltx_Math" display="inline" id="S2.SS2.SSS0.Px3.p1.5.m5.1"><semantics id="S2.SS2.SSS0.Px3.p1.5.m5.1a"><mi id="S2.SS2.SSS0.Px3.p1.5.m5.1.1" xref="S2.SS2.SSS0.Px3.p1.5.m5.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S2.SS2.SSS0.Px3.p1.5.m5.1b"><ci id="S2.SS2.SSS0.Px3.p1.5.m5.1.1.cmml" xref="S2.SS2.SSS0.Px3.p1.5.m5.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS2.SSS0.Px3.p1.5.m5.1c">u</annotation><annotation encoding="application/x-llamapun" id="S2.SS2.SSS0.Px3.p1.5.m5.1d">italic_u</annotation></semantics></math>, the loss optimizes the probability of the positive as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\textrm{SSM}}=-\sum_{(u,i,\mathcal{N}_{j})\in\mathcal{D}_{m}}\log%
\frac{\exp(\hat{s}_{ui})}{\exp(\hat{s}_{ui})+\sum_{j\in\mathcal{N}_{j}}\exp(%
\hat{s}_{uj})}." class="ltx_Math" display="block" id="S2.E3.m1.10"><semantics id="S2.E3.m1.10a"><mrow id="S2.E3.m1.10.10.1" xref="S2.E3.m1.10.10.1.1.cmml"><mrow id="S2.E3.m1.10.10.1.1" xref="S2.E3.m1.10.10.1.1.cmml"><msub id="S2.E3.m1.10.10.1.1.2" xref="S2.E3.m1.10.10.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.10.10.1.1.2.2" xref="S2.E3.m1.10.10.1.1.2.2.cmml">ℒ</mi><mtext id="S2.E3.m1.10.10.1.1.2.3" xref="S2.E3.m1.10.10.1.1.2.3a.cmml">SSM</mtext></msub><mo id="S2.E3.m1.10.10.1.1.1" xref="S2.E3.m1.10.10.1.1.1.cmml">=</mo><mrow id="S2.E3.m1.10.10.1.1.3" xref="S2.E3.m1.10.10.1.1.3.cmml"><mo id="S2.E3.m1.10.10.1.1.3a" xref="S2.E3.m1.10.10.1.1.3.cmml">−</mo><mrow id="S2.E3.m1.10.10.1.1.3.2" xref="S2.E3.m1.10.10.1.1.3.2.cmml"><munder id="S2.E3.m1.10.10.1.1.3.2.1" xref="S2.E3.m1.10.10.1.1.3.2.1.cmml"><mo id="S2.E3.m1.10.10.1.1.3.2.1.2" movablelimits="false" xref="S2.E3.m1.10.10.1.1.3.2.1.2.cmml">∑</mo><mrow id="S2.E3.m1.3.3.3" xref="S2.E3.m1.3.3.3.cmml"><mrow id="S2.E3.m1.3.3.3.3.1" xref="S2.E3.m1.3.3.3.3.2.cmml"><mo id="S2.E3.m1.3.3.3.3.1.2" stretchy="false" xref="S2.E3.m1.3.3.3.3.2.cmml">(</mo><mi id="S2.E3.m1.1.1.1.1" xref="S2.E3.m1.1.1.1.1.cmml">u</mi><mo id="S2.E3.m1.3.3.3.3.1.3" xref="S2.E3.m1.3.3.3.3.2.cmml">,</mo><mi id="S2.E3.m1.2.2.2.2" xref="S2.E3.m1.2.2.2.2.cmml">i</mi><mo id="S2.E3.m1.3.3.3.3.1.4" xref="S2.E3.m1.3.3.3.3.2.cmml">,</mo><msub id="S2.E3.m1.3.3.3.3.1.1" xref="S2.E3.m1.3.3.3.3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.3.3.3.3.1.1.2" xref="S2.E3.m1.3.3.3.3.1.1.2.cmml">𝒩</mi><mi id="S2.E3.m1.3.3.3.3.1.1.3" xref="S2.E3.m1.3.3.3.3.1.1.3.cmml">j</mi></msub><mo id="S2.E3.m1.3.3.3.3.1.5" stretchy="false" xref="S2.E3.m1.3.3.3.3.2.cmml">)</mo></mrow><mo id="S2.E3.m1.3.3.3.4" xref="S2.E3.m1.3.3.3.4.cmml">∈</mo><msub id="S2.E3.m1.3.3.3.5" xref="S2.E3.m1.3.3.3.5.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.3.3.3.5.2" xref="S2.E3.m1.3.3.3.5.2.cmml">𝒟</mi><mi id="S2.E3.m1.3.3.3.5.3" xref="S2.E3.m1.3.3.3.5.3.cmml">m</mi></msub></mrow></munder><mrow id="S2.E3.m1.10.10.1.1.3.2.2" xref="S2.E3.m1.10.10.1.1.3.2.2.cmml"><mi id="S2.E3.m1.10.10.1.1.3.2.2.1" xref="S2.E3.m1.10.10.1.1.3.2.2.1.cmml">log</mi><mo id="S2.E3.m1.10.10.1.1.3.2.2a" lspace="0.167em" xref="S2.E3.m1.10.10.1.1.3.2.2.cmml">⁡</mo><mfrac id="S2.E3.m1.9.9" xref="S2.E3.m1.9.9.cmml"><mrow id="S2.E3.m1.5.5.2.2" xref="S2.E3.m1.5.5.2.3.cmml"><mi id="S2.E3.m1.4.4.1.1" xref="S2.E3.m1.4.4.1.1.cmml">exp</mi><mo id="S2.E3.m1.5.5.2.2a" xref="S2.E3.m1.5.5.2.3.cmml">⁡</mo><mrow id="S2.E3.m1.5.5.2.2.1" xref="S2.E3.m1.5.5.2.3.cmml"><mo id="S2.E3.m1.5.5.2.2.1.2" stretchy="false" xref="S2.E3.m1.5.5.2.3.cmml">(</mo><msub id="S2.E3.m1.5.5.2.2.1.1" xref="S2.E3.m1.5.5.2.2.1.1.cmml"><mover accent="true" id="S2.E3.m1.5.5.2.2.1.1.2" xref="S2.E3.m1.5.5.2.2.1.1.2.cmml"><mi id="S2.E3.m1.5.5.2.2.1.1.2.2" xref="S2.E3.m1.5.5.2.2.1.1.2.2.cmml">s</mi><mo id="S2.E3.m1.5.5.2.2.1.1.2.1" xref="S2.E3.m1.5.5.2.2.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E3.m1.5.5.2.2.1.1.3" xref="S2.E3.m1.5.5.2.2.1.1.3.cmml"><mi id="S2.E3.m1.5.5.2.2.1.1.3.2" xref="S2.E3.m1.5.5.2.2.1.1.3.2.cmml">u</mi><mo id="S2.E3.m1.5.5.2.2.1.1.3.1" xref="S2.E3.m1.5.5.2.2.1.1.3.1.cmml">⁢</mo><mi id="S2.E3.m1.5.5.2.2.1.1.3.3" xref="S2.E3.m1.5.5.2.2.1.1.3.3.cmml">i</mi></mrow></msub><mo id="S2.E3.m1.5.5.2.2.1.3" stretchy="false" xref="S2.E3.m1.5.5.2.3.cmml">)</mo></mrow></mrow><mrow id="S2.E3.m1.9.9.6" xref="S2.E3.m1.9.9.6.cmml"><mrow id="S2.E3.m1.8.8.5.3.1" xref="S2.E3.m1.8.8.5.3.2.cmml"><mi id="S2.E3.m1.6.6.3.1" xref="S2.E3.m1.6.6.3.1.cmml">exp</mi><mo id="S2.E3.m1.8.8.5.3.1a" xref="S2.E3.m1.8.8.5.3.2.cmml">⁡</mo><mrow id="S2.E3.m1.8.8.5.3.1.1" xref="S2.E3.m1.8.8.5.3.2.cmml"><mo id="S2.E3.m1.8.8.5.3.1.1.2" stretchy="false" xref="S2.E3.m1.8.8.5.3.2.cmml">(</mo><msub id="S2.E3.m1.8.8.5.3.1.1.1" xref="S2.E3.m1.8.8.5.3.1.1.1.cmml"><mover accent="true" id="S2.E3.m1.8.8.5.3.1.1.1.2" xref="S2.E3.m1.8.8.5.3.1.1.1.2.cmml"><mi id="S2.E3.m1.8.8.5.3.1.1.1.2.2" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2.cmml">s</mi><mo id="S2.E3.m1.8.8.5.3.1.1.1.2.1" xref="S2.E3.m1.8.8.5.3.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E3.m1.8.8.5.3.1.1.1.3" xref="S2.E3.m1.8.8.5.3.1.1.1.3.cmml"><mi id="S2.E3.m1.8.8.5.3.1.1.1.3.2" xref="S2.E3.m1.8.8.5.3.1.1.1.3.2.cmml">u</mi><mo id="S2.E3.m1.8.8.5.3.1.1.1.3.1" xref="S2.E3.m1.8.8.5.3.1.1.1.3.1.cmml">⁢</mo><mi id="S2.E3.m1.8.8.5.3.1.1.1.3.3" xref="S2.E3.m1.8.8.5.3.1.1.1.3.3.cmml">i</mi></mrow></msub><mo id="S2.E3.m1.8.8.5.3.1.1.3" stretchy="false" xref="S2.E3.m1.8.8.5.3.2.cmml">)</mo></mrow></mrow><mo id="S2.E3.m1.9.9.6.5" rspace="0.055em" xref="S2.E3.m1.9.9.6.5.cmml">+</mo><mrow id="S2.E3.m1.9.9.6.4" xref="S2.E3.m1.9.9.6.4.cmml"><msub id="S2.E3.m1.9.9.6.4.2" xref="S2.E3.m1.9.9.6.4.2.cmml"><mo id="S2.E3.m1.9.9.6.4.2.2" xref="S2.E3.m1.9.9.6.4.2.2.cmml">∑</mo><mrow id="S2.E3.m1.9.9.6.4.2.3" xref="S2.E3.m1.9.9.6.4.2.3.cmml"><mi id="S2.E3.m1.9.9.6.4.2.3.2" xref="S2.E3.m1.9.9.6.4.2.3.2.cmml">j</mi><mo id="S2.E3.m1.9.9.6.4.2.3.1" xref="S2.E3.m1.9.9.6.4.2.3.1.cmml">∈</mo><msub id="S2.E3.m1.9.9.6.4.2.3.3" xref="S2.E3.m1.9.9.6.4.2.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S2.E3.m1.9.9.6.4.2.3.3.2" xref="S2.E3.m1.9.9.6.4.2.3.3.2.cmml">𝒩</mi><mi id="S2.E3.m1.9.9.6.4.2.3.3.3" xref="S2.E3.m1.9.9.6.4.2.3.3.3.cmml">j</mi></msub></mrow></msub><mrow id="S2.E3.m1.9.9.6.4.1.1" xref="S2.E3.m1.9.9.6.4.1.2.cmml"><mi id="S2.E3.m1.7.7.4.2" xref="S2.E3.m1.7.7.4.2.cmml">exp</mi><mo id="S2.E3.m1.9.9.6.4.1.1a" xref="S2.E3.m1.9.9.6.4.1.2.cmml">⁡</mo><mrow id="S2.E3.m1.9.9.6.4.1.1.1" xref="S2.E3.m1.9.9.6.4.1.2.cmml"><mo id="S2.E3.m1.9.9.6.4.1.1.1.2" stretchy="false" xref="S2.E3.m1.9.9.6.4.1.2.cmml">(</mo><msub id="S2.E3.m1.9.9.6.4.1.1.1.1" xref="S2.E3.m1.9.9.6.4.1.1.1.1.cmml"><mover accent="true" id="S2.E3.m1.9.9.6.4.1.1.1.1.2" xref="S2.E3.m1.9.9.6.4.1.1.1.1.2.cmml"><mi id="S2.E3.m1.9.9.6.4.1.1.1.1.2.2" xref="S2.E3.m1.9.9.6.4.1.1.1.1.2.2.cmml">s</mi><mo id="S2.E3.m1.9.9.6.4.1.1.1.1.2.1" xref="S2.E3.m1.9.9.6.4.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S2.E3.m1.9.9.6.4.1.1.1.1.3" xref="S2.E3.m1.9.9.6.4.1.1.1.1.3.cmml"><mi id="S2.E3.m1.9.9.6.4.1.1.1.1.3.2" xref="S2.E3.m1.9.9.6.4.1.1.1.1.3.2.cmml">u</mi><mo id="S2.E3.m1.9.9.6.4.1.1.1.1.3.1" xref="S2.E3.m1.9.9.6.4.1.1.1.1.3.1.cmml">⁢</mo><mi id="S2.E3.m1.9.9.6.4.1.1.1.1.3.3" xref="S2.E3.m1.9.9.6.4.1.1.1.1.3.3.cmml">j</mi></mrow></msub><mo id="S2.E3.m1.9.9.6.4.1.1.1.3" stretchy="false" xref="S2.E3.m1.9.9.6.4.1.2.cmml">)</mo></mrow></mrow></mrow></mrow></mfrac></mrow></mrow></mrow></mrow><mo id="S2.E3.m1.10.10.1.2" lspace="0em" xref="S2.E3.m1.10.10.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S2.E3.m1.10b"><apply id="S2.E3.m1.10.10.1.1.cmml" xref="S2.E3.m1.10.10.1"><eq id="S2.E3.m1.10.10.1.1.1.cmml" xref="S2.E3.m1.10.10.1.1.1"></eq><apply id="S2.E3.m1.10.10.1.1.2.cmml" xref="S2.E3.m1.10.10.1.1.2"><csymbol cd="ambiguous" id="S2.E3.m1.10.10.1.1.2.1.cmml" xref="S2.E3.m1.10.10.1.1.2">subscript</csymbol><ci id="S2.E3.m1.10.10.1.1.2.2.cmml" xref="S2.E3.m1.10.10.1.1.2.2">ℒ</ci><ci id="S2.E3.m1.10.10.1.1.2.3a.cmml" xref="S2.E3.m1.10.10.1.1.2.3"><mtext id="S2.E3.m1.10.10.1.1.2.3.cmml" mathsize="70%" xref="S2.E3.m1.10.10.1.1.2.3">SSM</mtext></ci></apply><apply id="S2.E3.m1.10.10.1.1.3.cmml" xref="S2.E3.m1.10.10.1.1.3"><minus id="S2.E3.m1.10.10.1.1.3.1.cmml" xref="S2.E3.m1.10.10.1.1.3"></minus><apply id="S2.E3.m1.10.10.1.1.3.2.cmml" xref="S2.E3.m1.10.10.1.1.3.2"><apply id="S2.E3.m1.10.10.1.1.3.2.1.cmml" xref="S2.E3.m1.10.10.1.1.3.2.1"><csymbol cd="ambiguous" id="S2.E3.m1.10.10.1.1.3.2.1.1.cmml" xref="S2.E3.m1.10.10.1.1.3.2.1">subscript</csymbol><sum id="S2.E3.m1.10.10.1.1.3.2.1.2.cmml" xref="S2.E3.m1.10.10.1.1.3.2.1.2"></sum><apply id="S2.E3.m1.3.3.3.cmml" xref="S2.E3.m1.3.3.3"><in id="S2.E3.m1.3.3.3.4.cmml" xref="S2.E3.m1.3.3.3.4"></in><vector id="S2.E3.m1.3.3.3.3.2.cmml" xref="S2.E3.m1.3.3.3.3.1"><ci id="S2.E3.m1.1.1.1.1.cmml" xref="S2.E3.m1.1.1.1.1">𝑢</ci><ci id="S2.E3.m1.2.2.2.2.cmml" xref="S2.E3.m1.2.2.2.2">𝑖</ci><apply id="S2.E3.m1.3.3.3.3.1.1.cmml" xref="S2.E3.m1.3.3.3.3.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.3.3.3.3.1.1.1.cmml" xref="S2.E3.m1.3.3.3.3.1.1">subscript</csymbol><ci id="S2.E3.m1.3.3.3.3.1.1.2.cmml" xref="S2.E3.m1.3.3.3.3.1.1.2">𝒩</ci><ci id="S2.E3.m1.3.3.3.3.1.1.3.cmml" xref="S2.E3.m1.3.3.3.3.1.1.3">𝑗</ci></apply></vector><apply id="S2.E3.m1.3.3.3.5.cmml" xref="S2.E3.m1.3.3.3.5"><csymbol cd="ambiguous" id="S2.E3.m1.3.3.3.5.1.cmml" xref="S2.E3.m1.3.3.3.5">subscript</csymbol><ci id="S2.E3.m1.3.3.3.5.2.cmml" xref="S2.E3.m1.3.3.3.5.2">𝒟</ci><ci id="S2.E3.m1.3.3.3.5.3.cmml" xref="S2.E3.m1.3.3.3.5.3">𝑚</ci></apply></apply></apply><apply id="S2.E3.m1.10.10.1.1.3.2.2.cmml" xref="S2.E3.m1.10.10.1.1.3.2.2"><log id="S2.E3.m1.10.10.1.1.3.2.2.1.cmml" xref="S2.E3.m1.10.10.1.1.3.2.2.1"></log><apply id="S2.E3.m1.9.9.cmml" xref="S2.E3.m1.9.9"><divide id="S2.E3.m1.9.9.7.cmml" xref="S2.E3.m1.9.9"></divide><apply id="S2.E3.m1.5.5.2.3.cmml" xref="S2.E3.m1.5.5.2.2"><exp id="S2.E3.m1.4.4.1.1.cmml" xref="S2.E3.m1.4.4.1.1"></exp><apply id="S2.E3.m1.5.5.2.2.1.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.5.5.2.2.1.1.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1">subscript</csymbol><apply id="S2.E3.m1.5.5.2.2.1.1.2.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2"><ci id="S2.E3.m1.5.5.2.2.1.1.2.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.1">^</ci><ci id="S2.E3.m1.5.5.2.2.1.1.2.2.cmml" xref="S2.E3.m1.5.5.2.2.1.1.2.2">𝑠</ci></apply><apply id="S2.E3.m1.5.5.2.2.1.1.3.cmml" xref="S2.E3.m1.5.5.2.2.1.1.3"><times id="S2.E3.m1.5.5.2.2.1.1.3.1.cmml" xref="S2.E3.m1.5.5.2.2.1.1.3.1"></times><ci id="S2.E3.m1.5.5.2.2.1.1.3.2.cmml" xref="S2.E3.m1.5.5.2.2.1.1.3.2">𝑢</ci><ci id="S2.E3.m1.5.5.2.2.1.1.3.3.cmml" xref="S2.E3.m1.5.5.2.2.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S2.E3.m1.9.9.6.cmml" xref="S2.E3.m1.9.9.6"><plus id="S2.E3.m1.9.9.6.5.cmml" xref="S2.E3.m1.9.9.6.5"></plus><apply id="S2.E3.m1.8.8.5.3.2.cmml" xref="S2.E3.m1.8.8.5.3.1"><exp id="S2.E3.m1.6.6.3.1.cmml" xref="S2.E3.m1.6.6.3.1"></exp><apply id="S2.E3.m1.8.8.5.3.1.1.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.8.8.5.3.1.1.1.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1">subscript</csymbol><apply id="S2.E3.m1.8.8.5.3.1.1.1.2.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2"><ci id="S2.E3.m1.8.8.5.3.1.1.1.2.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.1">^</ci><ci id="S2.E3.m1.8.8.5.3.1.1.1.2.2.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.2.2">𝑠</ci></apply><apply id="S2.E3.m1.8.8.5.3.1.1.1.3.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.3"><times id="S2.E3.m1.8.8.5.3.1.1.1.3.1.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.3.1"></times><ci id="S2.E3.m1.8.8.5.3.1.1.1.3.2.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.3.2">𝑢</ci><ci id="S2.E3.m1.8.8.5.3.1.1.1.3.3.cmml" xref="S2.E3.m1.8.8.5.3.1.1.1.3.3">𝑖</ci></apply></apply></apply><apply id="S2.E3.m1.9.9.6.4.cmml" xref="S2.E3.m1.9.9.6.4"><apply id="S2.E3.m1.9.9.6.4.2.cmml" xref="S2.E3.m1.9.9.6.4.2"><csymbol cd="ambiguous" id="S2.E3.m1.9.9.6.4.2.1.cmml" xref="S2.E3.m1.9.9.6.4.2">subscript</csymbol><sum id="S2.E3.m1.9.9.6.4.2.2.cmml" xref="S2.E3.m1.9.9.6.4.2.2"></sum><apply id="S2.E3.m1.9.9.6.4.2.3.cmml" xref="S2.E3.m1.9.9.6.4.2.3"><in id="S2.E3.m1.9.9.6.4.2.3.1.cmml" xref="S2.E3.m1.9.9.6.4.2.3.1"></in><ci id="S2.E3.m1.9.9.6.4.2.3.2.cmml" xref="S2.E3.m1.9.9.6.4.2.3.2">𝑗</ci><apply id="S2.E3.m1.9.9.6.4.2.3.3.cmml" xref="S2.E3.m1.9.9.6.4.2.3.3"><csymbol cd="ambiguous" id="S2.E3.m1.9.9.6.4.2.3.3.1.cmml" xref="S2.E3.m1.9.9.6.4.2.3.3">subscript</csymbol><ci id="S2.E3.m1.9.9.6.4.2.3.3.2.cmml" xref="S2.E3.m1.9.9.6.4.2.3.3.2">𝒩</ci><ci id="S2.E3.m1.9.9.6.4.2.3.3.3.cmml" xref="S2.E3.m1.9.9.6.4.2.3.3.3">𝑗</ci></apply></apply></apply><apply id="S2.E3.m1.9.9.6.4.1.2.cmml" xref="S2.E3.m1.9.9.6.4.1.1"><exp id="S2.E3.m1.7.7.4.2.cmml" xref="S2.E3.m1.7.7.4.2"></exp><apply id="S2.E3.m1.9.9.6.4.1.1.1.1.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1"><csymbol cd="ambiguous" id="S2.E3.m1.9.9.6.4.1.1.1.1.1.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1">subscript</csymbol><apply id="S2.E3.m1.9.9.6.4.1.1.1.1.2.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1.2"><ci id="S2.E3.m1.9.9.6.4.1.1.1.1.2.1.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1.2.1">^</ci><ci id="S2.E3.m1.9.9.6.4.1.1.1.1.2.2.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1.2.2">𝑠</ci></apply><apply id="S2.E3.m1.9.9.6.4.1.1.1.1.3.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1.3"><times id="S2.E3.m1.9.9.6.4.1.1.1.1.3.1.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1.3.1"></times><ci id="S2.E3.m1.9.9.6.4.1.1.1.1.3.2.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1.3.2">𝑢</ci><ci id="S2.E3.m1.9.9.6.4.1.1.1.1.3.3.cmml" xref="S2.E3.m1.9.9.6.4.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E3.m1.10c">\mathcal{L}_{\textrm{SSM}}=-\sum_{(u,i,\mathcal{N}_{j})\in\mathcal{D}_{m}}\log%
\frac{\exp(\hat{s}_{ui})}{\exp(\hat{s}_{ui})+\sum_{j\in\mathcal{N}_{j}}\exp(%
\hat{s}_{uj})}.</annotation><annotation encoding="application/x-llamapun" id="S2.E3.m1.10d">caligraphic_L start_POSTSUBSCRIPT SSM end_POSTSUBSCRIPT = - ∑ start_POSTSUBSCRIPT ( italic_u , italic_i , caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ) ∈ caligraphic_D start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_log divide start_ARG roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT ) + ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) end_ARG .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<figure class="ltx_table" id="S2.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1. </span>Statistics of four preprocessed datasets.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S2.T1.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S2.T1.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S2.T1.1.1.1.1"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.1.1">Dataset</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S2.T1.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.2.1">#Interactions</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S2.T1.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.3.1">#Users</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S2.T1.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.4.1">#Items</span></th>
<th class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt" id="S2.T1.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S2.T1.1.1.1.5.1">Density</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S2.T1.1.2.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S2.T1.1.2.1.1">Beauty</th>
<td class="ltx_td ltx_align_right ltx_border_t" id="S2.T1.1.2.1.2">198,502</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S2.T1.1.2.1.3">22,363</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S2.T1.1.2.1.4">12,101</td>
<td class="ltx_td ltx_align_right ltx_border_t" id="S2.T1.1.2.1.5">0.00073</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.3.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T1.1.3.2.1">Toys</th>
<td class="ltx_td ltx_align_right" id="S2.T1.1.3.2.2">167,597</td>
<td class="ltx_td ltx_align_right" id="S2.T1.1.3.2.3">19,412</td>
<td class="ltx_td ltx_align_right" id="S2.T1.1.3.2.4">11,924</td>
<td class="ltx_td ltx_align_right" id="S2.T1.1.3.2.5">0.00072</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.4.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T1.1.4.3.1">Sports</th>
<td class="ltx_td ltx_align_right" id="S2.T1.1.4.3.2">296,337</td>
<td class="ltx_td ltx_align_right" id="S2.T1.1.4.3.3">35,598</td>
<td class="ltx_td ltx_align_right" id="S2.T1.1.4.3.4">18,357</td>
<td class="ltx_td ltx_align_right" id="S2.T1.1.4.3.5">0.00045</td>
</tr>
<tr class="ltx_tr" id="S2.T1.1.5.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S2.T1.1.5.4.1">Yelp</th>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S2.T1.1.5.4.2">317,182</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S2.T1.1.5.4.3">30,499</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S2.T1.1.5.4.4">20,068</td>
<td class="ltx_td ltx_align_right ltx_border_bb" id="S2.T1.1.5.4.5">0.00052</td>
</tr>
</tbody>
</table>
</figure>
<figure class="ltx_table" id="S2.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2. </span>Quantitative results of different methods on public datasets in terms of HR and NDCG.
The number of recommended items is fixed to 10.
Reported metrics in bold are best performing methods whereas underlined numbers are second to the best.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S2.T2.14.14">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S2.T2.14.14.15.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S2.T2.14.14.15.1.1" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_th ltx_th_row ltx_border_tt" id="S2.T2.14.14.15.1.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S2.T2.14.14.15.1.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.14.14.15.1.3.1" style="background-color:#FFFFFF;">Beauty</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S2.T2.14.14.15.1.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.14.14.15.1.4.1" style="background-color:#FFFFFF;">Toys</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S2.T2.14.14.15.1.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.14.14.15.1.5.1" style="background-color:#FFFFFF;">Sports</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S2.T2.14.14.15.1.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.14.14.15.1.6.1" style="background-color:#FFFFFF;">Yelp</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.14.14.16.2" style="background-color:#FFFFFF;">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.14.14.16.2.1" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.14.14.16.2.1.1" style="background-color:#FFFFFF;">Type</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.14.14.16.2.2" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.14.14.16.2.2.1" style="background-color:#FFFFFF;">Loss</span></th>
<td class="ltx_td ltx_align_left" id="S2.T2.14.14.16.2.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.16.2.3.1" style="background-color:#FFFFFF;">HR</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.14.14.16.2.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.16.2.4.1" style="background-color:#FFFFFF;">NDCG</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.14.14.16.2.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.16.2.5.1" style="background-color:#FFFFFF;">HR</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.14.14.16.2.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.16.2.6.1" style="background-color:#FFFFFF;">NDCG</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.14.14.16.2.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.16.2.7.1" style="background-color:#FFFFFF;">HR</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.14.14.16.2.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.16.2.8.1" style="background-color:#FFFFFF;">NDCG</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.14.14.16.2.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.16.2.9.1" style="background-color:#FFFFFF;">HR</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.14.14.16.2.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.16.2.10.1" style="background-color:#FFFFFF;">NDCG</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S2.T2.1.1.1.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S2.T2.1.1.1.1" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_markedasmath" id="S2.T2.1.1.1.1.1" style="background-color:#FFFFFF;">BPR</span></th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.1.1.1.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.1.1.1.3.1" style="background-color:#FFFFFF;">0.0470</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.1.1.1.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.1.1.1.4.1" style="background-color:#FFFFFF;">0.0213</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.1.1.1.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.1.1.1.5.1" style="background-color:#FFFFFF;">0.0518</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.1.1.1.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.1.1.1.6.1" style="background-color:#FFFFFF;">0.0244</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.1.1.1.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.1.1.1.7.1" style="background-color:#FFFFFF;">0.0263</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.1.1.1.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.1.1.1.8.1" style="background-color:#FFFFFF;">0.0122</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.1.1.1.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.1.1.1.9.1" style="background-color:#FFFFFF;">0.0555</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.1.1.1.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.1.1.1.10.1" style="background-color:#FFFFFF;">0.0328</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.2.2.2">
<th class="ltx_td ltx_th ltx_th_row" id="S2.T2.2.2.2.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.2.2.2.1" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_markedasmath" id="S2.T2.2.2.2.1.1" style="background-color:#FFFFFF;">GBPR</span></th>
<td class="ltx_td ltx_align_left" id="S2.T2.2.2.2.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.2.2.2.3.1" style="background-color:#FFFFFF;">0.0529</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.2.2.2.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.2.2.2.4.1" style="background-color:#FFFFFF;">0.0246</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.2.2.2.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.2.2.2.5.1" style="background-color:#FFFFFF;">0.0618</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.2.2.2.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.2.2.2.6.1" style="background-color:#FFFFFF;">0.0281</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.2.2.2.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.2.2.2.7.1" style="background-color:#FFFFFF;">0.0277</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.2.2.2.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.2.2.2.8.1" style="background-color:#FFFFFF;">0.0121</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.2.2.2.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.2.2.2.9.1" style="background-color:#FFFFFF;">0.0607</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.2.2.2.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.2.2.2.10.1" style="background-color:#FFFFFF;">0.0346</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.3.3.3">
<th class="ltx_td ltx_th ltx_th_row" id="S2.T2.3.3.3.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.3.3.3.1" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><math alttext="\textrm{TransBPR}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S2.T2.3.3.3.1.m1.1" style="background-color:#E6E6E6;"><semantics id="S2.T2.3.3.3.1.m1.1a"><msub id="S2.T2.3.3.3.1.m1.1.1" xref="S2.T2.3.3.3.1.m1.1.1.cmml"><mtext id="S2.T2.3.3.3.1.m1.1.1.2" mathbackground="#E6E6E6" xref="S2.T2.3.3.3.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S2.T2.3.3.3.1.m1.1.1.3" mathbackground="#E6E6E6" xref="S2.T2.3.3.3.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.T2.3.3.3.1.m1.1b"><apply id="S2.T2.3.3.3.1.m1.1.1.cmml" xref="S2.T2.3.3.3.1.m1.1.1"><csymbol cd="ambiguous" id="S2.T2.3.3.3.1.m1.1.1.1.cmml" xref="S2.T2.3.3.3.1.m1.1.1">subscript</csymbol><ci id="S2.T2.3.3.3.1.m1.1.1.2a.cmml" xref="S2.T2.3.3.3.1.m1.1.1.2"><mtext id="S2.T2.3.3.3.1.m1.1.1.2.cmml" mathbackground="#E6E6E6" xref="S2.T2.3.3.3.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S2.T2.3.3.3.1.m1.1.1.3a.cmml" xref="S2.T2.3.3.3.1.m1.1.1.3"><mtext id="S2.T2.3.3.3.1.m1.1.1.3.cmml" mathbackground="#E6E6E6" mathsize="70%" xref="S2.T2.3.3.3.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.3.3.3.1.m1.1c">\textrm{TransBPR}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S2.T2.3.3.3.1.m1.1d">TransBPR start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S2.T2.3.3.3.3" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.3.3.3.3.1" style="background-color:#E6E6E6;">0.0674</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.3.3.3.4" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.3.3.3.4.1" style="background-color:#E6E6E6;">0.0293</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.3.3.3.5" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.3.3.3.5.1" style="background-color:#E6E6E6;">0.0747</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.3.3.3.6" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.3.3.3.6.1" style="background-color:#E6E6E6;">0.0338</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.3.3.3.7" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.3.3.3.7.1" style="background-color:#E6E6E6;">0.0397</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.3.3.3.8" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.3.3.3.8.1" style="background-color:#E6E6E6;">0.0179</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.3.3.3.9" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.3.3.3.9.1" style="background-color:#E6E6E6;">0.0576</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.3.3.3.10" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.3.3.3.10.1" style="background-color:#E6E6E6;">0.0362</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.4.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.4.4.4.2" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.4.4.4.2.1">Pairwise</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.4.4.4.1" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><math alttext="\textrm{TransBPR}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S2.T2.4.4.4.1.m1.1" style="background-color:#E6E6E6;"><semantics id="S2.T2.4.4.4.1.m1.1a"><msub id="S2.T2.4.4.4.1.m1.1.1" xref="S2.T2.4.4.4.1.m1.1.1.cmml"><mtext id="S2.T2.4.4.4.1.m1.1.1.2" mathbackground="#E6E6E6" xref="S2.T2.4.4.4.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S2.T2.4.4.4.1.m1.1.1.3" mathbackground="#E6E6E6" xref="S2.T2.4.4.4.1.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.T2.4.4.4.1.m1.1b"><apply id="S2.T2.4.4.4.1.m1.1.1.cmml" xref="S2.T2.4.4.4.1.m1.1.1"><csymbol cd="ambiguous" id="S2.T2.4.4.4.1.m1.1.1.1.cmml" xref="S2.T2.4.4.4.1.m1.1.1">subscript</csymbol><ci id="S2.T2.4.4.4.1.m1.1.1.2a.cmml" xref="S2.T2.4.4.4.1.m1.1.1.2"><mtext id="S2.T2.4.4.4.1.m1.1.1.2.cmml" mathbackground="#E6E6E6" xref="S2.T2.4.4.4.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S2.T2.4.4.4.1.m1.1.1.3a.cmml" xref="S2.T2.4.4.4.1.m1.1.1.3"><mtext id="S2.T2.4.4.4.1.m1.1.1.3.cmml" mathbackground="#E6E6E6" mathsize="70%" xref="S2.T2.4.4.4.1.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.4.4.4.1.m1.1c">\textrm{TransBPR}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S2.T2.4.4.4.1.m1.1d">TransBPR start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S2.T2.4.4.4.3" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.4.4.4.3.1" style="background-color:#E6E6E6;">0.0651</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.4.4.4.4" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.4.4.4.4.1" style="background-color:#E6E6E6;">0.0289</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.4.4.4.5" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.4.4.4.5.1" style="background-color:#E6E6E6;">0.0777</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.4.4.4.6" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.4.4.4.6.1" style="background-color:#E6E6E6;">0.0358</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.4.4.4.7" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.4.4.4.7.1" style="background-color:#E6E6E6;">0.0372</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.4.4.4.8" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.4.4.4.8.1" style="background-color:#E6E6E6;">0.0171</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.4.4.4.9" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.4.4.4.9.1" style="background-color:#E6E6E6;">0.0566</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.4.4.4.10" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.4.4.4.10.1" style="background-color:#E6E6E6;">0.0355</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.5.5.5">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S2.T2.5.5.5.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S2.T2.5.5.5.1" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_markedasmath" id="S2.T2.5.5.5.1.1" style="background-color:#FFFFFF;">BCE</span></th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.5.5.5.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.5.5.5.3.1" style="background-color:#FFFFFF;">0.0511</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.5.5.5.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.5.5.5.4.1" style="background-color:#FFFFFF;">0.0229</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.5.5.5.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.5.5.5.5.1" style="background-color:#FFFFFF;">0.0590</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.5.5.5.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.5.5.5.6.1" style="background-color:#FFFFFF;">0.0274</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.5.5.5.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.5.5.5.7.1" style="background-color:#FFFFFF;">0.0290</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.5.5.5.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.5.5.5.8.1" style="background-color:#FFFFFF;">0.0130</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.5.5.5.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.5.5.5.9.1" style="background-color:#FFFFFF;">0.0529</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.5.5.5.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.5.5.5.10.1" style="background-color:#FFFFFF;">0.0306</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.6.6.6">
<th class="ltx_td ltx_th ltx_th_row" id="S2.T2.6.6.6.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.6.6.6.1" style="padding-left:10.0pt;padding-right:10.0pt;"><math alttext="\textrm{gBCE}_{1}" class="ltx_Math" display="inline" id="S2.T2.6.6.6.1.m1.1" style="background-color:#FFFFFF;"><semantics id="S2.T2.6.6.6.1.m1.1a"><msub id="S2.T2.6.6.6.1.m1.1.1" xref="S2.T2.6.6.6.1.m1.1.1.cmml"><mtext id="S2.T2.6.6.6.1.m1.1.1.2" mathbackground="#FFFFFF" xref="S2.T2.6.6.6.1.m1.1.1.2a.cmml">gBCE</mtext><mn id="S2.T2.6.6.6.1.m1.1.1.3" mathbackground="#FFFFFF" xref="S2.T2.6.6.6.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S2.T2.6.6.6.1.m1.1b"><apply id="S2.T2.6.6.6.1.m1.1.1.cmml" xref="S2.T2.6.6.6.1.m1.1.1"><csymbol cd="ambiguous" id="S2.T2.6.6.6.1.m1.1.1.1.cmml" xref="S2.T2.6.6.6.1.m1.1.1">subscript</csymbol><ci id="S2.T2.6.6.6.1.m1.1.1.2a.cmml" xref="S2.T2.6.6.6.1.m1.1.1.2"><mtext id="S2.T2.6.6.6.1.m1.1.1.2.cmml" mathbackground="#FFFFFF" xref="S2.T2.6.6.6.1.m1.1.1.2">gBCE</mtext></ci><cn id="S2.T2.6.6.6.1.m1.1.1.3.cmml" type="integer" xref="S2.T2.6.6.6.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.6.6.6.1.m1.1c">\textrm{gBCE}_{1}</annotation><annotation encoding="application/x-llamapun" id="S2.T2.6.6.6.1.m1.1d">gBCE start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S2.T2.6.6.6.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.6.6.6.3.1" style="background-color:#FFFFFF;">0.0545</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.6.6.6.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.6.6.6.4.1" style="background-color:#FFFFFF;">0.0245</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.6.6.6.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.6.6.6.5.1" style="background-color:#FFFFFF;">0.0656</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.6.6.6.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.6.6.6.6.1" style="background-color:#FFFFFF;">0.0297</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.6.6.6.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.6.6.6.7.1" style="background-color:#FFFFFF;">0.0294</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.6.6.6.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.6.6.6.8.1" style="background-color:#FFFFFF;">0.0135</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.6.6.6.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.6.6.6.9.1" style="background-color:#FFFFFF;">0.0551</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.6.6.6.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.6.6.6.10.1" style="background-color:#FFFFFF;">0.0319</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.7.7.7">
<th class="ltx_td ltx_th ltx_th_row" id="S2.T2.7.7.7.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.7.7.7.1" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><math alttext="\textrm{TransBCE}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S2.T2.7.7.7.1.m1.1" style="background-color:#E6E6E6;"><semantics id="S2.T2.7.7.7.1.m1.1a"><msub id="S2.T2.7.7.7.1.m1.1.1" xref="S2.T2.7.7.7.1.m1.1.1.cmml"><mtext id="S2.T2.7.7.7.1.m1.1.1.2" mathbackground="#E6E6E6" xref="S2.T2.7.7.7.1.m1.1.1.2a.cmml">TransBCE</mtext><mtext id="S2.T2.7.7.7.1.m1.1.1.3" mathbackground="#E6E6E6" xref="S2.T2.7.7.7.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.T2.7.7.7.1.m1.1b"><apply id="S2.T2.7.7.7.1.m1.1.1.cmml" xref="S2.T2.7.7.7.1.m1.1.1"><csymbol cd="ambiguous" id="S2.T2.7.7.7.1.m1.1.1.1.cmml" xref="S2.T2.7.7.7.1.m1.1.1">subscript</csymbol><ci id="S2.T2.7.7.7.1.m1.1.1.2a.cmml" xref="S2.T2.7.7.7.1.m1.1.1.2"><mtext id="S2.T2.7.7.7.1.m1.1.1.2.cmml" mathbackground="#E6E6E6" xref="S2.T2.7.7.7.1.m1.1.1.2">TransBCE</mtext></ci><ci id="S2.T2.7.7.7.1.m1.1.1.3a.cmml" xref="S2.T2.7.7.7.1.m1.1.1.3"><mtext id="S2.T2.7.7.7.1.m1.1.1.3.cmml" mathbackground="#E6E6E6" mathsize="70%" xref="S2.T2.7.7.7.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.7.7.7.1.m1.1c">\textrm{TransBCE}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S2.T2.7.7.7.1.m1.1d">TransBCE start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S2.T2.7.7.7.3" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.7.7.7.3.1" style="background-color:#E6E6E6;">0.0730</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.7.7.7.4" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.7.7.7.4.1" style="background-color:#E6E6E6;">0.0324</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.7.7.7.5" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.7.7.7.5.1" style="background-color:#E6E6E6;">0.0805</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.7.7.7.6" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.7.7.7.6.1" style="background-color:#E6E6E6;">0.0372</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.7.7.7.7" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.7.7.7.7.1" style="background-color:#E6E6E6;">0.0413</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.7.7.7.8" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.7.7.7.8.1" style="background-color:#E6E6E6;">0.0186</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.7.7.7.9" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.7.7.7.9.1" style="background-color:#E6E6E6;">0.0561</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.7.7.7.10" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.7.7.7.10.1" style="background-color:#E6E6E6;">0.0360</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.8.8.8">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.8.8.8.2" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.8.8.8.2.1">Pointwise</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.8.8.8.1" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><math alttext="\textrm{TransBCE}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S2.T2.8.8.8.1.m1.1" style="background-color:#E6E6E6;"><semantics id="S2.T2.8.8.8.1.m1.1a"><msub id="S2.T2.8.8.8.1.m1.1.1" xref="S2.T2.8.8.8.1.m1.1.1.cmml"><mtext id="S2.T2.8.8.8.1.m1.1.1.2" mathbackground="#E6E6E6" xref="S2.T2.8.8.8.1.m1.1.1.2a.cmml">TransBCE</mtext><mtext id="S2.T2.8.8.8.1.m1.1.1.3" mathbackground="#E6E6E6" xref="S2.T2.8.8.8.1.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.T2.8.8.8.1.m1.1b"><apply id="S2.T2.8.8.8.1.m1.1.1.cmml" xref="S2.T2.8.8.8.1.m1.1.1"><csymbol cd="ambiguous" id="S2.T2.8.8.8.1.m1.1.1.1.cmml" xref="S2.T2.8.8.8.1.m1.1.1">subscript</csymbol><ci id="S2.T2.8.8.8.1.m1.1.1.2a.cmml" xref="S2.T2.8.8.8.1.m1.1.1.2"><mtext id="S2.T2.8.8.8.1.m1.1.1.2.cmml" mathbackground="#E6E6E6" xref="S2.T2.8.8.8.1.m1.1.1.2">TransBCE</mtext></ci><ci id="S2.T2.8.8.8.1.m1.1.1.3a.cmml" xref="S2.T2.8.8.8.1.m1.1.1.3"><mtext id="S2.T2.8.8.8.1.m1.1.1.3.cmml" mathbackground="#E6E6E6" mathsize="70%" xref="S2.T2.8.8.8.1.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.8.8.8.1.m1.1c">\textrm{TransBCE}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S2.T2.8.8.8.1.m1.1d">TransBCE start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S2.T2.8.8.8.3" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.8.8.8.3.1" style="background-color:#E6E6E6;">0.0720</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.8.8.8.4" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.8.8.8.4.1" style="background-color:#E6E6E6;">0.0322</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.8.8.8.5" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.8.8.8.5.1" style="background-color:#E6E6E6;">0.0800</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.8.8.8.6" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.8.8.8.6.1" style="background-color:#E6E6E6;">0.0369</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.8.8.8.7" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.8.8.8.7.1" style="background-color:#E6E6E6;">0.0399</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.8.8.8.8" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.8.8.8.8.1" style="background-color:#E6E6E6;">0.0179</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.8.8.8.9" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.8.8.8.9.1" style="background-color:#E6E6E6;">0.0569</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.8.8.8.10" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.8.8.8.10.1" style="background-color:#E6E6E6;">0.0358</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.9.9.9">
<th class="ltx_td ltx_th ltx_th_row ltx_border_t" id="S2.T2.9.9.9.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S2.T2.9.9.9.1" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_markedasmath" id="S2.T2.9.9.9.1.1" style="background-color:#FFFFFF;">SSM</span></th>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.9.9.9.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.9.9.9.3.1" style="background-color:#FFFFFF;">0.0656</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.9.9.9.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.9.9.9.4.1" style="background-color:#FFFFFF;">0.0318</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.9.9.9.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.9.9.9.5.1" style="background-color:#FFFFFF;">0.0673</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.9.9.9.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.9.9.9.6.1" style="background-color:#FFFFFF;">0.0351</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.9.9.9.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.9.9.9.7.1" style="background-color:#FFFFFF;">0.0381</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.9.9.9.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.9.9.9.8.1" style="background-color:#FFFFFF;">0.0185</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.9.9.9.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.9.9.9.9.1" style="background-color:#FFFFFF;">0.0616</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S2.T2.9.9.9.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.9.9.9.10.1" style="background-color:#FFFFFF;">0.0350</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.10.10.10">
<th class="ltx_td ltx_th ltx_th_row" id="S2.T2.10.10.10.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.10.10.10.1" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_markedasmath" id="S2.T2.10.10.10.1.1" style="background-color:#FFFFFF;">InfoNCE</span></th>
<td class="ltx_td ltx_align_left" id="S2.T2.10.10.10.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.10.10.10.3.1" style="background-color:#FFFFFF;">0.0632</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.10.10.10.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.10.10.10.4.1" style="background-color:#FFFFFF;">0.0318</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.10.10.10.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.10.10.10.5.1" style="background-color:#FFFFFF;">0.0742</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.10.10.10.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.10.10.10.6.1" style="background-color:#FFFFFF;">0.0395</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.10.10.10.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.10.10.10.7.1" style="background-color:#FFFFFF;">0.0363</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.10.10.10.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.10.10.10.8.1" style="background-color:#FFFFFF;">0.0188</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.10.10.10.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.10.10.10.9.1" style="background-color:#FFFFFF;">0.0483</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.10.10.10.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.10.10.10.10.1" style="background-color:#FFFFFF;">0.0255</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.11.11.11">
<th class="ltx_td ltx_th ltx_th_row" id="S2.T2.11.11.11.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.11.11.11.1" style="padding-left:10.0pt;padding-right:10.0pt;">
<span class="ltx_text ltx_markedasmath" id="S2.T2.11.11.11.1.1" style="background-color:#FFFFFF;">BPR</span><span class="ltx_text ltx_markedasmath" id="S2.T2.11.11.11.1.2" style="background-color:#FFFFFF;">-</span><span class="ltx_text ltx_markedasmath" id="S2.T2.11.11.11.1.3" style="background-color:#FFFFFF;">DNS</span>
</th>
<td class="ltx_td ltx_align_left" id="S2.T2.11.11.11.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.11.11.11.3.1" style="background-color:#FFFFFF;">0.0776</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.11.11.11.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.11.11.11.4.1" style="background-color:#FFFFFF;">0.0356</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.11.11.11.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.11.11.11.5.1" style="background-color:#FFFFFF;">0.0839</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.11.11.11.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.11.11.11.6.1" style="background-color:#FFFFFF;">0.0386</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.11.11.11.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.11.11.11.7.1" style="background-color:#FFFFFF;">0.0406</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.11.11.11.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.11.11.11.8.1" style="background-color:#FFFFFF;">0.0187</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.11.11.11.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.11.11.11.9.1" style="background-color:#FFFFFF;">0.0523</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.11.11.11.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.11.11.11.10.1" style="background-color:#FFFFFF;">0.0349</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.12.12.12">
<th class="ltx_td ltx_th ltx_th_row" id="S2.T2.12.12.12.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.12.12.12.1" style="padding-left:10.0pt;padding-right:10.0pt;"><math alttext="\textrm{gBCE}_{\mathcal{N}}" class="ltx_Math" display="inline" id="S2.T2.12.12.12.1.m1.1" style="background-color:#FFFFFF;"><semantics id="S2.T2.12.12.12.1.m1.1a"><msub id="S2.T2.12.12.12.1.m1.1.1" xref="S2.T2.12.12.12.1.m1.1.1.cmml"><mtext id="S2.T2.12.12.12.1.m1.1.1.2" mathbackground="#FFFFFF" xref="S2.T2.12.12.12.1.m1.1.1.2a.cmml">gBCE</mtext><mi class="ltx_font_mathcaligraphic" id="S2.T2.12.12.12.1.m1.1.1.3" mathbackground="#FFFFFF" xref="S2.T2.12.12.12.1.m1.1.1.3.cmml">𝒩</mi></msub><annotation-xml encoding="MathML-Content" id="S2.T2.12.12.12.1.m1.1b"><apply id="S2.T2.12.12.12.1.m1.1.1.cmml" xref="S2.T2.12.12.12.1.m1.1.1"><csymbol cd="ambiguous" id="S2.T2.12.12.12.1.m1.1.1.1.cmml" xref="S2.T2.12.12.12.1.m1.1.1">subscript</csymbol><ci id="S2.T2.12.12.12.1.m1.1.1.2a.cmml" xref="S2.T2.12.12.12.1.m1.1.1.2"><mtext id="S2.T2.12.12.12.1.m1.1.1.2.cmml" mathbackground="#FFFFFF" xref="S2.T2.12.12.12.1.m1.1.1.2">gBCE</mtext></ci><ci id="S2.T2.12.12.12.1.m1.1.1.3.cmml" xref="S2.T2.12.12.12.1.m1.1.1.3">𝒩</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.12.12.12.1.m1.1c">\textrm{gBCE}_{\mathcal{N}}</annotation><annotation encoding="application/x-llamapun" id="S2.T2.12.12.12.1.m1.1d">gBCE start_POSTSUBSCRIPT caligraphic_N end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S2.T2.12.12.12.3" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.12.12.12.3.1" style="background-color:#FFFFFF;">0.0725</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.12.12.12.4" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.12.12.12.4.1" style="background-color:#FFFFFF;">0.0362</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.12.12.12.5" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.12.12.12.5.1" style="background-color:#FFFFFF;">0.0783</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.12.12.12.6" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.12.12.12.6.1" style="background-color:#FFFFFF;">0.0407</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.12.12.12.7" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.12.12.12.7.1" style="background-color:#FFFFFF;">0.0415</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.12.12.12.8" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.12.12.12.8.1" style="background-color:#FFFFFF;">0.0205</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.12.12.12.9" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.12.12.12.9.1" style="background-color:#FFFFFF;">0.0632</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.12.12.12.10" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.12.12.12.10.1" style="background-color:#FFFFFF;">0.0359</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.13.13.13">
<th class="ltx_td ltx_th ltx_th_row" id="S2.T2.13.13.13.2" style="padding-left:10.0pt;padding-right:10.0pt;"></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row" id="S2.T2.13.13.13.1" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><math alttext="\textrm{TransSSM}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S2.T2.13.13.13.1.m1.1" style="background-color:#E6E6E6;"><semantics id="S2.T2.13.13.13.1.m1.1a"><msub id="S2.T2.13.13.13.1.m1.1.1" xref="S2.T2.13.13.13.1.m1.1.1.cmml"><mtext id="S2.T2.13.13.13.1.m1.1.1.2" mathbackground="#E6E6E6" xref="S2.T2.13.13.13.1.m1.1.1.2a.cmml">TransSSM</mtext><mtext id="S2.T2.13.13.13.1.m1.1.1.3" mathbackground="#E6E6E6" xref="S2.T2.13.13.13.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.T2.13.13.13.1.m1.1b"><apply id="S2.T2.13.13.13.1.m1.1.1.cmml" xref="S2.T2.13.13.13.1.m1.1.1"><csymbol cd="ambiguous" id="S2.T2.13.13.13.1.m1.1.1.1.cmml" xref="S2.T2.13.13.13.1.m1.1.1">subscript</csymbol><ci id="S2.T2.13.13.13.1.m1.1.1.2a.cmml" xref="S2.T2.13.13.13.1.m1.1.1.2"><mtext id="S2.T2.13.13.13.1.m1.1.1.2.cmml" mathbackground="#E6E6E6" xref="S2.T2.13.13.13.1.m1.1.1.2">TransSSM</mtext></ci><ci id="S2.T2.13.13.13.1.m1.1.1.3a.cmml" xref="S2.T2.13.13.13.1.m1.1.1.3"><mtext id="S2.T2.13.13.13.1.m1.1.1.3.cmml" mathbackground="#E6E6E6" mathsize="70%" xref="S2.T2.13.13.13.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.13.13.13.1.m1.1c">\textrm{TransSSM}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S2.T2.13.13.13.1.m1.1d">TransSSM start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left" id="S2.T2.13.13.13.3" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.13.13.13.3.1" style="background-color:#E6E6E6;">0.0843</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.13.13.13.4" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.13.13.13.4.1" style="background-color:#E6E6E6;">0.0395</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.13.13.13.5" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.13.13.13.5.1" style="background-color:#E6E6E6;">0.0922</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.13.13.13.6" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.13.13.13.6.1" style="background-color:#E6E6E6;">0.0439</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.13.13.13.7" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.13.13.13.7.1" style="background-color:#E6E6E6;">0.0499</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.13.13.13.8" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.13.13.13.8.1" style="background-color:#E6E6E6;">0.0229</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.13.13.13.9" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.13.13.13.9.1" style="background-color:#E6E6E6;">0.0693</span></td>
<td class="ltx_td ltx_align_left" id="S2.T2.13.13.13.10" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_font_bold" id="S2.T2.13.13.13.10.1" style="background-color:#E6E6E6;">0.0418</span></td>
</tr>
<tr class="ltx_tr" id="S2.T2.14.14.14">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S2.T2.14.14.14.2" style="padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.14.2.1">Setwise</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S2.T2.14.14.14.1" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><math alttext="\textrm{TransSSM}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S2.T2.14.14.14.1.m1.1" style="background-color:#E6E6E6;"><semantics id="S2.T2.14.14.14.1.m1.1a"><msub id="S2.T2.14.14.14.1.m1.1.1" xref="S2.T2.14.14.14.1.m1.1.1.cmml"><mtext id="S2.T2.14.14.14.1.m1.1.1.2" mathbackground="#E6E6E6" xref="S2.T2.14.14.14.1.m1.1.1.2a.cmml">TransSSM</mtext><mtext id="S2.T2.14.14.14.1.m1.1.1.3" mathbackground="#E6E6E6" xref="S2.T2.14.14.14.1.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S2.T2.14.14.14.1.m1.1b"><apply id="S2.T2.14.14.14.1.m1.1.1.cmml" xref="S2.T2.14.14.14.1.m1.1.1"><csymbol cd="ambiguous" id="S2.T2.14.14.14.1.m1.1.1.1.cmml" xref="S2.T2.14.14.14.1.m1.1.1">subscript</csymbol><ci id="S2.T2.14.14.14.1.m1.1.1.2a.cmml" xref="S2.T2.14.14.14.1.m1.1.1.2"><mtext id="S2.T2.14.14.14.1.m1.1.1.2.cmml" mathbackground="#E6E6E6" xref="S2.T2.14.14.14.1.m1.1.1.2">TransSSM</mtext></ci><ci id="S2.T2.14.14.14.1.m1.1.1.3a.cmml" xref="S2.T2.14.14.14.1.m1.1.1.3"><mtext id="S2.T2.14.14.14.1.m1.1.1.3.cmml" mathbackground="#E6E6E6" mathsize="70%" xref="S2.T2.14.14.14.1.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.T2.14.14.14.1.m1.1c">\textrm{TransSSM}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S2.T2.14.14.14.1.m1.1d">TransSSM start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></th>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S2.T2.14.14.14.3" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.14.3.1" style="background-color:#E6E6E6;">0.0774</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S2.T2.14.14.14.4" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.14.14.14.4.1" style="background-color:#E6E6E6;">0.0370</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S2.T2.14.14.14.5" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.14.14.14.5.1" style="background-color:#E6E6E6;">0.0874</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S2.T2.14.14.14.6" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.14.14.14.6.1" style="background-color:#E6E6E6;">0.0417</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S2.T2.14.14.14.7" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.14.7.1" style="background-color:#E6E6E6;">0.0399</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S2.T2.14.14.14.8" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text" id="S2.T2.14.14.14.8.1" style="background-color:#E6E6E6;">0.0187</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S2.T2.14.14.14.9" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.14.14.14.9.1" style="background-color:#E6E6E6;">0.0642</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S2.T2.14.14.14.10" style="background-color:#E6E6E6;padding-left:10.0pt;padding-right:10.0pt;"><span class="ltx_text ltx_framed ltx_framed_underline" id="S2.T2.14.14.14.10.1" style="background-color:#E6E6E6;">0.0385</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Our Method</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.1">Here, we introduce weak transitivity between unobserved items,
and then describe how to integrate it to original objectives.</p>
</div>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1. </span>Weak Transitivity</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.21">Inducing orders on recommendation scores of unobserved items requires a model to sample two or more negatives differing in preferences.
In a basic form, let <math alttext="p_{1}" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><msub id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml"><mi id="S3.SS1.p1.1.m1.1.1.2" xref="S3.SS1.p1.1.m1.1.1.2.cmml">p</mi><mn id="S3.SS1.p1.1.m1.1.1.3" xref="S3.SS1.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><apply id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.1.m1.1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p1.1.m1.1.1.2.cmml" xref="S3.SS1.p1.1.m1.1.1.2">𝑝</ci><cn id="S3.SS1.p1.1.m1.1.1.3.cmml" type="integer" xref="S3.SS1.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">p_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="p_{2}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><msub id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">p</mi><mn id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝑝</ci><cn id="S3.SS1.p1.2.m2.1.1.3.cmml" type="integer" xref="S3.SS1.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">p_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> represent two different sampling distributions for negatives.
Given a user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m3.1"><semantics id="S3.SS1.p1.3.m3.1a"><mi id="S3.SS1.p1.3.m3.1.1" xref="S3.SS1.p1.3.m3.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m3.1b"><ci id="S3.SS1.p1.3.m3.1.1.cmml" xref="S3.SS1.p1.3.m3.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m3.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m3.1d">italic_u</annotation></semantics></math> and its positive <math alttext="i" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m4.1"><semantics id="S3.SS1.p1.4.m4.1a"><mi id="S3.SS1.p1.4.m4.1.1" xref="S3.SS1.p1.4.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m4.1b"><ci id="S3.SS1.p1.4.m4.1.1.cmml" xref="S3.SS1.p1.4.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m4.1d">italic_i</annotation></semantics></math>,
we sample a negative <math alttext="j" class="ltx_Math" display="inline" id="S3.SS1.p1.5.m5.1"><semantics id="S3.SS1.p1.5.m5.1a"><mi id="S3.SS1.p1.5.m5.1.1" xref="S3.SS1.p1.5.m5.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.5.m5.1b"><ci id="S3.SS1.p1.5.m5.1.1.cmml" xref="S3.SS1.p1.5.m5.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.5.m5.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.5.m5.1d">italic_j</annotation></semantics></math> from <math alttext="p_{1}" class="ltx_Math" display="inline" id="S3.SS1.p1.6.m6.1"><semantics id="S3.SS1.p1.6.m6.1a"><msub id="S3.SS1.p1.6.m6.1.1" xref="S3.SS1.p1.6.m6.1.1.cmml"><mi id="S3.SS1.p1.6.m6.1.1.2" xref="S3.SS1.p1.6.m6.1.1.2.cmml">p</mi><mn id="S3.SS1.p1.6.m6.1.1.3" xref="S3.SS1.p1.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.6.m6.1b"><apply id="S3.SS1.p1.6.m6.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.6.m6.1.1.1.cmml" xref="S3.SS1.p1.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p1.6.m6.1.1.2.cmml" xref="S3.SS1.p1.6.m6.1.1.2">𝑝</ci><cn id="S3.SS1.p1.6.m6.1.1.3.cmml" type="integer" xref="S3.SS1.p1.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.6.m6.1c">p_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.6.m6.1d">italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p1.7.m7.1"><semantics id="S3.SS1.p1.7.m7.1a"><mi id="S3.SS1.p1.7.m7.1.1" xref="S3.SS1.p1.7.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.7.m7.1b"><ci id="S3.SS1.p1.7.m7.1.1.cmml" xref="S3.SS1.p1.7.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.7.m7.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.7.m7.1d">italic_k</annotation></semantics></math> from <math alttext="p_{2}" class="ltx_Math" display="inline" id="S3.SS1.p1.8.m8.1"><semantics id="S3.SS1.p1.8.m8.1a"><msub id="S3.SS1.p1.8.m8.1.1" xref="S3.SS1.p1.8.m8.1.1.cmml"><mi id="S3.SS1.p1.8.m8.1.1.2" xref="S3.SS1.p1.8.m8.1.1.2.cmml">p</mi><mn id="S3.SS1.p1.8.m8.1.1.3" xref="S3.SS1.p1.8.m8.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.8.m8.1b"><apply id="S3.SS1.p1.8.m8.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.8.m8.1.1.1.cmml" xref="S3.SS1.p1.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p1.8.m8.1.1.2.cmml" xref="S3.SS1.p1.8.m8.1.1.2">𝑝</ci><cn id="S3.SS1.p1.8.m8.1.1.3.cmml" type="integer" xref="S3.SS1.p1.8.m8.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.8.m8.1c">p_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.8.m8.1d">italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> where <math alttext="i\neq j\neq k" class="ltx_Math" display="inline" id="S3.SS1.p1.9.m9.1"><semantics id="S3.SS1.p1.9.m9.1a"><mrow id="S3.SS1.p1.9.m9.1.1" xref="S3.SS1.p1.9.m9.1.1.cmml"><mi id="S3.SS1.p1.9.m9.1.1.2" xref="S3.SS1.p1.9.m9.1.1.2.cmml">i</mi><mo id="S3.SS1.p1.9.m9.1.1.3" xref="S3.SS1.p1.9.m9.1.1.3.cmml">≠</mo><mi id="S3.SS1.p1.9.m9.1.1.4" xref="S3.SS1.p1.9.m9.1.1.4.cmml">j</mi><mo id="S3.SS1.p1.9.m9.1.1.5" xref="S3.SS1.p1.9.m9.1.1.5.cmml">≠</mo><mi id="S3.SS1.p1.9.m9.1.1.6" xref="S3.SS1.p1.9.m9.1.1.6.cmml">k</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.9.m9.1b"><apply id="S3.SS1.p1.9.m9.1.1.cmml" xref="S3.SS1.p1.9.m9.1.1"><and id="S3.SS1.p1.9.m9.1.1a.cmml" xref="S3.SS1.p1.9.m9.1.1"></and><apply id="S3.SS1.p1.9.m9.1.1b.cmml" xref="S3.SS1.p1.9.m9.1.1"><neq id="S3.SS1.p1.9.m9.1.1.3.cmml" xref="S3.SS1.p1.9.m9.1.1.3"></neq><ci id="S3.SS1.p1.9.m9.1.1.2.cmml" xref="S3.SS1.p1.9.m9.1.1.2">𝑖</ci><ci id="S3.SS1.p1.9.m9.1.1.4.cmml" xref="S3.SS1.p1.9.m9.1.1.4">𝑗</ci></apply><apply id="S3.SS1.p1.9.m9.1.1c.cmml" xref="S3.SS1.p1.9.m9.1.1"><neq id="S3.SS1.p1.9.m9.1.1.5.cmml" xref="S3.SS1.p1.9.m9.1.1.5"></neq><share href="https://arxiv.org/html/2408.00326v1#S3.SS1.p1.9.m9.1.1.4.cmml" id="S3.SS1.p1.9.m9.1.1d.cmml" xref="S3.SS1.p1.9.m9.1.1"></share><ci id="S3.SS1.p1.9.m9.1.1.6.cmml" xref="S3.SS1.p1.9.m9.1.1.6">𝑘</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.9.m9.1c">i\neq j\neq k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.9.m9.1d">italic_i ≠ italic_j ≠ italic_k</annotation></semantics></math>.
Since the positive <math alttext="i" class="ltx_Math" display="inline" id="S3.SS1.p1.10.m10.1"><semantics id="S3.SS1.p1.10.m10.1a"><mi id="S3.SS1.p1.10.m10.1.1" xref="S3.SS1.p1.10.m10.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.10.m10.1b"><ci id="S3.SS1.p1.10.m10.1.1.cmml" xref="S3.SS1.p1.10.m10.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.10.m10.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.10.m10.1d">italic_i</annotation></semantics></math> is the most preferred item to the user <math alttext="u" class="ltx_Math" display="inline" id="S3.SS1.p1.11.m11.1"><semantics id="S3.SS1.p1.11.m11.1a"><mi id="S3.SS1.p1.11.m11.1.1" xref="S3.SS1.p1.11.m11.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.11.m11.1b"><ci id="S3.SS1.p1.11.m11.1.1.cmml" xref="S3.SS1.p1.11.m11.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.11.m11.1c">u</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.11.m11.1d">italic_u</annotation></semantics></math>,
a transitive relation <math alttext="\hat{s}_{ui}&gt;\hat{s}_{uj}&gt;\hat{s}_{uk}" class="ltx_Math" display="inline" id="S3.SS1.p1.12.m12.1"><semantics id="S3.SS1.p1.12.m12.1a"><mrow id="S3.SS1.p1.12.m12.1.1" xref="S3.SS1.p1.12.m12.1.1.cmml"><msub id="S3.SS1.p1.12.m12.1.1.2" xref="S3.SS1.p1.12.m12.1.1.2.cmml"><mover accent="true" id="S3.SS1.p1.12.m12.1.1.2.2" xref="S3.SS1.p1.12.m12.1.1.2.2.cmml"><mi id="S3.SS1.p1.12.m12.1.1.2.2.2" xref="S3.SS1.p1.12.m12.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p1.12.m12.1.1.2.2.1" xref="S3.SS1.p1.12.m12.1.1.2.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p1.12.m12.1.1.2.3" xref="S3.SS1.p1.12.m12.1.1.2.3.cmml"><mi id="S3.SS1.p1.12.m12.1.1.2.3.2" xref="S3.SS1.p1.12.m12.1.1.2.3.2.cmml">u</mi><mo id="S3.SS1.p1.12.m12.1.1.2.3.1" xref="S3.SS1.p1.12.m12.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.12.m12.1.1.2.3.3" xref="S3.SS1.p1.12.m12.1.1.2.3.3.cmml">i</mi></mrow></msub><mo id="S3.SS1.p1.12.m12.1.1.3" xref="S3.SS1.p1.12.m12.1.1.3.cmml">&gt;</mo><msub id="S3.SS1.p1.12.m12.1.1.4" xref="S3.SS1.p1.12.m12.1.1.4.cmml"><mover accent="true" id="S3.SS1.p1.12.m12.1.1.4.2" xref="S3.SS1.p1.12.m12.1.1.4.2.cmml"><mi id="S3.SS1.p1.12.m12.1.1.4.2.2" xref="S3.SS1.p1.12.m12.1.1.4.2.2.cmml">s</mi><mo id="S3.SS1.p1.12.m12.1.1.4.2.1" xref="S3.SS1.p1.12.m12.1.1.4.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p1.12.m12.1.1.4.3" xref="S3.SS1.p1.12.m12.1.1.4.3.cmml"><mi id="S3.SS1.p1.12.m12.1.1.4.3.2" xref="S3.SS1.p1.12.m12.1.1.4.3.2.cmml">u</mi><mo id="S3.SS1.p1.12.m12.1.1.4.3.1" xref="S3.SS1.p1.12.m12.1.1.4.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.12.m12.1.1.4.3.3" xref="S3.SS1.p1.12.m12.1.1.4.3.3.cmml">j</mi></mrow></msub><mo id="S3.SS1.p1.12.m12.1.1.5" xref="S3.SS1.p1.12.m12.1.1.5.cmml">&gt;</mo><msub id="S3.SS1.p1.12.m12.1.1.6" xref="S3.SS1.p1.12.m12.1.1.6.cmml"><mover accent="true" id="S3.SS1.p1.12.m12.1.1.6.2" xref="S3.SS1.p1.12.m12.1.1.6.2.cmml"><mi id="S3.SS1.p1.12.m12.1.1.6.2.2" xref="S3.SS1.p1.12.m12.1.1.6.2.2.cmml">s</mi><mo id="S3.SS1.p1.12.m12.1.1.6.2.1" xref="S3.SS1.p1.12.m12.1.1.6.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p1.12.m12.1.1.6.3" xref="S3.SS1.p1.12.m12.1.1.6.3.cmml"><mi id="S3.SS1.p1.12.m12.1.1.6.3.2" xref="S3.SS1.p1.12.m12.1.1.6.3.2.cmml">u</mi><mo id="S3.SS1.p1.12.m12.1.1.6.3.1" xref="S3.SS1.p1.12.m12.1.1.6.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.12.m12.1.1.6.3.3" xref="S3.SS1.p1.12.m12.1.1.6.3.3.cmml">k</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.12.m12.1b"><apply id="S3.SS1.p1.12.m12.1.1.cmml" xref="S3.SS1.p1.12.m12.1.1"><and id="S3.SS1.p1.12.m12.1.1a.cmml" xref="S3.SS1.p1.12.m12.1.1"></and><apply id="S3.SS1.p1.12.m12.1.1b.cmml" xref="S3.SS1.p1.12.m12.1.1"><gt id="S3.SS1.p1.12.m12.1.1.3.cmml" xref="S3.SS1.p1.12.m12.1.1.3"></gt><apply id="S3.SS1.p1.12.m12.1.1.2.cmml" xref="S3.SS1.p1.12.m12.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m12.1.1.2.1.cmml" xref="S3.SS1.p1.12.m12.1.1.2">subscript</csymbol><apply id="S3.SS1.p1.12.m12.1.1.2.2.cmml" xref="S3.SS1.p1.12.m12.1.1.2.2"><ci id="S3.SS1.p1.12.m12.1.1.2.2.1.cmml" xref="S3.SS1.p1.12.m12.1.1.2.2.1">^</ci><ci id="S3.SS1.p1.12.m12.1.1.2.2.2.cmml" xref="S3.SS1.p1.12.m12.1.1.2.2.2">𝑠</ci></apply><apply id="S3.SS1.p1.12.m12.1.1.2.3.cmml" xref="S3.SS1.p1.12.m12.1.1.2.3"><times id="S3.SS1.p1.12.m12.1.1.2.3.1.cmml" xref="S3.SS1.p1.12.m12.1.1.2.3.1"></times><ci id="S3.SS1.p1.12.m12.1.1.2.3.2.cmml" xref="S3.SS1.p1.12.m12.1.1.2.3.2">𝑢</ci><ci id="S3.SS1.p1.12.m12.1.1.2.3.3.cmml" xref="S3.SS1.p1.12.m12.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.SS1.p1.12.m12.1.1.4.cmml" xref="S3.SS1.p1.12.m12.1.1.4"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m12.1.1.4.1.cmml" xref="S3.SS1.p1.12.m12.1.1.4">subscript</csymbol><apply id="S3.SS1.p1.12.m12.1.1.4.2.cmml" xref="S3.SS1.p1.12.m12.1.1.4.2"><ci id="S3.SS1.p1.12.m12.1.1.4.2.1.cmml" xref="S3.SS1.p1.12.m12.1.1.4.2.1">^</ci><ci id="S3.SS1.p1.12.m12.1.1.4.2.2.cmml" xref="S3.SS1.p1.12.m12.1.1.4.2.2">𝑠</ci></apply><apply id="S3.SS1.p1.12.m12.1.1.4.3.cmml" xref="S3.SS1.p1.12.m12.1.1.4.3"><times id="S3.SS1.p1.12.m12.1.1.4.3.1.cmml" xref="S3.SS1.p1.12.m12.1.1.4.3.1"></times><ci id="S3.SS1.p1.12.m12.1.1.4.3.2.cmml" xref="S3.SS1.p1.12.m12.1.1.4.3.2">𝑢</ci><ci id="S3.SS1.p1.12.m12.1.1.4.3.3.cmml" xref="S3.SS1.p1.12.m12.1.1.4.3.3">𝑗</ci></apply></apply></apply><apply id="S3.SS1.p1.12.m12.1.1c.cmml" xref="S3.SS1.p1.12.m12.1.1"><gt id="S3.SS1.p1.12.m12.1.1.5.cmml" xref="S3.SS1.p1.12.m12.1.1.5"></gt><share href="https://arxiv.org/html/2408.00326v1#S3.SS1.p1.12.m12.1.1.4.cmml" id="S3.SS1.p1.12.m12.1.1d.cmml" xref="S3.SS1.p1.12.m12.1.1"></share><apply id="S3.SS1.p1.12.m12.1.1.6.cmml" xref="S3.SS1.p1.12.m12.1.1.6"><csymbol cd="ambiguous" id="S3.SS1.p1.12.m12.1.1.6.1.cmml" xref="S3.SS1.p1.12.m12.1.1.6">subscript</csymbol><apply id="S3.SS1.p1.12.m12.1.1.6.2.cmml" xref="S3.SS1.p1.12.m12.1.1.6.2"><ci id="S3.SS1.p1.12.m12.1.1.6.2.1.cmml" xref="S3.SS1.p1.12.m12.1.1.6.2.1">^</ci><ci id="S3.SS1.p1.12.m12.1.1.6.2.2.cmml" xref="S3.SS1.p1.12.m12.1.1.6.2.2">𝑠</ci></apply><apply id="S3.SS1.p1.12.m12.1.1.6.3.cmml" xref="S3.SS1.p1.12.m12.1.1.6.3"><times id="S3.SS1.p1.12.m12.1.1.6.3.1.cmml" xref="S3.SS1.p1.12.m12.1.1.6.3.1"></times><ci id="S3.SS1.p1.12.m12.1.1.6.3.2.cmml" xref="S3.SS1.p1.12.m12.1.1.6.3.2">𝑢</ci><ci id="S3.SS1.p1.12.m12.1.1.6.3.3.cmml" xref="S3.SS1.p1.12.m12.1.1.6.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.12.m12.1c">\hat{s}_{ui}&gt;\hat{s}_{uj}&gt;\hat{s}_{uk}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.12.m12.1d">over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT &gt; over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT &gt; over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_k end_POSTSUBSCRIPT</annotation></semantics></math> holds true when <math alttext="j" class="ltx_Math" display="inline" id="S3.SS1.p1.13.m13.1"><semantics id="S3.SS1.p1.13.m13.1a"><mi id="S3.SS1.p1.13.m13.1.1" xref="S3.SS1.p1.13.m13.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.13.m13.1b"><ci id="S3.SS1.p1.13.m13.1.1.cmml" xref="S3.SS1.p1.13.m13.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.13.m13.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.13.m13.1d">italic_j</annotation></semantics></math> is more preferred than <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p1.14.m14.1"><semantics id="S3.SS1.p1.14.m14.1a"><mi id="S3.SS1.p1.14.m14.1.1" xref="S3.SS1.p1.14.m14.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.14.m14.1b"><ci id="S3.SS1.p1.14.m14.1.1.cmml" xref="S3.SS1.p1.14.m14.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.14.m14.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.14.m14.1d">italic_k</annotation></semantics></math>.
Strict transitivity then corresponds to a scheme where any <math alttext="j" class="ltx_Math" display="inline" id="S3.SS1.p1.15.m15.1"><semantics id="S3.SS1.p1.15.m15.1a"><mi id="S3.SS1.p1.15.m15.1.1" xref="S3.SS1.p1.15.m15.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.15.m15.1b"><ci id="S3.SS1.p1.15.m15.1.1.cmml" xref="S3.SS1.p1.15.m15.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.15.m15.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.15.m15.1d">italic_j</annotation></semantics></math> from <math alttext="p_{1}" class="ltx_Math" display="inline" id="S3.SS1.p1.16.m16.1"><semantics id="S3.SS1.p1.16.m16.1a"><msub id="S3.SS1.p1.16.m16.1.1" xref="S3.SS1.p1.16.m16.1.1.cmml"><mi id="S3.SS1.p1.16.m16.1.1.2" xref="S3.SS1.p1.16.m16.1.1.2.cmml">p</mi><mn id="S3.SS1.p1.16.m16.1.1.3" xref="S3.SS1.p1.16.m16.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.16.m16.1b"><apply id="S3.SS1.p1.16.m16.1.1.cmml" xref="S3.SS1.p1.16.m16.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.16.m16.1.1.1.cmml" xref="S3.SS1.p1.16.m16.1.1">subscript</csymbol><ci id="S3.SS1.p1.16.m16.1.1.2.cmml" xref="S3.SS1.p1.16.m16.1.1.2">𝑝</ci><cn id="S3.SS1.p1.16.m16.1.1.3.cmml" type="integer" xref="S3.SS1.p1.16.m16.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.16.m16.1c">p_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.16.m16.1d">italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> is guaranteed to be more preferred than any <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p1.17.m17.1"><semantics id="S3.SS1.p1.17.m17.1a"><mi id="S3.SS1.p1.17.m17.1.1" xref="S3.SS1.p1.17.m17.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.17.m17.1b"><ci id="S3.SS1.p1.17.m17.1.1.cmml" xref="S3.SS1.p1.17.m17.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.17.m17.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.17.m17.1d">italic_k</annotation></semantics></math> from <math alttext="p_{2}" class="ltx_Math" display="inline" id="S3.SS1.p1.18.m18.1"><semantics id="S3.SS1.p1.18.m18.1a"><msub id="S3.SS1.p1.18.m18.1.1" xref="S3.SS1.p1.18.m18.1.1.cmml"><mi id="S3.SS1.p1.18.m18.1.1.2" xref="S3.SS1.p1.18.m18.1.1.2.cmml">p</mi><mn id="S3.SS1.p1.18.m18.1.1.3" xref="S3.SS1.p1.18.m18.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.18.m18.1b"><apply id="S3.SS1.p1.18.m18.1.1.cmml" xref="S3.SS1.p1.18.m18.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.18.m18.1.1.1.cmml" xref="S3.SS1.p1.18.m18.1.1">subscript</csymbol><ci id="S3.SS1.p1.18.m18.1.1.2.cmml" xref="S3.SS1.p1.18.m18.1.1.2">𝑝</ci><cn id="S3.SS1.p1.18.m18.1.1.3.cmml" type="integer" xref="S3.SS1.p1.18.m18.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.18.m18.1c">p_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.18.m18.1d">italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>.
However, when the sampled negative <math alttext="j" class="ltx_Math" display="inline" id="S3.SS1.p1.19.m19.1"><semantics id="S3.SS1.p1.19.m19.1a"><mi id="S3.SS1.p1.19.m19.1.1" xref="S3.SS1.p1.19.m19.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.19.m19.1b"><ci id="S3.SS1.p1.19.m19.1.1.cmml" xref="S3.SS1.p1.19.m19.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.19.m19.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.19.m19.1d">italic_j</annotation></semantics></math> is actually less preferable than <math alttext="k" class="ltx_Math" display="inline" id="S3.SS1.p1.20.m20.1"><semantics id="S3.SS1.p1.20.m20.1a"><mi id="S3.SS1.p1.20.m20.1.1" xref="S3.SS1.p1.20.m20.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.20.m20.1b"><ci id="S3.SS1.p1.20.m20.1.1.cmml" xref="S3.SS1.p1.20.m20.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.20.m20.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.20.m20.1d">italic_k</annotation></semantics></math>, the relation <math alttext="\hat{s}_{ui}&gt;\hat{s}_{uj}&gt;\hat{s}_{uk}" class="ltx_Math" display="inline" id="S3.SS1.p1.21.m21.1"><semantics id="S3.SS1.p1.21.m21.1a"><mrow id="S3.SS1.p1.21.m21.1.1" xref="S3.SS1.p1.21.m21.1.1.cmml"><msub id="S3.SS1.p1.21.m21.1.1.2" xref="S3.SS1.p1.21.m21.1.1.2.cmml"><mover accent="true" id="S3.SS1.p1.21.m21.1.1.2.2" xref="S3.SS1.p1.21.m21.1.1.2.2.cmml"><mi id="S3.SS1.p1.21.m21.1.1.2.2.2" xref="S3.SS1.p1.21.m21.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p1.21.m21.1.1.2.2.1" xref="S3.SS1.p1.21.m21.1.1.2.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p1.21.m21.1.1.2.3" xref="S3.SS1.p1.21.m21.1.1.2.3.cmml"><mi id="S3.SS1.p1.21.m21.1.1.2.3.2" xref="S3.SS1.p1.21.m21.1.1.2.3.2.cmml">u</mi><mo id="S3.SS1.p1.21.m21.1.1.2.3.1" xref="S3.SS1.p1.21.m21.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.21.m21.1.1.2.3.3" xref="S3.SS1.p1.21.m21.1.1.2.3.3.cmml">i</mi></mrow></msub><mo id="S3.SS1.p1.21.m21.1.1.3" xref="S3.SS1.p1.21.m21.1.1.3.cmml">&gt;</mo><msub id="S3.SS1.p1.21.m21.1.1.4" xref="S3.SS1.p1.21.m21.1.1.4.cmml"><mover accent="true" id="S3.SS1.p1.21.m21.1.1.4.2" xref="S3.SS1.p1.21.m21.1.1.4.2.cmml"><mi id="S3.SS1.p1.21.m21.1.1.4.2.2" xref="S3.SS1.p1.21.m21.1.1.4.2.2.cmml">s</mi><mo id="S3.SS1.p1.21.m21.1.1.4.2.1" xref="S3.SS1.p1.21.m21.1.1.4.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p1.21.m21.1.1.4.3" xref="S3.SS1.p1.21.m21.1.1.4.3.cmml"><mi id="S3.SS1.p1.21.m21.1.1.4.3.2" xref="S3.SS1.p1.21.m21.1.1.4.3.2.cmml">u</mi><mo id="S3.SS1.p1.21.m21.1.1.4.3.1" xref="S3.SS1.p1.21.m21.1.1.4.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.21.m21.1.1.4.3.3" xref="S3.SS1.p1.21.m21.1.1.4.3.3.cmml">j</mi></mrow></msub><mo id="S3.SS1.p1.21.m21.1.1.5" xref="S3.SS1.p1.21.m21.1.1.5.cmml">&gt;</mo><msub id="S3.SS1.p1.21.m21.1.1.6" xref="S3.SS1.p1.21.m21.1.1.6.cmml"><mover accent="true" id="S3.SS1.p1.21.m21.1.1.6.2" xref="S3.SS1.p1.21.m21.1.1.6.2.cmml"><mi id="S3.SS1.p1.21.m21.1.1.6.2.2" xref="S3.SS1.p1.21.m21.1.1.6.2.2.cmml">s</mi><mo id="S3.SS1.p1.21.m21.1.1.6.2.1" xref="S3.SS1.p1.21.m21.1.1.6.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p1.21.m21.1.1.6.3" xref="S3.SS1.p1.21.m21.1.1.6.3.cmml"><mi id="S3.SS1.p1.21.m21.1.1.6.3.2" xref="S3.SS1.p1.21.m21.1.1.6.3.2.cmml">u</mi><mo id="S3.SS1.p1.21.m21.1.1.6.3.1" xref="S3.SS1.p1.21.m21.1.1.6.3.1.cmml">⁢</mo><mi id="S3.SS1.p1.21.m21.1.1.6.3.3" xref="S3.SS1.p1.21.m21.1.1.6.3.3.cmml">k</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.21.m21.1b"><apply id="S3.SS1.p1.21.m21.1.1.cmml" xref="S3.SS1.p1.21.m21.1.1"><and id="S3.SS1.p1.21.m21.1.1a.cmml" xref="S3.SS1.p1.21.m21.1.1"></and><apply id="S3.SS1.p1.21.m21.1.1b.cmml" xref="S3.SS1.p1.21.m21.1.1"><gt id="S3.SS1.p1.21.m21.1.1.3.cmml" xref="S3.SS1.p1.21.m21.1.1.3"></gt><apply id="S3.SS1.p1.21.m21.1.1.2.cmml" xref="S3.SS1.p1.21.m21.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p1.21.m21.1.1.2.1.cmml" xref="S3.SS1.p1.21.m21.1.1.2">subscript</csymbol><apply id="S3.SS1.p1.21.m21.1.1.2.2.cmml" xref="S3.SS1.p1.21.m21.1.1.2.2"><ci id="S3.SS1.p1.21.m21.1.1.2.2.1.cmml" xref="S3.SS1.p1.21.m21.1.1.2.2.1">^</ci><ci id="S3.SS1.p1.21.m21.1.1.2.2.2.cmml" xref="S3.SS1.p1.21.m21.1.1.2.2.2">𝑠</ci></apply><apply id="S3.SS1.p1.21.m21.1.1.2.3.cmml" xref="S3.SS1.p1.21.m21.1.1.2.3"><times id="S3.SS1.p1.21.m21.1.1.2.3.1.cmml" xref="S3.SS1.p1.21.m21.1.1.2.3.1"></times><ci id="S3.SS1.p1.21.m21.1.1.2.3.2.cmml" xref="S3.SS1.p1.21.m21.1.1.2.3.2">𝑢</ci><ci id="S3.SS1.p1.21.m21.1.1.2.3.3.cmml" xref="S3.SS1.p1.21.m21.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.SS1.p1.21.m21.1.1.4.cmml" xref="S3.SS1.p1.21.m21.1.1.4"><csymbol cd="ambiguous" id="S3.SS1.p1.21.m21.1.1.4.1.cmml" xref="S3.SS1.p1.21.m21.1.1.4">subscript</csymbol><apply id="S3.SS1.p1.21.m21.1.1.4.2.cmml" xref="S3.SS1.p1.21.m21.1.1.4.2"><ci id="S3.SS1.p1.21.m21.1.1.4.2.1.cmml" xref="S3.SS1.p1.21.m21.1.1.4.2.1">^</ci><ci id="S3.SS1.p1.21.m21.1.1.4.2.2.cmml" xref="S3.SS1.p1.21.m21.1.1.4.2.2">𝑠</ci></apply><apply id="S3.SS1.p1.21.m21.1.1.4.3.cmml" xref="S3.SS1.p1.21.m21.1.1.4.3"><times id="S3.SS1.p1.21.m21.1.1.4.3.1.cmml" xref="S3.SS1.p1.21.m21.1.1.4.3.1"></times><ci id="S3.SS1.p1.21.m21.1.1.4.3.2.cmml" xref="S3.SS1.p1.21.m21.1.1.4.3.2">𝑢</ci><ci id="S3.SS1.p1.21.m21.1.1.4.3.3.cmml" xref="S3.SS1.p1.21.m21.1.1.4.3.3">𝑗</ci></apply></apply></apply><apply id="S3.SS1.p1.21.m21.1.1c.cmml" xref="S3.SS1.p1.21.m21.1.1"><gt id="S3.SS1.p1.21.m21.1.1.5.cmml" xref="S3.SS1.p1.21.m21.1.1.5"></gt><share href="https://arxiv.org/html/2408.00326v1#S3.SS1.p1.21.m21.1.1.4.cmml" id="S3.SS1.p1.21.m21.1.1d.cmml" xref="S3.SS1.p1.21.m21.1.1"></share><apply id="S3.SS1.p1.21.m21.1.1.6.cmml" xref="S3.SS1.p1.21.m21.1.1.6"><csymbol cd="ambiguous" id="S3.SS1.p1.21.m21.1.1.6.1.cmml" xref="S3.SS1.p1.21.m21.1.1.6">subscript</csymbol><apply id="S3.SS1.p1.21.m21.1.1.6.2.cmml" xref="S3.SS1.p1.21.m21.1.1.6.2"><ci id="S3.SS1.p1.21.m21.1.1.6.2.1.cmml" xref="S3.SS1.p1.21.m21.1.1.6.2.1">^</ci><ci id="S3.SS1.p1.21.m21.1.1.6.2.2.cmml" xref="S3.SS1.p1.21.m21.1.1.6.2.2">𝑠</ci></apply><apply id="S3.SS1.p1.21.m21.1.1.6.3.cmml" xref="S3.SS1.p1.21.m21.1.1.6.3"><times id="S3.SS1.p1.21.m21.1.1.6.3.1.cmml" xref="S3.SS1.p1.21.m21.1.1.6.3.1"></times><ci id="S3.SS1.p1.21.m21.1.1.6.3.2.cmml" xref="S3.SS1.p1.21.m21.1.1.6.3.2">𝑢</ci><ci id="S3.SS1.p1.21.m21.1.1.6.3.3.cmml" xref="S3.SS1.p1.21.m21.1.1.6.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.21.m21.1c">\hat{s}_{ui}&gt;\hat{s}_{uj}&gt;\hat{s}_{uk}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.21.m21.1d">over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT &gt; over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT &gt; over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_k end_POSTSUBSCRIPT</annotation></semantics></math> is violated.
We refer this scheme as weak transitivity which allows such occasional violations.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.7">The concept of transitivity with multiple negatives is straightforward as well.
Instead of sampling a single negative from each distribution, we sample a set of negatives <math alttext="\mathcal{N}_{j}=\{j_{1},\ldots,j_{n}\}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.3"><semantics id="S3.SS1.p2.1.m1.3a"><mrow id="S3.SS1.p2.1.m1.3.3" xref="S3.SS1.p2.1.m1.3.3.cmml"><msub id="S3.SS1.p2.1.m1.3.3.4" xref="S3.SS1.p2.1.m1.3.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.1.m1.3.3.4.2" xref="S3.SS1.p2.1.m1.3.3.4.2.cmml">𝒩</mi><mi id="S3.SS1.p2.1.m1.3.3.4.3" xref="S3.SS1.p2.1.m1.3.3.4.3.cmml">j</mi></msub><mo id="S3.SS1.p2.1.m1.3.3.3" xref="S3.SS1.p2.1.m1.3.3.3.cmml">=</mo><mrow id="S3.SS1.p2.1.m1.3.3.2.2" xref="S3.SS1.p2.1.m1.3.3.2.3.cmml"><mo id="S3.SS1.p2.1.m1.3.3.2.2.3" stretchy="false" xref="S3.SS1.p2.1.m1.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p2.1.m1.2.2.1.1.1" xref="S3.SS1.p2.1.m1.2.2.1.1.1.cmml"><mi id="S3.SS1.p2.1.m1.2.2.1.1.1.2" xref="S3.SS1.p2.1.m1.2.2.1.1.1.2.cmml">j</mi><mn id="S3.SS1.p2.1.m1.2.2.1.1.1.3" xref="S3.SS1.p2.1.m1.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p2.1.m1.3.3.2.2.4" xref="S3.SS1.p2.1.m1.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p2.1.m1.1.1" mathvariant="normal" xref="S3.SS1.p2.1.m1.1.1.cmml">…</mi><mo id="S3.SS1.p2.1.m1.3.3.2.2.5" xref="S3.SS1.p2.1.m1.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p2.1.m1.3.3.2.2.2" xref="S3.SS1.p2.1.m1.3.3.2.2.2.cmml"><mi id="S3.SS1.p2.1.m1.3.3.2.2.2.2" xref="S3.SS1.p2.1.m1.3.3.2.2.2.2.cmml">j</mi><mi id="S3.SS1.p2.1.m1.3.3.2.2.2.3" xref="S3.SS1.p2.1.m1.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS1.p2.1.m1.3.3.2.2.6" stretchy="false" xref="S3.SS1.p2.1.m1.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.3b"><apply id="S3.SS1.p2.1.m1.3.3.cmml" xref="S3.SS1.p2.1.m1.3.3"><eq id="S3.SS1.p2.1.m1.3.3.3.cmml" xref="S3.SS1.p2.1.m1.3.3.3"></eq><apply id="S3.SS1.p2.1.m1.3.3.4.cmml" xref="S3.SS1.p2.1.m1.3.3.4"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.3.3.4.1.cmml" xref="S3.SS1.p2.1.m1.3.3.4">subscript</csymbol><ci id="S3.SS1.p2.1.m1.3.3.4.2.cmml" xref="S3.SS1.p2.1.m1.3.3.4.2">𝒩</ci><ci id="S3.SS1.p2.1.m1.3.3.4.3.cmml" xref="S3.SS1.p2.1.m1.3.3.4.3">𝑗</ci></apply><set id="S3.SS1.p2.1.m1.3.3.2.3.cmml" xref="S3.SS1.p2.1.m1.3.3.2.2"><apply id="S3.SS1.p2.1.m1.2.2.1.1.1.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.2.2.1.1.1.2">𝑗</ci><cn id="S3.SS1.p2.1.m1.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p2.1.m1.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">…</ci><apply id="S3.SS1.p2.1.m1.3.3.2.2.2.cmml" xref="S3.SS1.p2.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.3.3.2.2.2.1.cmml" xref="S3.SS1.p2.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.1.m1.3.3.2.2.2.2.cmml" xref="S3.SS1.p2.1.m1.3.3.2.2.2.2">𝑗</ci><ci id="S3.SS1.p2.1.m1.3.3.2.2.2.3.cmml" xref="S3.SS1.p2.1.m1.3.3.2.2.2.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.3c">\mathcal{N}_{j}=\{j_{1},\ldots,j_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.3d">caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = { italic_j start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_j start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math> from <math alttext="p_{1}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">p</mi><mn id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑝</ci><cn id="S3.SS1.p2.2.m2.1.1.3.cmml" type="integer" xref="S3.SS1.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">p_{1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_p start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{N}_{k}=\{k_{1},\ldots,k_{n}\}" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.3"><semantics id="S3.SS1.p2.3.m3.3a"><mrow id="S3.SS1.p2.3.m3.3.3" xref="S3.SS1.p2.3.m3.3.3.cmml"><msub id="S3.SS1.p2.3.m3.3.3.4" xref="S3.SS1.p2.3.m3.3.3.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.3.m3.3.3.4.2" xref="S3.SS1.p2.3.m3.3.3.4.2.cmml">𝒩</mi><mi id="S3.SS1.p2.3.m3.3.3.4.3" xref="S3.SS1.p2.3.m3.3.3.4.3.cmml">k</mi></msub><mo id="S3.SS1.p2.3.m3.3.3.3" xref="S3.SS1.p2.3.m3.3.3.3.cmml">=</mo><mrow id="S3.SS1.p2.3.m3.3.3.2.2" xref="S3.SS1.p2.3.m3.3.3.2.3.cmml"><mo id="S3.SS1.p2.3.m3.3.3.2.2.3" stretchy="false" xref="S3.SS1.p2.3.m3.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p2.3.m3.2.2.1.1.1" xref="S3.SS1.p2.3.m3.2.2.1.1.1.cmml"><mi id="S3.SS1.p2.3.m3.2.2.1.1.1.2" xref="S3.SS1.p2.3.m3.2.2.1.1.1.2.cmml">k</mi><mn id="S3.SS1.p2.3.m3.2.2.1.1.1.3" xref="S3.SS1.p2.3.m3.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.SS1.p2.3.m3.3.3.2.2.4" xref="S3.SS1.p2.3.m3.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p2.3.m3.1.1" mathvariant="normal" xref="S3.SS1.p2.3.m3.1.1.cmml">…</mi><mo id="S3.SS1.p2.3.m3.3.3.2.2.5" xref="S3.SS1.p2.3.m3.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p2.3.m3.3.3.2.2.2" xref="S3.SS1.p2.3.m3.3.3.2.2.2.cmml"><mi id="S3.SS1.p2.3.m3.3.3.2.2.2.2" xref="S3.SS1.p2.3.m3.3.3.2.2.2.2.cmml">k</mi><mi id="S3.SS1.p2.3.m3.3.3.2.2.2.3" xref="S3.SS1.p2.3.m3.3.3.2.2.2.3.cmml">n</mi></msub><mo id="S3.SS1.p2.3.m3.3.3.2.2.6" stretchy="false" xref="S3.SS1.p2.3.m3.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.3b"><apply id="S3.SS1.p2.3.m3.3.3.cmml" xref="S3.SS1.p2.3.m3.3.3"><eq id="S3.SS1.p2.3.m3.3.3.3.cmml" xref="S3.SS1.p2.3.m3.3.3.3"></eq><apply id="S3.SS1.p2.3.m3.3.3.4.cmml" xref="S3.SS1.p2.3.m3.3.3.4"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.3.3.4.1.cmml" xref="S3.SS1.p2.3.m3.3.3.4">subscript</csymbol><ci id="S3.SS1.p2.3.m3.3.3.4.2.cmml" xref="S3.SS1.p2.3.m3.3.3.4.2">𝒩</ci><ci id="S3.SS1.p2.3.m3.3.3.4.3.cmml" xref="S3.SS1.p2.3.m3.3.3.4.3">𝑘</ci></apply><set id="S3.SS1.p2.3.m3.3.3.2.3.cmml" xref="S3.SS1.p2.3.m3.3.3.2.2"><apply id="S3.SS1.p2.3.m3.2.2.1.1.1.cmml" xref="S3.SS1.p2.3.m3.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.3.m3.2.2.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.3.m3.2.2.1.1.1.2">𝑘</ci><cn id="S3.SS1.p2.3.m3.2.2.1.1.1.3.cmml" type="integer" xref="S3.SS1.p2.3.m3.2.2.1.1.1.3">1</cn></apply><ci id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">…</ci><apply id="S3.SS1.p2.3.m3.3.3.2.2.2.cmml" xref="S3.SS1.p2.3.m3.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.3.3.2.2.2.1.cmml" xref="S3.SS1.p2.3.m3.3.3.2.2.2">subscript</csymbol><ci id="S3.SS1.p2.3.m3.3.3.2.2.2.2.cmml" xref="S3.SS1.p2.3.m3.3.3.2.2.2.2">𝑘</ci><ci id="S3.SS1.p2.3.m3.3.3.2.2.2.3.cmml" xref="S3.SS1.p2.3.m3.3.3.2.2.2.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.3c">\mathcal{N}_{k}=\{k_{1},\ldots,k_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.3d">caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT = { italic_k start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , … , italic_k start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math> from <math alttext="p_{2}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><msub id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">p</mi><mn id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">𝑝</ci><cn id="S3.SS1.p2.4.m4.1.1.3.cmml" type="integer" xref="S3.SS1.p2.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">p_{2}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_p start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>.
Consequently, with <math alttext="\hat{s}_{\mathcal{N}_{j}}=\{\hat{s}_{uj_{1}},\ldots,\hat{s}_{uj_{n}}\}" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.3"><semantics id="S3.SS1.p2.5.m5.3a"><mrow id="S3.SS1.p2.5.m5.3.3" xref="S3.SS1.p2.5.m5.3.3.cmml"><msub id="S3.SS1.p2.5.m5.3.3.4" xref="S3.SS1.p2.5.m5.3.3.4.cmml"><mover accent="true" id="S3.SS1.p2.5.m5.3.3.4.2" xref="S3.SS1.p2.5.m5.3.3.4.2.cmml"><mi id="S3.SS1.p2.5.m5.3.3.4.2.2" xref="S3.SS1.p2.5.m5.3.3.4.2.2.cmml">s</mi><mo id="S3.SS1.p2.5.m5.3.3.4.2.1" xref="S3.SS1.p2.5.m5.3.3.4.2.1.cmml">^</mo></mover><msub id="S3.SS1.p2.5.m5.3.3.4.3" xref="S3.SS1.p2.5.m5.3.3.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.5.m5.3.3.4.3.2" xref="S3.SS1.p2.5.m5.3.3.4.3.2.cmml">𝒩</mi><mi id="S3.SS1.p2.5.m5.3.3.4.3.3" xref="S3.SS1.p2.5.m5.3.3.4.3.3.cmml">j</mi></msub></msub><mo id="S3.SS1.p2.5.m5.3.3.3" xref="S3.SS1.p2.5.m5.3.3.3.cmml">=</mo><mrow id="S3.SS1.p2.5.m5.3.3.2.2" xref="S3.SS1.p2.5.m5.3.3.2.3.cmml"><mo id="S3.SS1.p2.5.m5.3.3.2.2.3" stretchy="false" xref="S3.SS1.p2.5.m5.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p2.5.m5.2.2.1.1.1" xref="S3.SS1.p2.5.m5.2.2.1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.5.m5.2.2.1.1.1.2" xref="S3.SS1.p2.5.m5.2.2.1.1.1.2.cmml"><mi id="S3.SS1.p2.5.m5.2.2.1.1.1.2.2" xref="S3.SS1.p2.5.m5.2.2.1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p2.5.m5.2.2.1.1.1.2.1" xref="S3.SS1.p2.5.m5.2.2.1.1.1.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p2.5.m5.2.2.1.1.1.3" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.cmml"><mi id="S3.SS1.p2.5.m5.2.2.1.1.1.3.2" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.2.cmml">u</mi><mo id="S3.SS1.p2.5.m5.2.2.1.1.1.3.1" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.1.cmml">⁢</mo><msub id="S3.SS1.p2.5.m5.2.2.1.1.1.3.3" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.cmml"><mi id="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.2" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.2.cmml">j</mi><mn id="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.3" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.3.cmml">1</mn></msub></mrow></msub><mo id="S3.SS1.p2.5.m5.3.3.2.2.4" xref="S3.SS1.p2.5.m5.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p2.5.m5.1.1" mathvariant="normal" xref="S3.SS1.p2.5.m5.1.1.cmml">…</mi><mo id="S3.SS1.p2.5.m5.3.3.2.2.5" xref="S3.SS1.p2.5.m5.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p2.5.m5.3.3.2.2.2" xref="S3.SS1.p2.5.m5.3.3.2.2.2.cmml"><mover accent="true" id="S3.SS1.p2.5.m5.3.3.2.2.2.2" xref="S3.SS1.p2.5.m5.3.3.2.2.2.2.cmml"><mi id="S3.SS1.p2.5.m5.3.3.2.2.2.2.2" xref="S3.SS1.p2.5.m5.3.3.2.2.2.2.2.cmml">s</mi><mo id="S3.SS1.p2.5.m5.3.3.2.2.2.2.1" xref="S3.SS1.p2.5.m5.3.3.2.2.2.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p2.5.m5.3.3.2.2.2.3" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.cmml"><mi id="S3.SS1.p2.5.m5.3.3.2.2.2.3.2" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.2.cmml">u</mi><mo id="S3.SS1.p2.5.m5.3.3.2.2.2.3.1" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.1.cmml">⁢</mo><msub id="S3.SS1.p2.5.m5.3.3.2.2.2.3.3" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.cmml"><mi id="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.2" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.2.cmml">j</mi><mi id="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.3" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.3.cmml">n</mi></msub></mrow></msub><mo id="S3.SS1.p2.5.m5.3.3.2.2.6" stretchy="false" xref="S3.SS1.p2.5.m5.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.3b"><apply id="S3.SS1.p2.5.m5.3.3.cmml" xref="S3.SS1.p2.5.m5.3.3"><eq id="S3.SS1.p2.5.m5.3.3.3.cmml" xref="S3.SS1.p2.5.m5.3.3.3"></eq><apply id="S3.SS1.p2.5.m5.3.3.4.cmml" xref="S3.SS1.p2.5.m5.3.3.4"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.3.3.4.1.cmml" xref="S3.SS1.p2.5.m5.3.3.4">subscript</csymbol><apply id="S3.SS1.p2.5.m5.3.3.4.2.cmml" xref="S3.SS1.p2.5.m5.3.3.4.2"><ci id="S3.SS1.p2.5.m5.3.3.4.2.1.cmml" xref="S3.SS1.p2.5.m5.3.3.4.2.1">^</ci><ci id="S3.SS1.p2.5.m5.3.3.4.2.2.cmml" xref="S3.SS1.p2.5.m5.3.3.4.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.5.m5.3.3.4.3.cmml" xref="S3.SS1.p2.5.m5.3.3.4.3"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.3.3.4.3.1.cmml" xref="S3.SS1.p2.5.m5.3.3.4.3">subscript</csymbol><ci id="S3.SS1.p2.5.m5.3.3.4.3.2.cmml" xref="S3.SS1.p2.5.m5.3.3.4.3.2">𝒩</ci><ci id="S3.SS1.p2.5.m5.3.3.4.3.3.cmml" xref="S3.SS1.p2.5.m5.3.3.4.3.3">𝑗</ci></apply></apply><set id="S3.SS1.p2.5.m5.3.3.2.3.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2"><apply id="S3.SS1.p2.5.m5.2.2.1.1.1.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1">subscript</csymbol><apply id="S3.SS1.p2.5.m5.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.2"><ci id="S3.SS1.p2.5.m5.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.2.1">^</ci><ci id="S3.SS1.p2.5.m5.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.5.m5.2.2.1.1.1.3.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3"><times id="S3.SS1.p2.5.m5.2.2.1.1.1.3.1.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.1"></times><ci id="S3.SS1.p2.5.m5.2.2.1.1.1.3.2.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.2">𝑢</ci><apply id="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.1.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.3">subscript</csymbol><ci id="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.2.cmml" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.2">𝑗</ci><cn id="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.3.cmml" type="integer" xref="S3.SS1.p2.5.m5.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply><ci id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">…</ci><apply id="S3.SS1.p2.5.m5.3.3.2.2.2.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.3.3.2.2.2.1.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2">subscript</csymbol><apply id="S3.SS1.p2.5.m5.3.3.2.2.2.2.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.2"><ci id="S3.SS1.p2.5.m5.3.3.2.2.2.2.1.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.2.1">^</ci><ci id="S3.SS1.p2.5.m5.3.3.2.2.2.2.2.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.5.m5.3.3.2.2.2.3.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3"><times id="S3.SS1.p2.5.m5.3.3.2.2.2.3.1.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.1"></times><ci id="S3.SS1.p2.5.m5.3.3.2.2.2.3.2.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.2">𝑢</ci><apply id="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.1.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.3">subscript</csymbol><ci id="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.2.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.2">𝑗</ci><ci id="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.3.cmml" xref="S3.SS1.p2.5.m5.3.3.2.2.2.3.3.3">𝑛</ci></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.3c">\hat{s}_{\mathcal{N}_{j}}=\{\hat{s}_{uj_{1}},\ldots,\hat{s}_{uj_{n}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.3d">over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT = { over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT , … , over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUBSCRIPT }</annotation></semantics></math> and <math alttext="\hat{s}_{\mathcal{N}_{k}}=\{\hat{s}_{uk_{1}},\ldots,\hat{s}_{uk_{n}}\}" class="ltx_Math" display="inline" id="S3.SS1.p2.6.m6.3"><semantics id="S3.SS1.p2.6.m6.3a"><mrow id="S3.SS1.p2.6.m6.3.3" xref="S3.SS1.p2.6.m6.3.3.cmml"><msub id="S3.SS1.p2.6.m6.3.3.4" xref="S3.SS1.p2.6.m6.3.3.4.cmml"><mover accent="true" id="S3.SS1.p2.6.m6.3.3.4.2" xref="S3.SS1.p2.6.m6.3.3.4.2.cmml"><mi id="S3.SS1.p2.6.m6.3.3.4.2.2" xref="S3.SS1.p2.6.m6.3.3.4.2.2.cmml">s</mi><mo id="S3.SS1.p2.6.m6.3.3.4.2.1" xref="S3.SS1.p2.6.m6.3.3.4.2.1.cmml">^</mo></mover><msub id="S3.SS1.p2.6.m6.3.3.4.3" xref="S3.SS1.p2.6.m6.3.3.4.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.6.m6.3.3.4.3.2" xref="S3.SS1.p2.6.m6.3.3.4.3.2.cmml">𝒩</mi><mi id="S3.SS1.p2.6.m6.3.3.4.3.3" xref="S3.SS1.p2.6.m6.3.3.4.3.3.cmml">k</mi></msub></msub><mo id="S3.SS1.p2.6.m6.3.3.3" xref="S3.SS1.p2.6.m6.3.3.3.cmml">=</mo><mrow id="S3.SS1.p2.6.m6.3.3.2.2" xref="S3.SS1.p2.6.m6.3.3.2.3.cmml"><mo id="S3.SS1.p2.6.m6.3.3.2.2.3" stretchy="false" xref="S3.SS1.p2.6.m6.3.3.2.3.cmml">{</mo><msub id="S3.SS1.p2.6.m6.2.2.1.1.1" xref="S3.SS1.p2.6.m6.2.2.1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.6.m6.2.2.1.1.1.2" xref="S3.SS1.p2.6.m6.2.2.1.1.1.2.cmml"><mi id="S3.SS1.p2.6.m6.2.2.1.1.1.2.2" xref="S3.SS1.p2.6.m6.2.2.1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p2.6.m6.2.2.1.1.1.2.1" xref="S3.SS1.p2.6.m6.2.2.1.1.1.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p2.6.m6.2.2.1.1.1.3" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.cmml"><mi id="S3.SS1.p2.6.m6.2.2.1.1.1.3.2" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.2.cmml">u</mi><mo id="S3.SS1.p2.6.m6.2.2.1.1.1.3.1" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.1.cmml">⁢</mo><msub id="S3.SS1.p2.6.m6.2.2.1.1.1.3.3" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.cmml"><mi id="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.2" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.2.cmml">k</mi><mn id="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.3" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.3.cmml">1</mn></msub></mrow></msub><mo id="S3.SS1.p2.6.m6.3.3.2.2.4" xref="S3.SS1.p2.6.m6.3.3.2.3.cmml">,</mo><mi id="S3.SS1.p2.6.m6.1.1" mathvariant="normal" xref="S3.SS1.p2.6.m6.1.1.cmml">…</mi><mo id="S3.SS1.p2.6.m6.3.3.2.2.5" xref="S3.SS1.p2.6.m6.3.3.2.3.cmml">,</mo><msub id="S3.SS1.p2.6.m6.3.3.2.2.2" xref="S3.SS1.p2.6.m6.3.3.2.2.2.cmml"><mover accent="true" id="S3.SS1.p2.6.m6.3.3.2.2.2.2" xref="S3.SS1.p2.6.m6.3.3.2.2.2.2.cmml"><mi id="S3.SS1.p2.6.m6.3.3.2.2.2.2.2" xref="S3.SS1.p2.6.m6.3.3.2.2.2.2.2.cmml">s</mi><mo id="S3.SS1.p2.6.m6.3.3.2.2.2.2.1" xref="S3.SS1.p2.6.m6.3.3.2.2.2.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p2.6.m6.3.3.2.2.2.3" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.cmml"><mi id="S3.SS1.p2.6.m6.3.3.2.2.2.3.2" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.2.cmml">u</mi><mo id="S3.SS1.p2.6.m6.3.3.2.2.2.3.1" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.1.cmml">⁢</mo><msub id="S3.SS1.p2.6.m6.3.3.2.2.2.3.3" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.cmml"><mi id="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.2" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.2.cmml">k</mi><mi id="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.3" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.3.cmml">n</mi></msub></mrow></msub><mo id="S3.SS1.p2.6.m6.3.3.2.2.6" stretchy="false" xref="S3.SS1.p2.6.m6.3.3.2.3.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.3b"><apply id="S3.SS1.p2.6.m6.3.3.cmml" xref="S3.SS1.p2.6.m6.3.3"><eq id="S3.SS1.p2.6.m6.3.3.3.cmml" xref="S3.SS1.p2.6.m6.3.3.3"></eq><apply id="S3.SS1.p2.6.m6.3.3.4.cmml" xref="S3.SS1.p2.6.m6.3.3.4"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.3.3.4.1.cmml" xref="S3.SS1.p2.6.m6.3.3.4">subscript</csymbol><apply id="S3.SS1.p2.6.m6.3.3.4.2.cmml" xref="S3.SS1.p2.6.m6.3.3.4.2"><ci id="S3.SS1.p2.6.m6.3.3.4.2.1.cmml" xref="S3.SS1.p2.6.m6.3.3.4.2.1">^</ci><ci id="S3.SS1.p2.6.m6.3.3.4.2.2.cmml" xref="S3.SS1.p2.6.m6.3.3.4.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.6.m6.3.3.4.3.cmml" xref="S3.SS1.p2.6.m6.3.3.4.3"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.3.3.4.3.1.cmml" xref="S3.SS1.p2.6.m6.3.3.4.3">subscript</csymbol><ci id="S3.SS1.p2.6.m6.3.3.4.3.2.cmml" xref="S3.SS1.p2.6.m6.3.3.4.3.2">𝒩</ci><ci id="S3.SS1.p2.6.m6.3.3.4.3.3.cmml" xref="S3.SS1.p2.6.m6.3.3.4.3.3">𝑘</ci></apply></apply><set id="S3.SS1.p2.6.m6.3.3.2.3.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2"><apply id="S3.SS1.p2.6.m6.2.2.1.1.1.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.2.2.1.1.1.1.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1">subscript</csymbol><apply id="S3.SS1.p2.6.m6.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.2"><ci id="S3.SS1.p2.6.m6.2.2.1.1.1.2.1.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.2.1">^</ci><ci id="S3.SS1.p2.6.m6.2.2.1.1.1.2.2.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.6.m6.2.2.1.1.1.3.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3"><times id="S3.SS1.p2.6.m6.2.2.1.1.1.3.1.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.1"></times><ci id="S3.SS1.p2.6.m6.2.2.1.1.1.3.2.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.2">𝑢</ci><apply id="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.1.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.3">subscript</csymbol><ci id="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.2.cmml" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.2">𝑘</ci><cn id="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.3.cmml" type="integer" xref="S3.SS1.p2.6.m6.2.2.1.1.1.3.3.3">1</cn></apply></apply></apply><ci id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">…</ci><apply id="S3.SS1.p2.6.m6.3.3.2.2.2.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.3.3.2.2.2.1.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2">subscript</csymbol><apply id="S3.SS1.p2.6.m6.3.3.2.2.2.2.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.2"><ci id="S3.SS1.p2.6.m6.3.3.2.2.2.2.1.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.2.1">^</ci><ci id="S3.SS1.p2.6.m6.3.3.2.2.2.2.2.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.6.m6.3.3.2.2.2.3.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3"><times id="S3.SS1.p2.6.m6.3.3.2.2.2.3.1.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.1"></times><ci id="S3.SS1.p2.6.m6.3.3.2.2.2.3.2.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.2">𝑢</ci><apply id="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.1.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.3">subscript</csymbol><ci id="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.2.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.2">𝑘</ci><ci id="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.3.cmml" xref="S3.SS1.p2.6.m6.3.3.2.2.2.3.3.3">𝑛</ci></apply></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.3c">\hat{s}_{\mathcal{N}_{k}}=\{\hat{s}_{uk_{1}},\ldots,\hat{s}_{uk_{n}}\}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.6.m6.3d">over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT = { over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_k start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT , … , over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_k start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT end_POSTSUBSCRIPT }</annotation></semantics></math>,
a transitive relation is modified as <math alttext="\hat{s}_{ui}&gt;\max(\hat{s}_{\mathcal{N}_{j}})&gt;\min(\hat{s}_{\mathcal{N}_{j}})&gt;%
\max(\hat{s}_{\mathcal{N}_{k}})" class="ltx_Math" display="inline" id="S3.SS1.p2.7.m7.6"><semantics id="S3.SS1.p2.7.m7.6a"><mrow id="S3.SS1.p2.7.m7.6.6" xref="S3.SS1.p2.7.m7.6.6.cmml"><msub id="S3.SS1.p2.7.m7.6.6.5" xref="S3.SS1.p2.7.m7.6.6.5.cmml"><mover accent="true" id="S3.SS1.p2.7.m7.6.6.5.2" xref="S3.SS1.p2.7.m7.6.6.5.2.cmml"><mi id="S3.SS1.p2.7.m7.6.6.5.2.2" xref="S3.SS1.p2.7.m7.6.6.5.2.2.cmml">s</mi><mo id="S3.SS1.p2.7.m7.6.6.5.2.1" xref="S3.SS1.p2.7.m7.6.6.5.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p2.7.m7.6.6.5.3" xref="S3.SS1.p2.7.m7.6.6.5.3.cmml"><mi id="S3.SS1.p2.7.m7.6.6.5.3.2" xref="S3.SS1.p2.7.m7.6.6.5.3.2.cmml">u</mi><mo id="S3.SS1.p2.7.m7.6.6.5.3.1" xref="S3.SS1.p2.7.m7.6.6.5.3.1.cmml">⁢</mo><mi id="S3.SS1.p2.7.m7.6.6.5.3.3" xref="S3.SS1.p2.7.m7.6.6.5.3.3.cmml">i</mi></mrow></msub><mo id="S3.SS1.p2.7.m7.6.6.6" xref="S3.SS1.p2.7.m7.6.6.6.cmml">&gt;</mo><mrow id="S3.SS1.p2.7.m7.4.4.1.1" xref="S3.SS1.p2.7.m7.4.4.1.2.cmml"><mi id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml">max</mi><mo id="S3.SS1.p2.7.m7.4.4.1.1a" xref="S3.SS1.p2.7.m7.4.4.1.2.cmml">⁡</mo><mrow id="S3.SS1.p2.7.m7.4.4.1.1.1" xref="S3.SS1.p2.7.m7.4.4.1.2.cmml"><mo id="S3.SS1.p2.7.m7.4.4.1.1.1.2" stretchy="false" xref="S3.SS1.p2.7.m7.4.4.1.2.cmml">(</mo><msub id="S3.SS1.p2.7.m7.4.4.1.1.1.1" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.7.m7.4.4.1.1.1.1.2" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.cmml"><mi id="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.2" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.1" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.1.cmml">^</mo></mover><msub id="S3.SS1.p2.7.m7.4.4.1.1.1.1.3" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.2" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.2.cmml">𝒩</mi><mi id="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.3" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S3.SS1.p2.7.m7.4.4.1.1.1.3" stretchy="false" xref="S3.SS1.p2.7.m7.4.4.1.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p2.7.m7.6.6.7" xref="S3.SS1.p2.7.m7.6.6.7.cmml">&gt;</mo><mrow id="S3.SS1.p2.7.m7.5.5.2.1" xref="S3.SS1.p2.7.m7.5.5.2.2.cmml"><mi id="S3.SS1.p2.7.m7.2.2" xref="S3.SS1.p2.7.m7.2.2.cmml">min</mi><mo id="S3.SS1.p2.7.m7.5.5.2.1a" xref="S3.SS1.p2.7.m7.5.5.2.2.cmml">⁡</mo><mrow id="S3.SS1.p2.7.m7.5.5.2.1.1" xref="S3.SS1.p2.7.m7.5.5.2.2.cmml"><mo id="S3.SS1.p2.7.m7.5.5.2.1.1.2" stretchy="false" xref="S3.SS1.p2.7.m7.5.5.2.2.cmml">(</mo><msub id="S3.SS1.p2.7.m7.5.5.2.1.1.1" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.7.m7.5.5.2.1.1.1.2" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.cmml"><mi id="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.2" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.1" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.1.cmml">^</mo></mover><msub id="S3.SS1.p2.7.m7.5.5.2.1.1.1.3" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.2" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.2.cmml">𝒩</mi><mi id="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.3" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.3.cmml">j</mi></msub></msub><mo id="S3.SS1.p2.7.m7.5.5.2.1.1.3" stretchy="false" xref="S3.SS1.p2.7.m7.5.5.2.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p2.7.m7.6.6.8" xref="S3.SS1.p2.7.m7.6.6.8.cmml">&gt;</mo><mrow id="S3.SS1.p2.7.m7.6.6.3.1" xref="S3.SS1.p2.7.m7.6.6.3.2.cmml"><mi id="S3.SS1.p2.7.m7.3.3" xref="S3.SS1.p2.7.m7.3.3.cmml">max</mi><mo id="S3.SS1.p2.7.m7.6.6.3.1a" xref="S3.SS1.p2.7.m7.6.6.3.2.cmml">⁡</mo><mrow id="S3.SS1.p2.7.m7.6.6.3.1.1" xref="S3.SS1.p2.7.m7.6.6.3.2.cmml"><mo id="S3.SS1.p2.7.m7.6.6.3.1.1.2" stretchy="false" xref="S3.SS1.p2.7.m7.6.6.3.2.cmml">(</mo><msub id="S3.SS1.p2.7.m7.6.6.3.1.1.1" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.7.m7.6.6.3.1.1.1.2" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.cmml"><mi id="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.2" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.1" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.1.cmml">^</mo></mover><msub id="S3.SS1.p2.7.m7.6.6.3.1.1.1.3" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.2" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.2.cmml">𝒩</mi><mi id="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.3" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.3.cmml">k</mi></msub></msub><mo id="S3.SS1.p2.7.m7.6.6.3.1.1.3" stretchy="false" xref="S3.SS1.p2.7.m7.6.6.3.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.6b"><apply id="S3.SS1.p2.7.m7.6.6.cmml" xref="S3.SS1.p2.7.m7.6.6"><and id="S3.SS1.p2.7.m7.6.6a.cmml" xref="S3.SS1.p2.7.m7.6.6"></and><apply id="S3.SS1.p2.7.m7.6.6b.cmml" xref="S3.SS1.p2.7.m7.6.6"><gt id="S3.SS1.p2.7.m7.6.6.6.cmml" xref="S3.SS1.p2.7.m7.6.6.6"></gt><apply id="S3.SS1.p2.7.m7.6.6.5.cmml" xref="S3.SS1.p2.7.m7.6.6.5"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.6.6.5.1.cmml" xref="S3.SS1.p2.7.m7.6.6.5">subscript</csymbol><apply id="S3.SS1.p2.7.m7.6.6.5.2.cmml" xref="S3.SS1.p2.7.m7.6.6.5.2"><ci id="S3.SS1.p2.7.m7.6.6.5.2.1.cmml" xref="S3.SS1.p2.7.m7.6.6.5.2.1">^</ci><ci id="S3.SS1.p2.7.m7.6.6.5.2.2.cmml" xref="S3.SS1.p2.7.m7.6.6.5.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.7.m7.6.6.5.3.cmml" xref="S3.SS1.p2.7.m7.6.6.5.3"><times id="S3.SS1.p2.7.m7.6.6.5.3.1.cmml" xref="S3.SS1.p2.7.m7.6.6.5.3.1"></times><ci id="S3.SS1.p2.7.m7.6.6.5.3.2.cmml" xref="S3.SS1.p2.7.m7.6.6.5.3.2">𝑢</ci><ci id="S3.SS1.p2.7.m7.6.6.5.3.3.cmml" xref="S3.SS1.p2.7.m7.6.6.5.3.3">𝑖</ci></apply></apply><apply id="S3.SS1.p2.7.m7.4.4.1.2.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1"><max id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1"></max><apply id="S3.SS1.p2.7.m7.4.4.1.1.1.1.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.4.4.1.1.1.1.1.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1">subscript</csymbol><apply id="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.2"><ci id="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.1">^</ci><ci id="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.1.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.2.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.2">𝒩</ci><ci id="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.3.cmml" xref="S3.SS1.p2.7.m7.4.4.1.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply><apply id="S3.SS1.p2.7.m7.6.6c.cmml" xref="S3.SS1.p2.7.m7.6.6"><gt id="S3.SS1.p2.7.m7.6.6.7.cmml" xref="S3.SS1.p2.7.m7.6.6.7"></gt><share href="https://arxiv.org/html/2408.00326v1#S3.SS1.p2.7.m7.4.4.1.cmml" id="S3.SS1.p2.7.m7.6.6d.cmml" xref="S3.SS1.p2.7.m7.6.6"></share><apply id="S3.SS1.p2.7.m7.5.5.2.2.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1"><min id="S3.SS1.p2.7.m7.2.2.cmml" xref="S3.SS1.p2.7.m7.2.2"></min><apply id="S3.SS1.p2.7.m7.5.5.2.1.1.1.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.5.5.2.1.1.1.1.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1">subscript</csymbol><apply id="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.2"><ci id="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.1.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.1">^</ci><ci id="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.2.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.1.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.2.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.2">𝒩</ci><ci id="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.3.cmml" xref="S3.SS1.p2.7.m7.5.5.2.1.1.1.3.3">𝑗</ci></apply></apply></apply></apply><apply id="S3.SS1.p2.7.m7.6.6e.cmml" xref="S3.SS1.p2.7.m7.6.6"><gt id="S3.SS1.p2.7.m7.6.6.8.cmml" xref="S3.SS1.p2.7.m7.6.6.8"></gt><share href="https://arxiv.org/html/2408.00326v1#S3.SS1.p2.7.m7.5.5.2.cmml" id="S3.SS1.p2.7.m7.6.6f.cmml" xref="S3.SS1.p2.7.m7.6.6"></share><apply id="S3.SS1.p2.7.m7.6.6.3.2.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1"><max id="S3.SS1.p2.7.m7.3.3.cmml" xref="S3.SS1.p2.7.m7.3.3"></max><apply id="S3.SS1.p2.7.m7.6.6.3.1.1.1.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.6.6.3.1.1.1.1.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1">subscript</csymbol><apply id="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.2"><ci id="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.1.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.1">^</ci><ci id="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.2.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.2.2">𝑠</ci></apply><apply id="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.1.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.2.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.2">𝒩</ci><ci id="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.3.cmml" xref="S3.SS1.p2.7.m7.6.6.3.1.1.1.3.3">𝑘</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.6c">\hat{s}_{ui}&gt;\max(\hat{s}_{\mathcal{N}_{j}})&gt;\min(\hat{s}_{\mathcal{N}_{j}})&gt;%
\max(\hat{s}_{\mathcal{N}_{k}})</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.7.m7.6d">over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT &gt; roman_max ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) &gt; roman_min ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT ) &gt; roman_max ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math> with the same criteria for weak and strict cases.</p>
</div>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2. </span>Extensions with Weak Transitivity</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.2">We propose novel extensions of original training objectives that resolves the limitation of binary label assignments by incorporating the derived transitive relation to the loss formulation.
We first introduce two sampling schemes by utilizing an item popularity distribution <math alttext="p_{\textrm{pop}}" class="ltx_Math" display="inline" id="S3.SS2.p1.1.m1.1"><semantics id="S3.SS2.p1.1.m1.1a"><msub id="S3.SS2.p1.1.m1.1.1" xref="S3.SS2.p1.1.m1.1.1.cmml"><mi id="S3.SS2.p1.1.m1.1.1.2" xref="S3.SS2.p1.1.m1.1.1.2.cmml">p</mi><mtext id="S3.SS2.p1.1.m1.1.1.3" xref="S3.SS2.p1.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.1.m1.1b"><apply id="S3.SS2.p1.1.m1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.1.m1.1.1.1.cmml" xref="S3.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.1.m1.1.1.2.cmml" xref="S3.SS2.p1.1.m1.1.1.2">𝑝</ci><ci id="S3.SS2.p1.1.m1.1.1.3a.cmml" xref="S3.SS2.p1.1.m1.1.1.3"><mtext id="S3.SS2.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p1.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.1.m1.1c">p_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.1.m1.1d">italic_p start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math> and a uniform distribution <math alttext="p_{\textrm{unif}}" class="ltx_Math" display="inline" id="S3.SS2.p1.2.m2.1"><semantics id="S3.SS2.p1.2.m2.1a"><msub id="S3.SS2.p1.2.m2.1.1" xref="S3.SS2.p1.2.m2.1.1.cmml"><mi id="S3.SS2.p1.2.m2.1.1.2" xref="S3.SS2.p1.2.m2.1.1.2.cmml">p</mi><mtext id="S3.SS2.p1.2.m2.1.1.3" xref="S3.SS2.p1.2.m2.1.1.3a.cmml">unif</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.2.m2.1b"><apply id="S3.SS2.p1.2.m2.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.2.m2.1.1.1.cmml" xref="S3.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.2.m2.1.1.2.cmml" xref="S3.SS2.p1.2.m2.1.1.2">𝑝</ci><ci id="S3.SS2.p1.2.m2.1.1.3a.cmml" xref="S3.SS2.p1.2.m2.1.1.3"><mtext id="S3.SS2.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p1.2.m2.1.1.3">unif</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.2.m2.1c">p_{\textrm{unif}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.2.m2.1d">italic_p start_POSTSUBSCRIPT unif end_POSTSUBSCRIPT</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S5.EGx1">
<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{D}^{\prime}_{s}(\textrm{pop})" class="ltx_Math" display="inline" id="S3.E4.m1.1"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1.2" xref="S3.E4.m1.1.2.cmml"><msubsup id="S3.E4.m1.1.2.2" xref="S3.E4.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.1.2.2.2.2" xref="S3.E4.m1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E4.m1.1.2.2.3" xref="S3.E4.m1.1.2.2.3.cmml">s</mi><mo id="S3.E4.m1.1.2.2.2.3" xref="S3.E4.m1.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.E4.m1.1.2.1" xref="S3.E4.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E4.m1.1.2.3.2" xref="S3.E4.m1.1.1a.cmml"><mo id="S3.E4.m1.1.2.3.2.1" stretchy="false" xref="S3.E4.m1.1.1a.cmml">(</mo><mtext id="S3.E4.m1.1.1" xref="S3.E4.m1.1.1.cmml">pop</mtext><mo id="S3.E4.m1.1.2.3.2.2" stretchy="false" xref="S3.E4.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.2.cmml" xref="S3.E4.m1.1.2"><times id="S3.E4.m1.1.2.1.cmml" xref="S3.E4.m1.1.2.1"></times><apply id="S3.E4.m1.1.2.2.cmml" xref="S3.E4.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.2.2.1.cmml" xref="S3.E4.m1.1.2.2">subscript</csymbol><apply id="S3.E4.m1.1.2.2.2.cmml" xref="S3.E4.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E4.m1.1.2.2.2.1.cmml" xref="S3.E4.m1.1.2.2">superscript</csymbol><ci id="S3.E4.m1.1.2.2.2.2.cmml" xref="S3.E4.m1.1.2.2.2.2">𝒟</ci><ci id="S3.E4.m1.1.2.2.2.3.cmml" xref="S3.E4.m1.1.2.2.2.3">′</ci></apply><ci id="S3.E4.m1.1.2.2.3.cmml" xref="S3.E4.m1.1.2.2.3">𝑠</ci></apply><ci id="S3.E4.m1.1.1a.cmml" xref="S3.E4.m1.1.2.3.2"><mtext id="S3.E4.m1.1.1.cmml" xref="S3.E4.m1.1.1">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">\displaystyle\mathcal{D}^{\prime}_{s}(\textrm{pop})</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( pop )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\{(u,i,j,k)\mid j\sim p_{\textrm{pop}},k\sim p_{\textrm{unif}}\}," class="ltx_Math" display="inline" id="S3.E4.m2.5"><semantics id="S3.E4.m2.5a"><mrow id="S3.E4.m2.5.5.1" xref="S3.E4.m2.5.5.1.1.cmml"><mrow id="S3.E4.m2.5.5.1.1" xref="S3.E4.m2.5.5.1.1.cmml"><mi id="S3.E4.m2.5.5.1.1.4" xref="S3.E4.m2.5.5.1.1.4.cmml"></mi><mo id="S3.E4.m2.5.5.1.1.3" xref="S3.E4.m2.5.5.1.1.3.cmml">=</mo><mrow id="S3.E4.m2.5.5.1.1.2.2" xref="S3.E4.m2.5.5.1.1.2.3.cmml"><mo id="S3.E4.m2.5.5.1.1.2.2.3" stretchy="false" xref="S3.E4.m2.5.5.1.1.2.3.1.cmml">{</mo><mrow id="S3.E4.m2.5.5.1.1.1.1.1.2" xref="S3.E4.m2.5.5.1.1.1.1.1.1.cmml"><mo id="S3.E4.m2.5.5.1.1.1.1.1.2.1" stretchy="false" xref="S3.E4.m2.5.5.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E4.m2.1.1" xref="S3.E4.m2.1.1.cmml">u</mi><mo id="S3.E4.m2.5.5.1.1.1.1.1.2.2" xref="S3.E4.m2.5.5.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E4.m2.2.2" xref="S3.E4.m2.2.2.cmml">i</mi><mo id="S3.E4.m2.5.5.1.1.1.1.1.2.3" xref="S3.E4.m2.5.5.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E4.m2.3.3" xref="S3.E4.m2.3.3.cmml">j</mi><mo id="S3.E4.m2.5.5.1.1.1.1.1.2.4" xref="S3.E4.m2.5.5.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E4.m2.4.4" xref="S3.E4.m2.4.4.cmml">k</mi><mo id="S3.E4.m2.5.5.1.1.1.1.1.2.5" stretchy="false" xref="S3.E4.m2.5.5.1.1.1.1.1.1.cmml">)</mo></mrow><mo fence="true" id="S3.E4.m2.5.5.1.1.2.2.4" lspace="0em" rspace="0em" xref="S3.E4.m2.5.5.1.1.2.3.1.cmml">∣</mo><mrow id="S3.E4.m2.5.5.1.1.2.2.2.2" xref="S3.E4.m2.5.5.1.1.2.2.2.3.cmml"><mrow id="S3.E4.m2.5.5.1.1.2.2.2.1.1" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.cmml"><mi id="S3.E4.m2.5.5.1.1.2.2.2.1.1.2" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.2.cmml">j</mi><mo id="S3.E4.m2.5.5.1.1.2.2.2.1.1.1" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.1.cmml">∼</mo><msub id="S3.E4.m2.5.5.1.1.2.2.2.1.1.3" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.cmml"><mi id="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.2" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.2.cmml">p</mi><mtext id="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.3" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.3a.cmml">pop</mtext></msub></mrow><mo id="S3.E4.m2.5.5.1.1.2.2.2.2.3" xref="S3.E4.m2.5.5.1.1.2.2.2.3a.cmml">,</mo><mrow id="S3.E4.m2.5.5.1.1.2.2.2.2.2" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.cmml"><mi id="S3.E4.m2.5.5.1.1.2.2.2.2.2.2" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.2.cmml">k</mi><mo id="S3.E4.m2.5.5.1.1.2.2.2.2.2.1" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.1.cmml">∼</mo><msub id="S3.E4.m2.5.5.1.1.2.2.2.2.2.3" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.cmml"><mi id="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.2" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.2.cmml">p</mi><mtext id="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.3" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.3a.cmml">unif</mtext></msub></mrow></mrow><mo id="S3.E4.m2.5.5.1.1.2.2.5" stretchy="false" xref="S3.E4.m2.5.5.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S3.E4.m2.5.5.1.2" xref="S3.E4.m2.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m2.5b"><apply id="S3.E4.m2.5.5.1.1.cmml" xref="S3.E4.m2.5.5.1"><eq id="S3.E4.m2.5.5.1.1.3.cmml" xref="S3.E4.m2.5.5.1.1.3"></eq><csymbol cd="latexml" id="S3.E4.m2.5.5.1.1.4.cmml" xref="S3.E4.m2.5.5.1.1.4">absent</csymbol><apply id="S3.E4.m2.5.5.1.1.2.3.cmml" xref="S3.E4.m2.5.5.1.1.2.2"><csymbol cd="latexml" id="S3.E4.m2.5.5.1.1.2.3.1.cmml" xref="S3.E4.m2.5.5.1.1.2.2.3">conditional-set</csymbol><vector id="S3.E4.m2.5.5.1.1.1.1.1.1.cmml" xref="S3.E4.m2.5.5.1.1.1.1.1.2"><ci id="S3.E4.m2.1.1.cmml" xref="S3.E4.m2.1.1">𝑢</ci><ci id="S3.E4.m2.2.2.cmml" xref="S3.E4.m2.2.2">𝑖</ci><ci id="S3.E4.m2.3.3.cmml" xref="S3.E4.m2.3.3">𝑗</ci><ci id="S3.E4.m2.4.4.cmml" xref="S3.E4.m2.4.4">𝑘</ci></vector><apply id="S3.E4.m2.5.5.1.1.2.2.2.3.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E4.m2.5.5.1.1.2.2.2.3a.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E4.m2.5.5.1.1.2.2.2.1.1.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E4.m2.5.5.1.1.2.2.2.1.1.1.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.1">similar-to</csymbol><ci id="S3.E4.m2.5.5.1.1.2.2.2.1.1.2.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.2">𝑗</ci><apply id="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.1.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.3">subscript</csymbol><ci id="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.2.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.2">𝑝</ci><ci id="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.3a.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.3"><mtext id="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S3.E4.m2.5.5.1.1.2.2.2.1.1.3.3">pop</mtext></ci></apply></apply><apply id="S3.E4.m2.5.5.1.1.2.2.2.2.2.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2"><csymbol cd="latexml" id="S3.E4.m2.5.5.1.1.2.2.2.2.2.1.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.1">similar-to</csymbol><ci id="S3.E4.m2.5.5.1.1.2.2.2.2.2.2.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.2">𝑘</ci><apply id="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.1.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.2.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.2">𝑝</ci><ci id="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.3a.cmml" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.3"><mtext id="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.3.cmml" mathsize="70%" xref="S3.E4.m2.5.5.1.1.2.2.2.2.2.3.3">unif</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m2.5c">\displaystyle=\{(u,i,j,k)\mid j\sim p_{\textrm{pop}},k\sim p_{\textrm{unif}}\},</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m2.5d">= { ( italic_u , italic_i , italic_j , italic_k ) ∣ italic_j ∼ italic_p start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT , italic_k ∼ italic_p start_POSTSUBSCRIPT unif end_POSTSUBSCRIPT } ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{D}^{\prime}_{s}(\textrm{niche})" class="ltx_Math" display="inline" id="S3.E5.m1.1"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.2" xref="S3.E5.m1.1.2.cmml"><msubsup id="S3.E5.m1.1.2.2" xref="S3.E5.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.2.2.2.2" xref="S3.E5.m1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E5.m1.1.2.2.3" xref="S3.E5.m1.1.2.2.3.cmml">s</mi><mo id="S3.E5.m1.1.2.2.2.3" xref="S3.E5.m1.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.E5.m1.1.2.1" xref="S3.E5.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E5.m1.1.2.3.2" xref="S3.E5.m1.1.1a.cmml"><mo id="S3.E5.m1.1.2.3.2.1" stretchy="false" xref="S3.E5.m1.1.1a.cmml">(</mo><mtext id="S3.E5.m1.1.1" xref="S3.E5.m1.1.1.cmml">niche</mtext><mo id="S3.E5.m1.1.2.3.2.2" stretchy="false" xref="S3.E5.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.2.cmml" xref="S3.E5.m1.1.2"><times id="S3.E5.m1.1.2.1.cmml" xref="S3.E5.m1.1.2.1"></times><apply id="S3.E5.m1.1.2.2.cmml" xref="S3.E5.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.2.1.cmml" xref="S3.E5.m1.1.2.2">subscript</csymbol><apply id="S3.E5.m1.1.2.2.2.cmml" xref="S3.E5.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E5.m1.1.2.2.2.1.cmml" xref="S3.E5.m1.1.2.2">superscript</csymbol><ci id="S3.E5.m1.1.2.2.2.2.cmml" xref="S3.E5.m1.1.2.2.2.2">𝒟</ci><ci id="S3.E5.m1.1.2.2.2.3.cmml" xref="S3.E5.m1.1.2.2.2.3">′</ci></apply><ci id="S3.E5.m1.1.2.2.3.cmml" xref="S3.E5.m1.1.2.2.3">𝑠</ci></apply><ci id="S3.E5.m1.1.1a.cmml" xref="S3.E5.m1.1.2.3.2"><mtext id="S3.E5.m1.1.1.cmml" xref="S3.E5.m1.1.1">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle\mathcal{D}^{\prime}_{s}(\textrm{niche})</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( niche )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\{(u,i,j,k)\mid j\sim p_{\textrm{unif}},k\sim p_{\textrm{pop}}\}," class="ltx_Math" display="inline" id="S3.E5.m2.5"><semantics id="S3.E5.m2.5a"><mrow id="S3.E5.m2.5.5.1" xref="S3.E5.m2.5.5.1.1.cmml"><mrow id="S3.E5.m2.5.5.1.1" xref="S3.E5.m2.5.5.1.1.cmml"><mi id="S3.E5.m2.5.5.1.1.4" xref="S3.E5.m2.5.5.1.1.4.cmml"></mi><mo id="S3.E5.m2.5.5.1.1.3" xref="S3.E5.m2.5.5.1.1.3.cmml">=</mo><mrow id="S3.E5.m2.5.5.1.1.2.2" xref="S3.E5.m2.5.5.1.1.2.3.cmml"><mo id="S3.E5.m2.5.5.1.1.2.2.3" stretchy="false" xref="S3.E5.m2.5.5.1.1.2.3.1.cmml">{</mo><mrow id="S3.E5.m2.5.5.1.1.1.1.1.2" xref="S3.E5.m2.5.5.1.1.1.1.1.1.cmml"><mo id="S3.E5.m2.5.5.1.1.1.1.1.2.1" stretchy="false" xref="S3.E5.m2.5.5.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E5.m2.1.1" xref="S3.E5.m2.1.1.cmml">u</mi><mo id="S3.E5.m2.5.5.1.1.1.1.1.2.2" xref="S3.E5.m2.5.5.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E5.m2.2.2" xref="S3.E5.m2.2.2.cmml">i</mi><mo id="S3.E5.m2.5.5.1.1.1.1.1.2.3" xref="S3.E5.m2.5.5.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E5.m2.3.3" xref="S3.E5.m2.3.3.cmml">j</mi><mo id="S3.E5.m2.5.5.1.1.1.1.1.2.4" xref="S3.E5.m2.5.5.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E5.m2.4.4" xref="S3.E5.m2.4.4.cmml">k</mi><mo id="S3.E5.m2.5.5.1.1.1.1.1.2.5" stretchy="false" xref="S3.E5.m2.5.5.1.1.1.1.1.1.cmml">)</mo></mrow><mo fence="true" id="S3.E5.m2.5.5.1.1.2.2.4" lspace="0em" rspace="0em" xref="S3.E5.m2.5.5.1.1.2.3.1.cmml">∣</mo><mrow id="S3.E5.m2.5.5.1.1.2.2.2.2" xref="S3.E5.m2.5.5.1.1.2.2.2.3.cmml"><mrow id="S3.E5.m2.5.5.1.1.2.2.2.1.1" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.cmml"><mi id="S3.E5.m2.5.5.1.1.2.2.2.1.1.2" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.2.cmml">j</mi><mo id="S3.E5.m2.5.5.1.1.2.2.2.1.1.1" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.1.cmml">∼</mo><msub id="S3.E5.m2.5.5.1.1.2.2.2.1.1.3" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.cmml"><mi id="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.2" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.2.cmml">p</mi><mtext id="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.3" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.3a.cmml">unif</mtext></msub></mrow><mo id="S3.E5.m2.5.5.1.1.2.2.2.2.3" xref="S3.E5.m2.5.5.1.1.2.2.2.3a.cmml">,</mo><mrow id="S3.E5.m2.5.5.1.1.2.2.2.2.2" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.cmml"><mi id="S3.E5.m2.5.5.1.1.2.2.2.2.2.2" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.2.cmml">k</mi><mo id="S3.E5.m2.5.5.1.1.2.2.2.2.2.1" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.1.cmml">∼</mo><msub id="S3.E5.m2.5.5.1.1.2.2.2.2.2.3" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.cmml"><mi id="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.2" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.2.cmml">p</mi><mtext id="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.3" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.3a.cmml">pop</mtext></msub></mrow></mrow><mo id="S3.E5.m2.5.5.1.1.2.2.5" stretchy="false" xref="S3.E5.m2.5.5.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S3.E5.m2.5.5.1.2" xref="S3.E5.m2.5.5.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m2.5b"><apply id="S3.E5.m2.5.5.1.1.cmml" xref="S3.E5.m2.5.5.1"><eq id="S3.E5.m2.5.5.1.1.3.cmml" xref="S3.E5.m2.5.5.1.1.3"></eq><csymbol cd="latexml" id="S3.E5.m2.5.5.1.1.4.cmml" xref="S3.E5.m2.5.5.1.1.4">absent</csymbol><apply id="S3.E5.m2.5.5.1.1.2.3.cmml" xref="S3.E5.m2.5.5.1.1.2.2"><csymbol cd="latexml" id="S3.E5.m2.5.5.1.1.2.3.1.cmml" xref="S3.E5.m2.5.5.1.1.2.2.3">conditional-set</csymbol><vector id="S3.E5.m2.5.5.1.1.1.1.1.1.cmml" xref="S3.E5.m2.5.5.1.1.1.1.1.2"><ci id="S3.E5.m2.1.1.cmml" xref="S3.E5.m2.1.1">𝑢</ci><ci id="S3.E5.m2.2.2.cmml" xref="S3.E5.m2.2.2">𝑖</ci><ci id="S3.E5.m2.3.3.cmml" xref="S3.E5.m2.3.3">𝑗</ci><ci id="S3.E5.m2.4.4.cmml" xref="S3.E5.m2.4.4">𝑘</ci></vector><apply id="S3.E5.m2.5.5.1.1.2.2.2.3.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E5.m2.5.5.1.1.2.2.2.3a.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E5.m2.5.5.1.1.2.2.2.1.1.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E5.m2.5.5.1.1.2.2.2.1.1.1.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.1">similar-to</csymbol><ci id="S3.E5.m2.5.5.1.1.2.2.2.1.1.2.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.2">𝑗</ci><apply id="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.1.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.3">subscript</csymbol><ci id="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.2.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.2">𝑝</ci><ci id="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.3a.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.3"><mtext id="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S3.E5.m2.5.5.1.1.2.2.2.1.1.3.3">unif</mtext></ci></apply></apply><apply id="S3.E5.m2.5.5.1.1.2.2.2.2.2.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2"><csymbol cd="latexml" id="S3.E5.m2.5.5.1.1.2.2.2.2.2.1.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.1">similar-to</csymbol><ci id="S3.E5.m2.5.5.1.1.2.2.2.2.2.2.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.2">𝑘</ci><apply id="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.1.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.2.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.2">𝑝</ci><ci id="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.3a.cmml" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.3"><mtext id="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.3.cmml" mathsize="70%" xref="S3.E5.m2.5.5.1.1.2.2.2.2.2.3.3">pop</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m2.5c">\displaystyle=\{(u,i,j,k)\mid j\sim p_{\textrm{unif}},k\sim p_{\textrm{pop}}\},</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m2.5d">= { ( italic_u , italic_i , italic_j , italic_k ) ∣ italic_j ∼ italic_p start_POSTSUBSCRIPT unif end_POSTSUBSCRIPT , italic_k ∼ italic_p start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT } ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.6">where <math alttext="j" class="ltx_Math" display="inline" id="S3.SS2.p1.3.m1.1"><semantics id="S3.SS2.p1.3.m1.1a"><mi id="S3.SS2.p1.3.m1.1.1" xref="S3.SS2.p1.3.m1.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.3.m1.1b"><ci id="S3.SS2.p1.3.m1.1.1.cmml" xref="S3.SS2.p1.3.m1.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.3.m1.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.3.m1.1d">italic_j</annotation></semantics></math> is the more preferred negative and <math alttext="k" class="ltx_Math" display="inline" id="S3.SS2.p1.4.m2.1"><semantics id="S3.SS2.p1.4.m2.1a"><mi id="S3.SS2.p1.4.m2.1.1" xref="S3.SS2.p1.4.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.4.m2.1b"><ci id="S3.SS2.p1.4.m2.1.1.cmml" xref="S3.SS2.p1.4.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.4.m2.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.4.m2.1d">italic_k</annotation></semantics></math> is the less preferred one.
The mini-batch <math alttext="\mathcal{D}^{\prime}_{s}(\textrm{pop})" class="ltx_Math" display="inline" id="S3.SS2.p1.5.m3.1"><semantics id="S3.SS2.p1.5.m3.1a"><mrow id="S3.SS2.p1.5.m3.1.2" xref="S3.SS2.p1.5.m3.1.2.cmml"><msubsup id="S3.SS2.p1.5.m3.1.2.2" xref="S3.SS2.p1.5.m3.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.5.m3.1.2.2.2.2" xref="S3.SS2.p1.5.m3.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.SS2.p1.5.m3.1.2.2.3" xref="S3.SS2.p1.5.m3.1.2.2.3.cmml">s</mi><mo id="S3.SS2.p1.5.m3.1.2.2.2.3" xref="S3.SS2.p1.5.m3.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.SS2.p1.5.m3.1.2.1" xref="S3.SS2.p1.5.m3.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.5.m3.1.2.3.2" xref="S3.SS2.p1.5.m3.1.1a.cmml"><mo id="S3.SS2.p1.5.m3.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.5.m3.1.1a.cmml">(</mo><mtext id="S3.SS2.p1.5.m3.1.1" xref="S3.SS2.p1.5.m3.1.1.cmml">pop</mtext><mo id="S3.SS2.p1.5.m3.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.5.m3.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.5.m3.1b"><apply id="S3.SS2.p1.5.m3.1.2.cmml" xref="S3.SS2.p1.5.m3.1.2"><times id="S3.SS2.p1.5.m3.1.2.1.cmml" xref="S3.SS2.p1.5.m3.1.2.1"></times><apply id="S3.SS2.p1.5.m3.1.2.2.cmml" xref="S3.SS2.p1.5.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m3.1.2.2.1.cmml" xref="S3.SS2.p1.5.m3.1.2.2">subscript</csymbol><apply id="S3.SS2.p1.5.m3.1.2.2.2.cmml" xref="S3.SS2.p1.5.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.5.m3.1.2.2.2.1.cmml" xref="S3.SS2.p1.5.m3.1.2.2">superscript</csymbol><ci id="S3.SS2.p1.5.m3.1.2.2.2.2.cmml" xref="S3.SS2.p1.5.m3.1.2.2.2.2">𝒟</ci><ci id="S3.SS2.p1.5.m3.1.2.2.2.3.cmml" xref="S3.SS2.p1.5.m3.1.2.2.2.3">′</ci></apply><ci id="S3.SS2.p1.5.m3.1.2.2.3.cmml" xref="S3.SS2.p1.5.m3.1.2.2.3">𝑠</ci></apply><ci id="S3.SS2.p1.5.m3.1.1a.cmml" xref="S3.SS2.p1.5.m3.1.2.3.2"><mtext id="S3.SS2.p1.5.m3.1.1.cmml" xref="S3.SS2.p1.5.m3.1.1">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.5.m3.1c">\mathcal{D}^{\prime}_{s}(\textrm{pop})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.5.m3.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( pop )</annotation></semantics></math> assumes that a user generally prefers popular items whereas <math alttext="\mathcal{D}^{\prime}_{s}(\textrm{niche})" class="ltx_Math" display="inline" id="S3.SS2.p1.6.m4.1"><semantics id="S3.SS2.p1.6.m4.1a"><mrow id="S3.SS2.p1.6.m4.1.2" xref="S3.SS2.p1.6.m4.1.2.cmml"><msubsup id="S3.SS2.p1.6.m4.1.2.2" xref="S3.SS2.p1.6.m4.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.6.m4.1.2.2.2.2" xref="S3.SS2.p1.6.m4.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.SS2.p1.6.m4.1.2.2.3" xref="S3.SS2.p1.6.m4.1.2.2.3.cmml">s</mi><mo id="S3.SS2.p1.6.m4.1.2.2.2.3" xref="S3.SS2.p1.6.m4.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.SS2.p1.6.m4.1.2.1" xref="S3.SS2.p1.6.m4.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.6.m4.1.2.3.2" xref="S3.SS2.p1.6.m4.1.1a.cmml"><mo id="S3.SS2.p1.6.m4.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.6.m4.1.1a.cmml">(</mo><mtext id="S3.SS2.p1.6.m4.1.1" xref="S3.SS2.p1.6.m4.1.1.cmml">niche</mtext><mo id="S3.SS2.p1.6.m4.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.6.m4.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.6.m4.1b"><apply id="S3.SS2.p1.6.m4.1.2.cmml" xref="S3.SS2.p1.6.m4.1.2"><times id="S3.SS2.p1.6.m4.1.2.1.cmml" xref="S3.SS2.p1.6.m4.1.2.1"></times><apply id="S3.SS2.p1.6.m4.1.2.2.cmml" xref="S3.SS2.p1.6.m4.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m4.1.2.2.1.cmml" xref="S3.SS2.p1.6.m4.1.2.2">subscript</csymbol><apply id="S3.SS2.p1.6.m4.1.2.2.2.cmml" xref="S3.SS2.p1.6.m4.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.6.m4.1.2.2.2.1.cmml" xref="S3.SS2.p1.6.m4.1.2.2">superscript</csymbol><ci id="S3.SS2.p1.6.m4.1.2.2.2.2.cmml" xref="S3.SS2.p1.6.m4.1.2.2.2.2">𝒟</ci><ci id="S3.SS2.p1.6.m4.1.2.2.2.3.cmml" xref="S3.SS2.p1.6.m4.1.2.2.2.3">′</ci></apply><ci id="S3.SS2.p1.6.m4.1.2.2.3.cmml" xref="S3.SS2.p1.6.m4.1.2.2.3">𝑠</ci></apply><ci id="S3.SS2.p1.6.m4.1.1a.cmml" xref="S3.SS2.p1.6.m4.1.2.3.2"><mtext id="S3.SS2.p1.6.m4.1.1.cmml" xref="S3.SS2.p1.6.m4.1.1">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.6.m4.1c">\mathcal{D}^{\prime}_{s}(\textrm{niche})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.6.m4.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( niche )</annotation></semantics></math> regards niche items more favored.
Our extension of the BPR objective with transitivity is then given by the following:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\textrm{TransBPR}}=-\!\sum_{(u,i,j,k)\!\in\mathcal{D}^{\prime}_{s%
}}\underbrace{\log\sigma(\hat{s}_{ui}-\hat{s}_{uj})}_{\textrm{original}}+%
\gamma\underbrace{\log\sigma(\hat{s}_{uj}-\hat{s}_{uk})}_{\textrm{preference}}," class="ltx_Math" display="block" id="S3.E6.m1.7"><semantics id="S3.E6.m1.7a"><mrow id="S3.E6.m1.7.7.1" xref="S3.E6.m1.7.7.1.1.cmml"><mrow id="S3.E6.m1.7.7.1.1" xref="S3.E6.m1.7.7.1.1.cmml"><msub id="S3.E6.m1.7.7.1.1.2" xref="S3.E6.m1.7.7.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.7.7.1.1.2.2" xref="S3.E6.m1.7.7.1.1.2.2.cmml">ℒ</mi><mtext id="S3.E6.m1.7.7.1.1.2.3" xref="S3.E6.m1.7.7.1.1.2.3a.cmml">TransBPR</mtext></msub><mo id="S3.E6.m1.7.7.1.1.1" xref="S3.E6.m1.7.7.1.1.1.cmml">=</mo><mrow id="S3.E6.m1.7.7.1.1.3" xref="S3.E6.m1.7.7.1.1.3.cmml"><mrow id="S3.E6.m1.7.7.1.1.3.2" xref="S3.E6.m1.7.7.1.1.3.2.cmml"><mo id="S3.E6.m1.7.7.1.1.3.2a" xref="S3.E6.m1.7.7.1.1.3.2.cmml">−</mo><mrow id="S3.E6.m1.7.7.1.1.3.2.2" xref="S3.E6.m1.7.7.1.1.3.2.2.cmml"><munder id="S3.E6.m1.7.7.1.1.3.2.2.1" xref="S3.E6.m1.7.7.1.1.3.2.2.1.cmml"><mo id="S3.E6.m1.7.7.1.1.3.2.2.1.2" movablelimits="false" xref="S3.E6.m1.7.7.1.1.3.2.2.1.2.cmml">∑</mo><mrow id="S3.E6.m1.4.4.4" xref="S3.E6.m1.4.4.4.cmml"><mrow id="S3.E6.m1.4.4.4.6.2" xref="S3.E6.m1.4.4.4.6.1.cmml"><mo id="S3.E6.m1.4.4.4.6.2.1" stretchy="false" xref="S3.E6.m1.4.4.4.6.1.cmml">(</mo><mi id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml">u</mi><mo id="S3.E6.m1.4.4.4.6.2.2" xref="S3.E6.m1.4.4.4.6.1.cmml">,</mo><mi id="S3.E6.m1.2.2.2.2" xref="S3.E6.m1.2.2.2.2.cmml">i</mi><mo id="S3.E6.m1.4.4.4.6.2.3" xref="S3.E6.m1.4.4.4.6.1.cmml">,</mo><mi id="S3.E6.m1.3.3.3.3" xref="S3.E6.m1.3.3.3.3.cmml">j</mi><mo id="S3.E6.m1.4.4.4.6.2.4" xref="S3.E6.m1.4.4.4.6.1.cmml">,</mo><mi id="S3.E6.m1.4.4.4.4" xref="S3.E6.m1.4.4.4.4.cmml">k</mi><mo id="S3.E6.m1.4.4.4.6.2.5" stretchy="false" xref="S3.E6.m1.4.4.4.6.1.cmml">)</mo></mrow><mo id="S3.E6.m1.4.4.4.5" lspace="0.108em" xref="S3.E6.m1.4.4.4.5.cmml">∈</mo><msubsup id="S3.E6.m1.4.4.4.7" xref="S3.E6.m1.4.4.4.7.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E6.m1.4.4.4.7.2.2" xref="S3.E6.m1.4.4.4.7.2.2.cmml">𝒟</mi><mi id="S3.E6.m1.4.4.4.7.3" xref="S3.E6.m1.4.4.4.7.3.cmml">s</mi><mo id="S3.E6.m1.4.4.4.7.2.3" xref="S3.E6.m1.4.4.4.7.2.3.cmml">′</mo></msubsup></mrow></munder><munder id="S3.E6.m1.7.7.1.1.3.2.2.2" xref="S3.E6.m1.7.7.1.1.3.2.2.2.cmml"><munder accentunder="true" id="S3.E6.m1.5.5" xref="S3.E6.m1.5.5.cmml"><mrow id="S3.E6.m1.5.5.1" xref="S3.E6.m1.5.5.1.cmml"><mrow id="S3.E6.m1.5.5.1.3" xref="S3.E6.m1.5.5.1.3.cmml"><mi id="S3.E6.m1.5.5.1.3.1" xref="S3.E6.m1.5.5.1.3.1.cmml">log</mi><mo id="S3.E6.m1.5.5.1.3a" lspace="0.167em" xref="S3.E6.m1.5.5.1.3.cmml">⁡</mo><mi id="S3.E6.m1.5.5.1.3.2" xref="S3.E6.m1.5.5.1.3.2.cmml">σ</mi></mrow><mo id="S3.E6.m1.5.5.1.2" xref="S3.E6.m1.5.5.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.5.5.1.1.1" xref="S3.E6.m1.5.5.1.1.1.1.cmml"><mo id="S3.E6.m1.5.5.1.1.1.2" stretchy="false" xref="S3.E6.m1.5.5.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.5.5.1.1.1.1" xref="S3.E6.m1.5.5.1.1.1.1.cmml"><msub id="S3.E6.m1.5.5.1.1.1.1.2" xref="S3.E6.m1.5.5.1.1.1.1.2.cmml"><mover accent="true" id="S3.E6.m1.5.5.1.1.1.1.2.2" xref="S3.E6.m1.5.5.1.1.1.1.2.2.cmml"><mi id="S3.E6.m1.5.5.1.1.1.1.2.2.2" xref="S3.E6.m1.5.5.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E6.m1.5.5.1.1.1.1.2.2.1" xref="S3.E6.m1.5.5.1.1.1.1.2.2.1.cmml">^</mo></mover><mrow id="S3.E6.m1.5.5.1.1.1.1.2.3" xref="S3.E6.m1.5.5.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.5.5.1.1.1.1.2.3.2" xref="S3.E6.m1.5.5.1.1.1.1.2.3.2.cmml">u</mi><mo id="S3.E6.m1.5.5.1.1.1.1.2.3.1" xref="S3.E6.m1.5.5.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.5.5.1.1.1.1.2.3.3" xref="S3.E6.m1.5.5.1.1.1.1.2.3.3.cmml">i</mi></mrow></msub><mo id="S3.E6.m1.5.5.1.1.1.1.1" xref="S3.E6.m1.5.5.1.1.1.1.1.cmml">−</mo><msub id="S3.E6.m1.5.5.1.1.1.1.3" xref="S3.E6.m1.5.5.1.1.1.1.3.cmml"><mover accent="true" id="S3.E6.m1.5.5.1.1.1.1.3.2" xref="S3.E6.m1.5.5.1.1.1.1.3.2.cmml"><mi id="S3.E6.m1.5.5.1.1.1.1.3.2.2" xref="S3.E6.m1.5.5.1.1.1.1.3.2.2.cmml">s</mi><mo id="S3.E6.m1.5.5.1.1.1.1.3.2.1" xref="S3.E6.m1.5.5.1.1.1.1.3.2.1.cmml">^</mo></mover><mrow id="S3.E6.m1.5.5.1.1.1.1.3.3" xref="S3.E6.m1.5.5.1.1.1.1.3.3.cmml"><mi id="S3.E6.m1.5.5.1.1.1.1.3.3.2" xref="S3.E6.m1.5.5.1.1.1.1.3.3.2.cmml">u</mi><mo id="S3.E6.m1.5.5.1.1.1.1.3.3.1" xref="S3.E6.m1.5.5.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E6.m1.5.5.1.1.1.1.3.3.3" xref="S3.E6.m1.5.5.1.1.1.1.3.3.3.cmml">j</mi></mrow></msub></mrow><mo id="S3.E6.m1.5.5.1.1.1.3" stretchy="false" xref="S3.E6.m1.5.5.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.5.5.2" xref="S3.E6.m1.5.5.2.cmml">⏟</mo></munder><mtext id="S3.E6.m1.7.7.1.1.3.2.2.2.2" xref="S3.E6.m1.7.7.1.1.3.2.2.2.2a.cmml">original</mtext></munder></mrow></mrow><mo id="S3.E6.m1.7.7.1.1.3.1" xref="S3.E6.m1.7.7.1.1.3.1.cmml">+</mo><mrow id="S3.E6.m1.7.7.1.1.3.3" xref="S3.E6.m1.7.7.1.1.3.3.cmml"><mi id="S3.E6.m1.7.7.1.1.3.3.2" xref="S3.E6.m1.7.7.1.1.3.3.2.cmml">γ</mi><mo id="S3.E6.m1.7.7.1.1.3.3.1" lspace="0.167em" xref="S3.E6.m1.7.7.1.1.3.3.1.cmml">⁢</mo><munder id="S3.E6.m1.7.7.1.1.3.3.3" xref="S3.E6.m1.7.7.1.1.3.3.3.cmml"><munder accentunder="true" id="S3.E6.m1.6.6" xref="S3.E6.m1.6.6.cmml"><mrow id="S3.E6.m1.6.6.1" xref="S3.E6.m1.6.6.1.cmml"><mrow id="S3.E6.m1.6.6.1.3" xref="S3.E6.m1.6.6.1.3.cmml"><mi id="S3.E6.m1.6.6.1.3.1" xref="S3.E6.m1.6.6.1.3.1.cmml">log</mi><mo id="S3.E6.m1.6.6.1.3a" lspace="0.167em" xref="S3.E6.m1.6.6.1.3.cmml">⁡</mo><mi id="S3.E6.m1.6.6.1.3.2" xref="S3.E6.m1.6.6.1.3.2.cmml">σ</mi></mrow><mo id="S3.E6.m1.6.6.1.2" xref="S3.E6.m1.6.6.1.2.cmml">⁢</mo><mrow id="S3.E6.m1.6.6.1.1.1" xref="S3.E6.m1.6.6.1.1.1.1.cmml"><mo id="S3.E6.m1.6.6.1.1.1.2" stretchy="false" xref="S3.E6.m1.6.6.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.6.6.1.1.1.1" xref="S3.E6.m1.6.6.1.1.1.1.cmml"><msub id="S3.E6.m1.6.6.1.1.1.1.2" xref="S3.E6.m1.6.6.1.1.1.1.2.cmml"><mover accent="true" id="S3.E6.m1.6.6.1.1.1.1.2.2" xref="S3.E6.m1.6.6.1.1.1.1.2.2.cmml"><mi id="S3.E6.m1.6.6.1.1.1.1.2.2.2" xref="S3.E6.m1.6.6.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E6.m1.6.6.1.1.1.1.2.2.1" xref="S3.E6.m1.6.6.1.1.1.1.2.2.1.cmml">^</mo></mover><mrow id="S3.E6.m1.6.6.1.1.1.1.2.3" xref="S3.E6.m1.6.6.1.1.1.1.2.3.cmml"><mi id="S3.E6.m1.6.6.1.1.1.1.2.3.2" xref="S3.E6.m1.6.6.1.1.1.1.2.3.2.cmml">u</mi><mo id="S3.E6.m1.6.6.1.1.1.1.2.3.1" xref="S3.E6.m1.6.6.1.1.1.1.2.3.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.1.1.1.1.2.3.3" xref="S3.E6.m1.6.6.1.1.1.1.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.E6.m1.6.6.1.1.1.1.1" xref="S3.E6.m1.6.6.1.1.1.1.1.cmml">−</mo><msub id="S3.E6.m1.6.6.1.1.1.1.3" xref="S3.E6.m1.6.6.1.1.1.1.3.cmml"><mover accent="true" id="S3.E6.m1.6.6.1.1.1.1.3.2" xref="S3.E6.m1.6.6.1.1.1.1.3.2.cmml"><mi id="S3.E6.m1.6.6.1.1.1.1.3.2.2" xref="S3.E6.m1.6.6.1.1.1.1.3.2.2.cmml">s</mi><mo id="S3.E6.m1.6.6.1.1.1.1.3.2.1" xref="S3.E6.m1.6.6.1.1.1.1.3.2.1.cmml">^</mo></mover><mrow id="S3.E6.m1.6.6.1.1.1.1.3.3" xref="S3.E6.m1.6.6.1.1.1.1.3.3.cmml"><mi id="S3.E6.m1.6.6.1.1.1.1.3.3.2" xref="S3.E6.m1.6.6.1.1.1.1.3.3.2.cmml">u</mi><mo id="S3.E6.m1.6.6.1.1.1.1.3.3.1" xref="S3.E6.m1.6.6.1.1.1.1.3.3.1.cmml">⁢</mo><mi id="S3.E6.m1.6.6.1.1.1.1.3.3.3" xref="S3.E6.m1.6.6.1.1.1.1.3.3.3.cmml">k</mi></mrow></msub></mrow><mo id="S3.E6.m1.6.6.1.1.1.3" stretchy="false" xref="S3.E6.m1.6.6.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.6.6.2" xref="S3.E6.m1.6.6.2.cmml">⏟</mo></munder><mtext id="S3.E6.m1.7.7.1.1.3.3.3.2" xref="S3.E6.m1.7.7.1.1.3.3.3.2a.cmml">preference</mtext></munder></mrow></mrow></mrow><mo id="S3.E6.m1.7.7.1.2" xref="S3.E6.m1.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.7b"><apply id="S3.E6.m1.7.7.1.1.cmml" xref="S3.E6.m1.7.7.1"><eq id="S3.E6.m1.7.7.1.1.1.cmml" xref="S3.E6.m1.7.7.1.1.1"></eq><apply id="S3.E6.m1.7.7.1.1.2.cmml" xref="S3.E6.m1.7.7.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.7.7.1.1.2.1.cmml" xref="S3.E6.m1.7.7.1.1.2">subscript</csymbol><ci id="S3.E6.m1.7.7.1.1.2.2.cmml" xref="S3.E6.m1.7.7.1.1.2.2">ℒ</ci><ci id="S3.E6.m1.7.7.1.1.2.3a.cmml" xref="S3.E6.m1.7.7.1.1.2.3"><mtext id="S3.E6.m1.7.7.1.1.2.3.cmml" mathsize="70%" xref="S3.E6.m1.7.7.1.1.2.3">TransBPR</mtext></ci></apply><apply id="S3.E6.m1.7.7.1.1.3.cmml" xref="S3.E6.m1.7.7.1.1.3"><plus id="S3.E6.m1.7.7.1.1.3.1.cmml" xref="S3.E6.m1.7.7.1.1.3.1"></plus><apply id="S3.E6.m1.7.7.1.1.3.2.cmml" xref="S3.E6.m1.7.7.1.1.3.2"><minus id="S3.E6.m1.7.7.1.1.3.2.1.cmml" xref="S3.E6.m1.7.7.1.1.3.2"></minus><apply id="S3.E6.m1.7.7.1.1.3.2.2.cmml" xref="S3.E6.m1.7.7.1.1.3.2.2"><apply id="S3.E6.m1.7.7.1.1.3.2.2.1.cmml" xref="S3.E6.m1.7.7.1.1.3.2.2.1"><csymbol cd="ambiguous" id="S3.E6.m1.7.7.1.1.3.2.2.1.1.cmml" xref="S3.E6.m1.7.7.1.1.3.2.2.1">subscript</csymbol><sum id="S3.E6.m1.7.7.1.1.3.2.2.1.2.cmml" xref="S3.E6.m1.7.7.1.1.3.2.2.1.2"></sum><apply id="S3.E6.m1.4.4.4.cmml" xref="S3.E6.m1.4.4.4"><in id="S3.E6.m1.4.4.4.5.cmml" xref="S3.E6.m1.4.4.4.5"></in><vector id="S3.E6.m1.4.4.4.6.1.cmml" xref="S3.E6.m1.4.4.4.6.2"><ci id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1">𝑢</ci><ci id="S3.E6.m1.2.2.2.2.cmml" xref="S3.E6.m1.2.2.2.2">𝑖</ci><ci id="S3.E6.m1.3.3.3.3.cmml" xref="S3.E6.m1.3.3.3.3">𝑗</ci><ci id="S3.E6.m1.4.4.4.4.cmml" xref="S3.E6.m1.4.4.4.4">𝑘</ci></vector><apply id="S3.E6.m1.4.4.4.7.cmml" xref="S3.E6.m1.4.4.4.7"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.7.1.cmml" xref="S3.E6.m1.4.4.4.7">subscript</csymbol><apply id="S3.E6.m1.4.4.4.7.2.cmml" xref="S3.E6.m1.4.4.4.7"><csymbol cd="ambiguous" id="S3.E6.m1.4.4.4.7.2.1.cmml" xref="S3.E6.m1.4.4.4.7">superscript</csymbol><ci id="S3.E6.m1.4.4.4.7.2.2.cmml" xref="S3.E6.m1.4.4.4.7.2.2">𝒟</ci><ci id="S3.E6.m1.4.4.4.7.2.3.cmml" xref="S3.E6.m1.4.4.4.7.2.3">′</ci></apply><ci id="S3.E6.m1.4.4.4.7.3.cmml" xref="S3.E6.m1.4.4.4.7.3">𝑠</ci></apply></apply></apply><apply id="S3.E6.m1.7.7.1.1.3.2.2.2.cmml" xref="S3.E6.m1.7.7.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.7.7.1.1.3.2.2.2.1.cmml" xref="S3.E6.m1.7.7.1.1.3.2.2.2">subscript</csymbol><apply id="S3.E6.m1.5.5.cmml" xref="S3.E6.m1.5.5"><ci id="S3.E6.m1.5.5.2.cmml" xref="S3.E6.m1.5.5.2">⏟</ci><apply id="S3.E6.m1.5.5.1.cmml" xref="S3.E6.m1.5.5.1"><times id="S3.E6.m1.5.5.1.2.cmml" xref="S3.E6.m1.5.5.1.2"></times><apply id="S3.E6.m1.5.5.1.3.cmml" xref="S3.E6.m1.5.5.1.3"><log id="S3.E6.m1.5.5.1.3.1.cmml" xref="S3.E6.m1.5.5.1.3.1"></log><ci id="S3.E6.m1.5.5.1.3.2.cmml" xref="S3.E6.m1.5.5.1.3.2">𝜎</ci></apply><apply id="S3.E6.m1.5.5.1.1.1.1.cmml" xref="S3.E6.m1.5.5.1.1.1"><minus id="S3.E6.m1.5.5.1.1.1.1.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1.1"></minus><apply id="S3.E6.m1.5.5.1.1.1.1.2.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.1.1.2.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2">subscript</csymbol><apply id="S3.E6.m1.5.5.1.1.1.1.2.2.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2.2"><ci id="S3.E6.m1.5.5.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2.2.1">^</ci><ci id="S3.E6.m1.5.5.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2.2.2">𝑠</ci></apply><apply id="S3.E6.m1.5.5.1.1.1.1.2.3.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2.3"><times id="S3.E6.m1.5.5.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2.3.1"></times><ci id="S3.E6.m1.5.5.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2.3.2">𝑢</ci><ci id="S3.E6.m1.5.5.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.5.5.1.1.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.E6.m1.5.5.1.1.1.1.3.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.5.5.1.1.1.1.3.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.5.5.1.1.1.1.3.2.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3.2"><ci id="S3.E6.m1.5.5.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3.2.1">^</ci><ci id="S3.E6.m1.5.5.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3.2.2">𝑠</ci></apply><apply id="S3.E6.m1.5.5.1.1.1.1.3.3.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3.3"><times id="S3.E6.m1.5.5.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3.3.1"></times><ci id="S3.E6.m1.5.5.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3.3.2">𝑢</ci><ci id="S3.E6.m1.5.5.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.5.5.1.1.1.1.3.3.3">𝑗</ci></apply></apply></apply></apply></apply><ci id="S3.E6.m1.7.7.1.1.3.2.2.2.2a.cmml" xref="S3.E6.m1.7.7.1.1.3.2.2.2.2"><mtext id="S3.E6.m1.7.7.1.1.3.2.2.2.2.cmml" mathsize="70%" xref="S3.E6.m1.7.7.1.1.3.2.2.2.2">original</mtext></ci></apply></apply></apply><apply id="S3.E6.m1.7.7.1.1.3.3.cmml" xref="S3.E6.m1.7.7.1.1.3.3"><times id="S3.E6.m1.7.7.1.1.3.3.1.cmml" xref="S3.E6.m1.7.7.1.1.3.3.1"></times><ci id="S3.E6.m1.7.7.1.1.3.3.2.cmml" xref="S3.E6.m1.7.7.1.1.3.3.2">𝛾</ci><apply id="S3.E6.m1.7.7.1.1.3.3.3.cmml" xref="S3.E6.m1.7.7.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.E6.m1.7.7.1.1.3.3.3.1.cmml" xref="S3.E6.m1.7.7.1.1.3.3.3">subscript</csymbol><apply id="S3.E6.m1.6.6.cmml" xref="S3.E6.m1.6.6"><ci id="S3.E6.m1.6.6.2.cmml" xref="S3.E6.m1.6.6.2">⏟</ci><apply id="S3.E6.m1.6.6.1.cmml" xref="S3.E6.m1.6.6.1"><times id="S3.E6.m1.6.6.1.2.cmml" xref="S3.E6.m1.6.6.1.2"></times><apply id="S3.E6.m1.6.6.1.3.cmml" xref="S3.E6.m1.6.6.1.3"><log id="S3.E6.m1.6.6.1.3.1.cmml" xref="S3.E6.m1.6.6.1.3.1"></log><ci id="S3.E6.m1.6.6.1.3.2.cmml" xref="S3.E6.m1.6.6.1.3.2">𝜎</ci></apply><apply id="S3.E6.m1.6.6.1.1.1.1.cmml" xref="S3.E6.m1.6.6.1.1.1"><minus id="S3.E6.m1.6.6.1.1.1.1.1.cmml" xref="S3.E6.m1.6.6.1.1.1.1.1"></minus><apply id="S3.E6.m1.6.6.1.1.1.1.2.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.1.1.1.1.2.1.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2">subscript</csymbol><apply id="S3.E6.m1.6.6.1.1.1.1.2.2.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2.2"><ci id="S3.E6.m1.6.6.1.1.1.1.2.2.1.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2.2.1">^</ci><ci id="S3.E6.m1.6.6.1.1.1.1.2.2.2.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2.2.2">𝑠</ci></apply><apply id="S3.E6.m1.6.6.1.1.1.1.2.3.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2.3"><times id="S3.E6.m1.6.6.1.1.1.1.2.3.1.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2.3.1"></times><ci id="S3.E6.m1.6.6.1.1.1.1.2.3.2.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2.3.2">𝑢</ci><ci id="S3.E6.m1.6.6.1.1.1.1.2.3.3.cmml" xref="S3.E6.m1.6.6.1.1.1.1.2.3.3">𝑗</ci></apply></apply><apply id="S3.E6.m1.6.6.1.1.1.1.3.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.6.6.1.1.1.1.3.1.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3">subscript</csymbol><apply id="S3.E6.m1.6.6.1.1.1.1.3.2.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3.2"><ci id="S3.E6.m1.6.6.1.1.1.1.3.2.1.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3.2.1">^</ci><ci id="S3.E6.m1.6.6.1.1.1.1.3.2.2.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3.2.2">𝑠</ci></apply><apply id="S3.E6.m1.6.6.1.1.1.1.3.3.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3.3"><times id="S3.E6.m1.6.6.1.1.1.1.3.3.1.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3.3.1"></times><ci id="S3.E6.m1.6.6.1.1.1.1.3.3.2.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3.3.2">𝑢</ci><ci id="S3.E6.m1.6.6.1.1.1.1.3.3.3.cmml" xref="S3.E6.m1.6.6.1.1.1.1.3.3.3">𝑘</ci></apply></apply></apply></apply></apply><ci id="S3.E6.m1.7.7.1.1.3.3.3.2a.cmml" xref="S3.E6.m1.7.7.1.1.3.3.3.2"><mtext id="S3.E6.m1.7.7.1.1.3.3.3.2.cmml" mathsize="70%" xref="S3.E6.m1.7.7.1.1.3.3.3.2">preference</mtext></ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.7c">\mathcal{L}_{\textrm{TransBPR}}=-\!\sum_{(u,i,j,k)\!\in\mathcal{D}^{\prime}_{s%
}}\underbrace{\log\sigma(\hat{s}_{ui}-\hat{s}_{uj})}_{\textrm{original}}+%
\gamma\underbrace{\log\sigma(\hat{s}_{uj}-\hat{s}_{uk})}_{\textrm{preference}},</annotation><annotation encoding="application/x-llamapun" id="S3.E6.m1.7d">caligraphic_L start_POSTSUBSCRIPT TransBPR end_POSTSUBSCRIPT = - ∑ start_POSTSUBSCRIPT ( italic_u , italic_i , italic_j , italic_k ) ∈ caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_POSTSUBSCRIPT under⏟ start_ARG roman_log italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT - over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) end_ARG start_POSTSUBSCRIPT original end_POSTSUBSCRIPT + italic_γ under⏟ start_ARG roman_log italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT - over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_k end_POSTSUBSCRIPT ) end_ARG start_POSTSUBSCRIPT preference end_POSTSUBSCRIPT ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.11">where <math alttext="\gamma" class="ltx_Math" display="inline" id="S3.SS2.p1.7.m1.1"><semantics id="S3.SS2.p1.7.m1.1a"><mi id="S3.SS2.p1.7.m1.1.1" xref="S3.SS2.p1.7.m1.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.7.m1.1b"><ci id="S3.SS2.p1.7.m1.1.1.cmml" xref="S3.SS2.p1.7.m1.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.7.m1.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.7.m1.1d">italic_γ</annotation></semantics></math> is a balancing coefficient for two terms.
In essence, the preference term encourages the score of <math alttext="j" class="ltx_Math" display="inline" id="S3.SS2.p1.8.m2.1"><semantics id="S3.SS2.p1.8.m2.1a"><mi id="S3.SS2.p1.8.m2.1.1" xref="S3.SS2.p1.8.m2.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.8.m2.1b"><ci id="S3.SS2.p1.8.m2.1.1.cmml" xref="S3.SS2.p1.8.m2.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.8.m2.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.8.m2.1d">italic_j</annotation></semantics></math> to be higher than that of <math alttext="k" class="ltx_Math" display="inline" id="S3.SS2.p1.9.m3.1"><semantics id="S3.SS2.p1.9.m3.1a"><mi id="S3.SS2.p1.9.m3.1.1" xref="S3.SS2.p1.9.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.9.m3.1b"><ci id="S3.SS2.p1.9.m3.1.1.cmml" xref="S3.SS2.p1.9.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.9.m3.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.9.m3.1d">italic_k</annotation></semantics></math> while the original term assures it to be smaller than that of <math alttext="i" class="ltx_Math" display="inline" id="S3.SS2.p1.10.m4.1"><semantics id="S3.SS2.p1.10.m4.1a"><mi id="S3.SS2.p1.10.m4.1.1" xref="S3.SS2.p1.10.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.10.m4.1b"><ci id="S3.SS2.p1.10.m4.1.1.cmml" xref="S3.SS2.p1.10.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.10.m4.1c">i</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.10.m4.1d">italic_i</annotation></semantics></math>.
As a consequence, our objective explicitly imposes the transitive relation <math alttext="\hat{s}_{ui}&gt;\hat{s}_{uj}&gt;\hat{s}_{uk}" class="ltx_Math" display="inline" id="S3.SS2.p1.11.m5.1"><semantics id="S3.SS2.p1.11.m5.1a"><mrow id="S3.SS2.p1.11.m5.1.1" xref="S3.SS2.p1.11.m5.1.1.cmml"><msub id="S3.SS2.p1.11.m5.1.1.2" xref="S3.SS2.p1.11.m5.1.1.2.cmml"><mover accent="true" id="S3.SS2.p1.11.m5.1.1.2.2" xref="S3.SS2.p1.11.m5.1.1.2.2.cmml"><mi id="S3.SS2.p1.11.m5.1.1.2.2.2" xref="S3.SS2.p1.11.m5.1.1.2.2.2.cmml">s</mi><mo id="S3.SS2.p1.11.m5.1.1.2.2.1" xref="S3.SS2.p1.11.m5.1.1.2.2.1.cmml">^</mo></mover><mrow id="S3.SS2.p1.11.m5.1.1.2.3" xref="S3.SS2.p1.11.m5.1.1.2.3.cmml"><mi id="S3.SS2.p1.11.m5.1.1.2.3.2" xref="S3.SS2.p1.11.m5.1.1.2.3.2.cmml">u</mi><mo id="S3.SS2.p1.11.m5.1.1.2.3.1" xref="S3.SS2.p1.11.m5.1.1.2.3.1.cmml">⁢</mo><mi id="S3.SS2.p1.11.m5.1.1.2.3.3" xref="S3.SS2.p1.11.m5.1.1.2.3.3.cmml">i</mi></mrow></msub><mo id="S3.SS2.p1.11.m5.1.1.3" xref="S3.SS2.p1.11.m5.1.1.3.cmml">&gt;</mo><msub id="S3.SS2.p1.11.m5.1.1.4" xref="S3.SS2.p1.11.m5.1.1.4.cmml"><mover accent="true" id="S3.SS2.p1.11.m5.1.1.4.2" xref="S3.SS2.p1.11.m5.1.1.4.2.cmml"><mi id="S3.SS2.p1.11.m5.1.1.4.2.2" xref="S3.SS2.p1.11.m5.1.1.4.2.2.cmml">s</mi><mo id="S3.SS2.p1.11.m5.1.1.4.2.1" xref="S3.SS2.p1.11.m5.1.1.4.2.1.cmml">^</mo></mover><mrow id="S3.SS2.p1.11.m5.1.1.4.3" xref="S3.SS2.p1.11.m5.1.1.4.3.cmml"><mi id="S3.SS2.p1.11.m5.1.1.4.3.2" xref="S3.SS2.p1.11.m5.1.1.4.3.2.cmml">u</mi><mo id="S3.SS2.p1.11.m5.1.1.4.3.1" xref="S3.SS2.p1.11.m5.1.1.4.3.1.cmml">⁢</mo><mi id="S3.SS2.p1.11.m5.1.1.4.3.3" xref="S3.SS2.p1.11.m5.1.1.4.3.3.cmml">j</mi></mrow></msub><mo id="S3.SS2.p1.11.m5.1.1.5" xref="S3.SS2.p1.11.m5.1.1.5.cmml">&gt;</mo><msub id="S3.SS2.p1.11.m5.1.1.6" xref="S3.SS2.p1.11.m5.1.1.6.cmml"><mover accent="true" id="S3.SS2.p1.11.m5.1.1.6.2" xref="S3.SS2.p1.11.m5.1.1.6.2.cmml"><mi id="S3.SS2.p1.11.m5.1.1.6.2.2" xref="S3.SS2.p1.11.m5.1.1.6.2.2.cmml">s</mi><mo id="S3.SS2.p1.11.m5.1.1.6.2.1" xref="S3.SS2.p1.11.m5.1.1.6.2.1.cmml">^</mo></mover><mrow id="S3.SS2.p1.11.m5.1.1.6.3" xref="S3.SS2.p1.11.m5.1.1.6.3.cmml"><mi id="S3.SS2.p1.11.m5.1.1.6.3.2" xref="S3.SS2.p1.11.m5.1.1.6.3.2.cmml">u</mi><mo id="S3.SS2.p1.11.m5.1.1.6.3.1" xref="S3.SS2.p1.11.m5.1.1.6.3.1.cmml">⁢</mo><mi id="S3.SS2.p1.11.m5.1.1.6.3.3" xref="S3.SS2.p1.11.m5.1.1.6.3.3.cmml">k</mi></mrow></msub></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.11.m5.1b"><apply id="S3.SS2.p1.11.m5.1.1.cmml" xref="S3.SS2.p1.11.m5.1.1"><and id="S3.SS2.p1.11.m5.1.1a.cmml" xref="S3.SS2.p1.11.m5.1.1"></and><apply id="S3.SS2.p1.11.m5.1.1b.cmml" xref="S3.SS2.p1.11.m5.1.1"><gt id="S3.SS2.p1.11.m5.1.1.3.cmml" xref="S3.SS2.p1.11.m5.1.1.3"></gt><apply id="S3.SS2.p1.11.m5.1.1.2.cmml" xref="S3.SS2.p1.11.m5.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m5.1.1.2.1.cmml" xref="S3.SS2.p1.11.m5.1.1.2">subscript</csymbol><apply id="S3.SS2.p1.11.m5.1.1.2.2.cmml" xref="S3.SS2.p1.11.m5.1.1.2.2"><ci id="S3.SS2.p1.11.m5.1.1.2.2.1.cmml" xref="S3.SS2.p1.11.m5.1.1.2.2.1">^</ci><ci id="S3.SS2.p1.11.m5.1.1.2.2.2.cmml" xref="S3.SS2.p1.11.m5.1.1.2.2.2">𝑠</ci></apply><apply id="S3.SS2.p1.11.m5.1.1.2.3.cmml" xref="S3.SS2.p1.11.m5.1.1.2.3"><times id="S3.SS2.p1.11.m5.1.1.2.3.1.cmml" xref="S3.SS2.p1.11.m5.1.1.2.3.1"></times><ci id="S3.SS2.p1.11.m5.1.1.2.3.2.cmml" xref="S3.SS2.p1.11.m5.1.1.2.3.2">𝑢</ci><ci id="S3.SS2.p1.11.m5.1.1.2.3.3.cmml" xref="S3.SS2.p1.11.m5.1.1.2.3.3">𝑖</ci></apply></apply><apply id="S3.SS2.p1.11.m5.1.1.4.cmml" xref="S3.SS2.p1.11.m5.1.1.4"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m5.1.1.4.1.cmml" xref="S3.SS2.p1.11.m5.1.1.4">subscript</csymbol><apply id="S3.SS2.p1.11.m5.1.1.4.2.cmml" xref="S3.SS2.p1.11.m5.1.1.4.2"><ci id="S3.SS2.p1.11.m5.1.1.4.2.1.cmml" xref="S3.SS2.p1.11.m5.1.1.4.2.1">^</ci><ci id="S3.SS2.p1.11.m5.1.1.4.2.2.cmml" xref="S3.SS2.p1.11.m5.1.1.4.2.2">𝑠</ci></apply><apply id="S3.SS2.p1.11.m5.1.1.4.3.cmml" xref="S3.SS2.p1.11.m5.1.1.4.3"><times id="S3.SS2.p1.11.m5.1.1.4.3.1.cmml" xref="S3.SS2.p1.11.m5.1.1.4.3.1"></times><ci id="S3.SS2.p1.11.m5.1.1.4.3.2.cmml" xref="S3.SS2.p1.11.m5.1.1.4.3.2">𝑢</ci><ci id="S3.SS2.p1.11.m5.1.1.4.3.3.cmml" xref="S3.SS2.p1.11.m5.1.1.4.3.3">𝑗</ci></apply></apply></apply><apply id="S3.SS2.p1.11.m5.1.1c.cmml" xref="S3.SS2.p1.11.m5.1.1"><gt id="S3.SS2.p1.11.m5.1.1.5.cmml" xref="S3.SS2.p1.11.m5.1.1.5"></gt><share href="https://arxiv.org/html/2408.00326v1#S3.SS2.p1.11.m5.1.1.4.cmml" id="S3.SS2.p1.11.m5.1.1d.cmml" xref="S3.SS2.p1.11.m5.1.1"></share><apply id="S3.SS2.p1.11.m5.1.1.6.cmml" xref="S3.SS2.p1.11.m5.1.1.6"><csymbol cd="ambiguous" id="S3.SS2.p1.11.m5.1.1.6.1.cmml" xref="S3.SS2.p1.11.m5.1.1.6">subscript</csymbol><apply id="S3.SS2.p1.11.m5.1.1.6.2.cmml" xref="S3.SS2.p1.11.m5.1.1.6.2"><ci id="S3.SS2.p1.11.m5.1.1.6.2.1.cmml" xref="S3.SS2.p1.11.m5.1.1.6.2.1">^</ci><ci id="S3.SS2.p1.11.m5.1.1.6.2.2.cmml" xref="S3.SS2.p1.11.m5.1.1.6.2.2">𝑠</ci></apply><apply id="S3.SS2.p1.11.m5.1.1.6.3.cmml" xref="S3.SS2.p1.11.m5.1.1.6.3"><times id="S3.SS2.p1.11.m5.1.1.6.3.1.cmml" xref="S3.SS2.p1.11.m5.1.1.6.3.1"></times><ci id="S3.SS2.p1.11.m5.1.1.6.3.2.cmml" xref="S3.SS2.p1.11.m5.1.1.6.3.2">𝑢</ci><ci id="S3.SS2.p1.11.m5.1.1.6.3.3.cmml" xref="S3.SS2.p1.11.m5.1.1.6.3.3">𝑘</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.11.m5.1c">\hat{s}_{ui}&gt;\hat{s}_{uj}&gt;\hat{s}_{uk}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.11.m5.1d">over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT &gt; over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT &gt; over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_k end_POSTSUBSCRIPT</annotation></semantics></math> to recommendation scores.
Combining the proposed formulation with the previously introduced sampling schemes, we obtain two distinct training objectives as follows:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S5.EGx2">
<tbody id="S3.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\textrm{TransBPR}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S3.E7.m1.1"><semantics id="S3.E7.m1.1a"><msub id="S3.E7.m1.1.1" xref="S3.E7.m1.1.1.cmml"><mtext id="S3.E7.m1.1.1.2" xref="S3.E7.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S3.E7.m1.1.1.3" xref="S3.E7.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.E7.m1.1b"><apply id="S3.E7.m1.1.1.cmml" xref="S3.E7.m1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.1.1.1.cmml" xref="S3.E7.m1.1.1">subscript</csymbol><ci id="S3.E7.m1.1.1.2a.cmml" xref="S3.E7.m1.1.1.2"><mtext id="S3.E7.m1.1.1.2.cmml" xref="S3.E7.m1.1.1.2">TransBPR</mtext></ci><ci id="S3.E7.m1.1.1.3a.cmml" xref="S3.E7.m1.1.1.3"><mtext id="S3.E7.m1.1.1.3.cmml" mathsize="70%" xref="S3.E7.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.1c">\displaystyle\textrm{TransBPR}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m1.1d">TransBPR start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\mathcal{L}_{\textrm{TransBPR}}(\mathcal{D}^{\prime}_{s}(\textrm%
{pop});\theta)," class="ltx_Math" display="inline" id="S3.E7.m2.3"><semantics id="S3.E7.m2.3a"><mrow id="S3.E7.m2.3.3.1" xref="S3.E7.m2.3.3.1.1.cmml"><mrow id="S3.E7.m2.3.3.1.1" xref="S3.E7.m2.3.3.1.1.cmml"><mi id="S3.E7.m2.3.3.1.1.3" xref="S3.E7.m2.3.3.1.1.3.cmml"></mi><mo id="S3.E7.m2.3.3.1.1.2" xref="S3.E7.m2.3.3.1.1.2.cmml">=</mo><mrow id="S3.E7.m2.3.3.1.1.1" xref="S3.E7.m2.3.3.1.1.1.cmml"><msub id="S3.E7.m2.3.3.1.1.1.3" xref="S3.E7.m2.3.3.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m2.3.3.1.1.1.3.2" xref="S3.E7.m2.3.3.1.1.1.3.2.cmml">ℒ</mi><mtext id="S3.E7.m2.3.3.1.1.1.3.3" xref="S3.E7.m2.3.3.1.1.1.3.3a.cmml">TransBPR</mtext></msub><mo id="S3.E7.m2.3.3.1.1.1.2" xref="S3.E7.m2.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E7.m2.3.3.1.1.1.1.1" xref="S3.E7.m2.3.3.1.1.1.1.2.cmml"><mo id="S3.E7.m2.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E7.m2.3.3.1.1.1.1.2.cmml">(</mo><mrow id="S3.E7.m2.3.3.1.1.1.1.1.1" xref="S3.E7.m2.3.3.1.1.1.1.1.1.cmml"><msubsup id="S3.E7.m2.3.3.1.1.1.1.1.1.2" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.2" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.2.cmml">𝒟</mi><mi id="S3.E7.m2.3.3.1.1.1.1.1.1.2.3" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2.3.cmml">s</mi><mo id="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.3" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.3.cmml">′</mo></msubsup><mo id="S3.E7.m2.3.3.1.1.1.1.1.1.1" xref="S3.E7.m2.3.3.1.1.1.1.1.1.1.cmml">⁢</mo><mrow id="S3.E7.m2.3.3.1.1.1.1.1.1.3.2" xref="S3.E7.m2.1.1a.cmml"><mo id="S3.E7.m2.3.3.1.1.1.1.1.1.3.2.1" stretchy="false" xref="S3.E7.m2.1.1a.cmml">(</mo><mtext id="S3.E7.m2.1.1" xref="S3.E7.m2.1.1.cmml">pop</mtext><mo id="S3.E7.m2.3.3.1.1.1.1.1.1.3.2.2" stretchy="false" xref="S3.E7.m2.1.1a.cmml">)</mo></mrow></mrow><mo id="S3.E7.m2.3.3.1.1.1.1.1.3" xref="S3.E7.m2.3.3.1.1.1.1.2.cmml">;</mo><mi id="S3.E7.m2.2.2" xref="S3.E7.m2.2.2.cmml">θ</mi><mo id="S3.E7.m2.3.3.1.1.1.1.1.4" stretchy="false" xref="S3.E7.m2.3.3.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E7.m2.3.3.1.2" xref="S3.E7.m2.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m2.3b"><apply id="S3.E7.m2.3.3.1.1.cmml" xref="S3.E7.m2.3.3.1"><eq id="S3.E7.m2.3.3.1.1.2.cmml" xref="S3.E7.m2.3.3.1.1.2"></eq><csymbol cd="latexml" id="S3.E7.m2.3.3.1.1.3.cmml" xref="S3.E7.m2.3.3.1.1.3">absent</csymbol><apply id="S3.E7.m2.3.3.1.1.1.cmml" xref="S3.E7.m2.3.3.1.1.1"><times id="S3.E7.m2.3.3.1.1.1.2.cmml" xref="S3.E7.m2.3.3.1.1.1.2"></times><apply id="S3.E7.m2.3.3.1.1.1.3.cmml" xref="S3.E7.m2.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E7.m2.3.3.1.1.1.3.1.cmml" xref="S3.E7.m2.3.3.1.1.1.3">subscript</csymbol><ci id="S3.E7.m2.3.3.1.1.1.3.2.cmml" xref="S3.E7.m2.3.3.1.1.1.3.2">ℒ</ci><ci id="S3.E7.m2.3.3.1.1.1.3.3a.cmml" xref="S3.E7.m2.3.3.1.1.1.3.3"><mtext id="S3.E7.m2.3.3.1.1.1.3.3.cmml" mathsize="70%" xref="S3.E7.m2.3.3.1.1.1.3.3">TransBPR</mtext></ci></apply><list id="S3.E7.m2.3.3.1.1.1.1.2.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1"><apply id="S3.E7.m2.3.3.1.1.1.1.1.1.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1"><times id="S3.E7.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.1"></times><apply id="S3.E7.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m2.3.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.2">𝒟</ci><ci id="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2.2.3">′</ci></apply><ci id="S3.E7.m2.3.3.1.1.1.1.1.1.2.3.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.2.3">𝑠</ci></apply><ci id="S3.E7.m2.1.1a.cmml" xref="S3.E7.m2.3.3.1.1.1.1.1.1.3.2"><mtext id="S3.E7.m2.1.1.cmml" xref="S3.E7.m2.1.1">pop</mtext></ci></apply><ci id="S3.E7.m2.2.2.cmml" xref="S3.E7.m2.2.2">𝜃</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m2.3c">\displaystyle=\mathcal{L}_{\textrm{TransBPR}}(\mathcal{D}^{\prime}_{s}(\textrm%
{pop});\theta),</annotation><annotation encoding="application/x-llamapun" id="S3.E7.m2.3d">= caligraphic_L start_POSTSUBSCRIPT TransBPR end_POSTSUBSCRIPT ( caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( pop ) ; italic_θ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\textrm{TransBPR}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S3.E8.m1.1"><semantics id="S3.E8.m1.1a"><msub id="S3.E8.m1.1.1" xref="S3.E8.m1.1.1.cmml"><mtext id="S3.E8.m1.1.1.2" xref="S3.E8.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S3.E8.m1.1.1.3" xref="S3.E8.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.E8.m1.1b"><apply id="S3.E8.m1.1.1.cmml" xref="S3.E8.m1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.1.cmml" xref="S3.E8.m1.1.1">subscript</csymbol><ci id="S3.E8.m1.1.1.2a.cmml" xref="S3.E8.m1.1.1.2"><mtext id="S3.E8.m1.1.1.2.cmml" xref="S3.E8.m1.1.1.2">TransBPR</mtext></ci><ci id="S3.E8.m1.1.1.3a.cmml" xref="S3.E8.m1.1.1.3"><mtext id="S3.E8.m1.1.1.3.cmml" mathsize="70%" xref="S3.E8.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.1c">\displaystyle\textrm{TransBPR}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m1.1d">TransBPR start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\mathcal{L}_{\textrm{TransBPR}}(\mathcal{D}^{\prime}_{s}(\textrm%
{niche});\theta)," class="ltx_Math" display="inline" id="S3.E8.m2.3"><semantics id="S3.E8.m2.3a"><mrow id="S3.E8.m2.3.3.1" xref="S3.E8.m2.3.3.1.1.cmml"><mrow id="S3.E8.m2.3.3.1.1" xref="S3.E8.m2.3.3.1.1.cmml"><mi id="S3.E8.m2.3.3.1.1.3" xref="S3.E8.m2.3.3.1.1.3.cmml"></mi><mo id="S3.E8.m2.3.3.1.1.2" xref="S3.E8.m2.3.3.1.1.2.cmml">=</mo><mrow id="S3.E8.m2.3.3.1.1.1" xref="S3.E8.m2.3.3.1.1.1.cmml"><msub id="S3.E8.m2.3.3.1.1.1.3" xref="S3.E8.m2.3.3.1.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m2.3.3.1.1.1.3.2" xref="S3.E8.m2.3.3.1.1.1.3.2.cmml">ℒ</mi><mtext id="S3.E8.m2.3.3.1.1.1.3.3" xref="S3.E8.m2.3.3.1.1.1.3.3a.cmml">TransBPR</mtext></msub><mo id="S3.E8.m2.3.3.1.1.1.2" xref="S3.E8.m2.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S3.E8.m2.3.3.1.1.1.1.1" xref="S3.E8.m2.3.3.1.1.1.1.2.cmml"><mo id="S3.E8.m2.3.3.1.1.1.1.1.2" stretchy="false" xref="S3.E8.m2.3.3.1.1.1.1.2.cmml">(</mo><mrow id="S3.E8.m2.3.3.1.1.1.1.1.1" xref="S3.E8.m2.3.3.1.1.1.1.1.1.cmml"><msubsup id="S3.E8.m2.3.3.1.1.1.1.1.1.2" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.2" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.2.cmml">𝒟</mi><mi id="S3.E8.m2.3.3.1.1.1.1.1.1.2.3" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.3.cmml">s</mi><mo id="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.3" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.3.cmml">′</mo></msubsup><mo id="S3.E8.m2.3.3.1.1.1.1.1.1.1" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1.cmml">⁢</mo><mrow id="S3.E8.m2.3.3.1.1.1.1.1.1.3.2" xref="S3.E8.m2.1.1a.cmml"><mo id="S3.E8.m2.3.3.1.1.1.1.1.1.3.2.1" stretchy="false" xref="S3.E8.m2.1.1a.cmml">(</mo><mtext id="S3.E8.m2.1.1" xref="S3.E8.m2.1.1.cmml">niche</mtext><mo id="S3.E8.m2.3.3.1.1.1.1.1.1.3.2.2" stretchy="false" xref="S3.E8.m2.1.1a.cmml">)</mo></mrow></mrow><mo id="S3.E8.m2.3.3.1.1.1.1.1.3" xref="S3.E8.m2.3.3.1.1.1.1.2.cmml">;</mo><mi id="S3.E8.m2.2.2" xref="S3.E8.m2.2.2.cmml">θ</mi><mo id="S3.E8.m2.3.3.1.1.1.1.1.4" stretchy="false" xref="S3.E8.m2.3.3.1.1.1.1.2.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E8.m2.3.3.1.2" xref="S3.E8.m2.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m2.3b"><apply id="S3.E8.m2.3.3.1.1.cmml" xref="S3.E8.m2.3.3.1"><eq id="S3.E8.m2.3.3.1.1.2.cmml" xref="S3.E8.m2.3.3.1.1.2"></eq><csymbol cd="latexml" id="S3.E8.m2.3.3.1.1.3.cmml" xref="S3.E8.m2.3.3.1.1.3">absent</csymbol><apply id="S3.E8.m2.3.3.1.1.1.cmml" xref="S3.E8.m2.3.3.1.1.1"><times id="S3.E8.m2.3.3.1.1.1.2.cmml" xref="S3.E8.m2.3.3.1.1.1.2"></times><apply id="S3.E8.m2.3.3.1.1.1.3.cmml" xref="S3.E8.m2.3.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m2.3.3.1.1.1.3.1.cmml" xref="S3.E8.m2.3.3.1.1.1.3">subscript</csymbol><ci id="S3.E8.m2.3.3.1.1.1.3.2.cmml" xref="S3.E8.m2.3.3.1.1.1.3.2">ℒ</ci><ci id="S3.E8.m2.3.3.1.1.1.3.3a.cmml" xref="S3.E8.m2.3.3.1.1.1.3.3"><mtext id="S3.E8.m2.3.3.1.1.1.3.3.cmml" mathsize="70%" xref="S3.E8.m2.3.3.1.1.1.3.3">TransBPR</mtext></ci></apply><list id="S3.E8.m2.3.3.1.1.1.1.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1"><apply id="S3.E8.m2.3.3.1.1.1.1.1.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1"><times id="S3.E8.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.1"></times><apply id="S3.E8.m2.3.3.1.1.1.1.1.1.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m2.3.3.1.1.1.1.1.1.2.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2">subscript</csymbol><apply id="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2">superscript</csymbol><ci id="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.2">𝒟</ci><ci id="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.2.3">′</ci></apply><ci id="S3.E8.m2.3.3.1.1.1.1.1.1.2.3.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.2.3">𝑠</ci></apply><ci id="S3.E8.m2.1.1a.cmml" xref="S3.E8.m2.3.3.1.1.1.1.1.1.3.2"><mtext id="S3.E8.m2.1.1.cmml" xref="S3.E8.m2.1.1">niche</mtext></ci></apply><ci id="S3.E8.m2.2.2.cmml" xref="S3.E8.m2.2.2">𝜃</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m2.3c">\displaystyle=\mathcal{L}_{\textrm{TransBPR}}(\mathcal{D}^{\prime}_{s}(\textrm%
{niche});\theta),</annotation><annotation encoding="application/x-llamapun" id="S3.E8.m2.3d">= caligraphic_L start_POSTSUBSCRIPT TransBPR end_POSTSUBSCRIPT ( caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( niche ) ; italic_θ ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.12">where <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS2.p1.12.m1.1"><semantics id="S3.SS2.p1.12.m1.1a"><mi id="S3.SS2.p1.12.m1.1.1" xref="S3.SS2.p1.12.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.12.m1.1b"><ci id="S3.SS2.p1.12.m1.1.1.cmml" xref="S3.SS2.p1.12.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.12.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.12.m1.1d">italic_θ</annotation></semantics></math> is learnable parameters of the model.
Similarly, the extension of the BCE function is formulated as below:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S5.EGx3">
<tbody id="S3.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\textrm{TransBCE}}=" class="ltx_Math" display="inline" id="S3.Ex1.m1.1"><semantics id="S3.Ex1.m1.1a"><mrow id="S3.Ex1.m1.1.1" xref="S3.Ex1.m1.1.1.cmml"><msub id="S3.Ex1.m1.1.1.2" xref="S3.Ex1.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex1.m1.1.1.2.2" xref="S3.Ex1.m1.1.1.2.2.cmml">ℒ</mi><mtext id="S3.Ex1.m1.1.1.2.3" xref="S3.Ex1.m1.1.1.2.3a.cmml">TransBCE</mtext></msub><mo id="S3.Ex1.m1.1.1.1" xref="S3.Ex1.m1.1.1.1.cmml">=</mo><mi id="S3.Ex1.m1.1.1.3" xref="S3.Ex1.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex1.m1.1b"><apply id="S3.Ex1.m1.1.1.cmml" xref="S3.Ex1.m1.1.1"><eq id="S3.Ex1.m1.1.1.1.cmml" xref="S3.Ex1.m1.1.1.1"></eq><apply id="S3.Ex1.m1.1.1.2.cmml" xref="S3.Ex1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex1.m1.1.1.2.1.cmml" xref="S3.Ex1.m1.1.1.2">subscript</csymbol><ci id="S3.Ex1.m1.1.1.2.2.cmml" xref="S3.Ex1.m1.1.1.2.2">ℒ</ci><ci id="S3.Ex1.m1.1.1.2.3a.cmml" xref="S3.Ex1.m1.1.1.2.3"><mtext id="S3.Ex1.m1.1.1.2.3.cmml" mathsize="70%" xref="S3.Ex1.m1.1.1.2.3">TransBCE</mtext></ci></apply><csymbol cd="latexml" id="S3.Ex1.m1.1.1.3.cmml" xref="S3.Ex1.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex1.m1.1c">\displaystyle\mathcal{L}_{\textrm{TransBCE}}=</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m1.1d">caligraphic_L start_POSTSUBSCRIPT TransBCE end_POSTSUBSCRIPT =</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle-\sum_{(u,i,j,k)\in\mathcal{D}^{\prime}_{s}}\Bigl{[}\log(\sigma(%
\hat{s}_{ui}))+\log(1-\sigma(\hat{s}_{uj}))" class="ltx_math_unparsed" display="inline" id="S3.Ex1.m2.6"><semantics id="S3.Ex1.m2.6a"><mrow id="S3.Ex1.m2.6b"><mo id="S3.Ex1.m2.6.7">−</mo><mstyle displaystyle="true" id="S3.Ex1.m2.6.8"><munder id="S3.Ex1.m2.6.8a"><mo id="S3.Ex1.m2.6.8.2" movablelimits="false">∑</mo><mrow id="S3.Ex1.m2.4.4.4"><mrow id="S3.Ex1.m2.4.4.4.6.2"><mo id="S3.Ex1.m2.4.4.4.6.2.1" stretchy="false">(</mo><mi id="S3.Ex1.m2.1.1.1.1">u</mi><mo id="S3.Ex1.m2.4.4.4.6.2.2">,</mo><mi id="S3.Ex1.m2.2.2.2.2">i</mi><mo id="S3.Ex1.m2.4.4.4.6.2.3">,</mo><mi id="S3.Ex1.m2.3.3.3.3">j</mi><mo id="S3.Ex1.m2.4.4.4.6.2.4">,</mo><mi id="S3.Ex1.m2.4.4.4.4">k</mi><mo id="S3.Ex1.m2.4.4.4.6.2.5" stretchy="false">)</mo></mrow><mo id="S3.Ex1.m2.4.4.4.5">∈</mo><msubsup id="S3.Ex1.m2.4.4.4.7"><mi class="ltx_font_mathcaligraphic" id="S3.Ex1.m2.4.4.4.7.2.2">𝒟</mi><mi id="S3.Ex1.m2.4.4.4.7.3">s</mi><mo id="S3.Ex1.m2.4.4.4.7.2.3">′</mo></msubsup></mrow></munder></mstyle><mrow id="S3.Ex1.m2.6.9"><mo id="S3.Ex1.m2.6.9.1" maxsize="160%" minsize="160%">[</mo><mi id="S3.Ex1.m2.5.5">log</mi><mrow id="S3.Ex1.m2.6.9.2"><mo id="S3.Ex1.m2.6.9.2.1" stretchy="false">(</mo><mi id="S3.Ex1.m2.6.9.2.2">σ</mi><mrow id="S3.Ex1.m2.6.9.2.3"><mo id="S3.Ex1.m2.6.9.2.3.1" stretchy="false">(</mo><msub id="S3.Ex1.m2.6.9.2.3.2"><mover accent="true" id="S3.Ex1.m2.6.9.2.3.2.2"><mi id="S3.Ex1.m2.6.9.2.3.2.2.2">s</mi><mo id="S3.Ex1.m2.6.9.2.3.2.2.1">^</mo></mover><mrow id="S3.Ex1.m2.6.9.2.3.2.3"><mi id="S3.Ex1.m2.6.9.2.3.2.3.2">u</mi><mo id="S3.Ex1.m2.6.9.2.3.2.3.1">⁢</mo><mi id="S3.Ex1.m2.6.9.2.3.2.3.3">i</mi></mrow></msub><mo id="S3.Ex1.m2.6.9.2.3.3" stretchy="false">)</mo></mrow><mo id="S3.Ex1.m2.6.9.2.4" stretchy="false">)</mo></mrow><mo id="S3.Ex1.m2.6.9.3">+</mo><mi id="S3.Ex1.m2.6.6">log</mi><mrow id="S3.Ex1.m2.6.9.4"><mo id="S3.Ex1.m2.6.9.4.1" stretchy="false">(</mo><mn id="S3.Ex1.m2.6.9.4.2">1</mn><mo id="S3.Ex1.m2.6.9.4.3">−</mo><mi id="S3.Ex1.m2.6.9.4.4">σ</mi><mrow id="S3.Ex1.m2.6.9.4.5"><mo id="S3.Ex1.m2.6.9.4.5.1" stretchy="false">(</mo><msub id="S3.Ex1.m2.6.9.4.5.2"><mover accent="true" id="S3.Ex1.m2.6.9.4.5.2.2"><mi id="S3.Ex1.m2.6.9.4.5.2.2.2">s</mi><mo id="S3.Ex1.m2.6.9.4.5.2.2.1">^</mo></mover><mrow id="S3.Ex1.m2.6.9.4.5.2.3"><mi id="S3.Ex1.m2.6.9.4.5.2.3.2">u</mi><mo id="S3.Ex1.m2.6.9.4.5.2.3.1">⁢</mo><mi id="S3.Ex1.m2.6.9.4.5.2.3.3">j</mi></mrow></msub><mo id="S3.Ex1.m2.6.9.4.5.3" stretchy="false">)</mo></mrow><mo id="S3.Ex1.m2.6.9.4.6" stretchy="false">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.Ex1.m2.6c">\displaystyle-\sum_{(u,i,j,k)\in\mathcal{D}^{\prime}_{s}}\Bigl{[}\log(\sigma(%
\hat{s}_{ui}))+\log(1-\sigma(\hat{s}_{uj}))</annotation><annotation encoding="application/x-llamapun" id="S3.Ex1.m2.6d">- ∑ start_POSTSUBSCRIPT ( italic_u , italic_i , italic_j , italic_k ) ∈ caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_log ( italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT ) ) + roman_log ( 1 - italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E9"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(9)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle+\gamma\Bigl{(}\log(\sigma(\hat{s}_{uj}))+\log(1-\sigma(\hat{s}_{%
uk}))\Bigl{)}\Bigl{]}." class="ltx_math_unparsed" display="inline" id="S3.E9.m1.2"><semantics id="S3.E9.m1.2a"><mrow id="S3.E9.m1.2b"><mo id="S3.E9.m1.2.3">+</mo><mi id="S3.E9.m1.2.4">γ</mi><mrow id="S3.E9.m1.2.5"><mo id="S3.E9.m1.2.5.1" maxsize="160%" minsize="160%">(</mo><mi id="S3.E9.m1.1.1">log</mi><mrow id="S3.E9.m1.2.5.2"><mo id="S3.E9.m1.2.5.2.1" stretchy="false">(</mo><mi id="S3.E9.m1.2.5.2.2">σ</mi><mrow id="S3.E9.m1.2.5.2.3"><mo id="S3.E9.m1.2.5.2.3.1" stretchy="false">(</mo><msub id="S3.E9.m1.2.5.2.3.2"><mover accent="true" id="S3.E9.m1.2.5.2.3.2.2"><mi id="S3.E9.m1.2.5.2.3.2.2.2">s</mi><mo id="S3.E9.m1.2.5.2.3.2.2.1">^</mo></mover><mrow id="S3.E9.m1.2.5.2.3.2.3"><mi id="S3.E9.m1.2.5.2.3.2.3.2">u</mi><mo id="S3.E9.m1.2.5.2.3.2.3.1">⁢</mo><mi id="S3.E9.m1.2.5.2.3.2.3.3">j</mi></mrow></msub><mo id="S3.E9.m1.2.5.2.3.3" stretchy="false">)</mo></mrow><mo id="S3.E9.m1.2.5.2.4" stretchy="false">)</mo></mrow><mo id="S3.E9.m1.2.5.3">+</mo><mi id="S3.E9.m1.2.2">log</mi><mrow id="S3.E9.m1.2.5.4"><mo id="S3.E9.m1.2.5.4.1" stretchy="false">(</mo><mn id="S3.E9.m1.2.5.4.2">1</mn><mo id="S3.E9.m1.2.5.4.3">−</mo><mi id="S3.E9.m1.2.5.4.4">σ</mi><mrow id="S3.E9.m1.2.5.4.5"><mo id="S3.E9.m1.2.5.4.5.1" stretchy="false">(</mo><msub id="S3.E9.m1.2.5.4.5.2"><mover accent="true" id="S3.E9.m1.2.5.4.5.2.2"><mi id="S3.E9.m1.2.5.4.5.2.2.2">s</mi><mo id="S3.E9.m1.2.5.4.5.2.2.1">^</mo></mover><mrow id="S3.E9.m1.2.5.4.5.2.3"><mi id="S3.E9.m1.2.5.4.5.2.3.2">u</mi><mo id="S3.E9.m1.2.5.4.5.2.3.1">⁢</mo><mi id="S3.E9.m1.2.5.4.5.2.3.3">k</mi></mrow></msub><mo id="S3.E9.m1.2.5.4.5.3" stretchy="false">)</mo></mrow><mo id="S3.E9.m1.2.5.4.6" stretchy="false">)</mo></mrow><mrow id="S3.E9.m1.2.5.5"><mo id="S3.E9.m1.2.5.5.1" lspace="0em" mathsize="160%" rspace="0em">)</mo><mrow id="S3.E9.m1.2.5.5.2"><mo id="S3.E9.m1.2.5.5.2.1" lspace="0em" mathsize="160%" rspace="0em">]</mo><mo id="S3.E9.m1.2.5.5.2.2" lspace="0em">.</mo></mrow></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S3.E9.m1.2c">\displaystyle+\gamma\Bigl{(}\log(\sigma(\hat{s}_{uj}))+\log(1-\sigma(\hat{s}_{%
uk}))\Bigl{)}\Bigl{]}.</annotation><annotation encoding="application/x-llamapun" id="S3.E9.m1.2d">+ italic_γ ( roman_log ( italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) ) + roman_log ( 1 - italic_σ ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_k end_POSTSUBSCRIPT ) ) ) ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.20">Naturally, <math alttext="\textrm{TransBCE}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S3.SS2.p1.13.m1.1"><semantics id="S3.SS2.p1.13.m1.1a"><msub id="S3.SS2.p1.13.m1.1.1" xref="S3.SS2.p1.13.m1.1.1.cmml"><mtext id="S3.SS2.p1.13.m1.1.1.2" xref="S3.SS2.p1.13.m1.1.1.2a.cmml">TransBCE</mtext><mtext id="S3.SS2.p1.13.m1.1.1.3" xref="S3.SS2.p1.13.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.13.m1.1b"><apply id="S3.SS2.p1.13.m1.1.1.cmml" xref="S3.SS2.p1.13.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.13.m1.1.1.1.cmml" xref="S3.SS2.p1.13.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.13.m1.1.1.2a.cmml" xref="S3.SS2.p1.13.m1.1.1.2"><mtext id="S3.SS2.p1.13.m1.1.1.2.cmml" xref="S3.SS2.p1.13.m1.1.1.2">TransBCE</mtext></ci><ci id="S3.SS2.p1.13.m1.1.1.3a.cmml" xref="S3.SS2.p1.13.m1.1.1.3"><mtext id="S3.SS2.p1.13.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p1.13.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.13.m1.1c">\textrm{TransBCE}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.13.m1.1d">TransBCE start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\textrm{TransBCE}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S3.SS2.p1.14.m2.1"><semantics id="S3.SS2.p1.14.m2.1a"><msub id="S3.SS2.p1.14.m2.1.1" xref="S3.SS2.p1.14.m2.1.1.cmml"><mtext id="S3.SS2.p1.14.m2.1.1.2" xref="S3.SS2.p1.14.m2.1.1.2a.cmml">TransBCE</mtext><mtext id="S3.SS2.p1.14.m2.1.1.3" xref="S3.SS2.p1.14.m2.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.14.m2.1b"><apply id="S3.SS2.p1.14.m2.1.1.cmml" xref="S3.SS2.p1.14.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.14.m2.1.1.1.cmml" xref="S3.SS2.p1.14.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.14.m2.1.1.2a.cmml" xref="S3.SS2.p1.14.m2.1.1.2"><mtext id="S3.SS2.p1.14.m2.1.1.2.cmml" xref="S3.SS2.p1.14.m2.1.1.2">TransBCE</mtext></ci><ci id="S3.SS2.p1.14.m2.1.1.3a.cmml" xref="S3.SS2.p1.14.m2.1.1.3"><mtext id="S3.SS2.p1.14.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p1.14.m2.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.14.m2.1c">\textrm{TransBCE}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.14.m2.1d">TransBCE start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math> are two consequent training schemes with <math alttext="\mathcal{D}^{\prime}_{s}(\textrm{pop})" class="ltx_Math" display="inline" id="S3.SS2.p1.15.m3.1"><semantics id="S3.SS2.p1.15.m3.1a"><mrow id="S3.SS2.p1.15.m3.1.2" xref="S3.SS2.p1.15.m3.1.2.cmml"><msubsup id="S3.SS2.p1.15.m3.1.2.2" xref="S3.SS2.p1.15.m3.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.15.m3.1.2.2.2.2" xref="S3.SS2.p1.15.m3.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.SS2.p1.15.m3.1.2.2.3" xref="S3.SS2.p1.15.m3.1.2.2.3.cmml">s</mi><mo id="S3.SS2.p1.15.m3.1.2.2.2.3" xref="S3.SS2.p1.15.m3.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.SS2.p1.15.m3.1.2.1" xref="S3.SS2.p1.15.m3.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.15.m3.1.2.3.2" xref="S3.SS2.p1.15.m3.1.1a.cmml"><mo id="S3.SS2.p1.15.m3.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.15.m3.1.1a.cmml">(</mo><mtext id="S3.SS2.p1.15.m3.1.1" xref="S3.SS2.p1.15.m3.1.1.cmml">pop</mtext><mo id="S3.SS2.p1.15.m3.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.15.m3.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.15.m3.1b"><apply id="S3.SS2.p1.15.m3.1.2.cmml" xref="S3.SS2.p1.15.m3.1.2"><times id="S3.SS2.p1.15.m3.1.2.1.cmml" xref="S3.SS2.p1.15.m3.1.2.1"></times><apply id="S3.SS2.p1.15.m3.1.2.2.cmml" xref="S3.SS2.p1.15.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.15.m3.1.2.2.1.cmml" xref="S3.SS2.p1.15.m3.1.2.2">subscript</csymbol><apply id="S3.SS2.p1.15.m3.1.2.2.2.cmml" xref="S3.SS2.p1.15.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.15.m3.1.2.2.2.1.cmml" xref="S3.SS2.p1.15.m3.1.2.2">superscript</csymbol><ci id="S3.SS2.p1.15.m3.1.2.2.2.2.cmml" xref="S3.SS2.p1.15.m3.1.2.2.2.2">𝒟</ci><ci id="S3.SS2.p1.15.m3.1.2.2.2.3.cmml" xref="S3.SS2.p1.15.m3.1.2.2.2.3">′</ci></apply><ci id="S3.SS2.p1.15.m3.1.2.2.3.cmml" xref="S3.SS2.p1.15.m3.1.2.2.3">𝑠</ci></apply><ci id="S3.SS2.p1.15.m3.1.1a.cmml" xref="S3.SS2.p1.15.m3.1.2.3.2"><mtext id="S3.SS2.p1.15.m3.1.1.cmml" xref="S3.SS2.p1.15.m3.1.1">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.15.m3.1c">\mathcal{D}^{\prime}_{s}(\textrm{pop})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.15.m3.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( pop )</annotation></semantics></math> and <math alttext="\mathcal{D}^{\prime}_{s}(\textrm{niche})" class="ltx_Math" display="inline" id="S3.SS2.p1.16.m4.1"><semantics id="S3.SS2.p1.16.m4.1a"><mrow id="S3.SS2.p1.16.m4.1.2" xref="S3.SS2.p1.16.m4.1.2.cmml"><msubsup id="S3.SS2.p1.16.m4.1.2.2" xref="S3.SS2.p1.16.m4.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.16.m4.1.2.2.2.2" xref="S3.SS2.p1.16.m4.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.SS2.p1.16.m4.1.2.2.3" xref="S3.SS2.p1.16.m4.1.2.2.3.cmml">s</mi><mo id="S3.SS2.p1.16.m4.1.2.2.2.3" xref="S3.SS2.p1.16.m4.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.SS2.p1.16.m4.1.2.1" xref="S3.SS2.p1.16.m4.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.16.m4.1.2.3.2" xref="S3.SS2.p1.16.m4.1.1a.cmml"><mo id="S3.SS2.p1.16.m4.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.16.m4.1.1a.cmml">(</mo><mtext id="S3.SS2.p1.16.m4.1.1" xref="S3.SS2.p1.16.m4.1.1.cmml">niche</mtext><mo id="S3.SS2.p1.16.m4.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.16.m4.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.16.m4.1b"><apply id="S3.SS2.p1.16.m4.1.2.cmml" xref="S3.SS2.p1.16.m4.1.2"><times id="S3.SS2.p1.16.m4.1.2.1.cmml" xref="S3.SS2.p1.16.m4.1.2.1"></times><apply id="S3.SS2.p1.16.m4.1.2.2.cmml" xref="S3.SS2.p1.16.m4.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.16.m4.1.2.2.1.cmml" xref="S3.SS2.p1.16.m4.1.2.2">subscript</csymbol><apply id="S3.SS2.p1.16.m4.1.2.2.2.cmml" xref="S3.SS2.p1.16.m4.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.16.m4.1.2.2.2.1.cmml" xref="S3.SS2.p1.16.m4.1.2.2">superscript</csymbol><ci id="S3.SS2.p1.16.m4.1.2.2.2.2.cmml" xref="S3.SS2.p1.16.m4.1.2.2.2.2">𝒟</ci><ci id="S3.SS2.p1.16.m4.1.2.2.2.3.cmml" xref="S3.SS2.p1.16.m4.1.2.2.2.3">′</ci></apply><ci id="S3.SS2.p1.16.m4.1.2.2.3.cmml" xref="S3.SS2.p1.16.m4.1.2.2.3">𝑠</ci></apply><ci id="S3.SS2.p1.16.m4.1.1a.cmml" xref="S3.SS2.p1.16.m4.1.2.3.2"><mtext id="S3.SS2.p1.16.m4.1.1.cmml" xref="S3.SS2.p1.16.m4.1.1">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.16.m4.1c">\mathcal{D}^{\prime}_{s}(\textrm{niche})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.16.m4.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( niche )</annotation></semantics></math>, respectively.
For the setwise loss function, we sample a set of items <math alttext="\mathcal{N}_{j}" class="ltx_Math" display="inline" id="S3.SS2.p1.17.m5.1"><semantics id="S3.SS2.p1.17.m5.1a"><msub id="S3.SS2.p1.17.m5.1.1" xref="S3.SS2.p1.17.m5.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.17.m5.1.1.2" xref="S3.SS2.p1.17.m5.1.1.2.cmml">𝒩</mi><mi id="S3.SS2.p1.17.m5.1.1.3" xref="S3.SS2.p1.17.m5.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.17.m5.1b"><apply id="S3.SS2.p1.17.m5.1.1.cmml" xref="S3.SS2.p1.17.m5.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.17.m5.1.1.1.cmml" xref="S3.SS2.p1.17.m5.1.1">subscript</csymbol><ci id="S3.SS2.p1.17.m5.1.1.2.cmml" xref="S3.SS2.p1.17.m5.1.1.2">𝒩</ci><ci id="S3.SS2.p1.17.m5.1.1.3.cmml" xref="S3.SS2.p1.17.m5.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.17.m5.1c">\mathcal{N}_{j}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.17.m5.1d">caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{N}_{k}" class="ltx_Math" display="inline" id="S3.SS2.p1.18.m6.1"><semantics id="S3.SS2.p1.18.m6.1a"><msub id="S3.SS2.p1.18.m6.1.1" xref="S3.SS2.p1.18.m6.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.18.m6.1.1.2" xref="S3.SS2.p1.18.m6.1.1.2.cmml">𝒩</mi><mi id="S3.SS2.p1.18.m6.1.1.3" xref="S3.SS2.p1.18.m6.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.18.m6.1b"><apply id="S3.SS2.p1.18.m6.1.1.cmml" xref="S3.SS2.p1.18.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.18.m6.1.1.1.cmml" xref="S3.SS2.p1.18.m6.1.1">subscript</csymbol><ci id="S3.SS2.p1.18.m6.1.1.2.cmml" xref="S3.SS2.p1.18.m6.1.1.2">𝒩</ci><ci id="S3.SS2.p1.18.m6.1.1.3.cmml" xref="S3.SS2.p1.18.m6.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.18.m6.1c">\mathcal{N}_{k}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.18.m6.1d">caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> from each distribution instead of sampling a single item <math alttext="j" class="ltx_Math" display="inline" id="S3.SS2.p1.19.m7.1"><semantics id="S3.SS2.p1.19.m7.1a"><mi id="S3.SS2.p1.19.m7.1.1" xref="S3.SS2.p1.19.m7.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.19.m7.1b"><ci id="S3.SS2.p1.19.m7.1.1.cmml" xref="S3.SS2.p1.19.m7.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.19.m7.1c">j</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.19.m7.1d">italic_j</annotation></semantics></math> or <math alttext="k" class="ltx_Math" display="inline" id="S3.SS2.p1.20.m8.1"><semantics id="S3.SS2.p1.20.m8.1a"><mi id="S3.SS2.p1.20.m8.1.1" xref="S3.SS2.p1.20.m8.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.20.m8.1b"><ci id="S3.SS2.p1.20.m8.1.1.cmml" xref="S3.SS2.p1.20.m8.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.20.m8.1c">k</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.20.m8.1d">italic_k</annotation></semantics></math>:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S5.EGx4">
<tbody id="S3.E10"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(10)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{D}^{\prime}_{m}(\textrm{pop})" class="ltx_Math" display="inline" id="S3.E10.m1.1"><semantics id="S3.E10.m1.1a"><mrow id="S3.E10.m1.1.2" xref="S3.E10.m1.1.2.cmml"><msubsup id="S3.E10.m1.1.2.2" xref="S3.E10.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m1.1.2.2.2.2" xref="S3.E10.m1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E10.m1.1.2.2.3" xref="S3.E10.m1.1.2.2.3.cmml">m</mi><mo id="S3.E10.m1.1.2.2.2.3" xref="S3.E10.m1.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.E10.m1.1.2.1" xref="S3.E10.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E10.m1.1.2.3.2" xref="S3.E10.m1.1.1a.cmml"><mo id="S3.E10.m1.1.2.3.2.1" stretchy="false" xref="S3.E10.m1.1.1a.cmml">(</mo><mtext id="S3.E10.m1.1.1" xref="S3.E10.m1.1.1.cmml">pop</mtext><mo id="S3.E10.m1.1.2.3.2.2" stretchy="false" xref="S3.E10.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m1.1b"><apply id="S3.E10.m1.1.2.cmml" xref="S3.E10.m1.1.2"><times id="S3.E10.m1.1.2.1.cmml" xref="S3.E10.m1.1.2.1"></times><apply id="S3.E10.m1.1.2.2.cmml" xref="S3.E10.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.2.2.1.cmml" xref="S3.E10.m1.1.2.2">subscript</csymbol><apply id="S3.E10.m1.1.2.2.2.cmml" xref="S3.E10.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E10.m1.1.2.2.2.1.cmml" xref="S3.E10.m1.1.2.2">superscript</csymbol><ci id="S3.E10.m1.1.2.2.2.2.cmml" xref="S3.E10.m1.1.2.2.2.2">𝒟</ci><ci id="S3.E10.m1.1.2.2.2.3.cmml" xref="S3.E10.m1.1.2.2.2.3">′</ci></apply><ci id="S3.E10.m1.1.2.2.3.cmml" xref="S3.E10.m1.1.2.2.3">𝑚</ci></apply><ci id="S3.E10.m1.1.1a.cmml" xref="S3.E10.m1.1.2.3.2"><mtext id="S3.E10.m1.1.1.cmml" xref="S3.E10.m1.1.1">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m1.1c">\displaystyle\mathcal{D}^{\prime}_{m}(\textrm{pop})</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m1.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ( pop )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\{(u,i,\mathcal{N}_{j},\mathcal{N}_{k})\mid\mathcal{N}_{j}\sim p%
_{\textrm{pop}},\mathcal{N}_{k}\sim p_{\textrm{unif}}\}," class="ltx_Math" display="inline" id="S3.E10.m2.3"><semantics id="S3.E10.m2.3a"><mrow id="S3.E10.m2.3.3.1" xref="S3.E10.m2.3.3.1.1.cmml"><mrow id="S3.E10.m2.3.3.1.1" xref="S3.E10.m2.3.3.1.1.cmml"><mi id="S3.E10.m2.3.3.1.1.4" xref="S3.E10.m2.3.3.1.1.4.cmml"></mi><mo id="S3.E10.m2.3.3.1.1.3" xref="S3.E10.m2.3.3.1.1.3.cmml">=</mo><mrow id="S3.E10.m2.3.3.1.1.2.2" xref="S3.E10.m2.3.3.1.1.2.3.cmml"><mo id="S3.E10.m2.3.3.1.1.2.2.3" stretchy="false" xref="S3.E10.m2.3.3.1.1.2.3.1.cmml">{</mo><mrow id="S3.E10.m2.3.3.1.1.1.1.1.2" xref="S3.E10.m2.3.3.1.1.1.1.1.3.cmml"><mo id="S3.E10.m2.3.3.1.1.1.1.1.2.3" stretchy="false" xref="S3.E10.m2.3.3.1.1.1.1.1.3.cmml">(</mo><mi id="S3.E10.m2.1.1" xref="S3.E10.m2.1.1.cmml">u</mi><mo id="S3.E10.m2.3.3.1.1.1.1.1.2.4" xref="S3.E10.m2.3.3.1.1.1.1.1.3.cmml">,</mo><mi id="S3.E10.m2.2.2" xref="S3.E10.m2.2.2.cmml">i</mi><mo id="S3.E10.m2.3.3.1.1.1.1.1.2.5" xref="S3.E10.m2.3.3.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E10.m2.3.3.1.1.1.1.1.1.1" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m2.3.3.1.1.1.1.1.1.1.2" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1.2.cmml">𝒩</mi><mi id="S3.E10.m2.3.3.1.1.1.1.1.1.1.3" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.E10.m2.3.3.1.1.1.1.1.2.6" xref="S3.E10.m2.3.3.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E10.m2.3.3.1.1.1.1.1.2.2" xref="S3.E10.m2.3.3.1.1.1.1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m2.3.3.1.1.1.1.1.2.2.2" xref="S3.E10.m2.3.3.1.1.1.1.1.2.2.2.cmml">𝒩</mi><mi id="S3.E10.m2.3.3.1.1.1.1.1.2.2.3" xref="S3.E10.m2.3.3.1.1.1.1.1.2.2.3.cmml">k</mi></msub><mo id="S3.E10.m2.3.3.1.1.1.1.1.2.7" stretchy="false" xref="S3.E10.m2.3.3.1.1.1.1.1.3.cmml">)</mo></mrow><mo fence="true" id="S3.E10.m2.3.3.1.1.2.2.4" lspace="0em" rspace="0em" xref="S3.E10.m2.3.3.1.1.2.3.1.cmml">∣</mo><mrow id="S3.E10.m2.3.3.1.1.2.2.2.2" xref="S3.E10.m2.3.3.1.1.2.2.2.3.cmml"><mrow id="S3.E10.m2.3.3.1.1.2.2.2.1.1" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.cmml"><msub id="S3.E10.m2.3.3.1.1.2.2.2.1.1.2" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.2" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.2.cmml">𝒩</mi><mi id="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.3" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.3.cmml">j</mi></msub><mo id="S3.E10.m2.3.3.1.1.2.2.2.1.1.1" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.1.cmml">∼</mo><msub id="S3.E10.m2.3.3.1.1.2.2.2.1.1.3" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.cmml"><mi id="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.2" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.2.cmml">p</mi><mtext id="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.3" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.3a.cmml">pop</mtext></msub></mrow><mo id="S3.E10.m2.3.3.1.1.2.2.2.2.3" xref="S3.E10.m2.3.3.1.1.2.2.2.3a.cmml">,</mo><mrow id="S3.E10.m2.3.3.1.1.2.2.2.2.2" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.cmml"><msub id="S3.E10.m2.3.3.1.1.2.2.2.2.2.2" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.2" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.2.cmml">𝒩</mi><mi id="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.3" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.E10.m2.3.3.1.1.2.2.2.2.2.1" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.1.cmml">∼</mo><msub id="S3.E10.m2.3.3.1.1.2.2.2.2.2.3" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.cmml"><mi id="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.2" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.2.cmml">p</mi><mtext id="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.3" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.3a.cmml">unif</mtext></msub></mrow></mrow><mo id="S3.E10.m2.3.3.1.1.2.2.5" stretchy="false" xref="S3.E10.m2.3.3.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S3.E10.m2.3.3.1.2" xref="S3.E10.m2.3.3.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E10.m2.3b"><apply id="S3.E10.m2.3.3.1.1.cmml" xref="S3.E10.m2.3.3.1"><eq id="S3.E10.m2.3.3.1.1.3.cmml" xref="S3.E10.m2.3.3.1.1.3"></eq><csymbol cd="latexml" id="S3.E10.m2.3.3.1.1.4.cmml" xref="S3.E10.m2.3.3.1.1.4">absent</csymbol><apply id="S3.E10.m2.3.3.1.1.2.3.cmml" xref="S3.E10.m2.3.3.1.1.2.2"><csymbol cd="latexml" id="S3.E10.m2.3.3.1.1.2.3.1.cmml" xref="S3.E10.m2.3.3.1.1.2.2.3">conditional-set</csymbol><vector id="S3.E10.m2.3.3.1.1.1.1.1.3.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.2"><ci id="S3.E10.m2.1.1.cmml" xref="S3.E10.m2.1.1">𝑢</ci><ci id="S3.E10.m2.2.2.cmml" xref="S3.E10.m2.2.2">𝑖</ci><apply id="S3.E10.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E10.m2.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E10.m2.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1.2">𝒩</ci><ci id="S3.E10.m2.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.1.1.3">𝑗</ci></apply><apply id="S3.E10.m2.3.3.1.1.1.1.1.2.2.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E10.m2.3.3.1.1.1.1.1.2.2.1.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E10.m2.3.3.1.1.1.1.1.2.2.2.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.2.2.2">𝒩</ci><ci id="S3.E10.m2.3.3.1.1.1.1.1.2.2.3.cmml" xref="S3.E10.m2.3.3.1.1.1.1.1.2.2.3">𝑘</ci></apply></vector><apply id="S3.E10.m2.3.3.1.1.2.2.2.3.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E10.m2.3.3.1.1.2.2.2.3a.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E10.m2.3.3.1.1.2.2.2.1.1.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E10.m2.3.3.1.1.2.2.2.1.1.1.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.1">similar-to</csymbol><apply id="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.1.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.2">subscript</csymbol><ci id="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.2.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.2">𝒩</ci><ci id="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.3.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.2.3">𝑗</ci></apply><apply id="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.1.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.3">subscript</csymbol><ci id="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.2.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.2">𝑝</ci><ci id="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.3a.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.3"><mtext id="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S3.E10.m2.3.3.1.1.2.2.2.1.1.3.3">pop</mtext></ci></apply></apply><apply id="S3.E10.m2.3.3.1.1.2.2.2.2.2.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2"><csymbol cd="latexml" id="S3.E10.m2.3.3.1.1.2.2.2.2.2.1.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.1">similar-to</csymbol><apply id="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.1.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.2">𝒩</ci><ci id="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.3.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.2.3">𝑘</ci></apply><apply id="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.1.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.2.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.2">𝑝</ci><ci id="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.3a.cmml" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.3"><mtext id="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.3.cmml" mathsize="70%" xref="S3.E10.m2.3.3.1.1.2.2.2.2.2.3.3">unif</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E10.m2.3c">\displaystyle=\{(u,i,\mathcal{N}_{j},\mathcal{N}_{k})\mid\mathcal{N}_{j}\sim p%
_{\textrm{pop}},\mathcal{N}_{k}\sim p_{\textrm{unif}}\},</annotation><annotation encoding="application/x-llamapun" id="S3.E10.m2.3d">= { ( italic_u , italic_i , caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) ∣ caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∼ italic_p start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT , caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∼ italic_p start_POSTSUBSCRIPT unif end_POSTSUBSCRIPT } ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E11"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(11)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{D}^{\prime}_{m}(\textrm{niche})" class="ltx_Math" display="inline" id="S3.E11.m1.1"><semantics id="S3.E11.m1.1a"><mrow id="S3.E11.m1.1.2" xref="S3.E11.m1.1.2.cmml"><msubsup id="S3.E11.m1.1.2.2" xref="S3.E11.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m1.1.2.2.2.2" xref="S3.E11.m1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E11.m1.1.2.2.3" xref="S3.E11.m1.1.2.2.3.cmml">m</mi><mo id="S3.E11.m1.1.2.2.2.3" xref="S3.E11.m1.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.E11.m1.1.2.1" xref="S3.E11.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E11.m1.1.2.3.2" xref="S3.E11.m1.1.1a.cmml"><mo id="S3.E11.m1.1.2.3.2.1" stretchy="false" xref="S3.E11.m1.1.1a.cmml">(</mo><mtext id="S3.E11.m1.1.1" xref="S3.E11.m1.1.1.cmml">niche</mtext><mo id="S3.E11.m1.1.2.3.2.2" stretchy="false" xref="S3.E11.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m1.1b"><apply id="S3.E11.m1.1.2.cmml" xref="S3.E11.m1.1.2"><times id="S3.E11.m1.1.2.1.cmml" xref="S3.E11.m1.1.2.1"></times><apply id="S3.E11.m1.1.2.2.cmml" xref="S3.E11.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E11.m1.1.2.2.1.cmml" xref="S3.E11.m1.1.2.2">subscript</csymbol><apply id="S3.E11.m1.1.2.2.2.cmml" xref="S3.E11.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E11.m1.1.2.2.2.1.cmml" xref="S3.E11.m1.1.2.2">superscript</csymbol><ci id="S3.E11.m1.1.2.2.2.2.cmml" xref="S3.E11.m1.1.2.2.2.2">𝒟</ci><ci id="S3.E11.m1.1.2.2.2.3.cmml" xref="S3.E11.m1.1.2.2.2.3">′</ci></apply><ci id="S3.E11.m1.1.2.2.3.cmml" xref="S3.E11.m1.1.2.2.3">𝑚</ci></apply><ci id="S3.E11.m1.1.1a.cmml" xref="S3.E11.m1.1.2.3.2"><mtext id="S3.E11.m1.1.1.cmml" xref="S3.E11.m1.1.1">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m1.1c">\displaystyle\mathcal{D}^{\prime}_{m}(\textrm{niche})</annotation><annotation encoding="application/x-llamapun" id="S3.E11.m1.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ( niche )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\{(u,i,\mathcal{N}_{j},\mathcal{N}_{k})\mid\mathcal{N}_{j}\sim p%
_{\textrm{unif}},\mathcal{N}_{k}\sim p_{\textrm{pop}}\}." class="ltx_Math" display="inline" id="S3.E11.m2.3"><semantics id="S3.E11.m2.3a"><mrow id="S3.E11.m2.3.3.1" xref="S3.E11.m2.3.3.1.1.cmml"><mrow id="S3.E11.m2.3.3.1.1" xref="S3.E11.m2.3.3.1.1.cmml"><mi id="S3.E11.m2.3.3.1.1.4" xref="S3.E11.m2.3.3.1.1.4.cmml"></mi><mo id="S3.E11.m2.3.3.1.1.3" xref="S3.E11.m2.3.3.1.1.3.cmml">=</mo><mrow id="S3.E11.m2.3.3.1.1.2.2" xref="S3.E11.m2.3.3.1.1.2.3.cmml"><mo id="S3.E11.m2.3.3.1.1.2.2.3" stretchy="false" xref="S3.E11.m2.3.3.1.1.2.3.1.cmml">{</mo><mrow id="S3.E11.m2.3.3.1.1.1.1.1.2" xref="S3.E11.m2.3.3.1.1.1.1.1.3.cmml"><mo id="S3.E11.m2.3.3.1.1.1.1.1.2.3" stretchy="false" xref="S3.E11.m2.3.3.1.1.1.1.1.3.cmml">(</mo><mi id="S3.E11.m2.1.1" xref="S3.E11.m2.1.1.cmml">u</mi><mo id="S3.E11.m2.3.3.1.1.1.1.1.2.4" xref="S3.E11.m2.3.3.1.1.1.1.1.3.cmml">,</mo><mi id="S3.E11.m2.2.2" xref="S3.E11.m2.2.2.cmml">i</mi><mo id="S3.E11.m2.3.3.1.1.1.1.1.2.5" xref="S3.E11.m2.3.3.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E11.m2.3.3.1.1.1.1.1.1.1" xref="S3.E11.m2.3.3.1.1.1.1.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m2.3.3.1.1.1.1.1.1.1.2" xref="S3.E11.m2.3.3.1.1.1.1.1.1.1.2.cmml">𝒩</mi><mi id="S3.E11.m2.3.3.1.1.1.1.1.1.1.3" xref="S3.E11.m2.3.3.1.1.1.1.1.1.1.3.cmml">j</mi></msub><mo id="S3.E11.m2.3.3.1.1.1.1.1.2.6" xref="S3.E11.m2.3.3.1.1.1.1.1.3.cmml">,</mo><msub id="S3.E11.m2.3.3.1.1.1.1.1.2.2" xref="S3.E11.m2.3.3.1.1.1.1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m2.3.3.1.1.1.1.1.2.2.2" xref="S3.E11.m2.3.3.1.1.1.1.1.2.2.2.cmml">𝒩</mi><mi id="S3.E11.m2.3.3.1.1.1.1.1.2.2.3" xref="S3.E11.m2.3.3.1.1.1.1.1.2.2.3.cmml">k</mi></msub><mo id="S3.E11.m2.3.3.1.1.1.1.1.2.7" stretchy="false" xref="S3.E11.m2.3.3.1.1.1.1.1.3.cmml">)</mo></mrow><mo fence="true" id="S3.E11.m2.3.3.1.1.2.2.4" lspace="0em" rspace="0em" xref="S3.E11.m2.3.3.1.1.2.3.1.cmml">∣</mo><mrow id="S3.E11.m2.3.3.1.1.2.2.2.2" xref="S3.E11.m2.3.3.1.1.2.2.2.3.cmml"><mrow id="S3.E11.m2.3.3.1.1.2.2.2.1.1" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.cmml"><msub id="S3.E11.m2.3.3.1.1.2.2.2.1.1.2" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.2" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.2.cmml">𝒩</mi><mi id="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.3" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.3.cmml">j</mi></msub><mo id="S3.E11.m2.3.3.1.1.2.2.2.1.1.1" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.1.cmml">∼</mo><msub id="S3.E11.m2.3.3.1.1.2.2.2.1.1.3" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.cmml"><mi id="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.2" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.2.cmml">p</mi><mtext id="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.3" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.3a.cmml">unif</mtext></msub></mrow><mo id="S3.E11.m2.3.3.1.1.2.2.2.2.3" xref="S3.E11.m2.3.3.1.1.2.2.2.3a.cmml">,</mo><mrow id="S3.E11.m2.3.3.1.1.2.2.2.2.2" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.cmml"><msub id="S3.E11.m2.3.3.1.1.2.2.2.2.2.2" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.2" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.2.cmml">𝒩</mi><mi id="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.3" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.3.cmml">k</mi></msub><mo id="S3.E11.m2.3.3.1.1.2.2.2.2.2.1" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.1.cmml">∼</mo><msub id="S3.E11.m2.3.3.1.1.2.2.2.2.2.3" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.cmml"><mi id="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.2" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.2.cmml">p</mi><mtext id="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.3" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.3a.cmml">pop</mtext></msub></mrow></mrow><mo id="S3.E11.m2.3.3.1.1.2.2.5" stretchy="false" xref="S3.E11.m2.3.3.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S3.E11.m2.3.3.1.2" lspace="0em" xref="S3.E11.m2.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E11.m2.3b"><apply id="S3.E11.m2.3.3.1.1.cmml" xref="S3.E11.m2.3.3.1"><eq id="S3.E11.m2.3.3.1.1.3.cmml" xref="S3.E11.m2.3.3.1.1.3"></eq><csymbol cd="latexml" id="S3.E11.m2.3.3.1.1.4.cmml" xref="S3.E11.m2.3.3.1.1.4">absent</csymbol><apply id="S3.E11.m2.3.3.1.1.2.3.cmml" xref="S3.E11.m2.3.3.1.1.2.2"><csymbol cd="latexml" id="S3.E11.m2.3.3.1.1.2.3.1.cmml" xref="S3.E11.m2.3.3.1.1.2.2.3">conditional-set</csymbol><vector id="S3.E11.m2.3.3.1.1.1.1.1.3.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.2"><ci id="S3.E11.m2.1.1.cmml" xref="S3.E11.m2.1.1">𝑢</ci><ci id="S3.E11.m2.2.2.cmml" xref="S3.E11.m2.2.2">𝑖</ci><apply id="S3.E11.m2.3.3.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E11.m2.3.3.1.1.1.1.1.1.1.1.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E11.m2.3.3.1.1.1.1.1.1.1.2.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.1.1.2">𝒩</ci><ci id="S3.E11.m2.3.3.1.1.1.1.1.1.1.3.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.1.1.3">𝑗</ci></apply><apply id="S3.E11.m2.3.3.1.1.1.1.1.2.2.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.E11.m2.3.3.1.1.1.1.1.2.2.1.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.E11.m2.3.3.1.1.1.1.1.2.2.2.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.2.2.2">𝒩</ci><ci id="S3.E11.m2.3.3.1.1.1.1.1.2.2.3.cmml" xref="S3.E11.m2.3.3.1.1.1.1.1.2.2.3">𝑘</ci></apply></vector><apply id="S3.E11.m2.3.3.1.1.2.2.2.3.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E11.m2.3.3.1.1.2.2.2.3a.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E11.m2.3.3.1.1.2.2.2.1.1.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1"><csymbol cd="latexml" id="S3.E11.m2.3.3.1.1.2.2.2.1.1.1.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.1">similar-to</csymbol><apply id="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.1.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.2">subscript</csymbol><ci id="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.2.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.2">𝒩</ci><ci id="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.3.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.2.3">𝑗</ci></apply><apply id="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.1.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.3">subscript</csymbol><ci id="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.2.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.2">𝑝</ci><ci id="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.3a.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.3"><mtext id="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S3.E11.m2.3.3.1.1.2.2.2.1.1.3.3">unif</mtext></ci></apply></apply><apply id="S3.E11.m2.3.3.1.1.2.2.2.2.2.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2"><csymbol cd="latexml" id="S3.E11.m2.3.3.1.1.2.2.2.2.2.1.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.1">similar-to</csymbol><apply id="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.1.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.2">𝒩</ci><ci id="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.3.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.2.3">𝑘</ci></apply><apply id="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.1.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.2.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.2">𝑝</ci><ci id="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.3a.cmml" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.3"><mtext id="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.3.cmml" mathsize="70%" xref="S3.E11.m2.3.3.1.1.2.2.2.2.2.3.3">pop</mtext></ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E11.m2.3c">\displaystyle=\{(u,i,\mathcal{N}_{j},\mathcal{N}_{k})\mid\mathcal{N}_{j}\sim p%
_{\textrm{unif}},\mathcal{N}_{k}\sim p_{\textrm{pop}}\}.</annotation><annotation encoding="application/x-llamapun" id="S3.E11.m2.3d">= { ( italic_u , italic_i , caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) ∣ caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT ∼ italic_p start_POSTSUBSCRIPT unif end_POSTSUBSCRIPT , caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ∼ italic_p start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT } .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.25">A corresponding extension for the SSM loss function is given by:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S5.EGx5">
<tbody id="S3.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{L}_{\textrm{TransSSM}}=" class="ltx_Math" display="inline" id="S3.Ex2.m1.1"><semantics id="S3.Ex2.m1.1a"><mrow id="S3.Ex2.m1.1.1" xref="S3.Ex2.m1.1.1.cmml"><msub id="S3.Ex2.m1.1.1.2" xref="S3.Ex2.m1.1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m1.1.1.2.2" xref="S3.Ex2.m1.1.1.2.2.cmml">ℒ</mi><mtext id="S3.Ex2.m1.1.1.2.3" xref="S3.Ex2.m1.1.1.2.3a.cmml">TransSSM</mtext></msub><mo id="S3.Ex2.m1.1.1.1" xref="S3.Ex2.m1.1.1.1.cmml">=</mo><mi id="S3.Ex2.m1.1.1.3" xref="S3.Ex2.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="S3.Ex2.m1.1b"><apply id="S3.Ex2.m1.1.1.cmml" xref="S3.Ex2.m1.1.1"><eq id="S3.Ex2.m1.1.1.1.cmml" xref="S3.Ex2.m1.1.1.1"></eq><apply id="S3.Ex2.m1.1.1.2.cmml" xref="S3.Ex2.m1.1.1.2"><csymbol cd="ambiguous" id="S3.Ex2.m1.1.1.2.1.cmml" xref="S3.Ex2.m1.1.1.2">subscript</csymbol><ci id="S3.Ex2.m1.1.1.2.2.cmml" xref="S3.Ex2.m1.1.1.2.2">ℒ</ci><ci id="S3.Ex2.m1.1.1.2.3a.cmml" xref="S3.Ex2.m1.1.1.2.3"><mtext id="S3.Ex2.m1.1.1.2.3.cmml" mathsize="70%" xref="S3.Ex2.m1.1.1.2.3">TransSSM</mtext></ci></apply><csymbol cd="latexml" id="S3.Ex2.m1.1.1.3.cmml" xref="S3.Ex2.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.Ex2.m1.1c">\displaystyle\mathcal{L}_{\textrm{TransSSM}}=</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m1.1d">caligraphic_L start_POSTSUBSCRIPT TransSSM end_POSTSUBSCRIPT =</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle-\!\sum_{(u,i,\mathcal{N}_{j},\mathcal{N}_{k})\in\mathcal{D}^{%
\prime}_{m}}\!\biggl{[}\log\frac{\exp(\hat{s}_{ui})}{\exp(\hat{s}_{ui})+\sum_{%
j\in\mathcal{N}_{j}}\exp(\hat{s}_{uj})}" class="ltx_math_unparsed" display="inline" id="S3.Ex2.m2.10"><semantics id="S3.Ex2.m2.10a"><mrow id="S3.Ex2.m2.10b"><mo id="S3.Ex2.m2.10.11" rspace="0.052em">−</mo><mstyle displaystyle="true" id="S3.Ex2.m2.10.12"><munder id="S3.Ex2.m2.10.12a"><mo id="S3.Ex2.m2.10.12.2" movablelimits="false">∑</mo><mrow id="S3.Ex2.m2.4.4.4"><mrow id="S3.Ex2.m2.4.4.4.4.2"><mo id="S3.Ex2.m2.4.4.4.4.2.3" stretchy="false">(</mo><mi id="S3.Ex2.m2.1.1.1.1">u</mi><mo id="S3.Ex2.m2.4.4.4.4.2.4">,</mo><mi id="S3.Ex2.m2.2.2.2.2">i</mi><mo id="S3.Ex2.m2.4.4.4.4.2.5">,</mo><msub id="S3.Ex2.m2.3.3.3.3.1.1"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m2.3.3.3.3.1.1.2">𝒩</mi><mi id="S3.Ex2.m2.3.3.3.3.1.1.3">j</mi></msub><mo id="S3.Ex2.m2.4.4.4.4.2.6">,</mo><msub id="S3.Ex2.m2.4.4.4.4.2.2"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m2.4.4.4.4.2.2.2">𝒩</mi><mi id="S3.Ex2.m2.4.4.4.4.2.2.3">k</mi></msub><mo id="S3.Ex2.m2.4.4.4.4.2.7" stretchy="false">)</mo></mrow><mo id="S3.Ex2.m2.4.4.4.5">∈</mo><msubsup id="S3.Ex2.m2.4.4.4.6"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m2.4.4.4.6.2.2">𝒟</mi><mi id="S3.Ex2.m2.4.4.4.6.3">m</mi><mo id="S3.Ex2.m2.4.4.4.6.2.3">′</mo></msubsup></mrow></munder></mstyle><mrow id="S3.Ex2.m2.10.13"><mo id="S3.Ex2.m2.10.13.1" maxsize="210%" minsize="210%">[</mo><mi id="S3.Ex2.m2.10.13.2">log</mi><mstyle displaystyle="true" id="S3.Ex2.m2.10.10"><mfrac id="S3.Ex2.m2.10.10a"><mrow id="S3.Ex2.m2.6.6.2.2"><mi id="S3.Ex2.m2.5.5.1.1">exp</mi><mo id="S3.Ex2.m2.6.6.2.2a">⁡</mo><mrow id="S3.Ex2.m2.6.6.2.2.1"><mo id="S3.Ex2.m2.6.6.2.2.1.2" stretchy="false">(</mo><msub id="S3.Ex2.m2.6.6.2.2.1.1"><mover accent="true" id="S3.Ex2.m2.6.6.2.2.1.1.2"><mi id="S3.Ex2.m2.6.6.2.2.1.1.2.2">s</mi><mo id="S3.Ex2.m2.6.6.2.2.1.1.2.1">^</mo></mover><mrow id="S3.Ex2.m2.6.6.2.2.1.1.3"><mi id="S3.Ex2.m2.6.6.2.2.1.1.3.2">u</mi><mo id="S3.Ex2.m2.6.6.2.2.1.1.3.1">⁢</mo><mi id="S3.Ex2.m2.6.6.2.2.1.1.3.3">i</mi></mrow></msub><mo id="S3.Ex2.m2.6.6.2.2.1.3" stretchy="false">)</mo></mrow></mrow><mrow id="S3.Ex2.m2.10.10.6"><mrow id="S3.Ex2.m2.9.9.5.3.1"><mi id="S3.Ex2.m2.7.7.3.1">exp</mi><mo id="S3.Ex2.m2.9.9.5.3.1a">⁡</mo><mrow id="S3.Ex2.m2.9.9.5.3.1.1"><mo id="S3.Ex2.m2.9.9.5.3.1.1.2" stretchy="false">(</mo><msub id="S3.Ex2.m2.9.9.5.3.1.1.1"><mover accent="true" id="S3.Ex2.m2.9.9.5.3.1.1.1.2"><mi id="S3.Ex2.m2.9.9.5.3.1.1.1.2.2">s</mi><mo id="S3.Ex2.m2.9.9.5.3.1.1.1.2.1">^</mo></mover><mrow id="S3.Ex2.m2.9.9.5.3.1.1.1.3"><mi id="S3.Ex2.m2.9.9.5.3.1.1.1.3.2">u</mi><mo id="S3.Ex2.m2.9.9.5.3.1.1.1.3.1">⁢</mo><mi id="S3.Ex2.m2.9.9.5.3.1.1.1.3.3">i</mi></mrow></msub><mo id="S3.Ex2.m2.9.9.5.3.1.1.3" stretchy="false">)</mo></mrow></mrow><mo id="S3.Ex2.m2.10.10.6.5" rspace="0.055em">+</mo><mrow id="S3.Ex2.m2.10.10.6.4"><msub id="S3.Ex2.m2.10.10.6.4.2"><mo id="S3.Ex2.m2.10.10.6.4.2.2">∑</mo><mrow id="S3.Ex2.m2.10.10.6.4.2.3"><mi id="S3.Ex2.m2.10.10.6.4.2.3.2">j</mi><mo id="S3.Ex2.m2.10.10.6.4.2.3.1">∈</mo><msub id="S3.Ex2.m2.10.10.6.4.2.3.3"><mi class="ltx_font_mathcaligraphic" id="S3.Ex2.m2.10.10.6.4.2.3.3.2">𝒩</mi><mi id="S3.Ex2.m2.10.10.6.4.2.3.3.3">j</mi></msub></mrow></msub><mrow id="S3.Ex2.m2.10.10.6.4.1.1"><mi id="S3.Ex2.m2.8.8.4.2">exp</mi><mo id="S3.Ex2.m2.10.10.6.4.1.1a">⁡</mo><mrow id="S3.Ex2.m2.10.10.6.4.1.1.1"><mo id="S3.Ex2.m2.10.10.6.4.1.1.1.2" stretchy="false">(</mo><msub id="S3.Ex2.m2.10.10.6.4.1.1.1.1"><mover accent="true" id="S3.Ex2.m2.10.10.6.4.1.1.1.1.2"><mi id="S3.Ex2.m2.10.10.6.4.1.1.1.1.2.2">s</mi><mo id="S3.Ex2.m2.10.10.6.4.1.1.1.1.2.1">^</mo></mover><mrow id="S3.Ex2.m2.10.10.6.4.1.1.1.1.3"><mi id="S3.Ex2.m2.10.10.6.4.1.1.1.1.3.2">u</mi><mo id="S3.Ex2.m2.10.10.6.4.1.1.1.1.3.1">⁢</mo><mi id="S3.Ex2.m2.10.10.6.4.1.1.1.1.3.3">j</mi></mrow></msub><mo id="S3.Ex2.m2.10.10.6.4.1.1.1.3" stretchy="false">)</mo></mrow></mrow></mrow></mrow></mfrac></mstyle></mrow></mrow><annotation encoding="application/x-tex" id="S3.Ex2.m2.10c">\displaystyle-\!\sum_{(u,i,\mathcal{N}_{j},\mathcal{N}_{k})\in\mathcal{D}^{%
\prime}_{m}}\!\biggl{[}\log\frac{\exp(\hat{s}_{ui})}{\exp(\hat{s}_{ui})+\sum_{%
j\in\mathcal{N}_{j}}\exp(\hat{s}_{uj})}</annotation><annotation encoding="application/x-llamapun" id="S3.Ex2.m2.10d">- ∑ start_POSTSUBSCRIPT ( italic_u , italic_i , caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT , caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT ) ∈ caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT end_POSTSUBSCRIPT [ roman_log divide start_ARG roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT ) end_ARG start_ARG roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_i end_POSTSUBSCRIPT ) + ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E12"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(12)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle+\gamma\frac{1}{|\mathcal{N}_{j}|}\!\sum_{j\in\mathcal{N}_{j}}\!%
\log\frac{\exp(\hat{s}_{uj})}{\exp(\hat{s}_{uj})+\sum_{k\in\mathcal{N}_{k}}%
\exp(\hat{s}_{uk})}\biggl{]}." class="ltx_math_unparsed" display="inline" id="S3.E12.m1.7"><semantics id="S3.E12.m1.7a"><mrow id="S3.E12.m1.7b"><mo id="S3.E12.m1.7.8">+</mo><mi id="S3.E12.m1.7.9">γ</mi><mstyle displaystyle="true" id="S3.E12.m1.1.1"><mfrac id="S3.E12.m1.1.1a"><mn id="S3.E12.m1.1.1.3">1</mn><mrow id="S3.E12.m1.1.1.1.1"><mo id="S3.E12.m1.1.1.1.1.2" stretchy="false">|</mo><msub id="S3.E12.m1.1.1.1.1.1"><mi class="ltx_font_mathcaligraphic" id="S3.E12.m1.1.1.1.1.1.2">𝒩</mi><mi id="S3.E12.m1.1.1.1.1.1.3">j</mi></msub><mo id="S3.E12.m1.1.1.1.1.3" stretchy="false">|</mo></mrow></mfrac></mstyle><mstyle displaystyle="true" id="S3.E12.m1.7.10"><munder id="S3.E12.m1.7.10a"><mo id="S3.E12.m1.7.10.2" movablelimits="false">∑</mo><mrow id="S3.E12.m1.7.10.3"><mi id="S3.E12.m1.7.10.3.2">j</mi><mo id="S3.E12.m1.7.10.3.1">∈</mo><msub id="S3.E12.m1.7.10.3.3"><mi class="ltx_font_mathcaligraphic" id="S3.E12.m1.7.10.3.3.2">𝒩</mi><mi id="S3.E12.m1.7.10.3.3.3">j</mi></msub></mrow></munder></mstyle><mi id="S3.E12.m1.7.11">log</mi><mstyle displaystyle="true" id="S3.E12.m1.7.7"><mfrac id="S3.E12.m1.7.7a"><mrow id="S3.E12.m1.3.3.2.2"><mi id="S3.E12.m1.2.2.1.1">exp</mi><mo id="S3.E12.m1.3.3.2.2a">⁡</mo><mrow id="S3.E12.m1.3.3.2.2.1"><mo id="S3.E12.m1.3.3.2.2.1.2" stretchy="false">(</mo><msub id="S3.E12.m1.3.3.2.2.1.1"><mover accent="true" id="S3.E12.m1.3.3.2.2.1.1.2"><mi id="S3.E12.m1.3.3.2.2.1.1.2.2">s</mi><mo id="S3.E12.m1.3.3.2.2.1.1.2.1">^</mo></mover><mrow id="S3.E12.m1.3.3.2.2.1.1.3"><mi id="S3.E12.m1.3.3.2.2.1.1.3.2">u</mi><mo id="S3.E12.m1.3.3.2.2.1.1.3.1">⁢</mo><mi id="S3.E12.m1.3.3.2.2.1.1.3.3">j</mi></mrow></msub><mo id="S3.E12.m1.3.3.2.2.1.3" stretchy="false">)</mo></mrow></mrow><mrow id="S3.E12.m1.7.7.6"><mrow id="S3.E12.m1.6.6.5.3.1"><mi id="S3.E12.m1.4.4.3.1">exp</mi><mo id="S3.E12.m1.6.6.5.3.1a">⁡</mo><mrow id="S3.E12.m1.6.6.5.3.1.1"><mo id="S3.E12.m1.6.6.5.3.1.1.2" stretchy="false">(</mo><msub id="S3.E12.m1.6.6.5.3.1.1.1"><mover accent="true" id="S3.E12.m1.6.6.5.3.1.1.1.2"><mi id="S3.E12.m1.6.6.5.3.1.1.1.2.2">s</mi><mo id="S3.E12.m1.6.6.5.3.1.1.1.2.1">^</mo></mover><mrow id="S3.E12.m1.6.6.5.3.1.1.1.3"><mi id="S3.E12.m1.6.6.5.3.1.1.1.3.2">u</mi><mo id="S3.E12.m1.6.6.5.3.1.1.1.3.1">⁢</mo><mi id="S3.E12.m1.6.6.5.3.1.1.1.3.3">j</mi></mrow></msub><mo id="S3.E12.m1.6.6.5.3.1.1.3" stretchy="false">)</mo></mrow></mrow><mo id="S3.E12.m1.7.7.6.5" rspace="0.055em">+</mo><mrow id="S3.E12.m1.7.7.6.4"><msub id="S3.E12.m1.7.7.6.4.2"><mo id="S3.E12.m1.7.7.6.4.2.2">∑</mo><mrow id="S3.E12.m1.7.7.6.4.2.3"><mi id="S3.E12.m1.7.7.6.4.2.3.2">k</mi><mo id="S3.E12.m1.7.7.6.4.2.3.1">∈</mo><msub id="S3.E12.m1.7.7.6.4.2.3.3"><mi class="ltx_font_mathcaligraphic" id="S3.E12.m1.7.7.6.4.2.3.3.2">𝒩</mi><mi id="S3.E12.m1.7.7.6.4.2.3.3.3">k</mi></msub></mrow></msub><mrow id="S3.E12.m1.7.7.6.4.1.1"><mi id="S3.E12.m1.5.5.4.2">exp</mi><mo id="S3.E12.m1.7.7.6.4.1.1a">⁡</mo><mrow id="S3.E12.m1.7.7.6.4.1.1.1"><mo id="S3.E12.m1.7.7.6.4.1.1.1.2" stretchy="false">(</mo><msub id="S3.E12.m1.7.7.6.4.1.1.1.1"><mover accent="true" id="S3.E12.m1.7.7.6.4.1.1.1.1.2"><mi id="S3.E12.m1.7.7.6.4.1.1.1.1.2.2">s</mi><mo id="S3.E12.m1.7.7.6.4.1.1.1.1.2.1">^</mo></mover><mrow id="S3.E12.m1.7.7.6.4.1.1.1.1.3"><mi id="S3.E12.m1.7.7.6.4.1.1.1.1.3.2">u</mi><mo id="S3.E12.m1.7.7.6.4.1.1.1.1.3.1">⁢</mo><mi id="S3.E12.m1.7.7.6.4.1.1.1.1.3.3">k</mi></mrow></msub><mo id="S3.E12.m1.7.7.6.4.1.1.1.3" stretchy="false">)</mo></mrow></mrow></mrow></mrow></mfrac></mstyle><mrow id="S3.E12.m1.7.12"><mo id="S3.E12.m1.7.12.1" lspace="0em" mathsize="210%" rspace="0em">]</mo><mo id="S3.E12.m1.7.12.2" lspace="0em">.</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.E12.m1.7c">\displaystyle+\gamma\frac{1}{|\mathcal{N}_{j}|}\!\sum_{j\in\mathcal{N}_{j}}\!%
\log\frac{\exp(\hat{s}_{uj})}{\exp(\hat{s}_{uj})+\sum_{k\in\mathcal{N}_{k}}%
\exp(\hat{s}_{uk})}\biggl{]}.</annotation><annotation encoding="application/x-llamapun" id="S3.E12.m1.7d">+ italic_γ divide start_ARG 1 end_ARG start_ARG | caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT | end_ARG ∑ start_POSTSUBSCRIPT italic_j ∈ caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_log divide start_ARG roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) end_ARG start_ARG roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_j end_POSTSUBSCRIPT ) + ∑ start_POSTSUBSCRIPT italic_k ∈ caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT end_POSTSUBSCRIPT roman_exp ( over^ start_ARG italic_s end_ARG start_POSTSUBSCRIPT italic_u italic_k end_POSTSUBSCRIPT ) end_ARG ] .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p1.24">As similar to previous extensions, <math alttext="\textrm{TransSSM}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S3.SS2.p1.21.m1.1"><semantics id="S3.SS2.p1.21.m1.1a"><msub id="S3.SS2.p1.21.m1.1.1" xref="S3.SS2.p1.21.m1.1.1.cmml"><mtext id="S3.SS2.p1.21.m1.1.1.2" xref="S3.SS2.p1.21.m1.1.1.2a.cmml">TransSSM</mtext><mtext id="S3.SS2.p1.21.m1.1.1.3" xref="S3.SS2.p1.21.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.21.m1.1b"><apply id="S3.SS2.p1.21.m1.1.1.cmml" xref="S3.SS2.p1.21.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.21.m1.1.1.1.cmml" xref="S3.SS2.p1.21.m1.1.1">subscript</csymbol><ci id="S3.SS2.p1.21.m1.1.1.2a.cmml" xref="S3.SS2.p1.21.m1.1.1.2"><mtext id="S3.SS2.p1.21.m1.1.1.2.cmml" xref="S3.SS2.p1.21.m1.1.1.2">TransSSM</mtext></ci><ci id="S3.SS2.p1.21.m1.1.1.3a.cmml" xref="S3.SS2.p1.21.m1.1.1.3"><mtext id="S3.SS2.p1.21.m1.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p1.21.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.21.m1.1c">\textrm{TransSSM}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.21.m1.1d">TransSSM start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\textrm{TransSSM}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S3.SS2.p1.22.m2.1"><semantics id="S3.SS2.p1.22.m2.1a"><msub id="S3.SS2.p1.22.m2.1.1" xref="S3.SS2.p1.22.m2.1.1.cmml"><mtext id="S3.SS2.p1.22.m2.1.1.2" xref="S3.SS2.p1.22.m2.1.1.2a.cmml">TransSSM</mtext><mtext id="S3.SS2.p1.22.m2.1.1.3" xref="S3.SS2.p1.22.m2.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.22.m2.1b"><apply id="S3.SS2.p1.22.m2.1.1.cmml" xref="S3.SS2.p1.22.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p1.22.m2.1.1.1.cmml" xref="S3.SS2.p1.22.m2.1.1">subscript</csymbol><ci id="S3.SS2.p1.22.m2.1.1.2a.cmml" xref="S3.SS2.p1.22.m2.1.1.2"><mtext id="S3.SS2.p1.22.m2.1.1.2.cmml" xref="S3.SS2.p1.22.m2.1.1.2">TransSSM</mtext></ci><ci id="S3.SS2.p1.22.m2.1.1.3a.cmml" xref="S3.SS2.p1.22.m2.1.1.3"><mtext id="S3.SS2.p1.22.m2.1.1.3.cmml" mathsize="70%" xref="S3.SS2.p1.22.m2.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.22.m2.1c">\textrm{TransSSM}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.22.m2.1d">TransSSM start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math> employs either <math alttext="\mathcal{D}^{\prime}_{m}(\textrm{pop})" class="ltx_Math" display="inline" id="S3.SS2.p1.23.m3.1"><semantics id="S3.SS2.p1.23.m3.1a"><mrow id="S3.SS2.p1.23.m3.1.2" xref="S3.SS2.p1.23.m3.1.2.cmml"><msubsup id="S3.SS2.p1.23.m3.1.2.2" xref="S3.SS2.p1.23.m3.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.23.m3.1.2.2.2.2" xref="S3.SS2.p1.23.m3.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.SS2.p1.23.m3.1.2.2.3" xref="S3.SS2.p1.23.m3.1.2.2.3.cmml">m</mi><mo id="S3.SS2.p1.23.m3.1.2.2.2.3" xref="S3.SS2.p1.23.m3.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.SS2.p1.23.m3.1.2.1" xref="S3.SS2.p1.23.m3.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.23.m3.1.2.3.2" xref="S3.SS2.p1.23.m3.1.1a.cmml"><mo id="S3.SS2.p1.23.m3.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.23.m3.1.1a.cmml">(</mo><mtext id="S3.SS2.p1.23.m3.1.1" xref="S3.SS2.p1.23.m3.1.1.cmml">pop</mtext><mo id="S3.SS2.p1.23.m3.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.23.m3.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.23.m3.1b"><apply id="S3.SS2.p1.23.m3.1.2.cmml" xref="S3.SS2.p1.23.m3.1.2"><times id="S3.SS2.p1.23.m3.1.2.1.cmml" xref="S3.SS2.p1.23.m3.1.2.1"></times><apply id="S3.SS2.p1.23.m3.1.2.2.cmml" xref="S3.SS2.p1.23.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.23.m3.1.2.2.1.cmml" xref="S3.SS2.p1.23.m3.1.2.2">subscript</csymbol><apply id="S3.SS2.p1.23.m3.1.2.2.2.cmml" xref="S3.SS2.p1.23.m3.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.23.m3.1.2.2.2.1.cmml" xref="S3.SS2.p1.23.m3.1.2.2">superscript</csymbol><ci id="S3.SS2.p1.23.m3.1.2.2.2.2.cmml" xref="S3.SS2.p1.23.m3.1.2.2.2.2">𝒟</ci><ci id="S3.SS2.p1.23.m3.1.2.2.2.3.cmml" xref="S3.SS2.p1.23.m3.1.2.2.2.3">′</ci></apply><ci id="S3.SS2.p1.23.m3.1.2.2.3.cmml" xref="S3.SS2.p1.23.m3.1.2.2.3">𝑚</ci></apply><ci id="S3.SS2.p1.23.m3.1.1a.cmml" xref="S3.SS2.p1.23.m3.1.2.3.2"><mtext id="S3.SS2.p1.23.m3.1.1.cmml" xref="S3.SS2.p1.23.m3.1.1">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.23.m3.1c">\mathcal{D}^{\prime}_{m}(\textrm{pop})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.23.m3.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ( pop )</annotation></semantics></math> or <math alttext="\mathcal{D}^{\prime}_{m}(\textrm{niche})" class="ltx_Math" display="inline" id="S3.SS2.p1.24.m4.1"><semantics id="S3.SS2.p1.24.m4.1a"><mrow id="S3.SS2.p1.24.m4.1.2" xref="S3.SS2.p1.24.m4.1.2.cmml"><msubsup id="S3.SS2.p1.24.m4.1.2.2" xref="S3.SS2.p1.24.m4.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p1.24.m4.1.2.2.2.2" xref="S3.SS2.p1.24.m4.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.SS2.p1.24.m4.1.2.2.3" xref="S3.SS2.p1.24.m4.1.2.2.3.cmml">m</mi><mo id="S3.SS2.p1.24.m4.1.2.2.2.3" xref="S3.SS2.p1.24.m4.1.2.2.2.3.cmml">′</mo></msubsup><mo id="S3.SS2.p1.24.m4.1.2.1" xref="S3.SS2.p1.24.m4.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p1.24.m4.1.2.3.2" xref="S3.SS2.p1.24.m4.1.1a.cmml"><mo id="S3.SS2.p1.24.m4.1.2.3.2.1" stretchy="false" xref="S3.SS2.p1.24.m4.1.1a.cmml">(</mo><mtext id="S3.SS2.p1.24.m4.1.1" xref="S3.SS2.p1.24.m4.1.1.cmml">niche</mtext><mo id="S3.SS2.p1.24.m4.1.2.3.2.2" stretchy="false" xref="S3.SS2.p1.24.m4.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p1.24.m4.1b"><apply id="S3.SS2.p1.24.m4.1.2.cmml" xref="S3.SS2.p1.24.m4.1.2"><times id="S3.SS2.p1.24.m4.1.2.1.cmml" xref="S3.SS2.p1.24.m4.1.2.1"></times><apply id="S3.SS2.p1.24.m4.1.2.2.cmml" xref="S3.SS2.p1.24.m4.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.24.m4.1.2.2.1.cmml" xref="S3.SS2.p1.24.m4.1.2.2">subscript</csymbol><apply id="S3.SS2.p1.24.m4.1.2.2.2.cmml" xref="S3.SS2.p1.24.m4.1.2.2"><csymbol cd="ambiguous" id="S3.SS2.p1.24.m4.1.2.2.2.1.cmml" xref="S3.SS2.p1.24.m4.1.2.2">superscript</csymbol><ci id="S3.SS2.p1.24.m4.1.2.2.2.2.cmml" xref="S3.SS2.p1.24.m4.1.2.2.2.2">𝒟</ci><ci id="S3.SS2.p1.24.m4.1.2.2.2.3.cmml" xref="S3.SS2.p1.24.m4.1.2.2.2.3">′</ci></apply><ci id="S3.SS2.p1.24.m4.1.2.2.3.cmml" xref="S3.SS2.p1.24.m4.1.2.2.3">𝑚</ci></apply><ci id="S3.SS2.p1.24.m4.1.1a.cmml" xref="S3.SS2.p1.24.m4.1.2.3.2"><mtext id="S3.SS2.p1.24.m4.1.1.cmml" xref="S3.SS2.p1.24.m4.1.1">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p1.24.m4.1c">\mathcal{D}^{\prime}_{m}(\textrm{niche})</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p1.24.m4.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT ( niche )</annotation></semantics></math> for negative sampling.</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<p class="ltx_p" id="S3.SS2.p2.2">One thing to note is that our introduced sampling strategies <math alttext="\mathcal{D}^{\prime}_{s}" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><msubsup id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.1.m1.1.1.2.2" xref="S3.SS2.p2.1.m1.1.1.2.2.cmml">𝒟</mi><mi id="S3.SS2.p2.1.m1.1.1.3" xref="S3.SS2.p2.1.m1.1.1.3.cmml">s</mi><mo id="S3.SS2.p2.1.m1.1.1.2.3" xref="S3.SS2.p2.1.m1.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><apply id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">subscript</csymbol><apply id="S3.SS2.p2.1.m1.1.1.2.cmml" xref="S3.SS2.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.1.m1.1.1.2.1.cmml" xref="S3.SS2.p2.1.m1.1.1">superscript</csymbol><ci id="S3.SS2.p2.1.m1.1.1.2.2.cmml" xref="S3.SS2.p2.1.m1.1.1.2.2">𝒟</ci><ci id="S3.SS2.p2.1.m1.1.1.2.3.cmml" xref="S3.SS2.p2.1.m1.1.1.2.3">′</ci></apply><ci id="S3.SS2.p2.1.m1.1.1.3.cmml" xref="S3.SS2.p2.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">\mathcal{D}^{\prime}_{s}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{D}^{\prime}_{m}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><msubsup id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS2.p2.2.m2.1.1.2.2" xref="S3.SS2.p2.2.m2.1.1.2.2.cmml">𝒟</mi><mi id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml">m</mi><mo id="S3.SS2.p2.2.m2.1.1.2.3" xref="S3.SS2.p2.2.m2.1.1.2.3.cmml">′</mo></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><apply id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.2.1.cmml" xref="S3.SS2.p2.2.m2.1.1">superscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2.2">𝒟</ci><ci id="S3.SS2.p2.2.m2.1.1.2.3.cmml" xref="S3.SS2.p2.2.m2.1.1.2.3">′</ci></apply><ci id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3">𝑚</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">\mathcal{D}^{\prime}_{m}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">caligraphic_D start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_m end_POSTSUBSCRIPT</annotation></semantics></math> are both weak transitive.
Nonetheless, modifying them to a strict setting can be readily accomplished if we can quantify the preference of each item.
For instance, we can reformulate the mini-batch construction for pairwise and pointwise objectives as:</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="S5.EGx6">
<tbody id="S3.E13"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(13)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{D}^{\dagger}_{s}(\textrm{pop})" class="ltx_Math" display="inline" id="S3.E13.m1.1"><semantics id="S3.E13.m1.1a"><mrow id="S3.E13.m1.1.2" xref="S3.E13.m1.1.2.cmml"><msubsup id="S3.E13.m1.1.2.2" xref="S3.E13.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E13.m1.1.2.2.2.2" xref="S3.E13.m1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E13.m1.1.2.2.3" xref="S3.E13.m1.1.2.2.3.cmml">s</mi><mo id="S3.E13.m1.1.2.2.2.3" xref="S3.E13.m1.1.2.2.2.3.cmml">†</mo></msubsup><mo id="S3.E13.m1.1.2.1" xref="S3.E13.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E13.m1.1.2.3.2" xref="S3.E13.m1.1.1a.cmml"><mo id="S3.E13.m1.1.2.3.2.1" stretchy="false" xref="S3.E13.m1.1.1a.cmml">(</mo><mtext id="S3.E13.m1.1.1" xref="S3.E13.m1.1.1.cmml">pop</mtext><mo id="S3.E13.m1.1.2.3.2.2" stretchy="false" xref="S3.E13.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E13.m1.1b"><apply id="S3.E13.m1.1.2.cmml" xref="S3.E13.m1.1.2"><times id="S3.E13.m1.1.2.1.cmml" xref="S3.E13.m1.1.2.1"></times><apply id="S3.E13.m1.1.2.2.cmml" xref="S3.E13.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E13.m1.1.2.2.1.cmml" xref="S3.E13.m1.1.2.2">subscript</csymbol><apply id="S3.E13.m1.1.2.2.2.cmml" xref="S3.E13.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E13.m1.1.2.2.2.1.cmml" xref="S3.E13.m1.1.2.2">superscript</csymbol><ci id="S3.E13.m1.1.2.2.2.2.cmml" xref="S3.E13.m1.1.2.2.2.2">𝒟</ci><ci id="S3.E13.m1.1.2.2.2.3.cmml" xref="S3.E13.m1.1.2.2.2.3">†</ci></apply><ci id="S3.E13.m1.1.2.2.3.cmml" xref="S3.E13.m1.1.2.2.3">𝑠</ci></apply><ci id="S3.E13.m1.1.1a.cmml" xref="S3.E13.m1.1.2.3.2"><mtext id="S3.E13.m1.1.1.cmml" xref="S3.E13.m1.1.1">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E13.m1.1c">\displaystyle\mathcal{D}^{\dagger}_{s}(\textrm{pop})</annotation><annotation encoding="application/x-llamapun" id="S3.E13.m1.1d">caligraphic_D start_POSTSUPERSCRIPT † end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( pop )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\{(u,i,j,k)\mid f(j)&gt;f(k),j\sim p_{\textrm{pop}},k\sim p_{%
\textrm{unif}}\}," class="ltx_Math" display="inline" id="S3.E13.m2.7"><semantics id="S3.E13.m2.7a"><mrow id="S3.E13.m2.7.7.1" xref="S3.E13.m2.7.7.1.1.cmml"><mrow id="S3.E13.m2.7.7.1.1" xref="S3.E13.m2.7.7.1.1.cmml"><mi id="S3.E13.m2.7.7.1.1.4" xref="S3.E13.m2.7.7.1.1.4.cmml"></mi><mo id="S3.E13.m2.7.7.1.1.3" xref="S3.E13.m2.7.7.1.1.3.cmml">=</mo><mrow id="S3.E13.m2.7.7.1.1.2.2" xref="S3.E13.m2.7.7.1.1.2.3.cmml"><mo id="S3.E13.m2.7.7.1.1.2.2.3" stretchy="false" xref="S3.E13.m2.7.7.1.1.2.3.1.cmml">{</mo><mrow id="S3.E13.m2.7.7.1.1.1.1.1.2" xref="S3.E13.m2.7.7.1.1.1.1.1.1.cmml"><mo id="S3.E13.m2.7.7.1.1.1.1.1.2.1" stretchy="false" xref="S3.E13.m2.7.7.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E13.m2.1.1" xref="S3.E13.m2.1.1.cmml">u</mi><mo id="S3.E13.m2.7.7.1.1.1.1.1.2.2" xref="S3.E13.m2.7.7.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E13.m2.2.2" xref="S3.E13.m2.2.2.cmml">i</mi><mo id="S3.E13.m2.7.7.1.1.1.1.1.2.3" xref="S3.E13.m2.7.7.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E13.m2.3.3" xref="S3.E13.m2.3.3.cmml">j</mi><mo id="S3.E13.m2.7.7.1.1.1.1.1.2.4" xref="S3.E13.m2.7.7.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E13.m2.4.4" xref="S3.E13.m2.4.4.cmml">k</mi><mo id="S3.E13.m2.7.7.1.1.1.1.1.2.5" stretchy="false" xref="S3.E13.m2.7.7.1.1.1.1.1.1.cmml">)</mo></mrow><mo fence="true" id="S3.E13.m2.7.7.1.1.2.2.4" lspace="0em" rspace="0em" xref="S3.E13.m2.7.7.1.1.2.3.1.cmml">∣</mo><mrow id="S3.E13.m2.7.7.1.1.2.2.2.2" xref="S3.E13.m2.7.7.1.1.2.2.2.3.cmml"><mrow id="S3.E13.m2.7.7.1.1.2.2.2.1.1" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.cmml"><mrow id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.cmml"><mi id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.2" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.2.cmml">f</mi><mo id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.1" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.1.cmml">⁢</mo><mrow id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.3.2" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.cmml"><mo id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.3.2.1" stretchy="false" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.cmml">(</mo><mi id="S3.E13.m2.5.5" xref="S3.E13.m2.5.5.cmml">j</mi><mo id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.3.2.2" stretchy="false" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E13.m2.7.7.1.1.2.2.2.1.1.1" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.1.cmml">&gt;</mo><mrow id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.cmml"><mi id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.2" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.2.cmml">f</mi><mo id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.1" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.3.2" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.cmml"><mo id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.3.2.1" stretchy="false" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.cmml">(</mo><mi id="S3.E13.m2.6.6" xref="S3.E13.m2.6.6.cmml">k</mi><mo id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.3.2.2" stretchy="false" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E13.m2.7.7.1.1.2.2.2.2.3" xref="S3.E13.m2.7.7.1.1.2.2.2.3a.cmml">,</mo><mrow id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.3.cmml"><mrow id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.cmml"><mi id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.2" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.2.cmml">j</mi><mo id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.1" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.1.cmml">∼</mo><msub id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.cmml"><mi id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.2" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.2.cmml">p</mi><mtext id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.3" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.3a.cmml">pop</mtext></msub></mrow><mo id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.3" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.cmml"><mi id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.2" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.2.cmml">k</mi><mo id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.1" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.1.cmml">∼</mo><msub id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.cmml"><mi id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.2" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.2.cmml">p</mi><mtext id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.3" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.3a.cmml">unif</mtext></msub></mrow></mrow></mrow><mo id="S3.E13.m2.7.7.1.1.2.2.5" stretchy="false" xref="S3.E13.m2.7.7.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S3.E13.m2.7.7.1.2" xref="S3.E13.m2.7.7.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E13.m2.7b"><apply id="S3.E13.m2.7.7.1.1.cmml" xref="S3.E13.m2.7.7.1"><eq id="S3.E13.m2.7.7.1.1.3.cmml" xref="S3.E13.m2.7.7.1.1.3"></eq><csymbol cd="latexml" id="S3.E13.m2.7.7.1.1.4.cmml" xref="S3.E13.m2.7.7.1.1.4">absent</csymbol><apply id="S3.E13.m2.7.7.1.1.2.3.cmml" xref="S3.E13.m2.7.7.1.1.2.2"><csymbol cd="latexml" id="S3.E13.m2.7.7.1.1.2.3.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.3">conditional-set</csymbol><vector id="S3.E13.m2.7.7.1.1.1.1.1.1.cmml" xref="S3.E13.m2.7.7.1.1.1.1.1.2"><ci id="S3.E13.m2.1.1.cmml" xref="S3.E13.m2.1.1">𝑢</ci><ci id="S3.E13.m2.2.2.cmml" xref="S3.E13.m2.2.2">𝑖</ci><ci id="S3.E13.m2.3.3.cmml" xref="S3.E13.m2.3.3">𝑗</ci><ci id="S3.E13.m2.4.4.cmml" xref="S3.E13.m2.4.4">𝑘</ci></vector><apply id="S3.E13.m2.7.7.1.1.2.2.2.3.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E13.m2.7.7.1.1.2.2.2.3a.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E13.m2.7.7.1.1.2.2.2.1.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1"><gt id="S3.E13.m2.7.7.1.1.2.2.2.1.1.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.1"></gt><apply id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2"><times id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.1"></times><ci id="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.2.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.2.2">𝑓</ci><ci id="S3.E13.m2.5.5.cmml" xref="S3.E13.m2.5.5">𝑗</ci></apply><apply id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3"><times id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.1"></times><ci id="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.2.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.1.1.3.2">𝑓</ci><ci id="S3.E13.m2.6.6.cmml" xref="S3.E13.m2.6.6">𝑘</ci></apply></apply><apply id="S3.E13.m2.7.7.1.1.2.2.2.2.2.3.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E13.m2.7.7.1.1.2.2.2.2.2.3a.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1"><csymbol cd="latexml" id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.1">similar-to</csymbol><ci id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.2.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.2">𝑗</ci><apply id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3"><csymbol cd="ambiguous" id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3">subscript</csymbol><ci id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.2.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.2">𝑝</ci><ci id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.3a.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.3"><mtext id="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.3.cmml" mathsize="70%" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.1.1.3.3">pop</mtext></ci></apply></apply><apply id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2"><csymbol cd="latexml" id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.1">similar-to</csymbol><ci id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.2.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.2">𝑘</ci><apply id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.1.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.2.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.2">𝑝</ci><ci id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.3a.cmml" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.3"><mtext id="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.3.cmml" mathsize="70%" xref="S3.E13.m2.7.7.1.1.2.2.2.2.2.2.2.3.3">unif</mtext></ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E13.m2.7c">\displaystyle=\{(u,i,j,k)\mid f(j)&gt;f(k),j\sim p_{\textrm{pop}},k\sim p_{%
\textrm{unif}}\},</annotation><annotation encoding="application/x-llamapun" id="S3.E13.m2.7d">= { ( italic_u , italic_i , italic_j , italic_k ) ∣ italic_f ( italic_j ) &gt; italic_f ( italic_k ) , italic_j ∼ italic_p start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT , italic_k ∼ italic_p start_POSTSUBSCRIPT unif end_POSTSUBSCRIPT } ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S3.E14"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(14)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle\mathcal{D}^{\dagger}_{s}(\textrm{niche})" class="ltx_Math" display="inline" id="S3.E14.m1.1"><semantics id="S3.E14.m1.1a"><mrow id="S3.E14.m1.1.2" xref="S3.E14.m1.1.2.cmml"><msubsup id="S3.E14.m1.1.2.2" xref="S3.E14.m1.1.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.E14.m1.1.2.2.2.2" xref="S3.E14.m1.1.2.2.2.2.cmml">𝒟</mi><mi id="S3.E14.m1.1.2.2.3" xref="S3.E14.m1.1.2.2.3.cmml">s</mi><mo id="S3.E14.m1.1.2.2.2.3" xref="S3.E14.m1.1.2.2.2.3.cmml">†</mo></msubsup><mo id="S3.E14.m1.1.2.1" xref="S3.E14.m1.1.2.1.cmml">⁢</mo><mrow id="S3.E14.m1.1.2.3.2" xref="S3.E14.m1.1.1a.cmml"><mo id="S3.E14.m1.1.2.3.2.1" stretchy="false" xref="S3.E14.m1.1.1a.cmml">(</mo><mtext id="S3.E14.m1.1.1" xref="S3.E14.m1.1.1.cmml">niche</mtext><mo id="S3.E14.m1.1.2.3.2.2" stretchy="false" xref="S3.E14.m1.1.1a.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E14.m1.1b"><apply id="S3.E14.m1.1.2.cmml" xref="S3.E14.m1.1.2"><times id="S3.E14.m1.1.2.1.cmml" xref="S3.E14.m1.1.2.1"></times><apply id="S3.E14.m1.1.2.2.cmml" xref="S3.E14.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.2.2.1.cmml" xref="S3.E14.m1.1.2.2">subscript</csymbol><apply id="S3.E14.m1.1.2.2.2.cmml" xref="S3.E14.m1.1.2.2"><csymbol cd="ambiguous" id="S3.E14.m1.1.2.2.2.1.cmml" xref="S3.E14.m1.1.2.2">superscript</csymbol><ci id="S3.E14.m1.1.2.2.2.2.cmml" xref="S3.E14.m1.1.2.2.2.2">𝒟</ci><ci id="S3.E14.m1.1.2.2.2.3.cmml" xref="S3.E14.m1.1.2.2.2.3">†</ci></apply><ci id="S3.E14.m1.1.2.2.3.cmml" xref="S3.E14.m1.1.2.2.3">𝑠</ci></apply><ci id="S3.E14.m1.1.1a.cmml" xref="S3.E14.m1.1.2.3.2"><mtext id="S3.E14.m1.1.1.cmml" xref="S3.E14.m1.1.1">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14.m1.1c">\displaystyle\mathcal{D}^{\dagger}_{s}(\textrm{niche})</annotation><annotation encoding="application/x-llamapun" id="S3.E14.m1.1d">caligraphic_D start_POSTSUPERSCRIPT † end_POSTSUPERSCRIPT start_POSTSUBSCRIPT italic_s end_POSTSUBSCRIPT ( niche )</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle=\{(u,i,j,k)\mid f(j)&lt;f(k),j\sim p_{\textrm{unif}},k\sim p_{%
\textrm{pop}}\}," class="ltx_Math" display="inline" id="S3.E14.m2.8"><semantics id="S3.E14.m2.8a"><mrow id="S3.E14.m2.8.8.1" xref="S3.E14.m2.8.8.1.1.cmml"><mrow id="S3.E14.m2.8.8.1.1" xref="S3.E14.m2.8.8.1.1.cmml"><mi id="S3.E14.m2.8.8.1.1.4" xref="S3.E14.m2.8.8.1.1.4.cmml"></mi><mo id="S3.E14.m2.8.8.1.1.3" xref="S3.E14.m2.8.8.1.1.3.cmml">=</mo><mrow id="S3.E14.m2.8.8.1.1.2.2" xref="S3.E14.m2.8.8.1.1.2.3.cmml"><mo id="S3.E14.m2.8.8.1.1.2.2.3" stretchy="false" xref="S3.E14.m2.8.8.1.1.2.3.1.cmml">{</mo><mrow id="S3.E14.m2.8.8.1.1.1.1.1.2" xref="S3.E14.m2.8.8.1.1.1.1.1.1.cmml"><mo id="S3.E14.m2.8.8.1.1.1.1.1.2.1" stretchy="false" xref="S3.E14.m2.8.8.1.1.1.1.1.1.cmml">(</mo><mi id="S3.E14.m2.1.1" xref="S3.E14.m2.1.1.cmml">u</mi><mo id="S3.E14.m2.8.8.1.1.1.1.1.2.2" xref="S3.E14.m2.8.8.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E14.m2.2.2" xref="S3.E14.m2.2.2.cmml">i</mi><mo id="S3.E14.m2.8.8.1.1.1.1.1.2.3" xref="S3.E14.m2.8.8.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E14.m2.3.3" xref="S3.E14.m2.3.3.cmml">j</mi><mo id="S3.E14.m2.8.8.1.1.1.1.1.2.4" xref="S3.E14.m2.8.8.1.1.1.1.1.1.cmml">,</mo><mi id="S3.E14.m2.4.4" xref="S3.E14.m2.4.4.cmml">k</mi><mo id="S3.E14.m2.8.8.1.1.1.1.1.2.5" stretchy="false" xref="S3.E14.m2.8.8.1.1.1.1.1.1.cmml">)</mo></mrow><mo fence="true" id="S3.E14.m2.8.8.1.1.2.2.4" lspace="0em" rspace="0em" xref="S3.E14.m2.8.8.1.1.2.3.1.cmml">∣</mo><mrow id="S3.E14.m2.8.8.1.1.2.2.2.2" xref="S3.E14.m2.8.8.1.1.2.2.2.3.cmml"><mrow id="S3.E14.m2.8.8.1.1.2.2.2.1.1" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.cmml"><mrow id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.cmml"><mi id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.2" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.2.cmml">f</mi><mo id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.1" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.1.cmml">⁢</mo><mrow id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.3.2" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.cmml"><mo id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.3.2.1" stretchy="false" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.cmml">(</mo><mi id="S3.E14.m2.5.5" xref="S3.E14.m2.5.5.cmml">j</mi><mo id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.3.2.2" stretchy="false" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.cmml">)</mo></mrow></mrow><mo id="S3.E14.m2.8.8.1.1.2.2.2.1.1.1" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.1.cmml">&lt;</mo><mrow id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.cmml"><mi id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.2" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.2.cmml">f</mi><mo id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.1" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.1.cmml">⁢</mo><mrow id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.3.2" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.cmml"><mo id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.3.2.1" stretchy="false" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.cmml">(</mo><mi id="S3.E14.m2.6.6" xref="S3.E14.m2.6.6.cmml">k</mi><mo id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.3.2.2" stretchy="false" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E14.m2.8.8.1.1.2.2.2.2.3" xref="S3.E14.m2.8.8.1.1.2.2.2.3a.cmml">,</mo><mrow id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.3.cmml"><mrow id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.cmml"><mi id="S3.E14.m2.7.7" xref="S3.E14.m2.7.7.cmml">j</mi><mo id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.1" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.1.cmml">∼</mo><msub id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.cmml"><mi id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.2" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.2.cmml">p</mi><mtext id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.3" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.3a.cmml">unif</mtext></msub></mrow><mo id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.3" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.3a.cmml">,</mo><mrow id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.cmml"><mi id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.2" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.2.cmml">k</mi><mo id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.1" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.1.cmml">∼</mo><msub id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.cmml"><mi id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.2" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.2.cmml">p</mi><mtext id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.3" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.3a.cmml">pop</mtext></msub></mrow></mrow></mrow><mo id="S3.E14.m2.8.8.1.1.2.2.5" stretchy="false" xref="S3.E14.m2.8.8.1.1.2.3.1.cmml">}</mo></mrow></mrow><mo id="S3.E14.m2.8.8.1.2" xref="S3.E14.m2.8.8.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E14.m2.8b"><apply id="S3.E14.m2.8.8.1.1.cmml" xref="S3.E14.m2.8.8.1"><eq id="S3.E14.m2.8.8.1.1.3.cmml" xref="S3.E14.m2.8.8.1.1.3"></eq><csymbol cd="latexml" id="S3.E14.m2.8.8.1.1.4.cmml" xref="S3.E14.m2.8.8.1.1.4">absent</csymbol><apply id="S3.E14.m2.8.8.1.1.2.3.cmml" xref="S3.E14.m2.8.8.1.1.2.2"><csymbol cd="latexml" id="S3.E14.m2.8.8.1.1.2.3.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.3">conditional-set</csymbol><vector id="S3.E14.m2.8.8.1.1.1.1.1.1.cmml" xref="S3.E14.m2.8.8.1.1.1.1.1.2"><ci id="S3.E14.m2.1.1.cmml" xref="S3.E14.m2.1.1">𝑢</ci><ci id="S3.E14.m2.2.2.cmml" xref="S3.E14.m2.2.2">𝑖</ci><ci id="S3.E14.m2.3.3.cmml" xref="S3.E14.m2.3.3">𝑗</ci><ci id="S3.E14.m2.4.4.cmml" xref="S3.E14.m2.4.4">𝑘</ci></vector><apply id="S3.E14.m2.8.8.1.1.2.2.2.3.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E14.m2.8.8.1.1.2.2.2.3a.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E14.m2.8.8.1.1.2.2.2.1.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1"><lt id="S3.E14.m2.8.8.1.1.2.2.2.1.1.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.1"></lt><apply id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2"><times id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.1"></times><ci id="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.2.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.2.2">𝑓</ci><ci id="S3.E14.m2.5.5.cmml" xref="S3.E14.m2.5.5">𝑗</ci></apply><apply id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3"><times id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.1"></times><ci id="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.2.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.1.1.3.2">𝑓</ci><ci id="S3.E14.m2.6.6.cmml" xref="S3.E14.m2.6.6">𝑘</ci></apply></apply><apply id="S3.E14.m2.8.8.1.1.2.2.2.2.2.3.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E14.m2.8.8.1.1.2.2.2.2.2.3a.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.3">formulae-sequence</csymbol><apply id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1"><csymbol cd="latexml" id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.1">similar-to</csymbol><ci id="S3.E14.m2.7.7.cmml" xref="S3.E14.m2.7.7">𝑗</ci><apply id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2">subscript</csymbol><ci id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.2.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.2">𝑝</ci><ci id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.3a.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.3"><mtext id="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.3.cmml" mathsize="70%" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.1.1.2.3">unif</mtext></ci></apply></apply><apply id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2"><csymbol cd="latexml" id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.1">similar-to</csymbol><ci id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.2.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.2">𝑘</ci><apply id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3"><csymbol cd="ambiguous" id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.1.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3">subscript</csymbol><ci id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.2.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.2">𝑝</ci><ci id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.3a.cmml" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.3"><mtext id="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.3.cmml" mathsize="70%" xref="S3.E14.m2.8.8.1.1.2.2.2.2.2.2.2.3.3">pop</mtext></ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E14.m2.8c">\displaystyle=\{(u,i,j,k)\mid f(j)&lt;f(k),j\sim p_{\textrm{unif}},k\sim p_{%
\textrm{pop}}\},</annotation><annotation encoding="application/x-llamapun" id="S3.E14.m2.8d">= { ( italic_u , italic_i , italic_j , italic_k ) ∣ italic_f ( italic_j ) &lt; italic_f ( italic_k ) , italic_j ∼ italic_p start_POSTSUBSCRIPT unif end_POSTSUBSCRIPT , italic_k ∼ italic_p start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT } ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p2.3">where <math alttext="f(\cdot)" class="ltx_Math" display="inline" id="S3.SS2.p2.3.m1.1"><semantics id="S3.SS2.p2.3.m1.1a"><mrow id="S3.SS2.p2.3.m1.1.2" xref="S3.SS2.p2.3.m1.1.2.cmml"><mi id="S3.SS2.p2.3.m1.1.2.2" xref="S3.SS2.p2.3.m1.1.2.2.cmml">f</mi><mo id="S3.SS2.p2.3.m1.1.2.1" xref="S3.SS2.p2.3.m1.1.2.1.cmml">⁢</mo><mrow id="S3.SS2.p2.3.m1.1.2.3.2" xref="S3.SS2.p2.3.m1.1.2.cmml"><mo id="S3.SS2.p2.3.m1.1.2.3.2.1" stretchy="false" xref="S3.SS2.p2.3.m1.1.2.cmml">(</mo><mo id="S3.SS2.p2.3.m1.1.1" lspace="0em" rspace="0em" xref="S3.SS2.p2.3.m1.1.1.cmml">⋅</mo><mo id="S3.SS2.p2.3.m1.1.2.3.2.2" stretchy="false" xref="S3.SS2.p2.3.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m1.1b"><apply id="S3.SS2.p2.3.m1.1.2.cmml" xref="S3.SS2.p2.3.m1.1.2"><times id="S3.SS2.p2.3.m1.1.2.1.cmml" xref="S3.SS2.p2.3.m1.1.2.1"></times><ci id="S3.SS2.p2.3.m1.1.2.2.cmml" xref="S3.SS2.p2.3.m1.1.2.2">𝑓</ci><ci id="S3.SS2.p2.3.m1.1.1.cmml" xref="S3.SS2.p2.3.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m1.1c">f(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.3.m1.1d">italic_f ( ⋅ )</annotation></semantics></math> denotes a function that measures the popularity of an item.
However, we argue that such strict transitivity rather hurts the quality of the resulting recommendation policy.</p>
</div>
<figure class="ltx_table" id="S3.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3. </span>Comparison of our methods with strict transitivity and weak transitivity in the Amazon Beauty dataset.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S3.T3.6.6">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S3.T3.6.6.7.1" style="background-color:#FFFFFF;">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" colspan="2" id="S3.T3.6.6.7.1.1" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.6.6.7.1.1.1" style="background-color:#FFFFFF;">Method<span class="ltx_text ltx_font_medium" id="S3.T3.6.6.7.1.1.1.1"></span></span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S3.T3.6.6.7.1.2" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.6.6.7.1.2.1" style="background-color:#FFFFFF;">HR</span></th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt" id="S3.T3.6.6.7.1.3" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text ltx_font_bold" id="S3.T3.6.6.7.1.3.1" style="background-color:#FFFFFF;">NDCG</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S3.T3.6.6.8.1">
<td class="ltx_td ltx_border_t" id="S3.T3.6.6.8.1.1" style="padding-left:12.0pt;padding-right:12.0pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.8.1.2" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.8.1.2.1" style="background-color:#FFFFFF;">Strict</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.8.1.3" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.8.1.3.1" style="background-color:#FFFFFF;">0.0508</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.8.1.4" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.8.1.4.1" style="background-color:#FFFFFF;">0.0229</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.1.1.1">
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.1.1" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.1.1.1.1.1"><math alttext="\textrm{TransBPR}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S3.T3.1.1.1.1.1.m1.1"><semantics id="S3.T3.1.1.1.1.1.m1.1a"><msub id="S3.T3.1.1.1.1.1.m1.1.1" xref="S3.T3.1.1.1.1.1.m1.1.1.cmml"><mtext id="S3.T3.1.1.1.1.1.m1.1.1.2" xref="S3.T3.1.1.1.1.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S3.T3.1.1.1.1.1.m1.1.1.3" xref="S3.T3.1.1.1.1.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.T3.1.1.1.1.1.m1.1b"><apply id="S3.T3.1.1.1.1.1.m1.1.1.cmml" xref="S3.T3.1.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.1.1.1.1.1.m1.1.1.1.cmml" xref="S3.T3.1.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S3.T3.1.1.1.1.1.m1.1.1.2a.cmml" xref="S3.T3.1.1.1.1.1.m1.1.1.2"><mtext id="S3.T3.1.1.1.1.1.m1.1.1.2.cmml" xref="S3.T3.1.1.1.1.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S3.T3.1.1.1.1.1.m1.1.1.3a.cmml" xref="S3.T3.1.1.1.1.1.m1.1.1.3"><mtext id="S3.T3.1.1.1.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.T3.1.1.1.1.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.1.1.1.1.1.m1.1c">\textrm{TransBPR}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S3.T3.1.1.1.1.1.m1.1d">TransBPR start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.1.2" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.1.1.1.2.1" style="background-color:#E6E6E6;">Weak</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.1.3" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.1.1.1.3.1" style="background-color:#E6E6E6;">0.0674</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.1.1.1.4" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.1.1.1.4.1" style="background-color:#E6E6E6;">0.0293</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.6.6.9.2">
<td class="ltx_td ltx_border_t" id="S3.T3.6.6.9.2.1" style="padding-left:12.0pt;padding-right:12.0pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.9.2.2" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.9.2.2.1" style="background-color:#FFFFFF;">Strict</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.9.2.3" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.9.2.3.1" style="background-color:#FFFFFF;">0.0571</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.9.2.4" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.9.2.4.1" style="background-color:#FFFFFF;">0.0252</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.2.2.2">
<td class="ltx_td ltx_align_left" id="S3.T3.2.2.2.1" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.2.2.2.1.1"><math alttext="\textrm{TransBPR}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S3.T3.2.2.2.1.1.m1.1"><semantics id="S3.T3.2.2.2.1.1.m1.1a"><msub id="S3.T3.2.2.2.1.1.m1.1.1" xref="S3.T3.2.2.2.1.1.m1.1.1.cmml"><mtext id="S3.T3.2.2.2.1.1.m1.1.1.2" xref="S3.T3.2.2.2.1.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S3.T3.2.2.2.1.1.m1.1.1.3" xref="S3.T3.2.2.2.1.1.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.T3.2.2.2.1.1.m1.1b"><apply id="S3.T3.2.2.2.1.1.m1.1.1.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.2.2.2.1.1.m1.1.1.1.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1">subscript</csymbol><ci id="S3.T3.2.2.2.1.1.m1.1.1.2a.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.2"><mtext id="S3.T3.2.2.2.1.1.m1.1.1.2.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S3.T3.2.2.2.1.1.m1.1.1.3a.cmml" xref="S3.T3.2.2.2.1.1.m1.1.1.3"><mtext id="S3.T3.2.2.2.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.T3.2.2.2.1.1.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.2.2.2.1.1.m1.1c">\textrm{TransBPR}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S3.T3.2.2.2.1.1.m1.1d">TransBPR start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.2.2.2.2" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.2.2.2.2.1" style="background-color:#E6E6E6;">Weak</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.2.2.2.3" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.2.2.2.3.1" style="background-color:#E6E6E6;">0.0651</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.2.2.2.4" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.2.2.2.4.1" style="background-color:#E6E6E6;">0.0289</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.6.6.10.3">
<td class="ltx_td ltx_border_t" id="S3.T3.6.6.10.3.1" style="padding-left:12.0pt;padding-right:12.0pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.10.3.2" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.10.3.2.1" style="background-color:#FFFFFF;">Strict</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.10.3.3" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.10.3.3.1" style="background-color:#FFFFFF;">0.0697</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.10.3.4" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.10.3.4.1" style="background-color:#FFFFFF;">0.0311</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.3.3.3">
<td class="ltx_td ltx_align_left" id="S3.T3.3.3.3.1" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.3.3.3.1.1"><math alttext="\textrm{TransBCE}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S3.T3.3.3.3.1.1.m1.1"><semantics id="S3.T3.3.3.3.1.1.m1.1a"><msub id="S3.T3.3.3.3.1.1.m1.1.1" xref="S3.T3.3.3.3.1.1.m1.1.1.cmml"><mtext id="S3.T3.3.3.3.1.1.m1.1.1.2" xref="S3.T3.3.3.3.1.1.m1.1.1.2a.cmml">TransBCE</mtext><mtext id="S3.T3.3.3.3.1.1.m1.1.1.3" xref="S3.T3.3.3.3.1.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.T3.3.3.3.1.1.m1.1b"><apply id="S3.T3.3.3.3.1.1.m1.1.1.cmml" xref="S3.T3.3.3.3.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.3.3.3.1.1.m1.1.1.1.cmml" xref="S3.T3.3.3.3.1.1.m1.1.1">subscript</csymbol><ci id="S3.T3.3.3.3.1.1.m1.1.1.2a.cmml" xref="S3.T3.3.3.3.1.1.m1.1.1.2"><mtext id="S3.T3.3.3.3.1.1.m1.1.1.2.cmml" xref="S3.T3.3.3.3.1.1.m1.1.1.2">TransBCE</mtext></ci><ci id="S3.T3.3.3.3.1.1.m1.1.1.3a.cmml" xref="S3.T3.3.3.3.1.1.m1.1.1.3"><mtext id="S3.T3.3.3.3.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.T3.3.3.3.1.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.3.3.3.1.1.m1.1c">\textrm{TransBCE}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S3.T3.3.3.3.1.1.m1.1d">TransBCE start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.3.3.3.2" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.3.3.3.2.1" style="background-color:#E6E6E6;">Weak</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.3.3.3.3" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.3.3.3.3.1" style="background-color:#E6E6E6;">0.0730</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.3.3.3.4" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.3.3.3.4.1" style="background-color:#E6E6E6;">0.0324</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.6.6.11.4">
<td class="ltx_td ltx_border_t" id="S3.T3.6.6.11.4.1" style="padding-left:12.0pt;padding-right:12.0pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.11.4.2" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.11.4.2.1" style="background-color:#FFFFFF;">Strict</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.11.4.3" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.11.4.3.1" style="background-color:#FFFFFF;">0.0635</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.11.4.4" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.11.4.4.1" style="background-color:#FFFFFF;">0.0282</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.4.4.4">
<td class="ltx_td ltx_align_left" id="S3.T3.4.4.4.1" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.4.4.4.1.1"><math alttext="\textrm{TransBCE}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S3.T3.4.4.4.1.1.m1.1"><semantics id="S3.T3.4.4.4.1.1.m1.1a"><msub id="S3.T3.4.4.4.1.1.m1.1.1" xref="S3.T3.4.4.4.1.1.m1.1.1.cmml"><mtext id="S3.T3.4.4.4.1.1.m1.1.1.2" xref="S3.T3.4.4.4.1.1.m1.1.1.2a.cmml">TransBCE</mtext><mtext id="S3.T3.4.4.4.1.1.m1.1.1.3" xref="S3.T3.4.4.4.1.1.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.T3.4.4.4.1.1.m1.1b"><apply id="S3.T3.4.4.4.1.1.m1.1.1.cmml" xref="S3.T3.4.4.4.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.4.4.4.1.1.m1.1.1.1.cmml" xref="S3.T3.4.4.4.1.1.m1.1.1">subscript</csymbol><ci id="S3.T3.4.4.4.1.1.m1.1.1.2a.cmml" xref="S3.T3.4.4.4.1.1.m1.1.1.2"><mtext id="S3.T3.4.4.4.1.1.m1.1.1.2.cmml" xref="S3.T3.4.4.4.1.1.m1.1.1.2">TransBCE</mtext></ci><ci id="S3.T3.4.4.4.1.1.m1.1.1.3a.cmml" xref="S3.T3.4.4.4.1.1.m1.1.1.3"><mtext id="S3.T3.4.4.4.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.T3.4.4.4.1.1.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.4.4.4.1.1.m1.1c">\textrm{TransBCE}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S3.T3.4.4.4.1.1.m1.1d">TransBCE start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.4.4.2" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.4.4.4.2.1" style="background-color:#E6E6E6;">Weak</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.4.4.3" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.4.4.4.3.1" style="background-color:#E6E6E6;">0.0720</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.4.4.4.4" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.4.4.4.4.1" style="background-color:#E6E6E6;">0.0322</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.6.6.12.5">
<td class="ltx_td ltx_border_t" id="S3.T3.6.6.12.5.1" style="padding-left:12.0pt;padding-right:12.0pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.12.5.2" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.12.5.2.1" style="background-color:#FFFFFF;">Strict</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.12.5.3" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.12.5.3.1" style="background-color:#FFFFFF;">0.0631</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.12.5.4" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.12.5.4.1" style="background-color:#FFFFFF;">0.0309</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.5.5.5">
<td class="ltx_td ltx_align_left" id="S3.T3.5.5.5.1" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.5.5.5.1.1"><math alttext="\textrm{TransSSM}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S3.T3.5.5.5.1.1.m1.1"><semantics id="S3.T3.5.5.5.1.1.m1.1a"><msub id="S3.T3.5.5.5.1.1.m1.1.1" xref="S3.T3.5.5.5.1.1.m1.1.1.cmml"><mtext id="S3.T3.5.5.5.1.1.m1.1.1.2" xref="S3.T3.5.5.5.1.1.m1.1.1.2a.cmml">TransSSM</mtext><mtext id="S3.T3.5.5.5.1.1.m1.1.1.3" xref="S3.T3.5.5.5.1.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.T3.5.5.5.1.1.m1.1b"><apply id="S3.T3.5.5.5.1.1.m1.1.1.cmml" xref="S3.T3.5.5.5.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.5.5.5.1.1.m1.1.1.1.cmml" xref="S3.T3.5.5.5.1.1.m1.1.1">subscript</csymbol><ci id="S3.T3.5.5.5.1.1.m1.1.1.2a.cmml" xref="S3.T3.5.5.5.1.1.m1.1.1.2"><mtext id="S3.T3.5.5.5.1.1.m1.1.1.2.cmml" xref="S3.T3.5.5.5.1.1.m1.1.1.2">TransSSM</mtext></ci><ci id="S3.T3.5.5.5.1.1.m1.1.1.3a.cmml" xref="S3.T3.5.5.5.1.1.m1.1.1.3"><mtext id="S3.T3.5.5.5.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.T3.5.5.5.1.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.5.5.5.1.1.m1.1c">\textrm{TransSSM}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S3.T3.5.5.5.1.1.m1.1d">TransSSM start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.5.5.5.2" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.5.5.5.2.1" style="background-color:#E6E6E6;">Weak</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.5.5.5.3" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.5.5.5.3.1" style="background-color:#E6E6E6;">0.0843</span></td>
<td class="ltx_td ltx_align_left" id="S3.T3.5.5.5.4" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.5.5.5.4.1" style="background-color:#E6E6E6;">0.0395</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.6.6.13.6">
<td class="ltx_td ltx_border_t" id="S3.T3.6.6.13.6.1" style="padding-left:12.0pt;padding-right:12.0pt;"></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.13.6.2" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.13.6.2.1" style="background-color:#FFFFFF;">Strict</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.13.6.3" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.13.6.3.1" style="background-color:#FFFFFF;">0.0700</span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S3.T3.6.6.13.6.4" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.13.6.4.1" style="background-color:#FFFFFF;">0.0346</span></td>
</tr>
<tr class="ltx_tr" id="S3.T3.6.6.6">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.6.6.6.1" style="padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.6.1.1"><math alttext="\textrm{TransSSM}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S3.T3.6.6.6.1.1.m1.1"><semantics id="S3.T3.6.6.6.1.1.m1.1a"><msub id="S3.T3.6.6.6.1.1.m1.1.1" xref="S3.T3.6.6.6.1.1.m1.1.1.cmml"><mtext id="S3.T3.6.6.6.1.1.m1.1.1.2" xref="S3.T3.6.6.6.1.1.m1.1.1.2a.cmml">TransSSM</mtext><mtext id="S3.T3.6.6.6.1.1.m1.1.1.3" xref="S3.T3.6.6.6.1.1.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S3.T3.6.6.6.1.1.m1.1b"><apply id="S3.T3.6.6.6.1.1.m1.1.1.cmml" xref="S3.T3.6.6.6.1.1.m1.1.1"><csymbol cd="ambiguous" id="S3.T3.6.6.6.1.1.m1.1.1.1.cmml" xref="S3.T3.6.6.6.1.1.m1.1.1">subscript</csymbol><ci id="S3.T3.6.6.6.1.1.m1.1.1.2a.cmml" xref="S3.T3.6.6.6.1.1.m1.1.1.2"><mtext id="S3.T3.6.6.6.1.1.m1.1.1.2.cmml" xref="S3.T3.6.6.6.1.1.m1.1.1.2">TransSSM</mtext></ci><ci id="S3.T3.6.6.6.1.1.m1.1.1.3a.cmml" xref="S3.T3.6.6.6.1.1.m1.1.1.3"><mtext id="S3.T3.6.6.6.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S3.T3.6.6.6.1.1.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.T3.6.6.6.1.1.m1.1c">\textrm{TransSSM}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S3.T3.6.6.6.1.1.m1.1d">TransSSM start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.6.6.6.2" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.6.2.1" style="background-color:#E6E6E6;">Weak</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.6.6.6.3" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.6.3.1" style="background-color:#E6E6E6;">0.0774</span></td>
<td class="ltx_td ltx_align_left ltx_border_bb" id="S3.T3.6.6.6.4" style="background-color:#E6E6E6;padding-left:12.0pt;padding-right:12.0pt;"><span class="ltx_text" id="S3.T3.6.6.6.4.1" style="background-color:#E6E6E6;">0.0370</span></td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Experiments</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we conduct experiments to compare our proposed extensions to original objectives and their variants.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Experimental Setup</h3>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px1">
<h4 class="ltx_title ltx_title_paragraph">Datasets</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px1.p1.1">We employ public sequential recommendation tasks from different domains:
<em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.1">Beauty</em>, <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.2">Toys</em>, and <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.3">Sports</em>,
which are product review datasets introduced by Amazon.com <cite class="ltx_cite ltx_citemacro_citep">(McAuley et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib18" title="">2015</a>)</cite>,
and <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px1.p1.1.4">Yelp</em>, which is a widely tested business recommendation dataset.
Detailed statistics of preprocessed datasets are reported in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S2.T1" title="Table 1 ‣ Setwise Objective ‣ 2.2. Training Objectives ‣ 2. Background ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px2">
<h4 class="ltx_title ltx_title_paragraph">Evaluation Settings and Metrics</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px2.p1.5">For dataset partitioning, we adopt the conventional <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px2.p1.5.1">leave-one-out</em> strategy <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib14" title="">2018</a>; Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib24" title="">2019</a>)</cite> to assure the quality of the trained recommender system.
Then, we recommend <math alttext="K" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.1.m1.1"><semantics id="S4.SS1.SSS0.Px2.p1.1.m1.1a"><mi id="S4.SS1.SSS0.Px2.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.1.m1.1b"><ci id="S4.SS1.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.1.m1.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.1.m1.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.1.m1.1d">italic_K</annotation></semantics></math> items with the highest recommendation scores from the entire item pool.
For evaluation, we adopt two common top-<math alttext="K" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.2.m2.1"><semantics id="S4.SS1.SSS0.Px2.p1.2.m2.1a"><mi id="S4.SS1.SSS0.Px2.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.2.m2.1b"><ci id="S4.SS1.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.2.m2.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.2.m2.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.2.m2.1d">italic_K</annotation></semantics></math> metrics, HR@<math alttext="K" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.3.m3.1"><semantics id="S4.SS1.SSS0.Px2.p1.3.m3.1a"><mi id="S4.SS1.SSS0.Px2.p1.3.m3.1.1" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.3.m3.1b"><ci id="S4.SS1.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.3.m3.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.3.m3.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.3.m3.1d">italic_K</annotation></semantics></math> and NDCG@<math alttext="K" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.4.m4.1"><semantics id="S4.SS1.SSS0.Px2.p1.4.m4.1a"><mi id="S4.SS1.SSS0.Px2.p1.4.m4.1.1" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.4.m4.1b"><ci id="S4.SS1.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.4.m4.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.4.m4.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.4.m4.1d">italic_K</annotation></semantics></math> with <math alttext="K" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px2.p1.5.m5.1"><semantics id="S4.SS1.SSS0.Px2.p1.5.m5.1a"><mi id="S4.SS1.SSS0.Px2.p1.5.m5.1.1" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px2.p1.5.m5.1b"><ci id="S4.SS1.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S4.SS1.SSS0.Px2.p1.5.m5.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px2.p1.5.m5.1c">K</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px2.p1.5.m5.1d">italic_K</annotation></semantics></math> fixed to 10.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px3">
<h4 class="ltx_title ltx_title_paragraph">Baselines</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px3.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px3.p1.2">We fix a model architecture to <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.2.1">SASRec</em> <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib14" title="">2018</a>)</cite>
and switch only a training objective.
For baselines, we compare our method against <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.2.2">BPR</em> <cite class="ltx_cite ltx_citemacro_citep">(Rendle et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib23" title="">2009</a>)</cite>,
<em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.2.3">GBPR</em> <cite class="ltx_cite ltx_citemacro_citep">(Pan and Chen, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib20" title="">2013</a>)</cite>,
<em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.2.4">BCE</em> <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib14" title="">2018</a>)</cite>,
<em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.2.5">SSM</em> <cite class="ltx_cite ltx_citemacro_citep">(Wu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib30" title="">2024</a>)</cite>,
<em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.2.6">InfoNCE</em> <cite class="ltx_cite ltx_citemacro_citep">(Oord et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib19" title="">2018</a>)</cite>,
<em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.2.7">BPR-DNS</em> <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib32" title="">2013</a>)</cite>,
and <em class="ltx_emph ltx_font_italic" id="S4.SS1.SSS0.Px3.p1.2.8">gBCE</em> <cite class="ltx_cite ltx_citemacro_citep">(Petrov and Macdonald, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib21" title="">2023</a>)</cite>.
Here, <math alttext="\textrm{gBCE}_{1}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px3.p1.1.m1.1"><semantics id="S4.SS1.SSS0.Px3.p1.1.m1.1a"><msub id="S4.SS1.SSS0.Px3.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1.cmml"><mtext id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.2" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1.2a.cmml">gBCE</mtext><mn id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.3" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px3.p1.1.m1.1b"><apply id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.2a.cmml" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1.2"><mtext id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1.2">gBCE</mtext></ci><cn id="S4.SS1.SSS0.Px3.p1.1.m1.1.1.3.cmml" type="integer" xref="S4.SS1.SSS0.Px3.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px3.p1.1.m1.1c">\textrm{gBCE}_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px3.p1.1.m1.1d">gBCE start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\textrm{gBCE}_{\mathcal{N}}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px3.p1.2.m2.1"><semantics id="S4.SS1.SSS0.Px3.p1.2.m2.1a"><msub id="S4.SS1.SSS0.Px3.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px3.p1.2.m2.1.1.cmml"><mtext id="S4.SS1.SSS0.Px3.p1.2.m2.1.1.2" xref="S4.SS1.SSS0.Px3.p1.2.m2.1.1.2a.cmml">gBCE</mtext><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS0.Px3.p1.2.m2.1.1.3" xref="S4.SS1.SSS0.Px3.p1.2.m2.1.1.3.cmml">𝒩</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px3.p1.2.m2.1b"><apply id="S4.SS1.SSS0.Px3.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px3.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS0.Px3.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.SSS0.Px3.p1.2.m2.1.1.2a.cmml" xref="S4.SS1.SSS0.Px3.p1.2.m2.1.1.2"><mtext id="S4.SS1.SSS0.Px3.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS0.Px3.p1.2.m2.1.1.2">gBCE</mtext></ci><ci id="S4.SS1.SSS0.Px3.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS0.Px3.p1.2.m2.1.1.3">𝒩</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px3.p1.2.m2.1c">\textrm{gBCE}_{\mathcal{N}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px3.p1.2.m2.1d">gBCE start_POSTSUBSCRIPT caligraphic_N end_POSTSUBSCRIPT</annotation></semantics></math> denote gBCE with a single negative and multiple negatives, respectively.</p>
</div>
</section>
<section class="ltx_paragraph" id="S4.SS1.SSS0.Px4">
<h4 class="ltx_title ltx_title_paragraph">Hyperparameters</h4>
<div class="ltx_para" id="S4.SS1.SSS0.Px4.p1">
<p class="ltx_p" id="S4.SS1.SSS0.Px4.p1.4">For all objectives, We train with a fixed batch size of 256, a learning rate of 0.0003, and a maximum sequence length of 50.
The SASRec model is with 2 layers and 1 attention head with an embedding dimension of 256.
For setwise objectives, we sample 100 negatives in total.
Our proposed TransSSM sets cardinality of <math alttext="\mathcal{N}_{j}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px4.p1.1.m1.1"><semantics id="S4.SS1.SSS0.Px4.p1.1.m1.1a"><msub id="S4.SS1.SSS0.Px4.p1.1.m1.1.1" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.2" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.2.cmml">𝒩</mi><mi id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.3" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.1.m1.1b"><apply id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.2.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.2">𝒩</ci><ci id="S4.SS1.SSS0.Px4.p1.1.m1.1.1.3.cmml" xref="S4.SS1.SSS0.Px4.p1.1.m1.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.1.m1.1c">\mathcal{N}_{j}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px4.p1.1.m1.1d">caligraphic_N start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="\mathcal{N}_{k}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px4.p1.2.m2.1"><semantics id="S4.SS1.SSS0.Px4.p1.2.m2.1a"><msub id="S4.SS1.SSS0.Px4.p1.2.m2.1.1" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S4.SS1.SSS0.Px4.p1.2.m2.1.1.2" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1.2.cmml">𝒩</mi><mi id="S4.SS1.SSS0.Px4.p1.2.m2.1.1.3" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.2.m2.1b"><apply id="S4.SS1.SSS0.Px4.p1.2.m2.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.SSS0.Px4.p1.2.m2.1.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.SSS0.Px4.p1.2.m2.1.1.2.cmml" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1.2">𝒩</ci><ci id="S4.SS1.SSS0.Px4.p1.2.m2.1.1.3.cmml" xref="S4.SS1.SSS0.Px4.p1.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.2.m2.1c">\mathcal{N}_{k}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px4.p1.2.m2.1d">caligraphic_N start_POSTSUBSCRIPT italic_k end_POSTSUBSCRIPT</annotation></semantics></math> to 50 such that they sum to 100.
A balancing coefficient <math alttext="\gamma" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px4.p1.3.m3.1"><semantics id="S4.SS1.SSS0.Px4.p1.3.m3.1a"><mi id="S4.SS1.SSS0.Px4.p1.3.m3.1.1" xref="S4.SS1.SSS0.Px4.p1.3.m3.1.1.cmml">γ</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.3.m3.1b"><ci id="S4.SS1.SSS0.Px4.p1.3.m3.1.1.cmml" xref="S4.SS1.SSS0.Px4.p1.3.m3.1.1">𝛾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.3.m3.1c">\gamma</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px4.p1.3.m3.1d">italic_γ</annotation></semantics></math> is selected from <math alttext="\{0.5,1.0,1.5\}" class="ltx_Math" display="inline" id="S4.SS1.SSS0.Px4.p1.4.m4.3"><semantics id="S4.SS1.SSS0.Px4.p1.4.m4.3a"><mrow id="S4.SS1.SSS0.Px4.p1.4.m4.3.4.2" xref="S4.SS1.SSS0.Px4.p1.4.m4.3.4.1.cmml"><mo id="S4.SS1.SSS0.Px4.p1.4.m4.3.4.2.1" stretchy="false" xref="S4.SS1.SSS0.Px4.p1.4.m4.3.4.1.cmml">{</mo><mn id="S4.SS1.SSS0.Px4.p1.4.m4.1.1" xref="S4.SS1.SSS0.Px4.p1.4.m4.1.1.cmml">0.5</mn><mo id="S4.SS1.SSS0.Px4.p1.4.m4.3.4.2.2" xref="S4.SS1.SSS0.Px4.p1.4.m4.3.4.1.cmml">,</mo><mn id="S4.SS1.SSS0.Px4.p1.4.m4.2.2" xref="S4.SS1.SSS0.Px4.p1.4.m4.2.2.cmml">1.0</mn><mo id="S4.SS1.SSS0.Px4.p1.4.m4.3.4.2.3" xref="S4.SS1.SSS0.Px4.p1.4.m4.3.4.1.cmml">,</mo><mn id="S4.SS1.SSS0.Px4.p1.4.m4.3.3" xref="S4.SS1.SSS0.Px4.p1.4.m4.3.3.cmml">1.5</mn><mo id="S4.SS1.SSS0.Px4.p1.4.m4.3.4.2.4" stretchy="false" xref="S4.SS1.SSS0.Px4.p1.4.m4.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.SSS0.Px4.p1.4.m4.3b"><set id="S4.SS1.SSS0.Px4.p1.4.m4.3.4.1.cmml" xref="S4.SS1.SSS0.Px4.p1.4.m4.3.4.2"><cn id="S4.SS1.SSS0.Px4.p1.4.m4.1.1.cmml" type="float" xref="S4.SS1.SSS0.Px4.p1.4.m4.1.1">0.5</cn><cn id="S4.SS1.SSS0.Px4.p1.4.m4.2.2.cmml" type="float" xref="S4.SS1.SSS0.Px4.p1.4.m4.2.2">1.0</cn><cn id="S4.SS1.SSS0.Px4.p1.4.m4.3.3.cmml" type="float" xref="S4.SS1.SSS0.Px4.p1.4.m4.3.3">1.5</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.SSS0.Px4.p1.4.m4.3c">\{0.5,1.0,1.5\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.SSS0.Px4.p1.4.m4.3d">{ 0.5 , 1.0 , 1.5 }</annotation></semantics></math>.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Performance Comparison</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.3">Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S2.T2" title="Table 2 ‣ Setwise Objective ‣ 2.2. Training Objectives ‣ 2. Background ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">2</span></a> summarizes the performance of models trained with different optimization objectives.
In general, our proposed objectives outperform three original objectives and their notable variants in both metrics within all benchmarks.
Particularly, we recognize <math alttext="\textrm{TransSSM}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S4.SS2.p1.1.m1.1"><semantics id="S4.SS2.p1.1.m1.1a"><msub id="S4.SS2.p1.1.m1.1.1" xref="S4.SS2.p1.1.m1.1.1.cmml"><mtext id="S4.SS2.p1.1.m1.1.1.2" xref="S4.SS2.p1.1.m1.1.1.2a.cmml">TransSSM</mtext><mtext id="S4.SS2.p1.1.m1.1.1.3" xref="S4.SS2.p1.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.1.m1.1b"><apply id="S4.SS2.p1.1.m1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.1.m1.1.1.1.cmml" xref="S4.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p1.1.m1.1.1.2a.cmml" xref="S4.SS2.p1.1.m1.1.1.2"><mtext id="S4.SS2.p1.1.m1.1.1.2.cmml" xref="S4.SS2.p1.1.m1.1.1.2">TransSSM</mtext></ci><ci id="S4.SS2.p1.1.m1.1.1.3a.cmml" xref="S4.SS2.p1.1.m1.1.1.3"><mtext id="S4.SS2.p1.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.SS2.p1.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.1.m1.1c">\textrm{TransSSM}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.1.m1.1d">TransSSM start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math> obtain the highest performance among all baselines in all datasets.
Such results demonstrate that inducing preference order through weak transitivity consistently improves the performance regardless of base loss functions.
Typically, we observe our extensions with popularity preference (e.g., <math alttext="\textrm{TransSSM}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S4.SS2.p1.2.m2.1"><semantics id="S4.SS2.p1.2.m2.1a"><msub id="S4.SS2.p1.2.m2.1.1" xref="S4.SS2.p1.2.m2.1.1.cmml"><mtext id="S4.SS2.p1.2.m2.1.1.2" xref="S4.SS2.p1.2.m2.1.1.2a.cmml">TransSSM</mtext><mtext id="S4.SS2.p1.2.m2.1.1.3" xref="S4.SS2.p1.2.m2.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.2.m2.1b"><apply id="S4.SS2.p1.2.m2.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.2.m2.1.1.1.cmml" xref="S4.SS2.p1.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p1.2.m2.1.1.2a.cmml" xref="S4.SS2.p1.2.m2.1.1.2"><mtext id="S4.SS2.p1.2.m2.1.1.2.cmml" xref="S4.SS2.p1.2.m2.1.1.2">TransSSM</mtext></ci><ci id="S4.SS2.p1.2.m2.1.1.3a.cmml" xref="S4.SS2.p1.2.m2.1.1.3"><mtext id="S4.SS2.p1.2.m2.1.1.3.cmml" mathsize="70%" xref="S4.SS2.p1.2.m2.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.2.m2.1c">\textrm{TransSSM}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.2.m2.1d">TransSSM start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math>) achieve commonly improved metrics compared to niche preference (e.g., <math alttext="\textrm{TransSSM}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S4.SS2.p1.3.m3.1"><semantics id="S4.SS2.p1.3.m3.1a"><msub id="S4.SS2.p1.3.m3.1.1" xref="S4.SS2.p1.3.m3.1.1.cmml"><mtext id="S4.SS2.p1.3.m3.1.1.2" xref="S4.SS2.p1.3.m3.1.1.2a.cmml">TransSSM</mtext><mtext id="S4.SS2.p1.3.m3.1.1.3" xref="S4.SS2.p1.3.m3.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p1.3.m3.1b"><apply id="S4.SS2.p1.3.m3.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS2.p1.3.m3.1.1.1.cmml" xref="S4.SS2.p1.3.m3.1.1">subscript</csymbol><ci id="S4.SS2.p1.3.m3.1.1.2a.cmml" xref="S4.SS2.p1.3.m3.1.1.2"><mtext id="S4.SS2.p1.3.m3.1.1.2.cmml" xref="S4.SS2.p1.3.m3.1.1.2">TransSSM</mtext></ci><ci id="S4.SS2.p1.3.m3.1.1.3a.cmml" xref="S4.SS2.p1.3.m3.1.1.3"><mtext id="S4.SS2.p1.3.m3.1.1.3.cmml" mathsize="70%" xref="S4.SS2.p1.3.m3.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p1.3.m3.1c">\textrm{TransSSM}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p1.3.m3.1d">TransSSM start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math>).
Hence, exploiting popularity as the preference indicator is particularly effective regardless of datasets.
Though, we find recommendations with niche preference performs on par with best-performing baselines or often even better.</p>
</div>
<figure class="ltx_figure" id="S4.F2">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F2.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="227" id="S4.F2.sf1.g1" src="x2.png" width="382"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf1.6.2.1" style="font-size:80%;">(a)</span> </span><math alttext="\log\sigma(\hat{x}_{uij})" class="ltx_Math" display="inline" id="S4.F2.sf1.3.m1.1"><semantics id="S4.F2.sf1.3.m1.1b"><mrow id="S4.F2.sf1.3.m1.1.1" xref="S4.F2.sf1.3.m1.1.1.cmml"><mrow id="S4.F2.sf1.3.m1.1.1.3" xref="S4.F2.sf1.3.m1.1.1.3.cmml"><mi id="S4.F2.sf1.3.m1.1.1.3.1" mathsize="80%" xref="S4.F2.sf1.3.m1.1.1.3.1.cmml">log</mi><mo id="S4.F2.sf1.3.m1.1.1.3b" lspace="0.167em" xref="S4.F2.sf1.3.m1.1.1.3.cmml">⁡</mo><mi id="S4.F2.sf1.3.m1.1.1.3.2" mathsize="80%" xref="S4.F2.sf1.3.m1.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.F2.sf1.3.m1.1.1.2" xref="S4.F2.sf1.3.m1.1.1.2.cmml">⁢</mo><mrow id="S4.F2.sf1.3.m1.1.1.1.1" xref="S4.F2.sf1.3.m1.1.1.1.1.1.cmml"><mo id="S4.F2.sf1.3.m1.1.1.1.1.2" maxsize="80%" minsize="80%" xref="S4.F2.sf1.3.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.F2.sf1.3.m1.1.1.1.1.1" xref="S4.F2.sf1.3.m1.1.1.1.1.1.cmml"><mover accent="true" id="S4.F2.sf1.3.m1.1.1.1.1.1.2" xref="S4.F2.sf1.3.m1.1.1.1.1.1.2.cmml"><mi id="S4.F2.sf1.3.m1.1.1.1.1.1.2.2" mathsize="80%" xref="S4.F2.sf1.3.m1.1.1.1.1.1.2.2.cmml">x</mi><mo id="S4.F2.sf1.3.m1.1.1.1.1.1.2.1" mathsize="80%" xref="S4.F2.sf1.3.m1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S4.F2.sf1.3.m1.1.1.1.1.1.3" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.cmml"><mi id="S4.F2.sf1.3.m1.1.1.1.1.1.3.2" mathsize="80%" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.2.cmml">u</mi><mo id="S4.F2.sf1.3.m1.1.1.1.1.1.3.1" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.F2.sf1.3.m1.1.1.1.1.1.3.3" mathsize="80%" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.3.cmml">i</mi><mo id="S4.F2.sf1.3.m1.1.1.1.1.1.3.1b" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.F2.sf1.3.m1.1.1.1.1.1.3.4" mathsize="80%" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.4.cmml">j</mi></mrow></msub><mo id="S4.F2.sf1.3.m1.1.1.1.1.3" maxsize="80%" minsize="80%" xref="S4.F2.sf1.3.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F2.sf1.3.m1.1c"><apply id="S4.F2.sf1.3.m1.1.1.cmml" xref="S4.F2.sf1.3.m1.1.1"><times id="S4.F2.sf1.3.m1.1.1.2.cmml" xref="S4.F2.sf1.3.m1.1.1.2"></times><apply id="S4.F2.sf1.3.m1.1.1.3.cmml" xref="S4.F2.sf1.3.m1.1.1.3"><log id="S4.F2.sf1.3.m1.1.1.3.1.cmml" xref="S4.F2.sf1.3.m1.1.1.3.1"></log><ci id="S4.F2.sf1.3.m1.1.1.3.2.cmml" xref="S4.F2.sf1.3.m1.1.1.3.2">𝜎</ci></apply><apply id="S4.F2.sf1.3.m1.1.1.1.1.1.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.F2.sf1.3.m1.1.1.1.1.1.1.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1">subscript</csymbol><apply id="S4.F2.sf1.3.m1.1.1.1.1.1.2.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1.1.2"><ci id="S4.F2.sf1.3.m1.1.1.1.1.1.2.1.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1.1.2.1">^</ci><ci id="S4.F2.sf1.3.m1.1.1.1.1.1.2.2.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1.1.2.2">𝑥</ci></apply><apply id="S4.F2.sf1.3.m1.1.1.1.1.1.3.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3"><times id="S4.F2.sf1.3.m1.1.1.1.1.1.3.1.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.1"></times><ci id="S4.F2.sf1.3.m1.1.1.1.1.1.3.2.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.2">𝑢</ci><ci id="S4.F2.sf1.3.m1.1.1.1.1.1.3.3.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.3">𝑖</ci><ci id="S4.F2.sf1.3.m1.1.1.1.1.1.3.4.cmml" xref="S4.F2.sf1.3.m1.1.1.1.1.1.3.4">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf1.3.m1.1d">\log\sigma(\hat{x}_{uij})</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf1.3.m1.1e">roman_log italic_σ ( over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_u italic_i italic_j end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text" id="S4.F2.sf1.4.1" style="font-size:80%;"> of <math alttext="\textrm{TransBPR}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S4.F2.sf1.4.1.m1.1"><semantics id="S4.F2.sf1.4.1.m1.1b"><msub id="S4.F2.sf1.4.1.m1.1.1" xref="S4.F2.sf1.4.1.m1.1.1.cmml"><mtext id="S4.F2.sf1.4.1.m1.1.1.2" xref="S4.F2.sf1.4.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S4.F2.sf1.4.1.m1.1.1.3" xref="S4.F2.sf1.4.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F2.sf1.4.1.m1.1c"><apply id="S4.F2.sf1.4.1.m1.1.1.cmml" xref="S4.F2.sf1.4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F2.sf1.4.1.m1.1.1.1.cmml" xref="S4.F2.sf1.4.1.m1.1.1">subscript</csymbol><ci id="S4.F2.sf1.4.1.m1.1.1.2a.cmml" xref="S4.F2.sf1.4.1.m1.1.1.2"><mtext id="S4.F2.sf1.4.1.m1.1.1.2.cmml" xref="S4.F2.sf1.4.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S4.F2.sf1.4.1.m1.1.1.3a.cmml" xref="S4.F2.sf1.4.1.m1.1.1.3"><mtext id="S4.F2.sf1.4.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.F2.sf1.4.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf1.4.1.m1.1d">\textrm{TransBPR}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf1.4.1.m1.1e">TransBPR start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F2.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="227" id="S4.F2.sf2.g1" src="x3.png" width="382"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf2.6.2.1" style="font-size:80%;">(b)</span> </span><math alttext="\log\sigma(\hat{x}_{ujk})" class="ltx_Math" display="inline" id="S4.F2.sf2.3.m1.1"><semantics id="S4.F2.sf2.3.m1.1b"><mrow id="S4.F2.sf2.3.m1.1.1" xref="S4.F2.sf2.3.m1.1.1.cmml"><mrow id="S4.F2.sf2.3.m1.1.1.3" xref="S4.F2.sf2.3.m1.1.1.3.cmml"><mi id="S4.F2.sf2.3.m1.1.1.3.1" mathsize="80%" xref="S4.F2.sf2.3.m1.1.1.3.1.cmml">log</mi><mo id="S4.F2.sf2.3.m1.1.1.3b" lspace="0.167em" xref="S4.F2.sf2.3.m1.1.1.3.cmml">⁡</mo><mi id="S4.F2.sf2.3.m1.1.1.3.2" mathsize="80%" xref="S4.F2.sf2.3.m1.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.F2.sf2.3.m1.1.1.2" xref="S4.F2.sf2.3.m1.1.1.2.cmml">⁢</mo><mrow id="S4.F2.sf2.3.m1.1.1.1.1" xref="S4.F2.sf2.3.m1.1.1.1.1.1.cmml"><mo id="S4.F2.sf2.3.m1.1.1.1.1.2" maxsize="80%" minsize="80%" xref="S4.F2.sf2.3.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.F2.sf2.3.m1.1.1.1.1.1" xref="S4.F2.sf2.3.m1.1.1.1.1.1.cmml"><mover accent="true" id="S4.F2.sf2.3.m1.1.1.1.1.1.2" xref="S4.F2.sf2.3.m1.1.1.1.1.1.2.cmml"><mi id="S4.F2.sf2.3.m1.1.1.1.1.1.2.2" mathsize="80%" xref="S4.F2.sf2.3.m1.1.1.1.1.1.2.2.cmml">x</mi><mo id="S4.F2.sf2.3.m1.1.1.1.1.1.2.1" mathsize="80%" xref="S4.F2.sf2.3.m1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S4.F2.sf2.3.m1.1.1.1.1.1.3" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.cmml"><mi id="S4.F2.sf2.3.m1.1.1.1.1.1.3.2" mathsize="80%" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.2.cmml">u</mi><mo id="S4.F2.sf2.3.m1.1.1.1.1.1.3.1" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.F2.sf2.3.m1.1.1.1.1.1.3.3" mathsize="80%" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.3.cmml">j</mi><mo id="S4.F2.sf2.3.m1.1.1.1.1.1.3.1b" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.F2.sf2.3.m1.1.1.1.1.1.3.4" mathsize="80%" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.4.cmml">k</mi></mrow></msub><mo id="S4.F2.sf2.3.m1.1.1.1.1.3" maxsize="80%" minsize="80%" xref="S4.F2.sf2.3.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F2.sf2.3.m1.1c"><apply id="S4.F2.sf2.3.m1.1.1.cmml" xref="S4.F2.sf2.3.m1.1.1"><times id="S4.F2.sf2.3.m1.1.1.2.cmml" xref="S4.F2.sf2.3.m1.1.1.2"></times><apply id="S4.F2.sf2.3.m1.1.1.3.cmml" xref="S4.F2.sf2.3.m1.1.1.3"><log id="S4.F2.sf2.3.m1.1.1.3.1.cmml" xref="S4.F2.sf2.3.m1.1.1.3.1"></log><ci id="S4.F2.sf2.3.m1.1.1.3.2.cmml" xref="S4.F2.sf2.3.m1.1.1.3.2">𝜎</ci></apply><apply id="S4.F2.sf2.3.m1.1.1.1.1.1.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.F2.sf2.3.m1.1.1.1.1.1.1.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1">subscript</csymbol><apply id="S4.F2.sf2.3.m1.1.1.1.1.1.2.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1.1.2"><ci id="S4.F2.sf2.3.m1.1.1.1.1.1.2.1.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1.1.2.1">^</ci><ci id="S4.F2.sf2.3.m1.1.1.1.1.1.2.2.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1.1.2.2">𝑥</ci></apply><apply id="S4.F2.sf2.3.m1.1.1.1.1.1.3.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3"><times id="S4.F2.sf2.3.m1.1.1.1.1.1.3.1.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.1"></times><ci id="S4.F2.sf2.3.m1.1.1.1.1.1.3.2.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.2">𝑢</ci><ci id="S4.F2.sf2.3.m1.1.1.1.1.1.3.3.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.3">𝑗</ci><ci id="S4.F2.sf2.3.m1.1.1.1.1.1.3.4.cmml" xref="S4.F2.sf2.3.m1.1.1.1.1.1.3.4">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf2.3.m1.1d">\log\sigma(\hat{x}_{ujk})</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf2.3.m1.1e">roman_log italic_σ ( over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_u italic_j italic_k end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text" id="S4.F2.sf2.4.1" style="font-size:80%;"> of <math alttext="\textrm{TransBPR}_{\textrm{pop}}" class="ltx_Math" display="inline" id="S4.F2.sf2.4.1.m1.1"><semantics id="S4.F2.sf2.4.1.m1.1b"><msub id="S4.F2.sf2.4.1.m1.1.1" xref="S4.F2.sf2.4.1.m1.1.1.cmml"><mtext id="S4.F2.sf2.4.1.m1.1.1.2" xref="S4.F2.sf2.4.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S4.F2.sf2.4.1.m1.1.1.3" xref="S4.F2.sf2.4.1.m1.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F2.sf2.4.1.m1.1c"><apply id="S4.F2.sf2.4.1.m1.1.1.cmml" xref="S4.F2.sf2.4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F2.sf2.4.1.m1.1.1.1.cmml" xref="S4.F2.sf2.4.1.m1.1.1">subscript</csymbol><ci id="S4.F2.sf2.4.1.m1.1.1.2a.cmml" xref="S4.F2.sf2.4.1.m1.1.1.2"><mtext id="S4.F2.sf2.4.1.m1.1.1.2.cmml" xref="S4.F2.sf2.4.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S4.F2.sf2.4.1.m1.1.1.3a.cmml" xref="S4.F2.sf2.4.1.m1.1.1.3"><mtext id="S4.F2.sf2.4.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.F2.sf2.4.1.m1.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf2.4.1.m1.1d">\textrm{TransBPR}_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf2.4.1.m1.1e">TransBPR start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math></span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F2.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="227" id="S4.F2.sf3.g1" src="x4.png" width="382"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf3.6.2.1" style="font-size:80%;">(c)</span> </span><math alttext="\log\sigma(\hat{x}_{uij})" class="ltx_Math" display="inline" id="S4.F2.sf3.3.m1.1"><semantics id="S4.F2.sf3.3.m1.1b"><mrow id="S4.F2.sf3.3.m1.1.1" xref="S4.F2.sf3.3.m1.1.1.cmml"><mrow id="S4.F2.sf3.3.m1.1.1.3" xref="S4.F2.sf3.3.m1.1.1.3.cmml"><mi id="S4.F2.sf3.3.m1.1.1.3.1" mathsize="80%" xref="S4.F2.sf3.3.m1.1.1.3.1.cmml">log</mi><mo id="S4.F2.sf3.3.m1.1.1.3b" lspace="0.167em" xref="S4.F2.sf3.3.m1.1.1.3.cmml">⁡</mo><mi id="S4.F2.sf3.3.m1.1.1.3.2" mathsize="80%" xref="S4.F2.sf3.3.m1.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.F2.sf3.3.m1.1.1.2" xref="S4.F2.sf3.3.m1.1.1.2.cmml">⁢</mo><mrow id="S4.F2.sf3.3.m1.1.1.1.1" xref="S4.F2.sf3.3.m1.1.1.1.1.1.cmml"><mo id="S4.F2.sf3.3.m1.1.1.1.1.2" maxsize="80%" minsize="80%" xref="S4.F2.sf3.3.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.F2.sf3.3.m1.1.1.1.1.1" xref="S4.F2.sf3.3.m1.1.1.1.1.1.cmml"><mover accent="true" id="S4.F2.sf3.3.m1.1.1.1.1.1.2" xref="S4.F2.sf3.3.m1.1.1.1.1.1.2.cmml"><mi id="S4.F2.sf3.3.m1.1.1.1.1.1.2.2" mathsize="80%" xref="S4.F2.sf3.3.m1.1.1.1.1.1.2.2.cmml">x</mi><mo id="S4.F2.sf3.3.m1.1.1.1.1.1.2.1" mathsize="80%" xref="S4.F2.sf3.3.m1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S4.F2.sf3.3.m1.1.1.1.1.1.3" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.cmml"><mi id="S4.F2.sf3.3.m1.1.1.1.1.1.3.2" mathsize="80%" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.2.cmml">u</mi><mo id="S4.F2.sf3.3.m1.1.1.1.1.1.3.1" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.F2.sf3.3.m1.1.1.1.1.1.3.3" mathsize="80%" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.3.cmml">i</mi><mo id="S4.F2.sf3.3.m1.1.1.1.1.1.3.1b" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.F2.sf3.3.m1.1.1.1.1.1.3.4" mathsize="80%" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.4.cmml">j</mi></mrow></msub><mo id="S4.F2.sf3.3.m1.1.1.1.1.3" maxsize="80%" minsize="80%" xref="S4.F2.sf3.3.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F2.sf3.3.m1.1c"><apply id="S4.F2.sf3.3.m1.1.1.cmml" xref="S4.F2.sf3.3.m1.1.1"><times id="S4.F2.sf3.3.m1.1.1.2.cmml" xref="S4.F2.sf3.3.m1.1.1.2"></times><apply id="S4.F2.sf3.3.m1.1.1.3.cmml" xref="S4.F2.sf3.3.m1.1.1.3"><log id="S4.F2.sf3.3.m1.1.1.3.1.cmml" xref="S4.F2.sf3.3.m1.1.1.3.1"></log><ci id="S4.F2.sf3.3.m1.1.1.3.2.cmml" xref="S4.F2.sf3.3.m1.1.1.3.2">𝜎</ci></apply><apply id="S4.F2.sf3.3.m1.1.1.1.1.1.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.F2.sf3.3.m1.1.1.1.1.1.1.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1">subscript</csymbol><apply id="S4.F2.sf3.3.m1.1.1.1.1.1.2.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1.1.2"><ci id="S4.F2.sf3.3.m1.1.1.1.1.1.2.1.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1.1.2.1">^</ci><ci id="S4.F2.sf3.3.m1.1.1.1.1.1.2.2.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1.1.2.2">𝑥</ci></apply><apply id="S4.F2.sf3.3.m1.1.1.1.1.1.3.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3"><times id="S4.F2.sf3.3.m1.1.1.1.1.1.3.1.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.1"></times><ci id="S4.F2.sf3.3.m1.1.1.1.1.1.3.2.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.2">𝑢</ci><ci id="S4.F2.sf3.3.m1.1.1.1.1.1.3.3.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.3">𝑖</ci><ci id="S4.F2.sf3.3.m1.1.1.1.1.1.3.4.cmml" xref="S4.F2.sf3.3.m1.1.1.1.1.1.3.4">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf3.3.m1.1d">\log\sigma(\hat{x}_{uij})</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf3.3.m1.1e">roman_log italic_σ ( over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_u italic_i italic_j end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text" id="S4.F2.sf3.4.1" style="font-size:80%;"> of <math alttext="\textrm{TransBPR}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S4.F2.sf3.4.1.m1.1"><semantics id="S4.F2.sf3.4.1.m1.1b"><msub id="S4.F2.sf3.4.1.m1.1.1" xref="S4.F2.sf3.4.1.m1.1.1.cmml"><mtext id="S4.F2.sf3.4.1.m1.1.1.2" xref="S4.F2.sf3.4.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S4.F2.sf3.4.1.m1.1.1.3" xref="S4.F2.sf3.4.1.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F2.sf3.4.1.m1.1c"><apply id="S4.F2.sf3.4.1.m1.1.1.cmml" xref="S4.F2.sf3.4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F2.sf3.4.1.m1.1.1.1.cmml" xref="S4.F2.sf3.4.1.m1.1.1">subscript</csymbol><ci id="S4.F2.sf3.4.1.m1.1.1.2a.cmml" xref="S4.F2.sf3.4.1.m1.1.1.2"><mtext id="S4.F2.sf3.4.1.m1.1.1.2.cmml" xref="S4.F2.sf3.4.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S4.F2.sf3.4.1.m1.1.1.3a.cmml" xref="S4.F2.sf3.4.1.m1.1.1.3"><mtext id="S4.F2.sf3.4.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.F2.sf3.4.1.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf3.4.1.m1.1d">\textrm{TransBPR}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf3.4.1.m1.1e">TransBPR start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_figure_panel ltx_align_center" id="S4.F2.sf4"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="227" id="S4.F2.sf4.g1" src="x5.png" width="382"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf4.6.2.1" style="font-size:80%;">(d)</span> </span><math alttext="\log\sigma(\hat{x}_{ujk})" class="ltx_Math" display="inline" id="S4.F2.sf4.3.m1.1"><semantics id="S4.F2.sf4.3.m1.1b"><mrow id="S4.F2.sf4.3.m1.1.1" xref="S4.F2.sf4.3.m1.1.1.cmml"><mrow id="S4.F2.sf4.3.m1.1.1.3" xref="S4.F2.sf4.3.m1.1.1.3.cmml"><mi id="S4.F2.sf4.3.m1.1.1.3.1" mathsize="80%" xref="S4.F2.sf4.3.m1.1.1.3.1.cmml">log</mi><mo id="S4.F2.sf4.3.m1.1.1.3b" lspace="0.167em" xref="S4.F2.sf4.3.m1.1.1.3.cmml">⁡</mo><mi id="S4.F2.sf4.3.m1.1.1.3.2" mathsize="80%" xref="S4.F2.sf4.3.m1.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.F2.sf4.3.m1.1.1.2" xref="S4.F2.sf4.3.m1.1.1.2.cmml">⁢</mo><mrow id="S4.F2.sf4.3.m1.1.1.1.1" xref="S4.F2.sf4.3.m1.1.1.1.1.1.cmml"><mo id="S4.F2.sf4.3.m1.1.1.1.1.2" maxsize="80%" minsize="80%" xref="S4.F2.sf4.3.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.F2.sf4.3.m1.1.1.1.1.1" xref="S4.F2.sf4.3.m1.1.1.1.1.1.cmml"><mover accent="true" id="S4.F2.sf4.3.m1.1.1.1.1.1.2" xref="S4.F2.sf4.3.m1.1.1.1.1.1.2.cmml"><mi id="S4.F2.sf4.3.m1.1.1.1.1.1.2.2" mathsize="80%" xref="S4.F2.sf4.3.m1.1.1.1.1.1.2.2.cmml">x</mi><mo id="S4.F2.sf4.3.m1.1.1.1.1.1.2.1" mathsize="80%" xref="S4.F2.sf4.3.m1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S4.F2.sf4.3.m1.1.1.1.1.1.3" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.cmml"><mi id="S4.F2.sf4.3.m1.1.1.1.1.1.3.2" mathsize="80%" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.2.cmml">u</mi><mo id="S4.F2.sf4.3.m1.1.1.1.1.1.3.1" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.F2.sf4.3.m1.1.1.1.1.1.3.3" mathsize="80%" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.3.cmml">j</mi><mo id="S4.F2.sf4.3.m1.1.1.1.1.1.3.1b" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.F2.sf4.3.m1.1.1.1.1.1.3.4" mathsize="80%" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.4.cmml">k</mi></mrow></msub><mo id="S4.F2.sf4.3.m1.1.1.1.1.3" maxsize="80%" minsize="80%" xref="S4.F2.sf4.3.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.F2.sf4.3.m1.1c"><apply id="S4.F2.sf4.3.m1.1.1.cmml" xref="S4.F2.sf4.3.m1.1.1"><times id="S4.F2.sf4.3.m1.1.1.2.cmml" xref="S4.F2.sf4.3.m1.1.1.2"></times><apply id="S4.F2.sf4.3.m1.1.1.3.cmml" xref="S4.F2.sf4.3.m1.1.1.3"><log id="S4.F2.sf4.3.m1.1.1.3.1.cmml" xref="S4.F2.sf4.3.m1.1.1.3.1"></log><ci id="S4.F2.sf4.3.m1.1.1.3.2.cmml" xref="S4.F2.sf4.3.m1.1.1.3.2">𝜎</ci></apply><apply id="S4.F2.sf4.3.m1.1.1.1.1.1.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.F2.sf4.3.m1.1.1.1.1.1.1.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1">subscript</csymbol><apply id="S4.F2.sf4.3.m1.1.1.1.1.1.2.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1.1.2"><ci id="S4.F2.sf4.3.m1.1.1.1.1.1.2.1.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1.1.2.1">^</ci><ci id="S4.F2.sf4.3.m1.1.1.1.1.1.2.2.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1.1.2.2">𝑥</ci></apply><apply id="S4.F2.sf4.3.m1.1.1.1.1.1.3.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3"><times id="S4.F2.sf4.3.m1.1.1.1.1.1.3.1.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.1"></times><ci id="S4.F2.sf4.3.m1.1.1.1.1.1.3.2.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.2">𝑢</ci><ci id="S4.F2.sf4.3.m1.1.1.1.1.1.3.3.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.3">𝑗</ci><ci id="S4.F2.sf4.3.m1.1.1.1.1.1.3.4.cmml" xref="S4.F2.sf4.3.m1.1.1.1.1.1.3.4">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf4.3.m1.1d">\log\sigma(\hat{x}_{ujk})</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf4.3.m1.1e">roman_log italic_σ ( over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_u italic_j italic_k end_POSTSUBSCRIPT )</annotation></semantics></math><span class="ltx_text" id="S4.F2.sf4.4.1" style="font-size:80%;"> of <math alttext="\textrm{TransBPR}_{\textrm{niche}}" class="ltx_Math" display="inline" id="S4.F2.sf4.4.1.m1.1"><semantics id="S4.F2.sf4.4.1.m1.1b"><msub id="S4.F2.sf4.4.1.m1.1.1" xref="S4.F2.sf4.4.1.m1.1.1.cmml"><mtext id="S4.F2.sf4.4.1.m1.1.1.2" xref="S4.F2.sf4.4.1.m1.1.1.2a.cmml">TransBPR</mtext><mtext id="S4.F2.sf4.4.1.m1.1.1.3" xref="S4.F2.sf4.4.1.m1.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.F2.sf4.4.1.m1.1c"><apply id="S4.F2.sf4.4.1.m1.1.1.cmml" xref="S4.F2.sf4.4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.F2.sf4.4.1.m1.1.1.1.cmml" xref="S4.F2.sf4.4.1.m1.1.1">subscript</csymbol><ci id="S4.F2.sf4.4.1.m1.1.1.2a.cmml" xref="S4.F2.sf4.4.1.m1.1.1.2"><mtext id="S4.F2.sf4.4.1.m1.1.1.2.cmml" xref="S4.F2.sf4.4.1.m1.1.1.2">TransBPR</mtext></ci><ci id="S4.F2.sf4.4.1.m1.1.1.3a.cmml" xref="S4.F2.sf4.4.1.m1.1.1.3"><mtext id="S4.F2.sf4.4.1.m1.1.1.3.cmml" mathsize="70%" xref="S4.F2.sf4.4.1.m1.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf4.4.1.m1.1d">\textrm{TransBPR}_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf4.4.1.m1.1e">TransBPR start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math></span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2. </span>Average values of each loss term in TransBPR with Weak (blue), Strict (red), and Disjoint (yellow) transitivity.</figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3"><span class="ltx_ERROR ltx_centering ltx_figure_panel undefined" id="S4.F2.1">\Description</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p class="ltx_p ltx_figure_panel ltx_align_center" id="S4.F2.2">Average values of each loss component</p>
</div>
</div>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Transitivity Analysis</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.6">As seen in Table <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S3.T3" title="Table 3 ‣ 3.2. Extensions with Weak Transitivity ‣ 3. Our Method ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">3</span></a>,
we observe comparatively higher performance with weak transitivity.
We hypothesize that the number of uninformative (i.e., easy) negatives <cite class="ltx_cite ltx_citemacro_citep">(Rendle and Freudenthaler, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib22" title="">2014</a>; Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib27" title="">2018</a>)</cite> increases more within the strict transitivity as training proceeds.
To validate the claim, we report how average value of each term in the BPR extension,
<math alttext="\log\sigma(\hat{x}_{uij})" class="ltx_Math" display="inline" id="S4.SS3.p1.1.m1.1"><semantics id="S4.SS3.p1.1.m1.1a"><mrow id="S4.SS3.p1.1.m1.1.1" xref="S4.SS3.p1.1.m1.1.1.cmml"><mrow id="S4.SS3.p1.1.m1.1.1.3" xref="S4.SS3.p1.1.m1.1.1.3.cmml"><mi id="S4.SS3.p1.1.m1.1.1.3.1" xref="S4.SS3.p1.1.m1.1.1.3.1.cmml">log</mi><mo id="S4.SS3.p1.1.m1.1.1.3a" lspace="0.167em" xref="S4.SS3.p1.1.m1.1.1.3.cmml">⁡</mo><mi id="S4.SS3.p1.1.m1.1.1.3.2" xref="S4.SS3.p1.1.m1.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.SS3.p1.1.m1.1.1.2" xref="S4.SS3.p1.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.SS3.p1.1.m1.1.1.1.1" xref="S4.SS3.p1.1.m1.1.1.1.1.1.cmml"><mo id="S4.SS3.p1.1.m1.1.1.1.1.2" stretchy="false" xref="S4.SS3.p1.1.m1.1.1.1.1.1.cmml">(</mo><msub id="S4.SS3.p1.1.m1.1.1.1.1.1" xref="S4.SS3.p1.1.m1.1.1.1.1.1.cmml"><mover accent="true" id="S4.SS3.p1.1.m1.1.1.1.1.1.2" xref="S4.SS3.p1.1.m1.1.1.1.1.1.2.cmml"><mi id="S4.SS3.p1.1.m1.1.1.1.1.1.2.2" xref="S4.SS3.p1.1.m1.1.1.1.1.1.2.2.cmml">x</mi><mo id="S4.SS3.p1.1.m1.1.1.1.1.1.2.1" xref="S4.SS3.p1.1.m1.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S4.SS3.p1.1.m1.1.1.1.1.1.3" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.cmml"><mi id="S4.SS3.p1.1.m1.1.1.1.1.1.3.2" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.2.cmml">u</mi><mo id="S4.SS3.p1.1.m1.1.1.1.1.1.3.1" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS3.p1.1.m1.1.1.1.1.1.3.3" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.3.cmml">i</mi><mo id="S4.SS3.p1.1.m1.1.1.1.1.1.3.1a" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS3.p1.1.m1.1.1.1.1.1.3.4" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.4.cmml">j</mi></mrow></msub><mo id="S4.SS3.p1.1.m1.1.1.1.1.3" stretchy="false" xref="S4.SS3.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.1.m1.1b"><apply id="S4.SS3.p1.1.m1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1"><times id="S4.SS3.p1.1.m1.1.1.2.cmml" xref="S4.SS3.p1.1.m1.1.1.2"></times><apply id="S4.SS3.p1.1.m1.1.1.3.cmml" xref="S4.SS3.p1.1.m1.1.1.3"><log id="S4.SS3.p1.1.m1.1.1.3.1.cmml" xref="S4.SS3.p1.1.m1.1.1.3.1"></log><ci id="S4.SS3.p1.1.m1.1.1.3.2.cmml" xref="S4.SS3.p1.1.m1.1.1.3.2">𝜎</ci></apply><apply id="S4.SS3.p1.1.m1.1.1.1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.1.m1.1.1.1.1.1.1.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1">subscript</csymbol><apply id="S4.SS3.p1.1.m1.1.1.1.1.1.2.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1.1.2"><ci id="S4.SS3.p1.1.m1.1.1.1.1.1.2.1.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1.1.2.1">^</ci><ci id="S4.SS3.p1.1.m1.1.1.1.1.1.2.2.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1.1.2.2">𝑥</ci></apply><apply id="S4.SS3.p1.1.m1.1.1.1.1.1.3.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3"><times id="S4.SS3.p1.1.m1.1.1.1.1.1.3.1.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.1"></times><ci id="S4.SS3.p1.1.m1.1.1.1.1.1.3.2.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.2">𝑢</ci><ci id="S4.SS3.p1.1.m1.1.1.1.1.1.3.3.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.3">𝑖</ci><ci id="S4.SS3.p1.1.m1.1.1.1.1.1.3.4.cmml" xref="S4.SS3.p1.1.m1.1.1.1.1.1.3.4">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.1.m1.1c">\log\sigma(\hat{x}_{uij})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.1.m1.1d">roman_log italic_σ ( over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_u italic_i italic_j end_POSTSUBSCRIPT )</annotation></semantics></math> and <math alttext="\log\sigma(\hat{x}_{ujk})" class="ltx_Math" display="inline" id="S4.SS3.p1.2.m2.1"><semantics id="S4.SS3.p1.2.m2.1a"><mrow id="S4.SS3.p1.2.m2.1.1" xref="S4.SS3.p1.2.m2.1.1.cmml"><mrow id="S4.SS3.p1.2.m2.1.1.3" xref="S4.SS3.p1.2.m2.1.1.3.cmml"><mi id="S4.SS3.p1.2.m2.1.1.3.1" xref="S4.SS3.p1.2.m2.1.1.3.1.cmml">log</mi><mo id="S4.SS3.p1.2.m2.1.1.3a" lspace="0.167em" xref="S4.SS3.p1.2.m2.1.1.3.cmml">⁡</mo><mi id="S4.SS3.p1.2.m2.1.1.3.2" xref="S4.SS3.p1.2.m2.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.SS3.p1.2.m2.1.1.2" xref="S4.SS3.p1.2.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS3.p1.2.m2.1.1.1.1" xref="S4.SS3.p1.2.m2.1.1.1.1.1.cmml"><mo id="S4.SS3.p1.2.m2.1.1.1.1.2" stretchy="false" xref="S4.SS3.p1.2.m2.1.1.1.1.1.cmml">(</mo><msub id="S4.SS3.p1.2.m2.1.1.1.1.1" xref="S4.SS3.p1.2.m2.1.1.1.1.1.cmml"><mover accent="true" id="S4.SS3.p1.2.m2.1.1.1.1.1.2" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.cmml"><mi id="S4.SS3.p1.2.m2.1.1.1.1.1.2.2" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.2.cmml">x</mi><mo id="S4.SS3.p1.2.m2.1.1.1.1.1.2.1" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S4.SS3.p1.2.m2.1.1.1.1.1.3" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.cmml"><mi id="S4.SS3.p1.2.m2.1.1.1.1.1.3.2" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.2.cmml">u</mi><mo id="S4.SS3.p1.2.m2.1.1.1.1.1.3.1" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS3.p1.2.m2.1.1.1.1.1.3.3" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.3.cmml">j</mi><mo id="S4.SS3.p1.2.m2.1.1.1.1.1.3.1a" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS3.p1.2.m2.1.1.1.1.1.3.4" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.4.cmml">k</mi></mrow></msub><mo id="S4.SS3.p1.2.m2.1.1.1.1.3" stretchy="false" xref="S4.SS3.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.2.m2.1b"><apply id="S4.SS3.p1.2.m2.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1"><times id="S4.SS3.p1.2.m2.1.1.2.cmml" xref="S4.SS3.p1.2.m2.1.1.2"></times><apply id="S4.SS3.p1.2.m2.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.3"><log id="S4.SS3.p1.2.m2.1.1.3.1.cmml" xref="S4.SS3.p1.2.m2.1.1.3.1"></log><ci id="S4.SS3.p1.2.m2.1.1.3.2.cmml" xref="S4.SS3.p1.2.m2.1.1.3.2">𝜎</ci></apply><apply id="S4.SS3.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.2.m2.1.1.1.1.1.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1">subscript</csymbol><apply id="S4.SS3.p1.2.m2.1.1.1.1.1.2.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2"><ci id="S4.SS3.p1.2.m2.1.1.1.1.1.2.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.1">^</ci><ci id="S4.SS3.p1.2.m2.1.1.1.1.1.2.2.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.2.2">𝑥</ci></apply><apply id="S4.SS3.p1.2.m2.1.1.1.1.1.3.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3"><times id="S4.SS3.p1.2.m2.1.1.1.1.1.3.1.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.1"></times><ci id="S4.SS3.p1.2.m2.1.1.1.1.1.3.2.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.2">𝑢</ci><ci id="S4.SS3.p1.2.m2.1.1.1.1.1.3.3.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.3">𝑗</ci><ci id="S4.SS3.p1.2.m2.1.1.1.1.1.3.4.cmml" xref="S4.SS3.p1.2.m2.1.1.1.1.1.3.4">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.2.m2.1c">\log\sigma(\hat{x}_{ujk})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.2.m2.1d">roman_log italic_σ ( over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_u italic_j italic_k end_POSTSUBSCRIPT )</annotation></semantics></math>, changes throughout the training with different schemes.
Here, we compare three classes of transitivity:
<em class="ltx_emph ltx_font_italic" id="S4.SS3.p1.6.1">Weak</em>, i.e., (<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S3.E4" title="In 3.2. Extensions with Weak Transitivity ‣ 3. Our Method ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">4</span></a>) and (<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S3.E5" title="In 3.2. Extensions with Weak Transitivity ‣ 3. Our Method ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">5</span></a>),
<em class="ltx_emph ltx_font_italic" id="S4.SS3.p1.6.2">Strict</em>, i.e., (<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S3.E13" title="In 3.2. Extensions with Weak Transitivity ‣ 3. Our Method ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">13</span></a>) and (<a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S3.E14" title="In 3.2. Extensions with Weak Transitivity ‣ 3. Our Method ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">14</span></a>),
and <em class="ltx_emph ltx_font_italic" id="S4.SS3.p1.6.3">Disjoint</em>, i.e., a specific case of Strict that sets <math alttext="50\%" class="ltx_Math" display="inline" id="S4.SS3.p1.3.m3.1"><semantics id="S4.SS3.p1.3.m3.1a"><mrow id="S4.SS3.p1.3.m3.1.1" xref="S4.SS3.p1.3.m3.1.1.cmml"><mn id="S4.SS3.p1.3.m3.1.1.2" xref="S4.SS3.p1.3.m3.1.1.2.cmml">50</mn><mo id="S4.SS3.p1.3.m3.1.1.1" xref="S4.SS3.p1.3.m3.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.3.m3.1b"><apply id="S4.SS3.p1.3.m3.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1"><csymbol cd="latexml" id="S4.SS3.p1.3.m3.1.1.1.cmml" xref="S4.SS3.p1.3.m3.1.1.1">percent</csymbol><cn id="S4.SS3.p1.3.m3.1.1.2.cmml" type="integer" xref="S4.SS3.p1.3.m3.1.1.2">50</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.3.m3.1c">50\%</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.3.m3.1d">50 %</annotation></semantics></math> of total items with high preference as a support for <math alttext="p_{\textrm{pop}}" class="ltx_Math" display="inline" id="S4.SS3.p1.4.m4.1"><semantics id="S4.SS3.p1.4.m4.1a"><msub id="S4.SS3.p1.4.m4.1.1" xref="S4.SS3.p1.4.m4.1.1.cmml"><mi id="S4.SS3.p1.4.m4.1.1.2" xref="S4.SS3.p1.4.m4.1.1.2.cmml">p</mi><mtext id="S4.SS3.p1.4.m4.1.1.3" xref="S4.SS3.p1.4.m4.1.1.3a.cmml">pop</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.4.m4.1b"><apply id="S4.SS3.p1.4.m4.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.4.m4.1.1.1.cmml" xref="S4.SS3.p1.4.m4.1.1">subscript</csymbol><ci id="S4.SS3.p1.4.m4.1.1.2.cmml" xref="S4.SS3.p1.4.m4.1.1.2">𝑝</ci><ci id="S4.SS3.p1.4.m4.1.1.3a.cmml" xref="S4.SS3.p1.4.m4.1.1.3"><mtext id="S4.SS3.p1.4.m4.1.1.3.cmml" mathsize="70%" xref="S4.SS3.p1.4.m4.1.1.3">pop</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.4.m4.1c">p_{\textrm{pop}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.4.m4.1d">italic_p start_POSTSUBSCRIPT pop end_POSTSUBSCRIPT</annotation></semantics></math> and the rest for <math alttext="p_{\textrm{niche}}" class="ltx_Math" display="inline" id="S4.SS3.p1.5.m5.1"><semantics id="S4.SS3.p1.5.m5.1a"><msub id="S4.SS3.p1.5.m5.1.1" xref="S4.SS3.p1.5.m5.1.1.cmml"><mi id="S4.SS3.p1.5.m5.1.1.2" xref="S4.SS3.p1.5.m5.1.1.2.cmml">p</mi><mtext id="S4.SS3.p1.5.m5.1.1.3" xref="S4.SS3.p1.5.m5.1.1.3a.cmml">niche</mtext></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.5.m5.1b"><apply id="S4.SS3.p1.5.m5.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.5.m5.1.1.1.cmml" xref="S4.SS3.p1.5.m5.1.1">subscript</csymbol><ci id="S4.SS3.p1.5.m5.1.1.2.cmml" xref="S4.SS3.p1.5.m5.1.1.2">𝑝</ci><ci id="S4.SS3.p1.5.m5.1.1.3a.cmml" xref="S4.SS3.p1.5.m5.1.1.3"><mtext id="S4.SS3.p1.5.m5.1.1.3.cmml" mathsize="70%" xref="S4.SS3.p1.5.m5.1.1.3">niche</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.5.m5.1c">p_{\textrm{niche}}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.5.m5.1d">italic_p start_POSTSUBSCRIPT niche end_POSTSUBSCRIPT</annotation></semantics></math>.
Results in Figure <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#S4.F2.sf4" title="In Figure 2 ‣ 4.2. Performance Comparison ‣ 4. Experiments ‣ Exploiting Preferences in Loss Functions for Sequential Recommendation via Weak Transitivity"><span class="ltx_text ltx_ref_tag">2(d)</span></a> illustrate more steep decline of the preference term, <math alttext="\log\sigma(\hat{x}_{ujk})" class="ltx_Math" display="inline" id="S4.SS3.p1.6.m6.1"><semantics id="S4.SS3.p1.6.m6.1a"><mrow id="S4.SS3.p1.6.m6.1.1" xref="S4.SS3.p1.6.m6.1.1.cmml"><mrow id="S4.SS3.p1.6.m6.1.1.3" xref="S4.SS3.p1.6.m6.1.1.3.cmml"><mi id="S4.SS3.p1.6.m6.1.1.3.1" xref="S4.SS3.p1.6.m6.1.1.3.1.cmml">log</mi><mo id="S4.SS3.p1.6.m6.1.1.3a" lspace="0.167em" xref="S4.SS3.p1.6.m6.1.1.3.cmml">⁡</mo><mi id="S4.SS3.p1.6.m6.1.1.3.2" xref="S4.SS3.p1.6.m6.1.1.3.2.cmml">σ</mi></mrow><mo id="S4.SS3.p1.6.m6.1.1.2" xref="S4.SS3.p1.6.m6.1.1.2.cmml">⁢</mo><mrow id="S4.SS3.p1.6.m6.1.1.1.1" xref="S4.SS3.p1.6.m6.1.1.1.1.1.cmml"><mo id="S4.SS3.p1.6.m6.1.1.1.1.2" stretchy="false" xref="S4.SS3.p1.6.m6.1.1.1.1.1.cmml">(</mo><msub id="S4.SS3.p1.6.m6.1.1.1.1.1" xref="S4.SS3.p1.6.m6.1.1.1.1.1.cmml"><mover accent="true" id="S4.SS3.p1.6.m6.1.1.1.1.1.2" xref="S4.SS3.p1.6.m6.1.1.1.1.1.2.cmml"><mi id="S4.SS3.p1.6.m6.1.1.1.1.1.2.2" xref="S4.SS3.p1.6.m6.1.1.1.1.1.2.2.cmml">x</mi><mo id="S4.SS3.p1.6.m6.1.1.1.1.1.2.1" xref="S4.SS3.p1.6.m6.1.1.1.1.1.2.1.cmml">^</mo></mover><mrow id="S4.SS3.p1.6.m6.1.1.1.1.1.3" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.cmml"><mi id="S4.SS3.p1.6.m6.1.1.1.1.1.3.2" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.2.cmml">u</mi><mo id="S4.SS3.p1.6.m6.1.1.1.1.1.3.1" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS3.p1.6.m6.1.1.1.1.1.3.3" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.3.cmml">j</mi><mo id="S4.SS3.p1.6.m6.1.1.1.1.1.3.1a" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.1.cmml">⁢</mo><mi id="S4.SS3.p1.6.m6.1.1.1.1.1.3.4" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.4.cmml">k</mi></mrow></msub><mo id="S4.SS3.p1.6.m6.1.1.1.1.3" stretchy="false" xref="S4.SS3.p1.6.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p1.6.m6.1b"><apply id="S4.SS3.p1.6.m6.1.1.cmml" xref="S4.SS3.p1.6.m6.1.1"><times id="S4.SS3.p1.6.m6.1.1.2.cmml" xref="S4.SS3.p1.6.m6.1.1.2"></times><apply id="S4.SS3.p1.6.m6.1.1.3.cmml" xref="S4.SS3.p1.6.m6.1.1.3"><log id="S4.SS3.p1.6.m6.1.1.3.1.cmml" xref="S4.SS3.p1.6.m6.1.1.3.1"></log><ci id="S4.SS3.p1.6.m6.1.1.3.2.cmml" xref="S4.SS3.p1.6.m6.1.1.3.2">𝜎</ci></apply><apply id="S4.SS3.p1.6.m6.1.1.1.1.1.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p1.6.m6.1.1.1.1.1.1.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1">subscript</csymbol><apply id="S4.SS3.p1.6.m6.1.1.1.1.1.2.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1.1.2"><ci id="S4.SS3.p1.6.m6.1.1.1.1.1.2.1.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1.1.2.1">^</ci><ci id="S4.SS3.p1.6.m6.1.1.1.1.1.2.2.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1.1.2.2">𝑥</ci></apply><apply id="S4.SS3.p1.6.m6.1.1.1.1.1.3.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3"><times id="S4.SS3.p1.6.m6.1.1.1.1.1.3.1.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.1"></times><ci id="S4.SS3.p1.6.m6.1.1.1.1.1.3.2.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.2">𝑢</ci><ci id="S4.SS3.p1.6.m6.1.1.1.1.1.3.3.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.3">𝑗</ci><ci id="S4.SS3.p1.6.m6.1.1.1.1.1.3.4.cmml" xref="S4.SS3.p1.6.m6.1.1.1.1.1.3.4">𝑘</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p1.6.m6.1c">\log\sigma(\hat{x}_{ujk})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p1.6.m6.1d">roman_log italic_σ ( over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_u italic_j italic_k end_POSTSUBSCRIPT )</annotation></semantics></math>, as the transitivity becomes more strict.
Thus, weak transitivity provides the most informative gradients, increasing the training effectiveness.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this work, we identified the common and crucial disadvantage of binary label assignments within conventional recommendation objectives.
To overcome this limitation, we have proposed novel extensions that directly exploit the preference differences of unobserved items.
Through extensive experiments, we demonstrated the effectiveness of our method with the thorough analysis.
As future work,
the uniformity of normalized embeddings <cite class="ltx_cite ltx_citemacro_citep">(Chung and Kim, <a class="ltx_ref" href="https://arxiv.org/html/2408.00326v1#bib.bib7" title="">2023</a>)</cite> can be applied to our framework to improve recommendation performance more.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chang et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Jianxin Chang, Chen Gao, Yu Zheng, Yiqun Hui, Yanan Niu, Yang Song, Depeng Jin, and Yong Li. 2021.

</span>
<span class="ltx_bibblock">Sequential recommendation with graph neural networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">Proceedings of the ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR)</em>. ACM, Virtual, 378–387.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2023b)</span>
<span class="ltx_bibblock">
Mengru Chen, Chao Huang, Lianghao Xia, Wei Wei, Yong Xu, and Ronghua Luo. 2023b.

</span>
<span class="ltx_bibblock">Heterogeneous graph contrastive learning for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">Proceedings of the ACM International Conference on Web Search and Data Mining (WSDM)</em>. ACM, Singapore, Singapore, 544–552.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Ting Chen, Yizhou Sun, Yue Shi, and Liangjie Hong. 2017.

</span>
<span class="ltx_bibblock">On sampling strategies for neural network-based collaborative filtering. In <em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">Proceedings of the ACM SIGKDD Conference on Knowledge Discovery and Data Mining (KDD)</em>. ACM, Halifax, Nova Scotia, Canada, 767–776.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib5.2.2.1">.</span> (2023a)</span>
<span class="ltx_bibblock">
Xiao Chen, Wenqi Fan, Jingfan Chen, Haochen Liu, Zitao Liu, Zhaoxiang Zhang, and Qing Li. 2023a.

</span>
<span class="ltx_bibblock">Fairly adaptive negative sampling for recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib5.3.1">Proceedings of the Web Conference (WWW)</em>. ACM, Autin, TX, USA, 3723–3733.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Yongjun Chen, Jia Li, Zhiwei Liu, Nitish Shirish Keskar, Huan Wang, Julian McAuley, and Caiming Xiong. 2022.

</span>
<span class="ltx_bibblock">Generating Negative Samples for Sequential Recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">arXiv preprint arXiv:2208.03645</em> August (2022), 1–11.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chung and Kim (2023)</span>
<span class="ltx_bibblock">
Hyunsoo Chung and Jungtaek Kim. 2023.

</span>
<span class="ltx_bibblock">Leveraging Uniformity of Normalized Embeddings for Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib7.1.1">Neural Information Processing Systems Workshop on Self-Supervised Learning - Theory and Practice (SSL-TP)</em>. NeurIPS, New Orleans, LA, USA, 1–9.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ding et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Jingtao Ding, Yuhan Quan, Quanming Yao, Yong Li, and Depeng Jin. 2020.

</span>
<span class="ltx_bibblock">Simplify and robustify negative sampling for implicit collaborative filtering. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">Advances in Neural Information Processing Systems (NeurIPS)</em>, Vol. 33. Curran Associates, Virtual, 1094–1105.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Ziwei Fan, Zhiwei Liu, Yu Wang, Alice Wang, Zahra Nazari, Lei Zheng, Hao Peng, and Philip S Yu. 2022.

</span>
<span class="ltx_bibblock">Sequential recommendation via stochastic self-attention. In <em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">Proceedings of the Web Conference (WWW)</em>. ACM, Lyon, France, 2036–2047.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Fan et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Ziwei Fan, Zhiwei Liu, Jiawei Zhang, Yun Xiong, Lei Zheng, and Philip S Yu. 2021.

</span>
<span class="ltx_bibblock">Continuous-time sequential recommendation with temporal graph collaborative transformer. In <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">Proceedings of the ACM International Conference on Information and Knowledge Management (CIKM)</em>. ACM, Virtual, 433–442.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Xiangnan He, Kuan Deng, Xiang Wang, Yan Li, Yongdong Zhang, and Meng Wang. 2020.

</span>
<span class="ltx_bibblock">LightGCN: Simplifying and powering graph convolution network for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Proceedings of the ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR)</em>. ACM, Virtual, 639–648.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hernández-Lobato et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2014)</span>
<span class="ltx_bibblock">
José Miguel Hernández-Lobato, Neil Houlsby, and Zoubin Ghahramani. 2014.

</span>
<span class="ltx_bibblock">Probabilistic Matrix Factorization with Non-Random Missing Data. In <em class="ltx_emph ltx_font_italic" id="bib.bib12.3.1">Proceedings of the International Conference on Machine Learning (ICML)</em>. JMLR, Beijing, China, 1512–1520.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hidasi et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Balázs Hidasi, Alexandros Karatzoglou, Linas Baltrunas, and Domonkos Tikk. 2016.

</span>
<span class="ltx_bibblock">Session-based recommendations with recurrent neural networks. In <em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">Proceedings of the International Conference on Learning Representations (ICLR)</em>. ICLR, San Juan, Puerto Rico, 1–10.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley (2018)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and Julian McAuley. 2018.

</span>
<span class="ltx_bibblock">Self-attentive sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">Proceedings of the IEEE International Conference on Data Mining (ICDM)</em>. IEEE, Singapore, Singapore, 197–206.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Klenitskiy and Vasilev (2023)</span>
<span class="ltx_bibblock">
Anton Klenitskiy and Alexey Vasilev. 2023.

</span>
<span class="ltx_bibblock">Turning Dross Into Gold Loss: is BERT4Rec really better than SASRec?. In <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">Proceedings of the ACM International Conference on Recommender Systems (RecSys)</em>. ACM, Singapore, Singapore, 1120–1125.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lian et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Defu Lian, Qi Liu, and Enhong Chen. 2020.

</span>
<span class="ltx_bibblock">Personalized ranking with importance sampling. In <em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">Proceedings of the Web Conference (WWW)</em>. ACM, Taipei, Taiwan, 1093–1103.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib17.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Fan Liu, Zhiyong Cheng, Lei Zhu, Zan Gao, and Liqiang Nie. 2021.

</span>
<span class="ltx_bibblock">Interest-aware message-passing GCN for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib17.3.1">Proceedings of the Web Conference (WWW)</em>. ACM, Ljubljana, Slovenia, 1296–1305.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McAuley et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2015)</span>
<span class="ltx_bibblock">
Julian McAuley, Christopher Targett, Qinfeng Shi, and Anton Van Den Hengel. 2015.

</span>
<span class="ltx_bibblock">Image-based recommendations on styles and substitutes. In <em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">Proceedings of the ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR)</em>. ACM, Shanghai, China, 43–52.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Oord et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Aaron van den Oord, Yazhe Li, and Oriol Vinyals. 2018.

</span>
<span class="ltx_bibblock">Representation learning with contrastive predictive coding.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">arXiv preprint arXiv:1807.03748</em> July (2018), 1–13.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pan and Chen (2013)</span>
<span class="ltx_bibblock">
Weike Pan and Li Chen. 2013.

</span>
<span class="ltx_bibblock">Gbpr: Group preference based bayesian personalized ranking for one-class collaborative filtering. In <em class="ltx_emph ltx_font_italic" id="bib.bib20.1.1">Proceedings of the International Joint Conference on Artificial Intelligence (IJCAI)</em>. IJCAI, Beijing, China, 2691–2697.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Petrov and Macdonald (2023)</span>
<span class="ltx_bibblock">
Aleksandr Vladimirovich Petrov and Craig Macdonald. 2023.

</span>
<span class="ltx_bibblock">gsasrec: Reducing overconfidence in sequential recommendation trained with negative sampling. In <em class="ltx_emph ltx_font_italic" id="bib.bib21.1.1">Proceedings of the ACM International Conference on Recommender Systems (RecSys)</em>. ACM, Singapore, Singapore, 116–128.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rendle and Freudenthaler (2014)</span>
<span class="ltx_bibblock">
Steffen Rendle and Christoph Freudenthaler. 2014.

</span>
<span class="ltx_bibblock">Improving pairwise learning for item recommendation from implicit feedback. In <em class="ltx_emph ltx_font_italic" id="bib.bib22.1.1">Proceedings of the ACM International Conference on Web Search and Data Mining (WSDM)</em>. ACM, New York, NY, USA, 273–282.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Rendle et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2009)</span>
<span class="ltx_bibblock">
Steffen Rendle, Christoph Freudenthaler, Zeno Gantner, and Lars Schmidt-Thieme. 2009.

</span>
<span class="ltx_bibblock">BPR: Bayesian personalized ranking from implicit feedback. In <em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">Proceedings of the Conference on Uncertainty in Artificial Intelligence (UAI)</em>. AUAI Press, Montreal, Quebec, Canada, 452–461.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Fei Sun, Jun Liu, Jian Wu, Changhua Pei, Xiao Lin, Wenwu Ou, and Peng Jiang. 2019.

</span>
<span class="ltx_bibblock">BERT4Rec: Sequential recommendation with bidirectional encoder representations from transformer. In <em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Proceedings of the ACM International Conference on Information and Knowledge Management (CIKM)</em>. ACM, Beijing, China, 1441–1450.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang and Wang (2018)</span>
<span class="ltx_bibblock">
Jiaxi Tang and Ke Wang. 2018.

</span>
<span class="ltx_bibblock">Personalized top-n sequential recommendation via convolutional sequence embedding. In <em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">Proceedings of the ACM International Conference on Web Search and Data Mining (WSDM)</em>. ACM, Los Angeles, CA, USA, 565–573.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Jun Wang, Lantao Yu, Weinan Zhang, Yu Gong, Yinghui Xu, Benyou Wang, Peng Zhang, and Dell Zhang. 2017.

</span>
<span class="ltx_bibblock">Irgan: A minimax game for unifying generative and discriminative information retrieval models. In <em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">Proceedings of the ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR)</em>. ACM, Tokyo, Japan, 515–524.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2018)</span>
<span class="ltx_bibblock">
Peifeng Wang, Shuangyin Li, and Rong Pan. 2018.

</span>
<span class="ltx_bibblock">Incorporating gan for negative sampling in knowledge representation learning. In <em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">Proceedings of the AAAI Conference on Artificial Intelligence (AAAI)</em>. AAAI Press, New Orleans, LA, USA, 2005–2012.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Xiang Wang, Xiangnan He, Meng Wang, Fuli Feng, and Tat-Seng Chua. 2019.

</span>
<span class="ltx_bibblock">Neural Graph Collaborative Filtering. In <em class="ltx_emph ltx_font_italic" id="bib.bib28.3.1">Proceedings of the ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR)</em>. ACM, Paris, France, 165–174.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Jiancan Wu, Xiang Wang, Fuli Feng, Xiangnan He, Liang Chen, Jianxun Lian, and Xing Xie. 2021.

</span>
<span class="ltx_bibblock">Self-supervised graph learning for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">Proceedings of the ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR)</em>. ACM, Virtual, 726–735.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jiancan Wu, Xiang Wang, Xingyu Gao, Jiawei Chen, Hongcheng Fu, and Tianyu Qiu. 2024.

</span>
<span class="ltx_bibblock">On the effectiveness of sampled softmax loss for item recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib30.3.1">ACM Transactions on Information Systems</em> 42, 4 (2024), 1–26.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wu et al<span class="ltx_text" id="bib.bib31.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Liwei Wu, Shuqing Li, Cho-Jui Hsieh, and James Sharpnack. 2020.

</span>
<span class="ltx_bibblock">SSE-PT: Sequential recommendation via personalized transformer. In <em class="ltx_emph ltx_font_italic" id="bib.bib31.3.1">Proceedings of the ACM International Conference on Recommender Systems (RecSys)</em>. ACM, Virtual, 328–337.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2013)</span>
<span class="ltx_bibblock">
Weinan Zhang, Tianqi Chen, Jun Wang, and Yong Yu. 2013.

</span>
<span class="ltx_bibblock">Optimizing top-n collaborative filtering via dynamic negative item sampling. In <em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">Proceedings of the ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR)</em>. ACM, Dublin, Ireland, 785–788.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib33.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Yongqi Zhang, Quanming Yao, Yingxia Shao, and Lei Chen. 2019.

</span>
<span class="ltx_bibblock">NSCaching: simple and efficient negative sampling for knowledge graph embedding. In <em class="ltx_emph ltx_font_italic" id="bib.bib33.3.1">International Conference on Data Engineering (ICDE)</em>. IEEE, Chicago, IL, USA, 614–625.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2021a)</span>
<span class="ltx_bibblock">
Chang Zhou, Jianxin Ma, Jianwei Zhang, Jingren Zhou, and Hongxia Yang. 2021a.

</span>
<span class="ltx_bibblock">Contrastive learning for debiased candidate generation in large-scale recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">Proceedings of the ACM SIGKDD Conference on Knowledge Discovery and Data Mining (KDD)</em>. ACM, Virtual, 3985–3995.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2021b)</span>
<span class="ltx_bibblock">
Huachi Zhou, Qiaoyu Tan, Xiao Huang, Kaixiong Zhou, and Xiaoling Wang. 2021b.

</span>
<span class="ltx_bibblock">Temporal augmented graph neural networks for session-based recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">Proceedings of the ACM SIGIR Conference on Research and Development in Information Retrieval (SIGIR)</em>. ACM, Virtual, 1798–1802.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Kun Zhou, Hui Wang, Wayne Xin Zhao, Yutao Zhu, Sirui Wang, Fuzheng Zhang, Zhongyuan Wang, and Ji-Rong Wen. 2020.

</span>
<span class="ltx_bibblock">S3-Rec: Self-Supervised Learning for Sequential Recommendation with Mutual Information Maximization. In <em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">Proceedings of the ACM International Conference on Information and Knowledge Management (CIKM)</em>. ACM, Virtual, 1893––1902.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Kun Zhou, Hui Yu, Wayne Xin Zhao, and Ji-Rong Wen. 2022.

</span>
<span class="ltx_bibblock">Filter-enhanced MLP is all you need for sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">Proceedings of the Web Conference (WWW)</em>. ACM, Lyon, France, 2388–2399.

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Thu Aug  1 06:36:21 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
