<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2303.14935] TabIQA: Table Questions Answering on Business Document Images</title><meta property="og:description" content="Table answering questions from business documents has many challenges that require understanding tabular structures, cross-document referencing, and additional numeric computations beyond simple search queries. This pa…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="TabIQA: Table Questions Answering on Business Document Images">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="TabIQA: Table Questions Answering on Business Document Images">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2303.14935">

<!--Generated on Thu Feb 29 18:20:52 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="keywords" lang="en" content="
Visual Question Answering,  Table Question Answering,  Business Documents
">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">TabIQA: Table Questions Answering on 
<br class="ltx_break">Business Document Images
</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Phuc Nguyen<sup id="id1.1.id1" class="ltx_sup">§</sup>, Nam Tuan Ly<sup id="id2.2.id2" class="ltx_sup">§</sup>, Hideaki Takeda, Atsuhiro Takasu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_affiliation"><span id="id3.3.id1" class="ltx_text ltx_font_italic">National Institute of Informatics, Japan
<br class="ltx_break"></span>{phucnt, namly, takeda, takasu}@nii.ac.jp
</span></span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id4.id1" class="ltx_p">Table answering questions from business documents has many challenges that require understanding tabular structures, cross-document referencing, and additional numeric computations beyond simple search queries. This paper introduces a novel pipeline, named TabIQA, to answer questions about business document images. TabIQA combines state-of-the-art deep learning techniques 1) to extract table content and structural information from images and 2) to answer various questions related to numerical data, text-based information, and complex queries from structured tables. The evaluation results on VQAonBD 2023 dataset demonstrate the effectiveness of TabIQA in achieving promising performance in answering table-related questions. The TabIQA repository is available at <a target="_blank" href="https://github.com/phucty/itabqa" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://github.com/phucty/itabqa</a>.</p>
</div>
<div class="ltx_keywords">
<h6 class="ltx_title ltx_title_keywords">Index Terms: </h6>
Visual Question Answering, Table Question Answering, Business Documents

</div>
<span id="footnotex1" class="ltx_note ltx_role_footnotetext"><sup class="ltx_note_mark">§</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">§</sup><span class="ltx_note_type">footnotetext: </span>Equal contribution</span></span></span>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Businesses generate and process vast amounts of information, and extracting valuable insights from this data is crucial for making informed decisions. Business documents, such as financial reports, invoices, and contracts, often contain valuable information in tabular form. However, answering questions based on these document images can be challenging due to their complex structures, cross-referencing, and numerical computations beyond simple search queries.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Traditional information retrieval methods, such as keyword search and regular expressions, are only sometimes effective in retrieving information from tables in business documents. Therefore, there is a growing need for automated approaches that can accurately extract relevant information from tables and answer various questions. Such approaches can save businesses time and effort and improve the extracted information’s accuracy and reliability.</p>
</div>
<figure id="S1.F1" class="ltx_figure"><img src="/html/2303.14935/assets/x1.png" id="S1.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="186" height="78" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Illustration of question answering from the business document image of <span id="S1.F1.2.1" class="ltx_text">val_table_image_7517__GPC__2013__page_55_split_0</span> from VQAonBD 2023 dataset</figcaption>
</figure>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">The main objective of this paper is to introduce TabIQA, a novel pipeline for answering questions on business document images. Figure <a href="#S1.F1" title="Figure 1 ‣ I Introduction ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> illustrates the question-answering task from the business document image in VQAonBD 2023 dataset. Given a business document image and a question about the image: “What is the dollar value (in thousands) of foreign currency translation for the year 2013?” the output answer is “-37619”. TabIQA utilizes the table recognition module to extract table structure information and the text content of each table cell and convert them into HTML format. Subsequently, the high-level table structure is extracted to identify the headers, data cells, and hierarchical structure with the post-structure extraction module. Once the table is structured, it is converted to a dataframe format for further processing. The question-answering module processes the input question and the table dataframe with an encoder and generates the final answer from a decoder.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Overall, this study makes the following contributions:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">Introducing TabIQA, a novel pipeline for answering questions about business document images: TabIQA is a comprehensive pipeline combining state-of-the-art deep learning techniques to extract relevant information from tables and answer various questions related to numerical data, text-based information, and complex queries.</p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">Providing a publicly available repository: We have made the TabIQA repository publicly available to encourage the reproducibility of our results and enable other researchers to use and build upon our work.</p>
</div>
</li>
<li id="S1.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i3.p1" class="ltx_para">
<p id="S1.I1.i3.p1.1" class="ltx_p">Demonstrating the effectiveness of TabIQA on the VQAonBD 2023 dataset: The evaluation results on VQAonBD 2023 dataset<span id="footnote1" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">1</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">1</sup><span class="ltx_tag ltx_tag_note">1</span>VQAonBD 2023: <a target="_blank" href="https://ilocr.iiit.ac.in/vqabd/dataset.html" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://ilocr.iiit.ac.in/vqabd/dataset.html</a></span></span></span> demonstrate the effectiveness of TabIQA in achieving promising performance in answering table-related questions.</p>
</div>
</li>
</ul>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">The rest of the paper is structured as follows. Section <a href="#S3.SS1" title="III-A Framework ‣ III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-A</span></span></a> summarizes related work on question answering on business document images. We introduce the TabIQA method in Section <a href="#S3" title="III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a>. Section <a href="#S4" title="IV Experiments ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag">IV</span></a> presents the experimental settings and results. Finally, in Section <a href="#S5" title="V Conclusion and Future Work ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag">V</span></a>, we present conclusions and discuss future directions of the task table question answering on business document images.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">Related Work</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">Image-based table recognition is one of the important parts of the document understanding system as well as the table questions answering system, which aims to recognize the table structure information and the text content of each table cell from an input image and represent them in a machine-readable format (HTML or CSV). Most of the previous works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>]</cite> of table recognition focused on two-step approaches that divide the problem into two sub-problems: table structure recognition and table cell content recognition, and then attempt to solve each sub-problem independently by two separate systems. In recent years, due to the advantages of deep learning and the availability of large-scale table image datasets, some works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref">5</a>, <a href="#bib.bib6" title="" class="ltx_ref">6</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>, <a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> try to focus on end-to-end approaches which solve the table recognition problem using one end-to-end system. Ly et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite> formulated the problem of table recognition as a multi-task learning problem. They proposed an end-to-end multi-task learning model for image-based table recognition, which consists of three separate decoders for three sub-tasks of table recognition: table structure recognition, cell detection, and cell-content recognition. The proposed model achieves state-of-the-art accuracies on PubTabNet and FinTabNet datasets. Ly et al. <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite> also proposed an end-to-end weakly supervised learning model named WSTabNet, which requires only table images and their annotations of table HTML code for training the model. WSTabNet achieves competitive accuracies compared to the fully supervised and two-step learning methods.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p">Information Retrieval from Business Documents Business documents such as invoices, receipts, and financial statements contain valuable information critical for decision-making and analysis. Traditional information retrieval methods from business documents rely on manual data entry or simple search queries, which can be time-consuming and error-prone. Recent advances in deep learning and natural language processing have enabled the development of automated systems that can extract information from business documents with high accuracy and efficiency.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p">Deep Learning Techniques for Table Extraction and Question Answering Table extraction and question answering are critical tasks in automated information retrieval from business documents. Deep learning techniques have shown great promise in addressing these challenges. Various approaches have been proposed for table extraction, including region-based, cell-based, and structure-based methods. For question answering, neural network-based models such as transformer-based models have achieved state-of-the-art results on various datasets.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">While these studies have achieved promising results in automated information retrieval from business documents, there is still room for improvement in accuracy, efficiency, and scalability. This paper proposes a novel pipeline, TabIQA, for answering questions about business document tables that leverage state-of-the-art deep learning techniques for improved performance.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">Approach</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">This section describes TabIQA’s overall framework in Section <a href="#S3.SS1" title="III-A Framework ‣ III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-A</span></span></a>. The details of the table recognition module, post-structure extraction module, and question-answering module are described in Section <a href="#S3.SS2" title="III-B Table Recognition ‣ III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-B</span></span></a>, <a href="#S3.SS3" title="III-C Post Structure Extraction ‣ III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-C</span></span></a>, and Section <a href="#S3.SS4" title="III-D Question Answering ‣ III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-D</span></span></a> respectively.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.5.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.6.2" class="ltx_text ltx_font_italic">Framework</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">The overall framework of TabIQA, a system designed for question-answering using table images in business documents, is illustrated in Fig. <a href="#S3.F2" title="Figure 2 ‣ III-A Framework ‣ III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. TabIQA utilizes a table recognition algorithm that extracts the table’s structure and textual content of each cell and then converts them into HTML format. The system subsequently analyzes the HTML table to identify headers, data cells, and hierarchical structure and transforms it into a dataframe for further processing. Finally, the question-answering module processes the input question and the table dataframe with an encoder and generates the final answer through a decoder.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2303.14935/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="160" height="158" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Framework</figcaption>
</figure>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.5.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.6.2" class="ltx_text ltx_font_italic">Table Recognition</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">This module aims to predict the table structure information and the text content of each table cell from a table image and represent them in a machine-readable format (HTML). This module consists of one shared encoder, one shared decoder, and three separate decoders for three sub-tasks of table recognition: table structure recognition, cell detection, and cell-content recognition.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">First, we trained this model on the training set of VQAonBD 2023 and validated it on the validation set for model selection and choosing the hyperparameters. Finally, we used training and validation sets to train the final table recognition module.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS3.5.1.1" class="ltx_text">III-C</span> </span><span id="S3.SS3.6.2" class="ltx_text ltx_font_italic">Post Structure Extraction</span>
</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">The table post-structure extraction module plays a crucial role in the TabIQA system. The module’s primary function is to predict table headers and extract the hierarchical rows from the HTML table.</p>
</div>
<section id="S3.SS3.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS3.SSS1.5.1.1" class="ltx_text">III-C</span>1 </span>Header Prediction</h4>

<div id="S3.SS3.SSS1.p1" class="ltx_para">
<p id="S3.SS3.SSS1.p1.1" class="ltx_p">To predict table headers, the module uses a set of heuristics based on the characteristics of the input table. Specifically, the headers are identified as one of the first table rows that satisfy one or more of the following conditions:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p">Column spans: The header row contains cells that span multiple columns.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p">Nan cells: The header row contains cells with missing values.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.1" class="ltx_p">Duplicate value cells: The header row contains cells with identical values in the same row.</p>
</div>
</li>
<li id="S3.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i4.p1" class="ltx_para">
<p id="S3.I1.i4.p1.1" class="ltx_p">If no headers are found using these heuristics, the first row is treated as the table header.</p>
</div>
</li>
</ul>
<p id="S3.SS3.SSS1.p1.2" class="ltx_p">All the remaining rows are then classified as data rows.</p>
</div>
</section>
<section id="S3.SS3.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S3.SS3.SSS2.5.1.1" class="ltx_text">III-C</span>2 </span>Hierarchical Row Prediction</h4>

<div id="S3.SS3.SSS2.p1" class="ltx_para">
<p id="S3.SS3.SSS2.p1.1" class="ltx_p">This module predicts the hierarchical information from the table HTML and then concatenates the value of each hierarchical cell to the lower-level cells in the same column. In this work, we propose two hierarchical row prediction algorithms: the first one is based on the predicted table HTML and the second one is based on both the predicted table HTML and the table cell bounding boxes. The two hierarchical row prediction algorithms are defined in the algorithm 1 and 2, respectively:</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Hierarchical row prediction algorithm</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l0.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>  R (a list of rows of table cells)

</div>
<div id="alg1.l0a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg1.l0a.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>  R’ (a list of rows of table cells with hierarchical information)

</div>
<div id="alg1.l1" class="ltx_listingline">  <math id="alg1.l1.m1.1" class="ltx_Math" alttext="hierarchical\_cell\leftarrow null" display="inline"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><mrow id="alg1.l1.m1.1.1.2" xref="alg1.l1.m1.1.1.2.cmml"><mi id="alg1.l1.m1.1.1.2.2" xref="alg1.l1.m1.1.1.2.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.3" xref="alg1.l1.m1.1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1a" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.4" xref="alg1.l1.m1.1.1.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1b" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.5" xref="alg1.l1.m1.1.1.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1c" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.6" xref="alg1.l1.m1.1.1.2.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1d" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.7" xref="alg1.l1.m1.1.1.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1e" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.8" xref="alg1.l1.m1.1.1.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1f" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.9" xref="alg1.l1.m1.1.1.2.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1g" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.10" xref="alg1.l1.m1.1.1.2.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1h" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.11" xref="alg1.l1.m1.1.1.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1i" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.12" xref="alg1.l1.m1.1.1.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1j" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.13" xref="alg1.l1.m1.1.1.2.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1k" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg1.l1.m1.1.1.2.14" xref="alg1.l1.m1.1.1.2.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1l" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.15" xref="alg1.l1.m1.1.1.2.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1m" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.16" xref="alg1.l1.m1.1.1.2.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1n" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.17" xref="alg1.l1.m1.1.1.2.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.2.1o" xref="alg1.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.2.18" xref="alg1.l1.m1.1.1.2.18.cmml">l</mi></mrow><mo stretchy="false" id="alg1.l1.m1.1.1.1" xref="alg1.l1.m1.1.1.1.cmml">←</mo><mrow id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml"><mi id="alg1.l1.m1.1.1.3.2" xref="alg1.l1.m1.1.1.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.3" xref="alg1.l1.m1.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1a" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.4" xref="alg1.l1.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l1.m1.1.1.3.1b" xref="alg1.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l1.m1.1.1.3.5" xref="alg1.l1.m1.1.1.3.5.cmml">l</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><ci id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1">←</ci><apply id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2"><times id="alg1.l1.m1.1.1.2.1.cmml" xref="alg1.l1.m1.1.1.2.1"></times><ci id="alg1.l1.m1.1.1.2.2.cmml" xref="alg1.l1.m1.1.1.2.2">ℎ</ci><ci id="alg1.l1.m1.1.1.2.3.cmml" xref="alg1.l1.m1.1.1.2.3">𝑖</ci><ci id="alg1.l1.m1.1.1.2.4.cmml" xref="alg1.l1.m1.1.1.2.4">𝑒</ci><ci id="alg1.l1.m1.1.1.2.5.cmml" xref="alg1.l1.m1.1.1.2.5">𝑟</ci><ci id="alg1.l1.m1.1.1.2.6.cmml" xref="alg1.l1.m1.1.1.2.6">𝑎</ci><ci id="alg1.l1.m1.1.1.2.7.cmml" xref="alg1.l1.m1.1.1.2.7">𝑟</ci><ci id="alg1.l1.m1.1.1.2.8.cmml" xref="alg1.l1.m1.1.1.2.8">𝑐</ci><ci id="alg1.l1.m1.1.1.2.9.cmml" xref="alg1.l1.m1.1.1.2.9">ℎ</ci><ci id="alg1.l1.m1.1.1.2.10.cmml" xref="alg1.l1.m1.1.1.2.10">𝑖</ci><ci id="alg1.l1.m1.1.1.2.11.cmml" xref="alg1.l1.m1.1.1.2.11">𝑐</ci><ci id="alg1.l1.m1.1.1.2.12.cmml" xref="alg1.l1.m1.1.1.2.12">𝑎</ci><ci id="alg1.l1.m1.1.1.2.13.cmml" xref="alg1.l1.m1.1.1.2.13">𝑙</ci><ci id="alg1.l1.m1.1.1.2.14.cmml" xref="alg1.l1.m1.1.1.2.14">_</ci><ci id="alg1.l1.m1.1.1.2.15.cmml" xref="alg1.l1.m1.1.1.2.15">𝑐</ci><ci id="alg1.l1.m1.1.1.2.16.cmml" xref="alg1.l1.m1.1.1.2.16">𝑒</ci><ci id="alg1.l1.m1.1.1.2.17.cmml" xref="alg1.l1.m1.1.1.2.17">𝑙</ci><ci id="alg1.l1.m1.1.1.2.18.cmml" xref="alg1.l1.m1.1.1.2.18">𝑙</ci></apply><apply id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3"><times id="alg1.l1.m1.1.1.3.1.cmml" xref="alg1.l1.m1.1.1.3.1"></times><ci id="alg1.l1.m1.1.1.3.2.cmml" xref="alg1.l1.m1.1.1.3.2">𝑛</ci><ci id="alg1.l1.m1.1.1.3.3.cmml" xref="alg1.l1.m1.1.1.3.3">𝑢</ci><ci id="alg1.l1.m1.1.1.3.4.cmml" xref="alg1.l1.m1.1.1.3.4">𝑙</ci><ci id="alg1.l1.m1.1.1.3.5.cmml" xref="alg1.l1.m1.1.1.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">hierarchical\_cell\leftarrow null</annotation></semantics></math>

</div>
<div id="alg1.l2" class="ltx_listingline">  <span id="alg1.l2.1" class="ltx_text ltx_font_bold">for</span> r in R <span id="alg1.l2.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg1.l3" class="ltx_listingline">     <span id="alg1.l3.1" class="ltx_text ltx_font_bold">if</span> r[0] is a colspan cell OR r[1] is an empty cell <span id="alg1.l3.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg1.l4" class="ltx_listingline">        <math id="alg1.l4.m1.1" class="ltx_Math" alttext="hierarchical\_cell\leftarrow r[0]" display="inline"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.2" xref="alg1.l4.m1.1.2.cmml"><mrow id="alg1.l4.m1.1.2.2" xref="alg1.l4.m1.1.2.2.cmml"><mi id="alg1.l4.m1.1.2.2.2" xref="alg1.l4.m1.1.2.2.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.3" xref="alg1.l4.m1.1.2.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1a" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.4" xref="alg1.l4.m1.1.2.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1b" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.5" xref="alg1.l4.m1.1.2.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1c" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.6" xref="alg1.l4.m1.1.2.2.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1d" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.7" xref="alg1.l4.m1.1.2.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1e" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.8" xref="alg1.l4.m1.1.2.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1f" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.9" xref="alg1.l4.m1.1.2.2.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1g" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.10" xref="alg1.l4.m1.1.2.2.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1h" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.11" xref="alg1.l4.m1.1.2.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1i" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.12" xref="alg1.l4.m1.1.2.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1j" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.13" xref="alg1.l4.m1.1.2.2.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1k" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi mathvariant="normal" id="alg1.l4.m1.1.2.2.14" xref="alg1.l4.m1.1.2.2.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1l" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.15" xref="alg1.l4.m1.1.2.2.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1m" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.16" xref="alg1.l4.m1.1.2.2.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1n" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.17" xref="alg1.l4.m1.1.2.2.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.2.1o" xref="alg1.l4.m1.1.2.2.1.cmml">​</mo><mi id="alg1.l4.m1.1.2.2.18" xref="alg1.l4.m1.1.2.2.18.cmml">l</mi></mrow><mo stretchy="false" id="alg1.l4.m1.1.2.1" xref="alg1.l4.m1.1.2.1.cmml">←</mo><mrow id="alg1.l4.m1.1.2.3" xref="alg1.l4.m1.1.2.3.cmml"><mi id="alg1.l4.m1.1.2.3.2" xref="alg1.l4.m1.1.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l4.m1.1.2.3.1" xref="alg1.l4.m1.1.2.3.1.cmml">​</mo><mrow id="alg1.l4.m1.1.2.3.3.2" xref="alg1.l4.m1.1.2.3.3.1.cmml"><mo stretchy="false" id="alg1.l4.m1.1.2.3.3.2.1" xref="alg1.l4.m1.1.2.3.3.1.1.cmml">[</mo><mn id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">0</mn><mo stretchy="false" id="alg1.l4.m1.1.2.3.3.2.2" xref="alg1.l4.m1.1.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.2.cmml" xref="alg1.l4.m1.1.2"><ci id="alg1.l4.m1.1.2.1.cmml" xref="alg1.l4.m1.1.2.1">←</ci><apply id="alg1.l4.m1.1.2.2.cmml" xref="alg1.l4.m1.1.2.2"><times id="alg1.l4.m1.1.2.2.1.cmml" xref="alg1.l4.m1.1.2.2.1"></times><ci id="alg1.l4.m1.1.2.2.2.cmml" xref="alg1.l4.m1.1.2.2.2">ℎ</ci><ci id="alg1.l4.m1.1.2.2.3.cmml" xref="alg1.l4.m1.1.2.2.3">𝑖</ci><ci id="alg1.l4.m1.1.2.2.4.cmml" xref="alg1.l4.m1.1.2.2.4">𝑒</ci><ci id="alg1.l4.m1.1.2.2.5.cmml" xref="alg1.l4.m1.1.2.2.5">𝑟</ci><ci id="alg1.l4.m1.1.2.2.6.cmml" xref="alg1.l4.m1.1.2.2.6">𝑎</ci><ci id="alg1.l4.m1.1.2.2.7.cmml" xref="alg1.l4.m1.1.2.2.7">𝑟</ci><ci id="alg1.l4.m1.1.2.2.8.cmml" xref="alg1.l4.m1.1.2.2.8">𝑐</ci><ci id="alg1.l4.m1.1.2.2.9.cmml" xref="alg1.l4.m1.1.2.2.9">ℎ</ci><ci id="alg1.l4.m1.1.2.2.10.cmml" xref="alg1.l4.m1.1.2.2.10">𝑖</ci><ci id="alg1.l4.m1.1.2.2.11.cmml" xref="alg1.l4.m1.1.2.2.11">𝑐</ci><ci id="alg1.l4.m1.1.2.2.12.cmml" xref="alg1.l4.m1.1.2.2.12">𝑎</ci><ci id="alg1.l4.m1.1.2.2.13.cmml" xref="alg1.l4.m1.1.2.2.13">𝑙</ci><ci id="alg1.l4.m1.1.2.2.14.cmml" xref="alg1.l4.m1.1.2.2.14">_</ci><ci id="alg1.l4.m1.1.2.2.15.cmml" xref="alg1.l4.m1.1.2.2.15">𝑐</ci><ci id="alg1.l4.m1.1.2.2.16.cmml" xref="alg1.l4.m1.1.2.2.16">𝑒</ci><ci id="alg1.l4.m1.1.2.2.17.cmml" xref="alg1.l4.m1.1.2.2.17">𝑙</ci><ci id="alg1.l4.m1.1.2.2.18.cmml" xref="alg1.l4.m1.1.2.2.18">𝑙</ci></apply><apply id="alg1.l4.m1.1.2.3.cmml" xref="alg1.l4.m1.1.2.3"><times id="alg1.l4.m1.1.2.3.1.cmml" xref="alg1.l4.m1.1.2.3.1"></times><ci id="alg1.l4.m1.1.2.3.2.cmml" xref="alg1.l4.m1.1.2.3.2">𝑟</ci><apply id="alg1.l4.m1.1.2.3.3.1.cmml" xref="alg1.l4.m1.1.2.3.3.2"><csymbol cd="latexml" id="alg1.l4.m1.1.2.3.3.1.1.cmml" xref="alg1.l4.m1.1.2.3.3.2.1">delimited-[]</csymbol><cn type="integer" id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">hierarchical\_cell\leftarrow r[0]</annotation></semantics></math>

</div>
<div id="alg1.l5" class="ltx_listingline">     <span id="alg1.l5.1" class="ltx_text ltx_font_bold">else</span> <span id="alg1.l5.2" class="ltx_text ltx_font_bold">if</span> r[0] is a rowspan cell OR r[0] is an empty cell <span id="alg1.l5.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg1.l6" class="ltx_listingline">        <math id="alg1.l6.m1.1" class="ltx_Math" alttext="hierarchical\_cell\leftarrow null" display="inline"><semantics id="alg1.l6.m1.1a"><mrow id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml"><mrow id="alg1.l6.m1.1.1.2" xref="alg1.l6.m1.1.1.2.cmml"><mi id="alg1.l6.m1.1.1.2.2" xref="alg1.l6.m1.1.1.2.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.3" xref="alg1.l6.m1.1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1a" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.4" xref="alg1.l6.m1.1.1.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1b" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.5" xref="alg1.l6.m1.1.1.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1c" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.6" xref="alg1.l6.m1.1.1.2.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1d" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.7" xref="alg1.l6.m1.1.1.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1e" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.8" xref="alg1.l6.m1.1.1.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1f" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.9" xref="alg1.l6.m1.1.1.2.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1g" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.10" xref="alg1.l6.m1.1.1.2.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1h" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.11" xref="alg1.l6.m1.1.1.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1i" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.12" xref="alg1.l6.m1.1.1.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1j" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.13" xref="alg1.l6.m1.1.1.2.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1k" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg1.l6.m1.1.1.2.14" xref="alg1.l6.m1.1.1.2.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1l" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.15" xref="alg1.l6.m1.1.1.2.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1m" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.16" xref="alg1.l6.m1.1.1.2.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1n" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.17" xref="alg1.l6.m1.1.1.2.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.2.1o" xref="alg1.l6.m1.1.1.2.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.2.18" xref="alg1.l6.m1.1.1.2.18.cmml">l</mi></mrow><mo stretchy="false" id="alg1.l6.m1.1.1.1" xref="alg1.l6.m1.1.1.1.cmml">←</mo><mrow id="alg1.l6.m1.1.1.3" xref="alg1.l6.m1.1.1.3.cmml"><mi id="alg1.l6.m1.1.1.3.2" xref="alg1.l6.m1.1.1.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.3.1" xref="alg1.l6.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.3.3" xref="alg1.l6.m1.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.3.1a" xref="alg1.l6.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.3.4" xref="alg1.l6.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l6.m1.1.1.3.1b" xref="alg1.l6.m1.1.1.3.1.cmml">​</mo><mi id="alg1.l6.m1.1.1.3.5" xref="alg1.l6.m1.1.1.3.5.cmml">l</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><apply id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1"><ci id="alg1.l6.m1.1.1.1.cmml" xref="alg1.l6.m1.1.1.1">←</ci><apply id="alg1.l6.m1.1.1.2.cmml" xref="alg1.l6.m1.1.1.2"><times id="alg1.l6.m1.1.1.2.1.cmml" xref="alg1.l6.m1.1.1.2.1"></times><ci id="alg1.l6.m1.1.1.2.2.cmml" xref="alg1.l6.m1.1.1.2.2">ℎ</ci><ci id="alg1.l6.m1.1.1.2.3.cmml" xref="alg1.l6.m1.1.1.2.3">𝑖</ci><ci id="alg1.l6.m1.1.1.2.4.cmml" xref="alg1.l6.m1.1.1.2.4">𝑒</ci><ci id="alg1.l6.m1.1.1.2.5.cmml" xref="alg1.l6.m1.1.1.2.5">𝑟</ci><ci id="alg1.l6.m1.1.1.2.6.cmml" xref="alg1.l6.m1.1.1.2.6">𝑎</ci><ci id="alg1.l6.m1.1.1.2.7.cmml" xref="alg1.l6.m1.1.1.2.7">𝑟</ci><ci id="alg1.l6.m1.1.1.2.8.cmml" xref="alg1.l6.m1.1.1.2.8">𝑐</ci><ci id="alg1.l6.m1.1.1.2.9.cmml" xref="alg1.l6.m1.1.1.2.9">ℎ</ci><ci id="alg1.l6.m1.1.1.2.10.cmml" xref="alg1.l6.m1.1.1.2.10">𝑖</ci><ci id="alg1.l6.m1.1.1.2.11.cmml" xref="alg1.l6.m1.1.1.2.11">𝑐</ci><ci id="alg1.l6.m1.1.1.2.12.cmml" xref="alg1.l6.m1.1.1.2.12">𝑎</ci><ci id="alg1.l6.m1.1.1.2.13.cmml" xref="alg1.l6.m1.1.1.2.13">𝑙</ci><ci id="alg1.l6.m1.1.1.2.14.cmml" xref="alg1.l6.m1.1.1.2.14">_</ci><ci id="alg1.l6.m1.1.1.2.15.cmml" xref="alg1.l6.m1.1.1.2.15">𝑐</ci><ci id="alg1.l6.m1.1.1.2.16.cmml" xref="alg1.l6.m1.1.1.2.16">𝑒</ci><ci id="alg1.l6.m1.1.1.2.17.cmml" xref="alg1.l6.m1.1.1.2.17">𝑙</ci><ci id="alg1.l6.m1.1.1.2.18.cmml" xref="alg1.l6.m1.1.1.2.18">𝑙</ci></apply><apply id="alg1.l6.m1.1.1.3.cmml" xref="alg1.l6.m1.1.1.3"><times id="alg1.l6.m1.1.1.3.1.cmml" xref="alg1.l6.m1.1.1.3.1"></times><ci id="alg1.l6.m1.1.1.3.2.cmml" xref="alg1.l6.m1.1.1.3.2">𝑛</ci><ci id="alg1.l6.m1.1.1.3.3.cmml" xref="alg1.l6.m1.1.1.3.3">𝑢</ci><ci id="alg1.l6.m1.1.1.3.4.cmml" xref="alg1.l6.m1.1.1.3.4">𝑙</ci><ci id="alg1.l6.m1.1.1.3.5.cmml" xref="alg1.l6.m1.1.1.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">hierarchical\_cell\leftarrow null</annotation></semantics></math>

</div>
<div id="alg1.l7" class="ltx_listingline">     <span id="alg1.l7.1" class="ltx_text ltx_font_bold">else</span> <span id="alg1.l7.2" class="ltx_text ltx_font_bold">if</span> hierarchical_cell is not null <span id="alg1.l7.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg1.l8" class="ltx_listingline">        <math id="alg1.l8.m1.6" class="ltx_Math" alttext="r[0].text\leftarrow r[0].text+hierarchical\_cell.text" display="inline"><semantics id="alg1.l8.m1.6a"><mrow id="alg1.l8.m1.6.6.4" xref="alg1.l8.m1.6.6.5.cmml"><mrow id="alg1.l8.m1.3.3.1.1" xref="alg1.l8.m1.3.3.1.1.cmml"><mi id="alg1.l8.m1.3.3.1.1.2" xref="alg1.l8.m1.3.3.1.1.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.3.3.1.1.1" xref="alg1.l8.m1.3.3.1.1.1.cmml">​</mo><mrow id="alg1.l8.m1.3.3.1.1.3.2" xref="alg1.l8.m1.3.3.1.1.3.1.cmml"><mo stretchy="false" id="alg1.l8.m1.3.3.1.1.3.2.1" xref="alg1.l8.m1.3.3.1.1.3.1.1.cmml">[</mo><mn id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml">0</mn><mo stretchy="false" id="alg1.l8.m1.3.3.1.1.3.2.2" xref="alg1.l8.m1.3.3.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo lspace="0em" rspace="0.167em" id="alg1.l8.m1.6.6.4.5" xref="alg1.l8.m1.6.6.5a.cmml">.</mo><mrow id="alg1.l8.m1.4.4.2.2" xref="alg1.l8.m1.4.4.2.2.cmml"><mrow id="alg1.l8.m1.4.4.2.2.2" xref="alg1.l8.m1.4.4.2.2.2.cmml"><mi id="alg1.l8.m1.4.4.2.2.2.2" xref="alg1.l8.m1.4.4.2.2.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.4.4.2.2.2.1" xref="alg1.l8.m1.4.4.2.2.2.1.cmml">​</mo><mi id="alg1.l8.m1.4.4.2.2.2.3" xref="alg1.l8.m1.4.4.2.2.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.4.4.2.2.2.1a" xref="alg1.l8.m1.4.4.2.2.2.1.cmml">​</mo><mi id="alg1.l8.m1.4.4.2.2.2.4" xref="alg1.l8.m1.4.4.2.2.2.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.4.4.2.2.2.1b" xref="alg1.l8.m1.4.4.2.2.2.1.cmml">​</mo><mi id="alg1.l8.m1.4.4.2.2.2.5" xref="alg1.l8.m1.4.4.2.2.2.5.cmml">t</mi></mrow><mo stretchy="false" id="alg1.l8.m1.4.4.2.2.1" xref="alg1.l8.m1.4.4.2.2.1.cmml">←</mo><mrow id="alg1.l8.m1.4.4.2.2.3" xref="alg1.l8.m1.4.4.2.2.3.cmml"><mi id="alg1.l8.m1.4.4.2.2.3.2" xref="alg1.l8.m1.4.4.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.4.4.2.2.3.1" xref="alg1.l8.m1.4.4.2.2.3.1.cmml">​</mo><mrow id="alg1.l8.m1.4.4.2.2.3.3.2" xref="alg1.l8.m1.4.4.2.2.3.3.1.cmml"><mo stretchy="false" id="alg1.l8.m1.4.4.2.2.3.3.2.1" xref="alg1.l8.m1.4.4.2.2.3.3.1.1.cmml">[</mo><mn id="alg1.l8.m1.2.2" xref="alg1.l8.m1.2.2.cmml">0</mn><mo stretchy="false" id="alg1.l8.m1.4.4.2.2.3.3.2.2" xref="alg1.l8.m1.4.4.2.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><mo lspace="0em" rspace="0.167em" id="alg1.l8.m1.6.6.4.6" xref="alg1.l8.m1.6.6.5a.cmml">.</mo><mrow id="alg1.l8.m1.5.5.3.3" xref="alg1.l8.m1.5.5.3.3.cmml"><mrow id="alg1.l8.m1.5.5.3.3.2" xref="alg1.l8.m1.5.5.3.3.2.cmml"><mi id="alg1.l8.m1.5.5.3.3.2.2" xref="alg1.l8.m1.5.5.3.3.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.2.1" xref="alg1.l8.m1.5.5.3.3.2.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.2.3" xref="alg1.l8.m1.5.5.3.3.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.2.1a" xref="alg1.l8.m1.5.5.3.3.2.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.2.4" xref="alg1.l8.m1.5.5.3.3.2.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.2.1b" xref="alg1.l8.m1.5.5.3.3.2.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.2.5" xref="alg1.l8.m1.5.5.3.3.2.5.cmml">t</mi></mrow><mo id="alg1.l8.m1.5.5.3.3.1" xref="alg1.l8.m1.5.5.3.3.1.cmml">+</mo><mrow id="alg1.l8.m1.5.5.3.3.3" xref="alg1.l8.m1.5.5.3.3.3.cmml"><mi id="alg1.l8.m1.5.5.3.3.3.2" xref="alg1.l8.m1.5.5.3.3.3.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.3" xref="alg1.l8.m1.5.5.3.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1a" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.4" xref="alg1.l8.m1.5.5.3.3.3.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1b" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.5" xref="alg1.l8.m1.5.5.3.3.3.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1c" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.6" xref="alg1.l8.m1.5.5.3.3.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1d" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.7" xref="alg1.l8.m1.5.5.3.3.3.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1e" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.8" xref="alg1.l8.m1.5.5.3.3.3.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1f" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.9" xref="alg1.l8.m1.5.5.3.3.3.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1g" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.10" xref="alg1.l8.m1.5.5.3.3.3.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1h" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.11" xref="alg1.l8.m1.5.5.3.3.3.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1i" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.12" xref="alg1.l8.m1.5.5.3.3.3.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1j" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.13" xref="alg1.l8.m1.5.5.3.3.3.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1k" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi mathvariant="normal" id="alg1.l8.m1.5.5.3.3.3.14" xref="alg1.l8.m1.5.5.3.3.3.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1l" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.15" xref="alg1.l8.m1.5.5.3.3.3.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1m" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.16" xref="alg1.l8.m1.5.5.3.3.3.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1n" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.17" xref="alg1.l8.m1.5.5.3.3.3.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.5.5.3.3.3.1o" xref="alg1.l8.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg1.l8.m1.5.5.3.3.3.18" xref="alg1.l8.m1.5.5.3.3.3.18.cmml">l</mi></mrow></mrow><mo lspace="0em" rspace="0.167em" id="alg1.l8.m1.6.6.4.7" xref="alg1.l8.m1.6.6.5a.cmml">.</mo><mrow id="alg1.l8.m1.6.6.4.4" xref="alg1.l8.m1.6.6.4.4.cmml"><mi id="alg1.l8.m1.6.6.4.4.2" xref="alg1.l8.m1.6.6.4.4.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.6.6.4.4.1" xref="alg1.l8.m1.6.6.4.4.1.cmml">​</mo><mi id="alg1.l8.m1.6.6.4.4.3" xref="alg1.l8.m1.6.6.4.4.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.6.6.4.4.1a" xref="alg1.l8.m1.6.6.4.4.1.cmml">​</mo><mi id="alg1.l8.m1.6.6.4.4.4" xref="alg1.l8.m1.6.6.4.4.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg1.l8.m1.6.6.4.4.1b" xref="alg1.l8.m1.6.6.4.4.1.cmml">​</mo><mi id="alg1.l8.m1.6.6.4.4.5" xref="alg1.l8.m1.6.6.4.4.5.cmml">t</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.6b"><apply id="alg1.l8.m1.6.6.5.cmml" xref="alg1.l8.m1.6.6.4"><csymbol cd="ambiguous" id="alg1.l8.m1.6.6.5a.cmml" xref="alg1.l8.m1.6.6.4.5">formulae-sequence</csymbol><apply id="alg1.l8.m1.3.3.1.1.cmml" xref="alg1.l8.m1.3.3.1.1"><times id="alg1.l8.m1.3.3.1.1.1.cmml" xref="alg1.l8.m1.3.3.1.1.1"></times><ci id="alg1.l8.m1.3.3.1.1.2.cmml" xref="alg1.l8.m1.3.3.1.1.2">𝑟</ci><apply id="alg1.l8.m1.3.3.1.1.3.1.cmml" xref="alg1.l8.m1.3.3.1.1.3.2"><csymbol cd="latexml" id="alg1.l8.m1.3.3.1.1.3.1.1.cmml" xref="alg1.l8.m1.3.3.1.1.3.2.1">delimited-[]</csymbol><cn type="integer" id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1">0</cn></apply></apply><apply id="alg1.l8.m1.4.4.2.2.cmml" xref="alg1.l8.m1.4.4.2.2"><ci id="alg1.l8.m1.4.4.2.2.1.cmml" xref="alg1.l8.m1.4.4.2.2.1">←</ci><apply id="alg1.l8.m1.4.4.2.2.2.cmml" xref="alg1.l8.m1.4.4.2.2.2"><times id="alg1.l8.m1.4.4.2.2.2.1.cmml" xref="alg1.l8.m1.4.4.2.2.2.1"></times><ci id="alg1.l8.m1.4.4.2.2.2.2.cmml" xref="alg1.l8.m1.4.4.2.2.2.2">𝑡</ci><ci id="alg1.l8.m1.4.4.2.2.2.3.cmml" xref="alg1.l8.m1.4.4.2.2.2.3">𝑒</ci><ci id="alg1.l8.m1.4.4.2.2.2.4.cmml" xref="alg1.l8.m1.4.4.2.2.2.4">𝑥</ci><ci id="alg1.l8.m1.4.4.2.2.2.5.cmml" xref="alg1.l8.m1.4.4.2.2.2.5">𝑡</ci></apply><apply id="alg1.l8.m1.4.4.2.2.3.cmml" xref="alg1.l8.m1.4.4.2.2.3"><times id="alg1.l8.m1.4.4.2.2.3.1.cmml" xref="alg1.l8.m1.4.4.2.2.3.1"></times><ci id="alg1.l8.m1.4.4.2.2.3.2.cmml" xref="alg1.l8.m1.4.4.2.2.3.2">𝑟</ci><apply id="alg1.l8.m1.4.4.2.2.3.3.1.cmml" xref="alg1.l8.m1.4.4.2.2.3.3.2"><csymbol cd="latexml" id="alg1.l8.m1.4.4.2.2.3.3.1.1.cmml" xref="alg1.l8.m1.4.4.2.2.3.3.2.1">delimited-[]</csymbol><cn type="integer" id="alg1.l8.m1.2.2.cmml" xref="alg1.l8.m1.2.2">0</cn></apply></apply></apply><apply id="alg1.l8.m1.5.5.3.3.cmml" xref="alg1.l8.m1.5.5.3.3"><plus id="alg1.l8.m1.5.5.3.3.1.cmml" xref="alg1.l8.m1.5.5.3.3.1"></plus><apply id="alg1.l8.m1.5.5.3.3.2.cmml" xref="alg1.l8.m1.5.5.3.3.2"><times id="alg1.l8.m1.5.5.3.3.2.1.cmml" xref="alg1.l8.m1.5.5.3.3.2.1"></times><ci id="alg1.l8.m1.5.5.3.3.2.2.cmml" xref="alg1.l8.m1.5.5.3.3.2.2">𝑡</ci><ci id="alg1.l8.m1.5.5.3.3.2.3.cmml" xref="alg1.l8.m1.5.5.3.3.2.3">𝑒</ci><ci id="alg1.l8.m1.5.5.3.3.2.4.cmml" xref="alg1.l8.m1.5.5.3.3.2.4">𝑥</ci><ci id="alg1.l8.m1.5.5.3.3.2.5.cmml" xref="alg1.l8.m1.5.5.3.3.2.5">𝑡</ci></apply><apply id="alg1.l8.m1.5.5.3.3.3.cmml" xref="alg1.l8.m1.5.5.3.3.3"><times id="alg1.l8.m1.5.5.3.3.3.1.cmml" xref="alg1.l8.m1.5.5.3.3.3.1"></times><ci id="alg1.l8.m1.5.5.3.3.3.2.cmml" xref="alg1.l8.m1.5.5.3.3.3.2">ℎ</ci><ci id="alg1.l8.m1.5.5.3.3.3.3.cmml" xref="alg1.l8.m1.5.5.3.3.3.3">𝑖</ci><ci id="alg1.l8.m1.5.5.3.3.3.4.cmml" xref="alg1.l8.m1.5.5.3.3.3.4">𝑒</ci><ci id="alg1.l8.m1.5.5.3.3.3.5.cmml" xref="alg1.l8.m1.5.5.3.3.3.5">𝑟</ci><ci id="alg1.l8.m1.5.5.3.3.3.6.cmml" xref="alg1.l8.m1.5.5.3.3.3.6">𝑎</ci><ci id="alg1.l8.m1.5.5.3.3.3.7.cmml" xref="alg1.l8.m1.5.5.3.3.3.7">𝑟</ci><ci id="alg1.l8.m1.5.5.3.3.3.8.cmml" xref="alg1.l8.m1.5.5.3.3.3.8">𝑐</ci><ci id="alg1.l8.m1.5.5.3.3.3.9.cmml" xref="alg1.l8.m1.5.5.3.3.3.9">ℎ</ci><ci id="alg1.l8.m1.5.5.3.3.3.10.cmml" xref="alg1.l8.m1.5.5.3.3.3.10">𝑖</ci><ci id="alg1.l8.m1.5.5.3.3.3.11.cmml" xref="alg1.l8.m1.5.5.3.3.3.11">𝑐</ci><ci id="alg1.l8.m1.5.5.3.3.3.12.cmml" xref="alg1.l8.m1.5.5.3.3.3.12">𝑎</ci><ci id="alg1.l8.m1.5.5.3.3.3.13.cmml" xref="alg1.l8.m1.5.5.3.3.3.13">𝑙</ci><ci id="alg1.l8.m1.5.5.3.3.3.14.cmml" xref="alg1.l8.m1.5.5.3.3.3.14">_</ci><ci id="alg1.l8.m1.5.5.3.3.3.15.cmml" xref="alg1.l8.m1.5.5.3.3.3.15">𝑐</ci><ci id="alg1.l8.m1.5.5.3.3.3.16.cmml" xref="alg1.l8.m1.5.5.3.3.3.16">𝑒</ci><ci id="alg1.l8.m1.5.5.3.3.3.17.cmml" xref="alg1.l8.m1.5.5.3.3.3.17">𝑙</ci><ci id="alg1.l8.m1.5.5.3.3.3.18.cmml" xref="alg1.l8.m1.5.5.3.3.3.18">𝑙</ci></apply></apply><apply id="alg1.l8.m1.6.6.4.4.cmml" xref="alg1.l8.m1.6.6.4.4"><times id="alg1.l8.m1.6.6.4.4.1.cmml" xref="alg1.l8.m1.6.6.4.4.1"></times><ci id="alg1.l8.m1.6.6.4.4.2.cmml" xref="alg1.l8.m1.6.6.4.4.2">𝑡</ci><ci id="alg1.l8.m1.6.6.4.4.3.cmml" xref="alg1.l8.m1.6.6.4.4.3">𝑒</ci><ci id="alg1.l8.m1.6.6.4.4.4.cmml" xref="alg1.l8.m1.6.6.4.4.4">𝑥</ci><ci id="alg1.l8.m1.6.6.4.4.5.cmml" xref="alg1.l8.m1.6.6.4.4.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.6c">r[0].text\leftarrow r[0].text+hierarchical\_cell.text</annotation></semantics></math>

</div>
<div id="alg1.l9" class="ltx_listingline">     <span id="alg1.l9.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l9.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg1.l10" class="ltx_listingline">  <span id="alg1.l10.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l10.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l11" class="ltx_listingline">  <span id="alg1.l11.1" class="ltx_text ltx_font_bold">return</span>  <math id="alg1.l11.m1.1" class="ltx_Math" alttext="R" display="inline"><semantics id="alg1.l11.m1.1a"><mi id="alg1.l11.m1.1.1" xref="alg1.l11.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.1b"><ci id="alg1.l11.m1.1.1.cmml" xref="alg1.l11.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.1c">R</annotation></semantics></math>

</div>
</div>
</figure>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.2.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Hierarchical row prediction algorithm</figcaption>
<div id="alg2.3" class="ltx_listing ltx_listing">
<div id="alg2.l0" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l0.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>  R (a list of rows of table cells with their bounding boxes)

</div>
<div id="alg2.l0a" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="alg2.l0a.1.1.1" class="ltx_text" style="font-size:80%;">0:</span></span>  R’ (a list of rows of table cells with hierarchical information)

</div>
<div id="alg2.l1" class="ltx_listingline">  <math id="alg2.l1.m1.1" class="ltx_Math" alttext="hierarchical\_cell\leftarrow null" display="inline"><semantics id="alg2.l1.m1.1a"><mrow id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml"><mrow id="alg2.l1.m1.1.1.2" xref="alg2.l1.m1.1.1.2.cmml"><mi id="alg2.l1.m1.1.1.2.2" xref="alg2.l1.m1.1.1.2.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.3" xref="alg2.l1.m1.1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1a" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.4" xref="alg2.l1.m1.1.1.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1b" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.5" xref="alg2.l1.m1.1.1.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1c" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.6" xref="alg2.l1.m1.1.1.2.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1d" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.7" xref="alg2.l1.m1.1.1.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1e" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.8" xref="alg2.l1.m1.1.1.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1f" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.9" xref="alg2.l1.m1.1.1.2.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1g" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.10" xref="alg2.l1.m1.1.1.2.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1h" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.11" xref="alg2.l1.m1.1.1.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1i" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.12" xref="alg2.l1.m1.1.1.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1j" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.13" xref="alg2.l1.m1.1.1.2.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1k" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l1.m1.1.1.2.14" xref="alg2.l1.m1.1.1.2.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1l" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.15" xref="alg2.l1.m1.1.1.2.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1m" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.16" xref="alg2.l1.m1.1.1.2.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1n" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.17" xref="alg2.l1.m1.1.1.2.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.2.1o" xref="alg2.l1.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.2.18" xref="alg2.l1.m1.1.1.2.18.cmml">l</mi></mrow><mo stretchy="false" id="alg2.l1.m1.1.1.1" xref="alg2.l1.m1.1.1.1.cmml">←</mo><mrow id="alg2.l1.m1.1.1.3" xref="alg2.l1.m1.1.1.3.cmml"><mi id="alg2.l1.m1.1.1.3.2" xref="alg2.l1.m1.1.1.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.3.1" xref="alg2.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.3.3" xref="alg2.l1.m1.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.3.1a" xref="alg2.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.3.4" xref="alg2.l1.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l1.m1.1.1.3.1b" xref="alg2.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l1.m1.1.1.3.5" xref="alg2.l1.m1.1.1.3.5.cmml">l</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.1b"><apply id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1"><ci id="alg2.l1.m1.1.1.1.cmml" xref="alg2.l1.m1.1.1.1">←</ci><apply id="alg2.l1.m1.1.1.2.cmml" xref="alg2.l1.m1.1.1.2"><times id="alg2.l1.m1.1.1.2.1.cmml" xref="alg2.l1.m1.1.1.2.1"></times><ci id="alg2.l1.m1.1.1.2.2.cmml" xref="alg2.l1.m1.1.1.2.2">ℎ</ci><ci id="alg2.l1.m1.1.1.2.3.cmml" xref="alg2.l1.m1.1.1.2.3">𝑖</ci><ci id="alg2.l1.m1.1.1.2.4.cmml" xref="alg2.l1.m1.1.1.2.4">𝑒</ci><ci id="alg2.l1.m1.1.1.2.5.cmml" xref="alg2.l1.m1.1.1.2.5">𝑟</ci><ci id="alg2.l1.m1.1.1.2.6.cmml" xref="alg2.l1.m1.1.1.2.6">𝑎</ci><ci id="alg2.l1.m1.1.1.2.7.cmml" xref="alg2.l1.m1.1.1.2.7">𝑟</ci><ci id="alg2.l1.m1.1.1.2.8.cmml" xref="alg2.l1.m1.1.1.2.8">𝑐</ci><ci id="alg2.l1.m1.1.1.2.9.cmml" xref="alg2.l1.m1.1.1.2.9">ℎ</ci><ci id="alg2.l1.m1.1.1.2.10.cmml" xref="alg2.l1.m1.1.1.2.10">𝑖</ci><ci id="alg2.l1.m1.1.1.2.11.cmml" xref="alg2.l1.m1.1.1.2.11">𝑐</ci><ci id="alg2.l1.m1.1.1.2.12.cmml" xref="alg2.l1.m1.1.1.2.12">𝑎</ci><ci id="alg2.l1.m1.1.1.2.13.cmml" xref="alg2.l1.m1.1.1.2.13">𝑙</ci><ci id="alg2.l1.m1.1.1.2.14.cmml" xref="alg2.l1.m1.1.1.2.14">_</ci><ci id="alg2.l1.m1.1.1.2.15.cmml" xref="alg2.l1.m1.1.1.2.15">𝑐</ci><ci id="alg2.l1.m1.1.1.2.16.cmml" xref="alg2.l1.m1.1.1.2.16">𝑒</ci><ci id="alg2.l1.m1.1.1.2.17.cmml" xref="alg2.l1.m1.1.1.2.17">𝑙</ci><ci id="alg2.l1.m1.1.1.2.18.cmml" xref="alg2.l1.m1.1.1.2.18">𝑙</ci></apply><apply id="alg2.l1.m1.1.1.3.cmml" xref="alg2.l1.m1.1.1.3"><times id="alg2.l1.m1.1.1.3.1.cmml" xref="alg2.l1.m1.1.1.3.1"></times><ci id="alg2.l1.m1.1.1.3.2.cmml" xref="alg2.l1.m1.1.1.3.2">𝑛</ci><ci id="alg2.l1.m1.1.1.3.3.cmml" xref="alg2.l1.m1.1.1.3.3">𝑢</ci><ci id="alg2.l1.m1.1.1.3.4.cmml" xref="alg2.l1.m1.1.1.3.4">𝑙</ci><ci id="alg2.l1.m1.1.1.3.5.cmml" xref="alg2.l1.m1.1.1.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.1c">hierarchical\_cell\leftarrow null</annotation></semantics></math>

</div>
<div id="alg2.l2" class="ltx_listingline">  <math id="alg2.l2.m1.1" class="ltx_Math" alttext="different\_bbox\_flag\leftarrow False" display="inline"><semantics id="alg2.l2.m1.1a"><mrow id="alg2.l2.m1.1.1" xref="alg2.l2.m1.1.1.cmml"><mrow id="alg2.l2.m1.1.1.2" xref="alg2.l2.m1.1.1.2.cmml"><mi id="alg2.l2.m1.1.1.2.2" xref="alg2.l2.m1.1.1.2.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.3" xref="alg2.l2.m1.1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1a" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.4" xref="alg2.l2.m1.1.1.2.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1b" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.5" xref="alg2.l2.m1.1.1.2.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1c" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.6" xref="alg2.l2.m1.1.1.2.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1d" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.7" xref="alg2.l2.m1.1.1.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1e" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.8" xref="alg2.l2.m1.1.1.2.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1f" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.9" xref="alg2.l2.m1.1.1.2.9.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1g" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.10" xref="alg2.l2.m1.1.1.2.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1h" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l2.m1.1.1.2.11" xref="alg2.l2.m1.1.1.2.11.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1i" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.12" xref="alg2.l2.m1.1.1.2.12.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1j" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.13" xref="alg2.l2.m1.1.1.2.13.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1k" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.14" xref="alg2.l2.m1.1.1.2.14.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1l" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.15" xref="alg2.l2.m1.1.1.2.15.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1m" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l2.m1.1.1.2.16" xref="alg2.l2.m1.1.1.2.16.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1n" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.17" xref="alg2.l2.m1.1.1.2.17.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1o" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.18" xref="alg2.l2.m1.1.1.2.18.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1p" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.19" xref="alg2.l2.m1.1.1.2.19.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.2.1q" xref="alg2.l2.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.2.20" xref="alg2.l2.m1.1.1.2.20.cmml">g</mi></mrow><mo stretchy="false" id="alg2.l2.m1.1.1.1" xref="alg2.l2.m1.1.1.1.cmml">←</mo><mrow id="alg2.l2.m1.1.1.3" xref="alg2.l2.m1.1.1.3.cmml"><mi id="alg2.l2.m1.1.1.3.2" xref="alg2.l2.m1.1.1.3.2.cmml">F</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.1" xref="alg2.l2.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.3" xref="alg2.l2.m1.1.1.3.3.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.1a" xref="alg2.l2.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.4" xref="alg2.l2.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.1b" xref="alg2.l2.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.5" xref="alg2.l2.m1.1.1.3.5.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg2.l2.m1.1.1.3.1c" xref="alg2.l2.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l2.m1.1.1.3.6" xref="alg2.l2.m1.1.1.3.6.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.1b"><apply id="alg2.l2.m1.1.1.cmml" xref="alg2.l2.m1.1.1"><ci id="alg2.l2.m1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1">←</ci><apply id="alg2.l2.m1.1.1.2.cmml" xref="alg2.l2.m1.1.1.2"><times id="alg2.l2.m1.1.1.2.1.cmml" xref="alg2.l2.m1.1.1.2.1"></times><ci id="alg2.l2.m1.1.1.2.2.cmml" xref="alg2.l2.m1.1.1.2.2">𝑑</ci><ci id="alg2.l2.m1.1.1.2.3.cmml" xref="alg2.l2.m1.1.1.2.3">𝑖</ci><ci id="alg2.l2.m1.1.1.2.4.cmml" xref="alg2.l2.m1.1.1.2.4">𝑓</ci><ci id="alg2.l2.m1.1.1.2.5.cmml" xref="alg2.l2.m1.1.1.2.5">𝑓</ci><ci id="alg2.l2.m1.1.1.2.6.cmml" xref="alg2.l2.m1.1.1.2.6">𝑒</ci><ci id="alg2.l2.m1.1.1.2.7.cmml" xref="alg2.l2.m1.1.1.2.7">𝑟</ci><ci id="alg2.l2.m1.1.1.2.8.cmml" xref="alg2.l2.m1.1.1.2.8">𝑒</ci><ci id="alg2.l2.m1.1.1.2.9.cmml" xref="alg2.l2.m1.1.1.2.9">𝑛</ci><ci id="alg2.l2.m1.1.1.2.10.cmml" xref="alg2.l2.m1.1.1.2.10">𝑡</ci><ci id="alg2.l2.m1.1.1.2.11.cmml" xref="alg2.l2.m1.1.1.2.11">_</ci><ci id="alg2.l2.m1.1.1.2.12.cmml" xref="alg2.l2.m1.1.1.2.12">𝑏</ci><ci id="alg2.l2.m1.1.1.2.13.cmml" xref="alg2.l2.m1.1.1.2.13">𝑏</ci><ci id="alg2.l2.m1.1.1.2.14.cmml" xref="alg2.l2.m1.1.1.2.14">𝑜</ci><ci id="alg2.l2.m1.1.1.2.15.cmml" xref="alg2.l2.m1.1.1.2.15">𝑥</ci><ci id="alg2.l2.m1.1.1.2.16.cmml" xref="alg2.l2.m1.1.1.2.16">_</ci><ci id="alg2.l2.m1.1.1.2.17.cmml" xref="alg2.l2.m1.1.1.2.17">𝑓</ci><ci id="alg2.l2.m1.1.1.2.18.cmml" xref="alg2.l2.m1.1.1.2.18">𝑙</ci><ci id="alg2.l2.m1.1.1.2.19.cmml" xref="alg2.l2.m1.1.1.2.19">𝑎</ci><ci id="alg2.l2.m1.1.1.2.20.cmml" xref="alg2.l2.m1.1.1.2.20">𝑔</ci></apply><apply id="alg2.l2.m1.1.1.3.cmml" xref="alg2.l2.m1.1.1.3"><times id="alg2.l2.m1.1.1.3.1.cmml" xref="alg2.l2.m1.1.1.3.1"></times><ci id="alg2.l2.m1.1.1.3.2.cmml" xref="alg2.l2.m1.1.1.3.2">𝐹</ci><ci id="alg2.l2.m1.1.1.3.3.cmml" xref="alg2.l2.m1.1.1.3.3">𝑎</ci><ci id="alg2.l2.m1.1.1.3.4.cmml" xref="alg2.l2.m1.1.1.3.4">𝑙</ci><ci id="alg2.l2.m1.1.1.3.5.cmml" xref="alg2.l2.m1.1.1.3.5">𝑠</ci><ci id="alg2.l2.m1.1.1.3.6.cmml" xref="alg2.l2.m1.1.1.3.6">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.1c">different\_bbox\_flag\leftarrow False</annotation></semantics></math>

</div>
<div id="alg2.l3" class="ltx_listingline">  <span id="alg2.l3.1" class="ltx_text ltx_font_bold">for</span> r in R <span id="alg2.l3.2" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="alg2.l4" class="ltx_listingline">     <span id="alg2.l4.1" class="ltx_text ltx_font_bold">if</span> r[0] is a colspan cell OR r[1] is an empty cell <span id="alg2.l4.2" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l5" class="ltx_listingline">        <math id="alg2.l5.m1.1" class="ltx_Math" alttext="hierarchical\_cell\leftarrow r[0]" display="inline"><semantics id="alg2.l5.m1.1a"><mrow id="alg2.l5.m1.1.2" xref="alg2.l5.m1.1.2.cmml"><mrow id="alg2.l5.m1.1.2.2" xref="alg2.l5.m1.1.2.2.cmml"><mi id="alg2.l5.m1.1.2.2.2" xref="alg2.l5.m1.1.2.2.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.3" xref="alg2.l5.m1.1.2.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1a" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.4" xref="alg2.l5.m1.1.2.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1b" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.5" xref="alg2.l5.m1.1.2.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1c" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.6" xref="alg2.l5.m1.1.2.2.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1d" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.7" xref="alg2.l5.m1.1.2.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1e" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.8" xref="alg2.l5.m1.1.2.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1f" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.9" xref="alg2.l5.m1.1.2.2.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1g" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.10" xref="alg2.l5.m1.1.2.2.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1h" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.11" xref="alg2.l5.m1.1.2.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1i" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.12" xref="alg2.l5.m1.1.2.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1j" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.13" xref="alg2.l5.m1.1.2.2.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1k" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l5.m1.1.2.2.14" xref="alg2.l5.m1.1.2.2.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1l" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.15" xref="alg2.l5.m1.1.2.2.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1m" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.16" xref="alg2.l5.m1.1.2.2.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1n" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.17" xref="alg2.l5.m1.1.2.2.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.2.1o" xref="alg2.l5.m1.1.2.2.1.cmml">​</mo><mi id="alg2.l5.m1.1.2.2.18" xref="alg2.l5.m1.1.2.2.18.cmml">l</mi></mrow><mo stretchy="false" id="alg2.l5.m1.1.2.1" xref="alg2.l5.m1.1.2.1.cmml">←</mo><mrow id="alg2.l5.m1.1.2.3" xref="alg2.l5.m1.1.2.3.cmml"><mi id="alg2.l5.m1.1.2.3.2" xref="alg2.l5.m1.1.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l5.m1.1.2.3.1" xref="alg2.l5.m1.1.2.3.1.cmml">​</mo><mrow id="alg2.l5.m1.1.2.3.3.2" xref="alg2.l5.m1.1.2.3.3.1.cmml"><mo stretchy="false" id="alg2.l5.m1.1.2.3.3.2.1" xref="alg2.l5.m1.1.2.3.3.1.1.cmml">[</mo><mn id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml">0</mn><mo stretchy="false" id="alg2.l5.m1.1.2.3.3.2.2" xref="alg2.l5.m1.1.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><apply id="alg2.l5.m1.1.2.cmml" xref="alg2.l5.m1.1.2"><ci id="alg2.l5.m1.1.2.1.cmml" xref="alg2.l5.m1.1.2.1">←</ci><apply id="alg2.l5.m1.1.2.2.cmml" xref="alg2.l5.m1.1.2.2"><times id="alg2.l5.m1.1.2.2.1.cmml" xref="alg2.l5.m1.1.2.2.1"></times><ci id="alg2.l5.m1.1.2.2.2.cmml" xref="alg2.l5.m1.1.2.2.2">ℎ</ci><ci id="alg2.l5.m1.1.2.2.3.cmml" xref="alg2.l5.m1.1.2.2.3">𝑖</ci><ci id="alg2.l5.m1.1.2.2.4.cmml" xref="alg2.l5.m1.1.2.2.4">𝑒</ci><ci id="alg2.l5.m1.1.2.2.5.cmml" xref="alg2.l5.m1.1.2.2.5">𝑟</ci><ci id="alg2.l5.m1.1.2.2.6.cmml" xref="alg2.l5.m1.1.2.2.6">𝑎</ci><ci id="alg2.l5.m1.1.2.2.7.cmml" xref="alg2.l5.m1.1.2.2.7">𝑟</ci><ci id="alg2.l5.m1.1.2.2.8.cmml" xref="alg2.l5.m1.1.2.2.8">𝑐</ci><ci id="alg2.l5.m1.1.2.2.9.cmml" xref="alg2.l5.m1.1.2.2.9">ℎ</ci><ci id="alg2.l5.m1.1.2.2.10.cmml" xref="alg2.l5.m1.1.2.2.10">𝑖</ci><ci id="alg2.l5.m1.1.2.2.11.cmml" xref="alg2.l5.m1.1.2.2.11">𝑐</ci><ci id="alg2.l5.m1.1.2.2.12.cmml" xref="alg2.l5.m1.1.2.2.12">𝑎</ci><ci id="alg2.l5.m1.1.2.2.13.cmml" xref="alg2.l5.m1.1.2.2.13">𝑙</ci><ci id="alg2.l5.m1.1.2.2.14.cmml" xref="alg2.l5.m1.1.2.2.14">_</ci><ci id="alg2.l5.m1.1.2.2.15.cmml" xref="alg2.l5.m1.1.2.2.15">𝑐</ci><ci id="alg2.l5.m1.1.2.2.16.cmml" xref="alg2.l5.m1.1.2.2.16">𝑒</ci><ci id="alg2.l5.m1.1.2.2.17.cmml" xref="alg2.l5.m1.1.2.2.17">𝑙</ci><ci id="alg2.l5.m1.1.2.2.18.cmml" xref="alg2.l5.m1.1.2.2.18">𝑙</ci></apply><apply id="alg2.l5.m1.1.2.3.cmml" xref="alg2.l5.m1.1.2.3"><times id="alg2.l5.m1.1.2.3.1.cmml" xref="alg2.l5.m1.1.2.3.1"></times><ci id="alg2.l5.m1.1.2.3.2.cmml" xref="alg2.l5.m1.1.2.3.2">𝑟</ci><apply id="alg2.l5.m1.1.2.3.3.1.cmml" xref="alg2.l5.m1.1.2.3.3.2"><csymbol cd="latexml" id="alg2.l5.m1.1.2.3.3.1.1.cmml" xref="alg2.l5.m1.1.2.3.3.2.1">delimited-[]</csymbol><cn type="integer" id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">hierarchical\_cell\leftarrow r[0]</annotation></semantics></math>

</div>
<div id="alg2.l6" class="ltx_listingline">     <span id="alg2.l6.1" class="ltx_text ltx_font_bold">else</span> <span id="alg2.l6.2" class="ltx_text ltx_font_bold">if</span> r[0] is a rowspan cell OR r[0] is an empty cell <span id="alg2.l6.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l7" class="ltx_listingline">        <math id="alg2.l7.m1.1" class="ltx_Math" alttext="hierarchical\_cell\leftarrow null" display="inline"><semantics id="alg2.l7.m1.1a"><mrow id="alg2.l7.m1.1.1" xref="alg2.l7.m1.1.1.cmml"><mrow id="alg2.l7.m1.1.1.2" xref="alg2.l7.m1.1.1.2.cmml"><mi id="alg2.l7.m1.1.1.2.2" xref="alg2.l7.m1.1.1.2.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.3" xref="alg2.l7.m1.1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1a" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.4" xref="alg2.l7.m1.1.1.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1b" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.5" xref="alg2.l7.m1.1.1.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1c" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.6" xref="alg2.l7.m1.1.1.2.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1d" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.7" xref="alg2.l7.m1.1.1.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1e" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.8" xref="alg2.l7.m1.1.1.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1f" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.9" xref="alg2.l7.m1.1.1.2.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1g" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.10" xref="alg2.l7.m1.1.1.2.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1h" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.11" xref="alg2.l7.m1.1.1.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1i" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.12" xref="alg2.l7.m1.1.1.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1j" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.13" xref="alg2.l7.m1.1.1.2.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1k" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l7.m1.1.1.2.14" xref="alg2.l7.m1.1.1.2.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1l" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.15" xref="alg2.l7.m1.1.1.2.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1m" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.16" xref="alg2.l7.m1.1.1.2.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1n" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.17" xref="alg2.l7.m1.1.1.2.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.2.1o" xref="alg2.l7.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.2.18" xref="alg2.l7.m1.1.1.2.18.cmml">l</mi></mrow><mo stretchy="false" id="alg2.l7.m1.1.1.1" xref="alg2.l7.m1.1.1.1.cmml">←</mo><mrow id="alg2.l7.m1.1.1.3" xref="alg2.l7.m1.1.1.3.cmml"><mi id="alg2.l7.m1.1.1.3.2" xref="alg2.l7.m1.1.1.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.3.1" xref="alg2.l7.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.3.3" xref="alg2.l7.m1.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.3.1a" xref="alg2.l7.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.3.4" xref="alg2.l7.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l7.m1.1.1.3.1b" xref="alg2.l7.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l7.m1.1.1.3.5" xref="alg2.l7.m1.1.1.3.5.cmml">l</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m1.1b"><apply id="alg2.l7.m1.1.1.cmml" xref="alg2.l7.m1.1.1"><ci id="alg2.l7.m1.1.1.1.cmml" xref="alg2.l7.m1.1.1.1">←</ci><apply id="alg2.l7.m1.1.1.2.cmml" xref="alg2.l7.m1.1.1.2"><times id="alg2.l7.m1.1.1.2.1.cmml" xref="alg2.l7.m1.1.1.2.1"></times><ci id="alg2.l7.m1.1.1.2.2.cmml" xref="alg2.l7.m1.1.1.2.2">ℎ</ci><ci id="alg2.l7.m1.1.1.2.3.cmml" xref="alg2.l7.m1.1.1.2.3">𝑖</ci><ci id="alg2.l7.m1.1.1.2.4.cmml" xref="alg2.l7.m1.1.1.2.4">𝑒</ci><ci id="alg2.l7.m1.1.1.2.5.cmml" xref="alg2.l7.m1.1.1.2.5">𝑟</ci><ci id="alg2.l7.m1.1.1.2.6.cmml" xref="alg2.l7.m1.1.1.2.6">𝑎</ci><ci id="alg2.l7.m1.1.1.2.7.cmml" xref="alg2.l7.m1.1.1.2.7">𝑟</ci><ci id="alg2.l7.m1.1.1.2.8.cmml" xref="alg2.l7.m1.1.1.2.8">𝑐</ci><ci id="alg2.l7.m1.1.1.2.9.cmml" xref="alg2.l7.m1.1.1.2.9">ℎ</ci><ci id="alg2.l7.m1.1.1.2.10.cmml" xref="alg2.l7.m1.1.1.2.10">𝑖</ci><ci id="alg2.l7.m1.1.1.2.11.cmml" xref="alg2.l7.m1.1.1.2.11">𝑐</ci><ci id="alg2.l7.m1.1.1.2.12.cmml" xref="alg2.l7.m1.1.1.2.12">𝑎</ci><ci id="alg2.l7.m1.1.1.2.13.cmml" xref="alg2.l7.m1.1.1.2.13">𝑙</ci><ci id="alg2.l7.m1.1.1.2.14.cmml" xref="alg2.l7.m1.1.1.2.14">_</ci><ci id="alg2.l7.m1.1.1.2.15.cmml" xref="alg2.l7.m1.1.1.2.15">𝑐</ci><ci id="alg2.l7.m1.1.1.2.16.cmml" xref="alg2.l7.m1.1.1.2.16">𝑒</ci><ci id="alg2.l7.m1.1.1.2.17.cmml" xref="alg2.l7.m1.1.1.2.17">𝑙</ci><ci id="alg2.l7.m1.1.1.2.18.cmml" xref="alg2.l7.m1.1.1.2.18">𝑙</ci></apply><apply id="alg2.l7.m1.1.1.3.cmml" xref="alg2.l7.m1.1.1.3"><times id="alg2.l7.m1.1.1.3.1.cmml" xref="alg2.l7.m1.1.1.3.1"></times><ci id="alg2.l7.m1.1.1.3.2.cmml" xref="alg2.l7.m1.1.1.3.2">𝑛</ci><ci id="alg2.l7.m1.1.1.3.3.cmml" xref="alg2.l7.m1.1.1.3.3">𝑢</ci><ci id="alg2.l7.m1.1.1.3.4.cmml" xref="alg2.l7.m1.1.1.3.4">𝑙</ci><ci id="alg2.l7.m1.1.1.3.5.cmml" xref="alg2.l7.m1.1.1.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m1.1c">hierarchical\_cell\leftarrow null</annotation></semantics></math>

</div>
<div id="alg2.l8" class="ltx_listingline">     <span id="alg2.l8.1" class="ltx_text ltx_font_bold">else</span> <span id="alg2.l8.2" class="ltx_text ltx_font_bold">if</span> <math id="alg2.l8.m1.1" class="ltx_Math" alttext="different\_bbox\_flag" display="inline"><semantics id="alg2.l8.m1.1a"><mrow id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1.cmml"><mi id="alg2.l8.m1.1.1.2" xref="alg2.l8.m1.1.1.2.cmml">d</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.3" xref="alg2.l8.m1.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1a" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.4" xref="alg2.l8.m1.1.1.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1b" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.5" xref="alg2.l8.m1.1.1.5.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1c" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.6" xref="alg2.l8.m1.1.1.6.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1d" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.7" xref="alg2.l8.m1.1.1.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1e" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.8" xref="alg2.l8.m1.1.1.8.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1f" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.9" xref="alg2.l8.m1.1.1.9.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1g" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.10" xref="alg2.l8.m1.1.1.10.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1h" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l8.m1.1.1.11" xref="alg2.l8.m1.1.1.11.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1i" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.12" xref="alg2.l8.m1.1.1.12.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1j" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.13" xref="alg2.l8.m1.1.1.13.cmml">b</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1k" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.14" xref="alg2.l8.m1.1.1.14.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1l" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.15" xref="alg2.l8.m1.1.1.15.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1m" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l8.m1.1.1.16" xref="alg2.l8.m1.1.1.16.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1n" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.17" xref="alg2.l8.m1.1.1.17.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1o" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.18" xref="alg2.l8.m1.1.1.18.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1p" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.19" xref="alg2.l8.m1.1.1.19.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m1.1.1.1q" xref="alg2.l8.m1.1.1.1.cmml">​</mo><mi id="alg2.l8.m1.1.1.20" xref="alg2.l8.m1.1.1.20.cmml">g</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.1b"><apply id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1"><times id="alg2.l8.m1.1.1.1.cmml" xref="alg2.l8.m1.1.1.1"></times><ci id="alg2.l8.m1.1.1.2.cmml" xref="alg2.l8.m1.1.1.2">𝑑</ci><ci id="alg2.l8.m1.1.1.3.cmml" xref="alg2.l8.m1.1.1.3">𝑖</ci><ci id="alg2.l8.m1.1.1.4.cmml" xref="alg2.l8.m1.1.1.4">𝑓</ci><ci id="alg2.l8.m1.1.1.5.cmml" xref="alg2.l8.m1.1.1.5">𝑓</ci><ci id="alg2.l8.m1.1.1.6.cmml" xref="alg2.l8.m1.1.1.6">𝑒</ci><ci id="alg2.l8.m1.1.1.7.cmml" xref="alg2.l8.m1.1.1.7">𝑟</ci><ci id="alg2.l8.m1.1.1.8.cmml" xref="alg2.l8.m1.1.1.8">𝑒</ci><ci id="alg2.l8.m1.1.1.9.cmml" xref="alg2.l8.m1.1.1.9">𝑛</ci><ci id="alg2.l8.m1.1.1.10.cmml" xref="alg2.l8.m1.1.1.10">𝑡</ci><ci id="alg2.l8.m1.1.1.11.cmml" xref="alg2.l8.m1.1.1.11">_</ci><ci id="alg2.l8.m1.1.1.12.cmml" xref="alg2.l8.m1.1.1.12">𝑏</ci><ci id="alg2.l8.m1.1.1.13.cmml" xref="alg2.l8.m1.1.1.13">𝑏</ci><ci id="alg2.l8.m1.1.1.14.cmml" xref="alg2.l8.m1.1.1.14">𝑜</ci><ci id="alg2.l8.m1.1.1.15.cmml" xref="alg2.l8.m1.1.1.15">𝑥</ci><ci id="alg2.l8.m1.1.1.16.cmml" xref="alg2.l8.m1.1.1.16">_</ci><ci id="alg2.l8.m1.1.1.17.cmml" xref="alg2.l8.m1.1.1.17">𝑓</ci><ci id="alg2.l8.m1.1.1.18.cmml" xref="alg2.l8.m1.1.1.18">𝑙</ci><ci id="alg2.l8.m1.1.1.19.cmml" xref="alg2.l8.m1.1.1.19">𝑎</ci><ci id="alg2.l8.m1.1.1.20.cmml" xref="alg2.l8.m1.1.1.20">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.1c">different\_bbox\_flag</annotation></semantics></math> AND r[0].left_bbox - <math id="alg2.l8.m2.1" class="ltx_Math" alttext="hierarchical\_cell" display="inline"><semantics id="alg2.l8.m2.1a"><mrow id="alg2.l8.m2.1.1" xref="alg2.l8.m2.1.1.cmml"><mi id="alg2.l8.m2.1.1.2" xref="alg2.l8.m2.1.1.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.3" xref="alg2.l8.m2.1.1.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1a" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.4" xref="alg2.l8.m2.1.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1b" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.5" xref="alg2.l8.m2.1.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1c" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.6" xref="alg2.l8.m2.1.1.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1d" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.7" xref="alg2.l8.m2.1.1.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1e" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.8" xref="alg2.l8.m2.1.1.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1f" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.9" xref="alg2.l8.m2.1.1.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1g" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.10" xref="alg2.l8.m2.1.1.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1h" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.11" xref="alg2.l8.m2.1.1.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1i" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.12" xref="alg2.l8.m2.1.1.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1j" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.13" xref="alg2.l8.m2.1.1.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1k" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l8.m2.1.1.14" xref="alg2.l8.m2.1.1.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1l" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.15" xref="alg2.l8.m2.1.1.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1m" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.16" xref="alg2.l8.m2.1.1.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1n" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.17" xref="alg2.l8.m2.1.1.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l8.m2.1.1.1o" xref="alg2.l8.m2.1.1.1.cmml">​</mo><mi id="alg2.l8.m2.1.1.18" xref="alg2.l8.m2.1.1.18.cmml">l</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m2.1b"><apply id="alg2.l8.m2.1.1.cmml" xref="alg2.l8.m2.1.1"><times id="alg2.l8.m2.1.1.1.cmml" xref="alg2.l8.m2.1.1.1"></times><ci id="alg2.l8.m2.1.1.2.cmml" xref="alg2.l8.m2.1.1.2">ℎ</ci><ci id="alg2.l8.m2.1.1.3.cmml" xref="alg2.l8.m2.1.1.3">𝑖</ci><ci id="alg2.l8.m2.1.1.4.cmml" xref="alg2.l8.m2.1.1.4">𝑒</ci><ci id="alg2.l8.m2.1.1.5.cmml" xref="alg2.l8.m2.1.1.5">𝑟</ci><ci id="alg2.l8.m2.1.1.6.cmml" xref="alg2.l8.m2.1.1.6">𝑎</ci><ci id="alg2.l8.m2.1.1.7.cmml" xref="alg2.l8.m2.1.1.7">𝑟</ci><ci id="alg2.l8.m2.1.1.8.cmml" xref="alg2.l8.m2.1.1.8">𝑐</ci><ci id="alg2.l8.m2.1.1.9.cmml" xref="alg2.l8.m2.1.1.9">ℎ</ci><ci id="alg2.l8.m2.1.1.10.cmml" xref="alg2.l8.m2.1.1.10">𝑖</ci><ci id="alg2.l8.m2.1.1.11.cmml" xref="alg2.l8.m2.1.1.11">𝑐</ci><ci id="alg2.l8.m2.1.1.12.cmml" xref="alg2.l8.m2.1.1.12">𝑎</ci><ci id="alg2.l8.m2.1.1.13.cmml" xref="alg2.l8.m2.1.1.13">𝑙</ci><ci id="alg2.l8.m2.1.1.14.cmml" xref="alg2.l8.m2.1.1.14">_</ci><ci id="alg2.l8.m2.1.1.15.cmml" xref="alg2.l8.m2.1.1.15">𝑐</ci><ci id="alg2.l8.m2.1.1.16.cmml" xref="alg2.l8.m2.1.1.16">𝑒</ci><ci id="alg2.l8.m2.1.1.17.cmml" xref="alg2.l8.m2.1.1.17">𝑙</ci><ci id="alg2.l8.m2.1.1.18.cmml" xref="alg2.l8.m2.1.1.18">𝑙</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m2.1c">hierarchical\_cell</annotation></semantics></math>.left_bbox ¡ threshold <span id="alg2.l8.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l9" class="ltx_listingline">        <math id="alg2.l9.m1.1" class="ltx_Math" alttext="hierarchical\_cell\leftarrow null" display="inline"><semantics id="alg2.l9.m1.1a"><mrow id="alg2.l9.m1.1.1" xref="alg2.l9.m1.1.1.cmml"><mrow id="alg2.l9.m1.1.1.2" xref="alg2.l9.m1.1.1.2.cmml"><mi id="alg2.l9.m1.1.1.2.2" xref="alg2.l9.m1.1.1.2.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.3" xref="alg2.l9.m1.1.1.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1a" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.4" xref="alg2.l9.m1.1.1.2.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1b" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.5" xref="alg2.l9.m1.1.1.2.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1c" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.6" xref="alg2.l9.m1.1.1.2.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1d" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.7" xref="alg2.l9.m1.1.1.2.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1e" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.8" xref="alg2.l9.m1.1.1.2.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1f" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.9" xref="alg2.l9.m1.1.1.2.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1g" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.10" xref="alg2.l9.m1.1.1.2.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1h" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.11" xref="alg2.l9.m1.1.1.2.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1i" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.12" xref="alg2.l9.m1.1.1.2.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1j" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.13" xref="alg2.l9.m1.1.1.2.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1k" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l9.m1.1.1.2.14" xref="alg2.l9.m1.1.1.2.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1l" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.15" xref="alg2.l9.m1.1.1.2.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1m" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.16" xref="alg2.l9.m1.1.1.2.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1n" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.17" xref="alg2.l9.m1.1.1.2.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.2.1o" xref="alg2.l9.m1.1.1.2.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.2.18" xref="alg2.l9.m1.1.1.2.18.cmml">l</mi></mrow><mo stretchy="false" id="alg2.l9.m1.1.1.1" xref="alg2.l9.m1.1.1.1.cmml">←</mo><mrow id="alg2.l9.m1.1.1.3" xref="alg2.l9.m1.1.1.3.cmml"><mi id="alg2.l9.m1.1.1.3.2" xref="alg2.l9.m1.1.1.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.3.1" xref="alg2.l9.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.3.3" xref="alg2.l9.m1.1.1.3.3.cmml">u</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.3.1a" xref="alg2.l9.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.3.4" xref="alg2.l9.m1.1.1.3.4.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l9.m1.1.1.3.1b" xref="alg2.l9.m1.1.1.3.1.cmml">​</mo><mi id="alg2.l9.m1.1.1.3.5" xref="alg2.l9.m1.1.1.3.5.cmml">l</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.1b"><apply id="alg2.l9.m1.1.1.cmml" xref="alg2.l9.m1.1.1"><ci id="alg2.l9.m1.1.1.1.cmml" xref="alg2.l9.m1.1.1.1">←</ci><apply id="alg2.l9.m1.1.1.2.cmml" xref="alg2.l9.m1.1.1.2"><times id="alg2.l9.m1.1.1.2.1.cmml" xref="alg2.l9.m1.1.1.2.1"></times><ci id="alg2.l9.m1.1.1.2.2.cmml" xref="alg2.l9.m1.1.1.2.2">ℎ</ci><ci id="alg2.l9.m1.1.1.2.3.cmml" xref="alg2.l9.m1.1.1.2.3">𝑖</ci><ci id="alg2.l9.m1.1.1.2.4.cmml" xref="alg2.l9.m1.1.1.2.4">𝑒</ci><ci id="alg2.l9.m1.1.1.2.5.cmml" xref="alg2.l9.m1.1.1.2.5">𝑟</ci><ci id="alg2.l9.m1.1.1.2.6.cmml" xref="alg2.l9.m1.1.1.2.6">𝑎</ci><ci id="alg2.l9.m1.1.1.2.7.cmml" xref="alg2.l9.m1.1.1.2.7">𝑟</ci><ci id="alg2.l9.m1.1.1.2.8.cmml" xref="alg2.l9.m1.1.1.2.8">𝑐</ci><ci id="alg2.l9.m1.1.1.2.9.cmml" xref="alg2.l9.m1.1.1.2.9">ℎ</ci><ci id="alg2.l9.m1.1.1.2.10.cmml" xref="alg2.l9.m1.1.1.2.10">𝑖</ci><ci id="alg2.l9.m1.1.1.2.11.cmml" xref="alg2.l9.m1.1.1.2.11">𝑐</ci><ci id="alg2.l9.m1.1.1.2.12.cmml" xref="alg2.l9.m1.1.1.2.12">𝑎</ci><ci id="alg2.l9.m1.1.1.2.13.cmml" xref="alg2.l9.m1.1.1.2.13">𝑙</ci><ci id="alg2.l9.m1.1.1.2.14.cmml" xref="alg2.l9.m1.1.1.2.14">_</ci><ci id="alg2.l9.m1.1.1.2.15.cmml" xref="alg2.l9.m1.1.1.2.15">𝑐</ci><ci id="alg2.l9.m1.1.1.2.16.cmml" xref="alg2.l9.m1.1.1.2.16">𝑒</ci><ci id="alg2.l9.m1.1.1.2.17.cmml" xref="alg2.l9.m1.1.1.2.17">𝑙</ci><ci id="alg2.l9.m1.1.1.2.18.cmml" xref="alg2.l9.m1.1.1.2.18">𝑙</ci></apply><apply id="alg2.l9.m1.1.1.3.cmml" xref="alg2.l9.m1.1.1.3"><times id="alg2.l9.m1.1.1.3.1.cmml" xref="alg2.l9.m1.1.1.3.1"></times><ci id="alg2.l9.m1.1.1.3.2.cmml" xref="alg2.l9.m1.1.1.3.2">𝑛</ci><ci id="alg2.l9.m1.1.1.3.3.cmml" xref="alg2.l9.m1.1.1.3.3">𝑢</ci><ci id="alg2.l9.m1.1.1.3.4.cmml" xref="alg2.l9.m1.1.1.3.4">𝑙</ci><ci id="alg2.l9.m1.1.1.3.5.cmml" xref="alg2.l9.m1.1.1.3.5">𝑙</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.1c">hierarchical\_cell\leftarrow null</annotation></semantics></math>

</div>
<div id="alg2.l10" class="ltx_listingline">     <span id="alg2.l10.1" class="ltx_text ltx_font_bold">else</span> <span id="alg2.l10.2" class="ltx_text ltx_font_bold">if</span> hierarchical_cell is not null <span id="alg2.l10.3" class="ltx_text ltx_font_bold">then</span>



</div>
<div id="alg2.l11" class="ltx_listingline">        <math id="alg2.l11.m1.6" class="ltx_Math" alttext="r[0].text\leftarrow r[0].text+hierarchical\_cell.text" display="inline"><semantics id="alg2.l11.m1.6a"><mrow id="alg2.l11.m1.6.6.4" xref="alg2.l11.m1.6.6.5.cmml"><mrow id="alg2.l11.m1.3.3.1.1" xref="alg2.l11.m1.3.3.1.1.cmml"><mi id="alg2.l11.m1.3.3.1.1.2" xref="alg2.l11.m1.3.3.1.1.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.3.3.1.1.1" xref="alg2.l11.m1.3.3.1.1.1.cmml">​</mo><mrow id="alg2.l11.m1.3.3.1.1.3.2" xref="alg2.l11.m1.3.3.1.1.3.1.cmml"><mo stretchy="false" id="alg2.l11.m1.3.3.1.1.3.2.1" xref="alg2.l11.m1.3.3.1.1.3.1.1.cmml">[</mo><mn id="alg2.l11.m1.1.1" xref="alg2.l11.m1.1.1.cmml">0</mn><mo stretchy="false" id="alg2.l11.m1.3.3.1.1.3.2.2" xref="alg2.l11.m1.3.3.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo lspace="0em" rspace="0.167em" id="alg2.l11.m1.6.6.4.5" xref="alg2.l11.m1.6.6.5a.cmml">.</mo><mrow id="alg2.l11.m1.4.4.2.2" xref="alg2.l11.m1.4.4.2.2.cmml"><mrow id="alg2.l11.m1.4.4.2.2.2" xref="alg2.l11.m1.4.4.2.2.2.cmml"><mi id="alg2.l11.m1.4.4.2.2.2.2" xref="alg2.l11.m1.4.4.2.2.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.4.4.2.2.2.1" xref="alg2.l11.m1.4.4.2.2.2.1.cmml">​</mo><mi id="alg2.l11.m1.4.4.2.2.2.3" xref="alg2.l11.m1.4.4.2.2.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.4.4.2.2.2.1a" xref="alg2.l11.m1.4.4.2.2.2.1.cmml">​</mo><mi id="alg2.l11.m1.4.4.2.2.2.4" xref="alg2.l11.m1.4.4.2.2.2.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.4.4.2.2.2.1b" xref="alg2.l11.m1.4.4.2.2.2.1.cmml">​</mo><mi id="alg2.l11.m1.4.4.2.2.2.5" xref="alg2.l11.m1.4.4.2.2.2.5.cmml">t</mi></mrow><mo stretchy="false" id="alg2.l11.m1.4.4.2.2.1" xref="alg2.l11.m1.4.4.2.2.1.cmml">←</mo><mrow id="alg2.l11.m1.4.4.2.2.3" xref="alg2.l11.m1.4.4.2.2.3.cmml"><mi id="alg2.l11.m1.4.4.2.2.3.2" xref="alg2.l11.m1.4.4.2.2.3.2.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.4.4.2.2.3.1" xref="alg2.l11.m1.4.4.2.2.3.1.cmml">​</mo><mrow id="alg2.l11.m1.4.4.2.2.3.3.2" xref="alg2.l11.m1.4.4.2.2.3.3.1.cmml"><mo stretchy="false" id="alg2.l11.m1.4.4.2.2.3.3.2.1" xref="alg2.l11.m1.4.4.2.2.3.3.1.1.cmml">[</mo><mn id="alg2.l11.m1.2.2" xref="alg2.l11.m1.2.2.cmml">0</mn><mo stretchy="false" id="alg2.l11.m1.4.4.2.2.3.3.2.2" xref="alg2.l11.m1.4.4.2.2.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><mo lspace="0em" rspace="0.167em" id="alg2.l11.m1.6.6.4.6" xref="alg2.l11.m1.6.6.5a.cmml">.</mo><mrow id="alg2.l11.m1.5.5.3.3" xref="alg2.l11.m1.5.5.3.3.cmml"><mrow id="alg2.l11.m1.5.5.3.3.2" xref="alg2.l11.m1.5.5.3.3.2.cmml"><mi id="alg2.l11.m1.5.5.3.3.2.2" xref="alg2.l11.m1.5.5.3.3.2.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.2.1" xref="alg2.l11.m1.5.5.3.3.2.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.2.3" xref="alg2.l11.m1.5.5.3.3.2.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.2.1a" xref="alg2.l11.m1.5.5.3.3.2.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.2.4" xref="alg2.l11.m1.5.5.3.3.2.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.2.1b" xref="alg2.l11.m1.5.5.3.3.2.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.2.5" xref="alg2.l11.m1.5.5.3.3.2.5.cmml">t</mi></mrow><mo id="alg2.l11.m1.5.5.3.3.1" xref="alg2.l11.m1.5.5.3.3.1.cmml">+</mo><mrow id="alg2.l11.m1.5.5.3.3.3" xref="alg2.l11.m1.5.5.3.3.3.cmml"><mi id="alg2.l11.m1.5.5.3.3.3.2" xref="alg2.l11.m1.5.5.3.3.3.2.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.3" xref="alg2.l11.m1.5.5.3.3.3.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1a" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.4" xref="alg2.l11.m1.5.5.3.3.3.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1b" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.5" xref="alg2.l11.m1.5.5.3.3.3.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1c" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.6" xref="alg2.l11.m1.5.5.3.3.3.6.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1d" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.7" xref="alg2.l11.m1.5.5.3.3.3.7.cmml">r</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1e" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.8" xref="alg2.l11.m1.5.5.3.3.3.8.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1f" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.9" xref="alg2.l11.m1.5.5.3.3.3.9.cmml">h</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1g" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.10" xref="alg2.l11.m1.5.5.3.3.3.10.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1h" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.11" xref="alg2.l11.m1.5.5.3.3.3.11.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1i" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.12" xref="alg2.l11.m1.5.5.3.3.3.12.cmml">a</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1j" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.13" xref="alg2.l11.m1.5.5.3.3.3.13.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1k" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi mathvariant="normal" id="alg2.l11.m1.5.5.3.3.3.14" xref="alg2.l11.m1.5.5.3.3.3.14.cmml">_</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1l" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.15" xref="alg2.l11.m1.5.5.3.3.3.15.cmml">c</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1m" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.16" xref="alg2.l11.m1.5.5.3.3.3.16.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1n" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.17" xref="alg2.l11.m1.5.5.3.3.3.17.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.5.5.3.3.3.1o" xref="alg2.l11.m1.5.5.3.3.3.1.cmml">​</mo><mi id="alg2.l11.m1.5.5.3.3.3.18" xref="alg2.l11.m1.5.5.3.3.3.18.cmml">l</mi></mrow></mrow><mo lspace="0em" rspace="0.167em" id="alg2.l11.m1.6.6.4.7" xref="alg2.l11.m1.6.6.5a.cmml">.</mo><mrow id="alg2.l11.m1.6.6.4.4" xref="alg2.l11.m1.6.6.4.4.cmml"><mi id="alg2.l11.m1.6.6.4.4.2" xref="alg2.l11.m1.6.6.4.4.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.6.6.4.4.1" xref="alg2.l11.m1.6.6.4.4.1.cmml">​</mo><mi id="alg2.l11.m1.6.6.4.4.3" xref="alg2.l11.m1.6.6.4.4.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.6.6.4.4.1a" xref="alg2.l11.m1.6.6.4.4.1.cmml">​</mo><mi id="alg2.l11.m1.6.6.4.4.4" xref="alg2.l11.m1.6.6.4.4.4.cmml">x</mi><mo lspace="0em" rspace="0em" id="alg2.l11.m1.6.6.4.4.1b" xref="alg2.l11.m1.6.6.4.4.1.cmml">​</mo><mi id="alg2.l11.m1.6.6.4.4.5" xref="alg2.l11.m1.6.6.4.4.5.cmml">t</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l11.m1.6b"><apply id="alg2.l11.m1.6.6.5.cmml" xref="alg2.l11.m1.6.6.4"><csymbol cd="ambiguous" id="alg2.l11.m1.6.6.5a.cmml" xref="alg2.l11.m1.6.6.4.5">formulae-sequence</csymbol><apply id="alg2.l11.m1.3.3.1.1.cmml" xref="alg2.l11.m1.3.3.1.1"><times id="alg2.l11.m1.3.3.1.1.1.cmml" xref="alg2.l11.m1.3.3.1.1.1"></times><ci id="alg2.l11.m1.3.3.1.1.2.cmml" xref="alg2.l11.m1.3.3.1.1.2">𝑟</ci><apply id="alg2.l11.m1.3.3.1.1.3.1.cmml" xref="alg2.l11.m1.3.3.1.1.3.2"><csymbol cd="latexml" id="alg2.l11.m1.3.3.1.1.3.1.1.cmml" xref="alg2.l11.m1.3.3.1.1.3.2.1">delimited-[]</csymbol><cn type="integer" id="alg2.l11.m1.1.1.cmml" xref="alg2.l11.m1.1.1">0</cn></apply></apply><apply id="alg2.l11.m1.4.4.2.2.cmml" xref="alg2.l11.m1.4.4.2.2"><ci id="alg2.l11.m1.4.4.2.2.1.cmml" xref="alg2.l11.m1.4.4.2.2.1">←</ci><apply id="alg2.l11.m1.4.4.2.2.2.cmml" xref="alg2.l11.m1.4.4.2.2.2"><times id="alg2.l11.m1.4.4.2.2.2.1.cmml" xref="alg2.l11.m1.4.4.2.2.2.1"></times><ci id="alg2.l11.m1.4.4.2.2.2.2.cmml" xref="alg2.l11.m1.4.4.2.2.2.2">𝑡</ci><ci id="alg2.l11.m1.4.4.2.2.2.3.cmml" xref="alg2.l11.m1.4.4.2.2.2.3">𝑒</ci><ci id="alg2.l11.m1.4.4.2.2.2.4.cmml" xref="alg2.l11.m1.4.4.2.2.2.4">𝑥</ci><ci id="alg2.l11.m1.4.4.2.2.2.5.cmml" xref="alg2.l11.m1.4.4.2.2.2.5">𝑡</ci></apply><apply id="alg2.l11.m1.4.4.2.2.3.cmml" xref="alg2.l11.m1.4.4.2.2.3"><times id="alg2.l11.m1.4.4.2.2.3.1.cmml" xref="alg2.l11.m1.4.4.2.2.3.1"></times><ci id="alg2.l11.m1.4.4.2.2.3.2.cmml" xref="alg2.l11.m1.4.4.2.2.3.2">𝑟</ci><apply id="alg2.l11.m1.4.4.2.2.3.3.1.cmml" xref="alg2.l11.m1.4.4.2.2.3.3.2"><csymbol cd="latexml" id="alg2.l11.m1.4.4.2.2.3.3.1.1.cmml" xref="alg2.l11.m1.4.4.2.2.3.3.2.1">delimited-[]</csymbol><cn type="integer" id="alg2.l11.m1.2.2.cmml" xref="alg2.l11.m1.2.2">0</cn></apply></apply></apply><apply id="alg2.l11.m1.5.5.3.3.cmml" xref="alg2.l11.m1.5.5.3.3"><plus id="alg2.l11.m1.5.5.3.3.1.cmml" xref="alg2.l11.m1.5.5.3.3.1"></plus><apply id="alg2.l11.m1.5.5.3.3.2.cmml" xref="alg2.l11.m1.5.5.3.3.2"><times id="alg2.l11.m1.5.5.3.3.2.1.cmml" xref="alg2.l11.m1.5.5.3.3.2.1"></times><ci id="alg2.l11.m1.5.5.3.3.2.2.cmml" xref="alg2.l11.m1.5.5.3.3.2.2">𝑡</ci><ci id="alg2.l11.m1.5.5.3.3.2.3.cmml" xref="alg2.l11.m1.5.5.3.3.2.3">𝑒</ci><ci id="alg2.l11.m1.5.5.3.3.2.4.cmml" xref="alg2.l11.m1.5.5.3.3.2.4">𝑥</ci><ci id="alg2.l11.m1.5.5.3.3.2.5.cmml" xref="alg2.l11.m1.5.5.3.3.2.5">𝑡</ci></apply><apply id="alg2.l11.m1.5.5.3.3.3.cmml" xref="alg2.l11.m1.5.5.3.3.3"><times id="alg2.l11.m1.5.5.3.3.3.1.cmml" xref="alg2.l11.m1.5.5.3.3.3.1"></times><ci id="alg2.l11.m1.5.5.3.3.3.2.cmml" xref="alg2.l11.m1.5.5.3.3.3.2">ℎ</ci><ci id="alg2.l11.m1.5.5.3.3.3.3.cmml" xref="alg2.l11.m1.5.5.3.3.3.3">𝑖</ci><ci id="alg2.l11.m1.5.5.3.3.3.4.cmml" xref="alg2.l11.m1.5.5.3.3.3.4">𝑒</ci><ci id="alg2.l11.m1.5.5.3.3.3.5.cmml" xref="alg2.l11.m1.5.5.3.3.3.5">𝑟</ci><ci id="alg2.l11.m1.5.5.3.3.3.6.cmml" xref="alg2.l11.m1.5.5.3.3.3.6">𝑎</ci><ci id="alg2.l11.m1.5.5.3.3.3.7.cmml" xref="alg2.l11.m1.5.5.3.3.3.7">𝑟</ci><ci id="alg2.l11.m1.5.5.3.3.3.8.cmml" xref="alg2.l11.m1.5.5.3.3.3.8">𝑐</ci><ci id="alg2.l11.m1.5.5.3.3.3.9.cmml" xref="alg2.l11.m1.5.5.3.3.3.9">ℎ</ci><ci id="alg2.l11.m1.5.5.3.3.3.10.cmml" xref="alg2.l11.m1.5.5.3.3.3.10">𝑖</ci><ci id="alg2.l11.m1.5.5.3.3.3.11.cmml" xref="alg2.l11.m1.5.5.3.3.3.11">𝑐</ci><ci id="alg2.l11.m1.5.5.3.3.3.12.cmml" xref="alg2.l11.m1.5.5.3.3.3.12">𝑎</ci><ci id="alg2.l11.m1.5.5.3.3.3.13.cmml" xref="alg2.l11.m1.5.5.3.3.3.13">𝑙</ci><ci id="alg2.l11.m1.5.5.3.3.3.14.cmml" xref="alg2.l11.m1.5.5.3.3.3.14">_</ci><ci id="alg2.l11.m1.5.5.3.3.3.15.cmml" xref="alg2.l11.m1.5.5.3.3.3.15">𝑐</ci><ci id="alg2.l11.m1.5.5.3.3.3.16.cmml" xref="alg2.l11.m1.5.5.3.3.3.16">𝑒</ci><ci id="alg2.l11.m1.5.5.3.3.3.17.cmml" xref="alg2.l11.m1.5.5.3.3.3.17">𝑙</ci><ci id="alg2.l11.m1.5.5.3.3.3.18.cmml" xref="alg2.l11.m1.5.5.3.3.3.18">𝑙</ci></apply></apply><apply id="alg2.l11.m1.6.6.4.4.cmml" xref="alg2.l11.m1.6.6.4.4"><times id="alg2.l11.m1.6.6.4.4.1.cmml" xref="alg2.l11.m1.6.6.4.4.1"></times><ci id="alg2.l11.m1.6.6.4.4.2.cmml" xref="alg2.l11.m1.6.6.4.4.2">𝑡</ci><ci id="alg2.l11.m1.6.6.4.4.3.cmml" xref="alg2.l11.m1.6.6.4.4.3">𝑒</ci><ci id="alg2.l11.m1.6.6.4.4.4.cmml" xref="alg2.l11.m1.6.6.4.4.4">𝑥</ci><ci id="alg2.l11.m1.6.6.4.4.5.cmml" xref="alg2.l11.m1.6.6.4.4.5">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m1.6c">r[0].text\leftarrow r[0].text+hierarchical\_cell.text</annotation></semantics></math>

</div>
<div id="alg2.l12" class="ltx_listingline">     <span id="alg2.l12.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l12.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg2.l13" class="ltx_listingline">  <span id="alg2.l13.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l13.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l14" class="ltx_listingline">  <span id="alg2.l14.1" class="ltx_text ltx_font_bold">return</span>  <math id="alg2.l14.m1.1" class="ltx_Math" alttext="R" display="inline"><semantics id="alg2.l14.m1.1a"><mi id="alg2.l14.m1.1.1" xref="alg2.l14.m1.1.1.cmml">R</mi><annotation-xml encoding="MathML-Content" id="alg2.l14.m1.1b"><ci id="alg2.l14.m1.1.1.cmml" xref="alg2.l14.m1.1.1">𝑅</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l14.m1.1c">R</annotation></semantics></math>

</div>
</div>
</figure>
</section>
</section>
<section id="S3.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS4.5.1.1" class="ltx_text">III-D</span> </span><span id="S3.SS4.6.2" class="ltx_text ltx_font_italic">Question Answering</span>
</h3>

<div id="S3.SS4.p1" class="ltx_para">
<p id="S3.SS4.p1.1" class="ltx_p">We adopt the state-of-the-art table-based QA setting OmniTab <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, based on TAPEX <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> pre-training setting. It feeds the concatenating token sequences of natural language questions and linearized table dataframes into the bidirectional encoder. The table dataframes are linearized in the order of top-to-bottom and left-to-right. The final answers are generated with an autoregressive decoder.</p>
</div>
<div id="S3.SS4.p2" class="ltx_para">
<p id="S3.SS4.p2.1" class="ltx_p">We create a new fine-tuning training set from the training set of VQAonBD 2023 and the results of table recognization and post-structure extraction modules. Each sample consists of a table dataframe and a natural language question, the equivalent ground truth answer. We fine-tuned the OmniTab large pre-trained models using a training set of 100K samples sampled from the training set of VQAonBD 2023, with 20k samples of each question category.</p>
</div>
<div id="S3.SS4.p3" class="ltx_para">
<p id="S3.SS4.p3.1" class="ltx_p">We developed multiple question-answering models using both raw HTML tables (results of table recognization in Section <a href="#S3.SS2" title="III-B Table Recognition ‣ III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-B</span></span></a>) and structured tables (results of post-structure extraction in Section <a href="#S3.SS3" title="III-C Post Structure Extraction ‣ III Approach ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag"><span class="ltx_text">III-C</span></span></a>). In cases where the QA model returns no answer, we assign the answer as zero.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">Experiments</span>
</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.5.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.6.2" class="ltx_text ltx_font_italic">Dataset</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">We evaluate TabIQA on VQAonDB 2023 dataset. This dataset contains document images from the FinTabNet dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite> and relevant questions about these document images. The training and validation set’s ground truth also contains table structure annotation information, i.e., bounding boxes of words, tokens, digitized text, and row and column identifiers.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">Each document image may include up to 50 questions in five categories with their corresponding answers. The number of questions in each category for a single table varies based on its content and format. For Category 1, the number of questions falls within the range of 0 to 25, while for Category 2, it is between 0 and 10. Similarly, the number of questions in Category 3 ranges from 0 to 3, while for Category 4, it is between 0 and 7. Lastly, Category 5 has a range of 0 to 5 questions.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.1" class="ltx_p">The detailed statistics of VQAonBD 2023 are described in the following sections.</p>
</div>
<section id="S4.SS1.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS1.5.1.1" class="ltx_text">IV-A</span>1 </span>Document Images</h4>

<div id="S4.SS1.SSS1.p1" class="ltx_para">
<p id="S4.SS1.SSS1.p1.1" class="ltx_p">In this section, we analyze the document images of the VQAonBD 2023 dataset. The statistics of document images are reported in Table <a href="#S4.T1" title="TABLE I ‣ IV-A1 Document Images ‣ IV-A Dataset ‣ IV Experiments ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag">I</span></a>. “Doc Images” are the number of document images, whereas the “Blank Images” are the number of the blank page. For example, the sample “val_table_image_9684__CL__2014__page_54_split_0” in the validation set of VQAonBD 2023 is the blank page.</p>
</div>
<div id="S4.SS1.SSS1.p2" class="ltx_para">
<p id="S4.SS1.SSS1.p2.1" class="ltx_p">The training contains 12% blank images within the dataset, whereas validation and testing sets have blank images at less than 1%. Despite the absence of content, related questions exist regarding these blank images. During TabIQA training phase, we exclude these samples containing blank images. In the testing phase, TabIQA returns a zero value for samples containing blank images.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE I: </span>Document Image Statistics on VQAonBD 2023</figcaption>
<table id="S4.T1.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S4.T1.1.1.1" class="ltx_tr">
<td id="S4.T1.1.1.1.1" class="ltx_td ltx_border_tt"></td>
<th id="S4.T1.1.1.1.2" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_tt">Doc Images</th>
<th id="S4.T1.1.1.1.3" class="ltx_td ltx_nopad_r ltx_align_left ltx_th ltx_th_column ltx_border_tt">Blank Images</th>
</tr>
<tr id="S4.T1.1.2.2" class="ltx_tr">
<td id="S4.T1.1.2.2.1" class="ltx_td ltx_align_left ltx_border_t">Train</td>
<td id="S4.T1.1.2.2.2" class="ltx_td ltx_align_left ltx_border_t">39,999</td>
<td id="S4.T1.1.2.2.3" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_t">5,025</td>
</tr>
<tr id="S4.T1.1.3.3" class="ltx_tr">
<td id="S4.T1.1.3.3.1" class="ltx_td ltx_align_left">Validation</td>
<td id="S4.T1.1.3.3.2" class="ltx_td ltx_align_left">4,535</td>
<td id="S4.T1.1.3.3.3" class="ltx_td ltx_nopad_r ltx_align_left">6</td>
</tr>
<tr id="S4.T1.1.4.4" class="ltx_tr">
<td id="S4.T1.1.4.4.1" class="ltx_td ltx_align_left ltx_border_bb">Test</td>
<td id="S4.T1.1.4.4.2" class="ltx_td ltx_align_left ltx_border_bb">4,361</td>
<td id="S4.T1.1.4.4.3" class="ltx_td ltx_nopad_r ltx_align_left ltx_border_bb">13</td>
</tr>
</tbody>
</table>
</figure>
</section>
<section id="S4.SS1.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS2.5.1.1" class="ltx_text">IV-A</span>2 </span>Questions</h4>

<div id="S4.SS1.SSS2.p1" class="ltx_para">
<p id="S4.SS1.SSS2.p1.1" class="ltx_p">The dataset used for training, validation, and testing contains 41,465, 1,254,165, and 135,825 questions, respectively. The average question length is 109.45 characters, and the average number of words in a question is 10.5. Some questions are longer than 1,500 characters. To identify named entities within the questions, we use the Spacy tool <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, which detects an average of 1.71 entities per question. Of these, 1.42 entities pertain to the time dimension, 0.18 are numerical values, and 0.12 have textual values.</p>
</div>
</section>
<section id="S4.SS1.SSS3" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS1.SSS3.5.1.1" class="ltx_text">IV-A</span>3 </span>Tables</h4>

<div id="S4.SS1.SSS3.p1" class="ltx_para">
<p id="S4.SS1.SSS3.p1.1" class="ltx_p">Table <a href="#S4.T2" title="TABLE II ‣ IV-A3 Tables ‣ IV-A Dataset ‣ IV Experiments ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag">II</span></a> reports size statistics of annotated tables from the training and validation set of VQAonBD 2023. The training set comprises tables with numbers of rows larger than those in the validation set, and the cells in the training set are also longer than those in the validation set.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE II: </span>Annotated Table Statistics on VQAonBD 2023</figcaption>
<table id="S4.T2.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.1.1.1" class="ltx_tr">
<th id="S4.T2.1.1.1.1" class="ltx_td ltx_th ltx_th_row ltx_border_tt"></th>
<th id="S4.T2.1.1.1.2" class="ltx_td ltx_align_right ltx_th ltx_th_column ltx_border_tt">Train (avg.)</th>
<th id="S4.T2.1.1.1.3" class="ltx_td ltx_nopad_r ltx_align_right ltx_th ltx_th_column ltx_border_tt">Val (avg.)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.1.2.1" class="ltx_tr">
<th id="S4.T2.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Row</th>
<td id="S4.T2.1.2.1.2" class="ltx_td ltx_align_right ltx_border_t">2-77 (13.27)</td>
<td id="S4.T2.1.2.1.3" class="ltx_td ltx_nopad_r ltx_align_right ltx_border_t">2 -58 (12.15)</td>
</tr>
<tr id="S4.T2.1.3.2" class="ltx_tr">
<th id="S4.T2.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">Column</th>
<td id="S4.T2.1.3.2.2" class="ltx_td ltx_align_right">2-16 (4.57)</td>
<td id="S4.T2.1.3.2.3" class="ltx_td ltx_nopad_r ltx_align_right">2-13 (4.44)</td>
</tr>
<tr id="S4.T2.1.4.3" class="ltx_tr">
<th id="S4.T2.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">Cell length</th>
<td id="S4.T2.1.4.3.2" class="ltx_td ltx_align_right ltx_border_bb">3.2-161.08 (11.3)</td>
<td id="S4.T2.1.4.3.3" class="ltx_td ltx_nopad_r ltx_align_right ltx_border_bb">4.56-40.54 (11.17)</td>
</tr>
</tbody>
</table>
</figure>
</section>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.5.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.6.2" class="ltx_text ltx_font_italic">Experiment Setup</span>
</h3>

<section id="S4.SS2.SSS1" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS2.SSS1.5.1.1" class="ltx_text">IV-B</span>1 </span>Baselines</h4>

<div id="S4.SS2.SSS1.p1" class="ltx_para">
<p id="S4.SS2.SSS1.p1.1" class="ltx_p">To evaluate our results, we compared them against other baselines, including TAPAS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>, TAPEX <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, OmniTab <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, and the Zero model. The Zero model always returns zero for any question.</p>
</div>
</section>
<section id="S4.SS2.SSS2" class="ltx_subsubsection">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection"><span id="S4.SS2.SSS2.5.1.1" class="ltx_text">IV-B</span>2 </span>Metrics</h4>

<div id="S4.SS2.SSS2.p1" class="ltx_para">
<p id="S4.SS2.SSS2.p1.1" class="ltx_p">The VQAonBD 2023 performance metric is determined depending on answer types. If the answer types are textual values, then the Averaged Normalised Levenshtein Similarity (ANLS) is used as the metric in DocVQA <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>. ANLS is designed to respond softly to answer mismatches that may arise due to OCR imperfections. On the other hand, if the answer types are numerical values, then the metric is calculated by taking a scaled Euclidean norm of the ANLS score and the percentage of the absolute difference between the predicted answer and the ground truth answer.</p>
</div>
</section>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS3.5.1.1" class="ltx_text">IV-C</span> </span><span id="S4.SS3.6.2" class="ltx_text ltx_font_italic">Results and Discussions</span>
</h3>

<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p">Table <a href="#S4.T3" title="TABLE III ‣ IV-C Results and Discussions ‣ IV Experiments ‣ TabIQA: Table Questions Answering on Business Document Images" class="ltx_ref"><span class="ltx_text ltx_ref_tag">III</span></a> compares TabIQA’s question-answering performance against other baseline models using the VQAonBD 2023 dataset. We use the fine-tuned hugging face models<span id="footnote2" class="ltx_note ltx_role_footnote"><sup class="ltx_note_mark">2</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">2</sup><span class="ltx_tag ltx_tag_note">2</span>Huggingface models: <a target="_blank" href="https://huggingface.co/models?pipeline_tag=table-question-answering" title="" class="ltx_ref ltx_url ltx_font_typewriter">https://huggingface.co/models?pipeline_tag=table-question-answering</a></span></span></span> of TAPAS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>, TAPEX <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, and OmniTab <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite> on the WikiTableQuestion dataset <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref">15</a>]</cite>. In addition, we included the Zero setting, a model that always returns zero for any question. TabIQA1 represents the setting where the question-answering model is fine-tuned directly on raw HTML tables. On the other hand, TabIQA2 refers to the setting where the QA model is fine-tuned on structured tables.</p>
</div>
<figure id="S4.T3" class="ltx_table">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table">TABLE III: </span>Question answering performance on the validate split VQAonBD 2023 dataset.</figcaption>
<table id="S4.T3.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.1.1.1" class="ltx_tr">
<th id="S4.T3.1.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt">Model</th>
<th id="S4.T3.1.1.1.2" class="ltx_td ltx_nopad_r ltx_align_right ltx_th ltx_th_column ltx_border_tt">VQAonBD 2023 Score</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.1.2.1" class="ltx_tr">
<th id="S4.T3.1.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">TAPAS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>
</th>
<td id="S4.T3.1.2.1.2" class="ltx_td ltx_nopad_r ltx_align_right ltx_border_t">0.4138</td>
</tr>
<tr id="S4.T3.1.3.2" class="ltx_tr">
<th id="S4.T3.1.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">TAPEX <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>
</th>
<td id="S4.T3.1.3.2.2" class="ltx_td ltx_nopad_r ltx_align_right">0.4390</td>
</tr>
<tr id="S4.T3.1.4.3" class="ltx_tr">
<th id="S4.T3.1.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">OmniTab <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>
</th>
<td id="S4.T3.1.4.3.2" class="ltx_td ltx_nopad_r ltx_align_right">0.4421</td>
</tr>
<tr id="S4.T3.1.5.4" class="ltx_tr">
<th id="S4.T3.1.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t">Zero</th>
<td id="S4.T3.1.5.4.2" class="ltx_td ltx_nopad_r ltx_align_right ltx_border_t">0.2616</td>
</tr>
<tr id="S4.T3.1.6.5" class="ltx_tr">
<th id="S4.T3.1.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row">TabIQA1</th>
<td id="S4.T3.1.6.5.2" class="ltx_td ltx_nopad_r ltx_align_right">0.8808</td>
</tr>
<tr id="S4.T3.1.7.6" class="ltx_tr">
<th id="S4.T3.1.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb">TabIQA2</th>
<td id="S4.T3.1.7.6.2" class="ltx_td ltx_nopad_r ltx_align_right ltx_border_bb"><span id="S4.T3.1.7.6.2.1" class="ltx_text ltx_font_bold">0.8997</span></td>
</tr>
</tbody>
</table>
</figure>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.1" class="ltx_p">Regarding question-answering performance, the scores indicate that TabIQA1 and TabIQA2 significantly outperform the other baseline models, i.e., TAPAS, TAPEX, OmniTab, and the Zero model. These results suggest that TabIQA’s fine-tuning the question-answering model on raw HTML tables or structured tables can significantly improve question-answering performance compared to other baseline models. It also indicates that TabIQA2 outperforms TabIQA1, which suggests that fine-tuning the QA model on structured tables can lead to better performance than fine-tuning on raw HTML tables. Overall, these results demonstrate the effectiveness of TabIQA in achieving high accuracy in answering table-related questions.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Conclusion and Future Work</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">This paper aims to present a new pipeline called TabIQA to answer questions related to business document images. TabIQA employs cutting-edge deep learning methods in two stages. Firstly, it extracts both the content and structural information from images of tables. Secondly, it utilizes these features to answer questions about numerical data, text-based information, and complex queries from structured tables. Experimental results on VQAonBD 2023 dataset demonstrate that TabIQA can achieve promising performance in answering questions about tables.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p">We plan to extend the TabIQA pipeline to handle more complex queries that require reasoning over multiple tables or information from the document’s non-tabular parts. Another area for future work is to investigate the generalization capabilities of TabIQA to handle tables from different domains or document layouts. These are all potential avenues for future research that could enhance the capabilities and performance of TabIQA in real-world scenarios.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_font_smallcaps ltx_title_section">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">The research was supported by the Cross-ministerial Strategic Innovation Promotion Program (SIP) Second Phase, “Big-data and AI-enabled Cyberspace Technologies” by the New Energy and Industrial Technology Development Organization (NEDO).</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
L. Qiao, Z. Li, Z. Cheng, P. Zhang, S. Pu, Y. Niu, W. Ren, W. Tan, and F. Wu,
“Lgpma: Complicated table structure recognition with local and global
pyramid mask alignment,” <em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">2021 International Conference on Document
Analysis and Recognition (ICDAR)</em>, p. 99–114, 2021.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
J. Ye, X. Qi, Y. He, Y. Chen, D. Gu, P. Gao, and R. Xiao, “Pingan-vcgroup’s
solution for icdar 2021 competition on scientific literature parsing task b:
Table recognition to html,” <em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">ArXiv</em>, vol. abs/2105.01848, 2021.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
A. Nassar, N. Livathinos, M. Lysak, and P. Staar, “Tableformer: Table
structure understanding with transformers.” <em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">2022 The Conference on
Computer Vision and Pattern Recognition (CVPR)</em>, 2022.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Z. Zhang, J. Zhang, J. Du, and F. Wang, “Split, embed and merge: An accurate
table structure recognizer,” <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">Pattern Recognition</em>, vol. 126, 2022.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
D. Yuntian, R. David, and M. Gideon, “Challenges in end-to-end neural
scientific table recognition,” <em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">2019 International Conference on
Document Analysis and Recognition (ICDAR)</em>, pp. 894–901, 2019.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
X. Zhong, E. ShafieiBavani, and A. Jimeno Yepes, “Image-based table
recognition: Data, model, and evaluation,” <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">2020 European Conference on
Computer Vision (ECCV)</em>, p. 564–580, 2020.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
N. T. Ly and A. Takasu, “An end-to-end multi-task learning model for
image-based table recognition,” in <em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 18th
International Joint Conference on Computer Vision, Imaging and Computer
Graphics Theory and Applications - Volume 5: VISAPP 2023</em>, pp. 626–634.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
N. T. Ly, A. Takasu, P. Nguyen, and H. Takeda, “Rethinking image-based table
recognition using weakly supervised methods,” in <em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">Proceedings of the
12th International Conference on Pattern Recognition Applications and Methods
- ICPRAM 2023</em>, pp. 872–880.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Z. Jiang, Y. Mao, P. He, G. Neubig, and W. Chen, “OmniTab: Pretraining with
natural and synthetic data for few-shot table-based question answering,” in
<em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">NAACL 2022</em>, M. Carpuat, M. de Marneffe, and I. V. M. Ruíz,
Eds., pp. 932–942.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Q. Liu, B. Chen, J. Guo, M. Ziyadi, Z. Lin, W. Chen, and J. Lou, “TAPEX:
table pre-training via learning a neural SQL executor,” in <em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">ICLR
2022</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
X. Zheng, D. Burdick, L. Popa, P. Zhong, and N. X. R. Wang, “Global table
extractor (gte): A framework for joint table identification and cell
structure recognition using visual context,” <em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">Winter Conference for
Applications in Computer Vision (WACV)</em>, 2021.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
M. Honnibal, I. Montani, S. Van Landeghem, and A. Boyd, “spaCy:
Industrial-strength Natural Language Processing in Python,” 2020.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
J. Herzig, P. K. Nowak, T. Müller, F. Piccinno, and J. M. Eisenschlos,
“TaPas: weakly supervised table parsing via pre-training,” in <em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">ACL
2020</em>, D. Jurafsky, J. Chai, N. Schluter, and J. R. Tetreault, Eds., pp.
4320–4333.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
M. Mathew, D. Karatzas, and C. V. Jawahar, “Docvqa: A dataset for VQA on
document images,” in <em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">WACV, 2021</em>.   IEEE, pp. 2199–2208.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
P. Pasupat and P. Liang, “Compositional semantic parsing on semi-structured
tables,” in <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">ACL 2015</em>, pp. 1470–1480.

</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2303.14934" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2303.14935" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2303.14935">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2303.14935" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2303.14936" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Thu Feb 29 18:20:52 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
