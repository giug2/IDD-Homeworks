<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>CSRec: Rethinking Sequential Recommendation from A Causal Perspective.</title>
<!--Generated on Fri Aug 23 23:12:10 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<meta content="Sequential Recommendation, 
Recommender System, 
Causal Inference, 
Intervention" lang="en" name="keywords"/>
<base href="/html/2409.05872v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S1" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S2" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>Background and Preliminary</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S3" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Sequential Recommendation Represented in Causal Graph</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Demystifying User’s Decision-Making Through Causal Formulation</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.SS1" title="In 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Problem Setting</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.SS2" title="In 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Estimating the Interventional Distribution.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.SS3" title="In 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Maximizing Users’ Positive Decisions.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.SS4" title="In 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Enforcing the constraint.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S5" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Estimate System’s Influence Through Treatment Effect</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S5.SS1" title="In 5. Estimate System’s Influence Through Treatment Effect ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5.1 </span>Treatment effect in recommendation</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S5.SS1.SSS0.Px1" title="In 5.1. Treatment effect in recommendation ‣ 5. Estimate System’s Influence Through Treatment Effect ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title">Evaluating Recommender System</span></a></li>
<li class="ltx_tocentry ltx_tocentry_paragraph"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S5.SS1.SSS0.Px2" title="In 5.1. Treatment effect in recommendation ‣ 5. Estimate System’s Influence Through Treatment Effect ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title">Exploration and Exploitation</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6 </span>Experiment</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS1" title="In 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1 </span>Basic setup</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS1.SSS1" title="In 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1.1 </span>Datasets</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS1.SSS2" title="In 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1.2 </span>Baselines and tasks</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS1.SSS3" title="In 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1.3 </span>Evaluation metrics</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS1.SSS4" title="In 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.1.4 </span>Parameter settings.</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_subsection">
<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS2" title="In 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2 </span>Experimental results</span></a>
<ol class="ltx_toclist ltx_toclist_subsection">
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS2.SSS1" title="In 6.2. Experimental results ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2.1 </span><span class="ltx_text ltx_font_bold">[RQ1]</span>. The proposed method outperforms baselines on interventional data.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS2.SSS2" title="In 6.2. Experimental results ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2.2 </span><span class="ltx_text ltx_font_bold">[RQ2]</span>. The proposed method does not degrade the performance on observational data.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsubsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.SS2.SSS3" title="In 6.2. Experimental results ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">6.2.3 </span><span class="ltx_text ltx_font_bold">[RQ3]</span>. The proposed method universally improves baseline SR models on interventional data.</span></a></li>
</ol>
</li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S7" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">7 </span>Related Work</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S8" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">8 </span>Conclusion</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A1" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">A </span>Do-Calculus</span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A2" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">B </span>Proof for <span class="ltx_text ltx_ref_tag">Theorem</span> <span class="ltx_text ltx_ref_tag">4.1</span></span></a></li>
<li class="ltx_tocentry ltx_tocentry_appendix">
<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3" title="In CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C </span>Experimental Details</span></a>
<ol class="ltx_toclist ltx_toclist_appendix">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3.SS1" title="In Appendix C Experimental Details ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.1 </span>Spotify: Sequential Music Streaming Challenge</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3.SS2" title="In Appendix C Experimental Details ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.2 </span>GPT4-books</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3.SS3" title="In Appendix C Experimental Details ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.3 </span>Generalization of the causal graph used in this paper.</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3.SS4" title="In Appendix C Experimental Details ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">C.4 </span>Additional Results.</span></a></li>
</ol>
</li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line ltx_leqno">
<h1 class="ltx_title ltx_title_document">CSRec: Rethinking Sequential Recommendation from A Causal Perspective.</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiaoyu Liu
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:xliu1231@umd.edu">xliu1231@umd.edu</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id1.1.id1">University of Maryland, College Park</span><span class="ltx_text ltx_affiliation_city" id="id2.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id3.3.id3"></span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jiaxin Yuan
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:jyuan98@umd.edu">jyuan98@umd.edu</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id4.1.id1">University of Maryland, College Park</span><span class="ltx_text ltx_affiliation_city" id="id5.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id6.3.id3"></span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Yuhang Zhou
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:tonyzhou@umd.edu">tonyzhou@umd.edu</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id7.1.id1">University of Maryland, College Park</span><span class="ltx_text ltx_affiliation_city" id="id8.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id9.3.id3"></span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jingling Li
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:jinglingli1024@gmail.com">jinglingli1024@gmail.com</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id10.1.id1">University of Maryland, College Park</span><span class="ltx_text ltx_affiliation_city" id="id11.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id12.3.id3"></span>
</span></span></span>
<span class="ltx_author_before">, </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Furong Huang
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:furongh@umd.edu">furongh@umd.edu</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id13.1.id1">University of Maryland, College Park</span><span class="ltx_text ltx_affiliation_city" id="id14.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id15.3.id3"></span>
</span></span></span>
<span class="ltx_author_before"> and </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Wei Ai
</span><span class="ltx_author_notes">
<span class="ltx_contact ltx_role_email"><a href="mailto:aiwei@umd.edu">aiwei@umd.edu</a>
</span>
<span class="ltx_contact ltx_role_affiliation"><span class="ltx_text ltx_affiliation_institution" id="id16.1.id1">University of Maryland, College Park</span><span class="ltx_text ltx_affiliation_city" id="id17.2.id2"></span><span class="ltx_text ltx_affiliation_country" id="id18.3.id3"></span>
</span></span></span>
</div>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract.</h6>
<p class="ltx_p" id="id19.id1">The essence of sequential recommender systems (RecSys) lies in understanding how users make decisions. Most existing approaches frame the task as sequential prediction based on users’ historical purchase records. While effective in capturing users’ natural preferences, this formulation falls short in accurately modeling actual recommendation scenarios, particularly in accounting for how unsuccessful recommendations influence future purchases. Furthermore, the impact of the RecSys itself on users’ decisions has not been appropriately isolated and quantitatively analyzed.
To address these challenges, we propose a novel formulation of sequential recommendation, termed Causal Sequential Recommendation (CSRec). Instead of predicting the next item in the sequence, CSRec aims to predict the probability of a recommended item’s acceptance within a sequential context and backtrack how current decisions are made. Critically, CSRec facilitates the isolation of various factors that affect users’ final decisions, especially the influence of the recommender system itself, thereby opening new avenues for the design of recommender systems. CSRec can be seamlessly integrated into existing methodologies. Experimental evaluations on both synthetic and real-world datasets demonstrate that the proposed implementation significantly improves upon state-of-the-art baselines. <a class="ltx_ref ltx_href" href="https://github.com/margotyjx/CSRec_repo.git" style="color:#0000FF;" title="">github link here.</a></p>
</div>
<div class="ltx_keywords">Sequential Recommendation,
Recommender System,
Causal Inference,
Intervention
</div>
<span class="ltx_note ltx_note_frontmatter ltx_role_ccs" id="id1"><sup class="ltx_note_mark">†</sup><span class="ltx_note_outer"><span class="ltx_note_content"><sup class="ltx_note_mark">†</sup><span class="ltx_note_type">ccs: </span>Information systems   Recommender systems.</span></span></span>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1. </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">In the contemporary data-driven landscape, the significance of building a recommender system (recsys) cannot be overstated. These systems form the foundation for delivering personalized user experiences, improving customer satisfaction, and optimizing decision-making processes across a wide range of industries.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">The fundamental objective of recommender systems is to understand how users make decisions and to provide support in this process. Most existing works, however, equate this objective with recommending the item that users are likely to prefer the most. Consequently, these approaches focus on estimating users’ inherent preferences based on observational data, such as purchasing records, click data, and item reviews <cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib19" title="">2024</a>)</cite>, and develop various methods to mitigate biases, such as popularity bias and exposure bias <cite class="ltx_cite ltx_citemacro_citep">(Klimashevskaia et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib16" title="">2024</a>; Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib9" title="">2024</a>)</cite>.
Later, the study of sequential recommendation recognizes that users’ preferences are also affected by temporal factors, taking into consideration that preferences may evolve over time or that previous purchase decisions can influence future choices. Consequently, recommendation tasks are formulated to predict the most likely next purchased item based on previous purchases, offering a more personalized recommendation <cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib32" title="">2019</a>; Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib31" title="">2018</a>; Shin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib28" title="">2024a</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">However, recovering users’ preferences is not fully equivalent to understanding the decision-making process. Despite their notable success, such formulations tend to oversimplify the complexities of real-world recommendation scenarios and fall short in precisely characterizing the recommendation process. This oversimplification, to some extent, limits the potential for developing truly effective recommender systems.</p>
</div>
<div class="ltx_para" id="S1.p4">
<p class="ltx_p" id="S1.p4.1">Recommendation differs from users’ natural selection processes in that the recsys controls how items are exposed to users, effectively serving as an <span class="ltx_text ltx_font_italic" id="S1.p4.1.1">intervention</span> in their purchase decisions. In the formulation of predicting the next possible purchase, predictions are typically based on the user’s previous acceptance of a series of items. However, it is entirely plausible that a user may dislike the system’s recommendations or show no interest in the suggested items, leading to sequences that include both acceptance and rejection of items. Unfortunately, these possible sequences are excluded from current formulations<cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib38" title="">2022</a>; Shin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib28" title="">2024a</a>; Klimashevskaia et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib16" title="">2024</a>)</cite> due to the fundamental difference in the training goal.</p>
</div>
<div class="ltx_para" id="S1.p5">
<p class="ltx_p" id="S1.p5.1">In addition, an increasing number of recent works have recognized the interventional nature of recommender systems and have attempted to model the system’s influence on users. For instance, <cite class="ltx_cite ltx_citemacro_citep">(Ge et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib10" title="">2020</a>)</cite> highlighted the phenomenon of echo chambers, where users receive increasingly homogenized recommendations. Similarly, <cite class="ltx_cite ltx_citemacro_citep">(Kalimeris et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib13" title="">2021</a>)</cite> sought to address the issue of amplified preference loops, where user preferences in observational data are repeatedly reinforced, ultimately undermining the personalized recommendation experience. The emergence of these problems underscores the need for an analytic framework capable of measuring the system’s influence on users in a differentiable manner. While specific solutions have been proposed, they often overlook the fact that users’ decisions are collaboratively influenced by multiple factors, not just the system itself. This reveals a gap in the existing methods, which lack the ability to isolate the system’s influence from other factors, such as users’ inherent preferences or previous purchase decisions.</p>
</div>
<div class="ltx_para" id="S1.p6">
<p class="ltx_p" id="S1.p6.1">The limitations of current next-item prediction formulations, coupled with the absence of a comprehensive analytical framework for understanding how users make decisions, highlight a critical gap in the existing research on recommender systems. To address this gap, it is essential to adopt a perspective that can rigorously characterize the complex causal relationships between the various factors influencing user decisions. This is where causal inference offers a unique and powerful approach.
</p>
</div>
<div class="ltx_para" id="S1.p7">
<p class="ltx_p" id="S1.p7.1">In this paper, we introduce a novel formulation called CSRec (<span class="ltx_text ltx_font_bold" id="S1.p7.1.1">C</span>ausal <span class="ltx_text ltx_font_bold" id="S1.p7.1.2">S</span>equential <span class="ltx_text ltx_font_bold" id="S1.p7.1.3">R</span>ecommendation), which can be integrated into existing recommender systems to preserve the underlying causal structure in sequential recommendations, thereby overcoming existing limitations.
Given a causal graph, the causal inference perspective offers an explicit and differentiable framework to isolate and quantify the influence of each variable on a user’s decision. While the underlying causal graph may differ across contexts, the same procedure can be consistently applied, making it a flexible and broadly applicable framework.</p>
</div>
<figure class="ltx_figure" id="S1.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="176" id="S1.F1.g1" src="x1.png" width="830"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S1.F1.3.1.1" style="font-size:90%;">Figure 1</span>. </span><span class="ltx_text ltx_font_bold" id="S1.F1.4.2" style="font-size:90%;">Causal Graph for Sequential Recommendation.</span></figcaption>
</figure>
<div class="ltx_para" id="S1.p8">
<p class="ltx_p" id="S1.p8.1">In this paper, we resort to a general causal graph to model the sequential recommendation scenario, where the system’s recommendations, the user’s past purchases, and the user’s preferences collaboratively influence the user’s decisions on potential items. By analyzing this causal graph, we identify how a user’s decision at the current step is influenced by previous decisions, the user’s preferences, and the system’s recommendations, conceptualized as a weighted sum over different possible outcomes (acceptance or rejection).</p>
</div>
<div class="ltx_para" id="S1.p9">
<p class="ltx_p" id="S1.p9.1">Moreover, we introduce a method to quantitatively analyze the influence of recommender systems on users through treatment effect estimation, defined as the average difference in a user’s decisions before and after the recommendation. This formulation opens up new possibilities for developing personalized recommender systems. In Section <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S5" title="5. Estimate System’s Influence Through Treatment Effect ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">5</span></a>, we present several examples demonstrating how this approach can be used as an evaluation metric to assess whether users are building trust in the system. Additionally, it offers a framework for developing strategies to balance the exploration-exploitation trade-off when navigating users’ preferences in unknown domains.</p>
</div>
<div class="ltx_para" id="S1.p10">
<p class="ltx_p" id="S1.p10.1">We conduct extensive experiments on both synthetic and real-world dataset and empirically show that this simple adjustment of existing baselines generally improves the performance and outperforms SOTA baselines.</p>
</div>
<div class="ltx_para" id="S1.p11">
<p class="ltx_p" id="S1.p11.1"><span class="ltx_text ltx_font_bold" id="S1.p11.1.1">Summary of contributions:</span>
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S1.p11.1.2">(1)</span> We identify the inherent difference between the processes of recommendations and users’ natural selection, highlighting that existing formulations fail to account for cases where users’ decisions are adversely affected by unsuccessful recommendations. 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S1.p11.1.3">(2)</span> To address this gap, we propose Causal Sequential Recommendation (CSRec). CSRec is the first analytical framework that explicitly considers how various factors causally and collaboratively influence users’ decisions. Additionally, it can isolate the impact of individual factors, such as the recommender system itself, on users’ decisions, thereby opening up new possibilities in the design and development of recommender systems. 
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S1.p11.1.4">(3)</span> CSRec is a general framework that can be applied to a wide range of recommendation scenarios and can be easily integrated into existing recommender systems for improvement. We conducted extensive experiments and case studies using both synthetic and real-world datasets, demonstrating competitive results across various baselines.</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2. </span>Background and Preliminary</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.1">The goal of training a recommender system varies across different contexts, such as maximizing the likelihood of a recommended item being accepted or enhancing long-term trust and user satisfaction. At the heart of developing any recommender system is the need to understand how users make decisions and how these decisions can be influenced.</p>
</div>
<div class="ltx_para" id="S2.p2">
<p class="ltx_p" id="S2.p2.1">While existing research has made significant strides in recovering users’ natural preferences from observational data, two critical aspects are under-emphasized in sequential recommendation: (1) <span class="ltx_text ltx_font_bold" id="S2.p2.1.1">System-Controlled Exposure</span>: Unlike users’ spontaneous purchases, recommender systems control how items are exposed to users. It is not uncommon for users’ purchase decisions to be adversely affected by system recommendations. However, this influence is often overlooked by existing formulations due to differences in the underlying training goals. (2) <span class="ltx_text ltx_font_bold" id="S2.p2.1.2">Collaborative Influence on Decision-Making</span>: Users’ decisions are shaped by various recommendation scenarios and design needs, necessitating a unified and systematic approach to analyze, understand, and evaluate these influences.</p>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.1">In this section, we begin by reviewing how existing methods approach recommendation. We then reformulate the recommendation process from a causal perspective, introducing the basic concepts of causal inference and demonstrating how to evaluate causal relationships using a causal graph. Finally, we apply these methods to analyze and model the causal relationships within subsequent purchases, as discussed in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S3" title="3. Sequential Recommendation Represented in Causal Graph ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">3</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4" title="4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">section</span> <span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p4">
<p class="ltx_p" id="S2.p4.4"><span class="ltx_text ltx_font_bold" id="S2.p4.4.1">Recommendation as Sequential Prediction: The Traditional Viewpoint.</span>
Sequential recommender systems model historical user interactions as temporally-ordered sequences to recommend potential items that users are interested in. In the general formulation as a sequential dataset, we are given an item set <math alttext="\mathcal{I}" class="ltx_Math" display="inline" id="S2.p4.1.m1.1"><semantics id="S2.p4.1.m1.1a"><mi class="ltx_font_mathcaligraphic" id="S2.p4.1.m1.1.1" xref="S2.p4.1.m1.1.1.cmml">ℐ</mi><annotation-xml encoding="MathML-Content" id="S2.p4.1.m1.1b"><ci id="S2.p4.1.m1.1.1.cmml" xref="S2.p4.1.m1.1.1">ℐ</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.1.m1.1c">\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.1.m1.1d">caligraphic_I</annotation></semantics></math> and a user’s interaction sequence <math alttext="s=\{i_{1},i_{2},...,i_{n}\}" class="ltx_Math" display="inline" id="S2.p4.2.m2.4"><semantics id="S2.p4.2.m2.4a"><mrow id="S2.p4.2.m2.4.4" xref="S2.p4.2.m2.4.4.cmml"><mi id="S2.p4.2.m2.4.4.5" xref="S2.p4.2.m2.4.4.5.cmml">s</mi><mo id="S2.p4.2.m2.4.4.4" xref="S2.p4.2.m2.4.4.4.cmml">=</mo><mrow id="S2.p4.2.m2.4.4.3.3" xref="S2.p4.2.m2.4.4.3.4.cmml"><mo id="S2.p4.2.m2.4.4.3.3.4" stretchy="false" xref="S2.p4.2.m2.4.4.3.4.cmml">{</mo><msub id="S2.p4.2.m2.2.2.1.1.1" xref="S2.p4.2.m2.2.2.1.1.1.cmml"><mi id="S2.p4.2.m2.2.2.1.1.1.2" xref="S2.p4.2.m2.2.2.1.1.1.2.cmml">i</mi><mn id="S2.p4.2.m2.2.2.1.1.1.3" xref="S2.p4.2.m2.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S2.p4.2.m2.4.4.3.3.5" xref="S2.p4.2.m2.4.4.3.4.cmml">,</mo><msub id="S2.p4.2.m2.3.3.2.2.2" xref="S2.p4.2.m2.3.3.2.2.2.cmml"><mi id="S2.p4.2.m2.3.3.2.2.2.2" xref="S2.p4.2.m2.3.3.2.2.2.2.cmml">i</mi><mn id="S2.p4.2.m2.3.3.2.2.2.3" xref="S2.p4.2.m2.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S2.p4.2.m2.4.4.3.3.6" xref="S2.p4.2.m2.4.4.3.4.cmml">,</mo><mi id="S2.p4.2.m2.1.1" mathvariant="normal" xref="S2.p4.2.m2.1.1.cmml">…</mi><mo id="S2.p4.2.m2.4.4.3.3.7" xref="S2.p4.2.m2.4.4.3.4.cmml">,</mo><msub id="S2.p4.2.m2.4.4.3.3.3" xref="S2.p4.2.m2.4.4.3.3.3.cmml"><mi id="S2.p4.2.m2.4.4.3.3.3.2" xref="S2.p4.2.m2.4.4.3.3.3.2.cmml">i</mi><mi id="S2.p4.2.m2.4.4.3.3.3.3" xref="S2.p4.2.m2.4.4.3.3.3.3.cmml">n</mi></msub><mo id="S2.p4.2.m2.4.4.3.3.8" stretchy="false" xref="S2.p4.2.m2.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.2.m2.4b"><apply id="S2.p4.2.m2.4.4.cmml" xref="S2.p4.2.m2.4.4"><eq id="S2.p4.2.m2.4.4.4.cmml" xref="S2.p4.2.m2.4.4.4"></eq><ci id="S2.p4.2.m2.4.4.5.cmml" xref="S2.p4.2.m2.4.4.5">𝑠</ci><set id="S2.p4.2.m2.4.4.3.4.cmml" xref="S2.p4.2.m2.4.4.3.3"><apply id="S2.p4.2.m2.2.2.1.1.1.cmml" xref="S2.p4.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S2.p4.2.m2.2.2.1.1.1.1.cmml" xref="S2.p4.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S2.p4.2.m2.2.2.1.1.1.2.cmml" xref="S2.p4.2.m2.2.2.1.1.1.2">𝑖</ci><cn id="S2.p4.2.m2.2.2.1.1.1.3.cmml" type="integer" xref="S2.p4.2.m2.2.2.1.1.1.3">1</cn></apply><apply id="S2.p4.2.m2.3.3.2.2.2.cmml" xref="S2.p4.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S2.p4.2.m2.3.3.2.2.2.1.cmml" xref="S2.p4.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S2.p4.2.m2.3.3.2.2.2.2.cmml" xref="S2.p4.2.m2.3.3.2.2.2.2">𝑖</ci><cn id="S2.p4.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S2.p4.2.m2.3.3.2.2.2.3">2</cn></apply><ci id="S2.p4.2.m2.1.1.cmml" xref="S2.p4.2.m2.1.1">…</ci><apply id="S2.p4.2.m2.4.4.3.3.3.cmml" xref="S2.p4.2.m2.4.4.3.3.3"><csymbol cd="ambiguous" id="S2.p4.2.m2.4.4.3.3.3.1.cmml" xref="S2.p4.2.m2.4.4.3.3.3">subscript</csymbol><ci id="S2.p4.2.m2.4.4.3.3.3.2.cmml" xref="S2.p4.2.m2.4.4.3.3.3.2">𝑖</ci><ci id="S2.p4.2.m2.4.4.3.3.3.3.cmml" xref="S2.p4.2.m2.4.4.3.3.3.3">𝑛</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.2.m2.4c">s=\{i_{1},i_{2},...,i_{n}\}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.2.m2.4d">italic_s = { italic_i start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_i start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , … , italic_i start_POSTSUBSCRIPT italic_n end_POSTSUBSCRIPT }</annotation></semantics></math>, <math alttext="i\in\mathcal{I}" class="ltx_Math" display="inline" id="S2.p4.3.m3.1"><semantics id="S2.p4.3.m3.1a"><mrow id="S2.p4.3.m3.1.1" xref="S2.p4.3.m3.1.1.cmml"><mi id="S2.p4.3.m3.1.1.2" xref="S2.p4.3.m3.1.1.2.cmml">i</mi><mo id="S2.p4.3.m3.1.1.1" xref="S2.p4.3.m3.1.1.1.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S2.p4.3.m3.1.1.3" xref="S2.p4.3.m3.1.1.3.cmml">ℐ</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p4.3.m3.1b"><apply id="S2.p4.3.m3.1.1.cmml" xref="S2.p4.3.m3.1.1"><in id="S2.p4.3.m3.1.1.1.cmml" xref="S2.p4.3.m3.1.1.1"></in><ci id="S2.p4.3.m3.1.1.2.cmml" xref="S2.p4.3.m3.1.1.2">𝑖</ci><ci id="S2.p4.3.m3.1.1.3.cmml" xref="S2.p4.3.m3.1.1.3">ℐ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.3.m3.1c">i\in\mathcal{I}</annotation><annotation encoding="application/x-llamapun" id="S2.p4.3.m3.1d">italic_i ∈ caligraphic_I</annotation></semantics></math> in temporal order where <math alttext="n" class="ltx_Math" display="inline" id="S2.p4.4.m4.1"><semantics id="S2.p4.4.m4.1a"><mi id="S2.p4.4.m4.1.1" xref="S2.p4.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.p4.4.m4.1b"><ci id="S2.p4.4.m4.1.1.cmml" xref="S2.p4.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p4.4.m4.1c">n</annotation><annotation encoding="application/x-llamapun" id="S2.p4.4.m4.1d">italic_n</annotation></semantics></math> is the length of the sequence<cite class="ltx_cite ltx_citemacro_citep">(Li et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib18" title="">2023</a>)</cite>. This formulation only accounts for cases where all items in the sequence are accepted by users. However, during the recommendation process, users may also be recommended items in which they are not interested. In other words, if we distinguish between exposure and acceptance, with acceptance denoted as 1 and rejection as 0, the traditional viewpoint only models sequences composed entirely of 1s, thereby overlooking sequences that include 0s.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p5">
<p class="ltx_p" id="S2.p5.1"><span class="ltx_text ltx_font_bold" id="S2.p5.1.1">Recommendation from a causal perspective.</span>
Compared to the existing formulation that focuses on uncovering users’ unbiased interests, causal inference methods offer a more general and intuitive approach by aiming to characterize how users’ decisions are causally influenced. In this context, the recommender system acts as an <span class="ltx_text ltx_font_italic" id="S2.p5.1.2">intervention</span> on the user, specifically by controlling the exposure of items to the user, which naturally separates the concepts of exposure and acceptance.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p6">
<p class="ltx_p" id="S2.p6.1"><span class="ltx_text ltx_font_bold" id="S2.p6.1.1">Causal graph through DAG.</span> The causal relationships among variables can be represented by a Directed Acyclic Graph (DAG). In this graph, each (potentially high-dimensional) variable is represented as a node, and the directed edges indicate causal relationships, always pointing from parent nodes to child nodes. A causal graph can be estimated using do-calculus as detailed in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A1" title="Appendix A Do-Calculus ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">A</span></a>.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p7">
<p class="ltx_p" id="S2.p7.1"><span class="ltx_text ltx_font_bold" id="S2.p7.1.1">Intervention and do-operator.</span> <span class="ltx_text ltx_font_italic" id="S2.p7.1.2">Intervention</span> is one of the fundamental concepts in causal inference. When we intervene on a variable, we set the value of a variable and cut all incoming causal arrows since its value is thereby determined only by the intervention <cite class="ltx_cite ltx_citemacro_citep">(Pearl, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib25" title="">2012</a>)</cite>. The intervention is mathematically represented by the <span class="ltx_text ltx_font_italic" id="S2.p7.1.3">do-operator</span> <math alttext="do(\cdot)" class="ltx_Math" display="inline" id="S2.p7.1.m1.1"><semantics id="S2.p7.1.m1.1a"><mrow id="S2.p7.1.m1.1.2" xref="S2.p7.1.m1.1.2.cmml"><mi id="S2.p7.1.m1.1.2.2" xref="S2.p7.1.m1.1.2.2.cmml">d</mi><mo id="S2.p7.1.m1.1.2.1" xref="S2.p7.1.m1.1.2.1.cmml">⁢</mo><mi id="S2.p7.1.m1.1.2.3" xref="S2.p7.1.m1.1.2.3.cmml">o</mi><mo id="S2.p7.1.m1.1.2.1a" xref="S2.p7.1.m1.1.2.1.cmml">⁢</mo><mrow id="S2.p7.1.m1.1.2.4.2" xref="S2.p7.1.m1.1.2.cmml"><mo id="S2.p7.1.m1.1.2.4.2.1" stretchy="false" xref="S2.p7.1.m1.1.2.cmml">(</mo><mo id="S2.p7.1.m1.1.1" lspace="0em" rspace="0em" xref="S2.p7.1.m1.1.1.cmml">⋅</mo><mo id="S2.p7.1.m1.1.2.4.2.2" stretchy="false" xref="S2.p7.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p7.1.m1.1b"><apply id="S2.p7.1.m1.1.2.cmml" xref="S2.p7.1.m1.1.2"><times id="S2.p7.1.m1.1.2.1.cmml" xref="S2.p7.1.m1.1.2.1"></times><ci id="S2.p7.1.m1.1.2.2.cmml" xref="S2.p7.1.m1.1.2.2">𝑑</ci><ci id="S2.p7.1.m1.1.2.3.cmml" xref="S2.p7.1.m1.1.2.3">𝑜</ci><ci id="S2.p7.1.m1.1.1.cmml" xref="S2.p7.1.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p7.1.m1.1c">do(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S2.p7.1.m1.1d">italic_d italic_o ( ⋅ )</annotation></semantics></math>. We include the do-calculus for identifying causal effects from a causal graph in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A1" title="Appendix A Do-Calculus ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">appendix</span> <span class="ltx_text ltx_ref_tag">A</span></a>.
In the context of recommendation, we are trying to understand how the <span class="ltx_text ltx_font_italic" id="S2.p7.1.4">changes in recommended items affect the user’s decision and satisfaction</span>, which can be represented by</p>
</div>
<div class="ltx_theorem ltx_theorem_definition" id="S2.Thmtheorem1">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Definition 2.1 (Recommendation in Causal Inference).</h6>
<div class="ltx_para" id="S2.Thmtheorem1.p1">
<p class="ltx_p" id="S2.Thmtheorem1.p1.2">Let <math alttext="D" class="ltx_Math" display="inline" id="S2.Thmtheorem1.p1.1.m1.1"><semantics id="S2.Thmtheorem1.p1.1.m1.1a"><mi id="S2.Thmtheorem1.p1.1.m1.1.1" xref="S2.Thmtheorem1.p1.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.Thmtheorem1.p1.1.m1.1b"><ci id="S2.Thmtheorem1.p1.1.m1.1.1.cmml" xref="S2.Thmtheorem1.p1.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.Thmtheorem1.p1.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.Thmtheorem1.p1.1.m1.1d">italic_D</annotation></semantics></math> and <math alttext="S" class="ltx_Math" display="inline" id="S2.Thmtheorem1.p1.2.m2.1"><semantics id="S2.Thmtheorem1.p1.2.m2.1a"><mi id="S2.Thmtheorem1.p1.2.m2.1.1" xref="S2.Thmtheorem1.p1.2.m2.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.Thmtheorem1.p1.2.m2.1b"><ci id="S2.Thmtheorem1.p1.2.m2.1.1.cmml" xref="S2.Thmtheorem1.p1.2.m2.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.Thmtheorem1.p1.2.m2.1c">S</annotation><annotation encoding="application/x-llamapun" id="S2.Thmtheorem1.p1.2.m2.1d">italic_S</annotation></semantics></math> represents the user decision and the system recommendation respectively,</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(1)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P(D|do(S=s),P)" class="ltx_Math" display="block" id="S2.E1.m1.2"><semantics id="S2.E1.m1.2a"><mrow id="S2.E1.m1.2.2" xref="S2.E1.m1.2.2.cmml"><mi id="S2.E1.m1.2.2.3" xref="S2.E1.m1.2.2.3.cmml">P</mi><mo id="S2.E1.m1.2.2.2" xref="S2.E1.m1.2.2.2.cmml">⁢</mo><mrow id="S2.E1.m1.2.2.1.1" xref="S2.E1.m1.2.2.1.1.1.cmml"><mo id="S2.E1.m1.2.2.1.1.2" stretchy="false" xref="S2.E1.m1.2.2.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.2.2.1.1.1" xref="S2.E1.m1.2.2.1.1.1.cmml"><mi id="S2.E1.m1.2.2.1.1.1.3" xref="S2.E1.m1.2.2.1.1.1.3.cmml">D</mi><mo fence="false" id="S2.E1.m1.2.2.1.1.1.2" xref="S2.E1.m1.2.2.1.1.1.2.cmml">|</mo><mrow id="S2.E1.m1.2.2.1.1.1.1.1" xref="S2.E1.m1.2.2.1.1.1.1.2.cmml"><mrow id="S2.E1.m1.2.2.1.1.1.1.1.1" xref="S2.E1.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.2.2.1.1.1.1.1.1.3" xref="S2.E1.m1.2.2.1.1.1.1.1.1.3.cmml">d</mi><mo id="S2.E1.m1.2.2.1.1.1.1.1.1.2" xref="S2.E1.m1.2.2.1.1.1.1.1.1.2.cmml">⁢</mo><mi id="S2.E1.m1.2.2.1.1.1.1.1.1.4" xref="S2.E1.m1.2.2.1.1.1.1.1.1.4.cmml">o</mi><mo id="S2.E1.m1.2.2.1.1.1.1.1.1.2a" xref="S2.E1.m1.2.2.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mo id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">=</mo><mi id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml">s</mi></mrow><mo id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S2.E1.m1.2.2.1.1.1.1.1.2" xref="S2.E1.m1.2.2.1.1.1.1.2.cmml">,</mo><mi id="S2.E1.m1.1.1" xref="S2.E1.m1.1.1.cmml">P</mi></mrow></mrow><mo id="S2.E1.m1.2.2.1.1.3" stretchy="false" xref="S2.E1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.2b"><apply id="S2.E1.m1.2.2.cmml" xref="S2.E1.m1.2.2"><times id="S2.E1.m1.2.2.2.cmml" xref="S2.E1.m1.2.2.2"></times><ci id="S2.E1.m1.2.2.3.cmml" xref="S2.E1.m1.2.2.3">𝑃</ci><apply id="S2.E1.m1.2.2.1.1.1.cmml" xref="S2.E1.m1.2.2.1.1"><csymbol cd="latexml" id="S2.E1.m1.2.2.1.1.1.2.cmml" xref="S2.E1.m1.2.2.1.1.1.2">conditional</csymbol><ci id="S2.E1.m1.2.2.1.1.1.3.cmml" xref="S2.E1.m1.2.2.1.1.1.3">𝐷</ci><list id="S2.E1.m1.2.2.1.1.1.1.2.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1"><apply id="S2.E1.m1.2.2.1.1.1.1.1.1.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1.1"><times id="S2.E1.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1.1.2"></times><ci id="S2.E1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1.1.3">𝑑</ci><ci id="S2.E1.m1.2.2.1.1.1.1.1.1.4.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1.1.4">𝑜</ci><apply id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1"><eq id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.1"></eq><ci id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.2.2.1.1.1.1.1.1.1.1.1.3">𝑠</ci></apply></apply><ci id="S2.E1.m1.1.1.cmml" xref="S2.E1.m1.1.1">𝑃</ci></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.2c">P(D|do(S=s),P)</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.2d">italic_P ( italic_D | italic_d italic_o ( italic_S = italic_s ) , italic_P )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.Thmtheorem1.p1.5">characterizes an interventional distribution and reflects how a change of <math alttext="S" class="ltx_Math" display="inline" id="S2.Thmtheorem1.p1.3.m1.1"><semantics id="S2.Thmtheorem1.p1.3.m1.1a"><mi id="S2.Thmtheorem1.p1.3.m1.1.1" xref="S2.Thmtheorem1.p1.3.m1.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S2.Thmtheorem1.p1.3.m1.1b"><ci id="S2.Thmtheorem1.p1.3.m1.1.1.cmml" xref="S2.Thmtheorem1.p1.3.m1.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.Thmtheorem1.p1.3.m1.1c">S</annotation><annotation encoding="application/x-llamapun" id="S2.Thmtheorem1.p1.3.m1.1d">italic_S</annotation></semantics></math> affects the distribution of <math alttext="D" class="ltx_Math" display="inline" id="S2.Thmtheorem1.p1.4.m2.1"><semantics id="S2.Thmtheorem1.p1.4.m2.1a"><mi id="S2.Thmtheorem1.p1.4.m2.1.1" xref="S2.Thmtheorem1.p1.4.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S2.Thmtheorem1.p1.4.m2.1b"><ci id="S2.Thmtheorem1.p1.4.m2.1.1.cmml" xref="S2.Thmtheorem1.p1.4.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.Thmtheorem1.p1.4.m2.1c">D</annotation><annotation encoding="application/x-llamapun" id="S2.Thmtheorem1.p1.4.m2.1d">italic_D</annotation></semantics></math> for users represented by the preference <math alttext="P" class="ltx_Math" display="inline" id="S2.Thmtheorem1.p1.5.m3.1"><semantics id="S2.Thmtheorem1.p1.5.m3.1a"><mi id="S2.Thmtheorem1.p1.5.m3.1.1" xref="S2.Thmtheorem1.p1.5.m3.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S2.Thmtheorem1.p1.5.m3.1b"><ci id="S2.Thmtheorem1.p1.5.m3.1.1.cmml" xref="S2.Thmtheorem1.p1.5.m3.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.Thmtheorem1.p1.5.m3.1c">P</annotation><annotation encoding="application/x-llamapun" id="S2.Thmtheorem1.p1.5.m3.1d">italic_P</annotation></semantics></math> .</p>
</div>
</div>
<div class="ltx_para ltx_noindent" id="S2.p8">
<p class="ltx_p" id="S2.p8.1"><span class="ltx_text ltx_font_bold" id="S2.p8.1.1">Observational distribution and interventional distribution.</span>
Observational distributions refer to data passively collected without any explicit manipulation, reflecting correlations influenced by potential underlying factors. In contrast, interventional distributions are generated through controlled interventions, where specific variables are deliberately manipulated to observe causal outcomes. In this paper, since we are interested in exploring how system intervention affect user’s purchase decision, we refer to historical data, where user selects what to buy, as the observational data, and refer to the data which contains user’s reaction towards recommender system as the interventional data.</p>
</div>
<div class="ltx_para ltx_noindent" id="S2.p9">
<p class="ltx_p" id="S2.p9.1"><span class="ltx_text ltx_font_bold" id="S2.p9.1.1">Treatment effect estimation.</span>
Treatment effect estimation is a fundamental aspect of causal inference that involves quantifying the impact of an intervention on an outcome. It measures the difference in outcomes resulting from a specific treatment compared to what would have occurred in the absence of the treatment. This method offers a rigorous approach to evaluating the influence of recommender systems on user decisions. By assessing the variance in user decisions before and after receiving recommendations, we can accurately quantify the system’s impact on user behavior.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3. </span>Sequential Recommendation Represented in Causal Graph</h2>
<div class="ltx_para" id="S3.p1">
<p class="ltx_p" id="S3.p1.6">In this section, we introduce the causal graph for the sequential recommendation as shown in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S1.F1" title="In 1. Introduction ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a>.
Without the intervention of recommendation system, users select which item to purchase according to their own natural preference, and this purchase/rating/clicking behavior is collected as the observational/historical data. We use <math alttext="P" class="ltx_Math" display="inline" id="S3.p1.1.m1.1"><semantics id="S3.p1.1.m1.1a"><mi id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">P</mi><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><ci id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">𝑃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">P</annotation><annotation encoding="application/x-llamapun" id="S3.p1.1.m1.1d">italic_P</annotation></semantics></math> to denote the user’s preference. Since the sequential nature of the data, we use subscript to denote the timestamp. Thus <math alttext="P_{t}" class="ltx_Math" display="inline" id="S3.p1.2.m2.1"><semantics id="S3.p1.2.m2.1a"><msub id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><mi id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">P</mi><mi id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1">subscript</csymbol><ci id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2">𝑃</ci><ci id="S3.p1.2.m2.1.1.3.cmml" xref="S3.p1.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p1.2.m2.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> reflects the user’s preference at time step <math alttext="t" class="ltx_Math" display="inline" id="S3.p1.3.m3.1"><semantics id="S3.p1.3.m3.1a"><mi id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><ci id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S3.p1.3.m3.1d">italic_t</annotation></semantics></math>. We use <math alttext="S" class="ltx_Math" display="inline" id="S3.p1.4.m4.1"><semantics id="S3.p1.4.m4.1a"><mi id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml">S</mi><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><ci id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1">𝑆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">S</annotation><annotation encoding="application/x-llamapun" id="S3.p1.4.m4.1d">italic_S</annotation></semantics></math> to denote the exposure of items to users. Specifically, under an interventional setting, it represents the system’s recommendation and under an observational setting, it means that users are exposed to the item from a different source. We use <math alttext="D" class="ltx_Math" display="inline" id="S3.p1.5.m5.1"><semantics id="S3.p1.5.m5.1a"><mi id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.1b"><ci id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.p1.5.m5.1d">italic_D</annotation></semantics></math> to denote user’s decision towards inquired items, and <math alttext="D" class="ltx_Math" display="inline" id="S3.p1.6.m6.1"><semantics id="S3.p1.6.m6.1a"><mi id="S3.p1.6.m6.1.1" xref="S3.p1.6.m6.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.p1.6.m6.1b"><ci id="S3.p1.6.m6.1.1.cmml" xref="S3.p1.6.m6.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.6.m6.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.p1.6.m6.1d">italic_D</annotation></semantics></math> to denote the user’s decision towards the recommended items.</p>
</div>
<div class="ltx_para" id="S3.p2">
<p class="ltx_p" id="S3.p2.2">In this paper, we focus on one of the most general recommendation scenarios, where a user’s decisions are influenced by their inherent preferences, the recommender system, and their previous decisions. While in an online setting, there might be an additional causal link from <math alttext="D_{t}" class="ltx_Math" display="inline" id="S3.p2.1.m1.1"><semantics id="S3.p2.1.m1.1a"><msub id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml"><mi id="S3.p2.1.m1.1.1.2" xref="S3.p2.1.m1.1.1.2.cmml">D</mi><mi id="S3.p2.1.m1.1.1.3" xref="S3.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><apply id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p2.1.m1.1.1.1.cmml" xref="S3.p2.1.m1.1.1">subscript</csymbol><ci id="S3.p2.1.m1.1.1.2.cmml" xref="S3.p2.1.m1.1.1.2">𝐷</ci><ci id="S3.p2.1.m1.1.1.3.cmml" xref="S3.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.1.m1.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> to <math alttext="S_{t+1}" class="ltx_Math" display="inline" id="S3.p2.2.m2.1"><semantics id="S3.p2.2.m2.1a"><msub id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml"><mi id="S3.p2.2.m2.1.1.2" xref="S3.p2.2.m2.1.1.2.cmml">S</mi><mrow id="S3.p2.2.m2.1.1.3" xref="S3.p2.2.m2.1.1.3.cmml"><mi id="S3.p2.2.m2.1.1.3.2" xref="S3.p2.2.m2.1.1.3.2.cmml">t</mi><mo id="S3.p2.2.m2.1.1.3.1" xref="S3.p2.2.m2.1.1.3.1.cmml">+</mo><mn id="S3.p2.2.m2.1.1.3.3" xref="S3.p2.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><apply id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p2.2.m2.1.1.1.cmml" xref="S3.p2.2.m2.1.1">subscript</csymbol><ci id="S3.p2.2.m2.1.1.2.cmml" xref="S3.p2.2.m2.1.1.2">𝑆</ci><apply id="S3.p2.2.m2.1.1.3.cmml" xref="S3.p2.2.m2.1.1.3"><plus id="S3.p2.2.m2.1.1.3.1.cmml" xref="S3.p2.2.m2.1.1.3.1"></plus><ci id="S3.p2.2.m2.1.1.3.2.cmml" xref="S3.p2.2.m2.1.1.3.2">𝑡</ci><cn id="S3.p2.2.m2.1.1.3.3.cmml" type="integer" xref="S3.p2.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">S_{t+1}</annotation><annotation encoding="application/x-llamapun" id="S3.p2.2.m2.1d">italic_S start_POSTSUBSCRIPT italic_t + 1 end_POSTSUBSCRIPT</annotation></semantics></math>, in this work, we adhere to an offline training schedule and do not consider the causal relationship depicted by the yellow arrow.</p>
</div>
<div class="ltx_para" id="S3.p3">
<p class="ltx_p" id="S3.p3.3">This causal graph representation provides a way to overcome the limitations of existing formulations while retaining the benefits of recovering users’ preferences. In this context, <math alttext="P_{t}" class="ltx_Math" display="inline" id="S3.p3.1.m1.1"><semantics id="S3.p3.1.m1.1a"><msub id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml"><mi id="S3.p3.1.m1.1.1.2" xref="S3.p3.1.m1.1.1.2.cmml">P</mi><mi id="S3.p3.1.m1.1.1.3" xref="S3.p3.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><apply id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p3.1.m1.1.1.1.cmml" xref="S3.p3.1.m1.1.1">subscript</csymbol><ci id="S3.p3.1.m1.1.1.2.cmml" xref="S3.p3.1.m1.1.1.2">𝑃</ci><ci id="S3.p3.1.m1.1.1.3.cmml" xref="S3.p3.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.1.m1.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> represents the user’s genuine interests in the items, which can still be modeled by existing methods. The key difference is that, rather than identifying the item the user likes the most (item with the highest probability of <math alttext="P_{t}" class="ltx_Math" display="inline" id="S3.p3.2.m2.1"><semantics id="S3.p3.2.m2.1a"><msub id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml"><mi id="S3.p3.2.m2.1.1.2" xref="S3.p3.2.m2.1.1.2.cmml">P</mi><mi id="S3.p3.2.m2.1.1.3" xref="S3.p3.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><apply id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.p3.2.m2.1.1.1.cmml" xref="S3.p3.2.m2.1.1">subscript</csymbol><ci id="S3.p3.2.m2.1.1.2.cmml" xref="S3.p3.2.m2.1.1.2">𝑃</ci><ci id="S3.p3.2.m2.1.1.3.cmml" xref="S3.p3.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.2.m2.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>), we focus on finding the item the user is most likely to purchase (item with the highest probability of <math alttext="D_{t}" class="ltx_Math" display="inline" id="S3.p3.3.m3.1"><semantics id="S3.p3.3.m3.1a"><msub id="S3.p3.3.m3.1.1" xref="S3.p3.3.m3.1.1.cmml"><mi id="S3.p3.3.m3.1.1.2" xref="S3.p3.3.m3.1.1.2.cmml">D</mi><mi id="S3.p3.3.m3.1.1.3" xref="S3.p3.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.3.m3.1b"><apply id="S3.p3.3.m3.1.1.cmml" xref="S3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p3.3.m3.1.1.1.cmml" xref="S3.p3.3.m3.1.1">subscript</csymbol><ci id="S3.p3.3.m3.1.1.2.cmml" xref="S3.p3.3.m3.1.1.2">𝐷</ci><ci id="S3.p3.3.m3.1.1.3.cmml" xref="S3.p3.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="S3.p3.3.m3.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>). Such a shift allows for the natural consideration of all influential factors and the underlying causal relationships, bringing the approach closer to the original goal of understanding the user’s decision-making process.</p>
</div>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4. </span>Demystifying User’s Decision-Making Through Causal Formulation</h2>
<div class="ltx_para" id="S4.p1">
<p class="ltx_p" id="S4.p1.1">In this section, we demonstrate how to estimate the impact of various factors on users’ decisions. Specifically, we adhere to the causal graph outlined in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S1.F1" title="In 1. Introduction ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a> and illustrate how users’ decisions are influenced by the recommender system, previous decisions, and their inherent preferences.</p>
</div>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1. </span>Problem Setting</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.1">From a causal perspective, estimating how a sequence of system recommendation affects user’s decision at <math alttext="T=t" class="ltx_Math" display="inline" id="S4.SS1.p1.1.m1.1"><semantics id="S4.SS1.p1.1.m1.1a"><mrow id="S4.SS1.p1.1.m1.1.1" xref="S4.SS1.p1.1.m1.1.1.cmml"><mi id="S4.SS1.p1.1.m1.1.1.2" xref="S4.SS1.p1.1.m1.1.1.2.cmml">T</mi><mo id="S4.SS1.p1.1.m1.1.1.1" xref="S4.SS1.p1.1.m1.1.1.1.cmml">=</mo><mi id="S4.SS1.p1.1.m1.1.1.3" xref="S4.SS1.p1.1.m1.1.1.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.m1.1b"><apply id="S4.SS1.p1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1"><eq id="S4.SS1.p1.1.m1.1.1.1.cmml" xref="S4.SS1.p1.1.m1.1.1.1"></eq><ci id="S4.SS1.p1.1.m1.1.1.2.cmml" xref="S4.SS1.p1.1.m1.1.1.2">𝑇</ci><ci id="S4.SS1.p1.1.m1.1.1.3.cmml" xref="S4.SS1.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.m1.1c">T=t</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.m1.1d">italic_T = italic_t</annotation></semantics></math> is equivalent to estimating the causal effect of the decision under intervention from the system.</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(2)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})." class="ltx_Math" display="block" id="S4.E2.m1.2"><semantics id="S4.E2.m1.2a"><mrow id="S4.E2.m1.2.2.1" xref="S4.E2.m1.2.2.1.1.cmml"><mrow id="S4.E2.m1.2.2.1.1" xref="S4.E2.m1.2.2.1.1.cmml"><mi id="S4.E2.m1.2.2.1.1.3" xref="S4.E2.m1.2.2.1.1.3.cmml">ℙ</mi><mo id="S4.E2.m1.2.2.1.1.2" xref="S4.E2.m1.2.2.1.1.2.cmml">⁢</mo><mrow id="S4.E2.m1.2.2.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.1.cmml"><mo id="S4.E2.m1.2.2.1.1.1.1.2" stretchy="false" xref="S4.E2.m1.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S4.E2.m1.2.2.1.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.1.cmml"><msub id="S4.E2.m1.2.2.1.1.1.1.1.4" xref="S4.E2.m1.2.2.1.1.1.1.1.4.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.4.2" xref="S4.E2.m1.2.2.1.1.1.1.1.4.2.cmml">D</mi><mi id="S4.E2.m1.2.2.1.1.1.1.1.4.3" xref="S4.E2.m1.2.2.1.1.1.1.1.4.3.cmml">t</mi></msub><mo fence="false" id="S4.E2.m1.2.2.1.1.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.1.1.3.cmml">|</mo><mrow id="S4.E2.m1.2.2.1.1.1.1.1.2.2" xref="S4.E2.m1.2.2.1.1.1.1.1.2.3.cmml"><mrow id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.cmml"><mtext id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.5" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.5a.cmml">do</mtext><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.4" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.4.cmml">⁢</mo><mrow id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.4.cmml"><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msub id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.5" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mrow id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.6" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S4.E2.m1.1.1" mathvariant="normal" xref="S4.E2.m1.1.1.cmml">…</mi><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.7" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.2" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.2.cmml">S</mi><mn id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.3" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.3.cmml">1</mn></msub><mo id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.8" stretchy="false" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.2.2.1.1.1.1.1.2.2.3" xref="S4.E2.m1.2.2.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.E2.m1.2.2.1.1.1.1.1.2.2.2" xref="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.2" xref="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.2.cmml">P</mi><mi id="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.3" xref="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.E2.m1.2.2.1.1.1.1.3" stretchy="false" xref="S4.E2.m1.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E2.m1.2.2.1.2" lspace="0em" xref="S4.E2.m1.2.2.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E2.m1.2b"><apply id="S4.E2.m1.2.2.1.1.cmml" xref="S4.E2.m1.2.2.1"><times id="S4.E2.m1.2.2.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.2"></times><ci id="S4.E2.m1.2.2.1.1.3.cmml" xref="S4.E2.m1.2.2.1.1.3">ℙ</ci><apply id="S4.E2.m1.2.2.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1"><csymbol cd="latexml" id="S4.E2.m1.2.2.1.1.1.1.1.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.3">conditional</csymbol><apply id="S4.E2.m1.2.2.1.1.1.1.1.4.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.4.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.4">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.1.4.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.4.2">𝐷</ci><ci id="S4.E2.m1.2.2.1.1.1.1.1.4.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.4.3">𝑡</ci></apply><list id="S4.E2.m1.2.2.1.1.1.1.1.2.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.2.2"><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1"><times id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.4"></times><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.5a.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.5"><mtext id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.5.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.5">do</mtext></ci><vector id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.4.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3"><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.2">𝑆</ci><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3"><minus id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S4.E2.m1.1.1.cmml" xref="S4.E2.m1.1.1">…</ci><apply id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.2">𝑆</ci><cn id="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.3.cmml" type="integer" xref="S4.E2.m1.2.2.1.1.1.1.1.1.1.1.3.3.3.3">1</cn></apply></vector></apply><apply id="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.2">𝑃</ci><ci id="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E2.m1.2.2.1.1.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E2.m1.2c">\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t}).</annotation><annotation encoding="application/x-llamapun" id="S4.E2.m1.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS1.p1.2">We intervene only in system recommendations to improve the purchasing likelihood under the recommendations. We cannot directly change a user’s behavior or purchasing logic; instead, we aim to increase the probability of purchase through our recommendations.</p>
</div>
<div class="ltx_para" id="S4.SS1.p2">
<p class="ltx_p" id="S4.SS1.p2.9">From <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S1.F1" title="In 1. Introduction ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a>, we observe that the decision <math alttext="D_{t}" class="ltx_Math" display="inline" id="S4.SS1.p2.1.m1.1"><semantics id="S4.SS1.p2.1.m1.1a"><msub id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><mi id="S4.SS1.p2.1.m1.1.1.2" xref="S4.SS1.p2.1.m1.1.1.2.cmml">D</mi><mi id="S4.SS1.p2.1.m1.1.1.3" xref="S4.SS1.p2.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2">𝐷</ci><ci id="S4.SS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.p2.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.1.m1.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is directly influenced by the recommender system <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.SS1.p2.2.m2.1"><semantics id="S4.SS1.p2.2.m2.1a"><msub id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml"><mi id="S4.SS1.p2.2.m2.1.1.2" xref="S4.SS1.p2.2.m2.1.1.2.cmml">S</mi><mi id="S4.SS1.p2.2.m2.1.1.3" xref="S4.SS1.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><apply id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.2.m2.1.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS1.p2.2.m2.1.1.2.cmml" xref="S4.SS1.p2.2.m2.1.1.2">𝑆</ci><ci id="S4.SS1.p2.2.m2.1.1.3.cmml" xref="S4.SS1.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.2.m2.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> at time <math alttext="t" class="ltx_Math" display="inline" id="S4.SS1.p2.3.m3.1"><semantics id="S4.SS1.p2.3.m3.1a"><mi id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.1b"><ci id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.3.m3.1d">italic_t</annotation></semantics></math>, the user’s preference <math alttext="P_{t}" class="ltx_Math" display="inline" id="S4.SS1.p2.4.m4.1"><semantics id="S4.SS1.p2.4.m4.1a"><msub id="S4.SS1.p2.4.m4.1.1" xref="S4.SS1.p2.4.m4.1.1.cmml"><mi id="S4.SS1.p2.4.m4.1.1.2" xref="S4.SS1.p2.4.m4.1.1.2.cmml">P</mi><mi id="S4.SS1.p2.4.m4.1.1.3" xref="S4.SS1.p2.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.4.m4.1b"><apply id="S4.SS1.p2.4.m4.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.4.m4.1.1.1.cmml" xref="S4.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS1.p2.4.m4.1.1.2.cmml" xref="S4.SS1.p2.4.m4.1.1.2">𝑃</ci><ci id="S4.SS1.p2.4.m4.1.1.3.cmml" xref="S4.SS1.p2.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.4.m4.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.4.m4.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>, and the user’s previous decision <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="S4.SS1.p2.5.m5.1"><semantics id="S4.SS1.p2.5.m5.1a"><msub id="S4.SS1.p2.5.m5.1.1" xref="S4.SS1.p2.5.m5.1.1.cmml"><mi id="S4.SS1.p2.5.m5.1.1.2" xref="S4.SS1.p2.5.m5.1.1.2.cmml">D</mi><mrow id="S4.SS1.p2.5.m5.1.1.3" xref="S4.SS1.p2.5.m5.1.1.3.cmml"><mi id="S4.SS1.p2.5.m5.1.1.3.2" xref="S4.SS1.p2.5.m5.1.1.3.2.cmml">t</mi><mo id="S4.SS1.p2.5.m5.1.1.3.1" xref="S4.SS1.p2.5.m5.1.1.3.1.cmml">−</mo><mn id="S4.SS1.p2.5.m5.1.1.3.3" xref="S4.SS1.p2.5.m5.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.5.m5.1b"><apply id="S4.SS1.p2.5.m5.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.5.m5.1.1.1.cmml" xref="S4.SS1.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS1.p2.5.m5.1.1.2.cmml" xref="S4.SS1.p2.5.m5.1.1.2">𝐷</ci><apply id="S4.SS1.p2.5.m5.1.1.3.cmml" xref="S4.SS1.p2.5.m5.1.1.3"><minus id="S4.SS1.p2.5.m5.1.1.3.1.cmml" xref="S4.SS1.p2.5.m5.1.1.3.1"></minus><ci id="S4.SS1.p2.5.m5.1.1.3.2.cmml" xref="S4.SS1.p2.5.m5.1.1.3.2">𝑡</ci><cn id="S4.SS1.p2.5.m5.1.1.3.3.cmml" type="integer" xref="S4.SS1.p2.5.m5.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.5.m5.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.5.m5.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>. In a sequential recommendation setting, <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="S4.SS1.p2.6.m6.1"><semantics id="S4.SS1.p2.6.m6.1a"><msub id="S4.SS1.p2.6.m6.1.1" xref="S4.SS1.p2.6.m6.1.1.cmml"><mi id="S4.SS1.p2.6.m6.1.1.2" xref="S4.SS1.p2.6.m6.1.1.2.cmml">D</mi><mrow id="S4.SS1.p2.6.m6.1.1.3" xref="S4.SS1.p2.6.m6.1.1.3.cmml"><mi id="S4.SS1.p2.6.m6.1.1.3.2" xref="S4.SS1.p2.6.m6.1.1.3.2.cmml">t</mi><mo id="S4.SS1.p2.6.m6.1.1.3.1" xref="S4.SS1.p2.6.m6.1.1.3.1.cmml">−</mo><mn id="S4.SS1.p2.6.m6.1.1.3.3" xref="S4.SS1.p2.6.m6.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.6.m6.1b"><apply id="S4.SS1.p2.6.m6.1.1.cmml" xref="S4.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.6.m6.1.1.1.cmml" xref="S4.SS1.p2.6.m6.1.1">subscript</csymbol><ci id="S4.SS1.p2.6.m6.1.1.2.cmml" xref="S4.SS1.p2.6.m6.1.1.2">𝐷</ci><apply id="S4.SS1.p2.6.m6.1.1.3.cmml" xref="S4.SS1.p2.6.m6.1.1.3"><minus id="S4.SS1.p2.6.m6.1.1.3.1.cmml" xref="S4.SS1.p2.6.m6.1.1.3.1"></minus><ci id="S4.SS1.p2.6.m6.1.1.3.2.cmml" xref="S4.SS1.p2.6.m6.1.1.3.2">𝑡</ci><cn id="S4.SS1.p2.6.m6.1.1.3.3.cmml" type="integer" xref="S4.SS1.p2.6.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.6.m6.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.6.m6.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> inherently includes information about the recommender system at the prior time step <math alttext="S_{t-1}" class="ltx_Math" display="inline" id="S4.SS1.p2.7.m7.1"><semantics id="S4.SS1.p2.7.m7.1a"><msub id="S4.SS1.p2.7.m7.1.1" xref="S4.SS1.p2.7.m7.1.1.cmml"><mi id="S4.SS1.p2.7.m7.1.1.2" xref="S4.SS1.p2.7.m7.1.1.2.cmml">S</mi><mrow id="S4.SS1.p2.7.m7.1.1.3" xref="S4.SS1.p2.7.m7.1.1.3.cmml"><mi id="S4.SS1.p2.7.m7.1.1.3.2" xref="S4.SS1.p2.7.m7.1.1.3.2.cmml">t</mi><mo id="S4.SS1.p2.7.m7.1.1.3.1" xref="S4.SS1.p2.7.m7.1.1.3.1.cmml">−</mo><mn id="S4.SS1.p2.7.m7.1.1.3.3" xref="S4.SS1.p2.7.m7.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.7.m7.1b"><apply id="S4.SS1.p2.7.m7.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.7.m7.1.1.1.cmml" xref="S4.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S4.SS1.p2.7.m7.1.1.2.cmml" xref="S4.SS1.p2.7.m7.1.1.2">𝑆</ci><apply id="S4.SS1.p2.7.m7.1.1.3.cmml" xref="S4.SS1.p2.7.m7.1.1.3"><minus id="S4.SS1.p2.7.m7.1.1.3.1.cmml" xref="S4.SS1.p2.7.m7.1.1.3.1"></minus><ci id="S4.SS1.p2.7.m7.1.1.3.2.cmml" xref="S4.SS1.p2.7.m7.1.1.3.2">𝑡</ci><cn id="S4.SS1.p2.7.m7.1.1.3.3.cmml" type="integer" xref="S4.SS1.p2.7.m7.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.7.m7.1c">S_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.7.m7.1d">italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>, the user’s preference <math alttext="P_{t-1}" class="ltx_Math" display="inline" id="S4.SS1.p2.8.m8.1"><semantics id="S4.SS1.p2.8.m8.1a"><msub id="S4.SS1.p2.8.m8.1.1" xref="S4.SS1.p2.8.m8.1.1.cmml"><mi id="S4.SS1.p2.8.m8.1.1.2" xref="S4.SS1.p2.8.m8.1.1.2.cmml">P</mi><mrow id="S4.SS1.p2.8.m8.1.1.3" xref="S4.SS1.p2.8.m8.1.1.3.cmml"><mi id="S4.SS1.p2.8.m8.1.1.3.2" xref="S4.SS1.p2.8.m8.1.1.3.2.cmml">t</mi><mo id="S4.SS1.p2.8.m8.1.1.3.1" xref="S4.SS1.p2.8.m8.1.1.3.1.cmml">−</mo><mn id="S4.SS1.p2.8.m8.1.1.3.3" xref="S4.SS1.p2.8.m8.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.8.m8.1b"><apply id="S4.SS1.p2.8.m8.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.8.m8.1.1.1.cmml" xref="S4.SS1.p2.8.m8.1.1">subscript</csymbol><ci id="S4.SS1.p2.8.m8.1.1.2.cmml" xref="S4.SS1.p2.8.m8.1.1.2">𝑃</ci><apply id="S4.SS1.p2.8.m8.1.1.3.cmml" xref="S4.SS1.p2.8.m8.1.1.3"><minus id="S4.SS1.p2.8.m8.1.1.3.1.cmml" xref="S4.SS1.p2.8.m8.1.1.3.1"></minus><ci id="S4.SS1.p2.8.m8.1.1.3.2.cmml" xref="S4.SS1.p2.8.m8.1.1.3.2">𝑡</ci><cn id="S4.SS1.p2.8.m8.1.1.3.3.cmml" type="integer" xref="S4.SS1.p2.8.m8.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.8.m8.1c">P_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.8.m8.1d">italic_P start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>, and the decision <math alttext="D_{t-2}" class="ltx_Math" display="inline" id="S4.SS1.p2.9.m9.1"><semantics id="S4.SS1.p2.9.m9.1a"><msub id="S4.SS1.p2.9.m9.1.1" xref="S4.SS1.p2.9.m9.1.1.cmml"><mi id="S4.SS1.p2.9.m9.1.1.2" xref="S4.SS1.p2.9.m9.1.1.2.cmml">D</mi><mrow id="S4.SS1.p2.9.m9.1.1.3" xref="S4.SS1.p2.9.m9.1.1.3.cmml"><mi id="S4.SS1.p2.9.m9.1.1.3.2" xref="S4.SS1.p2.9.m9.1.1.3.2.cmml">t</mi><mo id="S4.SS1.p2.9.m9.1.1.3.1" xref="S4.SS1.p2.9.m9.1.1.3.1.cmml">−</mo><mn id="S4.SS1.p2.9.m9.1.1.3.3" xref="S4.SS1.p2.9.m9.1.1.3.3.cmml">2</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.9.m9.1b"><apply id="S4.SS1.p2.9.m9.1.1.cmml" xref="S4.SS1.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S4.SS1.p2.9.m9.1.1.1.cmml" xref="S4.SS1.p2.9.m9.1.1">subscript</csymbol><ci id="S4.SS1.p2.9.m9.1.1.2.cmml" xref="S4.SS1.p2.9.m9.1.1.2">𝐷</ci><apply id="S4.SS1.p2.9.m9.1.1.3.cmml" xref="S4.SS1.p2.9.m9.1.1.3"><minus id="S4.SS1.p2.9.m9.1.1.3.1.cmml" xref="S4.SS1.p2.9.m9.1.1.3.1"></minus><ci id="S4.SS1.p2.9.m9.1.1.3.2.cmml" xref="S4.SS1.p2.9.m9.1.1.3.2">𝑡</ci><cn id="S4.SS1.p2.9.m9.1.1.3.3.cmml" type="integer" xref="S4.SS1.p2.9.m9.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.9.m9.1c">D_{t-2}</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p2.9.m9.1d">italic_D start_POSTSUBSCRIPT italic_t - 2 end_POSTSUBSCRIPT</annotation></semantics></math>. Therefore, while the most recent decision is a direct cause, the entire history can indirectly affect the user’s current decision.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2. </span>Estimating the Interventional Distribution.</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">To estimate such an interventional distribution, we need to (1) sequentially recover the causal relationship at the current timestamp and (2) maintain such causal structure in the training of a recommender system. We start with revealing the causal dependency between two subsequent decisions under a series system recommendations in the following theorem, which naturally reveals a constraint to maintain the causal structure.</p>
</div>
<div class="ltx_theorem ltx_theorem_theorem" id="S4.Thmtheorem1">
<h6 class="ltx_title ltx_runin ltx_font_smallcaps ltx_title_theorem">Theorem 4.1.</h6>
<div class="ltx_para" id="S4.Thmtheorem1.p1">
<p class="ltx_p" id="S4.Thmtheorem1.p1.3"><span class="ltx_text ltx_font_italic" id="S4.Thmtheorem1.p1.3.3">At time <math alttext="T=t" class="ltx_Math" display="inline" id="S4.Thmtheorem1.p1.1.1.m1.1"><semantics id="S4.Thmtheorem1.p1.1.1.m1.1a"><mrow id="S4.Thmtheorem1.p1.1.1.m1.1.1" xref="S4.Thmtheorem1.p1.1.1.m1.1.1.cmml"><mi id="S4.Thmtheorem1.p1.1.1.m1.1.1.2" xref="S4.Thmtheorem1.p1.1.1.m1.1.1.2.cmml">T</mi><mo id="S4.Thmtheorem1.p1.1.1.m1.1.1.1" xref="S4.Thmtheorem1.p1.1.1.m1.1.1.1.cmml">=</mo><mi id="S4.Thmtheorem1.p1.1.1.m1.1.1.3" xref="S4.Thmtheorem1.p1.1.1.m1.1.1.3.cmml">t</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.Thmtheorem1.p1.1.1.m1.1b"><apply id="S4.Thmtheorem1.p1.1.1.m1.1.1.cmml" xref="S4.Thmtheorem1.p1.1.1.m1.1.1"><eq id="S4.Thmtheorem1.p1.1.1.m1.1.1.1.cmml" xref="S4.Thmtheorem1.p1.1.1.m1.1.1.1"></eq><ci id="S4.Thmtheorem1.p1.1.1.m1.1.1.2.cmml" xref="S4.Thmtheorem1.p1.1.1.m1.1.1.2">𝑇</ci><ci id="S4.Thmtheorem1.p1.1.1.m1.1.1.3.cmml" xref="S4.Thmtheorem1.p1.1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Thmtheorem1.p1.1.1.m1.1c">T=t</annotation><annotation encoding="application/x-llamapun" id="S4.Thmtheorem1.p1.1.1.m1.1d">italic_T = italic_t</annotation></semantics></math>, the probability distribution for a user’s decision given precedent recommendations <math alttext="\text{do}(S_{t-1},...,S_{1})" class="ltx_Math" display="inline" id="S4.Thmtheorem1.p1.2.2.m2.3"><semantics id="S4.Thmtheorem1.p1.2.2.m2.3a"><mrow id="S4.Thmtheorem1.p1.2.2.m2.3.3" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.cmml"><mtext class="ltx_mathvariant_italic" id="S4.Thmtheorem1.p1.2.2.m2.3.3.4" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.4a.cmml">do</mtext><mo id="S4.Thmtheorem1.p1.2.2.m2.3.3.3" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.3.cmml">⁢</mo><mrow id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.3.cmml"><mo id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.3" stretchy="false" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.3.cmml">(</mo><msub id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.cmml"><mi id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.2" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.2.cmml">S</mi><mrow id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.cmml"><mi id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.2" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.2.cmml">t</mi><mo id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.1" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.1.cmml">−</mo><mn id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.3" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.4" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.3.cmml">,</mo><mi id="S4.Thmtheorem1.p1.2.2.m2.1.1" mathvariant="normal" xref="S4.Thmtheorem1.p1.2.2.m2.1.1.cmml">…</mi><mo id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.5" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.3.cmml">,</mo><msub id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.cmml"><mi id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.2" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.2.cmml">S</mi><mn id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.3" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.3.cmml">1</mn></msub><mo id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.6" stretchy="false" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Thmtheorem1.p1.2.2.m2.3b"><apply id="S4.Thmtheorem1.p1.2.2.m2.3.3.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.3.3"><times id="S4.Thmtheorem1.p1.2.2.m2.3.3.3.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.3"></times><ci id="S4.Thmtheorem1.p1.2.2.m2.3.3.4a.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.4"><mtext class="ltx_mathvariant_italic" id="S4.Thmtheorem1.p1.2.2.m2.3.3.4.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.4">do</mtext></ci><vector id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.3.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2"><apply id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.1.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1">subscript</csymbol><ci id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.2.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.2">𝑆</ci><apply id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3"><minus id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.1.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.1"></minus><ci id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.2.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.2">𝑡</ci><cn id="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.3.cmml" type="integer" xref="S4.Thmtheorem1.p1.2.2.m2.2.2.1.1.1.3.3">1</cn></apply></apply><ci id="S4.Thmtheorem1.p1.2.2.m2.1.1.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.1.1">…</ci><apply id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.1.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2">subscript</csymbol><ci id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.2.cmml" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.2">𝑆</ci><cn id="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.3.cmml" type="integer" xref="S4.Thmtheorem1.p1.2.2.m2.3.3.2.2.2.3">1</cn></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Thmtheorem1.p1.2.2.m2.3c">\text{do}(S_{t-1},...,S_{1})</annotation><annotation encoding="application/x-llamapun" id="S4.Thmtheorem1.p1.2.2.m2.3d">do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT )</annotation></semantics></math> and the preference <math alttext="P_{t}" class="ltx_Math" display="inline" id="S4.Thmtheorem1.p1.3.3.m3.1"><semantics id="S4.Thmtheorem1.p1.3.3.m3.1a"><msub id="S4.Thmtheorem1.p1.3.3.m3.1.1" xref="S4.Thmtheorem1.p1.3.3.m3.1.1.cmml"><mi id="S4.Thmtheorem1.p1.3.3.m3.1.1.2" xref="S4.Thmtheorem1.p1.3.3.m3.1.1.2.cmml">P</mi><mi id="S4.Thmtheorem1.p1.3.3.m3.1.1.3" xref="S4.Thmtheorem1.p1.3.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.Thmtheorem1.p1.3.3.m3.1b"><apply id="S4.Thmtheorem1.p1.3.3.m3.1.1.cmml" xref="S4.Thmtheorem1.p1.3.3.m3.1.1"><csymbol cd="ambiguous" id="S4.Thmtheorem1.p1.3.3.m3.1.1.1.cmml" xref="S4.Thmtheorem1.p1.3.3.m3.1.1">subscript</csymbol><ci id="S4.Thmtheorem1.p1.3.3.m3.1.1.2.cmml" xref="S4.Thmtheorem1.p1.3.3.m3.1.1.2">𝑃</ci><ci id="S4.Thmtheorem1.p1.3.3.m3.1.1.3.cmml" xref="S4.Thmtheorem1.p1.3.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Thmtheorem1.p1.3.3.m3.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.Thmtheorem1.p1.3.3.m3.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> follows the equality</span></p>
<table class="ltx_equation ltx_eqn_table" id="S4.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(3)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})=\sum_{D_{t-1}}%
\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})\cdot\\
\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})" class="ltx_Math" display="block" id="S4.E3.m1.63"><semantics id="S4.E3.m1.63a"><mtable displaystyle="true" id="S4.E3.m1.63.63.4" rowspacing="0pt" xref="S4.E3.m1.62.62.3.cmml"><mtr id="S4.E3.m1.63.63.4a" xref="S4.E3.m1.62.62.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="S4.E3.m1.63.63.4b" xref="S4.E3.m1.62.62.3.cmml"><mrow id="S4.E3.m1.40.40.40.40.40" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.1.1.1.1.1.1" xref="S4.E3.m1.1.1.1.1.1.1.cmml">ℙ</mi><mrow id="S4.E3.m1.40.40.40.40.40.41" xref="S4.E3.m1.62.62.3.cmml"><mo id="S4.E3.m1.2.2.2.2.2.2" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">(</mo><msub id="S4.E3.m1.40.40.40.40.40.41.1" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.3.3.3.3.3.3" xref="S4.E3.m1.3.3.3.3.3.3.cmml">D</mi><mi id="S4.E3.m1.4.4.4.4.4.4.1" xref="S4.E3.m1.4.4.4.4.4.4.1.cmml">t</mi></msub><mo fence="false" id="S4.E3.m1.5.5.5.5.5.5" rspace="0.167em" stretchy="false" xref="S4.E3.m1.5.5.5.5.5.5.cmml">|</mo><mtext class="ltx_mathvariant_italic" id="S4.E3.m1.6.6.6.6.6.6" xref="S4.E3.m1.6.6.6.6.6.6a.cmml">do</mtext><mrow id="S4.E3.m1.40.40.40.40.40.41.2" xref="S4.E3.m1.62.62.3.cmml"><mo id="S4.E3.m1.7.7.7.7.7.7" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">(</mo><msub id="S4.E3.m1.40.40.40.40.40.41.2.1" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.8.8.8.8.8.8" xref="S4.E3.m1.8.8.8.8.8.8.cmml">S</mi><mi id="S4.E3.m1.9.9.9.9.9.9.1" xref="S4.E3.m1.9.9.9.9.9.9.1.cmml">t</mi></msub><mo id="S4.E3.m1.10.10.10.10.10.10" xref="S4.E3.m1.62.62.3.cmml">,</mo><msub id="S4.E3.m1.40.40.40.40.40.41.2.2" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.11.11.11.11.11.11" xref="S4.E3.m1.11.11.11.11.11.11.cmml">S</mi><mrow id="S4.E3.m1.12.12.12.12.12.12.1" xref="S4.E3.m1.12.12.12.12.12.12.1.cmml"><mi id="S4.E3.m1.12.12.12.12.12.12.1.2" xref="S4.E3.m1.12.12.12.12.12.12.1.2.cmml">t</mi><mo id="S4.E3.m1.12.12.12.12.12.12.1.1" xref="S4.E3.m1.12.12.12.12.12.12.1.1.cmml">−</mo><mn id="S4.E3.m1.12.12.12.12.12.12.1.3" xref="S4.E3.m1.12.12.12.12.12.12.1.3.cmml">1</mn></mrow></msub><mo id="S4.E3.m1.13.13.13.13.13.13" xref="S4.E3.m1.62.62.3.cmml">,</mo><mi id="S4.E3.m1.14.14.14.14.14.14" mathvariant="normal" xref="S4.E3.m1.14.14.14.14.14.14.cmml">…</mi><mo id="S4.E3.m1.15.15.15.15.15.15" xref="S4.E3.m1.62.62.3.cmml">,</mo><msub id="S4.E3.m1.40.40.40.40.40.41.2.3" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.16.16.16.16.16.16" xref="S4.E3.m1.16.16.16.16.16.16.cmml">S</mi><mn id="S4.E3.m1.17.17.17.17.17.17.1" xref="S4.E3.m1.17.17.17.17.17.17.1.cmml">1</mn></msub><mo id="S4.E3.m1.18.18.18.18.18.18" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">)</mo></mrow><mo id="S4.E3.m1.19.19.19.19.19.19" xref="S4.E3.m1.62.62.3.cmml">,</mo><msub id="S4.E3.m1.40.40.40.40.40.41.3" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.20.20.20.20.20.20" xref="S4.E3.m1.20.20.20.20.20.20.cmml">P</mi><mi id="S4.E3.m1.21.21.21.21.21.21.1" xref="S4.E3.m1.21.21.21.21.21.21.1.cmml">t</mi></msub><mo id="S4.E3.m1.22.22.22.22.22.22" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">)</mo></mrow><mo id="S4.E3.m1.23.23.23.23.23.23" rspace="0.111em" xref="S4.E3.m1.23.23.23.23.23.23.cmml">=</mo><munder id="S4.E3.m1.40.40.40.40.40.42" xref="S4.E3.m1.62.62.3.cmml"><mo id="S4.E3.m1.24.24.24.24.24.24" movablelimits="false" xref="S4.E3.m1.24.24.24.24.24.24.cmml">∑</mo><msub id="S4.E3.m1.25.25.25.25.25.25.1" xref="S4.E3.m1.25.25.25.25.25.25.1.cmml"><mi id="S4.E3.m1.25.25.25.25.25.25.1.2" xref="S4.E3.m1.25.25.25.25.25.25.1.2.cmml">D</mi><mrow id="S4.E3.m1.25.25.25.25.25.25.1.3" xref="S4.E3.m1.25.25.25.25.25.25.1.3.cmml"><mi id="S4.E3.m1.25.25.25.25.25.25.1.3.2" xref="S4.E3.m1.25.25.25.25.25.25.1.3.2.cmml">t</mi><mo id="S4.E3.m1.25.25.25.25.25.25.1.3.1" xref="S4.E3.m1.25.25.25.25.25.25.1.3.1.cmml">−</mo><mn id="S4.E3.m1.25.25.25.25.25.25.1.3.3" xref="S4.E3.m1.25.25.25.25.25.25.1.3.3.cmml">1</mn></mrow></msub></munder><mi id="S4.E3.m1.26.26.26.26.26.26" xref="S4.E3.m1.26.26.26.26.26.26.cmml">ℙ</mi><mrow id="S4.E3.m1.40.40.40.40.40.43" xref="S4.E3.m1.62.62.3.cmml"><mo id="S4.E3.m1.27.27.27.27.27.27" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">(</mo><msub id="S4.E3.m1.40.40.40.40.40.43.1" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.28.28.28.28.28.28" xref="S4.E3.m1.28.28.28.28.28.28.cmml">D</mi><mi id="S4.E3.m1.29.29.29.29.29.29.1" xref="S4.E3.m1.29.29.29.29.29.29.1.cmml">t</mi></msub><mo fence="false" id="S4.E3.m1.30.30.30.30.30.30" rspace="0.167em" stretchy="false" xref="S4.E3.m1.30.30.30.30.30.30.cmml">|</mo><msub id="S4.E3.m1.40.40.40.40.40.43.2" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.31.31.31.31.31.31" xref="S4.E3.m1.31.31.31.31.31.31.cmml">S</mi><mi id="S4.E3.m1.32.32.32.32.32.32.1" xref="S4.E3.m1.32.32.32.32.32.32.1.cmml">t</mi></msub><mo id="S4.E3.m1.33.33.33.33.33.33" xref="S4.E3.m1.62.62.3.cmml">,</mo><msub id="S4.E3.m1.40.40.40.40.40.43.3" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.34.34.34.34.34.34" xref="S4.E3.m1.34.34.34.34.34.34.cmml">D</mi><mrow id="S4.E3.m1.35.35.35.35.35.35.1" xref="S4.E3.m1.35.35.35.35.35.35.1.cmml"><mi id="S4.E3.m1.35.35.35.35.35.35.1.2" xref="S4.E3.m1.35.35.35.35.35.35.1.2.cmml">t</mi><mo id="S4.E3.m1.35.35.35.35.35.35.1.1" xref="S4.E3.m1.35.35.35.35.35.35.1.1.cmml">−</mo><mn id="S4.E3.m1.35.35.35.35.35.35.1.3" xref="S4.E3.m1.35.35.35.35.35.35.1.3.cmml">1</mn></mrow></msub><mo id="S4.E3.m1.36.36.36.36.36.36" xref="S4.E3.m1.62.62.3.cmml">,</mo><msub id="S4.E3.m1.40.40.40.40.40.43.4" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.37.37.37.37.37.37" xref="S4.E3.m1.37.37.37.37.37.37.cmml">P</mi><mi id="S4.E3.m1.38.38.38.38.38.38.1" xref="S4.E3.m1.38.38.38.38.38.38.1.cmml">t</mi></msub><mo id="S4.E3.m1.39.39.39.39.39.39" rspace="0.055em" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">)</mo></mrow><mo id="S4.E3.m1.40.40.40.40.40.40" xref="S4.E3.m1.40.40.40.40.40.40.cmml">⋅</mo></mrow></mtd></mtr><mtr id="S4.E3.m1.63.63.4c" xref="S4.E3.m1.62.62.3.cmml"><mtd class="ltx_align_right" columnalign="right" id="S4.E3.m1.63.63.4d" xref="S4.E3.m1.62.62.3.cmml"><mrow id="S4.E3.m1.63.63.4.60.20.20" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.41.41.41.1.1.1" xref="S4.E3.m1.41.41.41.1.1.1.cmml">ℙ</mi><mo id="S4.E3.m1.63.63.4.60.20.20.21" xref="S4.E3.m1.62.62.3.cmml">⁢</mo><mrow id="S4.E3.m1.63.63.4.60.20.20.20.1" xref="S4.E3.m1.62.62.3.cmml"><mo id="S4.E3.m1.42.42.42.2.2.2" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">(</mo><mrow id="S4.E3.m1.63.63.4.60.20.20.20.1.1" xref="S4.E3.m1.62.62.3.cmml"><msub id="S4.E3.m1.63.63.4.60.20.20.20.1.1.3" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.43.43.43.3.3.3" xref="S4.E3.m1.43.43.43.3.3.3.cmml">D</mi><mrow id="S4.E3.m1.44.44.44.4.4.4.1" xref="S4.E3.m1.44.44.44.4.4.4.1.cmml"><mi id="S4.E3.m1.44.44.44.4.4.4.1.2" xref="S4.E3.m1.44.44.44.4.4.4.1.2.cmml">t</mi><mo id="S4.E3.m1.44.44.44.4.4.4.1.1" xref="S4.E3.m1.44.44.44.4.4.4.1.1.cmml">−</mo><mn id="S4.E3.m1.44.44.44.4.4.4.1.3" xref="S4.E3.m1.44.44.44.4.4.4.1.3.cmml">1</mn></mrow></msub><mo fence="false" id="S4.E3.m1.45.45.45.5.5.5" xref="S4.E3.m1.45.45.45.5.5.5.cmml">|</mo><mrow id="S4.E3.m1.63.63.4.60.20.20.20.1.1.2.2" xref="S4.E3.m1.62.62.3.cmml"><mrow id="S4.E3.m1.63.63.4.60.20.20.20.1.1.1.1.1" xref="S4.E3.m1.62.62.3.cmml"><mtext class="ltx_mathvariant_italic" id="S4.E3.m1.46.46.46.6.6.6" xref="S4.E3.m1.46.46.46.6.6.6a.cmml">do</mtext><mo id="S4.E3.m1.63.63.4.60.20.20.20.1.1.1.1.1.3" xref="S4.E3.m1.62.62.3.cmml">⁢</mo><mrow id="S4.E3.m1.63.63.4.60.20.20.20.1.1.1.1.1.2.2" xref="S4.E3.m1.62.62.3.cmml"><mo id="S4.E3.m1.47.47.47.7.7.7" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">(</mo><msub id="S4.E3.m1.63.63.4.60.20.20.20.1.1.1.1.1.1.1.1" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.48.48.48.8.8.8" xref="S4.E3.m1.48.48.48.8.8.8.cmml">S</mi><mrow id="S4.E3.m1.49.49.49.9.9.9.1" xref="S4.E3.m1.49.49.49.9.9.9.1.cmml"><mi id="S4.E3.m1.49.49.49.9.9.9.1.2" xref="S4.E3.m1.49.49.49.9.9.9.1.2.cmml">t</mi><mo id="S4.E3.m1.49.49.49.9.9.9.1.1" xref="S4.E3.m1.49.49.49.9.9.9.1.1.cmml">−</mo><mn id="S4.E3.m1.49.49.49.9.9.9.1.3" xref="S4.E3.m1.49.49.49.9.9.9.1.3.cmml">1</mn></mrow></msub><mo id="S4.E3.m1.50.50.50.10.10.10" xref="S4.E3.m1.62.62.3.cmml">,</mo><mi id="S4.E3.m1.51.51.51.11.11.11" mathvariant="normal" xref="S4.E3.m1.51.51.51.11.11.11.cmml">…</mi><mo id="S4.E3.m1.52.52.52.12.12.12" xref="S4.E3.m1.62.62.3.cmml">,</mo><msub id="S4.E3.m1.63.63.4.60.20.20.20.1.1.1.1.1.2.2.2" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.53.53.53.13.13.13" xref="S4.E3.m1.53.53.53.13.13.13.cmml">S</mi><mn id="S4.E3.m1.54.54.54.14.14.14.1" xref="S4.E3.m1.54.54.54.14.14.14.1.cmml">1</mn></msub><mo id="S4.E3.m1.55.55.55.15.15.15" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">)</mo></mrow></mrow><mo id="S4.E3.m1.56.56.56.16.16.16" xref="S4.E3.m1.62.62.3.cmml">,</mo><msub id="S4.E3.m1.63.63.4.60.20.20.20.1.1.2.2.2" xref="S4.E3.m1.62.62.3.cmml"><mi id="S4.E3.m1.57.57.57.17.17.17" xref="S4.E3.m1.57.57.57.17.17.17.cmml">P</mi><mi id="S4.E3.m1.58.58.58.18.18.18.1" xref="S4.E3.m1.58.58.58.18.18.18.1.cmml">t</mi></msub></mrow></mrow><mo id="S4.E3.m1.59.59.59.19.19.19" stretchy="false" xref="S4.E3.m1.62.62.3.cmml">)</mo></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E3.m1.63b"><apply id="S4.E3.m1.62.62.3.cmml" xref="S4.E3.m1.63.63.4"><eq id="S4.E3.m1.23.23.23.23.23.23.cmml" xref="S4.E3.m1.23.23.23.23.23.23"></eq><apply id="S4.E3.m1.60.60.1.1.cmml" xref="S4.E3.m1.63.63.4"><times id="S4.E3.m1.60.60.1.1.2.cmml" xref="S4.E3.m1.63.63.4"></times><ci id="S4.E3.m1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.1.1.1.1.1.1">ℙ</ci><apply id="S4.E3.m1.60.60.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4"><ci id="S4.E3.m1.5.5.5.5.5.5.cmml" xref="S4.E3.m1.5.5.5.5.5.5">|</ci><apply id="S4.E3.m1.60.60.1.1.1.1.1.4.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.60.60.1.1.1.1.1.4.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.3.3.3.3.3.3.cmml" xref="S4.E3.m1.3.3.3.3.3.3">𝐷</ci><ci id="S4.E3.m1.4.4.4.4.4.4.1.cmml" xref="S4.E3.m1.4.4.4.4.4.4.1">𝑡</ci></apply><list id="S4.E3.m1.60.60.1.1.1.1.1.2.3.cmml" xref="S4.E3.m1.63.63.4"><apply id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4"><times id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E3.m1.63.63.4"></times><ci id="S4.E3.m1.6.6.6.6.6.6a.cmml" xref="S4.E3.m1.6.6.6.6.6.6"><mtext class="ltx_mathvariant_italic" id="S4.E3.m1.6.6.6.6.6.6.cmml" xref="S4.E3.m1.6.6.6.6.6.6">do</mtext></ci><vector id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.3.4.cmml" xref="S4.E3.m1.63.63.4"><apply id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.8.8.8.8.8.8.cmml" xref="S4.E3.m1.8.8.8.8.8.8">𝑆</ci><ci id="S4.E3.m1.9.9.9.9.9.9.1.cmml" xref="S4.E3.m1.9.9.9.9.9.9.1">𝑡</ci></apply><apply id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.11.11.11.11.11.11.cmml" xref="S4.E3.m1.11.11.11.11.11.11">𝑆</ci><apply id="S4.E3.m1.12.12.12.12.12.12.1.cmml" xref="S4.E3.m1.12.12.12.12.12.12.1"><minus id="S4.E3.m1.12.12.12.12.12.12.1.1.cmml" xref="S4.E3.m1.12.12.12.12.12.12.1.1"></minus><ci id="S4.E3.m1.12.12.12.12.12.12.1.2.cmml" xref="S4.E3.m1.12.12.12.12.12.12.1.2">𝑡</ci><cn id="S4.E3.m1.12.12.12.12.12.12.1.3.cmml" type="integer" xref="S4.E3.m1.12.12.12.12.12.12.1.3">1</cn></apply></apply><ci id="S4.E3.m1.14.14.14.14.14.14.cmml" xref="S4.E3.m1.14.14.14.14.14.14">…</ci><apply id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.60.60.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.16.16.16.16.16.16.cmml" xref="S4.E3.m1.16.16.16.16.16.16">𝑆</ci><cn id="S4.E3.m1.17.17.17.17.17.17.1.cmml" type="integer" xref="S4.E3.m1.17.17.17.17.17.17.1">1</cn></apply></vector></apply><apply id="S4.E3.m1.60.60.1.1.1.1.1.2.2.2.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.60.60.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.20.20.20.20.20.20.cmml" xref="S4.E3.m1.20.20.20.20.20.20">𝑃</ci><ci id="S4.E3.m1.21.21.21.21.21.21.1.cmml" xref="S4.E3.m1.21.21.21.21.21.21.1">𝑡</ci></apply></list></apply></apply><apply id="S4.E3.m1.62.62.3.3.cmml" xref="S4.E3.m1.63.63.4"><apply id="S4.E3.m1.62.62.3.3.3.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.62.62.3.3.3.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><sum id="S4.E3.m1.24.24.24.24.24.24.cmml" xref="S4.E3.m1.24.24.24.24.24.24"></sum><apply id="S4.E3.m1.25.25.25.25.25.25.1.cmml" xref="S4.E3.m1.25.25.25.25.25.25.1"><csymbol cd="ambiguous" id="S4.E3.m1.25.25.25.25.25.25.1.1.cmml" xref="S4.E3.m1.25.25.25.25.25.25.1">subscript</csymbol><ci id="S4.E3.m1.25.25.25.25.25.25.1.2.cmml" xref="S4.E3.m1.25.25.25.25.25.25.1.2">𝐷</ci><apply id="S4.E3.m1.25.25.25.25.25.25.1.3.cmml" xref="S4.E3.m1.25.25.25.25.25.25.1.3"><minus id="S4.E3.m1.25.25.25.25.25.25.1.3.1.cmml" xref="S4.E3.m1.25.25.25.25.25.25.1.3.1"></minus><ci id="S4.E3.m1.25.25.25.25.25.25.1.3.2.cmml" xref="S4.E3.m1.25.25.25.25.25.25.1.3.2">𝑡</ci><cn id="S4.E3.m1.25.25.25.25.25.25.1.3.3.cmml" type="integer" xref="S4.E3.m1.25.25.25.25.25.25.1.3.3">1</cn></apply></apply></apply><apply id="S4.E3.m1.62.62.3.3.2.cmml" xref="S4.E3.m1.63.63.4"><times id="S4.E3.m1.62.62.3.3.2.3.cmml" xref="S4.E3.m1.63.63.4"></times><apply id="S4.E3.m1.61.61.2.2.1.1.cmml" xref="S4.E3.m1.63.63.4"><ci id="S4.E3.m1.40.40.40.40.40.40.cmml" xref="S4.E3.m1.40.40.40.40.40.40">⋅</ci><apply id="S4.E3.m1.61.61.2.2.1.1.1.cmml" xref="S4.E3.m1.63.63.4"><times id="S4.E3.m1.61.61.2.2.1.1.1.2.cmml" xref="S4.E3.m1.63.63.4"></times><ci id="S4.E3.m1.26.26.26.26.26.26.cmml" xref="S4.E3.m1.26.26.26.26.26.26">ℙ</ci><apply id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4"><ci id="S4.E3.m1.30.30.30.30.30.30.cmml" xref="S4.E3.m1.30.30.30.30.30.30">|</ci><apply id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.5.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.5.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.28.28.28.28.28.28.cmml" xref="S4.E3.m1.28.28.28.28.28.28">𝐷</ci><ci id="S4.E3.m1.29.29.29.29.29.29.1.cmml" xref="S4.E3.m1.29.29.29.29.29.29.1">𝑡</ci></apply><list id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.3.4.cmml" xref="S4.E3.m1.63.63.4"><apply id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.31.31.31.31.31.31.cmml" xref="S4.E3.m1.31.31.31.31.31.31">𝑆</ci><ci id="S4.E3.m1.32.32.32.32.32.32.1.cmml" xref="S4.E3.m1.32.32.32.32.32.32.1">𝑡</ci></apply><apply id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.34.34.34.34.34.34.cmml" xref="S4.E3.m1.34.34.34.34.34.34">𝐷</ci><apply id="S4.E3.m1.35.35.35.35.35.35.1.cmml" xref="S4.E3.m1.35.35.35.35.35.35.1"><minus id="S4.E3.m1.35.35.35.35.35.35.1.1.cmml" xref="S4.E3.m1.35.35.35.35.35.35.1.1"></minus><ci id="S4.E3.m1.35.35.35.35.35.35.1.2.cmml" xref="S4.E3.m1.35.35.35.35.35.35.1.2">𝑡</ci><cn id="S4.E3.m1.35.35.35.35.35.35.1.3.cmml" type="integer" xref="S4.E3.m1.35.35.35.35.35.35.1.3">1</cn></apply></apply><apply id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.61.61.2.2.1.1.1.1.1.1.3.3.3.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.37.37.37.37.37.37.cmml" xref="S4.E3.m1.37.37.37.37.37.37">𝑃</ci><ci id="S4.E3.m1.38.38.38.38.38.38.1.cmml" xref="S4.E3.m1.38.38.38.38.38.38.1">𝑡</ci></apply></list></apply></apply><ci id="S4.E3.m1.41.41.41.1.1.1.cmml" xref="S4.E3.m1.41.41.41.1.1.1">ℙ</ci></apply><apply id="S4.E3.m1.62.62.3.3.2.2.1.1.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="latexml" id="S4.E3.m1.45.45.45.5.5.5.cmml" xref="S4.E3.m1.45.45.45.5.5.5">conditional</csymbol><apply id="S4.E3.m1.62.62.3.3.2.2.1.1.4.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.62.62.3.3.2.2.1.1.4.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.43.43.43.3.3.3.cmml" xref="S4.E3.m1.43.43.43.3.3.3">𝐷</ci><apply id="S4.E3.m1.44.44.44.4.4.4.1.cmml" xref="S4.E3.m1.44.44.44.4.4.4.1"><minus id="S4.E3.m1.44.44.44.4.4.4.1.1.cmml" xref="S4.E3.m1.44.44.44.4.4.4.1.1"></minus><ci id="S4.E3.m1.44.44.44.4.4.4.1.2.cmml" xref="S4.E3.m1.44.44.44.4.4.4.1.2">𝑡</ci><cn id="S4.E3.m1.44.44.44.4.4.4.1.3.cmml" type="integer" xref="S4.E3.m1.44.44.44.4.4.4.1.3">1</cn></apply></apply><list id="S4.E3.m1.62.62.3.3.2.2.1.1.2.3.cmml" xref="S4.E3.m1.63.63.4"><apply id="S4.E3.m1.62.62.3.3.2.2.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4"><times id="S4.E3.m1.62.62.3.3.2.2.1.1.1.1.1.3.cmml" xref="S4.E3.m1.63.63.4"></times><ci id="S4.E3.m1.46.46.46.6.6.6a.cmml" xref="S4.E3.m1.46.46.46.6.6.6"><mtext class="ltx_mathvariant_italic" id="S4.E3.m1.46.46.46.6.6.6.cmml" xref="S4.E3.m1.46.46.46.6.6.6">do</mtext></ci><vector id="S4.E3.m1.62.62.3.3.2.2.1.1.1.1.1.2.3.cmml" xref="S4.E3.m1.63.63.4"><apply id="S4.E3.m1.62.62.3.3.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.62.62.3.3.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.48.48.48.8.8.8.cmml" xref="S4.E3.m1.48.48.48.8.8.8">𝑆</ci><apply id="S4.E3.m1.49.49.49.9.9.9.1.cmml" xref="S4.E3.m1.49.49.49.9.9.9.1"><minus id="S4.E3.m1.49.49.49.9.9.9.1.1.cmml" xref="S4.E3.m1.49.49.49.9.9.9.1.1"></minus><ci id="S4.E3.m1.49.49.49.9.9.9.1.2.cmml" xref="S4.E3.m1.49.49.49.9.9.9.1.2">𝑡</ci><cn id="S4.E3.m1.49.49.49.9.9.9.1.3.cmml" type="integer" xref="S4.E3.m1.49.49.49.9.9.9.1.3">1</cn></apply></apply><ci id="S4.E3.m1.51.51.51.11.11.11.cmml" xref="S4.E3.m1.51.51.51.11.11.11">…</ci><apply id="S4.E3.m1.62.62.3.3.2.2.1.1.1.1.1.2.2.2.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.62.62.3.3.2.2.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.53.53.53.13.13.13.cmml" xref="S4.E3.m1.53.53.53.13.13.13">𝑆</ci><cn id="S4.E3.m1.54.54.54.14.14.14.1.cmml" type="integer" xref="S4.E3.m1.54.54.54.14.14.14.1">1</cn></apply></vector></apply><apply id="S4.E3.m1.62.62.3.3.2.2.1.1.2.2.2.cmml" xref="S4.E3.m1.63.63.4"><csymbol cd="ambiguous" id="S4.E3.m1.62.62.3.3.2.2.1.1.2.2.2.1.cmml" xref="S4.E3.m1.63.63.4">subscript</csymbol><ci id="S4.E3.m1.57.57.57.17.17.17.cmml" xref="S4.E3.m1.57.57.57.17.17.17">𝑃</ci><ci id="S4.E3.m1.58.58.58.18.18.18.1.cmml" xref="S4.E3.m1.58.58.58.18.18.18.1">𝑡</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E3.m1.63c">\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})=\sum_{D_{t-1}}%
\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})\cdot\\
\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.E3.m1.63d">start_ROW start_CELL blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ⋅ end_CELL end_ROW start_ROW start_CELL blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<p class="ltx_p" id="S4.SS2.p2.1">The proof for the theorem is shown in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A2" title="Appendix B Proof for Theorem 4.1 ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">B</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.7"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.Thmtheorem1" title="Theorem 4.1. ‣ 4.2. Estimating the Interventional Distribution. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Theorem</span> <span class="ltx_text ltx_ref_tag">4.1</span></a> describes how user’s current decision is affected by previous decisions, the system and the user’s preference. To explain this theorem in details, we write this summation for time <math alttext="t=2" class="ltx_Math" display="inline" id="S4.SS2.p3.1.m1.1"><semantics id="S4.SS2.p3.1.m1.1a"><mrow id="S4.SS2.p3.1.m1.1.1" xref="S4.SS2.p3.1.m1.1.1.cmml"><mi id="S4.SS2.p3.1.m1.1.1.2" xref="S4.SS2.p3.1.m1.1.1.2.cmml">t</mi><mo id="S4.SS2.p3.1.m1.1.1.1" xref="S4.SS2.p3.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS2.p3.1.m1.1.1.3" xref="S4.SS2.p3.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.1.m1.1b"><apply id="S4.SS2.p3.1.m1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1"><eq id="S4.SS2.p3.1.m1.1.1.1.cmml" xref="S4.SS2.p3.1.m1.1.1.1"></eq><ci id="S4.SS2.p3.1.m1.1.1.2.cmml" xref="S4.SS2.p3.1.m1.1.1.2">𝑡</ci><cn id="S4.SS2.p3.1.m1.1.1.3.cmml" type="integer" xref="S4.SS2.p3.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.1.m1.1c">t=2</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.1.m1.1d">italic_t = 2</annotation></semantics></math>, denoting the system recommended items as <math alttext="s_{1},s_{2}" class="ltx_Math" display="inline" id="S4.SS2.p3.2.m2.2"><semantics id="S4.SS2.p3.2.m2.2a"><mrow id="S4.SS2.p3.2.m2.2.2.2" xref="S4.SS2.p3.2.m2.2.2.3.cmml"><msub id="S4.SS2.p3.2.m2.1.1.1.1" xref="S4.SS2.p3.2.m2.1.1.1.1.cmml"><mi id="S4.SS2.p3.2.m2.1.1.1.1.2" xref="S4.SS2.p3.2.m2.1.1.1.1.2.cmml">s</mi><mn id="S4.SS2.p3.2.m2.1.1.1.1.3" xref="S4.SS2.p3.2.m2.1.1.1.1.3.cmml">1</mn></msub><mo id="S4.SS2.p3.2.m2.2.2.2.3" xref="S4.SS2.p3.2.m2.2.2.3.cmml">,</mo><msub id="S4.SS2.p3.2.m2.2.2.2.2" xref="S4.SS2.p3.2.m2.2.2.2.2.cmml"><mi id="S4.SS2.p3.2.m2.2.2.2.2.2" xref="S4.SS2.p3.2.m2.2.2.2.2.2.cmml">s</mi><mn id="S4.SS2.p3.2.m2.2.2.2.2.3" xref="S4.SS2.p3.2.m2.2.2.2.2.3.cmml">2</mn></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.2.m2.2b"><list id="S4.SS2.p3.2.m2.2.2.3.cmml" xref="S4.SS2.p3.2.m2.2.2.2"><apply id="S4.SS2.p3.2.m2.1.1.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m2.1.1.1.1.1.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1">subscript</csymbol><ci id="S4.SS2.p3.2.m2.1.1.1.1.2.cmml" xref="S4.SS2.p3.2.m2.1.1.1.1.2">𝑠</ci><cn id="S4.SS2.p3.2.m2.1.1.1.1.3.cmml" type="integer" xref="S4.SS2.p3.2.m2.1.1.1.1.3">1</cn></apply><apply id="S4.SS2.p3.2.m2.2.2.2.2.cmml" xref="S4.SS2.p3.2.m2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p3.2.m2.2.2.2.2.1.cmml" xref="S4.SS2.p3.2.m2.2.2.2.2">subscript</csymbol><ci id="S4.SS2.p3.2.m2.2.2.2.2.2.cmml" xref="S4.SS2.p3.2.m2.2.2.2.2.2">𝑠</ci><cn id="S4.SS2.p3.2.m2.2.2.2.2.3.cmml" type="integer" xref="S4.SS2.p3.2.m2.2.2.2.2.3">2</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.2.m2.2c">s_{1},s_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.2.m2.2d">italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_s start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math> for <math alttext="t=1" class="ltx_Math" display="inline" id="S4.SS2.p3.3.m3.1"><semantics id="S4.SS2.p3.3.m3.1a"><mrow id="S4.SS2.p3.3.m3.1.1" xref="S4.SS2.p3.3.m3.1.1.cmml"><mi id="S4.SS2.p3.3.m3.1.1.2" xref="S4.SS2.p3.3.m3.1.1.2.cmml">t</mi><mo id="S4.SS2.p3.3.m3.1.1.1" xref="S4.SS2.p3.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS2.p3.3.m3.1.1.3" xref="S4.SS2.p3.3.m3.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.3.m3.1b"><apply id="S4.SS2.p3.3.m3.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1"><eq id="S4.SS2.p3.3.m3.1.1.1.cmml" xref="S4.SS2.p3.3.m3.1.1.1"></eq><ci id="S4.SS2.p3.3.m3.1.1.2.cmml" xref="S4.SS2.p3.3.m3.1.1.2">𝑡</ci><cn id="S4.SS2.p3.3.m3.1.1.3.cmml" type="integer" xref="S4.SS2.p3.3.m3.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.3.m3.1c">t=1</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.3.m3.1d">italic_t = 1</annotation></semantics></math> and <math alttext="t=2" class="ltx_Math" display="inline" id="S4.SS2.p3.4.m4.1"><semantics id="S4.SS2.p3.4.m4.1a"><mrow id="S4.SS2.p3.4.m4.1.1" xref="S4.SS2.p3.4.m4.1.1.cmml"><mi id="S4.SS2.p3.4.m4.1.1.2" xref="S4.SS2.p3.4.m4.1.1.2.cmml">t</mi><mo id="S4.SS2.p3.4.m4.1.1.1" xref="S4.SS2.p3.4.m4.1.1.1.cmml">=</mo><mn id="S4.SS2.p3.4.m4.1.1.3" xref="S4.SS2.p3.4.m4.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.4.m4.1b"><apply id="S4.SS2.p3.4.m4.1.1.cmml" xref="S4.SS2.p3.4.m4.1.1"><eq id="S4.SS2.p3.4.m4.1.1.1.cmml" xref="S4.SS2.p3.4.m4.1.1.1"></eq><ci id="S4.SS2.p3.4.m4.1.1.2.cmml" xref="S4.SS2.p3.4.m4.1.1.2">𝑡</ci><cn id="S4.SS2.p3.4.m4.1.1.3.cmml" type="integer" xref="S4.SS2.p3.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.4.m4.1c">t=2</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.4.m4.1d">italic_t = 2</annotation></semantics></math> respectively.
For simplicity, we consider <math alttext="D_{t}\in\{0,1\}" class="ltx_Math" display="inline" id="S4.SS2.p3.5.m5.2"><semantics id="S4.SS2.p3.5.m5.2a"><mrow id="S4.SS2.p3.5.m5.2.3" xref="S4.SS2.p3.5.m5.2.3.cmml"><msub id="S4.SS2.p3.5.m5.2.3.2" xref="S4.SS2.p3.5.m5.2.3.2.cmml"><mi id="S4.SS2.p3.5.m5.2.3.2.2" xref="S4.SS2.p3.5.m5.2.3.2.2.cmml">D</mi><mi id="S4.SS2.p3.5.m5.2.3.2.3" xref="S4.SS2.p3.5.m5.2.3.2.3.cmml">t</mi></msub><mo id="S4.SS2.p3.5.m5.2.3.1" xref="S4.SS2.p3.5.m5.2.3.1.cmml">∈</mo><mrow id="S4.SS2.p3.5.m5.2.3.3.2" xref="S4.SS2.p3.5.m5.2.3.3.1.cmml"><mo id="S4.SS2.p3.5.m5.2.3.3.2.1" stretchy="false" xref="S4.SS2.p3.5.m5.2.3.3.1.cmml">{</mo><mn id="S4.SS2.p3.5.m5.1.1" xref="S4.SS2.p3.5.m5.1.1.cmml">0</mn><mo id="S4.SS2.p3.5.m5.2.3.3.2.2" xref="S4.SS2.p3.5.m5.2.3.3.1.cmml">,</mo><mn id="S4.SS2.p3.5.m5.2.2" xref="S4.SS2.p3.5.m5.2.2.cmml">1</mn><mo id="S4.SS2.p3.5.m5.2.3.3.2.3" stretchy="false" xref="S4.SS2.p3.5.m5.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.5.m5.2b"><apply id="S4.SS2.p3.5.m5.2.3.cmml" xref="S4.SS2.p3.5.m5.2.3"><in id="S4.SS2.p3.5.m5.2.3.1.cmml" xref="S4.SS2.p3.5.m5.2.3.1"></in><apply id="S4.SS2.p3.5.m5.2.3.2.cmml" xref="S4.SS2.p3.5.m5.2.3.2"><csymbol cd="ambiguous" id="S4.SS2.p3.5.m5.2.3.2.1.cmml" xref="S4.SS2.p3.5.m5.2.3.2">subscript</csymbol><ci id="S4.SS2.p3.5.m5.2.3.2.2.cmml" xref="S4.SS2.p3.5.m5.2.3.2.2">𝐷</ci><ci id="S4.SS2.p3.5.m5.2.3.2.3.cmml" xref="S4.SS2.p3.5.m5.2.3.2.3">𝑡</ci></apply><set id="S4.SS2.p3.5.m5.2.3.3.1.cmml" xref="S4.SS2.p3.5.m5.2.3.3.2"><cn id="S4.SS2.p3.5.m5.1.1.cmml" type="integer" xref="S4.SS2.p3.5.m5.1.1">0</cn><cn id="S4.SS2.p3.5.m5.2.2.cmml" type="integer" xref="S4.SS2.p3.5.m5.2.2">1</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.5.m5.2c">D_{t}\in\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.5.m5.2d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ { 0 , 1 }</annotation></semantics></math> where <math alttext="0" class="ltx_Math" display="inline" id="S4.SS2.p3.6.m6.1"><semantics id="S4.SS2.p3.6.m6.1a"><mn id="S4.SS2.p3.6.m6.1.1" xref="S4.SS2.p3.6.m6.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.6.m6.1b"><cn id="S4.SS2.p3.6.m6.1.1.cmml" type="integer" xref="S4.SS2.p3.6.m6.1.1">0</cn></annotation-xml></semantics></math> denotes a negative decision and <math alttext="1" class="ltx_Math" display="inline" id="S4.SS2.p3.7.m7.1"><semantics id="S4.SS2.p3.7.m7.1a"><mn id="S4.SS2.p3.7.m7.1.1" xref="S4.SS2.p3.7.m7.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.7.m7.1b"><cn id="S4.SS2.p3.7.m7.1.1.cmml" type="integer" xref="S4.SS2.p3.7.m7.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.7.m7.1c">1</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.7.m7.1d">1</annotation></semantics></math> denotes a positive decision.
We can write</p>
<table class="ltx_equationgroup ltx_eqn_align ltx_eqn_table" id="A3.EGx1">
<tbody id="S4.Ex1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\mathbb{P}(D_{2}|\text{do}(S_{2}=s_{2},S_{1}=s_{1}),P_{2})" class="ltx_Math" display="inline" id="S4.Ex1.m1.1"><semantics id="S4.Ex1.m1.1a"><mrow id="S4.Ex1.m1.1.1" xref="S4.Ex1.m1.1.1.cmml"><mi id="S4.Ex1.m1.1.1.3" xref="S4.Ex1.m1.1.1.3.cmml">ℙ</mi><mo id="S4.Ex1.m1.1.1.2" xref="S4.Ex1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex1.m1.1.1.1.1" xref="S4.Ex1.m1.1.1.1.1.1.cmml"><mo id="S4.Ex1.m1.1.1.1.1.2" stretchy="false" xref="S4.Ex1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex1.m1.1.1.1.1.1" xref="S4.Ex1.m1.1.1.1.1.1.cmml"><msub id="S4.Ex1.m1.1.1.1.1.1.4" xref="S4.Ex1.m1.1.1.1.1.1.4.cmml"><mi id="S4.Ex1.m1.1.1.1.1.1.4.2" xref="S4.Ex1.m1.1.1.1.1.1.4.2.cmml">D</mi><mn id="S4.Ex1.m1.1.1.1.1.1.4.3" xref="S4.Ex1.m1.1.1.1.1.1.4.3.cmml">2</mn></msub><mo fence="false" id="S4.Ex1.m1.1.1.1.1.1.3" xref="S4.Ex1.m1.1.1.1.1.1.3.cmml">|</mo><mrow id="S4.Ex1.m1.1.1.1.1.1.2.2" xref="S4.Ex1.m1.1.1.1.1.1.2.3.cmml"><mrow id="S4.Ex1.m1.1.1.1.1.1.1.1.1" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.cmml"><mtext id="S4.Ex1.m1.1.1.1.1.1.1.1.1.3" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.3a.cmml">do</mtext><mo id="S4.Ex1.m1.1.1.1.1.1.1.1.1.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mrow id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml">S</mi><mn id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml">2</mn></msub><mo id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml">=</mo><msub id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml">s</mi><mn id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml">2</mn></msub></mrow><mo id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.3a.cmml">,</mo><mrow id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml"><msub id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mn id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.1" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml">=</mo><msub id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml"><mi id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.2" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.2.cmml">s</mi><mn id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.3" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.3.cmml">1</mn></msub></mrow></mrow><mo id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex1.m1.1.1.1.1.1.2.2.3" xref="S4.Ex1.m1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.Ex1.m1.1.1.1.1.1.2.2.2" xref="S4.Ex1.m1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.Ex1.m1.1.1.1.1.1.2.2.2.2" xref="S4.Ex1.m1.1.1.1.1.1.2.2.2.2.cmml">P</mi><mn id="S4.Ex1.m1.1.1.1.1.1.2.2.2.3" xref="S4.Ex1.m1.1.1.1.1.1.2.2.2.3.cmml">2</mn></msub></mrow></mrow><mo id="S4.Ex1.m1.1.1.1.1.3" stretchy="false" xref="S4.Ex1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex1.m1.1b"><apply id="S4.Ex1.m1.1.1.cmml" xref="S4.Ex1.m1.1.1"><times id="S4.Ex1.m1.1.1.2.cmml" xref="S4.Ex1.m1.1.1.2"></times><ci id="S4.Ex1.m1.1.1.3.cmml" xref="S4.Ex1.m1.1.1.3">ℙ</ci><apply id="S4.Ex1.m1.1.1.1.1.1.cmml" xref="S4.Ex1.m1.1.1.1.1"><csymbol cd="latexml" id="S4.Ex1.m1.1.1.1.1.1.3.cmml" xref="S4.Ex1.m1.1.1.1.1.1.3">conditional</csymbol><apply id="S4.Ex1.m1.1.1.1.1.1.4.cmml" xref="S4.Ex1.m1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.Ex1.m1.1.1.1.1.1.4.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.Ex1.m1.1.1.1.1.1.4.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.4.2">𝐷</ci><cn id="S4.Ex1.m1.1.1.1.1.1.4.3.cmml" type="integer" xref="S4.Ex1.m1.1.1.1.1.1.4.3">2</cn></apply><list id="S4.Ex1.m1.1.1.1.1.1.2.3.cmml" xref="S4.Ex1.m1.1.1.1.1.1.2.2"><apply id="S4.Ex1.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1"><times id="S4.Ex1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.2"></times><ci id="S4.Ex1.m1.1.1.1.1.1.1.1.1.3a.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.3"><mtext id="S4.Ex1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.3">do</mtext></ci><apply id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.3a.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1"><eq id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.1"></eq><apply id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.2">𝑆</ci><cn id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3.cmml" type="integer" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.2.3">2</cn></apply><apply id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.2">𝑠</ci><cn id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.3.3">2</cn></apply></apply><apply id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2"><eq id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.1"></eq><apply id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.2">𝑆</ci><cn id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.2.3">1</cn></apply><apply id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3">subscript</csymbol><ci id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.2">𝑠</ci><cn id="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="S4.Ex1.m1.1.1.1.1.1.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply></apply></apply><apply id="S4.Ex1.m1.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.Ex1.m1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.Ex1.m1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.Ex1.m1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.Ex1.m1.1.1.1.1.1.2.2.2.2">𝑃</ci><cn id="S4.Ex1.m1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.Ex1.m1.1.1.1.1.1.2.2.2.3">2</cn></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex1.m1.1c">\displaystyle\mathbb{P}(D_{2}|\text{do}(S_{2}=s_{2},S_{1}=s_{1}),P_{2})</annotation><annotation encoding="application/x-llamapun" id="S4.Ex1.m1.1d">blackboard_P ( italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.Ex2"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="S4.Ex2.m1.1"><semantics id="S4.Ex2.m1.1a"><mo id="S4.Ex2.m1.1.1" xref="S4.Ex2.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="S4.Ex2.m1.1b"><eq id="S4.Ex2.m1.1.1.cmml" xref="S4.Ex2.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex2.m1.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="S4.Ex2.m1.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\sum_{D_{1}\in\{0,1\}}\mathbb{P}(D_{2}|S_{2}=s_{2},D_{1},,P_{1})%
\mathbb{P}(D_{1}|\text{do}(S_{1}=s_{1}),P_{1})" class="ltx_math_unparsed" display="inline" id="S4.Ex2.m2.2"><semantics id="S4.Ex2.m2.2a"><mrow id="S4.Ex2.m2.2b"><mstyle displaystyle="true" id="S4.Ex2.m2.2.3"><munder id="S4.Ex2.m2.2.3a"><mo id="S4.Ex2.m2.2.3.2" movablelimits="false">∑</mo><mrow id="S4.Ex2.m2.2.2.2"><msub id="S4.Ex2.m2.2.2.2.4"><mi id="S4.Ex2.m2.2.2.2.4.2">D</mi><mn id="S4.Ex2.m2.2.2.2.4.3">1</mn></msub><mo id="S4.Ex2.m2.2.2.2.3">∈</mo><mrow id="S4.Ex2.m2.2.2.2.5.2"><mo id="S4.Ex2.m2.2.2.2.5.2.1" stretchy="false">{</mo><mn id="S4.Ex2.m2.1.1.1.1">0</mn><mo id="S4.Ex2.m2.2.2.2.5.2.2">,</mo><mn id="S4.Ex2.m2.2.2.2.2">1</mn><mo id="S4.Ex2.m2.2.2.2.5.2.3" stretchy="false">}</mo></mrow></mrow></munder></mstyle><mi id="S4.Ex2.m2.2.4">ℙ</mi><mrow id="S4.Ex2.m2.2.5"><mo id="S4.Ex2.m2.2.5.1" stretchy="false">(</mo><msub id="S4.Ex2.m2.2.5.2"><mi id="S4.Ex2.m2.2.5.2.2">D</mi><mn id="S4.Ex2.m2.2.5.2.3">2</mn></msub><mo fence="false" id="S4.Ex2.m2.2.5.3" rspace="0.167em" stretchy="false">|</mo><msub id="S4.Ex2.m2.2.5.4"><mi id="S4.Ex2.m2.2.5.4.2">S</mi><mn id="S4.Ex2.m2.2.5.4.3">2</mn></msub><mo id="S4.Ex2.m2.2.5.5">=</mo><msub id="S4.Ex2.m2.2.5.6"><mi id="S4.Ex2.m2.2.5.6.2">s</mi><mn id="S4.Ex2.m2.2.5.6.3">2</mn></msub><mo id="S4.Ex2.m2.2.5.7">,</mo><msub id="S4.Ex2.m2.2.5.8"><mi id="S4.Ex2.m2.2.5.8.2">D</mi><mn id="S4.Ex2.m2.2.5.8.3">1</mn></msub><mo id="S4.Ex2.m2.2.5.9">,</mo><mo id="S4.Ex2.m2.2.5.10">,</mo><msub id="S4.Ex2.m2.2.5.11"><mi id="S4.Ex2.m2.2.5.11.2">P</mi><mn id="S4.Ex2.m2.2.5.11.3">1</mn></msub><mo id="S4.Ex2.m2.2.5.12" stretchy="false">)</mo></mrow><mi id="S4.Ex2.m2.2.6">ℙ</mi><mrow id="S4.Ex2.m2.2.7"><mo id="S4.Ex2.m2.2.7.1" stretchy="false">(</mo><msub id="S4.Ex2.m2.2.7.2"><mi id="S4.Ex2.m2.2.7.2.2">D</mi><mn id="S4.Ex2.m2.2.7.2.3">1</mn></msub><mo fence="false" id="S4.Ex2.m2.2.7.3" rspace="0.167em" stretchy="false">|</mo><mtext id="S4.Ex2.m2.2.7.4">do</mtext><mrow id="S4.Ex2.m2.2.7.5"><mo id="S4.Ex2.m2.2.7.5.1" stretchy="false">(</mo><msub id="S4.Ex2.m2.2.7.5.2"><mi id="S4.Ex2.m2.2.7.5.2.2">S</mi><mn id="S4.Ex2.m2.2.7.5.2.3">1</mn></msub><mo id="S4.Ex2.m2.2.7.5.3">=</mo><msub id="S4.Ex2.m2.2.7.5.4"><mi id="S4.Ex2.m2.2.7.5.4.2">s</mi><mn id="S4.Ex2.m2.2.7.5.4.3">1</mn></msub><mo id="S4.Ex2.m2.2.7.5.5" stretchy="false">)</mo></mrow><mo id="S4.Ex2.m2.2.7.6">,</mo><msub id="S4.Ex2.m2.2.7.7"><mi id="S4.Ex2.m2.2.7.7.2">P</mi><mn id="S4.Ex2.m2.2.7.7.3">1</mn></msub><mo id="S4.Ex2.m2.2.7.8" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S4.Ex2.m2.2c">\displaystyle\sum_{D_{1}\in\{0,1\}}\mathbb{P}(D_{2}|S_{2}=s_{2},D_{1},,P_{1})%
\mathbb{P}(D_{1}|\text{do}(S_{1}=s_{1}),P_{1})</annotation><annotation encoding="application/x-llamapun" id="S4.Ex2.m2.2d">∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ∈ { 0 , 1 } end_POSTSUBSCRIPT blackboard_P ( italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , , italic_P start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) blackboard_P ( italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.Ex3"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math alttext="\displaystyle=" class="ltx_Math" display="inline" id="S4.Ex3.m1.1"><semantics id="S4.Ex3.m1.1a"><mo id="S4.Ex3.m1.1.1" xref="S4.Ex3.m1.1.1.cmml">=</mo><annotation-xml encoding="MathML-Content" id="S4.Ex3.m1.1b"><eq id="S4.Ex3.m1.1.1.cmml" xref="S4.Ex3.m1.1.1"></eq></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m1.1c">\displaystyle=</annotation><annotation encoding="application/x-llamapun" id="S4.Ex3.m1.1d">=</annotation></semantics></math></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle~{}\mathbb{P}(D_{2}|D_{1}=1,S_{2}=s_{2},P_{2})\mathbb{P}(D_{1}=1|%
\text{do}(S_{1}=s_{1}),P_{1})+" class="ltx_Math" display="inline" id="S4.Ex3.m2.2"><semantics id="S4.Ex3.m2.2a"><mrow id="S4.Ex3.m2.2.2" xref="S4.Ex3.m2.2.2.cmml"><mrow id="S4.Ex3.m2.2.2.2" xref="S4.Ex3.m2.2.2.2.cmml"><mi id="S4.Ex3.m2.2.2.2.4" xref="S4.Ex3.m2.2.2.2.4.cmml">ℙ</mi><mo id="S4.Ex3.m2.2.2.2.3" xref="S4.Ex3.m2.2.2.2.3.cmml">⁢</mo><mrow id="S4.Ex3.m2.1.1.1.1.1" xref="S4.Ex3.m2.2.2.2.cmml"><mo id="S4.Ex3.m2.1.1.1.1.1.2" stretchy="false" xref="S4.Ex3.m2.2.2.2.cmml">(</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.1.3.cmml"><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml"><msub id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.2.cmml">D</mi><mn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.3.cmml">2</mn></msub><mo fence="false" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.1.cmml">|</mo><msub id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.2" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.2.cmml">D</mi><mn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></msub></mrow><mo id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.cmml">=</mo><mn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S4.Ex3.m2.1.1.1.1.1.1.2.3" xref="S4.Ex3.m2.1.1.1.1.1.1.3a.cmml">,</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1.2.2" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.cmml"><msub id="S4.Ex3.m2.1.1.1.1.1.1.2.2.4" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.2" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.2.cmml">S</mi><mn id="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.3" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.3.cmml">2</mn></msub><mo id="S4.Ex3.m2.1.1.1.1.1.1.2.2.3" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.3.cmml">=</mo><mrow id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.3.cmml"><msub id="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.2" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.2.cmml">s</mi><mn id="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.3" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.3.cmml">2</mn></msub><mo id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.3" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.3.cmml">,</mo><msub id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.2" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.2.cmml">P</mi><mn id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.3" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.3.cmml">2</mn></msub></mrow></mrow></mrow><mo id="S4.Ex3.m2.1.1.1.1.1.3" stretchy="false" xref="S4.Ex3.m2.2.2.2.cmml">)</mo></mrow><mo id="S4.Ex3.m2.2.2.2.3a" xref="S4.Ex3.m2.2.2.2.3.cmml">⁢</mo><mi id="S4.Ex3.m2.2.2.2.5" xref="S4.Ex3.m2.2.2.2.5.cmml">ℙ</mi><mo id="S4.Ex3.m2.2.2.2.3b" xref="S4.Ex3.m2.2.2.2.3.cmml">⁢</mo><mrow id="S4.Ex3.m2.2.2.2.2.1" xref="S4.Ex3.m2.2.2.2.2.1.1.cmml"><mo id="S4.Ex3.m2.2.2.2.2.1.2" stretchy="false" xref="S4.Ex3.m2.2.2.2.2.1.1.cmml">(</mo><mrow id="S4.Ex3.m2.2.2.2.2.1.1" xref="S4.Ex3.m2.2.2.2.2.1.1.cmml"><msub id="S4.Ex3.m2.2.2.2.2.1.1.4" xref="S4.Ex3.m2.2.2.2.2.1.1.4.cmml"><mi id="S4.Ex3.m2.2.2.2.2.1.1.4.2" xref="S4.Ex3.m2.2.2.2.2.1.1.4.2.cmml">D</mi><mn id="S4.Ex3.m2.2.2.2.2.1.1.4.3" xref="S4.Ex3.m2.2.2.2.2.1.1.4.3.cmml">1</mn></msub><mo id="S4.Ex3.m2.2.2.2.2.1.1.3" xref="S4.Ex3.m2.2.2.2.2.1.1.3.cmml">=</mo><mrow id="S4.Ex3.m2.2.2.2.2.1.1.2" xref="S4.Ex3.m2.2.2.2.2.1.1.2.cmml"><mn id="S4.Ex3.m2.2.2.2.2.1.1.2.4" xref="S4.Ex3.m2.2.2.2.2.1.1.2.4.cmml">1</mn><mo fence="false" id="S4.Ex3.m2.2.2.2.2.1.1.2.3" xref="S4.Ex3.m2.2.2.2.2.1.1.2.3.cmml">|</mo><mrow id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.3.cmml"><mrow id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.cmml"><mtext id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.3" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.3a.cmml">do</mtext><mo id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.2" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml">S</mi><mn id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.3" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml">1</mn></msub><mo id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.cmml">=</mo><msub id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">s</mi><mn id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.3" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.3.cmml">,</mo><msub id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.cmml"><mi id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.2" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.2.cmml">P</mi><mn id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.3" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.3.cmml">1</mn></msub></mrow></mrow></mrow><mo id="S4.Ex3.m2.2.2.2.2.1.3" stretchy="false" xref="S4.Ex3.m2.2.2.2.2.1.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex3.m2.2.2.4" xref="S4.Ex3.m2.2.2.4.cmml">+</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex3.m2.2b"><apply id="S4.Ex3.m2.2.2.cmml" xref="S4.Ex3.m2.2.2"><csymbol cd="latexml" id="S4.Ex3.m2.2.2.3.cmml" xref="S4.Ex3.m2.2.2">limit-from</csymbol><apply id="S4.Ex3.m2.2.2.2.cmml" xref="S4.Ex3.m2.2.2.2"><times id="S4.Ex3.m2.2.2.2.3.cmml" xref="S4.Ex3.m2.2.2.2.3"></times><ci id="S4.Ex3.m2.2.2.2.4.cmml" xref="S4.Ex3.m2.2.2.2.4">ℙ</ci><apply id="S4.Ex3.m2.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.3a.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1"><eq id="S4.Ex3.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.1"></eq><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2"><csymbol cd="latexml" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.1">conditional</csymbol><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.2">𝐷</ci><cn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.2.3">2</cn></apply><apply id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.2">𝐷</ci><cn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><cn id="S4.Ex3.m2.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.1.1.1.1.3">1</cn></apply><apply id="S4.Ex3.m2.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2"><eq id="S4.Ex3.m2.1.1.1.1.1.1.2.2.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.3"></eq><apply id="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.4">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.2">𝑆</ci><cn id="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.4.3">2</cn></apply><list id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2"><apply id="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.2">𝑠</ci><cn id="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.1.1.1.3">2</cn></apply><apply id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.2">𝑃</ci><cn id="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.3.cmml" type="integer" xref="S4.Ex3.m2.1.1.1.1.1.1.2.2.2.2.2.3">2</cn></apply></list></apply></apply><ci id="S4.Ex3.m2.2.2.2.5.cmml" xref="S4.Ex3.m2.2.2.2.5">ℙ</ci><apply id="S4.Ex3.m2.2.2.2.2.1.1.cmml" xref="S4.Ex3.m2.2.2.2.2.1"><eq id="S4.Ex3.m2.2.2.2.2.1.1.3.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.3"></eq><apply id="S4.Ex3.m2.2.2.2.2.1.1.4.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.4"><csymbol cd="ambiguous" id="S4.Ex3.m2.2.2.2.2.1.1.4.1.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.4">subscript</csymbol><ci id="S4.Ex3.m2.2.2.2.2.1.1.4.2.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.4.2">𝐷</ci><cn id="S4.Ex3.m2.2.2.2.2.1.1.4.3.cmml" type="integer" xref="S4.Ex3.m2.2.2.2.2.1.1.4.3">1</cn></apply><apply id="S4.Ex3.m2.2.2.2.2.1.1.2.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.2"><csymbol cd="latexml" id="S4.Ex3.m2.2.2.2.2.1.1.2.3.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.2.3">conditional</csymbol><cn id="S4.Ex3.m2.2.2.2.2.1.1.2.4.cmml" type="integer" xref="S4.Ex3.m2.2.2.2.2.1.1.2.4">1</cn><list id="S4.Ex3.m2.2.2.2.2.1.1.2.2.3.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.2"><apply id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1"><times id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.2"></times><ci id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.3a.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.3"><mtext id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.3">do</mtext></ci><apply id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1"><eq id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.1"></eq><apply id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.2">𝑆</ci><cn id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.3.cmml" type="integer" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.2.3">1</cn></apply><apply id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.2">𝑠</ci><cn id="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.Ex3.m2.2.2.2.2.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.1.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2">subscript</csymbol><ci id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.2.cmml" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.2">𝑃</ci><cn id="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.3.cmml" type="integer" xref="S4.Ex3.m2.2.2.2.2.1.1.2.2.2.2.3">1</cn></apply></list></apply></apply></apply><plus id="S4.Ex3.m2.2.2.4.cmml" xref="S4.Ex3.m2.2.2.4"></plus></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex3.m2.2c">\displaystyle~{}\mathbb{P}(D_{2}|D_{1}=1,S_{2}=s_{2},P_{2})\mathbb{P}(D_{1}=1|%
\text{do}(S_{1}=s_{1}),P_{1})+</annotation><annotation encoding="application/x-llamapun" id="S4.Ex3.m2.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT | italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 1 , italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) blackboard_P ( italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 1 | do ( italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) +</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
<tbody id="S4.Ex4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_eqn_cell"></td>
<td class="ltx_td ltx_align_left ltx_eqn_cell"><math alttext="\displaystyle\quad\mathbb{P}(D_{2}|D_{1}=0,S_{2}=s_{2},P_{2})\mathbb{P}(D_{1}=%
0|\text{do}(S_{1}=s_{1}),P_{1})." class="ltx_Math" display="inline" id="S4.Ex4.m1.1"><semantics id="S4.Ex4.m1.1a"><mrow id="S4.Ex4.m1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.cmml"><mrow id="S4.Ex4.m1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.cmml"><mi id="S4.Ex4.m1.1.1.1.1.4" xref="S4.Ex4.m1.1.1.1.1.4.cmml">ℙ</mi><mo id="S4.Ex4.m1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.Ex4.m1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.cmml"><mo id="S4.Ex4.m1.1.1.1.1.1.1.2" stretchy="false" xref="S4.Ex4.m1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex4.m1.1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.3.cmml"><mrow id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.cmml"><mrow id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.cmml"><msub id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.2.cmml">D</mi><mn id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.3.cmml">2</mn></msub><mo fence="false" id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.1" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.1.cmml">|</mo><msub id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.2.cmml">D</mi><mn id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></msub></mrow><mo id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.cmml">=</mo><mn id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.3.cmml">0</mn></mrow><mo id="S4.Ex4.m1.1.1.1.1.1.1.1.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.3a.cmml">,</mo><mrow id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.cmml"><msub id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.cmml"><mi id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.2.cmml">S</mi><mn id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.3.cmml">2</mn></msub><mo id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.3.cmml">=</mo><mrow id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.3.cmml"><msub id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.cmml"><mi id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.2.cmml">s</mi><mn id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml">2</mn></msub><mo id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.3.cmml">,</mo><msub id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.2.cmml">P</mi><mn id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.3" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.3.cmml">2</mn></msub></mrow></mrow></mrow><mo id="S4.Ex4.m1.1.1.1.1.1.1.3" stretchy="false" xref="S4.Ex4.m1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.Ex4.m1.1.1.1.1.3a" xref="S4.Ex4.m1.1.1.1.1.3.cmml">⁢</mo><mi id="S4.Ex4.m1.1.1.1.1.5" xref="S4.Ex4.m1.1.1.1.1.5.cmml">ℙ</mi><mo id="S4.Ex4.m1.1.1.1.1.3b" xref="S4.Ex4.m1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.Ex4.m1.1.1.1.1.2.1" xref="S4.Ex4.m1.1.1.1.1.2.1.1.cmml"><mo id="S4.Ex4.m1.1.1.1.1.2.1.2" stretchy="false" xref="S4.Ex4.m1.1.1.1.1.2.1.1.cmml">(</mo><mrow id="S4.Ex4.m1.1.1.1.1.2.1.1" xref="S4.Ex4.m1.1.1.1.1.2.1.1.cmml"><msub id="S4.Ex4.m1.1.1.1.1.2.1.1.4" xref="S4.Ex4.m1.1.1.1.1.2.1.1.4.cmml"><mi id="S4.Ex4.m1.1.1.1.1.2.1.1.4.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.4.2.cmml">D</mi><mn id="S4.Ex4.m1.1.1.1.1.2.1.1.4.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.4.3.cmml">1</mn></msub><mo id="S4.Ex4.m1.1.1.1.1.2.1.1.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.3.cmml">=</mo><mrow id="S4.Ex4.m1.1.1.1.1.2.1.1.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.cmml"><mn id="S4.Ex4.m1.1.1.1.1.2.1.1.2.4" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.4.cmml">0</mn><mo fence="false" id="S4.Ex4.m1.1.1.1.1.2.1.1.2.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.3.cmml">|</mo><mrow id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.3.cmml"><mrow id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.cmml"><mtext id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.3a.cmml">do</mtext><mo id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml"><mi id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.2.cmml">S</mi><mn id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.3.cmml">1</mn></msub><mo id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.1" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.1.cmml">=</mo><msub id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.2.cmml">s</mi><mn id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></msub></mrow><mo id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.3.cmml">,</mo><msub id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.cmml"><mi id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.2" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.2.cmml">P</mi><mn id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.3" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.3.cmml">1</mn></msub></mrow></mrow></mrow><mo id="S4.Ex4.m1.1.1.1.1.2.1.3" stretchy="false" xref="S4.Ex4.m1.1.1.1.1.2.1.1.cmml">)</mo></mrow></mrow><mo id="S4.Ex4.m1.1.1.1.2" lspace="0em" xref="S4.Ex4.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.Ex4.m1.1b"><apply id="S4.Ex4.m1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1"><times id="S4.Ex4.m1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.1.3"></times><ci id="S4.Ex4.m1.1.1.1.1.4.cmml" xref="S4.Ex4.m1.1.1.1.1.4">ℙ</ci><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.1.3a.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1"><eq id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.1"></eq><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2"><csymbol cd="latexml" id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.1">conditional</csymbol><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.2">𝐷</ci><cn id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.2.3">2</cn></apply><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.2">𝐷</ci><cn id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><cn id="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.1.1.1.1.3">0</cn></apply><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2"><eq id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.3"></eq><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.2">𝑆</ci><cn id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.4.3">2</cn></apply><list id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2"><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.2">𝑠</ci><cn id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.1.1.1.3">2</cn></apply><apply id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.2">𝑃</ci><cn id="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.1.1.1.2.2.2.2.2.3">2</cn></apply></list></apply></apply><ci id="S4.Ex4.m1.1.1.1.1.5.cmml" xref="S4.Ex4.m1.1.1.1.1.5">ℙ</ci><apply id="S4.Ex4.m1.1.1.1.1.2.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1"><eq id="S4.Ex4.m1.1.1.1.1.2.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.3"></eq><apply id="S4.Ex4.m1.1.1.1.1.2.1.1.4.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.4"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.2.1.1.4.1.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.4">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.2.1.1.4.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.4.2">𝐷</ci><cn id="S4.Ex4.m1.1.1.1.1.2.1.1.4.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.2.1.1.4.3">1</cn></apply><apply id="S4.Ex4.m1.1.1.1.1.2.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2"><csymbol cd="latexml" id="S4.Ex4.m1.1.1.1.1.2.1.1.2.3.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.3">conditional</csymbol><cn id="S4.Ex4.m1.1.1.1.1.2.1.1.2.4.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.4">0</cn><list id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.3.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2"><apply id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1"><times id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.2"></times><ci id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.3a.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.3"><mtext id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.3">do</mtext></ci><apply id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1"><eq id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.1"></eq><apply id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.2">𝑆</ci><cn id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.2.3">1</cn></apply><apply id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.2">𝑠</ci><cn id="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.2.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply></apply><apply id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.1.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2">subscript</csymbol><ci id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.2.cmml" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.2">𝑃</ci><cn id="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.3.cmml" type="integer" xref="S4.Ex4.m1.1.1.1.1.2.1.1.2.2.2.2.3">1</cn></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.Ex4.m1.1c">\displaystyle\quad\mathbb{P}(D_{2}|D_{1}=0,S_{2}=s_{2},P_{2})\mathbb{P}(D_{1}=%
0|\text{do}(S_{1}=s_{1}),P_{1}).</annotation><annotation encoding="application/x-llamapun" id="S4.Ex4.m1.1d">blackboard_P ( italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT | italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 0 , italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT ) blackboard_P ( italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 0 | do ( italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS2.p3.9">Here <math alttext="do(\cdot)" class="ltx_Math" display="inline" id="S4.SS2.p3.8.m1.1"><semantics id="S4.SS2.p3.8.m1.1a"><mrow id="S4.SS2.p3.8.m1.1.2" xref="S4.SS2.p3.8.m1.1.2.cmml"><mi id="S4.SS2.p3.8.m1.1.2.2" xref="S4.SS2.p3.8.m1.1.2.2.cmml">d</mi><mo id="S4.SS2.p3.8.m1.1.2.1" xref="S4.SS2.p3.8.m1.1.2.1.cmml">⁢</mo><mi id="S4.SS2.p3.8.m1.1.2.3" xref="S4.SS2.p3.8.m1.1.2.3.cmml">o</mi><mo id="S4.SS2.p3.8.m1.1.2.1a" xref="S4.SS2.p3.8.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS2.p3.8.m1.1.2.4.2" xref="S4.SS2.p3.8.m1.1.2.cmml"><mo id="S4.SS2.p3.8.m1.1.2.4.2.1" stretchy="false" xref="S4.SS2.p3.8.m1.1.2.cmml">(</mo><mo id="S4.SS2.p3.8.m1.1.1" lspace="0em" rspace="0em" xref="S4.SS2.p3.8.m1.1.1.cmml">⋅</mo><mo id="S4.SS2.p3.8.m1.1.2.4.2.2" stretchy="false" xref="S4.SS2.p3.8.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.8.m1.1b"><apply id="S4.SS2.p3.8.m1.1.2.cmml" xref="S4.SS2.p3.8.m1.1.2"><times id="S4.SS2.p3.8.m1.1.2.1.cmml" xref="S4.SS2.p3.8.m1.1.2.1"></times><ci id="S4.SS2.p3.8.m1.1.2.2.cmml" xref="S4.SS2.p3.8.m1.1.2.2">𝑑</ci><ci id="S4.SS2.p3.8.m1.1.2.3.cmml" xref="S4.SS2.p3.8.m1.1.2.3">𝑜</ci><ci id="S4.SS2.p3.8.m1.1.1.cmml" xref="S4.SS2.p3.8.m1.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.8.m1.1c">do(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.8.m1.1d">italic_d italic_o ( ⋅ )</annotation></semantics></math> represents the interventional distribution where the recommender system controls the exposure as stated in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S2" title="2. Background and Preliminary ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">2</span></a>, and <math alttext="\mathbb{P}(D_{2}|D_{1}=1,S_{2}=s_{2},P_{2})" class="ltx_Math" display="inline" id="S4.SS2.p3.9.m2.1"><semantics id="S4.SS2.p3.9.m2.1a"><mrow id="S4.SS2.p3.9.m2.1.1" xref="S4.SS2.p3.9.m2.1.1.cmml"><mi id="S4.SS2.p3.9.m2.1.1.3" xref="S4.SS2.p3.9.m2.1.1.3.cmml">ℙ</mi><mo id="S4.SS2.p3.9.m2.1.1.2" xref="S4.SS2.p3.9.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS2.p3.9.m2.1.1.1.1" xref="S4.SS2.p3.9.m2.1.1.cmml"><mo id="S4.SS2.p3.9.m2.1.1.1.1.2" stretchy="false" xref="S4.SS2.p3.9.m2.1.1.cmml">(</mo><mrow id="S4.SS2.p3.9.m2.1.1.1.1.1.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.3.cmml"><mrow id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.cmml"><mrow id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.cmml"><msub id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.2.cmml">D</mi><mn id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.3.cmml">2</mn></msub><mo fence="false" id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.1" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.1.cmml">|</mo><msub id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.cmml"><mi id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.2.cmml">D</mi><mn id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></msub></mrow><mo id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.1" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.1.cmml">=</mo><mn id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S4.SS2.p3.9.m2.1.1.1.1.1.2.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.3a.cmml">,</mo><mrow id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.cmml"><msub id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.cmml"><mi id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.2.cmml">S</mi><mn id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.3.cmml">2</mn></msub><mo id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.3.cmml">=</mo><mrow id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.3.cmml"><msub id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.cmml"><mi id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.2.cmml">s</mi><mn id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.3.cmml">2</mn></msub><mo id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.3.cmml">,</mo><msub id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.cmml"><mi id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.2" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.2.cmml">P</mi><mn id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.3" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.3.cmml">2</mn></msub></mrow></mrow></mrow><mo id="S4.SS2.p3.9.m2.1.1.1.1.3" stretchy="false" xref="S4.SS2.p3.9.m2.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS2.p3.9.m2.1b"><apply id="S4.SS2.p3.9.m2.1.1.cmml" xref="S4.SS2.p3.9.m2.1.1"><times id="S4.SS2.p3.9.m2.1.1.2.cmml" xref="S4.SS2.p3.9.m2.1.1.2"></times><ci id="S4.SS2.p3.9.m2.1.1.3.cmml" xref="S4.SS2.p3.9.m2.1.1.3">ℙ</ci><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.3.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.SS2.p3.9.m2.1.1.1.1.1.3a.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1"><eq id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.1"></eq><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2"><csymbol cd="latexml" id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.1">conditional</csymbol><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.2">𝐷</ci><cn id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.3.cmml" type="integer" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.2.3">2</cn></apply><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.2">𝐷</ci><cn id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.3.cmml" type="integer" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><cn id="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S4.SS2.p3.9.m2.1.1.1.1.1.1.1.3">1</cn></apply><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2"><eq id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.3.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.3"></eq><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4"><csymbol cd="ambiguous" id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4">subscript</csymbol><ci id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.2">𝑆</ci><cn id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.3.cmml" type="integer" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.4.3">2</cn></apply><list id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.3.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2"><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1">subscript</csymbol><ci id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.2">𝑠</ci><cn id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.3.cmml" type="integer" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.1.1.1.3">2</cn></apply><apply id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2"><csymbol cd="ambiguous" id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.1.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2">subscript</csymbol><ci id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.2">𝑃</ci><cn id="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.3.cmml" type="integer" xref="S4.SS2.p3.9.m2.1.1.1.1.1.2.2.2.2.2.3">2</cn></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p3.9.m2.1c">\mathbb{P}(D_{2}|D_{1}=1,S_{2}=s_{2},P_{2})</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p3.9.m2.1d">blackboard_P ( italic_D start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT | italic_D start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 1 , italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = italic_s start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT )</annotation></semantics></math> represents the observational distribution such that the source of exposure is not the recommender system.</p>
</div>
<div class="ltx_para" id="S4.SS2.p4">
<p class="ltx_p" id="S4.SS2.p4.2">Hence, the estimation of this probability is equivalent to the prediction of one user’s reaction to the recommended item <math alttext="s_{2}" class="ltx_Math" display="inline" id="S4.SS2.p4.1.m1.1"><semantics id="S4.SS2.p4.1.m1.1a"><msub id="S4.SS2.p4.1.m1.1.1" xref="S4.SS2.p4.1.m1.1.1.cmml"><mi id="S4.SS2.p4.1.m1.1.1.2" xref="S4.SS2.p4.1.m1.1.1.2.cmml">s</mi><mn id="S4.SS2.p4.1.m1.1.1.3" xref="S4.SS2.p4.1.m1.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.1.m1.1b"><apply id="S4.SS2.p4.1.m1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.1.m1.1.1.1.cmml" xref="S4.SS2.p4.1.m1.1.1">subscript</csymbol><ci id="S4.SS2.p4.1.m1.1.1.2.cmml" xref="S4.SS2.p4.1.m1.1.1.2">𝑠</ci><cn id="S4.SS2.p4.1.m1.1.1.3.cmml" type="integer" xref="S4.SS2.p4.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.1.m1.1c">s_{2}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.1.m1.1d">italic_s start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT</annotation></semantics></math>, taking their decision on <math alttext="s_{1}" class="ltx_Math" display="inline" id="S4.SS2.p4.2.m2.1"><semantics id="S4.SS2.p4.2.m2.1a"><msub id="S4.SS2.p4.2.m2.1.1" xref="S4.SS2.p4.2.m2.1.1.cmml"><mi id="S4.SS2.p4.2.m2.1.1.2" xref="S4.SS2.p4.2.m2.1.1.2.cmml">s</mi><mn id="S4.SS2.p4.2.m2.1.1.3" xref="S4.SS2.p4.2.m2.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.SS2.p4.2.m2.1b"><apply id="S4.SS2.p4.2.m2.1.1.cmml" xref="S4.SS2.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS2.p4.2.m2.1.1.1.cmml" xref="S4.SS2.p4.2.m2.1.1">subscript</csymbol><ci id="S4.SS2.p4.2.m2.1.1.2.cmml" xref="S4.SS2.p4.2.m2.1.1.2">𝑠</ci><cn id="S4.SS2.p4.2.m2.1.1.3.cmml" type="integer" xref="S4.SS2.p4.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p4.2.m2.1c">s_{1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS2.p4.2.m2.1d">italic_s start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT</annotation></semantics></math> into consideration, and weighted by the corresponding interventional probability.
So long as this equality maintained at each timestamp, the causal relationship remains intact throughout the entire recommendation process.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3. </span>Maximizing Users’ Positive Decisions.</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">A general goal of a recommender system is to maximize the probability of users’ positive decisions, e.g., purchase or click rate. Existing works equate such a goal as selecting the item that has the highest preference score for users. We on the other hand, consider to maximize the purchasing probability by adjusting system’s behavior. This subtle distinction enables us to first generalize the concept and then incorporate <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.Thmtheorem1" title="Theorem 4.1. ‣ 4.2. Estimating the Interventional Distribution. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Theorem</span> <span class="ltx_text ltx_ref_tag">4.1</span></a> to maintain the inherent causal structure.</p>
</div>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.3">Instead of examining the user’s preference towards each product, we compute the probability of positive decisions given a series of recommendations <math alttext="\text{do}(S_{t},S_{t-1},...,S_{1})" class="ltx_Math" display="inline" id="S4.SS3.p2.1.m1.4"><semantics id="S4.SS3.p2.1.m1.4a"><mrow id="S4.SS3.p2.1.m1.4.4" xref="S4.SS3.p2.1.m1.4.4.cmml"><mtext id="S4.SS3.p2.1.m1.4.4.5" xref="S4.SS3.p2.1.m1.4.4.5a.cmml">do</mtext><mo id="S4.SS3.p2.1.m1.4.4.4" xref="S4.SS3.p2.1.m1.4.4.4.cmml">⁢</mo><mrow id="S4.SS3.p2.1.m1.4.4.3.3" xref="S4.SS3.p2.1.m1.4.4.3.4.cmml"><mo id="S4.SS3.p2.1.m1.4.4.3.3.4" stretchy="false" xref="S4.SS3.p2.1.m1.4.4.3.4.cmml">(</mo><msub id="S4.SS3.p2.1.m1.2.2.1.1.1" xref="S4.SS3.p2.1.m1.2.2.1.1.1.cmml"><mi id="S4.SS3.p2.1.m1.2.2.1.1.1.2" xref="S4.SS3.p2.1.m1.2.2.1.1.1.2.cmml">S</mi><mi id="S4.SS3.p2.1.m1.2.2.1.1.1.3" xref="S4.SS3.p2.1.m1.2.2.1.1.1.3.cmml">t</mi></msub><mo id="S4.SS3.p2.1.m1.4.4.3.3.5" xref="S4.SS3.p2.1.m1.4.4.3.4.cmml">,</mo><msub id="S4.SS3.p2.1.m1.3.3.2.2.2" xref="S4.SS3.p2.1.m1.3.3.2.2.2.cmml"><mi id="S4.SS3.p2.1.m1.3.3.2.2.2.2" xref="S4.SS3.p2.1.m1.3.3.2.2.2.2.cmml">S</mi><mrow id="S4.SS3.p2.1.m1.3.3.2.2.2.3" xref="S4.SS3.p2.1.m1.3.3.2.2.2.3.cmml"><mi id="S4.SS3.p2.1.m1.3.3.2.2.2.3.2" xref="S4.SS3.p2.1.m1.3.3.2.2.2.3.2.cmml">t</mi><mo id="S4.SS3.p2.1.m1.3.3.2.2.2.3.1" xref="S4.SS3.p2.1.m1.3.3.2.2.2.3.1.cmml">−</mo><mn id="S4.SS3.p2.1.m1.3.3.2.2.2.3.3" xref="S4.SS3.p2.1.m1.3.3.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS3.p2.1.m1.4.4.3.3.6" xref="S4.SS3.p2.1.m1.4.4.3.4.cmml">,</mo><mi id="S4.SS3.p2.1.m1.1.1" mathvariant="normal" xref="S4.SS3.p2.1.m1.1.1.cmml">…</mi><mo id="S4.SS3.p2.1.m1.4.4.3.3.7" xref="S4.SS3.p2.1.m1.4.4.3.4.cmml">,</mo><msub id="S4.SS3.p2.1.m1.4.4.3.3.3" xref="S4.SS3.p2.1.m1.4.4.3.3.3.cmml"><mi id="S4.SS3.p2.1.m1.4.4.3.3.3.2" xref="S4.SS3.p2.1.m1.4.4.3.3.3.2.cmml">S</mi><mn id="S4.SS3.p2.1.m1.4.4.3.3.3.3" xref="S4.SS3.p2.1.m1.4.4.3.3.3.3.cmml">1</mn></msub><mo id="S4.SS3.p2.1.m1.4.4.3.3.8" stretchy="false" xref="S4.SS3.p2.1.m1.4.4.3.4.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.4b"><apply id="S4.SS3.p2.1.m1.4.4.cmml" xref="S4.SS3.p2.1.m1.4.4"><times id="S4.SS3.p2.1.m1.4.4.4.cmml" xref="S4.SS3.p2.1.m1.4.4.4"></times><ci id="S4.SS3.p2.1.m1.4.4.5a.cmml" xref="S4.SS3.p2.1.m1.4.4.5"><mtext id="S4.SS3.p2.1.m1.4.4.5.cmml" xref="S4.SS3.p2.1.m1.4.4.5">do</mtext></ci><vector id="S4.SS3.p2.1.m1.4.4.3.4.cmml" xref="S4.SS3.p2.1.m1.4.4.3.3"><apply id="S4.SS3.p2.1.m1.2.2.1.1.1.cmml" xref="S4.SS3.p2.1.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.2.2.1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.2.2.1.1.1">subscript</csymbol><ci id="S4.SS3.p2.1.m1.2.2.1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.2.2.1.1.1.2">𝑆</ci><ci id="S4.SS3.p2.1.m1.2.2.1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.2.2.1.1.1.3">𝑡</ci></apply><apply id="S4.SS3.p2.1.m1.3.3.2.2.2.cmml" xref="S4.SS3.p2.1.m1.3.3.2.2.2"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.3.3.2.2.2.1.cmml" xref="S4.SS3.p2.1.m1.3.3.2.2.2">subscript</csymbol><ci id="S4.SS3.p2.1.m1.3.3.2.2.2.2.cmml" xref="S4.SS3.p2.1.m1.3.3.2.2.2.2">𝑆</ci><apply id="S4.SS3.p2.1.m1.3.3.2.2.2.3.cmml" xref="S4.SS3.p2.1.m1.3.3.2.2.2.3"><minus id="S4.SS3.p2.1.m1.3.3.2.2.2.3.1.cmml" xref="S4.SS3.p2.1.m1.3.3.2.2.2.3.1"></minus><ci id="S4.SS3.p2.1.m1.3.3.2.2.2.3.2.cmml" xref="S4.SS3.p2.1.m1.3.3.2.2.2.3.2">𝑡</ci><cn id="S4.SS3.p2.1.m1.3.3.2.2.2.3.3.cmml" type="integer" xref="S4.SS3.p2.1.m1.3.3.2.2.2.3.3">1</cn></apply></apply><ci id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1">…</ci><apply id="S4.SS3.p2.1.m1.4.4.3.3.3.cmml" xref="S4.SS3.p2.1.m1.4.4.3.3.3"><csymbol cd="ambiguous" id="S4.SS3.p2.1.m1.4.4.3.3.3.1.cmml" xref="S4.SS3.p2.1.m1.4.4.3.3.3">subscript</csymbol><ci id="S4.SS3.p2.1.m1.4.4.3.3.3.2.cmml" xref="S4.SS3.p2.1.m1.4.4.3.3.3.2">𝑆</ci><cn id="S4.SS3.p2.1.m1.4.4.3.3.3.3.cmml" type="integer" xref="S4.SS3.p2.1.m1.4.4.3.3.3.3">1</cn></apply></vector></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.4c">\text{do}(S_{t},S_{t-1},...,S_{1})</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.1.m1.4d">do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT )</annotation></semantics></math>, together with their current preference <math alttext="P_{t}" class="ltx_Math" display="inline" id="S4.SS3.p2.2.m2.1"><semantics id="S4.SS3.p2.2.m2.1a"><msub id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml"><mi id="S4.SS3.p2.2.m2.1.1.2" xref="S4.SS3.p2.2.m2.1.1.2.cmml">P</mi><mi id="S4.SS3.p2.2.m2.1.1.3" xref="S4.SS3.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><apply id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.2.m2.1.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS3.p2.2.m2.1.1.2.cmml" xref="S4.SS3.p2.2.m2.1.1.2">𝑃</ci><ci id="S4.SS3.p2.2.m2.1.1.3.cmml" xref="S4.SS3.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.2.m2.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. Hence, we can formulate the task at time <math alttext="t" class="ltx_Math" display="inline" id="S4.SS3.p2.3.m3.1"><semantics id="S4.SS3.p2.3.m3.1a"><mi id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><ci id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">t</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.3.m3.1d">italic_t</annotation></semantics></math> as an optimization problem:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(4)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="s_{t}=\operatorname*{arg\,max}_{\text{do}(S_{t})\in\mathcal{S}}\mathbb{P}(D_{t%
}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})." class="ltx_Math" display="block" id="S4.E4.m1.3"><semantics id="S4.E4.m1.3a"><mrow id="S4.E4.m1.3.3.1" xref="S4.E4.m1.3.3.1.1.cmml"><mrow id="S4.E4.m1.3.3.1.1" xref="S4.E4.m1.3.3.1.1.cmml"><msub id="S4.E4.m1.3.3.1.1.3" xref="S4.E4.m1.3.3.1.1.3.cmml"><mi id="S4.E4.m1.3.3.1.1.3.2" xref="S4.E4.m1.3.3.1.1.3.2.cmml">s</mi><mi id="S4.E4.m1.3.3.1.1.3.3" xref="S4.E4.m1.3.3.1.1.3.3.cmml">t</mi></msub><mo id="S4.E4.m1.3.3.1.1.2" xref="S4.E4.m1.3.3.1.1.2.cmml">=</mo><mrow id="S4.E4.m1.3.3.1.1.1" xref="S4.E4.m1.3.3.1.1.1.cmml"><mrow id="S4.E4.m1.3.3.1.1.1.3" xref="S4.E4.m1.3.3.1.1.1.3.cmml"><munder id="S4.E4.m1.3.3.1.1.1.3.1" xref="S4.E4.m1.3.3.1.1.1.3.1.cmml"><mrow id="S4.E4.m1.3.3.1.1.1.3.1.2" xref="S4.E4.m1.3.3.1.1.1.3.1.2.cmml"><mi id="S4.E4.m1.3.3.1.1.1.3.1.2.2" xref="S4.E4.m1.3.3.1.1.1.3.1.2.2.cmml">arg</mi><mo id="S4.E4.m1.3.3.1.1.1.3.1.2.1" lspace="0.170em" xref="S4.E4.m1.3.3.1.1.1.3.1.2.1.cmml">⁢</mo><mi id="S4.E4.m1.3.3.1.1.1.3.1.2.3" xref="S4.E4.m1.3.3.1.1.1.3.1.2.3.cmml">max</mi></mrow><mrow id="S4.E4.m1.1.1.1" xref="S4.E4.m1.1.1.1.cmml"><mrow id="S4.E4.m1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.cmml"><mtext id="S4.E4.m1.1.1.1.1.3" xref="S4.E4.m1.1.1.1.1.3a.cmml">do</mtext><mo id="S4.E4.m1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E4.m1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.1.cmml"><mo id="S4.E4.m1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E4.m1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E4.m1.1.1.1.1.1.1.1" xref="S4.E4.m1.1.1.1.1.1.1.1.cmml"><mi id="S4.E4.m1.1.1.1.1.1.1.1.2" xref="S4.E4.m1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.E4.m1.1.1.1.1.1.1.1.3" xref="S4.E4.m1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.E4.m1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E4.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E4.m1.1.1.1.2" xref="S4.E4.m1.1.1.1.2.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E4.m1.1.1.1.3" xref="S4.E4.m1.1.1.1.3.cmml">𝒮</mi></mrow></munder><mo id="S4.E4.m1.3.3.1.1.1.3a" xref="S4.E4.m1.3.3.1.1.1.3.cmml">⁡</mo><mi id="S4.E4.m1.3.3.1.1.1.3.2" xref="S4.E4.m1.3.3.1.1.1.3.2.cmml">ℙ</mi></mrow><mo id="S4.E4.m1.3.3.1.1.1.2" xref="S4.E4.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="S4.E4.m1.3.3.1.1.1.1.1" xref="S4.E4.m1.3.3.1.1.1.1.1.1.cmml"><mo id="S4.E4.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="S4.E4.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E4.m1.3.3.1.1.1.1.1.1" xref="S4.E4.m1.3.3.1.1.1.1.1.1.cmml"><msub id="S4.E4.m1.3.3.1.1.1.1.1.1.4" xref="S4.E4.m1.3.3.1.1.1.1.1.1.4.cmml"><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.4.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.4.2.cmml">D</mi><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.4.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.4.3.cmml">t</mi></msub><mo fence="false" id="S4.E4.m1.3.3.1.1.1.1.1.1.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.3.cmml"><mrow id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mtext id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.5" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.5a.cmml">do</mtext><mo id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.4" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.4.cmml">⁢</mo><mrow id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml"><mo id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msub id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.5" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mrow id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.6" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S4.E4.m1.2.2" mathvariant="normal" xref="S4.E4.m1.2.2.cmml">…</mi><mo id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.7" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">S</mi><mn id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">1</mn></msub><mo id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.8" stretchy="false" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.2" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml">P</mi><mi id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.3" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.E4.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="S4.E4.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E4.m1.3.3.1.2" lspace="0em" xref="S4.E4.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E4.m1.3b"><apply id="S4.E4.m1.3.3.1.1.cmml" xref="S4.E4.m1.3.3.1"><eq id="S4.E4.m1.3.3.1.1.2.cmml" xref="S4.E4.m1.3.3.1.1.2"></eq><apply id="S4.E4.m1.3.3.1.1.3.cmml" xref="S4.E4.m1.3.3.1.1.3"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.3.1.cmml" xref="S4.E4.m1.3.3.1.1.3">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.3.2.cmml" xref="S4.E4.m1.3.3.1.1.3.2">𝑠</ci><ci id="S4.E4.m1.3.3.1.1.3.3.cmml" xref="S4.E4.m1.3.3.1.1.3.3">𝑡</ci></apply><apply id="S4.E4.m1.3.3.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1"><times id="S4.E4.m1.3.3.1.1.1.2.cmml" xref="S4.E4.m1.3.3.1.1.1.2"></times><apply id="S4.E4.m1.3.3.1.1.1.3.cmml" xref="S4.E4.m1.3.3.1.1.1.3"><apply id="S4.E4.m1.3.3.1.1.1.3.1.cmml" xref="S4.E4.m1.3.3.1.1.1.3.1"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.1.3.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.3.1">subscript</csymbol><apply id="S4.E4.m1.3.3.1.1.1.3.1.2.cmml" xref="S4.E4.m1.3.3.1.1.1.3.1.2"><times id="S4.E4.m1.3.3.1.1.1.3.1.2.1.cmml" xref="S4.E4.m1.3.3.1.1.1.3.1.2.1"></times><ci id="S4.E4.m1.3.3.1.1.1.3.1.2.2.cmml" xref="S4.E4.m1.3.3.1.1.1.3.1.2.2">arg</ci><ci id="S4.E4.m1.3.3.1.1.1.3.1.2.3.cmml" xref="S4.E4.m1.3.3.1.1.1.3.1.2.3">max</ci></apply><apply id="S4.E4.m1.1.1.1.cmml" xref="S4.E4.m1.1.1.1"><in id="S4.E4.m1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.2"></in><apply id="S4.E4.m1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1"><times id="S4.E4.m1.1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1.2"></times><ci id="S4.E4.m1.1.1.1.1.3a.cmml" xref="S4.E4.m1.1.1.1.1.3"><mtext id="S4.E4.m1.1.1.1.1.3.cmml" mathsize="70%" xref="S4.E4.m1.1.1.1.1.3">do</mtext></ci><apply id="S4.E4.m1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E4.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.E4.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply><ci id="S4.E4.m1.1.1.1.3.cmml" xref="S4.E4.m1.1.1.1.3">𝒮</ci></apply></apply><ci id="S4.E4.m1.3.3.1.1.1.3.2.cmml" xref="S4.E4.m1.3.3.1.1.1.3.2">ℙ</ci></apply><apply id="S4.E4.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="S4.E4.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.3">conditional</csymbol><apply id="S4.E4.m1.3.3.1.1.1.1.1.1.4.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.1.1.1.1.4.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.4.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.4.2">𝐷</ci><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.4.3.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.4.3">𝑡</ci></apply><list id="S4.E4.m1.3.3.1.1.1.1.1.1.2.3.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.2"><apply id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1"><times id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.4"></times><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.5a.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.5"><mtext id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.5.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.5">do</mtext></ci><vector id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3"><apply id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.2">𝑆</ci><apply id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3"><minus id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S4.E4.m1.2.2.cmml" xref="S4.E4.m1.2.2">…</ci><apply id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.2">𝑆</ci><cn id="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" type="integer" xref="S4.E4.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.3">1</cn></apply></vector></apply><apply id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.2">𝑃</ci><ci id="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E4.m1.3.3.1.1.1.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E4.m1.3c">s_{t}=\operatorname*{arg\,max}_{\text{do}(S_{t})\in\mathcal{S}}\mathbb{P}(D_{t%
}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t}).</annotation><annotation encoding="application/x-llamapun" id="S4.E4.m1.3d">italic_s start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = start_OPERATOR roman_arg roman_max end_OPERATOR start_POSTSUBSCRIPT do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ∈ caligraphic_S end_POSTSUBSCRIPT blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS3.p2.4">Note that an alternative way to define the optimization problem is to consider the cumulative decisions <math alttext="\sum_{i=1}^{T}D_{i}" class="ltx_Math" display="inline" id="S4.SS3.p2.4.m1.1"><semantics id="S4.SS3.p2.4.m1.1a"><mrow id="S4.SS3.p2.4.m1.1.1" xref="S4.SS3.p2.4.m1.1.1.cmml"><msubsup id="S4.SS3.p2.4.m1.1.1.1" xref="S4.SS3.p2.4.m1.1.1.1.cmml"><mo id="S4.SS3.p2.4.m1.1.1.1.2.2" xref="S4.SS3.p2.4.m1.1.1.1.2.2.cmml">∑</mo><mrow id="S4.SS3.p2.4.m1.1.1.1.2.3" xref="S4.SS3.p2.4.m1.1.1.1.2.3.cmml"><mi id="S4.SS3.p2.4.m1.1.1.1.2.3.2" xref="S4.SS3.p2.4.m1.1.1.1.2.3.2.cmml">i</mi><mo id="S4.SS3.p2.4.m1.1.1.1.2.3.1" xref="S4.SS3.p2.4.m1.1.1.1.2.3.1.cmml">=</mo><mn id="S4.SS3.p2.4.m1.1.1.1.2.3.3" xref="S4.SS3.p2.4.m1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S4.SS3.p2.4.m1.1.1.1.3" xref="S4.SS3.p2.4.m1.1.1.1.3.cmml">T</mi></msubsup><msub id="S4.SS3.p2.4.m1.1.1.2" xref="S4.SS3.p2.4.m1.1.1.2.cmml"><mi id="S4.SS3.p2.4.m1.1.1.2.2" xref="S4.SS3.p2.4.m1.1.1.2.2.cmml">D</mi><mi id="S4.SS3.p2.4.m1.1.1.2.3" xref="S4.SS3.p2.4.m1.1.1.2.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m1.1b"><apply id="S4.SS3.p2.4.m1.1.1.cmml" xref="S4.SS3.p2.4.m1.1.1"><apply id="S4.SS3.p2.4.m1.1.1.1.cmml" xref="S4.SS3.p2.4.m1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m1.1.1.1.1.cmml" xref="S4.SS3.p2.4.m1.1.1.1">superscript</csymbol><apply id="S4.SS3.p2.4.m1.1.1.1.2.cmml" xref="S4.SS3.p2.4.m1.1.1.1"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m1.1.1.1.2.1.cmml" xref="S4.SS3.p2.4.m1.1.1.1">subscript</csymbol><sum id="S4.SS3.p2.4.m1.1.1.1.2.2.cmml" xref="S4.SS3.p2.4.m1.1.1.1.2.2"></sum><apply id="S4.SS3.p2.4.m1.1.1.1.2.3.cmml" xref="S4.SS3.p2.4.m1.1.1.1.2.3"><eq id="S4.SS3.p2.4.m1.1.1.1.2.3.1.cmml" xref="S4.SS3.p2.4.m1.1.1.1.2.3.1"></eq><ci id="S4.SS3.p2.4.m1.1.1.1.2.3.2.cmml" xref="S4.SS3.p2.4.m1.1.1.1.2.3.2">𝑖</ci><cn id="S4.SS3.p2.4.m1.1.1.1.2.3.3.cmml" type="integer" xref="S4.SS3.p2.4.m1.1.1.1.2.3.3">1</cn></apply></apply><ci id="S4.SS3.p2.4.m1.1.1.1.3.cmml" xref="S4.SS3.p2.4.m1.1.1.1.3">𝑇</ci></apply><apply id="S4.SS3.p2.4.m1.1.1.2.cmml" xref="S4.SS3.p2.4.m1.1.1.2"><csymbol cd="ambiguous" id="S4.SS3.p2.4.m1.1.1.2.1.cmml" xref="S4.SS3.p2.4.m1.1.1.2">subscript</csymbol><ci id="S4.SS3.p2.4.m1.1.1.2.2.cmml" xref="S4.SS3.p2.4.m1.1.1.2.2">𝐷</ci><ci id="S4.SS3.p2.4.m1.1.1.2.3.cmml" xref="S4.SS3.p2.4.m1.1.1.2.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m1.1c">\sum_{i=1}^{T}D_{i}</annotation><annotation encoding="application/x-llamapun" id="S4.SS3.p2.4.m1.1d">∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_T end_POSTSUPERSCRIPT italic_D start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>. For simplicity we consider a one-step maximization as <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.E4" title="In 4.3. Maximizing Users’ Positive Decisions. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">4</span></a> only, but the framework can be generalized to cumulative decisions easily.</p>
</div>
<div class="ltx_para" id="S4.SS3.p3">
<p class="ltx_p" id="S4.SS3.p3.1">To preserve the causal structure, we refer to <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.Thmtheorem1" title="Theorem 4.1. ‣ 4.2. Estimating the Interventional Distribution. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Theorem</span> <span class="ltx_text ltx_ref_tag">4.1</span></a> and accordingly propose CSRec (<span class="ltx_text ltx_font_bold" id="S4.SS3.p3.1.1">C</span>ausal <span class="ltx_text ltx_font_bold" id="S4.SS3.p3.1.2">S</span>equential <span class="ltx_text ltx_font_bold" id="S4.SS3.p3.1.3">Rec</span>ommender) with this new optimization goal as the following:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(5)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\max_{\text{do}(S_{t})\in\mathcal{S}}\mathbb{P}(D_{t}|\text{do}(S_{t},...,S_{1%
}),P_{t})" class="ltx_Math" display="block" id="S4.E5.m1.3"><semantics id="S4.E5.m1.3a"><mrow id="S4.E5.m1.3.3" xref="S4.E5.m1.3.3.cmml"><mrow id="S4.E5.m1.3.3.3" xref="S4.E5.m1.3.3.3.cmml"><munder id="S4.E5.m1.3.3.3.1" xref="S4.E5.m1.3.3.3.1.cmml"><mi id="S4.E5.m1.3.3.3.1.2" xref="S4.E5.m1.3.3.3.1.2.cmml">max</mi><mrow id="S4.E5.m1.1.1.1" xref="S4.E5.m1.1.1.1.cmml"><mrow id="S4.E5.m1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.cmml"><mtext id="S4.E5.m1.1.1.1.1.3" xref="S4.E5.m1.1.1.1.1.3a.cmml">do</mtext><mo id="S4.E5.m1.1.1.1.1.2" xref="S4.E5.m1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E5.m1.1.1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.1.1.1.cmml"><mo id="S4.E5.m1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E5.m1.1.1.1.1.1.1.1.cmml">(</mo><msub id="S4.E5.m1.1.1.1.1.1.1.1" xref="S4.E5.m1.1.1.1.1.1.1.1.cmml"><mi id="S4.E5.m1.1.1.1.1.1.1.1.2" xref="S4.E5.m1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.E5.m1.1.1.1.1.1.1.1.3" xref="S4.E5.m1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.E5.m1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E5.m1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E5.m1.1.1.1.2" xref="S4.E5.m1.1.1.1.2.cmml">∈</mo><mi class="ltx_font_mathcaligraphic" id="S4.E5.m1.1.1.1.3" xref="S4.E5.m1.1.1.1.3.cmml">𝒮</mi></mrow></munder><mo id="S4.E5.m1.3.3.3a" lspace="0.167em" xref="S4.E5.m1.3.3.3.cmml">⁡</mo><mi id="S4.E5.m1.3.3.3.2" xref="S4.E5.m1.3.3.3.2.cmml">ℙ</mi></mrow><mo id="S4.E5.m1.3.3.2" xref="S4.E5.m1.3.3.2.cmml">⁢</mo><mrow id="S4.E5.m1.3.3.1.1" xref="S4.E5.m1.3.3.1.1.1.cmml"><mo id="S4.E5.m1.3.3.1.1.2" stretchy="false" xref="S4.E5.m1.3.3.1.1.1.cmml">(</mo><mrow id="S4.E5.m1.3.3.1.1.1" xref="S4.E5.m1.3.3.1.1.1.cmml"><msub id="S4.E5.m1.3.3.1.1.1.4" xref="S4.E5.m1.3.3.1.1.1.4.cmml"><mi id="S4.E5.m1.3.3.1.1.1.4.2" xref="S4.E5.m1.3.3.1.1.1.4.2.cmml">D</mi><mi id="S4.E5.m1.3.3.1.1.1.4.3" xref="S4.E5.m1.3.3.1.1.1.4.3.cmml">t</mi></msub><mo fence="false" id="S4.E5.m1.3.3.1.1.1.3" xref="S4.E5.m1.3.3.1.1.1.3.cmml">|</mo><mrow id="S4.E5.m1.3.3.1.1.1.2.2" xref="S4.E5.m1.3.3.1.1.1.2.3.cmml"><mrow id="S4.E5.m1.3.3.1.1.1.1.1.1" xref="S4.E5.m1.3.3.1.1.1.1.1.1.cmml"><mtext id="S4.E5.m1.3.3.1.1.1.1.1.1.4" xref="S4.E5.m1.3.3.1.1.1.1.1.1.4a.cmml">do</mtext><mo id="S4.E5.m1.3.3.1.1.1.1.1.1.3" xref="S4.E5.m1.3.3.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.3.cmml"><mo id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1" xref="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.2" xref="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.3" xref="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.4" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S4.E5.m1.2.2" mathvariant="normal" xref="S4.E5.m1.2.2.cmml">…</mi><mo id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.5" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.2" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mn id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.3" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.6" stretchy="false" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.E5.m1.3.3.1.1.1.2.2.3" xref="S4.E5.m1.3.3.1.1.1.2.3.cmml">,</mo><msub id="S4.E5.m1.3.3.1.1.1.2.2.2" xref="S4.E5.m1.3.3.1.1.1.2.2.2.cmml"><mi id="S4.E5.m1.3.3.1.1.1.2.2.2.2" xref="S4.E5.m1.3.3.1.1.1.2.2.2.2.cmml">P</mi><mi id="S4.E5.m1.3.3.1.1.1.2.2.2.3" xref="S4.E5.m1.3.3.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.E5.m1.3.3.1.1.3" stretchy="false" xref="S4.E5.m1.3.3.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E5.m1.3b"><apply id="S4.E5.m1.3.3.cmml" xref="S4.E5.m1.3.3"><times id="S4.E5.m1.3.3.2.cmml" xref="S4.E5.m1.3.3.2"></times><apply id="S4.E5.m1.3.3.3.cmml" xref="S4.E5.m1.3.3.3"><apply id="S4.E5.m1.3.3.3.1.cmml" xref="S4.E5.m1.3.3.3.1"><csymbol cd="ambiguous" id="S4.E5.m1.3.3.3.1.1.cmml" xref="S4.E5.m1.3.3.3.1">subscript</csymbol><max id="S4.E5.m1.3.3.3.1.2.cmml" xref="S4.E5.m1.3.3.3.1.2"></max><apply id="S4.E5.m1.1.1.1.cmml" xref="S4.E5.m1.1.1.1"><in id="S4.E5.m1.1.1.1.2.cmml" xref="S4.E5.m1.1.1.1.2"></in><apply id="S4.E5.m1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1"><times id="S4.E5.m1.1.1.1.1.2.cmml" xref="S4.E5.m1.1.1.1.1.2"></times><ci id="S4.E5.m1.1.1.1.1.3a.cmml" xref="S4.E5.m1.1.1.1.1.3"><mtext id="S4.E5.m1.1.1.1.1.3.cmml" mathsize="70%" xref="S4.E5.m1.1.1.1.1.3">do</mtext></ci><apply id="S4.E5.m1.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E5.m1.1.1.1.1.1.1.1.2.cmml" xref="S4.E5.m1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.E5.m1.1.1.1.1.1.1.1.3.cmml" xref="S4.E5.m1.1.1.1.1.1.1.1.3">𝑡</ci></apply></apply><ci id="S4.E5.m1.1.1.1.3.cmml" xref="S4.E5.m1.1.1.1.3">𝒮</ci></apply></apply><ci id="S4.E5.m1.3.3.3.2.cmml" xref="S4.E5.m1.3.3.3.2">ℙ</ci></apply><apply id="S4.E5.m1.3.3.1.1.1.cmml" xref="S4.E5.m1.3.3.1.1"><csymbol cd="latexml" id="S4.E5.m1.3.3.1.1.1.3.cmml" xref="S4.E5.m1.3.3.1.1.1.3">conditional</csymbol><apply id="S4.E5.m1.3.3.1.1.1.4.cmml" xref="S4.E5.m1.3.3.1.1.1.4"><csymbol cd="ambiguous" id="S4.E5.m1.3.3.1.1.1.4.1.cmml" xref="S4.E5.m1.3.3.1.1.1.4">subscript</csymbol><ci id="S4.E5.m1.3.3.1.1.1.4.2.cmml" xref="S4.E5.m1.3.3.1.1.1.4.2">𝐷</ci><ci id="S4.E5.m1.3.3.1.1.1.4.3.cmml" xref="S4.E5.m1.3.3.1.1.1.4.3">𝑡</ci></apply><list id="S4.E5.m1.3.3.1.1.1.2.3.cmml" xref="S4.E5.m1.3.3.1.1.1.2.2"><apply id="S4.E5.m1.3.3.1.1.1.1.1.1.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1"><times id="S4.E5.m1.3.3.1.1.1.1.1.1.3.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.3"></times><ci id="S4.E5.m1.3.3.1.1.1.1.1.1.4a.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.4"><mtext id="S4.E5.m1.3.3.1.1.1.1.1.1.4.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.4">do</mtext></ci><vector id="S4.E5.m1.3.3.1.1.1.1.1.1.2.3.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.2"><apply id="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S4.E5.m1.2.2.cmml" xref="S4.E5.m1.2.2">…</ci><apply id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.2">𝑆</ci><cn id="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.E5.m1.3.3.1.1.1.1.1.1.2.2.2.3">1</cn></apply></vector></apply><apply id="S4.E5.m1.3.3.1.1.1.2.2.2.cmml" xref="S4.E5.m1.3.3.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E5.m1.3.3.1.1.1.2.2.2.1.cmml" xref="S4.E5.m1.3.3.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E5.m1.3.3.1.1.1.2.2.2.2.cmml" xref="S4.E5.m1.3.3.1.1.1.2.2.2.2">𝑃</ci><ci id="S4.E5.m1.3.3.1.1.1.2.2.2.3.cmml" xref="S4.E5.m1.3.3.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E5.m1.3c">\max_{\text{do}(S_{t})\in\mathcal{S}}\mathbb{P}(D_{t}|\text{do}(S_{t},...,S_{1%
}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.E5.m1.3d">roman_max start_POSTSUBSCRIPT do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ∈ caligraphic_S end_POSTSUBSCRIPT blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<table class="ltx_equation ltx_eqn_table" id="S4.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(6)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{s.t.}\quad\mathbb{P}(D_{t}|\text{do}(S_{t},...,S_{1}),P_{t})=\sum_{D_{t-%
1}}\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})\cdot\\
\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})" class="ltx_Math" display="block" id="S4.E6.m1.61"><semantics id="S4.E6.m1.61a"><mtable displaystyle="true" id="S4.E6.m1.61.61.4" rowspacing="0pt" xref="S4.E6.m1.60.60.3.cmml"><mtr id="S4.E6.m1.61.61.4a" xref="S4.E6.m1.60.60.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="S4.E6.m1.61.61.4b" xref="S4.E6.m1.60.60.3.cmml"><mrow id="S4.E6.m1.38.38.38.38.38" xref="S4.E6.m1.60.60.3.cmml"><mtext id="S4.E6.m1.1.1.1.1.1.1" xref="S4.E6.m1.1.1.1.1.1.1a.cmml">s.t.</mtext><mspace id="S4.E6.m1.38.38.38.38.38.39" width="1em" xref="S4.E6.m1.60.60.3.cmml"></mspace><mi id="S4.E6.m1.2.2.2.2.2.2" xref="S4.E6.m1.2.2.2.2.2.2.cmml">ℙ</mi><mrow id="S4.E6.m1.38.38.38.38.38.40" xref="S4.E6.m1.60.60.3.cmml"><mo id="S4.E6.m1.3.3.3.3.3.3" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">(</mo><msub id="S4.E6.m1.38.38.38.38.38.40.1" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.4.4.4.4.4.4" xref="S4.E6.m1.4.4.4.4.4.4.cmml">D</mi><mi id="S4.E6.m1.5.5.5.5.5.5.1" xref="S4.E6.m1.5.5.5.5.5.5.1.cmml">t</mi></msub><mo fence="false" id="S4.E6.m1.6.6.6.6.6.6" rspace="0.167em" stretchy="false" xref="S4.E6.m1.6.6.6.6.6.6.cmml">|</mo><mtext id="S4.E6.m1.7.7.7.7.7.7" xref="S4.E6.m1.7.7.7.7.7.7a.cmml">do</mtext><mrow id="S4.E6.m1.38.38.38.38.38.40.2" xref="S4.E6.m1.60.60.3.cmml"><mo id="S4.E6.m1.8.8.8.8.8.8" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">(</mo><msub id="S4.E6.m1.38.38.38.38.38.40.2.1" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.9.9.9.9.9.9" xref="S4.E6.m1.9.9.9.9.9.9.cmml">S</mi><mi id="S4.E6.m1.10.10.10.10.10.10.1" xref="S4.E6.m1.10.10.10.10.10.10.1.cmml">t</mi></msub><mo id="S4.E6.m1.11.11.11.11.11.11" xref="S4.E6.m1.60.60.3.cmml">,</mo><mi id="S4.E6.m1.12.12.12.12.12.12" mathvariant="normal" xref="S4.E6.m1.12.12.12.12.12.12.cmml">…</mi><mo id="S4.E6.m1.13.13.13.13.13.13" xref="S4.E6.m1.60.60.3.cmml">,</mo><msub id="S4.E6.m1.38.38.38.38.38.40.2.2" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.14.14.14.14.14.14" xref="S4.E6.m1.14.14.14.14.14.14.cmml">S</mi><mn id="S4.E6.m1.15.15.15.15.15.15.1" xref="S4.E6.m1.15.15.15.15.15.15.1.cmml">1</mn></msub><mo id="S4.E6.m1.16.16.16.16.16.16" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">)</mo></mrow><mo id="S4.E6.m1.17.17.17.17.17.17" xref="S4.E6.m1.60.60.3.cmml">,</mo><msub id="S4.E6.m1.38.38.38.38.38.40.3" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.18.18.18.18.18.18" xref="S4.E6.m1.18.18.18.18.18.18.cmml">P</mi><mi id="S4.E6.m1.19.19.19.19.19.19.1" xref="S4.E6.m1.19.19.19.19.19.19.1.cmml">t</mi></msub><mo id="S4.E6.m1.20.20.20.20.20.20" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">)</mo></mrow><mo id="S4.E6.m1.21.21.21.21.21.21" rspace="0.111em" xref="S4.E6.m1.21.21.21.21.21.21.cmml">=</mo><munder id="S4.E6.m1.38.38.38.38.38.41" xref="S4.E6.m1.60.60.3.cmml"><mo id="S4.E6.m1.22.22.22.22.22.22" movablelimits="false" xref="S4.E6.m1.22.22.22.22.22.22.cmml">∑</mo><msub id="S4.E6.m1.23.23.23.23.23.23.1" xref="S4.E6.m1.23.23.23.23.23.23.1.cmml"><mi id="S4.E6.m1.23.23.23.23.23.23.1.2" xref="S4.E6.m1.23.23.23.23.23.23.1.2.cmml">D</mi><mrow id="S4.E6.m1.23.23.23.23.23.23.1.3" xref="S4.E6.m1.23.23.23.23.23.23.1.3.cmml"><mi id="S4.E6.m1.23.23.23.23.23.23.1.3.2" xref="S4.E6.m1.23.23.23.23.23.23.1.3.2.cmml">t</mi><mo id="S4.E6.m1.23.23.23.23.23.23.1.3.1" xref="S4.E6.m1.23.23.23.23.23.23.1.3.1.cmml">−</mo><mn id="S4.E6.m1.23.23.23.23.23.23.1.3.3" xref="S4.E6.m1.23.23.23.23.23.23.1.3.3.cmml">1</mn></mrow></msub></munder><mi id="S4.E6.m1.24.24.24.24.24.24" xref="S4.E6.m1.24.24.24.24.24.24.cmml">ℙ</mi><mrow id="S4.E6.m1.38.38.38.38.38.42" xref="S4.E6.m1.60.60.3.cmml"><mo id="S4.E6.m1.25.25.25.25.25.25" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">(</mo><msub id="S4.E6.m1.38.38.38.38.38.42.1" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.26.26.26.26.26.26" xref="S4.E6.m1.26.26.26.26.26.26.cmml">D</mi><mi id="S4.E6.m1.27.27.27.27.27.27.1" xref="S4.E6.m1.27.27.27.27.27.27.1.cmml">t</mi></msub><mo fence="false" id="S4.E6.m1.28.28.28.28.28.28" rspace="0.167em" stretchy="false" xref="S4.E6.m1.28.28.28.28.28.28.cmml">|</mo><msub id="S4.E6.m1.38.38.38.38.38.42.2" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.29.29.29.29.29.29" xref="S4.E6.m1.29.29.29.29.29.29.cmml">S</mi><mi id="S4.E6.m1.30.30.30.30.30.30.1" xref="S4.E6.m1.30.30.30.30.30.30.1.cmml">t</mi></msub><mo id="S4.E6.m1.31.31.31.31.31.31" xref="S4.E6.m1.60.60.3.cmml">,</mo><msub id="S4.E6.m1.38.38.38.38.38.42.3" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.32.32.32.32.32.32" xref="S4.E6.m1.32.32.32.32.32.32.cmml">D</mi><mrow id="S4.E6.m1.33.33.33.33.33.33.1" xref="S4.E6.m1.33.33.33.33.33.33.1.cmml"><mi id="S4.E6.m1.33.33.33.33.33.33.1.2" xref="S4.E6.m1.33.33.33.33.33.33.1.2.cmml">t</mi><mo id="S4.E6.m1.33.33.33.33.33.33.1.1" xref="S4.E6.m1.33.33.33.33.33.33.1.1.cmml">−</mo><mn id="S4.E6.m1.33.33.33.33.33.33.1.3" xref="S4.E6.m1.33.33.33.33.33.33.1.3.cmml">1</mn></mrow></msub><mo id="S4.E6.m1.34.34.34.34.34.34" xref="S4.E6.m1.60.60.3.cmml">,</mo><msub id="S4.E6.m1.38.38.38.38.38.42.4" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.35.35.35.35.35.35" xref="S4.E6.m1.35.35.35.35.35.35.cmml">P</mi><mi id="S4.E6.m1.36.36.36.36.36.36.1" xref="S4.E6.m1.36.36.36.36.36.36.1.cmml">t</mi></msub><mo id="S4.E6.m1.37.37.37.37.37.37" rspace="0.055em" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">)</mo></mrow><mo id="S4.E6.m1.38.38.38.38.38.38" xref="S4.E6.m1.38.38.38.38.38.38.cmml">⋅</mo></mrow></mtd></mtr><mtr id="S4.E6.m1.61.61.4c" xref="S4.E6.m1.60.60.3.cmml"><mtd class="ltx_align_right" columnalign="right" id="S4.E6.m1.61.61.4d" xref="S4.E6.m1.60.60.3.cmml"><mrow id="S4.E6.m1.61.61.4.58.20.20" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.39.39.39.1.1.1" xref="S4.E6.m1.39.39.39.1.1.1.cmml">ℙ</mi><mo id="S4.E6.m1.61.61.4.58.20.20.21" xref="S4.E6.m1.60.60.3.cmml">⁢</mo><mrow id="S4.E6.m1.61.61.4.58.20.20.20.1" xref="S4.E6.m1.60.60.3.cmml"><mo id="S4.E6.m1.40.40.40.2.2.2" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">(</mo><mrow id="S4.E6.m1.61.61.4.58.20.20.20.1.1" xref="S4.E6.m1.60.60.3.cmml"><msub id="S4.E6.m1.61.61.4.58.20.20.20.1.1.3" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.41.41.41.3.3.3" xref="S4.E6.m1.41.41.41.3.3.3.cmml">D</mi><mrow id="S4.E6.m1.42.42.42.4.4.4.1" xref="S4.E6.m1.42.42.42.4.4.4.1.cmml"><mi id="S4.E6.m1.42.42.42.4.4.4.1.2" xref="S4.E6.m1.42.42.42.4.4.4.1.2.cmml">t</mi><mo id="S4.E6.m1.42.42.42.4.4.4.1.1" xref="S4.E6.m1.42.42.42.4.4.4.1.1.cmml">−</mo><mn id="S4.E6.m1.42.42.42.4.4.4.1.3" xref="S4.E6.m1.42.42.42.4.4.4.1.3.cmml">1</mn></mrow></msub><mo fence="false" id="S4.E6.m1.43.43.43.5.5.5" xref="S4.E6.m1.43.43.43.5.5.5.cmml">|</mo><mrow id="S4.E6.m1.61.61.4.58.20.20.20.1.1.2.2" xref="S4.E6.m1.60.60.3.cmml"><mrow id="S4.E6.m1.61.61.4.58.20.20.20.1.1.1.1.1" xref="S4.E6.m1.60.60.3.cmml"><mtext id="S4.E6.m1.44.44.44.6.6.6" xref="S4.E6.m1.44.44.44.6.6.6a.cmml">do</mtext><mo id="S4.E6.m1.61.61.4.58.20.20.20.1.1.1.1.1.3" xref="S4.E6.m1.60.60.3.cmml">⁢</mo><mrow id="S4.E6.m1.61.61.4.58.20.20.20.1.1.1.1.1.2.2" xref="S4.E6.m1.60.60.3.cmml"><mo id="S4.E6.m1.45.45.45.7.7.7" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">(</mo><msub id="S4.E6.m1.61.61.4.58.20.20.20.1.1.1.1.1.1.1.1" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.46.46.46.8.8.8" xref="S4.E6.m1.46.46.46.8.8.8.cmml">S</mi><mrow id="S4.E6.m1.47.47.47.9.9.9.1" xref="S4.E6.m1.47.47.47.9.9.9.1.cmml"><mi id="S4.E6.m1.47.47.47.9.9.9.1.2" xref="S4.E6.m1.47.47.47.9.9.9.1.2.cmml">t</mi><mo id="S4.E6.m1.47.47.47.9.9.9.1.1" xref="S4.E6.m1.47.47.47.9.9.9.1.1.cmml">−</mo><mn id="S4.E6.m1.47.47.47.9.9.9.1.3" xref="S4.E6.m1.47.47.47.9.9.9.1.3.cmml">1</mn></mrow></msub><mo id="S4.E6.m1.48.48.48.10.10.10" xref="S4.E6.m1.60.60.3.cmml">,</mo><mi id="S4.E6.m1.49.49.49.11.11.11" mathvariant="normal" xref="S4.E6.m1.49.49.49.11.11.11.cmml">…</mi><mo id="S4.E6.m1.50.50.50.12.12.12" xref="S4.E6.m1.60.60.3.cmml">,</mo><msub id="S4.E6.m1.61.61.4.58.20.20.20.1.1.1.1.1.2.2.2" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.51.51.51.13.13.13" xref="S4.E6.m1.51.51.51.13.13.13.cmml">S</mi><mn id="S4.E6.m1.52.52.52.14.14.14.1" xref="S4.E6.m1.52.52.52.14.14.14.1.cmml">1</mn></msub><mo id="S4.E6.m1.53.53.53.15.15.15" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">)</mo></mrow></mrow><mo id="S4.E6.m1.54.54.54.16.16.16" xref="S4.E6.m1.60.60.3.cmml">,</mo><msub id="S4.E6.m1.61.61.4.58.20.20.20.1.1.2.2.2" xref="S4.E6.m1.60.60.3.cmml"><mi id="S4.E6.m1.55.55.55.17.17.17" xref="S4.E6.m1.55.55.55.17.17.17.cmml">P</mi><mi id="S4.E6.m1.56.56.56.18.18.18.1" xref="S4.E6.m1.56.56.56.18.18.18.1.cmml">t</mi></msub></mrow></mrow><mo id="S4.E6.m1.57.57.57.19.19.19" stretchy="false" xref="S4.E6.m1.60.60.3.cmml">)</mo></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E6.m1.61b"><apply id="S4.E6.m1.60.60.3.cmml" xref="S4.E6.m1.61.61.4"><eq id="S4.E6.m1.21.21.21.21.21.21.cmml" xref="S4.E6.m1.21.21.21.21.21.21"></eq><list id="S4.E6.m1.58.58.1.1.2.cmml" xref="S4.E6.m1.61.61.4"><ci id="S4.E6.m1.1.1.1.1.1.1a.cmml" xref="S4.E6.m1.1.1.1.1.1.1"><mtext id="S4.E6.m1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.1.1.1.1.1.1">s.t.</mtext></ci><apply id="S4.E6.m1.58.58.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><times id="S4.E6.m1.58.58.1.1.1.1.2.cmml" xref="S4.E6.m1.61.61.4"></times><ci id="S4.E6.m1.2.2.2.2.2.2.cmml" xref="S4.E6.m1.2.2.2.2.2.2">ℙ</ci><apply id="S4.E6.m1.58.58.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><ci id="S4.E6.m1.6.6.6.6.6.6.cmml" xref="S4.E6.m1.6.6.6.6.6.6">|</ci><apply id="S4.E6.m1.58.58.1.1.1.1.1.1.1.4.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.58.58.1.1.1.1.1.1.1.4.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.4.4.4.4.4.4.cmml" xref="S4.E6.m1.4.4.4.4.4.4">𝐷</ci><ci id="S4.E6.m1.5.5.5.5.5.5.1.cmml" xref="S4.E6.m1.5.5.5.5.5.5.1">𝑡</ci></apply><list id="S4.E6.m1.58.58.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E6.m1.61.61.4"><apply id="S4.E6.m1.58.58.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><times id="S4.E6.m1.58.58.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E6.m1.61.61.4"></times><ci id="S4.E6.m1.7.7.7.7.7.7a.cmml" xref="S4.E6.m1.7.7.7.7.7.7"><mtext id="S4.E6.m1.7.7.7.7.7.7.cmml" xref="S4.E6.m1.7.7.7.7.7.7">do</mtext></ci><vector id="S4.E6.m1.58.58.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E6.m1.61.61.4"><apply id="S4.E6.m1.58.58.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.58.58.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.9.9.9.9.9.9.cmml" xref="S4.E6.m1.9.9.9.9.9.9">𝑆</ci><ci id="S4.E6.m1.10.10.10.10.10.10.1.cmml" xref="S4.E6.m1.10.10.10.10.10.10.1">𝑡</ci></apply><ci id="S4.E6.m1.12.12.12.12.12.12.cmml" xref="S4.E6.m1.12.12.12.12.12.12">…</ci><apply id="S4.E6.m1.58.58.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.58.58.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.14.14.14.14.14.14.cmml" xref="S4.E6.m1.14.14.14.14.14.14">𝑆</ci><cn id="S4.E6.m1.15.15.15.15.15.15.1.cmml" type="integer" xref="S4.E6.m1.15.15.15.15.15.15.1">1</cn></apply></vector></apply><apply id="S4.E6.m1.58.58.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.58.58.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.18.18.18.18.18.18.cmml" xref="S4.E6.m1.18.18.18.18.18.18">𝑃</ci><ci id="S4.E6.m1.19.19.19.19.19.19.1.cmml" xref="S4.E6.m1.19.19.19.19.19.19.1">𝑡</ci></apply></list></apply></apply></list><apply id="S4.E6.m1.60.60.3.3.cmml" xref="S4.E6.m1.61.61.4"><apply id="S4.E6.m1.60.60.3.3.3.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.60.60.3.3.3.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><sum id="S4.E6.m1.22.22.22.22.22.22.cmml" xref="S4.E6.m1.22.22.22.22.22.22"></sum><apply id="S4.E6.m1.23.23.23.23.23.23.1.cmml" xref="S4.E6.m1.23.23.23.23.23.23.1"><csymbol cd="ambiguous" id="S4.E6.m1.23.23.23.23.23.23.1.1.cmml" xref="S4.E6.m1.23.23.23.23.23.23.1">subscript</csymbol><ci id="S4.E6.m1.23.23.23.23.23.23.1.2.cmml" xref="S4.E6.m1.23.23.23.23.23.23.1.2">𝐷</ci><apply id="S4.E6.m1.23.23.23.23.23.23.1.3.cmml" xref="S4.E6.m1.23.23.23.23.23.23.1.3"><minus id="S4.E6.m1.23.23.23.23.23.23.1.3.1.cmml" xref="S4.E6.m1.23.23.23.23.23.23.1.3.1"></minus><ci id="S4.E6.m1.23.23.23.23.23.23.1.3.2.cmml" xref="S4.E6.m1.23.23.23.23.23.23.1.3.2">𝑡</ci><cn id="S4.E6.m1.23.23.23.23.23.23.1.3.3.cmml" type="integer" xref="S4.E6.m1.23.23.23.23.23.23.1.3.3">1</cn></apply></apply></apply><apply id="S4.E6.m1.60.60.3.3.2.cmml" xref="S4.E6.m1.61.61.4"><times id="S4.E6.m1.60.60.3.3.2.3.cmml" xref="S4.E6.m1.61.61.4"></times><apply id="S4.E6.m1.59.59.2.2.1.1.cmml" xref="S4.E6.m1.61.61.4"><ci id="S4.E6.m1.38.38.38.38.38.38.cmml" xref="S4.E6.m1.38.38.38.38.38.38">⋅</ci><apply id="S4.E6.m1.59.59.2.2.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><times id="S4.E6.m1.59.59.2.2.1.1.1.2.cmml" xref="S4.E6.m1.61.61.4"></times><ci id="S4.E6.m1.24.24.24.24.24.24.cmml" xref="S4.E6.m1.24.24.24.24.24.24">ℙ</ci><apply id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><ci id="S4.E6.m1.28.28.28.28.28.28.cmml" xref="S4.E6.m1.28.28.28.28.28.28">|</ci><apply id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.5.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.5.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.26.26.26.26.26.26.cmml" xref="S4.E6.m1.26.26.26.26.26.26">𝐷</ci><ci id="S4.E6.m1.27.27.27.27.27.27.1.cmml" xref="S4.E6.m1.27.27.27.27.27.27.1">𝑡</ci></apply><list id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.3.4.cmml" xref="S4.E6.m1.61.61.4"><apply id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.29.29.29.29.29.29.cmml" xref="S4.E6.m1.29.29.29.29.29.29">𝑆</ci><ci id="S4.E6.m1.30.30.30.30.30.30.1.cmml" xref="S4.E6.m1.30.30.30.30.30.30.1">𝑡</ci></apply><apply id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.32.32.32.32.32.32.cmml" xref="S4.E6.m1.32.32.32.32.32.32">𝐷</ci><apply id="S4.E6.m1.33.33.33.33.33.33.1.cmml" xref="S4.E6.m1.33.33.33.33.33.33.1"><minus id="S4.E6.m1.33.33.33.33.33.33.1.1.cmml" xref="S4.E6.m1.33.33.33.33.33.33.1.1"></minus><ci id="S4.E6.m1.33.33.33.33.33.33.1.2.cmml" xref="S4.E6.m1.33.33.33.33.33.33.1.2">𝑡</ci><cn id="S4.E6.m1.33.33.33.33.33.33.1.3.cmml" type="integer" xref="S4.E6.m1.33.33.33.33.33.33.1.3">1</cn></apply></apply><apply id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.59.59.2.2.1.1.1.1.1.1.3.3.3.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.35.35.35.35.35.35.cmml" xref="S4.E6.m1.35.35.35.35.35.35">𝑃</ci><ci id="S4.E6.m1.36.36.36.36.36.36.1.cmml" xref="S4.E6.m1.36.36.36.36.36.36.1">𝑡</ci></apply></list></apply></apply><ci id="S4.E6.m1.39.39.39.1.1.1.cmml" xref="S4.E6.m1.39.39.39.1.1.1">ℙ</ci></apply><apply id="S4.E6.m1.60.60.3.3.2.2.1.1.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="latexml" id="S4.E6.m1.43.43.43.5.5.5.cmml" xref="S4.E6.m1.43.43.43.5.5.5">conditional</csymbol><apply id="S4.E6.m1.60.60.3.3.2.2.1.1.4.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.60.60.3.3.2.2.1.1.4.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.41.41.41.3.3.3.cmml" xref="S4.E6.m1.41.41.41.3.3.3">𝐷</ci><apply id="S4.E6.m1.42.42.42.4.4.4.1.cmml" xref="S4.E6.m1.42.42.42.4.4.4.1"><minus id="S4.E6.m1.42.42.42.4.4.4.1.1.cmml" xref="S4.E6.m1.42.42.42.4.4.4.1.1"></minus><ci id="S4.E6.m1.42.42.42.4.4.4.1.2.cmml" xref="S4.E6.m1.42.42.42.4.4.4.1.2">𝑡</ci><cn id="S4.E6.m1.42.42.42.4.4.4.1.3.cmml" type="integer" xref="S4.E6.m1.42.42.42.4.4.4.1.3">1</cn></apply></apply><list id="S4.E6.m1.60.60.3.3.2.2.1.1.2.3.cmml" xref="S4.E6.m1.61.61.4"><apply id="S4.E6.m1.60.60.3.3.2.2.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><times id="S4.E6.m1.60.60.3.3.2.2.1.1.1.1.1.3.cmml" xref="S4.E6.m1.61.61.4"></times><ci id="S4.E6.m1.44.44.44.6.6.6a.cmml" xref="S4.E6.m1.44.44.44.6.6.6"><mtext id="S4.E6.m1.44.44.44.6.6.6.cmml" xref="S4.E6.m1.44.44.44.6.6.6">do</mtext></ci><vector id="S4.E6.m1.60.60.3.3.2.2.1.1.1.1.1.2.3.cmml" xref="S4.E6.m1.61.61.4"><apply id="S4.E6.m1.60.60.3.3.2.2.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.60.60.3.3.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.46.46.46.8.8.8.cmml" xref="S4.E6.m1.46.46.46.8.8.8">𝑆</ci><apply id="S4.E6.m1.47.47.47.9.9.9.1.cmml" xref="S4.E6.m1.47.47.47.9.9.9.1"><minus id="S4.E6.m1.47.47.47.9.9.9.1.1.cmml" xref="S4.E6.m1.47.47.47.9.9.9.1.1"></minus><ci id="S4.E6.m1.47.47.47.9.9.9.1.2.cmml" xref="S4.E6.m1.47.47.47.9.9.9.1.2">𝑡</ci><cn id="S4.E6.m1.47.47.47.9.9.9.1.3.cmml" type="integer" xref="S4.E6.m1.47.47.47.9.9.9.1.3">1</cn></apply></apply><ci id="S4.E6.m1.49.49.49.11.11.11.cmml" xref="S4.E6.m1.49.49.49.11.11.11">…</ci><apply id="S4.E6.m1.60.60.3.3.2.2.1.1.1.1.1.2.2.2.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.60.60.3.3.2.2.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.51.51.51.13.13.13.cmml" xref="S4.E6.m1.51.51.51.13.13.13">𝑆</ci><cn id="S4.E6.m1.52.52.52.14.14.14.1.cmml" type="integer" xref="S4.E6.m1.52.52.52.14.14.14.1">1</cn></apply></vector></apply><apply id="S4.E6.m1.60.60.3.3.2.2.1.1.2.2.2.cmml" xref="S4.E6.m1.61.61.4"><csymbol cd="ambiguous" id="S4.E6.m1.60.60.3.3.2.2.1.1.2.2.2.1.cmml" xref="S4.E6.m1.61.61.4">subscript</csymbol><ci id="S4.E6.m1.55.55.55.17.17.17.cmml" xref="S4.E6.m1.55.55.55.17.17.17">𝑃</ci><ci id="S4.E6.m1.56.56.56.18.18.18.1.cmml" xref="S4.E6.m1.56.56.56.18.18.18.1">𝑡</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.61c">\text{s.t.}\quad\mathbb{P}(D_{t}|\text{do}(S_{t},...,S_{1}),P_{t})=\sum_{D_{t-%
1}}\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})\cdot\\
\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.61d">start_ROW start_CELL s.t. blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ⋅ end_CELL end_ROW start_ROW start_CELL blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_theorem ltx_theorem_remark" id="S4.Thmtheorem2">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_italic" id="S4.Thmtheorem2.1.1.1">Remark 4.2</span></span><span class="ltx_text ltx_font_italic" id="S4.Thmtheorem2.2.2">.</span>
</h6>
<div class="ltx_para" id="S4.Thmtheorem2.p1">
<p class="ltx_p" id="S4.Thmtheorem2.p1.1">Concretely, CSRec considers optimizing the probability of users’ positive decision rate by incorporating the causal relationship for a variety of factors.</p>
</div>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4. </span>Enforcing the constraint.</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.7">To enforce the constraint <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.E6" title="In 4.3. Maximizing Users’ Positive Decisions. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">6</span></a>, we need to estimate quantities from both the interventional distribution <math alttext="\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.2"><semantics id="S4.SS4.p1.1.m1.2a"><mrow id="S4.SS4.p1.1.m1.2.2" xref="S4.SS4.p1.1.m1.2.2.cmml"><mi id="S4.SS4.p1.1.m1.2.2.3" xref="S4.SS4.p1.1.m1.2.2.3.cmml">ℙ</mi><mo id="S4.SS4.p1.1.m1.2.2.2" xref="S4.SS4.p1.1.m1.2.2.2.cmml">⁢</mo><mrow id="S4.SS4.p1.1.m1.2.2.1.1" xref="S4.SS4.p1.1.m1.2.2.1.1.1.cmml"><mo id="S4.SS4.p1.1.m1.2.2.1.1.2" stretchy="false" xref="S4.SS4.p1.1.m1.2.2.1.1.1.cmml">(</mo><mrow id="S4.SS4.p1.1.m1.2.2.1.1.1" xref="S4.SS4.p1.1.m1.2.2.1.1.1.cmml"><msub id="S4.SS4.p1.1.m1.2.2.1.1.1.4" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.cmml"><mi id="S4.SS4.p1.1.m1.2.2.1.1.1.4.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.2.cmml">D</mi><mrow id="S4.SS4.p1.1.m1.2.2.1.1.1.4.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.cmml"><mi id="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.2.cmml">t</mi><mo id="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.1" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.1.cmml">−</mo><mn id="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.3.cmml">1</mn></mrow></msub><mo fence="false" id="S4.SS4.p1.1.m1.2.2.1.1.1.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.3.cmml">|</mo><mrow id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.3.cmml"><mrow id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.cmml"><mtext id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.4" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.4a.cmml">do</mtext><mo id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.3.cmml"><mo id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mrow id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.4" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S4.SS4.p1.1.m1.1.1" mathvariant="normal" xref="S4.SS4.p1.1.m1.1.1.cmml">…</mi><mo id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.5" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mn id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.6" stretchy="false" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.3.cmml">,</mo><msub id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.2" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.2.cmml">P</mi><mi id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.3" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.SS4.p1.1.m1.2.2.1.1.3" stretchy="false" xref="S4.SS4.p1.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.2b"><apply id="S4.SS4.p1.1.m1.2.2.cmml" xref="S4.SS4.p1.1.m1.2.2"><times id="S4.SS4.p1.1.m1.2.2.2.cmml" xref="S4.SS4.p1.1.m1.2.2.2"></times><ci id="S4.SS4.p1.1.m1.2.2.3.cmml" xref="S4.SS4.p1.1.m1.2.2.3">ℙ</ci><apply id="S4.SS4.p1.1.m1.2.2.1.1.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1"><csymbol cd="latexml" id="S4.SS4.p1.1.m1.2.2.1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.3">conditional</csymbol><apply id="S4.SS4.p1.1.m1.2.2.1.1.1.4.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.2.2.1.1.1.4.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4">subscript</csymbol><ci id="S4.SS4.p1.1.m1.2.2.1.1.1.4.2.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.2">𝐷</ci><apply id="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.3"><minus id="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.1"></minus><ci id="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.2.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.2">𝑡</ci><cn id="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.3.cmml" type="integer" xref="S4.SS4.p1.1.m1.2.2.1.1.1.4.3.3">1</cn></apply></apply><list id="S4.SS4.p1.1.m1.2.2.1.1.1.2.3.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.2"><apply id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1"><times id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.3"></times><ci id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.4a.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.4"><mtext id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.4.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.4">do</mtext></ci><vector id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.3.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2"><apply id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑆</ci><apply id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3"><minus id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.1"></minus><ci id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.2">𝑡</ci><cn id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">…</ci><apply id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.2">𝑆</ci><cn id="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.SS4.p1.1.m1.2.2.1.1.1.1.1.1.2.2.2.3">1</cn></apply></vector></apply><apply id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.2">𝑃</ci><ci id="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.3.cmml" xref="S4.SS4.p1.1.m1.2.2.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.2c">\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> and observational distribution <math alttext="\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})" class="ltx_Math" display="inline" id="S4.SS4.p1.2.m2.1"><semantics id="S4.SS4.p1.2.m2.1a"><mrow id="S4.SS4.p1.2.m2.1.1" xref="S4.SS4.p1.2.m2.1.1.cmml"><mi id="S4.SS4.p1.2.m2.1.1.3" xref="S4.SS4.p1.2.m2.1.1.3.cmml">ℙ</mi><mo id="S4.SS4.p1.2.m2.1.1.2" xref="S4.SS4.p1.2.m2.1.1.2.cmml">⁢</mo><mrow id="S4.SS4.p1.2.m2.1.1.1.1" xref="S4.SS4.p1.2.m2.1.1.1.1.1.cmml"><mo id="S4.SS4.p1.2.m2.1.1.1.1.2" stretchy="false" xref="S4.SS4.p1.2.m2.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS4.p1.2.m2.1.1.1.1.1" xref="S4.SS4.p1.2.m2.1.1.1.1.1.cmml"><msub id="S4.SS4.p1.2.m2.1.1.1.1.1.5" xref="S4.SS4.p1.2.m2.1.1.1.1.1.5.cmml"><mi id="S4.SS4.p1.2.m2.1.1.1.1.1.5.2" xref="S4.SS4.p1.2.m2.1.1.1.1.1.5.2.cmml">D</mi><mi id="S4.SS4.p1.2.m2.1.1.1.1.1.5.3" xref="S4.SS4.p1.2.m2.1.1.1.1.1.5.3.cmml">t</mi></msub><mo fence="false" id="S4.SS4.p1.2.m2.1.1.1.1.1.4" xref="S4.SS4.p1.2.m2.1.1.1.1.1.4.cmml">|</mo><mrow id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.4.cmml"><msub id="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1" xref="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.2" xref="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.3" xref="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.4" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.2" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.2.cmml">D</mi><mrow id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.cmml"><mi id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.2" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.1" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.3" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.5" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.cmml"><mi id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.2" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.2.cmml">P</mi><mi id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.3" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.SS4.p1.2.m2.1.1.1.1.3" stretchy="false" xref="S4.SS4.p1.2.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.2.m2.1b"><apply id="S4.SS4.p1.2.m2.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1"><times id="S4.SS4.p1.2.m2.1.1.2.cmml" xref="S4.SS4.p1.2.m2.1.1.2"></times><ci id="S4.SS4.p1.2.m2.1.1.3.cmml" xref="S4.SS4.p1.2.m2.1.1.3">ℙ</ci><apply id="S4.SS4.p1.2.m2.1.1.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1"><csymbol cd="latexml" id="S4.SS4.p1.2.m2.1.1.1.1.1.4.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.4">conditional</csymbol><apply id="S4.SS4.p1.2.m2.1.1.1.1.1.5.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.1.1.1.1.1.5.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.5">subscript</csymbol><ci id="S4.SS4.p1.2.m2.1.1.1.1.1.5.2.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.5.2">𝐷</ci><ci id="S4.SS4.p1.2.m2.1.1.1.1.1.5.3.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.5.3">𝑡</ci></apply><list id="S4.SS4.p1.2.m2.1.1.1.1.1.3.4.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.3"><apply id="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.2">𝐷</ci><apply id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3"><minus id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S4.SS4.p1.2.m2.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><apply id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.1.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.2.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.2">𝑃</ci><ci id="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.3.cmml" xref="S4.SS4.p1.2.m2.1.1.1.1.1.3.3.3.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.2.m2.1c">\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.2.m2.1d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>. Here we emphasize the difference between these two distributions. The <math alttext="do(\cdot)" class="ltx_Math" display="inline" id="S4.SS4.p1.3.m3.1"><semantics id="S4.SS4.p1.3.m3.1a"><mrow id="S4.SS4.p1.3.m3.1.2" xref="S4.SS4.p1.3.m3.1.2.cmml"><mi id="S4.SS4.p1.3.m3.1.2.2" xref="S4.SS4.p1.3.m3.1.2.2.cmml">d</mi><mo id="S4.SS4.p1.3.m3.1.2.1" xref="S4.SS4.p1.3.m3.1.2.1.cmml">⁢</mo><mi id="S4.SS4.p1.3.m3.1.2.3" xref="S4.SS4.p1.3.m3.1.2.3.cmml">o</mi><mo id="S4.SS4.p1.3.m3.1.2.1a" xref="S4.SS4.p1.3.m3.1.2.1.cmml">⁢</mo><mrow id="S4.SS4.p1.3.m3.1.2.4.2" xref="S4.SS4.p1.3.m3.1.2.cmml"><mo id="S4.SS4.p1.3.m3.1.2.4.2.1" stretchy="false" xref="S4.SS4.p1.3.m3.1.2.cmml">(</mo><mo id="S4.SS4.p1.3.m3.1.1" lspace="0em" rspace="0em" xref="S4.SS4.p1.3.m3.1.1.cmml">⋅</mo><mo id="S4.SS4.p1.3.m3.1.2.4.2.2" stretchy="false" xref="S4.SS4.p1.3.m3.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.3.m3.1b"><apply id="S4.SS4.p1.3.m3.1.2.cmml" xref="S4.SS4.p1.3.m3.1.2"><times id="S4.SS4.p1.3.m3.1.2.1.cmml" xref="S4.SS4.p1.3.m3.1.2.1"></times><ci id="S4.SS4.p1.3.m3.1.2.2.cmml" xref="S4.SS4.p1.3.m3.1.2.2">𝑑</ci><ci id="S4.SS4.p1.3.m3.1.2.3.cmml" xref="S4.SS4.p1.3.m3.1.2.3">𝑜</ci><ci id="S4.SS4.p1.3.m3.1.1.cmml" xref="S4.SS4.p1.3.m3.1.1">⋅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.3.m3.1c">do(\cdot)</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.3.m3.1d">italic_d italic_o ( ⋅ )</annotation></semantics></math> notation in <math alttext="\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})" class="ltx_Math" display="inline" id="S4.SS4.p1.4.m4.2"><semantics id="S4.SS4.p1.4.m4.2a"><mrow id="S4.SS4.p1.4.m4.2.2" xref="S4.SS4.p1.4.m4.2.2.cmml"><mi id="S4.SS4.p1.4.m4.2.2.3" xref="S4.SS4.p1.4.m4.2.2.3.cmml">ℙ</mi><mo id="S4.SS4.p1.4.m4.2.2.2" xref="S4.SS4.p1.4.m4.2.2.2.cmml">⁢</mo><mrow id="S4.SS4.p1.4.m4.2.2.1.1" xref="S4.SS4.p1.4.m4.2.2.1.1.1.cmml"><mo id="S4.SS4.p1.4.m4.2.2.1.1.2" stretchy="false" xref="S4.SS4.p1.4.m4.2.2.1.1.1.cmml">(</mo><mrow id="S4.SS4.p1.4.m4.2.2.1.1.1" xref="S4.SS4.p1.4.m4.2.2.1.1.1.cmml"><msub id="S4.SS4.p1.4.m4.2.2.1.1.1.4" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.cmml"><mi id="S4.SS4.p1.4.m4.2.2.1.1.1.4.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.2.cmml">D</mi><mrow id="S4.SS4.p1.4.m4.2.2.1.1.1.4.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.cmml"><mi id="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.2.cmml">t</mi><mo id="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.1" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.1.cmml">−</mo><mn id="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.3.cmml">1</mn></mrow></msub><mo fence="false" id="S4.SS4.p1.4.m4.2.2.1.1.1.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.3.cmml">|</mo><mrow id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.3.cmml"><mrow id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.cmml"><mtext id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.4" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.4a.cmml">do</mtext><mo id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.3.cmml"><mo id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mrow id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.1" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.4" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S4.SS4.p1.4.m4.1.1" mathvariant="normal" xref="S4.SS4.p1.4.m4.1.1.cmml">…</mi><mo id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.5" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mn id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.6" stretchy="false" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.3.cmml">,</mo><msub id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.2" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.2.cmml">P</mi><mi id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.3" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.SS4.p1.4.m4.2.2.1.1.3" stretchy="false" xref="S4.SS4.p1.4.m4.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.4.m4.2b"><apply id="S4.SS4.p1.4.m4.2.2.cmml" xref="S4.SS4.p1.4.m4.2.2"><times id="S4.SS4.p1.4.m4.2.2.2.cmml" xref="S4.SS4.p1.4.m4.2.2.2"></times><ci id="S4.SS4.p1.4.m4.2.2.3.cmml" xref="S4.SS4.p1.4.m4.2.2.3">ℙ</ci><apply id="S4.SS4.p1.4.m4.2.2.1.1.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1"><csymbol cd="latexml" id="S4.SS4.p1.4.m4.2.2.1.1.1.3.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.3">conditional</csymbol><apply id="S4.SS4.p1.4.m4.2.2.1.1.1.4.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS4.p1.4.m4.2.2.1.1.1.4.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4">subscript</csymbol><ci id="S4.SS4.p1.4.m4.2.2.1.1.1.4.2.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.2">𝐷</ci><apply id="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.3"><minus id="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.1"></minus><ci id="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.2.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.2">𝑡</ci><cn id="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.3.cmml" type="integer" xref="S4.SS4.p1.4.m4.2.2.1.1.1.4.3.3">1</cn></apply></apply><list id="S4.SS4.p1.4.m4.2.2.1.1.1.2.3.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.2"><apply id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1"><times id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.3"></times><ci id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.4a.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.4"><mtext id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.4.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.4">do</mtext></ci><vector id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.3.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2"><apply id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.2">𝑆</ci><apply id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3"><minus id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.1"></minus><ci id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.2">𝑡</ci><cn id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS4.p1.4.m4.1.1.cmml" xref="S4.SS4.p1.4.m4.1.1">…</ci><apply id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.2">𝑆</ci><cn id="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.SS4.p1.4.m4.2.2.1.1.1.1.1.1.2.2.2.3">1</cn></apply></vector></apply><apply id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.2">𝑃</ci><ci id="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.3.cmml" xref="S4.SS4.p1.4.m4.2.2.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.4.m4.2c">\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.4.m4.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> refers to situations where the exposure is completely controlled by recommendation while <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.SS4.p1.5.m5.1"><semantics id="S4.SS4.p1.5.m5.1a"><msub id="S4.SS4.p1.5.m5.1.1" xref="S4.SS4.p1.5.m5.1.1.cmml"><mi id="S4.SS4.p1.5.m5.1.1.2" xref="S4.SS4.p1.5.m5.1.1.2.cmml">S</mi><mi id="S4.SS4.p1.5.m5.1.1.3" xref="S4.SS4.p1.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.5.m5.1b"><apply id="S4.SS4.p1.5.m5.1.1.cmml" xref="S4.SS4.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.5.m5.1.1.1.cmml" xref="S4.SS4.p1.5.m5.1.1">subscript</csymbol><ci id="S4.SS4.p1.5.m5.1.1.2.cmml" xref="S4.SS4.p1.5.m5.1.1.2">𝑆</ci><ci id="S4.SS4.p1.5.m5.1.1.3.cmml" xref="S4.SS4.p1.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.5.m5.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.5.m5.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> in observational distribution <math alttext="\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})" class="ltx_Math" display="inline" id="S4.SS4.p1.6.m6.1"><semantics id="S4.SS4.p1.6.m6.1a"><mrow id="S4.SS4.p1.6.m6.1.1" xref="S4.SS4.p1.6.m6.1.1.cmml"><mi id="S4.SS4.p1.6.m6.1.1.3" xref="S4.SS4.p1.6.m6.1.1.3.cmml">ℙ</mi><mo id="S4.SS4.p1.6.m6.1.1.2" xref="S4.SS4.p1.6.m6.1.1.2.cmml">⁢</mo><mrow id="S4.SS4.p1.6.m6.1.1.1.1" xref="S4.SS4.p1.6.m6.1.1.1.1.1.cmml"><mo id="S4.SS4.p1.6.m6.1.1.1.1.2" stretchy="false" xref="S4.SS4.p1.6.m6.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS4.p1.6.m6.1.1.1.1.1" xref="S4.SS4.p1.6.m6.1.1.1.1.1.cmml"><msub id="S4.SS4.p1.6.m6.1.1.1.1.1.5" xref="S4.SS4.p1.6.m6.1.1.1.1.1.5.cmml"><mi id="S4.SS4.p1.6.m6.1.1.1.1.1.5.2" xref="S4.SS4.p1.6.m6.1.1.1.1.1.5.2.cmml">D</mi><mi id="S4.SS4.p1.6.m6.1.1.1.1.1.5.3" xref="S4.SS4.p1.6.m6.1.1.1.1.1.5.3.cmml">t</mi></msub><mo fence="false" id="S4.SS4.p1.6.m6.1.1.1.1.1.4" xref="S4.SS4.p1.6.m6.1.1.1.1.1.4.cmml">|</mo><mrow id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.4.cmml"><msub id="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1" xref="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.2" xref="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.3" xref="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.4" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.2" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.2.cmml">D</mi><mrow id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.cmml"><mi id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.2" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.1" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.3" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.5" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.cmml"><mi id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.2" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.2.cmml">P</mi><mi id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.3" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.SS4.p1.6.m6.1.1.1.1.3" stretchy="false" xref="S4.SS4.p1.6.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.6.m6.1b"><apply id="S4.SS4.p1.6.m6.1.1.cmml" xref="S4.SS4.p1.6.m6.1.1"><times id="S4.SS4.p1.6.m6.1.1.2.cmml" xref="S4.SS4.p1.6.m6.1.1.2"></times><ci id="S4.SS4.p1.6.m6.1.1.3.cmml" xref="S4.SS4.p1.6.m6.1.1.3">ℙ</ci><apply id="S4.SS4.p1.6.m6.1.1.1.1.1.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1"><csymbol cd="latexml" id="S4.SS4.p1.6.m6.1.1.1.1.1.4.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.4">conditional</csymbol><apply id="S4.SS4.p1.6.m6.1.1.1.1.1.5.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S4.SS4.p1.6.m6.1.1.1.1.1.5.1.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.5">subscript</csymbol><ci id="S4.SS4.p1.6.m6.1.1.1.1.1.5.2.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.5.2">𝐷</ci><ci id="S4.SS4.p1.6.m6.1.1.1.1.1.5.3.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.5.3">𝑡</ci></apply><list id="S4.SS4.p1.6.m6.1.1.1.1.1.3.4.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.3"><apply id="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.2">𝐷</ci><apply id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3"><minus id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S4.SS4.p1.6.m6.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><apply id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.1.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.2.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.2">𝑃</ci><ci id="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.3.cmml" xref="S4.SS4.p1.6.m6.1.1.1.1.1.3.3.3.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.6.m6.1c">\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.6.m6.1d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>, where <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.SS4.p1.7.m7.1"><semantics id="S4.SS4.p1.7.m7.1a"><msub id="S4.SS4.p1.7.m7.1.1" xref="S4.SS4.p1.7.m7.1.1.cmml"><mi id="S4.SS4.p1.7.m7.1.1.2" xref="S4.SS4.p1.7.m7.1.1.2.cmml">S</mi><mi id="S4.SS4.p1.7.m7.1.1.3" xref="S4.SS4.p1.7.m7.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.7.m7.1b"><apply id="S4.SS4.p1.7.m7.1.1.cmml" xref="S4.SS4.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S4.SS4.p1.7.m7.1.1.1.cmml" xref="S4.SS4.p1.7.m7.1.1">subscript</csymbol><ci id="S4.SS4.p1.7.m7.1.1.2.cmml" xref="S4.SS4.p1.7.m7.1.1.2">𝑆</ci><ci id="S4.SS4.p1.7.m7.1.1.3.cmml" xref="S4.SS4.p1.7.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.7.m7.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.7.m7.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> represents to items exposed to users from a different source than a recommender system.</p>
</div>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.5">Hence, probability <math alttext="\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})" class="ltx_Math" display="inline" id="S4.SS4.p2.1.m1.1"><semantics id="S4.SS4.p2.1.m1.1a"><mrow id="S4.SS4.p2.1.m1.1.1" xref="S4.SS4.p2.1.m1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.3.cmml">ℙ</mi><mo id="S4.SS4.p2.1.m1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.2.cmml">⁢</mo><mrow id="S4.SS4.p2.1.m1.1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.1.1.cmml"><mo id="S4.SS4.p2.1.m1.1.1.1.1.2" stretchy="false" xref="S4.SS4.p2.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S4.SS4.p2.1.m1.1.1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.1.1.cmml"><msub id="S4.SS4.p2.1.m1.1.1.1.1.1.5" xref="S4.SS4.p2.1.m1.1.1.1.1.1.5.cmml"><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.5.2" xref="S4.SS4.p2.1.m1.1.1.1.1.1.5.2.cmml">D</mi><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.5.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.5.3.cmml">t</mi></msub><mo fence="false" id="S4.SS4.p2.1.m1.1.1.1.1.1.4" xref="S4.SS4.p2.1.m1.1.1.1.1.1.4.cmml">|</mo><mrow id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.4.cmml"><msub id="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1" xref="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.2" xref="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.4" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.2" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.2.cmml">D</mi><mrow id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.2" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.1" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.5" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.cmml"><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.2" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.2.cmml">P</mi><mi id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.3" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.SS4.p2.1.m1.1.1.1.1.3" stretchy="false" xref="S4.SS4.p2.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.1.m1.1b"><apply id="S4.SS4.p2.1.m1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1"><times id="S4.SS4.p2.1.m1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.2"></times><ci id="S4.SS4.p2.1.m1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.3">ℙ</ci><apply id="S4.SS4.p2.1.m1.1.1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1"><csymbol cd="latexml" id="S4.SS4.p2.1.m1.1.1.1.1.1.4.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.4">conditional</csymbol><apply id="S4.SS4.p2.1.m1.1.1.1.1.1.5.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.1.1.5.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.5">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.5.2.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.5.2">𝐷</ci><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.5.3.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.5.3">𝑡</ci></apply><list id="S4.SS4.p2.1.m1.1.1.1.1.1.3.4.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3"><apply id="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.2">𝐷</ci><apply id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3"><minus id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S4.SS4.p2.1.m1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><apply id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.1.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.2.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.2">𝑃</ci><ci id="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.3.cmml" xref="S4.SS4.p2.1.m1.1.1.1.1.1.3.3.3.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.1.m1.1c">\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.1.m1.1d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> can be understood as users’ natural decision behavior <math alttext="D_{t}" class="ltx_Math" display="inline" id="S4.SS4.p2.2.m2.1"><semantics id="S4.SS4.p2.2.m2.1a"><msub id="S4.SS4.p2.2.m2.1.1" xref="S4.SS4.p2.2.m2.1.1.cmml"><mi id="S4.SS4.p2.2.m2.1.1.2" xref="S4.SS4.p2.2.m2.1.1.2.cmml">D</mi><mi id="S4.SS4.p2.2.m2.1.1.3" xref="S4.SS4.p2.2.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.2.m2.1b"><apply id="S4.SS4.p2.2.m2.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.2.m2.1.1.1.cmml" xref="S4.SS4.p2.2.m2.1.1">subscript</csymbol><ci id="S4.SS4.p2.2.m2.1.1.2.cmml" xref="S4.SS4.p2.2.m2.1.1.2">𝐷</ci><ci id="S4.SS4.p2.2.m2.1.1.3.cmml" xref="S4.SS4.p2.2.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.2.m2.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.2.m2.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> towards items <math alttext="S_{t}" class="ltx_Math" display="inline" id="S4.SS4.p2.3.m3.1"><semantics id="S4.SS4.p2.3.m3.1a"><msub id="S4.SS4.p2.3.m3.1.1" xref="S4.SS4.p2.3.m3.1.1.cmml"><mi id="S4.SS4.p2.3.m3.1.1.2" xref="S4.SS4.p2.3.m3.1.1.2.cmml">S</mi><mi id="S4.SS4.p2.3.m3.1.1.3" xref="S4.SS4.p2.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.3.m3.1b"><apply id="S4.SS4.p2.3.m3.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.3.m3.1.1.1.cmml" xref="S4.SS4.p2.3.m3.1.1">subscript</csymbol><ci id="S4.SS4.p2.3.m3.1.1.2.cmml" xref="S4.SS4.p2.3.m3.1.1.2">𝑆</ci><ci id="S4.SS4.p2.3.m3.1.1.3.cmml" xref="S4.SS4.p2.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.3.m3.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.3.m3.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> based on their previous decision <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="S4.SS4.p2.4.m4.1"><semantics id="S4.SS4.p2.4.m4.1a"><msub id="S4.SS4.p2.4.m4.1.1" xref="S4.SS4.p2.4.m4.1.1.cmml"><mi id="S4.SS4.p2.4.m4.1.1.2" xref="S4.SS4.p2.4.m4.1.1.2.cmml">D</mi><mrow id="S4.SS4.p2.4.m4.1.1.3" xref="S4.SS4.p2.4.m4.1.1.3.cmml"><mi id="S4.SS4.p2.4.m4.1.1.3.2" xref="S4.SS4.p2.4.m4.1.1.3.2.cmml">t</mi><mo id="S4.SS4.p2.4.m4.1.1.3.1" xref="S4.SS4.p2.4.m4.1.1.3.1.cmml">−</mo><mn id="S4.SS4.p2.4.m4.1.1.3.3" xref="S4.SS4.p2.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.4.m4.1b"><apply id="S4.SS4.p2.4.m4.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.4.m4.1.1.1.cmml" xref="S4.SS4.p2.4.m4.1.1">subscript</csymbol><ci id="S4.SS4.p2.4.m4.1.1.2.cmml" xref="S4.SS4.p2.4.m4.1.1.2">𝐷</ci><apply id="S4.SS4.p2.4.m4.1.1.3.cmml" xref="S4.SS4.p2.4.m4.1.1.3"><minus id="S4.SS4.p2.4.m4.1.1.3.1.cmml" xref="S4.SS4.p2.4.m4.1.1.3.1"></minus><ci id="S4.SS4.p2.4.m4.1.1.3.2.cmml" xref="S4.SS4.p2.4.m4.1.1.3.2">𝑡</ci><cn id="S4.SS4.p2.4.m4.1.1.3.3.cmml" type="integer" xref="S4.SS4.p2.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.4.m4.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.4.m4.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math> and temporal preference <math alttext="P_{t}" class="ltx_Math" display="inline" id="S4.SS4.p2.5.m5.1"><semantics id="S4.SS4.p2.5.m5.1a"><msub id="S4.SS4.p2.5.m5.1.1" xref="S4.SS4.p2.5.m5.1.1.cmml"><mi id="S4.SS4.p2.5.m5.1.1.2" xref="S4.SS4.p2.5.m5.1.1.2.cmml">P</mi><mi id="S4.SS4.p2.5.m5.1.1.3" xref="S4.SS4.p2.5.m5.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S4.SS4.p2.5.m5.1b"><apply id="S4.SS4.p2.5.m5.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S4.SS4.p2.5.m5.1.1.1.cmml" xref="S4.SS4.p2.5.m5.1.1">subscript</csymbol><ci id="S4.SS4.p2.5.m5.1.1.2.cmml" xref="S4.SS4.p2.5.m5.1.1.2">𝑃</ci><ci id="S4.SS4.p2.5.m5.1.1.3.cmml" xref="S4.SS4.p2.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p2.5.m5.1c">P_{t}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p2.5.m5.1d">italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math>. This is a natural goal for a traditional neural network based recommendation system such as SASRec <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib14" title="">2018a</a>)</cite> or BSARec <cite class="ltx_cite ltx_citemacro_citep">(Shin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib28" title="">2024a</a>)</cite>. Therefore, we estimate this quantity using an neural network recommender system trained on observational dataset.</p>
</div>
<div class="ltx_para" id="S4.SS4.p3">
<p class="ltx_p" id="S4.SS4.p3.1">Putting everything together, we build a recommender system that models users’ decisions under the intervention of recommendations, parameterized as <math alttext="f_{t}(\theta):=\mathbb{P}(D_{t}|\text{do}(S_{t},...,S_{1}),P_{t})" class="ltx_Math" display="inline" id="S4.SS4.p3.1.m1.3"><semantics id="S4.SS4.p3.1.m1.3a"><mrow id="S4.SS4.p3.1.m1.3.3" xref="S4.SS4.p3.1.m1.3.3.cmml"><mrow id="S4.SS4.p3.1.m1.3.3.3" xref="S4.SS4.p3.1.m1.3.3.3.cmml"><msub id="S4.SS4.p3.1.m1.3.3.3.2" xref="S4.SS4.p3.1.m1.3.3.3.2.cmml"><mi id="S4.SS4.p3.1.m1.3.3.3.2.2" xref="S4.SS4.p3.1.m1.3.3.3.2.2.cmml">f</mi><mi id="S4.SS4.p3.1.m1.3.3.3.2.3" xref="S4.SS4.p3.1.m1.3.3.3.2.3.cmml">t</mi></msub><mo id="S4.SS4.p3.1.m1.3.3.3.1" xref="S4.SS4.p3.1.m1.3.3.3.1.cmml">⁢</mo><mrow id="S4.SS4.p3.1.m1.3.3.3.3.2" xref="S4.SS4.p3.1.m1.3.3.3.cmml"><mo id="S4.SS4.p3.1.m1.3.3.3.3.2.1" stretchy="false" xref="S4.SS4.p3.1.m1.3.3.3.cmml">(</mo><mi id="S4.SS4.p3.1.m1.1.1" xref="S4.SS4.p3.1.m1.1.1.cmml">θ</mi><mo id="S4.SS4.p3.1.m1.3.3.3.3.2.2" rspace="0.278em" stretchy="false" xref="S4.SS4.p3.1.m1.3.3.3.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p3.1.m1.3.3.2" rspace="0.278em" xref="S4.SS4.p3.1.m1.3.3.2.cmml">:=</mo><mrow id="S4.SS4.p3.1.m1.3.3.1" xref="S4.SS4.p3.1.m1.3.3.1.cmml"><mi id="S4.SS4.p3.1.m1.3.3.1.3" xref="S4.SS4.p3.1.m1.3.3.1.3.cmml">ℙ</mi><mo id="S4.SS4.p3.1.m1.3.3.1.2" xref="S4.SS4.p3.1.m1.3.3.1.2.cmml">⁢</mo><mrow id="S4.SS4.p3.1.m1.3.3.1.1.1" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.cmml"><mo id="S4.SS4.p3.1.m1.3.3.1.1.1.2" stretchy="false" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.cmml">(</mo><mrow id="S4.SS4.p3.1.m1.3.3.1.1.1.1" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.cmml"><msub id="S4.SS4.p3.1.m1.3.3.1.1.1.1.4" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.cmml"><mi id="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.2" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.2.cmml">D</mi><mi id="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.3" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.3.cmml">t</mi></msub><mo fence="false" id="S4.SS4.p3.1.m1.3.3.1.1.1.1.3" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.3.cmml">|</mo><mrow id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.3.cmml"><mrow id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.cmml"><mtext id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.4" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.4a.cmml">do</mtext><mo id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.3" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml"><mo id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.4" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S4.SS4.p3.1.m1.2.2" mathvariant="normal" xref="S4.SS4.p3.1.m1.2.2.cmml">…</mi><mo id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.5" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.2" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mn id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.6" stretchy="false" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.3" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.3.cmml">,</mo><msub id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.2" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.2.cmml">P</mi><mi id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.3" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.SS4.p3.1.m1.3.3.1.1.1.3" stretchy="false" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.1.m1.3b"><apply id="S4.SS4.p3.1.m1.3.3.cmml" xref="S4.SS4.p3.1.m1.3.3"><csymbol cd="latexml" id="S4.SS4.p3.1.m1.3.3.2.cmml" xref="S4.SS4.p3.1.m1.3.3.2">assign</csymbol><apply id="S4.SS4.p3.1.m1.3.3.3.cmml" xref="S4.SS4.p3.1.m1.3.3.3"><times id="S4.SS4.p3.1.m1.3.3.3.1.cmml" xref="S4.SS4.p3.1.m1.3.3.3.1"></times><apply id="S4.SS4.p3.1.m1.3.3.3.2.cmml" xref="S4.SS4.p3.1.m1.3.3.3.2"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.3.3.3.2.1.cmml" xref="S4.SS4.p3.1.m1.3.3.3.2">subscript</csymbol><ci id="S4.SS4.p3.1.m1.3.3.3.2.2.cmml" xref="S4.SS4.p3.1.m1.3.3.3.2.2">𝑓</ci><ci id="S4.SS4.p3.1.m1.3.3.3.2.3.cmml" xref="S4.SS4.p3.1.m1.3.3.3.2.3">𝑡</ci></apply><ci id="S4.SS4.p3.1.m1.1.1.cmml" xref="S4.SS4.p3.1.m1.1.1">𝜃</ci></apply><apply id="S4.SS4.p3.1.m1.3.3.1.cmml" xref="S4.SS4.p3.1.m1.3.3.1"><times id="S4.SS4.p3.1.m1.3.3.1.2.cmml" xref="S4.SS4.p3.1.m1.3.3.1.2"></times><ci id="S4.SS4.p3.1.m1.3.3.1.3.cmml" xref="S4.SS4.p3.1.m1.3.3.1.3">ℙ</ci><apply id="S4.SS4.p3.1.m1.3.3.1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1"><csymbol cd="latexml" id="S4.SS4.p3.1.m1.3.3.1.1.1.1.3.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.3">conditional</csymbol><apply id="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.1.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.4">subscript</csymbol><ci id="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.2.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.2">𝐷</ci><ci id="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.3.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.4.3">𝑡</ci></apply><list id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.3.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2"><apply id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1"><times id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.3"></times><ci id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.4a.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.4"><mtext id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.4.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.4">do</mtext></ci><vector id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2"><apply id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S4.SS4.p3.1.m1.2.2.cmml" xref="S4.SS4.p3.1.m1.2.2">…</ci><apply id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.2">𝑆</ci><cn id="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.1.1.1.2.2.2.3">1</cn></apply></vector></apply><apply id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.2">𝑃</ci><ci id="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.3.cmml" xref="S4.SS4.p3.1.m1.3.3.1.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.1.m1.3c">f_{t}(\theta):=\mathbb{P}(D_{t}|\text{do}(S_{t},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.1.m1.3d">italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_θ ) := blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>. Consequently, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.E6" title="In 4.3. Maximizing Users’ Positive Decisions. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">6</span></a> can be written as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(7)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="f_{t}=\sum_{D_{t-1}}\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})f_{t-1}." class="ltx_Math" display="block" id="S4.E7.m1.1"><semantics id="S4.E7.m1.1a"><mrow id="S4.E7.m1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><mrow id="S4.E7.m1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.cmml"><msub id="S4.E7.m1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.3.cmml"><mi id="S4.E7.m1.1.1.1.1.3.2" xref="S4.E7.m1.1.1.1.1.3.2.cmml">f</mi><mi id="S4.E7.m1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.3.3.cmml">t</mi></msub><mo id="S4.E7.m1.1.1.1.1.2" rspace="0.111em" xref="S4.E7.m1.1.1.1.1.2.cmml">=</mo><mrow id="S4.E7.m1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.cmml"><munder id="S4.E7.m1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.2.cmml"><mo id="S4.E7.m1.1.1.1.1.1.2.2" movablelimits="false" xref="S4.E7.m1.1.1.1.1.1.2.2.cmml">∑</mo><msub id="S4.E7.m1.1.1.1.1.1.2.3" xref="S4.E7.m1.1.1.1.1.1.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.2.3.2" xref="S4.E7.m1.1.1.1.1.1.2.3.2.cmml">D</mi><mrow id="S4.E7.m1.1.1.1.1.1.2.3.3" xref="S4.E7.m1.1.1.1.1.1.2.3.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.2.3.3.2" xref="S4.E7.m1.1.1.1.1.1.2.3.3.2.cmml">t</mi><mo id="S4.E7.m1.1.1.1.1.1.2.3.3.1" xref="S4.E7.m1.1.1.1.1.1.2.3.3.1.cmml">−</mo><mn id="S4.E7.m1.1.1.1.1.1.2.3.3.3" xref="S4.E7.m1.1.1.1.1.1.2.3.3.3.cmml">1</mn></mrow></msub></munder><mrow id="S4.E7.m1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.3.cmml">ℙ</mi><mo id="S4.E7.m1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml"><msub id="S4.E7.m1.1.1.1.1.1.1.1.1.1.5" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.2.cmml">D</mi><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.3.cmml">t</mi></msub><mo fence="false" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.4" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.4.cmml">|</mo><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.4.cmml"><msub id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.4" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">D</mi><mrow id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.5" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.2" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">P</mi><mi id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.3" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.E7.m1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo id="S4.E7.m1.1.1.1.1.1.1.2a" xref="S4.E7.m1.1.1.1.1.1.1.2.cmml">⁢</mo><msub id="S4.E7.m1.1.1.1.1.1.1.4" xref="S4.E7.m1.1.1.1.1.1.1.4.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.4.2" xref="S4.E7.m1.1.1.1.1.1.1.4.2.cmml">f</mi><mrow id="S4.E7.m1.1.1.1.1.1.1.4.3" xref="S4.E7.m1.1.1.1.1.1.1.4.3.cmml"><mi id="S4.E7.m1.1.1.1.1.1.1.4.3.2" xref="S4.E7.m1.1.1.1.1.1.1.4.3.2.cmml">t</mi><mo id="S4.E7.m1.1.1.1.1.1.1.4.3.1" xref="S4.E7.m1.1.1.1.1.1.1.4.3.1.cmml">−</mo><mn id="S4.E7.m1.1.1.1.1.1.1.4.3.3" xref="S4.E7.m1.1.1.1.1.1.1.4.3.3.cmml">1</mn></mrow></msub></mrow></mrow></mrow><mo id="S4.E7.m1.1.1.1.2" lspace="0em" xref="S4.E7.m1.1.1.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.E7.m1.1b"><apply id="S4.E7.m1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1"><eq id="S4.E7.m1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.2"></eq><apply id="S4.E7.m1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.3.1.cmml" xref="S4.E7.m1.1.1.1.1.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.3.2.cmml" xref="S4.E7.m1.1.1.1.1.3.2">𝑓</ci><ci id="S4.E7.m1.1.1.1.1.3.3.cmml" xref="S4.E7.m1.1.1.1.1.3.3">𝑡</ci></apply><apply id="S4.E7.m1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1"><apply id="S4.E7.m1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.2">subscript</csymbol><sum id="S4.E7.m1.1.1.1.1.1.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.2.2"></sum><apply id="S4.E7.m1.1.1.1.1.1.2.3.cmml" xref="S4.E7.m1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.2.3.2">𝐷</ci><apply id="S4.E7.m1.1.1.1.1.1.2.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.2.3.3"><minus id="S4.E7.m1.1.1.1.1.1.2.3.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.2.3.3.1"></minus><ci id="S4.E7.m1.1.1.1.1.1.2.3.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.2.3.3.2">𝑡</ci><cn id="S4.E7.m1.1.1.1.1.1.2.3.3.3.cmml" type="integer" xref="S4.E7.m1.1.1.1.1.1.2.3.3.3">1</cn></apply></apply></apply><apply id="S4.E7.m1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1"><times id="S4.E7.m1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.2"></times><ci id="S4.E7.m1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.3">ℙ</ci><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1"><csymbol cd="latexml" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.4">conditional</csymbol><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.5">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.2">𝐷</ci><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.5.3">𝑡</ci></apply><list id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3"><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.2">𝐷</ci><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3"><minus id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><apply id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.2">𝑃</ci><ci id="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.1.1.1.3.3.3.3">𝑡</ci></apply></list></apply><apply id="S4.E7.m1.1.1.1.1.1.1.4.cmml" xref="S4.E7.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S4.E7.m1.1.1.1.1.1.1.4.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S4.E7.m1.1.1.1.1.1.1.4.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.4.2">𝑓</ci><apply id="S4.E7.m1.1.1.1.1.1.1.4.3.cmml" xref="S4.E7.m1.1.1.1.1.1.1.4.3"><minus id="S4.E7.m1.1.1.1.1.1.1.4.3.1.cmml" xref="S4.E7.m1.1.1.1.1.1.1.4.3.1"></minus><ci id="S4.E7.m1.1.1.1.1.1.1.4.3.2.cmml" xref="S4.E7.m1.1.1.1.1.1.1.4.3.2">𝑡</ci><cn id="S4.E7.m1.1.1.1.1.1.1.4.3.3.cmml" type="integer" xref="S4.E7.m1.1.1.1.1.1.1.4.3.3">1</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E7.m1.1c">f_{t}=\sum_{D_{t-1}}\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})f_{t-1}.</annotation><annotation encoding="application/x-llamapun" id="S4.E7.m1.1d">italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) italic_f start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS4.p3.2">We adapt a sequential recommender system trained on historical data, and parameterize it as <math alttext="\tilde{f}" class="ltx_Math" display="inline" id="S4.SS4.p3.2.m1.1"><semantics id="S4.SS4.p3.2.m1.1a"><mover accent="true" id="S4.SS4.p3.2.m1.1.1" xref="S4.SS4.p3.2.m1.1.1.cmml"><mi id="S4.SS4.p3.2.m1.1.1.2" xref="S4.SS4.p3.2.m1.1.1.2.cmml">f</mi><mo id="S4.SS4.p3.2.m1.1.1.1" xref="S4.SS4.p3.2.m1.1.1.1.cmml">~</mo></mover><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.2.m1.1b"><apply id="S4.SS4.p3.2.m1.1.1.cmml" xref="S4.SS4.p3.2.m1.1.1"><ci id="S4.SS4.p3.2.m1.1.1.1.cmml" xref="S4.SS4.p3.2.m1.1.1.1">~</ci><ci id="S4.SS4.p3.2.m1.1.1.2.cmml" xref="S4.SS4.p3.2.m1.1.1.2">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.2.m1.1c">\tilde{f}</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.2.m1.1d">over~ start_ARG italic_f end_ARG</annotation></semantics></math>:</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(8)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{P}(\cdot|S_{t},D_{t-1},P_{t})=\tilde{f}(D_{t-1},...,D;\eta)." class="ltx_math_unparsed" display="block" id="S4.E8.m1.1"><semantics id="S4.E8.m1.1a"><mrow id="S4.E8.m1.1b"><mi id="S4.E8.m1.1.1">ℙ</mi><mrow id="S4.E8.m1.1.2"><mo id="S4.E8.m1.1.2.1" stretchy="false">(</mo><mo id="S4.E8.m1.1.2.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S4.E8.m1.1.2.3" rspace="0.167em" stretchy="false">|</mo><msub id="S4.E8.m1.1.2.4"><mi id="S4.E8.m1.1.2.4.2">S</mi><mi id="S4.E8.m1.1.2.4.3">t</mi></msub><mo id="S4.E8.m1.1.2.5">,</mo><msub id="S4.E8.m1.1.2.6"><mi id="S4.E8.m1.1.2.6.2">D</mi><mrow id="S4.E8.m1.1.2.6.3"><mi id="S4.E8.m1.1.2.6.3.2">t</mi><mo id="S4.E8.m1.1.2.6.3.1">−</mo><mn id="S4.E8.m1.1.2.6.3.3">1</mn></mrow></msub><mo id="S4.E8.m1.1.2.7">,</mo><msub id="S4.E8.m1.1.2.8"><mi id="S4.E8.m1.1.2.8.2">P</mi><mi id="S4.E8.m1.1.2.8.3">t</mi></msub><mo id="S4.E8.m1.1.2.9" stretchy="false">)</mo></mrow><mo id="S4.E8.m1.1.3">=</mo><mover accent="true" id="S4.E8.m1.1.4"><mi id="S4.E8.m1.1.4.2">f</mi><mo id="S4.E8.m1.1.4.1">~</mo></mover><mrow id="S4.E8.m1.1.5"><mo id="S4.E8.m1.1.5.1" stretchy="false">(</mo><msub id="S4.E8.m1.1.5.2"><mi id="S4.E8.m1.1.5.2.2">D</mi><mrow id="S4.E8.m1.1.5.2.3"><mi id="S4.E8.m1.1.5.2.3.2">t</mi><mo id="S4.E8.m1.1.5.2.3.1">−</mo><mn id="S4.E8.m1.1.5.2.3.3">1</mn></mrow></msub><mo id="S4.E8.m1.1.5.3">,</mo><mi id="S4.E8.m1.1.5.4" mathvariant="normal">…</mi><mo id="S4.E8.m1.1.5.5">,</mo><mi id="S4.E8.m1.1.5.6">D</mi><mo id="S4.E8.m1.1.5.7">;</mo><mi id="S4.E8.m1.1.5.8">η</mi><mo id="S4.E8.m1.1.5.9" stretchy="false">)</mo></mrow><mo id="S4.E8.m1.1.6" lspace="0em">.</mo></mrow><annotation encoding="application/x-tex" id="S4.E8.m1.1c">\mathbb{P}(\cdot|S_{t},D_{t-1},P_{t})=\tilde{f}(D_{t-1},...,D;\eta).</annotation><annotation encoding="application/x-llamapun" id="S4.E8.m1.1d">blackboard_P ( ⋅ | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = over~ start_ARG italic_f end_ARG ( italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_D ; italic_η ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS4.p3.6">With the general objective function of existing sequential recommender systems, we trained our model using the following objective
</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(9)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{t}=-(D_{t}\log f_{t}(\theta)+(1-D_{t})\log(1-f_{t}(\theta))),%
\quad\\
\text{s.t. }f_{t}(\theta)=\sum_{D_{t-1}}f_{t-1}(\theta)\tilde{f}(\eta)." class="ltx_Math" display="block" id="S4.E9.m1.54"><semantics id="S4.E9.m1.54a"><mtable displaystyle="true" id="S4.E9.m1.54.54.3" rowspacing="0pt"><mtr id="S4.E9.m1.54.54.3a"><mtd class="ltx_align_left" columnalign="left" id="S4.E9.m1.54.54.3b"><mrow id="S4.E9.m1.53.53.2.52.33.33.33"><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1"><msub id="S4.E9.m1.53.53.2.52.33.33.33.1.2"><mi class="ltx_font_mathcaligraphic" id="S4.E9.m1.1.1.1.1.1.1" xref="S4.E9.m1.1.1.1.1.1.1.cmml">ℒ</mi><mi id="S4.E9.m1.2.2.2.2.2.2.1" xref="S4.E9.m1.2.2.2.2.2.2.1.cmml">t</mi></msub><mo id="S4.E9.m1.3.3.3.3.3.3" xref="S4.E9.m1.3.3.3.3.3.3.cmml">=</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1"><mo id="S4.E9.m1.53.53.2.52.33.33.33.1.1a">−</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1"><mo id="S4.E9.m1.5.5.5.5.5.5" stretchy="false">(</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1"><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.3"><msub id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.3.2"><mi id="S4.E9.m1.6.6.6.6.6.6" xref="S4.E9.m1.6.6.6.6.6.6.cmml">D</mi><mi id="S4.E9.m1.7.7.7.7.7.7.1" xref="S4.E9.m1.7.7.7.7.7.7.1.cmml">t</mi></msub><mo id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.3.1" lspace="0.167em">⁢</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.3.3"><mi id="S4.E9.m1.8.8.8.8.8.8" xref="S4.E9.m1.8.8.8.8.8.8.cmml">log</mi><mo id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.3.3a" lspace="0.167em">⁡</mo><msub id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.3.3.1"><mi id="S4.E9.m1.9.9.9.9.9.9" xref="S4.E9.m1.9.9.9.9.9.9.cmml">f</mi><mi id="S4.E9.m1.10.10.10.10.10.10.1" xref="S4.E9.m1.10.10.10.10.10.10.1.cmml">t</mi></msub></mrow><mo id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.3.1a">⁢</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.3.4"><mo id="S4.E9.m1.11.11.11.11.11.11" stretchy="false">(</mo><mi id="S4.E9.m1.12.12.12.12.12.12" xref="S4.E9.m1.12.12.12.12.12.12.cmml">θ</mi><mo id="S4.E9.m1.13.13.13.13.13.13" stretchy="false">)</mo></mrow></mrow><mo id="S4.E9.m1.14.14.14.14.14.14" xref="S4.E9.m1.14.14.14.14.14.14.cmml">+</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2"><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.1.1.1"><mo id="S4.E9.m1.15.15.15.15.15.15" stretchy="false">(</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.1.1.1.1"><mn id="S4.E9.m1.16.16.16.16.16.16" xref="S4.E9.m1.16.16.16.16.16.16.cmml">1</mn><mo id="S4.E9.m1.17.17.17.17.17.17" xref="S4.E9.m1.17.17.17.17.17.17.cmml">−</mo><msub id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.1.1.1.1.1"><mi id="S4.E9.m1.18.18.18.18.18.18" xref="S4.E9.m1.18.18.18.18.18.18.cmml">D</mi><mi id="S4.E9.m1.19.19.19.19.19.19.1" xref="S4.E9.m1.19.19.19.19.19.19.1.cmml">t</mi></msub></mrow><mo id="S4.E9.m1.20.20.20.20.20.20" stretchy="false">)</mo></mrow><mo id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.3" lspace="0.167em">⁢</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.2.1"><mi id="S4.E9.m1.21.21.21.21.21.21" xref="S4.E9.m1.21.21.21.21.21.21.cmml">log</mi><mo id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.2.1a">⁡</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.2.1.1"><mo id="S4.E9.m1.22.22.22.22.22.22" stretchy="false">(</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.2.1.1.1"><mn id="S4.E9.m1.23.23.23.23.23.23" xref="S4.E9.m1.23.23.23.23.23.23.cmml">1</mn><mo id="S4.E9.m1.24.24.24.24.24.24" xref="S4.E9.m1.24.24.24.24.24.24.cmml">−</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.2.1.1.1.1"><msub id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.2.1.1.1.1.2"><mi id="S4.E9.m1.25.25.25.25.25.25" xref="S4.E9.m1.25.25.25.25.25.25.cmml">f</mi><mi id="S4.E9.m1.26.26.26.26.26.26.1" xref="S4.E9.m1.26.26.26.26.26.26.1.cmml">t</mi></msub><mo id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.2.1.1.1.1.1">⁢</mo><mrow id="S4.E9.m1.53.53.2.52.33.33.33.1.1.1.1.1.2.2.1.1.1.1.3"><mo id="S4.E9.m1.27.27.27.27.27.27" stretchy="false">(</mo><mi id="S4.E9.m1.28.28.28.28.28.28" xref="S4.E9.m1.28.28.28.28.28.28.cmml">θ</mi><mo id="S4.E9.m1.29.29.29.29.29.29" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E9.m1.30.30.30.30.30.30" stretchy="false">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E9.m1.31.31.31.31.31.31" stretchy="false">)</mo></mrow></mrow></mrow><mo id="S4.E9.m1.32.32.32.32.32.32">,</mo></mrow></mtd></mtr><mtr id="S4.E9.m1.54.54.3c"><mtd class="ltx_align_right" columnalign="right" id="S4.E9.m1.54.54.3d"><mrow id="S4.E9.m1.54.54.3.53.20.20.20"><mrow id="S4.E9.m1.54.54.3.53.20.20.20.1"><mrow id="S4.E9.m1.54.54.3.53.20.20.20.1.1"><mtext id="S4.E9.m1.33.33.33.1.1.1" xref="S4.E9.m1.33.33.33.1.1.1a.cmml">s.t. </mtext><mo id="S4.E9.m1.54.54.3.53.20.20.20.1.1.1">⁢</mo><msub id="S4.E9.m1.54.54.3.53.20.20.20.1.1.2"><mi id="S4.E9.m1.34.34.34.2.2.2" xref="S4.E9.m1.34.34.34.2.2.2.cmml">f</mi><mi id="S4.E9.m1.35.35.35.3.3.3.1" xref="S4.E9.m1.35.35.35.3.3.3.1.cmml">t</mi></msub><mo id="S4.E9.m1.54.54.3.53.20.20.20.1.1.1a">⁢</mo><mrow id="S4.E9.m1.54.54.3.53.20.20.20.1.1.3"><mo id="S4.E9.m1.36.36.36.4.4.4" stretchy="false">(</mo><mi id="S4.E9.m1.37.37.37.5.5.5" xref="S4.E9.m1.37.37.37.5.5.5.cmml">θ</mi><mo id="S4.E9.m1.38.38.38.6.6.6" stretchy="false">)</mo></mrow></mrow><mo id="S4.E9.m1.39.39.39.7.7.7" rspace="0.111em" xref="S4.E9.m1.39.39.39.7.7.7.cmml">=</mo><mrow id="S4.E9.m1.54.54.3.53.20.20.20.1.2"><munder id="S4.E9.m1.54.54.3.53.20.20.20.1.2.1"><mo id="S4.E9.m1.40.40.40.8.8.8" movablelimits="false" xref="S4.E9.m1.40.40.40.8.8.8.cmml">∑</mo><msub id="S4.E9.m1.41.41.41.9.9.9.1" xref="S4.E9.m1.41.41.41.9.9.9.1.cmml"><mi id="S4.E9.m1.41.41.41.9.9.9.1.2" xref="S4.E9.m1.41.41.41.9.9.9.1.2.cmml">D</mi><mrow id="S4.E9.m1.41.41.41.9.9.9.1.3" xref="S4.E9.m1.41.41.41.9.9.9.1.3.cmml"><mi id="S4.E9.m1.41.41.41.9.9.9.1.3.2" xref="S4.E9.m1.41.41.41.9.9.9.1.3.2.cmml">t</mi><mo id="S4.E9.m1.41.41.41.9.9.9.1.3.1" xref="S4.E9.m1.41.41.41.9.9.9.1.3.1.cmml">−</mo><mn id="S4.E9.m1.41.41.41.9.9.9.1.3.3" xref="S4.E9.m1.41.41.41.9.9.9.1.3.3.cmml">1</mn></mrow></msub></munder><mrow id="S4.E9.m1.54.54.3.53.20.20.20.1.2.2"><msub id="S4.E9.m1.54.54.3.53.20.20.20.1.2.2.2"><mi id="S4.E9.m1.42.42.42.10.10.10" xref="S4.E9.m1.42.42.42.10.10.10.cmml">f</mi><mrow id="S4.E9.m1.43.43.43.11.11.11.1" xref="S4.E9.m1.43.43.43.11.11.11.1.cmml"><mi id="S4.E9.m1.43.43.43.11.11.11.1.2" xref="S4.E9.m1.43.43.43.11.11.11.1.2.cmml">t</mi><mo id="S4.E9.m1.43.43.43.11.11.11.1.1" xref="S4.E9.m1.43.43.43.11.11.11.1.1.cmml">−</mo><mn id="S4.E9.m1.43.43.43.11.11.11.1.3" xref="S4.E9.m1.43.43.43.11.11.11.1.3.cmml">1</mn></mrow></msub><mo id="S4.E9.m1.54.54.3.53.20.20.20.1.2.2.1">⁢</mo><mrow id="S4.E9.m1.54.54.3.53.20.20.20.1.2.2.3"><mo id="S4.E9.m1.44.44.44.12.12.12" stretchy="false">(</mo><mi id="S4.E9.m1.45.45.45.13.13.13" xref="S4.E9.m1.45.45.45.13.13.13.cmml">θ</mi><mo id="S4.E9.m1.46.46.46.14.14.14" stretchy="false">)</mo></mrow><mo id="S4.E9.m1.54.54.3.53.20.20.20.1.2.2.1a">⁢</mo><mover accent="true" id="S4.E9.m1.47.47.47.15.15.15" xref="S4.E9.m1.47.47.47.15.15.15.cmml"><mi id="S4.E9.m1.47.47.47.15.15.15.2" xref="S4.E9.m1.47.47.47.15.15.15.2.cmml">f</mi><mo id="S4.E9.m1.47.47.47.15.15.15.1" xref="S4.E9.m1.47.47.47.15.15.15.1.cmml">~</mo></mover><mo id="S4.E9.m1.54.54.3.53.20.20.20.1.2.2.1b">⁢</mo><mrow id="S4.E9.m1.54.54.3.53.20.20.20.1.2.2.4"><mo id="S4.E9.m1.48.48.48.16.16.16" stretchy="false">(</mo><mi id="S4.E9.m1.49.49.49.17.17.17" xref="S4.E9.m1.49.49.49.17.17.17.cmml">η</mi><mo id="S4.E9.m1.50.50.50.18.18.18" stretchy="false">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E9.m1.51.51.51.19.19.19" lspace="0em">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E9.m1.54b"><apply id="S4.E9.m1.52.52.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.3a.cmml">formulae-sequence</csymbol><apply id="S4.E9.m1.52.52.1.1.1.1.1.cmml"><eq id="S4.E9.m1.3.3.3.3.3.3.cmml" xref="S4.E9.m1.3.3.3.3.3.3"></eq><apply id="S4.E9.m1.52.52.1.1.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.1.1.3.1.cmml">subscript</csymbol><ci id="S4.E9.m1.1.1.1.1.1.1.cmml" xref="S4.E9.m1.1.1.1.1.1.1">ℒ</ci><ci id="S4.E9.m1.2.2.2.2.2.2.1.cmml" xref="S4.E9.m1.2.2.2.2.2.2.1">𝑡</ci></apply><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.cmml"><minus id="S4.E9.m1.4.4.4.4.4.4.cmml"></minus><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.cmml"><plus id="S4.E9.m1.14.14.14.14.14.14.cmml" xref="S4.E9.m1.14.14.14.14.14.14"></plus><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.4.cmml"><times id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.4.1.cmml"></times><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.4.2.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.4.2.1.cmml">subscript</csymbol><ci id="S4.E9.m1.6.6.6.6.6.6.cmml" xref="S4.E9.m1.6.6.6.6.6.6">𝐷</ci><ci id="S4.E9.m1.7.7.7.7.7.7.1.cmml" xref="S4.E9.m1.7.7.7.7.7.7.1">𝑡</ci></apply><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.4.3.cmml"><log id="S4.E9.m1.8.8.8.8.8.8.cmml" xref="S4.E9.m1.8.8.8.8.8.8"></log><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.4.3.2.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.4.3.2.1.cmml">subscript</csymbol><ci id="S4.E9.m1.9.9.9.9.9.9.cmml" xref="S4.E9.m1.9.9.9.9.9.9">𝑓</ci><ci id="S4.E9.m1.10.10.10.10.10.10.1.cmml" xref="S4.E9.m1.10.10.10.10.10.10.1">𝑡</ci></apply></apply><ci id="S4.E9.m1.12.12.12.12.12.12.cmml" xref="S4.E9.m1.12.12.12.12.12.12">𝜃</ci></apply><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.2.cmml"><times id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.2.3.cmml"></times><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><minus id="S4.E9.m1.17.17.17.17.17.17.cmml" xref="S4.E9.m1.17.17.17.17.17.17"></minus><cn id="S4.E9.m1.16.16.16.16.16.16.cmml" type="integer" xref="S4.E9.m1.16.16.16.16.16.16">1</cn><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml">subscript</csymbol><ci id="S4.E9.m1.18.18.18.18.18.18.cmml" xref="S4.E9.m1.18.18.18.18.18.18">𝐷</ci><ci id="S4.E9.m1.19.19.19.19.19.19.1.cmml" xref="S4.E9.m1.19.19.19.19.19.19.1">𝑡</ci></apply></apply><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><log id="S4.E9.m1.21.21.21.21.21.21.cmml" xref="S4.E9.m1.21.21.21.21.21.21"></log><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml"><minus id="S4.E9.m1.24.24.24.24.24.24.cmml" xref="S4.E9.m1.24.24.24.24.24.24"></minus><cn id="S4.E9.m1.23.23.23.23.23.23.cmml" type="integer" xref="S4.E9.m1.23.23.23.23.23.23">1</cn><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml"><times id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.1.cmml"></times><apply id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.2.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.1.1.1.1.1.1.2.2.1.1.1.3.2.1.cmml">subscript</csymbol><ci id="S4.E9.m1.25.25.25.25.25.25.cmml" xref="S4.E9.m1.25.25.25.25.25.25">𝑓</ci><ci id="S4.E9.m1.26.26.26.26.26.26.1.cmml" xref="S4.E9.m1.26.26.26.26.26.26.1">𝑡</ci></apply><ci id="S4.E9.m1.28.28.28.28.28.28.cmml" xref="S4.E9.m1.28.28.28.28.28.28">𝜃</ci></apply></apply></apply></apply></apply></apply></apply><apply id="S4.E9.m1.52.52.1.1.1.2.2.cmml"><eq id="S4.E9.m1.39.39.39.7.7.7.cmml" xref="S4.E9.m1.39.39.39.7.7.7"></eq><apply id="S4.E9.m1.52.52.1.1.1.2.2.2.cmml"><times id="S4.E9.m1.52.52.1.1.1.2.2.2.1.cmml"></times><ci id="S4.E9.m1.33.33.33.1.1.1a.cmml" xref="S4.E9.m1.33.33.33.1.1.1"><mtext id="S4.E9.m1.33.33.33.1.1.1.cmml" xref="S4.E9.m1.33.33.33.1.1.1">s.t. </mtext></ci><apply id="S4.E9.m1.52.52.1.1.1.2.2.2.3.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.2.2.2.3.1.cmml">subscript</csymbol><ci id="S4.E9.m1.34.34.34.2.2.2.cmml" xref="S4.E9.m1.34.34.34.2.2.2">𝑓</ci><ci id="S4.E9.m1.35.35.35.3.3.3.1.cmml" xref="S4.E9.m1.35.35.35.3.3.3.1">𝑡</ci></apply><ci id="S4.E9.m1.37.37.37.5.5.5.cmml" xref="S4.E9.m1.37.37.37.5.5.5">𝜃</ci></apply><apply id="S4.E9.m1.52.52.1.1.1.2.2.3.cmml"><apply id="S4.E9.m1.52.52.1.1.1.2.2.3.1.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.2.2.3.1.1.cmml">subscript</csymbol><sum id="S4.E9.m1.40.40.40.8.8.8.cmml" xref="S4.E9.m1.40.40.40.8.8.8"></sum><apply id="S4.E9.m1.41.41.41.9.9.9.1.cmml" xref="S4.E9.m1.41.41.41.9.9.9.1"><csymbol cd="ambiguous" id="S4.E9.m1.41.41.41.9.9.9.1.1.cmml" xref="S4.E9.m1.41.41.41.9.9.9.1">subscript</csymbol><ci id="S4.E9.m1.41.41.41.9.9.9.1.2.cmml" xref="S4.E9.m1.41.41.41.9.9.9.1.2">𝐷</ci><apply id="S4.E9.m1.41.41.41.9.9.9.1.3.cmml" xref="S4.E9.m1.41.41.41.9.9.9.1.3"><minus id="S4.E9.m1.41.41.41.9.9.9.1.3.1.cmml" xref="S4.E9.m1.41.41.41.9.9.9.1.3.1"></minus><ci id="S4.E9.m1.41.41.41.9.9.9.1.3.2.cmml" xref="S4.E9.m1.41.41.41.9.9.9.1.3.2">𝑡</ci><cn id="S4.E9.m1.41.41.41.9.9.9.1.3.3.cmml" type="integer" xref="S4.E9.m1.41.41.41.9.9.9.1.3.3">1</cn></apply></apply></apply><apply id="S4.E9.m1.52.52.1.1.1.2.2.3.2.cmml"><times id="S4.E9.m1.52.52.1.1.1.2.2.3.2.1.cmml"></times><apply id="S4.E9.m1.52.52.1.1.1.2.2.3.2.2.cmml"><csymbol cd="ambiguous" id="S4.E9.m1.52.52.1.1.1.2.2.3.2.2.1.cmml">subscript</csymbol><ci id="S4.E9.m1.42.42.42.10.10.10.cmml" xref="S4.E9.m1.42.42.42.10.10.10">𝑓</ci><apply id="S4.E9.m1.43.43.43.11.11.11.1.cmml" xref="S4.E9.m1.43.43.43.11.11.11.1"><minus id="S4.E9.m1.43.43.43.11.11.11.1.1.cmml" xref="S4.E9.m1.43.43.43.11.11.11.1.1"></minus><ci id="S4.E9.m1.43.43.43.11.11.11.1.2.cmml" xref="S4.E9.m1.43.43.43.11.11.11.1.2">𝑡</ci><cn id="S4.E9.m1.43.43.43.11.11.11.1.3.cmml" type="integer" xref="S4.E9.m1.43.43.43.11.11.11.1.3">1</cn></apply></apply><ci id="S4.E9.m1.45.45.45.13.13.13.cmml" xref="S4.E9.m1.45.45.45.13.13.13">𝜃</ci><apply id="S4.E9.m1.47.47.47.15.15.15.cmml" xref="S4.E9.m1.47.47.47.15.15.15"><ci id="S4.E9.m1.47.47.47.15.15.15.1.cmml" xref="S4.E9.m1.47.47.47.15.15.15.1">~</ci><ci id="S4.E9.m1.47.47.47.15.15.15.2.cmml" xref="S4.E9.m1.47.47.47.15.15.15.2">𝑓</ci></apply><ci id="S4.E9.m1.49.49.49.17.17.17.cmml" xref="S4.E9.m1.49.49.49.17.17.17">𝜂</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E9.m1.54c">\mathcal{L}_{t}=-(D_{t}\log f_{t}(\theta)+(1-D_{t})\log(1-f_{t}(\theta))),%
\quad\\
\text{s.t. }f_{t}(\theta)=\sum_{D_{t-1}}f_{t-1}(\theta)\tilde{f}(\eta).</annotation><annotation encoding="application/x-llamapun" id="S4.E9.m1.54d">start_ROW start_CELL caligraphic_L start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = - ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT roman_log italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_θ ) + ( 1 - italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) roman_log ( 1 - italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_θ ) ) ) , end_CELL end_ROW start_ROW start_CELL s.t. italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_θ ) = ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_f start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ( italic_θ ) over~ start_ARG italic_f end_ARG ( italic_η ) . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS4.p3.3">By the Lagrangian multiplier method, we write the loss function for optimizing <math alttext="f_{t}(\theta)" class="ltx_Math" display="inline" id="S4.SS4.p3.3.m1.1"><semantics id="S4.SS4.p3.3.m1.1a"><mrow id="S4.SS4.p3.3.m1.1.2" xref="S4.SS4.p3.3.m1.1.2.cmml"><msub id="S4.SS4.p3.3.m1.1.2.2" xref="S4.SS4.p3.3.m1.1.2.2.cmml"><mi id="S4.SS4.p3.3.m1.1.2.2.2" xref="S4.SS4.p3.3.m1.1.2.2.2.cmml">f</mi><mi id="S4.SS4.p3.3.m1.1.2.2.3" xref="S4.SS4.p3.3.m1.1.2.2.3.cmml">t</mi></msub><mo id="S4.SS4.p3.3.m1.1.2.1" xref="S4.SS4.p3.3.m1.1.2.1.cmml">⁢</mo><mrow id="S4.SS4.p3.3.m1.1.2.3.2" xref="S4.SS4.p3.3.m1.1.2.cmml"><mo id="S4.SS4.p3.3.m1.1.2.3.2.1" stretchy="false" xref="S4.SS4.p3.3.m1.1.2.cmml">(</mo><mi id="S4.SS4.p3.3.m1.1.1" xref="S4.SS4.p3.3.m1.1.1.cmml">θ</mi><mo id="S4.SS4.p3.3.m1.1.2.3.2.2" stretchy="false" xref="S4.SS4.p3.3.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.3.m1.1b"><apply id="S4.SS4.p3.3.m1.1.2.cmml" xref="S4.SS4.p3.3.m1.1.2"><times id="S4.SS4.p3.3.m1.1.2.1.cmml" xref="S4.SS4.p3.3.m1.1.2.1"></times><apply id="S4.SS4.p3.3.m1.1.2.2.cmml" xref="S4.SS4.p3.3.m1.1.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.3.m1.1.2.2.1.cmml" xref="S4.SS4.p3.3.m1.1.2.2">subscript</csymbol><ci id="S4.SS4.p3.3.m1.1.2.2.2.cmml" xref="S4.SS4.p3.3.m1.1.2.2.2">𝑓</ci><ci id="S4.SS4.p3.3.m1.1.2.2.3.cmml" xref="S4.SS4.p3.3.m1.1.2.2.3">𝑡</ci></apply><ci id="S4.SS4.p3.3.m1.1.1.cmml" xref="S4.SS4.p3.3.m1.1.1">𝜃</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.3.m1.1c">f_{t}(\theta)</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.3.m1.1d">italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_θ )</annotation></semantics></math> as</p>
<table class="ltx_equation ltx_eqn_table" id="S4.E10">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(10)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{t}=-(D_{t}\log f_{t}(\theta)+(1-D_{t})\log(1-f_{t}(\theta)))+\\
\left\|f_{t}(\theta)-\sum_{D_{t-1}}f_{t-1}(\theta)\tilde{f}(\eta)\right\|_{2}." class="ltx_Math" display="block" id="S4.E10.m1.56"><semantics id="S4.E10.m1.56a"><mtable displaystyle="true" id="S4.E10.m1.56.56.3" rowspacing="0pt"><mtr id="S4.E10.m1.56.56.3a"><mtd class="ltx_align_left" columnalign="left" id="S4.E10.m1.56.56.3b"><mrow id="S4.E10.m1.55.55.2.54.33.33"><msub id="S4.E10.m1.55.55.2.54.33.33.34"><mi class="ltx_font_mathcaligraphic" id="S4.E10.m1.1.1.1.1.1.1" xref="S4.E10.m1.1.1.1.1.1.1.cmml">ℒ</mi><mi id="S4.E10.m1.2.2.2.2.2.2.1" xref="S4.E10.m1.2.2.2.2.2.2.1.cmml">t</mi></msub><mo id="S4.E10.m1.3.3.3.3.3.3" xref="S4.E10.m1.3.3.3.3.3.3.cmml">=</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33"><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1"><mo id="S4.E10.m1.55.55.2.54.33.33.33.1a" xref="S4.E10.m1.54.54.1.1.1.cmml">−</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1"><mo id="S4.E10.m1.5.5.5.5.5.5" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">(</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1"><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.3"><msub id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.3.2"><mi id="S4.E10.m1.6.6.6.6.6.6" xref="S4.E10.m1.6.6.6.6.6.6.cmml">D</mi><mi id="S4.E10.m1.7.7.7.7.7.7.1" xref="S4.E10.m1.7.7.7.7.7.7.1.cmml">t</mi></msub><mo id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.3.1" lspace="0.167em" xref="S4.E10.m1.54.54.1.1.1.cmml">⁢</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.3.3"><mi id="S4.E10.m1.8.8.8.8.8.8" xref="S4.E10.m1.8.8.8.8.8.8.cmml">log</mi><mo id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.3.3a" lspace="0.167em" xref="S4.E10.m1.54.54.1.1.1.cmml">⁡</mo><msub id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.3.3.1"><mi id="S4.E10.m1.9.9.9.9.9.9" xref="S4.E10.m1.9.9.9.9.9.9.cmml">f</mi><mi id="S4.E10.m1.10.10.10.10.10.10.1" xref="S4.E10.m1.10.10.10.10.10.10.1.cmml">t</mi></msub></mrow><mo id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.3.1a" xref="S4.E10.m1.54.54.1.1.1.cmml">⁢</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.3.4"><mo id="S4.E10.m1.11.11.11.11.11.11" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">(</mo><mi id="S4.E10.m1.12.12.12.12.12.12" xref="S4.E10.m1.12.12.12.12.12.12.cmml">θ</mi><mo id="S4.E10.m1.13.13.13.13.13.13" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.14.14.14.14.14.14" xref="S4.E10.m1.14.14.14.14.14.14.cmml">+</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2"><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.1.1.1"><mo id="S4.E10.m1.15.15.15.15.15.15" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">(</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.1.1.1.1"><mn id="S4.E10.m1.16.16.16.16.16.16" xref="S4.E10.m1.16.16.16.16.16.16.cmml">1</mn><mo id="S4.E10.m1.17.17.17.17.17.17" xref="S4.E10.m1.17.17.17.17.17.17.cmml">−</mo><msub id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.1.1.1.1.1"><mi id="S4.E10.m1.18.18.18.18.18.18" xref="S4.E10.m1.18.18.18.18.18.18.cmml">D</mi><mi id="S4.E10.m1.19.19.19.19.19.19.1" xref="S4.E10.m1.19.19.19.19.19.19.1.cmml">t</mi></msub></mrow><mo id="S4.E10.m1.20.20.20.20.20.20" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">)</mo></mrow><mo id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.3" lspace="0.167em" xref="S4.E10.m1.54.54.1.1.1.cmml">⁢</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.2.1"><mi id="S4.E10.m1.21.21.21.21.21.21" xref="S4.E10.m1.21.21.21.21.21.21.cmml">log</mi><mo id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.2.1a" xref="S4.E10.m1.54.54.1.1.1.cmml">⁡</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.2.1.1"><mo id="S4.E10.m1.22.22.22.22.22.22" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">(</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.2.1.1.1"><mn id="S4.E10.m1.23.23.23.23.23.23" xref="S4.E10.m1.23.23.23.23.23.23.cmml">1</mn><mo id="S4.E10.m1.24.24.24.24.24.24" xref="S4.E10.m1.24.24.24.24.24.24.cmml">−</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.2.1.1.1.1"><msub id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.2.1.1.1.1.2"><mi id="S4.E10.m1.25.25.25.25.25.25" xref="S4.E10.m1.25.25.25.25.25.25.cmml">f</mi><mi id="S4.E10.m1.26.26.26.26.26.26.1" xref="S4.E10.m1.26.26.26.26.26.26.1.cmml">t</mi></msub><mo id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.2.1.1.1.1.1" xref="S4.E10.m1.54.54.1.1.1.cmml">⁢</mo><mrow id="S4.E10.m1.55.55.2.54.33.33.33.1.1.1.1.2.2.1.1.1.1.3"><mo id="S4.E10.m1.27.27.27.27.27.27" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">(</mo><mi id="S4.E10.m1.28.28.28.28.28.28" xref="S4.E10.m1.28.28.28.28.28.28.cmml">θ</mi><mo id="S4.E10.m1.29.29.29.29.29.29" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S4.E10.m1.30.30.30.30.30.30" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E10.m1.31.31.31.31.31.31" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.32.32.32.32.32.32" xref="S4.E10.m1.32.32.32.32.32.32.cmml">+</mo></mrow></mrow></mtd></mtr><mtr id="S4.E10.m1.56.56.3c"><mtd class="ltx_align_right" columnalign="right" id="S4.E10.m1.56.56.3d"><mrow id="S4.E10.m1.56.56.3.55.22.22.22"><msub id="S4.E10.m1.56.56.3.55.22.22.22.1"><mrow id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1"><mo id="S4.E10.m1.33.33.33.1.1.1" xref="S4.E10.m1.54.54.1.1.1.cmml">‖</mo><mrow id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1"><mrow id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.1"><msub id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.1.2"><mi id="S4.E10.m1.34.34.34.2.2.2" xref="S4.E10.m1.34.34.34.2.2.2.cmml">f</mi><mi id="S4.E10.m1.35.35.35.3.3.3.1" xref="S4.E10.m1.35.35.35.3.3.3.1.cmml">t</mi></msub><mo id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.1.1" xref="S4.E10.m1.54.54.1.1.1.cmml">⁢</mo><mrow id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.1.3"><mo id="S4.E10.m1.36.36.36.4.4.4" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">(</mo><mi id="S4.E10.m1.37.37.37.5.5.5" xref="S4.E10.m1.37.37.37.5.5.5.cmml">θ</mi><mo id="S4.E10.m1.38.38.38.6.6.6" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">)</mo></mrow></mrow><mo id="S4.E10.m1.39.39.39.7.7.7" rspace="0.055em" xref="S4.E10.m1.39.39.39.7.7.7.cmml">−</mo><mrow id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2"><munder id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2.1"><mo id="S4.E10.m1.40.40.40.8.8.8" movablelimits="false" xref="S4.E10.m1.40.40.40.8.8.8.cmml">∑</mo><msub id="S4.E10.m1.41.41.41.9.9.9.1" xref="S4.E10.m1.41.41.41.9.9.9.1.cmml"><mi id="S4.E10.m1.41.41.41.9.9.9.1.2" xref="S4.E10.m1.41.41.41.9.9.9.1.2.cmml">D</mi><mrow id="S4.E10.m1.41.41.41.9.9.9.1.3" xref="S4.E10.m1.41.41.41.9.9.9.1.3.cmml"><mi id="S4.E10.m1.41.41.41.9.9.9.1.3.2" xref="S4.E10.m1.41.41.41.9.9.9.1.3.2.cmml">t</mi><mo id="S4.E10.m1.41.41.41.9.9.9.1.3.1" xref="S4.E10.m1.41.41.41.9.9.9.1.3.1.cmml">−</mo><mn id="S4.E10.m1.41.41.41.9.9.9.1.3.3" xref="S4.E10.m1.41.41.41.9.9.9.1.3.3.cmml">1</mn></mrow></msub></munder><mrow id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2.2"><msub id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2.2.2"><mi id="S4.E10.m1.42.42.42.10.10.10" xref="S4.E10.m1.42.42.42.10.10.10.cmml">f</mi><mrow id="S4.E10.m1.43.43.43.11.11.11.1" xref="S4.E10.m1.43.43.43.11.11.11.1.cmml"><mi id="S4.E10.m1.43.43.43.11.11.11.1.2" xref="S4.E10.m1.43.43.43.11.11.11.1.2.cmml">t</mi><mo id="S4.E10.m1.43.43.43.11.11.11.1.1" xref="S4.E10.m1.43.43.43.11.11.11.1.1.cmml">−</mo><mn id="S4.E10.m1.43.43.43.11.11.11.1.3" xref="S4.E10.m1.43.43.43.11.11.11.1.3.cmml">1</mn></mrow></msub><mo id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2.2.1" xref="S4.E10.m1.54.54.1.1.1.cmml">⁢</mo><mrow id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2.2.3"><mo id="S4.E10.m1.44.44.44.12.12.12" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">(</mo><mi id="S4.E10.m1.45.45.45.13.13.13" xref="S4.E10.m1.45.45.45.13.13.13.cmml">θ</mi><mo id="S4.E10.m1.46.46.46.14.14.14" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">)</mo></mrow><mo id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2.2.1a" xref="S4.E10.m1.54.54.1.1.1.cmml">⁢</mo><mover accent="true" id="S4.E10.m1.47.47.47.15.15.15" xref="S4.E10.m1.47.47.47.15.15.15.cmml"><mi id="S4.E10.m1.47.47.47.15.15.15.2" xref="S4.E10.m1.47.47.47.15.15.15.2.cmml">f</mi><mo id="S4.E10.m1.47.47.47.15.15.15.1" xref="S4.E10.m1.47.47.47.15.15.15.1.cmml">~</mo></mover><mo id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2.2.1b" xref="S4.E10.m1.54.54.1.1.1.cmml">⁢</mo><mrow id="S4.E10.m1.56.56.3.55.22.22.22.1.1.1.1.2.2.4"><mo id="S4.E10.m1.48.48.48.16.16.16" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">(</mo><mi id="S4.E10.m1.49.49.49.17.17.17" xref="S4.E10.m1.49.49.49.17.17.17.cmml">η</mi><mo id="S4.E10.m1.50.50.50.18.18.18" stretchy="false" xref="S4.E10.m1.54.54.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S4.E10.m1.51.51.51.19.19.19" xref="S4.E10.m1.54.54.1.1.1.cmml">‖</mo></mrow><mn id="S4.E10.m1.52.52.52.20.20.20.1" xref="S4.E10.m1.52.52.52.20.20.20.1.cmml">2</mn></msub><mo id="S4.E10.m1.53.53.53.21.21.21" lspace="0em" xref="S4.E10.m1.54.54.1.1.1.cmml">.</mo></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="S4.E10.m1.56b"><apply id="S4.E10.m1.54.54.1.1.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><eq id="S4.E10.m1.3.3.3.3.3.3.cmml" xref="S4.E10.m1.3.3.3.3.3.3"></eq><apply id="S4.E10.m1.54.54.1.1.1.4.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.4.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><ci id="S4.E10.m1.1.1.1.1.1.1.cmml" xref="S4.E10.m1.1.1.1.1.1.1">ℒ</ci><ci id="S4.E10.m1.2.2.2.2.2.2.1.cmml" xref="S4.E10.m1.2.2.2.2.2.2.1">𝑡</ci></apply><apply id="S4.E10.m1.54.54.1.1.1.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><plus id="S4.E10.m1.32.32.32.32.32.32.cmml" xref="S4.E10.m1.32.32.32.32.32.32"></plus><apply id="S4.E10.m1.54.54.1.1.1.1.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><minus id="S4.E10.m1.4.4.4.4.4.4.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"></minus><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><plus id="S4.E10.m1.14.14.14.14.14.14.cmml" xref="S4.E10.m1.14.14.14.14.14.14"></plus><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.4.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><times id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.4.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"></times><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.4.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.4.2.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><ci id="S4.E10.m1.6.6.6.6.6.6.cmml" xref="S4.E10.m1.6.6.6.6.6.6">𝐷</ci><ci id="S4.E10.m1.7.7.7.7.7.7.1.cmml" xref="S4.E10.m1.7.7.7.7.7.7.1">𝑡</ci></apply><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.4.3.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><log id="S4.E10.m1.8.8.8.8.8.8.cmml" xref="S4.E10.m1.8.8.8.8.8.8"></log><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.4.3.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.4.3.2.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><ci id="S4.E10.m1.9.9.9.9.9.9.cmml" xref="S4.E10.m1.9.9.9.9.9.9">𝑓</ci><ci id="S4.E10.m1.10.10.10.10.10.10.1.cmml" xref="S4.E10.m1.10.10.10.10.10.10.1">𝑡</ci></apply></apply><ci id="S4.E10.m1.12.12.12.12.12.12.cmml" xref="S4.E10.m1.12.12.12.12.12.12">𝜃</ci></apply><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><times id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.2.3.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"></times><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><minus id="S4.E10.m1.17.17.17.17.17.17.cmml" xref="S4.E10.m1.17.17.17.17.17.17"></minus><cn id="S4.E10.m1.16.16.16.16.16.16.cmml" type="integer" xref="S4.E10.m1.16.16.16.16.16.16">1</cn><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><ci id="S4.E10.m1.18.18.18.18.18.18.cmml" xref="S4.E10.m1.18.18.18.18.18.18">𝐷</ci><ci id="S4.E10.m1.19.19.19.19.19.19.1.cmml" xref="S4.E10.m1.19.19.19.19.19.19.1">𝑡</ci></apply></apply><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><log id="S4.E10.m1.21.21.21.21.21.21.cmml" xref="S4.E10.m1.21.21.21.21.21.21"></log><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.2.2.1.1.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><minus id="S4.E10.m1.24.24.24.24.24.24.cmml" xref="S4.E10.m1.24.24.24.24.24.24"></minus><cn id="S4.E10.m1.23.23.23.23.23.23.cmml" type="integer" xref="S4.E10.m1.23.23.23.23.23.23">1</cn><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.2.2.1.1.1.3.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><times id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.2.2.1.1.1.3.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"></times><apply id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.2.2.1.1.1.3.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.1.1.1.1.1.2.2.1.1.1.3.2.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><ci id="S4.E10.m1.25.25.25.25.25.25.cmml" xref="S4.E10.m1.25.25.25.25.25.25">𝑓</ci><ci id="S4.E10.m1.26.26.26.26.26.26.1.cmml" xref="S4.E10.m1.26.26.26.26.26.26.1">𝑡</ci></apply><ci id="S4.E10.m1.28.28.28.28.28.28.cmml" xref="S4.E10.m1.28.28.28.28.28.28">𝜃</ci></apply></apply></apply></apply></apply></apply><apply id="S4.E10.m1.54.54.1.1.1.2.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.2.2.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><apply id="S4.E10.m1.54.54.1.1.1.2.2.1.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="latexml" id="S4.E10.m1.54.54.1.1.1.2.2.1.2.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">delimited-∥∥</csymbol><apply id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><minus id="S4.E10.m1.39.39.39.7.7.7.cmml" xref="S4.E10.m1.39.39.39.7.7.7"></minus><apply id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><times id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.2.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"></times><apply id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.2.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.2.2.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><ci id="S4.E10.m1.34.34.34.2.2.2.cmml" xref="S4.E10.m1.34.34.34.2.2.2">𝑓</ci><ci id="S4.E10.m1.35.35.35.3.3.3.1.cmml" xref="S4.E10.m1.35.35.35.3.3.3.1">𝑡</ci></apply><ci id="S4.E10.m1.37.37.37.5.5.5.cmml" xref="S4.E10.m1.37.37.37.5.5.5">𝜃</ci></apply><apply id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.3.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><apply id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.3.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.3.1.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><sum id="S4.E10.m1.40.40.40.8.8.8.cmml" xref="S4.E10.m1.40.40.40.8.8.8"></sum><apply id="S4.E10.m1.41.41.41.9.9.9.1.cmml" xref="S4.E10.m1.41.41.41.9.9.9.1"><csymbol cd="ambiguous" id="S4.E10.m1.41.41.41.9.9.9.1.1.cmml" xref="S4.E10.m1.41.41.41.9.9.9.1">subscript</csymbol><ci id="S4.E10.m1.41.41.41.9.9.9.1.2.cmml" xref="S4.E10.m1.41.41.41.9.9.9.1.2">𝐷</ci><apply id="S4.E10.m1.41.41.41.9.9.9.1.3.cmml" xref="S4.E10.m1.41.41.41.9.9.9.1.3"><minus id="S4.E10.m1.41.41.41.9.9.9.1.3.1.cmml" xref="S4.E10.m1.41.41.41.9.9.9.1.3.1"></minus><ci id="S4.E10.m1.41.41.41.9.9.9.1.3.2.cmml" xref="S4.E10.m1.41.41.41.9.9.9.1.3.2">𝑡</ci><cn id="S4.E10.m1.41.41.41.9.9.9.1.3.3.cmml" type="integer" xref="S4.E10.m1.41.41.41.9.9.9.1.3.3">1</cn></apply></apply></apply><apply id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.3.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><times id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.3.2.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"></times><apply id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.3.2.2.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a"><csymbol cd="ambiguous" id="S4.E10.m1.54.54.1.1.1.2.2.1.1.1.3.2.2.1.cmml" xref="S4.E10.m1.55.55.2.54.33.33.33.1a">subscript</csymbol><ci id="S4.E10.m1.42.42.42.10.10.10.cmml" xref="S4.E10.m1.42.42.42.10.10.10">𝑓</ci><apply id="S4.E10.m1.43.43.43.11.11.11.1.cmml" xref="S4.E10.m1.43.43.43.11.11.11.1"><minus id="S4.E10.m1.43.43.43.11.11.11.1.1.cmml" xref="S4.E10.m1.43.43.43.11.11.11.1.1"></minus><ci id="S4.E10.m1.43.43.43.11.11.11.1.2.cmml" xref="S4.E10.m1.43.43.43.11.11.11.1.2">𝑡</ci><cn id="S4.E10.m1.43.43.43.11.11.11.1.3.cmml" type="integer" xref="S4.E10.m1.43.43.43.11.11.11.1.3">1</cn></apply></apply><ci id="S4.E10.m1.45.45.45.13.13.13.cmml" xref="S4.E10.m1.45.45.45.13.13.13">𝜃</ci><apply id="S4.E10.m1.47.47.47.15.15.15.cmml" xref="S4.E10.m1.47.47.47.15.15.15"><ci id="S4.E10.m1.47.47.47.15.15.15.1.cmml" xref="S4.E10.m1.47.47.47.15.15.15.1">~</ci><ci id="S4.E10.m1.47.47.47.15.15.15.2.cmml" xref="S4.E10.m1.47.47.47.15.15.15.2">𝑓</ci></apply><ci id="S4.E10.m1.49.49.49.17.17.17.cmml" xref="S4.E10.m1.49.49.49.17.17.17">𝜂</ci></apply></apply></apply></apply><cn id="S4.E10.m1.52.52.52.20.20.20.1.cmml" type="integer" xref="S4.E10.m1.52.52.52.20.20.20.1">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E10.m1.56c">\mathcal{L}_{t}=-(D_{t}\log f_{t}(\theta)+(1-D_{t})\log(1-f_{t}(\theta)))+\\
\left\|f_{t}(\theta)-\sum_{D_{t-1}}f_{t-1}(\theta)\tilde{f}(\eta)\right\|_{2}.</annotation><annotation encoding="application/x-llamapun" id="S4.E10.m1.56d">start_ROW start_CELL caligraphic_L start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = - ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT roman_log italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_θ ) + ( 1 - italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) roman_log ( 1 - italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_θ ) ) ) + end_CELL end_ROW start_ROW start_CELL ∥ italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_θ ) - ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT italic_f start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ( italic_θ ) over~ start_ARG italic_f end_ARG ( italic_η ) ∥ start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT . end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S4.SS4.p3.5">In summary, we first train a pre-selected sequential recommender system on the observational dataset and use that to estimate the quantity <math alttext="\tilde{f}=\mathbb{P}(\cdot|S_{t},D_{t-1},P_{t})" class="ltx_math_unparsed" display="inline" id="S4.SS4.p3.4.m1.1"><semantics id="S4.SS4.p3.4.m1.1a"><mrow id="S4.SS4.p3.4.m1.1b"><mover accent="true" id="S4.SS4.p3.4.m1.1.1"><mi id="S4.SS4.p3.4.m1.1.1.2">f</mi><mo id="S4.SS4.p3.4.m1.1.1.1">~</mo></mover><mo id="S4.SS4.p3.4.m1.1.2">=</mo><mi id="S4.SS4.p3.4.m1.1.3">ℙ</mi><mrow id="S4.SS4.p3.4.m1.1.4"><mo id="S4.SS4.p3.4.m1.1.4.1" stretchy="false">(</mo><mo id="S4.SS4.p3.4.m1.1.4.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S4.SS4.p3.4.m1.1.4.3" rspace="0.167em" stretchy="false">|</mo><msub id="S4.SS4.p3.4.m1.1.4.4"><mi id="S4.SS4.p3.4.m1.1.4.4.2">S</mi><mi id="S4.SS4.p3.4.m1.1.4.4.3">t</mi></msub><mo id="S4.SS4.p3.4.m1.1.4.5">,</mo><msub id="S4.SS4.p3.4.m1.1.4.6"><mi id="S4.SS4.p3.4.m1.1.4.6.2">D</mi><mrow id="S4.SS4.p3.4.m1.1.4.6.3"><mi id="S4.SS4.p3.4.m1.1.4.6.3.2">t</mi><mo id="S4.SS4.p3.4.m1.1.4.6.3.1">−</mo><mn id="S4.SS4.p3.4.m1.1.4.6.3.3">1</mn></mrow></msub><mo id="S4.SS4.p3.4.m1.1.4.7">,</mo><msub id="S4.SS4.p3.4.m1.1.4.8"><mi id="S4.SS4.p3.4.m1.1.4.8.2">P</mi><mi id="S4.SS4.p3.4.m1.1.4.8.3">t</mi></msub><mo id="S4.SS4.p3.4.m1.1.4.9" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S4.SS4.p3.4.m1.1c">\tilde{f}=\mathbb{P}(\cdot|S_{t},D_{t-1},P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.4.m1.1d">over~ start_ARG italic_f end_ARG = blackboard_P ( ⋅ | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>. Then we trained our model on interventional dataset to estimate <math alttext="\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})" class="ltx_Math" display="inline" id="S4.SS4.p3.5.m2.2"><semantics id="S4.SS4.p3.5.m2.2a"><mrow id="S4.SS4.p3.5.m2.2.2" xref="S4.SS4.p3.5.m2.2.2.cmml"><mi id="S4.SS4.p3.5.m2.2.2.3" xref="S4.SS4.p3.5.m2.2.2.3.cmml">ℙ</mi><mo id="S4.SS4.p3.5.m2.2.2.2" xref="S4.SS4.p3.5.m2.2.2.2.cmml">⁢</mo><mrow id="S4.SS4.p3.5.m2.2.2.1.1" xref="S4.SS4.p3.5.m2.2.2.1.1.1.cmml"><mo id="S4.SS4.p3.5.m2.2.2.1.1.2" stretchy="false" xref="S4.SS4.p3.5.m2.2.2.1.1.1.cmml">(</mo><mrow id="S4.SS4.p3.5.m2.2.2.1.1.1" xref="S4.SS4.p3.5.m2.2.2.1.1.1.cmml"><msub id="S4.SS4.p3.5.m2.2.2.1.1.1.4" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.cmml"><mi id="S4.SS4.p3.5.m2.2.2.1.1.1.4.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.2.cmml">D</mi><mrow id="S4.SS4.p3.5.m2.2.2.1.1.1.4.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.cmml"><mi id="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.2.cmml">t</mi><mo id="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.1" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.1.cmml">−</mo><mn id="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.3.cmml">1</mn></mrow></msub><mo fence="false" id="S4.SS4.p3.5.m2.2.2.1.1.1.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.3.cmml">|</mo><mrow id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.3.cmml"><mrow id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.cmml"><mtext id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.4" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.4a.cmml">do</mtext><mo id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.3.cmml"><mo id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mrow id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.1" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.4" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S4.SS4.p3.5.m2.1.1" mathvariant="normal" xref="S4.SS4.p3.5.m2.1.1.cmml">…</mi><mo id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.5" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mn id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.6" stretchy="false" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.3.cmml">,</mo><msub id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.cmml"><mi id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.2" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.2.cmml">P</mi><mi id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.3" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S4.SS4.p3.5.m2.2.2.1.1.3" stretchy="false" xref="S4.SS4.p3.5.m2.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p3.5.m2.2b"><apply id="S4.SS4.p3.5.m2.2.2.cmml" xref="S4.SS4.p3.5.m2.2.2"><times id="S4.SS4.p3.5.m2.2.2.2.cmml" xref="S4.SS4.p3.5.m2.2.2.2"></times><ci id="S4.SS4.p3.5.m2.2.2.3.cmml" xref="S4.SS4.p3.5.m2.2.2.3">ℙ</ci><apply id="S4.SS4.p3.5.m2.2.2.1.1.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1"><csymbol cd="latexml" id="S4.SS4.p3.5.m2.2.2.1.1.1.3.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.3">conditional</csymbol><apply id="S4.SS4.p3.5.m2.2.2.1.1.1.4.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S4.SS4.p3.5.m2.2.2.1.1.1.4.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4">subscript</csymbol><ci id="S4.SS4.p3.5.m2.2.2.1.1.1.4.2.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.2">𝐷</ci><apply id="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.3"><minus id="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.1"></minus><ci id="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.2.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.2">𝑡</ci><cn id="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.3.cmml" type="integer" xref="S4.SS4.p3.5.m2.2.2.1.1.1.4.3.3">1</cn></apply></apply><list id="S4.SS4.p3.5.m2.2.2.1.1.1.2.3.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.2"><apply id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1"><times id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.3"></times><ci id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.4a.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.4"><mtext id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.4.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.4">do</mtext></ci><vector id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.3.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2"><apply id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.2">𝑆</ci><apply id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3"><minus id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.1"></minus><ci id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.2">𝑡</ci><cn id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="S4.SS4.p3.5.m2.1.1.cmml" xref="S4.SS4.p3.5.m2.1.1">…</ci><apply id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.2">𝑆</ci><cn id="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S4.SS4.p3.5.m2.2.2.1.1.1.1.1.1.2.2.2.3">1</cn></apply></vector></apply><apply id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.1.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.2.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.2">𝑃</ci><ci id="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.3.cmml" xref="S4.SS4.p3.5.m2.2.2.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p3.5.m2.2c">\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p3.5.m2.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> using the objective function <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.E10" title="In 4.4. Enforcing the constraint. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">10</span></a>.</p>
</div>
<div class="ltx_para" id="S4.SS4.p4">
<p class="ltx_p" id="S4.SS4.p4.1">We note here that we can use any recommender system to estimate <math alttext="\tilde{f}=\mathbb{P}(\cdot|S_{t},D_{t-1},P_{t})" class="ltx_math_unparsed" display="inline" id="S4.SS4.p4.1.m1.1"><semantics id="S4.SS4.p4.1.m1.1a"><mrow id="S4.SS4.p4.1.m1.1b"><mover accent="true" id="S4.SS4.p4.1.m1.1.1"><mi id="S4.SS4.p4.1.m1.1.1.2">f</mi><mo id="S4.SS4.p4.1.m1.1.1.1">~</mo></mover><mo id="S4.SS4.p4.1.m1.1.2">=</mo><mi id="S4.SS4.p4.1.m1.1.3">ℙ</mi><mrow id="S4.SS4.p4.1.m1.1.4"><mo id="S4.SS4.p4.1.m1.1.4.1" stretchy="false">(</mo><mo id="S4.SS4.p4.1.m1.1.4.2" lspace="0em" rspace="0em">⋅</mo><mo fence="false" id="S4.SS4.p4.1.m1.1.4.3" rspace="0.167em" stretchy="false">|</mo><msub id="S4.SS4.p4.1.m1.1.4.4"><mi id="S4.SS4.p4.1.m1.1.4.4.2">S</mi><mi id="S4.SS4.p4.1.m1.1.4.4.3">t</mi></msub><mo id="S4.SS4.p4.1.m1.1.4.5">,</mo><msub id="S4.SS4.p4.1.m1.1.4.6"><mi id="S4.SS4.p4.1.m1.1.4.6.2">D</mi><mrow id="S4.SS4.p4.1.m1.1.4.6.3"><mi id="S4.SS4.p4.1.m1.1.4.6.3.2">t</mi><mo id="S4.SS4.p4.1.m1.1.4.6.3.1">−</mo><mn id="S4.SS4.p4.1.m1.1.4.6.3.3">1</mn></mrow></msub><mo id="S4.SS4.p4.1.m1.1.4.7">,</mo><msub id="S4.SS4.p4.1.m1.1.4.8"><mi id="S4.SS4.p4.1.m1.1.4.8.2">P</mi><mi id="S4.SS4.p4.1.m1.1.4.8.3">t</mi></msub><mo id="S4.SS4.p4.1.m1.1.4.9" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S4.SS4.p4.1.m1.1c">\tilde{f}=\mathbb{P}(\cdot|S_{t},D_{t-1},P_{t})</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p4.1.m1.1d">over~ start_ARG italic_f end_ARG = blackboard_P ( ⋅ | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> so long as its goal is to estimate users’ natural decision behavior. We show in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6" title="6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">6</span></a> the performance of CSRec integrated with four different sequential recommender systems.</p>
</div>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5. </span>Estimate System’s Influence Through Treatment Effect</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">With the decision-making process explicitly characterized as shown in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4" title="4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">4</span></a>, we can approximate the potential outcome for each candidate item to recommend, specifically the probability that the recommendation will be accepted.</p>
</div>
<div class="ltx_para" id="S5.p2">
<p class="ltx_p" id="S5.p2.1">Beyond approximating the user’s decision process, it is also essential to isolate and quantify the system’s influence on its users. For example, in the exploration and exploitation dilemma, people must predict the risk of recommending a novel item that is out-of-the-distribution. Additionally, when a system is trying to gather information about a new user, it is crucial to quickly understand the user without over-exploiting their trust in the system. Quantifying the system’s influence on users can significantly enhance the development of a personalized and trustworthy system, moving beyond merely predicting user preferences from static data. Estimating how one variable affects another is addressed by measuring the <span class="ltx_text ltx_font_bold" id="S5.p2.1.1">treatment effect</span> in causal inference.</p>
</div>
<section class="ltx_subsection" id="S5.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1. </span>Treatment effect in recommendation</h3>
<div class="ltx_para" id="S5.SS1.p1">
<p class="ltx_p" id="S5.SS1.p1.3">Treatment in causal inference refers to the action that applies (exposes, or subjects) to a unit<cite class="ltx_cite ltx_citemacro_citep">(Pearl, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib25" title="">2012</a>)</cite>. For each unit-treatment pair, the outcome of the treatment when applied to the unit is referred as the potential outcome. With N treatments <math alttext="T=\{1,2,3,...,N\}" class="ltx_Math" display="inline" id="S5.SS1.p1.1.m1.5"><semantics id="S5.SS1.p1.1.m1.5a"><mrow id="S5.SS1.p1.1.m1.5.6" xref="S5.SS1.p1.1.m1.5.6.cmml"><mi id="S5.SS1.p1.1.m1.5.6.2" xref="S5.SS1.p1.1.m1.5.6.2.cmml">T</mi><mo id="S5.SS1.p1.1.m1.5.6.1" xref="S5.SS1.p1.1.m1.5.6.1.cmml">=</mo><mrow id="S5.SS1.p1.1.m1.5.6.3.2" xref="S5.SS1.p1.1.m1.5.6.3.1.cmml"><mo id="S5.SS1.p1.1.m1.5.6.3.2.1" stretchy="false" xref="S5.SS1.p1.1.m1.5.6.3.1.cmml">{</mo><mn id="S5.SS1.p1.1.m1.1.1" xref="S5.SS1.p1.1.m1.1.1.cmml">1</mn><mo id="S5.SS1.p1.1.m1.5.6.3.2.2" xref="S5.SS1.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.SS1.p1.1.m1.2.2" xref="S5.SS1.p1.1.m1.2.2.cmml">2</mn><mo id="S5.SS1.p1.1.m1.5.6.3.2.3" xref="S5.SS1.p1.1.m1.5.6.3.1.cmml">,</mo><mn id="S5.SS1.p1.1.m1.3.3" xref="S5.SS1.p1.1.m1.3.3.cmml">3</mn><mo id="S5.SS1.p1.1.m1.5.6.3.2.4" xref="S5.SS1.p1.1.m1.5.6.3.1.cmml">,</mo><mi id="S5.SS1.p1.1.m1.4.4" mathvariant="normal" xref="S5.SS1.p1.1.m1.4.4.cmml">…</mi><mo id="S5.SS1.p1.1.m1.5.6.3.2.5" xref="S5.SS1.p1.1.m1.5.6.3.1.cmml">,</mo><mi id="S5.SS1.p1.1.m1.5.5" xref="S5.SS1.p1.1.m1.5.5.cmml">N</mi><mo id="S5.SS1.p1.1.m1.5.6.3.2.6" stretchy="false" xref="S5.SS1.p1.1.m1.5.6.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.m1.5b"><apply id="S5.SS1.p1.1.m1.5.6.cmml" xref="S5.SS1.p1.1.m1.5.6"><eq id="S5.SS1.p1.1.m1.5.6.1.cmml" xref="S5.SS1.p1.1.m1.5.6.1"></eq><ci id="S5.SS1.p1.1.m1.5.6.2.cmml" xref="S5.SS1.p1.1.m1.5.6.2">𝑇</ci><set id="S5.SS1.p1.1.m1.5.6.3.1.cmml" xref="S5.SS1.p1.1.m1.5.6.3.2"><cn id="S5.SS1.p1.1.m1.1.1.cmml" type="integer" xref="S5.SS1.p1.1.m1.1.1">1</cn><cn id="S5.SS1.p1.1.m1.2.2.cmml" type="integer" xref="S5.SS1.p1.1.m1.2.2">2</cn><cn id="S5.SS1.p1.1.m1.3.3.cmml" type="integer" xref="S5.SS1.p1.1.m1.3.3">3</cn><ci id="S5.SS1.p1.1.m1.4.4.cmml" xref="S5.SS1.p1.1.m1.4.4">…</ci><ci id="S5.SS1.p1.1.m1.5.5.cmml" xref="S5.SS1.p1.1.m1.5.5">𝑁</ci></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.m1.5c">T=\{1,2,3,...,N\}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.1.m1.5d">italic_T = { 1 , 2 , 3 , … , italic_N }</annotation></semantics></math>, the potential outcome of applying treatment <math alttext="T_{i}" class="ltx_Math" display="inline" id="S5.SS1.p1.2.m2.1"><semantics id="S5.SS1.p1.2.m2.1a"><msub id="S5.SS1.p1.2.m2.1.1" xref="S5.SS1.p1.2.m2.1.1.cmml"><mi id="S5.SS1.p1.2.m2.1.1.2" xref="S5.SS1.p1.2.m2.1.1.2.cmml">T</mi><mi id="S5.SS1.p1.2.m2.1.1.3" xref="S5.SS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.m2.1b"><apply id="S5.SS1.p1.2.m2.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p1.2.m2.1.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.p1.2.m2.1.1.2.cmml" xref="S5.SS1.p1.2.m2.1.1.2">𝑇</ci><ci id="S5.SS1.p1.2.m2.1.1.3.cmml" xref="S5.SS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.m2.1c">T_{i}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.2.m2.1d">italic_T start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> is denoted as <math alttext="Y(T=T_{i})" class="ltx_Math" display="inline" id="S5.SS1.p1.3.m3.1"><semantics id="S5.SS1.p1.3.m3.1a"><mrow id="S5.SS1.p1.3.m3.1.1" xref="S5.SS1.p1.3.m3.1.1.cmml"><mi id="S5.SS1.p1.3.m3.1.1.3" xref="S5.SS1.p1.3.m3.1.1.3.cmml">Y</mi><mo id="S5.SS1.p1.3.m3.1.1.2" xref="S5.SS1.p1.3.m3.1.1.2.cmml">⁢</mo><mrow id="S5.SS1.p1.3.m3.1.1.1.1" xref="S5.SS1.p1.3.m3.1.1.1.1.1.cmml"><mo id="S5.SS1.p1.3.m3.1.1.1.1.2" stretchy="false" xref="S5.SS1.p1.3.m3.1.1.1.1.1.cmml">(</mo><mrow id="S5.SS1.p1.3.m3.1.1.1.1.1" xref="S5.SS1.p1.3.m3.1.1.1.1.1.cmml"><mi id="S5.SS1.p1.3.m3.1.1.1.1.1.2" xref="S5.SS1.p1.3.m3.1.1.1.1.1.2.cmml">T</mi><mo id="S5.SS1.p1.3.m3.1.1.1.1.1.1" xref="S5.SS1.p1.3.m3.1.1.1.1.1.1.cmml">=</mo><msub id="S5.SS1.p1.3.m3.1.1.1.1.1.3" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3.cmml"><mi id="S5.SS1.p1.3.m3.1.1.1.1.1.3.2" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3.2.cmml">T</mi><mi id="S5.SS1.p1.3.m3.1.1.1.1.1.3.3" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3.3.cmml">i</mi></msub></mrow><mo id="S5.SS1.p1.3.m3.1.1.1.1.3" stretchy="false" xref="S5.SS1.p1.3.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.3.m3.1b"><apply id="S5.SS1.p1.3.m3.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1"><times id="S5.SS1.p1.3.m3.1.1.2.cmml" xref="S5.SS1.p1.3.m3.1.1.2"></times><ci id="S5.SS1.p1.3.m3.1.1.3.cmml" xref="S5.SS1.p1.3.m3.1.1.3">𝑌</ci><apply id="S5.SS1.p1.3.m3.1.1.1.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1"><eq id="S5.SS1.p1.3.m3.1.1.1.1.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.1"></eq><ci id="S5.SS1.p1.3.m3.1.1.1.1.1.2.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.2">𝑇</ci><apply id="S5.SS1.p1.3.m3.1.1.1.1.1.3.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.3.m3.1.1.1.1.1.3.1.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3">subscript</csymbol><ci id="S5.SS1.p1.3.m3.1.1.1.1.1.3.2.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3.2">𝑇</ci><ci id="S5.SS1.p1.3.m3.1.1.1.1.1.3.3.cmml" xref="S5.SS1.p1.3.m3.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.3.m3.1c">Y(T=T_{i})</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p1.3.m3.1d">italic_Y ( italic_T = italic_T start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT )</annotation></semantics></math>.
The treatment effect can be quantitatively defined as follow.</p>
</div>
<div class="ltx_theorem ltx_theorem_definition" id="S5.Thmtheorem1">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Definition 5.1 (Binary Average Treatment Effect(ATE)).</h6>
<div class="ltx_para" id="S5.Thmtheorem1.p1">
<p class="ltx_p" id="S5.Thmtheorem1.p1.1">Suppose we want to measure the treatment effect of a treatment <math alttext="T=1" class="ltx_Math" display="inline" id="S5.Thmtheorem1.p1.1.m1.1"><semantics id="S5.Thmtheorem1.p1.1.m1.1a"><mrow id="S5.Thmtheorem1.p1.1.m1.1.1" xref="S5.Thmtheorem1.p1.1.m1.1.1.cmml"><mi id="S5.Thmtheorem1.p1.1.m1.1.1.2" xref="S5.Thmtheorem1.p1.1.m1.1.1.2.cmml">T</mi><mo id="S5.Thmtheorem1.p1.1.m1.1.1.1" xref="S5.Thmtheorem1.p1.1.m1.1.1.1.cmml">=</mo><mn id="S5.Thmtheorem1.p1.1.m1.1.1.3" xref="S5.Thmtheorem1.p1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S5.Thmtheorem1.p1.1.m1.1b"><apply id="S5.Thmtheorem1.p1.1.m1.1.1.cmml" xref="S5.Thmtheorem1.p1.1.m1.1.1"><eq id="S5.Thmtheorem1.p1.1.m1.1.1.1.cmml" xref="S5.Thmtheorem1.p1.1.m1.1.1.1"></eq><ci id="S5.Thmtheorem1.p1.1.m1.1.1.2.cmml" xref="S5.Thmtheorem1.p1.1.m1.1.1.2">𝑇</ci><cn id="S5.Thmtheorem1.p1.1.m1.1.1.3.cmml" type="integer" xref="S5.Thmtheorem1.p1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Thmtheorem1.p1.1.m1.1c">T=1</annotation><annotation encoding="application/x-llamapun" id="S5.Thmtheorem1.p1.1.m1.1d">italic_T = 1</annotation></semantics></math>. Then the average treatment effect is defined as:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E11">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(11)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{E}[Y(T=1)-Y(T=0)]" class="ltx_Math" display="block" id="S5.E11.m1.1"><semantics id="S5.E11.m1.1a"><mrow id="S5.E11.m1.1.1" xref="S5.E11.m1.1.1.cmml"><mi id="S5.E11.m1.1.1.3" xref="S5.E11.m1.1.1.3.cmml">𝔼</mi><mo id="S5.E11.m1.1.1.2" xref="S5.E11.m1.1.1.2.cmml">⁢</mo><mrow id="S5.E11.m1.1.1.1.1" xref="S5.E11.m1.1.1.1.2.cmml"><mo id="S5.E11.m1.1.1.1.1.2" stretchy="false" xref="S5.E11.m1.1.1.1.2.1.cmml">[</mo><mrow id="S5.E11.m1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.cmml"><mrow id="S5.E11.m1.1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.1.cmml"><mi id="S5.E11.m1.1.1.1.1.1.1.3" xref="S5.E11.m1.1.1.1.1.1.1.3.cmml">Y</mi><mo id="S5.E11.m1.1.1.1.1.1.1.2" xref="S5.E11.m1.1.1.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E11.m1.1.1.1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.cmml"><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.2" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E11.m1.1.1.1.1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E11.m1.1.1.1.1.1.1.1.1.1.2" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.2.cmml">T</mi><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.cmml">=</mo><mn id="S5.E11.m1.1.1.1.1.1.1.1.1.1.3" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S5.E11.m1.1.1.1.1.1.1.1.1.3" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E11.m1.1.1.1.1.1.3" xref="S5.E11.m1.1.1.1.1.1.3.cmml">−</mo><mrow id="S5.E11.m1.1.1.1.1.1.2" xref="S5.E11.m1.1.1.1.1.1.2.cmml"><mi id="S5.E11.m1.1.1.1.1.1.2.3" xref="S5.E11.m1.1.1.1.1.1.2.3.cmml">Y</mi><mo id="S5.E11.m1.1.1.1.1.1.2.2" xref="S5.E11.m1.1.1.1.1.1.2.2.cmml">⁢</mo><mrow id="S5.E11.m1.1.1.1.1.1.2.1.1" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.cmml"><mo id="S5.E11.m1.1.1.1.1.1.2.1.1.2" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.cmml">(</mo><mrow id="S5.E11.m1.1.1.1.1.1.2.1.1.1" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.cmml"><mi id="S5.E11.m1.1.1.1.1.1.2.1.1.1.2" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.2.cmml">T</mi><mo id="S5.E11.m1.1.1.1.1.1.2.1.1.1.1" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.1.cmml">=</mo><mn id="S5.E11.m1.1.1.1.1.1.2.1.1.1.3" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.3.cmml">0</mn></mrow><mo id="S5.E11.m1.1.1.1.1.1.2.1.1.3" stretchy="false" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S5.E11.m1.1.1.1.1.3" stretchy="false" xref="S5.E11.m1.1.1.1.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E11.m1.1b"><apply id="S5.E11.m1.1.1.cmml" xref="S5.E11.m1.1.1"><times id="S5.E11.m1.1.1.2.cmml" xref="S5.E11.m1.1.1.2"></times><ci id="S5.E11.m1.1.1.3.cmml" xref="S5.E11.m1.1.1.3">𝔼</ci><apply id="S5.E11.m1.1.1.1.2.cmml" xref="S5.E11.m1.1.1.1.1"><csymbol cd="latexml" id="S5.E11.m1.1.1.1.2.1.cmml" xref="S5.E11.m1.1.1.1.1.2">delimited-[]</csymbol><apply id="S5.E11.m1.1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1"><minus id="S5.E11.m1.1.1.1.1.1.3.cmml" xref="S5.E11.m1.1.1.1.1.1.3"></minus><apply id="S5.E11.m1.1.1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1.1"><times id="S5.E11.m1.1.1.1.1.1.1.2.cmml" xref="S5.E11.m1.1.1.1.1.1.1.2"></times><ci id="S5.E11.m1.1.1.1.1.1.1.3.cmml" xref="S5.E11.m1.1.1.1.1.1.1.3">𝑌</ci><apply id="S5.E11.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1"><eq id="S5.E11.m1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.1"></eq><ci id="S5.E11.m1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.2">𝑇</ci><cn id="S5.E11.m1.1.1.1.1.1.1.1.1.1.3.cmml" type="integer" xref="S5.E11.m1.1.1.1.1.1.1.1.1.1.3">1</cn></apply></apply><apply id="S5.E11.m1.1.1.1.1.1.2.cmml" xref="S5.E11.m1.1.1.1.1.1.2"><times id="S5.E11.m1.1.1.1.1.1.2.2.cmml" xref="S5.E11.m1.1.1.1.1.1.2.2"></times><ci id="S5.E11.m1.1.1.1.1.1.2.3.cmml" xref="S5.E11.m1.1.1.1.1.1.2.3">𝑌</ci><apply id="S5.E11.m1.1.1.1.1.1.2.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1.2.1.1"><eq id="S5.E11.m1.1.1.1.1.1.2.1.1.1.1.cmml" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.1"></eq><ci id="S5.E11.m1.1.1.1.1.1.2.1.1.1.2.cmml" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.2">𝑇</ci><cn id="S5.E11.m1.1.1.1.1.1.2.1.1.1.3.cmml" type="integer" xref="S5.E11.m1.1.1.1.1.1.2.1.1.1.3">0</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E11.m1.1c">\mathbb{E}[Y(T=1)-Y(T=0)]</annotation><annotation encoding="application/x-llamapun" id="S5.E11.m1.1d">blackboard_E [ italic_Y ( italic_T = 1 ) - italic_Y ( italic_T = 0 ) ]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.Thmtheorem1.p1.3">where <math alttext="Y(T=1)" class="ltx_Math" display="inline" id="S5.Thmtheorem1.p1.2.m1.1"><semantics id="S5.Thmtheorem1.p1.2.m1.1a"><mrow id="S5.Thmtheorem1.p1.2.m1.1.1" xref="S5.Thmtheorem1.p1.2.m1.1.1.cmml"><mi id="S5.Thmtheorem1.p1.2.m1.1.1.3" xref="S5.Thmtheorem1.p1.2.m1.1.1.3.cmml">Y</mi><mo id="S5.Thmtheorem1.p1.2.m1.1.1.2" xref="S5.Thmtheorem1.p1.2.m1.1.1.2.cmml">⁢</mo><mrow id="S5.Thmtheorem1.p1.2.m1.1.1.1.1" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.cmml"><mo id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.2" stretchy="false" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.cmml">(</mo><mrow id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.cmml"><mi id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.2" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.2.cmml">T</mi><mo id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.1" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.1.cmml">=</mo><mn id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.3" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.3.cmml">1</mn></mrow><mo id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.3" stretchy="false" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.Thmtheorem1.p1.2.m1.1b"><apply id="S5.Thmtheorem1.p1.2.m1.1.1.cmml" xref="S5.Thmtheorem1.p1.2.m1.1.1"><times id="S5.Thmtheorem1.p1.2.m1.1.1.2.cmml" xref="S5.Thmtheorem1.p1.2.m1.1.1.2"></times><ci id="S5.Thmtheorem1.p1.2.m1.1.1.3.cmml" xref="S5.Thmtheorem1.p1.2.m1.1.1.3">𝑌</ci><apply id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.cmml" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1"><eq id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.1.cmml" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.1"></eq><ci id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.2.cmml" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.2">𝑇</ci><cn id="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.3.cmml" type="integer" xref="S5.Thmtheorem1.p1.2.m1.1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Thmtheorem1.p1.2.m1.1c">Y(T=1)</annotation><annotation encoding="application/x-llamapun" id="S5.Thmtheorem1.p1.2.m1.1d">italic_Y ( italic_T = 1 )</annotation></semantics></math> and <math alttext="Y(T=0)" class="ltx_Math" display="inline" id="S5.Thmtheorem1.p1.3.m2.1"><semantics id="S5.Thmtheorem1.p1.3.m2.1a"><mrow id="S5.Thmtheorem1.p1.3.m2.1.1" xref="S5.Thmtheorem1.p1.3.m2.1.1.cmml"><mi id="S5.Thmtheorem1.p1.3.m2.1.1.3" xref="S5.Thmtheorem1.p1.3.m2.1.1.3.cmml">Y</mi><mo id="S5.Thmtheorem1.p1.3.m2.1.1.2" xref="S5.Thmtheorem1.p1.3.m2.1.1.2.cmml">⁢</mo><mrow id="S5.Thmtheorem1.p1.3.m2.1.1.1.1" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.cmml"><mo id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.2" stretchy="false" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.cmml">(</mo><mrow id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.cmml"><mi id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.2" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.2.cmml">T</mi><mo id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.1" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.1.cmml">=</mo><mn id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.3" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.3.cmml">0</mn></mrow><mo id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.3" stretchy="false" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.Thmtheorem1.p1.3.m2.1b"><apply id="S5.Thmtheorem1.p1.3.m2.1.1.cmml" xref="S5.Thmtheorem1.p1.3.m2.1.1"><times id="S5.Thmtheorem1.p1.3.m2.1.1.2.cmml" xref="S5.Thmtheorem1.p1.3.m2.1.1.2"></times><ci id="S5.Thmtheorem1.p1.3.m2.1.1.3.cmml" xref="S5.Thmtheorem1.p1.3.m2.1.1.3">𝑌</ci><apply id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.cmml" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1"><eq id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.1.cmml" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.1"></eq><ci id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.2.cmml" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.2">𝑇</ci><cn id="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.3.cmml" type="integer" xref="S5.Thmtheorem1.p1.3.m2.1.1.1.1.1.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.Thmtheorem1.p1.3.m2.1c">Y(T=0)</annotation><annotation encoding="application/x-llamapun" id="S5.Thmtheorem1.p1.3.m2.1d">italic_Y ( italic_T = 0 )</annotation></semantics></math> denote the potential treated and control outcome of the whole population respectively.</p>
</div>
</div>
<div class="ltx_para" id="S5.SS1.p2">
<p class="ltx_p" id="S5.SS1.p2.1">In the recommendation scenario, we extend <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S5.E11" title="In Definition 5.1 (Binary Average Treatment Effect(ATE)). ‣ 5.1. Treatment effect in recommendation ‣ 5. Estimate System’s Influence Through Treatment Effect ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Equation</span> <span class="ltx_text ltx_ref_tag">11</span></a> to the difference between the user’s decision with and without the recommendation.</p>
</div>
<div class="ltx_theorem ltx_theorem_definition" id="S5.Thmtheorem2">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Definition 5.2 (Treatment Effect in Recommendation).</h6>
<div class="ltx_para" id="S5.Thmtheorem2.p1">
<table class="ltx_equation ltx_eqn_table" id="S5.E12">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(12)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{TER}_{t}\vcentcolon=\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),%
P_{t})-\mathbb{P}(D_{t}|S_{t},S_{t-1},...,S_{1},P_{t})." class="ltx_Math" display="block" id="S5.E12.m1.3"><semantics id="S5.E12.m1.3a"><mrow id="S5.E12.m1.3.3.1" xref="S5.E12.m1.3.3.1.1.cmml"><mrow id="S5.E12.m1.3.3.1.1" xref="S5.E12.m1.3.3.1.1.cmml"><msub id="S5.E12.m1.3.3.1.1.4" xref="S5.E12.m1.3.3.1.1.4.cmml"><mtext id="S5.E12.m1.3.3.1.1.4.2" xref="S5.E12.m1.3.3.1.1.4.2a.cmml">TER</mtext><mi id="S5.E12.m1.3.3.1.1.4.3" xref="S5.E12.m1.3.3.1.1.4.3.cmml">t</mi></msub><mo id="S5.E12.m1.3.3.1.1.3" lspace="0.278em" rspace="0.278em" xref="S5.E12.m1.3.3.1.1.3.cmml">:=</mo><mrow id="S5.E12.m1.3.3.1.1.2" xref="S5.E12.m1.3.3.1.1.2.cmml"><mrow id="S5.E12.m1.3.3.1.1.1.1" xref="S5.E12.m1.3.3.1.1.1.1.cmml"><mi id="S5.E12.m1.3.3.1.1.1.1.3" xref="S5.E12.m1.3.3.1.1.1.1.3.cmml">ℙ</mi><mo id="S5.E12.m1.3.3.1.1.1.1.2" xref="S5.E12.m1.3.3.1.1.1.1.2.cmml">⁢</mo><mrow id="S5.E12.m1.3.3.1.1.1.1.1.1" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.cmml"><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.2" stretchy="false" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.E12.m1.3.3.1.1.1.1.1.1.1" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.cmml"><msub id="S5.E12.m1.3.3.1.1.1.1.1.1.1.4" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.cmml"><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.2.cmml">D</mi><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.3.cmml">t</mi></msub><mo fence="false" id="S5.E12.m1.3.3.1.1.1.1.1.1.1.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.3.cmml">|</mo><mrow id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.3.cmml"><mrow id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml"><mtext id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.5" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.5a.cmml">do</mtext><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.4" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.4.cmml">⁢</mo><mrow id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.4.cmml"><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msub id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.5" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mrow id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.6" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S5.E12.m1.1.1" mathvariant="normal" xref="S5.E12.m1.1.1.cmml">…</mi><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.7" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">S</mi><mn id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">1</mn></msub><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.8" stretchy="false" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.2" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.2.cmml">P</mi><mi id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.3" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S5.E12.m1.3.3.1.1.1.1.1.1.3" stretchy="false" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S5.E12.m1.3.3.1.1.2.3" xref="S5.E12.m1.3.3.1.1.2.3.cmml">−</mo><mrow id="S5.E12.m1.3.3.1.1.2.2" xref="S5.E12.m1.3.3.1.1.2.2.cmml"><mi id="S5.E12.m1.3.3.1.1.2.2.3" xref="S5.E12.m1.3.3.1.1.2.2.3.cmml">ℙ</mi><mo id="S5.E12.m1.3.3.1.1.2.2.2" xref="S5.E12.m1.3.3.1.1.2.2.2.cmml">⁢</mo><mrow id="S5.E12.m1.3.3.1.1.2.2.1.1" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.cmml"><mo id="S5.E12.m1.3.3.1.1.2.2.1.1.2" stretchy="false" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.cmml">(</mo><mrow id="S5.E12.m1.3.3.1.1.2.2.1.1.1" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.cmml"><msub id="S5.E12.m1.3.3.1.1.2.2.1.1.1.6" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.cmml"><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.2" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.2.cmml">D</mi><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.3" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.3.cmml">t</mi></msub><mo fence="false" id="S5.E12.m1.3.3.1.1.2.2.1.1.1.5" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.5.cmml">|</mo><mrow id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.5.cmml"><msub id="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.cmml"><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.2" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.2.cmml">S</mi><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.5" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.5.cmml">,</mo><msub id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.cmml"><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.2" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.2.cmml">S</mi><mrow id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.cmml"><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.2" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.1" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.3" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.6" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.5.cmml">,</mo><mi id="S5.E12.m1.2.2" mathvariant="normal" xref="S5.E12.m1.2.2.cmml">…</mi><mo id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.7" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.5.cmml">,</mo><msub id="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.cmml"><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.2" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.2.cmml">S</mi><mn id="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.3" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.3.cmml">1</mn></msub><mo id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.8" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.5.cmml">,</mo><msub id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.cmml"><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.2" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.2.cmml">P</mi><mi id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.3" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.3.cmml">t</mi></msub></mrow></mrow><mo id="S5.E12.m1.3.3.1.1.2.2.1.1.3" stretchy="false" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S5.E12.m1.3.3.1.2" lspace="0em" xref="S5.E12.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.E12.m1.3b"><apply id="S5.E12.m1.3.3.1.1.cmml" xref="S5.E12.m1.3.3.1"><csymbol cd="latexml" id="S5.E12.m1.3.3.1.1.3.cmml" xref="S5.E12.m1.3.3.1.1.3">assign</csymbol><apply id="S5.E12.m1.3.3.1.1.4.cmml" xref="S5.E12.m1.3.3.1.1.4"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.4.1.cmml" xref="S5.E12.m1.3.3.1.1.4">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.4.2a.cmml" xref="S5.E12.m1.3.3.1.1.4.2"><mtext id="S5.E12.m1.3.3.1.1.4.2.cmml" xref="S5.E12.m1.3.3.1.1.4.2">TER</mtext></ci><ci id="S5.E12.m1.3.3.1.1.4.3.cmml" xref="S5.E12.m1.3.3.1.1.4.3">𝑡</ci></apply><apply id="S5.E12.m1.3.3.1.1.2.cmml" xref="S5.E12.m1.3.3.1.1.2"><minus id="S5.E12.m1.3.3.1.1.2.3.cmml" xref="S5.E12.m1.3.3.1.1.2.3"></minus><apply id="S5.E12.m1.3.3.1.1.1.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1"><times id="S5.E12.m1.3.3.1.1.1.1.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.2"></times><ci id="S5.E12.m1.3.3.1.1.1.1.3.cmml" xref="S5.E12.m1.3.3.1.1.1.1.3">ℙ</ci><apply id="S5.E12.m1.3.3.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1"><csymbol cd="latexml" id="S5.E12.m1.3.3.1.1.1.1.1.1.1.3.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.3">conditional</csymbol><apply id="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.2">𝐷</ci><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.3.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.4.3">𝑡</ci></apply><list id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.3.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2"><apply id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1"><times id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.4.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.4"></times><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.5a.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.5"><mtext id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.5.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.5">do</mtext></ci><vector id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3"><apply id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.2">𝑆</ci><apply id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3"><minus id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S5.E12.m1.1.1.cmml" xref="S5.E12.m1.1.1">…</ci><apply id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.2">𝑆</ci><cn id="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" type="integer" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.1.1.1.3.3.3.3">1</cn></apply></vector></apply><apply id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.2">𝑃</ci><ci id="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S5.E12.m1.3.3.1.1.1.1.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply><apply id="S5.E12.m1.3.3.1.1.2.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2"><times id="S5.E12.m1.3.3.1.1.2.2.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2.2"></times><ci id="S5.E12.m1.3.3.1.1.2.2.3.cmml" xref="S5.E12.m1.3.3.1.1.2.2.3">ℙ</ci><apply id="S5.E12.m1.3.3.1.1.2.2.1.1.1.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1"><csymbol cd="latexml" id="S5.E12.m1.3.3.1.1.2.2.1.1.1.5.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.5">conditional</csymbol><apply id="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.6"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.1.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.6">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.2">𝐷</ci><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.3.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.6.3">𝑡</ci></apply><list id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.5.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4"><apply id="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.2">𝑆</ci><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.1.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.2">𝑆</ci><apply id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3"><minus id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.1.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.1"></minus><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S5.E12.m1.2.2.cmml" xref="S5.E12.m1.2.2">…</ci><apply id="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.1.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.2">𝑆</ci><cn id="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.3.cmml" type="integer" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.3.3.3.3">1</cn></apply><apply id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4"><csymbol cd="ambiguous" id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.1.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4">subscript</csymbol><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.2.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.2">𝑃</ci><ci id="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.3.cmml" xref="S5.E12.m1.3.3.1.1.2.2.1.1.1.4.4.4.3">𝑡</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E12.m1.3c">\text{TER}_{t}\vcentcolon=\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),%
P_{t})-\mathbb{P}(D_{t}|S_{t},S_{t-1},...,S_{1},P_{t}).</annotation><annotation encoding="application/x-llamapun" id="S5.E12.m1.3d">TER start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT := blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) - blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_para" id="S5.SS1.p3">
<p class="ltx_p" id="S5.SS1.p3.4">Here <math alttext="S_{t}" class="ltx_Math" display="inline" id="S5.SS1.p3.1.m1.1"><semantics id="S5.SS1.p3.1.m1.1a"><msub id="S5.SS1.p3.1.m1.1.1" xref="S5.SS1.p3.1.m1.1.1.cmml"><mi id="S5.SS1.p3.1.m1.1.1.2" xref="S5.SS1.p3.1.m1.1.1.2.cmml">S</mi><mi id="S5.SS1.p3.1.m1.1.1.3" xref="S5.SS1.p3.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.1.m1.1b"><apply id="S5.SS1.p3.1.m1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.1.m1.1.1.1.cmml" xref="S5.SS1.p3.1.m1.1.1">subscript</csymbol><ci id="S5.SS1.p3.1.m1.1.1.2.cmml" xref="S5.SS1.p3.1.m1.1.1.2">𝑆</ci><ci id="S5.SS1.p3.1.m1.1.1.3.cmml" xref="S5.SS1.p3.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.1.m1.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.1.m1.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> represents the item exposed to users at timestamp <math alttext="t" class="ltx_Math" display="inline" id="S5.SS1.p3.2.m2.1"><semantics id="S5.SS1.p3.2.m2.1a"><mi id="S5.SS1.p3.2.m2.1.1" xref="S5.SS1.p3.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.2.m2.1b"><ci id="S5.SS1.p3.2.m2.1.1.cmml" xref="S5.SS1.p3.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.2.m2.1c">t</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.2.m2.1d">italic_t</annotation></semantics></math>. In the observational setting (<math alttext="\mathbb{P}(D_{t}|S_{t},S_{t-1},...,S_{1},P_{t})" class="ltx_Math" display="inline" id="S5.SS1.p3.3.m3.2"><semantics id="S5.SS1.p3.3.m3.2a"><mrow id="S5.SS1.p3.3.m3.2.2" xref="S5.SS1.p3.3.m3.2.2.cmml"><mi id="S5.SS1.p3.3.m3.2.2.3" xref="S5.SS1.p3.3.m3.2.2.3.cmml">ℙ</mi><mo id="S5.SS1.p3.3.m3.2.2.2" xref="S5.SS1.p3.3.m3.2.2.2.cmml">⁢</mo><mrow id="S5.SS1.p3.3.m3.2.2.1.1" xref="S5.SS1.p3.3.m3.2.2.1.1.1.cmml"><mo id="S5.SS1.p3.3.m3.2.2.1.1.2" stretchy="false" xref="S5.SS1.p3.3.m3.2.2.1.1.1.cmml">(</mo><mrow id="S5.SS1.p3.3.m3.2.2.1.1.1" xref="S5.SS1.p3.3.m3.2.2.1.1.1.cmml"><msub id="S5.SS1.p3.3.m3.2.2.1.1.1.6" xref="S5.SS1.p3.3.m3.2.2.1.1.1.6.cmml"><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.6.2" xref="S5.SS1.p3.3.m3.2.2.1.1.1.6.2.cmml">D</mi><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.6.3" xref="S5.SS1.p3.3.m3.2.2.1.1.1.6.3.cmml">t</mi></msub><mo fence="false" id="S5.SS1.p3.3.m3.2.2.1.1.1.5" xref="S5.SS1.p3.3.m3.2.2.1.1.1.5.cmml">|</mo><mrow id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.5.cmml"><msub id="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1" xref="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.cmml"><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.2" xref="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.2.cmml">S</mi><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.3" xref="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.5" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.5.cmml">,</mo><msub id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.cmml"><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.2" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.2.cmml">S</mi><mrow id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.cmml"><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.2" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.1" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.3" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.6" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.5.cmml">,</mo><mi id="S5.SS1.p3.3.m3.1.1" mathvariant="normal" xref="S5.SS1.p3.3.m3.1.1.cmml">…</mi><mo id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.7" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.5.cmml">,</mo><msub id="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3" xref="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.cmml"><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.2" xref="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.2.cmml">S</mi><mn id="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.3" xref="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.3.cmml">1</mn></msub><mo id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.8" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.5.cmml">,</mo><msub id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.cmml"><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.2" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.2.cmml">P</mi><mi id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.3" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.3.cmml">t</mi></msub></mrow></mrow><mo id="S5.SS1.p3.3.m3.2.2.1.1.3" stretchy="false" xref="S5.SS1.p3.3.m3.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.3.m3.2b"><apply id="S5.SS1.p3.3.m3.2.2.cmml" xref="S5.SS1.p3.3.m3.2.2"><times id="S5.SS1.p3.3.m3.2.2.2.cmml" xref="S5.SS1.p3.3.m3.2.2.2"></times><ci id="S5.SS1.p3.3.m3.2.2.3.cmml" xref="S5.SS1.p3.3.m3.2.2.3">ℙ</ci><apply id="S5.SS1.p3.3.m3.2.2.1.1.1.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1"><csymbol cd="latexml" id="S5.SS1.p3.3.m3.2.2.1.1.1.5.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.5">conditional</csymbol><apply id="S5.SS1.p3.3.m3.2.2.1.1.1.6.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.6"><csymbol cd="ambiguous" id="S5.SS1.p3.3.m3.2.2.1.1.1.6.1.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.6">subscript</csymbol><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.6.2.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.6.2">𝐷</ci><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.6.3.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.6.3">𝑡</ci></apply><list id="S5.SS1.p3.3.m3.2.2.1.1.1.4.5.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.4"><apply id="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.2.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.2">𝑆</ci><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.3.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.1.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.2.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.2">𝑆</ci><apply id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3"><minus id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.1.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.1"></minus><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.2.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S5.SS1.p3.3.m3.2.2.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S5.SS1.p3.3.m3.1.1.cmml" xref="S5.SS1.p3.3.m3.1.1">…</ci><apply id="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.1.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3">subscript</csymbol><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.2.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.2">𝑆</ci><cn id="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.3.cmml" type="integer" xref="S5.SS1.p3.3.m3.2.2.1.1.1.3.3.3.3">1</cn></apply><apply id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4"><csymbol cd="ambiguous" id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.1.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4">subscript</csymbol><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.2.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.2">𝑃</ci><ci id="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.3.cmml" xref="S5.SS1.p3.3.m3.2.2.1.1.1.4.4.4.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.3.m3.2c">\mathbb{P}(D_{t}|S_{t},S_{t-1},...,S_{1},P_{t})</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.3.m3.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>) the exposure is controlled by users or randomized, while in the interventional settings (<math alttext="\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})" class="ltx_Math" display="inline" id="S5.SS1.p3.4.m4.2"><semantics id="S5.SS1.p3.4.m4.2a"><mrow id="S5.SS1.p3.4.m4.2.2" xref="S5.SS1.p3.4.m4.2.2.cmml"><mi id="S5.SS1.p3.4.m4.2.2.3" xref="S5.SS1.p3.4.m4.2.2.3.cmml">ℙ</mi><mo id="S5.SS1.p3.4.m4.2.2.2" xref="S5.SS1.p3.4.m4.2.2.2.cmml">⁢</mo><mrow id="S5.SS1.p3.4.m4.2.2.1.1" xref="S5.SS1.p3.4.m4.2.2.1.1.1.cmml"><mo id="S5.SS1.p3.4.m4.2.2.1.1.2" stretchy="false" xref="S5.SS1.p3.4.m4.2.2.1.1.1.cmml">(</mo><mrow id="S5.SS1.p3.4.m4.2.2.1.1.1" xref="S5.SS1.p3.4.m4.2.2.1.1.1.cmml"><msub id="S5.SS1.p3.4.m4.2.2.1.1.1.4" xref="S5.SS1.p3.4.m4.2.2.1.1.1.4.cmml"><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.4.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.4.2.cmml">D</mi><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.4.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.4.3.cmml">t</mi></msub><mo fence="false" id="S5.SS1.p3.4.m4.2.2.1.1.1.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.3.cmml">|</mo><mrow id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.3.cmml"><mrow id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.cmml"><mtext id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.5" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.5a.cmml">do</mtext><mo id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.4" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.4.cmml">⁢</mo><mrow id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.4.cmml"><mo id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.4" stretchy="false" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.4.cmml">(</mo><msub id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.5" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mrow id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.1" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.6" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="S5.SS1.p3.4.m4.1.1" mathvariant="normal" xref="S5.SS1.p3.4.m4.1.1.cmml">…</mi><mo id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.7" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.cmml"><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.2.cmml">S</mi><mn id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.3.cmml">1</mn></msub><mo id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.8" stretchy="false" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.3.cmml">,</mo><msub id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.cmml"><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.2" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.2.cmml">P</mi><mi id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.3" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S5.SS1.p3.4.m4.2.2.1.1.3" stretchy="false" xref="S5.SS1.p3.4.m4.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p3.4.m4.2b"><apply id="S5.SS1.p3.4.m4.2.2.cmml" xref="S5.SS1.p3.4.m4.2.2"><times id="S5.SS1.p3.4.m4.2.2.2.cmml" xref="S5.SS1.p3.4.m4.2.2.2"></times><ci id="S5.SS1.p3.4.m4.2.2.3.cmml" xref="S5.SS1.p3.4.m4.2.2.3">ℙ</ci><apply id="S5.SS1.p3.4.m4.2.2.1.1.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1"><csymbol cd="latexml" id="S5.SS1.p3.4.m4.2.2.1.1.1.3.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.3">conditional</csymbol><apply id="S5.SS1.p3.4.m4.2.2.1.1.1.4.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S5.SS1.p3.4.m4.2.2.1.1.1.4.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.4">subscript</csymbol><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.4.2.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.4.2">𝐷</ci><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.4.3.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.4.3">𝑡</ci></apply><list id="S5.SS1.p3.4.m4.2.2.1.1.1.2.3.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.2"><apply id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1"><times id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.4.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.4"></times><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.5a.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.5"><mtext id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.5.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.5">do</mtext></ci><vector id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.4.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3"><apply id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.2">𝑆</ci><apply id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3"><minus id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="S5.SS1.p3.4.m4.1.1.cmml" xref="S5.SS1.p3.4.m4.1.1">…</ci><apply id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.2.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.2">𝑆</ci><cn id="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.3.cmml" type="integer" xref="S5.SS1.p3.4.m4.2.2.1.1.1.1.1.1.3.3.3.3">1</cn></apply></vector></apply><apply id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.1.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.2.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.2">𝑃</ci><ci id="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.3.cmml" xref="S5.SS1.p3.4.m4.2.2.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p3.4.m4.2c">\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p3.4.m4.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>), it is controlled by the recommender system.</p>
</div>
<div class="ltx_para" id="S5.SS1.p4">
<p class="ltx_p" id="S5.SS1.p4.4">We compute the first term using our proposed model CSRec and the second term using any commonly used recommender systems:</p>
<table class="ltx_equation ltx_eqn_table" id="S5.E13">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(13)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{TER}_{t}(V)=f_{t}(V,X_{\text{intv}};\theta)-\tilde{f}(V,X_{\text{obs}};\eta)" class="ltx_Math" display="block" id="S5.E13.m1.7"><semantics id="S5.E13.m1.7a"><mrow id="S5.E13.m1.7.7" xref="S5.E13.m1.7.7.cmml"><mrow id="S5.E13.m1.7.7.4" xref="S5.E13.m1.7.7.4.cmml"><msub id="S5.E13.m1.7.7.4.2" xref="S5.E13.m1.7.7.4.2.cmml"><mtext id="S5.E13.m1.7.7.4.2.2" xref="S5.E13.m1.7.7.4.2.2a.cmml">TER</mtext><mi id="S5.E13.m1.7.7.4.2.3" xref="S5.E13.m1.7.7.4.2.3.cmml">t</mi></msub><mo id="S5.E13.m1.7.7.4.1" xref="S5.E13.m1.7.7.4.1.cmml">⁢</mo><mrow id="S5.E13.m1.7.7.4.3.2" xref="S5.E13.m1.7.7.4.cmml"><mo id="S5.E13.m1.7.7.4.3.2.1" stretchy="false" xref="S5.E13.m1.7.7.4.cmml">(</mo><mi id="S5.E13.m1.1.1" xref="S5.E13.m1.1.1.cmml">V</mi><mo id="S5.E13.m1.7.7.4.3.2.2" stretchy="false" xref="S5.E13.m1.7.7.4.cmml">)</mo></mrow></mrow><mo id="S5.E13.m1.7.7.3" xref="S5.E13.m1.7.7.3.cmml">=</mo><mrow id="S5.E13.m1.7.7.2" xref="S5.E13.m1.7.7.2.cmml"><mrow id="S5.E13.m1.6.6.1.1" xref="S5.E13.m1.6.6.1.1.cmml"><msub id="S5.E13.m1.6.6.1.1.3" xref="S5.E13.m1.6.6.1.1.3.cmml"><mi id="S5.E13.m1.6.6.1.1.3.2" xref="S5.E13.m1.6.6.1.1.3.2.cmml">f</mi><mi id="S5.E13.m1.6.6.1.1.3.3" xref="S5.E13.m1.6.6.1.1.3.3.cmml">t</mi></msub><mo id="S5.E13.m1.6.6.1.1.2" xref="S5.E13.m1.6.6.1.1.2.cmml">⁢</mo><mrow id="S5.E13.m1.6.6.1.1.1.1" xref="S5.E13.m1.6.6.1.1.1.2.cmml"><mo id="S5.E13.m1.6.6.1.1.1.1.2" stretchy="false" xref="S5.E13.m1.6.6.1.1.1.2.cmml">(</mo><mi id="S5.E13.m1.2.2" xref="S5.E13.m1.2.2.cmml">V</mi><mo id="S5.E13.m1.6.6.1.1.1.1.3" xref="S5.E13.m1.6.6.1.1.1.2.cmml">,</mo><msub id="S5.E13.m1.6.6.1.1.1.1.1" xref="S5.E13.m1.6.6.1.1.1.1.1.cmml"><mi id="S5.E13.m1.6.6.1.1.1.1.1.2" xref="S5.E13.m1.6.6.1.1.1.1.1.2.cmml">X</mi><mtext id="S5.E13.m1.6.6.1.1.1.1.1.3" xref="S5.E13.m1.6.6.1.1.1.1.1.3a.cmml">intv</mtext></msub><mo id="S5.E13.m1.6.6.1.1.1.1.4" xref="S5.E13.m1.6.6.1.1.1.2.cmml">;</mo><mi id="S5.E13.m1.3.3" xref="S5.E13.m1.3.3.cmml">θ</mi><mo id="S5.E13.m1.6.6.1.1.1.1.5" stretchy="false" xref="S5.E13.m1.6.6.1.1.1.2.cmml">)</mo></mrow></mrow><mo id="S5.E13.m1.7.7.2.3" xref="S5.E13.m1.7.7.2.3.cmml">−</mo><mrow id="S5.E13.m1.7.7.2.2" xref="S5.E13.m1.7.7.2.2.cmml"><mover accent="true" id="S5.E13.m1.7.7.2.2.3" xref="S5.E13.m1.7.7.2.2.3.cmml"><mi id="S5.E13.m1.7.7.2.2.3.2" xref="S5.E13.m1.7.7.2.2.3.2.cmml">f</mi><mo id="S5.E13.m1.7.7.2.2.3.1" xref="S5.E13.m1.7.7.2.2.3.1.cmml">~</mo></mover><mo id="S5.E13.m1.7.7.2.2.2" xref="S5.E13.m1.7.7.2.2.2.cmml">⁢</mo><mrow id="S5.E13.m1.7.7.2.2.1.1" xref="S5.E13.m1.7.7.2.2.1.2.cmml"><mo id="S5.E13.m1.7.7.2.2.1.1.2" stretchy="false" xref="S5.E13.m1.7.7.2.2.1.2.cmml">(</mo><mi id="S5.E13.m1.4.4" xref="S5.E13.m1.4.4.cmml">V</mi><mo id="S5.E13.m1.7.7.2.2.1.1.3" xref="S5.E13.m1.7.7.2.2.1.2.cmml">,</mo><msub id="S5.E13.m1.7.7.2.2.1.1.1" xref="S5.E13.m1.7.7.2.2.1.1.1.cmml"><mi id="S5.E13.m1.7.7.2.2.1.1.1.2" xref="S5.E13.m1.7.7.2.2.1.1.1.2.cmml">X</mi><mtext id="S5.E13.m1.7.7.2.2.1.1.1.3" xref="S5.E13.m1.7.7.2.2.1.1.1.3a.cmml">obs</mtext></msub><mo id="S5.E13.m1.7.7.2.2.1.1.4" xref="S5.E13.m1.7.7.2.2.1.2.cmml">;</mo><mi id="S5.E13.m1.5.5" xref="S5.E13.m1.5.5.cmml">η</mi><mo id="S5.E13.m1.7.7.2.2.1.1.5" stretchy="false" xref="S5.E13.m1.7.7.2.2.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.E13.m1.7b"><apply id="S5.E13.m1.7.7.cmml" xref="S5.E13.m1.7.7"><eq id="S5.E13.m1.7.7.3.cmml" xref="S5.E13.m1.7.7.3"></eq><apply id="S5.E13.m1.7.7.4.cmml" xref="S5.E13.m1.7.7.4"><times id="S5.E13.m1.7.7.4.1.cmml" xref="S5.E13.m1.7.7.4.1"></times><apply id="S5.E13.m1.7.7.4.2.cmml" xref="S5.E13.m1.7.7.4.2"><csymbol cd="ambiguous" id="S5.E13.m1.7.7.4.2.1.cmml" xref="S5.E13.m1.7.7.4.2">subscript</csymbol><ci id="S5.E13.m1.7.7.4.2.2a.cmml" xref="S5.E13.m1.7.7.4.2.2"><mtext id="S5.E13.m1.7.7.4.2.2.cmml" xref="S5.E13.m1.7.7.4.2.2">TER</mtext></ci><ci id="S5.E13.m1.7.7.4.2.3.cmml" xref="S5.E13.m1.7.7.4.2.3">𝑡</ci></apply><ci id="S5.E13.m1.1.1.cmml" xref="S5.E13.m1.1.1">𝑉</ci></apply><apply id="S5.E13.m1.7.7.2.cmml" xref="S5.E13.m1.7.7.2"><minus id="S5.E13.m1.7.7.2.3.cmml" xref="S5.E13.m1.7.7.2.3"></minus><apply id="S5.E13.m1.6.6.1.1.cmml" xref="S5.E13.m1.6.6.1.1"><times id="S5.E13.m1.6.6.1.1.2.cmml" xref="S5.E13.m1.6.6.1.1.2"></times><apply id="S5.E13.m1.6.6.1.1.3.cmml" xref="S5.E13.m1.6.6.1.1.3"><csymbol cd="ambiguous" id="S5.E13.m1.6.6.1.1.3.1.cmml" xref="S5.E13.m1.6.6.1.1.3">subscript</csymbol><ci id="S5.E13.m1.6.6.1.1.3.2.cmml" xref="S5.E13.m1.6.6.1.1.3.2">𝑓</ci><ci id="S5.E13.m1.6.6.1.1.3.3.cmml" xref="S5.E13.m1.6.6.1.1.3.3">𝑡</ci></apply><vector id="S5.E13.m1.6.6.1.1.1.2.cmml" xref="S5.E13.m1.6.6.1.1.1.1"><ci id="S5.E13.m1.2.2.cmml" xref="S5.E13.m1.2.2">𝑉</ci><apply id="S5.E13.m1.6.6.1.1.1.1.1.cmml" xref="S5.E13.m1.6.6.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.E13.m1.6.6.1.1.1.1.1.1.cmml" xref="S5.E13.m1.6.6.1.1.1.1.1">subscript</csymbol><ci id="S5.E13.m1.6.6.1.1.1.1.1.2.cmml" xref="S5.E13.m1.6.6.1.1.1.1.1.2">𝑋</ci><ci id="S5.E13.m1.6.6.1.1.1.1.1.3a.cmml" xref="S5.E13.m1.6.6.1.1.1.1.1.3"><mtext id="S5.E13.m1.6.6.1.1.1.1.1.3.cmml" mathsize="70%" xref="S5.E13.m1.6.6.1.1.1.1.1.3">intv</mtext></ci></apply><ci id="S5.E13.m1.3.3.cmml" xref="S5.E13.m1.3.3">𝜃</ci></vector></apply><apply id="S5.E13.m1.7.7.2.2.cmml" xref="S5.E13.m1.7.7.2.2"><times id="S5.E13.m1.7.7.2.2.2.cmml" xref="S5.E13.m1.7.7.2.2.2"></times><apply id="S5.E13.m1.7.7.2.2.3.cmml" xref="S5.E13.m1.7.7.2.2.3"><ci id="S5.E13.m1.7.7.2.2.3.1.cmml" xref="S5.E13.m1.7.7.2.2.3.1">~</ci><ci id="S5.E13.m1.7.7.2.2.3.2.cmml" xref="S5.E13.m1.7.7.2.2.3.2">𝑓</ci></apply><vector id="S5.E13.m1.7.7.2.2.1.2.cmml" xref="S5.E13.m1.7.7.2.2.1.1"><ci id="S5.E13.m1.4.4.cmml" xref="S5.E13.m1.4.4">𝑉</ci><apply id="S5.E13.m1.7.7.2.2.1.1.1.cmml" xref="S5.E13.m1.7.7.2.2.1.1.1"><csymbol cd="ambiguous" id="S5.E13.m1.7.7.2.2.1.1.1.1.cmml" xref="S5.E13.m1.7.7.2.2.1.1.1">subscript</csymbol><ci id="S5.E13.m1.7.7.2.2.1.1.1.2.cmml" xref="S5.E13.m1.7.7.2.2.1.1.1.2">𝑋</ci><ci id="S5.E13.m1.7.7.2.2.1.1.1.3a.cmml" xref="S5.E13.m1.7.7.2.2.1.1.1.3"><mtext id="S5.E13.m1.7.7.2.2.1.1.1.3.cmml" mathsize="70%" xref="S5.E13.m1.7.7.2.2.1.1.1.3">obs</mtext></ci></apply><ci id="S5.E13.m1.5.5.cmml" xref="S5.E13.m1.5.5">𝜂</ci></vector></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.E13.m1.7c">\text{TER}_{t}(V)=f_{t}(V,X_{\text{intv}};\theta)-\tilde{f}(V,X_{\text{obs}};\eta)</annotation><annotation encoding="application/x-llamapun" id="S5.E13.m1.7d">TER start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_V ) = italic_f start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ( italic_V , italic_X start_POSTSUBSCRIPT intv end_POSTSUBSCRIPT ; italic_θ ) - over~ start_ARG italic_f end_ARG ( italic_V , italic_X start_POSTSUBSCRIPT obs end_POSTSUBSCRIPT ; italic_η )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S5.SS1.p4.3">where <math alttext="V" class="ltx_Math" display="inline" id="S5.SS1.p4.1.m1.1"><semantics id="S5.SS1.p4.1.m1.1a"><mi id="S5.SS1.p4.1.m1.1.1" xref="S5.SS1.p4.1.m1.1.1.cmml">V</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.1.m1.1b"><ci id="S5.SS1.p4.1.m1.1.1.cmml" xref="S5.SS1.p4.1.m1.1.1">𝑉</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.1.m1.1c">V</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.1.m1.1d">italic_V</annotation></semantics></math> denotes the set of all items, <math alttext="X_{\text{intv}}" class="ltx_Math" display="inline" id="S5.SS1.p4.2.m2.1"><semantics id="S5.SS1.p4.2.m2.1a"><msub id="S5.SS1.p4.2.m2.1.1" xref="S5.SS1.p4.2.m2.1.1.cmml"><mi id="S5.SS1.p4.2.m2.1.1.2" xref="S5.SS1.p4.2.m2.1.1.2.cmml">X</mi><mtext id="S5.SS1.p4.2.m2.1.1.3" xref="S5.SS1.p4.2.m2.1.1.3a.cmml">intv</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.2.m2.1b"><apply id="S5.SS1.p4.2.m2.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.2.m2.1.1.1.cmml" xref="S5.SS1.p4.2.m2.1.1">subscript</csymbol><ci id="S5.SS1.p4.2.m2.1.1.2.cmml" xref="S5.SS1.p4.2.m2.1.1.2">𝑋</ci><ci id="S5.SS1.p4.2.m2.1.1.3a.cmml" xref="S5.SS1.p4.2.m2.1.1.3"><mtext id="S5.SS1.p4.2.m2.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p4.2.m2.1.1.3">intv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.2.m2.1c">X_{\text{intv}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.2.m2.1d">italic_X start_POSTSUBSCRIPT intv end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="X_{\text{obs}}" class="ltx_Math" display="inline" id="S5.SS1.p4.3.m3.1"><semantics id="S5.SS1.p4.3.m3.1a"><msub id="S5.SS1.p4.3.m3.1.1" xref="S5.SS1.p4.3.m3.1.1.cmml"><mi id="S5.SS1.p4.3.m3.1.1.2" xref="S5.SS1.p4.3.m3.1.1.2.cmml">X</mi><mtext id="S5.SS1.p4.3.m3.1.1.3" xref="S5.SS1.p4.3.m3.1.1.3a.cmml">obs</mtext></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p4.3.m3.1b"><apply id="S5.SS1.p4.3.m3.1.1.cmml" xref="S5.SS1.p4.3.m3.1.1"><csymbol cd="ambiguous" id="S5.SS1.p4.3.m3.1.1.1.cmml" xref="S5.SS1.p4.3.m3.1.1">subscript</csymbol><ci id="S5.SS1.p4.3.m3.1.1.2.cmml" xref="S5.SS1.p4.3.m3.1.1.2">𝑋</ci><ci id="S5.SS1.p4.3.m3.1.1.3a.cmml" xref="S5.SS1.p4.3.m3.1.1.3"><mtext id="S5.SS1.p4.3.m3.1.1.3.cmml" mathsize="70%" xref="S5.SS1.p4.3.m3.1.1.3">obs</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p4.3.m3.1c">X_{\text{obs}}</annotation><annotation encoding="application/x-llamapun" id="S5.SS1.p4.3.m3.1d">italic_X start_POSTSUBSCRIPT obs end_POSTSUBSCRIPT</annotation></semantics></math> represent interventional data and observational data respectively.</p>
</div>
<div class="ltx_para" id="S5.SS1.p5">
<p class="ltx_p" id="S5.SS1.p5.1">We then demonstrate two cases where the quantified system’s influence on users effectively broadens the perspective of building a recommendation system.</p>
</div>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px1">
<h5 class="ltx_title ltx_title_paragraph">Evaluating Recommender System</h5>
<div class="ltx_para" id="S5.SS1.SSS0.Px1.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px1.p1.1">Quantifying the system’s influence in a causal perspective could provide more insight into the effectiveness of the recommender system. It allows for understanding how recommendations change and shape users’ decisions over time, beyond the single accuracy metrics. Moreover, by inspecting the treatment effect over different users (heterogeneous treatment effect), we can probe the mechanism of the recommender system and increase the interpretability.</p>
</div>
</section>
<section class="ltx_paragraph" id="S5.SS1.SSS0.Px2">
<h5 class="ltx_title ltx_title_paragraph">Exploration and Exploitation</h5>
<div class="ltx_para" id="S5.SS1.SSS0.Px2.p1">
<p class="ltx_p" id="S5.SS1.SSS0.Px2.p1.1">The quantified system’s influence on each timestamp could also contribute to building a balanced recommender system between exploration and exploitation. The system could more precisely identify which time to give the suggestions based on the existing knowledge (exploitation) and when to test the new items (exploration). This dynamic strategy accommodates the overall user experience and allows the discovery of new content.</p>
</div>
</section>
</section>
</section>
<section class="ltx_section" id="S6">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6. </span>Experiment</h2>
<figure class="ltx_table" id="S6.T1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S6.T1.26.8.1" style="font-size:90%;">Table 1</span>. </span><span class="ltx_text" id="S6.T1.14.7" style="font-size:90%;">Recommendation performance comparison of different models on GPT4-books dataset. <math alttext="X_{\text{obs}}" class="ltx_Math" display="inline" id="S6.T1.8.1.m1.1"><semantics id="S6.T1.8.1.m1.1b"><msub id="S6.T1.8.1.m1.1.1" xref="S6.T1.8.1.m1.1.1.cmml"><mi id="S6.T1.8.1.m1.1.1.2" xref="S6.T1.8.1.m1.1.1.2.cmml">X</mi><mtext id="S6.T1.8.1.m1.1.1.3" xref="S6.T1.8.1.m1.1.1.3a.cmml">obs</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T1.8.1.m1.1c"><apply id="S6.T1.8.1.m1.1.1.cmml" xref="S6.T1.8.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T1.8.1.m1.1.1.1.cmml" xref="S6.T1.8.1.m1.1.1">subscript</csymbol><ci id="S6.T1.8.1.m1.1.1.2.cmml" xref="S6.T1.8.1.m1.1.1.2">𝑋</ci><ci id="S6.T1.8.1.m1.1.1.3a.cmml" xref="S6.T1.8.1.m1.1.1.3"><mtext id="S6.T1.8.1.m1.1.1.3.cmml" mathsize="70%" xref="S6.T1.8.1.m1.1.1.3">obs</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.8.1.m1.1d">X_{\text{obs}}</annotation><annotation encoding="application/x-llamapun" id="S6.T1.8.1.m1.1e">italic_X start_POSTSUBSCRIPT obs end_POSTSUBSCRIPT</annotation></semantics></math> denotes the observational data and evaluated using HR@<math alttext="k" class="ltx_Math" display="inline" id="S6.T1.9.2.m2.1"><semantics id="S6.T1.9.2.m2.1b"><mi id="S6.T1.9.2.m2.1.1" xref="S6.T1.9.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S6.T1.9.2.m2.1c"><ci id="S6.T1.9.2.m2.1.1.cmml" xref="S6.T1.9.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.9.2.m2.1d">k</annotation><annotation encoding="application/x-llamapun" id="S6.T1.9.2.m2.1e">italic_k</annotation></semantics></math> and NDCG@<math alttext="k" class="ltx_Math" display="inline" id="S6.T1.10.3.m3.1"><semantics id="S6.T1.10.3.m3.1b"><mi id="S6.T1.10.3.m3.1.1" xref="S6.T1.10.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S6.T1.10.3.m3.1c"><ci id="S6.T1.10.3.m3.1.1.cmml" xref="S6.T1.10.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.10.3.m3.1d">k</annotation><annotation encoding="application/x-llamapun" id="S6.T1.10.3.m3.1e">italic_k</annotation></semantics></math> for <math alttext="k=5,10,20" class="ltx_Math" display="inline" id="S6.T1.11.4.m4.3"><semantics id="S6.T1.11.4.m4.3b"><mrow id="S6.T1.11.4.m4.3.4" xref="S6.T1.11.4.m4.3.4.cmml"><mi id="S6.T1.11.4.m4.3.4.2" xref="S6.T1.11.4.m4.3.4.2.cmml">k</mi><mo id="S6.T1.11.4.m4.3.4.1" xref="S6.T1.11.4.m4.3.4.1.cmml">=</mo><mrow id="S6.T1.11.4.m4.3.4.3.2" xref="S6.T1.11.4.m4.3.4.3.1.cmml"><mn id="S6.T1.11.4.m4.1.1" xref="S6.T1.11.4.m4.1.1.cmml">5</mn><mo id="S6.T1.11.4.m4.3.4.3.2.1" xref="S6.T1.11.4.m4.3.4.3.1.cmml">,</mo><mn id="S6.T1.11.4.m4.2.2" xref="S6.T1.11.4.m4.2.2.cmml">10</mn><mo id="S6.T1.11.4.m4.3.4.3.2.2" xref="S6.T1.11.4.m4.3.4.3.1.cmml">,</mo><mn id="S6.T1.11.4.m4.3.3" xref="S6.T1.11.4.m4.3.3.cmml">20</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.11.4.m4.3c"><apply id="S6.T1.11.4.m4.3.4.cmml" xref="S6.T1.11.4.m4.3.4"><eq id="S6.T1.11.4.m4.3.4.1.cmml" xref="S6.T1.11.4.m4.3.4.1"></eq><ci id="S6.T1.11.4.m4.3.4.2.cmml" xref="S6.T1.11.4.m4.3.4.2">𝑘</ci><list id="S6.T1.11.4.m4.3.4.3.1.cmml" xref="S6.T1.11.4.m4.3.4.3.2"><cn id="S6.T1.11.4.m4.1.1.cmml" type="integer" xref="S6.T1.11.4.m4.1.1">5</cn><cn id="S6.T1.11.4.m4.2.2.cmml" type="integer" xref="S6.T1.11.4.m4.2.2">10</cn><cn id="S6.T1.11.4.m4.3.3.cmml" type="integer" xref="S6.T1.11.4.m4.3.3">20</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.11.4.m4.3d">k=5,10,20</annotation><annotation encoding="application/x-llamapun" id="S6.T1.11.4.m4.3e">italic_k = 5 , 10 , 20</annotation></semantics></math>. <math alttext="X_{\text{intv}}" class="ltx_Math" display="inline" id="S6.T1.12.5.m5.1"><semantics id="S6.T1.12.5.m5.1b"><msub id="S6.T1.12.5.m5.1.1" xref="S6.T1.12.5.m5.1.1.cmml"><mi id="S6.T1.12.5.m5.1.1.2" xref="S6.T1.12.5.m5.1.1.2.cmml">X</mi><mtext id="S6.T1.12.5.m5.1.1.3" xref="S6.T1.12.5.m5.1.1.3a.cmml">intv</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T1.12.5.m5.1c"><apply id="S6.T1.12.5.m5.1.1.cmml" xref="S6.T1.12.5.m5.1.1"><csymbol cd="ambiguous" id="S6.T1.12.5.m5.1.1.1.cmml" xref="S6.T1.12.5.m5.1.1">subscript</csymbol><ci id="S6.T1.12.5.m5.1.1.2.cmml" xref="S6.T1.12.5.m5.1.1.2">𝑋</ci><ci id="S6.T1.12.5.m5.1.1.3a.cmml" xref="S6.T1.12.5.m5.1.1.3"><mtext id="S6.T1.12.5.m5.1.1.3.cmml" mathsize="70%" xref="S6.T1.12.5.m5.1.1.3">intv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.12.5.m5.1d">X_{\text{intv}}</annotation><annotation encoding="application/x-llamapun" id="S6.T1.12.5.m5.1e">italic_X start_POSTSUBSCRIPT intv end_POSTSUBSCRIPT</annotation></semantics></math> denotes the interventional data and evaluated using AHR@<math alttext="\alpha" class="ltx_Math" display="inline" id="S6.T1.13.6.m6.1"><semantics id="S6.T1.13.6.m6.1b"><mi id="S6.T1.13.6.m6.1.1" xref="S6.T1.13.6.m6.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S6.T1.13.6.m6.1c"><ci id="S6.T1.13.6.m6.1.1.cmml" xref="S6.T1.13.6.m6.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.13.6.m6.1d">\alpha</annotation><annotation encoding="application/x-llamapun" id="S6.T1.13.6.m6.1e">italic_α</annotation></semantics></math> for <math alttext="\alpha=0.2,0.5" class="ltx_Math" display="inline" id="S6.T1.14.7.m7.2"><semantics id="S6.T1.14.7.m7.2b"><mrow id="S6.T1.14.7.m7.2.3" xref="S6.T1.14.7.m7.2.3.cmml"><mi id="S6.T1.14.7.m7.2.3.2" xref="S6.T1.14.7.m7.2.3.2.cmml">α</mi><mo id="S6.T1.14.7.m7.2.3.1" xref="S6.T1.14.7.m7.2.3.1.cmml">=</mo><mrow id="S6.T1.14.7.m7.2.3.3.2" xref="S6.T1.14.7.m7.2.3.3.1.cmml"><mn id="S6.T1.14.7.m7.1.1" xref="S6.T1.14.7.m7.1.1.cmml">0.2</mn><mo id="S6.T1.14.7.m7.2.3.3.2.1" xref="S6.T1.14.7.m7.2.3.3.1.cmml">,</mo><mn id="S6.T1.14.7.m7.2.2" xref="S6.T1.14.7.m7.2.2.cmml">0.5</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.T1.14.7.m7.2c"><apply id="S6.T1.14.7.m7.2.3.cmml" xref="S6.T1.14.7.m7.2.3"><eq id="S6.T1.14.7.m7.2.3.1.cmml" xref="S6.T1.14.7.m7.2.3.1"></eq><ci id="S6.T1.14.7.m7.2.3.2.cmml" xref="S6.T1.14.7.m7.2.3.2">𝛼</ci><list id="S6.T1.14.7.m7.2.3.3.1.cmml" xref="S6.T1.14.7.m7.2.3.3.2"><cn id="S6.T1.14.7.m7.1.1.cmml" type="float" xref="S6.T1.14.7.m7.1.1">0.2</cn><cn id="S6.T1.14.7.m7.2.2.cmml" type="float" xref="S6.T1.14.7.m7.2.2">0.5</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.14.7.m7.2d">\alpha=0.2,0.5</annotation><annotation encoding="application/x-llamapun" id="S6.T1.14.7.m7.2e">italic_α = 0.2 , 0.5</annotation></semantics></math>.
Boldface denotes the highest score among all models.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T1.24.10">
<tr class="ltx_tr" id="S6.T1.24.10.11">
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T1.24.10.11.1">Data Type</td>
<td class="ltx_td ltx_align_left ltx_border_tt" id="S6.T1.24.10.11.2">Metric</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T1.24.10.11.3">GRU4Rec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T1.24.10.11.4">Caser</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T1.24.10.11.5">SASRec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T1.24.10.11.6">BERT4Rec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T1.24.10.11.7">FMLPRec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T1.24.10.11.8">BSARec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T1.24.10.11.9">CSRec</td>
</tr>
<tr class="ltx_tr" id="S6.T1.16.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T1.15.1.1.1" rowspan="6"><span class="ltx_text" id="S6.T1.15.1.1.1.1"><math alttext="X_{\text{obs}}" class="ltx_Math" display="inline" id="S6.T1.15.1.1.1.1.m1.1"><semantics id="S6.T1.15.1.1.1.1.m1.1a"><msub id="S6.T1.15.1.1.1.1.m1.1.1" xref="S6.T1.15.1.1.1.1.m1.1.1.cmml"><mi id="S6.T1.15.1.1.1.1.m1.1.1.2" xref="S6.T1.15.1.1.1.1.m1.1.1.2.cmml">X</mi><mtext id="S6.T1.15.1.1.1.1.m1.1.1.3" xref="S6.T1.15.1.1.1.1.m1.1.1.3a.cmml">obs</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T1.15.1.1.1.1.m1.1b"><apply id="S6.T1.15.1.1.1.1.m1.1.1.cmml" xref="S6.T1.15.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T1.15.1.1.1.1.m1.1.1.1.cmml" xref="S6.T1.15.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S6.T1.15.1.1.1.1.m1.1.1.2.cmml" xref="S6.T1.15.1.1.1.1.m1.1.1.2">𝑋</ci><ci id="S6.T1.15.1.1.1.1.m1.1.1.3a.cmml" xref="S6.T1.15.1.1.1.1.m1.1.1.3"><mtext id="S6.T1.15.1.1.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S6.T1.15.1.1.1.1.m1.1.1.3">obs</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.15.1.1.1.1.m1.1c">X_{\text{obs}}</annotation><annotation encoding="application/x-llamapun" id="S6.T1.15.1.1.1.1.m1.1d">italic_X start_POSTSUBSCRIPT obs end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T1.16.2.2.2">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T1.16.2.2.2.m1.1"><semantics id="S6.T1.16.2.2.2.m1.1a"><mo id="S6.T1.16.2.2.2.m1.1.1" stretchy="false" xref="S6.T1.16.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T1.16.2.2.2.m1.1b"><ci id="S6.T1.16.2.2.2.m1.1.1.cmml" xref="S6.T1.16.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.16.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T1.16.2.2.2.m1.1d">↑</annotation></semantics></math> HR@5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.16.2.2.3">0.0492</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.16.2.2.4">0.0489</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.16.2.2.5"><span class="ltx_text ltx_font_bold" id="S6.T1.16.2.2.5.1">0.0533</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.16.2.2.6">0.0528</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.16.2.2.7">0.0496</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.16.2.2.8">0.0524</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.16.2.2.9">0.0513</td>
</tr>
<tr class="ltx_tr" id="S6.T1.17.3.3">
<td class="ltx_td ltx_align_left" id="S6.T1.17.3.3.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T1.17.3.3.1.m1.1"><semantics id="S6.T1.17.3.3.1.m1.1a"><mo id="S6.T1.17.3.3.1.m1.1.1" stretchy="false" xref="S6.T1.17.3.3.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T1.17.3.3.1.m1.1b"><ci id="S6.T1.17.3.3.1.m1.1.1.cmml" xref="S6.T1.17.3.3.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.17.3.3.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T1.17.3.3.1.m1.1d">↑</annotation></semantics></math> HR@10</td>
<td class="ltx_td ltx_align_center" id="S6.T1.17.3.3.2">0.1018</td>
<td class="ltx_td ltx_align_center" id="S6.T1.17.3.3.3">0.1001</td>
<td class="ltx_td ltx_align_center" id="S6.T1.17.3.3.4"><span class="ltx_text ltx_font_bold" id="S6.T1.17.3.3.4.1">0.1057</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.17.3.3.5">0.1055</td>
<td class="ltx_td ltx_align_center" id="S6.T1.17.3.3.6">0.1019</td>
<td class="ltx_td ltx_align_center" id="S6.T1.17.3.3.7">0.1035</td>
<td class="ltx_td ltx_align_center" id="S6.T1.17.3.3.8">0.1035</td>
</tr>
<tr class="ltx_tr" id="S6.T1.18.4.4">
<td class="ltx_td ltx_align_left" id="S6.T1.18.4.4.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T1.18.4.4.1.m1.1"><semantics id="S6.T1.18.4.4.1.m1.1a"><mo id="S6.T1.18.4.4.1.m1.1.1" stretchy="false" xref="S6.T1.18.4.4.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T1.18.4.4.1.m1.1b"><ci id="S6.T1.18.4.4.1.m1.1.1.cmml" xref="S6.T1.18.4.4.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.18.4.4.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T1.18.4.4.1.m1.1d">↑</annotation></semantics></math> HR@20</td>
<td class="ltx_td ltx_align_center" id="S6.T1.18.4.4.2">0.1988</td>
<td class="ltx_td ltx_align_center" id="S6.T1.18.4.4.3">0.2014</td>
<td class="ltx_td ltx_align_center" id="S6.T1.18.4.4.4">0.2017</td>
<td class="ltx_td ltx_align_center" id="S6.T1.18.4.4.5">0.2011</td>
<td class="ltx_td ltx_align_center" id="S6.T1.18.4.4.6">0.2008</td>
<td class="ltx_td ltx_align_center" id="S6.T1.18.4.4.7"><span class="ltx_text ltx_font_bold" id="S6.T1.18.4.4.7.1">0.2062</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.18.4.4.8">0.2070</td>
</tr>
<tr class="ltx_tr" id="S6.T1.19.5.5">
<td class="ltx_td ltx_align_left" id="S6.T1.19.5.5.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T1.19.5.5.1.m1.1"><semantics id="S6.T1.19.5.5.1.m1.1a"><mo id="S6.T1.19.5.5.1.m1.1.1" stretchy="false" xref="S6.T1.19.5.5.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T1.19.5.5.1.m1.1b"><ci id="S6.T1.19.5.5.1.m1.1.1.cmml" xref="S6.T1.19.5.5.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.19.5.5.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T1.19.5.5.1.m1.1d">↑</annotation></semantics></math> NDCG@5</td>
<td class="ltx_td ltx_align_center" id="S6.T1.19.5.5.2">0.0292</td>
<td class="ltx_td ltx_align_center" id="S6.T1.19.5.5.3">0.0285</td>
<td class="ltx_td ltx_align_center" id="S6.T1.19.5.5.4">0.0313</td>
<td class="ltx_td ltx_align_center" id="S6.T1.19.5.5.5"><span class="ltx_text ltx_font_bold" id="S6.T1.19.5.5.5.1">0.0320</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.19.5.5.6">0.0297</td>
<td class="ltx_td ltx_align_center" id="S6.T1.19.5.5.7">0.0316</td>
<td class="ltx_td ltx_align_center" id="S6.T1.19.5.5.8">0.0297</td>
</tr>
<tr class="ltx_tr" id="S6.T1.20.6.6">
<td class="ltx_td ltx_align_left" id="S6.T1.20.6.6.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T1.20.6.6.1.m1.1"><semantics id="S6.T1.20.6.6.1.m1.1a"><mo id="S6.T1.20.6.6.1.m1.1.1" stretchy="false" xref="S6.T1.20.6.6.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T1.20.6.6.1.m1.1b"><ci id="S6.T1.20.6.6.1.m1.1.1.cmml" xref="S6.T1.20.6.6.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.20.6.6.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T1.20.6.6.1.m1.1d">↑</annotation></semantics></math> NDCG@10</td>
<td class="ltx_td ltx_align_center" id="S6.T1.20.6.6.2">0.0460</td>
<td class="ltx_td ltx_align_center" id="S6.T1.20.6.6.3">0.0448</td>
<td class="ltx_td ltx_align_center" id="S6.T1.20.6.6.4">0.0480</td>
<td class="ltx_td ltx_align_center" id="S6.T1.20.6.6.5"><span class="ltx_text ltx_font_bold" id="S6.T1.20.6.6.5.1">0.0488</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.20.6.6.6">0.0460</td>
<td class="ltx_td ltx_align_center" id="S6.T1.20.6.6.7">0.0479</td>
<td class="ltx_td ltx_align_center" id="S6.T1.20.6.6.8">0.0463</td>
</tr>
<tr class="ltx_tr" id="S6.T1.21.7.7">
<td class="ltx_td ltx_align_left" id="S6.T1.21.7.7.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T1.21.7.7.1.m1.1"><semantics id="S6.T1.21.7.7.1.m1.1a"><mo id="S6.T1.21.7.7.1.m1.1.1" stretchy="false" xref="S6.T1.21.7.7.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T1.21.7.7.1.m1.1b"><ci id="S6.T1.21.7.7.1.m1.1.1.cmml" xref="S6.T1.21.7.7.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.21.7.7.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T1.21.7.7.1.m1.1d">↑</annotation></semantics></math> NDCG@20</td>
<td class="ltx_td ltx_align_center" id="S6.T1.21.7.7.2">0.0701</td>
<td class="ltx_td ltx_align_center" id="S6.T1.21.7.7.3">0.0701</td>
<td class="ltx_td ltx_align_center" id="S6.T1.21.7.7.4">0.0720</td>
<td class="ltx_td ltx_align_center" id="S6.T1.21.7.7.5">0.0726</td>
<td class="ltx_td ltx_align_center" id="S6.T1.21.7.7.6">0.0707</td>
<td class="ltx_td ltx_align_center" id="S6.T1.21.7.7.7"><span class="ltx_text ltx_font_bold" id="S6.T1.21.7.7.7.1">0.0736</span></td>
<td class="ltx_td ltx_align_center" id="S6.T1.21.7.7.8">0.0721</td>
</tr>
<tr class="ltx_tr" id="S6.T1.23.9.9">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S6.T1.22.8.8.1" rowspan="2"><span class="ltx_text" id="S6.T1.22.8.8.1.1"><math alttext="X_{\text{intv}}" class="ltx_Math" display="inline" id="S6.T1.22.8.8.1.1.m1.1"><semantics id="S6.T1.22.8.8.1.1.m1.1a"><msub id="S6.T1.22.8.8.1.1.m1.1.1" xref="S6.T1.22.8.8.1.1.m1.1.1.cmml"><mi id="S6.T1.22.8.8.1.1.m1.1.1.2" xref="S6.T1.22.8.8.1.1.m1.1.1.2.cmml">X</mi><mtext id="S6.T1.22.8.8.1.1.m1.1.1.3" xref="S6.T1.22.8.8.1.1.m1.1.1.3a.cmml">intv</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T1.22.8.8.1.1.m1.1b"><apply id="S6.T1.22.8.8.1.1.m1.1.1.cmml" xref="S6.T1.22.8.8.1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T1.22.8.8.1.1.m1.1.1.1.cmml" xref="S6.T1.22.8.8.1.1.m1.1.1">subscript</csymbol><ci id="S6.T1.22.8.8.1.1.m1.1.1.2.cmml" xref="S6.T1.22.8.8.1.1.m1.1.1.2">𝑋</ci><ci id="S6.T1.22.8.8.1.1.m1.1.1.3a.cmml" xref="S6.T1.22.8.8.1.1.m1.1.1.3"><mtext id="S6.T1.22.8.8.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S6.T1.22.8.8.1.1.m1.1.1.3">intv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.22.8.8.1.1.m1.1c">X_{\text{intv}}</annotation><annotation encoding="application/x-llamapun" id="S6.T1.22.8.8.1.1.m1.1d">italic_X start_POSTSUBSCRIPT intv end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T1.23.9.9.2">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T1.23.9.9.2.m1.1"><semantics id="S6.T1.23.9.9.2.m1.1a"><mo id="S6.T1.23.9.9.2.m1.1.1" stretchy="false" xref="S6.T1.23.9.9.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T1.23.9.9.2.m1.1b"><ci id="S6.T1.23.9.9.2.m1.1.1.cmml" xref="S6.T1.23.9.9.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.23.9.9.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T1.23.9.9.2.m1.1d">↑</annotation></semantics></math> AHR@0.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.23.9.9.3">0.2431</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.23.9.9.4">0.2431</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.23.9.9.5">0.2438</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.23.9.9.6">0.2430</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.23.9.9.7">0.2435</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.23.9.9.8">0.2405</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T1.23.9.9.9"><span class="ltx_text ltx_font_bold" id="S6.T1.23.9.9.9.1">0.932</span></td>
</tr>
<tr class="ltx_tr" id="S6.T1.24.10.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T1.24.10.10.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T1.24.10.10.1.m1.1"><semantics id="S6.T1.24.10.10.1.m1.1a"><mo id="S6.T1.24.10.10.1.m1.1.1" stretchy="false" xref="S6.T1.24.10.10.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T1.24.10.10.1.m1.1b"><ci id="S6.T1.24.10.10.1.m1.1.1.cmml" xref="S6.T1.24.10.10.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T1.24.10.10.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T1.24.10.10.1.m1.1d">↑</annotation></semantics></math> AHR@0.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.24.10.10.2">0.4967</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.24.10.10.3">0.4942</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.24.10.10.4">0.4981</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.24.10.10.5">0.5068</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.24.10.10.6">0.5006</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.24.10.10.7">0.5037</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T1.24.10.10.8"><span class="ltx_text ltx_font_bold" id="S6.T1.24.10.10.8.1">0.932</span></td>
</tr>
</table>
</figure>
<div class="ltx_para" id="S6.p1">
<p class="ltx_p" id="S6.p1.1">In this section, we incorporate CSRec into various sota baselines <cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib12" title="">2016</a>; Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib31" title="">2018</a>; Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib14" title="">2018a</a>; Shin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib29" title="">2024b</a>; Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib30" title="">2019</a>; Chang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib3" title="">2019</a>)</cite> and compare the performance on both synthetic and real-world datasets.</p>
</div>
<div class="ltx_para" id="S6.p2">
<p class="ltx_p" id="S6.p2.1">We aim to answer the following research questions:</p>
</div>
<div class="ltx_para ltx_indent" id="S6.p3">
<p class="ltx_p" id="S6.p3.1"><span class="ltx_text ltx_font_bold" id="S6.p3.1.1">RQ1.</span> How does the proposed method perform on interventional data compared to baseline sequential recommendation (SR) models?
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S6.p3.1.2">RQ2.</span> Would the proposed method degrade performance on observational data?
<br class="ltx_break"/><span class="ltx_text ltx_font_bold" id="S6.p3.1.3">RQ3.</span> How does the proposed scheme perform when integrating with different existing recommendation systems?</p>
</div>
<div class="ltx_para" id="S6.p4">
<p class="ltx_p" id="S6.p4.1">In the following section, we will describe the experimental settings and answer the above research questions.</p>
</div>
<section class="ltx_subsection" id="S6.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1. </span>Basic setup</h3>
<section class="ltx_subsubsection" id="S6.SS1.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">6.1.1. </span>Datasets</h4>
<div class="ltx_para" id="S6.SS1.SSS1.p1">
<p class="ltx_p" id="S6.SS1.SSS1.p1.1">we evaluate CSRec on two datasets: a real-world Spotify Sequential Music dataset<cite class="ltx_cite ltx_citemacro_citep">(Brost et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib2" title="">2019</a>)</cite>, and a synthetic book dataset, GPT4-books where the generation details can be found in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3" title="Appendix C Experimental Details ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Appendix</span> <span class="ltx_text ltx_ref_tag">C</span></a>. MSSD was first introduced at the WSDM Cup 2019 Spotify Sequential Skip Prediction Challenge <cite class="ltx_cite ltx_citemacro_citep">(Brost et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib2" title="">2019</a>)</cite>. The dataset contains approximately 160 million listening sessions, associated user actions, and 3.7 million tracks with acoustic features. The task is to predict whether a particular user will skip individual tracks encountered in a listening session. We use sessions sampled from personalized recommendations and user’s own collections.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS1.p2">
<p class="ltx_p" id="S6.SS1.SSS1.p2.1">Given the limited access to interventional data, where the recommender system fully controls the exposure, we also created a synthetic dataset using GPT-4 as agents to mimic users’ reactions to certain recommendations. We use the Amazon book dataset<cite class="ltx_cite ltx_citemacro_citep">(Ni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib24" title="">2019</a>)</cite> as a list of potential items to recommend. Then, we prepare 10000 users, each with preferences across 10 genres. Detailed information can be found in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3.SS2" title="C.2. GPT4-books ‣ Appendix C Experimental Details ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Section</span> <span class="ltx_text ltx_ref_tag">C.2</span></a>.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS1.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">6.1.2. </span>Baselines and tasks</h4>
<div class="ltx_para" id="S6.SS1.SSS2.p1">
<p class="ltx_p" id="S6.SS1.SSS2.p1.1">We compare CSRec with various sota baselines with different backbones: (1) RNN or CNN-based sequential models: GRU4Rec <cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib12" title="">2016</a>)</cite> and Caser <cite class="ltx_cite ltx_citemacro_citep">(Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib31" title="">2018</a>)</cite> and (2) transformer-based sequential recommender systems: SASRec <cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib14" title="">2018a</a>)</cite>, BERT4Rec <cite class="ltx_cite ltx_citemacro_citep">(Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib30" title="">2019</a>)</cite>, FMLPRec <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib38" title="">2022</a>)</cite>, and BSARec <cite class="ltx_cite ltx_citemacro_citep">(Shin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib28" title="">2024a</a>)</cite>.
We further show the performance of the proposed methods when integrated with existing recommendation models on synthetic data GPT4-books. Specifically, we integrate CSRec with SASRec, BERT4Rec, FMLPRec and BSARec.
In our large-scale experiment on MSSD, in addition to the aforementioned baselines, we also include a performance comparison before and after incorporating CSRec into the WSDM Cup 2019 winning model, Few-Shot <cite class="ltx_cite ltx_citemacro_citep">(Chang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib3" title="">2019</a>)</cite>, as it has specialized optimization towards MSSD.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS1.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">6.1.3. </span>Evaluation metrics</h4>
<div class="ltx_para" id="S6.SS1.SSS3.p1">
<p class="ltx_p" id="S6.SS1.SSS3.p1.1">We evaluate CSRec and the baselines models on both observational data where exposure to items does not come from recommendations and the interventional data where recommender system controls the exposure.
On the observational data, we compare their performance in the task of forecasting the user’s subsequent action from prior actions.
While on the interventional data, we estimate the user’s decision regarding a recommendation. Given the difference in the objective that our model and other recommender system aim to achieve, necessary adaptation is required and we provide the detailed procedure as follows.</p>
</div>
<div class="ltx_para ltx_noindent" id="S6.SS1.SSS3.p2">
<p class="ltx_p" id="S6.SS1.SSS3.p2.1"><span class="ltx_text ltx_font_bold" id="S6.SS1.SSS3.p2.1.1">Observational data.</span>
On observational data, we compare CSRec and SR baselines via widely used Top-k metrics, HR@k (Hit Rate) and NDCG@k (Normalized Discounted Cumulative Gain) where k is set to 5, 10, and 20 <cite class="ltx_cite ltx_citemacro_citep">(Krichene and Rendle, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib17" title="">2022</a>)</cite>. HR@k measures whether the ground-truth item is in the top-k positions of the recommendation list. NDCG on the other hand, takes the rank into considerations that it assigns higher scores to higher positions in the recommendation list.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS3.p3">
<p class="ltx_p" id="S6.SS1.SSS3.p3.1">We would like to point out a natural adjustment we make on CSRec for evaluation on observational data here. Even though CSRec is configured to model <math alttext="\mathbb{P}(D_{t}|\text{do}(S_{t},...,S_{1}),P_{t})" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p3.1.m1.2"><semantics id="S6.SS1.SSS3.p3.1.m1.2a"><mrow id="S6.SS1.SSS3.p3.1.m1.2.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.cmml"><mi id="S6.SS1.SSS3.p3.1.m1.2.2.3" xref="S6.SS1.SSS3.p3.1.m1.2.2.3.cmml">ℙ</mi><mo id="S6.SS1.SSS3.p3.1.m1.2.2.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.2.cmml">⁢</mo><mrow id="S6.SS1.SSS3.p3.1.m1.2.2.1.1" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.cmml"><mo id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.2" stretchy="false" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.cmml">(</mo><mrow id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.cmml"><msub id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.cmml"><mi id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.2.cmml">D</mi><mi id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.3" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.3.cmml">t</mi></msub><mo fence="false" id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.3" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.3.cmml">|</mo><mrow id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.3.cmml"><mrow id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.cmml"><mtext id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.4" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.4a.cmml">do</mtext><mo id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.3" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.3.cmml"><mo id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.3" stretchy="false" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.4" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="S6.SS1.SSS3.p3.1.m1.1.1" mathvariant="normal" xref="S6.SS1.SSS3.p3.1.m1.1.1.cmml">…</mi><mo id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.5" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mn id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.3" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.6" stretchy="false" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.3" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.3.cmml">,</mo><msub id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.cmml"><mi id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.2" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.2.cmml">P</mi><mi id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.3" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.3" stretchy="false" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p3.1.m1.2b"><apply id="S6.SS1.SSS3.p3.1.m1.2.2.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2"><times id="S6.SS1.SSS3.p3.1.m1.2.2.2.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.2"></times><ci id="S6.SS1.SSS3.p3.1.m1.2.2.3.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.3">ℙ</ci><apply id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1"><csymbol cd="latexml" id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.3.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.3">conditional</csymbol><apply id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.1.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4">subscript</csymbol><ci id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.2.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.2">𝐷</ci><ci id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.3.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.4.3">𝑡</ci></apply><list id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.3.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2"><apply id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1"><times id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.3"></times><ci id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.4a.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.4"><mtext id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.4.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.4">do</mtext></ci><vector id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.3.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2"><apply id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><ci id="S6.SS1.SSS3.p3.1.m1.1.1.cmml" xref="S6.SS1.SSS3.p3.1.m1.1.1">…</ci><apply id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.2">𝑆</ci><cn id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.1.1.1.2.2.2.3">1</cn></apply></vector></apply><apply id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.1.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.2.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.2">𝑃</ci><ci id="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.3.cmml" xref="S6.SS1.SSS3.p3.1.m1.2.2.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p3.1.m1.2c">\mathbb{P}(D_{t}|\text{do}(S_{t},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p3.1.m1.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math> under the interventional setting, on historical data, we can safely assume that all previous purchased items were recommended and accepted. The output probabilities are then ranked and evaluated using HR@k and NDCG@k.</p>
</div>
<figure class="ltx_table" id="S6.T2">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S6.T2.26.8.1" style="font-size:90%;">Table 2</span>. </span><span class="ltx_text" id="S6.T2.14.7" style="font-size:90%;">Recommendation performance comparison of different models on MSSD dataset. <math alttext="X_{\text{obs}}" class="ltx_Math" display="inline" id="S6.T2.8.1.m1.1"><semantics id="S6.T2.8.1.m1.1b"><msub id="S6.T2.8.1.m1.1.1" xref="S6.T2.8.1.m1.1.1.cmml"><mi id="S6.T2.8.1.m1.1.1.2" xref="S6.T2.8.1.m1.1.1.2.cmml">X</mi><mtext id="S6.T2.8.1.m1.1.1.3" xref="S6.T2.8.1.m1.1.1.3a.cmml">obs</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T2.8.1.m1.1c"><apply id="S6.T2.8.1.m1.1.1.cmml" xref="S6.T2.8.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T2.8.1.m1.1.1.1.cmml" xref="S6.T2.8.1.m1.1.1">subscript</csymbol><ci id="S6.T2.8.1.m1.1.1.2.cmml" xref="S6.T2.8.1.m1.1.1.2">𝑋</ci><ci id="S6.T2.8.1.m1.1.1.3a.cmml" xref="S6.T2.8.1.m1.1.1.3"><mtext id="S6.T2.8.1.m1.1.1.3.cmml" mathsize="70%" xref="S6.T2.8.1.m1.1.1.3">obs</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.8.1.m1.1d">X_{\text{obs}}</annotation><annotation encoding="application/x-llamapun" id="S6.T2.8.1.m1.1e">italic_X start_POSTSUBSCRIPT obs end_POSTSUBSCRIPT</annotation></semantics></math> denotes the observational data and evaluated using HR@<math alttext="k" class="ltx_Math" display="inline" id="S6.T2.9.2.m2.1"><semantics id="S6.T2.9.2.m2.1b"><mi id="S6.T2.9.2.m2.1.1" xref="S6.T2.9.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S6.T2.9.2.m2.1c"><ci id="S6.T2.9.2.m2.1.1.cmml" xref="S6.T2.9.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.9.2.m2.1d">k</annotation><annotation encoding="application/x-llamapun" id="S6.T2.9.2.m2.1e">italic_k</annotation></semantics></math> and NDCG@<math alttext="k" class="ltx_Math" display="inline" id="S6.T2.10.3.m3.1"><semantics id="S6.T2.10.3.m3.1b"><mi id="S6.T2.10.3.m3.1.1" xref="S6.T2.10.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S6.T2.10.3.m3.1c"><ci id="S6.T2.10.3.m3.1.1.cmml" xref="S6.T2.10.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.10.3.m3.1d">k</annotation><annotation encoding="application/x-llamapun" id="S6.T2.10.3.m3.1e">italic_k</annotation></semantics></math> for <math alttext="k=5,10,20" class="ltx_Math" display="inline" id="S6.T2.11.4.m4.3"><semantics id="S6.T2.11.4.m4.3b"><mrow id="S6.T2.11.4.m4.3.4" xref="S6.T2.11.4.m4.3.4.cmml"><mi id="S6.T2.11.4.m4.3.4.2" xref="S6.T2.11.4.m4.3.4.2.cmml">k</mi><mo id="S6.T2.11.4.m4.3.4.1" xref="S6.T2.11.4.m4.3.4.1.cmml">=</mo><mrow id="S6.T2.11.4.m4.3.4.3.2" xref="S6.T2.11.4.m4.3.4.3.1.cmml"><mn id="S6.T2.11.4.m4.1.1" xref="S6.T2.11.4.m4.1.1.cmml">5</mn><mo id="S6.T2.11.4.m4.3.4.3.2.1" xref="S6.T2.11.4.m4.3.4.3.1.cmml">,</mo><mn id="S6.T2.11.4.m4.2.2" xref="S6.T2.11.4.m4.2.2.cmml">10</mn><mo id="S6.T2.11.4.m4.3.4.3.2.2" xref="S6.T2.11.4.m4.3.4.3.1.cmml">,</mo><mn id="S6.T2.11.4.m4.3.3" xref="S6.T2.11.4.m4.3.3.cmml">20</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.T2.11.4.m4.3c"><apply id="S6.T2.11.4.m4.3.4.cmml" xref="S6.T2.11.4.m4.3.4"><eq id="S6.T2.11.4.m4.3.4.1.cmml" xref="S6.T2.11.4.m4.3.4.1"></eq><ci id="S6.T2.11.4.m4.3.4.2.cmml" xref="S6.T2.11.4.m4.3.4.2">𝑘</ci><list id="S6.T2.11.4.m4.3.4.3.1.cmml" xref="S6.T2.11.4.m4.3.4.3.2"><cn id="S6.T2.11.4.m4.1.1.cmml" type="integer" xref="S6.T2.11.4.m4.1.1">5</cn><cn id="S6.T2.11.4.m4.2.2.cmml" type="integer" xref="S6.T2.11.4.m4.2.2">10</cn><cn id="S6.T2.11.4.m4.3.3.cmml" type="integer" xref="S6.T2.11.4.m4.3.3">20</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.11.4.m4.3d">k=5,10,20</annotation><annotation encoding="application/x-llamapun" id="S6.T2.11.4.m4.3e">italic_k = 5 , 10 , 20</annotation></semantics></math>. <math alttext="X_{\text{intv}}" class="ltx_Math" display="inline" id="S6.T2.12.5.m5.1"><semantics id="S6.T2.12.5.m5.1b"><msub id="S6.T2.12.5.m5.1.1" xref="S6.T2.12.5.m5.1.1.cmml"><mi id="S6.T2.12.5.m5.1.1.2" xref="S6.T2.12.5.m5.1.1.2.cmml">X</mi><mtext id="S6.T2.12.5.m5.1.1.3" xref="S6.T2.12.5.m5.1.1.3a.cmml">intv</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T2.12.5.m5.1c"><apply id="S6.T2.12.5.m5.1.1.cmml" xref="S6.T2.12.5.m5.1.1"><csymbol cd="ambiguous" id="S6.T2.12.5.m5.1.1.1.cmml" xref="S6.T2.12.5.m5.1.1">subscript</csymbol><ci id="S6.T2.12.5.m5.1.1.2.cmml" xref="S6.T2.12.5.m5.1.1.2">𝑋</ci><ci id="S6.T2.12.5.m5.1.1.3a.cmml" xref="S6.T2.12.5.m5.1.1.3"><mtext id="S6.T2.12.5.m5.1.1.3.cmml" mathsize="70%" xref="S6.T2.12.5.m5.1.1.3">intv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.12.5.m5.1d">X_{\text{intv}}</annotation><annotation encoding="application/x-llamapun" id="S6.T2.12.5.m5.1e">italic_X start_POSTSUBSCRIPT intv end_POSTSUBSCRIPT</annotation></semantics></math> denotes the interventional data and evaluated using AHR@<math alttext="\alpha" class="ltx_Math" display="inline" id="S6.T2.13.6.m6.1"><semantics id="S6.T2.13.6.m6.1b"><mi id="S6.T2.13.6.m6.1.1" xref="S6.T2.13.6.m6.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S6.T2.13.6.m6.1c"><ci id="S6.T2.13.6.m6.1.1.cmml" xref="S6.T2.13.6.m6.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.13.6.m6.1d">\alpha</annotation><annotation encoding="application/x-llamapun" id="S6.T2.13.6.m6.1e">italic_α</annotation></semantics></math> for <math alttext="\alpha=0.2,0.5" class="ltx_Math" display="inline" id="S6.T2.14.7.m7.2"><semantics id="S6.T2.14.7.m7.2b"><mrow id="S6.T2.14.7.m7.2.3" xref="S6.T2.14.7.m7.2.3.cmml"><mi id="S6.T2.14.7.m7.2.3.2" xref="S6.T2.14.7.m7.2.3.2.cmml">α</mi><mo id="S6.T2.14.7.m7.2.3.1" xref="S6.T2.14.7.m7.2.3.1.cmml">=</mo><mrow id="S6.T2.14.7.m7.2.3.3.2" xref="S6.T2.14.7.m7.2.3.3.1.cmml"><mn id="S6.T2.14.7.m7.1.1" xref="S6.T2.14.7.m7.1.1.cmml">0.2</mn><mo id="S6.T2.14.7.m7.2.3.3.2.1" xref="S6.T2.14.7.m7.2.3.3.1.cmml">,</mo><mn id="S6.T2.14.7.m7.2.2" xref="S6.T2.14.7.m7.2.2.cmml">0.5</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.T2.14.7.m7.2c"><apply id="S6.T2.14.7.m7.2.3.cmml" xref="S6.T2.14.7.m7.2.3"><eq id="S6.T2.14.7.m7.2.3.1.cmml" xref="S6.T2.14.7.m7.2.3.1"></eq><ci id="S6.T2.14.7.m7.2.3.2.cmml" xref="S6.T2.14.7.m7.2.3.2">𝛼</ci><list id="S6.T2.14.7.m7.2.3.3.1.cmml" xref="S6.T2.14.7.m7.2.3.3.2"><cn id="S6.T2.14.7.m7.1.1.cmml" type="float" xref="S6.T2.14.7.m7.1.1">0.2</cn><cn id="S6.T2.14.7.m7.2.2.cmml" type="float" xref="S6.T2.14.7.m7.2.2">0.5</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.14.7.m7.2d">\alpha=0.2,0.5</annotation><annotation encoding="application/x-llamapun" id="S6.T2.14.7.m7.2e">italic_α = 0.2 , 0.5</annotation></semantics></math>.
Boldface denotes the highest score among all models. We compare sota sequential reccomenders and also the winning model, Few-Shot<cite class="ltx_cite ltx_citemacro_citep">(Chang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib3" title="">2019</a>)</cite> of the WSDM challenge where MSSD is originally released. Few-Shot has a specialized design that fully considers the properties of music tracks.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T2.24.10">
<tr class="ltx_tr" id="S6.T2.24.10.11">
<td class="ltx_td ltx_border_tt" id="S6.T2.24.10.11.1"></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="9" id="S6.T2.24.10.11.2"><span class="ltx_text ltx_font_bold" id="S6.T2.24.10.11.2.1">General SOTA Sequential Recommenders</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" colspan="2" id="S6.T2.24.10.11.3"><span class="ltx_text ltx_font_bold" id="S6.T2.24.10.11.3.1">WSDM winning model</span></td>
</tr>
<tr class="ltx_tr" id="S6.T2.24.10.12">
<td class="ltx_td ltx_align_left" id="S6.T2.24.10.12.1">Data</td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.24.10.12.2">Metric</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.3">GRU4Rec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.4">Caser</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.5">SASRec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.6">BERT4Rec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.7">FMLPRec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.8">BSARec</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.9">CSRec</td>
<td class="ltx_td" id="S6.T2.24.10.12.10"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.11">Few-Shot</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.24.10.12.12">CS-Few-Shot</td>
</tr>
<tr class="ltx_tr" id="S6.T2.16.2.2">
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.15.1.1.1" rowspan="6"><span class="ltx_text" id="S6.T2.15.1.1.1.1"><math alttext="X_{\text{obs}}" class="ltx_Math" display="inline" id="S6.T2.15.1.1.1.1.m1.1"><semantics id="S6.T2.15.1.1.1.1.m1.1a"><msub id="S6.T2.15.1.1.1.1.m1.1.1" xref="S6.T2.15.1.1.1.1.m1.1.1.cmml"><mi id="S6.T2.15.1.1.1.1.m1.1.1.2" xref="S6.T2.15.1.1.1.1.m1.1.1.2.cmml">X</mi><mtext id="S6.T2.15.1.1.1.1.m1.1.1.3" xref="S6.T2.15.1.1.1.1.m1.1.1.3a.cmml">obs</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T2.15.1.1.1.1.m1.1b"><apply id="S6.T2.15.1.1.1.1.m1.1.1.cmml" xref="S6.T2.15.1.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T2.15.1.1.1.1.m1.1.1.1.cmml" xref="S6.T2.15.1.1.1.1.m1.1.1">subscript</csymbol><ci id="S6.T2.15.1.1.1.1.m1.1.1.2.cmml" xref="S6.T2.15.1.1.1.1.m1.1.1.2">𝑋</ci><ci id="S6.T2.15.1.1.1.1.m1.1.1.3a.cmml" xref="S6.T2.15.1.1.1.1.m1.1.1.3"><mtext id="S6.T2.15.1.1.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S6.T2.15.1.1.1.1.m1.1.1.3">obs</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.15.1.1.1.1.m1.1c">X_{\text{obs}}</annotation><annotation encoding="application/x-llamapun" id="S6.T2.15.1.1.1.1.m1.1d">italic_X start_POSTSUBSCRIPT obs end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.16.2.2.2">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T2.16.2.2.2.m1.1"><semantics id="S6.T2.16.2.2.2.m1.1a"><mo id="S6.T2.16.2.2.2.m1.1.1" stretchy="false" xref="S6.T2.16.2.2.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T2.16.2.2.2.m1.1b"><ci id="S6.T2.16.2.2.2.m1.1.1.cmml" xref="S6.T2.16.2.2.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.16.2.2.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T2.16.2.2.2.m1.1d">↑</annotation></semantics></math> HR@5</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.3">0.1045</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.4">0.0963</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.5">0.0845</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.6">0.0219</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.7">0.1487</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.8">0.1736</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.9"><span class="ltx_text ltx_font_bold" id="S6.T2.16.2.2.9.1">0.1745</span></td>
<td class="ltx_td" id="S6.T2.16.2.2.10"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.11"><span class="ltx_text ltx_font_bold" id="S6.T2.16.2.2.11.1">0.1865</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.16.2.2.12">0.1798</td>
</tr>
<tr class="ltx_tr" id="S6.T2.17.3.3">
<td class="ltx_td ltx_align_left" id="S6.T2.17.3.3.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T2.17.3.3.1.m1.1"><semantics id="S6.T2.17.3.3.1.m1.1a"><mo id="S6.T2.17.3.3.1.m1.1.1" stretchy="false" xref="S6.T2.17.3.3.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T2.17.3.3.1.m1.1b"><ci id="S6.T2.17.3.3.1.m1.1.1.cmml" xref="S6.T2.17.3.3.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.17.3.3.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T2.17.3.3.1.m1.1d">↑</annotation></semantics></math> HR@10</td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.2">0.1311</td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.3">0.1012</td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.4">0.1082</td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.5">0.0407</td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.6">0.1952</td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.7">0.1901</td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.8"><span class="ltx_text ltx_font_bold" id="S6.T2.17.3.3.8.1">0.2007</span></td>
<td class="ltx_td" id="S6.T2.17.3.3.9"></td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.10">0.2235</td>
<td class="ltx_td ltx_align_center" id="S6.T2.17.3.3.11"><span class="ltx_text ltx_font_bold" id="S6.T2.17.3.3.11.1">0.2364</span></td>
</tr>
<tr class="ltx_tr" id="S6.T2.18.4.4">
<td class="ltx_td ltx_align_left" id="S6.T2.18.4.4.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T2.18.4.4.1.m1.1"><semantics id="S6.T2.18.4.4.1.m1.1a"><mo id="S6.T2.18.4.4.1.m1.1.1" stretchy="false" xref="S6.T2.18.4.4.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T2.18.4.4.1.m1.1b"><ci id="S6.T2.18.4.4.1.m1.1.1.cmml" xref="S6.T2.18.4.4.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.18.4.4.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T2.18.4.4.1.m1.1d">↑</annotation></semantics></math> HR@20</td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.2">0.1944</td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.3"><span class="ltx_text ltx_font_bold" id="S6.T2.18.4.4.3.1">0.3031</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.4">0.2110</td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.5">0.0769</td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.6">0.2747</td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.7">0.2878</td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.8">0.2871</td>
<td class="ltx_td" id="S6.T2.18.4.4.9"></td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.10">0.3712</td>
<td class="ltx_td ltx_align_center" id="S6.T2.18.4.4.11"><span class="ltx_text ltx_font_bold" id="S6.T2.18.4.4.11.1">0.3731</span></td>
</tr>
<tr class="ltx_tr" id="S6.T2.19.5.5">
<td class="ltx_td ltx_align_left" id="S6.T2.19.5.5.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T2.19.5.5.1.m1.1"><semantics id="S6.T2.19.5.5.1.m1.1a"><mo id="S6.T2.19.5.5.1.m1.1.1" stretchy="false" xref="S6.T2.19.5.5.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T2.19.5.5.1.m1.1b"><ci id="S6.T2.19.5.5.1.m1.1.1.cmml" xref="S6.T2.19.5.5.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.19.5.5.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T2.19.5.5.1.m1.1d">↑</annotation></semantics></math> NDCG@5</td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.2">0.0148</td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.3">0.0286</td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.4">0.0429</td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.5">0.0341</td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.6">0.0745</td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.7">0.1039</td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.8"><span class="ltx_text ltx_font_bold" id="S6.T2.19.5.5.8.1">0.1041</span></td>
<td class="ltx_td" id="S6.T2.19.5.5.9"></td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.10"><span class="ltx_text ltx_font_bold" id="S6.T2.19.5.5.10.1">0.1336</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.19.5.5.11">0.1325</td>
</tr>
<tr class="ltx_tr" id="S6.T2.20.6.6">
<td class="ltx_td ltx_align_left" id="S6.T2.20.6.6.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T2.20.6.6.1.m1.1"><semantics id="S6.T2.20.6.6.1.m1.1a"><mo id="S6.T2.20.6.6.1.m1.1.1" stretchy="false" xref="S6.T2.20.6.6.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T2.20.6.6.1.m1.1b"><ci id="S6.T2.20.6.6.1.m1.1.1.cmml" xref="S6.T2.20.6.6.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.20.6.6.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T2.20.6.6.1.m1.1d">↑</annotation></semantics></math> NDCG@10</td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.2">0.0312</td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.3">0.0457</td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.4">0.0981</td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.5">0.0771</td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.6">0.1031</td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.7">0.1487</td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.8"><span class="ltx_text ltx_font_bold" id="S6.T2.20.6.6.8.1">0.2117</span></td>
<td class="ltx_td" id="S6.T2.20.6.6.9"></td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.10"><span class="ltx_text ltx_font_bold" id="S6.T2.20.6.6.10.1">0.1674</span></td>
<td class="ltx_td ltx_align_center" id="S6.T2.20.6.6.11">0.1572</td>
</tr>
<tr class="ltx_tr" id="S6.T2.21.7.7">
<td class="ltx_td ltx_align_left" id="S6.T2.21.7.7.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T2.21.7.7.1.m1.1"><semantics id="S6.T2.21.7.7.1.m1.1a"><mo id="S6.T2.21.7.7.1.m1.1.1" stretchy="false" xref="S6.T2.21.7.7.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T2.21.7.7.1.m1.1b"><ci id="S6.T2.21.7.7.1.m1.1.1.cmml" xref="S6.T2.21.7.7.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.21.7.7.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T2.21.7.7.1.m1.1d">↑</annotation></semantics></math> NDCG@20</td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.2">0.0773</td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.3">0.0717</td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.4">0.1227</td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.5">0.0985</td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.6">0.1592</td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.7">0.2793</td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.8"><span class="ltx_text ltx_font_bold" id="S6.T2.21.7.7.8.1">0.2801</span></td>
<td class="ltx_td" id="S6.T2.21.7.7.9"></td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.10">0.3412</td>
<td class="ltx_td ltx_align_center" id="S6.T2.21.7.7.11"><span class="ltx_text ltx_font_bold" id="S6.T2.21.7.7.11.1">0.3435</span></td>
</tr>
<tr class="ltx_tr" id="S6.T2.23.9.9">
<td class="ltx_td ltx_align_left ltx_border_bb ltx_border_t" id="S6.T2.22.8.8.1" rowspan="2"><span class="ltx_text" id="S6.T2.22.8.8.1.1"><math alttext="X_{\text{intv}}" class="ltx_Math" display="inline" id="S6.T2.22.8.8.1.1.m1.1"><semantics id="S6.T2.22.8.8.1.1.m1.1a"><msub id="S6.T2.22.8.8.1.1.m1.1.1" xref="S6.T2.22.8.8.1.1.m1.1.1.cmml"><mi id="S6.T2.22.8.8.1.1.m1.1.1.2" xref="S6.T2.22.8.8.1.1.m1.1.1.2.cmml">X</mi><mtext id="S6.T2.22.8.8.1.1.m1.1.1.3" xref="S6.T2.22.8.8.1.1.m1.1.1.3a.cmml">intv</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T2.22.8.8.1.1.m1.1b"><apply id="S6.T2.22.8.8.1.1.m1.1.1.cmml" xref="S6.T2.22.8.8.1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T2.22.8.8.1.1.m1.1.1.1.cmml" xref="S6.T2.22.8.8.1.1.m1.1.1">subscript</csymbol><ci id="S6.T2.22.8.8.1.1.m1.1.1.2.cmml" xref="S6.T2.22.8.8.1.1.m1.1.1.2">𝑋</ci><ci id="S6.T2.22.8.8.1.1.m1.1.1.3a.cmml" xref="S6.T2.22.8.8.1.1.m1.1.1.3"><mtext id="S6.T2.22.8.8.1.1.m1.1.1.3.cmml" mathsize="70%" xref="S6.T2.22.8.8.1.1.m1.1.1.3">intv</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.22.8.8.1.1.m1.1c">X_{\text{intv}}</annotation><annotation encoding="application/x-llamapun" id="S6.T2.22.8.8.1.1.m1.1d">italic_X start_POSTSUBSCRIPT intv end_POSTSUBSCRIPT</annotation></semantics></math></span></td>
<td class="ltx_td ltx_align_left ltx_border_t" id="S6.T2.23.9.9.2">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T2.23.9.9.2.m1.1"><semantics id="S6.T2.23.9.9.2.m1.1a"><mo id="S6.T2.23.9.9.2.m1.1.1" stretchy="false" xref="S6.T2.23.9.9.2.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T2.23.9.9.2.m1.1b"><ci id="S6.T2.23.9.9.2.m1.1.1.cmml" xref="S6.T2.23.9.9.2.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.23.9.9.2.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T2.23.9.9.2.m1.1d">↑</annotation></semantics></math> AHR@0.2</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.3">0.1117</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.4">0.1461</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.5">0.1926</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.6">0.1468</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.7">0.1412</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.8">0.1692</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.9"><span class="ltx_text ltx_font_bold" id="S6.T2.23.9.9.9.1">0.3509</span></td>
<td class="ltx_td ltx_border_t" id="S6.T2.23.9.9.10"></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.11">0.4127</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T2.23.9.9.12"><span class="ltx_text ltx_font_bold" id="S6.T2.23.9.9.12.1">0.6764</span></td>
</tr>
<tr class="ltx_tr" id="S6.T2.24.10.10">
<td class="ltx_td ltx_align_left ltx_border_bb" id="S6.T2.24.10.10.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T2.24.10.10.1.m1.1"><semantics id="S6.T2.24.10.10.1.m1.1a"><mo id="S6.T2.24.10.10.1.m1.1.1" stretchy="false" xref="S6.T2.24.10.10.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T2.24.10.10.1.m1.1b"><ci id="S6.T2.24.10.10.1.m1.1.1.cmml" xref="S6.T2.24.10.10.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T2.24.10.10.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T2.24.10.10.1.m1.1d">↑</annotation></semantics></math> AHR@0.5</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.2">0.2403</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.3">0.2467</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.4">0.2956</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.5">0.3401</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.6">0.3009</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.7">0.4323</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.8"><span class="ltx_text ltx_font_bold" id="S6.T2.24.10.10.8.1">0.5371</span></td>
<td class="ltx_td ltx_border_bb" id="S6.T2.24.10.10.9"></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.10">0.5061</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T2.24.10.10.11"><span class="ltx_text ltx_font_bold" id="S6.T2.24.10.10.11.1">0.7418</span></td>
</tr>
</table>
</figure>
<div class="ltx_para ltx_noindent" id="S6.SS1.SSS3.p4">
<p class="ltx_p" id="S6.SS1.SSS3.p4.1"><span class="ltx_text ltx_font_bold" id="S6.SS1.SSS3.p4.1.1">Interventional data: </span>
On interventional data, the dataset contains two sequences: recommended items and users’ corresponding decisions <math alttext="\in\{0,1\}" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p4.1.m1.2"><semantics id="S6.SS1.SSS3.p4.1.m1.2a"><mrow id="S6.SS1.SSS3.p4.1.m1.2.3" xref="S6.SS1.SSS3.p4.1.m1.2.3.cmml"><mi id="S6.SS1.SSS3.p4.1.m1.2.3.2" xref="S6.SS1.SSS3.p4.1.m1.2.3.2.cmml"></mi><mo id="S6.SS1.SSS3.p4.1.m1.2.3.1" xref="S6.SS1.SSS3.p4.1.m1.2.3.1.cmml">∈</mo><mrow id="S6.SS1.SSS3.p4.1.m1.2.3.3.2" xref="S6.SS1.SSS3.p4.1.m1.2.3.3.1.cmml"><mo id="S6.SS1.SSS3.p4.1.m1.2.3.3.2.1" stretchy="false" xref="S6.SS1.SSS3.p4.1.m1.2.3.3.1.cmml">{</mo><mn id="S6.SS1.SSS3.p4.1.m1.1.1" xref="S6.SS1.SSS3.p4.1.m1.1.1.cmml">0</mn><mo id="S6.SS1.SSS3.p4.1.m1.2.3.3.2.2" xref="S6.SS1.SSS3.p4.1.m1.2.3.3.1.cmml">,</mo><mn id="S6.SS1.SSS3.p4.1.m1.2.2" xref="S6.SS1.SSS3.p4.1.m1.2.2.cmml">1</mn><mo id="S6.SS1.SSS3.p4.1.m1.2.3.3.2.3" stretchy="false" xref="S6.SS1.SSS3.p4.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p4.1.m1.2b"><apply id="S6.SS1.SSS3.p4.1.m1.2.3.cmml" xref="S6.SS1.SSS3.p4.1.m1.2.3"><in id="S6.SS1.SSS3.p4.1.m1.2.3.1.cmml" xref="S6.SS1.SSS3.p4.1.m1.2.3.1"></in><csymbol cd="latexml" id="S6.SS1.SSS3.p4.1.m1.2.3.2.cmml" xref="S6.SS1.SSS3.p4.1.m1.2.3.2">absent</csymbol><set id="S6.SS1.SSS3.p4.1.m1.2.3.3.1.cmml" xref="S6.SS1.SSS3.p4.1.m1.2.3.3.2"><cn id="S6.SS1.SSS3.p4.1.m1.1.1.cmml" type="integer" xref="S6.SS1.SSS3.p4.1.m1.1.1">0</cn><cn id="S6.SS1.SSS3.p4.1.m1.2.2.cmml" type="integer" xref="S6.SS1.SSS3.p4.1.m1.2.2">1</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p4.1.m1.2c">\in\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p4.1.m1.2d">∈ { 0 , 1 }</annotation></semantics></math> indexed with time. We aim to examine how well models estimate user’s decision when being recommended on interventional data.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS3.p5">
<p class="ltx_p" id="S6.SS1.SSS3.p5.7">For CSRec, the model outputs the predicted users’ purchase probability for the next recommended items. We then compare this resulting probability with the ground truth decisions via an adjusted hit rate defined as follows</p>
<table class="ltx_equation ltx_eqn_table" id="S6.E14">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(14)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{AHR}_{\text{CSRec}}=\frac{1}{N}\sum_{N}\delta(d_{t},\hat{d}_{t}),\quad%
\hat{d}_{t}=\chi_{\geq 1-\alpha}(z_{t})," class="ltx_Math" display="block" id="S6.E14.m1.1"><semantics id="S6.E14.m1.1a"><mrow id="S6.E14.m1.1.1.1"><mrow id="S6.E14.m1.1.1.1.1.2" xref="S6.E14.m1.1.1.1.1.3.cmml"><mrow id="S6.E14.m1.1.1.1.1.1.1" xref="S6.E14.m1.1.1.1.1.1.1.cmml"><msub id="S6.E14.m1.1.1.1.1.1.1.4" xref="S6.E14.m1.1.1.1.1.1.1.4.cmml"><mtext id="S6.E14.m1.1.1.1.1.1.1.4.2" xref="S6.E14.m1.1.1.1.1.1.1.4.2a.cmml">AHR</mtext><mtext id="S6.E14.m1.1.1.1.1.1.1.4.3" xref="S6.E14.m1.1.1.1.1.1.1.4.3a.cmml">CSRec</mtext></msub><mo id="S6.E14.m1.1.1.1.1.1.1.3" xref="S6.E14.m1.1.1.1.1.1.1.3.cmml">=</mo><mrow id="S6.E14.m1.1.1.1.1.1.1.2" xref="S6.E14.m1.1.1.1.1.1.1.2.cmml"><mfrac id="S6.E14.m1.1.1.1.1.1.1.2.4" xref="S6.E14.m1.1.1.1.1.1.1.2.4.cmml"><mn id="S6.E14.m1.1.1.1.1.1.1.2.4.2" xref="S6.E14.m1.1.1.1.1.1.1.2.4.2.cmml">1</mn><mi id="S6.E14.m1.1.1.1.1.1.1.2.4.3" xref="S6.E14.m1.1.1.1.1.1.1.2.4.3.cmml">N</mi></mfrac><mo id="S6.E14.m1.1.1.1.1.1.1.2.3" xref="S6.E14.m1.1.1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S6.E14.m1.1.1.1.1.1.1.2.2" xref="S6.E14.m1.1.1.1.1.1.1.2.2.cmml"><munder id="S6.E14.m1.1.1.1.1.1.1.2.2.3" xref="S6.E14.m1.1.1.1.1.1.1.2.2.3.cmml"><mo id="S6.E14.m1.1.1.1.1.1.1.2.2.3.2" movablelimits="false" xref="S6.E14.m1.1.1.1.1.1.1.2.2.3.2.cmml">∑</mo><mi id="S6.E14.m1.1.1.1.1.1.1.2.2.3.3" xref="S6.E14.m1.1.1.1.1.1.1.2.2.3.3.cmml">N</mi></munder><mrow id="S6.E14.m1.1.1.1.1.1.1.2.2.2" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S6.E14.m1.1.1.1.1.1.1.2.2.2.4" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.4.cmml">δ</mi><mo id="S6.E14.m1.1.1.1.1.1.1.2.2.2.3" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.3.cmml">⁢</mo><mrow id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.3.cmml"><mo id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.3" stretchy="false" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">(</mo><msub id="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">d</mi><mi id="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.4" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">,</mo><msub id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml"><mover accent="true" id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.cmml"><mi id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.2" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.2.cmml">d</mi><mo id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.1" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.1.cmml">^</mo></mover><mi id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.3" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.5" stretchy="false" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S6.E14.m1.1.1.1.1.2.3" rspace="1.167em" xref="S6.E14.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S6.E14.m1.1.1.1.1.2.2" xref="S6.E14.m1.1.1.1.1.2.2.cmml"><msub id="S6.E14.m1.1.1.1.1.2.2.3" xref="S6.E14.m1.1.1.1.1.2.2.3.cmml"><mover accent="true" id="S6.E14.m1.1.1.1.1.2.2.3.2" xref="S6.E14.m1.1.1.1.1.2.2.3.2.cmml"><mi id="S6.E14.m1.1.1.1.1.2.2.3.2.2" xref="S6.E14.m1.1.1.1.1.2.2.3.2.2.cmml">d</mi><mo id="S6.E14.m1.1.1.1.1.2.2.3.2.1" xref="S6.E14.m1.1.1.1.1.2.2.3.2.1.cmml">^</mo></mover><mi id="S6.E14.m1.1.1.1.1.2.2.3.3" xref="S6.E14.m1.1.1.1.1.2.2.3.3.cmml">t</mi></msub><mo id="S6.E14.m1.1.1.1.1.2.2.2" xref="S6.E14.m1.1.1.1.1.2.2.2.cmml">=</mo><mrow id="S6.E14.m1.1.1.1.1.2.2.1" xref="S6.E14.m1.1.1.1.1.2.2.1.cmml"><msub id="S6.E14.m1.1.1.1.1.2.2.1.3" xref="S6.E14.m1.1.1.1.1.2.2.1.3.cmml"><mi id="S6.E14.m1.1.1.1.1.2.2.1.3.2" xref="S6.E14.m1.1.1.1.1.2.2.1.3.2.cmml">χ</mi><mrow id="S6.E14.m1.1.1.1.1.2.2.1.3.3" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.cmml"><mi id="S6.E14.m1.1.1.1.1.2.2.1.3.3.2" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.2.cmml"></mi><mo id="S6.E14.m1.1.1.1.1.2.2.1.3.3.1" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.1.cmml">≥</mo><mrow id="S6.E14.m1.1.1.1.1.2.2.1.3.3.3" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.cmml"><mn id="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.2" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.2.cmml">1</mn><mo id="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.1" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.1.cmml">−</mo><mi id="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.3" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.3.cmml">α</mi></mrow></mrow></msub><mo id="S6.E14.m1.1.1.1.1.2.2.1.2" xref="S6.E14.m1.1.1.1.1.2.2.1.2.cmml">⁢</mo><mrow id="S6.E14.m1.1.1.1.1.2.2.1.1.1" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.cmml"><mo id="S6.E14.m1.1.1.1.1.2.2.1.1.1.2" stretchy="false" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.cmml">(</mo><msub id="S6.E14.m1.1.1.1.1.2.2.1.1.1.1" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.cmml"><mi id="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.2" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.2.cmml">z</mi><mi id="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.3" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.3.cmml">t</mi></msub><mo id="S6.E14.m1.1.1.1.1.2.2.1.1.1.3" stretchy="false" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S6.E14.m1.1.1.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.E14.m1.1b"><apply id="S6.E14.m1.1.1.1.1.3.cmml" xref="S6.E14.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.E14.m1.1.1.1.1.3a.cmml" xref="S6.E14.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S6.E14.m1.1.1.1.1.1.1.cmml" xref="S6.E14.m1.1.1.1.1.1.1"><eq id="S6.E14.m1.1.1.1.1.1.1.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.3"></eq><apply id="S6.E14.m1.1.1.1.1.1.1.4.cmml" xref="S6.E14.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S6.E14.m1.1.1.1.1.1.1.4.1.cmml" xref="S6.E14.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S6.E14.m1.1.1.1.1.1.1.4.2a.cmml" xref="S6.E14.m1.1.1.1.1.1.1.4.2"><mtext id="S6.E14.m1.1.1.1.1.1.1.4.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.4.2">AHR</mtext></ci><ci id="S6.E14.m1.1.1.1.1.1.1.4.3a.cmml" xref="S6.E14.m1.1.1.1.1.1.1.4.3"><mtext id="S6.E14.m1.1.1.1.1.1.1.4.3.cmml" mathsize="70%" xref="S6.E14.m1.1.1.1.1.1.1.4.3">CSRec</mtext></ci></apply><apply id="S6.E14.m1.1.1.1.1.1.1.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2"><times id="S6.E14.m1.1.1.1.1.1.1.2.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.3"></times><apply id="S6.E14.m1.1.1.1.1.1.1.2.4.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.4"><divide id="S6.E14.m1.1.1.1.1.1.1.2.4.1.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.4"></divide><cn id="S6.E14.m1.1.1.1.1.1.1.2.4.2.cmml" type="integer" xref="S6.E14.m1.1.1.1.1.1.1.2.4.2">1</cn><ci id="S6.E14.m1.1.1.1.1.1.1.2.4.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.4.3">𝑁</ci></apply><apply id="S6.E14.m1.1.1.1.1.1.1.2.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2"><apply id="S6.E14.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S6.E14.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.3">subscript</csymbol><sum id="S6.E14.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.3.2"></sum><ci id="S6.E14.m1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.3.3">𝑁</ci></apply><apply id="S6.E14.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2"><times id="S6.E14.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.3"></times><ci id="S6.E14.m1.1.1.1.1.1.1.2.2.2.4.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.4">𝛿</ci><interval closure="open" id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2"><apply id="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑑</ci><ci id="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.1.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2">subscript</csymbol><apply id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2"><ci id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.1.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.1">^</ci><ci id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.2.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.2">𝑑</ci></apply><ci id="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.cmml" xref="S6.E14.m1.1.1.1.1.1.1.2.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></apply></apply></apply><apply id="S6.E14.m1.1.1.1.1.2.2.cmml" xref="S6.E14.m1.1.1.1.1.2.2"><eq id="S6.E14.m1.1.1.1.1.2.2.2.cmml" xref="S6.E14.m1.1.1.1.1.2.2.2"></eq><apply id="S6.E14.m1.1.1.1.1.2.2.3.cmml" xref="S6.E14.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S6.E14.m1.1.1.1.1.2.2.3.1.cmml" xref="S6.E14.m1.1.1.1.1.2.2.3">subscript</csymbol><apply id="S6.E14.m1.1.1.1.1.2.2.3.2.cmml" xref="S6.E14.m1.1.1.1.1.2.2.3.2"><ci id="S6.E14.m1.1.1.1.1.2.2.3.2.1.cmml" xref="S6.E14.m1.1.1.1.1.2.2.3.2.1">^</ci><ci id="S6.E14.m1.1.1.1.1.2.2.3.2.2.cmml" xref="S6.E14.m1.1.1.1.1.2.2.3.2.2">𝑑</ci></apply><ci id="S6.E14.m1.1.1.1.1.2.2.3.3.cmml" xref="S6.E14.m1.1.1.1.1.2.2.3.3">𝑡</ci></apply><apply id="S6.E14.m1.1.1.1.1.2.2.1.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1"><times id="S6.E14.m1.1.1.1.1.2.2.1.2.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.2"></times><apply id="S6.E14.m1.1.1.1.1.2.2.1.3.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3"><csymbol cd="ambiguous" id="S6.E14.m1.1.1.1.1.2.2.1.3.1.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3">subscript</csymbol><ci id="S6.E14.m1.1.1.1.1.2.2.1.3.2.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3.2">𝜒</ci><apply id="S6.E14.m1.1.1.1.1.2.2.1.3.3.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3"><geq id="S6.E14.m1.1.1.1.1.2.2.1.3.3.1.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.1"></geq><csymbol cd="latexml" id="S6.E14.m1.1.1.1.1.2.2.1.3.3.2.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.2">absent</csymbol><apply id="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.3"><minus id="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.1.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.1"></minus><cn id="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.2.cmml" type="integer" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.2">1</cn><ci id="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.3.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.3.3.3.3">𝛼</ci></apply></apply></apply><apply id="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.1.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1">subscript</csymbol><ci id="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.2.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.2">𝑧</ci><ci id="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.3.cmml" xref="S6.E14.m1.1.1.1.1.2.2.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.E14.m1.1c">\text{AHR}_{\text{CSRec}}=\frac{1}{N}\sum_{N}\delta(d_{t},\hat{d}_{t}),\quad%
\hat{d}_{t}=\chi_{\geq 1-\alpha}(z_{t}),</annotation><annotation encoding="application/x-llamapun" id="S6.E14.m1.1d">AHR start_POSTSUBSCRIPT CSRec end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_N end_ARG ∑ start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT italic_δ ( italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , over^ start_ARG italic_d end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) , over^ start_ARG italic_d end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = italic_χ start_POSTSUBSCRIPT ≥ 1 - italic_α end_POSTSUBSCRIPT ( italic_z start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) ,</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S6.SS1.SSS3.p5.6">where <math alttext="z_{t}" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p5.1.m1.1"><semantics id="S6.SS1.SSS3.p5.1.m1.1a"><msub id="S6.SS1.SSS3.p5.1.m1.1.1" xref="S6.SS1.SSS3.p5.1.m1.1.1.cmml"><mi id="S6.SS1.SSS3.p5.1.m1.1.1.2" xref="S6.SS1.SSS3.p5.1.m1.1.1.2.cmml">z</mi><mi id="S6.SS1.SSS3.p5.1.m1.1.1.3" xref="S6.SS1.SSS3.p5.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p5.1.m1.1b"><apply id="S6.SS1.SSS3.p5.1.m1.1.1.cmml" xref="S6.SS1.SSS3.p5.1.m1.1.1"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p5.1.m1.1.1.1.cmml" xref="S6.SS1.SSS3.p5.1.m1.1.1">subscript</csymbol><ci id="S6.SS1.SSS3.p5.1.m1.1.1.2.cmml" xref="S6.SS1.SSS3.p5.1.m1.1.1.2">𝑧</ci><ci id="S6.SS1.SSS3.p5.1.m1.1.1.3.cmml" xref="S6.SS1.SSS3.p5.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p5.1.m1.1c">z_{t}</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p5.1.m1.1d">italic_z start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> is the model output, <math alttext="\alpha" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p5.2.m2.1"><semantics id="S6.SS1.SSS3.p5.2.m2.1a"><mi id="S6.SS1.SSS3.p5.2.m2.1.1" xref="S6.SS1.SSS3.p5.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p5.2.m2.1b"><ci id="S6.SS1.SSS3.p5.2.m2.1.1.cmml" xref="S6.SS1.SSS3.p5.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p5.2.m2.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p5.2.m2.1d">italic_α</annotation></semantics></math> is a pre-defined threshold; <math alttext="\delta(a,b)=1" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p5.3.m3.2"><semantics id="S6.SS1.SSS3.p5.3.m3.2a"><mrow id="S6.SS1.SSS3.p5.3.m3.2.3" xref="S6.SS1.SSS3.p5.3.m3.2.3.cmml"><mrow id="S6.SS1.SSS3.p5.3.m3.2.3.2" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.cmml"><mi id="S6.SS1.SSS3.p5.3.m3.2.3.2.2" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.2.cmml">δ</mi><mo id="S6.SS1.SSS3.p5.3.m3.2.3.2.1" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.1.cmml">⁢</mo><mrow id="S6.SS1.SSS3.p5.3.m3.2.3.2.3.2" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.3.1.cmml"><mo id="S6.SS1.SSS3.p5.3.m3.2.3.2.3.2.1" stretchy="false" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.3.1.cmml">(</mo><mi id="S6.SS1.SSS3.p5.3.m3.1.1" xref="S6.SS1.SSS3.p5.3.m3.1.1.cmml">a</mi><mo id="S6.SS1.SSS3.p5.3.m3.2.3.2.3.2.2" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.3.1.cmml">,</mo><mi id="S6.SS1.SSS3.p5.3.m3.2.2" xref="S6.SS1.SSS3.p5.3.m3.2.2.cmml">b</mi><mo id="S6.SS1.SSS3.p5.3.m3.2.3.2.3.2.3" stretchy="false" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.3.1.cmml">)</mo></mrow></mrow><mo id="S6.SS1.SSS3.p5.3.m3.2.3.1" xref="S6.SS1.SSS3.p5.3.m3.2.3.1.cmml">=</mo><mn id="S6.SS1.SSS3.p5.3.m3.2.3.3" xref="S6.SS1.SSS3.p5.3.m3.2.3.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p5.3.m3.2b"><apply id="S6.SS1.SSS3.p5.3.m3.2.3.cmml" xref="S6.SS1.SSS3.p5.3.m3.2.3"><eq id="S6.SS1.SSS3.p5.3.m3.2.3.1.cmml" xref="S6.SS1.SSS3.p5.3.m3.2.3.1"></eq><apply id="S6.SS1.SSS3.p5.3.m3.2.3.2.cmml" xref="S6.SS1.SSS3.p5.3.m3.2.3.2"><times id="S6.SS1.SSS3.p5.3.m3.2.3.2.1.cmml" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.1"></times><ci id="S6.SS1.SSS3.p5.3.m3.2.3.2.2.cmml" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.2">𝛿</ci><interval closure="open" id="S6.SS1.SSS3.p5.3.m3.2.3.2.3.1.cmml" xref="S6.SS1.SSS3.p5.3.m3.2.3.2.3.2"><ci id="S6.SS1.SSS3.p5.3.m3.1.1.cmml" xref="S6.SS1.SSS3.p5.3.m3.1.1">𝑎</ci><ci id="S6.SS1.SSS3.p5.3.m3.2.2.cmml" xref="S6.SS1.SSS3.p5.3.m3.2.2">𝑏</ci></interval></apply><cn id="S6.SS1.SSS3.p5.3.m3.2.3.3.cmml" type="integer" xref="S6.SS1.SSS3.p5.3.m3.2.3.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p5.3.m3.2c">\delta(a,b)=1</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p5.3.m3.2d">italic_δ ( italic_a , italic_b ) = 1</annotation></semantics></math> when <math alttext="a=b" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p5.4.m4.1"><semantics id="S6.SS1.SSS3.p5.4.m4.1a"><mrow id="S6.SS1.SSS3.p5.4.m4.1.1" xref="S6.SS1.SSS3.p5.4.m4.1.1.cmml"><mi id="S6.SS1.SSS3.p5.4.m4.1.1.2" xref="S6.SS1.SSS3.p5.4.m4.1.1.2.cmml">a</mi><mo id="S6.SS1.SSS3.p5.4.m4.1.1.1" xref="S6.SS1.SSS3.p5.4.m4.1.1.1.cmml">=</mo><mi id="S6.SS1.SSS3.p5.4.m4.1.1.3" xref="S6.SS1.SSS3.p5.4.m4.1.1.3.cmml">b</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p5.4.m4.1b"><apply id="S6.SS1.SSS3.p5.4.m4.1.1.cmml" xref="S6.SS1.SSS3.p5.4.m4.1.1"><eq id="S6.SS1.SSS3.p5.4.m4.1.1.1.cmml" xref="S6.SS1.SSS3.p5.4.m4.1.1.1"></eq><ci id="S6.SS1.SSS3.p5.4.m4.1.1.2.cmml" xref="S6.SS1.SSS3.p5.4.m4.1.1.2">𝑎</ci><ci id="S6.SS1.SSS3.p5.4.m4.1.1.3.cmml" xref="S6.SS1.SSS3.p5.4.m4.1.1.3">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p5.4.m4.1c">a=b</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p5.4.m4.1d">italic_a = italic_b</annotation></semantics></math> and zero otherwise; <math alttext="\chi_{A}(x)" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p5.5.m5.1"><semantics id="S6.SS1.SSS3.p5.5.m5.1a"><mrow id="S6.SS1.SSS3.p5.5.m5.1.2" xref="S6.SS1.SSS3.p5.5.m5.1.2.cmml"><msub id="S6.SS1.SSS3.p5.5.m5.1.2.2" xref="S6.SS1.SSS3.p5.5.m5.1.2.2.cmml"><mi id="S6.SS1.SSS3.p5.5.m5.1.2.2.2" xref="S6.SS1.SSS3.p5.5.m5.1.2.2.2.cmml">χ</mi><mi id="S6.SS1.SSS3.p5.5.m5.1.2.2.3" xref="S6.SS1.SSS3.p5.5.m5.1.2.2.3.cmml">A</mi></msub><mo id="S6.SS1.SSS3.p5.5.m5.1.2.1" xref="S6.SS1.SSS3.p5.5.m5.1.2.1.cmml">⁢</mo><mrow id="S6.SS1.SSS3.p5.5.m5.1.2.3.2" xref="S6.SS1.SSS3.p5.5.m5.1.2.cmml"><mo id="S6.SS1.SSS3.p5.5.m5.1.2.3.2.1" stretchy="false" xref="S6.SS1.SSS3.p5.5.m5.1.2.cmml">(</mo><mi id="S6.SS1.SSS3.p5.5.m5.1.1" xref="S6.SS1.SSS3.p5.5.m5.1.1.cmml">x</mi><mo id="S6.SS1.SSS3.p5.5.m5.1.2.3.2.2" stretchy="false" xref="S6.SS1.SSS3.p5.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p5.5.m5.1b"><apply id="S6.SS1.SSS3.p5.5.m5.1.2.cmml" xref="S6.SS1.SSS3.p5.5.m5.1.2"><times id="S6.SS1.SSS3.p5.5.m5.1.2.1.cmml" xref="S6.SS1.SSS3.p5.5.m5.1.2.1"></times><apply id="S6.SS1.SSS3.p5.5.m5.1.2.2.cmml" xref="S6.SS1.SSS3.p5.5.m5.1.2.2"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p5.5.m5.1.2.2.1.cmml" xref="S6.SS1.SSS3.p5.5.m5.1.2.2">subscript</csymbol><ci id="S6.SS1.SSS3.p5.5.m5.1.2.2.2.cmml" xref="S6.SS1.SSS3.p5.5.m5.1.2.2.2">𝜒</ci><ci id="S6.SS1.SSS3.p5.5.m5.1.2.2.3.cmml" xref="S6.SS1.SSS3.p5.5.m5.1.2.2.3">𝐴</ci></apply><ci id="S6.SS1.SSS3.p5.5.m5.1.1.cmml" xref="S6.SS1.SSS3.p5.5.m5.1.1">𝑥</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p5.5.m5.1c">\chi_{A}(x)</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p5.5.m5.1d">italic_χ start_POSTSUBSCRIPT italic_A end_POSTSUBSCRIPT ( italic_x )</annotation></semantics></math> is an indicator function such that it equals to 1 when <math alttext="x\in A" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p5.6.m6.1"><semantics id="S6.SS1.SSS3.p5.6.m6.1a"><mrow id="S6.SS1.SSS3.p5.6.m6.1.1" xref="S6.SS1.SSS3.p5.6.m6.1.1.cmml"><mi id="S6.SS1.SSS3.p5.6.m6.1.1.2" xref="S6.SS1.SSS3.p5.6.m6.1.1.2.cmml">x</mi><mo id="S6.SS1.SSS3.p5.6.m6.1.1.1" xref="S6.SS1.SSS3.p5.6.m6.1.1.1.cmml">∈</mo><mi id="S6.SS1.SSS3.p5.6.m6.1.1.3" xref="S6.SS1.SSS3.p5.6.m6.1.1.3.cmml">A</mi></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p5.6.m6.1b"><apply id="S6.SS1.SSS3.p5.6.m6.1.1.cmml" xref="S6.SS1.SSS3.p5.6.m6.1.1"><in id="S6.SS1.SSS3.p5.6.m6.1.1.1.cmml" xref="S6.SS1.SSS3.p5.6.m6.1.1.1"></in><ci id="S6.SS1.SSS3.p5.6.m6.1.1.2.cmml" xref="S6.SS1.SSS3.p5.6.m6.1.1.2">𝑥</ci><ci id="S6.SS1.SSS3.p5.6.m6.1.1.3.cmml" xref="S6.SS1.SSS3.p5.6.m6.1.1.3">𝐴</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p5.6.m6.1c">x\in A</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p5.6.m6.1d">italic_x ∈ italic_A</annotation></semantics></math> and zero otherwise.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS3.p6">
<p class="ltx_p" id="S6.SS1.SSS3.p6.7">Concretely, for a recommended item and ground truth decision <math alttext="d_{t}\in\{0,1\}" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p6.1.m1.2"><semantics id="S6.SS1.SSS3.p6.1.m1.2a"><mrow id="S6.SS1.SSS3.p6.1.m1.2.3" xref="S6.SS1.SSS3.p6.1.m1.2.3.cmml"><msub id="S6.SS1.SSS3.p6.1.m1.2.3.2" xref="S6.SS1.SSS3.p6.1.m1.2.3.2.cmml"><mi id="S6.SS1.SSS3.p6.1.m1.2.3.2.2" xref="S6.SS1.SSS3.p6.1.m1.2.3.2.2.cmml">d</mi><mi id="S6.SS1.SSS3.p6.1.m1.2.3.2.3" xref="S6.SS1.SSS3.p6.1.m1.2.3.2.3.cmml">t</mi></msub><mo id="S6.SS1.SSS3.p6.1.m1.2.3.1" xref="S6.SS1.SSS3.p6.1.m1.2.3.1.cmml">∈</mo><mrow id="S6.SS1.SSS3.p6.1.m1.2.3.3.2" xref="S6.SS1.SSS3.p6.1.m1.2.3.3.1.cmml"><mo id="S6.SS1.SSS3.p6.1.m1.2.3.3.2.1" stretchy="false" xref="S6.SS1.SSS3.p6.1.m1.2.3.3.1.cmml">{</mo><mn id="S6.SS1.SSS3.p6.1.m1.1.1" xref="S6.SS1.SSS3.p6.1.m1.1.1.cmml">0</mn><mo id="S6.SS1.SSS3.p6.1.m1.2.3.3.2.2" xref="S6.SS1.SSS3.p6.1.m1.2.3.3.1.cmml">,</mo><mn id="S6.SS1.SSS3.p6.1.m1.2.2" xref="S6.SS1.SSS3.p6.1.m1.2.2.cmml">1</mn><mo id="S6.SS1.SSS3.p6.1.m1.2.3.3.2.3" stretchy="false" xref="S6.SS1.SSS3.p6.1.m1.2.3.3.1.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p6.1.m1.2b"><apply id="S6.SS1.SSS3.p6.1.m1.2.3.cmml" xref="S6.SS1.SSS3.p6.1.m1.2.3"><in id="S6.SS1.SSS3.p6.1.m1.2.3.1.cmml" xref="S6.SS1.SSS3.p6.1.m1.2.3.1"></in><apply id="S6.SS1.SSS3.p6.1.m1.2.3.2.cmml" xref="S6.SS1.SSS3.p6.1.m1.2.3.2"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p6.1.m1.2.3.2.1.cmml" xref="S6.SS1.SSS3.p6.1.m1.2.3.2">subscript</csymbol><ci id="S6.SS1.SSS3.p6.1.m1.2.3.2.2.cmml" xref="S6.SS1.SSS3.p6.1.m1.2.3.2.2">𝑑</ci><ci id="S6.SS1.SSS3.p6.1.m1.2.3.2.3.cmml" xref="S6.SS1.SSS3.p6.1.m1.2.3.2.3">𝑡</ci></apply><set id="S6.SS1.SSS3.p6.1.m1.2.3.3.1.cmml" xref="S6.SS1.SSS3.p6.1.m1.2.3.3.2"><cn id="S6.SS1.SSS3.p6.1.m1.1.1.cmml" type="integer" xref="S6.SS1.SSS3.p6.1.m1.1.1">0</cn><cn id="S6.SS1.SSS3.p6.1.m1.2.2.cmml" type="integer" xref="S6.SS1.SSS3.p6.1.m1.2.2">1</cn></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p6.1.m1.2c">d_{t}\in\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p6.1.m1.2d">italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ { 0 , 1 }</annotation></semantics></math>, CSRec outputs a predicted probability <math alttext="z_{t}\in[0,1]" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p6.2.m2.2"><semantics id="S6.SS1.SSS3.p6.2.m2.2a"><mrow id="S6.SS1.SSS3.p6.2.m2.2.3" xref="S6.SS1.SSS3.p6.2.m2.2.3.cmml"><msub id="S6.SS1.SSS3.p6.2.m2.2.3.2" xref="S6.SS1.SSS3.p6.2.m2.2.3.2.cmml"><mi id="S6.SS1.SSS3.p6.2.m2.2.3.2.2" xref="S6.SS1.SSS3.p6.2.m2.2.3.2.2.cmml">z</mi><mi id="S6.SS1.SSS3.p6.2.m2.2.3.2.3" xref="S6.SS1.SSS3.p6.2.m2.2.3.2.3.cmml">t</mi></msub><mo id="S6.SS1.SSS3.p6.2.m2.2.3.1" xref="S6.SS1.SSS3.p6.2.m2.2.3.1.cmml">∈</mo><mrow id="S6.SS1.SSS3.p6.2.m2.2.3.3.2" xref="S6.SS1.SSS3.p6.2.m2.2.3.3.1.cmml"><mo id="S6.SS1.SSS3.p6.2.m2.2.3.3.2.1" stretchy="false" xref="S6.SS1.SSS3.p6.2.m2.2.3.3.1.cmml">[</mo><mn id="S6.SS1.SSS3.p6.2.m2.1.1" xref="S6.SS1.SSS3.p6.2.m2.1.1.cmml">0</mn><mo id="S6.SS1.SSS3.p6.2.m2.2.3.3.2.2" xref="S6.SS1.SSS3.p6.2.m2.2.3.3.1.cmml">,</mo><mn id="S6.SS1.SSS3.p6.2.m2.2.2" xref="S6.SS1.SSS3.p6.2.m2.2.2.cmml">1</mn><mo id="S6.SS1.SSS3.p6.2.m2.2.3.3.2.3" stretchy="false" xref="S6.SS1.SSS3.p6.2.m2.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p6.2.m2.2b"><apply id="S6.SS1.SSS3.p6.2.m2.2.3.cmml" xref="S6.SS1.SSS3.p6.2.m2.2.3"><in id="S6.SS1.SSS3.p6.2.m2.2.3.1.cmml" xref="S6.SS1.SSS3.p6.2.m2.2.3.1"></in><apply id="S6.SS1.SSS3.p6.2.m2.2.3.2.cmml" xref="S6.SS1.SSS3.p6.2.m2.2.3.2"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p6.2.m2.2.3.2.1.cmml" xref="S6.SS1.SSS3.p6.2.m2.2.3.2">subscript</csymbol><ci id="S6.SS1.SSS3.p6.2.m2.2.3.2.2.cmml" xref="S6.SS1.SSS3.p6.2.m2.2.3.2.2">𝑧</ci><ci id="S6.SS1.SSS3.p6.2.m2.2.3.2.3.cmml" xref="S6.SS1.SSS3.p6.2.m2.2.3.2.3">𝑡</ci></apply><interval closure="closed" id="S6.SS1.SSS3.p6.2.m2.2.3.3.1.cmml" xref="S6.SS1.SSS3.p6.2.m2.2.3.3.2"><cn id="S6.SS1.SSS3.p6.2.m2.1.1.cmml" type="integer" xref="S6.SS1.SSS3.p6.2.m2.1.1">0</cn><cn id="S6.SS1.SSS3.p6.2.m2.2.2.cmml" type="integer" xref="S6.SS1.SSS3.p6.2.m2.2.2">1</cn></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p6.2.m2.2c">z_{t}\in[0,1]</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p6.2.m2.2d">italic_z start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ∈ [ 0 , 1 ]</annotation></semantics></math>. Then for a pre-defined <math alttext="\alpha" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p6.3.m3.1"><semantics id="S6.SS1.SSS3.p6.3.m3.1a"><mi id="S6.SS1.SSS3.p6.3.m3.1.1" xref="S6.SS1.SSS3.p6.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p6.3.m3.1b"><ci id="S6.SS1.SSS3.p6.3.m3.1.1.cmml" xref="S6.SS1.SSS3.p6.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p6.3.m3.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p6.3.m3.1d">italic_α</annotation></semantics></math>, we considered the predicted decision <math alttext="\hat{d}_{t}" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p6.4.m4.1"><semantics id="S6.SS1.SSS3.p6.4.m4.1a"><msub id="S6.SS1.SSS3.p6.4.m4.1.1" xref="S6.SS1.SSS3.p6.4.m4.1.1.cmml"><mover accent="true" id="S6.SS1.SSS3.p6.4.m4.1.1.2" xref="S6.SS1.SSS3.p6.4.m4.1.1.2.cmml"><mi id="S6.SS1.SSS3.p6.4.m4.1.1.2.2" xref="S6.SS1.SSS3.p6.4.m4.1.1.2.2.cmml">d</mi><mo id="S6.SS1.SSS3.p6.4.m4.1.1.2.1" xref="S6.SS1.SSS3.p6.4.m4.1.1.2.1.cmml">^</mo></mover><mi id="S6.SS1.SSS3.p6.4.m4.1.1.3" xref="S6.SS1.SSS3.p6.4.m4.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p6.4.m4.1b"><apply id="S6.SS1.SSS3.p6.4.m4.1.1.cmml" xref="S6.SS1.SSS3.p6.4.m4.1.1"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p6.4.m4.1.1.1.cmml" xref="S6.SS1.SSS3.p6.4.m4.1.1">subscript</csymbol><apply id="S6.SS1.SSS3.p6.4.m4.1.1.2.cmml" xref="S6.SS1.SSS3.p6.4.m4.1.1.2"><ci id="S6.SS1.SSS3.p6.4.m4.1.1.2.1.cmml" xref="S6.SS1.SSS3.p6.4.m4.1.1.2.1">^</ci><ci id="S6.SS1.SSS3.p6.4.m4.1.1.2.2.cmml" xref="S6.SS1.SSS3.p6.4.m4.1.1.2.2">𝑑</ci></apply><ci id="S6.SS1.SSS3.p6.4.m4.1.1.3.cmml" xref="S6.SS1.SSS3.p6.4.m4.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p6.4.m4.1c">\hat{d}_{t}</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p6.4.m4.1d">over^ start_ARG italic_d end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> as <math alttext="1" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p6.5.m5.1"><semantics id="S6.SS1.SSS3.p6.5.m5.1a"><mn id="S6.SS1.SSS3.p6.5.m5.1.1" xref="S6.SS1.SSS3.p6.5.m5.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p6.5.m5.1b"><cn id="S6.SS1.SSS3.p6.5.m5.1.1.cmml" type="integer" xref="S6.SS1.SSS3.p6.5.m5.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p6.5.m5.1c">1</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p6.5.m5.1d">1</annotation></semantics></math> if <math alttext="z_{t}\geq 1-\alpha" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p6.6.m6.1"><semantics id="S6.SS1.SSS3.p6.6.m6.1a"><mrow id="S6.SS1.SSS3.p6.6.m6.1.1" xref="S6.SS1.SSS3.p6.6.m6.1.1.cmml"><msub id="S6.SS1.SSS3.p6.6.m6.1.1.2" xref="S6.SS1.SSS3.p6.6.m6.1.1.2.cmml"><mi id="S6.SS1.SSS3.p6.6.m6.1.1.2.2" xref="S6.SS1.SSS3.p6.6.m6.1.1.2.2.cmml">z</mi><mi id="S6.SS1.SSS3.p6.6.m6.1.1.2.3" xref="S6.SS1.SSS3.p6.6.m6.1.1.2.3.cmml">t</mi></msub><mo id="S6.SS1.SSS3.p6.6.m6.1.1.1" xref="S6.SS1.SSS3.p6.6.m6.1.1.1.cmml">≥</mo><mrow id="S6.SS1.SSS3.p6.6.m6.1.1.3" xref="S6.SS1.SSS3.p6.6.m6.1.1.3.cmml"><mn id="S6.SS1.SSS3.p6.6.m6.1.1.3.2" xref="S6.SS1.SSS3.p6.6.m6.1.1.3.2.cmml">1</mn><mo id="S6.SS1.SSS3.p6.6.m6.1.1.3.1" xref="S6.SS1.SSS3.p6.6.m6.1.1.3.1.cmml">−</mo><mi id="S6.SS1.SSS3.p6.6.m6.1.1.3.3" xref="S6.SS1.SSS3.p6.6.m6.1.1.3.3.cmml">α</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p6.6.m6.1b"><apply id="S6.SS1.SSS3.p6.6.m6.1.1.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1"><geq id="S6.SS1.SSS3.p6.6.m6.1.1.1.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1.1"></geq><apply id="S6.SS1.SSS3.p6.6.m6.1.1.2.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p6.6.m6.1.1.2.1.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1.2">subscript</csymbol><ci id="S6.SS1.SSS3.p6.6.m6.1.1.2.2.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1.2.2">𝑧</ci><ci id="S6.SS1.SSS3.p6.6.m6.1.1.2.3.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1.2.3">𝑡</ci></apply><apply id="S6.SS1.SSS3.p6.6.m6.1.1.3.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1.3"><minus id="S6.SS1.SSS3.p6.6.m6.1.1.3.1.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1.3.1"></minus><cn id="S6.SS1.SSS3.p6.6.m6.1.1.3.2.cmml" type="integer" xref="S6.SS1.SSS3.p6.6.m6.1.1.3.2">1</cn><ci id="S6.SS1.SSS3.p6.6.m6.1.1.3.3.cmml" xref="S6.SS1.SSS3.p6.6.m6.1.1.3.3">𝛼</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p6.6.m6.1c">z_{t}\geq 1-\alpha</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p6.6.m6.1d">italic_z start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ≥ 1 - italic_α</annotation></semantics></math> and <math alttext="0" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p6.7.m7.1"><semantics id="S6.SS1.SSS3.p6.7.m7.1a"><mn id="S6.SS1.SSS3.p6.7.m7.1.1" xref="S6.SS1.SSS3.p6.7.m7.1.1.cmml">0</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p6.7.m7.1b"><cn id="S6.SS1.SSS3.p6.7.m7.1.1.cmml" type="integer" xref="S6.SS1.SSS3.p6.7.m7.1.1">0</cn></annotation-xml></semantics></math> otherwise. Then the accuracy is computed by counting the ratio of the succeeded prediction after this conversion.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS3.p7">
<p class="ltx_p" id="S6.SS1.SSS3.p7.1">For baseline models, we convert the model output into users’ decisions based on the ranking of the recommended items. Notice that the baseline SR models do not take previous decisions as explicit input. Hence we filtered the interventional data sequence such that only recommended items with positive decisions are preserved. This strategy is similar to the post-processing procedure for FMLPRec <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib38" title="">2022</a>)</cite> and BSARec <cite class="ltx_cite ltx_citemacro_citep">(Shin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib28" title="">2024a</a>)</cite>.</p>
</div>
<div class="ltx_para" id="S6.SS1.SSS3.p8">
<p class="ltx_p" id="S6.SS1.SSS3.p8.3">To convert the ranking of the recommended items to users’ purchasing decisions, we consider the users’ decision to be <math alttext="1" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p8.1.m1.1"><semantics id="S6.SS1.SSS3.p8.1.m1.1a"><mn id="S6.SS1.SSS3.p8.1.m1.1.1" xref="S6.SS1.SSS3.p8.1.m1.1.1.cmml">1</mn><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p8.1.m1.1b"><cn id="S6.SS1.SSS3.p8.1.m1.1.1.cmml" type="integer" xref="S6.SS1.SSS3.p8.1.m1.1.1">1</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p8.1.m1.1c">1</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p8.1.m1.1d">1</annotation></semantics></math> whenever the predicted score for recommended items are in the top-<math alttext="\alpha" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p8.2.m2.1"><semantics id="S6.SS1.SSS3.p8.2.m2.1a"><mi id="S6.SS1.SSS3.p8.2.m2.1.1" xref="S6.SS1.SSS3.p8.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p8.2.m2.1b"><ci id="S6.SS1.SSS3.p8.2.m2.1.1.cmml" xref="S6.SS1.SSS3.p8.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p8.2.m2.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p8.2.m2.1d">italic_α</annotation></semantics></math>-percent <math alttext="\mathcal{A}_{\alpha}" class="ltx_Math" display="inline" id="S6.SS1.SSS3.p8.3.m3.1"><semantics id="S6.SS1.SSS3.p8.3.m3.1a"><msub id="S6.SS1.SSS3.p8.3.m3.1.1" xref="S6.SS1.SSS3.p8.3.m3.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.SS1.SSS3.p8.3.m3.1.1.2" xref="S6.SS1.SSS3.p8.3.m3.1.1.2.cmml">𝒜</mi><mi id="S6.SS1.SSS3.p8.3.m3.1.1.3" xref="S6.SS1.SSS3.p8.3.m3.1.1.3.cmml">α</mi></msub><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS3.p8.3.m3.1b"><apply id="S6.SS1.SSS3.p8.3.m3.1.1.cmml" xref="S6.SS1.SSS3.p8.3.m3.1.1"><csymbol cd="ambiguous" id="S6.SS1.SSS3.p8.3.m3.1.1.1.cmml" xref="S6.SS1.SSS3.p8.3.m3.1.1">subscript</csymbol><ci id="S6.SS1.SSS3.p8.3.m3.1.1.2.cmml" xref="S6.SS1.SSS3.p8.3.m3.1.1.2">𝒜</ci><ci id="S6.SS1.SSS3.p8.3.m3.1.1.3.cmml" xref="S6.SS1.SSS3.p8.3.m3.1.1.3">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS3.p8.3.m3.1c">\mathcal{A}_{\alpha}</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS3.p8.3.m3.1d">caligraphic_A start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT</annotation></semantics></math>. We then compute the binary cross entropy and adjusted hit rate by comparing the converted decisions with the ground truth decision. Mathematically, AHR for baselins are defined as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S6.E15">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(15)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\text{AHR}_{\text{baselines}}=\frac{1}{N}\sum_{N}\delta(d_{t},\hat{d}_{t}),%
\quad\hat{d}_{t}=\chi_{\mathcal{A}_{\alpha}}(\tilde{z}_{t})." class="ltx_Math" display="block" id="S6.E15.m1.1"><semantics id="S6.E15.m1.1a"><mrow id="S6.E15.m1.1.1.1"><mrow id="S6.E15.m1.1.1.1.1.2" xref="S6.E15.m1.1.1.1.1.3.cmml"><mrow id="S6.E15.m1.1.1.1.1.1.1" xref="S6.E15.m1.1.1.1.1.1.1.cmml"><msub id="S6.E15.m1.1.1.1.1.1.1.4" xref="S6.E15.m1.1.1.1.1.1.1.4.cmml"><mtext id="S6.E15.m1.1.1.1.1.1.1.4.2" xref="S6.E15.m1.1.1.1.1.1.1.4.2a.cmml">AHR</mtext><mtext id="S6.E15.m1.1.1.1.1.1.1.4.3" xref="S6.E15.m1.1.1.1.1.1.1.4.3a.cmml">baselines</mtext></msub><mo id="S6.E15.m1.1.1.1.1.1.1.3" xref="S6.E15.m1.1.1.1.1.1.1.3.cmml">=</mo><mrow id="S6.E15.m1.1.1.1.1.1.1.2" xref="S6.E15.m1.1.1.1.1.1.1.2.cmml"><mfrac id="S6.E15.m1.1.1.1.1.1.1.2.4" xref="S6.E15.m1.1.1.1.1.1.1.2.4.cmml"><mn id="S6.E15.m1.1.1.1.1.1.1.2.4.2" xref="S6.E15.m1.1.1.1.1.1.1.2.4.2.cmml">1</mn><mi id="S6.E15.m1.1.1.1.1.1.1.2.4.3" xref="S6.E15.m1.1.1.1.1.1.1.2.4.3.cmml">N</mi></mfrac><mo id="S6.E15.m1.1.1.1.1.1.1.2.3" xref="S6.E15.m1.1.1.1.1.1.1.2.3.cmml">⁢</mo><mrow id="S6.E15.m1.1.1.1.1.1.1.2.2" xref="S6.E15.m1.1.1.1.1.1.1.2.2.cmml"><munder id="S6.E15.m1.1.1.1.1.1.1.2.2.3" xref="S6.E15.m1.1.1.1.1.1.1.2.2.3.cmml"><mo id="S6.E15.m1.1.1.1.1.1.1.2.2.3.2" movablelimits="false" xref="S6.E15.m1.1.1.1.1.1.1.2.2.3.2.cmml">∑</mo><mi id="S6.E15.m1.1.1.1.1.1.1.2.2.3.3" xref="S6.E15.m1.1.1.1.1.1.1.2.2.3.3.cmml">N</mi></munder><mrow id="S6.E15.m1.1.1.1.1.1.1.2.2.2" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="S6.E15.m1.1.1.1.1.1.1.2.2.2.4" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.4.cmml">δ</mi><mo id="S6.E15.m1.1.1.1.1.1.1.2.2.2.3" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.3.cmml">⁢</mo><mrow id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.3.cmml"><mo id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.3" stretchy="false" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">(</mo><msub id="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1" xref="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">d</mi><mi id="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.4" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">,</mo><msub id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml"><mover accent="true" id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.cmml"><mi id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.2" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.2.cmml">d</mi><mo id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.1" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.1.cmml">^</mo></mover><mi id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.3" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.cmml">t</mi></msub><mo id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.5" stretchy="false" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo id="S6.E15.m1.1.1.1.1.2.3" rspace="1.167em" xref="S6.E15.m1.1.1.1.1.3a.cmml">,</mo><mrow id="S6.E15.m1.1.1.1.1.2.2" xref="S6.E15.m1.1.1.1.1.2.2.cmml"><msub id="S6.E15.m1.1.1.1.1.2.2.3" xref="S6.E15.m1.1.1.1.1.2.2.3.cmml"><mover accent="true" id="S6.E15.m1.1.1.1.1.2.2.3.2" xref="S6.E15.m1.1.1.1.1.2.2.3.2.cmml"><mi id="S6.E15.m1.1.1.1.1.2.2.3.2.2" xref="S6.E15.m1.1.1.1.1.2.2.3.2.2.cmml">d</mi><mo id="S6.E15.m1.1.1.1.1.2.2.3.2.1" xref="S6.E15.m1.1.1.1.1.2.2.3.2.1.cmml">^</mo></mover><mi id="S6.E15.m1.1.1.1.1.2.2.3.3" xref="S6.E15.m1.1.1.1.1.2.2.3.3.cmml">t</mi></msub><mo id="S6.E15.m1.1.1.1.1.2.2.2" xref="S6.E15.m1.1.1.1.1.2.2.2.cmml">=</mo><mrow id="S6.E15.m1.1.1.1.1.2.2.1" xref="S6.E15.m1.1.1.1.1.2.2.1.cmml"><msub id="S6.E15.m1.1.1.1.1.2.2.1.3" xref="S6.E15.m1.1.1.1.1.2.2.1.3.cmml"><mi id="S6.E15.m1.1.1.1.1.2.2.1.3.2" xref="S6.E15.m1.1.1.1.1.2.2.1.3.2.cmml">χ</mi><msub id="S6.E15.m1.1.1.1.1.2.2.1.3.3" xref="S6.E15.m1.1.1.1.1.2.2.1.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S6.E15.m1.1.1.1.1.2.2.1.3.3.2" xref="S6.E15.m1.1.1.1.1.2.2.1.3.3.2.cmml">𝒜</mi><mi id="S6.E15.m1.1.1.1.1.2.2.1.3.3.3" xref="S6.E15.m1.1.1.1.1.2.2.1.3.3.3.cmml">α</mi></msub></msub><mo id="S6.E15.m1.1.1.1.1.2.2.1.2" xref="S6.E15.m1.1.1.1.1.2.2.1.2.cmml">⁢</mo><mrow id="S6.E15.m1.1.1.1.1.2.2.1.1.1" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.cmml"><mo id="S6.E15.m1.1.1.1.1.2.2.1.1.1.2" stretchy="false" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.cmml">(</mo><msub id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.cmml"><mover accent="true" id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.cmml"><mi id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.2" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.2.cmml">z</mi><mo id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.1" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.1.cmml">~</mo></mover><mi id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.3" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.3.cmml">t</mi></msub><mo id="S6.E15.m1.1.1.1.1.2.2.1.1.1.3" stretchy="false" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S6.E15.m1.1.1.1.2" lspace="0em">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.E15.m1.1b"><apply id="S6.E15.m1.1.1.1.1.3.cmml" xref="S6.E15.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.3a.cmml" xref="S6.E15.m1.1.1.1.1.2.3">formulae-sequence</csymbol><apply id="S6.E15.m1.1.1.1.1.1.1.cmml" xref="S6.E15.m1.1.1.1.1.1.1"><eq id="S6.E15.m1.1.1.1.1.1.1.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.3"></eq><apply id="S6.E15.m1.1.1.1.1.1.1.4.cmml" xref="S6.E15.m1.1.1.1.1.1.1.4"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.1.1.4.1.cmml" xref="S6.E15.m1.1.1.1.1.1.1.4">subscript</csymbol><ci id="S6.E15.m1.1.1.1.1.1.1.4.2a.cmml" xref="S6.E15.m1.1.1.1.1.1.1.4.2"><mtext id="S6.E15.m1.1.1.1.1.1.1.4.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.4.2">AHR</mtext></ci><ci id="S6.E15.m1.1.1.1.1.1.1.4.3a.cmml" xref="S6.E15.m1.1.1.1.1.1.1.4.3"><mtext id="S6.E15.m1.1.1.1.1.1.1.4.3.cmml" mathsize="70%" xref="S6.E15.m1.1.1.1.1.1.1.4.3">baselines</mtext></ci></apply><apply id="S6.E15.m1.1.1.1.1.1.1.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2"><times id="S6.E15.m1.1.1.1.1.1.1.2.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.3"></times><apply id="S6.E15.m1.1.1.1.1.1.1.2.4.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.4"><divide id="S6.E15.m1.1.1.1.1.1.1.2.4.1.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.4"></divide><cn id="S6.E15.m1.1.1.1.1.1.1.2.4.2.cmml" type="integer" xref="S6.E15.m1.1.1.1.1.1.1.2.4.2">1</cn><ci id="S6.E15.m1.1.1.1.1.1.1.2.4.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.4.3">𝑁</ci></apply><apply id="S6.E15.m1.1.1.1.1.1.1.2.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2"><apply id="S6.E15.m1.1.1.1.1.1.1.2.2.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.3">subscript</csymbol><sum id="S6.E15.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.3.2"></sum><ci id="S6.E15.m1.1.1.1.1.1.1.2.2.3.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.3.3">𝑁</ci></apply><apply id="S6.E15.m1.1.1.1.1.1.1.2.2.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2"><times id="S6.E15.m1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.3"></times><ci id="S6.E15.m1.1.1.1.1.1.1.2.2.2.4.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.4">𝛿</ci><interval closure="open" id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2"><apply id="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑑</ci><ci id="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.1.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2">subscript</csymbol><apply id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2"><ci id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.1.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.1">^</ci><ci id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.2.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.2.2">𝑑</ci></apply><ci id="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.3.cmml" xref="S6.E15.m1.1.1.1.1.1.1.2.2.2.2.2.2.3">𝑡</ci></apply></interval></apply></apply></apply></apply><apply id="S6.E15.m1.1.1.1.1.2.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2"><eq id="S6.E15.m1.1.1.1.1.2.2.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2.2"></eq><apply id="S6.E15.m1.1.1.1.1.2.2.3.cmml" xref="S6.E15.m1.1.1.1.1.2.2.3"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.2.2.3.1.cmml" xref="S6.E15.m1.1.1.1.1.2.2.3">subscript</csymbol><apply id="S6.E15.m1.1.1.1.1.2.2.3.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2.3.2"><ci id="S6.E15.m1.1.1.1.1.2.2.3.2.1.cmml" xref="S6.E15.m1.1.1.1.1.2.2.3.2.1">^</ci><ci id="S6.E15.m1.1.1.1.1.2.2.3.2.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2.3.2.2">𝑑</ci></apply><ci id="S6.E15.m1.1.1.1.1.2.2.3.3.cmml" xref="S6.E15.m1.1.1.1.1.2.2.3.3">𝑡</ci></apply><apply id="S6.E15.m1.1.1.1.1.2.2.1.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1"><times id="S6.E15.m1.1.1.1.1.2.2.1.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.2"></times><apply id="S6.E15.m1.1.1.1.1.2.2.1.3.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.3"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.2.2.1.3.1.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.3">subscript</csymbol><ci id="S6.E15.m1.1.1.1.1.2.2.1.3.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.3.2">𝜒</ci><apply id="S6.E15.m1.1.1.1.1.2.2.1.3.3.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.3.3"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.2.2.1.3.3.1.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.3.3">subscript</csymbol><ci id="S6.E15.m1.1.1.1.1.2.2.1.3.3.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.3.3.2">𝒜</ci><ci id="S6.E15.m1.1.1.1.1.2.2.1.3.3.3.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.3.3.3">𝛼</ci></apply></apply><apply id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.1.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1">subscript</csymbol><apply id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2"><ci id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.1.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.1">~</ci><ci id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.2.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.2.2">𝑧</ci></apply><ci id="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.3.cmml" xref="S6.E15.m1.1.1.1.1.2.2.1.1.1.1.3">𝑡</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.E15.m1.1c">\text{AHR}_{\text{baselines}}=\frac{1}{N}\sum_{N}\delta(d_{t},\hat{d}_{t}),%
\quad\hat{d}_{t}=\chi_{\mathcal{A}_{\alpha}}(\tilde{z}_{t}).</annotation><annotation encoding="application/x-llamapun" id="S6.E15.m1.1d">AHR start_POSTSUBSCRIPT baselines end_POSTSUBSCRIPT = divide start_ARG 1 end_ARG start_ARG italic_N end_ARG ∑ start_POSTSUBSCRIPT italic_N end_POSTSUBSCRIPT italic_δ ( italic_d start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , over^ start_ARG italic_d end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) , over^ start_ARG italic_d end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT = italic_χ start_POSTSUBSCRIPT caligraphic_A start_POSTSUBSCRIPT italic_α end_POSTSUBSCRIPT end_POSTSUBSCRIPT ( over~ start_ARG italic_z end_ARG start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
<div class="ltx_theorem ltx_theorem_remark" id="S6.Thmtheorem1">
<h6 class="ltx_title ltx_runin ltx_title_theorem">
<span class="ltx_tag ltx_tag_theorem"><span class="ltx_text ltx_font_italic" id="S6.Thmtheorem1.1.1.1">Remark 6.1</span></span><span class="ltx_text ltx_font_italic" id="S6.Thmtheorem1.2.2">.</span>
</h6>
<div class="ltx_para" id="S6.Thmtheorem1.p1">
<p class="ltx_p" id="S6.Thmtheorem1.p1.3">We computed AHR@<math alttext="\alpha" class="ltx_Math" display="inline" id="S6.Thmtheorem1.p1.1.m1.1"><semantics id="S6.Thmtheorem1.p1.1.m1.1a"><mi id="S6.Thmtheorem1.p1.1.m1.1.1" xref="S6.Thmtheorem1.p1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S6.Thmtheorem1.p1.1.m1.1b"><ci id="S6.Thmtheorem1.p1.1.m1.1.1.cmml" xref="S6.Thmtheorem1.p1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.Thmtheorem1.p1.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S6.Thmtheorem1.p1.1.m1.1d">italic_α</annotation></semantics></math> for both CSRec and baseline SR models through the discrepancy of their predicted decision after conversion and the ground truth decision. The difference lies in the conversion due to the difference of the objective of CSRec and baseline SR models. Specifically, results for CSRec are mapped to <math alttext="\{0,1\}" class="ltx_Math" display="inline" id="S6.Thmtheorem1.p1.2.m2.2"><semantics id="S6.Thmtheorem1.p1.2.m2.2a"><mrow id="S6.Thmtheorem1.p1.2.m2.2.3.2" xref="S6.Thmtheorem1.p1.2.m2.2.3.1.cmml"><mo id="S6.Thmtheorem1.p1.2.m2.2.3.2.1" stretchy="false" xref="S6.Thmtheorem1.p1.2.m2.2.3.1.cmml">{</mo><mn id="S6.Thmtheorem1.p1.2.m2.1.1" xref="S6.Thmtheorem1.p1.2.m2.1.1.cmml">0</mn><mo id="S6.Thmtheorem1.p1.2.m2.2.3.2.2" xref="S6.Thmtheorem1.p1.2.m2.2.3.1.cmml">,</mo><mn id="S6.Thmtheorem1.p1.2.m2.2.2" xref="S6.Thmtheorem1.p1.2.m2.2.2.cmml">1</mn><mo id="S6.Thmtheorem1.p1.2.m2.2.3.2.3" stretchy="false" xref="S6.Thmtheorem1.p1.2.m2.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.Thmtheorem1.p1.2.m2.2b"><set id="S6.Thmtheorem1.p1.2.m2.2.3.1.cmml" xref="S6.Thmtheorem1.p1.2.m2.2.3.2"><cn id="S6.Thmtheorem1.p1.2.m2.1.1.cmml" type="integer" xref="S6.Thmtheorem1.p1.2.m2.1.1">0</cn><cn id="S6.Thmtheorem1.p1.2.m2.2.2.cmml" type="integer" xref="S6.Thmtheorem1.p1.2.m2.2.2">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.Thmtheorem1.p1.2.m2.2c">\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S6.Thmtheorem1.p1.2.m2.2d">{ 0 , 1 }</annotation></semantics></math> according to the absolute value of the output because we model the probability; results for baseline SR models are mapped to <math alttext="\{0,1\}" class="ltx_Math" display="inline" id="S6.Thmtheorem1.p1.3.m3.2"><semantics id="S6.Thmtheorem1.p1.3.m3.2a"><mrow id="S6.Thmtheorem1.p1.3.m3.2.3.2" xref="S6.Thmtheorem1.p1.3.m3.2.3.1.cmml"><mo id="S6.Thmtheorem1.p1.3.m3.2.3.2.1" stretchy="false" xref="S6.Thmtheorem1.p1.3.m3.2.3.1.cmml">{</mo><mn id="S6.Thmtheorem1.p1.3.m3.1.1" xref="S6.Thmtheorem1.p1.3.m3.1.1.cmml">0</mn><mo id="S6.Thmtheorem1.p1.3.m3.2.3.2.2" xref="S6.Thmtheorem1.p1.3.m3.2.3.1.cmml">,</mo><mn id="S6.Thmtheorem1.p1.3.m3.2.2" xref="S6.Thmtheorem1.p1.3.m3.2.2.cmml">1</mn><mo id="S6.Thmtheorem1.p1.3.m3.2.3.2.3" stretchy="false" xref="S6.Thmtheorem1.p1.3.m3.2.3.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S6.Thmtheorem1.p1.3.m3.2b"><set id="S6.Thmtheorem1.p1.3.m3.2.3.1.cmml" xref="S6.Thmtheorem1.p1.3.m3.2.3.2"><cn id="S6.Thmtheorem1.p1.3.m3.1.1.cmml" type="integer" xref="S6.Thmtheorem1.p1.3.m3.1.1">0</cn><cn id="S6.Thmtheorem1.p1.3.m3.2.2.cmml" type="integer" xref="S6.Thmtheorem1.p1.3.m3.2.2">1</cn></set></annotation-xml><annotation encoding="application/x-tex" id="S6.Thmtheorem1.p1.3.m3.2c">\{0,1\}</annotation><annotation encoding="application/x-llamapun" id="S6.Thmtheorem1.p1.3.m3.2d">{ 0 , 1 }</annotation></semantics></math> depending on the ranking for the inquired item.</p>
</div>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS1.SSS4">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">6.1.4. </span>Parameter settings.</h4>
<div class="ltx_para" id="S6.SS1.SSS4.p1">
<p class="ltx_p" id="S6.SS1.SSS4.p1.1">For both of the datasets, the input sequences for both interventional or observational data are composed of the last 50 items before the target time index.
If the sequence length is less than 50, the sequence is padded with zeros.
We train all models with the Adam optimizer with <math alttext="\beta_{1}=0.9,\beta_{2}=0.999" class="ltx_Math" display="inline" id="S6.SS1.SSS4.p1.1.m1.2"><semantics id="S6.SS1.SSS4.p1.1.m1.2a"><mrow id="S6.SS1.SSS4.p1.1.m1.2.2.2" xref="S6.SS1.SSS4.p1.1.m1.2.2.3.cmml"><mrow id="S6.SS1.SSS4.p1.1.m1.1.1.1.1" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.cmml"><msub id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.cmml"><mi id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.2" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.2.cmml">β</mi><mn id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.3" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.3.cmml">1</mn></msub><mo id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.1" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.1.cmml">=</mo><mn id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.3" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.3.cmml">0.9</mn></mrow><mo id="S6.SS1.SSS4.p1.1.m1.2.2.2.3" xref="S6.SS1.SSS4.p1.1.m1.2.2.3a.cmml">,</mo><mrow id="S6.SS1.SSS4.p1.1.m1.2.2.2.2" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.cmml"><msub id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.cmml"><mi id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.2" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.2.cmml">β</mi><mn id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.3" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.3.cmml">2</mn></msub><mo id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.1" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.1.cmml">=</mo><mn id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.3" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.3.cmml">0.999</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS1.SSS4.p1.1.m1.2b"><apply id="S6.SS1.SSS4.p1.1.m1.2.2.3.cmml" xref="S6.SS1.SSS4.p1.1.m1.2.2.2"><csymbol cd="ambiguous" id="S6.SS1.SSS4.p1.1.m1.2.2.3a.cmml" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.3">formulae-sequence</csymbol><apply id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.cmml" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1"><eq id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.1.cmml" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.1"></eq><apply id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.cmml" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2"><csymbol cd="ambiguous" id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.1.cmml" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2">subscript</csymbol><ci id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.2.cmml" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.2">𝛽</ci><cn id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.3.cmml" type="integer" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.2.3">1</cn></apply><cn id="S6.SS1.SSS4.p1.1.m1.1.1.1.1.3.cmml" type="float" xref="S6.SS1.SSS4.p1.1.m1.1.1.1.1.3">0.9</cn></apply><apply id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.cmml" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2"><eq id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.1.cmml" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.1"></eq><apply id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.cmml" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.1.cmml" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.2.cmml" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.2">𝛽</ci><cn id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.3.cmml" type="integer" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.2.3">2</cn></apply><cn id="S6.SS1.SSS4.p1.1.m1.2.2.2.2.3.cmml" type="float" xref="S6.SS1.SSS4.p1.1.m1.2.2.2.2.3">0.999</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS1.SSS4.p1.1.m1.2c">\beta_{1}=0.9,\beta_{2}=0.999</annotation><annotation encoding="application/x-llamapun" id="S6.SS1.SSS4.p1.1.m1.2d">italic_β start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT = 0.9 , italic_β start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT = 0.999</annotation></semantics></math>. The learning rate is set to b/e 0.0005 for GPT4-books and 0.001 for MSSD, and the batch size is set to be 256. For consistency, the item embedding size is set to be 64 for all models.
All parameters used for training baselines and CSRec can be found in the anonymous GitHub repository.</p>
</div>
</section>
</section>
<section class="ltx_subsection" id="S6.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2. </span>Experimental results</h3>
<section class="ltx_subsubsection" id="S6.SS2.SSS1">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">6.2.1. </span><span class="ltx_text ltx_font_bold" id="S6.SS2.SSS1.1.1">[RQ1]</span>. The proposed method outperforms baselines on interventional data.</h4>
<div class="ltx_para" id="S6.SS2.SSS1.p1">
<p class="ltx_p" id="S6.SS2.SSS1.p1.3"><a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T1" title="In 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T2" title="In 6.1.3. Evaluation metrics ‣ 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">2</span></a> show the performance of CSRec and baseline SR models on both interventional and observational data for datasets GPT4-books and MSSD. Here for CSRec, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T1" title="In 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> shows the result of using FMLPRec for approximating the quantity <math alttext="\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.1.m1.1"><semantics id="S6.SS2.SSS1.p1.1.m1.1a"><mrow id="S6.SS2.SSS1.p1.1.m1.1.1" xref="S6.SS2.SSS1.p1.1.m1.1.1.cmml"><mi id="S6.SS2.SSS1.p1.1.m1.1.1.3" xref="S6.SS2.SSS1.p1.1.m1.1.1.3.cmml">ℙ</mi><mo id="S6.SS2.SSS1.p1.1.m1.1.1.2" xref="S6.SS2.SSS1.p1.1.m1.1.1.2.cmml">⁢</mo><mrow id="S6.SS2.SSS1.p1.1.m1.1.1.1.1" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.cmml"><mo id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.2" stretchy="false" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.cmml">(</mo><mrow id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.cmml"><msub id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.cmml"><mi id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.2" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.2.cmml">D</mi><mi id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.3" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.3.cmml">t</mi></msub><mo fence="false" id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.4" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.4.cmml">|</mo><mrow id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.4.cmml"><msub id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.2" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.3" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.4" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.cmml"><mi id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.2" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.2.cmml">D</mi><mrow id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.cmml"><mi id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.2" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.1" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.3" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.5" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.4.cmml">,</mo><msub id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.cmml"><mi id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.2" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.2.cmml">P</mi><mi id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.3" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.3.cmml">t</mi></msub></mrow></mrow><mo id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.3" stretchy="false" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.1.m1.1b"><apply id="S6.SS2.SSS1.p1.1.m1.1.1.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1"><times id="S6.SS2.SSS1.p1.1.m1.1.1.2.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.2"></times><ci id="S6.SS2.SSS1.p1.1.m1.1.1.3.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.3">ℙ</ci><apply id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1"><csymbol cd="latexml" id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.4.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.4">conditional</csymbol><apply id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5"><csymbol cd="ambiguous" id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.1.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5">subscript</csymbol><ci id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.2.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.2">𝐷</ci><ci id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.3.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.5.3">𝑡</ci></apply><list id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.4.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3"><apply id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.1.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.2.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.2">𝐷</ci><apply id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3"><minus id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.1.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.2.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><apply id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.1.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.2.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.2">𝑃</ci><ci id="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.3.cmml" xref="S6.SS2.SSS1.p1.1.m1.1.1.1.1.1.3.3.3.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.1.m1.1c">\mathbb{P}(D_{t}|S_{t},D_{t-1},P_{t})</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.1.m1.1d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math>, and in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T2" title="In 6.1.3. Evaluation metrics ‣ 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">2</span></a>, we used BSARec to estimate it. We used the adjusted hit rate (AHR) with two different ratios <math alttext="0.2" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.2.m2.1"><semantics id="S6.SS2.SSS1.p1.2.m2.1a"><mn id="S6.SS2.SSS1.p1.2.m2.1.1" xref="S6.SS2.SSS1.p1.2.m2.1.1.cmml">0.2</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.2.m2.1b"><cn id="S6.SS2.SSS1.p1.2.m2.1.1.cmml" type="float" xref="S6.SS2.SSS1.p1.2.m2.1.1">0.2</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.2.m2.1c">0.2</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.2.m2.1d">0.2</annotation></semantics></math> and <math alttext="0.5" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p1.3.m3.1"><semantics id="S6.SS2.SSS1.p1.3.m3.1a"><mn id="S6.SS2.SSS1.p1.3.m3.1.1" xref="S6.SS2.SSS1.p1.3.m3.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p1.3.m3.1b"><cn id="S6.SS2.SSS1.p1.3.m3.1.1.cmml" type="float" xref="S6.SS2.SSS1.p1.3.m3.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p1.3.m3.1c">0.5</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p1.3.m3.1d">0.5</annotation></semantics></math> as evaluation metrics. As a comparison, we also included the results for WSDM winning model (Few-Shot) and integrated it with our framework (CS-Few-Shot) on real-world MSSD, shown in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T2" title="In 6.1.3. Evaluation metrics ‣ 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">2</span></a>.</p>
</div>
<div class="ltx_para" id="S6.SS2.SSS1.p2">
<p class="ltx_p" id="S6.SS2.SSS1.p2.4">We observe that on both datasets, AHR for <math alttext="\alpha" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p2.1.m1.1"><semantics id="S6.SS2.SSS1.p2.1.m1.1a"><mi id="S6.SS2.SSS1.p2.1.m1.1.1" xref="S6.SS2.SSS1.p2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p2.1.m1.1b"><ci id="S6.SS2.SSS1.p2.1.m1.1.1.cmml" xref="S6.SS2.SSS1.p2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p2.1.m1.1c">\alpha</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p2.1.m1.1d">italic_α</annotation></semantics></math> at both <math alttext="0.2" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p2.2.m2.1"><semantics id="S6.SS2.SSS1.p2.2.m2.1a"><mn id="S6.SS2.SSS1.p2.2.m2.1.1" xref="S6.SS2.SSS1.p2.2.m2.1.1.cmml">0.2</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p2.2.m2.1b"><cn id="S6.SS2.SSS1.p2.2.m2.1.1.cmml" type="float" xref="S6.SS2.SSS1.p2.2.m2.1.1">0.2</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p2.2.m2.1c">0.2</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p2.2.m2.1d">0.2</annotation></semantics></math> and <math alttext="0.5" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p2.3.m3.1"><semantics id="S6.SS2.SSS1.p2.3.m3.1a"><mn id="S6.SS2.SSS1.p2.3.m3.1.1" xref="S6.SS2.SSS1.p2.3.m3.1.1.cmml">0.5</mn><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p2.3.m3.1b"><cn id="S6.SS2.SSS1.p2.3.m3.1.1.cmml" type="float" xref="S6.SS2.SSS1.p2.3.m3.1.1">0.5</cn></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p2.3.m3.1c">0.5</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p2.3.m3.1d">0.5</annotation></semantics></math> has been improved tremendously.
On GPT4-books dataset, SASRec has the highest score for AHR@0.2, and CSRec approximately triples the score on GPT4-books, meaning that using <math alttext="\alpha=0.2" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p2.4.m4.1"><semantics id="S6.SS2.SSS1.p2.4.m4.1a"><mrow id="S6.SS2.SSS1.p2.4.m4.1.1" xref="S6.SS2.SSS1.p2.4.m4.1.1.cmml"><mi id="S6.SS2.SSS1.p2.4.m4.1.1.2" xref="S6.SS2.SSS1.p2.4.m4.1.1.2.cmml">α</mi><mo id="S6.SS2.SSS1.p2.4.m4.1.1.1" xref="S6.SS2.SSS1.p2.4.m4.1.1.1.cmml">=</mo><mn id="S6.SS2.SSS1.p2.4.m4.1.1.3" xref="S6.SS2.SSS1.p2.4.m4.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p2.4.m4.1b"><apply id="S6.SS2.SSS1.p2.4.m4.1.1.cmml" xref="S6.SS2.SSS1.p2.4.m4.1.1"><eq id="S6.SS2.SSS1.p2.4.m4.1.1.1.cmml" xref="S6.SS2.SSS1.p2.4.m4.1.1.1"></eq><ci id="S6.SS2.SSS1.p2.4.m4.1.1.2.cmml" xref="S6.SS2.SSS1.p2.4.m4.1.1.2">𝛼</ci><cn id="S6.SS2.SSS1.p2.4.m4.1.1.3.cmml" type="float" xref="S6.SS2.SSS1.p2.4.m4.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p2.4.m4.1c">\alpha=0.2</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p2.4.m4.1d">italic_α = 0.2</annotation></semantics></math>, the accuracy for predicting users’ decisions using CSRec could be almost three times than that using baseline SR models. Even with a more relaxed metric AHR@0.5, on GPT4-books, baseline SR models is only doing slightly better than a random guess.</p>
</div>
<div class="ltx_para" id="S6.SS2.SSS1.p3">
<p class="ltx_p" id="S6.SS2.SSS1.p3.1">On real-world MSSD data, CSRec outperforms SOTA SR models by a factor of 1.5 using AHR@0.2, with a higher score on AHR@0.5 as well. Furthermore, when integrated with WSDM winning model, our framework (CS-Few-Shot) achieves the hit rate accuracy as high as 0.6764 using conversion threshold <math alttext="\alpha=0.2" class="ltx_Math" display="inline" id="S6.SS2.SSS1.p3.1.m1.1"><semantics id="S6.SS2.SSS1.p3.1.m1.1a"><mrow id="S6.SS2.SSS1.p3.1.m1.1.1" xref="S6.SS2.SSS1.p3.1.m1.1.1.cmml"><mi id="S6.SS2.SSS1.p3.1.m1.1.1.2" xref="S6.SS2.SSS1.p3.1.m1.1.1.2.cmml">α</mi><mo id="S6.SS2.SSS1.p3.1.m1.1.1.1" xref="S6.SS2.SSS1.p3.1.m1.1.1.1.cmml">=</mo><mn id="S6.SS2.SSS1.p3.1.m1.1.1.3" xref="S6.SS2.SSS1.p3.1.m1.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S6.SS2.SSS1.p3.1.m1.1b"><apply id="S6.SS2.SSS1.p3.1.m1.1.1.cmml" xref="S6.SS2.SSS1.p3.1.m1.1.1"><eq id="S6.SS2.SSS1.p3.1.m1.1.1.1.cmml" xref="S6.SS2.SSS1.p3.1.m1.1.1.1"></eq><ci id="S6.SS2.SSS1.p3.1.m1.1.1.2.cmml" xref="S6.SS2.SSS1.p3.1.m1.1.1.2">𝛼</ci><cn id="S6.SS2.SSS1.p3.1.m1.1.1.3.cmml" type="float" xref="S6.SS2.SSS1.p3.1.m1.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.SS2.SSS1.p3.1.m1.1c">\alpha=0.2</annotation><annotation encoding="application/x-llamapun" id="S6.SS2.SSS1.p3.1.m1.1d">italic_α = 0.2</annotation></semantics></math>. Compared to the original model, our framework is able to improve the accuracy of modeling users’ decision by 64%.</p>
</div>
<div class="ltx_para" id="S6.SS2.SSS1.p4">
<p class="ltx_p" id="S6.SS2.SSS1.p4.1">It is because baseline SR models do not take negative decisions explicitly into consideration. Therefore, they neglected the fact that current decision is affected by previous recommendations (either successful or unsuccessful).
This observation highlights the significance of distinguishing users’ natural selection processes and their decision making processes under recommendation.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS2.SSS2">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">6.2.2. </span><span class="ltx_text ltx_font_bold" id="S6.SS2.SSS2.1.1">[RQ2]</span>. The proposed method does not degrade the performance on observational data.</h4>
<div class="ltx_para" id="S6.SS2.SSS2.p1">
<p class="ltx_p" id="S6.SS2.SSS2.p1.1">We compared CSRec and baseline SR models on the observational data for both GPT4-books and MSSD. Results are shown in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T1" title="In 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a> and <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T2" title="In 6.1.3. Evaluation metrics ‣ 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">2</span></a> respectively.</p>
</div>
<div class="ltx_para" id="S6.SS2.SSS2.p2">
<p class="ltx_p" id="S6.SS2.SSS2.p2.1">On MSSD dataset (<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T2" title="In 6.1.3. Evaluation metrics ‣ 6.1. Basic setup ‣ 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">2</span></a>), we observe that compared to the general SOTA SR models, CSRec achieves higher score for the five metrics out of six except for HR@20. Moreover, when integrating with the winning model, our framework (CS-Few-Shot) is able to maintain its existing level of performance.</p>
</div>
<div class="ltx_para" id="S6.SS2.SSS2.p3">
<p class="ltx_p" id="S6.SS2.SSS2.p3.1">On GPT4-books dataset (<a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S6.T1" title="In 6. Experiment ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">1</span></a>), though CSRec does not improve the baseline SR models on observational data, it also does not cause any degradation on the performance.
Specifically, on GPT4-books, CSRec achieved a slightly higher score on HR@20 than BSARec, which has the highest score among all baselines. In general, CSRec is able to receive median scores for all metrics.</p>
</div>
<div class="ltx_para" id="S6.SS2.SSS2.p4">
<p class="ltx_p" id="S6.SS2.SSS2.p4.1">Consequently, CSRec is able to improve existing models on interventional data while maintaining their performance on observational data.
This reveals that CSRec has a wide application in practice.</p>
</div>
</section>
<section class="ltx_subsubsection" id="S6.SS2.SSS3">
<h4 class="ltx_title ltx_title_subsubsection">
<span class="ltx_tag ltx_tag_subsubsection">6.2.3. </span><span class="ltx_text ltx_font_bold" id="S6.SS2.SSS3.1.1">[RQ3]</span>. The proposed method universally improves baseline SR models on interventional data.</h4>
<div class="ltx_para" id="S6.SS2.SSS3.p1">
<p class="ltx_p" id="S6.SS2.SSS3.p1.1">We further integrated CSRec with four baseline SR models: SASRec, BERT4Rec, FMLPRec and BSARec, on interventional data for GPT4-books. We show in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3.T4" title="In C.1. Spotify: Sequential Music Streaming Challenge ‣ Appendix C Experimental Details ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">4</span></a> the improvement of incorporating CSRec into the four recommendation models in absolute scores as well as the percentage change. For all four tested baseline models, CSRec is able to universally improve their performance using both metrics. However, the improvement varies depending on the baseline models used. This might be because the integration of each baseline requires its own tuning scheme. It’s important to note that we did not adjust the training parameters for the different baseline models.</p>
</div>
<figure class="ltx_table" id="S6.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="S6.T3.10.2.1" style="font-size:90%;">Table 3</span>. </span><span class="ltx_text" id="S6.T3.2.1" style="font-size:90%;"> Improvement of CSRec integrated with baselines SASRec, BERT4Rec, FMLPRec and BSARec on GPT4-books using AHR@0.2 and AHR@0.5. Each column <math alttext="\delta_{\text{model}}" class="ltx_Math" display="inline" id="S6.T3.2.1.m1.1"><semantics id="S6.T3.2.1.m1.1b"><msub id="S6.T3.2.1.m1.1.1" xref="S6.T3.2.1.m1.1.1.cmml"><mi id="S6.T3.2.1.m1.1.1.2" xref="S6.T3.2.1.m1.1.1.2.cmml">δ</mi><mtext id="S6.T3.2.1.m1.1.1.3" xref="S6.T3.2.1.m1.1.1.3a.cmml">model</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T3.2.1.m1.1c"><apply id="S6.T3.2.1.m1.1.1.cmml" xref="S6.T3.2.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T3.2.1.m1.1.1.1.cmml" xref="S6.T3.2.1.m1.1.1">subscript</csymbol><ci id="S6.T3.2.1.m1.1.1.2.cmml" xref="S6.T3.2.1.m1.1.1.2">𝛿</ci><ci id="S6.T3.2.1.m1.1.1.3a.cmml" xref="S6.T3.2.1.m1.1.1.3"><mtext id="S6.T3.2.1.m1.1.1.3.cmml" mathsize="70%" xref="S6.T3.2.1.m1.1.1.3">model</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.2.1.m1.1d">\delta_{\text{model}}</annotation><annotation encoding="application/x-llamapun" id="S6.T3.2.1.m1.1e">italic_δ start_POSTSUBSCRIPT model end_POSTSUBSCRIPT</annotation></semantics></math> represents the improvement in scores after applying CSRec on each model with the percentage change in the parenthesis. </span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="S6.T3.8.6">
<tr class="ltx_tr" id="S6.T3.6.4.4">
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.6.4.4.5"><span class="ltx_text" id="S6.T3.6.4.4.5.1" style="font-size:80%;">Metric</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.3.1.1.1"><math alttext="\delta_{\text{SASRec}}" class="ltx_Math" display="inline" id="S6.T3.3.1.1.1.m1.1"><semantics id="S6.T3.3.1.1.1.m1.1a"><msub id="S6.T3.3.1.1.1.m1.1.1" xref="S6.T3.3.1.1.1.m1.1.1.cmml"><mi id="S6.T3.3.1.1.1.m1.1.1.2" mathsize="80%" xref="S6.T3.3.1.1.1.m1.1.1.2.cmml">δ</mi><mtext id="S6.T3.3.1.1.1.m1.1.1.3" mathsize="80%" xref="S6.T3.3.1.1.1.m1.1.1.3a.cmml">SASRec</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T3.3.1.1.1.m1.1b"><apply id="S6.T3.3.1.1.1.m1.1.1.cmml" xref="S6.T3.3.1.1.1.m1.1.1"><csymbol cd="ambiguous" id="S6.T3.3.1.1.1.m1.1.1.1.cmml" xref="S6.T3.3.1.1.1.m1.1.1">subscript</csymbol><ci id="S6.T3.3.1.1.1.m1.1.1.2.cmml" xref="S6.T3.3.1.1.1.m1.1.1.2">𝛿</ci><ci id="S6.T3.3.1.1.1.m1.1.1.3a.cmml" xref="S6.T3.3.1.1.1.m1.1.1.3"><mtext id="S6.T3.3.1.1.1.m1.1.1.3.cmml" mathsize="56%" xref="S6.T3.3.1.1.1.m1.1.1.3">SASRec</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.3.1.1.1.m1.1c">\delta_{\text{SASRec}}</annotation><annotation encoding="application/x-llamapun" id="S6.T3.3.1.1.1.m1.1d">italic_δ start_POSTSUBSCRIPT SASRec end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.4.2.2.2"><math alttext="\delta_{\text{BERT4Rec}}" class="ltx_Math" display="inline" id="S6.T3.4.2.2.2.m1.1"><semantics id="S6.T3.4.2.2.2.m1.1a"><msub id="S6.T3.4.2.2.2.m1.1.1" xref="S6.T3.4.2.2.2.m1.1.1.cmml"><mi id="S6.T3.4.2.2.2.m1.1.1.2" mathsize="80%" xref="S6.T3.4.2.2.2.m1.1.1.2.cmml">δ</mi><mtext id="S6.T3.4.2.2.2.m1.1.1.3" mathsize="80%" xref="S6.T3.4.2.2.2.m1.1.1.3a.cmml">BERT4Rec</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T3.4.2.2.2.m1.1b"><apply id="S6.T3.4.2.2.2.m1.1.1.cmml" xref="S6.T3.4.2.2.2.m1.1.1"><csymbol cd="ambiguous" id="S6.T3.4.2.2.2.m1.1.1.1.cmml" xref="S6.T3.4.2.2.2.m1.1.1">subscript</csymbol><ci id="S6.T3.4.2.2.2.m1.1.1.2.cmml" xref="S6.T3.4.2.2.2.m1.1.1.2">𝛿</ci><ci id="S6.T3.4.2.2.2.m1.1.1.3a.cmml" xref="S6.T3.4.2.2.2.m1.1.1.3"><mtext id="S6.T3.4.2.2.2.m1.1.1.3.cmml" mathsize="56%" xref="S6.T3.4.2.2.2.m1.1.1.3">BERT4Rec</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.4.2.2.2.m1.1c">\delta_{\text{BERT4Rec}}</annotation><annotation encoding="application/x-llamapun" id="S6.T3.4.2.2.2.m1.1d">italic_δ start_POSTSUBSCRIPT BERT4Rec end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.5.3.3.3"><math alttext="\delta_{\text{FMLPRec}}" class="ltx_Math" display="inline" id="S6.T3.5.3.3.3.m1.1"><semantics id="S6.T3.5.3.3.3.m1.1a"><msub id="S6.T3.5.3.3.3.m1.1.1" xref="S6.T3.5.3.3.3.m1.1.1.cmml"><mi id="S6.T3.5.3.3.3.m1.1.1.2" mathsize="80%" xref="S6.T3.5.3.3.3.m1.1.1.2.cmml">δ</mi><mtext id="S6.T3.5.3.3.3.m1.1.1.3" mathsize="80%" xref="S6.T3.5.3.3.3.m1.1.1.3a.cmml">FMLPRec</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T3.5.3.3.3.m1.1b"><apply id="S6.T3.5.3.3.3.m1.1.1.cmml" xref="S6.T3.5.3.3.3.m1.1.1"><csymbol cd="ambiguous" id="S6.T3.5.3.3.3.m1.1.1.1.cmml" xref="S6.T3.5.3.3.3.m1.1.1">subscript</csymbol><ci id="S6.T3.5.3.3.3.m1.1.1.2.cmml" xref="S6.T3.5.3.3.3.m1.1.1.2">𝛿</ci><ci id="S6.T3.5.3.3.3.m1.1.1.3a.cmml" xref="S6.T3.5.3.3.3.m1.1.1.3"><mtext id="S6.T3.5.3.3.3.m1.1.1.3.cmml" mathsize="56%" xref="S6.T3.5.3.3.3.m1.1.1.3">FMLPRec</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.5.3.3.3.m1.1c">\delta_{\text{FMLPRec}}</annotation><annotation encoding="application/x-llamapun" id="S6.T3.5.3.3.3.m1.1d">italic_δ start_POSTSUBSCRIPT FMLPRec end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S6.T3.6.4.4.4"><math alttext="\delta_{\text{BSARec}}" class="ltx_Math" display="inline" id="S6.T3.6.4.4.4.m1.1"><semantics id="S6.T3.6.4.4.4.m1.1a"><msub id="S6.T3.6.4.4.4.m1.1.1" xref="S6.T3.6.4.4.4.m1.1.1.cmml"><mi id="S6.T3.6.4.4.4.m1.1.1.2" mathsize="80%" xref="S6.T3.6.4.4.4.m1.1.1.2.cmml">δ</mi><mtext id="S6.T3.6.4.4.4.m1.1.1.3" mathsize="80%" xref="S6.T3.6.4.4.4.m1.1.1.3a.cmml">BSARec</mtext></msub><annotation-xml encoding="MathML-Content" id="S6.T3.6.4.4.4.m1.1b"><apply id="S6.T3.6.4.4.4.m1.1.1.cmml" xref="S6.T3.6.4.4.4.m1.1.1"><csymbol cd="ambiguous" id="S6.T3.6.4.4.4.m1.1.1.1.cmml" xref="S6.T3.6.4.4.4.m1.1.1">subscript</csymbol><ci id="S6.T3.6.4.4.4.m1.1.1.2.cmml" xref="S6.T3.6.4.4.4.m1.1.1.2">𝛿</ci><ci id="S6.T3.6.4.4.4.m1.1.1.3a.cmml" xref="S6.T3.6.4.4.4.m1.1.1.3"><mtext id="S6.T3.6.4.4.4.m1.1.1.3.cmml" mathsize="56%" xref="S6.T3.6.4.4.4.m1.1.1.3">BSARec</mtext></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.6.4.4.4.m1.1c">\delta_{\text{BSARec}}</annotation><annotation encoding="application/x-llamapun" id="S6.T3.6.4.4.4.m1.1d">italic_δ start_POSTSUBSCRIPT BSARec end_POSTSUBSCRIPT</annotation></semantics></math></td>
</tr>
<tr class="ltx_tr" id="S6.T3.7.5.5">
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.5.5.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T3.7.5.5.1.m1.1"><semantics id="S6.T3.7.5.5.1.m1.1a"><mo id="S6.T3.7.5.5.1.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T3.7.5.5.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T3.7.5.5.1.m1.1b"><ci id="S6.T3.7.5.5.1.m1.1.1.cmml" xref="S6.T3.7.5.5.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.7.5.5.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T3.7.5.5.1.m1.1d">↑</annotation></semantics></math><span class="ltx_text" id="S6.T3.7.5.5.1.1" style="font-size:80%;"> AHR@0.2</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.5.5.2"><span class="ltx_text" id="S6.T3.7.5.5.2.1" style="font-size:80%;">0.1476 (60.5%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.5.5.3"><span class="ltx_text" id="S6.T3.7.5.5.3.1" style="font-size:80%;">0.0616 (25.5%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.5.5.4"><span class="ltx_text" id="S6.T3.7.5.5.4.1" style="font-size:80%;">0.6885 (283%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S6.T3.7.5.5.5"><span class="ltx_text" id="S6.T3.7.5.5.5.1" style="font-size:80%;">0.6845 (285%)</span></td>
</tr>
<tr class="ltx_tr" id="S6.T3.8.6.6">
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.8.6.6.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="S6.T3.8.6.6.1.m1.1"><semantics id="S6.T3.8.6.6.1.m1.1a"><mo id="S6.T3.8.6.6.1.m1.1.1" mathsize="80%" stretchy="false" xref="S6.T3.8.6.6.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S6.T3.8.6.6.1.m1.1b"><ci id="S6.T3.8.6.6.1.m1.1.1.cmml" xref="S6.T3.8.6.6.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S6.T3.8.6.6.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S6.T3.8.6.6.1.m1.1d">↑</annotation></semantics></math><span class="ltx_text" id="S6.T3.8.6.6.1.1" style="font-size:80%;"> AHR@0.5</span>
</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.8.6.6.2"><span class="ltx_text" id="S6.T3.8.6.6.2.1" style="font-size:80%;">0.4195 (84.0%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.8.6.6.3"><span class="ltx_text" id="S6.T3.8.6.6.3.1" style="font-size:80%;">0.4085 (80.6%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.8.6.6.4"><span class="ltx_text" id="S6.T3.8.6.6.4.1" style="font-size:80%;">0.4314 (86.2%)</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S6.T3.8.6.6.5"><span class="ltx_text" id="S6.T3.8.6.6.5.1" style="font-size:80%;">0.4283 (85.2%)</span></td>
</tr>
</table>
</figure>
</section>
</section>
</section>
<section class="ltx_section" id="S7">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7. </span>Related Work</h2>
<div class="ltx_para ltx_noindent" id="S7.p1">
<p class="ltx_p" id="S7.p1.1"><span class="ltx_text ltx_font_bold" id="S7.p1.1.1">Sequential Recommender Systems</span>
Sequential recommender systems (SRSs) learn the user-item interactions (e.g., view or purchase items on an online shopping platform) by modelling the dependencies in a sequence. Contrary to the traditional recommender systems which focus more on static learning through content-based and collaborative filtering<cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib32" title="">2019</a>)</cite>, SRSs treat the interaction in a more dynamic way and hope to capture the inherent logic between the current and recent preference of a user. Traditional works formulate the task of sequential prediction as a first-order or high-order Markov Chain<cite class="ltx_cite ltx_citemacro_citep">(He et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib11" title="">2017</a>)</cite>, whereas more recent works make use of the rapid development of the deep neural networks and propose RNN-based<cite class="ltx_cite ltx_citemacro_citep">(Donkers et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib7" title="">2017</a>)</cite> and, more recently, attention-based<cite class="ltx_cite ltx_citemacro_citep">(Kang and McAuley, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib15" title="">2018b</a>; Shin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib29" title="">2024b</a>)</cite> frameworks to capture the temporal features. <cite class="ltx_cite ltx_citemacro_citep">(Qiu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib26" title="">2022</a>; Du et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib8" title="">2023</a>)</cite> applies contrastive learning strategies to help the learning of the sequential dependencies, <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib39" title="">2023</a>)</cite> adjusts unreliable attention weights for a more robust generalization. Despite the great success, there are two fundamental challenges that remain unresolved. However, the above works equate preference to decisions. However, user preference towards the item is only a partial reason for a purchase decision. For example, a user is highly unlikely to purchase another refrigerator no matter how they like it. Such interactive relationship is not fully captured or even modeled in existing works. In our work, we propose a framework that accurately characterizes the causal relationship between the recommendation from the system, the user’s past purchasing behaviour and the user’s preference, obtaining universally better performance.</p>
</div>
<div class="ltx_para ltx_noindent" id="S7.p2">
<p class="ltx_p" id="S7.p2.1"><span class="ltx_text ltx_font_bold" id="S7.p2.1.1">Causal Inference in Recommendation.</span>
Causal inference methods are widely used in estimating the causal effect<cite class="ltx_cite ltx_citemacro_citep">(Pearl, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib25" title="">2012</a>)</cite>, understanding the compound causal relationship among various factors<cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib21" title="">2023</a>; Wang and Jordan, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib33" title="">2021</a>)</cite>, injecting external knowledge to the model<cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib23" title="">2024c</a>)</cite>, and isolating the causal relationship of certain variables. Causal inference is to estimate potential outcomes when treatment is applied<cite class="ltx_cite ltx_citemacro_citep">(Yao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib36" title="">2021</a>; Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib22" title="">2024b</a>)</cite>. It originated from the scenario of prescribing medicine to patients. The recommendation is naturally a causal inference task when treating each item as a potential treatment. The goal is to predict the user’s preference towards these treatments(i.e., the recommended items).
There is a line of works framing recommendation as a causal inference task <cite class="ltx_cite ltx_citemacro_citep">(Gao et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib9" title="">2024</a>)</cite>. <cite class="ltx_cite ltx_citemacro_citep">(Schnabel et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib27" title="">2016</a>)</cite> show how estimating the quality of a recommendation system can be approached with Inverse Propensity-reWeighting(IPW) techniques commonly used in causal inference, and the proposed method is based on matrix factorization.<cite class="ltx_cite ltx_citemacro_citep">(Wang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib34" title="">2020</a>)</cite> is also based on traditional matrix factorization. They make separate estimations to correct unobserved confounders (the factor that affects both treatment assignment and potential outcome). <cite class="ltx_cite ltx_citemacro_citep">(Xu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib35" title="">2021</a>)</cite> propose a general framework for modelling causality in collaborative filtering and recommendation. <cite class="ltx_cite ltx_citemacro_citep">(Zhang et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib37" title="">2021</a>)</cite> applies contrastive learning to solve the counterfactual reasoning problem. <cite class="ltx_cite ltx_citemacro_citep">(Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib4" title="">2021</a>)</cite> derives a universal strategy for fixing various biases. Compared to traditional non-causal counterparts, causal recommender systems obtained successes in user-item interaction prediction and de-bias observational training data. In this paper, we propose the first causal framework for quantifying sequential recommendation and introduce a constraint that maintains the casual relationship in subsequent purchases in the modelling.</p>
</div>
</section>
<section class="ltx_section" id="S8">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">8. </span>Conclusion</h2>
<div class="ltx_para ltx_noindent" id="S8.p1">
<p class="ltx_p" id="S8.p1.1"><span class="ltx_text ltx_font_bold" id="S8.p1.1.1">Conclusion.</span> In this paper, we aim to address the question: How do recommender systems impact users’ decisions in the context of causal inference?
By distinguishing between user natural selection process and their decisions making under recommendation, we propose a framework to model the causal relationship between user’s decision and various factors including their natural preference and their previous decision towards recommendations.
We introduce CSRec, a general framework with straightforward implementation that can easily adapted to SOTA sequential recommenders. Experimental results show that our framework is capable of improving the accuracy of predicting users’ decision under recommendations without causing any degradation on non-interventional setting.
Lastly, we further propose to isolate the system’s influence on users through treatment effect estimation, which opens new possibilities in designing personalized recommender systems.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">(1)</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Brost et al<span class="ltx_text" id="bib.bib2.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Brian Brost, Rishabh Mehrotra, and Tristan Jehan. 2019.

</span>
<span class="ltx_bibblock">The music streaming sessions dataset. In <em class="ltx_emph ltx_font_italic" id="bib.bib2.3.1">The World Wide Web Conference</em>. 2594–2600.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chang et al<span class="ltx_text" id="bib.bib3.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Sungkyun Chang, Seungjin Lee, and Kyogu Lee. 2019.

</span>
<span class="ltx_bibblock">Sequential skip prediction with few-shot in streamed music contents.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib3.3.1">arXiv preprint arXiv:1901.08203</em> (2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib4.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Jiawei Chen, Hande Dong, Yang Qiu, Xiangnan He, Xin Xin, Liang Chen, Guli Lin, and Keping Yang. 2021.

</span>
<span class="ltx_bibblock">AutoDebias: Learning to debias for recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib4.3.1">Proceedings of the 44th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 21–30.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen and Mueller (2024)</span>
<span class="ltx_bibblock">
Jiuhai Chen and Jonas Mueller. 2024.

</span>
<span class="ltx_bibblock">Automated data curation for robust language model fine-tuning.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib5.1.1">arXiv preprint arXiv:2403.12776</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Chen et al<span class="ltx_text" id="bib.bib6.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Jiuhai Chen, Rifaa Qadri, Yuxin Wen, Neel Jain, John Kirchenbauer, Tianyi Zhou, and Tom Goldstein. 2024.

</span>
<span class="ltx_bibblock">GenQA: Generating Millions of Instructions from a Handful of Prompts.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib6.3.1">arXiv preprint arXiv:2406.10323</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Donkers et al<span class="ltx_text" id="bib.bib7.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Tim Donkers, Benedikt Loepp, and Jürgen Ziegler. 2017.

</span>
<span class="ltx_bibblock">Sequential user-based recurrent neural network recommendations. In <em class="ltx_emph ltx_font_italic" id="bib.bib7.3.1">Proceedings of the eleventh ACM conference on recommender systems</em>. 152–160.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Du et al<span class="ltx_text" id="bib.bib8.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xinyu Du, Huanhuan Yuan, Pengpeng Zhao, Jianfeng Qu, Fuzhen Zhuang, Guanfeng Liu, Yanchi Liu, and Victor S Sheng. 2023.

</span>
<span class="ltx_bibblock">Frequency enhanced hybrid attention network for sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib8.3.1">Proceedings of the 46th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 78–88.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Gao et al<span class="ltx_text" id="bib.bib9.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Chen Gao, Yu Zheng, Wenjie Wang, Fuli Feng, Xiangnan He, and Yong Li. 2024.

</span>
<span class="ltx_bibblock">Causal inference in recommender systems: A survey and future directions.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib9.3.1">ACM Transactions on Information Systems</em> 42, 4 (2024), 1–32.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ge et al<span class="ltx_text" id="bib.bib10.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Yingqiang Ge, Shuya Zhao, Honglu Zhou, Changhua Pei, Fei Sun, Wenwu Ou, and Yongfeng Zhang. 2020.

</span>
<span class="ltx_bibblock">Understanding echo chambers in e-commerce recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib10.3.1">Proceedings of the 43rd international ACM SIGIR conference on research and development in information retrieval</em>. 2261–2270.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">He et al<span class="ltx_text" id="bib.bib11.2.2.1">.</span> (2017)</span>
<span class="ltx_bibblock">
Ruining He, Wang-Cheng Kang, and Julian McAuley. 2017.

</span>
<span class="ltx_bibblock">Translation-based recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib11.3.1">Proceedings of the eleventh ACM conference on recommender systems</em>. 161–169.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hidasi et al<span class="ltx_text" id="bib.bib12.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Balázs Hidasi, Alexandros Karatzoglou, Linas Baltrunas, and Domonkos Tikk. 2016.

</span>
<span class="ltx_bibblock">Session-based Recommendations with Recurrent Neural Networks.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:1511.06939 [cs.LG]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kalimeris et al<span class="ltx_text" id="bib.bib13.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Dimitris Kalimeris, Smriti Bhagat, Shankar Kalyanaraman, and Udi Weinsberg. 2021.

</span>
<span class="ltx_bibblock">Preference amplification in recommender systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib13.3.1">Proceedings of the 27th ACM SIGKDD Conference on Knowledge Discovery &amp; Data Mining</em>. 805–815.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley (2018a)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and Julian McAuley. 2018a.

</span>
<span class="ltx_bibblock">Self-Attentive Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib14.1.1">2018 IEEE International Conference on Data Mining (ICDM)</em>. 197–206.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1109/ICDM.2018.00035" title="">https://doi.org/10.1109/ICDM.2018.00035</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kang and McAuley (2018b)</span>
<span class="ltx_bibblock">
Wang-Cheng Kang and Julian McAuley. 2018b.

</span>
<span class="ltx_bibblock">Self-attentive sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib15.1.1">2018 IEEE international conference on data mining (ICDM)</em>. IEEE, 197–206.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Klimashevskaia et al<span class="ltx_text" id="bib.bib16.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Anastasiia Klimashevskaia, Dietmar Jannach, Mehdi Elahi, and Christoph Trattner. 2024.

</span>
<span class="ltx_bibblock">A survey on popularity bias in recommender systems.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib16.3.1">User Modeling and User-Adapted Interaction</em> (2024), 1–58.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Krichene and Rendle (2022)</span>
<span class="ltx_bibblock">
Walid Krichene and Steffen Rendle. 2022.

</span>
<span class="ltx_bibblock">On sampled metrics for item recommendation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib17.1.1">Commun. ACM</em> 65, 7 (jun 2022), 75–83.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3535335" title="">https://doi.org/10.1145/3535335</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib18.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Jiacheng Li, Ming Wang, Jin Li, Jinmiao Fu, Xin Shen, Jingbo Shang, and Julian McAuley. 2023.

</span>
<span class="ltx_bibblock">Text is all you need: Learning language representations for sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib18.3.1">Proceedings of the 29th ACM SIGKDD Conference on Knowledge Discovery and Data Mining</em>. 1258–1267.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al<span class="ltx_text" id="bib.bib19.2.2.1">.</span> (2024)</span>
<span class="ltx_bibblock">
Yang Li, Kangbo Liu, Ranjan Satapathy, Suhang Wang, and Erik Cambria. 2024.

</span>
<span class="ltx_bibblock">Recent developments in recommender systems: A survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib19.3.1">IEEE Computational Intelligence Magazine</em> 19, 2 (2024), 78–95.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib20.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Ruibo Liu, Jerry Wei, Fangyu Liu, Chenglei Si, Yanzhe Zhang, Jinmeng Rao, Steven Zheng, Daiyi Peng, Diyi Yang, Denny Zhou, and Andrew M. Dai. 2024a.

</span>
<span class="ltx_bibblock">Best Practices and Lessons Learned on Synthetic Data.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2404.07503 [cs.CL]

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2404.07503" title="">https://arxiv.org/abs/2404.07503</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib21.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Xiaoyu Liu, Hanlin Lu, Jianbo Yuan, and Xinyu Li. 2023.

</span>
<span class="ltx_bibblock">Cat: Causal audio transformer for audio classification. In <em class="ltx_emph ltx_font_italic" id="bib.bib21.3.1">ICASSP 2023-2023 IEEE International Conference on Acoustics, Speech and Signal Processing (ICASSP)</em>. IEEE, 1–5.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib22.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Xiaoyu Liu, Paiheng Xu, Junda Wu, Jiaxin Yuan, Yifan Yang, Yuhang Zhou, Fuxiao Liu, Tianrui Guan, Haoliang Wang, Tong Yu, et al<span class="ltx_text" id="bib.bib22.3.1">.</span> 2024b.

</span>
<span class="ltx_bibblock">Large language models and causal inference in collaboration: A comprehensive survey.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib22.4.1">arXiv preprint arXiv:2403.09606</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Liu et al<span class="ltx_text" id="bib.bib23.2.2.1">.</span> (2024c)</span>
<span class="ltx_bibblock">
Xiaoyu Liu, Jiaxin Yuan, Bang An, Yuancheng Xu, Yifan Yang, and Furong Huang. 2024c.

</span>
<span class="ltx_bibblock">C-Disentanglement: discovering causally-independent generative factors under an inductive bias of confounder.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib23.3.1">Advances in Neural Information Processing Systems</em> 36 (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ni et al<span class="ltx_text" id="bib.bib24.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Jianmo Ni, Jiacheng Li, and Julian McAuley. 2019.

</span>
<span class="ltx_bibblock">Justifying recommendations using distantly-labeled reviews and fine-grained aspects. In <em class="ltx_emph ltx_font_italic" id="bib.bib24.3.1">Proceedings of the 2019 conference on empirical methods in natural language processing and the 9th international joint conference on natural language processing (EMNLP-IJCNLP)</em>. 188–197.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Pearl (2012)</span>
<span class="ltx_bibblock">
Judea Pearl. 2012.

</span>
<span class="ltx_bibblock">The do-calculus revisited.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib25.1.1">arXiv preprint arXiv:1210.4852</em> (2012).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib26">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Qiu et al<span class="ltx_text" id="bib.bib26.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Ruihong Qiu, Zi Huang, Hongzhi Yin, and Zijian Wang. 2022.

</span>
<span class="ltx_bibblock">Contrastive learning for representation degeneration problem in sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib26.3.1">Proceedings of the fifteenth ACM international conference on web search and data mining</em>. 813–823.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib27">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Schnabel et al<span class="ltx_text" id="bib.bib27.2.2.1">.</span> (2016)</span>
<span class="ltx_bibblock">
Tobias Schnabel, Adith Swaminathan, Ashudeep Singh, Navin Chandak, and Thorsten Joachims. 2016.

</span>
<span class="ltx_bibblock">Recommendations as treatments: Debiasing learning and evaluation. In <em class="ltx_emph ltx_font_italic" id="bib.bib27.3.1">international conference on machine learning</em>. PMLR, 1670–1679.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib28">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shin et al<span class="ltx_text" id="bib.bib28.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Yehjin Shin, Jeongwhan Choi, Hyowon Wi, and Noseong Park. 2024a.

</span>
<span class="ltx_bibblock">An Attentive Inductive Bias for Sequential Recommendation beyond the Self-Attention.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2312.10325 [cs.LG]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib29">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Shin et al<span class="ltx_text" id="bib.bib29.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Yehjin Shin, Jeongwhan Choi, Hyowon Wi, and Noseong Park. 2024b.

</span>
<span class="ltx_bibblock">An attentive inductive bias for sequential recommendation beyond the self-attention. In <em class="ltx_emph ltx_font_italic" id="bib.bib29.3.1">Proceedings of the AAAI Conference on Artificial Intelligence</em>, Vol. 38. 8984–8992.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib30">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Sun et al<span class="ltx_text" id="bib.bib30.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Fei Sun, Jun Liu, Jian Wu, Changhua Pei, Xiao Lin, Wenwu Ou, and Peng Jiang. 2019.

</span>
<span class="ltx_bibblock">BERT4Rec: Sequential Recommendation with Bidirectional Encoder Representations from Transformer.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:1904.06690 [cs.IR]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib31">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Tang and Wang (2018)</span>
<span class="ltx_bibblock">
Jiaxi Tang and Ke Wang. 2018.

</span>
<span class="ltx_bibblock">Personalized Top-N Sequential Recommendation via Convolutional Sequence Embedding.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:1809.07426 [cs.IR]

</span>
</li>
<li class="ltx_bibitem" id="bib.bib32">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib32.2.2.1">.</span> (2019)</span>
<span class="ltx_bibblock">
Shoujin Wang, Liang Hu, Yan Wang, Longbing Cao, Quan Z Sheng, and Mehmet Orgun. 2019.

</span>
<span class="ltx_bibblock">Sequential recommender systems: challenges, progress and prospects.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib32.3.1">arXiv preprint arXiv:2001.04830</em> (2019).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib33">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang and Jordan (2021)</span>
<span class="ltx_bibblock">
Yixin Wang and Michael I Jordan. 2021.

</span>
<span class="ltx_bibblock">Desiderata for representation learning: A causal perspective.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib33.1.1">arXiv preprint arXiv:2109.03795</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib34">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wang et al<span class="ltx_text" id="bib.bib34.2.2.1">.</span> (2020)</span>
<span class="ltx_bibblock">
Yixin Wang, Dawen Liang, Laurent Charlin, and David M Blei. 2020.

</span>
<span class="ltx_bibblock">Causal Inference for Recommender Systems. In <em class="ltx_emph ltx_font_italic" id="bib.bib34.3.1">Fourteenth ACM Conference on Recommender Systems</em>. 426–431.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib35">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Xu et al<span class="ltx_text" id="bib.bib35.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Shuyuan Xu, Yingqiang Ge, Yunqi Li, Zuohui Fu, Xu Chen, and Yongfeng Zhang. 2021.

</span>
<span class="ltx_bibblock">Causal Collaborative Filtering.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib35.3.1">arXiv preprint arXiv:2102.01868</em> (2021).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib36">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yao et al<span class="ltx_text" id="bib.bib36.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Liuyi Yao, Zhixuan Chu, Sheng Li, Yaliang Li, Jing Gao, and Aidong Zhang. 2021.

</span>
<span class="ltx_bibblock">A survey on causal inference.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib36.3.1">ACM Transactions on Knowledge Discovery from Data (TKDD)</em> 15, 5 (2021), 1–46.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib37">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al<span class="ltx_text" id="bib.bib37.2.2.1">.</span> (2021)</span>
<span class="ltx_bibblock">
Shengyu Zhang, Dong Yao, Zhou Zhao, Tat-Seng Chua, and Fei Wu. 2021.

</span>
<span class="ltx_bibblock">Causerec: Counterfactual user sequence synthesis for sequential recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib37.3.1">Proceedings of the 44th International ACM SIGIR Conference on Research and Development in Information Retrieval</em>. 367–377.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib38">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib38.2.2.1">.</span> (2022)</span>
<span class="ltx_bibblock">
Kun Zhou, Hui Yu, Wayne Xin Zhao, and Ji-Rong Wen. 2022.

</span>
<span class="ltx_bibblock">Filter-enhanced MLP is All You Need for Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib38.3.1">Proceedings of the ACM Web Conference 2022</em> <em class="ltx_emph ltx_font_italic" id="bib.bib38.4.2">(WWW ’22)</em>. ACM.

</span>
<span class="ltx_bibblock">
<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://doi.org/10.1145/3485447.3512111" title="">https://doi.org/10.1145/3485447.3512111</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib39">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib39.2.2.1">.</span> (2023)</span>
<span class="ltx_bibblock">
Peilin Zhou, Qichen Ye, Yueqi Xie, Jingqi Gao, Shoujin Wang, Jae Boum Kim, Chenyu You, and Sunghun Kim. 2023.

</span>
<span class="ltx_bibblock">Attention Calibration for Transformer-based Sequential Recommendation. In <em class="ltx_emph ltx_font_italic" id="bib.bib39.3.1">Proceedings of the 32nd ACM International Conference on Information and Knowledge Management</em>. 3595–3605.

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib40">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib40.2.2.1">.</span> (2024a)</span>
<span class="ltx_bibblock">
Yiyang Zhou, Zhiyuan Fan, Dongjie Cheng, Sihan Yang, Zhaorun Chen, Chenhang Cui, Xiyao Wang, Yun Li, Linjun Zhang, and Huaxiu Yao. 2024a.

</span>
<span class="ltx_bibblock">Calibrated self-rewarding vision language models.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib40.3.1">arXiv preprint arXiv:2405.14622</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
<li class="ltx_bibitem" id="bib.bib41">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib41.2.2.1">.</span> (2024b)</span>
<span class="ltx_bibblock">
Yuhang Zhou, Paiheng Xu, Xiaoyu Liu, Bang An, Wei Ai, and Furong Huang. 2024b.

</span>
<span class="ltx_bibblock">Explore Spurious Correlations at the Concept Level in Language Models for Text Classification.

</span>
<span class="ltx_bibblock">
</span>
<span class="ltx_bibblock">arXiv:2311.08648 [cs.CL]

<a class="ltx_ref ltx_url ltx_font_typewriter" href="https://arxiv.org/abs/2311.08648" title="">https://arxiv.org/abs/2311.08648</a>
</span>
</li>
<li class="ltx_bibitem" id="bib.bib42">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al<span class="ltx_text" id="bib.bib42.2.2.1">.</span> (2024c)</span>
<span class="ltx_bibblock">
Yuhang Zhou, Jing Zhu, Paiheng Xu, Xiaoyu Liu, Xiyao Wang, Danai Koutra, Wei Ai, and Furong Huang. 2024c.

</span>
<span class="ltx_bibblock">Multi-Stage Balanced Distillation: Addressing Long-Tail Challenges in Sequence-Level Knowledge Distillation.

</span>
<span class="ltx_bibblock"><em class="ltx_emph ltx_font_italic" id="bib.bib42.3.1">arXiv preprint arXiv:2406.13114</em> (2024).

</span>
<span class="ltx_bibblock">
</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section class="ltx_appendix" id="A1">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Do-Calculus</h2>
<div class="ltx_theorem ltx_theorem_rules" id="A1.Thmtheorem1">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Rule A.1 (Insertion/deletion of observations).</h6>
<div class="ltx_para" id="A1.Thmtheorem1.p1">
<table class="ltx_equation ltx_eqn_table" id="A1.E16">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(16)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P(y|do(x),z,w)=P(y|do(x),w)\quad\text{if}\quad(Y\perp\!\!\!\perp Z|X,W)_{G_{%
\overline{X}}}" class="ltx_math_unparsed" display="block" id="A1.E16.m1.6"><semantics id="A1.E16.m1.6a"><mrow id="A1.E16.m1.6b"><mi id="A1.E16.m1.6.7">P</mi><mrow id="A1.E16.m1.6.8"><mo id="A1.E16.m1.6.8.1" stretchy="false">(</mo><mi id="A1.E16.m1.6.8.2">y</mi><mo fence="false" id="A1.E16.m1.6.8.3" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E16.m1.6.8.4">d</mi><mi id="A1.E16.m1.6.8.5">o</mi><mrow id="A1.E16.m1.6.8.6"><mo id="A1.E16.m1.6.8.6.1" stretchy="false">(</mo><mi id="A1.E16.m1.1.1">x</mi><mo id="A1.E16.m1.6.8.6.2" stretchy="false">)</mo></mrow><mo id="A1.E16.m1.6.8.7">,</mo><mi id="A1.E16.m1.2.2">z</mi><mo id="A1.E16.m1.6.8.8">,</mo><mi id="A1.E16.m1.3.3">w</mi><mo id="A1.E16.m1.6.8.9" stretchy="false">)</mo></mrow><mo id="A1.E16.m1.6.9">=</mo><mi id="A1.E16.m1.6.10">P</mi><mrow id="A1.E16.m1.6.11"><mo id="A1.E16.m1.6.11.1" stretchy="false">(</mo><mi id="A1.E16.m1.6.11.2">y</mi><mo fence="false" id="A1.E16.m1.6.11.3" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E16.m1.6.11.4">d</mi><mi id="A1.E16.m1.6.11.5">o</mi><mrow id="A1.E16.m1.6.11.6"><mo id="A1.E16.m1.6.11.6.1" stretchy="false">(</mo><mi id="A1.E16.m1.4.4">x</mi><mo id="A1.E16.m1.6.11.6.2" stretchy="false">)</mo></mrow><mo id="A1.E16.m1.6.11.7">,</mo><mi id="A1.E16.m1.5.5">w</mi><mo id="A1.E16.m1.6.11.8" stretchy="false">)</mo></mrow><mspace id="A1.E16.m1.6.12" width="1em"></mspace><mtext id="A1.E16.m1.6.6">if</mtext><mspace id="A1.E16.m1.6.13" width="1em"></mspace><msub id="A1.E16.m1.6.14"><mrow id="A1.E16.m1.6.14.2"><mo id="A1.E16.m1.6.14.2.1" stretchy="false">(</mo><mi id="A1.E16.m1.6.14.2.2">Y</mi><mpadded width="0.250em"><mo id="A1.E16.m1.6.14.2.3">⟂</mo></mpadded><mo id="A1.E16.m1.6.14.2.4">⟂</mo><mi id="A1.E16.m1.6.14.2.5">Z</mi><mo fence="false" id="A1.E16.m1.6.14.2.6" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E16.m1.6.14.2.7">X</mi><mo id="A1.E16.m1.6.14.2.8">,</mo><mi id="A1.E16.m1.6.14.2.9">W</mi><mo id="A1.E16.m1.6.14.2.10" stretchy="false">)</mo></mrow><msub id="A1.E16.m1.6.14.3"><mi id="A1.E16.m1.6.14.3.2">G</mi><mover accent="true" id="A1.E16.m1.6.14.3.3"><mi id="A1.E16.m1.6.14.3.3.2">X</mi><mo id="A1.E16.m1.6.14.3.3.1">¯</mo></mover></msub></msub></mrow><annotation encoding="application/x-tex" id="A1.E16.m1.6c">P(y|do(x),z,w)=P(y|do(x),w)\quad\text{if}\quad(Y\perp\!\!\!\perp Z|X,W)_{G_{%
\overline{X}}}</annotation><annotation encoding="application/x-llamapun" id="A1.E16.m1.6d">italic_P ( italic_y | italic_d italic_o ( italic_x ) , italic_z , italic_w ) = italic_P ( italic_y | italic_d italic_o ( italic_x ) , italic_w ) if ( italic_Y ⟂ ⟂ italic_Z | italic_X , italic_W ) start_POSTSUBSCRIPT italic_G start_POSTSUBSCRIPT over¯ start_ARG italic_X end_ARG end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_theorem ltx_theorem_rules" id="A1.Thmtheorem2">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Rule A.2 (Action/observation exchange).</h6>
<div class="ltx_para" id="A1.Thmtheorem2.p1">
<table class="ltx_equation ltx_eqn_table" id="A1.E17">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(17)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P(y|do(x),do(z),w)=P(y|do(x),z,w)\quad\text{if}\quad(Y\perp\!\!\!\perp Z|X,W)_%
{G_{\overline{X}\underline{Z}}}" class="ltx_math_unparsed" display="block" id="A1.E17.m1.7"><semantics id="A1.E17.m1.7a"><mrow id="A1.E17.m1.7b"><mi id="A1.E17.m1.7.8">P</mi><mrow id="A1.E17.m1.7.9"><mo id="A1.E17.m1.7.9.1" stretchy="false">(</mo><mi id="A1.E17.m1.7.9.2">y</mi><mo fence="false" id="A1.E17.m1.7.9.3" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E17.m1.7.9.4">d</mi><mi id="A1.E17.m1.7.9.5">o</mi><mrow id="A1.E17.m1.7.9.6"><mo id="A1.E17.m1.7.9.6.1" stretchy="false">(</mo><mi id="A1.E17.m1.1.1">x</mi><mo id="A1.E17.m1.7.9.6.2" stretchy="false">)</mo></mrow><mo id="A1.E17.m1.7.9.7">,</mo><mi id="A1.E17.m1.7.9.8">d</mi><mi id="A1.E17.m1.7.9.9">o</mi><mrow id="A1.E17.m1.7.9.10"><mo id="A1.E17.m1.7.9.10.1" stretchy="false">(</mo><mi id="A1.E17.m1.2.2">z</mi><mo id="A1.E17.m1.7.9.10.2" stretchy="false">)</mo></mrow><mo id="A1.E17.m1.7.9.11">,</mo><mi id="A1.E17.m1.3.3">w</mi><mo id="A1.E17.m1.7.9.12" stretchy="false">)</mo></mrow><mo id="A1.E17.m1.7.10">=</mo><mi id="A1.E17.m1.7.11">P</mi><mrow id="A1.E17.m1.7.12"><mo id="A1.E17.m1.7.12.1" stretchy="false">(</mo><mi id="A1.E17.m1.7.12.2">y</mi><mo fence="false" id="A1.E17.m1.7.12.3" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E17.m1.7.12.4">d</mi><mi id="A1.E17.m1.7.12.5">o</mi><mrow id="A1.E17.m1.7.12.6"><mo id="A1.E17.m1.7.12.6.1" stretchy="false">(</mo><mi id="A1.E17.m1.4.4">x</mi><mo id="A1.E17.m1.7.12.6.2" stretchy="false">)</mo></mrow><mo id="A1.E17.m1.7.12.7">,</mo><mi id="A1.E17.m1.5.5">z</mi><mo id="A1.E17.m1.7.12.8">,</mo><mi id="A1.E17.m1.6.6">w</mi><mo id="A1.E17.m1.7.12.9" stretchy="false">)</mo></mrow><mspace id="A1.E17.m1.7.13" width="1em"></mspace><mtext id="A1.E17.m1.7.7">if</mtext><mspace id="A1.E17.m1.7.14" width="1em"></mspace><msub id="A1.E17.m1.7.15"><mrow id="A1.E17.m1.7.15.2"><mo id="A1.E17.m1.7.15.2.1" stretchy="false">(</mo><mi id="A1.E17.m1.7.15.2.2">Y</mi><mpadded width="0.250em"><mo id="A1.E17.m1.7.15.2.3">⟂</mo></mpadded><mo id="A1.E17.m1.7.15.2.4">⟂</mo><mi id="A1.E17.m1.7.15.2.5">Z</mi><mo fence="false" id="A1.E17.m1.7.15.2.6" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E17.m1.7.15.2.7">X</mi><mo id="A1.E17.m1.7.15.2.8">,</mo><mi id="A1.E17.m1.7.15.2.9">W</mi><mo id="A1.E17.m1.7.15.2.10" stretchy="false">)</mo></mrow><msub id="A1.E17.m1.7.15.3"><mi id="A1.E17.m1.7.15.3.2">G</mi><mrow id="A1.E17.m1.7.15.3.3"><mover accent="true" id="A1.E17.m1.7.15.3.3.2"><mi id="A1.E17.m1.7.15.3.3.2.2">X</mi><mo id="A1.E17.m1.7.15.3.3.2.1">¯</mo></mover><mo id="A1.E17.m1.7.15.3.3.1">⁢</mo><munder accentunder="true" id="A1.E17.m1.7.15.3.3.3"><mi id="A1.E17.m1.7.15.3.3.3.2">Z</mi><mo id="A1.E17.m1.7.15.3.3.3.1">¯</mo></munder></mrow></msub></msub></mrow><annotation encoding="application/x-tex" id="A1.E17.m1.7c">P(y|do(x),do(z),w)=P(y|do(x),z,w)\quad\text{if}\quad(Y\perp\!\!\!\perp Z|X,W)_%
{G_{\overline{X}\underline{Z}}}</annotation><annotation encoding="application/x-llamapun" id="A1.E17.m1.7d">italic_P ( italic_y | italic_d italic_o ( italic_x ) , italic_d italic_o ( italic_z ) , italic_w ) = italic_P ( italic_y | italic_d italic_o ( italic_x ) , italic_z , italic_w ) if ( italic_Y ⟂ ⟂ italic_Z | italic_X , italic_W ) start_POSTSUBSCRIPT italic_G start_POSTSUBSCRIPT over¯ start_ARG italic_X end_ARG under¯ start_ARG italic_Z end_ARG end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_theorem ltx_theorem_rules" id="A1.Thmtheorem3">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_theorem">Rule A.3 (Insertion/deletion of actions).</h6>
<div class="ltx_para" id="A1.Thmtheorem3.p1">
<table class="ltx_equation ltx_eqn_table" id="A1.E18">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(18)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="P(y|do(x),do(z),w)=P(y|do(x),w)\quad\text{if}\quad(Y\perp\!\!\!\perp Z|X,W)_{G%
_{\overline{X}\overline{Z(W)}}}" class="ltx_math_unparsed" display="block" id="A1.E18.m1.7"><semantics id="A1.E18.m1.7a"><mrow id="A1.E18.m1.7b"><mi id="A1.E18.m1.7.8">P</mi><mrow id="A1.E18.m1.7.9"><mo id="A1.E18.m1.7.9.1" stretchy="false">(</mo><mi id="A1.E18.m1.7.9.2">y</mi><mo fence="false" id="A1.E18.m1.7.9.3" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E18.m1.7.9.4">d</mi><mi id="A1.E18.m1.7.9.5">o</mi><mrow id="A1.E18.m1.7.9.6"><mo id="A1.E18.m1.7.9.6.1" stretchy="false">(</mo><mi id="A1.E18.m1.2.2">x</mi><mo id="A1.E18.m1.7.9.6.2" stretchy="false">)</mo></mrow><mo id="A1.E18.m1.7.9.7">,</mo><mi id="A1.E18.m1.7.9.8">d</mi><mi id="A1.E18.m1.7.9.9">o</mi><mrow id="A1.E18.m1.7.9.10"><mo id="A1.E18.m1.7.9.10.1" stretchy="false">(</mo><mi id="A1.E18.m1.3.3">z</mi><mo id="A1.E18.m1.7.9.10.2" stretchy="false">)</mo></mrow><mo id="A1.E18.m1.7.9.11">,</mo><mi id="A1.E18.m1.4.4">w</mi><mo id="A1.E18.m1.7.9.12" stretchy="false">)</mo></mrow><mo id="A1.E18.m1.7.10">=</mo><mi id="A1.E18.m1.7.11">P</mi><mrow id="A1.E18.m1.7.12"><mo id="A1.E18.m1.7.12.1" stretchy="false">(</mo><mi id="A1.E18.m1.7.12.2">y</mi><mo fence="false" id="A1.E18.m1.7.12.3" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E18.m1.7.12.4">d</mi><mi id="A1.E18.m1.7.12.5">o</mi><mrow id="A1.E18.m1.7.12.6"><mo id="A1.E18.m1.7.12.6.1" stretchy="false">(</mo><mi id="A1.E18.m1.5.5">x</mi><mo id="A1.E18.m1.7.12.6.2" stretchy="false">)</mo></mrow><mo id="A1.E18.m1.7.12.7">,</mo><mi id="A1.E18.m1.6.6">w</mi><mo id="A1.E18.m1.7.12.8" stretchy="false">)</mo></mrow><mspace id="A1.E18.m1.7.13" width="1em"></mspace><mtext id="A1.E18.m1.7.7">if</mtext><mspace id="A1.E18.m1.7.14" width="1em"></mspace><msub id="A1.E18.m1.7.15"><mrow id="A1.E18.m1.7.15.2"><mo id="A1.E18.m1.7.15.2.1" stretchy="false">(</mo><mi id="A1.E18.m1.7.15.2.2">Y</mi><mpadded width="0.250em"><mo id="A1.E18.m1.7.15.2.3">⟂</mo></mpadded><mo id="A1.E18.m1.7.15.2.4">⟂</mo><mi id="A1.E18.m1.7.15.2.5">Z</mi><mo fence="false" id="A1.E18.m1.7.15.2.6" rspace="0.167em" stretchy="false">|</mo><mi id="A1.E18.m1.7.15.2.7">X</mi><mo id="A1.E18.m1.7.15.2.8">,</mo><mi id="A1.E18.m1.7.15.2.9">W</mi><mo id="A1.E18.m1.7.15.2.10" stretchy="false">)</mo></mrow><msub id="A1.E18.m1.1.1.1"><mi id="A1.E18.m1.1.1.1.3">G</mi><mrow id="A1.E18.m1.1.1.1.1.1"><mover accent="true" id="A1.E18.m1.1.1.1.1.1.3"><mi id="A1.E18.m1.1.1.1.1.1.3.2">X</mi><mo id="A1.E18.m1.1.1.1.1.1.3.1">¯</mo></mover><mo id="A1.E18.m1.1.1.1.1.1.2">⁢</mo><mover accent="true" id="A1.E18.m1.1.1.1.1.1.1"><mrow id="A1.E18.m1.1.1.1.1.1.1.1"><mi id="A1.E18.m1.1.1.1.1.1.1.1.3">Z</mi><mo id="A1.E18.m1.1.1.1.1.1.1.1.2">⁢</mo><mrow id="A1.E18.m1.1.1.1.1.1.1.1.4.2"><mo id="A1.E18.m1.1.1.1.1.1.1.1.4.2.1" stretchy="false">(</mo><mi id="A1.E18.m1.1.1.1.1.1.1.1.1">W</mi><mo id="A1.E18.m1.1.1.1.1.1.1.1.4.2.2" stretchy="false">)</mo></mrow></mrow><mo id="A1.E18.m1.1.1.1.1.1.1.2">¯</mo></mover></mrow></msub></msub></mrow><annotation encoding="application/x-tex" id="A1.E18.m1.7c">P(y|do(x),do(z),w)=P(y|do(x),w)\quad\text{if}\quad(Y\perp\!\!\!\perp Z|X,W)_{G%
_{\overline{X}\overline{Z(W)}}}</annotation><annotation encoding="application/x-llamapun" id="A1.E18.m1.7d">italic_P ( italic_y | italic_d italic_o ( italic_x ) , italic_d italic_o ( italic_z ) , italic_w ) = italic_P ( italic_y | italic_d italic_o ( italic_x ) , italic_w ) if ( italic_Y ⟂ ⟂ italic_Z | italic_X , italic_W ) start_POSTSUBSCRIPT italic_G start_POSTSUBSCRIPT over¯ start_ARG italic_X end_ARG over¯ start_ARG italic_Z ( italic_W ) end_ARG end_POSTSUBSCRIPT end_POSTSUBSCRIPT</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
</div>
</div>
<div class="ltx_para" id="A1.p1">
<p class="ltx_p" id="A1.p1.7">where <math alttext="G_{\overline{X}}" class="ltx_Math" display="inline" id="A1.p1.1.m1.1"><semantics id="A1.p1.1.m1.1a"><msub id="A1.p1.1.m1.1.1" xref="A1.p1.1.m1.1.1.cmml"><mi id="A1.p1.1.m1.1.1.2" xref="A1.p1.1.m1.1.1.2.cmml">G</mi><mover accent="true" id="A1.p1.1.m1.1.1.3" xref="A1.p1.1.m1.1.1.3.cmml"><mi id="A1.p1.1.m1.1.1.3.2" xref="A1.p1.1.m1.1.1.3.2.cmml">X</mi><mo id="A1.p1.1.m1.1.1.3.1" xref="A1.p1.1.m1.1.1.3.1.cmml">¯</mo></mover></msub><annotation-xml encoding="MathML-Content" id="A1.p1.1.m1.1b"><apply id="A1.p1.1.m1.1.1.cmml" xref="A1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A1.p1.1.m1.1.1.1.cmml" xref="A1.p1.1.m1.1.1">subscript</csymbol><ci id="A1.p1.1.m1.1.1.2.cmml" xref="A1.p1.1.m1.1.1.2">𝐺</ci><apply id="A1.p1.1.m1.1.1.3.cmml" xref="A1.p1.1.m1.1.1.3"><ci id="A1.p1.1.m1.1.1.3.1.cmml" xref="A1.p1.1.m1.1.1.3.1">¯</ci><ci id="A1.p1.1.m1.1.1.3.2.cmml" xref="A1.p1.1.m1.1.1.3.2">𝑋</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">G_{\overline{X}}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.1.m1.1d">italic_G start_POSTSUBSCRIPT over¯ start_ARG italic_X end_ARG end_POSTSUBSCRIPT</annotation></semantics></math> is the graph with all incoming edges to <math alttext="X" class="ltx_Math" display="inline" id="A1.p1.2.m2.1"><semantics id="A1.p1.2.m2.1a"><mi id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml">X</mi><annotation-xml encoding="MathML-Content" id="A1.p1.2.m2.1b"><ci id="A1.p1.2.m2.1.1.cmml" xref="A1.p1.2.m2.1.1">𝑋</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m2.1c">X</annotation><annotation encoding="application/x-llamapun" id="A1.p1.2.m2.1d">italic_X</annotation></semantics></math> being removed, <math alttext="G_{\underline{W}}" class="ltx_Math" display="inline" id="A1.p1.3.m3.1"><semantics id="A1.p1.3.m3.1a"><msub id="A1.p1.3.m3.1.1" xref="A1.p1.3.m3.1.1.cmml"><mi id="A1.p1.3.m3.1.1.2" xref="A1.p1.3.m3.1.1.2.cmml">G</mi><munder accentunder="true" id="A1.p1.3.m3.1.1.3" xref="A1.p1.3.m3.1.1.3.cmml"><mi id="A1.p1.3.m3.1.1.3.2" xref="A1.p1.3.m3.1.1.3.2.cmml">W</mi><mo id="A1.p1.3.m3.1.1.3.1" xref="A1.p1.3.m3.1.1.3.1.cmml">¯</mo></munder></msub><annotation-xml encoding="MathML-Content" id="A1.p1.3.m3.1b"><apply id="A1.p1.3.m3.1.1.cmml" xref="A1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="A1.p1.3.m3.1.1.1.cmml" xref="A1.p1.3.m3.1.1">subscript</csymbol><ci id="A1.p1.3.m3.1.1.2.cmml" xref="A1.p1.3.m3.1.1.2">𝐺</ci><apply id="A1.p1.3.m3.1.1.3.cmml" xref="A1.p1.3.m3.1.1.3"><ci id="A1.p1.3.m3.1.1.3.1.cmml" xref="A1.p1.3.m3.1.1.3.1">¯</ci><ci id="A1.p1.3.m3.1.1.3.2.cmml" xref="A1.p1.3.m3.1.1.3.2">𝑊</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.3.m3.1c">G_{\underline{W}}</annotation><annotation encoding="application/x-llamapun" id="A1.p1.3.m3.1d">italic_G start_POSTSUBSCRIPT under¯ start_ARG italic_W end_ARG end_POSTSUBSCRIPT</annotation></semantics></math> is the graph with all outcoming edges to <math alttext="W" class="ltx_Math" display="inline" id="A1.p1.4.m4.1"><semantics id="A1.p1.4.m4.1a"><mi id="A1.p1.4.m4.1.1" xref="A1.p1.4.m4.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="A1.p1.4.m4.1b"><ci id="A1.p1.4.m4.1.1.cmml" xref="A1.p1.4.m4.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.4.m4.1c">W</annotation><annotation encoding="application/x-llamapun" id="A1.p1.4.m4.1d">italic_W</annotation></semantics></math> being removed, and <math alttext="Z(W)" class="ltx_Math" display="inline" id="A1.p1.5.m5.1"><semantics id="A1.p1.5.m5.1a"><mrow id="A1.p1.5.m5.1.2" xref="A1.p1.5.m5.1.2.cmml"><mi id="A1.p1.5.m5.1.2.2" xref="A1.p1.5.m5.1.2.2.cmml">Z</mi><mo id="A1.p1.5.m5.1.2.1" xref="A1.p1.5.m5.1.2.1.cmml">⁢</mo><mrow id="A1.p1.5.m5.1.2.3.2" xref="A1.p1.5.m5.1.2.cmml"><mo id="A1.p1.5.m5.1.2.3.2.1" stretchy="false" xref="A1.p1.5.m5.1.2.cmml">(</mo><mi id="A1.p1.5.m5.1.1" xref="A1.p1.5.m5.1.1.cmml">W</mi><mo id="A1.p1.5.m5.1.2.3.2.2" stretchy="false" xref="A1.p1.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.5.m5.1b"><apply id="A1.p1.5.m5.1.2.cmml" xref="A1.p1.5.m5.1.2"><times id="A1.p1.5.m5.1.2.1.cmml" xref="A1.p1.5.m5.1.2.1"></times><ci id="A1.p1.5.m5.1.2.2.cmml" xref="A1.p1.5.m5.1.2.2">𝑍</ci><ci id="A1.p1.5.m5.1.1.cmml" xref="A1.p1.5.m5.1.1">𝑊</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.5.m5.1c">Z(W)</annotation><annotation encoding="application/x-llamapun" id="A1.p1.5.m5.1d">italic_Z ( italic_W )</annotation></semantics></math> is the set of <math alttext="Z" class="ltx_Math" display="inline" id="A1.p1.6.m6.1"><semantics id="A1.p1.6.m6.1a"><mi id="A1.p1.6.m6.1.1" xref="A1.p1.6.m6.1.1.cmml">Z</mi><annotation-xml encoding="MathML-Content" id="A1.p1.6.m6.1b"><ci id="A1.p1.6.m6.1.1.cmml" xref="A1.p1.6.m6.1.1">𝑍</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.6.m6.1c">Z</annotation><annotation encoding="application/x-llamapun" id="A1.p1.6.m6.1d">italic_Z</annotation></semantics></math>-nodes that are not ancestors of any <math alttext="W" class="ltx_Math" display="inline" id="A1.p1.7.m7.1"><semantics id="A1.p1.7.m7.1a"><mi id="A1.p1.7.m7.1.1" xref="A1.p1.7.m7.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="A1.p1.7.m7.1b"><ci id="A1.p1.7.m7.1.1.cmml" xref="A1.p1.7.m7.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.7.m7.1c">W</annotation><annotation encoding="application/x-llamapun" id="A1.p1.7.m7.1d">italic_W</annotation></semantics></math>-node.</p>
</div>
<div class="ltx_para" id="A1.p2">
<p class="ltx_p" id="A1.p2.1">Intuitively, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A1.Thmtheorem1" title="Rule A.1 (Insertion/deletion of observations). ‣ Appendix A Do-Calculus ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">A.1</span></a> states when an observant can be omitted in estimating the interventional distribution, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A1.Thmtheorem2" title="Rule A.2 (Action/observation exchange). ‣ Appendix A Do-Calculus ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">A.2</span></a> illustrates under what condition, the interventional distribution can be estimated using the observational dataset, and <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A1.Thmtheorem3" title="Rule A.3 (Insertion/deletion of actions). ‣ Appendix A Do-Calculus ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">A.3</span></a> decides when we can ignore an intervention.</p>
</div>
</section>
<section class="ltx_appendix" id="A2">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Proof for <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.Thmtheorem1" title="Theorem 4.1. ‣ 4.2. Estimating the Interventional Distribution. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Theorem</span> <span class="ltx_text ltx_ref_tag">4.1</span></a>
</h2>
<div class="ltx_proof" id="A2.1">
<h6 class="ltx_title ltx_runin ltx_font_italic ltx_title_proof">Proof.</h6>
<div class="ltx_para" id="A2.1.p1">
<p class="ltx_p" id="A2.1.p1.1">Suppose that the user’s decision <math alttext="D_{t}" class="ltx_Math" display="inline" id="A2.1.p1.1.m1.1"><semantics id="A2.1.p1.1.m1.1a"><msub id="A2.1.p1.1.m1.1.1" xref="A2.1.p1.1.m1.1.1.cmml"><mi id="A2.1.p1.1.m1.1.1.2" xref="A2.1.p1.1.m1.1.1.2.cmml">D</mi><mi id="A2.1.p1.1.m1.1.1.3" xref="A2.1.p1.1.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A2.1.p1.1.m1.1b"><apply id="A2.1.p1.1.m1.1.1.cmml" xref="A2.1.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A2.1.p1.1.m1.1.1.1.cmml" xref="A2.1.p1.1.m1.1.1">subscript</csymbol><ci id="A2.1.p1.1.m1.1.1.2.cmml" xref="A2.1.p1.1.m1.1.1.2">𝐷</ci><ci id="A2.1.p1.1.m1.1.1.3.cmml" xref="A2.1.p1.1.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.1.p1.1.m1.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.1.p1.1.m1.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> follows the causal relationship in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S1.F1" title="In 1. Introduction ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Figure</span> <span class="ltx_text ltx_ref_tag">1</span></a>, then we can write</p>
<table class="ltx_equation ltx_eqn_table" id="A2.E19">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_left" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_left">(19)</span></td>
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})=\sum_{D_{t-1}}%
\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t},D_{t-1})\cdot\\
\mathbb{P}(D_{t-1}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})" class="ltx_Math" display="block" id="A2.E19.m1.77"><semantics id="A2.E19.m1.77a"><mtable displaystyle="true" id="A2.E19.m1.77.77.4" rowspacing="0pt" xref="A2.E19.m1.76.76.3.cmml"><mtr id="A2.E19.m1.77.77.4a" xref="A2.E19.m1.76.76.3.cmml"><mtd class="ltx_align_left" columnalign="left" id="A2.E19.m1.77.77.4b" xref="A2.E19.m1.76.76.3.cmml"><mrow id="A2.E19.m1.51.51.51.51.51" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.1.1.1.1.1.1" xref="A2.E19.m1.1.1.1.1.1.1.cmml">ℙ</mi><mrow id="A2.E19.m1.51.51.51.51.51.52" xref="A2.E19.m1.76.76.3.cmml"><mo id="A2.E19.m1.2.2.2.2.2.2" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">(</mo><msub id="A2.E19.m1.51.51.51.51.51.52.1" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.3.3.3.3.3.3" xref="A2.E19.m1.3.3.3.3.3.3.cmml">D</mi><mi id="A2.E19.m1.4.4.4.4.4.4.1" xref="A2.E19.m1.4.4.4.4.4.4.1.cmml">t</mi></msub><mo fence="false" id="A2.E19.m1.5.5.5.5.5.5" rspace="0.167em" stretchy="false" xref="A2.E19.m1.5.5.5.5.5.5.cmml">|</mo><mtext id="A2.E19.m1.6.6.6.6.6.6" xref="A2.E19.m1.6.6.6.6.6.6a.cmml">do</mtext><mrow id="A2.E19.m1.51.51.51.51.51.52.2" xref="A2.E19.m1.76.76.3.cmml"><mo id="A2.E19.m1.7.7.7.7.7.7" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">(</mo><msub id="A2.E19.m1.51.51.51.51.51.52.2.1" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.8.8.8.8.8.8" xref="A2.E19.m1.8.8.8.8.8.8.cmml">S</mi><mi id="A2.E19.m1.9.9.9.9.9.9.1" xref="A2.E19.m1.9.9.9.9.9.9.1.cmml">t</mi></msub><mo id="A2.E19.m1.10.10.10.10.10.10" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.51.51.51.51.51.52.2.2" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.11.11.11.11.11.11" xref="A2.E19.m1.11.11.11.11.11.11.cmml">S</mi><mrow id="A2.E19.m1.12.12.12.12.12.12.1" xref="A2.E19.m1.12.12.12.12.12.12.1.cmml"><mi id="A2.E19.m1.12.12.12.12.12.12.1.2" xref="A2.E19.m1.12.12.12.12.12.12.1.2.cmml">t</mi><mo id="A2.E19.m1.12.12.12.12.12.12.1.1" xref="A2.E19.m1.12.12.12.12.12.12.1.1.cmml">−</mo><mn id="A2.E19.m1.12.12.12.12.12.12.1.3" xref="A2.E19.m1.12.12.12.12.12.12.1.3.cmml">1</mn></mrow></msub><mo id="A2.E19.m1.13.13.13.13.13.13" xref="A2.E19.m1.76.76.3.cmml">,</mo><mi id="A2.E19.m1.14.14.14.14.14.14" mathvariant="normal" xref="A2.E19.m1.14.14.14.14.14.14.cmml">…</mi><mo id="A2.E19.m1.15.15.15.15.15.15" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.51.51.51.51.51.52.2.3" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.16.16.16.16.16.16" xref="A2.E19.m1.16.16.16.16.16.16.cmml">S</mi><mn id="A2.E19.m1.17.17.17.17.17.17.1" xref="A2.E19.m1.17.17.17.17.17.17.1.cmml">1</mn></msub><mo id="A2.E19.m1.18.18.18.18.18.18" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">)</mo></mrow><mo id="A2.E19.m1.19.19.19.19.19.19" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.51.51.51.51.51.52.3" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.20.20.20.20.20.20" xref="A2.E19.m1.20.20.20.20.20.20.cmml">P</mi><mi id="A2.E19.m1.21.21.21.21.21.21.1" xref="A2.E19.m1.21.21.21.21.21.21.1.cmml">t</mi></msub><mo id="A2.E19.m1.22.22.22.22.22.22" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">)</mo></mrow><mo id="A2.E19.m1.23.23.23.23.23.23" rspace="0.111em" xref="A2.E19.m1.23.23.23.23.23.23.cmml">=</mo><munder id="A2.E19.m1.51.51.51.51.51.53" xref="A2.E19.m1.76.76.3.cmml"><mo id="A2.E19.m1.24.24.24.24.24.24" movablelimits="false" xref="A2.E19.m1.24.24.24.24.24.24.cmml">∑</mo><msub id="A2.E19.m1.25.25.25.25.25.25.1" xref="A2.E19.m1.25.25.25.25.25.25.1.cmml"><mi id="A2.E19.m1.25.25.25.25.25.25.1.2" xref="A2.E19.m1.25.25.25.25.25.25.1.2.cmml">D</mi><mrow id="A2.E19.m1.25.25.25.25.25.25.1.3" xref="A2.E19.m1.25.25.25.25.25.25.1.3.cmml"><mi id="A2.E19.m1.25.25.25.25.25.25.1.3.2" xref="A2.E19.m1.25.25.25.25.25.25.1.3.2.cmml">t</mi><mo id="A2.E19.m1.25.25.25.25.25.25.1.3.1" xref="A2.E19.m1.25.25.25.25.25.25.1.3.1.cmml">−</mo><mn id="A2.E19.m1.25.25.25.25.25.25.1.3.3" xref="A2.E19.m1.25.25.25.25.25.25.1.3.3.cmml">1</mn></mrow></msub></munder><mi id="A2.E19.m1.26.26.26.26.26.26" xref="A2.E19.m1.26.26.26.26.26.26.cmml">ℙ</mi><mrow id="A2.E19.m1.51.51.51.51.51.54" xref="A2.E19.m1.76.76.3.cmml"><mo id="A2.E19.m1.27.27.27.27.27.27" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">(</mo><msub id="A2.E19.m1.51.51.51.51.51.54.1" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.28.28.28.28.28.28" xref="A2.E19.m1.28.28.28.28.28.28.cmml">D</mi><mi id="A2.E19.m1.29.29.29.29.29.29.1" xref="A2.E19.m1.29.29.29.29.29.29.1.cmml">t</mi></msub><mo fence="false" id="A2.E19.m1.30.30.30.30.30.30" rspace="0.167em" stretchy="false" xref="A2.E19.m1.30.30.30.30.30.30.cmml">|</mo><mtext id="A2.E19.m1.31.31.31.31.31.31" xref="A2.E19.m1.31.31.31.31.31.31a.cmml">do</mtext><mrow id="A2.E19.m1.51.51.51.51.51.54.2" xref="A2.E19.m1.76.76.3.cmml"><mo id="A2.E19.m1.32.32.32.32.32.32" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">(</mo><msub id="A2.E19.m1.51.51.51.51.51.54.2.1" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.33.33.33.33.33.33" xref="A2.E19.m1.33.33.33.33.33.33.cmml">S</mi><mi id="A2.E19.m1.34.34.34.34.34.34.1" xref="A2.E19.m1.34.34.34.34.34.34.1.cmml">t</mi></msub><mo id="A2.E19.m1.35.35.35.35.35.35" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.51.51.51.51.51.54.2.2" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.36.36.36.36.36.36" xref="A2.E19.m1.36.36.36.36.36.36.cmml">S</mi><mrow id="A2.E19.m1.37.37.37.37.37.37.1" xref="A2.E19.m1.37.37.37.37.37.37.1.cmml"><mi id="A2.E19.m1.37.37.37.37.37.37.1.2" xref="A2.E19.m1.37.37.37.37.37.37.1.2.cmml">t</mi><mo id="A2.E19.m1.37.37.37.37.37.37.1.1" xref="A2.E19.m1.37.37.37.37.37.37.1.1.cmml">−</mo><mn id="A2.E19.m1.37.37.37.37.37.37.1.3" xref="A2.E19.m1.37.37.37.37.37.37.1.3.cmml">1</mn></mrow></msub><mo id="A2.E19.m1.38.38.38.38.38.38" xref="A2.E19.m1.76.76.3.cmml">,</mo><mi id="A2.E19.m1.39.39.39.39.39.39" mathvariant="normal" xref="A2.E19.m1.39.39.39.39.39.39.cmml">…</mi><mo id="A2.E19.m1.40.40.40.40.40.40" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.51.51.51.51.51.54.2.3" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.41.41.41.41.41.41" xref="A2.E19.m1.41.41.41.41.41.41.cmml">S</mi><mn id="A2.E19.m1.42.42.42.42.42.42.1" xref="A2.E19.m1.42.42.42.42.42.42.1.cmml">1</mn></msub><mo id="A2.E19.m1.43.43.43.43.43.43" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">)</mo></mrow><mo id="A2.E19.m1.44.44.44.44.44.44" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.51.51.51.51.51.54.3" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.45.45.45.45.45.45" xref="A2.E19.m1.45.45.45.45.45.45.cmml">P</mi><mi id="A2.E19.m1.46.46.46.46.46.46.1" xref="A2.E19.m1.46.46.46.46.46.46.1.cmml">t</mi></msub><mo id="A2.E19.m1.47.47.47.47.47.47" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.51.51.51.51.51.54.4" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.48.48.48.48.48.48" xref="A2.E19.m1.48.48.48.48.48.48.cmml">D</mi><mrow id="A2.E19.m1.49.49.49.49.49.49.1" xref="A2.E19.m1.49.49.49.49.49.49.1.cmml"><mi id="A2.E19.m1.49.49.49.49.49.49.1.2" xref="A2.E19.m1.49.49.49.49.49.49.1.2.cmml">t</mi><mo id="A2.E19.m1.49.49.49.49.49.49.1.1" xref="A2.E19.m1.49.49.49.49.49.49.1.1.cmml">−</mo><mn id="A2.E19.m1.49.49.49.49.49.49.1.3" xref="A2.E19.m1.49.49.49.49.49.49.1.3.cmml">1</mn></mrow></msub><mo id="A2.E19.m1.50.50.50.50.50.50" rspace="0.055em" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">)</mo></mrow><mo id="A2.E19.m1.51.51.51.51.51.51" xref="A2.E19.m1.51.51.51.51.51.51.cmml">⋅</mo></mrow></mtd></mtr><mtr id="A2.E19.m1.77.77.4c" xref="A2.E19.m1.76.76.3.cmml"><mtd class="ltx_align_right" columnalign="right" id="A2.E19.m1.77.77.4d" xref="A2.E19.m1.76.76.3.cmml"><mrow id="A2.E19.m1.77.77.4.74.23.23" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.52.52.52.1.1.1" xref="A2.E19.m1.52.52.52.1.1.1.cmml">ℙ</mi><mo id="A2.E19.m1.77.77.4.74.23.23.24" xref="A2.E19.m1.76.76.3.cmml">⁢</mo><mrow id="A2.E19.m1.77.77.4.74.23.23.23.1" xref="A2.E19.m1.76.76.3.cmml"><mo id="A2.E19.m1.53.53.53.2.2.2" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">(</mo><mrow id="A2.E19.m1.77.77.4.74.23.23.23.1.1" xref="A2.E19.m1.76.76.3.cmml"><msub id="A2.E19.m1.77.77.4.74.23.23.23.1.1.3" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.54.54.54.3.3.3" xref="A2.E19.m1.54.54.54.3.3.3.cmml">D</mi><mrow id="A2.E19.m1.55.55.55.4.4.4.1" xref="A2.E19.m1.55.55.55.4.4.4.1.cmml"><mi id="A2.E19.m1.55.55.55.4.4.4.1.2" xref="A2.E19.m1.55.55.55.4.4.4.1.2.cmml">t</mi><mo id="A2.E19.m1.55.55.55.4.4.4.1.1" xref="A2.E19.m1.55.55.55.4.4.4.1.1.cmml">−</mo><mn id="A2.E19.m1.55.55.55.4.4.4.1.3" xref="A2.E19.m1.55.55.55.4.4.4.1.3.cmml">1</mn></mrow></msub><mo fence="false" id="A2.E19.m1.56.56.56.5.5.5" xref="A2.E19.m1.56.56.56.5.5.5.cmml">|</mo><mrow id="A2.E19.m1.77.77.4.74.23.23.23.1.1.2.2" xref="A2.E19.m1.76.76.3.cmml"><mrow id="A2.E19.m1.77.77.4.74.23.23.23.1.1.1.1.1" xref="A2.E19.m1.76.76.3.cmml"><mtext id="A2.E19.m1.57.57.57.6.6.6" xref="A2.E19.m1.57.57.57.6.6.6a.cmml">do</mtext><mo id="A2.E19.m1.77.77.4.74.23.23.23.1.1.1.1.1.4" xref="A2.E19.m1.76.76.3.cmml">⁢</mo><mrow id="A2.E19.m1.77.77.4.74.23.23.23.1.1.1.1.1.3.3" xref="A2.E19.m1.76.76.3.cmml"><mo id="A2.E19.m1.58.58.58.7.7.7" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">(</mo><msub id="A2.E19.m1.77.77.4.74.23.23.23.1.1.1.1.1.1.1.1" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.59.59.59.8.8.8" xref="A2.E19.m1.59.59.59.8.8.8.cmml">S</mi><mi id="A2.E19.m1.60.60.60.9.9.9.1" xref="A2.E19.m1.60.60.60.9.9.9.1.cmml">t</mi></msub><mo id="A2.E19.m1.61.61.61.10.10.10" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.77.77.4.74.23.23.23.1.1.1.1.1.2.2.2" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.62.62.62.11.11.11" xref="A2.E19.m1.62.62.62.11.11.11.cmml">S</mi><mrow id="A2.E19.m1.63.63.63.12.12.12.1" xref="A2.E19.m1.63.63.63.12.12.12.1.cmml"><mi id="A2.E19.m1.63.63.63.12.12.12.1.2" xref="A2.E19.m1.63.63.63.12.12.12.1.2.cmml">t</mi><mo id="A2.E19.m1.63.63.63.12.12.12.1.1" xref="A2.E19.m1.63.63.63.12.12.12.1.1.cmml">−</mo><mn id="A2.E19.m1.63.63.63.12.12.12.1.3" xref="A2.E19.m1.63.63.63.12.12.12.1.3.cmml">1</mn></mrow></msub><mo id="A2.E19.m1.64.64.64.13.13.13" xref="A2.E19.m1.76.76.3.cmml">,</mo><mi id="A2.E19.m1.65.65.65.14.14.14" mathvariant="normal" xref="A2.E19.m1.65.65.65.14.14.14.cmml">…</mi><mo id="A2.E19.m1.66.66.66.15.15.15" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.77.77.4.74.23.23.23.1.1.1.1.1.3.3.3" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.67.67.67.16.16.16" xref="A2.E19.m1.67.67.67.16.16.16.cmml">S</mi><mn id="A2.E19.m1.68.68.68.17.17.17.1" xref="A2.E19.m1.68.68.68.17.17.17.1.cmml">1</mn></msub><mo id="A2.E19.m1.69.69.69.18.18.18" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">)</mo></mrow></mrow><mo id="A2.E19.m1.70.70.70.19.19.19" xref="A2.E19.m1.76.76.3.cmml">,</mo><msub id="A2.E19.m1.77.77.4.74.23.23.23.1.1.2.2.2" xref="A2.E19.m1.76.76.3.cmml"><mi id="A2.E19.m1.71.71.71.20.20.20" xref="A2.E19.m1.71.71.71.20.20.20.cmml">P</mi><mi id="A2.E19.m1.72.72.72.21.21.21.1" xref="A2.E19.m1.72.72.72.21.21.21.1.cmml">t</mi></msub></mrow></mrow><mo id="A2.E19.m1.73.73.73.22.22.22" stretchy="false" xref="A2.E19.m1.76.76.3.cmml">)</mo></mrow></mrow></mtd></mtr></mtable><annotation-xml encoding="MathML-Content" id="A2.E19.m1.77b"><apply id="A2.E19.m1.76.76.3.cmml" xref="A2.E19.m1.77.77.4"><eq id="A2.E19.m1.23.23.23.23.23.23.cmml" xref="A2.E19.m1.23.23.23.23.23.23"></eq><apply id="A2.E19.m1.74.74.1.1.cmml" xref="A2.E19.m1.77.77.4"><times id="A2.E19.m1.74.74.1.1.2.cmml" xref="A2.E19.m1.77.77.4"></times><ci id="A2.E19.m1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.1.1.1.1.1.1">ℙ</ci><apply id="A2.E19.m1.74.74.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><ci id="A2.E19.m1.5.5.5.5.5.5.cmml" xref="A2.E19.m1.5.5.5.5.5.5">|</ci><apply id="A2.E19.m1.74.74.1.1.1.1.1.4.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.74.74.1.1.1.1.1.4.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.3.3.3.3.3.3.cmml" xref="A2.E19.m1.3.3.3.3.3.3">𝐷</ci><ci id="A2.E19.m1.4.4.4.4.4.4.1.cmml" xref="A2.E19.m1.4.4.4.4.4.4.1">𝑡</ci></apply><list id="A2.E19.m1.74.74.1.1.1.1.1.2.3.cmml" xref="A2.E19.m1.77.77.4"><apply id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><times id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.4.cmml" xref="A2.E19.m1.77.77.4"></times><ci id="A2.E19.m1.6.6.6.6.6.6a.cmml" xref="A2.E19.m1.6.6.6.6.6.6"><mtext id="A2.E19.m1.6.6.6.6.6.6.cmml" xref="A2.E19.m1.6.6.6.6.6.6">do</mtext></ci><vector id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.3.4.cmml" xref="A2.E19.m1.77.77.4"><apply id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.8.8.8.8.8.8.cmml" xref="A2.E19.m1.8.8.8.8.8.8">𝑆</ci><ci id="A2.E19.m1.9.9.9.9.9.9.1.cmml" xref="A2.E19.m1.9.9.9.9.9.9.1">𝑡</ci></apply><apply id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.11.11.11.11.11.11.cmml" xref="A2.E19.m1.11.11.11.11.11.11">𝑆</ci><apply id="A2.E19.m1.12.12.12.12.12.12.1.cmml" xref="A2.E19.m1.12.12.12.12.12.12.1"><minus id="A2.E19.m1.12.12.12.12.12.12.1.1.cmml" xref="A2.E19.m1.12.12.12.12.12.12.1.1"></minus><ci id="A2.E19.m1.12.12.12.12.12.12.1.2.cmml" xref="A2.E19.m1.12.12.12.12.12.12.1.2">𝑡</ci><cn id="A2.E19.m1.12.12.12.12.12.12.1.3.cmml" type="integer" xref="A2.E19.m1.12.12.12.12.12.12.1.3">1</cn></apply></apply><ci id="A2.E19.m1.14.14.14.14.14.14.cmml" xref="A2.E19.m1.14.14.14.14.14.14">…</ci><apply id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.74.74.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.16.16.16.16.16.16.cmml" xref="A2.E19.m1.16.16.16.16.16.16">𝑆</ci><cn id="A2.E19.m1.17.17.17.17.17.17.1.cmml" type="integer" xref="A2.E19.m1.17.17.17.17.17.17.1">1</cn></apply></vector></apply><apply id="A2.E19.m1.74.74.1.1.1.1.1.2.2.2.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.74.74.1.1.1.1.1.2.2.2.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.20.20.20.20.20.20.cmml" xref="A2.E19.m1.20.20.20.20.20.20">𝑃</ci><ci id="A2.E19.m1.21.21.21.21.21.21.1.cmml" xref="A2.E19.m1.21.21.21.21.21.21.1">𝑡</ci></apply></list></apply></apply><apply id="A2.E19.m1.76.76.3.3.cmml" xref="A2.E19.m1.77.77.4"><apply id="A2.E19.m1.76.76.3.3.3.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.76.76.3.3.3.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><sum id="A2.E19.m1.24.24.24.24.24.24.cmml" xref="A2.E19.m1.24.24.24.24.24.24"></sum><apply id="A2.E19.m1.25.25.25.25.25.25.1.cmml" xref="A2.E19.m1.25.25.25.25.25.25.1"><csymbol cd="ambiguous" id="A2.E19.m1.25.25.25.25.25.25.1.1.cmml" xref="A2.E19.m1.25.25.25.25.25.25.1">subscript</csymbol><ci id="A2.E19.m1.25.25.25.25.25.25.1.2.cmml" xref="A2.E19.m1.25.25.25.25.25.25.1.2">𝐷</ci><apply id="A2.E19.m1.25.25.25.25.25.25.1.3.cmml" xref="A2.E19.m1.25.25.25.25.25.25.1.3"><minus id="A2.E19.m1.25.25.25.25.25.25.1.3.1.cmml" xref="A2.E19.m1.25.25.25.25.25.25.1.3.1"></minus><ci id="A2.E19.m1.25.25.25.25.25.25.1.3.2.cmml" xref="A2.E19.m1.25.25.25.25.25.25.1.3.2">𝑡</ci><cn id="A2.E19.m1.25.25.25.25.25.25.1.3.3.cmml" type="integer" xref="A2.E19.m1.25.25.25.25.25.25.1.3.3">1</cn></apply></apply></apply><apply id="A2.E19.m1.76.76.3.3.2.cmml" xref="A2.E19.m1.77.77.4"><times id="A2.E19.m1.76.76.3.3.2.3.cmml" xref="A2.E19.m1.77.77.4"></times><apply id="A2.E19.m1.75.75.2.2.1.1.cmml" xref="A2.E19.m1.77.77.4"><ci id="A2.E19.m1.51.51.51.51.51.51.cmml" xref="A2.E19.m1.51.51.51.51.51.51">⋅</ci><apply id="A2.E19.m1.75.75.2.2.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><times id="A2.E19.m1.75.75.2.2.1.1.1.2.cmml" xref="A2.E19.m1.77.77.4"></times><ci id="A2.E19.m1.26.26.26.26.26.26.cmml" xref="A2.E19.m1.26.26.26.26.26.26">ℙ</ci><apply id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><ci id="A2.E19.m1.30.30.30.30.30.30.cmml" xref="A2.E19.m1.30.30.30.30.30.30">|</ci><apply id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.5.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.5.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.28.28.28.28.28.28.cmml" xref="A2.E19.m1.28.28.28.28.28.28">𝐷</ci><ci id="A2.E19.m1.29.29.29.29.29.29.1.cmml" xref="A2.E19.m1.29.29.29.29.29.29.1">𝑡</ci></apply><list id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.3.4.cmml" xref="A2.E19.m1.77.77.4"><apply id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><times id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.4.cmml" xref="A2.E19.m1.77.77.4"></times><ci id="A2.E19.m1.31.31.31.31.31.31a.cmml" xref="A2.E19.m1.31.31.31.31.31.31"><mtext id="A2.E19.m1.31.31.31.31.31.31.cmml" xref="A2.E19.m1.31.31.31.31.31.31">do</mtext></ci><vector id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="A2.E19.m1.77.77.4"><apply id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.33.33.33.33.33.33.cmml" xref="A2.E19.m1.33.33.33.33.33.33">𝑆</ci><ci id="A2.E19.m1.34.34.34.34.34.34.1.cmml" xref="A2.E19.m1.34.34.34.34.34.34.1">𝑡</ci></apply><apply id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.36.36.36.36.36.36.cmml" xref="A2.E19.m1.36.36.36.36.36.36">𝑆</ci><apply id="A2.E19.m1.37.37.37.37.37.37.1.cmml" xref="A2.E19.m1.37.37.37.37.37.37.1"><minus id="A2.E19.m1.37.37.37.37.37.37.1.1.cmml" xref="A2.E19.m1.37.37.37.37.37.37.1.1"></minus><ci id="A2.E19.m1.37.37.37.37.37.37.1.2.cmml" xref="A2.E19.m1.37.37.37.37.37.37.1.2">𝑡</ci><cn id="A2.E19.m1.37.37.37.37.37.37.1.3.cmml" type="integer" xref="A2.E19.m1.37.37.37.37.37.37.1.3">1</cn></apply></apply><ci id="A2.E19.m1.39.39.39.39.39.39.cmml" xref="A2.E19.m1.39.39.39.39.39.39">…</ci><apply id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.41.41.41.41.41.41.cmml" xref="A2.E19.m1.41.41.41.41.41.41">𝑆</ci><cn id="A2.E19.m1.42.42.42.42.42.42.1.cmml" type="integer" xref="A2.E19.m1.42.42.42.42.42.42.1">1</cn></apply></vector></apply><apply id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.45.45.45.45.45.45.cmml" xref="A2.E19.m1.45.45.45.45.45.45">𝑃</ci><ci id="A2.E19.m1.46.46.46.46.46.46.1.cmml" xref="A2.E19.m1.46.46.46.46.46.46.1">𝑡</ci></apply><apply id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.3.3.3.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.75.75.2.2.1.1.1.1.1.1.3.3.3.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.48.48.48.48.48.48.cmml" xref="A2.E19.m1.48.48.48.48.48.48">𝐷</ci><apply id="A2.E19.m1.49.49.49.49.49.49.1.cmml" xref="A2.E19.m1.49.49.49.49.49.49.1"><minus id="A2.E19.m1.49.49.49.49.49.49.1.1.cmml" xref="A2.E19.m1.49.49.49.49.49.49.1.1"></minus><ci id="A2.E19.m1.49.49.49.49.49.49.1.2.cmml" xref="A2.E19.m1.49.49.49.49.49.49.1.2">𝑡</ci><cn id="A2.E19.m1.49.49.49.49.49.49.1.3.cmml" type="integer" xref="A2.E19.m1.49.49.49.49.49.49.1.3">1</cn></apply></apply></list></apply></apply><ci id="A2.E19.m1.52.52.52.1.1.1.cmml" xref="A2.E19.m1.52.52.52.1.1.1">ℙ</ci></apply><apply id="A2.E19.m1.76.76.3.3.2.2.1.1.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="latexml" id="A2.E19.m1.56.56.56.5.5.5.cmml" xref="A2.E19.m1.56.56.56.5.5.5">conditional</csymbol><apply id="A2.E19.m1.76.76.3.3.2.2.1.1.4.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.76.76.3.3.2.2.1.1.4.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.54.54.54.3.3.3.cmml" xref="A2.E19.m1.54.54.54.3.3.3">𝐷</ci><apply id="A2.E19.m1.55.55.55.4.4.4.1.cmml" xref="A2.E19.m1.55.55.55.4.4.4.1"><minus id="A2.E19.m1.55.55.55.4.4.4.1.1.cmml" xref="A2.E19.m1.55.55.55.4.4.4.1.1"></minus><ci id="A2.E19.m1.55.55.55.4.4.4.1.2.cmml" xref="A2.E19.m1.55.55.55.4.4.4.1.2">𝑡</ci><cn id="A2.E19.m1.55.55.55.4.4.4.1.3.cmml" type="integer" xref="A2.E19.m1.55.55.55.4.4.4.1.3">1</cn></apply></apply><list id="A2.E19.m1.76.76.3.3.2.2.1.1.2.3.cmml" xref="A2.E19.m1.77.77.4"><apply id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><times id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.4.cmml" xref="A2.E19.m1.77.77.4"></times><ci id="A2.E19.m1.57.57.57.6.6.6a.cmml" xref="A2.E19.m1.57.57.57.6.6.6"><mtext id="A2.E19.m1.57.57.57.6.6.6.cmml" xref="A2.E19.m1.57.57.57.6.6.6">do</mtext></ci><vector id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.3.4.cmml" xref="A2.E19.m1.77.77.4"><apply id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.59.59.59.8.8.8.cmml" xref="A2.E19.m1.59.59.59.8.8.8">𝑆</ci><ci id="A2.E19.m1.60.60.60.9.9.9.1.cmml" xref="A2.E19.m1.60.60.60.9.9.9.1">𝑡</ci></apply><apply id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.2.2.2.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.2.2.2.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.62.62.62.11.11.11.cmml" xref="A2.E19.m1.62.62.62.11.11.11">𝑆</ci><apply id="A2.E19.m1.63.63.63.12.12.12.1.cmml" xref="A2.E19.m1.63.63.63.12.12.12.1"><minus id="A2.E19.m1.63.63.63.12.12.12.1.1.cmml" xref="A2.E19.m1.63.63.63.12.12.12.1.1"></minus><ci id="A2.E19.m1.63.63.63.12.12.12.1.2.cmml" xref="A2.E19.m1.63.63.63.12.12.12.1.2">𝑡</ci><cn id="A2.E19.m1.63.63.63.12.12.12.1.3.cmml" type="integer" xref="A2.E19.m1.63.63.63.12.12.12.1.3">1</cn></apply></apply><ci id="A2.E19.m1.65.65.65.14.14.14.cmml" xref="A2.E19.m1.65.65.65.14.14.14">…</ci><apply id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.3.3.3.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.76.76.3.3.2.2.1.1.1.1.1.3.3.3.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.67.67.67.16.16.16.cmml" xref="A2.E19.m1.67.67.67.16.16.16">𝑆</ci><cn id="A2.E19.m1.68.68.68.17.17.17.1.cmml" type="integer" xref="A2.E19.m1.68.68.68.17.17.17.1">1</cn></apply></vector></apply><apply id="A2.E19.m1.76.76.3.3.2.2.1.1.2.2.2.cmml" xref="A2.E19.m1.77.77.4"><csymbol cd="ambiguous" id="A2.E19.m1.76.76.3.3.2.2.1.1.2.2.2.1.cmml" xref="A2.E19.m1.77.77.4">subscript</csymbol><ci id="A2.E19.m1.71.71.71.20.20.20.cmml" xref="A2.E19.m1.71.71.71.20.20.20">𝑃</ci><ci id="A2.E19.m1.72.72.72.21.21.21.1.cmml" xref="A2.E19.m1.72.72.72.21.21.21.1">𝑡</ci></apply></list></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.E19.m1.77c">\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})=\sum_{D_{t-1}}%
\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t},D_{t-1})\cdot\\
\mathbb{P}(D_{t-1}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="A2.E19.m1.77d">start_ROW start_CELL blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) = ∑ start_POSTSUBSCRIPT italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ) ⋅ end_CELL end_ROW start_ROW start_CELL blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ) end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.1.p1.3">From the figure we see that there’s no causal influence of <math alttext="S_{t}" class="ltx_Math" display="inline" id="A2.1.p1.2.m1.1"><semantics id="A2.1.p1.2.m1.1a"><msub id="A2.1.p1.2.m1.1.1" xref="A2.1.p1.2.m1.1.1.cmml"><mi id="A2.1.p1.2.m1.1.1.2" xref="A2.1.p1.2.m1.1.1.2.cmml">S</mi><mi id="A2.1.p1.2.m1.1.1.3" xref="A2.1.p1.2.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A2.1.p1.2.m1.1b"><apply id="A2.1.p1.2.m1.1.1.cmml" xref="A2.1.p1.2.m1.1.1"><csymbol cd="ambiguous" id="A2.1.p1.2.m1.1.1.1.cmml" xref="A2.1.p1.2.m1.1.1">subscript</csymbol><ci id="A2.1.p1.2.m1.1.1.2.cmml" xref="A2.1.p1.2.m1.1.1.2">𝑆</ci><ci id="A2.1.p1.2.m1.1.1.3.cmml" xref="A2.1.p1.2.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.1.p1.2.m1.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.1.p1.2.m1.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> on the decision <math alttext="D_{t-1}" class="ltx_Math" display="inline" id="A2.1.p1.3.m2.1"><semantics id="A2.1.p1.3.m2.1a"><msub id="A2.1.p1.3.m2.1.1" xref="A2.1.p1.3.m2.1.1.cmml"><mi id="A2.1.p1.3.m2.1.1.2" xref="A2.1.p1.3.m2.1.1.2.cmml">D</mi><mrow id="A2.1.p1.3.m2.1.1.3" xref="A2.1.p1.3.m2.1.1.3.cmml"><mi id="A2.1.p1.3.m2.1.1.3.2" xref="A2.1.p1.3.m2.1.1.3.2.cmml">t</mi><mo id="A2.1.p1.3.m2.1.1.3.1" xref="A2.1.p1.3.m2.1.1.3.1.cmml">−</mo><mn id="A2.1.p1.3.m2.1.1.3.3" xref="A2.1.p1.3.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="A2.1.p1.3.m2.1b"><apply id="A2.1.p1.3.m2.1.1.cmml" xref="A2.1.p1.3.m2.1.1"><csymbol cd="ambiguous" id="A2.1.p1.3.m2.1.1.1.cmml" xref="A2.1.p1.3.m2.1.1">subscript</csymbol><ci id="A2.1.p1.3.m2.1.1.2.cmml" xref="A2.1.p1.3.m2.1.1.2">𝐷</ci><apply id="A2.1.p1.3.m2.1.1.3.cmml" xref="A2.1.p1.3.m2.1.1.3"><minus id="A2.1.p1.3.m2.1.1.3.1.cmml" xref="A2.1.p1.3.m2.1.1.3.1"></minus><ci id="A2.1.p1.3.m2.1.1.3.2.cmml" xref="A2.1.p1.3.m2.1.1.3.2">𝑡</ci><cn id="A2.1.p1.3.m2.1.1.3.3.cmml" type="integer" xref="A2.1.p1.3.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.1.p1.3.m2.1c">D_{t-1}</annotation><annotation encoding="application/x-llamapun" id="A2.1.p1.3.m2.1d">italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT</annotation></semantics></math>, hence we can write</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})" class="ltx_Math" display="block" id="A2.Ex5.m1.2"><semantics id="A2.Ex5.m1.2a"><mrow id="A2.Ex5.m1.2.2" xref="A2.Ex5.m1.2.2.cmml"><mi id="A2.Ex5.m1.2.2.3" xref="A2.Ex5.m1.2.2.3.cmml">ℙ</mi><mo id="A2.Ex5.m1.2.2.2" xref="A2.Ex5.m1.2.2.2.cmml">⁢</mo><mrow id="A2.Ex5.m1.2.2.1.1" xref="A2.Ex5.m1.2.2.1.1.1.cmml"><mo id="A2.Ex5.m1.2.2.1.1.2" stretchy="false" xref="A2.Ex5.m1.2.2.1.1.1.cmml">(</mo><mrow id="A2.Ex5.m1.2.2.1.1.1" xref="A2.Ex5.m1.2.2.1.1.1.cmml"><msub id="A2.Ex5.m1.2.2.1.1.1.4" xref="A2.Ex5.m1.2.2.1.1.1.4.cmml"><mi id="A2.Ex5.m1.2.2.1.1.1.4.2" xref="A2.Ex5.m1.2.2.1.1.1.4.2.cmml">D</mi><mrow id="A2.Ex5.m1.2.2.1.1.1.4.3" xref="A2.Ex5.m1.2.2.1.1.1.4.3.cmml"><mi id="A2.Ex5.m1.2.2.1.1.1.4.3.2" xref="A2.Ex5.m1.2.2.1.1.1.4.3.2.cmml">t</mi><mo id="A2.Ex5.m1.2.2.1.1.1.4.3.1" xref="A2.Ex5.m1.2.2.1.1.1.4.3.1.cmml">−</mo><mn id="A2.Ex5.m1.2.2.1.1.1.4.3.3" xref="A2.Ex5.m1.2.2.1.1.1.4.3.3.cmml">1</mn></mrow></msub><mo fence="false" id="A2.Ex5.m1.2.2.1.1.1.3" xref="A2.Ex5.m1.2.2.1.1.1.3.cmml">|</mo><mrow id="A2.Ex5.m1.2.2.1.1.1.2.2" xref="A2.Ex5.m1.2.2.1.1.1.2.3.cmml"><mrow id="A2.Ex5.m1.2.2.1.1.1.1.1.1" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.cmml"><mtext id="A2.Ex5.m1.2.2.1.1.1.1.1.1.4" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.4a.cmml">do</mtext><mo id="A2.Ex5.m1.2.2.1.1.1.1.1.1.3" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.3.cmml">⁢</mo><mrow id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.3.cmml"><mo id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.3" stretchy="false" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.3.cmml">(</mo><msub id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.cmml"><mi id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mrow id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml"><mi id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.2" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml">t</mi><mo id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.1" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml">−</mo><mn id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.3" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.4" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><mi id="A2.Ex5.m1.1.1" mathvariant="normal" xref="A2.Ex5.m1.1.1.cmml">…</mi><mo id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.5" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.3.cmml">,</mo><msub id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.cmml"><mi id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.2" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mn id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.3" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.3.cmml">1</mn></msub><mo id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.6" stretchy="false" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.3.cmml">)</mo></mrow></mrow><mo id="A2.Ex5.m1.2.2.1.1.1.2.2.3" xref="A2.Ex5.m1.2.2.1.1.1.2.3.cmml">,</mo><msub id="A2.Ex5.m1.2.2.1.1.1.2.2.2" xref="A2.Ex5.m1.2.2.1.1.1.2.2.2.cmml"><mi id="A2.Ex5.m1.2.2.1.1.1.2.2.2.2" xref="A2.Ex5.m1.2.2.1.1.1.2.2.2.2.cmml">P</mi><mi id="A2.Ex5.m1.2.2.1.1.1.2.2.2.3" xref="A2.Ex5.m1.2.2.1.1.1.2.2.2.3.cmml">t</mi></msub></mrow></mrow><mo id="A2.Ex5.m1.2.2.1.1.3" stretchy="false" xref="A2.Ex5.m1.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex5.m1.2b"><apply id="A2.Ex5.m1.2.2.cmml" xref="A2.Ex5.m1.2.2"><times id="A2.Ex5.m1.2.2.2.cmml" xref="A2.Ex5.m1.2.2.2"></times><ci id="A2.Ex5.m1.2.2.3.cmml" xref="A2.Ex5.m1.2.2.3">ℙ</ci><apply id="A2.Ex5.m1.2.2.1.1.1.cmml" xref="A2.Ex5.m1.2.2.1.1"><csymbol cd="latexml" id="A2.Ex5.m1.2.2.1.1.1.3.cmml" xref="A2.Ex5.m1.2.2.1.1.1.3">conditional</csymbol><apply id="A2.Ex5.m1.2.2.1.1.1.4.cmml" xref="A2.Ex5.m1.2.2.1.1.1.4"><csymbol cd="ambiguous" id="A2.Ex5.m1.2.2.1.1.1.4.1.cmml" xref="A2.Ex5.m1.2.2.1.1.1.4">subscript</csymbol><ci id="A2.Ex5.m1.2.2.1.1.1.4.2.cmml" xref="A2.Ex5.m1.2.2.1.1.1.4.2">𝐷</ci><apply id="A2.Ex5.m1.2.2.1.1.1.4.3.cmml" xref="A2.Ex5.m1.2.2.1.1.1.4.3"><minus id="A2.Ex5.m1.2.2.1.1.1.4.3.1.cmml" xref="A2.Ex5.m1.2.2.1.1.1.4.3.1"></minus><ci id="A2.Ex5.m1.2.2.1.1.1.4.3.2.cmml" xref="A2.Ex5.m1.2.2.1.1.1.4.3.2">𝑡</ci><cn id="A2.Ex5.m1.2.2.1.1.1.4.3.3.cmml" type="integer" xref="A2.Ex5.m1.2.2.1.1.1.4.3.3">1</cn></apply></apply><list id="A2.Ex5.m1.2.2.1.1.1.2.3.cmml" xref="A2.Ex5.m1.2.2.1.1.1.2.2"><apply id="A2.Ex5.m1.2.2.1.1.1.1.1.1.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1"><times id="A2.Ex5.m1.2.2.1.1.1.1.1.1.3.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.3"></times><ci id="A2.Ex5.m1.2.2.1.1.1.1.1.1.4a.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.4"><mtext id="A2.Ex5.m1.2.2.1.1.1.1.1.1.4.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.4">do</mtext></ci><vector id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.3.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2"><apply id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.2.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.2">𝑆</ci><apply id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3"><minus id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.1.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.1"></minus><ci id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.2.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.2">𝑡</ci><cn id="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.3.cmml" type="integer" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.1.1.1.3.3">1</cn></apply></apply><ci id="A2.Ex5.m1.1.1.cmml" xref="A2.Ex5.m1.1.1">…</ci><apply id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.1.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.2.cmml" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.2">𝑆</ci><cn id="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.3.cmml" type="integer" xref="A2.Ex5.m1.2.2.1.1.1.1.1.1.2.2.2.3">1</cn></apply></vector></apply><apply id="A2.Ex5.m1.2.2.1.1.1.2.2.2.cmml" xref="A2.Ex5.m1.2.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A2.Ex5.m1.2.2.1.1.1.2.2.2.1.cmml" xref="A2.Ex5.m1.2.2.1.1.1.2.2.2">subscript</csymbol><ci id="A2.Ex5.m1.2.2.1.1.1.2.2.2.2.cmml" xref="A2.Ex5.m1.2.2.1.1.1.2.2.2.2">𝑃</ci><ci id="A2.Ex5.m1.2.2.1.1.1.2.2.2.3.cmml" xref="A2.Ex5.m1.2.2.1.1.1.2.2.2.3">𝑡</ci></apply></list></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex5.m1.2c">\mathbb{P}(D_{t-1}|\text{do}(S_{t-1},...,S_{1}),P_{t})</annotation><annotation encoding="application/x-llamapun" id="A2.Ex5.m1.2d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.1.p1.5">We know that <math alttext="D_{t}" class="ltx_Math" display="inline" id="A2.1.p1.4.m1.1"><semantics id="A2.1.p1.4.m1.1a"><msub id="A2.1.p1.4.m1.1.1" xref="A2.1.p1.4.m1.1.1.cmml"><mi id="A2.1.p1.4.m1.1.1.2" xref="A2.1.p1.4.m1.1.1.2.cmml">D</mi><mi id="A2.1.p1.4.m1.1.1.3" xref="A2.1.p1.4.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A2.1.p1.4.m1.1b"><apply id="A2.1.p1.4.m1.1.1.cmml" xref="A2.1.p1.4.m1.1.1"><csymbol cd="ambiguous" id="A2.1.p1.4.m1.1.1.1.cmml" xref="A2.1.p1.4.m1.1.1">subscript</csymbol><ci id="A2.1.p1.4.m1.1.1.2.cmml" xref="A2.1.p1.4.m1.1.1.2">𝐷</ci><ci id="A2.1.p1.4.m1.1.1.3.cmml" xref="A2.1.p1.4.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.1.p1.4.m1.1c">D_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.1.p1.4.m1.1d">italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> and <math alttext="S_{t}" class="ltx_Math" display="inline" id="A2.1.p1.5.m2.1"><semantics id="A2.1.p1.5.m2.1a"><msub id="A2.1.p1.5.m2.1.1" xref="A2.1.p1.5.m2.1.1.cmml"><mi id="A2.1.p1.5.m2.1.1.2" xref="A2.1.p1.5.m2.1.1.2.cmml">S</mi><mi id="A2.1.p1.5.m2.1.1.3" xref="A2.1.p1.5.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="A2.1.p1.5.m2.1b"><apply id="A2.1.p1.5.m2.1.1.cmml" xref="A2.1.p1.5.m2.1.1"><csymbol cd="ambiguous" id="A2.1.p1.5.m2.1.1.1.cmml" xref="A2.1.p1.5.m2.1.1">subscript</csymbol><ci id="A2.1.p1.5.m2.1.1.2.cmml" xref="A2.1.p1.5.m2.1.1.2">𝑆</ci><ci id="A2.1.p1.5.m2.1.1.3.cmml" xref="A2.1.p1.5.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.1.p1.5.m2.1c">S_{t}</annotation><annotation encoding="application/x-llamapun" id="A2.1.p1.5.m2.1d">italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT</annotation></semantics></math> satisfies</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="(D_{t}\perp\!\!\!\perp S_{t}|S_{t-1},...,S_{1},P_{t},D_{t-1})_{G_{\overline{S_%
{t-1},...,S_{1}},\underline{P_{t},D_{t-1}}}}." class="ltx_math_unparsed" display="block" id="A2.Ex6.m1.5"><semantics id="A2.Ex6.m1.5a"><mrow id="A2.Ex6.m1.5b"><msub id="A2.Ex6.m1.5.6"><mrow id="A2.Ex6.m1.5.6.2"><mo id="A2.Ex6.m1.5.6.2.1" stretchy="false">(</mo><msub id="A2.Ex6.m1.5.6.2.2"><mi id="A2.Ex6.m1.5.6.2.2.2">D</mi><mi id="A2.Ex6.m1.5.6.2.2.3">t</mi></msub><mpadded width="0.250em"><mo id="A2.Ex6.m1.5.6.2.3">⟂</mo></mpadded><mo id="A2.Ex6.m1.5.6.2.4">⟂</mo><msub id="A2.Ex6.m1.5.6.2.5"><mi id="A2.Ex6.m1.5.6.2.5.2">S</mi><mi id="A2.Ex6.m1.5.6.2.5.3">t</mi></msub><mo fence="false" id="A2.Ex6.m1.5.6.2.6" rspace="0.167em" stretchy="false">|</mo><msub id="A2.Ex6.m1.5.6.2.7"><mi id="A2.Ex6.m1.5.6.2.7.2">S</mi><mrow id="A2.Ex6.m1.5.6.2.7.3"><mi id="A2.Ex6.m1.5.6.2.7.3.2">t</mi><mo id="A2.Ex6.m1.5.6.2.7.3.1">−</mo><mn id="A2.Ex6.m1.5.6.2.7.3.3">1</mn></mrow></msub><mo id="A2.Ex6.m1.5.6.2.8">,</mo><mi id="A2.Ex6.m1.5.6.2.9" mathvariant="normal">…</mi><mo id="A2.Ex6.m1.5.6.2.10">,</mo><msub id="A2.Ex6.m1.5.6.2.11"><mi id="A2.Ex6.m1.5.6.2.11.2">S</mi><mn id="A2.Ex6.m1.5.6.2.11.3">1</mn></msub><mo id="A2.Ex6.m1.5.6.2.12">,</mo><msub id="A2.Ex6.m1.5.6.2.13"><mi id="A2.Ex6.m1.5.6.2.13.2">P</mi><mi id="A2.Ex6.m1.5.6.2.13.3">t</mi></msub><mo id="A2.Ex6.m1.5.6.2.14">,</mo><msub id="A2.Ex6.m1.5.6.2.15"><mi id="A2.Ex6.m1.5.6.2.15.2">D</mi><mrow id="A2.Ex6.m1.5.6.2.15.3"><mi id="A2.Ex6.m1.5.6.2.15.3.2">t</mi><mo id="A2.Ex6.m1.5.6.2.15.3.1">−</mo><mn id="A2.Ex6.m1.5.6.2.15.3.3">1</mn></mrow></msub><mo id="A2.Ex6.m1.5.6.2.16" stretchy="false">)</mo></mrow><msub id="A2.Ex6.m1.5.5.5"><mi id="A2.Ex6.m1.5.5.5.7">G</mi><mrow id="A2.Ex6.m1.5.5.5.5.5.7"><mover accent="true" id="A2.Ex6.m1.3.3.3.3.3.3"><mrow id="A2.Ex6.m1.3.3.3.3.3.3.3.3"><msub id="A2.Ex6.m1.2.2.2.2.2.2.2.2.1"><mi id="A2.Ex6.m1.2.2.2.2.2.2.2.2.1.2">S</mi><mrow id="A2.Ex6.m1.2.2.2.2.2.2.2.2.1.3"><mi id="A2.Ex6.m1.2.2.2.2.2.2.2.2.1.3.2">t</mi><mo id="A2.Ex6.m1.2.2.2.2.2.2.2.2.1.3.1">−</mo><mn id="A2.Ex6.m1.2.2.2.2.2.2.2.2.1.3.3">1</mn></mrow></msub><mo id="A2.Ex6.m1.3.3.3.3.3.3.3.3.3">,</mo><mi id="A2.Ex6.m1.1.1.1.1.1.1.1.1" mathvariant="normal">…</mi><mo id="A2.Ex6.m1.3.3.3.3.3.3.3.3.4">,</mo><msub id="A2.Ex6.m1.3.3.3.3.3.3.3.3.2"><mi id="A2.Ex6.m1.3.3.3.3.3.3.3.3.2.2">S</mi><mn id="A2.Ex6.m1.3.3.3.3.3.3.3.3.2.3">1</mn></msub></mrow><mo id="A2.Ex6.m1.3.3.3.3.3.3.4">¯</mo></mover><mo id="A2.Ex6.m1.5.5.5.5.5.7.1">,</mo><munder accentunder="true" id="A2.Ex6.m1.5.5.5.5.5.5"><mrow id="A2.Ex6.m1.5.5.5.5.5.5.2.2"><msub id="A2.Ex6.m1.4.4.4.4.4.4.1.1.1"><mi id="A2.Ex6.m1.4.4.4.4.4.4.1.1.1.2">P</mi><mi id="A2.Ex6.m1.4.4.4.4.4.4.1.1.1.3">t</mi></msub><mo id="A2.Ex6.m1.5.5.5.5.5.5.2.2.3">,</mo><msub id="A2.Ex6.m1.5.5.5.5.5.5.2.2.2"><mi id="A2.Ex6.m1.5.5.5.5.5.5.2.2.2.2">D</mi><mrow id="A2.Ex6.m1.5.5.5.5.5.5.2.2.2.3"><mi id="A2.Ex6.m1.5.5.5.5.5.5.2.2.2.3.2">t</mi><mo id="A2.Ex6.m1.5.5.5.5.5.5.2.2.2.3.1">−</mo><mn id="A2.Ex6.m1.5.5.5.5.5.5.2.2.2.3.3">1</mn></mrow></msub></mrow><mo id="A2.Ex6.m1.5.5.5.5.5.5.3">¯</mo></munder></mrow></msub></msub><mo id="A2.Ex6.m1.5.7" lspace="0em">.</mo></mrow><annotation encoding="application/x-tex" id="A2.Ex6.m1.5c">(D_{t}\perp\!\!\!\perp S_{t}|S_{t-1},...,S_{1},P_{t},D_{t-1})_{G_{\overline{S_%
{t-1},...,S_{1}},\underline{P_{t},D_{t-1}}}}.</annotation><annotation encoding="application/x-llamapun" id="A2.Ex6.m1.5d">( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ⟂ ⟂ italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ) start_POSTSUBSCRIPT italic_G start_POSTSUBSCRIPT over¯ start_ARG italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT end_ARG , under¯ start_ARG italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT end_ARG end_POSTSUBSCRIPT end_POSTSUBSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.1.p1.6">Hence, using <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A1.Thmtheorem2" title="Rule A.2 (Action/observation exchange). ‣ Appendix A Do-Calculus ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">A.2</span></a>, we can obtain</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex7">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t},D_{t-1})=\mathbb{P}(%
D_{t}|S_{t},\text{do}(S_{t-1},...,S_{1}),P_{t},D_{t-1})." class="ltx_Math" display="block" id="A2.Ex7.m1.3"><semantics id="A2.Ex7.m1.3a"><mrow id="A2.Ex7.m1.3.3.1" xref="A2.Ex7.m1.3.3.1.1.cmml"><mrow id="A2.Ex7.m1.3.3.1.1" xref="A2.Ex7.m1.3.3.1.1.cmml"><mrow id="A2.Ex7.m1.3.3.1.1.1" xref="A2.Ex7.m1.3.3.1.1.1.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.3" xref="A2.Ex7.m1.3.3.1.1.1.3.cmml">ℙ</mi><mo id="A2.Ex7.m1.3.3.1.1.1.2" xref="A2.Ex7.m1.3.3.1.1.1.2.cmml">⁢</mo><mrow id="A2.Ex7.m1.3.3.1.1.1.1.1" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.cmml"><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.2" stretchy="false" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.cmml">(</mo><mrow id="A2.Ex7.m1.3.3.1.1.1.1.1.1" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.cmml"><msub id="A2.Ex7.m1.3.3.1.1.1.1.1.1.5" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.2.cmml">D</mi><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.3.cmml">t</mi></msub><mo fence="false" id="A2.Ex7.m1.3.3.1.1.1.1.1.1.4" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.4.cmml">|</mo><mrow id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.4.cmml"><mrow id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.cmml"><mtext id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.5" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.5a.cmml">do</mtext><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.4" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.4.cmml">⁢</mo><mrow id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml"><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.4" stretchy="false" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">(</mo><msub id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.5" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml">S</mi><mrow id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml">t</mi><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.1" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml">−</mo><mn id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml">1</mn></mrow></msub><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.6" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><mi id="A2.Ex7.m1.1.1" mathvariant="normal" xref="A2.Ex7.m1.1.1.cmml">…</mi><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.7" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml">S</mi><mn id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml">1</mn></msub><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.8" stretchy="false" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml">)</mo></mrow></mrow><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.4" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml">P</mi><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml">t</mi></msub><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.5" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.4.cmml">,</mo><msub id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.2.cmml">D</mi><mrow id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.cmml"><mi id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.2" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.2.cmml">t</mi><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.1" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.1.cmml">−</mo><mn id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.3" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo id="A2.Ex7.m1.3.3.1.1.1.1.1.3" stretchy="false" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A2.Ex7.m1.3.3.1.1.3" xref="A2.Ex7.m1.3.3.1.1.3.cmml">=</mo><mrow id="A2.Ex7.m1.3.3.1.1.2" xref="A2.Ex7.m1.3.3.1.1.2.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.3" xref="A2.Ex7.m1.3.3.1.1.2.3.cmml">ℙ</mi><mo id="A2.Ex7.m1.3.3.1.1.2.2" xref="A2.Ex7.m1.3.3.1.1.2.2.cmml">⁢</mo><mrow id="A2.Ex7.m1.3.3.1.1.2.1.1" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.cmml"><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.2" stretchy="false" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.cmml">(</mo><mrow id="A2.Ex7.m1.3.3.1.1.2.1.1.1" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.cmml"><msub id="A2.Ex7.m1.3.3.1.1.2.1.1.1.6" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.2.cmml">D</mi><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.3.cmml">t</mi></msub><mo fence="false" id="A2.Ex7.m1.3.3.1.1.2.1.1.1.5" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.5.cmml">|</mo><mrow id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.5.cmml"><msub id="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.5" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.5.cmml">,</mo><mrow id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.cmml"><mtext id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.4" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.4a.cmml">do</mtext><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.3.cmml">⁢</mo><mrow id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.3.cmml"><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.3" stretchy="false" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.3.cmml">(</mo><msub id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.2.cmml">S</mi><mrow id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.2.cmml">t</mi><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.1" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.1.cmml">−</mo><mn id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.4" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.3.cmml">,</mo><mi id="A2.Ex7.m1.2.2" mathvariant="normal" xref="A2.Ex7.m1.2.2.cmml">…</mi><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.5" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.3.cmml">,</mo><msub id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.2.cmml">S</mi><mn id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.3.cmml">1</mn></msub><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.6" stretchy="false" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.6" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.5.cmml">,</mo><msub id="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.2.cmml">P</mi><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.3.cmml">t</mi></msub><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.7" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.5.cmml">,</mo><msub id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.2.cmml">D</mi><mrow id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.cmml"><mi id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.2" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.2.cmml">t</mi><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.1" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.1.cmml">−</mo><mn id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.3" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo id="A2.Ex7.m1.3.3.1.1.2.1.1.3" stretchy="false" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="A2.Ex7.m1.3.3.1.2" lspace="0em" xref="A2.Ex7.m1.3.3.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex7.m1.3b"><apply id="A2.Ex7.m1.3.3.1.1.cmml" xref="A2.Ex7.m1.3.3.1"><eq id="A2.Ex7.m1.3.3.1.1.3.cmml" xref="A2.Ex7.m1.3.3.1.1.3"></eq><apply id="A2.Ex7.m1.3.3.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1"><times id="A2.Ex7.m1.3.3.1.1.1.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.2"></times><ci id="A2.Ex7.m1.3.3.1.1.1.3.cmml" xref="A2.Ex7.m1.3.3.1.1.1.3">ℙ</ci><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1"><csymbol cd="latexml" id="A2.Ex7.m1.3.3.1.1.1.1.1.1.4.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.4">conditional</csymbol><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.5"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.5">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.2">𝐷</ci><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.3.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.5.3">𝑡</ci></apply><list id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.4.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3"><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1"><times id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.4.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.4"></times><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.5a.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.5"><mtext id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.5.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.5">do</mtext></ci><vector id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.4.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3"><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.2">𝑆</ci><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3"><minus id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.1"></minus><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.2">𝑡</ci><cn id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.3.cmml" type="integer" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.2.2.2.3.3">1</cn></apply></apply><ci id="A2.Ex7.m1.1.1.cmml" xref="A2.Ex7.m1.1.1">…</ci><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.2">𝑆</ci><cn id="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.3.cmml" type="integer" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.1.1.1.3.3.3.3">1</cn></apply></vector></apply><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.2">𝑃</ci><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.3.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.2.2.2.3">𝑡</ci></apply><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.2">𝐷</ci><apply id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3"><minus id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.1.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.1"></minus><ci id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.2.cmml" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.2">𝑡</ci><cn id="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.3.cmml" type="integer" xref="A2.Ex7.m1.3.3.1.1.1.1.1.1.3.3.3.3.3">1</cn></apply></apply></list></apply></apply><apply id="A2.Ex7.m1.3.3.1.1.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2"><times id="A2.Ex7.m1.3.3.1.1.2.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.2"></times><ci id="A2.Ex7.m1.3.3.1.1.2.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.3">ℙ</ci><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1"><csymbol cd="latexml" id="A2.Ex7.m1.3.3.1.1.2.1.1.1.5.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.5">conditional</csymbol><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.6"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.6">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.2">𝐷</ci><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.6.3">𝑡</ci></apply><list id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.5.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4"><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2"><times id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.3"></times><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.4a.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.4"><mtext id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.4.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.4">do</mtext></ci><vector id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2"><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.2">𝑆</ci><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3"><minus id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.1"></minus><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.2">𝑡</ci><cn id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.3.cmml" type="integer" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.1.1.1.3.3">1</cn></apply></apply><ci id="A2.Ex7.m1.2.2.cmml" xref="A2.Ex7.m1.2.2">…</ci><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.2">𝑆</ci><cn id="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.3.cmml" type="integer" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.2.2.2.2.2.2.3">1</cn></apply></vector></apply><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.2">𝑃</ci><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.3.3.3.3">𝑡</ci></apply><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4"><csymbol cd="ambiguous" id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4">subscript</csymbol><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.2">𝐷</ci><apply id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3"><minus id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.1.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.1"></minus><ci id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.2.cmml" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.2">𝑡</ci><cn id="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.3.cmml" type="integer" xref="A2.Ex7.m1.3.3.1.1.2.1.1.1.4.4.4.3.3">1</cn></apply></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex7.m1.3c">\mathbb{P}(D_{t}|\text{do}(S_{t},S_{t-1},...,S_{1}),P_{t},D_{t-1})=\mathbb{P}(%
D_{t}|S_{t},\text{do}(S_{t-1},...,S_{1}),P_{t},D_{t-1}).</annotation><annotation encoding="application/x-llamapun" id="A2.Ex7.m1.3d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | do ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ) = blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ) .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.1.p1.7">From the causal graph, we can also see that</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex8">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="(D_{t}\perp\!\!\!\perp\{S_{t-1},...,S_{1}\}|S_{2},D_{t-1})G_{\overline{\{S_{t-%
1},...,S_{1}\}}(S_{t},D_{t-1})}." class="ltx_math_unparsed" display="block" id="A2.Ex8.m1.5"><semantics id="A2.Ex8.m1.5a"><mrow id="A2.Ex8.m1.5b"><mrow id="A2.Ex8.m1.5.6"><mo id="A2.Ex8.m1.5.6.1" stretchy="false">(</mo><msub id="A2.Ex8.m1.5.6.2"><mi id="A2.Ex8.m1.5.6.2.2">D</mi><mi id="A2.Ex8.m1.5.6.2.3">t</mi></msub><mpadded width="0.250em"><mo id="A2.Ex8.m1.5.6.3">⟂</mo></mpadded><mo id="A2.Ex8.m1.5.6.4">⟂</mo><mrow id="A2.Ex8.m1.5.6.5"><mo id="A2.Ex8.m1.5.6.5.1" stretchy="false">{</mo><msub id="A2.Ex8.m1.5.6.5.2"><mi id="A2.Ex8.m1.5.6.5.2.2">S</mi><mrow id="A2.Ex8.m1.5.6.5.2.3"><mi id="A2.Ex8.m1.5.6.5.2.3.2">t</mi><mo id="A2.Ex8.m1.5.6.5.2.3.1">−</mo><mn id="A2.Ex8.m1.5.6.5.2.3.3">1</mn></mrow></msub><mo id="A2.Ex8.m1.5.6.5.3">,</mo><mi id="A2.Ex8.m1.5.6.5.4" mathvariant="normal">…</mi><mo id="A2.Ex8.m1.5.6.5.5">,</mo><msub id="A2.Ex8.m1.5.6.5.6"><mi id="A2.Ex8.m1.5.6.5.6.2">S</mi><mn id="A2.Ex8.m1.5.6.5.6.3">1</mn></msub><mo id="A2.Ex8.m1.5.6.5.7" stretchy="false">}</mo></mrow><mo fence="false" id="A2.Ex8.m1.5.6.6" rspace="0.167em" stretchy="false">|</mo><msub id="A2.Ex8.m1.5.6.7"><mi id="A2.Ex8.m1.5.6.7.2">S</mi><mn id="A2.Ex8.m1.5.6.7.3">2</mn></msub><mo id="A2.Ex8.m1.5.6.8">,</mo><msub id="A2.Ex8.m1.5.6.9"><mi id="A2.Ex8.m1.5.6.9.2">D</mi><mrow id="A2.Ex8.m1.5.6.9.3"><mi id="A2.Ex8.m1.5.6.9.3.2">t</mi><mo id="A2.Ex8.m1.5.6.9.3.1">−</mo><mn id="A2.Ex8.m1.5.6.9.3.3">1</mn></mrow></msub><mo id="A2.Ex8.m1.5.6.10" stretchy="false">)</mo></mrow><msub id="A2.Ex8.m1.5.7"><mi id="A2.Ex8.m1.5.7.2">G</mi><mrow id="A2.Ex8.m1.5.5.5"><mover accent="true" id="A2.Ex8.m1.3.3.3.3"><mrow id="A2.Ex8.m1.3.3.3.3.3.3"><mo id="A2.Ex8.m1.3.3.3.3.3.3.3" stretchy="false">{</mo><msub id="A2.Ex8.m1.2.2.2.2.2.2.1"><mi id="A2.Ex8.m1.2.2.2.2.2.2.1.2">S</mi><mrow id="A2.Ex8.m1.2.2.2.2.2.2.1.3"><mi id="A2.Ex8.m1.2.2.2.2.2.2.1.3.2">t</mi><mo id="A2.Ex8.m1.2.2.2.2.2.2.1.3.1">−</mo><mn id="A2.Ex8.m1.2.2.2.2.2.2.1.3.3">1</mn></mrow></msub><mo id="A2.Ex8.m1.3.3.3.3.3.3.4">,</mo><mi id="A2.Ex8.m1.1.1.1.1.1.1" mathvariant="normal">…</mi><mo id="A2.Ex8.m1.3.3.3.3.3.3.5">,</mo><msub id="A2.Ex8.m1.3.3.3.3.3.3.2"><mi id="A2.Ex8.m1.3.3.3.3.3.3.2.2">S</mi><mn id="A2.Ex8.m1.3.3.3.3.3.3.2.3">1</mn></msub><mo id="A2.Ex8.m1.3.3.3.3.3.3.6" stretchy="false">}</mo></mrow><mo id="A2.Ex8.m1.3.3.3.3.4">¯</mo></mover><mo id="A2.Ex8.m1.5.5.5.6">⁢</mo><mrow id="A2.Ex8.m1.5.5.5.5.2"><mo id="A2.Ex8.m1.5.5.5.5.2.3" stretchy="false">(</mo><msub id="A2.Ex8.m1.4.4.4.4.1.1"><mi id="A2.Ex8.m1.4.4.4.4.1.1.2">S</mi><mi id="A2.Ex8.m1.4.4.4.4.1.1.3">t</mi></msub><mo id="A2.Ex8.m1.5.5.5.5.2.4">,</mo><msub id="A2.Ex8.m1.5.5.5.5.2.2"><mi id="A2.Ex8.m1.5.5.5.5.2.2.2">D</mi><mrow id="A2.Ex8.m1.5.5.5.5.2.2.3"><mi id="A2.Ex8.m1.5.5.5.5.2.2.3.2">t</mi><mo id="A2.Ex8.m1.5.5.5.5.2.2.3.1">−</mo><mn id="A2.Ex8.m1.5.5.5.5.2.2.3.3">1</mn></mrow></msub><mo id="A2.Ex8.m1.5.5.5.5.2.5" stretchy="false">)</mo></mrow></mrow></msub><mo id="A2.Ex8.m1.5.8" lspace="0em">.</mo></mrow><annotation encoding="application/x-tex" id="A2.Ex8.m1.5c">(D_{t}\perp\!\!\!\perp\{S_{t-1},...,S_{1}\}|S_{2},D_{t-1})G_{\overline{\{S_{t-%
1},...,S_{1}\}}(S_{t},D_{t-1})}.</annotation><annotation encoding="application/x-llamapun" id="A2.Ex8.m1.5d">( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT ⟂ ⟂ { italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT } | italic_S start_POSTSUBSCRIPT 2 end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ) italic_G start_POSTSUBSCRIPT over¯ start_ARG { italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT } end_ARG ( italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ) end_POSTSUBSCRIPT .</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.1.p1.8">Therefore, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A1.Thmtheorem3" title="Rule A.3 (Insertion/deletion of actions). ‣ Appendix A Do-Calculus ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">A.3</span></a> leads to</p>
<table class="ltx_equation ltx_eqn_table" id="A2.Ex9">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathbb{P}(D_{t}|S_{t},\text{do}(S_{t-1},...,S_{1}),P_{t},D_{t-1})=\mathbb{P}(%
D_{t}|S_{t},P_{t},D_{t-1})" class="ltx_Math" display="block" id="A2.Ex9.m1.3"><semantics id="A2.Ex9.m1.3a"><mrow id="A2.Ex9.m1.3.3" xref="A2.Ex9.m1.3.3.cmml"><mrow id="A2.Ex9.m1.2.2.1" xref="A2.Ex9.m1.2.2.1.cmml"><mi id="A2.Ex9.m1.2.2.1.3" xref="A2.Ex9.m1.2.2.1.3.cmml">ℙ</mi><mo id="A2.Ex9.m1.2.2.1.2" xref="A2.Ex9.m1.2.2.1.2.cmml">⁢</mo><mrow id="A2.Ex9.m1.2.2.1.1.1" xref="A2.Ex9.m1.2.2.1.1.1.1.cmml"><mo id="A2.Ex9.m1.2.2.1.1.1.2" stretchy="false" xref="A2.Ex9.m1.2.2.1.1.1.1.cmml">(</mo><mrow id="A2.Ex9.m1.2.2.1.1.1.1" xref="A2.Ex9.m1.2.2.1.1.1.1.cmml"><msub id="A2.Ex9.m1.2.2.1.1.1.1.6" xref="A2.Ex9.m1.2.2.1.1.1.1.6.cmml"><mi id="A2.Ex9.m1.2.2.1.1.1.1.6.2" xref="A2.Ex9.m1.2.2.1.1.1.1.6.2.cmml">D</mi><mi id="A2.Ex9.m1.2.2.1.1.1.1.6.3" xref="A2.Ex9.m1.2.2.1.1.1.1.6.3.cmml">t</mi></msub><mo fence="false" id="A2.Ex9.m1.2.2.1.1.1.1.5" xref="A2.Ex9.m1.2.2.1.1.1.1.5.cmml">|</mo><mrow id="A2.Ex9.m1.2.2.1.1.1.1.4.4" xref="A2.Ex9.m1.2.2.1.1.1.1.4.5.cmml"><msub id="A2.Ex9.m1.2.2.1.1.1.1.1.1.1" xref="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.2" xref="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.3" xref="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="A2.Ex9.m1.2.2.1.1.1.1.4.4.5" xref="A2.Ex9.m1.2.2.1.1.1.1.4.5.cmml">,</mo><mrow id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.cmml"><mtext id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.4" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.4a.cmml">do</mtext><mo id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.3" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.3.cmml">⁢</mo><mrow id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.3.cmml"><mo id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.3" stretchy="false" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.3.cmml">(</mo><msub id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.cmml"><mi id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.2" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.2.cmml">S</mi><mrow id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.cmml"><mi id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.2" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.2.cmml">t</mi><mo id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.1" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.1.cmml">−</mo><mn id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.3" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.3.cmml">1</mn></mrow></msub><mo id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.4" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.3.cmml">,</mo><mi id="A2.Ex9.m1.1.1" mathvariant="normal" xref="A2.Ex9.m1.1.1.cmml">…</mi><mo id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.5" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.3.cmml">,</mo><msub id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.cmml"><mi id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.2" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.2.cmml">S</mi><mn id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.3" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.3.cmml">1</mn></msub><mo id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.6" stretchy="false" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.3.cmml">)</mo></mrow></mrow><mo id="A2.Ex9.m1.2.2.1.1.1.1.4.4.6" xref="A2.Ex9.m1.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="A2.Ex9.m1.2.2.1.1.1.1.3.3.3" xref="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.cmml"><mi id="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.2" xref="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.2.cmml">P</mi><mi id="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.3" xref="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.3.cmml">t</mi></msub><mo id="A2.Ex9.m1.2.2.1.1.1.1.4.4.7" xref="A2.Ex9.m1.2.2.1.1.1.1.4.5.cmml">,</mo><msub id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.cmml"><mi id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.2" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.2.cmml">D</mi><mrow id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.cmml"><mi id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.2" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.2.cmml">t</mi><mo id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.1" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.1.cmml">−</mo><mn id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.3" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo id="A2.Ex9.m1.2.2.1.1.1.3" stretchy="false" xref="A2.Ex9.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A2.Ex9.m1.3.3.3" xref="A2.Ex9.m1.3.3.3.cmml">=</mo><mrow id="A2.Ex9.m1.3.3.2" xref="A2.Ex9.m1.3.3.2.cmml"><mi id="A2.Ex9.m1.3.3.2.3" xref="A2.Ex9.m1.3.3.2.3.cmml">ℙ</mi><mo id="A2.Ex9.m1.3.3.2.2" xref="A2.Ex9.m1.3.3.2.2.cmml">⁢</mo><mrow id="A2.Ex9.m1.3.3.2.1.1" xref="A2.Ex9.m1.3.3.2.1.1.1.cmml"><mo id="A2.Ex9.m1.3.3.2.1.1.2" stretchy="false" xref="A2.Ex9.m1.3.3.2.1.1.1.cmml">(</mo><mrow id="A2.Ex9.m1.3.3.2.1.1.1" xref="A2.Ex9.m1.3.3.2.1.1.1.cmml"><msub id="A2.Ex9.m1.3.3.2.1.1.1.5" xref="A2.Ex9.m1.3.3.2.1.1.1.5.cmml"><mi id="A2.Ex9.m1.3.3.2.1.1.1.5.2" xref="A2.Ex9.m1.3.3.2.1.1.1.5.2.cmml">D</mi><mi id="A2.Ex9.m1.3.3.2.1.1.1.5.3" xref="A2.Ex9.m1.3.3.2.1.1.1.5.3.cmml">t</mi></msub><mo fence="false" id="A2.Ex9.m1.3.3.2.1.1.1.4" xref="A2.Ex9.m1.3.3.2.1.1.1.4.cmml">|</mo><mrow id="A2.Ex9.m1.3.3.2.1.1.1.3.3" xref="A2.Ex9.m1.3.3.2.1.1.1.3.4.cmml"><msub id="A2.Ex9.m1.3.3.2.1.1.1.1.1.1" xref="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.cmml"><mi id="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.2" xref="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.2.cmml">S</mi><mi id="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.3" xref="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.3.cmml">t</mi></msub><mo id="A2.Ex9.m1.3.3.2.1.1.1.3.3.4" xref="A2.Ex9.m1.3.3.2.1.1.1.3.4.cmml">,</mo><msub id="A2.Ex9.m1.3.3.2.1.1.1.2.2.2" xref="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.cmml"><mi id="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.2" xref="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.2.cmml">P</mi><mi id="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.3" xref="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.3.cmml">t</mi></msub><mo id="A2.Ex9.m1.3.3.2.1.1.1.3.3.5" xref="A2.Ex9.m1.3.3.2.1.1.1.3.4.cmml">,</mo><msub id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.cmml"><mi id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.2" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.2.cmml">D</mi><mrow id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.cmml"><mi id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.2" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.2.cmml">t</mi><mo id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.1" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.1.cmml">−</mo><mn id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.3" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.3.cmml">1</mn></mrow></msub></mrow></mrow><mo id="A2.Ex9.m1.3.3.2.1.1.3" stretchy="false" xref="A2.Ex9.m1.3.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A2.Ex9.m1.3b"><apply id="A2.Ex9.m1.3.3.cmml" xref="A2.Ex9.m1.3.3"><eq id="A2.Ex9.m1.3.3.3.cmml" xref="A2.Ex9.m1.3.3.3"></eq><apply id="A2.Ex9.m1.2.2.1.cmml" xref="A2.Ex9.m1.2.2.1"><times id="A2.Ex9.m1.2.2.1.2.cmml" xref="A2.Ex9.m1.2.2.1.2"></times><ci id="A2.Ex9.m1.2.2.1.3.cmml" xref="A2.Ex9.m1.2.2.1.3">ℙ</ci><apply id="A2.Ex9.m1.2.2.1.1.1.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1"><csymbol cd="latexml" id="A2.Ex9.m1.2.2.1.1.1.1.5.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.5">conditional</csymbol><apply id="A2.Ex9.m1.2.2.1.1.1.1.6.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.6"><csymbol cd="ambiguous" id="A2.Ex9.m1.2.2.1.1.1.1.6.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.6">subscript</csymbol><ci id="A2.Ex9.m1.2.2.1.1.1.1.6.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.6.2">𝐷</ci><ci id="A2.Ex9.m1.2.2.1.1.1.1.6.3.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.6.3">𝑡</ci></apply><list id="A2.Ex9.m1.2.2.1.1.1.1.4.5.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4"><apply id="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2"><times id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.3.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.3"></times><ci id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.4a.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.4"><mtext id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.4.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.4">do</mtext></ci><vector id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.3.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2"><apply id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1"><csymbol cd="ambiguous" id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1">subscript</csymbol><ci id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.2">𝑆</ci><apply id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3"><minus id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.1"></minus><ci id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.2">𝑡</ci><cn id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.3.cmml" type="integer" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.1.1.1.3.3">1</cn></apply></apply><ci id="A2.Ex9.m1.1.1.cmml" xref="A2.Ex9.m1.1.1">…</ci><apply id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2">subscript</csymbol><ci id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.2">𝑆</ci><cn id="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.3.cmml" type="integer" xref="A2.Ex9.m1.2.2.1.1.1.1.2.2.2.2.2.2.3">1</cn></apply></vector></apply><apply id="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.3.3.3">subscript</csymbol><ci id="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.2">𝑃</ci><ci id="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.3.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.3.3.3.3">𝑡</ci></apply><apply id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4"><csymbol cd="ambiguous" id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4">subscript</csymbol><ci id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.2">𝐷</ci><apply id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3"><minus id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.1.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.1"></minus><ci id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.2.cmml" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.2">𝑡</ci><cn id="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.3.cmml" type="integer" xref="A2.Ex9.m1.2.2.1.1.1.1.4.4.4.3.3">1</cn></apply></apply></list></apply></apply><apply id="A2.Ex9.m1.3.3.2.cmml" xref="A2.Ex9.m1.3.3.2"><times id="A2.Ex9.m1.3.3.2.2.cmml" xref="A2.Ex9.m1.3.3.2.2"></times><ci id="A2.Ex9.m1.3.3.2.3.cmml" xref="A2.Ex9.m1.3.3.2.3">ℙ</ci><apply id="A2.Ex9.m1.3.3.2.1.1.1.cmml" xref="A2.Ex9.m1.3.3.2.1.1"><csymbol cd="latexml" id="A2.Ex9.m1.3.3.2.1.1.1.4.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.4">conditional</csymbol><apply id="A2.Ex9.m1.3.3.2.1.1.1.5.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.5"><csymbol cd="ambiguous" id="A2.Ex9.m1.3.3.2.1.1.1.5.1.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.5">subscript</csymbol><ci id="A2.Ex9.m1.3.3.2.1.1.1.5.2.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.5.2">𝐷</ci><ci id="A2.Ex9.m1.3.3.2.1.1.1.5.3.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.5.3">𝑡</ci></apply><list id="A2.Ex9.m1.3.3.2.1.1.1.3.4.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3"><apply id="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.1.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.1.1.1">subscript</csymbol><ci id="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.2.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.2">𝑆</ci><ci id="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.3.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.1.1.1.3">𝑡</ci></apply><apply id="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.2.2.2"><csymbol cd="ambiguous" id="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.1.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.2.2.2">subscript</csymbol><ci id="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.2.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.2">𝑃</ci><ci id="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.3.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.2.2.2.3">𝑡</ci></apply><apply id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3"><csymbol cd="ambiguous" id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.1.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3">subscript</csymbol><ci id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.2.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.2">𝐷</ci><apply id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3"><minus id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.1.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.1"></minus><ci id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.2.cmml" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.2">𝑡</ci><cn id="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.3.cmml" type="integer" xref="A2.Ex9.m1.3.3.2.1.1.1.3.3.3.3.3">1</cn></apply></apply></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.Ex9.m1.3c">\mathbb{P}(D_{t}|S_{t},\text{do}(S_{t-1},...,S_{1}),P_{t},D_{t-1})=\mathbb{P}(%
D_{t}|S_{t},P_{t},D_{t-1})</annotation><annotation encoding="application/x-llamapun" id="A2.Ex9.m1.3d">blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , do ( italic_S start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT , … , italic_S start_POSTSUBSCRIPT 1 end_POSTSUBSCRIPT ) , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT ) = blackboard_P ( italic_D start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT | italic_S start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_P start_POSTSUBSCRIPT italic_t end_POSTSUBSCRIPT , italic_D start_POSTSUBSCRIPT italic_t - 1 end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
</tr></tbody>
</table>
<p class="ltx_p" id="A2.1.p1.9">Combining the results for the two component we proved the result for <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S4.Thmtheorem1" title="Theorem 4.1. ‣ 4.2. Estimating the Interventional Distribution. ‣ 4. Demystifying User’s Decision-Making Through Causal Formulation ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Theorem</span> <span class="ltx_text ltx_ref_tag">4.1</span></a>.
∎</p>
</div>
</div>
</section>
<section class="ltx_appendix" id="A3">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Experimental Details</h2>
<section class="ltx_subsection" id="A3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.1. </span>Spotify: Sequential Music Streaming Challenge</h3>
<div class="ltx_para" id="A3.SS1.p1">
<p class="ltx_p" id="A3.SS1.p1.1">MSSD is first published at the WSDM Cup 2019 Spotify Sequential Skip Prediction Challenge <cite class="ltx_cite ltx_citemacro_citep">(Brost et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib2" title="">2019</a>)</cite>. It has approximately 160 million listening sessions, associated user actions, and 3.7 million tracks with acoustic features. The task is to predict whether a particular user will skip individual tracks encountered in a listening session. The sessions in this dataset are sampled from various sources such as radio, personalized recommendations, users’ own collections, expertly curated playlists, and contextual but non-personalized recommendations. Records of listening sessions from users’ own collection approximate the observational dataset while
the <em class="ltx_emph ltx_font_italic" id="A3.SS1.p1.1.1">personalized recommendation</em> source serves as an ideal interventional dataset for studying the user-system dynamics from a causal perspective: users who listen to personalized recommendations do not have direct control over what they will hear. In other words, the exposure is exogenously determined by the RecSys, which reflects Spotify’s belief in the users’ preferences. In the remainder of the paper, we focus on the listening sessions collected from such a personalized recommendation setting as the interventional data, and the user’s own collection as the observational data.</p>
</div>
<div class="ltx_para" id="A3.SS1.p2">
<p class="ltx_p" id="A3.SS1.p2.1">Following the causal perspective of recommendation, the treatment is considered effective if the user does not skip it and the treatment is presented as a ranked list of the songs selected for the users. Therefore, we define two tasks of interest on MSSD: skip prediction and track ranking. Skip prediction measures the individual treatment effect of each track for a certain user, while we measure the relative effectiveness among all treatments when ranking the tracks. Skip prediction is equivalent to estimating treatment effect, and the track ranking corresponds to selecting the most effective treatments. To preserve user privacy, Spotify randomly cut the listening sessions in MSSD from longer sessions so that a single session contains no more than 20 songs.</p>
</div>
<figure class="ltx_table" id="A3.T4">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="A3.T4.4.1.1" style="font-size:90%;">Table 4</span>. </span><span class="ltx_text" id="A3.T4.5.2" style="font-size:90%;">Results for CSRec integrated with baselines SASRec, BERT4Rec, FMLPRec and BSARec on GPT4-books using AHR@0.2 and AHR@0.5. CSRec + ¡model¿ represents the performance of CSRec integrated with baseline ¡model¿.</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_align_middle" id="A3.T4.2.2">
<tr class="ltx_tr" id="A3.T4.2.2.3">
<td class="ltx_td ltx_align_left ltx_border_tt" id="A3.T4.2.2.3.1">Metric</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.3.2">SASRec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.3.3">CSRec + SASRec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.3.4">BERT4Rec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.3.5">CSRec + BERT4Rec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.3.6">FMLPRec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.3.7">CSRec + FMLPRec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.3.8">BSARec</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="A3.T4.2.2.3.9">CSRec + BSARec</td>
</tr>
<tr class="ltx_tr" id="A3.T4.1.1.1">
<td class="ltx_td ltx_align_left ltx_border_t" id="A3.T4.1.1.1.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="A3.T4.1.1.1.1.m1.1"><semantics id="A3.T4.1.1.1.1.m1.1a"><mo id="A3.T4.1.1.1.1.m1.1.1" stretchy="false" xref="A3.T4.1.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T4.1.1.1.1.m1.1b"><ci id="A3.T4.1.1.1.1.m1.1.1.cmml" xref="A3.T4.1.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.1.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A3.T4.1.1.1.1.m1.1d">↑</annotation></semantics></math> AHR@20</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.1.1.1.2">0.2438</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.1.1.1.3">0.3914</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.1.1.1.4">0.2430</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.1.1.1.5">0.3046</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.1.1.1.6">0.2435</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.1.1.1.7">0.932</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.1.1.1.8">0.2405</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="A3.T4.1.1.1.9">0.925</td>
</tr>
<tr class="ltx_tr" id="A3.T4.2.2.2">
<td class="ltx_td ltx_align_left ltx_border_bb" id="A3.T4.2.2.2.1">
<math alttext="\uparrow" class="ltx_Math" display="inline" id="A3.T4.2.2.2.1.m1.1"><semantics id="A3.T4.2.2.2.1.m1.1a"><mo id="A3.T4.2.2.2.1.m1.1.1" stretchy="false" xref="A3.T4.2.2.2.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="A3.T4.2.2.2.1.m1.1b"><ci id="A3.T4.2.2.2.1.m1.1.1.cmml" xref="A3.T4.2.2.2.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.T4.2.2.2.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="A3.T4.2.2.2.1.m1.1d">↑</annotation></semantics></math> AHR@50</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.2.2.2.2">0.4981</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.2.2.2.3">0.9176</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.2.2.2.4">0.5068</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.2.2.2.5">0.9153</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.2.2.2.6">0.5006</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.2.2.2.7">0.932</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.2.2.2.8">0.5037</td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="A3.T4.2.2.2.9">0.932</td>
</tr>
</table>
</figure>
</section>
<section class="ltx_subsection" id="A3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.2. </span>GPT4-books</h3>
<div class="ltx_para" id="A3.SS2.p1">
<p class="ltx_p" id="A3.SS2.p1.1">Given the limited access to interventional data, where the recommender system fully controls the exposure.
Previous work has explored the potential of using a large language model agent to generate synthetic data for downstream tasks <cite class="ltx_cite ltx_citemacro_citep">(Liu et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib20" title="">2024a</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib41" title="">2024b</a>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib42" title="">c</a>; Chen et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib6" title="">2024</a>; Chen and Mueller, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib5" title="">2024</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib40" title="">2024a</a>)</cite>.
To resolve the data shortage, we also created a synthetic dataset using GPT-4 as agents to mimic users’ reactions to certain recommendations.
Specifically, we use GPT4-turbo as the agent that mimics users with various tastes of books.</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p2">
<p class="ltx_p" id="A3.SS2.p2.1"><span class="ltx_text ltx_font_bold" id="A3.SS2.p2.1.1">Preparing the item list.</span> We first sampled a list of book names from the Amazon Book dataset<cite class="ltx_cite ltx_citemacro_citep">(Ni et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib24" title="">2019</a>)</cite>. We use books as items to recommend because GPT4 has had prior information towards these items. We then asked the GPT4 about the basic information about the books. The reason is that we want to validate the GPT4 knows the books and is be able to serve as potential readers. Specifically we validate that by asking the GPT about basic information and keywords about the book names that we provided and comparing them with what we have in the Amazon Book dataset.</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p3">
<p class="ltx_p" id="A3.SS2.p3.1"><span class="ltx_text ltx_font_bold" id="A3.SS2.p3.1.1">Synthetic users.</span> The second step is to create synthetic users. We refer to the scale of similar datasets used by existing baselines<cite class="ltx_cite ltx_citemacro_citep">(Hidasi et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib12" title="">2016</a>; Tang and Wang, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib31" title="">2018</a>; Shin et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib28" title="">2024a</a>; Sun et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib30" title="">2019</a>; Zhou et al<span class="ltx_text">.</span>, <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#bib.bib38" title="">2022</a>)</cite> and define 10000 users. Each user is defined by a probability distribution of preference across different genres. For example, we describe a user as who’s preference towards history, fiction, novels, and romance is <math alttext="25\%,25\%,25\%,25\%" class="ltx_Math" display="inline" id="A3.SS2.p3.1.m1.4"><semantics id="A3.SS2.p3.1.m1.4a"><mrow id="A3.SS2.p3.1.m1.4.4.4" xref="A3.SS2.p3.1.m1.4.4.5.cmml"><mrow id="A3.SS2.p3.1.m1.1.1.1.1" xref="A3.SS2.p3.1.m1.1.1.1.1.cmml"><mn id="A3.SS2.p3.1.m1.1.1.1.1.2" xref="A3.SS2.p3.1.m1.1.1.1.1.2.cmml">25</mn><mo id="A3.SS2.p3.1.m1.1.1.1.1.1" xref="A3.SS2.p3.1.m1.1.1.1.1.1.cmml">%</mo></mrow><mo id="A3.SS2.p3.1.m1.4.4.4.5" xref="A3.SS2.p3.1.m1.4.4.5.cmml">,</mo><mrow id="A3.SS2.p3.1.m1.2.2.2.2" xref="A3.SS2.p3.1.m1.2.2.2.2.cmml"><mn id="A3.SS2.p3.1.m1.2.2.2.2.2" xref="A3.SS2.p3.1.m1.2.2.2.2.2.cmml">25</mn><mo id="A3.SS2.p3.1.m1.2.2.2.2.1" xref="A3.SS2.p3.1.m1.2.2.2.2.1.cmml">%</mo></mrow><mo id="A3.SS2.p3.1.m1.4.4.4.6" xref="A3.SS2.p3.1.m1.4.4.5.cmml">,</mo><mrow id="A3.SS2.p3.1.m1.3.3.3.3" xref="A3.SS2.p3.1.m1.3.3.3.3.cmml"><mn id="A3.SS2.p3.1.m1.3.3.3.3.2" xref="A3.SS2.p3.1.m1.3.3.3.3.2.cmml">25</mn><mo id="A3.SS2.p3.1.m1.3.3.3.3.1" xref="A3.SS2.p3.1.m1.3.3.3.3.1.cmml">%</mo></mrow><mo id="A3.SS2.p3.1.m1.4.4.4.7" xref="A3.SS2.p3.1.m1.4.4.5.cmml">,</mo><mrow id="A3.SS2.p3.1.m1.4.4.4.4" xref="A3.SS2.p3.1.m1.4.4.4.4.cmml"><mn id="A3.SS2.p3.1.m1.4.4.4.4.2" xref="A3.SS2.p3.1.m1.4.4.4.4.2.cmml">25</mn><mo id="A3.SS2.p3.1.m1.4.4.4.4.1" xref="A3.SS2.p3.1.m1.4.4.4.4.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.SS2.p3.1.m1.4b"><list id="A3.SS2.p3.1.m1.4.4.5.cmml" xref="A3.SS2.p3.1.m1.4.4.4"><apply id="A3.SS2.p3.1.m1.1.1.1.1.cmml" xref="A3.SS2.p3.1.m1.1.1.1.1"><csymbol cd="latexml" id="A3.SS2.p3.1.m1.1.1.1.1.1.cmml" xref="A3.SS2.p3.1.m1.1.1.1.1.1">percent</csymbol><cn id="A3.SS2.p3.1.m1.1.1.1.1.2.cmml" type="integer" xref="A3.SS2.p3.1.m1.1.1.1.1.2">25</cn></apply><apply id="A3.SS2.p3.1.m1.2.2.2.2.cmml" xref="A3.SS2.p3.1.m1.2.2.2.2"><csymbol cd="latexml" id="A3.SS2.p3.1.m1.2.2.2.2.1.cmml" xref="A3.SS2.p3.1.m1.2.2.2.2.1">percent</csymbol><cn id="A3.SS2.p3.1.m1.2.2.2.2.2.cmml" type="integer" xref="A3.SS2.p3.1.m1.2.2.2.2.2">25</cn></apply><apply id="A3.SS2.p3.1.m1.3.3.3.3.cmml" xref="A3.SS2.p3.1.m1.3.3.3.3"><csymbol cd="latexml" id="A3.SS2.p3.1.m1.3.3.3.3.1.cmml" xref="A3.SS2.p3.1.m1.3.3.3.3.1">percent</csymbol><cn id="A3.SS2.p3.1.m1.3.3.3.3.2.cmml" type="integer" xref="A3.SS2.p3.1.m1.3.3.3.3.2">25</cn></apply><apply id="A3.SS2.p3.1.m1.4.4.4.4.cmml" xref="A3.SS2.p3.1.m1.4.4.4.4"><csymbol cd="latexml" id="A3.SS2.p3.1.m1.4.4.4.4.1.cmml" xref="A3.SS2.p3.1.m1.4.4.4.4.1">percent</csymbol><cn id="A3.SS2.p3.1.m1.4.4.4.4.2.cmml" type="integer" xref="A3.SS2.p3.1.m1.4.4.4.4.2">25</cn></apply></list></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p3.1.m1.4c">25\%,25\%,25\%,25\%</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p3.1.m1.4d">25 % , 25 % , 25 % , 25 %</annotation></semantics></math> where the probabilities are randomly generated.</p>
</div>
<div class="ltx_para ltx_noindent" id="A3.SS2.p4">
<p class="ltx_p" id="A3.SS2.p4.2"><span class="ltx_text ltx_font_bold" id="A3.SS2.p4.2.1">Synthetic observational/interventional dataset.</span>
For each user, we asked GPT4 to generate the synthetic purchase records of various length. Specifically, we collect the top 100 popular books for each genre, and randomly set a length <math alttext="l" class="ltx_Math" display="inline" id="A3.SS2.p4.1.m1.1"><semantics id="A3.SS2.p4.1.m1.1a"><mi id="A3.SS2.p4.1.m1.1.1" xref="A3.SS2.p4.1.m1.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.1.m1.1b"><ci id="A3.SS2.p4.1.m1.1.1.cmml" xref="A3.SS2.p4.1.m1.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.1.m1.1c">l</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p4.1.m1.1d">italic_l</annotation></semantics></math> for each user. We then asked the GPT4 to generate a sequence of length <math alttext="l" class="ltx_Math" display="inline" id="A3.SS2.p4.2.m2.1"><semantics id="A3.SS2.p4.2.m2.1a"><mi id="A3.SS2.p4.2.m2.1.1" xref="A3.SS2.p4.2.m2.1.1.cmml">l</mi><annotation-xml encoding="MathML-Content" id="A3.SS2.p4.2.m2.1b"><ci id="A3.SS2.p4.2.m2.1.1.cmml" xref="A3.SS2.p4.2.m2.1.1">𝑙</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.SS2.p4.2.m2.1c">l</annotation><annotation encoding="application/x-llamapun" id="A3.SS2.p4.2.m2.1d">italic_l</annotation></semantics></math>,which is the most possible purchase records for this user, among the list of books. For the interventional dataset, instead of asking GPT4 what is the most possible purchase records, we generate random sequences of recommendations, and asked the agent whether the recommended book will be purchased, and the probability of such a decision. Timestamp information is also provided to GPT4.</p>
</div>
</section>
<section class="ltx_subsection" id="A3.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.3. </span>Generalization of the causal graph used in this paper.</h3>
<div class="ltx_para" id="A3.SS3.p1">
<p class="ltx_p" id="A3.SS3.p1.1">In this paper, we propose a novel approach to model the recommendation process from a causal perspective. We begin by constructing a causal graph that represents the recommendation scenario of interest. This graph allows us to identify how a user’s decisions are influenced by various factors within the system.
Rather than considering the sequential recommendation as a next-item prediction task,
our approach focuses on understanding how a user’s decisions can be positively influenced by specific factors.
</p>
</div>
<div class="ltx_para" id="A3.SS3.p2">
<p class="ltx_p" id="A3.SS3.p2.1">As illustrated in <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#S1.F1" title="In 1. Introduction ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">fig.</span> <span class="ltx_text ltx_ref_tag">1</span></a>, the recommender system is conceptualized as an intervention that impacts the user’s decision-making process. This causal graph is versatile and applicable to both intervention-based and observational scenarios. In the former, the recommender system acts as the direct intervention, while in the latter, the user’s decisions are assumed to be influenced by unobserved sources. Thus, our model provides a framework for understanding the effects of both observed and unobserved interventions on user behavior.</p>
</div>
</section>
<section class="ltx_subsection" id="A3.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">C.4. </span>Additional Results.</h3>
<div class="ltx_para" id="A3.SS4.p1">
<p class="ltx_p" id="A3.SS4.p1.1">See <a class="ltx_ref" href="https://arxiv.org/html/2409.05872v1#A3.T4" title="In C.1. Spotify: Sequential Music Streaming Challenge ‣ Appendix C Experimental Details ‣ CSRec: Rethinking Sequential Recommendation from A Causal Perspective."><span class="ltx_text ltx_ref_tag">Table</span> <span class="ltx_text ltx_ref_tag">4</span></a></p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Aug 23 23:12:10 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
