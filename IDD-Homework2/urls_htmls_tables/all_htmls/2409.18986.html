<!DOCTYPE html>
<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine</title>
<!--Generated on Mon Sep 16 20:25:05 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv-fonts.0.7.9.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons_new.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2409.18986v1/"/></head>
<body>
<nav class="ltx_page_navbar">
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<div class="ltx_para" id="p1">
<span class="ltx_ERROR undefined" id="p1.4">\institutes</span>
<p class="ltx_p" id="p1.3"><sup class="ltx_sup" id="p1.3.1">1</sup>Florida State University, Tallahassee, FL, United States;
<sup class="ltx_sup" id="p1.3.2">2</sup>Spears School of Business, Oklahoma State University, Stillwater, OK, United States;
<sup class="ltx_sup" id="p1.3.3">3</sup>Morsani College of Medicine, University of South Florida, Tampa, FL, United States</p>
</div>
<h1 class="ltx_title ltx_title_document">Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xiaoyu Wang
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> MSc<sup class="ltx_sup" id="id8.2.id1">1</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Haoyong Ouyang
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> PhD<sup class="ltx_sup" id="id9.2.id1">1</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Balu Bhasuran
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> PhD<sup class="ltx_sup" id="id10.2.id1">1</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Xiao Luo
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> PhD<sup class="ltx_sup" id="id11.2.id1">2</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Karim Hanna
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> MD<sup class="ltx_sup" id="id12.2.id1">3</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Mia Liza A. Lustria
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> PhD<sup class="ltx_sup" id="id13.2.id1">1</sup>
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> Zhe He
</span></span>
<span class="ltx_author_before">  </span><span class="ltx_creator ltx_role_author">
<span class="ltx_personname"> PhD<sup class="ltx_sup" id="id14.2.id1">1</sup>
</span></span>
</div>
<section class="ltx_section" id="Sx1">
<h2 class="ltx_title ltx_title_section">Abstract</h2>
<div class="ltx_para" id="Sx1.p1">
<p class="ltx_p" id="Sx1.p1.1"><span class="ltx_text ltx_font_italic" id="Sx1.p1.1.1">Accurate interpretation of lab results is crucial in clinical medicine, yet most patient portals use universal normal ranges, ignoring factors like age and gender. This study introduces Lab-AI, an interactive system that offers personalized normal ranges using Retrieval-Augmented Generation (RAG) from credible health sources. Lab-AI has two modules: factor retrieval and normal range retrieval. We tested these on 68 lab tests—30 with conditional factors and 38 without. For tests with factors, normal ranges depend on patient-specific information. Our results show GPT-4-turbo with RAG achieved a 0.95 F1 score for factor retrieval and 0.993 accuracy for normal range retrieval. GPT-4-turbo with RAG outperformed the best non-RAG system by 29.1% in factor retrieval and showed 60.9% and 52.9% improvements in question-level and lab-level performance, respectively, for normal range retrieval. These findings highlight Lab-AI’s potential to enhance patient understanding of lab results.</span></p>
</div>
</section>
<section class="ltx_section" id="Sx2">
<h2 class="ltx_title ltx_title_section">Introduction</h2>
<div class="ltx_para" id="Sx2.p1">
<p class="ltx_p" id="Sx2.p1.1">The Health Information Technology for Economic and Clinical Health (HITECH) Act of 2009 played a key role in promoting the adoption and meaningful use of electronic health records (EHRs) throughout the U.S. healthcare system. Through the Medicare and Medicaid EHR Incentive Programs, the Act provided financial incentives that facilitated widespread EHR adoption. In December 2016, the 21st Century Cures Act further advanced healthcare by reinforcing patients’ rights to have timely and electronic access to their health information <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx2.p1.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib1" title="">1</a></sup></cite>. This legislation supported the development and use of patient portals by mandating that patients have electronic access to their health records. Additionally, the Act’s anti-information blocking provisions encouraged healthcare organizations to utilize patient portals effectively, ensuring patients can access their health data without unnecessary obstacles. Patient portals are crucial in engaging patients, as they enable individuals to view their medical records, communicate with their healthcare providers, and manage appointments and medications <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx2.p1.1.2.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib2" title="">2</a></sup></cite>.</p>
</div>
<div class="ltx_para" id="Sx2.p2">
<p class="ltx_p" id="Sx2.p2.1">Even though viewing lab results is the most frequent activity in patient portals, there are also challenges for patients. Lab results are often presented in medical jargon that can be difficult for patients to understand. Lab results typically provide reference ranges (or normal ranges), determined by analyzing lab results from a large, diverse group of healthy individuals <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx2.p2.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib3" title="">3</a></sup></cite>. The normal range is typically defined as the interval between two values that encompass the middle 95% of the data (often referred to as the 95% reference interval). This means that 95% of healthy individuals’ results fall within this range, and 5% fall outside of it. The normal range is then validated with clinical data and adjusted if necessary. However, lab test results can vary by age, sex, and other factors. For example, the normal range for red blood cell count (RBC) for men is 4.7 to 6.1 million cells/mcL and 4.2 to 5.4 million cells/mcL for women. Unfortunately, mainstream patient portals usually present universal normal ranges for lab tests based on a large population sample as a general baseline for what is considered normal, making it difficult for patients to interpret their results in a personalized context. Implementing individualized normal ranges requires complex adjustments and may also need input from patients. The advent of generative large language models (LLMs) such as ChatGPT offers a promising solution for identifying more personalized normal ranges by prompting the patient to provide necessary information missing in the medical records. In this work, we explore the use of LLMs with Retrieval-Augmented Generation (RAG) approach to identify the factors that may influence lab test results and to determine normal ranges for lab tests.</p>
</div>
<div class="ltx_para" id="Sx2.p3">
<p class="ltx_p" id="Sx2.p3.1">RAG improves the output of a Large Language Model (LLM) by integrating curated information from authoritative external sources, outside the model’s original training data, before generating a response <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx2.p3.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib4" title="">4</a></sup></cite>. The external knowledge base is transformed into text embeddings, which are vector representations of natural language that encode its semantic information. Text embeddings play a pivotal role in various natural language processing (NLP) tasks, including information retrieval (IR) and RAG <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx2.p3.1.2.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib5" title="">5</a></sup></cite>. It is generally reported that RAG, which combines both retrieval and generative techniques, enhances the accuracy and contextual understanding of LLM by incorporating authoritative external sources into their responses. This approach reduces the likelihood of generating incorrect information, offers flexibility to adapt to various domains, and allows for scalability as knowledge bases can be updated without retraining the model. Additionally, RAG improves transparency by listing sources of the response, making it easier to trace the information used, thereby reducing hallucinations, one of the widely reported issues of LLMs.</p>
</div>
<figure class="ltx_figure ltx_align_floatleft" id="Sx2.F1"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="362" id="Sx2.F1.g1" src="extracted/5859068/figures/QA.png" width="275"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="Sx2.F1.2.1.1" style="font-size:90%;">Figure 1</span>: </span><span class="ltx_text" id="Sx2.F1.3.2" style="font-size:90%;">An example interaction with Lab-AI</span></figcaption>
</figure>
<div class="ltx_para" id="Sx2.p4">
<p class="ltx_p" id="Sx2.p4.1">In this study, we present Lab-AI, a framework designed to evaluate the role of LLMs in interpreting lab test normal ranges. Figure 1 illustrates an example interaction with Lab-AI. Lab-AI enables users to interact by inputting questions regarding the normal range of a specific lab test. Upon receiving the query, Lab-AI analyzes the test in question and determines whether additional contextual factors (e.g., gender, age) are required to provide an accurate interpretation of the result. These contextual factors, referred to as “factors”, are critical variables that influence normal ranges. If additional factors are required, Lab-AI prompts the user with a set of multiple-choice questions, allowing the user to select the relevant information (e.g., “1. A, 2. B, 3. C”). Based on the user’s responses, Lab-AI returns the corresponding normal range. For tests where no additional factors are necessary, the system directly outputs the normal range. The complete Lab-AI system consists of two modules: a factor retrieval module and a normal range retrieval module. Specifically, the primary goal of this research was to explore the feasibility and potential of LLMs in augmenting the interpretation of lab test results, particularly for tests where multiple factors influence normal ranges. This study leverages publicly available, curated, evidence-based lab test information to enhance the understanding of these results. Our findings highlight the potential of generative AI to improve the accessibility and comprehension of lab test data, narrow disparities in access to critical health information, and ultimately contribute to improved patient outcomes. This work paves the way for the responsible integration of AI technologies for lab test interpretation into clinical practice, promoting equitable access to personalized healthcare.</p>
</div>
</section>
<section class="ltx_section" id="Sx3">
<h2 class="ltx_title ltx_title_section">Related Work</h2>
<div class="ltx_para" id="Sx3.p1">
<p class="ltx_p" id="Sx3.p1.1">RAG has been successfully applied in clinical applications such as interpreting pharmacogenomics lab testing results, improving patient admission prediction, summarizing and extracting malnutrition information, and for treatment recommendations and medical guidelines. Murugan et al. evaluated a GPT-4-based AI assistant with RAG to enhance pharmacogenomic decision-making by interpreting PGx test results, using data from the Clinical Pharmacogenetics Implementation Consortium <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx3.p1.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib6" title="">6</a></sup></cite>. The study demonstrated high efficacy in addressing specialized provider queries and emphasized the potential for improving accuracy, relevance, and ethical considerations for wider implementation of LLM with RAG in clinical practice. Alkhalaf et al. tested zero-shot prompt engineering in LLaMa 2, both alone and with RAG, for summarizing and extracting malnutrition data from EHRs in aged care facilities <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx3.p1.1.2.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib7" title="">7</a></sup></cite>. LLaMa 2 achieved high accuracy in summarizing nutritional status (93.25%) and extracting risk factors (90%). Implementing RAG improved summarization accuracy to 99.25% and reduced hallucinations but it did not further enhance risk factor extraction. Zakka et al. evaluated the performance of a RAG model called Almanac for clinical decision-making, and compared it with standard large language models like GPT-4, Bing, and Bard <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx3.p1.1.3.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib8" title="">8</a></sup></cite>. RAG was implemented by integrating curated medical resources such as PubMed, UpToDate, and BMJ Best Practices with the model to enhance factuality, completeness, and adversarial safety in response to clinical questions. The study reported that Almanac significantly outperformed other models in factuality and completeness, particularly in adversarial settings, demonstrating the potential for retrieval-augmented models to improve clinical decision support.</p>
</div>
<div class="ltx_para" id="Sx3.p2">
<p class="ltx_p" id="Sx3.p2.1">LLMs are increasingly being used for interpreting lab test results in clinical contexts, offering potential enhancements in accuracy and efficiency. He et al. conducted a study comparing the quality of responses from various LLMs, including GPT-4, GPT-3.5, LLaMA 2, MedAlpaca, and ORCA mini, to questions related to lab test results on a social Q&amp;A platform Yahoo! Answers <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx3.p2.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib9" title="">9</a></sup></cite>. They found that GPT-4 outperformed other models, achieving higher scores in accuracy, helpfulness, relevance, and safety, with superior handling of complex lab tests such as hemoglobin A1c, bilirubin, and lipid panels. Munoz-Zuluaga et al. evaluated the ability of GPT-4 to answer a representative set of questions frequently encountered in the laboratory medicine field, ranging from basic knowledge to complex interpretation of laboratory data in a clinical context <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx3.p2.1.2.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib10" title="">10</a></sup></cite>. They found that while GPT-4 correctly answered 50.7% of the questions, it also produced incomplete, incorrect, or irrelevant responses in the remaining cases. Cadamuro et al. reported that while GPT-4 could recognize and provide basic interpretations of individual lab tests such as glucose, HbA1c, and complete blood count (CBC), it struggled with integrating these results into a coherent clinical interpretation, often failing to recognize conditions like Gilbert’s syndrome or pre-analytical issues such as non-fasting glucose samples  <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx3.p2.1.3.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib11" title="">11</a></sup></cite>. Meyer et al. compared the performance of GPT-4, Gemini, and Le Chat in interpreting laboratory questions related to CBC from the online health forum ‘AskDocs’ subreddit on Reddit <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx3.p2.1.4.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib12" title="">12</a></sup></cite>. The study found that while GPT-4 and the other chatbots provided empathetic and structured responses, their accuracy and medical reliability were significantly lower than that of online physicians.</p>
</div>
<div class="ltx_para" id="Sx3.p3">
<p class="ltx_p" id="Sx3.p3.1">These studies underscore the critical role of LLMs in interpreting lab test results, highlighting both their potential and current limitations. While LLMs like GPT-4 have demonstrated considerable accuracy in certain scenarios, such as interpreting complex cases involving serum lipase and blood lead levels, they still fall short compared to human experts in ensuring consistent and reliable results across a broad spectrum of laboratory data. Moreover, none of these prior studies evaluated LLMs’ capability in determining the normalcy of lab results. The findings emphasize the necessity for continued development and rigorous validation of LLMs to enhance their utility in clinical settings, where precise and accurate interpretation of lab tests is critical for patient safety. The current study employs RAG with LLMs for interpreting lab test data, especially the normal ranges. By integrating real-time retrieval of lab test relevant information through RAG, the study aims to enhance the accuracy and reliability of LLMs in interpreting lab test data, thereby improving clinical decision-making processes.</p>
</div>
</section>
<section class="ltx_section" id="Sx4">
<h2 class="ltx_title ltx_title_section">Methods</h2>
<section class="ltx_subsection" id="Sx4.SSx1">
<h3 class="ltx_title ltx_title_subsection">System Overview</h3>
<div class="ltx_para" id="Sx4.SSx1.p1">
<p class="ltx_p" id="Sx4.SSx1.p1.1">In this study, we utilized a RAG-based LLM, Lab-AI, to help the patients find an authoritative lab normal range. Our objective is to design an AI assistant that could incorporate knowledge from credible sources and provide an accurate normal range, leveraging the power of the LLMs. We employed a RAG-Sequence model, which retrieves documents and generates a full response based on each document individually. For each retrieved document, the model generates a complete response independently. It then selects the best response by comparing the likelihood scores of the different generated sequences<cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx1.p1.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib4" title="">4</a></sup></cite>. With the support of RAG, which synergistically merges LLMs’ intrinsic knowledge with the vast, dynamic repositories of external databases <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx1.p1.1.2.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib13" title="">13</a></sup></cite>, the accuracy and credibility of the
generation will be enhanced.</p>
</div>
<div class="ltx_para" id="Sx4.SSx1.p2">
<p class="ltx_p" id="Sx4.SSx1.p2.1">Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx4.F2" title="Figure 2 ‣ System Overview ‣ Methods ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">2</span></a> illustrates users’ interactions with Lab-AI. The tool will start with a user’s question. The format of questions can vary but we only tested questions like “What is the normal range for [lab test name]?”. For each user input, the system employs OpenAI’s “text-embedding-3-large” model to embed the query. The embedding model is designed to act as a text encoder, transforming the input into a high-dimensional vector representation. The dimensions of these embedded queries are consistent with the data stored in the vector database, allowing for efficient and accurate retrieval of information.</p>
</div>
<figure class="ltx_figure ltx_align_floatleft" id="Sx4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="248" id="Sx4.F2.g1" src="extracted/5859068/figures/RAG.png" width="314"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="Sx4.F2.2.1.1" style="font-size:90%;">Figure 2</span>: </span><span class="ltx_text" id="Sx4.F2.3.2" style="font-size:90%;">Interactions with Lab-AI</span></figcaption>
</figure>
<div class="ltx_para" id="Sx4.SSx1.p3">
<p class="ltx_p" id="Sx4.SSx1.p3.1">The embedded question will then be sent to the retriever as a query. The retriever will compare the embedded input against the data stored in the vector database and return the relevant matches. Using similarity metrics, the system retrieves from the vector database the top two documents that have the highest similarity scores to the query and returns them to the retriever. To connect the retriever and LLMs, we will use “chat_engine” which is a stateful analogy of a query engine to keep track of the conversation history from Llama-index <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx1.p3.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib14" title="">14</a></sup></cite>. The embedded inputs and retrieved contents will then be sent to the LLMs. LLMs mainly refer to transformer-based neural language models that contain tens to hundreds of billions of parameters, which are pre-trained on massive text data and exhibit strong language understanding and generation abilities <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx1.p3.1.2.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib15" title="">15</a></sup></cite>. Based on the provided context, LLMs generate responses by processing the embedded inputs, retrieved contexts and system prompts. These responses are then redirected to the user through the Lab-AI system. The following section outlines the process of constructing and evaluating two important modules in Lab-AI, namely, factor retrieval module and normal range retrieval module.</p>
</div>
</section>
<section class="ltx_subsection" id="Sx4.SSx2">
<h3 class="ltx_title ltx_title_subsection">Step 1: Vector Database Generation</h3>
<figure class="ltx_figure" id="Sx4.F3"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="212" id="Sx4.F3.g1" src="extracted/5859068/figures/data_crawl_and_vector_database.png" width="550"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="Sx4.F3.2.1.1" style="font-size:90%;">Figure 3</span>: </span><span class="ltx_text" id="Sx4.F3.3.2" style="font-size:90%;">Data Crawl and Vector Database Generation</span></figcaption>
</figure>
<div class="ltx_para" id="Sx4.SSx2.p1">
<p class="ltx_p" id="Sx4.SSx2.p1.1">We obtained a set of lab test articles from MedlinePlus <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx2.p1.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib16" title="">16</a></sup></cite>, a credible online health information resource developed and maintained by the U.S. National Library of Medicine. Following the pipeline depicted in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx4.F3" title="Figure 3 ‣ Step 1: Vector Database Generation ‣ Methods ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">3</span></a>, we crawled data from the medical encyclopedia pages by iterating over the initials from A to Z and 0-9. For each page, we specifically examined the “Normal Results” section. If the web document included this section, we stored the lab name, the corresponding text under “Normal Results” and the URL. To facilitate the extraction of lab test information from these articles, we used Beautiful Soup, a Python package designed for parsing HTML and XML markup documents <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx2.p1.1.2.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib17" title="">17</a></sup></cite>. The vector database is an efficient vector data storage that allows fast and accurate similarity search and retrieval <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx2.p1.1.3.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib18" title="">18</a></sup></cite>. We first reformatted the data into the format “[labname]: NormalResult”. We opted to use “text-embedding-3-large” from OpenAI as our embedding model and converted all lab normal ranges into 3072-dimensional vectors. Additionally, we included URLs as metadata so that the RAG system can link to the appropriate source on MedlinePlus when necessary. We chose ChromaDB <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx2.p1.1.4.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib19" title="">19</a></sup></cite> as the vector database due to its compatibility with OpenAI embedding functions.</p>
</div>
</section>
<section class="ltx_subsection" id="Sx4.SSx3">
<h3 class="ltx_title ltx_title_subsection">Step 2: Data Preparation</h3>
<figure class="ltx_figure ltx_align_floatright" id="Sx4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_portrait" height="362" id="Sx4.F4.g1" src="extracted/5859068/figures/data_clean.png" width="248"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="Sx4.F4.2.1.1" style="font-size:90%;">Figure 4</span>: </span><span class="ltx_text" id="Sx4.F4.3.2" style="font-size:90%;">Lab test selection</span></figcaption>
</figure>
<div class="ltx_para" id="Sx4.SSx3.p1">
<p class="ltx_p" id="Sx4.SSx3.p1.1">As shown in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx4.F4" title="Figure 4 ‣ Step 2: Data Preparation ‣ Methods ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">4</span></a>, a total of 555 lab tests were identified, 96 of which had associated factors or consisted of multiple tests, while the remaining 459 did not have factors. We manually filtered out the tests with factors that lacked normal ranges, as well as those that comprised multiple tests. After filtering, the final number of lab tests with factors was 30. A similar filtering process was applied to the tests without factors, reducing their number from 459 to 192. From these, 38 (20%) non-factor lab tests were randomly selected as our convenience sample. Our focus was primarily on lab tests using blood or urine as specimens. Over 72% of the tests in the convenience sample were blood tests, while 16% used urine. Other specimens included tissues, fluids, marrow, and others.</p>
</div>
<div class="ltx_para" id="Sx4.SSx3.p2">
<p class="ltx_p" id="Sx4.SSx3.p2.1">Our study consists of two experiments. The first experiment was designed to test the ability of RAG-based LLMs to retrieve the factors associated with lab tests. The second experiment evaluates whether RAG-based LLMs can accurately retrieve the correct normal ranges given different factors. Non-RAG-based LLMs serve as the baseline for comparison. Consequently, two datasets were created for these experiments.</p>
</div>
<div class="ltx_para" id="Sx4.SSx3.p3">
<p class="ltx_p" id="Sx4.SSx3.p3.1"><span class="ltx_text ltx_font_bold" id="Sx4.SSx3.p3.1.1">Lab Test Factor Dataset:</span>
This dataset supports our first objective — to evaluate if RAG-based LLM can accurately extract and prompt the key factors determining the normal range for a lab test. To create the ground truth, we first manually extracted the factors for determining normal reference ranges for the included 68 lab tests. An example can be found in Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx4.T1" title="Table 1 ‣ Step 2: Data Preparation ‣ Methods ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">1</span></a>. We only considered the factors that determine different normal ranges. Factors that may affect the lab test but do not have a specific normal range in the article were excluded. For example, the normal range of “Aldolase” from MedlinePlus is: “Normal results range between 1.0 to 7.5 units per liter (0.02 to 0.13 microkat/L). There is a slight difference between men and women.” Although the normal range for men and women can be slightly different, we did not count gender as a factor because they do not have specific normal ranges in the article. Table <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx4.T1" title="Table 1 ‣ Step 2: Data Preparation ‣ Methods ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">1</span></a> provides example factors for lab tests.</p>
</div>
<figure class="ltx_table" id="Sx4.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="Sx4.T1.2.1.1" style="font-size:90%;">Table 1</span>: </span><span class="ltx_text" id="Sx4.T1.3.2" style="font-size:90%;">Example factors for lab test normal ranges</span></figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="Sx4.T1.4">
<thead class="ltx_thead">
<tr class="ltx_tr" id="Sx4.T1.4.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" id="Sx4.T1.4.1.1.1">Lab Test</th>
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_t" id="Sx4.T1.4.1.1.2">Factors</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx4.T1.4.2.1">
<td class="ltx_td ltx_align_left ltx_border_l ltx_border_r ltx_border_t" id="Sx4.T1.4.2.1.1">Aldolase blood test</td>
<td class="ltx_td ltx_align_left ltx_border_r ltx_border_t" id="Sx4.T1.4.2.1.2">None</td>
</tr>
<tr class="ltx_tr" id="Sx4.T1.4.3.2">
<td class="ltx_td ltx_align_left ltx_border_l ltx_border_r" id="Sx4.T1.4.3.2.1">Prostate-specific antigen (PSA) blood test</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="Sx4.T1.4.3.2.2">Age</td>
</tr>
<tr class="ltx_tr" id="Sx4.T1.4.4.3">
<td class="ltx_td ltx_align_left ltx_border_l ltx_border_r" id="Sx4.T1.4.4.3.1">Erythrocyte sedimentation rate (ESR)</td>
<td class="ltx_td ltx_align_left ltx_border_r" id="Sx4.T1.4.4.3.2">Age, Sex</td>
</tr>
<tr class="ltx_tr" id="Sx4.T1.4.5.4">
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_l ltx_border_r" id="Sx4.T1.4.5.4.1">Luteinizing hormone (LH) blood test</td>
<td class="ltx_td ltx_align_left ltx_border_b ltx_border_r" id="Sx4.T1.4.5.4.2">Age, Sex, Menstrual cycle phase</td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="Sx4.SSx3.p4">
<p class="ltx_p" id="Sx4.SSx3.p4.1">After manual review, we found that all the lab tests had up to three factors influencing their normal ranges, such as age, gender, or specimen type. Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx4.F5" title="Figure 5 ‣ Step 2: Data Preparation ‣ Methods ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">5</span></a> shows the dataset distribution. The donut chart illustrates the frequency of each factor, while the pie chart displays the distribution of how many factors each lab test includes. Notably, 55.9% of the selected lab tests had no associated factors, indicating a universal normal range. Among the remaining tests, 20 depended on sex, 15 on age, 3 on pregnancy status, and 2 were influenced by specific conditions related to women. The others include uncommon cases, such as “Is the patient an athlete?”.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
<figure class="ltx_figure ltx_align_floatleft" id="Sx4.F5"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_square" height="216" id="Sx4.F5.g1" src="extracted/5859068/figures/data_stat.png" width="216"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="Sx4.F5.2.1.1" style="font-size:90%;">Figure 5</span>: </span><span class="ltx_text" id="Sx4.F5.3.2" style="font-size:90%;">Factor Dataset Statistics</span></figcaption>
</figure>
<div class="ltx_para" id="Sx4.SSx3.p5">
<p class="ltx_p" id="Sx4.SSx3.p5.1"><span class="ltx_text ltx_font_bold" id="Sx4.SSx3.p5.1.1">Lab Test Normal Range Dataset:</span>
This dataset was developed to determine whether RAG-based LLMs can provide correct normal ranges given specific factors. For a lab test with multiple factors, we generated questions with all the different combinations of these factors. For example, erythrocyte sedimentation rate (ESR) test has two deterministic factors, gender and age. We generated four question prompts based on the normal reference range: 1) “What is the normal range of erythrocyte sedimentation rate (ESR) test for female over 50?” 2) “What is the normal range of erythrocyte sedimentation rate (ESR) test for female under 50?” 3) “What is the normal range of erythrocyte sedimentation rate (ESR) test for male over 50?” 4) “What is the normal range of erythrocyte sedimentation rate (ESR) test for male under 50?” For lab tests without factors, the question prompt was simply: “What is the normal range of [lab test name]?” A total of 151 questions were generated from 68 lab tests. The distribution was as follows: 39 questions were derived from 39 individual lab tests, 30 questions from 15 lab tests, 18 questions from 6 lab tests, and 64 questions from 7 lab tests.</p>
</div>
</section>
<section class="ltx_subsection" id="Sx4.SSx4">
<h3 class="ltx_title ltx_title_subsection">Step 3: Experiments of factor retrieval and normal range retrieval</h3>
<div class="ltx_para" id="Sx4.SSx4.p1">
<p class="ltx_p" id="Sx4.SSx4.p1.1">Factor retrieval is a crucial step in identifying the key factors determining the accurate normal range for a specific lab test. We designed a universal prompt and tested it across three OpenAI LLMs: GPT-3.5-turbo, GPT-4-turbo, and GPT-4 to assess if these LLMs can identify the critical factors associated with the normal ranges of a lab test.</p>
</div>
<div class="ltx_para" id="Sx4.SSx4.p2">
<p class="ltx_p" id="Sx4.SSx4.p2.1">We maintained the default settings, except for setting the temperature to zero to ensure consistency and minimize randomness. The prompt used for LLMs can significantly influence the quality of their responses. Initially, we crafted a simple prompt asking the LLMs which factors might influence the normal range for a given lab test, expecting a list of factors in return. However, the LLMs returned detailed factors along with their corresponding normal ranges, and the RAG system failed to retrieve information from our stored vector database as expected. To refine the prompt, we consulted GPT-4, which helped us improve its structure. The final prompt used a step-by-step instruction format: first, analyze the information from the vector database, then inform the LLM that we are only interested in factors associated with a numeric value. The LLM was instructed to output only those key factors and respond with “None” if no factors were relevant. For GPTs without RAG, we omitted the first step since it does not require information retrieval from the vector database. Additionally, we used a 2-shot example to help the LLMs better understand the desired output. For evaluation, we summed up all of the True Positives, False Positives, and False Negatives first, then calculated the corresponding precision, recall, and F-1 score for both RAG-based and non-RAG-based systems based on three selected LLMs. Figure <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx4.F6" title="Figure 6 ‣ Step 3: Experiments of factor retrieval and normal range retrieval ‣ Methods ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">6</span></a> shows the prompts used in the experiments.</p>
</div>
<figure class="ltx_figure" id="Sx4.F6"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="268" id="Sx4.F6.g1" src="extracted/5859068/figures/prompt_sample.png" width="598"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="Sx4.F6.2.1.1" style="font-size:90%;">Figure 6</span>: </span><span class="ltx_text" id="Sx4.F6.3.2" style="font-size:90%;">Prompts used for the two modules of Lab-AI</span></figcaption>
</figure>
<div class="ltx_para" id="Sx4.SSx4.p3">
<p class="ltx_p" id="Sx4.SSx4.p3.1">Accurate normal range retrieval is the primary goal of our study. We selected the best-performing model from the factor retrieval task, as accurately detecting lab test factors is the prerequisite for retrieving the correct normal range. Similar to the first task, we minimized response randomness by setting the temperature to zero. The system prompt was generated through iterative refinement using GPT-4-turbo, incorporating some examples of desired outputs. The user prompt is a straightforward question requesting the normal range given specific factor values, e.g., “What is the normal range for urine 17-ketosteroids test in males?”</p>
</div>
<div class="ltx_para" id="Sx4.SSx4.p4">
<p class="ltx_p" id="Sx4.SSx4.p4.1">The expected response is a precise value or range with appropriate units. However, it is unfair to directly compare the retrieved values between LLMs and RAG-based LLM system since we already let the RAG system know the expected values. As a result, when we evaluated the non-RAG LLMs’ results, we used many other credible lab test references, including MKSAP <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx4.p4.1.1.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib20" title="">20</a></sup></cite>, LOINC <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx4.p4.1.2.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib21" title="">21</a></sup></cite>, IAPAC <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx4.p4.1.3.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib22" title="">22</a></sup></cite>, American Board of Internal Medicine <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx4.p4.1.4.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib23" title="">23</a></sup></cite>, Health Encyclopedia by University of Rochester Medical Center <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx4.p4.1.5.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib24" title="">24</a></sup></cite> and ARUP laboratories <cite class="ltx_cite ltx_citemacro_cite"><sup class="ltx_sup" id="Sx4.SSx4.p4.1.6.1"><a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#bib.bib25" title="">25</a></sup></cite>. If non-RAG LLMs’ response matches any of those references, we considered that response as correct. For the RAG system, only the exact match was considered correct. This evaluation could demonstrate the superiority of the RAG-based systems. Both question-level and lab-level accuracy will be used as metrics for this task. Question-level accuracy is defined as the ratio of number of questions with correctly retrieved ranges to the total number of questions. Lab-level accuracy is calculated as the sum of the average accuracy values of questions for each lab test over all the tests divided by the total number of lab tests.</p>
</div>
</section>
</section>
<section class="ltx_section" id="Sx5">
<h2 class="ltx_title ltx_title_section">Results</h2>
<div class="ltx_para" id="Sx5.p1">
<p class="ltx_p" id="Sx5.p1.1">For the factor retrieval task, GPT-4-turbo outperformed the other models in both RAG and non-RAG systems. Surprisingly, without the RAG system, GPT-3.5-turbo showed better results than GPT-4, achieving significantly higher precision and F1, although it did not perform as well with RAG, as seen in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx5.T2" title="Table 2 ‣ Results ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">2</span></a> where GPT-4-turbo with RAG achieved a 0.95 F1 score. Table <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx5.T3" title="Table 3 ‣ Results ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">3</span></a> lists some cases of the RAG-based system with different GPT models. GPT-3.5-turbo with RAG will respond with choice-level factors. We cannot say it is completely wrong, but it did not follow our system prompt requirement. GPT-4 with RAG tended to provide extra factors in addition to the true labels. Some of those factors were mentioned in MedlinePlus but are not closely associated with a clear normal range. Some factors may have come from its own knowledge base. GPT-4-turbo with RAG showed more balanced performance but it may also prompt additional factors or miss some factors.</p>
</div>
<div class="ltx_para" id="Sx5.p2">
<p class="ltx_p" id="Sx5.p2.1">Since GPT-4-turbo with RAG outperformed the other models, we further evaluated it in the normal range retrieval task. Table <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx5.T4" title="Table 4 ‣ Results ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">4</span></a> shows the performance of normal range retrieval at the question and lab levels. GPT-4-turbo without RAG performed poorly with only an accuracy of 38.4% at the question level and 45.6% at the lab level. GPT-4-turbo with RAG performed exceptionally well, with only one error out of 151 generated questions. For lab tests with relevant factors, the accuracy reached 100%. Even though we also compared the results from the non-RAG GPT-4-turbo with multiple credible sources, its performance still remained unsatisfactory. Table <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx5.T5" title="Table 5 ‣ Results ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">5</span></a> highlights the single error, along with a similar case in which GPT-4-turbo with RAG provided a correct response. Unlike most lab tests, the normal ranges for the acid-fast stain and anti-smooth muscle antibody tests are “no acid-fast bacteria found” and “no antibodies found,” respectively. Although these results could be interpreted as zero, we did not apply any preprocessing for these cases.</p>
</div>
<figure class="ltx_table" id="Sx5.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="Sx5.T2.2.1.1" style="font-size:90%;">Table 2</span>: </span><span class="ltx_text" id="Sx5.T2.3.2" style="font-size:90%;">Factor Retrieval Performance</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="Sx5.T2.4" style="width:267.7pt;height:72pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-33.5pt,9.0pt) scale(0.8,0.8) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="Sx5.T2.4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="Sx5.T2.4.1.1.1">
<th class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_r" id="Sx5.T2.4.1.1.1.1"></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r" colspan="3" id="Sx5.T2.4.1.1.1.2">Non-RAG</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column" colspan="3" id="Sx5.T2.4.1.1.1.3">RAG</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx5.T2.4.1.2.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Sx5.T2.4.1.2.1.1"></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.4.1.2.1.2">Precision</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.4.1.2.1.3">Recall</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="Sx5.T2.4.1.2.1.4">F-1</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.4.1.2.1.5">Precision</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.4.1.2.1.6">Recall</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T2.4.1.2.1.7">F-1</td>
</tr>
<tr class="ltx_tr" id="Sx5.T2.4.1.3.2">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="Sx5.T2.4.1.3.2.1">GPT-3.5-turbo</th>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.3.2.2">0.612</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.3.2.3">0.65</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T2.4.1.3.2.4">0.630</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.3.2.5">0.353</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.3.2.6">0.663</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.3.2.7">0.461</td>
</tr>
<tr class="ltx_tr" id="Sx5.T2.4.1.4.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="Sx5.T2.4.1.4.3.1">GPT-4-turbo</th>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.4.3.2" style="background-color:#DAE8FC;"><span class="ltx_text" id="Sx5.T2.4.1.4.3.2.1" style="background-color:#DAE8FC;">0.632</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.4.3.3" style="background-color:#DAE8FC;"><span class="ltx_text" id="Sx5.T2.4.1.4.3.3.1" style="background-color:#DAE8FC;">0.688</span></td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T2.4.1.4.3.4" style="background-color:#DAE8FC;"><span class="ltx_text" id="Sx5.T2.4.1.4.3.4.1" style="background-color:#DAE8FC;">0.659</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.4.3.5" style="background-color:#DAE8FC;"><span class="ltx_text" id="Sx5.T2.4.1.4.3.5.1" style="background-color:#DAE8FC;">0.95</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.4.3.6" style="background-color:#DAE8FC;"><span class="ltx_text" id="Sx5.T2.4.1.4.3.6.1" style="background-color:#DAE8FC;">0.95</span></td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.4.3.7" style="background-color:#DAE8FC;"><span class="ltx_text" id="Sx5.T2.4.1.4.3.7.1" style="background-color:#DAE8FC;">0.95</span></td>
</tr>
<tr class="ltx_tr" id="Sx5.T2.4.1.5.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="Sx5.T2.4.1.5.4.1">GPT-4</th>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.5.4.2">0.477</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.5.4.3">0.638</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T2.4.1.5.4.4">0.545</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.5.4.5">0.796</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.5.4.6">0.925</td>
<td class="ltx_td ltx_align_center" id="Sx5.T2.4.1.5.4.7">0.855</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="Sx5.T3">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="Sx5.T3.2.1.1" style="font-size:90%;">Table 3</span>: </span><span class="ltx_text" id="Sx5.T3.3.2" style="font-size:90%;">Sample Error Cases in Factor Retrieval Evaluation</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="Sx5.T3.4" style="width:154.5pt;height:4258.4pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-19.3pt,532.3pt) scale(0.8,0.8) ;">
<table class="ltx_tabular ltx_align_middle" id="Sx5.T3.4.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx5.T3.4.1.1.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T3.4.1.1.1.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.1.1.1.1">
<span class="ltx_p" id="Sx5.T3.4.1.1.1.1.1.1">Model</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.1.1.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.1.1.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.1.1.2.1.1">Lab Test</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.1.1.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.1.1.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.1.1.3.1.1">Ground Truth Factors</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.1.1.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.1.1.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.1.1.4.1.1">Model Response</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.2.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T3.4.1.2.2.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.2.2.1.1">
<span class="ltx_p" id="Sx5.T3.4.1.2.2.1.1.1">GPT-3.5-turbo</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.2.2.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.2.2.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.2.2.2.1.1">BUN - blood test</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.2.2.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.2.2.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.2.2.3.1.1">None</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.2.2.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.2.2.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.2.2.4.1.1">Age, Renal function</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.3.3">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r" id="Sx5.T3.4.1.3.3.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.3.3.1.1"><span class="ltx_ERROR undefined" id="Sx5.T3.4.1.3.3.1.1.1">\cdashline</span>
<span class="ltx_p ltx_align_center" id="Sx5.T3.4.1.3.3.1.1.2">2-4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.3.3.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.3.3.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.3.3.2.1.1">HCG blood test - quantitative</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.3.3.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.3.3.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.3.3.3.1.1">Pregnancy status, Sex</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.3.3.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.3.3.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.3.3.4.1.1">Quantitative</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.4.4">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T3.4.1.4.4.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.4.4.1.1">
<span class="ltx_p" id="Sx5.T3.4.1.4.4.1.1.1">GPT-4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.4.4.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.4.4.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.4.4.2.1.1">Ammonia blood test</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.4.4.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.4.4.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.4.4.3.1.1">None</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.4.4.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.4.4.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.4.4.4.1.1">Age, Fasting</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.5.5">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r" id="Sx5.T3.4.1.5.5.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.5.5.1.1"><span class="ltx_ERROR undefined" id="Sx5.T3.4.1.5.5.1.1.1">\cdashline</span>
<span class="ltx_p ltx_align_center" id="Sx5.T3.4.1.5.5.1.1.2">2-4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.5.5.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.5.5.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.5.5.2.1.1">HCG blood test - quantitative</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.5.5.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.5.5.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.5.5.3.1.1">Pregnancy status, Sex</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.5.5.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.5.5.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.5.5.4.1.1">None</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.6.6">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T3.4.1.6.6.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.6.6.1.1">
<span class="ltx_p" id="Sx5.T3.4.1.6.6.1.1.1">GPT-4-turbo</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.6.6.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.6.6.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.6.6.2.1.1">Creatinine urine test</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.6.6.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.6.6.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.6.6.3.1.1">Sex</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.6.6.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.6.6.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.6.6.4.1.1">None</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.7.7">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r" id="Sx5.T3.4.1.7.7.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.7.7.1.1"><span class="ltx_ERROR undefined" id="Sx5.T3.4.1.7.7.1.1.1">\cdashline</span>
<span class="ltx_p ltx_align_center" id="Sx5.T3.4.1.7.7.1.1.2">2-4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.7.7.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.7.7.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.7.7.2.1.1">Serum progesterone</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.7.7.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.7.7.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.7.7.3.1.1">Sex, Menstrual cycle phase, Pregnancy status</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.7.7.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.7.7.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.7.7.4.1.1">Sex, Menstrual cycle phase</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.8.8">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T3.4.1.8.8.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.8.8.1.1">
<span class="ltx_p" id="Sx5.T3.4.1.8.8.1.1.1">GPT-3.5-turbo with RAG</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.8.8.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.8.8.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.8.8.2.1.1">DHEA-sulfate test</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.8.8.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.8.8.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.8.8.3.1.1">Sex, Age</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.8.8.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.8.8.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.8.8.4.1.1">Sex, Age, Female, Male</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.9.9">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r" id="Sx5.T3.4.1.9.9.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.9.9.1.1"><span class="ltx_ERROR undefined" id="Sx5.T3.4.1.9.9.1.1.1">\cdashline</span>
<span class="ltx_p ltx_align_center" id="Sx5.T3.4.1.9.9.1.1.2">2-4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.9.9.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.9.9.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.9.9.2.1.1">Estradiol blood test</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.9.9.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.9.9.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.9.9.3.1.1">Sex, Age</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.9.9.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.9.9.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.9.9.4.1.1">Sex, Age, Male, Female, Premenopausal, Postmenopausal, pg/mL, pmol/L</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.10.10">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T3.4.1.10.10.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.10.10.1.1">
<span class="ltx_p" id="Sx5.T3.4.1.10.10.1.1.1">GPT-4 with RAG</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.10.10.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.10.10.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.10.10.2.1.1">17-OH progesterone</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.10.10.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.10.10.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.10.10.3.1.1">Age</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.10.10.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.10.10.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.10.10.4.1.1">Age, Birth weight</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.11.11">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r" id="Sx5.T3.4.1.11.11.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.11.11.1.1"><span class="ltx_ERROR undefined" id="Sx5.T3.4.1.11.11.1.1.1">\cdashline</span>
<span class="ltx_p ltx_align_center" id="Sx5.T3.4.1.11.11.1.1.2">2-4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.11.11.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.11.11.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.11.11.2.1.1">Acid loading test (pH)</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.11.11.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.11.11.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.11.11.3.1.1">None</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.11.11.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.11.11.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.11.11.4.1.1">Urine pH</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.12.12">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T3.4.1.12.12.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.12.12.1.1">
<span class="ltx_p" id="Sx5.T3.4.1.12.12.1.1.1">GPT-4-turbo with RAG</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.12.12.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.12.12.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.12.12.2.1.1">Creatinine urine test</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.12.12.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.12.12.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.12.12.3.1.1">Sex</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T3.4.1.12.12.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.12.12.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.12.12.4.1.1">Sex, Age</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.13.13">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r" id="Sx5.T3.4.1.13.13.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.13.13.1.1"><span class="ltx_ERROR undefined" id="Sx5.T3.4.1.13.13.1.1.1">\cdashline</span>
<span class="ltx_p ltx_align_center" id="Sx5.T3.4.1.13.13.1.1.2">2-4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.13.13.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.13.13.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.13.13.2.1.1">Serum progesterone</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.13.13.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.13.13.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.13.13.3.1.1">Sex, Menstrual cycle phase, Pregnancy status</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r" id="Sx5.T3.4.1.13.13.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.13.13.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.13.13.4.1.1">Menstrual cycle phase, Pregnancy status</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T3.4.1.14.14">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_l ltx_border_r" id="Sx5.T3.4.1.14.14.1" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.14.14.1.1"><span class="ltx_ERROR undefined" id="Sx5.T3.4.1.14.14.1.1.1">\cdashline</span>
<span class="ltx_p ltx_align_center" id="Sx5.T3.4.1.14.14.1.1.2">2-4</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r" id="Sx5.T3.4.1.14.14.2" style="width:85.4pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.14.14.2.1">
<span class="ltx_p" id="Sx5.T3.4.1.14.14.2.1.1">Urine concentration test</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r" id="Sx5.T3.4.1.14.14.3" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.14.14.3.1">
<span class="ltx_p" id="Sx5.T3.4.1.14.14.3.1.1">Water consumption</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r" id="Sx5.T3.4.1.14.14.4" style="width:142.3pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T3.4.1.14.14.4.1">
<span class="ltx_p" id="Sx5.T3.4.1.14.14.4.1.1">None</span>
</span>
</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="Sx5.T4">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="Sx5.T4.2.1.1" style="font-size:90%;">Table 4</span>: </span><span class="ltx_text" id="Sx5.T4.3.2" style="font-size:90%;">Normal Range Retrieval Performance</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="Sx5.T4.4" style="width:318.1pt;height:101.5pt;vertical-align:-0.7pt;"><span class="ltx_transformed_inner" style="transform:translate(-68.2pt,21.6pt) scale(0.7,0.7) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="Sx5.T4.4.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx5.T4.4.1.1.1">
<th class="ltx_td ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" colspan="2" id="Sx5.T4.4.1.1.1.1" rowspan="2"></th>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="Sx5.T4.4.1.1.1.2">GPT-4-turbo</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="3" id="Sx5.T4.4.1.1.1.3">GPT-4-turbo with RAG</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.4.1.2.2">
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.2.2.1">w/o factor</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.2.2.2">w/ factor</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T4.4.1.2.2.3">Overall</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.2.2.4">w/o factor</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.2.2.5">w/ factor</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T4.4.1.2.2.6">Overall</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.4.1.3.3">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T4.4.1.3.3.1" rowspan="3"><span class="ltx_text" id="Sx5.T4.4.1.3.3.1.1">Question Level</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Sx5.T4.4.1.3.3.2"># of total</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T4.4.1.3.3.3">38</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T4.4.1.3.3.4">113</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="Sx5.T4.4.1.3.3.5">151</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T4.4.1.3.3.6">38</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T4.4.1.3.3.7">113</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="Sx5.T4.4.1.3.3.8">151</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.4.1.4.4">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="Sx5.T4.4.1.4.4.1"># of correct</th>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.4.4.2">18</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.4.4.3">40</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T4.4.1.4.4.4">58</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.4.4.5">37</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.4.4.6">113</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T4.4.1.4.4.7">150</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.4.1.5.5">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="Sx5.T4.4.1.5.5.1">Accuracy</th>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.5.5.2">0.474</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.5.5.3">0.354</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T4.4.1.5.5.4">0.384</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.5.5.5">0.974</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.5.5.6">1.00</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T4.4.1.5.5.7">0.993</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.4.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T4.4.1.6.6.1" rowspan="3"><span class="ltx_text" id="Sx5.T4.4.1.6.6.1.1">Lab Level</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t" id="Sx5.T4.4.1.6.6.2"># of total</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T4.4.1.6.6.3">38</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T4.4.1.6.6.4">30</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="Sx5.T4.4.1.6.6.5">68</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T4.4.1.6.6.6">38</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="Sx5.T4.4.1.6.6.7">30</td>
<td class="ltx_td ltx_align_center ltx_border_r ltx_border_t" id="Sx5.T4.4.1.6.6.8">68</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.4.1.7.7">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r" id="Sx5.T4.4.1.7.7.1"># of correct</th>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.7.7.2">18</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.7.7.3">13</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T4.4.1.7.7.4">31</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.7.7.5">37</td>
<td class="ltx_td ltx_align_center" id="Sx5.T4.4.1.7.7.6">30</td>
<td class="ltx_td ltx_align_center ltx_border_r" id="Sx5.T4.4.1.7.7.7">67</td>
</tr>
<tr class="ltx_tr" id="Sx5.T4.4.1.8.8">
<th class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_r" id="Sx5.T4.4.1.8.8.1">Accuracy</th>
<td class="ltx_td ltx_align_center ltx_border_b" id="Sx5.T4.4.1.8.8.2">0.474</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="Sx5.T4.4.1.8.8.3">0.433</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="Sx5.T4.4.1.8.8.4">0.456</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="Sx5.T4.4.1.8.8.5">0.974</td>
<td class="ltx_td ltx_align_center ltx_border_b" id="Sx5.T4.4.1.8.8.6">1.00</td>
<td class="ltx_td ltx_align_center ltx_border_b ltx_border_r" id="Sx5.T4.4.1.8.8.7">0.985</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="Sx5.T5">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span class="ltx_text" id="Sx5.T5.2.1.1" style="font-size:90%;">Table 5</span>: </span><span class="ltx_text" id="Sx5.T5.3.2" style="font-size:90%;">Normal Range Retrieval Sample Cases using RAG</span></figcaption>
<div class="ltx_inline-block ltx_transformed_outer" id="Sx5.T5.4" style="width:55.7pt;height:1914pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(-7.0pt,239.3pt) scale(0.8,0.8) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="Sx5.T5.4.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="Sx5.T5.4.1.1.1">
<th class="ltx_td ltx_align_justify ltx_align_middle ltx_th ltx_th_column ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T5.4.1.1.1.1" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.1.1.1.1">
<span class="ltx_p" id="Sx5.T5.4.1.1.1.1.1.1">Question</span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_middle ltx_th ltx_th_column ltx_border_r ltx_border_t" id="Sx5.T5.4.1.1.1.2" style="width:170.7pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.1.1.2.1">
<span class="ltx_p" id="Sx5.T5.4.1.1.1.2.1.1">Ground Truth Response</span>
</span>
</th>
<th class="ltx_td ltx_align_justify ltx_align_middle ltx_th ltx_th_column ltx_border_r ltx_border_t" id="Sx5.T5.4.1.1.1.3" style="width:156.5pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.1.1.3.1">
<span class="ltx_p" id="Sx5.T5.4.1.1.1.3.1.1">GPT-4-turbo with RAG</span>
</span>
</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="Sx5.T5.4.1.2.1">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T5.4.1.2.1.1" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.2.1.1.1">
<span class="ltx_p" id="Sx5.T5.4.1.2.1.1.1.1">What is the normal range for Acid-fast stain?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T5.4.1.2.1.2" style="width:170.7pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.2.1.2.1">
<span class="ltx_p" id="Sx5.T5.4.1.2.1.2.1.1">A normal result means no acid-fast bacteria were found on the stained sample</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_r ltx_border_t" id="Sx5.T5.4.1.2.1.3" style="width:156.5pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.2.1.3.1">
<span class="ltx_p" id="Sx5.T5.4.1.2.1.3.1.1">N/A</span>
</span>
</td>
</tr>
<tr class="ltx_tr" id="Sx5.T5.4.1.3.2">
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_l ltx_border_r ltx_border_t" id="Sx5.T5.4.1.3.2.1" style="width:113.8pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.3.2.1.1">
<span class="ltx_p" id="Sx5.T5.4.1.3.2.1.1.1">What is the normal range for Anti-smooth muscle antibody?</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r ltx_border_t" id="Sx5.T5.4.1.3.2.2" style="width:170.7pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.3.2.2.1">
<span class="ltx_p" id="Sx5.T5.4.1.3.2.2.1.1">Normally, there are no antibodies present</span>
</span>
</td>
<td class="ltx_td ltx_align_justify ltx_align_middle ltx_border_b ltx_border_r ltx_border_t" id="Sx5.T5.4.1.3.2.3" style="width:156.5pt;padding-top:2.5pt;padding-bottom:2.5pt;">
<span class="ltx_inline-block ltx_align_top" id="Sx5.T5.4.1.3.2.3.1">
<span class="ltx_p" id="Sx5.T5.4.1.3.2.3.1.1">Normally, there are no antibodies present.</span>
</span>
</td>
</tr>
</tbody>
</table>
</span></div>
</figure>
</section>
<section class="ltx_section" id="Sx6">
<h2 class="ltx_title ltx_title_section">Discussion</h2>
<div class="ltx_para" id="Sx6.p1">
<p class="ltx_p" id="Sx6.p1.1">In this study, our aim was to develop an interactive Lab-AI system capable of providing accurate normal reference ranges for lab tests specific to each patient. This is achieved by first identifying the factors that affect normal reference ranges, and then retrieving the appropriate range based on the patient’s responses to those factors. According to the results in Table <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx5.T2" title="Table 2 ‣ Results ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">2</span></a>, GPT-4-turbo
with RAG achieved an F1 of 0.95 on this task, whereas the original GPT-4-turbo reached only an F1 of 0.659. Typically, GPT-4, with its larger number of parameters compared to GPT-3.5-turbo, would be expected to outperform GPT-3.5-turbo. However, in the factor retrieval task, GPT-4 yielded lower precision and F1. While GPT-4-turbo achieved the highest recall, making it the most effective non-RAG model at retrieving relevant factors, its recall was still below 0.7. With RAG, GPT-4-turbo outperformed other models in retrieving accurate and relevant cases. GPT-4 with RAG significantly outperformed GPT-3.5-turbo with RAG, indicating better compatibility between GPT-4 and the RAG system. Interestingly, while GPT-4 with RAG excelled at retrieving relevant factors, it was also more prone to providing factors not listed in the original source. This may be due to its tendency for hallucinations, whereas GPT-4-turbo is more stable and less prone to generating creative but incorrect information.</p>
</div>
<div class="ltx_para" id="Sx6.p2">
<p class="ltx_p" id="Sx6.p2.1">We further evaluated the RAG system’s ability in retrieving normal reference ranges using the best factor retrieval model. Using GPT-4-turbo as the baseline, we relaxed the correctness criterion from an exact match with MedlinePlus to a match with any credible source. While GPT-4-turbo achieved less than 50% accuracy, GPT-4-turbo with RAG correctly retrieved nearly all normal ranges, making only one error. We implemented two evaluation methods: question-level accuracy, which measures the accuracy across all 151 questions, and lab-level accuracy, which assesses performance across 68 lab tests. The overall accuracy of the RAG system at the question level was 0.993, approximately 60.9% higher than the baseline model, while the lab-level accuracy was 0.985, about 52.9% higher. According to Table <a class="ltx_ref" href="https://arxiv.org/html/2409.18986v1#Sx5.T5" title="Table 5 ‣ Results ‣ Lab-AI - Retrieval-Augmented Language Model for Personalized Lab Test Interpretation in Clinical Medicine"><span class="ltx_text ltx_ref_tag">5</span></a>, the only mistake GPT-4-turbo with RAG made was for the acid-fast stain test, where the correct result should have been “no acid-fast bacteria found,” but the system responded with “N/A” instead. We also examined a similar case involving the anti-smooth muscle antibody test, where GPT-4-turbo with RAG successfully indicated the correct normal result of “no antibodies present“. These cases are challenging because their normal results are non-numeric.</p>
</div>
<div class="ltx_para" id="Sx6.p3">
<p class="ltx_p" id="Sx6.p3.1">In future studies, we plan to explore the latest LLMs, including GPT-4o, Claude 3.5, and Llama 3.1 in both tasks. Improving the accuracy of factor retrieval could improve the normal range retrieval process further. Building on the success of factor and normal range retrieval demonstrated with the RAG system, we will also focus on designing a user interface that enables patients to interact directly with Lab-AI. We will evaluate Lab-AI with other question prompts such as “What does my result of creatinine urine test of 250 µmol/kg/day mean?” and see if Lab-AI can prompt the patient to provide necessary factor necessary (e.g., gender in this case).</p>
</div>
</section>
<section class="ltx_section" id="Sx7">
<h2 class="ltx_title ltx_title_section">Conclusions</h2>
<div class="ltx_para" id="Sx7.p1">
<p class="ltx_p" id="Sx7.p1.1">In this proof-of-concept study, we demonstrated that advanced large language models (LLMs) integrated with Retrieval-Augmented Generation (RAG) can accurately retrieve personalized normal reference ranges for lab tests, significantly outperforming non-RAG models in both factor retrieval and normal range retrieval tasks. The low accuracy of non-RAG GPT models in retrieving normal ranges underscores the unreliability of using GPT alone for this purpose. In contrast, the RAG system effectively connects LLMs to credible health sources, reducing hallucinations and improving reliability. Given the promising results, with an F-1 score of 0.95 for factor retrieval and 0.993 accuracy for normal range retrieval, we are now advancing to the next stage of developing Lab-AI further. This will include generating tailored questions and integreting it into clinical practice to enhance patients’ understanding of lab results, shared decision making, and ultimately outcomes.</p>
</div>
</section>
<section class="ltx_section" id="Sx8">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>
<div class="ltx_para" id="Sx8.p1">
<p class="ltx_p" id="Sx8.p1.1">This study was supported by the Agency for Healthcare Research and Quality (AHRQ) under award R21HS029969, as well as the University of Florida-Florida State University Clinical and Translational Science Award under award UL1TR001427.</p>
</div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">1</span>
<span class="ltx_bibblock">
Lye CT, Forman HP, Daniel JG, Krumholz HM.

</span>
<span class="ltx_bibblock">The 21st Century Cures Act and electronic health records one year later: will patients see the benefits?

</span>
<span class="ltx_bibblock">Journal of the American Medical Informatics Association. 2018;25(9):1218-20.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">2</span>
<span class="ltx_bibblock">
Dendere R, Slade C, Burton-Jones A, Sullivan C, Staib A, Janda M.

</span>
<span class="ltx_bibblock">Patient portals facilitating engagement with inpatient electronic medical records: a systematic review.

</span>
<span class="ltx_bibblock">Journal of medical Internet research. 2019;21(4):e12779.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">3</span>
<span class="ltx_bibblock">
Friedberg RC, Souers R, Wagar EA, Stankovic AK, Valenstein PN.

</span>
<span class="ltx_bibblock">The origin of reference intervals: a College of American Pathologists Q-Probes study of “normal ranges” used in 163 clinical laboratories.

</span>
<span class="ltx_bibblock">Archives of pathology &amp; laboratory medicine. 2007;131(3):348-57.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">4</span>
<span class="ltx_bibblock">
Lewis P, Perez E, Piktus A, Petroni F, Karpukhin V, Goyal N, et al.

</span>
<span class="ltx_bibblock">Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks.

</span>
<span class="ltx_bibblock">In: Larochelle H, Ranzato M, Hadsell R, Balcan MF, Lin H, editors. Advances in Neural Information Processing Systems. vol. 33. Curran Associates, Inc.; 2020. p. 9459-74.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://proceedings.neurips.cc/paper_files/paper/2020/file/6b493230205f780e1bc26945df7481e5-Paper.pdf</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">5</span>
<span class="ltx_bibblock">
Zhu D, Wang L, Yang N, Song Y, Wu W, Wei F, et al.. LongEmbed: Extending Embedding Models for Long Context Retrieval; 2024.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://arxiv.org/abs/2404.12096</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">6</span>
<span class="ltx_bibblock">
Murugan M, et al.

</span>
<span class="ltx_bibblock">Empowering personalized pharmacogenomics with generative AI solutions.

</span>
<span class="ltx_bibblock">Journal of the American Medical Informatics Association. 2024;31(6):1356-66.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">7</span>
<span class="ltx_bibblock">
Alkhalaf M, et al.

</span>
<span class="ltx_bibblock">Applying generative AI with retrieval augmented generation to summarize and extract key clinical information from electronic health records.

</span>
<span class="ltx_bibblock">Journal of Biomedical Informatics. 2024:104662.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">8</span>
<span class="ltx_bibblock">
Zakka C, et al.

</span>
<span class="ltx_bibblock">Almanac—retrieval-augmented language models for clinical medicine.

</span>
<span class="ltx_bibblock">NEJM AI. 2024;1(2):AIoa2300068.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">9</span>
<span class="ltx_bibblock">
He Z, Bhasuran B, Jin Q, Tian S, Hanna K, Shavor C, et al.

</span>
<span class="ltx_bibblock">Quality of Answers of Generative Large Language Models Versus Peer Users for Interpreting Laboratory Test Results for Lay Patients: Evaluation Study.

</span>
<span class="ltx_bibblock">Journal of Medical Internet Research. 2024;26:e56655.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">10</span>
<span class="ltx_bibblock">
Munoz-Zuluaga C, Zhao Z, Wang F, Greenblatt MB, Yang HS.

</span>
<span class="ltx_bibblock">Assessing the accuracy and clinical utility of ChatGPT in laboratory medicine.

</span>
<span class="ltx_bibblock">Clinical Chemistry. 2023;69(8):939-40.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">11</span>
<span class="ltx_bibblock">
Cadamuro J, Cabitza F, Debeljak Z, De Bruyne S, Frans G, Perez SM, et al.

</span>
<span class="ltx_bibblock">Potentials and pitfalls of ChatGPT and natural-language artificial intelligence models for the understanding of laboratory medicine test results. An assessment by the European Federation of Clinical Chemistry and Laboratory Medicine (EFLM) Working Group on Artificial Intelligence (WG-AI).

</span>
<span class="ltx_bibblock">Clinical Chemistry and Laboratory Medicine (CCLM). 2023;61(7):1158-66.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">12</span>
<span class="ltx_bibblock">
Meyer A, Soleman A, Riese J, Streichert T.

</span>
<span class="ltx_bibblock">Comparison of ChatGPT, Gemini, and Le Chat with physician interpretations of medical laboratory questions from an online health forum.

</span>
<span class="ltx_bibblock">Clinical Chemistry and Laboratory Medicine (CCLM). 2024.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">13</span>
<span class="ltx_bibblock">
Gao Y, Xiong Y, Gao X, Jia K, Pan J, Bi Y, et al.. Retrieval-Augmented Generation for Large Language Models: A Survey; 2024.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://arxiv.org/abs/2312.10997</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">14</span>
<span class="ltx_bibblock">
Liu J. LlamaIndex; 2022.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://github.com/jerryjliu/llama_index</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">15</span>
<span class="ltx_bibblock">
Minaee S, Mikolov T, Nikzad N, Chenaghlu M, Socher R, Amatriain X, et al.. Large Language Models: A Survey; 2024.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://arxiv.org/abs/2402.06196</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">16</span>
<span class="ltx_bibblock">
A D A M I. A.D.A.M. Medical Encyclopedia [Internet]; 2019.

</span>
<span class="ltx_bibblock">Johns Creek (GA): Ebix, Inc., A.D.A.M.; c1997-2020. Nail abnormalities; [updated 2019 Jul 31; reviewed 2019 Apr 16; cited 2020 Aug 30]; [about 4 p.]. Available from: https://medlineplus.gov/encyclopedia.html.

</span>
<span class="ltx_bibblock">Online.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://medlineplus.gov/encyclopedia.html</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">17</span>
<span class="ltx_bibblock">
Richardson L.

</span>
<span class="ltx_bibblock">Beautiful soup documentation.

</span>
<span class="ltx_bibblock">April. 2007.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">18</span>
<span class="ltx_bibblock">
Han Y, Liu C, Wang P. A Comprehensive Survey on Vector Database: Storage and Retrieval Technique, Challenge; 2023.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://arxiv.org/abs/2310.11703</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">19</span>
<span class="ltx_bibblock">
Chroma. ChromaDB 0.4.24. GitHub; 2024.

</span>
<span class="ltx_bibblock"><span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://github.com/chroma-core/chroma/tree/0.4.24</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">20</span>
<span class="ltx_bibblock">
of Physicians AC, Chick DA.

</span>
<span class="ltx_bibblock">MKSAP 19: Medical Knowledge Self-assessment Program.

</span>
<span class="ltx_bibblock">American College of Physicians; 2021.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://books.google.com/books?id=1cmpzgEACAAJ</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">21</span>
<span class="ltx_bibblock">
Fidahussein M, Vreeman DJ.

</span>
<span class="ltx_bibblock">A corpus-based approach for automated LOINC mapping.

</span>
<span class="ltx_bibblock">Journal of the American Medical Informatics Association : JAMIA. 2014 Jan-Feb;21:64-72.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">22</span>
<span class="ltx_bibblock">
International Association of Providers of AIDS Care. Normal Laboratory Values; 2024.

</span>
<span class="ltx_bibblock">Accessed: 2024-08-20.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://www.iapac.org/fact-sheet/normal-laboratory-values/</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">23</span>
<span class="ltx_bibblock">
American Board of Internal Medicine. Laboratory Reference Ranges; 2024.

</span>
<span class="ltx_bibblock">Accessed: 2024-08-20.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://www.abim.org/Media/bfijryql/laboratory-reference-ranges.pdf</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib24">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">24</span>
<span class="ltx_bibblock">
University of Rochester Medical Center. Health Encyclopedia; 2024.

</span>
<span class="ltx_bibblock">Accessed: 2024-08-20.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://www.urmc.rochester.edu/encyclopedia/collection.aspx?subtopicid=45447</span>.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib25">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">25</span>
<span class="ltx_bibblock">
ARUP Laboratories. ARUP Test Directory; 2024.

</span>
<span class="ltx_bibblock">Accessed: 2024-09-07.

</span>
<span class="ltx_bibblock">Available from: <span class="ltx_ref ltx_nolink ltx_url ltx_font_typewriter ltx_ref_self">https://www.aruplab.com/testing</span>.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Mon Sep 16 20:25:05 2024 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img alt="Mascot Sammy" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
