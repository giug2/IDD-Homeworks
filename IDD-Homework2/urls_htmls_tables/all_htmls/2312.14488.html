<!DOCTYPE html>

<html lang="en">
<head>
<meta content="text/html; charset=utf-8" http-equiv="content-type"/>
<title>Language Model is a Branch Predictor for Simultaneous Machine Translation</title>
<!--Generated on Fri Dec 22 07:25:50 2023 by LaTeXML (version 0.8.7) http://dlmf.nist.gov/LaTeXML/.-->
<meta content="width=device-width, initial-scale=1, shrink-to-fit=no" name="viewport"/>
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/ar5iv_0.7.4.min.css" rel="stylesheet" type="text/css"/>
<link href="/static/browse/0.3.4/css/latexml_styles.css" rel="stylesheet" type="text/css"/>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.3.3/html2canvas.min.js"></script>
<script src="/static/browse/0.3.4/js/addons.js"></script>
<script src="/static/browse/0.3.4/js/feedbackOverlay.js"></script>
<base href="/html/2312.14488v1/"/></head>
<body>
<nav class="ltx_page_navbar">
<nav class="ltx_TOC">
<ol class="ltx_toclist">
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S1" title="1 Introduction ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">1 </span>Introduction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S2" title="2 EVALUATION ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">2 </span>EVALUATION</span></a></li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S3" title="3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3 </span>Methodology</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS1" title="3.1 Branch Prediction for SiMT ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.1 </span>Branch Prediction for SiMT</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S3.SS2" title="3.2 Shared Encoder and Language Model ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">3.2 </span>Shared Encoder and Language Model</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section">
<a class="ltx_ref" href="#S4" title="4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4 </span>Experiments</span></a>
<ol class="ltx_toclist ltx_toclist_section">
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS1" title="4.1 Datasets and Settings ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.1 </span>Datasets and Settings</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS2" title="4.2 Branch Prediction ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.2 </span>Branch Prediction</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS3" title="4.3 Shared Encoder and Language Model ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.3 </span>Shared Encoder and Language Model</span></a></li>
<li class="ltx_tocentry ltx_tocentry_subsection"><a class="ltx_ref" href="#S4.SS4" title="4.4 Analysis ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">4.4 </span>Analysis</span></a></li>
</ol>
</li>
<li class="ltx_tocentry ltx_tocentry_section"><a class="ltx_ref" href="#S5" title="5 Conclusion ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_title"><span class="ltx_tag ltx_tag_ref">5 </span>Conclusion</span></a></li>
</ol></nav>
</nav>
<div class="ltx_page_main">
<div class="ltx_page_content"><div class="section" id="target-section"><div id="license-tr">License: arXiv.org perpetual non-exclusive license</div><div id="watermark-tr">arXiv:2312.14488v1 [cs.CL] 22 Dec 2023</div></div>
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Language Model is a Branch Predictor for Simultaneous Machine Translation</h1>
<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p class="ltx_p" id="id1.id1">The primary objective of simultaneous machine translation (SiMT) is to minimize latency while preserving the quality of the final translation. Drawing inspiration from CPU branch prediction techniques, we propose incorporating branch prediction techniques in SiMT tasks to reduce translation latency. Specifically, we utilize a language model as a branch predictor to predict potential branch directions, namely, future source words. Subsequently, we utilize the predicted source words to decode the output in advance. When the actual source word deviates from the predicted source word, we use the real source word to decode the output again, replacing the predicted output. To further reduce computational costs, we share the parameters of the encoder and the branch predictor, and utilize a pre-trained language model for initialization. Our proposed method can be seamlessly integrated with any SiMT model. Extensive experimental results demonstrate that our approach can improve translation quality and latency at the same time. Our code is available at <a class="ltx_ref ltx_url ltx_font_typewriter" href="https://github.com/YinAoXiong/simt_branch_predictor" title="">https://github.com/YinAoXiong/simt_branch_predictor</a>.</p>
</div>
<div class="ltx_para" id="p1">
<p class="ltx_p" id="p1.1"><span class="ltx_text ltx_font_bold ltx_font_italic" id="p1.1.1">Index Terms<span class="ltx_text ltx_font_upright" id="p1.1.1.1">— </span></span>
simultaneous machine translation, language model, branch prediction</p>
</div>
<section class="ltx_section" id="S1">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>
<div class="ltx_para" id="S1.p1">
<p class="ltx_p" id="S1.p1.1">Simultaneous machine translation (SiMT) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib1" title="">1</a>, <a class="ltx_ref" href="#bib.bib2" title="">2</a>, <a class="ltx_ref" href="#bib.bib3" title="">3</a>, <a class="ltx_ref" href="#bib.bib4" title="">4</a>, <a class="ltx_ref" href="#bib.bib5" title="">5</a>]</cite> generates the target sequence as it receives the source sequence, instead of starting to generate the target sequence after reading the source sequence like full-sentence machine translation.
Most SiMT methods adopt a prefix-to-prefix architecture <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib3" title="">3</a>]</cite>, which forces the target word to be aligned with the source prefix rather than the whole source sentence.
With this architecture, the model must determine which part of the target word should be aligned with the source prefix. If the source prefix is too extensive, the delay in translation will be excessive. Conversely, if the source prefix is too brief, there may not be sufficient information to accurately translate the target word.</p>
</div>
<div class="ltx_para" id="S1.p2">
<p class="ltx_p" id="S1.p2.1">However, from another perspective, the workflow of SiMT is like executing a serial program with branches in a loop, where the number of loops is the length of the source sequence, the number of branches is the size of the vocabulary, and the SiMT model and the above policy are the code executed in the branches.
Inspired by the CPU branch prediction technology <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib6" title="">6</a>]</cite>, we try to introduce a branch predictor in SiMT, so that we can improve the execution flow of SiMT from a higher dimension and reduce the translation delay.
Therefore, we introduce the language model as a branch predictor to predict the next possible execution branch: the next source word. It is worth noting that in the actual execution process, this prediction process can be executed in parallel with the translation process in the branch.
We will use the predicted output if the branch prediction is correct. If the branch prediction is wrong, we will withdraw the predicted output and re-translate the output using the real source words.</p>
</div>
<div class="ltx_para" id="S1.p3">
<p class="ltx_p" id="S1.p3.1">Since branch prediction is performed in a higher-dimensional outer layer, our method is transparent to the improvement of SiMT models, and it can be combined with any SiMT model <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib7" title="">7</a>, <a class="ltx_ref" href="#bib.bib8" title="">8</a>, <a class="ltx_ref" href="#bib.bib9" title="">9</a>, <a class="ltx_ref" href="#bib.bib10" title="">10</a>]</cite>.
In fact, our proposed method is also applicable to other modal simultaneous translation tasks, such as speec<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib11" title="">11</a>, <a class="ltx_ref" href="#bib.bib12" title="">12</a>]</cite>, vision<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib13" title="">13</a>, <a class="ltx_ref" href="#bib.bib14" title="">14</a>, <a class="ltx_ref" href="#bib.bib15" title="">15</a>, <a class="ltx_ref" href="#bib.bib16" title="">16</a>]</cite>, etc., as long as the input is discretized and the corresponding language model is constructed.
In addition, our method does not affect the final translation results due to the existence of the retraction mechanism.
Experimental results on two translation benchmarks, IWSLT15 en-vi <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib17" title="">17</a>]</cite> and WMT15 en-de <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib18" title="">18</a>]</cite>, show that our method reduces latency while maintaining translation quality for both fixed <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib3" title="">3</a>]</cite> and adaptive <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib5" title="">5</a>]</cite> SiMT policy.
We also explore introducing pre-trained language models as shared encoders and branch predictors in SiMT, and the experimental results show that this method can significantly improve translation quality and latency.
</p>
</div>
</section>
<section class="ltx_section" id="S2">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>EVALUATION</h2>
<div class="ltx_para" id="S2.p1">
<p class="ltx_p" id="S2.p1.10">We adopt the evaluation framework proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib19" title="">19</a>]</cite>, which includes latency, stability, and quality metrics.
Translation quality is measured by calculating the BLEU <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib20" title="">20</a>]</cite> score of the final translated output.
Most latency metrics are based on a delay vector <math alttext="g" class="ltx_Math" display="inline" id="S2.p1.1.m1.1"><semantics id="S2.p1.1.m1.1a"><mi id="S2.p1.1.m1.1.1" xref="S2.p1.1.m1.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S2.p1.1.m1.1b"><ci id="S2.p1.1.m1.1.1.cmml" xref="S2.p1.1.m1.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.1.m1.1c">g</annotation><annotation encoding="application/x-llamapun" id="S2.p1.1.m1.1d">italic_g</annotation></semantics></math>, where <math alttext="g_{j}" class="ltx_Math" display="inline" id="S2.p1.2.m2.1"><semantics id="S2.p1.2.m2.1a"><msub id="S2.p1.2.m2.1.1" xref="S2.p1.2.m2.1.1.cmml"><mi id="S2.p1.2.m2.1.1.2" xref="S2.p1.2.m2.1.1.2.cmml">g</mi><mi id="S2.p1.2.m2.1.1.3" xref="S2.p1.2.m2.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p1.2.m2.1b"><apply id="S2.p1.2.m2.1.1.cmml" xref="S2.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S2.p1.2.m2.1.1.1.cmml" xref="S2.p1.2.m2.1.1">subscript</csymbol><ci id="S2.p1.2.m2.1.1.2.cmml" xref="S2.p1.2.m2.1.1.2">𝑔</ci><ci id="S2.p1.2.m2.1.1.3.cmml" xref="S2.p1.2.m2.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.2.m2.1c">g_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.2.m2.1d">italic_g start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> reports how many source tokens were read before writing the <math alttext="j^{\mathit{th}}" class="ltx_Math" display="inline" id="S2.p1.3.m3.1"><semantics id="S2.p1.3.m3.1a"><msup id="S2.p1.3.m3.1.1" xref="S2.p1.3.m3.1.1.cmml"><mi id="S2.p1.3.m3.1.1.2" xref="S2.p1.3.m3.1.1.2.cmml">j</mi><mi id="S2.p1.3.m3.1.1.3" xref="S2.p1.3.m3.1.1.3.cmml">𝑡ℎ</mi></msup><annotation-xml encoding="MathML-Content" id="S2.p1.3.m3.1b"><apply id="S2.p1.3.m3.1.1.cmml" xref="S2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.p1.3.m3.1.1.1.cmml" xref="S2.p1.3.m3.1.1">superscript</csymbol><ci id="S2.p1.3.m3.1.1.2.cmml" xref="S2.p1.3.m3.1.1.2">𝑗</ci><ci id="S2.p1.3.m3.1.1.3.cmml" xref="S2.p1.3.m3.1.1.3">𝑡ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.3.m3.1c">j^{\mathit{th}}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.3.m3.1d">italic_j start_POSTSUPERSCRIPT italic_th end_POSTSUPERSCRIPT</annotation></semantics></math> target token.
Let <math alttext="o_{i,j}" class="ltx_Math" display="inline" id="S2.p1.4.m4.2"><semantics id="S2.p1.4.m4.2a"><msub id="S2.p1.4.m4.2.3" xref="S2.p1.4.m4.2.3.cmml"><mi id="S2.p1.4.m4.2.3.2" xref="S2.p1.4.m4.2.3.2.cmml">o</mi><mrow id="S2.p1.4.m4.2.2.2.4" xref="S2.p1.4.m4.2.2.2.3.cmml"><mi id="S2.p1.4.m4.1.1.1.1" xref="S2.p1.4.m4.1.1.1.1.cmml">i</mi><mo id="S2.p1.4.m4.2.2.2.4.1" xref="S2.p1.4.m4.2.2.2.3.cmml">,</mo><mi id="S2.p1.4.m4.2.2.2.2" xref="S2.p1.4.m4.2.2.2.2.cmml">j</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S2.p1.4.m4.2b"><apply id="S2.p1.4.m4.2.3.cmml" xref="S2.p1.4.m4.2.3"><csymbol cd="ambiguous" id="S2.p1.4.m4.2.3.1.cmml" xref="S2.p1.4.m4.2.3">subscript</csymbol><ci id="S2.p1.4.m4.2.3.2.cmml" xref="S2.p1.4.m4.2.3.2">𝑜</ci><list id="S2.p1.4.m4.2.2.2.3.cmml" xref="S2.p1.4.m4.2.2.2.4"><ci id="S2.p1.4.m4.1.1.1.1.cmml" xref="S2.p1.4.m4.1.1.1.1">𝑖</ci><ci id="S2.p1.4.m4.2.2.2.2.cmml" xref="S2.p1.4.m4.2.2.2.2">𝑗</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.4.m4.2c">o_{i,j}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.4.m4.2d">italic_o start_POSTSUBSCRIPT italic_i , italic_j end_POSTSUBSCRIPT</annotation></semantics></math> be the <math alttext="j^{\mathit{th}}" class="ltx_Math" display="inline" id="S2.p1.5.m5.1"><semantics id="S2.p1.5.m5.1a"><msup id="S2.p1.5.m5.1.1" xref="S2.p1.5.m5.1.1.cmml"><mi id="S2.p1.5.m5.1.1.2" xref="S2.p1.5.m5.1.1.2.cmml">j</mi><mi id="S2.p1.5.m5.1.1.3" xref="S2.p1.5.m5.1.1.3.cmml">𝑡ℎ</mi></msup><annotation-xml encoding="MathML-Content" id="S2.p1.5.m5.1b"><apply id="S2.p1.5.m5.1.1.cmml" xref="S2.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.p1.5.m5.1.1.1.cmml" xref="S2.p1.5.m5.1.1">superscript</csymbol><ci id="S2.p1.5.m5.1.1.2.cmml" xref="S2.p1.5.m5.1.1.2">𝑗</ci><ci id="S2.p1.5.m5.1.1.3.cmml" xref="S2.p1.5.m5.1.1.3">𝑡ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.5.m5.1c">j^{\mathit{th}}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.5.m5.1d">italic_j start_POSTSUPERSCRIPT italic_th end_POSTSUPERSCRIPT</annotation></semantics></math> token of the <math alttext="i^{\mathit{th}}" class="ltx_Math" display="inline" id="S2.p1.6.m6.1"><semantics id="S2.p1.6.m6.1a"><msup id="S2.p1.6.m6.1.1" xref="S2.p1.6.m6.1.1.cmml"><mi id="S2.p1.6.m6.1.1.2" xref="S2.p1.6.m6.1.1.2.cmml">i</mi><mi id="S2.p1.6.m6.1.1.3" xref="S2.p1.6.m6.1.1.3.cmml">𝑡ℎ</mi></msup><annotation-xml encoding="MathML-Content" id="S2.p1.6.m6.1b"><apply id="S2.p1.6.m6.1.1.cmml" xref="S2.p1.6.m6.1.1"><csymbol cd="ambiguous" id="S2.p1.6.m6.1.1.1.cmml" xref="S2.p1.6.m6.1.1">superscript</csymbol><ci id="S2.p1.6.m6.1.1.2.cmml" xref="S2.p1.6.m6.1.1.2">𝑖</ci><ci id="S2.p1.6.m6.1.1.3.cmml" xref="S2.p1.6.m6.1.1.3">𝑡ℎ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.6.m6.1c">i^{\mathit{th}}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.6.m6.1d">italic_i start_POSTSUPERSCRIPT italic_th end_POSTSUPERSCRIPT</annotation></semantics></math> output
in a SiMT; <math alttext="1\leq i\leq I" class="ltx_Math" display="inline" id="S2.p1.7.m7.1"><semantics id="S2.p1.7.m7.1a"><mrow id="S2.p1.7.m7.1.1" xref="S2.p1.7.m7.1.1.cmml"><mn id="S2.p1.7.m7.1.1.2" xref="S2.p1.7.m7.1.1.2.cmml">1</mn><mo id="S2.p1.7.m7.1.1.3" xref="S2.p1.7.m7.1.1.3.cmml">≤</mo><mi id="S2.p1.7.m7.1.1.4" xref="S2.p1.7.m7.1.1.4.cmml">i</mi><mo id="S2.p1.7.m7.1.1.5" xref="S2.p1.7.m7.1.1.5.cmml">≤</mo><mi id="S2.p1.7.m7.1.1.6" xref="S2.p1.7.m7.1.1.6.cmml">I</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.7.m7.1b"><apply id="S2.p1.7.m7.1.1.cmml" xref="S2.p1.7.m7.1.1"><and id="S2.p1.7.m7.1.1a.cmml" xref="S2.p1.7.m7.1.1"></and><apply id="S2.p1.7.m7.1.1b.cmml" xref="S2.p1.7.m7.1.1"><leq id="S2.p1.7.m7.1.1.3.cmml" xref="S2.p1.7.m7.1.1.3"></leq><cn id="S2.p1.7.m7.1.1.2.cmml" type="integer" xref="S2.p1.7.m7.1.1.2">1</cn><ci id="S2.p1.7.m7.1.1.4.cmml" xref="S2.p1.7.m7.1.1.4">𝑖</ci></apply><apply id="S2.p1.7.m7.1.1c.cmml" xref="S2.p1.7.m7.1.1"><leq id="S2.p1.7.m7.1.1.5.cmml" xref="S2.p1.7.m7.1.1.5"></leq><share href="#S2.p1.7.m7.1.1.4.cmml" id="S2.p1.7.m7.1.1d.cmml" xref="S2.p1.7.m7.1.1"></share><ci id="S2.p1.7.m7.1.1.6.cmml" xref="S2.p1.7.m7.1.1.6">𝐼</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.7.m7.1c">1\leq i\leq I</annotation><annotation encoding="application/x-llamapun" id="S2.p1.7.m7.1d">1 ≤ italic_i ≤ italic_I</annotation></semantics></math> and <math alttext="1\leq j\leq J" class="ltx_Math" display="inline" id="S2.p1.8.m8.1"><semantics id="S2.p1.8.m8.1a"><mrow id="S2.p1.8.m8.1.1" xref="S2.p1.8.m8.1.1.cmml"><mn id="S2.p1.8.m8.1.1.2" xref="S2.p1.8.m8.1.1.2.cmml">1</mn><mo id="S2.p1.8.m8.1.1.3" xref="S2.p1.8.m8.1.1.3.cmml">≤</mo><mi id="S2.p1.8.m8.1.1.4" xref="S2.p1.8.m8.1.1.4.cmml">j</mi><mo id="S2.p1.8.m8.1.1.5" xref="S2.p1.8.m8.1.1.5.cmml">≤</mo><mi id="S2.p1.8.m8.1.1.6" xref="S2.p1.8.m8.1.1.6.cmml">J</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.p1.8.m8.1b"><apply id="S2.p1.8.m8.1.1.cmml" xref="S2.p1.8.m8.1.1"><and id="S2.p1.8.m8.1.1a.cmml" xref="S2.p1.8.m8.1.1"></and><apply id="S2.p1.8.m8.1.1b.cmml" xref="S2.p1.8.m8.1.1"><leq id="S2.p1.8.m8.1.1.3.cmml" xref="S2.p1.8.m8.1.1.3"></leq><cn id="S2.p1.8.m8.1.1.2.cmml" type="integer" xref="S2.p1.8.m8.1.1.2">1</cn><ci id="S2.p1.8.m8.1.1.4.cmml" xref="S2.p1.8.m8.1.1.4">𝑗</ci></apply><apply id="S2.p1.8.m8.1.1c.cmml" xref="S2.p1.8.m8.1.1"><leq id="S2.p1.8.m8.1.1.5.cmml" xref="S2.p1.8.m8.1.1.5"></leq><share href="#S2.p1.8.m8.1.1.4.cmml" id="S2.p1.8.m8.1.1d.cmml" xref="S2.p1.8.m8.1.1"></share><ci id="S2.p1.8.m8.1.1.6.cmml" xref="S2.p1.8.m8.1.1.6">𝐽</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.8.m8.1c">1\leq j\leq J</annotation><annotation encoding="application/x-llamapun" id="S2.p1.8.m8.1d">1 ≤ italic_j ≤ italic_J</annotation></semantics></math>.
For each position <math alttext="j" class="ltx_Math" display="inline" id="S2.p1.9.m9.1"><semantics id="S2.p1.9.m9.1a"><mi id="S2.p1.9.m9.1.1" xref="S2.p1.9.m9.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.p1.9.m9.1b"><ci id="S2.p1.9.m9.1.1.cmml" xref="S2.p1.9.m9.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.9.m9.1c">j</annotation><annotation encoding="application/x-llamapun" id="S2.p1.9.m9.1d">italic_j</annotation></semantics></math> in the final output, we define <math alttext="g_{j}" class="ltx_Math" display="inline" id="S2.p1.10.m10.1"><semantics id="S2.p1.10.m10.1a"><msub id="S2.p1.10.m10.1.1" xref="S2.p1.10.m10.1.1.cmml"><mi id="S2.p1.10.m10.1.1.2" xref="S2.p1.10.m10.1.1.2.cmml">g</mi><mi id="S2.p1.10.m10.1.1.3" xref="S2.p1.10.m10.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S2.p1.10.m10.1b"><apply id="S2.p1.10.m10.1.1.cmml" xref="S2.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S2.p1.10.m10.1.1.1.cmml" xref="S2.p1.10.m10.1.1">subscript</csymbol><ci id="S2.p1.10.m10.1.1.2.cmml" xref="S2.p1.10.m10.1.1.2">𝑔</ci><ci id="S2.p1.10.m10.1.1.3.cmml" xref="S2.p1.10.m10.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.10.m10.1c">g_{j}</annotation><annotation encoding="application/x-llamapun" id="S2.p1.10.m10.1d">italic_g start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT</annotation></semantics></math> as:</p>
<table class="ltx_equation ltx_eqn_table" id="S2.E1">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="g_{j}=\min_{i}\textrm{ s.t. }{o}_{i^{\prime},j^{\prime}}={o}_{I,j^{\prime}}\;%
\forall i^{\prime}\geq i\;\mathrm{and}\;\forall j^{\prime}\leq j" class="ltx_Math" display="block" id="S2.E1.m1.4"><semantics id="S2.E1.m1.4a"><mrow id="S2.E1.m1.4.5" xref="S2.E1.m1.4.5.cmml"><msub id="S2.E1.m1.4.5.2" xref="S2.E1.m1.4.5.2.cmml"><mi id="S2.E1.m1.4.5.2.2" xref="S2.E1.m1.4.5.2.2.cmml">g</mi><mi id="S2.E1.m1.4.5.2.3" xref="S2.E1.m1.4.5.2.3.cmml">j</mi></msub><mo id="S2.E1.m1.4.5.3" xref="S2.E1.m1.4.5.3.cmml">=</mo><mrow id="S2.E1.m1.4.5.4" xref="S2.E1.m1.4.5.4.cmml"><munder id="S2.E1.m1.4.5.4.1" xref="S2.E1.m1.4.5.4.1.cmml"><mi id="S2.E1.m1.4.5.4.1.2" xref="S2.E1.m1.4.5.4.1.2.cmml">min</mi><mi id="S2.E1.m1.4.5.4.1.3" xref="S2.E1.m1.4.5.4.1.3.cmml">i</mi></munder><mo id="S2.E1.m1.4.5.4a" lspace="0.167em" xref="S2.E1.m1.4.5.4.cmml">⁡</mo><mrow id="S2.E1.m1.4.5.4.2" xref="S2.E1.m1.4.5.4.2.cmml"><mtext id="S2.E1.m1.4.5.4.2.2" xref="S2.E1.m1.4.5.4.2.2a.cmml"> s.t. </mtext><mo id="S2.E1.m1.4.5.4.2.1" xref="S2.E1.m1.4.5.4.2.1.cmml">⁢</mo><msub id="S2.E1.m1.4.5.4.2.3" xref="S2.E1.m1.4.5.4.2.3.cmml"><mi id="S2.E1.m1.4.5.4.2.3.2" xref="S2.E1.m1.4.5.4.2.3.2.cmml">o</mi><mrow id="S2.E1.m1.2.2.2.2" xref="S2.E1.m1.2.2.2.3.cmml"><msup id="S2.E1.m1.1.1.1.1.1" xref="S2.E1.m1.1.1.1.1.1.cmml"><mi id="S2.E1.m1.1.1.1.1.1.2" xref="S2.E1.m1.1.1.1.1.1.2.cmml">i</mi><mo id="S2.E1.m1.1.1.1.1.1.3" xref="S2.E1.m1.1.1.1.1.1.3.cmml">′</mo></msup><mo id="S2.E1.m1.2.2.2.2.3" xref="S2.E1.m1.2.2.2.3.cmml">,</mo><msup id="S2.E1.m1.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.cmml"><mi id="S2.E1.m1.2.2.2.2.2.2" xref="S2.E1.m1.2.2.2.2.2.2.cmml">j</mi><mo id="S2.E1.m1.2.2.2.2.2.3" xref="S2.E1.m1.2.2.2.2.2.3.cmml">′</mo></msup></mrow></msub></mrow></mrow><mo id="S2.E1.m1.4.5.5" xref="S2.E1.m1.4.5.5.cmml">=</mo><mrow id="S2.E1.m1.4.5.6" xref="S2.E1.m1.4.5.6.cmml"><msub id="S2.E1.m1.4.5.6.2" xref="S2.E1.m1.4.5.6.2.cmml"><mi id="S2.E1.m1.4.5.6.2.2" xref="S2.E1.m1.4.5.6.2.2.cmml">o</mi><mrow id="S2.E1.m1.4.4.2.2" xref="S2.E1.m1.4.4.2.3.cmml"><mi id="S2.E1.m1.3.3.1.1" xref="S2.E1.m1.3.3.1.1.cmml">I</mi><mo id="S2.E1.m1.4.4.2.2.2" xref="S2.E1.m1.4.4.2.3.cmml">,</mo><msup id="S2.E1.m1.4.4.2.2.1" xref="S2.E1.m1.4.4.2.2.1.cmml"><mi id="S2.E1.m1.4.4.2.2.1.2" xref="S2.E1.m1.4.4.2.2.1.2.cmml">j</mi><mo id="S2.E1.m1.4.4.2.2.1.3" xref="S2.E1.m1.4.4.2.2.1.3.cmml">′</mo></msup></mrow></msub><mo id="S2.E1.m1.4.5.6.1" lspace="0.167em" xref="S2.E1.m1.4.5.6.1.cmml">⁢</mo><mrow id="S2.E1.m1.4.5.6.3" xref="S2.E1.m1.4.5.6.3.cmml"><mo id="S2.E1.m1.4.5.6.3.1" rspace="0.167em" xref="S2.E1.m1.4.5.6.3.1.cmml">∀</mo><msup id="S2.E1.m1.4.5.6.3.2" xref="S2.E1.m1.4.5.6.3.2.cmml"><mi id="S2.E1.m1.4.5.6.3.2.2" xref="S2.E1.m1.4.5.6.3.2.2.cmml">i</mi><mo id="S2.E1.m1.4.5.6.3.2.3" xref="S2.E1.m1.4.5.6.3.2.3.cmml">′</mo></msup></mrow></mrow><mo id="S2.E1.m1.4.5.7" xref="S2.E1.m1.4.5.7.cmml">≥</mo><mrow id="S2.E1.m1.4.5.8" xref="S2.E1.m1.4.5.8.cmml"><mi id="S2.E1.m1.4.5.8.2" xref="S2.E1.m1.4.5.8.2.cmml">i</mi><mo id="S2.E1.m1.4.5.8.1" lspace="0.280em" xref="S2.E1.m1.4.5.8.1.cmml">⁢</mo><mi id="S2.E1.m1.4.5.8.3" xref="S2.E1.m1.4.5.8.3.cmml">and</mi><mo id="S2.E1.m1.4.5.8.1a" lspace="0.447em" xref="S2.E1.m1.4.5.8.1.cmml">⁢</mo><mrow id="S2.E1.m1.4.5.8.4" xref="S2.E1.m1.4.5.8.4.cmml"><mo id="S2.E1.m1.4.5.8.4.1" rspace="0.167em" xref="S2.E1.m1.4.5.8.4.1.cmml">∀</mo><msup id="S2.E1.m1.4.5.8.4.2" xref="S2.E1.m1.4.5.8.4.2.cmml"><mi id="S2.E1.m1.4.5.8.4.2.2" xref="S2.E1.m1.4.5.8.4.2.2.cmml">j</mi><mo id="S2.E1.m1.4.5.8.4.2.3" xref="S2.E1.m1.4.5.8.4.2.3.cmml">′</mo></msup></mrow></mrow><mo id="S2.E1.m1.4.5.9" xref="S2.E1.m1.4.5.9.cmml">≤</mo><mi id="S2.E1.m1.4.5.10" xref="S2.E1.m1.4.5.10.cmml">j</mi></mrow><annotation-xml encoding="MathML-Content" id="S2.E1.m1.4b"><apply id="S2.E1.m1.4.5.cmml" xref="S2.E1.m1.4.5"><and id="S2.E1.m1.4.5a.cmml" xref="S2.E1.m1.4.5"></and><apply id="S2.E1.m1.4.5b.cmml" xref="S2.E1.m1.4.5"><eq id="S2.E1.m1.4.5.3.cmml" xref="S2.E1.m1.4.5.3"></eq><apply id="S2.E1.m1.4.5.2.cmml" xref="S2.E1.m1.4.5.2"><csymbol cd="ambiguous" id="S2.E1.m1.4.5.2.1.cmml" xref="S2.E1.m1.4.5.2">subscript</csymbol><ci id="S2.E1.m1.4.5.2.2.cmml" xref="S2.E1.m1.4.5.2.2">𝑔</ci><ci id="S2.E1.m1.4.5.2.3.cmml" xref="S2.E1.m1.4.5.2.3">𝑗</ci></apply><apply id="S2.E1.m1.4.5.4.cmml" xref="S2.E1.m1.4.5.4"><apply id="S2.E1.m1.4.5.4.1.cmml" xref="S2.E1.m1.4.5.4.1"><csymbol cd="ambiguous" id="S2.E1.m1.4.5.4.1.1.cmml" xref="S2.E1.m1.4.5.4.1">subscript</csymbol><min id="S2.E1.m1.4.5.4.1.2.cmml" xref="S2.E1.m1.4.5.4.1.2"></min><ci id="S2.E1.m1.4.5.4.1.3.cmml" xref="S2.E1.m1.4.5.4.1.3">𝑖</ci></apply><apply id="S2.E1.m1.4.5.4.2.cmml" xref="S2.E1.m1.4.5.4.2"><times id="S2.E1.m1.4.5.4.2.1.cmml" xref="S2.E1.m1.4.5.4.2.1"></times><ci id="S2.E1.m1.4.5.4.2.2a.cmml" xref="S2.E1.m1.4.5.4.2.2"><mtext id="S2.E1.m1.4.5.4.2.2.cmml" xref="S2.E1.m1.4.5.4.2.2"> s.t. </mtext></ci><apply id="S2.E1.m1.4.5.4.2.3.cmml" xref="S2.E1.m1.4.5.4.2.3"><csymbol cd="ambiguous" id="S2.E1.m1.4.5.4.2.3.1.cmml" xref="S2.E1.m1.4.5.4.2.3">subscript</csymbol><ci id="S2.E1.m1.4.5.4.2.3.2.cmml" xref="S2.E1.m1.4.5.4.2.3.2">𝑜</ci><list id="S2.E1.m1.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2"><apply id="S2.E1.m1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S2.E1.m1.1.1.1.1.1.1.cmml" xref="S2.E1.m1.1.1.1.1.1">superscript</csymbol><ci id="S2.E1.m1.1.1.1.1.1.2.cmml" xref="S2.E1.m1.1.1.1.1.1.2">𝑖</ci><ci id="S2.E1.m1.1.1.1.1.1.3.cmml" xref="S2.E1.m1.1.1.1.1.1.3">′</ci></apply><apply id="S2.E1.m1.2.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S2.E1.m1.2.2.2.2.2.1.cmml" xref="S2.E1.m1.2.2.2.2.2">superscript</csymbol><ci id="S2.E1.m1.2.2.2.2.2.2.cmml" xref="S2.E1.m1.2.2.2.2.2.2">𝑗</ci><ci id="S2.E1.m1.2.2.2.2.2.3.cmml" xref="S2.E1.m1.2.2.2.2.2.3">′</ci></apply></list></apply></apply></apply></apply><apply id="S2.E1.m1.4.5c.cmml" xref="S2.E1.m1.4.5"><eq id="S2.E1.m1.4.5.5.cmml" xref="S2.E1.m1.4.5.5"></eq><share href="#S2.E1.m1.4.5.4.cmml" id="S2.E1.m1.4.5d.cmml" xref="S2.E1.m1.4.5"></share><apply id="S2.E1.m1.4.5.6.cmml" xref="S2.E1.m1.4.5.6"><times id="S2.E1.m1.4.5.6.1.cmml" xref="S2.E1.m1.4.5.6.1"></times><apply id="S2.E1.m1.4.5.6.2.cmml" xref="S2.E1.m1.4.5.6.2"><csymbol cd="ambiguous" id="S2.E1.m1.4.5.6.2.1.cmml" xref="S2.E1.m1.4.5.6.2">subscript</csymbol><ci id="S2.E1.m1.4.5.6.2.2.cmml" xref="S2.E1.m1.4.5.6.2.2">𝑜</ci><list id="S2.E1.m1.4.4.2.3.cmml" xref="S2.E1.m1.4.4.2.2"><ci id="S2.E1.m1.3.3.1.1.cmml" xref="S2.E1.m1.3.3.1.1">𝐼</ci><apply id="S2.E1.m1.4.4.2.2.1.cmml" xref="S2.E1.m1.4.4.2.2.1"><csymbol cd="ambiguous" id="S2.E1.m1.4.4.2.2.1.1.cmml" xref="S2.E1.m1.4.4.2.2.1">superscript</csymbol><ci id="S2.E1.m1.4.4.2.2.1.2.cmml" xref="S2.E1.m1.4.4.2.2.1.2">𝑗</ci><ci id="S2.E1.m1.4.4.2.2.1.3.cmml" xref="S2.E1.m1.4.4.2.2.1.3">′</ci></apply></list></apply><apply id="S2.E1.m1.4.5.6.3.cmml" xref="S2.E1.m1.4.5.6.3"><csymbol cd="latexml" id="S2.E1.m1.4.5.6.3.1.cmml" xref="S2.E1.m1.4.5.6.3.1">for-all</csymbol><apply id="S2.E1.m1.4.5.6.3.2.cmml" xref="S2.E1.m1.4.5.6.3.2"><csymbol cd="ambiguous" id="S2.E1.m1.4.5.6.3.2.1.cmml" xref="S2.E1.m1.4.5.6.3.2">superscript</csymbol><ci id="S2.E1.m1.4.5.6.3.2.2.cmml" xref="S2.E1.m1.4.5.6.3.2.2">𝑖</ci><ci id="S2.E1.m1.4.5.6.3.2.3.cmml" xref="S2.E1.m1.4.5.6.3.2.3">′</ci></apply></apply></apply></apply><apply id="S2.E1.m1.4.5e.cmml" xref="S2.E1.m1.4.5"><geq id="S2.E1.m1.4.5.7.cmml" xref="S2.E1.m1.4.5.7"></geq><share href="#S2.E1.m1.4.5.6.cmml" id="S2.E1.m1.4.5f.cmml" xref="S2.E1.m1.4.5"></share><apply id="S2.E1.m1.4.5.8.cmml" xref="S2.E1.m1.4.5.8"><times id="S2.E1.m1.4.5.8.1.cmml" xref="S2.E1.m1.4.5.8.1"></times><ci id="S2.E1.m1.4.5.8.2.cmml" xref="S2.E1.m1.4.5.8.2">𝑖</ci><ci id="S2.E1.m1.4.5.8.3.cmml" xref="S2.E1.m1.4.5.8.3">and</ci><apply id="S2.E1.m1.4.5.8.4.cmml" xref="S2.E1.m1.4.5.8.4"><csymbol cd="latexml" id="S2.E1.m1.4.5.8.4.1.cmml" xref="S2.E1.m1.4.5.8.4.1">for-all</csymbol><apply id="S2.E1.m1.4.5.8.4.2.cmml" xref="S2.E1.m1.4.5.8.4.2"><csymbol cd="ambiguous" id="S2.E1.m1.4.5.8.4.2.1.cmml" xref="S2.E1.m1.4.5.8.4.2">superscript</csymbol><ci id="S2.E1.m1.4.5.8.4.2.2.cmml" xref="S2.E1.m1.4.5.8.4.2.2">𝑗</ci><ci id="S2.E1.m1.4.5.8.4.2.3.cmml" xref="S2.E1.m1.4.5.8.4.2.3">′</ci></apply></apply></apply></apply><apply id="S2.E1.m1.4.5g.cmml" xref="S2.E1.m1.4.5"><leq id="S2.E1.m1.4.5.9.cmml" xref="S2.E1.m1.4.5.9"></leq><share href="#S2.E1.m1.4.5.8.cmml" id="S2.E1.m1.4.5h.cmml" xref="S2.E1.m1.4.5"></share><ci id="S2.E1.m1.4.5.10.cmml" xref="S2.E1.m1.4.5.10">𝑗</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E1.m1.4c">g_{j}=\min_{i}\textrm{ s.t. }{o}_{i^{\prime},j^{\prime}}={o}_{I,j^{\prime}}\;%
\forall i^{\prime}\geq i\;\mathrm{and}\;\forall j^{\prime}\leq j</annotation><annotation encoding="application/x-llamapun" id="S2.E1.m1.4d">italic_g start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = roman_min start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT s.t. italic_o start_POSTSUBSCRIPT italic_i start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT , italic_j start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT = italic_o start_POSTSUBSCRIPT italic_I , italic_j start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT end_POSTSUBSCRIPT ∀ italic_i start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ≥ italic_i roman_and ∀ italic_j start_POSTSUPERSCRIPT ′ end_POSTSUPERSCRIPT ≤ italic_j</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S2.p1.12">that is, the number of source tokens read before the prefix ending in <math alttext="j" class="ltx_Math" display="inline" id="S2.p1.11.m1.1"><semantics id="S2.p1.11.m1.1a"><mi id="S2.p1.11.m1.1.1" xref="S2.p1.11.m1.1.1.cmml">j</mi><annotation-xml encoding="MathML-Content" id="S2.p1.11.m1.1b"><ci id="S2.p1.11.m1.1.1.cmml" xref="S2.p1.11.m1.1.1">𝑗</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.11.m1.1c">j</annotation><annotation encoding="application/x-llamapun" id="S2.p1.11.m1.1d">italic_j</annotation></semantics></math> took on its final value.
Based on the delay vector <math alttext="g" class="ltx_Math" display="inline" id="S2.p1.12.m2.1"><semantics id="S2.p1.12.m2.1a"><mi id="S2.p1.12.m2.1.1" xref="S2.p1.12.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="S2.p1.12.m2.1b"><ci id="S2.p1.12.m2.1.1.cmml" xref="S2.p1.12.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p1.12.m2.1c">g</annotation><annotation encoding="application/x-llamapun" id="S2.p1.12.m2.1d">italic_g</annotation></semantics></math>, we use the Average Lagging (AL) metric <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib5" title="">5</a>]</cite> to quantify translation latency.</p>
</div>
<div class="ltx_para" id="S2.p2">
<table class="ltx_equation ltx_eqn_table" id="S2.E2">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathrm{AL}=\frac{1}{J}\sum_{j=1}^{J}g_{j}-\frac{j-1}{J/I}" class="ltx_Math" display="block" id="S2.E2.m1.1"><semantics id="S2.E2.m1.1a"><mrow id="S2.E2.m1.1.1" xref="S2.E2.m1.1.1.cmml"><mi id="S2.E2.m1.1.1.2" xref="S2.E2.m1.1.1.2.cmml">AL</mi><mo id="S2.E2.m1.1.1.1" xref="S2.E2.m1.1.1.1.cmml">=</mo><mrow id="S2.E2.m1.1.1.3" xref="S2.E2.m1.1.1.3.cmml"><mrow id="S2.E2.m1.1.1.3.2" xref="S2.E2.m1.1.1.3.2.cmml"><mfrac id="S2.E2.m1.1.1.3.2.2" xref="S2.E2.m1.1.1.3.2.2.cmml"><mn id="S2.E2.m1.1.1.3.2.2.2" xref="S2.E2.m1.1.1.3.2.2.2.cmml">1</mn><mi id="S2.E2.m1.1.1.3.2.2.3" xref="S2.E2.m1.1.1.3.2.2.3.cmml">J</mi></mfrac><mo id="S2.E2.m1.1.1.3.2.1" xref="S2.E2.m1.1.1.3.2.1.cmml">⁢</mo><mrow id="S2.E2.m1.1.1.3.2.3" xref="S2.E2.m1.1.1.3.2.3.cmml"><munderover id="S2.E2.m1.1.1.3.2.3.1" xref="S2.E2.m1.1.1.3.2.3.1.cmml"><mo id="S2.E2.m1.1.1.3.2.3.1.2.2" movablelimits="false" xref="S2.E2.m1.1.1.3.2.3.1.2.2.cmml">∑</mo><mrow id="S2.E2.m1.1.1.3.2.3.1.2.3" xref="S2.E2.m1.1.1.3.2.3.1.2.3.cmml"><mi id="S2.E2.m1.1.1.3.2.3.1.2.3.2" xref="S2.E2.m1.1.1.3.2.3.1.2.3.2.cmml">j</mi><mo id="S2.E2.m1.1.1.3.2.3.1.2.3.1" xref="S2.E2.m1.1.1.3.2.3.1.2.3.1.cmml">=</mo><mn id="S2.E2.m1.1.1.3.2.3.1.2.3.3" xref="S2.E2.m1.1.1.3.2.3.1.2.3.3.cmml">1</mn></mrow><mi id="S2.E2.m1.1.1.3.2.3.1.3" xref="S2.E2.m1.1.1.3.2.3.1.3.cmml">J</mi></munderover><msub id="S2.E2.m1.1.1.3.2.3.2" xref="S2.E2.m1.1.1.3.2.3.2.cmml"><mi id="S2.E2.m1.1.1.3.2.3.2.2" xref="S2.E2.m1.1.1.3.2.3.2.2.cmml">g</mi><mi id="S2.E2.m1.1.1.3.2.3.2.3" xref="S2.E2.m1.1.1.3.2.3.2.3.cmml">j</mi></msub></mrow></mrow><mo id="S2.E2.m1.1.1.3.1" xref="S2.E2.m1.1.1.3.1.cmml">−</mo><mfrac id="S2.E2.m1.1.1.3.3" xref="S2.E2.m1.1.1.3.3.cmml"><mrow id="S2.E2.m1.1.1.3.3.2" xref="S2.E2.m1.1.1.3.3.2.cmml"><mi id="S2.E2.m1.1.1.3.3.2.2" xref="S2.E2.m1.1.1.3.3.2.2.cmml">j</mi><mo id="S2.E2.m1.1.1.3.3.2.1" xref="S2.E2.m1.1.1.3.3.2.1.cmml">−</mo><mn id="S2.E2.m1.1.1.3.3.2.3" xref="S2.E2.m1.1.1.3.3.2.3.cmml">1</mn></mrow><mrow id="S2.E2.m1.1.1.3.3.3" xref="S2.E2.m1.1.1.3.3.3.cmml"><mi id="S2.E2.m1.1.1.3.3.3.2" xref="S2.E2.m1.1.1.3.3.3.2.cmml">J</mi><mo id="S2.E2.m1.1.1.3.3.3.1" xref="S2.E2.m1.1.1.3.3.3.1.cmml">/</mo><mi id="S2.E2.m1.1.1.3.3.3.3" xref="S2.E2.m1.1.1.3.3.3.3.cmml">I</mi></mrow></mfrac></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.E2.m1.1b"><apply id="S2.E2.m1.1.1.cmml" xref="S2.E2.m1.1.1"><eq id="S2.E2.m1.1.1.1.cmml" xref="S2.E2.m1.1.1.1"></eq><ci id="S2.E2.m1.1.1.2.cmml" xref="S2.E2.m1.1.1.2">AL</ci><apply id="S2.E2.m1.1.1.3.cmml" xref="S2.E2.m1.1.1.3"><minus id="S2.E2.m1.1.1.3.1.cmml" xref="S2.E2.m1.1.1.3.1"></minus><apply id="S2.E2.m1.1.1.3.2.cmml" xref="S2.E2.m1.1.1.3.2"><times id="S2.E2.m1.1.1.3.2.1.cmml" xref="S2.E2.m1.1.1.3.2.1"></times><apply id="S2.E2.m1.1.1.3.2.2.cmml" xref="S2.E2.m1.1.1.3.2.2"><divide id="S2.E2.m1.1.1.3.2.2.1.cmml" xref="S2.E2.m1.1.1.3.2.2"></divide><cn id="S2.E2.m1.1.1.3.2.2.2.cmml" type="integer" xref="S2.E2.m1.1.1.3.2.2.2">1</cn><ci id="S2.E2.m1.1.1.3.2.2.3.cmml" xref="S2.E2.m1.1.1.3.2.2.3">𝐽</ci></apply><apply id="S2.E2.m1.1.1.3.2.3.cmml" xref="S2.E2.m1.1.1.3.2.3"><apply id="S2.E2.m1.1.1.3.2.3.1.cmml" xref="S2.E2.m1.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.3.2.3.1.1.cmml" xref="S2.E2.m1.1.1.3.2.3.1">superscript</csymbol><apply id="S2.E2.m1.1.1.3.2.3.1.2.cmml" xref="S2.E2.m1.1.1.3.2.3.1"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.3.2.3.1.2.1.cmml" xref="S2.E2.m1.1.1.3.2.3.1">subscript</csymbol><sum id="S2.E2.m1.1.1.3.2.3.1.2.2.cmml" xref="S2.E2.m1.1.1.3.2.3.1.2.2"></sum><apply id="S2.E2.m1.1.1.3.2.3.1.2.3.cmml" xref="S2.E2.m1.1.1.3.2.3.1.2.3"><eq id="S2.E2.m1.1.1.3.2.3.1.2.3.1.cmml" xref="S2.E2.m1.1.1.3.2.3.1.2.3.1"></eq><ci id="S2.E2.m1.1.1.3.2.3.1.2.3.2.cmml" xref="S2.E2.m1.1.1.3.2.3.1.2.3.2">𝑗</ci><cn id="S2.E2.m1.1.1.3.2.3.1.2.3.3.cmml" type="integer" xref="S2.E2.m1.1.1.3.2.3.1.2.3.3">1</cn></apply></apply><ci id="S2.E2.m1.1.1.3.2.3.1.3.cmml" xref="S2.E2.m1.1.1.3.2.3.1.3">𝐽</ci></apply><apply id="S2.E2.m1.1.1.3.2.3.2.cmml" xref="S2.E2.m1.1.1.3.2.3.2"><csymbol cd="ambiguous" id="S2.E2.m1.1.1.3.2.3.2.1.cmml" xref="S2.E2.m1.1.1.3.2.3.2">subscript</csymbol><ci id="S2.E2.m1.1.1.3.2.3.2.2.cmml" xref="S2.E2.m1.1.1.3.2.3.2.2">𝑔</ci><ci id="S2.E2.m1.1.1.3.2.3.2.3.cmml" xref="S2.E2.m1.1.1.3.2.3.2.3">𝑗</ci></apply></apply></apply><apply id="S2.E2.m1.1.1.3.3.cmml" xref="S2.E2.m1.1.1.3.3"><divide id="S2.E2.m1.1.1.3.3.1.cmml" xref="S2.E2.m1.1.1.3.3"></divide><apply id="S2.E2.m1.1.1.3.3.2.cmml" xref="S2.E2.m1.1.1.3.3.2"><minus id="S2.E2.m1.1.1.3.3.2.1.cmml" xref="S2.E2.m1.1.1.3.3.2.1"></minus><ci id="S2.E2.m1.1.1.3.3.2.2.cmml" xref="S2.E2.m1.1.1.3.3.2.2">𝑗</ci><cn id="S2.E2.m1.1.1.3.3.2.3.cmml" type="integer" xref="S2.E2.m1.1.1.3.3.2.3">1</cn></apply><apply id="S2.E2.m1.1.1.3.3.3.cmml" xref="S2.E2.m1.1.1.3.3.3"><divide id="S2.E2.m1.1.1.3.3.3.1.cmml" xref="S2.E2.m1.1.1.3.3.3.1"></divide><ci id="S2.E2.m1.1.1.3.3.3.2.cmml" xref="S2.E2.m1.1.1.3.3.3.2">𝐽</ci><ci id="S2.E2.m1.1.1.3.3.3.3.cmml" xref="S2.E2.m1.1.1.3.3.3.3">𝐼</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.E2.m1.1c">\mathrm{AL}=\frac{1}{J}\sum_{j=1}^{J}g_{j}-\frac{j-1}{J/I}</annotation><annotation encoding="application/x-llamapun" id="S2.E2.m1.1d">roman_AL = divide start_ARG 1 end_ARG start_ARG italic_J end_ARG ∑ start_POSTSUBSCRIPT italic_j = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_J end_POSTSUPERSCRIPT italic_g start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT - divide start_ARG italic_j - 1 end_ARG start_ARG italic_J / italic_I end_ARG</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S2.p3">
<p class="ltx_p" id="S2.p3.2">To evaluate stability, we adopt the Average Withdrawal Rate (AWR), which is defined as <math alttext="AWR=W/J" class="ltx_Math" display="inline" id="S2.p3.1.m1.1"><semantics id="S2.p3.1.m1.1a"><mrow id="S2.p3.1.m1.1.1" xref="S2.p3.1.m1.1.1.cmml"><mrow id="S2.p3.1.m1.1.1.2" xref="S2.p3.1.m1.1.1.2.cmml"><mi id="S2.p3.1.m1.1.1.2.2" xref="S2.p3.1.m1.1.1.2.2.cmml">A</mi><mo id="S2.p3.1.m1.1.1.2.1" xref="S2.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S2.p3.1.m1.1.1.2.3" xref="S2.p3.1.m1.1.1.2.3.cmml">W</mi><mo id="S2.p3.1.m1.1.1.2.1a" xref="S2.p3.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S2.p3.1.m1.1.1.2.4" xref="S2.p3.1.m1.1.1.2.4.cmml">R</mi></mrow><mo id="S2.p3.1.m1.1.1.1" xref="S2.p3.1.m1.1.1.1.cmml">=</mo><mrow id="S2.p3.1.m1.1.1.3" xref="S2.p3.1.m1.1.1.3.cmml"><mi id="S2.p3.1.m1.1.1.3.2" xref="S2.p3.1.m1.1.1.3.2.cmml">W</mi><mo id="S2.p3.1.m1.1.1.3.1" xref="S2.p3.1.m1.1.1.3.1.cmml">/</mo><mi id="S2.p3.1.m1.1.1.3.3" xref="S2.p3.1.m1.1.1.3.3.cmml">J</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.p3.1.m1.1b"><apply id="S2.p3.1.m1.1.1.cmml" xref="S2.p3.1.m1.1.1"><eq id="S2.p3.1.m1.1.1.1.cmml" xref="S2.p3.1.m1.1.1.1"></eq><apply id="S2.p3.1.m1.1.1.2.cmml" xref="S2.p3.1.m1.1.1.2"><times id="S2.p3.1.m1.1.1.2.1.cmml" xref="S2.p3.1.m1.1.1.2.1"></times><ci id="S2.p3.1.m1.1.1.2.2.cmml" xref="S2.p3.1.m1.1.1.2.2">𝐴</ci><ci id="S2.p3.1.m1.1.1.2.3.cmml" xref="S2.p3.1.m1.1.1.2.3">𝑊</ci><ci id="S2.p3.1.m1.1.1.2.4.cmml" xref="S2.p3.1.m1.1.1.2.4">𝑅</ci></apply><apply id="S2.p3.1.m1.1.1.3.cmml" xref="S2.p3.1.m1.1.1.3"><divide id="S2.p3.1.m1.1.1.3.1.cmml" xref="S2.p3.1.m1.1.1.3.1"></divide><ci id="S2.p3.1.m1.1.1.3.2.cmml" xref="S2.p3.1.m1.1.1.3.2">𝑊</ci><ci id="S2.p3.1.m1.1.1.3.3.cmml" xref="S2.p3.1.m1.1.1.3.3">𝐽</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.1.m1.1c">AWR=W/J</annotation><annotation encoding="application/x-llamapun" id="S2.p3.1.m1.1d">italic_A italic_W italic_R = italic_W / italic_J</annotation></semantics></math>, where <math alttext="W" class="ltx_Math" display="inline" id="S2.p3.2.m2.1"><semantics id="S2.p3.2.m2.1a"><mi id="S2.p3.2.m2.1.1" xref="S2.p3.2.m2.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S2.p3.2.m2.1b"><ci id="S2.p3.2.m2.1.1.cmml" xref="S2.p3.2.m2.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.p3.2.m2.1c">W</annotation><annotation encoding="application/x-llamapun" id="S2.p3.2.m2.1d">italic_W</annotation></semantics></math> represents the number of withdrawals. In our work, AWR is equivalent to the NE metric proposed in <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib19" title="">19</a>]</cite>.</p>
</div>
</section>
<section class="ltx_section" id="S3">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Methodology</h2>
<section class="ltx_subsection" id="S3.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Branch Prediction for SiMT</h3>
<div class="ltx_para" id="S3.SS1.p1">
<p class="ltx_p" id="S3.SS1.p1.2">The branch prediction algorithm for SiMT is shown in Algorithm <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‣ 3.1 Branch Prediction for SiMT ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a>.
For the sake of convenience, we add a special token <math alttext="\phi" class="ltx_Math" display="inline" id="S3.SS1.p1.1.m1.1"><semantics id="S3.SS1.p1.1.m1.1a"><mi id="S3.SS1.p1.1.m1.1.1" xref="S3.SS1.p1.1.m1.1.1.cmml">ϕ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.1.m1.1b"><ci id="S3.SS1.p1.1.m1.1.1.cmml" xref="S3.SS1.p1.1.m1.1.1">italic-ϕ</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.1.m1.1c">\phi</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.1.m1.1d">italic_ϕ</annotation></semantics></math> to the output vocabulary, which represents that the model decides to perform the READ action instead of the WRITE action for the current input <math alttext="x_{i}" class="ltx_Math" display="inline" id="S3.SS1.p1.2.m2.1"><semantics id="S3.SS1.p1.2.m2.1a"><msub id="S3.SS1.p1.2.m2.1.1" xref="S3.SS1.p1.2.m2.1.1.cmml"><mi id="S3.SS1.p1.2.m2.1.1.2" xref="S3.SS1.p1.2.m2.1.1.2.cmml">x</mi><mi id="S3.SS1.p1.2.m2.1.1.3" xref="S3.SS1.p1.2.m2.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.2.m2.1b"><apply id="S3.SS1.p1.2.m2.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p1.2.m2.1.1.1.cmml" xref="S3.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p1.2.m2.1.1.2.cmml" xref="S3.SS1.p1.2.m2.1.1.2">𝑥</ci><ci id="S3.SS1.p1.2.m2.1.1.3.cmml" xref="S3.SS1.p1.2.m2.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.2.m2.1c">x_{i}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.2.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math>.
This special token does not participate in the calculation of the final translation quality and latency and is not used as input for the adaptive SiMT policy.
So the workflow of the traditional SiMT method before the end of the source sentence (we do not consider the autoregressive translation phase after the end of the source sentence, because the branch prediction technique is invalid in this phase) is as follows:</p>
<table class="ltx_equation ltx_eqn_table" id="S3.E3">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="y_{j}=f_{\theta}(x_{&lt;i+1},y_{&lt;j})" class="ltx_Math" display="block" id="S3.E3.m1.2"><semantics id="S3.E3.m1.2a"><mrow id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml"><msub id="S3.E3.m1.2.2.4" xref="S3.E3.m1.2.2.4.cmml"><mi id="S3.E3.m1.2.2.4.2" xref="S3.E3.m1.2.2.4.2.cmml">y</mi><mi id="S3.E3.m1.2.2.4.3" xref="S3.E3.m1.2.2.4.3.cmml">j</mi></msub><mo id="S3.E3.m1.2.2.3" xref="S3.E3.m1.2.2.3.cmml">=</mo><mrow id="S3.E3.m1.2.2.2" xref="S3.E3.m1.2.2.2.cmml"><msub id="S3.E3.m1.2.2.2.4" xref="S3.E3.m1.2.2.2.4.cmml"><mi id="S3.E3.m1.2.2.2.4.2" xref="S3.E3.m1.2.2.2.4.2.cmml">f</mi><mi id="S3.E3.m1.2.2.2.4.3" xref="S3.E3.m1.2.2.2.4.3.cmml">θ</mi></msub><mo id="S3.E3.m1.2.2.2.3" xref="S3.E3.m1.2.2.2.3.cmml">⁢</mo><mrow id="S3.E3.m1.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.3.cmml"><mo id="S3.E3.m1.2.2.2.2.2.3" stretchy="false" xref="S3.E3.m1.2.2.2.2.3.cmml">(</mo><msub id="S3.E3.m1.1.1.1.1.1.1" xref="S3.E3.m1.1.1.1.1.1.1.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.2" xref="S3.E3.m1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="S3.E3.m1.1.1.1.1.1.1.3" xref="S3.E3.m1.1.1.1.1.1.1.3.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.3.2" xref="S3.E3.m1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="S3.E3.m1.1.1.1.1.1.1.3.1" xref="S3.E3.m1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mrow id="S3.E3.m1.1.1.1.1.1.1.3.3" xref="S3.E3.m1.1.1.1.1.1.1.3.3.cmml"><mi id="S3.E3.m1.1.1.1.1.1.1.3.3.2" xref="S3.E3.m1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="S3.E3.m1.1.1.1.1.1.1.3.3.1" xref="S3.E3.m1.1.1.1.1.1.1.3.3.1.cmml">+</mo><mn id="S3.E3.m1.1.1.1.1.1.1.3.3.3" xref="S3.E3.m1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="S3.E3.m1.2.2.2.2.2.4" xref="S3.E3.m1.2.2.2.2.3.cmml">,</mo><msub id="S3.E3.m1.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.cmml"><mi id="S3.E3.m1.2.2.2.2.2.2.2" xref="S3.E3.m1.2.2.2.2.2.2.2.cmml">y</mi><mrow id="S3.E3.m1.2.2.2.2.2.2.3" xref="S3.E3.m1.2.2.2.2.2.2.3.cmml"><mi id="S3.E3.m1.2.2.2.2.2.2.3.2" xref="S3.E3.m1.2.2.2.2.2.2.3.2.cmml"></mi><mo id="S3.E3.m1.2.2.2.2.2.2.3.1" xref="S3.E3.m1.2.2.2.2.2.2.3.1.cmml">&lt;</mo><mi id="S3.E3.m1.2.2.2.2.2.2.3.3" xref="S3.E3.m1.2.2.2.2.2.2.3.3.cmml">j</mi></mrow></msub><mo id="S3.E3.m1.2.2.2.2.2.5" stretchy="false" xref="S3.E3.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.2b"><apply id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2"><eq id="S3.E3.m1.2.2.3.cmml" xref="S3.E3.m1.2.2.3"></eq><apply id="S3.E3.m1.2.2.4.cmml" xref="S3.E3.m1.2.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.4.1.cmml" xref="S3.E3.m1.2.2.4">subscript</csymbol><ci id="S3.E3.m1.2.2.4.2.cmml" xref="S3.E3.m1.2.2.4.2">𝑦</ci><ci id="S3.E3.m1.2.2.4.3.cmml" xref="S3.E3.m1.2.2.4.3">𝑗</ci></apply><apply id="S3.E3.m1.2.2.2.cmml" xref="S3.E3.m1.2.2.2"><times id="S3.E3.m1.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.3"></times><apply id="S3.E3.m1.2.2.2.4.cmml" xref="S3.E3.m1.2.2.2.4"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.4.1.cmml" xref="S3.E3.m1.2.2.2.4">subscript</csymbol><ci id="S3.E3.m1.2.2.2.4.2.cmml" xref="S3.E3.m1.2.2.2.4.2">𝑓</ci><ci id="S3.E3.m1.2.2.2.4.3.cmml" xref="S3.E3.m1.2.2.2.4.3">𝜃</ci></apply><interval closure="open" id="S3.E3.m1.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2"><apply id="S3.E3.m1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.1.1.1.1.1.1.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E3.m1.1.1.1.1.1.1.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.2">𝑥</ci><apply id="S3.E3.m1.1.1.1.1.1.1.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3"><lt id="S3.E3.m1.1.1.1.1.1.1.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="S3.E3.m1.1.1.1.1.1.1.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.2">absent</csymbol><apply id="S3.E3.m1.1.1.1.1.1.1.3.3.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.3"><plus id="S3.E3.m1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.3.1"></plus><ci id="S3.E3.m1.1.1.1.1.1.1.3.3.2.cmml" xref="S3.E3.m1.1.1.1.1.1.1.3.3.2">𝑖</ci><cn id="S3.E3.m1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="S3.E3.m1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><apply id="S3.E3.m1.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.2.2.2.2.2.2.1.cmml" xref="S3.E3.m1.2.2.2.2.2.2">subscript</csymbol><ci id="S3.E3.m1.2.2.2.2.2.2.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.2">𝑦</ci><apply id="S3.E3.m1.2.2.2.2.2.2.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.3"><lt id="S3.E3.m1.2.2.2.2.2.2.3.1.cmml" xref="S3.E3.m1.2.2.2.2.2.2.3.1"></lt><csymbol cd="latexml" id="S3.E3.m1.2.2.2.2.2.2.3.2.cmml" xref="S3.E3.m1.2.2.2.2.2.2.3.2">absent</csymbol><ci id="S3.E3.m1.2.2.2.2.2.2.3.3.cmml" xref="S3.E3.m1.2.2.2.2.2.2.3.3">𝑗</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.2c">y_{j}=f_{\theta}(x_{&lt;i+1},y_{&lt;j})</annotation><annotation encoding="application/x-llamapun" id="S3.E3.m1.2d">italic_y start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT &lt; italic_i + 1 end_POSTSUBSCRIPT , italic_y start_POSTSUBSCRIPT &lt; italic_j end_POSTSUBSCRIPT )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS1.p1.4">where <math alttext="f" class="ltx_Math" display="inline" id="S3.SS1.p1.3.m1.1"><semantics id="S3.SS1.p1.3.m1.1a"><mi id="S3.SS1.p1.3.m1.1.1" xref="S3.SS1.p1.3.m1.1.1.cmml">f</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.3.m1.1b"><ci id="S3.SS1.p1.3.m1.1.1.cmml" xref="S3.SS1.p1.3.m1.1.1">𝑓</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.3.m1.1c">f</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.3.m1.1d">italic_f</annotation></semantics></math> represents the SiMT model, <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS1.p1.4.m2.1"><semantics id="S3.SS1.p1.4.m2.1a"><mi id="S3.SS1.p1.4.m2.1.1" xref="S3.SS1.p1.4.m2.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p1.4.m2.1b"><ci id="S3.SS1.p1.4.m2.1.1.cmml" xref="S3.SS1.p1.4.m2.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p1.4.m2.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p1.4.m2.1d">italic_θ</annotation></semantics></math> represents the model parameters.</p>
</div>
<div class="ltx_para" id="S3.SS1.p2">
<p class="ltx_p" id="S3.SS1.p2.8">Unlike the traditional SiMT method, our branch prediction method uses a language model to perform the branch prediction task in parallel with the SiMT model performing the translation task.
Then the model uses the predicted <math alttext="\widehat{x}_{i+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.1.m1.1"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mover accent="true" id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml"><mi id="S3.SS1.p2.1.m1.1.1.2.2" xref="S3.SS1.p2.1.m1.1.1.2.2.cmml">x</mi><mo id="S3.SS1.p2.1.m1.1.1.2.1" xref="S3.SS1.p2.1.m1.1.1.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml"><mi id="S3.SS1.p2.1.m1.1.1.3.2" xref="S3.SS1.p2.1.m1.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p2.1.m1.1.1.3.1" xref="S3.SS1.p2.1.m1.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.1.m1.1.1.3.3" xref="S3.SS1.p2.1.m1.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><apply id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2"><ci id="S3.SS1.p2.1.m1.1.1.2.1.cmml" xref="S3.SS1.p2.1.m1.1.1.2.1">^</ci><ci id="S3.SS1.p2.1.m1.1.1.2.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2.2">𝑥</ci></apply><apply id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3"><plus id="S3.SS1.p2.1.m1.1.1.3.1.cmml" xref="S3.SS1.p2.1.m1.1.1.3.1"></plus><ci id="S3.SS1.p2.1.m1.1.1.3.2.cmml" xref="S3.SS1.p2.1.m1.1.1.3.2">𝑖</ci><cn id="S3.SS1.p2.1.m1.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.1.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\widehat{x}_{i+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.1.m1.1d">over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math> translation output <math alttext="y_{j+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.2.m2.1"><semantics id="S3.SS1.p2.2.m2.1a"><msub id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml"><mi id="S3.SS1.p2.2.m2.1.1.2" xref="S3.SS1.p2.2.m2.1.1.2.cmml">y</mi><mrow id="S3.SS1.p2.2.m2.1.1.3" xref="S3.SS1.p2.2.m2.1.1.3.cmml"><mi id="S3.SS1.p2.2.m2.1.1.3.2" xref="S3.SS1.p2.2.m2.1.1.3.2.cmml">j</mi><mo id="S3.SS1.p2.2.m2.1.1.3.1" xref="S3.SS1.p2.2.m2.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.2.m2.1.1.3.3" xref="S3.SS1.p2.2.m2.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><apply id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.2.m2.1.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p2.2.m2.1.1.2.cmml" xref="S3.SS1.p2.2.m2.1.1.2">𝑦</ci><apply id="S3.SS1.p2.2.m2.1.1.3.cmml" xref="S3.SS1.p2.2.m2.1.1.3"><plus id="S3.SS1.p2.2.m2.1.1.3.1.cmml" xref="S3.SS1.p2.2.m2.1.1.3.1"></plus><ci id="S3.SS1.p2.2.m2.1.1.3.2.cmml" xref="S3.SS1.p2.2.m2.1.1.3.2">𝑗</ci><cn id="S3.SS1.p2.2.m2.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.2.m2.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">y_{j+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.2.m2.1d">italic_y start_POSTSUBSCRIPT italic_j + 1 end_POSTSUBSCRIPT</annotation></semantics></math> before the next source word <math alttext="x_{i+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.3.m3.1"><semantics id="S3.SS1.p2.3.m3.1a"><msub id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mi id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml"><mi id="S3.SS1.p2.3.m3.1.1.3.2" xref="S3.SS1.p2.3.m3.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p2.3.m3.1.1.3.1" xref="S3.SS1.p2.3.m3.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.3.m3.1.1.3.3" xref="S3.SS1.p2.3.m3.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">𝑥</ci><apply id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3"><plus id="S3.SS1.p2.3.m3.1.1.3.1.cmml" xref="S3.SS1.p2.3.m3.1.1.3.1"></plus><ci id="S3.SS1.p2.3.m3.1.1.3.2.cmml" xref="S3.SS1.p2.3.m3.1.1.3.2">𝑖</ci><cn id="S3.SS1.p2.3.m3.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.3.m3.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">x_{i+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.3.m3.1d">italic_x start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math> arrives.
The formal representation is shown in lines 8-9 of Algorithm <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‣ 3.1 Branch Prediction for SiMT ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a>.
If the real next source word <math alttext="x_{i+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.4.m4.1"><semantics id="S3.SS1.p2.4.m4.1a"><msub id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml"><mi id="S3.SS1.p2.4.m4.1.1.2" xref="S3.SS1.p2.4.m4.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.4.m4.1.1.3" xref="S3.SS1.p2.4.m4.1.1.3.cmml"><mi id="S3.SS1.p2.4.m4.1.1.3.2" xref="S3.SS1.p2.4.m4.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p2.4.m4.1.1.3.1" xref="S3.SS1.p2.4.m4.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.4.m4.1.1.3.3" xref="S3.SS1.p2.4.m4.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.1.2.cmml" xref="S3.SS1.p2.4.m4.1.1.2">𝑥</ci><apply id="S3.SS1.p2.4.m4.1.1.3.cmml" xref="S3.SS1.p2.4.m4.1.1.3"><plus id="S3.SS1.p2.4.m4.1.1.3.1.cmml" xref="S3.SS1.p2.4.m4.1.1.3.1"></plus><ci id="S3.SS1.p2.4.m4.1.1.3.2.cmml" xref="S3.SS1.p2.4.m4.1.1.3.2">𝑖</ci><cn id="S3.SS1.p2.4.m4.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.4.m4.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">x_{i+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.4.m4.1d">italic_x start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math> is equal to the predicted source word <math alttext="\widehat{x}_{i+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.5.m5.1"><semantics id="S3.SS1.p2.5.m5.1a"><msub id="S3.SS1.p2.5.m5.1.1" xref="S3.SS1.p2.5.m5.1.1.cmml"><mover accent="true" id="S3.SS1.p2.5.m5.1.1.2" xref="S3.SS1.p2.5.m5.1.1.2.cmml"><mi id="S3.SS1.p2.5.m5.1.1.2.2" xref="S3.SS1.p2.5.m5.1.1.2.2.cmml">x</mi><mo id="S3.SS1.p2.5.m5.1.1.2.1" xref="S3.SS1.p2.5.m5.1.1.2.1.cmml">^</mo></mover><mrow id="S3.SS1.p2.5.m5.1.1.3" xref="S3.SS1.p2.5.m5.1.1.3.cmml"><mi id="S3.SS1.p2.5.m5.1.1.3.2" xref="S3.SS1.p2.5.m5.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p2.5.m5.1.1.3.1" xref="S3.SS1.p2.5.m5.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.5.m5.1.1.3.3" xref="S3.SS1.p2.5.m5.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m5.1b"><apply id="S3.SS1.p2.5.m5.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m5.1.1.1.cmml" xref="S3.SS1.p2.5.m5.1.1">subscript</csymbol><apply id="S3.SS1.p2.5.m5.1.1.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2"><ci id="S3.SS1.p2.5.m5.1.1.2.1.cmml" xref="S3.SS1.p2.5.m5.1.1.2.1">^</ci><ci id="S3.SS1.p2.5.m5.1.1.2.2.cmml" xref="S3.SS1.p2.5.m5.1.1.2.2">𝑥</ci></apply><apply id="S3.SS1.p2.5.m5.1.1.3.cmml" xref="S3.SS1.p2.5.m5.1.1.3"><plus id="S3.SS1.p2.5.m5.1.1.3.1.cmml" xref="S3.SS1.p2.5.m5.1.1.3.1"></plus><ci id="S3.SS1.p2.5.m5.1.1.3.2.cmml" xref="S3.SS1.p2.5.m5.1.1.3.2">𝑖</ci><cn id="S3.SS1.p2.5.m5.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.5.m5.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m5.1c">\widehat{x}_{i+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.5.m5.1d">over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math>, we will skip the translation and only perform the branch prediction operation, and directly use the predicted translation output <math alttext="y_{j+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.6.m6.1"><semantics id="S3.SS1.p2.6.m6.1a"><msub id="S3.SS1.p2.6.m6.1.1" xref="S3.SS1.p2.6.m6.1.1.cmml"><mi id="S3.SS1.p2.6.m6.1.1.2" xref="S3.SS1.p2.6.m6.1.1.2.cmml">y</mi><mrow id="S3.SS1.p2.6.m6.1.1.3" xref="S3.SS1.p2.6.m6.1.1.3.cmml"><mi id="S3.SS1.p2.6.m6.1.1.3.2" xref="S3.SS1.p2.6.m6.1.1.3.2.cmml">j</mi><mo id="S3.SS1.p2.6.m6.1.1.3.1" xref="S3.SS1.p2.6.m6.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.6.m6.1.1.3.3" xref="S3.SS1.p2.6.m6.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m6.1b"><apply id="S3.SS1.p2.6.m6.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.6.m6.1.1.1.cmml" xref="S3.SS1.p2.6.m6.1.1">subscript</csymbol><ci id="S3.SS1.p2.6.m6.1.1.2.cmml" xref="S3.SS1.p2.6.m6.1.1.2">𝑦</ci><apply id="S3.SS1.p2.6.m6.1.1.3.cmml" xref="S3.SS1.p2.6.m6.1.1.3"><plus id="S3.SS1.p2.6.m6.1.1.3.1.cmml" xref="S3.SS1.p2.6.m6.1.1.3.1"></plus><ci id="S3.SS1.p2.6.m6.1.1.3.2.cmml" xref="S3.SS1.p2.6.m6.1.1.3.2">𝑗</ci><cn id="S3.SS1.p2.6.m6.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.6.m6.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m6.1c">y_{j+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.6.m6.1d">italic_y start_POSTSUBSCRIPT italic_j + 1 end_POSTSUBSCRIPT</annotation></semantics></math>.
Because the input of the SiMT model is the same, it must have the same output, so we can directly use the predicted translation output <math alttext="y_{j+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.7.m7.1"><semantics id="S3.SS1.p2.7.m7.1a"><msub id="S3.SS1.p2.7.m7.1.1" xref="S3.SS1.p2.7.m7.1.1.cmml"><mi id="S3.SS1.p2.7.m7.1.1.2" xref="S3.SS1.p2.7.m7.1.1.2.cmml">y</mi><mrow id="S3.SS1.p2.7.m7.1.1.3" xref="S3.SS1.p2.7.m7.1.1.3.cmml"><mi id="S3.SS1.p2.7.m7.1.1.3.2" xref="S3.SS1.p2.7.m7.1.1.3.2.cmml">j</mi><mo id="S3.SS1.p2.7.m7.1.1.3.1" xref="S3.SS1.p2.7.m7.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.7.m7.1.1.3.3" xref="S3.SS1.p2.7.m7.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m7.1b"><apply id="S3.SS1.p2.7.m7.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.7.m7.1.1.1.cmml" xref="S3.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS1.p2.7.m7.1.1.2.cmml" xref="S3.SS1.p2.7.m7.1.1.2">𝑦</ci><apply id="S3.SS1.p2.7.m7.1.1.3.cmml" xref="S3.SS1.p2.7.m7.1.1.3"><plus id="S3.SS1.p2.7.m7.1.1.3.1.cmml" xref="S3.SS1.p2.7.m7.1.1.3.1"></plus><ci id="S3.SS1.p2.7.m7.1.1.3.2.cmml" xref="S3.SS1.p2.7.m7.1.1.3.2">𝑗</ci><cn id="S3.SS1.p2.7.m7.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.7.m7.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m7.1c">y_{j+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.7.m7.1d">italic_y start_POSTSUBSCRIPT italic_j + 1 end_POSTSUBSCRIPT</annotation></semantics></math>.
If they are not equal, we introduce a new action WITHDRAW, which represents replacing the previous output with the current output.
We will use the real next source word <math alttext="x_{i+1}" class="ltx_Math" display="inline" id="S3.SS1.p2.8.m8.1"><semantics id="S3.SS1.p2.8.m8.1a"><msub id="S3.SS1.p2.8.m8.1.1" xref="S3.SS1.p2.8.m8.1.1.cmml"><mi id="S3.SS1.p2.8.m8.1.1.2" xref="S3.SS1.p2.8.m8.1.1.2.cmml">x</mi><mrow id="S3.SS1.p2.8.m8.1.1.3" xref="S3.SS1.p2.8.m8.1.1.3.cmml"><mi id="S3.SS1.p2.8.m8.1.1.3.2" xref="S3.SS1.p2.8.m8.1.1.3.2.cmml">i</mi><mo id="S3.SS1.p2.8.m8.1.1.3.1" xref="S3.SS1.p2.8.m8.1.1.3.1.cmml">+</mo><mn id="S3.SS1.p2.8.m8.1.1.3.3" xref="S3.SS1.p2.8.m8.1.1.3.3.cmml">1</mn></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m8.1b"><apply id="S3.SS1.p2.8.m8.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m8.1.1.1.cmml" xref="S3.SS1.p2.8.m8.1.1">subscript</csymbol><ci id="S3.SS1.p2.8.m8.1.1.2.cmml" xref="S3.SS1.p2.8.m8.1.1.2">𝑥</ci><apply id="S3.SS1.p2.8.m8.1.1.3.cmml" xref="S3.SS1.p2.8.m8.1.1.3"><plus id="S3.SS1.p2.8.m8.1.1.3.1.cmml" xref="S3.SS1.p2.8.m8.1.1.3.1"></plus><ci id="S3.SS1.p2.8.m8.1.1.3.2.cmml" xref="S3.SS1.p2.8.m8.1.1.3.2">𝑖</ci><cn id="S3.SS1.p2.8.m8.1.1.3.3.cmml" type="integer" xref="S3.SS1.p2.8.m8.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m8.1c">x_{i+1}</annotation><annotation encoding="application/x-llamapun" id="S3.SS1.p2.8.m8.1d">italic_x start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT</annotation></semantics></math> to translate, and then replace the previous predicted output.
The formal representation is shown in lines 4-5 of Algorithm <a class="ltx_ref" href="#alg1" title="Algorithm 1 ‣ 3.1 Branch Prediction for SiMT ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<figure class="ltx_float ltx_float_algorithm ltx_framed_top" id="alg1">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span class="ltx_text ltx_font_bold" id="alg1.2.1.1">Algorithm 1</span> </span> Branch Prediction for SiMT. Because the SiMT model and the language model are independent, we compute line 4 to 8 in parallel.</figcaption>
<div class="ltx_listing ltx_listing" id="alg1.3">
<div class="ltx_listingline" id="alg1.l0">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l0.1.1.1" style="font-size:80%;">0:</span></span>  <math alttext="\mathbf{X}" class="ltx_Math" display="inline" id="alg1.l0.m1.1"><semantics id="alg1.l0.m1.1a"><mi id="alg1.l0.m1.1.1" xref="alg1.l0.m1.1.1.cmml">𝐗</mi><annotation-xml encoding="MathML-Content" id="alg1.l0.m1.1b"><ci id="alg1.l0.m1.1.1.cmml" xref="alg1.l0.m1.1.1">𝐗</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m1.1c">\mathbf{X}</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m1.1d">bold_X</annotation></semantics></math> = source tokens,         <math alttext="x_{0}=BeginOfSequence" class="ltx_Math" display="inline" id="alg1.l0.m3.1"><semantics id="alg1.l0.m3.1a"><mrow id="alg1.l0.m3.1.1" xref="alg1.l0.m3.1.1.cmml"><msub id="alg1.l0.m3.1.1.2" xref="alg1.l0.m3.1.1.2.cmml"><mi id="alg1.l0.m3.1.1.2.2" xref="alg1.l0.m3.1.1.2.2.cmml">x</mi><mn id="alg1.l0.m3.1.1.2.3" xref="alg1.l0.m3.1.1.2.3.cmml">0</mn></msub><mo id="alg1.l0.m3.1.1.1" xref="alg1.l0.m3.1.1.1.cmml">=</mo><mrow id="alg1.l0.m3.1.1.3" xref="alg1.l0.m3.1.1.3.cmml"><mi id="alg1.l0.m3.1.1.3.2" xref="alg1.l0.m3.1.1.3.2.cmml">B</mi><mo id="alg1.l0.m3.1.1.3.1" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.3" xref="alg1.l0.m3.1.1.3.3.cmml">e</mi><mo id="alg1.l0.m3.1.1.3.1a" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.4" xref="alg1.l0.m3.1.1.3.4.cmml">g</mi><mo id="alg1.l0.m3.1.1.3.1b" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.5" xref="alg1.l0.m3.1.1.3.5.cmml">i</mi><mo id="alg1.l0.m3.1.1.3.1c" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.6" xref="alg1.l0.m3.1.1.3.6.cmml">n</mi><mo id="alg1.l0.m3.1.1.3.1d" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.7" xref="alg1.l0.m3.1.1.3.7.cmml">O</mi><mo id="alg1.l0.m3.1.1.3.1e" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.8" xref="alg1.l0.m3.1.1.3.8.cmml">f</mi><mo id="alg1.l0.m3.1.1.3.1f" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.9" xref="alg1.l0.m3.1.1.3.9.cmml">S</mi><mo id="alg1.l0.m3.1.1.3.1g" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.10" xref="alg1.l0.m3.1.1.3.10.cmml">e</mi><mo id="alg1.l0.m3.1.1.3.1h" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.11" xref="alg1.l0.m3.1.1.3.11.cmml">q</mi><mo id="alg1.l0.m3.1.1.3.1i" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.12" xref="alg1.l0.m3.1.1.3.12.cmml">u</mi><mo id="alg1.l0.m3.1.1.3.1j" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.13" xref="alg1.l0.m3.1.1.3.13.cmml">e</mi><mo id="alg1.l0.m3.1.1.3.1k" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.14" xref="alg1.l0.m3.1.1.3.14.cmml">n</mi><mo id="alg1.l0.m3.1.1.3.1l" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.15" xref="alg1.l0.m3.1.1.3.15.cmml">c</mi><mo id="alg1.l0.m3.1.1.3.1m" xref="alg1.l0.m3.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m3.1.1.3.16" xref="alg1.l0.m3.1.1.3.16.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l0.m3.1b"><apply id="alg1.l0.m3.1.1.cmml" xref="alg1.l0.m3.1.1"><eq id="alg1.l0.m3.1.1.1.cmml" xref="alg1.l0.m3.1.1.1"></eq><apply id="alg1.l0.m3.1.1.2.cmml" xref="alg1.l0.m3.1.1.2"><csymbol cd="ambiguous" id="alg1.l0.m3.1.1.2.1.cmml" xref="alg1.l0.m3.1.1.2">subscript</csymbol><ci id="alg1.l0.m3.1.1.2.2.cmml" xref="alg1.l0.m3.1.1.2.2">𝑥</ci><cn id="alg1.l0.m3.1.1.2.3.cmml" type="integer" xref="alg1.l0.m3.1.1.2.3">0</cn></apply><apply id="alg1.l0.m3.1.1.3.cmml" xref="alg1.l0.m3.1.1.3"><times id="alg1.l0.m3.1.1.3.1.cmml" xref="alg1.l0.m3.1.1.3.1"></times><ci id="alg1.l0.m3.1.1.3.2.cmml" xref="alg1.l0.m3.1.1.3.2">𝐵</ci><ci id="alg1.l0.m3.1.1.3.3.cmml" xref="alg1.l0.m3.1.1.3.3">𝑒</ci><ci id="alg1.l0.m3.1.1.3.4.cmml" xref="alg1.l0.m3.1.1.3.4">𝑔</ci><ci id="alg1.l0.m3.1.1.3.5.cmml" xref="alg1.l0.m3.1.1.3.5">𝑖</ci><ci id="alg1.l0.m3.1.1.3.6.cmml" xref="alg1.l0.m3.1.1.3.6">𝑛</ci><ci id="alg1.l0.m3.1.1.3.7.cmml" xref="alg1.l0.m3.1.1.3.7">𝑂</ci><ci id="alg1.l0.m3.1.1.3.8.cmml" xref="alg1.l0.m3.1.1.3.8">𝑓</ci><ci id="alg1.l0.m3.1.1.3.9.cmml" xref="alg1.l0.m3.1.1.3.9">𝑆</ci><ci id="alg1.l0.m3.1.1.3.10.cmml" xref="alg1.l0.m3.1.1.3.10">𝑒</ci><ci id="alg1.l0.m3.1.1.3.11.cmml" xref="alg1.l0.m3.1.1.3.11">𝑞</ci><ci id="alg1.l0.m3.1.1.3.12.cmml" xref="alg1.l0.m3.1.1.3.12">𝑢</ci><ci id="alg1.l0.m3.1.1.3.13.cmml" xref="alg1.l0.m3.1.1.3.13">𝑒</ci><ci id="alg1.l0.m3.1.1.3.14.cmml" xref="alg1.l0.m3.1.1.3.14">𝑛</ci><ci id="alg1.l0.m3.1.1.3.15.cmml" xref="alg1.l0.m3.1.1.3.15">𝑐</ci><ci id="alg1.l0.m3.1.1.3.16.cmml" xref="alg1.l0.m3.1.1.3.16">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m3.1c">x_{0}=BeginOfSequence</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m3.1d">italic_x start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = italic_B italic_e italic_g italic_i italic_n italic_O italic_f italic_S italic_e italic_q italic_u italic_e italic_n italic_c italic_e</annotation></semantics></math>,         <math alttext="y_{0}=BeginOfSequence" class="ltx_Math" display="inline" id="alg1.l0.m5.1"><semantics id="alg1.l0.m5.1a"><mrow id="alg1.l0.m5.1.1" xref="alg1.l0.m5.1.1.cmml"><msub id="alg1.l0.m5.1.1.2" xref="alg1.l0.m5.1.1.2.cmml"><mi id="alg1.l0.m5.1.1.2.2" xref="alg1.l0.m5.1.1.2.2.cmml">y</mi><mn id="alg1.l0.m5.1.1.2.3" xref="alg1.l0.m5.1.1.2.3.cmml">0</mn></msub><mo id="alg1.l0.m5.1.1.1" xref="alg1.l0.m5.1.1.1.cmml">=</mo><mrow id="alg1.l0.m5.1.1.3" xref="alg1.l0.m5.1.1.3.cmml"><mi id="alg1.l0.m5.1.1.3.2" xref="alg1.l0.m5.1.1.3.2.cmml">B</mi><mo id="alg1.l0.m5.1.1.3.1" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.3" xref="alg1.l0.m5.1.1.3.3.cmml">e</mi><mo id="alg1.l0.m5.1.1.3.1a" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.4" xref="alg1.l0.m5.1.1.3.4.cmml">g</mi><mo id="alg1.l0.m5.1.1.3.1b" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.5" xref="alg1.l0.m5.1.1.3.5.cmml">i</mi><mo id="alg1.l0.m5.1.1.3.1c" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.6" xref="alg1.l0.m5.1.1.3.6.cmml">n</mi><mo id="alg1.l0.m5.1.1.3.1d" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.7" xref="alg1.l0.m5.1.1.3.7.cmml">O</mi><mo id="alg1.l0.m5.1.1.3.1e" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.8" xref="alg1.l0.m5.1.1.3.8.cmml">f</mi><mo id="alg1.l0.m5.1.1.3.1f" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.9" xref="alg1.l0.m5.1.1.3.9.cmml">S</mi><mo id="alg1.l0.m5.1.1.3.1g" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.10" xref="alg1.l0.m5.1.1.3.10.cmml">e</mi><mo id="alg1.l0.m5.1.1.3.1h" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.11" xref="alg1.l0.m5.1.1.3.11.cmml">q</mi><mo id="alg1.l0.m5.1.1.3.1i" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.12" xref="alg1.l0.m5.1.1.3.12.cmml">u</mi><mo id="alg1.l0.m5.1.1.3.1j" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.13" xref="alg1.l0.m5.1.1.3.13.cmml">e</mi><mo id="alg1.l0.m5.1.1.3.1k" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.14" xref="alg1.l0.m5.1.1.3.14.cmml">n</mi><mo id="alg1.l0.m5.1.1.3.1l" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.15" xref="alg1.l0.m5.1.1.3.15.cmml">c</mi><mo id="alg1.l0.m5.1.1.3.1m" xref="alg1.l0.m5.1.1.3.1.cmml">⁢</mo><mi id="alg1.l0.m5.1.1.3.16" xref="alg1.l0.m5.1.1.3.16.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l0.m5.1b"><apply id="alg1.l0.m5.1.1.cmml" xref="alg1.l0.m5.1.1"><eq id="alg1.l0.m5.1.1.1.cmml" xref="alg1.l0.m5.1.1.1"></eq><apply id="alg1.l0.m5.1.1.2.cmml" xref="alg1.l0.m5.1.1.2"><csymbol cd="ambiguous" id="alg1.l0.m5.1.1.2.1.cmml" xref="alg1.l0.m5.1.1.2">subscript</csymbol><ci id="alg1.l0.m5.1.1.2.2.cmml" xref="alg1.l0.m5.1.1.2.2">𝑦</ci><cn id="alg1.l0.m5.1.1.2.3.cmml" type="integer" xref="alg1.l0.m5.1.1.2.3">0</cn></apply><apply id="alg1.l0.m5.1.1.3.cmml" xref="alg1.l0.m5.1.1.3"><times id="alg1.l0.m5.1.1.3.1.cmml" xref="alg1.l0.m5.1.1.3.1"></times><ci id="alg1.l0.m5.1.1.3.2.cmml" xref="alg1.l0.m5.1.1.3.2">𝐵</ci><ci id="alg1.l0.m5.1.1.3.3.cmml" xref="alg1.l0.m5.1.1.3.3">𝑒</ci><ci id="alg1.l0.m5.1.1.3.4.cmml" xref="alg1.l0.m5.1.1.3.4">𝑔</ci><ci id="alg1.l0.m5.1.1.3.5.cmml" xref="alg1.l0.m5.1.1.3.5">𝑖</ci><ci id="alg1.l0.m5.1.1.3.6.cmml" xref="alg1.l0.m5.1.1.3.6">𝑛</ci><ci id="alg1.l0.m5.1.1.3.7.cmml" xref="alg1.l0.m5.1.1.3.7">𝑂</ci><ci id="alg1.l0.m5.1.1.3.8.cmml" xref="alg1.l0.m5.1.1.3.8">𝑓</ci><ci id="alg1.l0.m5.1.1.3.9.cmml" xref="alg1.l0.m5.1.1.3.9">𝑆</ci><ci id="alg1.l0.m5.1.1.3.10.cmml" xref="alg1.l0.m5.1.1.3.10">𝑒</ci><ci id="alg1.l0.m5.1.1.3.11.cmml" xref="alg1.l0.m5.1.1.3.11">𝑞</ci><ci id="alg1.l0.m5.1.1.3.12.cmml" xref="alg1.l0.m5.1.1.3.12">𝑢</ci><ci id="alg1.l0.m5.1.1.3.13.cmml" xref="alg1.l0.m5.1.1.3.13">𝑒</ci><ci id="alg1.l0.m5.1.1.3.14.cmml" xref="alg1.l0.m5.1.1.3.14">𝑛</ci><ci id="alg1.l0.m5.1.1.3.15.cmml" xref="alg1.l0.m5.1.1.3.15">𝑐</ci><ci id="alg1.l0.m5.1.1.3.16.cmml" xref="alg1.l0.m5.1.1.3.16">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m5.1c">y_{0}=BeginOfSequence</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m5.1d">italic_y start_POSTSUBSCRIPT 0 end_POSTSUBSCRIPT = italic_B italic_e italic_g italic_i italic_n italic_O italic_f italic_S italic_e italic_q italic_u italic_e italic_n italic_c italic_e</annotation></semantics></math>,         <math alttext="i=1,j=1" class="ltx_Math" display="inline" id="alg1.l0.m7.2"><semantics id="alg1.l0.m7.2a"><mrow id="alg1.l0.m7.2.2.2" xref="alg1.l0.m7.2.2.3.cmml"><mrow id="alg1.l0.m7.1.1.1.1" xref="alg1.l0.m7.1.1.1.1.cmml"><mi id="alg1.l0.m7.1.1.1.1.2" xref="alg1.l0.m7.1.1.1.1.2.cmml">i</mi><mo id="alg1.l0.m7.1.1.1.1.1" xref="alg1.l0.m7.1.1.1.1.1.cmml">=</mo><mn id="alg1.l0.m7.1.1.1.1.3" xref="alg1.l0.m7.1.1.1.1.3.cmml">1</mn></mrow><mo id="alg1.l0.m7.2.2.2.3" xref="alg1.l0.m7.2.2.3a.cmml">,</mo><mrow id="alg1.l0.m7.2.2.2.2" xref="alg1.l0.m7.2.2.2.2.cmml"><mi id="alg1.l0.m7.2.2.2.2.2" xref="alg1.l0.m7.2.2.2.2.2.cmml">j</mi><mo id="alg1.l0.m7.2.2.2.2.1" xref="alg1.l0.m7.2.2.2.2.1.cmml">=</mo><mn id="alg1.l0.m7.2.2.2.2.3" xref="alg1.l0.m7.2.2.2.2.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l0.m7.2b"><apply id="alg1.l0.m7.2.2.3.cmml" xref="alg1.l0.m7.2.2.2"><csymbol cd="ambiguous" id="alg1.l0.m7.2.2.3a.cmml" xref="alg1.l0.m7.2.2.2.3">formulae-sequence</csymbol><apply id="alg1.l0.m7.1.1.1.1.cmml" xref="alg1.l0.m7.1.1.1.1"><eq id="alg1.l0.m7.1.1.1.1.1.cmml" xref="alg1.l0.m7.1.1.1.1.1"></eq><ci id="alg1.l0.m7.1.1.1.1.2.cmml" xref="alg1.l0.m7.1.1.1.1.2">𝑖</ci><cn id="alg1.l0.m7.1.1.1.1.3.cmml" type="integer" xref="alg1.l0.m7.1.1.1.1.3">1</cn></apply><apply id="alg1.l0.m7.2.2.2.2.cmml" xref="alg1.l0.m7.2.2.2.2"><eq id="alg1.l0.m7.2.2.2.2.1.cmml" xref="alg1.l0.m7.2.2.2.2.1"></eq><ci id="alg1.l0.m7.2.2.2.2.2.cmml" xref="alg1.l0.m7.2.2.2.2.2">𝑗</ci><cn id="alg1.l0.m7.2.2.2.2.3.cmml" type="integer" xref="alg1.l0.m7.2.2.2.2.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l0.m7.2c">i=1,j=1</annotation><annotation encoding="application/x-llamapun" id="alg1.l0.m7.2d">italic_i = 1 , italic_j = 1</annotation></semantics></math>.

</div>
<div class="ltx_listingline" id="alg1.l1">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l1.1.1.1" style="font-size:80%;">1:</span></span>  <math alttext="\widehat{x}_{i}\leftarrow lm(x_{&lt;i})" class="ltx_Math" display="inline" id="alg1.l1.m1.1"><semantics id="alg1.l1.m1.1a"><mrow id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml"><msub id="alg1.l1.m1.1.1.3" xref="alg1.l1.m1.1.1.3.cmml"><mover accent="true" id="alg1.l1.m1.1.1.3.2" xref="alg1.l1.m1.1.1.3.2.cmml"><mi id="alg1.l1.m1.1.1.3.2.2" xref="alg1.l1.m1.1.1.3.2.2.cmml">x</mi><mo id="alg1.l1.m1.1.1.3.2.1" xref="alg1.l1.m1.1.1.3.2.1.cmml">^</mo></mover><mi id="alg1.l1.m1.1.1.3.3" xref="alg1.l1.m1.1.1.3.3.cmml">i</mi></msub><mo id="alg1.l1.m1.1.1.2" stretchy="false" xref="alg1.l1.m1.1.1.2.cmml">←</mo><mrow id="alg1.l1.m1.1.1.1" xref="alg1.l1.m1.1.1.1.cmml"><mi id="alg1.l1.m1.1.1.1.3" xref="alg1.l1.m1.1.1.1.3.cmml">l</mi><mo id="alg1.l1.m1.1.1.1.2" xref="alg1.l1.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l1.m1.1.1.1.4" xref="alg1.l1.m1.1.1.1.4.cmml">m</mi><mo id="alg1.l1.m1.1.1.1.2a" xref="alg1.l1.m1.1.1.1.2.cmml">⁢</mo><mrow id="alg1.l1.m1.1.1.1.1.1" xref="alg1.l1.m1.1.1.1.1.1.1.cmml"><mo id="alg1.l1.m1.1.1.1.1.1.2" stretchy="false" xref="alg1.l1.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.l1.m1.1.1.1.1.1.1" xref="alg1.l1.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l1.m1.1.1.1.1.1.1.2" xref="alg1.l1.m1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="alg1.l1.m1.1.1.1.1.1.1.3" xref="alg1.l1.m1.1.1.1.1.1.1.3.cmml"><mi id="alg1.l1.m1.1.1.1.1.1.1.3.2" xref="alg1.l1.m1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="alg1.l1.m1.1.1.1.1.1.1.3.1" xref="alg1.l1.m1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="alg1.l1.m1.1.1.1.1.1.1.3.3" xref="alg1.l1.m1.1.1.1.1.1.1.3.3.cmml">i</mi></mrow></msub><mo id="alg1.l1.m1.1.1.1.1.1.3" stretchy="false" xref="alg1.l1.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><apply id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1"><ci id="alg1.l1.m1.1.1.2.cmml" xref="alg1.l1.m1.1.1.2">←</ci><apply id="alg1.l1.m1.1.1.3.cmml" xref="alg1.l1.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.3.1.cmml" xref="alg1.l1.m1.1.1.3">subscript</csymbol><apply id="alg1.l1.m1.1.1.3.2.cmml" xref="alg1.l1.m1.1.1.3.2"><ci id="alg1.l1.m1.1.1.3.2.1.cmml" xref="alg1.l1.m1.1.1.3.2.1">^</ci><ci id="alg1.l1.m1.1.1.3.2.2.cmml" xref="alg1.l1.m1.1.1.3.2.2">𝑥</ci></apply><ci id="alg1.l1.m1.1.1.3.3.cmml" xref="alg1.l1.m1.1.1.3.3">𝑖</ci></apply><apply id="alg1.l1.m1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1"><times id="alg1.l1.m1.1.1.1.2.cmml" xref="alg1.l1.m1.1.1.1.2"></times><ci id="alg1.l1.m1.1.1.1.3.cmml" xref="alg1.l1.m1.1.1.1.3">𝑙</ci><ci id="alg1.l1.m1.1.1.1.4.cmml" xref="alg1.l1.m1.1.1.1.4">𝑚</ci><apply id="alg1.l1.m1.1.1.1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l1.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l1.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l1.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l1.m1.1.1.1.1.1.1.2">𝑥</ci><apply id="alg1.l1.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l1.m1.1.1.1.1.1.1.3"><lt id="alg1.l1.m1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l1.m1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="alg1.l1.m1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l1.m1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="alg1.l1.m1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l1.m1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">\widehat{x}_{i}\leftarrow lm(x_{&lt;i})</annotation><annotation encoding="application/x-llamapun" id="alg1.l1.m1.1d">over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ← italic_l italic_m ( italic_x start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l2">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l2.1.1.1" style="font-size:80%;">2:</span></span>  <math alttext="y_{j}=f_{\theta}([x_{&lt;i};\widehat{x}_{i}],y_{&lt;j})" class="ltx_Math" display="inline" id="alg1.l2.m1.2"><semantics id="alg1.l2.m1.2a"><mrow id="alg1.l2.m1.2.2" xref="alg1.l2.m1.2.2.cmml"><msub id="alg1.l2.m1.2.2.4" xref="alg1.l2.m1.2.2.4.cmml"><mi id="alg1.l2.m1.2.2.4.2" xref="alg1.l2.m1.2.2.4.2.cmml">y</mi><mi id="alg1.l2.m1.2.2.4.3" xref="alg1.l2.m1.2.2.4.3.cmml">j</mi></msub><mo id="alg1.l2.m1.2.2.3" xref="alg1.l2.m1.2.2.3.cmml">=</mo><mrow id="alg1.l2.m1.2.2.2" xref="alg1.l2.m1.2.2.2.cmml"><msub id="alg1.l2.m1.2.2.2.4" xref="alg1.l2.m1.2.2.2.4.cmml"><mi id="alg1.l2.m1.2.2.2.4.2" xref="alg1.l2.m1.2.2.2.4.2.cmml">f</mi><mi id="alg1.l2.m1.2.2.2.4.3" xref="alg1.l2.m1.2.2.2.4.3.cmml">θ</mi></msub><mo id="alg1.l2.m1.2.2.2.3" xref="alg1.l2.m1.2.2.2.3.cmml">⁢</mo><mrow id="alg1.l2.m1.2.2.2.2.2" xref="alg1.l2.m1.2.2.2.2.3.cmml"><mo id="alg1.l2.m1.2.2.2.2.2.3" stretchy="false" xref="alg1.l2.m1.2.2.2.2.3.cmml">(</mo><mrow id="alg1.l2.m1.1.1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.1.1.3.cmml"><mo id="alg1.l2.m1.1.1.1.1.1.1.2.3" stretchy="false" xref="alg1.l2.m1.1.1.1.1.1.1.3.cmml">[</mo><msub id="alg1.l2.m1.1.1.1.1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="alg1.l2.m1.1.1.1.1.1.1.1.1.3" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.3.2" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="alg1.l2.m1.1.1.1.1.1.1.1.1.3.1" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mi id="alg1.l2.m1.1.1.1.1.1.1.1.1.3.3" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.3.3.cmml">i</mi></mrow></msub><mo id="alg1.l2.m1.1.1.1.1.1.1.2.4" xref="alg1.l2.m1.1.1.1.1.1.1.3.cmml">;</mo><msub id="alg1.l2.m1.1.1.1.1.1.1.2.2" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.cmml"><mover accent="true" id="alg1.l2.m1.1.1.1.1.1.1.2.2.2" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.1.2.2.2.2" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mo id="alg1.l2.m1.1.1.1.1.1.1.2.2.2.1" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.2.1.cmml">^</mo></mover><mi id="alg1.l2.m1.1.1.1.1.1.1.2.2.3" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.3.cmml">i</mi></msub><mo id="alg1.l2.m1.1.1.1.1.1.1.2.5" stretchy="false" xref="alg1.l2.m1.1.1.1.1.1.1.3.cmml">]</mo></mrow><mo id="alg1.l2.m1.2.2.2.2.2.4" xref="alg1.l2.m1.2.2.2.2.3.cmml">,</mo><msub id="alg1.l2.m1.2.2.2.2.2.2" xref="alg1.l2.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l2.m1.2.2.2.2.2.2.2" xref="alg1.l2.m1.2.2.2.2.2.2.2.cmml">y</mi><mrow id="alg1.l2.m1.2.2.2.2.2.2.3" xref="alg1.l2.m1.2.2.2.2.2.2.3.cmml"><mi id="alg1.l2.m1.2.2.2.2.2.2.3.2" xref="alg1.l2.m1.2.2.2.2.2.2.3.2.cmml"></mi><mo id="alg1.l2.m1.2.2.2.2.2.2.3.1" xref="alg1.l2.m1.2.2.2.2.2.2.3.1.cmml">&lt;</mo><mi id="alg1.l2.m1.2.2.2.2.2.2.3.3" xref="alg1.l2.m1.2.2.2.2.2.2.3.3.cmml">j</mi></mrow></msub><mo id="alg1.l2.m1.2.2.2.2.2.5" stretchy="false" xref="alg1.l2.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.2b"><apply id="alg1.l2.m1.2.2.cmml" xref="alg1.l2.m1.2.2"><eq id="alg1.l2.m1.2.2.3.cmml" xref="alg1.l2.m1.2.2.3"></eq><apply id="alg1.l2.m1.2.2.4.cmml" xref="alg1.l2.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l2.m1.2.2.4.1.cmml" xref="alg1.l2.m1.2.2.4">subscript</csymbol><ci id="alg1.l2.m1.2.2.4.2.cmml" xref="alg1.l2.m1.2.2.4.2">𝑦</ci><ci id="alg1.l2.m1.2.2.4.3.cmml" xref="alg1.l2.m1.2.2.4.3">𝑗</ci></apply><apply id="alg1.l2.m1.2.2.2.cmml" xref="alg1.l2.m1.2.2.2"><times id="alg1.l2.m1.2.2.2.3.cmml" xref="alg1.l2.m1.2.2.2.3"></times><apply id="alg1.l2.m1.2.2.2.4.cmml" xref="alg1.l2.m1.2.2.2.4"><csymbol cd="ambiguous" id="alg1.l2.m1.2.2.2.4.1.cmml" xref="alg1.l2.m1.2.2.2.4">subscript</csymbol><ci id="alg1.l2.m1.2.2.2.4.2.cmml" xref="alg1.l2.m1.2.2.2.4.2">𝑓</ci><ci id="alg1.l2.m1.2.2.2.4.3.cmml" xref="alg1.l2.m1.2.2.2.4.3">𝜃</ci></apply><interval closure="open" id="alg1.l2.m1.2.2.2.2.3.cmml" xref="alg1.l2.m1.2.2.2.2.2"><list id="alg1.l2.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.2"><apply id="alg1.l2.m1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l2.m1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><apply id="alg1.l2.m1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.3"><lt id="alg1.l2.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="alg1.l2.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.3.2">absent</csymbol><ci id="alg1.l2.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.1.1.3.3">𝑖</ci></apply></apply><apply id="alg1.l2.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.1.1.1.2.2.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.2.2">subscript</csymbol><apply id="alg1.l2.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.2"><ci id="alg1.l2.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.2.1">^</ci><ci id="alg1.l2.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.2.2">𝑥</ci></apply><ci id="alg1.l2.m1.1.1.1.1.1.1.2.2.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.1.2.2.3">𝑖</ci></apply></list><apply id="alg1.l2.m1.2.2.2.2.2.2.cmml" xref="alg1.l2.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l2.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l2.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.l2.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l2.m1.2.2.2.2.2.2.2">𝑦</ci><apply id="alg1.l2.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l2.m1.2.2.2.2.2.2.3"><lt id="alg1.l2.m1.2.2.2.2.2.2.3.1.cmml" xref="alg1.l2.m1.2.2.2.2.2.2.3.1"></lt><csymbol cd="latexml" id="alg1.l2.m1.2.2.2.2.2.2.3.2.cmml" xref="alg1.l2.m1.2.2.2.2.2.2.3.2">absent</csymbol><ci id="alg1.l2.m1.2.2.2.2.2.2.3.3.cmml" xref="alg1.l2.m1.2.2.2.2.2.2.3.3">𝑗</ci></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.2c">y_{j}=f_{\theta}([x_{&lt;i};\widehat{x}_{i}],y_{&lt;j})</annotation><annotation encoding="application/x-llamapun" id="alg1.l2.m1.2d">italic_y start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( [ italic_x start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT ; over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ] , italic_y start_POSTSUBSCRIPT &lt; italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l3">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l3.1.1.1" style="font-size:80%;">3:</span></span>  <span class="ltx_text ltx_font_bold" id="alg1.l3.2">while</span> <math alttext="y_{j-1}\neq EndOfSequence" class="ltx_Math" display="inline" id="alg1.l3.m1.1"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><msub id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml"><mi id="alg1.l3.m1.1.1.2.2" xref="alg1.l3.m1.1.1.2.2.cmml">y</mi><mrow id="alg1.l3.m1.1.1.2.3" xref="alg1.l3.m1.1.1.2.3.cmml"><mi id="alg1.l3.m1.1.1.2.3.2" xref="alg1.l3.m1.1.1.2.3.2.cmml">j</mi><mo id="alg1.l3.m1.1.1.2.3.1" xref="alg1.l3.m1.1.1.2.3.1.cmml">−</mo><mn id="alg1.l3.m1.1.1.2.3.3" xref="alg1.l3.m1.1.1.2.3.3.cmml">1</mn></mrow></msub><mo id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml">≠</mo><mrow id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"><mi id="alg1.l3.m1.1.1.3.2" xref="alg1.l3.m1.1.1.3.2.cmml">E</mi><mo id="alg1.l3.m1.1.1.3.1" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.3" xref="alg1.l3.m1.1.1.3.3.cmml">n</mi><mo id="alg1.l3.m1.1.1.3.1a" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.4" xref="alg1.l3.m1.1.1.3.4.cmml">d</mi><mo id="alg1.l3.m1.1.1.3.1b" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.5" xref="alg1.l3.m1.1.1.3.5.cmml">O</mi><mo id="alg1.l3.m1.1.1.3.1c" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.6" xref="alg1.l3.m1.1.1.3.6.cmml">f</mi><mo id="alg1.l3.m1.1.1.3.1d" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.7" xref="alg1.l3.m1.1.1.3.7.cmml">S</mi><mo id="alg1.l3.m1.1.1.3.1e" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.8" xref="alg1.l3.m1.1.1.3.8.cmml">e</mi><mo id="alg1.l3.m1.1.1.3.1f" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.9" xref="alg1.l3.m1.1.1.3.9.cmml">q</mi><mo id="alg1.l3.m1.1.1.3.1g" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.10" xref="alg1.l3.m1.1.1.3.10.cmml">u</mi><mo id="alg1.l3.m1.1.1.3.1h" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.11" xref="alg1.l3.m1.1.1.3.11.cmml">e</mi><mo id="alg1.l3.m1.1.1.3.1i" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.12" xref="alg1.l3.m1.1.1.3.12.cmml">n</mi><mo id="alg1.l3.m1.1.1.3.1j" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.13" xref="alg1.l3.m1.1.1.3.13.cmml">c</mi><mo id="alg1.l3.m1.1.1.3.1k" xref="alg1.l3.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l3.m1.1.1.3.14" xref="alg1.l3.m1.1.1.3.14.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><neq id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1"></neq><apply id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.2.1.cmml" xref="alg1.l3.m1.1.1.2">subscript</csymbol><ci id="alg1.l3.m1.1.1.2.2.cmml" xref="alg1.l3.m1.1.1.2.2">𝑦</ci><apply id="alg1.l3.m1.1.1.2.3.cmml" xref="alg1.l3.m1.1.1.2.3"><minus id="alg1.l3.m1.1.1.2.3.1.cmml" xref="alg1.l3.m1.1.1.2.3.1"></minus><ci id="alg1.l3.m1.1.1.2.3.2.cmml" xref="alg1.l3.m1.1.1.2.3.2">𝑗</ci><cn id="alg1.l3.m1.1.1.2.3.3.cmml" type="integer" xref="alg1.l3.m1.1.1.2.3.3">1</cn></apply></apply><apply id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3"><times id="alg1.l3.m1.1.1.3.1.cmml" xref="alg1.l3.m1.1.1.3.1"></times><ci id="alg1.l3.m1.1.1.3.2.cmml" xref="alg1.l3.m1.1.1.3.2">𝐸</ci><ci id="alg1.l3.m1.1.1.3.3.cmml" xref="alg1.l3.m1.1.1.3.3">𝑛</ci><ci id="alg1.l3.m1.1.1.3.4.cmml" xref="alg1.l3.m1.1.1.3.4">𝑑</ci><ci id="alg1.l3.m1.1.1.3.5.cmml" xref="alg1.l3.m1.1.1.3.5">𝑂</ci><ci id="alg1.l3.m1.1.1.3.6.cmml" xref="alg1.l3.m1.1.1.3.6">𝑓</ci><ci id="alg1.l3.m1.1.1.3.7.cmml" xref="alg1.l3.m1.1.1.3.7">𝑆</ci><ci id="alg1.l3.m1.1.1.3.8.cmml" xref="alg1.l3.m1.1.1.3.8">𝑒</ci><ci id="alg1.l3.m1.1.1.3.9.cmml" xref="alg1.l3.m1.1.1.3.9">𝑞</ci><ci id="alg1.l3.m1.1.1.3.10.cmml" xref="alg1.l3.m1.1.1.3.10">𝑢</ci><ci id="alg1.l3.m1.1.1.3.11.cmml" xref="alg1.l3.m1.1.1.3.11">𝑒</ci><ci id="alg1.l3.m1.1.1.3.12.cmml" xref="alg1.l3.m1.1.1.3.12">𝑛</ci><ci id="alg1.l3.m1.1.1.3.13.cmml" xref="alg1.l3.m1.1.1.3.13">𝑐</ci><ci id="alg1.l3.m1.1.1.3.14.cmml" xref="alg1.l3.m1.1.1.3.14">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">y_{j-1}\neq EndOfSequence</annotation><annotation encoding="application/x-llamapun" id="alg1.l3.m1.1d">italic_y start_POSTSUBSCRIPT italic_j - 1 end_POSTSUBSCRIPT ≠ italic_E italic_n italic_d italic_O italic_f italic_S italic_e italic_q italic_u italic_e italic_n italic_c italic_e</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l3.3">do</span>
</div>
<div class="ltx_listingline" id="alg1.l4">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l4.1.1.1" style="font-size:80%;">4:</span></span>     <span class="ltx_text ltx_font_bold" id="alg1.l4.2">if</span> <math alttext="x_{i}\neq\widehat{x}_{i}" class="ltx_Math" display="inline" id="alg1.l4.m1.1"><semantics id="alg1.l4.m1.1a"><mrow id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml"><msub id="alg1.l4.m1.1.1.2" xref="alg1.l4.m1.1.1.2.cmml"><mi id="alg1.l4.m1.1.1.2.2" xref="alg1.l4.m1.1.1.2.2.cmml">x</mi><mi id="alg1.l4.m1.1.1.2.3" xref="alg1.l4.m1.1.1.2.3.cmml">i</mi></msub><mo id="alg1.l4.m1.1.1.1" xref="alg1.l4.m1.1.1.1.cmml">≠</mo><msub id="alg1.l4.m1.1.1.3" xref="alg1.l4.m1.1.1.3.cmml"><mover accent="true" id="alg1.l4.m1.1.1.3.2" xref="alg1.l4.m1.1.1.3.2.cmml"><mi id="alg1.l4.m1.1.1.3.2.2" xref="alg1.l4.m1.1.1.3.2.2.cmml">x</mi><mo id="alg1.l4.m1.1.1.3.2.1" xref="alg1.l4.m1.1.1.3.2.1.cmml">^</mo></mover><mi id="alg1.l4.m1.1.1.3.3" xref="alg1.l4.m1.1.1.3.3.cmml">i</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.1b"><apply id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1"><neq id="alg1.l4.m1.1.1.1.cmml" xref="alg1.l4.m1.1.1.1"></neq><apply id="alg1.l4.m1.1.1.2.cmml" xref="alg1.l4.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.2.1.cmml" xref="alg1.l4.m1.1.1.2">subscript</csymbol><ci id="alg1.l4.m1.1.1.2.2.cmml" xref="alg1.l4.m1.1.1.2.2">𝑥</ci><ci id="alg1.l4.m1.1.1.2.3.cmml" xref="alg1.l4.m1.1.1.2.3">𝑖</ci></apply><apply id="alg1.l4.m1.1.1.3.cmml" xref="alg1.l4.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l4.m1.1.1.3.1.cmml" xref="alg1.l4.m1.1.1.3">subscript</csymbol><apply id="alg1.l4.m1.1.1.3.2.cmml" xref="alg1.l4.m1.1.1.3.2"><ci id="alg1.l4.m1.1.1.3.2.1.cmml" xref="alg1.l4.m1.1.1.3.2.1">^</ci><ci id="alg1.l4.m1.1.1.3.2.2.cmml" xref="alg1.l4.m1.1.1.3.2.2">𝑥</ci></apply><ci id="alg1.l4.m1.1.1.3.3.cmml" xref="alg1.l4.m1.1.1.3.3">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.1c">x_{i}\neq\widehat{x}_{i}</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ≠ over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l4.3">or</span> <math alttext="x_{i}=EndOfSequence" class="ltx_Math" display="inline" id="alg1.l4.m2.1"><semantics id="alg1.l4.m2.1a"><mrow id="alg1.l4.m2.1.1" xref="alg1.l4.m2.1.1.cmml"><msub id="alg1.l4.m2.1.1.2" xref="alg1.l4.m2.1.1.2.cmml"><mi id="alg1.l4.m2.1.1.2.2" xref="alg1.l4.m2.1.1.2.2.cmml">x</mi><mi id="alg1.l4.m2.1.1.2.3" xref="alg1.l4.m2.1.1.2.3.cmml">i</mi></msub><mo id="alg1.l4.m2.1.1.1" xref="alg1.l4.m2.1.1.1.cmml">=</mo><mrow id="alg1.l4.m2.1.1.3" xref="alg1.l4.m2.1.1.3.cmml"><mi id="alg1.l4.m2.1.1.3.2" xref="alg1.l4.m2.1.1.3.2.cmml">E</mi><mo id="alg1.l4.m2.1.1.3.1" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.3" xref="alg1.l4.m2.1.1.3.3.cmml">n</mi><mo id="alg1.l4.m2.1.1.3.1a" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.4" xref="alg1.l4.m2.1.1.3.4.cmml">d</mi><mo id="alg1.l4.m2.1.1.3.1b" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.5" xref="alg1.l4.m2.1.1.3.5.cmml">O</mi><mo id="alg1.l4.m2.1.1.3.1c" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.6" xref="alg1.l4.m2.1.1.3.6.cmml">f</mi><mo id="alg1.l4.m2.1.1.3.1d" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.7" xref="alg1.l4.m2.1.1.3.7.cmml">S</mi><mo id="alg1.l4.m2.1.1.3.1e" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.8" xref="alg1.l4.m2.1.1.3.8.cmml">e</mi><mo id="alg1.l4.m2.1.1.3.1f" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.9" xref="alg1.l4.m2.1.1.3.9.cmml">q</mi><mo id="alg1.l4.m2.1.1.3.1g" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.10" xref="alg1.l4.m2.1.1.3.10.cmml">u</mi><mo id="alg1.l4.m2.1.1.3.1h" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.11" xref="alg1.l4.m2.1.1.3.11.cmml">e</mi><mo id="alg1.l4.m2.1.1.3.1i" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.12" xref="alg1.l4.m2.1.1.3.12.cmml">n</mi><mo id="alg1.l4.m2.1.1.3.1j" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.13" xref="alg1.l4.m2.1.1.3.13.cmml">c</mi><mo id="alg1.l4.m2.1.1.3.1k" xref="alg1.l4.m2.1.1.3.1.cmml">⁢</mo><mi id="alg1.l4.m2.1.1.3.14" xref="alg1.l4.m2.1.1.3.14.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m2.1b"><apply id="alg1.l4.m2.1.1.cmml" xref="alg1.l4.m2.1.1"><eq id="alg1.l4.m2.1.1.1.cmml" xref="alg1.l4.m2.1.1.1"></eq><apply id="alg1.l4.m2.1.1.2.cmml" xref="alg1.l4.m2.1.1.2"><csymbol cd="ambiguous" id="alg1.l4.m2.1.1.2.1.cmml" xref="alg1.l4.m2.1.1.2">subscript</csymbol><ci id="alg1.l4.m2.1.1.2.2.cmml" xref="alg1.l4.m2.1.1.2.2">𝑥</ci><ci id="alg1.l4.m2.1.1.2.3.cmml" xref="alg1.l4.m2.1.1.2.3">𝑖</ci></apply><apply id="alg1.l4.m2.1.1.3.cmml" xref="alg1.l4.m2.1.1.3"><times id="alg1.l4.m2.1.1.3.1.cmml" xref="alg1.l4.m2.1.1.3.1"></times><ci id="alg1.l4.m2.1.1.3.2.cmml" xref="alg1.l4.m2.1.1.3.2">𝐸</ci><ci id="alg1.l4.m2.1.1.3.3.cmml" xref="alg1.l4.m2.1.1.3.3">𝑛</ci><ci id="alg1.l4.m2.1.1.3.4.cmml" xref="alg1.l4.m2.1.1.3.4">𝑑</ci><ci id="alg1.l4.m2.1.1.3.5.cmml" xref="alg1.l4.m2.1.1.3.5">𝑂</ci><ci id="alg1.l4.m2.1.1.3.6.cmml" xref="alg1.l4.m2.1.1.3.6">𝑓</ci><ci id="alg1.l4.m2.1.1.3.7.cmml" xref="alg1.l4.m2.1.1.3.7">𝑆</ci><ci id="alg1.l4.m2.1.1.3.8.cmml" xref="alg1.l4.m2.1.1.3.8">𝑒</ci><ci id="alg1.l4.m2.1.1.3.9.cmml" xref="alg1.l4.m2.1.1.3.9">𝑞</ci><ci id="alg1.l4.m2.1.1.3.10.cmml" xref="alg1.l4.m2.1.1.3.10">𝑢</ci><ci id="alg1.l4.m2.1.1.3.11.cmml" xref="alg1.l4.m2.1.1.3.11">𝑒</ci><ci id="alg1.l4.m2.1.1.3.12.cmml" xref="alg1.l4.m2.1.1.3.12">𝑛</ci><ci id="alg1.l4.m2.1.1.3.13.cmml" xref="alg1.l4.m2.1.1.3.13">𝑐</ci><ci id="alg1.l4.m2.1.1.3.14.cmml" xref="alg1.l4.m2.1.1.3.14">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m2.1c">x_{i}=EndOfSequence</annotation><annotation encoding="application/x-llamapun" id="alg1.l4.m2.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT = italic_E italic_n italic_d italic_O italic_f italic_S italic_e italic_q italic_u italic_e italic_n italic_c italic_e</annotation></semantics></math>  <span class="ltx_text ltx_font_bold" id="alg1.l4.4">then</span>
</div>
<div class="ltx_listingline" id="alg1.l5">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l5.1.1.1" style="font-size:80%;">5:</span></span>        <math alttext="y_{j}=f_{\theta}(x_{&lt;i+1};,y_{&lt;j})" class="ltx_math_unparsed" display="inline" id="alg1.l5.m1.1"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1b"><msub id="alg1.l5.m1.1.1"><mi id="alg1.l5.m1.1.1.2">y</mi><mi id="alg1.l5.m1.1.1.3">j</mi></msub><mo id="alg1.l5.m1.1.2">=</mo><msub id="alg1.l5.m1.1.3"><mi id="alg1.l5.m1.1.3.2">f</mi><mi id="alg1.l5.m1.1.3.3">θ</mi></msub><mrow id="alg1.l5.m1.1.4"><mo id="alg1.l5.m1.1.4.1" stretchy="false">(</mo><msub id="alg1.l5.m1.1.4.2"><mi id="alg1.l5.m1.1.4.2.2">x</mi><mrow id="alg1.l5.m1.1.4.2.3"><mi id="alg1.l5.m1.1.4.2.3.2"></mi><mo id="alg1.l5.m1.1.4.2.3.1">&lt;</mo><mrow id="alg1.l5.m1.1.4.2.3.3"><mi id="alg1.l5.m1.1.4.2.3.3.2">i</mi><mo id="alg1.l5.m1.1.4.2.3.3.1">+</mo><mn id="alg1.l5.m1.1.4.2.3.3.3">1</mn></mrow></mrow></msub><mo id="alg1.l5.m1.1.4.3">;</mo><mo id="alg1.l5.m1.1.4.4">,</mo><msub id="alg1.l5.m1.1.4.5"><mi id="alg1.l5.m1.1.4.5.2">y</mi><mrow id="alg1.l5.m1.1.4.5.3"><mi id="alg1.l5.m1.1.4.5.3.2"></mi><mo id="alg1.l5.m1.1.4.5.3.1">&lt;</mo><mi id="alg1.l5.m1.1.4.5.3.3">j</mi></mrow></msub><mo id="alg1.l5.m1.1.4.6" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">y_{j}=f_{\theta}(x_{&lt;i+1};,y_{&lt;j})</annotation><annotation encoding="application/x-llamapun" id="alg1.l5.m1.1d">italic_y start_POSTSUBSCRIPT italic_j end_POSTSUBSCRIPT = italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( italic_x start_POSTSUBSCRIPT &lt; italic_i + 1 end_POSTSUBSCRIPT ; , italic_y start_POSTSUBSCRIPT &lt; italic_j end_POSTSUBSCRIPT )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l6">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l6.1.1.1" style="font-size:80%;">6:</span></span>     <span class="ltx_text ltx_font_bold" id="alg1.l6.2">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l6.3">if</span>
</div>
<div class="ltx_listingline" id="alg1.l7">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l7.1.1.1" style="font-size:80%;">7:</span></span>     <span class="ltx_text ltx_font_bold" id="alg1.l7.2">if</span> <math alttext="x_{i}\neq EndOfSequence" class="ltx_Math" display="inline" id="alg1.l7.m1.1"><semantics id="alg1.l7.m1.1a"><mrow id="alg1.l7.m1.1.1" xref="alg1.l7.m1.1.1.cmml"><msub id="alg1.l7.m1.1.1.2" xref="alg1.l7.m1.1.1.2.cmml"><mi id="alg1.l7.m1.1.1.2.2" xref="alg1.l7.m1.1.1.2.2.cmml">x</mi><mi id="alg1.l7.m1.1.1.2.3" xref="alg1.l7.m1.1.1.2.3.cmml">i</mi></msub><mo id="alg1.l7.m1.1.1.1" xref="alg1.l7.m1.1.1.1.cmml">≠</mo><mrow id="alg1.l7.m1.1.1.3" xref="alg1.l7.m1.1.1.3.cmml"><mi id="alg1.l7.m1.1.1.3.2" xref="alg1.l7.m1.1.1.3.2.cmml">E</mi><mo id="alg1.l7.m1.1.1.3.1" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.3" xref="alg1.l7.m1.1.1.3.3.cmml">n</mi><mo id="alg1.l7.m1.1.1.3.1a" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.4" xref="alg1.l7.m1.1.1.3.4.cmml">d</mi><mo id="alg1.l7.m1.1.1.3.1b" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.5" xref="alg1.l7.m1.1.1.3.5.cmml">O</mi><mo id="alg1.l7.m1.1.1.3.1c" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.6" xref="alg1.l7.m1.1.1.3.6.cmml">f</mi><mo id="alg1.l7.m1.1.1.3.1d" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.7" xref="alg1.l7.m1.1.1.3.7.cmml">S</mi><mo id="alg1.l7.m1.1.1.3.1e" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.8" xref="alg1.l7.m1.1.1.3.8.cmml">e</mi><mo id="alg1.l7.m1.1.1.3.1f" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.9" xref="alg1.l7.m1.1.1.3.9.cmml">q</mi><mo id="alg1.l7.m1.1.1.3.1g" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.10" xref="alg1.l7.m1.1.1.3.10.cmml">u</mi><mo id="alg1.l7.m1.1.1.3.1h" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.11" xref="alg1.l7.m1.1.1.3.11.cmml">e</mi><mo id="alg1.l7.m1.1.1.3.1i" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.12" xref="alg1.l7.m1.1.1.3.12.cmml">n</mi><mo id="alg1.l7.m1.1.1.3.1j" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.13" xref="alg1.l7.m1.1.1.3.13.cmml">c</mi><mo id="alg1.l7.m1.1.1.3.1k" xref="alg1.l7.m1.1.1.3.1.cmml">⁢</mo><mi id="alg1.l7.m1.1.1.3.14" xref="alg1.l7.m1.1.1.3.14.cmml">e</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.1b"><apply id="alg1.l7.m1.1.1.cmml" xref="alg1.l7.m1.1.1"><neq id="alg1.l7.m1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1"></neq><apply id="alg1.l7.m1.1.1.2.cmml" xref="alg1.l7.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.2.1.cmml" xref="alg1.l7.m1.1.1.2">subscript</csymbol><ci id="alg1.l7.m1.1.1.2.2.cmml" xref="alg1.l7.m1.1.1.2.2">𝑥</ci><ci id="alg1.l7.m1.1.1.2.3.cmml" xref="alg1.l7.m1.1.1.2.3">𝑖</ci></apply><apply id="alg1.l7.m1.1.1.3.cmml" xref="alg1.l7.m1.1.1.3"><times id="alg1.l7.m1.1.1.3.1.cmml" xref="alg1.l7.m1.1.1.3.1"></times><ci id="alg1.l7.m1.1.1.3.2.cmml" xref="alg1.l7.m1.1.1.3.2">𝐸</ci><ci id="alg1.l7.m1.1.1.3.3.cmml" xref="alg1.l7.m1.1.1.3.3">𝑛</ci><ci id="alg1.l7.m1.1.1.3.4.cmml" xref="alg1.l7.m1.1.1.3.4">𝑑</ci><ci id="alg1.l7.m1.1.1.3.5.cmml" xref="alg1.l7.m1.1.1.3.5">𝑂</ci><ci id="alg1.l7.m1.1.1.3.6.cmml" xref="alg1.l7.m1.1.1.3.6">𝑓</ci><ci id="alg1.l7.m1.1.1.3.7.cmml" xref="alg1.l7.m1.1.1.3.7">𝑆</ci><ci id="alg1.l7.m1.1.1.3.8.cmml" xref="alg1.l7.m1.1.1.3.8">𝑒</ci><ci id="alg1.l7.m1.1.1.3.9.cmml" xref="alg1.l7.m1.1.1.3.9">𝑞</ci><ci id="alg1.l7.m1.1.1.3.10.cmml" xref="alg1.l7.m1.1.1.3.10">𝑢</ci><ci id="alg1.l7.m1.1.1.3.11.cmml" xref="alg1.l7.m1.1.1.3.11">𝑒</ci><ci id="alg1.l7.m1.1.1.3.12.cmml" xref="alg1.l7.m1.1.1.3.12">𝑛</ci><ci id="alg1.l7.m1.1.1.3.13.cmml" xref="alg1.l7.m1.1.1.3.13">𝑐</ci><ci id="alg1.l7.m1.1.1.3.14.cmml" xref="alg1.l7.m1.1.1.3.14">𝑒</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.1c">x_{i}\neq EndOfSequence</annotation><annotation encoding="application/x-llamapun" id="alg1.l7.m1.1d">italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT ≠ italic_E italic_n italic_d italic_O italic_f italic_S italic_e italic_q italic_u italic_e italic_n italic_c italic_e</annotation></semantics></math> <span class="ltx_text ltx_font_bold" id="alg1.l7.3">then</span>
</div>
<div class="ltx_listingline" id="alg1.l8">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l8.1.1.1" style="font-size:80%;">8:</span></span>        <math alttext="\widehat{x}_{i+1}\leftarrow lm(x_{x_{&lt;i+1}})" class="ltx_Math" display="inline" id="alg1.l8.m1.1"><semantics id="alg1.l8.m1.1a"><mrow id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml"><msub id="alg1.l8.m1.1.1.3" xref="alg1.l8.m1.1.1.3.cmml"><mover accent="true" id="alg1.l8.m1.1.1.3.2" xref="alg1.l8.m1.1.1.3.2.cmml"><mi id="alg1.l8.m1.1.1.3.2.2" xref="alg1.l8.m1.1.1.3.2.2.cmml">x</mi><mo id="alg1.l8.m1.1.1.3.2.1" xref="alg1.l8.m1.1.1.3.2.1.cmml">^</mo></mover><mrow id="alg1.l8.m1.1.1.3.3" xref="alg1.l8.m1.1.1.3.3.cmml"><mi id="alg1.l8.m1.1.1.3.3.2" xref="alg1.l8.m1.1.1.3.3.2.cmml">i</mi><mo id="alg1.l8.m1.1.1.3.3.1" xref="alg1.l8.m1.1.1.3.3.1.cmml">+</mo><mn id="alg1.l8.m1.1.1.3.3.3" xref="alg1.l8.m1.1.1.3.3.3.cmml">1</mn></mrow></msub><mo id="alg1.l8.m1.1.1.2" stretchy="false" xref="alg1.l8.m1.1.1.2.cmml">←</mo><mrow id="alg1.l8.m1.1.1.1" xref="alg1.l8.m1.1.1.1.cmml"><mi id="alg1.l8.m1.1.1.1.3" xref="alg1.l8.m1.1.1.1.3.cmml">l</mi><mo id="alg1.l8.m1.1.1.1.2" xref="alg1.l8.m1.1.1.1.2.cmml">⁢</mo><mi id="alg1.l8.m1.1.1.1.4" xref="alg1.l8.m1.1.1.1.4.cmml">m</mi><mo id="alg1.l8.m1.1.1.1.2a" xref="alg1.l8.m1.1.1.1.2.cmml">⁢</mo><mrow id="alg1.l8.m1.1.1.1.1.1" xref="alg1.l8.m1.1.1.1.1.1.1.cmml"><mo id="alg1.l8.m1.1.1.1.1.1.2" stretchy="false" xref="alg1.l8.m1.1.1.1.1.1.1.cmml">(</mo><msub id="alg1.l8.m1.1.1.1.1.1.1" xref="alg1.l8.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l8.m1.1.1.1.1.1.1.2" xref="alg1.l8.m1.1.1.1.1.1.1.2.cmml">x</mi><msub id="alg1.l8.m1.1.1.1.1.1.1.3" xref="alg1.l8.m1.1.1.1.1.1.1.3.cmml"><mi id="alg1.l8.m1.1.1.1.1.1.1.3.2" xref="alg1.l8.m1.1.1.1.1.1.1.3.2.cmml">x</mi><mrow id="alg1.l8.m1.1.1.1.1.1.1.3.3" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.cmml"><mi id="alg1.l8.m1.1.1.1.1.1.1.3.3.2" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.2.cmml"></mi><mo id="alg1.l8.m1.1.1.1.1.1.1.3.3.1" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.1.cmml">&lt;</mo><mrow id="alg1.l8.m1.1.1.1.1.1.1.3.3.3" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.3.cmml"><mi id="alg1.l8.m1.1.1.1.1.1.1.3.3.3.2" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.3.2.cmml">i</mi><mo id="alg1.l8.m1.1.1.1.1.1.1.3.3.3.1" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.3.1.cmml">+</mo><mn id="alg1.l8.m1.1.1.1.1.1.1.3.3.3.3" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.3.3.cmml">1</mn></mrow></mrow></msub></msub><mo id="alg1.l8.m1.1.1.1.1.1.3" stretchy="false" xref="alg1.l8.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><apply id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1"><ci id="alg1.l8.m1.1.1.2.cmml" xref="alg1.l8.m1.1.1.2">←</ci><apply id="alg1.l8.m1.1.1.3.cmml" xref="alg1.l8.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.3.1.cmml" xref="alg1.l8.m1.1.1.3">subscript</csymbol><apply id="alg1.l8.m1.1.1.3.2.cmml" xref="alg1.l8.m1.1.1.3.2"><ci id="alg1.l8.m1.1.1.3.2.1.cmml" xref="alg1.l8.m1.1.1.3.2.1">^</ci><ci id="alg1.l8.m1.1.1.3.2.2.cmml" xref="alg1.l8.m1.1.1.3.2.2">𝑥</ci></apply><apply id="alg1.l8.m1.1.1.3.3.cmml" xref="alg1.l8.m1.1.1.3.3"><plus id="alg1.l8.m1.1.1.3.3.1.cmml" xref="alg1.l8.m1.1.1.3.3.1"></plus><ci id="alg1.l8.m1.1.1.3.3.2.cmml" xref="alg1.l8.m1.1.1.3.3.2">𝑖</ci><cn id="alg1.l8.m1.1.1.3.3.3.cmml" type="integer" xref="alg1.l8.m1.1.1.3.3.3">1</cn></apply></apply><apply id="alg1.l8.m1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1"><times id="alg1.l8.m1.1.1.1.2.cmml" xref="alg1.l8.m1.1.1.1.2"></times><ci id="alg1.l8.m1.1.1.1.3.cmml" xref="alg1.l8.m1.1.1.1.3">𝑙</ci><ci id="alg1.l8.m1.1.1.1.4.cmml" xref="alg1.l8.m1.1.1.1.4">𝑚</ci><apply id="alg1.l8.m1.1.1.1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l8.m1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l8.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.2">𝑥</ci><apply id="alg1.l8.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l8.m1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3">subscript</csymbol><ci id="alg1.l8.m1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3.2">𝑥</ci><apply id="alg1.l8.m1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3.3"><lt id="alg1.l8.m1.1.1.1.1.1.1.3.3.1.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.1"></lt><csymbol cd="latexml" id="alg1.l8.m1.1.1.1.1.1.1.3.3.2.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.2">absent</csymbol><apply id="alg1.l8.m1.1.1.1.1.1.1.3.3.3.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.3"><plus id="alg1.l8.m1.1.1.1.1.1.1.3.3.3.1.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.3.1"></plus><ci id="alg1.l8.m1.1.1.1.1.1.1.3.3.3.2.cmml" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.3.2">𝑖</ci><cn id="alg1.l8.m1.1.1.1.1.1.1.3.3.3.3.cmml" type="integer" xref="alg1.l8.m1.1.1.1.1.1.1.3.3.3.3">1</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">\widehat{x}_{i+1}\leftarrow lm(x_{x_{&lt;i+1}})</annotation><annotation encoding="application/x-llamapun" id="alg1.l8.m1.1d">over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT ← italic_l italic_m ( italic_x start_POSTSUBSCRIPT italic_x start_POSTSUBSCRIPT &lt; italic_i + 1 end_POSTSUBSCRIPT end_POSTSUBSCRIPT )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l9">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l9.1.1.1" style="font-size:80%;">9:</span></span>        <math alttext="y_{j+1}\leftarrow f_{\theta}([x_{&lt;{i+1}};\widehat{x}_{i+1}],y_{&lt;j+1})" class="ltx_Math" display="inline" id="alg1.l9.m1.2"><semantics id="alg1.l9.m1.2a"><mrow id="alg1.l9.m1.2.2" xref="alg1.l9.m1.2.2.cmml"><msub id="alg1.l9.m1.2.2.4" xref="alg1.l9.m1.2.2.4.cmml"><mi id="alg1.l9.m1.2.2.4.2" xref="alg1.l9.m1.2.2.4.2.cmml">y</mi><mrow id="alg1.l9.m1.2.2.4.3" xref="alg1.l9.m1.2.2.4.3.cmml"><mi id="alg1.l9.m1.2.2.4.3.2" xref="alg1.l9.m1.2.2.4.3.2.cmml">j</mi><mo id="alg1.l9.m1.2.2.4.3.1" xref="alg1.l9.m1.2.2.4.3.1.cmml">+</mo><mn id="alg1.l9.m1.2.2.4.3.3" xref="alg1.l9.m1.2.2.4.3.3.cmml">1</mn></mrow></msub><mo id="alg1.l9.m1.2.2.3" stretchy="false" xref="alg1.l9.m1.2.2.3.cmml">←</mo><mrow id="alg1.l9.m1.2.2.2" xref="alg1.l9.m1.2.2.2.cmml"><msub id="alg1.l9.m1.2.2.2.4" xref="alg1.l9.m1.2.2.2.4.cmml"><mi id="alg1.l9.m1.2.2.2.4.2" xref="alg1.l9.m1.2.2.2.4.2.cmml">f</mi><mi id="alg1.l9.m1.2.2.2.4.3" xref="alg1.l9.m1.2.2.2.4.3.cmml">θ</mi></msub><mo id="alg1.l9.m1.2.2.2.3" xref="alg1.l9.m1.2.2.2.3.cmml">⁢</mo><mrow id="alg1.l9.m1.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.3.cmml"><mo id="alg1.l9.m1.2.2.2.2.2.3" stretchy="false" xref="alg1.l9.m1.2.2.2.2.3.cmml">(</mo><mrow id="alg1.l9.m1.1.1.1.1.1.1.2" xref="alg1.l9.m1.1.1.1.1.1.1.3.cmml"><mo id="alg1.l9.m1.1.1.1.1.1.1.2.3" stretchy="false" xref="alg1.l9.m1.1.1.1.1.1.1.3.cmml">[</mo><msub id="alg1.l9.m1.1.1.1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.1.1.2" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.2.cmml">x</mi><mrow id="alg1.l9.m1.1.1.1.1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.2" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.2.cmml"></mi><mo id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.1" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.1.cmml">&lt;</mo><mrow id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.2" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.2.cmml">i</mi><mo id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.1" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.1.cmml">+</mo><mn id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.3" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="alg1.l9.m1.1.1.1.1.1.1.2.4" xref="alg1.l9.m1.1.1.1.1.1.1.3.cmml">;</mo><msub id="alg1.l9.m1.1.1.1.1.1.1.2.2" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.cmml"><mover accent="true" id="alg1.l9.m1.1.1.1.1.1.1.2.2.2" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.2.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.2.2.2.2" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.2.2.cmml">x</mi><mo id="alg1.l9.m1.1.1.1.1.1.1.2.2.2.1" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.2.1.cmml">^</mo></mover><mrow id="alg1.l9.m1.1.1.1.1.1.1.2.2.3" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.3.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.2.2.3.2" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="alg1.l9.m1.1.1.1.1.1.1.2.2.3.1" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.3.1.cmml">+</mo><mn id="alg1.l9.m1.1.1.1.1.1.1.2.2.3.3" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow></msub><mo id="alg1.l9.m1.1.1.1.1.1.1.2.5" stretchy="false" xref="alg1.l9.m1.1.1.1.1.1.1.3.cmml">]</mo></mrow><mo id="alg1.l9.m1.2.2.2.2.2.4" xref="alg1.l9.m1.2.2.2.2.3.cmml">,</mo><msub id="alg1.l9.m1.2.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.2.cmml"><mi id="alg1.l9.m1.2.2.2.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.2.2.2.cmml">y</mi><mrow id="alg1.l9.m1.2.2.2.2.2.2.3" xref="alg1.l9.m1.2.2.2.2.2.2.3.cmml"><mi id="alg1.l9.m1.2.2.2.2.2.2.3.2" xref="alg1.l9.m1.2.2.2.2.2.2.3.2.cmml"></mi><mo id="alg1.l9.m1.2.2.2.2.2.2.3.1" xref="alg1.l9.m1.2.2.2.2.2.2.3.1.cmml">&lt;</mo><mrow id="alg1.l9.m1.2.2.2.2.2.2.3.3" xref="alg1.l9.m1.2.2.2.2.2.2.3.3.cmml"><mi id="alg1.l9.m1.2.2.2.2.2.2.3.3.2" xref="alg1.l9.m1.2.2.2.2.2.2.3.3.2.cmml">j</mi><mo id="alg1.l9.m1.2.2.2.2.2.2.3.3.1" xref="alg1.l9.m1.2.2.2.2.2.2.3.3.1.cmml">+</mo><mn id="alg1.l9.m1.2.2.2.2.2.2.3.3.3" xref="alg1.l9.m1.2.2.2.2.2.2.3.3.3.cmml">1</mn></mrow></mrow></msub><mo id="alg1.l9.m1.2.2.2.2.2.5" stretchy="false" xref="alg1.l9.m1.2.2.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.2b"><apply id="alg1.l9.m1.2.2.cmml" xref="alg1.l9.m1.2.2"><ci id="alg1.l9.m1.2.2.3.cmml" xref="alg1.l9.m1.2.2.3">←</ci><apply id="alg1.l9.m1.2.2.4.cmml" xref="alg1.l9.m1.2.2.4"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.4.1.cmml" xref="alg1.l9.m1.2.2.4">subscript</csymbol><ci id="alg1.l9.m1.2.2.4.2.cmml" xref="alg1.l9.m1.2.2.4.2">𝑦</ci><apply id="alg1.l9.m1.2.2.4.3.cmml" xref="alg1.l9.m1.2.2.4.3"><plus id="alg1.l9.m1.2.2.4.3.1.cmml" xref="alg1.l9.m1.2.2.4.3.1"></plus><ci id="alg1.l9.m1.2.2.4.3.2.cmml" xref="alg1.l9.m1.2.2.4.3.2">𝑗</ci><cn id="alg1.l9.m1.2.2.4.3.3.cmml" type="integer" xref="alg1.l9.m1.2.2.4.3.3">1</cn></apply></apply><apply id="alg1.l9.m1.2.2.2.cmml" xref="alg1.l9.m1.2.2.2"><times id="alg1.l9.m1.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.3"></times><apply id="alg1.l9.m1.2.2.2.4.cmml" xref="alg1.l9.m1.2.2.2.4"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.4.1.cmml" xref="alg1.l9.m1.2.2.2.4">subscript</csymbol><ci id="alg1.l9.m1.2.2.2.4.2.cmml" xref="alg1.l9.m1.2.2.2.4.2">𝑓</ci><ci id="alg1.l9.m1.2.2.2.4.3.cmml" xref="alg1.l9.m1.2.2.2.4.3">𝜃</ci></apply><interval closure="open" id="alg1.l9.m1.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2"><list id="alg1.l9.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2"><apply id="alg1.l9.m1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.2">𝑥</ci><apply id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3"><lt id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.1"></lt><csymbol cd="latexml" id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.2">absent</csymbol><apply id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3"><plus id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.1"></plus><ci id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.2">𝑖</ci><cn id="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.3.cmml" type="integer" xref="alg1.l9.m1.1.1.1.1.1.1.1.1.3.3.3">1</cn></apply></apply></apply><apply id="alg1.l9.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.2.2.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2">subscript</csymbol><apply id="alg1.l9.m1.1.1.1.1.1.1.2.2.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.2"><ci id="alg1.l9.m1.1.1.1.1.1.1.2.2.2.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.2.1">^</ci><ci id="alg1.l9.m1.1.1.1.1.1.1.2.2.2.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.2.2">𝑥</ci></apply><apply id="alg1.l9.m1.1.1.1.1.1.1.2.2.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.3"><plus id="alg1.l9.m1.1.1.1.1.1.1.2.2.3.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.3.1"></plus><ci id="alg1.l9.m1.1.1.1.1.1.1.2.2.3.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.3.2">𝑖</ci><cn id="alg1.l9.m1.1.1.1.1.1.1.2.2.3.3.cmml" type="integer" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply></list><apply id="alg1.l9.m1.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.2.2.2.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.2">subscript</csymbol><ci id="alg1.l9.m1.2.2.2.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.2">𝑦</ci><apply id="alg1.l9.m1.2.2.2.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3"><lt id="alg1.l9.m1.2.2.2.2.2.2.3.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3.1"></lt><csymbol cd="latexml" id="alg1.l9.m1.2.2.2.2.2.2.3.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3.2">absent</csymbol><apply id="alg1.l9.m1.2.2.2.2.2.2.3.3.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3.3"><plus id="alg1.l9.m1.2.2.2.2.2.2.3.3.1.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3.3.1"></plus><ci id="alg1.l9.m1.2.2.2.2.2.2.3.3.2.cmml" xref="alg1.l9.m1.2.2.2.2.2.2.3.3.2">𝑗</ci><cn id="alg1.l9.m1.2.2.2.2.2.2.3.3.3.cmml" type="integer" xref="alg1.l9.m1.2.2.2.2.2.2.3.3.3">1</cn></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.2c">y_{j+1}\leftarrow f_{\theta}([x_{&lt;{i+1}};\widehat{x}_{i+1}],y_{&lt;j+1})</annotation><annotation encoding="application/x-llamapun" id="alg1.l9.m1.2d">italic_y start_POSTSUBSCRIPT italic_j + 1 end_POSTSUBSCRIPT ← italic_f start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT ( [ italic_x start_POSTSUBSCRIPT &lt; italic_i + 1 end_POSTSUBSCRIPT ; over^ start_ARG italic_x end_ARG start_POSTSUBSCRIPT italic_i + 1 end_POSTSUBSCRIPT ] , italic_y start_POSTSUBSCRIPT &lt; italic_j + 1 end_POSTSUBSCRIPT )</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l10">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l10.1.1.1" style="font-size:80%;">10:</span></span>        <math alttext="j\leftarrow j+1" class="ltx_Math" display="inline" id="alg1.l10.m1.1"><semantics id="alg1.l10.m1.1a"><mrow id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml"><mi id="alg1.l10.m1.1.1.2" xref="alg1.l10.m1.1.1.2.cmml">j</mi><mo id="alg1.l10.m1.1.1.1" stretchy="false" xref="alg1.l10.m1.1.1.1.cmml">←</mo><mrow id="alg1.l10.m1.1.1.3" xref="alg1.l10.m1.1.1.3.cmml"><mi id="alg1.l10.m1.1.1.3.2" xref="alg1.l10.m1.1.1.3.2.cmml">j</mi><mo id="alg1.l10.m1.1.1.3.1" xref="alg1.l10.m1.1.1.3.1.cmml">+</mo><mn id="alg1.l10.m1.1.1.3.3" xref="alg1.l10.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1"><ci id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1">←</ci><ci id="alg1.l10.m1.1.1.2.cmml" xref="alg1.l10.m1.1.1.2">𝑗</ci><apply id="alg1.l10.m1.1.1.3.cmml" xref="alg1.l10.m1.1.1.3"><plus id="alg1.l10.m1.1.1.3.1.cmml" xref="alg1.l10.m1.1.1.3.1"></plus><ci id="alg1.l10.m1.1.1.3.2.cmml" xref="alg1.l10.m1.1.1.3.2">𝑗</ci><cn id="alg1.l10.m1.1.1.3.3.cmml" type="integer" xref="alg1.l10.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">j\leftarrow j+1</annotation><annotation encoding="application/x-llamapun" id="alg1.l10.m1.1d">italic_j ← italic_j + 1</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l11">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l11.1.1.1" style="font-size:80%;">11:</span></span>     <span class="ltx_text ltx_font_bold" id="alg1.l11.2">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l11.3">if</span>
</div>
<div class="ltx_listingline" id="alg1.l12">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l12.1.1.1" style="font-size:80%;">12:</span></span>     <math alttext="i\leftarrow i+1" class="ltx_Math" display="inline" id="alg1.l12.m1.1"><semantics id="alg1.l12.m1.1a"><mrow id="alg1.l12.m1.1.1" xref="alg1.l12.m1.1.1.cmml"><mi id="alg1.l12.m1.1.1.2" xref="alg1.l12.m1.1.1.2.cmml">i</mi><mo id="alg1.l12.m1.1.1.1" stretchy="false" xref="alg1.l12.m1.1.1.1.cmml">←</mo><mrow id="alg1.l12.m1.1.1.3" xref="alg1.l12.m1.1.1.3.cmml"><mi id="alg1.l12.m1.1.1.3.2" xref="alg1.l12.m1.1.1.3.2.cmml">i</mi><mo id="alg1.l12.m1.1.1.3.1" xref="alg1.l12.m1.1.1.3.1.cmml">+</mo><mn id="alg1.l12.m1.1.1.3.3" xref="alg1.l12.m1.1.1.3.3.cmml">1</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.1b"><apply id="alg1.l12.m1.1.1.cmml" xref="alg1.l12.m1.1.1"><ci id="alg1.l12.m1.1.1.1.cmml" xref="alg1.l12.m1.1.1.1">←</ci><ci id="alg1.l12.m1.1.1.2.cmml" xref="alg1.l12.m1.1.1.2">𝑖</ci><apply id="alg1.l12.m1.1.1.3.cmml" xref="alg1.l12.m1.1.1.3"><plus id="alg1.l12.m1.1.1.3.1.cmml" xref="alg1.l12.m1.1.1.3.1"></plus><ci id="alg1.l12.m1.1.1.3.2.cmml" xref="alg1.l12.m1.1.1.3.2">𝑖</ci><cn id="alg1.l12.m1.1.1.3.3.cmml" type="integer" xref="alg1.l12.m1.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.1c">i\leftarrow i+1</annotation><annotation encoding="application/x-llamapun" id="alg1.l12.m1.1d">italic_i ← italic_i + 1</annotation></semantics></math>
</div>
<div class="ltx_listingline" id="alg1.l13">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l13.1.1.1" style="font-size:80%;">13:</span></span>  <span class="ltx_text ltx_font_bold" id="alg1.l13.2">end</span> <span class="ltx_text ltx_font_bold" id="alg1.l13.3">while</span>
</div>
<div class="ltx_listingline" id="alg1.l14">
<span class="ltx_tag ltx_tag_listingline"><span class="ltx_text" id="alg1.l14.1.1.1" style="font-size:80%;">14:</span></span>  <span class="ltx_text ltx_font_bold" id="alg1.l14.2">return</span>  target tokens <math alttext="\mathbf{Y}" class="ltx_Math" display="inline" id="alg1.l14.m1.1"><semantics id="alg1.l14.m1.1a"><mi id="alg1.l14.m1.1.1" xref="alg1.l14.m1.1.1.cmml">𝐘</mi><annotation-xml encoding="MathML-Content" id="alg1.l14.m1.1b"><ci id="alg1.l14.m1.1.1.cmml" xref="alg1.l14.m1.1.1">𝐘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.m1.1c">\mathbf{Y}</annotation><annotation encoding="application/x-llamapun" id="alg1.l14.m1.1d">bold_Y</annotation></semantics></math>
</div>
</div>
</figure>
</section>
<section class="ltx_subsection" id="S3.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Shared Encoder and Language Model</h3>
<div class="ltx_para" id="S3.SS2.p1">
<p class="ltx_p" id="S3.SS2.p1.1">To further save resources, we try to introduce a pre-trained language model (here GPT2) <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib21" title="">21</a>]</cite> as a shared encoder and branch predictor in SiMT, and add an auxiliary language model loss (LM Loss) after the encoder.
The language model can introduce prior knowledge similar to that used by a human simultaneous translator when translating <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib22" title="">22</a>]</cite>. For example, when he sees that the speaker has said ”I love”, he will guess that he may say ”you” with a high probability.
In addition, inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib23" title="">23</a>]</cite>, we first froze the parameters of the encoder. Then we unfroze the encoder after the randomly initialized decoder was sufficiently trained to train the whole model.
So the loss function of the first stage is as follows:</p>
</div>
<div class="ltx_para" id="S3.SS2.p2">
<table class="ltx_equation ltx_eqn_table" id="S3.E4">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\mathcal{L}_{\theta_{dec}}=\sum_{\langle\mathbf{X},\mathbf{Y}\rangle\in D}\log%
(p(\mathbf{Y}|\mathbf{X};,\theta_{dec}))" class="ltx_math_unparsed" display="block" id="S3.E4.m1.2"><semantics id="S3.E4.m1.2a"><mrow id="S3.E4.m1.2b"><msub id="S3.E4.m1.2.3"><mi class="ltx_font_mathcaligraphic" id="S3.E4.m1.2.3.2">ℒ</mi><msub id="S3.E4.m1.2.3.3"><mi id="S3.E4.m1.2.3.3.2">θ</mi><mrow id="S3.E4.m1.2.3.3.3"><mi id="S3.E4.m1.2.3.3.3.2">d</mi><mo id="S3.E4.m1.2.3.3.3.1">⁢</mo><mi id="S3.E4.m1.2.3.3.3.3">e</mi><mo id="S3.E4.m1.2.3.3.3.1a">⁢</mo><mi id="S3.E4.m1.2.3.3.3.4">c</mi></mrow></msub></msub><mo id="S3.E4.m1.2.4" rspace="0.111em">=</mo><munder id="S3.E4.m1.2.5"><mo id="S3.E4.m1.2.5.2" movablelimits="false">∑</mo><mrow id="S3.E4.m1.2.2.2"><mrow id="S3.E4.m1.2.2.2.4.2"><mo id="S3.E4.m1.2.2.2.4.2.1" stretchy="false">⟨</mo><mi id="S3.E4.m1.1.1.1.1">𝐗</mi><mo id="S3.E4.m1.2.2.2.4.2.2">,</mo><mi id="S3.E4.m1.2.2.2.2">𝐘</mi><mo id="S3.E4.m1.2.2.2.4.2.3" stretchy="false">⟩</mo></mrow><mo id="S3.E4.m1.2.2.2.3">∈</mo><mi id="S3.E4.m1.2.2.2.5">D</mi></mrow></munder><mi id="S3.E4.m1.2.6">log</mi><mrow id="S3.E4.m1.2.7"><mo id="S3.E4.m1.2.7.1" stretchy="false">(</mo><mi id="S3.E4.m1.2.7.2">p</mi><mrow id="S3.E4.m1.2.7.3"><mo id="S3.E4.m1.2.7.3.1" stretchy="false">(</mo><mi id="S3.E4.m1.2.7.3.2">𝐘</mi><mo fence="false" id="S3.E4.m1.2.7.3.3" rspace="0.167em" stretchy="false">|</mo><mi id="S3.E4.m1.2.7.3.4">𝐗</mi><mo id="S3.E4.m1.2.7.3.5">;</mo><mo id="S3.E4.m1.2.7.3.6">,</mo><msub id="S3.E4.m1.2.7.3.7"><mi id="S3.E4.m1.2.7.3.7.2">θ</mi><mrow id="S3.E4.m1.2.7.3.7.3"><mi id="S3.E4.m1.2.7.3.7.3.2">d</mi><mo id="S3.E4.m1.2.7.3.7.3.1">⁢</mo><mi id="S3.E4.m1.2.7.3.7.3.3">e</mi><mo id="S3.E4.m1.2.7.3.7.3.1a">⁢</mo><mi id="S3.E4.m1.2.7.3.7.3.4">c</mi></mrow></msub><mo id="S3.E4.m1.2.7.3.8" stretchy="false">)</mo></mrow><mo id="S3.E4.m1.2.7.4" stretchy="false">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.E4.m1.2c">\mathcal{L}_{\theta_{dec}}=\sum_{\langle\mathbf{X},\mathbf{Y}\rangle\in D}\log%
(p(\mathbf{Y}|\mathbf{X};,\theta_{dec}))</annotation><annotation encoding="application/x-llamapun" id="S3.E4.m1.2d">caligraphic_L start_POSTSUBSCRIPT italic_θ start_POSTSUBSCRIPT italic_d italic_e italic_c end_POSTSUBSCRIPT end_POSTSUBSCRIPT = ∑ start_POSTSUBSCRIPT ⟨ bold_X , bold_Y ⟩ ∈ italic_D end_POSTSUBSCRIPT roman_log ( italic_p ( bold_Y | bold_X ; , italic_θ start_POSTSUBSCRIPT italic_d italic_e italic_c end_POSTSUBSCRIPT ) )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
</table>
<p class="ltx_p" id="S3.SS2.p2.2">where <math alttext="D" class="ltx_Math" display="inline" id="S3.SS2.p2.1.m1.1"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">D</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.1.m1.1d">italic_D</annotation></semantics></math> represents the training set, and <math alttext="\theta_{dec}" class="ltx_Math" display="inline" id="S3.SS2.p2.2.m2.1"><semantics id="S3.SS2.p2.2.m2.1a"><msub id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml"><mi id="S3.SS2.p2.2.m2.1.1.2" xref="S3.SS2.p2.2.m2.1.1.2.cmml">θ</mi><mrow id="S3.SS2.p2.2.m2.1.1.3" xref="S3.SS2.p2.2.m2.1.1.3.cmml"><mi id="S3.SS2.p2.2.m2.1.1.3.2" xref="S3.SS2.p2.2.m2.1.1.3.2.cmml">d</mi><mo id="S3.SS2.p2.2.m2.1.1.3.1" xref="S3.SS2.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.2.m2.1.1.3.3" xref="S3.SS2.p2.2.m2.1.1.3.3.cmml">e</mi><mo id="S3.SS2.p2.2.m2.1.1.3.1a" xref="S3.SS2.p2.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p2.2.m2.1.1.3.4" xref="S3.SS2.p2.2.m2.1.1.3.4.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><apply id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.2.m2.1.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p2.2.m2.1.1.2.cmml" xref="S3.SS2.p2.2.m2.1.1.2">𝜃</ci><apply id="S3.SS2.p2.2.m2.1.1.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3"><times id="S3.SS2.p2.2.m2.1.1.3.1.cmml" xref="S3.SS2.p2.2.m2.1.1.3.1"></times><ci id="S3.SS2.p2.2.m2.1.1.3.2.cmml" xref="S3.SS2.p2.2.m2.1.1.3.2">𝑑</ci><ci id="S3.SS2.p2.2.m2.1.1.3.3.cmml" xref="S3.SS2.p2.2.m2.1.1.3.3">𝑒</ci><ci id="S3.SS2.p2.2.m2.1.1.3.4.cmml" xref="S3.SS2.p2.2.m2.1.1.3.4">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">\theta_{dec}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p2.2.m2.1d">italic_θ start_POSTSUBSCRIPT italic_d italic_e italic_c end_POSTSUBSCRIPT</annotation></semantics></math> represents the parameters of the decoder.</p>
</div>
<div class="ltx_para" id="S3.SS2.p3">
<p class="ltx_p" id="S3.SS2.p3.1">And when the decoder is sufficiently trained, the loss function of the second stage is as follows:</p>
</div>
<div class="ltx_para" id="S3.SS2.p4">
<table class="ltx_equation ltx_eqn_table" id="S3.E5">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="\begin{split}\mathcal{L}_{\theta}=&amp;\sum_{\langle\mathbf{X},\mathbf{Y}\rangle%
\in D}\log(p(\mathbf{Y}|\mathbf{X};,\theta))+\\
&amp;\lambda\sum_{\mathbf{X}\in D}\sum_{i=1}^{N}\log(p(x_{i}|x_{&lt;i};,\theta_{enc})%
)\end{split}" class="ltx_math_unparsed" display="block" id="S3.E5.m1.39"><semantics id="S3.E5.m1.39a"><mtable columnspacing="0pt" displaystyle="true" id="S3.E5.m1.39.39" rowspacing="0pt"><mtr id="S3.E5.m1.39.39a"><mtd class="ltx_align_right" columnalign="right" id="S3.E5.m1.39.39b"><mrow id="S3.E5.m1.3.3.3.3.3"><msub id="S3.E5.m1.3.3.3.3.3.4"><mi class="ltx_font_mathcaligraphic" id="S3.E5.m1.1.1.1.1.1.1">ℒ</mi><mi id="S3.E5.m1.2.2.2.2.2.2.1">θ</mi></msub><mo id="S3.E5.m1.3.3.3.3.3.3">=</mo><mi id="S3.E5.m1.3.3.3.3.3.5"></mi></mrow></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.39.39c"><mrow id="S3.E5.m1.18.18.18.18.15"><munder id="S3.E5.m1.18.18.18.18.15.16"><mo id="S3.E5.m1.4.4.4.4.1.1" movablelimits="false">∑</mo><mrow id="S3.E5.m1.5.5.5.5.2.2.1"><mrow id="S3.E5.m1.5.5.5.5.2.2.1.4.2"><mo id="S3.E5.m1.5.5.5.5.2.2.1.4.2.1" stretchy="false">⟨</mo><mi id="S3.E5.m1.5.5.5.5.2.2.1.1">𝐗</mi><mo id="S3.E5.m1.5.5.5.5.2.2.1.4.2.2">,</mo><mi id="S3.E5.m1.5.5.5.5.2.2.1.2">𝐘</mi><mo id="S3.E5.m1.5.5.5.5.2.2.1.4.2.3" stretchy="false">⟩</mo></mrow><mo id="S3.E5.m1.5.5.5.5.2.2.1.3">∈</mo><mi id="S3.E5.m1.5.5.5.5.2.2.1.5">D</mi></mrow></munder><mi id="S3.E5.m1.6.6.6.6.3.3">log</mi><mrow id="S3.E5.m1.18.18.18.18.15.17"><mo id="S3.E5.m1.7.7.7.7.4.4" stretchy="false">(</mo><mi id="S3.E5.m1.8.8.8.8.5.5">p</mi><mrow id="S3.E5.m1.18.18.18.18.15.17.1"><mo id="S3.E5.m1.9.9.9.9.6.6" stretchy="false">(</mo><mi id="S3.E5.m1.10.10.10.10.7.7">𝐘</mi><mo fence="false" id="S3.E5.m1.11.11.11.11.8.8" rspace="0.167em" stretchy="false">|</mo><mi id="S3.E5.m1.12.12.12.12.9.9">𝐗</mi><mo id="S3.E5.m1.13.13.13.13.10.10">;</mo><mo id="S3.E5.m1.14.14.14.14.11.11">,</mo><mi id="S3.E5.m1.15.15.15.15.12.12">θ</mi><mo id="S3.E5.m1.16.16.16.16.13.13" stretchy="false">)</mo></mrow><mo id="S3.E5.m1.17.17.17.17.14.14" stretchy="false">)</mo></mrow><mo id="S3.E5.m1.18.18.18.18.15.15">+</mo></mrow></mtd></mtr><mtr id="S3.E5.m1.39.39d"><mtd id="S3.E5.m1.39.39e"></mtd><mtd class="ltx_align_left" columnalign="left" id="S3.E5.m1.39.39f"><mrow id="S3.E5.m1.39.39.39.21.21"><mi id="S3.E5.m1.19.19.19.1.1.1">λ</mi><munder id="S3.E5.m1.39.39.39.21.21.22"><mo id="S3.E5.m1.20.20.20.2.2.2" movablelimits="false" rspace="0em">∑</mo><mrow id="S3.E5.m1.21.21.21.3.3.3.1"><mi id="S3.E5.m1.21.21.21.3.3.3.1.2">𝐗</mi><mo id="S3.E5.m1.21.21.21.3.3.3.1.1">∈</mo><mi id="S3.E5.m1.21.21.21.3.3.3.1.3">D</mi></mrow></munder><munderover id="S3.E5.m1.39.39.39.21.21.23"><mo id="S3.E5.m1.22.22.22.4.4.4" movablelimits="false">∑</mo><mrow id="S3.E5.m1.23.23.23.5.5.5.1"><mi id="S3.E5.m1.23.23.23.5.5.5.1.2">i</mi><mo id="S3.E5.m1.23.23.23.5.5.5.1.1">=</mo><mn id="S3.E5.m1.23.23.23.5.5.5.1.3">1</mn></mrow><mi id="S3.E5.m1.24.24.24.6.6.6.1">N</mi></munderover><mi id="S3.E5.m1.25.25.25.7.7.7">log</mi><mrow id="S3.E5.m1.39.39.39.21.21.24"><mo id="S3.E5.m1.26.26.26.8.8.8" stretchy="false">(</mo><mi id="S3.E5.m1.27.27.27.9.9.9">p</mi><mrow id="S3.E5.m1.39.39.39.21.21.24.1"><mo id="S3.E5.m1.28.28.28.10.10.10" stretchy="false">(</mo><msub id="S3.E5.m1.39.39.39.21.21.24.1.1"><mi id="S3.E5.m1.29.29.29.11.11.11">x</mi><mi id="S3.E5.m1.30.30.30.12.12.12.1">i</mi></msub><mo fence="false" id="S3.E5.m1.31.31.31.13.13.13" rspace="0.167em" stretchy="false">|</mo><msub id="S3.E5.m1.39.39.39.21.21.24.1.2"><mi id="S3.E5.m1.32.32.32.14.14.14">x</mi><mrow id="S3.E5.m1.33.33.33.15.15.15.1"><mi id="S3.E5.m1.33.33.33.15.15.15.1.2"></mi><mo id="S3.E5.m1.33.33.33.15.15.15.1.1">&lt;</mo><mi id="S3.E5.m1.33.33.33.15.15.15.1.3">i</mi></mrow></msub><mo id="S3.E5.m1.34.34.34.16.16.16">;</mo><mo id="S3.E5.m1.35.35.35.17.17.17">,</mo><msub id="S3.E5.m1.39.39.39.21.21.24.1.3"><mi id="S3.E5.m1.36.36.36.18.18.18">θ</mi><mrow id="S3.E5.m1.37.37.37.19.19.19.1"><mi id="S3.E5.m1.37.37.37.19.19.19.1.2">e</mi><mo id="S3.E5.m1.37.37.37.19.19.19.1.1">⁢</mo><mi id="S3.E5.m1.37.37.37.19.19.19.1.3">n</mi><mo id="S3.E5.m1.37.37.37.19.19.19.1.1a">⁢</mo><mi id="S3.E5.m1.37.37.37.19.19.19.1.4">c</mi></mrow></msub><mo id="S3.E5.m1.38.38.38.20.20.20" stretchy="false">)</mo></mrow><mo id="S3.E5.m1.39.39.39.21.21.21" stretchy="false">)</mo></mrow></mrow></mtd></mtr></mtable><annotation encoding="application/x-tex" id="S3.E5.m1.39b">\begin{split}\mathcal{L}_{\theta}=&amp;\sum_{\langle\mathbf{X},\mathbf{Y}\rangle%
\in D}\log(p(\mathbf{Y}|\mathbf{X};,\theta))+\\
&amp;\lambda\sum_{\mathbf{X}\in D}\sum_{i=1}^{N}\log(p(x_{i}|x_{&lt;i};,\theta_{enc})%
)\end{split}</annotation><annotation encoding="application/x-llamapun" id="S3.E5.m1.39c">start_ROW start_CELL caligraphic_L start_POSTSUBSCRIPT italic_θ end_POSTSUBSCRIPT = end_CELL start_CELL ∑ start_POSTSUBSCRIPT ⟨ bold_X , bold_Y ⟩ ∈ italic_D end_POSTSUBSCRIPT roman_log ( italic_p ( bold_Y | bold_X ; , italic_θ ) ) + end_CELL end_ROW start_ROW start_CELL end_CELL start_CELL italic_λ ∑ start_POSTSUBSCRIPT bold_X ∈ italic_D end_POSTSUBSCRIPT ∑ start_POSTSUBSCRIPT italic_i = 1 end_POSTSUBSCRIPT start_POSTSUPERSCRIPT italic_N end_POSTSUPERSCRIPT roman_log ( italic_p ( italic_x start_POSTSUBSCRIPT italic_i end_POSTSUBSCRIPT | italic_x start_POSTSUBSCRIPT &lt; italic_i end_POSTSUBSCRIPT ; , italic_θ start_POSTSUBSCRIPT italic_e italic_n italic_c end_POSTSUBSCRIPT ) ) end_CELL end_ROW</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S3.SS2.p5">
<p class="ltx_p" id="S3.SS2.p5.3">where <math alttext="\theta" class="ltx_Math" display="inline" id="S3.SS2.p5.1.m1.1"><semantics id="S3.SS2.p5.1.m1.1a"><mi id="S3.SS2.p5.1.m1.1.1" xref="S3.SS2.p5.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.1.m1.1b"><ci id="S3.SS2.p5.1.m1.1.1.cmml" xref="S3.SS2.p5.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.1.m1.1c">\theta</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.1.m1.1d">italic_θ</annotation></semantics></math> represents the parameters of the whole model, <math alttext="\theta_{enc}" class="ltx_Math" display="inline" id="S3.SS2.p5.2.m2.1"><semantics id="S3.SS2.p5.2.m2.1a"><msub id="S3.SS2.p5.2.m2.1.1" xref="S3.SS2.p5.2.m2.1.1.cmml"><mi id="S3.SS2.p5.2.m2.1.1.2" xref="S3.SS2.p5.2.m2.1.1.2.cmml">θ</mi><mrow id="S3.SS2.p5.2.m2.1.1.3" xref="S3.SS2.p5.2.m2.1.1.3.cmml"><mi id="S3.SS2.p5.2.m2.1.1.3.2" xref="S3.SS2.p5.2.m2.1.1.3.2.cmml">e</mi><mo id="S3.SS2.p5.2.m2.1.1.3.1" xref="S3.SS2.p5.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.2.m2.1.1.3.3" xref="S3.SS2.p5.2.m2.1.1.3.3.cmml">n</mi><mo id="S3.SS2.p5.2.m2.1.1.3.1a" xref="S3.SS2.p5.2.m2.1.1.3.1.cmml">⁢</mo><mi id="S3.SS2.p5.2.m2.1.1.3.4" xref="S3.SS2.p5.2.m2.1.1.3.4.cmml">c</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.2.m2.1b"><apply id="S3.SS2.p5.2.m2.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p5.2.m2.1.1.1.cmml" xref="S3.SS2.p5.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p5.2.m2.1.1.2.cmml" xref="S3.SS2.p5.2.m2.1.1.2">𝜃</ci><apply id="S3.SS2.p5.2.m2.1.1.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3"><times id="S3.SS2.p5.2.m2.1.1.3.1.cmml" xref="S3.SS2.p5.2.m2.1.1.3.1"></times><ci id="S3.SS2.p5.2.m2.1.1.3.2.cmml" xref="S3.SS2.p5.2.m2.1.1.3.2">𝑒</ci><ci id="S3.SS2.p5.2.m2.1.1.3.3.cmml" xref="S3.SS2.p5.2.m2.1.1.3.3">𝑛</ci><ci id="S3.SS2.p5.2.m2.1.1.3.4.cmml" xref="S3.SS2.p5.2.m2.1.1.3.4">𝑐</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.2.m2.1c">\theta_{enc}</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.2.m2.1d">italic_θ start_POSTSUBSCRIPT italic_e italic_n italic_c end_POSTSUBSCRIPT</annotation></semantics></math> represents the parameters of the encoder, and <math alttext="\lambda" class="ltx_Math" display="inline" id="S3.SS2.p5.3.m3.1"><semantics id="S3.SS2.p5.3.m3.1a"><mi id="S3.SS2.p5.3.m3.1.1" xref="S3.SS2.p5.3.m3.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p5.3.m3.1b"><ci id="S3.SS2.p5.3.m3.1.1.cmml" xref="S3.SS2.p5.3.m3.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p5.3.m3.1c">\lambda</annotation><annotation encoding="application/x-llamapun" id="S3.SS2.p5.3.m3.1d">italic_λ</annotation></semantics></math> represents the weight of the language model loss.</p>
</div>
<figure class="ltx_figure" id="S3.F1">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_flex_size_3 ltx_align_center" id="S3.F0.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="171" id="S3.F0.sf1.g1" src="x1.png" width="233"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F0.sf1.4.2.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="S3.F0.sf1.2.1" style="font-size:90%;">en <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S3.F0.sf1.2.1.m1.1"><semantics id="S3.F0.sf1.2.1.m1.1b"><mo id="S3.F0.sf1.2.1.m1.1.1" stretchy="false" xref="S3.F0.sf1.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S3.F0.sf1.2.1.m1.1c"><ci id="S3.F0.sf1.2.1.m1.1.1.cmml" xref="S3.F0.sf1.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F0.sf1.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S3.F0.sf1.2.1.m1.1e">→</annotation></semantics></math> vi</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_flex_size_3 ltx_align_center" id="S3.F0.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="174" id="S3.F0.sf2.g1" src="x2.png" width="232"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F0.sf2.4.2.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="S3.F0.sf2.2.1" style="font-size:90%;">en <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S3.F0.sf2.2.1.m1.1"><semantics id="S3.F0.sf2.2.1.m1.1b"><mo id="S3.F0.sf2.2.1.m1.1.1" stretchy="false" xref="S3.F0.sf2.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S3.F0.sf2.2.1.m1.1c"><ci id="S3.F0.sf2.2.1.m1.1.1.cmml" xref="S3.F0.sf2.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F0.sf2.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S3.F0.sf2.2.1.m1.1e">→</annotation></semantics></math> de </span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_3">
<figure class="ltx_figure ltx_flex_size_3 ltx_align_center" id="S3.F0.sf3"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="171" id="S3.F0.sf3.g1" src="x3.png" width="232"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S3.F0.sf3.4.2.1" style="font-size:90%;">(c)</span> </span><span class="ltx_text" id="S3.F0.sf3.2.1" style="font-size:90%;">de <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S3.F0.sf3.2.1.m1.1"><semantics id="S3.F0.sf3.2.1.m1.1b"><mo id="S3.F0.sf3.2.1.m1.1.1" stretchy="false" xref="S3.F0.sf3.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S3.F0.sf3.2.1.m1.1c"><ci id="S3.F0.sf3.2.1.m1.1.1.cmml" xref="S3.F0.sf3.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.F0.sf3.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S3.F0.sf3.2.1.m1.1e">→</annotation></semantics></math> en</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_bold" id="S3.F1.4.2.1" style="font-size:90%;">Fig. 1</span>: </span><span class="ltx_text" id="S3.F1.2.1" style="font-size:90%;"> Latency performance improvement for different language directions and different original AL cases after using branch prediction technology, in the case of <math alttext="AWR&lt;0.7" class="ltx_Math" display="inline" id="S3.F1.2.1.m1.1"><semantics id="S3.F1.2.1.m1.1b"><mrow id="S3.F1.2.1.m1.1.1" xref="S3.F1.2.1.m1.1.1.cmml"><mrow id="S3.F1.2.1.m1.1.1.2" xref="S3.F1.2.1.m1.1.1.2.cmml"><mi id="S3.F1.2.1.m1.1.1.2.2" xref="S3.F1.2.1.m1.1.1.2.2.cmml">A</mi><mo id="S3.F1.2.1.m1.1.1.2.1" xref="S3.F1.2.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S3.F1.2.1.m1.1.1.2.3" xref="S3.F1.2.1.m1.1.1.2.3.cmml">W</mi><mo id="S3.F1.2.1.m1.1.1.2.1b" xref="S3.F1.2.1.m1.1.1.2.1.cmml">⁢</mo><mi id="S3.F1.2.1.m1.1.1.2.4" xref="S3.F1.2.1.m1.1.1.2.4.cmml">R</mi></mrow><mo id="S3.F1.2.1.m1.1.1.1" xref="S3.F1.2.1.m1.1.1.1.cmml">&lt;</mo><mn id="S3.F1.2.1.m1.1.1.3" xref="S3.F1.2.1.m1.1.1.3.cmml">0.7</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.F1.2.1.m1.1c"><apply id="S3.F1.2.1.m1.1.1.cmml" xref="S3.F1.2.1.m1.1.1"><lt id="S3.F1.2.1.m1.1.1.1.cmml" xref="S3.F1.2.1.m1.1.1.1"></lt><apply id="S3.F1.2.1.m1.1.1.2.cmml" xref="S3.F1.2.1.m1.1.1.2"><times id="S3.F1.2.1.m1.1.1.2.1.cmml" xref="S3.F1.2.1.m1.1.1.2.1"></times><ci id="S3.F1.2.1.m1.1.1.2.2.cmml" xref="S3.F1.2.1.m1.1.1.2.2">𝐴</ci><ci id="S3.F1.2.1.m1.1.1.2.3.cmml" xref="S3.F1.2.1.m1.1.1.2.3">𝑊</ci><ci id="S3.F1.2.1.m1.1.1.2.4.cmml" xref="S3.F1.2.1.m1.1.1.2.4">𝑅</ci></apply><cn id="S3.F1.2.1.m1.1.1.3.cmml" type="float" xref="S3.F1.2.1.m1.1.1.3">0.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.F1.2.1.m1.1d">AWR&lt;0.7</annotation><annotation encoding="application/x-llamapun" id="S3.F1.2.1.m1.1e">italic_A italic_W italic_R &lt; 0.7</annotation></semantics></math>. The horizontal axis represents the original model’s AL, and the vertical axis represents the difference between the AL after using branch prediction technology and the original model’s AL.</span></figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S4">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experiments</h2>
<section class="ltx_subsection" id="S4.SS1">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Datasets and Settings</h3>
<div class="ltx_para" id="S4.SS1.p1">
<p class="ltx_p" id="S4.SS1.p1.4">We evaluated the effectiveness of our proposed branch prediction method on two datasets: 1) <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.2.2">IWSLT15 English<math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.SS1.p1.1.1.m1.1"><semantics id="S4.SS1.p1.1.1.m1.1a"><mo id="S4.SS1.p1.1.1.m1.1.1" mathvariant="normal" stretchy="false" xref="S4.SS1.p1.1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.1.1.m1.1b"><ci id="S4.SS1.p1.1.1.m1.1.1.cmml" xref="S4.SS1.p1.1.1.m1.1.1">normal-→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.1.1.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.1.1.m1.1d">→</annotation></semantics></math>Vietnamese (En<math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.SS1.p1.2.2.m2.1"><semantics id="S4.SS1.p1.2.2.m2.1a"><mo id="S4.SS1.p1.2.2.m2.1.1" mathvariant="normal" stretchy="false" xref="S4.SS1.p1.2.2.m2.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.2.2.m2.1b"><ci id="S4.SS1.p1.2.2.m2.1.1.cmml" xref="S4.SS1.p1.2.2.m2.1.1">normal-→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.2.2.m2.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.2.2.m2.1d">→</annotation></semantics></math>Vi)</span> 2) <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.4.4">WMT15 German<math alttext="\leftrightarrow" class="ltx_Math" display="inline" id="S4.SS1.p1.3.3.m1.1"><semantics id="S4.SS1.p1.3.3.m1.1a"><mo id="S4.SS1.p1.3.3.m1.1.1" mathvariant="normal" stretchy="false" xref="S4.SS1.p1.3.3.m1.1.1.cmml">↔</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.3.3.m1.1b"><ci id="S4.SS1.p1.3.3.m1.1.1.cmml" xref="S4.SS1.p1.3.3.m1.1.1">normal-↔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.3.3.m1.1c">\leftrightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.3.3.m1.1d">↔</annotation></semantics></math>English (De<math alttext="\leftrightarrow" class="ltx_Math" display="inline" id="S4.SS1.p1.4.4.m2.1"><semantics id="S4.SS1.p1.4.4.m2.1a"><mo id="S4.SS1.p1.4.4.m2.1.1" mathvariant="normal" stretchy="false" xref="S4.SS1.p1.4.4.m2.1.1.cmml">↔</mo><annotation-xml encoding="MathML-Content" id="S4.SS1.p1.4.4.m2.1b"><ci id="S4.SS1.p1.4.4.m2.1.1.cmml" xref="S4.SS1.p1.4.4.m2.1.1">normal-↔</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p1.4.4.m2.1c">\leftrightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.SS1.p1.4.4.m2.1d">↔</annotation></semantics></math>En)</span>.
To ensure consistency with prior work, we adopted the same data processing approach as described in <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib5" title="">5</a>]</cite>.
We conduct experiments on following systems. <span class="ltx_text ltx_font_bold" id="S4.SS1.p1.4.5">1) Wait-k</span>
<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib3" title="">3</a>]</cite> is one of the most representative fixed SiMT policy, which first waits for k source words, then translates a target word and waits for a source word alternately.
<span class="ltx_text ltx_font_bold" id="S4.SS1.p1.4.6">2) Monotonic multi-head attention (MMA)</span>
<cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib5" title="">5</a>]</cite> is one of the most commonly used adaptive SiMT policy. Every time it reads a source word, it predicts a Bernoulli random variable according to the source prefix and target prefix to decide whether to READ or WRITE.
<span class="ltx_text ltx_font_bold" id="S4.SS1.p1.4.7">3) +BP</span> Apply the proposed branch prediction technique on wait-k or MMA.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS2">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Branch Prediction</h3>
<div class="ltx_para" id="S4.SS2.p1">
<p class="ltx_p" id="S4.SS2.p1.1">We use the AL difference (the y-axis in Figure <a class="ltx_ref" href="#S3.F1" title="Figure 1 ‣ 3.2 Shared Encoder and Language Model ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a>) to evaluate the latency performance improvement after adding the branch prediction technique.
The formal expression is as follows:</p>
</div>
<div class="ltx_para" id="S4.SS2.p2">
<table class="ltx_equation ltx_eqn_table" id="S4.E6">
<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math alttext="AL\_diff=AL(\text{baseline})-AL(\text{+BP})" class="ltx_Math" display="block" id="S4.E6.m1.2"><semantics id="S4.E6.m1.2a"><mrow id="S4.E6.m1.2.3" xref="S4.E6.m1.2.3.cmml"><mrow id="S4.E6.m1.2.3.2" xref="S4.E6.m1.2.3.2.cmml"><mi id="S4.E6.m1.2.3.2.2" xref="S4.E6.m1.2.3.2.2.cmml">A</mi><mo id="S4.E6.m1.2.3.2.1" xref="S4.E6.m1.2.3.2.1.cmml">⁢</mo><mi id="S4.E6.m1.2.3.2.3" xref="S4.E6.m1.2.3.2.3.cmml">L</mi><mo id="S4.E6.m1.2.3.2.1a" xref="S4.E6.m1.2.3.2.1.cmml">⁢</mo><mi id="S4.E6.m1.2.3.2.4" mathvariant="normal" xref="S4.E6.m1.2.3.2.4.cmml">_</mi><mo id="S4.E6.m1.2.3.2.1b" xref="S4.E6.m1.2.3.2.1.cmml">⁢</mo><mi id="S4.E6.m1.2.3.2.5" xref="S4.E6.m1.2.3.2.5.cmml">d</mi><mo id="S4.E6.m1.2.3.2.1c" xref="S4.E6.m1.2.3.2.1.cmml">⁢</mo><mi id="S4.E6.m1.2.3.2.6" xref="S4.E6.m1.2.3.2.6.cmml">i</mi><mo id="S4.E6.m1.2.3.2.1d" xref="S4.E6.m1.2.3.2.1.cmml">⁢</mo><mi id="S4.E6.m1.2.3.2.7" xref="S4.E6.m1.2.3.2.7.cmml">f</mi><mo id="S4.E6.m1.2.3.2.1e" xref="S4.E6.m1.2.3.2.1.cmml">⁢</mo><mi id="S4.E6.m1.2.3.2.8" xref="S4.E6.m1.2.3.2.8.cmml">f</mi></mrow><mo id="S4.E6.m1.2.3.1" xref="S4.E6.m1.2.3.1.cmml">=</mo><mrow id="S4.E6.m1.2.3.3" xref="S4.E6.m1.2.3.3.cmml"><mrow id="S4.E6.m1.2.3.3.2" xref="S4.E6.m1.2.3.3.2.cmml"><mi id="S4.E6.m1.2.3.3.2.2" xref="S4.E6.m1.2.3.3.2.2.cmml">A</mi><mo id="S4.E6.m1.2.3.3.2.1" xref="S4.E6.m1.2.3.3.2.1.cmml">⁢</mo><mi id="S4.E6.m1.2.3.3.2.3" xref="S4.E6.m1.2.3.3.2.3.cmml">L</mi><mo id="S4.E6.m1.2.3.3.2.1a" xref="S4.E6.m1.2.3.3.2.1.cmml">⁢</mo><mrow id="S4.E6.m1.2.3.3.2.4.2" xref="S4.E6.m1.1.1a.cmml"><mo id="S4.E6.m1.2.3.3.2.4.2.1" stretchy="false" xref="S4.E6.m1.1.1a.cmml">(</mo><mtext id="S4.E6.m1.1.1" xref="S4.E6.m1.1.1.cmml">baseline</mtext><mo id="S4.E6.m1.2.3.3.2.4.2.2" stretchy="false" xref="S4.E6.m1.1.1a.cmml">)</mo></mrow></mrow><mo id="S4.E6.m1.2.3.3.1" xref="S4.E6.m1.2.3.3.1.cmml">−</mo><mrow id="S4.E6.m1.2.3.3.3" xref="S4.E6.m1.2.3.3.3.cmml"><mi id="S4.E6.m1.2.3.3.3.2" xref="S4.E6.m1.2.3.3.3.2.cmml">A</mi><mo id="S4.E6.m1.2.3.3.3.1" xref="S4.E6.m1.2.3.3.3.1.cmml">⁢</mo><mi id="S4.E6.m1.2.3.3.3.3" xref="S4.E6.m1.2.3.3.3.3.cmml">L</mi><mo id="S4.E6.m1.2.3.3.3.1a" xref="S4.E6.m1.2.3.3.3.1.cmml">⁢</mo><mrow id="S4.E6.m1.2.3.3.3.4.2" xref="S4.E6.m1.2.2a.cmml"><mo id="S4.E6.m1.2.3.3.3.4.2.1" stretchy="false" xref="S4.E6.m1.2.2a.cmml">(</mo><mtext id="S4.E6.m1.2.2" xref="S4.E6.m1.2.2.cmml">+BP</mtext><mo id="S4.E6.m1.2.3.3.3.4.2.2" stretchy="false" xref="S4.E6.m1.2.2a.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.E6.m1.2b"><apply id="S4.E6.m1.2.3.cmml" xref="S4.E6.m1.2.3"><eq id="S4.E6.m1.2.3.1.cmml" xref="S4.E6.m1.2.3.1"></eq><apply id="S4.E6.m1.2.3.2.cmml" xref="S4.E6.m1.2.3.2"><times id="S4.E6.m1.2.3.2.1.cmml" xref="S4.E6.m1.2.3.2.1"></times><ci id="S4.E6.m1.2.3.2.2.cmml" xref="S4.E6.m1.2.3.2.2">𝐴</ci><ci id="S4.E6.m1.2.3.2.3.cmml" xref="S4.E6.m1.2.3.2.3">𝐿</ci><ci id="S4.E6.m1.2.3.2.4.cmml" xref="S4.E6.m1.2.3.2.4">_</ci><ci id="S4.E6.m1.2.3.2.5.cmml" xref="S4.E6.m1.2.3.2.5">𝑑</ci><ci id="S4.E6.m1.2.3.2.6.cmml" xref="S4.E6.m1.2.3.2.6">𝑖</ci><ci id="S4.E6.m1.2.3.2.7.cmml" xref="S4.E6.m1.2.3.2.7">𝑓</ci><ci id="S4.E6.m1.2.3.2.8.cmml" xref="S4.E6.m1.2.3.2.8">𝑓</ci></apply><apply id="S4.E6.m1.2.3.3.cmml" xref="S4.E6.m1.2.3.3"><minus id="S4.E6.m1.2.3.3.1.cmml" xref="S4.E6.m1.2.3.3.1"></minus><apply id="S4.E6.m1.2.3.3.2.cmml" xref="S4.E6.m1.2.3.3.2"><times id="S4.E6.m1.2.3.3.2.1.cmml" xref="S4.E6.m1.2.3.3.2.1"></times><ci id="S4.E6.m1.2.3.3.2.2.cmml" xref="S4.E6.m1.2.3.3.2.2">𝐴</ci><ci id="S4.E6.m1.2.3.3.2.3.cmml" xref="S4.E6.m1.2.3.3.2.3">𝐿</ci><ci id="S4.E6.m1.1.1a.cmml" xref="S4.E6.m1.2.3.3.2.4.2"><mtext id="S4.E6.m1.1.1.cmml" xref="S4.E6.m1.1.1">baseline</mtext></ci></apply><apply id="S4.E6.m1.2.3.3.3.cmml" xref="S4.E6.m1.2.3.3.3"><times id="S4.E6.m1.2.3.3.3.1.cmml" xref="S4.E6.m1.2.3.3.3.1"></times><ci id="S4.E6.m1.2.3.3.3.2.cmml" xref="S4.E6.m1.2.3.3.3.2">𝐴</ci><ci id="S4.E6.m1.2.3.3.3.3.cmml" xref="S4.E6.m1.2.3.3.3.3">𝐿</ci><ci id="S4.E6.m1.2.2a.cmml" xref="S4.E6.m1.2.3.3.3.4.2"><mtext id="S4.E6.m1.2.2.cmml" xref="S4.E6.m1.2.2">+BP</mtext></ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.E6.m1.2c">AL\_diff=AL(\text{baseline})-AL(\text{+BP})</annotation><annotation encoding="application/x-llamapun" id="S4.E6.m1.2d">italic_A italic_L _ italic_d italic_i italic_f italic_f = italic_A italic_L ( baseline ) - italic_A italic_L ( +BP )</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right" rowspan="1"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
</div>
<div class="ltx_para" id="S4.SS2.p3">
<p class="ltx_p" id="S4.SS2.p3.1">Figure <a class="ltx_ref" href="#S3.F1" title="Figure 1 ‣ 3.2 Shared Encoder and Language Model ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a> shows that our designed branch prediction technique can bring latency performance improvement for different language directions SiMT.
Furthermore, it can be noticed that our proposed method is effective for both fixed and adaptive policy of wait-k <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib3" title="">3</a>]</cite> and MMA <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib5" title="">5</a>]</cite>.</p>
</div>
<figure class="ltx_figure" id="S4.F2"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="381" id="S4.F2.g1" src="x4.png" width="498"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_bold" id="S4.F2.4.2.1" style="font-size:90%;">Fig. 2</span>: </span><span class="ltx_text" id="S4.F2.2.1" style="font-size:90%;"> The performance improvement brought by introducing the pre-trained language model and LM loss proposed in Section <a class="ltx_ref" href="#S3.SS2" title="3.2 Shared Encoder and Language Model ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">3.2</span></a> in the en<math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.F2.2.1.m1.1"><semantics id="S4.F2.2.1.m1.1b"><mo id="S4.F2.2.1.m1.1.1" stretchy="false" xref="S4.F2.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.F2.2.1.m1.1c"><ci id="S4.F2.2.1.m1.1.1.cmml" xref="S4.F2.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.F2.2.1.m1.1e">→</annotation></semantics></math>vi direction.</span></figcaption>
</figure>
</section>
<section class="ltx_subsection" id="S4.SS3">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Shared Encoder and Language Model</h3>
<div class="ltx_para" id="S4.SS3.p1">
<p class="ltx_p" id="S4.SS3.p1.1">First, we verify whether introducing the pre-trained language model and LM loss proposed in Section <a class="ltx_ref" href="#S3.SS2" title="3.2 Shared Encoder and Language Model ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">3.2</span></a> can improve the model’s performance on translation quality and latency.
The experimental results are shown in Figure <a class="ltx_ref" href="#S4.F2" title="Figure 2 ‣ 4.2 Branch Prediction ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">2</span></a>, which shows that introducing the pre-trained language model and LM loss significantly improves both fixed and adaptive policy of SiMT.
It can be seen that our method is better than the existing method in both translation quality and latency.</p>
</div>
<figure class="ltx_table" id="S4.T1">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text ltx_font_bold" id="S4.T1.4.2.1" style="font-size:90%;">Table 1</span>: </span><span class="ltx_text" id="S4.T1.2.1" style="font-size:90%;">The delay improvement performance of using the shared encoder as the branch predictor on the en<math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.T1.2.1.m1.1"><semantics id="S4.T1.2.1.m1.1b"><mo id="S4.T1.2.1.m1.1.1" stretchy="false" xref="S4.T1.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T1.2.1.m1.1c"><ci id="S4.T1.2.1.m1.1.1.cmml" xref="S4.T1.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T1.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T1.2.1.m1.1e">→</annotation></semantics></math>vi direction wait-k <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib3" title="">3</a>]</cite> method.</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T1.5" style="width:346.9pt;height:137.6pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(82.7pt,-32.8pt) scale(1.91127559740125,1.91127559740125) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T1.5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T1.5.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T1.5.1.1.1.1">Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.5.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.1.1.2.1">K=1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.5.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.1.1.3.1">K=3</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.5.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.1.1.4.1">K=5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.5.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.1.1.5.1">K=7</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T1.5.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.1.1.6.1">K=9</span></th>
</tr>
<tr class="ltx_tr" id="S4.T1.5.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S4.T1.5.1.2.2.1">GPT2-small</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.5.1.2.2.2">0.157</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.5.1.2.2.3">0.179</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.5.1.2.2.4">0.131</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.5.1.2.2.5">0.176</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T1.5.1.2.2.6">0.166</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T1.5.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T1.5.1.3.1.1">GPT2-small-</th>
<td class="ltx_td ltx_border_t" id="S4.T1.5.1.3.1.2"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.5.1.3.1.3"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.5.1.3.1.4"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.5.1.3.1.5"></td>
<td class="ltx_td ltx_border_t" id="S4.T1.5.1.3.1.6"></td>
</tr>
<tr class="ltx_tr" id="S4.T1.5.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T1.5.1.4.2.1">share-encoder</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.5.1.4.2.2"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.4.2.2.1">0.210</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.5.1.4.2.3"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.4.2.3.1">0.225</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.5.1.4.2.4"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.4.2.4.1">0.248</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.5.1.4.2.5"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.4.2.5.1">0.211</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T1.5.1.4.2.6"><span class="ltx_text ltx_font_bold" id="S4.T1.5.1.4.2.6.1">0.198</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<figure class="ltx_table" id="S4.T2">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text ltx_font_bold" id="S4.T2.4.2.1" style="font-size:90%;">Table 2</span>: </span><span class="ltx_text" id="S4.T2.2.1" style="font-size:90%;">The delay improvement performance of using the shared encoder as the branch predictor on the en<math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.T2.2.1.m1.1"><semantics id="S4.T2.2.1.m1.1b"><mo id="S4.T2.2.1.m1.1.1" stretchy="false" xref="S4.T2.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T2.2.1.m1.1c"><ci id="S4.T2.2.1.m1.1.1.cmml" xref="S4.T2.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T2.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T2.2.1.m1.1e">→</annotation></semantics></math>vi direction MMA <cite class="ltx_cite ltx_citemacro_cite">[<a class="ltx_ref" href="#bib.bib5" title="">5</a>]</cite> method. Where L represents the weight of the delay loss.</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T2.5" style="width:346.9pt;height:116.8pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(66.5pt,-22.4pt) scale(1.62206447457175,1.62206447457175) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T2.5.1">
<thead class="ltx_thead">
<tr class="ltx_tr" id="S4.T2.5.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_tt" id="S4.T2.5.1.1.1.1">Model</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.2.1">L=0.5</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.3.1">L=0.2</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.4.1">L=0.1</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.5.1">L=0.05</span></th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" id="S4.T2.5.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.1.1.6.1">L=0.02</span></th>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_t" id="S4.T2.5.1.2.2.1">GPT2-small</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.5.1.2.2.2">0.131</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.5.1.2.2.3">0.135</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.5.1.2.2.4">0.131</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.5.1.2.2.5">0.135</th>
<th class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t" id="S4.T2.5.1.2.2.6">0.132</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T2.5.1.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T2.5.1.3.1.1">GPT2-small-</th>
<td class="ltx_td ltx_border_t" id="S4.T2.5.1.3.1.2"></td>
<td class="ltx_td ltx_border_t" id="S4.T2.5.1.3.1.3"></td>
<td class="ltx_td ltx_border_t" id="S4.T2.5.1.3.1.4"></td>
<td class="ltx_td ltx_border_t" id="S4.T2.5.1.3.1.5"></td>
<td class="ltx_td ltx_border_t" id="S4.T2.5.1.3.1.6"></td>
</tr>
<tr class="ltx_tr" id="S4.T2.5.1.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T2.5.1.4.2.1">share-encoder</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.4.2.2"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.4.2.2.1">0.248</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.4.2.3"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.4.2.3.1">0.265</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.4.2.4"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.4.2.4.1">0.264</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.4.2.5"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.4.2.5.1">0.255</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T2.5.1.4.2.6"><span class="ltx_text ltx_font_bold" id="S4.T2.5.1.4.2.6.1">0.251</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS3.p2">
<p class="ltx_p" id="S4.SS3.p2.1">Then, we experimentally verify whether using a shared encoder as a branch predictor can achieve the same effect as using an independent language model with the same parameters.
The experimental results are shown in Table <a class="ltx_ref" href="#S4.T1" title="Table 1 ‣ 4.3 Shared Encoder and Language Model ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">1</span></a> and Table <a class="ltx_ref" href="#S4.T2" title="Table 2 ‣ 4.3 Shared Encoder and Language Model ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">2</span></a>, which shows that compared with using an independent language model, using a shared encoder as a branch predictor can even achieve better results.
One possible reason why the branch prediction effect is better is that the addition of the LM loss is equivalent to fine-tuning the language model using the training data.
The subsequent fine-tuning analysis experiment results support this idea.</p>
</div>
</section>
<section class="ltx_subsection" id="S4.SS4">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.4 </span>Analysis</h3>
<div class="ltx_para" id="S4.SS4.p1">
<p class="ltx_p" id="S4.SS4.p1.1">Next, we continue to conduct a wide range of analyses to understand the specific factors that affect branch prediction.
Unless otherwise stated, all results are reported on en<math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.SS4.p1.1.m1.1"><semantics id="S4.SS4.p1.1.m1.1a"><mo id="S4.SS4.p1.1.m1.1.1" stretchy="false" xref="S4.SS4.p1.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.SS4.p1.1.m1.1b"><ci id="S4.SS4.p1.1.m1.1.1.cmml" xref="S4.SS4.p1.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p1.1.m1.1c">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p1.1.m1.1d">→</annotation></semantics></math>vi.</p>
</div>
<figure class="ltx_figure" id="S4.F3">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="S4.F2.sf1"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="281" id="S4.F2.sf1.g1" src="x5.png" width="373"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf1.4.2.1" style="font-size:90%;">(a)</span> </span><span class="ltx_text" id="S4.F2.sf1.2.1" style="font-size:90%;">en <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.F2.sf1.2.1.m1.1"><semantics id="S4.F2.sf1.2.1.m1.1b"><mo id="S4.F2.sf1.2.1.m1.1.1" stretchy="false" xref="S4.F2.sf1.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.F2.sf1.2.1.m1.1c"><ci id="S4.F2.sf1.2.1.m1.1.1.cmml" xref="S4.F2.sf1.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf1.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf1.2.1.m1.1e">→</annotation></semantics></math> vi wait-k</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure class="ltx_figure ltx_flex_size_2 ltx_align_center" id="S4.F2.sf2"><img alt="Refer to caption" class="ltx_graphics ltx_img_landscape" height="281" id="S4.F2.sf2.g1" src="x6.png" width="373"/>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text" id="S4.F2.sf2.4.2.1" style="font-size:90%;">(b)</span> </span><span class="ltx_text" id="S4.F2.sf2.2.1" style="font-size:90%;">en <math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.F2.sf2.2.1.m1.1"><semantics id="S4.F2.sf2.2.1.m1.1b"><mo id="S4.F2.sf2.2.1.m1.1.1" stretchy="false" xref="S4.F2.sf2.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.F2.sf2.2.1.m1.1c"><ci id="S4.F2.sf2.2.1.m1.1.1.cmml" xref="S4.F2.sf2.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F2.sf2.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.F2.sf2.2.1.m1.1e">→</annotation></semantics></math> de MMA</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_bold" id="S4.F3.2.1.1" style="font-size:90%;">Fig. 3</span>: </span><span class="ltx_text" id="S4.F3.3.2" style="font-size:90%;"> Comparison of fine-tuning the language model and using the original language model for SiMT latency performance improvement.</span></figcaption>
</figure>
<figure class="ltx_table" id="S4.T3">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span class="ltx_text ltx_font_bold" id="S4.T3.4.2.1" style="font-size:90%;">Table 3</span>: </span><span class="ltx_text" id="S4.T3.2.1" style="font-size:90%;">Analyze the impact of using different language model sizes as branch predictors on latency improvement. Experiments are conducted on the en<math alttext="\rightarrow" class="ltx_Math" display="inline" id="S4.T3.2.1.m1.1"><semantics id="S4.T3.2.1.m1.1b"><mo id="S4.T3.2.1.m1.1.1" stretchy="false" xref="S4.T3.2.1.m1.1.1.cmml">→</mo><annotation-xml encoding="MathML-Content" id="S4.T3.2.1.m1.1c"><ci id="S4.T3.2.1.m1.1.1.cmml" xref="S4.T3.2.1.m1.1.1">→</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T3.2.1.m1.1d">\rightarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T3.2.1.m1.1e">→</annotation></semantics></math>de direction wait-K method.</span></figcaption>
<div class="ltx_inline-block ltx_align_center ltx_transformed_outer" id="S4.T3.5" style="width:346.9pt;height:233.9pt;vertical-align:-0.0pt;"><span class="ltx_transformed_inner" style="transform:translate(80.0pt,-53.9pt) scale(1.85630211960902,1.85630211960902) ;">
<table class="ltx_tabular ltx_guessed_headers ltx_align_middle" id="S4.T3.5.1">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T3.5.1.1.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T3.5.1.1.1.1">Model</th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.5.1.1.1.2"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.1.1.2.1">K=1</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.5.1.1.1.3"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.1.1.3.1">K=3</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.5.1.1.1.4"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.1.1.4.1">K=5</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.5.1.1.1.5"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.1.1.5.1">K=7</span></td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T3.5.1.1.1.6"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.1.1.6.1">K=9</span></td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.5.1.2.2.1">GPT2-small</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.2.2.2">0.162</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.2.2.3">0.171</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.2.2.4">0.169</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.2.2.5">0.162</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.2.2.6">0.154</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.3.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.5.1.3.3.1">GPT2-medium</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.3.3.2">0.174</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.3.3.3">0.184</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.3.3.4">0.185</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.3.3.5">0.175</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.3.3.6">0.166</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.4.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.5.1.4.4.1">GPT2-large</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.4.4.2">0.174</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.4.4.3">0.190</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.4.4.4">0.187</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.4.4.5">0.178</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.4.4.6">0.168</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.5.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.5.1.5.5.1">GPT2-xl</th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.5.5.2">0.184</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.5.5.3">0.195</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.5.5.4">0.192</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.5.5.5">0.183</td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T3.5.1.5.5.6">0.179</td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.6.6">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T3.5.1.6.6.1">GPT2-small-</th>
<td class="ltx_td ltx_border_t" id="S4.T3.5.1.6.6.2"></td>
<td class="ltx_td ltx_border_t" id="S4.T3.5.1.6.6.3"></td>
<td class="ltx_td ltx_border_t" id="S4.T3.5.1.6.6.4"></td>
<td class="ltx_td ltx_border_t" id="S4.T3.5.1.6.6.5"></td>
<td class="ltx_td ltx_border_t" id="S4.T3.5.1.6.6.6"></td>
</tr>
<tr class="ltx_tr" id="S4.T3.5.1.7.7">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T3.5.1.7.7.1">fine-tuning</th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.1.7.7.2"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.7.7.2.1">0.212</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.1.7.7.3"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.7.7.3.1">0.224</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.1.7.7.4"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.7.7.4.1">0.227</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.1.7.7.5"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.7.7.5.1">0.223</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T3.5.1.7.7.6"><span class="ltx_text ltx_font_bold" id="S4.T3.5.1.7.7.6.1">0.218</span></td>
</tr>
</tbody>
</table>
</span></div>
</figure>
<div class="ltx_para" id="S4.SS4.p2">
<p class="ltx_p" id="S4.SS4.p2.1"><span class="ltx_text ltx_font_bold" id="S4.SS4.p2.1.1">Fine-tuning the Language Model</span>
The accuracy of the branch predictor is pivotal to the success of branch prediction techniques. However, pre-trained language models trained on internet-based monolingual data may exhibit suboptimal performance when applied to specific tasks. Fine-tuning the language model using task-specific training data presents a natural solution for improving its predictive capacity. The efficacy of fine-tuning is demonstrated in Figure <a class="ltx_ref" href="#S4.F3" title="Figure 3 ‣ 4.4 Analysis ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">3</span></a>, where the fine-tuned branch predictor outperforms the original model by 49.6% and 116.1% on wait-K and MMA tasks, respectively. These results highlight the effectiveness of fine-tuning in enhancing the predictive accuracy of the branch predictor.</p>
</div>
<div class="ltx_para" id="S4.SS4.p3">
<p class="ltx_p" id="S4.SS4.p3.1"><span class="ltx_text ltx_font_bold" id="S4.SS4.p3.1.1">Language Models of Different Sizes</span>
We also investigated the performance of the model using pre-trained GPTs of different sizes as branch predictors, and the results are shown in Table <a class="ltx_ref" href="#S4.T3" title="Table 3 ‣ 4.4 Analysis ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">3</span></a>. It can be seen that using a larger pre-trained GPT can bring improvements, but the cost performance is not as good as fine-tuning a small GPT model.</p>
</div>
<figure class="ltx_table" id="S4.T4">
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table"><span class="ltx_text ltx_font_bold" id="S4.T4.6.1.1">Table 4</span>: </span>Ablation experiments on the model with a delay loss weight of 0.1 for the MMA method.</figcaption>
<table class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle" id="S4.T4.2">
<tbody class="ltx_tbody">
<tr class="ltx_tr" id="S4.T4.2.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_tt" id="S4.T4.2.2.3"><span class="ltx_text" id="S4.T4.2.2.3.1" style="font-size:90%;">Model</span></th>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.1.1.1">
<span class="ltx_text" id="S4.T4.1.1.1.1" style="font-size:90%;">BLEU</span><math alttext="\uparrow" class="ltx_Math" display="inline" id="S4.T4.1.1.1.m1.1"><semantics id="S4.T4.1.1.1.m1.1a"><mo id="S4.T4.1.1.1.m1.1.1" mathsize="90%" stretchy="false" xref="S4.T4.1.1.1.m1.1.1.cmml">↑</mo><annotation-xml encoding="MathML-Content" id="S4.T4.1.1.1.m1.1b"><ci id="S4.T4.1.1.1.m1.1.1.cmml" xref="S4.T4.1.1.1.m1.1.1">↑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.1.1.1.m1.1c">\uparrow</annotation><annotation encoding="application/x-llamapun" id="S4.T4.1.1.1.m1.1d">↑</annotation></semantics></math>
</td>
<td class="ltx_td ltx_align_center ltx_border_tt" id="S4.T4.2.2.2">
<span class="ltx_text" id="S4.T4.2.2.2.1" style="font-size:90%;">AL</span><math alttext="\downarrow" class="ltx_Math" display="inline" id="S4.T4.2.2.2.m1.1"><semantics id="S4.T4.2.2.2.m1.1a"><mo id="S4.T4.2.2.2.m1.1.1" mathsize="90%" stretchy="false" xref="S4.T4.2.2.2.m1.1.1.cmml">↓</mo><annotation-xml encoding="MathML-Content" id="S4.T4.2.2.2.m1.1b"><ci id="S4.T4.2.2.2.m1.1.1.cmml" xref="S4.T4.2.2.2.m1.1.1">↓</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.T4.2.2.2.m1.1c">\downarrow</annotation><annotation encoding="application/x-llamapun" id="S4.T4.2.2.2.m1.1d">↓</annotation></semantics></math>
</td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.3.1">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.2.3.1.1"><span class="ltx_text" id="S4.T4.2.3.1.1.1" style="font-size:90%;">MMA</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.3.1.2"><span class="ltx_text" id="S4.T4.2.3.1.2.1" style="font-size:90%;">26.97</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.3.1.3"><span class="ltx_text" id="S4.T4.2.3.1.3.1" style="font-size:90%;">4.55</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.4.2">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.2.4.2.1"><span class="ltx_text" id="S4.T4.2.4.2.1.1" style="font-size:90%;">+Pre-trained LM</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.2.2"><span class="ltx_text" id="S4.T4.2.4.2.2.1" style="font-size:90%;">29.36</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.4.2.3"><span class="ltx_text" id="S4.T4.2.4.2.3.1" style="font-size:90%;">4.19</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.5.3">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.2.5.3.1"><span class="ltx_text" id="S4.T4.2.5.3.1.1" style="font-size:90%;">+LM loss</span></th>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.5.3.2"><span class="ltx_text" id="S4.T4.2.5.3.2.1" style="font-size:90%;">27.07</span></td>
<td class="ltx_td ltx_align_center ltx_border_t" id="S4.T4.2.5.3.3"><span class="ltx_text" id="S4.T4.2.5.3.3.1" style="font-size:90%;">4.86</span></td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.6.4">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_t" id="S4.T4.2.6.4.1"><span class="ltx_text" id="S4.T4.2.6.4.1.1" style="font-size:90%;">+Pre-trained LM</span></th>
<td class="ltx_td ltx_border_t" id="S4.T4.2.6.4.2"></td>
<td class="ltx_td ltx_border_t" id="S4.T4.2.6.4.3"></td>
</tr>
<tr class="ltx_tr" id="S4.T4.2.7.5">
<th class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb" id="S4.T4.2.7.5.1"><span class="ltx_text" id="S4.T4.2.7.5.1.1" style="font-size:90%;">+LM loss</span></th>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.7.5.2"><span class="ltx_text ltx_font_bold" id="S4.T4.2.7.5.2.1" style="font-size:90%;">29.44</span></td>
<td class="ltx_td ltx_align_center ltx_border_bb" id="S4.T4.2.7.5.3"><span class="ltx_text ltx_font_bold" id="S4.T4.2.7.5.3.1" style="font-size:90%;">3.76</span></td>
</tr>
</tbody>
</table>
</figure>
<div class="ltx_para" id="S4.SS4.p4">
<p class="ltx_p" id="S4.SS4.p4.1"><span class="ltx_text ltx_font_bold" id="S4.SS4.p4.1.1">Pre-trained Language Model and LM Loss</span>
We conducted a ablation study on the proposed pre-trained language model and LM loss in Section <a class="ltx_ref" href="#S3.SS2" title="3.2 Shared Encoder and Language Model ‣ 3 Methodology ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">3.2</span></a>.
The experimental results are shown in Table <a class="ltx_ref" href="#S4.T4" title="Table 4 ‣ 4.4 Analysis ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">4</span></a>, which shows that the pre-trained language model and LM loss can both improve the translation quality and delay of the model, and the combination of the two achieves the best results.</p>
</div>
<div class="ltx_para" id="S4.SS4.p5">
<p class="ltx_p" id="S4.SS4.p5.2"><span class="ltx_text ltx_font_bold" id="S4.SS4.p5.2.1">Different Probability Thresholds</span>
The branch predictor can trade off between <math alttext="AWR" class="ltx_Math" display="inline" id="S4.SS4.p5.1.m1.1"><semantics id="S4.SS4.p5.1.m1.1a"><mrow id="S4.SS4.p5.1.m1.1.1" xref="S4.SS4.p5.1.m1.1.1.cmml"><mi id="S4.SS4.p5.1.m1.1.1.2" xref="S4.SS4.p5.1.m1.1.1.2.cmml">A</mi><mo id="S4.SS4.p5.1.m1.1.1.1" xref="S4.SS4.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p5.1.m1.1.1.3" xref="S4.SS4.p5.1.m1.1.1.3.cmml">W</mi><mo id="S4.SS4.p5.1.m1.1.1.1a" xref="S4.SS4.p5.1.m1.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p5.1.m1.1.1.4" xref="S4.SS4.p5.1.m1.1.1.4.cmml">R</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.1.m1.1b"><apply id="S4.SS4.p5.1.m1.1.1.cmml" xref="S4.SS4.p5.1.m1.1.1"><times id="S4.SS4.p5.1.m1.1.1.1.cmml" xref="S4.SS4.p5.1.m1.1.1.1"></times><ci id="S4.SS4.p5.1.m1.1.1.2.cmml" xref="S4.SS4.p5.1.m1.1.1.2">𝐴</ci><ci id="S4.SS4.p5.1.m1.1.1.3.cmml" xref="S4.SS4.p5.1.m1.1.1.3">𝑊</ci><ci id="S4.SS4.p5.1.m1.1.1.4.cmml" xref="S4.SS4.p5.1.m1.1.1.4">𝑅</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.1.m1.1c">AWR</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p5.1.m1.1d">italic_A italic_W italic_R</annotation></semantics></math> and <math alttext="AL_{d}iff" class="ltx_Math" display="inline" id="S4.SS4.p5.2.m2.1"><semantics id="S4.SS4.p5.2.m2.1a"><mrow id="S4.SS4.p5.2.m2.1.1" xref="S4.SS4.p5.2.m2.1.1.cmml"><mi id="S4.SS4.p5.2.m2.1.1.2" xref="S4.SS4.p5.2.m2.1.1.2.cmml">A</mi><mo id="S4.SS4.p5.2.m2.1.1.1" xref="S4.SS4.p5.2.m2.1.1.1.cmml">⁢</mo><msub id="S4.SS4.p5.2.m2.1.1.3" xref="S4.SS4.p5.2.m2.1.1.3.cmml"><mi id="S4.SS4.p5.2.m2.1.1.3.2" xref="S4.SS4.p5.2.m2.1.1.3.2.cmml">L</mi><mi id="S4.SS4.p5.2.m2.1.1.3.3" xref="S4.SS4.p5.2.m2.1.1.3.3.cmml">d</mi></msub><mo id="S4.SS4.p5.2.m2.1.1.1a" xref="S4.SS4.p5.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p5.2.m2.1.1.4" xref="S4.SS4.p5.2.m2.1.1.4.cmml">i</mi><mo id="S4.SS4.p5.2.m2.1.1.1b" xref="S4.SS4.p5.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p5.2.m2.1.1.5" xref="S4.SS4.p5.2.m2.1.1.5.cmml">f</mi><mo id="S4.SS4.p5.2.m2.1.1.1c" xref="S4.SS4.p5.2.m2.1.1.1.cmml">⁢</mo><mi id="S4.SS4.p5.2.m2.1.1.6" xref="S4.SS4.p5.2.m2.1.1.6.cmml">f</mi></mrow><annotation-xml encoding="MathML-Content" id="S4.SS4.p5.2.m2.1b"><apply id="S4.SS4.p5.2.m2.1.1.cmml" xref="S4.SS4.p5.2.m2.1.1"><times id="S4.SS4.p5.2.m2.1.1.1.cmml" xref="S4.SS4.p5.2.m2.1.1.1"></times><ci id="S4.SS4.p5.2.m2.1.1.2.cmml" xref="S4.SS4.p5.2.m2.1.1.2">𝐴</ci><apply id="S4.SS4.p5.2.m2.1.1.3.cmml" xref="S4.SS4.p5.2.m2.1.1.3"><csymbol cd="ambiguous" id="S4.SS4.p5.2.m2.1.1.3.1.cmml" xref="S4.SS4.p5.2.m2.1.1.3">subscript</csymbol><ci id="S4.SS4.p5.2.m2.1.1.3.2.cmml" xref="S4.SS4.p5.2.m2.1.1.3.2">𝐿</ci><ci id="S4.SS4.p5.2.m2.1.1.3.3.cmml" xref="S4.SS4.p5.2.m2.1.1.3.3">𝑑</ci></apply><ci id="S4.SS4.p5.2.m2.1.1.4.cmml" xref="S4.SS4.p5.2.m2.1.1.4">𝑖</ci><ci id="S4.SS4.p5.2.m2.1.1.5.cmml" xref="S4.SS4.p5.2.m2.1.1.5">𝑓</ci><ci id="S4.SS4.p5.2.m2.1.1.6.cmml" xref="S4.SS4.p5.2.m2.1.1.6">𝑓</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS4.p5.2.m2.1c">AL_{d}iff</annotation><annotation encoding="application/x-llamapun" id="S4.SS4.p5.2.m2.1d">italic_A italic_L start_POSTSUBSCRIPT italic_d end_POSTSUBSCRIPT italic_i italic_f italic_f</annotation></semantics></math> by adjusting the decision probability threshold. A test result is shown in Figure <a class="ltx_ref" href="#S4.F4" title="Figure 4 ‣ 4.4 Analysis ‣ 4 Experiments ‣ Language Model is a Branch Predictor for Simultaneous Machine Translation"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<figure class="ltx_figure" id="S4.F4"><img alt="Refer to caption" class="ltx_graphics ltx_centering ltx_img_landscape" height="376" id="S4.F4.g1" src="x7.png" width="498"/>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span class="ltx_text ltx_font_bold" id="S4.F4.2.1.1" style="font-size:90%;">Fig. 4</span>: </span><span class="ltx_text" id="S4.F4.3.2" style="font-size:90%;">Model performance using different branch prediction probability thresholds for the MMA model with latency loss weight = 0.1.</span></figcaption>
</figure>
</section>
</section>
<section class="ltx_section" id="S5">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>
<div class="ltx_para" id="S5.p1">
<p class="ltx_p" id="S5.p1.1">In this paper, we propose branch prediction techniques for SiMT and introduce pre-trained language models for the first time into SiMT.
Experiments show that our branch prediction method is effective for both fixed and adaptive policy models and can effectively reduce translation latency.
In addition, the introduction of pre-trained language models can significantly improve the translation quality and latency of the model.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
<section class="ltx_bibliography" id="bib">
<h2 class="ltx_title ltx_title_bibliography">References</h2>
<ul class="ltx_biblist">
<li class="ltx_bibitem" id="bib.bib1">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Kyunghyun Cho and Masha Esipova,

</span>
<span class="ltx_bibblock">“Can neural machine translation do simultaneous translation?,”
2016.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib2">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Jiatao Gu, Graham Neubig, Kyunghyun Cho, and Victor O.K. Li,

</span>
<span class="ltx_bibblock">“Learning to Translate in Real-time with Neural Machine
Translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib2.1.1">EACL</span>, 2017.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib3">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Mingbo Ma, Liang Huang, Hao Xiong, Renjie Zheng, Kaibo Liu, Baigong Zheng,
Chuanqiang Zhang, Zhongjun He, Hairong Liu, Xing Li, Hua Wu, and Haifeng
Wang,

</span>
<span class="ltx_bibblock">“STACL: Simultaneous Translation with Implicit
Anticipation and Controllable Latency using Prefix-to-Prefix
Framework,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib3.1.1">ACL</span>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib4">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Naveen Arivazhagan, Colin Cherry, Wolfgang Macherey, Chung-Cheng Chiu, Semih
Yavuz, Ruoming Pang, Wei Li, and Colin Raffel,

</span>
<span class="ltx_bibblock">“Monotonic Infinite Lookback Attention for Simultaneous
Machine Translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib4.1.1">ACL</span>, 2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib5">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Xutai Ma, Juan Miguel Pino, James Cross, Liezl Puzon, and Jiatao Gu,

</span>
<span class="ltx_bibblock">“Monotonic multihead attention,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib5.1.1">ICLR</span>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib6">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
James E. Smith,

</span>
<span class="ltx_bibblock">“A study of branch prediction strategies,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib6.1.1">25 Years of the International Symposia on Computer
Architecture (Selected Papers)</span>, 1998.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib7">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Maha Elbayad, Laurent Besacier, and Jakob Verbeek,

</span>
<span class="ltx_bibblock">“Efficient Wait-k Models for Simultaneous Machine
Translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib7.1.1">Interspeech</span>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib8">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Shaolei Zhang and Yang Feng,

</span>
<span class="ltx_bibblock">“Modeling Dual Read/Write Paths for Simultaneous Machine
Translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib8.1.1">ACL</span>, 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib9">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Shaolei Zhang and Yang Feng,

</span>
<span class="ltx_bibblock">“Information-Transport-based Policy for Simultaneous
Translation,” 2022.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib10">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Ruiqing Zhang, Chuanqiang Zhang, Zhongjun He, Hua Wu, and Haifeng Wang,

</span>
<span class="ltx_bibblock">“Learning Adaptive Segmentation Policy for Simultaneous
Translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib10.1.1">EMNLP</span>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib11">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Xize Cheng, Tao Jin, Rongjie Huang, Linjun Li, Wang Lin, Zehan Wang, Ye Wang,
Huadai Liu, Aoxiong Yin, and Zhou Zhao,

</span>
<span class="ltx_bibblock">“Mixspeech: Cross-modality self-learning with audio-visual stream
mixup for visual speech translation and recognition,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib11.1.1">ICCV</span>, 2023, pp. 15735–15745.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib12">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Xize Cheng, Tao Jin, Linjun Li, Wang Lin, Xinyu Duan, and Zhou Zhao,

</span>
<span class="ltx_bibblock">“Opensr: Open-modality speech recognition via maintaining
multi-modality alignment,”

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib12.1.1">arXiv preprint arXiv:2306.06410</span>, 2023.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib13">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Aoxiong Yin, Zhou Zhao, Jinglin Liu, Weike Jin, Meng Zhang, Xingshan Zeng, and
Xiaofei He,

</span>
<span class="ltx_bibblock">“Simulslt: End-to-end simultaneous sign language translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib13.1.1">ACM MM</span>, 2021, pp. 4118–4127.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib14">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Aoxiong Yin, Zhou Zhao, Weike Jin, Meng Zhang, Xingshan Zeng, and Xiaofei He,

</span>
<span class="ltx_bibblock">“Mlslt: Towards multilingual sign language translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib14.1.1">CVPR</span>, 2022, pp. 5109–5119.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib15">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Aoxiong Yin, Tianyun Zhong, Li Tang, Weike Jin, Tao Jin, and Zhou Zhao,

</span>
<span class="ltx_bibblock">“Gloss attention for gloss-free sign language translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib15.1.1">CVPR</span>, 2023, pp. 2551–2562.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib16">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Zhijie Lin, Zhou Zhao, Haoyuan Li, Jinglin Liu, Meng Zhang, Xingshan Zeng, and
Xiaofei He,

</span>
<span class="ltx_bibblock">“Simullr: Simultaneous lip reading transducer with attention-guided
adaptive memory,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib16.1.1">ACM MM</span>, 2021, pp. 1359–1367.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib17">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Mauro Cettolo, Niehues Jan, Stüker Sebastian, Luisa Bentivogli, R. Cattoni,
and Marcello Federico,

</span>
<span class="ltx_bibblock">“The iwslt 2015 evaluation campaign,”

</span>
<span class="ltx_bibblock">2015.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib18">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Ond rej Bojar, Rajen Chatterjee, Christian Federmann, Barry Haddow, Matthias
Huck, Chris Hokamp, Philipp Koehn, Varvara Logacheva, Christof Monz, Matteo
Negri, Matt Post, Carolina Scarton, Lucia Specia, and Marco Turchi,

</span>
<span class="ltx_bibblock">“Findings of the 2015 workshop on statistical machine translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib18.1.1">Proceedings of the Tenth Workshop on Statistical Machine
Translation</span>, 2015.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib19">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Naveen Arivazhagan, Colin Cherry, Te I, Wolfgang Macherey, Pallavi Baljekar,
and George F. Foster,

</span>
<span class="ltx_bibblock">“Re-translation strategies for long form, simultaneous, spoken
language translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib19.1.1">ICASSP</span>, 2020.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib20">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Kishore Papineni, Salim Roukos, Todd Ward, and Wei-Jing Zhu,

</span>
<span class="ltx_bibblock">“Bleu: A Method for Automatic Evaluation of Machine
Translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib20.1.1">Proceedings of the 40th Annual Meeting of the
Association for Computational Linguistics</span>, 2002.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib21">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Alec Radford, Jeff Wu, Rewon Child, David Luan, Dario Amodei, and Ilya
Sutskever,

</span>
<span class="ltx_bibblock">“Language models are unsupervised multitask learners,”

</span>
<span class="ltx_bibblock">2019.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib22">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Sonia Vandepitte,

</span>
<span class="ltx_bibblock">“Anticipation in conference interpreting: A cognitive process,”

</span>
<span class="ltx_bibblock"><span class="ltx_text ltx_font_italic" id="bib.bib22.1.1">Revista alicantina de estudios ingleses, No. 14 (Nov. 2001); pp.
323-335</span>, 2001.

</span>
</li>
<li class="ltx_bibitem" id="bib.bib23">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Guanhua Chen, Shuming Ma, Yun Chen, Dongdong Zhang, Jia Pan, Wenping Wang, and
Furu Wei,

</span>
<span class="ltx_bibblock">“Towards Making the Most of Cross-Lingual Transfer for
Zero-Shot Neural Machine Translation,”

</span>
<span class="ltx_bibblock">in <span class="ltx_text ltx_font_italic" id="bib.bib23.1.1">ACL</span>, 2022.

</span>
</li>
</ul>
</section>
</article>
</div>
<footer class="ltx_page_footer">
<div class="ltx_page_logo">Generated  on Fri Dec 22 07:25:50 2023 by <a class="ltx_LaTeXML_logo" href="http://dlmf.nist.gov/LaTeXML/"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span style="font-size:70%;position:relative; bottom:2.2pt;">A</span>T<span style="position:relative; bottom:-0.4ex;">E</span></span><span class="ltx_font_smallcaps">xml</span><img alt="[LOGO]" src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg=="/></a>
</div></footer>
</div>
</body>
</html>
