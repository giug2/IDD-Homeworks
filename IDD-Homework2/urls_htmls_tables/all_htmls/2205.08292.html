<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2205.08292] Providing Location Information at Edge Networks: A Federated Learning-Based Approach</title><meta property="og:description" content="Recently, the development of mobile edge computing has enabled exhilarating edge artificial intelligence (AI) with fast response and low communication cost. The location information of edge devices is essential to supp…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Providing Location Information at Edge Networks: A Federated Learning-Based Approach">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="Providing Location Information at Edge Networks: A Federated Learning-Based Approach">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2205.08292">

<!--Generated on Mon Mar 11 16:00:41 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">Providing Location Information at Edge Networks: A Federated Learning-Based Approach</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Xin Cheng, Tingting Liu, Feng Shu, Chuan Ma, Jun Li,
<br class="ltx_break">and Jiangzhou Wang
</span><span class="ltx_author_notes">
Xin Cheng, Chuan Ma, and Jun Li are with School of Electronic and
Optical Engineering, Nanjing University of Science and Technology, Nanjing,
210094, China (e-mail:118104010558@njust.edu.cn).
T. Liu is with the Nanjing Institute of Technology, Nanjing 211167, China
and also with the Nanjing University of Science and Technology, Nanjing
210094, China.
Feng Shu is with the School of Information and Communication Engineering,
Hainan University, Haikou, 570228, China and with the School
of Electronic and Optical Engineering, Nanjing University of Science and
Technology, Nanjing, 210094, China.
Jiangzhou Wang is with the School of Engineering, University
of Kent, Canterbury CT2 7NT, U.K.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Recently, the development of mobile edge computing has enabled exhilarating edge artificial intelligence (AI) with fast response and low communication cost. The location information of edge devices is essential to support the edge AI in many scenarios, like smart home, intelligent transportation systems and integrated health care. Taking advantages of deep learning intelligence, the centralized machine learning (ML)-based positioning technique has received heated attention from both academia and industry. However, some potential issues, such as location information leakage and huge data traffic, limit its application. Fortunately, a newly emerging privacy-preserving distributed ML mechanism, named federated learning (FL), is expected to alleviate these concerns. In this article, we illustrate a framework of FL-based localization system as well as the involved entities at edge networks. Moreover, the advantages of such system are elaborated. On practical implementation of it, we investigate the field-specific issues associated with system-level solutions, which are further demonstrated over a real-word database. Moreover, future challenging open problems in this field are outlined.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">I </span><span id="S1.1.1" class="ltx_text ltx_font_smallcaps">Introduction</span>
</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Recently, the advance in wireless communication technologies and artificial intelligence (AI) has promoted orders-of-magnitude increases of interconnected smart devices, i.e., internet of things (IoT). To provide smart context-aware services with massive data generated at the network edge, mobile edge computing (MEC) has been developed rapidly <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">1</span></a>]</cite>. By sufficiently exploiting the communication/computing resources at edge networks, MEC enables ultra-low latency, high-bandwidth, and real-time edge AI.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">The position information of edge devices is a cornerstone to enable sound and real-time operations of the edge network. On one hand, position information can be utilized across all layers of the communication protocol stacks to design and optimize the communication system at edge networks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">2</span></a>]</cite>.
On the other hand, position information is naturally indispensable on the application of location-based services (LBS), such as navigation, target tracking, recommending system and mobile game. As the era of Beyond 5G (B5G) and IoT arrives, brand-new LBS will emerge in a wide range of application areas <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite>, including industry 5.0, smart home, intelligent transportation systems, etc. For example, after acquiring self-positioning, the industrial robot is able to cooperate with others in a highly automated way. Therefore, how to accurate predict the location is always a key component to support edge AI.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">As the rapid development of AI, machine learning (ML) technologies have played an important role in providing position information in complex environments <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite>. ML-based localization consists of two phases: the off-line phase and the on-line phase. In the off-line phase, a ML model is trained by learning the relationship between the location-dependent measurements and related positions. In the on-line phase, the trained model is used to predict the real-time position of a device by requiring the location-dependent measurement of it.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">Although ML-based localization has received extensive attentions, there are two critical issues that limit its practical applications: privacy concerns and huge data traffic. Traditional centralized learning based technologies require uploading raw data (measurements and related positions) of participated devices, named clients hereinafter, to a central server, which generates huge data traffic especially in large-scale systems. Also, in this process, position information is exposed directly, and may be intercepted by an adversary.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">Recently, a distributed ML mechanism, named federated learning (FL) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">4</span></a>]</cite> has gathered tremendous interests. In FL, local ML models are trained at clients where training data is generated, and a global ML model is generated in the central server by aggregating the local models. This cooperative leaning is completed by exchanging local model parameters rather than the massive raw data that contains privacy information. With the potential of addressing the issues of privacy concerns and huge data traffic, FL-based localization has been researched, and has shown considerable prediction performance <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">5</span></a>, <a href="#bib.bib6" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">6</span></a>, <a href="#bib.bib7" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">7</span></a>]</cite>.</p>
</div>
<div id="S1.p6" class="ltx_para">
<p id="S1.p6.1" class="ltx_p">In this paper, we first illustrate the process of FL-based localization at the edge network, and highlight the involved entities and their operations. Different from existing works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">5</span></a>, <a href="#bib.bib6" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">6</span></a>, <a href="#bib.bib7" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">7</span></a>]</cite>, we also point out three inherent issues including measurement heterogeneity, environmental variation and 3D localization. This article aims to discuss these vital aspects in the field of FL-based localization and provide system-level solutions.
The remainder of this article is organized as follows. In Section II, the framework of FL-based localization at the mobile edge network is illustrated and its main advantages are elaborated. Then in Sections III and IV, we focus on three field-specific challenges when implementing FL-based localization, and provide potential solutions. Subsequently, some key opening problems that deserve future researches are discussed in Section V. Finally, conclusions are drawn in Section VI.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">II </span><span id="S2.1.1" class="ltx_text ltx_font_smallcaps">FL-based Localization System at the Edge Network: Procedures and Advantages</span>
</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p">In this section, we first illustrate the framework of FL-based localization system at the edge network by two steps as shown in Fig. <a href="#S2.F1" title="Figure 1 ‣ II FL-based Localization System at the Edge Network: Procedures and Advantages ‣ Providing Location Information at Edge Networks: A Federated Learning-Based Approach" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, and then elaborate main advantages of the proposed framework.</p>
</div>
<figure id="S2.F1" class="ltx_figure"><img src="/html/2205.08292/assets/x1.png" id="S2.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="231" alt="Refer to caption">
<br class="ltx_break ltx_centering">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>Schematic diagram of FL-based localization at the edge network.</figcaption>
</figure>
<section id="S2.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS1.4.1.1" class="ltx_text">II-A</span> </span><span id="S2.SS1.5.2" class="ltx_text ltx_font_italic">Stage One: Fingerprint Database Construction</span>
</h3>

<div id="S2.SS1.p1" class="ltx_para">
<p id="S2.SS1.p1.1" class="ltx_p">The first stage of FL-based localization is to construct training databases, usually termed as fingerprint database. Specifically, active edge devices perform a site survey over the area of interest (AoI) assisted with access points (APs), as illustrated in Fig. <a href="#S2.F1" title="Figure 1 ‣ II FL-based Localization System at the Edge Network: Procedures and Advantages ‣ Providing Location Information at Edge Networks: A Federated Learning-Based Approach" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. APs are deployed at fixed positions and broadcast signal for location sensing. Ambulatory edge devices pass a certain number of positions in the AoI while reading the location-dependent patterns, such as received signal strength of AP signals at each position. Finally, each edge device storages several data pairs as local fingerprint database, consisting of the measurements of AP signals (features) and corresponding measuring positions (labels). We next describe the properties of the two involved entities.</p>
</div>
<div id="S2.SS1.p2" class="ltx_para">
<p id="S2.SS1.p2.1" class="ltx_p"><em id="S2.SS1.p2.1.1" class="ltx_emph ltx_font_italic">APs</em> refer to any fixed devices that are able to emit the signal used for location sensing, mainly including WiFi, Bluetooth, ultra-wideband (UWB), radio-frequency identification(RFID), and ultrasound <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite>. The type of AP signal determines the advantages and disadvantages localization system directly. Among them, WiFi-based localization system has developed most widely and achieved most successful application due to low hardware cost <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">3</span></a>]</cite>.</p>
</div>
<div id="S2.SS1.p3" class="ltx_para">
<p id="S2.SS1.p3.1" class="ltx_p"><em id="S2.SS1.p3.1.1" class="ltx_emph ltx_font_italic">Edge devices</em> participating in the site survey are equipped with logging, storage, and sensing entities, which are integrated in overwhelming smart devices such as smart phone, intelligent industrial robot, wearable device and UAVs.</p>
</div>
</section>
<section id="S2.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS2.4.1.1" class="ltx_text">II-B</span> </span><span id="S2.SS2.5.2" class="ltx_text ltx_font_italic">Stage Two: Federated Learning Process</span>
</h3>

<div id="S2.SS2.p1" class="ltx_para">
<p id="S2.SS2.p1.1" class="ltx_p">Fingerprint database are constructed at edge devices in the site survey, and can be used to train a localization engine under the FL framework. In this manner, local clients collaborate in training a ML model under the coordination of a central server with communication of model parameters. A complete picture of FL structure at the edge network is depicted in Fig. <a href="#S2.F1" title="Figure 1 ‣ II FL-based Localization System at the Edge Network: Procedures and Advantages ‣ Providing Location Information at Edge Networks: A Federated Learning-Based Approach" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>. The FL is an iterative process, and the procedures at each round of FL contains the following four steps.</p>
<ul id="S2.I1" class="ltx_itemize">
<li id="S2.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i1.p1" class="ltx_para">
<p id="S2.I1.i1.p1.1" class="ltx_p"><span id="S2.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">Local fingerprint database training:</span> each client updates the local model in parallel based on the global model parameters, received from the central server. Updates are completed by optimizing the local model parameters to minimize the training loss over a local fingerprint database.</p>
</div>
</li>
<li id="S2.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i2.p1" class="ltx_para">
<p id="S2.I1.i2.p1.1" class="ltx_p"><span id="S2.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">Local localization model uploading:</span> each client transmits the updated local model parameters to a central server.</p>
</div>
</li>
<li id="S2.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i3.p1" class="ltx_para">
<p id="S2.I1.i3.p1.1" class="ltx_p"><span id="S2.I1.i3.p1.1.1" class="ltx_text ltx_font_italic">Global aggregation:</span> the central server aggregates the received local models according to the calculated weights, and updates the global model.</p>
</div>
</li>
<li id="S2.I1.i4" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S2.I1.i4.p1" class="ltx_para">
<p id="S2.I1.i4.p1.1" class="ltx_p"><span id="S2.I1.i4.p1.1.1" class="ltx_text ltx_font_italic">Global localization model broadcasting:</span> the central server broadcasts the updated global model parameters to selected clients for the next round of learning.</p>
</div>
</li>
</ul>
<p id="S2.SS2.p1.2" class="ltx_p">The above steps are repeated until convergence where the update of global model grounds to a halt. Finally, the last global model can be put into use in the on-line phase. We next illustrate the properties and operations of involved entities in FL at the edge network.</p>
</div>
<div id="S2.SS2.p2" class="ltx_para">
<p id="S2.SS2.p2.1" class="ltx_p"><em id="S2.SS2.p2.1.1" class="ltx_emph ltx_font_italic">Clients</em> train the local model over fingerprint database and upload the updated local model parameters to the central server. Therefore clients are equipped with logging, computing, storage, and communication entities. There are two types of clients in the edge network. The edge device that has done the site survey can participate in the FL as a local client. Moreover, trustful edge servers can become a local client as long as having access to the fingerprint databases of edge devices. To further protect the privacy of these fingerprint databases, we can utilize the differential privacy or encryption based techniques to prevent the privacy leakage <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">8</span></a>]</cite>. By undertaking the learning task from some communication/computation-limited edge devices, the edge servers enable a reliable and real-time learning process .</p>
</div>
<div id="S2.SS2.p3" class="ltx_para">
<p id="S2.SS2.p3.1" class="ltx_p"><em id="S2.SS2.p3.1.1" class="ltx_emph ltx_font_italic">The central server</em> refers to the cloud server, equipped with high-speed computing, cache/storage and communication entities. Cloud server aggregates the local training model uploaded from distributed clients to update the global model and distributes it to all clients. Note that the aggregation is usually a low-complexity operation like averaging, so the cloud server can synchronously handle other tasks.</p>
</div>
</section>
<section id="S2.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S2.SS3.4.1.1" class="ltx_text">II-C</span> </span><span id="S2.SS3.5.2" class="ltx_text ltx_font_italic">Why FL-based Localization?</span>
</h3>

<div id="S2.SS3.p1" class="ltx_para">
<p id="S2.SS3.p1.1" class="ltx_p">In what follows, we will elaborate the irresistible reasons of choosing the above FL-based localization system, compared to traditional localization technologies.</p>
</div>
<div id="S2.SS3.p2" class="ltx_para">
<p id="S2.SS3.p2.1" class="ltx_p"><em id="S2.SS3.p2.1.1" class="ltx_emph ltx_font_italic">Data-based localization:</em> The fingerprint databases collected in the site survey match the underlying mechanism of the complex environment on the AoI. Learning the fingerprint databases in FL-based localization rather than building the signal propagating model as in model-based localization is more suitable for complex environments where many edge devices may be located in.</p>
</div>
<div id="S2.SS3.p3" class="ltx_para">
<p id="S2.SS3.p3.1" class="ltx_p"><em id="S2.SS3.p3.1.1" class="ltx_emph ltx_font_italic">Large-scale application:</em> In the online phase, any edge device in the AoI can infer its position after receiving the converged global model from the central server. Note that the devices are not limited to FL clients. Moreover, the neuronic network model or Gaussian process model are two representative inference engines in FL-based localization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib5" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">5</span></a>]</cite>. The on-line location inference of such engines usually takes extremely short response and low computing resource. It can be concluded that the universal, low-latency and low-complexity location inference enables the large-scale application of such engines at the edge network.</p>
</div>
<div id="S2.SS3.p4" class="ltx_para">
<p id="S2.SS3.p4.1" class="ltx_p"><em id="S2.SS3.p4.1.1" class="ltx_emph ltx_font_italic">Privacy-preserving and communication-efficient mechanism:</em> In FL, the cooperation of distributed clients is achieved through communication with a central server, and only local localization model parameters instead of raw data are transmitted. This mechanism can save extra communication resources for both clients and the central server, compared to the centralized ML. Note that communication resource is crucial to provide better quality of service (QoS) for users in edge networks. Moreover, such cooperative mechanism greatly avoids the leakage of location information of clients from its fingerprint database to the external third-party. It is essential to promote the application of location-aware services. Because the highly sensitive location information and the personal behavior reflected by it can be utilized by adversaries or eavesdroppers, causing potential troubles and risks <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">6</span></a>]</cite>.</p>
</div>
<div id="S2.SS3.p5" class="ltx_para">
<p id="S2.SS3.p5.1" class="ltx_p"><em id="S2.SS3.p5.1.1" class="ltx_emph ltx_font_italic">Liberation of the central server:</em> In FL, the central server acts as an assistor that helps aggregate the local models trained by local clients, and does not need to perform the complex model training task. Therefore, only a small share of computing resources in the central server is occupied by FL-based localization, and the central server can synchronously handle other vital tasks at the edge network.</p>
</div>
<div id="S2.SS3.p6" class="ltx_para">
<p id="S2.SS3.p6.1" class="ltx_p"><em id="S2.SS3.p6.1.1" class="ltx_emph ltx_font_italic">Coordination of unbalanced resource:</em> The distributed nature of FL ensures system resilience and service continuity of edge networks where unbalanced computing and communication resource is witnessed. In FL, each client learns its local model in parallel at each epoch, and it is possible to optimize the FL process under the heterogeneous resources constraints with advanced techniques <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib9" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">9</span></a>]</cite>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">III </span><span id="S3.1.1" class="ltx_text ltx_font_smallcaps">FL-based Localization Across Different Domains</span>
</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">In this section, we first discuss two important and practical issues for implementing the FL-based localization, and then provide a system-level solution.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS1.4.1.1" class="ltx_text">III-A</span> </span><span id="S3.SS1.5.2" class="ltx_text ltx_font_italic">Issues Description</span>
</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p"><em id="S3.SS1.p1.1.1" class="ltx_emph ltx_font_italic">Measurement heterogeneity</em>: In the site survey, different types of edge devices are used to detect and measure AP signals. Their different hardware facilities such as build-in sensors result in inconsistencies of the detection and measurement at the same position and time. Therefore, the fingerprint databases collected by different type of devices may follow non-independent identically distribution (non-iid). Note that there are many factors causing the measurement heterogeneity between clients, such as temperature and humidity, in this issue, we only focus on different types of devices.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.1" class="ltx_p"><em id="S3.SS1.p2.1.1" class="ltx_emph ltx_font_italic">Challenges:</em> FL aims to generate a generalized model for balancing the requirement of each client. Due to the severe measurement heterogeneity, the FL model may be unsatisfactory when applied on the target type of device. A common idea is to train an extra type-specific FL model under the cooperation of target edge devices. However, the fingerprint data collected by a single type of devices may be insufficient, so that training a model over the insufficient dataset may cause the over-fitting problem.</p>
</div>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.1" class="ltx_p"><em id="S3.SS1.p3.1.1" class="ltx_emph ltx_font_italic">Environmental variation:</em> Another practical factor is the substantial environment variation in the AoI in different time phases. Signal propagation environment in the AoI always changes over the time, caused by unpredictable activities of humanity, movements of objects, and even the variation of temperature and humidity. Besides, some APs may be shifted to different locations. All these factors result in the distribution discrepancy of fingerprint measurements over the AoI between different time phases.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p id="S3.SS1.p4.1" class="ltx_p"><em id="S3.SS1.p4.1.1" class="ltx_emph ltx_font_italic">Challenges:</em> The existing FL model is trained by a large number of data collected at the time phase of the site survey, and thus it only specializes in learning the feature during that time phase. Applying the existing FL model directly to predict locations in different time phases may be unsatisfactory. A common idea is to retrain an extra time-specific FL model over new fingerprint databases, which are collected at the target time phase. However, re-collecting massive fingerprint data is highly-cost and time-consuming. Therefore, the newly collected fingerprint data is usually insufficient to retrain the time-specific FL model.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S3.SS2.4.1.1" class="ltx_text">III-B</span> </span><span id="S3.SS2.5.2" class="ltx_text ltx_font_italic">A Federated Transfer Learning-Based Approach</span>
</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">In essence, the mentioned two issues can be integrated as the statistical heterogeneity between training domain and application domain. In the issue of measurement heterogeneity, the training domain refers to the mixed fingerprint data distribution on diverse edge devices, while the application domain refers to that on the target type of devices. In the issue of environmental variation, the training domain means the fingerprint data distribution during the time phase of the site survey, while the application domain means that at the target time phase.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.1" class="ltx_p">Transfer learning (TL), which focuses on transferring the knowledge learned from the source domain to different but related target domain <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">10</span></a>]</cite>, is greatly suitable for this scenario. Therefore, utilizing TL in the FL-based localization, i.e., federated transfer learning (FTL)-based localization, seems to be a great solution. FTL has been developed recently and successfully applied to provide personalized AI in multiple regions, including smart hearth, human mobility prediction, and so on <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">11</span></a>]</cite>.</p>
</div>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.1" class="ltx_p">Then, we propose a hybrid federated transfer learning-based localization scheme (H-FedTLoc), which enjoys general knowledge sharing from traditional FL and meanwhile specific knowledge owned from target-specific training. The key idea is to transfer the global FL model, trained by large-scale data on source domain to sub-global FL models, which will be fine-tuned over small-scale trainable data on target domains. Different from existing FTLs that focus on local personalization <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">11</span></a>]</cite>, the proposed H-FedTLoc focuses on local-global personalization using a two-layers FL framework. The details are illustrated as follows.</p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.1" class="ltx_p">As shown in Fig 2, the whole process consists of the following three steps:</p>
<ul id="S3.I1" class="ltx_itemize">
<li id="S3.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i1.p1" class="ltx_para">
<p id="S3.I1.i1.p1.1" class="ltx_p"><span id="S3.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">Global FL:</span> each participant collaborates in training a high-quality global model with the assistance of the central server in a FL manner.</p>
</div>
</li>
<li id="S3.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i2.p1" class="ltx_para">
<p id="S3.I1.i2.p1.1" class="ltx_p"><span id="S3.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">Model transfer:</span> after global FL, the central server transfers the global model to a sub-global model built for further personalization on target type of devices.</p>
</div>
</li>
<li id="S3.I1.i3" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S3.I1.i3.p1" class="ltx_para">
<p id="S3.I1.i3.p1.1" class="ltx_p"><span id="S3.I1.i3.p1.1.1" class="ltx_text ltx_font_italic">Sub-global FL:</span> the central server transmits the sub-global model to clients, which have access to the target database (fingerprint database collected by target type of devices). Starting from the received models, the related clients collaborate in training the sub-global model over local target databases in a FL manner.</p>
</div>
</li>
</ul>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.1" class="ltx_p">As for the issue of environmental variation, the basic process of H-FedTLoc follows the three steps, but the target database becomes the newly collected database at the target time phase. Note that by transferring some knowledge from the source domain, the H-FedTLoc may have a faster training speed than the federated training over the newly collected data. Therefore, the H-FedTLoc is expected to be effective in time-sensitive localization tasks.</p>
</div>
<figure id="S3.F2" class="ltx_figure"><img src="/html/2205.08292/assets/x2.png" id="S3.F2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="207" height="143" alt="Refer to caption">
<br class="ltx_break ltx_centering">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>Schematic diagram of H-FedTLoc across devices.</figcaption>
</figure>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">IV </span><span id="S4.1.1" class="ltx_text ltx_font_smallcaps">FL-based Localization in 3D Cases</span>
</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS1.4.1.1" class="ltx_text">IV-A</span> </span><span id="S4.SS1.5.2" class="ltx_text ltx_font_italic">FL-based 3D Localization</span>
</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p">Positioning in a three-dimensional (3D) case, i.e, a multi-floor building, has attracted extensive attentions. However, a direct predicting of the three dimensional position of a edge device in a multi-floor building usually has poor precision, and an effective approach is to predict in two steps <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">12</span></a>]</cite>. In the first step, a ML-based classifier is used to determine the height of the location, e.g., which floor the device locates on. In the second stage, the two-dimensional (2D) position of the device on the located floor is predicted. Based on this, an extension of the FL-based localization to 3D cases is proposed, which is straightforward and handy to implement.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.1" class="ltx_p">In the off-line phase, to construct local fingerprint databases, a site survey is conducted in the multi-floor building by clients. After the site survey, a floor classifier is first learned with the coordination of all local clients in this building under the FL framework. Then for each floor, a 2D localization model is learned by local clients on the floor. In the on-line phase, using the floor classifier and floor-specific ML models, the position of device can be predicted quickly. Therefore, FedLoc-3D consists of a FL-based floor classifier and 2D localization models.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S4.SS2.4.1.1" class="ltx_text">IV-B</span> </span><span id="S4.SS2.5.2" class="ltx_text ltx_font_italic">Heterogeneous Scenario</span>
</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p">Different from the centralized 3D localization, FL-based 3D localization suffers from extreme unbalanced data distribution between local databases. It is non-trivial for some clients, such as robots to do cross-floor site survey. For a client such as a smart phone carried by a person, performing cross-floor site survey is time-consuming and labor-costing. Therefore, usually, a client is only active on a single floor in the building during the site survey. In the multi-class floor classify task, each local database may only consists of one-class data, causing serious statistical heterogeneity. To this end, a simple but elegant FL-based training scheme, namely federated one-vs-all (FedOVA) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">13</span></a>]</cite>, is introduced to predict the located floor of devices.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.5" class="ltx_p">FedOVA aims to decompose a multi-classification task into multiple binary classification tasks under the FL framework. The procedure of FedOVA-based floor classifier is illustrated in Fig. <a href="#S4.F3" title="Figure 3 ‣ IV-B Heterogeneous Scenario ‣ IV FL-based Localization in 3D Cases ‣ Providing Location Information at Edge Networks: A Federated Learning-Based Approach" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>. Specifically, for a <math id="S4.SS2.p2.1.m1.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S4.SS2.p2.1.m1.1a"><mi id="S4.SS2.p2.1.m1.1.1" xref="S4.SS2.p2.1.m1.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.1.m1.1b"><ci id="S4.SS2.p2.1.m1.1.1.cmml" xref="S4.SS2.p2.1.m1.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.1.m1.1c">L</annotation></semantics></math>-floor building, totally <math id="S4.SS2.p2.2.m2.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S4.SS2.p2.2.m2.1a"><mi id="S4.SS2.p2.2.m2.1.1" xref="S4.SS2.p2.2.m2.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.2.m2.1b"><ci id="S4.SS2.p2.2.m2.1.1.cmml" xref="S4.SS2.p2.2.m2.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.2.m2.1c">L</annotation></semantics></math> binary classifiers are learned, each of which specializes on a single but different floor. Such classifier aims to output the probability of locating on the focused floor or not. In the off-line phase, totally <math id="S4.SS2.p2.3.m3.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S4.SS2.p2.3.m3.1a"><mi id="S4.SS2.p2.3.m3.1.1" xref="S4.SS2.p2.3.m3.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.3.m3.1b"><ci id="S4.SS2.p2.3.m3.1.1.cmml" xref="S4.SS2.p2.3.m3.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.3.m3.1c">L</annotation></semantics></math> models are trained independently. Note that, each client takes local update on the whole <math id="S4.SS2.p2.4.m4.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S4.SS2.p2.4.m4.1a"><mi id="S4.SS2.p2.4.m4.1.1" xref="S4.SS2.p2.4.m4.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.4.m4.1b"><ci id="S4.SS2.p2.4.m4.1.1.cmml" xref="S4.SS2.p2.4.m4.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.4.m4.1c">L</annotation></semantics></math> binary classifiers. In the aggregation step, the central server aggregates the floor-specific models separately. In the on-line phase, a device can input its real-time fingerprint measurement to the trained <math id="S4.SS2.p2.5.m5.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S4.SS2.p2.5.m5.1a"><mi id="S4.SS2.p2.5.m5.1.1" xref="S4.SS2.p2.5.m5.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S4.SS2.p2.5.m5.1b"><ci id="S4.SS2.p2.5.m5.1.1.cmml" xref="S4.SS2.p2.5.m5.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS2.p2.5.m5.1c">L</annotation></semantics></math> classifiers, and then obtain the probabilities of locating on each floor in the building. Naturally, the floor with the max probability is selected as the prediction result.</p>
</div>
<figure id="S4.F3" class="ltx_figure"><img src="/html/2205.08292/assets/x3.png" id="S4.F3.g1" class="ltx_graphics ltx_centering ltx_img_square" width="207" height="188" alt="Refer to caption">
<br class="ltx_break ltx_centering">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>Schematic diagram of FedOVA-based floor classifier in a 4-floor building.</figcaption>
</figure>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">V </span><span id="S5.1.1" class="ltx_text ltx_font_smallcaps">Experimental Results</span>
</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In this section, we provide experimental results on a widely utilized real-word database, named UJIIndoorLoc <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib12" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">12</span></a>]</cite> to demonstrate the aforementioned issues and associated solutions.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p"><em id="S5.p2.1.1" class="ltx_emph ltx_font_italic">Database description</em>: UJIIndoorLoc is collected at three buildings with four or more floors of the Jaume I University (UJL) that covers almost 110000 <math id="S5.p2.1.m1.1" class="ltx_Math" alttext="m^{2}" display="inline"><semantics id="S5.p2.1.m1.1a"><msup id="S5.p2.1.m1.1.1" xref="S5.p2.1.m1.1.1.cmml"><mi id="S5.p2.1.m1.1.1.2" xref="S5.p2.1.m1.1.1.2.cmml">m</mi><mn id="S5.p2.1.m1.1.1.3" xref="S5.p2.1.m1.1.1.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.1b"><apply id="S5.p2.1.m1.1.1.cmml" xref="S5.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S5.p2.1.m1.1.1.1.cmml" xref="S5.p2.1.m1.1.1">superscript</csymbol><ci id="S5.p2.1.m1.1.1.2.cmml" xref="S5.p2.1.m1.1.1.2">𝑚</ci><cn type="integer" id="S5.p2.1.m1.1.1.3.cmml" xref="S5.p2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.1c">m^{2}</annotation></semantics></math>. It provides 21049 sampled points where 19938 is for training and 1111 is for validation, which is conducted by more than 20 people and 25 different devices during several months. The fingerprint measurement in this database is the received signal power (RSS) of WiFi signals.</p>
</div>
<div id="S5.p3" class="ltx_para">
<p id="S5.p3.1" class="ltx_p"><em id="S5.p3.1.1" class="ltx_emph ltx_font_italic">Basic settings</em>: The 4-floor build with identification equal to 1 is selected for 3D cases and the floor with identification equal to 1 in this building is selected for 2D cases. For 2D cases, the client amount is set to be 8 while for 3D cases, the client amount is set to be 16. TensorFlow libraries are utilized to implement the learning process by a MLP network. For model training, the initial and also the most common FL scheme, i.e., Federated Averaging (FedAvg) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">4</span></a>]</cite> is used here.</p>
</div>
<figure id="S5.F4" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F4.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.08292/assets/x4.png" id="S5.F4.sf1.g1" class="ltx_graphics ltx_img_square" width="207" height="168" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>On the target type of devices.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S5.F4.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.08292/assets/x5.png" id="S5.F4.sf2.g1" class="ltx_graphics ltx_img_landscape" width="207" height="138" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>At the target time phase.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Prediction error on the target domain.</figcaption>
</figure>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS1.4.1.1" class="ltx_text">V-A</span> </span><span id="S5.SS1.5.2" class="ltx_text ltx_font_italic">Measurement Heterogeneity</span>
</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.1" class="ltx_p">The discussed issues of measurement heterogeneity caused by different types of devices are well verified in the UJIIndoorLoc, since RSS values measured by different type of smart phones are obviously inconsistent at the same position and time. Note that in this scenario, each client only owns one device. Three focused methods including FedLoc, N-FedLoc and our proposed H-FedTLoc, are investigated in this subsection. FedLoc means training a FL model with all types of devices without transfer, and N-FedLoc represents newly training a FL model over trainable data on target type of devices.</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.1" class="ltx_p">Test MAE on the target type of device (one type of device that participate in the federated training) via training epochs is provided in Fig. <a href="#S5.F4" title="Figure 4 ‣ V Experimental Results ‣ Providing Location Information at Edge Networks: A Federated Learning-Based Approach" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a><span class="ltx_ref ltx_missing_label ltx_ref_self">LABEL:sub@fdevice</span>. As seen, after transferring the global model to the sub-global model in H-FedTLoc, the prediction error can be reduced significantly within few rounds of epoches. Besides, it may be advantageous to perform the model transfer at an earlier epoch for enjoying a faster performance improvement. At the final round (400 epochs), the proposed H-FedTLoc reduces the prediction error substantially compared to FedLoc and achieves an almost 20% performance gain over N-FedLoc.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS2.4.1.1" class="ltx_text">V-B</span> </span><span id="S5.SS2.5.2" class="ltx_text ltx_font_italic">Environmental Variation</span>
</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.1" class="ltx_p">The discussed issues of environmental variation is well verified in the UJIIndoorLoc since the distribution of RSS values measured at different time phase are obviously inconsistent. The interval between the source time phase and the target time phase is about one month in this setting.
The aforementioned three methods are also compared in this subsection. Differently, FedLoc means training a FL model over data collected at the source time phase (source trainable data), and N-FedLoc represents training a FL model over trainable data collected at the target time phase (target trainable data).</p>
</div>
<div id="S5.SS2.p2" class="ltx_para">
<p id="S5.SS2.p2.1" class="ltx_p">Fig. <a href="#S5.F4" title="Figure 4 ‣ V Experimental Results ‣ Providing Location Information at Edge Networks: A Federated Learning-Based Approach" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a><span class="ltx_ref ltx_missing_label ltx_ref_self">LABEL:sub@ftime</span> illustrates test MAE at target time phase via training epoches with various quantity ratios of target trainable data to source trainable data. This result indicates that the performances of H-FedTLoc and N-FedLoc improve as the amount of target trainable data increases. Moreover, in both scenarios, the performance of the proposed H-FedTLoc surpasses FedLoc obviously and reduces the prediction error substantially compared to N-FedLoc.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S5.SS3.4.1.1" class="ltx_text">V-C</span> </span><span id="S5.SS3.5.2" class="ltx_text ltx_font_italic">3D Cases</span>
</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">In this subsection, we only focus on the FL-based classifiers in the 3D case. After predicting the floor, the localization task becomes a 2D one, which has already been discussed. We consider two scenarios. In the homogeneous scenario (scenario A), each client collects local database across the floors in the building. In the heterogeneous scenario (scenario B), each client only collects local database on a single floor. Fig. <a href="#S5.F5" title="Figure 5 ‣ V-C 3D Cases ‣ V Experimental Results ‣ Providing Location Information at Edge Networks: A Federated Learning-Based Approach" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows the testing accuracy versus global training epoches. As can be observed, FL-based classifier converges fast and has a near-centralized accuracy in the scenario A but performs poorly in the scenario B. In the scenario B, the test accuracy of the FedOVA-based classifier surpasses the FL-based classifier obviously at the epoch of 400.</p>
</div>
<figure id="S5.F5" class="ltx_figure"><img src="/html/2205.08292/assets/x6.png" id="S5.F5.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="207" height="166" alt="Refer to caption">
<br class="ltx_break ltx_centering">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 5: </span>Test accuracy versus global epoches.</figcaption>
</figure>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VI </span><span id="S6.1.1" class="ltx_text ltx_font_smallcaps">Challenges and Open Research Topics</span>
</h2>

<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S6.SS1.4.1.1" class="ltx_text">VI-A</span> </span><span id="S6.SS1.5.2" class="ltx_text ltx_font_italic">Label-less FL-based localization via Crowdsourcing</span>
</h3>

<div id="S6.SS1.p1" class="ltx_para">
<p id="S6.SS1.p1.1" class="ltx_p">Recently, fingerprint crowdsourcing has been extensively studied, which relieves the burden of site survey from professional surveyors to common users such as mobile devices in a participatory sensing manner <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">14</span></a>]</cite>. But there arises an important issue that is common users may be unwilling or unable to explicitly label fingerprint data with the location information as the professional surveyors do in the site survey. Therefore, most or whole fingerprint data is unlabeled in localization via crowdsourcing.</p>
</div>
<div id="S6.SS1.p2" class="ltx_para">
<p id="S6.SS1.p2.1" class="ltx_p">A common idea to address this issue by performing location annotation with little user intervention. In this way, several systems have been designed by using the inertial sensors of devices with the aid of a floor plan or without <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">14</span></a>]</cite>. However, existing schemes are centralized, labeling isolated local fingerprint databases with little user intervention for FL-based localization via crowdsourcing deserves further works.</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.1" class="ltx_p">In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">6</span></a>]</cite>, authors propose a centralized indoor localization method using pseudo-label (CRNP) which leverages the power of unlabeled fingerprint data, and then incorporate CRNP and FL-based localization system. Inspired by this, exploiting more effective semi-supervised/unsupervised learning in FL-based localization system can be investigated as future directions.</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S6.SS2.4.1.1" class="ltx_text">VI-B</span> </span><span id="S6.SS2.5.2" class="ltx_text ltx_font_italic">Heterogeneous Spatial Distribution</span>
</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">On the practical implementation of FL-based localization, unbalanced client behaviours emerges due to the differences of built-in hardware and located areas on the AoI. Such unbalanced behaviours including sampling intervals, sampling amount and trajectories of each client will result in the spatial heterogeneity of local databases <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">7</span></a>]</cite>. Such spatial heterogeneity leads to unbalanced quality between local databases. Generally, it is more reasonable to distribute larger aggregation weights to local model trained over higher-quality fingerprint databases rather than averaging them in FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib4" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">4</span></a>]</cite>.</p>
</div>
<div id="S6.SS2.p2" class="ltx_para">
<p id="S6.SS2.p2.1" class="ltx_p">Authors in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">7</span></a>]</cite> characterized the local database quality by the area of sampling convex hull and showed the effectiveness of distributing the aggregation weights according to the characterized qualities directly. However, this method only focuses on the sizes of local sampling areas but ignores the relative spatial relationship of these areas. Designing more comprehensive aggregation weights from both theory and practice deserves further works.</p>
</div>
</section>
<section id="S6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S6.SS3.4.1.1" class="ltx_text">VI-C</span> </span><span id="S6.SS3.5.2" class="ltx_text ltx_font_italic">Non-IID cases in FL-based Localization</span>
</h3>

<div id="S6.SS3.p1" class="ltx_para">
<p id="S6.SS3.p1.1" class="ltx_p">The non-iid cases are practical and inevitable in the FL-based localization. In this work, we consider three forms of non-iid data scenarios in localization, measurement heterogeneity, environmental variation and heterogeneous 3D localization. In addition, heterogeneous spatial distribution <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib7" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">7</span></a>]</cite> is also a non-iid data scenario. Besides the technologies we introduced, many techniques in the FL framework are responsible for handling the non-iid data, including meta learning, multi-task learning and knowledge distillation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib11" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">11</span></a>]</cite>. Using these technologies to solve the inherent issues in FL-based localization and compare their performance deserve further researches.</p>
</div>
</section>
<section id="S6.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection"><span id="S6.SS4.4.1.1" class="ltx_text">VI-D</span> </span><span id="S6.SS4.5.2" class="ltx_text ltx_font_italic">Time-sensitive FL-based Localization</span>
</h3>

<div id="S6.SS4.p1" class="ltx_para">
<p id="S6.SS4.p1.1" class="ltx_p">Getting location information with fast response is crucial to some time-sensitive servers such as intelligent transportation systems. Reducing the time delay of FL-based localization is necessary since the FL may convergent slowly with non-iid data or unbalanced resources.
Many technologies are researched to reduce the time delay of distributed ML, including designing gradient descent optimizer and coordinating/optimizing the computing/communication resources <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib15" title="" class="ltx_ref"><span class="ltx_text" style="font-size:90%;">15</span></a>]</cite>. Absorbing these technologies in FL-based localization methods is expected to provide location information with fast responses as a further direction.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">VII </span><span id="S7.1.1" class="ltx_text ltx_font_smallcaps">Conclusion</span>
</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this article, the framework of FL-based localization at the edge network as well as its advantages has been illustrated. On the practical implementation, we have illustrated three inherent issues including measurement heterogeneity, environmental variation and 3D localization as well as provided system-level solutions. The effectiveness of these system-level solutions have been demonstrated on the real-word UJIIndoorLoc database. Finally, we have outlined other challenging problems which deserve further researches.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography" style="font-size:90%;">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib1.2.2.1" class="ltx_text" style="font-size:90%;">[1]</span></span>
<span class="ltx_bibblock"><span id="bib.bib1.4.1" class="ltx_text" style="font-size:90%;">
W. Shi, J. Cao, Q. Zhang, Y. Li, and L. Xu, “Edge computing: Vision and
challenges,” </span><em id="bib.bib1.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Internet Things J.</em><span id="bib.bib1.6.3" class="ltx_text" style="font-size:90%;">, vol. 3, no. 5, pp. 637–646,
2016.
</span>
</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib2.2.2.1" class="ltx_text" style="font-size:90%;">[2]</span></span>
<span class="ltx_bibblock"><span id="bib.bib2.4.1" class="ltx_text" style="font-size:90%;">
R. D. Taranto, L. S. Muppirisetty, R. Raulefs, D. T. M. Slock, T. Svensson, and
H. Wymeersch, “Location-aware communications for 5G networks: How location
information can improve scalability, latency, and robustness of 5G,”
</span><em id="bib.bib2.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Signal Process. Mag.</em><span id="bib.bib2.6.3" class="ltx_text" style="font-size:90%;">, vol. 31, no. 6, pp. 102–112, 2014.
</span>
</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib3.2.2.1" class="ltx_text" style="font-size:90%;">[3]</span></span>
<span class="ltx_bibblock"><span id="bib.bib3.4.1" class="ltx_text" style="font-size:90%;">
Z. Li, K. Xu, H. Wang, Y. Zhao, X. Wang, and M. Shen, “Machine-learning-based
positioning: A survey and future directions,” </span><em id="bib.bib3.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Netw.</em><span id="bib.bib3.6.3" class="ltx_text" style="font-size:90%;">,
vol. 33, no. 3, pp. 96–101, 2019.
</span>
</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib4.2.2.1" class="ltx_text" style="font-size:90%;">[4]</span></span>
<span class="ltx_bibblock"><span id="bib.bib4.4.1" class="ltx_text" style="font-size:90%;">
B. McMahan, E. Moore, D. Ramage, S. Hampson, and B. A. y Arcas,
“Communication-efficient learning of deep networks from decentralized
data,” in </span><em id="bib.bib4.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">Proc. Int. Conf. Artif. Intell. Statist., Fort Lauderdale,
FL, USA</em><span id="bib.bib4.6.3" class="ltx_text" style="font-size:90%;">.   PMLR, 2017, pp.
1273–1282.
</span>
</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib5.2.2.1" class="ltx_text" style="font-size:90%;">[5]</span></span>
<span class="ltx_bibblock"><span id="bib.bib5.4.1" class="ltx_text" style="font-size:90%;">
F. Yin, Z. Lin, Q. Kong, Y. Xu, D. Li, S. Theodoridis, and S. R. Cui,
“FedLoc: Federated learning framework for data-driven cooperative
localization and location data processing,” </span><em id="bib.bib5.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Open J. Signal
Process.</em><span id="bib.bib5.6.3" class="ltx_text" style="font-size:90%;">, vol. 1, pp. 187–215, 2020.
</span>
</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib6.2.2.1" class="ltx_text" style="font-size:90%;">[6]</span></span>
<span class="ltx_bibblock"><span id="bib.bib6.4.1" class="ltx_text" style="font-size:90%;">
W. Li, C. Zhang, and Y. Tanaka, “Pseudo label-driven federated learning-based
decentralized indoor localization via mobile crowdsourcing,” </span><em id="bib.bib6.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE
Sens. J.</em><span id="bib.bib6.6.3" class="ltx_text" style="font-size:90%;">, vol. 20, no. 19, pp. 11 556–11 565, 2020.
</span>
</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib7.2.2.1" class="ltx_text" style="font-size:90%;">[7]</span></span>
<span class="ltx_bibblock"><span id="bib.bib7.4.1" class="ltx_text" style="font-size:90%;">
X. Cheng, C. Ma, J. Li, H. Song, F. Shu, and J. Wang, “Federated
learning-based localization with heterogeneous fingerprint database,”
</span><em id="bib.bib7.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Wireless Commun. Lett.</em><span id="bib.bib7.6.3" class="ltx_text" style="font-size:90%;">, pp. 1–1, 2022.
</span>
</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib8.2.2.1" class="ltx_text" style="font-size:90%;">[8]</span></span>
<span class="ltx_bibblock"><span id="bib.bib8.4.1" class="ltx_text" style="font-size:90%;">
K. Wei, J. Li, M. Ding, C. Ma, H. Su, B. Zhang, and H. V. Poor, “User-level
privacy-preserving federated learning: Analysis and performance
optimization,” </span><em id="bib.bib8.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Trans. Mob. Comput.</em><span id="bib.bib8.6.3" class="ltx_text" style="font-size:90%;">, pp. 1–1, 2021.
</span>
</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib9.2.2.1" class="ltx_text" style="font-size:90%;">[9]</span></span>
<span class="ltx_bibblock"><span id="bib.bib9.4.1" class="ltx_text" style="font-size:90%;">
L. U. Khan, S. R. Pandey, N. H. Tran, W. Saad, Z. Han, M. N. H. Nguyen, and
C. S. Hong, “Federated learning for edge networks: Resource optimization and
incentive mechanism,” </span><em id="bib.bib9.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Commun. Mag.</em><span id="bib.bib9.6.3" class="ltx_text" style="font-size:90%;">, vol. 58, no. 10, pp.
88–93, 2020.
</span>
</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib10.2.2.1" class="ltx_text" style="font-size:90%;">[10]</span></span>
<span class="ltx_bibblock"><span id="bib.bib10.4.1" class="ltx_text" style="font-size:90%;">
S. J. Pan and Q. Yang, “A survey on transfer learning,” </span><em id="bib.bib10.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Trans.
Knowl. Data Eng.</em><span id="bib.bib10.6.3" class="ltx_text" style="font-size:90%;">, vol. 22, no. 10, pp. 1345–1359, 2010.
</span>
</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib11.2.2.1" class="ltx_text" style="font-size:90%;">[11]</span></span>
<span class="ltx_bibblock"><span id="bib.bib11.4.1" class="ltx_text" style="font-size:90%;">
Q. Wu, K. He, and X. Chen, “Personalized federated learning for intelligent
IoT applications: A cloud-edge based framework,” </span><em id="bib.bib11.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Open J.
Comput. Soc.</em><span id="bib.bib11.6.3" class="ltx_text" style="font-size:90%;">, vol. 1, pp. 35–44, 2020.
</span>
</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib12.2.2.1" class="ltx_text" style="font-size:90%;">[12]</span></span>
<span class="ltx_bibblock"><span id="bib.bib12.4.1" class="ltx_text" style="font-size:90%;">
J. Torres-Sospedra, R. Montoliu, A. Martínez-Usó, J. P. Avariento,
T. J. Arnau, M. Benedito-Bordonau, and J. Huerta, “UJIIndoorLoc: A new
multi-building and multi-floor database for WLAN fingerprint-based indoor
localization problems,” in </span><em id="bib.bib12.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IPIN - Int. Conf. Indoor Position. Indoor
Navig.</em><span id="bib.bib12.6.3" class="ltx_text" style="font-size:90%;">, 2014, pp. 261–270.
</span>
</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib13.2.2.1" class="ltx_text" style="font-size:90%;">[13]</span></span>
<span class="ltx_bibblock"><span id="bib.bib13.4.1" class="ltx_text" style="font-size:90%;">
Y. Liu, Y. Zhu, and J. J. Yu, “Resource-constrained federated learning with
heterogeneous data: Formulation and analysis,” </span><em id="bib.bib13.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Trans. Netw. Sci.
Eng.</em><span id="bib.bib13.6.3" class="ltx_text" style="font-size:90%;">, pp. 1–1, 2021.
</span>
</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib14.2.2.1" class="ltx_text" style="font-size:90%;">[14]</span></span>
<span class="ltx_bibblock"><span id="bib.bib14.4.1" class="ltx_text" style="font-size:90%;">
B. Lashkari, J. Rezazadeh, R. Farahbakhsh, and K. Sandrasegaran,
“Crowdsourcing and sensing for indoor localization in IoT: A review,”
</span><em id="bib.bib14.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Sens. J.</em><span id="bib.bib14.6.3" class="ltx_text" style="font-size:90%;">, vol. 19, no. 7, pp. 2408–2434, 2019.
</span>
</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem"><span id="bib.bib15.2.2.1" class="ltx_text" style="font-size:90%;">[15]</span></span>
<span class="ltx_bibblock"><span id="bib.bib15.4.1" class="ltx_text" style="font-size:90%;">
H. Wang, Z. Qu, Q. Zhou, H. Zhang, B. Luo, W. Xu, S. Guo, and R. Li, “A
comprehensive survey on training acceleration for large machine learning
models in IoT,” </span><em id="bib.bib15.5.2" class="ltx_emph ltx_font_italic" style="font-size:90%;">IEEE Internet Things J.</em><span id="bib.bib15.6.3" class="ltx_text" style="font-size:90%;">, vol. 9, no. 2, pp.
939–963, 2022.
</span>
</span>
</li>
</ul>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2205.08291" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2205.08292" class="ar5iv-text-button ar5iv-severity-warning">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2205.08292">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2205.08292" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2205.08293" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Mar 11 16:00:41 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
