<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2205.10454] E2FL: Equal and Equitable Federated Learning</title><meta property="og:description" content="Federated Learning (FL) enables data owners train a shared global model without sharing their private data.
Unfortunately, FL is susceptible to an intrinsic fairness issue: due to the heterogeneity of clients’ data dis…">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="E2FL: Equal and Equitable Federated Learning">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="E2FL: Equal and Equitable Federated Learning">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2205.10454">

<!--Generated on Mon Mar 11 15:57:17 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">E2FL: Equal and Equitable Federated Learning</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">
Hamid Mozaffari, Amir Houmansadr

</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id1.id1" class="ltx_p">Federated Learning (FL) enables data owners train a shared global model without sharing their private data.
Unfortunately, FL is susceptible to an intrinsic fairness issue: due to the heterogeneity of clients’ data distributions, the final FL model can give disproportionate advantages across the participating clients.
In this work, we present Equal and Equitable Federated Learning (E2FL) to produce fair federated learning models by preserving two main fairness properties, equity and equality, <em id="id1.id1.1" class="ltx_emph ltx_font_italic">concurrently</em>.
We validate the efficiency and fairness of E2FL in different real-world FL applications, and show that E2FL outperforms existing baselines in terms of the resulting efficiency, fairness of different groups, and fairness among all individual clients.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated Learning (FL) is an emerging AI technology where <em id="S1.p1.1.1" class="ltx_emph ltx_font_italic">clients</em> collaborate to train a shared model, called the <em id="S1.p1.1.2" class="ltx_emph ltx_font_italic">global model</em>, without explicitly sharing their local training data. FL training involves a <em id="S1.p1.1.3" class="ltx_emph ltx_font_italic">server</em> which collects model updates from selected FL clients in each round of training, and uses them to update the global model.
In FL, the performance of the global model varies across the clients due to heterogeneity in the data that each client owns.
This concern is called <em id="S1.p1.1.4" class="ltx_emph ltx_font_italic">representation disparity</em> <cite class="ltx_cite ltx_citemacro_citep">(Hashimoto et al. <a href="#bib.bib12" title="" class="ltx_ref">2018</a>)</cite> and results in unfair performance gaps for the participating clients. That is, although the accuracy may be high on average, some tail user whose data distribution differs from the majority of the clients is likely to receive a much lower performance compared to the average.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">In this work, we look at FL fairness with two different lenses: <span id="S1.p2.1.1" class="ltx_text ltx_font_bold">a)</span> <em id="S1.p2.1.2" class="ltx_emph ltx_font_italic">Equality</em>: whose goal is providing similar performances for all individual clients; <span id="S1.p2.1.3" class="ltx_text ltx_font_bold">b)</span> <em id="S1.p2.1.4" class="ltx_emph ltx_font_italic">Equity</em>: whose goal is providing similar performances across all groups of clients (i.e., groups of majority and minority), where
a group is defined as a set of clients with similar data distributions.
The key question we try to answer is: <em id="S1.p2.1.5" class="ltx_emph ltx_font_italic">Can we design an efficient federated learning algorithm that achieves both equality and equity concurrently?</em></p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Due to the heterogeneity in clients’ data distributions, one single model cannot represent all the clients equally.
There is a <em id="S1.p3.1.1" class="ltx_emph ltx_font_italic">trade-off</em> between training one global model and multiple global models; if we train one global model all the clients can utilize each other’s knowledge, however it will be biased towards whom that have the majority of the population. On the other hand, if we train multiple models (e.g., as in IFCA <cite class="ltx_cite ltx_citemacro_citep">(Ghosh et al. <a href="#bib.bib10" title="" class="ltx_ref">2020</a>)</cite>, HypCluster <cite class="ltx_cite ltx_citemacro_citep">(Mansour et al. <a href="#bib.bib23" title="" class="ltx_ref">2020</a>)</cite> and MOCHA <cite class="ltx_cite ltx_citemacro_citep">(Smith et al. <a href="#bib.bib29" title="" class="ltx_ref">2017</a>)</cite>), we improve fairness, but each global model will lose the knowledge from excluded clients.
To get the best of both worlds, we present <span id="S1.p3.1.2" class="ltx_text ltx_font_bold">E</span>qual and <span id="S1.p3.1.3" class="ltx_text ltx_font_bold">E</span>quitable <span id="S1.p3.1.4" class="ltx_text ltx_font_bold">F</span>ederated <span id="S1.p3.1.5" class="ltx_text ltx_font_bold">L</span>earning (E2FL), a novel FL algorithm to achieve both equality and equity.
In E2FL, we train multiple global models, but in each round we combine all of the models into one global model to take advantage of the knowledge of all client groups.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p">The key insight used in E2FL is converting the problem of model weight optimization (in standard FL) to the problem of ranking model edges (a technique recently proposed in <cite class="ltx_cite ltx_citemacro_citep">(Mozaffari, Shejwalkar, and Houmansadr <a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>).
Therefore, in each round of E2FL training, the clients and the server exchange rankings for the edges of a randomly initialized neural network (called <em id="S1.p4.1.1" class="ltx_emph ltx_font_italic">supernetwork</em>), as opposed to exchanging parameter gradients.
More specifically, each E2FL client computes the importance of the edges within a randomly initialized neural network (called supernetowrk) on their local data, represented by a ranking vector. Next, E2FL server uses a majority voting mechanism to aggregate the collected local rankings into multiple global rankings based on the index of group they belong to. Finally, the E2FL server aggregates all the group rankings into one global ranking for next round of training. Applying the majority vote on the group rankings instead of all the local rankings helps E2FL enforce equity because each group has an equal vote to influence the global model. To provide equality in E2FL, if a client wants to use the model in a downstream task, they use their own group global ranking, instead of the global ranking, which is a better representation model for the client and its groupmates.</p>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.5" class="ltx_p">Our ranking-based FL training enables attractive fairness properties, as shown through our experiments, which is intuitively due to the following reason:
In rank-based federated learning, each client computes a local ranking (i.e., a permutation of integers <math id="S1.p5.1.m1.2" class="ltx_Math" alttext="\in[1,d]" display="inline"><semantics id="S1.p5.1.m1.2a"><mrow id="S1.p5.1.m1.2.3" xref="S1.p5.1.m1.2.3.cmml"><mi id="S1.p5.1.m1.2.3.2" xref="S1.p5.1.m1.2.3.2.cmml"></mi><mo id="S1.p5.1.m1.2.3.1" xref="S1.p5.1.m1.2.3.1.cmml">∈</mo><mrow id="S1.p5.1.m1.2.3.3.2" xref="S1.p5.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S1.p5.1.m1.2.3.3.2.1" xref="S1.p5.1.m1.2.3.3.1.cmml">[</mo><mn id="S1.p5.1.m1.1.1" xref="S1.p5.1.m1.1.1.cmml">1</mn><mo id="S1.p5.1.m1.2.3.3.2.2" xref="S1.p5.1.m1.2.3.3.1.cmml">,</mo><mi id="S1.p5.1.m1.2.2" xref="S1.p5.1.m1.2.2.cmml">d</mi><mo stretchy="false" id="S1.p5.1.m1.2.3.3.2.3" xref="S1.p5.1.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S1.p5.1.m1.2b"><apply id="S1.p5.1.m1.2.3.cmml" xref="S1.p5.1.m1.2.3"><in id="S1.p5.1.m1.2.3.1.cmml" xref="S1.p5.1.m1.2.3.1"></in><csymbol cd="latexml" id="S1.p5.1.m1.2.3.2.cmml" xref="S1.p5.1.m1.2.3.2">absent</csymbol><interval closure="closed" id="S1.p5.1.m1.2.3.3.1.cmml" xref="S1.p5.1.m1.2.3.3.2"><cn type="integer" id="S1.p5.1.m1.1.1.cmml" xref="S1.p5.1.m1.1.1">1</cn><ci id="S1.p5.1.m1.2.2.cmml" xref="S1.p5.1.m1.2.2">𝑑</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.1.m1.2c">\in[1,d]</annotation></semantics></math> where <math id="S1.p5.2.m2.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S1.p5.2.m2.1a"><mi id="S1.p5.2.m2.1.1" xref="S1.p5.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S1.p5.2.m2.1b"><ci id="S1.p5.2.m2.1.1.cmml" xref="S1.p5.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.2.m2.1c">d</annotation></semantics></math> is the layer size), so each local ranking has a fixed norm (i.e., <math id="S1.p5.3.m3.1" class="ltx_Math" alttext="\sqrt{1^{2}+2^{2}+...+d^{2}}" display="inline"><semantics id="S1.p5.3.m3.1a"><msqrt id="S1.p5.3.m3.1.1" xref="S1.p5.3.m3.1.1.cmml"><mrow id="S1.p5.3.m3.1.1.2" xref="S1.p5.3.m3.1.1.2.cmml"><msup id="S1.p5.3.m3.1.1.2.2" xref="S1.p5.3.m3.1.1.2.2.cmml"><mn id="S1.p5.3.m3.1.1.2.2.2" xref="S1.p5.3.m3.1.1.2.2.2.cmml">1</mn><mn id="S1.p5.3.m3.1.1.2.2.3" xref="S1.p5.3.m3.1.1.2.2.3.cmml">2</mn></msup><mo id="S1.p5.3.m3.1.1.2.1" xref="S1.p5.3.m3.1.1.2.1.cmml">+</mo><msup id="S1.p5.3.m3.1.1.2.3" xref="S1.p5.3.m3.1.1.2.3.cmml"><mn id="S1.p5.3.m3.1.1.2.3.2" xref="S1.p5.3.m3.1.1.2.3.2.cmml">2</mn><mn id="S1.p5.3.m3.1.1.2.3.3" xref="S1.p5.3.m3.1.1.2.3.3.cmml">2</mn></msup><mo id="S1.p5.3.m3.1.1.2.1a" xref="S1.p5.3.m3.1.1.2.1.cmml">+</mo><mi mathvariant="normal" id="S1.p5.3.m3.1.1.2.4" xref="S1.p5.3.m3.1.1.2.4.cmml">…</mi><mo id="S1.p5.3.m3.1.1.2.1b" xref="S1.p5.3.m3.1.1.2.1.cmml">+</mo><msup id="S1.p5.3.m3.1.1.2.5" xref="S1.p5.3.m3.1.1.2.5.cmml"><mi id="S1.p5.3.m3.1.1.2.5.2" xref="S1.p5.3.m3.1.1.2.5.2.cmml">d</mi><mn id="S1.p5.3.m3.1.1.2.5.3" xref="S1.p5.3.m3.1.1.2.5.3.cmml">2</mn></msup></mrow></msqrt><annotation-xml encoding="MathML-Content" id="S1.p5.3.m3.1b"><apply id="S1.p5.3.m3.1.1.cmml" xref="S1.p5.3.m3.1.1"><root id="S1.p5.3.m3.1.1a.cmml" xref="S1.p5.3.m3.1.1"></root><apply id="S1.p5.3.m3.1.1.2.cmml" xref="S1.p5.3.m3.1.1.2"><plus id="S1.p5.3.m3.1.1.2.1.cmml" xref="S1.p5.3.m3.1.1.2.1"></plus><apply id="S1.p5.3.m3.1.1.2.2.cmml" xref="S1.p5.3.m3.1.1.2.2"><csymbol cd="ambiguous" id="S1.p5.3.m3.1.1.2.2.1.cmml" xref="S1.p5.3.m3.1.1.2.2">superscript</csymbol><cn type="integer" id="S1.p5.3.m3.1.1.2.2.2.cmml" xref="S1.p5.3.m3.1.1.2.2.2">1</cn><cn type="integer" id="S1.p5.3.m3.1.1.2.2.3.cmml" xref="S1.p5.3.m3.1.1.2.2.3">2</cn></apply><apply id="S1.p5.3.m3.1.1.2.3.cmml" xref="S1.p5.3.m3.1.1.2.3"><csymbol cd="ambiguous" id="S1.p5.3.m3.1.1.2.3.1.cmml" xref="S1.p5.3.m3.1.1.2.3">superscript</csymbol><cn type="integer" id="S1.p5.3.m3.1.1.2.3.2.cmml" xref="S1.p5.3.m3.1.1.2.3.2">2</cn><cn type="integer" id="S1.p5.3.m3.1.1.2.3.3.cmml" xref="S1.p5.3.m3.1.1.2.3.3">2</cn></apply><ci id="S1.p5.3.m3.1.1.2.4.cmml" xref="S1.p5.3.m3.1.1.2.4">…</ci><apply id="S1.p5.3.m3.1.1.2.5.cmml" xref="S1.p5.3.m3.1.1.2.5"><csymbol cd="ambiguous" id="S1.p5.3.m3.1.1.2.5.1.cmml" xref="S1.p5.3.m3.1.1.2.5">superscript</csymbol><ci id="S1.p5.3.m3.1.1.2.5.2.cmml" xref="S1.p5.3.m3.1.1.2.5.2">𝑑</ci><cn type="integer" id="S1.p5.3.m3.1.1.2.5.3.cmml" xref="S1.p5.3.m3.1.1.2.5.3">2</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.3.m3.1c">\sqrt{1^{2}+2^{2}+...+d^{2}}</annotation></semantics></math>).
This fixed norm of local updates makes the rank aggregation more fair as each local ranking has the same impact on the aggregated global ranking.
On the other hand, in standard FL, when the server aggregates the local model updates into the global model, each local update has a different impact on the global model (because of their different <math id="S1.p5.4.m4.1" class="ltx_Math" alttext="l_{2}" display="inline"><semantics id="S1.p5.4.m4.1a"><msub id="S1.p5.4.m4.1.1" xref="S1.p5.4.m4.1.1.cmml"><mi id="S1.p5.4.m4.1.1.2" xref="S1.p5.4.m4.1.1.2.cmml">l</mi><mn id="S1.p5.4.m4.1.1.3" xref="S1.p5.4.m4.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S1.p5.4.m4.1b"><apply id="S1.p5.4.m4.1.1.cmml" xref="S1.p5.4.m4.1.1"><csymbol cd="ambiguous" id="S1.p5.4.m4.1.1.1.cmml" xref="S1.p5.4.m4.1.1">subscript</csymbol><ci id="S1.p5.4.m4.1.1.2.cmml" xref="S1.p5.4.m4.1.1.2">𝑙</ci><cn type="integer" id="S1.p5.4.m4.1.1.3.cmml" xref="S1.p5.4.m4.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.4.m4.1c">l_{2}</annotation></semantics></math> norms). For example in FedAvg, the server averages the parameter updates for the <math id="S1.p5.5.m5.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S1.p5.5.m5.1a"><mi id="S1.p5.5.m5.1.1" xref="S1.p5.5.m5.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S1.p5.5.m5.1b"><ci id="S1.p5.5.m5.1.1.cmml" xref="S1.p5.5.m5.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S1.p5.5.m5.1c">d</annotation></semantics></math> dimensions, therefore a large parameter update has more influence on the final average compared to a small parameter update.</p>
</div>
<div id="S1.p6" class="ltx_para ltx_noindent">
<p id="S1.p6.1" class="ltx_p"><span id="S1.p6.1.1" class="ltx_text ltx_font_bold">E2FL when the group IDs are unknown.</span>  In many applications, clients may be unaware of their protected attributes (i.e., the group they belong to). We propose one approach on server-side and three approaches on client-side for inferring group IDs. To infer the group IDs on the server-side, we propose to use a rank clustering approach to cluster clients into groups.
Moreover, a client can also infer its group IDs by picking the right group based on their local training data. Using rankings allows us to exchange only the binary masks produced by each group ranking which lowers the communication cost compared to prior works.
Each client can pick the right binary mask based on three approaches. First, each client can pick the binary mask that produces the smallest loss. Binary masks also enable the clients to find their matching group by a new novel idea from <cite class="ltx_cite ltx_citemacro_citep">(Wortsman et al. <a href="#bib.bib30" title="" class="ltx_ref">2020</a>)</cite>, where clients can infer the group ID using gradient based optimization to find a linear superposition of learned masks which minimizes the output entropy. We propose two variants of this approach, one based on a binary search and the other using OneShot optimization.</p>
</div>
<div id="S1.p7" class="ltx_para ltx_noindent">
<p id="S1.p7.1" class="ltx_p"><span id="S1.p7.1.1" class="ltx_text ltx_font_bold ltx_font_italic">Empirical results:</span> 
We experiment with three datasets in real-world heterogeneous FL settings and show that E2FL can help clients from both majority and minority groups, while q-FFL <cite class="ltx_cite ltx_citemacro_citep">(Li et al. <a href="#bib.bib20" title="" class="ltx_ref">2020b</a>)</cite>, state-of-the-art fair FL, improves equality by helping the majorities and ignoring the minorities.
Since there are no existing distributed datasets containing different groups of clients with different data distributions,
we create a new dataset, called FairMNISTRotate, to evaluate equality and equity in FL applications. FairMNISTRotate represents 10 different handwriting styles, produced by rotating samples from the MNIST dataset.
For FairMNISTRotate,
q-FFL reduces the variance of accuracies for all clients by 4% while it increases the variance between groups by 81% compared to FedAvg. On the other hand, our algorithm reduces the variance of both clients and groups by 93% and 95% respectively compared to FedAvg. That is, E2FL improves both equity and equality, unlike prior fair FL algorithms.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Background</h2>

<section id="S2.SS0.SSS0.Px1" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Federated Learning:</h4>

<div id="S2.SS0.SSS0.Px1.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px1.p1.7" class="ltx_p">In FL <cite class="ltx_cite ltx_citemacro_citep">(McMahan et al. <a href="#bib.bib24" title="" class="ltx_ref">2017</a>; Kairouz et al. <a href="#bib.bib13" title="" class="ltx_ref">2019</a>; Konečnỳ et al. <a href="#bib.bib16" title="" class="ltx_ref">2016</a>)</cite>,
<math id="S2.SS0.SSS0.Px1.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.1.m1.1a"><mi id="S2.SS0.SSS0.Px1.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.1.m1.1b"><ci id="S2.SS0.SSS0.Px1.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.1.m1.1c">N</annotation></semantics></math> clients collaborate to train a global model without directly sharing their data.
In round <math id="S2.SS0.SSS0.Px1.p1.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.2.m2.1a"><mi id="S2.SS0.SSS0.Px1.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.2.m2.1b"><ci id="S2.SS0.SSS0.Px1.p1.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.2.m2.1c">t</annotation></semantics></math>, the service provider (server) selects <math id="S2.SS0.SSS0.Px1.p1.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.3.m3.1a"><mi id="S2.SS0.SSS0.Px1.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.3.m3.1b"><ci id="S2.SS0.SSS0.Px1.p1.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.3.m3.1c">n</annotation></semantics></math> out of <math id="S2.SS0.SSS0.Px1.p1.4.m4.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.4.m4.1a"><mi id="S2.SS0.SSS0.Px1.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.4.m4.1b"><ci id="S2.SS0.SSS0.Px1.p1.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.4.m4.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.4.m4.1c">N</annotation></semantics></math> total clients and sends them the most recent global model <math id="S2.SS0.SSS0.Px1.p1.5.m5.1" class="ltx_Math" alttext="\theta^{t}" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.5.m5.1a"><msup id="S2.SS0.SSS0.Px1.p1.5.m5.1.1" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.2" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.2.cmml">θ</mi><mi id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.3" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.5.m5.1b"><apply id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1">superscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.2">𝜃</ci><ci id="S2.SS0.SSS0.Px1.p1.5.m5.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.5.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.5.m5.1c">\theta^{t}</annotation></semantics></math>. Each client trains a local model for <math id="S2.SS0.SSS0.Px1.p1.6.m6.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.6.m6.1a"><mi id="S2.SS0.SSS0.Px1.p1.6.m6.1.1" xref="S2.SS0.SSS0.Px1.p1.6.m6.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.6.m6.1b"><ci id="S2.SS0.SSS0.Px1.p1.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.6.m6.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.6.m6.1c">E</annotation></semantics></math> local epochs on their data starting from the <math id="S2.SS0.SSS0.Px1.p1.7.m7.1" class="ltx_Math" alttext="\theta^{t}" display="inline"><semantics id="S2.SS0.SSS0.Px1.p1.7.m7.1a"><msup id="S2.SS0.SSS0.Px1.p1.7.m7.1.1" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.cmml"><mi id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.2" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.2.cmml">θ</mi><mi id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.3" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.3.cmml">t</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px1.p1.7.m7.1b"><apply id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.1.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1">superscript</csymbol><ci id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.2.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.2">𝜃</ci><ci id="S2.SS0.SSS0.Px1.p1.7.m7.1.1.3.cmml" xref="S2.SS0.SSS0.Px1.p1.7.m7.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px1.p1.7.m7.1c">\theta^{t}</annotation></semantics></math> using stochastic gradient descent (SGD). Then the client sends back the calculated gradients to the server. The server then aggregates the collected gradients and updates the global model for the next round.</p>
</div>
</section>
<section id="S2.SS0.SSS0.Px2" class="ltx_paragraph">
<h4 class="ltx_title ltx_title_paragraph">Rank-based Federated Learning:</h4>

<div id="S2.SS0.SSS0.Px2.p1" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p1.8" class="ltx_p">Federated Rank Learning (FRL) <cite class="ltx_cite ltx_citemacro_citep">(Mozaffari, Shejwalkar, and Houmansadr <a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite> is an approach to perform FL that is built on a novel learning paradigm called <em id="S2.SS0.SSS0.Px2.p1.8.1" class="ltx_emph ltx_font_italic">supermasks</em> <cite class="ltx_cite ltx_citemacro_citep">(Zhou et al. <a href="#bib.bib34" title="" class="ltx_ref">2019</a>; Ramanujan et al. <a href="#bib.bib28" title="" class="ltx_ref">2020</a>)</cite>.
Specifically, in FRL, clients collaborate to find a <em id="S2.SS0.SSS0.Px2.p1.8.2" class="ltx_emph ltx_font_italic">subnetwork</em> within a <em id="S2.SS0.SSS0.Px2.p1.8.3" class="ltx_emph ltx_font_italic">randomly initialized</em> neural network (the supernetwork), where this is in contrast to conventional FL where clients collaborate to <em id="S2.SS0.SSS0.Px2.p1.8.4" class="ltx_emph ltx_font_italic">train</em> neural network parameter weights.
The goal of training in FRL is to collaboratively identify a supermask <math id="S2.SS0.SSS0.Px2.p1.1.m1.1" class="ltx_Math" alttext="M_{g}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.1.m1.1a"><msub id="S2.SS0.SSS0.Px2.p1.1.m1.1.1" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.2" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml">M</mi><mi id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.3" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.1.m1.1b"><apply id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.2">𝑀</ci><ci id="S2.SS0.SSS0.Px2.p1.1.m1.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.1.m1.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.1.m1.1c">M_{g}</annotation></semantics></math>, which is a binary mask of 1’s and 0’s, that is superimposed on the random neural network to obtain the final subnetwork, i.e., <math id="S2.SS0.SSS0.Px2.p1.2.m2.1" class="ltx_Math" alttext="\theta^{w}\bigodot M_{g}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.2.m2.1a"><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml"><msup id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.2.cmml">θ</mi><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.cmml">w</mi></msup><mo lspace="0em" rspace="0em" id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml">​</mo><mrow id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml"><mo id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.1" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.1.cmml">⨀</mo><msub id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.cmml"><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.2" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.2.cmml">M</mi><mi id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.3" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.3.cmml">g</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.2.m2.1b"><apply id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1"><times id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.1"></times><apply id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2">superscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.2">𝜃</ci><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.2.3">𝑤</ci></apply><apply id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3"><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.1">⨀</ci><apply id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.1.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.2.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.2">𝑀</ci><ci id="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.3.cmml" xref="S2.SS0.SSS0.Px2.p1.2.m2.1.1.3.2.3">𝑔</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.2.m2.1c">\theta^{w}\bigodot M_{g}</annotation></semantics></math> where <math id="S2.SS0.SSS0.Px2.p1.3.m3.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.3.m3.1a"><msup id="S2.SS0.SSS0.Px2.p1.3.m3.1.1" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml">θ</mi><mi id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.3.m3.1b"><apply id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1">superscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.2">𝜃</ci><ci id="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.3.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.3.m3.1c">\theta^{w}</annotation></semantics></math> is showing the weight parameters for supernetwork.
<math id="S2.SS0.SSS0.Px2.p1.4.m4.1" class="ltx_Math" alttext="M_{g}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.4.m4.1a"><msub id="S2.SS0.SSS0.Px2.p1.4.m4.1.1" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2.cmml">M</mi><mi id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.3" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.4.m4.1b"><apply id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1">subscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.2">𝑀</ci><ci id="S2.SS0.SSS0.Px2.p1.4.m4.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.4.m4.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.4.m4.1c">M_{g}</annotation></semantics></math> contains the edges of top <math id="S2.SS0.SSS0.Px2.p1.5.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.5.m5.1a"><mi id="S2.SS0.SSS0.Px2.p1.5.m5.1.1" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.5.m5.1b"><ci id="S2.SS0.SSS0.Px2.p1.5.m5.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.5.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.5.m5.1c">k</annotation></semantics></math> ranks, i.e., edges in top <math id="S2.SS0.SSS0.Px2.p1.6.m6.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.6.m6.1a"><mi id="S2.SS0.SSS0.Px2.p1.6.m6.1.1" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.6.m6.1b"><ci id="S2.SS0.SSS0.Px2.p1.6.m6.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.6.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.6.m6.1c">k</annotation></semantics></math> ranks (layer-wise) get ’1’ in the binary mask, and others get ’0’ in the mask. We use <math id="S2.SS0.SSS0.Px2.p1.7.m7.1" class="ltx_Math" alttext="k=50\%" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.7.m7.1a"><mrow id="S2.SS0.SSS0.Px2.p1.7.m7.1.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.cmml">k</mi><mo id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1.cmml">=</mo><mrow id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.cmml"><mn id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.2" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.2.cmml">50</mn><mo id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.1" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.1.cmml">%</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.7.m7.1b"><apply id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1"><eq id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.1"></eq><ci id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.2">𝑘</ci><apply id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3"><csymbol cd="latexml" id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.1.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.1">percent</csymbol><cn type="integer" id="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.2.cmml" xref="S2.SS0.SSS0.Px2.p1.7.m7.1.1.3.2">50</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.7.m7.1c">k=50\%</annotation></semantics></math> in this work to find a subnetwork of 50% of the original size.
The subnetwork is then used for downstream tasks, e.g., image classification, hence it is equivalent to the global model in conventional FL. Note that in entire FRL training, weights of the network (<math id="S2.SS0.SSS0.Px2.p1.8.m8.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S2.SS0.SSS0.Px2.p1.8.m8.1a"><msup id="S2.SS0.SSS0.Px2.p1.8.m8.1.1" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml"><mi id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2.cmml">θ</mi><mi id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S2.SS0.SSS0.Px2.p1.8.m8.1b"><apply id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.1.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1">superscript</csymbol><ci id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.2">𝜃</ci><ci id="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3.cmml" xref="S2.SS0.SSS0.Px2.p1.8.m8.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S2.SS0.SSS0.Px2.p1.8.m8.1c">\theta^{w}</annotation></semantics></math>) do not change.</p>
</div>
<div id="S2.SS0.SSS0.Px2.p2" class="ltx_para">
<p id="S2.SS0.SSS0.Px2.p2.1" class="ltx_p">More specifically,
each FRL client computes the importance of the edges of the supernetwork based on their local data. The importance of the edges is represented as a ranking vector.
Each FRL client will use the edge-popup algorithm <cite class="ltx_cite ltx_citemacro_citep">(Ramanujan et al. <a href="#bib.bib28" title="" class="ltx_ref">2020</a>)</cite> and their data to compute their local rankings (the edge-popup algorithm aims at learning which edges in the random network are more important over the other edges by minimizing the loss of the subnetwork on their local data).
Each client then will send their local edge ranking to the server.
Finally, the FRL server uses a <em id="S2.SS0.SSS0.Px2.p2.1.1" class="ltx_emph ltx_font_italic">voting mechanism</em> to aggregate client rankings into a supermask, which represents which edges of the random neural network (the supernetwork) will form the global subnetwork.
Specifically, the FRL server uses Borda count rank aggregation method <cite class="ltx_cite ltx_citemacro_citep">(Emerson <a href="#bib.bib7" title="" class="ltx_ref">2013</a>)</cite> where it gives a reputation to each edge for each ranking, sums the reputations, and sorts them from least to most to find the global ranking.
We defer further details of FRL and edge-popup Algorithms to Appendix <a href="#A4" title="Appendix D Missing Details of Federated Rank Learning (FRL) ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">D</span></a>.</p>
</div>
</section>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Fairness Using Two Lenses: Equity and Equality</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.1" class="ltx_p">Fairness in FL can be evaluated from two main perspectives:
a) <em id="S3.p1.1.1" class="ltx_emph ltx_font_italic">Equality</em> which is fairness between individuals and b) <em id="S3.p1.1.2" class="ltx_emph ltx_font_italic">equity</em> which is fairness between groups. A group is a set of individuals with the same protected attribute.
The protected attribute may be known to the clients, e.g., race, gender, or age. Alternatively, clients may be unaware of their particular group, e.g., handwriting style (as this needs clustering clients into groups by someone who has samples from all clients).</p>
</div>
<figure id="S3.F1" class="ltx_figure"><img src="/html/2205.10454/assets/x1.png" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="263" height="98" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 1: </span>An example showing two different FL systems with two goals: equality (on left) and equity (on right).</figcaption>
</figure>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.4" class="ltx_p">Figure <a href="#S3.F1" title="Figure 1 ‣ 3 Fairness Using Two Lenses: Equity and Equality ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows an example of two FL systems where six clients want to learn a global model for prediction of handwritten digits.
These clients have three handwriting styles: <span id="S3.p2.4.1" class="ltx_text ltx_font_bold">(A)</span> normal handwriting style, <span id="S3.p2.4.2" class="ltx_text ltx_font_bold">(B)</span> a little bit rotated handwriting, and <span id="S3.p2.4.3" class="ltx_text ltx_font_bold">(C)</span> 180 degree rotated handwriting (upside-down).
We consider each model update (<math id="S3.p2.1.m1.1" class="ltx_Math" alttext="\theta^{q}_{u}" display="inline"><semantics id="S3.p2.1.m1.1a"><msubsup id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml"><mi id="S3.p2.1.m1.1.1.2.2" xref="S3.p2.1.m1.1.1.2.2.cmml">θ</mi><mi id="S3.p2.1.m1.1.1.3" xref="S3.p2.1.m1.1.1.3.cmml">u</mi><mi id="S3.p2.1.m1.1.1.2.3" xref="S3.p2.1.m1.1.1.2.3.cmml">q</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><apply id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p2.1.m1.1.1.1.cmml" xref="S3.p2.1.m1.1.1">subscript</csymbol><apply id="S3.p2.1.m1.1.1.2.cmml" xref="S3.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.p2.1.m1.1.1.2.1.cmml" xref="S3.p2.1.m1.1.1">superscript</csymbol><ci id="S3.p2.1.m1.1.1.2.2.cmml" xref="S3.p2.1.m1.1.1.2.2">𝜃</ci><ci id="S3.p2.1.m1.1.1.2.3.cmml" xref="S3.p2.1.m1.1.1.2.3">𝑞</ci></apply><ci id="S3.p2.1.m1.1.1.3.cmml" xref="S3.p2.1.m1.1.1.3">𝑢</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">\theta^{q}_{u}</annotation></semantics></math> for client <math id="S3.p2.2.m2.1" class="ltx_Math" alttext="u" display="inline"><semantics id="S3.p2.2.m2.1a"><mi id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">u</annotation></semantics></math> in group <math id="S3.p2.3.m3.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.p2.3.m3.1a"><mi id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><ci id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">q</annotation></semantics></math>) has the same effect on updating the global model, so each client update is like a vote.
In this example, group A has the majority of the voters, and group B and C are in minorities.
The left part of figure shows an FL in which the goal is providing equality, so we give same chance (one vote) to each client to change the final model by an aggregation such as averaging (e.g., what we have in FedAvg). In this setting, the majority group with higher population (group A) has more influence on the final vote.
On the other hand, the right part shows an FL in which the goal is providing equity. In this setting, first we aggregate the votes inside each group to find the group votes (<math id="S3.p2.4.m4.3" class="ltx_Math" alttext="\theta^{A}_{g},\theta^{B}_{g},\theta^{C}_{g}" display="inline"><semantics id="S3.p2.4.m4.3a"><mrow id="S3.p2.4.m4.3.3.3" xref="S3.p2.4.m4.3.3.4.cmml"><msubsup id="S3.p2.4.m4.1.1.1.1" xref="S3.p2.4.m4.1.1.1.1.cmml"><mi id="S3.p2.4.m4.1.1.1.1.2.2" xref="S3.p2.4.m4.1.1.1.1.2.2.cmml">θ</mi><mi id="S3.p2.4.m4.1.1.1.1.3" xref="S3.p2.4.m4.1.1.1.1.3.cmml">g</mi><mi id="S3.p2.4.m4.1.1.1.1.2.3" xref="S3.p2.4.m4.1.1.1.1.2.3.cmml">A</mi></msubsup><mo id="S3.p2.4.m4.3.3.3.4" xref="S3.p2.4.m4.3.3.4.cmml">,</mo><msubsup id="S3.p2.4.m4.2.2.2.2" xref="S3.p2.4.m4.2.2.2.2.cmml"><mi id="S3.p2.4.m4.2.2.2.2.2.2" xref="S3.p2.4.m4.2.2.2.2.2.2.cmml">θ</mi><mi id="S3.p2.4.m4.2.2.2.2.3" xref="S3.p2.4.m4.2.2.2.2.3.cmml">g</mi><mi id="S3.p2.4.m4.2.2.2.2.2.3" xref="S3.p2.4.m4.2.2.2.2.2.3.cmml">B</mi></msubsup><mo id="S3.p2.4.m4.3.3.3.5" xref="S3.p2.4.m4.3.3.4.cmml">,</mo><msubsup id="S3.p2.4.m4.3.3.3.3" xref="S3.p2.4.m4.3.3.3.3.cmml"><mi id="S3.p2.4.m4.3.3.3.3.2.2" xref="S3.p2.4.m4.3.3.3.3.2.2.cmml">θ</mi><mi id="S3.p2.4.m4.3.3.3.3.3" xref="S3.p2.4.m4.3.3.3.3.3.cmml">g</mi><mi id="S3.p2.4.m4.3.3.3.3.2.3" xref="S3.p2.4.m4.3.3.3.3.2.3.cmml">C</mi></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.3b"><list id="S3.p2.4.m4.3.3.4.cmml" xref="S3.p2.4.m4.3.3.3"><apply id="S3.p2.4.m4.1.1.1.1.cmml" xref="S3.p2.4.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.p2.4.m4.1.1.1.1.1.cmml" xref="S3.p2.4.m4.1.1.1.1">subscript</csymbol><apply id="S3.p2.4.m4.1.1.1.1.2.cmml" xref="S3.p2.4.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.p2.4.m4.1.1.1.1.2.1.cmml" xref="S3.p2.4.m4.1.1.1.1">superscript</csymbol><ci id="S3.p2.4.m4.1.1.1.1.2.2.cmml" xref="S3.p2.4.m4.1.1.1.1.2.2">𝜃</ci><ci id="S3.p2.4.m4.1.1.1.1.2.3.cmml" xref="S3.p2.4.m4.1.1.1.1.2.3">𝐴</ci></apply><ci id="S3.p2.4.m4.1.1.1.1.3.cmml" xref="S3.p2.4.m4.1.1.1.1.3">𝑔</ci></apply><apply id="S3.p2.4.m4.2.2.2.2.cmml" xref="S3.p2.4.m4.2.2.2.2"><csymbol cd="ambiguous" id="S3.p2.4.m4.2.2.2.2.1.cmml" xref="S3.p2.4.m4.2.2.2.2">subscript</csymbol><apply id="S3.p2.4.m4.2.2.2.2.2.cmml" xref="S3.p2.4.m4.2.2.2.2"><csymbol cd="ambiguous" id="S3.p2.4.m4.2.2.2.2.2.1.cmml" xref="S3.p2.4.m4.2.2.2.2">superscript</csymbol><ci id="S3.p2.4.m4.2.2.2.2.2.2.cmml" xref="S3.p2.4.m4.2.2.2.2.2.2">𝜃</ci><ci id="S3.p2.4.m4.2.2.2.2.2.3.cmml" xref="S3.p2.4.m4.2.2.2.2.2.3">𝐵</ci></apply><ci id="S3.p2.4.m4.2.2.2.2.3.cmml" xref="S3.p2.4.m4.2.2.2.2.3">𝑔</ci></apply><apply id="S3.p2.4.m4.3.3.3.3.cmml" xref="S3.p2.4.m4.3.3.3.3"><csymbol cd="ambiguous" id="S3.p2.4.m4.3.3.3.3.1.cmml" xref="S3.p2.4.m4.3.3.3.3">subscript</csymbol><apply id="S3.p2.4.m4.3.3.3.3.2.cmml" xref="S3.p2.4.m4.3.3.3.3"><csymbol cd="ambiguous" id="S3.p2.4.m4.3.3.3.3.2.1.cmml" xref="S3.p2.4.m4.3.3.3.3">superscript</csymbol><ci id="S3.p2.4.m4.3.3.3.3.2.2.cmml" xref="S3.p2.4.m4.3.3.3.3.2.2">𝜃</ci><ci id="S3.p2.4.m4.3.3.3.3.2.3.cmml" xref="S3.p2.4.m4.3.3.3.3.2.3">𝐶</ci></apply><ci id="S3.p2.4.m4.3.3.3.3.3.cmml" xref="S3.p2.4.m4.3.3.3.3.3">𝑔</ci></apply></list></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.3c">\theta^{A}_{g},\theta^{B}_{g},\theta^{C}_{g}</annotation></semantics></math>), and then aggregate the group votes to produce the final model.
In this setting, each client has the same chance (one vote) to influence its own group vote, and finally each group of voters have the same chance (one vote) to influence the final vote.
We define two aspects of fairness in FL as follows:</p>
</div>
<div id="S3.p3" class="ltx_para ltx_noindent">
<p id="S3.p3.6" class="ltx_p"><span id="S3.p3.6.1" class="ltx_text ltx_font_bold">Definition 1 (Equality: User-level Fairness):</span> 
Trained global model <math id="S3.p3.1.m1.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.p3.1.m1.1a"><mi id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.1b"><ci id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.1c">\theta</annotation></semantics></math> is more <em id="S3.p3.6.2" class="ltx_emph ltx_font_italic">equalized</em> when its performance is more uniform across the individual clients participating in FL, i.e., when STD<math id="S3.p3.2.m2.3" class="ltx_Math" alttext="\{F_{u}(\theta)\}_{u\in[N]}" display="inline"><semantics id="S3.p3.2.m2.3a"><msub id="S3.p3.2.m2.3.3" xref="S3.p3.2.m2.3.3.cmml"><mrow id="S3.p3.2.m2.3.3.1.1" xref="S3.p3.2.m2.3.3.1.2.cmml"><mo stretchy="false" id="S3.p3.2.m2.3.3.1.1.2" xref="S3.p3.2.m2.3.3.1.2.cmml">{</mo><mrow id="S3.p3.2.m2.3.3.1.1.1" xref="S3.p3.2.m2.3.3.1.1.1.cmml"><msub id="S3.p3.2.m2.3.3.1.1.1.2" xref="S3.p3.2.m2.3.3.1.1.1.2.cmml"><mi id="S3.p3.2.m2.3.3.1.1.1.2.2" xref="S3.p3.2.m2.3.3.1.1.1.2.2.cmml">F</mi><mi id="S3.p3.2.m2.3.3.1.1.1.2.3" xref="S3.p3.2.m2.3.3.1.1.1.2.3.cmml">u</mi></msub><mo lspace="0em" rspace="0em" id="S3.p3.2.m2.3.3.1.1.1.1" xref="S3.p3.2.m2.3.3.1.1.1.1.cmml">​</mo><mrow id="S3.p3.2.m2.3.3.1.1.1.3.2" xref="S3.p3.2.m2.3.3.1.1.1.cmml"><mo stretchy="false" id="S3.p3.2.m2.3.3.1.1.1.3.2.1" xref="S3.p3.2.m2.3.3.1.1.1.cmml">(</mo><mi id="S3.p3.2.m2.2.2" xref="S3.p3.2.m2.2.2.cmml">θ</mi><mo stretchy="false" id="S3.p3.2.m2.3.3.1.1.1.3.2.2" xref="S3.p3.2.m2.3.3.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.p3.2.m2.3.3.1.1.3" xref="S3.p3.2.m2.3.3.1.2.cmml">}</mo></mrow><mrow id="S3.p3.2.m2.1.1.1" xref="S3.p3.2.m2.1.1.1.cmml"><mi id="S3.p3.2.m2.1.1.1.3" xref="S3.p3.2.m2.1.1.1.3.cmml">u</mi><mo id="S3.p3.2.m2.1.1.1.2" xref="S3.p3.2.m2.1.1.1.2.cmml">∈</mo><mrow id="S3.p3.2.m2.1.1.1.4.2" xref="S3.p3.2.m2.1.1.1.4.1.cmml"><mo stretchy="false" id="S3.p3.2.m2.1.1.1.4.2.1" xref="S3.p3.2.m2.1.1.1.4.1.1.cmml">[</mo><mi id="S3.p3.2.m2.1.1.1.1" xref="S3.p3.2.m2.1.1.1.1.cmml">N</mi><mo stretchy="false" id="S3.p3.2.m2.1.1.1.4.2.2" xref="S3.p3.2.m2.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.3b"><apply id="S3.p3.2.m2.3.3.cmml" xref="S3.p3.2.m2.3.3"><csymbol cd="ambiguous" id="S3.p3.2.m2.3.3.2.cmml" xref="S3.p3.2.m2.3.3">subscript</csymbol><set id="S3.p3.2.m2.3.3.1.2.cmml" xref="S3.p3.2.m2.3.3.1.1"><apply id="S3.p3.2.m2.3.3.1.1.1.cmml" xref="S3.p3.2.m2.3.3.1.1.1"><times id="S3.p3.2.m2.3.3.1.1.1.1.cmml" xref="S3.p3.2.m2.3.3.1.1.1.1"></times><apply id="S3.p3.2.m2.3.3.1.1.1.2.cmml" xref="S3.p3.2.m2.3.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.p3.2.m2.3.3.1.1.1.2.1.cmml" xref="S3.p3.2.m2.3.3.1.1.1.2">subscript</csymbol><ci id="S3.p3.2.m2.3.3.1.1.1.2.2.cmml" xref="S3.p3.2.m2.3.3.1.1.1.2.2">𝐹</ci><ci id="S3.p3.2.m2.3.3.1.1.1.2.3.cmml" xref="S3.p3.2.m2.3.3.1.1.1.2.3">𝑢</ci></apply><ci id="S3.p3.2.m2.2.2.cmml" xref="S3.p3.2.m2.2.2">𝜃</ci></apply></set><apply id="S3.p3.2.m2.1.1.1.cmml" xref="S3.p3.2.m2.1.1.1"><in id="S3.p3.2.m2.1.1.1.2.cmml" xref="S3.p3.2.m2.1.1.1.2"></in><ci id="S3.p3.2.m2.1.1.1.3.cmml" xref="S3.p3.2.m2.1.1.1.3">𝑢</ci><apply id="S3.p3.2.m2.1.1.1.4.1.cmml" xref="S3.p3.2.m2.1.1.1.4.2"><csymbol cd="latexml" id="S3.p3.2.m2.1.1.1.4.1.1.cmml" xref="S3.p3.2.m2.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.p3.2.m2.1.1.1.1.cmml" xref="S3.p3.2.m2.1.1.1.1">𝑁</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.3c">\{F_{u}(\theta)\}_{u\in[N]}</annotation></semantics></math> is smaller where STD<math id="S3.p3.3.m3.1" class="ltx_math_unparsed" alttext="\{.\}" display="inline"><semantics id="S3.p3.3.m3.1a"><mrow id="S3.p3.3.m3.1b"><mo stretchy="false" id="S3.p3.3.m3.1.1">{</mo><mo lspace="0em" rspace="0.167em" id="S3.p3.3.m3.1.2">.</mo><mo stretchy="false" id="S3.p3.3.m3.1.3">}</mo></mrow><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">\{.\}</annotation></semantics></math> is the standard deviation, and <math id="S3.p3.4.m4.1" class="ltx_math_unparsed" alttext="F_{u}(.)" display="inline"><semantics id="S3.p3.4.m4.1a"><mrow id="S3.p3.4.m4.1b"><msub id="S3.p3.4.m4.1.1"><mi id="S3.p3.4.m4.1.1.2">F</mi><mi id="S3.p3.4.m4.1.1.3">u</mi></msub><mrow id="S3.p3.4.m4.1.2"><mo stretchy="false" id="S3.p3.4.m4.1.2.1">(</mo><mo lspace="0em" rspace="0.167em" id="S3.p3.4.m4.1.2.2">.</mo><mo stretchy="false" id="S3.p3.4.m4.1.2.3">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S3.p3.4.m4.1c">F_{u}(.)</annotation></semantics></math> denotes the local objective function of client <math id="S3.p3.5.m5.1" class="ltx_Math" alttext="u" display="inline"><semantics id="S3.p3.5.m5.1a"><mi id="S3.p3.5.m5.1.1" xref="S3.p3.5.m5.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S3.p3.5.m5.1b"><ci id="S3.p3.5.m5.1.1.cmml" xref="S3.p3.5.m5.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.5.m5.1c">u</annotation></semantics></math> from <math id="S3.p3.6.m6.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.p3.6.m6.1a"><mi id="S3.p3.6.m6.1.1" xref="S3.p3.6.m6.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.p3.6.m6.1b"><ci id="S3.p3.6.m6.1.1.cmml" xref="S3.p3.6.m6.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.6.m6.1c">N</annotation></semantics></math> clients.
Existing fair federated learning literature <cite class="ltx_cite ltx_citemacro_citep">(Li et al. <a href="#bib.bib20" title="" class="ltx_ref">2020b</a>, <a href="#bib.bib19" title="" class="ltx_ref">2021b</a>; Smith et al. <a href="#bib.bib29" title="" class="ltx_ref">2017</a>; Hashimoto et al. <a href="#bib.bib12" title="" class="ltx_ref">2018</a>; Zhang et al. <a href="#bib.bib33" title="" class="ltx_ref">2021</a>; Mohri, Sivek, and Suresh <a href="#bib.bib25" title="" class="ltx_ref">2019</a>; Yu, Bagdasaryan, and Shmatikov <a href="#bib.bib31" title="" class="ltx_ref">2020</a>)</cite> use this definition in their designs.</p>
</div>
<div id="S3.p4" class="ltx_para ltx_noindent">
<p id="S3.p4.6" class="ltx_p"><span id="S3.p4.6.1" class="ltx_text ltx_font_bold">Definition 2 (Equity: Group-level Fairness):</span> 
Trained global model <math id="S3.p4.1.m1.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S3.p4.1.m1.1a"><mi id="S3.p4.1.m1.1.1" xref="S3.p4.1.m1.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S3.p4.1.m1.1b"><ci id="S3.p4.1.m1.1.1.cmml" xref="S3.p4.1.m1.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.1.m1.1c">\theta</annotation></semantics></math> is more <em id="S3.p4.6.2" class="ltx_emph ltx_font_italic">equitable</em> when its performance is more uniform across the groups, i.e., when
STD<math id="S3.p4.2.m2.1" class="ltx_Math" alttext="\{" display="inline"><semantics id="S3.p4.2.m2.1a"><mo stretchy="false" id="S3.p4.2.m2.1.1" xref="S3.p4.2.m2.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="S3.p4.2.m2.1b"><ci id="S3.p4.2.m2.1.1.cmml" xref="S3.p4.2.m2.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.2.m2.1c">\{</annotation></semantics></math>Avg<math id="S3.p4.3.m3.3" class="ltx_math_unparsed" alttext="\{F_{u}(\theta)\}_{u\in[q]}\}_{q\in[Q]}" display="inline"><semantics id="S3.p4.3.m3.3a"><mrow id="S3.p4.3.m3.3b"><msub id="S3.p4.3.m3.3.4"><mrow id="S3.p4.3.m3.3.4.2"><mo stretchy="false" id="S3.p4.3.m3.3.4.2.1">{</mo><msub id="S3.p4.3.m3.3.4.2.2"><mi id="S3.p4.3.m3.3.4.2.2.2">F</mi><mi id="S3.p4.3.m3.3.4.2.2.3">u</mi></msub><mrow id="S3.p4.3.m3.3.4.2.3"><mo stretchy="false" id="S3.p4.3.m3.3.4.2.3.1">(</mo><mi id="S3.p4.3.m3.3.3">θ</mi><mo stretchy="false" id="S3.p4.3.m3.3.4.2.3.2">)</mo></mrow><mo stretchy="false" id="S3.p4.3.m3.3.4.2.4">}</mo></mrow><mrow id="S3.p4.3.m3.1.1.1"><mi id="S3.p4.3.m3.1.1.1.3">u</mi><mo id="S3.p4.3.m3.1.1.1.2">∈</mo><mrow id="S3.p4.3.m3.1.1.1.4.2"><mo stretchy="false" id="S3.p4.3.m3.1.1.1.4.2.1">[</mo><mi id="S3.p4.3.m3.1.1.1.1">q</mi><mo stretchy="false" id="S3.p4.3.m3.1.1.1.4.2.2">]</mo></mrow></mrow></msub><mo stretchy="false" id="S3.p4.3.m3.3.5">}</mo><msub id="S3.p4.3.m3.2.2"><mi id="S3.p4.3.m3.2.2a"></mi><mrow id="S3.p4.3.m3.2.2.1"><mi id="S3.p4.3.m3.2.2.1.3">q</mi><mo id="S3.p4.3.m3.2.2.1.2">∈</mo><mrow id="S3.p4.3.m3.2.2.1.4.2"><mo stretchy="false" id="S3.p4.3.m3.2.2.1.4.2.1">[</mo><mi id="S3.p4.3.m3.2.2.1.1">Q</mi><mo stretchy="false" id="S3.p4.3.m3.2.2.1.4.2.2">]</mo></mrow></mrow></msub></mrow><annotation encoding="application/x-tex" id="S3.p4.3.m3.3c">\{F_{u}(\theta)\}_{u\in[q]}\}_{q\in[Q]}</annotation></semantics></math> is smaller where AVG<math id="S3.p4.4.m4.1" class="ltx_Math" alttext="\{\}_{u\in[q]}" display="inline"><semantics id="S3.p4.4.m4.1a"><msub id="S3.p4.4.m4.1.2" xref="S3.p4.4.m4.1.2.cmml"><mrow id="S3.p4.4.m4.1.2.2.2" xref="S3.p4.4.m4.1.2.cmml"><mo stretchy="false" id="S3.p4.4.m4.1.2.2.2.1" xref="S3.p4.4.m4.1.2.2.1.cmml">{</mo><mo stretchy="false" id="S3.p4.4.m4.1.2.2.2.2" xref="S3.p4.4.m4.1.2.2.1.cmml">}</mo></mrow><mrow id="S3.p4.4.m4.1.1.1" xref="S3.p4.4.m4.1.1.1.cmml"><mi id="S3.p4.4.m4.1.1.1.3" xref="S3.p4.4.m4.1.1.1.3.cmml">u</mi><mo id="S3.p4.4.m4.1.1.1.2" xref="S3.p4.4.m4.1.1.1.2.cmml">∈</mo><mrow id="S3.p4.4.m4.1.1.1.4.2" xref="S3.p4.4.m4.1.1.1.4.1.cmml"><mo stretchy="false" id="S3.p4.4.m4.1.1.1.4.2.1" xref="S3.p4.4.m4.1.1.1.4.1.1.cmml">[</mo><mi id="S3.p4.4.m4.1.1.1.1" xref="S3.p4.4.m4.1.1.1.1.cmml">q</mi><mo stretchy="false" id="S3.p4.4.m4.1.1.1.4.2.2" xref="S3.p4.4.m4.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S3.p4.4.m4.1b"><apply id="S3.p4.4.m4.1.2.cmml" xref="S3.p4.4.m4.1.2"><csymbol cd="ambiguous" id="S3.p4.4.m4.1.2.1.cmml" xref="S3.p4.4.m4.1.2">subscript</csymbol><list id="S3.p4.4.m4.1.2.2.1.cmml" xref="S3.p4.4.m4.1.2.2.2.1"></list><apply id="S3.p4.4.m4.1.1.1.cmml" xref="S3.p4.4.m4.1.1.1"><in id="S3.p4.4.m4.1.1.1.2.cmml" xref="S3.p4.4.m4.1.1.1.2"></in><ci id="S3.p4.4.m4.1.1.1.3.cmml" xref="S3.p4.4.m4.1.1.1.3">𝑢</ci><apply id="S3.p4.4.m4.1.1.1.4.1.cmml" xref="S3.p4.4.m4.1.1.1.4.2"><csymbol cd="latexml" id="S3.p4.4.m4.1.1.1.4.1.1.cmml" xref="S3.p4.4.m4.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S3.p4.4.m4.1.1.1.1.cmml" xref="S3.p4.4.m4.1.1.1.1">𝑞</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.4.m4.1c">\{\}_{u\in[q]}</annotation></semantics></math> denotes the average of performances for all the individual clients in the <math id="S3.p4.5.m5.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S3.p4.5.m5.1a"><mi id="S3.p4.5.m5.1.1" xref="S3.p4.5.m5.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S3.p4.5.m5.1b"><ci id="S3.p4.5.m5.1.1.cmml" xref="S3.p4.5.m5.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.5.m5.1c">q</annotation></semantics></math>th group, and there are <math id="S3.p4.6.m6.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S3.p4.6.m6.1a"><mi id="S3.p4.6.m6.1.1" xref="S3.p4.6.m6.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S3.p4.6.m6.1b"><ci id="S3.p4.6.m6.1.1.cmml" xref="S3.p4.6.m6.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p4.6.m6.1c">Q</annotation></semantics></math> total groups.</p>
</div>
<div id="S3.p5" class="ltx_para">
<p id="S3.p5.1" class="ltx_p">In E2FL, our goal is providing both equity and equality. To provide equity, an individual client has one vote in their group, and each group has one vote among all the groups. To provide equality, we allow the clients in each group use their group model which represents their training data better.</p>
</div>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>E2FL: Design</h2>

<div id="S4.p1" class="ltx_para">
<p id="S4.p1.1" class="ltx_p">In this section, we provide the design of our Equal and Equitable Federated Learning (E2FL) algorithm. We first describe how E2FL provides equity and then discuss how it provides equality.
The intuition behind E2FL is to train multiple global models, and first perform a majority vote among the clients’ model updates in each group, and then another majority vote among the group models to find the global model.
Algorithm <a href="#alg1" title="Algorithm 1 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> describes E2FL training.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.2.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> Equal and Equitable Federated Learning (E2FL) Algorithm.</figcaption>
<div id="alg1.3" class="ltx_listing ltx_listing">
<div id="alg1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span><span id="alg1.l1.1" class="ltx_text ltx_font_bold">Input:</span> number of FL rounds <math id="alg1.l1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg1.l1.m1.1a"><mi id="alg1.l1.m1.1.1" xref="alg1.l1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m1.1b"><ci id="alg1.l1.m1.1.1.cmml" xref="alg1.l1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m1.1c">T</annotation></semantics></math>, number of local epochs <math id="alg1.l1.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg1.l1.m2.1a"><mi id="alg1.l1.m2.1.1" xref="alg1.l1.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m2.1b"><ci id="alg1.l1.m2.1.1.cmml" xref="alg1.l1.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m2.1c">E</annotation></semantics></math>, number of selected users in each round <math id="alg1.l1.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="alg1.l1.m3.1a"><mi id="alg1.l1.m3.1.1" xref="alg1.l1.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m3.1b"><ci id="alg1.l1.m3.1.1.cmml" xref="alg1.l1.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m3.1c">n</annotation></semantics></math>, number of groups <math id="alg1.l1.m4.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="alg1.l1.m4.1a"><mi id="alg1.l1.m4.1.1" xref="alg1.l1.m4.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m4.1b"><ci id="alg1.l1.m4.1.1.cmml" xref="alg1.l1.m4.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m4.1c">Q</annotation></semantics></math>, seed <span id="alg1.l1.2" class="ltx_text ltx_markedasmath ltx_font_smallcaps">seed</span>, learning rate <math id="alg1.l1.m6.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg1.l1.m6.1a"><mi id="alg1.l1.m6.1.1" xref="alg1.l1.m6.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m6.1b"><ci id="alg1.l1.m6.1.1.cmml" xref="alg1.l1.m6.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m6.1c">\eta</annotation></semantics></math>, subnetwork size <math id="alg1.l1.m7.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg1.l1.m7.1a"><mi id="alg1.l1.m7.1.1" xref="alg1.l1.m7.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg1.l1.m7.1b"><ci id="alg1.l1.m7.1.1.cmml" xref="alg1.l1.m7.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l1.m7.1c">k</annotation></semantics></math>%

</div>
<div id="alg1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span><math id="alg1.l2.m1.2" class="ltx_Math" alttext="\theta^{s},\theta^{w}\leftarrow" display="inline"><semantics id="alg1.l2.m1.2a"><mrow id="alg1.l2.m1.2.2" xref="alg1.l2.m1.2.2.cmml"><mrow id="alg1.l2.m1.2.2.2.2" xref="alg1.l2.m1.2.2.2.3.cmml"><msup id="alg1.l2.m1.1.1.1.1.1" xref="alg1.l2.m1.1.1.1.1.1.cmml"><mi id="alg1.l2.m1.1.1.1.1.1.2" xref="alg1.l2.m1.1.1.1.1.1.2.cmml">θ</mi><mi id="alg1.l2.m1.1.1.1.1.1.3" xref="alg1.l2.m1.1.1.1.1.1.3.cmml">s</mi></msup><mo id="alg1.l2.m1.2.2.2.2.3" xref="alg1.l2.m1.2.2.2.3.cmml">,</mo><msup id="alg1.l2.m1.2.2.2.2.2" xref="alg1.l2.m1.2.2.2.2.2.cmml"><mi id="alg1.l2.m1.2.2.2.2.2.2" xref="alg1.l2.m1.2.2.2.2.2.2.cmml">θ</mi><mi id="alg1.l2.m1.2.2.2.2.2.3" xref="alg1.l2.m1.2.2.2.2.2.3.cmml">w</mi></msup></mrow><mo stretchy="false" id="alg1.l2.m1.2.2.3" xref="alg1.l2.m1.2.2.3.cmml">←</mo><mi id="alg1.l2.m1.2.2.4" xref="alg1.l2.m1.2.2.4.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l2.m1.2b"><apply id="alg1.l2.m1.2.2.cmml" xref="alg1.l2.m1.2.2"><ci id="alg1.l2.m1.2.2.3.cmml" xref="alg1.l2.m1.2.2.3">←</ci><list id="alg1.l2.m1.2.2.2.3.cmml" xref="alg1.l2.m1.2.2.2.2"><apply id="alg1.l2.m1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l2.m1.1.1.1.1.1.1.cmml" xref="alg1.l2.m1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l2.m1.1.1.1.1.1.2.cmml" xref="alg1.l2.m1.1.1.1.1.1.2">𝜃</ci><ci id="alg1.l2.m1.1.1.1.1.1.3.cmml" xref="alg1.l2.m1.1.1.1.1.1.3">𝑠</ci></apply><apply id="alg1.l2.m1.2.2.2.2.2.cmml" xref="alg1.l2.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l2.m1.2.2.2.2.2.1.cmml" xref="alg1.l2.m1.2.2.2.2.2">superscript</csymbol><ci id="alg1.l2.m1.2.2.2.2.2.2.cmml" xref="alg1.l2.m1.2.2.2.2.2.2">𝜃</ci><ci id="alg1.l2.m1.2.2.2.2.2.3.cmml" xref="alg1.l2.m1.2.2.2.2.2.3">𝑤</ci></apply></list><csymbol cd="latexml" id="alg1.l2.m1.2.2.4.cmml" xref="alg1.l2.m1.2.2.4">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m1.2c">\theta^{s},\theta^{w}\leftarrow</annotation></semantics></math> Initialize random scores and weights of global model <math id="alg1.l2.m2.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="alg1.l2.m2.1a"><mi id="alg1.l2.m2.1.1" xref="alg1.l2.m2.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="alg1.l2.m2.1b"><ci id="alg1.l2.m2.1.1.cmml" xref="alg1.l2.m2.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l2.m2.1c">\theta</annotation></semantics></math> using <span id="alg1.l2.1" class="ltx_text ltx_font_smallcaps">seed</span>

</div>
<div id="alg1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span><math id="alg1.l3.m1.1" class="ltx_Math" alttext="R_{g}^{1}\leftarrow\textsc{ArgSort}(\theta^{s})" display="inline"><semantics id="alg1.l3.m1.1a"><mrow id="alg1.l3.m1.1.1" xref="alg1.l3.m1.1.1.cmml"><msubsup id="alg1.l3.m1.1.1.3" xref="alg1.l3.m1.1.1.3.cmml"><mi id="alg1.l3.m1.1.1.3.2.2" xref="alg1.l3.m1.1.1.3.2.2.cmml">R</mi><mi id="alg1.l3.m1.1.1.3.2.3" xref="alg1.l3.m1.1.1.3.2.3.cmml">g</mi><mn id="alg1.l3.m1.1.1.3.3" xref="alg1.l3.m1.1.1.3.3.cmml">1</mn></msubsup><mo stretchy="false" id="alg1.l3.m1.1.1.2" xref="alg1.l3.m1.1.1.2.cmml">←</mo><mrow id="alg1.l3.m1.1.1.1" xref="alg1.l3.m1.1.1.1.cmml"><mtext class="ltx_font_smallcaps" id="alg1.l3.m1.1.1.1.3" xref="alg1.l3.m1.1.1.1.3a.cmml">ArgSort</mtext><mo lspace="0em" rspace="0em" id="alg1.l3.m1.1.1.1.2" xref="alg1.l3.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.l3.m1.1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l3.m1.1.1.1.1.1.2" xref="alg1.l3.m1.1.1.1.1.1.1.cmml">(</mo><msup id="alg1.l3.m1.1.1.1.1.1.1" xref="alg1.l3.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l3.m1.1.1.1.1.1.1.2" xref="alg1.l3.m1.1.1.1.1.1.1.2.cmml">θ</mi><mi id="alg1.l3.m1.1.1.1.1.1.1.3" xref="alg1.l3.m1.1.1.1.1.1.1.3.cmml">s</mi></msup><mo stretchy="false" id="alg1.l3.m1.1.1.1.1.1.3" xref="alg1.l3.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l3.m1.1b"><apply id="alg1.l3.m1.1.1.cmml" xref="alg1.l3.m1.1.1"><ci id="alg1.l3.m1.1.1.2.cmml" xref="alg1.l3.m1.1.1.2">←</ci><apply id="alg1.l3.m1.1.1.3.cmml" xref="alg1.l3.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.3.1.cmml" xref="alg1.l3.m1.1.1.3">superscript</csymbol><apply id="alg1.l3.m1.1.1.3.2.cmml" xref="alg1.l3.m1.1.1.3"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.3.2.1.cmml" xref="alg1.l3.m1.1.1.3">subscript</csymbol><ci id="alg1.l3.m1.1.1.3.2.2.cmml" xref="alg1.l3.m1.1.1.3.2.2">𝑅</ci><ci id="alg1.l3.m1.1.1.3.2.3.cmml" xref="alg1.l3.m1.1.1.3.2.3">𝑔</ci></apply><cn type="integer" id="alg1.l3.m1.1.1.3.3.cmml" xref="alg1.l3.m1.1.1.3.3">1</cn></apply><apply id="alg1.l3.m1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1"><times id="alg1.l3.m1.1.1.1.2.cmml" xref="alg1.l3.m1.1.1.1.2"></times><ci id="alg1.l3.m1.1.1.1.3a.cmml" xref="alg1.l3.m1.1.1.1.3"><mtext class="ltx_font_smallcaps" id="alg1.l3.m1.1.1.1.3.cmml" xref="alg1.l3.m1.1.1.1.3">ArgSort</mtext></ci><apply id="alg1.l3.m1.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l3.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l3.m1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l3.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l3.m1.1.1.1.1.1.1.2">𝜃</ci><ci id="alg1.l3.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l3.m1.1.1.1.1.1.1.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.m1.1c">R_{g}^{1}\leftarrow\textsc{ArgSort}(\theta^{s})</annotation></semantics></math> <span id="alg1.l3.1" class="ltx_text" style="float:right;"><math id="alg1.l3.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l3.1.m1.1a"><mo id="alg1.l3.1.m1.1.1" xref="alg1.l3.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l3.1.m1.1b"><ci id="alg1.l3.1.m1.1.1.cmml" xref="alg1.l3.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l3.1.m1.1c">\triangleright</annotation></semantics></math> Sort the initial scores and obtain initial global rankings
</span>
</div>
<div id="alg1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span><span id="alg1.l4.1" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l4.m1.2" class="ltx_Math" alttext="t\in[1,T]" display="inline"><semantics id="alg1.l4.m1.2a"><mrow id="alg1.l4.m1.2.3" xref="alg1.l4.m1.2.3.cmml"><mi id="alg1.l4.m1.2.3.2" xref="alg1.l4.m1.2.3.2.cmml">t</mi><mo id="alg1.l4.m1.2.3.1" xref="alg1.l4.m1.2.3.1.cmml">∈</mo><mrow id="alg1.l4.m1.2.3.3.2" xref="alg1.l4.m1.2.3.3.1.cmml"><mo stretchy="false" id="alg1.l4.m1.2.3.3.2.1" xref="alg1.l4.m1.2.3.3.1.cmml">[</mo><mn id="alg1.l4.m1.1.1" xref="alg1.l4.m1.1.1.cmml">1</mn><mo id="alg1.l4.m1.2.3.3.2.2" xref="alg1.l4.m1.2.3.3.1.cmml">,</mo><mi id="alg1.l4.m1.2.2" xref="alg1.l4.m1.2.2.cmml">T</mi><mo stretchy="false" id="alg1.l4.m1.2.3.3.2.3" xref="alg1.l4.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l4.m1.2b"><apply id="alg1.l4.m1.2.3.cmml" xref="alg1.l4.m1.2.3"><in id="alg1.l4.m1.2.3.1.cmml" xref="alg1.l4.m1.2.3.1"></in><ci id="alg1.l4.m1.2.3.2.cmml" xref="alg1.l4.m1.2.3.2">𝑡</ci><interval closure="closed" id="alg1.l4.m1.2.3.3.1.cmml" xref="alg1.l4.m1.2.3.3.2"><cn type="integer" id="alg1.l4.m1.1.1.cmml" xref="alg1.l4.m1.1.1">1</cn><ci id="alg1.l4.m1.2.2.cmml" xref="alg1.l4.m1.2.2">𝑇</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l4.m1.2c">t\in[1,T]</annotation></semantics></math> <span id="alg1.l4.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>     <math id="alg1.l5.m1.1" class="ltx_Math" alttext="U\leftarrow" display="inline"><semantics id="alg1.l5.m1.1a"><mrow id="alg1.l5.m1.1.1" xref="alg1.l5.m1.1.1.cmml"><mi id="alg1.l5.m1.1.1.2" xref="alg1.l5.m1.1.1.2.cmml">U</mi><mo stretchy="false" id="alg1.l5.m1.1.1.1" xref="alg1.l5.m1.1.1.1.cmml">←</mo><mi id="alg1.l5.m1.1.1.3" xref="alg1.l5.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l5.m1.1b"><apply id="alg1.l5.m1.1.1.cmml" xref="alg1.l5.m1.1.1"><ci id="alg1.l5.m1.1.1.1.cmml" xref="alg1.l5.m1.1.1.1">←</ci><ci id="alg1.l5.m1.1.1.2.cmml" xref="alg1.l5.m1.1.1.2">𝑈</ci><csymbol cd="latexml" id="alg1.l5.m1.1.1.3.cmml" xref="alg1.l5.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m1.1c">U\leftarrow</annotation></semantics></math> set of <math id="alg1.l5.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="alg1.l5.m2.1a"><mi id="alg1.l5.m2.1.1" xref="alg1.l5.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m2.1b"><ci id="alg1.l5.m2.1.1.cmml" xref="alg1.l5.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m2.1c">n</annotation></semantics></math> randomly selected clients out of <math id="alg1.l5.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg1.l5.m3.1a"><mi id="alg1.l5.m3.1.1" xref="alg1.l5.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg1.l5.m3.1b"><ci id="alg1.l5.m3.1.1.cmml" xref="alg1.l5.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l5.m3.1c">N</annotation></semantics></math> total clients

</div>
<div id="alg1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>     <span id="alg1.l6.1" class="ltx_text ltx_font_bold">for</span> <math id="alg1.l6.m1.1" class="ltx_Math" alttext="u" display="inline"><semantics id="alg1.l6.m1.1a"><mi id="alg1.l6.m1.1.1" xref="alg1.l6.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="alg1.l6.m1.1b"><ci id="alg1.l6.m1.1.1.cmml" xref="alg1.l6.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m1.1c">u</annotation></semantics></math> in <math id="alg1.l6.m2.1" class="ltx_Math" alttext="U" display="inline"><semantics id="alg1.l6.m2.1a"><mi id="alg1.l6.m2.1.1" xref="alg1.l6.m2.1.1.cmml">U</mi><annotation-xml encoding="MathML-Content" id="alg1.l6.m2.1b"><ci id="alg1.l6.m2.1.1.cmml" xref="alg1.l6.m2.1.1">𝑈</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l6.m2.1c">U</annotation></semantics></math> <span id="alg1.l6.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>         <math id="alg1.l7.m1.2" class="ltx_Math" alttext="\theta^{s},\theta^{w}\leftarrow" display="inline"><semantics id="alg1.l7.m1.2a"><mrow id="alg1.l7.m1.2.2" xref="alg1.l7.m1.2.2.cmml"><mrow id="alg1.l7.m1.2.2.2.2" xref="alg1.l7.m1.2.2.2.3.cmml"><msup id="alg1.l7.m1.1.1.1.1.1" xref="alg1.l7.m1.1.1.1.1.1.cmml"><mi id="alg1.l7.m1.1.1.1.1.1.2" xref="alg1.l7.m1.1.1.1.1.1.2.cmml">θ</mi><mi id="alg1.l7.m1.1.1.1.1.1.3" xref="alg1.l7.m1.1.1.1.1.1.3.cmml">s</mi></msup><mo id="alg1.l7.m1.2.2.2.2.3" xref="alg1.l7.m1.2.2.2.3.cmml">,</mo><msup id="alg1.l7.m1.2.2.2.2.2" xref="alg1.l7.m1.2.2.2.2.2.cmml"><mi id="alg1.l7.m1.2.2.2.2.2.2" xref="alg1.l7.m1.2.2.2.2.2.2.cmml">θ</mi><mi id="alg1.l7.m1.2.2.2.2.2.3" xref="alg1.l7.m1.2.2.2.2.2.3.cmml">w</mi></msup></mrow><mo stretchy="false" id="alg1.l7.m1.2.2.3" xref="alg1.l7.m1.2.2.3.cmml">←</mo><mi id="alg1.l7.m1.2.2.4" xref="alg1.l7.m1.2.2.4.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l7.m1.2b"><apply id="alg1.l7.m1.2.2.cmml" xref="alg1.l7.m1.2.2"><ci id="alg1.l7.m1.2.2.3.cmml" xref="alg1.l7.m1.2.2.3">←</ci><list id="alg1.l7.m1.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.2"><apply id="alg1.l7.m1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l7.m1.1.1.1.1.1.1.cmml" xref="alg1.l7.m1.1.1.1.1.1">superscript</csymbol><ci id="alg1.l7.m1.1.1.1.1.1.2.cmml" xref="alg1.l7.m1.1.1.1.1.1.2">𝜃</ci><ci id="alg1.l7.m1.1.1.1.1.1.3.cmml" xref="alg1.l7.m1.1.1.1.1.1.3">𝑠</ci></apply><apply id="alg1.l7.m1.2.2.2.2.2.cmml" xref="alg1.l7.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg1.l7.m1.2.2.2.2.2.1.cmml" xref="alg1.l7.m1.2.2.2.2.2">superscript</csymbol><ci id="alg1.l7.m1.2.2.2.2.2.2.cmml" xref="alg1.l7.m1.2.2.2.2.2.2">𝜃</ci><ci id="alg1.l7.m1.2.2.2.2.2.3.cmml" xref="alg1.l7.m1.2.2.2.2.2.3">𝑤</ci></apply></list><csymbol cd="latexml" id="alg1.l7.m1.2.2.4.cmml" xref="alg1.l7.m1.2.2.4">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l7.m1.2c">\theta^{s},\theta^{w}\leftarrow</annotation></semantics></math> Initialize scores and weights using <span id="alg1.l7.1" class="ltx_text ltx_font_smallcaps">seed</span>

</div>
<div id="alg1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>         If <math id="alg1.l8.m1.1" class="ltx_Math" alttext="q" display="inline"><semantics id="alg1.l8.m1.1a"><mi id="alg1.l8.m1.1.1" xref="alg1.l8.m1.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="alg1.l8.m1.1b"><ci id="alg1.l8.m1.1.1.cmml" xref="alg1.l8.m1.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l8.m1.1c">q</annotation></semantics></math> (group ID) is not known, use Algorithms <a href="#alg2" title="Algorithm 2 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> and <a href="#alg3" title="Algorithm 3 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> for ID inference (Section <a href="#S5" title="5 E2FL when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>)

</div>
<div id="alg1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>         <math id="alg1.l9.m1.2" class="ltx_Math" alttext="\theta^{s}[R_{g}^{t}]\leftarrow\textsc{sort}(\theta^{s})" display="inline"><semantics id="alg1.l9.m1.2a"><mrow id="alg1.l9.m1.2.2" xref="alg1.l9.m1.2.2.cmml"><mrow id="alg1.l9.m1.1.1.1" xref="alg1.l9.m1.1.1.1.cmml"><msup id="alg1.l9.m1.1.1.1.3" xref="alg1.l9.m1.1.1.1.3.cmml"><mi id="alg1.l9.m1.1.1.1.3.2" xref="alg1.l9.m1.1.1.1.3.2.cmml">θ</mi><mi id="alg1.l9.m1.1.1.1.3.3" xref="alg1.l9.m1.1.1.1.3.3.cmml">s</mi></msup><mo lspace="0em" rspace="0em" id="alg1.l9.m1.1.1.1.2" xref="alg1.l9.m1.1.1.1.2.cmml">​</mo><mrow id="alg1.l9.m1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l9.m1.1.1.1.1.1.2" xref="alg1.l9.m1.1.1.1.1.2.1.cmml">[</mo><msubsup id="alg1.l9.m1.1.1.1.1.1.1" xref="alg1.l9.m1.1.1.1.1.1.1.cmml"><mi id="alg1.l9.m1.1.1.1.1.1.1.2.2" xref="alg1.l9.m1.1.1.1.1.1.1.2.2.cmml">R</mi><mi id="alg1.l9.m1.1.1.1.1.1.1.2.3" xref="alg1.l9.m1.1.1.1.1.1.1.2.3.cmml">g</mi><mi id="alg1.l9.m1.1.1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.1.1.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg1.l9.m1.1.1.1.1.1.3" xref="alg1.l9.m1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg1.l9.m1.2.2.3" xref="alg1.l9.m1.2.2.3.cmml">←</mo><mrow id="alg1.l9.m1.2.2.2" xref="alg1.l9.m1.2.2.2.cmml"><mtext class="ltx_font_smallcaps" id="alg1.l9.m1.2.2.2.3" xref="alg1.l9.m1.2.2.2.3a.cmml">sort</mtext><mo lspace="0em" rspace="0em" id="alg1.l9.m1.2.2.2.2" xref="alg1.l9.m1.2.2.2.2.cmml">​</mo><mrow id="alg1.l9.m1.2.2.2.1.1" xref="alg1.l9.m1.2.2.2.1.1.1.cmml"><mo stretchy="false" id="alg1.l9.m1.2.2.2.1.1.2" xref="alg1.l9.m1.2.2.2.1.1.1.cmml">(</mo><msup id="alg1.l9.m1.2.2.2.1.1.1" xref="alg1.l9.m1.2.2.2.1.1.1.cmml"><mi id="alg1.l9.m1.2.2.2.1.1.1.2" xref="alg1.l9.m1.2.2.2.1.1.1.2.cmml">θ</mi><mi id="alg1.l9.m1.2.2.2.1.1.1.3" xref="alg1.l9.m1.2.2.2.1.1.1.3.cmml">s</mi></msup><mo stretchy="false" id="alg1.l9.m1.2.2.2.1.1.3" xref="alg1.l9.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l9.m1.2b"><apply id="alg1.l9.m1.2.2.cmml" xref="alg1.l9.m1.2.2"><ci id="alg1.l9.m1.2.2.3.cmml" xref="alg1.l9.m1.2.2.3">←</ci><apply id="alg1.l9.m1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1"><times id="alg1.l9.m1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.2"></times><apply id="alg1.l9.m1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.3"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.3.1.cmml" xref="alg1.l9.m1.1.1.1.3">superscript</csymbol><ci id="alg1.l9.m1.1.1.1.3.2.cmml" xref="alg1.l9.m1.1.1.1.3.2">𝜃</ci><ci id="alg1.l9.m1.1.1.1.3.3.cmml" xref="alg1.l9.m1.1.1.1.3.3">𝑠</ci></apply><apply id="alg1.l9.m1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.1"><csymbol cd="latexml" id="alg1.l9.m1.1.1.1.1.2.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="alg1.l9.m1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1">superscript</csymbol><apply id="alg1.l9.m1.1.1.1.1.1.1.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.1.1.1.1.1.1.2.1.cmml" xref="alg1.l9.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg1.l9.m1.1.1.1.1.1.1.2.2.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.2">𝑅</ci><ci id="alg1.l9.m1.1.1.1.1.1.1.2.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.2.3">𝑔</ci></apply><ci id="alg1.l9.m1.1.1.1.1.1.1.3.cmml" xref="alg1.l9.m1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="alg1.l9.m1.2.2.2.cmml" xref="alg1.l9.m1.2.2.2"><times id="alg1.l9.m1.2.2.2.2.cmml" xref="alg1.l9.m1.2.2.2.2"></times><ci id="alg1.l9.m1.2.2.2.3a.cmml" xref="alg1.l9.m1.2.2.2.3"><mtext class="ltx_font_smallcaps" id="alg1.l9.m1.2.2.2.3.cmml" xref="alg1.l9.m1.2.2.2.3">sort</mtext></ci><apply id="alg1.l9.m1.2.2.2.1.1.1.cmml" xref="alg1.l9.m1.2.2.2.1.1"><csymbol cd="ambiguous" id="alg1.l9.m1.2.2.2.1.1.1.1.cmml" xref="alg1.l9.m1.2.2.2.1.1">superscript</csymbol><ci id="alg1.l9.m1.2.2.2.1.1.1.2.cmml" xref="alg1.l9.m1.2.2.2.1.1.1.2">𝜃</ci><ci id="alg1.l9.m1.2.2.2.1.1.1.3.cmml" xref="alg1.l9.m1.2.2.2.1.1.1.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.m1.2c">\theta^{s}[R_{g}^{t}]\leftarrow\textsc{sort}(\theta^{s})</annotation></semantics></math> <span id="alg1.l9.1" class="ltx_text" style="float:right;"><math id="alg1.l9.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l9.1.m1.1a"><mo id="alg1.l9.1.m1.1.1" xref="alg1.l9.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l9.1.m1.1b"><ci id="alg1.l9.1.m1.1.1.cmml" xref="alg1.l9.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l9.1.m1.1c">\triangleright</annotation></semantics></math> Reorder the scores based on the global ranking
</span>
</div>
<div id="alg1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>         <math id="alg1.l10.m1.1" class="ltx_Math" alttext="\theta_{u}^{s}\leftarrow" display="inline"><semantics id="alg1.l10.m1.1a"><mrow id="alg1.l10.m1.1.1" xref="alg1.l10.m1.1.1.cmml"><msubsup id="alg1.l10.m1.1.1.2" xref="alg1.l10.m1.1.1.2.cmml"><mi id="alg1.l10.m1.1.1.2.2.2" xref="alg1.l10.m1.1.1.2.2.2.cmml">θ</mi><mi id="alg1.l10.m1.1.1.2.2.3" xref="alg1.l10.m1.1.1.2.2.3.cmml">u</mi><mi id="alg1.l10.m1.1.1.2.3" xref="alg1.l10.m1.1.1.2.3.cmml">s</mi></msubsup><mo stretchy="false" id="alg1.l10.m1.1.1.1" xref="alg1.l10.m1.1.1.1.cmml">←</mo><mi id="alg1.l10.m1.1.1.3" xref="alg1.l10.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m1.1b"><apply id="alg1.l10.m1.1.1.cmml" xref="alg1.l10.m1.1.1"><ci id="alg1.l10.m1.1.1.1.cmml" xref="alg1.l10.m1.1.1.1">←</ci><apply id="alg1.l10.m1.1.1.2.cmml" xref="alg1.l10.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.2.1.cmml" xref="alg1.l10.m1.1.1.2">superscript</csymbol><apply id="alg1.l10.m1.1.1.2.2.cmml" xref="alg1.l10.m1.1.1.2"><csymbol cd="ambiguous" id="alg1.l10.m1.1.1.2.2.1.cmml" xref="alg1.l10.m1.1.1.2">subscript</csymbol><ci id="alg1.l10.m1.1.1.2.2.2.cmml" xref="alg1.l10.m1.1.1.2.2.2">𝜃</ci><ci id="alg1.l10.m1.1.1.2.2.3.cmml" xref="alg1.l10.m1.1.1.2.2.3">𝑢</ci></apply><ci id="alg1.l10.m1.1.1.2.3.cmml" xref="alg1.l10.m1.1.1.2.3">𝑠</ci></apply><csymbol cd="latexml" id="alg1.l10.m1.1.1.3.cmml" xref="alg1.l10.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m1.1c">\theta_{u}^{s}\leftarrow</annotation></semantics></math> Edge-PopUp(<math id="alg1.l10.m2.6" class="ltx_Math" alttext="E,D_{u}^{tr},\theta^{w},\theta^{s},k,\eta" display="inline"><semantics id="alg1.l10.m2.6a"><mrow id="alg1.l10.m2.6.6.3" xref="alg1.l10.m2.6.6.4.cmml"><mi id="alg1.l10.m2.1.1" xref="alg1.l10.m2.1.1.cmml">E</mi><mo id="alg1.l10.m2.6.6.3.4" xref="alg1.l10.m2.6.6.4.cmml">,</mo><msubsup id="alg1.l10.m2.4.4.1.1" xref="alg1.l10.m2.4.4.1.1.cmml"><mi id="alg1.l10.m2.4.4.1.1.2.2" xref="alg1.l10.m2.4.4.1.1.2.2.cmml">D</mi><mi id="alg1.l10.m2.4.4.1.1.2.3" xref="alg1.l10.m2.4.4.1.1.2.3.cmml">u</mi><mrow id="alg1.l10.m2.4.4.1.1.3" xref="alg1.l10.m2.4.4.1.1.3.cmml"><mi id="alg1.l10.m2.4.4.1.1.3.2" xref="alg1.l10.m2.4.4.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg1.l10.m2.4.4.1.1.3.1" xref="alg1.l10.m2.4.4.1.1.3.1.cmml">​</mo><mi id="alg1.l10.m2.4.4.1.1.3.3" xref="alg1.l10.m2.4.4.1.1.3.3.cmml">r</mi></mrow></msubsup><mo id="alg1.l10.m2.6.6.3.5" xref="alg1.l10.m2.6.6.4.cmml">,</mo><msup id="alg1.l10.m2.5.5.2.2" xref="alg1.l10.m2.5.5.2.2.cmml"><mi id="alg1.l10.m2.5.5.2.2.2" xref="alg1.l10.m2.5.5.2.2.2.cmml">θ</mi><mi id="alg1.l10.m2.5.5.2.2.3" xref="alg1.l10.m2.5.5.2.2.3.cmml">w</mi></msup><mo id="alg1.l10.m2.6.6.3.6" xref="alg1.l10.m2.6.6.4.cmml">,</mo><msup id="alg1.l10.m2.6.6.3.3" xref="alg1.l10.m2.6.6.3.3.cmml"><mi id="alg1.l10.m2.6.6.3.3.2" xref="alg1.l10.m2.6.6.3.3.2.cmml">θ</mi><mi id="alg1.l10.m2.6.6.3.3.3" xref="alg1.l10.m2.6.6.3.3.3.cmml">s</mi></msup><mo id="alg1.l10.m2.6.6.3.7" xref="alg1.l10.m2.6.6.4.cmml">,</mo><mi id="alg1.l10.m2.2.2" xref="alg1.l10.m2.2.2.cmml">k</mi><mo id="alg1.l10.m2.6.6.3.8" xref="alg1.l10.m2.6.6.4.cmml">,</mo><mi id="alg1.l10.m2.3.3" xref="alg1.l10.m2.3.3.cmml">η</mi></mrow><annotation-xml encoding="MathML-Content" id="alg1.l10.m2.6b"><list id="alg1.l10.m2.6.6.4.cmml" xref="alg1.l10.m2.6.6.3"><ci id="alg1.l10.m2.1.1.cmml" xref="alg1.l10.m2.1.1">𝐸</ci><apply id="alg1.l10.m2.4.4.1.1.cmml" xref="alg1.l10.m2.4.4.1.1"><csymbol cd="ambiguous" id="alg1.l10.m2.4.4.1.1.1.cmml" xref="alg1.l10.m2.4.4.1.1">superscript</csymbol><apply id="alg1.l10.m2.4.4.1.1.2.cmml" xref="alg1.l10.m2.4.4.1.1"><csymbol cd="ambiguous" id="alg1.l10.m2.4.4.1.1.2.1.cmml" xref="alg1.l10.m2.4.4.1.1">subscript</csymbol><ci id="alg1.l10.m2.4.4.1.1.2.2.cmml" xref="alg1.l10.m2.4.4.1.1.2.2">𝐷</ci><ci id="alg1.l10.m2.4.4.1.1.2.3.cmml" xref="alg1.l10.m2.4.4.1.1.2.3">𝑢</ci></apply><apply id="alg1.l10.m2.4.4.1.1.3.cmml" xref="alg1.l10.m2.4.4.1.1.3"><times id="alg1.l10.m2.4.4.1.1.3.1.cmml" xref="alg1.l10.m2.4.4.1.1.3.1"></times><ci id="alg1.l10.m2.4.4.1.1.3.2.cmml" xref="alg1.l10.m2.4.4.1.1.3.2">𝑡</ci><ci id="alg1.l10.m2.4.4.1.1.3.3.cmml" xref="alg1.l10.m2.4.4.1.1.3.3">𝑟</ci></apply></apply><apply id="alg1.l10.m2.5.5.2.2.cmml" xref="alg1.l10.m2.5.5.2.2"><csymbol cd="ambiguous" id="alg1.l10.m2.5.5.2.2.1.cmml" xref="alg1.l10.m2.5.5.2.2">superscript</csymbol><ci id="alg1.l10.m2.5.5.2.2.2.cmml" xref="alg1.l10.m2.5.5.2.2.2">𝜃</ci><ci id="alg1.l10.m2.5.5.2.2.3.cmml" xref="alg1.l10.m2.5.5.2.2.3">𝑤</ci></apply><apply id="alg1.l10.m2.6.6.3.3.cmml" xref="alg1.l10.m2.6.6.3.3"><csymbol cd="ambiguous" id="alg1.l10.m2.6.6.3.3.1.cmml" xref="alg1.l10.m2.6.6.3.3">superscript</csymbol><ci id="alg1.l10.m2.6.6.3.3.2.cmml" xref="alg1.l10.m2.6.6.3.3.2">𝜃</ci><ci id="alg1.l10.m2.6.6.3.3.3.cmml" xref="alg1.l10.m2.6.6.3.3.3">𝑠</ci></apply><ci id="alg1.l10.m2.2.2.cmml" xref="alg1.l10.m2.2.2">𝑘</ci><ci id="alg1.l10.m2.3.3.cmml" xref="alg1.l10.m2.3.3">𝜂</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.m2.6c">E,D_{u}^{tr},\theta^{w},\theta^{s},k,\eta</annotation></semantics></math>) <span id="alg1.l10.1" class="ltx_text" style="float:right;"><math id="alg1.l10.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l10.1.m1.1a"><mo id="alg1.l10.1.m1.1.1" xref="alg1.l10.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l10.1.m1.1b"><ci id="alg1.l10.1.m1.1.1.cmml" xref="alg1.l10.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l10.1.m1.1c">\triangleright</annotation></semantics></math> Train local scores on the local training data
</span>
</div>
<div id="alg1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>         <math id="alg1.l11.m1.3" class="ltx_Math" alttext="R_{u,q}^{t}\leftarrow\textsc{ArgSort}(\theta_{u}^{s})" display="inline"><semantics id="alg1.l11.m1.3a"><mrow id="alg1.l11.m1.3.3" xref="alg1.l11.m1.3.3.cmml"><msubsup id="alg1.l11.m1.3.3.3" xref="alg1.l11.m1.3.3.3.cmml"><mi id="alg1.l11.m1.3.3.3.2.2" xref="alg1.l11.m1.3.3.3.2.2.cmml">R</mi><mrow id="alg1.l11.m1.2.2.2.4" xref="alg1.l11.m1.2.2.2.3.cmml"><mi id="alg1.l11.m1.1.1.1.1" xref="alg1.l11.m1.1.1.1.1.cmml">u</mi><mo id="alg1.l11.m1.2.2.2.4.1" xref="alg1.l11.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l11.m1.2.2.2.2" xref="alg1.l11.m1.2.2.2.2.cmml">q</mi></mrow><mi id="alg1.l11.m1.3.3.3.3" xref="alg1.l11.m1.3.3.3.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg1.l11.m1.3.3.2" xref="alg1.l11.m1.3.3.2.cmml">←</mo><mrow id="alg1.l11.m1.3.3.1" xref="alg1.l11.m1.3.3.1.cmml"><mtext class="ltx_font_smallcaps" id="alg1.l11.m1.3.3.1.3" xref="alg1.l11.m1.3.3.1.3a.cmml">ArgSort</mtext><mo lspace="0em" rspace="0em" id="alg1.l11.m1.3.3.1.2" xref="alg1.l11.m1.3.3.1.2.cmml">​</mo><mrow id="alg1.l11.m1.3.3.1.1.1" xref="alg1.l11.m1.3.3.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l11.m1.3.3.1.1.1.2" xref="alg1.l11.m1.3.3.1.1.1.1.cmml">(</mo><msubsup id="alg1.l11.m1.3.3.1.1.1.1" xref="alg1.l11.m1.3.3.1.1.1.1.cmml"><mi id="alg1.l11.m1.3.3.1.1.1.1.2.2" xref="alg1.l11.m1.3.3.1.1.1.1.2.2.cmml">θ</mi><mi id="alg1.l11.m1.3.3.1.1.1.1.2.3" xref="alg1.l11.m1.3.3.1.1.1.1.2.3.cmml">u</mi><mi id="alg1.l11.m1.3.3.1.1.1.1.3" xref="alg1.l11.m1.3.3.1.1.1.1.3.cmml">s</mi></msubsup><mo stretchy="false" id="alg1.l11.m1.3.3.1.1.1.3" xref="alg1.l11.m1.3.3.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l11.m1.3b"><apply id="alg1.l11.m1.3.3.cmml" xref="alg1.l11.m1.3.3"><ci id="alg1.l11.m1.3.3.2.cmml" xref="alg1.l11.m1.3.3.2">←</ci><apply id="alg1.l11.m1.3.3.3.cmml" xref="alg1.l11.m1.3.3.3"><csymbol cd="ambiguous" id="alg1.l11.m1.3.3.3.1.cmml" xref="alg1.l11.m1.3.3.3">superscript</csymbol><apply id="alg1.l11.m1.3.3.3.2.cmml" xref="alg1.l11.m1.3.3.3"><csymbol cd="ambiguous" id="alg1.l11.m1.3.3.3.2.1.cmml" xref="alg1.l11.m1.3.3.3">subscript</csymbol><ci id="alg1.l11.m1.3.3.3.2.2.cmml" xref="alg1.l11.m1.3.3.3.2.2">𝑅</ci><list id="alg1.l11.m1.2.2.2.3.cmml" xref="alg1.l11.m1.2.2.2.4"><ci id="alg1.l11.m1.1.1.1.1.cmml" xref="alg1.l11.m1.1.1.1.1">𝑢</ci><ci id="alg1.l11.m1.2.2.2.2.cmml" xref="alg1.l11.m1.2.2.2.2">𝑞</ci></list></apply><ci id="alg1.l11.m1.3.3.3.3.cmml" xref="alg1.l11.m1.3.3.3.3">𝑡</ci></apply><apply id="alg1.l11.m1.3.3.1.cmml" xref="alg1.l11.m1.3.3.1"><times id="alg1.l11.m1.3.3.1.2.cmml" xref="alg1.l11.m1.3.3.1.2"></times><ci id="alg1.l11.m1.3.3.1.3a.cmml" xref="alg1.l11.m1.3.3.1.3"><mtext class="ltx_font_smallcaps" id="alg1.l11.m1.3.3.1.3.cmml" xref="alg1.l11.m1.3.3.1.3">ArgSort</mtext></ci><apply id="alg1.l11.m1.3.3.1.1.1.1.cmml" xref="alg1.l11.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l11.m1.3.3.1.1.1.1.1.cmml" xref="alg1.l11.m1.3.3.1.1.1">superscript</csymbol><apply id="alg1.l11.m1.3.3.1.1.1.1.2.cmml" xref="alg1.l11.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="alg1.l11.m1.3.3.1.1.1.1.2.1.cmml" xref="alg1.l11.m1.3.3.1.1.1">subscript</csymbol><ci id="alg1.l11.m1.3.3.1.1.1.1.2.2.cmml" xref="alg1.l11.m1.3.3.1.1.1.1.2.2">𝜃</ci><ci id="alg1.l11.m1.3.3.1.1.1.1.2.3.cmml" xref="alg1.l11.m1.3.3.1.1.1.1.2.3">𝑢</ci></apply><ci id="alg1.l11.m1.3.3.1.1.1.1.3.cmml" xref="alg1.l11.m1.3.3.1.1.1.1.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.m1.3c">R_{u,q}^{t}\leftarrow\textsc{ArgSort}(\theta_{u}^{s})</annotation></semantics></math> <span id="alg1.l11.3" class="ltx_text" style="float:right;"><math id="alg1.l11.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l11.1.m1.1a"><mo id="alg1.l11.1.m1.1.1" xref="alg1.l11.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l11.1.m1.1b"><ci id="alg1.l11.1.m1.1.1.cmml" xref="alg1.l11.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.1.m1.1c">\triangleright</annotation></semantics></math> Ranking of the client <math id="alg1.l11.2.m2.1" class="ltx_Math" alttext="u" display="inline"><semantics id="alg1.l11.2.m2.1a"><mi id="alg1.l11.2.m2.1.1" xref="alg1.l11.2.m2.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="alg1.l11.2.m2.1b"><ci id="alg1.l11.2.m2.1.1.cmml" xref="alg1.l11.2.m2.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.2.m2.1c">u</annotation></semantics></math> with estimated group ID: <math id="alg1.l11.3.m3.1" class="ltx_Math" alttext="q" display="inline"><semantics id="alg1.l11.3.m3.1a"><mi id="alg1.l11.3.m3.1.1" xref="alg1.l11.3.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="alg1.l11.3.m3.1b"><ci id="alg1.l11.3.m3.1.1.cmml" xref="alg1.l11.3.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l11.3.m3.1c">q</annotation></semantics></math>
</span>
</div>
<div id="alg1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>         <span id="alg1.l12.1" class="ltx_text ltx_font_bold">return</span> <math id="alg1.l12.m1.2" class="ltx_Math" alttext="R_{u,q}^{t}" display="inline"><semantics id="alg1.l12.m1.2a"><msubsup id="alg1.l12.m1.2.3" xref="alg1.l12.m1.2.3.cmml"><mi id="alg1.l12.m1.2.3.2.2" xref="alg1.l12.m1.2.3.2.2.cmml">R</mi><mrow id="alg1.l12.m1.2.2.2.4" xref="alg1.l12.m1.2.2.2.3.cmml"><mi id="alg1.l12.m1.1.1.1.1" xref="alg1.l12.m1.1.1.1.1.cmml">u</mi><mo id="alg1.l12.m1.2.2.2.4.1" xref="alg1.l12.m1.2.2.2.3.cmml">,</mo><mi id="alg1.l12.m1.2.2.2.2" xref="alg1.l12.m1.2.2.2.2.cmml">q</mi></mrow><mi id="alg1.l12.m1.2.3.3" xref="alg1.l12.m1.2.3.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg1.l12.m1.2b"><apply id="alg1.l12.m1.2.3.cmml" xref="alg1.l12.m1.2.3"><csymbol cd="ambiguous" id="alg1.l12.m1.2.3.1.cmml" xref="alg1.l12.m1.2.3">superscript</csymbol><apply id="alg1.l12.m1.2.3.2.cmml" xref="alg1.l12.m1.2.3"><csymbol cd="ambiguous" id="alg1.l12.m1.2.3.2.1.cmml" xref="alg1.l12.m1.2.3">subscript</csymbol><ci id="alg1.l12.m1.2.3.2.2.cmml" xref="alg1.l12.m1.2.3.2.2">𝑅</ci><list id="alg1.l12.m1.2.2.2.3.cmml" xref="alg1.l12.m1.2.2.2.4"><ci id="alg1.l12.m1.1.1.1.1.cmml" xref="alg1.l12.m1.1.1.1.1">𝑢</ci><ci id="alg1.l12.m1.2.2.2.2.cmml" xref="alg1.l12.m1.2.2.2.2">𝑞</ci></list></apply><ci id="alg1.l12.m1.2.3.3.cmml" xref="alg1.l12.m1.2.3.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l12.m1.2c">R_{u,q}^{t}</annotation></semantics></math>

</div>
<div id="alg1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>     <span id="alg1.l13.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l13.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>     <span id="alg1.l14.1" class="ltx_text"><math id="alg1.l14.1.m1.7" class="ltx_Math" style="background-color:#CAE7C9;" alttext="R_{g,q\in[Q]}^{t+1}\leftarrow\textsc{Vote}(R_{u\in U,q\in[Q]}^{t})" display="inline"><semantics id="alg1.l14.1.m1.7a"><mrow id="alg1.l14.1.m1.7.7" xref="alg1.l14.1.m1.7.7.cmml"><msubsup id="alg1.l14.1.m1.7.7.3" xref="alg1.l14.1.m1.7.7.3.cmml"><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.7.7.3.2.2" xref="alg1.l14.1.m1.7.7.3.2.2.cmml">R</mi><mrow id="alg1.l14.1.m1.3.3.3" xref="alg1.l14.1.m1.3.3.3.cmml"><mrow id="alg1.l14.1.m1.3.3.3.5.2" xref="alg1.l14.1.m1.3.3.3.5.1.cmml"><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.2.2.2.2" xref="alg1.l14.1.m1.2.2.2.2.cmml">g</mi><mo mathbackground="#CAE7C9" id="alg1.l14.1.m1.3.3.3.5.2.1" xref="alg1.l14.1.m1.3.3.3.5.1.cmml">,</mo><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.3.3.3.3" xref="alg1.l14.1.m1.3.3.3.3.cmml">q</mi></mrow><mo mathbackground="#CAE7C9" id="alg1.l14.1.m1.3.3.3.4" xref="alg1.l14.1.m1.3.3.3.4.cmml">∈</mo><mrow id="alg1.l14.1.m1.3.3.3.6.2" xref="alg1.l14.1.m1.3.3.3.6.1.cmml"><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l14.1.m1.3.3.3.6.2.1" xref="alg1.l14.1.m1.3.3.3.6.1.1.cmml">[</mo><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.1.1.1.1" xref="alg1.l14.1.m1.1.1.1.1.cmml">Q</mi><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l14.1.m1.3.3.3.6.2.2" xref="alg1.l14.1.m1.3.3.3.6.1.1.cmml">]</mo></mrow></mrow><mrow id="alg1.l14.1.m1.7.7.3.3" xref="alg1.l14.1.m1.7.7.3.3.cmml"><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.7.7.3.3.2" xref="alg1.l14.1.m1.7.7.3.3.2.cmml">t</mi><mo mathbackground="#CAE7C9" id="alg1.l14.1.m1.7.7.3.3.1" xref="alg1.l14.1.m1.7.7.3.3.1.cmml">+</mo><mn mathbackground="#CAE7C9" id="alg1.l14.1.m1.7.7.3.3.3" xref="alg1.l14.1.m1.7.7.3.3.3.cmml">1</mn></mrow></msubsup><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l14.1.m1.7.7.2" xref="alg1.l14.1.m1.7.7.2.cmml">←</mo><mrow id="alg1.l14.1.m1.7.7.1" xref="alg1.l14.1.m1.7.7.1.cmml"><mtext class="ltx_font_smallcaps" mathbackground="#CAE7C9" id="alg1.l14.1.m1.7.7.1.3" xref="alg1.l14.1.m1.7.7.1.3a.cmml">Vote</mtext><mo lspace="0em" rspace="0em" id="alg1.l14.1.m1.7.7.1.2" xref="alg1.l14.1.m1.7.7.1.2.cmml">​</mo><mrow id="alg1.l14.1.m1.7.7.1.1.1" xref="alg1.l14.1.m1.7.7.1.1.1.1.cmml"><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l14.1.m1.7.7.1.1.1.2" xref="alg1.l14.1.m1.7.7.1.1.1.1.cmml">(</mo><msubsup id="alg1.l14.1.m1.7.7.1.1.1.1" xref="alg1.l14.1.m1.7.7.1.1.1.1.cmml"><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.7.7.1.1.1.1.2.2" xref="alg1.l14.1.m1.7.7.1.1.1.1.2.2.cmml">R</mi><mrow id="alg1.l14.1.m1.6.6.3.3" xref="alg1.l14.1.m1.6.6.3.4.cmml"><mrow id="alg1.l14.1.m1.5.5.2.2.1" xref="alg1.l14.1.m1.5.5.2.2.1.cmml"><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.5.5.2.2.1.2" xref="alg1.l14.1.m1.5.5.2.2.1.2.cmml">u</mi><mo mathbackground="#CAE7C9" id="alg1.l14.1.m1.5.5.2.2.1.1" xref="alg1.l14.1.m1.5.5.2.2.1.1.cmml">∈</mo><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.5.5.2.2.1.3" xref="alg1.l14.1.m1.5.5.2.2.1.3.cmml">U</mi></mrow><mo mathbackground="#CAE7C9" id="alg1.l14.1.m1.6.6.3.3.3" xref="alg1.l14.1.m1.6.6.3.4a.cmml">,</mo><mrow id="alg1.l14.1.m1.6.6.3.3.2" xref="alg1.l14.1.m1.6.6.3.3.2.cmml"><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.6.6.3.3.2.2" xref="alg1.l14.1.m1.6.6.3.3.2.2.cmml">q</mi><mo mathbackground="#CAE7C9" id="alg1.l14.1.m1.6.6.3.3.2.1" xref="alg1.l14.1.m1.6.6.3.3.2.1.cmml">∈</mo><mrow id="alg1.l14.1.m1.6.6.3.3.2.3.2" xref="alg1.l14.1.m1.6.6.3.3.2.3.1.cmml"><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l14.1.m1.6.6.3.3.2.3.2.1" xref="alg1.l14.1.m1.6.6.3.3.2.3.1.1.cmml">[</mo><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.4.4.1.1" xref="alg1.l14.1.m1.4.4.1.1.cmml">Q</mi><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l14.1.m1.6.6.3.3.2.3.2.2" xref="alg1.l14.1.m1.6.6.3.3.2.3.1.1.cmml">]</mo></mrow></mrow></mrow><mi mathbackground="#CAE7C9" id="alg1.l14.1.m1.7.7.1.1.1.1.3" xref="alg1.l14.1.m1.7.7.1.1.1.1.3.cmml">t</mi></msubsup><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l14.1.m1.7.7.1.1.1.3" xref="alg1.l14.1.m1.7.7.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l14.1.m1.7b"><apply id="alg1.l14.1.m1.7.7.cmml" xref="alg1.l14.1.m1.7.7"><ci id="alg1.l14.1.m1.7.7.2.cmml" xref="alg1.l14.1.m1.7.7.2">←</ci><apply id="alg1.l14.1.m1.7.7.3.cmml" xref="alg1.l14.1.m1.7.7.3"><csymbol cd="ambiguous" id="alg1.l14.1.m1.7.7.3.1.cmml" xref="alg1.l14.1.m1.7.7.3">superscript</csymbol><apply id="alg1.l14.1.m1.7.7.3.2.cmml" xref="alg1.l14.1.m1.7.7.3"><csymbol cd="ambiguous" id="alg1.l14.1.m1.7.7.3.2.1.cmml" xref="alg1.l14.1.m1.7.7.3">subscript</csymbol><ci id="alg1.l14.1.m1.7.7.3.2.2.cmml" xref="alg1.l14.1.m1.7.7.3.2.2">𝑅</ci><apply id="alg1.l14.1.m1.3.3.3.cmml" xref="alg1.l14.1.m1.3.3.3"><in id="alg1.l14.1.m1.3.3.3.4.cmml" xref="alg1.l14.1.m1.3.3.3.4"></in><list id="alg1.l14.1.m1.3.3.3.5.1.cmml" xref="alg1.l14.1.m1.3.3.3.5.2"><ci id="alg1.l14.1.m1.2.2.2.2.cmml" xref="alg1.l14.1.m1.2.2.2.2">𝑔</ci><ci id="alg1.l14.1.m1.3.3.3.3.cmml" xref="alg1.l14.1.m1.3.3.3.3">𝑞</ci></list><apply id="alg1.l14.1.m1.3.3.3.6.1.cmml" xref="alg1.l14.1.m1.3.3.3.6.2"><csymbol cd="latexml" id="alg1.l14.1.m1.3.3.3.6.1.1.cmml" xref="alg1.l14.1.m1.3.3.3.6.2.1">delimited-[]</csymbol><ci id="alg1.l14.1.m1.1.1.1.1.cmml" xref="alg1.l14.1.m1.1.1.1.1">𝑄</ci></apply></apply></apply><apply id="alg1.l14.1.m1.7.7.3.3.cmml" xref="alg1.l14.1.m1.7.7.3.3"><plus id="alg1.l14.1.m1.7.7.3.3.1.cmml" xref="alg1.l14.1.m1.7.7.3.3.1"></plus><ci id="alg1.l14.1.m1.7.7.3.3.2.cmml" xref="alg1.l14.1.m1.7.7.3.3.2">𝑡</ci><cn type="integer" id="alg1.l14.1.m1.7.7.3.3.3.cmml" xref="alg1.l14.1.m1.7.7.3.3.3">1</cn></apply></apply><apply id="alg1.l14.1.m1.7.7.1.cmml" xref="alg1.l14.1.m1.7.7.1"><times id="alg1.l14.1.m1.7.7.1.2.cmml" xref="alg1.l14.1.m1.7.7.1.2"></times><ci id="alg1.l14.1.m1.7.7.1.3a.cmml" xref="alg1.l14.1.m1.7.7.1.3"><mtext class="ltx_font_smallcaps" mathbackground="#CAE7C9" id="alg1.l14.1.m1.7.7.1.3.cmml" xref="alg1.l14.1.m1.7.7.1.3">Vote</mtext></ci><apply id="alg1.l14.1.m1.7.7.1.1.1.1.cmml" xref="alg1.l14.1.m1.7.7.1.1.1"><csymbol cd="ambiguous" id="alg1.l14.1.m1.7.7.1.1.1.1.1.cmml" xref="alg1.l14.1.m1.7.7.1.1.1">superscript</csymbol><apply id="alg1.l14.1.m1.7.7.1.1.1.1.2.cmml" xref="alg1.l14.1.m1.7.7.1.1.1"><csymbol cd="ambiguous" id="alg1.l14.1.m1.7.7.1.1.1.1.2.1.cmml" xref="alg1.l14.1.m1.7.7.1.1.1">subscript</csymbol><ci id="alg1.l14.1.m1.7.7.1.1.1.1.2.2.cmml" xref="alg1.l14.1.m1.7.7.1.1.1.1.2.2">𝑅</ci><apply id="alg1.l14.1.m1.6.6.3.4.cmml" xref="alg1.l14.1.m1.6.6.3.3"><csymbol cd="ambiguous" id="alg1.l14.1.m1.6.6.3.4a.cmml" xref="alg1.l14.1.m1.6.6.3.3.3">formulae-sequence</csymbol><apply id="alg1.l14.1.m1.5.5.2.2.1.cmml" xref="alg1.l14.1.m1.5.5.2.2.1"><in id="alg1.l14.1.m1.5.5.2.2.1.1.cmml" xref="alg1.l14.1.m1.5.5.2.2.1.1"></in><ci id="alg1.l14.1.m1.5.5.2.2.1.2.cmml" xref="alg1.l14.1.m1.5.5.2.2.1.2">𝑢</ci><ci id="alg1.l14.1.m1.5.5.2.2.1.3.cmml" xref="alg1.l14.1.m1.5.5.2.2.1.3">𝑈</ci></apply><apply id="alg1.l14.1.m1.6.6.3.3.2.cmml" xref="alg1.l14.1.m1.6.6.3.3.2"><in id="alg1.l14.1.m1.6.6.3.3.2.1.cmml" xref="alg1.l14.1.m1.6.6.3.3.2.1"></in><ci id="alg1.l14.1.m1.6.6.3.3.2.2.cmml" xref="alg1.l14.1.m1.6.6.3.3.2.2">𝑞</ci><apply id="alg1.l14.1.m1.6.6.3.3.2.3.1.cmml" xref="alg1.l14.1.m1.6.6.3.3.2.3.2"><csymbol cd="latexml" id="alg1.l14.1.m1.6.6.3.3.2.3.1.1.cmml" xref="alg1.l14.1.m1.6.6.3.3.2.3.2.1">delimited-[]</csymbol><ci id="alg1.l14.1.m1.4.4.1.1.cmml" xref="alg1.l14.1.m1.4.4.1.1">𝑄</ci></apply></apply></apply></apply><ci id="alg1.l14.1.m1.7.7.1.1.1.1.3.cmml" xref="alg1.l14.1.m1.7.7.1.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.1.m1.7c">R_{g,q\in[Q]}^{t+1}\leftarrow\textsc{Vote}(R_{u\in U,q\in[Q]}^{t})</annotation></semantics></math><span id="alg1.l14.1.1" class="ltx_text" style="background-color:#CAE7C9;"> </span></span> <span id="alg1.l14.2" class="ltx_text" style="float:right;"><math id="alg1.l14.2.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l14.2.m1.1a"><mo id="alg1.l14.2.m1.1.1" xref="alg1.l14.2.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l14.2.m1.1b"><ci id="alg1.l14.2.m1.1.1.cmml" xref="alg1.l14.2.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l14.2.m1.1c">\triangleright</annotation></semantics></math> Majority vote aggregation inside each group
</span>
</div>
<div id="alg1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15:</span>     <span id="alg1.l15.1" class="ltx_text"><math id="alg1.l15.1.m1.4" class="ltx_Math" style="background-color:#CAE7C9;" alttext="R_{g}^{t+1}\leftarrow\textsc{Vote}(R_{g,q\in[Q]}^{t+1})" display="inline"><semantics id="alg1.l15.1.m1.4a"><mrow id="alg1.l15.1.m1.4.4" xref="alg1.l15.1.m1.4.4.cmml"><msubsup id="alg1.l15.1.m1.4.4.3" xref="alg1.l15.1.m1.4.4.3.cmml"><mi mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.3.2.2" xref="alg1.l15.1.m1.4.4.3.2.2.cmml">R</mi><mi mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.3.2.3" xref="alg1.l15.1.m1.4.4.3.2.3.cmml">g</mi><mrow id="alg1.l15.1.m1.4.4.3.3" xref="alg1.l15.1.m1.4.4.3.3.cmml"><mi mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.3.3.2" xref="alg1.l15.1.m1.4.4.3.3.2.cmml">t</mi><mo mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.3.3.1" xref="alg1.l15.1.m1.4.4.3.3.1.cmml">+</mo><mn mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.3.3.3" xref="alg1.l15.1.m1.4.4.3.3.3.cmml">1</mn></mrow></msubsup><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l15.1.m1.4.4.2" xref="alg1.l15.1.m1.4.4.2.cmml">←</mo><mrow id="alg1.l15.1.m1.4.4.1" xref="alg1.l15.1.m1.4.4.1.cmml"><mtext class="ltx_font_smallcaps" mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.1.3" xref="alg1.l15.1.m1.4.4.1.3a.cmml">Vote</mtext><mo lspace="0em" rspace="0em" id="alg1.l15.1.m1.4.4.1.2" xref="alg1.l15.1.m1.4.4.1.2.cmml">​</mo><mrow id="alg1.l15.1.m1.4.4.1.1.1" xref="alg1.l15.1.m1.4.4.1.1.1.1.cmml"><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l15.1.m1.4.4.1.1.1.2" xref="alg1.l15.1.m1.4.4.1.1.1.1.cmml">(</mo><msubsup id="alg1.l15.1.m1.4.4.1.1.1.1" xref="alg1.l15.1.m1.4.4.1.1.1.1.cmml"><mi mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.1.1.1.1.2.2" xref="alg1.l15.1.m1.4.4.1.1.1.1.2.2.cmml">R</mi><mrow id="alg1.l15.1.m1.3.3.3" xref="alg1.l15.1.m1.3.3.3.cmml"><mrow id="alg1.l15.1.m1.3.3.3.5.2" xref="alg1.l15.1.m1.3.3.3.5.1.cmml"><mi mathbackground="#CAE7C9" id="alg1.l15.1.m1.2.2.2.2" xref="alg1.l15.1.m1.2.2.2.2.cmml">g</mi><mo mathbackground="#CAE7C9" id="alg1.l15.1.m1.3.3.3.5.2.1" xref="alg1.l15.1.m1.3.3.3.5.1.cmml">,</mo><mi mathbackground="#CAE7C9" id="alg1.l15.1.m1.3.3.3.3" xref="alg1.l15.1.m1.3.3.3.3.cmml">q</mi></mrow><mo mathbackground="#CAE7C9" id="alg1.l15.1.m1.3.3.3.4" xref="alg1.l15.1.m1.3.3.3.4.cmml">∈</mo><mrow id="alg1.l15.1.m1.3.3.3.6.2" xref="alg1.l15.1.m1.3.3.3.6.1.cmml"><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l15.1.m1.3.3.3.6.2.1" xref="alg1.l15.1.m1.3.3.3.6.1.1.cmml">[</mo><mi mathbackground="#CAE7C9" id="alg1.l15.1.m1.1.1.1.1" xref="alg1.l15.1.m1.1.1.1.1.cmml">Q</mi><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l15.1.m1.3.3.3.6.2.2" xref="alg1.l15.1.m1.3.3.3.6.1.1.cmml">]</mo></mrow></mrow><mrow id="alg1.l15.1.m1.4.4.1.1.1.1.3" xref="alg1.l15.1.m1.4.4.1.1.1.1.3.cmml"><mi mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.1.1.1.1.3.2" xref="alg1.l15.1.m1.4.4.1.1.1.1.3.2.cmml">t</mi><mo mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.1.1.1.1.3.1" xref="alg1.l15.1.m1.4.4.1.1.1.1.3.1.cmml">+</mo><mn mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.1.1.1.1.3.3" xref="alg1.l15.1.m1.4.4.1.1.1.1.3.3.cmml">1</mn></mrow></msubsup><mo mathbackground="#CAE7C9" stretchy="false" id="alg1.l15.1.m1.4.4.1.1.1.3" xref="alg1.l15.1.m1.4.4.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l15.1.m1.4b"><apply id="alg1.l15.1.m1.4.4.cmml" xref="alg1.l15.1.m1.4.4"><ci id="alg1.l15.1.m1.4.4.2.cmml" xref="alg1.l15.1.m1.4.4.2">←</ci><apply id="alg1.l15.1.m1.4.4.3.cmml" xref="alg1.l15.1.m1.4.4.3"><csymbol cd="ambiguous" id="alg1.l15.1.m1.4.4.3.1.cmml" xref="alg1.l15.1.m1.4.4.3">superscript</csymbol><apply id="alg1.l15.1.m1.4.4.3.2.cmml" xref="alg1.l15.1.m1.4.4.3"><csymbol cd="ambiguous" id="alg1.l15.1.m1.4.4.3.2.1.cmml" xref="alg1.l15.1.m1.4.4.3">subscript</csymbol><ci id="alg1.l15.1.m1.4.4.3.2.2.cmml" xref="alg1.l15.1.m1.4.4.3.2.2">𝑅</ci><ci id="alg1.l15.1.m1.4.4.3.2.3.cmml" xref="alg1.l15.1.m1.4.4.3.2.3">𝑔</ci></apply><apply id="alg1.l15.1.m1.4.4.3.3.cmml" xref="alg1.l15.1.m1.4.4.3.3"><plus id="alg1.l15.1.m1.4.4.3.3.1.cmml" xref="alg1.l15.1.m1.4.4.3.3.1"></plus><ci id="alg1.l15.1.m1.4.4.3.3.2.cmml" xref="alg1.l15.1.m1.4.4.3.3.2">𝑡</ci><cn type="integer" id="alg1.l15.1.m1.4.4.3.3.3.cmml" xref="alg1.l15.1.m1.4.4.3.3.3">1</cn></apply></apply><apply id="alg1.l15.1.m1.4.4.1.cmml" xref="alg1.l15.1.m1.4.4.1"><times id="alg1.l15.1.m1.4.4.1.2.cmml" xref="alg1.l15.1.m1.4.4.1.2"></times><ci id="alg1.l15.1.m1.4.4.1.3a.cmml" xref="alg1.l15.1.m1.4.4.1.3"><mtext class="ltx_font_smallcaps" mathbackground="#CAE7C9" id="alg1.l15.1.m1.4.4.1.3.cmml" xref="alg1.l15.1.m1.4.4.1.3">Vote</mtext></ci><apply id="alg1.l15.1.m1.4.4.1.1.1.1.cmml" xref="alg1.l15.1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="alg1.l15.1.m1.4.4.1.1.1.1.1.cmml" xref="alg1.l15.1.m1.4.4.1.1.1">superscript</csymbol><apply id="alg1.l15.1.m1.4.4.1.1.1.1.2.cmml" xref="alg1.l15.1.m1.4.4.1.1.1"><csymbol cd="ambiguous" id="alg1.l15.1.m1.4.4.1.1.1.1.2.1.cmml" xref="alg1.l15.1.m1.4.4.1.1.1">subscript</csymbol><ci id="alg1.l15.1.m1.4.4.1.1.1.1.2.2.cmml" xref="alg1.l15.1.m1.4.4.1.1.1.1.2.2">𝑅</ci><apply id="alg1.l15.1.m1.3.3.3.cmml" xref="alg1.l15.1.m1.3.3.3"><in id="alg1.l15.1.m1.3.3.3.4.cmml" xref="alg1.l15.1.m1.3.3.3.4"></in><list id="alg1.l15.1.m1.3.3.3.5.1.cmml" xref="alg1.l15.1.m1.3.3.3.5.2"><ci id="alg1.l15.1.m1.2.2.2.2.cmml" xref="alg1.l15.1.m1.2.2.2.2">𝑔</ci><ci id="alg1.l15.1.m1.3.3.3.3.cmml" xref="alg1.l15.1.m1.3.3.3.3">𝑞</ci></list><apply id="alg1.l15.1.m1.3.3.3.6.1.cmml" xref="alg1.l15.1.m1.3.3.3.6.2"><csymbol cd="latexml" id="alg1.l15.1.m1.3.3.3.6.1.1.cmml" xref="alg1.l15.1.m1.3.3.3.6.2.1">delimited-[]</csymbol><ci id="alg1.l15.1.m1.1.1.1.1.cmml" xref="alg1.l15.1.m1.1.1.1.1">𝑄</ci></apply></apply></apply><apply id="alg1.l15.1.m1.4.4.1.1.1.1.3.cmml" xref="alg1.l15.1.m1.4.4.1.1.1.1.3"><plus id="alg1.l15.1.m1.4.4.1.1.1.1.3.1.cmml" xref="alg1.l15.1.m1.4.4.1.1.1.1.3.1"></plus><ci id="alg1.l15.1.m1.4.4.1.1.1.1.3.2.cmml" xref="alg1.l15.1.m1.4.4.1.1.1.1.3.2">𝑡</ci><cn type="integer" id="alg1.l15.1.m1.4.4.1.1.1.1.3.3.cmml" xref="alg1.l15.1.m1.4.4.1.1.1.1.3.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.1.m1.4c">R_{g}^{t+1}\leftarrow\textsc{Vote}(R_{g,q\in[Q]}^{t+1})</annotation></semantics></math></span> <span id="alg1.l15.2" class="ltx_text" style="float:right;"><math id="alg1.l15.2.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l15.2.m1.1a"><mo id="alg1.l15.2.m1.1.1" xref="alg1.l15.2.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l15.2.m1.1b"><ci id="alg1.l15.2.m1.1.1.cmml" xref="alg1.l15.2.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l15.2.m1.1c">\triangleright</annotation></semantics></math> Majority vote aggregation among all the groups
</span>
</div>
<div id="alg1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16:</span><span id="alg1.l16.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l16.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17:</span><span id="alg1.l17.1" class="ltx_text ltx_font_bold">function</span> <span id="alg1.l17.2" class="ltx_text ltx_font_smallcaps" style="background-color:#CAE7C9;">Vote</span>(<math id="alg1.l17.m1.1" class="ltx_Math" alttext="R_{\{u\in U\}}" display="inline"><semantics id="alg1.l17.m1.1a"><msub id="alg1.l17.m1.1.2" xref="alg1.l17.m1.1.2.cmml"><mi id="alg1.l17.m1.1.2.2" xref="alg1.l17.m1.1.2.2.cmml">R</mi><mrow id="alg1.l17.m1.1.1.1.1" xref="alg1.l17.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l17.m1.1.1.1.1.2" xref="alg1.l17.m1.1.1.1.2.cmml">{</mo><mrow id="alg1.l17.m1.1.1.1.1.1" xref="alg1.l17.m1.1.1.1.1.1.cmml"><mi id="alg1.l17.m1.1.1.1.1.1.2" xref="alg1.l17.m1.1.1.1.1.1.2.cmml">u</mi><mo id="alg1.l17.m1.1.1.1.1.1.1" xref="alg1.l17.m1.1.1.1.1.1.1.cmml">∈</mo><mi id="alg1.l17.m1.1.1.1.1.1.3" xref="alg1.l17.m1.1.1.1.1.1.3.cmml">U</mi></mrow><mo stretchy="false" id="alg1.l17.m1.1.1.1.1.3" xref="alg1.l17.m1.1.1.1.2.cmml">}</mo></mrow></msub><annotation-xml encoding="MathML-Content" id="alg1.l17.m1.1b"><apply id="alg1.l17.m1.1.2.cmml" xref="alg1.l17.m1.1.2"><csymbol cd="ambiguous" id="alg1.l17.m1.1.2.1.cmml" xref="alg1.l17.m1.1.2">subscript</csymbol><ci id="alg1.l17.m1.1.2.2.cmml" xref="alg1.l17.m1.1.2.2">𝑅</ci><set id="alg1.l17.m1.1.1.1.2.cmml" xref="alg1.l17.m1.1.1.1.1"><apply id="alg1.l17.m1.1.1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1.1.1"><in id="alg1.l17.m1.1.1.1.1.1.1.cmml" xref="alg1.l17.m1.1.1.1.1.1.1"></in><ci id="alg1.l17.m1.1.1.1.1.1.2.cmml" xref="alg1.l17.m1.1.1.1.1.1.2">𝑢</ci><ci id="alg1.l17.m1.1.1.1.1.1.3.cmml" xref="alg1.l17.m1.1.1.1.1.1.3">𝑈</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l17.m1.1c">R_{\{u\in U\}}</annotation></semantics></math> ):

</div>
<div id="alg1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18:</span>     <math id="alg1.l18.m1.2" class="ltx_Math" alttext="V\leftarrow\textsc{ArgSort}(R_{\{u\in U\}})" display="inline"><semantics id="alg1.l18.m1.2a"><mrow id="alg1.l18.m1.2.2" xref="alg1.l18.m1.2.2.cmml"><mi id="alg1.l18.m1.2.2.3" xref="alg1.l18.m1.2.2.3.cmml">V</mi><mo stretchy="false" id="alg1.l18.m1.2.2.2" xref="alg1.l18.m1.2.2.2.cmml">←</mo><mrow id="alg1.l18.m1.2.2.1" xref="alg1.l18.m1.2.2.1.cmml"><mtext class="ltx_font_smallcaps" id="alg1.l18.m1.2.2.1.3" xref="alg1.l18.m1.2.2.1.3a.cmml">ArgSort</mtext><mo lspace="0em" rspace="0em" id="alg1.l18.m1.2.2.1.2" xref="alg1.l18.m1.2.2.1.2.cmml">​</mo><mrow id="alg1.l18.m1.2.2.1.1.1" xref="alg1.l18.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="alg1.l18.m1.2.2.1.1.1.2" xref="alg1.l18.m1.2.2.1.1.1.1.cmml">(</mo><msub id="alg1.l18.m1.2.2.1.1.1.1" xref="alg1.l18.m1.2.2.1.1.1.1.cmml"><mi id="alg1.l18.m1.2.2.1.1.1.1.2" xref="alg1.l18.m1.2.2.1.1.1.1.2.cmml">R</mi><mrow id="alg1.l18.m1.1.1.1.1" xref="alg1.l18.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg1.l18.m1.1.1.1.1.2" xref="alg1.l18.m1.1.1.1.2.cmml">{</mo><mrow id="alg1.l18.m1.1.1.1.1.1" xref="alg1.l18.m1.1.1.1.1.1.cmml"><mi id="alg1.l18.m1.1.1.1.1.1.2" xref="alg1.l18.m1.1.1.1.1.1.2.cmml">u</mi><mo id="alg1.l18.m1.1.1.1.1.1.1" xref="alg1.l18.m1.1.1.1.1.1.1.cmml">∈</mo><mi id="alg1.l18.m1.1.1.1.1.1.3" xref="alg1.l18.m1.1.1.1.1.1.3.cmml">U</mi></mrow><mo stretchy="false" id="alg1.l18.m1.1.1.1.1.3" xref="alg1.l18.m1.1.1.1.2.cmml">}</mo></mrow></msub><mo stretchy="false" id="alg1.l18.m1.2.2.1.1.1.3" xref="alg1.l18.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l18.m1.2b"><apply id="alg1.l18.m1.2.2.cmml" xref="alg1.l18.m1.2.2"><ci id="alg1.l18.m1.2.2.2.cmml" xref="alg1.l18.m1.2.2.2">←</ci><ci id="alg1.l18.m1.2.2.3.cmml" xref="alg1.l18.m1.2.2.3">𝑉</ci><apply id="alg1.l18.m1.2.2.1.cmml" xref="alg1.l18.m1.2.2.1"><times id="alg1.l18.m1.2.2.1.2.cmml" xref="alg1.l18.m1.2.2.1.2"></times><ci id="alg1.l18.m1.2.2.1.3a.cmml" xref="alg1.l18.m1.2.2.1.3"><mtext class="ltx_font_smallcaps" id="alg1.l18.m1.2.2.1.3.cmml" xref="alg1.l18.m1.2.2.1.3">ArgSort</mtext></ci><apply id="alg1.l18.m1.2.2.1.1.1.1.cmml" xref="alg1.l18.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg1.l18.m1.2.2.1.1.1.1.1.cmml" xref="alg1.l18.m1.2.2.1.1.1">subscript</csymbol><ci id="alg1.l18.m1.2.2.1.1.1.1.2.cmml" xref="alg1.l18.m1.2.2.1.1.1.1.2">𝑅</ci><set id="alg1.l18.m1.1.1.1.2.cmml" xref="alg1.l18.m1.1.1.1.1"><apply id="alg1.l18.m1.1.1.1.1.1.cmml" xref="alg1.l18.m1.1.1.1.1.1"><in id="alg1.l18.m1.1.1.1.1.1.1.cmml" xref="alg1.l18.m1.1.1.1.1.1.1"></in><ci id="alg1.l18.m1.1.1.1.1.1.2.cmml" xref="alg1.l18.m1.1.1.1.1.1.2">𝑢</ci><ci id="alg1.l18.m1.1.1.1.1.1.3.cmml" xref="alg1.l18.m1.1.1.1.1.1.3">𝑈</ci></apply></set></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l18.m1.2c">V\leftarrow\textsc{ArgSort}(R_{\{u\in U\}})</annotation></semantics></math> <span id="alg1.l18.1" class="ltx_text" style="float:right;"><math id="alg1.l18.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l18.1.m1.1a"><mo id="alg1.l18.1.m1.1.1" xref="alg1.l18.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l18.1.m1.1b"><ci id="alg1.l18.1.m1.1.1.cmml" xref="alg1.l18.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l18.1.m1.1c">\triangleright</annotation></semantics></math> Reputation of each edge in each local ranking
</span>
</div>
<div id="alg1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19:</span>     <math id="alg1.l19.m1.1" class="ltx_Math" alttext="A\leftarrow\textsc{Sum}(V)" display="inline"><semantics id="alg1.l19.m1.1a"><mrow id="alg1.l19.m1.1.2" xref="alg1.l19.m1.1.2.cmml"><mi id="alg1.l19.m1.1.2.2" xref="alg1.l19.m1.1.2.2.cmml">A</mi><mo stretchy="false" id="alg1.l19.m1.1.2.1" xref="alg1.l19.m1.1.2.1.cmml">←</mo><mrow id="alg1.l19.m1.1.2.3" xref="alg1.l19.m1.1.2.3.cmml"><mtext class="ltx_font_smallcaps" id="alg1.l19.m1.1.2.3.2" xref="alg1.l19.m1.1.2.3.2a.cmml">Sum</mtext><mo lspace="0em" rspace="0em" id="alg1.l19.m1.1.2.3.1" xref="alg1.l19.m1.1.2.3.1.cmml">​</mo><mrow id="alg1.l19.m1.1.2.3.3.2" xref="alg1.l19.m1.1.2.3.cmml"><mo stretchy="false" id="alg1.l19.m1.1.2.3.3.2.1" xref="alg1.l19.m1.1.2.3.cmml">(</mo><mi id="alg1.l19.m1.1.1" xref="alg1.l19.m1.1.1.cmml">V</mi><mo stretchy="false" id="alg1.l19.m1.1.2.3.3.2.2" xref="alg1.l19.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l19.m1.1b"><apply id="alg1.l19.m1.1.2.cmml" xref="alg1.l19.m1.1.2"><ci id="alg1.l19.m1.1.2.1.cmml" xref="alg1.l19.m1.1.2.1">←</ci><ci id="alg1.l19.m1.1.2.2.cmml" xref="alg1.l19.m1.1.2.2">𝐴</ci><apply id="alg1.l19.m1.1.2.3.cmml" xref="alg1.l19.m1.1.2.3"><times id="alg1.l19.m1.1.2.3.1.cmml" xref="alg1.l19.m1.1.2.3.1"></times><ci id="alg1.l19.m1.1.2.3.2a.cmml" xref="alg1.l19.m1.1.2.3.2"><mtext class="ltx_font_smallcaps" id="alg1.l19.m1.1.2.3.2.cmml" xref="alg1.l19.m1.1.2.3.2">Sum</mtext></ci><ci id="alg1.l19.m1.1.1.cmml" xref="alg1.l19.m1.1.1">𝑉</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l19.m1.1c">A\leftarrow\textsc{Sum}(V)</annotation></semantics></math> <span id="alg1.l19.1" class="ltx_text" style="float:right;"><math id="alg1.l19.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l19.1.m1.1a"><mo id="alg1.l19.1.m1.1.1" xref="alg1.l19.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l19.1.m1.1b"><ci id="alg1.l19.1.m1.1.1.cmml" xref="alg1.l19.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l19.1.m1.1c">\triangleright</annotation></semantics></math> Sum the reputations
</span>
</div>
<div id="alg1.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20:</span>     <span id="alg1.l20.2" class="ltx_text ltx_font_bold">return</span> <math id="alg1.l20.m1.1" class="ltx_Math" alttext="\textsc{ArgSort}(A)" display="inline"><semantics id="alg1.l20.m1.1a"><mrow id="alg1.l20.m1.1.2" xref="alg1.l20.m1.1.2.cmml"><mtext class="ltx_font_smallcaps" id="alg1.l20.m1.1.2.2" xref="alg1.l20.m1.1.2.2a.cmml">ArgSort</mtext><mo lspace="0em" rspace="0em" id="alg1.l20.m1.1.2.1" xref="alg1.l20.m1.1.2.1.cmml">​</mo><mrow id="alg1.l20.m1.1.2.3.2" xref="alg1.l20.m1.1.2.cmml"><mo stretchy="false" id="alg1.l20.m1.1.2.3.2.1" xref="alg1.l20.m1.1.2.cmml">(</mo><mi id="alg1.l20.m1.1.1" xref="alg1.l20.m1.1.1.cmml">A</mi><mo stretchy="false" id="alg1.l20.m1.1.2.3.2.2" xref="alg1.l20.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg1.l20.m1.1b"><apply id="alg1.l20.m1.1.2.cmml" xref="alg1.l20.m1.1.2"><times id="alg1.l20.m1.1.2.1.cmml" xref="alg1.l20.m1.1.2.1"></times><ci id="alg1.l20.m1.1.2.2a.cmml" xref="alg1.l20.m1.1.2.2"><mtext class="ltx_font_smallcaps" id="alg1.l20.m1.1.2.2.cmml" xref="alg1.l20.m1.1.2.2">ArgSort</mtext></ci><ci id="alg1.l20.m1.1.1.cmml" xref="alg1.l20.m1.1.1">𝐴</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.l20.m1.1c">\textsc{ArgSort}(A)</annotation></semantics></math> <span id="alg1.l20.1" class="ltx_text" style="float:right;"><math id="alg1.l20.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg1.l20.1.m1.1a"><mo id="alg1.l20.1.m1.1.1" xref="alg1.l20.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg1.l20.1.m1.1b"><ci id="alg1.l20.1.m1.1.1.cmml" xref="alg1.l20.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg1.l20.1.m1.1c">\triangleright</annotation></semantics></math> Order of the reputations
</span>
</div>
<div id="alg1.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21:</span><span id="alg1.l21.1" class="ltx_text ltx_font_bold">end</span> <span id="alg1.l21.2" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
<div id="S4.p2" class="ltx_para">
<p id="S4.p2.7" class="ltx_p">The key insight used in E2FL is converting the problem of model weight optimization (in standard FL) to the problem of ranking model edges  <cite class="ltx_cite ltx_citemacro_citep">(Mozaffari, Shejwalkar, and Houmansadr <a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>.
In Section <a href="#S2.SS0.SSS0.Px2" title="Rank-based Federated Learning: ‣ 2 Background ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we explained how an FL works by training on parameter ranks.
In E2FL, each local update (one vote) is a ranking, i.e., a permutation of integers <math id="S4.p2.1.m1.2" class="ltx_Math" alttext="\in[1,d]" display="inline"><semantics id="S4.p2.1.m1.2a"><mrow id="S4.p2.1.m1.2.3" xref="S4.p2.1.m1.2.3.cmml"><mi id="S4.p2.1.m1.2.3.2" xref="S4.p2.1.m1.2.3.2.cmml"></mi><mo id="S4.p2.1.m1.2.3.1" xref="S4.p2.1.m1.2.3.1.cmml">∈</mo><mrow id="S4.p2.1.m1.2.3.3.2" xref="S4.p2.1.m1.2.3.3.1.cmml"><mo stretchy="false" id="S4.p2.1.m1.2.3.3.2.1" xref="S4.p2.1.m1.2.3.3.1.cmml">[</mo><mn id="S4.p2.1.m1.1.1" xref="S4.p2.1.m1.1.1.cmml">1</mn><mo id="S4.p2.1.m1.2.3.3.2.2" xref="S4.p2.1.m1.2.3.3.1.cmml">,</mo><mi id="S4.p2.1.m1.2.2" xref="S4.p2.1.m1.2.2.cmml">d</mi><mo stretchy="false" id="S4.p2.1.m1.2.3.3.2.3" xref="S4.p2.1.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.1.m1.2b"><apply id="S4.p2.1.m1.2.3.cmml" xref="S4.p2.1.m1.2.3"><in id="S4.p2.1.m1.2.3.1.cmml" xref="S4.p2.1.m1.2.3.1"></in><csymbol cd="latexml" id="S4.p2.1.m1.2.3.2.cmml" xref="S4.p2.1.m1.2.3.2">absent</csymbol><interval closure="closed" id="S4.p2.1.m1.2.3.3.1.cmml" xref="S4.p2.1.m1.2.3.3.2"><cn type="integer" id="S4.p2.1.m1.1.1.cmml" xref="S4.p2.1.m1.1.1">1</cn><ci id="S4.p2.1.m1.2.2.cmml" xref="S4.p2.1.m1.2.2">𝑑</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.1.m1.2c">\in[1,d]</annotation></semantics></math> where <math id="S4.p2.2.m2.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S4.p2.2.m2.1a"><mi id="S4.p2.2.m2.1.1" xref="S4.p2.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S4.p2.2.m2.1b"><ci id="S4.p2.2.m2.1.1.cmml" xref="S4.p2.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.2.m2.1c">d</annotation></semantics></math> is the size of network layer.
We use rankings because of their intrinsic fairness feature: In rank aggregation, each local ranking has the same impact on the aggregated global ranking. In rank-based FL, all the local rankings are bounded to be a permutation of unique integers <math id="S4.p2.3.m3.2" class="ltx_Math" alttext="\in[1,d]" display="inline"><semantics id="S4.p2.3.m3.2a"><mrow id="S4.p2.3.m3.2.3" xref="S4.p2.3.m3.2.3.cmml"><mi id="S4.p2.3.m3.2.3.2" xref="S4.p2.3.m3.2.3.2.cmml"></mi><mo id="S4.p2.3.m3.2.3.1" xref="S4.p2.3.m3.2.3.1.cmml">∈</mo><mrow id="S4.p2.3.m3.2.3.3.2" xref="S4.p2.3.m3.2.3.3.1.cmml"><mo stretchy="false" id="S4.p2.3.m3.2.3.3.2.1" xref="S4.p2.3.m3.2.3.3.1.cmml">[</mo><mn id="S4.p2.3.m3.1.1" xref="S4.p2.3.m3.1.1.cmml">1</mn><mo id="S4.p2.3.m3.2.3.3.2.2" xref="S4.p2.3.m3.2.3.3.1.cmml">,</mo><mi id="S4.p2.3.m3.2.2" xref="S4.p2.3.m3.2.2.cmml">d</mi><mo stretchy="false" id="S4.p2.3.m3.2.3.3.2.3" xref="S4.p2.3.m3.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.3.m3.2b"><apply id="S4.p2.3.m3.2.3.cmml" xref="S4.p2.3.m3.2.3"><in id="S4.p2.3.m3.2.3.1.cmml" xref="S4.p2.3.m3.2.3.1"></in><csymbol cd="latexml" id="S4.p2.3.m3.2.3.2.cmml" xref="S4.p2.3.m3.2.3.2">absent</csymbol><interval closure="closed" id="S4.p2.3.m3.2.3.3.1.cmml" xref="S4.p2.3.m3.2.3.3.2"><cn type="integer" id="S4.p2.3.m3.1.1.cmml" xref="S4.p2.3.m3.1.1">1</cn><ci id="S4.p2.3.m3.2.2.cmml" xref="S4.p2.3.m3.2.2">𝑑</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.3.m3.2c">\in[1,d]</annotation></semantics></math>.
For example, for a network layer with <math id="S4.p2.4.m4.1" class="ltx_Math" alttext="d=3" display="inline"><semantics id="S4.p2.4.m4.1a"><mrow id="S4.p2.4.m4.1.1" xref="S4.p2.4.m4.1.1.cmml"><mi id="S4.p2.4.m4.1.1.2" xref="S4.p2.4.m4.1.1.2.cmml">d</mi><mo id="S4.p2.4.m4.1.1.1" xref="S4.p2.4.m4.1.1.1.cmml">=</mo><mn id="S4.p2.4.m4.1.1.3" xref="S4.p2.4.m4.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.4.m4.1b"><apply id="S4.p2.4.m4.1.1.cmml" xref="S4.p2.4.m4.1.1"><eq id="S4.p2.4.m4.1.1.1.cmml" xref="S4.p2.4.m4.1.1.1"></eq><ci id="S4.p2.4.m4.1.1.2.cmml" xref="S4.p2.4.m4.1.1.2">𝑑</ci><cn type="integer" id="S4.p2.4.m4.1.1.3.cmml" xref="S4.p2.4.m4.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.4.m4.1c">d=3</annotation></semantics></math> parameters, there are only <math id="S4.p2.5.m5.1" class="ltx_Math" alttext="3!" display="inline"><semantics id="S4.p2.5.m5.1a"><mrow id="S4.p2.5.m5.1.1" xref="S4.p2.5.m5.1.1.cmml"><mn id="S4.p2.5.m5.1.1.2" xref="S4.p2.5.m5.1.1.2.cmml">3</mn><mo id="S4.p2.5.m5.1.1.1" xref="S4.p2.5.m5.1.1.1.cmml">!</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.5.m5.1b"><apply id="S4.p2.5.m5.1.1.cmml" xref="S4.p2.5.m5.1.1"><factorial id="S4.p2.5.m5.1.1.1.cmml" xref="S4.p2.5.m5.1.1.1"></factorial><cn type="integer" id="S4.p2.5.m5.1.1.2.cmml" xref="S4.p2.5.m5.1.1.2">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.5.m5.1c">3!</annotation></semantics></math> possible permutations for local ranking (<math id="S4.p2.6.m6.9" class="ltx_Math" alttext="{[1,2,3],\dots,[3,2,1]}" display="inline"><semantics id="S4.p2.6.m6.9a"><mrow id="S4.p2.6.m6.9.9.2" xref="S4.p2.6.m6.9.9.3.cmml"><mrow id="S4.p2.6.m6.8.8.1.1.2" xref="S4.p2.6.m6.8.8.1.1.1.cmml"><mo stretchy="false" id="S4.p2.6.m6.8.8.1.1.2.1" xref="S4.p2.6.m6.8.8.1.1.1.cmml">[</mo><mn id="S4.p2.6.m6.1.1" xref="S4.p2.6.m6.1.1.cmml">1</mn><mo id="S4.p2.6.m6.8.8.1.1.2.2" xref="S4.p2.6.m6.8.8.1.1.1.cmml">,</mo><mn id="S4.p2.6.m6.2.2" xref="S4.p2.6.m6.2.2.cmml">2</mn><mo id="S4.p2.6.m6.8.8.1.1.2.3" xref="S4.p2.6.m6.8.8.1.1.1.cmml">,</mo><mn id="S4.p2.6.m6.3.3" xref="S4.p2.6.m6.3.3.cmml">3</mn><mo stretchy="false" id="S4.p2.6.m6.8.8.1.1.2.4" xref="S4.p2.6.m6.8.8.1.1.1.cmml">]</mo></mrow><mo id="S4.p2.6.m6.9.9.2.3" xref="S4.p2.6.m6.9.9.3.cmml">,</mo><mi mathvariant="normal" id="S4.p2.6.m6.7.7" xref="S4.p2.6.m6.7.7.cmml">…</mi><mo id="S4.p2.6.m6.9.9.2.4" xref="S4.p2.6.m6.9.9.3.cmml">,</mo><mrow id="S4.p2.6.m6.9.9.2.2.2" xref="S4.p2.6.m6.9.9.2.2.1.cmml"><mo stretchy="false" id="S4.p2.6.m6.9.9.2.2.2.1" xref="S4.p2.6.m6.9.9.2.2.1.cmml">[</mo><mn id="S4.p2.6.m6.4.4" xref="S4.p2.6.m6.4.4.cmml">3</mn><mo id="S4.p2.6.m6.9.9.2.2.2.2" xref="S4.p2.6.m6.9.9.2.2.1.cmml">,</mo><mn id="S4.p2.6.m6.5.5" xref="S4.p2.6.m6.5.5.cmml">2</mn><mo id="S4.p2.6.m6.9.9.2.2.2.3" xref="S4.p2.6.m6.9.9.2.2.1.cmml">,</mo><mn id="S4.p2.6.m6.6.6" xref="S4.p2.6.m6.6.6.cmml">1</mn><mo stretchy="false" id="S4.p2.6.m6.9.9.2.2.2.4" xref="S4.p2.6.m6.9.9.2.2.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.6.m6.9b"><list id="S4.p2.6.m6.9.9.3.cmml" xref="S4.p2.6.m6.9.9.2"><list id="S4.p2.6.m6.8.8.1.1.1.cmml" xref="S4.p2.6.m6.8.8.1.1.2"><cn type="integer" id="S4.p2.6.m6.1.1.cmml" xref="S4.p2.6.m6.1.1">1</cn><cn type="integer" id="S4.p2.6.m6.2.2.cmml" xref="S4.p2.6.m6.2.2">2</cn><cn type="integer" id="S4.p2.6.m6.3.3.cmml" xref="S4.p2.6.m6.3.3">3</cn></list><ci id="S4.p2.6.m6.7.7.cmml" xref="S4.p2.6.m6.7.7">…</ci><list id="S4.p2.6.m6.9.9.2.2.1.cmml" xref="S4.p2.6.m6.9.9.2.2.2"><cn type="integer" id="S4.p2.6.m6.4.4.cmml" xref="S4.p2.6.m6.4.4">3</cn><cn type="integer" id="S4.p2.6.m6.5.5.cmml" xref="S4.p2.6.m6.5.5">2</cn><cn type="integer" id="S4.p2.6.m6.6.6.cmml" xref="S4.p2.6.m6.6.6">1</cn></list></list></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.6.m6.9c">{[1,2,3],\dots,[3,2,1]}</annotation></semantics></math>).
However, in existing standard FL designs, the local updates (<math id="S4.p2.7.m7.1" class="ltx_Math" alttext="\in\mathbb{R}^{d}" display="inline"><semantics id="S4.p2.7.m7.1a"><mrow id="S4.p2.7.m7.1.1" xref="S4.p2.7.m7.1.1.cmml"><mi id="S4.p2.7.m7.1.1.2" xref="S4.p2.7.m7.1.1.2.cmml"></mi><mo id="S4.p2.7.m7.1.1.1" xref="S4.p2.7.m7.1.1.1.cmml">∈</mo><msup id="S4.p2.7.m7.1.1.3" xref="S4.p2.7.m7.1.1.3.cmml"><mi id="S4.p2.7.m7.1.1.3.2" xref="S4.p2.7.m7.1.1.3.2.cmml">ℝ</mi><mi id="S4.p2.7.m7.1.1.3.3" xref="S4.p2.7.m7.1.1.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S4.p2.7.m7.1b"><apply id="S4.p2.7.m7.1.1.cmml" xref="S4.p2.7.m7.1.1"><in id="S4.p2.7.m7.1.1.1.cmml" xref="S4.p2.7.m7.1.1.1"></in><csymbol cd="latexml" id="S4.p2.7.m7.1.1.2.cmml" xref="S4.p2.7.m7.1.1.2">absent</csymbol><apply id="S4.p2.7.m7.1.1.3.cmml" xref="S4.p2.7.m7.1.1.3"><csymbol cd="ambiguous" id="S4.p2.7.m7.1.1.3.1.cmml" xref="S4.p2.7.m7.1.1.3">superscript</csymbol><ci id="S4.p2.7.m7.1.1.3.2.cmml" xref="S4.p2.7.m7.1.1.3.2">ℝ</ci><ci id="S4.p2.7.m7.1.1.3.3.cmml" xref="S4.p2.7.m7.1.1.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p2.7.m7.1c">\in\mathbb{R}^{d}</annotation></semantics></math>) have different impacts on the aggregated global model because the direction and magnitude of each parameter update is not bounded to other parameters.</p>
</div>
<div id="S4.p3" class="ltx_para">
<p id="S4.p3.1" class="ltx_p">In E2FL, different FL clients gather together to learn a global model, but each one of them belongs to a different group (which could be considered known or unknown). In this section, we assume the clients know their group IDs, and in Section <a href="#S5" title="5 E2FL when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, we explain how the clients can infer their group IDs using the features of rankings when the groups are unknown. In E2FL, the server trains multiple global rankings, each one belonging to a different group. These global group rankings are showing different orders of importance of same supernetwork for different groups from least to most important edges. Each client participates in the training of their group model by sending the local ranking they have. For aggregation, the server performs a majority vote among the local rankings (local votes) in each group, and then performs another majority vote among global group rankings (group votes) to find the global model for the next round (i.e., global ranking that clients will start their training for next E2FL round).</p>
</div>
<div id="S4.p4" class="ltx_para ltx_noindent">
<p id="S4.p4.6" class="ltx_p"><span id="S4.p4.6.1" class="ltx_text ltx_font_bold">Edge-PopUp Algorithm</span> 
The edge-popup (EP) algorithm <cite class="ltx_cite ltx_citemacro_citep">(Ramanujan et al. <a href="#bib.bib28" title="" class="ltx_ref">2020</a>)</cite> is an optimization method to find supermasks within a large, randomly initialized neural network, i.e., a supernetwork, with performances close to the fully trained supernetwork.
EP algorithm does not train the weights of the network, instead only decides the set of edges to keep and removes the rest of the edges (i.e., pop).
Specifically, EP algorithm assigns a positive score (<math id="S4.p4.1.m1.1" class="ltx_Math" alttext="\theta^{s}" display="inline"><semantics id="S4.p4.1.m1.1a"><msup id="S4.p4.1.m1.1.1" xref="S4.p4.1.m1.1.1.cmml"><mi id="S4.p4.1.m1.1.1.2" xref="S4.p4.1.m1.1.1.2.cmml">θ</mi><mi id="S4.p4.1.m1.1.1.3" xref="S4.p4.1.m1.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p4.1.m1.1b"><apply id="S4.p4.1.m1.1.1.cmml" xref="S4.p4.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p4.1.m1.1.1.1.cmml" xref="S4.p4.1.m1.1.1">superscript</csymbol><ci id="S4.p4.1.m1.1.1.2.cmml" xref="S4.p4.1.m1.1.1.2">𝜃</ci><ci id="S4.p4.1.m1.1.1.3.cmml" xref="S4.p4.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.1.m1.1c">\theta^{s}</annotation></semantics></math>) to each of the edges in the supernetwork and updates it.
In E2FL, each client learns its local scores <math id="S4.p4.2.m2.1" class="ltx_Math" alttext="\theta_{u}^{s}" display="inline"><semantics id="S4.p4.2.m2.1a"><msubsup id="S4.p4.2.m2.1.1" xref="S4.p4.2.m2.1.1.cmml"><mi id="S4.p4.2.m2.1.1.2.2" xref="S4.p4.2.m2.1.1.2.2.cmml">θ</mi><mi id="S4.p4.2.m2.1.1.2.3" xref="S4.p4.2.m2.1.1.2.3.cmml">u</mi><mi id="S4.p4.2.m2.1.1.3" xref="S4.p4.2.m2.1.1.3.cmml">s</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p4.2.m2.1b"><apply id="S4.p4.2.m2.1.1.cmml" xref="S4.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p4.2.m2.1.1.1.cmml" xref="S4.p4.2.m2.1.1">superscript</csymbol><apply id="S4.p4.2.m2.1.1.2.cmml" xref="S4.p4.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p4.2.m2.1.1.2.1.cmml" xref="S4.p4.2.m2.1.1">subscript</csymbol><ci id="S4.p4.2.m2.1.1.2.2.cmml" xref="S4.p4.2.m2.1.1.2.2">𝜃</ci><ci id="S4.p4.2.m2.1.1.2.3.cmml" xref="S4.p4.2.m2.1.1.2.3">𝑢</ci></apply><ci id="S4.p4.2.m2.1.1.3.cmml" xref="S4.p4.2.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.2.m2.1c">\theta_{u}^{s}</annotation></semantics></math> by using EP on its local data for <math id="S4.p4.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.p4.3.m3.1a"><mi id="S4.p4.3.m3.1.1" xref="S4.p4.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.p4.3.m3.1b"><ci id="S4.p4.3.m3.1.1.cmml" xref="S4.p4.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.3.m3.1c">E</annotation></semantics></math> local epochs starting from the global scores <math id="S4.p4.4.m4.1" class="ltx_Math" alttext="\theta^{s}" display="inline"><semantics id="S4.p4.4.m4.1a"><msup id="S4.p4.4.m4.1.1" xref="S4.p4.4.m4.1.1.cmml"><mi id="S4.p4.4.m4.1.1.2" xref="S4.p4.4.m4.1.1.2.cmml">θ</mi><mi id="S4.p4.4.m4.1.1.3" xref="S4.p4.4.m4.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p4.4.m4.1b"><apply id="S4.p4.4.m4.1.1.cmml" xref="S4.p4.4.m4.1.1"><csymbol cd="ambiguous" id="S4.p4.4.m4.1.1.1.cmml" xref="S4.p4.4.m4.1.1">superscript</csymbol><ci id="S4.p4.4.m4.1.1.2.cmml" xref="S4.p4.4.m4.1.1.2">𝜃</ci><ci id="S4.p4.4.m4.1.1.3.cmml" xref="S4.p4.4.m4.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.4.m4.1c">\theta^{s}</annotation></semantics></math>.
On forward pass, it selects the top <math id="S4.p4.5.m5.1" class="ltx_Math" alttext="k\%" display="inline"><semantics id="S4.p4.5.m5.1a"><mrow id="S4.p4.5.m5.1.1" xref="S4.p4.5.m5.1.1.cmml"><mi id="S4.p4.5.m5.1.1.2" xref="S4.p4.5.m5.1.1.2.cmml">k</mi><mo id="S4.p4.5.m5.1.1.1" xref="S4.p4.5.m5.1.1.1.cmml">%</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p4.5.m5.1b"><apply id="S4.p4.5.m5.1.1.cmml" xref="S4.p4.5.m5.1.1"><csymbol cd="latexml" id="S4.p4.5.m5.1.1.1.cmml" xref="S4.p4.5.m5.1.1.1">percent</csymbol><ci id="S4.p4.5.m5.1.1.2.cmml" xref="S4.p4.5.m5.1.1.2">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.5.m5.1c">k\%</annotation></semantics></math> edges with highest scores, where <math id="S4.p4.6.m6.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.p4.6.m6.1a"><mi id="S4.p4.6.m6.1.1" xref="S4.p4.6.m6.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.p4.6.m6.1b"><ci id="S4.p4.6.m6.1.1.cmml" xref="S4.p4.6.m6.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p4.6.m6.1c">k</annotation></semantics></math> is the percentage of the total number of edges in the supernetwork that will remain in the final subnetwork. On the backward pass, it updates the scores with the straight-through gradient estimator <cite class="ltx_cite ltx_citemacro_citep">(Bengio, Léonard, and Courville <a href="#bib.bib2" title="" class="ltx_ref">2013</a>)</cite>. Algorithm <a href="#alg5" title="Algorithm 5 ‣ Appendix D Missing Details of Federated Rank Learning (FRL) ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> in Appendix <a href="#alg4" title="Algorithm 4 ‣ Appendix D Missing Details of Federated Rank Learning (FRL) ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> presents EP algorithm.</p>
</div>
<figure id="S4.F2" class="ltx_figure"><img src="/html/2205.10454/assets/x2.png" id="S4.F2.g1" class="ltx_graphics ltx_centering ltx_img_square" width="268" height="245" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 2: </span>A single E2FL round with six clients from three groups and a network of 6 edges. Note that all the operations in E2FL training are performed in a layer-wise manner.
</figcaption>
</figure>
<div id="S4.p5" class="ltx_para">
<p id="S4.p5.3" class="ltx_p">We detail a round of E2FL training and depict it in Figure <a href="#S4.F2" title="Figure 2 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, where we use a supernetwork with six edges <math id="S4.p5.1.m1.2" class="ltx_Math" alttext="e_{i\in[0,5]}" display="inline"><semantics id="S4.p5.1.m1.2a"><msub id="S4.p5.1.m1.2.3" xref="S4.p5.1.m1.2.3.cmml"><mi id="S4.p5.1.m1.2.3.2" xref="S4.p5.1.m1.2.3.2.cmml">e</mi><mrow id="S4.p5.1.m1.2.2.2" xref="S4.p5.1.m1.2.2.2.cmml"><mi id="S4.p5.1.m1.2.2.2.4" xref="S4.p5.1.m1.2.2.2.4.cmml">i</mi><mo id="S4.p5.1.m1.2.2.2.3" xref="S4.p5.1.m1.2.2.2.3.cmml">∈</mo><mrow id="S4.p5.1.m1.2.2.2.5.2" xref="S4.p5.1.m1.2.2.2.5.1.cmml"><mo stretchy="false" id="S4.p5.1.m1.2.2.2.5.2.1" xref="S4.p5.1.m1.2.2.2.5.1.cmml">[</mo><mn id="S4.p5.1.m1.1.1.1.1" xref="S4.p5.1.m1.1.1.1.1.cmml">0</mn><mo id="S4.p5.1.m1.2.2.2.5.2.2" xref="S4.p5.1.m1.2.2.2.5.1.cmml">,</mo><mn id="S4.p5.1.m1.2.2.2.2" xref="S4.p5.1.m1.2.2.2.2.cmml">5</mn><mo stretchy="false" id="S4.p5.1.m1.2.2.2.5.2.3" xref="S4.p5.1.m1.2.2.2.5.1.cmml">]</mo></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.p5.1.m1.2b"><apply id="S4.p5.1.m1.2.3.cmml" xref="S4.p5.1.m1.2.3"><csymbol cd="ambiguous" id="S4.p5.1.m1.2.3.1.cmml" xref="S4.p5.1.m1.2.3">subscript</csymbol><ci id="S4.p5.1.m1.2.3.2.cmml" xref="S4.p5.1.m1.2.3.2">𝑒</ci><apply id="S4.p5.1.m1.2.2.2.cmml" xref="S4.p5.1.m1.2.2.2"><in id="S4.p5.1.m1.2.2.2.3.cmml" xref="S4.p5.1.m1.2.2.2.3"></in><ci id="S4.p5.1.m1.2.2.2.4.cmml" xref="S4.p5.1.m1.2.2.2.4">𝑖</ci><interval closure="closed" id="S4.p5.1.m1.2.2.2.5.1.cmml" xref="S4.p5.1.m1.2.2.2.5.2"><cn type="integer" id="S4.p5.1.m1.1.1.1.1.cmml" xref="S4.p5.1.m1.1.1.1.1">0</cn><cn type="integer" id="S4.p5.1.m1.2.2.2.2.cmml" xref="S4.p5.1.m1.2.2.2.2">5</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.1.m1.2c">e_{i\in[0,5]}</annotation></semantics></math> to demonstrate a single E2FL round and consider six clients <math id="S4.p5.2.m2.2" class="ltx_Math" alttext="C_{j\in[1,6]}" display="inline"><semantics id="S4.p5.2.m2.2a"><msub id="S4.p5.2.m2.2.3" xref="S4.p5.2.m2.2.3.cmml"><mi id="S4.p5.2.m2.2.3.2" xref="S4.p5.2.m2.2.3.2.cmml">C</mi><mrow id="S4.p5.2.m2.2.2.2" xref="S4.p5.2.m2.2.2.2.cmml"><mi id="S4.p5.2.m2.2.2.2.4" xref="S4.p5.2.m2.2.2.2.4.cmml">j</mi><mo id="S4.p5.2.m2.2.2.2.3" xref="S4.p5.2.m2.2.2.2.3.cmml">∈</mo><mrow id="S4.p5.2.m2.2.2.2.5.2" xref="S4.p5.2.m2.2.2.2.5.1.cmml"><mo stretchy="false" id="S4.p5.2.m2.2.2.2.5.2.1" xref="S4.p5.2.m2.2.2.2.5.1.cmml">[</mo><mn id="S4.p5.2.m2.1.1.1.1" xref="S4.p5.2.m2.1.1.1.1.cmml">1</mn><mo id="S4.p5.2.m2.2.2.2.5.2.2" xref="S4.p5.2.m2.2.2.2.5.1.cmml">,</mo><mn id="S4.p5.2.m2.2.2.2.2" xref="S4.p5.2.m2.2.2.2.2.cmml">6</mn><mo stretchy="false" id="S4.p5.2.m2.2.2.2.5.2.3" xref="S4.p5.2.m2.2.2.2.5.1.cmml">]</mo></mrow></mrow></msub><annotation-xml encoding="MathML-Content" id="S4.p5.2.m2.2b"><apply id="S4.p5.2.m2.2.3.cmml" xref="S4.p5.2.m2.2.3"><csymbol cd="ambiguous" id="S4.p5.2.m2.2.3.1.cmml" xref="S4.p5.2.m2.2.3">subscript</csymbol><ci id="S4.p5.2.m2.2.3.2.cmml" xref="S4.p5.2.m2.2.3.2">𝐶</ci><apply id="S4.p5.2.m2.2.2.2.cmml" xref="S4.p5.2.m2.2.2.2"><in id="S4.p5.2.m2.2.2.2.3.cmml" xref="S4.p5.2.m2.2.2.2.3"></in><ci id="S4.p5.2.m2.2.2.2.4.cmml" xref="S4.p5.2.m2.2.2.2.4">𝑗</ci><interval closure="closed" id="S4.p5.2.m2.2.2.2.5.1.cmml" xref="S4.p5.2.m2.2.2.2.5.2"><cn type="integer" id="S4.p5.2.m2.1.1.1.1.cmml" xref="S4.p5.2.m2.1.1.1.1">1</cn><cn type="integer" id="S4.p5.2.m2.2.2.2.2.cmml" xref="S4.p5.2.m2.2.2.2.2">6</cn></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.2.m2.2c">C_{j\in[1,6]}</annotation></semantics></math> from three groups (handwriting style A, B, C) who aim to find a subnetwork of size <math id="S4.p5.3.m3.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.p5.3.m3.1a"><mi id="S4.p5.3.m3.1.1" xref="S4.p5.3.m3.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.p5.3.m3.1b"><ci id="S4.p5.3.m3.1.1.cmml" xref="S4.p5.3.m3.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p5.3.m3.1c">k</annotation></semantics></math>=50% of the original supernetwork.</p>
</div>
<div id="S4.p6" class="ltx_para ltx_noindent">
<p id="S4.p6.11" class="ltx_p"><span id="S4.p6.1.1" class="ltx_text ltx_font_bold">Server: Initialization Phase (Only for round <math id="S4.p6.1.1.m1.1" class="ltx_Math" alttext="t=1" display="inline"><semantics id="S4.p6.1.1.m1.1a"><mrow id="S4.p6.1.1.m1.1.1" xref="S4.p6.1.1.m1.1.1.cmml"><mi id="S4.p6.1.1.m1.1.1.2" xref="S4.p6.1.1.m1.1.1.2.cmml">t</mi><mo id="S4.p6.1.1.m1.1.1.1" xref="S4.p6.1.1.m1.1.1.1.cmml">=</mo><mn id="S4.p6.1.1.m1.1.1.3" xref="S4.p6.1.1.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p6.1.1.m1.1b"><apply id="S4.p6.1.1.m1.1.1.cmml" xref="S4.p6.1.1.m1.1.1"><eq id="S4.p6.1.1.m1.1.1.1.cmml" xref="S4.p6.1.1.m1.1.1.1"></eq><ci id="S4.p6.1.1.m1.1.1.2.cmml" xref="S4.p6.1.1.m1.1.1.2">𝑡</ci><cn type="integer" id="S4.p6.1.1.m1.1.1.3.cmml" xref="S4.p6.1.1.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.1.1.m1.1c">t=1</annotation></semantics></math>)</span> :
In the first round, the E2FL server chooses a random seed <span id="S4.p6.11.2" class="ltx_text ltx_font_smallcaps">Seed</span> to generate initial random weights <math id="S4.p6.2.m1.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S4.p6.2.m1.1a"><msup id="S4.p6.2.m1.1.1" xref="S4.p6.2.m1.1.1.cmml"><mi id="S4.p6.2.m1.1.1.2" xref="S4.p6.2.m1.1.1.2.cmml">θ</mi><mi id="S4.p6.2.m1.1.1.3" xref="S4.p6.2.m1.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p6.2.m1.1b"><apply id="S4.p6.2.m1.1.1.cmml" xref="S4.p6.2.m1.1.1"><csymbol cd="ambiguous" id="S4.p6.2.m1.1.1.1.cmml" xref="S4.p6.2.m1.1.1">superscript</csymbol><ci id="S4.p6.2.m1.1.1.2.cmml" xref="S4.p6.2.m1.1.1.2">𝜃</ci><ci id="S4.p6.2.m1.1.1.3.cmml" xref="S4.p6.2.m1.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.2.m1.1c">\theta^{w}</annotation></semantics></math> and scores <math id="S4.p6.3.m2.1" class="ltx_Math" alttext="\theta^{s}" display="inline"><semantics id="S4.p6.3.m2.1a"><msup id="S4.p6.3.m2.1.1" xref="S4.p6.3.m2.1.1.cmml"><mi id="S4.p6.3.m2.1.1.2" xref="S4.p6.3.m2.1.1.2.cmml">θ</mi><mi id="S4.p6.3.m2.1.1.3" xref="S4.p6.3.m2.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p6.3.m2.1b"><apply id="S4.p6.3.m2.1.1.cmml" xref="S4.p6.3.m2.1.1"><csymbol cd="ambiguous" id="S4.p6.3.m2.1.1.1.cmml" xref="S4.p6.3.m2.1.1">superscript</csymbol><ci id="S4.p6.3.m2.1.1.2.cmml" xref="S4.p6.3.m2.1.1.2">𝜃</ci><ci id="S4.p6.3.m2.1.1.3.cmml" xref="S4.p6.3.m2.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.3.m2.1c">\theta^{s}</annotation></semantics></math> for the global supernetwork <math id="S4.p6.4.m3.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="S4.p6.4.m3.1a"><mi id="S4.p6.4.m3.1.1" xref="S4.p6.4.m3.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="S4.p6.4.m3.1b"><ci id="S4.p6.4.m3.1.1.cmml" xref="S4.p6.4.m3.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.4.m3.1c">\theta</annotation></semantics></math>; note that, <math id="S4.p6.5.m4.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S4.p6.5.m4.1a"><msup id="S4.p6.5.m4.1.1" xref="S4.p6.5.m4.1.1.cmml"><mi id="S4.p6.5.m4.1.1.2" xref="S4.p6.5.m4.1.1.2.cmml">θ</mi><mi id="S4.p6.5.m4.1.1.3" xref="S4.p6.5.m4.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p6.5.m4.1b"><apply id="S4.p6.5.m4.1.1.cmml" xref="S4.p6.5.m4.1.1"><csymbol cd="ambiguous" id="S4.p6.5.m4.1.1.1.cmml" xref="S4.p6.5.m4.1.1">superscript</csymbol><ci id="S4.p6.5.m4.1.1.2.cmml" xref="S4.p6.5.m4.1.1.2">𝜃</ci><ci id="S4.p6.5.m4.1.1.3.cmml" xref="S4.p6.5.m4.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.5.m4.1c">\theta^{w}</annotation></semantics></math>, <math id="S4.p6.6.m5.1" class="ltx_Math" alttext="\theta^{s}" display="inline"><semantics id="S4.p6.6.m5.1a"><msup id="S4.p6.6.m5.1.1" xref="S4.p6.6.m5.1.1.cmml"><mi id="S4.p6.6.m5.1.1.2" xref="S4.p6.6.m5.1.1.2.cmml">θ</mi><mi id="S4.p6.6.m5.1.1.3" xref="S4.p6.6.m5.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p6.6.m5.1b"><apply id="S4.p6.6.m5.1.1.cmml" xref="S4.p6.6.m5.1.1"><csymbol cd="ambiguous" id="S4.p6.6.m5.1.1.1.cmml" xref="S4.p6.6.m5.1.1">superscript</csymbol><ci id="S4.p6.6.m5.1.1.2.cmml" xref="S4.p6.6.m5.1.1.2">𝜃</ci><ci id="S4.p6.6.m5.1.1.3.cmml" xref="S4.p6.6.m5.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.6.m5.1c">\theta^{s}</annotation></semantics></math>, and <span id="S4.p6.11.3" class="ltx_text ltx_font_smallcaps">Seed</span> remain constant during the entire E2FL training. Next, the E2FL server shares <span id="S4.p6.11.4" class="ltx_text ltx_font_smallcaps">Seed</span> with E2FL clients, who can then locally reconstruct the initial weights <math id="S4.p6.7.m6.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S4.p6.7.m6.1a"><msup id="S4.p6.7.m6.1.1" xref="S4.p6.7.m6.1.1.cmml"><mi id="S4.p6.7.m6.1.1.2" xref="S4.p6.7.m6.1.1.2.cmml">θ</mi><mi id="S4.p6.7.m6.1.1.3" xref="S4.p6.7.m6.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p6.7.m6.1b"><apply id="S4.p6.7.m6.1.1.cmml" xref="S4.p6.7.m6.1.1"><csymbol cd="ambiguous" id="S4.p6.7.m6.1.1.1.cmml" xref="S4.p6.7.m6.1.1">superscript</csymbol><ci id="S4.p6.7.m6.1.1.2.cmml" xref="S4.p6.7.m6.1.1.2">𝜃</ci><ci id="S4.p6.7.m6.1.1.3.cmml" xref="S4.p6.7.m6.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.7.m6.1c">\theta^{w}</annotation></semantics></math> and scores <math id="S4.p6.8.m7.1" class="ltx_Math" alttext="\theta^{s}" display="inline"><semantics id="S4.p6.8.m7.1a"><msup id="S4.p6.8.m7.1.1" xref="S4.p6.8.m7.1.1.cmml"><mi id="S4.p6.8.m7.1.1.2" xref="S4.p6.8.m7.1.1.2.cmml">θ</mi><mi id="S4.p6.8.m7.1.1.3" xref="S4.p6.8.m7.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p6.8.m7.1b"><apply id="S4.p6.8.m7.1.1.cmml" xref="S4.p6.8.m7.1.1"><csymbol cd="ambiguous" id="S4.p6.8.m7.1.1.1.cmml" xref="S4.p6.8.m7.1.1">superscript</csymbol><ci id="S4.p6.8.m7.1.1.2.cmml" xref="S4.p6.8.m7.1.1.2">𝜃</ci><ci id="S4.p6.8.m7.1.1.3.cmml" xref="S4.p6.8.m7.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.8.m7.1c">\theta^{s}</annotation></semantics></math> using <span id="S4.p6.11.5" class="ltx_text ltx_font_smallcaps">Seed</span>. Figure <a href="#S4.F2" title="Figure 2 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>- <svg id="S4.p6.9.pic1" class="ltx_picture" height="12.97" overflow="visible" version="1.1" width="12.97"><g transform="translate(0,12.97) matrix(1 0 0 -1 0 0) translate(6.48,0) translate(0,6.48)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 6.21 0 C 6.21 3.43 3.43 6.21 0 6.21 C -3.43 6.21 -6.21 3.43 -6.21 0 C -6.21 -3.43 -3.43 -6.21 0 -6.21 C 3.43 -6.21 6.21 -3.43 6.21 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -3.46 -4.46)" fill="#000000" stroke="#000000"><foreignObject width="6.92" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.p6.9.pic1.1.1.1.1.1" class="ltx_text">1</span></foreignObject></g></g></svg> depicts this step.
Recall that, the goal of E2FL training is to find the most important edges in <math id="S4.p6.10.m8.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S4.p6.10.m8.1a"><msup id="S4.p6.10.m8.1.1" xref="S4.p6.10.m8.1.1.cmml"><mi id="S4.p6.10.m8.1.1.2" xref="S4.p6.10.m8.1.1.2.cmml">θ</mi><mi id="S4.p6.10.m8.1.1.3" xref="S4.p6.10.m8.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p6.10.m8.1b"><apply id="S4.p6.10.m8.1.1.cmml" xref="S4.p6.10.m8.1.1"><csymbol cd="ambiguous" id="S4.p6.10.m8.1.1.1.cmml" xref="S4.p6.10.m8.1.1">superscript</csymbol><ci id="S4.p6.10.m8.1.1.2.cmml" xref="S4.p6.10.m8.1.1.2">𝜃</ci><ci id="S4.p6.10.m8.1.1.3.cmml" xref="S4.p6.10.m8.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.10.m8.1c">\theta^{w}</annotation></semantics></math> without changing the weights.
At the beginning, the E2FL server finds the global rankings of the initial random scores , i.e., <math id="S4.p6.11.m9.1" class="ltx_Math" alttext="R_{g}^{1}=\textsc{ArgSort($\theta^{s})$}" display="inline"><semantics id="S4.p6.11.m9.1a"><mrow id="S4.p6.11.m9.1.2" xref="S4.p6.11.m9.1.2.cmml"><msubsup id="S4.p6.11.m9.1.2.2" xref="S4.p6.11.m9.1.2.2.cmml"><mi id="S4.p6.11.m9.1.2.2.2.2" xref="S4.p6.11.m9.1.2.2.2.2.cmml">R</mi><mi id="S4.p6.11.m9.1.2.2.2.3" xref="S4.p6.11.m9.1.2.2.2.3.cmml">g</mi><mn id="S4.p6.11.m9.1.2.2.3" xref="S4.p6.11.m9.1.2.2.3.cmml">1</mn></msubsup><mo id="S4.p6.11.m9.1.2.1" xref="S4.p6.11.m9.1.2.1.cmml">=</mo><mrow id="S4.p6.11.m9.1.1.1" xref="S4.p6.11.m9.1.1.1b.cmml"><mtext class="ltx_font_smallcaps" id="S4.p6.11.m9.1.1.1a" xref="S4.p6.11.m9.1.1.1b.cmml">ArgSort(</mtext><mrow id="S4.p6.11.m9.1.1.1.m1.1" xref="S4.p6.11.m9.1.1.1.m1.1.cmml"><msup id="S4.p6.11.m9.1.1.1.m1.1.1" xref="S4.p6.11.m9.1.1.1.m1.1.1.cmml"><mi id="S4.p6.11.m9.1.1.1.m1.1.1.2" xref="S4.p6.11.m9.1.1.1.m1.1.1.2.cmml">θ</mi><mi id="S4.p6.11.m9.1.1.1.m1.1.1.3" xref="S4.p6.11.m9.1.1.1.m1.1.1.3.cmml">s</mi></msup><mo stretchy="false" id="S4.p6.11.m9.1.1.1.m1.1.2" xref="S4.p6.11.m9.1.1.1.m1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p6.11.m9.1b"><apply id="S4.p6.11.m9.1.2.cmml" xref="S4.p6.11.m9.1.2"><eq id="S4.p6.11.m9.1.2.1.cmml" xref="S4.p6.11.m9.1.2.1"></eq><apply id="S4.p6.11.m9.1.2.2.cmml" xref="S4.p6.11.m9.1.2.2"><csymbol cd="ambiguous" id="S4.p6.11.m9.1.2.2.1.cmml" xref="S4.p6.11.m9.1.2.2">superscript</csymbol><apply id="S4.p6.11.m9.1.2.2.2.cmml" xref="S4.p6.11.m9.1.2.2"><csymbol cd="ambiguous" id="S4.p6.11.m9.1.2.2.2.1.cmml" xref="S4.p6.11.m9.1.2.2">subscript</csymbol><ci id="S4.p6.11.m9.1.2.2.2.2.cmml" xref="S4.p6.11.m9.1.2.2.2.2">𝑅</ci><ci id="S4.p6.11.m9.1.2.2.2.3.cmml" xref="S4.p6.11.m9.1.2.2.2.3">𝑔</ci></apply><cn type="integer" id="S4.p6.11.m9.1.2.2.3.cmml" xref="S4.p6.11.m9.1.2.2.3">1</cn></apply><ci id="S4.p6.11.m9.1.1.1b.cmml" xref="S4.p6.11.m9.1.1.1"><mrow id="S4.p6.11.m9.1.1.1.cmml" xref="S4.p6.11.m9.1.1.1"><mtext class="ltx_font_smallcaps" id="S4.p6.11.m9.1.1.1a.cmml" xref="S4.p6.11.m9.1.1.1">ArgSort(</mtext><mrow id="S4.p6.11.m9.1.1.1.m1.1.cmml" xref="S4.p6.11.m9.1.1.1.m1.1"><msup id="S4.p6.11.m9.1.1.1.m1.1.1.cmml" xref="S4.p6.11.m9.1.1.1.m1.1.1"><mi id="S4.p6.11.m9.1.1.1.m1.1.1.2.cmml" xref="S4.p6.11.m9.1.1.1.m1.1.1.2">θ</mi><mi id="S4.p6.11.m9.1.1.1.m1.1.1.3.cmml" xref="S4.p6.11.m9.1.1.1.m1.1.1.3">s</mi></msup><mo stretchy="false" id="S4.p6.11.m9.1.1.1.m1.1.2.cmml" xref="S4.p6.11.m9.1.1.1.m1.1.2">)</mo></mrow></mrow></ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p6.11.m9.1c">R_{g}^{1}=\textsc{ArgSort($\theta^{s})$}</annotation></semantics></math>.
We define <em id="S4.p6.11.6" class="ltx_emph ltx_font_italic">rankings of a vector</em> as the indices of elements of vector when the vector is sorted from low to high, which is computed using <span id="S4.p6.11.7" class="ltx_text ltx_font_smallcaps">ArgSort</span> function.</p>
</div>
<div id="S4.p7" class="ltx_para ltx_noindent">
<p id="S4.p7.12" class="ltx_p"><span id="S4.p7.1.1" class="ltx_text ltx_font_bold">Clients: Calculating the ranks (For each round <math id="S4.p7.1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.p7.1.1.m1.1a"><mi id="S4.p7.1.1.m1.1.1" xref="S4.p7.1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.p7.1.1.m1.1b"><ci id="S4.p7.1.1.m1.1.1.cmml" xref="S4.p7.1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.1.1.m1.1c">t</annotation></semantics></math>)</span> :
In the <math id="S4.p7.2.m1.1" class="ltx_Math" alttext="t^{th}" display="inline"><semantics id="S4.p7.2.m1.1a"><msup id="S4.p7.2.m1.1.1" xref="S4.p7.2.m1.1.1.cmml"><mi id="S4.p7.2.m1.1.1.2" xref="S4.p7.2.m1.1.1.2.cmml">t</mi><mrow id="S4.p7.2.m1.1.1.3" xref="S4.p7.2.m1.1.1.3.cmml"><mi id="S4.p7.2.m1.1.1.3.2" xref="S4.p7.2.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="S4.p7.2.m1.1.1.3.1" xref="S4.p7.2.m1.1.1.3.1.cmml">​</mo><mi id="S4.p7.2.m1.1.1.3.3" xref="S4.p7.2.m1.1.1.3.3.cmml">h</mi></mrow></msup><annotation-xml encoding="MathML-Content" id="S4.p7.2.m1.1b"><apply id="S4.p7.2.m1.1.1.cmml" xref="S4.p7.2.m1.1.1"><csymbol cd="ambiguous" id="S4.p7.2.m1.1.1.1.cmml" xref="S4.p7.2.m1.1.1">superscript</csymbol><ci id="S4.p7.2.m1.1.1.2.cmml" xref="S4.p7.2.m1.1.1.2">𝑡</ci><apply id="S4.p7.2.m1.1.1.3.cmml" xref="S4.p7.2.m1.1.1.3"><times id="S4.p7.2.m1.1.1.3.1.cmml" xref="S4.p7.2.m1.1.1.3.1"></times><ci id="S4.p7.2.m1.1.1.3.2.cmml" xref="S4.p7.2.m1.1.1.3.2">𝑡</ci><ci id="S4.p7.2.m1.1.1.3.3.cmml" xref="S4.p7.2.m1.1.1.3.3">ℎ</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.2.m1.1c">t^{th}</annotation></semantics></math> round, E2FL server shares the global rankings <math id="S4.p7.3.m2.1" class="ltx_Math" alttext="R_{g}^{t}" display="inline"><semantics id="S4.p7.3.m2.1a"><msubsup id="S4.p7.3.m2.1.1" xref="S4.p7.3.m2.1.1.cmml"><mi id="S4.p7.3.m2.1.1.2.2" xref="S4.p7.3.m2.1.1.2.2.cmml">R</mi><mi id="S4.p7.3.m2.1.1.2.3" xref="S4.p7.3.m2.1.1.2.3.cmml">g</mi><mi id="S4.p7.3.m2.1.1.3" xref="S4.p7.3.m2.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p7.3.m2.1b"><apply id="S4.p7.3.m2.1.1.cmml" xref="S4.p7.3.m2.1.1"><csymbol cd="ambiguous" id="S4.p7.3.m2.1.1.1.cmml" xref="S4.p7.3.m2.1.1">superscript</csymbol><apply id="S4.p7.3.m2.1.1.2.cmml" xref="S4.p7.3.m2.1.1"><csymbol cd="ambiguous" id="S4.p7.3.m2.1.1.2.1.cmml" xref="S4.p7.3.m2.1.1">subscript</csymbol><ci id="S4.p7.3.m2.1.1.2.2.cmml" xref="S4.p7.3.m2.1.1.2.2">𝑅</ci><ci id="S4.p7.3.m2.1.1.2.3.cmml" xref="S4.p7.3.m2.1.1.2.3">𝑔</ci></apply><ci id="S4.p7.3.m2.1.1.3.cmml" xref="S4.p7.3.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.3.m2.1c">R_{g}^{t}</annotation></semantics></math> with the clients.
Each of the clients locally reconstructs the weights <math id="S4.p7.4.m3.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S4.p7.4.m3.1a"><msup id="S4.p7.4.m3.1.1" xref="S4.p7.4.m3.1.1.cmml"><mi id="S4.p7.4.m3.1.1.2" xref="S4.p7.4.m3.1.1.2.cmml">θ</mi><mi id="S4.p7.4.m3.1.1.3" xref="S4.p7.4.m3.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p7.4.m3.1b"><apply id="S4.p7.4.m3.1.1.cmml" xref="S4.p7.4.m3.1.1"><csymbol cd="ambiguous" id="S4.p7.4.m3.1.1.1.cmml" xref="S4.p7.4.m3.1.1">superscript</csymbol><ci id="S4.p7.4.m3.1.1.2.cmml" xref="S4.p7.4.m3.1.1.2">𝜃</ci><ci id="S4.p7.4.m3.1.1.3.cmml" xref="S4.p7.4.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.4.m3.1c">\theta^{w}</annotation></semantics></math>’s and scores <math id="S4.p7.5.m4.1" class="ltx_Math" alttext="\theta^{s}" display="inline"><semantics id="S4.p7.5.m4.1a"><msup id="S4.p7.5.m4.1.1" xref="S4.p7.5.m4.1.1.cmml"><mi id="S4.p7.5.m4.1.1.2" xref="S4.p7.5.m4.1.1.2.cmml">θ</mi><mi id="S4.p7.5.m4.1.1.3" xref="S4.p7.5.m4.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p7.5.m4.1b"><apply id="S4.p7.5.m4.1.1.cmml" xref="S4.p7.5.m4.1.1"><csymbol cd="ambiguous" id="S4.p7.5.m4.1.1.1.cmml" xref="S4.p7.5.m4.1.1">superscript</csymbol><ci id="S4.p7.5.m4.1.1.2.cmml" xref="S4.p7.5.m4.1.1.2">𝜃</ci><ci id="S4.p7.5.m4.1.1.3.cmml" xref="S4.p7.5.m4.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.5.m4.1c">\theta^{s}</annotation></semantics></math>’s using <span id="S4.p7.12.2" class="ltx_text ltx_font_smallcaps">seed</span>.
Then, each E2FL client reorders the random scores based on the global rankings, <math id="S4.p7.6.m5.1" class="ltx_Math" alttext="R_{g}^{t}" display="inline"><semantics id="S4.p7.6.m5.1a"><msubsup id="S4.p7.6.m5.1.1" xref="S4.p7.6.m5.1.1.cmml"><mi id="S4.p7.6.m5.1.1.2.2" xref="S4.p7.6.m5.1.1.2.2.cmml">R</mi><mi id="S4.p7.6.m5.1.1.2.3" xref="S4.p7.6.m5.1.1.2.3.cmml">g</mi><mi id="S4.p7.6.m5.1.1.3" xref="S4.p7.6.m5.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p7.6.m5.1b"><apply id="S4.p7.6.m5.1.1.cmml" xref="S4.p7.6.m5.1.1"><csymbol cd="ambiguous" id="S4.p7.6.m5.1.1.1.cmml" xref="S4.p7.6.m5.1.1">superscript</csymbol><apply id="S4.p7.6.m5.1.1.2.cmml" xref="S4.p7.6.m5.1.1"><csymbol cd="ambiguous" id="S4.p7.6.m5.1.1.2.1.cmml" xref="S4.p7.6.m5.1.1">subscript</csymbol><ci id="S4.p7.6.m5.1.1.2.2.cmml" xref="S4.p7.6.m5.1.1.2.2">𝑅</ci><ci id="S4.p7.6.m5.1.1.2.3.cmml" xref="S4.p7.6.m5.1.1.2.3">𝑔</ci></apply><ci id="S4.p7.6.m5.1.1.3.cmml" xref="S4.p7.6.m5.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.6.m5.1c">R_{g}^{t}</annotation></semantics></math>. We depict this in Figure <a href="#S4.F2" title="Figure 2 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>- <svg id="S4.p7.7.pic1" class="ltx_picture" height="18.1" overflow="visible" version="1.1" width="18.1"><g transform="translate(0,18.1) matrix(1 0 0 -1 0 0) translate(9.05,0) translate(0,9.05)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 8.77 0 C 8.77 4.85 4.85 8.77 0 8.77 C -4.85 8.77 -8.77 4.85 -8.77 0 C -8.77 -4.85 -4.85 -8.77 0 -8.77 C 4.85 -8.77 8.77 -4.85 8.77 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -6.92 -4.46)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.p7.7.pic1.1.1.1.1.1" class="ltx_text">2a</span></foreignObject></g></g></svg>. For instance, the initial global rankings for this round are <math id="S4.p7.8.m6.6" class="ltx_Math" alttext="R^{t}_{g}=[2,3,0,5,1,4]" display="inline"><semantics id="S4.p7.8.m6.6a"><mrow id="S4.p7.8.m6.6.7" xref="S4.p7.8.m6.6.7.cmml"><msubsup id="S4.p7.8.m6.6.7.2" xref="S4.p7.8.m6.6.7.2.cmml"><mi id="S4.p7.8.m6.6.7.2.2.2" xref="S4.p7.8.m6.6.7.2.2.2.cmml">R</mi><mi id="S4.p7.8.m6.6.7.2.3" xref="S4.p7.8.m6.6.7.2.3.cmml">g</mi><mi id="S4.p7.8.m6.6.7.2.2.3" xref="S4.p7.8.m6.6.7.2.2.3.cmml">t</mi></msubsup><mo id="S4.p7.8.m6.6.7.1" xref="S4.p7.8.m6.6.7.1.cmml">=</mo><mrow id="S4.p7.8.m6.6.7.3.2" xref="S4.p7.8.m6.6.7.3.1.cmml"><mo stretchy="false" id="S4.p7.8.m6.6.7.3.2.1" xref="S4.p7.8.m6.6.7.3.1.cmml">[</mo><mn id="S4.p7.8.m6.1.1" xref="S4.p7.8.m6.1.1.cmml">2</mn><mo id="S4.p7.8.m6.6.7.3.2.2" xref="S4.p7.8.m6.6.7.3.1.cmml">,</mo><mn id="S4.p7.8.m6.2.2" xref="S4.p7.8.m6.2.2.cmml">3</mn><mo id="S4.p7.8.m6.6.7.3.2.3" xref="S4.p7.8.m6.6.7.3.1.cmml">,</mo><mn id="S4.p7.8.m6.3.3" xref="S4.p7.8.m6.3.3.cmml">0</mn><mo id="S4.p7.8.m6.6.7.3.2.4" xref="S4.p7.8.m6.6.7.3.1.cmml">,</mo><mn id="S4.p7.8.m6.4.4" xref="S4.p7.8.m6.4.4.cmml">5</mn><mo id="S4.p7.8.m6.6.7.3.2.5" xref="S4.p7.8.m6.6.7.3.1.cmml">,</mo><mn id="S4.p7.8.m6.5.5" xref="S4.p7.8.m6.5.5.cmml">1</mn><mo id="S4.p7.8.m6.6.7.3.2.6" xref="S4.p7.8.m6.6.7.3.1.cmml">,</mo><mn id="S4.p7.8.m6.6.6" xref="S4.p7.8.m6.6.6.cmml">4</mn><mo stretchy="false" id="S4.p7.8.m6.6.7.3.2.7" xref="S4.p7.8.m6.6.7.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p7.8.m6.6b"><apply id="S4.p7.8.m6.6.7.cmml" xref="S4.p7.8.m6.6.7"><eq id="S4.p7.8.m6.6.7.1.cmml" xref="S4.p7.8.m6.6.7.1"></eq><apply id="S4.p7.8.m6.6.7.2.cmml" xref="S4.p7.8.m6.6.7.2"><csymbol cd="ambiguous" id="S4.p7.8.m6.6.7.2.1.cmml" xref="S4.p7.8.m6.6.7.2">subscript</csymbol><apply id="S4.p7.8.m6.6.7.2.2.cmml" xref="S4.p7.8.m6.6.7.2"><csymbol cd="ambiguous" id="S4.p7.8.m6.6.7.2.2.1.cmml" xref="S4.p7.8.m6.6.7.2">superscript</csymbol><ci id="S4.p7.8.m6.6.7.2.2.2.cmml" xref="S4.p7.8.m6.6.7.2.2.2">𝑅</ci><ci id="S4.p7.8.m6.6.7.2.2.3.cmml" xref="S4.p7.8.m6.6.7.2.2.3">𝑡</ci></apply><ci id="S4.p7.8.m6.6.7.2.3.cmml" xref="S4.p7.8.m6.6.7.2.3">𝑔</ci></apply><list id="S4.p7.8.m6.6.7.3.1.cmml" xref="S4.p7.8.m6.6.7.3.2"><cn type="integer" id="S4.p7.8.m6.1.1.cmml" xref="S4.p7.8.m6.1.1">2</cn><cn type="integer" id="S4.p7.8.m6.2.2.cmml" xref="S4.p7.8.m6.2.2">3</cn><cn type="integer" id="S4.p7.8.m6.3.3.cmml" xref="S4.p7.8.m6.3.3">0</cn><cn type="integer" id="S4.p7.8.m6.4.4.cmml" xref="S4.p7.8.m6.4.4">5</cn><cn type="integer" id="S4.p7.8.m6.5.5.cmml" xref="S4.p7.8.m6.5.5">1</cn><cn type="integer" id="S4.p7.8.m6.6.6.cmml" xref="S4.p7.8.m6.6.6">4</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.8.m6.6c">R^{t}_{g}=[2,3,0,5,1,4]</annotation></semantics></math>, meaning that edge <math id="S4.p7.9.m7.1" class="ltx_Math" alttext="e_{4}" display="inline"><semantics id="S4.p7.9.m7.1a"><msub id="S4.p7.9.m7.1.1" xref="S4.p7.9.m7.1.1.cmml"><mi id="S4.p7.9.m7.1.1.2" xref="S4.p7.9.m7.1.1.2.cmml">e</mi><mn id="S4.p7.9.m7.1.1.3" xref="S4.p7.9.m7.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p7.9.m7.1b"><apply id="S4.p7.9.m7.1.1.cmml" xref="S4.p7.9.m7.1.1"><csymbol cd="ambiguous" id="S4.p7.9.m7.1.1.1.cmml" xref="S4.p7.9.m7.1.1">subscript</csymbol><ci id="S4.p7.9.m7.1.1.2.cmml" xref="S4.p7.9.m7.1.1.2">𝑒</ci><cn type="integer" id="S4.p7.9.m7.1.1.3.cmml" xref="S4.p7.9.m7.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.9.m7.1c">e_{4}</annotation></semantics></math> should get the highest score (<math id="S4.p7.10.m8.1" class="ltx_Math" alttext="s_{4}=1.2" display="inline"><semantics id="S4.p7.10.m8.1a"><mrow id="S4.p7.10.m8.1.1" xref="S4.p7.10.m8.1.1.cmml"><msub id="S4.p7.10.m8.1.1.2" xref="S4.p7.10.m8.1.1.2.cmml"><mi id="S4.p7.10.m8.1.1.2.2" xref="S4.p7.10.m8.1.1.2.2.cmml">s</mi><mn id="S4.p7.10.m8.1.1.2.3" xref="S4.p7.10.m8.1.1.2.3.cmml">4</mn></msub><mo id="S4.p7.10.m8.1.1.1" xref="S4.p7.10.m8.1.1.1.cmml">=</mo><mn id="S4.p7.10.m8.1.1.3" xref="S4.p7.10.m8.1.1.3.cmml">1.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p7.10.m8.1b"><apply id="S4.p7.10.m8.1.1.cmml" xref="S4.p7.10.m8.1.1"><eq id="S4.p7.10.m8.1.1.1.cmml" xref="S4.p7.10.m8.1.1.1"></eq><apply id="S4.p7.10.m8.1.1.2.cmml" xref="S4.p7.10.m8.1.1.2"><csymbol cd="ambiguous" id="S4.p7.10.m8.1.1.2.1.cmml" xref="S4.p7.10.m8.1.1.2">subscript</csymbol><ci id="S4.p7.10.m8.1.1.2.2.cmml" xref="S4.p7.10.m8.1.1.2.2">𝑠</ci><cn type="integer" id="S4.p7.10.m8.1.1.2.3.cmml" xref="S4.p7.10.m8.1.1.2.3">4</cn></apply><cn type="float" id="S4.p7.10.m8.1.1.3.cmml" xref="S4.p7.10.m8.1.1.3">1.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.10.m8.1c">s_{4}=1.2</annotation></semantics></math>), and edge <math id="S4.p7.11.m9.1" class="ltx_Math" alttext="e_{2}" display="inline"><semantics id="S4.p7.11.m9.1a"><msub id="S4.p7.11.m9.1.1" xref="S4.p7.11.m9.1.1.cmml"><mi id="S4.p7.11.m9.1.1.2" xref="S4.p7.11.m9.1.1.2.cmml">e</mi><mn id="S4.p7.11.m9.1.1.3" xref="S4.p7.11.m9.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p7.11.m9.1b"><apply id="S4.p7.11.m9.1.1.cmml" xref="S4.p7.11.m9.1.1"><csymbol cd="ambiguous" id="S4.p7.11.m9.1.1.1.cmml" xref="S4.p7.11.m9.1.1">subscript</csymbol><ci id="S4.p7.11.m9.1.1.2.cmml" xref="S4.p7.11.m9.1.1.2">𝑒</ci><cn type="integer" id="S4.p7.11.m9.1.1.3.cmml" xref="S4.p7.11.m9.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.11.m9.1c">e_{2}</annotation></semantics></math> should get the lowest score (<math id="S4.p7.12.m10.1" class="ltx_Math" alttext="s_{2}=0.2" display="inline"><semantics id="S4.p7.12.m10.1a"><mrow id="S4.p7.12.m10.1.1" xref="S4.p7.12.m10.1.1.cmml"><msub id="S4.p7.12.m10.1.1.2" xref="S4.p7.12.m10.1.1.2.cmml"><mi id="S4.p7.12.m10.1.1.2.2" xref="S4.p7.12.m10.1.1.2.2.cmml">s</mi><mn id="S4.p7.12.m10.1.1.2.3" xref="S4.p7.12.m10.1.1.2.3.cmml">2</mn></msub><mo id="S4.p7.12.m10.1.1.1" xref="S4.p7.12.m10.1.1.1.cmml">=</mo><mn id="S4.p7.12.m10.1.1.3" xref="S4.p7.12.m10.1.1.3.cmml">0.2</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.p7.12.m10.1b"><apply id="S4.p7.12.m10.1.1.cmml" xref="S4.p7.12.m10.1.1"><eq id="S4.p7.12.m10.1.1.1.cmml" xref="S4.p7.12.m10.1.1.1"></eq><apply id="S4.p7.12.m10.1.1.2.cmml" xref="S4.p7.12.m10.1.1.2"><csymbol cd="ambiguous" id="S4.p7.12.m10.1.1.2.1.cmml" xref="S4.p7.12.m10.1.1.2">subscript</csymbol><ci id="S4.p7.12.m10.1.1.2.2.cmml" xref="S4.p7.12.m10.1.1.2.2">𝑠</ci><cn type="integer" id="S4.p7.12.m10.1.1.2.3.cmml" xref="S4.p7.12.m10.1.1.2.3">2</cn></apply><cn type="float" id="S4.p7.12.m10.1.1.3.cmml" xref="S4.p7.12.m10.1.1.3">0.2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p7.12.m10.1c">s_{2}=0.2</annotation></semantics></math>).</p>
</div>
<div id="S4.p8" class="ltx_para">
<p id="S4.p8.15" class="ltx_p">Next, each of the clients uses reordered <math id="S4.p8.1.m1.1" class="ltx_Math" alttext="\theta_{u}^{s}" display="inline"><semantics id="S4.p8.1.m1.1a"><msubsup id="S4.p8.1.m1.1.1" xref="S4.p8.1.m1.1.1.cmml"><mi id="S4.p8.1.m1.1.1.2.2" xref="S4.p8.1.m1.1.1.2.2.cmml">θ</mi><mi id="S4.p8.1.m1.1.1.2.3" xref="S4.p8.1.m1.1.1.2.3.cmml">u</mi><mi id="S4.p8.1.m1.1.1.3" xref="S4.p8.1.m1.1.1.3.cmml">s</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p8.1.m1.1b"><apply id="S4.p8.1.m1.1.1.cmml" xref="S4.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p8.1.m1.1.1.1.cmml" xref="S4.p8.1.m1.1.1">superscript</csymbol><apply id="S4.p8.1.m1.1.1.2.cmml" xref="S4.p8.1.m1.1.1"><csymbol cd="ambiguous" id="S4.p8.1.m1.1.1.2.1.cmml" xref="S4.p8.1.m1.1.1">subscript</csymbol><ci id="S4.p8.1.m1.1.1.2.2.cmml" xref="S4.p8.1.m1.1.1.2.2">𝜃</ci><ci id="S4.p8.1.m1.1.1.2.3.cmml" xref="S4.p8.1.m1.1.1.2.3">𝑢</ci></apply><ci id="S4.p8.1.m1.1.1.3.cmml" xref="S4.p8.1.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.1.m1.1c">\theta_{u}^{s}</annotation></semantics></math> and finds a subnetwork within <math id="S4.p8.2.m2.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S4.p8.2.m2.1a"><msup id="S4.p8.2.m2.1.1" xref="S4.p8.2.m2.1.1.cmml"><mi id="S4.p8.2.m2.1.1.2" xref="S4.p8.2.m2.1.1.2.cmml">θ</mi><mi id="S4.p8.2.m2.1.1.3" xref="S4.p8.2.m2.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p8.2.m2.1b"><apply id="S4.p8.2.m2.1.1.cmml" xref="S4.p8.2.m2.1.1"><csymbol cd="ambiguous" id="S4.p8.2.m2.1.1.1.cmml" xref="S4.p8.2.m2.1.1">superscript</csymbol><ci id="S4.p8.2.m2.1.1.2.cmml" xref="S4.p8.2.m2.1.1.2">𝜃</ci><ci id="S4.p8.2.m2.1.1.3.cmml" xref="S4.p8.2.m2.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.2.m2.1c">\theta^{w}</annotation></semantics></math> using edge-popup algorithm <cite class="ltx_cite ltx_citemacro_citep">(Ramanujan et al. <a href="#bib.bib28" title="" class="ltx_ref">2020</a>)</cite>; to find a subnetwork, they use their local data and <math id="S4.p8.3.m3.1" class="ltx_Math" alttext="E" display="inline"><semantics id="S4.p8.3.m3.1a"><mi id="S4.p8.3.m3.1.1" xref="S4.p8.3.m3.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="S4.p8.3.m3.1b"><ci id="S4.p8.3.m3.1.1.cmml" xref="S4.p8.3.m3.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.3.m3.1c">E</annotation></semantics></math> local epochs. Note that, each iteration of edge-popup algorithm updates the scores <math id="S4.p8.4.m4.1" class="ltx_Math" alttext="\theta_{u}^{s}" display="inline"><semantics id="S4.p8.4.m4.1a"><msubsup id="S4.p8.4.m4.1.1" xref="S4.p8.4.m4.1.1.cmml"><mi id="S4.p8.4.m4.1.1.2.2" xref="S4.p8.4.m4.1.1.2.2.cmml">θ</mi><mi id="S4.p8.4.m4.1.1.2.3" xref="S4.p8.4.m4.1.1.2.3.cmml">u</mi><mi id="S4.p8.4.m4.1.1.3" xref="S4.p8.4.m4.1.1.3.cmml">s</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p8.4.m4.1b"><apply id="S4.p8.4.m4.1.1.cmml" xref="S4.p8.4.m4.1.1"><csymbol cd="ambiguous" id="S4.p8.4.m4.1.1.1.cmml" xref="S4.p8.4.m4.1.1">superscript</csymbol><apply id="S4.p8.4.m4.1.1.2.cmml" xref="S4.p8.4.m4.1.1"><csymbol cd="ambiguous" id="S4.p8.4.m4.1.1.2.1.cmml" xref="S4.p8.4.m4.1.1">subscript</csymbol><ci id="S4.p8.4.m4.1.1.2.2.cmml" xref="S4.p8.4.m4.1.1.2.2">𝜃</ci><ci id="S4.p8.4.m4.1.1.2.3.cmml" xref="S4.p8.4.m4.1.1.2.3">𝑢</ci></apply><ci id="S4.p8.4.m4.1.1.3.cmml" xref="S4.p8.4.m4.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.4.m4.1c">\theta_{u}^{s}</annotation></semantics></math>.
Then client <math id="S4.p8.5.m5.1" class="ltx_Math" alttext="u" display="inline"><semantics id="S4.p8.5.m5.1a"><mi id="S4.p8.5.m5.1.1" xref="S4.p8.5.m5.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="S4.p8.5.m5.1b"><ci id="S4.p8.5.m5.1.1.cmml" xref="S4.p8.5.m5.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.5.m5.1c">u</annotation></semantics></math> computes their local rankings <math id="S4.p8.6.m6.1" class="ltx_Math" alttext="R_{u}^{t}" display="inline"><semantics id="S4.p8.6.m6.1a"><msubsup id="S4.p8.6.m6.1.1" xref="S4.p8.6.m6.1.1.cmml"><mi id="S4.p8.6.m6.1.1.2.2" xref="S4.p8.6.m6.1.1.2.2.cmml">R</mi><mi id="S4.p8.6.m6.1.1.2.3" xref="S4.p8.6.m6.1.1.2.3.cmml">u</mi><mi id="S4.p8.6.m6.1.1.3" xref="S4.p8.6.m6.1.1.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p8.6.m6.1b"><apply id="S4.p8.6.m6.1.1.cmml" xref="S4.p8.6.m6.1.1"><csymbol cd="ambiguous" id="S4.p8.6.m6.1.1.1.cmml" xref="S4.p8.6.m6.1.1">superscript</csymbol><apply id="S4.p8.6.m6.1.1.2.cmml" xref="S4.p8.6.m6.1.1"><csymbol cd="ambiguous" id="S4.p8.6.m6.1.1.2.1.cmml" xref="S4.p8.6.m6.1.1">subscript</csymbol><ci id="S4.p8.6.m6.1.1.2.2.cmml" xref="S4.p8.6.m6.1.1.2.2">𝑅</ci><ci id="S4.p8.6.m6.1.1.2.3.cmml" xref="S4.p8.6.m6.1.1.2.3">𝑢</ci></apply><ci id="S4.p8.6.m6.1.1.3.cmml" xref="S4.p8.6.m6.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.6.m6.1c">R_{u}^{t}</annotation></semantics></math> using the final updated scores and <span id="S4.p8.15.1" class="ltx_text ltx_font_smallcaps">Argsort</span>(.), and sends <math id="S4.p8.7.m7.2" class="ltx_Math" alttext="R_{u,q}^{t}" display="inline"><semantics id="S4.p8.7.m7.2a"><msubsup id="S4.p8.7.m7.2.3" xref="S4.p8.7.m7.2.3.cmml"><mi id="S4.p8.7.m7.2.3.2.2" xref="S4.p8.7.m7.2.3.2.2.cmml">R</mi><mrow id="S4.p8.7.m7.2.2.2.4" xref="S4.p8.7.m7.2.2.2.3.cmml"><mi id="S4.p8.7.m7.1.1.1.1" xref="S4.p8.7.m7.1.1.1.1.cmml">u</mi><mo id="S4.p8.7.m7.2.2.2.4.1" xref="S4.p8.7.m7.2.2.2.3.cmml">,</mo><mi id="S4.p8.7.m7.2.2.2.2" xref="S4.p8.7.m7.2.2.2.2.cmml">q</mi></mrow><mi id="S4.p8.7.m7.2.3.3" xref="S4.p8.7.m7.2.3.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p8.7.m7.2b"><apply id="S4.p8.7.m7.2.3.cmml" xref="S4.p8.7.m7.2.3"><csymbol cd="ambiguous" id="S4.p8.7.m7.2.3.1.cmml" xref="S4.p8.7.m7.2.3">superscript</csymbol><apply id="S4.p8.7.m7.2.3.2.cmml" xref="S4.p8.7.m7.2.3"><csymbol cd="ambiguous" id="S4.p8.7.m7.2.3.2.1.cmml" xref="S4.p8.7.m7.2.3">subscript</csymbol><ci id="S4.p8.7.m7.2.3.2.2.cmml" xref="S4.p8.7.m7.2.3.2.2">𝑅</ci><list id="S4.p8.7.m7.2.2.2.3.cmml" xref="S4.p8.7.m7.2.2.2.4"><ci id="S4.p8.7.m7.1.1.1.1.cmml" xref="S4.p8.7.m7.1.1.1.1">𝑢</ci><ci id="S4.p8.7.m7.2.2.2.2.cmml" xref="S4.p8.7.m7.2.2.2.2">𝑞</ci></list></apply><ci id="S4.p8.7.m7.2.3.3.cmml" xref="S4.p8.7.m7.2.3.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.7.m7.2c">R_{u,q}^{t}</annotation></semantics></math> to the server where <math id="S4.p8.8.m8.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p8.8.m8.1a"><mi id="S4.p8.8.m8.1.1" xref="S4.p8.8.m8.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p8.8.m8.1b"><ci id="S4.p8.8.m8.1.1.cmml" xref="S4.p8.8.m8.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.8.m8.1c">q</annotation></semantics></math> is the group identifier. We will explain the group inference methods we propose in Section <a href="#S5" title="5 E2FL when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>.
Figure <a href="#S4.F2" title="Figure 2 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>- <svg id="S4.p8.9.pic1" class="ltx_picture" height="19.19" overflow="visible" version="1.1" width="19.19"><g transform="translate(0,19.19) matrix(1 0 0 -1 0 0) translate(9.6,0) translate(0,9.6)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 9.32 0 C 9.32 5.15 5.15 9.32 0 9.32 C -5.15 9.32 -9.32 5.15 -9.32 0 C -9.32 -5.15 -5.15 -9.32 0 -9.32 C 5.15 -9.32 9.32 -5.15 9.32 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -7.3 -4.8)" fill="#000000" stroke="#000000"><foreignObject width="14.61" height="9.61" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.p8.9.pic1.1.1.1.1.1" class="ltx_text">2b</span></foreignObject></g></g></svg> shows, for each client, the local rankings they obtained after finding their local subnetwork. For example, rankings of client <math id="S4.p8.10.m9.1" class="ltx_Math" alttext="C_{1}" display="inline"><semantics id="S4.p8.10.m9.1a"><msub id="S4.p8.10.m9.1.1" xref="S4.p8.10.m9.1.1.cmml"><mi id="S4.p8.10.m9.1.1.2" xref="S4.p8.10.m9.1.1.2.cmml">C</mi><mn id="S4.p8.10.m9.1.1.3" xref="S4.p8.10.m9.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p8.10.m9.1b"><apply id="S4.p8.10.m9.1.1.cmml" xref="S4.p8.10.m9.1.1"><csymbol cd="ambiguous" id="S4.p8.10.m9.1.1.1.cmml" xref="S4.p8.10.m9.1.1">subscript</csymbol><ci id="S4.p8.10.m9.1.1.2.cmml" xref="S4.p8.10.m9.1.1.2">𝐶</ci><cn type="integer" id="S4.p8.10.m9.1.1.3.cmml" xref="S4.p8.10.m9.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.10.m9.1c">C_{1}</annotation></semantics></math> are <math id="S4.p8.11.m10.8" class="ltx_Math" alttext="R^{t}_{1,A}=[4,0,2,3,5,1]" display="inline"><semantics id="S4.p8.11.m10.8a"><mrow id="S4.p8.11.m10.8.9" xref="S4.p8.11.m10.8.9.cmml"><msubsup id="S4.p8.11.m10.8.9.2" xref="S4.p8.11.m10.8.9.2.cmml"><mi id="S4.p8.11.m10.8.9.2.2.2" xref="S4.p8.11.m10.8.9.2.2.2.cmml">R</mi><mrow id="S4.p8.11.m10.2.2.2.4" xref="S4.p8.11.m10.2.2.2.3.cmml"><mn id="S4.p8.11.m10.1.1.1.1" xref="S4.p8.11.m10.1.1.1.1.cmml">1</mn><mo id="S4.p8.11.m10.2.2.2.4.1" xref="S4.p8.11.m10.2.2.2.3.cmml">,</mo><mi id="S4.p8.11.m10.2.2.2.2" xref="S4.p8.11.m10.2.2.2.2.cmml">A</mi></mrow><mi id="S4.p8.11.m10.8.9.2.2.3" xref="S4.p8.11.m10.8.9.2.2.3.cmml">t</mi></msubsup><mo id="S4.p8.11.m10.8.9.1" xref="S4.p8.11.m10.8.9.1.cmml">=</mo><mrow id="S4.p8.11.m10.8.9.3.2" xref="S4.p8.11.m10.8.9.3.1.cmml"><mo stretchy="false" id="S4.p8.11.m10.8.9.3.2.1" xref="S4.p8.11.m10.8.9.3.1.cmml">[</mo><mn id="S4.p8.11.m10.3.3" xref="S4.p8.11.m10.3.3.cmml">4</mn><mo id="S4.p8.11.m10.8.9.3.2.2" xref="S4.p8.11.m10.8.9.3.1.cmml">,</mo><mn id="S4.p8.11.m10.4.4" xref="S4.p8.11.m10.4.4.cmml">0</mn><mo id="S4.p8.11.m10.8.9.3.2.3" xref="S4.p8.11.m10.8.9.3.1.cmml">,</mo><mn id="S4.p8.11.m10.5.5" xref="S4.p8.11.m10.5.5.cmml">2</mn><mo id="S4.p8.11.m10.8.9.3.2.4" xref="S4.p8.11.m10.8.9.3.1.cmml">,</mo><mn id="S4.p8.11.m10.6.6" xref="S4.p8.11.m10.6.6.cmml">3</mn><mo id="S4.p8.11.m10.8.9.3.2.5" xref="S4.p8.11.m10.8.9.3.1.cmml">,</mo><mn id="S4.p8.11.m10.7.7" xref="S4.p8.11.m10.7.7.cmml">5</mn><mo id="S4.p8.11.m10.8.9.3.2.6" xref="S4.p8.11.m10.8.9.3.1.cmml">,</mo><mn id="S4.p8.11.m10.8.8" xref="S4.p8.11.m10.8.8.cmml">1</mn><mo stretchy="false" id="S4.p8.11.m10.8.9.3.2.7" xref="S4.p8.11.m10.8.9.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p8.11.m10.8b"><apply id="S4.p8.11.m10.8.9.cmml" xref="S4.p8.11.m10.8.9"><eq id="S4.p8.11.m10.8.9.1.cmml" xref="S4.p8.11.m10.8.9.1"></eq><apply id="S4.p8.11.m10.8.9.2.cmml" xref="S4.p8.11.m10.8.9.2"><csymbol cd="ambiguous" id="S4.p8.11.m10.8.9.2.1.cmml" xref="S4.p8.11.m10.8.9.2">subscript</csymbol><apply id="S4.p8.11.m10.8.9.2.2.cmml" xref="S4.p8.11.m10.8.9.2"><csymbol cd="ambiguous" id="S4.p8.11.m10.8.9.2.2.1.cmml" xref="S4.p8.11.m10.8.9.2">superscript</csymbol><ci id="S4.p8.11.m10.8.9.2.2.2.cmml" xref="S4.p8.11.m10.8.9.2.2.2">𝑅</ci><ci id="S4.p8.11.m10.8.9.2.2.3.cmml" xref="S4.p8.11.m10.8.9.2.2.3">𝑡</ci></apply><list id="S4.p8.11.m10.2.2.2.3.cmml" xref="S4.p8.11.m10.2.2.2.4"><cn type="integer" id="S4.p8.11.m10.1.1.1.1.cmml" xref="S4.p8.11.m10.1.1.1.1">1</cn><ci id="S4.p8.11.m10.2.2.2.2.cmml" xref="S4.p8.11.m10.2.2.2.2">𝐴</ci></list></apply><list id="S4.p8.11.m10.8.9.3.1.cmml" xref="S4.p8.11.m10.8.9.3.2"><cn type="integer" id="S4.p8.11.m10.3.3.cmml" xref="S4.p8.11.m10.3.3">4</cn><cn type="integer" id="S4.p8.11.m10.4.4.cmml" xref="S4.p8.11.m10.4.4">0</cn><cn type="integer" id="S4.p8.11.m10.5.5.cmml" xref="S4.p8.11.m10.5.5">2</cn><cn type="integer" id="S4.p8.11.m10.6.6.cmml" xref="S4.p8.11.m10.6.6">3</cn><cn type="integer" id="S4.p8.11.m10.7.7.cmml" xref="S4.p8.11.m10.7.7">5</cn><cn type="integer" id="S4.p8.11.m10.8.8.cmml" xref="S4.p8.11.m10.8.8">1</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.11.m10.8c">R^{t}_{1,A}=[4,0,2,3,5,1]</annotation></semantics></math>, i.e., <math id="S4.p8.12.m11.1" class="ltx_Math" alttext="e_{4}" display="inline"><semantics id="S4.p8.12.m11.1a"><msub id="S4.p8.12.m11.1.1" xref="S4.p8.12.m11.1.1.cmml"><mi id="S4.p8.12.m11.1.1.2" xref="S4.p8.12.m11.1.1.2.cmml">e</mi><mn id="S4.p8.12.m11.1.1.3" xref="S4.p8.12.m11.1.1.3.cmml">4</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p8.12.m11.1b"><apply id="S4.p8.12.m11.1.1.cmml" xref="S4.p8.12.m11.1.1"><csymbol cd="ambiguous" id="S4.p8.12.m11.1.1.1.cmml" xref="S4.p8.12.m11.1.1">subscript</csymbol><ci id="S4.p8.12.m11.1.1.2.cmml" xref="S4.p8.12.m11.1.1.2">𝑒</ci><cn type="integer" id="S4.p8.12.m11.1.1.3.cmml" xref="S4.p8.12.m11.1.1.3">4</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.12.m11.1c">e_{4}</annotation></semantics></math> is the least important and <math id="S4.p8.13.m12.1" class="ltx_Math" alttext="e_{1}" display="inline"><semantics id="S4.p8.13.m12.1a"><msub id="S4.p8.13.m12.1.1" xref="S4.p8.13.m12.1.1.cmml"><mi id="S4.p8.13.m12.1.1.2" xref="S4.p8.13.m12.1.1.2.cmml">e</mi><mn id="S4.p8.13.m12.1.1.3" xref="S4.p8.13.m12.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p8.13.m12.1b"><apply id="S4.p8.13.m12.1.1.cmml" xref="S4.p8.13.m12.1.1"><csymbol cd="ambiguous" id="S4.p8.13.m12.1.1.1.cmml" xref="S4.p8.13.m12.1.1">subscript</csymbol><ci id="S4.p8.13.m12.1.1.2.cmml" xref="S4.p8.13.m12.1.1.2">𝑒</ci><cn type="integer" id="S4.p8.13.m12.1.1.3.cmml" xref="S4.p8.13.m12.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.13.m12.1c">e_{1}</annotation></semantics></math> is the most important edge for <math id="S4.p8.14.m13.1" class="ltx_Math" alttext="C_{1}" display="inline"><semantics id="S4.p8.14.m13.1a"><msub id="S4.p8.14.m13.1.1" xref="S4.p8.14.m13.1.1.cmml"><mi id="S4.p8.14.m13.1.1.2" xref="S4.p8.14.m13.1.1.2.cmml">C</mi><mn id="S4.p8.14.m13.1.1.3" xref="S4.p8.14.m13.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p8.14.m13.1b"><apply id="S4.p8.14.m13.1.1.cmml" xref="S4.p8.14.m13.1.1"><csymbol cd="ambiguous" id="S4.p8.14.m13.1.1.1.cmml" xref="S4.p8.14.m13.1.1">subscript</csymbol><ci id="S4.p8.14.m13.1.1.2.cmml" xref="S4.p8.14.m13.1.1.2">𝐶</ci><cn type="integer" id="S4.p8.14.m13.1.1.3.cmml" xref="S4.p8.14.m13.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.14.m13.1c">C_{1}</annotation></semantics></math>. Considering desired subnetwork size to be 50%, <math id="S4.p8.15.m14.1" class="ltx_Math" alttext="C_{1}" display="inline"><semantics id="S4.p8.15.m14.1a"><msub id="S4.p8.15.m14.1.1" xref="S4.p8.15.m14.1.1.cmml"><mi id="S4.p8.15.m14.1.1.2" xref="S4.p8.15.m14.1.1.2.cmml">C</mi><mn id="S4.p8.15.m14.1.1.3" xref="S4.p8.15.m14.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p8.15.m14.1b"><apply id="S4.p8.15.m14.1.1.cmml" xref="S4.p8.15.m14.1.1"><csymbol cd="ambiguous" id="S4.p8.15.m14.1.1.1.cmml" xref="S4.p8.15.m14.1.1">subscript</csymbol><ci id="S4.p8.15.m14.1.1.2.cmml" xref="S4.p8.15.m14.1.1.2">𝐶</ci><cn type="integer" id="S4.p8.15.m14.1.1.3.cmml" xref="S4.p8.15.m14.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p8.15.m14.1c">C_{1}</annotation></semantics></math> uses edges {3,5,1} in their final subnetwork in this round.</p>
</div>
<div id="S4.p9" class="ltx_para ltx_noindent">
<p id="S4.p9.21" class="ltx_p"><span id="S4.p9.1.1" class="ltx_text ltx_font_bold">Server: Majority Vote (For each round <math id="S4.p9.1.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.p9.1.1.m1.1a"><mi id="S4.p9.1.1.m1.1.1" xref="S4.p9.1.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.p9.1.1.m1.1b"><ci id="S4.p9.1.1.m1.1.1.cmml" xref="S4.p9.1.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.1.1.m1.1c">t</annotation></semantics></math>)</span> :
The server receives all the local rankings of the clients, i.e., <math id="S4.p9.2.m1.18" class="ltx_Math" alttext="\{R^{t}_{1,A},R^{t}_{2,A},R^{t}_{3,A},R^{t}_{4,B},R^{t}_{5,B},R^{t}_{6,C}\}" display="inline"><semantics id="S4.p9.2.m1.18a"><mrow id="S4.p9.2.m1.18.18.6" xref="S4.p9.2.m1.18.18.7.cmml"><mo stretchy="false" id="S4.p9.2.m1.18.18.6.7" xref="S4.p9.2.m1.18.18.7.cmml">{</mo><msubsup id="S4.p9.2.m1.13.13.1.1" xref="S4.p9.2.m1.13.13.1.1.cmml"><mi id="S4.p9.2.m1.13.13.1.1.2.2" xref="S4.p9.2.m1.13.13.1.1.2.2.cmml">R</mi><mrow id="S4.p9.2.m1.2.2.2.4" xref="S4.p9.2.m1.2.2.2.3.cmml"><mn id="S4.p9.2.m1.1.1.1.1" xref="S4.p9.2.m1.1.1.1.1.cmml">1</mn><mo id="S4.p9.2.m1.2.2.2.4.1" xref="S4.p9.2.m1.2.2.2.3.cmml">,</mo><mi id="S4.p9.2.m1.2.2.2.2" xref="S4.p9.2.m1.2.2.2.2.cmml">A</mi></mrow><mi id="S4.p9.2.m1.13.13.1.1.2.3" xref="S4.p9.2.m1.13.13.1.1.2.3.cmml">t</mi></msubsup><mo id="S4.p9.2.m1.18.18.6.8" xref="S4.p9.2.m1.18.18.7.cmml">,</mo><msubsup id="S4.p9.2.m1.14.14.2.2" xref="S4.p9.2.m1.14.14.2.2.cmml"><mi id="S4.p9.2.m1.14.14.2.2.2.2" xref="S4.p9.2.m1.14.14.2.2.2.2.cmml">R</mi><mrow id="S4.p9.2.m1.4.4.2.4" xref="S4.p9.2.m1.4.4.2.3.cmml"><mn id="S4.p9.2.m1.3.3.1.1" xref="S4.p9.2.m1.3.3.1.1.cmml">2</mn><mo id="S4.p9.2.m1.4.4.2.4.1" xref="S4.p9.2.m1.4.4.2.3.cmml">,</mo><mi id="S4.p9.2.m1.4.4.2.2" xref="S4.p9.2.m1.4.4.2.2.cmml">A</mi></mrow><mi id="S4.p9.2.m1.14.14.2.2.2.3" xref="S4.p9.2.m1.14.14.2.2.2.3.cmml">t</mi></msubsup><mo id="S4.p9.2.m1.18.18.6.9" xref="S4.p9.2.m1.18.18.7.cmml">,</mo><msubsup id="S4.p9.2.m1.15.15.3.3" xref="S4.p9.2.m1.15.15.3.3.cmml"><mi id="S4.p9.2.m1.15.15.3.3.2.2" xref="S4.p9.2.m1.15.15.3.3.2.2.cmml">R</mi><mrow id="S4.p9.2.m1.6.6.2.4" xref="S4.p9.2.m1.6.6.2.3.cmml"><mn id="S4.p9.2.m1.5.5.1.1" xref="S4.p9.2.m1.5.5.1.1.cmml">3</mn><mo id="S4.p9.2.m1.6.6.2.4.1" xref="S4.p9.2.m1.6.6.2.3.cmml">,</mo><mi id="S4.p9.2.m1.6.6.2.2" xref="S4.p9.2.m1.6.6.2.2.cmml">A</mi></mrow><mi id="S4.p9.2.m1.15.15.3.3.2.3" xref="S4.p9.2.m1.15.15.3.3.2.3.cmml">t</mi></msubsup><mo id="S4.p9.2.m1.18.18.6.10" xref="S4.p9.2.m1.18.18.7.cmml">,</mo><msubsup id="S4.p9.2.m1.16.16.4.4" xref="S4.p9.2.m1.16.16.4.4.cmml"><mi id="S4.p9.2.m1.16.16.4.4.2.2" xref="S4.p9.2.m1.16.16.4.4.2.2.cmml">R</mi><mrow id="S4.p9.2.m1.8.8.2.4" xref="S4.p9.2.m1.8.8.2.3.cmml"><mn id="S4.p9.2.m1.7.7.1.1" xref="S4.p9.2.m1.7.7.1.1.cmml">4</mn><mo id="S4.p9.2.m1.8.8.2.4.1" xref="S4.p9.2.m1.8.8.2.3.cmml">,</mo><mi id="S4.p9.2.m1.8.8.2.2" xref="S4.p9.2.m1.8.8.2.2.cmml">B</mi></mrow><mi id="S4.p9.2.m1.16.16.4.4.2.3" xref="S4.p9.2.m1.16.16.4.4.2.3.cmml">t</mi></msubsup><mo id="S4.p9.2.m1.18.18.6.11" xref="S4.p9.2.m1.18.18.7.cmml">,</mo><msubsup id="S4.p9.2.m1.17.17.5.5" xref="S4.p9.2.m1.17.17.5.5.cmml"><mi id="S4.p9.2.m1.17.17.5.5.2.2" xref="S4.p9.2.m1.17.17.5.5.2.2.cmml">R</mi><mrow id="S4.p9.2.m1.10.10.2.4" xref="S4.p9.2.m1.10.10.2.3.cmml"><mn id="S4.p9.2.m1.9.9.1.1" xref="S4.p9.2.m1.9.9.1.1.cmml">5</mn><mo id="S4.p9.2.m1.10.10.2.4.1" xref="S4.p9.2.m1.10.10.2.3.cmml">,</mo><mi id="S4.p9.2.m1.10.10.2.2" xref="S4.p9.2.m1.10.10.2.2.cmml">B</mi></mrow><mi id="S4.p9.2.m1.17.17.5.5.2.3" xref="S4.p9.2.m1.17.17.5.5.2.3.cmml">t</mi></msubsup><mo id="S4.p9.2.m1.18.18.6.12" xref="S4.p9.2.m1.18.18.7.cmml">,</mo><msubsup id="S4.p9.2.m1.18.18.6.6" xref="S4.p9.2.m1.18.18.6.6.cmml"><mi id="S4.p9.2.m1.18.18.6.6.2.2" xref="S4.p9.2.m1.18.18.6.6.2.2.cmml">R</mi><mrow id="S4.p9.2.m1.12.12.2.4" xref="S4.p9.2.m1.12.12.2.3.cmml"><mn id="S4.p9.2.m1.11.11.1.1" xref="S4.p9.2.m1.11.11.1.1.cmml">6</mn><mo id="S4.p9.2.m1.12.12.2.4.1" xref="S4.p9.2.m1.12.12.2.3.cmml">,</mo><mi id="S4.p9.2.m1.12.12.2.2" xref="S4.p9.2.m1.12.12.2.2.cmml">C</mi></mrow><mi id="S4.p9.2.m1.18.18.6.6.2.3" xref="S4.p9.2.m1.18.18.6.6.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="S4.p9.2.m1.18.18.6.13" xref="S4.p9.2.m1.18.18.7.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p9.2.m1.18b"><set id="S4.p9.2.m1.18.18.7.cmml" xref="S4.p9.2.m1.18.18.6"><apply id="S4.p9.2.m1.13.13.1.1.cmml" xref="S4.p9.2.m1.13.13.1.1"><csymbol cd="ambiguous" id="S4.p9.2.m1.13.13.1.1.1.cmml" xref="S4.p9.2.m1.13.13.1.1">subscript</csymbol><apply id="S4.p9.2.m1.13.13.1.1.2.cmml" xref="S4.p9.2.m1.13.13.1.1"><csymbol cd="ambiguous" id="S4.p9.2.m1.13.13.1.1.2.1.cmml" xref="S4.p9.2.m1.13.13.1.1">superscript</csymbol><ci id="S4.p9.2.m1.13.13.1.1.2.2.cmml" xref="S4.p9.2.m1.13.13.1.1.2.2">𝑅</ci><ci id="S4.p9.2.m1.13.13.1.1.2.3.cmml" xref="S4.p9.2.m1.13.13.1.1.2.3">𝑡</ci></apply><list id="S4.p9.2.m1.2.2.2.3.cmml" xref="S4.p9.2.m1.2.2.2.4"><cn type="integer" id="S4.p9.2.m1.1.1.1.1.cmml" xref="S4.p9.2.m1.1.1.1.1">1</cn><ci id="S4.p9.2.m1.2.2.2.2.cmml" xref="S4.p9.2.m1.2.2.2.2">𝐴</ci></list></apply><apply id="S4.p9.2.m1.14.14.2.2.cmml" xref="S4.p9.2.m1.14.14.2.2"><csymbol cd="ambiguous" id="S4.p9.2.m1.14.14.2.2.1.cmml" xref="S4.p9.2.m1.14.14.2.2">subscript</csymbol><apply id="S4.p9.2.m1.14.14.2.2.2.cmml" xref="S4.p9.2.m1.14.14.2.2"><csymbol cd="ambiguous" id="S4.p9.2.m1.14.14.2.2.2.1.cmml" xref="S4.p9.2.m1.14.14.2.2">superscript</csymbol><ci id="S4.p9.2.m1.14.14.2.2.2.2.cmml" xref="S4.p9.2.m1.14.14.2.2.2.2">𝑅</ci><ci id="S4.p9.2.m1.14.14.2.2.2.3.cmml" xref="S4.p9.2.m1.14.14.2.2.2.3">𝑡</ci></apply><list id="S4.p9.2.m1.4.4.2.3.cmml" xref="S4.p9.2.m1.4.4.2.4"><cn type="integer" id="S4.p9.2.m1.3.3.1.1.cmml" xref="S4.p9.2.m1.3.3.1.1">2</cn><ci id="S4.p9.2.m1.4.4.2.2.cmml" xref="S4.p9.2.m1.4.4.2.2">𝐴</ci></list></apply><apply id="S4.p9.2.m1.15.15.3.3.cmml" xref="S4.p9.2.m1.15.15.3.3"><csymbol cd="ambiguous" id="S4.p9.2.m1.15.15.3.3.1.cmml" xref="S4.p9.2.m1.15.15.3.3">subscript</csymbol><apply id="S4.p9.2.m1.15.15.3.3.2.cmml" xref="S4.p9.2.m1.15.15.3.3"><csymbol cd="ambiguous" id="S4.p9.2.m1.15.15.3.3.2.1.cmml" xref="S4.p9.2.m1.15.15.3.3">superscript</csymbol><ci id="S4.p9.2.m1.15.15.3.3.2.2.cmml" xref="S4.p9.2.m1.15.15.3.3.2.2">𝑅</ci><ci id="S4.p9.2.m1.15.15.3.3.2.3.cmml" xref="S4.p9.2.m1.15.15.3.3.2.3">𝑡</ci></apply><list id="S4.p9.2.m1.6.6.2.3.cmml" xref="S4.p9.2.m1.6.6.2.4"><cn type="integer" id="S4.p9.2.m1.5.5.1.1.cmml" xref="S4.p9.2.m1.5.5.1.1">3</cn><ci id="S4.p9.2.m1.6.6.2.2.cmml" xref="S4.p9.2.m1.6.6.2.2">𝐴</ci></list></apply><apply id="S4.p9.2.m1.16.16.4.4.cmml" xref="S4.p9.2.m1.16.16.4.4"><csymbol cd="ambiguous" id="S4.p9.2.m1.16.16.4.4.1.cmml" xref="S4.p9.2.m1.16.16.4.4">subscript</csymbol><apply id="S4.p9.2.m1.16.16.4.4.2.cmml" xref="S4.p9.2.m1.16.16.4.4"><csymbol cd="ambiguous" id="S4.p9.2.m1.16.16.4.4.2.1.cmml" xref="S4.p9.2.m1.16.16.4.4">superscript</csymbol><ci id="S4.p9.2.m1.16.16.4.4.2.2.cmml" xref="S4.p9.2.m1.16.16.4.4.2.2">𝑅</ci><ci id="S4.p9.2.m1.16.16.4.4.2.3.cmml" xref="S4.p9.2.m1.16.16.4.4.2.3">𝑡</ci></apply><list id="S4.p9.2.m1.8.8.2.3.cmml" xref="S4.p9.2.m1.8.8.2.4"><cn type="integer" id="S4.p9.2.m1.7.7.1.1.cmml" xref="S4.p9.2.m1.7.7.1.1">4</cn><ci id="S4.p9.2.m1.8.8.2.2.cmml" xref="S4.p9.2.m1.8.8.2.2">𝐵</ci></list></apply><apply id="S4.p9.2.m1.17.17.5.5.cmml" xref="S4.p9.2.m1.17.17.5.5"><csymbol cd="ambiguous" id="S4.p9.2.m1.17.17.5.5.1.cmml" xref="S4.p9.2.m1.17.17.5.5">subscript</csymbol><apply id="S4.p9.2.m1.17.17.5.5.2.cmml" xref="S4.p9.2.m1.17.17.5.5"><csymbol cd="ambiguous" id="S4.p9.2.m1.17.17.5.5.2.1.cmml" xref="S4.p9.2.m1.17.17.5.5">superscript</csymbol><ci id="S4.p9.2.m1.17.17.5.5.2.2.cmml" xref="S4.p9.2.m1.17.17.5.5.2.2">𝑅</ci><ci id="S4.p9.2.m1.17.17.5.5.2.3.cmml" xref="S4.p9.2.m1.17.17.5.5.2.3">𝑡</ci></apply><list id="S4.p9.2.m1.10.10.2.3.cmml" xref="S4.p9.2.m1.10.10.2.4"><cn type="integer" id="S4.p9.2.m1.9.9.1.1.cmml" xref="S4.p9.2.m1.9.9.1.1">5</cn><ci id="S4.p9.2.m1.10.10.2.2.cmml" xref="S4.p9.2.m1.10.10.2.2">𝐵</ci></list></apply><apply id="S4.p9.2.m1.18.18.6.6.cmml" xref="S4.p9.2.m1.18.18.6.6"><csymbol cd="ambiguous" id="S4.p9.2.m1.18.18.6.6.1.cmml" xref="S4.p9.2.m1.18.18.6.6">subscript</csymbol><apply id="S4.p9.2.m1.18.18.6.6.2.cmml" xref="S4.p9.2.m1.18.18.6.6"><csymbol cd="ambiguous" id="S4.p9.2.m1.18.18.6.6.2.1.cmml" xref="S4.p9.2.m1.18.18.6.6">superscript</csymbol><ci id="S4.p9.2.m1.18.18.6.6.2.2.cmml" xref="S4.p9.2.m1.18.18.6.6.2.2">𝑅</ci><ci id="S4.p9.2.m1.18.18.6.6.2.3.cmml" xref="S4.p9.2.m1.18.18.6.6.2.3">𝑡</ci></apply><list id="S4.p9.2.m1.12.12.2.3.cmml" xref="S4.p9.2.m1.12.12.2.4"><cn type="integer" id="S4.p9.2.m1.11.11.1.1.cmml" xref="S4.p9.2.m1.11.11.1.1">6</cn><ci id="S4.p9.2.m1.12.12.2.2.cmml" xref="S4.p9.2.m1.12.12.2.2">𝐶</ci></list></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.2.m1.18c">\{R^{t}_{1,A},R^{t}_{2,A},R^{t}_{3,A},R^{t}_{4,B},R^{t}_{5,B},R^{t}_{6,C}\}</annotation></semantics></math>.
Then, it performs a majority vote over all the local rankings inside each group, i.e., <math id="S4.p9.3.m2.3" class="ltx_Math" alttext="\{A,B,C\}" display="inline"><semantics id="S4.p9.3.m2.3a"><mrow id="S4.p9.3.m2.3.4.2" xref="S4.p9.3.m2.3.4.1.cmml"><mo stretchy="false" id="S4.p9.3.m2.3.4.2.1" xref="S4.p9.3.m2.3.4.1.cmml">{</mo><mi id="S4.p9.3.m2.1.1" xref="S4.p9.3.m2.1.1.cmml">A</mi><mo id="S4.p9.3.m2.3.4.2.2" xref="S4.p9.3.m2.3.4.1.cmml">,</mo><mi id="S4.p9.3.m2.2.2" xref="S4.p9.3.m2.2.2.cmml">B</mi><mo id="S4.p9.3.m2.3.4.2.3" xref="S4.p9.3.m2.3.4.1.cmml">,</mo><mi id="S4.p9.3.m2.3.3" xref="S4.p9.3.m2.3.3.cmml">C</mi><mo stretchy="false" id="S4.p9.3.m2.3.4.2.4" xref="S4.p9.3.m2.3.4.1.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p9.3.m2.3b"><set id="S4.p9.3.m2.3.4.1.cmml" xref="S4.p9.3.m2.3.4.2"><ci id="S4.p9.3.m2.1.1.cmml" xref="S4.p9.3.m2.1.1">𝐴</ci><ci id="S4.p9.3.m2.2.2.cmml" xref="S4.p9.3.m2.2.2">𝐵</ci><ci id="S4.p9.3.m2.3.3.cmml" xref="S4.p9.3.m2.3.3">𝐶</ci></set></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.3.m2.3c">\{A,B,C\}</annotation></semantics></math>. We depict this in Figure <a href="#S4.F2" title="Figure 2 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>- <svg id="S4.p9.4.pic1" class="ltx_picture" height="18.1" overflow="visible" version="1.1" width="18.1"><g transform="translate(0,18.1) matrix(1 0 0 -1 0 0) translate(9.05,0) translate(0,9.05)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 8.77 0 C 8.77 4.85 4.85 8.77 0 8.77 C -4.85 8.77 -8.77 4.85 -8.77 0 C -8.77 -4.85 -4.85 -8.77 0 -8.77 C 4.85 -8.77 8.77 -4.85 8.77 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -6.92 -4.46)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.p9.4.pic1.1.1.1.1.1" class="ltx_text">3a</span></foreignObject></g></g></svg>.
Note that, for group <math id="S4.p9.5.m3.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p9.5.m3.1a"><mi id="S4.p9.5.m3.1.1" xref="S4.p9.5.m3.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p9.5.m3.1b"><ci id="S4.p9.5.m3.1.1.cmml" xref="S4.p9.5.m3.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.5.m3.1c">q</annotation></semantics></math>, the index <math id="S4.p9.6.m4.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.p9.6.m4.1a"><mi id="S4.p9.6.m4.1.1" xref="S4.p9.6.m4.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p9.6.m4.1b"><ci id="S4.p9.6.m4.1.1.cmml" xref="S4.p9.6.m4.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.6.m4.1c">i</annotation></semantics></math> in <math id="S4.p9.7.m5.2" class="ltx_Math" alttext="{R^{t+1}_{g,q}}" display="inline"><semantics id="S4.p9.7.m5.2a"><msubsup id="S4.p9.7.m5.2.3" xref="S4.p9.7.m5.2.3.cmml"><mi id="S4.p9.7.m5.2.3.2.2" xref="S4.p9.7.m5.2.3.2.2.cmml">R</mi><mrow id="S4.p9.7.m5.2.2.2.4" xref="S4.p9.7.m5.2.2.2.3.cmml"><mi id="S4.p9.7.m5.1.1.1.1" xref="S4.p9.7.m5.1.1.1.1.cmml">g</mi><mo id="S4.p9.7.m5.2.2.2.4.1" xref="S4.p9.7.m5.2.2.2.3.cmml">,</mo><mi id="S4.p9.7.m5.2.2.2.2" xref="S4.p9.7.m5.2.2.2.2.cmml">q</mi></mrow><mrow id="S4.p9.7.m5.2.3.2.3" xref="S4.p9.7.m5.2.3.2.3.cmml"><mi id="S4.p9.7.m5.2.3.2.3.2" xref="S4.p9.7.m5.2.3.2.3.2.cmml">t</mi><mo id="S4.p9.7.m5.2.3.2.3.1" xref="S4.p9.7.m5.2.3.2.3.1.cmml">+</mo><mn id="S4.p9.7.m5.2.3.2.3.3" xref="S4.p9.7.m5.2.3.2.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S4.p9.7.m5.2b"><apply id="S4.p9.7.m5.2.3.cmml" xref="S4.p9.7.m5.2.3"><csymbol cd="ambiguous" id="S4.p9.7.m5.2.3.1.cmml" xref="S4.p9.7.m5.2.3">subscript</csymbol><apply id="S4.p9.7.m5.2.3.2.cmml" xref="S4.p9.7.m5.2.3"><csymbol cd="ambiguous" id="S4.p9.7.m5.2.3.2.1.cmml" xref="S4.p9.7.m5.2.3">superscript</csymbol><ci id="S4.p9.7.m5.2.3.2.2.cmml" xref="S4.p9.7.m5.2.3.2.2">𝑅</ci><apply id="S4.p9.7.m5.2.3.2.3.cmml" xref="S4.p9.7.m5.2.3.2.3"><plus id="S4.p9.7.m5.2.3.2.3.1.cmml" xref="S4.p9.7.m5.2.3.2.3.1"></plus><ci id="S4.p9.7.m5.2.3.2.3.2.cmml" xref="S4.p9.7.m5.2.3.2.3.2">𝑡</ci><cn type="integer" id="S4.p9.7.m5.2.3.2.3.3.cmml" xref="S4.p9.7.m5.2.3.2.3.3">1</cn></apply></apply><list id="S4.p9.7.m5.2.2.2.3.cmml" xref="S4.p9.7.m5.2.2.2.4"><ci id="S4.p9.7.m5.1.1.1.1.cmml" xref="S4.p9.7.m5.1.1.1.1">𝑔</ci><ci id="S4.p9.7.m5.2.2.2.2.cmml" xref="S4.p9.7.m5.2.2.2.2">𝑞</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.7.m5.2c">{R^{t+1}_{g,q}}</annotation></semantics></math> represents the importance of the edge <math id="S4.p9.8.m6.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S4.p9.8.m6.1a"><mi id="S4.p9.8.m6.1.1" xref="S4.p9.8.m6.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S4.p9.8.m6.1b"><ci id="S4.p9.8.m6.1.1.cmml" xref="S4.p9.8.m6.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.8.m6.1c">i</annotation></semantics></math>th for clients in group <math id="S4.p9.9.m7.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p9.9.m7.1a"><mi id="S4.p9.9.m7.1.1" xref="S4.p9.9.m7.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p9.9.m7.1b"><ci id="S4.p9.9.m7.1.1.cmml" xref="S4.p9.9.m7.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.9.m7.1c">q</annotation></semantics></math>.
For instance, in Figure <a href="#S4.F2" title="Figure 2 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>- <svg id="S4.p9.10.pic2" class="ltx_picture" height="18.1" overflow="visible" version="1.1" width="18.1"><g transform="translate(0,18.1) matrix(1 0 0 -1 0 0) translate(9.05,0) translate(0,9.05)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 8.77 0 C 8.77 4.85 4.85 8.77 0 8.77 C -4.85 8.77 -8.77 4.85 -8.77 0 C -8.77 -4.85 -4.85 -8.77 0 -8.77 C 4.85 -8.77 8.77 -4.85 8.77 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -6.92 -4.46)" fill="#000000" stroke="#000000"><foreignObject width="13.84" height="8.92" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.p9.10.pic2.1.1.1.1.1" class="ltx_text">3a</span></foreignObject></g></g></svg>, rankings of <math id="S4.p9.11.m8.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S4.p9.11.m8.1a"><mi id="S4.p9.11.m8.1.1" xref="S4.p9.11.m8.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.p9.11.m8.1b"><ci id="S4.p9.11.m8.1.1.cmml" xref="S4.p9.11.m8.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.11.m8.1c">A</annotation></semantics></math> are <math id="S4.p9.12.m9.8" class="ltx_Math" alttext="R^{t}_{g,A}=[0,2,4,5,3,1]" display="inline"><semantics id="S4.p9.12.m9.8a"><mrow id="S4.p9.12.m9.8.9" xref="S4.p9.12.m9.8.9.cmml"><msubsup id="S4.p9.12.m9.8.9.2" xref="S4.p9.12.m9.8.9.2.cmml"><mi id="S4.p9.12.m9.8.9.2.2.2" xref="S4.p9.12.m9.8.9.2.2.2.cmml">R</mi><mrow id="S4.p9.12.m9.2.2.2.4" xref="S4.p9.12.m9.2.2.2.3.cmml"><mi id="S4.p9.12.m9.1.1.1.1" xref="S4.p9.12.m9.1.1.1.1.cmml">g</mi><mo id="S4.p9.12.m9.2.2.2.4.1" xref="S4.p9.12.m9.2.2.2.3.cmml">,</mo><mi id="S4.p9.12.m9.2.2.2.2" xref="S4.p9.12.m9.2.2.2.2.cmml">A</mi></mrow><mi id="S4.p9.12.m9.8.9.2.2.3" xref="S4.p9.12.m9.8.9.2.2.3.cmml">t</mi></msubsup><mo id="S4.p9.12.m9.8.9.1" xref="S4.p9.12.m9.8.9.1.cmml">=</mo><mrow id="S4.p9.12.m9.8.9.3.2" xref="S4.p9.12.m9.8.9.3.1.cmml"><mo stretchy="false" id="S4.p9.12.m9.8.9.3.2.1" xref="S4.p9.12.m9.8.9.3.1.cmml">[</mo><mn id="S4.p9.12.m9.3.3" xref="S4.p9.12.m9.3.3.cmml">0</mn><mo id="S4.p9.12.m9.8.9.3.2.2" xref="S4.p9.12.m9.8.9.3.1.cmml">,</mo><mn id="S4.p9.12.m9.4.4" xref="S4.p9.12.m9.4.4.cmml">2</mn><mo id="S4.p9.12.m9.8.9.3.2.3" xref="S4.p9.12.m9.8.9.3.1.cmml">,</mo><mn id="S4.p9.12.m9.5.5" xref="S4.p9.12.m9.5.5.cmml">4</mn><mo id="S4.p9.12.m9.8.9.3.2.4" xref="S4.p9.12.m9.8.9.3.1.cmml">,</mo><mn id="S4.p9.12.m9.6.6" xref="S4.p9.12.m9.6.6.cmml">5</mn><mo id="S4.p9.12.m9.8.9.3.2.5" xref="S4.p9.12.m9.8.9.3.1.cmml">,</mo><mn id="S4.p9.12.m9.7.7" xref="S4.p9.12.m9.7.7.cmml">3</mn><mo id="S4.p9.12.m9.8.9.3.2.6" xref="S4.p9.12.m9.8.9.3.1.cmml">,</mo><mn id="S4.p9.12.m9.8.8" xref="S4.p9.12.m9.8.8.cmml">1</mn><mo stretchy="false" id="S4.p9.12.m9.8.9.3.2.7" xref="S4.p9.12.m9.8.9.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p9.12.m9.8b"><apply id="S4.p9.12.m9.8.9.cmml" xref="S4.p9.12.m9.8.9"><eq id="S4.p9.12.m9.8.9.1.cmml" xref="S4.p9.12.m9.8.9.1"></eq><apply id="S4.p9.12.m9.8.9.2.cmml" xref="S4.p9.12.m9.8.9.2"><csymbol cd="ambiguous" id="S4.p9.12.m9.8.9.2.1.cmml" xref="S4.p9.12.m9.8.9.2">subscript</csymbol><apply id="S4.p9.12.m9.8.9.2.2.cmml" xref="S4.p9.12.m9.8.9.2"><csymbol cd="ambiguous" id="S4.p9.12.m9.8.9.2.2.1.cmml" xref="S4.p9.12.m9.8.9.2">superscript</csymbol><ci id="S4.p9.12.m9.8.9.2.2.2.cmml" xref="S4.p9.12.m9.8.9.2.2.2">𝑅</ci><ci id="S4.p9.12.m9.8.9.2.2.3.cmml" xref="S4.p9.12.m9.8.9.2.2.3">𝑡</ci></apply><list id="S4.p9.12.m9.2.2.2.3.cmml" xref="S4.p9.12.m9.2.2.2.4"><ci id="S4.p9.12.m9.1.1.1.1.cmml" xref="S4.p9.12.m9.1.1.1.1">𝑔</ci><ci id="S4.p9.12.m9.2.2.2.2.cmml" xref="S4.p9.12.m9.2.2.2.2">𝐴</ci></list></apply><list id="S4.p9.12.m9.8.9.3.1.cmml" xref="S4.p9.12.m9.8.9.3.2"><cn type="integer" id="S4.p9.12.m9.3.3.cmml" xref="S4.p9.12.m9.3.3">0</cn><cn type="integer" id="S4.p9.12.m9.4.4.cmml" xref="S4.p9.12.m9.4.4">2</cn><cn type="integer" id="S4.p9.12.m9.5.5.cmml" xref="S4.p9.12.m9.5.5">4</cn><cn type="integer" id="S4.p9.12.m9.6.6.cmml" xref="S4.p9.12.m9.6.6">5</cn><cn type="integer" id="S4.p9.12.m9.7.7.cmml" xref="S4.p9.12.m9.7.7">3</cn><cn type="integer" id="S4.p9.12.m9.8.8.cmml" xref="S4.p9.12.m9.8.8">1</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.12.m9.8c">R^{t}_{g,A}=[0,2,4,5,3,1]</annotation></semantics></math> and rankings of <math id="S4.p9.13.m10.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.p9.13.m10.1a"><mi id="S4.p9.13.m10.1.1" xref="S4.p9.13.m10.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.p9.13.m10.1b"><ci id="S4.p9.13.m10.1.1.cmml" xref="S4.p9.13.m10.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.13.m10.1c">B</annotation></semantics></math> are <math id="S4.p9.14.m11.8" class="ltx_Math" alttext="R^{t}_{g,B}=[0,2,3,1,4,5]" display="inline"><semantics id="S4.p9.14.m11.8a"><mrow id="S4.p9.14.m11.8.9" xref="S4.p9.14.m11.8.9.cmml"><msubsup id="S4.p9.14.m11.8.9.2" xref="S4.p9.14.m11.8.9.2.cmml"><mi id="S4.p9.14.m11.8.9.2.2.2" xref="S4.p9.14.m11.8.9.2.2.2.cmml">R</mi><mrow id="S4.p9.14.m11.2.2.2.4" xref="S4.p9.14.m11.2.2.2.3.cmml"><mi id="S4.p9.14.m11.1.1.1.1" xref="S4.p9.14.m11.1.1.1.1.cmml">g</mi><mo id="S4.p9.14.m11.2.2.2.4.1" xref="S4.p9.14.m11.2.2.2.3.cmml">,</mo><mi id="S4.p9.14.m11.2.2.2.2" xref="S4.p9.14.m11.2.2.2.2.cmml">B</mi></mrow><mi id="S4.p9.14.m11.8.9.2.2.3" xref="S4.p9.14.m11.8.9.2.2.3.cmml">t</mi></msubsup><mo id="S4.p9.14.m11.8.9.1" xref="S4.p9.14.m11.8.9.1.cmml">=</mo><mrow id="S4.p9.14.m11.8.9.3.2" xref="S4.p9.14.m11.8.9.3.1.cmml"><mo stretchy="false" id="S4.p9.14.m11.8.9.3.2.1" xref="S4.p9.14.m11.8.9.3.1.cmml">[</mo><mn id="S4.p9.14.m11.3.3" xref="S4.p9.14.m11.3.3.cmml">0</mn><mo id="S4.p9.14.m11.8.9.3.2.2" xref="S4.p9.14.m11.8.9.3.1.cmml">,</mo><mn id="S4.p9.14.m11.4.4" xref="S4.p9.14.m11.4.4.cmml">2</mn><mo id="S4.p9.14.m11.8.9.3.2.3" xref="S4.p9.14.m11.8.9.3.1.cmml">,</mo><mn id="S4.p9.14.m11.5.5" xref="S4.p9.14.m11.5.5.cmml">3</mn><mo id="S4.p9.14.m11.8.9.3.2.4" xref="S4.p9.14.m11.8.9.3.1.cmml">,</mo><mn id="S4.p9.14.m11.6.6" xref="S4.p9.14.m11.6.6.cmml">1</mn><mo id="S4.p9.14.m11.8.9.3.2.5" xref="S4.p9.14.m11.8.9.3.1.cmml">,</mo><mn id="S4.p9.14.m11.7.7" xref="S4.p9.14.m11.7.7.cmml">4</mn><mo id="S4.p9.14.m11.8.9.3.2.6" xref="S4.p9.14.m11.8.9.3.1.cmml">,</mo><mn id="S4.p9.14.m11.8.8" xref="S4.p9.14.m11.8.8.cmml">5</mn><mo stretchy="false" id="S4.p9.14.m11.8.9.3.2.7" xref="S4.p9.14.m11.8.9.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p9.14.m11.8b"><apply id="S4.p9.14.m11.8.9.cmml" xref="S4.p9.14.m11.8.9"><eq id="S4.p9.14.m11.8.9.1.cmml" xref="S4.p9.14.m11.8.9.1"></eq><apply id="S4.p9.14.m11.8.9.2.cmml" xref="S4.p9.14.m11.8.9.2"><csymbol cd="ambiguous" id="S4.p9.14.m11.8.9.2.1.cmml" xref="S4.p9.14.m11.8.9.2">subscript</csymbol><apply id="S4.p9.14.m11.8.9.2.2.cmml" xref="S4.p9.14.m11.8.9.2"><csymbol cd="ambiguous" id="S4.p9.14.m11.8.9.2.2.1.cmml" xref="S4.p9.14.m11.8.9.2">superscript</csymbol><ci id="S4.p9.14.m11.8.9.2.2.2.cmml" xref="S4.p9.14.m11.8.9.2.2.2">𝑅</ci><ci id="S4.p9.14.m11.8.9.2.2.3.cmml" xref="S4.p9.14.m11.8.9.2.2.3">𝑡</ci></apply><list id="S4.p9.14.m11.2.2.2.3.cmml" xref="S4.p9.14.m11.2.2.2.4"><ci id="S4.p9.14.m11.1.1.1.1.cmml" xref="S4.p9.14.m11.1.1.1.1">𝑔</ci><ci id="S4.p9.14.m11.2.2.2.2.cmml" xref="S4.p9.14.m11.2.2.2.2">𝐵</ci></list></apply><list id="S4.p9.14.m11.8.9.3.1.cmml" xref="S4.p9.14.m11.8.9.3.2"><cn type="integer" id="S4.p9.14.m11.3.3.cmml" xref="S4.p9.14.m11.3.3">0</cn><cn type="integer" id="S4.p9.14.m11.4.4.cmml" xref="S4.p9.14.m11.4.4">2</cn><cn type="integer" id="S4.p9.14.m11.5.5.cmml" xref="S4.p9.14.m11.5.5">3</cn><cn type="integer" id="S4.p9.14.m11.6.6.cmml" xref="S4.p9.14.m11.6.6">1</cn><cn type="integer" id="S4.p9.14.m11.7.7.cmml" xref="S4.p9.14.m11.7.7">4</cn><cn type="integer" id="S4.p9.14.m11.8.8.cmml" xref="S4.p9.14.m11.8.8">5</cn></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.14.m11.8c">R^{t}_{g,B}=[0,2,3,1,4,5]</annotation></semantics></math>, hence the edge <math id="S4.p9.15.m12.1" class="ltx_Math" alttext="e_{1}" display="inline"><semantics id="S4.p9.15.m12.1a"><msub id="S4.p9.15.m12.1.1" xref="S4.p9.15.m12.1.1.cmml"><mi id="S4.p9.15.m12.1.1.2" xref="S4.p9.15.m12.1.1.2.cmml">e</mi><mn id="S4.p9.15.m12.1.1.3" xref="S4.p9.15.m12.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p9.15.m12.1b"><apply id="S4.p9.15.m12.1.1.cmml" xref="S4.p9.15.m12.1.1"><csymbol cd="ambiguous" id="S4.p9.15.m12.1.1.1.cmml" xref="S4.p9.15.m12.1.1">subscript</csymbol><ci id="S4.p9.15.m12.1.1.2.cmml" xref="S4.p9.15.m12.1.1.2">𝑒</ci><cn type="integer" id="S4.p9.15.m12.1.1.3.cmml" xref="S4.p9.15.m12.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.15.m12.1c">e_{1}</annotation></semantics></math> is the most important edge for group <math id="S4.p9.16.m13.1" class="ltx_Math" alttext="A" display="inline"><semantics id="S4.p9.16.m13.1a"><mi id="S4.p9.16.m13.1.1" xref="S4.p9.16.m13.1.1.cmml">A</mi><annotation-xml encoding="MathML-Content" id="S4.p9.16.m13.1b"><ci id="S4.p9.16.m13.1.1.cmml" xref="S4.p9.16.m13.1.1">𝐴</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.16.m13.1c">A</annotation></semantics></math>, while the edge <math id="S4.p9.17.m14.1" class="ltx_Math" alttext="e_{5}" display="inline"><semantics id="S4.p9.17.m14.1a"><msub id="S4.p9.17.m14.1.1" xref="S4.p9.17.m14.1.1.cmml"><mi id="S4.p9.17.m14.1.1.2" xref="S4.p9.17.m14.1.1.2.cmml">e</mi><mn id="S4.p9.17.m14.1.1.3" xref="S4.p9.17.m14.1.1.3.cmml">5</mn></msub><annotation-xml encoding="MathML-Content" id="S4.p9.17.m14.1b"><apply id="S4.p9.17.m14.1.1.cmml" xref="S4.p9.17.m14.1.1"><csymbol cd="ambiguous" id="S4.p9.17.m14.1.1.1.cmml" xref="S4.p9.17.m14.1.1">subscript</csymbol><ci id="S4.p9.17.m14.1.1.2.cmml" xref="S4.p9.17.m14.1.1.2">𝑒</ci><cn type="integer" id="S4.p9.17.m14.1.1.3.cmml" xref="S4.p9.17.m14.1.1.3">5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.17.m14.1c">e_{5}</annotation></semantics></math> is the most important edge for group <math id="S4.p9.18.m15.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S4.p9.18.m15.1a"><mi id="S4.p9.18.m15.1.1" xref="S4.p9.18.m15.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S4.p9.18.m15.1b"><ci id="S4.p9.18.m15.1.1.cmml" xref="S4.p9.18.m15.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.18.m15.1c">B</annotation></semantics></math>.
Next, the server performs a majority vote over all the group rankings of different groups <math id="S4.p9.19.m16.9" class="ltx_Math" alttext="\{R^{t+1}_{g,A},R^{t+1}_{g,B},R^{t+1}_{g,C}\}" display="inline"><semantics id="S4.p9.19.m16.9a"><mrow id="S4.p9.19.m16.9.9.3" xref="S4.p9.19.m16.9.9.4.cmml"><mo stretchy="false" id="S4.p9.19.m16.9.9.3.4" xref="S4.p9.19.m16.9.9.4.cmml">{</mo><msubsup id="S4.p9.19.m16.7.7.1.1" xref="S4.p9.19.m16.7.7.1.1.cmml"><mi id="S4.p9.19.m16.7.7.1.1.2.2" xref="S4.p9.19.m16.7.7.1.1.2.2.cmml">R</mi><mrow id="S4.p9.19.m16.2.2.2.4" xref="S4.p9.19.m16.2.2.2.3.cmml"><mi id="S4.p9.19.m16.1.1.1.1" xref="S4.p9.19.m16.1.1.1.1.cmml">g</mi><mo id="S4.p9.19.m16.2.2.2.4.1" xref="S4.p9.19.m16.2.2.2.3.cmml">,</mo><mi id="S4.p9.19.m16.2.2.2.2" xref="S4.p9.19.m16.2.2.2.2.cmml">A</mi></mrow><mrow id="S4.p9.19.m16.7.7.1.1.2.3" xref="S4.p9.19.m16.7.7.1.1.2.3.cmml"><mi id="S4.p9.19.m16.7.7.1.1.2.3.2" xref="S4.p9.19.m16.7.7.1.1.2.3.2.cmml">t</mi><mo id="S4.p9.19.m16.7.7.1.1.2.3.1" xref="S4.p9.19.m16.7.7.1.1.2.3.1.cmml">+</mo><mn id="S4.p9.19.m16.7.7.1.1.2.3.3" xref="S4.p9.19.m16.7.7.1.1.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S4.p9.19.m16.9.9.3.5" xref="S4.p9.19.m16.9.9.4.cmml">,</mo><msubsup id="S4.p9.19.m16.8.8.2.2" xref="S4.p9.19.m16.8.8.2.2.cmml"><mi id="S4.p9.19.m16.8.8.2.2.2.2" xref="S4.p9.19.m16.8.8.2.2.2.2.cmml">R</mi><mrow id="S4.p9.19.m16.4.4.2.4" xref="S4.p9.19.m16.4.4.2.3.cmml"><mi id="S4.p9.19.m16.3.3.1.1" xref="S4.p9.19.m16.3.3.1.1.cmml">g</mi><mo id="S4.p9.19.m16.4.4.2.4.1" xref="S4.p9.19.m16.4.4.2.3.cmml">,</mo><mi id="S4.p9.19.m16.4.4.2.2" xref="S4.p9.19.m16.4.4.2.2.cmml">B</mi></mrow><mrow id="S4.p9.19.m16.8.8.2.2.2.3" xref="S4.p9.19.m16.8.8.2.2.2.3.cmml"><mi id="S4.p9.19.m16.8.8.2.2.2.3.2" xref="S4.p9.19.m16.8.8.2.2.2.3.2.cmml">t</mi><mo id="S4.p9.19.m16.8.8.2.2.2.3.1" xref="S4.p9.19.m16.8.8.2.2.2.3.1.cmml">+</mo><mn id="S4.p9.19.m16.8.8.2.2.2.3.3" xref="S4.p9.19.m16.8.8.2.2.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S4.p9.19.m16.9.9.3.6" xref="S4.p9.19.m16.9.9.4.cmml">,</mo><msubsup id="S4.p9.19.m16.9.9.3.3" xref="S4.p9.19.m16.9.9.3.3.cmml"><mi id="S4.p9.19.m16.9.9.3.3.2.2" xref="S4.p9.19.m16.9.9.3.3.2.2.cmml">R</mi><mrow id="S4.p9.19.m16.6.6.2.4" xref="S4.p9.19.m16.6.6.2.3.cmml"><mi id="S4.p9.19.m16.5.5.1.1" xref="S4.p9.19.m16.5.5.1.1.cmml">g</mi><mo id="S4.p9.19.m16.6.6.2.4.1" xref="S4.p9.19.m16.6.6.2.3.cmml">,</mo><mi id="S4.p9.19.m16.6.6.2.2" xref="S4.p9.19.m16.6.6.2.2.cmml">C</mi></mrow><mrow id="S4.p9.19.m16.9.9.3.3.2.3" xref="S4.p9.19.m16.9.9.3.3.2.3.cmml"><mi id="S4.p9.19.m16.9.9.3.3.2.3.2" xref="S4.p9.19.m16.9.9.3.3.2.3.2.cmml">t</mi><mo id="S4.p9.19.m16.9.9.3.3.2.3.1" xref="S4.p9.19.m16.9.9.3.3.2.3.1.cmml">+</mo><mn id="S4.p9.19.m16.9.9.3.3.2.3.3" xref="S4.p9.19.m16.9.9.3.3.2.3.3.cmml">1</mn></mrow></msubsup><mo stretchy="false" id="S4.p9.19.m16.9.9.3.7" xref="S4.p9.19.m16.9.9.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S4.p9.19.m16.9b"><set id="S4.p9.19.m16.9.9.4.cmml" xref="S4.p9.19.m16.9.9.3"><apply id="S4.p9.19.m16.7.7.1.1.cmml" xref="S4.p9.19.m16.7.7.1.1"><csymbol cd="ambiguous" id="S4.p9.19.m16.7.7.1.1.1.cmml" xref="S4.p9.19.m16.7.7.1.1">subscript</csymbol><apply id="S4.p9.19.m16.7.7.1.1.2.cmml" xref="S4.p9.19.m16.7.7.1.1"><csymbol cd="ambiguous" id="S4.p9.19.m16.7.7.1.1.2.1.cmml" xref="S4.p9.19.m16.7.7.1.1">superscript</csymbol><ci id="S4.p9.19.m16.7.7.1.1.2.2.cmml" xref="S4.p9.19.m16.7.7.1.1.2.2">𝑅</ci><apply id="S4.p9.19.m16.7.7.1.1.2.3.cmml" xref="S4.p9.19.m16.7.7.1.1.2.3"><plus id="S4.p9.19.m16.7.7.1.1.2.3.1.cmml" xref="S4.p9.19.m16.7.7.1.1.2.3.1"></plus><ci id="S4.p9.19.m16.7.7.1.1.2.3.2.cmml" xref="S4.p9.19.m16.7.7.1.1.2.3.2">𝑡</ci><cn type="integer" id="S4.p9.19.m16.7.7.1.1.2.3.3.cmml" xref="S4.p9.19.m16.7.7.1.1.2.3.3">1</cn></apply></apply><list id="S4.p9.19.m16.2.2.2.3.cmml" xref="S4.p9.19.m16.2.2.2.4"><ci id="S4.p9.19.m16.1.1.1.1.cmml" xref="S4.p9.19.m16.1.1.1.1">𝑔</ci><ci id="S4.p9.19.m16.2.2.2.2.cmml" xref="S4.p9.19.m16.2.2.2.2">𝐴</ci></list></apply><apply id="S4.p9.19.m16.8.8.2.2.cmml" xref="S4.p9.19.m16.8.8.2.2"><csymbol cd="ambiguous" id="S4.p9.19.m16.8.8.2.2.1.cmml" xref="S4.p9.19.m16.8.8.2.2">subscript</csymbol><apply id="S4.p9.19.m16.8.8.2.2.2.cmml" xref="S4.p9.19.m16.8.8.2.2"><csymbol cd="ambiguous" id="S4.p9.19.m16.8.8.2.2.2.1.cmml" xref="S4.p9.19.m16.8.8.2.2">superscript</csymbol><ci id="S4.p9.19.m16.8.8.2.2.2.2.cmml" xref="S4.p9.19.m16.8.8.2.2.2.2">𝑅</ci><apply id="S4.p9.19.m16.8.8.2.2.2.3.cmml" xref="S4.p9.19.m16.8.8.2.2.2.3"><plus id="S4.p9.19.m16.8.8.2.2.2.3.1.cmml" xref="S4.p9.19.m16.8.8.2.2.2.3.1"></plus><ci id="S4.p9.19.m16.8.8.2.2.2.3.2.cmml" xref="S4.p9.19.m16.8.8.2.2.2.3.2">𝑡</ci><cn type="integer" id="S4.p9.19.m16.8.8.2.2.2.3.3.cmml" xref="S4.p9.19.m16.8.8.2.2.2.3.3">1</cn></apply></apply><list id="S4.p9.19.m16.4.4.2.3.cmml" xref="S4.p9.19.m16.4.4.2.4"><ci id="S4.p9.19.m16.3.3.1.1.cmml" xref="S4.p9.19.m16.3.3.1.1">𝑔</ci><ci id="S4.p9.19.m16.4.4.2.2.cmml" xref="S4.p9.19.m16.4.4.2.2">𝐵</ci></list></apply><apply id="S4.p9.19.m16.9.9.3.3.cmml" xref="S4.p9.19.m16.9.9.3.3"><csymbol cd="ambiguous" id="S4.p9.19.m16.9.9.3.3.1.cmml" xref="S4.p9.19.m16.9.9.3.3">subscript</csymbol><apply id="S4.p9.19.m16.9.9.3.3.2.cmml" xref="S4.p9.19.m16.9.9.3.3"><csymbol cd="ambiguous" id="S4.p9.19.m16.9.9.3.3.2.1.cmml" xref="S4.p9.19.m16.9.9.3.3">superscript</csymbol><ci id="S4.p9.19.m16.9.9.3.3.2.2.cmml" xref="S4.p9.19.m16.9.9.3.3.2.2">𝑅</ci><apply id="S4.p9.19.m16.9.9.3.3.2.3.cmml" xref="S4.p9.19.m16.9.9.3.3.2.3"><plus id="S4.p9.19.m16.9.9.3.3.2.3.1.cmml" xref="S4.p9.19.m16.9.9.3.3.2.3.1"></plus><ci id="S4.p9.19.m16.9.9.3.3.2.3.2.cmml" xref="S4.p9.19.m16.9.9.3.3.2.3.2">𝑡</ci><cn type="integer" id="S4.p9.19.m16.9.9.3.3.2.3.3.cmml" xref="S4.p9.19.m16.9.9.3.3.2.3.3">1</cn></apply></apply><list id="S4.p9.19.m16.6.6.2.3.cmml" xref="S4.p9.19.m16.6.6.2.4"><ci id="S4.p9.19.m16.5.5.1.1.cmml" xref="S4.p9.19.m16.5.5.1.1">𝑔</ci><ci id="S4.p9.19.m16.6.6.2.2.cmml" xref="S4.p9.19.m16.6.6.2.2">𝐶</ci></list></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.19.m16.9c">\{R^{t+1}_{g,A},R^{t+1}_{g,B},R^{t+1}_{g,C}\}</annotation></semantics></math> to find the global ranking <math id="S4.p9.20.m17.1" class="ltx_Math" alttext="R_{g}^{t+1}" display="inline"><semantics id="S4.p9.20.m17.1a"><msubsup id="S4.p9.20.m17.1.1" xref="S4.p9.20.m17.1.1.cmml"><mi id="S4.p9.20.m17.1.1.2.2" xref="S4.p9.20.m17.1.1.2.2.cmml">R</mi><mi id="S4.p9.20.m17.1.1.2.3" xref="S4.p9.20.m17.1.1.2.3.cmml">g</mi><mrow id="S4.p9.20.m17.1.1.3" xref="S4.p9.20.m17.1.1.3.cmml"><mi id="S4.p9.20.m17.1.1.3.2" xref="S4.p9.20.m17.1.1.3.2.cmml">t</mi><mo id="S4.p9.20.m17.1.1.3.1" xref="S4.p9.20.m17.1.1.3.1.cmml">+</mo><mn id="S4.p9.20.m17.1.1.3.3" xref="S4.p9.20.m17.1.1.3.3.cmml">1</mn></mrow></msubsup><annotation-xml encoding="MathML-Content" id="S4.p9.20.m17.1b"><apply id="S4.p9.20.m17.1.1.cmml" xref="S4.p9.20.m17.1.1"><csymbol cd="ambiguous" id="S4.p9.20.m17.1.1.1.cmml" xref="S4.p9.20.m17.1.1">superscript</csymbol><apply id="S4.p9.20.m17.1.1.2.cmml" xref="S4.p9.20.m17.1.1"><csymbol cd="ambiguous" id="S4.p9.20.m17.1.1.2.1.cmml" xref="S4.p9.20.m17.1.1">subscript</csymbol><ci id="S4.p9.20.m17.1.1.2.2.cmml" xref="S4.p9.20.m17.1.1.2.2">𝑅</ci><ci id="S4.p9.20.m17.1.1.2.3.cmml" xref="S4.p9.20.m17.1.1.2.3">𝑔</ci></apply><apply id="S4.p9.20.m17.1.1.3.cmml" xref="S4.p9.20.m17.1.1.3"><plus id="S4.p9.20.m17.1.1.3.1.cmml" xref="S4.p9.20.m17.1.1.3.1"></plus><ci id="S4.p9.20.m17.1.1.3.2.cmml" xref="S4.p9.20.m17.1.1.3.2">𝑡</ci><cn type="integer" id="S4.p9.20.m17.1.1.3.3.cmml" xref="S4.p9.20.m17.1.1.3.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p9.20.m17.1c">R_{g}^{t+1}</annotation></semantics></math>. We depict this in Figure <a href="#S4.F2" title="Figure 2 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>- <svg id="S4.p9.21.pic3" class="ltx_picture" height="19.19" overflow="visible" version="1.1" width="19.19"><g transform="translate(0,19.19) matrix(1 0 0 -1 0 0) translate(9.6,0) translate(0,9.6)" fill="#000000" stroke="#000000" stroke-width="0.4pt"><path d="M 9.32 0 C 9.32 5.15 5.15 9.32 0 9.32 C -5.15 9.32 -9.32 5.15 -9.32 0 C -9.32 -5.15 -5.15 -9.32 0 -9.32 C 5.15 -9.32 9.32 -5.15 9.32 0 Z M 0 0" style="fill:none"></path><g transform="matrix(1.0 0.0 0.0 1.0 -7.3 -4.8)" fill="#000000" stroke="#000000"><foreignObject width="14.61" height="9.61" transform="matrix(1 0 0 -1 0 16.6)" overflow="visible"><span id="S4.p9.21.pic3.1.1.1.1.1" class="ltx_text">3b</span></foreignObject></g></g></svg>.</p>
</div>
<div id="S4.p10" class="ltx_para ltx_noindent">
<p id="S4.p10.1" class="ltx_p"><span id="S4.p10.1.1" class="ltx_text ltx_font_bold">E2FL provides both equity and equality.</span>  Equity is not the main goal of existing distributed learning systems because it can hurt the motivation of the majority of clients to participate in the FL. If we have a learning algorithm that provides equity, it has this constraint to allow the same contribution from all groups (i.e., majorities and minorities). This comes with the price of reducing the performance of the majorities, which can demotivate them to participate to learn a model.</p>
</div>
<div id="S4.p11" class="ltx_para">
<p id="S4.p11.9" class="ltx_p">E2FL provides both equity and equality.
In this algorithm, at the final round of the learning, instead of using the global ranking, each group uses its own group global rankings. The global rankings can provide better performances to the majority groups as they have access to more training data, so they can train better group global rankings.
For example, a client of handwriting style A will use <math id="S4.p11.1.m1.4" class="ltx_Math" alttext="f(x,\theta^{w}\bigodot M^{t}_{g,A})" display="inline"><semantics id="S4.p11.1.m1.4a"><mrow id="S4.p11.1.m1.4.4" xref="S4.p11.1.m1.4.4.cmml"><mi id="S4.p11.1.m1.4.4.3" xref="S4.p11.1.m1.4.4.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S4.p11.1.m1.4.4.2" xref="S4.p11.1.m1.4.4.2.cmml">​</mo><mrow id="S4.p11.1.m1.4.4.1.1" xref="S4.p11.1.m1.4.4.1.2.cmml"><mo stretchy="false" id="S4.p11.1.m1.4.4.1.1.2" xref="S4.p11.1.m1.4.4.1.2.cmml">(</mo><mi id="S4.p11.1.m1.3.3" xref="S4.p11.1.m1.3.3.cmml">x</mi><mo id="S4.p11.1.m1.4.4.1.1.3" xref="S4.p11.1.m1.4.4.1.2.cmml">,</mo><mrow id="S4.p11.1.m1.4.4.1.1.1" xref="S4.p11.1.m1.4.4.1.1.1.cmml"><msup id="S4.p11.1.m1.4.4.1.1.1.2" xref="S4.p11.1.m1.4.4.1.1.1.2.cmml"><mi id="S4.p11.1.m1.4.4.1.1.1.2.2" xref="S4.p11.1.m1.4.4.1.1.1.2.2.cmml">θ</mi><mi id="S4.p11.1.m1.4.4.1.1.1.2.3" xref="S4.p11.1.m1.4.4.1.1.1.2.3.cmml">w</mi></msup><mo lspace="0em" rspace="0em" id="S4.p11.1.m1.4.4.1.1.1.1" xref="S4.p11.1.m1.4.4.1.1.1.1.cmml">​</mo><mrow id="S4.p11.1.m1.4.4.1.1.1.3" xref="S4.p11.1.m1.4.4.1.1.1.3.cmml"><mo id="S4.p11.1.m1.4.4.1.1.1.3.1" xref="S4.p11.1.m1.4.4.1.1.1.3.1.cmml">⨀</mo><msubsup id="S4.p11.1.m1.4.4.1.1.1.3.2" xref="S4.p11.1.m1.4.4.1.1.1.3.2.cmml"><mi id="S4.p11.1.m1.4.4.1.1.1.3.2.2.2" xref="S4.p11.1.m1.4.4.1.1.1.3.2.2.2.cmml">M</mi><mrow id="S4.p11.1.m1.2.2.2.4" xref="S4.p11.1.m1.2.2.2.3.cmml"><mi id="S4.p11.1.m1.1.1.1.1" xref="S4.p11.1.m1.1.1.1.1.cmml">g</mi><mo id="S4.p11.1.m1.2.2.2.4.1" xref="S4.p11.1.m1.2.2.2.3.cmml">,</mo><mi id="S4.p11.1.m1.2.2.2.2" xref="S4.p11.1.m1.2.2.2.2.cmml">A</mi></mrow><mi id="S4.p11.1.m1.4.4.1.1.1.3.2.2.3" xref="S4.p11.1.m1.4.4.1.1.1.3.2.2.3.cmml">t</mi></msubsup></mrow></mrow><mo stretchy="false" id="S4.p11.1.m1.4.4.1.1.4" xref="S4.p11.1.m1.4.4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S4.p11.1.m1.4b"><apply id="S4.p11.1.m1.4.4.cmml" xref="S4.p11.1.m1.4.4"><times id="S4.p11.1.m1.4.4.2.cmml" xref="S4.p11.1.m1.4.4.2"></times><ci id="S4.p11.1.m1.4.4.3.cmml" xref="S4.p11.1.m1.4.4.3">𝑓</ci><interval closure="open" id="S4.p11.1.m1.4.4.1.2.cmml" xref="S4.p11.1.m1.4.4.1.1"><ci id="S4.p11.1.m1.3.3.cmml" xref="S4.p11.1.m1.3.3">𝑥</ci><apply id="S4.p11.1.m1.4.4.1.1.1.cmml" xref="S4.p11.1.m1.4.4.1.1.1"><times id="S4.p11.1.m1.4.4.1.1.1.1.cmml" xref="S4.p11.1.m1.4.4.1.1.1.1"></times><apply id="S4.p11.1.m1.4.4.1.1.1.2.cmml" xref="S4.p11.1.m1.4.4.1.1.1.2"><csymbol cd="ambiguous" id="S4.p11.1.m1.4.4.1.1.1.2.1.cmml" xref="S4.p11.1.m1.4.4.1.1.1.2">superscript</csymbol><ci id="S4.p11.1.m1.4.4.1.1.1.2.2.cmml" xref="S4.p11.1.m1.4.4.1.1.1.2.2">𝜃</ci><ci id="S4.p11.1.m1.4.4.1.1.1.2.3.cmml" xref="S4.p11.1.m1.4.4.1.1.1.2.3">𝑤</ci></apply><apply id="S4.p11.1.m1.4.4.1.1.1.3.cmml" xref="S4.p11.1.m1.4.4.1.1.1.3"><ci id="S4.p11.1.m1.4.4.1.1.1.3.1.cmml" xref="S4.p11.1.m1.4.4.1.1.1.3.1">⨀</ci><apply id="S4.p11.1.m1.4.4.1.1.1.3.2.cmml" xref="S4.p11.1.m1.4.4.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.p11.1.m1.4.4.1.1.1.3.2.1.cmml" xref="S4.p11.1.m1.4.4.1.1.1.3.2">subscript</csymbol><apply id="S4.p11.1.m1.4.4.1.1.1.3.2.2.cmml" xref="S4.p11.1.m1.4.4.1.1.1.3.2"><csymbol cd="ambiguous" id="S4.p11.1.m1.4.4.1.1.1.3.2.2.1.cmml" xref="S4.p11.1.m1.4.4.1.1.1.3.2">superscript</csymbol><ci id="S4.p11.1.m1.4.4.1.1.1.3.2.2.2.cmml" xref="S4.p11.1.m1.4.4.1.1.1.3.2.2.2">𝑀</ci><ci id="S4.p11.1.m1.4.4.1.1.1.3.2.2.3.cmml" xref="S4.p11.1.m1.4.4.1.1.1.3.2.2.3">𝑡</ci></apply><list id="S4.p11.1.m1.2.2.2.3.cmml" xref="S4.p11.1.m1.2.2.2.4"><ci id="S4.p11.1.m1.1.1.1.1.cmml" xref="S4.p11.1.m1.1.1.1.1">𝑔</ci><ci id="S4.p11.1.m1.2.2.2.2.cmml" xref="S4.p11.1.m1.2.2.2.2">𝐴</ci></list></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.1.m1.4c">f(x,\theta^{w}\bigodot M^{t}_{g,A})</annotation></semantics></math> in their downstream classification task, where <math id="S4.p11.2.m2.2" class="ltx_Math" alttext="M^{t}_{g,A}" display="inline"><semantics id="S4.p11.2.m2.2a"><msubsup id="S4.p11.2.m2.2.3" xref="S4.p11.2.m2.2.3.cmml"><mi id="S4.p11.2.m2.2.3.2.2" xref="S4.p11.2.m2.2.3.2.2.cmml">M</mi><mrow id="S4.p11.2.m2.2.2.2.4" xref="S4.p11.2.m2.2.2.2.3.cmml"><mi id="S4.p11.2.m2.1.1.1.1" xref="S4.p11.2.m2.1.1.1.1.cmml">g</mi><mo id="S4.p11.2.m2.2.2.2.4.1" xref="S4.p11.2.m2.2.2.2.3.cmml">,</mo><mi id="S4.p11.2.m2.2.2.2.2" xref="S4.p11.2.m2.2.2.2.2.cmml">A</mi></mrow><mi id="S4.p11.2.m2.2.3.2.3" xref="S4.p11.2.m2.2.3.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p11.2.m2.2b"><apply id="S4.p11.2.m2.2.3.cmml" xref="S4.p11.2.m2.2.3"><csymbol cd="ambiguous" id="S4.p11.2.m2.2.3.1.cmml" xref="S4.p11.2.m2.2.3">subscript</csymbol><apply id="S4.p11.2.m2.2.3.2.cmml" xref="S4.p11.2.m2.2.3"><csymbol cd="ambiguous" id="S4.p11.2.m2.2.3.2.1.cmml" xref="S4.p11.2.m2.2.3">superscript</csymbol><ci id="S4.p11.2.m2.2.3.2.2.cmml" xref="S4.p11.2.m2.2.3.2.2">𝑀</ci><ci id="S4.p11.2.m2.2.3.2.3.cmml" xref="S4.p11.2.m2.2.3.2.3">𝑡</ci></apply><list id="S4.p11.2.m2.2.2.2.3.cmml" xref="S4.p11.2.m2.2.2.2.4"><ci id="S4.p11.2.m2.1.1.1.1.cmml" xref="S4.p11.2.m2.1.1.1.1">𝑔</ci><ci id="S4.p11.2.m2.2.2.2.2.cmml" xref="S4.p11.2.m2.2.2.2.2">𝐴</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.2.m2.2c">M^{t}_{g,A}</annotation></semantics></math> is the learned binary mask for group A at FL round <math id="S4.p11.3.m3.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S4.p11.3.m3.1a"><mi id="S4.p11.3.m3.1.1" xref="S4.p11.3.m3.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S4.p11.3.m3.1b"><ci id="S4.p11.3.m3.1.1.cmml" xref="S4.p11.3.m3.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.3.m3.1c">t</annotation></semantics></math>, and <math id="S4.p11.4.m4.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="S4.p11.4.m4.1a"><msup id="S4.p11.4.m4.1.1" xref="S4.p11.4.m4.1.1.cmml"><mi id="S4.p11.4.m4.1.1.2" xref="S4.p11.4.m4.1.1.2.cmml">θ</mi><mi id="S4.p11.4.m4.1.1.3" xref="S4.p11.4.m4.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="S4.p11.4.m4.1b"><apply id="S4.p11.4.m4.1.1.cmml" xref="S4.p11.4.m4.1.1"><csymbol cd="ambiguous" id="S4.p11.4.m4.1.1.1.cmml" xref="S4.p11.4.m4.1.1">superscript</csymbol><ci id="S4.p11.4.m4.1.1.2.cmml" xref="S4.p11.4.m4.1.1.2">𝜃</ci><ci id="S4.p11.4.m4.1.1.3.cmml" xref="S4.p11.4.m4.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.4.m4.1c">\theta^{w}</annotation></semantics></math> is the random weights (initialized randomly and kept fixed), and <math id="S4.p11.5.m5.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S4.p11.5.m5.1a"><mi id="S4.p11.5.m5.1.1" xref="S4.p11.5.m5.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S4.p11.5.m5.1b"><ci id="S4.p11.5.m5.1.1.cmml" xref="S4.p11.5.m5.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.5.m5.1c">x</annotation></semantics></math> is the test input. Note that in E2FL and its variants, <math id="S4.p11.6.m6.2" class="ltx_Math" alttext="M^{t}_{g,q}" display="inline"><semantics id="S4.p11.6.m6.2a"><msubsup id="S4.p11.6.m6.2.3" xref="S4.p11.6.m6.2.3.cmml"><mi id="S4.p11.6.m6.2.3.2.2" xref="S4.p11.6.m6.2.3.2.2.cmml">M</mi><mrow id="S4.p11.6.m6.2.2.2.4" xref="S4.p11.6.m6.2.2.2.3.cmml"><mi id="S4.p11.6.m6.1.1.1.1" xref="S4.p11.6.m6.1.1.1.1.cmml">g</mi><mo id="S4.p11.6.m6.2.2.2.4.1" xref="S4.p11.6.m6.2.2.2.3.cmml">,</mo><mi id="S4.p11.6.m6.2.2.2.2" xref="S4.p11.6.m6.2.2.2.2.cmml">q</mi></mrow><mi id="S4.p11.6.m6.2.3.2.3" xref="S4.p11.6.m6.2.3.2.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p11.6.m6.2b"><apply id="S4.p11.6.m6.2.3.cmml" xref="S4.p11.6.m6.2.3"><csymbol cd="ambiguous" id="S4.p11.6.m6.2.3.1.cmml" xref="S4.p11.6.m6.2.3">subscript</csymbol><apply id="S4.p11.6.m6.2.3.2.cmml" xref="S4.p11.6.m6.2.3"><csymbol cd="ambiguous" id="S4.p11.6.m6.2.3.2.1.cmml" xref="S4.p11.6.m6.2.3">superscript</csymbol><ci id="S4.p11.6.m6.2.3.2.2.cmml" xref="S4.p11.6.m6.2.3.2.2">𝑀</ci><ci id="S4.p11.6.m6.2.3.2.3.cmml" xref="S4.p11.6.m6.2.3.2.3">𝑡</ci></apply><list id="S4.p11.6.m6.2.2.2.3.cmml" xref="S4.p11.6.m6.2.2.2.4"><ci id="S4.p11.6.m6.1.1.1.1.cmml" xref="S4.p11.6.m6.1.1.1.1">𝑔</ci><ci id="S4.p11.6.m6.2.2.2.2.cmml" xref="S4.p11.6.m6.2.2.2.2">𝑞</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.6.m6.2c">M^{t}_{g,q}</annotation></semantics></math> is the supermask trained for group <math id="S4.p11.7.m7.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S4.p11.7.m7.1a"><mi id="S4.p11.7.m7.1.1" xref="S4.p11.7.m7.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S4.p11.7.m7.1b"><ci id="S4.p11.7.m7.1.1.cmml" xref="S4.p11.7.m7.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.7.m7.1c">q</annotation></semantics></math> where for top <math id="S4.p11.8.m8.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S4.p11.8.m8.1a"><mi id="S4.p11.8.m8.1.1" xref="S4.p11.8.m8.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S4.p11.8.m8.1b"><ci id="S4.p11.8.m8.1.1.cmml" xref="S4.p11.8.m8.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.8.m8.1c">k</annotation></semantics></math>% of the top rankings of group ranking <math id="S4.p11.9.m9.2" class="ltx_Math" alttext="R_{g,q}^{t}" display="inline"><semantics id="S4.p11.9.m9.2a"><msubsup id="S4.p11.9.m9.2.3" xref="S4.p11.9.m9.2.3.cmml"><mi id="S4.p11.9.m9.2.3.2.2" xref="S4.p11.9.m9.2.3.2.2.cmml">R</mi><mrow id="S4.p11.9.m9.2.2.2.4" xref="S4.p11.9.m9.2.2.2.3.cmml"><mi id="S4.p11.9.m9.1.1.1.1" xref="S4.p11.9.m9.1.1.1.1.cmml">g</mi><mo id="S4.p11.9.m9.2.2.2.4.1" xref="S4.p11.9.m9.2.2.2.3.cmml">,</mo><mi id="S4.p11.9.m9.2.2.2.2" xref="S4.p11.9.m9.2.2.2.2.cmml">q</mi></mrow><mi id="S4.p11.9.m9.2.3.3" xref="S4.p11.9.m9.2.3.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S4.p11.9.m9.2b"><apply id="S4.p11.9.m9.2.3.cmml" xref="S4.p11.9.m9.2.3"><csymbol cd="ambiguous" id="S4.p11.9.m9.2.3.1.cmml" xref="S4.p11.9.m9.2.3">superscript</csymbol><apply id="S4.p11.9.m9.2.3.2.cmml" xref="S4.p11.9.m9.2.3"><csymbol cd="ambiguous" id="S4.p11.9.m9.2.3.2.1.cmml" xref="S4.p11.9.m9.2.3">subscript</csymbol><ci id="S4.p11.9.m9.2.3.2.2.cmml" xref="S4.p11.9.m9.2.3.2.2">𝑅</ci><list id="S4.p11.9.m9.2.2.2.3.cmml" xref="S4.p11.9.m9.2.2.2.4"><ci id="S4.p11.9.m9.1.1.1.1.cmml" xref="S4.p11.9.m9.1.1.1.1">𝑔</ci><ci id="S4.p11.9.m9.2.2.2.2.cmml" xref="S4.p11.9.m9.2.2.2.2">𝑞</ci></list></apply><ci id="S4.p11.9.m9.2.3.3.cmml" xref="S4.p11.9.m9.2.3.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.p11.9.m9.2c">R_{g,q}^{t}</annotation></semantics></math>, we put 1’s and we set other masks to 0’s.</p>
</div>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>E2FL when Group IDs are Unknown</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">In the previous section, we assumed that the clients know their group IDs.
In this section, we explain the approaches the server or a client can utilize to estimate the group IDs when the groups are unknown.
In this setting, there are federated clients that have small amount of data with no known protected attribute. For instance, people with their own style of handwriting want to learn a global model by learning a local model on the images of their handwriting. The clients have no knowledge about their style as it is not something to be identified. It is not even possible to announce that clients with similar style collaborate with each other. This type of scenario usually happens in cross-device setting, where each user has a small dataset and there are so many clients in the system.
For the server-side approach, the server clusters the local rankings into different groups and assigns a group ID to each client. For client-side approaches, each client should estimate its own group ID using the binary masks learned so far (Algorithm <a href="#alg1" title="Algorithm 1 ‣ 4 E2FL: Design ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> line 8).</p>
</div>
<div id="S5.p2" class="ltx_para ltx_noindent">
<p id="S5.p2.2" class="ltx_p"><span id="S5.p2.2.1" class="ltx_text ltx_font_bold">Communication Cost of E2FL when group IDs are unknown:</span>  Please note that for finding the best group ID at the client-side, there is no need to send all the group rankings (e.g., <math id="S5.p2.1.m1.9" class="ltx_Math" alttext="\{R^{t+1}_{g,A},R^{t+1}_{g,B},R^{t+1}_{g,C}\}" display="inline"><semantics id="S5.p2.1.m1.9a"><mrow id="S5.p2.1.m1.9.9.3" xref="S5.p2.1.m1.9.9.4.cmml"><mo stretchy="false" id="S5.p2.1.m1.9.9.3.4" xref="S5.p2.1.m1.9.9.4.cmml">{</mo><msubsup id="S5.p2.1.m1.7.7.1.1" xref="S5.p2.1.m1.7.7.1.1.cmml"><mi id="S5.p2.1.m1.7.7.1.1.2.2" xref="S5.p2.1.m1.7.7.1.1.2.2.cmml">R</mi><mrow id="S5.p2.1.m1.2.2.2.4" xref="S5.p2.1.m1.2.2.2.3.cmml"><mi id="S5.p2.1.m1.1.1.1.1" xref="S5.p2.1.m1.1.1.1.1.cmml">g</mi><mo id="S5.p2.1.m1.2.2.2.4.1" xref="S5.p2.1.m1.2.2.2.3.cmml">,</mo><mi id="S5.p2.1.m1.2.2.2.2" xref="S5.p2.1.m1.2.2.2.2.cmml">A</mi></mrow><mrow id="S5.p2.1.m1.7.7.1.1.2.3" xref="S5.p2.1.m1.7.7.1.1.2.3.cmml"><mi id="S5.p2.1.m1.7.7.1.1.2.3.2" xref="S5.p2.1.m1.7.7.1.1.2.3.2.cmml">t</mi><mo id="S5.p2.1.m1.7.7.1.1.2.3.1" xref="S5.p2.1.m1.7.7.1.1.2.3.1.cmml">+</mo><mn id="S5.p2.1.m1.7.7.1.1.2.3.3" xref="S5.p2.1.m1.7.7.1.1.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S5.p2.1.m1.9.9.3.5" xref="S5.p2.1.m1.9.9.4.cmml">,</mo><msubsup id="S5.p2.1.m1.8.8.2.2" xref="S5.p2.1.m1.8.8.2.2.cmml"><mi id="S5.p2.1.m1.8.8.2.2.2.2" xref="S5.p2.1.m1.8.8.2.2.2.2.cmml">R</mi><mrow id="S5.p2.1.m1.4.4.2.4" xref="S5.p2.1.m1.4.4.2.3.cmml"><mi id="S5.p2.1.m1.3.3.1.1" xref="S5.p2.1.m1.3.3.1.1.cmml">g</mi><mo id="S5.p2.1.m1.4.4.2.4.1" xref="S5.p2.1.m1.4.4.2.3.cmml">,</mo><mi id="S5.p2.1.m1.4.4.2.2" xref="S5.p2.1.m1.4.4.2.2.cmml">B</mi></mrow><mrow id="S5.p2.1.m1.8.8.2.2.2.3" xref="S5.p2.1.m1.8.8.2.2.2.3.cmml"><mi id="S5.p2.1.m1.8.8.2.2.2.3.2" xref="S5.p2.1.m1.8.8.2.2.2.3.2.cmml">t</mi><mo id="S5.p2.1.m1.8.8.2.2.2.3.1" xref="S5.p2.1.m1.8.8.2.2.2.3.1.cmml">+</mo><mn id="S5.p2.1.m1.8.8.2.2.2.3.3" xref="S5.p2.1.m1.8.8.2.2.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S5.p2.1.m1.9.9.3.6" xref="S5.p2.1.m1.9.9.4.cmml">,</mo><msubsup id="S5.p2.1.m1.9.9.3.3" xref="S5.p2.1.m1.9.9.3.3.cmml"><mi id="S5.p2.1.m1.9.9.3.3.2.2" xref="S5.p2.1.m1.9.9.3.3.2.2.cmml">R</mi><mrow id="S5.p2.1.m1.6.6.2.4" xref="S5.p2.1.m1.6.6.2.3.cmml"><mi id="S5.p2.1.m1.5.5.1.1" xref="S5.p2.1.m1.5.5.1.1.cmml">g</mi><mo id="S5.p2.1.m1.6.6.2.4.1" xref="S5.p2.1.m1.6.6.2.3.cmml">,</mo><mi id="S5.p2.1.m1.6.6.2.2" xref="S5.p2.1.m1.6.6.2.2.cmml">C</mi></mrow><mrow id="S5.p2.1.m1.9.9.3.3.2.3" xref="S5.p2.1.m1.9.9.3.3.2.3.cmml"><mi id="S5.p2.1.m1.9.9.3.3.2.3.2" xref="S5.p2.1.m1.9.9.3.3.2.3.2.cmml">t</mi><mo id="S5.p2.1.m1.9.9.3.3.2.3.1" xref="S5.p2.1.m1.9.9.3.3.2.3.1.cmml">+</mo><mn id="S5.p2.1.m1.9.9.3.3.2.3.3" xref="S5.p2.1.m1.9.9.3.3.2.3.3.cmml">1</mn></mrow></msubsup><mo stretchy="false" id="S5.p2.1.m1.9.9.3.7" xref="S5.p2.1.m1.9.9.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.1.m1.9b"><set id="S5.p2.1.m1.9.9.4.cmml" xref="S5.p2.1.m1.9.9.3"><apply id="S5.p2.1.m1.7.7.1.1.cmml" xref="S5.p2.1.m1.7.7.1.1"><csymbol cd="ambiguous" id="S5.p2.1.m1.7.7.1.1.1.cmml" xref="S5.p2.1.m1.7.7.1.1">subscript</csymbol><apply id="S5.p2.1.m1.7.7.1.1.2.cmml" xref="S5.p2.1.m1.7.7.1.1"><csymbol cd="ambiguous" id="S5.p2.1.m1.7.7.1.1.2.1.cmml" xref="S5.p2.1.m1.7.7.1.1">superscript</csymbol><ci id="S5.p2.1.m1.7.7.1.1.2.2.cmml" xref="S5.p2.1.m1.7.7.1.1.2.2">𝑅</ci><apply id="S5.p2.1.m1.7.7.1.1.2.3.cmml" xref="S5.p2.1.m1.7.7.1.1.2.3"><plus id="S5.p2.1.m1.7.7.1.1.2.3.1.cmml" xref="S5.p2.1.m1.7.7.1.1.2.3.1"></plus><ci id="S5.p2.1.m1.7.7.1.1.2.3.2.cmml" xref="S5.p2.1.m1.7.7.1.1.2.3.2">𝑡</ci><cn type="integer" id="S5.p2.1.m1.7.7.1.1.2.3.3.cmml" xref="S5.p2.1.m1.7.7.1.1.2.3.3">1</cn></apply></apply><list id="S5.p2.1.m1.2.2.2.3.cmml" xref="S5.p2.1.m1.2.2.2.4"><ci id="S5.p2.1.m1.1.1.1.1.cmml" xref="S5.p2.1.m1.1.1.1.1">𝑔</ci><ci id="S5.p2.1.m1.2.2.2.2.cmml" xref="S5.p2.1.m1.2.2.2.2">𝐴</ci></list></apply><apply id="S5.p2.1.m1.8.8.2.2.cmml" xref="S5.p2.1.m1.8.8.2.2"><csymbol cd="ambiguous" id="S5.p2.1.m1.8.8.2.2.1.cmml" xref="S5.p2.1.m1.8.8.2.2">subscript</csymbol><apply id="S5.p2.1.m1.8.8.2.2.2.cmml" xref="S5.p2.1.m1.8.8.2.2"><csymbol cd="ambiguous" id="S5.p2.1.m1.8.8.2.2.2.1.cmml" xref="S5.p2.1.m1.8.8.2.2">superscript</csymbol><ci id="S5.p2.1.m1.8.8.2.2.2.2.cmml" xref="S5.p2.1.m1.8.8.2.2.2.2">𝑅</ci><apply id="S5.p2.1.m1.8.8.2.2.2.3.cmml" xref="S5.p2.1.m1.8.8.2.2.2.3"><plus id="S5.p2.1.m1.8.8.2.2.2.3.1.cmml" xref="S5.p2.1.m1.8.8.2.2.2.3.1"></plus><ci id="S5.p2.1.m1.8.8.2.2.2.3.2.cmml" xref="S5.p2.1.m1.8.8.2.2.2.3.2">𝑡</ci><cn type="integer" id="S5.p2.1.m1.8.8.2.2.2.3.3.cmml" xref="S5.p2.1.m1.8.8.2.2.2.3.3">1</cn></apply></apply><list id="S5.p2.1.m1.4.4.2.3.cmml" xref="S5.p2.1.m1.4.4.2.4"><ci id="S5.p2.1.m1.3.3.1.1.cmml" xref="S5.p2.1.m1.3.3.1.1">𝑔</ci><ci id="S5.p2.1.m1.4.4.2.2.cmml" xref="S5.p2.1.m1.4.4.2.2">𝐵</ci></list></apply><apply id="S5.p2.1.m1.9.9.3.3.cmml" xref="S5.p2.1.m1.9.9.3.3"><csymbol cd="ambiguous" id="S5.p2.1.m1.9.9.3.3.1.cmml" xref="S5.p2.1.m1.9.9.3.3">subscript</csymbol><apply id="S5.p2.1.m1.9.9.3.3.2.cmml" xref="S5.p2.1.m1.9.9.3.3"><csymbol cd="ambiguous" id="S5.p2.1.m1.9.9.3.3.2.1.cmml" xref="S5.p2.1.m1.9.9.3.3">superscript</csymbol><ci id="S5.p2.1.m1.9.9.3.3.2.2.cmml" xref="S5.p2.1.m1.9.9.3.3.2.2">𝑅</ci><apply id="S5.p2.1.m1.9.9.3.3.2.3.cmml" xref="S5.p2.1.m1.9.9.3.3.2.3"><plus id="S5.p2.1.m1.9.9.3.3.2.3.1.cmml" xref="S5.p2.1.m1.9.9.3.3.2.3.1"></plus><ci id="S5.p2.1.m1.9.9.3.3.2.3.2.cmml" xref="S5.p2.1.m1.9.9.3.3.2.3.2">𝑡</ci><cn type="integer" id="S5.p2.1.m1.9.9.3.3.2.3.3.cmml" xref="S5.p2.1.m1.9.9.3.3.2.3.3">1</cn></apply></apply><list id="S5.p2.1.m1.6.6.2.3.cmml" xref="S5.p2.1.m1.6.6.2.4"><ci id="S5.p2.1.m1.5.5.1.1.cmml" xref="S5.p2.1.m1.5.5.1.1">𝑔</ci><ci id="S5.p2.1.m1.6.6.2.2.cmml" xref="S5.p2.1.m1.6.6.2.2">𝐶</ci></list></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.1.m1.9c">\{R^{t+1}_{g,A},R^{t+1}_{g,B},R^{t+1}_{g,C}\}</annotation></semantics></math> in our example) to the clients. As we mentioned before, in E2FL each ranking (local or global) can be converted to a binary mask of ’0’s and ’1’s that is superimposed on the random weights (i.e., supermask). Thus, the server only broadcasts the binary masks of groups (e.g., <math id="S5.p2.2.m2.9" class="ltx_Math" alttext="\{M^{t+1}_{g,A},M^{t+1}_{g,B},M^{t+1}_{g,C}\}" display="inline"><semantics id="S5.p2.2.m2.9a"><mrow id="S5.p2.2.m2.9.9.3" xref="S5.p2.2.m2.9.9.4.cmml"><mo stretchy="false" id="S5.p2.2.m2.9.9.3.4" xref="S5.p2.2.m2.9.9.4.cmml">{</mo><msubsup id="S5.p2.2.m2.7.7.1.1" xref="S5.p2.2.m2.7.7.1.1.cmml"><mi id="S5.p2.2.m2.7.7.1.1.2.2" xref="S5.p2.2.m2.7.7.1.1.2.2.cmml">M</mi><mrow id="S5.p2.2.m2.2.2.2.4" xref="S5.p2.2.m2.2.2.2.3.cmml"><mi id="S5.p2.2.m2.1.1.1.1" xref="S5.p2.2.m2.1.1.1.1.cmml">g</mi><mo id="S5.p2.2.m2.2.2.2.4.1" xref="S5.p2.2.m2.2.2.2.3.cmml">,</mo><mi id="S5.p2.2.m2.2.2.2.2" xref="S5.p2.2.m2.2.2.2.2.cmml">A</mi></mrow><mrow id="S5.p2.2.m2.7.7.1.1.2.3" xref="S5.p2.2.m2.7.7.1.1.2.3.cmml"><mi id="S5.p2.2.m2.7.7.1.1.2.3.2" xref="S5.p2.2.m2.7.7.1.1.2.3.2.cmml">t</mi><mo id="S5.p2.2.m2.7.7.1.1.2.3.1" xref="S5.p2.2.m2.7.7.1.1.2.3.1.cmml">+</mo><mn id="S5.p2.2.m2.7.7.1.1.2.3.3" xref="S5.p2.2.m2.7.7.1.1.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S5.p2.2.m2.9.9.3.5" xref="S5.p2.2.m2.9.9.4.cmml">,</mo><msubsup id="S5.p2.2.m2.8.8.2.2" xref="S5.p2.2.m2.8.8.2.2.cmml"><mi id="S5.p2.2.m2.8.8.2.2.2.2" xref="S5.p2.2.m2.8.8.2.2.2.2.cmml">M</mi><mrow id="S5.p2.2.m2.4.4.2.4" xref="S5.p2.2.m2.4.4.2.3.cmml"><mi id="S5.p2.2.m2.3.3.1.1" xref="S5.p2.2.m2.3.3.1.1.cmml">g</mi><mo id="S5.p2.2.m2.4.4.2.4.1" xref="S5.p2.2.m2.4.4.2.3.cmml">,</mo><mi id="S5.p2.2.m2.4.4.2.2" xref="S5.p2.2.m2.4.4.2.2.cmml">B</mi></mrow><mrow id="S5.p2.2.m2.8.8.2.2.2.3" xref="S5.p2.2.m2.8.8.2.2.2.3.cmml"><mi id="S5.p2.2.m2.8.8.2.2.2.3.2" xref="S5.p2.2.m2.8.8.2.2.2.3.2.cmml">t</mi><mo id="S5.p2.2.m2.8.8.2.2.2.3.1" xref="S5.p2.2.m2.8.8.2.2.2.3.1.cmml">+</mo><mn id="S5.p2.2.m2.8.8.2.2.2.3.3" xref="S5.p2.2.m2.8.8.2.2.2.3.3.cmml">1</mn></mrow></msubsup><mo id="S5.p2.2.m2.9.9.3.6" xref="S5.p2.2.m2.9.9.4.cmml">,</mo><msubsup id="S5.p2.2.m2.9.9.3.3" xref="S5.p2.2.m2.9.9.3.3.cmml"><mi id="S5.p2.2.m2.9.9.3.3.2.2" xref="S5.p2.2.m2.9.9.3.3.2.2.cmml">M</mi><mrow id="S5.p2.2.m2.6.6.2.4" xref="S5.p2.2.m2.6.6.2.3.cmml"><mi id="S5.p2.2.m2.5.5.1.1" xref="S5.p2.2.m2.5.5.1.1.cmml">g</mi><mo id="S5.p2.2.m2.6.6.2.4.1" xref="S5.p2.2.m2.6.6.2.3.cmml">,</mo><mi id="S5.p2.2.m2.6.6.2.2" xref="S5.p2.2.m2.6.6.2.2.cmml">C</mi></mrow><mrow id="S5.p2.2.m2.9.9.3.3.2.3" xref="S5.p2.2.m2.9.9.3.3.2.3.cmml"><mi id="S5.p2.2.m2.9.9.3.3.2.3.2" xref="S5.p2.2.m2.9.9.3.3.2.3.2.cmml">t</mi><mo id="S5.p2.2.m2.9.9.3.3.2.3.1" xref="S5.p2.2.m2.9.9.3.3.2.3.1.cmml">+</mo><mn id="S5.p2.2.m2.9.9.3.3.2.3.3" xref="S5.p2.2.m2.9.9.3.3.2.3.3.cmml">1</mn></mrow></msubsup><mo stretchy="false" id="S5.p2.2.m2.9.9.3.7" xref="S5.p2.2.m2.9.9.4.cmml">}</mo></mrow><annotation-xml encoding="MathML-Content" id="S5.p2.2.m2.9b"><set id="S5.p2.2.m2.9.9.4.cmml" xref="S5.p2.2.m2.9.9.3"><apply id="S5.p2.2.m2.7.7.1.1.cmml" xref="S5.p2.2.m2.7.7.1.1"><csymbol cd="ambiguous" id="S5.p2.2.m2.7.7.1.1.1.cmml" xref="S5.p2.2.m2.7.7.1.1">subscript</csymbol><apply id="S5.p2.2.m2.7.7.1.1.2.cmml" xref="S5.p2.2.m2.7.7.1.1"><csymbol cd="ambiguous" id="S5.p2.2.m2.7.7.1.1.2.1.cmml" xref="S5.p2.2.m2.7.7.1.1">superscript</csymbol><ci id="S5.p2.2.m2.7.7.1.1.2.2.cmml" xref="S5.p2.2.m2.7.7.1.1.2.2">𝑀</ci><apply id="S5.p2.2.m2.7.7.1.1.2.3.cmml" xref="S5.p2.2.m2.7.7.1.1.2.3"><plus id="S5.p2.2.m2.7.7.1.1.2.3.1.cmml" xref="S5.p2.2.m2.7.7.1.1.2.3.1"></plus><ci id="S5.p2.2.m2.7.7.1.1.2.3.2.cmml" xref="S5.p2.2.m2.7.7.1.1.2.3.2">𝑡</ci><cn type="integer" id="S5.p2.2.m2.7.7.1.1.2.3.3.cmml" xref="S5.p2.2.m2.7.7.1.1.2.3.3">1</cn></apply></apply><list id="S5.p2.2.m2.2.2.2.3.cmml" xref="S5.p2.2.m2.2.2.2.4"><ci id="S5.p2.2.m2.1.1.1.1.cmml" xref="S5.p2.2.m2.1.1.1.1">𝑔</ci><ci id="S5.p2.2.m2.2.2.2.2.cmml" xref="S5.p2.2.m2.2.2.2.2">𝐴</ci></list></apply><apply id="S5.p2.2.m2.8.8.2.2.cmml" xref="S5.p2.2.m2.8.8.2.2"><csymbol cd="ambiguous" id="S5.p2.2.m2.8.8.2.2.1.cmml" xref="S5.p2.2.m2.8.8.2.2">subscript</csymbol><apply id="S5.p2.2.m2.8.8.2.2.2.cmml" xref="S5.p2.2.m2.8.8.2.2"><csymbol cd="ambiguous" id="S5.p2.2.m2.8.8.2.2.2.1.cmml" xref="S5.p2.2.m2.8.8.2.2">superscript</csymbol><ci id="S5.p2.2.m2.8.8.2.2.2.2.cmml" xref="S5.p2.2.m2.8.8.2.2.2.2">𝑀</ci><apply id="S5.p2.2.m2.8.8.2.2.2.3.cmml" xref="S5.p2.2.m2.8.8.2.2.2.3"><plus id="S5.p2.2.m2.8.8.2.2.2.3.1.cmml" xref="S5.p2.2.m2.8.8.2.2.2.3.1"></plus><ci id="S5.p2.2.m2.8.8.2.2.2.3.2.cmml" xref="S5.p2.2.m2.8.8.2.2.2.3.2">𝑡</ci><cn type="integer" id="S5.p2.2.m2.8.8.2.2.2.3.3.cmml" xref="S5.p2.2.m2.8.8.2.2.2.3.3">1</cn></apply></apply><list id="S5.p2.2.m2.4.4.2.3.cmml" xref="S5.p2.2.m2.4.4.2.4"><ci id="S5.p2.2.m2.3.3.1.1.cmml" xref="S5.p2.2.m2.3.3.1.1">𝑔</ci><ci id="S5.p2.2.m2.4.4.2.2.cmml" xref="S5.p2.2.m2.4.4.2.2">𝐵</ci></list></apply><apply id="S5.p2.2.m2.9.9.3.3.cmml" xref="S5.p2.2.m2.9.9.3.3"><csymbol cd="ambiguous" id="S5.p2.2.m2.9.9.3.3.1.cmml" xref="S5.p2.2.m2.9.9.3.3">subscript</csymbol><apply id="S5.p2.2.m2.9.9.3.3.2.cmml" xref="S5.p2.2.m2.9.9.3.3"><csymbol cd="ambiguous" id="S5.p2.2.m2.9.9.3.3.2.1.cmml" xref="S5.p2.2.m2.9.9.3.3">superscript</csymbol><ci id="S5.p2.2.m2.9.9.3.3.2.2.cmml" xref="S5.p2.2.m2.9.9.3.3.2.2">𝑀</ci><apply id="S5.p2.2.m2.9.9.3.3.2.3.cmml" xref="S5.p2.2.m2.9.9.3.3.2.3"><plus id="S5.p2.2.m2.9.9.3.3.2.3.1.cmml" xref="S5.p2.2.m2.9.9.3.3.2.3.1"></plus><ci id="S5.p2.2.m2.9.9.3.3.2.3.2.cmml" xref="S5.p2.2.m2.9.9.3.3.2.3.2">𝑡</ci><cn type="integer" id="S5.p2.2.m2.9.9.3.3.2.3.3.cmml" xref="S5.p2.2.m2.9.9.3.3.2.3.3">1</cn></apply></apply><list id="S5.p2.2.m2.6.6.2.3.cmml" xref="S5.p2.2.m2.6.6.2.4"><ci id="S5.p2.2.m2.5.5.1.1.cmml" xref="S5.p2.2.m2.5.5.1.1">𝑔</ci><ci id="S5.p2.2.m2.6.6.2.2.cmml" xref="S5.p2.2.m2.6.6.2.2">𝐶</ci></list></apply></set></annotation-xml><annotation encoding="application/x-tex" id="S5.p2.2.m2.9c">\{M^{t+1}_{g,A},M^{t+1}_{g,B},M^{t+1}_{g,C}\}</annotation></semantics></math> in our example) to the clients so they can estimate their group ID where they belong to.</p>
</div>
<section id="S5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.1 </span>Server-side: Rank Clustering</h3>

<div id="S5.SS1.p1" class="ltx_para">
<p id="S5.SS1.p1.5" class="ltx_p">Working with rankings enables us to design an efficient algorithm to cluster the local rankings.
Clustering rankings is more efficient than clustering the model weight updates in standard FL. The main reason is that rankings are from a <em id="S5.SS1.p1.5.1" class="ltx_emph ltx_font_italic">discrete</em> space (<math id="S5.SS1.p1.1.m1.3" class="ltx_Math" alttext="\in perm([1,d])" display="inline"><semantics id="S5.SS1.p1.1.m1.3a"><mrow id="S5.SS1.p1.1.m1.3.3" xref="S5.SS1.p1.1.m1.3.3.cmml"><mi id="S5.SS1.p1.1.m1.3.3.3" xref="S5.SS1.p1.1.m1.3.3.3.cmml"></mi><mo id="S5.SS1.p1.1.m1.3.3.2" xref="S5.SS1.p1.1.m1.3.3.2.cmml">∈</mo><mrow id="S5.SS1.p1.1.m1.3.3.1" xref="S5.SS1.p1.1.m1.3.3.1.cmml"><mi id="S5.SS1.p1.1.m1.3.3.1.3" xref="S5.SS1.p1.1.m1.3.3.1.3.cmml">p</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p1.1.m1.3.3.1.2" xref="S5.SS1.p1.1.m1.3.3.1.2.cmml">​</mo><mi id="S5.SS1.p1.1.m1.3.3.1.4" xref="S5.SS1.p1.1.m1.3.3.1.4.cmml">e</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p1.1.m1.3.3.1.2a" xref="S5.SS1.p1.1.m1.3.3.1.2.cmml">​</mo><mi id="S5.SS1.p1.1.m1.3.3.1.5" xref="S5.SS1.p1.1.m1.3.3.1.5.cmml">r</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p1.1.m1.3.3.1.2b" xref="S5.SS1.p1.1.m1.3.3.1.2.cmml">​</mo><mi id="S5.SS1.p1.1.m1.3.3.1.6" xref="S5.SS1.p1.1.m1.3.3.1.6.cmml">m</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p1.1.m1.3.3.1.2c" xref="S5.SS1.p1.1.m1.3.3.1.2.cmml">​</mo><mrow id="S5.SS1.p1.1.m1.3.3.1.1.1" xref="S5.SS1.p1.1.m1.3.3.1.cmml"><mo stretchy="false" id="S5.SS1.p1.1.m1.3.3.1.1.1.2" xref="S5.SS1.p1.1.m1.3.3.1.cmml">(</mo><mrow id="S5.SS1.p1.1.m1.3.3.1.1.1.1.2" xref="S5.SS1.p1.1.m1.3.3.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.SS1.p1.1.m1.3.3.1.1.1.1.2.1" xref="S5.SS1.p1.1.m1.3.3.1.1.1.1.1.cmml">[</mo><mn id="S5.SS1.p1.1.m1.1.1" xref="S5.SS1.p1.1.m1.1.1.cmml">1</mn><mo id="S5.SS1.p1.1.m1.3.3.1.1.1.1.2.2" xref="S5.SS1.p1.1.m1.3.3.1.1.1.1.1.cmml">,</mo><mi id="S5.SS1.p1.1.m1.2.2" xref="S5.SS1.p1.1.m1.2.2.cmml">d</mi><mo stretchy="false" id="S5.SS1.p1.1.m1.3.3.1.1.1.1.2.3" xref="S5.SS1.p1.1.m1.3.3.1.1.1.1.1.cmml">]</mo></mrow><mo stretchy="false" id="S5.SS1.p1.1.m1.3.3.1.1.1.3" xref="S5.SS1.p1.1.m1.3.3.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.1.m1.3b"><apply id="S5.SS1.p1.1.m1.3.3.cmml" xref="S5.SS1.p1.1.m1.3.3"><in id="S5.SS1.p1.1.m1.3.3.2.cmml" xref="S5.SS1.p1.1.m1.3.3.2"></in><csymbol cd="latexml" id="S5.SS1.p1.1.m1.3.3.3.cmml" xref="S5.SS1.p1.1.m1.3.3.3">absent</csymbol><apply id="S5.SS1.p1.1.m1.3.3.1.cmml" xref="S5.SS1.p1.1.m1.3.3.1"><times id="S5.SS1.p1.1.m1.3.3.1.2.cmml" xref="S5.SS1.p1.1.m1.3.3.1.2"></times><ci id="S5.SS1.p1.1.m1.3.3.1.3.cmml" xref="S5.SS1.p1.1.m1.3.3.1.3">𝑝</ci><ci id="S5.SS1.p1.1.m1.3.3.1.4.cmml" xref="S5.SS1.p1.1.m1.3.3.1.4">𝑒</ci><ci id="S5.SS1.p1.1.m1.3.3.1.5.cmml" xref="S5.SS1.p1.1.m1.3.3.1.5">𝑟</ci><ci id="S5.SS1.p1.1.m1.3.3.1.6.cmml" xref="S5.SS1.p1.1.m1.3.3.1.6">𝑚</ci><interval closure="closed" id="S5.SS1.p1.1.m1.3.3.1.1.1.1.1.cmml" xref="S5.SS1.p1.1.m1.3.3.1.1.1.1.2"><cn type="integer" id="S5.SS1.p1.1.m1.1.1.cmml" xref="S5.SS1.p1.1.m1.1.1">1</cn><ci id="S5.SS1.p1.1.m1.2.2.cmml" xref="S5.SS1.p1.1.m1.2.2">𝑑</ci></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.1.m1.3c">\in perm([1,d])</annotation></semantics></math>, all the possible permutation of integers <math id="S5.SS1.p1.2.m2.2" class="ltx_Math" alttext="\in[1,d]" display="inline"><semantics id="S5.SS1.p1.2.m2.2a"><mrow id="S5.SS1.p1.2.m2.2.3" xref="S5.SS1.p1.2.m2.2.3.cmml"><mi id="S5.SS1.p1.2.m2.2.3.2" xref="S5.SS1.p1.2.m2.2.3.2.cmml"></mi><mo id="S5.SS1.p1.2.m2.2.3.1" xref="S5.SS1.p1.2.m2.2.3.1.cmml">∈</mo><mrow id="S5.SS1.p1.2.m2.2.3.3.2" xref="S5.SS1.p1.2.m2.2.3.3.1.cmml"><mo stretchy="false" id="S5.SS1.p1.2.m2.2.3.3.2.1" xref="S5.SS1.p1.2.m2.2.3.3.1.cmml">[</mo><mn id="S5.SS1.p1.2.m2.1.1" xref="S5.SS1.p1.2.m2.1.1.cmml">1</mn><mo id="S5.SS1.p1.2.m2.2.3.3.2.2" xref="S5.SS1.p1.2.m2.2.3.3.1.cmml">,</mo><mi id="S5.SS1.p1.2.m2.2.2" xref="S5.SS1.p1.2.m2.2.2.cmml">d</mi><mo stretchy="false" id="S5.SS1.p1.2.m2.2.3.3.2.3" xref="S5.SS1.p1.2.m2.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.2.m2.2b"><apply id="S5.SS1.p1.2.m2.2.3.cmml" xref="S5.SS1.p1.2.m2.2.3"><in id="S5.SS1.p1.2.m2.2.3.1.cmml" xref="S5.SS1.p1.2.m2.2.3.1"></in><csymbol cd="latexml" id="S5.SS1.p1.2.m2.2.3.2.cmml" xref="S5.SS1.p1.2.m2.2.3.2">absent</csymbol><interval closure="closed" id="S5.SS1.p1.2.m2.2.3.3.1.cmml" xref="S5.SS1.p1.2.m2.2.3.3.2"><cn type="integer" id="S5.SS1.p1.2.m2.1.1.cmml" xref="S5.SS1.p1.2.m2.1.1">1</cn><ci id="S5.SS1.p1.2.m2.2.2.cmml" xref="S5.SS1.p1.2.m2.2.2">𝑑</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.2.m2.2c">\in[1,d]</annotation></semantics></math> where <math id="S5.SS1.p1.3.m3.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S5.SS1.p1.3.m3.1a"><mi id="S5.SS1.p1.3.m3.1.1" xref="S5.SS1.p1.3.m3.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.3.m3.1b"><ci id="S5.SS1.p1.3.m3.1.1.cmml" xref="S5.SS1.p1.3.m3.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.3.m3.1c">d</annotation></semantics></math> is the layer size) while model updates in standard FL are from a <em id="S5.SS1.p1.5.2" class="ltx_emph ltx_font_italic">continuous</em> space (<math id="S5.SS1.p1.4.m4.1" class="ltx_Math" alttext="\in\mathbb{R}^{d}" display="inline"><semantics id="S5.SS1.p1.4.m4.1a"><mrow id="S5.SS1.p1.4.m4.1.1" xref="S5.SS1.p1.4.m4.1.1.cmml"><mi id="S5.SS1.p1.4.m4.1.1.2" xref="S5.SS1.p1.4.m4.1.1.2.cmml"></mi><mo id="S5.SS1.p1.4.m4.1.1.1" xref="S5.SS1.p1.4.m4.1.1.1.cmml">∈</mo><msup id="S5.SS1.p1.4.m4.1.1.3" xref="S5.SS1.p1.4.m4.1.1.3.cmml"><mi id="S5.SS1.p1.4.m4.1.1.3.2" xref="S5.SS1.p1.4.m4.1.1.3.2.cmml">ℝ</mi><mi id="S5.SS1.p1.4.m4.1.1.3.3" xref="S5.SS1.p1.4.m4.1.1.3.3.cmml">d</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.4.m4.1b"><apply id="S5.SS1.p1.4.m4.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1"><in id="S5.SS1.p1.4.m4.1.1.1.cmml" xref="S5.SS1.p1.4.m4.1.1.1"></in><csymbol cd="latexml" id="S5.SS1.p1.4.m4.1.1.2.cmml" xref="S5.SS1.p1.4.m4.1.1.2">absent</csymbol><apply id="S5.SS1.p1.4.m4.1.1.3.cmml" xref="S5.SS1.p1.4.m4.1.1.3"><csymbol cd="ambiguous" id="S5.SS1.p1.4.m4.1.1.3.1.cmml" xref="S5.SS1.p1.4.m4.1.1.3">superscript</csymbol><ci id="S5.SS1.p1.4.m4.1.1.3.2.cmml" xref="S5.SS1.p1.4.m4.1.1.3.2">ℝ</ci><ci id="S5.SS1.p1.4.m4.1.1.3.3.cmml" xref="S5.SS1.p1.4.m4.1.1.3.3">𝑑</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.4.m4.1c">\in\mathbb{R}^{d}</annotation></semantics></math>).
In this approach, all the clients should learn a local rankings on their local data at the beginning of the learning, and send it to the server. Then the server clusters the rankings into <math id="S5.SS1.p1.5.m5.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S5.SS1.p1.5.m5.1a"><mi id="S5.SS1.p1.5.m5.1.1" xref="S5.SS1.p1.5.m5.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p1.5.m5.1b"><ci id="S5.SS1.p1.5.m5.1.1.cmml" xref="S5.SS1.p1.5.m5.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p1.5.m5.1c">Q</annotation></semantics></math> clusters to find the group ID of each client. This is just one time clustering, and throughout the E2FL learning, the server selects the local rankings for different group rank aggregation (majority voting) based on their group IDs (estimated with this approach).</p>
</div>
<div id="S5.SS1.p2" class="ltx_para">
<p id="S5.SS1.p2.16" class="ltx_p">Algorithm <a href="#alg2" title="Algorithm 2 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> in Appendix <a href="#A3" title="Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> shows how the server can cluster the local rankings of <math id="S5.SS1.p2.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S5.SS1.p2.1.m1.1a"><mi id="S5.SS1.p2.1.m1.1.1" xref="S5.SS1.p2.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.1.m1.1b"><ci id="S5.SS1.p2.1.m1.1.1.cmml" xref="S5.SS1.p2.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.1.m1.1c">N</annotation></semantics></math> clients into <math id="S5.SS1.p2.2.m2.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S5.SS1.p2.2.m2.1a"><mi id="S5.SS1.p2.2.m2.1.1" xref="S5.SS1.p2.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.2.m2.1b"><ci id="S5.SS1.p2.2.m2.1.1.cmml" xref="S5.SS1.p2.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.2.m2.1c">Q</annotation></semantics></math> groups. We adapt K-means clustering to cluster the rankings. In this algorithm, at first step (Algorithm <a href="#alg2" title="Algorithm 2 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> line 3), we are choosing <math id="S5.SS1.p2.3.m3.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S5.SS1.p2.3.m3.1a"><mi id="S5.SS1.p2.3.m3.1.1" xref="S5.SS1.p2.3.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.3.m3.1b"><ci id="S5.SS1.p2.3.m3.1.1.cmml" xref="S5.SS1.p2.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.3.m3.1c">Q</annotation></semantics></math> random rankings as our initial <math id="S5.SS1.p2.4.m4.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S5.SS1.p2.4.m4.1a"><mi id="S5.SS1.p2.4.m4.1.1" xref="S5.SS1.p2.4.m4.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.4.m4.1b"><ci id="S5.SS1.p2.4.m4.1.1.cmml" xref="S5.SS1.p2.4.m4.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.4.m4.1c">Q</annotation></semantics></math> clusters, called centroids. Then we assign the cluster ID of the closest centroid for all the <math id="S5.SS1.p2.5.m5.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S5.SS1.p2.5.m5.1a"><mi id="S5.SS1.p2.5.m5.1.1" xref="S5.SS1.p2.5.m5.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.5.m5.1b"><ci id="S5.SS1.p2.5.m5.1.1.cmml" xref="S5.SS1.p2.5.m5.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.5.m5.1c">N</annotation></semantics></math> local rankings (Algorithm <a href="#alg2" title="Algorithm 2 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> line 7-10). To determine the distance of two rankings, we use Spearman rank distance in which the distance between two rankings of <math id="S5.SS1.p2.6.m6.1" class="ltx_Math" alttext="R_{1}" display="inline"><semantics id="S5.SS1.p2.6.m6.1a"><msub id="S5.SS1.p2.6.m6.1.1" xref="S5.SS1.p2.6.m6.1.1.cmml"><mi id="S5.SS1.p2.6.m6.1.1.2" xref="S5.SS1.p2.6.m6.1.1.2.cmml">R</mi><mn id="S5.SS1.p2.6.m6.1.1.3" xref="S5.SS1.p2.6.m6.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.6.m6.1b"><apply id="S5.SS1.p2.6.m6.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.6.m6.1.1.1.cmml" xref="S5.SS1.p2.6.m6.1.1">subscript</csymbol><ci id="S5.SS1.p2.6.m6.1.1.2.cmml" xref="S5.SS1.p2.6.m6.1.1.2">𝑅</ci><cn type="integer" id="S5.SS1.p2.6.m6.1.1.3.cmml" xref="S5.SS1.p2.6.m6.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.6.m6.1c">R_{1}</annotation></semantics></math> and <math id="S5.SS1.p2.7.m7.1" class="ltx_Math" alttext="R_{2}" display="inline"><semantics id="S5.SS1.p2.7.m7.1a"><msub id="S5.SS1.p2.7.m7.1.1" xref="S5.SS1.p2.7.m7.1.1.cmml"><mi id="S5.SS1.p2.7.m7.1.1.2" xref="S5.SS1.p2.7.m7.1.1.2.cmml">R</mi><mn id="S5.SS1.p2.7.m7.1.1.3" xref="S5.SS1.p2.7.m7.1.1.3.cmml">2</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.7.m7.1b"><apply id="S5.SS1.p2.7.m7.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.7.m7.1.1.1.cmml" xref="S5.SS1.p2.7.m7.1.1">subscript</csymbol><ci id="S5.SS1.p2.7.m7.1.1.2.cmml" xref="S5.SS1.p2.7.m7.1.1.2">𝑅</ci><cn type="integer" id="S5.SS1.p2.7.m7.1.1.3.cmml" xref="S5.SS1.p2.7.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.7.m7.1c">R_{2}</annotation></semantics></math> is <math id="S5.SS1.p2.8.m8.7" class="ltx_Math" alttext="D(R_{1},R_{2})=\sum_{\ell\in[L]}\sum_{i\in[n_{\ell}]}|R_{1}[i]-R_{2}[i]|" display="inline"><semantics id="S5.SS1.p2.8.m8.7a"><mrow id="S5.SS1.p2.8.m8.7.7" xref="S5.SS1.p2.8.m8.7.7.cmml"><mrow id="S5.SS1.p2.8.m8.6.6.2" xref="S5.SS1.p2.8.m8.6.6.2.cmml"><mi id="S5.SS1.p2.8.m8.6.6.2.4" xref="S5.SS1.p2.8.m8.6.6.2.4.cmml">D</mi><mo lspace="0em" rspace="0em" id="S5.SS1.p2.8.m8.6.6.2.3" xref="S5.SS1.p2.8.m8.6.6.2.3.cmml">​</mo><mrow id="S5.SS1.p2.8.m8.6.6.2.2.2" xref="S5.SS1.p2.8.m8.6.6.2.2.3.cmml"><mo stretchy="false" id="S5.SS1.p2.8.m8.6.6.2.2.2.3" xref="S5.SS1.p2.8.m8.6.6.2.2.3.cmml">(</mo><msub id="S5.SS1.p2.8.m8.5.5.1.1.1.1" xref="S5.SS1.p2.8.m8.5.5.1.1.1.1.cmml"><mi id="S5.SS1.p2.8.m8.5.5.1.1.1.1.2" xref="S5.SS1.p2.8.m8.5.5.1.1.1.1.2.cmml">R</mi><mn id="S5.SS1.p2.8.m8.5.5.1.1.1.1.3" xref="S5.SS1.p2.8.m8.5.5.1.1.1.1.3.cmml">1</mn></msub><mo id="S5.SS1.p2.8.m8.6.6.2.2.2.4" xref="S5.SS1.p2.8.m8.6.6.2.2.3.cmml">,</mo><msub id="S5.SS1.p2.8.m8.6.6.2.2.2.2" xref="S5.SS1.p2.8.m8.6.6.2.2.2.2.cmml"><mi id="S5.SS1.p2.8.m8.6.6.2.2.2.2.2" xref="S5.SS1.p2.8.m8.6.6.2.2.2.2.2.cmml">R</mi><mn id="S5.SS1.p2.8.m8.6.6.2.2.2.2.3" xref="S5.SS1.p2.8.m8.6.6.2.2.2.2.3.cmml">2</mn></msub><mo stretchy="false" id="S5.SS1.p2.8.m8.6.6.2.2.2.5" xref="S5.SS1.p2.8.m8.6.6.2.2.3.cmml">)</mo></mrow></mrow><mo rspace="0.111em" id="S5.SS1.p2.8.m8.7.7.4" xref="S5.SS1.p2.8.m8.7.7.4.cmml">=</mo><mrow id="S5.SS1.p2.8.m8.7.7.3" xref="S5.SS1.p2.8.m8.7.7.3.cmml"><msub id="S5.SS1.p2.8.m8.7.7.3.2" xref="S5.SS1.p2.8.m8.7.7.3.2.cmml"><mo rspace="0em" id="S5.SS1.p2.8.m8.7.7.3.2.2" xref="S5.SS1.p2.8.m8.7.7.3.2.2.cmml">∑</mo><mrow id="S5.SS1.p2.8.m8.1.1.1" xref="S5.SS1.p2.8.m8.1.1.1.cmml"><mi mathvariant="normal" id="S5.SS1.p2.8.m8.1.1.1.3" xref="S5.SS1.p2.8.m8.1.1.1.3.cmml">ℓ</mi><mo id="S5.SS1.p2.8.m8.1.1.1.2" xref="S5.SS1.p2.8.m8.1.1.1.2.cmml">∈</mo><mrow id="S5.SS1.p2.8.m8.1.1.1.4.2" xref="S5.SS1.p2.8.m8.1.1.1.4.1.cmml"><mo stretchy="false" id="S5.SS1.p2.8.m8.1.1.1.4.2.1" xref="S5.SS1.p2.8.m8.1.1.1.4.1.1.cmml">[</mo><mi id="S5.SS1.p2.8.m8.1.1.1.1" xref="S5.SS1.p2.8.m8.1.1.1.1.cmml">L</mi><mo stretchy="false" id="S5.SS1.p2.8.m8.1.1.1.4.2.2" xref="S5.SS1.p2.8.m8.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><mrow id="S5.SS1.p2.8.m8.7.7.3.1" xref="S5.SS1.p2.8.m8.7.7.3.1.cmml"><msub id="S5.SS1.p2.8.m8.7.7.3.1.2" xref="S5.SS1.p2.8.m8.7.7.3.1.2.cmml"><mo rspace="0em" id="S5.SS1.p2.8.m8.7.7.3.1.2.2" xref="S5.SS1.p2.8.m8.7.7.3.1.2.2.cmml">∑</mo><mrow id="S5.SS1.p2.8.m8.2.2.1" xref="S5.SS1.p2.8.m8.2.2.1.cmml"><mi id="S5.SS1.p2.8.m8.2.2.1.3" xref="S5.SS1.p2.8.m8.2.2.1.3.cmml">i</mi><mo id="S5.SS1.p2.8.m8.2.2.1.2" xref="S5.SS1.p2.8.m8.2.2.1.2.cmml">∈</mo><mrow id="S5.SS1.p2.8.m8.2.2.1.1.1" xref="S5.SS1.p2.8.m8.2.2.1.1.2.cmml"><mo stretchy="false" id="S5.SS1.p2.8.m8.2.2.1.1.1.2" xref="S5.SS1.p2.8.m8.2.2.1.1.2.1.cmml">[</mo><msub id="S5.SS1.p2.8.m8.2.2.1.1.1.1" xref="S5.SS1.p2.8.m8.2.2.1.1.1.1.cmml"><mi id="S5.SS1.p2.8.m8.2.2.1.1.1.1.2" xref="S5.SS1.p2.8.m8.2.2.1.1.1.1.2.cmml">n</mi><mi mathvariant="normal" id="S5.SS1.p2.8.m8.2.2.1.1.1.1.3" xref="S5.SS1.p2.8.m8.2.2.1.1.1.1.3.cmml">ℓ</mi></msub><mo stretchy="false" id="S5.SS1.p2.8.m8.2.2.1.1.1.3" xref="S5.SS1.p2.8.m8.2.2.1.1.2.1.cmml">]</mo></mrow></mrow></msub><mrow id="S5.SS1.p2.8.m8.7.7.3.1.1.1" xref="S5.SS1.p2.8.m8.7.7.3.1.1.2.cmml"><mo stretchy="false" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.2.1.cmml">|</mo><mrow id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.cmml"><mrow id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.cmml"><msub id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.cmml"><mi id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.2.cmml">R</mi><mn id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.3" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.1" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.1.cmml">​</mo><mrow id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.1.cmml"><mo stretchy="false" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.2.1" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.1.1.cmml">[</mo><mi id="S5.SS1.p2.8.m8.3.3" xref="S5.SS1.p2.8.m8.3.3.cmml">i</mi><mo stretchy="false" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.2.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.1" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.1.cmml">−</mo><mrow id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.cmml"><msub id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.cmml"><mi id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.2.cmml">R</mi><mn id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.3" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.3.cmml">2</mn></msub><mo lspace="0em" rspace="0em" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.1" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.1.cmml">​</mo><mrow id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.1.cmml"><mo stretchy="false" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.2.1" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.1.1.cmml">[</mo><mi id="S5.SS1.p2.8.m8.4.4" xref="S5.SS1.p2.8.m8.4.4.cmml">i</mi><mo stretchy="false" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.2.2" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.1.1.cmml">]</mo></mrow></mrow></mrow><mo stretchy="false" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.3" xref="S5.SS1.p2.8.m8.7.7.3.1.1.2.1.cmml">|</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.8.m8.7b"><apply id="S5.SS1.p2.8.m8.7.7.cmml" xref="S5.SS1.p2.8.m8.7.7"><eq id="S5.SS1.p2.8.m8.7.7.4.cmml" xref="S5.SS1.p2.8.m8.7.7.4"></eq><apply id="S5.SS1.p2.8.m8.6.6.2.cmml" xref="S5.SS1.p2.8.m8.6.6.2"><times id="S5.SS1.p2.8.m8.6.6.2.3.cmml" xref="S5.SS1.p2.8.m8.6.6.2.3"></times><ci id="S5.SS1.p2.8.m8.6.6.2.4.cmml" xref="S5.SS1.p2.8.m8.6.6.2.4">𝐷</ci><interval closure="open" id="S5.SS1.p2.8.m8.6.6.2.2.3.cmml" xref="S5.SS1.p2.8.m8.6.6.2.2.2"><apply id="S5.SS1.p2.8.m8.5.5.1.1.1.1.cmml" xref="S5.SS1.p2.8.m8.5.5.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.5.5.1.1.1.1.1.cmml" xref="S5.SS1.p2.8.m8.5.5.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p2.8.m8.5.5.1.1.1.1.2.cmml" xref="S5.SS1.p2.8.m8.5.5.1.1.1.1.2">𝑅</ci><cn type="integer" id="S5.SS1.p2.8.m8.5.5.1.1.1.1.3.cmml" xref="S5.SS1.p2.8.m8.5.5.1.1.1.1.3">1</cn></apply><apply id="S5.SS1.p2.8.m8.6.6.2.2.2.2.cmml" xref="S5.SS1.p2.8.m8.6.6.2.2.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.6.6.2.2.2.2.1.cmml" xref="S5.SS1.p2.8.m8.6.6.2.2.2.2">subscript</csymbol><ci id="S5.SS1.p2.8.m8.6.6.2.2.2.2.2.cmml" xref="S5.SS1.p2.8.m8.6.6.2.2.2.2.2">𝑅</ci><cn type="integer" id="S5.SS1.p2.8.m8.6.6.2.2.2.2.3.cmml" xref="S5.SS1.p2.8.m8.6.6.2.2.2.2.3">2</cn></apply></interval></apply><apply id="S5.SS1.p2.8.m8.7.7.3.cmml" xref="S5.SS1.p2.8.m8.7.7.3"><apply id="S5.SS1.p2.8.m8.7.7.3.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.2"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.7.7.3.2.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.2">subscript</csymbol><sum id="S5.SS1.p2.8.m8.7.7.3.2.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.2.2"></sum><apply id="S5.SS1.p2.8.m8.1.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1.1"><in id="S5.SS1.p2.8.m8.1.1.1.2.cmml" xref="S5.SS1.p2.8.m8.1.1.1.2"></in><ci id="S5.SS1.p2.8.m8.1.1.1.3.cmml" xref="S5.SS1.p2.8.m8.1.1.1.3">ℓ</ci><apply id="S5.SS1.p2.8.m8.1.1.1.4.1.cmml" xref="S5.SS1.p2.8.m8.1.1.1.4.2"><csymbol cd="latexml" id="S5.SS1.p2.8.m8.1.1.1.4.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1.1.4.2.1">delimited-[]</csymbol><ci id="S5.SS1.p2.8.m8.1.1.1.1.cmml" xref="S5.SS1.p2.8.m8.1.1.1.1">𝐿</ci></apply></apply></apply><apply id="S5.SS1.p2.8.m8.7.7.3.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1"><apply id="S5.SS1.p2.8.m8.7.7.3.1.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.2"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.7.7.3.1.2.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.2">subscript</csymbol><sum id="S5.SS1.p2.8.m8.7.7.3.1.2.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.2.2"></sum><apply id="S5.SS1.p2.8.m8.2.2.1.cmml" xref="S5.SS1.p2.8.m8.2.2.1"><in id="S5.SS1.p2.8.m8.2.2.1.2.cmml" xref="S5.SS1.p2.8.m8.2.2.1.2"></in><ci id="S5.SS1.p2.8.m8.2.2.1.3.cmml" xref="S5.SS1.p2.8.m8.2.2.1.3">𝑖</ci><apply id="S5.SS1.p2.8.m8.2.2.1.1.2.cmml" xref="S5.SS1.p2.8.m8.2.2.1.1.1"><csymbol cd="latexml" id="S5.SS1.p2.8.m8.2.2.1.1.2.1.cmml" xref="S5.SS1.p2.8.m8.2.2.1.1.1.2">delimited-[]</csymbol><apply id="S5.SS1.p2.8.m8.2.2.1.1.1.1.cmml" xref="S5.SS1.p2.8.m8.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.2.2.1.1.1.1.1.cmml" xref="S5.SS1.p2.8.m8.2.2.1.1.1.1">subscript</csymbol><ci id="S5.SS1.p2.8.m8.2.2.1.1.1.1.2.cmml" xref="S5.SS1.p2.8.m8.2.2.1.1.1.1.2">𝑛</ci><ci id="S5.SS1.p2.8.m8.2.2.1.1.1.1.3.cmml" xref="S5.SS1.p2.8.m8.2.2.1.1.1.1.3">ℓ</ci></apply></apply></apply></apply><apply id="S5.SS1.p2.8.m8.7.7.3.1.1.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1"><abs id="S5.SS1.p2.8.m8.7.7.3.1.1.2.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.2"></abs><apply id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1"><minus id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.1"></minus><apply id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2"><times id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.1"></times><apply id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2">subscript</csymbol><ci id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.2">𝑅</ci><cn type="integer" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.3.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.2.3">1</cn></apply><apply id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.2"><csymbol cd="latexml" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.1.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.2.3.2.1">delimited-[]</csymbol><ci id="S5.SS1.p2.8.m8.3.3.cmml" xref="S5.SS1.p2.8.m8.3.3">𝑖</ci></apply></apply><apply id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3"><times id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.1"></times><apply id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2">subscript</csymbol><ci id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.2.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.2">𝑅</ci><cn type="integer" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.3.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.2.3">2</cn></apply><apply id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.2"><csymbol cd="latexml" id="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.1.1.cmml" xref="S5.SS1.p2.8.m8.7.7.3.1.1.1.1.3.3.2.1">delimited-[]</csymbol><ci id="S5.SS1.p2.8.m8.4.4.cmml" xref="S5.SS1.p2.8.m8.4.4">𝑖</ci></apply></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.8.m8.7c">D(R_{1},R_{2})=\sum_{\ell\in[L]}\sum_{i\in[n_{\ell}]}|R_{1}[i]-R_{2}[i]|</annotation></semantics></math> where <math id="S5.SS1.p2.9.m9.1" class="ltx_Math" alttext="R_{1}[i]" display="inline"><semantics id="S5.SS1.p2.9.m9.1a"><mrow id="S5.SS1.p2.9.m9.1.2" xref="S5.SS1.p2.9.m9.1.2.cmml"><msub id="S5.SS1.p2.9.m9.1.2.2" xref="S5.SS1.p2.9.m9.1.2.2.cmml"><mi id="S5.SS1.p2.9.m9.1.2.2.2" xref="S5.SS1.p2.9.m9.1.2.2.2.cmml">R</mi><mn id="S5.SS1.p2.9.m9.1.2.2.3" xref="S5.SS1.p2.9.m9.1.2.2.3.cmml">1</mn></msub><mo lspace="0em" rspace="0em" id="S5.SS1.p2.9.m9.1.2.1" xref="S5.SS1.p2.9.m9.1.2.1.cmml">​</mo><mrow id="S5.SS1.p2.9.m9.1.2.3.2" xref="S5.SS1.p2.9.m9.1.2.3.1.cmml"><mo stretchy="false" id="S5.SS1.p2.9.m9.1.2.3.2.1" xref="S5.SS1.p2.9.m9.1.2.3.1.1.cmml">[</mo><mi id="S5.SS1.p2.9.m9.1.1" xref="S5.SS1.p2.9.m9.1.1.cmml">i</mi><mo stretchy="false" id="S5.SS1.p2.9.m9.1.2.3.2.2" xref="S5.SS1.p2.9.m9.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.9.m9.1b"><apply id="S5.SS1.p2.9.m9.1.2.cmml" xref="S5.SS1.p2.9.m9.1.2"><times id="S5.SS1.p2.9.m9.1.2.1.cmml" xref="S5.SS1.p2.9.m9.1.2.1"></times><apply id="S5.SS1.p2.9.m9.1.2.2.cmml" xref="S5.SS1.p2.9.m9.1.2.2"><csymbol cd="ambiguous" id="S5.SS1.p2.9.m9.1.2.2.1.cmml" xref="S5.SS1.p2.9.m9.1.2.2">subscript</csymbol><ci id="S5.SS1.p2.9.m9.1.2.2.2.cmml" xref="S5.SS1.p2.9.m9.1.2.2.2">𝑅</ci><cn type="integer" id="S5.SS1.p2.9.m9.1.2.2.3.cmml" xref="S5.SS1.p2.9.m9.1.2.2.3">1</cn></apply><apply id="S5.SS1.p2.9.m9.1.2.3.1.cmml" xref="S5.SS1.p2.9.m9.1.2.3.2"><csymbol cd="latexml" id="S5.SS1.p2.9.m9.1.2.3.1.1.cmml" xref="S5.SS1.p2.9.m9.1.2.3.2.1">delimited-[]</csymbol><ci id="S5.SS1.p2.9.m9.1.1.cmml" xref="S5.SS1.p2.9.m9.1.1">𝑖</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.9.m9.1c">R_{1}[i]</annotation></semantics></math> shows the rank of parameter <math id="S5.SS1.p2.10.m10.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S5.SS1.p2.10.m10.1a"><mi id="S5.SS1.p2.10.m10.1.1" xref="S5.SS1.p2.10.m10.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.10.m10.1b"><ci id="S5.SS1.p2.10.m10.1.1.cmml" xref="S5.SS1.p2.10.m10.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.10.m10.1c">i</annotation></semantics></math>th in ranking <math id="S5.SS1.p2.11.m11.1" class="ltx_Math" alttext="R_{1}" display="inline"><semantics id="S5.SS1.p2.11.m11.1a"><msub id="S5.SS1.p2.11.m11.1.1" xref="S5.SS1.p2.11.m11.1.1.cmml"><mi id="S5.SS1.p2.11.m11.1.1.2" xref="S5.SS1.p2.11.m11.1.1.2.cmml">R</mi><mn id="S5.SS1.p2.11.m11.1.1.3" xref="S5.SS1.p2.11.m11.1.1.3.cmml">1</mn></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.11.m11.1b"><apply id="S5.SS1.p2.11.m11.1.1.cmml" xref="S5.SS1.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.11.m11.1.1.1.cmml" xref="S5.SS1.p2.11.m11.1.1">subscript</csymbol><ci id="S5.SS1.p2.11.m11.1.1.2.cmml" xref="S5.SS1.p2.11.m11.1.1.2">𝑅</ci><cn type="integer" id="S5.SS1.p2.11.m11.1.1.3.cmml" xref="S5.SS1.p2.11.m11.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.11.m11.1c">R_{1}</annotation></semantics></math>, <math id="S5.SS1.p2.12.m12.1" class="ltx_Math" alttext="L" display="inline"><semantics id="S5.SS1.p2.12.m12.1a"><mi id="S5.SS1.p2.12.m12.1.1" xref="S5.SS1.p2.12.m12.1.1.cmml">L</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.12.m12.1b"><ci id="S5.SS1.p2.12.m12.1.1.cmml" xref="S5.SS1.p2.12.m12.1.1">𝐿</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.12.m12.1c">L</annotation></semantics></math> is the number of layers in the network, and <math id="S5.SS1.p2.13.m13.1" class="ltx_Math" alttext="n_{\ell}" display="inline"><semantics id="S5.SS1.p2.13.m13.1a"><msub id="S5.SS1.p2.13.m13.1.1" xref="S5.SS1.p2.13.m13.1.1.cmml"><mi id="S5.SS1.p2.13.m13.1.1.2" xref="S5.SS1.p2.13.m13.1.1.2.cmml">n</mi><mi mathvariant="normal" id="S5.SS1.p2.13.m13.1.1.3" xref="S5.SS1.p2.13.m13.1.1.3.cmml">ℓ</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.13.m13.1b"><apply id="S5.SS1.p2.13.m13.1.1.cmml" xref="S5.SS1.p2.13.m13.1.1"><csymbol cd="ambiguous" id="S5.SS1.p2.13.m13.1.1.1.cmml" xref="S5.SS1.p2.13.m13.1.1">subscript</csymbol><ci id="S5.SS1.p2.13.m13.1.1.2.cmml" xref="S5.SS1.p2.13.m13.1.1.2">𝑛</ci><ci id="S5.SS1.p2.13.m13.1.1.3.cmml" xref="S5.SS1.p2.13.m13.1.1.3">ℓ</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.13.m13.1c">n_{\ell}</annotation></semantics></math> shows the number of parameters in layer <math id="S5.SS1.p2.14.m14.1" class="ltx_Math" alttext="\ell" display="inline"><semantics id="S5.SS1.p2.14.m14.1a"><mi mathvariant="normal" id="S5.SS1.p2.14.m14.1.1" xref="S5.SS1.p2.14.m14.1.1.cmml">ℓ</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.14.m14.1b"><ci id="S5.SS1.p2.14.m14.1.1.cmml" xref="S5.SS1.p2.14.m14.1.1">ℓ</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.14.m14.1c">\ell</annotation></semantics></math>.
In next step (Algorithm <a href="#alg2" title="Algorithm 2 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> line 11), we are updating the centroid of each cluster by applying majority vote on the ranking inside each cluster. We repeat this process for <math id="S5.SS1.p2.15.m15.1" class="ltx_Math" alttext="T" display="inline"><semantics id="S5.SS1.p2.15.m15.1a"><mi id="S5.SS1.p2.15.m15.1.1" xref="S5.SS1.p2.15.m15.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.15.m15.1b"><ci id="S5.SS1.p2.15.m15.1.1.cmml" xref="S5.SS1.p2.15.m15.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.15.m15.1c">T</annotation></semantics></math> iterations to find final <math id="S5.SS1.p2.16.m16.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S5.SS1.p2.16.m16.1a"><mi id="S5.SS1.p2.16.m16.1.1" xref="S5.SS1.p2.16.m16.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.SS1.p2.16.m16.1b"><ci id="S5.SS1.p2.16.m16.1.1.cmml" xref="S5.SS1.p2.16.m16.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS1.p2.16.m16.1c">Q</annotation></semantics></math> groups of rankings.</p>
</div>
</section>
<section id="S5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.2 </span>Client-side: Lowest Loss</h3>

<div id="S5.SS2.p1" class="ltx_para">
<p id="S5.SS2.p1.2" class="ltx_p">In this approach, each client estimates its group ID by choosing the group that its binary mask produces the lowest loss. Thus, in each E2FL round, the server broadcasts all the binary masks related to existing groups (<math id="S5.SS2.p1.1.m1.3" class="ltx_Math" alttext="M_{g,q\in[Q]}^{t}" display="inline"><semantics id="S5.SS2.p1.1.m1.3a"><msubsup id="S5.SS2.p1.1.m1.3.4" xref="S5.SS2.p1.1.m1.3.4.cmml"><mi id="S5.SS2.p1.1.m1.3.4.2.2" xref="S5.SS2.p1.1.m1.3.4.2.2.cmml">M</mi><mrow id="S5.SS2.p1.1.m1.3.3.3" xref="S5.SS2.p1.1.m1.3.3.3.cmml"><mrow id="S5.SS2.p1.1.m1.3.3.3.5.2" xref="S5.SS2.p1.1.m1.3.3.3.5.1.cmml"><mi id="S5.SS2.p1.1.m1.2.2.2.2" xref="S5.SS2.p1.1.m1.2.2.2.2.cmml">g</mi><mo id="S5.SS2.p1.1.m1.3.3.3.5.2.1" xref="S5.SS2.p1.1.m1.3.3.3.5.1.cmml">,</mo><mi id="S5.SS2.p1.1.m1.3.3.3.3" xref="S5.SS2.p1.1.m1.3.3.3.3.cmml">q</mi></mrow><mo id="S5.SS2.p1.1.m1.3.3.3.4" xref="S5.SS2.p1.1.m1.3.3.3.4.cmml">∈</mo><mrow id="S5.SS2.p1.1.m1.3.3.3.6.2" xref="S5.SS2.p1.1.m1.3.3.3.6.1.cmml"><mo stretchy="false" id="S5.SS2.p1.1.m1.3.3.3.6.2.1" xref="S5.SS2.p1.1.m1.3.3.3.6.1.1.cmml">[</mo><mi id="S5.SS2.p1.1.m1.1.1.1.1" xref="S5.SS2.p1.1.m1.1.1.1.1.cmml">Q</mi><mo stretchy="false" id="S5.SS2.p1.1.m1.3.3.3.6.2.2" xref="S5.SS2.p1.1.m1.3.3.3.6.1.1.cmml">]</mo></mrow></mrow><mi id="S5.SS2.p1.1.m1.3.4.3" xref="S5.SS2.p1.1.m1.3.4.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS2.p1.1.m1.3b"><apply id="S5.SS2.p1.1.m1.3.4.cmml" xref="S5.SS2.p1.1.m1.3.4"><csymbol cd="ambiguous" id="S5.SS2.p1.1.m1.3.4.1.cmml" xref="S5.SS2.p1.1.m1.3.4">superscript</csymbol><apply id="S5.SS2.p1.1.m1.3.4.2.cmml" xref="S5.SS2.p1.1.m1.3.4"><csymbol cd="ambiguous" id="S5.SS2.p1.1.m1.3.4.2.1.cmml" xref="S5.SS2.p1.1.m1.3.4">subscript</csymbol><ci id="S5.SS2.p1.1.m1.3.4.2.2.cmml" xref="S5.SS2.p1.1.m1.3.4.2.2">𝑀</ci><apply id="S5.SS2.p1.1.m1.3.3.3.cmml" xref="S5.SS2.p1.1.m1.3.3.3"><in id="S5.SS2.p1.1.m1.3.3.3.4.cmml" xref="S5.SS2.p1.1.m1.3.3.3.4"></in><list id="S5.SS2.p1.1.m1.3.3.3.5.1.cmml" xref="S5.SS2.p1.1.m1.3.3.3.5.2"><ci id="S5.SS2.p1.1.m1.2.2.2.2.cmml" xref="S5.SS2.p1.1.m1.2.2.2.2">𝑔</ci><ci id="S5.SS2.p1.1.m1.3.3.3.3.cmml" xref="S5.SS2.p1.1.m1.3.3.3.3">𝑞</ci></list><apply id="S5.SS2.p1.1.m1.3.3.3.6.1.cmml" xref="S5.SS2.p1.1.m1.3.3.3.6.2"><csymbol cd="latexml" id="S5.SS2.p1.1.m1.3.3.3.6.1.1.cmml" xref="S5.SS2.p1.1.m1.3.3.3.6.2.1">delimited-[]</csymbol><ci id="S5.SS2.p1.1.m1.1.1.1.1.cmml" xref="S5.SS2.p1.1.m1.1.1.1.1">𝑄</ci></apply></apply></apply><ci id="S5.SS2.p1.1.m1.3.4.3.cmml" xref="S5.SS2.p1.1.m1.3.4.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS2.p1.1.m1.3c">M_{g,q\in[Q]}^{t}</annotation></semantics></math>), and each selected client calculates the loss for each binary mask on its training data. Algorithm <a href="#alg3" title="Algorithm 3 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> line 2-4 in Appendix <a href="#A3" title="Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> shows this approach. This approach was used by IFCA <cite class="ltx_cite ltx_citemacro_citep">(Ghosh et al. <a href="#bib.bib10" title="" class="ltx_ref">2020</a>)</cite>, where in their algorithm in each training round, the server broadcasts all the model parameters to clients, and then they can find the lowest loss group. Note that our E2FL, compared to IFCA, needs <math id="S5.SS2.p1.2.m2.1" class="ltx_math_unparsed" alttext="\times 32(\times 64)" display="inline"><semantics id="S5.SS2.p1.2.m2.1a"><mrow id="S5.SS2.p1.2.m2.1b"><mo rspace="0.222em" id="S5.SS2.p1.2.m2.1.1">×</mo><mn id="S5.SS2.p1.2.m2.1.2">32</mn><mrow id="S5.SS2.p1.2.m2.1.3"><mo stretchy="false" id="S5.SS2.p1.2.m2.1.3.1">(</mo><mo lspace="0em" rspace="0.222em" id="S5.SS2.p1.2.m2.1.3.2">×</mo><mn id="S5.SS2.p1.2.m2.1.3.3">64</mn><mo stretchy="false" id="S5.SS2.p1.2.m2.1.3.4">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="S5.SS2.p1.2.m2.1c">\times 32(\times 64)</annotation></semantics></math> less download bandwidth in each round because it is working on the binary masks.</p>
</div>
</section>
<section id="S5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">5.3 </span>Client-side: Entropy of the output</h3>

<div id="S5.SS3.p1" class="ltx_para">
<p id="S5.SS3.p1.1" class="ltx_p">Binary masks enable us to utilize other approaches for group inference. In these approaches <cite class="ltx_cite ltx_citemacro_citep">(Wortsman et al. <a href="#bib.bib30" title="" class="ltx_ref">2020</a>)</cite>, the client can infer the group ID using gradient-based optimization to find a linear superposition of learned binary masks which minimizes the output entropy.
 <cite class="ltx_cite ltx_citemacro_citet">Wortsman et al. (<a href="#bib.bib30" title="" class="ltx_ref">2020</a>)</cite> proposed these solutions to learn multiple tasks without catastrophic forgetting in continual learning.
In these solutions, each client infers the group ID by choosing the most confident binary mask that produces more stable results. There are two variants of this approach as follows:</p>
</div>
<div id="S5.SS3.p2" class="ltx_para ltx_noindent">
<p id="S5.SS3.p2.17" class="ltx_p"><span id="S5.SS3.p2.17.1" class="ltx_text ltx_font_bold">OneShot inference:</span>  Algorithm <a href="#alg3" title="Algorithm 3 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> line 5-9 in Appendix <a href="#A3" title="Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> shows this approach. At E2FL training round <math id="S5.SS3.p2.1.m1.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S5.SS3.p2.1.m1.1a"><mi id="S5.SS3.p2.1.m1.1.1" xref="S5.SS3.p2.1.m1.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.1.m1.1b"><ci id="S5.SS3.p2.1.m1.1.1.cmml" xref="S5.SS3.p2.1.m1.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.1.m1.1c">t</annotation></semantics></math>, the server broadcasts <math id="S5.SS3.p2.2.m2.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S5.SS3.p2.2.m2.1a"><mi id="S5.SS3.p2.2.m2.1.1" xref="S5.SS3.p2.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.2.m2.1b"><ci id="S5.SS3.p2.2.m2.1.1.cmml" xref="S5.SS3.p2.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.2.m2.1c">Q</annotation></semantics></math> leaned binary masks <math id="S5.SS3.p2.3.m3.3" class="ltx_Math" alttext="M_{g,q\in[Q]}^{t}" display="inline"><semantics id="S5.SS3.p2.3.m3.3a"><msubsup id="S5.SS3.p2.3.m3.3.4" xref="S5.SS3.p2.3.m3.3.4.cmml"><mi id="S5.SS3.p2.3.m3.3.4.2.2" xref="S5.SS3.p2.3.m3.3.4.2.2.cmml">M</mi><mrow id="S5.SS3.p2.3.m3.3.3.3" xref="S5.SS3.p2.3.m3.3.3.3.cmml"><mrow id="S5.SS3.p2.3.m3.3.3.3.5.2" xref="S5.SS3.p2.3.m3.3.3.3.5.1.cmml"><mi id="S5.SS3.p2.3.m3.2.2.2.2" xref="S5.SS3.p2.3.m3.2.2.2.2.cmml">g</mi><mo id="S5.SS3.p2.3.m3.3.3.3.5.2.1" xref="S5.SS3.p2.3.m3.3.3.3.5.1.cmml">,</mo><mi id="S5.SS3.p2.3.m3.3.3.3.3" xref="S5.SS3.p2.3.m3.3.3.3.3.cmml">q</mi></mrow><mo id="S5.SS3.p2.3.m3.3.3.3.4" xref="S5.SS3.p2.3.m3.3.3.3.4.cmml">∈</mo><mrow id="S5.SS3.p2.3.m3.3.3.3.6.2" xref="S5.SS3.p2.3.m3.3.3.3.6.1.cmml"><mo stretchy="false" id="S5.SS3.p2.3.m3.3.3.3.6.2.1" xref="S5.SS3.p2.3.m3.3.3.3.6.1.1.cmml">[</mo><mi id="S5.SS3.p2.3.m3.1.1.1.1" xref="S5.SS3.p2.3.m3.1.1.1.1.cmml">Q</mi><mo stretchy="false" id="S5.SS3.p2.3.m3.3.3.3.6.2.2" xref="S5.SS3.p2.3.m3.3.3.3.6.1.1.cmml">]</mo></mrow></mrow><mi id="S5.SS3.p2.3.m3.3.4.3" xref="S5.SS3.p2.3.m3.3.4.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.3.m3.3b"><apply id="S5.SS3.p2.3.m3.3.4.cmml" xref="S5.SS3.p2.3.m3.3.4"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.3.4.1.cmml" xref="S5.SS3.p2.3.m3.3.4">superscript</csymbol><apply id="S5.SS3.p2.3.m3.3.4.2.cmml" xref="S5.SS3.p2.3.m3.3.4"><csymbol cd="ambiguous" id="S5.SS3.p2.3.m3.3.4.2.1.cmml" xref="S5.SS3.p2.3.m3.3.4">subscript</csymbol><ci id="S5.SS3.p2.3.m3.3.4.2.2.cmml" xref="S5.SS3.p2.3.m3.3.4.2.2">𝑀</ci><apply id="S5.SS3.p2.3.m3.3.3.3.cmml" xref="S5.SS3.p2.3.m3.3.3.3"><in id="S5.SS3.p2.3.m3.3.3.3.4.cmml" xref="S5.SS3.p2.3.m3.3.3.3.4"></in><list id="S5.SS3.p2.3.m3.3.3.3.5.1.cmml" xref="S5.SS3.p2.3.m3.3.3.3.5.2"><ci id="S5.SS3.p2.3.m3.2.2.2.2.cmml" xref="S5.SS3.p2.3.m3.2.2.2.2">𝑔</ci><ci id="S5.SS3.p2.3.m3.3.3.3.3.cmml" xref="S5.SS3.p2.3.m3.3.3.3.3">𝑞</ci></list><apply id="S5.SS3.p2.3.m3.3.3.3.6.1.cmml" xref="S5.SS3.p2.3.m3.3.3.3.6.2"><csymbol cd="latexml" id="S5.SS3.p2.3.m3.3.3.3.6.1.1.cmml" xref="S5.SS3.p2.3.m3.3.3.3.6.2.1">delimited-[]</csymbol><ci id="S5.SS3.p2.3.m3.1.1.1.1.cmml" xref="S5.SS3.p2.3.m3.1.1.1.1">𝑄</ci></apply></apply></apply><ci id="S5.SS3.p2.3.m3.3.4.3.cmml" xref="S5.SS3.p2.3.m3.3.4.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.3.m3.3c">M_{g,q\in[Q]}^{t}</annotation></semantics></math> to the selected clients. Next, each client assigns a confidence coefficient (<math id="S5.SS3.p2.4.m4.1" class="ltx_Math" alttext="\alpha_{q}" display="inline"><semantics id="S5.SS3.p2.4.m4.1a"><msub id="S5.SS3.p2.4.m4.1.1" xref="S5.SS3.p2.4.m4.1.1.cmml"><mi id="S5.SS3.p2.4.m4.1.1.2" xref="S5.SS3.p2.4.m4.1.1.2.cmml">α</mi><mi id="S5.SS3.p2.4.m4.1.1.3" xref="S5.SS3.p2.4.m4.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.4.m4.1b"><apply id="S5.SS3.p2.4.m4.1.1.cmml" xref="S5.SS3.p2.4.m4.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.4.m4.1.1.1.cmml" xref="S5.SS3.p2.4.m4.1.1">subscript</csymbol><ci id="S5.SS3.p2.4.m4.1.1.2.cmml" xref="S5.SS3.p2.4.m4.1.1.2">𝛼</ci><ci id="S5.SS3.p2.4.m4.1.1.3.cmml" xref="S5.SS3.p2.4.m4.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.4.m4.1c">\alpha_{q}</annotation></semantics></math>) to each binary mask.
Each <math id="S5.SS3.p2.5.m5.1" class="ltx_Math" alttext="\alpha_{q}" display="inline"><semantics id="S5.SS3.p2.5.m5.1a"><msub id="S5.SS3.p2.5.m5.1.1" xref="S5.SS3.p2.5.m5.1.1.cmml"><mi id="S5.SS3.p2.5.m5.1.1.2" xref="S5.SS3.p2.5.m5.1.1.2.cmml">α</mi><mi id="S5.SS3.p2.5.m5.1.1.3" xref="S5.SS3.p2.5.m5.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.5.m5.1b"><apply id="S5.SS3.p2.5.m5.1.1.cmml" xref="S5.SS3.p2.5.m5.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.5.m5.1.1.1.cmml" xref="S5.SS3.p2.5.m5.1.1">subscript</csymbol><ci id="S5.SS3.p2.5.m5.1.1.2.cmml" xref="S5.SS3.p2.5.m5.1.1.2">𝛼</ci><ci id="S5.SS3.p2.5.m5.1.1.3.cmml" xref="S5.SS3.p2.5.m5.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.5.m5.1c">\alpha_{q}</annotation></semantics></math> represents how much the client is confident that <math id="S5.SS3.p2.6.m6.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S5.SS3.p2.6.m6.1a"><mi id="S5.SS3.p2.6.m6.1.1" xref="S5.SS3.p2.6.m6.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.6.m6.1b"><ci id="S5.SS3.p2.6.m6.1.1.cmml" xref="S5.SS3.p2.6.m6.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.6.m6.1c">q</annotation></semantics></math>th binary mask is its match.
Then it calculates the output of the model as the weighted superposition of these masks (i.e., <math id="S5.SS3.p2.7.m7.5" class="ltx_Math" alttext="p(\alpha)=f\left(x,\theta^{w}\bigodot(\sum_{q=1}^{Q}\alpha_{q}M_{g,q}^{t})\right)" display="inline"><semantics id="S5.SS3.p2.7.m7.5a"><mrow id="S5.SS3.p2.7.m7.5.5" xref="S5.SS3.p2.7.m7.5.5.cmml"><mrow id="S5.SS3.p2.7.m7.5.5.3" xref="S5.SS3.p2.7.m7.5.5.3.cmml"><mi id="S5.SS3.p2.7.m7.5.5.3.2" xref="S5.SS3.p2.7.m7.5.5.3.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p2.7.m7.5.5.3.1" xref="S5.SS3.p2.7.m7.5.5.3.1.cmml">​</mo><mrow id="S5.SS3.p2.7.m7.5.5.3.3.2" xref="S5.SS3.p2.7.m7.5.5.3.cmml"><mo stretchy="false" id="S5.SS3.p2.7.m7.5.5.3.3.2.1" xref="S5.SS3.p2.7.m7.5.5.3.cmml">(</mo><mi id="S5.SS3.p2.7.m7.3.3" xref="S5.SS3.p2.7.m7.3.3.cmml">α</mi><mo stretchy="false" id="S5.SS3.p2.7.m7.5.5.3.3.2.2" xref="S5.SS3.p2.7.m7.5.5.3.cmml">)</mo></mrow></mrow><mo id="S5.SS3.p2.7.m7.5.5.2" xref="S5.SS3.p2.7.m7.5.5.2.cmml">=</mo><mrow id="S5.SS3.p2.7.m7.5.5.1" xref="S5.SS3.p2.7.m7.5.5.1.cmml"><mi id="S5.SS3.p2.7.m7.5.5.1.3" xref="S5.SS3.p2.7.m7.5.5.1.3.cmml">f</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p2.7.m7.5.5.1.2" xref="S5.SS3.p2.7.m7.5.5.1.2.cmml">​</mo><mrow id="S5.SS3.p2.7.m7.5.5.1.1.1" xref="S5.SS3.p2.7.m7.5.5.1.1.2.cmml"><mo id="S5.SS3.p2.7.m7.5.5.1.1.1.2" xref="S5.SS3.p2.7.m7.5.5.1.1.2.cmml">(</mo><mi id="S5.SS3.p2.7.m7.4.4" xref="S5.SS3.p2.7.m7.4.4.cmml">x</mi><mo id="S5.SS3.p2.7.m7.5.5.1.1.1.3" xref="S5.SS3.p2.7.m7.5.5.1.1.2.cmml">,</mo><mrow id="S5.SS3.p2.7.m7.5.5.1.1.1.1" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.cmml"><msup id="S5.SS3.p2.7.m7.5.5.1.1.1.1.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.cmml"><mi id="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.2.cmml">θ</mi><mi id="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.3.cmml">w</mi></msup><mo lspace="0em" rspace="0em" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.2.cmml">​</mo><mrow id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.cmml"><mo rspace="0em" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.2.cmml">⨀</mo><mrow id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.cmml"><msubsup id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.cmml"><mo lspace="0em" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.2.cmml">q</mi><mo id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.1" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.1.cmml">=</mo><mn id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.3.cmml">Q</mi></msubsup><mrow id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.cmml"><msub id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.2.cmml">α</mi><mi id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.1" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.1.cmml">​</mo><msubsup id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.cmml"><mi id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.2.2" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.2.2.cmml">M</mi><mrow id="S5.SS3.p2.7.m7.2.2.2.4" xref="S5.SS3.p2.7.m7.2.2.2.3.cmml"><mi id="S5.SS3.p2.7.m7.1.1.1.1" xref="S5.SS3.p2.7.m7.1.1.1.1.cmml">g</mi><mo id="S5.SS3.p2.7.m7.2.2.2.4.1" xref="S5.SS3.p2.7.m7.2.2.2.3.cmml">,</mo><mi id="S5.SS3.p2.7.m7.2.2.2.2" xref="S5.SS3.p2.7.m7.2.2.2.2.cmml">q</mi></mrow><mi id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.3.cmml">t</mi></msubsup></mrow></mrow><mo stretchy="false" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.3" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S5.SS3.p2.7.m7.5.5.1.1.1.4" xref="S5.SS3.p2.7.m7.5.5.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.7.m7.5b"><apply id="S5.SS3.p2.7.m7.5.5.cmml" xref="S5.SS3.p2.7.m7.5.5"><eq id="S5.SS3.p2.7.m7.5.5.2.cmml" xref="S5.SS3.p2.7.m7.5.5.2"></eq><apply id="S5.SS3.p2.7.m7.5.5.3.cmml" xref="S5.SS3.p2.7.m7.5.5.3"><times id="S5.SS3.p2.7.m7.5.5.3.1.cmml" xref="S5.SS3.p2.7.m7.5.5.3.1"></times><ci id="S5.SS3.p2.7.m7.5.5.3.2.cmml" xref="S5.SS3.p2.7.m7.5.5.3.2">𝑝</ci><ci id="S5.SS3.p2.7.m7.3.3.cmml" xref="S5.SS3.p2.7.m7.3.3">𝛼</ci></apply><apply id="S5.SS3.p2.7.m7.5.5.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1"><times id="S5.SS3.p2.7.m7.5.5.1.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.2"></times><ci id="S5.SS3.p2.7.m7.5.5.1.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.3">𝑓</ci><interval closure="open" id="S5.SS3.p2.7.m7.5.5.1.1.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1"><ci id="S5.SS3.p2.7.m7.4.4.cmml" xref="S5.SS3.p2.7.m7.4.4">𝑥</ci><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1"><times id="S5.SS3.p2.7.m7.5.5.1.1.1.1.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.2"></times><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.3"><csymbol cd="ambiguous" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.3">superscript</csymbol><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.2">𝜃</ci><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.3.3">𝑤</ci></apply><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1"><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.2">⨀</ci><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1"><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1">subscript</csymbol><sum id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.2"></sum><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3"><eq id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.1"></eq><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.2">𝑞</ci><cn type="integer" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.1.3">𝑄</ci></apply><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2"><times id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.1"></times><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.2">𝛼</ci><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.2.3">𝑞</ci></apply><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3">superscript</csymbol><apply id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.2.1.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.2.2.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.2.2">𝑀</ci><list id="S5.SS3.p2.7.m7.2.2.2.3.cmml" xref="S5.SS3.p2.7.m7.2.2.2.4"><ci id="S5.SS3.p2.7.m7.1.1.1.1.cmml" xref="S5.SS3.p2.7.m7.1.1.1.1">𝑔</ci><ci id="S5.SS3.p2.7.m7.2.2.2.2.cmml" xref="S5.SS3.p2.7.m7.2.2.2.2">𝑞</ci></list></apply><ci id="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.3.cmml" xref="S5.SS3.p2.7.m7.5.5.1.1.1.1.1.1.1.1.2.3.3">𝑡</ci></apply></apply></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.7.m7.5c">p(\alpha)=f\left(x,\theta^{w}\bigodot(\sum_{q=1}^{Q}\alpha_{q}M_{g,q}^{t})\right)</annotation></semantics></math>).
The <math id="S5.SS3.p2.8.m8.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S5.SS3.p2.8.m8.1a"><mi id="S5.SS3.p2.8.m8.1.1" xref="S5.SS3.p2.8.m8.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.8.m8.1b"><ci id="S5.SS3.p2.8.m8.1.1.cmml" xref="S5.SS3.p2.8.m8.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.8.m8.1c">\alpha</annotation></semantics></math> is initialized in a way that all the masks have equal chance (<math id="S5.SS3.p2.9.m9.1" class="ltx_Math" alttext="\alpha_{0}[q]=\frac{1}{Q}" display="inline"><semantics id="S5.SS3.p2.9.m9.1a"><mrow id="S5.SS3.p2.9.m9.1.2" xref="S5.SS3.p2.9.m9.1.2.cmml"><mrow id="S5.SS3.p2.9.m9.1.2.2" xref="S5.SS3.p2.9.m9.1.2.2.cmml"><msub id="S5.SS3.p2.9.m9.1.2.2.2" xref="S5.SS3.p2.9.m9.1.2.2.2.cmml"><mi id="S5.SS3.p2.9.m9.1.2.2.2.2" xref="S5.SS3.p2.9.m9.1.2.2.2.2.cmml">α</mi><mn id="S5.SS3.p2.9.m9.1.2.2.2.3" xref="S5.SS3.p2.9.m9.1.2.2.2.3.cmml">0</mn></msub><mo lspace="0em" rspace="0em" id="S5.SS3.p2.9.m9.1.2.2.1" xref="S5.SS3.p2.9.m9.1.2.2.1.cmml">​</mo><mrow id="S5.SS3.p2.9.m9.1.2.2.3.2" xref="S5.SS3.p2.9.m9.1.2.2.3.1.cmml"><mo stretchy="false" id="S5.SS3.p2.9.m9.1.2.2.3.2.1" xref="S5.SS3.p2.9.m9.1.2.2.3.1.1.cmml">[</mo><mi id="S5.SS3.p2.9.m9.1.1" xref="S5.SS3.p2.9.m9.1.1.cmml">q</mi><mo stretchy="false" id="S5.SS3.p2.9.m9.1.2.2.3.2.2" xref="S5.SS3.p2.9.m9.1.2.2.3.1.1.cmml">]</mo></mrow></mrow><mo id="S5.SS3.p2.9.m9.1.2.1" xref="S5.SS3.p2.9.m9.1.2.1.cmml">=</mo><mfrac id="S5.SS3.p2.9.m9.1.2.3" xref="S5.SS3.p2.9.m9.1.2.3.cmml"><mn id="S5.SS3.p2.9.m9.1.2.3.2" xref="S5.SS3.p2.9.m9.1.2.3.2.cmml">1</mn><mi id="S5.SS3.p2.9.m9.1.2.3.3" xref="S5.SS3.p2.9.m9.1.2.3.3.cmml">Q</mi></mfrac></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.9.m9.1b"><apply id="S5.SS3.p2.9.m9.1.2.cmml" xref="S5.SS3.p2.9.m9.1.2"><eq id="S5.SS3.p2.9.m9.1.2.1.cmml" xref="S5.SS3.p2.9.m9.1.2.1"></eq><apply id="S5.SS3.p2.9.m9.1.2.2.cmml" xref="S5.SS3.p2.9.m9.1.2.2"><times id="S5.SS3.p2.9.m9.1.2.2.1.cmml" xref="S5.SS3.p2.9.m9.1.2.2.1"></times><apply id="S5.SS3.p2.9.m9.1.2.2.2.cmml" xref="S5.SS3.p2.9.m9.1.2.2.2"><csymbol cd="ambiguous" id="S5.SS3.p2.9.m9.1.2.2.2.1.cmml" xref="S5.SS3.p2.9.m9.1.2.2.2">subscript</csymbol><ci id="S5.SS3.p2.9.m9.1.2.2.2.2.cmml" xref="S5.SS3.p2.9.m9.1.2.2.2.2">𝛼</ci><cn type="integer" id="S5.SS3.p2.9.m9.1.2.2.2.3.cmml" xref="S5.SS3.p2.9.m9.1.2.2.2.3">0</cn></apply><apply id="S5.SS3.p2.9.m9.1.2.2.3.1.cmml" xref="S5.SS3.p2.9.m9.1.2.2.3.2"><csymbol cd="latexml" id="S5.SS3.p2.9.m9.1.2.2.3.1.1.cmml" xref="S5.SS3.p2.9.m9.1.2.2.3.2.1">delimited-[]</csymbol><ci id="S5.SS3.p2.9.m9.1.1.cmml" xref="S5.SS3.p2.9.m9.1.1">𝑞</ci></apply></apply><apply id="S5.SS3.p2.9.m9.1.2.3.cmml" xref="S5.SS3.p2.9.m9.1.2.3"><divide id="S5.SS3.p2.9.m9.1.2.3.1.cmml" xref="S5.SS3.p2.9.m9.1.2.3"></divide><cn type="integer" id="S5.SS3.p2.9.m9.1.2.3.2.cmml" xref="S5.SS3.p2.9.m9.1.2.3.2">1</cn><ci id="S5.SS3.p2.9.m9.1.2.3.3.cmml" xref="S5.SS3.p2.9.m9.1.2.3.3">𝑄</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.9.m9.1c">\alpha_{0}[q]=\frac{1}{Q}</annotation></semantics></math> for <math id="S5.SS3.p2.10.m10.1" class="ltx_Math" alttext="q\in[Q]" display="inline"><semantics id="S5.SS3.p2.10.m10.1a"><mrow id="S5.SS3.p2.10.m10.1.2" xref="S5.SS3.p2.10.m10.1.2.cmml"><mi id="S5.SS3.p2.10.m10.1.2.2" xref="S5.SS3.p2.10.m10.1.2.2.cmml">q</mi><mo id="S5.SS3.p2.10.m10.1.2.1" xref="S5.SS3.p2.10.m10.1.2.1.cmml">∈</mo><mrow id="S5.SS3.p2.10.m10.1.2.3.2" xref="S5.SS3.p2.10.m10.1.2.3.1.cmml"><mo stretchy="false" id="S5.SS3.p2.10.m10.1.2.3.2.1" xref="S5.SS3.p2.10.m10.1.2.3.1.1.cmml">[</mo><mi id="S5.SS3.p2.10.m10.1.1" xref="S5.SS3.p2.10.m10.1.1.cmml">Q</mi><mo stretchy="false" id="S5.SS3.p2.10.m10.1.2.3.2.2" xref="S5.SS3.p2.10.m10.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.10.m10.1b"><apply id="S5.SS3.p2.10.m10.1.2.cmml" xref="S5.SS3.p2.10.m10.1.2"><in id="S5.SS3.p2.10.m10.1.2.1.cmml" xref="S5.SS3.p2.10.m10.1.2.1"></in><ci id="S5.SS3.p2.10.m10.1.2.2.cmml" xref="S5.SS3.p2.10.m10.1.2.2">𝑞</ci><apply id="S5.SS3.p2.10.m10.1.2.3.1.cmml" xref="S5.SS3.p2.10.m10.1.2.3.2"><csymbol cd="latexml" id="S5.SS3.p2.10.m10.1.2.3.1.1.cmml" xref="S5.SS3.p2.10.m10.1.2.3.2.1">delimited-[]</csymbol><ci id="S5.SS3.p2.10.m10.1.1.cmml" xref="S5.SS3.p2.10.m10.1.1">𝑄</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.10.m10.1c">q\in[Q]</annotation></semantics></math>).
Now, Each client tries to find the perfect <math id="S5.SS3.p2.11.m11.1" class="ltx_Math" alttext="\alpha_{q}" display="inline"><semantics id="S5.SS3.p2.11.m11.1a"><msub id="S5.SS3.p2.11.m11.1.1" xref="S5.SS3.p2.11.m11.1.1.cmml"><mi id="S5.SS3.p2.11.m11.1.1.2" xref="S5.SS3.p2.11.m11.1.1.2.cmml">α</mi><mi id="S5.SS3.p2.11.m11.1.1.3" xref="S5.SS3.p2.11.m11.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.11.m11.1b"><apply id="S5.SS3.p2.11.m11.1.1.cmml" xref="S5.SS3.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.11.m11.1.1.1.cmml" xref="S5.SS3.p2.11.m11.1.1">subscript</csymbol><ci id="S5.SS3.p2.11.m11.1.1.2.cmml" xref="S5.SS3.p2.11.m11.1.1.2">𝛼</ci><ci id="S5.SS3.p2.11.m11.1.1.3.cmml" xref="S5.SS3.p2.11.m11.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.11.m11.1c">\alpha_{q}</annotation></semantics></math> that minimizes the entropy of the outputs <math id="S5.SS3.p2.12.m12.2" class="ltx_Math" alttext="H(p(\alpha))" display="inline"><semantics id="S5.SS3.p2.12.m12.2a"><mrow id="S5.SS3.p2.12.m12.2.2" xref="S5.SS3.p2.12.m12.2.2.cmml"><mi id="S5.SS3.p2.12.m12.2.2.3" xref="S5.SS3.p2.12.m12.2.2.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p2.12.m12.2.2.2" xref="S5.SS3.p2.12.m12.2.2.2.cmml">​</mo><mrow id="S5.SS3.p2.12.m12.2.2.1.1" xref="S5.SS3.p2.12.m12.2.2.1.1.1.cmml"><mo stretchy="false" id="S5.SS3.p2.12.m12.2.2.1.1.2" xref="S5.SS3.p2.12.m12.2.2.1.1.1.cmml">(</mo><mrow id="S5.SS3.p2.12.m12.2.2.1.1.1" xref="S5.SS3.p2.12.m12.2.2.1.1.1.cmml"><mi id="S5.SS3.p2.12.m12.2.2.1.1.1.2" xref="S5.SS3.p2.12.m12.2.2.1.1.1.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p2.12.m12.2.2.1.1.1.1" xref="S5.SS3.p2.12.m12.2.2.1.1.1.1.cmml">​</mo><mrow id="S5.SS3.p2.12.m12.2.2.1.1.1.3.2" xref="S5.SS3.p2.12.m12.2.2.1.1.1.cmml"><mo stretchy="false" id="S5.SS3.p2.12.m12.2.2.1.1.1.3.2.1" xref="S5.SS3.p2.12.m12.2.2.1.1.1.cmml">(</mo><mi id="S5.SS3.p2.12.m12.1.1" xref="S5.SS3.p2.12.m12.1.1.cmml">α</mi><mo stretchy="false" id="S5.SS3.p2.12.m12.2.2.1.1.1.3.2.2" xref="S5.SS3.p2.12.m12.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S5.SS3.p2.12.m12.2.2.1.1.3" xref="S5.SS3.p2.12.m12.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.12.m12.2b"><apply id="S5.SS3.p2.12.m12.2.2.cmml" xref="S5.SS3.p2.12.m12.2.2"><times id="S5.SS3.p2.12.m12.2.2.2.cmml" xref="S5.SS3.p2.12.m12.2.2.2"></times><ci id="S5.SS3.p2.12.m12.2.2.3.cmml" xref="S5.SS3.p2.12.m12.2.2.3">𝐻</ci><apply id="S5.SS3.p2.12.m12.2.2.1.1.1.cmml" xref="S5.SS3.p2.12.m12.2.2.1.1"><times id="S5.SS3.p2.12.m12.2.2.1.1.1.1.cmml" xref="S5.SS3.p2.12.m12.2.2.1.1.1.1"></times><ci id="S5.SS3.p2.12.m12.2.2.1.1.1.2.cmml" xref="S5.SS3.p2.12.m12.2.2.1.1.1.2">𝑝</ci><ci id="S5.SS3.p2.12.m12.1.1.cmml" xref="S5.SS3.p2.12.m12.1.1">𝛼</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.12.m12.2c">H(p(\alpha))</annotation></semantics></math> by applying gradient descent with respect to <math id="S5.SS3.p2.13.m13.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S5.SS3.p2.13.m13.1a"><mi id="S5.SS3.p2.13.m13.1.1" xref="S5.SS3.p2.13.m13.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.13.m13.1b"><ci id="S5.SS3.p2.13.m13.1.1.cmml" xref="S5.SS3.p2.13.m13.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.13.m13.1c">\alpha</annotation></semantics></math> just for one round, i.e., <math id="S5.SS3.p2.14.m14.2" class="ltx_Math" alttext="\alpha\leftarrow\alpha-\beta\triangledown_{\alpha}H(p(\alpha))" display="inline"><semantics id="S5.SS3.p2.14.m14.2a"><mrow id="S5.SS3.p2.14.m14.2.2" xref="S5.SS3.p2.14.m14.2.2.cmml"><mi id="S5.SS3.p2.14.m14.2.2.3" xref="S5.SS3.p2.14.m14.2.2.3.cmml">α</mi><mo stretchy="false" id="S5.SS3.p2.14.m14.2.2.2" xref="S5.SS3.p2.14.m14.2.2.2.cmml">←</mo><mrow id="S5.SS3.p2.14.m14.2.2.1" xref="S5.SS3.p2.14.m14.2.2.1.cmml"><mi id="S5.SS3.p2.14.m14.2.2.1.3" xref="S5.SS3.p2.14.m14.2.2.1.3.cmml">α</mi><mo id="S5.SS3.p2.14.m14.2.2.1.2" xref="S5.SS3.p2.14.m14.2.2.1.2.cmml">−</mo><mrow id="S5.SS3.p2.14.m14.2.2.1.1" xref="S5.SS3.p2.14.m14.2.2.1.1.cmml"><mi id="S5.SS3.p2.14.m14.2.2.1.1.3" xref="S5.SS3.p2.14.m14.2.2.1.1.3.cmml">β</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p2.14.m14.2.2.1.1.2" xref="S5.SS3.p2.14.m14.2.2.1.1.2.cmml">​</mo><msub id="S5.SS3.p2.14.m14.2.2.1.1.4" xref="S5.SS3.p2.14.m14.2.2.1.1.4.cmml"><mi mathvariant="normal" id="S5.SS3.p2.14.m14.2.2.1.1.4.2" xref="S5.SS3.p2.14.m14.2.2.1.1.4.2.cmml">▽</mi><mi id="S5.SS3.p2.14.m14.2.2.1.1.4.3" xref="S5.SS3.p2.14.m14.2.2.1.1.4.3.cmml">α</mi></msub><mo lspace="0em" rspace="0em" id="S5.SS3.p2.14.m14.2.2.1.1.2a" xref="S5.SS3.p2.14.m14.2.2.1.1.2.cmml">​</mo><mi id="S5.SS3.p2.14.m14.2.2.1.1.5" xref="S5.SS3.p2.14.m14.2.2.1.1.5.cmml">H</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p2.14.m14.2.2.1.1.2b" xref="S5.SS3.p2.14.m14.2.2.1.1.2.cmml">​</mo><mrow id="S5.SS3.p2.14.m14.2.2.1.1.1.1" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.SS3.p2.14.m14.2.2.1.1.1.1.2" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.cmml">(</mo><mrow id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.cmml"><mi id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.2" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.1" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.1.cmml">​</mo><mrow id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.3.2" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.cmml"><mo stretchy="false" id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.3.2.1" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.cmml">(</mo><mi id="S5.SS3.p2.14.m14.1.1" xref="S5.SS3.p2.14.m14.1.1.cmml">α</mi><mo stretchy="false" id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.3.2.2" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S5.SS3.p2.14.m14.2.2.1.1.1.1.3" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.14.m14.2b"><apply id="S5.SS3.p2.14.m14.2.2.cmml" xref="S5.SS3.p2.14.m14.2.2"><ci id="S5.SS3.p2.14.m14.2.2.2.cmml" xref="S5.SS3.p2.14.m14.2.2.2">←</ci><ci id="S5.SS3.p2.14.m14.2.2.3.cmml" xref="S5.SS3.p2.14.m14.2.2.3">𝛼</ci><apply id="S5.SS3.p2.14.m14.2.2.1.cmml" xref="S5.SS3.p2.14.m14.2.2.1"><minus id="S5.SS3.p2.14.m14.2.2.1.2.cmml" xref="S5.SS3.p2.14.m14.2.2.1.2"></minus><ci id="S5.SS3.p2.14.m14.2.2.1.3.cmml" xref="S5.SS3.p2.14.m14.2.2.1.3">𝛼</ci><apply id="S5.SS3.p2.14.m14.2.2.1.1.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1"><times id="S5.SS3.p2.14.m14.2.2.1.1.2.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.2"></times><ci id="S5.SS3.p2.14.m14.2.2.1.1.3.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.3">𝛽</ci><apply id="S5.SS3.p2.14.m14.2.2.1.1.4.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.4"><csymbol cd="ambiguous" id="S5.SS3.p2.14.m14.2.2.1.1.4.1.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.4">subscript</csymbol><ci id="S5.SS3.p2.14.m14.2.2.1.1.4.2.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.4.2">▽</ci><ci id="S5.SS3.p2.14.m14.2.2.1.1.4.3.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.4.3">𝛼</ci></apply><ci id="S5.SS3.p2.14.m14.2.2.1.1.5.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.5">𝐻</ci><apply id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1"><times id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.1.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.1"></times><ci id="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.2.cmml" xref="S5.SS3.p2.14.m14.2.2.1.1.1.1.1.2">𝑝</ci><ci id="S5.SS3.p2.14.m14.1.1.cmml" xref="S5.SS3.p2.14.m14.1.1">𝛼</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.14.m14.2c">\alpha\leftarrow\alpha-\beta\triangledown_{\alpha}H(p(\alpha))</annotation></semantics></math>.
In this approach, the client chooses the group ID <math id="S5.SS3.p2.15.m15.1" class="ltx_Math" alttext="q" display="inline"><semantics id="S5.SS3.p2.15.m15.1a"><mi id="S5.SS3.p2.15.m15.1.1" xref="S5.SS3.p2.15.m15.1.1.cmml">q</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.15.m15.1b"><ci id="S5.SS3.p2.15.m15.1.1.cmml" xref="S5.SS3.p2.15.m15.1.1">𝑞</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.15.m15.1c">q</annotation></semantics></math> that changing its confidence level (<math id="S5.SS3.p2.16.m16.1" class="ltx_Math" alttext="\alpha_{q}" display="inline"><semantics id="S5.SS3.p2.16.m16.1a"><msub id="S5.SS3.p2.16.m16.1.1" xref="S5.SS3.p2.16.m16.1.1.cmml"><mi id="S5.SS3.p2.16.m16.1.1.2" xref="S5.SS3.p2.16.m16.1.1.2.cmml">α</mi><mi id="S5.SS3.p2.16.m16.1.1.3" xref="S5.SS3.p2.16.m16.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p2.16.m16.1b"><apply id="S5.SS3.p2.16.m16.1.1.cmml" xref="S5.SS3.p2.16.m16.1.1"><csymbol cd="ambiguous" id="S5.SS3.p2.16.m16.1.1.1.cmml" xref="S5.SS3.p2.16.m16.1.1">subscript</csymbol><ci id="S5.SS3.p2.16.m16.1.1.2.cmml" xref="S5.SS3.p2.16.m16.1.1.2">𝛼</ci><ci id="S5.SS3.p2.16.m16.1.1.3.cmml" xref="S5.SS3.p2.16.m16.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p2.16.m16.1c">\alpha_{q}</annotation></semantics></math>) has the most impact on the entropy of the output of mixed models, i.e., <math id="S5.SS3.p2.17.m17.3" class="ltx_math_unparsed" alttext="\arg\max_{q}\left(-\frac{\partial H(p(\alpha)))}{\partial\alpha_{q}}\right)" display="inline"><semantics id="S5.SS3.p2.17.m17.3a"><mrow id="S5.SS3.p2.17.m17.3.3"><mi id="S5.SS3.p2.17.m17.3.3.3">arg</mi><mo lspace="0.167em" id="S5.SS3.p2.17.m17.3.3a">⁡</mo><mrow id="S5.SS3.p2.17.m17.3.3.2.2"><msub id="S5.SS3.p2.17.m17.2.2.1.1.1"><mi id="S5.SS3.p2.17.m17.2.2.1.1.1.2">max</mi><mi id="S5.SS3.p2.17.m17.2.2.1.1.1.3">q</mi></msub><mo id="S5.SS3.p2.17.m17.3.3.2.2a">⁡</mo><mrow id="S5.SS3.p2.17.m17.3.3.2.2.2"><mo id="S5.SS3.p2.17.m17.3.3.2.2.2.2">(</mo><mrow id="S5.SS3.p2.17.m17.3.3.2.2.2.1"><mo id="S5.SS3.p2.17.m17.3.3.2.2.2.1a">−</mo><mfrac id="S5.SS3.p2.17.m17.1.1"><mrow id="S5.SS3.p2.17.m17.1.1.1"><mo rspace="0em" id="S5.SS3.p2.17.m17.1.1.1.2">∂</mo><mi id="S5.SS3.p2.17.m17.1.1.1.3">H</mi><mrow id="S5.SS3.p2.17.m17.1.1.1.4"><mo stretchy="false" id="S5.SS3.p2.17.m17.1.1.1.4.1">(</mo><mi id="S5.SS3.p2.17.m17.1.1.1.4.2">p</mi><mrow id="S5.SS3.p2.17.m17.1.1.1.4.3"><mo stretchy="false" id="S5.SS3.p2.17.m17.1.1.1.4.3.1">(</mo><mi id="S5.SS3.p2.17.m17.1.1.1.1">α</mi><mo stretchy="false" id="S5.SS3.p2.17.m17.1.1.1.4.3.2">)</mo></mrow><mo stretchy="false" id="S5.SS3.p2.17.m17.1.1.1.4.4">)</mo></mrow><mo stretchy="false" id="S5.SS3.p2.17.m17.1.1.1.5">)</mo></mrow><mrow id="S5.SS3.p2.17.m17.1.1.3"><mo rspace="0em" id="S5.SS3.p2.17.m17.1.1.3.1">∂</mo><msub id="S5.SS3.p2.17.m17.1.1.3.2"><mi id="S5.SS3.p2.17.m17.1.1.3.2.2">α</mi><mi id="S5.SS3.p2.17.m17.1.1.3.2.3">q</mi></msub></mrow></mfrac></mrow><mo id="S5.SS3.p2.17.m17.3.3.2.2.2.3">)</mo></mrow></mrow></mrow><annotation encoding="application/x-tex" id="S5.SS3.p2.17.m17.3b">\arg\max_{q}\left(-\frac{\partial H(p(\alpha)))}{\partial\alpha_{q}}\right)</annotation></semantics></math>.</p>
</div>
<div id="S5.SS3.p3" class="ltx_para ltx_noindent">
<p id="S5.SS3.p3.5" class="ltx_p"><span id="S5.SS3.p3.5.1" class="ltx_text ltx_font_bold">Binary Search:</span>  Algorithm <a href="#alg3" title="Algorithm 3 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> line 10-23 in Appendix <a href="#A3" title="Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">C</span></a> shows this approach. In this approach, the client utilizes binary search to find the best group ID by removing half of the candidates at each step until one <math id="S5.SS3.p3.1.m1.1" class="ltx_Math" alttext="\alpha_{q}" display="inline"><semantics id="S5.SS3.p3.1.m1.1a"><msub id="S5.SS3.p3.1.m1.1.1" xref="S5.SS3.p3.1.m1.1.1.cmml"><mi id="S5.SS3.p3.1.m1.1.1.2" xref="S5.SS3.p3.1.m1.1.1.2.cmml">α</mi><mi id="S5.SS3.p3.1.m1.1.1.3" xref="S5.SS3.p3.1.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.1.m1.1b"><apply id="S5.SS3.p3.1.m1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1"><csymbol cd="ambiguous" id="S5.SS3.p3.1.m1.1.1.1.cmml" xref="S5.SS3.p3.1.m1.1.1">subscript</csymbol><ci id="S5.SS3.p3.1.m1.1.1.2.cmml" xref="S5.SS3.p3.1.m1.1.1.2">𝛼</ci><ci id="S5.SS3.p3.1.m1.1.1.3.cmml" xref="S5.SS3.p3.1.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.1.m1.1c">\alpha_{q}</annotation></semantics></math> remains nonzero which indicates the best candidate.
The client calculates the <math id="S5.SS3.p3.2.m2.1" class="ltx_Math" alttext="p(\alpha)" display="inline"><semantics id="S5.SS3.p3.2.m2.1a"><mrow id="S5.SS3.p3.2.m2.1.2" xref="S5.SS3.p3.2.m2.1.2.cmml"><mi id="S5.SS3.p3.2.m2.1.2.2" xref="S5.SS3.p3.2.m2.1.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p3.2.m2.1.2.1" xref="S5.SS3.p3.2.m2.1.2.1.cmml">​</mo><mrow id="S5.SS3.p3.2.m2.1.2.3.2" xref="S5.SS3.p3.2.m2.1.2.cmml"><mo stretchy="false" id="S5.SS3.p3.2.m2.1.2.3.2.1" xref="S5.SS3.p3.2.m2.1.2.cmml">(</mo><mi id="S5.SS3.p3.2.m2.1.1" xref="S5.SS3.p3.2.m2.1.1.cmml">α</mi><mo stretchy="false" id="S5.SS3.p3.2.m2.1.2.3.2.2" xref="S5.SS3.p3.2.m2.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.2.m2.1b"><apply id="S5.SS3.p3.2.m2.1.2.cmml" xref="S5.SS3.p3.2.m2.1.2"><times id="S5.SS3.p3.2.m2.1.2.1.cmml" xref="S5.SS3.p3.2.m2.1.2.1"></times><ci id="S5.SS3.p3.2.m2.1.2.2.cmml" xref="S5.SS3.p3.2.m2.1.2.2">𝑝</ci><ci id="S5.SS3.p3.2.m2.1.1.cmml" xref="S5.SS3.p3.2.m2.1.1">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.2.m2.1c">p(\alpha)</annotation></semantics></math> for <math id="S5.SS3.p3.3.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S5.SS3.p3.3.m3.1a"><mi id="S5.SS3.p3.3.m3.1.1" xref="S5.SS3.p3.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.3.m3.1b"><ci id="S5.SS3.p3.3.m3.1.1.cmml" xref="S5.SS3.p3.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.3.m3.1c">\alpha</annotation></semantics></math>, then it applies the gradient descent with respect to <math id="S5.SS3.p3.4.m4.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S5.SS3.p3.4.m4.1a"><mi id="S5.SS3.p3.4.m4.1.1" xref="S5.SS3.p3.4.m4.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.4.m4.1b"><ci id="S5.SS3.p3.4.m4.1.1.cmml" xref="S5.SS3.p3.4.m4.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.4.m4.1c">\alpha</annotation></semantics></math> on entropy of <math id="S5.SS3.p3.5.m5.1" class="ltx_Math" alttext="p(\alpha)" display="inline"><semantics id="S5.SS3.p3.5.m5.1a"><mrow id="S5.SS3.p3.5.m5.1.2" xref="S5.SS3.p3.5.m5.1.2.cmml"><mi id="S5.SS3.p3.5.m5.1.2.2" xref="S5.SS3.p3.5.m5.1.2.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="S5.SS3.p3.5.m5.1.2.1" xref="S5.SS3.p3.5.m5.1.2.1.cmml">​</mo><mrow id="S5.SS3.p3.5.m5.1.2.3.2" xref="S5.SS3.p3.5.m5.1.2.cmml"><mo stretchy="false" id="S5.SS3.p3.5.m5.1.2.3.2.1" xref="S5.SS3.p3.5.m5.1.2.cmml">(</mo><mi id="S5.SS3.p3.5.m5.1.1" xref="S5.SS3.p3.5.m5.1.1.cmml">α</mi><mo stretchy="false" id="S5.SS3.p3.5.m5.1.2.3.2.2" xref="S5.SS3.p3.5.m5.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S5.SS3.p3.5.m5.1b"><apply id="S5.SS3.p3.5.m5.1.2.cmml" xref="S5.SS3.p3.5.m5.1.2"><times id="S5.SS3.p3.5.m5.1.2.1.cmml" xref="S5.SS3.p3.5.m5.1.2.1"></times><ci id="S5.SS3.p3.5.m5.1.2.2.cmml" xref="S5.SS3.p3.5.m5.1.2.2">𝑝</ci><ci id="S5.SS3.p3.5.m5.1.1.cmml" xref="S5.SS3.p3.5.m5.1.1">𝛼</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S5.SS3.p3.5.m5.1c">p(\alpha)</annotation></semantics></math>. Next, the client eliminates half of the coefficients where they produce gradients less than the median of the gradients.</p>
</div>
</section>
</section>
<section id="S6" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">6 </span>Experiments</h2>

<div id="S6.p1" class="ltx_para">
<p id="S6.p1.1" class="ltx_p">In this section, we investigate the utility, fairness, and communication cost of E2FL in two different settings of known and unknown group IDs.
We use three benchmark datasets widely used in prior works on federated learning application. We run all the experiments for 5 runs with different seeds, and report the average of them.
Due to space limitations, we defer a detailed discussion of datasets, model architectures, hyperparameters, and the baselines to Appendix <a href="#A5" title="Appendix E Missing Details of Experiment Setup ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">E</span></a>.</p>
</div>
<figure id="S6.F3" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1"><span id="S6.F3.1" class="ltx_ERROR ltx_centering ltx_figure_panel undefined">{subfigmatrix}</span></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="S6.F3.2" class="ltx_p ltx_figure_panel ltx_align_center">1



<span id="S6.F3.2.1" class="ltx_ERROR undefined">{subfigmatrix}</span>1


<span id="S6.F3.2.2" class="ltx_ERROR undefined">{subfigmatrix}</span>1</p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F3.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10454/assets/Images/new_Data.jpg" id="S6.F3.sf1.g1" class="ltx_graphics ltx_img_landscape" width="359" height="51" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(a) </span>Data sample from each group</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F3.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10454/assets/x3.png" id="S6.F3.sf2.g1" class="ltx_graphics ltx_img_landscape" width="415" height="212" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(b) </span>Number of clients in each group</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S6.F3.sf3" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2205.10454/assets/x4.png" id="S6.F3.sf3.g1" class="ltx_graphics ltx_img_landscape" width="415" height="230" alt="Refer to caption">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">(c) </span>Final test loss for all the groups</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_figure">Figure 3: </span>FairMNISTRotate: a new dataset to investigate equality and equity in FL application.</figcaption>
</figure>
<section id="S6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.1 </span>Equality vs Equity via E2FL</h3>

<div id="S6.SS1.p1" class="ltx_para ltx_noindent">
<p id="S6.SS1.p1.1" class="ltx_p"><span id="S6.SS1.p1.1.1" class="ltx_text ltx_font_bold">FairMNISTRotate:</span>  To measure the equity and equality, we release a new dataset for fairness experiments in FL application.
We note that creating different data distributions by manipulating standard datasets such as MNIST has been widely adopted in the continual research community <cite class="ltx_cite ltx_citemacro_citep">(Goodfellow et al. <a href="#bib.bib11" title="" class="ltx_ref">2013</a>; Kirkpatrick et al. <a href="#bib.bib14" title="" class="ltx_ref">2017</a>; Lopez-Paz and Ranzato <a href="#bib.bib21" title="" class="ltx_ref">2017</a>)</cite>, therefore, we create this dataset by rotating the images in MNIST for each group. Figure <a href="#S6.F3" title="Figure 3 ‣ 6 Experiments ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>a shows image samples in each group, and Figure <a href="#S6.F3" title="Figure 3 ‣ 6 Experiments ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>b shows the number of clients in each group.
In this dataset, we assign same number of data samples to 1000 clients with 10 different data distributions (with different number of clients in each group). There are majority groups with large number of clients, e.g., G6 with 257 clients, and there are minority groups with small number of clients, e.g., G1 with 8 clients. In this dataset G1 and G10 are minorities, and G5 and G6 are in majorities.</p>
</div>
<figure id="S6.T1" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 1: </span>Comparing equality, equity, and communication cost of different variant of FLs on FairMNISTRotate with 1000 clients.</figcaption>
<table id="S6.T1.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S6.T1.1.1.1" class="ltx_tr">
<td id="S6.T1.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t" rowspan="3"><span id="S6.T1.1.1.1.1.1" class="ltx_text">Approach</span></td>
<td id="S6.T1.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="10">Metric</td>
</tr>
<tr id="S6.T1.1.2.2" class="ltx_tr">
<td id="S6.T1.1.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="4">Group-level Fairness (Equity)</td>
<td id="S6.T1.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="4">User-level Fairness (Equality)</td>
<td id="S6.T1.1.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2">Comm Cost</td>
</tr>
<tr id="S6.T1.1.3.3" class="ltx_tr">
<td id="S6.T1.1.3.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Avg</td>
<td id="S6.T1.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T1.1.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.1.3.3.2.1.1" class="ltx_p">Worst</span>
<span id="S6.T1.1.3.3.2.1.2" class="ltx_p">(10%)</span>
</span>
</td>
<td id="S6.T1.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T1.1.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.1.3.3.3.1.1" class="ltx_p">Best</span>
<span id="S6.T1.1.3.3.3.1.2" class="ltx_p">(10%)</span>
</span>
</td>
<td id="S6.T1.1.3.3.4" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">Variance</td>
<td id="S6.T1.1.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Avg</td>
<td id="S6.T1.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T1.1.3.3.6.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.1.3.3.6.1.1" class="ltx_p">Worst</span>
<span id="S6.T1.1.3.3.6.1.2" class="ltx_p">(10%)</span>
</span>
</td>
<td id="S6.T1.1.3.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T1.1.3.3.7.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.1.3.3.7.1.1" class="ltx_p">Best</span>
<span id="S6.T1.1.3.3.7.1.2" class="ltx_p">(10%)</span>
</span>
</td>
<td id="S6.T1.1.3.3.8" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">Variance</td>
<td id="S6.T1.1.3.3.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T1.1.3.3.9.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.1.3.3.9.1.1" class="ltx_p">Up</span>
<span id="S6.T1.1.3.3.9.1.2" class="ltx_p">(MB)</span>
</span>
</td>
<td id="S6.T1.1.3.3.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T1.1.3.3.10.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T1.1.3.3.10.1.1" class="ltx_p">Down</span>
<span id="S6.T1.1.3.3.10.1.2" class="ltx_p">(MB)</span>
</span>
</td>
</tr>
<tr id="S6.T1.1.4.4" class="ltx_tr">
<td id="S6.T1.1.4.4.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t">Local training</td>
<td id="S6.T1.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">84.78</td>
<td id="S6.T1.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">84.28</td>
<td id="S6.T1.1.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.35</td>
<td id="S6.T1.1.4.4.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">0.11</td>
<td id="S6.T1.1.4.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.03</td>
<td id="S6.T1.1.4.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">81.36</td>
<td id="S6.T1.1.4.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">87.78</td>
<td id="S6.T1.1.4.4.9" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">3.44</td>
<td id="S6.T1.1.4.4.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0</td>
<td id="S6.T1.1.4.4.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0</td>
</tr>
<tr id="S6.T1.1.5.5" class="ltx_tr">
<td id="S6.T1.1.5.5.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t">FedAvg</td>
<td id="S6.T1.1.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">93.89</td>
<td id="S6.T1.1.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">81.88</td>
<td id="S6.T1.1.5.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">98.32</td>
<td id="S6.T1.1.5.5.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">31.81</td>
<td id="S6.T1.1.5.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">97.61</td>
<td id="S6.T1.1.5.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">92.87</td>
<td id="S6.T1.1.5.5.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">98.32</td>
<td id="S6.T1.1.5.5.9" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">4.49</td>
<td id="S6.T1.1.5.5.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.20</td>
<td id="S6.T1.1.5.5.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.20</td>
</tr>
<tr id="S6.T1.1.6.6" class="ltx_tr">
<td id="S6.T1.1.6.6.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t">IFCA</td>
<td id="S6.T1.1.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S6.T1.1.6.6.2.1" class="ltx_text ltx_font_bold">97.78</span></td>
<td id="S6.T1.1.6.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S6.T1.1.6.6.3.1" class="ltx_text ltx_font_bold">95.01</span></td>
<td id="S6.T1.1.6.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S6.T1.1.6.6.4.1" class="ltx_text ltx_font_bold">99.08</span></td>
<td id="S6.T1.1.6.6.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">1.98</td>
<td id="S6.T1.1.6.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S6.T1.1.6.6.6.1" class="ltx_text ltx_font_bold">98.79</span></td>
<td id="S6.T1.1.6.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S6.T1.1.6.6.7.1" class="ltx_text ltx_font_bold">96.86</span></td>
<td id="S6.T1.1.6.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S6.T1.1.6.6.8.1" class="ltx_text ltx_font_bold">99.08</span></td>
<td id="S6.T1.1.6.6.9" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">0.35</td>
<td id="S6.T1.1.6.6.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.20</td>
<td id="S6.T1.1.6.6.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">62.0</td>
</tr>
<tr id="S6.T1.1.7.7" class="ltx_tr">
<td id="S6.T1.1.7.7.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_rr ltx_border_t">q-FFL</td>
<td id="S6.T1.1.7.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">92.23</td>
<td id="S6.T1.1.7.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">77.31</td>
<td id="S6.T1.1.7.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">98.42</td>
<td id="S6.T1.1.7.7.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">57.46</td>
<td id="S6.T1.1.7.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">97.56</td>
<td id="S6.T1.1.7.7.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">93.33</td>
<td id="S6.T1.1.7.7.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">98.42</td>
<td id="S6.T1.1.7.7.9" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">4.32</td>
<td id="S6.T1.1.7.7.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.20</td>
<td id="S6.T1.1.7.7.11" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.20</td>
</tr>
<tr id="S6.T1.1.8.8" class="ltx_tr">
<td id="S6.T1.1.8.8.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_l ltx_border_rr ltx_border_t"><span id="S6.T1.1.8.8.1.1" class="ltx_text ltx_font_bold">Our E2FL</span></td>
<td id="S6.T1.1.8.8.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">96.52</td>
<td id="S6.T1.1.8.8.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">93.90</td>
<td id="S6.T1.1.8.8.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">97.81</td>
<td id="S6.T1.1.8.8.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_rr ltx_border_t"><span id="S6.T1.1.8.8.5.1" class="ltx_text ltx_font_bold">1.63</span></td>
<td id="S6.T1.1.8.8.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">97.48</td>
<td id="S6.T1.1.8.8.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">96.07</td>
<td id="S6.T1.1.8.8.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t">97.81</td>
<td id="S6.T1.1.8.8.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_rr ltx_border_t"><span id="S6.T1.1.8.8.9.1" class="ltx_text ltx_font_bold">0.33</span></td>
<td id="S6.T1.1.8.8.10" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S6.T1.1.8.8.10.1" class="ltx_text ltx_font_bold">4.05</span></td>
<td id="S6.T1.1.8.8.11" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r ltx_border_t"><span id="S6.T1.1.8.8.11.1" class="ltx_text ltx_font_bold">5.99</span></td>
</tr>
</tbody>
</table>
</figure>
<figure id="S6.T2" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 2: </span>Comparing utility, equality, and communication cost on FEMNIST with 3400 default clients.</figcaption>
<table id="S6.T2.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="S6.T2.1.1.1" class="ltx_tr">
<th id="S6.T2.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t" rowspan="3"><span id="S6.T2.1.1.1.1.1" class="ltx_text">Approach</span></th>
<td id="S6.T2.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="6">Metric</td>
</tr>
<tr id="S6.T2.1.2.2" class="ltx_tr">
<td id="S6.T2.1.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="4">User-level Fairness (Equality)</td>
<td id="S6.T2.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="2">Communication Cost</td>
</tr>
<tr id="S6.T2.1.3.3" class="ltx_tr">
<td id="S6.T2.1.3.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Average</td>
<td id="S6.T2.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T2.1.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.1.3.3.2.1.1" class="ltx_p">Worst</span>
<span id="S6.T2.1.3.3.2.1.2" class="ltx_p">(10%)</span>
</span>
</td>
<td id="S6.T2.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T2.1.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.1.3.3.3.1.1" class="ltx_p">Best</span>
<span id="S6.T2.1.3.3.3.1.2" class="ltx_p">(10%)</span>
</span>
</td>
<td id="S6.T2.1.3.3.4" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">Variance</td>
<td id="S6.T2.1.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="S6.T2.1.3.3.5.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.1.3.3.5.1.1" class="ltx_p">Up</span>
<span id="S6.T2.1.3.3.5.1.2" class="ltx_p">(MB)</span>
</span>
</td>
<td id="S6.T2.1.3.3.6" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">
<span id="S6.T2.1.3.3.6.1" class="ltx_inline-block ltx_align_top">
<span id="S6.T2.1.3.3.6.1.1" class="ltx_p">Down</span>
<span id="S6.T2.1.3.3.6.1.2" class="ltx_p">(MB)</span>
</span>
</td>
</tr>
<tr id="S6.T2.1.4.4" class="ltx_tr">
<th id="S6.T2.1.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t">Local training</th>
<td id="S6.T2.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">68.74</td>
<td id="S6.T2.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">44.45</td>
<td id="S6.T2.1.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">87.41</td>
<td id="S6.T2.1.4.4.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">154.50</td>
<td id="S6.T2.1.4.4.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">0</td>
<td id="S6.T2.1.4.4.7" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">0</td>
</tr>
<tr id="S6.T2.1.5.5" class="ltx_tr">
<th id="S6.T2.1.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t">FedAvg</th>
<td id="S6.T2.1.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.50</td>
<td id="S6.T2.1.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">63.51</td>
<td id="S6.T2.1.5.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">99.39</td>
<td id="S6.T2.1.5.5.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">108.24</td>
<td id="S6.T2.1.5.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.23</td>
<td id="S6.T2.1.5.5.7" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">6.23</td>
</tr>
<tr id="S6.T2.1.6.6" class="ltx_tr">
<th id="S6.T2.1.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t">q-FFL</th>
<td id="S6.T2.1.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">84.40</td>
<td id="S6.T2.1.6.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">64.09</td>
<td id="S6.T2.1.6.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">99.14</td>
<td id="S6.T2.1.6.6.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">100.80</td>
<td id="S6.T2.1.6.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">6.23</td>
<td id="S6.T2.1.6.6.7" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">6.23</td>
</tr>
<tr id="S6.T2.1.7.7" class="ltx_tr">
<th id="S6.T2.1.7.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t"><span id="S6.T2.1.7.7.1.1" class="ltx_text ltx_font_bold">Our E2FL (OneShot)</span></th>
<td id="S6.T2.1.7.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">83.52</td>
<td id="S6.T2.1.7.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">60.37</td>
<td id="S6.T2.1.7.7.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">98.31</td>
<td id="S6.T2.1.7.7.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">121.44</td>
<td id="S6.T2.1.7.7.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">4.06</td>
<td id="S6.T2.1.7.7.7" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">6.01</td>
</tr>
<tr id="S6.T2.1.8.8" class="ltx_tr">
<th id="S6.T2.1.8.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_rr ltx_border_t"><span id="S6.T2.1.8.8.1.1" class="ltx_text ltx_font_bold">Our E2FL (Rank Clustering)</span></th>
<td id="S6.T2.1.8.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">87.40</td>
<td id="S6.T2.1.8.8.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">67.30</td>
<td id="S6.T2.1.8.8.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S6.T2.1.8.8.4.1" class="ltx_text ltx_font_bold">100</span></td>
<td id="S6.T2.1.8.8.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">88.54</td>
<td id="S6.T2.1.8.8.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S6.T2.1.8.8.6.1" class="ltx_text ltx_font_bold">4.06</span></td>
<td id="S6.T2.1.8.8.7" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t"><span id="S6.T2.1.8.8.7.1" class="ltx_text ltx_font_bold">4.06</span></td>
</tr>
<tr id="S6.T2.1.9.9" class="ltx_tr">
<th id="S6.T2.1.9.9.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_l ltx_border_rr ltx_border_t"><span id="S6.T2.1.9.9.1.1" class="ltx_text ltx_font_bold">Our E2FL (Lowest Loss)</span></th>
<td id="S6.T2.1.9.9.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t"><span id="S6.T2.1.9.9.2.1" class="ltx_text ltx_font_bold">87.93</span></td>
<td id="S6.T2.1.9.9.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t"><span id="S6.T2.1.9.9.3.1" class="ltx_text ltx_font_bold">68.59</span></td>
<td id="S6.T2.1.9.9.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">99.96</td>
<td id="S6.T2.1.9.9.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_rr ltx_border_t"><span id="S6.T2.1.9.9.5.1" class="ltx_text ltx_font_bold">81.88</span></td>
<td id="S6.T2.1.9.9.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">4.06</td>
<td id="S6.T2.1.9.9.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_rr ltx_border_t">6.01</td>
</tr>
</tbody>
</table>
</figure>
<div id="S6.SS1.p2" class="ltx_para">
<p id="S6.SS1.p2.1" class="ltx_p">In Figure <a href="#S6.F3" title="Figure 3 ‣ 6 Experiments ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>c, we compare the performance of different FL algorithms by plotting the test loss of the global trained model for all the ten groups.
In addition to the results of E2FL, which is the performance of the global ranking trained for each group, we report the results of the global model as E2FL (GM).
We additionally compare the utility, equity, equality, and communication cost of these baselines in Table <a href="#S6.T1" title="Table 1 ‣ 6.1 Equality vs Equity via E2FL ‣ 6 Experiments ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</p>
</div>
<div id="S6.SS1.p3" class="ltx_para">
<p id="S6.SS1.p3.1" class="ltx_p">Our experimental results on FairMNISTRotate show that:
<span id="S6.SS1.p3.1.1" class="ltx_text ltx_font_bold">(1) clients have motivation to participate in FL</span>. All the groups including minorities and majorities get benefit by participating in an FL framework. If each client wants to learn a local model on its local data, they cannot use other clients’ knowledge, so their local models perform poorly.
<span id="S6.SS1.p3.1.2" class="ltx_text ltx_font_bold">(2)</span> <span id="S6.SS1.p3.1.3" class="ltx_text ltx_font_bold">FedAvg gives more attention to majority groups.</span> FedAvg focuses on the clients from majority groups. Client from majority groups can get more benefit by participating in FedAvg as they have more chance to be selected in each round, so they have more impact on the global model.
FedAvg can achieve 97.61% mean test accuracy for all the individual clients (i.e., user-level fairness), but the mean of accuracies for groups is low as 93.89% which shows that this learning paradigm is focusing on user-level fairness more than on group-based fairness (equity).
<span id="S6.SS1.p3.1.4" class="ltx_text ltx_font_bold">(3)</span> <span id="S6.SS1.p3.1.5" class="ltx_text ltx_font_bold">q-FFL improves equality while worsens equity</span>. q-FFL is helping the majority groups by ignoring the minorities. q-FFL is a user-level fairness framework, so it makes the results more fair compared to FedAvg in equality; however it produces more unfair results compared in equity.
<span id="S6.SS1.p3.1.6" class="ltx_text ltx_font_bold">(4)</span> <span id="S6.SS1.p3.1.7" class="ltx_text ltx_font_bold">Training 10 different FLs (i.e., IFCA) is not the best situation for the minorities</span>. It is important that all the groups in FL share their knowledge. Figure <a href="#S6.F3" title="Figure 3 ‣ 6 Experiments ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>c shows that groups G1, G2, and G10 cannot get similar benefits by participating in IFCA since there is no shared knowledge, and these clients have access to limited data. There is another drawback for IFCA compared to E2FL which is communication cost. E2FL clients need to get the binary masks compared to IFCA that they need to get actual weight parameters so E2FL consumes 5.99 MB compared to IFCA which needs 62.0 MB for download bandwidth. Additionally, IFCA cannot get benefit by our entropy approaches since they are designed for binary masks.
<span id="S6.SS1.p3.1.8" class="ltx_text ltx_font_bold">(5)</span> <span id="S6.SS1.p3.1.9" class="ltx_text ltx_font_bold">E2FL is providing equality and equity</span>. While q-FFL reduces the variance of accuracies for all the clients by 4% while it increases the variance between groups by 81% compared to FedAvg. On the other hand our algorithm can reduce both variance of clients and groups by 93% and 95% respectively compared to FedAvg</p>
</div>
</section>
<section id="S6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">6.2 </span>E2FL when Group IDs are Unknown</h3>

<div id="S6.SS2.p1" class="ltx_para">
<p id="S6.SS2.p1.1" class="ltx_p">In this section, we provide experimental results on the FEMNIST <cite class="ltx_cite ltx_citemacro_citep">(Caldas et al. <a href="#bib.bib3" title="" class="ltx_ref">2018</a>)</cite> which is a character recognition classification task distributed over 3,400 clients.
At first, it seems that data distribution among all the clients are similar as all of them are classifying handwritten letters or digits, but there might be hidden groups of clients among these 3400 clients with even more similar handwriting styles. In this section, we report the performance of E2FL with different group inference approaches.</p>
</div>
<div id="S6.SS2.p2" class="ltx_para">
<p id="S6.SS2.p2.1" class="ltx_p">In Table <a href="#S6.T2" title="Table 2 ‣ 6.1 Equality vs Equity via E2FL ‣ 6 Experiments ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we compare the performance and fairness of different FL algorithms on FEMNIST. We show the user-level fairness (equality) metrics, as there are not specific groups defined for this dataset.
Our experimental results show that:
<span id="S6.SS2.p2.1.1" class="ltx_text ltx_font_bold">(1)</span> Training on local data compared to FedAvg does not provide utility, thus all the clients have incentive to participate in the FL to get more accurate models. <span id="S6.SS2.p2.1.2" class="ltx_text ltx_font_bold">(2)</span> q-FFL <cite class="ltx_cite ltx_citemacro_citep">(Li et al. <a href="#bib.bib20" title="" class="ltx_ref">2020b</a>)</cite> can provide more equal results by reducing the variance by 7% with cost of reducing the accuracy by 1.10%. The reason behind this accuracy reduction is that q-FFL gives more attention to making the clients performances more uniform for the clients in majority groups, so it is using smaller portion of the knowledge from minorities .
<span id="S6.SS2.p2.1.3" class="ltx_text ltx_font_bold">(3)</span> E2FL shows clear advantage over other algorithms, it can provide both utility and fairness. As the groups are unknown in FEMNIST, we use three different approaches of group inference. For Lowest Loss and OneShot approaches, we use 2 static groups, and for rank clustering we use 5 clusters. We also report more details of 2, 3, 4, and 5 clusters in Appendix <a href="#A2.T5" title="Table 5 ‣ Appendix B Missing Experiments when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> Table <a href="#A2.T6" title="Table 6 ‣ Appendix B Missing Experiments when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>.
E2FL has good features from both worlds: it can improves the utility and fairness together: EFFL increases the average of accuracies by 2.5% and reduces the variance of clients by 24%. These benefits are coming from a) <em id="S6.SS2.p2.1.4" class="ltx_emph ltx_font_italic">training multiple models each for one group</em>, and b) <em id="S6.SS2.p2.1.5" class="ltx_emph ltx_font_italic">using knowledge of all the participating clients for all the clients by combining all the group models into one global model</em>. <span id="S6.SS2.p2.1.6" class="ltx_text ltx_font_bold">(4)</span> Lowest Loss and rank clustering perform better than OneShot inference approach because in OneShot we have just one forward and backward passes compared to other methods that needs more operations.</p>
</div>
<div id="S6.SS2.p3" class="ltx_para ltx_noindent">
<p id="S6.SS2.p3.1" class="ltx_p"><span id="S6.SS2.p3.1.1" class="ltx_text ltx_font_bold">Miscellaneous Discussions</span> 
Due to space limitations, we defer detailed discussion of ablation studies of E2FL to Appendix.
In Appendix <a href="#A1" title="Appendix A Fairness with Multiple Groups in Each Client ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">A</span></a>, we consider adult census income dataset which is commonly used in fair machine learning literature. In this experiment, we give data samples of different groups to different clients. In Appendix <a href="#A2" title="Appendix B Missing Experiments when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">B</span></a>, we evaluate the performance of different group inference approaches we introduced on FairMNISTRotate and FEMNIST.</p>
</div>
</section>
</section>
<section id="S7" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">7 </span>Conclusions</h2>

<div id="S7.p1" class="ltx_para">
<p id="S7.p1.1" class="ltx_p">In this paper, we look at the fairness issue in FL with two different lenses. First we define equality and equity as fairness in user-level and group-level, respectively.
We designed a novel collaborative learning algorithm, called <span id="S7.p1.1.1" class="ltx_text ltx_font_bold">E</span>qual and <span id="S7.p1.1.2" class="ltx_text ltx_font_bold">E</span>quitable <span id="S7.p1.1.3" class="ltx_text ltx_font_bold">F</span>ederated <span id="S7.p1.1.4" class="ltx_text ltx_font_bold">L</span>earning (E2FL) to achieve both equality and equity.
We validate the efficiency and fairness of E2FL in different real-world FL applications, and show that E2FL outperforms existing baselines in terms of the resulting efficiency, fairness of different groups, and fairness among all individual clients.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgements</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">This work was supported by NSF grant 2131910.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Abay et al. (2020)</span>
<span class="ltx_bibblock">
Abay, A.; Zhou, Y.; Baracaldo, N.; Rajamoni, S.; Chuba, E.; and Ludwig, H.
2020.

</span>
<span class="ltx_bibblock">Mitigating bias in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib1.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2012.02447</em>.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Bengio, Léonard, and Courville (2013)</span>
<span class="ltx_bibblock">
Bengio, Y.; Léonard, N.; and Courville, A. 2013.

</span>
<span class="ltx_bibblock">Estimating or propagating gradients through stochastic neurons for
conditional computation.

</span>
<span class="ltx_bibblock"><em id="bib.bib2.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1308.3432</em>.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Caldas et al. (2018)</span>
<span class="ltx_bibblock">
Caldas, S.; Wu, P.; Li, T.; Konečný, J.; McMahan, H. B.; Smith, V.;
and Talwalkar, A. 2018.

</span>
<span class="ltx_bibblock">LEAF: A Benchmark for Federated Settings.

</span>
<span class="ltx_bibblock"><em id="bib.bib3.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/1812.01097.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Cohen et al. (2017)</span>
<span class="ltx_bibblock">
Cohen, G.; Afshar, S.; Tapson, J.; and van Schaik, A. 2017.

</span>
<span class="ltx_bibblock">EMNIST: Extending MNIST to handwritten letters.

</span>
<span class="ltx_bibblock">In <em id="bib.bib4.1.1" class="ltx_emph ltx_font_italic">2017 International Joint Conference on Neural Networks,
IJCNN</em>.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Dauphin and Bengio (2013)</span>
<span class="ltx_bibblock">
Dauphin, Y. N.; and Bengio, Y. 2013.

</span>
<span class="ltx_bibblock">Big neural networks waste capacity.

</span>
<span class="ltx_bibblock"><em id="bib.bib5.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1301.3583</em>.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Denil et al. (2013)</span>
<span class="ltx_bibblock">
Denil, M.; Shakibi, B.; Dinh, L.; Ranzato, M.; and de Freitas, N. 2013.

</span>
<span class="ltx_bibblock">Predicting parameters in deep learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib6.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 26th International Conference on Neural
Information Processing Systems-Volume 2</em>, 2148–2156.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Emerson (2013)</span>
<span class="ltx_bibblock">
Emerson, P. 2013.

</span>
<span class="ltx_bibblock">The original Borda count and partial voting.

</span>
<span class="ltx_bibblock"><em id="bib.bib7.1.1" class="ltx_emph ltx_font_italic">Social Choice and Welfare</em>, 40(2): 353–358.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ezzeldin et al. (2021)</span>
<span class="ltx_bibblock">
Ezzeldin, Y. H.; Yan, S.; He, C.; Ferrara, E.; and Avestimehr, S. 2021.

</span>
<span class="ltx_bibblock">Fairfed: Enabling group fairness in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib8.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.00857</em>.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Frankle and Carbin (2019)</span>
<span class="ltx_bibblock">
Frankle, J.; and Carbin, M. 2019.

</span>
<span class="ltx_bibblock">The lottery ticket hypothesis: Finding sparse, trainable neural
networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib9.1.1" class="ltx_emph ltx_font_italic">ICLR</em>.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ghosh et al. (2020)</span>
<span class="ltx_bibblock">
Ghosh, A.; Chung, J.; Yin, D.; and Ramchandran, K. 2020.

</span>
<span class="ltx_bibblock">An efficient framework for clustered federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib10.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2006.04088</em>.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Goodfellow et al. (2013)</span>
<span class="ltx_bibblock">
Goodfellow, I. J.; Mirza, M.; Xiao, D.; Courville, A.; and Bengio, Y. 2013.

</span>
<span class="ltx_bibblock">An empirical investigation of catastrophic forgetting in
gradient-based neural networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib11.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1312.6211</em>.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Hashimoto et al. (2018)</span>
<span class="ltx_bibblock">
Hashimoto, T.; Srivastava, M.; Namkoong, H.; and Liang, P. 2018.

</span>
<span class="ltx_bibblock">Fairness without demographics in repeated loss minimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib12.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kairouz et al. (2019)</span>
<span class="ltx_bibblock">
Kairouz, P.; McMahan, H. B.; Avent, B.; Bellet, A.; Bennis, M.; Bhagoji, A. N.;
Bonawitz, K.; Charles, Z.; Cormode, G.; Cummings, R.; et al. 2019.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib13.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1912.04977</em>.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kirkpatrick et al. (2017)</span>
<span class="ltx_bibblock">
Kirkpatrick, J.; Pascanu, R.; Rabinowitz, N.; Veness, J.; Desjardins, G.; Rusu,
A. A.; Milan, K.; Quan, J.; Ramalho, T.; Grabska-Barwinska, A.; et al. 2017.

</span>
<span class="ltx_bibblock">Overcoming catastrophic forgetting in neural networks.

</span>
<span class="ltx_bibblock"><em id="bib.bib14.1.1" class="ltx_emph ltx_font_italic">Proceedings of the national academy of sciences</em>, 114(13):
3521–3526.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Kohavi et al. (1996)</span>
<span class="ltx_bibblock">
Kohavi, R.; et al. 1996.

</span>
<span class="ltx_bibblock">Scaling up the accuracy of naive-bayes classifiers: A decision-tree
hybrid.

</span>
<span class="ltx_bibblock">In <em id="bib.bib15.1.1" class="ltx_emph ltx_font_italic">Kdd</em>, volume 96, 202–207.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Konečnỳ et al. (2016)</span>
<span class="ltx_bibblock">
Konečnỳ, J.; McMahan, H. B.; Yu, F. X.; Richtárik, P.; Suresh,
A. T.; and Bacon, D. 2016.

</span>
<span class="ltx_bibblock">Federated learning: Strategies for improving communication
efficiency.

</span>
<span class="ltx_bibblock"><em id="bib.bib16.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:1610.05492</em>.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020a)</span>
<span class="ltx_bibblock">
Li, A.; Sun, J.; Wang, B.; Duan, L.; Li, S.; Chen, Y.; and Li, H.
2020a.

</span>
<span class="ltx_bibblock">LotteryFL: Personalized and Communication-Efficient Federated
Learning with Lottery Ticket Hypothesis on Non-IID Datasets.

</span>
<span class="ltx_bibblock"><em id="bib.bib17.1.1" class="ltx_emph ltx_font_italic">CoRR</em>.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021a)</span>
<span class="ltx_bibblock">
Li, A.; Sun, J.; Zeng, X.; Zhang, M.; Li, H.; and Chen, Y. 2021a.

</span>
<span class="ltx_bibblock">FedMask: Joint Computation and Communication-Efficient Personalized
Federated Learning via Heterogeneous Masking.

</span>
<span class="ltx_bibblock">In <em id="bib.bib18.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 19th ACM Conference on Embedded Networked
Sensor Systems</em>, 42–55.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2021b)</span>
<span class="ltx_bibblock">
Li, T.; Hu, S.; Beirami, A.; and Smith, V. 2021b.

</span>
<span class="ltx_bibblock">Ditto: Fair and robust federated learning through personalization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib19.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Li et al. (2020b)</span>
<span class="ltx_bibblock">
Li, T.; Sanjabi, M.; Beirami, A.; and Smith, V. 2020b.

</span>
<span class="ltx_bibblock">Fair resource allocation in Federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib20.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Lopez-Paz and Ranzato (2017)</span>
<span class="ltx_bibblock">
Lopez-Paz, D.; and Ranzato, M. 2017.

</span>
<span class="ltx_bibblock">Gradient episodic memory for continual learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib21.1.1" class="ltx_emph ltx_font_italic">Advances in neural information processing systems</em>, 30:
6467–6476.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ludwig et al. (2020)</span>
<span class="ltx_bibblock">
Ludwig, H.; Baracaldo, N.; Thomas, G.; and Zhou, Y. 2020.

</span>
<span class="ltx_bibblock">IBM Federated Learning: an Enterprise Framework White Paper V0.1.

</span>
<span class="ltx_bibblock"><em id="bib.bib22.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2007.10987.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mansour et al. (2020)</span>
<span class="ltx_bibblock">
Mansour, Y.; Mohri, M.; Ro, J.; and Suresh, A. T. 2020.

</span>
<span class="ltx_bibblock">Three approaches for personalization with applications to federated
learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib23.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.10619</em>.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">McMahan et al. (2017)</span>
<span class="ltx_bibblock">
McMahan, H. B.; Moore, E.; Ramage, D.; Hampson, S.; and Arcas, B. A. y. 2017.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized
data.

</span>
<span class="ltx_bibblock"><em id="bib.bib24.1.1" class="ltx_emph ltx_font_italic">Proceedings of the 20 th International Conference on Artificial
Intelligence and Statistics</em>.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mohri, Sivek, and Suresh (2019)</span>
<span class="ltx_bibblock">
Mohri, M.; Sivek, G.; and Suresh, A. T. 2019.

</span>
<span class="ltx_bibblock">Agnostic federated learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib25.1.1" class="ltx_emph ltx_font_italic">International Conference on Machine Learning</em>, 4615–4625.
PMLR.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Mozaffari, Shejwalkar, and Houmansadr (2021)</span>
<span class="ltx_bibblock">
Mozaffari, H.; Shejwalkar, V.; and Houmansadr, A. 2021.

</span>
<span class="ltx_bibblock">FSL: Federated Supermask Learning.

</span>
<span class="ltx_bibblock"><em id="bib.bib26.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2110.04350</em>.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Paulik, Seigel, and and (2021)</span>
<span class="ltx_bibblock">
Paulik, M.; Seigel, M.; and and, H. M. 2021.

</span>
<span class="ltx_bibblock">Federated Evaluation and Tuning for On-Device Personalization: System
Design &amp; Applications.

</span>
<span class="ltx_bibblock"><em id="bib.bib27.1.1" class="ltx_emph ltx_font_italic">CoRR</em>, abs/2102.08503.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Ramanujan et al. (2020)</span>
<span class="ltx_bibblock">
Ramanujan, V.; Wortsman, M.; Kembhavi, A.; Farhadi, A.; and Rastegari, M. 2020.

</span>
<span class="ltx_bibblock">What’s Hidden in a Randomly Weighted Neural Network?

</span>
<span class="ltx_bibblock">In <em id="bib.bib28.1.1" class="ltx_emph ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision
and Pattern Recognition</em>, 11893–11902.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Smith et al. (2017)</span>
<span class="ltx_bibblock">
Smith, V.; Chiang, C.-K.; Sanjabi, M.; and Talwalkar, A. 2017.

</span>
<span class="ltx_bibblock">Federated Multi-Task Learning.

</span>
<span class="ltx_bibblock">In <em id="bib.bib29.1.1" class="ltx_emph ltx_font_italic">Neural Information Processing Systems (NIPS)</em>.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Wortsman et al. (2020)</span>
<span class="ltx_bibblock">
Wortsman, M.; Ramanujan, V.; Liu, R.; Kembhavi, A.; Rastegari, M.; Yosinski,
J.; and Farhadi, A. 2020.

</span>
<span class="ltx_bibblock">Supermasks in Superposition.

</span>
<span class="ltx_bibblock">In <em id="bib.bib30.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems 33:
NeurIPS</em>.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Yu, Bagdasaryan, and Shmatikov (2020)</span>
<span class="ltx_bibblock">
Yu, T.; Bagdasaryan, E.; and Shmatikov, V. 2020.

</span>
<span class="ltx_bibblock">Salvaging federated learning by local adaptation.

</span>
<span class="ltx_bibblock"><em id="bib.bib31.1.1" class="ltx_emph ltx_font_italic">arXiv preprint arXiv:2002.04758</em>.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang, Kou, and Wang (2020)</span>
<span class="ltx_bibblock">
Zhang, D. Y.; Kou, Z.; and Wang, D. 2020.

</span>
<span class="ltx_bibblock">Fairfl: A fair federated learning approach to reducing demographic
bias in privacy-sensitive classification models.

</span>
<span class="ltx_bibblock">In <em id="bib.bib32.1.1" class="ltx_emph ltx_font_italic">2020 IEEE International Conference on Big Data (Big Data)</em>,
1051–1060. IEEE.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhang et al. (2021)</span>
<span class="ltx_bibblock">
Zhang, M.; Sapra, K.; Fidler, S.; Yeung, S.; and Alvarez, J. M. 2021.

</span>
<span class="ltx_bibblock">Personalized Federated Learning with First Order Model Optimization.

</span>
<span class="ltx_bibblock">In <em id="bib.bib33.1.1" class="ltx_emph ltx_font_italic">International Conference on Learning Representations</em>.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_role_refnum ltx_tag_bibitem">Zhou et al. (2019)</span>
<span class="ltx_bibblock">
Zhou, H.; Lan, J.; Liu, R.; and Yosinski, J. 2019.

</span>
<span class="ltx_bibblock">Deconstructing Lottery Tickets: Zeros, Signs, and the Supermask.

</span>
<span class="ltx_bibblock">In <em id="bib.bib34.1.1" class="ltx_emph ltx_font_italic">Advances in Neural Information Processing Systems 32:
NeurIPS</em>.

</span>
</li>
</ul>
</section>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Fairness with Multiple Groups in Each Client</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.11" class="ltx_p">We also provide additional experimental results on a real-world dataset Adult Census Income Dataset <cite class="ltx_cite ltx_citemacro_citep">(Kohavi et al. <a href="#bib.bib15" title="" class="ltx_ref">1996</a>)</cite>.
This dataset contains 48,842 samples extracted from the United States Census Database and classifies whether individuals earn more or less than 50K per year. Prediction values are mapped to 0 <math id="A1.p1.1.m1.1" class="ltx_math_unparsed" alttext="(\leq 50" display="inline"><semantics id="A1.p1.1.m1.1a"><mrow id="A1.p1.1.m1.1b"><mo stretchy="false" id="A1.p1.1.m1.1.1">(</mo><mo lspace="0em" id="A1.p1.1.m1.1.2">≤</mo><mn id="A1.p1.1.m1.1.3">50</mn></mrow><annotation encoding="application/x-tex" id="A1.p1.1.m1.1c">(\leq 50</annotation></semantics></math>k<math id="A1.p1.2.m2.1" class="ltx_Math" alttext=")" display="inline"><semantics id="A1.p1.2.m2.1a"><mo stretchy="false" id="A1.p1.2.m2.1.1" xref="A1.p1.2.m2.1.1.cmml">)</mo><annotation-xml encoding="MathML-Content" id="A1.p1.2.m2.1b"><ci id="A1.p1.2.m2.1.1.cmml" xref="A1.p1.2.m2.1.1">)</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.2.m2.1c">)</annotation></semantics></math> and 1 <math id="A1.p1.3.m3.1" class="ltx_math_unparsed" alttext="(&gt;50" display="inline"><semantics id="A1.p1.3.m3.1a"><mrow id="A1.p1.3.m3.1b"><mo stretchy="false" id="A1.p1.3.m3.1.1">(</mo><mo lspace="0em" id="A1.p1.3.m3.1.2">&gt;</mo><mn id="A1.p1.3.m3.1.3">50</mn></mrow><annotation encoding="application/x-tex" id="A1.p1.3.m3.1c">(&gt;50</annotation></semantics></math>k<math id="A1.p1.4.m4.1" class="ltx_Math" alttext=")" display="inline"><semantics id="A1.p1.4.m4.1a"><mo stretchy="false" id="A1.p1.4.m4.1.1" xref="A1.p1.4.m4.1.1.cmml">)</mo><annotation-xml encoding="MathML-Content" id="A1.p1.4.m4.1b"><ci id="A1.p1.4.m4.1.1.cmml" xref="A1.p1.4.m4.1.1">)</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.4.m4.1c">)</annotation></semantics></math> where output of <math id="A1.p1.5.m5.1" class="ltx_Math" alttext="\hat{Y}=1" display="inline"><semantics id="A1.p1.5.m5.1a"><mrow id="A1.p1.5.m5.1.1" xref="A1.p1.5.m5.1.1.cmml"><mover accent="true" id="A1.p1.5.m5.1.1.2" xref="A1.p1.5.m5.1.1.2.cmml"><mi id="A1.p1.5.m5.1.1.2.2" xref="A1.p1.5.m5.1.1.2.2.cmml">Y</mi><mo id="A1.p1.5.m5.1.1.2.1" xref="A1.p1.5.m5.1.1.2.1.cmml">^</mo></mover><mo id="A1.p1.5.m5.1.1.1" xref="A1.p1.5.m5.1.1.1.cmml">=</mo><mn id="A1.p1.5.m5.1.1.3" xref="A1.p1.5.m5.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.5.m5.1b"><apply id="A1.p1.5.m5.1.1.cmml" xref="A1.p1.5.m5.1.1"><eq id="A1.p1.5.m5.1.1.1.cmml" xref="A1.p1.5.m5.1.1.1"></eq><apply id="A1.p1.5.m5.1.1.2.cmml" xref="A1.p1.5.m5.1.1.2"><ci id="A1.p1.5.m5.1.1.2.1.cmml" xref="A1.p1.5.m5.1.1.2.1">^</ci><ci id="A1.p1.5.m5.1.1.2.2.cmml" xref="A1.p1.5.m5.1.1.2.2">𝑌</ci></apply><cn type="integer" id="A1.p1.5.m5.1.1.3.cmml" xref="A1.p1.5.m5.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.5.m5.1c">\hat{Y}=1</annotation></semantics></math> is regarded as a positive output (i.e., making more money).
We consider gender as the protected attribute where we consider male samples <math id="A1.p1.6.m6.1" class="ltx_Math" alttext="(A=1)" display="inline"><semantics id="A1.p1.6.m6.1a"><mrow id="A1.p1.6.m6.1.1.1" xref="A1.p1.6.m6.1.1.1.1.cmml"><mo stretchy="false" id="A1.p1.6.m6.1.1.1.2" xref="A1.p1.6.m6.1.1.1.1.cmml">(</mo><mrow id="A1.p1.6.m6.1.1.1.1" xref="A1.p1.6.m6.1.1.1.1.cmml"><mi id="A1.p1.6.m6.1.1.1.1.2" xref="A1.p1.6.m6.1.1.1.1.2.cmml">A</mi><mo id="A1.p1.6.m6.1.1.1.1.1" xref="A1.p1.6.m6.1.1.1.1.1.cmml">=</mo><mn id="A1.p1.6.m6.1.1.1.1.3" xref="A1.p1.6.m6.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="A1.p1.6.m6.1.1.1.3" xref="A1.p1.6.m6.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.6.m6.1b"><apply id="A1.p1.6.m6.1.1.1.1.cmml" xref="A1.p1.6.m6.1.1.1"><eq id="A1.p1.6.m6.1.1.1.1.1.cmml" xref="A1.p1.6.m6.1.1.1.1.1"></eq><ci id="A1.p1.6.m6.1.1.1.1.2.cmml" xref="A1.p1.6.m6.1.1.1.1.2">𝐴</ci><cn type="integer" id="A1.p1.6.m6.1.1.1.1.3.cmml" xref="A1.p1.6.m6.1.1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.6.m6.1c">(A=1)</annotation></semantics></math> as the privileged group and female samples <math id="A1.p1.7.m7.1" class="ltx_Math" alttext="(A=0)" display="inline"><semantics id="A1.p1.7.m7.1a"><mrow id="A1.p1.7.m7.1.1.1" xref="A1.p1.7.m7.1.1.1.1.cmml"><mo stretchy="false" id="A1.p1.7.m7.1.1.1.2" xref="A1.p1.7.m7.1.1.1.1.cmml">(</mo><mrow id="A1.p1.7.m7.1.1.1.1" xref="A1.p1.7.m7.1.1.1.1.cmml"><mi id="A1.p1.7.m7.1.1.1.1.2" xref="A1.p1.7.m7.1.1.1.1.2.cmml">A</mi><mo id="A1.p1.7.m7.1.1.1.1.1" xref="A1.p1.7.m7.1.1.1.1.1.cmml">=</mo><mn id="A1.p1.7.m7.1.1.1.1.3" xref="A1.p1.7.m7.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="A1.p1.7.m7.1.1.1.3" xref="A1.p1.7.m7.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.7.m7.1b"><apply id="A1.p1.7.m7.1.1.1.1.cmml" xref="A1.p1.7.m7.1.1.1"><eq id="A1.p1.7.m7.1.1.1.1.1.cmml" xref="A1.p1.7.m7.1.1.1.1.1"></eq><ci id="A1.p1.7.m7.1.1.1.1.2.cmml" xref="A1.p1.7.m7.1.1.1.1.2">𝐴</ci><cn type="integer" id="A1.p1.7.m7.1.1.1.1.3.cmml" xref="A1.p1.7.m7.1.1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.7.m7.1c">(A=0)</annotation></semantics></math> as unprivileged users. We split the data into train and test, and Table <a href="#A1.T3" title="Table 3 ‣ Appendix A Fairness with Multiple Groups in Each Client ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows the bias in this dataset for difference in their opportunities for making higher income <math id="A1.p1.8.m8.1" class="ltx_math_unparsed" alttext="(Pr[\hat{Y}=1|A=a]" display="inline"><semantics id="A1.p1.8.m8.1a"><mrow id="A1.p1.8.m8.1b"><mo stretchy="false" id="A1.p1.8.m8.1.1">(</mo><mi id="A1.p1.8.m8.1.2">P</mi><mi id="A1.p1.8.m8.1.3">r</mi><mrow id="A1.p1.8.m8.1.4"><mo stretchy="false" id="A1.p1.8.m8.1.4.1">[</mo><mover accent="true" id="A1.p1.8.m8.1.4.2"><mi id="A1.p1.8.m8.1.4.2.2">Y</mi><mo id="A1.p1.8.m8.1.4.2.1">^</mo></mover><mo id="A1.p1.8.m8.1.4.3">=</mo><mn id="A1.p1.8.m8.1.4.4">1</mn><mo fence="false" rspace="0.167em" stretchy="false" id="A1.p1.8.m8.1.4.5">|</mo><mi id="A1.p1.8.m8.1.4.6">A</mi><mo id="A1.p1.8.m8.1.4.7">=</mo><mi id="A1.p1.8.m8.1.4.8">a</mi><mo stretchy="false" id="A1.p1.8.m8.1.4.9">]</mo></mrow></mrow><annotation encoding="application/x-tex" id="A1.p1.8.m8.1c">(Pr[\hat{Y}=1|A=a]</annotation></semantics></math> where <math id="A1.p1.9.m9.2" class="ltx_math_unparsed" alttext="a\in\{0,1\})" display="inline"><semantics id="A1.p1.9.m9.2a"><mrow id="A1.p1.9.m9.2b"><mi id="A1.p1.9.m9.2.3">a</mi><mo id="A1.p1.9.m9.2.4">∈</mo><mrow id="A1.p1.9.m9.2.5"><mo stretchy="false" id="A1.p1.9.m9.2.5.1">{</mo><mn id="A1.p1.9.m9.1.1">0</mn><mo id="A1.p1.9.m9.2.5.2">,</mo><mn id="A1.p1.9.m9.2.2">1</mn><mo stretchy="false" id="A1.p1.9.m9.2.5.3">}</mo></mrow><mo stretchy="false" id="A1.p1.9.m9.2.6">)</mo></mrow><annotation encoding="application/x-tex" id="A1.p1.9.m9.2c">a\in\{0,1\})</annotation></semantics></math>. This dataset is biased towards male group where the male group has a higher chance of 31.4% of getting <math id="A1.p1.10.m10.1" class="ltx_Math" alttext="\hat{Y}=1" display="inline"><semantics id="A1.p1.10.m10.1a"><mrow id="A1.p1.10.m10.1.1" xref="A1.p1.10.m10.1.1.cmml"><mover accent="true" id="A1.p1.10.m10.1.1.2" xref="A1.p1.10.m10.1.1.2.cmml"><mi id="A1.p1.10.m10.1.1.2.2" xref="A1.p1.10.m10.1.1.2.2.cmml">Y</mi><mo id="A1.p1.10.m10.1.1.2.1" xref="A1.p1.10.m10.1.1.2.1.cmml">^</mo></mover><mo id="A1.p1.10.m10.1.1.1" xref="A1.p1.10.m10.1.1.1.cmml">=</mo><mn id="A1.p1.10.m10.1.1.3" xref="A1.p1.10.m10.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.10.m10.1b"><apply id="A1.p1.10.m10.1.1.cmml" xref="A1.p1.10.m10.1.1"><eq id="A1.p1.10.m10.1.1.1.cmml" xref="A1.p1.10.m10.1.1.1"></eq><apply id="A1.p1.10.m10.1.1.2.cmml" xref="A1.p1.10.m10.1.1.2"><ci id="A1.p1.10.m10.1.1.2.1.cmml" xref="A1.p1.10.m10.1.1.2.1">^</ci><ci id="A1.p1.10.m10.1.1.2.2.cmml" xref="A1.p1.10.m10.1.1.2.2">𝑌</ci></apply><cn type="integer" id="A1.p1.10.m10.1.1.3.cmml" xref="A1.p1.10.m10.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.10.m10.1c">\hat{Y}=1</annotation></semantics></math> while female group has a chance of 11.3% of getting a positive prediction. The models that are trained on these data become more biased towards the male samples in test time by predicting <math id="A1.p1.11.m11.1" class="ltx_Math" alttext="\hat{Y}=1" display="inline"><semantics id="A1.p1.11.m11.1a"><mrow id="A1.p1.11.m11.1.1" xref="A1.p1.11.m11.1.1.cmml"><mover accent="true" id="A1.p1.11.m11.1.1.2" xref="A1.p1.11.m11.1.1.2.cmml"><mi id="A1.p1.11.m11.1.1.2.2" xref="A1.p1.11.m11.1.1.2.2.cmml">Y</mi><mo id="A1.p1.11.m11.1.1.2.1" xref="A1.p1.11.m11.1.1.2.1.cmml">^</mo></mover><mo id="A1.p1.11.m11.1.1.1" xref="A1.p1.11.m11.1.1.1.cmml">=</mo><mn id="A1.p1.11.m11.1.1.3" xref="A1.p1.11.m11.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p1.11.m11.1b"><apply id="A1.p1.11.m11.1.1.cmml" xref="A1.p1.11.m11.1.1"><eq id="A1.p1.11.m11.1.1.1.cmml" xref="A1.p1.11.m11.1.1.1"></eq><apply id="A1.p1.11.m11.1.1.2.cmml" xref="A1.p1.11.m11.1.1.2"><ci id="A1.p1.11.m11.1.1.2.1.cmml" xref="A1.p1.11.m11.1.1.2.1">^</ci><ci id="A1.p1.11.m11.1.1.2.2.cmml" xref="A1.p1.11.m11.1.1.2.2">𝑌</ci></apply><cn type="integer" id="A1.p1.11.m11.1.1.3.cmml" xref="A1.p1.11.m11.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p1.11.m11.1c">\hat{Y}=1</annotation></semantics></math> with a higher chance towards the male data input.</p>
</div>
<figure id="A1.T3" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 3: </span>Training and test data for male and female samples on Adult dataset.</figcaption>
<table id="A1.T3.4" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A1.T3.4.5.1" class="ltx_tr">
<th id="A1.T3.4.5.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t"><span id="A1.T3.4.5.1.1.1" class="ltx_text">Protected Attr</span></th>
<th id="A1.T3.4.5.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_rr ltx_border_t"><span id="A1.T3.4.5.1.2.1" class="ltx_text">Stats</span></th>
<th id="A1.T3.4.5.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">train data</th>
<th id="A1.T3.4.5.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">test data</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A1.T3.1.1" class="ltx_tr">
<th id="A1.T3.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="4"><span id="A1.T3.1.1.2.1" class="ltx_text">Gender</span></th>
<th id="A1.T3.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">Pr<math id="A1.T3.1.1.1.m1.1" class="ltx_Math" alttext="[A=1]" display="inline"><semantics id="A1.T3.1.1.1.m1.1a"><mrow id="A1.T3.1.1.1.m1.1.1.1" xref="A1.T3.1.1.1.m1.1.1.2.cmml"><mo stretchy="false" id="A1.T3.1.1.1.m1.1.1.1.2" xref="A1.T3.1.1.1.m1.1.1.2.1.cmml">[</mo><mrow id="A1.T3.1.1.1.m1.1.1.1.1" xref="A1.T3.1.1.1.m1.1.1.1.1.cmml"><mi id="A1.T3.1.1.1.m1.1.1.1.1.2" xref="A1.T3.1.1.1.m1.1.1.1.1.2.cmml">A</mi><mo id="A1.T3.1.1.1.m1.1.1.1.1.1" xref="A1.T3.1.1.1.m1.1.1.1.1.1.cmml">=</mo><mn id="A1.T3.1.1.1.m1.1.1.1.1.3" xref="A1.T3.1.1.1.m1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="A1.T3.1.1.1.m1.1.1.1.3" xref="A1.T3.1.1.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.1.1.1.m1.1b"><apply id="A1.T3.1.1.1.m1.1.1.2.cmml" xref="A1.T3.1.1.1.m1.1.1.1"><csymbol cd="latexml" id="A1.T3.1.1.1.m1.1.1.2.1.cmml" xref="A1.T3.1.1.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="A1.T3.1.1.1.m1.1.1.1.1.cmml" xref="A1.T3.1.1.1.m1.1.1.1.1"><eq id="A1.T3.1.1.1.m1.1.1.1.1.1.cmml" xref="A1.T3.1.1.1.m1.1.1.1.1.1"></eq><ci id="A1.T3.1.1.1.m1.1.1.1.1.2.cmml" xref="A1.T3.1.1.1.m1.1.1.1.1.2">𝐴</ci><cn type="integer" id="A1.T3.1.1.1.m1.1.1.1.1.3.cmml" xref="A1.T3.1.1.1.m1.1.1.1.1.3">1</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.1.1.1.m1.1c">[A=1]</annotation></semantics></math>
</th>
<td id="A1.T3.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">67.50%</td>
<td id="A1.T3.1.1.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">67.50%</td>
</tr>
<tr id="A1.T3.2.2" class="ltx_tr">
<th id="A1.T3.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">Pr<math id="A1.T3.2.2.1.m1.1" class="ltx_Math" alttext="[A=0]" display="inline"><semantics id="A1.T3.2.2.1.m1.1a"><mrow id="A1.T3.2.2.1.m1.1.1.1" xref="A1.T3.2.2.1.m1.1.1.2.cmml"><mo stretchy="false" id="A1.T3.2.2.1.m1.1.1.1.2" xref="A1.T3.2.2.1.m1.1.1.2.1.cmml">[</mo><mrow id="A1.T3.2.2.1.m1.1.1.1.1" xref="A1.T3.2.2.1.m1.1.1.1.1.cmml"><mi id="A1.T3.2.2.1.m1.1.1.1.1.2" xref="A1.T3.2.2.1.m1.1.1.1.1.2.cmml">A</mi><mo id="A1.T3.2.2.1.m1.1.1.1.1.1" xref="A1.T3.2.2.1.m1.1.1.1.1.1.cmml">=</mo><mn id="A1.T3.2.2.1.m1.1.1.1.1.3" xref="A1.T3.2.2.1.m1.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="A1.T3.2.2.1.m1.1.1.1.3" xref="A1.T3.2.2.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.2.2.1.m1.1b"><apply id="A1.T3.2.2.1.m1.1.1.2.cmml" xref="A1.T3.2.2.1.m1.1.1.1"><csymbol cd="latexml" id="A1.T3.2.2.1.m1.1.1.2.1.cmml" xref="A1.T3.2.2.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="A1.T3.2.2.1.m1.1.1.1.1.cmml" xref="A1.T3.2.2.1.m1.1.1.1.1"><eq id="A1.T3.2.2.1.m1.1.1.1.1.1.cmml" xref="A1.T3.2.2.1.m1.1.1.1.1.1"></eq><ci id="A1.T3.2.2.1.m1.1.1.1.1.2.cmml" xref="A1.T3.2.2.1.m1.1.1.1.1.2">𝐴</ci><cn type="integer" id="A1.T3.2.2.1.m1.1.1.1.1.3.cmml" xref="A1.T3.2.2.1.m1.1.1.1.1.3">0</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.2.2.1.m1.1c">[A=0]</annotation></semantics></math>
</th>
<td id="A1.T3.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.5%</td>
<td id="A1.T3.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">32.5%</td>
</tr>
<tr id="A1.T3.3.3" class="ltx_tr">
<th id="A1.T3.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">Pr<math id="A1.T3.3.3.1.m1.1" class="ltx_Math" alttext="[\hat{Y}=1|A=1]" display="inline"><semantics id="A1.T3.3.3.1.m1.1a"><mrow id="A1.T3.3.3.1.m1.1.1.1" xref="A1.T3.3.3.1.m1.1.1.2.cmml"><mo stretchy="false" id="A1.T3.3.3.1.m1.1.1.1.2" xref="A1.T3.3.3.1.m1.1.1.2.1.cmml">[</mo><mrow id="A1.T3.3.3.1.m1.1.1.1.1" xref="A1.T3.3.3.1.m1.1.1.1.1.cmml"><mover accent="true" id="A1.T3.3.3.1.m1.1.1.1.1.2" xref="A1.T3.3.3.1.m1.1.1.1.1.2.cmml"><mi id="A1.T3.3.3.1.m1.1.1.1.1.2.2" xref="A1.T3.3.3.1.m1.1.1.1.1.2.2.cmml">Y</mi><mo id="A1.T3.3.3.1.m1.1.1.1.1.2.1" xref="A1.T3.3.3.1.m1.1.1.1.1.2.1.cmml">^</mo></mover><mo id="A1.T3.3.3.1.m1.1.1.1.1.3" xref="A1.T3.3.3.1.m1.1.1.1.1.3.cmml">=</mo><mrow id="A1.T3.3.3.1.m1.1.1.1.1.4" xref="A1.T3.3.3.1.m1.1.1.1.1.4.cmml"><mn id="A1.T3.3.3.1.m1.1.1.1.1.4.2" xref="A1.T3.3.3.1.m1.1.1.1.1.4.2.cmml">1</mn><mo fence="false" id="A1.T3.3.3.1.m1.1.1.1.1.4.1" xref="A1.T3.3.3.1.m1.1.1.1.1.4.1.cmml">|</mo><mi id="A1.T3.3.3.1.m1.1.1.1.1.4.3" xref="A1.T3.3.3.1.m1.1.1.1.1.4.3.cmml">A</mi></mrow><mo id="A1.T3.3.3.1.m1.1.1.1.1.5" xref="A1.T3.3.3.1.m1.1.1.1.1.5.cmml">=</mo><mn id="A1.T3.3.3.1.m1.1.1.1.1.6" xref="A1.T3.3.3.1.m1.1.1.1.1.6.cmml">1</mn></mrow><mo stretchy="false" id="A1.T3.3.3.1.m1.1.1.1.3" xref="A1.T3.3.3.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.3.3.1.m1.1b"><apply id="A1.T3.3.3.1.m1.1.1.2.cmml" xref="A1.T3.3.3.1.m1.1.1.1"><csymbol cd="latexml" id="A1.T3.3.3.1.m1.1.1.2.1.cmml" xref="A1.T3.3.3.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="A1.T3.3.3.1.m1.1.1.1.1.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1"><and id="A1.T3.3.3.1.m1.1.1.1.1a.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1"></and><apply id="A1.T3.3.3.1.m1.1.1.1.1b.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1"><eq id="A1.T3.3.3.1.m1.1.1.1.1.3.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.3"></eq><apply id="A1.T3.3.3.1.m1.1.1.1.1.2.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.2"><ci id="A1.T3.3.3.1.m1.1.1.1.1.2.1.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.2.1">^</ci><ci id="A1.T3.3.3.1.m1.1.1.1.1.2.2.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.2.2">𝑌</ci></apply><apply id="A1.T3.3.3.1.m1.1.1.1.1.4.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.4"><csymbol cd="latexml" id="A1.T3.3.3.1.m1.1.1.1.1.4.1.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.4.1">conditional</csymbol><cn type="integer" id="A1.T3.3.3.1.m1.1.1.1.1.4.2.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.4.2">1</cn><ci id="A1.T3.3.3.1.m1.1.1.1.1.4.3.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.4.3">𝐴</ci></apply></apply><apply id="A1.T3.3.3.1.m1.1.1.1.1c.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1"><eq id="A1.T3.3.3.1.m1.1.1.1.1.5.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.5"></eq><share href="#A1.T3.3.3.1.m1.1.1.1.1.4.cmml" id="A1.T3.3.3.1.m1.1.1.1.1d.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1"></share><cn type="integer" id="A1.T3.3.3.1.m1.1.1.1.1.6.cmml" xref="A1.T3.3.3.1.m1.1.1.1.1.6">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.3.3.1.m1.1c">[\hat{Y}=1|A=1]</annotation></semantics></math>
</th>
<td id="A1.T3.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T3.3.3.2.1" class="ltx_text ltx_font_bold">31.4%</span></td>
<td id="A1.T3.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T3.3.3.3.1" class="ltx_text ltx_font_bold">30.8%</span></td>
</tr>
<tr id="A1.T3.4.4" class="ltx_tr">
<th id="A1.T3.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_rr ltx_border_t">Pr<math id="A1.T3.4.4.1.m1.1" class="ltx_Math" alttext="[\hat{Y}=1|A=0]" display="inline"><semantics id="A1.T3.4.4.1.m1.1a"><mrow id="A1.T3.4.4.1.m1.1.1.1" xref="A1.T3.4.4.1.m1.1.1.2.cmml"><mo stretchy="false" id="A1.T3.4.4.1.m1.1.1.1.2" xref="A1.T3.4.4.1.m1.1.1.2.1.cmml">[</mo><mrow id="A1.T3.4.4.1.m1.1.1.1.1" xref="A1.T3.4.4.1.m1.1.1.1.1.cmml"><mover accent="true" id="A1.T3.4.4.1.m1.1.1.1.1.2" xref="A1.T3.4.4.1.m1.1.1.1.1.2.cmml"><mi id="A1.T3.4.4.1.m1.1.1.1.1.2.2" xref="A1.T3.4.4.1.m1.1.1.1.1.2.2.cmml">Y</mi><mo id="A1.T3.4.4.1.m1.1.1.1.1.2.1" xref="A1.T3.4.4.1.m1.1.1.1.1.2.1.cmml">^</mo></mover><mo id="A1.T3.4.4.1.m1.1.1.1.1.3" xref="A1.T3.4.4.1.m1.1.1.1.1.3.cmml">=</mo><mrow id="A1.T3.4.4.1.m1.1.1.1.1.4" xref="A1.T3.4.4.1.m1.1.1.1.1.4.cmml"><mn id="A1.T3.4.4.1.m1.1.1.1.1.4.2" xref="A1.T3.4.4.1.m1.1.1.1.1.4.2.cmml">1</mn><mo fence="false" id="A1.T3.4.4.1.m1.1.1.1.1.4.1" xref="A1.T3.4.4.1.m1.1.1.1.1.4.1.cmml">|</mo><mi id="A1.T3.4.4.1.m1.1.1.1.1.4.3" xref="A1.T3.4.4.1.m1.1.1.1.1.4.3.cmml">A</mi></mrow><mo id="A1.T3.4.4.1.m1.1.1.1.1.5" xref="A1.T3.4.4.1.m1.1.1.1.1.5.cmml">=</mo><mn id="A1.T3.4.4.1.m1.1.1.1.1.6" xref="A1.T3.4.4.1.m1.1.1.1.1.6.cmml">0</mn></mrow><mo stretchy="false" id="A1.T3.4.4.1.m1.1.1.1.3" xref="A1.T3.4.4.1.m1.1.1.2.1.cmml">]</mo></mrow><annotation-xml encoding="MathML-Content" id="A1.T3.4.4.1.m1.1b"><apply id="A1.T3.4.4.1.m1.1.1.2.cmml" xref="A1.T3.4.4.1.m1.1.1.1"><csymbol cd="latexml" id="A1.T3.4.4.1.m1.1.1.2.1.cmml" xref="A1.T3.4.4.1.m1.1.1.1.2">delimited-[]</csymbol><apply id="A1.T3.4.4.1.m1.1.1.1.1.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1"><and id="A1.T3.4.4.1.m1.1.1.1.1a.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1"></and><apply id="A1.T3.4.4.1.m1.1.1.1.1b.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1"><eq id="A1.T3.4.4.1.m1.1.1.1.1.3.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.3"></eq><apply id="A1.T3.4.4.1.m1.1.1.1.1.2.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.2"><ci id="A1.T3.4.4.1.m1.1.1.1.1.2.1.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.2.1">^</ci><ci id="A1.T3.4.4.1.m1.1.1.1.1.2.2.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.2.2">𝑌</ci></apply><apply id="A1.T3.4.4.1.m1.1.1.1.1.4.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.4"><csymbol cd="latexml" id="A1.T3.4.4.1.m1.1.1.1.1.4.1.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.4.1">conditional</csymbol><cn type="integer" id="A1.T3.4.4.1.m1.1.1.1.1.4.2.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.4.2">1</cn><ci id="A1.T3.4.4.1.m1.1.1.1.1.4.3.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.4.3">𝐴</ci></apply></apply><apply id="A1.T3.4.4.1.m1.1.1.1.1c.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1"><eq id="A1.T3.4.4.1.m1.1.1.1.1.5.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.5"></eq><share href="#A1.T3.4.4.1.m1.1.1.1.1.4.cmml" id="A1.T3.4.4.1.m1.1.1.1.1d.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1"></share><cn type="integer" id="A1.T3.4.4.1.m1.1.1.1.1.6.cmml" xref="A1.T3.4.4.1.m1.1.1.1.1.6">0</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.T3.4.4.1.m1.1c">[\hat{Y}=1|A=0]</annotation></semantics></math>
</th>
<td id="A1.T3.4.4.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="A1.T3.4.4.2.1" class="ltx_text ltx_font_bold">11.3%</span></td>
<td id="A1.T3.4.4.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t"><span id="A1.T3.4.4.3.1" class="ltx_text ltx_font_bold">11.3%</span></td>
</tr>
</tbody>
</table>
</figure>
<div id="A1.p2" class="ltx_para">
<p id="A1.p2.4" class="ltx_p">We distribute the data samples among 5 clients using Dirichlet distribution with two settings: a) independent and identically distributed (IID) with Dirichlet parameter of <math id="A1.p2.1.m1.1" class="ltx_Math" alttext="\alpha=5000" display="inline"><semantics id="A1.p2.1.m1.1a"><mrow id="A1.p2.1.m1.1.1" xref="A1.p2.1.m1.1.1.cmml"><mi id="A1.p2.1.m1.1.1.2" xref="A1.p2.1.m1.1.1.2.cmml">α</mi><mo id="A1.p2.1.m1.1.1.1" xref="A1.p2.1.m1.1.1.1.cmml">=</mo><mn id="A1.p2.1.m1.1.1.3" xref="A1.p2.1.m1.1.1.3.cmml">5000</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p2.1.m1.1b"><apply id="A1.p2.1.m1.1.1.cmml" xref="A1.p2.1.m1.1.1"><eq id="A1.p2.1.m1.1.1.1.cmml" xref="A1.p2.1.m1.1.1.1"></eq><ci id="A1.p2.1.m1.1.1.2.cmml" xref="A1.p2.1.m1.1.1.2">𝛼</ci><cn type="integer" id="A1.p2.1.m1.1.1.3.cmml" xref="A1.p2.1.m1.1.1.3">5000</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p2.1.m1.1c">\alpha=5000</annotation></semantics></math>, and b) non-independent and identically distributed (non-IID) with Dirichlet parameter of <math id="A1.p2.2.m2.1" class="ltx_Math" alttext="\alpha=1" display="inline"><semantics id="A1.p2.2.m2.1a"><mrow id="A1.p2.2.m2.1.1" xref="A1.p2.2.m2.1.1.cmml"><mi id="A1.p2.2.m2.1.1.2" xref="A1.p2.2.m2.1.1.2.cmml">α</mi><mo id="A1.p2.2.m2.1.1.1" xref="A1.p2.2.m2.1.1.1.cmml">=</mo><mn id="A1.p2.2.m2.1.1.3" xref="A1.p2.2.m2.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="A1.p2.2.m2.1b"><apply id="A1.p2.2.m2.1.1.cmml" xref="A1.p2.2.m2.1.1"><eq id="A1.p2.2.m2.1.1.1.cmml" xref="A1.p2.2.m2.1.1.1"></eq><ci id="A1.p2.2.m2.1.1.2.cmml" xref="A1.p2.2.m2.1.1.2">𝛼</ci><cn type="integer" id="A1.p2.2.m2.1.1.3.cmml" xref="A1.p2.2.m2.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p2.2.m2.1c">\alpha=1</annotation></semantics></math>.
We use two metrics to measure the fairness in this dataset that are used in previous works <cite class="ltx_cite ltx_citemacro_citep">(Ezzeldin et al. <a href="#bib.bib8" title="" class="ltx_ref">2021</a>; Abay et al. <a href="#bib.bib1" title="" class="ltx_ref">2020</a>; Zhang, Kou, and Wang <a href="#bib.bib32" title="" class="ltx_ref">2020</a>)</cite>. First, we use equal opportunity difference (EOD) (i.e., <math id="A1.p2.3.m3.1" class="ltx_math_unparsed" alttext="EOD=Pr(\hat{Y}=1|A=0,Y=1)-Pr(\hat{Y}=1|A=1,Y=1)" display="inline"><semantics id="A1.p2.3.m3.1a"><mrow id="A1.p2.3.m3.1b"><mi id="A1.p2.3.m3.1.1">E</mi><mi id="A1.p2.3.m3.1.2">O</mi><mi id="A1.p2.3.m3.1.3">D</mi><mo id="A1.p2.3.m3.1.4">=</mo><mi id="A1.p2.3.m3.1.5">P</mi><mi id="A1.p2.3.m3.1.6">r</mi><mrow id="A1.p2.3.m3.1.7"><mo stretchy="false" id="A1.p2.3.m3.1.7.1">(</mo><mover accent="true" id="A1.p2.3.m3.1.7.2"><mi id="A1.p2.3.m3.1.7.2.2">Y</mi><mo id="A1.p2.3.m3.1.7.2.1">^</mo></mover><mo id="A1.p2.3.m3.1.7.3">=</mo><mn id="A1.p2.3.m3.1.7.4">1</mn><mo fence="false" rspace="0.167em" stretchy="false" id="A1.p2.3.m3.1.7.5">|</mo><mi id="A1.p2.3.m3.1.7.6">A</mi><mo id="A1.p2.3.m3.1.7.7">=</mo><mn id="A1.p2.3.m3.1.7.8">0</mn><mo id="A1.p2.3.m3.1.7.9">,</mo><mi id="A1.p2.3.m3.1.7.10">Y</mi><mo id="A1.p2.3.m3.1.7.11">=</mo><mn id="A1.p2.3.m3.1.7.12">1</mn><mo stretchy="false" id="A1.p2.3.m3.1.7.13">)</mo></mrow><mo id="A1.p2.3.m3.1.8">−</mo><mi id="A1.p2.3.m3.1.9">P</mi><mi id="A1.p2.3.m3.1.10">r</mi><mrow id="A1.p2.3.m3.1.11"><mo stretchy="false" id="A1.p2.3.m3.1.11.1">(</mo><mover accent="true" id="A1.p2.3.m3.1.11.2"><mi id="A1.p2.3.m3.1.11.2.2">Y</mi><mo id="A1.p2.3.m3.1.11.2.1">^</mo></mover><mo id="A1.p2.3.m3.1.11.3">=</mo><mn id="A1.p2.3.m3.1.11.4">1</mn><mo fence="false" rspace="0.167em" stretchy="false" id="A1.p2.3.m3.1.11.5">|</mo><mi id="A1.p2.3.m3.1.11.6">A</mi><mo id="A1.p2.3.m3.1.11.7">=</mo><mn id="A1.p2.3.m3.1.11.8">1</mn><mo id="A1.p2.3.m3.1.11.9">,</mo><mi id="A1.p2.3.m3.1.11.10">Y</mi><mo id="A1.p2.3.m3.1.11.11">=</mo><mn id="A1.p2.3.m3.1.11.12">1</mn><mo stretchy="false" id="A1.p2.3.m3.1.11.13">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="A1.p2.3.m3.1c">EOD=Pr(\hat{Y}=1|A=0,Y=1)-Pr(\hat{Y}=1|A=1,Y=1)</annotation></semantics></math>) where it measures the true positive rate difference of majority and minority group. Second, we use discrimination index (DI) (i.e., <math id="A1.p2.4.m4.2" class="ltx_Math" alttext="DI=F1(\theta|A=0)-F1(\theta|A=1)" display="inline"><semantics id="A1.p2.4.m4.2a"><mrow id="A1.p2.4.m4.2.2" xref="A1.p2.4.m4.2.2.cmml"><mrow id="A1.p2.4.m4.2.2.4" xref="A1.p2.4.m4.2.2.4.cmml"><mi id="A1.p2.4.m4.2.2.4.2" xref="A1.p2.4.m4.2.2.4.2.cmml">D</mi><mo lspace="0em" rspace="0em" id="A1.p2.4.m4.2.2.4.1" xref="A1.p2.4.m4.2.2.4.1.cmml">​</mo><mi id="A1.p2.4.m4.2.2.4.3" xref="A1.p2.4.m4.2.2.4.3.cmml">I</mi></mrow><mo id="A1.p2.4.m4.2.2.3" xref="A1.p2.4.m4.2.2.3.cmml">=</mo><mrow id="A1.p2.4.m4.2.2.2" xref="A1.p2.4.m4.2.2.2.cmml"><mrow id="A1.p2.4.m4.1.1.1.1" xref="A1.p2.4.m4.1.1.1.1.cmml"><mi id="A1.p2.4.m4.1.1.1.1.3" xref="A1.p2.4.m4.1.1.1.1.3.cmml">F</mi><mo lspace="0em" rspace="0em" id="A1.p2.4.m4.1.1.1.1.2" xref="A1.p2.4.m4.1.1.1.1.2.cmml">​</mo><mn id="A1.p2.4.m4.1.1.1.1.4" xref="A1.p2.4.m4.1.1.1.1.4.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.p2.4.m4.1.1.1.1.2a" xref="A1.p2.4.m4.1.1.1.1.2.cmml">​</mo><mrow id="A1.p2.4.m4.1.1.1.1.1.1" xref="A1.p2.4.m4.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="A1.p2.4.m4.1.1.1.1.1.1.2" xref="A1.p2.4.m4.1.1.1.1.1.1.1.cmml">(</mo><mrow id="A1.p2.4.m4.1.1.1.1.1.1.1" xref="A1.p2.4.m4.1.1.1.1.1.1.1.cmml"><mrow id="A1.p2.4.m4.1.1.1.1.1.1.1.2" xref="A1.p2.4.m4.1.1.1.1.1.1.1.2.cmml"><mi id="A1.p2.4.m4.1.1.1.1.1.1.1.2.2" xref="A1.p2.4.m4.1.1.1.1.1.1.1.2.2.cmml">θ</mi><mo fence="false" id="A1.p2.4.m4.1.1.1.1.1.1.1.2.1" xref="A1.p2.4.m4.1.1.1.1.1.1.1.2.1.cmml">|</mo><mi id="A1.p2.4.m4.1.1.1.1.1.1.1.2.3" xref="A1.p2.4.m4.1.1.1.1.1.1.1.2.3.cmml">A</mi></mrow><mo id="A1.p2.4.m4.1.1.1.1.1.1.1.1" xref="A1.p2.4.m4.1.1.1.1.1.1.1.1.cmml">=</mo><mn id="A1.p2.4.m4.1.1.1.1.1.1.1.3" xref="A1.p2.4.m4.1.1.1.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="A1.p2.4.m4.1.1.1.1.1.1.3" xref="A1.p2.4.m4.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="A1.p2.4.m4.2.2.2.3" xref="A1.p2.4.m4.2.2.2.3.cmml">−</mo><mrow id="A1.p2.4.m4.2.2.2.2" xref="A1.p2.4.m4.2.2.2.2.cmml"><mi id="A1.p2.4.m4.2.2.2.2.3" xref="A1.p2.4.m4.2.2.2.2.3.cmml">F</mi><mo lspace="0em" rspace="0em" id="A1.p2.4.m4.2.2.2.2.2" xref="A1.p2.4.m4.2.2.2.2.2.cmml">​</mo><mn id="A1.p2.4.m4.2.2.2.2.4" xref="A1.p2.4.m4.2.2.2.2.4.cmml">1</mn><mo lspace="0em" rspace="0em" id="A1.p2.4.m4.2.2.2.2.2a" xref="A1.p2.4.m4.2.2.2.2.2.cmml">​</mo><mrow id="A1.p2.4.m4.2.2.2.2.1.1" xref="A1.p2.4.m4.2.2.2.2.1.1.1.cmml"><mo stretchy="false" id="A1.p2.4.m4.2.2.2.2.1.1.2" xref="A1.p2.4.m4.2.2.2.2.1.1.1.cmml">(</mo><mrow id="A1.p2.4.m4.2.2.2.2.1.1.1" xref="A1.p2.4.m4.2.2.2.2.1.1.1.cmml"><mrow id="A1.p2.4.m4.2.2.2.2.1.1.1.2" xref="A1.p2.4.m4.2.2.2.2.1.1.1.2.cmml"><mi id="A1.p2.4.m4.2.2.2.2.1.1.1.2.2" xref="A1.p2.4.m4.2.2.2.2.1.1.1.2.2.cmml">θ</mi><mo fence="false" id="A1.p2.4.m4.2.2.2.2.1.1.1.2.1" xref="A1.p2.4.m4.2.2.2.2.1.1.1.2.1.cmml">|</mo><mi id="A1.p2.4.m4.2.2.2.2.1.1.1.2.3" xref="A1.p2.4.m4.2.2.2.2.1.1.1.2.3.cmml">A</mi></mrow><mo id="A1.p2.4.m4.2.2.2.2.1.1.1.1" xref="A1.p2.4.m4.2.2.2.2.1.1.1.1.cmml">=</mo><mn id="A1.p2.4.m4.2.2.2.2.1.1.1.3" xref="A1.p2.4.m4.2.2.2.2.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="A1.p2.4.m4.2.2.2.2.1.1.3" xref="A1.p2.4.m4.2.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="A1.p2.4.m4.2b"><apply id="A1.p2.4.m4.2.2.cmml" xref="A1.p2.4.m4.2.2"><eq id="A1.p2.4.m4.2.2.3.cmml" xref="A1.p2.4.m4.2.2.3"></eq><apply id="A1.p2.4.m4.2.2.4.cmml" xref="A1.p2.4.m4.2.2.4"><times id="A1.p2.4.m4.2.2.4.1.cmml" xref="A1.p2.4.m4.2.2.4.1"></times><ci id="A1.p2.4.m4.2.2.4.2.cmml" xref="A1.p2.4.m4.2.2.4.2">𝐷</ci><ci id="A1.p2.4.m4.2.2.4.3.cmml" xref="A1.p2.4.m4.2.2.4.3">𝐼</ci></apply><apply id="A1.p2.4.m4.2.2.2.cmml" xref="A1.p2.4.m4.2.2.2"><minus id="A1.p2.4.m4.2.2.2.3.cmml" xref="A1.p2.4.m4.2.2.2.3"></minus><apply id="A1.p2.4.m4.1.1.1.1.cmml" xref="A1.p2.4.m4.1.1.1.1"><times id="A1.p2.4.m4.1.1.1.1.2.cmml" xref="A1.p2.4.m4.1.1.1.1.2"></times><ci id="A1.p2.4.m4.1.1.1.1.3.cmml" xref="A1.p2.4.m4.1.1.1.1.3">𝐹</ci><cn type="integer" id="A1.p2.4.m4.1.1.1.1.4.cmml" xref="A1.p2.4.m4.1.1.1.1.4">1</cn><apply id="A1.p2.4.m4.1.1.1.1.1.1.1.cmml" xref="A1.p2.4.m4.1.1.1.1.1.1"><eq id="A1.p2.4.m4.1.1.1.1.1.1.1.1.cmml" xref="A1.p2.4.m4.1.1.1.1.1.1.1.1"></eq><apply id="A1.p2.4.m4.1.1.1.1.1.1.1.2.cmml" xref="A1.p2.4.m4.1.1.1.1.1.1.1.2"><csymbol cd="latexml" id="A1.p2.4.m4.1.1.1.1.1.1.1.2.1.cmml" xref="A1.p2.4.m4.1.1.1.1.1.1.1.2.1">conditional</csymbol><ci id="A1.p2.4.m4.1.1.1.1.1.1.1.2.2.cmml" xref="A1.p2.4.m4.1.1.1.1.1.1.1.2.2">𝜃</ci><ci id="A1.p2.4.m4.1.1.1.1.1.1.1.2.3.cmml" xref="A1.p2.4.m4.1.1.1.1.1.1.1.2.3">𝐴</ci></apply><cn type="integer" id="A1.p2.4.m4.1.1.1.1.1.1.1.3.cmml" xref="A1.p2.4.m4.1.1.1.1.1.1.1.3">0</cn></apply></apply><apply id="A1.p2.4.m4.2.2.2.2.cmml" xref="A1.p2.4.m4.2.2.2.2"><times id="A1.p2.4.m4.2.2.2.2.2.cmml" xref="A1.p2.4.m4.2.2.2.2.2"></times><ci id="A1.p2.4.m4.2.2.2.2.3.cmml" xref="A1.p2.4.m4.2.2.2.2.3">𝐹</ci><cn type="integer" id="A1.p2.4.m4.2.2.2.2.4.cmml" xref="A1.p2.4.m4.2.2.2.2.4">1</cn><apply id="A1.p2.4.m4.2.2.2.2.1.1.1.cmml" xref="A1.p2.4.m4.2.2.2.2.1.1"><eq id="A1.p2.4.m4.2.2.2.2.1.1.1.1.cmml" xref="A1.p2.4.m4.2.2.2.2.1.1.1.1"></eq><apply id="A1.p2.4.m4.2.2.2.2.1.1.1.2.cmml" xref="A1.p2.4.m4.2.2.2.2.1.1.1.2"><csymbol cd="latexml" id="A1.p2.4.m4.2.2.2.2.1.1.1.2.1.cmml" xref="A1.p2.4.m4.2.2.2.2.1.1.1.2.1">conditional</csymbol><ci id="A1.p2.4.m4.2.2.2.2.1.1.1.2.2.cmml" xref="A1.p2.4.m4.2.2.2.2.1.1.1.2.2">𝜃</ci><ci id="A1.p2.4.m4.2.2.2.2.1.1.1.2.3.cmml" xref="A1.p2.4.m4.2.2.2.2.1.1.1.2.3">𝐴</ci></apply><cn type="integer" id="A1.p2.4.m4.2.2.2.2.1.1.1.3.cmml" xref="A1.p2.4.m4.2.2.2.2.1.1.1.3">1</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A1.p2.4.m4.2c">DI=F1(\theta|A=0)-F1(\theta|A=1)</annotation></semantics></math>) where it measures the F1 score difference between two groups.</p>
</div>
<figure id="A1.T4" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 4: </span> Fairness of E2FL compared to other baselines on Adult dataset.</figcaption>
<table id="A1.T4.7" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A1.T4.1.1" class="ltx_tr">
<th id="A1.T4.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="2"><span id="A1.T4.1.1.2.1" class="ltx_text">Algorithm</span></th>
<th id="A1.T4.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_rr ltx_border_t" rowspan="2"><span id="A1.T4.1.1.3.1" class="ltx_text">Metric</span></th>
<th id="A1.T4.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t" colspan="2">Heterogeneity Level <math id="A1.T4.1.1.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="A1.T4.1.1.1.m1.1a"><mi id="A1.T4.1.1.1.m1.1.1" xref="A1.T4.1.1.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="A1.T4.1.1.1.m1.1b"><ci id="A1.T4.1.1.1.m1.1.1.cmml" xref="A1.T4.1.1.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="A1.T4.1.1.1.m1.1c">\alpha</annotation></semantics></math>
</th>
</tr>
<tr id="A1.T4.7.8.1" class="ltx_tr">
<td id="A1.T4.7.8.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">5000 (IID)</td>
<td id="A1.T4.7.8.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1 (Non-IID)</td>
</tr>
<tr id="A1.T4.7.9.2" class="ltx_tr">
<th id="A1.T4.7.9.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="A1.T4.7.9.2.1.1" class="ltx_text">FedAvg</span></th>
<th id="A1.T4.7.9.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">Test Accuracy</th>
<td id="A1.T4.7.9.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.56</td>
<td id="A1.T4.7.9.2.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.47</td>
</tr>
<tr id="A1.T4.2.2" class="ltx_tr">
<th id="A1.T4.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">EOD<sub id="A1.T4.2.2.1.1" class="ltx_sub"><span id="A1.T4.2.2.1.1.1" class="ltx_text ltx_font_italic">te</span></sub>
</th>
<td id="A1.T4.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0689</td>
<td id="A1.T4.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0834</td>
</tr>
<tr id="A1.T4.3.3" class="ltx_tr">
<th id="A1.T4.3.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">DI<sub id="A1.T4.3.3.1.1" class="ltx_sub"><span id="A1.T4.3.3.1.1.1" class="ltx_text ltx_font_italic">te</span></sub>
</th>
<td id="A1.T4.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0432</td>
<td id="A1.T4.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0517</td>
</tr>
<tr id="A1.T4.7.10.3" class="ltx_tr">
<th id="A1.T4.7.10.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="A1.T4.7.10.3.1.1" class="ltx_text">FairFed</span></th>
<th id="A1.T4.7.10.3.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">Test Accuracy</th>
<td id="A1.T4.7.10.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.1</td>
<td id="A1.T4.7.10.3.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">84.47</td>
</tr>
<tr id="A1.T4.4.4" class="ltx_tr">
<th id="A1.T4.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">EOD<sub id="A1.T4.4.4.1.1" class="ltx_sub"><span id="A1.T4.4.4.1.1.1" class="ltx_text ltx_font_italic">te</span></sub>
</th>
<td id="A1.T4.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0701</td>
<td id="A1.T4.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.069</td>
</tr>
<tr id="A1.T4.5.5" class="ltx_tr">
<th id="A1.T4.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">DI<sub id="A1.T4.5.5.1.1" class="ltx_sub"><span id="A1.T4.5.5.1.1.1" class="ltx_text ltx_font_italic">te</span></sub>
</th>
<td id="A1.T4.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0441</td>
<td id="A1.T4.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.041</td>
</tr>
<tr id="A1.T4.7.11.4" class="ltx_tr">
<th id="A1.T4.7.11.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="A1.T4.7.11.4.1.1" class="ltx_text">E2FL</span></th>
<th id="A1.T4.7.11.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">Test Accuracy</th>
<td id="A1.T4.7.11.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.22</td>
<td id="A1.T4.7.11.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.20</td>
</tr>
<tr id="A1.T4.6.6" class="ltx_tr">
<th id="A1.T4.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">EOD<sub id="A1.T4.6.6.1.1" class="ltx_sub"><span id="A1.T4.6.6.1.1.1" class="ltx_text ltx_font_italic">te</span></sub>
</th>
<td id="A1.T4.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0174</td>
<td id="A1.T4.6.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-0.0222</td>
</tr>
<tr id="A1.T4.7.7" class="ltx_tr">
<th id="A1.T4.7.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_b ltx_border_rr ltx_border_t">DI<sub id="A1.T4.7.7.1.1" class="ltx_sub"><span id="A1.T4.7.7.1.1.1" class="ltx_text ltx_font_italic">te</span></sub>
</th>
<td id="A1.T4.7.7.2" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">-0.019</td>
<td id="A1.T4.7.7.3" class="ltx_td ltx_align_center ltx_border_b ltx_border_r ltx_border_t">-0.0252</td>
</tr>
</tbody>
</table>
</figure>
<div id="A1.p3" class="ltx_para">
<p id="A1.p3.1" class="ltx_p">Table <a href="#A1.T4" title="Table 4 ‣ Appendix A Fairness with Multiple Groups in Each Client ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows the fairness comparison between FedAvg <cite class="ltx_cite ltx_citemacro_citep">(Konečnỳ et al. <a href="#bib.bib16" title="" class="ltx_ref">2016</a>; McMahan et al. <a href="#bib.bib24" title="" class="ltx_ref">2017</a>)</cite>, FairFed <cite class="ltx_cite ltx_citemacro_citep">(Ezzeldin et al. <a href="#bib.bib8" title="" class="ltx_ref">2021</a>)</cite>, and E2FL for different data distributions.
We choose FairFed as a baseline as it provides group fairness when we have different data groups (protected attributes) at each client, similar to what we have in the Adult dataset situation. This algorithm adaptively modifies the aggregation weights at the server in each round. The weights are based on the mismatch between the global fairness measure (at the server) and local fairness measure at each client. This algorithm is favouring clients whose local measures match more with the global fairness measure.
This table shows E2FL reduces the equal opportunity difference (EOD) and discrimination index (DI) of male and female groups with a small cost on the final test accuracy.
In particular, for non-IID data distribution, E2FL improves the EOD by 73% and DI by 51%, with the negligible cost of losing test accuracy (0.27%) compared to FedAvg, while FairFed improves EOD by 17% and DI by 20% with reducing the test accuracy by 1% compared to FedAvg.
From this table, we can see that FairFed cannot provide the same improvement when data is IID distributed as its design is based on very heterogeneous data distribution, while E2FL achieves similar improvement in both cases.
These results show that E2FL enforces the model to act more fair even when each client has a combination of all the groups.</p>
</div>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Missing Experiments when Group IDs are Unknown</h2>

<div id="A2.p1" class="ltx_para ltx_noindent">
<p id="A2.p1.1" class="ltx_p"><span id="A2.p1.1.1" class="ltx_text ltx_font_bold">Missing experiments for rank clustering E2FL on FairMNISTRotate:</span> 
Table <a href="#A2.T5" title="Table 5 ‣ Appendix B Missing Experiments when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> shows the accuracy of our rank clustering approach for the local rankings in E2FL. In this table we show the average of 10 different runs. In this approach, each E2FL client learns a local ranking for <math id="A2.p1.1.m1.1" class="ltx_Math" alttext="E=2" display="inline"><semantics id="A2.p1.1.m1.1a"><mrow id="A2.p1.1.m1.1.1" xref="A2.p1.1.m1.1.1.cmml"><mi id="A2.p1.1.m1.1.1.2" xref="A2.p1.1.m1.1.1.2.cmml">E</mi><mo id="A2.p1.1.m1.1.1.1" xref="A2.p1.1.m1.1.1.1.cmml">=</mo><mn id="A2.p1.1.m1.1.1.3" xref="A2.p1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A2.p1.1.m1.1b"><apply id="A2.p1.1.m1.1.1.cmml" xref="A2.p1.1.m1.1.1"><eq id="A2.p1.1.m1.1.1.1.cmml" xref="A2.p1.1.m1.1.1.1"></eq><ci id="A2.p1.1.m1.1.1.2.cmml" xref="A2.p1.1.m1.1.1.2">𝐸</ci><cn type="integer" id="A2.p1.1.m1.1.1.3.cmml" xref="A2.p1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A2.p1.1.m1.1c">E=2</annotation></semantics></math> local epochs on it local data at the beginning of E2FL and send the local ranking to the server, so the server can assign different group IDs to the clients. From this table we can see that with larger rankings, we can predict group ID with higher accuracy.</p>
</div>
<figure id="A2.T5" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 5: </span>Accuracy of group inference for rank clustering on FairMNISTRotate with 1000 clients by collecting local rankings that are trained for 2 local epochs. We show the accuracy of right prediction by using rankings of different layers with different number of parameters.</figcaption>
<table id="A2.T5.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T5.1.1.1" class="ltx_tr">
<th id="A2.T5.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t">Layer</th>
<th id="A2.T5.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_rr ltx_border_t">No Params</th>
<th id="A2.T5.1.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t">Accuracy of predicting the right group (%)</th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T5.1.2.1" class="ltx_tr">
<td id="A2.T5.1.2.1.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Conv1</td>
<td id="A2.T5.1.2.1.2" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">288</td>
<td id="A2.T5.1.2.1.3" class="ltx_td ltx_align_center ltx_border_t">91.78</td>
</tr>
<tr id="A2.T5.1.3.2" class="ltx_tr">
<td id="A2.T5.1.3.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Conv2</td>
<td id="A2.T5.1.3.2.2" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">18432</td>
<td id="A2.T5.1.3.2.3" class="ltx_td ltx_align_center ltx_border_t">94.94</td>
</tr>
<tr id="A2.T5.1.4.3" class="ltx_tr">
<td id="A2.T5.1.4.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FC1</td>
<td id="A2.T5.1.4.3.2" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">1605632</td>
<td id="A2.T5.1.4.3.3" class="ltx_td ltx_align_center ltx_border_t">93.76</td>
</tr>
<tr id="A2.T5.1.5.4" class="ltx_tr">
<td id="A2.T5.1.5.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FC2</td>
<td id="A2.T5.1.5.4.2" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">1280</td>
<td id="A2.T5.1.5.4.3" class="ltx_td ltx_align_center ltx_border_t">91.99</td>
</tr>
<tr id="A2.T5.1.6.5" class="ltx_tr">
<td id="A2.T5.1.6.5.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">ALL</td>
<td id="A2.T5.1.6.5.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_rr ltx_border_t">1625632</td>
<td id="A2.T5.1.6.5.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_t">93.21</td>
</tr>
</tbody>
</table>
</figure>
<div id="A2.p2" class="ltx_para ltx_noindent">
<p id="A2.p2.1" class="ltx_p"><span id="A2.p2.1.1" class="ltx_text ltx_font_bold">Missing experiments for rank clustering E2FL on FEMNIST:</span> 
Table <a href="#A2.T6" title="Table 6 ‣ Appendix B Missing Experiments when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> shows the equity and equality measurements of using E2FL on FEMNIST for different numbers of clusters. We can see by increasing the number of clusters, we can cover more diverse groups so the results are more fair.</p>
</div>
<figure id="A2.T6" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 6: </span> Comparing utility, equality and equity of E2FL using rank clustering for different numbers of clusters on FEMNIST with 3400 default clients.</figcaption>
<table id="A2.T6.1" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A2.T6.1.1.1" class="ltx_tr">
<th id="A2.T6.1.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_l ltx_border_r ltx_border_t" rowspan="3"><span id="A2.T6.1.1.1.1.1" class="ltx_text">Approach</span></th>
<th id="A2.T6.1.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t" rowspan="3"><span id="A2.T6.1.1.1.2.1" class="ltx_text">
<span id="A2.T6.1.1.1.2.1.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.1.1.1.2.1.1.1" class="ltx_p">Number of</span>
<span id="A2.T6.1.1.1.2.1.1.2" class="ltx_p">Clusters</span>
</span></span></th>
<td id="A2.T6.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="8">Metric</td>
</tr>
<tr id="A2.T6.1.2.2" class="ltx_tr">
<td id="A2.T6.1.2.2.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="4">Group-level Fairness (Equity)</td>
<td id="A2.T6.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t" colspan="4">User-level Fairness (Equality)</td>
</tr>
<tr id="A2.T6.1.3.3" class="ltx_tr">
<td id="A2.T6.1.3.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Average</td>
<td id="A2.T6.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A2.T6.1.3.3.2.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.1.3.3.2.1.1" class="ltx_p">Worst</span>
<span id="A2.T6.1.3.3.2.1.2" class="ltx_p">group</span>
</span>
</td>
<td id="A2.T6.1.3.3.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A2.T6.1.3.3.3.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.1.3.3.3.1.1" class="ltx_p">Best</span>
<span id="A2.T6.1.3.3.3.1.2" class="ltx_p">group</span>
</span>
</td>
<td id="A2.T6.1.3.3.4" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">Variance</td>
<td id="A2.T6.1.3.3.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Average</td>
<td id="A2.T6.1.3.3.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A2.T6.1.3.3.6.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.1.3.3.6.1.1" class="ltx_p">Worst</span>
<span id="A2.T6.1.3.3.6.1.2" class="ltx_p">(10%)</span>
</span>
</td>
<td id="A2.T6.1.3.3.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A2.T6.1.3.3.7.1" class="ltx_inline-block ltx_align_top">
<span id="A2.T6.1.3.3.7.1.1" class="ltx_p">Best</span>
<span id="A2.T6.1.3.3.7.1.2" class="ltx_p">(10%)</span>
</span>
</td>
<td id="A2.T6.1.3.3.8" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">Variance</td>
</tr>
<tr id="A2.T6.1.4.4" class="ltx_tr">
<th id="A2.T6.1.4.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_l ltx_border_r ltx_border_t" rowspan="4"><span id="A2.T6.1.4.4.1.1" class="ltx_text">E2FL</span></th>
<th id="A2.T6.1.4.4.2" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">2</th>
<td id="A2.T6.1.4.4.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">88.12</td>
<td id="A2.T6.1.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.65</td>
<td id="A2.T6.1.4.4.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">90.60</td>
<td id="A2.T6.1.4.4.6" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">6.10</td>
<td id="A2.T6.1.4.4.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">87.21</td>
<td id="A2.T6.1.4.4.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">66.36</td>
<td id="A2.T6.1.4.4.9" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">99.87</td>
<td id="A2.T6.1.4.4.10" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">94.09</td>
</tr>
<tr id="A2.T6.1.5.5" class="ltx_tr">
<th id="A2.T6.1.5.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">3</th>
<td id="A2.T6.1.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">88.03</td>
<td id="A2.T6.1.5.5.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">84.74</td>
<td id="A2.T6.1.5.5.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">91.33</td>
<td id="A2.T6.1.5.5.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">10.82</td>
<td id="A2.T6.1.5.5.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">86.36</td>
<td id="A2.T6.1.5.5.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">64.82</td>
<td id="A2.T6.1.5.5.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">99.66</td>
<td id="A2.T6.1.5.5.9" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">101.80</td>
</tr>
<tr id="A2.T6.1.6.6" class="ltx_tr">
<th id="A2.T6.1.6.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">4</th>
<td id="A2.T6.1.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">88.01</td>
<td id="A2.T6.1.6.6.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">85.01</td>
<td id="A2.T6.1.6.6.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">91.39</td>
<td id="A2.T6.1.6.6.5" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">5.42</td>
<td id="A2.T6.1.6.6.6" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">87.12</td>
<td id="A2.T6.1.6.6.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">65.81</td>
<td id="A2.T6.1.6.6.8" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">100</td>
<td id="A2.T6.1.6.6.9" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">98.80</td>
</tr>
<tr id="A2.T6.1.7.7" class="ltx_tr">
<th id="A2.T6.1.7.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_b ltx_border_rr ltx_border_t">5</th>
<td id="A2.T6.1.7.7.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">87.61</td>
<td id="A2.T6.1.7.7.3" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">85.31</td>
<td id="A2.T6.1.7.7.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">91.06</td>
<td id="A2.T6.1.7.7.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_rr ltx_border_t">3.80</td>
<td id="A2.T6.1.7.7.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">87.40</td>
<td id="A2.T6.1.7.7.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">67.30</td>
<td id="A2.T6.1.7.7.8" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">100</td>
<td id="A2.T6.1.7.7.9" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_rr ltx_border_t">88.54</td>
</tr>
</tbody>
</table>
</figure>
<div id="A2.p3" class="ltx_para ltx_noindent">
<p id="A2.p3.1" class="ltx_p"><span id="A2.p3.1.1" class="ltx_text ltx_font_bold">Missing experiments for client-based group inference approaches:</span> 
Figure <a href="#A2.F4" title="Figure 4 ‣ Appendix B Missing Experiments when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows the accuracy of group inference approaches by using three methods we proposed (on the client-side) for the 300 initial global epochs of E2FL on the FairMNISTRotate. We can see that the Lowest Loss approach produces more accurate results compared to Binary and OneShot approaches with cost of calculating <math id="A2.p3.1.m1.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="A2.p3.1.m1.1a"><mi id="A2.p3.1.m1.1.1" xref="A2.p3.1.m1.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="A2.p3.1.m1.1b"><ci id="A2.p3.1.m1.1.1.cmml" xref="A2.p3.1.m1.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="A2.p3.1.m1.1c">Q</annotation></semantics></math> forward passes. Also, the Binary method can produce better results compared to OneShot as it requires more forward and backward passes to determine the group ID.</p>
</div>
<figure id="A2.F4" class="ltx_figure"><img src="/html/2205.10454/assets/x5.png" id="A2.F4.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="263" height="196" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure">Figure 4: </span>Accuracy of group inference approaches proposed for E2FL for 300 initial global epochs on FairMNISTRotate</figcaption>
</figure>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Missing Details of Group Inference Algorithms</h2>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">In this section, we discuss the approaches proposed in Section <a href="#S5" title="5 E2FL when Group IDs are Unknown ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> for E2FL group inference.
Algorithm <a href="#alg2" title="Algorithm 2 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a> shows how rank clustering at server works.
Algorithm <a href="#alg3" title="Algorithm 3 ‣ Appendix C Missing Details of Group Inference Algorithms ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a> shows three approaches we suggest to be used at client-side for group inference.</p>
</div>
<div id="A3.p2" class="ltx_para ltx_noindent">
<p id="A3.p2.4" class="ltx_p"><span id="A3.p2.4.1" class="ltx_text ltx_font_bold">Time complexity comparison:</span> 
Lowest loss approach needs to have <math id="A3.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{O}(Q)" display="inline"><semantics id="A3.p2.1.m1.1a"><mrow id="A3.p2.1.m1.1.2" xref="A3.p2.1.m1.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.p2.1.m1.1.2.2" xref="A3.p2.1.m1.1.2.2.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="A3.p2.1.m1.1.2.1" xref="A3.p2.1.m1.1.2.1.cmml">​</mo><mrow id="A3.p2.1.m1.1.2.3.2" xref="A3.p2.1.m1.1.2.cmml"><mo stretchy="false" id="A3.p2.1.m1.1.2.3.2.1" xref="A3.p2.1.m1.1.2.cmml">(</mo><mi id="A3.p2.1.m1.1.1" xref="A3.p2.1.m1.1.1.cmml">Q</mi><mo stretchy="false" id="A3.p2.1.m1.1.2.3.2.2" xref="A3.p2.1.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p2.1.m1.1b"><apply id="A3.p2.1.m1.1.2.cmml" xref="A3.p2.1.m1.1.2"><times id="A3.p2.1.m1.1.2.1.cmml" xref="A3.p2.1.m1.1.2.1"></times><ci id="A3.p2.1.m1.1.2.2.cmml" xref="A3.p2.1.m1.1.2.2">𝒪</ci><ci id="A3.p2.1.m1.1.1.cmml" xref="A3.p2.1.m1.1.1">𝑄</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.1.m1.1c">\mathcal{O}(Q)</annotation></semantics></math> forward passes to find the binary mask that produces the lowest loss for <math id="A3.p2.2.m2.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="A3.p2.2.m2.1a"><mi id="A3.p2.2.m2.1.1" xref="A3.p2.2.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="A3.p2.2.m2.1b"><ci id="A3.p2.2.m2.1.1.cmml" xref="A3.p2.2.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.2.m2.1c">Q</annotation></semantics></math> groups. Binary search over the entropy needs to have <math id="A3.p2.3.m3.3" class="ltx_Math" alttext="\mathcal{O}(\log(Q))" display="inline"><semantics id="A3.p2.3.m3.3a"><mrow id="A3.p2.3.m3.3.3" xref="A3.p2.3.m3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.p2.3.m3.3.3.3" xref="A3.p2.3.m3.3.3.3.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="A3.p2.3.m3.3.3.2" xref="A3.p2.3.m3.3.3.2.cmml">​</mo><mrow id="A3.p2.3.m3.3.3.1.1" xref="A3.p2.3.m3.3.3.cmml"><mo stretchy="false" id="A3.p2.3.m3.3.3.1.1.2" xref="A3.p2.3.m3.3.3.cmml">(</mo><mrow id="A3.p2.3.m3.3.3.1.1.1.2" xref="A3.p2.3.m3.3.3.1.1.1.1.cmml"><mi id="A3.p2.3.m3.1.1" xref="A3.p2.3.m3.1.1.cmml">log</mi><mo id="A3.p2.3.m3.3.3.1.1.1.2a" xref="A3.p2.3.m3.3.3.1.1.1.1.cmml">⁡</mo><mrow id="A3.p2.3.m3.3.3.1.1.1.2.1" xref="A3.p2.3.m3.3.3.1.1.1.1.cmml"><mo stretchy="false" id="A3.p2.3.m3.3.3.1.1.1.2.1.1" xref="A3.p2.3.m3.3.3.1.1.1.1.cmml">(</mo><mi id="A3.p2.3.m3.2.2" xref="A3.p2.3.m3.2.2.cmml">Q</mi><mo stretchy="false" id="A3.p2.3.m3.3.3.1.1.1.2.1.2" xref="A3.p2.3.m3.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="A3.p2.3.m3.3.3.1.1.3" xref="A3.p2.3.m3.3.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p2.3.m3.3b"><apply id="A3.p2.3.m3.3.3.cmml" xref="A3.p2.3.m3.3.3"><times id="A3.p2.3.m3.3.3.2.cmml" xref="A3.p2.3.m3.3.3.2"></times><ci id="A3.p2.3.m3.3.3.3.cmml" xref="A3.p2.3.m3.3.3.3">𝒪</ci><apply id="A3.p2.3.m3.3.3.1.1.1.1.cmml" xref="A3.p2.3.m3.3.3.1.1.1.2"><log id="A3.p2.3.m3.1.1.cmml" xref="A3.p2.3.m3.1.1"></log><ci id="A3.p2.3.m3.2.2.cmml" xref="A3.p2.3.m3.2.2">𝑄</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.3.m3.3c">\mathcal{O}(\log(Q))</annotation></semantics></math> forward and backward passes. Finally, the OneShot inference only requires <math id="A3.p2.4.m4.1" class="ltx_Math" alttext="\mathcal{O}(1)" display="inline"><semantics id="A3.p2.4.m4.1a"><mrow id="A3.p2.4.m4.1.2" xref="A3.p2.4.m4.1.2.cmml"><mi class="ltx_font_mathcaligraphic" id="A3.p2.4.m4.1.2.2" xref="A3.p2.4.m4.1.2.2.cmml">𝒪</mi><mo lspace="0em" rspace="0em" id="A3.p2.4.m4.1.2.1" xref="A3.p2.4.m4.1.2.1.cmml">​</mo><mrow id="A3.p2.4.m4.1.2.3.2" xref="A3.p2.4.m4.1.2.cmml"><mo stretchy="false" id="A3.p2.4.m4.1.2.3.2.1" xref="A3.p2.4.m4.1.2.cmml">(</mo><mn id="A3.p2.4.m4.1.1" xref="A3.p2.4.m4.1.1.cmml">1</mn><mo stretchy="false" id="A3.p2.4.m4.1.2.3.2.2" xref="A3.p2.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A3.p2.4.m4.1b"><apply id="A3.p2.4.m4.1.2.cmml" xref="A3.p2.4.m4.1.2"><times id="A3.p2.4.m4.1.2.1.cmml" xref="A3.p2.4.m4.1.2.1"></times><ci id="A3.p2.4.m4.1.2.2.cmml" xref="A3.p2.4.m4.1.2.2">𝒪</ci><cn type="integer" id="A3.p2.4.m4.1.1.cmml" xref="A3.p2.4.m4.1.1">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A3.p2.4.m4.1c">\mathcal{O}(1)</annotation></semantics></math> forward and backward passes, so it makes the estimation process very fast.</p>
</div>
<figure id="alg2" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg2.2.1.1" class="ltx_text ltx_font_bold">Algorithm 2</span> </span> Identity Inference with Rank Clustering</figcaption>
<div id="alg2.3" class="ltx_listing ltx_listing">
<div id="alg2.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span><span id="alg2.l1.1" class="ltx_text ltx_font_bold">Input:</span> number of clients <math id="alg2.l1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg2.l1.m1.1a"><mi id="alg2.l1.m1.1.1" xref="alg2.l1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg2.l1.m1.1b"><ci id="alg2.l1.m1.1.1.cmml" xref="alg2.l1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m1.1c">N</annotation></semantics></math>, Local rankings <math id="alg2.l1.m2.2" class="ltx_Math" alttext="R_{\{i\in[N]\}}" display="inline"><semantics id="alg2.l1.m2.2a"><msub id="alg2.l1.m2.2.3" xref="alg2.l1.m2.2.3.cmml"><mi id="alg2.l1.m2.2.3.2" xref="alg2.l1.m2.2.3.2.cmml">R</mi><mrow id="alg2.l1.m2.2.2.2.2" xref="alg2.l1.m2.2.2.2.3.cmml"><mo stretchy="false" id="alg2.l1.m2.2.2.2.2.2" xref="alg2.l1.m2.2.2.2.3.cmml">{</mo><mrow id="alg2.l1.m2.2.2.2.2.1" xref="alg2.l1.m2.2.2.2.2.1.cmml"><mi id="alg2.l1.m2.2.2.2.2.1.2" xref="alg2.l1.m2.2.2.2.2.1.2.cmml">i</mi><mo id="alg2.l1.m2.2.2.2.2.1.1" xref="alg2.l1.m2.2.2.2.2.1.1.cmml">∈</mo><mrow id="alg2.l1.m2.2.2.2.2.1.3.2" xref="alg2.l1.m2.2.2.2.2.1.3.1.cmml"><mo stretchy="false" id="alg2.l1.m2.2.2.2.2.1.3.2.1" xref="alg2.l1.m2.2.2.2.2.1.3.1.1.cmml">[</mo><mi id="alg2.l1.m2.1.1.1.1" xref="alg2.l1.m2.1.1.1.1.cmml">N</mi><mo stretchy="false" id="alg2.l1.m2.2.2.2.2.1.3.2.2" xref="alg2.l1.m2.2.2.2.2.1.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg2.l1.m2.2.2.2.2.3" xref="alg2.l1.m2.2.2.2.3.cmml">}</mo></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l1.m2.2b"><apply id="alg2.l1.m2.2.3.cmml" xref="alg2.l1.m2.2.3"><csymbol cd="ambiguous" id="alg2.l1.m2.2.3.1.cmml" xref="alg2.l1.m2.2.3">subscript</csymbol><ci id="alg2.l1.m2.2.3.2.cmml" xref="alg2.l1.m2.2.3.2">𝑅</ci><set id="alg2.l1.m2.2.2.2.3.cmml" xref="alg2.l1.m2.2.2.2.2"><apply id="alg2.l1.m2.2.2.2.2.1.cmml" xref="alg2.l1.m2.2.2.2.2.1"><in id="alg2.l1.m2.2.2.2.2.1.1.cmml" xref="alg2.l1.m2.2.2.2.2.1.1"></in><ci id="alg2.l1.m2.2.2.2.2.1.2.cmml" xref="alg2.l1.m2.2.2.2.2.1.2">𝑖</ci><apply id="alg2.l1.m2.2.2.2.2.1.3.1.cmml" xref="alg2.l1.m2.2.2.2.2.1.3.2"><csymbol cd="latexml" id="alg2.l1.m2.2.2.2.2.1.3.1.1.cmml" xref="alg2.l1.m2.2.2.2.2.1.3.2.1">delimited-[]</csymbol><ci id="alg2.l1.m2.1.1.1.1.cmml" xref="alg2.l1.m2.1.1.1.1">𝑁</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m2.2c">R_{\{i\in[N]\}}</annotation></semantics></math>, number of clusters <math id="alg2.l1.m3.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="alg2.l1.m3.1a"><mi id="alg2.l1.m3.1.1" xref="alg2.l1.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="alg2.l1.m3.1b"><ci id="alg2.l1.m3.1.1.cmml" xref="alg2.l1.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m3.1c">Q</annotation></semantics></math>, number of iterations <math id="alg2.l1.m4.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg2.l1.m4.1a"><mi id="alg2.l1.m4.1.1" xref="alg2.l1.m4.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg2.l1.m4.1b"><ci id="alg2.l1.m4.1.1.cmml" xref="alg2.l1.m4.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l1.m4.1c">T</annotation></semantics></math>

</div>
<div id="alg2.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span><span id="alg2.l2.1" class="ltx_text ltx_font_bold">function</span> <span id="alg2.l2.2" class="ltx_text ltx_font_smallcaps" style="background-color:#F7BABB;">RankClustering</span>(<math id="alg2.l2.m1.2" class="ltx_Math" alttext="R_{\{i\in[N]\}}" display="inline"><semantics id="alg2.l2.m1.2a"><msub id="alg2.l2.m1.2.3" xref="alg2.l2.m1.2.3.cmml"><mi id="alg2.l2.m1.2.3.2" xref="alg2.l2.m1.2.3.2.cmml">R</mi><mrow id="alg2.l2.m1.2.2.2.2" xref="alg2.l2.m1.2.2.2.3.cmml"><mo stretchy="false" id="alg2.l2.m1.2.2.2.2.2" xref="alg2.l2.m1.2.2.2.3.cmml">{</mo><mrow id="alg2.l2.m1.2.2.2.2.1" xref="alg2.l2.m1.2.2.2.2.1.cmml"><mi id="alg2.l2.m1.2.2.2.2.1.2" xref="alg2.l2.m1.2.2.2.2.1.2.cmml">i</mi><mo id="alg2.l2.m1.2.2.2.2.1.1" xref="alg2.l2.m1.2.2.2.2.1.1.cmml">∈</mo><mrow id="alg2.l2.m1.2.2.2.2.1.3.2" xref="alg2.l2.m1.2.2.2.2.1.3.1.cmml"><mo stretchy="false" id="alg2.l2.m1.2.2.2.2.1.3.2.1" xref="alg2.l2.m1.2.2.2.2.1.3.1.1.cmml">[</mo><mi id="alg2.l2.m1.1.1.1.1" xref="alg2.l2.m1.1.1.1.1.cmml">N</mi><mo stretchy="false" id="alg2.l2.m1.2.2.2.2.1.3.2.2" xref="alg2.l2.m1.2.2.2.2.1.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg2.l2.m1.2.2.2.2.3" xref="alg2.l2.m1.2.2.2.3.cmml">}</mo></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l2.m1.2b"><apply id="alg2.l2.m1.2.3.cmml" xref="alg2.l2.m1.2.3"><csymbol cd="ambiguous" id="alg2.l2.m1.2.3.1.cmml" xref="alg2.l2.m1.2.3">subscript</csymbol><ci id="alg2.l2.m1.2.3.2.cmml" xref="alg2.l2.m1.2.3.2">𝑅</ci><set id="alg2.l2.m1.2.2.2.3.cmml" xref="alg2.l2.m1.2.2.2.2"><apply id="alg2.l2.m1.2.2.2.2.1.cmml" xref="alg2.l2.m1.2.2.2.2.1"><in id="alg2.l2.m1.2.2.2.2.1.1.cmml" xref="alg2.l2.m1.2.2.2.2.1.1"></in><ci id="alg2.l2.m1.2.2.2.2.1.2.cmml" xref="alg2.l2.m1.2.2.2.2.1.2">𝑖</ci><apply id="alg2.l2.m1.2.2.2.2.1.3.1.cmml" xref="alg2.l2.m1.2.2.2.2.1.3.2"><csymbol cd="latexml" id="alg2.l2.m1.2.2.2.2.1.3.1.1.cmml" xref="alg2.l2.m1.2.2.2.2.1.3.2.1">delimited-[]</csymbol><ci id="alg2.l2.m1.1.1.1.1.cmml" xref="alg2.l2.m1.1.1.1.1">𝑁</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l2.m1.2c">R_{\{i\in[N]\}}</annotation></semantics></math>)

</div>
<div id="alg2.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>     <math id="alg2.l3.m1.1" class="ltx_Math" alttext="\textsc{Centroids}\leftarrow" display="inline"><semantics id="alg2.l3.m1.1a"><mrow id="alg2.l3.m1.1.1" xref="alg2.l3.m1.1.1.cmml"><mtext class="ltx_font_smallcaps" id="alg2.l3.m1.1.1.2" xref="alg2.l3.m1.1.1.2a.cmml">Centroids</mtext><mo stretchy="false" id="alg2.l3.m1.1.1.1" xref="alg2.l3.m1.1.1.1.cmml">←</mo><mi id="alg2.l3.m1.1.1.3" xref="alg2.l3.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l3.m1.1b"><apply id="alg2.l3.m1.1.1.cmml" xref="alg2.l3.m1.1.1"><ci id="alg2.l3.m1.1.1.1.cmml" xref="alg2.l3.m1.1.1.1">←</ci><ci id="alg2.l3.m1.1.1.2a.cmml" xref="alg2.l3.m1.1.1.2"><mtext class="ltx_font_smallcaps" id="alg2.l3.m1.1.1.2.cmml" xref="alg2.l3.m1.1.1.2">Centroids</mtext></ci><csymbol cd="latexml" id="alg2.l3.m1.1.1.3.cmml" xref="alg2.l3.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m1.1c">\textsc{Centroids}\leftarrow</annotation></semantics></math> pick <math id="alg2.l3.m2.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="alg2.l3.m2.1a"><mi id="alg2.l3.m2.1.1" xref="alg2.l3.m2.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="alg2.l3.m2.1b"><ci id="alg2.l3.m2.1.1.cmml" xref="alg2.l3.m2.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m2.1c">Q</annotation></semantics></math> random rankings from <math id="alg2.l3.m3.2" class="ltx_Math" alttext="R_{\{i\in[N]\}}" display="inline"><semantics id="alg2.l3.m3.2a"><msub id="alg2.l3.m3.2.3" xref="alg2.l3.m3.2.3.cmml"><mi id="alg2.l3.m3.2.3.2" xref="alg2.l3.m3.2.3.2.cmml">R</mi><mrow id="alg2.l3.m3.2.2.2.2" xref="alg2.l3.m3.2.2.2.3.cmml"><mo stretchy="false" id="alg2.l3.m3.2.2.2.2.2" xref="alg2.l3.m3.2.2.2.3.cmml">{</mo><mrow id="alg2.l3.m3.2.2.2.2.1" xref="alg2.l3.m3.2.2.2.2.1.cmml"><mi id="alg2.l3.m3.2.2.2.2.1.2" xref="alg2.l3.m3.2.2.2.2.1.2.cmml">i</mi><mo id="alg2.l3.m3.2.2.2.2.1.1" xref="alg2.l3.m3.2.2.2.2.1.1.cmml">∈</mo><mrow id="alg2.l3.m3.2.2.2.2.1.3.2" xref="alg2.l3.m3.2.2.2.2.1.3.1.cmml"><mo stretchy="false" id="alg2.l3.m3.2.2.2.2.1.3.2.1" xref="alg2.l3.m3.2.2.2.2.1.3.1.1.cmml">[</mo><mi id="alg2.l3.m3.1.1.1.1" xref="alg2.l3.m3.1.1.1.1.cmml">N</mi><mo stretchy="false" id="alg2.l3.m3.2.2.2.2.1.3.2.2" xref="alg2.l3.m3.2.2.2.2.1.3.1.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg2.l3.m3.2.2.2.2.3" xref="alg2.l3.m3.2.2.2.3.cmml">}</mo></mrow></msub><annotation-xml encoding="MathML-Content" id="alg2.l3.m3.2b"><apply id="alg2.l3.m3.2.3.cmml" xref="alg2.l3.m3.2.3"><csymbol cd="ambiguous" id="alg2.l3.m3.2.3.1.cmml" xref="alg2.l3.m3.2.3">subscript</csymbol><ci id="alg2.l3.m3.2.3.2.cmml" xref="alg2.l3.m3.2.3.2">𝑅</ci><set id="alg2.l3.m3.2.2.2.3.cmml" xref="alg2.l3.m3.2.2.2.2"><apply id="alg2.l3.m3.2.2.2.2.1.cmml" xref="alg2.l3.m3.2.2.2.2.1"><in id="alg2.l3.m3.2.2.2.2.1.1.cmml" xref="alg2.l3.m3.2.2.2.2.1.1"></in><ci id="alg2.l3.m3.2.2.2.2.1.2.cmml" xref="alg2.l3.m3.2.2.2.2.1.2">𝑖</ci><apply id="alg2.l3.m3.2.2.2.2.1.3.1.cmml" xref="alg2.l3.m3.2.2.2.2.1.3.2"><csymbol cd="latexml" id="alg2.l3.m3.2.2.2.2.1.3.1.1.cmml" xref="alg2.l3.m3.2.2.2.2.1.3.2.1">delimited-[]</csymbol><ci id="alg2.l3.m3.1.1.1.1.cmml" xref="alg2.l3.m3.1.1.1.1">𝑁</ci></apply></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l3.m3.2c">R_{\{i\in[N]\}}</annotation></semantics></math>

</div>
<div id="alg2.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>     <math id="alg2.l4.m1.1" class="ltx_Math" alttext="r\leftarrow 0" display="inline"><semantics id="alg2.l4.m1.1a"><mrow id="alg2.l4.m1.1.1" xref="alg2.l4.m1.1.1.cmml"><mi id="alg2.l4.m1.1.1.2" xref="alg2.l4.m1.1.1.2.cmml">r</mi><mo stretchy="false" id="alg2.l4.m1.1.1.1" xref="alg2.l4.m1.1.1.1.cmml">←</mo><mn id="alg2.l4.m1.1.1.3" xref="alg2.l4.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg2.l4.m1.1b"><apply id="alg2.l4.m1.1.1.cmml" xref="alg2.l4.m1.1.1"><ci id="alg2.l4.m1.1.1.1.cmml" xref="alg2.l4.m1.1.1.1">←</ci><ci id="alg2.l4.m1.1.1.2.cmml" xref="alg2.l4.m1.1.1.2">𝑟</ci><cn type="integer" id="alg2.l4.m1.1.1.3.cmml" xref="alg2.l4.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.m1.1c">r\leftarrow 0</annotation></semantics></math> <span id="alg2.l4.1" class="ltx_text" style="float:right;"><math id="alg2.l4.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg2.l4.1.m1.1a"><mo id="alg2.l4.1.m1.1.1" xref="alg2.l4.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg2.l4.1.m1.1b"><ci id="alg2.l4.1.m1.1.1.cmml" xref="alg2.l4.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg2.l4.1.m1.1c">\triangleright</annotation></semantics></math> iteration counter
</span>
</div>
<div id="alg2.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>     <span id="alg2.l5.1" class="ltx_text ltx_font_bold">while</span> <math id="alg2.l5.m1.1" class="ltx_Math" alttext="r&lt;T" display="inline"><semantics id="alg2.l5.m1.1a"><mrow id="alg2.l5.m1.1.1" xref="alg2.l5.m1.1.1.cmml"><mi id="alg2.l5.m1.1.1.2" xref="alg2.l5.m1.1.1.2.cmml">r</mi><mo id="alg2.l5.m1.1.1.1" xref="alg2.l5.m1.1.1.1.cmml">&lt;</mo><mi id="alg2.l5.m1.1.1.3" xref="alg2.l5.m1.1.1.3.cmml">T</mi></mrow><annotation-xml encoding="MathML-Content" id="alg2.l5.m1.1b"><apply id="alg2.l5.m1.1.1.cmml" xref="alg2.l5.m1.1.1"><lt id="alg2.l5.m1.1.1.1.cmml" xref="alg2.l5.m1.1.1.1"></lt><ci id="alg2.l5.m1.1.1.2.cmml" xref="alg2.l5.m1.1.1.2">𝑟</ci><ci id="alg2.l5.m1.1.1.3.cmml" xref="alg2.l5.m1.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l5.m1.1c">r&lt;T</annotation></semantics></math> <span id="alg2.l5.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg2.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>         <math id="alg2.l6.m1.1" class="ltx_math_unparsed" alttext="\textsc{ClustersRanking}\leftarrow[[]\;\text{for}\;q\;\in[Q])]" display="inline"><semantics id="alg2.l6.m1.1a"><mrow id="alg2.l6.m1.1b"><mtext class="ltx_font_smallcaps" id="alg2.l6.m1.1.2">ClustersRanking</mtext><mo stretchy="false" id="alg2.l6.m1.1.3">←</mo><mrow id="alg2.l6.m1.1.4"><mo stretchy="false" id="alg2.l6.m1.1.4.1">[</mo><mrow id="alg2.l6.m1.1.4.2"><mo stretchy="false" id="alg2.l6.m1.1.4.2.1">[</mo><mo rspace="0.280em" stretchy="false" id="alg2.l6.m1.1.4.2.2">]</mo></mrow><mtext id="alg2.l6.m1.1.4.3">for</mtext><mi id="alg2.l6.m1.1.4.4">q</mi><mo lspace="0.558em" id="alg2.l6.m1.1.4.5">∈</mo><mrow id="alg2.l6.m1.1.4.6"><mo stretchy="false" id="alg2.l6.m1.1.4.6.1">[</mo><mi id="alg2.l6.m1.1.1">Q</mi><mo stretchy="false" id="alg2.l6.m1.1.4.6.2">]</mo></mrow><mo stretchy="false" id="alg2.l6.m1.1.4.7">)</mo></mrow><mo stretchy="false" id="alg2.l6.m1.1.5">]</mo></mrow><annotation encoding="application/x-tex" id="alg2.l6.m1.1c">\textsc{ClustersRanking}\leftarrow[[]\;\text{for}\;q\;\in[Q])]</annotation></semantics></math>

</div>
<div id="alg2.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>         <span id="alg2.l7.1" class="ltx_text ltx_font_bold">for</span> <math id="alg2.l7.m1.1" class="ltx_Math" alttext="u\in[N]" display="inline"><semantics id="alg2.l7.m1.1a"><mrow id="alg2.l7.m1.1.2" xref="alg2.l7.m1.1.2.cmml"><mi id="alg2.l7.m1.1.2.2" xref="alg2.l7.m1.1.2.2.cmml">u</mi><mo id="alg2.l7.m1.1.2.1" xref="alg2.l7.m1.1.2.1.cmml">∈</mo><mrow id="alg2.l7.m1.1.2.3.2" xref="alg2.l7.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg2.l7.m1.1.2.3.2.1" xref="alg2.l7.m1.1.2.3.1.1.cmml">[</mo><mi id="alg2.l7.m1.1.1" xref="alg2.l7.m1.1.1.cmml">N</mi><mo stretchy="false" id="alg2.l7.m1.1.2.3.2.2" xref="alg2.l7.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l7.m1.1b"><apply id="alg2.l7.m1.1.2.cmml" xref="alg2.l7.m1.1.2"><in id="alg2.l7.m1.1.2.1.cmml" xref="alg2.l7.m1.1.2.1"></in><ci id="alg2.l7.m1.1.2.2.cmml" xref="alg2.l7.m1.1.2.2">𝑢</ci><apply id="alg2.l7.m1.1.2.3.1.cmml" xref="alg2.l7.m1.1.2.3.2"><csymbol cd="latexml" id="alg2.l7.m1.1.2.3.1.1.cmml" xref="alg2.l7.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg2.l7.m1.1.1.cmml" xref="alg2.l7.m1.1.1">𝑁</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l7.m1.1c">u\in[N]</annotation></semantics></math> <span id="alg2.l7.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg2.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>              <math id="alg2.l8.m1.2" class="ltx_Math" alttext="q\leftarrow\textsc{getClosestCluster}(\textsc{Centroids},R_{i})" display="inline"><semantics id="alg2.l8.m1.2a"><mrow id="alg2.l8.m1.2.2" xref="alg2.l8.m1.2.2.cmml"><mi id="alg2.l8.m1.2.2.3" xref="alg2.l8.m1.2.2.3.cmml">q</mi><mo stretchy="false" id="alg2.l8.m1.2.2.2" xref="alg2.l8.m1.2.2.2.cmml">←</mo><mrow id="alg2.l8.m1.2.2.1" xref="alg2.l8.m1.2.2.1.cmml"><mtext class="ltx_font_smallcaps" id="alg2.l8.m1.2.2.1.3" xref="alg2.l8.m1.2.2.1.3a.cmml">getClosestCluster</mtext><mo lspace="0em" rspace="0em" id="alg2.l8.m1.2.2.1.2" xref="alg2.l8.m1.2.2.1.2.cmml">​</mo><mrow id="alg2.l8.m1.2.2.1.1.1" xref="alg2.l8.m1.2.2.1.1.2.cmml"><mo stretchy="false" id="alg2.l8.m1.2.2.1.1.1.2" xref="alg2.l8.m1.2.2.1.1.2.cmml">(</mo><mtext class="ltx_font_smallcaps" id="alg2.l8.m1.1.1" xref="alg2.l8.m1.1.1a.cmml">Centroids</mtext><mo id="alg2.l8.m1.2.2.1.1.1.3" xref="alg2.l8.m1.2.2.1.1.2.cmml">,</mo><msub id="alg2.l8.m1.2.2.1.1.1.1" xref="alg2.l8.m1.2.2.1.1.1.1.cmml"><mi id="alg2.l8.m1.2.2.1.1.1.1.2" xref="alg2.l8.m1.2.2.1.1.1.1.2.cmml">R</mi><mi id="alg2.l8.m1.2.2.1.1.1.1.3" xref="alg2.l8.m1.2.2.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="alg2.l8.m1.2.2.1.1.1.4" xref="alg2.l8.m1.2.2.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l8.m1.2b"><apply id="alg2.l8.m1.2.2.cmml" xref="alg2.l8.m1.2.2"><ci id="alg2.l8.m1.2.2.2.cmml" xref="alg2.l8.m1.2.2.2">←</ci><ci id="alg2.l8.m1.2.2.3.cmml" xref="alg2.l8.m1.2.2.3">𝑞</ci><apply id="alg2.l8.m1.2.2.1.cmml" xref="alg2.l8.m1.2.2.1"><times id="alg2.l8.m1.2.2.1.2.cmml" xref="alg2.l8.m1.2.2.1.2"></times><ci id="alg2.l8.m1.2.2.1.3a.cmml" xref="alg2.l8.m1.2.2.1.3"><mtext class="ltx_font_smallcaps" id="alg2.l8.m1.2.2.1.3.cmml" xref="alg2.l8.m1.2.2.1.3">getClosestCluster</mtext></ci><interval closure="open" id="alg2.l8.m1.2.2.1.1.2.cmml" xref="alg2.l8.m1.2.2.1.1.1"><ci id="alg2.l8.m1.1.1a.cmml" xref="alg2.l8.m1.1.1"><mtext class="ltx_font_smallcaps" id="alg2.l8.m1.1.1.cmml" xref="alg2.l8.m1.1.1">Centroids</mtext></ci><apply id="alg2.l8.m1.2.2.1.1.1.1.cmml" xref="alg2.l8.m1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="alg2.l8.m1.2.2.1.1.1.1.1.cmml" xref="alg2.l8.m1.2.2.1.1.1.1">subscript</csymbol><ci id="alg2.l8.m1.2.2.1.1.1.1.2.cmml" xref="alg2.l8.m1.2.2.1.1.1.1.2">𝑅</ci><ci id="alg2.l8.m1.2.2.1.1.1.1.3.cmml" xref="alg2.l8.m1.2.2.1.1.1.1.3">𝑖</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l8.m1.2c">q\leftarrow\textsc{getClosestCluster}(\textsc{Centroids},R_{i})</annotation></semantics></math>

</div>
<div id="alg2.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>              <math id="alg2.l9.m1.4" class="ltx_Math" alttext="\textsc{ClustersRanking}[q].\text{append}(u)" display="inline"><semantics id="alg2.l9.m1.4a"><mrow id="alg2.l9.m1.4.4.2" xref="alg2.l9.m1.4.4.3.cmml"><mrow id="alg2.l9.m1.3.3.1.1" xref="alg2.l9.m1.3.3.1.1.cmml"><mtext class="ltx_font_smallcaps" id="alg2.l9.m1.3.3.1.1.2" xref="alg2.l9.m1.3.3.1.1.2a.cmml">ClustersRanking</mtext><mo lspace="0em" rspace="0em" id="alg2.l9.m1.3.3.1.1.1" xref="alg2.l9.m1.3.3.1.1.1.cmml">​</mo><mrow id="alg2.l9.m1.3.3.1.1.3.2" xref="alg2.l9.m1.3.3.1.1.3.1.cmml"><mo stretchy="false" id="alg2.l9.m1.3.3.1.1.3.2.1" xref="alg2.l9.m1.3.3.1.1.3.1.1.cmml">[</mo><mi id="alg2.l9.m1.1.1" xref="alg2.l9.m1.1.1.cmml">q</mi><mo stretchy="false" id="alg2.l9.m1.3.3.1.1.3.2.2" xref="alg2.l9.m1.3.3.1.1.3.1.1.cmml">]</mo></mrow></mrow><mo lspace="0em" rspace="0.167em" id="alg2.l9.m1.4.4.2.3" xref="alg2.l9.m1.4.4.3a.cmml">.</mo><mrow id="alg2.l9.m1.4.4.2.2" xref="alg2.l9.m1.4.4.2.2.cmml"><mtext id="alg2.l9.m1.4.4.2.2.2" xref="alg2.l9.m1.4.4.2.2.2a.cmml">append</mtext><mo lspace="0em" rspace="0em" id="alg2.l9.m1.4.4.2.2.1" xref="alg2.l9.m1.4.4.2.2.1.cmml">​</mo><mrow id="alg2.l9.m1.4.4.2.2.3.2" xref="alg2.l9.m1.4.4.2.2.cmml"><mo stretchy="false" id="alg2.l9.m1.4.4.2.2.3.2.1" xref="alg2.l9.m1.4.4.2.2.cmml">(</mo><mi id="alg2.l9.m1.2.2" xref="alg2.l9.m1.2.2.cmml">u</mi><mo stretchy="false" id="alg2.l9.m1.4.4.2.2.3.2.2" xref="alg2.l9.m1.4.4.2.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l9.m1.4b"><apply id="alg2.l9.m1.4.4.3.cmml" xref="alg2.l9.m1.4.4.2"><csymbol cd="ambiguous" id="alg2.l9.m1.4.4.3a.cmml" xref="alg2.l9.m1.4.4.2.3">formulae-sequence</csymbol><apply id="alg2.l9.m1.3.3.1.1.cmml" xref="alg2.l9.m1.3.3.1.1"><times id="alg2.l9.m1.3.3.1.1.1.cmml" xref="alg2.l9.m1.3.3.1.1.1"></times><ci id="alg2.l9.m1.3.3.1.1.2a.cmml" xref="alg2.l9.m1.3.3.1.1.2"><mtext class="ltx_font_smallcaps" id="alg2.l9.m1.3.3.1.1.2.cmml" xref="alg2.l9.m1.3.3.1.1.2">ClustersRanking</mtext></ci><apply id="alg2.l9.m1.3.3.1.1.3.1.cmml" xref="alg2.l9.m1.3.3.1.1.3.2"><csymbol cd="latexml" id="alg2.l9.m1.3.3.1.1.3.1.1.cmml" xref="alg2.l9.m1.3.3.1.1.3.2.1">delimited-[]</csymbol><ci id="alg2.l9.m1.1.1.cmml" xref="alg2.l9.m1.1.1">𝑞</ci></apply></apply><apply id="alg2.l9.m1.4.4.2.2.cmml" xref="alg2.l9.m1.4.4.2.2"><times id="alg2.l9.m1.4.4.2.2.1.cmml" xref="alg2.l9.m1.4.4.2.2.1"></times><ci id="alg2.l9.m1.4.4.2.2.2a.cmml" xref="alg2.l9.m1.4.4.2.2.2"><mtext id="alg2.l9.m1.4.4.2.2.2.cmml" xref="alg2.l9.m1.4.4.2.2.2">append</mtext></ci><ci id="alg2.l9.m1.2.2.cmml" xref="alg2.l9.m1.2.2">𝑢</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l9.m1.4c">\textsc{ClustersRanking}[q].\text{append}(u)</annotation></semantics></math>

</div>
<div id="alg2.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>         <span id="alg2.l10.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l10.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg2.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>         <math id="alg2.l11.m1.1" class="ltx_Math" alttext="\textsc{Cnetroids}\leftarrow\textsc{FRLVote}(\textsc{ClustersRanking})" display="inline"><semantics id="alg2.l11.m1.1a"><mrow id="alg2.l11.m1.1.2" xref="alg2.l11.m1.1.2.cmml"><mtext class="ltx_font_smallcaps" id="alg2.l11.m1.1.2.2" xref="alg2.l11.m1.1.2.2a.cmml">Cnetroids</mtext><mo stretchy="false" id="alg2.l11.m1.1.2.1" xref="alg2.l11.m1.1.2.1.cmml">←</mo><mrow id="alg2.l11.m1.1.2.3" xref="alg2.l11.m1.1.2.3.cmml"><mtext class="ltx_font_smallcaps" id="alg2.l11.m1.1.2.3.2" xref="alg2.l11.m1.1.2.3.2a.cmml">FRLVote</mtext><mo lspace="0em" rspace="0em" id="alg2.l11.m1.1.2.3.1" xref="alg2.l11.m1.1.2.3.1.cmml">​</mo><mrow id="alg2.l11.m1.1.2.3.3.2" xref="alg2.l11.m1.1.1a.cmml"><mo stretchy="false" id="alg2.l11.m1.1.2.3.3.2.1" xref="alg2.l11.m1.1.1a.cmml">(</mo><mtext class="ltx_font_smallcaps" id="alg2.l11.m1.1.1" xref="alg2.l11.m1.1.1.cmml">ClustersRanking</mtext><mo stretchy="false" id="alg2.l11.m1.1.2.3.3.2.2" xref="alg2.l11.m1.1.1a.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg2.l11.m1.1b"><apply id="alg2.l11.m1.1.2.cmml" xref="alg2.l11.m1.1.2"><ci id="alg2.l11.m1.1.2.1.cmml" xref="alg2.l11.m1.1.2.1">←</ci><ci id="alg2.l11.m1.1.2.2a.cmml" xref="alg2.l11.m1.1.2.2"><mtext class="ltx_font_smallcaps" id="alg2.l11.m1.1.2.2.cmml" xref="alg2.l11.m1.1.2.2">Cnetroids</mtext></ci><apply id="alg2.l11.m1.1.2.3.cmml" xref="alg2.l11.m1.1.2.3"><times id="alg2.l11.m1.1.2.3.1.cmml" xref="alg2.l11.m1.1.2.3.1"></times><ci id="alg2.l11.m1.1.2.3.2a.cmml" xref="alg2.l11.m1.1.2.3.2"><mtext class="ltx_font_smallcaps" id="alg2.l11.m1.1.2.3.2.cmml" xref="alg2.l11.m1.1.2.3.2">FRLVote</mtext></ci><ci id="alg2.l11.m1.1.1a.cmml" xref="alg2.l11.m1.1.2.3.3.2"><mtext class="ltx_font_smallcaps" id="alg2.l11.m1.1.1.cmml" xref="alg2.l11.m1.1.1">ClustersRanking</mtext></ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l11.m1.1c">\textsc{Cnetroids}\leftarrow\textsc{FRLVote}(\textsc{ClustersRanking})</annotation></semantics></math>

</div>
<div id="alg2.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>         <math id="alg2.l12.m1.1" class="ltx_Math" alttext="r+=1" display="inline"><semantics id="alg2.l12.m1.1a"><mrow id="alg2.l12.m1.1.1" xref="alg2.l12.m1.1.1.cmml"><mrow id="alg2.l12.m1.1.1.2" xref="alg2.l12.m1.1.1.2.cmml"><mi id="alg2.l12.m1.1.1.2.2" xref="alg2.l12.m1.1.1.2.2.cmml">r</mi><mo rspace="0em" id="alg2.l12.m1.1.1.2.3" xref="alg2.l12.m1.1.1.2.3.cmml">+</mo></mrow><mo lspace="0em" id="alg2.l12.m1.1.1.1" xref="alg2.l12.m1.1.1.1.cmml">=</mo><mn id="alg2.l12.m1.1.1.3" xref="alg2.l12.m1.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg2.l12.m1.1b"><apply id="alg2.l12.m1.1.1.cmml" xref="alg2.l12.m1.1.1"><eq id="alg2.l12.m1.1.1.1.cmml" xref="alg2.l12.m1.1.1.1"></eq><apply id="alg2.l12.m1.1.1.2.cmml" xref="alg2.l12.m1.1.1.2"><csymbol cd="latexml" id="alg2.l12.m1.1.1.2.1.cmml" xref="alg2.l12.m1.1.1.2">limit-from</csymbol><ci id="alg2.l12.m1.1.1.2.2.cmml" xref="alg2.l12.m1.1.1.2.2">𝑟</ci><plus id="alg2.l12.m1.1.1.2.3.cmml" xref="alg2.l12.m1.1.1.2.3"></plus></apply><cn type="integer" id="alg2.l12.m1.1.1.3.cmml" xref="alg2.l12.m1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg2.l12.m1.1c">r+=1</annotation></semantics></math>

</div>
<div id="alg2.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>     <span id="alg2.l13.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l13.2" class="ltx_text ltx_font_bold">while</span>
</div>
<div id="alg2.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>     <span id="alg2.l14.1" class="ltx_text ltx_font_bold">return</span> <span id="alg2.l14.2" class="ltx_text ltx_markedasmath ltx_font_smallcaps">ClustersRanking</span>

</div>
<div id="alg2.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15:</span><span id="alg2.l15.1" class="ltx_text ltx_font_bold">end</span> <span id="alg2.l15.2" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
<figure id="alg3" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg3.2.1.1" class="ltx_text ltx_font_bold">Algorithm 3</span> </span> Identity Inference at Client Side</figcaption>
<div id="alg3.3" class="ltx_listing ltx_listing">
<div id="alg3.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span><span id="alg3.l1.1" class="ltx_text ltx_font_bold">Input:</span> training data <math id="alg3.l1.m1.1" class="ltx_Math" alttext="D_{u}^{tr}" display="inline"><semantics id="alg3.l1.m1.1a"><msubsup id="alg3.l1.m1.1.1" xref="alg3.l1.m1.1.1.cmml"><mi id="alg3.l1.m1.1.1.2.2" xref="alg3.l1.m1.1.1.2.2.cmml">D</mi><mi id="alg3.l1.m1.1.1.2.3" xref="alg3.l1.m1.1.1.2.3.cmml">u</mi><mrow id="alg3.l1.m1.1.1.3" xref="alg3.l1.m1.1.1.3.cmml"><mi id="alg3.l1.m1.1.1.3.2" xref="alg3.l1.m1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l1.m1.1.1.3.1" xref="alg3.l1.m1.1.1.3.1.cmml">​</mo><mi id="alg3.l1.m1.1.1.3.3" xref="alg3.l1.m1.1.1.3.3.cmml">r</mi></mrow></msubsup><annotation-xml encoding="MathML-Content" id="alg3.l1.m1.1b"><apply id="alg3.l1.m1.1.1.cmml" xref="alg3.l1.m1.1.1"><csymbol cd="ambiguous" id="alg3.l1.m1.1.1.1.cmml" xref="alg3.l1.m1.1.1">superscript</csymbol><apply id="alg3.l1.m1.1.1.2.cmml" xref="alg3.l1.m1.1.1"><csymbol cd="ambiguous" id="alg3.l1.m1.1.1.2.1.cmml" xref="alg3.l1.m1.1.1">subscript</csymbol><ci id="alg3.l1.m1.1.1.2.2.cmml" xref="alg3.l1.m1.1.1.2.2">𝐷</ci><ci id="alg3.l1.m1.1.1.2.3.cmml" xref="alg3.l1.m1.1.1.2.3">𝑢</ci></apply><apply id="alg3.l1.m1.1.1.3.cmml" xref="alg3.l1.m1.1.1.3"><times id="alg3.l1.m1.1.1.3.1.cmml" xref="alg3.l1.m1.1.1.3.1"></times><ci id="alg3.l1.m1.1.1.3.2.cmml" xref="alg3.l1.m1.1.1.3.2">𝑡</ci><ci id="alg3.l1.m1.1.1.3.3.cmml" xref="alg3.l1.m1.1.1.3.3">𝑟</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l1.m1.1c">D_{u}^{tr}</annotation></semantics></math>, random weights <math id="alg3.l1.m2.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="alg3.l1.m2.1a"><msup id="alg3.l1.m2.1.1" xref="alg3.l1.m2.1.1.cmml"><mi id="alg3.l1.m2.1.1.2" xref="alg3.l1.m2.1.1.2.cmml">θ</mi><mi id="alg3.l1.m2.1.1.3" xref="alg3.l1.m2.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="alg3.l1.m2.1b"><apply id="alg3.l1.m2.1.1.cmml" xref="alg3.l1.m2.1.1"><csymbol cd="ambiguous" id="alg3.l1.m2.1.1.1.cmml" xref="alg3.l1.m2.1.1">superscript</csymbol><ci id="alg3.l1.m2.1.1.2.cmml" xref="alg3.l1.m2.1.1.2">𝜃</ci><ci id="alg3.l1.m2.1.1.3.cmml" xref="alg3.l1.m2.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l1.m2.1c">\theta^{w}</annotation></semantics></math>, number of groups <math id="alg3.l1.m3.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="alg3.l1.m3.1a"><mi id="alg3.l1.m3.1.1" xref="alg3.l1.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="alg3.l1.m3.1b"><ci id="alg3.l1.m3.1.1.cmml" xref="alg3.l1.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l1.m3.1c">Q</annotation></semantics></math>, group binary masks <math id="alg3.l1.m4.3" class="ltx_Math" alttext="M_{g,q\in[Q]}^{t}" display="inline"><semantics id="alg3.l1.m4.3a"><msubsup id="alg3.l1.m4.3.4" xref="alg3.l1.m4.3.4.cmml"><mi id="alg3.l1.m4.3.4.2.2" xref="alg3.l1.m4.3.4.2.2.cmml">M</mi><mrow id="alg3.l1.m4.3.3.3" xref="alg3.l1.m4.3.3.3.cmml"><mrow id="alg3.l1.m4.3.3.3.5.2" xref="alg3.l1.m4.3.3.3.5.1.cmml"><mi id="alg3.l1.m4.2.2.2.2" xref="alg3.l1.m4.2.2.2.2.cmml">g</mi><mo id="alg3.l1.m4.3.3.3.5.2.1" xref="alg3.l1.m4.3.3.3.5.1.cmml">,</mo><mi id="alg3.l1.m4.3.3.3.3" xref="alg3.l1.m4.3.3.3.3.cmml">q</mi></mrow><mo id="alg3.l1.m4.3.3.3.4" xref="alg3.l1.m4.3.3.3.4.cmml">∈</mo><mrow id="alg3.l1.m4.3.3.3.6.2" xref="alg3.l1.m4.3.3.3.6.1.cmml"><mo stretchy="false" id="alg3.l1.m4.3.3.3.6.2.1" xref="alg3.l1.m4.3.3.3.6.1.1.cmml">[</mo><mi id="alg3.l1.m4.1.1.1.1" xref="alg3.l1.m4.1.1.1.1.cmml">Q</mi><mo stretchy="false" id="alg3.l1.m4.3.3.3.6.2.2" xref="alg3.l1.m4.3.3.3.6.1.1.cmml">]</mo></mrow></mrow><mi id="alg3.l1.m4.3.4.3" xref="alg3.l1.m4.3.4.3.cmml">t</mi></msubsup><annotation-xml encoding="MathML-Content" id="alg3.l1.m4.3b"><apply id="alg3.l1.m4.3.4.cmml" xref="alg3.l1.m4.3.4"><csymbol cd="ambiguous" id="alg3.l1.m4.3.4.1.cmml" xref="alg3.l1.m4.3.4">superscript</csymbol><apply id="alg3.l1.m4.3.4.2.cmml" xref="alg3.l1.m4.3.4"><csymbol cd="ambiguous" id="alg3.l1.m4.3.4.2.1.cmml" xref="alg3.l1.m4.3.4">subscript</csymbol><ci id="alg3.l1.m4.3.4.2.2.cmml" xref="alg3.l1.m4.3.4.2.2">𝑀</ci><apply id="alg3.l1.m4.3.3.3.cmml" xref="alg3.l1.m4.3.3.3"><in id="alg3.l1.m4.3.3.3.4.cmml" xref="alg3.l1.m4.3.3.3.4"></in><list id="alg3.l1.m4.3.3.3.5.1.cmml" xref="alg3.l1.m4.3.3.3.5.2"><ci id="alg3.l1.m4.2.2.2.2.cmml" xref="alg3.l1.m4.2.2.2.2">𝑔</ci><ci id="alg3.l1.m4.3.3.3.3.cmml" xref="alg3.l1.m4.3.3.3.3">𝑞</ci></list><apply id="alg3.l1.m4.3.3.3.6.1.cmml" xref="alg3.l1.m4.3.3.3.6.2"><csymbol cd="latexml" id="alg3.l1.m4.3.3.3.6.1.1.cmml" xref="alg3.l1.m4.3.3.3.6.2.1">delimited-[]</csymbol><ci id="alg3.l1.m4.1.1.1.1.cmml" xref="alg3.l1.m4.1.1.1.1">𝑄</ci></apply></apply></apply><ci id="alg3.l1.m4.3.4.3.cmml" xref="alg3.l1.m4.3.4.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l1.m4.3c">M_{g,q\in[Q]}^{t}</annotation></semantics></math>, loss function <math id="alg3.l1.m5.1" class="ltx_math_unparsed" alttext="loss(.)" display="inline"><semantics id="alg3.l1.m5.1a"><mrow id="alg3.l1.m5.1b"><mi id="alg3.l1.m5.1.1">l</mi><mi id="alg3.l1.m5.1.2">o</mi><mi id="alg3.l1.m5.1.3">s</mi><mi id="alg3.l1.m5.1.4">s</mi><mrow id="alg3.l1.m5.1.5"><mo stretchy="false" id="alg3.l1.m5.1.5.1">(</mo><mo lspace="0em" rspace="0.167em" id="alg3.l1.m5.1.5.2">.</mo><mo stretchy="false" id="alg3.l1.m5.1.5.3">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg3.l1.m5.1c">loss(.)</annotation></semantics></math>

</div>
<div id="alg3.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span><span id="alg3.l2.1" class="ltx_text ltx_font_bold">function</span> <span id="alg3.l2.2" class="ltx_text ltx_font_smallcaps" style="background-color:#F7BABB;">lowestLoss</span>(<math id="alg3.l2.m1.7" class="ltx_Math" alttext="\theta^{w},Q,M_{g,q\in[Q]}^{t},D_{u}^{tr}" display="inline"><semantics id="alg3.l2.m1.7a"><mrow id="alg3.l2.m1.7.7.3" xref="alg3.l2.m1.7.7.4.cmml"><msup id="alg3.l2.m1.5.5.1.1" xref="alg3.l2.m1.5.5.1.1.cmml"><mi id="alg3.l2.m1.5.5.1.1.2" xref="alg3.l2.m1.5.5.1.1.2.cmml">θ</mi><mi id="alg3.l2.m1.5.5.1.1.3" xref="alg3.l2.m1.5.5.1.1.3.cmml">w</mi></msup><mo id="alg3.l2.m1.7.7.3.4" xref="alg3.l2.m1.7.7.4.cmml">,</mo><mi id="alg3.l2.m1.4.4" xref="alg3.l2.m1.4.4.cmml">Q</mi><mo id="alg3.l2.m1.7.7.3.5" xref="alg3.l2.m1.7.7.4.cmml">,</mo><msubsup id="alg3.l2.m1.6.6.2.2" xref="alg3.l2.m1.6.6.2.2.cmml"><mi id="alg3.l2.m1.6.6.2.2.2.2" xref="alg3.l2.m1.6.6.2.2.2.2.cmml">M</mi><mrow id="alg3.l2.m1.3.3.3" xref="alg3.l2.m1.3.3.3.cmml"><mrow id="alg3.l2.m1.3.3.3.5.2" xref="alg3.l2.m1.3.3.3.5.1.cmml"><mi id="alg3.l2.m1.2.2.2.2" xref="alg3.l2.m1.2.2.2.2.cmml">g</mi><mo id="alg3.l2.m1.3.3.3.5.2.1" xref="alg3.l2.m1.3.3.3.5.1.cmml">,</mo><mi id="alg3.l2.m1.3.3.3.3" xref="alg3.l2.m1.3.3.3.3.cmml">q</mi></mrow><mo id="alg3.l2.m1.3.3.3.4" xref="alg3.l2.m1.3.3.3.4.cmml">∈</mo><mrow id="alg3.l2.m1.3.3.3.6.2" xref="alg3.l2.m1.3.3.3.6.1.cmml"><mo stretchy="false" id="alg3.l2.m1.3.3.3.6.2.1" xref="alg3.l2.m1.3.3.3.6.1.1.cmml">[</mo><mi id="alg3.l2.m1.1.1.1.1" xref="alg3.l2.m1.1.1.1.1.cmml">Q</mi><mo stretchy="false" id="alg3.l2.m1.3.3.3.6.2.2" xref="alg3.l2.m1.3.3.3.6.1.1.cmml">]</mo></mrow></mrow><mi id="alg3.l2.m1.6.6.2.2.3" xref="alg3.l2.m1.6.6.2.2.3.cmml">t</mi></msubsup><mo id="alg3.l2.m1.7.7.3.6" xref="alg3.l2.m1.7.7.4.cmml">,</mo><msubsup id="alg3.l2.m1.7.7.3.3" xref="alg3.l2.m1.7.7.3.3.cmml"><mi id="alg3.l2.m1.7.7.3.3.2.2" xref="alg3.l2.m1.7.7.3.3.2.2.cmml">D</mi><mi id="alg3.l2.m1.7.7.3.3.2.3" xref="alg3.l2.m1.7.7.3.3.2.3.cmml">u</mi><mrow id="alg3.l2.m1.7.7.3.3.3" xref="alg3.l2.m1.7.7.3.3.3.cmml"><mi id="alg3.l2.m1.7.7.3.3.3.2" xref="alg3.l2.m1.7.7.3.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l2.m1.7.7.3.3.3.1" xref="alg3.l2.m1.7.7.3.3.3.1.cmml">​</mo><mi id="alg3.l2.m1.7.7.3.3.3.3" xref="alg3.l2.m1.7.7.3.3.3.3.cmml">r</mi></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg3.l2.m1.7b"><list id="alg3.l2.m1.7.7.4.cmml" xref="alg3.l2.m1.7.7.3"><apply id="alg3.l2.m1.5.5.1.1.cmml" xref="alg3.l2.m1.5.5.1.1"><csymbol cd="ambiguous" id="alg3.l2.m1.5.5.1.1.1.cmml" xref="alg3.l2.m1.5.5.1.1">superscript</csymbol><ci id="alg3.l2.m1.5.5.1.1.2.cmml" xref="alg3.l2.m1.5.5.1.1.2">𝜃</ci><ci id="alg3.l2.m1.5.5.1.1.3.cmml" xref="alg3.l2.m1.5.5.1.1.3">𝑤</ci></apply><ci id="alg3.l2.m1.4.4.cmml" xref="alg3.l2.m1.4.4">𝑄</ci><apply id="alg3.l2.m1.6.6.2.2.cmml" xref="alg3.l2.m1.6.6.2.2"><csymbol cd="ambiguous" id="alg3.l2.m1.6.6.2.2.1.cmml" xref="alg3.l2.m1.6.6.2.2">superscript</csymbol><apply id="alg3.l2.m1.6.6.2.2.2.cmml" xref="alg3.l2.m1.6.6.2.2"><csymbol cd="ambiguous" id="alg3.l2.m1.6.6.2.2.2.1.cmml" xref="alg3.l2.m1.6.6.2.2">subscript</csymbol><ci id="alg3.l2.m1.6.6.2.2.2.2.cmml" xref="alg3.l2.m1.6.6.2.2.2.2">𝑀</ci><apply id="alg3.l2.m1.3.3.3.cmml" xref="alg3.l2.m1.3.3.3"><in id="alg3.l2.m1.3.3.3.4.cmml" xref="alg3.l2.m1.3.3.3.4"></in><list id="alg3.l2.m1.3.3.3.5.1.cmml" xref="alg3.l2.m1.3.3.3.5.2"><ci id="alg3.l2.m1.2.2.2.2.cmml" xref="alg3.l2.m1.2.2.2.2">𝑔</ci><ci id="alg3.l2.m1.3.3.3.3.cmml" xref="alg3.l2.m1.3.3.3.3">𝑞</ci></list><apply id="alg3.l2.m1.3.3.3.6.1.cmml" xref="alg3.l2.m1.3.3.3.6.2"><csymbol cd="latexml" id="alg3.l2.m1.3.3.3.6.1.1.cmml" xref="alg3.l2.m1.3.3.3.6.2.1">delimited-[]</csymbol><ci id="alg3.l2.m1.1.1.1.1.cmml" xref="alg3.l2.m1.1.1.1.1">𝑄</ci></apply></apply></apply><ci id="alg3.l2.m1.6.6.2.2.3.cmml" xref="alg3.l2.m1.6.6.2.2.3">𝑡</ci></apply><apply id="alg3.l2.m1.7.7.3.3.cmml" xref="alg3.l2.m1.7.7.3.3"><csymbol cd="ambiguous" id="alg3.l2.m1.7.7.3.3.1.cmml" xref="alg3.l2.m1.7.7.3.3">superscript</csymbol><apply id="alg3.l2.m1.7.7.3.3.2.cmml" xref="alg3.l2.m1.7.7.3.3"><csymbol cd="ambiguous" id="alg3.l2.m1.7.7.3.3.2.1.cmml" xref="alg3.l2.m1.7.7.3.3">subscript</csymbol><ci id="alg3.l2.m1.7.7.3.3.2.2.cmml" xref="alg3.l2.m1.7.7.3.3.2.2">𝐷</ci><ci id="alg3.l2.m1.7.7.3.3.2.3.cmml" xref="alg3.l2.m1.7.7.3.3.2.3">𝑢</ci></apply><apply id="alg3.l2.m1.7.7.3.3.3.cmml" xref="alg3.l2.m1.7.7.3.3.3"><times id="alg3.l2.m1.7.7.3.3.3.1.cmml" xref="alg3.l2.m1.7.7.3.3.3.1"></times><ci id="alg3.l2.m1.7.7.3.3.3.2.cmml" xref="alg3.l2.m1.7.7.3.3.3.2">𝑡</ci><ci id="alg3.l2.m1.7.7.3.3.3.3.cmml" xref="alg3.l2.m1.7.7.3.3.3.3">𝑟</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg3.l2.m1.7c">\theta^{w},Q,M_{g,q\in[Q]}^{t},D_{u}^{tr}</annotation></semantics></math>)

</div>
<div id="alg3.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>     <span id="alg3.l3.1" class="ltx_text ltx_font_bold">return</span> <math id="alg3.l3.m1.6" class="ltx_Math" alttext="\operatorname*{argmin}_{q\in[Q]}loss\left(D_{u}^{tr},\theta^{w}\bigodot M_{g,q\in[Q]}^{t}\right)" display="inline"><semantics id="alg3.l3.m1.6a"><mrow id="alg3.l3.m1.6.6" xref="alg3.l3.m1.6.6.cmml"><mrow id="alg3.l3.m1.6.6.4" xref="alg3.l3.m1.6.6.4.cmml"><msub id="alg3.l3.m1.6.6.4.1" xref="alg3.l3.m1.6.6.4.1.cmml"><mo id="alg3.l3.m1.6.6.4.1.2" xref="alg3.l3.m1.6.6.4.1.2.cmml">argmin</mo><mrow id="alg3.l3.m1.1.1.1" xref="alg3.l3.m1.1.1.1.cmml"><mi id="alg3.l3.m1.1.1.1.3" xref="alg3.l3.m1.1.1.1.3.cmml">q</mi><mo id="alg3.l3.m1.1.1.1.2" xref="alg3.l3.m1.1.1.1.2.cmml">∈</mo><mrow id="alg3.l3.m1.1.1.1.4.2" xref="alg3.l3.m1.1.1.1.4.1.cmml"><mo stretchy="false" id="alg3.l3.m1.1.1.1.4.2.1" xref="alg3.l3.m1.1.1.1.4.1.1.cmml">[</mo><mi id="alg3.l3.m1.1.1.1.1" xref="alg3.l3.m1.1.1.1.1.cmml">Q</mi><mo stretchy="false" id="alg3.l3.m1.1.1.1.4.2.2" xref="alg3.l3.m1.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><mrow id="alg3.l3.m1.6.6.4.2" xref="alg3.l3.m1.6.6.4.2.cmml"><mi id="alg3.l3.m1.6.6.4.2.2" xref="alg3.l3.m1.6.6.4.2.2.cmml">l</mi><mo lspace="0em" rspace="0em" id="alg3.l3.m1.6.6.4.2.1" xref="alg3.l3.m1.6.6.4.2.1.cmml">​</mo><mi id="alg3.l3.m1.6.6.4.2.3" xref="alg3.l3.m1.6.6.4.2.3.cmml">o</mi><mo lspace="0em" rspace="0em" id="alg3.l3.m1.6.6.4.2.1a" xref="alg3.l3.m1.6.6.4.2.1.cmml">​</mo><mi id="alg3.l3.m1.6.6.4.2.4" xref="alg3.l3.m1.6.6.4.2.4.cmml">s</mi><mo lspace="0em" rspace="0em" id="alg3.l3.m1.6.6.4.2.1b" xref="alg3.l3.m1.6.6.4.2.1.cmml">​</mo><mi id="alg3.l3.m1.6.6.4.2.5" xref="alg3.l3.m1.6.6.4.2.5.cmml">s</mi></mrow></mrow><mo lspace="0em" rspace="0em" id="alg3.l3.m1.6.6.3" xref="alg3.l3.m1.6.6.3.cmml">​</mo><mrow id="alg3.l3.m1.6.6.2.2" xref="alg3.l3.m1.6.6.2.3.cmml"><mo id="alg3.l3.m1.6.6.2.2.3" xref="alg3.l3.m1.6.6.2.3.cmml">(</mo><msubsup id="alg3.l3.m1.5.5.1.1.1" xref="alg3.l3.m1.5.5.1.1.1.cmml"><mi id="alg3.l3.m1.5.5.1.1.1.2.2" xref="alg3.l3.m1.5.5.1.1.1.2.2.cmml">D</mi><mi id="alg3.l3.m1.5.5.1.1.1.2.3" xref="alg3.l3.m1.5.5.1.1.1.2.3.cmml">u</mi><mrow id="alg3.l3.m1.5.5.1.1.1.3" xref="alg3.l3.m1.5.5.1.1.1.3.cmml"><mi id="alg3.l3.m1.5.5.1.1.1.3.2" xref="alg3.l3.m1.5.5.1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l3.m1.5.5.1.1.1.3.1" xref="alg3.l3.m1.5.5.1.1.1.3.1.cmml">​</mo><mi id="alg3.l3.m1.5.5.1.1.1.3.3" xref="alg3.l3.m1.5.5.1.1.1.3.3.cmml">r</mi></mrow></msubsup><mo id="alg3.l3.m1.6.6.2.2.4" xref="alg3.l3.m1.6.6.2.3.cmml">,</mo><mrow id="alg3.l3.m1.6.6.2.2.2" xref="alg3.l3.m1.6.6.2.2.2.cmml"><msup id="alg3.l3.m1.6.6.2.2.2.2" xref="alg3.l3.m1.6.6.2.2.2.2.cmml"><mi id="alg3.l3.m1.6.6.2.2.2.2.2" xref="alg3.l3.m1.6.6.2.2.2.2.2.cmml">θ</mi><mi id="alg3.l3.m1.6.6.2.2.2.2.3" xref="alg3.l3.m1.6.6.2.2.2.2.3.cmml">w</mi></msup><mo lspace="0em" rspace="0em" id="alg3.l3.m1.6.6.2.2.2.1" xref="alg3.l3.m1.6.6.2.2.2.1.cmml">​</mo><mrow id="alg3.l3.m1.6.6.2.2.2.3" xref="alg3.l3.m1.6.6.2.2.2.3.cmml"><mo id="alg3.l3.m1.6.6.2.2.2.3.1" xref="alg3.l3.m1.6.6.2.2.2.3.1.cmml">⨀</mo><msubsup id="alg3.l3.m1.6.6.2.2.2.3.2" xref="alg3.l3.m1.6.6.2.2.2.3.2.cmml"><mi id="alg3.l3.m1.6.6.2.2.2.3.2.2.2" xref="alg3.l3.m1.6.6.2.2.2.3.2.2.2.cmml">M</mi><mrow id="alg3.l3.m1.4.4.3" xref="alg3.l3.m1.4.4.3.cmml"><mrow id="alg3.l3.m1.4.4.3.5.2" xref="alg3.l3.m1.4.4.3.5.1.cmml"><mi id="alg3.l3.m1.3.3.2.2" xref="alg3.l3.m1.3.3.2.2.cmml">g</mi><mo id="alg3.l3.m1.4.4.3.5.2.1" xref="alg3.l3.m1.4.4.3.5.1.cmml">,</mo><mi id="alg3.l3.m1.4.4.3.3" xref="alg3.l3.m1.4.4.3.3.cmml">q</mi></mrow><mo id="alg3.l3.m1.4.4.3.4" xref="alg3.l3.m1.4.4.3.4.cmml">∈</mo><mrow id="alg3.l3.m1.4.4.3.6.2" xref="alg3.l3.m1.4.4.3.6.1.cmml"><mo stretchy="false" id="alg3.l3.m1.4.4.3.6.2.1" xref="alg3.l3.m1.4.4.3.6.1.1.cmml">[</mo><mi id="alg3.l3.m1.2.2.1.1" xref="alg3.l3.m1.2.2.1.1.cmml">Q</mi><mo stretchy="false" id="alg3.l3.m1.4.4.3.6.2.2" xref="alg3.l3.m1.4.4.3.6.1.1.cmml">]</mo></mrow></mrow><mi id="alg3.l3.m1.6.6.2.2.2.3.2.3" xref="alg3.l3.m1.6.6.2.2.2.3.2.3.cmml">t</mi></msubsup></mrow></mrow><mo id="alg3.l3.m1.6.6.2.2.5" xref="alg3.l3.m1.6.6.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l3.m1.6b"><apply id="alg3.l3.m1.6.6.cmml" xref="alg3.l3.m1.6.6"><times id="alg3.l3.m1.6.6.3.cmml" xref="alg3.l3.m1.6.6.3"></times><apply id="alg3.l3.m1.6.6.4.cmml" xref="alg3.l3.m1.6.6.4"><apply id="alg3.l3.m1.6.6.4.1.cmml" xref="alg3.l3.m1.6.6.4.1"><csymbol cd="ambiguous" id="alg3.l3.m1.6.6.4.1.1.cmml" xref="alg3.l3.m1.6.6.4.1">subscript</csymbol><ci id="alg3.l3.m1.6.6.4.1.2.cmml" xref="alg3.l3.m1.6.6.4.1.2">argmin</ci><apply id="alg3.l3.m1.1.1.1.cmml" xref="alg3.l3.m1.1.1.1"><in id="alg3.l3.m1.1.1.1.2.cmml" xref="alg3.l3.m1.1.1.1.2"></in><ci id="alg3.l3.m1.1.1.1.3.cmml" xref="alg3.l3.m1.1.1.1.3">𝑞</ci><apply id="alg3.l3.m1.1.1.1.4.1.cmml" xref="alg3.l3.m1.1.1.1.4.2"><csymbol cd="latexml" id="alg3.l3.m1.1.1.1.4.1.1.cmml" xref="alg3.l3.m1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="alg3.l3.m1.1.1.1.1.cmml" xref="alg3.l3.m1.1.1.1.1">𝑄</ci></apply></apply></apply><apply id="alg3.l3.m1.6.6.4.2.cmml" xref="alg3.l3.m1.6.6.4.2"><times id="alg3.l3.m1.6.6.4.2.1.cmml" xref="alg3.l3.m1.6.6.4.2.1"></times><ci id="alg3.l3.m1.6.6.4.2.2.cmml" xref="alg3.l3.m1.6.6.4.2.2">𝑙</ci><ci id="alg3.l3.m1.6.6.4.2.3.cmml" xref="alg3.l3.m1.6.6.4.2.3">𝑜</ci><ci id="alg3.l3.m1.6.6.4.2.4.cmml" xref="alg3.l3.m1.6.6.4.2.4">𝑠</ci><ci id="alg3.l3.m1.6.6.4.2.5.cmml" xref="alg3.l3.m1.6.6.4.2.5">𝑠</ci></apply></apply><interval closure="open" id="alg3.l3.m1.6.6.2.3.cmml" xref="alg3.l3.m1.6.6.2.2"><apply id="alg3.l3.m1.5.5.1.1.1.cmml" xref="alg3.l3.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="alg3.l3.m1.5.5.1.1.1.1.cmml" xref="alg3.l3.m1.5.5.1.1.1">superscript</csymbol><apply id="alg3.l3.m1.5.5.1.1.1.2.cmml" xref="alg3.l3.m1.5.5.1.1.1"><csymbol cd="ambiguous" id="alg3.l3.m1.5.5.1.1.1.2.1.cmml" xref="alg3.l3.m1.5.5.1.1.1">subscript</csymbol><ci id="alg3.l3.m1.5.5.1.1.1.2.2.cmml" xref="alg3.l3.m1.5.5.1.1.1.2.2">𝐷</ci><ci id="alg3.l3.m1.5.5.1.1.1.2.3.cmml" xref="alg3.l3.m1.5.5.1.1.1.2.3">𝑢</ci></apply><apply id="alg3.l3.m1.5.5.1.1.1.3.cmml" xref="alg3.l3.m1.5.5.1.1.1.3"><times id="alg3.l3.m1.5.5.1.1.1.3.1.cmml" xref="alg3.l3.m1.5.5.1.1.1.3.1"></times><ci id="alg3.l3.m1.5.5.1.1.1.3.2.cmml" xref="alg3.l3.m1.5.5.1.1.1.3.2">𝑡</ci><ci id="alg3.l3.m1.5.5.1.1.1.3.3.cmml" xref="alg3.l3.m1.5.5.1.1.1.3.3">𝑟</ci></apply></apply><apply id="alg3.l3.m1.6.6.2.2.2.cmml" xref="alg3.l3.m1.6.6.2.2.2"><times id="alg3.l3.m1.6.6.2.2.2.1.cmml" xref="alg3.l3.m1.6.6.2.2.2.1"></times><apply id="alg3.l3.m1.6.6.2.2.2.2.cmml" xref="alg3.l3.m1.6.6.2.2.2.2"><csymbol cd="ambiguous" id="alg3.l3.m1.6.6.2.2.2.2.1.cmml" xref="alg3.l3.m1.6.6.2.2.2.2">superscript</csymbol><ci id="alg3.l3.m1.6.6.2.2.2.2.2.cmml" xref="alg3.l3.m1.6.6.2.2.2.2.2">𝜃</ci><ci id="alg3.l3.m1.6.6.2.2.2.2.3.cmml" xref="alg3.l3.m1.6.6.2.2.2.2.3">𝑤</ci></apply><apply id="alg3.l3.m1.6.6.2.2.2.3.cmml" xref="alg3.l3.m1.6.6.2.2.2.3"><ci id="alg3.l3.m1.6.6.2.2.2.3.1.cmml" xref="alg3.l3.m1.6.6.2.2.2.3.1">⨀</ci><apply id="alg3.l3.m1.6.6.2.2.2.3.2.cmml" xref="alg3.l3.m1.6.6.2.2.2.3.2"><csymbol cd="ambiguous" id="alg3.l3.m1.6.6.2.2.2.3.2.1.cmml" xref="alg3.l3.m1.6.6.2.2.2.3.2">superscript</csymbol><apply id="alg3.l3.m1.6.6.2.2.2.3.2.2.cmml" xref="alg3.l3.m1.6.6.2.2.2.3.2"><csymbol cd="ambiguous" id="alg3.l3.m1.6.6.2.2.2.3.2.2.1.cmml" xref="alg3.l3.m1.6.6.2.2.2.3.2">subscript</csymbol><ci id="alg3.l3.m1.6.6.2.2.2.3.2.2.2.cmml" xref="alg3.l3.m1.6.6.2.2.2.3.2.2.2">𝑀</ci><apply id="alg3.l3.m1.4.4.3.cmml" xref="alg3.l3.m1.4.4.3"><in id="alg3.l3.m1.4.4.3.4.cmml" xref="alg3.l3.m1.4.4.3.4"></in><list id="alg3.l3.m1.4.4.3.5.1.cmml" xref="alg3.l3.m1.4.4.3.5.2"><ci id="alg3.l3.m1.3.3.2.2.cmml" xref="alg3.l3.m1.3.3.2.2">𝑔</ci><ci id="alg3.l3.m1.4.4.3.3.cmml" xref="alg3.l3.m1.4.4.3.3">𝑞</ci></list><apply id="alg3.l3.m1.4.4.3.6.1.cmml" xref="alg3.l3.m1.4.4.3.6.2"><csymbol cd="latexml" id="alg3.l3.m1.4.4.3.6.1.1.cmml" xref="alg3.l3.m1.4.4.3.6.2.1">delimited-[]</csymbol><ci id="alg3.l3.m1.2.2.1.1.cmml" xref="alg3.l3.m1.2.2.1.1">𝑄</ci></apply></apply></apply><ci id="alg3.l3.m1.6.6.2.2.2.3.2.3.cmml" xref="alg3.l3.m1.6.6.2.2.2.3.2.3">𝑡</ci></apply></apply></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l3.m1.6c">\operatorname*{argmin}_{q\in[Q]}loss\left(D_{u}^{tr},\theta^{w}\bigodot M_{g,q\in[Q]}^{t}\right)</annotation></semantics></math>

</div>
<div id="alg3.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span><span id="alg3.l4.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l4.2" class="ltx_text ltx_font_bold">function</span>
</div>
<div id="alg3.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span><span id="alg3.l5.1" class="ltx_text ltx_font_bold">function</span> <span id="alg3.l5.2" class="ltx_text ltx_font_smallcaps" style="background-color:#F7BABB;">OneShot</span>(<math id="alg3.l5.m1.7" class="ltx_Math" alttext="\theta^{w},Q,M_{g,q\in[Q]}^{t},D_{u}^{tr}" display="inline"><semantics id="alg3.l5.m1.7a"><mrow id="alg3.l5.m1.7.7.3" xref="alg3.l5.m1.7.7.4.cmml"><msup id="alg3.l5.m1.5.5.1.1" xref="alg3.l5.m1.5.5.1.1.cmml"><mi id="alg3.l5.m1.5.5.1.1.2" xref="alg3.l5.m1.5.5.1.1.2.cmml">θ</mi><mi id="alg3.l5.m1.5.5.1.1.3" xref="alg3.l5.m1.5.5.1.1.3.cmml">w</mi></msup><mo id="alg3.l5.m1.7.7.3.4" xref="alg3.l5.m1.7.7.4.cmml">,</mo><mi id="alg3.l5.m1.4.4" xref="alg3.l5.m1.4.4.cmml">Q</mi><mo id="alg3.l5.m1.7.7.3.5" xref="alg3.l5.m1.7.7.4.cmml">,</mo><msubsup id="alg3.l5.m1.6.6.2.2" xref="alg3.l5.m1.6.6.2.2.cmml"><mi id="alg3.l5.m1.6.6.2.2.2.2" xref="alg3.l5.m1.6.6.2.2.2.2.cmml">M</mi><mrow id="alg3.l5.m1.3.3.3" xref="alg3.l5.m1.3.3.3.cmml"><mrow id="alg3.l5.m1.3.3.3.5.2" xref="alg3.l5.m1.3.3.3.5.1.cmml"><mi id="alg3.l5.m1.2.2.2.2" xref="alg3.l5.m1.2.2.2.2.cmml">g</mi><mo id="alg3.l5.m1.3.3.3.5.2.1" xref="alg3.l5.m1.3.3.3.5.1.cmml">,</mo><mi id="alg3.l5.m1.3.3.3.3" xref="alg3.l5.m1.3.3.3.3.cmml">q</mi></mrow><mo id="alg3.l5.m1.3.3.3.4" xref="alg3.l5.m1.3.3.3.4.cmml">∈</mo><mrow id="alg3.l5.m1.3.3.3.6.2" xref="alg3.l5.m1.3.3.3.6.1.cmml"><mo stretchy="false" id="alg3.l5.m1.3.3.3.6.2.1" xref="alg3.l5.m1.3.3.3.6.1.1.cmml">[</mo><mi id="alg3.l5.m1.1.1.1.1" xref="alg3.l5.m1.1.1.1.1.cmml">Q</mi><mo stretchy="false" id="alg3.l5.m1.3.3.3.6.2.2" xref="alg3.l5.m1.3.3.3.6.1.1.cmml">]</mo></mrow></mrow><mi id="alg3.l5.m1.6.6.2.2.3" xref="alg3.l5.m1.6.6.2.2.3.cmml">t</mi></msubsup><mo id="alg3.l5.m1.7.7.3.6" xref="alg3.l5.m1.7.7.4.cmml">,</mo><msubsup id="alg3.l5.m1.7.7.3.3" xref="alg3.l5.m1.7.7.3.3.cmml"><mi id="alg3.l5.m1.7.7.3.3.2.2" xref="alg3.l5.m1.7.7.3.3.2.2.cmml">D</mi><mi id="alg3.l5.m1.7.7.3.3.2.3" xref="alg3.l5.m1.7.7.3.3.2.3.cmml">u</mi><mrow id="alg3.l5.m1.7.7.3.3.3" xref="alg3.l5.m1.7.7.3.3.3.cmml"><mi id="alg3.l5.m1.7.7.3.3.3.2" xref="alg3.l5.m1.7.7.3.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l5.m1.7.7.3.3.3.1" xref="alg3.l5.m1.7.7.3.3.3.1.cmml">​</mo><mi id="alg3.l5.m1.7.7.3.3.3.3" xref="alg3.l5.m1.7.7.3.3.3.3.cmml">r</mi></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg3.l5.m1.7b"><list id="alg3.l5.m1.7.7.4.cmml" xref="alg3.l5.m1.7.7.3"><apply id="alg3.l5.m1.5.5.1.1.cmml" xref="alg3.l5.m1.5.5.1.1"><csymbol cd="ambiguous" id="alg3.l5.m1.5.5.1.1.1.cmml" xref="alg3.l5.m1.5.5.1.1">superscript</csymbol><ci id="alg3.l5.m1.5.5.1.1.2.cmml" xref="alg3.l5.m1.5.5.1.1.2">𝜃</ci><ci id="alg3.l5.m1.5.5.1.1.3.cmml" xref="alg3.l5.m1.5.5.1.1.3">𝑤</ci></apply><ci id="alg3.l5.m1.4.4.cmml" xref="alg3.l5.m1.4.4">𝑄</ci><apply id="alg3.l5.m1.6.6.2.2.cmml" xref="alg3.l5.m1.6.6.2.2"><csymbol cd="ambiguous" id="alg3.l5.m1.6.6.2.2.1.cmml" xref="alg3.l5.m1.6.6.2.2">superscript</csymbol><apply id="alg3.l5.m1.6.6.2.2.2.cmml" xref="alg3.l5.m1.6.6.2.2"><csymbol cd="ambiguous" id="alg3.l5.m1.6.6.2.2.2.1.cmml" xref="alg3.l5.m1.6.6.2.2">subscript</csymbol><ci id="alg3.l5.m1.6.6.2.2.2.2.cmml" xref="alg3.l5.m1.6.6.2.2.2.2">𝑀</ci><apply id="alg3.l5.m1.3.3.3.cmml" xref="alg3.l5.m1.3.3.3"><in id="alg3.l5.m1.3.3.3.4.cmml" xref="alg3.l5.m1.3.3.3.4"></in><list id="alg3.l5.m1.3.3.3.5.1.cmml" xref="alg3.l5.m1.3.3.3.5.2"><ci id="alg3.l5.m1.2.2.2.2.cmml" xref="alg3.l5.m1.2.2.2.2">𝑔</ci><ci id="alg3.l5.m1.3.3.3.3.cmml" xref="alg3.l5.m1.3.3.3.3">𝑞</ci></list><apply id="alg3.l5.m1.3.3.3.6.1.cmml" xref="alg3.l5.m1.3.3.3.6.2"><csymbol cd="latexml" id="alg3.l5.m1.3.3.3.6.1.1.cmml" xref="alg3.l5.m1.3.3.3.6.2.1">delimited-[]</csymbol><ci id="alg3.l5.m1.1.1.1.1.cmml" xref="alg3.l5.m1.1.1.1.1">𝑄</ci></apply></apply></apply><ci id="alg3.l5.m1.6.6.2.2.3.cmml" xref="alg3.l5.m1.6.6.2.2.3">𝑡</ci></apply><apply id="alg3.l5.m1.7.7.3.3.cmml" xref="alg3.l5.m1.7.7.3.3"><csymbol cd="ambiguous" id="alg3.l5.m1.7.7.3.3.1.cmml" xref="alg3.l5.m1.7.7.3.3">superscript</csymbol><apply id="alg3.l5.m1.7.7.3.3.2.cmml" xref="alg3.l5.m1.7.7.3.3"><csymbol cd="ambiguous" id="alg3.l5.m1.7.7.3.3.2.1.cmml" xref="alg3.l5.m1.7.7.3.3">subscript</csymbol><ci id="alg3.l5.m1.7.7.3.3.2.2.cmml" xref="alg3.l5.m1.7.7.3.3.2.2">𝐷</ci><ci id="alg3.l5.m1.7.7.3.3.2.3.cmml" xref="alg3.l5.m1.7.7.3.3.2.3">𝑢</ci></apply><apply id="alg3.l5.m1.7.7.3.3.3.cmml" xref="alg3.l5.m1.7.7.3.3.3"><times id="alg3.l5.m1.7.7.3.3.3.1.cmml" xref="alg3.l5.m1.7.7.3.3.3.1"></times><ci id="alg3.l5.m1.7.7.3.3.3.2.cmml" xref="alg3.l5.m1.7.7.3.3.3.2">𝑡</ci><ci id="alg3.l5.m1.7.7.3.3.3.3.cmml" xref="alg3.l5.m1.7.7.3.3.3.3">𝑟</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg3.l5.m1.7c">\theta^{w},Q,M_{g,q\in[Q]}^{t},D_{u}^{tr}</annotation></semantics></math>)

</div>
<div id="alg3.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>     <math id="alg3.l6.m1.4" class="ltx_Math" alttext="\alpha\leftarrow[\frac{1}{Q},\frac{1}{Q},...,\frac{1}{Q}]" display="inline"><semantics id="alg3.l6.m1.4a"><mrow id="alg3.l6.m1.4.5" xref="alg3.l6.m1.4.5.cmml"><mi id="alg3.l6.m1.4.5.2" xref="alg3.l6.m1.4.5.2.cmml">α</mi><mo stretchy="false" id="alg3.l6.m1.4.5.1" xref="alg3.l6.m1.4.5.1.cmml">←</mo><mrow id="alg3.l6.m1.4.5.3.2" xref="alg3.l6.m1.4.5.3.1.cmml"><mo stretchy="false" id="alg3.l6.m1.4.5.3.2.1" xref="alg3.l6.m1.4.5.3.1.cmml">[</mo><mfrac id="alg3.l6.m1.1.1" xref="alg3.l6.m1.1.1.cmml"><mn id="alg3.l6.m1.1.1.2" xref="alg3.l6.m1.1.1.2.cmml">1</mn><mi id="alg3.l6.m1.1.1.3" xref="alg3.l6.m1.1.1.3.cmml">Q</mi></mfrac><mo id="alg3.l6.m1.4.5.3.2.2" xref="alg3.l6.m1.4.5.3.1.cmml">,</mo><mfrac id="alg3.l6.m1.2.2" xref="alg3.l6.m1.2.2.cmml"><mn id="alg3.l6.m1.2.2.2" xref="alg3.l6.m1.2.2.2.cmml">1</mn><mi id="alg3.l6.m1.2.2.3" xref="alg3.l6.m1.2.2.3.cmml">Q</mi></mfrac><mo id="alg3.l6.m1.4.5.3.2.3" xref="alg3.l6.m1.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="alg3.l6.m1.3.3" xref="alg3.l6.m1.3.3.cmml">…</mi><mo id="alg3.l6.m1.4.5.3.2.4" xref="alg3.l6.m1.4.5.3.1.cmml">,</mo><mfrac id="alg3.l6.m1.4.4" xref="alg3.l6.m1.4.4.cmml"><mn id="alg3.l6.m1.4.4.2" xref="alg3.l6.m1.4.4.2.cmml">1</mn><mi id="alg3.l6.m1.4.4.3" xref="alg3.l6.m1.4.4.3.cmml">Q</mi></mfrac><mo stretchy="false" id="alg3.l6.m1.4.5.3.2.5" xref="alg3.l6.m1.4.5.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l6.m1.4b"><apply id="alg3.l6.m1.4.5.cmml" xref="alg3.l6.m1.4.5"><ci id="alg3.l6.m1.4.5.1.cmml" xref="alg3.l6.m1.4.5.1">←</ci><ci id="alg3.l6.m1.4.5.2.cmml" xref="alg3.l6.m1.4.5.2">𝛼</ci><list id="alg3.l6.m1.4.5.3.1.cmml" xref="alg3.l6.m1.4.5.3.2"><apply id="alg3.l6.m1.1.1.cmml" xref="alg3.l6.m1.1.1"><divide id="alg3.l6.m1.1.1.1.cmml" xref="alg3.l6.m1.1.1"></divide><cn type="integer" id="alg3.l6.m1.1.1.2.cmml" xref="alg3.l6.m1.1.1.2">1</cn><ci id="alg3.l6.m1.1.1.3.cmml" xref="alg3.l6.m1.1.1.3">𝑄</ci></apply><apply id="alg3.l6.m1.2.2.cmml" xref="alg3.l6.m1.2.2"><divide id="alg3.l6.m1.2.2.1.cmml" xref="alg3.l6.m1.2.2"></divide><cn type="integer" id="alg3.l6.m1.2.2.2.cmml" xref="alg3.l6.m1.2.2.2">1</cn><ci id="alg3.l6.m1.2.2.3.cmml" xref="alg3.l6.m1.2.2.3">𝑄</ci></apply><ci id="alg3.l6.m1.3.3.cmml" xref="alg3.l6.m1.3.3">…</ci><apply id="alg3.l6.m1.4.4.cmml" xref="alg3.l6.m1.4.4"><divide id="alg3.l6.m1.4.4.1.cmml" xref="alg3.l6.m1.4.4"></divide><cn type="integer" id="alg3.l6.m1.4.4.2.cmml" xref="alg3.l6.m1.4.4.2">1</cn><ci id="alg3.l6.m1.4.4.3.cmml" xref="alg3.l6.m1.4.4.3">𝑄</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l6.m1.4c">\alpha\leftarrow[\frac{1}{Q},\frac{1}{Q},...,\frac{1}{Q}]</annotation></semantics></math>

</div>
<div id="alg3.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>     <math id="alg3.l7.m1.5" class="ltx_Math" alttext="p(\alpha)\leftarrow f\left(D_{u}^{tr},\theta^{w}\bigodot(\sum_{q=1}^{Q}\alpha_{q}M_{g,q}^{t})\right)" display="inline"><semantics id="alg3.l7.m1.5a"><mrow id="alg3.l7.m1.5.5" xref="alg3.l7.m1.5.5.cmml"><mrow id="alg3.l7.m1.5.5.4" xref="alg3.l7.m1.5.5.4.cmml"><mi id="alg3.l7.m1.5.5.4.2" xref="alg3.l7.m1.5.5.4.2.cmml">p</mi><mo lspace="0em" rspace="0em" id="alg3.l7.m1.5.5.4.1" xref="alg3.l7.m1.5.5.4.1.cmml">​</mo><mrow id="alg3.l7.m1.5.5.4.3.2" xref="alg3.l7.m1.5.5.4.cmml"><mo stretchy="false" id="alg3.l7.m1.5.5.4.3.2.1" xref="alg3.l7.m1.5.5.4.cmml">(</mo><mi id="alg3.l7.m1.3.3" xref="alg3.l7.m1.3.3.cmml">α</mi><mo stretchy="false" id="alg3.l7.m1.5.5.4.3.2.2" xref="alg3.l7.m1.5.5.4.cmml">)</mo></mrow></mrow><mo stretchy="false" id="alg3.l7.m1.5.5.3" xref="alg3.l7.m1.5.5.3.cmml">←</mo><mrow id="alg3.l7.m1.5.5.2" xref="alg3.l7.m1.5.5.2.cmml"><mi id="alg3.l7.m1.5.5.2.4" xref="alg3.l7.m1.5.5.2.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg3.l7.m1.5.5.2.3" xref="alg3.l7.m1.5.5.2.3.cmml">​</mo><mrow id="alg3.l7.m1.5.5.2.2.2" xref="alg3.l7.m1.5.5.2.2.3.cmml"><mo id="alg3.l7.m1.5.5.2.2.2.3" xref="alg3.l7.m1.5.5.2.2.3.cmml">(</mo><msubsup id="alg3.l7.m1.4.4.1.1.1.1" xref="alg3.l7.m1.4.4.1.1.1.1.cmml"><mi id="alg3.l7.m1.4.4.1.1.1.1.2.2" xref="alg3.l7.m1.4.4.1.1.1.1.2.2.cmml">D</mi><mi id="alg3.l7.m1.4.4.1.1.1.1.2.3" xref="alg3.l7.m1.4.4.1.1.1.1.2.3.cmml">u</mi><mrow id="alg3.l7.m1.4.4.1.1.1.1.3" xref="alg3.l7.m1.4.4.1.1.1.1.3.cmml"><mi id="alg3.l7.m1.4.4.1.1.1.1.3.2" xref="alg3.l7.m1.4.4.1.1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l7.m1.4.4.1.1.1.1.3.1" xref="alg3.l7.m1.4.4.1.1.1.1.3.1.cmml">​</mo><mi id="alg3.l7.m1.4.4.1.1.1.1.3.3" xref="alg3.l7.m1.4.4.1.1.1.1.3.3.cmml">r</mi></mrow></msubsup><mo id="alg3.l7.m1.5.5.2.2.2.4" xref="alg3.l7.m1.5.5.2.2.3.cmml">,</mo><mrow id="alg3.l7.m1.5.5.2.2.2.2" xref="alg3.l7.m1.5.5.2.2.2.2.cmml"><msup id="alg3.l7.m1.5.5.2.2.2.2.3" xref="alg3.l7.m1.5.5.2.2.2.2.3.cmml"><mi id="alg3.l7.m1.5.5.2.2.2.2.3.2" xref="alg3.l7.m1.5.5.2.2.2.2.3.2.cmml">θ</mi><mi id="alg3.l7.m1.5.5.2.2.2.2.3.3" xref="alg3.l7.m1.5.5.2.2.2.2.3.3.cmml">w</mi></msup><mo lspace="0em" rspace="0em" id="alg3.l7.m1.5.5.2.2.2.2.2" xref="alg3.l7.m1.5.5.2.2.2.2.2.cmml">​</mo><mrow id="alg3.l7.m1.5.5.2.2.2.2.1" xref="alg3.l7.m1.5.5.2.2.2.2.1.cmml"><mo rspace="0em" id="alg3.l7.m1.5.5.2.2.2.2.1.2" xref="alg3.l7.m1.5.5.2.2.2.2.1.2.cmml">⨀</mo><mrow id="alg3.l7.m1.5.5.2.2.2.2.1.1.1" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.2" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.cmml">(</mo><mrow id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.cmml"><msubsup id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.cmml"><mo lspace="0em" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.2" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.cmml"><mi id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.2" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.2.cmml">q</mi><mo id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.1" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.1.cmml">=</mo><mn id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.3" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.3" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.3.cmml">Q</mi></msubsup><mrow id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.cmml"><msub id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.cmml"><mi id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.2" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.2.cmml">α</mi><mi id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.3" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.1" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.1.cmml">​</mo><msubsup id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.cmml"><mi id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.2.2" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.2.2.cmml">M</mi><mrow id="alg3.l7.m1.2.2.2.4" xref="alg3.l7.m1.2.2.2.3.cmml"><mi id="alg3.l7.m1.1.1.1.1" xref="alg3.l7.m1.1.1.1.1.cmml">g</mi><mo id="alg3.l7.m1.2.2.2.4.1" xref="alg3.l7.m1.2.2.2.3.cmml">,</mo><mi id="alg3.l7.m1.2.2.2.2" xref="alg3.l7.m1.2.2.2.2.cmml">q</mi></mrow><mi id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.3" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.3.cmml">t</mi></msubsup></mrow></mrow><mo stretchy="false" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.3" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="alg3.l7.m1.5.5.2.2.2.5" xref="alg3.l7.m1.5.5.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l7.m1.5b"><apply id="alg3.l7.m1.5.5.cmml" xref="alg3.l7.m1.5.5"><ci id="alg3.l7.m1.5.5.3.cmml" xref="alg3.l7.m1.5.5.3">←</ci><apply id="alg3.l7.m1.5.5.4.cmml" xref="alg3.l7.m1.5.5.4"><times id="alg3.l7.m1.5.5.4.1.cmml" xref="alg3.l7.m1.5.5.4.1"></times><ci id="alg3.l7.m1.5.5.4.2.cmml" xref="alg3.l7.m1.5.5.4.2">𝑝</ci><ci id="alg3.l7.m1.3.3.cmml" xref="alg3.l7.m1.3.3">𝛼</ci></apply><apply id="alg3.l7.m1.5.5.2.cmml" xref="alg3.l7.m1.5.5.2"><times id="alg3.l7.m1.5.5.2.3.cmml" xref="alg3.l7.m1.5.5.2.3"></times><ci id="alg3.l7.m1.5.5.2.4.cmml" xref="alg3.l7.m1.5.5.2.4">𝑓</ci><interval closure="open" id="alg3.l7.m1.5.5.2.2.3.cmml" xref="alg3.l7.m1.5.5.2.2.2"><apply id="alg3.l7.m1.4.4.1.1.1.1.cmml" xref="alg3.l7.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="alg3.l7.m1.4.4.1.1.1.1.1.cmml" xref="alg3.l7.m1.4.4.1.1.1.1">superscript</csymbol><apply id="alg3.l7.m1.4.4.1.1.1.1.2.cmml" xref="alg3.l7.m1.4.4.1.1.1.1"><csymbol cd="ambiguous" id="alg3.l7.m1.4.4.1.1.1.1.2.1.cmml" xref="alg3.l7.m1.4.4.1.1.1.1">subscript</csymbol><ci id="alg3.l7.m1.4.4.1.1.1.1.2.2.cmml" xref="alg3.l7.m1.4.4.1.1.1.1.2.2">𝐷</ci><ci id="alg3.l7.m1.4.4.1.1.1.1.2.3.cmml" xref="alg3.l7.m1.4.4.1.1.1.1.2.3">𝑢</ci></apply><apply id="alg3.l7.m1.4.4.1.1.1.1.3.cmml" xref="alg3.l7.m1.4.4.1.1.1.1.3"><times id="alg3.l7.m1.4.4.1.1.1.1.3.1.cmml" xref="alg3.l7.m1.4.4.1.1.1.1.3.1"></times><ci id="alg3.l7.m1.4.4.1.1.1.1.3.2.cmml" xref="alg3.l7.m1.4.4.1.1.1.1.3.2">𝑡</ci><ci id="alg3.l7.m1.4.4.1.1.1.1.3.3.cmml" xref="alg3.l7.m1.4.4.1.1.1.1.3.3">𝑟</ci></apply></apply><apply id="alg3.l7.m1.5.5.2.2.2.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2"><times id="alg3.l7.m1.5.5.2.2.2.2.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.2"></times><apply id="alg3.l7.m1.5.5.2.2.2.2.3.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.3"><csymbol cd="ambiguous" id="alg3.l7.m1.5.5.2.2.2.2.3.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.3">superscript</csymbol><ci id="alg3.l7.m1.5.5.2.2.2.2.3.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.3.2">𝜃</ci><ci id="alg3.l7.m1.5.5.2.2.2.2.3.3.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.3.3">𝑤</ci></apply><apply id="alg3.l7.m1.5.5.2.2.2.2.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1"><ci id="alg3.l7.m1.5.5.2.2.2.2.1.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.2">⨀</ci><apply id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1"><apply id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1">superscript</csymbol><apply id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1">subscript</csymbol><sum id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.2"></sum><apply id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3"><eq id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.1"></eq><ci id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.2">𝑞</ci><cn type="integer" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.3.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.3.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.1.3">𝑄</ci></apply><apply id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2"><times id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.1"></times><apply id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2"><csymbol cd="ambiguous" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2">subscript</csymbol><ci id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.2">𝛼</ci><ci id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.3.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.2.3">𝑞</ci></apply><apply id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3"><csymbol cd="ambiguous" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3">superscript</csymbol><apply id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3"><csymbol cd="ambiguous" id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.2.1.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3">subscript</csymbol><ci id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.2.2.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.2.2">𝑀</ci><list id="alg3.l7.m1.2.2.2.3.cmml" xref="alg3.l7.m1.2.2.2.4"><ci id="alg3.l7.m1.1.1.1.1.cmml" xref="alg3.l7.m1.1.1.1.1">𝑔</ci><ci id="alg3.l7.m1.2.2.2.2.cmml" xref="alg3.l7.m1.2.2.2.2">𝑞</ci></list></apply><ci id="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.3.cmml" xref="alg3.l7.m1.5.5.2.2.2.2.1.1.1.1.2.3.3">𝑡</ci></apply></apply></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l7.m1.5c">p(\alpha)\leftarrow f\left(D_{u}^{tr},\theta^{w}\bigodot(\sum_{q=1}^{Q}\alpha_{q}M_{g,q}^{t})\right)</annotation></semantics></math>

</div>
<div id="alg3.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>     <span id="alg3.l8.1" class="ltx_text ltx_font_bold">return</span> <math id="alg3.l8.m1.4" class="ltx_math_unparsed" alttext="\operatorname*{argmax}_{q\in[Q]}\left(-\frac{\partial H(p(\alpha)))}{\partial\alpha_{q}}\right)" display="inline"><semantics id="alg3.l8.m1.4a"><mrow id="alg3.l8.m1.4.4.2"><msub id="alg3.l8.m1.3.3.1.1"><mo id="alg3.l8.m1.3.3.1.1.2">argmax</mo><mrow id="alg3.l8.m1.1.1.1"><mi id="alg3.l8.m1.1.1.1.3">q</mi><mo id="alg3.l8.m1.1.1.1.2">∈</mo><mrow id="alg3.l8.m1.1.1.1.4.2"><mo stretchy="false" id="alg3.l8.m1.1.1.1.4.2.1">[</mo><mi id="alg3.l8.m1.1.1.1.1">Q</mi><mo stretchy="false" id="alg3.l8.m1.1.1.1.4.2.2">]</mo></mrow></mrow></msub><mrow id="alg3.l8.m1.4.4.2.2"><mo lspace="0em" id="alg3.l8.m1.4.4.2.2.2">(</mo><mrow id="alg3.l8.m1.4.4.2.2.1"><mo id="alg3.l8.m1.4.4.2.2.1a">−</mo><mfrac id="alg3.l8.m1.2.2"><mrow id="alg3.l8.m1.2.2.1"><mo rspace="0em" id="alg3.l8.m1.2.2.1.2">∂</mo><mi id="alg3.l8.m1.2.2.1.3">H</mi><mrow id="alg3.l8.m1.2.2.1.4"><mo stretchy="false" id="alg3.l8.m1.2.2.1.4.1">(</mo><mi id="alg3.l8.m1.2.2.1.4.2">p</mi><mrow id="alg3.l8.m1.2.2.1.4.3"><mo stretchy="false" id="alg3.l8.m1.2.2.1.4.3.1">(</mo><mi id="alg3.l8.m1.2.2.1.1">α</mi><mo stretchy="false" id="alg3.l8.m1.2.2.1.4.3.2">)</mo></mrow><mo stretchy="false" id="alg3.l8.m1.2.2.1.4.4">)</mo></mrow><mo stretchy="false" id="alg3.l8.m1.2.2.1.5">)</mo></mrow><mrow id="alg3.l8.m1.2.2.3"><mo rspace="0em" id="alg3.l8.m1.2.2.3.1">∂</mo><msub id="alg3.l8.m1.2.2.3.2"><mi id="alg3.l8.m1.2.2.3.2.2">α</mi><mi id="alg3.l8.m1.2.2.3.2.3">q</mi></msub></mrow></mfrac></mrow><mo id="alg3.l8.m1.4.4.2.2.3">)</mo></mrow></mrow><annotation encoding="application/x-tex" id="alg3.l8.m1.4b">\operatorname*{argmax}_{q\in[Q]}\left(-\frac{\partial H(p(\alpha)))}{\partial\alpha_{q}}\right)</annotation></semantics></math>

</div>
<div id="alg3.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span><span id="alg3.l9.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l9.2" class="ltx_text ltx_font_bold">function</span>
</div>
<div id="alg3.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span><span id="alg3.l10.1" class="ltx_text ltx_font_bold">function</span> <span id="alg3.l10.2" class="ltx_text ltx_font_smallcaps" style="background-color:#F7BABB;">Binary</span>(<math id="alg3.l10.m1.7" class="ltx_Math" alttext="\theta^{w},Q,M_{g,q\in[Q]}^{t},D_{u}^{tr}" display="inline"><semantics id="alg3.l10.m1.7a"><mrow id="alg3.l10.m1.7.7.3" xref="alg3.l10.m1.7.7.4.cmml"><msup id="alg3.l10.m1.5.5.1.1" xref="alg3.l10.m1.5.5.1.1.cmml"><mi id="alg3.l10.m1.5.5.1.1.2" xref="alg3.l10.m1.5.5.1.1.2.cmml">θ</mi><mi id="alg3.l10.m1.5.5.1.1.3" xref="alg3.l10.m1.5.5.1.1.3.cmml">w</mi></msup><mo id="alg3.l10.m1.7.7.3.4" xref="alg3.l10.m1.7.7.4.cmml">,</mo><mi id="alg3.l10.m1.4.4" xref="alg3.l10.m1.4.4.cmml">Q</mi><mo id="alg3.l10.m1.7.7.3.5" xref="alg3.l10.m1.7.7.4.cmml">,</mo><msubsup id="alg3.l10.m1.6.6.2.2" xref="alg3.l10.m1.6.6.2.2.cmml"><mi id="alg3.l10.m1.6.6.2.2.2.2" xref="alg3.l10.m1.6.6.2.2.2.2.cmml">M</mi><mrow id="alg3.l10.m1.3.3.3" xref="alg3.l10.m1.3.3.3.cmml"><mrow id="alg3.l10.m1.3.3.3.5.2" xref="alg3.l10.m1.3.3.3.5.1.cmml"><mi id="alg3.l10.m1.2.2.2.2" xref="alg3.l10.m1.2.2.2.2.cmml">g</mi><mo id="alg3.l10.m1.3.3.3.5.2.1" xref="alg3.l10.m1.3.3.3.5.1.cmml">,</mo><mi id="alg3.l10.m1.3.3.3.3" xref="alg3.l10.m1.3.3.3.3.cmml">q</mi></mrow><mo id="alg3.l10.m1.3.3.3.4" xref="alg3.l10.m1.3.3.3.4.cmml">∈</mo><mrow id="alg3.l10.m1.3.3.3.6.2" xref="alg3.l10.m1.3.3.3.6.1.cmml"><mo stretchy="false" id="alg3.l10.m1.3.3.3.6.2.1" xref="alg3.l10.m1.3.3.3.6.1.1.cmml">[</mo><mi id="alg3.l10.m1.1.1.1.1" xref="alg3.l10.m1.1.1.1.1.cmml">Q</mi><mo stretchy="false" id="alg3.l10.m1.3.3.3.6.2.2" xref="alg3.l10.m1.3.3.3.6.1.1.cmml">]</mo></mrow></mrow><mi id="alg3.l10.m1.6.6.2.2.3" xref="alg3.l10.m1.6.6.2.2.3.cmml">t</mi></msubsup><mo id="alg3.l10.m1.7.7.3.6" xref="alg3.l10.m1.7.7.4.cmml">,</mo><msubsup id="alg3.l10.m1.7.7.3.3" xref="alg3.l10.m1.7.7.3.3.cmml"><mi id="alg3.l10.m1.7.7.3.3.2.2" xref="alg3.l10.m1.7.7.3.3.2.2.cmml">D</mi><mi id="alg3.l10.m1.7.7.3.3.2.3" xref="alg3.l10.m1.7.7.3.3.2.3.cmml">u</mi><mrow id="alg3.l10.m1.7.7.3.3.3" xref="alg3.l10.m1.7.7.3.3.3.cmml"><mi id="alg3.l10.m1.7.7.3.3.3.2" xref="alg3.l10.m1.7.7.3.3.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l10.m1.7.7.3.3.3.1" xref="alg3.l10.m1.7.7.3.3.3.1.cmml">​</mo><mi id="alg3.l10.m1.7.7.3.3.3.3" xref="alg3.l10.m1.7.7.3.3.3.3.cmml">r</mi></mrow></msubsup></mrow><annotation-xml encoding="MathML-Content" id="alg3.l10.m1.7b"><list id="alg3.l10.m1.7.7.4.cmml" xref="alg3.l10.m1.7.7.3"><apply id="alg3.l10.m1.5.5.1.1.cmml" xref="alg3.l10.m1.5.5.1.1"><csymbol cd="ambiguous" id="alg3.l10.m1.5.5.1.1.1.cmml" xref="alg3.l10.m1.5.5.1.1">superscript</csymbol><ci id="alg3.l10.m1.5.5.1.1.2.cmml" xref="alg3.l10.m1.5.5.1.1.2">𝜃</ci><ci id="alg3.l10.m1.5.5.1.1.3.cmml" xref="alg3.l10.m1.5.5.1.1.3">𝑤</ci></apply><ci id="alg3.l10.m1.4.4.cmml" xref="alg3.l10.m1.4.4">𝑄</ci><apply id="alg3.l10.m1.6.6.2.2.cmml" xref="alg3.l10.m1.6.6.2.2"><csymbol cd="ambiguous" id="alg3.l10.m1.6.6.2.2.1.cmml" xref="alg3.l10.m1.6.6.2.2">superscript</csymbol><apply id="alg3.l10.m1.6.6.2.2.2.cmml" xref="alg3.l10.m1.6.6.2.2"><csymbol cd="ambiguous" id="alg3.l10.m1.6.6.2.2.2.1.cmml" xref="alg3.l10.m1.6.6.2.2">subscript</csymbol><ci id="alg3.l10.m1.6.6.2.2.2.2.cmml" xref="alg3.l10.m1.6.6.2.2.2.2">𝑀</ci><apply id="alg3.l10.m1.3.3.3.cmml" xref="alg3.l10.m1.3.3.3"><in id="alg3.l10.m1.3.3.3.4.cmml" xref="alg3.l10.m1.3.3.3.4"></in><list id="alg3.l10.m1.3.3.3.5.1.cmml" xref="alg3.l10.m1.3.3.3.5.2"><ci id="alg3.l10.m1.2.2.2.2.cmml" xref="alg3.l10.m1.2.2.2.2">𝑔</ci><ci id="alg3.l10.m1.3.3.3.3.cmml" xref="alg3.l10.m1.3.3.3.3">𝑞</ci></list><apply id="alg3.l10.m1.3.3.3.6.1.cmml" xref="alg3.l10.m1.3.3.3.6.2"><csymbol cd="latexml" id="alg3.l10.m1.3.3.3.6.1.1.cmml" xref="alg3.l10.m1.3.3.3.6.2.1">delimited-[]</csymbol><ci id="alg3.l10.m1.1.1.1.1.cmml" xref="alg3.l10.m1.1.1.1.1">𝑄</ci></apply></apply></apply><ci id="alg3.l10.m1.6.6.2.2.3.cmml" xref="alg3.l10.m1.6.6.2.2.3">𝑡</ci></apply><apply id="alg3.l10.m1.7.7.3.3.cmml" xref="alg3.l10.m1.7.7.3.3"><csymbol cd="ambiguous" id="alg3.l10.m1.7.7.3.3.1.cmml" xref="alg3.l10.m1.7.7.3.3">superscript</csymbol><apply id="alg3.l10.m1.7.7.3.3.2.cmml" xref="alg3.l10.m1.7.7.3.3"><csymbol cd="ambiguous" id="alg3.l10.m1.7.7.3.3.2.1.cmml" xref="alg3.l10.m1.7.7.3.3">subscript</csymbol><ci id="alg3.l10.m1.7.7.3.3.2.2.cmml" xref="alg3.l10.m1.7.7.3.3.2.2">𝐷</ci><ci id="alg3.l10.m1.7.7.3.3.2.3.cmml" xref="alg3.l10.m1.7.7.3.3.2.3">𝑢</ci></apply><apply id="alg3.l10.m1.7.7.3.3.3.cmml" xref="alg3.l10.m1.7.7.3.3.3"><times id="alg3.l10.m1.7.7.3.3.3.1.cmml" xref="alg3.l10.m1.7.7.3.3.3.1"></times><ci id="alg3.l10.m1.7.7.3.3.3.2.cmml" xref="alg3.l10.m1.7.7.3.3.3.2">𝑡</ci><ci id="alg3.l10.m1.7.7.3.3.3.3.cmml" xref="alg3.l10.m1.7.7.3.3.3.3">𝑟</ci></apply></apply></list></annotation-xml><annotation encoding="application/x-tex" id="alg3.l10.m1.7c">\theta^{w},Q,M_{g,q\in[Q]}^{t},D_{u}^{tr}</annotation></semantics></math>)

</div>
<div id="alg3.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>     <math id="alg3.l11.m1.4" class="ltx_Math" alttext="\alpha\leftarrow[\frac{1}{Q},\frac{1}{Q},...,\frac{1}{Q}]" display="inline"><semantics id="alg3.l11.m1.4a"><mrow id="alg3.l11.m1.4.5" xref="alg3.l11.m1.4.5.cmml"><mi id="alg3.l11.m1.4.5.2" xref="alg3.l11.m1.4.5.2.cmml">α</mi><mo stretchy="false" id="alg3.l11.m1.4.5.1" xref="alg3.l11.m1.4.5.1.cmml">←</mo><mrow id="alg3.l11.m1.4.5.3.2" xref="alg3.l11.m1.4.5.3.1.cmml"><mo stretchy="false" id="alg3.l11.m1.4.5.3.2.1" xref="alg3.l11.m1.4.5.3.1.cmml">[</mo><mfrac id="alg3.l11.m1.1.1" xref="alg3.l11.m1.1.1.cmml"><mn id="alg3.l11.m1.1.1.2" xref="alg3.l11.m1.1.1.2.cmml">1</mn><mi id="alg3.l11.m1.1.1.3" xref="alg3.l11.m1.1.1.3.cmml">Q</mi></mfrac><mo id="alg3.l11.m1.4.5.3.2.2" xref="alg3.l11.m1.4.5.3.1.cmml">,</mo><mfrac id="alg3.l11.m1.2.2" xref="alg3.l11.m1.2.2.cmml"><mn id="alg3.l11.m1.2.2.2" xref="alg3.l11.m1.2.2.2.cmml">1</mn><mi id="alg3.l11.m1.2.2.3" xref="alg3.l11.m1.2.2.3.cmml">Q</mi></mfrac><mo id="alg3.l11.m1.4.5.3.2.3" xref="alg3.l11.m1.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="alg3.l11.m1.3.3" xref="alg3.l11.m1.3.3.cmml">…</mi><mo id="alg3.l11.m1.4.5.3.2.4" xref="alg3.l11.m1.4.5.3.1.cmml">,</mo><mfrac id="alg3.l11.m1.4.4" xref="alg3.l11.m1.4.4.cmml"><mn id="alg3.l11.m1.4.4.2" xref="alg3.l11.m1.4.4.2.cmml">1</mn><mi id="alg3.l11.m1.4.4.3" xref="alg3.l11.m1.4.4.3.cmml">Q</mi></mfrac><mo stretchy="false" id="alg3.l11.m1.4.5.3.2.5" xref="alg3.l11.m1.4.5.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l11.m1.4b"><apply id="alg3.l11.m1.4.5.cmml" xref="alg3.l11.m1.4.5"><ci id="alg3.l11.m1.4.5.1.cmml" xref="alg3.l11.m1.4.5.1">←</ci><ci id="alg3.l11.m1.4.5.2.cmml" xref="alg3.l11.m1.4.5.2">𝛼</ci><list id="alg3.l11.m1.4.5.3.1.cmml" xref="alg3.l11.m1.4.5.3.2"><apply id="alg3.l11.m1.1.1.cmml" xref="alg3.l11.m1.1.1"><divide id="alg3.l11.m1.1.1.1.cmml" xref="alg3.l11.m1.1.1"></divide><cn type="integer" id="alg3.l11.m1.1.1.2.cmml" xref="alg3.l11.m1.1.1.2">1</cn><ci id="alg3.l11.m1.1.1.3.cmml" xref="alg3.l11.m1.1.1.3">𝑄</ci></apply><apply id="alg3.l11.m1.2.2.cmml" xref="alg3.l11.m1.2.2"><divide id="alg3.l11.m1.2.2.1.cmml" xref="alg3.l11.m1.2.2"></divide><cn type="integer" id="alg3.l11.m1.2.2.2.cmml" xref="alg3.l11.m1.2.2.2">1</cn><ci id="alg3.l11.m1.2.2.3.cmml" xref="alg3.l11.m1.2.2.3">𝑄</ci></apply><ci id="alg3.l11.m1.3.3.cmml" xref="alg3.l11.m1.3.3">…</ci><apply id="alg3.l11.m1.4.4.cmml" xref="alg3.l11.m1.4.4"><divide id="alg3.l11.m1.4.4.1.cmml" xref="alg3.l11.m1.4.4"></divide><cn type="integer" id="alg3.l11.m1.4.4.2.cmml" xref="alg3.l11.m1.4.4.2">1</cn><ci id="alg3.l11.m1.4.4.3.cmml" xref="alg3.l11.m1.4.4.3">𝑄</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l11.m1.4c">\alpha\leftarrow[\frac{1}{Q},\frac{1}{Q},...,\frac{1}{Q}]</annotation></semantics></math>

</div>
<div id="alg3.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>     <span id="alg3.l12.1" class="ltx_text ltx_font_bold">while</span> <math id="alg3.l12.m1.1" class="ltx_Math" alttext="||\alpha||_{0}&gt;1" display="inline"><semantics id="alg3.l12.m1.1a"><mrow id="alg3.l12.m1.1.2" xref="alg3.l12.m1.1.2.cmml"><msub id="alg3.l12.m1.1.2.2" xref="alg3.l12.m1.1.2.2.cmml"><mrow id="alg3.l12.m1.1.2.2.2.2" xref="alg3.l12.m1.1.2.2.2.1.cmml"><mo stretchy="false" id="alg3.l12.m1.1.2.2.2.2.1" xref="alg3.l12.m1.1.2.2.2.1.1.cmml">‖</mo><mi id="alg3.l12.m1.1.1" xref="alg3.l12.m1.1.1.cmml">α</mi><mo stretchy="false" id="alg3.l12.m1.1.2.2.2.2.2" xref="alg3.l12.m1.1.2.2.2.1.1.cmml">‖</mo></mrow><mn id="alg3.l12.m1.1.2.2.3" xref="alg3.l12.m1.1.2.2.3.cmml">0</mn></msub><mo id="alg3.l12.m1.1.2.1" xref="alg3.l12.m1.1.2.1.cmml">&gt;</mo><mn id="alg3.l12.m1.1.2.3" xref="alg3.l12.m1.1.2.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="alg3.l12.m1.1b"><apply id="alg3.l12.m1.1.2.cmml" xref="alg3.l12.m1.1.2"><gt id="alg3.l12.m1.1.2.1.cmml" xref="alg3.l12.m1.1.2.1"></gt><apply id="alg3.l12.m1.1.2.2.cmml" xref="alg3.l12.m1.1.2.2"><csymbol cd="ambiguous" id="alg3.l12.m1.1.2.2.1.cmml" xref="alg3.l12.m1.1.2.2">subscript</csymbol><apply id="alg3.l12.m1.1.2.2.2.1.cmml" xref="alg3.l12.m1.1.2.2.2.2"><csymbol cd="latexml" id="alg3.l12.m1.1.2.2.2.1.1.cmml" xref="alg3.l12.m1.1.2.2.2.2.1">norm</csymbol><ci id="alg3.l12.m1.1.1.cmml" xref="alg3.l12.m1.1.1">𝛼</ci></apply><cn type="integer" id="alg3.l12.m1.1.2.2.3.cmml" xref="alg3.l12.m1.1.2.2.3">0</cn></apply><cn type="integer" id="alg3.l12.m1.1.2.3.cmml" xref="alg3.l12.m1.1.2.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l12.m1.1c">||\alpha||_{0}&gt;1</annotation></semantics></math> <span id="alg3.l12.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg3.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>         <math id="alg3.l13.m1.4" class="ltx_Math" alttext="p\leftarrow f\left(D_{u}^{tr},\theta^{w}\bigodot(\sum_{q=1}^{Q}\alpha_{q}M_{g,q}^{t})\right)" display="inline"><semantics id="alg3.l13.m1.4a"><mrow id="alg3.l13.m1.4.4" xref="alg3.l13.m1.4.4.cmml"><mi id="alg3.l13.m1.4.4.4" xref="alg3.l13.m1.4.4.4.cmml">p</mi><mo stretchy="false" id="alg3.l13.m1.4.4.3" xref="alg3.l13.m1.4.4.3.cmml">←</mo><mrow id="alg3.l13.m1.4.4.2" xref="alg3.l13.m1.4.4.2.cmml"><mi id="alg3.l13.m1.4.4.2.4" xref="alg3.l13.m1.4.4.2.4.cmml">f</mi><mo lspace="0em" rspace="0em" id="alg3.l13.m1.4.4.2.3" xref="alg3.l13.m1.4.4.2.3.cmml">​</mo><mrow id="alg3.l13.m1.4.4.2.2.2" xref="alg3.l13.m1.4.4.2.2.3.cmml"><mo id="alg3.l13.m1.4.4.2.2.2.3" xref="alg3.l13.m1.4.4.2.2.3.cmml">(</mo><msubsup id="alg3.l13.m1.3.3.1.1.1.1" xref="alg3.l13.m1.3.3.1.1.1.1.cmml"><mi id="alg3.l13.m1.3.3.1.1.1.1.2.2" xref="alg3.l13.m1.3.3.1.1.1.1.2.2.cmml">D</mi><mi id="alg3.l13.m1.3.3.1.1.1.1.2.3" xref="alg3.l13.m1.3.3.1.1.1.1.2.3.cmml">u</mi><mrow id="alg3.l13.m1.3.3.1.1.1.1.3" xref="alg3.l13.m1.3.3.1.1.1.1.3.cmml"><mi id="alg3.l13.m1.3.3.1.1.1.1.3.2" xref="alg3.l13.m1.3.3.1.1.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg3.l13.m1.3.3.1.1.1.1.3.1" xref="alg3.l13.m1.3.3.1.1.1.1.3.1.cmml">​</mo><mi id="alg3.l13.m1.3.3.1.1.1.1.3.3" xref="alg3.l13.m1.3.3.1.1.1.1.3.3.cmml">r</mi></mrow></msubsup><mo id="alg3.l13.m1.4.4.2.2.2.4" xref="alg3.l13.m1.4.4.2.2.3.cmml">,</mo><mrow id="alg3.l13.m1.4.4.2.2.2.2" xref="alg3.l13.m1.4.4.2.2.2.2.cmml"><msup id="alg3.l13.m1.4.4.2.2.2.2.3" xref="alg3.l13.m1.4.4.2.2.2.2.3.cmml"><mi id="alg3.l13.m1.4.4.2.2.2.2.3.2" xref="alg3.l13.m1.4.4.2.2.2.2.3.2.cmml">θ</mi><mi id="alg3.l13.m1.4.4.2.2.2.2.3.3" xref="alg3.l13.m1.4.4.2.2.2.2.3.3.cmml">w</mi></msup><mo lspace="0em" rspace="0em" id="alg3.l13.m1.4.4.2.2.2.2.2" xref="alg3.l13.m1.4.4.2.2.2.2.2.cmml">​</mo><mrow id="alg3.l13.m1.4.4.2.2.2.2.1" xref="alg3.l13.m1.4.4.2.2.2.2.1.cmml"><mo rspace="0em" id="alg3.l13.m1.4.4.2.2.2.2.1.2" xref="alg3.l13.m1.4.4.2.2.2.2.1.2.cmml">⨀</mo><mrow id="alg3.l13.m1.4.4.2.2.2.2.1.1.1" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.2" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.cmml">(</mo><mrow id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.cmml"><msubsup id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.cmml"><mo lspace="0em" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.2" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.2.cmml">∑</mo><mrow id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.cmml"><mi id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.2" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.2.cmml">q</mi><mo id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.1" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.1.cmml">=</mo><mn id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.3" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.3.cmml">1</mn></mrow><mi id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.3" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.3.cmml">Q</mi></msubsup><mrow id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.cmml"><msub id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.cmml"><mi id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.2" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.2.cmml">α</mi><mi id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.3" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.1" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.1.cmml">​</mo><msubsup id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.cmml"><mi id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.2.2" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.2.2.cmml">M</mi><mrow id="alg3.l13.m1.2.2.2.4" xref="alg3.l13.m1.2.2.2.3.cmml"><mi id="alg3.l13.m1.1.1.1.1" xref="alg3.l13.m1.1.1.1.1.cmml">g</mi><mo id="alg3.l13.m1.2.2.2.4.1" xref="alg3.l13.m1.2.2.2.3.cmml">,</mo><mi id="alg3.l13.m1.2.2.2.2" xref="alg3.l13.m1.2.2.2.2.cmml">q</mi></mrow><mi id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.3" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.3.cmml">t</mi></msubsup></mrow></mrow><mo stretchy="false" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.3" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="alg3.l13.m1.4.4.2.2.2.5" xref="alg3.l13.m1.4.4.2.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l13.m1.4b"><apply id="alg3.l13.m1.4.4.cmml" xref="alg3.l13.m1.4.4"><ci id="alg3.l13.m1.4.4.3.cmml" xref="alg3.l13.m1.4.4.3">←</ci><ci id="alg3.l13.m1.4.4.4.cmml" xref="alg3.l13.m1.4.4.4">𝑝</ci><apply id="alg3.l13.m1.4.4.2.cmml" xref="alg3.l13.m1.4.4.2"><times id="alg3.l13.m1.4.4.2.3.cmml" xref="alg3.l13.m1.4.4.2.3"></times><ci id="alg3.l13.m1.4.4.2.4.cmml" xref="alg3.l13.m1.4.4.2.4">𝑓</ci><interval closure="open" id="alg3.l13.m1.4.4.2.2.3.cmml" xref="alg3.l13.m1.4.4.2.2.2"><apply id="alg3.l13.m1.3.3.1.1.1.1.cmml" xref="alg3.l13.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="alg3.l13.m1.3.3.1.1.1.1.1.cmml" xref="alg3.l13.m1.3.3.1.1.1.1">superscript</csymbol><apply id="alg3.l13.m1.3.3.1.1.1.1.2.cmml" xref="alg3.l13.m1.3.3.1.1.1.1"><csymbol cd="ambiguous" id="alg3.l13.m1.3.3.1.1.1.1.2.1.cmml" xref="alg3.l13.m1.3.3.1.1.1.1">subscript</csymbol><ci id="alg3.l13.m1.3.3.1.1.1.1.2.2.cmml" xref="alg3.l13.m1.3.3.1.1.1.1.2.2">𝐷</ci><ci id="alg3.l13.m1.3.3.1.1.1.1.2.3.cmml" xref="alg3.l13.m1.3.3.1.1.1.1.2.3">𝑢</ci></apply><apply id="alg3.l13.m1.3.3.1.1.1.1.3.cmml" xref="alg3.l13.m1.3.3.1.1.1.1.3"><times id="alg3.l13.m1.3.3.1.1.1.1.3.1.cmml" xref="alg3.l13.m1.3.3.1.1.1.1.3.1"></times><ci id="alg3.l13.m1.3.3.1.1.1.1.3.2.cmml" xref="alg3.l13.m1.3.3.1.1.1.1.3.2">𝑡</ci><ci id="alg3.l13.m1.3.3.1.1.1.1.3.3.cmml" xref="alg3.l13.m1.3.3.1.1.1.1.3.3">𝑟</ci></apply></apply><apply id="alg3.l13.m1.4.4.2.2.2.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2"><times id="alg3.l13.m1.4.4.2.2.2.2.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.2"></times><apply id="alg3.l13.m1.4.4.2.2.2.2.3.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.3"><csymbol cd="ambiguous" id="alg3.l13.m1.4.4.2.2.2.2.3.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.3">superscript</csymbol><ci id="alg3.l13.m1.4.4.2.2.2.2.3.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.3.2">𝜃</ci><ci id="alg3.l13.m1.4.4.2.2.2.2.3.3.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.3.3">𝑤</ci></apply><apply id="alg3.l13.m1.4.4.2.2.2.2.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1"><ci id="alg3.l13.m1.4.4.2.2.2.2.1.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.2">⨀</ci><apply id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1"><apply id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1">superscript</csymbol><apply id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1">subscript</csymbol><sum id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.2"></sum><apply id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3"><eq id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.1"></eq><ci id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.2">𝑞</ci><cn type="integer" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.3.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.2.3.3">1</cn></apply></apply><ci id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.3.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.1.3">𝑄</ci></apply><apply id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2"><times id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.1"></times><apply id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2"><csymbol cd="ambiguous" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2">subscript</csymbol><ci id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.2">𝛼</ci><ci id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.3.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.2.3">𝑞</ci></apply><apply id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3"><csymbol cd="ambiguous" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3">superscript</csymbol><apply id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3"><csymbol cd="ambiguous" id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.2.1.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3">subscript</csymbol><ci id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.2.2.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.2.2">𝑀</ci><list id="alg3.l13.m1.2.2.2.3.cmml" xref="alg3.l13.m1.2.2.2.4"><ci id="alg3.l13.m1.1.1.1.1.cmml" xref="alg3.l13.m1.1.1.1.1">𝑔</ci><ci id="alg3.l13.m1.2.2.2.2.cmml" xref="alg3.l13.m1.2.2.2.2">𝑞</ci></list></apply><ci id="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.3.cmml" xref="alg3.l13.m1.4.4.2.2.2.2.1.1.1.1.2.3.3">𝑡</ci></apply></apply></apply></apply></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l13.m1.4c">p\leftarrow f\left(D_{u}^{tr},\theta^{w}\bigodot(\sum_{q=1}^{Q}\alpha_{q}M_{g,q}^{t})\right)</annotation></semantics></math>

</div>
<div id="alg3.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>         <math id="alg3.l14.m1.1" class="ltx_Math" alttext="g\leftarrow\triangledown_{\alpha}H(p)" display="inline"><semantics id="alg3.l14.m1.1a"><mrow id="alg3.l14.m1.1.2" xref="alg3.l14.m1.1.2.cmml"><mi id="alg3.l14.m1.1.2.2" xref="alg3.l14.m1.1.2.2.cmml">g</mi><mo stretchy="false" id="alg3.l14.m1.1.2.1" xref="alg3.l14.m1.1.2.1.cmml">←</mo><mrow id="alg3.l14.m1.1.2.3" xref="alg3.l14.m1.1.2.3.cmml"><msub id="alg3.l14.m1.1.2.3.2" xref="alg3.l14.m1.1.2.3.2.cmml"><mi mathvariant="normal" id="alg3.l14.m1.1.2.3.2.2" xref="alg3.l14.m1.1.2.3.2.2.cmml">▽</mi><mi id="alg3.l14.m1.1.2.3.2.3" xref="alg3.l14.m1.1.2.3.2.3.cmml">α</mi></msub><mo lspace="0em" rspace="0em" id="alg3.l14.m1.1.2.3.1" xref="alg3.l14.m1.1.2.3.1.cmml">​</mo><mi id="alg3.l14.m1.1.2.3.3" xref="alg3.l14.m1.1.2.3.3.cmml">H</mi><mo lspace="0em" rspace="0em" id="alg3.l14.m1.1.2.3.1a" xref="alg3.l14.m1.1.2.3.1.cmml">​</mo><mrow id="alg3.l14.m1.1.2.3.4.2" xref="alg3.l14.m1.1.2.3.cmml"><mo stretchy="false" id="alg3.l14.m1.1.2.3.4.2.1" xref="alg3.l14.m1.1.2.3.cmml">(</mo><mi id="alg3.l14.m1.1.1" xref="alg3.l14.m1.1.1.cmml">p</mi><mo stretchy="false" id="alg3.l14.m1.1.2.3.4.2.2" xref="alg3.l14.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l14.m1.1b"><apply id="alg3.l14.m1.1.2.cmml" xref="alg3.l14.m1.1.2"><ci id="alg3.l14.m1.1.2.1.cmml" xref="alg3.l14.m1.1.2.1">←</ci><ci id="alg3.l14.m1.1.2.2.cmml" xref="alg3.l14.m1.1.2.2">𝑔</ci><apply id="alg3.l14.m1.1.2.3.cmml" xref="alg3.l14.m1.1.2.3"><times id="alg3.l14.m1.1.2.3.1.cmml" xref="alg3.l14.m1.1.2.3.1"></times><apply id="alg3.l14.m1.1.2.3.2.cmml" xref="alg3.l14.m1.1.2.3.2"><csymbol cd="ambiguous" id="alg3.l14.m1.1.2.3.2.1.cmml" xref="alg3.l14.m1.1.2.3.2">subscript</csymbol><ci id="alg3.l14.m1.1.2.3.2.2.cmml" xref="alg3.l14.m1.1.2.3.2.2">▽</ci><ci id="alg3.l14.m1.1.2.3.2.3.cmml" xref="alg3.l14.m1.1.2.3.2.3">𝛼</ci></apply><ci id="alg3.l14.m1.1.2.3.3.cmml" xref="alg3.l14.m1.1.2.3.3">𝐻</ci><ci id="alg3.l14.m1.1.1.cmml" xref="alg3.l14.m1.1.1">𝑝</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l14.m1.1c">g\leftarrow\triangledown_{\alpha}H(p)</annotation></semantics></math>

</div>
<div id="alg3.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15:</span>         <span id="alg3.l15.1" class="ltx_text ltx_font_bold">for</span> <math id="alg3.l15.m1.1" class="ltx_Math" alttext="q\in[Q]" display="inline"><semantics id="alg3.l15.m1.1a"><mrow id="alg3.l15.m1.1.2" xref="alg3.l15.m1.1.2.cmml"><mi id="alg3.l15.m1.1.2.2" xref="alg3.l15.m1.1.2.2.cmml">q</mi><mo id="alg3.l15.m1.1.2.1" xref="alg3.l15.m1.1.2.1.cmml">∈</mo><mrow id="alg3.l15.m1.1.2.3.2" xref="alg3.l15.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg3.l15.m1.1.2.3.2.1" xref="alg3.l15.m1.1.2.3.1.1.cmml">[</mo><mi id="alg3.l15.m1.1.1" xref="alg3.l15.m1.1.1.cmml">Q</mi><mo stretchy="false" id="alg3.l15.m1.1.2.3.2.2" xref="alg3.l15.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l15.m1.1b"><apply id="alg3.l15.m1.1.2.cmml" xref="alg3.l15.m1.1.2"><in id="alg3.l15.m1.1.2.1.cmml" xref="alg3.l15.m1.1.2.1"></in><ci id="alg3.l15.m1.1.2.2.cmml" xref="alg3.l15.m1.1.2.2">𝑞</ci><apply id="alg3.l15.m1.1.2.3.1.cmml" xref="alg3.l15.m1.1.2.3.2"><csymbol cd="latexml" id="alg3.l15.m1.1.2.3.1.1.cmml" xref="alg3.l15.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg3.l15.m1.1.1.cmml" xref="alg3.l15.m1.1.1">𝑄</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l15.m1.1c">q\in[Q]</annotation></semantics></math> <span id="alg3.l15.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg3.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16:</span>              <span id="alg3.l16.1" class="ltx_text ltx_font_bold">if</span> <math id="alg3.l16.m1.1" class="ltx_Math" alttext="g_{q}\leq" display="inline"><semantics id="alg3.l16.m1.1a"><mrow id="alg3.l16.m1.1.1" xref="alg3.l16.m1.1.1.cmml"><msub id="alg3.l16.m1.1.1.2" xref="alg3.l16.m1.1.1.2.cmml"><mi id="alg3.l16.m1.1.1.2.2" xref="alg3.l16.m1.1.1.2.2.cmml">g</mi><mi id="alg3.l16.m1.1.1.2.3" xref="alg3.l16.m1.1.1.2.3.cmml">q</mi></msub><mo id="alg3.l16.m1.1.1.1" xref="alg3.l16.m1.1.1.1.cmml">≤</mo><mi id="alg3.l16.m1.1.1.3" xref="alg3.l16.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg3.l16.m1.1b"><apply id="alg3.l16.m1.1.1.cmml" xref="alg3.l16.m1.1.1"><leq id="alg3.l16.m1.1.1.1.cmml" xref="alg3.l16.m1.1.1.1"></leq><apply id="alg3.l16.m1.1.1.2.cmml" xref="alg3.l16.m1.1.1.2"><csymbol cd="ambiguous" id="alg3.l16.m1.1.1.2.1.cmml" xref="alg3.l16.m1.1.1.2">subscript</csymbol><ci id="alg3.l16.m1.1.1.2.2.cmml" xref="alg3.l16.m1.1.1.2.2">𝑔</ci><ci id="alg3.l16.m1.1.1.2.3.cmml" xref="alg3.l16.m1.1.1.2.3">𝑞</ci></apply><csymbol cd="latexml" id="alg3.l16.m1.1.1.3.cmml" xref="alg3.l16.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l16.m1.1c">g_{q}\leq</annotation></semantics></math> median(<math id="alg3.l16.m2.1" class="ltx_Math" alttext="g" display="inline"><semantics id="alg3.l16.m2.1a"><mi id="alg3.l16.m2.1.1" xref="alg3.l16.m2.1.1.cmml">g</mi><annotation-xml encoding="MathML-Content" id="alg3.l16.m2.1b"><ci id="alg3.l16.m2.1.1.cmml" xref="alg3.l16.m2.1.1">𝑔</ci></annotation-xml><annotation encoding="application/x-tex" id="alg3.l16.m2.1c">g</annotation></semantics></math>) <span id="alg3.l16.2" class="ltx_text ltx_font_bold">then</span>

</div>
<div id="alg3.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17:</span>                  <math id="alg3.l17.m1.1" class="ltx_Math" alttext="\alpha_{q}\leftarrow 0" display="inline"><semantics id="alg3.l17.m1.1a"><mrow id="alg3.l17.m1.1.1" xref="alg3.l17.m1.1.1.cmml"><msub id="alg3.l17.m1.1.1.2" xref="alg3.l17.m1.1.1.2.cmml"><mi id="alg3.l17.m1.1.1.2.2" xref="alg3.l17.m1.1.1.2.2.cmml">α</mi><mi id="alg3.l17.m1.1.1.2.3" xref="alg3.l17.m1.1.1.2.3.cmml">q</mi></msub><mo stretchy="false" id="alg3.l17.m1.1.1.1" xref="alg3.l17.m1.1.1.1.cmml">←</mo><mn id="alg3.l17.m1.1.1.3" xref="alg3.l17.m1.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="alg3.l17.m1.1b"><apply id="alg3.l17.m1.1.1.cmml" xref="alg3.l17.m1.1.1"><ci id="alg3.l17.m1.1.1.1.cmml" xref="alg3.l17.m1.1.1.1">←</ci><apply id="alg3.l17.m1.1.1.2.cmml" xref="alg3.l17.m1.1.1.2"><csymbol cd="ambiguous" id="alg3.l17.m1.1.1.2.1.cmml" xref="alg3.l17.m1.1.1.2">subscript</csymbol><ci id="alg3.l17.m1.1.1.2.2.cmml" xref="alg3.l17.m1.1.1.2.2">𝛼</ci><ci id="alg3.l17.m1.1.1.2.3.cmml" xref="alg3.l17.m1.1.1.2.3">𝑞</ci></apply><cn type="integer" id="alg3.l17.m1.1.1.3.cmml" xref="alg3.l17.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l17.m1.1c">\alpha_{q}\leftarrow 0</annotation></semantics></math>

</div>
<div id="alg3.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18:</span>              <span id="alg3.l18.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l18.2" class="ltx_text ltx_font_bold">if</span>
</div>
<div id="alg3.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19:</span>         <span id="alg3.l19.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l19.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg3.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20:</span>         <math id="alg3.l20.m1.1" class="ltx_Math" alttext="\alpha\leftarrow\alpha/||\alpha||_{1}" display="inline"><semantics id="alg3.l20.m1.1a"><mrow id="alg3.l20.m1.1.2" xref="alg3.l20.m1.1.2.cmml"><mi id="alg3.l20.m1.1.2.2" xref="alg3.l20.m1.1.2.2.cmml">α</mi><mo stretchy="false" id="alg3.l20.m1.1.2.1" xref="alg3.l20.m1.1.2.1.cmml">←</mo><mrow id="alg3.l20.m1.1.2.3" xref="alg3.l20.m1.1.2.3.cmml"><mi id="alg3.l20.m1.1.2.3.2" xref="alg3.l20.m1.1.2.3.2.cmml">α</mi><mo id="alg3.l20.m1.1.2.3.1" xref="alg3.l20.m1.1.2.3.1.cmml">/</mo><msub id="alg3.l20.m1.1.2.3.3" xref="alg3.l20.m1.1.2.3.3.cmml"><mrow id="alg3.l20.m1.1.2.3.3.2.2" xref="alg3.l20.m1.1.2.3.3.2.1.cmml"><mo stretchy="false" id="alg3.l20.m1.1.2.3.3.2.2.1" xref="alg3.l20.m1.1.2.3.3.2.1.1.cmml">‖</mo><mi id="alg3.l20.m1.1.1" xref="alg3.l20.m1.1.1.cmml">α</mi><mo stretchy="false" id="alg3.l20.m1.1.2.3.3.2.2.2" xref="alg3.l20.m1.1.2.3.3.2.1.1.cmml">‖</mo></mrow><mn id="alg3.l20.m1.1.2.3.3.3" xref="alg3.l20.m1.1.2.3.3.3.cmml">1</mn></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l20.m1.1b"><apply id="alg3.l20.m1.1.2.cmml" xref="alg3.l20.m1.1.2"><ci id="alg3.l20.m1.1.2.1.cmml" xref="alg3.l20.m1.1.2.1">←</ci><ci id="alg3.l20.m1.1.2.2.cmml" xref="alg3.l20.m1.1.2.2">𝛼</ci><apply id="alg3.l20.m1.1.2.3.cmml" xref="alg3.l20.m1.1.2.3"><divide id="alg3.l20.m1.1.2.3.1.cmml" xref="alg3.l20.m1.1.2.3.1"></divide><ci id="alg3.l20.m1.1.2.3.2.cmml" xref="alg3.l20.m1.1.2.3.2">𝛼</ci><apply id="alg3.l20.m1.1.2.3.3.cmml" xref="alg3.l20.m1.1.2.3.3"><csymbol cd="ambiguous" id="alg3.l20.m1.1.2.3.3.1.cmml" xref="alg3.l20.m1.1.2.3.3">subscript</csymbol><apply id="alg3.l20.m1.1.2.3.3.2.1.cmml" xref="alg3.l20.m1.1.2.3.3.2.2"><csymbol cd="latexml" id="alg3.l20.m1.1.2.3.3.2.1.1.cmml" xref="alg3.l20.m1.1.2.3.3.2.2.1">norm</csymbol><ci id="alg3.l20.m1.1.1.cmml" xref="alg3.l20.m1.1.1">𝛼</ci></apply><cn type="integer" id="alg3.l20.m1.1.2.3.3.3.cmml" xref="alg3.l20.m1.1.2.3.3.3">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l20.m1.1c">\alpha\leftarrow\alpha/||\alpha||_{1}</annotation></semantics></math>

</div>
<div id="alg3.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21:</span>     <span id="alg3.l21.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l21.2" class="ltx_text ltx_font_bold">while</span>
</div>
<div id="alg3.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">22:</span>     <span id="alg3.l22.1" class="ltx_text ltx_font_bold">return</span> <math id="alg3.l22.m1.3" class="ltx_Math" alttext="\operatorname*{argmax}_{q\in[Q]}\left(\alpha_{q}\right)" display="inline"><semantics id="alg3.l22.m1.3a"><mrow id="alg3.l22.m1.3.3.2" xref="alg3.l22.m1.3.3.3.cmml"><msub id="alg3.l22.m1.2.2.1.1" xref="alg3.l22.m1.2.2.1.1.cmml"><mo id="alg3.l22.m1.2.2.1.1.2" xref="alg3.l22.m1.2.2.1.1.2.cmml">argmax</mo><mrow id="alg3.l22.m1.1.1.1" xref="alg3.l22.m1.1.1.1.cmml"><mi id="alg3.l22.m1.1.1.1.3" xref="alg3.l22.m1.1.1.1.3.cmml">q</mi><mo id="alg3.l22.m1.1.1.1.2" xref="alg3.l22.m1.1.1.1.2.cmml">∈</mo><mrow id="alg3.l22.m1.1.1.1.4.2" xref="alg3.l22.m1.1.1.1.4.1.cmml"><mo stretchy="false" id="alg3.l22.m1.1.1.1.4.2.1" xref="alg3.l22.m1.1.1.1.4.1.1.cmml">[</mo><mi id="alg3.l22.m1.1.1.1.1" xref="alg3.l22.m1.1.1.1.1.cmml">Q</mi><mo stretchy="false" id="alg3.l22.m1.1.1.1.4.2.2" xref="alg3.l22.m1.1.1.1.4.1.1.cmml">]</mo></mrow></mrow></msub><mrow id="alg3.l22.m1.3.3.2.2" xref="alg3.l22.m1.3.3.3.cmml"><mo lspace="0em" id="alg3.l22.m1.3.3.2.2.2" xref="alg3.l22.m1.3.3.3.cmml">(</mo><msub id="alg3.l22.m1.3.3.2.2.1" xref="alg3.l22.m1.3.3.2.2.1.cmml"><mi id="alg3.l22.m1.3.3.2.2.1.2" xref="alg3.l22.m1.3.3.2.2.1.2.cmml">α</mi><mi id="alg3.l22.m1.3.3.2.2.1.3" xref="alg3.l22.m1.3.3.2.2.1.3.cmml">q</mi></msub><mo id="alg3.l22.m1.3.3.2.2.3" xref="alg3.l22.m1.3.3.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg3.l22.m1.3b"><apply id="alg3.l22.m1.3.3.3.cmml" xref="alg3.l22.m1.3.3.2"><apply id="alg3.l22.m1.2.2.1.1.cmml" xref="alg3.l22.m1.2.2.1.1"><csymbol cd="ambiguous" id="alg3.l22.m1.2.2.1.1.1.cmml" xref="alg3.l22.m1.2.2.1.1">subscript</csymbol><ci id="alg3.l22.m1.2.2.1.1.2.cmml" xref="alg3.l22.m1.2.2.1.1.2">argmax</ci><apply id="alg3.l22.m1.1.1.1.cmml" xref="alg3.l22.m1.1.1.1"><in id="alg3.l22.m1.1.1.1.2.cmml" xref="alg3.l22.m1.1.1.1.2"></in><ci id="alg3.l22.m1.1.1.1.3.cmml" xref="alg3.l22.m1.1.1.1.3">𝑞</ci><apply id="alg3.l22.m1.1.1.1.4.1.cmml" xref="alg3.l22.m1.1.1.1.4.2"><csymbol cd="latexml" id="alg3.l22.m1.1.1.1.4.1.1.cmml" xref="alg3.l22.m1.1.1.1.4.2.1">delimited-[]</csymbol><ci id="alg3.l22.m1.1.1.1.1.cmml" xref="alg3.l22.m1.1.1.1.1">𝑄</ci></apply></apply></apply><apply id="alg3.l22.m1.3.3.2.2.1.cmml" xref="alg3.l22.m1.3.3.2.2.1"><csymbol cd="ambiguous" id="alg3.l22.m1.3.3.2.2.1.1.cmml" xref="alg3.l22.m1.3.3.2.2.1">subscript</csymbol><ci id="alg3.l22.m1.3.3.2.2.1.2.cmml" xref="alg3.l22.m1.3.3.2.2.1.2">𝛼</ci><ci id="alg3.l22.m1.3.3.2.2.1.3.cmml" xref="alg3.l22.m1.3.3.2.2.1.3">𝑞</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg3.l22.m1.3c">\operatorname*{argmax}_{q\in[Q]}\left(\alpha_{q}\right)</annotation></semantics></math>

</div>
<div id="alg3.l23" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">23:</span><span id="alg3.l23.1" class="ltx_text ltx_font_bold">end</span> <span id="alg3.l23.2" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Missing Details of Federated Rank Learning (FRL)</h2>

<div id="A4.p1" class="ltx_para ltx_noindent">
<p id="A4.p1.3" class="ltx_p"><span id="A4.p1.3.1" class="ltx_text ltx_font_bold">Supermask Learning:</span> 
Modern neural networks have a very large number of parameters. These networks are generally overparameterized <cite class="ltx_cite ltx_citemacro_citep">(Dauphin and Bengio <a href="#bib.bib5" title="" class="ltx_ref">2013</a>; Denil et al. <a href="#bib.bib6" title="" class="ltx_ref">2013</a>; Li et al. <a href="#bib.bib17" title="" class="ltx_ref">2020a</a>, <a href="#bib.bib18" title="" class="ltx_ref">2021a</a>)</cite>, i.e., they have more parameters than they need to perform a particular task, e.g., classification.
The <em id="A4.p1.3.2" class="ltx_emph ltx_font_italic">lottery ticket hypothesis</em> <cite class="ltx_cite ltx_citemacro_citep">(Frankle and Carbin <a href="#bib.bib9" title="" class="ltx_ref">2019</a>)</cite> states that a fully-trained neural network, i.e., <em id="A4.p1.3.3" class="ltx_emph ltx_font_italic">supernetwork</em>, contains sparse <em id="A4.p1.3.4" class="ltx_emph ltx_font_italic">subnetworks</em>, i.e., subsets of all neurons in the supernetwork, which can be trained from scratch (i.e., by training same initialized weights of the subnetwork) and achieve performances close to the fully trained supernetwork.
The lottery ticket hypothesis allows for massive reductions in the sizes of neural networks. Ramanujan et al. <cite class="ltx_cite ltx_citemacro_citep">(Ramanujan et al. <a href="#bib.bib28" title="" class="ltx_ref">2020</a>)</cite> offer a complementary conjecture that an overparameterized neural network with randomly initialized weights contains subnetworks which perform as good as the fully trained network.
To do so, we should identify a supermask <math id="A4.p1.1.m1.1" class="ltx_Math" alttext="M_{g}" display="inline"><semantics id="A4.p1.1.m1.1a"><msub id="A4.p1.1.m1.1.1" xref="A4.p1.1.m1.1.1.cmml"><mi id="A4.p1.1.m1.1.1.2" xref="A4.p1.1.m1.1.1.2.cmml">M</mi><mi id="A4.p1.1.m1.1.1.3" xref="A4.p1.1.m1.1.1.3.cmml">g</mi></msub><annotation-xml encoding="MathML-Content" id="A4.p1.1.m1.1b"><apply id="A4.p1.1.m1.1.1.cmml" xref="A4.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A4.p1.1.m1.1.1.1.cmml" xref="A4.p1.1.m1.1.1">subscript</csymbol><ci id="A4.p1.1.m1.1.1.2.cmml" xref="A4.p1.1.m1.1.1.2">𝑀</ci><ci id="A4.p1.1.m1.1.1.3.cmml" xref="A4.p1.1.m1.1.1.3">𝑔</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.p1.1.m1.1c">M_{g}</annotation></semantics></math>, which is a binary mask of 1’s and 0’s, that is superimposed on the random neural network to obtain the final subnetwork, i.e., <math id="A4.p1.2.m2.1" class="ltx_Math" alttext="\theta^{w}\bigodot M_{g}" display="inline"><semantics id="A4.p1.2.m2.1a"><mrow id="A4.p1.2.m2.1.1" xref="A4.p1.2.m2.1.1.cmml"><msup id="A4.p1.2.m2.1.1.2" xref="A4.p1.2.m2.1.1.2.cmml"><mi id="A4.p1.2.m2.1.1.2.2" xref="A4.p1.2.m2.1.1.2.2.cmml">θ</mi><mi id="A4.p1.2.m2.1.1.2.3" xref="A4.p1.2.m2.1.1.2.3.cmml">w</mi></msup><mo lspace="0em" rspace="0em" id="A4.p1.2.m2.1.1.1" xref="A4.p1.2.m2.1.1.1.cmml">​</mo><mrow id="A4.p1.2.m2.1.1.3" xref="A4.p1.2.m2.1.1.3.cmml"><mo id="A4.p1.2.m2.1.1.3.1" xref="A4.p1.2.m2.1.1.3.1.cmml">⨀</mo><msub id="A4.p1.2.m2.1.1.3.2" xref="A4.p1.2.m2.1.1.3.2.cmml"><mi id="A4.p1.2.m2.1.1.3.2.2" xref="A4.p1.2.m2.1.1.3.2.2.cmml">M</mi><mi id="A4.p1.2.m2.1.1.3.2.3" xref="A4.p1.2.m2.1.1.3.2.3.cmml">g</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="A4.p1.2.m2.1b"><apply id="A4.p1.2.m2.1.1.cmml" xref="A4.p1.2.m2.1.1"><times id="A4.p1.2.m2.1.1.1.cmml" xref="A4.p1.2.m2.1.1.1"></times><apply id="A4.p1.2.m2.1.1.2.cmml" xref="A4.p1.2.m2.1.1.2"><csymbol cd="ambiguous" id="A4.p1.2.m2.1.1.2.1.cmml" xref="A4.p1.2.m2.1.1.2">superscript</csymbol><ci id="A4.p1.2.m2.1.1.2.2.cmml" xref="A4.p1.2.m2.1.1.2.2">𝜃</ci><ci id="A4.p1.2.m2.1.1.2.3.cmml" xref="A4.p1.2.m2.1.1.2.3">𝑤</ci></apply><apply id="A4.p1.2.m2.1.1.3.cmml" xref="A4.p1.2.m2.1.1.3"><ci id="A4.p1.2.m2.1.1.3.1.cmml" xref="A4.p1.2.m2.1.1.3.1">⨀</ci><apply id="A4.p1.2.m2.1.1.3.2.cmml" xref="A4.p1.2.m2.1.1.3.2"><csymbol cd="ambiguous" id="A4.p1.2.m2.1.1.3.2.1.cmml" xref="A4.p1.2.m2.1.1.3.2">subscript</csymbol><ci id="A4.p1.2.m2.1.1.3.2.2.cmml" xref="A4.p1.2.m2.1.1.3.2.2">𝑀</ci><ci id="A4.p1.2.m2.1.1.3.2.3.cmml" xref="A4.p1.2.m2.1.1.3.2.3">𝑔</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.p1.2.m2.1c">\theta^{w}\bigodot M_{g}</annotation></semantics></math> where <math id="A4.p1.3.m3.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="A4.p1.3.m3.1a"><msup id="A4.p1.3.m3.1.1" xref="A4.p1.3.m3.1.1.cmml"><mi id="A4.p1.3.m3.1.1.2" xref="A4.p1.3.m3.1.1.2.cmml">θ</mi><mi id="A4.p1.3.m3.1.1.3" xref="A4.p1.3.m3.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="A4.p1.3.m3.1b"><apply id="A4.p1.3.m3.1.1.cmml" xref="A4.p1.3.m3.1.1"><csymbol cd="ambiguous" id="A4.p1.3.m3.1.1.1.cmml" xref="A4.p1.3.m3.1.1">superscript</csymbol><ci id="A4.p1.3.m3.1.1.2.cmml" xref="A4.p1.3.m3.1.1.2">𝜃</ci><ci id="A4.p1.3.m3.1.1.3.cmml" xref="A4.p1.3.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A4.p1.3.m3.1c">\theta^{w}</annotation></semantics></math> is showing the weight parameters for supernetwork.</p>
</div>
<div id="A4.p2" class="ltx_para ltx_noindent">
<p id="A4.p2.1" class="ltx_p"><span id="A4.p2.1.1" class="ltx_text ltx_font_bold">Federated Rank Learning (FRL):</span> 
In this section, we provide the design of federated rank learning (FRL) algorithm <cite class="ltx_cite ltx_citemacro_citep">(Mozaffari, Shejwalkar, and Houmansadr <a href="#bib.bib26" title="" class="ltx_ref">2021</a>)</cite>.
FRL clients collaborate (without sharing their local data) to <em id="A4.p2.1.2" class="ltx_emph ltx_font_italic">find a subnetwork</em> within a randomly initialized, untrained neural network called the <em id="A4.p2.1.3" class="ltx_emph ltx_font_italic">supernetwork</em>.
Algorithm <a href="#alg4" title="Algorithm 4 ‣ Appendix D Missing Details of Federated Rank Learning (FRL) ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> describes FRL’s training. Training a global model in FRL means first finding a unanimous ranking of supernetwork edges and then using the subnetwork of the top-ranked edges as the final output.</p>
</div>
<figure id="alg4" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg4.2.1.1" class="ltx_text ltx_font_bold">Algorithm 4</span> </span> Federated Rank Learning (FRL)</figcaption>
<div id="alg4.3" class="ltx_listing ltx_listing">
<div id="alg4.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span><span id="alg4.l1.1" class="ltx_text ltx_font_bold">Input:</span> number of FL rounds <math id="alg4.l1.m1.1" class="ltx_Math" alttext="T" display="inline"><semantics id="alg4.l1.m1.1a"><mi id="alg4.l1.m1.1.1" xref="alg4.l1.m1.1.1.cmml">T</mi><annotation-xml encoding="MathML-Content" id="alg4.l1.m1.1b"><ci id="alg4.l1.m1.1.1.cmml" xref="alg4.l1.m1.1.1">𝑇</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l1.m1.1c">T</annotation></semantics></math>, number of local epochs <math id="alg4.l1.m2.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg4.l1.m2.1a"><mi id="alg4.l1.m2.1.1" xref="alg4.l1.m2.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg4.l1.m2.1b"><ci id="alg4.l1.m2.1.1.cmml" xref="alg4.l1.m2.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l1.m2.1c">E</annotation></semantics></math>, number of selected users in each round <math id="alg4.l1.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="alg4.l1.m3.1a"><mi id="alg4.l1.m3.1.1" xref="alg4.l1.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="alg4.l1.m3.1b"><ci id="alg4.l1.m3.1.1.cmml" xref="alg4.l1.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l1.m3.1c">n</annotation></semantics></math>, seed <span id="alg4.l1.2" class="ltx_text ltx_font_smallcaps">seed</span>, learning rate <math id="alg4.l1.m4.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg4.l1.m4.1a"><mi id="alg4.l1.m4.1.1" xref="alg4.l1.m4.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg4.l1.m4.1b"><ci id="alg4.l1.m4.1.1.cmml" xref="alg4.l1.m4.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l1.m4.1c">\eta</annotation></semantics></math>, subnetwork size <math id="alg4.l1.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg4.l1.m5.1a"><mi id="alg4.l1.m5.1.1" xref="alg4.l1.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg4.l1.m5.1b"><ci id="alg4.l1.m5.1.1.cmml" xref="alg4.l1.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l1.m5.1c">k</annotation></semantics></math>%

</div>
<div id="alg4.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span><span id="alg4.l2.1" class="ltx_text" style="background-color:#CAE7C9;">Server: Initialization</span>

</div>
<div id="alg4.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span><math id="alg4.l3.m1.2" class="ltx_Math" alttext="\theta^{s},\theta^{w}\leftarrow" display="inline"><semantics id="alg4.l3.m1.2a"><mrow id="alg4.l3.m1.2.2" xref="alg4.l3.m1.2.2.cmml"><mrow id="alg4.l3.m1.2.2.2.2" xref="alg4.l3.m1.2.2.2.3.cmml"><msup id="alg4.l3.m1.1.1.1.1.1" xref="alg4.l3.m1.1.1.1.1.1.cmml"><mi id="alg4.l3.m1.1.1.1.1.1.2" xref="alg4.l3.m1.1.1.1.1.1.2.cmml">θ</mi><mi id="alg4.l3.m1.1.1.1.1.1.3" xref="alg4.l3.m1.1.1.1.1.1.3.cmml">s</mi></msup><mo id="alg4.l3.m1.2.2.2.2.3" xref="alg4.l3.m1.2.2.2.3.cmml">,</mo><msup id="alg4.l3.m1.2.2.2.2.2" xref="alg4.l3.m1.2.2.2.2.2.cmml"><mi id="alg4.l3.m1.2.2.2.2.2.2" xref="alg4.l3.m1.2.2.2.2.2.2.cmml">θ</mi><mi id="alg4.l3.m1.2.2.2.2.2.3" xref="alg4.l3.m1.2.2.2.2.2.3.cmml">w</mi></msup></mrow><mo stretchy="false" id="alg4.l3.m1.2.2.3" xref="alg4.l3.m1.2.2.3.cmml">←</mo><mi id="alg4.l3.m1.2.2.4" xref="alg4.l3.m1.2.2.4.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg4.l3.m1.2b"><apply id="alg4.l3.m1.2.2.cmml" xref="alg4.l3.m1.2.2"><ci id="alg4.l3.m1.2.2.3.cmml" xref="alg4.l3.m1.2.2.3">←</ci><list id="alg4.l3.m1.2.2.2.3.cmml" xref="alg4.l3.m1.2.2.2.2"><apply id="alg4.l3.m1.1.1.1.1.1.cmml" xref="alg4.l3.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg4.l3.m1.1.1.1.1.1.1.cmml" xref="alg4.l3.m1.1.1.1.1.1">superscript</csymbol><ci id="alg4.l3.m1.1.1.1.1.1.2.cmml" xref="alg4.l3.m1.1.1.1.1.1.2">𝜃</ci><ci id="alg4.l3.m1.1.1.1.1.1.3.cmml" xref="alg4.l3.m1.1.1.1.1.1.3">𝑠</ci></apply><apply id="alg4.l3.m1.2.2.2.2.2.cmml" xref="alg4.l3.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg4.l3.m1.2.2.2.2.2.1.cmml" xref="alg4.l3.m1.2.2.2.2.2">superscript</csymbol><ci id="alg4.l3.m1.2.2.2.2.2.2.cmml" xref="alg4.l3.m1.2.2.2.2.2.2">𝜃</ci><ci id="alg4.l3.m1.2.2.2.2.2.3.cmml" xref="alg4.l3.m1.2.2.2.2.2.3">𝑤</ci></apply></list><csymbol cd="latexml" id="alg4.l3.m1.2.2.4.cmml" xref="alg4.l3.m1.2.2.4">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l3.m1.2c">\theta^{s},\theta^{w}\leftarrow</annotation></semantics></math> Initialize random scores and weights of global model <math id="alg4.l3.m2.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="alg4.l3.m2.1a"><mi id="alg4.l3.m2.1.1" xref="alg4.l3.m2.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="alg4.l3.m2.1b"><ci id="alg4.l3.m2.1.1.cmml" xref="alg4.l3.m2.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l3.m2.1c">\theta</annotation></semantics></math> using <span id="alg4.l3.1" class="ltx_text ltx_font_smallcaps">seed</span>

</div>
<div id="alg4.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span><math id="alg4.l4.m1.1" class="ltx_Math" alttext="R_{g}^{1}\leftarrow\textsc{ArgSort}(\theta^{s})" display="inline"><semantics id="alg4.l4.m1.1a"><mrow id="alg4.l4.m1.1.1" xref="alg4.l4.m1.1.1.cmml"><msubsup id="alg4.l4.m1.1.1.3" xref="alg4.l4.m1.1.1.3.cmml"><mi id="alg4.l4.m1.1.1.3.2.2" xref="alg4.l4.m1.1.1.3.2.2.cmml">R</mi><mi id="alg4.l4.m1.1.1.3.2.3" xref="alg4.l4.m1.1.1.3.2.3.cmml">g</mi><mn id="alg4.l4.m1.1.1.3.3" xref="alg4.l4.m1.1.1.3.3.cmml">1</mn></msubsup><mo stretchy="false" id="alg4.l4.m1.1.1.2" xref="alg4.l4.m1.1.1.2.cmml">←</mo><mrow id="alg4.l4.m1.1.1.1" xref="alg4.l4.m1.1.1.1.cmml"><mtext class="ltx_font_smallcaps" id="alg4.l4.m1.1.1.1.3" xref="alg4.l4.m1.1.1.1.3a.cmml">ArgSort</mtext><mo lspace="0em" rspace="0em" id="alg4.l4.m1.1.1.1.2" xref="alg4.l4.m1.1.1.1.2.cmml">​</mo><mrow id="alg4.l4.m1.1.1.1.1.1" xref="alg4.l4.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg4.l4.m1.1.1.1.1.1.2" xref="alg4.l4.m1.1.1.1.1.1.1.cmml">(</mo><msup id="alg4.l4.m1.1.1.1.1.1.1" xref="alg4.l4.m1.1.1.1.1.1.1.cmml"><mi id="alg4.l4.m1.1.1.1.1.1.1.2" xref="alg4.l4.m1.1.1.1.1.1.1.2.cmml">θ</mi><mi id="alg4.l4.m1.1.1.1.1.1.1.3" xref="alg4.l4.m1.1.1.1.1.1.1.3.cmml">s</mi></msup><mo stretchy="false" id="alg4.l4.m1.1.1.1.1.1.3" xref="alg4.l4.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg4.l4.m1.1b"><apply id="alg4.l4.m1.1.1.cmml" xref="alg4.l4.m1.1.1"><ci id="alg4.l4.m1.1.1.2.cmml" xref="alg4.l4.m1.1.1.2">←</ci><apply id="alg4.l4.m1.1.1.3.cmml" xref="alg4.l4.m1.1.1.3"><csymbol cd="ambiguous" id="alg4.l4.m1.1.1.3.1.cmml" xref="alg4.l4.m1.1.1.3">superscript</csymbol><apply id="alg4.l4.m1.1.1.3.2.cmml" xref="alg4.l4.m1.1.1.3"><csymbol cd="ambiguous" id="alg4.l4.m1.1.1.3.2.1.cmml" xref="alg4.l4.m1.1.1.3">subscript</csymbol><ci id="alg4.l4.m1.1.1.3.2.2.cmml" xref="alg4.l4.m1.1.1.3.2.2">𝑅</ci><ci id="alg4.l4.m1.1.1.3.2.3.cmml" xref="alg4.l4.m1.1.1.3.2.3">𝑔</ci></apply><cn type="integer" id="alg4.l4.m1.1.1.3.3.cmml" xref="alg4.l4.m1.1.1.3.3">1</cn></apply><apply id="alg4.l4.m1.1.1.1.cmml" xref="alg4.l4.m1.1.1.1"><times id="alg4.l4.m1.1.1.1.2.cmml" xref="alg4.l4.m1.1.1.1.2"></times><ci id="alg4.l4.m1.1.1.1.3a.cmml" xref="alg4.l4.m1.1.1.1.3"><mtext class="ltx_font_smallcaps" id="alg4.l4.m1.1.1.1.3.cmml" xref="alg4.l4.m1.1.1.1.3">ArgSort</mtext></ci><apply id="alg4.l4.m1.1.1.1.1.1.1.cmml" xref="alg4.l4.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg4.l4.m1.1.1.1.1.1.1.1.cmml" xref="alg4.l4.m1.1.1.1.1.1">superscript</csymbol><ci id="alg4.l4.m1.1.1.1.1.1.1.2.cmml" xref="alg4.l4.m1.1.1.1.1.1.1.2">𝜃</ci><ci id="alg4.l4.m1.1.1.1.1.1.1.3.cmml" xref="alg4.l4.m1.1.1.1.1.1.1.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l4.m1.1c">R_{g}^{1}\leftarrow\textsc{ArgSort}(\theta^{s})</annotation></semantics></math> <span id="alg4.l4.1" class="ltx_text" style="float:right;"><math id="alg4.l4.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg4.l4.1.m1.1a"><mo id="alg4.l4.1.m1.1.1" xref="alg4.l4.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg4.l4.1.m1.1b"><ci id="alg4.l4.1.m1.1.1.cmml" xref="alg4.l4.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l4.1.m1.1c">\triangleright</annotation></semantics></math> Sort the initial scores and obtain initial rankings
</span>
</div>
<div id="alg4.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span><span id="alg4.l5.1" class="ltx_text ltx_font_bold">for</span> <math id="alg4.l5.m1.2" class="ltx_Math" alttext="t\in[1,T]" display="inline"><semantics id="alg4.l5.m1.2a"><mrow id="alg4.l5.m1.2.3" xref="alg4.l5.m1.2.3.cmml"><mi id="alg4.l5.m1.2.3.2" xref="alg4.l5.m1.2.3.2.cmml">t</mi><mo id="alg4.l5.m1.2.3.1" xref="alg4.l5.m1.2.3.1.cmml">∈</mo><mrow id="alg4.l5.m1.2.3.3.2" xref="alg4.l5.m1.2.3.3.1.cmml"><mo stretchy="false" id="alg4.l5.m1.2.3.3.2.1" xref="alg4.l5.m1.2.3.3.1.cmml">[</mo><mn id="alg4.l5.m1.1.1" xref="alg4.l5.m1.1.1.cmml">1</mn><mo id="alg4.l5.m1.2.3.3.2.2" xref="alg4.l5.m1.2.3.3.1.cmml">,</mo><mi id="alg4.l5.m1.2.2" xref="alg4.l5.m1.2.2.cmml">T</mi><mo stretchy="false" id="alg4.l5.m1.2.3.3.2.3" xref="alg4.l5.m1.2.3.3.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg4.l5.m1.2b"><apply id="alg4.l5.m1.2.3.cmml" xref="alg4.l5.m1.2.3"><in id="alg4.l5.m1.2.3.1.cmml" xref="alg4.l5.m1.2.3.1"></in><ci id="alg4.l5.m1.2.3.2.cmml" xref="alg4.l5.m1.2.3.2">𝑡</ci><interval closure="closed" id="alg4.l5.m1.2.3.3.1.cmml" xref="alg4.l5.m1.2.3.3.2"><cn type="integer" id="alg4.l5.m1.1.1.cmml" xref="alg4.l5.m1.1.1">1</cn><ci id="alg4.l5.m1.2.2.cmml" xref="alg4.l5.m1.2.2">𝑇</ci></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l5.m1.2c">t\in[1,T]</annotation></semantics></math> <span id="alg4.l5.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg4.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>     <math id="alg4.l6.m1.1" class="ltx_Math" alttext="U\leftarrow" display="inline"><semantics id="alg4.l6.m1.1a"><mrow id="alg4.l6.m1.1.1" xref="alg4.l6.m1.1.1.cmml"><mi id="alg4.l6.m1.1.1.2" xref="alg4.l6.m1.1.1.2.cmml">U</mi><mo stretchy="false" id="alg4.l6.m1.1.1.1" xref="alg4.l6.m1.1.1.1.cmml">←</mo><mi id="alg4.l6.m1.1.1.3" xref="alg4.l6.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg4.l6.m1.1b"><apply id="alg4.l6.m1.1.1.cmml" xref="alg4.l6.m1.1.1"><ci id="alg4.l6.m1.1.1.1.cmml" xref="alg4.l6.m1.1.1.1">←</ci><ci id="alg4.l6.m1.1.1.2.cmml" xref="alg4.l6.m1.1.1.2">𝑈</ci><csymbol cd="latexml" id="alg4.l6.m1.1.1.3.cmml" xref="alg4.l6.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l6.m1.1c">U\leftarrow</annotation></semantics></math> set of <math id="alg4.l6.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="alg4.l6.m2.1a"><mi id="alg4.l6.m2.1.1" xref="alg4.l6.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="alg4.l6.m2.1b"><ci id="alg4.l6.m2.1.1.cmml" xref="alg4.l6.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l6.m2.1c">n</annotation></semantics></math> randomly selected clients out of <math id="alg4.l6.m3.1" class="ltx_Math" alttext="N" display="inline"><semantics id="alg4.l6.m3.1a"><mi id="alg4.l6.m3.1.1" xref="alg4.l6.m3.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="alg4.l6.m3.1b"><ci id="alg4.l6.m3.1.1.cmml" xref="alg4.l6.m3.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l6.m3.1c">N</annotation></semantics></math> total clients

</div>
<div id="alg4.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>     <span id="alg4.l7.1" class="ltx_text ltx_font_bold">for</span> <math id="alg4.l7.m1.1" class="ltx_Math" alttext="u" display="inline"><semantics id="alg4.l7.m1.1a"><mi id="alg4.l7.m1.1.1" xref="alg4.l7.m1.1.1.cmml">u</mi><annotation-xml encoding="MathML-Content" id="alg4.l7.m1.1b"><ci id="alg4.l7.m1.1.1.cmml" xref="alg4.l7.m1.1.1">𝑢</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l7.m1.1c">u</annotation></semantics></math> in <math id="alg4.l7.m2.1" class="ltx_Math" alttext="U" display="inline"><semantics id="alg4.l7.m2.1a"><mi id="alg4.l7.m2.1.1" xref="alg4.l7.m2.1.1.cmml">U</mi><annotation-xml encoding="MathML-Content" id="alg4.l7.m2.1b"><ci id="alg4.l7.m2.1.1.cmml" xref="alg4.l7.m2.1.1">𝑈</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l7.m2.1c">U</annotation></semantics></math> <span id="alg4.l7.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg4.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span>         <span id="alg4.l8.1" class="ltx_text" style="background-color:#C3D8EA;">Clients: Calculating the ranks</span>

</div>
<div id="alg4.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span>         <math id="alg4.l9.m1.2" class="ltx_Math" alttext="\theta^{s},\theta^{w}\leftarrow" display="inline"><semantics id="alg4.l9.m1.2a"><mrow id="alg4.l9.m1.2.2" xref="alg4.l9.m1.2.2.cmml"><mrow id="alg4.l9.m1.2.2.2.2" xref="alg4.l9.m1.2.2.2.3.cmml"><msup id="alg4.l9.m1.1.1.1.1.1" xref="alg4.l9.m1.1.1.1.1.1.cmml"><mi id="alg4.l9.m1.1.1.1.1.1.2" xref="alg4.l9.m1.1.1.1.1.1.2.cmml">θ</mi><mi id="alg4.l9.m1.1.1.1.1.1.3" xref="alg4.l9.m1.1.1.1.1.1.3.cmml">s</mi></msup><mo id="alg4.l9.m1.2.2.2.2.3" xref="alg4.l9.m1.2.2.2.3.cmml">,</mo><msup id="alg4.l9.m1.2.2.2.2.2" xref="alg4.l9.m1.2.2.2.2.2.cmml"><mi id="alg4.l9.m1.2.2.2.2.2.2" xref="alg4.l9.m1.2.2.2.2.2.2.cmml">θ</mi><mi id="alg4.l9.m1.2.2.2.2.2.3" xref="alg4.l9.m1.2.2.2.2.2.3.cmml">w</mi></msup></mrow><mo stretchy="false" id="alg4.l9.m1.2.2.3" xref="alg4.l9.m1.2.2.3.cmml">←</mo><mi id="alg4.l9.m1.2.2.4" xref="alg4.l9.m1.2.2.4.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg4.l9.m1.2b"><apply id="alg4.l9.m1.2.2.cmml" xref="alg4.l9.m1.2.2"><ci id="alg4.l9.m1.2.2.3.cmml" xref="alg4.l9.m1.2.2.3">←</ci><list id="alg4.l9.m1.2.2.2.3.cmml" xref="alg4.l9.m1.2.2.2.2"><apply id="alg4.l9.m1.1.1.1.1.1.cmml" xref="alg4.l9.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg4.l9.m1.1.1.1.1.1.1.cmml" xref="alg4.l9.m1.1.1.1.1.1">superscript</csymbol><ci id="alg4.l9.m1.1.1.1.1.1.2.cmml" xref="alg4.l9.m1.1.1.1.1.1.2">𝜃</ci><ci id="alg4.l9.m1.1.1.1.1.1.3.cmml" xref="alg4.l9.m1.1.1.1.1.1.3">𝑠</ci></apply><apply id="alg4.l9.m1.2.2.2.2.2.cmml" xref="alg4.l9.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="alg4.l9.m1.2.2.2.2.2.1.cmml" xref="alg4.l9.m1.2.2.2.2.2">superscript</csymbol><ci id="alg4.l9.m1.2.2.2.2.2.2.cmml" xref="alg4.l9.m1.2.2.2.2.2.2">𝜃</ci><ci id="alg4.l9.m1.2.2.2.2.2.3.cmml" xref="alg4.l9.m1.2.2.2.2.2.3">𝑤</ci></apply></list><csymbol cd="latexml" id="alg4.l9.m1.2.2.4.cmml" xref="alg4.l9.m1.2.2.4">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l9.m1.2c">\theta^{s},\theta^{w}\leftarrow</annotation></semantics></math> Initialize scores and weights using <span id="alg4.l9.1" class="ltx_text ltx_font_smallcaps">seed</span>

</div>
<div id="alg4.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span>         <math id="alg4.l10.m1.2" class="ltx_Math" alttext="\theta^{s}[R_{g}^{t}]\leftarrow\textsc{sort}(\theta^{s})" display="inline"><semantics id="alg4.l10.m1.2a"><mrow id="alg4.l10.m1.2.2" xref="alg4.l10.m1.2.2.cmml"><mrow id="alg4.l10.m1.1.1.1" xref="alg4.l10.m1.1.1.1.cmml"><msup id="alg4.l10.m1.1.1.1.3" xref="alg4.l10.m1.1.1.1.3.cmml"><mi id="alg4.l10.m1.1.1.1.3.2" xref="alg4.l10.m1.1.1.1.3.2.cmml">θ</mi><mi id="alg4.l10.m1.1.1.1.3.3" xref="alg4.l10.m1.1.1.1.3.3.cmml">s</mi></msup><mo lspace="0em" rspace="0em" id="alg4.l10.m1.1.1.1.2" xref="alg4.l10.m1.1.1.1.2.cmml">​</mo><mrow id="alg4.l10.m1.1.1.1.1.1" xref="alg4.l10.m1.1.1.1.1.2.cmml"><mo stretchy="false" id="alg4.l10.m1.1.1.1.1.1.2" xref="alg4.l10.m1.1.1.1.1.2.1.cmml">[</mo><msubsup id="alg4.l10.m1.1.1.1.1.1.1" xref="alg4.l10.m1.1.1.1.1.1.1.cmml"><mi id="alg4.l10.m1.1.1.1.1.1.1.2.2" xref="alg4.l10.m1.1.1.1.1.1.1.2.2.cmml">R</mi><mi id="alg4.l10.m1.1.1.1.1.1.1.2.3" xref="alg4.l10.m1.1.1.1.1.1.1.2.3.cmml">g</mi><mi id="alg4.l10.m1.1.1.1.1.1.1.3" xref="alg4.l10.m1.1.1.1.1.1.1.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg4.l10.m1.1.1.1.1.1.3" xref="alg4.l10.m1.1.1.1.1.2.1.cmml">]</mo></mrow></mrow><mo stretchy="false" id="alg4.l10.m1.2.2.3" xref="alg4.l10.m1.2.2.3.cmml">←</mo><mrow id="alg4.l10.m1.2.2.2" xref="alg4.l10.m1.2.2.2.cmml"><mtext class="ltx_font_smallcaps" id="alg4.l10.m1.2.2.2.3" xref="alg4.l10.m1.2.2.2.3a.cmml">sort</mtext><mo lspace="0em" rspace="0em" id="alg4.l10.m1.2.2.2.2" xref="alg4.l10.m1.2.2.2.2.cmml">​</mo><mrow id="alg4.l10.m1.2.2.2.1.1" xref="alg4.l10.m1.2.2.2.1.1.1.cmml"><mo stretchy="false" id="alg4.l10.m1.2.2.2.1.1.2" xref="alg4.l10.m1.2.2.2.1.1.1.cmml">(</mo><msup id="alg4.l10.m1.2.2.2.1.1.1" xref="alg4.l10.m1.2.2.2.1.1.1.cmml"><mi id="alg4.l10.m1.2.2.2.1.1.1.2" xref="alg4.l10.m1.2.2.2.1.1.1.2.cmml">θ</mi><mi id="alg4.l10.m1.2.2.2.1.1.1.3" xref="alg4.l10.m1.2.2.2.1.1.1.3.cmml">s</mi></msup><mo stretchy="false" id="alg4.l10.m1.2.2.2.1.1.3" xref="alg4.l10.m1.2.2.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg4.l10.m1.2b"><apply id="alg4.l10.m1.2.2.cmml" xref="alg4.l10.m1.2.2"><ci id="alg4.l10.m1.2.2.3.cmml" xref="alg4.l10.m1.2.2.3">←</ci><apply id="alg4.l10.m1.1.1.1.cmml" xref="alg4.l10.m1.1.1.1"><times id="alg4.l10.m1.1.1.1.2.cmml" xref="alg4.l10.m1.1.1.1.2"></times><apply id="alg4.l10.m1.1.1.1.3.cmml" xref="alg4.l10.m1.1.1.1.3"><csymbol cd="ambiguous" id="alg4.l10.m1.1.1.1.3.1.cmml" xref="alg4.l10.m1.1.1.1.3">superscript</csymbol><ci id="alg4.l10.m1.1.1.1.3.2.cmml" xref="alg4.l10.m1.1.1.1.3.2">𝜃</ci><ci id="alg4.l10.m1.1.1.1.3.3.cmml" xref="alg4.l10.m1.1.1.1.3.3">𝑠</ci></apply><apply id="alg4.l10.m1.1.1.1.1.2.cmml" xref="alg4.l10.m1.1.1.1.1.1"><csymbol cd="latexml" id="alg4.l10.m1.1.1.1.1.2.1.cmml" xref="alg4.l10.m1.1.1.1.1.1.2">delimited-[]</csymbol><apply id="alg4.l10.m1.1.1.1.1.1.1.cmml" xref="alg4.l10.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg4.l10.m1.1.1.1.1.1.1.1.cmml" xref="alg4.l10.m1.1.1.1.1.1.1">superscript</csymbol><apply id="alg4.l10.m1.1.1.1.1.1.1.2.cmml" xref="alg4.l10.m1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg4.l10.m1.1.1.1.1.1.1.2.1.cmml" xref="alg4.l10.m1.1.1.1.1.1.1">subscript</csymbol><ci id="alg4.l10.m1.1.1.1.1.1.1.2.2.cmml" xref="alg4.l10.m1.1.1.1.1.1.1.2.2">𝑅</ci><ci id="alg4.l10.m1.1.1.1.1.1.1.2.3.cmml" xref="alg4.l10.m1.1.1.1.1.1.1.2.3">𝑔</ci></apply><ci id="alg4.l10.m1.1.1.1.1.1.1.3.cmml" xref="alg4.l10.m1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply><apply id="alg4.l10.m1.2.2.2.cmml" xref="alg4.l10.m1.2.2.2"><times id="alg4.l10.m1.2.2.2.2.cmml" xref="alg4.l10.m1.2.2.2.2"></times><ci id="alg4.l10.m1.2.2.2.3a.cmml" xref="alg4.l10.m1.2.2.2.3"><mtext class="ltx_font_smallcaps" id="alg4.l10.m1.2.2.2.3.cmml" xref="alg4.l10.m1.2.2.2.3">sort</mtext></ci><apply id="alg4.l10.m1.2.2.2.1.1.1.cmml" xref="alg4.l10.m1.2.2.2.1.1"><csymbol cd="ambiguous" id="alg4.l10.m1.2.2.2.1.1.1.1.cmml" xref="alg4.l10.m1.2.2.2.1.1">superscript</csymbol><ci id="alg4.l10.m1.2.2.2.1.1.1.2.cmml" xref="alg4.l10.m1.2.2.2.1.1.1.2">𝜃</ci><ci id="alg4.l10.m1.2.2.2.1.1.1.3.cmml" xref="alg4.l10.m1.2.2.2.1.1.1.3">𝑠</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l10.m1.2c">\theta^{s}[R_{g}^{t}]\leftarrow\textsc{sort}(\theta^{s})</annotation></semantics></math> <span id="alg4.l10.1" class="ltx_text" style="float:right;"><math id="alg4.l10.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg4.l10.1.m1.1a"><mo id="alg4.l10.1.m1.1.1" xref="alg4.l10.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg4.l10.1.m1.1b"><ci id="alg4.l10.1.m1.1.1.cmml" xref="alg4.l10.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l10.1.m1.1c">\triangleright</annotation></semantics></math> sort the scores based on the global ranking
</span>
</div>
<div id="alg4.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>         <math id="alg4.l11.m1.1" class="ltx_Math" alttext="S\leftarrow" display="inline"><semantics id="alg4.l11.m1.1a"><mrow id="alg4.l11.m1.1.1" xref="alg4.l11.m1.1.1.cmml"><mi id="alg4.l11.m1.1.1.2" xref="alg4.l11.m1.1.1.2.cmml">S</mi><mo stretchy="false" id="alg4.l11.m1.1.1.1" xref="alg4.l11.m1.1.1.1.cmml">←</mo><mi id="alg4.l11.m1.1.1.3" xref="alg4.l11.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg4.l11.m1.1b"><apply id="alg4.l11.m1.1.1.cmml" xref="alg4.l11.m1.1.1"><ci id="alg4.l11.m1.1.1.1.cmml" xref="alg4.l11.m1.1.1.1">←</ci><ci id="alg4.l11.m1.1.1.2.cmml" xref="alg4.l11.m1.1.1.2">𝑆</ci><csymbol cd="latexml" id="alg4.l11.m1.1.1.3.cmml" xref="alg4.l11.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l11.m1.1c">S\leftarrow</annotation></semantics></math> Edge-PopUp(<math id="alg4.l11.m2.6" class="ltx_Math" alttext="E,D_{u}^{tr},\theta^{w},\theta^{s},k,\eta" display="inline"><semantics id="alg4.l11.m2.6a"><mrow id="alg4.l11.m2.6.6.3" xref="alg4.l11.m2.6.6.4.cmml"><mi id="alg4.l11.m2.1.1" xref="alg4.l11.m2.1.1.cmml">E</mi><mo id="alg4.l11.m2.6.6.3.4" xref="alg4.l11.m2.6.6.4.cmml">,</mo><msubsup id="alg4.l11.m2.4.4.1.1" xref="alg4.l11.m2.4.4.1.1.cmml"><mi id="alg4.l11.m2.4.4.1.1.2.2" xref="alg4.l11.m2.4.4.1.1.2.2.cmml">D</mi><mi id="alg4.l11.m2.4.4.1.1.2.3" xref="alg4.l11.m2.4.4.1.1.2.3.cmml">u</mi><mrow id="alg4.l11.m2.4.4.1.1.3" xref="alg4.l11.m2.4.4.1.1.3.cmml"><mi id="alg4.l11.m2.4.4.1.1.3.2" xref="alg4.l11.m2.4.4.1.1.3.2.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg4.l11.m2.4.4.1.1.3.1" xref="alg4.l11.m2.4.4.1.1.3.1.cmml">​</mo><mi id="alg4.l11.m2.4.4.1.1.3.3" xref="alg4.l11.m2.4.4.1.1.3.3.cmml">r</mi></mrow></msubsup><mo id="alg4.l11.m2.6.6.3.5" xref="alg4.l11.m2.6.6.4.cmml">,</mo><msup id="alg4.l11.m2.5.5.2.2" xref="alg4.l11.m2.5.5.2.2.cmml"><mi id="alg4.l11.m2.5.5.2.2.2" xref="alg4.l11.m2.5.5.2.2.2.cmml">θ</mi><mi id="alg4.l11.m2.5.5.2.2.3" xref="alg4.l11.m2.5.5.2.2.3.cmml">w</mi></msup><mo id="alg4.l11.m2.6.6.3.6" xref="alg4.l11.m2.6.6.4.cmml">,</mo><msup id="alg4.l11.m2.6.6.3.3" xref="alg4.l11.m2.6.6.3.3.cmml"><mi id="alg4.l11.m2.6.6.3.3.2" xref="alg4.l11.m2.6.6.3.3.2.cmml">θ</mi><mi id="alg4.l11.m2.6.6.3.3.3" xref="alg4.l11.m2.6.6.3.3.3.cmml">s</mi></msup><mo id="alg4.l11.m2.6.6.3.7" xref="alg4.l11.m2.6.6.4.cmml">,</mo><mi id="alg4.l11.m2.2.2" xref="alg4.l11.m2.2.2.cmml">k</mi><mo id="alg4.l11.m2.6.6.3.8" xref="alg4.l11.m2.6.6.4.cmml">,</mo><mi id="alg4.l11.m2.3.3" xref="alg4.l11.m2.3.3.cmml">η</mi></mrow><annotation-xml encoding="MathML-Content" id="alg4.l11.m2.6b"><list id="alg4.l11.m2.6.6.4.cmml" xref="alg4.l11.m2.6.6.3"><ci id="alg4.l11.m2.1.1.cmml" xref="alg4.l11.m2.1.1">𝐸</ci><apply id="alg4.l11.m2.4.4.1.1.cmml" xref="alg4.l11.m2.4.4.1.1"><csymbol cd="ambiguous" id="alg4.l11.m2.4.4.1.1.1.cmml" xref="alg4.l11.m2.4.4.1.1">superscript</csymbol><apply id="alg4.l11.m2.4.4.1.1.2.cmml" xref="alg4.l11.m2.4.4.1.1"><csymbol cd="ambiguous" id="alg4.l11.m2.4.4.1.1.2.1.cmml" xref="alg4.l11.m2.4.4.1.1">subscript</csymbol><ci id="alg4.l11.m2.4.4.1.1.2.2.cmml" xref="alg4.l11.m2.4.4.1.1.2.2">𝐷</ci><ci id="alg4.l11.m2.4.4.1.1.2.3.cmml" xref="alg4.l11.m2.4.4.1.1.2.3">𝑢</ci></apply><apply id="alg4.l11.m2.4.4.1.1.3.cmml" xref="alg4.l11.m2.4.4.1.1.3"><times id="alg4.l11.m2.4.4.1.1.3.1.cmml" xref="alg4.l11.m2.4.4.1.1.3.1"></times><ci id="alg4.l11.m2.4.4.1.1.3.2.cmml" xref="alg4.l11.m2.4.4.1.1.3.2">𝑡</ci><ci id="alg4.l11.m2.4.4.1.1.3.3.cmml" xref="alg4.l11.m2.4.4.1.1.3.3">𝑟</ci></apply></apply><apply id="alg4.l11.m2.5.5.2.2.cmml" xref="alg4.l11.m2.5.5.2.2"><csymbol cd="ambiguous" id="alg4.l11.m2.5.5.2.2.1.cmml" xref="alg4.l11.m2.5.5.2.2">superscript</csymbol><ci id="alg4.l11.m2.5.5.2.2.2.cmml" xref="alg4.l11.m2.5.5.2.2.2">𝜃</ci><ci id="alg4.l11.m2.5.5.2.2.3.cmml" xref="alg4.l11.m2.5.5.2.2.3">𝑤</ci></apply><apply id="alg4.l11.m2.6.6.3.3.cmml" xref="alg4.l11.m2.6.6.3.3"><csymbol cd="ambiguous" id="alg4.l11.m2.6.6.3.3.1.cmml" xref="alg4.l11.m2.6.6.3.3">superscript</csymbol><ci id="alg4.l11.m2.6.6.3.3.2.cmml" xref="alg4.l11.m2.6.6.3.3.2">𝜃</ci><ci id="alg4.l11.m2.6.6.3.3.3.cmml" xref="alg4.l11.m2.6.6.3.3.3">𝑠</ci></apply><ci id="alg4.l11.m2.2.2.cmml" xref="alg4.l11.m2.2.2">𝑘</ci><ci id="alg4.l11.m2.3.3.cmml" xref="alg4.l11.m2.3.3">𝜂</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg4.l11.m2.6c">E,D_{u}^{tr},\theta^{w},\theta^{s},k,\eta</annotation></semantics></math>) <span id="alg4.l11.1" class="ltx_text" style="float:right;"><math id="alg4.l11.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg4.l11.1.m1.1a"><mo id="alg4.l11.1.m1.1.1" xref="alg4.l11.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg4.l11.1.m1.1b"><ci id="alg4.l11.1.m1.1.1.cmml" xref="alg4.l11.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l11.1.m1.1c">\triangleright</annotation></semantics></math> Client u uses Algorithm<a href="#alg5" title="Algorithm 5 ‣ Appendix D Missing Details of Federated Rank Learning (FRL) ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> to train a supermask on its local training data
</span>
</div>
<div id="alg4.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>         <math id="alg4.l12.m1.1" class="ltx_Math" alttext="R_{u}^{t}\leftarrow\textsc{ArgSort}(S)" display="inline"><semantics id="alg4.l12.m1.1a"><mrow id="alg4.l12.m1.1.2" xref="alg4.l12.m1.1.2.cmml"><msubsup id="alg4.l12.m1.1.2.2" xref="alg4.l12.m1.1.2.2.cmml"><mi id="alg4.l12.m1.1.2.2.2.2" xref="alg4.l12.m1.1.2.2.2.2.cmml">R</mi><mi id="alg4.l12.m1.1.2.2.2.3" xref="alg4.l12.m1.1.2.2.2.3.cmml">u</mi><mi id="alg4.l12.m1.1.2.2.3" xref="alg4.l12.m1.1.2.2.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg4.l12.m1.1.2.1" xref="alg4.l12.m1.1.2.1.cmml">←</mo><mrow id="alg4.l12.m1.1.2.3" xref="alg4.l12.m1.1.2.3.cmml"><mtext class="ltx_font_smallcaps" id="alg4.l12.m1.1.2.3.2" xref="alg4.l12.m1.1.2.3.2a.cmml">ArgSort</mtext><mo lspace="0em" rspace="0em" id="alg4.l12.m1.1.2.3.1" xref="alg4.l12.m1.1.2.3.1.cmml">​</mo><mrow id="alg4.l12.m1.1.2.3.3.2" xref="alg4.l12.m1.1.2.3.cmml"><mo stretchy="false" id="alg4.l12.m1.1.2.3.3.2.1" xref="alg4.l12.m1.1.2.3.cmml">(</mo><mi id="alg4.l12.m1.1.1" xref="alg4.l12.m1.1.1.cmml">S</mi><mo stretchy="false" id="alg4.l12.m1.1.2.3.3.2.2" xref="alg4.l12.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg4.l12.m1.1b"><apply id="alg4.l12.m1.1.2.cmml" xref="alg4.l12.m1.1.2"><ci id="alg4.l12.m1.1.2.1.cmml" xref="alg4.l12.m1.1.2.1">←</ci><apply id="alg4.l12.m1.1.2.2.cmml" xref="alg4.l12.m1.1.2.2"><csymbol cd="ambiguous" id="alg4.l12.m1.1.2.2.1.cmml" xref="alg4.l12.m1.1.2.2">superscript</csymbol><apply id="alg4.l12.m1.1.2.2.2.cmml" xref="alg4.l12.m1.1.2.2"><csymbol cd="ambiguous" id="alg4.l12.m1.1.2.2.2.1.cmml" xref="alg4.l12.m1.1.2.2">subscript</csymbol><ci id="alg4.l12.m1.1.2.2.2.2.cmml" xref="alg4.l12.m1.1.2.2.2.2">𝑅</ci><ci id="alg4.l12.m1.1.2.2.2.3.cmml" xref="alg4.l12.m1.1.2.2.2.3">𝑢</ci></apply><ci id="alg4.l12.m1.1.2.2.3.cmml" xref="alg4.l12.m1.1.2.2.3">𝑡</ci></apply><apply id="alg4.l12.m1.1.2.3.cmml" xref="alg4.l12.m1.1.2.3"><times id="alg4.l12.m1.1.2.3.1.cmml" xref="alg4.l12.m1.1.2.3.1"></times><ci id="alg4.l12.m1.1.2.3.2a.cmml" xref="alg4.l12.m1.1.2.3.2"><mtext class="ltx_font_smallcaps" id="alg4.l12.m1.1.2.3.2.cmml" xref="alg4.l12.m1.1.2.3.2">ArgSort</mtext></ci><ci id="alg4.l12.m1.1.1.cmml" xref="alg4.l12.m1.1.1">𝑆</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l12.m1.1c">R_{u}^{t}\leftarrow\textsc{ArgSort}(S)</annotation></semantics></math> <span id="alg4.l12.1" class="ltx_text" style="float:right;"><math id="alg4.l12.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg4.l12.1.m1.1a"><mo id="alg4.l12.1.m1.1.1" xref="alg4.l12.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg4.l12.1.m1.1b"><ci id="alg4.l12.1.m1.1.1.cmml" xref="alg4.l12.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l12.1.m1.1c">\triangleright</annotation></semantics></math> Ranking of the client
</span>
</div>
<div id="alg4.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>     <span id="alg4.l13.1" class="ltx_text ltx_font_bold">end</span> <span id="alg4.l13.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg4.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>     <span id="alg4.l14.1" class="ltx_text" style="background-color:#CAE7C9;">Server: Majority Vote</span>

</div>
<div id="alg4.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15:</span>     <math id="alg4.l15.m1.1" class="ltx_Math" alttext="R_{g}^{t+1}\leftarrow\textsc{Vote}(R_{u\in U}^{t})" display="inline"><semantics id="alg4.l15.m1.1a"><mrow id="alg4.l15.m1.1.1" xref="alg4.l15.m1.1.1.cmml"><msubsup id="alg4.l15.m1.1.1.3" xref="alg4.l15.m1.1.1.3.cmml"><mi id="alg4.l15.m1.1.1.3.2.2" xref="alg4.l15.m1.1.1.3.2.2.cmml">R</mi><mi id="alg4.l15.m1.1.1.3.2.3" xref="alg4.l15.m1.1.1.3.2.3.cmml">g</mi><mrow id="alg4.l15.m1.1.1.3.3" xref="alg4.l15.m1.1.1.3.3.cmml"><mi id="alg4.l15.m1.1.1.3.3.2" xref="alg4.l15.m1.1.1.3.3.2.cmml">t</mi><mo id="alg4.l15.m1.1.1.3.3.1" xref="alg4.l15.m1.1.1.3.3.1.cmml">+</mo><mn id="alg4.l15.m1.1.1.3.3.3" xref="alg4.l15.m1.1.1.3.3.3.cmml">1</mn></mrow></msubsup><mo stretchy="false" id="alg4.l15.m1.1.1.2" xref="alg4.l15.m1.1.1.2.cmml">←</mo><mrow id="alg4.l15.m1.1.1.1" xref="alg4.l15.m1.1.1.1.cmml"><mtext class="ltx_font_smallcaps" id="alg4.l15.m1.1.1.1.3" xref="alg4.l15.m1.1.1.1.3a.cmml">Vote</mtext><mo lspace="0em" rspace="0em" id="alg4.l15.m1.1.1.1.2" xref="alg4.l15.m1.1.1.1.2.cmml">​</mo><mrow id="alg4.l15.m1.1.1.1.1.1" xref="alg4.l15.m1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg4.l15.m1.1.1.1.1.1.2" xref="alg4.l15.m1.1.1.1.1.1.1.cmml">(</mo><msubsup id="alg4.l15.m1.1.1.1.1.1.1" xref="alg4.l15.m1.1.1.1.1.1.1.cmml"><mi id="alg4.l15.m1.1.1.1.1.1.1.2.2" xref="alg4.l15.m1.1.1.1.1.1.1.2.2.cmml">R</mi><mrow id="alg4.l15.m1.1.1.1.1.1.1.2.3" xref="alg4.l15.m1.1.1.1.1.1.1.2.3.cmml"><mi id="alg4.l15.m1.1.1.1.1.1.1.2.3.2" xref="alg4.l15.m1.1.1.1.1.1.1.2.3.2.cmml">u</mi><mo id="alg4.l15.m1.1.1.1.1.1.1.2.3.1" xref="alg4.l15.m1.1.1.1.1.1.1.2.3.1.cmml">∈</mo><mi id="alg4.l15.m1.1.1.1.1.1.1.2.3.3" xref="alg4.l15.m1.1.1.1.1.1.1.2.3.3.cmml">U</mi></mrow><mi id="alg4.l15.m1.1.1.1.1.1.1.3" xref="alg4.l15.m1.1.1.1.1.1.1.3.cmml">t</mi></msubsup><mo stretchy="false" id="alg4.l15.m1.1.1.1.1.1.3" xref="alg4.l15.m1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg4.l15.m1.1b"><apply id="alg4.l15.m1.1.1.cmml" xref="alg4.l15.m1.1.1"><ci id="alg4.l15.m1.1.1.2.cmml" xref="alg4.l15.m1.1.1.2">←</ci><apply id="alg4.l15.m1.1.1.3.cmml" xref="alg4.l15.m1.1.1.3"><csymbol cd="ambiguous" id="alg4.l15.m1.1.1.3.1.cmml" xref="alg4.l15.m1.1.1.3">superscript</csymbol><apply id="alg4.l15.m1.1.1.3.2.cmml" xref="alg4.l15.m1.1.1.3"><csymbol cd="ambiguous" id="alg4.l15.m1.1.1.3.2.1.cmml" xref="alg4.l15.m1.1.1.3">subscript</csymbol><ci id="alg4.l15.m1.1.1.3.2.2.cmml" xref="alg4.l15.m1.1.1.3.2.2">𝑅</ci><ci id="alg4.l15.m1.1.1.3.2.3.cmml" xref="alg4.l15.m1.1.1.3.2.3">𝑔</ci></apply><apply id="alg4.l15.m1.1.1.3.3.cmml" xref="alg4.l15.m1.1.1.3.3"><plus id="alg4.l15.m1.1.1.3.3.1.cmml" xref="alg4.l15.m1.1.1.3.3.1"></plus><ci id="alg4.l15.m1.1.1.3.3.2.cmml" xref="alg4.l15.m1.1.1.3.3.2">𝑡</ci><cn type="integer" id="alg4.l15.m1.1.1.3.3.3.cmml" xref="alg4.l15.m1.1.1.3.3.3">1</cn></apply></apply><apply id="alg4.l15.m1.1.1.1.cmml" xref="alg4.l15.m1.1.1.1"><times id="alg4.l15.m1.1.1.1.2.cmml" xref="alg4.l15.m1.1.1.1.2"></times><ci id="alg4.l15.m1.1.1.1.3a.cmml" xref="alg4.l15.m1.1.1.1.3"><mtext class="ltx_font_smallcaps" id="alg4.l15.m1.1.1.1.3.cmml" xref="alg4.l15.m1.1.1.1.3">Vote</mtext></ci><apply id="alg4.l15.m1.1.1.1.1.1.1.cmml" xref="alg4.l15.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg4.l15.m1.1.1.1.1.1.1.1.cmml" xref="alg4.l15.m1.1.1.1.1.1">superscript</csymbol><apply id="alg4.l15.m1.1.1.1.1.1.1.2.cmml" xref="alg4.l15.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="alg4.l15.m1.1.1.1.1.1.1.2.1.cmml" xref="alg4.l15.m1.1.1.1.1.1">subscript</csymbol><ci id="alg4.l15.m1.1.1.1.1.1.1.2.2.cmml" xref="alg4.l15.m1.1.1.1.1.1.1.2.2">𝑅</ci><apply id="alg4.l15.m1.1.1.1.1.1.1.2.3.cmml" xref="alg4.l15.m1.1.1.1.1.1.1.2.3"><in id="alg4.l15.m1.1.1.1.1.1.1.2.3.1.cmml" xref="alg4.l15.m1.1.1.1.1.1.1.2.3.1"></in><ci id="alg4.l15.m1.1.1.1.1.1.1.2.3.2.cmml" xref="alg4.l15.m1.1.1.1.1.1.1.2.3.2">𝑢</ci><ci id="alg4.l15.m1.1.1.1.1.1.1.2.3.3.cmml" xref="alg4.l15.m1.1.1.1.1.1.1.2.3.3">𝑈</ci></apply></apply><ci id="alg4.l15.m1.1.1.1.1.1.1.3.cmml" xref="alg4.l15.m1.1.1.1.1.1.1.3">𝑡</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l15.m1.1c">R_{g}^{t+1}\leftarrow\textsc{Vote}(R_{u\in U}^{t})</annotation></semantics></math> <span id="alg4.l15.1" class="ltx_text" style="float:right;"><math id="alg4.l15.1.m1.1" class="ltx_Math" alttext="\triangleright" display="inline"><semantics id="alg4.l15.1.m1.1a"><mo id="alg4.l15.1.m1.1.1" xref="alg4.l15.1.m1.1.1.cmml">▷</mo><annotation-xml encoding="MathML-Content" id="alg4.l15.1.m1.1b"><ci id="alg4.l15.1.m1.1.1.cmml" xref="alg4.l15.1.m1.1.1">▷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg4.l15.1.m1.1c">\triangleright</annotation></semantics></math> Majority vote aggregation
</span>
</div>
<div id="alg4.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16:</span><span id="alg4.l16.1" class="ltx_text ltx_font_bold">end</span> <span id="alg4.l16.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg4.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17:</span><span id="alg4.l17.1" class="ltx_text ltx_font_bold">function</span> <span id="alg4.l17.2" class="ltx_text ltx_font_smallcaps">Vote</span>(<math id="alg4.l17.m1.1" class="ltx_Math" alttext="R_{\{u\in U\}}" display="inline"><semantics id="alg4.l17.m1.1a"><msub id="alg4.l17.m1.1.2" xref="alg4.l17.m1.1.2.cmml"><mi id="alg4.l17.m1.1.2.2" xref="alg4.l17.m1.1.2.2.cmml">R</mi><mrow id="alg4.l17.m1.1.1.1.1" xref="alg4.l17.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg4.l17.m1.1.1.1.1.2" xref="alg4.l17.m1.1.1.1.2.cmml">{</mo><mrow id="alg4.l17.m1.1.1.1.1.1" xref="alg4.l17.m1.1.1.1.1.1.cmml"><mi id="alg4.l17.m1.1.1.1.1.1.2" xref="alg4.l17.m1.1.1.1.1.1.2.cmml">u</mi><mo id="alg4.l17.m1.1.1.1.1.1.1" xref="alg4.l17.m1.1.1.1.1.1.1.cmml">∈</mo><mi id="alg4.l17.m1.1.1.1.1.1.3" xref="alg4.l17.m1.1.1.1.1.1.3.cmml">U</mi></mrow><mo stretchy="false" id="alg4.l17.m1.1.1.1.1.3" xref="alg4.l17.m1.1.1.1.2.cmml">}</mo></mrow></msub><annotation-xml encoding="MathML-Content" id="alg4.l17.m1.1b"><apply id="alg4.l17.m1.1.2.cmml" xref="alg4.l17.m1.1.2"><csymbol cd="ambiguous" id="alg4.l17.m1.1.2.1.cmml" xref="alg4.l17.m1.1.2">subscript</csymbol><ci id="alg4.l17.m1.1.2.2.cmml" xref="alg4.l17.m1.1.2.2">𝑅</ci><set id="alg4.l17.m1.1.1.1.2.cmml" xref="alg4.l17.m1.1.1.1.1"><apply id="alg4.l17.m1.1.1.1.1.1.cmml" xref="alg4.l17.m1.1.1.1.1.1"><in id="alg4.l17.m1.1.1.1.1.1.1.cmml" xref="alg4.l17.m1.1.1.1.1.1.1"></in><ci id="alg4.l17.m1.1.1.1.1.1.2.cmml" xref="alg4.l17.m1.1.1.1.1.1.2">𝑢</ci><ci id="alg4.l17.m1.1.1.1.1.1.3.cmml" xref="alg4.l17.m1.1.1.1.1.1.3">𝑈</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l17.m1.1c">R_{\{u\in U\}}</annotation></semantics></math> ):

</div>
<div id="alg4.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">18:</span>     <math id="alg4.l18.m1.2" class="ltx_Math" alttext="V\leftarrow\textsc{ArgSort}(R_{\{u\in U\}})" display="inline"><semantics id="alg4.l18.m1.2a"><mrow id="alg4.l18.m1.2.2" xref="alg4.l18.m1.2.2.cmml"><mi id="alg4.l18.m1.2.2.3" xref="alg4.l18.m1.2.2.3.cmml">V</mi><mo stretchy="false" id="alg4.l18.m1.2.2.2" xref="alg4.l18.m1.2.2.2.cmml">←</mo><mrow id="alg4.l18.m1.2.2.1" xref="alg4.l18.m1.2.2.1.cmml"><mtext class="ltx_font_smallcaps" id="alg4.l18.m1.2.2.1.3" xref="alg4.l18.m1.2.2.1.3a.cmml">ArgSort</mtext><mo lspace="0em" rspace="0em" id="alg4.l18.m1.2.2.1.2" xref="alg4.l18.m1.2.2.1.2.cmml">​</mo><mrow id="alg4.l18.m1.2.2.1.1.1" xref="alg4.l18.m1.2.2.1.1.1.1.cmml"><mo stretchy="false" id="alg4.l18.m1.2.2.1.1.1.2" xref="alg4.l18.m1.2.2.1.1.1.1.cmml">(</mo><msub id="alg4.l18.m1.2.2.1.1.1.1" xref="alg4.l18.m1.2.2.1.1.1.1.cmml"><mi id="alg4.l18.m1.2.2.1.1.1.1.2" xref="alg4.l18.m1.2.2.1.1.1.1.2.cmml">R</mi><mrow id="alg4.l18.m1.1.1.1.1" xref="alg4.l18.m1.1.1.1.2.cmml"><mo stretchy="false" id="alg4.l18.m1.1.1.1.1.2" xref="alg4.l18.m1.1.1.1.2.cmml">{</mo><mrow id="alg4.l18.m1.1.1.1.1.1" xref="alg4.l18.m1.1.1.1.1.1.cmml"><mi id="alg4.l18.m1.1.1.1.1.1.2" xref="alg4.l18.m1.1.1.1.1.1.2.cmml">u</mi><mo id="alg4.l18.m1.1.1.1.1.1.1" xref="alg4.l18.m1.1.1.1.1.1.1.cmml">∈</mo><mi id="alg4.l18.m1.1.1.1.1.1.3" xref="alg4.l18.m1.1.1.1.1.1.3.cmml">U</mi></mrow><mo stretchy="false" id="alg4.l18.m1.1.1.1.1.3" xref="alg4.l18.m1.1.1.1.2.cmml">}</mo></mrow></msub><mo stretchy="false" id="alg4.l18.m1.2.2.1.1.1.3" xref="alg4.l18.m1.2.2.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg4.l18.m1.2b"><apply id="alg4.l18.m1.2.2.cmml" xref="alg4.l18.m1.2.2"><ci id="alg4.l18.m1.2.2.2.cmml" xref="alg4.l18.m1.2.2.2">←</ci><ci id="alg4.l18.m1.2.2.3.cmml" xref="alg4.l18.m1.2.2.3">𝑉</ci><apply id="alg4.l18.m1.2.2.1.cmml" xref="alg4.l18.m1.2.2.1"><times id="alg4.l18.m1.2.2.1.2.cmml" xref="alg4.l18.m1.2.2.1.2"></times><ci id="alg4.l18.m1.2.2.1.3a.cmml" xref="alg4.l18.m1.2.2.1.3"><mtext class="ltx_font_smallcaps" id="alg4.l18.m1.2.2.1.3.cmml" xref="alg4.l18.m1.2.2.1.3">ArgSort</mtext></ci><apply id="alg4.l18.m1.2.2.1.1.1.1.cmml" xref="alg4.l18.m1.2.2.1.1.1"><csymbol cd="ambiguous" id="alg4.l18.m1.2.2.1.1.1.1.1.cmml" xref="alg4.l18.m1.2.2.1.1.1">subscript</csymbol><ci id="alg4.l18.m1.2.2.1.1.1.1.2.cmml" xref="alg4.l18.m1.2.2.1.1.1.1.2">𝑅</ci><set id="alg4.l18.m1.1.1.1.2.cmml" xref="alg4.l18.m1.1.1.1.1"><apply id="alg4.l18.m1.1.1.1.1.1.cmml" xref="alg4.l18.m1.1.1.1.1.1"><in id="alg4.l18.m1.1.1.1.1.1.1.cmml" xref="alg4.l18.m1.1.1.1.1.1.1"></in><ci id="alg4.l18.m1.1.1.1.1.1.2.cmml" xref="alg4.l18.m1.1.1.1.1.1.2">𝑢</ci><ci id="alg4.l18.m1.1.1.1.1.1.3.cmml" xref="alg4.l18.m1.1.1.1.1.1.3">𝑈</ci></apply></set></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l18.m1.2c">V\leftarrow\textsc{ArgSort}(R_{\{u\in U\}})</annotation></semantics></math>

</div>
<div id="alg4.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">19:</span>     <math id="alg4.l19.m1.1" class="ltx_Math" alttext="A\leftarrow\textsc{Sum}(V)" display="inline"><semantics id="alg4.l19.m1.1a"><mrow id="alg4.l19.m1.1.2" xref="alg4.l19.m1.1.2.cmml"><mi id="alg4.l19.m1.1.2.2" xref="alg4.l19.m1.1.2.2.cmml">A</mi><mo stretchy="false" id="alg4.l19.m1.1.2.1" xref="alg4.l19.m1.1.2.1.cmml">←</mo><mrow id="alg4.l19.m1.1.2.3" xref="alg4.l19.m1.1.2.3.cmml"><mtext class="ltx_font_smallcaps" id="alg4.l19.m1.1.2.3.2" xref="alg4.l19.m1.1.2.3.2a.cmml">Sum</mtext><mo lspace="0em" rspace="0em" id="alg4.l19.m1.1.2.3.1" xref="alg4.l19.m1.1.2.3.1.cmml">​</mo><mrow id="alg4.l19.m1.1.2.3.3.2" xref="alg4.l19.m1.1.2.3.cmml"><mo stretchy="false" id="alg4.l19.m1.1.2.3.3.2.1" xref="alg4.l19.m1.1.2.3.cmml">(</mo><mi id="alg4.l19.m1.1.1" xref="alg4.l19.m1.1.1.cmml">V</mi><mo stretchy="false" id="alg4.l19.m1.1.2.3.3.2.2" xref="alg4.l19.m1.1.2.3.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg4.l19.m1.1b"><apply id="alg4.l19.m1.1.2.cmml" xref="alg4.l19.m1.1.2"><ci id="alg4.l19.m1.1.2.1.cmml" xref="alg4.l19.m1.1.2.1">←</ci><ci id="alg4.l19.m1.1.2.2.cmml" xref="alg4.l19.m1.1.2.2">𝐴</ci><apply id="alg4.l19.m1.1.2.3.cmml" xref="alg4.l19.m1.1.2.3"><times id="alg4.l19.m1.1.2.3.1.cmml" xref="alg4.l19.m1.1.2.3.1"></times><ci id="alg4.l19.m1.1.2.3.2a.cmml" xref="alg4.l19.m1.1.2.3.2"><mtext class="ltx_font_smallcaps" id="alg4.l19.m1.1.2.3.2.cmml" xref="alg4.l19.m1.1.2.3.2">Sum</mtext></ci><ci id="alg4.l19.m1.1.1.cmml" xref="alg4.l19.m1.1.1">𝑉</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l19.m1.1c">A\leftarrow\textsc{Sum}(V)</annotation></semantics></math>

</div>
<div id="alg4.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">20:</span>     <span id="alg4.l20.1" class="ltx_text ltx_font_bold">return</span> <math id="alg4.l20.m1.1" class="ltx_Math" alttext="\textsc{ArgSort}(A)" display="inline"><semantics id="alg4.l20.m1.1a"><mrow id="alg4.l20.m1.1.2" xref="alg4.l20.m1.1.2.cmml"><mtext class="ltx_font_smallcaps" id="alg4.l20.m1.1.2.2" xref="alg4.l20.m1.1.2.2a.cmml">ArgSort</mtext><mo lspace="0em" rspace="0em" id="alg4.l20.m1.1.2.1" xref="alg4.l20.m1.1.2.1.cmml">​</mo><mrow id="alg4.l20.m1.1.2.3.2" xref="alg4.l20.m1.1.2.cmml"><mo stretchy="false" id="alg4.l20.m1.1.2.3.2.1" xref="alg4.l20.m1.1.2.cmml">(</mo><mi id="alg4.l20.m1.1.1" xref="alg4.l20.m1.1.1.cmml">A</mi><mo stretchy="false" id="alg4.l20.m1.1.2.3.2.2" xref="alg4.l20.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg4.l20.m1.1b"><apply id="alg4.l20.m1.1.2.cmml" xref="alg4.l20.m1.1.2"><times id="alg4.l20.m1.1.2.1.cmml" xref="alg4.l20.m1.1.2.1"></times><ci id="alg4.l20.m1.1.2.2a.cmml" xref="alg4.l20.m1.1.2.2"><mtext class="ltx_font_smallcaps" id="alg4.l20.m1.1.2.2.cmml" xref="alg4.l20.m1.1.2.2">ArgSort</mtext></ci><ci id="alg4.l20.m1.1.1.cmml" xref="alg4.l20.m1.1.1">𝐴</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg4.l20.m1.1c">\textsc{ArgSort}(A)</annotation></semantics></math>

</div>
<div id="alg4.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">21:</span><span id="alg4.l21.1" class="ltx_text ltx_font_bold">end</span> <span id="alg4.l21.2" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
<div id="A4.p3" class="ltx_para ltx_noindent">
<p id="A4.p3.1" class="ltx_p"><span id="A4.p3.1.1" class="ltx_text ltx_font_bold">Edge-popup Algorithm</span>  
Algorithm <a href="#alg5" title="Algorithm 5 ‣ Appendix D Missing Details of Federated Rank Learning (FRL) ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> presents Edge-popup algorithm <cite class="ltx_cite ltx_citemacro_citep">(Ramanujan et al. <a href="#bib.bib28" title="" class="ltx_ref">2020</a>)</cite>.</p>
</div>
<figure id="alg5" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg5.6.1.1" class="ltx_text ltx_font_bold">Algorithm 5</span> </span> Edge-popup (EP) algorithm: it finds a subnetwork of size <math id="alg5.3.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg5.3.m1.1b"><mi id="alg5.3.m1.1.1" xref="alg5.3.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg5.3.m1.1c"><ci id="alg5.3.m1.1.1.cmml" xref="alg5.3.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg5.3.m1.1d">k</annotation></semantics></math>% of the entire network <math id="alg5.4.m2.1" class="ltx_Math" alttext="\theta" display="inline"><semantics id="alg5.4.m2.1b"><mi id="alg5.4.m2.1.1" xref="alg5.4.m2.1.1.cmml">θ</mi><annotation-xml encoding="MathML-Content" id="alg5.4.m2.1c"><ci id="alg5.4.m2.1.1.cmml" xref="alg5.4.m2.1.1">𝜃</ci></annotation-xml><annotation encoding="application/x-tex" id="alg5.4.m2.1d">\theta</annotation></semantics></math></figcaption>
<div id="alg5.7" class="ltx_listing ltx_listing">
<div id="alg5.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">1:</span><span id="alg5.l1.1" class="ltx_text ltx_font_bold">Input:</span> number of local epochs <math id="alg5.l1.m1.1" class="ltx_Math" alttext="E" display="inline"><semantics id="alg5.l1.m1.1a"><mi id="alg5.l1.m1.1.1" xref="alg5.l1.m1.1.1.cmml">E</mi><annotation-xml encoding="MathML-Content" id="alg5.l1.m1.1b"><ci id="alg5.l1.m1.1.1.cmml" xref="alg5.l1.m1.1.1">𝐸</ci></annotation-xml><annotation encoding="application/x-tex" id="alg5.l1.m1.1c">E</annotation></semantics></math>, training data <math id="alg5.l1.m2.1" class="ltx_Math" alttext="D" display="inline"><semantics id="alg5.l1.m2.1a"><mi id="alg5.l1.m2.1.1" xref="alg5.l1.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="alg5.l1.m2.1b"><ci id="alg5.l1.m2.1.1.cmml" xref="alg5.l1.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg5.l1.m2.1c">D</annotation></semantics></math>, initial weights <math id="alg5.l1.m3.1" class="ltx_Math" alttext="\theta^{w}" display="inline"><semantics id="alg5.l1.m3.1a"><msup id="alg5.l1.m3.1.1" xref="alg5.l1.m3.1.1.cmml"><mi id="alg5.l1.m3.1.1.2" xref="alg5.l1.m3.1.1.2.cmml">θ</mi><mi id="alg5.l1.m3.1.1.3" xref="alg5.l1.m3.1.1.3.cmml">w</mi></msup><annotation-xml encoding="MathML-Content" id="alg5.l1.m3.1b"><apply id="alg5.l1.m3.1.1.cmml" xref="alg5.l1.m3.1.1"><csymbol cd="ambiguous" id="alg5.l1.m3.1.1.1.cmml" xref="alg5.l1.m3.1.1">superscript</csymbol><ci id="alg5.l1.m3.1.1.2.cmml" xref="alg5.l1.m3.1.1.2">𝜃</ci><ci id="alg5.l1.m3.1.1.3.cmml" xref="alg5.l1.m3.1.1.3">𝑤</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l1.m3.1c">\theta^{w}</annotation></semantics></math> and scores <math id="alg5.l1.m4.1" class="ltx_Math" alttext="\theta^{s}" display="inline"><semantics id="alg5.l1.m4.1a"><msup id="alg5.l1.m4.1.1" xref="alg5.l1.m4.1.1.cmml"><mi id="alg5.l1.m4.1.1.2" xref="alg5.l1.m4.1.1.2.cmml">θ</mi><mi id="alg5.l1.m4.1.1.3" xref="alg5.l1.m4.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="alg5.l1.m4.1b"><apply id="alg5.l1.m4.1.1.cmml" xref="alg5.l1.m4.1.1"><csymbol cd="ambiguous" id="alg5.l1.m4.1.1.1.cmml" xref="alg5.l1.m4.1.1">superscript</csymbol><ci id="alg5.l1.m4.1.1.2.cmml" xref="alg5.l1.m4.1.1.2">𝜃</ci><ci id="alg5.l1.m4.1.1.3.cmml" xref="alg5.l1.m4.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l1.m4.1c">\theta^{s}</annotation></semantics></math>, subnetwork size <math id="alg5.l1.m5.1" class="ltx_Math" alttext="k" display="inline"><semantics id="alg5.l1.m5.1a"><mi id="alg5.l1.m5.1.1" xref="alg5.l1.m5.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="alg5.l1.m5.1b"><ci id="alg5.l1.m5.1.1.cmml" xref="alg5.l1.m5.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="alg5.l1.m5.1c">k</annotation></semantics></math>%, learning rate <math id="alg5.l1.m6.1" class="ltx_Math" alttext="\eta" display="inline"><semantics id="alg5.l1.m6.1a"><mi id="alg5.l1.m6.1.1" xref="alg5.l1.m6.1.1.cmml">η</mi><annotation-xml encoding="MathML-Content" id="alg5.l1.m6.1b"><ci id="alg5.l1.m6.1.1.cmml" xref="alg5.l1.m6.1.1">𝜂</ci></annotation-xml><annotation encoding="application/x-tex" id="alg5.l1.m6.1c">\eta</annotation></semantics></math>

</div>
<div id="alg5.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">2:</span><span id="alg5.l2.1" class="ltx_text ltx_font_bold">for</span> <math id="alg5.l2.m1.1" class="ltx_Math" alttext="e\in[E]" display="inline"><semantics id="alg5.l2.m1.1a"><mrow id="alg5.l2.m1.1.2" xref="alg5.l2.m1.1.2.cmml"><mi id="alg5.l2.m1.1.2.2" xref="alg5.l2.m1.1.2.2.cmml">e</mi><mo id="alg5.l2.m1.1.2.1" xref="alg5.l2.m1.1.2.1.cmml">∈</mo><mrow id="alg5.l2.m1.1.2.3.2" xref="alg5.l2.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg5.l2.m1.1.2.3.2.1" xref="alg5.l2.m1.1.2.3.1.1.cmml">[</mo><mi id="alg5.l2.m1.1.1" xref="alg5.l2.m1.1.1.cmml">E</mi><mo stretchy="false" id="alg5.l2.m1.1.2.3.2.2" xref="alg5.l2.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg5.l2.m1.1b"><apply id="alg5.l2.m1.1.2.cmml" xref="alg5.l2.m1.1.2"><in id="alg5.l2.m1.1.2.1.cmml" xref="alg5.l2.m1.1.2.1"></in><ci id="alg5.l2.m1.1.2.2.cmml" xref="alg5.l2.m1.1.2.2">𝑒</ci><apply id="alg5.l2.m1.1.2.3.1.cmml" xref="alg5.l2.m1.1.2.3.2"><csymbol cd="latexml" id="alg5.l2.m1.1.2.3.1.1.cmml" xref="alg5.l2.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg5.l2.m1.1.1.cmml" xref="alg5.l2.m1.1.1">𝐸</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l2.m1.1c">e\in[E]</annotation></semantics></math> <span id="alg5.l2.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg5.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">3:</span>     <math id="alg5.l3.m1.1" class="ltx_Math" alttext="\mathcal{B}\leftarrow" display="inline"><semantics id="alg5.l3.m1.1a"><mrow id="alg5.l3.m1.1.1" xref="alg5.l3.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="alg5.l3.m1.1.1.2" xref="alg5.l3.m1.1.1.2.cmml">ℬ</mi><mo stretchy="false" id="alg5.l3.m1.1.1.1" xref="alg5.l3.m1.1.1.1.cmml">←</mo><mi id="alg5.l3.m1.1.1.3" xref="alg5.l3.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg5.l3.m1.1b"><apply id="alg5.l3.m1.1.1.cmml" xref="alg5.l3.m1.1.1"><ci id="alg5.l3.m1.1.1.1.cmml" xref="alg5.l3.m1.1.1.1">←</ci><ci id="alg5.l3.m1.1.1.2.cmml" xref="alg5.l3.m1.1.1.2">ℬ</ci><csymbol cd="latexml" id="alg5.l3.m1.1.1.3.cmml" xref="alg5.l3.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l3.m1.1c">\mathcal{B}\leftarrow</annotation></semantics></math> Split <math id="alg5.l3.m2.1" class="ltx_Math" alttext="D" display="inline"><semantics id="alg5.l3.m2.1a"><mi id="alg5.l3.m2.1.1" xref="alg5.l3.m2.1.1.cmml">D</mi><annotation-xml encoding="MathML-Content" id="alg5.l3.m2.1b"><ci id="alg5.l3.m2.1.1.cmml" xref="alg5.l3.m2.1.1">𝐷</ci></annotation-xml><annotation encoding="application/x-tex" id="alg5.l3.m2.1c">D</annotation></semantics></math> in <math id="alg5.l3.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="alg5.l3.m3.1a"><mi id="alg5.l3.m3.1.1" xref="alg5.l3.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="alg5.l3.m3.1b"><ci id="alg5.l3.m3.1.1.cmml" xref="alg5.l3.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="alg5.l3.m3.1c">B</annotation></semantics></math> batches

</div>
<div id="alg5.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">4:</span>     <span id="alg5.l4.1" class="ltx_text ltx_font_bold">for</span> batch <math id="alg5.l4.m1.1" class="ltx_Math" alttext="b\in[B]" display="inline"><semantics id="alg5.l4.m1.1a"><mrow id="alg5.l4.m1.1.2" xref="alg5.l4.m1.1.2.cmml"><mi id="alg5.l4.m1.1.2.2" xref="alg5.l4.m1.1.2.2.cmml">b</mi><mo id="alg5.l4.m1.1.2.1" xref="alg5.l4.m1.1.2.1.cmml">∈</mo><mrow id="alg5.l4.m1.1.2.3.2" xref="alg5.l4.m1.1.2.3.1.cmml"><mo stretchy="false" id="alg5.l4.m1.1.2.3.2.1" xref="alg5.l4.m1.1.2.3.1.1.cmml">[</mo><mi id="alg5.l4.m1.1.1" xref="alg5.l4.m1.1.1.cmml">B</mi><mo stretchy="false" id="alg5.l4.m1.1.2.3.2.2" xref="alg5.l4.m1.1.2.3.1.1.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg5.l4.m1.1b"><apply id="alg5.l4.m1.1.2.cmml" xref="alg5.l4.m1.1.2"><in id="alg5.l4.m1.1.2.1.cmml" xref="alg5.l4.m1.1.2.1"></in><ci id="alg5.l4.m1.1.2.2.cmml" xref="alg5.l4.m1.1.2.2">𝑏</ci><apply id="alg5.l4.m1.1.2.3.1.cmml" xref="alg5.l4.m1.1.2.3.2"><csymbol cd="latexml" id="alg5.l4.m1.1.2.3.1.1.cmml" xref="alg5.l4.m1.1.2.3.2.1">delimited-[]</csymbol><ci id="alg5.l4.m1.1.1.cmml" xref="alg5.l4.m1.1.1">𝐵</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l4.m1.1c">b\in[B]</annotation></semantics></math> <span id="alg5.l4.2" class="ltx_text ltx_font_bold">do</span>

</div>
<div id="alg5.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">5:</span>         <span id="alg5.l5.1" class="ltx_text ltx_font_smallcaps">EP Forward</span> (<math id="alg5.l5.m1.4" class="ltx_Math" alttext="\theta^{w},\theta^{s},k,b" display="inline"><semantics id="alg5.l5.m1.4a"><mrow id="alg5.l5.m1.4.4.2" xref="alg5.l5.m1.4.4.3.cmml"><msup id="alg5.l5.m1.3.3.1.1" xref="alg5.l5.m1.3.3.1.1.cmml"><mi id="alg5.l5.m1.3.3.1.1.2" xref="alg5.l5.m1.3.3.1.1.2.cmml">θ</mi><mi id="alg5.l5.m1.3.3.1.1.3" xref="alg5.l5.m1.3.3.1.1.3.cmml">w</mi></msup><mo id="alg5.l5.m1.4.4.2.3" xref="alg5.l5.m1.4.4.3.cmml">,</mo><msup id="alg5.l5.m1.4.4.2.2" xref="alg5.l5.m1.4.4.2.2.cmml"><mi id="alg5.l5.m1.4.4.2.2.2" xref="alg5.l5.m1.4.4.2.2.2.cmml">θ</mi><mi id="alg5.l5.m1.4.4.2.2.3" xref="alg5.l5.m1.4.4.2.2.3.cmml">s</mi></msup><mo id="alg5.l5.m1.4.4.2.4" xref="alg5.l5.m1.4.4.3.cmml">,</mo><mi id="alg5.l5.m1.1.1" xref="alg5.l5.m1.1.1.cmml">k</mi><mo id="alg5.l5.m1.4.4.2.5" xref="alg5.l5.m1.4.4.3.cmml">,</mo><mi id="alg5.l5.m1.2.2" xref="alg5.l5.m1.2.2.cmml">b</mi></mrow><annotation-xml encoding="MathML-Content" id="alg5.l5.m1.4b"><list id="alg5.l5.m1.4.4.3.cmml" xref="alg5.l5.m1.4.4.2"><apply id="alg5.l5.m1.3.3.1.1.cmml" xref="alg5.l5.m1.3.3.1.1"><csymbol cd="ambiguous" id="alg5.l5.m1.3.3.1.1.1.cmml" xref="alg5.l5.m1.3.3.1.1">superscript</csymbol><ci id="alg5.l5.m1.3.3.1.1.2.cmml" xref="alg5.l5.m1.3.3.1.1.2">𝜃</ci><ci id="alg5.l5.m1.3.3.1.1.3.cmml" xref="alg5.l5.m1.3.3.1.1.3">𝑤</ci></apply><apply id="alg5.l5.m1.4.4.2.2.cmml" xref="alg5.l5.m1.4.4.2.2"><csymbol cd="ambiguous" id="alg5.l5.m1.4.4.2.2.1.cmml" xref="alg5.l5.m1.4.4.2.2">superscript</csymbol><ci id="alg5.l5.m1.4.4.2.2.2.cmml" xref="alg5.l5.m1.4.4.2.2.2">𝜃</ci><ci id="alg5.l5.m1.4.4.2.2.3.cmml" xref="alg5.l5.m1.4.4.2.2.3">𝑠</ci></apply><ci id="alg5.l5.m1.1.1.cmml" xref="alg5.l5.m1.1.1">𝑘</ci><ci id="alg5.l5.m1.2.2.cmml" xref="alg5.l5.m1.2.2">𝑏</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg5.l5.m1.4c">\theta^{w},\theta^{s},k,b</annotation></semantics></math>)

</div>
<div id="alg5.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">6:</span>         <math id="alg5.l6.m1.2" class="ltx_Math" alttext="\theta^{s}=\theta^{s}-\eta\nabla\ell(\theta^{s};b)" display="inline"><semantics id="alg5.l6.m1.2a"><mrow id="alg5.l6.m1.2.2" xref="alg5.l6.m1.2.2.cmml"><msup id="alg5.l6.m1.2.2.3" xref="alg5.l6.m1.2.2.3.cmml"><mi id="alg5.l6.m1.2.2.3.2" xref="alg5.l6.m1.2.2.3.2.cmml">θ</mi><mi id="alg5.l6.m1.2.2.3.3" xref="alg5.l6.m1.2.2.3.3.cmml">s</mi></msup><mo id="alg5.l6.m1.2.2.2" xref="alg5.l6.m1.2.2.2.cmml">=</mo><mrow id="alg5.l6.m1.2.2.1" xref="alg5.l6.m1.2.2.1.cmml"><msup id="alg5.l6.m1.2.2.1.3" xref="alg5.l6.m1.2.2.1.3.cmml"><mi id="alg5.l6.m1.2.2.1.3.2" xref="alg5.l6.m1.2.2.1.3.2.cmml">θ</mi><mi id="alg5.l6.m1.2.2.1.3.3" xref="alg5.l6.m1.2.2.1.3.3.cmml">s</mi></msup><mo id="alg5.l6.m1.2.2.1.2" xref="alg5.l6.m1.2.2.1.2.cmml">−</mo><mrow id="alg5.l6.m1.2.2.1.1" xref="alg5.l6.m1.2.2.1.1.cmml"><mi id="alg5.l6.m1.2.2.1.1.3" xref="alg5.l6.m1.2.2.1.1.3.cmml">η</mi><mo lspace="0.167em" rspace="0em" id="alg5.l6.m1.2.2.1.1.2" xref="alg5.l6.m1.2.2.1.1.2.cmml">​</mo><mrow id="alg5.l6.m1.2.2.1.1.4" xref="alg5.l6.m1.2.2.1.1.4.cmml"><mo rspace="0.167em" id="alg5.l6.m1.2.2.1.1.4.1" xref="alg5.l6.m1.2.2.1.1.4.1.cmml">∇</mo><mi mathvariant="normal" id="alg5.l6.m1.2.2.1.1.4.2" xref="alg5.l6.m1.2.2.1.1.4.2.cmml">ℓ</mi></mrow><mo lspace="0em" rspace="0em" id="alg5.l6.m1.2.2.1.1.2a" xref="alg5.l6.m1.2.2.1.1.2.cmml">​</mo><mrow id="alg5.l6.m1.2.2.1.1.1.1" xref="alg5.l6.m1.2.2.1.1.1.2.cmml"><mo stretchy="false" id="alg5.l6.m1.2.2.1.1.1.1.2" xref="alg5.l6.m1.2.2.1.1.1.2.cmml">(</mo><msup id="alg5.l6.m1.2.2.1.1.1.1.1" xref="alg5.l6.m1.2.2.1.1.1.1.1.cmml"><mi id="alg5.l6.m1.2.2.1.1.1.1.1.2" xref="alg5.l6.m1.2.2.1.1.1.1.1.2.cmml">θ</mi><mi id="alg5.l6.m1.2.2.1.1.1.1.1.3" xref="alg5.l6.m1.2.2.1.1.1.1.1.3.cmml">s</mi></msup><mo id="alg5.l6.m1.2.2.1.1.1.1.3" xref="alg5.l6.m1.2.2.1.1.1.2.cmml">;</mo><mi id="alg5.l6.m1.1.1" xref="alg5.l6.m1.1.1.cmml">b</mi><mo stretchy="false" id="alg5.l6.m1.2.2.1.1.1.1.4" xref="alg5.l6.m1.2.2.1.1.1.2.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg5.l6.m1.2b"><apply id="alg5.l6.m1.2.2.cmml" xref="alg5.l6.m1.2.2"><eq id="alg5.l6.m1.2.2.2.cmml" xref="alg5.l6.m1.2.2.2"></eq><apply id="alg5.l6.m1.2.2.3.cmml" xref="alg5.l6.m1.2.2.3"><csymbol cd="ambiguous" id="alg5.l6.m1.2.2.3.1.cmml" xref="alg5.l6.m1.2.2.3">superscript</csymbol><ci id="alg5.l6.m1.2.2.3.2.cmml" xref="alg5.l6.m1.2.2.3.2">𝜃</ci><ci id="alg5.l6.m1.2.2.3.3.cmml" xref="alg5.l6.m1.2.2.3.3">𝑠</ci></apply><apply id="alg5.l6.m1.2.2.1.cmml" xref="alg5.l6.m1.2.2.1"><minus id="alg5.l6.m1.2.2.1.2.cmml" xref="alg5.l6.m1.2.2.1.2"></minus><apply id="alg5.l6.m1.2.2.1.3.cmml" xref="alg5.l6.m1.2.2.1.3"><csymbol cd="ambiguous" id="alg5.l6.m1.2.2.1.3.1.cmml" xref="alg5.l6.m1.2.2.1.3">superscript</csymbol><ci id="alg5.l6.m1.2.2.1.3.2.cmml" xref="alg5.l6.m1.2.2.1.3.2">𝜃</ci><ci id="alg5.l6.m1.2.2.1.3.3.cmml" xref="alg5.l6.m1.2.2.1.3.3">𝑠</ci></apply><apply id="alg5.l6.m1.2.2.1.1.cmml" xref="alg5.l6.m1.2.2.1.1"><times id="alg5.l6.m1.2.2.1.1.2.cmml" xref="alg5.l6.m1.2.2.1.1.2"></times><ci id="alg5.l6.m1.2.2.1.1.3.cmml" xref="alg5.l6.m1.2.2.1.1.3">𝜂</ci><apply id="alg5.l6.m1.2.2.1.1.4.cmml" xref="alg5.l6.m1.2.2.1.1.4"><ci id="alg5.l6.m1.2.2.1.1.4.1.cmml" xref="alg5.l6.m1.2.2.1.1.4.1">∇</ci><ci id="alg5.l6.m1.2.2.1.1.4.2.cmml" xref="alg5.l6.m1.2.2.1.1.4.2">ℓ</ci></apply><list id="alg5.l6.m1.2.2.1.1.1.2.cmml" xref="alg5.l6.m1.2.2.1.1.1.1"><apply id="alg5.l6.m1.2.2.1.1.1.1.1.cmml" xref="alg5.l6.m1.2.2.1.1.1.1.1"><csymbol cd="ambiguous" id="alg5.l6.m1.2.2.1.1.1.1.1.1.cmml" xref="alg5.l6.m1.2.2.1.1.1.1.1">superscript</csymbol><ci id="alg5.l6.m1.2.2.1.1.1.1.1.2.cmml" xref="alg5.l6.m1.2.2.1.1.1.1.1.2">𝜃</ci><ci id="alg5.l6.m1.2.2.1.1.1.1.1.3.cmml" xref="alg5.l6.m1.2.2.1.1.1.1.1.3">𝑠</ci></apply><ci id="alg5.l6.m1.1.1.cmml" xref="alg5.l6.m1.1.1">𝑏</ci></list></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l6.m1.2c">\theta^{s}=\theta^{s}-\eta\nabla\ell(\theta^{s};b)</annotation></semantics></math>

</div>
<div id="alg5.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">7:</span>     <span id="alg5.l7.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l7.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg5.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">8:</span><span id="alg5.l8.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l8.2" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="alg5.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">9:</span><span id="alg5.l9.1" class="ltx_text ltx_font_bold">return</span> <math id="alg5.l9.m1.1" class="ltx_Math" alttext="\theta^{s}" display="inline"><semantics id="alg5.l9.m1.1a"><msup id="alg5.l9.m1.1.1" xref="alg5.l9.m1.1.1.cmml"><mi id="alg5.l9.m1.1.1.2" xref="alg5.l9.m1.1.1.2.cmml">θ</mi><mi id="alg5.l9.m1.1.1.3" xref="alg5.l9.m1.1.1.3.cmml">s</mi></msup><annotation-xml encoding="MathML-Content" id="alg5.l9.m1.1b"><apply id="alg5.l9.m1.1.1.cmml" xref="alg5.l9.m1.1.1"><csymbol cd="ambiguous" id="alg5.l9.m1.1.1.1.cmml" xref="alg5.l9.m1.1.1">superscript</csymbol><ci id="alg5.l9.m1.1.1.2.cmml" xref="alg5.l9.m1.1.1.2">𝜃</ci><ci id="alg5.l9.m1.1.1.3.cmml" xref="alg5.l9.m1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l9.m1.1c">\theta^{s}</annotation></semantics></math>

</div>
<div id="alg5.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">10:</span><span id="alg5.l10.1" class="ltx_text ltx_font_bold">function</span> <span id="alg5.l10.2" class="ltx_text ltx_font_smallcaps">EP forward</span>(<math id="alg5.l10.m1.4" class="ltx_Math" alttext="\theta^{w},\theta^{s},k,b" display="inline"><semantics id="alg5.l10.m1.4a"><mrow id="alg5.l10.m1.4.4.2" xref="alg5.l10.m1.4.4.3.cmml"><msup id="alg5.l10.m1.3.3.1.1" xref="alg5.l10.m1.3.3.1.1.cmml"><mi id="alg5.l10.m1.3.3.1.1.2" xref="alg5.l10.m1.3.3.1.1.2.cmml">θ</mi><mi id="alg5.l10.m1.3.3.1.1.3" xref="alg5.l10.m1.3.3.1.1.3.cmml">w</mi></msup><mo id="alg5.l10.m1.4.4.2.3" xref="alg5.l10.m1.4.4.3.cmml">,</mo><msup id="alg5.l10.m1.4.4.2.2" xref="alg5.l10.m1.4.4.2.2.cmml"><mi id="alg5.l10.m1.4.4.2.2.2" xref="alg5.l10.m1.4.4.2.2.2.cmml">θ</mi><mi id="alg5.l10.m1.4.4.2.2.3" xref="alg5.l10.m1.4.4.2.2.3.cmml">s</mi></msup><mo id="alg5.l10.m1.4.4.2.4" xref="alg5.l10.m1.4.4.3.cmml">,</mo><mi id="alg5.l10.m1.1.1" xref="alg5.l10.m1.1.1.cmml">k</mi><mo id="alg5.l10.m1.4.4.2.5" xref="alg5.l10.m1.4.4.3.cmml">,</mo><mi id="alg5.l10.m1.2.2" xref="alg5.l10.m1.2.2.cmml">b</mi></mrow><annotation-xml encoding="MathML-Content" id="alg5.l10.m1.4b"><list id="alg5.l10.m1.4.4.3.cmml" xref="alg5.l10.m1.4.4.2"><apply id="alg5.l10.m1.3.3.1.1.cmml" xref="alg5.l10.m1.3.3.1.1"><csymbol cd="ambiguous" id="alg5.l10.m1.3.3.1.1.1.cmml" xref="alg5.l10.m1.3.3.1.1">superscript</csymbol><ci id="alg5.l10.m1.3.3.1.1.2.cmml" xref="alg5.l10.m1.3.3.1.1.2">𝜃</ci><ci id="alg5.l10.m1.3.3.1.1.3.cmml" xref="alg5.l10.m1.3.3.1.1.3">𝑤</ci></apply><apply id="alg5.l10.m1.4.4.2.2.cmml" xref="alg5.l10.m1.4.4.2.2"><csymbol cd="ambiguous" id="alg5.l10.m1.4.4.2.2.1.cmml" xref="alg5.l10.m1.4.4.2.2">superscript</csymbol><ci id="alg5.l10.m1.4.4.2.2.2.cmml" xref="alg5.l10.m1.4.4.2.2.2">𝜃</ci><ci id="alg5.l10.m1.4.4.2.2.3.cmml" xref="alg5.l10.m1.4.4.2.2.3">𝑠</ci></apply><ci id="alg5.l10.m1.1.1.cmml" xref="alg5.l10.m1.1.1">𝑘</ci><ci id="alg5.l10.m1.2.2.cmml" xref="alg5.l10.m1.2.2">𝑏</ci></list></annotation-xml><annotation encoding="application/x-tex" id="alg5.l10.m1.4c">\theta^{w},\theta^{s},k,b</annotation></semantics></math>)

</div>
<div id="alg5.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">11:</span>     <math id="alg5.l11.m1.1" class="ltx_Math" alttext="m\leftarrow" display="inline"><semantics id="alg5.l11.m1.1a"><mrow id="alg5.l11.m1.1.1" xref="alg5.l11.m1.1.1.cmml"><mi id="alg5.l11.m1.1.1.2" xref="alg5.l11.m1.1.1.2.cmml">m</mi><mo stretchy="false" id="alg5.l11.m1.1.1.1" xref="alg5.l11.m1.1.1.1.cmml">←</mo><mi id="alg5.l11.m1.1.1.3" xref="alg5.l11.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg5.l11.m1.1b"><apply id="alg5.l11.m1.1.1.cmml" xref="alg5.l11.m1.1.1"><ci id="alg5.l11.m1.1.1.1.cmml" xref="alg5.l11.m1.1.1.1">←</ci><ci id="alg5.l11.m1.1.1.2.cmml" xref="alg5.l11.m1.1.1.2">𝑚</ci><csymbol cd="latexml" id="alg5.l11.m1.1.1.3.cmml" xref="alg5.l11.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l11.m1.1c">m\leftarrow</annotation></semantics></math> sort<math id="alg5.l11.m2.1" class="ltx_Math" alttext="(\theta^{s})" display="inline"><semantics id="alg5.l11.m2.1a"><mrow id="alg5.l11.m2.1.1.1" xref="alg5.l11.m2.1.1.1.1.cmml"><mo stretchy="false" id="alg5.l11.m2.1.1.1.2" xref="alg5.l11.m2.1.1.1.1.cmml">(</mo><msup id="alg5.l11.m2.1.1.1.1" xref="alg5.l11.m2.1.1.1.1.cmml"><mi id="alg5.l11.m2.1.1.1.1.2" xref="alg5.l11.m2.1.1.1.1.2.cmml">θ</mi><mi id="alg5.l11.m2.1.1.1.1.3" xref="alg5.l11.m2.1.1.1.1.3.cmml">s</mi></msup><mo stretchy="false" id="alg5.l11.m2.1.1.1.3" xref="alg5.l11.m2.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="alg5.l11.m2.1b"><apply id="alg5.l11.m2.1.1.1.1.cmml" xref="alg5.l11.m2.1.1.1"><csymbol cd="ambiguous" id="alg5.l11.m2.1.1.1.1.1.cmml" xref="alg5.l11.m2.1.1.1">superscript</csymbol><ci id="alg5.l11.m2.1.1.1.1.2.cmml" xref="alg5.l11.m2.1.1.1.1.2">𝜃</ci><ci id="alg5.l11.m2.1.1.1.1.3.cmml" xref="alg5.l11.m2.1.1.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l11.m2.1c">(\theta^{s})</annotation></semantics></math>

</div>
<div id="alg5.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">12:</span>     <math id="alg5.l12.m1.1" class="ltx_Math" alttext="t\leftarrow" display="inline"><semantics id="alg5.l12.m1.1a"><mrow id="alg5.l12.m1.1.1" xref="alg5.l12.m1.1.1.cmml"><mi id="alg5.l12.m1.1.1.2" xref="alg5.l12.m1.1.1.2.cmml">t</mi><mo stretchy="false" id="alg5.l12.m1.1.1.1" xref="alg5.l12.m1.1.1.1.cmml">←</mo><mi id="alg5.l12.m1.1.1.3" xref="alg5.l12.m1.1.1.3.cmml"></mi></mrow><annotation-xml encoding="MathML-Content" id="alg5.l12.m1.1b"><apply id="alg5.l12.m1.1.1.cmml" xref="alg5.l12.m1.1.1"><ci id="alg5.l12.m1.1.1.1.cmml" xref="alg5.l12.m1.1.1.1">←</ci><ci id="alg5.l12.m1.1.1.2.cmml" xref="alg5.l12.m1.1.1.2">𝑡</ci><csymbol cd="latexml" id="alg5.l12.m1.1.1.3.cmml" xref="alg5.l12.m1.1.1.3">absent</csymbol></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l12.m1.1c">t\leftarrow</annotation></semantics></math> <math id="alg5.l12.m2.2" class="ltx_Math" alttext="int((1-k)*len(m))" display="inline"><semantics id="alg5.l12.m2.2a"><mrow id="alg5.l12.m2.2.2" xref="alg5.l12.m2.2.2.cmml"><mi id="alg5.l12.m2.2.2.3" xref="alg5.l12.m2.2.2.3.cmml">i</mi><mo lspace="0em" rspace="0em" id="alg5.l12.m2.2.2.2" xref="alg5.l12.m2.2.2.2.cmml">​</mo><mi id="alg5.l12.m2.2.2.4" xref="alg5.l12.m2.2.2.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg5.l12.m2.2.2.2a" xref="alg5.l12.m2.2.2.2.cmml">​</mo><mi id="alg5.l12.m2.2.2.5" xref="alg5.l12.m2.2.2.5.cmml">t</mi><mo lspace="0em" rspace="0em" id="alg5.l12.m2.2.2.2b" xref="alg5.l12.m2.2.2.2.cmml">​</mo><mrow id="alg5.l12.m2.2.2.1.1" xref="alg5.l12.m2.2.2.1.1.1.cmml"><mo stretchy="false" id="alg5.l12.m2.2.2.1.1.2" xref="alg5.l12.m2.2.2.1.1.1.cmml">(</mo><mrow id="alg5.l12.m2.2.2.1.1.1" xref="alg5.l12.m2.2.2.1.1.1.cmml"><mrow id="alg5.l12.m2.2.2.1.1.1.1" xref="alg5.l12.m2.2.2.1.1.1.1.cmml"><mrow id="alg5.l12.m2.2.2.1.1.1.1.1.1" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="alg5.l12.m2.2.2.1.1.1.1.1.1.2" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="alg5.l12.m2.2.2.1.1.1.1.1.1.1" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.cmml"><mn id="alg5.l12.m2.2.2.1.1.1.1.1.1.1.2" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.2.cmml">1</mn><mo id="alg5.l12.m2.2.2.1.1.1.1.1.1.1.1" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.1.cmml">−</mo><mi id="alg5.l12.m2.2.2.1.1.1.1.1.1.1.3" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.3.cmml">k</mi></mrow><mo rspace="0.055em" stretchy="false" id="alg5.l12.m2.2.2.1.1.1.1.1.1.3" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mo rspace="0.222em" id="alg5.l12.m2.2.2.1.1.1.1.2" xref="alg5.l12.m2.2.2.1.1.1.1.2.cmml">∗</mo><mi id="alg5.l12.m2.2.2.1.1.1.1.3" xref="alg5.l12.m2.2.2.1.1.1.1.3.cmml">l</mi></mrow><mo lspace="0em" rspace="0em" id="alg5.l12.m2.2.2.1.1.1.2" xref="alg5.l12.m2.2.2.1.1.1.2.cmml">​</mo><mi id="alg5.l12.m2.2.2.1.1.1.3" xref="alg5.l12.m2.2.2.1.1.1.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="alg5.l12.m2.2.2.1.1.1.2a" xref="alg5.l12.m2.2.2.1.1.1.2.cmml">​</mo><mi id="alg5.l12.m2.2.2.1.1.1.4" xref="alg5.l12.m2.2.2.1.1.1.4.cmml">n</mi><mo lspace="0em" rspace="0em" id="alg5.l12.m2.2.2.1.1.1.2b" xref="alg5.l12.m2.2.2.1.1.1.2.cmml">​</mo><mrow id="alg5.l12.m2.2.2.1.1.1.5.2" xref="alg5.l12.m2.2.2.1.1.1.cmml"><mo stretchy="false" id="alg5.l12.m2.2.2.1.1.1.5.2.1" xref="alg5.l12.m2.2.2.1.1.1.cmml">(</mo><mi id="alg5.l12.m2.1.1" xref="alg5.l12.m2.1.1.cmml">m</mi><mo stretchy="false" id="alg5.l12.m2.2.2.1.1.1.5.2.2" xref="alg5.l12.m2.2.2.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="alg5.l12.m2.2.2.1.1.3" xref="alg5.l12.m2.2.2.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg5.l12.m2.2b"><apply id="alg5.l12.m2.2.2.cmml" xref="alg5.l12.m2.2.2"><times id="alg5.l12.m2.2.2.2.cmml" xref="alg5.l12.m2.2.2.2"></times><ci id="alg5.l12.m2.2.2.3.cmml" xref="alg5.l12.m2.2.2.3">𝑖</ci><ci id="alg5.l12.m2.2.2.4.cmml" xref="alg5.l12.m2.2.2.4">𝑛</ci><ci id="alg5.l12.m2.2.2.5.cmml" xref="alg5.l12.m2.2.2.5">𝑡</ci><apply id="alg5.l12.m2.2.2.1.1.1.cmml" xref="alg5.l12.m2.2.2.1.1"><times id="alg5.l12.m2.2.2.1.1.1.2.cmml" xref="alg5.l12.m2.2.2.1.1.1.2"></times><apply id="alg5.l12.m2.2.2.1.1.1.1.cmml" xref="alg5.l12.m2.2.2.1.1.1.1"><times id="alg5.l12.m2.2.2.1.1.1.1.2.cmml" xref="alg5.l12.m2.2.2.1.1.1.1.2"></times><apply id="alg5.l12.m2.2.2.1.1.1.1.1.1.1.cmml" xref="alg5.l12.m2.2.2.1.1.1.1.1.1"><minus id="alg5.l12.m2.2.2.1.1.1.1.1.1.1.1.cmml" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.1"></minus><cn type="integer" id="alg5.l12.m2.2.2.1.1.1.1.1.1.1.2.cmml" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.2">1</cn><ci id="alg5.l12.m2.2.2.1.1.1.1.1.1.1.3.cmml" xref="alg5.l12.m2.2.2.1.1.1.1.1.1.1.3">𝑘</ci></apply><ci id="alg5.l12.m2.2.2.1.1.1.1.3.cmml" xref="alg5.l12.m2.2.2.1.1.1.1.3">𝑙</ci></apply><ci id="alg5.l12.m2.2.2.1.1.1.3.cmml" xref="alg5.l12.m2.2.2.1.1.1.3">𝑒</ci><ci id="alg5.l12.m2.2.2.1.1.1.4.cmml" xref="alg5.l12.m2.2.2.1.1.1.4">𝑛</ci><ci id="alg5.l12.m2.1.1.cmml" xref="alg5.l12.m2.1.1">𝑚</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l12.m2.2c">int((1-k)*len(m))</annotation></semantics></math>

</div>
<div id="alg5.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">13:</span>     <math id="alg5.l13.m1.1" class="ltx_math_unparsed" alttext="m[:t]=0" display="inline"><semantics id="alg5.l13.m1.1a"><mrow id="alg5.l13.m1.1b"><mi id="alg5.l13.m1.1.1">m</mi><mrow id="alg5.l13.m1.1.2"><mo stretchy="false" id="alg5.l13.m1.1.2.1">[</mo><mo rspace="0.278em" id="alg5.l13.m1.1.2.2">:</mo><mi id="alg5.l13.m1.1.2.3">t</mi><mo stretchy="false" id="alg5.l13.m1.1.2.4">]</mo></mrow><mo id="alg5.l13.m1.1.3">=</mo><mn id="alg5.l13.m1.1.4">0</mn></mrow><annotation encoding="application/x-tex" id="alg5.l13.m1.1c">m[:t]=0</annotation></semantics></math>

</div>
<div id="alg5.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">14:</span>     <math id="alg5.l14.m1.1" class="ltx_math_unparsed" alttext="m[t:]=1" display="inline"><semantics id="alg5.l14.m1.1a"><mrow id="alg5.l14.m1.1b"><mi id="alg5.l14.m1.1.1">m</mi><mrow id="alg5.l14.m1.1.2"><mo stretchy="false" id="alg5.l14.m1.1.2.1">[</mo><mi id="alg5.l14.m1.1.2.2">t</mi><mo lspace="0.278em" rspace="0em" id="alg5.l14.m1.1.2.3">:</mo><mo stretchy="false" id="alg5.l14.m1.1.2.4">]</mo></mrow><mo id="alg5.l14.m1.1.3">=</mo><mn id="alg5.l14.m1.1.4">1</mn></mrow><annotation encoding="application/x-tex" id="alg5.l14.m1.1c">m[t:]=1</annotation></semantics></math>

</div>
<div id="alg5.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">15:</span>     <math id="alg5.l15.m1.1" class="ltx_Math" alttext="\theta^{p}=\theta^{w}\odot\mathbf{m}" display="inline"><semantics id="alg5.l15.m1.1a"><mrow id="alg5.l15.m1.1.1" xref="alg5.l15.m1.1.1.cmml"><msup id="alg5.l15.m1.1.1.2" xref="alg5.l15.m1.1.1.2.cmml"><mi id="alg5.l15.m1.1.1.2.2" xref="alg5.l15.m1.1.1.2.2.cmml">θ</mi><mi id="alg5.l15.m1.1.1.2.3" xref="alg5.l15.m1.1.1.2.3.cmml">p</mi></msup><mo id="alg5.l15.m1.1.1.1" xref="alg5.l15.m1.1.1.1.cmml">=</mo><mrow id="alg5.l15.m1.1.1.3" xref="alg5.l15.m1.1.1.3.cmml"><msup id="alg5.l15.m1.1.1.3.2" xref="alg5.l15.m1.1.1.3.2.cmml"><mi id="alg5.l15.m1.1.1.3.2.2" xref="alg5.l15.m1.1.1.3.2.2.cmml">θ</mi><mi id="alg5.l15.m1.1.1.3.2.3" xref="alg5.l15.m1.1.1.3.2.3.cmml">w</mi></msup><mo lspace="0.222em" rspace="0.222em" id="alg5.l15.m1.1.1.3.1" xref="alg5.l15.m1.1.1.3.1.cmml">⊙</mo><mi id="alg5.l15.m1.1.1.3.3" xref="alg5.l15.m1.1.1.3.3.cmml">𝐦</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg5.l15.m1.1b"><apply id="alg5.l15.m1.1.1.cmml" xref="alg5.l15.m1.1.1"><eq id="alg5.l15.m1.1.1.1.cmml" xref="alg5.l15.m1.1.1.1"></eq><apply id="alg5.l15.m1.1.1.2.cmml" xref="alg5.l15.m1.1.1.2"><csymbol cd="ambiguous" id="alg5.l15.m1.1.1.2.1.cmml" xref="alg5.l15.m1.1.1.2">superscript</csymbol><ci id="alg5.l15.m1.1.1.2.2.cmml" xref="alg5.l15.m1.1.1.2.2">𝜃</ci><ci id="alg5.l15.m1.1.1.2.3.cmml" xref="alg5.l15.m1.1.1.2.3">𝑝</ci></apply><apply id="alg5.l15.m1.1.1.3.cmml" xref="alg5.l15.m1.1.1.3"><csymbol cd="latexml" id="alg5.l15.m1.1.1.3.1.cmml" xref="alg5.l15.m1.1.1.3.1">direct-product</csymbol><apply id="alg5.l15.m1.1.1.3.2.cmml" xref="alg5.l15.m1.1.1.3.2"><csymbol cd="ambiguous" id="alg5.l15.m1.1.1.3.2.1.cmml" xref="alg5.l15.m1.1.1.3.2">superscript</csymbol><ci id="alg5.l15.m1.1.1.3.2.2.cmml" xref="alg5.l15.m1.1.1.3.2.2">𝜃</ci><ci id="alg5.l15.m1.1.1.3.2.3.cmml" xref="alg5.l15.m1.1.1.3.2.3">𝑤</ci></apply><ci id="alg5.l15.m1.1.1.3.3.cmml" xref="alg5.l15.m1.1.1.3.3">𝐦</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l15.m1.1c">\theta^{p}=\theta^{w}\odot\mathbf{m}</annotation></semantics></math>

</div>
<div id="alg5.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">16:</span>     <span id="alg5.l16.1" class="ltx_text ltx_font_bold">return</span> <math id="alg5.l16.m1.1" class="ltx_Math" alttext="\theta^{p}(b)" display="inline"><semantics id="alg5.l16.m1.1a"><mrow id="alg5.l16.m1.1.2" xref="alg5.l16.m1.1.2.cmml"><msup id="alg5.l16.m1.1.2.2" xref="alg5.l16.m1.1.2.2.cmml"><mi id="alg5.l16.m1.1.2.2.2" xref="alg5.l16.m1.1.2.2.2.cmml">θ</mi><mi id="alg5.l16.m1.1.2.2.3" xref="alg5.l16.m1.1.2.2.3.cmml">p</mi></msup><mo lspace="0em" rspace="0em" id="alg5.l16.m1.1.2.1" xref="alg5.l16.m1.1.2.1.cmml">​</mo><mrow id="alg5.l16.m1.1.2.3.2" xref="alg5.l16.m1.1.2.cmml"><mo stretchy="false" id="alg5.l16.m1.1.2.3.2.1" xref="alg5.l16.m1.1.2.cmml">(</mo><mi id="alg5.l16.m1.1.1" xref="alg5.l16.m1.1.1.cmml">b</mi><mo stretchy="false" id="alg5.l16.m1.1.2.3.2.2" xref="alg5.l16.m1.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="alg5.l16.m1.1b"><apply id="alg5.l16.m1.1.2.cmml" xref="alg5.l16.m1.1.2"><times id="alg5.l16.m1.1.2.1.cmml" xref="alg5.l16.m1.1.2.1"></times><apply id="alg5.l16.m1.1.2.2.cmml" xref="alg5.l16.m1.1.2.2"><csymbol cd="ambiguous" id="alg5.l16.m1.1.2.2.1.cmml" xref="alg5.l16.m1.1.2.2">superscript</csymbol><ci id="alg5.l16.m1.1.2.2.2.cmml" xref="alg5.l16.m1.1.2.2.2">𝜃</ci><ci id="alg5.l16.m1.1.2.2.3.cmml" xref="alg5.l16.m1.1.2.2.3">𝑝</ci></apply><ci id="alg5.l16.m1.1.1.cmml" xref="alg5.l16.m1.1.1">𝑏</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg5.l16.m1.1c">\theta^{p}(b)</annotation></semantics></math>

</div>
<div id="alg5.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline">17:</span><span id="alg5.l17.1" class="ltx_text ltx_font_bold">end</span> <span id="alg5.l17.2" class="ltx_text ltx_font_bold">function</span>
</div>
</div>
</figure>
</section>
<section id="A5" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Missing Details of Experiment Setup</h2>

<section id="A5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.1 </span>Datasets and Model Architectures</h3>

<div id="A5.SS1.p1" class="ltx_para">
<p id="A5.SS1.p1.1" class="ltx_p">In this section, we discuss our hyperparameters for each baseline and each dataset.
In all the experiments we use SGD as the optimizer, and we use a momentum of 0.9 with weight decay of 1e-4.
We tune the learning rate and local epochs for each dataset and each baseline to find the best results.
We run all the experiments for 3000 global epochs and report the final results. q-FFL converges slower, so we allow 6000 global epochs for q-FFL.</p>
</div>
<figure id="A5.T7" class="ltx_table">
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table">Table 7: </span>Model architectures. </figcaption>
<table id="A5.T7.1" class="ltx_tabular ltx_centering ltx_align_middle">
<tbody class="ltx_tbody">
<tr id="A5.T7.1.1.1" class="ltx_tr">
<td id="A5.T7.1.1.1.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_t">Architecture</td>
<td id="A5.T7.1.1.1.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Layer Name</td>
<td id="A5.T7.1.1.1.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Number of params</td>
</tr>
<tr id="A5.T7.1.2.2" class="ltx_tr">
<td id="A5.T7.1.2.2.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_tt" rowspan="5"><span id="A5.T7.1.2.2.1.1" class="ltx_text">LeNet (FairMNISTRotate)</span></td>
<td id="A5.T7.1.2.2.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">Convolution(32) + Relu</td>
<td id="A5.T7.1.2.2.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">288</td>
</tr>
<tr id="A5.T7.1.3.3" class="ltx_tr">
<td id="A5.T7.1.3.3.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Convolution(64) + Relu</td>
<td id="A5.T7.1.3.3.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">18432</td>
</tr>
<tr id="A5.T7.1.4.4" class="ltx_tr">
<td id="A5.T7.1.4.4.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">MaxPool(2x2)</td>
<td id="A5.T7.1.4.4.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
</tr>
<tr id="A5.T7.1.5.5" class="ltx_tr">
<td id="A5.T7.1.5.5.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FC(128) + Relu</td>
<td id="A5.T7.1.5.5.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1605632</td>
</tr>
<tr id="A5.T7.1.6.6" class="ltx_tr">
<td id="A5.T7.1.6.6.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FC(10)</td>
<td id="A5.T7.1.6.6.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1280</td>
</tr>
<tr id="A5.T7.1.7.7" class="ltx_tr">
<td id="A5.T7.1.7.7.1" class="ltx_td ltx_align_center ltx_border_l ltx_border_r ltx_border_tt" rowspan="5"><span id="A5.T7.1.7.7.1.1" class="ltx_text">LeNet (FEMNIST)</span></td>
<td id="A5.T7.1.7.7.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t">Convolution(32) + Relu</td>
<td id="A5.T7.1.7.7.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt ltx_border_t">288</td>
</tr>
<tr id="A5.T7.1.8.8" class="ltx_tr">
<td id="A5.T7.1.8.8.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">Convolution(64) + Relu</td>
<td id="A5.T7.1.8.8.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">18432</td>
</tr>
<tr id="A5.T7.1.9.9" class="ltx_tr">
<td id="A5.T7.1.9.9.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">MaxPool(2x2)</td>
<td id="A5.T7.1.9.9.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">-</td>
</tr>
<tr id="A5.T7.1.10.10" class="ltx_tr">
<td id="A5.T7.1.10.10.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FC(128) + Relu</td>
<td id="A5.T7.1.10.10.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1605632</td>
</tr>
<tr id="A5.T7.1.11.11" class="ltx_tr">
<td id="A5.T7.1.11.11.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FC(62)</td>
<td id="A5.T7.1.11.11.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">7936</td>
</tr>
<tr id="A5.T7.1.12.12" class="ltx_tr">
<td id="A5.T7.1.12.12.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_l ltx_border_r ltx_border_tt" rowspan="3"><span id="A5.T7.1.12.12.1.1" class="ltx_text">FC (Adult)</span></td>
<td id="A5.T7.1.12.12.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">FC(1024) + Relu</td>
<td id="A5.T7.1.12.12.3" class="ltx_td ltx_align_center ltx_border_r ltx_border_tt">103424</td>
</tr>
<tr id="A5.T7.1.13.13" class="ltx_tr">
<td id="A5.T7.1.13.13.1" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">FC(1024) + Relu</td>
<td id="A5.T7.1.13.13.2" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">1048576</td>
</tr>
<tr id="A5.T7.1.14.14" class="ltx_tr">
<td id="A5.T7.1.14.14.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">FC(2)</td>
<td id="A5.T7.1.14.14.2" class="ltx_td ltx_align_center ltx_border_bb ltx_border_b ltx_border_r ltx_border_t">2048</td>
</tr>
</tbody>
</table>
</figure>
<div id="A5.SS1.p2" class="ltx_para ltx_noindent">
<p id="A5.SS1.p2.1" class="ltx_p"><span id="A5.SS1.p2.1.1" class="ltx_text ltx_font_bold">FairMNISTRotate:</span> 
We experiment with LeNet architecture given in Table <a href="#A5.T7" title="Table 7 ‣ E.1 Datasets and Model Architectures ‣ Appendix E Missing Details of Experiment Setup ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>. For local training in each E2FL round, each client uses 2 epochs with learning rate of 0.1. For FedAvg, we use 2 local epochs with learning rate of 0.01. For q-FFL, we set the q-FFL fairness hyperparameter to 0.1 along with the same settings of FedAvg. We use batch size of 8, and we select 25 client (out of 1000) in each FL round for all the experiments.</p>
</div>
<div id="A5.SS1.p3" class="ltx_para ltx_noindent">
<p id="A5.SS1.p3.1" class="ltx_p"><span id="A5.SS1.p3.1.1" class="ltx_text ltx_font_bold">FEMNIST <cite class="ltx_cite ltx_citemacro_citep">(Caldas et al. <a href="#bib.bib3" title="" class="ltx_ref">2018</a>; Cohen et al. <a href="#bib.bib4" title="" class="ltx_ref">2017</a>)</cite></span> 
is a character recognition classification task with 3,400 clients, 62 classes (52 for upper and lower case letters and 10 for digits), and 671,585 grey-scale images. Each client has data of their own handwritten digits or letters. We use LeNet architecture given in Table <a href="#A5.T7" title="Table 7 ‣ E.1 Datasets and Model Architectures ‣ Appendix E Missing Details of Experiment Setup ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.
For local training in each E2FL round, each client uses 2 epochs with learning rate of 0.05.
For FedAvg, we use 2 local epochs with learning rate of 0.05. For q-FFL, we set the q-FFL fairness hyperparameter to 0.1 with the same setting of FedAvg.
We use batch size of 10, and we select 25 clients (out of 3400) in each FL round for all the experiments.</p>
</div>
<div id="A5.SS1.p4" class="ltx_para ltx_noindent">
<p id="A5.SS1.p4.3" class="ltx_p"><span id="A5.SS1.p4.3.1" class="ltx_text ltx_font_bold">Adult</span> 
Adult Census Income Dataset <cite class="ltx_cite ltx_citemacro_citep">(Kohavi et al. <a href="#bib.bib15" title="" class="ltx_ref">1996</a>)</cite> is a dataset commonly used for fair machine learning literature.
The dataset consists of anonymous information such as gender, race, education, occupation, etc. We experiment with a simple 3-layer fully connected network given in Table <a href="#A5.T7" title="Table 7 ‣ E.1 Datasets and Model Architectures ‣ Appendix E Missing Details of Experiment Setup ‣ E2FL: Equal and Equitable Federated Learning" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a>.
We consider gender as the protected attribute where we consider male samples <math id="A5.SS1.p4.1.m1.1" class="ltx_Math" alttext="(A=1)" display="inline"><semantics id="A5.SS1.p4.1.m1.1a"><mrow id="A5.SS1.p4.1.m1.1.1.1" xref="A5.SS1.p4.1.m1.1.1.1.1.cmml"><mo stretchy="false" id="A5.SS1.p4.1.m1.1.1.1.2" xref="A5.SS1.p4.1.m1.1.1.1.1.cmml">(</mo><mrow id="A5.SS1.p4.1.m1.1.1.1.1" xref="A5.SS1.p4.1.m1.1.1.1.1.cmml"><mi id="A5.SS1.p4.1.m1.1.1.1.1.2" xref="A5.SS1.p4.1.m1.1.1.1.1.2.cmml">A</mi><mo id="A5.SS1.p4.1.m1.1.1.1.1.1" xref="A5.SS1.p4.1.m1.1.1.1.1.1.cmml">=</mo><mn id="A5.SS1.p4.1.m1.1.1.1.1.3" xref="A5.SS1.p4.1.m1.1.1.1.1.3.cmml">1</mn></mrow><mo stretchy="false" id="A5.SS1.p4.1.m1.1.1.1.3" xref="A5.SS1.p4.1.m1.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A5.SS1.p4.1.m1.1b"><apply id="A5.SS1.p4.1.m1.1.1.1.1.cmml" xref="A5.SS1.p4.1.m1.1.1.1"><eq id="A5.SS1.p4.1.m1.1.1.1.1.1.cmml" xref="A5.SS1.p4.1.m1.1.1.1.1.1"></eq><ci id="A5.SS1.p4.1.m1.1.1.1.1.2.cmml" xref="A5.SS1.p4.1.m1.1.1.1.1.2">𝐴</ci><cn type="integer" id="A5.SS1.p4.1.m1.1.1.1.1.3.cmml" xref="A5.SS1.p4.1.m1.1.1.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS1.p4.1.m1.1c">(A=1)</annotation></semantics></math> as the privileged group and female samples <math id="A5.SS1.p4.2.m2.1" class="ltx_Math" alttext="(A=0)" display="inline"><semantics id="A5.SS1.p4.2.m2.1a"><mrow id="A5.SS1.p4.2.m2.1.1.1" xref="A5.SS1.p4.2.m2.1.1.1.1.cmml"><mo stretchy="false" id="A5.SS1.p4.2.m2.1.1.1.2" xref="A5.SS1.p4.2.m2.1.1.1.1.cmml">(</mo><mrow id="A5.SS1.p4.2.m2.1.1.1.1" xref="A5.SS1.p4.2.m2.1.1.1.1.cmml"><mi id="A5.SS1.p4.2.m2.1.1.1.1.2" xref="A5.SS1.p4.2.m2.1.1.1.1.2.cmml">A</mi><mo id="A5.SS1.p4.2.m2.1.1.1.1.1" xref="A5.SS1.p4.2.m2.1.1.1.1.1.cmml">=</mo><mn id="A5.SS1.p4.2.m2.1.1.1.1.3" xref="A5.SS1.p4.2.m2.1.1.1.1.3.cmml">0</mn></mrow><mo stretchy="false" id="A5.SS1.p4.2.m2.1.1.1.3" xref="A5.SS1.p4.2.m2.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A5.SS1.p4.2.m2.1b"><apply id="A5.SS1.p4.2.m2.1.1.1.1.cmml" xref="A5.SS1.p4.2.m2.1.1.1"><eq id="A5.SS1.p4.2.m2.1.1.1.1.1.cmml" xref="A5.SS1.p4.2.m2.1.1.1.1.1"></eq><ci id="A5.SS1.p4.2.m2.1.1.1.1.2.cmml" xref="A5.SS1.p4.2.m2.1.1.1.1.2">𝐴</ci><cn type="integer" id="A5.SS1.p4.2.m2.1.1.1.1.3.cmml" xref="A5.SS1.p4.2.m2.1.1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS1.p4.2.m2.1c">(A=0)</annotation></semantics></math> as unprivileged users.
For experiments on the Adult dataset, we use all of the updates <math id="A5.SS1.p4.3.m3.1" class="ltx_Math" alttext="(n=N=5)" display="inline"><semantics id="A5.SS1.p4.3.m3.1a"><mrow id="A5.SS1.p4.3.m3.1.1.1" xref="A5.SS1.p4.3.m3.1.1.1.1.cmml"><mo stretchy="false" id="A5.SS1.p4.3.m3.1.1.1.2" xref="A5.SS1.p4.3.m3.1.1.1.1.cmml">(</mo><mrow id="A5.SS1.p4.3.m3.1.1.1.1" xref="A5.SS1.p4.3.m3.1.1.1.1.cmml"><mi id="A5.SS1.p4.3.m3.1.1.1.1.2" xref="A5.SS1.p4.3.m3.1.1.1.1.2.cmml">n</mi><mo id="A5.SS1.p4.3.m3.1.1.1.1.3" xref="A5.SS1.p4.3.m3.1.1.1.1.3.cmml">=</mo><mi id="A5.SS1.p4.3.m3.1.1.1.1.4" xref="A5.SS1.p4.3.m3.1.1.1.1.4.cmml">N</mi><mo id="A5.SS1.p4.3.m3.1.1.1.1.5" xref="A5.SS1.p4.3.m3.1.1.1.1.5.cmml">=</mo><mn id="A5.SS1.p4.3.m3.1.1.1.1.6" xref="A5.SS1.p4.3.m3.1.1.1.1.6.cmml">5</mn></mrow><mo stretchy="false" id="A5.SS1.p4.3.m3.1.1.1.3" xref="A5.SS1.p4.3.m3.1.1.1.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="A5.SS1.p4.3.m3.1b"><apply id="A5.SS1.p4.3.m3.1.1.1.1.cmml" xref="A5.SS1.p4.3.m3.1.1.1"><and id="A5.SS1.p4.3.m3.1.1.1.1a.cmml" xref="A5.SS1.p4.3.m3.1.1.1"></and><apply id="A5.SS1.p4.3.m3.1.1.1.1b.cmml" xref="A5.SS1.p4.3.m3.1.1.1"><eq id="A5.SS1.p4.3.m3.1.1.1.1.3.cmml" xref="A5.SS1.p4.3.m3.1.1.1.1.3"></eq><ci id="A5.SS1.p4.3.m3.1.1.1.1.2.cmml" xref="A5.SS1.p4.3.m3.1.1.1.1.2">𝑛</ci><ci id="A5.SS1.p4.3.m3.1.1.1.1.4.cmml" xref="A5.SS1.p4.3.m3.1.1.1.1.4">𝑁</ci></apply><apply id="A5.SS1.p4.3.m3.1.1.1.1c.cmml" xref="A5.SS1.p4.3.m3.1.1.1"><eq id="A5.SS1.p4.3.m3.1.1.1.1.5.cmml" xref="A5.SS1.p4.3.m3.1.1.1.1.5"></eq><share href="#A5.SS1.p4.3.m3.1.1.1.1.4.cmml" id="A5.SS1.p4.3.m3.1.1.1.1d.cmml" xref="A5.SS1.p4.3.m3.1.1.1"></share><cn type="integer" id="A5.SS1.p4.3.m3.1.1.1.1.6.cmml" xref="A5.SS1.p4.3.m3.1.1.1.1.6">5</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS1.p4.3.m3.1c">(n=N=5)</annotation></semantics></math> in each round. We train for 20 global epochs, and in each global epoch, we ask the clients to run for 5 local epochs using SGD as the optimizer with learning rate of 2.0, momentum of 0.9 and weight decay of 1e-4 for all the experiments.</p>
</div>
</section>
<section id="A5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.2 </span>Missing Details of Baselines </h3>

<div id="A5.SS2.p1" class="ltx_para ltx_noindent">
<p id="A5.SS2.p1.1" class="ltx_p"><span id="A5.SS2.p1.1.1" class="ltx_text ltx_font_bold">Federated averaging (FedAvg) <cite class="ltx_cite ltx_citemacro_citep">(Konečnỳ et al. <a href="#bib.bib16" title="" class="ltx_ref">2016</a>; McMahan et al. <a href="#bib.bib24" title="" class="ltx_ref">2017</a>)</cite>:</span> 
FedAvg is an effective aggregation rule (AGR) where due to its efficiency, Average is the only AGR implemented by FL applications in practice <cite class="ltx_cite ltx_citemacro_citep">(Ludwig et al. <a href="#bib.bib22" title="" class="ltx_ref">2020</a>; Paulik, Seigel, and and <a href="#bib.bib27" title="" class="ltx_ref">2021</a>)</cite>.</p>
</div>
<div id="A5.SS2.p2" class="ltx_para ltx_noindent">
<p id="A5.SS2.p2.1" class="ltx_p"><span id="A5.SS2.p2.1.1" class="ltx_text ltx_font_bold">IFCA <cite class="ltx_cite ltx_citemacro_citep">(Ghosh et al. <a href="#bib.bib10" title="" class="ltx_ref">2020</a>)</cite></span> 
This algorithm assumes that users are partitioned into different clusters, and their goal is to train a separate model for each cluster. Their main challenge was how to identify the cluster membership of each user. For their experiments, they assume that they know the number of clusters. Also in case of ambiguous cluster structure, they treat the number of clusters as a hyperparameter to tune. They propose Iterative Federated Clustering Algorithm (IFCA) that solves simultaneously two problems: 1) identifies the cluster membership of each user and 2) optimizes each cluster model. In IFCA, the server will send all the models to selected clients in each round, and each client will pick the best model that produces the least amount of loss and participates in the training of that cluster. On the server side, it is just FedAvg for several clusters.</p>
</div>
<div id="A5.SS2.p3" class="ltx_para ltx_noindent">
<p id="A5.SS2.p3.1" class="ltx_p"><span id="A5.SS2.p3.1.1" class="ltx_text ltx_font_bold">Local training:</span>  A framework in which the clients train standalone models on local datasets without collaboration.</p>
</div>
<div id="A5.SS2.p4" class="ltx_para ltx_noindent">
<p id="A5.SS2.p4.1" class="ltx_p"><span id="A5.SS2.p4.1.1" class="ltx_text ltx_font_bold">FedFair <cite class="ltx_cite ltx_citemacro_citep">(Ezzeldin et al. <a href="#bib.bib8" title="" class="ltx_ref">2021</a>)</cite>:</span>  This algorithm adaptively modifies the aggregation weights at the server in each round. The weights are based on the mismatch between the global fairness measure (at the server) and the local fairness measure at each client. This algorithm is favouring clients whose local measures match more with the global fairness measure.</p>
</div>
<div id="A5.SS2.p5" class="ltx_para ltx_noindent">
<p id="A5.SS2.p5.1" class="ltx_p"><span id="A5.SS2.p5.1.1" class="ltx_text ltx_font_bold">q-FFL <cite class="ltx_cite ltx_citemacro_citep">(Li et al. <a href="#bib.bib20" title="" class="ltx_ref">2020b</a>)</cite>:</span>  Inspired by fair resource allocation algorithms for wireless networks, Li et al. <cite class="ltx_cite ltx_citemacro_citep">(Li et al. <a href="#bib.bib20" title="" class="ltx_ref">2020b</a>)</cite> design a federated optimization technique called q-FFL.
This technique aims at improving FL fairness by minimizing the aggregate reweighed loss, in a way that the devices with higher loss are given higher relative weights.</p>
</div>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2205.10453" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2205.10454" class="ar5iv-text-button ar5iv-severity-error">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2205.10454">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2205.10454" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2205.10455" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Mon Mar 11 15:57:17 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
