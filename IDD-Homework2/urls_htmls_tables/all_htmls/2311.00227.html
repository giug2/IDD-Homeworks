<!DOCTYPE html><html lang="en">
<head>
<meta http-equiv="content-type" content="text/html; charset=UTF-8">
<title>[2311.00227] StableFDG: Style and Attention Based Learning for Federated Domain Generalization</title><meta property="og:description" content="Traditional federated learning (FL) algorithms operate under the assumption that the data distributions at training (source domains) and testing (target domain) are the same. The fact that domain shifts often occur in …">
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="StableFDG: Style and Attention Based Learning for Federated Domain Generalization">
<meta name="twitter:image:src" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta name="twitter:image:alt" content="ar5iv logo">
<meta property="og:title" content="StableFDG: Style and Attention Based Learning for Federated Domain Generalization">
<meta property="og:site_name" content="ar5iv">
<meta property="og:image" content="https://ar5iv.labs.arxiv.org/assets/ar5iv_card.png">
<meta property="og:type" content="article">
<meta property="og:url" content="https://ar5iv.labs.arxiv.org/html/2311.00227">

<!--Generated on Tue Feb 27 20:54:41 2024 by LaTeXML (version 0.8.8) http://dlmf.nist.gov/LaTeXML/.-->
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

<script>
  function detectColorScheme(){
    var theme="light";
    var current_theme = localStorage.getItem("ar5iv_theme");
    if(current_theme){
      if(current_theme == "dark"){
        theme = "dark";
      } }
    else if(!window.matchMedia) { return false; }
    else if(window.matchMedia("(prefers-color-scheme: dark)").matches) {
      theme = "dark"; }
    if (theme=="dark") {
      document.documentElement.setAttribute("data-theme", "dark");
    } else {
      document.documentElement.setAttribute("data-theme", "light"); } }

  detectColorScheme();

  function toggleColorScheme(){
    var current_theme = localStorage.getItem("ar5iv_theme");
    if (current_theme) {
      if (current_theme == "light") {
        localStorage.setItem("ar5iv_theme", "dark"); }
      else {
        localStorage.setItem("ar5iv_theme", "light"); } }
    else {
        localStorage.setItem("ar5iv_theme", "dark"); }
    detectColorScheme(); }
</script>
<link media="all" rel="stylesheet" href="/assets/ar5iv-fonts.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv.0.8.0.min.css"><link media="all" rel="stylesheet" href="/assets/ar5iv-site.0.2.2.css">
</head>
<body>
<div class="ltx_page_main">
<div class="ltx_page_content">
<article class="ltx_document ltx_authors_1line">
<h1 class="ltx_title ltx_title_document">StableFDG: Style and Attention Based Learning for Federated Domain Generalization</h1>
<div class="ltx_authors">
<span class="ltx_creator ltx_role_author">
<span class="ltx_personname">Jungwuk Park 
<br class="ltx_break">KAIST
<br class="ltx_break"><span id="id2.2.id1" class="ltx_text ltx_font_typewriter">savertm@kaist.ac.kr</span> 
<br class="ltx_break">&amp;Dong-Jun Han<sup id="id3.3.id2" class="ltx_sup"><span id="id3.3.id2.1" class="ltx_text ltx_font_italic">∗</span></sup> 
<br class="ltx_break">Purdue University
<br class="ltx_break"><span id="id4.4.id3" class="ltx_text ltx_font_typewriter">han762@prudue.edu</span> 
<br class="ltx_break">&amp;Jinho Kim 
<br class="ltx_break">SK Hynix
<br class="ltx_break"><span id="id5.5.id4" class="ltx_text ltx_font_typewriter">jinho123.kim@sk.com</span> 
<br class="ltx_break">&amp;Shiqiang Wang 
<br class="ltx_break">IBM Research
<br class="ltx_break"><span id="id6.6.id5" class="ltx_text ltx_font_typewriter">wangshiq@us.ibm.com</span> 
<br class="ltx_break">&amp;Christopher G. Brinton 
<br class="ltx_break">Purdue University
<br class="ltx_break"><span id="id7.7.id6" class="ltx_text ltx_font_typewriter">cgb@purdue.edu</span> 
<br class="ltx_break">&amp;Jaekyun Moon 
<br class="ltx_break">KAIST 
<br class="ltx_break"><span id="id8.8.id7" class="ltx_text ltx_font_typewriter"> jmoon@kaist.edu  </span> 
<br class="ltx_break">
</span><span class="ltx_author_notes">Authors contributed equally to this work.</span></span>
</div>

<div class="ltx_abstract">
<h6 class="ltx_title ltx_title_abstract">Abstract</h6>
<p id="id9.id1" class="ltx_p">Traditional federated learning (FL) algorithms operate under the assumption that the data distributions at training (source domains) and testing (target domain) are the same. The fact that domain shifts often occur in practice necessitates equipping FL methods with a domain generalization (DG) capability. However, existing DG algorithms face fundamental challenges in FL setups due to the lack of samples/domains in each client’s local dataset. In this paper, we propose StableFDG, a <span id="id9.id1.1" class="ltx_text ltx_font_italic">style and attention based learning strategy</span> for accomplishing federated domain generalization, introducing two key contributions. The first is style-based learning, which enables each client to explore novel styles beyond the original source domains in its local dataset, improving domain diversity based on the proposed style sharing, shifting, and exploration strategies. Our second contribution is an attention-based feature highlighter, which captures the similarities between the features of data samples in the same class, and emphasizes the important/common characteristics to better learn the domain-invariant characteristics of each class in data-poor FL scenarios. Experimental results show that StableFDG outperforms existing baselines on various DG benchmark datasets, demonstrating its efficacy.</p>
</div>
<section id="S1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">1 </span>Introduction</h2>

<div id="S1.p1" class="ltx_para">
<p id="S1.p1.1" class="ltx_p">Federated learning (FL) has now become a key paradigm for training a machine learning model using local data of distributed clients <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>, <a href="#bib.bib19" title="" class="ltx_ref">19</a>, <a href="#bib.bib11" title="" class="ltx_ref">11</a>]</cite>. Without directly sharing each client’s data to the third party, FL enables the clients to construct a global model via collaboration. However, although FL has achieved remarkable success, the underlying assumption of previous works is that the data distributions during training and testing are the same. This assumption is not valid in various scenarios with domain shifts; for example, although the FL clients only have data samples that belong to the source domains (e.g., images on sunny days and rainy days), the trained global model should be also able to make reliable predictions for the unseen target domain (e.g., images on snowy days). Therefore, in practice, FL methods have to be equipped with a domain generalization (DG) capability.</p>
</div>
<div id="S1.p2" class="ltx_para">
<p id="S1.p2.1" class="ltx_p">Given the source domains in the training phase, DG aims to construct a model that has a generalization capability to predict well on an unseen target domain.
Various DG methods have been proposed in a centralized setup <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib38" title="" class="ltx_ref">38</a>, <a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>.
However, directly applying centralized DG schemes to FL can potentially restrict the model performance since each client has limited numbers of data samples and styles in its local dataset. The local models are unable to capture the domain-invariant characteristics due to lack of data/styles in individual clients.</p>
</div>
<div id="S1.p3" class="ltx_para">
<p id="S1.p3.1" class="ltx_p">Although several researchers have recently focused on DG for FL <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>, they still do not directly handle the fundamental issues that arise from the lack of data and styles (which represent domains) in individual FL clients. These performance limitations become especially prevalent when federating complex DG datasets having large style shifts between domains or having backgrounds unrelated to the prediction of class, as we will see in Sec. <a href="#S4" title="4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>. Despite the practical significance of federated DG, this field is still in an early stage of research and remains a great challenge.</p>
</div>
<div id="S1.p4" class="ltx_para">
<p id="S1.p4.1" class="ltx_p"><span id="S1.p4.1.1" class="ltx_text ltx_font_bold">Contributions.</span> In this paper, we propose StableFDG, a <span id="S1.p4.1.2" class="ltx_text ltx_font_italic">style and attention based learning strategy</span> tailored to federated domain generalization. StableFDG tackles the fundamental challenges in federated DG that arise due to the lack of data/styles in each FL client, with two novel characteristics:</p>
<ul id="S1.I1" class="ltx_itemize">
<li id="S1.I1.i1" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i1.p1" class="ltx_para">
<p id="S1.I1.i1.p1.1" class="ltx_p">We first propose <span id="S1.I1.i1.p1.1.1" class="ltx_text ltx_font_italic">style-based learning</span>, which exposes the model of each FL client to various styles beyond the source domains in its local dataset. Specifically, we (i) design a style-sharing method that can compensate for the missing styles in each client by sharing the style statistics with other clients; (ii) propose a style-shifting strategy that can select the best styles to be shifted to the new style to balance between the original and new styles; and (iii) develop style-exploration to further expose the model to a wider variety of styles by extrapolating the current styles. Based on these unique characteristics, our style-based learning handles the issue of the lack of styles in each FL client, significantly improving generalization capability. </p>
</div>
</li>
<li id="S1.I1.i2" class="ltx_item" style="list-style-type:none;">
<span class="ltx_tag ltx_tag_item">•</span> 
<div id="S1.I1.i2.p1" class="ltx_para">
<p id="S1.I1.i2.p1.1" class="ltx_p">We also propose an <span id="S1.I1.i2.p1.1.1" class="ltx_text ltx_font_italic">attention-based feature highlighter</span>, which enables the model to focus only on the important/essential parts of the features when making the prediction. Our key contribution here is to utilize an attention module to capture the similarities between the features of data samples in the same class (regardless of the domain), and emphasize the important/common characteristics to better learn the domain-invariant features. Especially in data-poor FL scenarios where models are prone to overfitting to small local datasets, our new strategy provides advantages for complicated DG tasks by removing background noises that are unrelated to class prediction and focusing on the important parts.</p>
</div>
</li>
</ul>
</div>
<div id="S1.p5" class="ltx_para">
<p id="S1.p5.1" class="ltx_p">The two suggested schemes work in a complementary fashion, each providing one necessary component for federated DG: our style-based learning
improves domain diversity, while the attention-based feature highlighter learns domain-invariant characteristics of each class. Experiments on various FL setups using DG benchmarks confirm the advantage of StableFDG over (i) the baselines that directly apply DG methods to FL and (ii) the baselines that are specifically designed for federated DG.</p>
</div>
</section>
<section id="S2" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">2 </span>Related Works</h2>

<div id="S2.p1" class="ltx_para">
<p id="S2.p1.1" class="ltx_p"><span id="S2.p1.1.1" class="ltx_text ltx_font_bold">Federated learning.</span> FL enables multiple clients to train a shared global model or personalized models without directly sharing each client’s data with the server or other clients. FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> is a well-known early work that sparked interest in FL in the machine learning community. Since then, various FL strategies have been proposed to handle the communication burden issue <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib31" title="" class="ltx_ref">31</a>, <a href="#bib.bib9" title="" class="ltx_ref">9</a>]</cite>, data heterogeneity issue <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib20" title="" class="ltx_ref">20</a>, <a href="#bib.bib12" title="" class="ltx_ref">12</a>]</cite>, adversarial attack issue <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib34" title="" class="ltx_ref">34</a>, <a href="#bib.bib29" title="" class="ltx_ref">29</a>, <a href="#bib.bib7" title="" class="ltx_ref">7</a>]</cite>, and personalization issue <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib3" title="" class="ltx_ref">3</a>, <a href="#bib.bib18" title="" class="ltx_ref">18</a>, <a href="#bib.bib5" title="" class="ltx_ref">5</a>]</cite>. However, existing FL methods do not have generalization capabilities to predict well on an arbitrary unseen domain. In other words, most prior FL methods are not able to handle the DG problem.</p>
</div>
<div id="S2.p2" class="ltx_para">
<p id="S2.p2.1" class="ltx_p"><span id="S2.p2.1.1" class="ltx_text ltx_font_bold">Domain generalization.</span> DG is one of the emerging fields in the AI community due to its significance in practical applications. Existing DG strategies based on domain alignment <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib17" title="" class="ltx_ref">17</a>, <a href="#bib.bib24" title="" class="ltx_ref">24</a>, <a href="#bib.bib23" title="" class="ltx_ref">23</a>]</cite>, meta-learning <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib16" title="" class="ltx_ref">16</a>, <a href="#bib.bib4" title="" class="ltx_ref">4</a>, <a href="#bib.bib15" title="" class="ltx_ref">15</a>, <a href="#bib.bib37" title="" class="ltx_ref">37</a>]</cite> and style/data-augmentation <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib36" title="" class="ltx_ref">36</a>, <a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite> have shown great success in a centralized setup where the whole dataset is accessible during training. Recently, style-augmentation methods <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>, <a href="#bib.bib36" title="" class="ltx_ref">36</a>]</cite> including MixStyle <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> and DSU <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> are receiving considerable attention due to their high compatibility with various tasks and model architectures. However, although existing DG solutions work well in a centralized setup, they face challenges in FL scenarios; in data-poor FL setups, prior works achieve relatively low performance due to the lack of data samples or domains in each client, resulting in compromised generalization capabilities. The applications of meta-learning or domain alignment methods could be also limited when domain labels are not accessible in each client. Compared to these prior works focusing on a centralized DG setup, we develop a style and attention based DG strategy tailored to FL. The advantages of our methodology against these baselines are confirmed via experiments in Sec. <a href="#S4" title="4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>.</p>
</div>
<div id="S2.p3" class="ltx_para">
<p id="S2.p3.1" class="ltx_p"><span id="S2.p3.1.1" class="ltx_text ltx_font_bold">Federated domain generalization.</span> Only a few recent works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> have focused on the intersection of FL and DG.
Based on the training set distributed across clients, the goal of these works is to construct a global model that is generalizable to an unseen target domain. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, the authors proposed to share the style statistics across different clients that could be utilized during local updates. However, this method does not utilize the styles beyond the clients’ domains and shows limited performance in specific datasets where the data samples are not well separated in the style space. Moreover, it increases the computation and memory costs for generating new images in each client using a pretrained style transfer. In our work, we handle these issues via style exploration and the attention-based feature highlighter to train the model with novel styles while capturing the important knowledge of each class. In <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>, the authors proposed to exchange distribution information among clients based on Fourier transform, especially targeting image segmentation tasks for medical data. The authors of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib35" title="" class="ltx_ref">35</a>]</cite> proposed a strategy for federated DG based on the domain-invariant feature extractor and an ensemble of domain-specific classifiers. Two regularization losses are developed in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> aiming to learn a simple representation of data during client-side local updates.</p>
</div>
<div id="S2.p4" class="ltx_para">
<p id="S2.p4.1" class="ltx_p">Although these prior works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib35" title="" class="ltx_ref">35</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> improve DG performance, the authors do not directly handle the issues that arise from limited styles and data in each client. Compared to these works, we take an orthogonal approach based on style and attention based learning to effectively learn style-invariant features while capturing common knowledge of classes. Experimental results in Sec. <a href="#S4" title="4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> reveals that our scheme outperforms existing ideas tackling federated DG in practical data distribution setups.</p>
</div>
</section>
<section id="S3" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">3 </span>Proposed StableFDG Algorithm</h2>

<div id="S3.p1" class="ltx_para">
<p id="S3.p1.13" class="ltx_p"><span id="S3.p1.13.1" class="ltx_text ltx_font_bold">Problem formulation.</span> We consider a FL setup with <math id="S3.p1.1.m1.1" class="ltx_Math" alttext="N" display="inline"><semantics id="S3.p1.1.m1.1a"><mi id="S3.p1.1.m1.1.1" xref="S3.p1.1.m1.1.1.cmml">N</mi><annotation-xml encoding="MathML-Content" id="S3.p1.1.m1.1b"><ci id="S3.p1.1.m1.1.1.cmml" xref="S3.p1.1.m1.1.1">𝑁</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.1.m1.1c">N</annotation></semantics></math> clients distributed over the network. Let <math id="S3.p1.2.m2.1" class="ltx_Math" alttext="\mathcal{S}_{n}=\{(x_{i}^{n},y_{i}^{n})\}_{i=1}^{\rho_{n}}" display="inline"><semantics id="S3.p1.2.m2.1a"><mrow id="S3.p1.2.m2.1.1" xref="S3.p1.2.m2.1.1.cmml"><msub id="S3.p1.2.m2.1.1.3" xref="S3.p1.2.m2.1.1.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.2.m2.1.1.3.2" xref="S3.p1.2.m2.1.1.3.2.cmml">𝒮</mi><mi id="S3.p1.2.m2.1.1.3.3" xref="S3.p1.2.m2.1.1.3.3.cmml">n</mi></msub><mo id="S3.p1.2.m2.1.1.2" xref="S3.p1.2.m2.1.1.2.cmml">=</mo><msubsup id="S3.p1.2.m2.1.1.1" xref="S3.p1.2.m2.1.1.1.cmml"><mrow id="S3.p1.2.m2.1.1.1.1.1.1" xref="S3.p1.2.m2.1.1.1.1.1.2.cmml"><mo stretchy="false" id="S3.p1.2.m2.1.1.1.1.1.1.2" xref="S3.p1.2.m2.1.1.1.1.1.2.cmml">{</mo><mrow id="S3.p1.2.m2.1.1.1.1.1.1.1.2" xref="S3.p1.2.m2.1.1.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.p1.2.m2.1.1.1.1.1.1.1.2.3" xref="S3.p1.2.m2.1.1.1.1.1.1.1.3.cmml">(</mo><msubsup id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.2" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.2.cmml">x</mi><mi id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.3" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.3" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo id="S3.p1.2.m2.1.1.1.1.1.1.1.2.4" xref="S3.p1.2.m2.1.1.1.1.1.1.1.3.cmml">,</mo><msubsup id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.2" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.2.cmml">y</mi><mi id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.3" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.3.cmml">i</mi><mi id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.3" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.p1.2.m2.1.1.1.1.1.1.1.2.5" xref="S3.p1.2.m2.1.1.1.1.1.1.1.3.cmml">)</mo></mrow><mo stretchy="false" id="S3.p1.2.m2.1.1.1.1.1.1.3" xref="S3.p1.2.m2.1.1.1.1.1.2.cmml">}</mo></mrow><mrow id="S3.p1.2.m2.1.1.1.1.3" xref="S3.p1.2.m2.1.1.1.1.3.cmml"><mi id="S3.p1.2.m2.1.1.1.1.3.2" xref="S3.p1.2.m2.1.1.1.1.3.2.cmml">i</mi><mo id="S3.p1.2.m2.1.1.1.1.3.1" xref="S3.p1.2.m2.1.1.1.1.3.1.cmml">=</mo><mn id="S3.p1.2.m2.1.1.1.1.3.3" xref="S3.p1.2.m2.1.1.1.1.3.3.cmml">1</mn></mrow><msub id="S3.p1.2.m2.1.1.1.3" xref="S3.p1.2.m2.1.1.1.3.cmml"><mi id="S3.p1.2.m2.1.1.1.3.2" xref="S3.p1.2.m2.1.1.1.3.2.cmml">ρ</mi><mi id="S3.p1.2.m2.1.1.1.3.3" xref="S3.p1.2.m2.1.1.1.3.3.cmml">n</mi></msub></msubsup></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.2.m2.1b"><apply id="S3.p1.2.m2.1.1.cmml" xref="S3.p1.2.m2.1.1"><eq id="S3.p1.2.m2.1.1.2.cmml" xref="S3.p1.2.m2.1.1.2"></eq><apply id="S3.p1.2.m2.1.1.3.cmml" xref="S3.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.3.1.cmml" xref="S3.p1.2.m2.1.1.3">subscript</csymbol><ci id="S3.p1.2.m2.1.1.3.2.cmml" xref="S3.p1.2.m2.1.1.3.2">𝒮</ci><ci id="S3.p1.2.m2.1.1.3.3.cmml" xref="S3.p1.2.m2.1.1.3.3">𝑛</ci></apply><apply id="S3.p1.2.m2.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.2.cmml" xref="S3.p1.2.m2.1.1.1">superscript</csymbol><apply id="S3.p1.2.m2.1.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.1.2.cmml" xref="S3.p1.2.m2.1.1.1">subscript</csymbol><set id="S3.p1.2.m2.1.1.1.1.1.2.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1"><interval closure="open" id="S3.p1.2.m2.1.1.1.1.1.1.1.3.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2"><apply id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.2">𝑥</ci><ci id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply><apply id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2">superscript</csymbol><apply id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.1.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2">subscript</csymbol><ci id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.2.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.2">𝑦</ci><ci id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.3.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.2.3">𝑖</ci></apply><ci id="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.3.cmml" xref="S3.p1.2.m2.1.1.1.1.1.1.1.2.2.3">𝑛</ci></apply></interval></set><apply id="S3.p1.2.m2.1.1.1.1.3.cmml" xref="S3.p1.2.m2.1.1.1.1.3"><eq id="S3.p1.2.m2.1.1.1.1.3.1.cmml" xref="S3.p1.2.m2.1.1.1.1.3.1"></eq><ci id="S3.p1.2.m2.1.1.1.1.3.2.cmml" xref="S3.p1.2.m2.1.1.1.1.3.2">𝑖</ci><cn type="integer" id="S3.p1.2.m2.1.1.1.1.3.3.cmml" xref="S3.p1.2.m2.1.1.1.1.3.3">1</cn></apply></apply><apply id="S3.p1.2.m2.1.1.1.3.cmml" xref="S3.p1.2.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.p1.2.m2.1.1.1.3.1.cmml" xref="S3.p1.2.m2.1.1.1.3">subscript</csymbol><ci id="S3.p1.2.m2.1.1.1.3.2.cmml" xref="S3.p1.2.m2.1.1.1.3.2">𝜌</ci><ci id="S3.p1.2.m2.1.1.1.3.3.cmml" xref="S3.p1.2.m2.1.1.1.3.3">𝑛</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.2.m2.1c">\mathcal{S}_{n}=\{(x_{i}^{n},y_{i}^{n})\}_{i=1}^{\rho_{n}}</annotation></semantics></math>
be the local dataset of the <math id="S3.p1.3.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.p1.3.m3.1a"><mi id="S3.p1.3.m3.1.1" xref="S3.p1.3.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.p1.3.m3.1b"><ci id="S3.p1.3.m3.1.1.cmml" xref="S3.p1.3.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.3.m3.1c">n</annotation></semantics></math>-th client, which
consists of <math id="S3.p1.4.m4.1" class="ltx_Math" alttext="\rho_{n}" display="inline"><semantics id="S3.p1.4.m4.1a"><msub id="S3.p1.4.m4.1.1" xref="S3.p1.4.m4.1.1.cmml"><mi id="S3.p1.4.m4.1.1.2" xref="S3.p1.4.m4.1.1.2.cmml">ρ</mi><mi id="S3.p1.4.m4.1.1.3" xref="S3.p1.4.m4.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.4.m4.1b"><apply id="S3.p1.4.m4.1.1.cmml" xref="S3.p1.4.m4.1.1"><csymbol cd="ambiguous" id="S3.p1.4.m4.1.1.1.cmml" xref="S3.p1.4.m4.1.1">subscript</csymbol><ci id="S3.p1.4.m4.1.1.2.cmml" xref="S3.p1.4.m4.1.1.2">𝜌</ci><ci id="S3.p1.4.m4.1.1.3.cmml" xref="S3.p1.4.m4.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.4.m4.1c">\rho_{n}</annotation></semantics></math> pairs of data sample <math id="S3.p1.5.m5.1" class="ltx_Math" alttext="x" display="inline"><semantics id="S3.p1.5.m5.1a"><mi id="S3.p1.5.m5.1.1" xref="S3.p1.5.m5.1.1.cmml">x</mi><annotation-xml encoding="MathML-Content" id="S3.p1.5.m5.1b"><ci id="S3.p1.5.m5.1.1.cmml" xref="S3.p1.5.m5.1.1">𝑥</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.5.m5.1c">x</annotation></semantics></math> and the corresponding label <math id="S3.p1.6.m6.1" class="ltx_Math" alttext="y" display="inline"><semantics id="S3.p1.6.m6.1a"><mi id="S3.p1.6.m6.1.1" xref="S3.p1.6.m6.1.1.cmml">y</mi><annotation-xml encoding="MathML-Content" id="S3.p1.6.m6.1b"><ci id="S3.p1.6.m6.1.1.cmml" xref="S3.p1.6.m6.1.1">𝑦</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.6.m6.1c">y</annotation></semantics></math>. Here, each client <math id="S3.p1.7.m7.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.p1.7.m7.1a"><mi id="S3.p1.7.m7.1.1" xref="S3.p1.7.m7.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.p1.7.m7.1b"><ci id="S3.p1.7.m7.1.1.cmml" xref="S3.p1.7.m7.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.7.m7.1c">n</annotation></semantics></math> can have data samples from either a single or multiple source domains in its local dataset <math id="S3.p1.8.m8.1" class="ltx_Math" alttext="\mathcal{S}_{n}" display="inline"><semantics id="S3.p1.8.m8.1a"><msub id="S3.p1.8.m8.1.1" xref="S3.p1.8.m8.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.8.m8.1.1.2" xref="S3.p1.8.m8.1.1.2.cmml">𝒮</mi><mi id="S3.p1.8.m8.1.1.3" xref="S3.p1.8.m8.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.8.m8.1b"><apply id="S3.p1.8.m8.1.1.cmml" xref="S3.p1.8.m8.1.1"><csymbol cd="ambiguous" id="S3.p1.8.m8.1.1.1.cmml" xref="S3.p1.8.m8.1.1">subscript</csymbol><ci id="S3.p1.8.m8.1.1.2.cmml" xref="S3.p1.8.m8.1.1.2">𝒮</ci><ci id="S3.p1.8.m8.1.1.3.cmml" xref="S3.p1.8.m8.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.8.m8.1c">\mathcal{S}_{n}</annotation></semantics></math>. Previous works on FL focus on constructing a global model that predicts well on the overall dataset <math id="S3.p1.9.m9.4" class="ltx_Math" alttext="\mathcal{S}=\{\mathcal{S}_{1},\mathcal{S}_{2},\dots,\mathcal{S}_{N}\}" display="inline"><semantics id="S3.p1.9.m9.4a"><mrow id="S3.p1.9.m9.4.4" xref="S3.p1.9.m9.4.4.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.9.m9.4.4.5" xref="S3.p1.9.m9.4.4.5.cmml">𝒮</mi><mo id="S3.p1.9.m9.4.4.4" xref="S3.p1.9.m9.4.4.4.cmml">=</mo><mrow id="S3.p1.9.m9.4.4.3.3" xref="S3.p1.9.m9.4.4.3.4.cmml"><mo stretchy="false" id="S3.p1.9.m9.4.4.3.3.4" xref="S3.p1.9.m9.4.4.3.4.cmml">{</mo><msub id="S3.p1.9.m9.2.2.1.1.1" xref="S3.p1.9.m9.2.2.1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.9.m9.2.2.1.1.1.2" xref="S3.p1.9.m9.2.2.1.1.1.2.cmml">𝒮</mi><mn id="S3.p1.9.m9.2.2.1.1.1.3" xref="S3.p1.9.m9.2.2.1.1.1.3.cmml">1</mn></msub><mo id="S3.p1.9.m9.4.4.3.3.5" xref="S3.p1.9.m9.4.4.3.4.cmml">,</mo><msub id="S3.p1.9.m9.3.3.2.2.2" xref="S3.p1.9.m9.3.3.2.2.2.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.9.m9.3.3.2.2.2.2" xref="S3.p1.9.m9.3.3.2.2.2.2.cmml">𝒮</mi><mn id="S3.p1.9.m9.3.3.2.2.2.3" xref="S3.p1.9.m9.3.3.2.2.2.3.cmml">2</mn></msub><mo id="S3.p1.9.m9.4.4.3.3.6" xref="S3.p1.9.m9.4.4.3.4.cmml">,</mo><mi mathvariant="normal" id="S3.p1.9.m9.1.1" xref="S3.p1.9.m9.1.1.cmml">…</mi><mo id="S3.p1.9.m9.4.4.3.3.7" xref="S3.p1.9.m9.4.4.3.4.cmml">,</mo><msub id="S3.p1.9.m9.4.4.3.3.3" xref="S3.p1.9.m9.4.4.3.3.3.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.9.m9.4.4.3.3.3.2" xref="S3.p1.9.m9.4.4.3.3.3.2.cmml">𝒮</mi><mi id="S3.p1.9.m9.4.4.3.3.3.3" xref="S3.p1.9.m9.4.4.3.3.3.3.cmml">N</mi></msub><mo stretchy="false" id="S3.p1.9.m9.4.4.3.3.8" xref="S3.p1.9.m9.4.4.3.4.cmml">}</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p1.9.m9.4b"><apply id="S3.p1.9.m9.4.4.cmml" xref="S3.p1.9.m9.4.4"><eq id="S3.p1.9.m9.4.4.4.cmml" xref="S3.p1.9.m9.4.4.4"></eq><ci id="S3.p1.9.m9.4.4.5.cmml" xref="S3.p1.9.m9.4.4.5">𝒮</ci><set id="S3.p1.9.m9.4.4.3.4.cmml" xref="S3.p1.9.m9.4.4.3.3"><apply id="S3.p1.9.m9.2.2.1.1.1.cmml" xref="S3.p1.9.m9.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.p1.9.m9.2.2.1.1.1.1.cmml" xref="S3.p1.9.m9.2.2.1.1.1">subscript</csymbol><ci id="S3.p1.9.m9.2.2.1.1.1.2.cmml" xref="S3.p1.9.m9.2.2.1.1.1.2">𝒮</ci><cn type="integer" id="S3.p1.9.m9.2.2.1.1.1.3.cmml" xref="S3.p1.9.m9.2.2.1.1.1.3">1</cn></apply><apply id="S3.p1.9.m9.3.3.2.2.2.cmml" xref="S3.p1.9.m9.3.3.2.2.2"><csymbol cd="ambiguous" id="S3.p1.9.m9.3.3.2.2.2.1.cmml" xref="S3.p1.9.m9.3.3.2.2.2">subscript</csymbol><ci id="S3.p1.9.m9.3.3.2.2.2.2.cmml" xref="S3.p1.9.m9.3.3.2.2.2.2">𝒮</ci><cn type="integer" id="S3.p1.9.m9.3.3.2.2.2.3.cmml" xref="S3.p1.9.m9.3.3.2.2.2.3">2</cn></apply><ci id="S3.p1.9.m9.1.1.cmml" xref="S3.p1.9.m9.1.1">…</ci><apply id="S3.p1.9.m9.4.4.3.3.3.cmml" xref="S3.p1.9.m9.4.4.3.3.3"><csymbol cd="ambiguous" id="S3.p1.9.m9.4.4.3.3.3.1.cmml" xref="S3.p1.9.m9.4.4.3.3.3">subscript</csymbol><ci id="S3.p1.9.m9.4.4.3.3.3.2.cmml" xref="S3.p1.9.m9.4.4.3.3.3.2">𝒮</ci><ci id="S3.p1.9.m9.4.4.3.3.3.3.cmml" xref="S3.p1.9.m9.4.4.3.3.3.3">𝑁</ci></apply></set></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.9.m9.4c">\mathcal{S}=\{\mathcal{S}_{1},\mathcal{S}_{2},\dots,\mathcal{S}_{N}\}</annotation></semantics></math> or personalized models that work well on individual local datasets <math id="S3.p1.10.m10.1" class="ltx_Math" alttext="\mathcal{S}_{n}" display="inline"><semantics id="S3.p1.10.m10.1a"><msub id="S3.p1.10.m10.1.1" xref="S3.p1.10.m10.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.p1.10.m10.1.1.2" xref="S3.p1.10.m10.1.1.2.cmml">𝒮</mi><mi id="S3.p1.10.m10.1.1.3" xref="S3.p1.10.m10.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p1.10.m10.1b"><apply id="S3.p1.10.m10.1.1.cmml" xref="S3.p1.10.m10.1.1"><csymbol cd="ambiguous" id="S3.p1.10.m10.1.1.1.cmml" xref="S3.p1.10.m10.1.1">subscript</csymbol><ci id="S3.p1.10.m10.1.1.2.cmml" xref="S3.p1.10.m10.1.1.2">𝒮</ci><ci id="S3.p1.10.m10.1.1.3.cmml" xref="S3.p1.10.m10.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.10.m10.1c">\mathcal{S}_{n}</annotation></semantics></math>. In contrast to the conventional FL setup, given the overall dataset (or source domains) <math id="S3.p1.11.m11.1" class="ltx_Math" alttext="\mathcal{S}" display="inline"><semantics id="S3.p1.11.m11.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p1.11.m11.1.1" xref="S3.p1.11.m11.1.1.cmml">𝒮</mi><annotation-xml encoding="MathML-Content" id="S3.p1.11.m11.1b"><ci id="S3.p1.11.m11.1.1.cmml" xref="S3.p1.11.m11.1.1">𝒮</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.11.m11.1c">\mathcal{S}</annotation></semantics></math>, the goal of this work is to construct a shared global model <math id="S3.p1.12.m12.1" class="ltx_Math" alttext="\mathbf{w}" display="inline"><semantics id="S3.p1.12.m12.1a"><mi id="S3.p1.12.m12.1.1" xref="S3.p1.12.m12.1.1.cmml">𝐰</mi><annotation-xml encoding="MathML-Content" id="S3.p1.12.m12.1b"><ci id="S3.p1.12.m12.1.1.cmml" xref="S3.p1.12.m12.1.1">𝐰</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.12.m12.1c">\mathbf{w}</annotation></semantics></math> that has a generalization capability to predict well on any unseen target domain <math id="S3.p1.13.m13.1" class="ltx_Math" alttext="\mathcal{T}" display="inline"><semantics id="S3.p1.13.m13.1a"><mi class="ltx_font_mathcaligraphic" id="S3.p1.13.m13.1.1" xref="S3.p1.13.m13.1.1.cmml">𝒯</mi><annotation-xml encoding="MathML-Content" id="S3.p1.13.m13.1b"><ci id="S3.p1.13.m13.1.1.cmml" xref="S3.p1.13.m13.1.1">𝒯</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p1.13.m13.1c">\mathcal{T}</annotation></semantics></math>.</p>
</div>
<div id="S3.p2" class="ltx_para">
<p id="S3.p2.7" class="ltx_p"><span id="S3.p2.7.1" class="ltx_text ltx_font_bold">Background.</span> Let <math id="S3.p2.1.m1.1" class="ltx_Math" alttext="s\in\mathbb{R}^{C\times H\times W}" display="inline"><semantics id="S3.p2.1.m1.1a"><mrow id="S3.p2.1.m1.1.1" xref="S3.p2.1.m1.1.1.cmml"><mi id="S3.p2.1.m1.1.1.2" xref="S3.p2.1.m1.1.1.2.cmml">s</mi><mo id="S3.p2.1.m1.1.1.1" xref="S3.p2.1.m1.1.1.1.cmml">∈</mo><msup id="S3.p2.1.m1.1.1.3" xref="S3.p2.1.m1.1.1.3.cmml"><mi id="S3.p2.1.m1.1.1.3.2" xref="S3.p2.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.p2.1.m1.1.1.3.3" xref="S3.p2.1.m1.1.1.3.3.cmml"><mi id="S3.p2.1.m1.1.1.3.3.2" xref="S3.p2.1.m1.1.1.3.3.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.p2.1.m1.1.1.3.3.1" xref="S3.p2.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.p2.1.m1.1.1.3.3.3" xref="S3.p2.1.m1.1.1.3.3.3.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.p2.1.m1.1.1.3.3.1a" xref="S3.p2.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.p2.1.m1.1.1.3.3.4" xref="S3.p2.1.m1.1.1.3.3.4.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.1.m1.1b"><apply id="S3.p2.1.m1.1.1.cmml" xref="S3.p2.1.m1.1.1"><in id="S3.p2.1.m1.1.1.1.cmml" xref="S3.p2.1.m1.1.1.1"></in><ci id="S3.p2.1.m1.1.1.2.cmml" xref="S3.p2.1.m1.1.1.2">𝑠</ci><apply id="S3.p2.1.m1.1.1.3.cmml" xref="S3.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.p2.1.m1.1.1.3.1.cmml" xref="S3.p2.1.m1.1.1.3">superscript</csymbol><ci id="S3.p2.1.m1.1.1.3.2.cmml" xref="S3.p2.1.m1.1.1.3.2">ℝ</ci><apply id="S3.p2.1.m1.1.1.3.3.cmml" xref="S3.p2.1.m1.1.1.3.3"><times id="S3.p2.1.m1.1.1.3.3.1.cmml" xref="S3.p2.1.m1.1.1.3.3.1"></times><ci id="S3.p2.1.m1.1.1.3.3.2.cmml" xref="S3.p2.1.m1.1.1.3.3.2">𝐶</ci><ci id="S3.p2.1.m1.1.1.3.3.3.cmml" xref="S3.p2.1.m1.1.1.3.3.3">𝐻</ci><ci id="S3.p2.1.m1.1.1.3.3.4.cmml" xref="S3.p2.1.m1.1.1.3.3.4">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.1.m1.1c">s\in\mathbb{R}^{C\times H\times W}</annotation></semantics></math> be the feature of a sample which is obtained at a specific layer of the neural network. Here, <math id="S3.p2.2.m2.1" class="ltx_Math" alttext="C" display="inline"><semantics id="S3.p2.2.m2.1a"><mi id="S3.p2.2.m2.1.1" xref="S3.p2.2.m2.1.1.cmml">C</mi><annotation-xml encoding="MathML-Content" id="S3.p2.2.m2.1b"><ci id="S3.p2.2.m2.1.1.cmml" xref="S3.p2.2.m2.1.1">𝐶</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.2.m2.1c">C</annotation></semantics></math>, <math id="S3.p2.3.m3.1" class="ltx_Math" alttext="H" display="inline"><semantics id="S3.p2.3.m3.1a"><mi id="S3.p2.3.m3.1.1" xref="S3.p2.3.m3.1.1.cmml">H</mi><annotation-xml encoding="MathML-Content" id="S3.p2.3.m3.1b"><ci id="S3.p2.3.m3.1.1.cmml" xref="S3.p2.3.m3.1.1">𝐻</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.3.m3.1c">H</annotation></semantics></math>, <math id="S3.p2.4.m4.1" class="ltx_Math" alttext="W" display="inline"><semantics id="S3.p2.4.m4.1a"><mi id="S3.p2.4.m4.1.1" xref="S3.p2.4.m4.1.1.cmml">W</mi><annotation-xml encoding="MathML-Content" id="S3.p2.4.m4.1b"><ci id="S3.p2.4.m4.1.1.cmml" xref="S3.p2.4.m4.1.1">𝑊</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.4.m4.1c">W</annotation></semantics></math> denote the dimensions of channel, height, width, respectively. Given the feature <math id="S3.p2.5.m5.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.p2.5.m5.1a"><mi id="S3.p2.5.m5.1.1" xref="S3.p2.5.m5.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.p2.5.m5.1b"><ci id="S3.p2.5.m5.1.1.cmml" xref="S3.p2.5.m5.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.5.m5.1c">s</annotation></semantics></math> of a specific data sample, the channel-wise mean <math id="S3.p2.6.m6.1" class="ltx_Math" alttext="\mu(s)\in\mathbb{R}^{C}" display="inline"><semantics id="S3.p2.6.m6.1a"><mrow id="S3.p2.6.m6.1.2" xref="S3.p2.6.m6.1.2.cmml"><mrow id="S3.p2.6.m6.1.2.2" xref="S3.p2.6.m6.1.2.2.cmml"><mi id="S3.p2.6.m6.1.2.2.2" xref="S3.p2.6.m6.1.2.2.2.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S3.p2.6.m6.1.2.2.1" xref="S3.p2.6.m6.1.2.2.1.cmml">​</mo><mrow id="S3.p2.6.m6.1.2.2.3.2" xref="S3.p2.6.m6.1.2.2.cmml"><mo stretchy="false" id="S3.p2.6.m6.1.2.2.3.2.1" xref="S3.p2.6.m6.1.2.2.cmml">(</mo><mi id="S3.p2.6.m6.1.1" xref="S3.p2.6.m6.1.1.cmml">s</mi><mo stretchy="false" id="S3.p2.6.m6.1.2.2.3.2.2" xref="S3.p2.6.m6.1.2.2.cmml">)</mo></mrow></mrow><mo id="S3.p2.6.m6.1.2.1" xref="S3.p2.6.m6.1.2.1.cmml">∈</mo><msup id="S3.p2.6.m6.1.2.3" xref="S3.p2.6.m6.1.2.3.cmml"><mi id="S3.p2.6.m6.1.2.3.2" xref="S3.p2.6.m6.1.2.3.2.cmml">ℝ</mi><mi id="S3.p2.6.m6.1.2.3.3" xref="S3.p2.6.m6.1.2.3.3.cmml">C</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.6.m6.1b"><apply id="S3.p2.6.m6.1.2.cmml" xref="S3.p2.6.m6.1.2"><in id="S3.p2.6.m6.1.2.1.cmml" xref="S3.p2.6.m6.1.2.1"></in><apply id="S3.p2.6.m6.1.2.2.cmml" xref="S3.p2.6.m6.1.2.2"><times id="S3.p2.6.m6.1.2.2.1.cmml" xref="S3.p2.6.m6.1.2.2.1"></times><ci id="S3.p2.6.m6.1.2.2.2.cmml" xref="S3.p2.6.m6.1.2.2.2">𝜇</ci><ci id="S3.p2.6.m6.1.1.cmml" xref="S3.p2.6.m6.1.1">𝑠</ci></apply><apply id="S3.p2.6.m6.1.2.3.cmml" xref="S3.p2.6.m6.1.2.3"><csymbol cd="ambiguous" id="S3.p2.6.m6.1.2.3.1.cmml" xref="S3.p2.6.m6.1.2.3">superscript</csymbol><ci id="S3.p2.6.m6.1.2.3.2.cmml" xref="S3.p2.6.m6.1.2.3.2">ℝ</ci><ci id="S3.p2.6.m6.1.2.3.3.cmml" xref="S3.p2.6.m6.1.2.3.3">𝐶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.6.m6.1c">\mu(s)\in\mathbb{R}^{C}</annotation></semantics></math> and the channel-wise standard deviation <math id="S3.p2.7.m7.1" class="ltx_Math" alttext="\sigma(s)\in\mathbb{R}^{C}" display="inline"><semantics id="S3.p2.7.m7.1a"><mrow id="S3.p2.7.m7.1.2" xref="S3.p2.7.m7.1.2.cmml"><mrow id="S3.p2.7.m7.1.2.2" xref="S3.p2.7.m7.1.2.2.cmml"><mi id="S3.p2.7.m7.1.2.2.2" xref="S3.p2.7.m7.1.2.2.2.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.p2.7.m7.1.2.2.1" xref="S3.p2.7.m7.1.2.2.1.cmml">​</mo><mrow id="S3.p2.7.m7.1.2.2.3.2" xref="S3.p2.7.m7.1.2.2.cmml"><mo stretchy="false" id="S3.p2.7.m7.1.2.2.3.2.1" xref="S3.p2.7.m7.1.2.2.cmml">(</mo><mi id="S3.p2.7.m7.1.1" xref="S3.p2.7.m7.1.1.cmml">s</mi><mo stretchy="false" id="S3.p2.7.m7.1.2.2.3.2.2" xref="S3.p2.7.m7.1.2.2.cmml">)</mo></mrow></mrow><mo id="S3.p2.7.m7.1.2.1" xref="S3.p2.7.m7.1.2.1.cmml">∈</mo><msup id="S3.p2.7.m7.1.2.3" xref="S3.p2.7.m7.1.2.3.cmml"><mi id="S3.p2.7.m7.1.2.3.2" xref="S3.p2.7.m7.1.2.3.2.cmml">ℝ</mi><mi id="S3.p2.7.m7.1.2.3.3" xref="S3.p2.7.m7.1.2.3.3.cmml">C</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.p2.7.m7.1b"><apply id="S3.p2.7.m7.1.2.cmml" xref="S3.p2.7.m7.1.2"><in id="S3.p2.7.m7.1.2.1.cmml" xref="S3.p2.7.m7.1.2.1"></in><apply id="S3.p2.7.m7.1.2.2.cmml" xref="S3.p2.7.m7.1.2.2"><times id="S3.p2.7.m7.1.2.2.1.cmml" xref="S3.p2.7.m7.1.2.2.1"></times><ci id="S3.p2.7.m7.1.2.2.2.cmml" xref="S3.p2.7.m7.1.2.2.2">𝜎</ci><ci id="S3.p2.7.m7.1.1.cmml" xref="S3.p2.7.m7.1.1">𝑠</ci></apply><apply id="S3.p2.7.m7.1.2.3.cmml" xref="S3.p2.7.m7.1.2.3"><csymbol cd="ambiguous" id="S3.p2.7.m7.1.2.3.1.cmml" xref="S3.p2.7.m7.1.2.3">superscript</csymbol><ci id="S3.p2.7.m7.1.2.3.2.cmml" xref="S3.p2.7.m7.1.2.3.2">ℝ</ci><ci id="S3.p2.7.m7.1.2.3.3.cmml" xref="S3.p2.7.m7.1.2.3.3">𝐶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p2.7.m7.1c">\sigma(s)\in\mathbb{R}^{C}</annotation></semantics></math> can be written as</p>
<table id="A9.EGx1" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E1"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E1.m1.10" class="ltx_Math" alttext="\displaystyle\mu(s)_{c}=\frac{1}{HW}\sum_{h=1}^{H}\sum_{w=1}^{W}s_{c,h,w},\ \ \sigma^{2}(s)_{c}=\frac{1}{HW}\sum_{h=1}^{H}\sum_{w=1}^{W}(s_{c,h,w}-\mu(s)_{c})^{2}," display="inline"><semantics id="S3.E1.m1.10a"><mrow id="S3.E1.m1.10.10.1"><mrow id="S3.E1.m1.10.10.1.1.2" xref="S3.E1.m1.10.10.1.1.3.cmml"><mrow id="S3.E1.m1.10.10.1.1.1.1" xref="S3.E1.m1.10.10.1.1.1.1.cmml"><mrow id="S3.E1.m1.10.10.1.1.1.1.2" xref="S3.E1.m1.10.10.1.1.1.1.2.cmml"><mi id="S3.E1.m1.10.10.1.1.1.1.2.2" xref="S3.E1.m1.10.10.1.1.1.1.2.2.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.1.1.1.1.2.1" xref="S3.E1.m1.10.10.1.1.1.1.2.1.cmml">​</mo><msub id="S3.E1.m1.10.10.1.1.1.1.2.3" xref="S3.E1.m1.10.10.1.1.1.1.2.3.cmml"><mrow id="S3.E1.m1.10.10.1.1.1.1.2.3.2.2" xref="S3.E1.m1.10.10.1.1.1.1.2.3.cmml"><mo stretchy="false" id="S3.E1.m1.10.10.1.1.1.1.2.3.2.2.1" xref="S3.E1.m1.10.10.1.1.1.1.2.3.cmml">(</mo><mi id="S3.E1.m1.7.7" xref="S3.E1.m1.7.7.cmml">s</mi><mo stretchy="false" id="S3.E1.m1.10.10.1.1.1.1.2.3.2.2.2" xref="S3.E1.m1.10.10.1.1.1.1.2.3.cmml">)</mo></mrow><mi id="S3.E1.m1.10.10.1.1.1.1.2.3.3" xref="S3.E1.m1.10.10.1.1.1.1.2.3.3.cmml">c</mi></msub></mrow><mo id="S3.E1.m1.10.10.1.1.1.1.1" xref="S3.E1.m1.10.10.1.1.1.1.1.cmml">=</mo><mrow id="S3.E1.m1.10.10.1.1.1.1.3" xref="S3.E1.m1.10.10.1.1.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E1.m1.10.10.1.1.1.1.3.2" xref="S3.E1.m1.10.10.1.1.1.1.3.2.cmml"><mfrac id="S3.E1.m1.10.10.1.1.1.1.3.2a" xref="S3.E1.m1.10.10.1.1.1.1.3.2.cmml"><mn id="S3.E1.m1.10.10.1.1.1.1.3.2.2" xref="S3.E1.m1.10.10.1.1.1.1.3.2.2.cmml">1</mn><mrow id="S3.E1.m1.10.10.1.1.1.1.3.2.3" xref="S3.E1.m1.10.10.1.1.1.1.3.2.3.cmml"><mi id="S3.E1.m1.10.10.1.1.1.1.3.2.3.2" xref="S3.E1.m1.10.10.1.1.1.1.3.2.3.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.1.1.1.1.3.2.3.1" xref="S3.E1.m1.10.10.1.1.1.1.3.2.3.1.cmml">​</mo><mi id="S3.E1.m1.10.10.1.1.1.1.3.2.3.3" xref="S3.E1.m1.10.10.1.1.1.1.3.2.3.3.cmml">W</mi></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.1.1.1.1.3.1" xref="S3.E1.m1.10.10.1.1.1.1.3.1.cmml">​</mo><mrow id="S3.E1.m1.10.10.1.1.1.1.3.3" xref="S3.E1.m1.10.10.1.1.1.1.3.3.cmml"><mstyle displaystyle="true" id="S3.E1.m1.10.10.1.1.1.1.3.3.1" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.cmml"><munderover id="S3.E1.m1.10.10.1.1.1.1.3.3.1a" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.cmml"><mo movablelimits="false" id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.2" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.cmml"><mi id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.2" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.2.cmml">h</mi><mo id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.1" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.1.cmml">=</mo><mn id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.3" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.10.10.1.1.1.1.3.3.1.3" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.3.cmml">H</mi></munderover></mstyle><mrow id="S3.E1.m1.10.10.1.1.1.1.3.3.2" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.cmml"><mstyle displaystyle="true" id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.cmml"><munderover id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1a" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.cmml"><mo movablelimits="false" id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.2" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.2.cmml">∑</mo><mrow id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.cmml"><mi id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.2" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.2.cmml">w</mi><mo id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.1" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.1.cmml">=</mo><mn id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.3" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.3" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.3.cmml">W</mi></munderover></mstyle><msub id="S3.E1.m1.10.10.1.1.1.1.3.3.2.2" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.2.cmml"><mi id="S3.E1.m1.10.10.1.1.1.1.3.3.2.2.2" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.2.2.cmml">s</mi><mrow id="S3.E1.m1.3.3.3.5" xref="S3.E1.m1.3.3.3.4.cmml"><mi id="S3.E1.m1.1.1.1.1" xref="S3.E1.m1.1.1.1.1.cmml">c</mi><mo id="S3.E1.m1.3.3.3.5.1" xref="S3.E1.m1.3.3.3.4.cmml">,</mo><mi id="S3.E1.m1.2.2.2.2" xref="S3.E1.m1.2.2.2.2.cmml">h</mi><mo id="S3.E1.m1.3.3.3.5.2" xref="S3.E1.m1.3.3.3.4.cmml">,</mo><mi id="S3.E1.m1.3.3.3.3" xref="S3.E1.m1.3.3.3.3.cmml">w</mi></mrow></msub></mrow></mrow></mrow></mrow><mo rspace="1.167em" id="S3.E1.m1.10.10.1.1.2.3" xref="S3.E1.m1.10.10.1.1.3a.cmml">,</mo><mrow id="S3.E1.m1.10.10.1.1.2.2" xref="S3.E1.m1.10.10.1.1.2.2.cmml"><mrow id="S3.E1.m1.10.10.1.1.2.2.3" xref="S3.E1.m1.10.10.1.1.2.2.3.cmml"><msup id="S3.E1.m1.10.10.1.1.2.2.3.2" xref="S3.E1.m1.10.10.1.1.2.2.3.2.cmml"><mi id="S3.E1.m1.10.10.1.1.2.2.3.2.2" xref="S3.E1.m1.10.10.1.1.2.2.3.2.2.cmml">σ</mi><mn id="S3.E1.m1.10.10.1.1.2.2.3.2.3" xref="S3.E1.m1.10.10.1.1.2.2.3.2.3.cmml">2</mn></msup><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.1.1.2.2.3.1" xref="S3.E1.m1.10.10.1.1.2.2.3.1.cmml">​</mo><msub id="S3.E1.m1.10.10.1.1.2.2.3.3" xref="S3.E1.m1.10.10.1.1.2.2.3.3.cmml"><mrow id="S3.E1.m1.10.10.1.1.2.2.3.3.2.2" xref="S3.E1.m1.10.10.1.1.2.2.3.3.cmml"><mo stretchy="false" id="S3.E1.m1.10.10.1.1.2.2.3.3.2.2.1" xref="S3.E1.m1.10.10.1.1.2.2.3.3.cmml">(</mo><mi id="S3.E1.m1.8.8" xref="S3.E1.m1.8.8.cmml">s</mi><mo stretchy="false" id="S3.E1.m1.10.10.1.1.2.2.3.3.2.2.2" xref="S3.E1.m1.10.10.1.1.2.2.3.3.cmml">)</mo></mrow><mi id="S3.E1.m1.10.10.1.1.2.2.3.3.3" xref="S3.E1.m1.10.10.1.1.2.2.3.3.3.cmml">c</mi></msub></mrow><mo id="S3.E1.m1.10.10.1.1.2.2.2" xref="S3.E1.m1.10.10.1.1.2.2.2.cmml">=</mo><mrow id="S3.E1.m1.10.10.1.1.2.2.1" xref="S3.E1.m1.10.10.1.1.2.2.1.cmml"><mstyle displaystyle="true" id="S3.E1.m1.10.10.1.1.2.2.1.3" xref="S3.E1.m1.10.10.1.1.2.2.1.3.cmml"><mfrac id="S3.E1.m1.10.10.1.1.2.2.1.3a" xref="S3.E1.m1.10.10.1.1.2.2.1.3.cmml"><mn id="S3.E1.m1.10.10.1.1.2.2.1.3.2" xref="S3.E1.m1.10.10.1.1.2.2.1.3.2.cmml">1</mn><mrow id="S3.E1.m1.10.10.1.1.2.2.1.3.3" xref="S3.E1.m1.10.10.1.1.2.2.1.3.3.cmml"><mi id="S3.E1.m1.10.10.1.1.2.2.1.3.3.2" xref="S3.E1.m1.10.10.1.1.2.2.1.3.3.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.1.1.2.2.1.3.3.1" xref="S3.E1.m1.10.10.1.1.2.2.1.3.3.1.cmml">​</mo><mi id="S3.E1.m1.10.10.1.1.2.2.1.3.3.3" xref="S3.E1.m1.10.10.1.1.2.2.1.3.3.3.cmml">W</mi></mrow></mfrac></mstyle><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.1.1.2.2.1.2" xref="S3.E1.m1.10.10.1.1.2.2.1.2.cmml">​</mo><mrow id="S3.E1.m1.10.10.1.1.2.2.1.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.cmml"><mstyle displaystyle="true" id="S3.E1.m1.10.10.1.1.2.2.1.1.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.cmml"><munderover id="S3.E1.m1.10.10.1.1.2.2.1.1.2a" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.cmml"><mo movablelimits="false" id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.cmml"><mi id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.2.cmml">h</mi><mo id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.10.10.1.1.2.2.1.1.2.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.3.cmml">H</mi></munderover></mstyle><mrow id="S3.E1.m1.10.10.1.1.2.2.1.1.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.cmml"><mstyle displaystyle="true" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.cmml"><munderover id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2a" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.cmml"><mi id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.2.cmml">w</mi><mo id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.3.cmml">1</mn></mrow><mi id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.3.cmml">W</mi></munderover></mstyle><msup id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.cmml"><mrow id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.cmml"><msub id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2.cmml"><mi id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2.2.cmml">s</mi><mrow id="S3.E1.m1.6.6.3.5" xref="S3.E1.m1.6.6.3.4.cmml"><mi id="S3.E1.m1.4.4.1.1" xref="S3.E1.m1.4.4.1.1.cmml">c</mi><mo id="S3.E1.m1.6.6.3.5.1" xref="S3.E1.m1.6.6.3.4.cmml">,</mo><mi id="S3.E1.m1.5.5.2.2" xref="S3.E1.m1.5.5.2.2.cmml">h</mi><mo id="S3.E1.m1.6.6.3.5.2" xref="S3.E1.m1.6.6.3.4.cmml">,</mo><mi id="S3.E1.m1.6.6.3.3" xref="S3.E1.m1.6.6.3.3.cmml">w</mi></mrow></msub><mo id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.1.cmml">−</mo><mrow id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.cmml"><mi id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.2.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.1.cmml">​</mo><msub id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.cmml"><mrow id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.2.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.cmml"><mo stretchy="false" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.2.2.1" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.cmml">(</mo><mi id="S3.E1.m1.9.9" xref="S3.E1.m1.9.9.cmml">s</mi><mo stretchy="false" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.2.2.2" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.cmml">)</mo></mrow><mi id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.3.cmml">c</mi></msub></mrow></mrow><mo stretchy="false" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.3" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.3.cmml">2</mn></msup></mrow></mrow></mrow></mrow></mrow><mo id="S3.E1.m1.10.10.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E1.m1.10b"><apply id="S3.E1.m1.10.10.1.1.3.cmml" xref="S3.E1.m1.10.10.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.3a.cmml" xref="S3.E1.m1.10.10.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E1.m1.10.10.1.1.1.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1"><eq id="S3.E1.m1.10.10.1.1.1.1.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.1"></eq><apply id="S3.E1.m1.10.10.1.1.1.1.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.2"><times id="S3.E1.m1.10.10.1.1.1.1.2.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.2.1"></times><ci id="S3.E1.m1.10.10.1.1.1.1.2.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.2.2">𝜇</ci><apply id="S3.E1.m1.10.10.1.1.1.1.2.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.1.1.2.3.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E1.m1.7.7.cmml" xref="S3.E1.m1.7.7">𝑠</ci><ci id="S3.E1.m1.10.10.1.1.1.1.2.3.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.2.3.3">𝑐</ci></apply></apply><apply id="S3.E1.m1.10.10.1.1.1.1.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3"><times id="S3.E1.m1.10.10.1.1.1.1.3.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.1"></times><apply id="S3.E1.m1.10.10.1.1.1.1.3.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.2"><divide id="S3.E1.m1.10.10.1.1.1.1.3.2.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.2"></divide><cn type="integer" id="S3.E1.m1.10.10.1.1.1.1.3.2.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.2.2">1</cn><apply id="S3.E1.m1.10.10.1.1.1.1.3.2.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.2.3"><times id="S3.E1.m1.10.10.1.1.1.1.3.2.3.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.2.3.1"></times><ci id="S3.E1.m1.10.10.1.1.1.1.3.2.3.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.2.3.2">𝐻</ci><ci id="S3.E1.m1.10.10.1.1.1.1.3.2.3.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.2.3.3">𝑊</ci></apply></apply><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3"><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.1.1.3.3.1.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1">superscript</csymbol><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1">subscript</csymbol><sum id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.2"></sum><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3"><eq id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.1"></eq><ci id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.2">ℎ</ci><cn type="integer" id="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.10.10.1.1.1.1.3.3.1.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.1.3">𝐻</ci></apply><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2"><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1">superscript</csymbol><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1">subscript</csymbol><sum id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.2"></sum><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3"><eq id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.1"></eq><ci id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.2">𝑤</ci><cn type="integer" id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.3.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.1.3">𝑊</ci></apply><apply id="S3.E1.m1.10.10.1.1.1.1.3.3.2.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.1.1.3.3.2.2.1.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.2">subscript</csymbol><ci id="S3.E1.m1.10.10.1.1.1.1.3.3.2.2.2.cmml" xref="S3.E1.m1.10.10.1.1.1.1.3.3.2.2.2">𝑠</ci><list id="S3.E1.m1.3.3.3.4.cmml" xref="S3.E1.m1.3.3.3.5"><ci id="S3.E1.m1.1.1.1.1.cmml" xref="S3.E1.m1.1.1.1.1">𝑐</ci><ci id="S3.E1.m1.2.2.2.2.cmml" xref="S3.E1.m1.2.2.2.2">ℎ</ci><ci id="S3.E1.m1.3.3.3.3.cmml" xref="S3.E1.m1.3.3.3.3">𝑤</ci></list></apply></apply></apply></apply></apply><apply id="S3.E1.m1.10.10.1.1.2.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2"><eq id="S3.E1.m1.10.10.1.1.2.2.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.2"></eq><apply id="S3.E1.m1.10.10.1.1.2.2.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3"><times id="S3.E1.m1.10.10.1.1.2.2.3.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3.1"></times><apply id="S3.E1.m1.10.10.1.1.2.2.3.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.3.2.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3.2">superscript</csymbol><ci id="S3.E1.m1.10.10.1.1.2.2.3.2.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3.2.2">𝜎</ci><cn type="integer" id="S3.E1.m1.10.10.1.1.2.2.3.2.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3.2.3">2</cn></apply><apply id="S3.E1.m1.10.10.1.1.2.2.3.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.3.3.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3.3">subscript</csymbol><ci id="S3.E1.m1.8.8.cmml" xref="S3.E1.m1.8.8">𝑠</ci><ci id="S3.E1.m1.10.10.1.1.2.2.3.3.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.3.3.3">𝑐</ci></apply></apply><apply id="S3.E1.m1.10.10.1.1.2.2.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1"><times id="S3.E1.m1.10.10.1.1.2.2.1.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.2"></times><apply id="S3.E1.m1.10.10.1.1.2.2.1.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.3"><divide id="S3.E1.m1.10.10.1.1.2.2.1.3.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.3"></divide><cn type="integer" id="S3.E1.m1.10.10.1.1.2.2.1.3.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.3.2">1</cn><apply id="S3.E1.m1.10.10.1.1.2.2.1.3.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.3.3"><times id="S3.E1.m1.10.10.1.1.2.2.1.3.3.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.3.3.1"></times><ci id="S3.E1.m1.10.10.1.1.2.2.1.3.3.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.3.3.2">𝐻</ci><ci id="S3.E1.m1.10.10.1.1.2.2.1.3.3.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.3.3.3">𝑊</ci></apply></apply><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1"><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.1.1.2.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2">superscript</csymbol><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2">subscript</csymbol><sum id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.2"></sum><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3"><eq id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.1"></eq><ci id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.2">ℎ</ci><cn type="integer" id="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.10.10.1.1.2.2.1.1.2.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.2.3">𝐻</ci></apply><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1"><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2">superscript</csymbol><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2">subscript</csymbol><sum id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.2"></sum><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3"><eq id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.1"></eq><ci id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.2">𝑤</ci><cn type="integer" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.2.3.3">1</cn></apply></apply><ci id="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.2.3">𝑊</ci></apply><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1">superscript</csymbol><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1"><minus id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.1"></minus><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2">subscript</csymbol><ci id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.2.2">𝑠</ci><list id="S3.E1.m1.6.6.3.4.cmml" xref="S3.E1.m1.6.6.3.5"><ci id="S3.E1.m1.4.4.1.1.cmml" xref="S3.E1.m1.4.4.1.1">𝑐</ci><ci id="S3.E1.m1.5.5.2.2.cmml" xref="S3.E1.m1.5.5.2.2">ℎ</ci><ci id="S3.E1.m1.6.6.3.3.cmml" xref="S3.E1.m1.6.6.3.3">𝑤</ci></list></apply><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3"><times id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.1"></times><ci id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.2.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.2">𝜇</ci><apply id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.1.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E1.m1.9.9.cmml" xref="S3.E1.m1.9.9">𝑠</ci><ci id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.1.1.1.3.3.3">𝑐</ci></apply></apply></apply><cn type="integer" id="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.3.cmml" xref="S3.E1.m1.10.10.1.1.2.2.1.1.1.1.3">2</cn></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E1.m1.10c">\displaystyle\mu(s)_{c}=\frac{1}{HW}\sum_{h=1}^{H}\sum_{w=1}^{W}s_{c,h,w},\ \ \sigma^{2}(s)_{c}=\frac{1}{HW}\sum_{h=1}^{H}\sum_{w=1}^{W}(s_{c,h,w}-\mu(s)_{c})^{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(1)</span></td>
</tr></tbody>
</table>
<p id="S3.p2.8" class="ltx_p">respectively. These variables are known as <span id="S3.p2.8.1" class="ltx_text ltx_font_italic">style statistics</span> as they contain style information of an image in CNNs <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>. Based on these style statistics, various style-augmentation schemes such as MixStyle <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> or DSU <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> have been proposed in the literature targeting a centralized setup.</p>
</div>
<figure id="S3.F1" class="ltx_figure ltx_align_floatright"><img src="/html/2311.00227/assets/x1.png" id="S3.F1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="221" height="121" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F1.2.1.1" class="ltx_text" style="font-size:90%;">Figure 1</span>: </span><span id="S3.F1.3.2" class="ltx_text" style="font-size:90%;">Overview of our problem setup and algorithm for federated domain generalization. Each client can have a single source domain as described in Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, or even multiple source domains in its local dataset. </span></figcaption>
</figure>
<div id="S3.p3" class="ltx_para">
<p id="S3.p3.5" class="ltx_p"><span id="S3.p3.5.1" class="ltx_text ltx_font_bold">Overview of approach.</span> Fig. <a href="#S3.F1" title="Figure 1 ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> provides an overview of the problem setup and our StableFDG algorithm. As in conventional FL, the training process consists of multiple global rounds, which we index <math id="S3.p3.1.m1.4" class="ltx_Math" alttext="t=1,2,\dots,T" display="inline"><semantics id="S3.p3.1.m1.4a"><mrow id="S3.p3.1.m1.4.5" xref="S3.p3.1.m1.4.5.cmml"><mi id="S3.p3.1.m1.4.5.2" xref="S3.p3.1.m1.4.5.2.cmml">t</mi><mo id="S3.p3.1.m1.4.5.1" xref="S3.p3.1.m1.4.5.1.cmml">=</mo><mrow id="S3.p3.1.m1.4.5.3.2" xref="S3.p3.1.m1.4.5.3.1.cmml"><mn id="S3.p3.1.m1.1.1" xref="S3.p3.1.m1.1.1.cmml">1</mn><mo id="S3.p3.1.m1.4.5.3.2.1" xref="S3.p3.1.m1.4.5.3.1.cmml">,</mo><mn id="S3.p3.1.m1.2.2" xref="S3.p3.1.m1.2.2.cmml">2</mn><mo id="S3.p3.1.m1.4.5.3.2.2" xref="S3.p3.1.m1.4.5.3.1.cmml">,</mo><mi mathvariant="normal" id="S3.p3.1.m1.3.3" xref="S3.p3.1.m1.3.3.cmml">…</mi><mo id="S3.p3.1.m1.4.5.3.2.3" xref="S3.p3.1.m1.4.5.3.1.cmml">,</mo><mi id="S3.p3.1.m1.4.4" xref="S3.p3.1.m1.4.4.cmml">T</mi></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.1.m1.4b"><apply id="S3.p3.1.m1.4.5.cmml" xref="S3.p3.1.m1.4.5"><eq id="S3.p3.1.m1.4.5.1.cmml" xref="S3.p3.1.m1.4.5.1"></eq><ci id="S3.p3.1.m1.4.5.2.cmml" xref="S3.p3.1.m1.4.5.2">𝑡</ci><list id="S3.p3.1.m1.4.5.3.1.cmml" xref="S3.p3.1.m1.4.5.3.2"><cn type="integer" id="S3.p3.1.m1.1.1.cmml" xref="S3.p3.1.m1.1.1">1</cn><cn type="integer" id="S3.p3.1.m1.2.2.cmml" xref="S3.p3.1.m1.2.2">2</cn><ci id="S3.p3.1.m1.3.3.cmml" xref="S3.p3.1.m1.3.3">…</ci><ci id="S3.p3.1.m1.4.4.cmml" xref="S3.p3.1.m1.4.4">𝑇</ci></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.1.m1.4c">t=1,2,\dots,T</annotation></semantics></math>. In the beginning of round <math id="S3.p3.2.m2.1" class="ltx_Math" alttext="t" display="inline"><semantics id="S3.p3.2.m2.1a"><mi id="S3.p3.2.m2.1.1" xref="S3.p3.2.m2.1.1.cmml">t</mi><annotation-xml encoding="MathML-Content" id="S3.p3.2.m2.1b"><ci id="S3.p3.2.m2.1.1.cmml" xref="S3.p3.2.m2.1.1">𝑡</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.2.m2.1c">t</annotation></semantics></math>, a selected set of clients download the current global model <math id="S3.p3.3.m3.1" class="ltx_Math" alttext="\mathbf{w}_{t}" display="inline"><semantics id="S3.p3.3.m3.1a"><msub id="S3.p3.3.m3.1.1" xref="S3.p3.3.m3.1.1.cmml"><mi id="S3.p3.3.m3.1.1.2" xref="S3.p3.3.m3.1.1.2.cmml">𝐰</mi><mi id="S3.p3.3.m3.1.1.3" xref="S3.p3.3.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="S3.p3.3.m3.1b"><apply id="S3.p3.3.m3.1.1.cmml" xref="S3.p3.3.m3.1.1"><csymbol cd="ambiguous" id="S3.p3.3.m3.1.1.1.cmml" xref="S3.p3.3.m3.1.1">subscript</csymbol><ci id="S3.p3.3.m3.1.1.2.cmml" xref="S3.p3.3.m3.1.1.2">𝐰</ci><ci id="S3.p3.3.m3.1.1.3.cmml" xref="S3.p3.3.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.3.m3.1c">\mathbf{w}_{t}</annotation></semantics></math> from the server. Before local training begins, each client <math id="S3.p3.4.m4.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.p3.4.m4.1a"><mi id="S3.p3.4.m4.1.1" xref="S3.p3.4.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.p3.4.m4.1b"><ci id="S3.p3.4.m4.1.1.cmml" xref="S3.p3.4.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.4.m4.1c">n</annotation></semantics></math> computes its own style information <math id="S3.p3.5.m5.6" class="ltx_Math" alttext="\Phi_{n}=[\mu_{n},\sigma_{n},\Sigma_{n}(\mu),\Sigma_{n}(\sigma)]" display="inline"><semantics id="S3.p3.5.m5.6a"><mrow id="S3.p3.5.m5.6.6" xref="S3.p3.5.m5.6.6.cmml"><msub id="S3.p3.5.m5.6.6.6" xref="S3.p3.5.m5.6.6.6.cmml"><mi mathvariant="normal" id="S3.p3.5.m5.6.6.6.2" xref="S3.p3.5.m5.6.6.6.2.cmml">Φ</mi><mi id="S3.p3.5.m5.6.6.6.3" xref="S3.p3.5.m5.6.6.6.3.cmml">n</mi></msub><mo id="S3.p3.5.m5.6.6.5" xref="S3.p3.5.m5.6.6.5.cmml">=</mo><mrow id="S3.p3.5.m5.6.6.4.4" xref="S3.p3.5.m5.6.6.4.5.cmml"><mo stretchy="false" id="S3.p3.5.m5.6.6.4.4.5" xref="S3.p3.5.m5.6.6.4.5.cmml">[</mo><msub id="S3.p3.5.m5.3.3.1.1.1" xref="S3.p3.5.m5.3.3.1.1.1.cmml"><mi id="S3.p3.5.m5.3.3.1.1.1.2" xref="S3.p3.5.m5.3.3.1.1.1.2.cmml">μ</mi><mi id="S3.p3.5.m5.3.3.1.1.1.3" xref="S3.p3.5.m5.3.3.1.1.1.3.cmml">n</mi></msub><mo id="S3.p3.5.m5.6.6.4.4.6" xref="S3.p3.5.m5.6.6.4.5.cmml">,</mo><msub id="S3.p3.5.m5.4.4.2.2.2" xref="S3.p3.5.m5.4.4.2.2.2.cmml"><mi id="S3.p3.5.m5.4.4.2.2.2.2" xref="S3.p3.5.m5.4.4.2.2.2.2.cmml">σ</mi><mi id="S3.p3.5.m5.4.4.2.2.2.3" xref="S3.p3.5.m5.4.4.2.2.2.3.cmml">n</mi></msub><mo id="S3.p3.5.m5.6.6.4.4.7" xref="S3.p3.5.m5.6.6.4.5.cmml">,</mo><mrow id="S3.p3.5.m5.5.5.3.3.3" xref="S3.p3.5.m5.5.5.3.3.3.cmml"><msub id="S3.p3.5.m5.5.5.3.3.3.2" xref="S3.p3.5.m5.5.5.3.3.3.2.cmml"><mi mathvariant="normal" id="S3.p3.5.m5.5.5.3.3.3.2.2" xref="S3.p3.5.m5.5.5.3.3.3.2.2.cmml">Σ</mi><mi id="S3.p3.5.m5.5.5.3.3.3.2.3" xref="S3.p3.5.m5.5.5.3.3.3.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.p3.5.m5.5.5.3.3.3.1" xref="S3.p3.5.m5.5.5.3.3.3.1.cmml">​</mo><mrow id="S3.p3.5.m5.5.5.3.3.3.3.2" xref="S3.p3.5.m5.5.5.3.3.3.cmml"><mo stretchy="false" id="S3.p3.5.m5.5.5.3.3.3.3.2.1" xref="S3.p3.5.m5.5.5.3.3.3.cmml">(</mo><mi id="S3.p3.5.m5.1.1" xref="S3.p3.5.m5.1.1.cmml">μ</mi><mo stretchy="false" id="S3.p3.5.m5.5.5.3.3.3.3.2.2" xref="S3.p3.5.m5.5.5.3.3.3.cmml">)</mo></mrow></mrow><mo id="S3.p3.5.m5.6.6.4.4.8" xref="S3.p3.5.m5.6.6.4.5.cmml">,</mo><mrow id="S3.p3.5.m5.6.6.4.4.4" xref="S3.p3.5.m5.6.6.4.4.4.cmml"><msub id="S3.p3.5.m5.6.6.4.4.4.2" xref="S3.p3.5.m5.6.6.4.4.4.2.cmml"><mi mathvariant="normal" id="S3.p3.5.m5.6.6.4.4.4.2.2" xref="S3.p3.5.m5.6.6.4.4.4.2.2.cmml">Σ</mi><mi id="S3.p3.5.m5.6.6.4.4.4.2.3" xref="S3.p3.5.m5.6.6.4.4.4.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.p3.5.m5.6.6.4.4.4.1" xref="S3.p3.5.m5.6.6.4.4.4.1.cmml">​</mo><mrow id="S3.p3.5.m5.6.6.4.4.4.3.2" xref="S3.p3.5.m5.6.6.4.4.4.cmml"><mo stretchy="false" id="S3.p3.5.m5.6.6.4.4.4.3.2.1" xref="S3.p3.5.m5.6.6.4.4.4.cmml">(</mo><mi id="S3.p3.5.m5.2.2" xref="S3.p3.5.m5.2.2.cmml">σ</mi><mo stretchy="false" id="S3.p3.5.m5.6.6.4.4.4.3.2.2" xref="S3.p3.5.m5.6.6.4.4.4.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.p3.5.m5.6.6.4.4.9" xref="S3.p3.5.m5.6.6.4.5.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.p3.5.m5.6b"><apply id="S3.p3.5.m5.6.6.cmml" xref="S3.p3.5.m5.6.6"><eq id="S3.p3.5.m5.6.6.5.cmml" xref="S3.p3.5.m5.6.6.5"></eq><apply id="S3.p3.5.m5.6.6.6.cmml" xref="S3.p3.5.m5.6.6.6"><csymbol cd="ambiguous" id="S3.p3.5.m5.6.6.6.1.cmml" xref="S3.p3.5.m5.6.6.6">subscript</csymbol><ci id="S3.p3.5.m5.6.6.6.2.cmml" xref="S3.p3.5.m5.6.6.6.2">Φ</ci><ci id="S3.p3.5.m5.6.6.6.3.cmml" xref="S3.p3.5.m5.6.6.6.3">𝑛</ci></apply><list id="S3.p3.5.m5.6.6.4.5.cmml" xref="S3.p3.5.m5.6.6.4.4"><apply id="S3.p3.5.m5.3.3.1.1.1.cmml" xref="S3.p3.5.m5.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.p3.5.m5.3.3.1.1.1.1.cmml" xref="S3.p3.5.m5.3.3.1.1.1">subscript</csymbol><ci id="S3.p3.5.m5.3.3.1.1.1.2.cmml" xref="S3.p3.5.m5.3.3.1.1.1.2">𝜇</ci><ci id="S3.p3.5.m5.3.3.1.1.1.3.cmml" xref="S3.p3.5.m5.3.3.1.1.1.3">𝑛</ci></apply><apply id="S3.p3.5.m5.4.4.2.2.2.cmml" xref="S3.p3.5.m5.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.p3.5.m5.4.4.2.2.2.1.cmml" xref="S3.p3.5.m5.4.4.2.2.2">subscript</csymbol><ci id="S3.p3.5.m5.4.4.2.2.2.2.cmml" xref="S3.p3.5.m5.4.4.2.2.2.2">𝜎</ci><ci id="S3.p3.5.m5.4.4.2.2.2.3.cmml" xref="S3.p3.5.m5.4.4.2.2.2.3">𝑛</ci></apply><apply id="S3.p3.5.m5.5.5.3.3.3.cmml" xref="S3.p3.5.m5.5.5.3.3.3"><times id="S3.p3.5.m5.5.5.3.3.3.1.cmml" xref="S3.p3.5.m5.5.5.3.3.3.1"></times><apply id="S3.p3.5.m5.5.5.3.3.3.2.cmml" xref="S3.p3.5.m5.5.5.3.3.3.2"><csymbol cd="ambiguous" id="S3.p3.5.m5.5.5.3.3.3.2.1.cmml" xref="S3.p3.5.m5.5.5.3.3.3.2">subscript</csymbol><ci id="S3.p3.5.m5.5.5.3.3.3.2.2.cmml" xref="S3.p3.5.m5.5.5.3.3.3.2.2">Σ</ci><ci id="S3.p3.5.m5.5.5.3.3.3.2.3.cmml" xref="S3.p3.5.m5.5.5.3.3.3.2.3">𝑛</ci></apply><ci id="S3.p3.5.m5.1.1.cmml" xref="S3.p3.5.m5.1.1">𝜇</ci></apply><apply id="S3.p3.5.m5.6.6.4.4.4.cmml" xref="S3.p3.5.m5.6.6.4.4.4"><times id="S3.p3.5.m5.6.6.4.4.4.1.cmml" xref="S3.p3.5.m5.6.6.4.4.4.1"></times><apply id="S3.p3.5.m5.6.6.4.4.4.2.cmml" xref="S3.p3.5.m5.6.6.4.4.4.2"><csymbol cd="ambiguous" id="S3.p3.5.m5.6.6.4.4.4.2.1.cmml" xref="S3.p3.5.m5.6.6.4.4.4.2">subscript</csymbol><ci id="S3.p3.5.m5.6.6.4.4.4.2.2.cmml" xref="S3.p3.5.m5.6.6.4.4.4.2.2">Σ</ci><ci id="S3.p3.5.m5.6.6.4.4.4.2.3.cmml" xref="S3.p3.5.m5.6.6.4.4.4.2.3">𝑛</ci></apply><ci id="S3.p3.5.m5.2.2.cmml" xref="S3.p3.5.m5.2.2">𝜎</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.p3.5.m5.6c">\Phi_{n}=[\mu_{n},\sigma_{n},\Sigma_{n}(\mu),\Sigma_{n}(\sigma)]</annotation></semantics></math> using its local dataset according to (<a href="#S3.E2" title="Equation 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>), which will be clarified soon. This information is sent to the server, and the server shares these information with other clients to compensate for the lack of styles or domains in each client.
During the local update process, each client selectively shifts the styles of the original data in the mini-batch to the new style (received from the server) via adaptive instance normalization (AdaIN) <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite>, to improve domain diversity (inner box in Fig. <a href="#S3.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>). After this style sharing and shifting process, each client performs style exploration via feature-level oversampling to further expose the model to novel styles beyond the current source domains of each client (outer box in Fig. <a href="#S3.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>). Finally, at the output of the feature extractor, we apply our attention-based feature highlighter to extract common/important feature information within each class and emphasize them for better generalization (Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>). When local updates are finished, the server aggregates the client models and proceeds to the next round.</p>
</div>
<div id="S3.p4" class="ltx_para">
<p id="S3.p4.1" class="ltx_p">In the following, we first describe our style-based learning in Sec. <a href="#S3.SS1" title="3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>, which determines how the style information is shared and utilized in each FL client, and how style exploration is conducted, to overcome the lack of styles in each client. In Sec. <a href="#S3.SS2" title="3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>, we show how attention mechanism is utilized to capture the essential characteristics of each class for better generalization in data-poor FL setups.</p>
</div>
<section id="S3.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.1 </span>Style-based Learning for Federated DG</h3>

<div id="S3.SS1.p1" class="ltx_para">
<p id="S3.SS1.p1.1" class="ltx_p">The main components of our style-based learning are style-sharing, selective style-shifting, and style-exploration, each having its own role to handle the style limitation problem at each client. As illustrated in Fig. <a href="#S3.F2" title="Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, this fundamental challenge of federated DG is not directly resolvable using existing style-augmentation DG methods that can only explore limited areas in the style-space.</p>
</div>
<div id="S3.SS1.p2" class="ltx_para">
<p id="S3.SS1.p2.4" class="ltx_p"><span id="S3.SS1.p2.4.1" class="ltx_text ltx_font_bold">Step 1: Style information sharing.</span> Based on the data samples in its local dataset <math id="S3.SS1.p2.1.m1.1" class="ltx_Math" alttext="\mathcal{S}_{n}" display="inline"><semantics id="S3.SS1.p2.1.m1.1a"><msub id="S3.SS1.p2.1.m1.1.1" xref="S3.SS1.p2.1.m1.1.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p2.1.m1.1.1.2" xref="S3.SS1.p2.1.m1.1.1.2.cmml">𝒮</mi><mi id="S3.SS1.p2.1.m1.1.1.3" xref="S3.SS1.p2.1.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.1.m1.1b"><apply id="S3.SS1.p2.1.m1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.1.m1.1.1.1.cmml" xref="S3.SS1.p2.1.m1.1.1">subscript</csymbol><ci id="S3.SS1.p2.1.m1.1.1.2.cmml" xref="S3.SS1.p2.1.m1.1.1.2">𝒮</ci><ci id="S3.SS1.p2.1.m1.1.1.3.cmml" xref="S3.SS1.p2.1.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.1.m1.1c">\mathcal{S}_{n}</annotation></semantics></math>, at a specific layer of the model, each client <math id="S3.SS1.p2.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p2.2.m2.1a"><mi id="S3.SS1.p2.2.m2.1.1" xref="S3.SS1.p2.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.2.m2.1b"><ci id="S3.SS1.p2.2.m2.1.1.cmml" xref="S3.SS1.p2.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.2.m2.1c">n</annotation></semantics></math> computes the average of channel-wise means, <math id="S3.SS1.p2.3.m3.1" class="ltx_Math" alttext="\mu_{n}" display="inline"><semantics id="S3.SS1.p2.3.m3.1a"><msub id="S3.SS1.p2.3.m3.1.1" xref="S3.SS1.p2.3.m3.1.1.cmml"><mi id="S3.SS1.p2.3.m3.1.1.2" xref="S3.SS1.p2.3.m3.1.1.2.cmml">μ</mi><mi id="S3.SS1.p2.3.m3.1.1.3" xref="S3.SS1.p2.3.m3.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.3.m3.1b"><apply id="S3.SS1.p2.3.m3.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.3.m3.1.1.1.cmml" xref="S3.SS1.p2.3.m3.1.1">subscript</csymbol><ci id="S3.SS1.p2.3.m3.1.1.2.cmml" xref="S3.SS1.p2.3.m3.1.1.2">𝜇</ci><ci id="S3.SS1.p2.3.m3.1.1.3.cmml" xref="S3.SS1.p2.3.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.3.m3.1c">\mu_{n}</annotation></semantics></math>, and the variance of the channel-wise means, <math id="S3.SS1.p2.4.m4.1" class="ltx_Math" alttext="\Sigma_{n}(\mu)" display="inline"><semantics id="S3.SS1.p2.4.m4.1a"><mrow id="S3.SS1.p2.4.m4.1.2" xref="S3.SS1.p2.4.m4.1.2.cmml"><msub id="S3.SS1.p2.4.m4.1.2.2" xref="S3.SS1.p2.4.m4.1.2.2.cmml"><mi mathvariant="normal" id="S3.SS1.p2.4.m4.1.2.2.2" xref="S3.SS1.p2.4.m4.1.2.2.2.cmml">Σ</mi><mi id="S3.SS1.p2.4.m4.1.2.2.3" xref="S3.SS1.p2.4.m4.1.2.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.4.m4.1.2.1" xref="S3.SS1.p2.4.m4.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.4.m4.1.2.3.2" xref="S3.SS1.p2.4.m4.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.4.m4.1.2.3.2.1" xref="S3.SS1.p2.4.m4.1.2.cmml">(</mo><mi id="S3.SS1.p2.4.m4.1.1" xref="S3.SS1.p2.4.m4.1.1.cmml">μ</mi><mo stretchy="false" id="S3.SS1.p2.4.m4.1.2.3.2.2" xref="S3.SS1.p2.4.m4.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.4.m4.1b"><apply id="S3.SS1.p2.4.m4.1.2.cmml" xref="S3.SS1.p2.4.m4.1.2"><times id="S3.SS1.p2.4.m4.1.2.1.cmml" xref="S3.SS1.p2.4.m4.1.2.1"></times><apply id="S3.SS1.p2.4.m4.1.2.2.cmml" xref="S3.SS1.p2.4.m4.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.4.m4.1.2.2.1.cmml" xref="S3.SS1.p2.4.m4.1.2.2">subscript</csymbol><ci id="S3.SS1.p2.4.m4.1.2.2.2.cmml" xref="S3.SS1.p2.4.m4.1.2.2.2">Σ</ci><ci id="S3.SS1.p2.4.m4.1.2.2.3.cmml" xref="S3.SS1.p2.4.m4.1.2.2.3">𝑛</ci></apply><ci id="S3.SS1.p2.4.m4.1.1.cmml" xref="S3.SS1.p2.4.m4.1.1">𝜇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.4.m4.1c">\Sigma_{n}(\mu)</annotation></semantics></math>, as follows:</p>
<table id="S3.E2" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E2.m1.2" class="ltx_Math" alttext="\mu_{n}=\frac{1}{\rho_{n}}\sum_{i=1}^{\rho_{n}}\mu(s_{i}^{n}),\ \ \Sigma_{n}(\mu)=\frac{1}{\rho_{n}}\sum_{i=1}^{\rho_{n}}(\mu_{n}-\mu(s_{i}^{n}))^{2}," display="block"><semantics id="S3.E2.m1.2a"><mrow id="S3.E2.m1.2.2.1"><mrow id="S3.E2.m1.2.2.1.1.2" xref="S3.E2.m1.2.2.1.1.3.cmml"><mrow id="S3.E2.m1.2.2.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.cmml"><msub id="S3.E2.m1.2.2.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.3.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.3.2" xref="S3.E2.m1.2.2.1.1.1.1.3.2.cmml">μ</mi><mi id="S3.E2.m1.2.2.1.1.1.1.3.3" xref="S3.E2.m1.2.2.1.1.1.1.3.3.cmml">n</mi></msub><mo id="S3.E2.m1.2.2.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.2.cmml">=</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.cmml"><mfrac id="S3.E2.m1.2.2.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.3.cmml"><mn id="S3.E2.m1.2.2.1.1.1.1.1.3.2" xref="S3.E2.m1.2.2.1.1.1.1.1.3.2.cmml">1</mn><msub id="S3.E2.m1.2.2.1.1.1.1.1.3.3" xref="S3.E2.m1.2.2.1.1.1.1.1.3.3.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.3.3.2" xref="S3.E2.m1.2.2.1.1.1.1.1.3.3.2.cmml">ρ</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.3.3.3" xref="S3.E2.m1.2.2.1.1.1.1.1.3.3.3.cmml">n</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.cmml"><munderover id="S3.E2.m1.2.2.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.cmml"><mo movablelimits="false" id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><msub id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.2.cmml">ρ</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.3.cmml">n</mi></msub></munderover><mrow id="S3.E2.m1.2.2.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><mo rspace="1.167em" id="S3.E2.m1.2.2.1.1.2.3" xref="S3.E2.m1.2.2.1.1.3a.cmml">,</mo><mrow id="S3.E2.m1.2.2.1.1.2.2" xref="S3.E2.m1.2.2.1.1.2.2.cmml"><mrow id="S3.E2.m1.2.2.1.1.2.2.3" xref="S3.E2.m1.2.2.1.1.2.2.3.cmml"><msub id="S3.E2.m1.2.2.1.1.2.2.3.2" xref="S3.E2.m1.2.2.1.1.2.2.3.2.cmml"><mi mathvariant="normal" id="S3.E2.m1.2.2.1.1.2.2.3.2.2" xref="S3.E2.m1.2.2.1.1.2.2.3.2.2.cmml">Σ</mi><mi id="S3.E2.m1.2.2.1.1.2.2.3.2.3" xref="S3.E2.m1.2.2.1.1.2.2.3.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.2.2.3.1" xref="S3.E2.m1.2.2.1.1.2.2.3.1.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.3.3.2" xref="S3.E2.m1.2.2.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.3.3.2.1" xref="S3.E2.m1.2.2.1.1.2.2.3.cmml">(</mo><mi id="S3.E2.m1.1.1" xref="S3.E2.m1.1.1.cmml">μ</mi><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.3.3.2.2" xref="S3.E2.m1.2.2.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E2.m1.2.2.1.1.2.2.2" xref="S3.E2.m1.2.2.1.1.2.2.2.cmml">=</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.1" xref="S3.E2.m1.2.2.1.1.2.2.1.cmml"><mfrac id="S3.E2.m1.2.2.1.1.2.2.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.3.cmml"><mn id="S3.E2.m1.2.2.1.1.2.2.1.3.2" xref="S3.E2.m1.2.2.1.1.2.2.1.3.2.cmml">1</mn><msub id="S3.E2.m1.2.2.1.1.2.2.1.3.3" xref="S3.E2.m1.2.2.1.1.2.2.1.3.3.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.1.3.3.2" xref="S3.E2.m1.2.2.1.1.2.2.1.3.3.2.cmml">ρ</mi><mi id="S3.E2.m1.2.2.1.1.2.2.1.3.3.3" xref="S3.E2.m1.2.2.1.1.2.2.1.3.3.3.cmml">n</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.2.2.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.2.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.cmml"><munderover id="S3.E2.m1.2.2.1.1.2.2.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.cmml"><mo movablelimits="false" rspace="0em" id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.2.cmml">∑</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.2.cmml">i</mi><mo id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.1.cmml">=</mo><mn id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.3.cmml">1</mn></mrow><msub id="S3.E2.m1.2.2.1.1.2.2.1.1.2.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.2.cmml">ρ</mi><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.3.cmml">n</mi></msub></munderover><msup id="S3.E2.m1.2.2.1.1.2.2.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.cmml"><mrow id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.cmml"><msub id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.2.cmml">μ</mi><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.3.cmml">n</mi></msub><mo id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.2.cmml">−</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.3.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.E2.m1.2.2.1.1.2.2.1.1.1.3" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.3.cmml">2</mn></msup></mrow></mrow></mrow></mrow><mo id="S3.E2.m1.2.2.1.2">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E2.m1.2b"><apply id="S3.E2.m1.2.2.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.3a.cmml" xref="S3.E2.m1.2.2.1.1.2.3">formulae-sequence</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1"><eq id="S3.E2.m1.2.2.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.2"></eq><apply id="S3.E2.m1.2.2.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.2">𝜇</ci><ci id="S3.E2.m1.2.2.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E2.m1.2.2.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1"><times id="S3.E2.m1.2.2.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.2"></times><apply id="S3.E2.m1.2.2.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.3"><divide id="S3.E2.m1.2.2.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.3"></divide><cn type="integer" id="S3.E2.m1.2.2.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.3.2">1</cn><apply id="S3.E2.m1.2.2.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.3.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.1.3.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.3.3.2">𝜌</ci><ci id="S3.E2.m1.2.2.1.1.1.1.1.3.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.3.3.3">𝑛</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1"><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2">superscript</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2">subscript</csymbol><sum id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.2"></sum><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3"><eq id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.1"></eq><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.2">𝜌</ci><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.2.3.3">𝑛</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1"><times id="S3.E2.m1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.2"></times><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.3">𝜇</ci><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply></apply></apply><apply id="S3.E2.m1.2.2.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2"><eq id="S3.E2.m1.2.2.1.1.2.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.2"></eq><apply id="S3.E2.m1.2.2.1.1.2.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.3"><times id="S3.E2.m1.2.2.1.1.2.2.3.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.3.1"></times><apply id="S3.E2.m1.2.2.1.1.2.2.3.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.3.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.3.2.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.3.2">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.2.3.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.3.2.2">Σ</ci><ci id="S3.E2.m1.2.2.1.1.2.2.3.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.3.2.3">𝑛</ci></apply><ci id="S3.E2.m1.1.1.cmml" xref="S3.E2.m1.1.1">𝜇</ci></apply><apply id="S3.E2.m1.2.2.1.1.2.2.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1"><times id="S3.E2.m1.2.2.1.1.2.2.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.2"></times><apply id="S3.E2.m1.2.2.1.1.2.2.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.3"><divide id="S3.E2.m1.2.2.1.1.2.2.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.3"></divide><cn type="integer" id="S3.E2.m1.2.2.1.1.2.2.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.3.2">1</cn><apply id="S3.E2.m1.2.2.1.1.2.2.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.3.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.3.3.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.3.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.2.1.3.3.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.3.3.2">𝜌</ci><ci id="S3.E2.m1.2.2.1.1.2.2.1.3.3.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.3.3.3">𝑛</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1"><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2">superscript</csymbol><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2">subscript</csymbol><sum id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.2"></sum><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3"><eq id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.1"></eq><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.2">𝜌</ci><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.2.3.3">𝑛</ci></apply></apply><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1">superscript</csymbol><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1"><minus id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.2"></minus><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.2">𝜇</ci><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1"><times id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.2"></times><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.3">𝜇</ci><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply><cn type="integer" id="S3.E2.m1.2.2.1.1.2.2.1.1.1.3.cmml" xref="S3.E2.m1.2.2.1.1.2.2.1.1.1.3">2</cn></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E2.m1.2c">\mu_{n}=\frac{1}{\rho_{n}}\sum_{i=1}^{\rho_{n}}\mu(s_{i}^{n}),\ \ \Sigma_{n}(\mu)=\frac{1}{\rho_{n}}\sum_{i=1}^{\rho_{n}}(\mu_{n}-\mu(s_{i}^{n}))^{2},</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(2)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.16" class="ltx_p">where <math id="S3.SS1.p2.5.m1.1" class="ltx_Math" alttext="s_{i}^{n}\in\mathbb{R}^{C\times H\times W}" display="inline"><semantics id="S3.SS1.p2.5.m1.1a"><mrow id="S3.SS1.p2.5.m1.1.1" xref="S3.SS1.p2.5.m1.1.1.cmml"><msubsup id="S3.SS1.p2.5.m1.1.1.2" xref="S3.SS1.p2.5.m1.1.1.2.cmml"><mi id="S3.SS1.p2.5.m1.1.1.2.2.2" xref="S3.SS1.p2.5.m1.1.1.2.2.2.cmml">s</mi><mi id="S3.SS1.p2.5.m1.1.1.2.2.3" xref="S3.SS1.p2.5.m1.1.1.2.2.3.cmml">i</mi><mi id="S3.SS1.p2.5.m1.1.1.2.3" xref="S3.SS1.p2.5.m1.1.1.2.3.cmml">n</mi></msubsup><mo id="S3.SS1.p2.5.m1.1.1.1" xref="S3.SS1.p2.5.m1.1.1.1.cmml">∈</mo><msup id="S3.SS1.p2.5.m1.1.1.3" xref="S3.SS1.p2.5.m1.1.1.3.cmml"><mi id="S3.SS1.p2.5.m1.1.1.3.2" xref="S3.SS1.p2.5.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.p2.5.m1.1.1.3.3" xref="S3.SS1.p2.5.m1.1.1.3.3.cmml"><mi id="S3.SS1.p2.5.m1.1.1.3.3.2" xref="S3.SS1.p2.5.m1.1.1.3.3.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p2.5.m1.1.1.3.3.1" xref="S3.SS1.p2.5.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p2.5.m1.1.1.3.3.3" xref="S3.SS1.p2.5.m1.1.1.3.3.3.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p2.5.m1.1.1.3.3.1a" xref="S3.SS1.p2.5.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p2.5.m1.1.1.3.3.4" xref="S3.SS1.p2.5.m1.1.1.3.3.4.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.5.m1.1b"><apply id="S3.SS1.p2.5.m1.1.1.cmml" xref="S3.SS1.p2.5.m1.1.1"><in id="S3.SS1.p2.5.m1.1.1.1.cmml" xref="S3.SS1.p2.5.m1.1.1.1"></in><apply id="S3.SS1.p2.5.m1.1.1.2.cmml" xref="S3.SS1.p2.5.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m1.1.1.2.1.cmml" xref="S3.SS1.p2.5.m1.1.1.2">superscript</csymbol><apply id="S3.SS1.p2.5.m1.1.1.2.2.cmml" xref="S3.SS1.p2.5.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m1.1.1.2.2.1.cmml" xref="S3.SS1.p2.5.m1.1.1.2">subscript</csymbol><ci id="S3.SS1.p2.5.m1.1.1.2.2.2.cmml" xref="S3.SS1.p2.5.m1.1.1.2.2.2">𝑠</ci><ci id="S3.SS1.p2.5.m1.1.1.2.2.3.cmml" xref="S3.SS1.p2.5.m1.1.1.2.2.3">𝑖</ci></apply><ci id="S3.SS1.p2.5.m1.1.1.2.3.cmml" xref="S3.SS1.p2.5.m1.1.1.2.3">𝑛</ci></apply><apply id="S3.SS1.p2.5.m1.1.1.3.cmml" xref="S3.SS1.p2.5.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.5.m1.1.1.3.1.cmml" xref="S3.SS1.p2.5.m1.1.1.3">superscript</csymbol><ci id="S3.SS1.p2.5.m1.1.1.3.2.cmml" xref="S3.SS1.p2.5.m1.1.1.3.2">ℝ</ci><apply id="S3.SS1.p2.5.m1.1.1.3.3.cmml" xref="S3.SS1.p2.5.m1.1.1.3.3"><times id="S3.SS1.p2.5.m1.1.1.3.3.1.cmml" xref="S3.SS1.p2.5.m1.1.1.3.3.1"></times><ci id="S3.SS1.p2.5.m1.1.1.3.3.2.cmml" xref="S3.SS1.p2.5.m1.1.1.3.3.2">𝐶</ci><ci id="S3.SS1.p2.5.m1.1.1.3.3.3.cmml" xref="S3.SS1.p2.5.m1.1.1.3.3.3">𝐻</ci><ci id="S3.SS1.p2.5.m1.1.1.3.3.4.cmml" xref="S3.SS1.p2.5.m1.1.1.3.3.4">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.5.m1.1c">s_{i}^{n}\in\mathbb{R}^{C\times H\times W}</annotation></semantics></math> is the feature of the <math id="S3.SS1.p2.6.m2.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p2.6.m2.1a"><mi id="S3.SS1.p2.6.m2.1.1" xref="S3.SS1.p2.6.m2.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.6.m2.1b"><ci id="S3.SS1.p2.6.m2.1.1.cmml" xref="S3.SS1.p2.6.m2.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.6.m2.1c">i</annotation></semantics></math>-th sample in the <math id="S3.SS1.p2.7.m3.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p2.7.m3.1a"><mi id="S3.SS1.p2.7.m3.1.1" xref="S3.SS1.p2.7.m3.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.7.m3.1b"><ci id="S3.SS1.p2.7.m3.1.1.cmml" xref="S3.SS1.p2.7.m3.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.7.m3.1c">n</annotation></semantics></math>-th client’s local dataset, and the square operation <math id="S3.SS1.p2.8.m4.1" class="ltx_Math" alttext="(\cdot)^{2}" display="inline"><semantics id="S3.SS1.p2.8.m4.1a"><msup id="S3.SS1.p2.8.m4.1.2" xref="S3.SS1.p2.8.m4.1.2.cmml"><mrow id="S3.SS1.p2.8.m4.1.2.2.2" xref="S3.SS1.p2.8.m4.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.8.m4.1.2.2.2.1" xref="S3.SS1.p2.8.m4.1.2.cmml">(</mo><mo lspace="0em" rspace="0em" id="S3.SS1.p2.8.m4.1.1" xref="S3.SS1.p2.8.m4.1.1.cmml">⋅</mo><mo stretchy="false" id="S3.SS1.p2.8.m4.1.2.2.2.2" xref="S3.SS1.p2.8.m4.1.2.cmml">)</mo></mrow><mn id="S3.SS1.p2.8.m4.1.2.3" xref="S3.SS1.p2.8.m4.1.2.3.cmml">2</mn></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.8.m4.1b"><apply id="S3.SS1.p2.8.m4.1.2.cmml" xref="S3.SS1.p2.8.m4.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.8.m4.1.2.1.cmml" xref="S3.SS1.p2.8.m4.1.2">superscript</csymbol><ci id="S3.SS1.p2.8.m4.1.1.cmml" xref="S3.SS1.p2.8.m4.1.1">⋅</ci><cn type="integer" id="S3.SS1.p2.8.m4.1.2.3.cmml" xref="S3.SS1.p2.8.m4.1.2.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.8.m4.1c">(\cdot)^{2}</annotation></semantics></math> works in an element-wise manner. Similarly, the average and the variance of channel-wise standard deviations are computed as <math id="S3.SS1.p2.9.m5.1" class="ltx_Math" alttext="\sigma_{n}=\frac{1}{\rho_{n}}\sum_{i=1}^{\rho_{n}}\sigma(s_{i}^{n})" display="inline"><semantics id="S3.SS1.p2.9.m5.1a"><mrow id="S3.SS1.p2.9.m5.1.1" xref="S3.SS1.p2.9.m5.1.1.cmml"><msub id="S3.SS1.p2.9.m5.1.1.3" xref="S3.SS1.p2.9.m5.1.1.3.cmml"><mi id="S3.SS1.p2.9.m5.1.1.3.2" xref="S3.SS1.p2.9.m5.1.1.3.2.cmml">σ</mi><mi id="S3.SS1.p2.9.m5.1.1.3.3" xref="S3.SS1.p2.9.m5.1.1.3.3.cmml">n</mi></msub><mo id="S3.SS1.p2.9.m5.1.1.2" xref="S3.SS1.p2.9.m5.1.1.2.cmml">=</mo><mrow id="S3.SS1.p2.9.m5.1.1.1" xref="S3.SS1.p2.9.m5.1.1.1.cmml"><mfrac id="S3.SS1.p2.9.m5.1.1.1.3" xref="S3.SS1.p2.9.m5.1.1.1.3.cmml"><mn id="S3.SS1.p2.9.m5.1.1.1.3.2" xref="S3.SS1.p2.9.m5.1.1.1.3.2.cmml">1</mn><msub id="S3.SS1.p2.9.m5.1.1.1.3.3" xref="S3.SS1.p2.9.m5.1.1.1.3.3.cmml"><mi id="S3.SS1.p2.9.m5.1.1.1.3.3.2" xref="S3.SS1.p2.9.m5.1.1.1.3.3.2.cmml">ρ</mi><mi id="S3.SS1.p2.9.m5.1.1.1.3.3.3" xref="S3.SS1.p2.9.m5.1.1.1.3.3.3.cmml">n</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="S3.SS1.p2.9.m5.1.1.1.2" xref="S3.SS1.p2.9.m5.1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p2.9.m5.1.1.1.1" xref="S3.SS1.p2.9.m5.1.1.1.1.cmml"><msubsup id="S3.SS1.p2.9.m5.1.1.1.1.2" xref="S3.SS1.p2.9.m5.1.1.1.1.2.cmml"><mo id="S3.SS1.p2.9.m5.1.1.1.1.2.2.2" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.2.cmml">∑</mo><mrow id="S3.SS1.p2.9.m5.1.1.1.1.2.2.3" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.cmml"><mi id="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.2" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.2.cmml">i</mi><mo id="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.1" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.1.cmml">=</mo><mn id="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.3" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.3.cmml">1</mn></mrow><msub id="S3.SS1.p2.9.m5.1.1.1.1.2.3" xref="S3.SS1.p2.9.m5.1.1.1.1.2.3.cmml"><mi id="S3.SS1.p2.9.m5.1.1.1.1.2.3.2" xref="S3.SS1.p2.9.m5.1.1.1.1.2.3.2.cmml">ρ</mi><mi id="S3.SS1.p2.9.m5.1.1.1.1.2.3.3" xref="S3.SS1.p2.9.m5.1.1.1.1.2.3.3.cmml">n</mi></msub></msubsup><mrow id="S3.SS1.p2.9.m5.1.1.1.1.1" xref="S3.SS1.p2.9.m5.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.9.m5.1.1.1.1.1.3" xref="S3.SS1.p2.9.m5.1.1.1.1.1.3.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.9.m5.1.1.1.1.1.2" xref="S3.SS1.p2.9.m5.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.2" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.2" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.3" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.3" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.3" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.9.m5.1b"><apply id="S3.SS1.p2.9.m5.1.1.cmml" xref="S3.SS1.p2.9.m5.1.1"><eq id="S3.SS1.p2.9.m5.1.1.2.cmml" xref="S3.SS1.p2.9.m5.1.1.2"></eq><apply id="S3.SS1.p2.9.m5.1.1.3.cmml" xref="S3.SS1.p2.9.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m5.1.1.3.1.cmml" xref="S3.SS1.p2.9.m5.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.9.m5.1.1.3.2.cmml" xref="S3.SS1.p2.9.m5.1.1.3.2">𝜎</ci><ci id="S3.SS1.p2.9.m5.1.1.3.3.cmml" xref="S3.SS1.p2.9.m5.1.1.3.3">𝑛</ci></apply><apply id="S3.SS1.p2.9.m5.1.1.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1"><times id="S3.SS1.p2.9.m5.1.1.1.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.2"></times><apply id="S3.SS1.p2.9.m5.1.1.1.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.3"><divide id="S3.SS1.p2.9.m5.1.1.1.3.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.3"></divide><cn type="integer" id="S3.SS1.p2.9.m5.1.1.1.3.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.3.2">1</cn><apply id="S3.SS1.p2.9.m5.1.1.1.3.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m5.1.1.1.3.3.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.3.3">subscript</csymbol><ci id="S3.SS1.p2.9.m5.1.1.1.3.3.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.3.3.2">𝜌</ci><ci id="S3.SS1.p2.9.m5.1.1.1.3.3.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.3.3.3">𝑛</ci></apply></apply><apply id="S3.SS1.p2.9.m5.1.1.1.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1"><apply id="S3.SS1.p2.9.m5.1.1.1.1.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m5.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2">superscript</csymbol><apply id="S3.SS1.p2.9.m5.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m5.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2">subscript</csymbol><sum id="S3.SS1.p2.9.m5.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.2"></sum><apply id="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.3"><eq id="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.1"></eq><ci id="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.SS1.p2.9.m5.1.1.1.1.2.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m5.1.1.1.1.2.3.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.3">subscript</csymbol><ci id="S3.SS1.p2.9.m5.1.1.1.1.2.3.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.3.2">𝜌</ci><ci id="S3.SS1.p2.9.m5.1.1.1.1.2.3.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.2.3.3">𝑛</ci></apply></apply><apply id="S3.SS1.p2.9.m5.1.1.1.1.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1"><times id="S3.SS1.p2.9.m5.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.2"></times><ci id="S3.SS1.p2.9.m5.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.3">𝜎</ci><apply id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.9.m5.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.9.m5.1c">\sigma_{n}=\frac{1}{\rho_{n}}\sum_{i=1}^{\rho_{n}}\sigma(s_{i}^{n})</annotation></semantics></math>, <math id="S3.SS1.p2.10.m6.2" class="ltx_Math" alttext="\Sigma_{n}(\sigma)=\frac{1}{\rho_{n}}\sum_{i=1}^{\rho_{n}}(\sigma_{n}-\sigma(s_{i}^{n}))^{2}" display="inline"><semantics id="S3.SS1.p2.10.m6.2a"><mrow id="S3.SS1.p2.10.m6.2.2" xref="S3.SS1.p2.10.m6.2.2.cmml"><mrow id="S3.SS1.p2.10.m6.2.2.3" xref="S3.SS1.p2.10.m6.2.2.3.cmml"><msub id="S3.SS1.p2.10.m6.2.2.3.2" xref="S3.SS1.p2.10.m6.2.2.3.2.cmml"><mi mathvariant="normal" id="S3.SS1.p2.10.m6.2.2.3.2.2" xref="S3.SS1.p2.10.m6.2.2.3.2.2.cmml">Σ</mi><mi id="S3.SS1.p2.10.m6.2.2.3.2.3" xref="S3.SS1.p2.10.m6.2.2.3.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.10.m6.2.2.3.1" xref="S3.SS1.p2.10.m6.2.2.3.1.cmml">​</mo><mrow id="S3.SS1.p2.10.m6.2.2.3.3.2" xref="S3.SS1.p2.10.m6.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p2.10.m6.2.2.3.3.2.1" xref="S3.SS1.p2.10.m6.2.2.3.cmml">(</mo><mi id="S3.SS1.p2.10.m6.1.1" xref="S3.SS1.p2.10.m6.1.1.cmml">σ</mi><mo stretchy="false" id="S3.SS1.p2.10.m6.2.2.3.3.2.2" xref="S3.SS1.p2.10.m6.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p2.10.m6.2.2.2" xref="S3.SS1.p2.10.m6.2.2.2.cmml">=</mo><mrow id="S3.SS1.p2.10.m6.2.2.1" xref="S3.SS1.p2.10.m6.2.2.1.cmml"><mfrac id="S3.SS1.p2.10.m6.2.2.1.3" xref="S3.SS1.p2.10.m6.2.2.1.3.cmml"><mn id="S3.SS1.p2.10.m6.2.2.1.3.2" xref="S3.SS1.p2.10.m6.2.2.1.3.2.cmml">1</mn><msub id="S3.SS1.p2.10.m6.2.2.1.3.3" xref="S3.SS1.p2.10.m6.2.2.1.3.3.cmml"><mi id="S3.SS1.p2.10.m6.2.2.1.3.3.2" xref="S3.SS1.p2.10.m6.2.2.1.3.3.2.cmml">ρ</mi><mi id="S3.SS1.p2.10.m6.2.2.1.3.3.3" xref="S3.SS1.p2.10.m6.2.2.1.3.3.3.cmml">n</mi></msub></mfrac><mo lspace="0em" rspace="0em" id="S3.SS1.p2.10.m6.2.2.1.2" xref="S3.SS1.p2.10.m6.2.2.1.2.cmml">​</mo><mrow id="S3.SS1.p2.10.m6.2.2.1.1" xref="S3.SS1.p2.10.m6.2.2.1.1.cmml"><msubsup id="S3.SS1.p2.10.m6.2.2.1.1.2" xref="S3.SS1.p2.10.m6.2.2.1.1.2.cmml"><mo rspace="0em" id="S3.SS1.p2.10.m6.2.2.1.1.2.2.2" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.2.cmml">∑</mo><mrow id="S3.SS1.p2.10.m6.2.2.1.1.2.2.3" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.cmml"><mi id="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.2" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.2.cmml">i</mi><mo id="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.1" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.1.cmml">=</mo><mn id="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.3" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.3.cmml">1</mn></mrow><msub id="S3.SS1.p2.10.m6.2.2.1.1.2.3" xref="S3.SS1.p2.10.m6.2.2.1.1.2.3.cmml"><mi id="S3.SS1.p2.10.m6.2.2.1.1.2.3.2" xref="S3.SS1.p2.10.m6.2.2.1.1.2.3.2.cmml">ρ</mi><mi id="S3.SS1.p2.10.m6.2.2.1.1.2.3.3" xref="S3.SS1.p2.10.m6.2.2.1.1.2.3.3.cmml">n</mi></msub></msubsup><msup id="S3.SS1.p2.10.m6.2.2.1.1.1" xref="S3.SS1.p2.10.m6.2.2.1.1.1.cmml"><mrow id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.2" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.cmml"><msub id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.cmml"><mi id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.2" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.2.cmml">σ</mi><mi id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.3" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.3.cmml">n</mi></msub><mo id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.2" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.2.cmml">−</mo><mrow id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.3" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.3.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.2" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.2" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.2" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml">s</mi><mi id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.3" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.3" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.3" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.3" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.cmml">)</mo></mrow><mn id="S3.SS1.p2.10.m6.2.2.1.1.1.3" xref="S3.SS1.p2.10.m6.2.2.1.1.1.3.cmml">2</mn></msup></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.10.m6.2b"><apply id="S3.SS1.p2.10.m6.2.2.cmml" xref="S3.SS1.p2.10.m6.2.2"><eq id="S3.SS1.p2.10.m6.2.2.2.cmml" xref="S3.SS1.p2.10.m6.2.2.2"></eq><apply id="S3.SS1.p2.10.m6.2.2.3.cmml" xref="S3.SS1.p2.10.m6.2.2.3"><times id="S3.SS1.p2.10.m6.2.2.3.1.cmml" xref="S3.SS1.p2.10.m6.2.2.3.1"></times><apply id="S3.SS1.p2.10.m6.2.2.3.2.cmml" xref="S3.SS1.p2.10.m6.2.2.3.2"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.3.2.1.cmml" xref="S3.SS1.p2.10.m6.2.2.3.2">subscript</csymbol><ci id="S3.SS1.p2.10.m6.2.2.3.2.2.cmml" xref="S3.SS1.p2.10.m6.2.2.3.2.2">Σ</ci><ci id="S3.SS1.p2.10.m6.2.2.3.2.3.cmml" xref="S3.SS1.p2.10.m6.2.2.3.2.3">𝑛</ci></apply><ci id="S3.SS1.p2.10.m6.1.1.cmml" xref="S3.SS1.p2.10.m6.1.1">𝜎</ci></apply><apply id="S3.SS1.p2.10.m6.2.2.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1"><times id="S3.SS1.p2.10.m6.2.2.1.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.2"></times><apply id="S3.SS1.p2.10.m6.2.2.1.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.3"><divide id="S3.SS1.p2.10.m6.2.2.1.3.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.3"></divide><cn type="integer" id="S3.SS1.p2.10.m6.2.2.1.3.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.3.2">1</cn><apply id="S3.SS1.p2.10.m6.2.2.1.3.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.1.3.3.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.3.3">subscript</csymbol><ci id="S3.SS1.p2.10.m6.2.2.1.3.3.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.3.3.2">𝜌</ci><ci id="S3.SS1.p2.10.m6.2.2.1.3.3.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.3.3.3">𝑛</ci></apply></apply><apply id="S3.SS1.p2.10.m6.2.2.1.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1"><apply id="S3.SS1.p2.10.m6.2.2.1.1.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.1.1.2.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2">superscript</csymbol><apply id="S3.SS1.p2.10.m6.2.2.1.1.2.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.1.1.2.2.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2">subscript</csymbol><sum id="S3.SS1.p2.10.m6.2.2.1.1.2.2.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.2"></sum><apply id="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.3"><eq id="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.1"></eq><ci id="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.2">𝑖</ci><cn type="integer" id="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.2.3.3">1</cn></apply></apply><apply id="S3.SS1.p2.10.m6.2.2.1.1.2.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.1.1.2.3.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.3">subscript</csymbol><ci id="S3.SS1.p2.10.m6.2.2.1.1.2.3.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.3.2">𝜌</ci><ci id="S3.SS1.p2.10.m6.2.2.1.1.2.3.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.2.3.3">𝑛</ci></apply></apply><apply id="S3.SS1.p2.10.m6.2.2.1.1.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.1.1.1.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1">superscript</csymbol><apply id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1"><minus id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.2"></minus><apply id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.2">𝜎</ci><ci id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.3.3">𝑛</ci></apply><apply id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1"><times id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.2"></times><ci id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.3">𝜎</ci><apply id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.2">𝑠</ci><ci id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply></apply><cn type="integer" id="S3.SS1.p2.10.m6.2.2.1.1.1.3.cmml" xref="S3.SS1.p2.10.m6.2.2.1.1.1.3">2</cn></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.10.m6.2c">\Sigma_{n}(\sigma)=\frac{1}{\rho_{n}}\sum_{i=1}^{\rho_{n}}(\sigma_{n}-\sigma(s_{i}^{n}))^{2}</annotation></semantics></math>,
respectively. Here, <math id="S3.SS1.p2.11.m7.1" class="ltx_Math" alttext="\mu_{n}" display="inline"><semantics id="S3.SS1.p2.11.m7.1a"><msub id="S3.SS1.p2.11.m7.1.1" xref="S3.SS1.p2.11.m7.1.1.cmml"><mi id="S3.SS1.p2.11.m7.1.1.2" xref="S3.SS1.p2.11.m7.1.1.2.cmml">μ</mi><mi id="S3.SS1.p2.11.m7.1.1.3" xref="S3.SS1.p2.11.m7.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.11.m7.1b"><apply id="S3.SS1.p2.11.m7.1.1.cmml" xref="S3.SS1.p2.11.m7.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.11.m7.1.1.1.cmml" xref="S3.SS1.p2.11.m7.1.1">subscript</csymbol><ci id="S3.SS1.p2.11.m7.1.1.2.cmml" xref="S3.SS1.p2.11.m7.1.1.2">𝜇</ci><ci id="S3.SS1.p2.11.m7.1.1.3.cmml" xref="S3.SS1.p2.11.m7.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.11.m7.1c">\mu_{n}</annotation></semantics></math> and <math id="S3.SS1.p2.12.m8.1" class="ltx_Math" alttext="\sigma_{n}" display="inline"><semantics id="S3.SS1.p2.12.m8.1a"><msub id="S3.SS1.p2.12.m8.1.1" xref="S3.SS1.p2.12.m8.1.1.cmml"><mi id="S3.SS1.p2.12.m8.1.1.2" xref="S3.SS1.p2.12.m8.1.1.2.cmml">σ</mi><mi id="S3.SS1.p2.12.m8.1.1.3" xref="S3.SS1.p2.12.m8.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.12.m8.1b"><apply id="S3.SS1.p2.12.m8.1.1.cmml" xref="S3.SS1.p2.12.m8.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.12.m8.1.1.1.cmml" xref="S3.SS1.p2.12.m8.1.1">subscript</csymbol><ci id="S3.SS1.p2.12.m8.1.1.2.cmml" xref="S3.SS1.p2.12.m8.1.1.2">𝜎</ci><ci id="S3.SS1.p2.12.m8.1.1.3.cmml" xref="S3.SS1.p2.12.m8.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.12.m8.1c">\sigma_{n}</annotation></semantics></math> represent the center of the style statistics of client <math id="S3.SS1.p2.13.m9.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p2.13.m9.1a"><mi id="S3.SS1.p2.13.m9.1.1" xref="S3.SS1.p2.13.m9.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.13.m9.1b"><ci id="S3.SS1.p2.13.m9.1.1.cmml" xref="S3.SS1.p2.13.m9.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.13.m9.1c">n</annotation></semantics></math>, while <math id="S3.SS1.p2.14.m10.1" class="ltx_Math" alttext="\Sigma_{n}(\mu)" display="inline"><semantics id="S3.SS1.p2.14.m10.1a"><mrow id="S3.SS1.p2.14.m10.1.2" xref="S3.SS1.p2.14.m10.1.2.cmml"><msub id="S3.SS1.p2.14.m10.1.2.2" xref="S3.SS1.p2.14.m10.1.2.2.cmml"><mi mathvariant="normal" id="S3.SS1.p2.14.m10.1.2.2.2" xref="S3.SS1.p2.14.m10.1.2.2.2.cmml">Σ</mi><mi id="S3.SS1.p2.14.m10.1.2.2.3" xref="S3.SS1.p2.14.m10.1.2.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.14.m10.1.2.1" xref="S3.SS1.p2.14.m10.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.14.m10.1.2.3.2" xref="S3.SS1.p2.14.m10.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.14.m10.1.2.3.2.1" xref="S3.SS1.p2.14.m10.1.2.cmml">(</mo><mi id="S3.SS1.p2.14.m10.1.1" xref="S3.SS1.p2.14.m10.1.1.cmml">μ</mi><mo stretchy="false" id="S3.SS1.p2.14.m10.1.2.3.2.2" xref="S3.SS1.p2.14.m10.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.14.m10.1b"><apply id="S3.SS1.p2.14.m10.1.2.cmml" xref="S3.SS1.p2.14.m10.1.2"><times id="S3.SS1.p2.14.m10.1.2.1.cmml" xref="S3.SS1.p2.14.m10.1.2.1"></times><apply id="S3.SS1.p2.14.m10.1.2.2.cmml" xref="S3.SS1.p2.14.m10.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.14.m10.1.2.2.1.cmml" xref="S3.SS1.p2.14.m10.1.2.2">subscript</csymbol><ci id="S3.SS1.p2.14.m10.1.2.2.2.cmml" xref="S3.SS1.p2.14.m10.1.2.2.2">Σ</ci><ci id="S3.SS1.p2.14.m10.1.2.2.3.cmml" xref="S3.SS1.p2.14.m10.1.2.2.3">𝑛</ci></apply><ci id="S3.SS1.p2.14.m10.1.1.cmml" xref="S3.SS1.p2.14.m10.1.1">𝜇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.14.m10.1c">\Sigma_{n}(\mu)</annotation></semantics></math> and <math id="S3.SS1.p2.15.m11.1" class="ltx_Math" alttext="\Sigma_{n}(\sigma)" display="inline"><semantics id="S3.SS1.p2.15.m11.1a"><mrow id="S3.SS1.p2.15.m11.1.2" xref="S3.SS1.p2.15.m11.1.2.cmml"><msub id="S3.SS1.p2.15.m11.1.2.2" xref="S3.SS1.p2.15.m11.1.2.2.cmml"><mi mathvariant="normal" id="S3.SS1.p2.15.m11.1.2.2.2" xref="S3.SS1.p2.15.m11.1.2.2.2.cmml">Σ</mi><mi id="S3.SS1.p2.15.m11.1.2.2.3" xref="S3.SS1.p2.15.m11.1.2.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p2.15.m11.1.2.1" xref="S3.SS1.p2.15.m11.1.2.1.cmml">​</mo><mrow id="S3.SS1.p2.15.m11.1.2.3.2" xref="S3.SS1.p2.15.m11.1.2.cmml"><mo stretchy="false" id="S3.SS1.p2.15.m11.1.2.3.2.1" xref="S3.SS1.p2.15.m11.1.2.cmml">(</mo><mi id="S3.SS1.p2.15.m11.1.1" xref="S3.SS1.p2.15.m11.1.1.cmml">σ</mi><mo stretchy="false" id="S3.SS1.p2.15.m11.1.2.3.2.2" xref="S3.SS1.p2.15.m11.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.15.m11.1b"><apply id="S3.SS1.p2.15.m11.1.2.cmml" xref="S3.SS1.p2.15.m11.1.2"><times id="S3.SS1.p2.15.m11.1.2.1.cmml" xref="S3.SS1.p2.15.m11.1.2.1"></times><apply id="S3.SS1.p2.15.m11.1.2.2.cmml" xref="S3.SS1.p2.15.m11.1.2.2"><csymbol cd="ambiguous" id="S3.SS1.p2.15.m11.1.2.2.1.cmml" xref="S3.SS1.p2.15.m11.1.2.2">subscript</csymbol><ci id="S3.SS1.p2.15.m11.1.2.2.2.cmml" xref="S3.SS1.p2.15.m11.1.2.2.2">Σ</ci><ci id="S3.SS1.p2.15.m11.1.2.2.3.cmml" xref="S3.SS1.p2.15.m11.1.2.2.3">𝑛</ci></apply><ci id="S3.SS1.p2.15.m11.1.1.cmml" xref="S3.SS1.p2.15.m11.1.1">𝜎</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.15.m11.1c">\Sigma_{n}(\sigma)</annotation></semantics></math> show how these style statistics of client <math id="S3.SS1.p2.16.m12.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p2.16.m12.1a"><mi id="S3.SS1.p2.16.m12.1.1" xref="S3.SS1.p2.16.m12.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.16.m12.1b"><ci id="S3.SS1.p2.16.m12.1.1.cmml" xref="S3.SS1.p2.16.m12.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.16.m12.1c">n</annotation></semantics></math> are distributed around the center. Now we define</p>
<table id="S3.E3" class="ltx_equation ltx_eqn_table">

<tbody><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_eqn_cell ltx_align_center"><math id="S3.E3.m1.6" class="ltx_Math" alttext="\Phi_{n}=[\mu_{n},\sigma_{n},\Sigma_{n}(\mu),\Sigma_{n}(\sigma)]" display="block"><semantics id="S3.E3.m1.6a"><mrow id="S3.E3.m1.6.6" xref="S3.E3.m1.6.6.cmml"><msub id="S3.E3.m1.6.6.6" xref="S3.E3.m1.6.6.6.cmml"><mi mathvariant="normal" id="S3.E3.m1.6.6.6.2" xref="S3.E3.m1.6.6.6.2.cmml">Φ</mi><mi id="S3.E3.m1.6.6.6.3" xref="S3.E3.m1.6.6.6.3.cmml">n</mi></msub><mo id="S3.E3.m1.6.6.5" xref="S3.E3.m1.6.6.5.cmml">=</mo><mrow id="S3.E3.m1.6.6.4.4" xref="S3.E3.m1.6.6.4.5.cmml"><mo stretchy="false" id="S3.E3.m1.6.6.4.4.5" xref="S3.E3.m1.6.6.4.5.cmml">[</mo><msub id="S3.E3.m1.3.3.1.1.1" xref="S3.E3.m1.3.3.1.1.1.cmml"><mi id="S3.E3.m1.3.3.1.1.1.2" xref="S3.E3.m1.3.3.1.1.1.2.cmml">μ</mi><mi id="S3.E3.m1.3.3.1.1.1.3" xref="S3.E3.m1.3.3.1.1.1.3.cmml">n</mi></msub><mo id="S3.E3.m1.6.6.4.4.6" xref="S3.E3.m1.6.6.4.5.cmml">,</mo><msub id="S3.E3.m1.4.4.2.2.2" xref="S3.E3.m1.4.4.2.2.2.cmml"><mi id="S3.E3.m1.4.4.2.2.2.2" xref="S3.E3.m1.4.4.2.2.2.2.cmml">σ</mi><mi id="S3.E3.m1.4.4.2.2.2.3" xref="S3.E3.m1.4.4.2.2.2.3.cmml">n</mi></msub><mo id="S3.E3.m1.6.6.4.4.7" xref="S3.E3.m1.6.6.4.5.cmml">,</mo><mrow id="S3.E3.m1.5.5.3.3.3" xref="S3.E3.m1.5.5.3.3.3.cmml"><msub id="S3.E3.m1.5.5.3.3.3.2" xref="S3.E3.m1.5.5.3.3.3.2.cmml"><mi mathvariant="normal" id="S3.E3.m1.5.5.3.3.3.2.2" xref="S3.E3.m1.5.5.3.3.3.2.2.cmml">Σ</mi><mi id="S3.E3.m1.5.5.3.3.3.2.3" xref="S3.E3.m1.5.5.3.3.3.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.5.5.3.3.3.1" xref="S3.E3.m1.5.5.3.3.3.1.cmml">​</mo><mrow id="S3.E3.m1.5.5.3.3.3.3.2" xref="S3.E3.m1.5.5.3.3.3.cmml"><mo stretchy="false" id="S3.E3.m1.5.5.3.3.3.3.2.1" xref="S3.E3.m1.5.5.3.3.3.cmml">(</mo><mi id="S3.E3.m1.1.1" xref="S3.E3.m1.1.1.cmml">μ</mi><mo stretchy="false" id="S3.E3.m1.5.5.3.3.3.3.2.2" xref="S3.E3.m1.5.5.3.3.3.cmml">)</mo></mrow></mrow><mo id="S3.E3.m1.6.6.4.4.8" xref="S3.E3.m1.6.6.4.5.cmml">,</mo><mrow id="S3.E3.m1.6.6.4.4.4" xref="S3.E3.m1.6.6.4.4.4.cmml"><msub id="S3.E3.m1.6.6.4.4.4.2" xref="S3.E3.m1.6.6.4.4.4.2.cmml"><mi mathvariant="normal" id="S3.E3.m1.6.6.4.4.4.2.2" xref="S3.E3.m1.6.6.4.4.4.2.2.cmml">Σ</mi><mi id="S3.E3.m1.6.6.4.4.4.2.3" xref="S3.E3.m1.6.6.4.4.4.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.E3.m1.6.6.4.4.4.1" xref="S3.E3.m1.6.6.4.4.4.1.cmml">​</mo><mrow id="S3.E3.m1.6.6.4.4.4.3.2" xref="S3.E3.m1.6.6.4.4.4.cmml"><mo stretchy="false" id="S3.E3.m1.6.6.4.4.4.3.2.1" xref="S3.E3.m1.6.6.4.4.4.cmml">(</mo><mi id="S3.E3.m1.2.2" xref="S3.E3.m1.2.2.cmml">σ</mi><mo stretchy="false" id="S3.E3.m1.6.6.4.4.4.3.2.2" xref="S3.E3.m1.6.6.4.4.4.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.E3.m1.6.6.4.4.9" xref="S3.E3.m1.6.6.4.5.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.E3.m1.6b"><apply id="S3.E3.m1.6.6.cmml" xref="S3.E3.m1.6.6"><eq id="S3.E3.m1.6.6.5.cmml" xref="S3.E3.m1.6.6.5"></eq><apply id="S3.E3.m1.6.6.6.cmml" xref="S3.E3.m1.6.6.6"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.6.1.cmml" xref="S3.E3.m1.6.6.6">subscript</csymbol><ci id="S3.E3.m1.6.6.6.2.cmml" xref="S3.E3.m1.6.6.6.2">Φ</ci><ci id="S3.E3.m1.6.6.6.3.cmml" xref="S3.E3.m1.6.6.6.3">𝑛</ci></apply><list id="S3.E3.m1.6.6.4.5.cmml" xref="S3.E3.m1.6.6.4.4"><apply id="S3.E3.m1.3.3.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1"><csymbol cd="ambiguous" id="S3.E3.m1.3.3.1.1.1.1.cmml" xref="S3.E3.m1.3.3.1.1.1">subscript</csymbol><ci id="S3.E3.m1.3.3.1.1.1.2.cmml" xref="S3.E3.m1.3.3.1.1.1.2">𝜇</ci><ci id="S3.E3.m1.3.3.1.1.1.3.cmml" xref="S3.E3.m1.3.3.1.1.1.3">𝑛</ci></apply><apply id="S3.E3.m1.4.4.2.2.2.cmml" xref="S3.E3.m1.4.4.2.2.2"><csymbol cd="ambiguous" id="S3.E3.m1.4.4.2.2.2.1.cmml" xref="S3.E3.m1.4.4.2.2.2">subscript</csymbol><ci id="S3.E3.m1.4.4.2.2.2.2.cmml" xref="S3.E3.m1.4.4.2.2.2.2">𝜎</ci><ci id="S3.E3.m1.4.4.2.2.2.3.cmml" xref="S3.E3.m1.4.4.2.2.2.3">𝑛</ci></apply><apply id="S3.E3.m1.5.5.3.3.3.cmml" xref="S3.E3.m1.5.5.3.3.3"><times id="S3.E3.m1.5.5.3.3.3.1.cmml" xref="S3.E3.m1.5.5.3.3.3.1"></times><apply id="S3.E3.m1.5.5.3.3.3.2.cmml" xref="S3.E3.m1.5.5.3.3.3.2"><csymbol cd="ambiguous" id="S3.E3.m1.5.5.3.3.3.2.1.cmml" xref="S3.E3.m1.5.5.3.3.3.2">subscript</csymbol><ci id="S3.E3.m1.5.5.3.3.3.2.2.cmml" xref="S3.E3.m1.5.5.3.3.3.2.2">Σ</ci><ci id="S3.E3.m1.5.5.3.3.3.2.3.cmml" xref="S3.E3.m1.5.5.3.3.3.2.3">𝑛</ci></apply><ci id="S3.E3.m1.1.1.cmml" xref="S3.E3.m1.1.1">𝜇</ci></apply><apply id="S3.E3.m1.6.6.4.4.4.cmml" xref="S3.E3.m1.6.6.4.4.4"><times id="S3.E3.m1.6.6.4.4.4.1.cmml" xref="S3.E3.m1.6.6.4.4.4.1"></times><apply id="S3.E3.m1.6.6.4.4.4.2.cmml" xref="S3.E3.m1.6.6.4.4.4.2"><csymbol cd="ambiguous" id="S3.E3.m1.6.6.4.4.4.2.1.cmml" xref="S3.E3.m1.6.6.4.4.4.2">subscript</csymbol><ci id="S3.E3.m1.6.6.4.4.4.2.2.cmml" xref="S3.E3.m1.6.6.4.4.4.2.2">Σ</ci><ci id="S3.E3.m1.6.6.4.4.4.2.3.cmml" xref="S3.E3.m1.6.6.4.4.4.2.3">𝑛</ci></apply><ci id="S3.E3.m1.2.2.cmml" xref="S3.E3.m1.2.2">𝜎</ci></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E3.m1.6c">\Phi_{n}=[\mu_{n},\sigma_{n},\Sigma_{n}(\mu),\Sigma_{n}(\sigma)]</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(3)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p2.23" class="ltx_p">as the <span id="S3.SS1.p2.23.1" class="ltx_text ltx_font_italic">style information</span> representing the domain identity of the <math id="S3.SS1.p2.17.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p2.17.m1.1a"><mi id="S3.SS1.p2.17.m1.1.1" xref="S3.SS1.p2.17.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.17.m1.1b"><ci id="S3.SS1.p2.17.m1.1.1.cmml" xref="S3.SS1.p2.17.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.17.m1.1c">n</annotation></semantics></math>-th client in the style-space. Each client <math id="S3.SS1.p2.18.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p2.18.m2.1a"><mi id="S3.SS1.p2.18.m2.1.1" xref="S3.SS1.p2.18.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.18.m2.1b"><ci id="S3.SS1.p2.18.m2.1.1.cmml" xref="S3.SS1.p2.18.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.18.m2.1c">n</annotation></semantics></math> sends <math id="S3.SS1.p2.19.m3.1" class="ltx_Math" alttext="\Phi_{n}" display="inline"><semantics id="S3.SS1.p2.19.m3.1a"><msub id="S3.SS1.p2.19.m3.1.1" xref="S3.SS1.p2.19.m3.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.p2.19.m3.1.1.2" xref="S3.SS1.p2.19.m3.1.1.2.cmml">Φ</mi><mi id="S3.SS1.p2.19.m3.1.1.3" xref="S3.SS1.p2.19.m3.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.19.m3.1b"><apply id="S3.SS1.p2.19.m3.1.1.cmml" xref="S3.SS1.p2.19.m3.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.19.m3.1.1.1.cmml" xref="S3.SS1.p2.19.m3.1.1">subscript</csymbol><ci id="S3.SS1.p2.19.m3.1.1.2.cmml" xref="S3.SS1.p2.19.m3.1.1.2">Φ</ci><ci id="S3.SS1.p2.19.m3.1.1.3.cmml" xref="S3.SS1.p2.19.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.19.m3.1c">\Phi_{n}</annotation></semantics></math> to the server, and the server randomly shares the style information to other clients in a one-to-one manner; client <math id="S3.SS1.p2.20.m4.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p2.20.m4.1a"><mi id="S3.SS1.p2.20.m4.1.1" xref="S3.SS1.p2.20.m4.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.20.m4.1b"><ci id="S3.SS1.p2.20.m4.1.1.cmml" xref="S3.SS1.p2.20.m4.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.20.m4.1c">n</annotation></semantics></math> receives <math id="S3.SS1.p2.21.m5.1" class="ltx_Math" alttext="\Phi_{n^{\prime}}" display="inline"><semantics id="S3.SS1.p2.21.m5.1a"><msub id="S3.SS1.p2.21.m5.1.1" xref="S3.SS1.p2.21.m5.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.p2.21.m5.1.1.2" xref="S3.SS1.p2.21.m5.1.1.2.cmml">Φ</mi><msup id="S3.SS1.p2.21.m5.1.1.3" xref="S3.SS1.p2.21.m5.1.1.3.cmml"><mi id="S3.SS1.p2.21.m5.1.1.3.2" xref="S3.SS1.p2.21.m5.1.1.3.2.cmml">n</mi><mo id="S3.SS1.p2.21.m5.1.1.3.3" xref="S3.SS1.p2.21.m5.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.21.m5.1b"><apply id="S3.SS1.p2.21.m5.1.1.cmml" xref="S3.SS1.p2.21.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.21.m5.1.1.1.cmml" xref="S3.SS1.p2.21.m5.1.1">subscript</csymbol><ci id="S3.SS1.p2.21.m5.1.1.2.cmml" xref="S3.SS1.p2.21.m5.1.1.2">Φ</ci><apply id="S3.SS1.p2.21.m5.1.1.3.cmml" xref="S3.SS1.p2.21.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.21.m5.1.1.3.1.cmml" xref="S3.SS1.p2.21.m5.1.1.3">superscript</csymbol><ci id="S3.SS1.p2.21.m5.1.1.3.2.cmml" xref="S3.SS1.p2.21.m5.1.1.3.2">𝑛</ci><ci id="S3.SS1.p2.21.m5.1.1.3.3.cmml" xref="S3.SS1.p2.21.m5.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.21.m5.1c">\Phi_{n^{\prime}}</annotation></semantics></math> that belongs to client <math id="S3.SS1.p2.22.m6.1" class="ltx_Math" alttext="n^{\prime}" display="inline"><semantics id="S3.SS1.p2.22.m6.1a"><msup id="S3.SS1.p2.22.m6.1.1" xref="S3.SS1.p2.22.m6.1.1.cmml"><mi id="S3.SS1.p2.22.m6.1.1.2" xref="S3.SS1.p2.22.m6.1.1.2.cmml">n</mi><mo id="S3.SS1.p2.22.m6.1.1.3" xref="S3.SS1.p2.22.m6.1.1.3.cmml">′</mo></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.22.m6.1b"><apply id="S3.SS1.p2.22.m6.1.1.cmml" xref="S3.SS1.p2.22.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p2.22.m6.1.1.1.cmml" xref="S3.SS1.p2.22.m6.1.1">superscript</csymbol><ci id="S3.SS1.p2.22.m6.1.1.2.cmml" xref="S3.SS1.p2.22.m6.1.1.2">𝑛</ci><ci id="S3.SS1.p2.22.m6.1.1.3.cmml" xref="S3.SS1.p2.22.m6.1.1.3">′</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.22.m6.1c">n^{\prime}</annotation></semantics></math> (<math id="S3.SS1.p2.23.m7.1" class="ltx_Math" alttext="n\neq n^{\prime}" display="inline"><semantics id="S3.SS1.p2.23.m7.1a"><mrow id="S3.SS1.p2.23.m7.1.1" xref="S3.SS1.p2.23.m7.1.1.cmml"><mi id="S3.SS1.p2.23.m7.1.1.2" xref="S3.SS1.p2.23.m7.1.1.2.cmml">n</mi><mo id="S3.SS1.p2.23.m7.1.1.1" xref="S3.SS1.p2.23.m7.1.1.1.cmml">≠</mo><msup id="S3.SS1.p2.23.m7.1.1.3" xref="S3.SS1.p2.23.m7.1.1.3.cmml"><mi id="S3.SS1.p2.23.m7.1.1.3.2" xref="S3.SS1.p2.23.m7.1.1.3.2.cmml">n</mi><mo id="S3.SS1.p2.23.m7.1.1.3.3" xref="S3.SS1.p2.23.m7.1.1.3.3.cmml">′</mo></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p2.23.m7.1b"><apply id="S3.SS1.p2.23.m7.1.1.cmml" xref="S3.SS1.p2.23.m7.1.1"><neq id="S3.SS1.p2.23.m7.1.1.1.cmml" xref="S3.SS1.p2.23.m7.1.1.1"></neq><ci id="S3.SS1.p2.23.m7.1.1.2.cmml" xref="S3.SS1.p2.23.m7.1.1.2">𝑛</ci><apply id="S3.SS1.p2.23.m7.1.1.3.cmml" xref="S3.SS1.p2.23.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p2.23.m7.1.1.3.1.cmml" xref="S3.SS1.p2.23.m7.1.1.3">superscript</csymbol><ci id="S3.SS1.p2.23.m7.1.1.3.2.cmml" xref="S3.SS1.p2.23.m7.1.1.3.2">𝑛</ci><ci id="S3.SS1.p2.23.m7.1.1.3.3.cmml" xref="S3.SS1.p2.23.m7.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p2.23.m7.1c">n\neq n^{\prime}</annotation></semantics></math>) without overlapping with other clients. By compensating for the lack of styles in each FL client, this style-sharing process is the first step that provides an opportunity for each model to get exposed to new styles (blue region in Fig. <a href="#S3.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>) beyond the client’s original styles (orange region in Fig. <a href="#S3.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>).</p>
</div>
<figure id="S3.F2" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F2.sf1" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.00227/assets/x2.png" id="S3.F2.sf1.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="299" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.sf1.2.1.1" class="ltx_text" style="font-size:90%;">(a)</span> </span><span id="S3.F2.sf1.3.2" class="ltx_text" style="font-size:90%;">Existing style-based DG baselines</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S3.F2.sf2" class="ltx_figure ltx_figure_panel ltx_align_center"><img src="/html/2311.00227/assets/x3.png" id="S3.F2.sf2.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="461" height="257" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.sf2.2.1.1" class="ltx_text" style="font-size:90%;">(b)</span> </span><span id="S3.F2.sf2.3.2" class="ltx_text" style="font-size:90%;">Proposed style-based learning for federated DG</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F2.3.1.1" class="ltx_text" style="font-size:90%;">Figure 2</span>: </span><span id="S3.F2.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Proposed style-based learning strategy (Sec. <a href="#S3.SS1" title="3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>):<span id="S3.F2.4.2.1" class="ltx_text ltx_font_medium"> Compared to existing style-based DG methods that rely on interpolation or style shift near the original style of each sample, our style-based learning (i) effectively utilizes other FL clients’ styles based on style sharing and shifting, and (ii) enables the model to further explore a wider style space via feature-level oversampling and extrapolation, handling the issue of domain-limited FL settings.</span></span></figcaption>
</figure>
<div id="S3.SS1.p3" class="ltx_para">
<p id="S3.SS1.p3.19" class="ltx_p"><span id="S3.SS1.p3.19.1" class="ltx_text ltx_font_bold">Step 2: Selective style shifting.</span> Suppose client <math id="S3.SS1.p3.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p3.1.m1.1a"><mi id="S3.SS1.p3.1.m1.1.1" xref="S3.SS1.p3.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.1.m1.1b"><ci id="S3.SS1.p3.1.m1.1.1.cmml" xref="S3.SS1.p3.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.1.m1.1c">n</annotation></semantics></math> received <math id="S3.SS1.p3.2.m2.1" class="ltx_Math" alttext="\Phi_{n^{\prime}}" display="inline"><semantics id="S3.SS1.p3.2.m2.1a"><msub id="S3.SS1.p3.2.m2.1.1" xref="S3.SS1.p3.2.m2.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.p3.2.m2.1.1.2" xref="S3.SS1.p3.2.m2.1.1.2.cmml">Φ</mi><msup id="S3.SS1.p3.2.m2.1.1.3" xref="S3.SS1.p3.2.m2.1.1.3.cmml"><mi id="S3.SS1.p3.2.m2.1.1.3.2" xref="S3.SS1.p3.2.m2.1.1.3.2.cmml">n</mi><mo id="S3.SS1.p3.2.m2.1.1.3.3" xref="S3.SS1.p3.2.m2.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.2.m2.1b"><apply id="S3.SS1.p3.2.m2.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.1.1.cmml" xref="S3.SS1.p3.2.m2.1.1">subscript</csymbol><ci id="S3.SS1.p3.2.m2.1.1.2.cmml" xref="S3.SS1.p3.2.m2.1.1.2">Φ</ci><apply id="S3.SS1.p3.2.m2.1.1.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p3.2.m2.1.1.3.1.cmml" xref="S3.SS1.p3.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS1.p3.2.m2.1.1.3.2.cmml" xref="S3.SS1.p3.2.m2.1.1.3.2">𝑛</ci><ci id="S3.SS1.p3.2.m2.1.1.3.3.cmml" xref="S3.SS1.p3.2.m2.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.2.m2.1c">\Phi_{n^{\prime}}</annotation></semantics></math> from the server. Now the question is, how should each client utilize this additional style information during training to improve domain/style diversity? Our idea is to selectively shift the styles of the samples from the original style to the new style to effectively balance between the original/new source domains. To this end, given a mini-batch with size <math id="S3.SS1.p3.3.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS1.p3.3.m3.1a"><mi id="S3.SS1.p3.3.m3.1.1" xref="S3.SS1.p3.3.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.3.m3.1b"><ci id="S3.SS1.p3.3.m3.1.1.cmml" xref="S3.SS1.p3.3.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.3.m3.1c">B</annotation></semantics></math>, each client runs <math id="S3.SS1.p3.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p3.4.m4.1a"><mi id="S3.SS1.p3.4.m4.1.1" xref="S3.SS1.p3.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.4.m4.1b"><ci id="S3.SS1.p3.4.m4.1.1.cmml" xref="S3.SS1.p3.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.4.m4.1c">k</annotation></semantics></math>-means++ with <math id="S3.SS1.p3.5.m5.1" class="ltx_Math" alttext="k=B/2" display="inline"><semantics id="S3.SS1.p3.5.m5.1a"><mrow id="S3.SS1.p3.5.m5.1.1" xref="S3.SS1.p3.5.m5.1.1.cmml"><mi id="S3.SS1.p3.5.m5.1.1.2" xref="S3.SS1.p3.5.m5.1.1.2.cmml">k</mi><mo id="S3.SS1.p3.5.m5.1.1.1" xref="S3.SS1.p3.5.m5.1.1.1.cmml">=</mo><mrow id="S3.SS1.p3.5.m5.1.1.3" xref="S3.SS1.p3.5.m5.1.1.3.cmml"><mi id="S3.SS1.p3.5.m5.1.1.3.2" xref="S3.SS1.p3.5.m5.1.1.3.2.cmml">B</mi><mo id="S3.SS1.p3.5.m5.1.1.3.1" xref="S3.SS1.p3.5.m5.1.1.3.1.cmml">/</mo><mn id="S3.SS1.p3.5.m5.1.1.3.3" xref="S3.SS1.p3.5.m5.1.1.3.3.cmml">2</mn></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.5.m5.1b"><apply id="S3.SS1.p3.5.m5.1.1.cmml" xref="S3.SS1.p3.5.m5.1.1"><eq id="S3.SS1.p3.5.m5.1.1.1.cmml" xref="S3.SS1.p3.5.m5.1.1.1"></eq><ci id="S3.SS1.p3.5.m5.1.1.2.cmml" xref="S3.SS1.p3.5.m5.1.1.2">𝑘</ci><apply id="S3.SS1.p3.5.m5.1.1.3.cmml" xref="S3.SS1.p3.5.m5.1.1.3"><divide id="S3.SS1.p3.5.m5.1.1.3.1.cmml" xref="S3.SS1.p3.5.m5.1.1.3.1"></divide><ci id="S3.SS1.p3.5.m5.1.1.3.2.cmml" xref="S3.SS1.p3.5.m5.1.1.3.2">𝐵</ci><cn type="integer" id="S3.SS1.p3.5.m5.1.1.3.3.cmml" xref="S3.SS1.p3.5.m5.1.1.3.3">2</cn></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.5.m5.1c">k=B/2</annotation></semantics></math> in the style-space for one iteration and selects <math id="S3.SS1.p3.6.m6.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="S3.SS1.p3.6.m6.1a"><mrow id="S3.SS1.p3.6.m6.1.1" xref="S3.SS1.p3.6.m6.1.1.cmml"><mi id="S3.SS1.p3.6.m6.1.1.2" xref="S3.SS1.p3.6.m6.1.1.2.cmml">B</mi><mo id="S3.SS1.p3.6.m6.1.1.1" xref="S3.SS1.p3.6.m6.1.1.1.cmml">/</mo><mn id="S3.SS1.p3.6.m6.1.1.3" xref="S3.SS1.p3.6.m6.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.6.m6.1b"><apply id="S3.SS1.p3.6.m6.1.1.cmml" xref="S3.SS1.p3.6.m6.1.1"><divide id="S3.SS1.p3.6.m6.1.1.1.cmml" xref="S3.SS1.p3.6.m6.1.1.1"></divide><ci id="S3.SS1.p3.6.m6.1.1.2.cmml" xref="S3.SS1.p3.6.m6.1.1.2">𝐵</ci><cn type="integer" id="S3.SS1.p3.6.m6.1.1.3.cmml" xref="S3.SS1.p3.6.m6.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.6.m6.1c">B/2</annotation></semantics></math> cluster centers. This enables each client to choose the <math id="S3.SS1.p3.7.m7.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="S3.SS1.p3.7.m7.1a"><mrow id="S3.SS1.p3.7.m7.1.1" xref="S3.SS1.p3.7.m7.1.1.cmml"><mi id="S3.SS1.p3.7.m7.1.1.2" xref="S3.SS1.p3.7.m7.1.1.2.cmml">B</mi><mo id="S3.SS1.p3.7.m7.1.1.1" xref="S3.SS1.p3.7.m7.1.1.1.cmml">/</mo><mn id="S3.SS1.p3.7.m7.1.1.3" xref="S3.SS1.p3.7.m7.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.7.m7.1b"><apply id="S3.SS1.p3.7.m7.1.1.cmml" xref="S3.SS1.p3.7.m7.1.1"><divide id="S3.SS1.p3.7.m7.1.1.1.cmml" xref="S3.SS1.p3.7.m7.1.1.1"></divide><ci id="S3.SS1.p3.7.m7.1.1.2.cmml" xref="S3.SS1.p3.7.m7.1.1.2">𝐵</ci><cn type="integer" id="S3.SS1.p3.7.m7.1.1.3.cmml" xref="S3.SS1.p3.7.m7.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.7.m7.1c">B/2</annotation></semantics></math> styles that are similar to the remaining <math id="S3.SS1.p3.8.m8.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="S3.SS1.p3.8.m8.1a"><mrow id="S3.SS1.p3.8.m8.1.1" xref="S3.SS1.p3.8.m8.1.1.cmml"><mi id="S3.SS1.p3.8.m8.1.1.2" xref="S3.SS1.p3.8.m8.1.1.2.cmml">B</mi><mo id="S3.SS1.p3.8.m8.1.1.1" xref="S3.SS1.p3.8.m8.1.1.1.cmml">/</mo><mn id="S3.SS1.p3.8.m8.1.1.3" xref="S3.SS1.p3.8.m8.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.8.m8.1b"><apply id="S3.SS1.p3.8.m8.1.1.cmml" xref="S3.SS1.p3.8.m8.1.1"><divide id="S3.SS1.p3.8.m8.1.1.1.cmml" xref="S3.SS1.p3.8.m8.1.1.1"></divide><ci id="S3.SS1.p3.8.m8.1.1.2.cmml" xref="S3.SS1.p3.8.m8.1.1.2">𝐵</ci><cn type="integer" id="S3.SS1.p3.8.m8.1.1.3.cmml" xref="S3.SS1.p3.8.m8.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.8.m8.1c">B/2</annotation></semantics></math> styles, so that the model can get exposed to new styles while not losing the performance on the original styles.
The selected <math id="S3.SS1.p3.9.m9.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="S3.SS1.p3.9.m9.1a"><mrow id="S3.SS1.p3.9.m9.1.1" xref="S3.SS1.p3.9.m9.1.1.cmml"><mi id="S3.SS1.p3.9.m9.1.1.2" xref="S3.SS1.p3.9.m9.1.1.2.cmml">B</mi><mo id="S3.SS1.p3.9.m9.1.1.1" xref="S3.SS1.p3.9.m9.1.1.1.cmml">/</mo><mn id="S3.SS1.p3.9.m9.1.1.3" xref="S3.SS1.p3.9.m9.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.9.m9.1b"><apply id="S3.SS1.p3.9.m9.1.1.cmml" xref="S3.SS1.p3.9.m9.1.1"><divide id="S3.SS1.p3.9.m9.1.1.1.cmml" xref="S3.SS1.p3.9.m9.1.1.1"></divide><ci id="S3.SS1.p3.9.m9.1.1.2.cmml" xref="S3.SS1.p3.9.m9.1.1.2">𝐵</ci><cn type="integer" id="S3.SS1.p3.9.m9.1.1.3.cmml" xref="S3.SS1.p3.9.m9.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.9.m9.1c">B/2</annotation></semantics></math> samples keep their original styles, while for the remaining <math id="S3.SS1.p3.10.m10.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="S3.SS1.p3.10.m10.1a"><mrow id="S3.SS1.p3.10.m10.1.1" xref="S3.SS1.p3.10.m10.1.1.cmml"><mi id="S3.SS1.p3.10.m10.1.1.2" xref="S3.SS1.p3.10.m10.1.1.2.cmml">B</mi><mo id="S3.SS1.p3.10.m10.1.1.1" xref="S3.SS1.p3.10.m10.1.1.1.cmml">/</mo><mn id="S3.SS1.p3.10.m10.1.1.3" xref="S3.SS1.p3.10.m10.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.10.m10.1b"><apply id="S3.SS1.p3.10.m10.1.1.cmml" xref="S3.SS1.p3.10.m10.1.1"><divide id="S3.SS1.p3.10.m10.1.1.1.cmml" xref="S3.SS1.p3.10.m10.1.1.1"></divide><ci id="S3.SS1.p3.10.m10.1.1.2.cmml" xref="S3.SS1.p3.10.m10.1.1.2">𝐵</ci><cn type="integer" id="S3.SS1.p3.10.m10.1.1.3.cmml" xref="S3.SS1.p3.10.m10.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.10.m10.1c">B/2</annotation></semantics></math> samples, we shift the style of their feature <math id="S3.SS1.p3.11.m11.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS1.p3.11.m11.1a"><mi id="S3.SS1.p3.11.m11.1.1" xref="S3.SS1.p3.11.m11.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.11.m11.1b"><ci id="S3.SS1.p3.11.m11.1.1.cmml" xref="S3.SS1.p3.11.m11.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.11.m11.1c">s</annotation></semantics></math> to the new style via AdaIN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib10" title="" class="ltx_ref">10</a>]</cite> as
<math id="S3.SS1.p3.12.m12.7" class="ltx_Math" alttext="f(s)=(\sigma_{n^{\prime}}+\epsilon_{\sigma}\Sigma_{n^{\prime}}(\sigma))\Big{(}\frac{s-\mu(s)}{\sigma(s)}\Big{)}+(\mu_{n^{\prime}}+\epsilon_{\mu}\Sigma_{n^{\prime}}(\mu))" display="inline"><semantics id="S3.SS1.p3.12.m12.7a"><mrow id="S3.SS1.p3.12.m12.7.7" xref="S3.SS1.p3.12.m12.7.7.cmml"><mrow id="S3.SS1.p3.12.m12.7.7.4" xref="S3.SS1.p3.12.m12.7.7.4.cmml"><mi id="S3.SS1.p3.12.m12.7.7.4.2" xref="S3.SS1.p3.12.m12.7.7.4.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.12.m12.7.7.4.1" xref="S3.SS1.p3.12.m12.7.7.4.1.cmml">​</mo><mrow id="S3.SS1.p3.12.m12.7.7.4.3.2" xref="S3.SS1.p3.12.m12.7.7.4.cmml"><mo stretchy="false" id="S3.SS1.p3.12.m12.7.7.4.3.2.1" xref="S3.SS1.p3.12.m12.7.7.4.cmml">(</mo><mi id="S3.SS1.p3.12.m12.3.3" xref="S3.SS1.p3.12.m12.3.3.cmml">s</mi><mo stretchy="false" id="S3.SS1.p3.12.m12.7.7.4.3.2.2" xref="S3.SS1.p3.12.m12.7.7.4.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p3.12.m12.7.7.3" xref="S3.SS1.p3.12.m12.7.7.3.cmml">=</mo><mrow id="S3.SS1.p3.12.m12.7.7.2" xref="S3.SS1.p3.12.m12.7.7.2.cmml"><mrow id="S3.SS1.p3.12.m12.6.6.1.1" xref="S3.SS1.p3.12.m12.6.6.1.1.cmml"><mrow id="S3.SS1.p3.12.m12.6.6.1.1.1.1" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.cmml"><msub id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.cmml"><mi id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.2.cmml">σ</mi><msup id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.cmml"><mi id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.2.cmml">n</mi><mo id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.3" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.3.cmml">′</mo></msup></msub><mo id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.1" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.1.cmml">+</mo><mrow id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.cmml"><msub id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.cmml"><mi id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.2.cmml">ϵ</mi><mi id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.3" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.3.cmml">σ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.1" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.1.cmml">​</mo><msub id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.cmml"><mi mathvariant="normal" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.2.cmml">Σ</mi><msup id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.cmml"><mi id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.2.cmml">n</mi><mo id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.3" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.3.cmml">′</mo></msup></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.1a" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.1.cmml">​</mo><mrow id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.4.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.cmml"><mo stretchy="false" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.4.2.1" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.cmml">(</mo><mi id="S3.SS1.p3.12.m12.4.4" xref="S3.SS1.p3.12.m12.4.4.cmml">σ</mi><mo stretchy="false" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.4.2.2" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.3" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.cmml">)</mo></mrow><mo lspace="0em" rspace="0em" id="S3.SS1.p3.12.m12.6.6.1.1.2" xref="S3.SS1.p3.12.m12.6.6.1.1.2.cmml">​</mo><mrow id="S3.SS1.p3.12.m12.6.6.1.1.3.2" xref="S3.SS1.p3.12.m12.2.2.cmml"><mo maxsize="160%" minsize="160%" id="S3.SS1.p3.12.m12.6.6.1.1.3.2.1" xref="S3.SS1.p3.12.m12.2.2.cmml">(</mo><mfrac id="S3.SS1.p3.12.m12.2.2" xref="S3.SS1.p3.12.m12.2.2.cmml"><mrow id="S3.SS1.p3.12.m12.1.1.1" xref="S3.SS1.p3.12.m12.1.1.1.cmml"><mi id="S3.SS1.p3.12.m12.1.1.1.3" xref="S3.SS1.p3.12.m12.1.1.1.3.cmml">s</mi><mo id="S3.SS1.p3.12.m12.1.1.1.2" xref="S3.SS1.p3.12.m12.1.1.1.2.cmml">−</mo><mrow id="S3.SS1.p3.12.m12.1.1.1.4" xref="S3.SS1.p3.12.m12.1.1.1.4.cmml"><mi id="S3.SS1.p3.12.m12.1.1.1.4.2" xref="S3.SS1.p3.12.m12.1.1.1.4.2.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.12.m12.1.1.1.4.1" xref="S3.SS1.p3.12.m12.1.1.1.4.1.cmml">​</mo><mrow id="S3.SS1.p3.12.m12.1.1.1.4.3.2" xref="S3.SS1.p3.12.m12.1.1.1.4.cmml"><mo stretchy="false" id="S3.SS1.p3.12.m12.1.1.1.4.3.2.1" xref="S3.SS1.p3.12.m12.1.1.1.4.cmml">(</mo><mi id="S3.SS1.p3.12.m12.1.1.1.1" xref="S3.SS1.p3.12.m12.1.1.1.1.cmml">s</mi><mo stretchy="false" id="S3.SS1.p3.12.m12.1.1.1.4.3.2.2" xref="S3.SS1.p3.12.m12.1.1.1.4.cmml">)</mo></mrow></mrow></mrow><mrow id="S3.SS1.p3.12.m12.2.2.2" xref="S3.SS1.p3.12.m12.2.2.2.cmml"><mi id="S3.SS1.p3.12.m12.2.2.2.3" xref="S3.SS1.p3.12.m12.2.2.2.3.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.12.m12.2.2.2.2" xref="S3.SS1.p3.12.m12.2.2.2.2.cmml">​</mo><mrow id="S3.SS1.p3.12.m12.2.2.2.4.2" xref="S3.SS1.p3.12.m12.2.2.2.cmml"><mo stretchy="false" id="S3.SS1.p3.12.m12.2.2.2.4.2.1" xref="S3.SS1.p3.12.m12.2.2.2.cmml">(</mo><mi id="S3.SS1.p3.12.m12.2.2.2.1" xref="S3.SS1.p3.12.m12.2.2.2.1.cmml">s</mi><mo stretchy="false" id="S3.SS1.p3.12.m12.2.2.2.4.2.2" xref="S3.SS1.p3.12.m12.2.2.2.cmml">)</mo></mrow></mrow></mfrac><mo maxsize="160%" minsize="160%" id="S3.SS1.p3.12.m12.6.6.1.1.3.2.2" xref="S3.SS1.p3.12.m12.2.2.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p3.12.m12.7.7.2.3" xref="S3.SS1.p3.12.m12.7.7.2.3.cmml">+</mo><mrow id="S3.SS1.p3.12.m12.7.7.2.2.1" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.cmml"><mo stretchy="false" id="S3.SS1.p3.12.m12.7.7.2.2.1.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.cmml">(</mo><mrow id="S3.SS1.p3.12.m12.7.7.2.2.1.1" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.cmml"><msub id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.cmml"><mi id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.2.cmml">μ</mi><msup id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.cmml"><mi id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.2.cmml">n</mi><mo id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.3" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.3.cmml">′</mo></msup></msub><mo id="S3.SS1.p3.12.m12.7.7.2.2.1.1.1" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.1.cmml">+</mo><mrow id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.cmml"><msub id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.cmml"><mi id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.2.cmml">ϵ</mi><mi id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.3" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.3.cmml">μ</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.1" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.1.cmml">​</mo><msub id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.cmml"><mi mathvariant="normal" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.2.cmml">Σ</mi><msup id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.cmml"><mi id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.2.cmml">n</mi><mo id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.3" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.3.cmml">′</mo></msup></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.1a" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.1.cmml">​</mo><mrow id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.4.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.cmml"><mo stretchy="false" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.4.2.1" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.cmml">(</mo><mi id="S3.SS1.p3.12.m12.5.5" xref="S3.SS1.p3.12.m12.5.5.cmml">μ</mi><mo stretchy="false" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.4.2.2" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.SS1.p3.12.m12.7.7.2.2.1.3" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.12.m12.7b"><apply id="S3.SS1.p3.12.m12.7.7.cmml" xref="S3.SS1.p3.12.m12.7.7"><eq id="S3.SS1.p3.12.m12.7.7.3.cmml" xref="S3.SS1.p3.12.m12.7.7.3"></eq><apply id="S3.SS1.p3.12.m12.7.7.4.cmml" xref="S3.SS1.p3.12.m12.7.7.4"><times id="S3.SS1.p3.12.m12.7.7.4.1.cmml" xref="S3.SS1.p3.12.m12.7.7.4.1"></times><ci id="S3.SS1.p3.12.m12.7.7.4.2.cmml" xref="S3.SS1.p3.12.m12.7.7.4.2">𝑓</ci><ci id="S3.SS1.p3.12.m12.3.3.cmml" xref="S3.SS1.p3.12.m12.3.3">𝑠</ci></apply><apply id="S3.SS1.p3.12.m12.7.7.2.cmml" xref="S3.SS1.p3.12.m12.7.7.2"><plus id="S3.SS1.p3.12.m12.7.7.2.3.cmml" xref="S3.SS1.p3.12.m12.7.7.2.3"></plus><apply id="S3.SS1.p3.12.m12.6.6.1.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1"><times id="S3.SS1.p3.12.m12.6.6.1.1.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.2"></times><apply id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1"><plus id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.1"></plus><apply id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.2">𝜎</ci><apply id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3">superscript</csymbol><ci id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.2">𝑛</ci><ci id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.3.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.2.3.3">′</ci></apply></apply><apply id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3"><times id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.1"></times><apply id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2">subscript</csymbol><ci id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.2">italic-ϵ</ci><ci id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.3.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.2.3">𝜎</ci></apply><apply id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3">subscript</csymbol><ci id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.2">Σ</ci><apply id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.1.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3">superscript</csymbol><ci id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.2">𝑛</ci><ci id="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.3.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.1.1.1.3.3.3.3">′</ci></apply></apply><ci id="S3.SS1.p3.12.m12.4.4.cmml" xref="S3.SS1.p3.12.m12.4.4">𝜎</ci></apply></apply><apply id="S3.SS1.p3.12.m12.2.2.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.3.2"><divide id="S3.SS1.p3.12.m12.2.2.3.cmml" xref="S3.SS1.p3.12.m12.6.6.1.1.3.2"></divide><apply id="S3.SS1.p3.12.m12.1.1.1.cmml" xref="S3.SS1.p3.12.m12.1.1.1"><minus id="S3.SS1.p3.12.m12.1.1.1.2.cmml" xref="S3.SS1.p3.12.m12.1.1.1.2"></minus><ci id="S3.SS1.p3.12.m12.1.1.1.3.cmml" xref="S3.SS1.p3.12.m12.1.1.1.3">𝑠</ci><apply id="S3.SS1.p3.12.m12.1.1.1.4.cmml" xref="S3.SS1.p3.12.m12.1.1.1.4"><times id="S3.SS1.p3.12.m12.1.1.1.4.1.cmml" xref="S3.SS1.p3.12.m12.1.1.1.4.1"></times><ci id="S3.SS1.p3.12.m12.1.1.1.4.2.cmml" xref="S3.SS1.p3.12.m12.1.1.1.4.2">𝜇</ci><ci id="S3.SS1.p3.12.m12.1.1.1.1.cmml" xref="S3.SS1.p3.12.m12.1.1.1.1">𝑠</ci></apply></apply><apply id="S3.SS1.p3.12.m12.2.2.2.cmml" xref="S3.SS1.p3.12.m12.2.2.2"><times id="S3.SS1.p3.12.m12.2.2.2.2.cmml" xref="S3.SS1.p3.12.m12.2.2.2.2"></times><ci id="S3.SS1.p3.12.m12.2.2.2.3.cmml" xref="S3.SS1.p3.12.m12.2.2.2.3">𝜎</ci><ci id="S3.SS1.p3.12.m12.2.2.2.1.cmml" xref="S3.SS1.p3.12.m12.2.2.2.1">𝑠</ci></apply></apply></apply><apply id="S3.SS1.p3.12.m12.7.7.2.2.1.1.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1"><plus id="S3.SS1.p3.12.m12.7.7.2.2.1.1.1.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.1"></plus><apply id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.1.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2">subscript</csymbol><ci id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.2.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.2">𝜇</ci><apply id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.1.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3">superscript</csymbol><ci id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.2.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.2">𝑛</ci><ci id="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.3.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.2.3.3">′</ci></apply></apply><apply id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3"><times id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.1.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.1"></times><apply id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.1.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2">subscript</csymbol><ci id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.2.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.2">italic-ϵ</ci><ci id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.3.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.2.3">𝜇</ci></apply><apply id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.1.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3">subscript</csymbol><ci id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.2.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.2">Σ</ci><apply id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.1.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3">superscript</csymbol><ci id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.2.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.2">𝑛</ci><ci id="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.3.cmml" xref="S3.SS1.p3.12.m12.7.7.2.2.1.1.3.3.3.3">′</ci></apply></apply><ci id="S3.SS1.p3.12.m12.5.5.cmml" xref="S3.SS1.p3.12.m12.5.5">𝜇</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.12.m12.7c">f(s)=(\sigma_{n^{\prime}}+\epsilon_{\sigma}\Sigma_{n^{\prime}}(\sigma))\Big{(}\frac{s-\mu(s)}{\sigma(s)}\Big{)}+(\mu_{n^{\prime}}+\epsilon_{\mu}\Sigma_{n^{\prime}}(\mu))</annotation></semantics></math>,
where <math id="S3.SS1.p3.13.m13.1" class="ltx_Math" alttext="f(s)" display="inline"><semantics id="S3.SS1.p3.13.m13.1a"><mrow id="S3.SS1.p3.13.m13.1.2" xref="S3.SS1.p3.13.m13.1.2.cmml"><mi id="S3.SS1.p3.13.m13.1.2.2" xref="S3.SS1.p3.13.m13.1.2.2.cmml">f</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.13.m13.1.2.1" xref="S3.SS1.p3.13.m13.1.2.1.cmml">​</mo><mrow id="S3.SS1.p3.13.m13.1.2.3.2" xref="S3.SS1.p3.13.m13.1.2.cmml"><mo stretchy="false" id="S3.SS1.p3.13.m13.1.2.3.2.1" xref="S3.SS1.p3.13.m13.1.2.cmml">(</mo><mi id="S3.SS1.p3.13.m13.1.1" xref="S3.SS1.p3.13.m13.1.1.cmml">s</mi><mo stretchy="false" id="S3.SS1.p3.13.m13.1.2.3.2.2" xref="S3.SS1.p3.13.m13.1.2.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.13.m13.1b"><apply id="S3.SS1.p3.13.m13.1.2.cmml" xref="S3.SS1.p3.13.m13.1.2"><times id="S3.SS1.p3.13.m13.1.2.1.cmml" xref="S3.SS1.p3.13.m13.1.2.1"></times><ci id="S3.SS1.p3.13.m13.1.2.2.cmml" xref="S3.SS1.p3.13.m13.1.2.2">𝑓</ci><ci id="S3.SS1.p3.13.m13.1.1.cmml" xref="S3.SS1.p3.13.m13.1.1">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.13.m13.1c">f(s)</annotation></semantics></math> is the new feature shifted from <math id="S3.SS1.p3.14.m14.1" class="ltx_Math" alttext="s" display="inline"><semantics id="S3.SS1.p3.14.m14.1a"><mi id="S3.SS1.p3.14.m14.1.1" xref="S3.SS1.p3.14.m14.1.1.cmml">s</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.14.m14.1b"><ci id="S3.SS1.p3.14.m14.1.1.cmml" xref="S3.SS1.p3.14.m14.1.1">𝑠</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.14.m14.1c">s</annotation></semantics></math> and <math id="S3.SS1.p3.15.m15.3" class="ltx_Math" alttext="\epsilon_{\mu}\sim\mathcal{N}(0,\Sigma_{n}(\mu))" display="inline"><semantics id="S3.SS1.p3.15.m15.3a"><mrow id="S3.SS1.p3.15.m15.3.3" xref="S3.SS1.p3.15.m15.3.3.cmml"><msub id="S3.SS1.p3.15.m15.3.3.3" xref="S3.SS1.p3.15.m15.3.3.3.cmml"><mi id="S3.SS1.p3.15.m15.3.3.3.2" xref="S3.SS1.p3.15.m15.3.3.3.2.cmml">ϵ</mi><mi id="S3.SS1.p3.15.m15.3.3.3.3" xref="S3.SS1.p3.15.m15.3.3.3.3.cmml">μ</mi></msub><mo id="S3.SS1.p3.15.m15.3.3.2" xref="S3.SS1.p3.15.m15.3.3.2.cmml">∼</mo><mrow id="S3.SS1.p3.15.m15.3.3.1" xref="S3.SS1.p3.15.m15.3.3.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.15.m15.3.3.1.3" xref="S3.SS1.p3.15.m15.3.3.1.3.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.15.m15.3.3.1.2" xref="S3.SS1.p3.15.m15.3.3.1.2.cmml">​</mo><mrow id="S3.SS1.p3.15.m15.3.3.1.1.1" xref="S3.SS1.p3.15.m15.3.3.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p3.15.m15.3.3.1.1.1.2" xref="S3.SS1.p3.15.m15.3.3.1.1.2.cmml">(</mo><mn id="S3.SS1.p3.15.m15.2.2" xref="S3.SS1.p3.15.m15.2.2.cmml">0</mn><mo id="S3.SS1.p3.15.m15.3.3.1.1.1.3" xref="S3.SS1.p3.15.m15.3.3.1.1.2.cmml">,</mo><mrow id="S3.SS1.p3.15.m15.3.3.1.1.1.1" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.cmml"><msub id="S3.SS1.p3.15.m15.3.3.1.1.1.1.2" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.cmml"><mi mathvariant="normal" id="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.2" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.2.cmml">Σ</mi><mi id="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.3" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.15.m15.3.3.1.1.1.1.1" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.1.cmml">​</mo><mrow id="S3.SS1.p3.15.m15.3.3.1.1.1.1.3.2" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p3.15.m15.3.3.1.1.1.1.3.2.1" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p3.15.m15.1.1" xref="S3.SS1.p3.15.m15.1.1.cmml">μ</mi><mo stretchy="false" id="S3.SS1.p3.15.m15.3.3.1.1.1.1.3.2.2" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS1.p3.15.m15.3.3.1.1.1.4" xref="S3.SS1.p3.15.m15.3.3.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.15.m15.3b"><apply id="S3.SS1.p3.15.m15.3.3.cmml" xref="S3.SS1.p3.15.m15.3.3"><csymbol cd="latexml" id="S3.SS1.p3.15.m15.3.3.2.cmml" xref="S3.SS1.p3.15.m15.3.3.2">similar-to</csymbol><apply id="S3.SS1.p3.15.m15.3.3.3.cmml" xref="S3.SS1.p3.15.m15.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p3.15.m15.3.3.3.1.cmml" xref="S3.SS1.p3.15.m15.3.3.3">subscript</csymbol><ci id="S3.SS1.p3.15.m15.3.3.3.2.cmml" xref="S3.SS1.p3.15.m15.3.3.3.2">italic-ϵ</ci><ci id="S3.SS1.p3.15.m15.3.3.3.3.cmml" xref="S3.SS1.p3.15.m15.3.3.3.3">𝜇</ci></apply><apply id="S3.SS1.p3.15.m15.3.3.1.cmml" xref="S3.SS1.p3.15.m15.3.3.1"><times id="S3.SS1.p3.15.m15.3.3.1.2.cmml" xref="S3.SS1.p3.15.m15.3.3.1.2"></times><ci id="S3.SS1.p3.15.m15.3.3.1.3.cmml" xref="S3.SS1.p3.15.m15.3.3.1.3">𝒩</ci><interval closure="open" id="S3.SS1.p3.15.m15.3.3.1.1.2.cmml" xref="S3.SS1.p3.15.m15.3.3.1.1.1"><cn type="integer" id="S3.SS1.p3.15.m15.2.2.cmml" xref="S3.SS1.p3.15.m15.2.2">0</cn><apply id="S3.SS1.p3.15.m15.3.3.1.1.1.1.cmml" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1"><times id="S3.SS1.p3.15.m15.3.3.1.1.1.1.1.cmml" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.1"></times><apply id="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.cmml" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.1.cmml" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.2.cmml" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.2">Σ</ci><ci id="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.3.cmml" xref="S3.SS1.p3.15.m15.3.3.1.1.1.1.2.3">𝑛</ci></apply><ci id="S3.SS1.p3.15.m15.1.1.cmml" xref="S3.SS1.p3.15.m15.1.1">𝜇</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.15.m15.3c">\epsilon_{\mu}\sim\mathcal{N}(0,\Sigma_{n}(\mu))</annotation></semantics></math>, <math id="S3.SS1.p3.16.m16.3" class="ltx_Math" alttext="\epsilon_{\sigma}\sim\mathcal{N}(0,\Sigma_{n}(\sigma))" display="inline"><semantics id="S3.SS1.p3.16.m16.3a"><mrow id="S3.SS1.p3.16.m16.3.3" xref="S3.SS1.p3.16.m16.3.3.cmml"><msub id="S3.SS1.p3.16.m16.3.3.3" xref="S3.SS1.p3.16.m16.3.3.3.cmml"><mi id="S3.SS1.p3.16.m16.3.3.3.2" xref="S3.SS1.p3.16.m16.3.3.3.2.cmml">ϵ</mi><mi id="S3.SS1.p3.16.m16.3.3.3.3" xref="S3.SS1.p3.16.m16.3.3.3.3.cmml">σ</mi></msub><mo id="S3.SS1.p3.16.m16.3.3.2" xref="S3.SS1.p3.16.m16.3.3.2.cmml">∼</mo><mrow id="S3.SS1.p3.16.m16.3.3.1" xref="S3.SS1.p3.16.m16.3.3.1.cmml"><mi class="ltx_font_mathcaligraphic" id="S3.SS1.p3.16.m16.3.3.1.3" xref="S3.SS1.p3.16.m16.3.3.1.3.cmml">𝒩</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p3.16.m16.3.3.1.2" xref="S3.SS1.p3.16.m16.3.3.1.2.cmml">​</mo><mrow id="S3.SS1.p3.16.m16.3.3.1.1.1" xref="S3.SS1.p3.16.m16.3.3.1.1.2.cmml"><mo stretchy="false" id="S3.SS1.p3.16.m16.3.3.1.1.1.2" xref="S3.SS1.p3.16.m16.3.3.1.1.2.cmml">(</mo><mn id="S3.SS1.p3.16.m16.2.2" xref="S3.SS1.p3.16.m16.2.2.cmml">0</mn><mo id="S3.SS1.p3.16.m16.3.3.1.1.1.3" xref="S3.SS1.p3.16.m16.3.3.1.1.2.cmml">,</mo><mrow id="S3.SS1.p3.16.m16.3.3.1.1.1.1" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.cmml"><msub id="S3.SS1.p3.16.m16.3.3.1.1.1.1.2" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.cmml"><mi mathvariant="normal" id="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.2" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.2.cmml">Σ</mi><mi id="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.3" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p3.16.m16.3.3.1.1.1.1.1" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.1.cmml">​</mo><mrow id="S3.SS1.p3.16.m16.3.3.1.1.1.1.3.2" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p3.16.m16.3.3.1.1.1.1.3.2.1" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.cmml">(</mo><mi id="S3.SS1.p3.16.m16.1.1" xref="S3.SS1.p3.16.m16.1.1.cmml">σ</mi><mo stretchy="false" id="S3.SS1.p3.16.m16.3.3.1.1.1.1.3.2.2" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.cmml">)</mo></mrow></mrow><mo stretchy="false" id="S3.SS1.p3.16.m16.3.3.1.1.1.4" xref="S3.SS1.p3.16.m16.3.3.1.1.2.cmml">)</mo></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.16.m16.3b"><apply id="S3.SS1.p3.16.m16.3.3.cmml" xref="S3.SS1.p3.16.m16.3.3"><csymbol cd="latexml" id="S3.SS1.p3.16.m16.3.3.2.cmml" xref="S3.SS1.p3.16.m16.3.3.2">similar-to</csymbol><apply id="S3.SS1.p3.16.m16.3.3.3.cmml" xref="S3.SS1.p3.16.m16.3.3.3"><csymbol cd="ambiguous" id="S3.SS1.p3.16.m16.3.3.3.1.cmml" xref="S3.SS1.p3.16.m16.3.3.3">subscript</csymbol><ci id="S3.SS1.p3.16.m16.3.3.3.2.cmml" xref="S3.SS1.p3.16.m16.3.3.3.2">italic-ϵ</ci><ci id="S3.SS1.p3.16.m16.3.3.3.3.cmml" xref="S3.SS1.p3.16.m16.3.3.3.3">𝜎</ci></apply><apply id="S3.SS1.p3.16.m16.3.3.1.cmml" xref="S3.SS1.p3.16.m16.3.3.1"><times id="S3.SS1.p3.16.m16.3.3.1.2.cmml" xref="S3.SS1.p3.16.m16.3.3.1.2"></times><ci id="S3.SS1.p3.16.m16.3.3.1.3.cmml" xref="S3.SS1.p3.16.m16.3.3.1.3">𝒩</ci><interval closure="open" id="S3.SS1.p3.16.m16.3.3.1.1.2.cmml" xref="S3.SS1.p3.16.m16.3.3.1.1.1"><cn type="integer" id="S3.SS1.p3.16.m16.2.2.cmml" xref="S3.SS1.p3.16.m16.2.2">0</cn><apply id="S3.SS1.p3.16.m16.3.3.1.1.1.1.cmml" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1"><times id="S3.SS1.p3.16.m16.3.3.1.1.1.1.1.cmml" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.1"></times><apply id="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.cmml" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.1.cmml" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.2">subscript</csymbol><ci id="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.2.cmml" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.2">Σ</ci><ci id="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.3.cmml" xref="S3.SS1.p3.16.m16.3.3.1.1.1.1.2.3">𝑛</ci></apply><ci id="S3.SS1.p3.16.m16.1.1.cmml" xref="S3.SS1.p3.16.m16.1.1">𝜎</ci></apply></interval></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.16.m16.3c">\epsilon_{\sigma}\sim\mathcal{N}(0,\Sigma_{n}(\sigma))</annotation></semantics></math> are the values sampled from normal distributions. Then, the mini-batch applied with new styles in <math id="S3.SS1.p3.17.m17.1" class="ltx_Math" alttext="\Phi_{n^{\prime}}" display="inline"><semantics id="S3.SS1.p3.17.m17.1a"><msub id="S3.SS1.p3.17.m17.1.1" xref="S3.SS1.p3.17.m17.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.p3.17.m17.1.1.2" xref="S3.SS1.p3.17.m17.1.1.2.cmml">Φ</mi><msup id="S3.SS1.p3.17.m17.1.1.3" xref="S3.SS1.p3.17.m17.1.1.3.cmml"><mi id="S3.SS1.p3.17.m17.1.1.3.2" xref="S3.SS1.p3.17.m17.1.1.3.2.cmml">n</mi><mo id="S3.SS1.p3.17.m17.1.1.3.3" xref="S3.SS1.p3.17.m17.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.17.m17.1b"><apply id="S3.SS1.p3.17.m17.1.1.cmml" xref="S3.SS1.p3.17.m17.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.17.m17.1.1.1.cmml" xref="S3.SS1.p3.17.m17.1.1">subscript</csymbol><ci id="S3.SS1.p3.17.m17.1.1.2.cmml" xref="S3.SS1.p3.17.m17.1.1.2">Φ</ci><apply id="S3.SS1.p3.17.m17.1.1.3.cmml" xref="S3.SS1.p3.17.m17.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p3.17.m17.1.1.3.1.cmml" xref="S3.SS1.p3.17.m17.1.1.3">superscript</csymbol><ci id="S3.SS1.p3.17.m17.1.1.3.2.cmml" xref="S3.SS1.p3.17.m17.1.1.3.2">𝑛</ci><ci id="S3.SS1.p3.17.m17.1.1.3.3.cmml" xref="S3.SS1.p3.17.m17.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.17.m17.1c">\Phi_{n^{\prime}}</annotation></semantics></math> is forwarded to the next layer. The inner box in Fig. <a href="#S3.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a> shows how style shifting is performed in client <math id="S3.SS1.p3.18.m18.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p3.18.m18.1a"><mi id="S3.SS1.p3.18.m18.1.1" xref="S3.SS1.p3.18.m18.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.18.m18.1b"><ci id="S3.SS1.p3.18.m18.1.1.cmml" xref="S3.SS1.p3.18.m18.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.18.m18.1c">n</annotation></semantics></math> based on the new style information <math id="S3.SS1.p3.19.m19.1" class="ltx_Math" alttext="\Phi_{n^{\prime}}" display="inline"><semantics id="S3.SS1.p3.19.m19.1a"><msub id="S3.SS1.p3.19.m19.1.1" xref="S3.SS1.p3.19.m19.1.1.cmml"><mi mathvariant="normal" id="S3.SS1.p3.19.m19.1.1.2" xref="S3.SS1.p3.19.m19.1.1.2.cmml">Φ</mi><msup id="S3.SS1.p3.19.m19.1.1.3" xref="S3.SS1.p3.19.m19.1.1.3.cmml"><mi id="S3.SS1.p3.19.m19.1.1.3.2" xref="S3.SS1.p3.19.m19.1.1.3.2.cmml">n</mi><mo id="S3.SS1.p3.19.m19.1.1.3.3" xref="S3.SS1.p3.19.m19.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="S3.SS1.p3.19.m19.1b"><apply id="S3.SS1.p3.19.m19.1.1.cmml" xref="S3.SS1.p3.19.m19.1.1"><csymbol cd="ambiguous" id="S3.SS1.p3.19.m19.1.1.1.cmml" xref="S3.SS1.p3.19.m19.1.1">subscript</csymbol><ci id="S3.SS1.p3.19.m19.1.1.2.cmml" xref="S3.SS1.p3.19.m19.1.1.2">Φ</ci><apply id="S3.SS1.p3.19.m19.1.1.3.cmml" xref="S3.SS1.p3.19.m19.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p3.19.m19.1.1.3.1.cmml" xref="S3.SS1.p3.19.m19.1.1.3">superscript</csymbol><ci id="S3.SS1.p3.19.m19.1.1.3.2.cmml" xref="S3.SS1.p3.19.m19.1.1.3.2">𝑛</ci><ci id="S3.SS1.p3.19.m19.1.1.3.3.cmml" xref="S3.SS1.p3.19.m19.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p3.19.m19.1c">\Phi_{n^{\prime}}</annotation></semantics></math>.</p>
</div>
<div id="S3.SS1.p4" class="ltx_para">
<p id="S3.SS1.p4.1" class="ltx_p">Overall, based on the shared style statistics in Step 1, our style shifting in Step 2 balances between the original source domain and the new source domain via <math id="S3.SS1.p4.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="S3.SS1.p4.1.m1.1a"><mi id="S3.SS1.p4.1.m1.1.1" xref="S3.SS1.p4.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p4.1.m1.1b"><ci id="S3.SS1.p4.1.m1.1.1.cmml" xref="S3.SS1.p4.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p4.1.m1.1c">k</annotation></semantics></math>-means++ for better generalization, which cannot be achieved by previous methods in Fig. <a href="#S3.F2.sf1" title="Figure 2(a) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a> that rely on interpolation or style-shift near the original style. In the following, we describe our style exploration that can further resolve the style-limitation problem based on feature-level oversampling and extrapolation.</p>
</div>
<div id="S3.SS1.p5" class="ltx_para">
<p id="S3.SS1.p5.14" class="ltx_p"><span id="S3.SS1.p5.14.1" class="ltx_text ltx_font_bold">Step 3: Feature-level oversampling.</span>
Let <math id="S3.SS1.p5.1.m1.1" class="ltx_Math" alttext="s^{n}\in\mathbb{R}^{B\times C\times H\times W}" display="inline"><semantics id="S3.SS1.p5.1.m1.1a"><mrow id="S3.SS1.p5.1.m1.1.1" xref="S3.SS1.p5.1.m1.1.1.cmml"><msup id="S3.SS1.p5.1.m1.1.1.2" xref="S3.SS1.p5.1.m1.1.1.2.cmml"><mi id="S3.SS1.p5.1.m1.1.1.2.2" xref="S3.SS1.p5.1.m1.1.1.2.2.cmml">s</mi><mi id="S3.SS1.p5.1.m1.1.1.2.3" xref="S3.SS1.p5.1.m1.1.1.2.3.cmml">n</mi></msup><mo id="S3.SS1.p5.1.m1.1.1.1" xref="S3.SS1.p5.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS1.p5.1.m1.1.1.3" xref="S3.SS1.p5.1.m1.1.1.3.cmml"><mi id="S3.SS1.p5.1.m1.1.1.3.2" xref="S3.SS1.p5.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS1.p5.1.m1.1.1.3.3" xref="S3.SS1.p5.1.m1.1.1.3.3.cmml"><mi id="S3.SS1.p5.1.m1.1.1.3.3.2" xref="S3.SS1.p5.1.m1.1.1.3.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p5.1.m1.1.1.3.3.1" xref="S3.SS1.p5.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p5.1.m1.1.1.3.3.3" xref="S3.SS1.p5.1.m1.1.1.3.3.3.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p5.1.m1.1.1.3.3.1a" xref="S3.SS1.p5.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p5.1.m1.1.1.3.3.4" xref="S3.SS1.p5.1.m1.1.1.3.3.4.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p5.1.m1.1.1.3.3.1b" xref="S3.SS1.p5.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS1.p5.1.m1.1.1.3.3.5" xref="S3.SS1.p5.1.m1.1.1.3.3.5.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.1.m1.1b"><apply id="S3.SS1.p5.1.m1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1"><in id="S3.SS1.p5.1.m1.1.1.1.cmml" xref="S3.SS1.p5.1.m1.1.1.1"></in><apply id="S3.SS1.p5.1.m1.1.1.2.cmml" xref="S3.SS1.p5.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS1.p5.1.m1.1.1.2.1.cmml" xref="S3.SS1.p5.1.m1.1.1.2">superscript</csymbol><ci id="S3.SS1.p5.1.m1.1.1.2.2.cmml" xref="S3.SS1.p5.1.m1.1.1.2.2">𝑠</ci><ci id="S3.SS1.p5.1.m1.1.1.2.3.cmml" xref="S3.SS1.p5.1.m1.1.1.2.3">𝑛</ci></apply><apply id="S3.SS1.p5.1.m1.1.1.3.cmml" xref="S3.SS1.p5.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p5.1.m1.1.1.3.1.cmml" xref="S3.SS1.p5.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS1.p5.1.m1.1.1.3.2.cmml" xref="S3.SS1.p5.1.m1.1.1.3.2">ℝ</ci><apply id="S3.SS1.p5.1.m1.1.1.3.3.cmml" xref="S3.SS1.p5.1.m1.1.1.3.3"><times id="S3.SS1.p5.1.m1.1.1.3.3.1.cmml" xref="S3.SS1.p5.1.m1.1.1.3.3.1"></times><ci id="S3.SS1.p5.1.m1.1.1.3.3.2.cmml" xref="S3.SS1.p5.1.m1.1.1.3.3.2">𝐵</ci><ci id="S3.SS1.p5.1.m1.1.1.3.3.3.cmml" xref="S3.SS1.p5.1.m1.1.1.3.3.3">𝐶</ci><ci id="S3.SS1.p5.1.m1.1.1.3.3.4.cmml" xref="S3.SS1.p5.1.m1.1.1.3.3.4">𝐻</ci><ci id="S3.SS1.p5.1.m1.1.1.3.3.5.cmml" xref="S3.SS1.p5.1.m1.1.1.3.3.5">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.1.m1.1c">s^{n}\in\mathbb{R}^{B\times C\times H\times W}</annotation></semantics></math> be a mini-batch of features in client <math id="S3.SS1.p5.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS1.p5.2.m2.1a"><mi id="S3.SS1.p5.2.m2.1.1" xref="S3.SS1.p5.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.2.m2.1b"><ci id="S3.SS1.p5.2.m2.1.1.cmml" xref="S3.SS1.p5.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.2.m2.1c">n</annotation></semantics></math> at a specific layer, obtained after Steps 1 and 2 above. Here, we oversample the features by the mini-batch size <math id="S3.SS1.p5.3.m3.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS1.p5.3.m3.1a"><mi id="S3.SS1.p5.3.m3.1.1" xref="S3.SS1.p5.3.m3.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.3.m3.1b"><ci id="S3.SS1.p5.3.m3.1.1.cmml" xref="S3.SS1.p5.3.m3.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.3.m3.1c">B</annotation></semantics></math> in a class-balanced manner; the samples belonging to minority classes are compensated as balanced as possible up to size <math id="S3.SS1.p5.4.m4.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS1.p5.4.m4.1a"><mi id="S3.SS1.p5.4.m4.1.1" xref="S3.SS1.p5.4.m4.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.4.m4.1b"><ci id="S3.SS1.p5.4.m4.1.1.cmml" xref="S3.SS1.p5.4.m4.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.4.m4.1c">B</annotation></semantics></math>. For example, suppose that the number of samples for classes
<math id="S3.SS1.p5.5.m5.1" class="ltx_Math" alttext="a" display="inline"><semantics id="S3.SS1.p5.5.m5.1a"><mi id="S3.SS1.p5.5.m5.1.1" xref="S3.SS1.p5.5.m5.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.5.m5.1b"><ci id="S3.SS1.p5.5.m5.1.1.cmml" xref="S3.SS1.p5.5.m5.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.5.m5.1c">a</annotation></semantics></math>, <math id="S3.SS1.p5.6.m6.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p5.6.m6.1a"><mi id="S3.SS1.p5.6.m6.1.1" xref="S3.SS1.p5.6.m6.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.6.m6.1b"><ci id="S3.SS1.p5.6.m6.1.1.cmml" xref="S3.SS1.p5.6.m6.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.6.m6.1c">b</annotation></semantics></math>, <math id="S3.SS1.p5.7.m7.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS1.p5.7.m7.1a"><mi id="S3.SS1.p5.7.m7.1.1" xref="S3.SS1.p5.7.m7.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.7.m7.1b"><ci id="S3.SS1.p5.7.m7.1.1.cmml" xref="S3.SS1.p5.7.m7.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.7.m7.1c">c</annotation></semantics></math> are 3, 2, 1, respectively in the mini-batch. Using oversampling size of <math id="S3.SS1.p5.8.m8.1" class="ltx_Math" alttext="6" display="inline"><semantics id="S3.SS1.p5.8.m8.1a"><mn id="S3.SS1.p5.8.m8.1.1" xref="S3.SS1.p5.8.m8.1.1.cmml">6</mn><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.8.m8.1b"><cn type="integer" id="S3.SS1.p5.8.m8.1.1.cmml" xref="S3.SS1.p5.8.m8.1.1">6</cn></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.8.m8.1c">6</annotation></semantics></math>, we oversample by 1, 2, 3 data points for classes <math id="S3.SS1.p5.9.m9.1" class="ltx_Math" alttext="a" display="inline"><semantics id="S3.SS1.p5.9.m9.1a"><mi id="S3.SS1.p5.9.m9.1.1" xref="S3.SS1.p5.9.m9.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.9.m9.1b"><ci id="S3.SS1.p5.9.m9.1.1.cmml" xref="S3.SS1.p5.9.m9.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.9.m9.1c">a</annotation></semantics></math>, <math id="S3.SS1.p5.10.m10.1" class="ltx_Math" alttext="b" display="inline"><semantics id="S3.SS1.p5.10.m10.1a"><mi id="S3.SS1.p5.10.m10.1.1" xref="S3.SS1.p5.10.m10.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.10.m10.1b"><ci id="S3.SS1.p5.10.m10.1.1.cmml" xref="S3.SS1.p5.10.m10.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.10.m10.1c">b</annotation></semantics></math>, <math id="S3.SS1.p5.11.m11.1" class="ltx_Math" alttext="c" display="inline"><semantics id="S3.SS1.p5.11.m11.1a"><mi id="S3.SS1.p5.11.m11.1.1" xref="S3.SS1.p5.11.m11.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.11.m11.1b"><ci id="S3.SS1.p5.11.m11.1.1.cmml" xref="S3.SS1.p5.11.m11.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.11.m11.1c">c</annotation></semantics></math>, respectively, to balance the mini-batch in terms of classes. Based on this, we obtain a new oversampled mini-batch <math id="S3.SS1.p5.12.m12.1" class="ltx_Math" alttext="\tilde{s}^{n}" display="inline"><semantics id="S3.SS1.p5.12.m12.1a"><msup id="S3.SS1.p5.12.m12.1.1" xref="S3.SS1.p5.12.m12.1.1.cmml"><mover accent="true" id="S3.SS1.p5.12.m12.1.1.2" xref="S3.SS1.p5.12.m12.1.1.2.cmml"><mi id="S3.SS1.p5.12.m12.1.1.2.2" xref="S3.SS1.p5.12.m12.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p5.12.m12.1.1.2.1" xref="S3.SS1.p5.12.m12.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p5.12.m12.1.1.3" xref="S3.SS1.p5.12.m12.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.12.m12.1b"><apply id="S3.SS1.p5.12.m12.1.1.cmml" xref="S3.SS1.p5.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS1.p5.12.m12.1.1.1.cmml" xref="S3.SS1.p5.12.m12.1.1">superscript</csymbol><apply id="S3.SS1.p5.12.m12.1.1.2.cmml" xref="S3.SS1.p5.12.m12.1.1.2"><ci id="S3.SS1.p5.12.m12.1.1.2.1.cmml" xref="S3.SS1.p5.12.m12.1.1.2.1">~</ci><ci id="S3.SS1.p5.12.m12.1.1.2.2.cmml" xref="S3.SS1.p5.12.m12.1.1.2.2">𝑠</ci></apply><ci id="S3.SS1.p5.12.m12.1.1.3.cmml" xref="S3.SS1.p5.12.m12.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.12.m12.1c">\tilde{s}^{n}</annotation></semantics></math> with size <math id="S3.SS1.p5.13.m13.1" class="ltx_Math" alttext="B" display="inline"><semantics id="S3.SS1.p5.13.m13.1a"><mi id="S3.SS1.p5.13.m13.1.1" xref="S3.SS1.p5.13.m13.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.13.m13.1b"><ci id="S3.SS1.p5.13.m13.1.1.cmml" xref="S3.SS1.p5.13.m13.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.13.m13.1c">B</annotation></semantics></math>, and concatenate it with the original mini-batch as follows: <math id="S3.SS1.p5.14.m14.2" class="ltx_Math" alttext="\hat{s}^{n}=[s^{n},\tilde{s}^{n}]" display="inline"><semantics id="S3.SS1.p5.14.m14.2a"><mrow id="S3.SS1.p5.14.m14.2.2" xref="S3.SS1.p5.14.m14.2.2.cmml"><msup id="S3.SS1.p5.14.m14.2.2.4" xref="S3.SS1.p5.14.m14.2.2.4.cmml"><mover accent="true" id="S3.SS1.p5.14.m14.2.2.4.2" xref="S3.SS1.p5.14.m14.2.2.4.2.cmml"><mi id="S3.SS1.p5.14.m14.2.2.4.2.2" xref="S3.SS1.p5.14.m14.2.2.4.2.2.cmml">s</mi><mo id="S3.SS1.p5.14.m14.2.2.4.2.1" xref="S3.SS1.p5.14.m14.2.2.4.2.1.cmml">^</mo></mover><mi id="S3.SS1.p5.14.m14.2.2.4.3" xref="S3.SS1.p5.14.m14.2.2.4.3.cmml">n</mi></msup><mo id="S3.SS1.p5.14.m14.2.2.3" xref="S3.SS1.p5.14.m14.2.2.3.cmml">=</mo><mrow id="S3.SS1.p5.14.m14.2.2.2.2" xref="S3.SS1.p5.14.m14.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p5.14.m14.2.2.2.2.3" xref="S3.SS1.p5.14.m14.2.2.2.3.cmml">[</mo><msup id="S3.SS1.p5.14.m14.1.1.1.1.1" xref="S3.SS1.p5.14.m14.1.1.1.1.1.cmml"><mi id="S3.SS1.p5.14.m14.1.1.1.1.1.2" xref="S3.SS1.p5.14.m14.1.1.1.1.1.2.cmml">s</mi><mi id="S3.SS1.p5.14.m14.1.1.1.1.1.3" xref="S3.SS1.p5.14.m14.1.1.1.1.1.3.cmml">n</mi></msup><mo id="S3.SS1.p5.14.m14.2.2.2.2.4" xref="S3.SS1.p5.14.m14.2.2.2.3.cmml">,</mo><msup id="S3.SS1.p5.14.m14.2.2.2.2.2" xref="S3.SS1.p5.14.m14.2.2.2.2.2.cmml"><mover accent="true" id="S3.SS1.p5.14.m14.2.2.2.2.2.2" xref="S3.SS1.p5.14.m14.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p5.14.m14.2.2.2.2.2.2.2" xref="S3.SS1.p5.14.m14.2.2.2.2.2.2.2.cmml">s</mi><mo id="S3.SS1.p5.14.m14.2.2.2.2.2.2.1" xref="S3.SS1.p5.14.m14.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.SS1.p5.14.m14.2.2.2.2.2.3" xref="S3.SS1.p5.14.m14.2.2.2.2.2.3.cmml">n</mi></msup><mo stretchy="false" id="S3.SS1.p5.14.m14.2.2.2.2.5" xref="S3.SS1.p5.14.m14.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p5.14.m14.2b"><apply id="S3.SS1.p5.14.m14.2.2.cmml" xref="S3.SS1.p5.14.m14.2.2"><eq id="S3.SS1.p5.14.m14.2.2.3.cmml" xref="S3.SS1.p5.14.m14.2.2.3"></eq><apply id="S3.SS1.p5.14.m14.2.2.4.cmml" xref="S3.SS1.p5.14.m14.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p5.14.m14.2.2.4.1.cmml" xref="S3.SS1.p5.14.m14.2.2.4">superscript</csymbol><apply id="S3.SS1.p5.14.m14.2.2.4.2.cmml" xref="S3.SS1.p5.14.m14.2.2.4.2"><ci id="S3.SS1.p5.14.m14.2.2.4.2.1.cmml" xref="S3.SS1.p5.14.m14.2.2.4.2.1">^</ci><ci id="S3.SS1.p5.14.m14.2.2.4.2.2.cmml" xref="S3.SS1.p5.14.m14.2.2.4.2.2">𝑠</ci></apply><ci id="S3.SS1.p5.14.m14.2.2.4.3.cmml" xref="S3.SS1.p5.14.m14.2.2.4.3">𝑛</ci></apply><interval closure="closed" id="S3.SS1.p5.14.m14.2.2.2.3.cmml" xref="S3.SS1.p5.14.m14.2.2.2.2"><apply id="S3.SS1.p5.14.m14.1.1.1.1.1.cmml" xref="S3.SS1.p5.14.m14.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p5.14.m14.1.1.1.1.1.1.cmml" xref="S3.SS1.p5.14.m14.1.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p5.14.m14.1.1.1.1.1.2.cmml" xref="S3.SS1.p5.14.m14.1.1.1.1.1.2">𝑠</ci><ci id="S3.SS1.p5.14.m14.1.1.1.1.1.3.cmml" xref="S3.SS1.p5.14.m14.1.1.1.1.1.3">𝑛</ci></apply><apply id="S3.SS1.p5.14.m14.2.2.2.2.2.cmml" xref="S3.SS1.p5.14.m14.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p5.14.m14.2.2.2.2.2.1.cmml" xref="S3.SS1.p5.14.m14.2.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p5.14.m14.2.2.2.2.2.2.cmml" xref="S3.SS1.p5.14.m14.2.2.2.2.2.2"><ci id="S3.SS1.p5.14.m14.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p5.14.m14.2.2.2.2.2.2.1">~</ci><ci id="S3.SS1.p5.14.m14.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p5.14.m14.2.2.2.2.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p5.14.m14.2.2.2.2.2.3.cmml" xref="S3.SS1.p5.14.m14.2.2.2.2.2.3">𝑛</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p5.14.m14.2c">\hat{s}^{n}=[s^{n},\tilde{s}^{n}]</annotation></semantics></math>. This not only mitigates the class-imbalance issue in each client but also provides a good platform for better style exploration; the oversampled features are utilized to explore a wider style-space beyond the current source domains, as we will describe in Step 4. The oversampling size can be adjusted depending on the clients’ computation/memory constraints.</p>
</div>
<div id="S3.SS1.p6" class="ltx_para">
<p id="S3.SS1.p6.8" class="ltx_p"><span id="S3.SS1.p6.8.1" class="ltx_text ltx_font_bold">Step 4: Style exploration.</span> In order to further expose the model to a wider variety of styles, we transfer the styles of tensors in <math id="S3.SS1.p6.1.m1.1" class="ltx_Math" alttext="\tilde{s}^{n}" display="inline"><semantics id="S3.SS1.p6.1.m1.1a"><msup id="S3.SS1.p6.1.m1.1.1" xref="S3.SS1.p6.1.m1.1.1.cmml"><mover accent="true" id="S3.SS1.p6.1.m1.1.1.2" xref="S3.SS1.p6.1.m1.1.1.2.cmml"><mi id="S3.SS1.p6.1.m1.1.1.2.2" xref="S3.SS1.p6.1.m1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p6.1.m1.1.1.2.1" xref="S3.SS1.p6.1.m1.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p6.1.m1.1.1.3" xref="S3.SS1.p6.1.m1.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.1.m1.1b"><apply id="S3.SS1.p6.1.m1.1.1.cmml" xref="S3.SS1.p6.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.1.m1.1.1.1.cmml" xref="S3.SS1.p6.1.m1.1.1">superscript</csymbol><apply id="S3.SS1.p6.1.m1.1.1.2.cmml" xref="S3.SS1.p6.1.m1.1.1.2"><ci id="S3.SS1.p6.1.m1.1.1.2.1.cmml" xref="S3.SS1.p6.1.m1.1.1.2.1">~</ci><ci id="S3.SS1.p6.1.m1.1.1.2.2.cmml" xref="S3.SS1.p6.1.m1.1.1.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.1.m1.1.1.3.cmml" xref="S3.SS1.p6.1.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.1.m1.1c">\tilde{s}^{n}</annotation></semantics></math> (i.e., the set of oversampled features) to novel styles beyond the style of each client. Let <math id="S3.SS1.p6.2.m2.1" class="ltx_Math" alttext="\tilde{s}_{i}^{n}" display="inline"><semantics id="S3.SS1.p6.2.m2.1a"><msubsup id="S3.SS1.p6.2.m2.1.1" xref="S3.SS1.p6.2.m2.1.1.cmml"><mover accent="true" id="S3.SS1.p6.2.m2.1.1.2.2" xref="S3.SS1.p6.2.m2.1.1.2.2.cmml"><mi id="S3.SS1.p6.2.m2.1.1.2.2.2" xref="S3.SS1.p6.2.m2.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p6.2.m2.1.1.2.2.1" xref="S3.SS1.p6.2.m2.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.SS1.p6.2.m2.1.1.2.3" xref="S3.SS1.p6.2.m2.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p6.2.m2.1.1.3" xref="S3.SS1.p6.2.m2.1.1.3.cmml">n</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.2.m2.1b"><apply id="S3.SS1.p6.2.m2.1.1.cmml" xref="S3.SS1.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.2.m2.1.1.1.cmml" xref="S3.SS1.p6.2.m2.1.1">superscript</csymbol><apply id="S3.SS1.p6.2.m2.1.1.2.cmml" xref="S3.SS1.p6.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.2.m2.1.1.2.1.cmml" xref="S3.SS1.p6.2.m2.1.1">subscript</csymbol><apply id="S3.SS1.p6.2.m2.1.1.2.2.cmml" xref="S3.SS1.p6.2.m2.1.1.2.2"><ci id="S3.SS1.p6.2.m2.1.1.2.2.1.cmml" xref="S3.SS1.p6.2.m2.1.1.2.2.1">~</ci><ci id="S3.SS1.p6.2.m2.1.1.2.2.2.cmml" xref="S3.SS1.p6.2.m2.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.2.m2.1.1.2.3.cmml" xref="S3.SS1.p6.2.m2.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p6.2.m2.1.1.3.cmml" xref="S3.SS1.p6.2.m2.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.2.m2.1c">\tilde{s}_{i}^{n}</annotation></semantics></math> be the feature of <math id="S3.SS1.p6.3.m3.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS1.p6.3.m3.1a"><mi id="S3.SS1.p6.3.m3.1.1" xref="S3.SS1.p6.3.m3.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.3.m3.1b"><ci id="S3.SS1.p6.3.m3.1.1.cmml" xref="S3.SS1.p6.3.m3.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.3.m3.1c">i</annotation></semantics></math>-th sample in the oversampled mini-batch <math id="S3.SS1.p6.4.m4.1" class="ltx_Math" alttext="\tilde{s}^{n}" display="inline"><semantics id="S3.SS1.p6.4.m4.1a"><msup id="S3.SS1.p6.4.m4.1.1" xref="S3.SS1.p6.4.m4.1.1.cmml"><mover accent="true" id="S3.SS1.p6.4.m4.1.1.2" xref="S3.SS1.p6.4.m4.1.1.2.cmml"><mi id="S3.SS1.p6.4.m4.1.1.2.2" xref="S3.SS1.p6.4.m4.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p6.4.m4.1.1.2.1" xref="S3.SS1.p6.4.m4.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p6.4.m4.1.1.3" xref="S3.SS1.p6.4.m4.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.4.m4.1b"><apply id="S3.SS1.p6.4.m4.1.1.cmml" xref="S3.SS1.p6.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.4.m4.1.1.1.cmml" xref="S3.SS1.p6.4.m4.1.1">superscript</csymbol><apply id="S3.SS1.p6.4.m4.1.1.2.cmml" xref="S3.SS1.p6.4.m4.1.1.2"><ci id="S3.SS1.p6.4.m4.1.1.2.1.cmml" xref="S3.SS1.p6.4.m4.1.1.2.1">~</ci><ci id="S3.SS1.p6.4.m4.1.1.2.2.cmml" xref="S3.SS1.p6.4.m4.1.1.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.4.m4.1.1.3.cmml" xref="S3.SS1.p6.4.m4.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.4.m4.1c">\tilde{s}^{n}</annotation></semantics></math>. We obtain the new styles by extrapolating the original styles in <math id="S3.SS1.p6.5.m5.1" class="ltx_Math" alttext="\tilde{s}^{n}" display="inline"><semantics id="S3.SS1.p6.5.m5.1a"><msup id="S3.SS1.p6.5.m5.1.1" xref="S3.SS1.p6.5.m5.1.1.cmml"><mover accent="true" id="S3.SS1.p6.5.m5.1.1.2" xref="S3.SS1.p6.5.m5.1.1.2.cmml"><mi id="S3.SS1.p6.5.m5.1.1.2.2" xref="S3.SS1.p6.5.m5.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p6.5.m5.1.1.2.1" xref="S3.SS1.p6.5.m5.1.1.2.1.cmml">~</mo></mover><mi id="S3.SS1.p6.5.m5.1.1.3" xref="S3.SS1.p6.5.m5.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.5.m5.1b"><apply id="S3.SS1.p6.5.m5.1.1.cmml" xref="S3.SS1.p6.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.5.m5.1.1.1.cmml" xref="S3.SS1.p6.5.m5.1.1">superscript</csymbol><apply id="S3.SS1.p6.5.m5.1.1.2.cmml" xref="S3.SS1.p6.5.m5.1.1.2"><ci id="S3.SS1.p6.5.m5.1.1.2.1.cmml" xref="S3.SS1.p6.5.m5.1.1.2.1">~</ci><ci id="S3.SS1.p6.5.m5.1.1.2.2.cmml" xref="S3.SS1.p6.5.m5.1.1.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.5.m5.1.1.3.cmml" xref="S3.SS1.p6.5.m5.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.5.m5.1c">\tilde{s}^{n}</annotation></semantics></math> around the average of channel-wise mean <math id="S3.SS1.p6.6.m6.1" class="ltx_Math" alttext="\mu_{n}(\hat{s}^{n})" display="inline"><semantics id="S3.SS1.p6.6.m6.1a"><mrow id="S3.SS1.p6.6.m6.1.1" xref="S3.SS1.p6.6.m6.1.1.cmml"><msub id="S3.SS1.p6.6.m6.1.1.3" xref="S3.SS1.p6.6.m6.1.1.3.cmml"><mi id="S3.SS1.p6.6.m6.1.1.3.2" xref="S3.SS1.p6.6.m6.1.1.3.2.cmml">μ</mi><mi id="S3.SS1.p6.6.m6.1.1.3.3" xref="S3.SS1.p6.6.m6.1.1.3.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p6.6.m6.1.1.2" xref="S3.SS1.p6.6.m6.1.1.2.cmml">​</mo><mrow id="S3.SS1.p6.6.m6.1.1.1.1" xref="S3.SS1.p6.6.m6.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p6.6.m6.1.1.1.1.2" xref="S3.SS1.p6.6.m6.1.1.1.1.1.cmml">(</mo><msup id="S3.SS1.p6.6.m6.1.1.1.1.1" xref="S3.SS1.p6.6.m6.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p6.6.m6.1.1.1.1.1.2" xref="S3.SS1.p6.6.m6.1.1.1.1.1.2.cmml"><mi id="S3.SS1.p6.6.m6.1.1.1.1.1.2.2" xref="S3.SS1.p6.6.m6.1.1.1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p6.6.m6.1.1.1.1.1.2.1" xref="S3.SS1.p6.6.m6.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS1.p6.6.m6.1.1.1.1.1.3" xref="S3.SS1.p6.6.m6.1.1.1.1.1.3.cmml">n</mi></msup><mo stretchy="false" id="S3.SS1.p6.6.m6.1.1.1.1.3" xref="S3.SS1.p6.6.m6.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.6.m6.1b"><apply id="S3.SS1.p6.6.m6.1.1.cmml" xref="S3.SS1.p6.6.m6.1.1"><times id="S3.SS1.p6.6.m6.1.1.2.cmml" xref="S3.SS1.p6.6.m6.1.1.2"></times><apply id="S3.SS1.p6.6.m6.1.1.3.cmml" xref="S3.SS1.p6.6.m6.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p6.6.m6.1.1.3.1.cmml" xref="S3.SS1.p6.6.m6.1.1.3">subscript</csymbol><ci id="S3.SS1.p6.6.m6.1.1.3.2.cmml" xref="S3.SS1.p6.6.m6.1.1.3.2">𝜇</ci><ci id="S3.SS1.p6.6.m6.1.1.3.3.cmml" xref="S3.SS1.p6.6.m6.1.1.3.3">𝑛</ci></apply><apply id="S3.SS1.p6.6.m6.1.1.1.1.1.cmml" xref="S3.SS1.p6.6.m6.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.6.m6.1.1.1.1.1.1.cmml" xref="S3.SS1.p6.6.m6.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p6.6.m6.1.1.1.1.1.2.cmml" xref="S3.SS1.p6.6.m6.1.1.1.1.1.2"><ci id="S3.SS1.p6.6.m6.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p6.6.m6.1.1.1.1.1.2.1">^</ci><ci id="S3.SS1.p6.6.m6.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p6.6.m6.1.1.1.1.1.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.6.m6.1.1.1.1.1.3.cmml" xref="S3.SS1.p6.6.m6.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.6.m6.1c">\mu_{n}(\hat{s}^{n})</annotation></semantics></math> and the average of standard deviations <math id="S3.SS1.p6.7.m7.1" class="ltx_Math" alttext="\sigma_{n}(\hat{s}^{n})" display="inline"><semantics id="S3.SS1.p6.7.m7.1a"><mrow id="S3.SS1.p6.7.m7.1.1" xref="S3.SS1.p6.7.m7.1.1.cmml"><msub id="S3.SS1.p6.7.m7.1.1.3" xref="S3.SS1.p6.7.m7.1.1.3.cmml"><mi id="S3.SS1.p6.7.m7.1.1.3.2" xref="S3.SS1.p6.7.m7.1.1.3.2.cmml">σ</mi><mi id="S3.SS1.p6.7.m7.1.1.3.3" xref="S3.SS1.p6.7.m7.1.1.3.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p6.7.m7.1.1.2" xref="S3.SS1.p6.7.m7.1.1.2.cmml">​</mo><mrow id="S3.SS1.p6.7.m7.1.1.1.1" xref="S3.SS1.p6.7.m7.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p6.7.m7.1.1.1.1.2" xref="S3.SS1.p6.7.m7.1.1.1.1.1.cmml">(</mo><msup id="S3.SS1.p6.7.m7.1.1.1.1.1" xref="S3.SS1.p6.7.m7.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p6.7.m7.1.1.1.1.1.2" xref="S3.SS1.p6.7.m7.1.1.1.1.1.2.cmml"><mi id="S3.SS1.p6.7.m7.1.1.1.1.1.2.2" xref="S3.SS1.p6.7.m7.1.1.1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p6.7.m7.1.1.1.1.1.2.1" xref="S3.SS1.p6.7.m7.1.1.1.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS1.p6.7.m7.1.1.1.1.1.3" xref="S3.SS1.p6.7.m7.1.1.1.1.1.3.cmml">n</mi></msup><mo stretchy="false" id="S3.SS1.p6.7.m7.1.1.1.1.3" xref="S3.SS1.p6.7.m7.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.7.m7.1b"><apply id="S3.SS1.p6.7.m7.1.1.cmml" xref="S3.SS1.p6.7.m7.1.1"><times id="S3.SS1.p6.7.m7.1.1.2.cmml" xref="S3.SS1.p6.7.m7.1.1.2"></times><apply id="S3.SS1.p6.7.m7.1.1.3.cmml" xref="S3.SS1.p6.7.m7.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p6.7.m7.1.1.3.1.cmml" xref="S3.SS1.p6.7.m7.1.1.3">subscript</csymbol><ci id="S3.SS1.p6.7.m7.1.1.3.2.cmml" xref="S3.SS1.p6.7.m7.1.1.3.2">𝜎</ci><ci id="S3.SS1.p6.7.m7.1.1.3.3.cmml" xref="S3.SS1.p6.7.m7.1.1.3.3">𝑛</ci></apply><apply id="S3.SS1.p6.7.m7.1.1.1.1.1.cmml" xref="S3.SS1.p6.7.m7.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.7.m7.1.1.1.1.1.1.cmml" xref="S3.SS1.p6.7.m7.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p6.7.m7.1.1.1.1.1.2.cmml" xref="S3.SS1.p6.7.m7.1.1.1.1.1.2"><ci id="S3.SS1.p6.7.m7.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p6.7.m7.1.1.1.1.1.2.1">^</ci><ci id="S3.SS1.p6.7.m7.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p6.7.m7.1.1.1.1.1.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.7.m7.1.1.1.1.1.3.cmml" xref="S3.SS1.p6.7.m7.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.7.m7.1c">\sigma_{n}(\hat{s}^{n})</annotation></semantics></math> computed on the concatenated mini-batch <math id="S3.SS1.p6.8.m8.2" class="ltx_Math" alttext="\hat{s}^{n}=[s^{n},\tilde{s}^{n}]" display="inline"><semantics id="S3.SS1.p6.8.m8.2a"><mrow id="S3.SS1.p6.8.m8.2.2" xref="S3.SS1.p6.8.m8.2.2.cmml"><msup id="S3.SS1.p6.8.m8.2.2.4" xref="S3.SS1.p6.8.m8.2.2.4.cmml"><mover accent="true" id="S3.SS1.p6.8.m8.2.2.4.2" xref="S3.SS1.p6.8.m8.2.2.4.2.cmml"><mi id="S3.SS1.p6.8.m8.2.2.4.2.2" xref="S3.SS1.p6.8.m8.2.2.4.2.2.cmml">s</mi><mo id="S3.SS1.p6.8.m8.2.2.4.2.1" xref="S3.SS1.p6.8.m8.2.2.4.2.1.cmml">^</mo></mover><mi id="S3.SS1.p6.8.m8.2.2.4.3" xref="S3.SS1.p6.8.m8.2.2.4.3.cmml">n</mi></msup><mo id="S3.SS1.p6.8.m8.2.2.3" xref="S3.SS1.p6.8.m8.2.2.3.cmml">=</mo><mrow id="S3.SS1.p6.8.m8.2.2.2.2" xref="S3.SS1.p6.8.m8.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS1.p6.8.m8.2.2.2.2.3" xref="S3.SS1.p6.8.m8.2.2.2.3.cmml">[</mo><msup id="S3.SS1.p6.8.m8.1.1.1.1.1" xref="S3.SS1.p6.8.m8.1.1.1.1.1.cmml"><mi id="S3.SS1.p6.8.m8.1.1.1.1.1.2" xref="S3.SS1.p6.8.m8.1.1.1.1.1.2.cmml">s</mi><mi id="S3.SS1.p6.8.m8.1.1.1.1.1.3" xref="S3.SS1.p6.8.m8.1.1.1.1.1.3.cmml">n</mi></msup><mo id="S3.SS1.p6.8.m8.2.2.2.2.4" xref="S3.SS1.p6.8.m8.2.2.2.3.cmml">,</mo><msup id="S3.SS1.p6.8.m8.2.2.2.2.2" xref="S3.SS1.p6.8.m8.2.2.2.2.2.cmml"><mover accent="true" id="S3.SS1.p6.8.m8.2.2.2.2.2.2" xref="S3.SS1.p6.8.m8.2.2.2.2.2.2.cmml"><mi id="S3.SS1.p6.8.m8.2.2.2.2.2.2.2" xref="S3.SS1.p6.8.m8.2.2.2.2.2.2.2.cmml">s</mi><mo id="S3.SS1.p6.8.m8.2.2.2.2.2.2.1" xref="S3.SS1.p6.8.m8.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="S3.SS1.p6.8.m8.2.2.2.2.2.3" xref="S3.SS1.p6.8.m8.2.2.2.2.2.3.cmml">n</mi></msup><mo stretchy="false" id="S3.SS1.p6.8.m8.2.2.2.2.5" xref="S3.SS1.p6.8.m8.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.8.m8.2b"><apply id="S3.SS1.p6.8.m8.2.2.cmml" xref="S3.SS1.p6.8.m8.2.2"><eq id="S3.SS1.p6.8.m8.2.2.3.cmml" xref="S3.SS1.p6.8.m8.2.2.3"></eq><apply id="S3.SS1.p6.8.m8.2.2.4.cmml" xref="S3.SS1.p6.8.m8.2.2.4"><csymbol cd="ambiguous" id="S3.SS1.p6.8.m8.2.2.4.1.cmml" xref="S3.SS1.p6.8.m8.2.2.4">superscript</csymbol><apply id="S3.SS1.p6.8.m8.2.2.4.2.cmml" xref="S3.SS1.p6.8.m8.2.2.4.2"><ci id="S3.SS1.p6.8.m8.2.2.4.2.1.cmml" xref="S3.SS1.p6.8.m8.2.2.4.2.1">^</ci><ci id="S3.SS1.p6.8.m8.2.2.4.2.2.cmml" xref="S3.SS1.p6.8.m8.2.2.4.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.8.m8.2.2.4.3.cmml" xref="S3.SS1.p6.8.m8.2.2.4.3">𝑛</ci></apply><interval closure="closed" id="S3.SS1.p6.8.m8.2.2.2.3.cmml" xref="S3.SS1.p6.8.m8.2.2.2.2"><apply id="S3.SS1.p6.8.m8.1.1.1.1.1.cmml" xref="S3.SS1.p6.8.m8.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.8.m8.1.1.1.1.1.1.cmml" xref="S3.SS1.p6.8.m8.1.1.1.1.1">superscript</csymbol><ci id="S3.SS1.p6.8.m8.1.1.1.1.1.2.cmml" xref="S3.SS1.p6.8.m8.1.1.1.1.1.2">𝑠</ci><ci id="S3.SS1.p6.8.m8.1.1.1.1.1.3.cmml" xref="S3.SS1.p6.8.m8.1.1.1.1.1.3">𝑛</ci></apply><apply id="S3.SS1.p6.8.m8.2.2.2.2.2.cmml" xref="S3.SS1.p6.8.m8.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS1.p6.8.m8.2.2.2.2.2.1.cmml" xref="S3.SS1.p6.8.m8.2.2.2.2.2">superscript</csymbol><apply id="S3.SS1.p6.8.m8.2.2.2.2.2.2.cmml" xref="S3.SS1.p6.8.m8.2.2.2.2.2.2"><ci id="S3.SS1.p6.8.m8.2.2.2.2.2.2.1.cmml" xref="S3.SS1.p6.8.m8.2.2.2.2.2.2.1">~</ci><ci id="S3.SS1.p6.8.m8.2.2.2.2.2.2.2.cmml" xref="S3.SS1.p6.8.m8.2.2.2.2.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.8.m8.2.2.2.2.2.3.cmml" xref="S3.SS1.p6.8.m8.2.2.2.2.2.3">𝑛</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.8.m8.2c">\hat{s}^{n}=[s^{n},\tilde{s}^{n}]</annotation></semantics></math> as</p>
<table id="A9.EGx2" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E4"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E4.m1.1" class="ltx_Math" alttext="\displaystyle\mu_{new}(\tilde{s}_{i}^{n})=\mu(\tilde{s}_{i}^{n})+\alpha\cdot(\mu(\tilde{s}_{i}^{n})-\mu_{n}(s^{n}))," display="inline"><semantics id="S3.E4.m1.1a"><mrow id="S3.E4.m1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.cmml"><msub id="S3.E4.m1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.1.3.2.cmml">μ</mi><mrow id="S3.E4.m1.1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.1.3.3.cmml"><mi id="S3.E4.m1.1.1.1.1.1.3.3.2" xref="S3.E4.m1.1.1.1.1.1.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.3.3.1" xref="S3.E4.m1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.1.3.3.3" xref="S3.E4.m1.1.1.1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.3.3.1a" xref="S3.E4.m1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E4.m1.1.1.1.1.1.3.3.4" xref="S3.E4.m1.1.1.1.1.1.3.3.4.cmml">w</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E4.m1.1.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E4.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.1" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E4.m1.1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.E4.m1.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.1.1.1.1.4" xref="S3.E4.m1.1.1.1.1.4.cmml">=</mo><mrow id="S3.E4.m1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.cmml"><mrow id="S3.E4.m1.1.1.1.1.2.1" xref="S3.E4.m1.1.1.1.1.2.1.cmml"><mi id="S3.E4.m1.1.1.1.1.2.1.3" xref="S3.E4.m1.1.1.1.1.2.1.3.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.2.1.2" xref="S3.E4.m1.1.1.1.1.2.1.2.cmml">​</mo><mrow id="S3.E4.m1.1.1.1.1.2.1.1.1" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.2.1.1.1.2" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.cmml">(</mo><msubsup id="S3.E4.m1.1.1.1.1.2.1.1.1.1" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.cmml"><mover accent="true" id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.1" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E4.m1.1.1.1.1.2.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.E4.m1.1.1.1.1.2.1.1.1.3" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.1.1.1.1.3.3" xref="S3.E4.m1.1.1.1.1.3.3.cmml">+</mo><mrow id="S3.E4.m1.1.1.1.1.3.2" xref="S3.E4.m1.1.1.1.1.3.2.cmml"><mi id="S3.E4.m1.1.1.1.1.3.2.3" xref="S3.E4.m1.1.1.1.1.3.2.3.cmml">α</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E4.m1.1.1.1.1.3.2.2" xref="S3.E4.m1.1.1.1.1.3.2.2.cmml">⋅</mo><mrow id="S3.E4.m1.1.1.1.1.3.2.1.1" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3.2.1.1.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.cmml">(</mo><mrow id="S3.E4.m1.1.1.1.1.3.2.1.1.1" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.cmml"><mrow id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.cmml"><mi id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.3.cmml">μ</mi><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E4.m1.1.1.1.1.3.2.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.3.cmml">−</mo><mrow id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.cmml"><msub id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.cmml"><mi id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.2.cmml">μ</mi><mi id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.2.cmml">​</mo><mrow id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml">(</mo><msup id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml"><mi id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.2" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.2.cmml">s</mi><mi id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.3.cmml">n</mi></msup><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E4.m1.1.1.1.1.3.2.1.1.3" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E4.m1.1.1.1.2" xref="S3.E4.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E4.m1.1b"><apply id="S3.E4.m1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1"><eq id="S3.E4.m1.1.1.1.1.4.cmml" xref="S3.E4.m1.1.1.1.1.4"></eq><apply id="S3.E4.m1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1"><times id="S3.E4.m1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.2"></times><apply id="S3.E4.m1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.3.2">𝜇</ci><apply id="S3.E4.m1.1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.3.3"><times id="S3.E4.m1.1.1.1.1.1.3.3.1.cmml" xref="S3.E4.m1.1.1.1.1.1.3.3.1"></times><ci id="S3.E4.m1.1.1.1.1.1.3.3.2.cmml" xref="S3.E4.m1.1.1.1.1.1.3.3.2">𝑛</ci><ci id="S3.E4.m1.1.1.1.1.1.3.3.3.cmml" xref="S3.E4.m1.1.1.1.1.1.3.3.3">𝑒</ci><ci id="S3.E4.m1.1.1.1.1.1.3.3.4.cmml" xref="S3.E4.m1.1.1.1.1.1.3.3.4">𝑤</ci></apply></apply><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.2"><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.1">~</ci><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E4.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.E4.m1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3"><plus id="S3.E4.m1.1.1.1.1.3.3.cmml" xref="S3.E4.m1.1.1.1.1.3.3"></plus><apply id="S3.E4.m1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2.1"><times id="S3.E4.m1.1.1.1.1.2.1.2.cmml" xref="S3.E4.m1.1.1.1.1.2.1.2"></times><ci id="S3.E4.m1.1.1.1.1.2.1.3.cmml" xref="S3.E4.m1.1.1.1.1.2.1.3">𝜇</ci><apply id="S3.E4.m1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1">superscript</csymbol><apply id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1">subscript</csymbol><apply id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2"><ci id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.1">~</ci><ci id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E4.m1.1.1.1.1.2.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.2.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.E4.m1.1.1.1.1.3.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2"><ci id="S3.E4.m1.1.1.1.1.3.2.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.2">⋅</ci><ci id="S3.E4.m1.1.1.1.1.3.2.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.3">𝛼</ci><apply id="S3.E4.m1.1.1.1.1.3.2.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1"><minus id="S3.E4.m1.1.1.1.1.3.2.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.3"></minus><apply id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1"><times id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.2"></times><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.3">𝜇</ci><apply id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2"><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1">~</ci><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2"><times id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.2"></times><apply id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3">subscript</csymbol><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.2">𝜇</ci><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.3.3">𝑛</ci></apply><apply id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1"><csymbol cd="ambiguous" id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.1.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1">superscript</csymbol><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.2.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.2">𝑠</ci><ci id="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.3.cmml" xref="S3.E4.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.3">𝑛</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E4.m1.1c">\displaystyle\mu_{new}(\tilde{s}_{i}^{n})=\mu(\tilde{s}_{i}^{n})+\alpha\cdot(\mu(\tilde{s}_{i}^{n})-\mu_{n}(s^{n})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(4)</span></td>
</tr></tbody>
<tbody id="S3.E5"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E5.m1.1" class="ltx_Math" alttext="\displaystyle\sigma_{new}(\tilde{s}_{i}^{n})=\sigma(\tilde{s}_{i}^{n})+\alpha\cdot(\sigma(\tilde{s}_{i}^{n})-\sigma_{n}(s^{n}))," display="inline"><semantics id="S3.E5.m1.1a"><mrow id="S3.E5.m1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.cmml"><msub id="S3.E5.m1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.1.3.2.cmml">σ</mi><mrow id="S3.E5.m1.1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.1.3.3.cmml"><mi id="S3.E5.m1.1.1.1.1.1.3.3.2" xref="S3.E5.m1.1.1.1.1.1.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.3.3.1" xref="S3.E5.m1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.3.3.3" xref="S3.E5.m1.1.1.1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.3.3.1a" xref="S3.E5.m1.1.1.1.1.1.3.3.1.cmml">​</mo><mi id="S3.E5.m1.1.1.1.1.1.3.3.4" xref="S3.E5.m1.1.1.1.1.1.3.3.4.cmml">w</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E5.m1.1.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.2" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.1" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E5.m1.1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.E5.m1.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.1.1.1.1.4" xref="S3.E5.m1.1.1.1.1.4.cmml">=</mo><mrow id="S3.E5.m1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.cmml"><mrow id="S3.E5.m1.1.1.1.1.2.1" xref="S3.E5.m1.1.1.1.1.2.1.cmml"><mi id="S3.E5.m1.1.1.1.1.2.1.3" xref="S3.E5.m1.1.1.1.1.2.1.3.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.2.1.2" xref="S3.E5.m1.1.1.1.1.2.1.2.cmml">​</mo><mrow id="S3.E5.m1.1.1.1.1.2.1.1.1" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.2.1.1.1.2" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.cmml">(</mo><msubsup id="S3.E5.m1.1.1.1.1.2.1.1.1.1" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.cmml"><mover accent="true" id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.cmml"><mi id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.2" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.1" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E5.m1.1.1.1.1.2.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.E5.m1.1.1.1.1.2.1.1.1.3" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.1.1.1.1.3.3" xref="S3.E5.m1.1.1.1.1.3.3.cmml">+</mo><mrow id="S3.E5.m1.1.1.1.1.3.2" xref="S3.E5.m1.1.1.1.1.3.2.cmml"><mi id="S3.E5.m1.1.1.1.1.3.2.3" xref="S3.E5.m1.1.1.1.1.3.2.3.cmml">α</mi><mo lspace="0.222em" rspace="0.222em" id="S3.E5.m1.1.1.1.1.3.2.2" xref="S3.E5.m1.1.1.1.1.3.2.2.cmml">⋅</mo><mrow id="S3.E5.m1.1.1.1.1.3.2.1.1" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.3.2.1.1.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.cmml">(</mo><mrow id="S3.E5.m1.1.1.1.1.3.2.1.1.1" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.cmml"><mrow id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.3.cmml">σ</mi><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.2.cmml">​</mo><mrow id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.cmml"><mi id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.E5.m1.1.1.1.1.3.2.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.3.cmml">−</mo><mrow id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.cmml"><msub id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.cmml"><mi id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.2.cmml">σ</mi><mi id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.3.cmml">n</mi></msub><mo lspace="0em" rspace="0em" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.2.cmml">​</mo><mrow id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml"><mo stretchy="false" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml">(</mo><msup id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml"><mi id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.2" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.2.cmml">s</mi><mi id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.3.cmml">n</mi></msup><mo stretchy="false" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo stretchy="false" id="S3.E5.m1.1.1.1.1.3.2.1.1.3" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><mo id="S3.E5.m1.1.1.1.2" xref="S3.E5.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E5.m1.1b"><apply id="S3.E5.m1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1"><eq id="S3.E5.m1.1.1.1.1.4.cmml" xref="S3.E5.m1.1.1.1.1.4"></eq><apply id="S3.E5.m1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.2"></times><apply id="S3.E5.m1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3.2">𝜎</ci><apply id="S3.E5.m1.1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3.3"><times id="S3.E5.m1.1.1.1.1.1.3.3.1.cmml" xref="S3.E5.m1.1.1.1.1.1.3.3.1"></times><ci id="S3.E5.m1.1.1.1.1.1.3.3.2.cmml" xref="S3.E5.m1.1.1.1.1.1.3.3.2">𝑛</ci><ci id="S3.E5.m1.1.1.1.1.1.3.3.3.cmml" xref="S3.E5.m1.1.1.1.1.1.3.3.3">𝑒</ci><ci id="S3.E5.m1.1.1.1.1.1.3.3.4.cmml" xref="S3.E5.m1.1.1.1.1.1.3.3.4">𝑤</ci></apply></apply><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2"><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.1">~</ci><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E5.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.E5.m1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3"><plus id="S3.E5.m1.1.1.1.1.3.3.cmml" xref="S3.E5.m1.1.1.1.1.3.3"></plus><apply id="S3.E5.m1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1"><times id="S3.E5.m1.1.1.1.1.2.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2.1.2"></times><ci id="S3.E5.m1.1.1.1.1.2.1.3.cmml" xref="S3.E5.m1.1.1.1.1.2.1.3">𝜎</ci><apply id="S3.E5.m1.1.1.1.1.2.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1">superscript</csymbol><apply id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2"><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.1">~</ci><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E5.m1.1.1.1.1.2.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.2.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.E5.m1.1.1.1.1.3.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2"><ci id="S3.E5.m1.1.1.1.1.3.2.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.2">⋅</ci><ci id="S3.E5.m1.1.1.1.1.3.2.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.3">𝛼</ci><apply id="S3.E5.m1.1.1.1.1.3.2.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1"><minus id="S3.E5.m1.1.1.1.1.3.2.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.3"></minus><apply id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1"><times id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.2"></times><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.3">𝜎</ci><apply id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1">superscript</csymbol><apply id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1">subscript</csymbol><apply id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2"><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.1">~</ci><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2"><times id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.2"></times><apply id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3">subscript</csymbol><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.2">𝜎</ci><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.3.3">𝑛</ci></apply><apply id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1"><csymbol cd="ambiguous" id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.1.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1">superscript</csymbol><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.2.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.2">𝑠</ci><ci id="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.3.cmml" xref="S3.E5.m1.1.1.1.1.3.2.1.1.1.2.1.1.1.3">𝑛</ci></apply></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E5.m1.1c">\displaystyle\sigma_{new}(\tilde{s}_{i}^{n})=\sigma(\tilde{s}_{i}^{n})+\alpha\cdot(\sigma(\tilde{s}_{i}^{n})-\sigma_{n}(s^{n})),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(5)</span></td>
</tr></tbody>
</table>
<p id="S3.SS1.p6.14" class="ltx_p">where <math id="S3.SS1.p6.9.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS1.p6.9.m1.1a"><mi id="S3.SS1.p6.9.m1.1.1" xref="S3.SS1.p6.9.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.9.m1.1b"><ci id="S3.SS1.p6.9.m1.1.1.cmml" xref="S3.SS1.p6.9.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.9.m1.1c">\alpha</annotation></semantics></math> is the <span id="S3.SS1.p6.14.1" class="ltx_text ltx_font_italic">exploration level</span>. We perform AdaIN to shift the style of <math id="S3.SS1.p6.10.m2.1" class="ltx_Math" alttext="\tilde{s}_{i}^{n}" display="inline"><semantics id="S3.SS1.p6.10.m2.1a"><msubsup id="S3.SS1.p6.10.m2.1.1" xref="S3.SS1.p6.10.m2.1.1.cmml"><mover accent="true" id="S3.SS1.p6.10.m2.1.1.2.2" xref="S3.SS1.p6.10.m2.1.1.2.2.cmml"><mi id="S3.SS1.p6.10.m2.1.1.2.2.2" xref="S3.SS1.p6.10.m2.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p6.10.m2.1.1.2.2.1" xref="S3.SS1.p6.10.m2.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.SS1.p6.10.m2.1.1.2.3" xref="S3.SS1.p6.10.m2.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p6.10.m2.1.1.3" xref="S3.SS1.p6.10.m2.1.1.3.cmml">n</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.10.m2.1b"><apply id="S3.SS1.p6.10.m2.1.1.cmml" xref="S3.SS1.p6.10.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.10.m2.1.1.1.cmml" xref="S3.SS1.p6.10.m2.1.1">superscript</csymbol><apply id="S3.SS1.p6.10.m2.1.1.2.cmml" xref="S3.SS1.p6.10.m2.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.10.m2.1.1.2.1.cmml" xref="S3.SS1.p6.10.m2.1.1">subscript</csymbol><apply id="S3.SS1.p6.10.m2.1.1.2.2.cmml" xref="S3.SS1.p6.10.m2.1.1.2.2"><ci id="S3.SS1.p6.10.m2.1.1.2.2.1.cmml" xref="S3.SS1.p6.10.m2.1.1.2.2.1">~</ci><ci id="S3.SS1.p6.10.m2.1.1.2.2.2.cmml" xref="S3.SS1.p6.10.m2.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.10.m2.1.1.2.3.cmml" xref="S3.SS1.p6.10.m2.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p6.10.m2.1.1.3.cmml" xref="S3.SS1.p6.10.m2.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.10.m2.1c">\tilde{s}_{i}^{n}</annotation></semantics></math> to the new style statistics <math id="S3.SS1.p6.11.m3.1" class="ltx_Math" alttext="\mu_{new}(\tilde{s}_{i}^{n})" display="inline"><semantics id="S3.SS1.p6.11.m3.1a"><mrow id="S3.SS1.p6.11.m3.1.1" xref="S3.SS1.p6.11.m3.1.1.cmml"><msub id="S3.SS1.p6.11.m3.1.1.3" xref="S3.SS1.p6.11.m3.1.1.3.cmml"><mi id="S3.SS1.p6.11.m3.1.1.3.2" xref="S3.SS1.p6.11.m3.1.1.3.2.cmml">μ</mi><mrow id="S3.SS1.p6.11.m3.1.1.3.3" xref="S3.SS1.p6.11.m3.1.1.3.3.cmml"><mi id="S3.SS1.p6.11.m3.1.1.3.3.2" xref="S3.SS1.p6.11.m3.1.1.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p6.11.m3.1.1.3.3.1" xref="S3.SS1.p6.11.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p6.11.m3.1.1.3.3.3" xref="S3.SS1.p6.11.m3.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p6.11.m3.1.1.3.3.1a" xref="S3.SS1.p6.11.m3.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p6.11.m3.1.1.3.3.4" xref="S3.SS1.p6.11.m3.1.1.3.3.4.cmml">w</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p6.11.m3.1.1.2" xref="S3.SS1.p6.11.m3.1.1.2.cmml">​</mo><mrow id="S3.SS1.p6.11.m3.1.1.1.1" xref="S3.SS1.p6.11.m3.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p6.11.m3.1.1.1.1.2" xref="S3.SS1.p6.11.m3.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p6.11.m3.1.1.1.1.1" xref="S3.SS1.p6.11.m3.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p6.11.m3.1.1.1.1.1.2.2" xref="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.cmml"><mi id="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.2" xref="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.1" xref="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.SS1.p6.11.m3.1.1.1.1.1.2.3" xref="S3.SS1.p6.11.m3.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p6.11.m3.1.1.1.1.1.3" xref="S3.SS1.p6.11.m3.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p6.11.m3.1.1.1.1.3" xref="S3.SS1.p6.11.m3.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.11.m3.1b"><apply id="S3.SS1.p6.11.m3.1.1.cmml" xref="S3.SS1.p6.11.m3.1.1"><times id="S3.SS1.p6.11.m3.1.1.2.cmml" xref="S3.SS1.p6.11.m3.1.1.2"></times><apply id="S3.SS1.p6.11.m3.1.1.3.cmml" xref="S3.SS1.p6.11.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p6.11.m3.1.1.3.1.cmml" xref="S3.SS1.p6.11.m3.1.1.3">subscript</csymbol><ci id="S3.SS1.p6.11.m3.1.1.3.2.cmml" xref="S3.SS1.p6.11.m3.1.1.3.2">𝜇</ci><apply id="S3.SS1.p6.11.m3.1.1.3.3.cmml" xref="S3.SS1.p6.11.m3.1.1.3.3"><times id="S3.SS1.p6.11.m3.1.1.3.3.1.cmml" xref="S3.SS1.p6.11.m3.1.1.3.3.1"></times><ci id="S3.SS1.p6.11.m3.1.1.3.3.2.cmml" xref="S3.SS1.p6.11.m3.1.1.3.3.2">𝑛</ci><ci id="S3.SS1.p6.11.m3.1.1.3.3.3.cmml" xref="S3.SS1.p6.11.m3.1.1.3.3.3">𝑒</ci><ci id="S3.SS1.p6.11.m3.1.1.3.3.4.cmml" xref="S3.SS1.p6.11.m3.1.1.3.3.4">𝑤</ci></apply></apply><apply id="S3.SS1.p6.11.m3.1.1.1.1.1.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.11.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p6.11.m3.1.1.1.1.1.2.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.11.m3.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1">subscript</csymbol><apply id="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1.1.2.2"><ci id="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.1">~</ci><ci id="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.11.m3.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p6.11.m3.1.1.1.1.1.3.cmml" xref="S3.SS1.p6.11.m3.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.11.m3.1c">\mu_{new}(\tilde{s}_{i}^{n})</annotation></semantics></math> and <math id="S3.SS1.p6.12.m4.1" class="ltx_Math" alttext="\sigma_{new}(\tilde{s}_{i}^{n})" display="inline"><semantics id="S3.SS1.p6.12.m4.1a"><mrow id="S3.SS1.p6.12.m4.1.1" xref="S3.SS1.p6.12.m4.1.1.cmml"><msub id="S3.SS1.p6.12.m4.1.1.3" xref="S3.SS1.p6.12.m4.1.1.3.cmml"><mi id="S3.SS1.p6.12.m4.1.1.3.2" xref="S3.SS1.p6.12.m4.1.1.3.2.cmml">σ</mi><mrow id="S3.SS1.p6.12.m4.1.1.3.3" xref="S3.SS1.p6.12.m4.1.1.3.3.cmml"><mi id="S3.SS1.p6.12.m4.1.1.3.3.2" xref="S3.SS1.p6.12.m4.1.1.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p6.12.m4.1.1.3.3.1" xref="S3.SS1.p6.12.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p6.12.m4.1.1.3.3.3" xref="S3.SS1.p6.12.m4.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p6.12.m4.1.1.3.3.1a" xref="S3.SS1.p6.12.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p6.12.m4.1.1.3.3.4" xref="S3.SS1.p6.12.m4.1.1.3.3.4.cmml">w</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p6.12.m4.1.1.2" xref="S3.SS1.p6.12.m4.1.1.2.cmml">​</mo><mrow id="S3.SS1.p6.12.m4.1.1.1.1" xref="S3.SS1.p6.12.m4.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p6.12.m4.1.1.1.1.2" xref="S3.SS1.p6.12.m4.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p6.12.m4.1.1.1.1.1" xref="S3.SS1.p6.12.m4.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p6.12.m4.1.1.1.1.1.2.2" xref="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.cmml"><mi id="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.2" xref="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.1" xref="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.1.cmml">~</mo></mover><mi id="S3.SS1.p6.12.m4.1.1.1.1.1.2.3" xref="S3.SS1.p6.12.m4.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p6.12.m4.1.1.1.1.1.3" xref="S3.SS1.p6.12.m4.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p6.12.m4.1.1.1.1.3" xref="S3.SS1.p6.12.m4.1.1.1.1.1.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.12.m4.1b"><apply id="S3.SS1.p6.12.m4.1.1.cmml" xref="S3.SS1.p6.12.m4.1.1"><times id="S3.SS1.p6.12.m4.1.1.2.cmml" xref="S3.SS1.p6.12.m4.1.1.2"></times><apply id="S3.SS1.p6.12.m4.1.1.3.cmml" xref="S3.SS1.p6.12.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p6.12.m4.1.1.3.1.cmml" xref="S3.SS1.p6.12.m4.1.1.3">subscript</csymbol><ci id="S3.SS1.p6.12.m4.1.1.3.2.cmml" xref="S3.SS1.p6.12.m4.1.1.3.2">𝜎</ci><apply id="S3.SS1.p6.12.m4.1.1.3.3.cmml" xref="S3.SS1.p6.12.m4.1.1.3.3"><times id="S3.SS1.p6.12.m4.1.1.3.3.1.cmml" xref="S3.SS1.p6.12.m4.1.1.3.3.1"></times><ci id="S3.SS1.p6.12.m4.1.1.3.3.2.cmml" xref="S3.SS1.p6.12.m4.1.1.3.3.2">𝑛</ci><ci id="S3.SS1.p6.12.m4.1.1.3.3.3.cmml" xref="S3.SS1.p6.12.m4.1.1.3.3.3">𝑒</ci><ci id="S3.SS1.p6.12.m4.1.1.3.3.4.cmml" xref="S3.SS1.p6.12.m4.1.1.3.3.4">𝑤</ci></apply></apply><apply id="S3.SS1.p6.12.m4.1.1.1.1.1.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.12.m4.1.1.1.1.1.1.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p6.12.m4.1.1.1.1.1.2.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p6.12.m4.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1">subscript</csymbol><apply id="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1.1.2.2"><ci id="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.1">~</ci><ci id="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p6.12.m4.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p6.12.m4.1.1.1.1.1.3.cmml" xref="S3.SS1.p6.12.m4.1.1.1.1.1.3">𝑛</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.12.m4.1c">\sigma_{new}(\tilde{s}_{i}^{n})</annotation></semantics></math>. If <math id="S3.SS1.p6.13.m5.1" class="ltx_Math" alttext="\alpha=0" display="inline"><semantics id="S3.SS1.p6.13.m5.1a"><mrow id="S3.SS1.p6.13.m5.1.1" xref="S3.SS1.p6.13.m5.1.1.cmml"><mi id="S3.SS1.p6.13.m5.1.1.2" xref="S3.SS1.p6.13.m5.1.1.2.cmml">α</mi><mo id="S3.SS1.p6.13.m5.1.1.1" xref="S3.SS1.p6.13.m5.1.1.1.cmml">=</mo><mn id="S3.SS1.p6.13.m5.1.1.3" xref="S3.SS1.p6.13.m5.1.1.3.cmml">0</mn></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.13.m5.1b"><apply id="S3.SS1.p6.13.m5.1.1.cmml" xref="S3.SS1.p6.13.m5.1.1"><eq id="S3.SS1.p6.13.m5.1.1.1.cmml" xref="S3.SS1.p6.13.m5.1.1.1"></eq><ci id="S3.SS1.p6.13.m5.1.1.2.cmml" xref="S3.SS1.p6.13.m5.1.1.2">𝛼</ci><cn type="integer" id="S3.SS1.p6.13.m5.1.1.3.cmml" xref="S3.SS1.p6.13.m5.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.13.m5.1c">\alpha=0</annotation></semantics></math>, the styles remain unchanged, and as <math id="S3.SS1.p6.14.m6.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS1.p6.14.m6.1a"><mi id="S3.SS1.p6.14.m6.1.1" xref="S3.SS1.p6.14.m6.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p6.14.m6.1b"><ci id="S3.SS1.p6.14.m6.1.1.cmml" xref="S3.SS1.p6.14.m6.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p6.14.m6.1c">\alpha</annotation></semantics></math> increases, the styles are shifted farther from the center. The outer box in Fig. <a href="#S3.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a> describes the concept of our style exploration.</p>
</div>
<div id="S3.SS1.p7" class="ltx_para">
<p id="S3.SS1.p7.7" class="ltx_p"><span id="S3.SS1.p7.7.1" class="ltx_text ltx_font_bold">Step 5: Style augmentation.</span> After style exploration, we can apply existing style-augmentation methods during training. In this work, we mix the style statistics of the entire samples in <math id="S3.SS1.p7.1.m1.1" class="ltx_Math" alttext="\hat{s}^{n}" display="inline"><semantics id="S3.SS1.p7.1.m1.1a"><msup id="S3.SS1.p7.1.m1.1.1" xref="S3.SS1.p7.1.m1.1.1.cmml"><mover accent="true" id="S3.SS1.p7.1.m1.1.1.2" xref="S3.SS1.p7.1.m1.1.1.2.cmml"><mi id="S3.SS1.p7.1.m1.1.1.2.2" xref="S3.SS1.p7.1.m1.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p7.1.m1.1.1.2.1" xref="S3.SS1.p7.1.m1.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.1.m1.1.1.3" xref="S3.SS1.p7.1.m1.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.1.m1.1b"><apply id="S3.SS1.p7.1.m1.1.1.cmml" xref="S3.SS1.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.1.m1.1.1.1.cmml" xref="S3.SS1.p7.1.m1.1.1">superscript</csymbol><apply id="S3.SS1.p7.1.m1.1.1.2.cmml" xref="S3.SS1.p7.1.m1.1.1.2"><ci id="S3.SS1.p7.1.m1.1.1.2.1.cmml" xref="S3.SS1.p7.1.m1.1.1.2.1">^</ci><ci id="S3.SS1.p7.1.m1.1.1.2.2.cmml" xref="S3.SS1.p7.1.m1.1.1.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.1.m1.1.1.3.cmml" xref="S3.SS1.p7.1.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.1.m1.1c">\hat{s}^{n}</annotation></semantics></math> to generate diverse domains as in <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> as
<math id="S3.SS1.p7.2.m2.4" class="ltx_Math" alttext="\mu_{new}(\hat{s}_{i}^{n})=\lambda\cdot\mu(\hat{s}_{i}^{n})+(1-\lambda)\cdot\mu(\hat{s}_{j}^{n})" display="inline"><semantics id="S3.SS1.p7.2.m2.4a"><mrow id="S3.SS1.p7.2.m2.4.4" xref="S3.SS1.p7.2.m2.4.4.cmml"><mrow id="S3.SS1.p7.2.m2.1.1.1" xref="S3.SS1.p7.2.m2.1.1.1.cmml"><msub id="S3.SS1.p7.2.m2.1.1.1.3" xref="S3.SS1.p7.2.m2.1.1.1.3.cmml"><mi id="S3.SS1.p7.2.m2.1.1.1.3.2" xref="S3.SS1.p7.2.m2.1.1.1.3.2.cmml">μ</mi><mrow id="S3.SS1.p7.2.m2.1.1.1.3.3" xref="S3.SS1.p7.2.m2.1.1.1.3.3.cmml"><mi id="S3.SS1.p7.2.m2.1.1.1.3.3.2" xref="S3.SS1.p7.2.m2.1.1.1.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p7.2.m2.1.1.1.3.3.1" xref="S3.SS1.p7.2.m2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p7.2.m2.1.1.1.3.3.3" xref="S3.SS1.p7.2.m2.1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p7.2.m2.1.1.1.3.3.1a" xref="S3.SS1.p7.2.m2.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p7.2.m2.1.1.1.3.3.4" xref="S3.SS1.p7.2.m2.1.1.1.3.3.4.cmml">w</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p7.2.m2.1.1.1.2" xref="S3.SS1.p7.2.m2.1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p7.2.m2.1.1.1.1.1" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p7.2.m2.1.1.1.1.1.2" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p7.2.m2.1.1.1.1.1.1" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.2" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.1" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.3" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p7.2.m2.1.1.1.1.1.1.3" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p7.2.m2.1.1.1.1.1.3" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p7.2.m2.4.4.5" xref="S3.SS1.p7.2.m2.4.4.5.cmml">=</mo><mrow id="S3.SS1.p7.2.m2.4.4.4" xref="S3.SS1.p7.2.m2.4.4.4.cmml"><mrow id="S3.SS1.p7.2.m2.2.2.2.1" xref="S3.SS1.p7.2.m2.2.2.2.1.cmml"><mrow id="S3.SS1.p7.2.m2.2.2.2.1.3" xref="S3.SS1.p7.2.m2.2.2.2.1.3.cmml"><mi id="S3.SS1.p7.2.m2.2.2.2.1.3.2" xref="S3.SS1.p7.2.m2.2.2.2.1.3.2.cmml">λ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p7.2.m2.2.2.2.1.3.1" xref="S3.SS1.p7.2.m2.2.2.2.1.3.1.cmml">⋅</mo><mi id="S3.SS1.p7.2.m2.2.2.2.1.3.3" xref="S3.SS1.p7.2.m2.2.2.2.1.3.3.cmml">μ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS1.p7.2.m2.2.2.2.1.2" xref="S3.SS1.p7.2.m2.2.2.2.1.2.cmml">​</mo><mrow id="S3.SS1.p7.2.m2.2.2.2.1.1.1" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p7.2.m2.2.2.2.1.1.1.2" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.cmml"><mi id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.2" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.1" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.3" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.3" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p7.2.m2.2.2.2.1.1.1.3" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p7.2.m2.4.4.4.4" xref="S3.SS1.p7.2.m2.4.4.4.4.cmml">+</mo><mrow id="S3.SS1.p7.2.m2.4.4.4.3" xref="S3.SS1.p7.2.m2.4.4.4.3.cmml"><mrow id="S3.SS1.p7.2.m2.3.3.3.2.1" xref="S3.SS1.p7.2.m2.3.3.3.2.1.cmml"><mrow id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.2" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.cmml"><mn id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.2" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.2.cmml">1</mn><mo id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.1" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.1.cmml">−</mo><mi id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.3" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.3.cmml">λ</mi></mrow><mo rspace="0.055em" stretchy="false" id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.3" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.cmml">)</mo></mrow><mo rspace="0.222em" id="S3.SS1.p7.2.m2.3.3.3.2.1.2" xref="S3.SS1.p7.2.m2.3.3.3.2.1.2.cmml">⋅</mo><mi id="S3.SS1.p7.2.m2.3.3.3.2.1.3" xref="S3.SS1.p7.2.m2.3.3.3.2.1.3.cmml">μ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS1.p7.2.m2.4.4.4.3.3" xref="S3.SS1.p7.2.m2.4.4.4.3.3.cmml">​</mo><mrow id="S3.SS1.p7.2.m2.4.4.4.3.2.1" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.cmml"><mo stretchy="false" id="S3.SS1.p7.2.m2.4.4.4.3.2.1.2" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.cmml">(</mo><msubsup id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.cmml"><mover accent="true" id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.cmml"><mi id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.2" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.1" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.3" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.3.cmml">j</mi><mi id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.3" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p7.2.m2.4.4.4.3.2.1.3" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.2.m2.4b"><apply id="S3.SS1.p7.2.m2.4.4.cmml" xref="S3.SS1.p7.2.m2.4.4"><eq id="S3.SS1.p7.2.m2.4.4.5.cmml" xref="S3.SS1.p7.2.m2.4.4.5"></eq><apply id="S3.SS1.p7.2.m2.1.1.1.cmml" xref="S3.SS1.p7.2.m2.1.1.1"><times id="S3.SS1.p7.2.m2.1.1.1.2.cmml" xref="S3.SS1.p7.2.m2.1.1.1.2"></times><apply id="S3.SS1.p7.2.m2.1.1.1.3.cmml" xref="S3.SS1.p7.2.m2.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p7.2.m2.1.1.1.3.1.cmml" xref="S3.SS1.p7.2.m2.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p7.2.m2.1.1.1.3.2.cmml" xref="S3.SS1.p7.2.m2.1.1.1.3.2">𝜇</ci><apply id="S3.SS1.p7.2.m2.1.1.1.3.3.cmml" xref="S3.SS1.p7.2.m2.1.1.1.3.3"><times id="S3.SS1.p7.2.m2.1.1.1.3.3.1.cmml" xref="S3.SS1.p7.2.m2.1.1.1.3.3.1"></times><ci id="S3.SS1.p7.2.m2.1.1.1.3.3.2.cmml" xref="S3.SS1.p7.2.m2.1.1.1.3.3.2">𝑛</ci><ci id="S3.SS1.p7.2.m2.1.1.1.3.3.3.cmml" xref="S3.SS1.p7.2.m2.1.1.1.3.3.3">𝑒</ci><ci id="S3.SS1.p7.2.m2.1.1.1.3.3.4.cmml" xref="S3.SS1.p7.2.m2.1.1.1.3.3.4">𝑤</ci></apply></apply><apply id="S3.SS1.p7.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1">subscript</csymbol><apply id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2"><ci id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.1">^</ci><ci id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p7.2.m2.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p7.2.m2.1.1.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.SS1.p7.2.m2.4.4.4.cmml" xref="S3.SS1.p7.2.m2.4.4.4"><plus id="S3.SS1.p7.2.m2.4.4.4.4.cmml" xref="S3.SS1.p7.2.m2.4.4.4.4"></plus><apply id="S3.SS1.p7.2.m2.2.2.2.1.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1"><times id="S3.SS1.p7.2.m2.2.2.2.1.2.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.2"></times><apply id="S3.SS1.p7.2.m2.2.2.2.1.3.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.3"><ci id="S3.SS1.p7.2.m2.2.2.2.1.3.1.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.3.1">⋅</ci><ci id="S3.SS1.p7.2.m2.2.2.2.1.3.2.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.3.2">𝜆</ci><ci id="S3.SS1.p7.2.m2.2.2.2.1.3.3.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.3.3">𝜇</ci></apply><apply id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1">superscript</csymbol><apply id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.1.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1">subscript</csymbol><apply id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2"><ci id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.1">^</ci><ci id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.3.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.3.cmml" xref="S3.SS1.p7.2.m2.2.2.2.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.SS1.p7.2.m2.4.4.4.3.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3"><times id="S3.SS1.p7.2.m2.4.4.4.3.3.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.3"></times><apply id="S3.SS1.p7.2.m2.3.3.3.2.1.cmml" xref="S3.SS1.p7.2.m2.3.3.3.2.1"><ci id="S3.SS1.p7.2.m2.3.3.3.2.1.2.cmml" xref="S3.SS1.p7.2.m2.3.3.3.2.1.2">⋅</ci><apply id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.cmml" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1"><minus id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.1.cmml" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.1"></minus><cn type="integer" id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.2.cmml" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.2">1</cn><ci id="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.3.cmml" xref="S3.SS1.p7.2.m2.3.3.3.2.1.1.1.1.3">𝜆</ci></apply><ci id="S3.SS1.p7.2.m2.3.3.3.2.1.3.cmml" xref="S3.SS1.p7.2.m2.3.3.3.2.1.3">𝜇</ci></apply><apply id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1"><csymbol cd="ambiguous" id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.1.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1">superscript</csymbol><apply id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1"><csymbol cd="ambiguous" id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.1.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1">subscript</csymbol><apply id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2"><ci id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.1.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.1">^</ci><ci id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.2.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.3.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.2.3">𝑗</ci></apply><ci id="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.3.cmml" xref="S3.SS1.p7.2.m2.4.4.4.3.2.1.1.3">𝑛</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.2.m2.4c">\mu_{new}(\hat{s}_{i}^{n})=\lambda\cdot\mu(\hat{s}_{i}^{n})+(1-\lambda)\cdot\mu(\hat{s}_{j}^{n})</annotation></semantics></math> and
<math id="S3.SS1.p7.3.m3.4" class="ltx_Math" alttext="\sigma_{new}(\hat{s}_{i}^{n})=\lambda\cdot\sigma(\hat{s}_{i}^{n})+(1-\lambda)\cdot\sigma(\hat{s}_{j}^{n})" display="inline"><semantics id="S3.SS1.p7.3.m3.4a"><mrow id="S3.SS1.p7.3.m3.4.4" xref="S3.SS1.p7.3.m3.4.4.cmml"><mrow id="S3.SS1.p7.3.m3.1.1.1" xref="S3.SS1.p7.3.m3.1.1.1.cmml"><msub id="S3.SS1.p7.3.m3.1.1.1.3" xref="S3.SS1.p7.3.m3.1.1.1.3.cmml"><mi id="S3.SS1.p7.3.m3.1.1.1.3.2" xref="S3.SS1.p7.3.m3.1.1.1.3.2.cmml">σ</mi><mrow id="S3.SS1.p7.3.m3.1.1.1.3.3" xref="S3.SS1.p7.3.m3.1.1.1.3.3.cmml"><mi id="S3.SS1.p7.3.m3.1.1.1.3.3.2" xref="S3.SS1.p7.3.m3.1.1.1.3.3.2.cmml">n</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p7.3.m3.1.1.1.3.3.1" xref="S3.SS1.p7.3.m3.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p7.3.m3.1.1.1.3.3.3" xref="S3.SS1.p7.3.m3.1.1.1.3.3.3.cmml">e</mi><mo lspace="0em" rspace="0em" id="S3.SS1.p7.3.m3.1.1.1.3.3.1a" xref="S3.SS1.p7.3.m3.1.1.1.3.3.1.cmml">​</mo><mi id="S3.SS1.p7.3.m3.1.1.1.3.3.4" xref="S3.SS1.p7.3.m3.1.1.1.3.3.4.cmml">w</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.SS1.p7.3.m3.1.1.1.2" xref="S3.SS1.p7.3.m3.1.1.1.2.cmml">​</mo><mrow id="S3.SS1.p7.3.m3.1.1.1.1.1" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p7.3.m3.1.1.1.1.1.2" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p7.3.m3.1.1.1.1.1.1" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.cmml"><mi id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.2" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.1" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.3" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p7.3.m3.1.1.1.1.1.1.3" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p7.3.m3.1.1.1.1.1.3" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p7.3.m3.4.4.5" xref="S3.SS1.p7.3.m3.4.4.5.cmml">=</mo><mrow id="S3.SS1.p7.3.m3.4.4.4" xref="S3.SS1.p7.3.m3.4.4.4.cmml"><mrow id="S3.SS1.p7.3.m3.2.2.2.1" xref="S3.SS1.p7.3.m3.2.2.2.1.cmml"><mrow id="S3.SS1.p7.3.m3.2.2.2.1.3" xref="S3.SS1.p7.3.m3.2.2.2.1.3.cmml"><mi id="S3.SS1.p7.3.m3.2.2.2.1.3.2" xref="S3.SS1.p7.3.m3.2.2.2.1.3.2.cmml">λ</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS1.p7.3.m3.2.2.2.1.3.1" xref="S3.SS1.p7.3.m3.2.2.2.1.3.1.cmml">⋅</mo><mi id="S3.SS1.p7.3.m3.2.2.2.1.3.3" xref="S3.SS1.p7.3.m3.2.2.2.1.3.3.cmml">σ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS1.p7.3.m3.2.2.2.1.2" xref="S3.SS1.p7.3.m3.2.2.2.1.2.cmml">​</mo><mrow id="S3.SS1.p7.3.m3.2.2.2.1.1.1" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p7.3.m3.2.2.2.1.1.1.2" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.cmml">(</mo><msubsup id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.cmml"><mover accent="true" id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.cmml"><mi id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.2" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.1" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.3" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.3" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p7.3.m3.2.2.2.1.1.1.3" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS1.p7.3.m3.4.4.4.4" xref="S3.SS1.p7.3.m3.4.4.4.4.cmml">+</mo><mrow id="S3.SS1.p7.3.m3.4.4.4.3" xref="S3.SS1.p7.3.m3.4.4.4.3.cmml"><mrow id="S3.SS1.p7.3.m3.3.3.3.2.1" xref="S3.SS1.p7.3.m3.3.3.3.2.1.cmml"><mrow id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.2" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.cmml">(</mo><mrow id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.cmml"><mn id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.2" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.2.cmml">1</mn><mo id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.1" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.1.cmml">−</mo><mi id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.3" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.3.cmml">λ</mi></mrow><mo rspace="0.055em" stretchy="false" id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.3" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.cmml">)</mo></mrow><mo rspace="0.222em" id="S3.SS1.p7.3.m3.3.3.3.2.1.2" xref="S3.SS1.p7.3.m3.3.3.3.2.1.2.cmml">⋅</mo><mi id="S3.SS1.p7.3.m3.3.3.3.2.1.3" xref="S3.SS1.p7.3.m3.3.3.3.2.1.3.cmml">σ</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS1.p7.3.m3.4.4.4.3.3" xref="S3.SS1.p7.3.m3.4.4.4.3.3.cmml">​</mo><mrow id="S3.SS1.p7.3.m3.4.4.4.3.2.1" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.cmml"><mo stretchy="false" id="S3.SS1.p7.3.m3.4.4.4.3.2.1.2" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.cmml">(</mo><msubsup id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.cmml"><mover accent="true" id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.cmml"><mi id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.2" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.1" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.3" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.3.cmml">j</mi><mi id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.3" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.3.cmml">n</mi></msubsup><mo stretchy="false" id="S3.SS1.p7.3.m3.4.4.4.3.2.1.3" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.cmml">)</mo></mrow></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.3.m3.4b"><apply id="S3.SS1.p7.3.m3.4.4.cmml" xref="S3.SS1.p7.3.m3.4.4"><eq id="S3.SS1.p7.3.m3.4.4.5.cmml" xref="S3.SS1.p7.3.m3.4.4.5"></eq><apply id="S3.SS1.p7.3.m3.1.1.1.cmml" xref="S3.SS1.p7.3.m3.1.1.1"><times id="S3.SS1.p7.3.m3.1.1.1.2.cmml" xref="S3.SS1.p7.3.m3.1.1.1.2"></times><apply id="S3.SS1.p7.3.m3.1.1.1.3.cmml" xref="S3.SS1.p7.3.m3.1.1.1.3"><csymbol cd="ambiguous" id="S3.SS1.p7.3.m3.1.1.1.3.1.cmml" xref="S3.SS1.p7.3.m3.1.1.1.3">subscript</csymbol><ci id="S3.SS1.p7.3.m3.1.1.1.3.2.cmml" xref="S3.SS1.p7.3.m3.1.1.1.3.2">𝜎</ci><apply id="S3.SS1.p7.3.m3.1.1.1.3.3.cmml" xref="S3.SS1.p7.3.m3.1.1.1.3.3"><times id="S3.SS1.p7.3.m3.1.1.1.3.3.1.cmml" xref="S3.SS1.p7.3.m3.1.1.1.3.3.1"></times><ci id="S3.SS1.p7.3.m3.1.1.1.3.3.2.cmml" xref="S3.SS1.p7.3.m3.1.1.1.3.3.2">𝑛</ci><ci id="S3.SS1.p7.3.m3.1.1.1.3.3.3.cmml" xref="S3.SS1.p7.3.m3.1.1.1.3.3.3">𝑒</ci><ci id="S3.SS1.p7.3.m3.1.1.1.3.3.4.cmml" xref="S3.SS1.p7.3.m3.1.1.1.3.3.4">𝑤</ci></apply></apply><apply id="S3.SS1.p7.3.m3.1.1.1.1.1.1.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.3.m3.1.1.1.1.1.1.1.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1">superscript</csymbol><apply id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.1.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1">subscript</csymbol><apply id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2"><ci id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.1">^</ci><ci id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.3.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p7.3.m3.1.1.1.1.1.1.3.cmml" xref="S3.SS1.p7.3.m3.1.1.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.SS1.p7.3.m3.4.4.4.cmml" xref="S3.SS1.p7.3.m3.4.4.4"><plus id="S3.SS1.p7.3.m3.4.4.4.4.cmml" xref="S3.SS1.p7.3.m3.4.4.4.4"></plus><apply id="S3.SS1.p7.3.m3.2.2.2.1.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1"><times id="S3.SS1.p7.3.m3.2.2.2.1.2.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.2"></times><apply id="S3.SS1.p7.3.m3.2.2.2.1.3.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.3"><ci id="S3.SS1.p7.3.m3.2.2.2.1.3.1.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.3.1">⋅</ci><ci id="S3.SS1.p7.3.m3.2.2.2.1.3.2.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.3.2">𝜆</ci><ci id="S3.SS1.p7.3.m3.2.2.2.1.3.3.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.3.3">𝜎</ci></apply><apply id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.1.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1">superscript</csymbol><apply id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.1.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1">subscript</csymbol><apply id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2"><ci id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.1.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.1">^</ci><ci id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.2.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.3.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.3.cmml" xref="S3.SS1.p7.3.m3.2.2.2.1.1.1.1.3">𝑛</ci></apply></apply><apply id="S3.SS1.p7.3.m3.4.4.4.3.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3"><times id="S3.SS1.p7.3.m3.4.4.4.3.3.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.3"></times><apply id="S3.SS1.p7.3.m3.3.3.3.2.1.cmml" xref="S3.SS1.p7.3.m3.3.3.3.2.1"><ci id="S3.SS1.p7.3.m3.3.3.3.2.1.2.cmml" xref="S3.SS1.p7.3.m3.3.3.3.2.1.2">⋅</ci><apply id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.cmml" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1"><minus id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.1.cmml" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.1"></minus><cn type="integer" id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.2.cmml" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.2">1</cn><ci id="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.3.cmml" xref="S3.SS1.p7.3.m3.3.3.3.2.1.1.1.1.3">𝜆</ci></apply><ci id="S3.SS1.p7.3.m3.3.3.3.2.1.3.cmml" xref="S3.SS1.p7.3.m3.3.3.3.2.1.3">𝜎</ci></apply><apply id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1"><csymbol cd="ambiguous" id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.1.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1">superscript</csymbol><apply id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1"><csymbol cd="ambiguous" id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.1.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1">subscript</csymbol><apply id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2"><ci id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.1.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.1">^</ci><ci id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.2.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.3.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.2.3">𝑗</ci></apply><ci id="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.3.cmml" xref="S3.SS1.p7.3.m3.4.4.4.3.2.1.1.3">𝑛</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.3.m3.4c">\sigma_{new}(\hat{s}_{i}^{n})=\lambda\cdot\sigma(\hat{s}_{i}^{n})+(1-\lambda)\cdot\sigma(\hat{s}_{j}^{n})</annotation></semantics></math>,
where <math id="S3.SS1.p7.4.m4.1" class="ltx_Math" alttext="\hat{s}_{i}^{n}" display="inline"><semantics id="S3.SS1.p7.4.m4.1a"><msubsup id="S3.SS1.p7.4.m4.1.1" xref="S3.SS1.p7.4.m4.1.1.cmml"><mover accent="true" id="S3.SS1.p7.4.m4.1.1.2.2" xref="S3.SS1.p7.4.m4.1.1.2.2.cmml"><mi id="S3.SS1.p7.4.m4.1.1.2.2.2" xref="S3.SS1.p7.4.m4.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p7.4.m4.1.1.2.2.1" xref="S3.SS1.p7.4.m4.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.4.m4.1.1.2.3" xref="S3.SS1.p7.4.m4.1.1.2.3.cmml">i</mi><mi id="S3.SS1.p7.4.m4.1.1.3" xref="S3.SS1.p7.4.m4.1.1.3.cmml">n</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.4.m4.1b"><apply id="S3.SS1.p7.4.m4.1.1.cmml" xref="S3.SS1.p7.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.4.m4.1.1.1.cmml" xref="S3.SS1.p7.4.m4.1.1">superscript</csymbol><apply id="S3.SS1.p7.4.m4.1.1.2.cmml" xref="S3.SS1.p7.4.m4.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.4.m4.1.1.2.1.cmml" xref="S3.SS1.p7.4.m4.1.1">subscript</csymbol><apply id="S3.SS1.p7.4.m4.1.1.2.2.cmml" xref="S3.SS1.p7.4.m4.1.1.2.2"><ci id="S3.SS1.p7.4.m4.1.1.2.2.1.cmml" xref="S3.SS1.p7.4.m4.1.1.2.2.1">^</ci><ci id="S3.SS1.p7.4.m4.1.1.2.2.2.cmml" xref="S3.SS1.p7.4.m4.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.4.m4.1.1.2.3.cmml" xref="S3.SS1.p7.4.m4.1.1.2.3">𝑖</ci></apply><ci id="S3.SS1.p7.4.m4.1.1.3.cmml" xref="S3.SS1.p7.4.m4.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.4.m4.1c">\hat{s}_{i}^{n}</annotation></semantics></math> and <math id="S3.SS1.p7.5.m5.1" class="ltx_Math" alttext="\hat{s}_{j}^{n}" display="inline"><semantics id="S3.SS1.p7.5.m5.1a"><msubsup id="S3.SS1.p7.5.m5.1.1" xref="S3.SS1.p7.5.m5.1.1.cmml"><mover accent="true" id="S3.SS1.p7.5.m5.1.1.2.2" xref="S3.SS1.p7.5.m5.1.1.2.2.cmml"><mi id="S3.SS1.p7.5.m5.1.1.2.2.2" xref="S3.SS1.p7.5.m5.1.1.2.2.2.cmml">s</mi><mo id="S3.SS1.p7.5.m5.1.1.2.2.1" xref="S3.SS1.p7.5.m5.1.1.2.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.5.m5.1.1.2.3" xref="S3.SS1.p7.5.m5.1.1.2.3.cmml">j</mi><mi id="S3.SS1.p7.5.m5.1.1.3" xref="S3.SS1.p7.5.m5.1.1.3.cmml">n</mi></msubsup><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.5.m5.1b"><apply id="S3.SS1.p7.5.m5.1.1.cmml" xref="S3.SS1.p7.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.5.m5.1.1.1.cmml" xref="S3.SS1.p7.5.m5.1.1">superscript</csymbol><apply id="S3.SS1.p7.5.m5.1.1.2.cmml" xref="S3.SS1.p7.5.m5.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.5.m5.1.1.2.1.cmml" xref="S3.SS1.p7.5.m5.1.1">subscript</csymbol><apply id="S3.SS1.p7.5.m5.1.1.2.2.cmml" xref="S3.SS1.p7.5.m5.1.1.2.2"><ci id="S3.SS1.p7.5.m5.1.1.2.2.1.cmml" xref="S3.SS1.p7.5.m5.1.1.2.2.1">^</ci><ci id="S3.SS1.p7.5.m5.1.1.2.2.2.cmml" xref="S3.SS1.p7.5.m5.1.1.2.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.5.m5.1.1.2.3.cmml" xref="S3.SS1.p7.5.m5.1.1.2.3">𝑗</ci></apply><ci id="S3.SS1.p7.5.m5.1.1.3.cmml" xref="S3.SS1.p7.5.m5.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.5.m5.1c">\hat{s}_{j}^{n}</annotation></semantics></math> are arbitrary two samples in <math id="S3.SS1.p7.6.m6.1" class="ltx_Math" alttext="\hat{s}^{n}" display="inline"><semantics id="S3.SS1.p7.6.m6.1a"><msup id="S3.SS1.p7.6.m6.1.1" xref="S3.SS1.p7.6.m6.1.1.cmml"><mover accent="true" id="S3.SS1.p7.6.m6.1.1.2" xref="S3.SS1.p7.6.m6.1.1.2.cmml"><mi id="S3.SS1.p7.6.m6.1.1.2.2" xref="S3.SS1.p7.6.m6.1.1.2.2.cmml">s</mi><mo id="S3.SS1.p7.6.m6.1.1.2.1" xref="S3.SS1.p7.6.m6.1.1.2.1.cmml">^</mo></mover><mi id="S3.SS1.p7.6.m6.1.1.3" xref="S3.SS1.p7.6.m6.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.6.m6.1b"><apply id="S3.SS1.p7.6.m6.1.1.cmml" xref="S3.SS1.p7.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS1.p7.6.m6.1.1.1.cmml" xref="S3.SS1.p7.6.m6.1.1">superscript</csymbol><apply id="S3.SS1.p7.6.m6.1.1.2.cmml" xref="S3.SS1.p7.6.m6.1.1.2"><ci id="S3.SS1.p7.6.m6.1.1.2.1.cmml" xref="S3.SS1.p7.6.m6.1.1.2.1">^</ci><ci id="S3.SS1.p7.6.m6.1.1.2.2.cmml" xref="S3.SS1.p7.6.m6.1.1.2.2">𝑠</ci></apply><ci id="S3.SS1.p7.6.m6.1.1.3.cmml" xref="S3.SS1.p7.6.m6.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.6.m6.1c">\hat{s}^{n}</annotation></semantics></math> and <math id="S3.SS1.p7.7.m7.1" class="ltx_Math" alttext="\lambda" display="inline"><semantics id="S3.SS1.p7.7.m7.1a"><mi id="S3.SS1.p7.7.m7.1.1" xref="S3.SS1.p7.7.m7.1.1.cmml">λ</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p7.7.m7.1b"><ci id="S3.SS1.p7.7.m7.1.1.cmml" xref="S3.SS1.p7.7.m7.1.1">𝜆</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p7.7.m7.1c">\lambda</annotation></semantics></math> is a mixing parameter sampled from the beta distribution. Below, we wish to highlight two important points.</p>
</div>
<div id="S3.SS1.p8" class="ltx_para">
<p id="S3.SS1.p8.1" class="ltx_p"><span id="S3.SS1.p8.1.1" class="ltx_text ltx_font_bold">Remark 1 (Privacy).</span> It is already well-known that there is an inherent clustering of samples based on their domains in the style-space, regardless of their labels <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>. This indicates that label information is not contained in the style statistics, resolving privacy issues. Note that some prior works on federated DG <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> also adopt sharing style information between clients, but in different ways (see Sec. <a href="#S2" title="2 Related Works ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>).</p>
</div>
<div id="S3.SS1.p9" class="ltx_para">
<p id="S3.SS1.p9.2" class="ltx_p"><span id="S3.SS1.p9.2.1" class="ltx_text ltx_font_bold">Remark 2.</span> By enabling the model to explore a wider region in the style space based on the exploration level <math id="S3.SS1.p9.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS1.p9.1.m1.1a"><mi id="S3.SS1.p9.1.m1.1.1" xref="S3.SS1.p9.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p9.1.m1.1b"><ci id="S3.SS1.p9.1.m1.1.1.cmml" xref="S3.SS1.p9.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p9.1.m1.1c">\alpha</annotation></semantics></math>, our style exploration in Step 4 is especially beneficial when the target domain is significantly far from the source domains (e.g., Sketch domain in PACS dataset). Existing style-based DG methods (e.g., MixStyle, DSU) are ineffective in this case as they can explore only some limited areas near the original styles in each client (Fig. <a href="#S3.F2.sf1" title="Figure 2(a) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(a)</span></a> vs. Fig. <a href="#S3.F2.sf2" title="Figure 2(b) ‣ Figure 2 ‣ 3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2(b)</span></a>), which leads to performance degradation especially in data-poor FL scenarios. It turns out that our scheme has significant performance improvements over these baselines even with a rather arbitrarily chosen <math id="S3.SS1.p9.2.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S3.SS1.p9.2.m2.1a"><mi id="S3.SS1.p9.2.m2.1.1" xref="S3.SS1.p9.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S3.SS1.p9.2.m2.1b"><ci id="S3.SS1.p9.2.m2.1.1.cmml" xref="S3.SS1.p9.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS1.p9.2.m2.1c">\alpha</annotation></semantics></math>, as we will see in Sec. <a href="#S4.SS3" title="4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>.</p>
</div>
</section>
<section id="S3.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.2 </span>Attention-based Feature Highlighter</h3>

<div id="S3.SS2.p1" class="ltx_para">
<p id="S3.SS2.p1.1" class="ltx_p">In this subsection, we describe the second component of our solution, the attention-based feature highlighter, which operates at the output of the feature extractor to tackle the remaining challenge of federated DG: limited generalization in each client due to the lack of data. To handle this issue, we start from our key intuition that the images from the same class have inherently common characteristics regardless of domains to which they belong (e.g., Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>). Based on this insight, we take advantage of attention to find the essential characteristics of images in the same class and emphasize them, which turns out to be very effective in data-poor FL scenarios.</p>
</div>
<div id="S3.SS2.p2" class="ltx_para">
<p id="S3.SS2.p2.14" class="ltx_p"><span id="S3.SS2.p2.14.1" class="ltx_text ltx_font_bold">Attention score.</span> Consider the <math id="S3.SS2.p2.1.m1.1" class="ltx_Math" alttext="i" display="inline"><semantics id="S3.SS2.p2.1.m1.1a"><mi id="S3.SS2.p2.1.m1.1.1" xref="S3.SS2.p2.1.m1.1.1.cmml">i</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.1.m1.1b"><ci id="S3.SS2.p2.1.m1.1.1.cmml" xref="S3.SS2.p2.1.m1.1.1">𝑖</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.1.m1.1c">i</annotation></semantics></math>-th data sample of client <math id="S3.SS2.p2.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS2.p2.2.m2.1a"><mi id="S3.SS2.p2.2.m2.1.1" xref="S3.SS2.p2.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.2.m2.1b"><ci id="S3.SS2.p2.2.m2.1.1.cmml" xref="S3.SS2.p2.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.2.m2.1c">n</annotation></semantics></math>. Given the feature <math id="S3.SS2.p2.3.m3.1" class="ltx_Math" alttext="z_{i}^{n}\in\mathbb{R}^{C\times H\times W}" display="inline"><semantics id="S3.SS2.p2.3.m3.1a"><mrow id="S3.SS2.p2.3.m3.1.1" xref="S3.SS2.p2.3.m3.1.1.cmml"><msubsup id="S3.SS2.p2.3.m3.1.1.2" xref="S3.SS2.p2.3.m3.1.1.2.cmml"><mi id="S3.SS2.p2.3.m3.1.1.2.2.2" xref="S3.SS2.p2.3.m3.1.1.2.2.2.cmml">z</mi><mi id="S3.SS2.p2.3.m3.1.1.2.2.3" xref="S3.SS2.p2.3.m3.1.1.2.2.3.cmml">i</mi><mi id="S3.SS2.p2.3.m3.1.1.2.3" xref="S3.SS2.p2.3.m3.1.1.2.3.cmml">n</mi></msubsup><mo id="S3.SS2.p2.3.m3.1.1.1" xref="S3.SS2.p2.3.m3.1.1.1.cmml">∈</mo><msup id="S3.SS2.p2.3.m3.1.1.3" xref="S3.SS2.p2.3.m3.1.1.3.cmml"><mi id="S3.SS2.p2.3.m3.1.1.3.2" xref="S3.SS2.p2.3.m3.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p2.3.m3.1.1.3.3" xref="S3.SS2.p2.3.m3.1.1.3.3.cmml"><mi id="S3.SS2.p2.3.m3.1.1.3.3.2" xref="S3.SS2.p2.3.m3.1.1.3.3.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.3.m3.1.1.3.3.1" xref="S3.SS2.p2.3.m3.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p2.3.m3.1.1.3.3.3" xref="S3.SS2.p2.3.m3.1.1.3.3.3.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.3.m3.1.1.3.3.1a" xref="S3.SS2.p2.3.m3.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p2.3.m3.1.1.3.3.4" xref="S3.SS2.p2.3.m3.1.1.3.3.4.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.3.m3.1b"><apply id="S3.SS2.p2.3.m3.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1"><in id="S3.SS2.p2.3.m3.1.1.1.cmml" xref="S3.SS2.p2.3.m3.1.1.1"></in><apply id="S3.SS2.p2.3.m3.1.1.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.2.1.cmml" xref="S3.SS2.p2.3.m3.1.1.2">superscript</csymbol><apply id="S3.SS2.p2.3.m3.1.1.2.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.2.2.1.cmml" xref="S3.SS2.p2.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.2.2.2.cmml" xref="S3.SS2.p2.3.m3.1.1.2.2.2">𝑧</ci><ci id="S3.SS2.p2.3.m3.1.1.2.2.3.cmml" xref="S3.SS2.p2.3.m3.1.1.2.2.3">𝑖</ci></apply><ci id="S3.SS2.p2.3.m3.1.1.2.3.cmml" xref="S3.SS2.p2.3.m3.1.1.2.3">𝑛</ci></apply><apply id="S3.SS2.p2.3.m3.1.1.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.3.m3.1.1.3.1.cmml" xref="S3.SS2.p2.3.m3.1.1.3">superscript</csymbol><ci id="S3.SS2.p2.3.m3.1.1.3.2.cmml" xref="S3.SS2.p2.3.m3.1.1.3.2">ℝ</ci><apply id="S3.SS2.p2.3.m3.1.1.3.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3"><times id="S3.SS2.p2.3.m3.1.1.3.3.1.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3.1"></times><ci id="S3.SS2.p2.3.m3.1.1.3.3.2.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3.2">𝐶</ci><ci id="S3.SS2.p2.3.m3.1.1.3.3.3.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3.3">𝐻</ci><ci id="S3.SS2.p2.3.m3.1.1.3.3.4.cmml" xref="S3.SS2.p2.3.m3.1.1.3.3.4">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.3.m3.1c">z_{i}^{n}\in\mathbb{R}^{C\times H\times W}</annotation></semantics></math> obtained from the output of the feature extractor, we flatten it to a two-dimensional tensor <math id="S3.SS2.p2.4.m4.1" class="ltx_Math" alttext="X_{i}\in\mathbb{R}^{C\times HW}" display="inline"><semantics id="S3.SS2.p2.4.m4.1a"><mrow id="S3.SS2.p2.4.m4.1.1" xref="S3.SS2.p2.4.m4.1.1.cmml"><msub id="S3.SS2.p2.4.m4.1.1.2" xref="S3.SS2.p2.4.m4.1.1.2.cmml"><mi id="S3.SS2.p2.4.m4.1.1.2.2" xref="S3.SS2.p2.4.m4.1.1.2.2.cmml">X</mi><mi id="S3.SS2.p2.4.m4.1.1.2.3" xref="S3.SS2.p2.4.m4.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS2.p2.4.m4.1.1.1" xref="S3.SS2.p2.4.m4.1.1.1.cmml">∈</mo><msup id="S3.SS2.p2.4.m4.1.1.3" xref="S3.SS2.p2.4.m4.1.1.3.cmml"><mi id="S3.SS2.p2.4.m4.1.1.3.2" xref="S3.SS2.p2.4.m4.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p2.4.m4.1.1.3.3" xref="S3.SS2.p2.4.m4.1.1.3.3.cmml"><mrow id="S3.SS2.p2.4.m4.1.1.3.3.2" xref="S3.SS2.p2.4.m4.1.1.3.3.2.cmml"><mi id="S3.SS2.p2.4.m4.1.1.3.3.2.2" xref="S3.SS2.p2.4.m4.1.1.3.3.2.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.4.m4.1.1.3.3.2.1" xref="S3.SS2.p2.4.m4.1.1.3.3.2.1.cmml">×</mo><mi id="S3.SS2.p2.4.m4.1.1.3.3.2.3" xref="S3.SS2.p2.4.m4.1.1.3.3.2.3.cmml">H</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS2.p2.4.m4.1.1.3.3.1" xref="S3.SS2.p2.4.m4.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.4.m4.1.1.3.3.3" xref="S3.SS2.p2.4.m4.1.1.3.3.3.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.4.m4.1b"><apply id="S3.SS2.p2.4.m4.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1"><in id="S3.SS2.p2.4.m4.1.1.1.cmml" xref="S3.SS2.p2.4.m4.1.1.1"></in><apply id="S3.SS2.p2.4.m4.1.1.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.2.1.cmml" xref="S3.SS2.p2.4.m4.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.2.2.cmml" xref="S3.SS2.p2.4.m4.1.1.2.2">𝑋</ci><ci id="S3.SS2.p2.4.m4.1.1.2.3.cmml" xref="S3.SS2.p2.4.m4.1.1.2.3">𝑖</ci></apply><apply id="S3.SS2.p2.4.m4.1.1.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.4.m4.1.1.3.1.cmml" xref="S3.SS2.p2.4.m4.1.1.3">superscript</csymbol><ci id="S3.SS2.p2.4.m4.1.1.3.2.cmml" xref="S3.SS2.p2.4.m4.1.1.3.2">ℝ</ci><apply id="S3.SS2.p2.4.m4.1.1.3.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3"><times id="S3.SS2.p2.4.m4.1.1.3.3.1.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.1"></times><apply id="S3.SS2.p2.4.m4.1.1.3.3.2.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.2"><times id="S3.SS2.p2.4.m4.1.1.3.3.2.1.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.2.1"></times><ci id="S3.SS2.p2.4.m4.1.1.3.3.2.2.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.2.2">𝐶</ci><ci id="S3.SS2.p2.4.m4.1.1.3.3.2.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.2.3">𝐻</ci></apply><ci id="S3.SS2.p2.4.m4.1.1.3.3.3.cmml" xref="S3.SS2.p2.4.m4.1.1.3.3.3">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.4.m4.1c">X_{i}\in\mathbb{R}^{C\times HW}</annotation></semantics></math> with a size of <math id="S3.SS2.p2.5.m5.2" class="ltx_Math" alttext="(C,HW)" display="inline"><semantics id="S3.SS2.p2.5.m5.2a"><mrow id="S3.SS2.p2.5.m5.2.2.1" xref="S3.SS2.p2.5.m5.2.2.2.cmml"><mo stretchy="false" id="S3.SS2.p2.5.m5.2.2.1.2" xref="S3.SS2.p2.5.m5.2.2.2.cmml">(</mo><mi id="S3.SS2.p2.5.m5.1.1" xref="S3.SS2.p2.5.m5.1.1.cmml">C</mi><mo id="S3.SS2.p2.5.m5.2.2.1.3" xref="S3.SS2.p2.5.m5.2.2.2.cmml">,</mo><mrow id="S3.SS2.p2.5.m5.2.2.1.1" xref="S3.SS2.p2.5.m5.2.2.1.1.cmml"><mi id="S3.SS2.p2.5.m5.2.2.1.1.2" xref="S3.SS2.p2.5.m5.2.2.1.1.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.5.m5.2.2.1.1.1" xref="S3.SS2.p2.5.m5.2.2.1.1.1.cmml">​</mo><mi id="S3.SS2.p2.5.m5.2.2.1.1.3" xref="S3.SS2.p2.5.m5.2.2.1.1.3.cmml">W</mi></mrow><mo stretchy="false" id="S3.SS2.p2.5.m5.2.2.1.4" xref="S3.SS2.p2.5.m5.2.2.2.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.5.m5.2b"><interval closure="open" id="S3.SS2.p2.5.m5.2.2.2.cmml" xref="S3.SS2.p2.5.m5.2.2.1"><ci id="S3.SS2.p2.5.m5.1.1.cmml" xref="S3.SS2.p2.5.m5.1.1">𝐶</ci><apply id="S3.SS2.p2.5.m5.2.2.1.1.cmml" xref="S3.SS2.p2.5.m5.2.2.1.1"><times id="S3.SS2.p2.5.m5.2.2.1.1.1.cmml" xref="S3.SS2.p2.5.m5.2.2.1.1.1"></times><ci id="S3.SS2.p2.5.m5.2.2.1.1.2.cmml" xref="S3.SS2.p2.5.m5.2.2.1.1.2">𝐻</ci><ci id="S3.SS2.p2.5.m5.2.2.1.1.3.cmml" xref="S3.SS2.p2.5.m5.2.2.1.1.3">𝑊</ci></apply></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.5.m5.2c">(C,HW)</annotation></semantics></math>, where we omit the client index <math id="S3.SS2.p2.6.m6.1" class="ltx_Math" alttext="n" display="inline"><semantics id="S3.SS2.p2.6.m6.1a"><mi id="S3.SS2.p2.6.m6.1.1" xref="S3.SS2.p2.6.m6.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.6.m6.1b"><ci id="S3.SS2.p2.6.m6.1.1.cmml" xref="S3.SS2.p2.6.m6.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.6.m6.1c">n</annotation></semantics></math> for notational simplicity. Now consider another <math id="S3.SS2.p2.7.m7.1" class="ltx_Math" alttext="X_{j}" display="inline"><semantics id="S3.SS2.p2.7.m7.1a"><msub id="S3.SS2.p2.7.m7.1.1" xref="S3.SS2.p2.7.m7.1.1.cmml"><mi id="S3.SS2.p2.7.m7.1.1.2" xref="S3.SS2.p2.7.m7.1.1.2.cmml">X</mi><mi id="S3.SS2.p2.7.m7.1.1.3" xref="S3.SS2.p2.7.m7.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.7.m7.1b"><apply id="S3.SS2.p2.7.m7.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.7.m7.1.1.1.cmml" xref="S3.SS2.p2.7.m7.1.1">subscript</csymbol><ci id="S3.SS2.p2.7.m7.1.1.2.cmml" xref="S3.SS2.p2.7.m7.1.1.2">𝑋</ci><ci id="S3.SS2.p2.7.m7.1.1.3.cmml" xref="S3.SS2.p2.7.m7.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.7.m7.1c">X_{j}</annotation></semantics></math> (<math id="S3.SS2.p2.8.m8.1" class="ltx_Math" alttext="j\neq i" display="inline"><semantics id="S3.SS2.p2.8.m8.1a"><mrow id="S3.SS2.p2.8.m8.1.1" xref="S3.SS2.p2.8.m8.1.1.cmml"><mi id="S3.SS2.p2.8.m8.1.1.2" xref="S3.SS2.p2.8.m8.1.1.2.cmml">j</mi><mo id="S3.SS2.p2.8.m8.1.1.1" xref="S3.SS2.p2.8.m8.1.1.1.cmml">≠</mo><mi id="S3.SS2.p2.8.m8.1.1.3" xref="S3.SS2.p2.8.m8.1.1.3.cmml">i</mi></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.8.m8.1b"><apply id="S3.SS2.p2.8.m8.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1"><neq id="S3.SS2.p2.8.m8.1.1.1.cmml" xref="S3.SS2.p2.8.m8.1.1.1"></neq><ci id="S3.SS2.p2.8.m8.1.1.2.cmml" xref="S3.SS2.p2.8.m8.1.1.2">𝑗</ci><ci id="S3.SS2.p2.8.m8.1.1.3.cmml" xref="S3.SS2.p2.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.8.m8.1c">j\neq i</annotation></semantics></math>) in a mini-batch that belongs to the same class as <math id="S3.SS2.p2.9.m9.1" class="ltx_Math" alttext="X_{i}" display="inline"><semantics id="S3.SS2.p2.9.m9.1a"><msub id="S3.SS2.p2.9.m9.1.1" xref="S3.SS2.p2.9.m9.1.1.cmml"><mi id="S3.SS2.p2.9.m9.1.1.2" xref="S3.SS2.p2.9.m9.1.1.2.cmml">X</mi><mi id="S3.SS2.p2.9.m9.1.1.3" xref="S3.SS2.p2.9.m9.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.9.m9.1b"><apply id="S3.SS2.p2.9.m9.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.9.m9.1.1.1.cmml" xref="S3.SS2.p2.9.m9.1.1">subscript</csymbol><ci id="S3.SS2.p2.9.m9.1.1.2.cmml" xref="S3.SS2.p2.9.m9.1.1.2">𝑋</ci><ci id="S3.SS2.p2.9.m9.1.1.3.cmml" xref="S3.SS2.p2.9.m9.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.9.m9.1c">X_{i}</annotation></semantics></math>, where the domains of <math id="S3.SS2.p2.10.m10.1" class="ltx_Math" alttext="X_{i}" display="inline"><semantics id="S3.SS2.p2.10.m10.1a"><msub id="S3.SS2.p2.10.m10.1.1" xref="S3.SS2.p2.10.m10.1.1.cmml"><mi id="S3.SS2.p2.10.m10.1.1.2" xref="S3.SS2.p2.10.m10.1.1.2.cmml">X</mi><mi id="S3.SS2.p2.10.m10.1.1.3" xref="S3.SS2.p2.10.m10.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.10.m10.1b"><apply id="S3.SS2.p2.10.m10.1.1.cmml" xref="S3.SS2.p2.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.10.m10.1.1.1.cmml" xref="S3.SS2.p2.10.m10.1.1">subscript</csymbol><ci id="S3.SS2.p2.10.m10.1.1.2.cmml" xref="S3.SS2.p2.10.m10.1.1.2">𝑋</ci><ci id="S3.SS2.p2.10.m10.1.1.3.cmml" xref="S3.SS2.p2.10.m10.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.10.m10.1c">X_{i}</annotation></semantics></math> and <math id="S3.SS2.p2.11.m11.1" class="ltx_Math" alttext="X_{j}" display="inline"><semantics id="S3.SS2.p2.11.m11.1a"><msub id="S3.SS2.p2.11.m11.1.1" xref="S3.SS2.p2.11.m11.1.1.cmml"><mi id="S3.SS2.p2.11.m11.1.1.2" xref="S3.SS2.p2.11.m11.1.1.2.cmml">X</mi><mi id="S3.SS2.p2.11.m11.1.1.3" xref="S3.SS2.p2.11.m11.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.11.m11.1b"><apply id="S3.SS2.p2.11.m11.1.1.cmml" xref="S3.SS2.p2.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.11.m11.1.1.1.cmml" xref="S3.SS2.p2.11.m11.1.1">subscript</csymbol><ci id="S3.SS2.p2.11.m11.1.1.2.cmml" xref="S3.SS2.p2.11.m11.1.1.2">𝑋</ci><ci id="S3.SS2.p2.11.m11.1.1.3.cmml" xref="S3.SS2.p2.11.m11.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.11.m11.1c">X_{j}</annotation></semantics></math> can be either same or different. Inspired by the attention mechanism <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib32" title="" class="ltx_ref">32</a>]</cite>, we measure the spatial similarity <math id="S3.SS2.p2.12.m12.1" class="ltx_Math" alttext="S\in\mathbb{R}^{HW\times HW}" display="inline"><semantics id="S3.SS2.p2.12.m12.1a"><mrow id="S3.SS2.p2.12.m12.1.1" xref="S3.SS2.p2.12.m12.1.1.cmml"><mi id="S3.SS2.p2.12.m12.1.1.2" xref="S3.SS2.p2.12.m12.1.1.2.cmml">S</mi><mo id="S3.SS2.p2.12.m12.1.1.1" xref="S3.SS2.p2.12.m12.1.1.1.cmml">∈</mo><msup id="S3.SS2.p2.12.m12.1.1.3" xref="S3.SS2.p2.12.m12.1.1.3.cmml"><mi id="S3.SS2.p2.12.m12.1.1.3.2" xref="S3.SS2.p2.12.m12.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p2.12.m12.1.1.3.3" xref="S3.SS2.p2.12.m12.1.1.3.3.cmml"><mrow id="S3.SS2.p2.12.m12.1.1.3.3.2" xref="S3.SS2.p2.12.m12.1.1.3.3.2.cmml"><mrow id="S3.SS2.p2.12.m12.1.1.3.3.2.2" xref="S3.SS2.p2.12.m12.1.1.3.3.2.2.cmml"><mi id="S3.SS2.p2.12.m12.1.1.3.3.2.2.2" xref="S3.SS2.p2.12.m12.1.1.3.3.2.2.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p2.12.m12.1.1.3.3.2.2.1" xref="S3.SS2.p2.12.m12.1.1.3.3.2.2.1.cmml">​</mo><mi id="S3.SS2.p2.12.m12.1.1.3.3.2.2.3" xref="S3.SS2.p2.12.m12.1.1.3.3.2.2.3.cmml">W</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.12.m12.1.1.3.3.2.1" xref="S3.SS2.p2.12.m12.1.1.3.3.2.1.cmml">×</mo><mi id="S3.SS2.p2.12.m12.1.1.3.3.2.3" xref="S3.SS2.p2.12.m12.1.1.3.3.2.3.cmml">H</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS2.p2.12.m12.1.1.3.3.1" xref="S3.SS2.p2.12.m12.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p2.12.m12.1.1.3.3.3" xref="S3.SS2.p2.12.m12.1.1.3.3.3.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.12.m12.1b"><apply id="S3.SS2.p2.12.m12.1.1.cmml" xref="S3.SS2.p2.12.m12.1.1"><in id="S3.SS2.p2.12.m12.1.1.1.cmml" xref="S3.SS2.p2.12.m12.1.1.1"></in><ci id="S3.SS2.p2.12.m12.1.1.2.cmml" xref="S3.SS2.p2.12.m12.1.1.2">𝑆</ci><apply id="S3.SS2.p2.12.m12.1.1.3.cmml" xref="S3.SS2.p2.12.m12.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.12.m12.1.1.3.1.cmml" xref="S3.SS2.p2.12.m12.1.1.3">superscript</csymbol><ci id="S3.SS2.p2.12.m12.1.1.3.2.cmml" xref="S3.SS2.p2.12.m12.1.1.3.2">ℝ</ci><apply id="S3.SS2.p2.12.m12.1.1.3.3.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3"><times id="S3.SS2.p2.12.m12.1.1.3.3.1.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.1"></times><apply id="S3.SS2.p2.12.m12.1.1.3.3.2.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.2"><times id="S3.SS2.p2.12.m12.1.1.3.3.2.1.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.2.1"></times><apply id="S3.SS2.p2.12.m12.1.1.3.3.2.2.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.2.2"><times id="S3.SS2.p2.12.m12.1.1.3.3.2.2.1.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.2.2.1"></times><ci id="S3.SS2.p2.12.m12.1.1.3.3.2.2.2.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.2.2.2">𝐻</ci><ci id="S3.SS2.p2.12.m12.1.1.3.3.2.2.3.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.2.2.3">𝑊</ci></apply><ci id="S3.SS2.p2.12.m12.1.1.3.3.2.3.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.2.3">𝐻</ci></apply><ci id="S3.SS2.p2.12.m12.1.1.3.3.3.cmml" xref="S3.SS2.p2.12.m12.1.1.3.3.3">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.12.m12.1c">S\in\mathbb{R}^{HW\times HW}</annotation></semantics></math> between <math id="S3.SS2.p2.13.m13.1" class="ltx_Math" alttext="X_{i}" display="inline"><semantics id="S3.SS2.p2.13.m13.1a"><msub id="S3.SS2.p2.13.m13.1.1" xref="S3.SS2.p2.13.m13.1.1.cmml"><mi id="S3.SS2.p2.13.m13.1.1.2" xref="S3.SS2.p2.13.m13.1.1.2.cmml">X</mi><mi id="S3.SS2.p2.13.m13.1.1.3" xref="S3.SS2.p2.13.m13.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.13.m13.1b"><apply id="S3.SS2.p2.13.m13.1.1.cmml" xref="S3.SS2.p2.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.13.m13.1.1.1.cmml" xref="S3.SS2.p2.13.m13.1.1">subscript</csymbol><ci id="S3.SS2.p2.13.m13.1.1.2.cmml" xref="S3.SS2.p2.13.m13.1.1.2">𝑋</ci><ci id="S3.SS2.p2.13.m13.1.1.3.cmml" xref="S3.SS2.p2.13.m13.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.13.m13.1c">X_{i}</annotation></semantics></math> and <math id="S3.SS2.p2.14.m14.1" class="ltx_Math" alttext="X_{j}" display="inline"><semantics id="S3.SS2.p2.14.m14.1a"><msub id="S3.SS2.p2.14.m14.1.1" xref="S3.SS2.p2.14.m14.1.1.cmml"><mi id="S3.SS2.p2.14.m14.1.1.2" xref="S3.SS2.p2.14.m14.1.1.2.cmml">X</mi><mi id="S3.SS2.p2.14.m14.1.1.3" xref="S3.SS2.p2.14.m14.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.14.m14.1b"><apply id="S3.SS2.p2.14.m14.1.1.cmml" xref="S3.SS2.p2.14.m14.1.1"><csymbol cd="ambiguous" id="S3.SS2.p2.14.m14.1.1.1.cmml" xref="S3.SS2.p2.14.m14.1.1">subscript</csymbol><ci id="S3.SS2.p2.14.m14.1.1.2.cmml" xref="S3.SS2.p2.14.m14.1.1.2">𝑋</ci><ci id="S3.SS2.p2.14.m14.1.1.3.cmml" xref="S3.SS2.p2.14.m14.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.14.m14.1c">X_{j}</annotation></semantics></math> as follows:</p>
<table id="A9.EGx3" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E6"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E6.m1.1" class="ltx_Math" alttext="\displaystyle S:=\mathrm{Sim}(X_{i},X_{j})=(\theta_{q}X_{j})^{T}(\theta_{k}X_{i})," display="inline"><semantics id="S3.E6.m1.1a"><mrow id="S3.E6.m1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mrow id="S3.E6.m1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.6" xref="S3.E6.m1.1.1.1.1.6.cmml">S</mi><mo lspace="0.278em" rspace="0.278em" id="S3.E6.m1.1.1.1.1.7" xref="S3.E6.m1.1.1.1.1.7.cmml">:=</mo><mrow id="S3.E6.m1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.2.4" xref="S3.E6.m1.1.1.1.1.2.4.cmml">Sim</mi><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.2.3.cmml">​</mo><mrow id="S3.E6.m1.1.1.1.1.2.2.2" xref="S3.E6.m1.1.1.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.1.2.2.2.3" xref="S3.E6.m1.1.1.1.1.2.2.3.cmml">(</mo><msub id="S3.E6.m1.1.1.1.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.1.1.1.1.cmml"><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml">X</mi><mi id="S3.E6.m1.1.1.1.1.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E6.m1.1.1.1.1.2.2.2.4" xref="S3.E6.m1.1.1.1.1.2.2.3.cmml">,</mo><msub id="S3.E6.m1.1.1.1.1.2.2.2.2" xref="S3.E6.m1.1.1.1.1.2.2.2.2.cmml"><mi id="S3.E6.m1.1.1.1.1.2.2.2.2.2" xref="S3.E6.m1.1.1.1.1.2.2.2.2.2.cmml">X</mi><mi id="S3.E6.m1.1.1.1.1.2.2.2.2.3" xref="S3.E6.m1.1.1.1.1.2.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.E6.m1.1.1.1.1.2.2.2.5" xref="S3.E6.m1.1.1.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E6.m1.1.1.1.1.8" xref="S3.E6.m1.1.1.1.1.8.cmml">=</mo><mrow id="S3.E6.m1.1.1.1.1.4" xref="S3.E6.m1.1.1.1.1.4.cmml"><msup id="S3.E6.m1.1.1.1.1.3.1" xref="S3.E6.m1.1.1.1.1.3.1.cmml"><mrow id="S3.E6.m1.1.1.1.1.3.1.1.1" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.1.3.1.1.1.2" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.3.1.1.1.1" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.cmml"><msub id="S3.E6.m1.1.1.1.1.3.1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.2" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.2.cmml">θ</mi><mi id="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.3" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.3.1.1.1.1.1" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.3.1.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.2" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.2.cmml">X</mi><mi id="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.3" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.3.cmml">j</mi></msub></mrow><mo stretchy="false" id="S3.E6.m1.1.1.1.1.3.1.1.1.3" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.cmml">)</mo></mrow><mi id="S3.E6.m1.1.1.1.1.3.1.3" xref="S3.E6.m1.1.1.1.1.3.1.3.cmml">T</mi></msup><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.4.3" xref="S3.E6.m1.1.1.1.1.4.3.cmml">​</mo><mrow id="S3.E6.m1.1.1.1.1.4.2.1" xref="S3.E6.m1.1.1.1.1.4.2.1.1.cmml"><mo stretchy="false" id="S3.E6.m1.1.1.1.1.4.2.1.2" xref="S3.E6.m1.1.1.1.1.4.2.1.1.cmml">(</mo><mrow id="S3.E6.m1.1.1.1.1.4.2.1.1" xref="S3.E6.m1.1.1.1.1.4.2.1.1.cmml"><msub id="S3.E6.m1.1.1.1.1.4.2.1.1.2" xref="S3.E6.m1.1.1.1.1.4.2.1.1.2.cmml"><mi id="S3.E6.m1.1.1.1.1.4.2.1.1.2.2" xref="S3.E6.m1.1.1.1.1.4.2.1.1.2.2.cmml">θ</mi><mi id="S3.E6.m1.1.1.1.1.4.2.1.1.2.3" xref="S3.E6.m1.1.1.1.1.4.2.1.1.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E6.m1.1.1.1.1.4.2.1.1.1" xref="S3.E6.m1.1.1.1.1.4.2.1.1.1.cmml">​</mo><msub id="S3.E6.m1.1.1.1.1.4.2.1.1.3" xref="S3.E6.m1.1.1.1.1.4.2.1.1.3.cmml"><mi id="S3.E6.m1.1.1.1.1.4.2.1.1.3.2" xref="S3.E6.m1.1.1.1.1.4.2.1.1.3.2.cmml">X</mi><mi id="S3.E6.m1.1.1.1.1.4.2.1.1.3.3" xref="S3.E6.m1.1.1.1.1.4.2.1.1.3.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="S3.E6.m1.1.1.1.1.4.2.1.3" xref="S3.E6.m1.1.1.1.1.4.2.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E6.m1.1.1.1.2" xref="S3.E6.m1.1.1.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E6.m1.1b"><apply id="S3.E6.m1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1"><and id="S3.E6.m1.1.1.1.1a.cmml" xref="S3.E6.m1.1.1.1"></and><apply id="S3.E6.m1.1.1.1.1b.cmml" xref="S3.E6.m1.1.1.1"><csymbol cd="latexml" id="S3.E6.m1.1.1.1.1.7.cmml" xref="S3.E6.m1.1.1.1.1.7">assign</csymbol><ci id="S3.E6.m1.1.1.1.1.6.cmml" xref="S3.E6.m1.1.1.1.1.6">𝑆</ci><apply id="S3.E6.m1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.2"><times id="S3.E6.m1.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.3"></times><ci id="S3.E6.m1.1.1.1.1.2.4.cmml" xref="S3.E6.m1.1.1.1.1.2.4">Sim</ci><interval closure="open" id="S3.E6.m1.1.1.1.1.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2"><apply id="S3.E6.m1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.2">𝑋</ci><ci id="S3.E6.m1.1.1.1.1.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E6.m1.1.1.1.1.2.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.2.2.2.2.1.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.2.2.2.2.2.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.2.2">𝑋</ci><ci id="S3.E6.m1.1.1.1.1.2.2.2.2.3.cmml" xref="S3.E6.m1.1.1.1.1.2.2.2.2.3">𝑗</ci></apply></interval></apply></apply><apply id="S3.E6.m1.1.1.1.1c.cmml" xref="S3.E6.m1.1.1.1"><eq id="S3.E6.m1.1.1.1.1.8.cmml" xref="S3.E6.m1.1.1.1.1.8"></eq><share href="#S3.E6.m1.1.1.1.1.2.cmml" id="S3.E6.m1.1.1.1.1d.cmml" xref="S3.E6.m1.1.1.1"></share><apply id="S3.E6.m1.1.1.1.1.4.cmml" xref="S3.E6.m1.1.1.1.1.4"><times id="S3.E6.m1.1.1.1.1.4.3.cmml" xref="S3.E6.m1.1.1.1.1.4.3"></times><apply id="S3.E6.m1.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.1"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.1.2.cmml" xref="S3.E6.m1.1.1.1.1.3.1">superscript</csymbol><apply id="S3.E6.m1.1.1.1.1.3.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1"><times id="S3.E6.m1.1.1.1.1.3.1.1.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.1"></times><apply id="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.2">𝜃</ci><ci id="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.2.3">𝑞</ci></apply><apply id="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.2">𝑋</ci><ci id="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.3.1.1.1.1.3.3">𝑗</ci></apply></apply><ci id="S3.E6.m1.1.1.1.1.3.1.3.cmml" xref="S3.E6.m1.1.1.1.1.3.1.3">𝑇</ci></apply><apply id="S3.E6.m1.1.1.1.1.4.2.1.1.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1"><times id="S3.E6.m1.1.1.1.1.4.2.1.1.1.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.1"></times><apply id="S3.E6.m1.1.1.1.1.4.2.1.1.2.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.2"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.4.2.1.1.2.1.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.2">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.4.2.1.1.2.2.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.2.2">𝜃</ci><ci id="S3.E6.m1.1.1.1.1.4.2.1.1.2.3.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.2.3">𝑘</ci></apply><apply id="S3.E6.m1.1.1.1.1.4.2.1.1.3.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.3"><csymbol cd="ambiguous" id="S3.E6.m1.1.1.1.1.4.2.1.1.3.1.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.3">subscript</csymbol><ci id="S3.E6.m1.1.1.1.1.4.2.1.1.3.2.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.3.2">𝑋</ci><ci id="S3.E6.m1.1.1.1.1.4.2.1.1.3.3.cmml" xref="S3.E6.m1.1.1.1.1.4.2.1.1.3.3">𝑖</ci></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E6.m1.1c">\displaystyle S:=\mathrm{Sim}(X_{i},X_{j})=(\theta_{q}X_{j})^{T}(\theta_{k}X_{i}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(6)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p2.18" class="ltx_p">where <math id="S3.SS2.p2.15.m1.1" class="ltx_Math" alttext="\theta_{q}\in\mathbb{R}^{d\times C}" display="inline"><semantics id="S3.SS2.p2.15.m1.1a"><mrow id="S3.SS2.p2.15.m1.1.1" xref="S3.SS2.p2.15.m1.1.1.cmml"><msub id="S3.SS2.p2.15.m1.1.1.2" xref="S3.SS2.p2.15.m1.1.1.2.cmml"><mi id="S3.SS2.p2.15.m1.1.1.2.2" xref="S3.SS2.p2.15.m1.1.1.2.2.cmml">θ</mi><mi id="S3.SS2.p2.15.m1.1.1.2.3" xref="S3.SS2.p2.15.m1.1.1.2.3.cmml">q</mi></msub><mo id="S3.SS2.p2.15.m1.1.1.1" xref="S3.SS2.p2.15.m1.1.1.1.cmml">∈</mo><msup id="S3.SS2.p2.15.m1.1.1.3" xref="S3.SS2.p2.15.m1.1.1.3.cmml"><mi id="S3.SS2.p2.15.m1.1.1.3.2" xref="S3.SS2.p2.15.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p2.15.m1.1.1.3.3" xref="S3.SS2.p2.15.m1.1.1.3.3.cmml"><mi id="S3.SS2.p2.15.m1.1.1.3.3.2" xref="S3.SS2.p2.15.m1.1.1.3.3.2.cmml">d</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.15.m1.1.1.3.3.1" xref="S3.SS2.p2.15.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p2.15.m1.1.1.3.3.3" xref="S3.SS2.p2.15.m1.1.1.3.3.3.cmml">C</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.15.m1.1b"><apply id="S3.SS2.p2.15.m1.1.1.cmml" xref="S3.SS2.p2.15.m1.1.1"><in id="S3.SS2.p2.15.m1.1.1.1.cmml" xref="S3.SS2.p2.15.m1.1.1.1"></in><apply id="S3.SS2.p2.15.m1.1.1.2.cmml" xref="S3.SS2.p2.15.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.15.m1.1.1.2.1.cmml" xref="S3.SS2.p2.15.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.15.m1.1.1.2.2.cmml" xref="S3.SS2.p2.15.m1.1.1.2.2">𝜃</ci><ci id="S3.SS2.p2.15.m1.1.1.2.3.cmml" xref="S3.SS2.p2.15.m1.1.1.2.3">𝑞</ci></apply><apply id="S3.SS2.p2.15.m1.1.1.3.cmml" xref="S3.SS2.p2.15.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.15.m1.1.1.3.1.cmml" xref="S3.SS2.p2.15.m1.1.1.3">superscript</csymbol><ci id="S3.SS2.p2.15.m1.1.1.3.2.cmml" xref="S3.SS2.p2.15.m1.1.1.3.2">ℝ</ci><apply id="S3.SS2.p2.15.m1.1.1.3.3.cmml" xref="S3.SS2.p2.15.m1.1.1.3.3"><times id="S3.SS2.p2.15.m1.1.1.3.3.1.cmml" xref="S3.SS2.p2.15.m1.1.1.3.3.1"></times><ci id="S3.SS2.p2.15.m1.1.1.3.3.2.cmml" xref="S3.SS2.p2.15.m1.1.1.3.3.2">𝑑</ci><ci id="S3.SS2.p2.15.m1.1.1.3.3.3.cmml" xref="S3.SS2.p2.15.m1.1.1.3.3.3">𝐶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.15.m1.1c">\theta_{q}\in\mathbb{R}^{d\times C}</annotation></semantics></math>, <math id="S3.SS2.p2.16.m2.1" class="ltx_Math" alttext="\theta_{k}\in\mathbb{R}^{d\times C}" display="inline"><semantics id="S3.SS2.p2.16.m2.1a"><mrow id="S3.SS2.p2.16.m2.1.1" xref="S3.SS2.p2.16.m2.1.1.cmml"><msub id="S3.SS2.p2.16.m2.1.1.2" xref="S3.SS2.p2.16.m2.1.1.2.cmml"><mi id="S3.SS2.p2.16.m2.1.1.2.2" xref="S3.SS2.p2.16.m2.1.1.2.2.cmml">θ</mi><mi id="S3.SS2.p2.16.m2.1.1.2.3" xref="S3.SS2.p2.16.m2.1.1.2.3.cmml">k</mi></msub><mo id="S3.SS2.p2.16.m2.1.1.1" xref="S3.SS2.p2.16.m2.1.1.1.cmml">∈</mo><msup id="S3.SS2.p2.16.m2.1.1.3" xref="S3.SS2.p2.16.m2.1.1.3.cmml"><mi id="S3.SS2.p2.16.m2.1.1.3.2" xref="S3.SS2.p2.16.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p2.16.m2.1.1.3.3" xref="S3.SS2.p2.16.m2.1.1.3.3.cmml"><mi id="S3.SS2.p2.16.m2.1.1.3.3.2" xref="S3.SS2.p2.16.m2.1.1.3.3.2.cmml">d</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p2.16.m2.1.1.3.3.1" xref="S3.SS2.p2.16.m2.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p2.16.m2.1.1.3.3.3" xref="S3.SS2.p2.16.m2.1.1.3.3.3.cmml">C</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.16.m2.1b"><apply id="S3.SS2.p2.16.m2.1.1.cmml" xref="S3.SS2.p2.16.m2.1.1"><in id="S3.SS2.p2.16.m2.1.1.1.cmml" xref="S3.SS2.p2.16.m2.1.1.1"></in><apply id="S3.SS2.p2.16.m2.1.1.2.cmml" xref="S3.SS2.p2.16.m2.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p2.16.m2.1.1.2.1.cmml" xref="S3.SS2.p2.16.m2.1.1.2">subscript</csymbol><ci id="S3.SS2.p2.16.m2.1.1.2.2.cmml" xref="S3.SS2.p2.16.m2.1.1.2.2">𝜃</ci><ci id="S3.SS2.p2.16.m2.1.1.2.3.cmml" xref="S3.SS2.p2.16.m2.1.1.2.3">𝑘</ci></apply><apply id="S3.SS2.p2.16.m2.1.1.3.cmml" xref="S3.SS2.p2.16.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p2.16.m2.1.1.3.1.cmml" xref="S3.SS2.p2.16.m2.1.1.3">superscript</csymbol><ci id="S3.SS2.p2.16.m2.1.1.3.2.cmml" xref="S3.SS2.p2.16.m2.1.1.3.2">ℝ</ci><apply id="S3.SS2.p2.16.m2.1.1.3.3.cmml" xref="S3.SS2.p2.16.m2.1.1.3.3"><times id="S3.SS2.p2.16.m2.1.1.3.3.1.cmml" xref="S3.SS2.p2.16.m2.1.1.3.3.1"></times><ci id="S3.SS2.p2.16.m2.1.1.3.3.2.cmml" xref="S3.SS2.p2.16.m2.1.1.3.3.2">𝑑</ci><ci id="S3.SS2.p2.16.m2.1.1.3.3.3.cmml" xref="S3.SS2.p2.16.m2.1.1.3.3.3">𝐶</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.16.m2.1c">\theta_{k}\in\mathbb{R}^{d\times C}</annotation></semantics></math> are the learnable parameters trained to extract important information
in each class from the given samples and <math id="S3.SS2.p2.17.m3.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S3.SS2.p2.17.m3.1a"><mi id="S3.SS2.p2.17.m3.1.1" xref="S3.SS2.p2.17.m3.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.17.m3.1b"><ci id="S3.SS2.p2.17.m3.1.1.cmml" xref="S3.SS2.p2.17.m3.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.17.m3.1c">d</annotation></semantics></math> is the embedding size of queries <math id="S3.SS2.p2.18.m4.1" class="ltx_Math" alttext="Q=\theta_{q}X_{j}" display="inline"><semantics id="S3.SS2.p2.18.m4.1a"><mrow id="S3.SS2.p2.18.m4.1.1" xref="S3.SS2.p2.18.m4.1.1.cmml"><mi id="S3.SS2.p2.18.m4.1.1.2" xref="S3.SS2.p2.18.m4.1.1.2.cmml">Q</mi><mo id="S3.SS2.p2.18.m4.1.1.1" xref="S3.SS2.p2.18.m4.1.1.1.cmml">=</mo><mrow id="S3.SS2.p2.18.m4.1.1.3" xref="S3.SS2.p2.18.m4.1.1.3.cmml"><msub id="S3.SS2.p2.18.m4.1.1.3.2" xref="S3.SS2.p2.18.m4.1.1.3.2.cmml"><mi id="S3.SS2.p2.18.m4.1.1.3.2.2" xref="S3.SS2.p2.18.m4.1.1.3.2.2.cmml">θ</mi><mi id="S3.SS2.p2.18.m4.1.1.3.2.3" xref="S3.SS2.p2.18.m4.1.1.3.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p2.18.m4.1.1.3.1" xref="S3.SS2.p2.18.m4.1.1.3.1.cmml">​</mo><msub id="S3.SS2.p2.18.m4.1.1.3.3" xref="S3.SS2.p2.18.m4.1.1.3.3.cmml"><mi id="S3.SS2.p2.18.m4.1.1.3.3.2" xref="S3.SS2.p2.18.m4.1.1.3.3.2.cmml">X</mi><mi id="S3.SS2.p2.18.m4.1.1.3.3.3" xref="S3.SS2.p2.18.m4.1.1.3.3.3.cmml">j</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p2.18.m4.1b"><apply id="S3.SS2.p2.18.m4.1.1.cmml" xref="S3.SS2.p2.18.m4.1.1"><eq id="S3.SS2.p2.18.m4.1.1.1.cmml" xref="S3.SS2.p2.18.m4.1.1.1"></eq><ci id="S3.SS2.p2.18.m4.1.1.2.cmml" xref="S3.SS2.p2.18.m4.1.1.2">𝑄</ci><apply id="S3.SS2.p2.18.m4.1.1.3.cmml" xref="S3.SS2.p2.18.m4.1.1.3"><times id="S3.SS2.p2.18.m4.1.1.3.1.cmml" xref="S3.SS2.p2.18.m4.1.1.3.1"></times><apply id="S3.SS2.p2.18.m4.1.1.3.2.cmml" xref="S3.SS2.p2.18.m4.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p2.18.m4.1.1.3.2.1.cmml" xref="S3.SS2.p2.18.m4.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p2.18.m4.1.1.3.2.2.cmml" xref="S3.SS2.p2.18.m4.1.1.3.2.2">𝜃</ci><ci id="S3.SS2.p2.18.m4.1.1.3.2.3.cmml" xref="S3.SS2.p2.18.m4.1.1.3.2.3">𝑞</ci></apply><apply id="S3.SS2.p2.18.m4.1.1.3.3.cmml" xref="S3.SS2.p2.18.m4.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p2.18.m4.1.1.3.3.1.cmml" xref="S3.SS2.p2.18.m4.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p2.18.m4.1.1.3.3.2.cmml" xref="S3.SS2.p2.18.m4.1.1.3.3.2">𝑋</ci><ci id="S3.SS2.p2.18.m4.1.1.3.3.3.cmml" xref="S3.SS2.p2.18.m4.1.1.3.3.3">𝑗</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p2.18.m4.1c">Q=\theta_{q}X_{j}</annotation></semantics></math> and</p>
</div>
<figure id="S3.F3" class="ltx_figure ltx_align_floatright"><img src="/html/2311.00227/assets/x4.png" id="S3.F3.g1" class="ltx_graphics ltx_centering ltx_img_landscape" width="240" height="131" alt="Refer to caption">
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S3.F3.3.1.1" class="ltx_text" style="font-size:90%;">Figure 3</span>: </span><span id="S3.F3.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Proposed attention-based feature highlighter (Sec. <a href="#S3.SS2" title="3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>):<span id="S3.F3.4.2.1" class="ltx_text ltx_font_medium"> Our attention-based learning captures important characteristics within each class (regardless of the domain) for better generalization.</span></span></figcaption>
</figure>
<div id="S3.SS2.p3" class="ltx_para">
<p id="S3.SS2.p3.16" class="ltx_p">keys <math id="S3.SS2.p3.1.m1.1" class="ltx_Math" alttext="K=\theta_{k}X_{i}" display="inline"><semantics id="S3.SS2.p3.1.m1.1a"><mrow id="S3.SS2.p3.1.m1.1.1" xref="S3.SS2.p3.1.m1.1.1.cmml"><mi id="S3.SS2.p3.1.m1.1.1.2" xref="S3.SS2.p3.1.m1.1.1.2.cmml">K</mi><mo id="S3.SS2.p3.1.m1.1.1.1" xref="S3.SS2.p3.1.m1.1.1.1.cmml">=</mo><mrow id="S3.SS2.p3.1.m1.1.1.3" xref="S3.SS2.p3.1.m1.1.1.3.cmml"><msub id="S3.SS2.p3.1.m1.1.1.3.2" xref="S3.SS2.p3.1.m1.1.1.3.2.cmml"><mi id="S3.SS2.p3.1.m1.1.1.3.2.2" xref="S3.SS2.p3.1.m1.1.1.3.2.2.cmml">θ</mi><mi id="S3.SS2.p3.1.m1.1.1.3.2.3" xref="S3.SS2.p3.1.m1.1.1.3.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.SS2.p3.1.m1.1.1.3.1" xref="S3.SS2.p3.1.m1.1.1.3.1.cmml">​</mo><msub id="S3.SS2.p3.1.m1.1.1.3.3" xref="S3.SS2.p3.1.m1.1.1.3.3.cmml"><mi id="S3.SS2.p3.1.m1.1.1.3.3.2" xref="S3.SS2.p3.1.m1.1.1.3.3.2.cmml">X</mi><mi id="S3.SS2.p3.1.m1.1.1.3.3.3" xref="S3.SS2.p3.1.m1.1.1.3.3.3.cmml">i</mi></msub></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.1.m1.1b"><apply id="S3.SS2.p3.1.m1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1"><eq id="S3.SS2.p3.1.m1.1.1.1.cmml" xref="S3.SS2.p3.1.m1.1.1.1"></eq><ci id="S3.SS2.p3.1.m1.1.1.2.cmml" xref="S3.SS2.p3.1.m1.1.1.2">𝐾</ci><apply id="S3.SS2.p3.1.m1.1.1.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3"><times id="S3.SS2.p3.1.m1.1.1.3.1.cmml" xref="S3.SS2.p3.1.m1.1.1.3.1"></times><apply id="S3.SS2.p3.1.m1.1.1.3.2.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.3.2.1.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.3.2.2.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2.2">𝜃</ci><ci id="S3.SS2.p3.1.m1.1.1.3.2.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3.2.3">𝑘</ci></apply><apply id="S3.SS2.p3.1.m1.1.1.3.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3"><csymbol cd="ambiguous" id="S3.SS2.p3.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3">subscript</csymbol><ci id="S3.SS2.p3.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3.2">𝑋</ci><ci id="S3.SS2.p3.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p3.1.m1.1.1.3.3.3">𝑖</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.1.m1.1c">K=\theta_{k}X_{i}</annotation></semantics></math>. Then, we reshape <math id="S3.SS2.p3.2.m2.1" class="ltx_Math" alttext="S\in\mathbb{R}^{HW\times HW}" display="inline"><semantics id="S3.SS2.p3.2.m2.1a"><mrow id="S3.SS2.p3.2.m2.1.1" xref="S3.SS2.p3.2.m2.1.1.cmml"><mi id="S3.SS2.p3.2.m2.1.1.2" xref="S3.SS2.p3.2.m2.1.1.2.cmml">S</mi><mo id="S3.SS2.p3.2.m2.1.1.1" xref="S3.SS2.p3.2.m2.1.1.1.cmml">∈</mo><msup id="S3.SS2.p3.2.m2.1.1.3" xref="S3.SS2.p3.2.m2.1.1.3.cmml"><mi id="S3.SS2.p3.2.m2.1.1.3.2" xref="S3.SS2.p3.2.m2.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p3.2.m2.1.1.3.3" xref="S3.SS2.p3.2.m2.1.1.3.3.cmml"><mrow id="S3.SS2.p3.2.m2.1.1.3.3.2" xref="S3.SS2.p3.2.m2.1.1.3.3.2.cmml"><mrow id="S3.SS2.p3.2.m2.1.1.3.3.2.2" xref="S3.SS2.p3.2.m2.1.1.3.3.2.2.cmml"><mi id="S3.SS2.p3.2.m2.1.1.3.3.2.2.2" xref="S3.SS2.p3.2.m2.1.1.3.3.2.2.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.2.m2.1.1.3.3.2.2.1" xref="S3.SS2.p3.2.m2.1.1.3.3.2.2.1.cmml">​</mo><mi id="S3.SS2.p3.2.m2.1.1.3.3.2.2.3" xref="S3.SS2.p3.2.m2.1.1.3.3.2.2.3.cmml">W</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.2.m2.1.1.3.3.2.1" xref="S3.SS2.p3.2.m2.1.1.3.3.2.1.cmml">×</mo><mi id="S3.SS2.p3.2.m2.1.1.3.3.2.3" xref="S3.SS2.p3.2.m2.1.1.3.3.2.3.cmml">H</mi></mrow><mo lspace="0em" rspace="0em" id="S3.SS2.p3.2.m2.1.1.3.3.1" xref="S3.SS2.p3.2.m2.1.1.3.3.1.cmml">​</mo><mi id="S3.SS2.p3.2.m2.1.1.3.3.3" xref="S3.SS2.p3.2.m2.1.1.3.3.3.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.2.m2.1b"><apply id="S3.SS2.p3.2.m2.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1"><in id="S3.SS2.p3.2.m2.1.1.1.cmml" xref="S3.SS2.p3.2.m2.1.1.1"></in><ci id="S3.SS2.p3.2.m2.1.1.2.cmml" xref="S3.SS2.p3.2.m2.1.1.2">𝑆</ci><apply id="S3.SS2.p3.2.m2.1.1.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.2.m2.1.1.3.1.cmml" xref="S3.SS2.p3.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS2.p3.2.m2.1.1.3.2.cmml" xref="S3.SS2.p3.2.m2.1.1.3.2">ℝ</ci><apply id="S3.SS2.p3.2.m2.1.1.3.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3"><times id="S3.SS2.p3.2.m2.1.1.3.3.1.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.1"></times><apply id="S3.SS2.p3.2.m2.1.1.3.3.2.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.2"><times id="S3.SS2.p3.2.m2.1.1.3.3.2.1.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.2.1"></times><apply id="S3.SS2.p3.2.m2.1.1.3.3.2.2.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.2.2"><times id="S3.SS2.p3.2.m2.1.1.3.3.2.2.1.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.2.2.1"></times><ci id="S3.SS2.p3.2.m2.1.1.3.3.2.2.2.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.2.2.2">𝐻</ci><ci id="S3.SS2.p3.2.m2.1.1.3.3.2.2.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.2.2.3">𝑊</ci></apply><ci id="S3.SS2.p3.2.m2.1.1.3.3.2.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.2.3">𝐻</ci></apply><ci id="S3.SS2.p3.2.m2.1.1.3.3.3.cmml" xref="S3.SS2.p3.2.m2.1.1.3.3.3">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.2.m2.1c">S\in\mathbb{R}^{HW\times HW}</annotation></semantics></math> to <math id="S3.SS2.p3.3.m3.1" class="ltx_Math" alttext="S_{r}\in\mathbb{R}^{HW\times H\times W}" display="inline"><semantics id="S3.SS2.p3.3.m3.1a"><mrow id="S3.SS2.p3.3.m3.1.1" xref="S3.SS2.p3.3.m3.1.1.cmml"><msub id="S3.SS2.p3.3.m3.1.1.2" xref="S3.SS2.p3.3.m3.1.1.2.cmml"><mi id="S3.SS2.p3.3.m3.1.1.2.2" xref="S3.SS2.p3.3.m3.1.1.2.2.cmml">S</mi><mi id="S3.SS2.p3.3.m3.1.1.2.3" xref="S3.SS2.p3.3.m3.1.1.2.3.cmml">r</mi></msub><mo id="S3.SS2.p3.3.m3.1.1.1" xref="S3.SS2.p3.3.m3.1.1.1.cmml">∈</mo><msup id="S3.SS2.p3.3.m3.1.1.3" xref="S3.SS2.p3.3.m3.1.1.3.cmml"><mi id="S3.SS2.p3.3.m3.1.1.3.2" xref="S3.SS2.p3.3.m3.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p3.3.m3.1.1.3.3" xref="S3.SS2.p3.3.m3.1.1.3.3.cmml"><mrow id="S3.SS2.p3.3.m3.1.1.3.3.2" xref="S3.SS2.p3.3.m3.1.1.3.3.2.cmml"><mi id="S3.SS2.p3.3.m3.1.1.3.3.2.2" xref="S3.SS2.p3.3.m3.1.1.3.3.2.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.3.m3.1.1.3.3.2.1" xref="S3.SS2.p3.3.m3.1.1.3.3.2.1.cmml">​</mo><mi id="S3.SS2.p3.3.m3.1.1.3.3.2.3" xref="S3.SS2.p3.3.m3.1.1.3.3.2.3.cmml">W</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.3.m3.1.1.3.3.1" xref="S3.SS2.p3.3.m3.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p3.3.m3.1.1.3.3.3" xref="S3.SS2.p3.3.m3.1.1.3.3.3.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.3.m3.1.1.3.3.1a" xref="S3.SS2.p3.3.m3.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p3.3.m3.1.1.3.3.4" xref="S3.SS2.p3.3.m3.1.1.3.3.4.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.3.m3.1b"><apply id="S3.SS2.p3.3.m3.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1"><in id="S3.SS2.p3.3.m3.1.1.1.cmml" xref="S3.SS2.p3.3.m3.1.1.1"></in><apply id="S3.SS2.p3.3.m3.1.1.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.2.1.cmml" xref="S3.SS2.p3.3.m3.1.1.2">subscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.2.2.cmml" xref="S3.SS2.p3.3.m3.1.1.2.2">𝑆</ci><ci id="S3.SS2.p3.3.m3.1.1.2.3.cmml" xref="S3.SS2.p3.3.m3.1.1.2.3">𝑟</ci></apply><apply id="S3.SS2.p3.3.m3.1.1.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.3.m3.1.1.3.1.cmml" xref="S3.SS2.p3.3.m3.1.1.3">superscript</csymbol><ci id="S3.SS2.p3.3.m3.1.1.3.2.cmml" xref="S3.SS2.p3.3.m3.1.1.3.2">ℝ</ci><apply id="S3.SS2.p3.3.m3.1.1.3.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3"><times id="S3.SS2.p3.3.m3.1.1.3.3.1.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3.1"></times><apply id="S3.SS2.p3.3.m3.1.1.3.3.2.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3.2"><times id="S3.SS2.p3.3.m3.1.1.3.3.2.1.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3.2.1"></times><ci id="S3.SS2.p3.3.m3.1.1.3.3.2.2.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3.2.2">𝐻</ci><ci id="S3.SS2.p3.3.m3.1.1.3.3.2.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3.2.3">𝑊</ci></apply><ci id="S3.SS2.p3.3.m3.1.1.3.3.3.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3.3">𝐻</ci><ci id="S3.SS2.p3.3.m3.1.1.3.3.4.cmml" xref="S3.SS2.p3.3.m3.1.1.3.3.4">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.3.m3.1c">S_{r}\in\mathbb{R}^{HW\times H\times W}</annotation></semantics></math>; the <math id="S3.SS2.p3.4.m4.2" class="ltx_Math" alttext="(m,n)" display="inline"><semantics id="S3.SS2.p3.4.m4.2a"><mrow id="S3.SS2.p3.4.m4.2.3.2" xref="S3.SS2.p3.4.m4.2.3.1.cmml"><mo stretchy="false" id="S3.SS2.p3.4.m4.2.3.2.1" xref="S3.SS2.p3.4.m4.2.3.1.cmml">(</mo><mi id="S3.SS2.p3.4.m4.1.1" xref="S3.SS2.p3.4.m4.1.1.cmml">m</mi><mo id="S3.SS2.p3.4.m4.2.3.2.2" xref="S3.SS2.p3.4.m4.2.3.1.cmml">,</mo><mi id="S3.SS2.p3.4.m4.2.2" xref="S3.SS2.p3.4.m4.2.2.cmml">n</mi><mo stretchy="false" id="S3.SS2.p3.4.m4.2.3.2.3" xref="S3.SS2.p3.4.m4.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.4.m4.2b"><interval closure="open" id="S3.SS2.p3.4.m4.2.3.1.cmml" xref="S3.SS2.p3.4.m4.2.3.2"><ci id="S3.SS2.p3.4.m4.1.1.cmml" xref="S3.SS2.p3.4.m4.1.1">𝑚</ci><ci id="S3.SS2.p3.4.m4.2.2.cmml" xref="S3.SS2.p3.4.m4.2.2">𝑛</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.4.m4.2c">(m,n)</annotation></semantics></math>-th spatial feature (<math id="S3.SS2.p3.5.m5.1" class="ltx_Math" alttext="\in\mathbb{R}^{HW\times 1\times 1}" display="inline"><semantics id="S3.SS2.p3.5.m5.1a"><mrow id="S3.SS2.p3.5.m5.1.1" xref="S3.SS2.p3.5.m5.1.1.cmml"><mi id="S3.SS2.p3.5.m5.1.1.2" xref="S3.SS2.p3.5.m5.1.1.2.cmml"></mi><mo id="S3.SS2.p3.5.m5.1.1.1" xref="S3.SS2.p3.5.m5.1.1.1.cmml">∈</mo><msup id="S3.SS2.p3.5.m5.1.1.3" xref="S3.SS2.p3.5.m5.1.1.3.cmml"><mi id="S3.SS2.p3.5.m5.1.1.3.2" xref="S3.SS2.p3.5.m5.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p3.5.m5.1.1.3.3" xref="S3.SS2.p3.5.m5.1.1.3.3.cmml"><mrow id="S3.SS2.p3.5.m5.1.1.3.3.2" xref="S3.SS2.p3.5.m5.1.1.3.3.2.cmml"><mi id="S3.SS2.p3.5.m5.1.1.3.3.2.2" xref="S3.SS2.p3.5.m5.1.1.3.3.2.2.cmml">H</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.5.m5.1.1.3.3.2.1" xref="S3.SS2.p3.5.m5.1.1.3.3.2.1.cmml">​</mo><mi id="S3.SS2.p3.5.m5.1.1.3.3.2.3" xref="S3.SS2.p3.5.m5.1.1.3.3.2.3.cmml">W</mi></mrow><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.5.m5.1.1.3.3.1" xref="S3.SS2.p3.5.m5.1.1.3.3.1.cmml">×</mo><mn id="S3.SS2.p3.5.m5.1.1.3.3.3" xref="S3.SS2.p3.5.m5.1.1.3.3.3.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.5.m5.1.1.3.3.1a" xref="S3.SS2.p3.5.m5.1.1.3.3.1.cmml">×</mo><mn id="S3.SS2.p3.5.m5.1.1.3.3.4" xref="S3.SS2.p3.5.m5.1.1.3.3.4.cmml">1</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.5.m5.1b"><apply id="S3.SS2.p3.5.m5.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1"><in id="S3.SS2.p3.5.m5.1.1.1.cmml" xref="S3.SS2.p3.5.m5.1.1.1"></in><csymbol cd="latexml" id="S3.SS2.p3.5.m5.1.1.2.cmml" xref="S3.SS2.p3.5.m5.1.1.2">absent</csymbol><apply id="S3.SS2.p3.5.m5.1.1.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.5.m5.1.1.3.1.cmml" xref="S3.SS2.p3.5.m5.1.1.3">superscript</csymbol><ci id="S3.SS2.p3.5.m5.1.1.3.2.cmml" xref="S3.SS2.p3.5.m5.1.1.3.2">ℝ</ci><apply id="S3.SS2.p3.5.m5.1.1.3.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3"><times id="S3.SS2.p3.5.m5.1.1.3.3.1.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3.1"></times><apply id="S3.SS2.p3.5.m5.1.1.3.3.2.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3.2"><times id="S3.SS2.p3.5.m5.1.1.3.3.2.1.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3.2.1"></times><ci id="S3.SS2.p3.5.m5.1.1.3.3.2.2.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3.2.2">𝐻</ci><ci id="S3.SS2.p3.5.m5.1.1.3.3.2.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3.2.3">𝑊</ci></apply><cn type="integer" id="S3.SS2.p3.5.m5.1.1.3.3.3.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3.3">1</cn><cn type="integer" id="S3.SS2.p3.5.m5.1.1.3.3.4.cmml" xref="S3.SS2.p3.5.m5.1.1.3.3.4">1</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.5.m5.1c">\in\mathbb{R}^{HW\times 1\times 1}</annotation></semantics></math>) of <math id="S3.SS2.p3.6.m6.1" class="ltx_Math" alttext="S_{r}" display="inline"><semantics id="S3.SS2.p3.6.m6.1a"><msub id="S3.SS2.p3.6.m6.1.1" xref="S3.SS2.p3.6.m6.1.1.cmml"><mi id="S3.SS2.p3.6.m6.1.1.2" xref="S3.SS2.p3.6.m6.1.1.2.cmml">S</mi><mi id="S3.SS2.p3.6.m6.1.1.3" xref="S3.SS2.p3.6.m6.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.6.m6.1b"><apply id="S3.SS2.p3.6.m6.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.6.m6.1.1.1.cmml" xref="S3.SS2.p3.6.m6.1.1">subscript</csymbol><ci id="S3.SS2.p3.6.m6.1.1.2.cmml" xref="S3.SS2.p3.6.m6.1.1.2">𝑆</ci><ci id="S3.SS2.p3.6.m6.1.1.3.cmml" xref="S3.SS2.p3.6.m6.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.6.m6.1c">S_{r}</annotation></semantics></math> represents the similarity between the <math id="S3.SS2.p3.7.m7.2" class="ltx_Math" alttext="(m,n)" display="inline"><semantics id="S3.SS2.p3.7.m7.2a"><mrow id="S3.SS2.p3.7.m7.2.3.2" xref="S3.SS2.p3.7.m7.2.3.1.cmml"><mo stretchy="false" id="S3.SS2.p3.7.m7.2.3.2.1" xref="S3.SS2.p3.7.m7.2.3.1.cmml">(</mo><mi id="S3.SS2.p3.7.m7.1.1" xref="S3.SS2.p3.7.m7.1.1.cmml">m</mi><mo id="S3.SS2.p3.7.m7.2.3.2.2" xref="S3.SS2.p3.7.m7.2.3.1.cmml">,</mo><mi id="S3.SS2.p3.7.m7.2.2" xref="S3.SS2.p3.7.m7.2.2.cmml">n</mi><mo stretchy="false" id="S3.SS2.p3.7.m7.2.3.2.3" xref="S3.SS2.p3.7.m7.2.3.1.cmml">)</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.7.m7.2b"><interval closure="open" id="S3.SS2.p3.7.m7.2.3.1.cmml" xref="S3.SS2.p3.7.m7.2.3.2"><ci id="S3.SS2.p3.7.m7.1.1.cmml" xref="S3.SS2.p3.7.m7.1.1">𝑚</ci><ci id="S3.SS2.p3.7.m7.2.2.cmml" xref="S3.SS2.p3.7.m7.2.2">𝑛</ci></interval></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.7.m7.2c">(m,n)</annotation></semantics></math>-th spatial feature of the key feature <math id="S3.SS2.p3.8.m8.1" class="ltx_Math" alttext="X_{i}" display="inline"><semantics id="S3.SS2.p3.8.m8.1a"><msub id="S3.SS2.p3.8.m8.1.1" xref="S3.SS2.p3.8.m8.1.1.cmml"><mi id="S3.SS2.p3.8.m8.1.1.2" xref="S3.SS2.p3.8.m8.1.1.2.cmml">X</mi><mi id="S3.SS2.p3.8.m8.1.1.3" xref="S3.SS2.p3.8.m8.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.8.m8.1b"><apply id="S3.SS2.p3.8.m8.1.1.cmml" xref="S3.SS2.p3.8.m8.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.8.m8.1.1.1.cmml" xref="S3.SS2.p3.8.m8.1.1">subscript</csymbol><ci id="S3.SS2.p3.8.m8.1.1.2.cmml" xref="S3.SS2.p3.8.m8.1.1.2">𝑋</ci><ci id="S3.SS2.p3.8.m8.1.1.3.cmml" xref="S3.SS2.p3.8.m8.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.8.m8.1c">X_{i}</annotation></semantics></math> and the overall spatial feature of the query feature <math id="S3.SS2.p3.9.m9.1" class="ltx_Math" alttext="X_{j}" display="inline"><semantics id="S3.SS2.p3.9.m9.1a"><msub id="S3.SS2.p3.9.m9.1.1" xref="S3.SS2.p3.9.m9.1.1.cmml"><mi id="S3.SS2.p3.9.m9.1.1.2" xref="S3.SS2.p3.9.m9.1.1.2.cmml">X</mi><mi id="S3.SS2.p3.9.m9.1.1.3" xref="S3.SS2.p3.9.m9.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.9.m9.1b"><apply id="S3.SS2.p3.9.m9.1.1.cmml" xref="S3.SS2.p3.9.m9.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.9.m9.1.1.1.cmml" xref="S3.SS2.p3.9.m9.1.1">subscript</csymbol><ci id="S3.SS2.p3.9.m9.1.1.2.cmml" xref="S3.SS2.p3.9.m9.1.1.2">𝑋</ci><ci id="S3.SS2.p3.9.m9.1.1.3.cmml" xref="S3.SS2.p3.9.m9.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.9.m9.1c">X_{j}</annotation></semantics></math>. Then by taking the mean of <math id="S3.SS2.p3.10.m10.1" class="ltx_Math" alttext="S_{r}" display="inline"><semantics id="S3.SS2.p3.10.m10.1a"><msub id="S3.SS2.p3.10.m10.1.1" xref="S3.SS2.p3.10.m10.1.1.cmml"><mi id="S3.SS2.p3.10.m10.1.1.2" xref="S3.SS2.p3.10.m10.1.1.2.cmml">S</mi><mi id="S3.SS2.p3.10.m10.1.1.3" xref="S3.SS2.p3.10.m10.1.1.3.cmml">r</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.10.m10.1b"><apply id="S3.SS2.p3.10.m10.1.1.cmml" xref="S3.SS2.p3.10.m10.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.10.m10.1.1.1.cmml" xref="S3.SS2.p3.10.m10.1.1">subscript</csymbol><ci id="S3.SS2.p3.10.m10.1.1.2.cmml" xref="S3.SS2.p3.10.m10.1.1.2">𝑆</ci><ci id="S3.SS2.p3.10.m10.1.1.3.cmml" xref="S3.SS2.p3.10.m10.1.1.3">𝑟</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.10.m10.1c">S_{r}</annotation></semantics></math> along the first dimension, we obtain the <span id="S3.SS2.p3.16.1" class="ltx_text ltx_font_italic">attention score</span> <math id="S3.SS2.p3.11.m11.1" class="ltx_Math" alttext="a_{s}" display="inline"><semantics id="S3.SS2.p3.11.m11.1a"><msub id="S3.SS2.p3.11.m11.1.1" xref="S3.SS2.p3.11.m11.1.1.cmml"><mi id="S3.SS2.p3.11.m11.1.1.2" xref="S3.SS2.p3.11.m11.1.1.2.cmml">a</mi><mi id="S3.SS2.p3.11.m11.1.1.3" xref="S3.SS2.p3.11.m11.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.11.m11.1b"><apply id="S3.SS2.p3.11.m11.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.11.m11.1.1.1.cmml" xref="S3.SS2.p3.11.m11.1.1">subscript</csymbol><ci id="S3.SS2.p3.11.m11.1.1.2.cmml" xref="S3.SS2.p3.11.m11.1.1.2">𝑎</ci><ci id="S3.SS2.p3.11.m11.1.1.3.cmml" xref="S3.SS2.p3.11.m11.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.11.m11.1c">a_{s}</annotation></semantics></math>, which represents how the spatial feature at each location of key <math id="S3.SS2.p3.12.m12.1" class="ltx_Math" alttext="X_{i}" display="inline"><semantics id="S3.SS2.p3.12.m12.1a"><msub id="S3.SS2.p3.12.m12.1.1" xref="S3.SS2.p3.12.m12.1.1.cmml"><mi id="S3.SS2.p3.12.m12.1.1.2" xref="S3.SS2.p3.12.m12.1.1.2.cmml">X</mi><mi id="S3.SS2.p3.12.m12.1.1.3" xref="S3.SS2.p3.12.m12.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.12.m12.1b"><apply id="S3.SS2.p3.12.m12.1.1.cmml" xref="S3.SS2.p3.12.m12.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.12.m12.1.1.1.cmml" xref="S3.SS2.p3.12.m12.1.1">subscript</csymbol><ci id="S3.SS2.p3.12.m12.1.1.2.cmml" xref="S3.SS2.p3.12.m12.1.1.2">𝑋</ci><ci id="S3.SS2.p3.12.m12.1.1.3.cmml" xref="S3.SS2.p3.12.m12.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.12.m12.1c">X_{i}</annotation></semantics></math> is similar to the overall features of query <math id="S3.SS2.p3.13.m13.1" class="ltx_Math" alttext="X_{j}" display="inline"><semantics id="S3.SS2.p3.13.m13.1a"><msub id="S3.SS2.p3.13.m13.1.1" xref="S3.SS2.p3.13.m13.1.1.cmml"><mi id="S3.SS2.p3.13.m13.1.1.2" xref="S3.SS2.p3.13.m13.1.1.2.cmml">X</mi><mi id="S3.SS2.p3.13.m13.1.1.3" xref="S3.SS2.p3.13.m13.1.1.3.cmml">j</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.13.m13.1b"><apply id="S3.SS2.p3.13.m13.1.1.cmml" xref="S3.SS2.p3.13.m13.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.13.m13.1.1.1.cmml" xref="S3.SS2.p3.13.m13.1.1">subscript</csymbol><ci id="S3.SS2.p3.13.m13.1.1.2.cmml" xref="S3.SS2.p3.13.m13.1.1.2">𝑋</ci><ci id="S3.SS2.p3.13.m13.1.1.3.cmml" xref="S3.SS2.p3.13.m13.1.1.3">𝑗</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.13.m13.1c">X_{j}</annotation></semantics></math>: <math id="S3.SS2.p3.14.m14.1" class="ltx_Math" alttext="a_{s}=\mathrm{mean}(S_{r})\in\mathbb{R}^{H\times W}" display="inline"><semantics id="S3.SS2.p3.14.m14.1a"><mrow id="S3.SS2.p3.14.m14.1.1" xref="S3.SS2.p3.14.m14.1.1.cmml"><msub id="S3.SS2.p3.14.m14.1.1.3" xref="S3.SS2.p3.14.m14.1.1.3.cmml"><mi id="S3.SS2.p3.14.m14.1.1.3.2" xref="S3.SS2.p3.14.m14.1.1.3.2.cmml">a</mi><mi id="S3.SS2.p3.14.m14.1.1.3.3" xref="S3.SS2.p3.14.m14.1.1.3.3.cmml">s</mi></msub><mo id="S3.SS2.p3.14.m14.1.1.4" xref="S3.SS2.p3.14.m14.1.1.4.cmml">=</mo><mrow id="S3.SS2.p3.14.m14.1.1.1" xref="S3.SS2.p3.14.m14.1.1.1.cmml"><mi id="S3.SS2.p3.14.m14.1.1.1.3" xref="S3.SS2.p3.14.m14.1.1.1.3.cmml">mean</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.14.m14.1.1.1.2" xref="S3.SS2.p3.14.m14.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p3.14.m14.1.1.1.1.1" xref="S3.SS2.p3.14.m14.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p3.14.m14.1.1.1.1.1.2" xref="S3.SS2.p3.14.m14.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p3.14.m14.1.1.1.1.1.1" xref="S3.SS2.p3.14.m14.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p3.14.m14.1.1.1.1.1.1.2" xref="S3.SS2.p3.14.m14.1.1.1.1.1.1.2.cmml">S</mi><mi id="S3.SS2.p3.14.m14.1.1.1.1.1.1.3" xref="S3.SS2.p3.14.m14.1.1.1.1.1.1.3.cmml">r</mi></msub><mo stretchy="false" id="S3.SS2.p3.14.m14.1.1.1.1.1.3" xref="S3.SS2.p3.14.m14.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p3.14.m14.1.1.5" xref="S3.SS2.p3.14.m14.1.1.5.cmml">∈</mo><msup id="S3.SS2.p3.14.m14.1.1.6" xref="S3.SS2.p3.14.m14.1.1.6.cmml"><mi id="S3.SS2.p3.14.m14.1.1.6.2" xref="S3.SS2.p3.14.m14.1.1.6.2.cmml">ℝ</mi><mrow id="S3.SS2.p3.14.m14.1.1.6.3" xref="S3.SS2.p3.14.m14.1.1.6.3.cmml"><mi id="S3.SS2.p3.14.m14.1.1.6.3.2" xref="S3.SS2.p3.14.m14.1.1.6.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.14.m14.1.1.6.3.1" xref="S3.SS2.p3.14.m14.1.1.6.3.1.cmml">×</mo><mi id="S3.SS2.p3.14.m14.1.1.6.3.3" xref="S3.SS2.p3.14.m14.1.1.6.3.3.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.14.m14.1b"><apply id="S3.SS2.p3.14.m14.1.1.cmml" xref="S3.SS2.p3.14.m14.1.1"><and id="S3.SS2.p3.14.m14.1.1a.cmml" xref="S3.SS2.p3.14.m14.1.1"></and><apply id="S3.SS2.p3.14.m14.1.1b.cmml" xref="S3.SS2.p3.14.m14.1.1"><eq id="S3.SS2.p3.14.m14.1.1.4.cmml" xref="S3.SS2.p3.14.m14.1.1.4"></eq><apply id="S3.SS2.p3.14.m14.1.1.3.cmml" xref="S3.SS2.p3.14.m14.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.14.m14.1.1.3.1.cmml" xref="S3.SS2.p3.14.m14.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.14.m14.1.1.3.2.cmml" xref="S3.SS2.p3.14.m14.1.1.3.2">𝑎</ci><ci id="S3.SS2.p3.14.m14.1.1.3.3.cmml" xref="S3.SS2.p3.14.m14.1.1.3.3">𝑠</ci></apply><apply id="S3.SS2.p3.14.m14.1.1.1.cmml" xref="S3.SS2.p3.14.m14.1.1.1"><times id="S3.SS2.p3.14.m14.1.1.1.2.cmml" xref="S3.SS2.p3.14.m14.1.1.1.2"></times><ci id="S3.SS2.p3.14.m14.1.1.1.3.cmml" xref="S3.SS2.p3.14.m14.1.1.1.3">mean</ci><apply id="S3.SS2.p3.14.m14.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.14.m14.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.14.m14.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.14.m14.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.14.m14.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.14.m14.1.1.1.1.1.1.2">𝑆</ci><ci id="S3.SS2.p3.14.m14.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.14.m14.1.1.1.1.1.1.3">𝑟</ci></apply></apply></apply><apply id="S3.SS2.p3.14.m14.1.1c.cmml" xref="S3.SS2.p3.14.m14.1.1"><in id="S3.SS2.p3.14.m14.1.1.5.cmml" xref="S3.SS2.p3.14.m14.1.1.5"></in><share href="#S3.SS2.p3.14.m14.1.1.1.cmml" id="S3.SS2.p3.14.m14.1.1d.cmml" xref="S3.SS2.p3.14.m14.1.1"></share><apply id="S3.SS2.p3.14.m14.1.1.6.cmml" xref="S3.SS2.p3.14.m14.1.1.6"><csymbol cd="ambiguous" id="S3.SS2.p3.14.m14.1.1.6.1.cmml" xref="S3.SS2.p3.14.m14.1.1.6">superscript</csymbol><ci id="S3.SS2.p3.14.m14.1.1.6.2.cmml" xref="S3.SS2.p3.14.m14.1.1.6.2">ℝ</ci><apply id="S3.SS2.p3.14.m14.1.1.6.3.cmml" xref="S3.SS2.p3.14.m14.1.1.6.3"><times id="S3.SS2.p3.14.m14.1.1.6.3.1.cmml" xref="S3.SS2.p3.14.m14.1.1.6.3.1"></times><ci id="S3.SS2.p3.14.m14.1.1.6.3.2.cmml" xref="S3.SS2.p3.14.m14.1.1.6.3.2">𝐻</ci><ci id="S3.SS2.p3.14.m14.1.1.6.3.3.cmml" xref="S3.SS2.p3.14.m14.1.1.6.3.3">𝑊</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.14.m14.1c">a_{s}=\mathrm{mean}(S_{r})\in\mathbb{R}^{H\times W}</annotation></semantics></math>. A higher score <math id="S3.SS2.p3.15.m15.1" class="ltx_Math" alttext="a_{s}" display="inline"><semantics id="S3.SS2.p3.15.m15.1a"><msub id="S3.SS2.p3.15.m15.1.1" xref="S3.SS2.p3.15.m15.1.1.cmml"><mi id="S3.SS2.p3.15.m15.1.1.2" xref="S3.SS2.p3.15.m15.1.1.2.cmml">a</mi><mi id="S3.SS2.p3.15.m15.1.1.3" xref="S3.SS2.p3.15.m15.1.1.3.cmml">s</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.15.m15.1b"><apply id="S3.SS2.p3.15.m15.1.1.cmml" xref="S3.SS2.p3.15.m15.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.15.m15.1.1.1.cmml" xref="S3.SS2.p3.15.m15.1.1">subscript</csymbol><ci id="S3.SS2.p3.15.m15.1.1.2.cmml" xref="S3.SS2.p3.15.m15.1.1.2">𝑎</ci><ci id="S3.SS2.p3.15.m15.1.1.3.cmml" xref="S3.SS2.p3.15.m15.1.1.3">𝑠</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.15.m15.1c">a_{s}</annotation></semantics></math> indicates a higher similarity. Finally, we normalize the attention score through softmax function so that the total sum is one: <math id="S3.SS2.p3.16.m16.1" class="ltx_Math" alttext="a_{s}\leftarrow\mathrm{softmax}(a_{s})\in\mathbb{R}^{H\times W}" display="inline"><semantics id="S3.SS2.p3.16.m16.1a"><mrow id="S3.SS2.p3.16.m16.1.1" xref="S3.SS2.p3.16.m16.1.1.cmml"><msub id="S3.SS2.p3.16.m16.1.1.3" xref="S3.SS2.p3.16.m16.1.1.3.cmml"><mi id="S3.SS2.p3.16.m16.1.1.3.2" xref="S3.SS2.p3.16.m16.1.1.3.2.cmml">a</mi><mi id="S3.SS2.p3.16.m16.1.1.3.3" xref="S3.SS2.p3.16.m16.1.1.3.3.cmml">s</mi></msub><mo stretchy="false" id="S3.SS2.p3.16.m16.1.1.4" xref="S3.SS2.p3.16.m16.1.1.4.cmml">←</mo><mrow id="S3.SS2.p3.16.m16.1.1.1" xref="S3.SS2.p3.16.m16.1.1.1.cmml"><mi id="S3.SS2.p3.16.m16.1.1.1.3" xref="S3.SS2.p3.16.m16.1.1.1.3.cmml">softmax</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p3.16.m16.1.1.1.2" xref="S3.SS2.p3.16.m16.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p3.16.m16.1.1.1.1.1" xref="S3.SS2.p3.16.m16.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p3.16.m16.1.1.1.1.1.2" xref="S3.SS2.p3.16.m16.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p3.16.m16.1.1.1.1.1.1" xref="S3.SS2.p3.16.m16.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p3.16.m16.1.1.1.1.1.1.2" xref="S3.SS2.p3.16.m16.1.1.1.1.1.1.2.cmml">a</mi><mi id="S3.SS2.p3.16.m16.1.1.1.1.1.1.3" xref="S3.SS2.p3.16.m16.1.1.1.1.1.1.3.cmml">s</mi></msub><mo stretchy="false" id="S3.SS2.p3.16.m16.1.1.1.1.1.3" xref="S3.SS2.p3.16.m16.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p3.16.m16.1.1.5" xref="S3.SS2.p3.16.m16.1.1.5.cmml">∈</mo><msup id="S3.SS2.p3.16.m16.1.1.6" xref="S3.SS2.p3.16.m16.1.1.6.cmml"><mi id="S3.SS2.p3.16.m16.1.1.6.2" xref="S3.SS2.p3.16.m16.1.1.6.2.cmml">ℝ</mi><mrow id="S3.SS2.p3.16.m16.1.1.6.3" xref="S3.SS2.p3.16.m16.1.1.6.3.cmml"><mi id="S3.SS2.p3.16.m16.1.1.6.3.2" xref="S3.SS2.p3.16.m16.1.1.6.3.2.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p3.16.m16.1.1.6.3.1" xref="S3.SS2.p3.16.m16.1.1.6.3.1.cmml">×</mo><mi id="S3.SS2.p3.16.m16.1.1.6.3.3" xref="S3.SS2.p3.16.m16.1.1.6.3.3.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p3.16.m16.1b"><apply id="S3.SS2.p3.16.m16.1.1.cmml" xref="S3.SS2.p3.16.m16.1.1"><and id="S3.SS2.p3.16.m16.1.1a.cmml" xref="S3.SS2.p3.16.m16.1.1"></and><apply id="S3.SS2.p3.16.m16.1.1b.cmml" xref="S3.SS2.p3.16.m16.1.1"><ci id="S3.SS2.p3.16.m16.1.1.4.cmml" xref="S3.SS2.p3.16.m16.1.1.4">←</ci><apply id="S3.SS2.p3.16.m16.1.1.3.cmml" xref="S3.SS2.p3.16.m16.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p3.16.m16.1.1.3.1.cmml" xref="S3.SS2.p3.16.m16.1.1.3">subscript</csymbol><ci id="S3.SS2.p3.16.m16.1.1.3.2.cmml" xref="S3.SS2.p3.16.m16.1.1.3.2">𝑎</ci><ci id="S3.SS2.p3.16.m16.1.1.3.3.cmml" xref="S3.SS2.p3.16.m16.1.1.3.3">𝑠</ci></apply><apply id="S3.SS2.p3.16.m16.1.1.1.cmml" xref="S3.SS2.p3.16.m16.1.1.1"><times id="S3.SS2.p3.16.m16.1.1.1.2.cmml" xref="S3.SS2.p3.16.m16.1.1.1.2"></times><ci id="S3.SS2.p3.16.m16.1.1.1.3.cmml" xref="S3.SS2.p3.16.m16.1.1.1.3">softmax</ci><apply id="S3.SS2.p3.16.m16.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.16.m16.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p3.16.m16.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p3.16.m16.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p3.16.m16.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p3.16.m16.1.1.1.1.1.1.2">𝑎</ci><ci id="S3.SS2.p3.16.m16.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p3.16.m16.1.1.1.1.1.1.3">𝑠</ci></apply></apply></apply><apply id="S3.SS2.p3.16.m16.1.1c.cmml" xref="S3.SS2.p3.16.m16.1.1"><in id="S3.SS2.p3.16.m16.1.1.5.cmml" xref="S3.SS2.p3.16.m16.1.1.5"></in><share href="#S3.SS2.p3.16.m16.1.1.1.cmml" id="S3.SS2.p3.16.m16.1.1d.cmml" xref="S3.SS2.p3.16.m16.1.1"></share><apply id="S3.SS2.p3.16.m16.1.1.6.cmml" xref="S3.SS2.p3.16.m16.1.1.6"><csymbol cd="ambiguous" id="S3.SS2.p3.16.m16.1.1.6.1.cmml" xref="S3.SS2.p3.16.m16.1.1.6">superscript</csymbol><ci id="S3.SS2.p3.16.m16.1.1.6.2.cmml" xref="S3.SS2.p3.16.m16.1.1.6.2">ℝ</ci><apply id="S3.SS2.p3.16.m16.1.1.6.3.cmml" xref="S3.SS2.p3.16.m16.1.1.6.3"><times id="S3.SS2.p3.16.m16.1.1.6.3.1.cmml" xref="S3.SS2.p3.16.m16.1.1.6.3.1"></times><ci id="S3.SS2.p3.16.m16.1.1.6.3.2.cmml" xref="S3.SS2.p3.16.m16.1.1.6.3.2">𝐻</ci><ci id="S3.SS2.p3.16.m16.1.1.6.3.3.cmml" xref="S3.SS2.p3.16.m16.1.1.6.3.3">𝑊</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p3.16.m16.1c">a_{s}\leftarrow\mathrm{softmax}(a_{s})\in\mathbb{R}^{H\times W}</annotation></semantics></math>. 
<br class="ltx_break"></p>
</div>
<div id="S3.SS2.p4" class="ltx_para">
<p id="S3.SS2.p4.2" class="ltx_p"><span id="S3.SS2.p4.2.1" class="ltx_text ltx_font_bold">Attention-based weighted averaging.</span> Based on the attention score, we take the weighted average of <math id="S3.SS2.p4.1.m1.1" class="ltx_Math" alttext="z_{i}\in\mathbb{R}^{C\times H\times W}" display="inline"><semantics id="S3.SS2.p4.1.m1.1a"><mrow id="S3.SS2.p4.1.m1.1.1" xref="S3.SS2.p4.1.m1.1.1.cmml"><msub id="S3.SS2.p4.1.m1.1.1.2" xref="S3.SS2.p4.1.m1.1.1.2.cmml"><mi id="S3.SS2.p4.1.m1.1.1.2.2" xref="S3.SS2.p4.1.m1.1.1.2.2.cmml">z</mi><mi id="S3.SS2.p4.1.m1.1.1.2.3" xref="S3.SS2.p4.1.m1.1.1.2.3.cmml">i</mi></msub><mo id="S3.SS2.p4.1.m1.1.1.1" xref="S3.SS2.p4.1.m1.1.1.1.cmml">∈</mo><msup id="S3.SS2.p4.1.m1.1.1.3" xref="S3.SS2.p4.1.m1.1.1.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.3.2" xref="S3.SS2.p4.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="S3.SS2.p4.1.m1.1.1.3.3" xref="S3.SS2.p4.1.m1.1.1.3.3.cmml"><mi id="S3.SS2.p4.1.m1.1.1.3.3.2" xref="S3.SS2.p4.1.m1.1.1.3.3.2.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p4.1.m1.1.1.3.3.1" xref="S3.SS2.p4.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p4.1.m1.1.1.3.3.3" xref="S3.SS2.p4.1.m1.1.1.3.3.3.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="S3.SS2.p4.1.m1.1.1.3.3.1a" xref="S3.SS2.p4.1.m1.1.1.3.3.1.cmml">×</mo><mi id="S3.SS2.p4.1.m1.1.1.3.3.4" xref="S3.SS2.p4.1.m1.1.1.3.3.4.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.1.m1.1b"><apply id="S3.SS2.p4.1.m1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1"><in id="S3.SS2.p4.1.m1.1.1.1.cmml" xref="S3.SS2.p4.1.m1.1.1.1"></in><apply id="S3.SS2.p4.1.m1.1.1.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.2.1.cmml" xref="S3.SS2.p4.1.m1.1.1.2">subscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.2.2.cmml" xref="S3.SS2.p4.1.m1.1.1.2.2">𝑧</ci><ci id="S3.SS2.p4.1.m1.1.1.2.3.cmml" xref="S3.SS2.p4.1.m1.1.1.2.3">𝑖</ci></apply><apply id="S3.SS2.p4.1.m1.1.1.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.1.m1.1.1.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3">superscript</csymbol><ci id="S3.SS2.p4.1.m1.1.1.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.2">ℝ</ci><apply id="S3.SS2.p4.1.m1.1.1.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3"><times id="S3.SS2.p4.1.m1.1.1.3.3.1.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.1"></times><ci id="S3.SS2.p4.1.m1.1.1.3.3.2.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.2">𝐶</ci><ci id="S3.SS2.p4.1.m1.1.1.3.3.3.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.3">𝐻</ci><ci id="S3.SS2.p4.1.m1.1.1.3.3.4.cmml" xref="S3.SS2.p4.1.m1.1.1.3.3.4">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.1.m1.1c">z_{i}\in\mathbb{R}^{C\times H\times W}</annotation></semantics></math> to generate an attention feature <math id="S3.SS2.p4.2.m2.1" class="ltx_Math" alttext="A(z_{i})\in\mathbb{R}^{C}" display="inline"><semantics id="S3.SS2.p4.2.m2.1a"><mrow id="S3.SS2.p4.2.m2.1.1" xref="S3.SS2.p4.2.m2.1.1.cmml"><mrow id="S3.SS2.p4.2.m2.1.1.1" xref="S3.SS2.p4.2.m2.1.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.1.3" xref="S3.SS2.p4.2.m2.1.1.1.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p4.2.m2.1.1.1.2" xref="S3.SS2.p4.2.m2.1.1.1.2.cmml">​</mo><mrow id="S3.SS2.p4.2.m2.1.1.1.1.1" xref="S3.SS2.p4.2.m2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.SS2.p4.2.m2.1.1.1.1.1.2" xref="S3.SS2.p4.2.m2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.SS2.p4.2.m2.1.1.1.1.1.1" xref="S3.SS2.p4.2.m2.1.1.1.1.1.1.cmml"><mi id="S3.SS2.p4.2.m2.1.1.1.1.1.1.2" xref="S3.SS2.p4.2.m2.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.SS2.p4.2.m2.1.1.1.1.1.1.3" xref="S3.SS2.p4.2.m2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p4.2.m2.1.1.1.1.1.3" xref="S3.SS2.p4.2.m2.1.1.1.1.1.1.cmml">)</mo></mrow></mrow><mo id="S3.SS2.p4.2.m2.1.1.2" xref="S3.SS2.p4.2.m2.1.1.2.cmml">∈</mo><msup id="S3.SS2.p4.2.m2.1.1.3" xref="S3.SS2.p4.2.m2.1.1.3.cmml"><mi id="S3.SS2.p4.2.m2.1.1.3.2" xref="S3.SS2.p4.2.m2.1.1.3.2.cmml">ℝ</mi><mi id="S3.SS2.p4.2.m2.1.1.3.3" xref="S3.SS2.p4.2.m2.1.1.3.3.cmml">C</mi></msup></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.2.m2.1b"><apply id="S3.SS2.p4.2.m2.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1"><in id="S3.SS2.p4.2.m2.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.2"></in><apply id="S3.SS2.p4.2.m2.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1.1"><times id="S3.SS2.p4.2.m2.1.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.1.2"></times><ci id="S3.SS2.p4.2.m2.1.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.1.3">𝐴</ci><apply id="S3.SS2.p4.2.m2.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.1.1.1.1.1.cmml" xref="S3.SS2.p4.2.m2.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.1.1.1.1.2.cmml" xref="S3.SS2.p4.2.m2.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.SS2.p4.2.m2.1.1.1.1.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.1.1.1.1.3">𝑖</ci></apply></apply><apply id="S3.SS2.p4.2.m2.1.1.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3"><csymbol cd="ambiguous" id="S3.SS2.p4.2.m2.1.1.3.1.cmml" xref="S3.SS2.p4.2.m2.1.1.3">superscript</csymbol><ci id="S3.SS2.p4.2.m2.1.1.3.2.cmml" xref="S3.SS2.p4.2.m2.1.1.3.2">ℝ</ci><ci id="S3.SS2.p4.2.m2.1.1.3.3.cmml" xref="S3.SS2.p4.2.m2.1.1.3.3">𝐶</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.2.m2.1c">A(z_{i})\in\mathbb{R}^{C}</annotation></semantics></math> in which the important parts of the <span id="S3.SS2.p4.2.2" class="ltx_text ltx_font_italic">key image</span>, having common characteristics with the <span id="S3.SS2.p4.2.3" class="ltx_text ltx_font_italic">query image</span> (in the same class), are emphasized:</p>
<table id="A9.EGx4" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E7"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E7.m1.6" class="ltx_Math" alttext="\displaystyle A(z_{i})_{c}=\sum_{h=1}^{H}\sum_{w=1}^{W}(a_{s})_{h,w}(z_{i})_{c,h,w}." display="inline"><semantics id="S3.E7.m1.6a"><mrow id="S3.E7.m1.6.6.1" xref="S3.E7.m1.6.6.1.1.cmml"><mrow id="S3.E7.m1.6.6.1.1" xref="S3.E7.m1.6.6.1.1.cmml"><mrow id="S3.E7.m1.6.6.1.1.1" xref="S3.E7.m1.6.6.1.1.1.cmml"><mi id="S3.E7.m1.6.6.1.1.1.3" xref="S3.E7.m1.6.6.1.1.1.3.cmml">A</mi><mo lspace="0em" rspace="0em" id="S3.E7.m1.6.6.1.1.1.2" xref="S3.E7.m1.6.6.1.1.1.2.cmml">​</mo><msub id="S3.E7.m1.6.6.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.cmml"><mrow id="S3.E7.m1.6.6.1.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.6.6.1.1.1.1.1.1.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E7.m1.6.6.1.1.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.2" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.2.cmml">z</mi><mi id="S3.E7.m1.6.6.1.1.1.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E7.m1.6.6.1.1.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.cmml">)</mo></mrow><mi id="S3.E7.m1.6.6.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.1.1.3.cmml">c</mi></msub></mrow><mo id="S3.E7.m1.6.6.1.1.4" xref="S3.E7.m1.6.6.1.1.4.cmml">=</mo><mrow id="S3.E7.m1.6.6.1.1.3" xref="S3.E7.m1.6.6.1.1.3.cmml"><mstyle displaystyle="true" id="S3.E7.m1.6.6.1.1.3.3" xref="S3.E7.m1.6.6.1.1.3.3.cmml"><munderover id="S3.E7.m1.6.6.1.1.3.3a" xref="S3.E7.m1.6.6.1.1.3.3.cmml"><mo movablelimits="false" id="S3.E7.m1.6.6.1.1.3.3.2.2" xref="S3.E7.m1.6.6.1.1.3.3.2.2.cmml">∑</mo><mrow id="S3.E7.m1.6.6.1.1.3.3.2.3" xref="S3.E7.m1.6.6.1.1.3.3.2.3.cmml"><mi id="S3.E7.m1.6.6.1.1.3.3.2.3.2" xref="S3.E7.m1.6.6.1.1.3.3.2.3.2.cmml">h</mi><mo id="S3.E7.m1.6.6.1.1.3.3.2.3.1" xref="S3.E7.m1.6.6.1.1.3.3.2.3.1.cmml">=</mo><mn id="S3.E7.m1.6.6.1.1.3.3.2.3.3" xref="S3.E7.m1.6.6.1.1.3.3.2.3.3.cmml">1</mn></mrow><mi id="S3.E7.m1.6.6.1.1.3.3.3" xref="S3.E7.m1.6.6.1.1.3.3.3.cmml">H</mi></munderover></mstyle><mrow id="S3.E7.m1.6.6.1.1.3.2" xref="S3.E7.m1.6.6.1.1.3.2.cmml"><mstyle displaystyle="true" id="S3.E7.m1.6.6.1.1.3.2.3" xref="S3.E7.m1.6.6.1.1.3.2.3.cmml"><munderover id="S3.E7.m1.6.6.1.1.3.2.3a" xref="S3.E7.m1.6.6.1.1.3.2.3.cmml"><mo movablelimits="false" id="S3.E7.m1.6.6.1.1.3.2.3.2.2" xref="S3.E7.m1.6.6.1.1.3.2.3.2.2.cmml">∑</mo><mrow id="S3.E7.m1.6.6.1.1.3.2.3.2.3" xref="S3.E7.m1.6.6.1.1.3.2.3.2.3.cmml"><mi id="S3.E7.m1.6.6.1.1.3.2.3.2.3.2" xref="S3.E7.m1.6.6.1.1.3.2.3.2.3.2.cmml">w</mi><mo id="S3.E7.m1.6.6.1.1.3.2.3.2.3.1" xref="S3.E7.m1.6.6.1.1.3.2.3.2.3.1.cmml">=</mo><mn id="S3.E7.m1.6.6.1.1.3.2.3.2.3.3" xref="S3.E7.m1.6.6.1.1.3.2.3.2.3.3.cmml">1</mn></mrow><mi id="S3.E7.m1.6.6.1.1.3.2.3.3" xref="S3.E7.m1.6.6.1.1.3.2.3.3.cmml">W</mi></munderover></mstyle><mrow id="S3.E7.m1.6.6.1.1.3.2.2" xref="S3.E7.m1.6.6.1.1.3.2.2.cmml"><msub id="S3.E7.m1.6.6.1.1.2.1.1.1" xref="S3.E7.m1.6.6.1.1.2.1.1.1.cmml"><mrow id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.2" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.cmml">(</mo><msub id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.cmml"><mi id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.2" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.2.cmml">a</mi><mi id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.3.cmml">s</mi></msub><mo stretchy="false" id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.3" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.cmml">)</mo></mrow><mrow id="S3.E7.m1.2.2.2.4" xref="S3.E7.m1.2.2.2.3.cmml"><mi id="S3.E7.m1.1.1.1.1" xref="S3.E7.m1.1.1.1.1.cmml">h</mi><mo id="S3.E7.m1.2.2.2.4.1" xref="S3.E7.m1.2.2.2.3.cmml">,</mo><mi id="S3.E7.m1.2.2.2.2" xref="S3.E7.m1.2.2.2.2.cmml">w</mi></mrow></msub><mo lspace="0em" rspace="0em" id="S3.E7.m1.6.6.1.1.3.2.2.3" xref="S3.E7.m1.6.6.1.1.3.2.2.3.cmml">​</mo><msub id="S3.E7.m1.6.6.1.1.3.2.2.2" xref="S3.E7.m1.6.6.1.1.3.2.2.2.cmml"><mrow id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.cmml"><mo stretchy="false" id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.2" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.cmml">(</mo><msub id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.cmml"><mi id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.2" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.2.cmml">z</mi><mi id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.3" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.3.cmml">i</mi></msub><mo stretchy="false" id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.3" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.cmml">)</mo></mrow><mrow id="S3.E7.m1.5.5.3.5" xref="S3.E7.m1.5.5.3.4.cmml"><mi id="S3.E7.m1.3.3.1.1" xref="S3.E7.m1.3.3.1.1.cmml">c</mi><mo id="S3.E7.m1.5.5.3.5.1" xref="S3.E7.m1.5.5.3.4.cmml">,</mo><mi id="S3.E7.m1.4.4.2.2" xref="S3.E7.m1.4.4.2.2.cmml">h</mi><mo id="S3.E7.m1.5.5.3.5.2" xref="S3.E7.m1.5.5.3.4.cmml">,</mo><mi id="S3.E7.m1.5.5.3.3" xref="S3.E7.m1.5.5.3.3.cmml">w</mi></mrow></msub></mrow></mrow></mrow></mrow><mo lspace="0em" id="S3.E7.m1.6.6.1.2" xref="S3.E7.m1.6.6.1.1.cmml">.</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E7.m1.6b"><apply id="S3.E7.m1.6.6.1.1.cmml" xref="S3.E7.m1.6.6.1"><eq id="S3.E7.m1.6.6.1.1.4.cmml" xref="S3.E7.m1.6.6.1.1.4"></eq><apply id="S3.E7.m1.6.6.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1"><times id="S3.E7.m1.6.6.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.1.2"></times><ci id="S3.E7.m1.6.6.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.1.3">𝐴</ci><apply id="S3.E7.m1.6.6.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1">subscript</csymbol><apply id="S3.E7.m1.6.6.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.2">𝑧</ci><ci id="S3.E7.m1.6.6.1.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.1.1.1.3">𝑖</ci></apply><ci id="S3.E7.m1.6.6.1.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.1.1.3">𝑐</ci></apply></apply><apply id="S3.E7.m1.6.6.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.3"><apply id="S3.E7.m1.6.6.1.1.3.3.cmml" xref="S3.E7.m1.6.6.1.1.3.3"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.3.3.1.cmml" xref="S3.E7.m1.6.6.1.1.3.3">superscript</csymbol><apply id="S3.E7.m1.6.6.1.1.3.3.2.cmml" xref="S3.E7.m1.6.6.1.1.3.3"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.3.3.2.1.cmml" xref="S3.E7.m1.6.6.1.1.3.3">subscript</csymbol><sum id="S3.E7.m1.6.6.1.1.3.3.2.2.cmml" xref="S3.E7.m1.6.6.1.1.3.3.2.2"></sum><apply id="S3.E7.m1.6.6.1.1.3.3.2.3.cmml" xref="S3.E7.m1.6.6.1.1.3.3.2.3"><eq id="S3.E7.m1.6.6.1.1.3.3.2.3.1.cmml" xref="S3.E7.m1.6.6.1.1.3.3.2.3.1"></eq><ci id="S3.E7.m1.6.6.1.1.3.3.2.3.2.cmml" xref="S3.E7.m1.6.6.1.1.3.3.2.3.2">ℎ</ci><cn type="integer" id="S3.E7.m1.6.6.1.1.3.3.2.3.3.cmml" xref="S3.E7.m1.6.6.1.1.3.3.2.3.3">1</cn></apply></apply><ci id="S3.E7.m1.6.6.1.1.3.3.3.cmml" xref="S3.E7.m1.6.6.1.1.3.3.3">𝐻</ci></apply><apply id="S3.E7.m1.6.6.1.1.3.2.cmml" xref="S3.E7.m1.6.6.1.1.3.2"><apply id="S3.E7.m1.6.6.1.1.3.2.3.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.3.2.3.1.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3">superscript</csymbol><apply id="S3.E7.m1.6.6.1.1.3.2.3.2.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.3.2.3.2.1.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3">subscript</csymbol><sum id="S3.E7.m1.6.6.1.1.3.2.3.2.2.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3.2.2"></sum><apply id="S3.E7.m1.6.6.1.1.3.2.3.2.3.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3.2.3"><eq id="S3.E7.m1.6.6.1.1.3.2.3.2.3.1.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3.2.3.1"></eq><ci id="S3.E7.m1.6.6.1.1.3.2.3.2.3.2.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3.2.3.2">𝑤</ci><cn type="integer" id="S3.E7.m1.6.6.1.1.3.2.3.2.3.3.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3.2.3.3">1</cn></apply></apply><ci id="S3.E7.m1.6.6.1.1.3.2.3.3.cmml" xref="S3.E7.m1.6.6.1.1.3.2.3.3">𝑊</ci></apply><apply id="S3.E7.m1.6.6.1.1.3.2.2.cmml" xref="S3.E7.m1.6.6.1.1.3.2.2"><times id="S3.E7.m1.6.6.1.1.3.2.2.3.cmml" xref="S3.E7.m1.6.6.1.1.3.2.2.3"></times><apply id="S3.E7.m1.6.6.1.1.2.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.2.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.2.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.2.1.1.1">subscript</csymbol><apply id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1">subscript</csymbol><ci id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.2">𝑎</ci><ci id="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.2.1.1.1.1.1.1.3">𝑠</ci></apply><list id="S3.E7.m1.2.2.2.3.cmml" xref="S3.E7.m1.2.2.2.4"><ci id="S3.E7.m1.1.1.1.1.cmml" xref="S3.E7.m1.1.1.1.1">ℎ</ci><ci id="S3.E7.m1.2.2.2.2.cmml" xref="S3.E7.m1.2.2.2.2">𝑤</ci></list></apply><apply id="S3.E7.m1.6.6.1.1.3.2.2.2.cmml" xref="S3.E7.m1.6.6.1.1.3.2.2.2"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.3.2.2.2.2.cmml" xref="S3.E7.m1.6.6.1.1.3.2.2.2">subscript</csymbol><apply id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1"><csymbol cd="ambiguous" id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.1.cmml" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1">subscript</csymbol><ci id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.2.cmml" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.2">𝑧</ci><ci id="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.3.cmml" xref="S3.E7.m1.6.6.1.1.3.2.2.2.1.1.1.3">𝑖</ci></apply><list id="S3.E7.m1.5.5.3.4.cmml" xref="S3.E7.m1.5.5.3.5"><ci id="S3.E7.m1.3.3.1.1.cmml" xref="S3.E7.m1.3.3.1.1">𝑐</ci><ci id="S3.E7.m1.4.4.2.2.cmml" xref="S3.E7.m1.4.4.2.2">ℎ</ci><ci id="S3.E7.m1.5.5.3.3.cmml" xref="S3.E7.m1.5.5.3.3">𝑤</ci></list></apply></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E7.m1.6c">\displaystyle A(z_{i})_{c}=\sum_{h=1}^{H}\sum_{w=1}^{W}(a_{s})_{h,w}(z_{i})_{c,h,w}.</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(7)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p4.4" class="ltx_p">As shown in Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, this attention feature is concatenated with the last embedding feature (e.g., after the global average pooling in ResNet) before the classifier, and it goes through the classifier to compute the loss during training.
One important thing to note is that <math id="S3.SS2.p4.3.m1.1" class="ltx_Math" alttext="\theta_{q}" display="inline"><semantics id="S3.SS2.p4.3.m1.1a"><msub id="S3.SS2.p4.3.m1.1.1" xref="S3.SS2.p4.3.m1.1.1.cmml"><mi id="S3.SS2.p4.3.m1.1.1.2" xref="S3.SS2.p4.3.m1.1.1.2.cmml">θ</mi><mi id="S3.SS2.p4.3.m1.1.1.3" xref="S3.SS2.p4.3.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.3.m1.1b"><apply id="S3.SS2.p4.3.m1.1.1.cmml" xref="S3.SS2.p4.3.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.3.m1.1.1.1.cmml" xref="S3.SS2.p4.3.m1.1.1">subscript</csymbol><ci id="S3.SS2.p4.3.m1.1.1.2.cmml" xref="S3.SS2.p4.3.m1.1.1.2">𝜃</ci><ci id="S3.SS2.p4.3.m1.1.1.3.cmml" xref="S3.SS2.p4.3.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.3.m1.1c">\theta_{q}</annotation></semantics></math> and <math id="S3.SS2.p4.4.m2.1" class="ltx_Math" alttext="\theta_{k}" display="inline"><semantics id="S3.SS2.p4.4.m2.1a"><msub id="S3.SS2.p4.4.m2.1.1" xref="S3.SS2.p4.4.m2.1.1.cmml"><mi id="S3.SS2.p4.4.m2.1.1.2" xref="S3.SS2.p4.4.m2.1.1.2.cmml">θ</mi><mi id="S3.SS2.p4.4.m2.1.1.3" xref="S3.SS2.p4.4.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p4.4.m2.1b"><apply id="S3.SS2.p4.4.m2.1.1.cmml" xref="S3.SS2.p4.4.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p4.4.m2.1.1.1.cmml" xref="S3.SS2.p4.4.m2.1.1">subscript</csymbol><ci id="S3.SS2.p4.4.m2.1.1.2.cmml" xref="S3.SS2.p4.4.m2.1.1.2">𝜃</ci><ci id="S3.SS2.p4.4.m2.1.1.3.cmml" xref="S3.SS2.p4.4.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p4.4.m2.1c">\theta_{k}</annotation></semantics></math> are trained so that the common features of query and key images become close in the embedding space while unimportant factors such as backgrounds are effectively distanced (i.e., less emphasized).</p>
</div>
<div id="S3.SS2.p5" class="ltx_para">
<p id="S3.SS2.p5.1" class="ltx_p">When implementing attention-based weighted averaging in practice, instead of directly adopting equation (<a href="#S3.E6" title="Equation 6 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), we modify the similarity function using the query of its own as
</p>
<table id="A9.EGx5" class="ltx_equationgroup ltx_eqn_align ltx_eqn_table">

<tbody id="S3.E8"><tr class="ltx_equation ltx_eqn_row ltx_align_baseline">
<td class="ltx_eqn_cell ltx_eqn_center_padleft"></td>
<td class="ltx_td ltx_align_right ltx_eqn_cell"><math id="S3.E8.m1.2" class="ltx_Math" alttext="\displaystyle\mathrm{Sim_{mix}}(X_{i},X_{j})=\bigg{(}\frac{\theta_{q}X_{j}+\theta_{q}X_{i}}{2}\bigg{)}^{T}(\theta_{k}X_{i})," display="inline"><semantics id="S3.E8.m1.2a"><mrow id="S3.E8.m1.2.2.1" xref="S3.E8.m1.2.2.1.1.cmml"><mrow id="S3.E8.m1.2.2.1.1" xref="S3.E8.m1.2.2.1.1.cmml"><mrow id="S3.E8.m1.2.2.1.1.2" xref="S3.E8.m1.2.2.1.1.2.cmml"><msub id="S3.E8.m1.2.2.1.1.2.4" xref="S3.E8.m1.2.2.1.1.2.4.cmml"><mi id="S3.E8.m1.2.2.1.1.2.4.2" xref="S3.E8.m1.2.2.1.1.2.4.2.cmml">Sim</mi><mi id="S3.E8.m1.2.2.1.1.2.4.3" xref="S3.E8.m1.2.2.1.1.2.4.3.cmml">mix</mi></msub><mo lspace="0em" rspace="0em" id="S3.E8.m1.2.2.1.1.2.3" xref="S3.E8.m1.2.2.1.1.2.3.cmml">​</mo><mrow id="S3.E8.m1.2.2.1.1.2.2.2" xref="S3.E8.m1.2.2.1.1.2.2.3.cmml"><mo stretchy="false" id="S3.E8.m1.2.2.1.1.2.2.2.3" xref="S3.E8.m1.2.2.1.1.2.2.3.cmml">(</mo><msub id="S3.E8.m1.2.2.1.1.1.1.1.1" xref="S3.E8.m1.2.2.1.1.1.1.1.1.cmml"><mi id="S3.E8.m1.2.2.1.1.1.1.1.1.2" xref="S3.E8.m1.2.2.1.1.1.1.1.1.2.cmml">X</mi><mi id="S3.E8.m1.2.2.1.1.1.1.1.1.3" xref="S3.E8.m1.2.2.1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.E8.m1.2.2.1.1.2.2.2.4" xref="S3.E8.m1.2.2.1.1.2.2.3.cmml">,</mo><msub id="S3.E8.m1.2.2.1.1.2.2.2.2" xref="S3.E8.m1.2.2.1.1.2.2.2.2.cmml"><mi id="S3.E8.m1.2.2.1.1.2.2.2.2.2" xref="S3.E8.m1.2.2.1.1.2.2.2.2.2.cmml">X</mi><mi id="S3.E8.m1.2.2.1.1.2.2.2.2.3" xref="S3.E8.m1.2.2.1.1.2.2.2.2.3.cmml">j</mi></msub><mo stretchy="false" id="S3.E8.m1.2.2.1.1.2.2.2.5" xref="S3.E8.m1.2.2.1.1.2.2.3.cmml">)</mo></mrow></mrow><mo id="S3.E8.m1.2.2.1.1.4" xref="S3.E8.m1.2.2.1.1.4.cmml">=</mo><mrow id="S3.E8.m1.2.2.1.1.3" xref="S3.E8.m1.2.2.1.1.3.cmml"><msup id="S3.E8.m1.2.2.1.1.3.3" xref="S3.E8.m1.2.2.1.1.3.3.cmml"><mrow id="S3.E8.m1.2.2.1.1.3.3.2.2" xref="S3.E8.m1.1.1.cmml"><mo maxsize="210%" minsize="210%" id="S3.E8.m1.2.2.1.1.3.3.2.2.1" xref="S3.E8.m1.1.1.cmml">(</mo><mstyle displaystyle="true" id="S3.E8.m1.1.1" xref="S3.E8.m1.1.1.cmml"><mfrac id="S3.E8.m1.1.1a" xref="S3.E8.m1.1.1.cmml"><mrow id="S3.E8.m1.1.1.2" xref="S3.E8.m1.1.1.2.cmml"><mrow id="S3.E8.m1.1.1.2.2" xref="S3.E8.m1.1.1.2.2.cmml"><msub id="S3.E8.m1.1.1.2.2.2" xref="S3.E8.m1.1.1.2.2.2.cmml"><mi id="S3.E8.m1.1.1.2.2.2.2" xref="S3.E8.m1.1.1.2.2.2.2.cmml">θ</mi><mi id="S3.E8.m1.1.1.2.2.2.3" xref="S3.E8.m1.1.1.2.2.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.1.2.2.1" xref="S3.E8.m1.1.1.2.2.1.cmml">​</mo><msub id="S3.E8.m1.1.1.2.2.3" xref="S3.E8.m1.1.1.2.2.3.cmml"><mi id="S3.E8.m1.1.1.2.2.3.2" xref="S3.E8.m1.1.1.2.2.3.2.cmml">X</mi><mi id="S3.E8.m1.1.1.2.2.3.3" xref="S3.E8.m1.1.1.2.2.3.3.cmml">j</mi></msub></mrow><mo id="S3.E8.m1.1.1.2.1" xref="S3.E8.m1.1.1.2.1.cmml">+</mo><mrow id="S3.E8.m1.1.1.2.3" xref="S3.E8.m1.1.1.2.3.cmml"><msub id="S3.E8.m1.1.1.2.3.2" xref="S3.E8.m1.1.1.2.3.2.cmml"><mi id="S3.E8.m1.1.1.2.3.2.2" xref="S3.E8.m1.1.1.2.3.2.2.cmml">θ</mi><mi id="S3.E8.m1.1.1.2.3.2.3" xref="S3.E8.m1.1.1.2.3.2.3.cmml">q</mi></msub><mo lspace="0em" rspace="0em" id="S3.E8.m1.1.1.2.3.1" xref="S3.E8.m1.1.1.2.3.1.cmml">​</mo><msub id="S3.E8.m1.1.1.2.3.3" xref="S3.E8.m1.1.1.2.3.3.cmml"><mi id="S3.E8.m1.1.1.2.3.3.2" xref="S3.E8.m1.1.1.2.3.3.2.cmml">X</mi><mi id="S3.E8.m1.1.1.2.3.3.3" xref="S3.E8.m1.1.1.2.3.3.3.cmml">i</mi></msub></mrow></mrow><mn id="S3.E8.m1.1.1.3" xref="S3.E8.m1.1.1.3.cmml">2</mn></mfrac></mstyle><mo maxsize="210%" minsize="210%" id="S3.E8.m1.2.2.1.1.3.3.2.2.2" xref="S3.E8.m1.1.1.cmml">)</mo></mrow><mi id="S3.E8.m1.2.2.1.1.3.3.3" xref="S3.E8.m1.2.2.1.1.3.3.3.cmml">T</mi></msup><mo lspace="0em" rspace="0em" id="S3.E8.m1.2.2.1.1.3.2" xref="S3.E8.m1.2.2.1.1.3.2.cmml">​</mo><mrow id="S3.E8.m1.2.2.1.1.3.1.1" xref="S3.E8.m1.2.2.1.1.3.1.1.1.cmml"><mo stretchy="false" id="S3.E8.m1.2.2.1.1.3.1.1.2" xref="S3.E8.m1.2.2.1.1.3.1.1.1.cmml">(</mo><mrow id="S3.E8.m1.2.2.1.1.3.1.1.1" xref="S3.E8.m1.2.2.1.1.3.1.1.1.cmml"><msub id="S3.E8.m1.2.2.1.1.3.1.1.1.2" xref="S3.E8.m1.2.2.1.1.3.1.1.1.2.cmml"><mi id="S3.E8.m1.2.2.1.1.3.1.1.1.2.2" xref="S3.E8.m1.2.2.1.1.3.1.1.1.2.2.cmml">θ</mi><mi id="S3.E8.m1.2.2.1.1.3.1.1.1.2.3" xref="S3.E8.m1.2.2.1.1.3.1.1.1.2.3.cmml">k</mi></msub><mo lspace="0em" rspace="0em" id="S3.E8.m1.2.2.1.1.3.1.1.1.1" xref="S3.E8.m1.2.2.1.1.3.1.1.1.1.cmml">​</mo><msub id="S3.E8.m1.2.2.1.1.3.1.1.1.3" xref="S3.E8.m1.2.2.1.1.3.1.1.1.3.cmml"><mi id="S3.E8.m1.2.2.1.1.3.1.1.1.3.2" xref="S3.E8.m1.2.2.1.1.3.1.1.1.3.2.cmml">X</mi><mi id="S3.E8.m1.2.2.1.1.3.1.1.1.3.3" xref="S3.E8.m1.2.2.1.1.3.1.1.1.3.3.cmml">i</mi></msub></mrow><mo stretchy="false" id="S3.E8.m1.2.2.1.1.3.1.1.3" xref="S3.E8.m1.2.2.1.1.3.1.1.1.cmml">)</mo></mrow></mrow></mrow><mo id="S3.E8.m1.2.2.1.2" xref="S3.E8.m1.2.2.1.1.cmml">,</mo></mrow><annotation-xml encoding="MathML-Content" id="S3.E8.m1.2b"><apply id="S3.E8.m1.2.2.1.1.cmml" xref="S3.E8.m1.2.2.1"><eq id="S3.E8.m1.2.2.1.1.4.cmml" xref="S3.E8.m1.2.2.1.1.4"></eq><apply id="S3.E8.m1.2.2.1.1.2.cmml" xref="S3.E8.m1.2.2.1.1.2"><times id="S3.E8.m1.2.2.1.1.2.3.cmml" xref="S3.E8.m1.2.2.1.1.2.3"></times><apply id="S3.E8.m1.2.2.1.1.2.4.cmml" xref="S3.E8.m1.2.2.1.1.2.4"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.2.4.1.cmml" xref="S3.E8.m1.2.2.1.1.2.4">subscript</csymbol><ci id="S3.E8.m1.2.2.1.1.2.4.2.cmml" xref="S3.E8.m1.2.2.1.1.2.4.2">Sim</ci><ci id="S3.E8.m1.2.2.1.1.2.4.3.cmml" xref="S3.E8.m1.2.2.1.1.2.4.3">mix</ci></apply><interval closure="open" id="S3.E8.m1.2.2.1.1.2.2.3.cmml" xref="S3.E8.m1.2.2.1.1.2.2.2"><apply id="S3.E8.m1.2.2.1.1.1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.1.1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1">subscript</csymbol><ci id="S3.E8.m1.2.2.1.1.1.1.1.1.2.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.2">𝑋</ci><ci id="S3.E8.m1.2.2.1.1.1.1.1.1.3.cmml" xref="S3.E8.m1.2.2.1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.E8.m1.2.2.1.1.2.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.2.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.2.2.2.2.1.cmml" xref="S3.E8.m1.2.2.1.1.2.2.2.2">subscript</csymbol><ci id="S3.E8.m1.2.2.1.1.2.2.2.2.2.cmml" xref="S3.E8.m1.2.2.1.1.2.2.2.2.2">𝑋</ci><ci id="S3.E8.m1.2.2.1.1.2.2.2.2.3.cmml" xref="S3.E8.m1.2.2.1.1.2.2.2.2.3">𝑗</ci></apply></interval></apply><apply id="S3.E8.m1.2.2.1.1.3.cmml" xref="S3.E8.m1.2.2.1.1.3"><times id="S3.E8.m1.2.2.1.1.3.2.cmml" xref="S3.E8.m1.2.2.1.1.3.2"></times><apply id="S3.E8.m1.2.2.1.1.3.3.cmml" xref="S3.E8.m1.2.2.1.1.3.3"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.3.3.1.cmml" xref="S3.E8.m1.2.2.1.1.3.3">superscript</csymbol><apply id="S3.E8.m1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.3.3.2.2"><divide id="S3.E8.m1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.3.3.2.2"></divide><apply id="S3.E8.m1.1.1.2.cmml" xref="S3.E8.m1.1.1.2"><plus id="S3.E8.m1.1.1.2.1.cmml" xref="S3.E8.m1.1.1.2.1"></plus><apply id="S3.E8.m1.1.1.2.2.cmml" xref="S3.E8.m1.1.1.2.2"><times id="S3.E8.m1.1.1.2.2.1.cmml" xref="S3.E8.m1.1.1.2.2.1"></times><apply id="S3.E8.m1.1.1.2.2.2.cmml" xref="S3.E8.m1.1.1.2.2.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.2.2.2.1.cmml" xref="S3.E8.m1.1.1.2.2.2">subscript</csymbol><ci id="S3.E8.m1.1.1.2.2.2.2.cmml" xref="S3.E8.m1.1.1.2.2.2.2">𝜃</ci><ci id="S3.E8.m1.1.1.2.2.2.3.cmml" xref="S3.E8.m1.1.1.2.2.2.3">𝑞</ci></apply><apply id="S3.E8.m1.1.1.2.2.3.cmml" xref="S3.E8.m1.1.1.2.2.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.2.2.3.1.cmml" xref="S3.E8.m1.1.1.2.2.3">subscript</csymbol><ci id="S3.E8.m1.1.1.2.2.3.2.cmml" xref="S3.E8.m1.1.1.2.2.3.2">𝑋</ci><ci id="S3.E8.m1.1.1.2.2.3.3.cmml" xref="S3.E8.m1.1.1.2.2.3.3">𝑗</ci></apply></apply><apply id="S3.E8.m1.1.1.2.3.cmml" xref="S3.E8.m1.1.1.2.3"><times id="S3.E8.m1.1.1.2.3.1.cmml" xref="S3.E8.m1.1.1.2.3.1"></times><apply id="S3.E8.m1.1.1.2.3.2.cmml" xref="S3.E8.m1.1.1.2.3.2"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.2.3.2.1.cmml" xref="S3.E8.m1.1.1.2.3.2">subscript</csymbol><ci id="S3.E8.m1.1.1.2.3.2.2.cmml" xref="S3.E8.m1.1.1.2.3.2.2">𝜃</ci><ci id="S3.E8.m1.1.1.2.3.2.3.cmml" xref="S3.E8.m1.1.1.2.3.2.3">𝑞</ci></apply><apply id="S3.E8.m1.1.1.2.3.3.cmml" xref="S3.E8.m1.1.1.2.3.3"><csymbol cd="ambiguous" id="S3.E8.m1.1.1.2.3.3.1.cmml" xref="S3.E8.m1.1.1.2.3.3">subscript</csymbol><ci id="S3.E8.m1.1.1.2.3.3.2.cmml" xref="S3.E8.m1.1.1.2.3.3.2">𝑋</ci><ci id="S3.E8.m1.1.1.2.3.3.3.cmml" xref="S3.E8.m1.1.1.2.3.3.3">𝑖</ci></apply></apply></apply><cn type="integer" id="S3.E8.m1.1.1.3.cmml" xref="S3.E8.m1.1.1.3">2</cn></apply><ci id="S3.E8.m1.2.2.1.1.3.3.3.cmml" xref="S3.E8.m1.2.2.1.1.3.3.3">𝑇</ci></apply><apply id="S3.E8.m1.2.2.1.1.3.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1"><times id="S3.E8.m1.2.2.1.1.3.1.1.1.1.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.1"></times><apply id="S3.E8.m1.2.2.1.1.3.1.1.1.2.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.2"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.3.1.1.1.2.1.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.2">subscript</csymbol><ci id="S3.E8.m1.2.2.1.1.3.1.1.1.2.2.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.2.2">𝜃</ci><ci id="S3.E8.m1.2.2.1.1.3.1.1.1.2.3.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.2.3">𝑘</ci></apply><apply id="S3.E8.m1.2.2.1.1.3.1.1.1.3.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.3"><csymbol cd="ambiguous" id="S3.E8.m1.2.2.1.1.3.1.1.1.3.1.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.3">subscript</csymbol><ci id="S3.E8.m1.2.2.1.1.3.1.1.1.3.2.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.3.2">𝑋</ci><ci id="S3.E8.m1.2.2.1.1.3.1.1.1.3.3.cmml" xref="S3.E8.m1.2.2.1.1.3.1.1.1.3.3">𝑖</ci></apply></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.E8.m1.2c">\displaystyle\mathrm{Sim_{mix}}(X_{i},X_{j})=\bigg{(}\frac{\theta_{q}X_{j}+\theta_{q}X_{i}}{2}\bigg{)}^{T}(\theta_{k}X_{i}),</annotation></semantics></math></td>
<td class="ltx_eqn_cell ltx_eqn_center_padright"></td>
<td rowspan="1" class="ltx_eqn_cell ltx_eqn_eqno ltx_align_middle ltx_align_right"><span class="ltx_tag ltx_tag_equation ltx_align_right">(8)</span></td>
</tr></tbody>
</table>
<p id="S3.SS2.p5.2" class="ltx_p">to avoid performance degradation when there is little commonality between key and query images. In other words, StableFDG takes advantage of both cross-attention and self-attention, enabling the model to extract and learn important characteristics across images (via cross-attention), and within the image (via self-attention). A more detailed analysis on (<a href="#S3.E8" title="Equation 8 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>) can be found in Appendix.</p>
</div>
<div id="S3.SS2.p6" class="ltx_para">
<p id="S3.SS2.p6.1" class="ltx_p"><span id="S3.SS2.p6.1.1" class="ltx_text ltx_font_bold">Inference.</span> During testing, given a new test sample, we compute the spatial similarity of the test sample itself as <math id="S3.SS2.p6.1.m1.2" class="ltx_Math" alttext="\mathrm{Sim}(X_{i},X_{i})" display="inline"><semantics id="S3.SS2.p6.1.m1.2a"><mrow id="S3.SS2.p6.1.m1.2.2" xref="S3.SS2.p6.1.m1.2.2.cmml"><mi id="S3.SS2.p6.1.m1.2.2.4" xref="S3.SS2.p6.1.m1.2.2.4.cmml">Sim</mi><mo lspace="0em" rspace="0em" id="S3.SS2.p6.1.m1.2.2.3" xref="S3.SS2.p6.1.m1.2.2.3.cmml">​</mo><mrow id="S3.SS2.p6.1.m1.2.2.2.2" xref="S3.SS2.p6.1.m1.2.2.2.3.cmml"><mo stretchy="false" id="S3.SS2.p6.1.m1.2.2.2.2.3" xref="S3.SS2.p6.1.m1.2.2.2.3.cmml">(</mo><msub id="S3.SS2.p6.1.m1.1.1.1.1.1" xref="S3.SS2.p6.1.m1.1.1.1.1.1.cmml"><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.2" xref="S3.SS2.p6.1.m1.1.1.1.1.1.2.cmml">X</mi><mi id="S3.SS2.p6.1.m1.1.1.1.1.1.3" xref="S3.SS2.p6.1.m1.1.1.1.1.1.3.cmml">i</mi></msub><mo id="S3.SS2.p6.1.m1.2.2.2.2.4" xref="S3.SS2.p6.1.m1.2.2.2.3.cmml">,</mo><msub id="S3.SS2.p6.1.m1.2.2.2.2.2" xref="S3.SS2.p6.1.m1.2.2.2.2.2.cmml"><mi id="S3.SS2.p6.1.m1.2.2.2.2.2.2" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2.cmml">X</mi><mi id="S3.SS2.p6.1.m1.2.2.2.2.2.3" xref="S3.SS2.p6.1.m1.2.2.2.2.2.3.cmml">i</mi></msub><mo stretchy="false" id="S3.SS2.p6.1.m1.2.2.2.2.5" xref="S3.SS2.p6.1.m1.2.2.2.3.cmml">)</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="S3.SS2.p6.1.m1.2b"><apply id="S3.SS2.p6.1.m1.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2"><times id="S3.SS2.p6.1.m1.2.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2.3"></times><ci id="S3.SS2.p6.1.m1.2.2.4.cmml" xref="S3.SS2.p6.1.m1.2.2.4">Sim</ci><interval closure="open" id="S3.SS2.p6.1.m1.2.2.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2"><apply id="S3.SS2.p6.1.m1.1.1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.1.1.1.1.1.1.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1">subscript</csymbol><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.2.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.2">𝑋</ci><ci id="S3.SS2.p6.1.m1.1.1.1.1.1.3.cmml" xref="S3.SS2.p6.1.m1.1.1.1.1.1.3">𝑖</ci></apply><apply id="S3.SS2.p6.1.m1.2.2.2.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2"><csymbol cd="ambiguous" id="S3.SS2.p6.1.m1.2.2.2.2.2.1.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2">subscript</csymbol><ci id="S3.SS2.p6.1.m1.2.2.2.2.2.2.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.2">𝑋</ci><ci id="S3.SS2.p6.1.m1.2.2.2.2.2.3.cmml" xref="S3.SS2.p6.1.m1.2.2.2.2.2.3">𝑖</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p6.1.m1.2c">\mathrm{Sim}(X_{i},X_{i})</annotation></semantics></math> based on self-attention, take the weighted average, and concatenate the features to make a prediction.</p>
</div>
<div id="S3.SS2.p7" class="ltx_para">
<p id="S3.SS2.p7.2" class="ltx_p"><span id="S3.SS2.p7.2.1" class="ltx_text ltx_font_bold">Remark 3.</span> It is interesting to note that we can adopt <span id="S3.SS2.p7.2.2" class="ltx_text ltx_font_italic">self-attention</span> during testing. This is because <math id="S3.SS2.p7.1.m1.1" class="ltx_Math" alttext="\theta_{q}" display="inline"><semantics id="S3.SS2.p7.1.m1.1a"><msub id="S3.SS2.p7.1.m1.1.1" xref="S3.SS2.p7.1.m1.1.1.cmml"><mi id="S3.SS2.p7.1.m1.1.1.2" xref="S3.SS2.p7.1.m1.1.1.2.cmml">θ</mi><mi id="S3.SS2.p7.1.m1.1.1.3" xref="S3.SS2.p7.1.m1.1.1.3.cmml">q</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.1.m1.1b"><apply id="S3.SS2.p7.1.m1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.1.m1.1.1.1.cmml" xref="S3.SS2.p7.1.m1.1.1">subscript</csymbol><ci id="S3.SS2.p7.1.m1.1.1.2.cmml" xref="S3.SS2.p7.1.m1.1.1.2">𝜃</ci><ci id="S3.SS2.p7.1.m1.1.1.3.cmml" xref="S3.SS2.p7.1.m1.1.1.3">𝑞</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.1.m1.1c">\theta_{q}</annotation></semantics></math> and <math id="S3.SS2.p7.2.m2.1" class="ltx_Math" alttext="\theta_{k}" display="inline"><semantics id="S3.SS2.p7.2.m2.1a"><msub id="S3.SS2.p7.2.m2.1.1" xref="S3.SS2.p7.2.m2.1.1.cmml"><mi id="S3.SS2.p7.2.m2.1.1.2" xref="S3.SS2.p7.2.m2.1.1.2.cmml">θ</mi><mi id="S3.SS2.p7.2.m2.1.1.3" xref="S3.SS2.p7.2.m2.1.1.3.cmml">k</mi></msub><annotation-xml encoding="MathML-Content" id="S3.SS2.p7.2.m2.1b"><apply id="S3.SS2.p7.2.m2.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1"><csymbol cd="ambiguous" id="S3.SS2.p7.2.m2.1.1.1.cmml" xref="S3.SS2.p7.2.m2.1.1">subscript</csymbol><ci id="S3.SS2.p7.2.m2.1.1.2.cmml" xref="S3.SS2.p7.2.m2.1.1.2">𝜃</ci><ci id="S3.SS2.p7.2.m2.1.1.3.cmml" xref="S3.SS2.p7.2.m2.1.1.3">𝑘</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="S3.SS2.p7.2.m2.1c">\theta_{k}</annotation></semantics></math> are trained to capture the essential characteristics of each class, which enables the attention module to effectively find the important parts of individual samples via self-attention (e.g., see heat map visualization in Fig. <a href="#S3.F3" title="Figure 3 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>). Moreover, with only 0.44% of additional model parameters for the attention module, this strategy turns out to be very effective in learning domain-invariant characteristics of classes in data-poor FL setups, handling the key challenge of federated DG.</p>
</div>
</section>
<section id="S3.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">3.3 </span>StableFDG</h3>

<div id="S3.SS3.p1" class="ltx_para">
<p id="S3.SS3.p1.1" class="ltx_p">Finally, we put together StableFDG. In each FL round, the clients first download the global model from the server and perform style sharing, shifting, and exploration according to <a href="#S3.SS1" title="3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>, which are done in the early layers of CNNs where the style information is preserved. Then, at the output of the feature extractor, attention-based weighted averaging is applied according to Sec. <a href="#S3.SS2" title="3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>. These two components have their own roles and work in a complementary fashion to handle the challenging DG problem in FL; our style-based strategy is effective in improving the domain diversity, while our attention-based method can directly capture the domain-invariant characteristics of each class. After the local update process, the server aggregates the client models and proceeds to the next round.</p>
</div>
<div id="S3.SS3.p2" class="ltx_para">
<p id="S3.SS3.p2.1" class="ltx_p"><span id="S3.SS3.p2.1.1" class="ltx_text ltx_font_bold">Remark 4 (Computational complexity).</span> The computational complexity of StableFDG depends on the oversampling size in Sec. <a href="#S3.SS1" title="3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a> and the attention module size in Sec. <a href="#S3.SS2" title="3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.2</span></a>, which could be controlled depending on the resource constraints of clients. We show in Sec. <a href="#S4" title="4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> that StableFDG achieves the state-of-the-art performance with (i) minimal oversampling size and (ii) negligible cost of attention module. A more detailed discussion on the computational complexity is in Appendix.</p>
</div>
</section>
</section>
<section id="S4" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">4 </span>Experimental Results</h2>

<section id="S4.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.1 </span>Experimental Setup</h3>

<div id="S4.SS1.p1" class="ltx_para">
<p id="S4.SS1.p1.1" class="ltx_p"><span id="S4.SS1.p1.1.1" class="ltx_text ltx_font_bold">Datasets.</span> We consider five datasets commonly adopted in DG literature: PACS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib14" title="" class="ltx_ref">14</a>]</cite>, VLCS <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib6" title="" class="ltx_ref">6</a>]</cite>, Digits-DG <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib38" title="" class="ltx_ref">38</a>]</cite>, Office-Home <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib33" title="" class="ltx_ref">33</a>]</cite>, and DomainNet <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib30" title="" class="ltx_ref">30</a>]</cite>. PACS consists of 7 classes from 4 different domains, while VLCS contains 4 domains with 5 classes. Digits-DG is composed of 4 different digit datasets, MNIST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib13" title="" class="ltx_ref">13</a>]</cite>, MNIST-M <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, SVHN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib27" title="" class="ltx_ref">27</a>]</cite>, SYN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib8" title="" class="ltx_ref">8</a>]</cite>, each corresponding to a single domain. Office-Home consists of 65 classes from 4 domains, while DomainNet has 345 classes from 6 domains. The DomainNet results are reported in Appendix.</p>
</div>
<div id="S4.SS1.p2" class="ltx_para">
<p id="S4.SS1.p2.3" class="ltx_p"><span id="S4.SS1.p2.3.1" class="ltx_text ltx_font_bold">Data partitioning for FL.</span> When evaluating the model performance, we follow the conventional leave-one-domain-out protocol where one domain is selected as a target and the remaining domains are utilized as sources. Compared to the centralized setup, in FL, the source domains are distributed across the clients. We consider a setup with <math id="S4.SS1.p2.1.m1.1" class="ltx_Math" alttext="N=30" display="inline"><semantics id="S4.SS1.p2.1.m1.1a"><mrow id="S4.SS1.p2.1.m1.1.1" xref="S4.SS1.p2.1.m1.1.1.cmml"><mi id="S4.SS1.p2.1.m1.1.1.2" xref="S4.SS1.p2.1.m1.1.1.2.cmml">N</mi><mo id="S4.SS1.p2.1.m1.1.1.1" xref="S4.SS1.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS1.p2.1.m1.1.1.3" xref="S4.SS1.p2.1.m1.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.1.m1.1b"><apply id="S4.SS1.p2.1.m1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1"><eq id="S4.SS1.p2.1.m1.1.1.1.cmml" xref="S4.SS1.p2.1.m1.1.1.1"></eq><ci id="S4.SS1.p2.1.m1.1.1.2.cmml" xref="S4.SS1.p2.1.m1.1.1.2">𝑁</ci><cn type="integer" id="S4.SS1.p2.1.m1.1.1.3.cmml" xref="S4.SS1.p2.1.m1.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.1.m1.1c">N=30</annotation></semantics></math> clients and distribute the training set into two different ways: <span id="S4.SS1.p2.3.2" class="ltx_text ltx_font_italic">single-domain data distribution</span> and <span id="S4.SS1.p2.3.3" class="ltx_text ltx_font_italic">multi-domain data distribution</span> scenarios. In a single-domain setup, we let each client to have training data that belong to a single source domain. Since there are three different source domains during training (except DomainNet), the training data of each domain is distributed across 10 clients uniformly at random. In a multi-domain distribution setup, each client can have multiple domains, but the domain distribution within each client is heterogeneous. For each domain, we sample the heterogeneous proportion from Dirichlet distribution with dimension <math id="S4.SS1.p2.2.m2.1" class="ltx_Math" alttext="N=30" display="inline"><semantics id="S4.SS1.p2.2.m2.1a"><mrow id="S4.SS1.p2.2.m2.1.1" xref="S4.SS1.p2.2.m2.1.1.cmml"><mi id="S4.SS1.p2.2.m2.1.1.2" xref="S4.SS1.p2.2.m2.1.1.2.cmml">N</mi><mo id="S4.SS1.p2.2.m2.1.1.1" xref="S4.SS1.p2.2.m2.1.1.1.cmml">=</mo><mn id="S4.SS1.p2.2.m2.1.1.3" xref="S4.SS1.p2.2.m2.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.2.m2.1b"><apply id="S4.SS1.p2.2.m2.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1"><eq id="S4.SS1.p2.2.m2.1.1.1.cmml" xref="S4.SS1.p2.2.m2.1.1.1"></eq><ci id="S4.SS1.p2.2.m2.1.1.2.cmml" xref="S4.SS1.p2.2.m2.1.1.2">𝑁</ci><cn type="integer" id="S4.SS1.p2.2.m2.1.1.3.cmml" xref="S4.SS1.p2.2.m2.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.2.m2.1c">N=30</annotation></semantics></math> and parameter of 0.5, and distribute the train samples of each domain to individual clients according to the sampled proportion. In Appendix, we also report the results with <math id="S4.SS1.p2.3.m3.1" class="ltx_Math" alttext="N=3" display="inline"><semantics id="S4.SS1.p2.3.m3.1a"><mrow id="S4.SS1.p2.3.m3.1.1" xref="S4.SS1.p2.3.m3.1.1.cmml"><mi id="S4.SS1.p2.3.m3.1.1.2" xref="S4.SS1.p2.3.m3.1.1.2.cmml">N</mi><mo id="S4.SS1.p2.3.m3.1.1.1" xref="S4.SS1.p2.3.m3.1.1.1.cmml">=</mo><mn id="S4.SS1.p2.3.m3.1.1.3" xref="S4.SS1.p2.3.m3.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p2.3.m3.1b"><apply id="S4.SS1.p2.3.m3.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1"><eq id="S4.SS1.p2.3.m3.1.1.1.cmml" xref="S4.SS1.p2.3.m3.1.1.1"></eq><ci id="S4.SS1.p2.3.m3.1.1.2.cmml" xref="S4.SS1.p2.3.m3.1.1.2">𝑁</ci><cn type="integer" id="S4.SS1.p2.3.m3.1.1.3.cmml" xref="S4.SS1.p2.3.m3.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p2.3.m3.1c">N=3</annotation></semantics></math> following the settings of prior works in federated DG <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite>.</p>
</div>
<div id="S4.SS1.p3" class="ltx_para">
<p id="S4.SS1.p3.8" class="ltx_p"><span id="S4.SS1.p3.8.1" class="ltx_text ltx_font_bold">Implementation.</span> Following <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite>, we utilize ResNet-18 pretrained on ImageNet as a backbone while the results on ResNet-50 are reported in Sec. <a href="#S4.SS3" title="4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4.3</span></a>. The exploration level <math id="S4.SS1.p3.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS1.p3.1.m1.1a"><mi id="S4.SS1.p3.1.m1.1.1" xref="S4.SS1.p3.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.1.m1.1b"><ci id="S4.SS1.p3.1.m1.1.1.cmml" xref="S4.SS1.p3.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.1.m1.1c">\alpha</annotation></semantics></math> is set to 3 for all experiments regardless of datasets. For our attention module, we set the embedding size <math id="S4.SS1.p3.2.m2.1" class="ltx_Math" alttext="d" display="inline"><semantics id="S4.SS1.p3.2.m2.1a"><mi id="S4.SS1.p3.2.m2.1.1" xref="S4.SS1.p3.2.m2.1.1.cmml">d</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.2.m2.1b"><ci id="S4.SS1.p3.2.m2.1.1.cmml" xref="S4.SS1.p3.2.m2.1.1">𝑑</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.2.m2.1c">d</annotation></semantics></math> of queries <math id="S4.SS1.p3.3.m3.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S4.SS1.p3.3.m3.1a"><mi id="S4.SS1.p3.3.m3.1.1" xref="S4.SS1.p3.3.m3.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.3.m3.1b"><ci id="S4.SS1.p3.3.m3.1.1.cmml" xref="S4.SS1.p3.3.m3.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.3.m3.1c">Q</annotation></semantics></math> and keys <math id="S4.SS1.p3.4.m4.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS1.p3.4.m4.1a"><mi id="S4.SS1.p3.4.m4.1.1" xref="S4.SS1.p3.4.m4.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.4.m4.1b"><ci id="S4.SS1.p3.4.m4.1.1.cmml" xref="S4.SS1.p3.4.m4.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.4.m4.1c">K</annotation></semantics></math> to 30, where <math id="S4.SS1.p3.5.m5.1" class="ltx_Math" alttext="Q" display="inline"><semantics id="S4.SS1.p3.5.m5.1a"><mi id="S4.SS1.p3.5.m5.1.1" xref="S4.SS1.p3.5.m5.1.1.cmml">Q</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.5.m5.1b"><ci id="S4.SS1.p3.5.m5.1.1.cmml" xref="S4.SS1.p3.5.m5.1.1">𝑄</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.5.m5.1c">Q</annotation></semantics></math> and <math id="S4.SS1.p3.6.m6.1" class="ltx_Math" alttext="K" display="inline"><semantics id="S4.SS1.p3.6.m6.1a"><mi id="S4.SS1.p3.6.m6.1.1" xref="S4.SS1.p3.6.m6.1.1.cmml">K</mi><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.6.m6.1b"><ci id="S4.SS1.p3.6.m6.1.1.cmml" xref="S4.SS1.p3.6.m6.1.1">𝐾</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.6.m6.1c">K</annotation></semantics></math> matrices are extracted from the output of the last residual block using <math id="S4.SS1.p3.7.m7.1" class="ltx_Math" alttext="1\times 1" display="inline"><semantics id="S4.SS1.p3.7.m7.1a"><mrow id="S4.SS1.p3.7.m7.1.1" xref="S4.SS1.p3.7.m7.1.1.cmml"><mn id="S4.SS1.p3.7.m7.1.1.2" xref="S4.SS1.p3.7.m7.1.1.2.cmml">1</mn><mo lspace="0.222em" rspace="0.222em" id="S4.SS1.p3.7.m7.1.1.1" xref="S4.SS1.p3.7.m7.1.1.1.cmml">×</mo><mn id="S4.SS1.p3.7.m7.1.1.3" xref="S4.SS1.p3.7.m7.1.1.3.cmml">1</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.7.m7.1b"><apply id="S4.SS1.p3.7.m7.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1"><times id="S4.SS1.p3.7.m7.1.1.1.cmml" xref="S4.SS1.p3.7.m7.1.1.1"></times><cn type="integer" id="S4.SS1.p3.7.m7.1.1.2.cmml" xref="S4.SS1.p3.7.m7.1.1.2">1</cn><cn type="integer" id="S4.SS1.p3.7.m7.1.1.3.cmml" xref="S4.SS1.p3.7.m7.1.1.3">1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.7.m7.1c">1\times 1</annotation></semantics></math> convolution such that the channel size of each output is 30. When the attention module is applied, the input dimension of the classifier becomes twice as large since we concatenate the attention feature with the last embedding feature before the classifier. The number of additional model parameters for the attention module is only 0.44% of the entire model. FL is performed for 50 global rounds and we trained the local model for 5 epochs with a mini-batch size of 32. Among a total of <math id="S4.SS1.p3.8.m8.1" class="ltx_Math" alttext="N=30" display="inline"><semantics id="S4.SS1.p3.8.m8.1a"><mrow id="S4.SS1.p3.8.m8.1.1" xref="S4.SS1.p3.8.m8.1.1.cmml"><mi id="S4.SS1.p3.8.m8.1.1.2" xref="S4.SS1.p3.8.m8.1.1.2.cmml">N</mi><mo id="S4.SS1.p3.8.m8.1.1.1" xref="S4.SS1.p3.8.m8.1.1.1.cmml">=</mo><mn id="S4.SS1.p3.8.m8.1.1.3" xref="S4.SS1.p3.8.m8.1.1.3.cmml">30</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS1.p3.8.m8.1b"><apply id="S4.SS1.p3.8.m8.1.1.cmml" xref="S4.SS1.p3.8.m8.1.1"><eq id="S4.SS1.p3.8.m8.1.1.1.cmml" xref="S4.SS1.p3.8.m8.1.1.1"></eq><ci id="S4.SS1.p3.8.m8.1.1.2.cmml" xref="S4.SS1.p3.8.m8.1.1.2">𝑁</ci><cn type="integer" id="S4.SS1.p3.8.m8.1.1.3.cmml" xref="S4.SS1.p3.8.m8.1.1.3">30</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS1.p3.8.m8.1c">N=30</annotation></semantics></math> clients, 10 clients participate in each global round. All reported results are averaged over three random seeds.</p>
</div>
<div id="S4.SS1.p4" class="ltx_para">
<p id="S4.SS1.p4.1" class="ltx_p"><span id="S4.SS1.p4.1.1" class="ltx_text ltx_font_bold">Where to apply style-based modules.</span> Inspired by <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>, we apply our style-based modules with a probability of 0.5 at specific layers. In particular, style sharing and shifting are executed at the first residual block of ResNet with a probability 0.5, while the style exploration module is performed at the first or second or third residual blocks independently with probability 0.5 after style sharing/shifting.</p>
</div>
<figure id="S4.T1" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.T1.st1" class="ltx_table ltx_figure_panel ltx_align_center">
<table id="S4.T1.st1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.st1.2.1.1" class="ltx_tr">
<th id="S4.T1.st1.2.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_border_rr ltx_border_tt"></th>
<th id="S4.T1.st1.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5"><span id="S4.T1.st1.2.1.1.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">PACS</span></th>
<th id="S4.T1.st1.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5"><span id="S4.T1.st1.2.1.1.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">VLCS</span></th>
</tr>
<tr id="S4.T1.st1.2.2.2" class="ltx_tr">
<th id="S4.T1.st1.2.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_rr"><span id="S4.T1.st1.2.2.2.1.1" class="ltx_text" style="font-size:70%;">Methods</span></th>
<th id="S4.T1.st1.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st1.2.2.2.2.1" class="ltx_text" style="font-size:70%;">Art</span></th>
<th id="S4.T1.st1.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st1.2.2.2.3.1" class="ltx_text" style="font-size:70%;">Cartoon</span></th>
<th id="S4.T1.st1.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st1.2.2.2.4.1" class="ltx_text" style="font-size:70%;">Photo</span></th>
<th id="S4.T1.st1.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T1.st1.2.2.2.5.1" class="ltx_text" style="font-size:70%;">Sketch</span></th>
<th id="S4.T1.st1.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_rr ltx_border_t"><span id="S4.T1.st1.2.2.2.6.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
<th id="S4.T1.st1.2.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st1.2.2.2.7.1" class="ltx_text" style="font-size:70%;">Caltech</span></th>
<th id="S4.T1.st1.2.2.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st1.2.2.2.8.1" class="ltx_text" style="font-size:70%;">LabelMe</span></th>
<th id="S4.T1.st1.2.2.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st1.2.2.2.9.1" class="ltx_text" style="font-size:70%;">Pascal</span></th>
<th id="S4.T1.st1.2.2.2.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T1.st1.2.2.2.10.1" class="ltx_text" style="font-size:70%;">Sun</span></th>
<th id="S4.T1.st1.2.2.2.11" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st1.2.2.2.11.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.st1.2.3.1" class="ltx_tr">
<td id="S4.T1.st1.2.3.1.1" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">
<span id="S4.T1.st1.2.3.1.1.1" class="ltx_text" style="font-size:70%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st1.2.3.1.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib26" title="" class="ltx_ref">26</a><span id="S4.T1.st1.2.3.1.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st1.2.3.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st1.2.3.1.2.1" class="ltx_text" style="font-size:70%;">73.67</span></td>
<td id="S4.T1.st1.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st1.2.3.1.3.1" class="ltx_text" style="font-size:70%;">70.87</span></td>
<td id="S4.T1.st1.2.3.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st1.2.3.1.4.1" class="ltx_text" style="font-size:70%;">90.27</span></td>
<td id="S4.T1.st1.2.3.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.st1.2.3.1.5.1" class="ltx_text" style="font-size:70%;">55.70</span></td>
<td id="S4.T1.st1.2.3.1.6" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t"><span id="S4.T1.st1.2.3.1.6.1" class="ltx_text" style="font-size:70%;">72.63</span></td>
<td id="S4.T1.st1.2.3.1.7" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st1.2.3.1.7.1" class="ltx_text" style="font-size:70%;">93.75</span></td>
<td id="S4.T1.st1.2.3.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st1.2.3.1.8.1" class="ltx_text" style="font-size:70%;">59.30</span></td>
<td id="S4.T1.st1.2.3.1.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st1.2.3.1.9.1" class="ltx_text" style="font-size:70%;">70.05</span></td>
<td id="S4.T1.st1.2.3.1.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.st1.2.3.1.10.1" class="ltx_text" style="font-size:70%;">69.90</span></td>
<td id="S4.T1.st1.2.3.1.11" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st1.2.3.1.11.1" class="ltx_text" style="font-size:70%;">73.25</span></td>
</tr>
<tr id="S4.T1.st1.2.4.2" class="ltx_tr">
<td id="S4.T1.st1.2.4.2.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st1.2.4.2.1.1" class="ltx_text" style="font-size:70%;">FedBN </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st1.2.4.2.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib22" title="" class="ltx_ref">22</a><span id="S4.T1.st1.2.4.2.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st1.2.4.2.2" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.4.2.2.1" class="ltx_text" style="font-size:70%;">78.42</span></td>
<td id="S4.T1.st1.2.4.2.3" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.4.2.3.1" class="ltx_text" style="font-size:70%;">70.9</span></td>
<td id="S4.T1.st1.2.4.2.4" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.4.2.4.1" class="ltx_text" style="font-size:70%;">90.96</span></td>
<td id="S4.T1.st1.2.4.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.4.2.5.1" class="ltx_text" style="font-size:70%;">54.07</span></td>
<td id="S4.T1.st1.2.4.2.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st1.2.4.2.6.1" class="ltx_text" style="font-size:70%;">73.59</span></td>
<td id="S4.T1.st1.2.4.2.7" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.4.2.7.1" class="ltx_text" style="font-size:70%;">94.81</span></td>
<td id="S4.T1.st1.2.4.2.8" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.4.2.8.1" class="ltx_text" style="font-size:70%;">58.59</span></td>
<td id="S4.T1.st1.2.4.2.9" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.4.2.9.1" class="ltx_text" style="font-size:70%;">72.06</span></td>
<td id="S4.T1.st1.2.4.2.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.4.2.10.1" class="ltx_text" style="font-size:70%;">70.36</span></td>
<td id="S4.T1.st1.2.4.2.11" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.4.2.11.1" class="ltx_text" style="font-size:70%;">73.96</span></td>
</tr>
<tr id="S4.T1.st1.2.5.3" class="ltx_tr">
<td id="S4.T1.st1.2.5.3.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st1.2.5.3.1.1" class="ltx_text" style="font-size:70%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st1.2.5.3.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="S4.T1.st1.2.5.3.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st1.2.5.3.2" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.5.3.2.1" class="ltx_text" style="font-size:70%;">79.10</span></td>
<td id="S4.T1.st1.2.5.3.3" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.5.3.3.1" class="ltx_text" style="font-size:70%;">76.30</span></td>
<td id="S4.T1.st1.2.5.3.4" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.5.3.4.1" class="ltx_text" style="font-size:70%;">90.10</span></td>
<td id="S4.T1.st1.2.5.3.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.5.3.5.1" class="ltx_text" style="font-size:70%;">60.63</span></td>
<td id="S4.T1.st1.2.5.3.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st1.2.5.3.6.1" class="ltx_text" style="font-size:70%;">76.53</span></td>
<td id="S4.T1.st1.2.5.3.7" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.5.3.7.1" class="ltx_text" style="font-size:70%;">95.20</span></td>
<td id="S4.T1.st1.2.5.3.8" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.5.3.8.1" class="ltx_text" style="font-size:70%;">60.40</span></td>
<td id="S4.T1.st1.2.5.3.9" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.5.3.9.1" class="ltx_text" style="font-size:70%;">72.10</span></td>
<td id="S4.T1.st1.2.5.3.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.5.3.10.1" class="ltx_text" style="font-size:70%;">69.93</span></td>
<td id="S4.T1.st1.2.5.3.11" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.5.3.11.1" class="ltx_text" style="font-size:70%;">74.41</span></td>
</tr>
<tr id="S4.T1.st1.2.6.4" class="ltx_tr">
<td id="S4.T1.st1.2.6.4.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st1.2.6.4.1.1" class="ltx_text" style="font-size:70%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st1.2.6.4.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="S4.T1.st1.2.6.4.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st1.2.6.4.2" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.6.4.2.1" class="ltx_text" style="font-size:70%;">80.43</span></td>
<td id="S4.T1.st1.2.6.4.3" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.6.4.3.1" class="ltx_text" style="font-size:70%;">75.70</span></td>
<td id="S4.T1.st1.2.6.4.4" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.6.4.4.1" class="ltx_text" style="font-size:70%;">92.60</span></td>
<td id="S4.T1.st1.2.6.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.6.4.5.1" class="ltx_text" style="font-size:70%;">69.87</span></td>
<td id="S4.T1.st1.2.6.4.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st1.2.6.4.6.1" class="ltx_text" style="font-size:70%;">79.65</span></td>
<td id="S4.T1.st1.2.6.4.7" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.6.4.7.1" class="ltx_text" style="font-size:70%;">96.13</span></td>
<td id="S4.T1.st1.2.6.4.8" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.6.4.8.1" class="ltx_text" style="font-size:70%;">58.77</span></td>
<td id="S4.T1.st1.2.6.4.9" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.6.4.9.1" class="ltx_text" style="font-size:70%;">71.80</span></td>
<td id="S4.T1.st1.2.6.4.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.6.4.10.1" class="ltx_text" style="font-size:70%;">71.87</span></td>
<td id="S4.T1.st1.2.6.4.11" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.6.4.11.1" class="ltx_text" style="font-size:70%;">74.64</span></td>
</tr>
<tr id="S4.T1.st1.2.7.5" class="ltx_tr">
<td id="S4.T1.st1.2.7.5.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st1.2.7.5.1.1" class="ltx_text" style="font-size:70%;">CCST </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st1.2.7.5.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib2" title="" class="ltx_ref">2</a><span id="S4.T1.st1.2.7.5.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st1.2.7.5.2" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.7.5.2.1" class="ltx_text" style="font-size:70%;">71.35</span></td>
<td id="S4.T1.st1.2.7.5.3" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.7.5.3.1" class="ltx_text" style="font-size:70%;">72.40</span></td>
<td id="S4.T1.st1.2.7.5.4" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.7.5.4.1" class="ltx_text" style="font-size:70%;">88.65</span></td>
<td id="S4.T1.st1.2.7.5.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.7.5.5.1" class="ltx_text" style="font-size:70%;">64.10</span></td>
<td id="S4.T1.st1.2.7.5.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st1.2.7.5.6.1" class="ltx_text" style="font-size:70%;">74.13</span></td>
<td id="S4.T1.st1.2.7.5.7" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.7.5.7.1" class="ltx_text" style="font-size:70%;">92.50</span></td>
<td id="S4.T1.st1.2.7.5.8" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.7.5.8.1" class="ltx_text" style="font-size:70%;">61.20</span></td>
<td id="S4.T1.st1.2.7.5.9" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.7.5.9.1" class="ltx_text" style="font-size:70%;">68.20</span></td>
<td id="S4.T1.st1.2.7.5.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.7.5.10.1" class="ltx_text" style="font-size:70%;">66.50</span></td>
<td id="S4.T1.st1.2.7.5.11" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.7.5.11.1" class="ltx_text" style="font-size:70%;">72.10</span></td>
</tr>
<tr id="S4.T1.st1.2.8.6" class="ltx_tr">
<td id="S4.T1.st1.2.8.6.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st1.2.8.6.1.1" class="ltx_text" style="font-size:70%;">FedDG </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st1.2.8.6.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib25" title="" class="ltx_ref">25</a><span id="S4.T1.st1.2.8.6.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st1.2.8.6.2" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.8.6.2.1" class="ltx_text" style="font-size:70%;">71.20</span></td>
<td id="S4.T1.st1.2.8.6.3" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.8.6.3.1" class="ltx_text" style="font-size:70%;">71.40</span></td>
<td id="S4.T1.st1.2.8.6.4" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.8.6.4.1" class="ltx_text" style="font-size:70%;">90.70</span></td>
<td id="S4.T1.st1.2.8.6.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.8.6.5.1" class="ltx_text" style="font-size:70%;">59.20</span></td>
<td id="S4.T1.st1.2.8.6.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st1.2.8.6.6.1" class="ltx_text" style="font-size:70%;">73.13</span></td>
<td id="S4.T1.st1.2.8.6.7" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.8.6.7.1" class="ltx_text" style="font-size:70%;">95.3</span></td>
<td id="S4.T1.st1.2.8.6.8" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.8.6.8.1" class="ltx_text" style="font-size:70%;">57.5</span></td>
<td id="S4.T1.st1.2.8.6.9" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.8.6.9.1" class="ltx_text" style="font-size:70%;">72.8</span></td>
<td id="S4.T1.st1.2.8.6.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.8.6.10.1" class="ltx_text" style="font-size:70%;">69.8</span></td>
<td id="S4.T1.st1.2.8.6.11" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.8.6.11.1" class="ltx_text" style="font-size:70%;">73.85</span></td>
</tr>
<tr id="S4.T1.st1.2.9.7" class="ltx_tr">
<td id="S4.T1.st1.2.9.7.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st1.2.9.7.1.1" class="ltx_text" style="font-size:70%;">FedSR </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st1.2.9.7.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib28" title="" class="ltx_ref">28</a><span id="S4.T1.st1.2.9.7.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st1.2.9.7.2" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.9.7.2.1" class="ltx_text" style="font-size:70%;">76.40</span></td>
<td id="S4.T1.st1.2.9.7.3" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.9.7.3.1" class="ltx_text" style="font-size:70%;">71.25</span></td>
<td id="S4.T1.st1.2.9.7.4" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.9.7.4.1" class="ltx_text" style="font-size:70%;">93.25</span></td>
<td id="S4.T1.st1.2.9.7.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.9.7.5.1" class="ltx_text" style="font-size:70%;">60.55</span></td>
<td id="S4.T1.st1.2.9.7.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st1.2.9.7.6.1" class="ltx_text" style="font-size:70%;">75.36</span></td>
<td id="S4.T1.st1.2.9.7.7" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.9.7.7.1" class="ltx_text" style="font-size:70%;">92.10</span></td>
<td id="S4.T1.st1.2.9.7.8" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.9.7.8.1" class="ltx_text" style="font-size:70%;">60.50</span></td>
<td id="S4.T1.st1.2.9.7.9" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.9.7.9.1" class="ltx_text" style="font-size:70%;">70.75</span></td>
<td id="S4.T1.st1.2.9.7.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st1.2.9.7.10.1" class="ltx_text" style="font-size:70%;">71.65</span></td>
<td id="S4.T1.st1.2.9.7.11" class="ltx_td ltx_align_center"><span id="S4.T1.st1.2.9.7.11.1" class="ltx_text" style="font-size:70%;">73.75</span></td>
</tr>
<tr id="S4.T1.st1.2.10.8" class="ltx_tr">
<td id="S4.T1.st1.2.10.8.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_rr">
<span id="S4.T1.st1.2.10.8.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">StableFDG</span><span id="S4.T1.st1.2.10.8.1.2" class="ltx_text" style="font-size:70%;"> (ours)</span>
</td>
<td id="S4.T1.st1.2.10.8.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st1.2.10.8.2.1" class="ltx_text" style="font-size:70%;">84.10</span></td>
<td id="S4.T1.st1.2.10.8.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st1.2.10.8.3.1" class="ltx_text" style="font-size:70%;">78.57</span></td>
<td id="S4.T1.st1.2.10.8.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st1.2.10.8.4.1" class="ltx_text" style="font-size:70%;">95.40</span></td>
<td id="S4.T1.st1.2.10.8.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T1.st1.2.10.8.5.1" class="ltx_text" style="font-size:70%;">72.73</span></td>
<td id="S4.T1.st1.2.10.8.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_rr"><span id="S4.T1.st1.2.10.8.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:70%;">82.70</span></td>
<td id="S4.T1.st1.2.10.8.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st1.2.10.8.7.1" class="ltx_text" style="font-size:70%;">98.13</span></td>
<td id="S4.T1.st1.2.10.8.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st1.2.10.8.8.1" class="ltx_text" style="font-size:70%;">59.20</span></td>
<td id="S4.T1.st1.2.10.8.9" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st1.2.10.8.9.1" class="ltx_text" style="font-size:70%;">73.60</span></td>
<td id="S4.T1.st1.2.10.8.10" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T1.st1.2.10.8.10.1" class="ltx_text" style="font-size:70%;">70.27</span></td>
<td id="S4.T1.st1.2.10.8.11" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st1.2.10.8.11.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:70%;">75.30</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.st1.5.1.1" class="ltx_text" style="font-size:129%;">(a)</span> </span><span id="S4.T1.st1.6.2" class="ltx_text" style="font-size:129%;">PACS and VLCS datasets.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.T1.st2" class="ltx_table ltx_figure_panel ltx_align_center">
<table id="S4.T1.st2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T1.st2.2.1.1" class="ltx_tr">
<th id="S4.T1.st2.2.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_border_rr ltx_border_tt"></th>
<th id="S4.T1.st2.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5"><span id="S4.T1.st2.2.1.1.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Office-Home</span></th>
<th id="S4.T1.st2.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5"><span id="S4.T1.st2.2.1.1.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Digits-DG</span></th>
</tr>
<tr id="S4.T1.st2.2.2.2" class="ltx_tr">
<th id="S4.T1.st2.2.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_rr"><span id="S4.T1.st2.2.2.2.1.1" class="ltx_text" style="font-size:70%;">Methods</span></th>
<th id="S4.T1.st2.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st2.2.2.2.2.1" class="ltx_text" style="font-size:70%;">Art</span></th>
<th id="S4.T1.st2.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st2.2.2.2.3.1" class="ltx_text" style="font-size:70%;">Clipart</span></th>
<th id="S4.T1.st2.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st2.2.2.2.4.1" class="ltx_text" style="font-size:70%;">Product</span></th>
<th id="S4.T1.st2.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T1.st2.2.2.2.5.1" class="ltx_text" style="font-size:70%;">Real</span></th>
<th id="S4.T1.st2.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_rr ltx_border_t"><span id="S4.T1.st2.2.2.2.6.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
<th id="S4.T1.st2.2.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st2.2.2.2.7.1" class="ltx_text" style="font-size:70%;">MNIST</span></th>
<th id="S4.T1.st2.2.2.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st2.2.2.2.8.1" class="ltx_text" style="font-size:70%;">MNIST-M</span></th>
<th id="S4.T1.st2.2.2.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st2.2.2.2.9.1" class="ltx_text" style="font-size:70%;">SVHN</span></th>
<th id="S4.T1.st2.2.2.2.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T1.st2.2.2.2.10.1" class="ltx_text" style="font-size:70%;">SYN</span></th>
<th id="S4.T1.st2.2.2.2.11" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T1.st2.2.2.2.11.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T1.st2.2.3.1" class="ltx_tr">
<td id="S4.T1.st2.2.3.1.1" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">
<span id="S4.T1.st2.2.3.1.1.1" class="ltx_text" style="font-size:70%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st2.2.3.1.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib26" title="" class="ltx_ref">26</a><span id="S4.T1.st2.2.3.1.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st2.2.3.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st2.2.3.1.2.1" class="ltx_text" style="font-size:70%;">57.27</span></td>
<td id="S4.T1.st2.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st2.2.3.1.3.1" class="ltx_text" style="font-size:70%;">48.23</span></td>
<td id="S4.T1.st2.2.3.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st2.2.3.1.4.1" class="ltx_text" style="font-size:70%;">72.77</span></td>
<td id="S4.T1.st2.2.3.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.st2.2.3.1.5.1" class="ltx_text" style="font-size:70%;">74.60</span></td>
<td id="S4.T1.st2.2.3.1.6" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t"><span id="S4.T1.st2.2.3.1.6.1" class="ltx_text" style="font-size:70%;">63.22</span></td>
<td id="S4.T1.st2.2.3.1.7" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st2.2.3.1.7.1" class="ltx_text" style="font-size:70%;">98.05</span></td>
<td id="S4.T1.st2.2.3.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st2.2.3.1.8.1" class="ltx_text" style="font-size:70%;">70.95</span></td>
<td id="S4.T1.st2.2.3.1.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st2.2.3.1.9.1" class="ltx_text" style="font-size:70%;">68.95</span></td>
<td id="S4.T1.st2.2.3.1.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T1.st2.2.3.1.10.1" class="ltx_text" style="font-size:70%;">86.40</span></td>
<td id="S4.T1.st2.2.3.1.11" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T1.st2.2.3.1.11.1" class="ltx_text" style="font-size:70%;">81.09</span></td>
</tr>
<tr id="S4.T1.st2.2.4.2" class="ltx_tr">
<td id="S4.T1.st2.2.4.2.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st2.2.4.2.1.1" class="ltx_text" style="font-size:70%;">FedBN </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st2.2.4.2.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib22" title="" class="ltx_ref">22</a><span id="S4.T1.st2.2.4.2.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st2.2.4.2.2" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.4.2.2.1" class="ltx_text" style="font-size:70%;">57.56</span></td>
<td id="S4.T1.st2.2.4.2.3" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.4.2.3.1" class="ltx_text" style="font-size:70%;">48.13</span></td>
<td id="S4.T1.st2.2.4.2.4" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.4.2.4.1" class="ltx_text" style="font-size:70%;">72.65</span></td>
<td id="S4.T1.st2.2.4.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.4.2.5.1" class="ltx_text" style="font-size:70%;">74.57</span></td>
<td id="S4.T1.st2.2.4.2.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st2.2.4.2.6.1" class="ltx_text" style="font-size:70%;">63.23</span></td>
<td id="S4.T1.st2.2.4.2.7" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.4.2.7.1" class="ltx_text" style="font-size:70%;">97.33</span></td>
<td id="S4.T1.st2.2.4.2.8" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.4.2.8.1" class="ltx_text" style="font-size:70%;">72.68</span></td>
<td id="S4.T1.st2.2.4.2.9" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.4.2.9.1" class="ltx_text" style="font-size:70%;">71.77</span></td>
<td id="S4.T1.st2.2.4.2.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.4.2.10.1" class="ltx_text" style="font-size:70%;">85.36</span></td>
<td id="S4.T1.st2.2.4.2.11" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.4.2.11.1" class="ltx_text" style="font-size:70%;">81.79</span></td>
</tr>
<tr id="S4.T1.st2.2.5.3" class="ltx_tr">
<td id="S4.T1.st2.2.5.3.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st2.2.5.3.1.1" class="ltx_text" style="font-size:70%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st2.2.5.3.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="S4.T1.st2.2.5.3.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st2.2.5.3.2" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.5.3.2.1" class="ltx_text" style="font-size:70%;">56.05</span></td>
<td id="S4.T1.st2.2.5.3.3" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.5.3.3.1" class="ltx_text" style="font-size:70%;">51.55</span></td>
<td id="S4.T1.st2.2.5.3.4" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.5.3.4.1" class="ltx_text" style="font-size:70%;">70.95</span></td>
<td id="S4.T1.st2.2.5.3.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.5.3.5.1" class="ltx_text" style="font-size:70%;">73.25</span></td>
<td id="S4.T1.st2.2.5.3.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st2.2.5.3.6.1" class="ltx_text" style="font-size:70%;">62.95</span></td>
<td id="S4.T1.st2.2.5.3.7" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.5.3.7.1" class="ltx_text" style="font-size:70%;">97.75</span></td>
<td id="S4.T1.st2.2.5.3.8" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.5.3.8.1" class="ltx_text" style="font-size:70%;">74.25</span></td>
<td id="S4.T1.st2.2.5.3.9" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.5.3.9.1" class="ltx_text" style="font-size:70%;">70.85</span></td>
<td id="S4.T1.st2.2.5.3.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.5.3.10.1" class="ltx_text" style="font-size:70%;">85.50</span></td>
<td id="S4.T1.st2.2.5.3.11" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.5.3.11.1" class="ltx_text" style="font-size:70%;">82.09</span></td>
</tr>
<tr id="S4.T1.st2.2.6.4" class="ltx_tr">
<td id="S4.T1.st2.2.6.4.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st2.2.6.4.1.1" class="ltx_text" style="font-size:70%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st2.2.6.4.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="S4.T1.st2.2.6.4.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st2.2.6.4.2" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.6.4.2.1" class="ltx_text" style="font-size:70%;">58.55</span></td>
<td id="S4.T1.st2.2.6.4.3" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.6.4.3.1" class="ltx_text" style="font-size:70%;">52.60</span></td>
<td id="S4.T1.st2.2.6.4.4" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.6.4.4.1" class="ltx_text" style="font-size:70%;">71.60</span></td>
<td id="S4.T1.st2.2.6.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.6.4.5.1" class="ltx_text" style="font-size:70%;">73.15</span></td>
<td id="S4.T1.st2.2.6.4.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st2.2.6.4.6.1" class="ltx_text" style="font-size:70%;">63.98</span></td>
<td id="S4.T1.st2.2.6.4.7" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.6.4.7.1" class="ltx_text" style="font-size:70%;">98.10</span></td>
<td id="S4.T1.st2.2.6.4.8" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.6.4.8.1" class="ltx_text" style="font-size:70%;">75.60</span></td>
<td id="S4.T1.st2.2.6.4.9" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.6.4.9.1" class="ltx_text" style="font-size:70%;">70.47</span></td>
<td id="S4.T1.st2.2.6.4.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.6.4.10.1" class="ltx_text" style="font-size:70%;">85.80</span></td>
<td id="S4.T1.st2.2.6.4.11" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.6.4.11.1" class="ltx_text" style="font-size:70%;">82.49</span></td>
</tr>
<tr id="S4.T1.st2.2.7.5" class="ltx_tr">
<td id="S4.T1.st2.2.7.5.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st2.2.7.5.1.1" class="ltx_text" style="font-size:70%;">CCST </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st2.2.7.5.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib2" title="" class="ltx_ref">2</a><span id="S4.T1.st2.2.7.5.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st2.2.7.5.2" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.7.5.2.1" class="ltx_text" style="font-size:70%;">51.3</span></td>
<td id="S4.T1.st2.2.7.5.3" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.7.5.3.1" class="ltx_text" style="font-size:70%;">51.75</span></td>
<td id="S4.T1.st2.2.7.5.4" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.7.5.4.1" class="ltx_text" style="font-size:70%;">70.2</span></td>
<td id="S4.T1.st2.2.7.5.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.7.5.5.1" class="ltx_text" style="font-size:70%;">70.3</span></td>
<td id="S4.T1.st2.2.7.5.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st2.2.7.5.6.1" class="ltx_text" style="font-size:70%;">60.89</span></td>
<td id="S4.T1.st2.2.7.5.7" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.7.5.7.1" class="ltx_text" style="font-size:70%;">95.10</span></td>
<td id="S4.T1.st2.2.7.5.8" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.7.5.8.1" class="ltx_text" style="font-size:70%;">62.80</span></td>
<td id="S4.T1.st2.2.7.5.9" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.7.5.9.1" class="ltx_text" style="font-size:70%;">56.60</span></td>
<td id="S4.T1.st2.2.7.5.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.7.5.10.1" class="ltx_text" style="font-size:70%;">74.90</span></td>
<td id="S4.T1.st2.2.7.5.11" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.7.5.11.1" class="ltx_text" style="font-size:70%;">72.35</span></td>
</tr>
<tr id="S4.T1.st2.2.8.6" class="ltx_tr">
<td id="S4.T1.st2.2.8.6.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st2.2.8.6.1.1" class="ltx_text" style="font-size:70%;">FedDG </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st2.2.8.6.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib25" title="" class="ltx_ref">25</a><span id="S4.T1.st2.2.8.6.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st2.2.8.6.2" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.8.6.2.1" class="ltx_text" style="font-size:70%;">57.6</span></td>
<td id="S4.T1.st2.2.8.6.3" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.8.6.3.1" class="ltx_text" style="font-size:70%;">48.1</span></td>
<td id="S4.T1.st2.2.8.6.4" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.8.6.4.1" class="ltx_text" style="font-size:70%;">72.55</span></td>
<td id="S4.T1.st2.2.8.6.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.8.6.5.1" class="ltx_text" style="font-size:70%;">74.33</span></td>
<td id="S4.T1.st2.2.8.6.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st2.2.8.6.6.1" class="ltx_text" style="font-size:70%;">63.15</span></td>
<td id="S4.T1.st2.2.8.6.7" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.8.6.7.1" class="ltx_text" style="font-size:70%;">97.97</span></td>
<td id="S4.T1.st2.2.8.6.8" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.8.6.8.1" class="ltx_text" style="font-size:70%;">72.13</span></td>
<td id="S4.T1.st2.2.8.6.9" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.8.6.9.1" class="ltx_text" style="font-size:70%;">71.03</span></td>
<td id="S4.T1.st2.2.8.6.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.8.6.10.1" class="ltx_text" style="font-size:70%;">87.87</span></td>
<td id="S4.T1.st2.2.8.6.11" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.8.6.11.1" class="ltx_text" style="font-size:70%;">82.25</span></td>
</tr>
<tr id="S4.T1.st2.2.9.7" class="ltx_tr">
<td id="S4.T1.st2.2.9.7.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T1.st2.2.9.7.1.1" class="ltx_text" style="font-size:70%;">FedSR </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T1.st2.2.9.7.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib28" title="" class="ltx_ref">28</a><span id="S4.T1.st2.2.9.7.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T1.st2.2.9.7.2" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.9.7.2.1" class="ltx_text" style="font-size:70%;">57.8</span></td>
<td id="S4.T1.st2.2.9.7.3" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.9.7.3.1" class="ltx_text" style="font-size:70%;">48.1</span></td>
<td id="S4.T1.st2.2.9.7.4" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.9.7.4.1" class="ltx_text" style="font-size:70%;">72.1</span></td>
<td id="S4.T1.st2.2.9.7.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.9.7.5.1" class="ltx_text" style="font-size:70%;">74.2</span></td>
<td id="S4.T1.st2.2.9.7.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T1.st2.2.9.7.6.1" class="ltx_text" style="font-size:70%;">63.05</span></td>
<td id="S4.T1.st2.2.9.7.7" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.9.7.7.1" class="ltx_text" style="font-size:70%;">98.00</span></td>
<td id="S4.T1.st2.2.9.7.8" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.9.7.8.1" class="ltx_text" style="font-size:70%;">73.00</span></td>
<td id="S4.T1.st2.2.9.7.9" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.9.7.9.1" class="ltx_text" style="font-size:70%;">68.50</span></td>
<td id="S4.T1.st2.2.9.7.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T1.st2.2.9.7.10.1" class="ltx_text" style="font-size:70%;">86.70</span></td>
<td id="S4.T1.st2.2.9.7.11" class="ltx_td ltx_align_center"><span id="S4.T1.st2.2.9.7.11.1" class="ltx_text" style="font-size:70%;">81.55</span></td>
</tr>
<tr id="S4.T1.st2.2.10.8" class="ltx_tr">
<td id="S4.T1.st2.2.10.8.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_rr">
<span id="S4.T1.st2.2.10.8.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">StableFDG</span><span id="S4.T1.st2.2.10.8.1.2" class="ltx_text" style="font-size:70%;"> (ours)</span>
</td>
<td id="S4.T1.st2.2.10.8.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st2.2.10.8.2.1" class="ltx_text" style="font-size:70%;">57.57</span></td>
<td id="S4.T1.st2.2.10.8.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st2.2.10.8.3.1" class="ltx_text" style="font-size:70%;">54.30</span></td>
<td id="S4.T1.st2.2.10.8.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st2.2.10.8.4.1" class="ltx_text" style="font-size:70%;">72.33</span></td>
<td id="S4.T1.st2.2.10.8.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T1.st2.2.10.8.5.1" class="ltx_text" style="font-size:70%;">74.97</span></td>
<td id="S4.T1.st2.2.10.8.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_rr"><span id="S4.T1.st2.2.10.8.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:70%;">64.79</span></td>
<td id="S4.T1.st2.2.10.8.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st2.2.10.8.7.1" class="ltx_text" style="font-size:70%;">97.23</span></td>
<td id="S4.T1.st2.2.10.8.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st2.2.10.8.8.1" class="ltx_text" style="font-size:70%;">74.53</span></td>
<td id="S4.T1.st2.2.10.8.9" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st2.2.10.8.9.1" class="ltx_text" style="font-size:70%;">72.95</span></td>
<td id="S4.T1.st2.2.10.8.10" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T1.st2.2.10.8.10.1" class="ltx_text" style="font-size:70%;">85.85</span></td>
<td id="S4.T1.st2.2.10.8.11" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T1.st2.2.10.8.11.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:70%;">82.64</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.st2.5.1.1" class="ltx_text" style="font-size:129%;">(b)</span> </span><span id="S4.T1.st2.6.2" class="ltx_text" style="font-size:129%;">Office-Home and Digits-DG datasets.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T1.3.1.1" class="ltx_text" style="font-size:90%;">Table 1</span>: </span><span id="S4.T1.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Main result 1 (single-domain data distribution):<span id="S4.T1.4.2.1" class="ltx_text ltx_font_medium"> Each client has one source domain in its local data. The proposed StableFDG achieves the best generalization, underscoring its effectiveness.</span></span></figcaption>
</figure>
<div id="S4.SS1.p5" class="ltx_para">
<p id="S4.SS1.p5.1" class="ltx_p"><span id="S4.SS1.p5.1.1" class="ltx_text ltx_font_bold">Baselines.</span> <span id="S4.SS1.p5.1.2" class="ltx_text ltx_font_bold">(i) FL baselines:</span> First, we consider FedAvg <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib26" title="" class="ltx_ref">26</a>]</cite> and FedBN <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib22" title="" class="ltx_ref">22</a>]</cite>, which are the basic FL baselines not specific to DG. <span id="S4.SS1.p5.1.3" class="ltx_text ltx_font_bold">(ii) DG baselines applied to each FL client:</span> We apply MixStyle <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> during the local update process of each client and aggregate the model via FedAvg. Similarly, we also apply DSU <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite> at each client and then perform FedAvg to compare with our work. <span id="S4.SS1.p5.1.4" class="ltx_text ltx_font_bold">(iii) Federated DG baselines:</span> Among DG schemes tailored to FL, we implement the recently proposed CCST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>, FedDG <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite>, FedSR <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> and evaluate the performance. For a fair comparison, we reproduced all the baselines in accordance with our experimental setup. The <span id="S4.SS1.p5.1.5" class="ltx_text ltx_font_italic">augmentation level</span> in CCST, a hyperparameter that controls the amount of augmented images, is set to 3 as in the original paper <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite>. The hyperparameters in FedSR, that control the regularization losses, are tuned to achieve the best performance in our setup. Except for these, we adopted the parameter values in the original papers.</p>
</div>
</section>
<section id="S4.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.2 </span>Main Experimental Results</h3>

<div id="S4.SS2.p1" class="ltx_para">
<p id="S4.SS2.p1.1" class="ltx_p"><span id="S4.SS2.p1.1.1" class="ltx_text ltx_font_bold">Single-domain data distribution.</span> Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Experimental Setup ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> shows our results in a single-domain data distribution setup. We have the following observations. Compared to the previous results provided in the centralized DG works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>, <a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>, the performance of each method is generally lower. This is due to the limited numbers of styles and data samples in each FL client, which restricts the generalization performance of individual client models. It can be seen that most of the baselines perform better than FedAvg and FedBN that do not tackle the DG problem.
The proposed StableFDG achieves the best average accuracy for all benchmark datasets, where the gain is especially large in PACS having large shifts between domains. In contrast to our scheme, the prior works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib25" title="" class="ltx_ref">25</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> targeting federated DG show marginal performance gains relative to FedAvg in our practical experimental setup with (i) more clients (which results in less data in each client) and (ii) partial client participations.</p>
</div>
<div id="S4.SS2.p2" class="ltx_para">
<p id="S4.SS2.p2.1" class="ltx_p"><span id="S4.SS2.p2.1.1" class="ltx_text ltx_font_bold">Multi-domain data distribution.</span> In Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Main Experimental Results ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>, we report the results in a multi-domain data distribution scenario. Compared to the results in Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Experimental Setup ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>, most of the schemes achieve improved performance in Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Main Experimental Results ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. This is because each client has multiple source domains, and thus providing a better platform for each client model to gain generalization ability. The proposed StableFDG still performs the best, demonstrating the effectiveness of our style and attention based learning strategy for federated DG.</p>
</div>
<figure id="S4.T2" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.T2.st1" class="ltx_table ltx_figure_panel ltx_align_center">
<table id="S4.T2.st1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.st1.2.1.1" class="ltx_tr">
<th id="S4.T2.st1.2.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_border_rr ltx_border_tt"></th>
<th id="S4.T2.st1.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5"><span id="S4.T2.st1.2.1.1.2.1" class="ltx_text ltx_font_bold" style="font-size:70%;">Office-Home</span></th>
<th id="S4.T2.st1.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt" colspan="5"><span id="S4.T2.st1.2.1.1.3.1" class="ltx_text ltx_font_bold" style="font-size:70%;">VLCS</span></th>
</tr>
<tr id="S4.T2.st1.2.2.2" class="ltx_tr">
<th id="S4.T2.st1.2.2.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_rr"><span id="S4.T2.st1.2.2.2.1.1" class="ltx_text" style="font-size:70%;">Methods</span></th>
<th id="S4.T2.st1.2.2.2.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T2.st1.2.2.2.2.1" class="ltx_text" style="font-size:70%;">Art</span></th>
<th id="S4.T2.st1.2.2.2.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T2.st1.2.2.2.3.1" class="ltx_text" style="font-size:70%;">Clipart</span></th>
<th id="S4.T2.st1.2.2.2.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T2.st1.2.2.2.4.1" class="ltx_text" style="font-size:70%;">Product</span></th>
<th id="S4.T2.st1.2.2.2.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T2.st1.2.2.2.5.1" class="ltx_text" style="font-size:70%;">Real</span></th>
<th id="S4.T2.st1.2.2.2.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_rr ltx_border_t"><span id="S4.T2.st1.2.2.2.6.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
<th id="S4.T2.st1.2.2.2.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T2.st1.2.2.2.7.1" class="ltx_text" style="font-size:70%;">Caltech</span></th>
<th id="S4.T2.st1.2.2.2.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T2.st1.2.2.2.8.1" class="ltx_text" style="font-size:70%;">LabelMe</span></th>
<th id="S4.T2.st1.2.2.2.9" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T2.st1.2.2.2.9.1" class="ltx_text" style="font-size:70%;">Pascal</span></th>
<th id="S4.T2.st1.2.2.2.10" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_t"><span id="S4.T2.st1.2.2.2.10.1" class="ltx_text" style="font-size:70%;">Sun</span></th>
<th id="S4.T2.st1.2.2.2.11" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_t"><span id="S4.T2.st1.2.2.2.11.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.st1.2.3.1" class="ltx_tr">
<td id="S4.T2.st1.2.3.1.1" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t">
<span id="S4.T2.st1.2.3.1.1.1" class="ltx_text" style="font-size:70%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st1.2.3.1.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib26" title="" class="ltx_ref">26</a><span id="S4.T2.st1.2.3.1.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T2.st1.2.3.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st1.2.3.1.2.1" class="ltx_text" style="font-size:70%;">57.70</span></td>
<td id="S4.T2.st1.2.3.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st1.2.3.1.3.1" class="ltx_text" style="font-size:70%;">48.30</span></td>
<td id="S4.T2.st1.2.3.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st1.2.3.1.4.1" class="ltx_text" style="font-size:70%;">72.87</span></td>
<td id="S4.T2.st1.2.3.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.st1.2.3.1.5.1" class="ltx_text" style="font-size:70%;">75.33</span></td>
<td id="S4.T2.st1.2.3.1.6" class="ltx_td ltx_align_center ltx_border_rr ltx_border_t"><span id="S4.T2.st1.2.3.1.6.1" class="ltx_text" style="font-size:70%;">63.55</span></td>
<td id="S4.T2.st1.2.3.1.7" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st1.2.3.1.7.1" class="ltx_text" style="font-size:70%;">93.65</span></td>
<td id="S4.T2.st1.2.3.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st1.2.3.1.8.1" class="ltx_text" style="font-size:70%;">61.10</span></td>
<td id="S4.T2.st1.2.3.1.9" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st1.2.3.1.9.1" class="ltx_text" style="font-size:70%;">72.55</span></td>
<td id="S4.T2.st1.2.3.1.10" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.st1.2.3.1.10.1" class="ltx_text" style="font-size:70%;">65.40</span></td>
<td id="S4.T2.st1.2.3.1.11" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st1.2.3.1.11.1" class="ltx_text" style="font-size:70%;">73.18</span></td>
</tr>
<tr id="S4.T2.st1.2.4.2" class="ltx_tr">
<td id="S4.T2.st1.2.4.2.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T2.st1.2.4.2.1.1" class="ltx_text" style="font-size:70%;">FedBN </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st1.2.4.2.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib22" title="" class="ltx_ref">22</a><span id="S4.T2.st1.2.4.2.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T2.st1.2.4.2.2" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.4.2.2.1" class="ltx_text" style="font-size:70%;">57.07</span></td>
<td id="S4.T2.st1.2.4.2.3" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.4.2.3.1" class="ltx_text" style="font-size:70%;">48.32</span></td>
<td id="S4.T2.st1.2.4.2.4" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.4.2.4.1" class="ltx_text" style="font-size:70%;">72.31</span></td>
<td id="S4.T2.st1.2.4.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.4.2.5.1" class="ltx_text" style="font-size:70%;">74.57</span></td>
<td id="S4.T2.st1.2.4.2.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T2.st1.2.4.2.6.1" class="ltx_text" style="font-size:70%;">63.07</span></td>
<td id="S4.T2.st1.2.4.2.7" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.4.2.7.1" class="ltx_text" style="font-size:70%;">94.34</span></td>
<td id="S4.T2.st1.2.4.2.8" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.4.2.8.1" class="ltx_text" style="font-size:70%;">62.61</span></td>
<td id="S4.T2.st1.2.4.2.9" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.4.2.9.1" class="ltx_text" style="font-size:70%;">69.89</span></td>
<td id="S4.T2.st1.2.4.2.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.4.2.10.1" class="ltx_text" style="font-size:70%;">69.04</span></td>
<td id="S4.T2.st1.2.4.2.11" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.4.2.11.1" class="ltx_text" style="font-size:70%;">73.97</span></td>
</tr>
<tr id="S4.T2.st1.2.5.3" class="ltx_tr">
<td id="S4.T2.st1.2.5.3.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T2.st1.2.5.3.1.1" class="ltx_text" style="font-size:70%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st1.2.5.3.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="S4.T2.st1.2.5.3.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T2.st1.2.5.3.2" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.5.3.2.1" class="ltx_text" style="font-size:70%;">55.87</span></td>
<td id="S4.T2.st1.2.5.3.3" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.5.3.3.1" class="ltx_text" style="font-size:70%;">52.03</span></td>
<td id="S4.T2.st1.2.5.3.4" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.5.3.4.1" class="ltx_text" style="font-size:70%;">71.10</span></td>
<td id="S4.T2.st1.2.5.3.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.5.3.5.1" class="ltx_text" style="font-size:70%;">74.20</span></td>
<td id="S4.T2.st1.2.5.3.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T2.st1.2.5.3.6.1" class="ltx_text" style="font-size:70%;">63.30</span></td>
<td id="S4.T2.st1.2.5.3.7" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.5.3.7.1" class="ltx_text" style="font-size:70%;">95.20</span></td>
<td id="S4.T2.st1.2.5.3.8" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.5.3.8.1" class="ltx_text" style="font-size:70%;">60.77</span></td>
<td id="S4.T2.st1.2.5.3.9" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.5.3.9.1" class="ltx_text" style="font-size:70%;">73.90</span></td>
<td id="S4.T2.st1.2.5.3.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.5.3.10.1" class="ltx_text" style="font-size:70%;">66.73</span></td>
<td id="S4.T2.st1.2.5.3.11" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.5.3.11.1" class="ltx_text" style="font-size:70%;">74.15</span></td>
</tr>
<tr id="S4.T2.st1.2.6.4" class="ltx_tr">
<td id="S4.T2.st1.2.6.4.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T2.st1.2.6.4.1.1" class="ltx_text" style="font-size:70%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st1.2.6.4.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="S4.T2.st1.2.6.4.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T2.st1.2.6.4.2" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.6.4.2.1" class="ltx_text" style="font-size:70%;">58.60</span></td>
<td id="S4.T2.st1.2.6.4.3" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.6.4.3.1" class="ltx_text" style="font-size:70%;">52.80</span></td>
<td id="S4.T2.st1.2.6.4.4" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.6.4.4.1" class="ltx_text" style="font-size:70%;">71.63</span></td>
<td id="S4.T2.st1.2.6.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.6.4.5.1" class="ltx_text" style="font-size:70%;">74.00</span></td>
<td id="S4.T2.st1.2.6.4.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T2.st1.2.6.4.6.1" class="ltx_text" style="font-size:70%;">64.26</span></td>
<td id="S4.T2.st1.2.6.4.7" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.6.4.7.1" class="ltx_text" style="font-size:70%;">96.87</span></td>
<td id="S4.T2.st1.2.6.4.8" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.6.4.8.1" class="ltx_text" style="font-size:70%;">60.23</span></td>
<td id="S4.T2.st1.2.6.4.9" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.6.4.9.1" class="ltx_text" style="font-size:70%;">72.97</span></td>
<td id="S4.T2.st1.2.6.4.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.6.4.10.1" class="ltx_text" style="font-size:70%;">68.97</span></td>
<td id="S4.T2.st1.2.6.4.11" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.6.4.11.1" class="ltx_text" style="font-size:70%;">74.76</span></td>
</tr>
<tr id="S4.T2.st1.2.7.5" class="ltx_tr">
<td id="S4.T2.st1.2.7.5.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T2.st1.2.7.5.1.1" class="ltx_text" style="font-size:70%;">CCST </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st1.2.7.5.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib2" title="" class="ltx_ref">2</a><span id="S4.T2.st1.2.7.5.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T2.st1.2.7.5.2" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.7.5.2.1" class="ltx_text" style="font-size:70%;">52.2</span></td>
<td id="S4.T2.st1.2.7.5.3" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.7.5.3.1" class="ltx_text" style="font-size:70%;">52.2</span></td>
<td id="S4.T2.st1.2.7.5.4" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.7.5.4.1" class="ltx_text" style="font-size:70%;">70.6</span></td>
<td id="S4.T2.st1.2.7.5.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.7.5.5.1" class="ltx_text" style="font-size:70%;">72.3</span></td>
<td id="S4.T2.st1.2.7.5.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T2.st1.2.7.5.6.1" class="ltx_text" style="font-size:70%;">61.83</span></td>
<td id="S4.T2.st1.2.7.5.7" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.7.5.7.1" class="ltx_text" style="font-size:70%;">96.70</span></td>
<td id="S4.T2.st1.2.7.5.8" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.7.5.8.1" class="ltx_text" style="font-size:70%;">60.40</span></td>
<td id="S4.T2.st1.2.7.5.9" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.7.5.9.1" class="ltx_text" style="font-size:70%;">71.40</span></td>
<td id="S4.T2.st1.2.7.5.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.7.5.10.1" class="ltx_text" style="font-size:70%;">65.00</span></td>
<td id="S4.T2.st1.2.7.5.11" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.7.5.11.1" class="ltx_text" style="font-size:70%;">73.38</span></td>
</tr>
<tr id="S4.T2.st1.2.8.6" class="ltx_tr">
<td id="S4.T2.st1.2.8.6.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T2.st1.2.8.6.1.1" class="ltx_text" style="font-size:70%;">FedDG </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st1.2.8.6.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib25" title="" class="ltx_ref">25</a><span id="S4.T2.st1.2.8.6.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T2.st1.2.8.6.2" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.8.6.2.1" class="ltx_text" style="font-size:70%;">57.9</span></td>
<td id="S4.T2.st1.2.8.6.3" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.8.6.3.1" class="ltx_text" style="font-size:70%;">48.6</span></td>
<td id="S4.T2.st1.2.8.6.4" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.8.6.4.1" class="ltx_text" style="font-size:70%;">73.2</span></td>
<td id="S4.T2.st1.2.8.6.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.8.6.5.1" class="ltx_text" style="font-size:70%;">75.0</span></td>
<td id="S4.T2.st1.2.8.6.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T2.st1.2.8.6.6.1" class="ltx_text" style="font-size:70%;">63.68</span></td>
<td id="S4.T2.st1.2.8.6.7" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.8.6.7.1" class="ltx_text" style="font-size:70%;">96.2</span></td>
<td id="S4.T2.st1.2.8.6.8" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.8.6.8.1" class="ltx_text" style="font-size:70%;">60.7</span></td>
<td id="S4.T2.st1.2.8.6.9" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.8.6.9.1" class="ltx_text" style="font-size:70%;">72.4</span></td>
<td id="S4.T2.st1.2.8.6.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.8.6.10.1" class="ltx_text" style="font-size:70%;">67.3</span></td>
<td id="S4.T2.st1.2.8.6.11" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.8.6.11.1" class="ltx_text" style="font-size:70%;">74.15</span></td>
</tr>
<tr id="S4.T2.st1.2.9.7" class="ltx_tr">
<td id="S4.T2.st1.2.9.7.1" class="ltx_td ltx_align_center ltx_border_rr">
<span id="S4.T2.st1.2.9.7.1.1" class="ltx_text" style="font-size:70%;">FedSR </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st1.2.9.7.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib28" title="" class="ltx_ref">28</a><span id="S4.T2.st1.2.9.7.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</td>
<td id="S4.T2.st1.2.9.7.2" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.9.7.2.1" class="ltx_text" style="font-size:70%;">58.1</span></td>
<td id="S4.T2.st1.2.9.7.3" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.9.7.3.1" class="ltx_text" style="font-size:70%;">48.2</span></td>
<td id="S4.T2.st1.2.9.7.4" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.9.7.4.1" class="ltx_text" style="font-size:70%;">72.5</span></td>
<td id="S4.T2.st1.2.9.7.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.9.7.5.1" class="ltx_text" style="font-size:70%;">75.4</span></td>
<td id="S4.T2.st1.2.9.7.6" class="ltx_td ltx_align_center ltx_border_rr"><span id="S4.T2.st1.2.9.7.6.1" class="ltx_text" style="font-size:70%;">63.55</span></td>
<td id="S4.T2.st1.2.9.7.7" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.9.7.7.1" class="ltx_text" style="font-size:70%;">92.60</span></td>
<td id="S4.T2.st1.2.9.7.8" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.9.7.8.1" class="ltx_text" style="font-size:70%;">60.80</span></td>
<td id="S4.T2.st1.2.9.7.9" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.9.7.9.1" class="ltx_text" style="font-size:70%;">72.15</span></td>
<td id="S4.T2.st1.2.9.7.10" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st1.2.9.7.10.1" class="ltx_text" style="font-size:70%;">68.30</span></td>
<td id="S4.T2.st1.2.9.7.11" class="ltx_td ltx_align_center"><span id="S4.T2.st1.2.9.7.11.1" class="ltx_text" style="font-size:70%;">73.46</span></td>
</tr>
<tr id="S4.T2.st1.2.10.8" class="ltx_tr">
<td id="S4.T2.st1.2.10.8.1" class="ltx_td ltx_align_center ltx_border_bb ltx_border_rr">
<span id="S4.T2.st1.2.10.8.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">StableFDG</span><span id="S4.T2.st1.2.10.8.1.2" class="ltx_text" style="font-size:70%;"> (ours)</span>
</td>
<td id="S4.T2.st1.2.10.8.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st1.2.10.8.2.1" class="ltx_text" style="font-size:70%;">57.87</span></td>
<td id="S4.T2.st1.2.10.8.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st1.2.10.8.3.1" class="ltx_text" style="font-size:70%;">54.20</span></td>
<td id="S4.T2.st1.2.10.8.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st1.2.10.8.4.1" class="ltx_text" style="font-size:70%;">73.10</span></td>
<td id="S4.T2.st1.2.10.8.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T2.st1.2.10.8.5.1" class="ltx_text" style="font-size:70%;">75.00</span></td>
<td id="S4.T2.st1.2.10.8.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_rr"><span id="S4.T2.st1.2.10.8.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:70%;">65.04</span></td>
<td id="S4.T2.st1.2.10.8.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st1.2.10.8.7.1" class="ltx_text" style="font-size:70%;">98.50</span></td>
<td id="S4.T2.st1.2.10.8.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st1.2.10.8.8.1" class="ltx_text" style="font-size:70%;">60.07</span></td>
<td id="S4.T2.st1.2.10.8.9" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st1.2.10.8.9.1" class="ltx_text" style="font-size:70%;">74.40</span></td>
<td id="S4.T2.st1.2.10.8.10" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T2.st1.2.10.8.10.1" class="ltx_text" style="font-size:70%;">69.43</span></td>
<td id="S4.T2.st1.2.10.8.11" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st1.2.10.8.11.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:70%;">75.60</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.st1.5.1.1" class="ltx_text" style="font-size:129%;">(a)</span> </span><span id="S4.T2.st1.6.2" class="ltx_text" style="font-size:129%;">Office-Home and VLCS datasets.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="S4.T2.st2" class="ltx_table ltx_figure_panel ltx_align_center">
<table id="S4.T2.st2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T2.st2.2.1.1" class="ltx_tr">
<th id="S4.T2.st2.2.1.1.1" class="ltx_td ltx_th ltx_th_column ltx_th_row ltx_border_rr ltx_border_tt"></th>
<th id="S4.T2.st2.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T2.st2.2.1.1.2.1" class="ltx_text" style="font-size:70%;">Art</span></th>
<th id="S4.T2.st2.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T2.st2.2.1.1.3.1" class="ltx_text" style="font-size:70%;">Cartoon</span></th>
<th id="S4.T2.st2.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T2.st2.2.1.1.4.1" class="ltx_text" style="font-size:70%;">Photo</span></th>
<th id="S4.T2.st2.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T2.st2.2.1.1.5.1" class="ltx_text" style="font-size:70%;">Sketch</span></th>
<th id="S4.T2.st2.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T2.st2.2.1.1.6.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T2.st2.2.2.1" class="ltx_tr">
<th id="S4.T2.st2.2.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">
<span id="S4.T2.st2.2.2.1.1.1" class="ltx_text" style="font-size:70%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st2.2.2.1.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib26" title="" class="ltx_ref">26</a><span id="S4.T2.st2.2.2.1.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</th>
<td id="S4.T2.st2.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st2.2.2.1.2.1" class="ltx_text" style="font-size:70%;">74.87</span></td>
<td id="S4.T2.st2.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st2.2.2.1.3.1" class="ltx_text" style="font-size:70%;">74.53</span></td>
<td id="S4.T2.st2.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st2.2.2.1.4.1" class="ltx_text" style="font-size:70%;">95.30</span></td>
<td id="S4.T2.st2.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T2.st2.2.2.1.5.1" class="ltx_text" style="font-size:70%;">63.37</span></td>
<td id="S4.T2.st2.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T2.st2.2.2.1.6.1" class="ltx_text" style="font-size:70%;">77.02</span></td>
</tr>
<tr id="S4.T2.st2.2.3.2" class="ltx_tr">
<th id="S4.T2.st2.2.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr">
<span id="S4.T2.st2.2.3.2.1.1" class="ltx_text" style="font-size:70%;">FedBN </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st2.2.3.2.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib22" title="" class="ltx_ref">22</a><span id="S4.T2.st2.2.3.2.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</th>
<td id="S4.T2.st2.2.3.2.2" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.3.2.2.1" class="ltx_text" style="font-size:70%;">77.00</span></td>
<td id="S4.T2.st2.2.3.2.3" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.3.2.3.1" class="ltx_text" style="font-size:70%;">76.83</span></td>
<td id="S4.T2.st2.2.3.2.4" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.3.2.4.1" class="ltx_text" style="font-size:70%;">95.45</span></td>
<td id="S4.T2.st2.2.3.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st2.2.3.2.5.1" class="ltx_text" style="font-size:70%;">67.01</span></td>
<td id="S4.T2.st2.2.3.2.6" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.3.2.6.1" class="ltx_text" style="font-size:70%;">79.07</span></td>
</tr>
<tr id="S4.T2.st2.2.4.3" class="ltx_tr">
<th id="S4.T2.st2.2.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr">
<span id="S4.T2.st2.2.4.3.1.1" class="ltx_text" style="font-size:70%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st2.2.4.3.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="S4.T2.st2.2.4.3.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</th>
<td id="S4.T2.st2.2.4.3.2" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.4.3.2.1" class="ltx_text" style="font-size:70%;">80.07</span></td>
<td id="S4.T2.st2.2.4.3.3" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.4.3.3.1" class="ltx_text" style="font-size:70%;">77.53</span></td>
<td id="S4.T2.st2.2.4.3.4" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.4.3.4.1" class="ltx_text" style="font-size:70%;">96.23</span></td>
<td id="S4.T2.st2.2.4.3.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st2.2.4.3.5.1" class="ltx_text" style="font-size:70%;">67.40</span></td>
<td id="S4.T2.st2.2.4.3.6" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.4.3.6.1" class="ltx_text" style="font-size:70%;">80.31</span></td>
</tr>
<tr id="S4.T2.st2.2.5.4" class="ltx_tr">
<th id="S4.T2.st2.2.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr">
<span id="S4.T2.st2.2.5.4.1.1" class="ltx_text" style="font-size:70%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st2.2.5.4.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="S4.T2.st2.2.5.4.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</th>
<td id="S4.T2.st2.2.5.4.2" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.5.4.2.1" class="ltx_text" style="font-size:70%;">80.53</span></td>
<td id="S4.T2.st2.2.5.4.3" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.5.4.3.1" class="ltx_text" style="font-size:70%;">76.30</span></td>
<td id="S4.T2.st2.2.5.4.4" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.5.4.4.1" class="ltx_text" style="font-size:70%;">95.37</span></td>
<td id="S4.T2.st2.2.5.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st2.2.5.4.5.1" class="ltx_text" style="font-size:70%;">70.93</span></td>
<td id="S4.T2.st2.2.5.4.6" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.5.4.6.1" class="ltx_text" style="font-size:70%;">80.78</span></td>
</tr>
<tr id="S4.T2.st2.2.6.5" class="ltx_tr">
<th id="S4.T2.st2.2.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr">
<span id="S4.T2.st2.2.6.5.1.1" class="ltx_text" style="font-size:70%;">CCST </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st2.2.6.5.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib2" title="" class="ltx_ref">2</a><span id="S4.T2.st2.2.6.5.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</th>
<td id="S4.T2.st2.2.6.5.2" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.6.5.2.1" class="ltx_text" style="font-size:70%;">75.53</span></td>
<td id="S4.T2.st2.2.6.5.3" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.6.5.3.1" class="ltx_text" style="font-size:70%;">75.80</span></td>
<td id="S4.T2.st2.2.6.5.4" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.6.5.4.1" class="ltx_text" style="font-size:70%;">93.53</span></td>
<td id="S4.T2.st2.2.6.5.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st2.2.6.5.5.1" class="ltx_text" style="font-size:70%;">71.13</span></td>
<td id="S4.T2.st2.2.6.5.6" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.6.5.6.1" class="ltx_text" style="font-size:70%;">79.00</span></td>
</tr>
<tr id="S4.T2.st2.2.7.6" class="ltx_tr">
<th id="S4.T2.st2.2.7.6.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr">
<span id="S4.T2.st2.2.7.6.1.1" class="ltx_text" style="font-size:70%;">FedDG </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st2.2.7.6.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib25" title="" class="ltx_ref">25</a><span id="S4.T2.st2.2.7.6.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</th>
<td id="S4.T2.st2.2.7.6.2" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.7.6.2.1" class="ltx_text" style="font-size:70%;">75.35</span></td>
<td id="S4.T2.st2.2.7.6.3" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.7.6.3.1" class="ltx_text" style="font-size:70%;">75.85</span></td>
<td id="S4.T2.st2.2.7.6.4" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.7.6.4.1" class="ltx_text" style="font-size:70%;">95.65</span></td>
<td id="S4.T2.st2.2.7.6.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st2.2.7.6.5.1" class="ltx_text" style="font-size:70%;">61.05</span></td>
<td id="S4.T2.st2.2.7.6.6" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.7.6.6.1" class="ltx_text" style="font-size:70%;">76.98</span></td>
</tr>
<tr id="S4.T2.st2.2.8.7" class="ltx_tr">
<th id="S4.T2.st2.2.8.7.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr">
<span id="S4.T2.st2.2.8.7.1.1" class="ltx_text" style="font-size:70%;">FedSR </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T2.st2.2.8.7.1.2.1" class="ltx_text" style="font-size:70%;">[</span><a href="#bib.bib28" title="" class="ltx_ref">28</a><span id="S4.T2.st2.2.8.7.1.3.2" class="ltx_text" style="font-size:70%;">]</span></cite>
</th>
<td id="S4.T2.st2.2.8.7.2" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.8.7.2.1" class="ltx_text" style="font-size:70%;">73.83</span></td>
<td id="S4.T2.st2.2.8.7.3" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.8.7.3.1" class="ltx_text" style="font-size:70%;">74.83</span></td>
<td id="S4.T2.st2.2.8.7.4" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.8.7.4.1" class="ltx_text" style="font-size:70%;">95.53</span></td>
<td id="S4.T2.st2.2.8.7.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T2.st2.2.8.7.5.1" class="ltx_text" style="font-size:70%;">66.03</span></td>
<td id="S4.T2.st2.2.8.7.6" class="ltx_td ltx_align_center"><span id="S4.T2.st2.2.8.7.6.1" class="ltx_text" style="font-size:70%;">77.56</span></td>
</tr>
<tr id="S4.T2.st2.2.9.8" class="ltx_tr">
<th id="S4.T2.st2.2.9.8.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_rr">
<span id="S4.T2.st2.2.9.8.1.1" class="ltx_text ltx_font_bold" style="font-size:70%;">StableFDG</span><span id="S4.T2.st2.2.9.8.1.2" class="ltx_text" style="font-size:70%;"> (ours)</span>
</th>
<td id="S4.T2.st2.2.9.8.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st2.2.9.8.2.1" class="ltx_text" style="font-size:70%;">83.97</span></td>
<td id="S4.T2.st2.2.9.8.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st2.2.9.8.3.1" class="ltx_text" style="font-size:70%;">79.10</span></td>
<td id="S4.T2.st2.2.9.8.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st2.2.9.8.4.1" class="ltx_text" style="font-size:70%;">96.27</span></td>
<td id="S4.T2.st2.2.9.8.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T2.st2.2.9.8.5.1" class="ltx_text" style="font-size:70%;">75.67</span></td>
<td id="S4.T2.st2.2.9.8.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T2.st2.2.9.8.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:70%;">83.75</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.st2.5.1.1" class="ltx_text" style="font-size:129%;">(b)</span> </span><span id="S4.T2.st2.6.2" class="ltx_text" style="font-size:129%;">PACS dataset.</span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="S4.T2.3.1.1" class="ltx_text" style="font-size:90%;">Table 2</span>: </span><span id="S4.T2.4.2" class="ltx_text ltx_font_bold" style="font-size:90%;">Main result 2 (multi-domain data distribution):<span id="S4.T2.4.2.1" class="ltx_text ltx_font_medium"> Each client has multiple source domains in its local dataset. The results are consistent with the single-domain scenario in Table <a href="#S4.T1" title="Table 1 ‣ 4.1 Experimental Setup ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a>.</span></span></figcaption>
</figure>
</section>
<section id="S4.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">4.3 </span>Ablation Studies and Discussions </h3>

<figure id="S4.T3" class="ltx_table ltx_align_floatright">
<table id="S4.T3.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T3.2.1.1" class="ltx_tr">
<th id="S4.T3.2.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T3.2.1.1.1.1" class="ltx_text" style="font-size:50%;">Methods</span></th>
<th id="S4.T3.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T3.2.1.1.2.1" class="ltx_text" style="font-size:50%;">Art</span></th>
<th id="S4.T3.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T3.2.1.1.3.1" class="ltx_text" style="font-size:50%;">Cartoon</span></th>
<th id="S4.T3.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T3.2.1.1.4.1" class="ltx_text" style="font-size:50%;">Photo</span></th>
<th id="S4.T3.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T3.2.1.1.5.1" class="ltx_text" style="font-size:50%;">Sketch</span></th>
<th id="S4.T3.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T3.2.1.1.6.1" class="ltx_text" style="font-size:50%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T3.2.2.1" class="ltx_tr">
<th id="S4.T3.2.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T3.2.2.1.1.1" class="ltx_text" style="font-size:50%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.2.2.1.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="S4.T3.2.2.1.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.2.2.1.2.1" class="ltx_text" style="font-size:50%;">80.07</span></td>
<td id="S4.T3.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.2.2.1.3.1" class="ltx_text" style="font-size:50%;">77.53</span></td>
<td id="S4.T3.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.2.2.1.4.1" class="ltx_text" style="font-size:50%;">96.23</span></td>
<td id="S4.T3.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T3.2.2.1.5.1" class="ltx_text" style="font-size:50%;">67.40</span></td>
<td id="S4.T3.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T3.2.2.1.6.1" class="ltx_text" style="font-size:50%;">80.31</span></td>
</tr>
<tr id="S4.T3.2.3.2" class="ltx_tr">
<th id="S4.T3.2.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r">
<span id="S4.T3.2.3.2.1.1" class="ltx_text" style="font-size:50%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T3.2.3.2.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="S4.T3.2.3.2.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T3.2.3.2.2" class="ltx_td ltx_align_center"><span id="S4.T3.2.3.2.2.1" class="ltx_text" style="font-size:50%;">80.53</span></td>
<td id="S4.T3.2.3.2.3" class="ltx_td ltx_align_center"><span id="S4.T3.2.3.2.3.1" class="ltx_text" style="font-size:50%;">76.30</span></td>
<td id="S4.T3.2.3.2.4" class="ltx_td ltx_align_center"><span id="S4.T3.2.3.2.4.1" class="ltx_text" style="font-size:50%;">95.37</span></td>
<td id="S4.T3.2.3.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.2.3.2.5.1" class="ltx_text" style="font-size:50%;">70.93</span></td>
<td id="S4.T3.2.3.2.6" class="ltx_td ltx_align_center"><span id="S4.T3.2.3.2.6.1" class="ltx_text" style="font-size:50%;">80.78</span></td>
</tr>
<tr id="S4.T3.2.4.3" class="ltx_tr">
<th id="S4.T3.2.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S4.T3.2.4.3.1.1" class="ltx_text" style="font-size:50%;">StableFDG (only style)</span></th>
<td id="S4.T3.2.4.3.2" class="ltx_td ltx_align_center"><span id="S4.T3.2.4.3.2.1" class="ltx_text" style="font-size:50%;">82.62</span></td>
<td id="S4.T3.2.4.3.3" class="ltx_td ltx_align_center"><span id="S4.T3.2.4.3.3.1" class="ltx_text" style="font-size:50%;">79.01</span></td>
<td id="S4.T3.2.4.3.4" class="ltx_td ltx_align_center"><span id="S4.T3.2.4.3.4.1" class="ltx_text" style="font-size:50%;">95.57</span></td>
<td id="S4.T3.2.4.3.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.2.4.3.5.1" class="ltx_text" style="font-size:50%;">74.47</span></td>
<td id="S4.T3.2.4.3.6" class="ltx_td ltx_align_center"><span id="S4.T3.2.4.3.6.1" class="ltx_text" style="font-size:50%;">82.92</span></td>
</tr>
<tr id="S4.T3.2.5.4" class="ltx_tr">
<th id="S4.T3.2.5.4.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_r"><span id="S4.T3.2.5.4.1.1" class="ltx_text" style="font-size:50%;">StableFDG (only attention)</span></th>
<td id="S4.T3.2.5.4.2" class="ltx_td ltx_align_center"><span id="S4.T3.2.5.4.2.1" class="ltx_text" style="font-size:50%;">79.98</span></td>
<td id="S4.T3.2.5.4.3" class="ltx_td ltx_align_center"><span id="S4.T3.2.5.4.3.1" class="ltx_text" style="font-size:50%;">78.58</span></td>
<td id="S4.T3.2.5.4.4" class="ltx_td ltx_align_center"><span id="S4.T3.2.5.4.4.1" class="ltx_text" style="font-size:50%;">95.75</span></td>
<td id="S4.T3.2.5.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T3.2.5.4.5.1" class="ltx_text" style="font-size:50%;">71.35</span></td>
<td id="S4.T3.2.5.4.6" class="ltx_td ltx_align_center"><span id="S4.T3.2.5.4.6.1" class="ltx_text" style="font-size:50%;">81.41</span></td>
</tr>
<tr id="S4.T3.2.6.5" class="ltx_tr">
<th id="S4.T3.2.6.5.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="S4.T3.2.6.5.1.1" class="ltx_text" style="font-size:50%;">StableFDG (both)</span></th>
<td id="S4.T3.2.6.5.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T3.2.6.5.2.1" class="ltx_text" style="font-size:50%;">83.97</span></td>
<td id="S4.T3.2.6.5.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T3.2.6.5.3.1" class="ltx_text" style="font-size:50%;">79.10</span></td>
<td id="S4.T3.2.6.5.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T3.2.6.5.4.1" class="ltx_text" style="font-size:50%;">96.27</span></td>
<td id="S4.T3.2.6.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T3.2.6.5.5.1" class="ltx_text" style="font-size:50%;">75.67</span></td>
<td id="S4.T3.2.6.5.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T3.2.6.5.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:50%;">83.75</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:50%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T3.5.1.1" class="ltx_text" style="font-size:180%;">Table 3</span>: </span><span id="S4.T3.6.2" class="ltx_text" style="font-size:180%;">Effect of each component of StableFDG.</span></figcaption>
</figure>
<div id="S4.SS3.p1" class="ltx_para">
<p id="S4.SS3.p1.1" class="ltx_p"><span id="S4.SS3.p1.1.1" class="ltx_text ltx_font_bold">Effect of each component.</span> To see the effect of each component of StableFDG, in Table <a href="#S4.T3" title="Table 3 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3</span></a>, we apply our style-based learning and attention-based learning one-by-one in a multi-domain data distribution setup using PACS. We compare our results with style-augmentation DG baselines, MixStyle <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> and DSU <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib21" title="" class="ltx_ref">21</a>]</cite>. By applying only our style-based learning, StableFDG already outperforms prior style-augmentation methods.
Furthermore, by adopting only one of the proposed components, our scheme performs better than all the baselines in Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Main Experimental Results ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. Additional ablation studies using other datasets are reported in Appendix.</p>
</div>
<figure id="S4.F4" class="ltx_figure ltx_align_floatright">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_2"><img src="/html/2311.00227/assets/x5.png" id="S4.F4.g1" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="115" height="86" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_2"><img src="/html/2311.00227/assets/x6.png" id="S4.F4.g2" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_landscape" width="115" height="86" alt="Refer to caption"></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F4.4.2.1" class="ltx_text" style="font-size:90%;">Figure 4</span>: </span><span id="S4.F4.2.1" class="ltx_text" style="font-size:90%;"> Effects of exploration level <math id="S4.F4.2.1.m1.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.F4.2.1.m1.1b"><mi id="S4.F4.2.1.m1.1.1" xref="S4.F4.2.1.m1.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.F4.2.1.m1.1c"><ci id="S4.F4.2.1.m1.1.1.cmml" xref="S4.F4.2.1.m1.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.F4.2.1.m1.1d">\alpha</annotation></semantics></math> (left) and oversampling size (right) in StableFDG.</span></figcaption>
</figure>
<div id="S4.SS3.p2" class="ltx_para">
<p id="S4.SS3.p2.4" class="ltx_p"><span id="S4.SS3.p2.4.1" class="ltx_text ltx_font_bold">Effect of hyperparameters.</span> In DG setups, it is generally impractical to tune the hyperparameter using the target domain, because there is no information on the target domain during training. Hence, we used a fixed exploration level <math id="S4.SS3.p2.1.m1.1" class="ltx_Math" alttext="\alpha=3" display="inline"><semantics id="S4.SS3.p2.1.m1.1a"><mrow id="S4.SS3.p2.1.m1.1.1" xref="S4.SS3.p2.1.m1.1.1.cmml"><mi id="S4.SS3.p2.1.m1.1.1.2" xref="S4.SS3.p2.1.m1.1.1.2.cmml">α</mi><mo id="S4.SS3.p2.1.m1.1.1.1" xref="S4.SS3.p2.1.m1.1.1.1.cmml">=</mo><mn id="S4.SS3.p2.1.m1.1.1.3" xref="S4.SS3.p2.1.m1.1.1.3.cmml">3</mn></mrow><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.1.m1.1b"><apply id="S4.SS3.p2.1.m1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1"><eq id="S4.SS3.p2.1.m1.1.1.1.cmml" xref="S4.SS3.p2.1.m1.1.1.1"></eq><ci id="S4.SS3.p2.1.m1.1.1.2.cmml" xref="S4.SS3.p2.1.m1.1.1.2">𝛼</ci><cn type="integer" id="S4.SS3.p2.1.m1.1.1.3.cmml" xref="S4.SS3.p2.1.m1.1.1.3">3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.1.m1.1c">\alpha=3</annotation></semantics></math> throughout all experiments without tuning. In Fig. <a href="#S4.F4" title="Figure 4 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, we observe how the hyperparameters affect the target domain performance on PACS. In the first plot of Fig. <a href="#S4.F4" title="Figure 4 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a>, if <math id="S4.SS3.p2.2.m2.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.2.m2.1a"><mi id="S4.SS3.p2.2.m2.1.1" xref="S4.SS3.p2.2.m2.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.2.m2.1b"><ci id="S4.SS3.p2.2.m2.1.1.cmml" xref="S4.SS3.p2.2.m2.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.2.m2.1c">\alpha</annotation></semantics></math> is too small, the performance is relatively low since
the model is not able to explore novel styles
beyond the client’s source domains. If <math id="S4.SS3.p2.3.m3.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.3.m3.1a"><mi id="S4.SS3.p2.3.m3.1.1" xref="S4.SS3.p2.3.m3.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.3.m3.1b"><ci id="S4.SS3.p2.3.m3.1.1.cmml" xref="S4.SS3.p2.3.m3.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.3.m3.1c">\alpha</annotation></semantics></math> is too large, the performance could be slightly degraded because the model would explore too many redundant styles. The overall results show that StableFDG still performs better than the baselines with an arbitrarily chosen <math id="S4.SS3.p2.4.m4.1" class="ltx_Math" alttext="\alpha" display="inline"><semantics id="S4.SS3.p2.4.m4.1a"><mi id="S4.SS3.p2.4.m4.1.1" xref="S4.SS3.p2.4.m4.1.1.cmml">α</mi><annotation-xml encoding="MathML-Content" id="S4.SS3.p2.4.m4.1b"><ci id="S4.SS3.p2.4.m4.1.1.cmml" xref="S4.SS3.p2.4.m4.1.1">𝛼</ci></annotation-xml><annotation encoding="application/x-tex" id="S4.SS3.p2.4.m4.1c">\alpha</annotation></semantics></math>, which is a significant advantage of our scheme in the DG setup where hyperparameter tuning is challenging. The second plot of Fig. <a href="#S4.F4" title="Figure 4 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4</span></a> shows how the oversampling size (introduced in Step 3 of Sec. <a href="#S3.SS1" title="3.1 Style-based Learning for Federated DG ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">3.1</span></a>) affects the DG performance. StableFDG still outperforms the baseline with minimal oversampling size,
indicating that other components of our solution (style sharing/shifting and attention-based components) are already strong enough. The size of oversampling can be determined depending on the clients’ computation/memory constraints, with the cost of improved generalization.</p>
</div>
<figure id="S4.T4" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.T4.st1" class="ltx_table ltx_figure_panel">
<table id="S4.T4.st1.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.st1.2.1.1" class="ltx_tr">
<th id="S4.T4.st1.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T4.st1.2.1.1.1.1" class="ltx_text" style="font-size:50%;">Methods</span></th>
<th id="S4.T4.st1.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.st1.2.1.1.2.1" class="ltx_text" style="font-size:50%;">Art</span></th>
<th id="S4.T4.st1.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.st1.2.1.1.3.1" class="ltx_text" style="font-size:50%;">Cartoon</span></th>
<th id="S4.T4.st1.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.st1.2.1.1.4.1" class="ltx_text" style="font-size:50%;">Photo</span></th>
<th id="S4.T4.st1.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T4.st1.2.1.1.5.1" class="ltx_text" style="font-size:50%;">Sketch</span></th>
<th id="S4.T4.st1.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.st1.2.1.1.6.1" class="ltx_text" style="font-size:50%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.st1.2.2.1" class="ltx_tr">
<th id="S4.T4.st1.2.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T4.st1.2.2.1.1.1" class="ltx_text" style="font-size:50%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T4.st1.2.2.1.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="S4.T4.st1.2.2.1.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T4.st1.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st1.2.2.1.2.1" class="ltx_text" style="font-size:50%;">81.61</span></td>
<td id="S4.T4.st1.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st1.2.2.1.3.1" class="ltx_text" style="font-size:50%;">78.83</span></td>
<td id="S4.T4.st1.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st1.2.2.1.4.1" class="ltx_text" style="font-size:50%;">96.77</span></td>
<td id="S4.T4.st1.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T4.st1.2.2.1.5.1" class="ltx_text" style="font-size:50%;">72.29</span></td>
<td id="S4.T4.st1.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st1.2.2.1.6.1" class="ltx_text" style="font-size:50%;">82.38</span></td>
</tr>
<tr id="S4.T4.st1.2.3.2" class="ltx_tr">
<th id="S4.T4.st1.2.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T4.st1.2.3.2.1.1" class="ltx_text" style="font-size:50%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T4.st1.2.3.2.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="S4.T4.st1.2.3.2.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T4.st1.2.3.2.2" class="ltx_td ltx_align_center"><span id="S4.T4.st1.2.3.2.2.1" class="ltx_text" style="font-size:50%;">78.84</span></td>
<td id="S4.T4.st1.2.3.2.3" class="ltx_td ltx_align_center"><span id="S4.T4.st1.2.3.2.3.1" class="ltx_text" style="font-size:50%;">79.56</span></td>
<td id="S4.T4.st1.2.3.2.4" class="ltx_td ltx_align_center"><span id="S4.T4.st1.2.3.2.4.1" class="ltx_text" style="font-size:50%;">95.21</span></td>
<td id="S4.T4.st1.2.3.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.st1.2.3.2.5.1" class="ltx_text" style="font-size:50%;">79.39</span></td>
<td id="S4.T4.st1.2.3.2.6" class="ltx_td ltx_align_center"><span id="S4.T4.st1.2.3.2.6.1" class="ltx_text" style="font-size:50%;">83.25</span></td>
</tr>
<tr id="S4.T4.st1.2.4.3" class="ltx_tr">
<th id="S4.T4.st1.2.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">
<span id="S4.T4.st1.2.4.3.1.1" class="ltx_text ltx_font_bold" style="font-size:50%;">StableFDG</span><span id="S4.T4.st1.2.4.3.1.2" class="ltx_text" style="font-size:50%;"> (ours)</span>
</th>
<td id="S4.T4.st1.2.4.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.st1.2.4.3.2.1" class="ltx_text" style="font-size:50%;">85.02</span></td>
<td id="S4.T4.st1.2.4.3.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.st1.2.4.3.3.1" class="ltx_text" style="font-size:50%;">79.65</span></td>
<td id="S4.T4.st1.2.4.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.st1.2.4.3.4.1" class="ltx_text" style="font-size:50%;">96.38</span></td>
<td id="S4.T4.st1.2.4.3.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T4.st1.2.4.3.5.1" class="ltx_text" style="font-size:50%;">78.35</span></td>
<td id="S4.T4.st1.2.4.3.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.st1.2.4.3.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:50%;">84.85</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption" style="font-size:50%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.st1.5.1.1" class="ltx_text" style="font-size:180%;">(a)</span> </span><span id="S4.T4.st1.6.2" class="ltx_text" style="font-size:180%;">Performance in a centralized DG setup.</span></figcaption>
</figure>
</div>
<div class="ltx_flex_cell ltx_flex_size_2">
<figure id="S4.T4.st2" class="ltx_table ltx_figure_panel">
<table id="S4.T4.st2.2" class="ltx_tabular ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="S4.T4.st2.2.1.1" class="ltx_tr">
<th id="S4.T4.st2.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="S4.T4.st2.2.1.1.1.1" class="ltx_text" style="font-size:50%;">Methods</span></th>
<th id="S4.T4.st2.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.st2.2.1.1.2.1" class="ltx_text" style="font-size:50%;">Art</span></th>
<th id="S4.T4.st2.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.st2.2.1.1.3.1" class="ltx_text" style="font-size:50%;">Cartoon</span></th>
<th id="S4.T4.st2.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.st2.2.1.1.4.1" class="ltx_text" style="font-size:50%;">Photo</span></th>
<th id="S4.T4.st2.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="S4.T4.st2.2.1.1.5.1" class="ltx_text" style="font-size:50%;">Sketch</span></th>
<th id="S4.T4.st2.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="S4.T4.st2.2.1.1.6.1" class="ltx_text" style="font-size:50%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="S4.T4.st2.2.2.1" class="ltx_tr">
<th id="S4.T4.st2.2.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="S4.T4.st2.2.2.1.1.1" class="ltx_text" style="font-size:50%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T4.st2.2.2.1.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="S4.T4.st2.2.2.1.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T4.st2.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st2.2.2.1.2.1" class="ltx_text" style="font-size:50%;">87.51</span></td>
<td id="S4.T4.st2.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st2.2.2.1.3.1" class="ltx_text" style="font-size:50%;">81.12</span></td>
<td id="S4.T4.st2.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st2.2.2.1.4.1" class="ltx_text" style="font-size:50%;">97.48</span></td>
<td id="S4.T4.st2.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="S4.T4.st2.2.2.1.5.1" class="ltx_text" style="font-size:50%;">68.39</span></td>
<td id="S4.T4.st2.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="S4.T4.st2.2.2.1.6.1" class="ltx_text" style="font-size:50%;">83.63</span></td>
</tr>
<tr id="S4.T4.st2.2.3.2" class="ltx_tr">
<th id="S4.T4.st2.2.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="S4.T4.st2.2.3.2.1.1" class="ltx_text" style="font-size:50%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="S4.T4.st2.2.3.2.1.2.1" class="ltx_text" style="font-size:50%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="S4.T4.st2.2.3.2.1.3.2" class="ltx_text" style="font-size:50%;">]</span></cite>
</th>
<td id="S4.T4.st2.2.3.2.2" class="ltx_td ltx_align_center"><span id="S4.T4.st2.2.3.2.2.1" class="ltx_text" style="font-size:50%;">86.48</span></td>
<td id="S4.T4.st2.2.3.2.3" class="ltx_td ltx_align_center"><span id="S4.T4.st2.2.3.2.3.1" class="ltx_text" style="font-size:50%;">81.22</span></td>
<td id="S4.T4.st2.2.3.2.4" class="ltx_td ltx_align_center"><span id="S4.T4.st2.2.3.2.4.1" class="ltx_text" style="font-size:50%;">97.21</span></td>
<td id="S4.T4.st2.2.3.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="S4.T4.st2.2.3.2.5.1" class="ltx_text" style="font-size:50%;">73.99</span></td>
<td id="S4.T4.st2.2.3.2.6" class="ltx_td ltx_align_center"><span id="S4.T4.st2.2.3.2.6.1" class="ltx_text" style="font-size:50%;">84.73</span></td>
</tr>
<tr id="S4.T4.st2.2.4.3" class="ltx_tr">
<th id="S4.T4.st2.2.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">
<span id="S4.T4.st2.2.4.3.1.1" class="ltx_text ltx_font_bold" style="font-size:50%;">StableFDG</span><span id="S4.T4.st2.2.4.3.1.2" class="ltx_text" style="font-size:50%;"> (ours)</span>
</th>
<td id="S4.T4.st2.2.4.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.st2.2.4.3.2.1" class="ltx_text" style="font-size:50%;">90.01</span></td>
<td id="S4.T4.st2.2.4.3.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.st2.2.4.3.3.1" class="ltx_text" style="font-size:50%;">83.29</span></td>
<td id="S4.T4.st2.2.4.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.st2.2.4.3.4.1" class="ltx_text" style="font-size:50%;">98.02</span></td>
<td id="S4.T4.st2.2.4.3.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="S4.T4.st2.2.4.3.5.1" class="ltx_text" style="font-size:50%;">79.47</span></td>
<td id="S4.T4.st2.2.4.3.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="S4.T4.st2.2.4.3.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:50%;">87.70</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption" style="font-size:50%;"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.st2.5.1.1" class="ltx_text" style="font-size:180%;">(b)</span> </span><span id="S4.T4.st2.6.2" class="ltx_text" style="font-size:180%;">Performance using ResNet-50. </span></figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_table"><span id="S4.T4.2.1.1" class="ltx_text" style="font-size:90%;">Table 4</span>: </span><span id="S4.T4.3.2" class="ltx_text" style="font-size:90%;">The applicability of StableFDG in a centralized DG setup (Table <a href="#S4.T4.st1" title="Table 4(a) ‣ Table 4 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(a)</span></a>) and performance using a larger model (Table <a href="#S4.T4.st2" title="Table 4(b) ‣ Table 4 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(b)</span></a>) on the PACS dataset.</span></figcaption>
</figure>
<div id="S4.SS3.p3" class="ltx_para">
<p id="S4.SS3.p3.1" class="ltx_p"><span id="S4.SS3.p3.1.1" class="ltx_text ltx_font_bold">Performance in a centralized setup.</span> Although our scheme is tailored to federated DG, the ideas of StableFDG can be also utilized in a centralized setup. In Table <a href="#S4.T4.st1" title="Table 4(a) ‣ Table 4 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(a)</span></a>, we study the effects of our style and attention based strategies in a centralized DG setting using PACS, while the other settings are the same as in the FL setup. The results demonstrate that the proposed ideas are not only specific to data-poor FL scenarios but also have potentials to be utilized in centralized DG settings.</p>
</div>
<div id="S4.SS3.p4" class="ltx_para">
<p id="S4.SS3.p4.1" class="ltx_p"><span id="S4.SS3.p4.1.1" class="ltx_text ltx_font_bold">Performance with ResNet-50.</span> In Table <a href="#S4.T4.st2" title="Table 4(b) ‣ Table 4 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">4(b)</span></a>, we also conduct experiments using ResNet-50 on PACS dataset in the multi-domain data distribution scenario. Other settings are exactly the same as in Table <a href="#S4.T2" title="Table 2 ‣ 4.2 Main Experimental Results ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">2</span></a>. The results further confirm the advantage of StableFDG with larger models.</p>
</div>
<figure id="S4.F5" class="ltx_figure ltx_align_floatright">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_4"><img src="/html/2311.00227/assets/attentionvis/6originalimage.jpg" id="S4.F5.g1" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_4"><img src="/html/2311.00227/assets/attentionvis/6attentionmap.jpg" id="S4.F5.g2" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_4"><img src="/html/2311.00227/assets/attentionvis/14ori_image.jpg" id="S4.F5.g3" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_4"><img src="/html/2311.00227/assets/attentionvis/14attentionmap.jpg" id="S4.F5.g4" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="S4.F5.2.1.1" class="ltx_text" style="font-size:90%;">Figure 5</span>: </span><span id="S4.F5.3.2" class="ltx_text" style="font-size:90%;">Visualization of attention score maps of each input image (left: bed, right: radio).</span></figcaption>
</figure>
<div id="S4.SS3.p5" class="ltx_para">
<p id="S4.SS3.p5.1" class="ltx_p"><span id="S4.SS3.p5.1.1" class="ltx_text ltx_font_bold">Attention score visualization.</span> To gain an intuitive understanding of the effect of our attention-based learning, in Fig. <a href="#S4.F5" title="Figure 5 ‣ 4.3 Ablation Studies and Discussions ‣ 4 Experimental Results ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a>, we visualize the score maps obtained via our attention module at testing. The score maps are interpolated so that it has the same size as the original image. A warmer color indicates a higher value. It can be seen that our attention module highlights important parts of each class even in the presence of unrelated backgrounds.</p>
</div>
<div id="S4.SS3.p6" class="ltx_para">
<p id="S4.SS3.p6.1" class="ltx_p"><span id="S4.SS3.p6.1.1" class="ltx_text ltx_font_bold">Additional results.</span> Other implementation details, comprehensive ablation studies for each component, discussions on complexity, and results on DomainNet dataset are in Appendix.</p>
</div>
</section>
</section>
<section id="S5" class="ltx_section">
<h2 class="ltx_title ltx_title_section">
<span class="ltx_tag ltx_tag_section">5 </span>Conclusion</h2>

<div id="S5.p1" class="ltx_para">
<p id="S5.p1.1" class="ltx_p">Despite the practical significance, the field of federated domain generalization is still in the early stage of research. In this paper, we proposed StableFDG, a new training strategy tailored to this unexplored area. Our style-based strategy enables the model to get exposed to various novel styles beyond each client’s source domains, while our attention-based method captures and emphasizes the important/common characteristics of each class. Extensive experimental results confirmed the advantage of our StableFDG for federated domain generalization with data-poor FL clients.</p>
</div>
<div id="S5.p2" class="ltx_para">
<p id="S5.p2.1" class="ltx_p"><span id="S5.p2.1.1" class="ltx_text ltx_font_bold">Limitations and future works.</span> StableFDG requires 0.45 % more communication load compared to FedAvg for sharing the attention module and style statistics, which is the cost for a better DG performance.
Further developing our idea to tailor to centralized DG and extending our attention
strategy to segmentation/detection DG tasks are also interesting directions for future research.</p>
</div>
</section>
<section id="Sx1" class="ltx_section">
<h2 class="ltx_title ltx_title_section">Acknowledgments</h2>

<div id="Sx1.p1" class="ltx_para">
<p id="Sx1.p1.1" class="ltx_p">This work was supported by the National Research Foundation of Korea (NRF) grant funded by the Korea government (MSIT) (No. NRF-2019R1I1A2A02061135), by IITP funds from MSIT of Korea (No. 2020-0-00626), by the National Science Foundation (NSF) under grants CNS-2146171 and CPS-2313109, and by the Defense Advanced Research Projects Agency (DARPA) under grant D22AP00168-00.</p>
</div>
</section>
<section id="bib" class="ltx_bibliography">
<h2 class="ltx_title ltx_title_bibliography">References</h2>

<ul class="ltx_biblist">
<li id="bib.bib1" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[1]</span>
<span class="ltx_bibblock">
Irwan Bello, Barret Zoph, Ashish Vaswani, Jonathon Shlens, and Quoc V Le.

</span>
<span class="ltx_bibblock">Attention augmented convolutional networks.

</span>
<span class="ltx_bibblock">In <span id="bib.bib1.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF international conference on computer vision</span>, pages 3286–3295, 2019.

</span>
</li>
<li id="bib.bib2" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[2]</span>
<span class="ltx_bibblock">
Junming Chen, Meirui Jiang, Qi Dou, and Qifeng Chen.

</span>
<span class="ltx_bibblock">Federated domain generalization for image recognition via cross-client style transfer.

</span>
<span class="ltx_bibblock">In <span id="bib.bib2.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF Winter Conference on Applications of Computer Vision</span>, pages 361–370, 2023.

</span>
</li>
<li id="bib.bib3" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[3]</span>
<span class="ltx_bibblock">
Yuyang Deng, Mohammad Mahdi Kamani, and Mehrdad Mahdavi.

</span>
<span class="ltx_bibblock">Adaptive personalized federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib3.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2003.13461</span>, 2020.

</span>
</li>
<li id="bib.bib4" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[4]</span>
<span class="ltx_bibblock">
Yingjun Du, Jun Xu, Huan Xiong, Qiang Qiu, Xiantong Zhen, Cees GM Snoek, and Ling Shao.

</span>
<span class="ltx_bibblock">Learning to learn with variational information bottleneck for domain generalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib4.1.1" class="ltx_text ltx_font_italic">European Conference on Computer Vision</span>, pages 200–216. Springer, 2020.

</span>
</li>
<li id="bib.bib5" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[5]</span>
<span class="ltx_bibblock">
Alireza Fallah, Aryan Mokhtari, and Asuman Ozdaglar.

</span>
<span class="ltx_bibblock">Personalized federated learning with theoretical guarantees: A model-agnostic meta-learning approach.

</span>
<span class="ltx_bibblock"><span id="bib.bib5.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 33:3557–3568, 2020.

</span>
</li>
<li id="bib.bib6" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[6]</span>
<span class="ltx_bibblock">
Chen Fang, Ye Xu, and Daniel N Rockmore.

</span>
<span class="ltx_bibblock">Unbiased metric learning: On the utilization of multiple datasets and web images for softening bias.

</span>
<span class="ltx_bibblock">In <span id="bib.bib6.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE International Conference on Computer Vision</span>, pages 1657–1664, 2013.

</span>
</li>
<li id="bib.bib7" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[7]</span>
<span class="ltx_bibblock">
Minghong Fang, Xiaoyu Cao, Jinyuan Jia, and Neil Gong.

</span>
<span class="ltx_bibblock">Local model poisoning attacks to <math id="bib.bib7.1.m1.1" class="ltx_Math" alttext="\{" display="inline"><semantics id="bib.bib7.1.m1.1a"><mo stretchy="false" id="bib.bib7.1.m1.1.1" xref="bib.bib7.1.m1.1.1.cmml">{</mo><annotation-xml encoding="MathML-Content" id="bib.bib7.1.m1.1b"><ci id="bib.bib7.1.m1.1.1.cmml" xref="bib.bib7.1.m1.1.1">{</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib7.1.m1.1c">\{</annotation></semantics></math>Byzantine-Robust<math id="bib.bib7.2.m2.1" class="ltx_Math" alttext="\}" display="inline"><semantics id="bib.bib7.2.m2.1a"><mo stretchy="false" id="bib.bib7.2.m2.1.1" xref="bib.bib7.2.m2.1.1.cmml">}</mo><annotation-xml encoding="MathML-Content" id="bib.bib7.2.m2.1b"><ci id="bib.bib7.2.m2.1.1.cmml" xref="bib.bib7.2.m2.1.1">}</ci></annotation-xml><annotation encoding="application/x-tex" id="bib.bib7.2.m2.1c">\}</annotation></semantics></math> federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib7.3.1" class="ltx_text ltx_font_italic">29th USENIX Security Symposium (USENIX Security 20)</span>, pages 1605–1622, 2020.

</span>
</li>
<li id="bib.bib8" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[8]</span>
<span class="ltx_bibblock">
Yaroslav Ganin and Victor Lempitsky.

</span>
<span class="ltx_bibblock">Unsupervised domain adaptation by backpropagation.

</span>
<span class="ltx_bibblock">In <span id="bib.bib8.1.1" class="ltx_text ltx_font_italic">International conference on machine learning</span>, pages 1180–1189. PMLR, 2015.

</span>
</li>
<li id="bib.bib9" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[9]</span>
<span class="ltx_bibblock">
Jenny Hamer, Mehryar Mohri, and Ananda Theertha Suresh.

</span>
<span class="ltx_bibblock">Fedboost: A communication-efficient algorithm for federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib9.1.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span>, pages 3973–3983. PMLR, 2020.

</span>
</li>
<li id="bib.bib10" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[10]</span>
<span class="ltx_bibblock">
Xun Huang and Serge Belongie.

</span>
<span class="ltx_bibblock">Arbitrary style transfer in real-time with adaptive instance normalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib10.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE international conference on computer vision</span>, pages 1501–1510, 2017.

</span>
</li>
<li id="bib.bib11" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[11]</span>
<span class="ltx_bibblock">
Peter Kairouz, H Brendan McMahan, Brendan Avent, Aurélien Bellet, Mehdi Bennis, Arjun Nitin Bhagoji, Kallista Bonawitz, Zachary Charles, Graham Cormode, Rachel Cummings, et al.

</span>
<span class="ltx_bibblock">Advances and open problems in federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib11.1.1" class="ltx_text ltx_font_italic">Foundations and Trends® in Machine Learning</span>, 14(1–2):1–210, 2021.

</span>
</li>
<li id="bib.bib12" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[12]</span>
<span class="ltx_bibblock">
Sai Praneeth Karimireddy, Satyen Kale, Mehryar Mohri, Sashank Reddi, Sebastian Stich, and Ananda Theertha Suresh.

</span>
<span class="ltx_bibblock">Scaffold: Stochastic controlled averaging for federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib12.1.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span>, pages 5132–5143. PMLR, 2020.

</span>
</li>
<li id="bib.bib13" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[13]</span>
<span class="ltx_bibblock">
Yann LeCun, Léon Bottou, Yoshua Bengio, and Patrick Haffner.

</span>
<span class="ltx_bibblock">Gradient-based learning applied to document recognition.

</span>
<span class="ltx_bibblock"><span id="bib.bib13.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE</span>, 86(11):2278–2324, 1998.

</span>
</li>
<li id="bib.bib14" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[14]</span>
<span class="ltx_bibblock">
Da Li, Yongxin Yang, Yi-Zhe Song, and Timothy M Hospedales.

</span>
<span class="ltx_bibblock">Deeper, broader and artier domain generalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib14.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE international conference on computer vision</span>, pages 5542–5550, 2017.

</span>
</li>
<li id="bib.bib15" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[15]</span>
<span class="ltx_bibblock">
Da Li, Yongxin Yang, Yi-Zhe Song, and Timothy M Hospedales.

</span>
<span class="ltx_bibblock">Learning to generalize: Meta-learning for domain generalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib15.1.1" class="ltx_text ltx_font_italic">Thirty-Second AAAI Conference on Artificial Intelligence</span>, 2018.

</span>
</li>
<li id="bib.bib16" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[16]</span>
<span class="ltx_bibblock">
Da Li, Jianshu Zhang, Yongxin Yang, Cong Liu, Yi-Zhe Song, and Timothy M Hospedales.

</span>
<span class="ltx_bibblock">Episodic training for domain generalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib16.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF International Conference on Computer Vision</span>, pages 1446–1455, 2019.

</span>
</li>
<li id="bib.bib17" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[17]</span>
<span class="ltx_bibblock">
Haoliang Li, Sinno Jialin Pan, Shiqi Wang, and Alex C Kot.

</span>
<span class="ltx_bibblock">Domain generalization with adversarial feature learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib17.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE conference on computer vision and pattern recognition</span>, pages 5400–5409, 2018.

</span>
</li>
<li id="bib.bib18" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[18]</span>
<span class="ltx_bibblock">
Tian Li, Shengyuan Hu, Ahmad Beirami, and Virginia Smith.

</span>
<span class="ltx_bibblock">Ditto: Fair and robust federated learning through personalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib18.1.1" class="ltx_text ltx_font_italic">International Conference on Machine Learning</span>, pages 6357–6368. PMLR, 2021.

</span>
</li>
<li id="bib.bib19" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[19]</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Ameet Talwalkar, and Virginia Smith.

</span>
<span class="ltx_bibblock">Federated learning: Challenges, methods, and future directions.

</span>
<span class="ltx_bibblock"><span id="bib.bib19.1.1" class="ltx_text ltx_font_italic">IEEE Signal Processing Magazine</span>, 37(3):50–60, 2020.

</span>
</li>
<li id="bib.bib20" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[20]</span>
<span class="ltx_bibblock">
Tian Li, Anit Kumar Sahu, Manzil Zaheer, Maziar Sanjabi, Ameet Talwalkar, and Virginia Smith.

</span>
<span class="ltx_bibblock">Federated optimization in heterogeneous networks.

</span>
<span class="ltx_bibblock"><span id="bib.bib20.1.1" class="ltx_text ltx_font_italic">Proceedings of Machine Learning and Systems</span>, 2:429–450, 2020.

</span>
</li>
<li id="bib.bib21" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[21]</span>
<span class="ltx_bibblock">
Xiaotong Li, Yongxing Dai, Yixiao Ge, Jun Liu, Ying Shan, and Lingyu Duan.

</span>
<span class="ltx_bibblock">Uncertainty modeling for out-of-distribution generalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib21.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2022.

</span>
</li>
<li id="bib.bib22" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[22]</span>
<span class="ltx_bibblock">
Xiaoxiao Li, Meirui JIANG, Xiaofei Zhang, Michael Kamp, and Qi Dou.

</span>
<span class="ltx_bibblock">Fedbn: Federated learning on non-iid features via local batch normalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib22.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2021.

</span>
</li>
<li id="bib.bib23" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[23]</span>
<span class="ltx_bibblock">
Ya Li, Mingming Gong, Xinmei Tian, Tongliang Liu, and Dacheng Tao.

</span>
<span class="ltx_bibblock">Domain generalization via conditional invariant representations.

</span>
<span class="ltx_bibblock">In <span id="bib.bib23.1.1" class="ltx_text ltx_font_italic">Proceedings of the AAAI conference on artificial intelligence</span>, volume 32, 2018.

</span>
</li>
<li id="bib.bib24" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[24]</span>
<span class="ltx_bibblock">
Ya Li, Xinmei Tian, Mingming Gong, Yajing Liu, Tongliang Liu, Kun Zhang, and Dacheng Tao.

</span>
<span class="ltx_bibblock">Deep domain generalization via conditional invariant adversarial networks.

</span>
<span class="ltx_bibblock">In <span id="bib.bib24.1.1" class="ltx_text ltx_font_italic">Proceedings of the European Conference on Computer Vision (ECCV)</span>, pages 624–639, 2018.

</span>
</li>
<li id="bib.bib25" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[25]</span>
<span class="ltx_bibblock">
Quande Liu, Cheng Chen, Jing Qin, Qi Dou, and Pheng-Ann Heng.

</span>
<span class="ltx_bibblock">Feddg: Federated domain generalization on medical image segmentation via episodic learning in continuous frequency space.

</span>
<span class="ltx_bibblock">In <span id="bib.bib25.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</span>, pages 1013–1023, 2021.

</span>
</li>
<li id="bib.bib26" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[26]</span>
<span class="ltx_bibblock">
Brendan McMahan, Eider Moore, Daniel Ramage, Seth Hampson, and Blaise Aguera y Arcas.

</span>
<span class="ltx_bibblock">Communication-efficient learning of deep networks from decentralized data.

</span>
<span class="ltx_bibblock">In <span id="bib.bib26.1.1" class="ltx_text ltx_font_italic">Artificial Intelligence and Statistics</span>, pages 1273–1282, 2017.

</span>
</li>
<li id="bib.bib27" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[27]</span>
<span class="ltx_bibblock">
Yuval Netzer, Tao Wang, Adam Coates, Alessandro Bissacco, Bo Wu, and Andrew Y Ng.

</span>
<span class="ltx_bibblock">Reading digits in natural images with unsupervised feature learning.

</span>
<span class="ltx_bibblock">2011.

</span>
</li>
<li id="bib.bib28" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[28]</span>
<span class="ltx_bibblock">
A Tuan Nguyen, Philip Torr, and Ser-Nam Lim.

</span>
<span class="ltx_bibblock">Fedsr: A simple and effective domain generalization method for federated learning.

</span>
<span class="ltx_bibblock">In <span id="bib.bib28.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 2022.

</span>
</li>
<li id="bib.bib29" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[29]</span>
<span class="ltx_bibblock">
Jungwuk Park, Dong-Jun Han, Minseok Choi, and Jaekyun Moon.

</span>
<span class="ltx_bibblock">Sageflow: Robust federated learning against both stragglers and adversaries.

</span>
<span class="ltx_bibblock"><span id="bib.bib29.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 34:840–851, 2021.

</span>
</li>
<li id="bib.bib30" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[30]</span>
<span class="ltx_bibblock">
Xingchao Peng, Qinxun Bai, Xide Xia, Zijun Huang, Kate Saenko, and Bo Wang.

</span>
<span class="ltx_bibblock">Moment matching for multi-source domain adaptation.

</span>
<span class="ltx_bibblock">In <span id="bib.bib30.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF international conference on computer vision</span>, pages 1406–1415, 2019.

</span>
</li>
<li id="bib.bib31" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[31]</span>
<span class="ltx_bibblock">
Amirhossein Reisizadeh, Aryan Mokhtari, Hamed Hassani, Ali Jadbabaie, and Ramtin Pedarsani.

</span>
<span class="ltx_bibblock">Fedpaq: A communication-efficient federated learning method with periodic averaging and quantization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib31.1.1" class="ltx_text ltx_font_italic">International Conference on Artificial Intelligence and Statistics</span>, pages 2021–2031. PMLR, 2020.

</span>
</li>
<li id="bib.bib32" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[32]</span>
<span class="ltx_bibblock">
Ashish Vaswani, Noam Shazeer, Niki Parmar, Jakob Uszkoreit, Llion Jones, Aidan N Gomez, Łukasz Kaiser, and Illia Polosukhin.

</span>
<span class="ltx_bibblock">Attention is all you need.

</span>
<span class="ltx_bibblock"><span id="bib.bib32.1.1" class="ltx_text ltx_font_italic">Advances in neural information processing systems</span>, 30, 2017.

</span>
</li>
<li id="bib.bib33" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[33]</span>
<span class="ltx_bibblock">
Hemanth Venkateswara, Jose Eusebio, Shayok Chakraborty, and Sethuraman Panchanathan.

</span>
<span class="ltx_bibblock">Deep hashing network for unsupervised domain adaptation.

</span>
<span class="ltx_bibblock">In <span id="bib.bib33.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE conference on computer vision and pattern recognition</span>, pages 5018–5027, 2017.

</span>
</li>
<li id="bib.bib34" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[34]</span>
<span class="ltx_bibblock">
Hongyi Wang, Kartik Sreenivasan, Shashank Rajput, Harit Vishwakarma, Saurabh Agarwal, Jy-yong Sohn, Kangwook Lee, and Dimitris Papailiopoulos.

</span>
<span class="ltx_bibblock">Attack of the tails: Yes, you really can backdoor federated learning.

</span>
<span class="ltx_bibblock"><span id="bib.bib34.1.1" class="ltx_text ltx_font_italic">Advances in Neural Information Processing Systems</span>, 33:16070–16084, 2020.

</span>
</li>
<li id="bib.bib35" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[35]</span>
<span class="ltx_bibblock">
Guile Wu and Shaogang Gong.

</span>
<span class="ltx_bibblock">Collaborative optimization and aggregation for decentralized domain generalization and adaptation.

</span>
<span class="ltx_bibblock">In <span id="bib.bib35.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF International Conference on Computer Vision</span>, pages 6484–6493, 2021.

</span>
</li>
<li id="bib.bib36" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[36]</span>
<span class="ltx_bibblock">
Yabin Zhang, Minghan Li, Ruihuang Li, Kui Jia, and Lei Zhang.

</span>
<span class="ltx_bibblock">Exact feature distribution matching for arbitrary style transfer and domain generalization.

</span>
<span class="ltx_bibblock"><span id="bib.bib36.1.1" class="ltx_text ltx_font_italic">arXiv preprint arXiv:2203.07740</span>, 2022.

</span>
</li>
<li id="bib.bib37" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[37]</span>
<span class="ltx_bibblock">
Yuyang Zhao, Zhun Zhong, Fengxiang Yang, Zhiming Luo, Yaojin Lin, Shaozi Li, and Nicu Sebe.

</span>
<span class="ltx_bibblock">Learning to generalize unseen domains via memory-based multi-source meta-learning for person re-identification.

</span>
<span class="ltx_bibblock">In <span id="bib.bib37.1.1" class="ltx_text ltx_font_italic">Proceedings of the IEEE/CVF Conference on Computer Vision and Pattern Recognition</span>, pages 6277–6286, 2021.

</span>
</li>
<li id="bib.bib38" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[38]</span>
<span class="ltx_bibblock">
Kaiyang Zhou, Yongxin Yang, Timothy Hospedales, and Tao Xiang.

</span>
<span class="ltx_bibblock">Learning to generate novel domains for domain generalization.

</span>
<span class="ltx_bibblock">In <span id="bib.bib38.1.1" class="ltx_text ltx_font_italic">European conference on computer vision</span>, pages 561–578. Springer, 2020.

</span>
</li>
<li id="bib.bib39" class="ltx_bibitem">
<span class="ltx_tag ltx_tag_bibitem">[39]</span>
<span class="ltx_bibblock">
Kaiyang Zhou, Yongxin Yang, Yu Qiao, and Tao Xiang.

</span>
<span class="ltx_bibblock">Domain generalization with mixstyle.

</span>
<span class="ltx_bibblock">In <span id="bib.bib39.1.1" class="ltx_text ltx_font_italic">International Conference on Learning Representations</span>, 2021.

</span>
</li>
</ul>
</section>
<div class="ltx_pagination ltx_role_newpage"></div>
<section id="A1" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix A </span>Results on DomainNet Dataset</h2>

<div id="A1.p1" class="ltx_para">
<p id="A1.p1.1" class="ltx_p">To demonstrate the effectiveness of our StableFDG on a larger dataset, we performed experiments on DomainNet dataset in a single-domain data distribution scenario. To this end, we utilize ResNet-50 pretrained on ImageNet. The number of global rounds and mini-batch size are set to 60 and 64, respectively. The remaining settings are the same as those in our main paper. The results in Table <a href="#A1.T5" title="Table 5 ‣ Appendix A Results on DomainNet Dataset ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">5</span></a> show that our StableFDG consistently outperforms not only the centralized DG works but also the prior works on federated DG even with a more complex dataset.</p>
</div>
<figure id="A1.T5" class="ltx_table">
<table id="A1.T5.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A1.T5.2.1.1" class="ltx_tr">
<th id="A1.T5.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A1.T5.2.1.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A1.T5.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A1.T5.2.1.1.2.1" class="ltx_text" style="font-size:90%;">Clipart</span></th>
<th id="A1.T5.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A1.T5.2.1.1.3.1" class="ltx_text" style="font-size:90%;">Inforgraph</span></th>
<th id="A1.T5.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A1.T5.2.1.1.4.1" class="ltx_text" style="font-size:90%;">Painting</span></th>
<th id="A1.T5.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A1.T5.2.1.1.5.1" class="ltx_text" style="font-size:90%;">Quickdraw</span></th>
<th id="A1.T5.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A1.T5.2.1.1.6.1" class="ltx_text" style="font-size:90%;">Real</span></th>
<th id="A1.T5.2.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A1.T5.2.1.1.7.1" class="ltx_text" style="font-size:90%;">Sketch</span></th>
<th id="A1.T5.2.1.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A1.T5.2.1.1.8.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A1.T5.2.2.1" class="ltx_tr">
<th id="A1.T5.2.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A1.T5.2.2.1.1.1" class="ltx_text" style="font-size:90%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A1.T5.2.2.1.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib26" title="" class="ltx_ref">26</a><span id="A1.T5.2.2.1.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A1.T5.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A1.T5.2.2.1.2.1" class="ltx_text" style="font-size:90%;">61.52</span></td>
<td id="A1.T5.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A1.T5.2.2.1.3.1" class="ltx_text" style="font-size:90%;">24.75</span></td>
<td id="A1.T5.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A1.T5.2.2.1.4.1" class="ltx_text" style="font-size:90%;">50.83</span></td>
<td id="A1.T5.2.2.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="A1.T5.2.2.1.5.1" class="ltx_text" style="font-size:90%;">12.08</span></td>
<td id="A1.T5.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A1.T5.2.2.1.6.1" class="ltx_text" style="font-size:90%;">60.00</span></td>
<td id="A1.T5.2.2.1.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A1.T5.2.2.1.7.1" class="ltx_text" style="font-size:90%;">49.92</span></td>
<td id="A1.T5.2.2.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="A1.T5.2.2.1.8.1" class="ltx_text" style="font-size:90%;">43.18</span></td>
</tr>
<tr id="A1.T5.2.3.2" class="ltx_tr">
<th id="A1.T5.2.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A1.T5.2.3.2.1.1" class="ltx_text" style="font-size:90%;">FedBN </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A1.T5.2.3.2.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib22" title="" class="ltx_ref">22</a><span id="A1.T5.2.3.2.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A1.T5.2.3.2.2" class="ltx_td ltx_align_center"><span id="A1.T5.2.3.2.2.1" class="ltx_text" style="font-size:90%;">60.23</span></td>
<td id="A1.T5.2.3.2.3" class="ltx_td ltx_align_center"><span id="A1.T5.2.3.2.3.1" class="ltx_text" style="font-size:90%;">24.40</span></td>
<td id="A1.T5.2.3.2.4" class="ltx_td ltx_align_center"><span id="A1.T5.2.3.2.4.1" class="ltx_text" style="font-size:90%;">50.43</span></td>
<td id="A1.T5.2.3.2.5" class="ltx_td ltx_align_center"><span id="A1.T5.2.3.2.5.1" class="ltx_text" style="font-size:90%;">11.99</span></td>
<td id="A1.T5.2.3.2.6" class="ltx_td ltx_align_center"><span id="A1.T5.2.3.2.6.1" class="ltx_text" style="font-size:90%;">59.57</span></td>
<td id="A1.T5.2.3.2.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T5.2.3.2.7.1" class="ltx_text" style="font-size:90%;">49.66</span></td>
<td id="A1.T5.2.3.2.8" class="ltx_td ltx_align_center"><span id="A1.T5.2.3.2.8.1" class="ltx_text" style="font-size:90%;">42.71</span></td>
</tr>
<tr id="A1.T5.2.4.3" class="ltx_tr">
<th id="A1.T5.2.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A1.T5.2.4.3.1.1" class="ltx_text" style="font-size:90%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A1.T5.2.4.3.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="A1.T5.2.4.3.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A1.T5.2.4.3.2" class="ltx_td ltx_align_center"><span id="A1.T5.2.4.3.2.1" class="ltx_text" style="font-size:90%;">61.39</span></td>
<td id="A1.T5.2.4.3.3" class="ltx_td ltx_align_center"><span id="A1.T5.2.4.3.3.1" class="ltx_text" style="font-size:90%;">24.33</span></td>
<td id="A1.T5.2.4.3.4" class="ltx_td ltx_align_center"><span id="A1.T5.2.4.3.4.1" class="ltx_text" style="font-size:90%;">51.41</span></td>
<td id="A1.T5.2.4.3.5" class="ltx_td ltx_align_center"><span id="A1.T5.2.4.3.5.1" class="ltx_text" style="font-size:90%;">13.07</span></td>
<td id="A1.T5.2.4.3.6" class="ltx_td ltx_align_center"><span id="A1.T5.2.4.3.6.1" class="ltx_text" style="font-size:90%;">57.90</span></td>
<td id="A1.T5.2.4.3.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T5.2.4.3.7.1" class="ltx_text" style="font-size:90%;">51.40</span></td>
<td id="A1.T5.2.4.3.8" class="ltx_td ltx_align_center"><span id="A1.T5.2.4.3.8.1" class="ltx_text" style="font-size:90%;">43.25</span></td>
</tr>
<tr id="A1.T5.2.5.4" class="ltx_tr">
<th id="A1.T5.2.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A1.T5.2.5.4.1.1" class="ltx_text" style="font-size:90%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A1.T5.2.5.4.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="A1.T5.2.5.4.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A1.T5.2.5.4.2" class="ltx_td ltx_align_center"><span id="A1.T5.2.5.4.2.1" class="ltx_text" style="font-size:90%;">62.43</span></td>
<td id="A1.T5.2.5.4.3" class="ltx_td ltx_align_center"><span id="A1.T5.2.5.4.3.1" class="ltx_text" style="font-size:90%;">24.30</span></td>
<td id="A1.T5.2.5.4.4" class="ltx_td ltx_align_center"><span id="A1.T5.2.5.4.4.1" class="ltx_text" style="font-size:90%;">51.87</span></td>
<td id="A1.T5.2.5.4.5" class="ltx_td ltx_align_center"><span id="A1.T5.2.5.4.5.1" class="ltx_text" style="font-size:90%;">13.65</span></td>
<td id="A1.T5.2.5.4.6" class="ltx_td ltx_align_center"><span id="A1.T5.2.5.4.6.1" class="ltx_text" style="font-size:90%;">58.75</span></td>
<td id="A1.T5.2.5.4.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T5.2.5.4.7.1" class="ltx_text" style="font-size:90%;">52.40</span></td>
<td id="A1.T5.2.5.4.8" class="ltx_td ltx_align_center"><span id="A1.T5.2.5.4.8.1" class="ltx_text" style="font-size:90%;">43.90</span></td>
</tr>
<tr id="A1.T5.2.6.5" class="ltx_tr">
<th id="A1.T5.2.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A1.T5.2.6.5.1.1" class="ltx_text" style="font-size:90%;">FedDG </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A1.T5.2.6.5.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib25" title="" class="ltx_ref">25</a><span id="A1.T5.2.6.5.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A1.T5.2.6.5.2" class="ltx_td ltx_align_center"><span id="A1.T5.2.6.5.2.1" class="ltx_text" style="font-size:90%;">62.49</span></td>
<td id="A1.T5.2.6.5.3" class="ltx_td ltx_align_center"><span id="A1.T5.2.6.5.3.1" class="ltx_text" style="font-size:90%;">23.71</span></td>
<td id="A1.T5.2.6.5.4" class="ltx_td ltx_align_center"><span id="A1.T5.2.6.5.4.1" class="ltx_text" style="font-size:90%;">48.42</span></td>
<td id="A1.T5.2.6.5.5" class="ltx_td ltx_align_center"><span id="A1.T5.2.6.5.5.1" class="ltx_text" style="font-size:90%;">12.45</span></td>
<td id="A1.T5.2.6.5.6" class="ltx_td ltx_align_center"><span id="A1.T5.2.6.5.6.1" class="ltx_text" style="font-size:90%;">61.44</span></td>
<td id="A1.T5.2.6.5.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T5.2.6.5.7.1" class="ltx_text" style="font-size:90%;">49.11</span></td>
<td id="A1.T5.2.6.5.8" class="ltx_td ltx_align_center"><span id="A1.T5.2.6.5.8.1" class="ltx_text" style="font-size:90%;">42.94</span></td>
</tr>
<tr id="A1.T5.2.7.6" class="ltx_tr">
<th id="A1.T5.2.7.6.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A1.T5.2.7.6.1.1" class="ltx_text" style="font-size:90%;">FedSR </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A1.T5.2.7.6.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib28" title="" class="ltx_ref">28</a><span id="A1.T5.2.7.6.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A1.T5.2.7.6.2" class="ltx_td ltx_align_center"><span id="A1.T5.2.7.6.2.1" class="ltx_text" style="font-size:90%;">61.91</span></td>
<td id="A1.T5.2.7.6.3" class="ltx_td ltx_align_center"><span id="A1.T5.2.7.6.3.1" class="ltx_text" style="font-size:90%;">25.37</span></td>
<td id="A1.T5.2.7.6.4" class="ltx_td ltx_align_center"><span id="A1.T5.2.7.6.4.1" class="ltx_text" style="font-size:90%;">50.54</span></td>
<td id="A1.T5.2.7.6.5" class="ltx_td ltx_align_center"><span id="A1.T5.2.7.6.5.1" class="ltx_text" style="font-size:90%;">11.59</span></td>
<td id="A1.T5.2.7.6.6" class="ltx_td ltx_align_center"><span id="A1.T5.2.7.6.6.1" class="ltx_text" style="font-size:90%;">62.03</span></td>
<td id="A1.T5.2.7.6.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A1.T5.2.7.6.7.1" class="ltx_text" style="font-size:90%;">50.13</span></td>
<td id="A1.T5.2.7.6.8" class="ltx_td ltx_align_center"><span id="A1.T5.2.7.6.8.1" class="ltx_text" style="font-size:90%;">43.60</span></td>
</tr>
<tr id="A1.T5.2.8.7" class="ltx_tr">
<th id="A1.T5.2.8.7.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="A1.T5.2.8.7.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">StableFDG</span></th>
<td id="A1.T5.2.8.7.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A1.T5.2.8.7.2.1" class="ltx_text" style="font-size:90%;">62.58</span></td>
<td id="A1.T5.2.8.7.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A1.T5.2.8.7.3.1" class="ltx_text" style="font-size:90%;">24.12</span></td>
<td id="A1.T5.2.8.7.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A1.T5.2.8.7.4.1" class="ltx_text" style="font-size:90%;">52.23</span></td>
<td id="A1.T5.2.8.7.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="A1.T5.2.8.7.5.1" class="ltx_text" style="font-size:90%;">14.87</span></td>
<td id="A1.T5.2.8.7.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A1.T5.2.8.7.6.1" class="ltx_text" style="font-size:90%;">60.60</span></td>
<td id="A1.T5.2.8.7.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A1.T5.2.8.7.7.1" class="ltx_text" style="font-size:90%;">52.50</span></td>
<td id="A1.T5.2.8.7.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="A1.T5.2.8.7.8.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:90%;">44.48</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 5: </span>Results on DomainNet dataset in a single-domain data distribution scenario. </figcaption>
</figure>
</section>
<section id="A2" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix B </span>Discussion on Computational and Communication Costs</h2>

<div id="A2.p1" class="ltx_para">
<p id="A2.p1.1" class="ltx_p">Table <a href="#A2.T6" title="Table 6 ‣ Appendix B Discussion on Computational and Communication Costs ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a> compares the communication, computation, and average accuracy of different schemes on PACS in a multi-domain data distribution scenario. ResNet-18 is adopted as in our main manuscript. We first compare the uplink communication load of each client in a specific global round. Compared to FedAvg that only transmits the model in each round, our scheme requires additional communication burden for transmitting the style statistics and the attention module, which are negligible. We also compare the computation time by measuring the time required for local update at each client using an GTX 1080 Ti GPU. CCST <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>]</cite> and FedDG <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib25" title="" class="ltx_ref">25</a>]</cite> require large computation due to the increased amounts of data samples or multiple backpropagations for meta training. Our scheme requires additional computation caused by style exploration, attention module update, etc., which are the costs for better generalization to the unseen domain.</p>
</div>
<figure id="A2.T6" class="ltx_table">
<table id="A2.T6.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A2.T6.2.1.1" class="ltx_tr">
<th id="A2.T6.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A2.T6.2.1.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A2.T6.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A2.T6.2.1.1.2.1" class="ltx_text" style="font-size:90%;">Communication load</span></th>
<th id="A2.T6.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A2.T6.2.1.1.3.1" class="ltx_text" style="font-size:90%;">Computation time</span></th>
<th id="A2.T6.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A2.T6.2.1.1.4.1" class="ltx_text" style="font-size:90%;">Achievable average accuracy</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A2.T6.2.2.1" class="ltx_tr">
<th id="A2.T6.2.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A2.T6.2.2.1.1.1" class="ltx_text" style="font-size:90%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A2.T6.2.2.1.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib26" title="" class="ltx_ref">26</a><span id="A2.T6.2.2.1.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A2.T6.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T6.2.2.1.2.1" class="ltx_text" style="font-size:90%;">44.98 MB</span></td>
<td id="A2.T6.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T6.2.2.1.3.1" class="ltx_text" style="font-size:90%;">4.57 sec</span></td>
<td id="A2.T6.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A2.T6.2.2.1.4.1" class="ltx_text" style="font-size:90%;">77.02 %</span></td>
</tr>
<tr id="A2.T6.2.3.2" class="ltx_tr">
<th id="A2.T6.2.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A2.T6.2.3.2.1.1" class="ltx_text" style="font-size:90%;">CCST </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A2.T6.2.3.2.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib2" title="" class="ltx_ref">2</a><span id="A2.T6.2.3.2.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A2.T6.2.3.2.2" class="ltx_td ltx_align_center"><span id="A2.T6.2.3.2.2.1" class="ltx_text" style="font-size:90%;">44.98 MB</span></td>
<td id="A2.T6.2.3.2.3" class="ltx_td ltx_align_center"><span id="A2.T6.2.3.2.3.1" class="ltx_text" style="font-size:90%;">9.03 sec</span></td>
<td id="A2.T6.2.3.2.4" class="ltx_td ltx_align_center"><span id="A2.T6.2.3.2.4.1" class="ltx_text" style="font-size:90%;">79.00 %</span></td>
</tr>
<tr id="A2.T6.2.4.3" class="ltx_tr">
<th id="A2.T6.2.4.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A2.T6.2.4.3.1.1" class="ltx_text" style="font-size:90%;">FedDG </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A2.T6.2.4.3.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib25" title="" class="ltx_ref">25</a><span id="A2.T6.2.4.3.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A2.T6.2.4.3.2" class="ltx_td ltx_align_center"><span id="A2.T6.2.4.3.2.1" class="ltx_text" style="font-size:90%;">44.98 MB</span></td>
<td id="A2.T6.2.4.3.3" class="ltx_td ltx_align_center"><span id="A2.T6.2.4.3.3.1" class="ltx_text" style="font-size:90%;">22.44 sec</span></td>
<td id="A2.T6.2.4.3.4" class="ltx_td ltx_align_center"><span id="A2.T6.2.4.3.4.1" class="ltx_text" style="font-size:90%;">76.98 %</span></td>
</tr>
<tr id="A2.T6.2.5.4" class="ltx_tr">
<th id="A2.T6.2.5.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A2.T6.2.5.4.1.1" class="ltx_text" style="font-size:90%;">FedSR </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A2.T6.2.5.4.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib28" title="" class="ltx_ref">28</a><span id="A2.T6.2.5.4.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A2.T6.2.5.4.2" class="ltx_td ltx_align_center"><span id="A2.T6.2.5.4.2.1" class="ltx_text" style="font-size:90%;">44.98 MB</span></td>
<td id="A2.T6.2.5.4.3" class="ltx_td ltx_align_center"><span id="A2.T6.2.5.4.3.1" class="ltx_text" style="font-size:90%;">4.59 sec</span></td>
<td id="A2.T6.2.5.4.4" class="ltx_td ltx_align_center"><span id="A2.T6.2.5.4.4.1" class="ltx_text" style="font-size:90%;">77.56 %</span></td>
</tr>
<tr id="A2.T6.2.6.5" class="ltx_tr">
<th id="A2.T6.2.6.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="A2.T6.2.6.5.1.1" class="ltx_text" style="font-size:90%;">StableFDG</span></th>
<td id="A2.T6.2.6.5.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A2.T6.2.6.5.2.1" class="ltx_text" style="font-size:90%;">45.00 MB</span></td>
<td id="A2.T6.2.6.5.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A2.T6.2.6.5.3.1" class="ltx_text" style="font-size:90%;">7.39 sec</span></td>
<td id="A2.T6.2.6.5.4" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A2.T6.2.6.5.4.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:90%;">83.75</span><span id="A2.T6.2.6.5.4.2" class="ltx_text" style="font-size:90%;"> %</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 6: </span>Computation and communication cost comparison. </figcaption>
</figure>
</section>
<section id="A3" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix C </span>Experiments with Three Clients</h2>

<div id="A3.p1" class="ltx_para">
<p id="A3.p1.1" class="ltx_p">Different from the prior works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> for federated DG adopting the usual setting where the number of clients equals the number of source domains, in our main paper, we introduce a more practical experimental setting for federated DG where the source data is distributed to more clients than the number of source domains. For a comparison with them in the same setting, we also provide additional experimental results in the setup with <span id="A3.p1.1.1" class="ltx_text ltx_font_italic">number of clients = number of source domains</span>. Table <a href="#A3.T7" title="Table 7 ‣ Appendix C Experiments with Three Clients ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">7</span></a> shows the results on PACS and Office-Home datasets with three clients in a single-domain data distribution scenario. It is confirmed from the results that our StableFDG also achieves better performance compared to the existing works <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib2" title="" class="ltx_ref">2</a>, <a href="#bib.bib28" title="" class="ltx_ref">28</a>]</cite> in this simple setting.</p>
</div>
<figure id="A3.T7" class="ltx_table">
<div class="ltx_flex_figure ltx_flex_table">
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A3.T7.st1" class="ltx_table ltx_figure_panel ltx_align_center">
<table id="A3.T7.st1.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T7.st1.2.1.1" class="ltx_tr">
<th id="A3.T7.st1.2.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_rr ltx_border_tt"><span id="A3.T7.st1.2.1.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A3.T7.st1.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T7.st1.2.1.1.2.1" class="ltx_text" style="font-size:90%;">Art</span></th>
<th id="A3.T7.st1.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T7.st1.2.1.1.3.1" class="ltx_text" style="font-size:90%;">Cartoon</span></th>
<th id="A3.T7.st1.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T7.st1.2.1.1.4.1" class="ltx_text" style="font-size:90%;">Photo</span></th>
<th id="A3.T7.st1.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A3.T7.st1.2.1.1.5.1" class="ltx_text" style="font-size:90%;">Sketch</span></th>
<th id="A3.T7.st1.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T7.st1.2.1.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T7.st1.2.2.1" class="ltx_tr">
<th id="A3.T7.st1.2.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">
<span id="A3.T7.st1.2.2.1.1.1" class="ltx_text" style="font-size:90%;">CCST </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A3.T7.st1.2.2.1.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib2" title="" class="ltx_ref">2</a><span id="A3.T7.st1.2.2.1.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A3.T7.st1.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T7.st1.2.2.1.2.1" class="ltx_text" style="font-size:90%;">81.25</span></td>
<td id="A3.T7.st1.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T7.st1.2.2.1.3.1" class="ltx_text" style="font-size:90%;">73.34</span></td>
<td id="A3.T7.st1.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T7.st1.2.2.1.4.1" class="ltx_text" style="font-size:90%;">95.21</span></td>
<td id="A3.T7.st1.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A3.T7.st1.2.2.1.5.1" class="ltx_text" style="font-size:90%;">80.27</span></td>
<td id="A3.T7.st1.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T7.st1.2.2.1.6.1" class="ltx_text" style="font-size:90%;">82.52</span></td>
</tr>
<tr id="A3.T7.st1.2.3.2" class="ltx_tr">
<th id="A3.T7.st1.2.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr">
<span id="A3.T7.st1.2.3.2.1.1" class="ltx_text" style="font-size:90%;">FedSR </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A3.T7.st1.2.3.2.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib28" title="" class="ltx_ref">28</a><span id="A3.T7.st1.2.3.2.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A3.T7.st1.2.3.2.2" class="ltx_td ltx_align_center"><span id="A3.T7.st1.2.3.2.2.1" class="ltx_text" style="font-size:90%;">83.20</span></td>
<td id="A3.T7.st1.2.3.2.3" class="ltx_td ltx_align_center"><span id="A3.T7.st1.2.3.2.3.1" class="ltx_text" style="font-size:90%;">76.00</span></td>
<td id="A3.T7.st1.2.3.2.4" class="ltx_td ltx_align_center"><span id="A3.T7.st1.2.3.2.4.1" class="ltx_text" style="font-size:90%;">93.80</span></td>
<td id="A3.T7.st1.2.3.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A3.T7.st1.2.3.2.5.1" class="ltx_text" style="font-size:90%;">81.90</span></td>
<td id="A3.T7.st1.2.3.2.6" class="ltx_td ltx_align_center"><span id="A3.T7.st1.2.3.2.6.1" class="ltx_text" style="font-size:90%;">83.70</span></td>
</tr>
<tr id="A3.T7.st1.2.4.3" class="ltx_tr">
<th id="A3.T7.st1.2.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_rr"><span id="A3.T7.st1.2.4.3.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">StableFDG</span></th>
<td id="A3.T7.st1.2.4.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T7.st1.2.4.3.2.1" class="ltx_text" style="font-size:90%;">83.01</span></td>
<td id="A3.T7.st1.2.4.3.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T7.st1.2.4.3.3.1" class="ltx_text" style="font-size:90%;">79.31</span></td>
<td id="A3.T7.st1.2.4.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T7.st1.2.4.3.4.1" class="ltx_text" style="font-size:90%;">94.85</span></td>
<td id="A3.T7.st1.2.4.3.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A3.T7.st1.2.4.3.5.1" class="ltx_text" style="font-size:90%;">79.76</span></td>
<td id="A3.T7.st1.2.4.3.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T7.st1.2.4.3.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:90%;">84.23</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">(a) </span>Results on PACS dataset.</figcaption>
</figure>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<figure id="A3.T7.st2" class="ltx_table ltx_figure_panel ltx_align_center">
<table id="A3.T7.st2.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A3.T7.st2.2.1.1" class="ltx_tr">
<th id="A3.T7.st2.2.1.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_th_row ltx_border_rr ltx_border_tt"><span id="A3.T7.st2.2.1.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A3.T7.st2.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T7.st2.2.1.1.2.1" class="ltx_text" style="font-size:90%;">Art</span></th>
<th id="A3.T7.st2.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T7.st2.2.1.1.3.1" class="ltx_text" style="font-size:90%;">Clipart</span></th>
<th id="A3.T7.st2.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T7.st2.2.1.1.4.1" class="ltx_text" style="font-size:90%;">Product</span></th>
<th id="A3.T7.st2.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A3.T7.st2.2.1.1.5.1" class="ltx_text" style="font-size:90%;">Real</span></th>
<th id="A3.T7.st2.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A3.T7.st2.2.1.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A3.T7.st2.2.2.1" class="ltx_tr">
<th id="A3.T7.st2.2.2.1.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr ltx_border_t">
<span id="A3.T7.st2.2.2.1.1.1" class="ltx_text" style="font-size:90%;">CCST </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A3.T7.st2.2.2.1.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib2" title="" class="ltx_ref">2</a><span id="A3.T7.st2.2.2.1.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A3.T7.st2.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T7.st2.2.2.1.2.1" class="ltx_text" style="font-size:90%;">59.05</span></td>
<td id="A3.T7.st2.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T7.st2.2.2.1.3.1" class="ltx_text" style="font-size:90%;">50.06</span></td>
<td id="A3.T7.st2.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T7.st2.2.2.1.4.1" class="ltx_text" style="font-size:90%;">72.97</span></td>
<td id="A3.T7.st2.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A3.T7.st2.2.2.1.5.1" class="ltx_text" style="font-size:90%;">71.67</span></td>
<td id="A3.T7.st2.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A3.T7.st2.2.2.1.6.1" class="ltx_text" style="font-size:90%;">63.56</span></td>
</tr>
<tr id="A3.T7.st2.2.3.2" class="ltx_tr">
<th id="A3.T7.st2.2.3.2.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_rr">
<span id="A3.T7.st2.2.3.2.1.1" class="ltx_text" style="font-size:90%;">FedSR </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A3.T7.st2.2.3.2.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib28" title="" class="ltx_ref">28</a><span id="A3.T7.st2.2.3.2.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A3.T7.st2.2.3.2.2" class="ltx_td ltx_align_center"><span id="A3.T7.st2.2.3.2.2.1" class="ltx_text" style="font-size:90%;">57.93</span></td>
<td id="A3.T7.st2.2.3.2.3" class="ltx_td ltx_align_center"><span id="A3.T7.st2.2.3.2.3.1" class="ltx_text" style="font-size:90%;">50.45</span></td>
<td id="A3.T7.st2.2.3.2.4" class="ltx_td ltx_align_center"><span id="A3.T7.st2.2.3.2.4.1" class="ltx_text" style="font-size:90%;">73.33</span></td>
<td id="A3.T7.st2.2.3.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A3.T7.st2.2.3.2.5.1" class="ltx_text" style="font-size:90%;">75.51</span></td>
<td id="A3.T7.st2.2.3.2.6" class="ltx_td ltx_align_center"><span id="A3.T7.st2.2.3.2.6.1" class="ltx_text" style="font-size:90%;">64.31</span></td>
</tr>
<tr id="A3.T7.st2.2.4.3" class="ltx_tr">
<th id="A3.T7.st2.2.4.3.1" class="ltx_td ltx_align_center ltx_th ltx_th_row ltx_border_bb ltx_border_rr"><span id="A3.T7.st2.2.4.3.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">StableFDG</span></th>
<td id="A3.T7.st2.2.4.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T7.st2.2.4.3.2.1" class="ltx_text" style="font-size:90%;">57.19</span></td>
<td id="A3.T7.st2.2.4.3.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T7.st2.2.4.3.3.1" class="ltx_text" style="font-size:90%;">57.94</span></td>
<td id="A3.T7.st2.2.4.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T7.st2.2.4.3.4.1" class="ltx_text" style="font-size:90%;">72.76</span></td>
<td id="A3.T7.st2.2.4.3.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A3.T7.st2.2.4.3.5.1" class="ltx_text" style="font-size:90%;">72.16</span></td>
<td id="A3.T7.st2.2.4.3.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A3.T7.st2.2.4.3.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:90%;">65.01</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">(b) </span>Results on Office-Home dataset.</figcaption>
</figure>
</div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_table"><span id="A3.T7.2.1.1" class="ltx_text" style="font-size:90%;">Table 7</span>: </span><span id="A3.T7.3.2" class="ltx_text" style="font-size:90%;">Results in a single-domain data distribution scenario with three clients.</span></figcaption>
</figure>
</section>
<section id="A4" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix D </span>Effect of Each Component of StableFDG</h2>

<div id="A4.p1" class="ltx_para">
<p id="A4.p1.1" class="ltx_p">As mentioned in the main manuscript, we provide further ablation studies on the effect of each component in StableFDG using VLCS dataset. Table <a href="#A4.T8" title="Table 8 ‣ Appendix D Effect of Each Component of StableFDG ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a> shows that each component individually brings performance gain compared to FedAvg. Using both strategies achieves greater performance gains, confirming that the two proposed schemes work in a complementary fashion.</p>
</div>
<figure id="A4.T8" class="ltx_table">
<table id="A4.T8.20" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A4.T8.20.21.1" class="ltx_tr">
<th id="A4.T8.20.21.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A4.T8.20.21.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A4.T8.20.21.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A4.T8.20.21.1.2.1" class="ltx_text" style="font-size:90%;">Caltech</span></th>
<th id="A4.T8.20.21.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A4.T8.20.21.1.3.1" class="ltx_text" style="font-size:90%;">Labelme</span></th>
<th id="A4.T8.20.21.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A4.T8.20.21.1.4.1" class="ltx_text" style="font-size:90%;">Pascal</span></th>
<th id="A4.T8.20.21.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A4.T8.20.21.1.5.1" class="ltx_text" style="font-size:90%;">Sun</span></th>
<th id="A4.T8.20.21.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A4.T8.20.21.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A4.T8.5.5" class="ltx_tr">
<th id="A4.T8.5.5.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A4.T8.5.5.6.1" class="ltx_text" style="font-size:90%;">FedAvg </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A4.T8.5.5.6.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib26" title="" class="ltx_ref">26</a><span id="A4.T8.5.5.6.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A4.T8.1.1.1" class="ltx_td ltx_align_center ltx_border_t">
<span id="A4.T8.1.1.1.1" class="ltx_text" style="font-size:90%;">93.65 </span><math id="A4.T8.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.1.1.1.m1.1a"><mo mathsize="90%" id="A4.T8.1.1.1.m1.1.1" xref="A4.T8.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.1.1.1.m1.1b"><csymbol cd="latexml" id="A4.T8.1.1.1.m1.1.1.cmml" xref="A4.T8.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.1.1.1.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.1.1.1.2" class="ltx_text" style="font-size:90%;"> 1.59</span>
</td>
<td id="A4.T8.2.2.2" class="ltx_td ltx_align_center ltx_border_t">
<span id="A4.T8.2.2.2.1" class="ltx_text" style="font-size:90%;">61.10 </span><math id="A4.T8.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.2.2.2.m1.1a"><mo mathsize="90%" id="A4.T8.2.2.2.m1.1.1" xref="A4.T8.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.2.2.2.m1.1b"><csymbol cd="latexml" id="A4.T8.2.2.2.m1.1.1.cmml" xref="A4.T8.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.2.2.2.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.2.2.2.2" class="ltx_text" style="font-size:90%;"> 2.08</span>
</td>
<td id="A4.T8.3.3.3" class="ltx_td ltx_align_center ltx_border_t">
<span id="A4.T8.3.3.3.1" class="ltx_text" style="font-size:90%;">72.55 </span><math id="A4.T8.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.3.3.3.m1.1a"><mo mathsize="90%" id="A4.T8.3.3.3.m1.1.1" xref="A4.T8.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.3.3.3.m1.1b"><csymbol cd="latexml" id="A4.T8.3.3.3.m1.1.1.cmml" xref="A4.T8.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.3.3.3.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.3.3.3.2" class="ltx_text" style="font-size:90%;"> 0.90</span>
</td>
<td id="A4.T8.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A4.T8.4.4.4.1" class="ltx_text" style="font-size:90%;">65.40 </span><math id="A4.T8.4.4.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.4.4.4.m1.1a"><mo mathsize="90%" id="A4.T8.4.4.4.m1.1.1" xref="A4.T8.4.4.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.4.4.4.m1.1b"><csymbol cd="latexml" id="A4.T8.4.4.4.m1.1.1.cmml" xref="A4.T8.4.4.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.4.4.4.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.4.4.4.2" class="ltx_text" style="font-size:90%;"> 0.28</span>
</td>
<td id="A4.T8.5.5.5" class="ltx_td ltx_align_center ltx_border_t">
<span id="A4.T8.5.5.5.1" class="ltx_text" style="font-size:90%;">73.18 </span><math id="A4.T8.5.5.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.5.5.5.m1.1a"><mo mathsize="90%" id="A4.T8.5.5.5.m1.1.1" xref="A4.T8.5.5.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.5.5.5.m1.1b"><csymbol cd="latexml" id="A4.T8.5.5.5.m1.1.1.cmml" xref="A4.T8.5.5.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.5.5.5.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.5.5.5.2" class="ltx_text" style="font-size:90%;"> 0.27</span>
</td>
</tr>
<tr id="A4.T8.10.10" class="ltx_tr">
<th id="A4.T8.10.10.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span id="A4.T8.10.10.6.1" class="ltx_text" style="font-size:90%;">StableFDG (only style)</span></th>
<td id="A4.T8.6.6.1" class="ltx_td ltx_align_center">
<span id="A4.T8.6.6.1.1" class="ltx_text" style="font-size:90%;">98.19 </span><math id="A4.T8.6.6.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.6.6.1.m1.1a"><mo mathsize="90%" id="A4.T8.6.6.1.m1.1.1" xref="A4.T8.6.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.6.6.1.m1.1b"><csymbol cd="latexml" id="A4.T8.6.6.1.m1.1.1.cmml" xref="A4.T8.6.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.6.6.1.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.6.6.1.2" class="ltx_text" style="font-size:90%;"> 0.81</span>
</td>
<td id="A4.T8.7.7.2" class="ltx_td ltx_align_center">
<span id="A4.T8.7.7.2.1" class="ltx_text" style="font-size:90%;">58.93 </span><math id="A4.T8.7.7.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.7.7.2.m1.1a"><mo mathsize="90%" id="A4.T8.7.7.2.m1.1.1" xref="A4.T8.7.7.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.7.7.2.m1.1b"><csymbol cd="latexml" id="A4.T8.7.7.2.m1.1.1.cmml" xref="A4.T8.7.7.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.7.7.2.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.7.7.2.2" class="ltx_text" style="font-size:90%;"> 1.16</span>
</td>
<td id="A4.T8.8.8.3" class="ltx_td ltx_align_center">
<span id="A4.T8.8.8.3.1" class="ltx_text" style="font-size:90%;">75.19 </span><math id="A4.T8.8.8.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.8.8.3.m1.1a"><mo mathsize="90%" id="A4.T8.8.8.3.m1.1.1" xref="A4.T8.8.8.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.8.8.3.m1.1b"><csymbol cd="latexml" id="A4.T8.8.8.3.m1.1.1.cmml" xref="A4.T8.8.8.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.8.8.3.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.8.8.3.2" class="ltx_text" style="font-size:90%;"> 0.67</span>
</td>
<td id="A4.T8.9.9.4" class="ltx_td ltx_align_center ltx_border_r">
<span id="A4.T8.9.9.4.1" class="ltx_text" style="font-size:90%;">68.69 </span><math id="A4.T8.9.9.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.9.9.4.m1.1a"><mo mathsize="90%" id="A4.T8.9.9.4.m1.1.1" xref="A4.T8.9.9.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.9.9.4.m1.1b"><csymbol cd="latexml" id="A4.T8.9.9.4.m1.1.1.cmml" xref="A4.T8.9.9.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.9.9.4.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.9.9.4.2" class="ltx_text" style="font-size:90%;"> 0.73</span>
</td>
<td id="A4.T8.10.10.5" class="ltx_td ltx_align_center">
<span id="A4.T8.10.10.5.1" class="ltx_text" style="font-size:90%;">75.25 </span><math id="A4.T8.10.10.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.10.10.5.m1.1a"><mo mathsize="90%" id="A4.T8.10.10.5.m1.1.1" xref="A4.T8.10.10.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.10.10.5.m1.1b"><csymbol cd="latexml" id="A4.T8.10.10.5.m1.1.1.cmml" xref="A4.T8.10.10.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.10.10.5.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.10.10.5.2" class="ltx_text" style="font-size:90%;"> 0.20</span>
</td>
</tr>
<tr id="A4.T8.15.15" class="ltx_tr">
<th id="A4.T8.15.15.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span id="A4.T8.15.15.6.1" class="ltx_text" style="font-size:90%;">StableFDG (only attetnion)</span></th>
<td id="A4.T8.11.11.1" class="ltx_td ltx_align_center">
<span id="A4.T8.11.11.1.1" class="ltx_text" style="font-size:90%;">94.10 </span><math id="A4.T8.11.11.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.11.11.1.m1.1a"><mo mathsize="90%" id="A4.T8.11.11.1.m1.1.1" xref="A4.T8.11.11.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.11.11.1.m1.1b"><csymbol cd="latexml" id="A4.T8.11.11.1.m1.1.1.cmml" xref="A4.T8.11.11.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.11.11.1.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.11.11.1.2" class="ltx_text" style="font-size:90%;"> 1.22</span>
</td>
<td id="A4.T8.12.12.2" class="ltx_td ltx_align_center">
<span id="A4.T8.12.12.2.1" class="ltx_text" style="font-size:90%;">62.02 </span><math id="A4.T8.12.12.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.12.12.2.m1.1a"><mo mathsize="90%" id="A4.T8.12.12.2.m1.1.1" xref="A4.T8.12.12.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.12.12.2.m1.1b"><csymbol cd="latexml" id="A4.T8.12.12.2.m1.1.1.cmml" xref="A4.T8.12.12.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.12.12.2.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.12.12.2.2" class="ltx_text" style="font-size:90%;"> 1.55</span>
</td>
<td id="A4.T8.13.13.3" class="ltx_td ltx_align_center">
<span id="A4.T8.13.13.3.1" class="ltx_text" style="font-size:90%;">72.26 </span><math id="A4.T8.13.13.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.13.13.3.m1.1a"><mo mathsize="90%" id="A4.T8.13.13.3.m1.1.1" xref="A4.T8.13.13.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.13.13.3.m1.1b"><csymbol cd="latexml" id="A4.T8.13.13.3.m1.1.1.cmml" xref="A4.T8.13.13.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.13.13.3.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.13.13.3.2" class="ltx_text" style="font-size:90%;"> 0.78</span>
</td>
<td id="A4.T8.14.14.4" class="ltx_td ltx_align_center ltx_border_r">
<span id="A4.T8.14.14.4.1" class="ltx_text" style="font-size:90%;">66.16 </span><math id="A4.T8.14.14.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.14.14.4.m1.1a"><mo mathsize="90%" id="A4.T8.14.14.4.m1.1.1" xref="A4.T8.14.14.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.14.14.4.m1.1b"><csymbol cd="latexml" id="A4.T8.14.14.4.m1.1.1.cmml" xref="A4.T8.14.14.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.14.14.4.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.14.14.4.2" class="ltx_text" style="font-size:90%;"> 2.58</span>
</td>
<td id="A4.T8.15.15.5" class="ltx_td ltx_align_center">
<span id="A4.T8.15.15.5.1" class="ltx_text" style="font-size:90%;">73.64 </span><math id="A4.T8.15.15.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.15.15.5.m1.1a"><mo mathsize="90%" id="A4.T8.15.15.5.m1.1.1" xref="A4.T8.15.15.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.15.15.5.m1.1b"><csymbol cd="latexml" id="A4.T8.15.15.5.m1.1.1.cmml" xref="A4.T8.15.15.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.15.15.5.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.15.15.5.2" class="ltx_text" style="font-size:90%;"> 0.89</span>
</td>
</tr>
<tr id="A4.T8.20.20" class="ltx_tr">
<th id="A4.T8.20.20.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="A4.T8.20.20.6.1" class="ltx_text" style="font-size:90%;">StableFDG (both)</span></th>
<td id="A4.T8.16.16.1" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A4.T8.16.16.1.1" class="ltx_text" style="font-size:90%;">98.50 </span><math id="A4.T8.16.16.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.16.16.1.m1.1a"><mo mathsize="90%" id="A4.T8.16.16.1.m1.1.1" xref="A4.T8.16.16.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.16.16.1.m1.1b"><csymbol cd="latexml" id="A4.T8.16.16.1.m1.1.1.cmml" xref="A4.T8.16.16.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.16.16.1.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.16.16.1.2" class="ltx_text" style="font-size:90%;"> 0.17</span>
</td>
<td id="A4.T8.17.17.2" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A4.T8.17.17.2.1" class="ltx_text" style="font-size:90%;">60.07 </span><math id="A4.T8.17.17.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.17.17.2.m1.1a"><mo mathsize="90%" id="A4.T8.17.17.2.m1.1.1" xref="A4.T8.17.17.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.17.17.2.m1.1b"><csymbol cd="latexml" id="A4.T8.17.17.2.m1.1.1.cmml" xref="A4.T8.17.17.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.17.17.2.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.17.17.2.2" class="ltx_text" style="font-size:90%;"> 0.79</span>
</td>
<td id="A4.T8.18.18.3" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A4.T8.18.18.3.1" class="ltx_text" style="font-size:90%;">74.40 </span><math id="A4.T8.18.18.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.18.18.3.m1.1a"><mo mathsize="90%" id="A4.T8.18.18.3.m1.1.1" xref="A4.T8.18.18.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.18.18.3.m1.1b"><csymbol cd="latexml" id="A4.T8.18.18.3.m1.1.1.cmml" xref="A4.T8.18.18.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.18.18.3.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.18.18.3.2" class="ltx_text" style="font-size:90%;"> 1.88</span>
</td>
<td id="A4.T8.19.19.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">
<span id="A4.T8.19.19.4.1" class="ltx_text" style="font-size:90%;">69.43 </span><math id="A4.T8.19.19.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.19.19.4.m1.1a"><mo mathsize="90%" id="A4.T8.19.19.4.m1.1.1" xref="A4.T8.19.19.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.19.19.4.m1.1b"><csymbol cd="latexml" id="A4.T8.19.19.4.m1.1.1.cmml" xref="A4.T8.19.19.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.19.19.4.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.19.19.4.2" class="ltx_text" style="font-size:90%;"> 1.11</span>
</td>
<td id="A4.T8.20.20.5" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A4.T8.20.20.5.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:90%;">75.61</span><span id="A4.T8.20.20.5.2" class="ltx_text" style="font-size:90%;"> </span><math id="A4.T8.20.20.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.20.20.5.m1.1a"><mo mathsize="90%" id="A4.T8.20.20.5.m1.1.1" xref="A4.T8.20.20.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.20.20.5.m1.1b"><csymbol cd="latexml" id="A4.T8.20.20.5.m1.1.1.cmml" xref="A4.T8.20.20.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.20.20.5.m1.1c">\pm</annotation></semantics></math><span id="A4.T8.20.20.5.3" class="ltx_text" style="font-size:90%;"> 0.71</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 8: </span>Effect of each component on VLCS dataset in a multi-domain data distribution scenario. The reported results indicate (mean <math id="A4.T8.22.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A4.T8.22.m1.1b"><mo id="A4.T8.22.m1.1.1" xref="A4.T8.22.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A4.T8.22.m1.1c"><csymbol cd="latexml" id="A4.T8.22.m1.1.1.cmml" xref="A4.T8.22.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A4.T8.22.m1.1d">\pm</annotation></semantics></math> 95% confidence interval) over 3 random trials.</figcaption>
</figure>
</section>
<section id="A5" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix E </span>Ablation Studies on Style-Based Learning</h2>

<section id="A5.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.1 </span>Randomness in style sharing</h3>

<div id="A5.SS1.p1" class="ltx_para">
<p id="A5.SS1.p1.3" class="ltx_p">In our style based learning, style sharing among clients is performed at random. However, one can think of the strategy where client <math id="A5.SS1.p1.1.m1.1" class="ltx_Math" alttext="n" display="inline"><semantics id="A5.SS1.p1.1.m1.1a"><mi id="A5.SS1.p1.1.m1.1.1" xref="A5.SS1.p1.1.m1.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A5.SS1.p1.1.m1.1b"><ci id="A5.SS1.p1.1.m1.1.1.cmml" xref="A5.SS1.p1.1.m1.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS1.p1.1.m1.1c">n</annotation></semantics></math> receives the style information <math id="A5.SS1.p1.2.m2.1" class="ltx_Math" alttext="\Phi_{n^{\prime}}" display="inline"><semantics id="A5.SS1.p1.2.m2.1a"><msub id="A5.SS1.p1.2.m2.1.1" xref="A5.SS1.p1.2.m2.1.1.cmml"><mi mathvariant="normal" id="A5.SS1.p1.2.m2.1.1.2" xref="A5.SS1.p1.2.m2.1.1.2.cmml">Φ</mi><msup id="A5.SS1.p1.2.m2.1.1.3" xref="A5.SS1.p1.2.m2.1.1.3.cmml"><mi id="A5.SS1.p1.2.m2.1.1.3.2" xref="A5.SS1.p1.2.m2.1.1.3.2.cmml">n</mi><mo id="A5.SS1.p1.2.m2.1.1.3.3" xref="A5.SS1.p1.2.m2.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="A5.SS1.p1.2.m2.1b"><apply id="A5.SS1.p1.2.m2.1.1.cmml" xref="A5.SS1.p1.2.m2.1.1"><csymbol cd="ambiguous" id="A5.SS1.p1.2.m2.1.1.1.cmml" xref="A5.SS1.p1.2.m2.1.1">subscript</csymbol><ci id="A5.SS1.p1.2.m2.1.1.2.cmml" xref="A5.SS1.p1.2.m2.1.1.2">Φ</ci><apply id="A5.SS1.p1.2.m2.1.1.3.cmml" xref="A5.SS1.p1.2.m2.1.1.3"><csymbol cd="ambiguous" id="A5.SS1.p1.2.m2.1.1.3.1.cmml" xref="A5.SS1.p1.2.m2.1.1.3">superscript</csymbol><ci id="A5.SS1.p1.2.m2.1.1.3.2.cmml" xref="A5.SS1.p1.2.m2.1.1.3.2">𝑛</ci><ci id="A5.SS1.p1.2.m2.1.1.3.3.cmml" xref="A5.SS1.p1.2.m2.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS1.p1.2.m2.1c">\Phi_{n^{\prime}}</annotation></semantics></math> that has the largest distance with its own style information <math id="A5.SS1.p1.3.m3.1" class="ltx_Math" alttext="\Phi_{n^{\prime}}" display="inline"><semantics id="A5.SS1.p1.3.m3.1a"><msub id="A5.SS1.p1.3.m3.1.1" xref="A5.SS1.p1.3.m3.1.1.cmml"><mi mathvariant="normal" id="A5.SS1.p1.3.m3.1.1.2" xref="A5.SS1.p1.3.m3.1.1.2.cmml">Φ</mi><msup id="A5.SS1.p1.3.m3.1.1.3" xref="A5.SS1.p1.3.m3.1.1.3.cmml"><mi id="A5.SS1.p1.3.m3.1.1.3.2" xref="A5.SS1.p1.3.m3.1.1.3.2.cmml">n</mi><mo id="A5.SS1.p1.3.m3.1.1.3.3" xref="A5.SS1.p1.3.m3.1.1.3.3.cmml">′</mo></msup></msub><annotation-xml encoding="MathML-Content" id="A5.SS1.p1.3.m3.1b"><apply id="A5.SS1.p1.3.m3.1.1.cmml" xref="A5.SS1.p1.3.m3.1.1"><csymbol cd="ambiguous" id="A5.SS1.p1.3.m3.1.1.1.cmml" xref="A5.SS1.p1.3.m3.1.1">subscript</csymbol><ci id="A5.SS1.p1.3.m3.1.1.2.cmml" xref="A5.SS1.p1.3.m3.1.1.2">Φ</ci><apply id="A5.SS1.p1.3.m3.1.1.3.cmml" xref="A5.SS1.p1.3.m3.1.1.3"><csymbol cd="ambiguous" id="A5.SS1.p1.3.m3.1.1.3.1.cmml" xref="A5.SS1.p1.3.m3.1.1.3">superscript</csymbol><ci id="A5.SS1.p1.3.m3.1.1.3.2.cmml" xref="A5.SS1.p1.3.m3.1.1.3.2">𝑛</ci><ci id="A5.SS1.p1.3.m3.1.1.3.3.cmml" xref="A5.SS1.p1.3.m3.1.1.3.3">′</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS1.p1.3.m3.1c">\Phi_{n^{\prime}}</annotation></semantics></math> in the style space. Table <a href="#A5.T9" title="Table 9 ‣ E.1 Randomness in style sharing ‣ Appendix E Ablation Studies on Style-Based Learning ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">9</span></a> shows the corresponding result using PACS dataset in a multi-domain data distribution setup. Interestingly, it can be seen that the random selection adopted in this paper performs better, since most of the users generally tend to receive the same style statistics when using the <span id="A5.SS1.p1.3.1" class="ltx_text ltx_font_italic">largest distance</span> strategy.</p>
</div>
<figure id="A5.T9" class="ltx_table">
<table id="A5.T9.10" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A5.T9.10.11.1" class="ltx_tr">
<th id="A5.T9.10.11.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A5.T9.10.11.1.1.1" class="ltx_text" style="font-size:70%;">Methods</span></th>
<th id="A5.T9.10.11.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T9.10.11.1.2.1" class="ltx_text" style="font-size:70%;">Art</span></th>
<th id="A5.T9.10.11.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T9.10.11.1.3.1" class="ltx_text" style="font-size:70%;">Cartoon</span></th>
<th id="A5.T9.10.11.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T9.10.11.1.4.1" class="ltx_text" style="font-size:70%;">Photo</span></th>
<th id="A5.T9.10.11.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A5.T9.10.11.1.5.1" class="ltx_text" style="font-size:70%;">Sketch</span></th>
<th id="A5.T9.10.11.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T9.10.11.1.6.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A5.T9.5.5" class="ltx_tr">
<th id="A5.T9.5.5.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A5.T9.5.5.6.1" class="ltx_text" style="font-size:70%;">Random sharing (current manuscript)</span></th>
<td id="A5.T9.1.1.1" class="ltx_td ltx_align_center ltx_border_t">
<span id="A5.T9.1.1.1.1" class="ltx_text" style="font-size:70%;">83.97 </span><math id="A5.T9.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.1.1.1.m1.1a"><mo mathsize="70%" id="A5.T9.1.1.1.m1.1.1" xref="A5.T9.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.1.1.1.m1.1b"><csymbol cd="latexml" id="A5.T9.1.1.1.m1.1.1.cmml" xref="A5.T9.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.1.1.1.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.1.1.1.2" class="ltx_text" style="font-size:70%;"> 1.25</span>
</td>
<td id="A5.T9.2.2.2" class="ltx_td ltx_align_center ltx_border_t">
<span id="A5.T9.2.2.2.1" class="ltx_text" style="font-size:70%;">79.10 </span><math id="A5.T9.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.2.2.2.m1.1a"><mo mathsize="70%" id="A5.T9.2.2.2.m1.1.1" xref="A5.T9.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.2.2.2.m1.1b"><csymbol cd="latexml" id="A5.T9.2.2.2.m1.1.1.cmml" xref="A5.T9.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.2.2.2.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.2.2.2.2" class="ltx_text" style="font-size:70%;"> 0.45</span>
</td>
<td id="A5.T9.3.3.3" class="ltx_td ltx_align_center ltx_border_t">
<span id="A5.T9.3.3.3.1" class="ltx_text" style="font-size:70%;">96.27 </span><math id="A5.T9.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.3.3.3.m1.1a"><mo mathsize="70%" id="A5.T9.3.3.3.m1.1.1" xref="A5.T9.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.3.3.3.m1.1b"><csymbol cd="latexml" id="A5.T9.3.3.3.m1.1.1.cmml" xref="A5.T9.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.3.3.3.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.3.3.3.2" class="ltx_text" style="font-size:70%;"> 0.36</span>
</td>
<td id="A5.T9.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A5.T9.4.4.4.1" class="ltx_text" style="font-size:70%;">75.67 </span><math id="A5.T9.4.4.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.4.4.4.m1.1a"><mo mathsize="70%" id="A5.T9.4.4.4.m1.1.1" xref="A5.T9.4.4.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.4.4.4.m1.1b"><csymbol cd="latexml" id="A5.T9.4.4.4.m1.1.1.cmml" xref="A5.T9.4.4.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.4.4.4.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.4.4.4.2" class="ltx_text" style="font-size:70%;"> 0.58</span>
</td>
<td id="A5.T9.5.5.5" class="ltx_td ltx_align_center ltx_border_t">
<span id="A5.T9.5.5.5.1" class="ltx_text" style="font-size:70%;">83.75 </span><math id="A5.T9.5.5.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.5.5.5.m1.1a"><mo mathsize="70%" id="A5.T9.5.5.5.m1.1.1" xref="A5.T9.5.5.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.5.5.5.m1.1b"><csymbol cd="latexml" id="A5.T9.5.5.5.m1.1.1.cmml" xref="A5.T9.5.5.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.5.5.5.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.5.5.5.2" class="ltx_text" style="font-size:70%;"> 0.23</span>
</td>
</tr>
<tr id="A5.T9.10.10" class="ltx_tr">
<th id="A5.T9.10.10.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="A5.T9.10.10.6.1" class="ltx_text" style="font-size:70%;">Large distance</span></th>
<td id="A5.T9.6.6.1" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A5.T9.6.6.1.1" class="ltx_text" style="font-size:70%;">83.01 </span><math id="A5.T9.6.6.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.6.6.1.m1.1a"><mo mathsize="70%" id="A5.T9.6.6.1.m1.1.1" xref="A5.T9.6.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.6.6.1.m1.1b"><csymbol cd="latexml" id="A5.T9.6.6.1.m1.1.1.cmml" xref="A5.T9.6.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.6.6.1.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.6.6.1.2" class="ltx_text" style="font-size:70%;"> 1.43</span>
</td>
<td id="A5.T9.7.7.2" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A5.T9.7.7.2.1" class="ltx_text" style="font-size:70%;">78.33 </span><math id="A5.T9.7.7.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.7.7.2.m1.1a"><mo mathsize="70%" id="A5.T9.7.7.2.m1.1.1" xref="A5.T9.7.7.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.7.7.2.m1.1b"><csymbol cd="latexml" id="A5.T9.7.7.2.m1.1.1.cmml" xref="A5.T9.7.7.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.7.7.2.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.7.7.2.2" class="ltx_text" style="font-size:70%;"> 0.51</span>
</td>
<td id="A5.T9.8.8.3" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A5.T9.8.8.3.1" class="ltx_text" style="font-size:70%;">96.19 </span><math id="A5.T9.8.8.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.8.8.3.m1.1a"><mo mathsize="70%" id="A5.T9.8.8.3.m1.1.1" xref="A5.T9.8.8.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.8.8.3.m1.1b"><csymbol cd="latexml" id="A5.T9.8.8.3.m1.1.1.cmml" xref="A5.T9.8.8.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.8.8.3.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.8.8.3.2" class="ltx_text" style="font-size:70%;"> 0.76</span>
</td>
<td id="A5.T9.9.9.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">
<span id="A5.T9.9.9.4.1" class="ltx_text" style="font-size:70%;">74.63 </span><math id="A5.T9.9.9.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.9.9.4.m1.1a"><mo mathsize="70%" id="A5.T9.9.9.4.m1.1.1" xref="A5.T9.9.9.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.9.9.4.m1.1b"><csymbol cd="latexml" id="A5.T9.9.9.4.m1.1.1.cmml" xref="A5.T9.9.9.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.9.9.4.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.9.9.4.2" class="ltx_text" style="font-size:70%;"> 0.65</span>
</td>
<td id="A5.T9.10.10.5" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A5.T9.10.10.5.1" class="ltx_text" style="font-size:70%;">83.04 </span><math id="A5.T9.10.10.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.10.10.5.m1.1a"><mo mathsize="70%" id="A5.T9.10.10.5.m1.1.1" xref="A5.T9.10.10.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.10.10.5.m1.1b"><csymbol cd="latexml" id="A5.T9.10.10.5.m1.1.1.cmml" xref="A5.T9.10.10.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.10.10.5.m1.1c">\pm</annotation></semantics></math><span id="A5.T9.10.10.5.2" class="ltx_text" style="font-size:70%;"> 0.30</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span id="A5.T9.17.2.1" class="ltx_text" style="font-size:129%;">Table 9</span>: </span><span id="A5.T9.12.1" class="ltx_text" style="font-size:129%;">Random sharing vs receiving the style that has the largest distance in style space. The reported results indicate (mean <math id="A5.T9.12.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T9.12.1.m1.1b"><mo id="A5.T9.12.1.m1.1.1" xref="A5.T9.12.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T9.12.1.m1.1c"><csymbol cd="latexml" id="A5.T9.12.1.m1.1.1.cmml" xref="A5.T9.12.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T9.12.1.m1.1d">\pm</annotation></semantics></math> 95% confidence interval) over 3 random trials.</span></figcaption>
</figure>
</section>
<section id="A5.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.2 </span>Effect of the number of shared styles</h3>

<div id="A5.SS2.p1" class="ltx_para">
<p id="A5.SS2.p1.1" class="ltx_p">We also compare the effect of number of styles received at each client in Table <a href="#A5.T10" title="Table 10 ‣ E.2 Effect of the number of shared styles ‣ Appendix E Ablation Studies on Style-Based Learning ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">10</span></a> using PACS dataset in a multi-domain data distribution setup. The performance increases as the number of received styles increases, with small additional communication load (the vector length of the style information is 128, which is negligible compared to the number of model parameters, which is 11,180,103).</p>
</div>
<figure id="A5.T10" class="ltx_table">
<table id="A5.T10.15" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A5.T10.15.16.1" class="ltx_tr">
<th id="A5.T10.15.16.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A5.T10.15.16.1.1.1" class="ltx_text" style="font-size:70%;">Methods</span></th>
<th id="A5.T10.15.16.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T10.15.16.1.2.1" class="ltx_text" style="font-size:70%;">Art</span></th>
<th id="A5.T10.15.16.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T10.15.16.1.3.1" class="ltx_text" style="font-size:70%;">Cartoon</span></th>
<th id="A5.T10.15.16.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T10.15.16.1.4.1" class="ltx_text" style="font-size:70%;">Photo</span></th>
<th id="A5.T10.15.16.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A5.T10.15.16.1.5.1" class="ltx_text" style="font-size:70%;">Sketch</span></th>
<th id="A5.T10.15.16.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T10.15.16.1.6.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A5.T10.5.5" class="ltx_tr">
<th id="A5.T10.5.5.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A5.T10.5.5.6.1" class="ltx_text" style="font-size:70%;">No style sharing</span></th>
<td id="A5.T10.1.1.1" class="ltx_td ltx_align_center ltx_border_t">
<span id="A5.T10.1.1.1.1" class="ltx_text" style="font-size:70%;">83.16 </span><math id="A5.T10.1.1.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.1.1.1.m1.1a"><mo mathsize="70%" id="A5.T10.1.1.1.m1.1.1" xref="A5.T10.1.1.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.1.1.1.m1.1b"><csymbol cd="latexml" id="A5.T10.1.1.1.m1.1.1.cmml" xref="A5.T10.1.1.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.1.1.1.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.1.1.1.2" class="ltx_text" style="font-size:70%;"> 0.18</span>
</td>
<td id="A5.T10.2.2.2" class="ltx_td ltx_align_center ltx_border_t">
<span id="A5.T10.2.2.2.1" class="ltx_text" style="font-size:70%;">78.54 </span><math id="A5.T10.2.2.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.2.2.2.m1.1a"><mo mathsize="70%" id="A5.T10.2.2.2.m1.1.1" xref="A5.T10.2.2.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.2.2.2.m1.1b"><csymbol cd="latexml" id="A5.T10.2.2.2.m1.1.1.cmml" xref="A5.T10.2.2.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.2.2.2.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.2.2.2.2" class="ltx_text" style="font-size:70%;"> 1.11</span>
</td>
<td id="A5.T10.3.3.3" class="ltx_td ltx_align_center ltx_border_t">
<span id="A5.T10.3.3.3.1" class="ltx_text" style="font-size:70%;">95.56 </span><math id="A5.T10.3.3.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.3.3.3.m1.1a"><mo mathsize="70%" id="A5.T10.3.3.3.m1.1.1" xref="A5.T10.3.3.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.3.3.3.m1.1b"><csymbol cd="latexml" id="A5.T10.3.3.3.m1.1.1.cmml" xref="A5.T10.3.3.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.3.3.3.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.3.3.3.2" class="ltx_text" style="font-size:70%;"> 0.92</span>
</td>
<td id="A5.T10.4.4.4" class="ltx_td ltx_align_center ltx_border_r ltx_border_t">
<span id="A5.T10.4.4.4.1" class="ltx_text" style="font-size:70%;">74.64 </span><math id="A5.T10.4.4.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.4.4.4.m1.1a"><mo mathsize="70%" id="A5.T10.4.4.4.m1.1.1" xref="A5.T10.4.4.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.4.4.4.m1.1b"><csymbol cd="latexml" id="A5.T10.4.4.4.m1.1.1.cmml" xref="A5.T10.4.4.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.4.4.4.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.4.4.4.2" class="ltx_text" style="font-size:70%;"> 1.06</span>
</td>
<td id="A5.T10.5.5.5" class="ltx_td ltx_align_center ltx_border_t">
<span id="A5.T10.5.5.5.1" class="ltx_text" style="font-size:70%;">82.97 </span><math id="A5.T10.5.5.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.5.5.5.m1.1a"><mo mathsize="70%" id="A5.T10.5.5.5.m1.1.1" xref="A5.T10.5.5.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.5.5.5.m1.1b"><csymbol cd="latexml" id="A5.T10.5.5.5.m1.1.1.cmml" xref="A5.T10.5.5.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.5.5.5.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.5.5.5.2" class="ltx_text" style="font-size:70%;"> 0.36</span>
</td>
</tr>
<tr id="A5.T10.10.10" class="ltx_tr">
<th id="A5.T10.10.10.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r"><span id="A5.T10.10.10.6.1" class="ltx_text" style="font-size:70%;">Receive 1 style (current manuscript)</span></th>
<td id="A5.T10.6.6.1" class="ltx_td ltx_align_center">
<span id="A5.T10.6.6.1.1" class="ltx_text" style="font-size:70%;">83.97 </span><math id="A5.T10.6.6.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.6.6.1.m1.1a"><mo mathsize="70%" id="A5.T10.6.6.1.m1.1.1" xref="A5.T10.6.6.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.6.6.1.m1.1b"><csymbol cd="latexml" id="A5.T10.6.6.1.m1.1.1.cmml" xref="A5.T10.6.6.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.6.6.1.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.6.6.1.2" class="ltx_text" style="font-size:70%;"> 1.25</span>
</td>
<td id="A5.T10.7.7.2" class="ltx_td ltx_align_center">
<span id="A5.T10.7.7.2.1" class="ltx_text" style="font-size:70%;">79.10 </span><math id="A5.T10.7.7.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.7.7.2.m1.1a"><mo mathsize="70%" id="A5.T10.7.7.2.m1.1.1" xref="A5.T10.7.7.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.7.7.2.m1.1b"><csymbol cd="latexml" id="A5.T10.7.7.2.m1.1.1.cmml" xref="A5.T10.7.7.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.7.7.2.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.7.7.2.2" class="ltx_text" style="font-size:70%;"> 0.45</span>
</td>
<td id="A5.T10.8.8.3" class="ltx_td ltx_align_center">
<span id="A5.T10.8.8.3.1" class="ltx_text" style="font-size:70%;">96.27 </span><math id="A5.T10.8.8.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.8.8.3.m1.1a"><mo mathsize="70%" id="A5.T10.8.8.3.m1.1.1" xref="A5.T10.8.8.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.8.8.3.m1.1b"><csymbol cd="latexml" id="A5.T10.8.8.3.m1.1.1.cmml" xref="A5.T10.8.8.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.8.8.3.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.8.8.3.2" class="ltx_text" style="font-size:70%;"> 0.36</span>
</td>
<td id="A5.T10.9.9.4" class="ltx_td ltx_align_center ltx_border_r">
<span id="A5.T10.9.9.4.1" class="ltx_text" style="font-size:70%;">75.67 </span><math id="A5.T10.9.9.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.9.9.4.m1.1a"><mo mathsize="70%" id="A5.T10.9.9.4.m1.1.1" xref="A5.T10.9.9.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.9.9.4.m1.1b"><csymbol cd="latexml" id="A5.T10.9.9.4.m1.1.1.cmml" xref="A5.T10.9.9.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.9.9.4.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.9.9.4.2" class="ltx_text" style="font-size:70%;"> 0.58</span>
</td>
<td id="A5.T10.10.10.5" class="ltx_td ltx_align_center">
<span id="A5.T10.10.10.5.1" class="ltx_text" style="font-size:70%;">83.75 </span><math id="A5.T10.10.10.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.10.10.5.m1.1a"><mo mathsize="70%" id="A5.T10.10.10.5.m1.1.1" xref="A5.T10.10.10.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.10.10.5.m1.1b"><csymbol cd="latexml" id="A5.T10.10.10.5.m1.1.1.cmml" xref="A5.T10.10.10.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.10.10.5.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.10.10.5.2" class="ltx_text" style="font-size:70%;"> 0.23</span>
</td>
</tr>
<tr id="A5.T10.15.15" class="ltx_tr">
<th id="A5.T10.15.15.6" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="A5.T10.15.15.6.1" class="ltx_text" style="font-size:70%;">Receive 3 styles</span></th>
<td id="A5.T10.11.11.1" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A5.T10.11.11.1.1" class="ltx_text" style="font-size:70%;">84.55 </span><math id="A5.T10.11.11.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.11.11.1.m1.1a"><mo mathsize="70%" id="A5.T10.11.11.1.m1.1.1" xref="A5.T10.11.11.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.11.11.1.m1.1b"><csymbol cd="latexml" id="A5.T10.11.11.1.m1.1.1.cmml" xref="A5.T10.11.11.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.11.11.1.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.11.11.1.2" class="ltx_text" style="font-size:70%;"> 1.20</span>
</td>
<td id="A5.T10.12.12.2" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A5.T10.12.12.2.1" class="ltx_text" style="font-size:70%;">78.67 </span><math id="A5.T10.12.12.2.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.12.12.2.m1.1a"><mo mathsize="70%" id="A5.T10.12.12.2.m1.1.1" xref="A5.T10.12.12.2.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.12.12.2.m1.1b"><csymbol cd="latexml" id="A5.T10.12.12.2.m1.1.1.cmml" xref="A5.T10.12.12.2.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.12.12.2.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.12.12.2.2" class="ltx_text" style="font-size:70%;"> 0.59</span>
</td>
<td id="A5.T10.13.13.3" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A5.T10.13.13.3.1" class="ltx_text" style="font-size:70%;">95.75 </span><math id="A5.T10.13.13.3.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.13.13.3.m1.1a"><mo mathsize="70%" id="A5.T10.13.13.3.m1.1.1" xref="A5.T10.13.13.3.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.13.13.3.m1.1b"><csymbol cd="latexml" id="A5.T10.13.13.3.m1.1.1.cmml" xref="A5.T10.13.13.3.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.13.13.3.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.13.13.3.2" class="ltx_text" style="font-size:70%;"> 0.58</span>
</td>
<td id="A5.T10.14.14.4" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r">
<span id="A5.T10.14.14.4.1" class="ltx_text" style="font-size:70%;">76.77 </span><math id="A5.T10.14.14.4.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.14.14.4.m1.1a"><mo mathsize="70%" id="A5.T10.14.14.4.m1.1.1" xref="A5.T10.14.14.4.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.14.14.4.m1.1b"><csymbol cd="latexml" id="A5.T10.14.14.4.m1.1.1.cmml" xref="A5.T10.14.14.4.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.14.14.4.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.14.14.4.2" class="ltx_text" style="font-size:70%;"> 0.27</span>
</td>
<td id="A5.T10.15.15.5" class="ltx_td ltx_align_center ltx_border_bb">
<span id="A5.T10.15.15.5.1" class="ltx_text" style="font-size:70%;">83.94 </span><math id="A5.T10.15.15.5.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.15.15.5.m1.1a"><mo mathsize="70%" id="A5.T10.15.15.5.m1.1.1" xref="A5.T10.15.15.5.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.15.15.5.m1.1b"><csymbol cd="latexml" id="A5.T10.15.15.5.m1.1.1.cmml" xref="A5.T10.15.15.5.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.15.15.5.m1.1c">\pm</annotation></semantics></math><span id="A5.T10.15.15.5.2" class="ltx_text" style="font-size:70%;"> 0.07</span>
</td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span id="A5.T10.22.2.1" class="ltx_text" style="font-size:129%;">Table 10</span>: </span><span id="A5.T10.17.1" class="ltx_text" style="font-size:129%;">Effect of the number of shared styles. The reported results indicate (mean <math id="A5.T10.17.1.m1.1" class="ltx_Math" alttext="\pm" display="inline"><semantics id="A5.T10.17.1.m1.1b"><mo id="A5.T10.17.1.m1.1.1" xref="A5.T10.17.1.m1.1.1.cmml">±</mo><annotation-xml encoding="MathML-Content" id="A5.T10.17.1.m1.1c"><csymbol cd="latexml" id="A5.T10.17.1.m1.1.1.cmml" xref="A5.T10.17.1.m1.1.1">plus-or-minus</csymbol></annotation-xml><annotation encoding="application/x-tex" id="A5.T10.17.1.m1.1d">\pm</annotation></semantics></math> 95% confidence interval) over 3 random trials. </span></figcaption>
</figure>
</section>
<section id="A5.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.3 </span>Effect of <math id="A5.SS3.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A5.SS3.1.m1.1b"><mi id="A5.SS3.1.m1.1.1" xref="A5.SS3.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A5.SS3.1.m1.1c"><ci id="A5.SS3.1.m1.1.1.cmml" xref="A5.SS3.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS3.1.m1.1d">k</annotation></semantics></math>-means++ in style shifting</h3>

<div id="A5.SS3.p1" class="ltx_para">
<p id="A5.SS3.p1.4" class="ltx_p">In Section 3.1, we utilized the <math id="A5.SS3.p1.1.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A5.SS3.p1.1.m1.1a"><mi id="A5.SS3.p1.1.m1.1.1" xref="A5.SS3.p1.1.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A5.SS3.p1.1.m1.1b"><ci id="A5.SS3.p1.1.m1.1.1.cmml" xref="A5.SS3.p1.1.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS3.p1.1.m1.1c">k</annotation></semantics></math>-means++ as a tool for facilitating our key idea in style shifting, which is to effectively balance between the original source domain and the new source domain for better generalization; k-means++ plays a role to select the <math id="A5.SS3.p1.2.m2.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="A5.SS3.p1.2.m2.1a"><mrow id="A5.SS3.p1.2.m2.1.1" xref="A5.SS3.p1.2.m2.1.1.cmml"><mi id="A5.SS3.p1.2.m2.1.1.2" xref="A5.SS3.p1.2.m2.1.1.2.cmml">B</mi><mo id="A5.SS3.p1.2.m2.1.1.1" xref="A5.SS3.p1.2.m2.1.1.1.cmml">/</mo><mn id="A5.SS3.p1.2.m2.1.1.3" xref="A5.SS3.p1.2.m2.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.SS3.p1.2.m2.1b"><apply id="A5.SS3.p1.2.m2.1.1.cmml" xref="A5.SS3.p1.2.m2.1.1"><divide id="A5.SS3.p1.2.m2.1.1.1.cmml" xref="A5.SS3.p1.2.m2.1.1.1"></divide><ci id="A5.SS3.p1.2.m2.1.1.2.cmml" xref="A5.SS3.p1.2.m2.1.1.2">𝐵</ci><cn type="integer" id="A5.SS3.p1.2.m2.1.1.3.cmml" xref="A5.SS3.p1.2.m2.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS3.p1.2.m2.1c">B/2</annotation></semantics></math> styles that are similar to the remaining <math id="A5.SS3.p1.3.m3.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="A5.SS3.p1.3.m3.1a"><mrow id="A5.SS3.p1.3.m3.1.1" xref="A5.SS3.p1.3.m3.1.1.cmml"><mi id="A5.SS3.p1.3.m3.1.1.2" xref="A5.SS3.p1.3.m3.1.1.2.cmml">B</mi><mo id="A5.SS3.p1.3.m3.1.1.1" xref="A5.SS3.p1.3.m3.1.1.1.cmml">/</mo><mn id="A5.SS3.p1.3.m3.1.1.3" xref="A5.SS3.p1.3.m3.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.SS3.p1.3.m3.1b"><apply id="A5.SS3.p1.3.m3.1.1.cmml" xref="A5.SS3.p1.3.m3.1.1"><divide id="A5.SS3.p1.3.m3.1.1.1.cmml" xref="A5.SS3.p1.3.m3.1.1.1"></divide><ci id="A5.SS3.p1.3.m3.1.1.2.cmml" xref="A5.SS3.p1.3.m3.1.1.2">𝐵</ci><cn type="integer" id="A5.SS3.p1.3.m3.1.1.3.cmml" xref="A5.SS3.p1.3.m3.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS3.p1.3.m3.1c">B/2</annotation></semantics></math> styles in the mini-batch. By doing so, the model can explore new styles while not losing the performance on the original styles. To see this effect, we compare <math id="A5.SS3.p1.4.m4.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A5.SS3.p1.4.m4.1a"><mi id="A5.SS3.p1.4.m4.1.1" xref="A5.SS3.p1.4.m4.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A5.SS3.p1.4.m4.1b"><ci id="A5.SS3.p1.4.m4.1.1.cmml" xref="A5.SS3.p1.4.m4.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS3.p1.4.m4.1c">k</annotation></semantics></math>-means++ vs. random sampling when selecting B/2 samples to be shifted, in Table <a href="#A5.T11" title="Table 11 ‣ E.3 Effect of 𝑘-means++ in style shifting ‣ Appendix E Ablation Studies on Style-Based Learning ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">11</span></a>. The results show that strategically selecting the B/2 samples to be shifted achieves better performance especially in the Sketch domain (1.89% gain) that has a large style gap with other domains. We believe that these results motivate and justify our design choice.</p>
</div>
<figure id="A5.T11" class="ltx_table">
<table id="A5.T11.3" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A5.T11.3.4.1" class="ltx_tr">
<th id="A5.T11.3.4.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A5.T11.3.4.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A5.T11.3.4.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T11.3.4.1.2.1" class="ltx_text" style="font-size:90%;">Art</span></th>
<th id="A5.T11.3.4.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T11.3.4.1.3.1" class="ltx_text" style="font-size:90%;">Cartoon</span></th>
<th id="A5.T11.3.4.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T11.3.4.1.4.1" class="ltx_text" style="font-size:90%;">Photo</span></th>
<th id="A5.T11.3.4.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A5.T11.3.4.1.5.1" class="ltx_text" style="font-size:90%;">Sketch</span></th>
<th id="A5.T11.3.4.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T11.3.4.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A5.T11.1.1" class="ltx_tr">
<th id="A5.T11.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A5.T11.1.1.1.1" class="ltx_text" style="font-size:90%;">Shifting </span><math id="A5.T11.1.1.1.m1.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="A5.T11.1.1.1.m1.1a"><mrow id="A5.T11.1.1.1.m1.1.1" xref="A5.T11.1.1.1.m1.1.1.cmml"><mi mathsize="90%" id="A5.T11.1.1.1.m1.1.1.2" xref="A5.T11.1.1.1.m1.1.1.2.cmml">B</mi><mo maxsize="90%" minsize="90%" stretchy="true" symmetric="true" id="A5.T11.1.1.1.m1.1.1.1" xref="A5.T11.1.1.1.m1.1.1.1.cmml">/</mo><mn mathsize="90%" id="A5.T11.1.1.1.m1.1.1.3" xref="A5.T11.1.1.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.T11.1.1.1.m1.1b"><apply id="A5.T11.1.1.1.m1.1.1.cmml" xref="A5.T11.1.1.1.m1.1.1"><divide id="A5.T11.1.1.1.m1.1.1.1.cmml" xref="A5.T11.1.1.1.m1.1.1.1"></divide><ci id="A5.T11.1.1.1.m1.1.1.2.cmml" xref="A5.T11.1.1.1.m1.1.1.2">𝐵</ci><cn type="integer" id="A5.T11.1.1.1.m1.1.1.3.cmml" xref="A5.T11.1.1.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.T11.1.1.1.m1.1c">B/2</annotation></semantics></math><span id="A5.T11.1.1.1.2" class="ltx_text" style="font-size:90%;"> random styles</span>
</th>
<td id="A5.T11.1.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T11.1.1.2.1" class="ltx_text" style="font-size:90%;">83.69</span></td>
<td id="A5.T11.1.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T11.1.1.3.1" class="ltx_text" style="font-size:90%;">79.61</span></td>
<td id="A5.T11.1.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T11.1.1.4.1" class="ltx_text" style="font-size:90%;">95.99</span></td>
<td id="A5.T11.1.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A5.T11.1.1.5.1" class="ltx_text" style="font-size:90%;">73.78</span></td>
<td id="A5.T11.1.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T11.1.1.6.1" class="ltx_text" style="font-size:90%;">83.27</span></td>
</tr>
<tr id="A5.T11.3.3" class="ltx_tr">
<th id="A5.T11.3.3.2" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">
<span id="A5.T11.3.3.2.1" class="ltx_text" style="font-size:90%;">Shifting </span><math id="A5.T11.2.2.1.m1.1" class="ltx_Math" alttext="B/2" display="inline"><semantics id="A5.T11.2.2.1.m1.1a"><mrow id="A5.T11.2.2.1.m1.1.1" xref="A5.T11.2.2.1.m1.1.1.cmml"><mi mathsize="90%" id="A5.T11.2.2.1.m1.1.1.2" xref="A5.T11.2.2.1.m1.1.1.2.cmml">B</mi><mo maxsize="90%" minsize="90%" stretchy="true" symmetric="true" id="A5.T11.2.2.1.m1.1.1.1" xref="A5.T11.2.2.1.m1.1.1.1.cmml">/</mo><mn mathsize="90%" id="A5.T11.2.2.1.m1.1.1.3" xref="A5.T11.2.2.1.m1.1.1.3.cmml">2</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.T11.2.2.1.m1.1b"><apply id="A5.T11.2.2.1.m1.1.1.cmml" xref="A5.T11.2.2.1.m1.1.1"><divide id="A5.T11.2.2.1.m1.1.1.1.cmml" xref="A5.T11.2.2.1.m1.1.1.1"></divide><ci id="A5.T11.2.2.1.m1.1.1.2.cmml" xref="A5.T11.2.2.1.m1.1.1.2">𝐵</ci><cn type="integer" id="A5.T11.2.2.1.m1.1.1.3.cmml" xref="A5.T11.2.2.1.m1.1.1.3">2</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.T11.2.2.1.m1.1c">B/2</annotation></semantics></math><span id="A5.T11.3.3.2.2" class="ltx_text" style="font-size:90%;"> styles via </span><math id="A5.T11.3.3.2.m2.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A5.T11.3.3.2.m2.1a"><mi mathsize="90%" id="A5.T11.3.3.2.m2.1.1" xref="A5.T11.3.3.2.m2.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A5.T11.3.3.2.m2.1b"><ci id="A5.T11.3.3.2.m2.1.1.cmml" xref="A5.T11.3.3.2.m2.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.T11.3.3.2.m2.1c">k</annotation></semantics></math><span id="A5.T11.3.3.2.3" class="ltx_text" style="font-size:90%;">-means++</span>
</th>
<td id="A5.T11.3.3.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T11.3.3.3.1" class="ltx_text" style="font-size:90%;">83.97</span></td>
<td id="A5.T11.3.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T11.3.3.4.1" class="ltx_text" style="font-size:90%;">79.10</span></td>
<td id="A5.T11.3.3.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T11.3.3.5.1" class="ltx_text" style="font-size:90%;">96.27</span></td>
<td id="A5.T11.3.3.6" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A5.T11.3.3.6.1" class="ltx_text" style="font-size:90%;">75.67</span></td>
<td id="A5.T11.3.3.7" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T11.3.3.7.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:90%;">83.75</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 11: </span>Effect of <math id="A5.T11.5.m1.1" class="ltx_Math" alttext="k" display="inline"><semantics id="A5.T11.5.m1.1b"><mi id="A5.T11.5.m1.1.1" xref="A5.T11.5.m1.1.1.cmml">k</mi><annotation-xml encoding="MathML-Content" id="A5.T11.5.m1.1c"><ci id="A5.T11.5.m1.1.1.cmml" xref="A5.T11.5.m1.1.1">𝑘</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.T11.5.m1.1d">k</annotation></semantics></math>-means++ in style shifting on PACS dataset. </figcaption>
</figure>
</section>
<section id="A5.SS4" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.4 </span>Effect of class-balanced oversampling</h3>

<div id="A5.SS4.p1" class="ltx_para">
<p id="A5.SS4.p1.1" class="ltx_p">In our main paper, we performed the class-balanced oversampling in the feature space to alleviate the class-imbalance issue during style exploration. To confirm the effectiveness of the class-balanced oversampling, we compare it with random oversampling under the same condition where only the style exploration is applied without other components. Table <a href="#A5.T12" title="Table 12 ‣ E.4 Effect of class-balanced oversampling ‣ Appendix E Ablation Studies on Style-Based Learning ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">12</span></a> shows the results on Office-Home dataset, where the class distribution is highly imbalanced in a multi-domain data distribution scenario. It can be seen that our class-balanced oversampling achieves higher performance over the simple random sampling, which validates the efficacy of mitigating the class imbalance problem in FL clients.</p>
</div>
<figure id="A5.T12" class="ltx_table">
<table id="A5.T12.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A5.T12.2.1.1" class="ltx_tr">
<th id="A5.T12.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A5.T12.2.1.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A5.T12.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T12.2.1.1.2.1" class="ltx_text" style="font-size:90%;">Art</span></th>
<th id="A5.T12.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T12.2.1.1.3.1" class="ltx_text" style="font-size:90%;">Cartoon</span></th>
<th id="A5.T12.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T12.2.1.1.4.1" class="ltx_text" style="font-size:90%;">Photo</span></th>
<th id="A5.T12.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A5.T12.2.1.1.5.1" class="ltx_text" style="font-size:90%;">Sketch</span></th>
<th id="A5.T12.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T12.2.1.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A5.T12.2.2.1" class="ltx_tr">
<th id="A5.T12.2.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A5.T12.2.2.1.1.1" class="ltx_text" style="font-size:90%;">Random oversampling</span></th>
<td id="A5.T12.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T12.2.2.1.2.1" class="ltx_text" style="font-size:90%;">56.21</span></td>
<td id="A5.T12.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T12.2.2.1.3.1" class="ltx_text" style="font-size:90%;">54.43</span></td>
<td id="A5.T12.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T12.2.2.1.4.1" class="ltx_text" style="font-size:90%;">69.37</span></td>
<td id="A5.T12.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A5.T12.2.2.1.5.1" class="ltx_text" style="font-size:90%;">72.29</span></td>
<td id="A5.T12.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T12.2.2.1.6.1" class="ltx_text" style="font-size:90%;">63.08</span></td>
</tr>
<tr id="A5.T12.2.3.2" class="ltx_tr">
<th id="A5.T12.2.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="A5.T12.2.3.2.1.1" class="ltx_text" style="font-size:90%;">Class-balanced oversampling</span></th>
<td id="A5.T12.2.3.2.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T12.2.3.2.2.1" class="ltx_text" style="font-size:90%;">57.20</span></td>
<td id="A5.T12.2.3.2.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T12.2.3.2.3.1" class="ltx_text" style="font-size:90%;">53.15</span></td>
<td id="A5.T12.2.3.2.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T12.2.3.2.4.1" class="ltx_text" style="font-size:90%;">71.2</span></td>
<td id="A5.T12.2.3.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A5.T12.2.3.2.5.1" class="ltx_text" style="font-size:90%;">74.23</span></td>
<td id="A5.T12.2.3.2.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T12.2.3.2.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:90%;">64.10</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 12: </span>Effect of the class-balanced oversampling on Office-Home dataset in a multi-domain data distribution scenario. </figcaption>
</figure>
</section>
<section id="A5.SS5" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.5 </span>Effect of the operation probability in style-based learning</h3>

<div id="A5.SS5.p1" class="ltx_para">
<p id="A5.SS5.p1.7" class="ltx_p">We conduct additional ablation studies on the probability value (defined as <math id="A5.SS5.p1.1.m1.1" class="ltx_Math" alttext="p" display="inline"><semantics id="A5.SS5.p1.1.m1.1a"><mi id="A5.SS5.p1.1.m1.1.1" xref="A5.SS5.p1.1.m1.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A5.SS5.p1.1.m1.1b"><ci id="A5.SS5.p1.1.m1.1.1.cmml" xref="A5.SS5.p1.1.m1.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS5.p1.1.m1.1c">p</annotation></semantics></math> here) utilized to control the operation of the style sharing/shifting and style exploration modules. Larger <math id="A5.SS5.p1.2.m2.1" class="ltx_Math" alttext="p" display="inline"><semantics id="A5.SS5.p1.2.m2.1a"><mi id="A5.SS5.p1.2.m2.1.1" xref="A5.SS5.p1.2.m2.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A5.SS5.p1.2.m2.1b"><ci id="A5.SS5.p1.2.m2.1.1.cmml" xref="A5.SS5.p1.2.m2.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS5.p1.2.m2.1c">p</annotation></semantics></math> means that our scheme is more likely to be activated. In Table <a href="#A5.T13" title="Table 13 ‣ E.5 Effect of the operation probability in style-based learning ‣ Appendix E Ablation Studies on Style-Based Learning ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">13</span></a>, we provide results on various probability values in a single-domain data distribution scenario using PACS dataset. From the results, it is confirm that for all <math id="A5.SS5.p1.3.m3.1" class="ltx_Math" alttext="p" display="inline"><semantics id="A5.SS5.p1.3.m3.1a"><mi id="A5.SS5.p1.3.m3.1.1" xref="A5.SS5.p1.3.m3.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A5.SS5.p1.3.m3.1b"><ci id="A5.SS5.p1.3.m3.1.1.cmml" xref="A5.SS5.p1.3.m3.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS5.p1.3.m3.1c">p</annotation></semantics></math> values, the proposed StableFDG outperforms existing baselines, demonstrating that our scheme can work well with an arbitrarily chosen probability <math id="A5.SS5.p1.4.m4.1" class="ltx_Math" alttext="p" display="inline"><semantics id="A5.SS5.p1.4.m4.1a"><mi id="A5.SS5.p1.4.m4.1.1" xref="A5.SS5.p1.4.m4.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A5.SS5.p1.4.m4.1b"><ci id="A5.SS5.p1.4.m4.1.1.cmml" xref="A5.SS5.p1.4.m4.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS5.p1.4.m4.1c">p</annotation></semantics></math>. In detail, when <math id="A5.SS5.p1.5.m5.1" class="ltx_Math" alttext="p" display="inline"><semantics id="A5.SS5.p1.5.m5.1a"><mi id="A5.SS5.p1.5.m5.1.1" xref="A5.SS5.p1.5.m5.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A5.SS5.p1.5.m5.1b"><ci id="A5.SS5.p1.5.m5.1.1.cmml" xref="A5.SS5.p1.5.m5.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS5.p1.5.m5.1c">p</annotation></semantics></math> ranges from 0.3 to 0.7, the high performance is maintained while the performance decreases at both extreme probabilities (<math id="A5.SS5.p1.6.m6.1" class="ltx_Math" alttext="p=0.1" display="inline"><semantics id="A5.SS5.p1.6.m6.1a"><mrow id="A5.SS5.p1.6.m6.1.1" xref="A5.SS5.p1.6.m6.1.1.cmml"><mi id="A5.SS5.p1.6.m6.1.1.2" xref="A5.SS5.p1.6.m6.1.1.2.cmml">p</mi><mo id="A5.SS5.p1.6.m6.1.1.1" xref="A5.SS5.p1.6.m6.1.1.1.cmml">=</mo><mn id="A5.SS5.p1.6.m6.1.1.3" xref="A5.SS5.p1.6.m6.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.SS5.p1.6.m6.1b"><apply id="A5.SS5.p1.6.m6.1.1.cmml" xref="A5.SS5.p1.6.m6.1.1"><eq id="A5.SS5.p1.6.m6.1.1.1.cmml" xref="A5.SS5.p1.6.m6.1.1.1"></eq><ci id="A5.SS5.p1.6.m6.1.1.2.cmml" xref="A5.SS5.p1.6.m6.1.1.2">𝑝</ci><cn type="float" id="A5.SS5.p1.6.m6.1.1.3.cmml" xref="A5.SS5.p1.6.m6.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.SS5.p1.6.m6.1c">p=0.1</annotation></semantics></math> and 0.9). Therefore, it is recommended for practitioners to select the <math id="A5.SS5.p1.7.m7.1" class="ltx_Math" alttext="p" display="inline"><semantics id="A5.SS5.p1.7.m7.1a"><mi id="A5.SS5.p1.7.m7.1.1" xref="A5.SS5.p1.7.m7.1.1.cmml">p</mi><annotation-xml encoding="MathML-Content" id="A5.SS5.p1.7.m7.1b"><ci id="A5.SS5.p1.7.m7.1.1.cmml" xref="A5.SS5.p1.7.m7.1.1">𝑝</ci></annotation-xml><annotation encoding="application/x-tex" id="A5.SS5.p1.7.m7.1c">p</annotation></semantics></math> in an appropriate range, avoiding extreme cases.</p>
</div>
<figure id="A5.T13" class="ltx_table">
<table id="A5.T13.5" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A5.T13.5.6.1" class="ltx_tr">
<th id="A5.T13.5.6.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A5.T13.5.6.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A5.T13.5.6.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T13.5.6.1.2.1" class="ltx_text" style="font-size:90%;">Art</span></th>
<th id="A5.T13.5.6.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T13.5.6.1.3.1" class="ltx_text" style="font-size:90%;">Cartoon</span></th>
<th id="A5.T13.5.6.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T13.5.6.1.4.1" class="ltx_text" style="font-size:90%;">Photo</span></th>
<th id="A5.T13.5.6.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A5.T13.5.6.1.5.1" class="ltx_text" style="font-size:90%;">Sketch</span></th>
<th id="A5.T13.5.6.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T13.5.6.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A5.T13.5.7.1" class="ltx_tr">
<th id="A5.T13.5.7.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t">
<span id="A5.T13.5.7.1.1.1" class="ltx_text" style="font-size:90%;">MixStyle </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A5.T13.5.7.1.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib39" title="" class="ltx_ref">39</a><span id="A5.T13.5.7.1.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A5.T13.5.7.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T13.5.7.1.2.1" class="ltx_text" style="font-size:90%;">79.10</span></td>
<td id="A5.T13.5.7.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T13.5.7.1.3.1" class="ltx_text" style="font-size:90%;">76.30</span></td>
<td id="A5.T13.5.7.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T13.5.7.1.4.1" class="ltx_text" style="font-size:90%;">90.10</span></td>
<td id="A5.T13.5.7.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A5.T13.5.7.1.5.1" class="ltx_text" style="font-size:90%;">60.63</span></td>
<td id="A5.T13.5.7.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T13.5.7.1.6.1" class="ltx_text" style="font-size:90%;">76.53</span></td>
</tr>
<tr id="A5.T13.5.8.2" class="ltx_tr">
<th id="A5.T13.5.8.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A5.T13.5.8.2.1.1" class="ltx_text" style="font-size:90%;">DSU </span><cite class="ltx_cite ltx_citemacro_cite"><span id="A5.T13.5.8.2.1.2.1" class="ltx_text" style="font-size:90%;">[</span><a href="#bib.bib21" title="" class="ltx_ref">21</a><span id="A5.T13.5.8.2.1.3.2" class="ltx_text" style="font-size:90%;">]</span></cite>
</th>
<td id="A5.T13.5.8.2.2" class="ltx_td ltx_align_center"><span id="A5.T13.5.8.2.2.1" class="ltx_text" style="font-size:90%;">80.43</span></td>
<td id="A5.T13.5.8.2.3" class="ltx_td ltx_align_center"><span id="A5.T13.5.8.2.3.1" class="ltx_text" style="font-size:90%;">75.70</span></td>
<td id="A5.T13.5.8.2.4" class="ltx_td ltx_align_center"><span id="A5.T13.5.8.2.4.1" class="ltx_text" style="font-size:90%;">92.60</span></td>
<td id="A5.T13.5.8.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A5.T13.5.8.2.5.1" class="ltx_text" style="font-size:90%;">69.87</span></td>
<td id="A5.T13.5.8.2.6" class="ltx_td ltx_align_center"><span id="A5.T13.5.8.2.6.1" class="ltx_text" style="font-size:90%;">79.65</span></td>
</tr>
<tr id="A5.T13.1.1" class="ltx_tr">
<th id="A5.T13.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A5.T13.1.1.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">StableFDG</span><span id="A5.T13.1.1.1.2" class="ltx_text" style="font-size:90%;"> (</span><math id="A5.T13.1.1.1.m1.1" class="ltx_Math" alttext="p=0.1" display="inline"><semantics id="A5.T13.1.1.1.m1.1a"><mrow id="A5.T13.1.1.1.m1.1.1" xref="A5.T13.1.1.1.m1.1.1.cmml"><mi mathsize="90%" id="A5.T13.1.1.1.m1.1.1.2" xref="A5.T13.1.1.1.m1.1.1.2.cmml">p</mi><mo mathsize="90%" id="A5.T13.1.1.1.m1.1.1.1" xref="A5.T13.1.1.1.m1.1.1.1.cmml">=</mo><mn mathsize="90%" id="A5.T13.1.1.1.m1.1.1.3" xref="A5.T13.1.1.1.m1.1.1.3.cmml">0.1</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.T13.1.1.1.m1.1b"><apply id="A5.T13.1.1.1.m1.1.1.cmml" xref="A5.T13.1.1.1.m1.1.1"><eq id="A5.T13.1.1.1.m1.1.1.1.cmml" xref="A5.T13.1.1.1.m1.1.1.1"></eq><ci id="A5.T13.1.1.1.m1.1.1.2.cmml" xref="A5.T13.1.1.1.m1.1.1.2">𝑝</ci><cn type="float" id="A5.T13.1.1.1.m1.1.1.3.cmml" xref="A5.T13.1.1.1.m1.1.1.3">0.1</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.T13.1.1.1.m1.1c">p=0.1</annotation></semantics></math><span id="A5.T13.1.1.1.3" class="ltx_text" style="font-size:90%;">)</span>
</th>
<td id="A5.T13.1.1.2" class="ltx_td ltx_align_center"><span id="A5.T13.1.1.2.1" class="ltx_text" style="font-size:90%;">82.70</span></td>
<td id="A5.T13.1.1.3" class="ltx_td ltx_align_center"><span id="A5.T13.1.1.3.1" class="ltx_text" style="font-size:90%;">78.30</span></td>
<td id="A5.T13.1.1.4" class="ltx_td ltx_align_center"><span id="A5.T13.1.1.4.1" class="ltx_text" style="font-size:90%;">95.30</span></td>
<td id="A5.T13.1.1.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A5.T13.1.1.5.1" class="ltx_text" style="font-size:90%;">75.30</span></td>
<td id="A5.T13.1.1.6" class="ltx_td ltx_align_center"><span id="A5.T13.1.1.6.1" class="ltx_text" style="font-size:90%;">82.90</span></td>
</tr>
<tr id="A5.T13.2.2" class="ltx_tr">
<th id="A5.T13.2.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A5.T13.2.2.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">StableFDG</span><span id="A5.T13.2.2.1.2" class="ltx_text" style="font-size:90%;"> (</span><math id="A5.T13.2.2.1.m1.1" class="ltx_Math" alttext="p=0.3" display="inline"><semantics id="A5.T13.2.2.1.m1.1a"><mrow id="A5.T13.2.2.1.m1.1.1" xref="A5.T13.2.2.1.m1.1.1.cmml"><mi mathsize="90%" id="A5.T13.2.2.1.m1.1.1.2" xref="A5.T13.2.2.1.m1.1.1.2.cmml">p</mi><mo mathsize="90%" id="A5.T13.2.2.1.m1.1.1.1" xref="A5.T13.2.2.1.m1.1.1.1.cmml">=</mo><mn mathsize="90%" id="A5.T13.2.2.1.m1.1.1.3" xref="A5.T13.2.2.1.m1.1.1.3.cmml">0.3</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.T13.2.2.1.m1.1b"><apply id="A5.T13.2.2.1.m1.1.1.cmml" xref="A5.T13.2.2.1.m1.1.1"><eq id="A5.T13.2.2.1.m1.1.1.1.cmml" xref="A5.T13.2.2.1.m1.1.1.1"></eq><ci id="A5.T13.2.2.1.m1.1.1.2.cmml" xref="A5.T13.2.2.1.m1.1.1.2">𝑝</ci><cn type="float" id="A5.T13.2.2.1.m1.1.1.3.cmml" xref="A5.T13.2.2.1.m1.1.1.3">0.3</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.T13.2.2.1.m1.1c">p=0.3</annotation></semantics></math><span id="A5.T13.2.2.1.3" class="ltx_text" style="font-size:90%;">)</span>
</th>
<td id="A5.T13.2.2.2" class="ltx_td ltx_align_center"><span id="A5.T13.2.2.2.1" class="ltx_text" style="font-size:90%;">84.50</span></td>
<td id="A5.T13.2.2.3" class="ltx_td ltx_align_center"><span id="A5.T13.2.2.3.1" class="ltx_text" style="font-size:90%;">79.50</span></td>
<td id="A5.T13.2.2.4" class="ltx_td ltx_align_center"><span id="A5.T13.2.2.4.1" class="ltx_text" style="font-size:90%;">96.00</span></td>
<td id="A5.T13.2.2.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A5.T13.2.2.5.1" class="ltx_text" style="font-size:90%;">75.70</span></td>
<td id="A5.T13.2.2.6" class="ltx_td ltx_align_center"><span id="A5.T13.2.2.6.1" class="ltx_text" style="font-size:90%;">83.93</span></td>
</tr>
<tr id="A5.T13.3.3" class="ltx_tr">
<th id="A5.T13.3.3.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A5.T13.3.3.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">StableFDG</span><span id="A5.T13.3.3.1.2" class="ltx_text" style="font-size:90%;"> (</span><math id="A5.T13.3.3.1.m1.1" class="ltx_Math" alttext="p=0.5" display="inline"><semantics id="A5.T13.3.3.1.m1.1a"><mrow id="A5.T13.3.3.1.m1.1.1" xref="A5.T13.3.3.1.m1.1.1.cmml"><mi mathsize="90%" id="A5.T13.3.3.1.m1.1.1.2" xref="A5.T13.3.3.1.m1.1.1.2.cmml">p</mi><mo mathsize="90%" id="A5.T13.3.3.1.m1.1.1.1" xref="A5.T13.3.3.1.m1.1.1.1.cmml">=</mo><mn mathsize="90%" id="A5.T13.3.3.1.m1.1.1.3" xref="A5.T13.3.3.1.m1.1.1.3.cmml">0.5</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.T13.3.3.1.m1.1b"><apply id="A5.T13.3.3.1.m1.1.1.cmml" xref="A5.T13.3.3.1.m1.1.1"><eq id="A5.T13.3.3.1.m1.1.1.1.cmml" xref="A5.T13.3.3.1.m1.1.1.1"></eq><ci id="A5.T13.3.3.1.m1.1.1.2.cmml" xref="A5.T13.3.3.1.m1.1.1.2">𝑝</ci><cn type="float" id="A5.T13.3.3.1.m1.1.1.3.cmml" xref="A5.T13.3.3.1.m1.1.1.3">0.5</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.T13.3.3.1.m1.1c">p=0.5</annotation></semantics></math><span id="A5.T13.3.3.1.3" class="ltx_text" style="font-size:90%;">)</span>
</th>
<td id="A5.T13.3.3.2" class="ltx_td ltx_align_center"><span id="A5.T13.3.3.2.1" class="ltx_text" style="font-size:90%;">83.10</span></td>
<td id="A5.T13.3.3.3" class="ltx_td ltx_align_center"><span id="A5.T13.3.3.3.1" class="ltx_text" style="font-size:90%;">79.50</span></td>
<td id="A5.T13.3.3.4" class="ltx_td ltx_align_center"><span id="A5.T13.3.3.4.1" class="ltx_text" style="font-size:90%;">96.40</span></td>
<td id="A5.T13.3.3.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A5.T13.3.3.5.1" class="ltx_text" style="font-size:90%;">76.00</span></td>
<td id="A5.T13.3.3.6" class="ltx_td ltx_align_center"><span id="A5.T13.3.3.6.1" class="ltx_text" style="font-size:90%;">83.75</span></td>
</tr>
<tr id="A5.T13.4.4" class="ltx_tr">
<th id="A5.T13.4.4.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r">
<span id="A5.T13.4.4.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">StableFDG</span><span id="A5.T13.4.4.1.2" class="ltx_text" style="font-size:90%;"> (</span><math id="A5.T13.4.4.1.m1.1" class="ltx_Math" alttext="p=0.7" display="inline"><semantics id="A5.T13.4.4.1.m1.1a"><mrow id="A5.T13.4.4.1.m1.1.1" xref="A5.T13.4.4.1.m1.1.1.cmml"><mi mathsize="90%" id="A5.T13.4.4.1.m1.1.1.2" xref="A5.T13.4.4.1.m1.1.1.2.cmml">p</mi><mo mathsize="90%" id="A5.T13.4.4.1.m1.1.1.1" xref="A5.T13.4.4.1.m1.1.1.1.cmml">=</mo><mn mathsize="90%" id="A5.T13.4.4.1.m1.1.1.3" xref="A5.T13.4.4.1.m1.1.1.3.cmml">0.7</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.T13.4.4.1.m1.1b"><apply id="A5.T13.4.4.1.m1.1.1.cmml" xref="A5.T13.4.4.1.m1.1.1"><eq id="A5.T13.4.4.1.m1.1.1.1.cmml" xref="A5.T13.4.4.1.m1.1.1.1"></eq><ci id="A5.T13.4.4.1.m1.1.1.2.cmml" xref="A5.T13.4.4.1.m1.1.1.2">𝑝</ci><cn type="float" id="A5.T13.4.4.1.m1.1.1.3.cmml" xref="A5.T13.4.4.1.m1.1.1.3">0.7</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.T13.4.4.1.m1.1c">p=0.7</annotation></semantics></math><span id="A5.T13.4.4.1.3" class="ltx_text" style="font-size:90%;">)</span>
</th>
<td id="A5.T13.4.4.2" class="ltx_td ltx_align_center"><span id="A5.T13.4.4.2.1" class="ltx_text" style="font-size:90%;">82.40</span></td>
<td id="A5.T13.4.4.3" class="ltx_td ltx_align_center"><span id="A5.T13.4.4.3.1" class="ltx_text" style="font-size:90%;">78.10</span></td>
<td id="A5.T13.4.4.4" class="ltx_td ltx_align_center"><span id="A5.T13.4.4.4.1" class="ltx_text" style="font-size:90%;">95.70</span></td>
<td id="A5.T13.4.4.5" class="ltx_td ltx_align_center ltx_border_r"><span id="A5.T13.4.4.5.1" class="ltx_text" style="font-size:90%;">76.30</span></td>
<td id="A5.T13.4.4.6" class="ltx_td ltx_align_center"><span id="A5.T13.4.4.6.1" class="ltx_text" style="font-size:90%;">83.13</span></td>
</tr>
<tr id="A5.T13.5.5" class="ltx_tr">
<th id="A5.T13.5.5.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r">
<span id="A5.T13.5.5.1.1" class="ltx_text ltx_font_bold" style="font-size:90%;">StableFDG</span><span id="A5.T13.5.5.1.2" class="ltx_text" style="font-size:90%;"> (</span><math id="A5.T13.5.5.1.m1.1" class="ltx_Math" alttext="p=0.9" display="inline"><semantics id="A5.T13.5.5.1.m1.1a"><mrow id="A5.T13.5.5.1.m1.1.1" xref="A5.T13.5.5.1.m1.1.1.cmml"><mi mathsize="90%" id="A5.T13.5.5.1.m1.1.1.2" xref="A5.T13.5.5.1.m1.1.1.2.cmml">p</mi><mo mathsize="90%" id="A5.T13.5.5.1.m1.1.1.1" xref="A5.T13.5.5.1.m1.1.1.1.cmml">=</mo><mn mathsize="90%" id="A5.T13.5.5.1.m1.1.1.3" xref="A5.T13.5.5.1.m1.1.1.3.cmml">0.9</mn></mrow><annotation-xml encoding="MathML-Content" id="A5.T13.5.5.1.m1.1b"><apply id="A5.T13.5.5.1.m1.1.1.cmml" xref="A5.T13.5.5.1.m1.1.1"><eq id="A5.T13.5.5.1.m1.1.1.1.cmml" xref="A5.T13.5.5.1.m1.1.1.1"></eq><ci id="A5.T13.5.5.1.m1.1.1.2.cmml" xref="A5.T13.5.5.1.m1.1.1.2">𝑝</ci><cn type="float" id="A5.T13.5.5.1.m1.1.1.3.cmml" xref="A5.T13.5.5.1.m1.1.1.3">0.9</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="A5.T13.5.5.1.m1.1c">p=0.9</annotation></semantics></math><span id="A5.T13.5.5.1.3" class="ltx_text" style="font-size:90%;">)</span>
</th>
<td id="A5.T13.5.5.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T13.5.5.2.1" class="ltx_text" style="font-size:90%;">81.40</span></td>
<td id="A5.T13.5.5.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T13.5.5.3.1" class="ltx_text" style="font-size:90%;">78.80</span></td>
<td id="A5.T13.5.5.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T13.5.5.4.1" class="ltx_text" style="font-size:90%;">95.90</span></td>
<td id="A5.T13.5.5.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A5.T13.5.5.5.1" class="ltx_text" style="font-size:90%;">73.60</span></td>
<td id="A5.T13.5.5.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T13.5.5.6.1" class="ltx_text" style="font-size:90%;">82.70</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 13: </span>Effect of the probability value in our style-based learning on PACS in a single-domain data distribution scenario.</figcaption>
</figure>
</section>
<section id="A5.SS6" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">E.6 </span>Where to apply the style module</h3>

<div id="A5.SS6.p1" class="ltx_para">
<p id="A5.SS6.p1.1" class="ltx_p">For implementation, style-based learning is applied only in the 1st, 2nd, 3rd blocks among 4 residual blocks in ResNet-18. Note that at the output of the 4th block, label information is dominant rather than style information, which results in degraded performance when style-based schemes are applied. This is confirmed by our new experiments in the table below. It can be seen from the results that if we consider the 4th residual block to apply our style-based learning, the performance gets degraded. This result confirms the intuition that style-based learning should be conducted at the earlier layers where style information is preserved.</p>
</div>
<figure id="A5.T14" class="ltx_table">
<table id="A5.T14.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A5.T14.2.1.1" class="ltx_tr">
<th id="A5.T14.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A5.T14.2.1.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A5.T14.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T14.2.1.1.2.1" class="ltx_text" style="font-size:90%;">Art</span></th>
<th id="A5.T14.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T14.2.1.1.3.1" class="ltx_text" style="font-size:90%;">Cartoon</span></th>
<th id="A5.T14.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T14.2.1.1.4.1" class="ltx_text" style="font-size:90%;">Photo</span></th>
<th id="A5.T14.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A5.T14.2.1.1.5.1" class="ltx_text" style="font-size:90%;">Sketch</span></th>
<th id="A5.T14.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A5.T14.2.1.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A5.T14.2.2.1" class="ltx_tr">
<td id="A5.T14.2.2.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="A5.T14.2.2.1.1.1" class="ltx_text" style="font-size:90%;">Style exploration at 1st, 2nd, 3rd layers (main manuscript)</span></td>
<td id="A5.T14.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T14.2.2.1.2.1" class="ltx_text" style="font-size:90%;">84.10</span></td>
<td id="A5.T14.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T14.2.2.1.3.1" class="ltx_text" style="font-size:90%;">78.57</span></td>
<td id="A5.T14.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T14.2.2.1.4.1" class="ltx_text" style="font-size:90%;">95.40</span></td>
<td id="A5.T14.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A5.T14.2.2.1.5.1" class="ltx_text" style="font-size:90%;">72.73</span></td>
<td id="A5.T14.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A5.T14.2.2.1.6.1" class="ltx_text" style="font-size:90%;">82.70</span></td>
</tr>
<tr id="A5.T14.2.3.2" class="ltx_tr">
<td id="A5.T14.2.3.2.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="A5.T14.2.3.2.1.1" class="ltx_text" style="font-size:90%;">Style exploration at 1st, 2nd, 3rd, 4th layers</span></td>
<td id="A5.T14.2.3.2.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T14.2.3.2.2.1" class="ltx_text" style="font-size:90%;">82.99</span></td>
<td id="A5.T14.2.3.2.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T14.2.3.2.3.1" class="ltx_text" style="font-size:90%;">78.54</span></td>
<td id="A5.T14.2.3.2.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T14.2.3.2.4.1" class="ltx_text" style="font-size:90%;">94.13</span></td>
<td id="A5.T14.2.3.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A5.T14.2.3.2.5.1" class="ltx_text" style="font-size:90%;">73.35</span></td>
<td id="A5.T14.2.3.2.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A5.T14.2.3.2.6.1" class="ltx_text" style="font-size:90%;">82.25</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 14: </span>Ablation experiments on applying style-based learning at different layers (PACS dataset).</figcaption>
</figure>
</section>
</section>
<section id="A6" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix F </span>Ablation Studies on Attention-based Feature Highlighter</h2>

<section id="A6.SS1" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">F.1 </span>Effect of adopting both cross-attention and self-attention</h3>

<div id="A6.SS1.p1" class="ltx_para">
<p id="A6.SS1.p1.1" class="ltx_p">In our main paper, the similarity metric in equation (<a href="#S3.E6" title="Equation 6 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>) adopts cross-attention, while the metric in equation (<a href="#S3.E8" title="Equation 8 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>) combines cross-attention and self-attention. When applying only the cross-attention-based metric in equation (<a href="#S3.E6" title="Equation 6 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>), we found that the similarity value could become low even when the two samples belong to the same class, in special cases. We handled this issue by adding the self-attention component as in equation (<a href="#S3.E8" title="Equation 8 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>). Intuitively, by doing this, the attention module is learning to extract the important features across images (via cross-attention), and within the image (via self-attention). Table <a href="#A6.T15" title="Table 15 ‣ F.1 Effect of adopting both cross-attention and self-attention ‣ Appendix F Ablation Studies on Attention-based Feature Highlighter ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">15</span></a> compares the performance of our StableFDG when using (i) self-attention alone, (ii) cross-attention alone (equation (<a href="#S3.E6" title="Equation 6 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>)), and (iii) both self and cross attentions at the same time (equation (<a href="#S3.E8" title="Equation 8 ‣ 3.2 Attention-based Feature Highlighter ‣ 3 Proposed StableFDG Algorithm ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">8</span></a>)), confirming the advantage of using self-attention and cross-attention together.</p>
</div>
<figure id="A6.T15" class="ltx_table">
<table id="A6.T15.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A6.T15.2.1.1" class="ltx_tr">
<th id="A6.T15.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A6.T15.2.1.1.1.1" class="ltx_text" style="font-size:70%;">Methods</span></th>
<th id="A6.T15.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T15.2.1.1.2.1" class="ltx_text" style="font-size:70%;">Clipart</span></th>
<th id="A6.T15.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T15.2.1.1.3.1" class="ltx_text" style="font-size:70%;">Infograph</span></th>
<th id="A6.T15.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T15.2.1.1.4.1" class="ltx_text" style="font-size:70%;">Painting</span></th>
<th id="A6.T15.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T15.2.1.1.5.1" class="ltx_text" style="font-size:70%;">Quickdraw</span></th>
<th id="A6.T15.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T15.2.1.1.6.1" class="ltx_text" style="font-size:70%;">Real</span></th>
<th id="A6.T15.2.1.1.7" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A6.T15.2.1.1.7.1" class="ltx_text" style="font-size:70%;">Sketch</span></th>
<th id="A6.T15.2.1.1.8" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T15.2.1.1.8.1" class="ltx_text" style="font-size:70%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A6.T15.2.2.1" class="ltx_tr">
<td id="A6.T15.2.2.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="A6.T15.2.2.1.1.1" class="ltx_text" style="font-size:70%;">StableFDG (with self-attention alone)</span></td>
<td id="A6.T15.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T15.2.2.1.2.1" class="ltx_text" style="font-size:70%;">61.77</span></td>
<td id="A6.T15.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T15.2.2.1.3.1" class="ltx_text" style="font-size:70%;">24.88</span></td>
<td id="A6.T15.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T15.2.2.1.4.1" class="ltx_text" style="font-size:70%;">48.28</span></td>
<td id="A6.T15.2.2.1.5" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T15.2.2.1.5.1" class="ltx_text" style="font-size:70%;">14.15</span></td>
<td id="A6.T15.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T15.2.2.1.6.1" class="ltx_text" style="font-size:70%;">59.78</span></td>
<td id="A6.T15.2.2.1.7" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A6.T15.2.2.1.7.1" class="ltx_text" style="font-size:70%;">52.41</span></td>
<td id="A6.T15.2.2.1.8" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T15.2.2.1.8.1" class="ltx_text" style="font-size:70%;">43.55</span></td>
</tr>
<tr id="A6.T15.2.3.2" class="ltx_tr">
<td id="A6.T15.2.3.2.1" class="ltx_td ltx_align_left ltx_border_r"><span id="A6.T15.2.3.2.1.1" class="ltx_text" style="font-size:70%;">StableFDG (with cross-attention alone)</span></td>
<td id="A6.T15.2.3.2.2" class="ltx_td ltx_align_center"><span id="A6.T15.2.3.2.2.1" class="ltx_text" style="font-size:70%;">61.24</span></td>
<td id="A6.T15.2.3.2.3" class="ltx_td ltx_align_center"><span id="A6.T15.2.3.2.3.1" class="ltx_text" style="font-size:70%;">24.97</span></td>
<td id="A6.T15.2.3.2.4" class="ltx_td ltx_align_center"><span id="A6.T15.2.3.2.4.1" class="ltx_text" style="font-size:70%;">50.55</span></td>
<td id="A6.T15.2.3.2.5" class="ltx_td ltx_align_center"><span id="A6.T15.2.3.2.5.1" class="ltx_text" style="font-size:70%;">14.67</span></td>
<td id="A6.T15.2.3.2.6" class="ltx_td ltx_align_center"><span id="A6.T15.2.3.2.6.1" class="ltx_text" style="font-size:70%;">61.12</span></td>
<td id="A6.T15.2.3.2.7" class="ltx_td ltx_align_center ltx_border_r"><span id="A6.T15.2.3.2.7.1" class="ltx_text" style="font-size:70%;">50.44</span></td>
<td id="A6.T15.2.3.2.8" class="ltx_td ltx_align_center"><span id="A6.T15.2.3.2.8.1" class="ltx_text" style="font-size:70%;">43.83</span></td>
</tr>
<tr id="A6.T15.2.4.3" class="ltx_tr">
<td id="A6.T15.2.4.3.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="A6.T15.2.4.3.1.1" class="ltx_text" style="font-size:70%;">StableFDG (with self + cross)</span></td>
<td id="A6.T15.2.4.3.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T15.2.4.3.2.1" class="ltx_text" style="font-size:70%;">62.58</span></td>
<td id="A6.T15.2.4.3.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T15.2.4.3.3.1" class="ltx_text" style="font-size:70%;">24.12</span></td>
<td id="A6.T15.2.4.3.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T15.2.4.3.4.1" class="ltx_text" style="font-size:70%;">52.23</span></td>
<td id="A6.T15.2.4.3.5" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T15.2.4.3.5.1" class="ltx_text" style="font-size:70%;">14.87</span></td>
<td id="A6.T15.2.4.3.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T15.2.4.3.6.1" class="ltx_text" style="font-size:70%;">60.60</span></td>
<td id="A6.T15.2.4.3.7" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A6.T15.2.4.3.7.1" class="ltx_text" style="font-size:70%;">52.50</span></td>
<td id="A6.T15.2.4.3.8" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T15.2.4.3.8.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:70%;">44.48</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:70%;"><span class="ltx_tag ltx_tag_table"><span id="A6.T15.5.1.1" class="ltx_text" style="font-size:129%;">Table 15</span>: </span><span id="A6.T15.6.2" class="ltx_text" style="font-size:129%;">Effects of similarity metrics using DomainNet dataset in a multi-domain data distribution scenario.</span></figcaption>
</figure>
</section>
<section id="A6.SS2" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">F.2 </span>Comparison using the same model size</h3>

<div id="A6.SS2.p1" class="ltx_para">
<p id="A6.SS2.p1.1" class="ltx_p">Our attention module requires 0.44% of additional model parameters to perform the attention-based learning. For a fair comparison to see the effect of our attention-based learning, we consider a different baseline with the same model size but without attention-based learning. Specifically, the baseline computes the attention score map using only additional convolutional operations and take the weighted average of the feature <math id="A6.SS2.p1.1.m1.1" class="ltx_Math" alttext="z_{i}" display="inline"><semantics id="A6.SS2.p1.1.m1.1a"><msub id="A6.SS2.p1.1.m1.1.1" xref="A6.SS2.p1.1.m1.1.1.cmml"><mi id="A6.SS2.p1.1.m1.1.1.2" xref="A6.SS2.p1.1.m1.1.1.2.cmml">z</mi><mi id="A6.SS2.p1.1.m1.1.1.3" xref="A6.SS2.p1.1.m1.1.1.3.cmml">i</mi></msub><annotation-xml encoding="MathML-Content" id="A6.SS2.p1.1.m1.1b"><apply id="A6.SS2.p1.1.m1.1.1.cmml" xref="A6.SS2.p1.1.m1.1.1"><csymbol cd="ambiguous" id="A6.SS2.p1.1.m1.1.1.1.cmml" xref="A6.SS2.p1.1.m1.1.1">subscript</csymbol><ci id="A6.SS2.p1.1.m1.1.1.2.cmml" xref="A6.SS2.p1.1.m1.1.1.2">𝑧</ci><ci id="A6.SS2.p1.1.m1.1.1.3.cmml" xref="A6.SS2.p1.1.m1.1.1.3">𝑖</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A6.SS2.p1.1.m1.1c">z_{i}</annotation></semantics></math> based on the attention score map. Table <a href="#A6.T16" title="Table 16 ‣ F.2 Comparison using the same model size ‣ Appendix F Ablation Studies on Attention-based Feature Highlighter ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">16</span></a> shows the results using PACS dataset in a single-domain data distribution scenario. The results demonstrate that our attention-based learning achieves performance improvements on all four domains while playing a key role in capturing essential parts of the features.</p>
</div>
<figure id="A6.T16" class="ltx_table">
<table id="A6.T16.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A6.T16.2.1.1" class="ltx_tr">
<th id="A6.T16.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_th_row ltx_border_r ltx_border_tt"><span id="A6.T16.2.1.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A6.T16.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T16.2.1.1.2.1" class="ltx_text" style="font-size:90%;">Art</span></th>
<th id="A6.T16.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T16.2.1.1.3.1" class="ltx_text" style="font-size:90%;">Cartoon</span></th>
<th id="A6.T16.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T16.2.1.1.4.1" class="ltx_text" style="font-size:90%;">Photo</span></th>
<th id="A6.T16.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A6.T16.2.1.1.5.1" class="ltx_text" style="font-size:90%;">Sketch</span></th>
<th id="A6.T16.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T16.2.1.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A6.T16.2.2.1" class="ltx_tr">
<th id="A6.T16.2.2.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_r ltx_border_t"><span id="A6.T16.2.2.1.1.1" class="ltx_text" style="font-size:90%;">Baseline (same model size)</span></th>
<td id="A6.T16.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T16.2.2.1.2.1" class="ltx_text" style="font-size:90%;">78.88</span></td>
<td id="A6.T16.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T16.2.2.1.3.1" class="ltx_text" style="font-size:90%;">69.03</span></td>
<td id="A6.T16.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T16.2.2.1.4.1" class="ltx_text" style="font-size:90%;">91.74</span></td>
<td id="A6.T16.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A6.T16.2.2.1.5.1" class="ltx_text" style="font-size:90%;">60.77</span></td>
<td id="A6.T16.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T16.2.2.1.6.1" class="ltx_text" style="font-size:90%;">75.11</span></td>
</tr>
<tr id="A6.T16.2.3.2" class="ltx_tr">
<th id="A6.T16.2.3.2.1" class="ltx_td ltx_align_left ltx_th ltx_th_row ltx_border_bb ltx_border_r"><span id="A6.T16.2.3.2.1.1" class="ltx_text" style="font-size:90%;">Attention-based learning</span></th>
<td id="A6.T16.2.3.2.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T16.2.3.2.2.1" class="ltx_text" style="font-size:90%;">79.54</span></td>
<td id="A6.T16.2.3.2.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T16.2.3.2.3.1" class="ltx_text" style="font-size:90%;">72.48</span></td>
<td id="A6.T16.2.3.2.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T16.2.3.2.4.1" class="ltx_text" style="font-size:90%;">92.51</span></td>
<td id="A6.T16.2.3.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A6.T16.2.3.2.5.1" class="ltx_text" style="font-size:90%;">64.71</span></td>
<td id="A6.T16.2.3.2.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T16.2.3.2.6.1" class="ltx_text ltx_font_bold ltx_framed ltx_framed_underline" style="font-size:90%;">77.31</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 16: </span>Ablation study on attention-based learning using PACS dataset in a single-domain data distribution scenario. </figcaption>
</figure>
</section>
<section id="A6.SS3" class="ltx_subsection">
<h3 class="ltx_title ltx_title_subsection">
<span class="ltx_tag ltx_tag_subsection">F.3 </span>Effect of attention in a centralized setup</h3>

<div id="A6.SS3.p1" class="ltx_para">
<p id="A6.SS3.p1.1" class="ltx_p">Now we provide answer to the following question: Instead of the FL setup we focused on, can attention provide benefits in the centralized DG setup? Table <a href="#A6.T17" title="Table 17 ‣ F.3 Effect of attention in a centralized setup ‣ Appendix F Ablation Studies on Attention-based Feature Highlighter ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">17</span></a> shows the results with/without attention module in a centralized setup using PACS dataset. The results show that attention still provides performance improvements in the centralized setup by learning domain-invariant features, although the gain is slightly lower than the gain in the FL setup as shown in Table 3 of the main manuscript. These results indicate that the proposed attention-based learning indeed captures the domain-invariant characteristics of samples, while the scheme provides more benefits in the FL setup where each client is prone to overfitting due to lack of data.</p>
</div>
<figure id="A6.T17" class="ltx_table">
<table id="A6.T17.2" class="ltx_tabular ltx_centering ltx_guessed_headers ltx_align_middle">
<thead class="ltx_thead">
<tr id="A6.T17.2.1.1" class="ltx_tr">
<th id="A6.T17.2.1.1.1" class="ltx_td ltx_align_left ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A6.T17.2.1.1.1.1" class="ltx_text" style="font-size:90%;">Methods</span></th>
<th id="A6.T17.2.1.1.2" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T17.2.1.1.2.1" class="ltx_text" style="font-size:90%;">Art</span></th>
<th id="A6.T17.2.1.1.3" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T17.2.1.1.3.1" class="ltx_text" style="font-size:90%;">Cartoon</span></th>
<th id="A6.T17.2.1.1.4" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T17.2.1.1.4.1" class="ltx_text" style="font-size:90%;">Photo</span></th>
<th id="A6.T17.2.1.1.5" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_r ltx_border_tt"><span id="A6.T17.2.1.1.5.1" class="ltx_text" style="font-size:90%;">Sketch</span></th>
<th id="A6.T17.2.1.1.6" class="ltx_td ltx_align_center ltx_th ltx_th_column ltx_border_tt"><span id="A6.T17.2.1.1.6.1" class="ltx_text" style="font-size:90%;">Avg.</span></th>
</tr>
</thead>
<tbody class="ltx_tbody">
<tr id="A6.T17.2.2.1" class="ltx_tr">
<td id="A6.T17.2.2.1.1" class="ltx_td ltx_align_left ltx_border_r ltx_border_t"><span id="A6.T17.2.2.1.1.1" class="ltx_text" style="font-size:90%;">StableFDG (centralized setup, without attention)</span></td>
<td id="A6.T17.2.2.1.2" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T17.2.2.1.2.1" class="ltx_text" style="font-size:90%;">84.15</span></td>
<td id="A6.T17.2.2.1.3" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T17.2.2.1.3.1" class="ltx_text" style="font-size:90%;">79.45</span></td>
<td id="A6.T17.2.2.1.4" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T17.2.2.1.4.1" class="ltx_text" style="font-size:90%;">96.21</span></td>
<td id="A6.T17.2.2.1.5" class="ltx_td ltx_align_center ltx_border_r ltx_border_t"><span id="A6.T17.2.2.1.5.1" class="ltx_text" style="font-size:90%;">77.09</span></td>
<td id="A6.T17.2.2.1.6" class="ltx_td ltx_align_center ltx_border_t"><span id="A6.T17.2.2.1.6.1" class="ltx_text" style="font-size:90%;">84.23</span></td>
</tr>
<tr id="A6.T17.2.3.2" class="ltx_tr">
<td id="A6.T17.2.3.2.1" class="ltx_td ltx_align_left ltx_border_bb ltx_border_r"><span id="A6.T17.2.3.2.1.1" class="ltx_text" style="font-size:90%;">StableFDG (centralized setup, with attention)</span></td>
<td id="A6.T17.2.3.2.2" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T17.2.3.2.2.1" class="ltx_text" style="font-size:90%;">85.02</span></td>
<td id="A6.T17.2.3.2.3" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T17.2.3.2.3.1" class="ltx_text" style="font-size:90%;">79.65</span></td>
<td id="A6.T17.2.3.2.4" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T17.2.3.2.4.1" class="ltx_text" style="font-size:90%;">96.38</span></td>
<td id="A6.T17.2.3.2.5" class="ltx_td ltx_align_center ltx_border_bb ltx_border_r"><span id="A6.T17.2.3.2.5.1" class="ltx_text" style="font-size:90%;">78.45</span></td>
<td id="A6.T17.2.3.2.6" class="ltx_td ltx_align_center ltx_border_bb"><span id="A6.T17.2.3.2.6.1" class="ltx_text" style="font-size:90%;">84.88</span></td>
</tr>
</tbody>
</table>
<figcaption class="ltx_caption ltx_centering" style="font-size:90%;"><span class="ltx_tag ltx_tag_table">Table 17: </span>Effect of proposed attention-based feature highlighter in a centralized DG setup using PACS dataset. </figcaption>
</figure>
</section>
</section>
<section id="A7" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix G </span>Other Implementation Details</h2>

<div id="A7.p1" class="ltx_para">
<p id="A7.p1.1" class="ltx_p">Our code is built upon the official code of <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib39" title="" class="ltx_ref">39</a>]</cite> and <cite class="ltx_cite ltx_citemacro_cite">[<a href="#bib.bib1" title="" class="ltx_ref">1</a>]</cite>. During the local update process, we use SGD as an optimizer with a momentum of 0.9 and a weight decay of <math id="A7.p1.1.m1.1" class="ltx_Math" alttext="5e^{-4}" display="inline"><semantics id="A7.p1.1.m1.1a"><mrow id="A7.p1.1.m1.1.1" xref="A7.p1.1.m1.1.1.cmml"><mn id="A7.p1.1.m1.1.1.2" xref="A7.p1.1.m1.1.1.2.cmml">5</mn><mo lspace="0em" rspace="0em" id="A7.p1.1.m1.1.1.1" xref="A7.p1.1.m1.1.1.1.cmml">​</mo><msup id="A7.p1.1.m1.1.1.3" xref="A7.p1.1.m1.1.1.3.cmml"><mi id="A7.p1.1.m1.1.1.3.2" xref="A7.p1.1.m1.1.1.3.2.cmml">e</mi><mrow id="A7.p1.1.m1.1.1.3.3" xref="A7.p1.1.m1.1.1.3.3.cmml"><mo id="A7.p1.1.m1.1.1.3.3a" xref="A7.p1.1.m1.1.1.3.3.cmml">−</mo><mn id="A7.p1.1.m1.1.1.3.3.2" xref="A7.p1.1.m1.1.1.3.3.2.cmml">4</mn></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A7.p1.1.m1.1b"><apply id="A7.p1.1.m1.1.1.cmml" xref="A7.p1.1.m1.1.1"><times id="A7.p1.1.m1.1.1.1.cmml" xref="A7.p1.1.m1.1.1.1"></times><cn type="integer" id="A7.p1.1.m1.1.1.2.cmml" xref="A7.p1.1.m1.1.1.2">5</cn><apply id="A7.p1.1.m1.1.1.3.cmml" xref="A7.p1.1.m1.1.1.3"><csymbol cd="ambiguous" id="A7.p1.1.m1.1.1.3.1.cmml" xref="A7.p1.1.m1.1.1.3">superscript</csymbol><ci id="A7.p1.1.m1.1.1.3.2.cmml" xref="A7.p1.1.m1.1.1.3.2">𝑒</ci><apply id="A7.p1.1.m1.1.1.3.3.cmml" xref="A7.p1.1.m1.1.1.3.3"><minus id="A7.p1.1.m1.1.1.3.3.1.cmml" xref="A7.p1.1.m1.1.1.3.3"></minus><cn type="integer" id="A7.p1.1.m1.1.1.3.3.2.cmml" xref="A7.p1.1.m1.1.1.3.3.2">4</cn></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p1.1.m1.1c">5e^{-4}</annotation></semantics></math>. For PACS, Office-Home and VLCS, the learning rate is set to 0.001 and the cosine annealing is used as a scheduler. For Digits-DG, we set the learning rate to 0.02 and the learning rate is decayed by 0.1 every 20 steps. For our attention-based feature highlighter, at least two samples are required to be in the mini-batch of every client. When this condition is not met, additional samples are extracted from the corresponding client’s local dataset to facilitate cross-attention.</p>
</div>
<div id="A7.p2" class="ltx_para">
<p id="A7.p2.19" class="ltx_p"><span id="A7.p2.19.1" class="ltx_text ltx_font_bold">More detailed description on oversampling:</span> Let <math id="A7.p2.1.m1.1" class="ltx_Math" alttext="s^{n}\in\mathbb{R}^{B\times C\times H\times W}" display="inline"><semantics id="A7.p2.1.m1.1a"><mrow id="A7.p2.1.m1.1.1" xref="A7.p2.1.m1.1.1.cmml"><msup id="A7.p2.1.m1.1.1.2" xref="A7.p2.1.m1.1.1.2.cmml"><mi id="A7.p2.1.m1.1.1.2.2" xref="A7.p2.1.m1.1.1.2.2.cmml">s</mi><mi id="A7.p2.1.m1.1.1.2.3" xref="A7.p2.1.m1.1.1.2.3.cmml">n</mi></msup><mo id="A7.p2.1.m1.1.1.1" xref="A7.p2.1.m1.1.1.1.cmml">∈</mo><msup id="A7.p2.1.m1.1.1.3" xref="A7.p2.1.m1.1.1.3.cmml"><mi id="A7.p2.1.m1.1.1.3.2" xref="A7.p2.1.m1.1.1.3.2.cmml">ℝ</mi><mrow id="A7.p2.1.m1.1.1.3.3" xref="A7.p2.1.m1.1.1.3.3.cmml"><mi id="A7.p2.1.m1.1.1.3.3.2" xref="A7.p2.1.m1.1.1.3.3.2.cmml">B</mi><mo lspace="0.222em" rspace="0.222em" id="A7.p2.1.m1.1.1.3.3.1" xref="A7.p2.1.m1.1.1.3.3.1.cmml">×</mo><mi id="A7.p2.1.m1.1.1.3.3.3" xref="A7.p2.1.m1.1.1.3.3.3.cmml">C</mi><mo lspace="0.222em" rspace="0.222em" id="A7.p2.1.m1.1.1.3.3.1a" xref="A7.p2.1.m1.1.1.3.3.1.cmml">×</mo><mi id="A7.p2.1.m1.1.1.3.3.4" xref="A7.p2.1.m1.1.1.3.3.4.cmml">H</mi><mo lspace="0.222em" rspace="0.222em" id="A7.p2.1.m1.1.1.3.3.1b" xref="A7.p2.1.m1.1.1.3.3.1.cmml">×</mo><mi id="A7.p2.1.m1.1.1.3.3.5" xref="A7.p2.1.m1.1.1.3.3.5.cmml">W</mi></mrow></msup></mrow><annotation-xml encoding="MathML-Content" id="A7.p2.1.m1.1b"><apply id="A7.p2.1.m1.1.1.cmml" xref="A7.p2.1.m1.1.1"><in id="A7.p2.1.m1.1.1.1.cmml" xref="A7.p2.1.m1.1.1.1"></in><apply id="A7.p2.1.m1.1.1.2.cmml" xref="A7.p2.1.m1.1.1.2"><csymbol cd="ambiguous" id="A7.p2.1.m1.1.1.2.1.cmml" xref="A7.p2.1.m1.1.1.2">superscript</csymbol><ci id="A7.p2.1.m1.1.1.2.2.cmml" xref="A7.p2.1.m1.1.1.2.2">𝑠</ci><ci id="A7.p2.1.m1.1.1.2.3.cmml" xref="A7.p2.1.m1.1.1.2.3">𝑛</ci></apply><apply id="A7.p2.1.m1.1.1.3.cmml" xref="A7.p2.1.m1.1.1.3"><csymbol cd="ambiguous" id="A7.p2.1.m1.1.1.3.1.cmml" xref="A7.p2.1.m1.1.1.3">superscript</csymbol><ci id="A7.p2.1.m1.1.1.3.2.cmml" xref="A7.p2.1.m1.1.1.3.2">ℝ</ci><apply id="A7.p2.1.m1.1.1.3.3.cmml" xref="A7.p2.1.m1.1.1.3.3"><times id="A7.p2.1.m1.1.1.3.3.1.cmml" xref="A7.p2.1.m1.1.1.3.3.1"></times><ci id="A7.p2.1.m1.1.1.3.3.2.cmml" xref="A7.p2.1.m1.1.1.3.3.2">𝐵</ci><ci id="A7.p2.1.m1.1.1.3.3.3.cmml" xref="A7.p2.1.m1.1.1.3.3.3">𝐶</ci><ci id="A7.p2.1.m1.1.1.3.3.4.cmml" xref="A7.p2.1.m1.1.1.3.3.4">𝐻</ci><ci id="A7.p2.1.m1.1.1.3.3.5.cmml" xref="A7.p2.1.m1.1.1.3.3.5">𝑊</ci></apply></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.1.m1.1c">s^{n}\in\mathbb{R}^{B\times C\times H\times W}</annotation></semantics></math> be a mini-batch of features in client <math id="A7.p2.2.m2.1" class="ltx_Math" alttext="n" display="inline"><semantics id="A7.p2.2.m2.1a"><mi id="A7.p2.2.m2.1.1" xref="A7.p2.2.m2.1.1.cmml">n</mi><annotation-xml encoding="MathML-Content" id="A7.p2.2.m2.1b"><ci id="A7.p2.2.m2.1.1.cmml" xref="A7.p2.2.m2.1.1">𝑛</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.2.m2.1c">n</annotation></semantics></math> at a specific layer, obtained after Steps 1 and 2 in the main manuscript. Now given a fixed oversampling size, we oversample the features in the mini-batch to obtain <math id="A7.p2.3.m3.1" class="ltx_Math" alttext="\tilde{s}^{n}" display="inline"><semantics id="A7.p2.3.m3.1a"><msup id="A7.p2.3.m3.1.1" xref="A7.p2.3.m3.1.1.cmml"><mover accent="true" id="A7.p2.3.m3.1.1.2" xref="A7.p2.3.m3.1.1.2.cmml"><mi id="A7.p2.3.m3.1.1.2.2" xref="A7.p2.3.m3.1.1.2.2.cmml">s</mi><mo id="A7.p2.3.m3.1.1.2.1" xref="A7.p2.3.m3.1.1.2.1.cmml">~</mo></mover><mi id="A7.p2.3.m3.1.1.3" xref="A7.p2.3.m3.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="A7.p2.3.m3.1b"><apply id="A7.p2.3.m3.1.1.cmml" xref="A7.p2.3.m3.1.1"><csymbol cd="ambiguous" id="A7.p2.3.m3.1.1.1.cmml" xref="A7.p2.3.m3.1.1">superscript</csymbol><apply id="A7.p2.3.m3.1.1.2.cmml" xref="A7.p2.3.m3.1.1.2"><ci id="A7.p2.3.m3.1.1.2.1.cmml" xref="A7.p2.3.m3.1.1.2.1">~</ci><ci id="A7.p2.3.m3.1.1.2.2.cmml" xref="A7.p2.3.m3.1.1.2.2">𝑠</ci></apply><ci id="A7.p2.3.m3.1.1.3.cmml" xref="A7.p2.3.m3.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.3.m3.1c">\tilde{s}^{n}</annotation></semantics></math>, so that the concatenated mini-batch <math id="A7.p2.4.m4.2" class="ltx_Math" alttext="\hat{s}^{n}=[s^{n},\tilde{s}^{n}]" display="inline"><semantics id="A7.p2.4.m4.2a"><mrow id="A7.p2.4.m4.2.2" xref="A7.p2.4.m4.2.2.cmml"><msup id="A7.p2.4.m4.2.2.4" xref="A7.p2.4.m4.2.2.4.cmml"><mover accent="true" id="A7.p2.4.m4.2.2.4.2" xref="A7.p2.4.m4.2.2.4.2.cmml"><mi id="A7.p2.4.m4.2.2.4.2.2" xref="A7.p2.4.m4.2.2.4.2.2.cmml">s</mi><mo id="A7.p2.4.m4.2.2.4.2.1" xref="A7.p2.4.m4.2.2.4.2.1.cmml">^</mo></mover><mi id="A7.p2.4.m4.2.2.4.3" xref="A7.p2.4.m4.2.2.4.3.cmml">n</mi></msup><mo id="A7.p2.4.m4.2.2.3" xref="A7.p2.4.m4.2.2.3.cmml">=</mo><mrow id="A7.p2.4.m4.2.2.2.2" xref="A7.p2.4.m4.2.2.2.3.cmml"><mo stretchy="false" id="A7.p2.4.m4.2.2.2.2.3" xref="A7.p2.4.m4.2.2.2.3.cmml">[</mo><msup id="A7.p2.4.m4.1.1.1.1.1" xref="A7.p2.4.m4.1.1.1.1.1.cmml"><mi id="A7.p2.4.m4.1.1.1.1.1.2" xref="A7.p2.4.m4.1.1.1.1.1.2.cmml">s</mi><mi id="A7.p2.4.m4.1.1.1.1.1.3" xref="A7.p2.4.m4.1.1.1.1.1.3.cmml">n</mi></msup><mo id="A7.p2.4.m4.2.2.2.2.4" xref="A7.p2.4.m4.2.2.2.3.cmml">,</mo><msup id="A7.p2.4.m4.2.2.2.2.2" xref="A7.p2.4.m4.2.2.2.2.2.cmml"><mover accent="true" id="A7.p2.4.m4.2.2.2.2.2.2" xref="A7.p2.4.m4.2.2.2.2.2.2.cmml"><mi id="A7.p2.4.m4.2.2.2.2.2.2.2" xref="A7.p2.4.m4.2.2.2.2.2.2.2.cmml">s</mi><mo id="A7.p2.4.m4.2.2.2.2.2.2.1" xref="A7.p2.4.m4.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="A7.p2.4.m4.2.2.2.2.2.3" xref="A7.p2.4.m4.2.2.2.2.2.3.cmml">n</mi></msup><mo stretchy="false" id="A7.p2.4.m4.2.2.2.2.5" xref="A7.p2.4.m4.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A7.p2.4.m4.2b"><apply id="A7.p2.4.m4.2.2.cmml" xref="A7.p2.4.m4.2.2"><eq id="A7.p2.4.m4.2.2.3.cmml" xref="A7.p2.4.m4.2.2.3"></eq><apply id="A7.p2.4.m4.2.2.4.cmml" xref="A7.p2.4.m4.2.2.4"><csymbol cd="ambiguous" id="A7.p2.4.m4.2.2.4.1.cmml" xref="A7.p2.4.m4.2.2.4">superscript</csymbol><apply id="A7.p2.4.m4.2.2.4.2.cmml" xref="A7.p2.4.m4.2.2.4.2"><ci id="A7.p2.4.m4.2.2.4.2.1.cmml" xref="A7.p2.4.m4.2.2.4.2.1">^</ci><ci id="A7.p2.4.m4.2.2.4.2.2.cmml" xref="A7.p2.4.m4.2.2.4.2.2">𝑠</ci></apply><ci id="A7.p2.4.m4.2.2.4.3.cmml" xref="A7.p2.4.m4.2.2.4.3">𝑛</ci></apply><interval closure="closed" id="A7.p2.4.m4.2.2.2.3.cmml" xref="A7.p2.4.m4.2.2.2.2"><apply id="A7.p2.4.m4.1.1.1.1.1.cmml" xref="A7.p2.4.m4.1.1.1.1.1"><csymbol cd="ambiguous" id="A7.p2.4.m4.1.1.1.1.1.1.cmml" xref="A7.p2.4.m4.1.1.1.1.1">superscript</csymbol><ci id="A7.p2.4.m4.1.1.1.1.1.2.cmml" xref="A7.p2.4.m4.1.1.1.1.1.2">𝑠</ci><ci id="A7.p2.4.m4.1.1.1.1.1.3.cmml" xref="A7.p2.4.m4.1.1.1.1.1.3">𝑛</ci></apply><apply id="A7.p2.4.m4.2.2.2.2.2.cmml" xref="A7.p2.4.m4.2.2.2.2.2"><csymbol cd="ambiguous" id="A7.p2.4.m4.2.2.2.2.2.1.cmml" xref="A7.p2.4.m4.2.2.2.2.2">superscript</csymbol><apply id="A7.p2.4.m4.2.2.2.2.2.2.cmml" xref="A7.p2.4.m4.2.2.2.2.2.2"><ci id="A7.p2.4.m4.2.2.2.2.2.2.1.cmml" xref="A7.p2.4.m4.2.2.2.2.2.2.1">~</ci><ci id="A7.p2.4.m4.2.2.2.2.2.2.2.cmml" xref="A7.p2.4.m4.2.2.2.2.2.2.2">𝑠</ci></apply><ci id="A7.p2.4.m4.2.2.2.2.2.3.cmml" xref="A7.p2.4.m4.2.2.2.2.2.3">𝑛</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.4.m4.2c">\hat{s}^{n}=[s^{n},\tilde{s}^{n}]</annotation></semantics></math> becomes class-balanced as much as possible. Consider a toy example where the number of samples for classes <math id="A7.p2.5.m5.1" class="ltx_Math" alttext="a" display="inline"><semantics id="A7.p2.5.m5.1a"><mi id="A7.p2.5.m5.1.1" xref="A7.p2.5.m5.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="A7.p2.5.m5.1b"><ci id="A7.p2.5.m5.1.1.cmml" xref="A7.p2.5.m5.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.5.m5.1c">a</annotation></semantics></math>, <math id="A7.p2.6.m6.1" class="ltx_Math" alttext="b" display="inline"><semantics id="A7.p2.6.m6.1a"><mi id="A7.p2.6.m6.1.1" xref="A7.p2.6.m6.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="A7.p2.6.m6.1b"><ci id="A7.p2.6.m6.1.1.cmml" xref="A7.p2.6.m6.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.6.m6.1c">b</annotation></semantics></math>, <math id="A7.p2.7.m7.1" class="ltx_Math" alttext="c" display="inline"><semantics id="A7.p2.7.m7.1a"><mi id="A7.p2.7.m7.1.1" xref="A7.p2.7.m7.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="A7.p2.7.m7.1b"><ci id="A7.p2.7.m7.1.1.cmml" xref="A7.p2.7.m7.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.7.m7.1c">c</annotation></semantics></math> are 3, 2, 1, respectively in the mini-batch <math id="A7.p2.8.m8.1" class="ltx_Math" alttext="s^{n}" display="inline"><semantics id="A7.p2.8.m8.1a"><msup id="A7.p2.8.m8.1.1" xref="A7.p2.8.m8.1.1.cmml"><mi id="A7.p2.8.m8.1.1.2" xref="A7.p2.8.m8.1.1.2.cmml">s</mi><mi id="A7.p2.8.m8.1.1.3" xref="A7.p2.8.m8.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="A7.p2.8.m8.1b"><apply id="A7.p2.8.m8.1.1.cmml" xref="A7.p2.8.m8.1.1"><csymbol cd="ambiguous" id="A7.p2.8.m8.1.1.1.cmml" xref="A7.p2.8.m8.1.1">superscript</csymbol><ci id="A7.p2.8.m8.1.1.2.cmml" xref="A7.p2.8.m8.1.1.2">𝑠</ci><ci id="A7.p2.8.m8.1.1.3.cmml" xref="A7.p2.8.m8.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.8.m8.1c">s^{n}</annotation></semantics></math>. In this example, if the oversampling size is 3, we randomly choose one data point from class <math id="A7.p2.9.m9.1" class="ltx_Math" alttext="b" display="inline"><semantics id="A7.p2.9.m9.1a"><mi id="A7.p2.9.m9.1.1" xref="A7.p2.9.m9.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="A7.p2.9.m9.1b"><ci id="A7.p2.9.m9.1.1.cmml" xref="A7.p2.9.m9.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.9.m9.1c">b</annotation></semantics></math>
and two data points from class <math id="A7.p2.10.m10.1" class="ltx_Math" alttext="c" display="inline"><semantics id="A7.p2.10.m10.1a"><mi id="A7.p2.10.m10.1.1" xref="A7.p2.10.m10.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="A7.p2.10.m10.1b"><ci id="A7.p2.10.m10.1.1.cmml" xref="A7.p2.10.m10.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.10.m10.1c">c</annotation></semantics></math> (in this case, the same data point is selected for two times with duplication) to obtain <math id="A7.p2.11.m11.1" class="ltx_Math" alttext="\tilde{s}^{n}" display="inline"><semantics id="A7.p2.11.m11.1a"><msup id="A7.p2.11.m11.1.1" xref="A7.p2.11.m11.1.1.cmml"><mover accent="true" id="A7.p2.11.m11.1.1.2" xref="A7.p2.11.m11.1.1.2.cmml"><mi id="A7.p2.11.m11.1.1.2.2" xref="A7.p2.11.m11.1.1.2.2.cmml">s</mi><mo id="A7.p2.11.m11.1.1.2.1" xref="A7.p2.11.m11.1.1.2.1.cmml">~</mo></mover><mi id="A7.p2.11.m11.1.1.3" xref="A7.p2.11.m11.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="A7.p2.11.m11.1b"><apply id="A7.p2.11.m11.1.1.cmml" xref="A7.p2.11.m11.1.1"><csymbol cd="ambiguous" id="A7.p2.11.m11.1.1.1.cmml" xref="A7.p2.11.m11.1.1">superscript</csymbol><apply id="A7.p2.11.m11.1.1.2.cmml" xref="A7.p2.11.m11.1.1.2"><ci id="A7.p2.11.m11.1.1.2.1.cmml" xref="A7.p2.11.m11.1.1.2.1">~</ci><ci id="A7.p2.11.m11.1.1.2.2.cmml" xref="A7.p2.11.m11.1.1.2.2">𝑠</ci></apply><ci id="A7.p2.11.m11.1.1.3.cmml" xref="A7.p2.11.m11.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.11.m11.1c">\tilde{s}^{n}</annotation></semantics></math>, so that the concatenated mini-batch <math id="A7.p2.12.m12.2" class="ltx_Math" alttext="\hat{s}^{n}=[s^{n},\tilde{s}^{n}]" display="inline"><semantics id="A7.p2.12.m12.2a"><mrow id="A7.p2.12.m12.2.2" xref="A7.p2.12.m12.2.2.cmml"><msup id="A7.p2.12.m12.2.2.4" xref="A7.p2.12.m12.2.2.4.cmml"><mover accent="true" id="A7.p2.12.m12.2.2.4.2" xref="A7.p2.12.m12.2.2.4.2.cmml"><mi id="A7.p2.12.m12.2.2.4.2.2" xref="A7.p2.12.m12.2.2.4.2.2.cmml">s</mi><mo id="A7.p2.12.m12.2.2.4.2.1" xref="A7.p2.12.m12.2.2.4.2.1.cmml">^</mo></mover><mi id="A7.p2.12.m12.2.2.4.3" xref="A7.p2.12.m12.2.2.4.3.cmml">n</mi></msup><mo id="A7.p2.12.m12.2.2.3" xref="A7.p2.12.m12.2.2.3.cmml">=</mo><mrow id="A7.p2.12.m12.2.2.2.2" xref="A7.p2.12.m12.2.2.2.3.cmml"><mo stretchy="false" id="A7.p2.12.m12.2.2.2.2.3" xref="A7.p2.12.m12.2.2.2.3.cmml">[</mo><msup id="A7.p2.12.m12.1.1.1.1.1" xref="A7.p2.12.m12.1.1.1.1.1.cmml"><mi id="A7.p2.12.m12.1.1.1.1.1.2" xref="A7.p2.12.m12.1.1.1.1.1.2.cmml">s</mi><mi id="A7.p2.12.m12.1.1.1.1.1.3" xref="A7.p2.12.m12.1.1.1.1.1.3.cmml">n</mi></msup><mo id="A7.p2.12.m12.2.2.2.2.4" xref="A7.p2.12.m12.2.2.2.3.cmml">,</mo><msup id="A7.p2.12.m12.2.2.2.2.2" xref="A7.p2.12.m12.2.2.2.2.2.cmml"><mover accent="true" id="A7.p2.12.m12.2.2.2.2.2.2" xref="A7.p2.12.m12.2.2.2.2.2.2.cmml"><mi id="A7.p2.12.m12.2.2.2.2.2.2.2" xref="A7.p2.12.m12.2.2.2.2.2.2.2.cmml">s</mi><mo id="A7.p2.12.m12.2.2.2.2.2.2.1" xref="A7.p2.12.m12.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="A7.p2.12.m12.2.2.2.2.2.3" xref="A7.p2.12.m12.2.2.2.2.2.3.cmml">n</mi></msup><mo stretchy="false" id="A7.p2.12.m12.2.2.2.2.5" xref="A7.p2.12.m12.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A7.p2.12.m12.2b"><apply id="A7.p2.12.m12.2.2.cmml" xref="A7.p2.12.m12.2.2"><eq id="A7.p2.12.m12.2.2.3.cmml" xref="A7.p2.12.m12.2.2.3"></eq><apply id="A7.p2.12.m12.2.2.4.cmml" xref="A7.p2.12.m12.2.2.4"><csymbol cd="ambiguous" id="A7.p2.12.m12.2.2.4.1.cmml" xref="A7.p2.12.m12.2.2.4">superscript</csymbol><apply id="A7.p2.12.m12.2.2.4.2.cmml" xref="A7.p2.12.m12.2.2.4.2"><ci id="A7.p2.12.m12.2.2.4.2.1.cmml" xref="A7.p2.12.m12.2.2.4.2.1">^</ci><ci id="A7.p2.12.m12.2.2.4.2.2.cmml" xref="A7.p2.12.m12.2.2.4.2.2">𝑠</ci></apply><ci id="A7.p2.12.m12.2.2.4.3.cmml" xref="A7.p2.12.m12.2.2.4.3">𝑛</ci></apply><interval closure="closed" id="A7.p2.12.m12.2.2.2.3.cmml" xref="A7.p2.12.m12.2.2.2.2"><apply id="A7.p2.12.m12.1.1.1.1.1.cmml" xref="A7.p2.12.m12.1.1.1.1.1"><csymbol cd="ambiguous" id="A7.p2.12.m12.1.1.1.1.1.1.cmml" xref="A7.p2.12.m12.1.1.1.1.1">superscript</csymbol><ci id="A7.p2.12.m12.1.1.1.1.1.2.cmml" xref="A7.p2.12.m12.1.1.1.1.1.2">𝑠</ci><ci id="A7.p2.12.m12.1.1.1.1.1.3.cmml" xref="A7.p2.12.m12.1.1.1.1.1.3">𝑛</ci></apply><apply id="A7.p2.12.m12.2.2.2.2.2.cmml" xref="A7.p2.12.m12.2.2.2.2.2"><csymbol cd="ambiguous" id="A7.p2.12.m12.2.2.2.2.2.1.cmml" xref="A7.p2.12.m12.2.2.2.2.2">superscript</csymbol><apply id="A7.p2.12.m12.2.2.2.2.2.2.cmml" xref="A7.p2.12.m12.2.2.2.2.2.2"><ci id="A7.p2.12.m12.2.2.2.2.2.2.1.cmml" xref="A7.p2.12.m12.2.2.2.2.2.2.1">~</ci><ci id="A7.p2.12.m12.2.2.2.2.2.2.2.cmml" xref="A7.p2.12.m12.2.2.2.2.2.2.2">𝑠</ci></apply><ci id="A7.p2.12.m12.2.2.2.2.2.3.cmml" xref="A7.p2.12.m12.2.2.2.2.2.3">𝑛</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.12.m12.2c">\hat{s}^{n}=[s^{n},\tilde{s}^{n}]</annotation></semantics></math> becomes class-balanced. If the oversampling size is 1, we oversample one data point in class <math id="A7.p2.13.m13.1" class="ltx_Math" alttext="c" display="inline"><semantics id="A7.p2.13.m13.1a"><mi id="A7.p2.13.m13.1.1" xref="A7.p2.13.m13.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="A7.p2.13.m13.1b"><ci id="A7.p2.13.m13.1.1.cmml" xref="A7.p2.13.m13.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.13.m13.1c">c</annotation></semantics></math> to make the concatenated mini-batch to be balanced as much as possible. If the oversampling size is 6, we oversample 1, 2, 3 samples from classes <math id="A7.p2.14.m14.1" class="ltx_Math" alttext="a" display="inline"><semantics id="A7.p2.14.m14.1a"><mi id="A7.p2.14.m14.1.1" xref="A7.p2.14.m14.1.1.cmml">a</mi><annotation-xml encoding="MathML-Content" id="A7.p2.14.m14.1b"><ci id="A7.p2.14.m14.1.1.cmml" xref="A7.p2.14.m14.1.1">𝑎</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.14.m14.1c">a</annotation></semantics></math>, <math id="A7.p2.15.m15.1" class="ltx_Math" alttext="b" display="inline"><semantics id="A7.p2.15.m15.1a"><mi id="A7.p2.15.m15.1.1" xref="A7.p2.15.m15.1.1.cmml">b</mi><annotation-xml encoding="MathML-Content" id="A7.p2.15.m15.1b"><ci id="A7.p2.15.m15.1.1.cmml" xref="A7.p2.15.m15.1.1">𝑏</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.15.m15.1c">b</annotation></semantics></math>, <math id="A7.p2.16.m16.1" class="ltx_Math" alttext="c" display="inline"><semantics id="A7.p2.16.m16.1a"><mi id="A7.p2.16.m16.1.1" xref="A7.p2.16.m16.1.1.cmml">c</mi><annotation-xml encoding="MathML-Content" id="A7.p2.16.m16.1b"><ci id="A7.p2.16.m16.1.1.cmml" xref="A7.p2.16.m16.1.1">𝑐</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.16.m16.1c">c</annotation></semantics></math>, respectively to construct <math id="A7.p2.17.m17.1" class="ltx_Math" alttext="\tilde{s}^{n}" display="inline"><semantics id="A7.p2.17.m17.1a"><msup id="A7.p2.17.m17.1.1" xref="A7.p2.17.m17.1.1.cmml"><mover accent="true" id="A7.p2.17.m17.1.1.2" xref="A7.p2.17.m17.1.1.2.cmml"><mi id="A7.p2.17.m17.1.1.2.2" xref="A7.p2.17.m17.1.1.2.2.cmml">s</mi><mo id="A7.p2.17.m17.1.1.2.1" xref="A7.p2.17.m17.1.1.2.1.cmml">~</mo></mover><mi id="A7.p2.17.m17.1.1.3" xref="A7.p2.17.m17.1.1.3.cmml">n</mi></msup><annotation-xml encoding="MathML-Content" id="A7.p2.17.m17.1b"><apply id="A7.p2.17.m17.1.1.cmml" xref="A7.p2.17.m17.1.1"><csymbol cd="ambiguous" id="A7.p2.17.m17.1.1.1.cmml" xref="A7.p2.17.m17.1.1">superscript</csymbol><apply id="A7.p2.17.m17.1.1.2.cmml" xref="A7.p2.17.m17.1.1.2"><ci id="A7.p2.17.m17.1.1.2.1.cmml" xref="A7.p2.17.m17.1.1.2.1">~</ci><ci id="A7.p2.17.m17.1.1.2.2.cmml" xref="A7.p2.17.m17.1.1.2.2">𝑠</ci></apply><ci id="A7.p2.17.m17.1.1.3.cmml" xref="A7.p2.17.m17.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.17.m17.1c">\tilde{s}^{n}</annotation></semantics></math>. The concatenated mini-batch <math id="A7.p2.18.m18.2" class="ltx_Math" alttext="\hat{s}^{n}=[s^{n},\tilde{s}^{n}]" display="inline"><semantics id="A7.p2.18.m18.2a"><mrow id="A7.p2.18.m18.2.2" xref="A7.p2.18.m18.2.2.cmml"><msup id="A7.p2.18.m18.2.2.4" xref="A7.p2.18.m18.2.2.4.cmml"><mover accent="true" id="A7.p2.18.m18.2.2.4.2" xref="A7.p2.18.m18.2.2.4.2.cmml"><mi id="A7.p2.18.m18.2.2.4.2.2" xref="A7.p2.18.m18.2.2.4.2.2.cmml">s</mi><mo id="A7.p2.18.m18.2.2.4.2.1" xref="A7.p2.18.m18.2.2.4.2.1.cmml">^</mo></mover><mi id="A7.p2.18.m18.2.2.4.3" xref="A7.p2.18.m18.2.2.4.3.cmml">n</mi></msup><mo id="A7.p2.18.m18.2.2.3" xref="A7.p2.18.m18.2.2.3.cmml">=</mo><mrow id="A7.p2.18.m18.2.2.2.2" xref="A7.p2.18.m18.2.2.2.3.cmml"><mo stretchy="false" id="A7.p2.18.m18.2.2.2.2.3" xref="A7.p2.18.m18.2.2.2.3.cmml">[</mo><msup id="A7.p2.18.m18.1.1.1.1.1" xref="A7.p2.18.m18.1.1.1.1.1.cmml"><mi id="A7.p2.18.m18.1.1.1.1.1.2" xref="A7.p2.18.m18.1.1.1.1.1.2.cmml">s</mi><mi id="A7.p2.18.m18.1.1.1.1.1.3" xref="A7.p2.18.m18.1.1.1.1.1.3.cmml">n</mi></msup><mo id="A7.p2.18.m18.2.2.2.2.4" xref="A7.p2.18.m18.2.2.2.3.cmml">,</mo><msup id="A7.p2.18.m18.2.2.2.2.2" xref="A7.p2.18.m18.2.2.2.2.2.cmml"><mover accent="true" id="A7.p2.18.m18.2.2.2.2.2.2" xref="A7.p2.18.m18.2.2.2.2.2.2.cmml"><mi id="A7.p2.18.m18.2.2.2.2.2.2.2" xref="A7.p2.18.m18.2.2.2.2.2.2.2.cmml">s</mi><mo id="A7.p2.18.m18.2.2.2.2.2.2.1" xref="A7.p2.18.m18.2.2.2.2.2.2.1.cmml">~</mo></mover><mi id="A7.p2.18.m18.2.2.2.2.2.3" xref="A7.p2.18.m18.2.2.2.2.2.3.cmml">n</mi></msup><mo stretchy="false" id="A7.p2.18.m18.2.2.2.2.5" xref="A7.p2.18.m18.2.2.2.3.cmml">]</mo></mrow></mrow><annotation-xml encoding="MathML-Content" id="A7.p2.18.m18.2b"><apply id="A7.p2.18.m18.2.2.cmml" xref="A7.p2.18.m18.2.2"><eq id="A7.p2.18.m18.2.2.3.cmml" xref="A7.p2.18.m18.2.2.3"></eq><apply id="A7.p2.18.m18.2.2.4.cmml" xref="A7.p2.18.m18.2.2.4"><csymbol cd="ambiguous" id="A7.p2.18.m18.2.2.4.1.cmml" xref="A7.p2.18.m18.2.2.4">superscript</csymbol><apply id="A7.p2.18.m18.2.2.4.2.cmml" xref="A7.p2.18.m18.2.2.4.2"><ci id="A7.p2.18.m18.2.2.4.2.1.cmml" xref="A7.p2.18.m18.2.2.4.2.1">^</ci><ci id="A7.p2.18.m18.2.2.4.2.2.cmml" xref="A7.p2.18.m18.2.2.4.2.2">𝑠</ci></apply><ci id="A7.p2.18.m18.2.2.4.3.cmml" xref="A7.p2.18.m18.2.2.4.3">𝑛</ci></apply><interval closure="closed" id="A7.p2.18.m18.2.2.2.3.cmml" xref="A7.p2.18.m18.2.2.2.2"><apply id="A7.p2.18.m18.1.1.1.1.1.cmml" xref="A7.p2.18.m18.1.1.1.1.1"><csymbol cd="ambiguous" id="A7.p2.18.m18.1.1.1.1.1.1.cmml" xref="A7.p2.18.m18.1.1.1.1.1">superscript</csymbol><ci id="A7.p2.18.m18.1.1.1.1.1.2.cmml" xref="A7.p2.18.m18.1.1.1.1.1.2">𝑠</ci><ci id="A7.p2.18.m18.1.1.1.1.1.3.cmml" xref="A7.p2.18.m18.1.1.1.1.1.3">𝑛</ci></apply><apply id="A7.p2.18.m18.2.2.2.2.2.cmml" xref="A7.p2.18.m18.2.2.2.2.2"><csymbol cd="ambiguous" id="A7.p2.18.m18.2.2.2.2.2.1.cmml" xref="A7.p2.18.m18.2.2.2.2.2">superscript</csymbol><apply id="A7.p2.18.m18.2.2.2.2.2.2.cmml" xref="A7.p2.18.m18.2.2.2.2.2.2"><ci id="A7.p2.18.m18.2.2.2.2.2.2.1.cmml" xref="A7.p2.18.m18.2.2.2.2.2.2.1">~</ci><ci id="A7.p2.18.m18.2.2.2.2.2.2.2.cmml" xref="A7.p2.18.m18.2.2.2.2.2.2.2">𝑠</ci></apply><ci id="A7.p2.18.m18.2.2.2.2.2.3.cmml" xref="A7.p2.18.m18.2.2.2.2.2.3">𝑛</ci></apply></interval></apply></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.18.m18.2c">\hat{s}^{n}=[s^{n},\tilde{s}^{n}]</annotation></semantics></math> is utilized for style-based learning and updating the model. This process not only mitigates the class-imbalance issue in each client but also provides a good platform for style exploration by oversampling the features. In our work, we reported the results with oversampling size of <math id="A7.p2.19.m19.1" class="ltx_Math" alttext="B" display="inline"><semantics id="A7.p2.19.m19.1a"><mi id="A7.p2.19.m19.1.1" xref="A7.p2.19.m19.1.1.cmml">B</mi><annotation-xml encoding="MathML-Content" id="A7.p2.19.m19.1b"><ci id="A7.p2.19.m19.1.1.cmml" xref="A7.p2.19.m19.1.1">𝐵</ci></annotation-xml><annotation encoding="application/x-tex" id="A7.p2.19.m19.1c">B</annotation></semantics></math> (which is equal to the mini-batch size), while the effect of the oversampling size is also reported in Fig. 4 of the main manuscript: A larger oversampling size leads to a better performance, and more importantly, our StableFDG outperforms the baseline even without any oversampling.</p>
</div>
</section>
<section id="A8" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix H </span>Visualization of Attention Score Maps</h2>

<div id="A8.p1" class="ltx_para">
<p id="A8.p1.1" class="ltx_p">Finally in Fig. <a href="#A8.F6" title="Figure 6 ‣ Appendix H Visualization of Attention Score Maps ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">6</span></a>, we visualize the attention score maps of different input images during testing. The results confirm the effectiveness of our attention-based feature highlighter to focus on the important parts of each image from the unseen domain.</p>
</div>
<figure id="A8.F6" class="ltx_figure">
<div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/2originalimage.jpg" id="A8.F6.g1" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/2attentionmap.jpg" id="A8.F6.g2" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/12ori_image.jpg" id="A8.F6.g3" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/12attentionmap.jpg" id="A8.F6.g4" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/13ori_image.jpg" id="A8.F6.g5" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/13attentionmap.jpg" id="A8.F6.g6" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/15ori_image.jpg" id="A8.F6.g7" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/15attentionmap.jpg" id="A8.F6.g8" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_many"><img src="/html/2311.00227/assets/attentionvis/18ori_image.jpg" id="A8.F6.g9" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_3"><img src="/html/2311.00227/assets/attentionvis/18attentionmap.jpg" id="A8.F6.g10" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_3"><img src="/html/2311.00227/assets/attentionvis/19ori_image.jpg" id="A8.F6.g11" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
<div class="ltx_flex_cell ltx_flex_size_3"><img src="/html/2311.00227/assets/attentionvis/19attentionmap.jpg" id="A8.F6.g12" class="ltx_graphics ltx_centering ltx_figure_panel ltx_img_square" width="66" height="66" alt="Refer to caption"></div>
</div>
<figcaption class="ltx_caption ltx_centering"><span class="ltx_tag ltx_tag_figure"><span id="A8.F6.2.1.1" class="ltx_text" style="font-size:90%;">Figure 6</span>: </span><span id="A8.F6.3.2" class="ltx_text" style="font-size:90%;">Visualization of attention score maps of each input image.</span></figcaption>
</figure>
</section>
<section id="A9" class="ltx_appendix">
<h2 class="ltx_title ltx_title_appendix">
<span class="ltx_tag ltx_tag_appendix">Appendix I </span>Pseudo Code Algorithm of Stable FDG</h2>

<div id="A9.p1" class="ltx_para">
<p id="A9.p1.1" class="ltx_p">Algorithm <a href="#alg1" title="Algorithm 1 ‣ Appendix I Pseudo Code Algorithm of Stable FDG ‣ StableFDG: Style and Attention Based Learning for Federated Domain Generalization" class="ltx_ref"><span class="ltx_text ltx_ref_tag">1</span></a> summarizes the overall process of our StableFDG.</p>
</div>
<figure id="alg1" class="ltx_float ltx_float_algorithm ltx_framed ltx_framed_top">

<figcaption class="ltx_caption"><span class="ltx_tag ltx_tag_float"><span id="alg1.4.1.1" class="ltx_text ltx_font_bold">Algorithm 1</span> </span> StableFDG </figcaption><div class="ltx_flex_figure">
<div class="ltx_flex_cell ltx_flex_size_1">
<p id="alg1.2" class="ltx_p ltx_figure_panel"><span id="alg1.2.1" class="ltx_text ltx_font_bold">Input:</span> Initialized model <math id="alg1.1.m1.1" class="ltx_Math" alttext="\mathbf{w}_{0}" display="inline"><semantics id="alg1.1.m1.1a"><msub id="alg1.1.m1.1.1" xref="alg1.1.m1.1.1.cmml"><mi id="alg1.1.m1.1.1.2" xref="alg1.1.m1.1.1.2.cmml">𝐰</mi><mn id="alg1.1.m1.1.1.3" xref="alg1.1.m1.1.1.3.cmml">0</mn></msub><annotation-xml encoding="MathML-Content" id="alg1.1.m1.1b"><apply id="alg1.1.m1.1.1.cmml" xref="alg1.1.m1.1.1"><csymbol cd="ambiguous" id="alg1.1.m1.1.1.1.cmml" xref="alg1.1.m1.1.1">subscript</csymbol><ci id="alg1.1.m1.1.1.2.cmml" xref="alg1.1.m1.1.1.2">𝐰</ci><cn type="integer" id="alg1.1.m1.1.1.3.cmml" xref="alg1.1.m1.1.1.3">0</cn></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.1.m1.1c">\mathbf{w}_{0}</annotation></semantics></math>,  <span id="alg1.2.2" class="ltx_text ltx_font_bold">Output:</span> Global model <math id="alg1.2.m2.1" class="ltx_Math" alttext="\mathbf{w}_{T}" display="inline"><semantics id="alg1.2.m2.1a"><msub id="alg1.2.m2.1.1" xref="alg1.2.m2.1.1.cmml"><mi id="alg1.2.m2.1.1.2" xref="alg1.2.m2.1.1.2.cmml">𝐰</mi><mi id="alg1.2.m2.1.1.3" xref="alg1.2.m2.1.1.3.cmml">T</mi></msub><annotation-xml encoding="MathML-Content" id="alg1.2.m2.1b"><apply id="alg1.2.m2.1.1.cmml" xref="alg1.2.m2.1.1"><csymbol cd="ambiguous" id="alg1.2.m2.1.1.1.cmml" xref="alg1.2.m2.1.1">subscript</csymbol><ci id="alg1.2.m2.1.1.2.cmml" xref="alg1.2.m2.1.1.2">𝐰</ci><ci id="alg1.2.m2.1.1.3.cmml" xref="alg1.2.m2.1.1.3">𝑇</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="alg1.2.m2.1c">\mathbf{w}_{T}</annotation></semantics></math></p>
</div>
<div class="ltx_flex_break"></div>
<div class="ltx_flex_cell ltx_flex_size_1">
<div id="alg1.5" class="ltx_listing ltx_figure_panel ltx_listing">
<div id="algx1.l1" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l1.1.1.1" class="ltx_text" style="font-size:80%;">1:</span></span>  <span id="algx1.l1.2" class="ltx_text ltx_font_bold">for</span> each global round <math id="algx1.l1.m1.4" class="ltx_Math" alttext="t=0,1,...,T-1" display="inline"><semantics id="algx1.l1.m1.4a"><mrow id="algx1.l1.m1.4.4" xref="algx1.l1.m1.4.4.cmml"><mi id="algx1.l1.m1.4.4.3" xref="algx1.l1.m1.4.4.3.cmml">t</mi><mo id="algx1.l1.m1.4.4.2" xref="algx1.l1.m1.4.4.2.cmml">=</mo><mrow id="algx1.l1.m1.4.4.1.1" xref="algx1.l1.m1.4.4.1.2.cmml"><mn id="algx1.l1.m1.1.1" xref="algx1.l1.m1.1.1.cmml">0</mn><mo id="algx1.l1.m1.4.4.1.1.2" xref="algx1.l1.m1.4.4.1.2.cmml">,</mo><mn id="algx1.l1.m1.2.2" xref="algx1.l1.m1.2.2.cmml">1</mn><mo id="algx1.l1.m1.4.4.1.1.3" xref="algx1.l1.m1.4.4.1.2.cmml">,</mo><mi mathvariant="normal" id="algx1.l1.m1.3.3" xref="algx1.l1.m1.3.3.cmml">…</mi><mo id="algx1.l1.m1.4.4.1.1.4" xref="algx1.l1.m1.4.4.1.2.cmml">,</mo><mrow id="algx1.l1.m1.4.4.1.1.1" xref="algx1.l1.m1.4.4.1.1.1.cmml"><mi id="algx1.l1.m1.4.4.1.1.1.2" xref="algx1.l1.m1.4.4.1.1.1.2.cmml">T</mi><mo id="algx1.l1.m1.4.4.1.1.1.1" xref="algx1.l1.m1.4.4.1.1.1.1.cmml">−</mo><mn id="algx1.l1.m1.4.4.1.1.1.3" xref="algx1.l1.m1.4.4.1.1.1.3.cmml">1</mn></mrow></mrow></mrow><annotation-xml encoding="MathML-Content" id="algx1.l1.m1.4b"><apply id="algx1.l1.m1.4.4.cmml" xref="algx1.l1.m1.4.4"><eq id="algx1.l1.m1.4.4.2.cmml" xref="algx1.l1.m1.4.4.2"></eq><ci id="algx1.l1.m1.4.4.3.cmml" xref="algx1.l1.m1.4.4.3">𝑡</ci><list id="algx1.l1.m1.4.4.1.2.cmml" xref="algx1.l1.m1.4.4.1.1"><cn type="integer" id="algx1.l1.m1.1.1.cmml" xref="algx1.l1.m1.1.1">0</cn><cn type="integer" id="algx1.l1.m1.2.2.cmml" xref="algx1.l1.m1.2.2">1</cn><ci id="algx1.l1.m1.3.3.cmml" xref="algx1.l1.m1.3.3">…</ci><apply id="algx1.l1.m1.4.4.1.1.1.cmml" xref="algx1.l1.m1.4.4.1.1.1"><minus id="algx1.l1.m1.4.4.1.1.1.1.cmml" xref="algx1.l1.m1.4.4.1.1.1.1"></minus><ci id="algx1.l1.m1.4.4.1.1.1.2.cmml" xref="algx1.l1.m1.4.4.1.1.1.2">𝑇</ci><cn type="integer" id="algx1.l1.m1.4.4.1.1.1.3.cmml" xref="algx1.l1.m1.4.4.1.1.1.3">1</cn></apply></list></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l1.m1.4c">t=0,1,...,T-1</annotation></semantics></math>  <span id="algx1.l1.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="algx1.l2" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l2.1.1.1" class="ltx_text" style="font-size:80%;">2:</span></span>     
</div>
<div id="algx1.l3" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l3.1.1.1" class="ltx_text" style="font-size:80%;">3:</span></span>     <span id="algx1.l3.2" class="ltx_text ltx_font_bold">Stage 1.</span> Model download and style sharing

</div>
<div id="algx1.l4" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l4.1.1.1" class="ltx_text" style="font-size:80%;">4:</span></span>     The server samples a set of participating clients <math id="algx1.l4.m1.1" class="ltx_Math" alttext="M_{t}" display="inline"><semantics id="algx1.l4.m1.1a"><msub id="algx1.l4.m1.1.1" xref="algx1.l4.m1.1.1.cmml"><mi id="algx1.l4.m1.1.1.2" xref="algx1.l4.m1.1.1.2.cmml">M</mi><mi id="algx1.l4.m1.1.1.3" xref="algx1.l4.m1.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m1.1b"><apply id="algx1.l4.m1.1.1.cmml" xref="algx1.l4.m1.1.1"><csymbol cd="ambiguous" id="algx1.l4.m1.1.1.1.cmml" xref="algx1.l4.m1.1.1">subscript</csymbol><ci id="algx1.l4.m1.1.1.2.cmml" xref="algx1.l4.m1.1.1.2">𝑀</ci><ci id="algx1.l4.m1.1.1.3.cmml" xref="algx1.l4.m1.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m1.1c">M_{t}</annotation></semantics></math> and sends the global model <math id="algx1.l4.m2.1" class="ltx_Math" alttext="\mathbf{w}_{t}" display="inline"><semantics id="algx1.l4.m2.1a"><msub id="algx1.l4.m2.1.1" xref="algx1.l4.m2.1.1.cmml"><mi id="algx1.l4.m2.1.1.2" xref="algx1.l4.m2.1.1.2.cmml">𝐰</mi><mi id="algx1.l4.m2.1.1.3" xref="algx1.l4.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m2.1b"><apply id="algx1.l4.m2.1.1.cmml" xref="algx1.l4.m2.1.1"><csymbol cd="ambiguous" id="algx1.l4.m2.1.1.1.cmml" xref="algx1.l4.m2.1.1">subscript</csymbol><ci id="algx1.l4.m2.1.1.2.cmml" xref="algx1.l4.m2.1.1.2">𝐰</ci><ci id="algx1.l4.m2.1.1.3.cmml" xref="algx1.l4.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m2.1c">\mathbf{w}_{t}</annotation></semantics></math> to the clients in <math id="algx1.l4.m3.1" class="ltx_Math" alttext="M_{t}" display="inline"><semantics id="algx1.l4.m3.1a"><msub id="algx1.l4.m3.1.1" xref="algx1.l4.m3.1.1.cmml"><mi id="algx1.l4.m3.1.1.2" xref="algx1.l4.m3.1.1.2.cmml">M</mi><mi id="algx1.l4.m3.1.1.3" xref="algx1.l4.m3.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l4.m3.1b"><apply id="algx1.l4.m3.1.1.cmml" xref="algx1.l4.m3.1.1"><csymbol cd="ambiguous" id="algx1.l4.m3.1.1.1.cmml" xref="algx1.l4.m3.1.1">subscript</csymbol><ci id="algx1.l4.m3.1.1.2.cmml" xref="algx1.l4.m3.1.1.2">𝑀</ci><ci id="algx1.l4.m3.1.1.3.cmml" xref="algx1.l4.m3.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l4.m3.1c">M_{t}</annotation></semantics></math>

</div>
<div id="algx1.l5" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l5.1.1.1" class="ltx_text" style="font-size:80%;">5:</span></span>     <span id="algx1.l5.2" class="ltx_text ltx_font_bold">for</span> each device <math id="algx1.l5.m1.1" class="ltx_Math" alttext="n\in M_{t}" display="inline"><semantics id="algx1.l5.m1.1a"><mrow id="algx1.l5.m1.1.1" xref="algx1.l5.m1.1.1.cmml"><mi id="algx1.l5.m1.1.1.2" xref="algx1.l5.m1.1.1.2.cmml">n</mi><mo id="algx1.l5.m1.1.1.1" xref="algx1.l5.m1.1.1.1.cmml">∈</mo><msub id="algx1.l5.m1.1.1.3" xref="algx1.l5.m1.1.1.3.cmml"><mi id="algx1.l5.m1.1.1.3.2" xref="algx1.l5.m1.1.1.3.2.cmml">M</mi><mi id="algx1.l5.m1.1.1.3.3" xref="algx1.l5.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l5.m1.1b"><apply id="algx1.l5.m1.1.1.cmml" xref="algx1.l5.m1.1.1"><in id="algx1.l5.m1.1.1.1.cmml" xref="algx1.l5.m1.1.1.1"></in><ci id="algx1.l5.m1.1.1.2.cmml" xref="algx1.l5.m1.1.1.2">𝑛</ci><apply id="algx1.l5.m1.1.1.3.cmml" xref="algx1.l5.m1.1.1.3"><csymbol cd="ambiguous" id="algx1.l5.m1.1.1.3.1.cmml" xref="algx1.l5.m1.1.1.3">subscript</csymbol><ci id="algx1.l5.m1.1.1.3.2.cmml" xref="algx1.l5.m1.1.1.3.2">𝑀</ci><ci id="algx1.l5.m1.1.1.3.3.cmml" xref="algx1.l5.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l5.m1.1c">n\in M_{t}</annotation></semantics></math> <span id="algx1.l5.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="algx1.l6" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l6.1.1.1" class="ltx_text" style="font-size:80%;">6:</span></span>        Compute style information <math id="algx1.l6.m1.1" class="ltx_Math" alttext="\Phi_{n}" display="inline"><semantics id="algx1.l6.m1.1a"><msub id="algx1.l6.m1.1.1" xref="algx1.l6.m1.1.1.cmml"><mi mathvariant="normal" id="algx1.l6.m1.1.1.2" xref="algx1.l6.m1.1.1.2.cmml">Φ</mi><mi id="algx1.l6.m1.1.1.3" xref="algx1.l6.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l6.m1.1b"><apply id="algx1.l6.m1.1.1.cmml" xref="algx1.l6.m1.1.1"><csymbol cd="ambiguous" id="algx1.l6.m1.1.1.1.cmml" xref="algx1.l6.m1.1.1">subscript</csymbol><ci id="algx1.l6.m1.1.1.2.cmml" xref="algx1.l6.m1.1.1.2">Φ</ci><ci id="algx1.l6.m1.1.1.3.cmml" xref="algx1.l6.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l6.m1.1c">\Phi_{n}</annotation></semantics></math> according to the Step 1 in Sec. 3.1

</div>
<div id="algx1.l7" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l7.1.1.1" class="ltx_text" style="font-size:80%;">7:</span></span>        Transmit <math id="algx1.l7.m1.1" class="ltx_Math" alttext="\Phi_{n}" display="inline"><semantics id="algx1.l7.m1.1a"><msub id="algx1.l7.m1.1.1" xref="algx1.l7.m1.1.1.cmml"><mi mathvariant="normal" id="algx1.l7.m1.1.1.2" xref="algx1.l7.m1.1.1.2.cmml">Φ</mi><mi id="algx1.l7.m1.1.1.3" xref="algx1.l7.m1.1.1.3.cmml">n</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l7.m1.1b"><apply id="algx1.l7.m1.1.1.cmml" xref="algx1.l7.m1.1.1"><csymbol cd="ambiguous" id="algx1.l7.m1.1.1.1.cmml" xref="algx1.l7.m1.1.1">subscript</csymbol><ci id="algx1.l7.m1.1.1.2.cmml" xref="algx1.l7.m1.1.1.2">Φ</ci><ci id="algx1.l7.m1.1.1.3.cmml" xref="algx1.l7.m1.1.1.3">𝑛</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l7.m1.1c">\Phi_{n}</annotation></semantics></math> to the server

</div>
<div id="algx1.l8" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l8.1.1.1" class="ltx_text" style="font-size:80%;">8:</span></span>     <span id="algx1.l8.2" class="ltx_text ltx_font_bold">end</span> <span id="algx1.l8.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="algx1.l9" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l9.1.1.1" class="ltx_text" style="font-size:80%;">9:</span></span>     The server shares <math id="algx1.l9.m1.1" class="ltx_Math" alttext="\{\Phi_{n}\}_{n\in M}" display="inline"><semantics id="algx1.l9.m1.1a"><msub id="algx1.l9.m1.1.1" xref="algx1.l9.m1.1.1.cmml"><mrow id="algx1.l9.m1.1.1.1.1" xref="algx1.l9.m1.1.1.1.2.cmml"><mo stretchy="false" id="algx1.l9.m1.1.1.1.1.2" xref="algx1.l9.m1.1.1.1.2.cmml">{</mo><msub id="algx1.l9.m1.1.1.1.1.1" xref="algx1.l9.m1.1.1.1.1.1.cmml"><mi mathvariant="normal" id="algx1.l9.m1.1.1.1.1.1.2" xref="algx1.l9.m1.1.1.1.1.1.2.cmml">Φ</mi><mi id="algx1.l9.m1.1.1.1.1.1.3" xref="algx1.l9.m1.1.1.1.1.1.3.cmml">n</mi></msub><mo stretchy="false" id="algx1.l9.m1.1.1.1.1.3" xref="algx1.l9.m1.1.1.1.2.cmml">}</mo></mrow><mrow id="algx1.l9.m1.1.1.3" xref="algx1.l9.m1.1.1.3.cmml"><mi id="algx1.l9.m1.1.1.3.2" xref="algx1.l9.m1.1.1.3.2.cmml">n</mi><mo id="algx1.l9.m1.1.1.3.1" xref="algx1.l9.m1.1.1.3.1.cmml">∈</mo><mi id="algx1.l9.m1.1.1.3.3" xref="algx1.l9.m1.1.1.3.3.cmml">M</mi></mrow></msub><annotation-xml encoding="MathML-Content" id="algx1.l9.m1.1b"><apply id="algx1.l9.m1.1.1.cmml" xref="algx1.l9.m1.1.1"><csymbol cd="ambiguous" id="algx1.l9.m1.1.1.2.cmml" xref="algx1.l9.m1.1.1">subscript</csymbol><set id="algx1.l9.m1.1.1.1.2.cmml" xref="algx1.l9.m1.1.1.1.1"><apply id="algx1.l9.m1.1.1.1.1.1.cmml" xref="algx1.l9.m1.1.1.1.1.1"><csymbol cd="ambiguous" id="algx1.l9.m1.1.1.1.1.1.1.cmml" xref="algx1.l9.m1.1.1.1.1.1">subscript</csymbol><ci id="algx1.l9.m1.1.1.1.1.1.2.cmml" xref="algx1.l9.m1.1.1.1.1.1.2">Φ</ci><ci id="algx1.l9.m1.1.1.1.1.1.3.cmml" xref="algx1.l9.m1.1.1.1.1.1.3">𝑛</ci></apply></set><apply id="algx1.l9.m1.1.1.3.cmml" xref="algx1.l9.m1.1.1.3"><in id="algx1.l9.m1.1.1.3.1.cmml" xref="algx1.l9.m1.1.1.3.1"></in><ci id="algx1.l9.m1.1.1.3.2.cmml" xref="algx1.l9.m1.1.1.3.2">𝑛</ci><ci id="algx1.l9.m1.1.1.3.3.cmml" xref="algx1.l9.m1.1.1.3.3">𝑀</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m1.1c">\{\Phi_{n}\}_{n\in M}</annotation></semantics></math> to the clients in <math id="algx1.l9.m2.1" class="ltx_Math" alttext="M_{t}" display="inline"><semantics id="algx1.l9.m2.1a"><msub id="algx1.l9.m2.1.1" xref="algx1.l9.m2.1.1.cmml"><mi id="algx1.l9.m2.1.1.2" xref="algx1.l9.m2.1.1.2.cmml">M</mi><mi id="algx1.l9.m2.1.1.3" xref="algx1.l9.m2.1.1.3.cmml">t</mi></msub><annotation-xml encoding="MathML-Content" id="algx1.l9.m2.1b"><apply id="algx1.l9.m2.1.1.cmml" xref="algx1.l9.m2.1.1"><csymbol cd="ambiguous" id="algx1.l9.m2.1.1.1.cmml" xref="algx1.l9.m2.1.1">subscript</csymbol><ci id="algx1.l9.m2.1.1.2.cmml" xref="algx1.l9.m2.1.1.2">𝑀</ci><ci id="algx1.l9.m2.1.1.3.cmml" xref="algx1.l9.m2.1.1.3">𝑡</ci></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l9.m2.1c">M_{t}</annotation></semantics></math> according to the Step 1 in Sec. 3.1

</div>
<div id="algx1.l10" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l10.1.1.1" class="ltx_text" style="font-size:80%;">10:</span></span>     
</div>
<div id="algx1.l11" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l11.1.1.1" class="ltx_text" style="font-size:80%;">11:</span></span>     <span id="algx1.l11.2" class="ltx_text ltx_font_bold">Stage 2.</span> Local updates and model aggregation 
</div>
<div id="algx1.l12" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l12.1.1.1" class="ltx_text" style="font-size:80%;">12:</span></span>     <span id="algx1.l12.2" class="ltx_text ltx_font_bold">for</span> each device <math id="algx1.l12.m1.1" class="ltx_Math" alttext="n\in M_{t}" display="inline"><semantics id="algx1.l12.m1.1a"><mrow id="algx1.l12.m1.1.1" xref="algx1.l12.m1.1.1.cmml"><mi id="algx1.l12.m1.1.1.2" xref="algx1.l12.m1.1.1.2.cmml">n</mi><mo id="algx1.l12.m1.1.1.1" xref="algx1.l12.m1.1.1.1.cmml">∈</mo><msub id="algx1.l12.m1.1.1.3" xref="algx1.l12.m1.1.1.3.cmml"><mi id="algx1.l12.m1.1.1.3.2" xref="algx1.l12.m1.1.1.3.2.cmml">M</mi><mi id="algx1.l12.m1.1.1.3.3" xref="algx1.l12.m1.1.1.3.3.cmml">t</mi></msub></mrow><annotation-xml encoding="MathML-Content" id="algx1.l12.m1.1b"><apply id="algx1.l12.m1.1.1.cmml" xref="algx1.l12.m1.1.1"><in id="algx1.l12.m1.1.1.1.cmml" xref="algx1.l12.m1.1.1.1"></in><ci id="algx1.l12.m1.1.1.2.cmml" xref="algx1.l12.m1.1.1.2">𝑛</ci><apply id="algx1.l12.m1.1.1.3.cmml" xref="algx1.l12.m1.1.1.3"><csymbol cd="ambiguous" id="algx1.l12.m1.1.1.3.1.cmml" xref="algx1.l12.m1.1.1.3">subscript</csymbol><ci id="algx1.l12.m1.1.1.3.2.cmml" xref="algx1.l12.m1.1.1.3.2">𝑀</ci><ci id="algx1.l12.m1.1.1.3.3.cmml" xref="algx1.l12.m1.1.1.3.3">𝑡</ci></apply></apply></annotation-xml><annotation encoding="application/x-tex" id="algx1.l12.m1.1c">n\in M_{t}</annotation></semantics></math> <span id="algx1.l12.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="algx1.l13" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l13.1.1.1" class="ltx_text" style="font-size:80%;">13:</span></span>        <span id="algx1.l13.2" class="ltx_text ltx_font_bold">for</span> local epoch = <math id="algx1.l13.m1.3" class="ltx_Math" alttext="1,2...,E" display="inline"><semantics id="algx1.l13.m1.3a"><mrow id="algx1.l13.m1.3.3.1" xref="algx1.l13.m1.3.3.2.cmml"><mn id="algx1.l13.m1.1.1" xref="algx1.l13.m1.1.1.cmml">1</mn><mo id="algx1.l13.m1.3.3.1.2" xref="algx1.l13.m1.3.3.2.cmml">,</mo><mrow id="algx1.l13.m1.3.3.1.1" xref="algx1.l13.m1.3.3.1.1.cmml"><mn id="algx1.l13.m1.3.3.1.1.2" xref="algx1.l13.m1.3.3.1.1.2.cmml">2</mn><mo lspace="0em" rspace="0em" id="algx1.l13.m1.3.3.1.1.1" xref="algx1.l13.m1.3.3.1.1.1.cmml">​</mo><mi mathvariant="normal" id="algx1.l13.m1.3.3.1.1.3" xref="algx1.l13.m1.3.3.1.1.3.cmml">…</mi></mrow><mo id="algx1.l13.m1.3.3.1.3" xref="algx1.l13.m1.3.3.2.cmml">,</mo><mi id="algx1.l13.m1.2.2" xref="algx1.l13.m1.2.2.cmml">E</mi></mrow><annotation-xml encoding="MathML-Content" id="algx1.l13.m1.3b"><list id="algx1.l13.m1.3.3.2.cmml" xref="algx1.l13.m1.3.3.1"><cn type="integer" id="algx1.l13.m1.1.1.cmml" xref="algx1.l13.m1.1.1">1</cn><apply id="algx1.l13.m1.3.3.1.1.cmml" xref="algx1.l13.m1.3.3.1.1"><times id="algx1.l13.m1.3.3.1.1.1.cmml" xref="algx1.l13.m1.3.3.1.1.1"></times><cn type="integer" id="algx1.l13.m1.3.3.1.1.2.cmml" xref="algx1.l13.m1.3.3.1.1.2">2</cn><ci id="algx1.l13.m1.3.3.1.1.3.cmml" xref="algx1.l13.m1.3.3.1.1.3">…</ci></apply><ci id="algx1.l13.m1.2.2.cmml" xref="algx1.l13.m1.2.2">𝐸</ci></list></annotation-xml><annotation encoding="application/x-tex" id="algx1.l13.m1.3c">1,2...,E</annotation></semantics></math> <span id="algx1.l13.3" class="ltx_text ltx_font_bold">do</span>



</div>
<div id="algx1.l14" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l14.1.1.1" class="ltx_text" style="font-size:80%;">14:</span></span>           (i) Style shifting according to the Step 2 in Sec. 3.1,

</div>
<div id="algx1.l15" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l15.1.1.1" class="ltx_text" style="font-size:80%;">15:</span></span>           (ii) Style exploration according to the Step 3 and 4 in Sec. 3.1

</div>
<div id="algx1.l16" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l16.1.1.1" class="ltx_text" style="font-size:80%;">16:</span></span>           (iii) Attention based weighted averaging according to Sec. 3.2

</div>
<div id="algx1.l17" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l17.1.1.1" class="ltx_text" style="font-size:80%;">17:</span></span>           Loss computation and model update

</div>
<div id="algx1.l18" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l18.1.1.1" class="ltx_text" style="font-size:80%;">18:</span></span>        <span id="algx1.l18.2" class="ltx_text ltx_font_bold">end</span> <span id="algx1.l18.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="algx1.l19" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l19.1.1.1" class="ltx_text" style="font-size:80%;">19:</span></span>        The server updates the global model by aggregating the client models

</div>
<div id="algx1.l20" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l20.1.1.1" class="ltx_text" style="font-size:80%;">20:</span></span>     <span id="algx1.l20.2" class="ltx_text ltx_font_bold">end</span> <span id="algx1.l20.3" class="ltx_text ltx_font_bold">for</span>
</div>
<div id="algx1.l21" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l21.1.1.1" class="ltx_text" style="font-size:80%;">21:</span></span>     
</div>
<div id="algx1.l22" class="ltx_listingline">
<span class="ltx_tag ltx_tag_listingline"><span id="algx1.l22.1.1.1" class="ltx_text" style="font-size:80%;">22:</span></span>  <span id="algx1.l22.2" class="ltx_text ltx_font_bold">end</span> <span id="algx1.l22.3" class="ltx_text ltx_font_bold">for</span>
</div>
</div>
</div>
</div>
</figure>
<div class="ltx_pagination ltx_role_newpage"></div>
</section>
</article>
</div>
<div class="ar5iv-footer"><a href="/html/2311.00226" class="ar5iv-nav-button ar5iv-nav-button-prev">◄</a>
    <a class="ar5iv-home-button" href="/"><img height="40" alt="ar5iv homepage" src="/assets/ar5iv.png"></a>
    <a href="/feeling_lucky" class="ar5iv-text-button">Feeling<br>lucky?</a>
    <a href="/log/2311.00227" class="ar5iv-text-button ar5iv-severity-ok">Conversion<br>report</a>
    <a class="ar5iv-text-button" target="_blank" href="https://github.com/dginev/ar5iv/issues/new?template=improve-article--arxiv-id-.md&title=Improve+article+2311.00227">Report<br>an issue</a>
    <a href="https://arxiv.org/abs/2311.00227" class="ar5iv-text-button arxiv-ui-theme">View&nbsp;original<br>on&nbsp;arXiv</a><a href="/html/2311.00228" class="ar5iv-nav-button ar5iv-nav-button-next">►</a>
</div><footer class="ltx_page_footer">
<a class="ar5iv-toggle-color-scheme" href="javascript:toggleColorScheme()" title="Toggle ar5iv color scheme"><span class="color-scheme-icon"></span></a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/license" target="_blank">Copyright</a>
<a class="ar5iv-footer-button" href="https://arxiv.org/help/policies/privacy_policy" target="_blank">Privacy Policy</a>

<div class="ltx_page_logo">Generated  on Tue Feb 27 20:54:41 2024 by <a target="_blank" href="http://dlmf.nist.gov/LaTeXML/" class="ltx_LaTeXML_logo"><span style="letter-spacing:-0.2em; margin-right:0.1em;">L<span class="ltx_font_smallcaps" style="position:relative; bottom:2.2pt;">a</span>T<span class="ltx_font_smallcaps" style="font-size:120%;position:relative; bottom:-0.2ex;">e</span></span><span style="font-size:90%; position:relative; bottom:-0.2ex;">XML</span><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAAOCAYAAAD5YeaVAAAAAXNSR0IArs4c6QAAAAZiS0dEAP8A/wD/oL2nkwAAAAlwSFlzAAALEwAACxMBAJqcGAAAAAd0SU1FB9wKExQZLWTEaOUAAAAddEVYdENvbW1lbnQAQ3JlYXRlZCB3aXRoIFRoZSBHSU1Q72QlbgAAAdpJREFUKM9tkL+L2nAARz9fPZNCKFapUn8kyI0e4iRHSR1Kb8ng0lJw6FYHFwv2LwhOpcWxTjeUunYqOmqd6hEoRDhtDWdA8ApRYsSUCDHNt5ul13vz4w0vWCgUnnEc975arX6ORqN3VqtVZbfbTQC4uEHANM3jSqXymFI6yWazP2KxWAXAL9zCUa1Wy2tXVxheKA9YNoR8Pt+aTqe4FVVVvz05O6MBhqUIBGk8Hn8HAOVy+T+XLJfLS4ZhTiRJgqIoVBRFIoric47jPnmeB1mW/9rr9ZpSSn3Lsmir1fJZlqWlUonKsvwWwD8ymc/nXwVBeLjf7xEKhdBut9Hr9WgmkyGEkJwsy5eHG5vN5g0AKIoCAEgkEkin0wQAfN9/cXPdheu6P33fBwB4ngcAcByHJpPJl+fn54mD3Gg0NrquXxeLRQAAwzAYj8cwTZPwPH9/sVg8PXweDAauqqr2cDjEer1GJBLBZDJBs9mE4zjwfZ85lAGg2+06hmGgXq+j3+/DsixYlgVN03a9Xu8jgCNCyIegIAgx13Vfd7vdu+FweG8YRkjXdWy329+dTgeSJD3ieZ7RNO0VAXAPwDEAO5VKndi2fWrb9jWl9Esul6PZbDY9Go1OZ7PZ9z/lyuD3OozU2wAAAABJRU5ErkJggg==" alt="Mascot Sammy"></a>
</div></footer>
</div>

    <script>
      var canMathML = typeof(MathMLElement) == "function";
      if (!canMathML) {
        var body = document.querySelector("body");
        body.firstElementChild.setAttribute('style', 'opacity: 0;');
        var loading = document.createElement("div");
        loading.setAttribute("id", "mathjax-loading-spinner");
        var message = document.createElement("div");
        message.setAttribute("id", "mathjax-loading-message");
        message.innerText = "Typesetting Equations...";
        body.prepend(loading);
        body.prepend(message);

        var el = document.createElement("script");
        el.src = "https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js";
        document.querySelector("head").appendChild(el);

        window.MathJax = {
          startup: {
            pageReady: () => {
              return MathJax.startup.defaultPageReady().then(() => {
                body.removeChild(loading);
                body.removeChild(message);
                body.firstElementChild.removeAttribute('style');
              }); } } };
      }
    </script>
    <script>
    // Auxiliary function, building the preview feature when
    // an inline citation is clicked
    function clicked_cite(e) {
      e.preventDefault();
      let cite = this.closest('.ltx_cite');
      let next = cite.nextSibling;
      if (next && next.nodeType == Node.ELEMENT_NODE && next.getAttribute('class') == "ar5iv-bibitem-preview") {
        next.remove();
        return; }
      // Before adding a preview modal,
      // cleanup older previews, in case they're still open
      document.querySelectorAll('span.ar5iv-bibitem-preview').forEach(function(node) {
        node.remove();
      })

      // Create the preview
      preview = document.createElement('span');
      preview.setAttribute('class','ar5iv-bibitem-preview');
      let target = document.getElementById(this.getAttribute('href').slice(1));
      target.childNodes.forEach(function (child) {
        preview.append(child.cloneNode(true));
      });
      let close_x = document.createElement('button');
      close_x.setAttribute("aria-label","Close modal for bibliography item preview");
      close_x.textContent = "×";
      close_x.setAttribute('class', 'ar5iv-button-close-preview');
      close_x.setAttribute('onclick','this.parentNode.remove()');
      preview.append(close_x);
      preview.querySelectorAll('.ltx_tag_bibitem').forEach(function(node) {
        node.remove();
      });
      cite.parentNode.insertBefore(preview, cite.nextSibling);
      return;
    }
    // Global Document initialization:
    // - assign the preview feature to all inline citation links
    document.querySelectorAll(".ltx_cite .ltx_ref").forEach(function (link) {
      link.addEventListener("click", clicked_cite);
    });
    </script>
    </body>
</html>
